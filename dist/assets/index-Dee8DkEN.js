function p6(a,n){for(var i=0;i<n.length;i++){const o=n[i];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in a)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(a,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function hc(a){if(a.__esModule)return a;var n=a.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var c=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:function(){return a[o]}})}),i}var m6={exports:{}},cu={},v6={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=Symbol.for("react.element"),vj=Symbol.for("react.portal"),xj=Symbol.for("react.fragment"),gj=Symbol.for("react.strict_mode"),bj=Symbol.for("react.profiler"),wj=Symbol.for("react.provider"),yj=Symbol.for("react.context"),Aj=Symbol.for("react.forward_ref"),kj=Symbol.for("react.suspense"),jj=Symbol.for("react.memo"),Sj=Symbol.for("react.lazy"),t4=Symbol.iterator;function Ej(a){return a===null||typeof a!="object"?null:(a=t4&&a[t4]||a["@@iterator"],typeof a=="function"?a:null)}var x6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g6=Object.assign,b6={};function pc(a,n,i){this.props=a,this.context=n,this.refs=b6,this.updater=i||x6}pc.prototype.isReactComponent={};pc.prototype.setState=function(a,n){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,n,"setState")};pc.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function w6(){}w6.prototype=pc.prototype;function S3(a,n,i){this.props=a,this.context=n,this.refs=b6,this.updater=i||x6}var E3=S3.prototype=new w6;E3.constructor=S3;g6(E3,pc.prototype);E3.isPureReactComponent=!0;var r4=Array.isArray,y6=Object.prototype.hasOwnProperty,N3={current:null},A6={key:!0,ref:!0,__self:!0,__source:!0};function k6(a,n,i){var o,c={},d=null,f=null;if(n!=null)for(o in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(d=""+n.key),n)y6.call(n,o)&&!A6.hasOwnProperty(o)&&(c[o]=n[o]);var h=arguments.length-2;if(h===1)c.children=i;else if(1<h){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];c.children=p}if(a&&a.defaultProps)for(o in h=a.defaultProps,h)c[o]===void 0&&(c[o]=h[o]);return{$$typeof:X0,type:a,key:d,ref:f,props:c,_owner:N3.current}}function Nj(a,n){return{$$typeof:X0,type:a.type,key:n,ref:a.ref,props:a.props,_owner:a._owner}}function C3(a){return typeof a=="object"&&a!==null&&a.$$typeof===X0}function Cj(a){var n={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(i){return n[i]})}var a4=/\/+/g;function If(a,n){return typeof a=="object"&&a!==null&&a.key!=null?Cj(""+a.key):n.toString(36)}function ed(a,n,i,o,c){var d=typeof a;(d==="undefined"||d==="boolean")&&(a=null);var f=!1;if(a===null)f=!0;else switch(d){case"string":case"number":f=!0;break;case"object":switch(a.$$typeof){case X0:case vj:f=!0}}if(f)return f=a,c=c(f),a=o===""?"."+If(f,0):o,r4(c)?(i="",a!=null&&(i=a.replace(a4,"$&/")+"/"),ed(c,n,i,"",function(m){return m})):c!=null&&(C3(c)&&(c=Nj(c,i+(!c.key||f&&f.key===c.key?"":(""+c.key).replace(a4,"$&/")+"/")+a)),n.push(c)),1;if(f=0,o=o===""?".":o+":",r4(a))for(var h=0;h<a.length;h++){d=a[h];var p=o+If(d,h);f+=ed(d,n,i,p,c)}else if(p=Ej(a),typeof p=="function")for(a=p.call(a),h=0;!(d=a.next()).done;)d=d.value,p=o+If(d,h++),f+=ed(d,n,i,p,c);else if(d==="object")throw n=String(a),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function S2(a,n,i){if(a==null)return a;var o=[],c=0;return ed(a,o,"","",function(d){return n.call(i,d,c++)}),o}function Ij(a){if(a._status===-1){var n=a._result;n=n(),n.then(function(i){(a._status===0||a._status===-1)&&(a._status=1,a._result=i)},function(i){(a._status===0||a._status===-1)&&(a._status=2,a._result=i)}),a._status===-1&&(a._status=0,a._result=n)}if(a._status===1)return a._result.default;throw a._result}var Kn={current:null},td={transition:null},Bj={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:td,ReactCurrentOwner:N3};function j6(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:S2,forEach:function(a,n,i){S2(a,function(){n.apply(this,arguments)},i)},count:function(a){var n=0;return S2(a,function(){n++}),n},toArray:function(a){return S2(a,function(n){return n})||[]},only:function(a){if(!C3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Lr.Component=pc;Lr.Fragment=xj;Lr.Profiler=bj;Lr.PureComponent=S3;Lr.StrictMode=gj;Lr.Suspense=kj;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bj;Lr.act=j6;Lr.cloneElement=function(a,n,i){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var o=g6({},a.props),c=a.key,d=a.ref,f=a._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,f=N3.current),n.key!==void 0&&(c=""+n.key),a.type&&a.type.defaultProps)var h=a.type.defaultProps;for(p in n)y6.call(n,p)&&!A6.hasOwnProperty(p)&&(o[p]=n[p]===void 0&&h!==void 0?h[p]:n[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){h=Array(p);for(var m=0;m<p;m++)h[m]=arguments[m+2];o.children=h}return{$$typeof:X0,type:a.type,key:c,ref:d,props:o,_owner:f}};Lr.createContext=function(a){return a={$$typeof:yj,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:wj,_context:a},a.Consumer=a};Lr.createElement=k6;Lr.createFactory=function(a){var n=k6.bind(null,a);return n.type=a,n};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(a){return{$$typeof:Aj,render:a}};Lr.isValidElement=C3;Lr.lazy=function(a){return{$$typeof:Sj,_payload:{_status:-1,_result:a},_init:Ij}};Lr.memo=function(a,n){return{$$typeof:jj,type:a,compare:n===void 0?null:n}};Lr.startTransition=function(a){var n=td.transition;td.transition={};try{a()}finally{td.transition=n}};Lr.unstable_act=j6;Lr.useCallback=function(a,n){return Kn.current.useCallback(a,n)};Lr.useContext=function(a){return Kn.current.useContext(a)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(a){return Kn.current.useDeferredValue(a)};Lr.useEffect=function(a,n){return Kn.current.useEffect(a,n)};Lr.useId=function(){return Kn.current.useId()};Lr.useImperativeHandle=function(a,n,i){return Kn.current.useImperativeHandle(a,n,i)};Lr.useInsertionEffect=function(a,n){return Kn.current.useInsertionEffect(a,n)};Lr.useLayoutEffect=function(a,n){return Kn.current.useLayoutEffect(a,n)};Lr.useMemo=function(a,n){return Kn.current.useMemo(a,n)};Lr.useReducer=function(a,n,i){return Kn.current.useReducer(a,n,i)};Lr.useRef=function(a){return Kn.current.useRef(a)};Lr.useState=function(a){return Kn.current.useState(a)};Lr.useSyncExternalStore=function(a,n,i){return Kn.current.useSyncExternalStore(a,n,i)};Lr.useTransition=function(){return Kn.current.useTransition()};Lr.version="18.3.1";v6.exports=Lr;var ce=v6.exports;const I3=lu(ce),Dj=p6({__proto__:null,default:I3},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj=ce,Tj=Symbol.for("react.element"),Mj=Symbol.for("react.fragment"),Fj=Object.prototype.hasOwnProperty,_j=Rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pj={key:!0,ref:!0,__self:!0,__source:!0};function S6(a,n,i){var o,c={},d=null,f=null;i!==void 0&&(d=""+i),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(f=n.ref);for(o in n)Fj.call(n,o)&&!Pj.hasOwnProperty(o)&&(c[o]=n[o]);if(a&&a.defaultProps)for(o in n=a.defaultProps,n)c[o]===void 0&&(c[o]=n[o]);return{$$typeof:Tj,type:a,key:d,ref:f,props:c,_owner:_j.current}}cu.Fragment=Mj;cu.jsx=S6;cu.jsxs=S6;m6.exports=cu;var u=m6.exports,Xh={},E6={exports:{}},k1={},N6={exports:{}},C6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function n(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var te=de-1>>>1,ae=G[te];if(0<c(ae,ne))G[te]=ne,G[de]=ae,de=te;else break e}}function i(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var te=0,ae=G.length,ie=ae>>>1;te<ie;){var oe=2*(te+1)-1,De=G[oe],Ne=oe+1,Le=G[Ne];if(0>c(De,de))Ne<ae&&0>c(Le,De)?(G[te]=Le,G[Ne]=de,te=Ne):(G[te]=De,G[oe]=de,te=oe);else if(Ne<ae&&0>c(Le,de))G[te]=Le,G[Ne]=de,te=Ne;else break e}}return ne}function c(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],m=[],v=1,w=null,y=3,x=!1,g=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var ne=i(m);ne!==null;){if(ne.callback===null)o(m);else if(ne.startTime<=G)o(m),ne.sortIndex=ne.expirationTime,n(p,ne);else break;ne=i(m)}}function B(G){if(A=!1,E(G),!g)if(i(p)!==null)g=!0,ue(I);else{var ne=i(m);ne!==null&&W(B,ne.startTime-G)}}function I(G,ne){g=!1,A&&(A=!1,C(T),T=-1),x=!0;var de=y;try{for(E(ne),w=i(p);w!==null&&(!(w.expirationTime>ne)||G&&!F());){var te=w.callback;if(typeof te=="function"){w.callback=null,y=w.priorityLevel;var ae=te(w.expirationTime<=ne);ne=a.unstable_now(),typeof ae=="function"?w.callback=ae:w===i(p)&&o(p),E(ne)}else o(p);w=i(p)}if(w!==null)var ie=!0;else{var oe=i(m);oe!==null&&W(B,oe.startTime-ne),ie=!1}return ie}finally{w=null,y=de,x=!1}}var D=!1,M=null,T=-1,H=5,_=-1;function F(){return!(a.unstable_now()-_<H)}function Q(){if(M!==null){var G=a.unstable_now();_=G;var ne=!0;try{ne=M(!0,G)}finally{ne?L():(D=!1,M=null)}}else D=!1}var L;if(typeof k=="function")L=function(){k(Q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,se=ee.port2;ee.port1.onmessage=Q,L=function(){se.postMessage(null)}}else L=function(){j(Q,0)};function ue(G){M=G,D||(D=!0,L())}function W(G,ne){T=j(function(){G(a.unstable_now())},ne)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_continueExecution=function(){g||x||(g=!0,ue(I))},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var de=y;y=ne;try{return G()}finally{y=de}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=y;y=G;try{return ne()}finally{y=de}},a.unstable_scheduleCallback=function(G,ne,de){var te=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?te+de:te):de=te,G){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=de+ae,G={id:v++,callback:ne,priorityLevel:G,startTime:de,expirationTime:ae,sortIndex:-1},de>te?(G.sortIndex=de,n(m,G),i(p)===null&&G===i(m)&&(A?(C(T),T=-1):A=!0,W(B,de-te))):(G.sortIndex=ae,n(p,G),g||x||(g=!0,ue(I))),G},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(G){var ne=y;return function(){var de=y;y=ne;try{return G.apply(this,arguments)}finally{y=de}}}})(C6);N6.exports=C6;var Oj=N6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj=ce,A1=Oj;function ct(a){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+a,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I6=new Set,E0={};function al(a,n){Wl(a,n),Wl(a+"Capture",n)}function Wl(a,n){for(E0[a]=n,a=0;a<n.length;a++)I6.add(n[a])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zh=Object.prototype.hasOwnProperty,zj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s4={},n4={};function Lj(a){return Zh.call(n4,a)?!0:Zh.call(s4,a)?!1:zj.test(a)?n4[a]=!0:(s4[a]=!0,!1)}function Qj(a,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function Hj(a,n,i,o){if(n===null||typeof n>"u"||Qj(a,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Wn(a,n,i,o,c,d,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=a,this.type=n,this.sanitizeURL=d,this.removeEmptyString=f}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){En[a]=new Wn(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var n=a[0];En[n]=new Wn(n,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){En[a]=new Wn(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){En[a]=new Wn(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){En[a]=new Wn(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){En[a]=new Wn(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){En[a]=new Wn(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){En[a]=new Wn(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){En[a]=new Wn(a,5,!1,a.toLowerCase(),null,!1,!1)});var B3=/[\-:]([a-z])/g;function D3(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var n=a.replace(B3,D3);En[n]=new Wn(n,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var n=a.replace(B3,D3);En[n]=new Wn(n,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var n=a.replace(B3,D3);En[n]=new Wn(n,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){En[a]=new Wn(a,1,!1,a.toLowerCase(),null,!1,!1)});En.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){En[a]=new Wn(a,1,!1,a.toLowerCase(),null,!0,!0)});function R3(a,n,i,o){var c=En.hasOwnProperty(n)?En[n]:null;(c!==null?c.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Hj(n,i,c,o)&&(i=null),o||c===null?Lj(n)&&(i===null?a.removeAttribute(n):a.setAttribute(n,""+i)):c.mustUseProperty?a[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,o=c.attributeNamespace,i===null?a.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?a.setAttributeNS(o,n,i):a.setAttribute(n,i))))}var _i=Uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E2=Symbol.for("react.element"),jl=Symbol.for("react.portal"),Sl=Symbol.for("react.fragment"),T3=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),B6=Symbol.for("react.provider"),D6=Symbol.for("react.context"),M3=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),F3=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),R6=Symbol.for("react.offscreen"),i4=Symbol.iterator;function e0(a){return a===null||typeof a!="object"?null:(a=i4&&a[i4]||a["@@iterator"],typeof a=="function"?a:null)}var Es=Object.assign,Bf;function d0(a){if(Bf===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Bf=n&&n[1]||""}return`
`+Bf+a}var Df=!1;function Rf(a,n){if(!a||Df)return"";Df=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var o=m}Reflect.construct(a,[],n)}else{try{n.call()}catch(m){o=m}a.call(n.prototype)}else{try{throw Error()}catch(m){o=m}a()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var c=m.stack.split(`
`),d=o.stack.split(`
`),f=c.length-1,h=d.length-1;1<=f&&0<=h&&c[f]!==d[h];)h--;for(;1<=f&&0<=h;f--,h--)if(c[f]!==d[h]){if(f!==1||h!==1)do if(f--,h--,0>h||c[f]!==d[h]){var p=`
`+c[f].replace(" at new "," at ");return a.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",a.displayName)),p}while(1<=f&&0<=h);break}}}finally{Df=!1,Error.prepareStackTrace=i}return(a=a?a.displayName||a.name:"")?d0(a):""}function $j(a){switch(a.tag){case 5:return d0(a.type);case 16:return d0("Lazy");case 13:return d0("Suspense");case 19:return d0("SuspenseList");case 0:case 2:case 15:return a=Rf(a.type,!1),a;case 11:return a=Rf(a.type.render,!1),a;case 1:return a=Rf(a.type,!0),a;default:return""}}function ap(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Sl:return"Fragment";case jl:return"Portal";case ep:return"Profiler";case T3:return"StrictMode";case tp:return"Suspense";case rp:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D6:return(a.displayName||"Context")+".Consumer";case B6:return(a._context.displayName||"Context")+".Provider";case M3:var n=a.render;return a=a.displayName,a||(a=n.displayName||n.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F3:return n=a.displayName||null,n!==null?n:ap(a.type)||"Memo";case qi:n=a._payload,a=a._init;try{return ap(a(n))}catch{}}return null}function qj(a){var n=a.type;switch(a.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=n.render,a=a.displayName||a.name||"",n.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(n);case 8:return n===T3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function uo(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function T6(a){var n=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gj(a){var n=T6(a)?"checked":"value",i=Object.getOwnPropertyDescriptor(a.constructor.prototype,n),o=""+a[n];if(!a.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(a,n,{configurable:!0,get:function(){return c.call(this)},set:function(f){o=""+f,d.call(this,f)}}),Object.defineProperty(a,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){a._valueTracker=null,delete a[n]}}}}function N2(a){a._valueTracker||(a._valueTracker=Gj(a))}function M6(a){if(!a)return!1;var n=a._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return a&&(o=T6(a)?a.checked?"true":"false":a.value),a=o,a!==i?(n.setValue(a),!0):!1}function bd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function sp(a,n){var i=n.checked;return Es({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??a._wrapperState.initialChecked})}function o4(a,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=uo(n.value!=null?n.value:i),a._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function F6(a,n){n=n.checked,n!=null&&R3(a,"checked",n,!1)}function np(a,n){F6(a,n);var i=uo(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+i):a.value!==""+i&&(a.value=""+i);else if(o==="submit"||o==="reset"){a.removeAttribute("value");return}n.hasOwnProperty("value")?ip(a,n.type,i):n.hasOwnProperty("defaultValue")&&ip(a,n.type,uo(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(a.defaultChecked=!!n.defaultChecked)}function l4(a,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+a._wrapperState.initialValue,i||n===a.value||(a.value=n),a.defaultValue=n}i=a.name,i!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,i!==""&&(a.name=i)}function ip(a,n,i){(n!=="number"||bd(a.ownerDocument)!==a)&&(i==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+i&&(a.defaultValue=""+i))}var u0=Array.isArray;function Pl(a,n,i,o){if(a=a.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<a.length;i++)c=n.hasOwnProperty("$"+a[i].value),a[i].selected!==c&&(a[i].selected=c),c&&o&&(a[i].defaultSelected=!0)}else{for(i=""+uo(i),n=null,c=0;c<a.length;c++){if(a[c].value===i){a[c].selected=!0,o&&(a[c].defaultSelected=!0);return}n!==null||a[c].disabled||(n=a[c])}n!==null&&(n.selected=!0)}}function op(a,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Es({},n,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function c4(a,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ct(92));if(u0(i)){if(1<i.length)throw Error(ct(93));i=i[0]}n=i}n==null&&(n=""),i=n}a._wrapperState={initialValue:uo(i)}}function _6(a,n){var i=uo(n.value),o=uo(n.defaultValue);i!=null&&(i=""+i,i!==a.value&&(a.value=i),n.defaultValue==null&&a.defaultValue!==i&&(a.defaultValue=i)),o!=null&&(a.defaultValue=""+o)}function d4(a){var n=a.textContent;n===a._wrapperState.initialValue&&n!==""&&n!==null&&(a.value=n)}function P6(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(a,n){return a==null||a==="http://www.w3.org/1999/xhtml"?P6(n):a==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var C2,O6=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,c){MSApp.execUnsafeLocalFunction(function(){return a(n,i,o,c)})}:a}(function(a,n){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=n;else{for(C2=C2||document.createElement("div"),C2.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=C2.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;n.firstChild;)a.appendChild(n.firstChild)}});function N0(a,n){if(n){var i=a.firstChild;if(i&&i===a.lastChild&&i.nodeType===3){i.nodeValue=n;return}}a.textContent=n}var x0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yj=["Webkit","ms","Moz","O"];Object.keys(x0).forEach(function(a){Yj.forEach(function(n){n=n+a.charAt(0).toUpperCase()+a.substring(1),x0[n]=x0[a]})});function U6(a,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||x0.hasOwnProperty(a)&&x0[a]?(""+n).trim():n+"px"}function z6(a,n){a=a.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=U6(i,n[i],o);i==="float"&&(i="cssFloat"),o?a.setProperty(i,c):a[i]=c}}var Vj=Es({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(a,n){if(n){if(Vj[a]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ct(137,a));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ct(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ct(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ct(62))}}function dp(a,n){if(a.indexOf("-")===-1)return typeof n.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function _3(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fp=null,Ol=null,Ul=null;function u4(a){if(a=t2(a)){if(typeof fp!="function")throw Error(ct(280));var n=a.stateNode;n&&(n=pu(n),fp(a.stateNode,a.type,n))}}function L6(a){Ol?Ul?Ul.push(a):Ul=[a]:Ol=a}function Q6(){if(Ol){var a=Ol,n=Ul;if(Ul=Ol=null,u4(a),n)for(a=0;a<n.length;a++)u4(n[a])}}function H6(a,n){return a(n)}function $6(){}var Tf=!1;function q6(a,n,i){if(Tf)return a(n,i);Tf=!0;try{return H6(a,n,i)}finally{Tf=!1,(Ol!==null||Ul!==null)&&($6(),Q6())}}function C0(a,n){var i=a.stateNode;if(i===null)return null;var o=pu(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(a=a.type,o=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!o;break e;default:a=!1}if(a)return null;if(i&&typeof i!="function")throw Error(ct(231,n,typeof i));return i}var hp=!1;if(Ri)try{var t0={};Object.defineProperty(t0,"passive",{get:function(){hp=!0}}),window.addEventListener("test",t0,t0),window.removeEventListener("test",t0,t0)}catch{hp=!1}function Kj(a,n,i,o,c,d,f,h,p){var m=Array.prototype.slice.call(arguments,3);try{n.apply(i,m)}catch(v){this.onError(v)}}var g0=!1,wd=null,yd=!1,pp=null,Wj={onError:function(a){g0=!0,wd=a}};function Jj(a,n,i,o,c,d,f,h,p){g0=!1,wd=null,Kj.apply(Wj,arguments)}function Xj(a,n,i,o,c,d,f,h,p){if(Jj.apply(this,arguments),g0){if(g0){var m=wd;g0=!1,wd=null}else throw Error(ct(198));yd||(yd=!0,pp=m)}}function sl(a){var n=a,i=a;if(a.alternate)for(;n.return;)n=n.return;else{a=n;do n=a,n.flags&4098&&(i=n.return),a=n.return;while(a)}return n.tag===3?i:null}function G6(a){if(a.tag===13){var n=a.memoizedState;if(n===null&&(a=a.alternate,a!==null&&(n=a.memoizedState)),n!==null)return n.dehydrated}return null}function f4(a){if(sl(a)!==a)throw Error(ct(188))}function Zj(a){var n=a.alternate;if(!n){if(n=sl(a),n===null)throw Error(ct(188));return n!==a?null:a}for(var i=a,o=n;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return f4(c),a;if(d===o)return f4(c),n;d=d.sibling}throw Error(ct(188))}if(i.return!==o.return)i=c,o=d;else{for(var f=!1,h=c.child;h;){if(h===i){f=!0,i=c,o=d;break}if(h===o){f=!0,o=c,i=d;break}h=h.sibling}if(!f){for(h=d.child;h;){if(h===i){f=!0,i=d,o=c;break}if(h===o){f=!0,o=d,i=c;break}h=h.sibling}if(!f)throw Error(ct(189))}}if(i.alternate!==o)throw Error(ct(190))}if(i.tag!==3)throw Error(ct(188));return i.stateNode.current===i?a:n}function Y6(a){return a=Zj(a),a!==null?V6(a):null}function V6(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var n=V6(a);if(n!==null)return n;a=a.sibling}return null}var K6=A1.unstable_scheduleCallback,h4=A1.unstable_cancelCallback,eS=A1.unstable_shouldYield,tS=A1.unstable_requestPaint,Os=A1.unstable_now,rS=A1.unstable_getCurrentPriorityLevel,P3=A1.unstable_ImmediatePriority,W6=A1.unstable_UserBlockingPriority,Ad=A1.unstable_NormalPriority,aS=A1.unstable_LowPriority,J6=A1.unstable_IdlePriority,du=null,mi=null;function sS(a){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(du,a,void 0,(a.current.flags&128)===128)}catch{}}var K1=Math.clz32?Math.clz32:oS,nS=Math.log,iS=Math.LN2;function oS(a){return a>>>=0,a===0?32:31-(nS(a)/iS|0)|0}var I2=64,B2=4194304;function f0(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function kd(a,n){var i=a.pendingLanes;if(i===0)return 0;var o=0,c=a.suspendedLanes,d=a.pingedLanes,f=i&268435455;if(f!==0){var h=f&~c;h!==0?o=f0(h):(d&=f,d!==0&&(o=f0(d)))}else f=i&~c,f!==0?o=f0(f):d!==0&&(o=f0(d));if(o===0)return 0;if(n!==0&&n!==o&&!(n&c)&&(c=o&-o,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(o&4&&(o|=i&16),n=a.entangledLanes,n!==0)for(a=a.entanglements,n&=o;0<n;)i=31-K1(n),c=1<<i,o|=a[i],n&=~c;return o}function lS(a,n){switch(a){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cS(a,n){for(var i=a.suspendedLanes,o=a.pingedLanes,c=a.expirationTimes,d=a.pendingLanes;0<d;){var f=31-K1(d),h=1<<f,p=c[f];p===-1?(!(h&i)||h&o)&&(c[f]=lS(h,n)):p<=n&&(a.expiredLanes|=h),d&=~h}}function mp(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function X6(){var a=I2;return I2<<=1,!(I2&4194240)&&(I2=64),a}function Mf(a){for(var n=[],i=0;31>i;i++)n.push(a);return n}function Z0(a,n,i){a.pendingLanes|=n,n!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,n=31-K1(n),a[n]=i}function dS(a,n){var i=a.pendingLanes&~n;a.pendingLanes=n,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=n,a.mutableReadLanes&=n,a.entangledLanes&=n,n=a.entanglements;var o=a.eventTimes;for(a=a.expirationTimes;0<i;){var c=31-K1(i),d=1<<c;n[c]=0,o[c]=-1,a[c]=-1,i&=~d}}function O3(a,n){var i=a.entangledLanes|=n;for(a=a.entanglements;i;){var o=31-K1(i),c=1<<o;c&n|a[o]&n&&(a[o]|=n),i&=~c}}var Na=0;function Z6(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var e8,U3,t8,r8,a8,vp=!1,D2=[],eo=null,to=null,ro=null,I0=new Map,B0=new Map,Yi=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p4(a,n){switch(a){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":I0.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":B0.delete(n.pointerId)}}function r0(a,n,i,o,c,d){return a===null||a.nativeEvent!==d?(a={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},n!==null&&(n=t2(n),n!==null&&U3(n)),a):(a.eventSystemFlags|=o,n=a.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),a)}function fS(a,n,i,o,c){switch(n){case"focusin":return eo=r0(eo,a,n,i,o,c),!0;case"dragenter":return to=r0(to,a,n,i,o,c),!0;case"mouseover":return ro=r0(ro,a,n,i,o,c),!0;case"pointerover":var d=c.pointerId;return I0.set(d,r0(I0.get(d)||null,a,n,i,o,c)),!0;case"gotpointercapture":return d=c.pointerId,B0.set(d,r0(B0.get(d)||null,a,n,i,o,c)),!0}return!1}function s8(a){var n=zo(a.target);if(n!==null){var i=sl(n);if(i!==null){if(n=i.tag,n===13){if(n=G6(i),n!==null){a.blockedOn=n,a8(a.priority,function(){t8(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){a.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}a.blockedOn=null}function rd(a){if(a.blockedOn!==null)return!1;for(var n=a.targetContainers;0<n.length;){var i=xp(a.domEventName,a.eventSystemFlags,n[0],a.nativeEvent);if(i===null){i=a.nativeEvent;var o=new i.constructor(i.type,i);up=o,i.target.dispatchEvent(o),up=null}else return n=t2(i),n!==null&&U3(n),a.blockedOn=i,!1;n.shift()}return!0}function m4(a,n,i){rd(a)&&i.delete(n)}function hS(){vp=!1,eo!==null&&rd(eo)&&(eo=null),to!==null&&rd(to)&&(to=null),ro!==null&&rd(ro)&&(ro=null),I0.forEach(m4),B0.forEach(m4)}function a0(a,n){a.blockedOn===n&&(a.blockedOn=null,vp||(vp=!0,A1.unstable_scheduleCallback(A1.unstable_NormalPriority,hS)))}function D0(a){function n(c){return a0(c,a)}if(0<D2.length){a0(D2[0],a);for(var i=1;i<D2.length;i++){var o=D2[i];o.blockedOn===a&&(o.blockedOn=null)}}for(eo!==null&&a0(eo,a),to!==null&&a0(to,a),ro!==null&&a0(ro,a),I0.forEach(n),B0.forEach(n),i=0;i<Yi.length;i++)o=Yi[i],o.blockedOn===a&&(o.blockedOn=null);for(;0<Yi.length&&(i=Yi[0],i.blockedOn===null);)s8(i),i.blockedOn===null&&Yi.shift()}var zl=_i.ReactCurrentBatchConfig,jd=!0;function pS(a,n,i,o){var c=Na,d=zl.transition;zl.transition=null;try{Na=1,z3(a,n,i,o)}finally{Na=c,zl.transition=d}}function mS(a,n,i,o){var c=Na,d=zl.transition;zl.transition=null;try{Na=4,z3(a,n,i,o)}finally{Na=c,zl.transition=d}}function z3(a,n,i,o){if(jd){var c=xp(a,n,i,o);if(c===null)$f(a,n,o,Sd,i),p4(a,o);else if(fS(c,a,n,i,o))o.stopPropagation();else if(p4(a,o),n&4&&-1<uS.indexOf(a)){for(;c!==null;){var d=t2(c);if(d!==null&&e8(d),d=xp(a,n,i,o),d===null&&$f(a,n,o,Sd,i),d===c)break;c=d}c!==null&&o.stopPropagation()}else $f(a,n,o,null,i)}}var Sd=null;function xp(a,n,i,o){if(Sd=null,a=_3(o),a=zo(a),a!==null)if(n=sl(a),n===null)a=null;else if(i=n.tag,i===13){if(a=G6(n),a!==null)return a;a=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;a=null}else n!==a&&(a=null);return Sd=a,null}function n8(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rS()){case P3:return 1;case W6:return 4;case Ad:case aS:return 16;case J6:return 536870912;default:return 16}default:return 16}}var Ji=null,L3=null,ad=null;function i8(){if(ad)return ad;var a,n=L3,i=n.length,o,c="value"in Ji?Ji.value:Ji.textContent,d=c.length;for(a=0;a<i&&n[a]===c[a];a++);var f=i-a;for(o=1;o<=f&&n[i-o]===c[d-o];o++);return ad=c.slice(a,1<o?1-o:void 0)}function sd(a){var n=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&n===13&&(a=13)):a=n,a===10&&(a=13),32<=a||a===13?a:0}function R2(){return!0}function v4(){return!1}function j1(a){function n(i,o,c,d,f){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var h in a)a.hasOwnProperty(h)&&(i=a[h],this[h]=i?i(d):d[h]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?R2:v4,this.isPropagationStopped=v4,this}return Es(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=R2)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=R2)},persist:function(){},isPersistent:R2}),n}var mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q3=j1(mc),e2=Es({},mc,{view:0,detail:0}),vS=j1(e2),Ff,_f,s0,uu=Es({},e2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H3,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==s0&&(s0&&a.type==="mousemove"?(Ff=a.screenX-s0.screenX,_f=a.screenY-s0.screenY):_f=Ff=0,s0=a),Ff)},movementY:function(a){return"movementY"in a?a.movementY:_f}}),x4=j1(uu),xS=Es({},uu,{dataTransfer:0}),gS=j1(xS),bS=Es({},e2,{relatedTarget:0}),Pf=j1(bS),wS=Es({},mc,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=j1(wS),AS=Es({},mc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kS=j1(AS),jS=Es({},mc,{data:0}),g4=j1(jS),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CS(a){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(a):(a=NS[a])?!!n[a]:!1}function H3(){return CS}var IS=Es({},e2,{key:function(a){if(a.key){var n=SS[a.key]||a.key;if(n!=="Unidentified")return n}return a.type==="keypress"?(a=sd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ES[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H3,charCode:function(a){return a.type==="keypress"?sd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?sd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),BS=j1(IS),DS=Es({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b4=j1(DS),RS=Es({},e2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H3}),TS=j1(RS),MS=Es({},mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=j1(MS),_S=Es({},uu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=j1(_S),OS=[9,13,27,32],$3=Ri&&"CompositionEvent"in window,b0=null;Ri&&"documentMode"in document&&(b0=document.documentMode);var US=Ri&&"TextEvent"in window&&!b0,o8=Ri&&(!$3||b0&&8<b0&&11>=b0),w4=" ",y4=!1;function l8(a,n){switch(a){case"keyup":return OS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c8(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var El=!1;function zS(a,n){switch(a){case"compositionend":return c8(n);case"keypress":return n.which!==32?null:(y4=!0,w4);case"textInput":return a=n.data,a===w4&&y4?null:a;default:return null}}function LS(a,n){if(El)return a==="compositionend"||!$3&&l8(a,n)?(a=i8(),ad=L3=Ji=null,El=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return o8&&n.locale!=="ko"?null:n.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A4(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n==="input"?!!QS[a.type]:n==="textarea"}function d8(a,n,i,o){L6(o),n=Ed(n,"onChange"),0<n.length&&(i=new Q3("onChange","change",null,i,o),a.push({event:i,listeners:n}))}var w0=null,R0=null;function HS(a){y8(a,0)}function fu(a){var n=Il(a);if(M6(n))return a}function $S(a,n){if(a==="change")return n}var u8=!1;if(Ri){var Of;if(Ri){var Uf="oninput"in document;if(!Uf){var k4=document.createElement("div");k4.setAttribute("oninput","return;"),Uf=typeof k4.oninput=="function"}Of=Uf}else Of=!1;u8=Of&&(!document.documentMode||9<document.documentMode)}function j4(){w0&&(w0.detachEvent("onpropertychange",f8),R0=w0=null)}function f8(a){if(a.propertyName==="value"&&fu(R0)){var n=[];d8(n,R0,a,_3(a)),q6(HS,n)}}function qS(a,n,i){a==="focusin"?(j4(),w0=n,R0=i,w0.attachEvent("onpropertychange",f8)):a==="focusout"&&j4()}function GS(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fu(R0)}function YS(a,n){if(a==="click")return fu(n)}function VS(a,n){if(a==="input"||a==="change")return fu(n)}function KS(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var J1=typeof Object.is=="function"?Object.is:KS;function T0(a,n){if(J1(a,n))return!0;if(typeof a!="object"||a===null||typeof n!="object"||n===null)return!1;var i=Object.keys(a),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!Zh.call(n,c)||!J1(a[c],n[c]))return!1}return!0}function S4(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function E4(a,n){var i=S4(a);a=0;for(var o;i;){if(i.nodeType===3){if(o=a+i.textContent.length,a<=n&&o>=n)return{node:i,offset:n-a};a=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=S4(i)}}function h8(a,n){return a&&n?a===n?!0:a&&a.nodeType===3?!1:n&&n.nodeType===3?h8(a,n.parentNode):"contains"in a?a.contains(n):a.compareDocumentPosition?!!(a.compareDocumentPosition(n)&16):!1:!1}function p8(){for(var a=window,n=bd();n instanceof a.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)a=n.contentWindow;else break;n=bd(a.document)}return n}function q3(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n&&(n==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||n==="textarea"||a.contentEditable==="true")}function WS(a){var n=p8(),i=a.focusedElem,o=a.selectionRange;if(n!==i&&i&&i.ownerDocument&&h8(i.ownerDocument.documentElement,i)){if(o!==null&&q3(i)){if(n=o.start,a=o.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var c=i.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!a.extend&&d>o&&(c=o,o=d,d=c),c=E4(i,d);var f=E4(i,o);c&&f&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==f.node||a.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),a.removeAllRanges(),d>o?(a.addRange(n),a.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var JS=Ri&&"documentMode"in document&&11>=document.documentMode,Nl=null,gp=null,y0=null,bp=!1;function N4(a,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;bp||Nl==null||Nl!==bd(o)||(o=Nl,"selectionStart"in o&&q3(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),y0&&T0(y0,o)||(y0=o,o=Ed(gp,"onSelect"),0<o.length&&(n=new Q3("onSelect","select",null,n,i),a.push({event:n,listeners:o}),n.target=Nl)))}function T2(a,n){var i={};return i[a.toLowerCase()]=n.toLowerCase(),i["Webkit"+a]="webkit"+n,i["Moz"+a]="moz"+n,i}var Cl={animationend:T2("Animation","AnimationEnd"),animationiteration:T2("Animation","AnimationIteration"),animationstart:T2("Animation","AnimationStart"),transitionend:T2("Transition","TransitionEnd")},zf={},m8={};Ri&&(m8=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function hu(a){if(zf[a])return zf[a];if(!Cl[a])return a;var n=Cl[a],i;for(i in n)if(n.hasOwnProperty(i)&&i in m8)return zf[a]=n[i];return a}var v8=hu("animationend"),x8=hu("animationiteration"),g8=hu("animationstart"),b8=hu("transitionend"),w8=new Map,C4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(a,n){w8.set(a,n),al(n,[a])}for(var Lf=0;Lf<C4.length;Lf++){var Qf=C4[Lf],XS=Qf.toLowerCase(),ZS=Qf[0].toUpperCase()+Qf.slice(1);mo(XS,"on"+ZS)}mo(v8,"onAnimationEnd");mo(x8,"onAnimationIteration");mo(g8,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(b8,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var h0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("cancel close invalid load scroll toggle".split(" ").concat(h0));function I4(a,n,i){var o=a.type||"unknown-event";a.currentTarget=i,Xj(o,n,void 0,a),a.currentTarget=null}function y8(a,n){n=(n&4)!==0;for(var i=0;i<a.length;i++){var o=a[i],c=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var f=o.length-1;0<=f;f--){var h=o[f],p=h.instance,m=h.currentTarget;if(h=h.listener,p!==d&&c.isPropagationStopped())break e;I4(c,h,m),d=p}else for(f=0;f<o.length;f++){if(h=o[f],p=h.instance,m=h.currentTarget,h=h.listener,p!==d&&c.isPropagationStopped())break e;I4(c,h,m),d=p}}}if(yd)throw a=pp,yd=!1,pp=null,a}function ss(a,n){var i=n[jp];i===void 0&&(i=n[jp]=new Set);var o=a+"__bubble";i.has(o)||(A8(n,a,2,!1),i.add(o))}function Hf(a,n,i){var o=0;n&&(o|=4),A8(i,a,o,n)}var M2="_reactListening"+Math.random().toString(36).slice(2);function M0(a){if(!a[M2]){a[M2]=!0,I6.forEach(function(i){i!=="selectionchange"&&(eE.has(i)||Hf(i,!1,a),Hf(i,!0,a))});var n=a.nodeType===9?a:a.ownerDocument;n===null||n[M2]||(n[M2]=!0,Hf("selectionchange",!1,n))}}function A8(a,n,i,o){switch(n8(n)){case 1:var c=pS;break;case 4:c=mS;break;default:c=z3}i=c.bind(null,n,i,a),c=void 0,!hp||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?a.addEventListener(n,i,{capture:!0,passive:c}):a.addEventListener(n,i,!0):c!==void 0?a.addEventListener(n,i,{passive:c}):a.addEventListener(n,i,!1)}function $f(a,n,i,o,c){var d=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var h=o.stateNode.containerInfo;if(h===c||h.nodeType===8&&h.parentNode===c)break;if(f===4)for(f=o.return;f!==null;){var p=f.tag;if((p===3||p===4)&&(p=f.stateNode.containerInfo,p===c||p.nodeType===8&&p.parentNode===c))return;f=f.return}for(;h!==null;){if(f=zo(h),f===null)return;if(p=f.tag,p===5||p===6){o=d=f;continue e}h=h.parentNode}}o=o.return}q6(function(){var m=d,v=_3(i),w=[];e:{var y=w8.get(a);if(y!==void 0){var x=Q3,g=a;switch(a){case"keypress":if(sd(i)===0)break e;case"keydown":case"keyup":x=BS;break;case"focusin":g="focus",x=Pf;break;case"focusout":g="blur",x=Pf;break;case"beforeblur":case"afterblur":x=Pf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=x4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=gS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=TS;break;case v8:case x8:case g8:x=yS;break;case b8:x=FS;break;case"scroll":x=vS;break;case"wheel":x=PS;break;case"copy":case"cut":case"paste":x=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=b4}var A=(n&4)!==0,j=!A&&a==="scroll",C=A?y!==null?y+"Capture":null:y;A=[];for(var k=m,E;k!==null;){E=k;var B=E.stateNode;if(E.tag===5&&B!==null&&(E=B,C!==null&&(B=C0(k,C),B!=null&&A.push(F0(k,B,E)))),j)break;k=k.return}0<A.length&&(y=new x(y,g,null,i,v),w.push({event:y,listeners:A}))}}if(!(n&7)){e:{if(y=a==="mouseover"||a==="pointerover",x=a==="mouseout"||a==="pointerout",y&&i!==up&&(g=i.relatedTarget||i.fromElement)&&(zo(g)||g[Ti]))break e;if((x||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,x?(g=i.relatedTarget||i.toElement,x=m,g=g?zo(g):null,g!==null&&(j=sl(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=m),x!==g)){if(A=x4,B="onMouseLeave",C="onMouseEnter",k="mouse",(a==="pointerout"||a==="pointerover")&&(A=b4,B="onPointerLeave",C="onPointerEnter",k="pointer"),j=x==null?y:Il(x),E=g==null?y:Il(g),y=new A(B,k+"leave",x,i,v),y.target=j,y.relatedTarget=E,B=null,zo(v)===m&&(A=new A(C,k+"enter",g,i,v),A.target=E,A.relatedTarget=j,B=A),j=B,x&&g)t:{for(A=x,C=g,k=0,E=A;E;E=vl(E))k++;for(E=0,B=C;B;B=vl(B))E++;for(;0<k-E;)A=vl(A),k--;for(;0<E-k;)C=vl(C),E--;for(;k--;){if(A===C||C!==null&&A===C.alternate)break t;A=vl(A),C=vl(C)}A=null}else A=null;x!==null&&B4(w,y,x,A,!1),g!==null&&j!==null&&B4(w,j,g,A,!0)}}e:{if(y=m?Il(m):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var I=$S;else if(A4(y))if(u8)I=VS;else{I=GS;var D=qS}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(I=YS);if(I&&(I=I(a,m))){d8(w,I,i,v);break e}D&&D(a,y,m),a==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&ip(y,"number",y.value)}switch(D=m?Il(m):window,a){case"focusin":(A4(D)||D.contentEditable==="true")&&(Nl=D,gp=m,y0=null);break;case"focusout":y0=gp=Nl=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,N4(w,i,v);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":N4(w,i,v)}var M;if($3)e:{switch(a){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else El?l8(a,i)&&(T="onCompositionEnd"):a==="keydown"&&i.keyCode===229&&(T="onCompositionStart");T&&(o8&&i.locale!=="ko"&&(El||T!=="onCompositionStart"?T==="onCompositionEnd"&&El&&(M=i8()):(Ji=v,L3="value"in Ji?Ji.value:Ji.textContent,El=!0)),D=Ed(m,T),0<D.length&&(T=new g4(T,a,null,i,v),w.push({event:T,listeners:D}),M?T.data=M:(M=c8(i),M!==null&&(T.data=M)))),(M=US?zS(a,i):LS(a,i))&&(m=Ed(m,"onBeforeInput"),0<m.length&&(v=new g4("onBeforeInput","beforeinput",null,i,v),w.push({event:v,listeners:m}),v.data=M))}y8(w,n)})}function F0(a,n,i){return{instance:a,listener:n,currentTarget:i}}function Ed(a,n){for(var i=n+"Capture",o=[];a!==null;){var c=a,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=C0(a,i),d!=null&&o.unshift(F0(a,d,c)),d=C0(a,n),d!=null&&o.push(F0(a,d,c))),a=a.return}return o}function vl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function B4(a,n,i,o,c){for(var d=n._reactName,f=[];i!==null&&i!==o;){var h=i,p=h.alternate,m=h.stateNode;if(p!==null&&p===o)break;h.tag===5&&m!==null&&(h=m,c?(p=C0(i,d),p!=null&&f.unshift(F0(i,p,h))):c||(p=C0(i,d),p!=null&&f.push(F0(i,p,h)))),i=i.return}f.length!==0&&a.push({event:n,listeners:f})}var tE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function D4(a){return(typeof a=="string"?a:""+a).replace(tE,`
`).replace(rE,"")}function F2(a,n,i){if(n=D4(n),D4(a)!==n&&i)throw Error(ct(425))}function Nd(){}var wp=null,yp=null;function Ap(a,n){return a==="textarea"||a==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,R4=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof R4<"u"?function(a){return R4.resolve(null).then(a).catch(nE)}:kp;function nE(a){setTimeout(function(){throw a})}function qf(a,n){var i=n,o=0;do{var c=i.nextSibling;if(a.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){a.removeChild(c),D0(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);D0(n)}function ao(a){for(;a!=null;a=a.nextSibling){var n=a.nodeType;if(n===1||n===3)break;if(n===8){if(n=a.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return a}function T4(a){a=a.previousSibling;for(var n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return a;n--}else i==="/$"&&n++}a=a.previousSibling}return null}var vc=Math.random().toString(36).slice(2),hi="__reactFiber$"+vc,_0="__reactProps$"+vc,Ti="__reactContainer$"+vc,jp="__reactEvents$"+vc,iE="__reactListeners$"+vc,oE="__reactHandles$"+vc;function zo(a){var n=a[hi];if(n)return n;for(var i=a.parentNode;i;){if(n=i[Ti]||i[hi]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(a=T4(a);a!==null;){if(i=a[hi])return i;a=T4(a)}return n}a=i,i=a.parentNode}return null}function t2(a){return a=a[hi]||a[Ti],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Il(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ct(33))}function pu(a){return a[_0]||null}var Sp=[],Bl=-1;function vo(a){return{current:a}}function ns(a){0>Bl||(a.current=Sp[Bl],Sp[Bl]=null,Bl--)}function Va(a,n){Bl++,Sp[Bl]=a.current,a.current=n}var fo={},On=vo(fo),n1=vo(!1),Jo=fo;function Jl(a,n){var i=a.type.contextTypes;if(!i)return fo;var o=a.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=n[d];return o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=n,a.__reactInternalMemoizedMaskedChildContext=c),c}function i1(a){return a=a.childContextTypes,a!=null}function Cd(){ns(n1),ns(On)}function M4(a,n,i){if(On.current!==fo)throw Error(ct(168));Va(On,n),Va(n1,i)}function k8(a,n,i){var o=a.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in n))throw Error(ct(108,qj(a)||"Unknown",c));return Es({},i,o)}function Id(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||fo,Jo=On.current,Va(On,a),Va(n1,n1.current),!0}function F4(a,n,i){var o=a.stateNode;if(!o)throw Error(ct(169));i?(a=k8(a,n,Jo),o.__reactInternalMemoizedMergedChildContext=a,ns(n1),ns(On),Va(On,a)):ns(n1),Va(n1,i)}var Ni=null,mu=!1,Gf=!1;function j8(a){Ni===null?Ni=[a]:Ni.push(a)}function lE(a){mu=!0,j8(a)}function xo(){if(!Gf&&Ni!==null){Gf=!0;var a=0,n=Na;try{var i=Ni;for(Na=1;a<i.length;a++){var o=i[a];do o=o(!0);while(o!==null)}Ni=null,mu=!1}catch(c){throw Ni!==null&&(Ni=Ni.slice(a+1)),K6(P3,xo),c}finally{Na=n,Gf=!1}}return null}var Dl=[],Rl=0,Bd=null,Dd=0,N1=[],C1=0,Xo=null,Ci=1,Ii="";function Ro(a,n){Dl[Rl++]=Dd,Dl[Rl++]=Bd,Bd=a,Dd=n}function S8(a,n,i){N1[C1++]=Ci,N1[C1++]=Ii,N1[C1++]=Xo,Xo=a;var o=Ci;a=Ii;var c=32-K1(o)-1;o&=~(1<<c),i+=1;var d=32-K1(n)+c;if(30<d){var f=c-c%5;d=(o&(1<<f)-1).toString(32),o>>=f,c-=f,Ci=1<<32-K1(n)+c|i<<c|o,Ii=d+a}else Ci=1<<d|i<<c|o,Ii=a}function G3(a){a.return!==null&&(Ro(a,1),S8(a,1,0))}function Y3(a){for(;a===Bd;)Bd=Dl[--Rl],Dl[Rl]=null,Dd=Dl[--Rl],Dl[Rl]=null;for(;a===Xo;)Xo=N1[--C1],N1[C1]=null,Ii=N1[--C1],N1[C1]=null,Ci=N1[--C1],N1[C1]=null}var y1=null,w1=null,fs=!1,V1=null;function E8(a,n){var i=I1(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=a,n=a.deletions,n===null?(a.deletions=[i],a.flags|=16):n.push(i)}function _4(a,n){switch(a.tag){case 5:var i=a.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(a.stateNode=n,y1=a,w1=ao(n.firstChild),!0):!1;case 6:return n=a.pendingProps===""||n.nodeType!==3?null:n,n!==null?(a.stateNode=n,y1=a,w1=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Xo!==null?{id:Ci,overflow:Ii}:null,a.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=I1(18,null,null,0),i.stateNode=n,i.return=a,a.child=i,y1=a,w1=null,!0):!1;default:return!1}}function Ep(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Np(a){if(fs){var n=w1;if(n){var i=n;if(!_4(a,n)){if(Ep(a))throw Error(ct(418));n=ao(i.nextSibling);var o=y1;n&&_4(a,n)?E8(o,i):(a.flags=a.flags&-4097|2,fs=!1,y1=a)}}else{if(Ep(a))throw Error(ct(418));a.flags=a.flags&-4097|2,fs=!1,y1=a}}}function P4(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;y1=a}function _2(a){if(a!==y1)return!1;if(!fs)return P4(a),fs=!0,!1;var n;if((n=a.tag!==3)&&!(n=a.tag!==5)&&(n=a.type,n=n!=="head"&&n!=="body"&&!Ap(a.type,a.memoizedProps)),n&&(n=w1)){if(Ep(a))throw N8(),Error(ct(418));for(;n;)E8(a,n),n=ao(n.nextSibling)}if(P4(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ct(317));e:{for(a=a.nextSibling,n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="/$"){if(n===0){w1=ao(a.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}a=a.nextSibling}w1=null}}else w1=y1?ao(a.stateNode.nextSibling):null;return!0}function N8(){for(var a=w1;a;)a=ao(a.nextSibling)}function Xl(){w1=y1=null,fs=!1}function V3(a){V1===null?V1=[a]:V1.push(a)}var cE=_i.ReactCurrentBatchConfig;function n0(a,n,i){if(a=i.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ct(309));var o=i.stateNode}if(!o)throw Error(ct(147,a));var c=o,d=""+a;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(f){var h=c.refs;f===null?delete h[d]:h[d]=f},n._stringRef=d,n)}if(typeof a!="string")throw Error(ct(284));if(!i._owner)throw Error(ct(290,a))}return a}function P2(a,n){throw a=Object.prototype.toString.call(n),Error(ct(31,a==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":a))}function O4(a){var n=a._init;return n(a._payload)}function C8(a){function n(C,k){if(a){var E=C.deletions;E===null?(C.deletions=[k],C.flags|=16):E.push(k)}}function i(C,k){if(!a)return null;for(;k!==null;)n(C,k),k=k.sibling;return null}function o(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function c(C,k){return C=oo(C,k),C.index=0,C.sibling=null,C}function d(C,k,E){return C.index=E,a?(E=C.alternate,E!==null?(E=E.index,E<k?(C.flags|=2,k):E):(C.flags|=2,k)):(C.flags|=1048576,k)}function f(C){return a&&C.alternate===null&&(C.flags|=2),C}function h(C,k,E,B){return k===null||k.tag!==6?(k=Zf(E,C.mode,B),k.return=C,k):(k=c(k,E),k.return=C,k)}function p(C,k,E,B){var I=E.type;return I===Sl?v(C,k,E.props.children,B,E.key):k!==null&&(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qi&&O4(I)===k.type)?(B=c(k,E.props),B.ref=n0(C,k,E),B.return=C,B):(B=ud(E.type,E.key,E.props,null,C.mode,B),B.ref=n0(C,k,E),B.return=C,B)}function m(C,k,E,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==E.containerInfo||k.stateNode.implementation!==E.implementation?(k=eh(E,C.mode,B),k.return=C,k):(k=c(k,E.children||[]),k.return=C,k)}function v(C,k,E,B,I){return k===null||k.tag!==7?(k=Vo(E,C.mode,B,I),k.return=C,k):(k=c(k,E),k.return=C,k)}function w(C,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Zf(""+k,C.mode,E),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E2:return E=ud(k.type,k.key,k.props,null,C.mode,E),E.ref=n0(C,null,k),E.return=C,E;case jl:return k=eh(k,C.mode,E),k.return=C,k;case qi:var B=k._init;return w(C,B(k._payload),E)}if(u0(k)||e0(k))return k=Vo(k,C.mode,E,null),k.return=C,k;P2(C,k)}return null}function y(C,k,E,B){var I=k!==null?k.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:h(C,k,""+E,B);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case E2:return E.key===I?p(C,k,E,B):null;case jl:return E.key===I?m(C,k,E,B):null;case qi:return I=E._init,y(C,k,I(E._payload),B)}if(u0(E)||e0(E))return I!==null?null:v(C,k,E,B,null);P2(C,E)}return null}function x(C,k,E,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return C=C.get(E)||null,h(k,C,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E2:return C=C.get(B.key===null?E:B.key)||null,p(k,C,B,I);case jl:return C=C.get(B.key===null?E:B.key)||null,m(k,C,B,I);case qi:var D=B._init;return x(C,k,E,D(B._payload),I)}if(u0(B)||e0(B))return C=C.get(E)||null,v(k,C,B,I,null);P2(k,B)}return null}function g(C,k,E,B){for(var I=null,D=null,M=k,T=k=0,H=null;M!==null&&T<E.length;T++){M.index>T?(H=M,M=null):H=M.sibling;var _=y(C,M,E[T],B);if(_===null){M===null&&(M=H);break}a&&M&&_.alternate===null&&n(C,M),k=d(_,k,T),D===null?I=_:D.sibling=_,D=_,M=H}if(T===E.length)return i(C,M),fs&&Ro(C,T),I;if(M===null){for(;T<E.length;T++)M=w(C,E[T],B),M!==null&&(k=d(M,k,T),D===null?I=M:D.sibling=M,D=M);return fs&&Ro(C,T),I}for(M=o(C,M);T<E.length;T++)H=x(M,C,T,E[T],B),H!==null&&(a&&H.alternate!==null&&M.delete(H.key===null?T:H.key),k=d(H,k,T),D===null?I=H:D.sibling=H,D=H);return a&&M.forEach(function(F){return n(C,F)}),fs&&Ro(C,T),I}function A(C,k,E,B){var I=e0(E);if(typeof I!="function")throw Error(ct(150));if(E=I.call(E),E==null)throw Error(ct(151));for(var D=I=null,M=k,T=k=0,H=null,_=E.next();M!==null&&!_.done;T++,_=E.next()){M.index>T?(H=M,M=null):H=M.sibling;var F=y(C,M,_.value,B);if(F===null){M===null&&(M=H);break}a&&M&&F.alternate===null&&n(C,M),k=d(F,k,T),D===null?I=F:D.sibling=F,D=F,M=H}if(_.done)return i(C,M),fs&&Ro(C,T),I;if(M===null){for(;!_.done;T++,_=E.next())_=w(C,_.value,B),_!==null&&(k=d(_,k,T),D===null?I=_:D.sibling=_,D=_);return fs&&Ro(C,T),I}for(M=o(C,M);!_.done;T++,_=E.next())_=x(M,C,T,_.value,B),_!==null&&(a&&_.alternate!==null&&M.delete(_.key===null?T:_.key),k=d(_,k,T),D===null?I=_:D.sibling=_,D=_);return a&&M.forEach(function(Q){return n(C,Q)}),fs&&Ro(C,T),I}function j(C,k,E,B){if(typeof E=="object"&&E!==null&&E.type===Sl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case E2:e:{for(var I=E.key,D=k;D!==null;){if(D.key===I){if(I=E.type,I===Sl){if(D.tag===7){i(C,D.sibling),k=c(D,E.props.children),k.return=C,C=k;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qi&&O4(I)===D.type){i(C,D.sibling),k=c(D,E.props),k.ref=n0(C,D,E),k.return=C,C=k;break e}i(C,D);break}else n(C,D);D=D.sibling}E.type===Sl?(k=Vo(E.props.children,C.mode,B,E.key),k.return=C,C=k):(B=ud(E.type,E.key,E.props,null,C.mode,B),B.ref=n0(C,k,E),B.return=C,C=B)}return f(C);case jl:e:{for(D=E.key;k!==null;){if(k.key===D)if(k.tag===4&&k.stateNode.containerInfo===E.containerInfo&&k.stateNode.implementation===E.implementation){i(C,k.sibling),k=c(k,E.children||[]),k.return=C,C=k;break e}else{i(C,k);break}else n(C,k);k=k.sibling}k=eh(E,C.mode,B),k.return=C,C=k}return f(C);case qi:return D=E._init,j(C,k,D(E._payload),B)}if(u0(E))return g(C,k,E,B);if(e0(E))return A(C,k,E,B);P2(C,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,k!==null&&k.tag===6?(i(C,k.sibling),k=c(k,E),k.return=C,C=k):(i(C,k),k=Zf(E,C.mode,B),k.return=C,C=k),f(C)):i(C,k)}return j}var Zl=C8(!0),I8=C8(!1),Rd=vo(null),Td=null,Tl=null,K3=null;function W3(){K3=Tl=Td=null}function J3(a){var n=Rd.current;ns(Rd),a._currentValue=n}function Cp(a,n,i){for(;a!==null;){var o=a.alternate;if((a.childLanes&n)!==n?(a.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),a===i)break;a=a.return}}function Ll(a,n){Td=a,K3=Tl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&n&&(a1=!0),a.firstContext=null)}function D1(a){var n=a._currentValue;if(K3!==a)if(a={context:a,memoizedValue:n,next:null},Tl===null){if(Td===null)throw Error(ct(308));Tl=a,Td.dependencies={lanes:0,firstContext:a}}else Tl=Tl.next=a;return n}var Lo=null;function X3(a){Lo===null?Lo=[a]:Lo.push(a)}function B8(a,n,i,o){var c=n.interleaved;return c===null?(i.next=i,X3(n)):(i.next=c.next,c.next=i),n.interleaved=i,Mi(a,o)}function Mi(a,n){a.lanes|=n;var i=a.alternate;for(i!==null&&(i.lanes|=n),i=a,a=a.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),i=a,a=a.return;return i.tag===3?i.stateNode:null}var Gi=!1;function Z3(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D8(a,n){a=a.updateQueue,n.updateQueue===a&&(n.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Di(a,n){return{eventTime:a,lane:n,tag:0,payload:null,callback:null,next:null}}function so(a,n,i){var o=a.updateQueue;if(o===null)return null;if(o=o.shared,ca&2){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,Mi(a,i)}return c=o.interleaved,c===null?(n.next=n,X3(o)):(n.next=c.next,c.next=n),o.interleaved=n,Mi(a,i)}function nd(a,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,O3(a,i)}}function U4(a,n){var i=a.updateQueue,o=a.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var f={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=f:d=d.next=f,i=i.next}while(i!==null);d===null?c=d=n:d=d.next=n}else c=d=n;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,effects:o.effects},a.updateQueue=i;return}a=i.lastBaseUpdate,a===null?i.firstBaseUpdate=n:a.next=n,i.lastBaseUpdate=n}function Md(a,n,i,o){var c=a.updateQueue;Gi=!1;var d=c.firstBaseUpdate,f=c.lastBaseUpdate,h=c.shared.pending;if(h!==null){c.shared.pending=null;var p=h,m=p.next;p.next=null,f===null?d=m:f.next=m,f=p;var v=a.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==f&&(h===null?v.firstBaseUpdate=m:h.next=m,v.lastBaseUpdate=p))}if(d!==null){var w=c.baseState;f=0,v=m=p=null,h=d;do{var y=h.lane,x=h.eventTime;if((o&y)===y){v!==null&&(v=v.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var g=a,A=h;switch(y=n,x=i,A.tag){case 1:if(g=A.payload,typeof g=="function"){w=g.call(x,w,y);break e}w=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=A.payload,y=typeof g=="function"?g.call(x,w,y):g,y==null)break e;w=Es({},w,y);break e;case 2:Gi=!0}}h.callback!==null&&h.lane!==0&&(a.flags|=64,y=c.effects,y===null?c.effects=[h]:y.push(h))}else x={eventTime:x,lane:y,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(m=v=x,p=w):v=v.next=x,f|=y;if(h=h.next,h===null){if(h=c.shared.pending,h===null)break;y=h,h=y.next,y.next=null,c.lastBaseUpdate=y,c.shared.pending=null}}while(!0);if(v===null&&(p=w),c.baseState=p,c.firstBaseUpdate=m,c.lastBaseUpdate=v,n=c.shared.interleaved,n!==null){c=n;do f|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);el|=f,a.lanes=f,a.memoizedState=w}}function z4(a,n,i){if(a=n.effects,n.effects=null,a!==null)for(n=0;n<a.length;n++){var o=a[n],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(ct(191,c));c.call(o)}}}var r2={},vi=vo(r2),P0=vo(r2),O0=vo(r2);function Qo(a){if(a===r2)throw Error(ct(174));return a}function em(a,n){switch(Va(O0,n),Va(P0,a),Va(vi,r2),a=n.nodeType,a){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:lp(null,"");break;default:a=a===8?n.parentNode:n,n=a.namespaceURI||null,a=a.tagName,n=lp(n,a)}ns(vi),Va(vi,n)}function ec(){ns(vi),ns(P0),ns(O0)}function R8(a){Qo(O0.current);var n=Qo(vi.current),i=lp(n,a.type);n!==i&&(Va(P0,a),Va(vi,i))}function tm(a){P0.current===a&&(ns(vi),ns(P0))}var js=vo(0);function Fd(a){for(var n=a;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yf=[];function rm(){for(var a=0;a<Yf.length;a++)Yf[a]._workInProgressVersionPrimary=null;Yf.length=0}var id=_i.ReactCurrentDispatcher,Vf=_i.ReactCurrentBatchConfig,Zo=0,Ss=null,Xs=null,dn=null,_d=!1,A0=!1,U0=0,dE=0;function Rn(){throw Error(ct(321))}function am(a,n){if(n===null)return!1;for(var i=0;i<n.length&&i<a.length;i++)if(!J1(a[i],n[i]))return!1;return!0}function sm(a,n,i,o,c,d){if(Zo=d,Ss=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,id.current=a===null||a.memoizedState===null?pE:mE,a=i(o,c),A0){d=0;do{if(A0=!1,U0=0,25<=d)throw Error(ct(301));d+=1,dn=Xs=null,n.updateQueue=null,id.current=vE,a=i(o,c)}while(A0)}if(id.current=Pd,n=Xs!==null&&Xs.next!==null,Zo=0,dn=Xs=Ss=null,_d=!1,n)throw Error(ct(300));return a}function nm(){var a=U0!==0;return U0=0,a}function ui(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ss.memoizedState=dn=a:dn=dn.next=a,dn}function R1(){if(Xs===null){var a=Ss.alternate;a=a!==null?a.memoizedState:null}else a=Xs.next;var n=dn===null?Ss.memoizedState:dn.next;if(n!==null)dn=n,Xs=a;else{if(a===null)throw Error(ct(310));Xs=a,a={memoizedState:Xs.memoizedState,baseState:Xs.baseState,baseQueue:Xs.baseQueue,queue:Xs.queue,next:null},dn===null?Ss.memoizedState=dn=a:dn=dn.next=a}return dn}function z0(a,n){return typeof n=="function"?n(a):n}function Kf(a){var n=R1(),i=n.queue;if(i===null)throw Error(ct(311));i.lastRenderedReducer=a;var o=Xs,c=o.baseQueue,d=i.pending;if(d!==null){if(c!==null){var f=c.next;c.next=d.next,d.next=f}o.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,o=o.baseState;var h=f=null,p=null,m=d;do{var v=m.lane;if((Zo&v)===v)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:a(o,m.action);else{var w={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(h=p=w,f=o):p=p.next=w,Ss.lanes|=v,el|=v}m=m.next}while(m!==null&&m!==d);p===null?f=o:p.next=h,J1(o,n.memoizedState)||(a1=!0),n.memoizedState=o,n.baseState=f,n.baseQueue=p,i.lastRenderedState=o}if(a=i.interleaved,a!==null){c=a;do d=c.lane,Ss.lanes|=d,el|=d,c=c.next;while(c!==a)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Wf(a){var n=R1(),i=n.queue;if(i===null)throw Error(ct(311));i.lastRenderedReducer=a;var o=i.dispatch,c=i.pending,d=n.memoizedState;if(c!==null){i.pending=null;var f=c=c.next;do d=a(d,f.action),f=f.next;while(f!==c);J1(d,n.memoizedState)||(a1=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,o]}function T8(){}function M8(a,n){var i=Ss,o=R1(),c=n(),d=!J1(o.memoizedState,c);if(d&&(o.memoizedState=c,a1=!0),o=o.queue,im(P8.bind(null,i,o,a),[a]),o.getSnapshot!==n||d||dn!==null&&dn.memoizedState.tag&1){if(i.flags|=2048,L0(9,_8.bind(null,i,o,c,n),void 0,null),fn===null)throw Error(ct(349));Zo&30||F8(i,n,c)}return c}function F8(a,n,i){a.flags|=16384,a={getSnapshot:n,value:i},n=Ss.updateQueue,n===null?(n={lastEffect:null,stores:null},Ss.updateQueue=n,n.stores=[a]):(i=n.stores,i===null?n.stores=[a]:i.push(a))}function _8(a,n,i,o){n.value=i,n.getSnapshot=o,O8(n)&&U8(a)}function P8(a,n,i){return i(function(){O8(n)&&U8(a)})}function O8(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!J1(a,i)}catch{return!0}}function U8(a){var n=Mi(a,1);n!==null&&W1(n,a,1,-1)}function L4(a){var n=ui();return typeof a=="function"&&(a=a()),n.memoizedState=n.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:a},n.queue=a,a=a.dispatch=hE.bind(null,Ss,a),[n.memoizedState,a]}function L0(a,n,i,o){return a={tag:a,create:n,destroy:i,deps:o,next:null},n=Ss.updateQueue,n===null?(n={lastEffect:null,stores:null},Ss.updateQueue=n,n.lastEffect=a.next=a):(i=n.lastEffect,i===null?n.lastEffect=a.next=a:(o=i.next,i.next=a,a.next=o,n.lastEffect=a)),a}function z8(){return R1().memoizedState}function od(a,n,i,o){var c=ui();Ss.flags|=a,c.memoizedState=L0(1|n,i,void 0,o===void 0?null:o)}function vu(a,n,i,o){var c=R1();o=o===void 0?null:o;var d=void 0;if(Xs!==null){var f=Xs.memoizedState;if(d=f.destroy,o!==null&&am(o,f.deps)){c.memoizedState=L0(n,i,d,o);return}}Ss.flags|=a,c.memoizedState=L0(1|n,i,d,o)}function Q4(a,n){return od(8390656,8,a,n)}function im(a,n){return vu(2048,8,a,n)}function L8(a,n){return vu(4,2,a,n)}function Q8(a,n){return vu(4,4,a,n)}function H8(a,n){if(typeof n=="function")return a=a(),n(a),function(){n(null)};if(n!=null)return a=a(),n.current=a,function(){n.current=null}}function $8(a,n,i){return i=i!=null?i.concat([a]):null,vu(4,4,H8.bind(null,n,a),i)}function om(){}function q8(a,n){var i=R1();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&am(n,o[1])?o[0]:(i.memoizedState=[a,n],a)}function G8(a,n){var i=R1();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&am(n,o[1])?o[0]:(a=a(),i.memoizedState=[a,n],a)}function Y8(a,n,i){return Zo&21?(J1(i,n)||(i=X6(),Ss.lanes|=i,el|=i,a.baseState=!0),n):(a.baseState&&(a.baseState=!1,a1=!0),a.memoizedState=i)}function uE(a,n){var i=Na;Na=i!==0&&4>i?i:4,a(!0);var o=Vf.transition;Vf.transition={};try{a(!1),n()}finally{Na=i,Vf.transition=o}}function V8(){return R1().memoizedState}function fE(a,n,i){var o=io(a);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},K8(a))W8(n,i);else if(i=B8(a,n,i,o),i!==null){var c=Yn();W1(i,a,o,c),J8(i,n,o)}}function hE(a,n,i){var o=io(a),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(K8(a))W8(n,c);else{var d=a.alternate;if(a.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var f=n.lastRenderedState,h=d(f,i);if(c.hasEagerState=!0,c.eagerState=h,J1(h,f)){var p=n.interleaved;p===null?(c.next=c,X3(n)):(c.next=p.next,p.next=c),n.interleaved=c;return}}catch{}finally{}i=B8(a,n,c,o),i!==null&&(c=Yn(),W1(i,a,o,c),J8(i,n,o))}}function K8(a){var n=a.alternate;return a===Ss||n!==null&&n===Ss}function W8(a,n){A0=_d=!0;var i=a.pending;i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n}function J8(a,n,i){if(i&4194240){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,O3(a,i)}}var Pd={readContext:D1,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},pE={readContext:D1,useCallback:function(a,n){return ui().memoizedState=[a,n===void 0?null:n],a},useContext:D1,useEffect:Q4,useImperativeHandle:function(a,n,i){return i=i!=null?i.concat([a]):null,od(4194308,4,H8.bind(null,n,a),i)},useLayoutEffect:function(a,n){return od(4194308,4,a,n)},useInsertionEffect:function(a,n){return od(4,2,a,n)},useMemo:function(a,n){var i=ui();return n=n===void 0?null:n,a=a(),i.memoizedState=[a,n],a},useReducer:function(a,n,i){var o=ui();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:n},o.queue=a,a=a.dispatch=fE.bind(null,Ss,a),[o.memoizedState,a]},useRef:function(a){var n=ui();return a={current:a},n.memoizedState=a},useState:L4,useDebugValue:om,useDeferredValue:function(a){return ui().memoizedState=a},useTransition:function(){var a=L4(!1),n=a[0];return a=uE.bind(null,a[1]),ui().memoizedState=a,[n,a]},useMutableSource:function(){},useSyncExternalStore:function(a,n,i){var o=Ss,c=ui();if(fs){if(i===void 0)throw Error(ct(407));i=i()}else{if(i=n(),fn===null)throw Error(ct(349));Zo&30||F8(o,n,i)}c.memoizedState=i;var d={value:i,getSnapshot:n};return c.queue=d,Q4(P8.bind(null,o,d,a),[a]),o.flags|=2048,L0(9,_8.bind(null,o,d,i,n),void 0,null),i},useId:function(){var a=ui(),n=fn.identifierPrefix;if(fs){var i=Ii,o=Ci;i=(o&~(1<<32-K1(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=U0++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=dE++,n=":"+n+"r"+i.toString(32)+":";return a.memoizedState=n},unstable_isNewReconciler:!1},mE={readContext:D1,useCallback:q8,useContext:D1,useEffect:im,useImperativeHandle:$8,useInsertionEffect:L8,useLayoutEffect:Q8,useMemo:G8,useReducer:Kf,useRef:z8,useState:function(){return Kf(z0)},useDebugValue:om,useDeferredValue:function(a){var n=R1();return Y8(n,Xs.memoizedState,a)},useTransition:function(){var a=Kf(z0)[0],n=R1().memoizedState;return[a,n]},useMutableSource:T8,useSyncExternalStore:M8,useId:V8,unstable_isNewReconciler:!1},vE={readContext:D1,useCallback:q8,useContext:D1,useEffect:im,useImperativeHandle:$8,useInsertionEffect:L8,useLayoutEffect:Q8,useMemo:G8,useReducer:Wf,useRef:z8,useState:function(){return Wf(z0)},useDebugValue:om,useDeferredValue:function(a){var n=R1();return Xs===null?n.memoizedState=a:Y8(n,Xs.memoizedState,a)},useTransition:function(){var a=Wf(z0)[0],n=R1().memoizedState;return[a,n]},useMutableSource:T8,useSyncExternalStore:M8,useId:V8,unstable_isNewReconciler:!1};function $1(a,n){if(a&&a.defaultProps){n=Es({},n),a=a.defaultProps;for(var i in a)n[i]===void 0&&(n[i]=a[i]);return n}return n}function Ip(a,n,i,o){n=a.memoizedState,i=i(o,n),i=i==null?n:Es({},n,i),a.memoizedState=i,a.lanes===0&&(a.updateQueue.baseState=i)}var xu={isMounted:function(a){return(a=a._reactInternals)?sl(a)===a:!1},enqueueSetState:function(a,n,i){a=a._reactInternals;var o=Yn(),c=io(a),d=Di(o,c);d.payload=n,i!=null&&(d.callback=i),n=so(a,d,c),n!==null&&(W1(n,a,c,o),nd(n,a,c))},enqueueReplaceState:function(a,n,i){a=a._reactInternals;var o=Yn(),c=io(a),d=Di(o,c);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=so(a,d,c),n!==null&&(W1(n,a,c,o),nd(n,a,c))},enqueueForceUpdate:function(a,n){a=a._reactInternals;var i=Yn(),o=io(a),c=Di(i,o);c.tag=2,n!=null&&(c.callback=n),n=so(a,c,o),n!==null&&(W1(n,a,o,i),nd(n,a,o))}};function H4(a,n,i,o,c,d,f){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(o,d,f):n.prototype&&n.prototype.isPureReactComponent?!T0(i,o)||!T0(c,d):!0}function X8(a,n,i){var o=!1,c=fo,d=n.contextType;return typeof d=="object"&&d!==null?d=D1(d):(c=i1(n)?Jo:On.current,o=n.contextTypes,d=(o=o!=null)?Jl(a,c):fo),n=new n(i,d),a.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=xu,a.stateNode=n,n._reactInternals=a,o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=d),n}function $4(a,n,i,o){a=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==a&&xu.enqueueReplaceState(n,n.state,null)}function Bp(a,n,i,o){var c=a.stateNode;c.props=i,c.state=a.memoizedState,c.refs={},Z3(a);var d=n.contextType;typeof d=="object"&&d!==null?c.context=D1(d):(d=i1(n)?Jo:On.current,c.context=Jl(a,d)),c.state=a.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Ip(a,n,d,i),c.state=a.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&xu.enqueueReplaceState(c,c.state,null),Md(a,i,c,o),c.state=a.memoizedState),typeof c.componentDidMount=="function"&&(a.flags|=4194308)}function tc(a,n){try{var i="",o=n;do i+=$j(o),o=o.return;while(o);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:a,source:n,stack:c,digest:null}}function Jf(a,n,i){return{value:a,source:null,stack:i??null,digest:n??null}}function Dp(a,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var xE=typeof WeakMap=="function"?WeakMap:Map;function Z8(a,n,i){i=Di(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){Ud||(Ud=!0,Lp=o),Dp(a,n)},i}function e5(a,n,i){i=Di(-1,i),i.tag=3;var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=n.value;i.payload=function(){return o(c)},i.callback=function(){Dp(a,n)}}var d=a.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Dp(a,n),typeof o!="function"&&(no===null?no=new Set([this]):no.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),i}function q4(a,n,i){var o=a.pingCache;if(o===null){o=a.pingCache=new xE;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(i)||(c.add(i),a=DE.bind(null,a,n,i),n.then(a,a))}function G4(a){do{var n;if((n=a.tag===13)&&(n=a.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return a;a=a.return}while(a!==null);return null}function Y4(a,n,i,o,c){return a.mode&1?(a.flags|=65536,a.lanes=c,a):(a===n?a.flags|=65536:(a.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Di(-1,1),n.tag=2,so(i,n,1))),i.lanes|=1),a)}var gE=_i.ReactCurrentOwner,a1=!1;function Gn(a,n,i,o){n.child=a===null?I8(n,null,i,o):Zl(n,a.child,i,o)}function V4(a,n,i,o,c){i=i.render;var d=n.ref;return Ll(n,c),o=sm(a,n,i,o,d,c),i=nm(),a!==null&&!a1?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~c,Fi(a,n,c)):(fs&&i&&G3(n),n.flags|=1,Gn(a,n,o,c),n.child)}function K4(a,n,i,o,c){if(a===null){var d=i.type;return typeof d=="function"&&!mm(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,t5(a,n,d,o,c)):(a=ud(i.type,null,o,n,n.mode,c),a.ref=n.ref,a.return=n,n.child=a)}if(d=a.child,!(a.lanes&c)){var f=d.memoizedProps;if(i=i.compare,i=i!==null?i:T0,i(f,o)&&a.ref===n.ref)return Fi(a,n,c)}return n.flags|=1,a=oo(d,o),a.ref=n.ref,a.return=n,n.child=a}function t5(a,n,i,o,c){if(a!==null){var d=a.memoizedProps;if(T0(d,o)&&a.ref===n.ref)if(a1=!1,n.pendingProps=o=d,(a.lanes&c)!==0)a.flags&131072&&(a1=!0);else return n.lanes=a.lanes,Fi(a,n,c)}return Rp(a,n,i,o,c)}function r5(a,n,i){var o=n.pendingProps,c=o.children,d=a!==null?a.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Va(Fl,g1),g1|=i;else{if(!(i&1073741824))return a=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:a,cachePool:null,transitions:null},n.updateQueue=null,Va(Fl,g1),g1|=a,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:i,Va(Fl,g1),g1|=o}else d!==null?(o=d.baseLanes|i,n.memoizedState=null):o=i,Va(Fl,g1),g1|=o;return Gn(a,n,c,i),n.child}function a5(a,n){var i=n.ref;(a===null&&i!==null||a!==null&&a.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Rp(a,n,i,o,c){var d=i1(i)?Jo:On.current;return d=Jl(n,d),Ll(n,c),i=sm(a,n,i,o,d,c),o=nm(),a!==null&&!a1?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~c,Fi(a,n,c)):(fs&&o&&G3(n),n.flags|=1,Gn(a,n,i,c),n.child)}function W4(a,n,i,o,c){if(i1(i)){var d=!0;Id(n)}else d=!1;if(Ll(n,c),n.stateNode===null)ld(a,n),X8(n,i,o),Bp(n,i,o,c),o=!0;else if(a===null){var f=n.stateNode,h=n.memoizedProps;f.props=h;var p=f.context,m=i.contextType;typeof m=="object"&&m!==null?m=D1(m):(m=i1(i)?Jo:On.current,m=Jl(n,m));var v=i.getDerivedStateFromProps,w=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function";w||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==o||p!==m)&&$4(n,f,o,m),Gi=!1;var y=n.memoizedState;f.state=y,Md(n,o,f,c),p=n.memoizedState,h!==o||y!==p||n1.current||Gi?(typeof v=="function"&&(Ip(n,i,v,o),p=n.memoizedState),(h=Gi||H4(n,i,h,o,y,p,m))?(w||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=p),f.props=o,f.state=p,f.context=m,o=h):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,D8(a,n),h=n.memoizedProps,m=n.type===n.elementType?h:$1(n.type,h),f.props=m,w=n.pendingProps,y=f.context,p=i.contextType,typeof p=="object"&&p!==null?p=D1(p):(p=i1(i)?Jo:On.current,p=Jl(n,p));var x=i.getDerivedStateFromProps;(v=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==w||y!==p)&&$4(n,f,o,p),Gi=!1,y=n.memoizedState,f.state=y,Md(n,o,f,c);var g=n.memoizedState;h!==w||y!==g||n1.current||Gi?(typeof x=="function"&&(Ip(n,i,x,o),g=n.memoizedState),(m=Gi||H4(n,i,m,o,y,g,p)||!1)?(v||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,g,p),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,g,p)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=g),f.props=o,f.state=g,f.context=p,o=m):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=1024),o=!1)}return Tp(a,n,i,o,d,c)}function Tp(a,n,i,o,c,d){a5(a,n);var f=(n.flags&128)!==0;if(!o&&!f)return c&&F4(n,i,!1),Fi(a,n,d);o=n.stateNode,gE.current=n;var h=f&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,a!==null&&f?(n.child=Zl(n,a.child,null,d),n.child=Zl(n,null,h,d)):Gn(a,n,h,d),n.memoizedState=o.state,c&&F4(n,i,!0),n.child}function s5(a){var n=a.stateNode;n.pendingContext?M4(a,n.pendingContext,n.pendingContext!==n.context):n.context&&M4(a,n.context,!1),em(a,n.containerInfo)}function J4(a,n,i,o,c){return Xl(),V3(c),n.flags|=256,Gn(a,n,i,o),n.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Fp(a){return{baseLanes:a,cachePool:null,transitions:null}}function n5(a,n,i){var o=n.pendingProps,c=js.current,d=!1,f=(n.flags&128)!==0,h;if((h=f)||(h=a!==null&&a.memoizedState===null?!1:(c&2)!==0),h?(d=!0,n.flags&=-129):(a===null||a.memoizedState!==null)&&(c|=1),Va(js,c&1),a===null)return Np(n),a=n.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(n.mode&1?a.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=o.children,a=o.fallback,d?(o=n.mode,d=n.child,f={mode:"hidden",children:f},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=f):d=wu(f,o,0,null),a=Vo(a,o,i,null),d.return=n,a.return=n,d.sibling=a,n.child=d,n.child.memoizedState=Fp(i),n.memoizedState=Mp,a):lm(n,f));if(c=a.memoizedState,c!==null&&(h=c.dehydrated,h!==null))return bE(a,n,f,o,h,c,i);if(d){d=o.fallback,f=n.mode,c=a.child,h=c.sibling;var p={mode:"hidden",children:o.children};return!(f&1)&&n.child!==c?(o=n.child,o.childLanes=0,o.pendingProps=p,n.deletions=null):(o=oo(c,p),o.subtreeFlags=c.subtreeFlags&14680064),h!==null?d=oo(h,d):(d=Vo(d,f,i,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,f=a.child.memoizedState,f=f===null?Fp(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=a.childLanes&~i,n.memoizedState=Mp,o}return d=a.child,a=d.sibling,o=oo(d,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=i),o.return=n,o.sibling=null,a!==null&&(i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)),n.child=o,n.memoizedState=null,o}function lm(a,n){return n=wu({mode:"visible",children:n},a.mode,0,null),n.return=a,a.child=n}function O2(a,n,i,o){return o!==null&&V3(o),Zl(n,a.child,null,i),a=lm(n,n.pendingProps.children),a.flags|=2,n.memoizedState=null,a}function bE(a,n,i,o,c,d,f){if(i)return n.flags&256?(n.flags&=-257,o=Jf(Error(ct(422))),O2(a,n,f,o)):n.memoizedState!==null?(n.child=a.child,n.flags|=128,null):(d=o.fallback,c=n.mode,o=wu({mode:"visible",children:o.children},c,0,null),d=Vo(d,c,f,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,n.mode&1&&Zl(n,a.child,null,f),n.child.memoizedState=Fp(f),n.memoizedState=Mp,d);if(!(n.mode&1))return O2(a,n,f,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var h=o.dgst;return o=h,d=Error(ct(419)),o=Jf(d,o,void 0),O2(a,n,f,o)}if(h=(f&a.childLanes)!==0,a1||h){if(o=fn,o!==null){switch(f&-f){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|f)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Mi(a,c),W1(o,a,c,-1))}return pm(),o=Jf(Error(ct(421))),O2(a,n,f,o)}return c.data==="$?"?(n.flags|=128,n.child=a.child,n=RE.bind(null,a),c._reactRetry=n,null):(a=d.treeContext,w1=ao(c.nextSibling),y1=n,fs=!0,V1=null,a!==null&&(N1[C1++]=Ci,N1[C1++]=Ii,N1[C1++]=Xo,Ci=a.id,Ii=a.overflow,Xo=n),n=lm(n,o.children),n.flags|=4096,n)}function X4(a,n,i){a.lanes|=n;var o=a.alternate;o!==null&&(o.lanes|=n),Cp(a.return,n,i)}function Xf(a,n,i,o,c){var d=a.memoizedState;d===null?a.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=c)}function i5(a,n,i){var o=n.pendingProps,c=o.revealOrder,d=o.tail;if(Gn(a,n,o.children,i),o=js.current,o&2)o=o&1|2,n.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=n.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&X4(a,i,n);else if(a.tag===19)X4(a,i,n);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o&=1}if(Va(js,o),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)a=i.alternate,a!==null&&Fd(a)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Xf(n,!1,c,i,d);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(a=c.alternate,a!==null&&Fd(a)===null){n.child=c;break}a=c.sibling,c.sibling=i,i=c,c=a}Xf(n,!0,i,null,d);break;case"together":Xf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ld(a,n){!(n.mode&1)&&a!==null&&(a.alternate=null,n.alternate=null,n.flags|=2)}function Fi(a,n,i){if(a!==null&&(n.dependencies=a.dependencies),el|=n.lanes,!(i&n.childLanes))return null;if(a!==null&&n.child!==a.child)throw Error(ct(153));if(n.child!==null){for(a=n.child,i=oo(a,a.pendingProps),n.child=i,i.return=n;a.sibling!==null;)a=a.sibling,i=i.sibling=oo(a,a.pendingProps),i.return=n;i.sibling=null}return n.child}function wE(a,n,i){switch(n.tag){case 3:s5(n),Xl();break;case 5:R8(n);break;case 1:i1(n.type)&&Id(n);break;case 4:em(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,c=n.memoizedProps.value;Va(Rd,o._currentValue),o._currentValue=c;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Va(js,js.current&1),n.flags|=128,null):i&n.child.childLanes?n5(a,n,i):(Va(js,js.current&1),a=Fi(a,n,i),a!==null?a.sibling:null);Va(js,js.current&1);break;case 19:if(o=(i&n.childLanes)!==0,a.flags&128){if(o)return i5(a,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Va(js,js.current),o)break;return null;case 22:case 23:return n.lanes=0,r5(a,n,i)}return Fi(a,n,i)}var o5,_p,l5,c5;o5=function(a,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)a.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};_p=function(){};l5=function(a,n,i,o){var c=a.memoizedProps;if(c!==o){a=n.stateNode,Qo(vi.current);var d=null;switch(i){case"input":c=sp(a,c),o=sp(a,o),d=[];break;case"select":c=Es({},c,{value:void 0}),o=Es({},o,{value:void 0}),d=[];break;case"textarea":c=op(a,c),o=op(a,o),d=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(a.onclick=Nd)}cp(i,o);var f;i=null;for(m in c)if(!o.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null)if(m==="style"){var h=c[m];for(f in h)h.hasOwnProperty(f)&&(i||(i={}),i[f]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(E0.hasOwnProperty(m)?d||(d=[]):(d=d||[]).push(m,null));for(m in o){var p=o[m];if(h=c!=null?c[m]:void 0,o.hasOwnProperty(m)&&p!==h&&(p!=null||h!=null))if(m==="style")if(h){for(f in h)!h.hasOwnProperty(f)||p&&p.hasOwnProperty(f)||(i||(i={}),i[f]="");for(f in p)p.hasOwnProperty(f)&&h[f]!==p[f]&&(i||(i={}),i[f]=p[f])}else i||(d||(d=[]),d.push(m,i)),i=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(d=d||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(d=d||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(E0.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&ss("scroll",a),d||h===p||(d=[])):(d=d||[]).push(m,p))}i&&(d=d||[]).push("style",i);var m=d;(n.updateQueue=m)&&(n.flags|=4)}};c5=function(a,n,i,o){i!==o&&(n.flags|=4)};function i0(a,n){if(!fs)switch(a.tailMode){case"hidden":n=a.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?a.tail=null:i.sibling=null;break;case"collapsed":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||a.tail===null?a.tail=null:a.tail.sibling=null:o.sibling=null}}function Tn(a){var n=a.alternate!==null&&a.alternate.child===a.child,i=0,o=0;if(n)for(var c=a.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=a,c=c.sibling;else for(c=a.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=a,c=c.sibling;return a.subtreeFlags|=o,a.childLanes=i,n}function yE(a,n,i){var o=n.pendingProps;switch(Y3(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(n),null;case 1:return i1(n.type)&&Cd(),Tn(n),null;case 3:return o=n.stateNode,ec(),ns(n1),ns(On),rm(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(_2(n)?n.flags|=4:a===null||a.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,V1!==null&&($p(V1),V1=null))),_p(a,n),Tn(n),null;case 5:tm(n);var c=Qo(O0.current);if(i=n.type,a!==null&&n.stateNode!=null)l5(a,n,i,o,c),a.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(ct(166));return Tn(n),null}if(a=Qo(vi.current),_2(n)){o=n.stateNode,i=n.type;var d=n.memoizedProps;switch(o[hi]=n,o[_0]=d,a=(n.mode&1)!==0,i){case"dialog":ss("cancel",o),ss("close",o);break;case"iframe":case"object":case"embed":ss("load",o);break;case"video":case"audio":for(c=0;c<h0.length;c++)ss(h0[c],o);break;case"source":ss("error",o);break;case"img":case"image":case"link":ss("error",o),ss("load",o);break;case"details":ss("toggle",o);break;case"input":o4(o,d),ss("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},ss("invalid",o);break;case"textarea":c4(o,d),ss("invalid",o)}cp(i,d),c=null;for(var f in d)if(d.hasOwnProperty(f)){var h=d[f];f==="children"?typeof h=="string"?o.textContent!==h&&(d.suppressHydrationWarning!==!0&&F2(o.textContent,h,a),c=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(d.suppressHydrationWarning!==!0&&F2(o.textContent,h,a),c=["children",""+h]):E0.hasOwnProperty(f)&&h!=null&&f==="onScroll"&&ss("scroll",o)}switch(i){case"input":N2(o),l4(o,d,!0);break;case"textarea":N2(o),d4(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Nd)}o=c,n.updateQueue=o,o!==null&&(n.flags|=4)}else{f=c.nodeType===9?c:c.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=P6(i)),a==="http://www.w3.org/1999/xhtml"?i==="script"?(a=f.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof o.is=="string"?a=f.createElement(i,{is:o.is}):(a=f.createElement(i),i==="select"&&(f=a,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):a=f.createElementNS(a,i),a[hi]=n,a[_0]=o,o5(a,n,!1,!1),n.stateNode=a;e:{switch(f=dp(i,o),i){case"dialog":ss("cancel",a),ss("close",a),c=o;break;case"iframe":case"object":case"embed":ss("load",a),c=o;break;case"video":case"audio":for(c=0;c<h0.length;c++)ss(h0[c],a);c=o;break;case"source":ss("error",a),c=o;break;case"img":case"image":case"link":ss("error",a),ss("load",a),c=o;break;case"details":ss("toggle",a),c=o;break;case"input":o4(a,o),c=sp(a,o),ss("invalid",a);break;case"option":c=o;break;case"select":a._wrapperState={wasMultiple:!!o.multiple},c=Es({},o,{value:void 0}),ss("invalid",a);break;case"textarea":c4(a,o),c=op(a,o),ss("invalid",a);break;default:c=o}cp(i,c),h=c;for(d in h)if(h.hasOwnProperty(d)){var p=h[d];d==="style"?z6(a,p):d==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&O6(a,p)):d==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&N0(a,p):typeof p=="number"&&N0(a,""+p):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(E0.hasOwnProperty(d)?p!=null&&d==="onScroll"&&ss("scroll",a):p!=null&&R3(a,d,p,f))}switch(i){case"input":N2(a),l4(a,o,!1);break;case"textarea":N2(a),d4(a);break;case"option":o.value!=null&&a.setAttribute("value",""+uo(o.value));break;case"select":a.multiple=!!o.multiple,d=o.value,d!=null?Pl(a,!!o.multiple,d,!1):o.defaultValue!=null&&Pl(a,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(a.onclick=Nd)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Tn(n),null;case 6:if(a&&n.stateNode!=null)c5(a,n,a.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(ct(166));if(i=Qo(O0.current),Qo(vi.current),_2(n)){if(o=n.stateNode,i=n.memoizedProps,o[hi]=n,(d=o.nodeValue!==i)&&(a=y1,a!==null))switch(a.tag){case 3:F2(o.nodeValue,i,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&F2(o.nodeValue,i,(a.mode&1)!==0)}d&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[hi]=n,n.stateNode=o}return Tn(n),null;case 13:if(ns(js),o=n.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(fs&&w1!==null&&n.mode&1&&!(n.flags&128))N8(),Xl(),n.flags|=98560,d=!1;else if(d=_2(n),o!==null&&o.dehydrated!==null){if(a===null){if(!d)throw Error(ct(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(ct(317));d[hi]=n}else Xl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Tn(n),d=!1}else V1!==null&&($p(V1),V1=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(o=o!==null,o!==(a!==null&&a.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(a===null||js.current&1?Zs===0&&(Zs=3):pm())),n.updateQueue!==null&&(n.flags|=4),Tn(n),null);case 4:return ec(),_p(a,n),a===null&&M0(n.stateNode.containerInfo),Tn(n),null;case 10:return J3(n.type._context),Tn(n),null;case 17:return i1(n.type)&&Cd(),Tn(n),null;case 19:if(ns(js),d=n.memoizedState,d===null)return Tn(n),null;if(o=(n.flags&128)!==0,f=d.rendering,f===null)if(o)i0(d,!1);else{if(Zs!==0||a!==null&&a.flags&128)for(a=n.child;a!==null;){if(f=Fd(a),f!==null){for(n.flags|=128,i0(d,!1),o=f.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)d=i,a=o,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=a,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,a=f.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i=i.sibling;return Va(js,js.current&1|2),n.child}a=a.sibling}d.tail!==null&&Os()>rc&&(n.flags|=128,o=!0,i0(d,!1),n.lanes=4194304)}else{if(!o)if(a=Fd(f),a!==null){if(n.flags|=128,o=!0,i=a.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),i0(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!fs)return Tn(n),null}else 2*Os()-d.renderingStartTime>rc&&i!==1073741824&&(n.flags|=128,o=!0,i0(d,!1),n.lanes=4194304);d.isBackwards?(f.sibling=n.child,n.child=f):(i=d.last,i!==null?i.sibling=f:n.child=f,d.last=f)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Os(),n.sibling=null,i=js.current,Va(js,o?i&1|2:i&1),n):(Tn(n),null);case 22:case 23:return hm(),o=n.memoizedState!==null,a!==null&&a.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?g1&1073741824&&(Tn(n),n.subtreeFlags&6&&(n.flags|=8192)):Tn(n),null;case 24:return null;case 25:return null}throw Error(ct(156,n.tag))}function AE(a,n){switch(Y3(n),n.tag){case 1:return i1(n.type)&&Cd(),a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 3:return ec(),ns(n1),ns(On),rm(),a=n.flags,a&65536&&!(a&128)?(n.flags=a&-65537|128,n):null;case 5:return tm(n),null;case 13:if(ns(js),a=n.memoizedState,a!==null&&a.dehydrated!==null){if(n.alternate===null)throw Error(ct(340));Xl()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 19:return ns(js),null;case 4:return ec(),null;case 10:return J3(n.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var U2=!1,Fn=!1,kE=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Ml(a,n){var i=a.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Is(a,n,o)}else i.current=null}function Pp(a,n,i){try{i()}catch(o){Is(a,n,o)}}var Z4=!1;function jE(a,n){if(wp=jd,a=p8(),q3(a)){if("selectionStart"in a)var i={start:a.selectionStart,end:a.selectionEnd};else e:{i=(i=a.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var f=0,h=-1,p=-1,m=0,v=0,w=a,y=null;t:for(;;){for(var x;w!==i||c!==0&&w.nodeType!==3||(h=f+c),w!==d||o!==0&&w.nodeType!==3||(p=f+o),w.nodeType===3&&(f+=w.nodeValue.length),(x=w.firstChild)!==null;)y=w,w=x;for(;;){if(w===a)break t;if(y===i&&++m===c&&(h=f),y===d&&++v===o&&(p=f),(x=w.nextSibling)!==null)break;w=y,y=w.parentNode}w=x}i=h===-1||p===-1?null:{start:h,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(yp={focusedElem:a,selectionRange:i},jd=!1,_t=n;_t!==null;)if(n=_t,a=n.child,(n.subtreeFlags&1028)!==0&&a!==null)a.return=n,_t=a;else for(;_t!==null;){n=_t;try{var g=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var A=g.memoizedProps,j=g.memoizedState,C=n.stateNode,k=C.getSnapshotBeforeUpdate(n.elementType===n.type?A:$1(n.type,A),j);C.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var E=n.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(B){Is(n,n.return,B)}if(a=n.sibling,a!==null){a.return=n.return,_t=a;break}_t=n.return}return g=Z4,Z4=!1,g}function k0(a,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0,d!==void 0&&Pp(n,i,d)}c=c.next}while(c!==o)}}function gu(a,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&a)===a){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function Op(a){var n=a.ref;if(n!==null){var i=a.stateNode;switch(a.tag){case 5:a=i;break;default:a=i}typeof n=="function"?n(a):n.current=a}}function d5(a){var n=a.alternate;n!==null&&(a.alternate=null,d5(n)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(n=a.stateNode,n!==null&&(delete n[hi],delete n[_0],delete n[jp],delete n[iE],delete n[oE])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function u5(a){return a.tag===5||a.tag===3||a.tag===4}function eg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||u5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Up(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(a,n):i.insertBefore(a,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(a,i)):(n=i,n.appendChild(a)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Nd));else if(o!==4&&(a=a.child,a!==null))for(Up(a,n,i),a=a.sibling;a!==null;)Up(a,n,i),a=a.sibling}function zp(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.insertBefore(a,n):i.appendChild(a);else if(o!==4&&(a=a.child,a!==null))for(zp(a,n,i),a=a.sibling;a!==null;)zp(a,n,i),a=a.sibling}var An=null,G1=!1;function $i(a,n,i){for(i=i.child;i!==null;)f5(a,n,i),i=i.sibling}function f5(a,n,i){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(du,i)}catch{}switch(i.tag){case 5:Fn||Ml(i,n);case 6:var o=An,c=G1;An=null,$i(a,n,i),An=o,G1=c,An!==null&&(G1?(a=An,i=i.stateNode,a.nodeType===8?a.parentNode.removeChild(i):a.removeChild(i)):An.removeChild(i.stateNode));break;case 18:An!==null&&(G1?(a=An,i=i.stateNode,a.nodeType===8?qf(a.parentNode,i):a.nodeType===1&&qf(a,i),D0(a)):qf(An,i.stateNode));break;case 4:o=An,c=G1,An=i.stateNode.containerInfo,G1=!0,$i(a,n,i),An=o,G1=c;break;case 0:case 11:case 14:case 15:if(!Fn&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var d=c,f=d.destroy;d=d.tag,f!==void 0&&(d&2||d&4)&&Pp(i,n,f),c=c.next}while(c!==o)}$i(a,n,i);break;case 1:if(!Fn&&(Ml(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){Is(i,n,h)}$i(a,n,i);break;case 21:$i(a,n,i);break;case 22:i.mode&1?(Fn=(o=Fn)||i.memoizedState!==null,$i(a,n,i),Fn=o):$i(a,n,i);break;default:$i(a,n,i)}}function tg(a){var n=a.updateQueue;if(n!==null){a.updateQueue=null;var i=a.stateNode;i===null&&(i=a.stateNode=new kE),n.forEach(function(o){var c=TE.bind(null,a,o);i.has(o)||(i.add(o),o.then(c,c))})}}function Q1(a,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var d=a,f=n,h=f;e:for(;h!==null;){switch(h.tag){case 5:An=h.stateNode,G1=!1;break e;case 3:An=h.stateNode.containerInfo,G1=!0;break e;case 4:An=h.stateNode.containerInfo,G1=!0;break e}h=h.return}if(An===null)throw Error(ct(160));f5(d,f,c),An=null,G1=!1;var p=c.alternate;p!==null&&(p.return=null),c.return=null}catch(m){Is(c,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)h5(n,a),n=n.sibling}function h5(a,n){var i=a.alternate,o=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Q1(n,a),ci(a),o&4){try{k0(3,a,a.return),gu(3,a)}catch(A){Is(a,a.return,A)}try{k0(5,a,a.return)}catch(A){Is(a,a.return,A)}}break;case 1:Q1(n,a),ci(a),o&512&&i!==null&&Ml(i,i.return);break;case 5:if(Q1(n,a),ci(a),o&512&&i!==null&&Ml(i,i.return),a.flags&32){var c=a.stateNode;try{N0(c,"")}catch(A){Is(a,a.return,A)}}if(o&4&&(c=a.stateNode,c!=null)){var d=a.memoizedProps,f=i!==null?i.memoizedProps:d,h=a.type,p=a.updateQueue;if(a.updateQueue=null,p!==null)try{h==="input"&&d.type==="radio"&&d.name!=null&&F6(c,d),dp(h,f);var m=dp(h,d);for(f=0;f<p.length;f+=2){var v=p[f],w=p[f+1];v==="style"?z6(c,w):v==="dangerouslySetInnerHTML"?O6(c,w):v==="children"?N0(c,w):R3(c,v,w,m)}switch(h){case"input":np(c,d);break;case"textarea":_6(c,d);break;case"select":var y=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var x=d.value;x!=null?Pl(c,!!d.multiple,x,!1):y!==!!d.multiple&&(d.defaultValue!=null?Pl(c,!!d.multiple,d.defaultValue,!0):Pl(c,!!d.multiple,d.multiple?[]:"",!1))}c[_0]=d}catch(A){Is(a,a.return,A)}}break;case 6:if(Q1(n,a),ci(a),o&4){if(a.stateNode===null)throw Error(ct(162));c=a.stateNode,d=a.memoizedProps;try{c.nodeValue=d}catch(A){Is(a,a.return,A)}}break;case 3:if(Q1(n,a),ci(a),o&4&&i!==null&&i.memoizedState.isDehydrated)try{D0(n.containerInfo)}catch(A){Is(a,a.return,A)}break;case 4:Q1(n,a),ci(a);break;case 13:Q1(n,a),ci(a),c=a.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(um=Os())),o&4&&tg(a);break;case 22:if(v=i!==null&&i.memoizedState!==null,a.mode&1?(Fn=(m=Fn)||v,Q1(n,a),Fn=m):Q1(n,a),ci(a),o&8192){if(m=a.memoizedState!==null,(a.stateNode.isHidden=m)&&!v&&a.mode&1)for(_t=a,v=a.child;v!==null;){for(w=_t=v;_t!==null;){switch(y=_t,x=y.child,y.tag){case 0:case 11:case 14:case 15:k0(4,y,y.return);break;case 1:Ml(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){o=y,i=y.return;try{n=o,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(A){Is(o,i,A)}}break;case 5:Ml(y,y.return);break;case 22:if(y.memoizedState!==null){ag(w);continue}}x!==null?(x.return=y,_t=x):ag(w)}v=v.sibling}e:for(v=null,w=a;;){if(w.tag===5){if(v===null){v=w;try{c=w.stateNode,m?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(h=w.stateNode,p=w.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=U6("display",f))}catch(A){Is(a,a.return,A)}}}else if(w.tag===6){if(v===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(A){Is(a,a.return,A)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===a)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;v===w&&(v=null),w=w.return}v===w&&(v=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Q1(n,a),ci(a),o&4&&tg(a);break;case 21:break;default:Q1(n,a),ci(a)}}function ci(a){var n=a.flags;if(n&2){try{e:{for(var i=a.return;i!==null;){if(u5(i)){var o=i;break e}i=i.return}throw Error(ct(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(N0(c,""),o.flags&=-33);var d=eg(a);zp(a,d,c);break;case 3:case 4:var f=o.stateNode.containerInfo,h=eg(a);Up(a,h,f);break;default:throw Error(ct(161))}}catch(p){Is(a,a.return,p)}a.flags&=-3}n&4096&&(a.flags&=-4097)}function SE(a,n,i){_t=a,p5(a)}function p5(a,n,i){for(var o=(a.mode&1)!==0;_t!==null;){var c=_t,d=c.child;if(c.tag===22&&o){var f=c.memoizedState!==null||U2;if(!f){var h=c.alternate,p=h!==null&&h.memoizedState!==null||Fn;h=U2;var m=Fn;if(U2=f,(Fn=p)&&!m)for(_t=c;_t!==null;)f=_t,p=f.child,f.tag===22&&f.memoizedState!==null?sg(c):p!==null?(p.return=f,_t=p):sg(c);for(;d!==null;)_t=d,p5(d),d=d.sibling;_t=c,U2=h,Fn=m}rg(a)}else c.subtreeFlags&8772&&d!==null?(d.return=c,_t=d):rg(a)}}function rg(a){for(;_t!==null;){var n=_t;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Fn||gu(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Fn)if(i===null)o.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:$1(n.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&z4(n,d,o);break;case 3:var f=n.updateQueue;if(f!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}z4(n,f,i)}break;case 5:var h=n.stateNode;if(i===null&&n.flags&4){i=h;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var w=v.dehydrated;w!==null&&D0(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}Fn||n.flags&512&&Op(n)}catch(y){Is(n,n.return,y)}}if(n===a){_t=null;break}if(i=n.sibling,i!==null){i.return=n.return,_t=i;break}_t=n.return}}function ag(a){for(;_t!==null;){var n=_t;if(n===a){_t=null;break}var i=n.sibling;if(i!==null){i.return=n.return,_t=i;break}_t=n.return}}function sg(a){for(;_t!==null;){var n=_t;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{gu(4,n)}catch(p){Is(n,i,p)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var c=n.return;try{o.componentDidMount()}catch(p){Is(n,c,p)}}var d=n.return;try{Op(n)}catch(p){Is(n,d,p)}break;case 5:var f=n.return;try{Op(n)}catch(p){Is(n,f,p)}}}catch(p){Is(n,n.return,p)}if(n===a){_t=null;break}var h=n.sibling;if(h!==null){h.return=n.return,_t=h;break}_t=n.return}}var EE=Math.ceil,Od=_i.ReactCurrentDispatcher,cm=_i.ReactCurrentOwner,B1=_i.ReactCurrentBatchConfig,ca=0,fn=null,Ws=null,jn=0,g1=0,Fl=vo(0),Zs=0,Q0=null,el=0,bu=0,dm=0,j0=null,e1=null,um=0,rc=1/0,Ei=null,Ud=!1,Lp=null,no=null,z2=!1,Xi=null,zd=0,S0=0,Qp=null,cd=-1,dd=0;function Yn(){return ca&6?Os():cd!==-1?cd:cd=Os()}function io(a){return a.mode&1?ca&2&&jn!==0?jn&-jn:cE.transition!==null?(dd===0&&(dd=X6()),dd):(a=Na,a!==0||(a=window.event,a=a===void 0?16:n8(a.type)),a):1}function W1(a,n,i,o){if(50<S0)throw S0=0,Qp=null,Error(ct(185));Z0(a,i,o),(!(ca&2)||a!==fn)&&(a===fn&&(!(ca&2)&&(bu|=i),Zs===4&&Vi(a,jn)),o1(a,o),i===1&&ca===0&&!(n.mode&1)&&(rc=Os()+500,mu&&xo()))}function o1(a,n){var i=a.callbackNode;cS(a,n);var o=kd(a,a===fn?jn:0);if(o===0)i!==null&&h4(i),a.callbackNode=null,a.callbackPriority=0;else if(n=o&-o,a.callbackPriority!==n){if(i!=null&&h4(i),n===1)a.tag===0?lE(ng.bind(null,a)):j8(ng.bind(null,a)),sE(function(){!(ca&6)&&xo()}),i=null;else{switch(Z6(o)){case 1:i=P3;break;case 4:i=W6;break;case 16:i=Ad;break;case 536870912:i=J6;break;default:i=Ad}i=A5(i,m5.bind(null,a))}a.callbackPriority=n,a.callbackNode=i}}function m5(a,n){if(cd=-1,dd=0,ca&6)throw Error(ct(327));var i=a.callbackNode;if(Ql()&&a.callbackNode!==i)return null;var o=kd(a,a===fn?jn:0);if(o===0)return null;if(o&30||o&a.expiredLanes||n)n=Ld(a,o);else{n=o;var c=ca;ca|=2;var d=x5();(fn!==a||jn!==n)&&(Ei=null,rc=Os()+500,Yo(a,n));do try{IE();break}catch(h){v5(a,h)}while(!0);W3(),Od.current=d,ca=c,Ws!==null?n=0:(fn=null,jn=0,n=Zs)}if(n!==0){if(n===2&&(c=mp(a),c!==0&&(o=c,n=Hp(a,c))),n===1)throw i=Q0,Yo(a,0),Vi(a,o),o1(a,Os()),i;if(n===6)Vi(a,o);else{if(c=a.current.alternate,!(o&30)&&!NE(c)&&(n=Ld(a,o),n===2&&(d=mp(a),d!==0&&(o=d,n=Hp(a,d))),n===1))throw i=Q0,Yo(a,0),Vi(a,o),o1(a,Os()),i;switch(a.finishedWork=c,a.finishedLanes=o,n){case 0:case 1:throw Error(ct(345));case 2:To(a,e1,Ei);break;case 3:if(Vi(a,o),(o&130023424)===o&&(n=um+500-Os(),10<n)){if(kd(a,0)!==0)break;if(c=a.suspendedLanes,(c&o)!==o){Yn(),a.pingedLanes|=a.suspendedLanes&c;break}a.timeoutHandle=kp(To.bind(null,a,e1,Ei),n);break}To(a,e1,Ei);break;case 4:if(Vi(a,o),(o&4194240)===o)break;for(n=a.eventTimes,c=-1;0<o;){var f=31-K1(o);d=1<<f,f=n[f],f>c&&(c=f),o&=~d}if(o=c,o=Os()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*EE(o/1960))-o,10<o){a.timeoutHandle=kp(To.bind(null,a,e1,Ei),o);break}To(a,e1,Ei);break;case 5:To(a,e1,Ei);break;default:throw Error(ct(329))}}}return o1(a,Os()),a.callbackNode===i?m5.bind(null,a):null}function Hp(a,n){var i=j0;return a.current.memoizedState.isDehydrated&&(Yo(a,n).flags|=256),a=Ld(a,n),a!==2&&(n=e1,e1=i,n!==null&&$p(n)),a}function $p(a){e1===null?e1=a:e1.push.apply(e1,a)}function NE(a){for(var n=a;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],d=c.getSnapshot;c=c.value;try{if(!J1(d(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(a,n){for(n&=~dm,n&=~bu,a.suspendedLanes|=n,a.pingedLanes&=~n,a=a.expirationTimes;0<n;){var i=31-K1(n),o=1<<i;a[i]=-1,n&=~o}}function ng(a){if(ca&6)throw Error(ct(327));Ql();var n=kd(a,0);if(!(n&1))return o1(a,Os()),null;var i=Ld(a,n);if(a.tag!==0&&i===2){var o=mp(a);o!==0&&(n=o,i=Hp(a,o))}if(i===1)throw i=Q0,Yo(a,0),Vi(a,n),o1(a,Os()),i;if(i===6)throw Error(ct(345));return a.finishedWork=a.current.alternate,a.finishedLanes=n,To(a,e1,Ei),o1(a,Os()),null}function fm(a,n){var i=ca;ca|=1;try{return a(n)}finally{ca=i,ca===0&&(rc=Os()+500,mu&&xo())}}function tl(a){Xi!==null&&Xi.tag===0&&!(ca&6)&&Ql();var n=ca;ca|=1;var i=B1.transition,o=Na;try{if(B1.transition=null,Na=1,a)return a()}finally{Na=o,B1.transition=i,ca=n,!(ca&6)&&xo()}}function hm(){g1=Fl.current,ns(Fl)}function Yo(a,n){a.finishedWork=null,a.finishedLanes=0;var i=a.timeoutHandle;if(i!==-1&&(a.timeoutHandle=-1,aE(i)),Ws!==null)for(i=Ws.return;i!==null;){var o=i;switch(Y3(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Cd();break;case 3:ec(),ns(n1),ns(On),rm();break;case 5:tm(o);break;case 4:ec();break;case 13:ns(js);break;case 19:ns(js);break;case 10:J3(o.type._context);break;case 22:case 23:hm()}i=i.return}if(fn=a,Ws=a=oo(a.current,null),jn=g1=n,Zs=0,Q0=null,dm=bu=el=0,e1=j0=null,Lo!==null){for(n=0;n<Lo.length;n++)if(i=Lo[n],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,d=i.pending;if(d!==null){var f=d.next;d.next=c,o.next=f}i.pending=o}Lo=null}return a}function v5(a,n){do{var i=Ws;try{if(W3(),id.current=Pd,_d){for(var o=Ss.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}_d=!1}if(Zo=0,dn=Xs=Ss=null,A0=!1,U0=0,cm.current=null,i===null||i.return===null){Zs=1,Q0=n,Ws=null;break}e:{var d=a,f=i.return,h=i,p=n;if(n=jn,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,v=h,w=v.tag;if(!(v.mode&1)&&(w===0||w===11||w===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=G4(f);if(x!==null){x.flags&=-257,Y4(x,f,h,d,n),x.mode&1&&q4(d,m,n),n=x,p=m;var g=n.updateQueue;if(g===null){var A=new Set;A.add(p),n.updateQueue=A}else g.add(p);break e}else{if(!(n&1)){q4(d,m,n),pm();break e}p=Error(ct(426))}}else if(fs&&h.mode&1){var j=G4(f);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Y4(j,f,h,d,n),V3(tc(p,h));break e}}d=p=tc(p,h),Zs!==4&&(Zs=2),j0===null?j0=[d]:j0.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=Z8(d,p,n);U4(d,C);break e;case 1:h=p;var k=d.type,E=d.stateNode;if(!(d.flags&128)&&(typeof k.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(no===null||!no.has(E)))){d.flags|=65536,n&=-n,d.lanes|=n;var B=e5(d,h,n);U4(d,B);break e}}d=d.return}while(d!==null)}b5(i)}catch(I){n=I,Ws===i&&i!==null&&(Ws=i=i.return);continue}break}while(!0)}function x5(){var a=Od.current;return Od.current=Pd,a===null?Pd:a}function pm(){(Zs===0||Zs===3||Zs===2)&&(Zs=4),fn===null||!(el&268435455)&&!(bu&268435455)||Vi(fn,jn)}function Ld(a,n){var i=ca;ca|=2;var o=x5();(fn!==a||jn!==n)&&(Ei=null,Yo(a,n));do try{CE();break}catch(c){v5(a,c)}while(!0);if(W3(),ca=i,Od.current=o,Ws!==null)throw Error(ct(261));return fn=null,jn=0,Zs}function CE(){for(;Ws!==null;)g5(Ws)}function IE(){for(;Ws!==null&&!eS();)g5(Ws)}function g5(a){var n=y5(a.alternate,a,g1);a.memoizedProps=a.pendingProps,n===null?b5(a):Ws=n,cm.current=null}function b5(a){var n=a;do{var i=n.alternate;if(a=n.return,n.flags&32768){if(i=AE(i,n),i!==null){i.flags&=32767,Ws=i;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Zs=6,Ws=null;return}}else if(i=yE(i,n,g1),i!==null){Ws=i;return}if(n=n.sibling,n!==null){Ws=n;return}Ws=n=a}while(n!==null);Zs===0&&(Zs=5)}function To(a,n,i){var o=Na,c=B1.transition;try{B1.transition=null,Na=1,BE(a,n,i,o)}finally{B1.transition=c,Na=o}return null}function BE(a,n,i,o){do Ql();while(Xi!==null);if(ca&6)throw Error(ct(327));i=a.finishedWork;var c=a.finishedLanes;if(i===null)return null;if(a.finishedWork=null,a.finishedLanes=0,i===a.current)throw Error(ct(177));a.callbackNode=null,a.callbackPriority=0;var d=i.lanes|i.childLanes;if(dS(a,d),a===fn&&(Ws=fn=null,jn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||z2||(z2=!0,A5(Ad,function(){return Ql(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=B1.transition,B1.transition=null;var f=Na;Na=1;var h=ca;ca|=4,cm.current=null,jE(a,i),h5(i,a),WS(yp),jd=!!wp,yp=wp=null,a.current=i,SE(i),tS(),ca=h,Na=f,B1.transition=d}else a.current=i;if(z2&&(z2=!1,Xi=a,zd=c),d=a.pendingLanes,d===0&&(no=null),sS(i.stateNode),o1(a,Os()),n!==null)for(o=a.onRecoverableError,i=0;i<n.length;i++)c=n[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(Ud)throw Ud=!1,a=Lp,Lp=null,a;return zd&1&&a.tag!==0&&Ql(),d=a.pendingLanes,d&1?a===Qp?S0++:(S0=0,Qp=a):S0=0,xo(),null}function Ql(){if(Xi!==null){var a=Z6(zd),n=B1.transition,i=Na;try{if(B1.transition=null,Na=16>a?16:a,Xi===null)var o=!1;else{if(a=Xi,Xi=null,zd=0,ca&6)throw Error(ct(331));var c=ca;for(ca|=4,_t=a.current;_t!==null;){var d=_t,f=d.child;if(_t.flags&16){var h=d.deletions;if(h!==null){for(var p=0;p<h.length;p++){var m=h[p];for(_t=m;_t!==null;){var v=_t;switch(v.tag){case 0:case 11:case 15:k0(8,v,d)}var w=v.child;if(w!==null)w.return=v,_t=w;else for(;_t!==null;){v=_t;var y=v.sibling,x=v.return;if(d5(v),v===m){_t=null;break}if(y!==null){y.return=x,_t=y;break}_t=x}}}var g=d.alternate;if(g!==null){var A=g.child;if(A!==null){g.child=null;do{var j=A.sibling;A.sibling=null,A=j}while(A!==null)}}_t=d}}if(d.subtreeFlags&2064&&f!==null)f.return=d,_t=f;else e:for(;_t!==null;){if(d=_t,d.flags&2048)switch(d.tag){case 0:case 11:case 15:k0(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,_t=C;break e}_t=d.return}}var k=a.current;for(_t=k;_t!==null;){f=_t;var E=f.child;if(f.subtreeFlags&2064&&E!==null)E.return=f,_t=E;else e:for(f=k;_t!==null;){if(h=_t,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:gu(9,h)}}catch(I){Is(h,h.return,I)}if(h===f){_t=null;break e}var B=h.sibling;if(B!==null){B.return=h.return,_t=B;break e}_t=h.return}}if(ca=c,xo(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(du,a)}catch{}o=!0}return o}finally{Na=i,B1.transition=n}}return!1}function ig(a,n,i){n=tc(i,n),n=Z8(a,n,1),a=so(a,n,1),n=Yn(),a!==null&&(Z0(a,1,n),o1(a,n))}function Is(a,n,i){if(a.tag===3)ig(a,a,i);else for(;n!==null;){if(n.tag===3){ig(n,a,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(no===null||!no.has(o))){a=tc(i,a),a=e5(n,a,1),n=so(n,a,1),a=Yn(),n!==null&&(Z0(n,1,a),o1(n,a));break}}n=n.return}}function DE(a,n,i){var o=a.pingCache;o!==null&&o.delete(n),n=Yn(),a.pingedLanes|=a.suspendedLanes&i,fn===a&&(jn&i)===i&&(Zs===4||Zs===3&&(jn&130023424)===jn&&500>Os()-um?Yo(a,0):dm|=i),o1(a,n)}function w5(a,n){n===0&&(a.mode&1?(n=B2,B2<<=1,!(B2&130023424)&&(B2=4194304)):n=1);var i=Yn();a=Mi(a,n),a!==null&&(Z0(a,n,i),o1(a,i))}function RE(a){var n=a.memoizedState,i=0;n!==null&&(i=n.retryLane),w5(a,i)}function TE(a,n){var i=0;switch(a.tag){case 13:var o=a.stateNode,c=a.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=a.stateNode;break;default:throw Error(ct(314))}o!==null&&o.delete(n),w5(a,i)}var y5;y5=function(a,n,i){if(a!==null)if(a.memoizedProps!==n.pendingProps||n1.current)a1=!0;else{if(!(a.lanes&i)&&!(n.flags&128))return a1=!1,wE(a,n,i);a1=!!(a.flags&131072)}else a1=!1,fs&&n.flags&1048576&&S8(n,Dd,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;ld(a,n),a=n.pendingProps;var c=Jl(n,On.current);Ll(n,i),c=sm(null,n,o,a,c,i);var d=nm();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,i1(o)?(d=!0,Id(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Z3(n),c.updater=xu,n.stateNode=c,c._reactInternals=n,Bp(n,o,a,i),n=Tp(null,n,o,!0,d,i)):(n.tag=0,fs&&d&&G3(n),Gn(null,n,c,i),n=n.child),n;case 16:o=n.elementType;e:{switch(ld(a,n),a=n.pendingProps,c=o._init,o=c(o._payload),n.type=o,c=n.tag=FE(o),a=$1(o,a),c){case 0:n=Rp(null,n,o,a,i);break e;case 1:n=W4(null,n,o,a,i);break e;case 11:n=V4(null,n,o,a,i);break e;case 14:n=K4(null,n,o,$1(o.type,a),i);break e}throw Error(ct(306,o,""))}return n;case 0:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:$1(o,c),Rp(a,n,o,c,i);case 1:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:$1(o,c),W4(a,n,o,c,i);case 3:e:{if(s5(n),a===null)throw Error(ct(387));o=n.pendingProps,d=n.memoizedState,c=d.element,D8(a,n),Md(n,o,null,i);var f=n.memoizedState;if(o=f.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=tc(Error(ct(423)),n),n=J4(a,n,o,i,c);break e}else if(o!==c){c=tc(Error(ct(424)),n),n=J4(a,n,o,i,c);break e}else for(w1=ao(n.stateNode.containerInfo.firstChild),y1=n,fs=!0,V1=null,i=I8(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Xl(),o===c){n=Fi(a,n,i);break e}Gn(a,n,o,i)}n=n.child}return n;case 5:return R8(n),a===null&&Np(n),o=n.type,c=n.pendingProps,d=a!==null?a.memoizedProps:null,f=c.children,Ap(o,c)?f=null:d!==null&&Ap(o,d)&&(n.flags|=32),a5(a,n),Gn(a,n,f,i),n.child;case 6:return a===null&&Np(n),null;case 13:return n5(a,n,i);case 4:return em(n,n.stateNode.containerInfo),o=n.pendingProps,a===null?n.child=Zl(n,null,o,i):Gn(a,n,o,i),n.child;case 11:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:$1(o,c),V4(a,n,o,c,i);case 7:return Gn(a,n,n.pendingProps,i),n.child;case 8:return Gn(a,n,n.pendingProps.children,i),n.child;case 12:return Gn(a,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,c=n.pendingProps,d=n.memoizedProps,f=c.value,Va(Rd,o._currentValue),o._currentValue=f,d!==null)if(J1(d.value,f)){if(d.children===c.children&&!n1.current){n=Fi(a,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var h=d.dependencies;if(h!==null){f=d.child;for(var p=h.firstContext;p!==null;){if(p.context===o){if(d.tag===1){p=Di(-1,i&-i),p.tag=2;var m=d.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?p.next=p:(p.next=v.next,v.next=p),m.pending=p}}d.lanes|=i,p=d.alternate,p!==null&&(p.lanes|=i),Cp(d.return,i,n),h.lanes|=i;break}p=p.next}}else if(d.tag===10)f=d.type===n.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(ct(341));f.lanes|=i,h=f.alternate,h!==null&&(h.lanes|=i),Cp(f,i,n),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===n){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}Gn(a,n,c.children,i),n=n.child}return n;case 9:return c=n.type,o=n.pendingProps.children,Ll(n,i),c=D1(c),o=o(c),n.flags|=1,Gn(a,n,o,i),n.child;case 14:return o=n.type,c=$1(o,n.pendingProps),c=$1(o.type,c),K4(a,n,o,c,i);case 15:return t5(a,n,n.type,n.pendingProps,i);case 17:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:$1(o,c),ld(a,n),n.tag=1,i1(o)?(a=!0,Id(n)):a=!1,Ll(n,i),X8(n,o,c),Bp(n,o,c,i),Tp(null,n,o,!0,a,i);case 19:return i5(a,n,i);case 22:return r5(a,n,i)}throw Error(ct(156,n.tag))};function A5(a,n){return K6(a,n)}function ME(a,n,i,o){this.tag=a,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function I1(a,n,i,o){return new ME(a,n,i,o)}function mm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function FE(a){if(typeof a=="function")return mm(a)?1:0;if(a!=null){if(a=a.$$typeof,a===M3)return 11;if(a===F3)return 14}return 2}function oo(a,n){var i=a.alternate;return i===null?(i=I1(a.tag,n,a.key,a.mode),i.elementType=a.elementType,i.type=a.type,i.stateNode=a.stateNode,i.alternate=a,a.alternate=i):(i.pendingProps=n,i.type=a.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=a.flags&14680064,i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=a.sibling,i.index=a.index,i.ref=a.ref,i}function ud(a,n,i,o,c,d){var f=2;if(o=a,typeof a=="function")mm(a)&&(f=1);else if(typeof a=="string")f=5;else e:switch(a){case Sl:return Vo(i.children,c,d,n);case T3:f=8,c|=8;break;case ep:return a=I1(12,i,n,c|2),a.elementType=ep,a.lanes=d,a;case tp:return a=I1(13,i,n,c),a.elementType=tp,a.lanes=d,a;case rp:return a=I1(19,i,n,c),a.elementType=rp,a.lanes=d,a;case R6:return wu(i,c,d,n);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B6:f=10;break e;case D6:f=9;break e;case M3:f=11;break e;case F3:f=14;break e;case qi:f=16,o=null;break e}throw Error(ct(130,a==null?a:typeof a,""))}return n=I1(f,i,n,c),n.elementType=a,n.type=o,n.lanes=d,n}function Vo(a,n,i,o){return a=I1(7,a,o,n),a.lanes=i,a}function wu(a,n,i,o){return a=I1(22,a,o,n),a.elementType=R6,a.lanes=i,a.stateNode={isHidden:!1},a}function Zf(a,n,i){return a=I1(6,a,null,n),a.lanes=i,a}function eh(a,n,i){return n=I1(4,a.children!==null?a.children:[],a.key,n),n.lanes=i,n.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},n}function _E(a,n,i,o,c){this.tag=n,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function vm(a,n,i,o,c,d,f,h,p){return a=new _E(a,n,i,h,p),n===1?(n=1,d===!0&&(n|=8)):n=0,d=I1(3,null,null,n),a.current=d,d.stateNode=a,d.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z3(d),a}function PE(a,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:o==null?null:""+o,children:a,containerInfo:n,implementation:i}}function k5(a){if(!a)return fo;a=a._reactInternals;e:{if(sl(a)!==a||a.tag!==1)throw Error(ct(170));var n=a;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(i1(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ct(171))}if(a.tag===1){var i=a.type;if(i1(i))return k8(a,i,n)}return n}function j5(a,n,i,o,c,d,f,h,p){return a=vm(i,o,!0,a,c,d,f,h,p),a.context=k5(null),i=a.current,o=Yn(),c=io(i),d=Di(o,c),d.callback=n??null,so(i,d,c),a.current.lanes=c,Z0(a,c,o),o1(a,o),a}function yu(a,n,i,o){var c=n.current,d=Yn(),f=io(c);return i=k5(i),n.context===null?n.context=i:n.pendingContext=i,n=Di(d,f),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=so(c,n,f),a!==null&&(W1(a,c,f,d),nd(a,c,f)),f}function Qd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function og(a,n){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var i=a.retryLane;a.retryLane=i!==0&&i<n?i:n}}function xm(a,n){og(a,n),(a=a.alternate)&&og(a,n)}function OE(){return null}var S5=typeof reportError=="function"?reportError:function(a){console.error(a)};function gm(a){this._internalRoot=a}Au.prototype.render=gm.prototype.render=function(a){var n=this._internalRoot;if(n===null)throw Error(ct(409));yu(a,n,null,null)};Au.prototype.unmount=gm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var n=a.containerInfo;tl(function(){yu(null,a,null,null)}),n[Ti]=null}};function Au(a){this._internalRoot=a}Au.prototype.unstable_scheduleHydration=function(a){if(a){var n=r8();a={blockedOn:null,target:a,priority:n};for(var i=0;i<Yi.length&&n!==0&&n<Yi[i].priority;i++);Yi.splice(i,0,a),i===0&&s8(a)}};function bm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ku(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function lg(){}function UE(a,n,i,o,c){if(c){if(typeof o=="function"){var d=o;o=function(){var m=Qd(f);d.call(m)}}var f=j5(n,o,a,0,null,!1,!1,"",lg);return a._reactRootContainer=f,a[Ti]=f.current,M0(a.nodeType===8?a.parentNode:a),tl(),f}for(;c=a.lastChild;)a.removeChild(c);if(typeof o=="function"){var h=o;o=function(){var m=Qd(p);h.call(m)}}var p=vm(a,0,!1,null,null,!1,!1,"",lg);return a._reactRootContainer=p,a[Ti]=p.current,M0(a.nodeType===8?a.parentNode:a),tl(function(){yu(n,p,i,o)}),p}function ju(a,n,i,o,c){var d=i._reactRootContainer;if(d){var f=d;if(typeof c=="function"){var h=c;c=function(){var p=Qd(f);h.call(p)}}yu(n,f,a,c)}else f=UE(i,n,a,c,o);return Qd(f)}e8=function(a){switch(a.tag){case 3:var n=a.stateNode;if(n.current.memoizedState.isDehydrated){var i=f0(n.pendingLanes);i!==0&&(O3(n,i|1),o1(n,Os()),!(ca&6)&&(rc=Os()+500,xo()))}break;case 13:tl(function(){var o=Mi(a,1);if(o!==null){var c=Yn();W1(o,a,1,c)}}),xm(a,1)}};U3=function(a){if(a.tag===13){var n=Mi(a,134217728);if(n!==null){var i=Yn();W1(n,a,134217728,i)}xm(a,134217728)}};t8=function(a){if(a.tag===13){var n=io(a),i=Mi(a,n);if(i!==null){var o=Yn();W1(i,a,n,o)}xm(a,n)}};r8=function(){return Na};a8=function(a,n){var i=Na;try{return Na=a,n()}finally{Na=i}};fp=function(a,n,i){switch(n){case"input":if(np(a,i),n=i.name,i.type==="radio"&&n!=null){for(i=a;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==a&&o.form===a.form){var c=pu(o);if(!c)throw Error(ct(90));M6(o),np(o,c)}}}break;case"textarea":_6(a,i);break;case"select":n=i.value,n!=null&&Pl(a,!!i.multiple,n,!1)}};H6=fm;$6=tl;var zE={usingClientEntryPoint:!1,Events:[t2,Il,pu,L6,Q6,fm]},o0={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LE={bundleType:o0.bundleType,version:o0.version,rendererPackageName:o0.rendererPackageName,rendererConfig:o0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Y6(a),a===null?null:a.stateNode},findFiberByHostInstance:o0.findFiberByHostInstance||OE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var L2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!L2.isDisabled&&L2.supportsFiber)try{du=L2.inject(LE),mi=L2}catch{}}k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;k1.createPortal=function(a,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(n))throw Error(ct(200));return PE(a,n,null,i)};k1.createRoot=function(a,n){if(!bm(a))throw Error(ct(299));var i=!1,o="",c=S5;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=vm(a,1,!1,null,null,i,!1,o,c),a[Ti]=n.current,M0(a.nodeType===8?a.parentNode:a),new gm(n)};k1.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var n=a._reactInternals;if(n===void 0)throw typeof a.render=="function"?Error(ct(188)):(a=Object.keys(a).join(","),Error(ct(268,a)));return a=Y6(n),a=a===null?null:a.stateNode,a};k1.flushSync=function(a){return tl(a)};k1.hydrate=function(a,n,i){if(!ku(n))throw Error(ct(200));return ju(null,a,n,!0,i)};k1.hydrateRoot=function(a,n,i){if(!bm(a))throw Error(ct(405));var o=i!=null&&i.hydratedSources||null,c=!1,d="",f=S5;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),n=j5(n,null,a,1,i??null,c,!1,d,f),a[Ti]=n.current,M0(a),o)for(a=0;a<o.length;a++)i=o[a],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new Au(n)};k1.render=function(a,n,i){if(!ku(n))throw Error(ct(200));return ju(null,a,n,!1,i)};k1.unmountComponentAtNode=function(a){if(!ku(a))throw Error(ct(40));return a._reactRootContainer?(tl(function(){ju(null,null,a,!1,function(){a._reactRootContainer=null,a[Ti]=null})}),!0):!1};k1.unstable_batchedUpdates=fm;k1.unstable_renderSubtreeIntoContainer=function(a,n,i,o){if(!ku(i))throw Error(ct(200));if(a==null||a._reactInternals===void 0)throw Error(ct(38));return ju(a,n,i,!1,o)};k1.version="18.3.1-next-f1338f8080-20240426";function E5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E5)}catch(a){console.error(a)}}E5(),E6.exports=k1;var QE=E6.exports,cg=QE;Xh.createRoot=cg.createRoot,Xh.hydrateRoot=cg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H0(){return H0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},H0.apply(this,arguments)}var Zi;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Zi||(Zi={}));const dg="popstate";function HE(a){a===void 0&&(a={});function n(o,c){let{pathname:d,search:f,hash:h}=o.location;return qp("",{pathname:d,search:f,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:Hd(c)}return qE(n,i,null,a)}function Us(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function wm(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function $E(){return Math.random().toString(36).substr(2,8)}function ug(a,n){return{usr:a.state,key:a.key,idx:n}}function qp(a,n,i,o){return i===void 0&&(i=null),H0({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?xc(n):n,{state:i,key:n&&n.key||o||$E()})}function Hd(a){let{pathname:n="/",search:i="",hash:o=""}=a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function xc(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substr(i),a=a.substr(0,i));let o=a.indexOf("?");o>=0&&(n.search=a.substr(o),a=a.substr(0,o)),a&&(n.pathname=a)}return n}function qE(a,n,i,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:d=!1}=o,f=c.history,h=Zi.Pop,p=null,m=v();m==null&&(m=0,f.replaceState(H0({},f.state,{idx:m}),""));function v(){return(f.state||{idx:null}).idx}function w(){h=Zi.Pop;let j=v(),C=j==null?null:j-m;m=j,p&&p({action:h,location:A.location,delta:C})}function y(j,C){h=Zi.Push;let k=qp(A.location,j,C);m=v()+1;let E=ug(k,m),B=A.createHref(k);try{f.pushState(E,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;c.location.assign(B)}d&&p&&p({action:h,location:A.location,delta:1})}function x(j,C){h=Zi.Replace;let k=qp(A.location,j,C);m=v();let E=ug(k,m),B=A.createHref(k);f.replaceState(E,"",B),d&&p&&p({action:h,location:A.location,delta:0})}function g(j){let C=c.location.origin!=="null"?c.location.origin:c.location.href,k=typeof j=="string"?j:Hd(j);return k=k.replace(/ $/,"%20"),Us(C,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,C)}let A={get action(){return h},get location(){return a(c,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(dg,w),p=j,()=>{c.removeEventListener(dg,w),p=null}},createHref(j){return n(c,j)},createURL:g,encodeLocation(j){let C=g(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(j){return f.go(j)}};return A}var fg;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(fg||(fg={}));function GE(a,n,i){return i===void 0&&(i="/"),YE(a,n,i)}function YE(a,n,i,o){let c=typeof n=="string"?xc(n):n,d=ym(c.pathname||"/",i);if(d==null)return null;let f=N5(a);VE(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=iN(d);h=aN(f[p],m)}return h}function N5(a,n,i,o){n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o="");let c=(d,f,h)=>{let p={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};p.relativePath.startsWith("/")&&(Us(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let m=lo([o,p.relativePath]),v=i.concat(p);d.children&&d.children.length>0&&(Us(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),N5(d.children,n,v,m)),!(d.path==null&&!d.index)&&n.push({path:m,score:tN(m,d.index),routesMeta:v})};return a.forEach((d,f)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))c(d,f);else for(let p of C5(d.path))c(d,f,p)}),n}function C5(a){let n=a.split("/");if(n.length===0)return[];let[i,...o]=n,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let f=C5(o.join("/")),h=[];return h.push(...f.map(p=>p===""?d:[d,p].join("/"))),c&&h.push(...f),h.map(p=>a.startsWith("/")&&p===""?"/":p)}function VE(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:rN(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const KE=/^:[\w-]+$/,WE=3,JE=2,XE=1,ZE=10,eN=-2,hg=a=>a==="*";function tN(a,n){let i=a.split("/"),o=i.length;return i.some(hg)&&(o+=eN),n&&(o+=JE),i.filter(c=>!hg(c)).reduce((c,d)=>c+(KE.test(d)?WE:d===""?XE:ZE),o)}function rN(a,n){return a.length===n.length&&a.slice(0,-1).every((o,c)=>o===n[c])?a[a.length-1]-n[n.length-1]:0}function aN(a,n,i){let{routesMeta:o}=a,c={},d="/",f=[];for(let h=0;h<o.length;++h){let p=o[h],m=h===o.length-1,v=d==="/"?n:n.slice(d.length)||"/",w=sN({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),y=p.route;if(!w)return null;Object.assign(c,w.params),f.push({params:c,pathname:lo([d,w.pathname]),pathnameBase:uN(lo([d,w.pathnameBase])),route:y}),w.pathnameBase!=="/"&&(d=lo([d,w.pathnameBase]))}return f}function sN(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,o]=nN(a.path,a.caseSensitive,a.end),c=n.match(i);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:o.reduce((m,v,w)=>{let{paramName:y,isOptional:x}=v;if(y==="*"){let A=h[w]||"";f=d.slice(0,d.length-A.length).replace(/(.)\/+$/,"$1")}const g=h[w];return x&&!g?m[y]=void 0:m[y]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:f,pattern:a}}function nN(a,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),wm(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function iN(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return wm(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function ym(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=a.charAt(i);return o&&o!=="/"?null:a.slice(i)||"/"}const oN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lN=a=>oN.test(a);function cN(a,n){n===void 0&&(n="/");let{pathname:i,search:o="",hash:c=""}=typeof a=="string"?xc(a):a,d;if(i)if(lN(i))d=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),wm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+i))}i.startsWith("/")?d=pg(i.substring(1),"/"):d=pg(i,n)}else d=n;return{pathname:d,search:fN(o),hash:hN(c)}}function pg(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function th(a,n,i,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dN(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Am(a,n){let i=dN(a);return n?i.map((o,c)=>c===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function km(a,n,i,o){o===void 0&&(o=!1);let c;typeof a=="string"?c=xc(a):(c=H0({},a),Us(!c.pathname||!c.pathname.includes("?"),th("?","pathname","search",c)),Us(!c.pathname||!c.pathname.includes("#"),th("#","pathname","hash",c)),Us(!c.search||!c.search.includes("#"),th("#","search","hash",c)));let d=a===""||c.pathname==="",f=d?"/":c.pathname,h;if(f==null)h=i;else{let w=n.length-1;if(!o&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),w-=1;c.pathname=y.join("/")}h=w>=0?n[w]:"/"}let p=cN(c,h),m=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}const lo=a=>a.join("/").replace(/\/\/+/g,"/"),uN=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),fN=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,hN=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function pN(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const I5=["post","put","patch","delete"];new Set(I5);const mN=["get",...I5];new Set(mN);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $0(){return $0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},$0.apply(this,arguments)}const jm=ce.createContext(null),vN=ce.createContext(null),go=ce.createContext(null),Su=ce.createContext(null),bo=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),B5=ce.createContext(null);function xN(a,n){let{relative:i}=n===void 0?{}:n;gc()||Us(!1);let{basename:o,navigator:c}=ce.useContext(go),{hash:d,pathname:f,search:h}=R5(a,{relative:i}),p=f;return o!=="/"&&(p=f==="/"?o:lo([o,f])),c.createHref({pathname:p,search:h,hash:d})}function gc(){return ce.useContext(Su)!=null}function bc(){return gc()||Us(!1),ce.useContext(Su).location}function D5(a){ce.useContext(go).static||ce.useLayoutEffect(a)}function Sm(){let{isDataRoute:a}=ce.useContext(bo);return a?BN():gN()}function gN(){gc()||Us(!1);let a=ce.useContext(jm),{basename:n,future:i,navigator:o}=ce.useContext(go),{matches:c}=ce.useContext(bo),{pathname:d}=bc(),f=JSON.stringify(Am(c,i.v7_relativeSplatPath)),h=ce.useRef(!1);return D5(()=>{h.current=!0}),ce.useCallback(function(m,v){if(v===void 0&&(v={}),!h.current)return;if(typeof m=="number"){o.go(m);return}let w=km(m,JSON.parse(f),d,v.relative==="path");a==null&&n!=="/"&&(w.pathname=w.pathname==="/"?n:lo([n,w.pathname])),(v.replace?o.replace:o.push)(w,v.state,v)},[n,o,f,d,a])}function R5(a,n){let{relative:i}=n===void 0?{}:n,{future:o}=ce.useContext(go),{matches:c}=ce.useContext(bo),{pathname:d}=bc(),f=JSON.stringify(Am(c,o.v7_relativeSplatPath));return ce.useMemo(()=>km(a,JSON.parse(f),d,i==="path"),[a,f,d,i])}function bN(a,n){return wN(a,n)}function wN(a,n,i,o){gc()||Us(!1);let{navigator:c}=ce.useContext(go),{matches:d}=ce.useContext(bo),f=d[d.length-1],h=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=bc(),v;if(n){var w;let j=typeof n=="string"?xc(n):n;p==="/"||(w=j.pathname)!=null&&w.startsWith(p)||Us(!1),v=j}else v=m;let y=v.pathname||"/",x=y;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=GE(a,{pathname:x}),A=SN(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:lo([p,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:lo([p,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,i,o);return n&&A?ce.createElement(Su.Provider,{value:{location:$0({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Zi.Pop}},A):A}function yN(){let a=IN(),n=pN(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},n),i?ce.createElement("pre",{style:c},i):null,null)}const AN=ce.createElement(yN,null);class kN extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?ce.createElement(bo.Provider,{value:this.props.routeContext},ce.createElement(B5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jN(a){let{routeContext:n,match:i,children:o}=a,c=ce.useContext(jm);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),ce.createElement(bo.Provider,{value:n},o)}function SN(a,n,i,o){var c;if(n===void 0&&(n=[]),i===void 0&&(i=null),o===void 0&&(o=null),a==null){var d;if(!i)return null;if(i.errors)a=i.matches;else if((d=o)!=null&&d.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let f=a,h=(c=i)==null?void 0:c.errors;if(h!=null){let v=f.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);v>=0||Us(!1),f=f.slice(0,Math.min(f.length,v+1))}let p=!1,m=-1;if(i&&o&&o.v7_partialHydration)for(let v=0;v<f.length;v++){let w=f[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:y,errors:x}=i,g=w.route.loader&&y[w.route.id]===void 0&&(!x||x[w.route.id]===void 0);if(w.route.lazy||g){p=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((v,w,y)=>{let x,g=!1,A=null,j=null;i&&(x=h&&w.route.id?h[w.route.id]:void 0,A=w.route.errorElement||AN,p&&(m<0&&y===0?(DN("route-fallback"),g=!0,j=null):m===y&&(g=!0,j=w.route.hydrateFallbackElement||null)));let C=n.concat(f.slice(0,y+1)),k=()=>{let E;return x?E=A:g?E=j:w.route.Component?E=ce.createElement(w.route.Component,null):w.route.element?E=w.route.element:E=v,ce.createElement(jN,{match:w,routeContext:{outlet:v,matches:C,isDataRoute:i!=null},children:E})};return i&&(w.route.ErrorBoundary||w.route.errorElement||y===0)?ce.createElement(kN,{location:i.location,revalidation:i.revalidation,component:A,error:x,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}var T5=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(T5||{}),M5=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(M5||{});function EN(a){let n=ce.useContext(jm);return n||Us(!1),n}function NN(a){let n=ce.useContext(vN);return n||Us(!1),n}function CN(a){let n=ce.useContext(bo);return n||Us(!1),n}function F5(a){let n=CN(),i=n.matches[n.matches.length-1];return i.route.id||Us(!1),i.route.id}function IN(){var a;let n=ce.useContext(B5),i=NN(),o=F5();return n!==void 0?n:(a=i.errors)==null?void 0:a[o]}function BN(){let{router:a}=EN(T5.UseNavigateStable),n=F5(M5.UseNavigateStable),i=ce.useRef(!1);return D5(()=>{i.current=!0}),ce.useCallback(function(c,d){d===void 0&&(d={}),i.current&&(typeof c=="number"?a.navigate(c):a.navigate(c,$0({fromRouteId:n},d)))},[a,n])}const mg={};function DN(a,n,i){mg[a]||(mg[a]=!0)}function RN(a,n){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function vg(a){let{to:n,replace:i,state:o,relative:c}=a;gc()||Us(!1);let{future:d,static:f}=ce.useContext(go),{matches:h}=ce.useContext(bo),{pathname:p}=bc(),m=Sm(),v=km(n,Am(h,d.v7_relativeSplatPath),p,c==="path"),w=JSON.stringify(v);return ce.useEffect(()=>m(JSON.parse(w),{replace:i,state:o,relative:c}),[m,w,c,i,o]),null}function x1(a){Us(!1)}function TN(a){let{basename:n="/",children:i=null,location:o,navigationType:c=Zi.Pop,navigator:d,static:f=!1,future:h}=a;gc()&&Us(!1);let p=n.replace(/^\/*/,"/"),m=ce.useMemo(()=>({basename:p,navigator:d,static:f,future:$0({v7_relativeSplatPath:!1},h)}),[p,h,d,f]);typeof o=="string"&&(o=xc(o));let{pathname:v="/",search:w="",hash:y="",state:x=null,key:g="default"}=o,A=ce.useMemo(()=>{let j=ym(v,p);return j==null?null:{location:{pathname:j,search:w,hash:y,state:x,key:g},navigationType:c}},[p,v,w,y,x,g,c]);return A==null?null:ce.createElement(go.Provider,{value:m},ce.createElement(Su.Provider,{children:i,value:A}))}function xg(a){let{children:n,location:i}=a;return bN(Gp(n),i)}new Promise(()=>{});function Gp(a,n){n===void 0&&(n=[]);let i=[];return ce.Children.forEach(a,(o,c)=>{if(!ce.isValidElement(o))return;let d=[...n,c];if(o.type===ce.Fragment){i.push.apply(i,Gp(o.props.children,d));return}o.type!==x1&&Us(!1),!o.props.index||!o.props.children||Us(!1);let f={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Gp(o.props.children,d)),i.push(f)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},Yp.apply(this,arguments)}function MN(a,n){if(a==null)return{};var i={},o=Object.keys(a),c,d;for(d=0;d<o.length;d++)c=o[d],!(n.indexOf(c)>=0)&&(i[c]=a[c]);return i}function FN(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function _N(a,n){return a.button===0&&(!n||n==="_self")&&!FN(a)}const PN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ON="6";try{window.__reactRouterVersion=ON}catch{}const UN="startTransition",gg=Dj[UN];function zN(a){let{basename:n,children:i,future:o,window:c}=a,d=ce.useRef();d.current==null&&(d.current=HE({window:c,v5Compat:!0}));let f=d.current,[h,p]=ce.useState({action:f.action,location:f.location}),{v7_startTransition:m}=o||{},v=ce.useCallback(w=>{m&&gg?gg(()=>p(w)):p(w)},[p,m]);return ce.useLayoutEffect(()=>f.listen(v),[f,v]),ce.useEffect(()=>RN(o),[o]),ce.createElement(TN,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:f,future:o})}const LN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S1=ce.forwardRef(function(n,i){let{onClick:o,relative:c,reloadDocument:d,replace:f,state:h,target:p,to:m,preventScrollReset:v,viewTransition:w}=n,y=MN(n,PN),{basename:x}=ce.useContext(go),g,A=!1;if(typeof m=="string"&&QN.test(m)&&(g=m,LN))try{let E=new URL(window.location.href),B=m.startsWith("//")?new URL(E.protocol+m):new URL(m),I=ym(B.pathname,x);B.origin===E.origin&&I!=null?m=I+B.search+B.hash:A=!0}catch{}let j=xN(m,{relative:c}),C=HN(m,{replace:f,state:h,target:p,preventScrollReset:v,relative:c,viewTransition:w});function k(E){o&&o(E),E.defaultPrevented||C(E)}return ce.createElement("a",Yp({},y,{href:g||j,onClick:A||d?o:k,ref:i,target:p}))});var bg;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(bg||(bg={}));var wg;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(wg||(wg={}));function HN(a,n){let{target:i,replace:o,state:c,preventScrollReset:d,relative:f,viewTransition:h}=n===void 0?{}:n,p=Sm(),m=bc(),v=R5(a,{relative:f});return ce.useCallback(w=>{if(_N(w,i)){w.preventDefault();let y=o!==void 0?o:Hd(m)===Hd(v);p(a,{replace:y,state:c,preventScrollReset:d,relative:f,viewTransition:h})}},[m,p,v,o,c,i,a,d,f,h])}const $N={},yg=a=>{let n;const i=new Set,o=(v,w)=>{const y=typeof v=="function"?v(n):v;if(!Object.is(y,n)){const x=n;n=w??(typeof y!="object"||y===null)?y:Object.assign({},n,y),i.forEach(g=>g(n,x))}},c=()=>n,p={setState:o,getState:c,getInitialState:()=>m,subscribe:v=>(i.add(v),()=>i.delete(v)),destroy:()=>{($N?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=n=a(o,c,p);return p},qN=a=>a?yg(a):yg;var _5={exports:{}},P5={},O5={exports:{}},U5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=ce;function GN(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var YN=typeof Object.is=="function"?Object.is:GN,VN=ac.useState,KN=ac.useEffect,WN=ac.useLayoutEffect,JN=ac.useDebugValue;function XN(a,n){var i=n(),o=VN({inst:{value:i,getSnapshot:n}}),c=o[0].inst,d=o[1];return WN(function(){c.value=i,c.getSnapshot=n,rh(c)&&d({inst:c})},[a,i,n]),KN(function(){return rh(c)&&d({inst:c}),a(function(){rh(c)&&d({inst:c})})},[a]),JN(i),i}function rh(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!YN(a,i)}catch{return!0}}function ZN(a,n){return n()}var eC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZN:XN;U5.useSyncExternalStore=ac.useSyncExternalStore!==void 0?ac.useSyncExternalStore:eC;O5.exports=U5;var tC=O5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=ce,rC=tC;function aC(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var sC=typeof Object.is=="function"?Object.is:aC,nC=rC.useSyncExternalStore,iC=Eu.useRef,oC=Eu.useEffect,lC=Eu.useMemo,cC=Eu.useDebugValue;P5.useSyncExternalStoreWithSelector=function(a,n,i,o,c){var d=iC(null);if(d.current===null){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=lC(function(){function p(x){if(!m){if(m=!0,v=x,x=o(x),c!==void 0&&f.hasValue){var g=f.value;if(c(g,x))return w=g}return w=x}if(g=w,sC(v,x))return g;var A=o(x);return c!==void 0&&c(g,A)?(v=x,g):(v=x,w=A)}var m=!1,v,w,y=i===void 0?null:i;return[function(){return p(n())},y===null?void 0:function(){return p(y())}]},[n,i,o,c]);var h=nC(a,d[0],d[1]);return oC(function(){f.hasValue=!0,f.value=h},[h]),cC(h),h};_5.exports=P5;var dC=_5.exports;const uC=lu(dC),z5={},{useDebugValue:fC}=I3,{useSyncExternalStoreWithSelector:hC}=uC;let Ag=!1;const pC=a=>a;function mC(a,n=pC,i){(z5?"production":void 0)!=="production"&&i&&!Ag&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ag=!0);const o=hC(a.subscribe,a.getState,a.getServerState||a.getInitialState,n,i);return fC(o),o}const kg=a=>{(z5?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof a=="function"?qN(a):a,i=(o,c)=>mC(n,o,c);return Object.assign(i,n),i},Pi=a=>a?kg(a):kg,vC={};function xC(a,n){let i;try{i=a()}catch{return}return{getItem:c=>{var d;const f=p=>p===null?null:JSON.parse(p,void 0),h=(d=i.getItem(c))!=null?d:null;return h instanceof Promise?h.then(f):f(h)},setItem:(c,d)=>i.setItem(c,JSON.stringify(d,void 0)),removeItem:c=>i.removeItem(c)}}const q0=a=>n=>{try{const i=a(n);return i instanceof Promise?i:{then(o){return q0(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return q0(o)(i)}}}},gC=(a,n)=>(i,o,c)=>{let d={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,C)=>({...C,...j}),...n},f=!1;const h=new Set,p=new Set;let m;try{m=d.getStorage()}catch{}if(!m)return a((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),i(...j)},o,c);const v=q0(d.serialize),w=()=>{const j=d.partialize({...o()});let C;const k=v({state:j,version:d.version}).then(E=>m.setItem(d.name,E)).catch(E=>{C=E});if(C)throw C;return k},y=c.setState;c.setState=(j,C)=>{y(j,C),w()};const x=a((...j)=>{i(...j),w()},o,c);let g;const A=()=>{var j;if(!m)return;f=!1,h.forEach(k=>k(o()));const C=((j=d.onRehydrateStorage)==null?void 0:j.call(d,o()))||void 0;return q0(m.getItem.bind(m))(d.name).then(k=>{if(k)return d.deserialize(k)}).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==d.version){if(d.migrate)return d.migrate(k.state,k.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return k.state}).then(k=>{var E;return g=d.merge(k,(E=o())!=null?E:x),i(g,!0),w()}).then(()=>{C==null||C(g,void 0),f=!0,p.forEach(k=>k(g))}).catch(k=>{C==null||C(void 0,k)})};return c.persist={setOptions:j=>{d={...d,...j},j.getStorage&&(m=j.getStorage())},clearStorage:()=>{m==null||m.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:j=>(h.add(j),()=>{h.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},A(),g||x},bC=(a,n)=>(i,o,c)=>{let d={storage:xC(()=>localStorage),partialize:A=>A,version:0,merge:(A,j)=>({...j,...A}),...n},f=!1;const h=new Set,p=new Set;let m=d.storage;if(!m)return a((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),i(...A)},o,c);const v=()=>{const A=d.partialize({...o()});return m.setItem(d.name,{state:A,version:d.version})},w=c.setState;c.setState=(A,j)=>{w(A,j),v()};const y=a((...A)=>{i(...A),v()},o,c);c.getInitialState=()=>y;let x;const g=()=>{var A,j;if(!m)return;f=!1,h.forEach(k=>{var E;return k((E=o())!=null?E:y)});const C=((j=d.onRehydrateStorage)==null?void 0:j.call(d,(A=o())!=null?A:y))||void 0;return q0(m.getItem.bind(m))(d.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==d.version){if(d.migrate)return[!0,d.migrate(k.state,k.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var E;const[B,I]=k;if(x=d.merge(I,(E=o())!=null?E:y),i(x,!0),B)return v()}).then(()=>{C==null||C(x,void 0),x=o(),f=!0,p.forEach(k=>k(x))}).catch(k=>{C==null||C(void 0,k)})};return c.persist={setOptions:A=>{d={...d,...A},A.storage&&(m=A.storage)},clearStorage:()=>{m==null||m.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>g(),hasHydrated:()=>f,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},d.skipHydration||g(),x||y},wC=(a,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((vC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),gC(a,n)):bC(a,n),Oi=wC;var L5={exports:{}};function yC(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ah={exports:{}};const AC={},kC=Object.freeze(Object.defineProperty({__proto__:null,default:AC},Symbol.toStringTag,{value:"Module"})),jC=hc(kC);var jg;function Zr(){return jg||(jg=1,function(a,n){(function(i,o){a.exports=o()})(gr,function(){var i=i||function(o,c){var d;if(typeof window<"u"&&window.crypto&&(d=window.crypto),typeof self<"u"&&self.crypto&&(d=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(d=globalThis.crypto),!d&&typeof window<"u"&&window.msCrypto&&(d=window.msCrypto),!d&&typeof gr<"u"&&gr.crypto&&(d=gr.crypto),!d&&typeof yC=="function")try{d=jC}catch{}var f=function(){if(d){if(typeof d.getRandomValues=="function")try{return d.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof d.randomBytes=="function")try{return d.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function k(){}return function(E){var B;return k.prototype=E,B=new k,k.prototype=null,B}}(),p={},m=p.lib={},v=m.Base=function(){return{extend:function(k){var E=h(this);return k&&E.mixIn(k),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var E in k)k.hasOwnProperty(E)&&(this[E]=k[E]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=m.WordArray=v.extend({init:function(k,E){k=this.words=k||[],E!=c?this.sigBytes=E:this.sigBytes=k.length*4},toString:function(k){return(k||x).stringify(this)},concat:function(k){var E=this.words,B=k.words,I=this.sigBytes,D=k.sigBytes;if(this.clamp(),I%4)for(var M=0;M<D;M++){var T=B[M>>>2]>>>24-M%4*8&255;E[I+M>>>2]|=T<<24-(I+M)%4*8}else for(var H=0;H<D;H+=4)E[I+H>>>2]=B[H>>>2];return this.sigBytes+=D,this},clamp:function(){var k=this.words,E=this.sigBytes;k[E>>>2]&=4294967295<<32-E%4*8,k.length=o.ceil(E/4)},clone:function(){var k=v.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var E=[],B=0;B<k;B+=4)E.push(f());return new w.init(E,k)}}),y=p.enc={},x=y.Hex={stringify:function(k){for(var E=k.words,B=k.sigBytes,I=[],D=0;D<B;D++){var M=E[D>>>2]>>>24-D%4*8&255;I.push((M>>>4).toString(16)),I.push((M&15).toString(16))}return I.join("")},parse:function(k){for(var E=k.length,B=[],I=0;I<E;I+=2)B[I>>>3]|=parseInt(k.substr(I,2),16)<<24-I%8*4;return new w.init(B,E/2)}},g=y.Latin1={stringify:function(k){for(var E=k.words,B=k.sigBytes,I=[],D=0;D<B;D++){var M=E[D>>>2]>>>24-D%4*8&255;I.push(String.fromCharCode(M))}return I.join("")},parse:function(k){for(var E=k.length,B=[],I=0;I<E;I++)B[I>>>2]|=(k.charCodeAt(I)&255)<<24-I%4*8;return new w.init(B,E)}},A=y.Utf8={stringify:function(k){try{return decodeURIComponent(escape(g.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return g.parse(unescape(encodeURIComponent(k)))}},j=m.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=A.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var E,B=this._data,I=B.words,D=B.sigBytes,M=this.blockSize,T=M*4,H=D/T;k?H=o.ceil(H):H=o.max((H|0)-this._minBufferSize,0);var _=H*M,F=o.min(_*4,D);if(_){for(var Q=0;Q<_;Q+=M)this._doProcessBlock(I,Q);E=I.splice(0,_),B.sigBytes-=F}return new w.init(E,F)},clone:function(){var k=v.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});m.Hasher=j.extend({cfg:v.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){j.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(k){return function(E,B){return new k.init(B).finalize(E)}},_createHmacHelper:function(k){return function(E,B){return new C.HMAC.init(k,B).finalize(E)}}});var C=p.algo={};return p}(Math);return i})}(ah)),ah.exports}var sh={exports:{}},Sg;function Nu(){return Sg||(Sg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(o){var c=i,d=c.lib,f=d.Base,h=d.WordArray,p=c.x64={};p.Word=f.extend({init:function(m,v){this.high=m,this.low=v}}),p.WordArray=f.extend({init:function(m,v){m=this.words=m||[],v!=o?this.sigBytes=v:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,v=m.length,w=[],y=0;y<v;y++){var x=m[y];w.push(x.high),w.push(x.low)}return h.create(w,this.sigBytes)},clone:function(){for(var m=f.clone.call(this),v=m.words=this.words.slice(0),w=v.length,y=0;y<w;y++)v[y]=v[y].clone();return m}})}(),i})}(sh)),sh.exports}var nh={exports:{}},Eg;function SC(){return Eg||(Eg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(){if(typeof ArrayBuffer=="function"){var o=i,c=o.lib,d=c.WordArray,f=d.init,h=d.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var m=p.byteLength,v=[],w=0;w<m;w++)v[w>>>2]|=p[w]<<24-w%4*8;f.call(this,v,m)}else f.apply(this,arguments)};h.prototype=d}}(),i.lib.WordArray})}(nh)),nh.exports}var ih={exports:{}},Ng;function EC(){return Ng||(Ng=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.WordArray,f=o.enc;f.Utf16=f.Utf16BE={stringify:function(p){for(var m=p.words,v=p.sigBytes,w=[],y=0;y<v;y+=2){var x=m[y>>>2]>>>16-y%4*8&65535;w.push(String.fromCharCode(x))}return w.join("")},parse:function(p){for(var m=p.length,v=[],w=0;w<m;w++)v[w>>>1]|=p.charCodeAt(w)<<16-w%2*16;return d.create(v,m*2)}},f.Utf16LE={stringify:function(p){for(var m=p.words,v=p.sigBytes,w=[],y=0;y<v;y+=2){var x=h(m[y>>>2]>>>16-y%4*8&65535);w.push(String.fromCharCode(x))}return w.join("")},parse:function(p){for(var m=p.length,v=[],w=0;w<m;w++)v[w>>>1]|=h(p.charCodeAt(w)<<16-w%2*16);return d.create(v,m*2)}};function h(p){return p<<8&4278255360|p>>>8&16711935}}(),i.enc.Utf16})}(ih)),ih.exports}var oh={exports:{}},Cg;function nl(){return Cg||(Cg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.WordArray,f=o.enc;f.Base64={stringify:function(p){var m=p.words,v=p.sigBytes,w=this._map;p.clamp();for(var y=[],x=0;x<v;x+=3)for(var g=m[x>>>2]>>>24-x%4*8&255,A=m[x+1>>>2]>>>24-(x+1)%4*8&255,j=m[x+2>>>2]>>>24-(x+2)%4*8&255,C=g<<16|A<<8|j,k=0;k<4&&x+k*.75<v;k++)y.push(w.charAt(C>>>6*(3-k)&63));var E=w.charAt(64);if(E)for(;y.length%4;)y.push(E);return y.join("")},parse:function(p){var m=p.length,v=this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var y=0;y<v.length;y++)w[v.charCodeAt(y)]=y}var x=v.charAt(64);if(x){var g=p.indexOf(x);g!==-1&&(m=g)}return h(p,m,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(p,m,v){for(var w=[],y=0,x=0;x<m;x++)if(x%4){var g=v[p.charCodeAt(x-1)]<<x%4*2,A=v[p.charCodeAt(x)]>>>6-x%4*2,j=g|A;w[y>>>2]|=j<<24-y%4*8,y++}return d.create(w,y)}}(),i.enc.Base64})}(oh)),oh.exports}var lh={exports:{}},Ig;function NC(){return Ig||(Ig=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.WordArray,f=o.enc;f.Base64url={stringify:function(p,m){m===void 0&&(m=!0);var v=p.words,w=p.sigBytes,y=m?this._safe_map:this._map;p.clamp();for(var x=[],g=0;g<w;g+=3)for(var A=v[g>>>2]>>>24-g%4*8&255,j=v[g+1>>>2]>>>24-(g+1)%4*8&255,C=v[g+2>>>2]>>>24-(g+2)%4*8&255,k=A<<16|j<<8|C,E=0;E<4&&g+E*.75<w;E++)x.push(y.charAt(k>>>6*(3-E)&63));var B=y.charAt(64);if(B)for(;x.length%4;)x.push(B);return x.join("")},parse:function(p,m){m===void 0&&(m=!0);var v=p.length,w=m?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var x=0;x<w.length;x++)y[w.charCodeAt(x)]=x}var g=w.charAt(64);if(g){var A=p.indexOf(g);A!==-1&&(v=A)}return h(p,v,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(p,m,v){for(var w=[],y=0,x=0;x<m;x++)if(x%4){var g=v[p.charCodeAt(x-1)]<<x%4*2,A=v[p.charCodeAt(x)]>>>6-x%4*2,j=g|A;w[y>>>2]|=j<<24-y%4*8,y++}return d.create(w,y)}}(),i.enc.Base64url})}(lh)),lh.exports}var ch={exports:{}},Bg;function il(){return Bg||(Bg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(o){var c=i,d=c.lib,f=d.WordArray,h=d.Hasher,p=c.algo,m=[];(function(){for(var A=0;A<64;A++)m[A]=o.abs(o.sin(A+1))*4294967296|0})();var v=p.MD5=h.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(A,j){for(var C=0;C<16;C++){var k=j+C,E=A[k];A[k]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var B=this._hash.words,I=A[j+0],D=A[j+1],M=A[j+2],T=A[j+3],H=A[j+4],_=A[j+5],F=A[j+6],Q=A[j+7],L=A[j+8],ee=A[j+9],se=A[j+10],ue=A[j+11],W=A[j+12],G=A[j+13],ne=A[j+14],de=A[j+15],te=B[0],ae=B[1],ie=B[2],oe=B[3];te=w(te,ae,ie,oe,I,7,m[0]),oe=w(oe,te,ae,ie,D,12,m[1]),ie=w(ie,oe,te,ae,M,17,m[2]),ae=w(ae,ie,oe,te,T,22,m[3]),te=w(te,ae,ie,oe,H,7,m[4]),oe=w(oe,te,ae,ie,_,12,m[5]),ie=w(ie,oe,te,ae,F,17,m[6]),ae=w(ae,ie,oe,te,Q,22,m[7]),te=w(te,ae,ie,oe,L,7,m[8]),oe=w(oe,te,ae,ie,ee,12,m[9]),ie=w(ie,oe,te,ae,se,17,m[10]),ae=w(ae,ie,oe,te,ue,22,m[11]),te=w(te,ae,ie,oe,W,7,m[12]),oe=w(oe,te,ae,ie,G,12,m[13]),ie=w(ie,oe,te,ae,ne,17,m[14]),ae=w(ae,ie,oe,te,de,22,m[15]),te=y(te,ae,ie,oe,D,5,m[16]),oe=y(oe,te,ae,ie,F,9,m[17]),ie=y(ie,oe,te,ae,ue,14,m[18]),ae=y(ae,ie,oe,te,I,20,m[19]),te=y(te,ae,ie,oe,_,5,m[20]),oe=y(oe,te,ae,ie,se,9,m[21]),ie=y(ie,oe,te,ae,de,14,m[22]),ae=y(ae,ie,oe,te,H,20,m[23]),te=y(te,ae,ie,oe,ee,5,m[24]),oe=y(oe,te,ae,ie,ne,9,m[25]),ie=y(ie,oe,te,ae,T,14,m[26]),ae=y(ae,ie,oe,te,L,20,m[27]),te=y(te,ae,ie,oe,G,5,m[28]),oe=y(oe,te,ae,ie,M,9,m[29]),ie=y(ie,oe,te,ae,Q,14,m[30]),ae=y(ae,ie,oe,te,W,20,m[31]),te=x(te,ae,ie,oe,_,4,m[32]),oe=x(oe,te,ae,ie,L,11,m[33]),ie=x(ie,oe,te,ae,ue,16,m[34]),ae=x(ae,ie,oe,te,ne,23,m[35]),te=x(te,ae,ie,oe,D,4,m[36]),oe=x(oe,te,ae,ie,H,11,m[37]),ie=x(ie,oe,te,ae,Q,16,m[38]),ae=x(ae,ie,oe,te,se,23,m[39]),te=x(te,ae,ie,oe,G,4,m[40]),oe=x(oe,te,ae,ie,I,11,m[41]),ie=x(ie,oe,te,ae,T,16,m[42]),ae=x(ae,ie,oe,te,F,23,m[43]),te=x(te,ae,ie,oe,ee,4,m[44]),oe=x(oe,te,ae,ie,W,11,m[45]),ie=x(ie,oe,te,ae,de,16,m[46]),ae=x(ae,ie,oe,te,M,23,m[47]),te=g(te,ae,ie,oe,I,6,m[48]),oe=g(oe,te,ae,ie,Q,10,m[49]),ie=g(ie,oe,te,ae,ne,15,m[50]),ae=g(ae,ie,oe,te,_,21,m[51]),te=g(te,ae,ie,oe,W,6,m[52]),oe=g(oe,te,ae,ie,T,10,m[53]),ie=g(ie,oe,te,ae,se,15,m[54]),ae=g(ae,ie,oe,te,D,21,m[55]),te=g(te,ae,ie,oe,L,6,m[56]),oe=g(oe,te,ae,ie,de,10,m[57]),ie=g(ie,oe,te,ae,F,15,m[58]),ae=g(ae,ie,oe,te,G,21,m[59]),te=g(te,ae,ie,oe,H,6,m[60]),oe=g(oe,te,ae,ie,ue,10,m[61]),ie=g(ie,oe,te,ae,M,15,m[62]),ae=g(ae,ie,oe,te,ee,21,m[63]),B[0]=B[0]+te|0,B[1]=B[1]+ae|0,B[2]=B[2]+ie|0,B[3]=B[3]+oe|0},_doFinalize:function(){var A=this._data,j=A.words,C=this._nDataBytes*8,k=A.sigBytes*8;j[k>>>5]|=128<<24-k%32;var E=o.floor(C/4294967296),B=C;j[(k+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,j[(k+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,A.sigBytes=(j.length+1)*4,this._process();for(var I=this._hash,D=I.words,M=0;M<4;M++){var T=D[M];D[M]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return I},clone:function(){var A=h.clone.call(this);return A._hash=this._hash.clone(),A}});function w(A,j,C,k,E,B,I){var D=A+(j&C|~j&k)+E+I;return(D<<B|D>>>32-B)+j}function y(A,j,C,k,E,B,I){var D=A+(j&k|C&~k)+E+I;return(D<<B|D>>>32-B)+j}function x(A,j,C,k,E,B,I){var D=A+(j^C^k)+E+I;return(D<<B|D>>>32-B)+j}function g(A,j,C,k,E,B,I){var D=A+(C^(j|~k))+E+I;return(D<<B|D>>>32-B)+j}c.MD5=h._createHelper(v),c.HmacMD5=h._createHmacHelper(v)}(Math),i.MD5})}(ch)),ch.exports}var dh={exports:{}},Dg;function Q5(){return Dg||(Dg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.WordArray,f=c.Hasher,h=o.algo,p=[],m=h.SHA1=f.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,w){for(var y=this._hash.words,x=y[0],g=y[1],A=y[2],j=y[3],C=y[4],k=0;k<80;k++){if(k<16)p[k]=v[w+k]|0;else{var E=p[k-3]^p[k-8]^p[k-14]^p[k-16];p[k]=E<<1|E>>>31}var B=(x<<5|x>>>27)+C+p[k];k<20?B+=(g&A|~g&j)+1518500249:k<40?B+=(g^A^j)+1859775393:k<60?B+=(g&A|g&j|A&j)-1894007588:B+=(g^A^j)-899497514,C=j,j=A,A=g<<30|g>>>2,g=x,x=B}y[0]=y[0]+x|0,y[1]=y[1]+g|0,y[2]=y[2]+A|0,y[3]=y[3]+j|0,y[4]=y[4]+C|0},_doFinalize:function(){var v=this._data,w=v.words,y=this._nDataBytes*8,x=v.sigBytes*8;return w[x>>>5]|=128<<24-x%32,w[(x+64>>>9<<4)+14]=Math.floor(y/4294967296),w[(x+64>>>9<<4)+15]=y,v.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var v=f.clone.call(this);return v._hash=this._hash.clone(),v}});o.SHA1=f._createHelper(m),o.HmacSHA1=f._createHmacHelper(m)}(),i.SHA1})}(dh)),dh.exports}var uh={exports:{}},Rg;function Em(){return Rg||(Rg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){return function(o){var c=i,d=c.lib,f=d.WordArray,h=d.Hasher,p=c.algo,m=[],v=[];(function(){function x(C){for(var k=o.sqrt(C),E=2;E<=k;E++)if(!(C%E))return!1;return!0}function g(C){return(C-(C|0))*4294967296|0}for(var A=2,j=0;j<64;)x(A)&&(j<8&&(m[j]=g(o.pow(A,1/2))),v[j]=g(o.pow(A,1/3)),j++),A++})();var w=[],y=p.SHA256=h.extend({_doReset:function(){this._hash=new f.init(m.slice(0))},_doProcessBlock:function(x,g){for(var A=this._hash.words,j=A[0],C=A[1],k=A[2],E=A[3],B=A[4],I=A[5],D=A[6],M=A[7],T=0;T<64;T++){if(T<16)w[T]=x[g+T]|0;else{var H=w[T-15],_=(H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3,F=w[T-2],Q=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;w[T]=_+w[T-7]+Q+w[T-16]}var L=B&I^~B&D,ee=j&C^j&k^C&k,se=(j<<30|j>>>2)^(j<<19|j>>>13)^(j<<10|j>>>22),ue=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),W=M+ue+L+v[T]+w[T],G=se+ee;M=D,D=I,I=B,B=E+W|0,E=k,k=C,C=j,j=W+G|0}A[0]=A[0]+j|0,A[1]=A[1]+C|0,A[2]=A[2]+k|0,A[3]=A[3]+E|0,A[4]=A[4]+B|0,A[5]=A[5]+I|0,A[6]=A[6]+D|0,A[7]=A[7]+M|0},_doFinalize:function(){var x=this._data,g=x.words,A=this._nDataBytes*8,j=x.sigBytes*8;return g[j>>>5]|=128<<24-j%32,g[(j+64>>>9<<4)+14]=o.floor(A/4294967296),g[(j+64>>>9<<4)+15]=A,x.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var x=h.clone.call(this);return x._hash=this._hash.clone(),x}});c.SHA256=h._createHelper(y),c.HmacSHA256=h._createHmacHelper(y)}(Math),i.SHA256})}(uh)),uh.exports}var fh={exports:{}},Tg;function CC(){return Tg||(Tg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),Em())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.WordArray,f=o.algo,h=f.SHA256,p=f.SHA224=h.extend({_doReset:function(){this._hash=new d.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=h._doFinalize.call(this);return m.sigBytes-=4,m}});o.SHA224=h._createHelper(p),o.HmacSHA224=h._createHmacHelper(p)}(),i.SHA224})}(fh)),fh.exports}var hh={exports:{}},Mg;function H5(){return Mg||(Mg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),Nu())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.Hasher,f=o.x64,h=f.Word,p=f.WordArray,m=o.algo;function v(){return h.create.apply(h,arguments)}var w=[v(1116352408,3609767458),v(1899447441,602891725),v(3049323471,3964484399),v(3921009573,2173295548),v(961987163,4081628472),v(1508970993,3053834265),v(2453635748,2937671579),v(2870763221,3664609560),v(3624381080,2734883394),v(310598401,1164996542),v(607225278,1323610764),v(1426881987,3590304994),v(1925078388,4068182383),v(2162078206,991336113),v(2614888103,633803317),v(3248222580,3479774868),v(3835390401,2666613458),v(4022224774,944711139),v(264347078,2341262773),v(604807628,2007800933),v(770255983,1495990901),v(1249150122,1856431235),v(1555081692,3175218132),v(1996064986,2198950837),v(2554220882,3999719339),v(2821834349,766784016),v(2952996808,2566594879),v(3210313671,3203337956),v(3336571891,1034457026),v(3584528711,2466948901),v(113926993,3758326383),v(338241895,168717936),v(666307205,1188179964),v(773529912,1546045734),v(1294757372,1522805485),v(1396182291,2643833823),v(1695183700,2343527390),v(1986661051,1014477480),v(2177026350,1206759142),v(2456956037,344077627),v(2730485921,1290863460),v(2820302411,3158454273),v(3259730800,3505952657),v(3345764771,106217008),v(3516065817,3606008344),v(3600352804,1432725776),v(4094571909,1467031594),v(275423344,851169720),v(430227734,3100823752),v(506948616,1363258195),v(659060556,3750685593),v(883997877,3785050280),v(958139571,3318307427),v(1322822218,3812723403),v(1537002063,2003034995),v(1747873779,3602036899),v(1955562222,1575990012),v(2024104815,1125592928),v(2227730452,2716904306),v(2361852424,442776044),v(2428436474,593698344),v(2756734187,3733110249),v(3204031479,2999351573),v(3329325298,3815920427),v(3391569614,3928383900),v(3515267271,566280711),v(3940187606,3454069534),v(4118630271,4000239992),v(116418474,1914138554),v(174292421,2731055270),v(289380356,3203993006),v(460393269,320620315),v(685471733,587496836),v(852142971,1086792851),v(1017036298,365543100),v(1126000580,2618297676),v(1288033470,3409855158),v(1501505948,4234509866),v(1607167915,987167468),v(1816402316,1246189591)],y=[];(function(){for(var g=0;g<80;g++)y[g]=v()})();var x=m.SHA512=d.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(g,A){for(var j=this._hash.words,C=j[0],k=j[1],E=j[2],B=j[3],I=j[4],D=j[5],M=j[6],T=j[7],H=C.high,_=C.low,F=k.high,Q=k.low,L=E.high,ee=E.low,se=B.high,ue=B.low,W=I.high,G=I.low,ne=D.high,de=D.low,te=M.high,ae=M.low,ie=T.high,oe=T.low,De=H,Ne=_,Le=F,Te=Q,Ve=L,Qe=ee,ot=se,Ze=ue,Fe=W,Ke=G,Je=ne,rt=de,Xe=te,Se=ae,pe=ie,Ie=oe,Me=0;Me<80;Me++){var Re,Ye,ze=y[Me];if(Me<16)Ye=ze.high=g[A+Me*2]|0,Re=ze.low=g[A+Me*2+1]|0;else{var mt=y[Me-15],lt=mt.high,ht=mt.low,yt=(lt>>>1|ht<<31)^(lt>>>8|ht<<24)^lt>>>7,jt=(ht>>>1|lt<<31)^(ht>>>8|lt<<24)^(ht>>>7|lt<<25),wt=y[Me-2],Dt=wt.high,Ct=wt.low,Ut=(Dt>>>19|Ct<<13)^(Dt<<3|Ct>>>29)^Dt>>>6,It=(Ct>>>19|Dt<<13)^(Ct<<3|Dt>>>29)^(Ct>>>6|Dt<<26),kt=y[Me-7],P=kt.high,Y=kt.low,q=y[Me-16],O=q.high,$=q.low;Re=jt+Y,Ye=yt+P+(Re>>>0<jt>>>0?1:0),Re=Re+It,Ye=Ye+Ut+(Re>>>0<It>>>0?1:0),Re=Re+$,Ye=Ye+O+(Re>>>0<$>>>0?1:0),ze.high=Ye,ze.low=Re}var le=Fe&Je^~Fe&Xe,K=Ke&rt^~Ke&Se,be=De&Le^De&Ve^Le&Ve,J=Ne&Te^Ne&Qe^Te&Qe,fe=(De>>>28|Ne<<4)^(De<<30|Ne>>>2)^(De<<25|Ne>>>7),me=(Ne>>>28|De<<4)^(Ne<<30|De>>>2)^(Ne<<25|De>>>7),ge=(Fe>>>14|Ke<<18)^(Fe>>>18|Ke<<14)^(Fe<<23|Ke>>>9),re=(Ke>>>14|Fe<<18)^(Ke>>>18|Fe<<14)^(Ke<<23|Fe>>>9),xe=w[Me],ke=xe.high,he=xe.low,Ae=Ie+re,we=pe+ge+(Ae>>>0<Ie>>>0?1:0),Ae=Ae+K,we=we+le+(Ae>>>0<K>>>0?1:0),Ae=Ae+he,we=we+ke+(Ae>>>0<he>>>0?1:0),Ae=Ae+Re,we=we+Ye+(Ae>>>0<Re>>>0?1:0),je=me+J,Oe=fe+be+(je>>>0<me>>>0?1:0);pe=Xe,Ie=Se,Xe=Je,Se=rt,Je=Fe,rt=Ke,Ke=Ze+Ae|0,Fe=ot+we+(Ke>>>0<Ze>>>0?1:0)|0,ot=Ve,Ze=Qe,Ve=Le,Qe=Te,Le=De,Te=Ne,Ne=Ae+je|0,De=we+Oe+(Ne>>>0<Ae>>>0?1:0)|0}_=C.low=_+Ne,C.high=H+De+(_>>>0<Ne>>>0?1:0),Q=k.low=Q+Te,k.high=F+Le+(Q>>>0<Te>>>0?1:0),ee=E.low=ee+Qe,E.high=L+Ve+(ee>>>0<Qe>>>0?1:0),ue=B.low=ue+Ze,B.high=se+ot+(ue>>>0<Ze>>>0?1:0),G=I.low=G+Ke,I.high=W+Fe+(G>>>0<Ke>>>0?1:0),de=D.low=de+rt,D.high=ne+Je+(de>>>0<rt>>>0?1:0),ae=M.low=ae+Se,M.high=te+Xe+(ae>>>0<Se>>>0?1:0),oe=T.low=oe+Ie,T.high=ie+pe+(oe>>>0<Ie>>>0?1:0)},_doFinalize:function(){var g=this._data,A=g.words,j=this._nDataBytes*8,C=g.sigBytes*8;A[C>>>5]|=128<<24-C%32,A[(C+128>>>10<<5)+30]=Math.floor(j/4294967296),A[(C+128>>>10<<5)+31]=j,g.sigBytes=A.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var g=d.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});o.SHA512=d._createHelper(x),o.HmacSHA512=d._createHmacHelper(x)}(),i.SHA512})}(hh)),hh.exports}var ph={exports:{}},Fg;function IC(){return Fg||(Fg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),Nu(),H5())})(gr,function(i){return function(){var o=i,c=o.x64,d=c.Word,f=c.WordArray,h=o.algo,p=h.SHA512,m=h.SHA384=p.extend({_doReset:function(){this._hash=new f.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var v=p._doFinalize.call(this);return v.sigBytes-=16,v}});o.SHA384=p._createHelper(m),o.HmacSHA384=p._createHmacHelper(m)}(),i.SHA384})}(ph)),ph.exports}var mh={exports:{}},_g;function BC(){return _g||(_g=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),Nu())})(gr,function(i){return function(o){var c=i,d=c.lib,f=d.WordArray,h=d.Hasher,p=c.x64,m=p.Word,v=c.algo,w=[],y=[],x=[];(function(){for(var j=1,C=0,k=0;k<24;k++){w[j+5*C]=(k+1)*(k+2)/2%64;var E=C%5,B=(2*j+3*C)%5;j=E,C=B}for(var j=0;j<5;j++)for(var C=0;C<5;C++)y[j+5*C]=C+(2*j+3*C)%5*5;for(var I=1,D=0;D<24;D++){for(var M=0,T=0,H=0;H<7;H++){if(I&1){var _=(1<<H)-1;_<32?T^=1<<_:M^=1<<_-32}I&128?I=I<<1^113:I<<=1}x[D]=m.create(M,T)}})();var g=[];(function(){for(var j=0;j<25;j++)g[j]=m.create()})();var A=v.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var j=this._state=[],C=0;C<25;C++)j[C]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(j,C){for(var k=this._state,E=this.blockSize/2,B=0;B<E;B++){var I=j[C+2*B],D=j[C+2*B+1];I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var M=k[B];M.high^=D,M.low^=I}for(var T=0;T<24;T++){for(var H=0;H<5;H++){for(var _=0,F=0,Q=0;Q<5;Q++){var M=k[H+5*Q];_^=M.high,F^=M.low}var L=g[H];L.high=_,L.low=F}for(var H=0;H<5;H++)for(var ee=g[(H+4)%5],se=g[(H+1)%5],ue=se.high,W=se.low,_=ee.high^(ue<<1|W>>>31),F=ee.low^(W<<1|ue>>>31),Q=0;Q<5;Q++){var M=k[H+5*Q];M.high^=_,M.low^=F}for(var G=1;G<25;G++){var _,F,M=k[G],ne=M.high,de=M.low,te=w[G];te<32?(_=ne<<te|de>>>32-te,F=de<<te|ne>>>32-te):(_=de<<te-32|ne>>>64-te,F=ne<<te-32|de>>>64-te);var ae=g[y[G]];ae.high=_,ae.low=F}var ie=g[0],oe=k[0];ie.high=oe.high,ie.low=oe.low;for(var H=0;H<5;H++)for(var Q=0;Q<5;Q++){var G=H+5*Q,M=k[G],De=g[G],Ne=g[(H+1)%5+5*Q],Le=g[(H+2)%5+5*Q];M.high=De.high^~Ne.high&Le.high,M.low=De.low^~Ne.low&Le.low}var M=k[0],Te=x[T];M.high^=Te.high,M.low^=Te.low}},_doFinalize:function(){var j=this._data,C=j.words;this._nDataBytes*8;var k=j.sigBytes*8,E=this.blockSize*32;C[k>>>5]|=1<<24-k%32,C[(o.ceil((k+1)/E)*E>>>5)-1]|=128,j.sigBytes=C.length*4,this._process();for(var B=this._state,I=this.cfg.outputLength/8,D=I/8,M=[],T=0;T<D;T++){var H=B[T],_=H.high,F=H.low;_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,M.push(F),M.push(_)}return new f.init(M,I)},clone:function(){for(var j=h.clone.call(this),C=j._state=this._state.slice(0),k=0;k<25;k++)C[k]=C[k].clone();return j}});c.SHA3=h._createHelper(A),c.HmacSHA3=h._createHmacHelper(A)}(Math),i.SHA3})}(mh)),mh.exports}var vh={exports:{}},Pg;function DC(){return Pg||(Pg=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(o){var c=i,d=c.lib,f=d.WordArray,h=d.Hasher,p=c.algo,m=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),v=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),w=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=f.create([0,1518500249,1859775393,2400959708,2840853838]),g=f.create([1352829926,1548603684,1836072691,2053994217,0]),A=p.RIPEMD160=h.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,M){for(var T=0;T<16;T++){var H=M+T,_=D[H];D[H]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var F=this._hash.words,Q=x.words,L=g.words,ee=m.words,se=v.words,ue=w.words,W=y.words,G,ne,de,te,ae,ie,oe,De,Ne,Le;ie=G=F[0],oe=ne=F[1],De=de=F[2],Ne=te=F[3],Le=ae=F[4];for(var Te,T=0;T<80;T+=1)Te=G+D[M+ee[T]]|0,T<16?Te+=j(ne,de,te)+Q[0]:T<32?Te+=C(ne,de,te)+Q[1]:T<48?Te+=k(ne,de,te)+Q[2]:T<64?Te+=E(ne,de,te)+Q[3]:Te+=B(ne,de,te)+Q[4],Te=Te|0,Te=I(Te,ue[T]),Te=Te+ae|0,G=ae,ae=te,te=I(de,10),de=ne,ne=Te,Te=ie+D[M+se[T]]|0,T<16?Te+=B(oe,De,Ne)+L[0]:T<32?Te+=E(oe,De,Ne)+L[1]:T<48?Te+=k(oe,De,Ne)+L[2]:T<64?Te+=C(oe,De,Ne)+L[3]:Te+=j(oe,De,Ne)+L[4],Te=Te|0,Te=I(Te,W[T]),Te=Te+Le|0,ie=Le,Le=Ne,Ne=I(De,10),De=oe,oe=Te;Te=F[1]+de+Ne|0,F[1]=F[2]+te+Le|0,F[2]=F[3]+ae+ie|0,F[3]=F[4]+G+oe|0,F[4]=F[0]+ne+De|0,F[0]=Te},_doFinalize:function(){var D=this._data,M=D.words,T=this._nDataBytes*8,H=D.sigBytes*8;M[H>>>5]|=128<<24-H%32,M[(H+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,D.sigBytes=(M.length+1)*4,this._process();for(var _=this._hash,F=_.words,Q=0;Q<5;Q++){var L=F[Q];F[Q]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return _},clone:function(){var D=h.clone.call(this);return D._hash=this._hash.clone(),D}});function j(D,M,T){return D^M^T}function C(D,M,T){return D&M|~D&T}function k(D,M,T){return(D|~M)^T}function E(D,M,T){return D&T|M&~T}function B(D,M,T){return D^(M|~T)}function I(D,M){return D<<M|D>>>32-M}c.RIPEMD160=h._createHelper(A),c.HmacRIPEMD160=h._createHmacHelper(A)}(),i.RIPEMD160})}(vh)),vh.exports}var xh={exports:{}},Og;function Nm(){return Og||(Og=1,function(a,n){(function(i,o){a.exports=o(Zr())})(gr,function(i){(function(){var o=i,c=o.lib,d=c.Base,f=o.enc,h=f.Utf8,p=o.algo;p.HMAC=d.extend({init:function(m,v){m=this._hasher=new m.init,typeof v=="string"&&(v=h.parse(v));var w=m.blockSize,y=w*4;v.sigBytes>y&&(v=m.finalize(v)),v.clamp();for(var x=this._oKey=v.clone(),g=this._iKey=v.clone(),A=x.words,j=g.words,C=0;C<w;C++)A[C]^=1549556828,j[C]^=909522486;x.sigBytes=g.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var v=this._hasher,w=v.finalize(m);v.reset();var y=v.finalize(this._oKey.clone().concat(w));return y}})})()})}(xh)),xh.exports}var gh={exports:{}},Ug;function RC(){return Ug||(Ug=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),Em(),Nm())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.Base,f=c.WordArray,h=o.algo,p=h.SHA256,m=h.HMAC,v=h.PBKDF2=d.extend({cfg:d.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,y){for(var x=this.cfg,g=m.create(x.hasher,w),A=f.create(),j=f.create([1]),C=A.words,k=j.words,E=x.keySize,B=x.iterations;C.length<E;){var I=g.update(y).finalize(j);g.reset();for(var D=I.words,M=D.length,T=I,H=1;H<B;H++){T=g.finalize(T),g.reset();for(var _=T.words,F=0;F<M;F++)D[F]^=_[F]}A.concat(I),k[0]++}return A.sigBytes=E*4,A}});o.PBKDF2=function(w,y,x){return v.create(x).compute(w,y)}}(),i.PBKDF2})}(gh)),gh.exports}var bh={exports:{}},zg;function wo(){return zg||(zg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),Q5(),Nm())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.Base,f=c.WordArray,h=o.algo,p=h.MD5,m=h.EvpKDF=d.extend({cfg:d.extend({keySize:128/32,hasher:p,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,w){for(var y,x=this.cfg,g=x.hasher.create(),A=f.create(),j=A.words,C=x.keySize,k=x.iterations;j.length<C;){y&&g.update(y),y=g.update(v).finalize(w),g.reset();for(var E=1;E<k;E++)y=g.finalize(y),g.reset();A.concat(y)}return A.sigBytes=C*4,A}});o.EvpKDF=function(v,w,y){return m.create(y).compute(v,w)}}(),i.EvpKDF})}(bh)),bh.exports}var wh={exports:{}},Lg;function pn(){return Lg||(Lg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),wo())})(gr,function(i){i.lib.Cipher||function(o){var c=i,d=c.lib,f=d.Base,h=d.WordArray,p=d.BufferedBlockAlgorithm,m=c.enc;m.Utf8;var v=m.Base64,w=c.algo,y=w.EvpKDF,x=d.Cipher=p.extend({cfg:f.extend(),createEncryptor:function(_,F){return this.create(this._ENC_XFORM_MODE,_,F)},createDecryptor:function(_,F){return this.create(this._DEC_XFORM_MODE,_,F)},init:function(_,F,Q){this.cfg=this.cfg.extend(Q),this._xformMode=_,this._key=F,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(_){return this._append(_),this._process()},finalize:function(_){_&&this._append(_);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function _(F){return typeof F=="string"?H:D}return function(F){return{encrypt:function(Q,L,ee){return _(L).encrypt(F,Q,L,ee)},decrypt:function(Q,L,ee){return _(L).decrypt(F,Q,L,ee)}}}}()});d.StreamCipher=x.extend({_doFinalize:function(){var _=this._process(!0);return _},blockSize:1});var g=c.mode={},A=d.BlockCipherMode=f.extend({createEncryptor:function(_,F){return this.Encryptor.create(_,F)},createDecryptor:function(_,F){return this.Decryptor.create(_,F)},init:function(_,F){this._cipher=_,this._iv=F}}),j=g.CBC=function(){var _=A.extend();_.Encryptor=_.extend({processBlock:function(Q,L){var ee=this._cipher,se=ee.blockSize;F.call(this,Q,L,se),ee.encryptBlock(Q,L),this._prevBlock=Q.slice(L,L+se)}}),_.Decryptor=_.extend({processBlock:function(Q,L){var ee=this._cipher,se=ee.blockSize,ue=Q.slice(L,L+se);ee.decryptBlock(Q,L),F.call(this,Q,L,se),this._prevBlock=ue}});function F(Q,L,ee){var se,ue=this._iv;ue?(se=ue,this._iv=o):se=this._prevBlock;for(var W=0;W<ee;W++)Q[L+W]^=se[W]}return _}(),C=c.pad={},k=C.Pkcs7={pad:function(_,F){for(var Q=F*4,L=Q-_.sigBytes%Q,ee=L<<24|L<<16|L<<8|L,se=[],ue=0;ue<L;ue+=4)se.push(ee);var W=h.create(se,L);_.concat(W)},unpad:function(_){var F=_.words[_.sigBytes-1>>>2]&255;_.sigBytes-=F}};d.BlockCipher=x.extend({cfg:x.cfg.extend({mode:j,padding:k}),reset:function(){var _;x.reset.call(this);var F=this.cfg,Q=F.iv,L=F.mode;this._xformMode==this._ENC_XFORM_MODE?_=L.createEncryptor:(_=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==_?this._mode.init(this,Q&&Q.words):(this._mode=_.call(L,this,Q&&Q.words),this._mode.__creator=_)},_doProcessBlock:function(_,F){this._mode.processBlock(_,F)},_doFinalize:function(){var _,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),_=this._process(!0)):(_=this._process(!0),F.unpad(_)),_},blockSize:128/32});var E=d.CipherParams=f.extend({init:function(_){this.mixIn(_)},toString:function(_){return(_||this.formatter).stringify(this)}}),B=c.format={},I=B.OpenSSL={stringify:function(_){var F,Q=_.ciphertext,L=_.salt;return L?F=h.create([1398893684,1701076831]).concat(L).concat(Q):F=Q,F.toString(v)},parse:function(_){var F,Q=v.parse(_),L=Q.words;return L[0]==1398893684&&L[1]==1701076831&&(F=h.create(L.slice(2,4)),L.splice(0,4),Q.sigBytes-=16),E.create({ciphertext:Q,salt:F})}},D=d.SerializableCipher=f.extend({cfg:f.extend({format:I}),encrypt:function(_,F,Q,L){L=this.cfg.extend(L);var ee=_.createEncryptor(Q,L),se=ee.finalize(F),ue=ee.cfg;return E.create({ciphertext:se,key:Q,iv:ue.iv,algorithm:_,mode:ue.mode,padding:ue.padding,blockSize:_.blockSize,formatter:L.format})},decrypt:function(_,F,Q,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var ee=_.createDecryptor(Q,L).finalize(F.ciphertext);return ee},_parse:function(_,F){return typeof _=="string"?F.parse(_,this):_}}),M=c.kdf={},T=M.OpenSSL={execute:function(_,F,Q,L,ee){if(L||(L=h.random(64/8)),ee)var se=y.create({keySize:F+Q,hasher:ee}).compute(_,L);else var se=y.create({keySize:F+Q}).compute(_,L);var ue=h.create(se.words.slice(F),Q*4);return se.sigBytes=F*4,E.create({key:se,iv:ue,salt:L})}},H=d.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:T}),encrypt:function(_,F,Q,L){L=this.cfg.extend(L);var ee=L.kdf.execute(Q,_.keySize,_.ivSize,L.salt,L.hasher);L.iv=ee.iv;var se=D.encrypt.call(this,_,F,ee.key,L);return se.mixIn(ee),se},decrypt:function(_,F,Q,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var ee=L.kdf.execute(Q,_.keySize,_.ivSize,F.salt,L.hasher);L.iv=ee.iv;var se=D.decrypt.call(this,_,F,ee.key,L);return se}})}()})}(wh)),wh.exports}var yh={exports:{}},Qg;function TC(){return Qg||(Qg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.mode.CFB=function(){var o=i.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(d,f){var h=this._cipher,p=h.blockSize;c.call(this,d,f,p,h),this._prevBlock=d.slice(f,f+p)}}),o.Decryptor=o.extend({processBlock:function(d,f){var h=this._cipher,p=h.blockSize,m=d.slice(f,f+p);c.call(this,d,f,p,h),this._prevBlock=m}});function c(d,f,h,p){var m,v=this._iv;v?(m=v.slice(0),this._iv=void 0):m=this._prevBlock,p.encryptBlock(m,0);for(var w=0;w<h;w++)d[f+w]^=m[w]}return o}(),i.mode.CFB})}(yh)),yh.exports}var Ah={exports:{}},Hg;function MC(){return Hg||(Hg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.mode.CTR=function(){var o=i.lib.BlockCipherMode.extend(),c=o.Encryptor=o.extend({processBlock:function(d,f){var h=this._cipher,p=h.blockSize,m=this._iv,v=this._counter;m&&(v=this._counter=m.slice(0),this._iv=void 0);var w=v.slice(0);h.encryptBlock(w,0),v[p-1]=v[p-1]+1|0;for(var y=0;y<p;y++)d[f+y]^=w[y]}});return o.Decryptor=c,o}(),i.mode.CTR})}(Ah)),Ah.exports}var kh={exports:{}},$g;function FC(){return $g||($g=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var o=i.lib.BlockCipherMode.extend();function c(h){if((h>>24&255)===255){var p=h>>16&255,m=h>>8&255,v=h&255;p===255?(p=0,m===255?(m=0,v===255?v=0:++v):++m):++p,h=0,h+=p<<16,h+=m<<8,h+=v}else h+=1<<24;return h}function d(h){return(h[0]=c(h[0]))===0&&(h[1]=c(h[1])),h}var f=o.Encryptor=o.extend({processBlock:function(h,p){var m=this._cipher,v=m.blockSize,w=this._iv,y=this._counter;w&&(y=this._counter=w.slice(0),this._iv=void 0),d(y);var x=y.slice(0);m.encryptBlock(x,0);for(var g=0;g<v;g++)h[p+g]^=x[g]}});return o.Decryptor=f,o}(),i.mode.CTRGladman})}(kh)),kh.exports}var jh={exports:{}},qg;function _C(){return qg||(qg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.mode.OFB=function(){var o=i.lib.BlockCipherMode.extend(),c=o.Encryptor=o.extend({processBlock:function(d,f){var h=this._cipher,p=h.blockSize,m=this._iv,v=this._keystream;m&&(v=this._keystream=m.slice(0),this._iv=void 0),h.encryptBlock(v,0);for(var w=0;w<p;w++)d[f+w]^=v[w]}});return o.Decryptor=c,o}(),i.mode.OFB})}(jh)),jh.exports}var Sh={exports:{}},Gg;function PC(){return Gg||(Gg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.mode.ECB=function(){var o=i.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(c,d){this._cipher.encryptBlock(c,d)}}),o.Decryptor=o.extend({processBlock:function(c,d){this._cipher.decryptBlock(c,d)}}),o}(),i.mode.ECB})}(Sh)),Sh.exports}var Eh={exports:{}},Yg;function OC(){return Yg||(Yg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.pad.AnsiX923={pad:function(o,c){var d=o.sigBytes,f=c*4,h=f-d%f,p=d+h-1;o.clamp(),o.words[p>>>2]|=h<<24-p%4*8,o.sigBytes+=h},unpad:function(o){var c=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=c}},i.pad.Ansix923})}(Eh)),Eh.exports}var Nh={exports:{}},Vg;function UC(){return Vg||(Vg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.pad.Iso10126={pad:function(o,c){var d=c*4,f=d-o.sigBytes%d;o.concat(i.lib.WordArray.random(f-1)).concat(i.lib.WordArray.create([f<<24],1))},unpad:function(o){var c=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=c}},i.pad.Iso10126})}(Nh)),Nh.exports}var Ch={exports:{}},Kg;function zC(){return Kg||(Kg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.pad.Iso97971={pad:function(o,c){o.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(o,c)},unpad:function(o){i.pad.ZeroPadding.unpad(o),o.sigBytes--}},i.pad.Iso97971})}(Ch)),Ch.exports}var Ih={exports:{}},Wg;function LC(){return Wg||(Wg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.pad.ZeroPadding={pad:function(o,c){var d=c*4;o.clamp(),o.sigBytes+=d-(o.sigBytes%d||d)},unpad:function(o){for(var c=o.words,d=o.sigBytes-1,d=o.sigBytes-1;d>=0;d--)if(c[d>>>2]>>>24-d%4*8&255){o.sigBytes=d+1;break}}},i.pad.ZeroPadding})}(Ih)),Ih.exports}var Bh={exports:{}},Jg;function QC(){return Jg||(Jg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(Bh)),Bh.exports}var Dh={exports:{}},Xg;function HC(){return Xg||(Xg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),pn())})(gr,function(i){return function(o){var c=i,d=c.lib,f=d.CipherParams,h=c.enc,p=h.Hex,m=c.format;m.Hex={stringify:function(v){return v.ciphertext.toString(p)},parse:function(v){var w=p.parse(v);return f.create({ciphertext:w})}}}(),i.format.Hex})}(Dh)),Dh.exports}var Rh={exports:{}},Zg;function $C(){return Zg||(Zg=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),nl(),il(),wo(),pn())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.BlockCipher,f=o.algo,h=[],p=[],m=[],v=[],w=[],y=[],x=[],g=[],A=[],j=[];(function(){for(var E=[],B=0;B<256;B++)B<128?E[B]=B<<1:E[B]=B<<1^283;for(var I=0,D=0,B=0;B<256;B++){var M=D^D<<1^D<<2^D<<3^D<<4;M=M>>>8^M&255^99,h[I]=M,p[M]=I;var T=E[I],H=E[T],_=E[H],F=E[M]*257^M*16843008;m[I]=F<<24|F>>>8,v[I]=F<<16|F>>>16,w[I]=F<<8|F>>>24,y[I]=F;var F=_*16843009^H*65537^T*257^I*16843008;x[M]=F<<24|F>>>8,g[M]=F<<16|F>>>16,A[M]=F<<8|F>>>24,j[M]=F,I?(I=T^E[E[E[_^T]]],D^=E[E[D]]):I=D=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],k=f.AES=d.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,I=B.words,D=B.sigBytes/4,M=this._nRounds=D+6,T=(M+1)*4,H=this._keySchedule=[],_=0;_<T;_++)_<D?H[_]=I[_]:(E=H[_-1],_%D?D>6&&_%D==4&&(E=h[E>>>24]<<24|h[E>>>16&255]<<16|h[E>>>8&255]<<8|h[E&255]):(E=E<<8|E>>>24,E=h[E>>>24]<<24|h[E>>>16&255]<<16|h[E>>>8&255]<<8|h[E&255],E^=C[_/D|0]<<24),H[_]=H[_-D]^E);for(var F=this._invKeySchedule=[],Q=0;Q<T;Q++){var _=T-Q;if(Q%4)var E=H[_];else var E=H[_-4];Q<4||_<=4?F[Q]=E:F[Q]=x[h[E>>>24]]^g[h[E>>>16&255]]^A[h[E>>>8&255]]^j[h[E&255]]}}},encryptBlock:function(E,B){this._doCryptBlock(E,B,this._keySchedule,m,v,w,y,h)},decryptBlock:function(E,B){var I=E[B+1];E[B+1]=E[B+3],E[B+3]=I,this._doCryptBlock(E,B,this._invKeySchedule,x,g,A,j,p);var I=E[B+1];E[B+1]=E[B+3],E[B+3]=I},_doCryptBlock:function(E,B,I,D,M,T,H,_){for(var F=this._nRounds,Q=E[B]^I[0],L=E[B+1]^I[1],ee=E[B+2]^I[2],se=E[B+3]^I[3],ue=4,W=1;W<F;W++){var G=D[Q>>>24]^M[L>>>16&255]^T[ee>>>8&255]^H[se&255]^I[ue++],ne=D[L>>>24]^M[ee>>>16&255]^T[se>>>8&255]^H[Q&255]^I[ue++],de=D[ee>>>24]^M[se>>>16&255]^T[Q>>>8&255]^H[L&255]^I[ue++],te=D[se>>>24]^M[Q>>>16&255]^T[L>>>8&255]^H[ee&255]^I[ue++];Q=G,L=ne,ee=de,se=te}var G=(_[Q>>>24]<<24|_[L>>>16&255]<<16|_[ee>>>8&255]<<8|_[se&255])^I[ue++],ne=(_[L>>>24]<<24|_[ee>>>16&255]<<16|_[se>>>8&255]<<8|_[Q&255])^I[ue++],de=(_[ee>>>24]<<24|_[se>>>16&255]<<16|_[Q>>>8&255]<<8|_[L&255])^I[ue++],te=(_[se>>>24]<<24|_[Q>>>16&255]<<16|_[L>>>8&255]<<8|_[ee&255])^I[ue++];E[B]=G,E[B+1]=ne,E[B+2]=de,E[B+3]=te},keySize:256/32});o.AES=d._createHelper(k)}(),i.AES})}(Rh)),Rh.exports}var Th={exports:{}},eb;function qC(){return eb||(eb=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),nl(),il(),wo(),pn())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.WordArray,f=c.BlockCipher,h=o.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],v=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],w=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=h.DES=f.extend({_doReset:function(){for(var C=this._key,k=C.words,E=[],B=0;B<56;B++){var I=p[B]-1;E[B]=k[I>>>5]>>>31-I%32&1}for(var D=this._subKeys=[],M=0;M<16;M++){for(var T=D[M]=[],H=v[M],B=0;B<24;B++)T[B/6|0]|=E[(m[B]-1+H)%28]<<31-B%6,T[4+(B/6|0)]|=E[28+(m[B+24]-1+H)%28]<<31-B%6;T[0]=T[0]<<1|T[0]>>>31;for(var B=1;B<7;B++)T[B]=T[B]>>>(B-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var _=this._invSubKeys=[],B=0;B<16;B++)_[B]=D[15-B]},encryptBlock:function(C,k){this._doCryptBlock(C,k,this._subKeys)},decryptBlock:function(C,k){this._doCryptBlock(C,k,this._invSubKeys)},_doCryptBlock:function(C,k,E){this._lBlock=C[k],this._rBlock=C[k+1],g.call(this,4,252645135),g.call(this,16,65535),A.call(this,2,858993459),A.call(this,8,16711935),g.call(this,1,1431655765);for(var B=0;B<16;B++){for(var I=E[B],D=this._lBlock,M=this._rBlock,T=0,H=0;H<8;H++)T|=w[H][((M^I[H])&y[H])>>>0];this._lBlock=M,this._rBlock=D^T}var _=this._lBlock;this._lBlock=this._rBlock,this._rBlock=_,g.call(this,1,1431655765),A.call(this,8,16711935),A.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),C[k]=this._lBlock,C[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(C,k){var E=(this._lBlock>>>C^this._rBlock)&k;this._rBlock^=E,this._lBlock^=E<<C}function A(C,k){var E=(this._rBlock>>>C^this._lBlock)&k;this._lBlock^=E,this._rBlock^=E<<C}o.DES=f._createHelper(x);var j=h.TripleDES=f.extend({_doReset:function(){var C=this._key,k=C.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=k.slice(0,2),B=k.length<4?k.slice(0,2):k.slice(2,4),I=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=x.createEncryptor(d.create(E)),this._des2=x.createEncryptor(d.create(B)),this._des3=x.createEncryptor(d.create(I))},encryptBlock:function(C,k){this._des1.encryptBlock(C,k),this._des2.decryptBlock(C,k),this._des3.encryptBlock(C,k)},decryptBlock:function(C,k){this._des3.decryptBlock(C,k),this._des2.encryptBlock(C,k),this._des1.decryptBlock(C,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=f._createHelper(j)}(),i.TripleDES})}(Th)),Th.exports}var Mh={exports:{}},tb;function GC(){return tb||(tb=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),nl(),il(),wo(),pn())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.StreamCipher,f=o.algo,h=f.RC4=d.extend({_doReset:function(){for(var v=this._key,w=v.words,y=v.sigBytes,x=this._S=[],g=0;g<256;g++)x[g]=g;for(var g=0,A=0;g<256;g++){var j=g%y,C=w[j>>>2]>>>24-j%4*8&255;A=(A+x[g]+C)%256;var k=x[g];x[g]=x[A],x[A]=k}this._i=this._j=0},_doProcessBlock:function(v,w){v[w]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var v=this._S,w=this._i,y=this._j,x=0,g=0;g<4;g++){w=(w+1)%256,y=(y+v[w])%256;var A=v[w];v[w]=v[y],v[y]=A,x|=v[(v[w]+v[y])%256]<<24-g*8}return this._i=w,this._j=y,x}o.RC4=d._createHelper(h);var m=f.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var v=this.cfg.drop;v>0;v--)p.call(this)}});o.RC4Drop=d._createHelper(m)}(),i.RC4})}(Mh)),Mh.exports}var Fh={exports:{}},rb;function YC(){return rb||(rb=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),nl(),il(),wo(),pn())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.StreamCipher,f=o.algo,h=[],p=[],m=[],v=f.Rabbit=d.extend({_doReset:function(){for(var y=this._key.words,x=this.cfg.iv,g=0;g<4;g++)y[g]=(y[g]<<8|y[g]>>>24)&16711935|(y[g]<<24|y[g]>>>8)&4278255360;var A=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],j=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var g=0;g<4;g++)w.call(this);for(var g=0;g<8;g++)j[g]^=A[g+4&7];if(x){var C=x.words,k=C[0],E=C[1],B=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,D=B>>>16|I&4294901760,M=I<<16|B&65535;j[0]^=B,j[1]^=D,j[2]^=I,j[3]^=M,j[4]^=B,j[5]^=D,j[6]^=I,j[7]^=M;for(var g=0;g<4;g++)w.call(this)}},_doProcessBlock:function(y,x){var g=this._X;w.call(this),h[0]=g[0]^g[5]>>>16^g[3]<<16,h[1]=g[2]^g[7]>>>16^g[5]<<16,h[2]=g[4]^g[1]>>>16^g[7]<<16,h[3]=g[6]^g[3]>>>16^g[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,y[x+A]^=h[A]},blockSize:128/32,ivSize:64/32});function w(){for(var y=this._X,x=this._C,g=0;g<8;g++)p[g]=x[g];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<p[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<p[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<p[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<p[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<p[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<p[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<p[6]>>>0?1:0)|0,this._b=x[7]>>>0<p[7]>>>0?1:0;for(var g=0;g<8;g++){var A=y[g]+x[g],j=A&65535,C=A>>>16,k=((j*j>>>17)+j*C>>>15)+C*C,E=((A&4294901760)*A|0)+((A&65535)*A|0);m[g]=k^E}y[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,y[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,y[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,y[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,y[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,y[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,y[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,y[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.Rabbit=d._createHelper(v)}(),i.Rabbit})}(Fh)),Fh.exports}var _h={exports:{}},ab;function VC(){return ab||(ab=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),nl(),il(),wo(),pn())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.StreamCipher,f=o.algo,h=[],p=[],m=[],v=f.RabbitLegacy=d.extend({_doReset:function(){var y=this._key.words,x=this.cfg.iv,g=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var j=0;j<4;j++)w.call(this);for(var j=0;j<8;j++)A[j]^=g[j+4&7];if(x){var C=x.words,k=C[0],E=C[1],B=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,D=B>>>16|I&4294901760,M=I<<16|B&65535;A[0]^=B,A[1]^=D,A[2]^=I,A[3]^=M,A[4]^=B,A[5]^=D,A[6]^=I,A[7]^=M;for(var j=0;j<4;j++)w.call(this)}},_doProcessBlock:function(y,x){var g=this._X;w.call(this),h[0]=g[0]^g[5]>>>16^g[3]<<16,h[1]=g[2]^g[7]>>>16^g[5]<<16,h[2]=g[4]^g[1]>>>16^g[7]<<16,h[3]=g[6]^g[3]>>>16^g[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,y[x+A]^=h[A]},blockSize:128/32,ivSize:64/32});function w(){for(var y=this._X,x=this._C,g=0;g<8;g++)p[g]=x[g];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<p[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<p[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<p[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<p[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<p[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<p[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<p[6]>>>0?1:0)|0,this._b=x[7]>>>0<p[7]>>>0?1:0;for(var g=0;g<8;g++){var A=y[g]+x[g],j=A&65535,C=A>>>16,k=((j*j>>>17)+j*C>>>15)+C*C,E=((A&4294901760)*A|0)+((A&65535)*A|0);m[g]=k^E}y[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,y[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,y[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,y[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,y[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,y[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,y[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,y[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.RabbitLegacy=d._createHelper(v)}(),i.RabbitLegacy})}(_h)),_h.exports}var Ph={exports:{}},sb;function KC(){return sb||(sb=1,function(a,n){(function(i,o,c){a.exports=o(Zr(),nl(),il(),wo(),pn())})(gr,function(i){return function(){var o=i,c=o.lib,d=c.BlockCipher,f=o.algo;const h=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var v={pbox:[],sbox:[]};function w(j,C){let k=C>>24&255,E=C>>16&255,B=C>>8&255,I=C&255,D=j.sbox[0][k]+j.sbox[1][E];return D=D^j.sbox[2][B],D=D+j.sbox[3][I],D}function y(j,C,k){let E=C,B=k,I;for(let D=0;D<h;++D)E=E^j.pbox[D],B=w(j,E)^B,I=E,E=B,B=I;return I=E,E=B,B=I,B=B^j.pbox[h],E=E^j.pbox[h+1],{left:E,right:B}}function x(j,C,k){let E=C,B=k,I;for(let D=h+1;D>1;--D)E=E^j.pbox[D],B=w(j,E)^B,I=E,E=B,B=I;return I=E,E=B,B=I,B=B^j.pbox[1],E=E^j.pbox[0],{left:E,right:B}}function g(j,C,k){for(let M=0;M<4;M++){j.sbox[M]=[];for(let T=0;T<256;T++)j.sbox[M][T]=m[M][T]}let E=0;for(let M=0;M<h+2;M++)j.pbox[M]=p[M]^C[E],E++,E>=k&&(E=0);let B=0,I=0,D=0;for(let M=0;M<h+2;M+=2)D=y(j,B,I),B=D.left,I=D.right,j.pbox[M]=B,j.pbox[M+1]=I;for(let M=0;M<4;M++)for(let T=0;T<256;T+=2)D=y(j,B,I),B=D.left,I=D.right,j.sbox[M][T]=B,j.sbox[M][T+1]=I;return!0}var A=f.Blowfish=d.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var j=this._keyPriorReset=this._key,C=j.words,k=j.sigBytes/4;g(v,C,k)}},encryptBlock:function(j,C){var k=y(v,j[C],j[C+1]);j[C]=k.left,j[C+1]=k.right},decryptBlock:function(j,C){var k=x(v,j[C],j[C+1]);j[C]=k.left,j[C+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=d._createHelper(A)}(),i.Blowfish})}(Ph)),Ph.exports}(function(a,n){(function(i,o,c){a.exports=o(Zr(),Nu(),SC(),EC(),nl(),NC(),il(),Q5(),Em(),CC(),H5(),IC(),BC(),DC(),Nm(),RC(),wo(),pn(),TC(),MC(),FC(),_C(),PC(),OC(),UC(),zC(),LC(),QC(),HC(),$C(),qC(),GC(),YC(),VC(),KC())})(gr,function(i){return i})})(L5);var WC=L5.exports;const JC=lu(WC),pi=Pi(Oi((a,n)=>({logs:[],addLog:(i,o,c=null,d=null)=>{const f={id:`LOG${Date.now()}`,timestamp:new Date().toISOString(),action:i,details:o,userId:c,userName:d,ipAddress:null};return a(h=>({logs:[f,...h.logs].slice(0,5e3)})),f},getLogsByAction:i=>n().logs.filter(o=>o.action===i),getLogsByUser:i=>n().logs.filter(o=>o.userId===i),getLogsByDateRange:(i,o)=>{const c=new Date(i);c.setHours(0,0,0,0);const d=new Date(o);return d.setHours(23,59,59,999),n().logs.filter(f=>{const h=new Date(f.timestamp);return h>=c&&h<=d})},getRecentLogs:(i=50)=>n().logs.slice(0,i),clearOldLogs:(i=30)=>{const o=new Date;o.setDate(o.getDate()-i),a(c=>({logs:c.logs.filter(d=>new Date(d.timestamp)>o)}))},exportLogs:(i=null,o=null)=>{let c=n().logs;return i&&o&&(c=n().getLogsByDateRange(i,o)),JSON.stringify(c,null,2)}}),{name:"audit-storage"})),E1={LOGIN:"login",LOGOUT:"logout",LOGIN_FAILED:"login_failed",TRANSACTION_CREATE:"transaction_create",TRANSACTION_VOID:"transaction_void",PRODUCT_ADD:"product_add",PRODUCT_EDIT:"product_edit",PRODUCT_DELETE:"product_delete",STOCK_ADJUST:"stock_adjust",STOCK_PURCHASE:"stock_purchase",STOCK_OPNAME:"stock_opname"},Mo=a=>JC.SHA256(a).toString(),nb=(a,n)=>Mo(a)===n||a===n,$5={all:"Semua Akses",pos:"Kasir (POS)",products:"Kelola Produk",products_view:"Lihat Produk",stock:"Kelola Stok",customers:"Kelola Pelanggan",customers_view:"Lihat Pelanggan",sales:"Lihat Penjualan",purchases:"Pembelian & Supplier",reports:"Laporan",marketplace:"Marketplace (Shopee)",settings:"Pengaturan"},M1=Pi(Oi((a,n)=>({user:null,isAuthenticated:!1,users:[{id:1,username:"admin",password:Mo("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}},{id:2,username:"kasir",password:Mo("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}}],login:(i,o)=>{const c=n().users,d=c.find(h=>h.username===i&&nb(o,h.password)&&h.isActive!==!1);if(d){const{password:h,...p}=d;return a({user:p,isAuthenticated:!0}),pi.getState().addLog(E1.LOGIN,{username:d.username,role:d.role},d.id,d.name),{success:!0}}pi.getState().addLog(E1.LOGIN_FAILED,{username:i,reason:"Invalid credentials"},null,null);const f=c.find(h=>h.username===i&&nb(o,h.password));return f&&!f.isActive?{success:!1,error:"Akun tidak aktif. Hubungi administrator."}:{success:!1,error:"Username atau password salah"}},logout:()=>{const i=n().user;i&&pi.getState().addLog(E1.LOGOUT,{username:i.username},i.id,i.name),a({user:null,isAuthenticated:!1})},addUser:i=>{const o=n().users;if(o.some(d=>d.username.toLowerCase()===i.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const c={id:Date.now(),username:i.username,password:Mo(i.password),name:i.name,role:i.role||"cashier",permissions:i.permissions||["pos","products_view"],isActive:!0,createdAt:new Date().toISOString(),marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}};return a({users:[...o,c]}),{success:!0,user:c}},updateUser:(i,o)=>{const c=n().users,d=n().user,f=c.find(p=>p.id===i);if((f==null?void 0:f.id)===1&&(d==null?void 0:d.id)!==1)return{success:!1,error:"Tidak bisa mengedit admin utama"};if(o.username&&c.find(m=>m.id!==i&&m.username.toLowerCase()===o.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const h=c.map(p=>p.id===i?{...p,...o,updatedAt:new Date().toISOString()}:p);if(a({users:h}),(d==null?void 0:d.id)===i){const p=h.find(w=>w.id===i),{password:m,...v}=p;a({user:v})}return{success:!0}},deleteUser:i=>{const o=n().users,c=n().user;return(c==null?void 0:c.id)===i?{success:!1,error:"Tidak bisa menghapus akun sendiri"}:i===1?{success:!1,error:"Tidak bisa menghapus admin utama"}:(a({users:o.filter(d=>d.id!==i)}),{success:!0})},toggleUserActive:i=>{const o=n().users,c=n().user;if((c==null?void 0:c.id)===i)return{success:!1,error:"Tidak bisa menonaktifkan akun sendiri"};if(i===1)return{success:!1,error:"Tidak bisa menonaktifkan admin utama"};const d=o.map(f=>f.id===i?{...f,isActive:!f.isActive}:f);return a({users:d}),{success:!0}},changePassword:(i,o)=>{const d=n().users.map(f=>f.username===i?{...f,password:Mo(o)}:f);a({users:d})},updateMarketplaceCredentials:(i,o,c)=>{const d=n().users,f=n().user,h=d.map(p=>{var m;return p.id===i?{...p,marketplaceCredentials:{...p.marketplaceCredentials,[o]:{...(m=p.marketplaceCredentials)==null?void 0:m[o],...c}}}:p});if(a({users:h}),(f==null?void 0:f.id)===i){const p=h.find(w=>w.id===i),{password:m,...v}=p;a({user:v})}return{success:!0}},getMyMarketplaceCredentials:i=>{var f;const o=n().user;if(!o)return null;const d=n().users.find(h=>h.id===o.id);return((f=d==null?void 0:d.marketplaceCredentials)==null?void 0:f[i])||null},getUserById:i=>n().users.find(c=>c.id===i),hasPermission:i=>{const o=n();return o.user?o.user.permissions.includes("all")?!0:o.user.permissions.includes(i):!1},isAdmin:()=>{var o,c,d;const i=n();return((o=i.user)==null?void 0:o.role)==="admin"||((d=(c=i.user)==null?void 0:c.permissions)==null?void 0:d.includes("all"))},resetToDefaultAdmin:()=>{const i={id:1,username:"admin",password:Mo("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z"},o={id:2,username:"kasir",password:Mo("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z"};return a({users:[i,o],user:{...i,password:void 0},isAuthenticated:!0}),{success:!0}}}),{name:"auth-storage"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var sc;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(sc||(sc={}));class Oh extends Error{constructor(n,i,o){super(n),this.message=n,this.code=i,this.data=o}}const XC=a=>{var n,i;return a!=null&&a.androidBridge?"android":!((i=(n=a==null?void 0:a.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},ZC=a=>{const n=a.CapacitorCustomPlatform||null,i=a.Capacitor||{},o=i.Plugins=i.Plugins||{},c=()=>n!==null?n.name:XC(a),d=()=>c()!=="web",f=w=>{const y=m.get(w);return!!(y!=null&&y.platforms.has(c())||h(w))},h=w=>{var y;return(y=i.PluginHeaders)===null||y===void 0?void 0:y.find(x=>x.name===w)},p=w=>a.console.error(w),m=new Map,v=(w,y={})=>{const x=m.get(w);if(x)return console.warn(`Capacitor plugin "${w}" already registered. Cannot register plugins twice.`),x.proxy;const g=c(),A=h(w);let j;const C=async()=>(!j&&g in y?j=typeof y[g]=="function"?j=await y[g]():j=y[g]:n!==null&&!j&&"web"in y&&(j=typeof y.web=="function"?j=await y.web():j=y.web),j),k=(T,H)=>{var _,F;if(A){const Q=A==null?void 0:A.methods.find(L=>H===L.name);if(Q)return Q.rtype==="promise"?L=>i.nativePromise(w,H.toString(),L):(L,ee)=>i.nativeCallback(w,H.toString(),L,ee);if(T)return(_=T[H])===null||_===void 0?void 0:_.bind(T)}else{if(T)return(F=T[H])===null||F===void 0?void 0:F.bind(T);throw new Oh(`"${w}" plugin is not implemented on ${g}`,sc.Unimplemented)}},E=T=>{let H;const _=(...F)=>{const Q=C().then(L=>{const ee=k(L,T);if(ee){const se=ee(...F);return H=se==null?void 0:se.remove,se}else throw new Oh(`"${w}.${T}()" is not implemented on ${g}`,sc.Unimplemented)});return T==="addListener"&&(Q.remove=async()=>H()),Q};return _.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:T,writable:!1,configurable:!1}),_},B=E("addListener"),I=E("removeListener"),D=(T,H)=>{const _=B({eventName:T},H),F=async()=>{const L=await _;I({eventName:T,callbackId:L},H)},Q=new Promise(L=>_.then(()=>L({remove:F})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},Q},M=new Proxy({},{get(T,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?D:B;case"removeListener":return I;default:return E(H)}}});return o[w]=M,m.set(w,{name:w,proxy:M,platforms:new Set([...Object.keys(y),...A?[g]:[]])}),M};return i.convertFileSrc||(i.convertFileSrc=w=>w),i.getPlatform=c,i.handleError=p,i.isNativePlatform=d,i.isPluginAvailable=f,i.registerPlugin=v,i.Exception=Oh,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},eI=a=>a.Capacitor=ZC(a),ho=eI(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ol=ho.registerPlugin;class q5{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,i){let o=!1;this.listeners[n]||(this.listeners[n]=[],o=!0),this.listeners[n].push(i);const d=this.windowListeners[n];d&&!d.registered&&this.addWindowListener(d),o&&this.sendRetainedArgumentsForEvent(n);const f=async()=>this.removeListener(n,i);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i,o){const c=this.listeners[n];if(!c){if(o){let d=this.retainedEventArguments[n];d||(d=[]),d.push(i),this.retainedEventArguments[n]=d}return}c.forEach(d=>d(i))}hasListeners(n){var i;return!!(!((i=this.listeners[n])===null||i===void 0)&&i.length)}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:o=>{this.notifyListeners(i,o)}}}unimplemented(n="not implemented"){return new ho.Exception(n,sc.Unimplemented)}unavailable(n="not available"){return new ho.Exception(n,sc.Unavailable)}async removeListener(n,i){const o=this.listeners[n];if(!o)return;const c=o.indexOf(i);this.listeners[n].splice(c,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const i=this.retainedEventArguments[n];i&&(delete this.retainedEventArguments[n],i.forEach(o=>{this.notifyListeners(n,o)}))}}const ib=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ob=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class tI extends q5{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(o=>{if(o.length<=0)return;let[c,d]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=ob(c).trim(),d=ob(d).trim(),i[c]=d}),i}async setCookie(n){try{const i=ib(n.key),o=ib(n.value),c=`; expires=${(n.expires||"").replace("expires=","")}`,d=(n.path||"/").replace("path=",""),f=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${o||""}${c}; path=${d}; ${f};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}ol("CapacitorCookies",{web:()=>new tI});const rI=async a=>new Promise((n,i)=>{const o=new FileReader;o.onload=()=>{const c=o.result;n(c.indexOf(",")>=0?c.split(",")[1]:c)},o.onerror=c=>i(c),o.readAsDataURL(a)}),aI=(a={})=>{const n=Object.keys(a);return Object.keys(a).map(c=>c.toLocaleLowerCase()).reduce((c,d,f)=>(c[d]=a[n[f]],c),{})},sI=(a,n=!0)=>a?Object.entries(a).reduce((o,c)=>{const[d,f]=c;let h,p;return Array.isArray(f)?(p="",f.forEach(m=>{h=n?encodeURIComponent(m):m,p+=`${d}=${h}&`}),p.slice(0,-1)):(h=n?encodeURIComponent(f):f,p=`${d}=${h}`),`${o}&${p}`},"").substr(1):null,nI=(a,n={})=>{const i=Object.assign({method:a.method||"GET",headers:a.headers},n),c=aI(a.headers)["content-type"]||"";if(typeof a.data=="string")i.body=a.data;else if(c.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[f,h]of Object.entries(a.data||{}))d.set(f,h);i.body=d.toString()}else if(c.includes("multipart/form-data")||a.data instanceof FormData){const d=new FormData;if(a.data instanceof FormData)a.data.forEach((h,p)=>{d.append(p,h)});else for(const h of Object.keys(a.data))d.append(h,a.data[h]);i.body=d;const f=new Headers(i.headers);f.delete("content-type"),i.headers=f}else(c.includes("application/json")||typeof a.data=="object")&&(i.body=JSON.stringify(a.data));return i};class iI extends q5{async request(n){const i=nI(n,n.webFetchExtra),o=sI(n.params,n.shouldEncodeUrlParams),c=o?`${n.url}?${o}`:n.url,d=await fetch(c,i),f=d.headers.get("content-type")||"";let{responseType:h="text"}=d.ok?n:{};f.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await d.blob(),p=await rI(m);break;case"json":p=await d.json();break;case"document":case"text":default:p=await d.text()}const v={};return d.headers.forEach((w,y)=>{v[y]=w}),{data:p,headers:v,status:d.status,url:d.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}ol("CapacitorHttp",{web:()=>new iI});ho.isNativePlatform();const Et=ho.getPlatform()==="android";ho.getPlatform();ho.getPlatform();ho.getPlatform();var Cm={},$d={},Vp=function(a,n){return Vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])},Vp(a,n)};function G5(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Vp(a,n);function i(){this.constructor=a}a.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var qd=function(){return qd=Object.assign||function(n){for(var i,o=1,c=arguments.length;o<c;o++){i=arguments[o];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(n[d]=i[d])}return n},qd.apply(this,arguments)};function wc(a,n){var i={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(a);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(a,o[c])&&(i[o[c]]=a[o[c]]);return i}function Y5(a,n,i,o){var c=arguments.length,d=c<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,i):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(a,n,i,o);else for(var h=a.length-1;h>=0;h--)(f=a[h])&&(d=(c<3?f(d):c>3?f(n,i,d):f(n,i))||d);return c>3&&d&&Object.defineProperty(n,i,d),d}function V5(a,n){return function(i,o){n(i,o,a)}}function K5(a,n,i,o,c,d){function f(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var h=o.kind,p=h==="getter"?"get":h==="setter"?"set":"value",m=!n&&a?o.static?a:a.prototype:null,v=n||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),w,y=!1,x=i.length-1;x>=0;x--){var g={};for(var A in o)g[A]=A==="access"?{}:o[A];for(var A in o.access)g.access[A]=o.access[A];g.addInitializer=function(C){if(y)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(C||null))};var j=(0,i[x])(h==="accessor"?{get:v.get,set:v.set}:v[p],g);if(h==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(w=f(j.get))&&(v.get=w),(w=f(j.set))&&(v.set=w),(w=f(j.init))&&c.unshift(w)}else(w=f(j))&&(h==="field"?c.unshift(w):v[p]=w)}m&&Object.defineProperty(m,o.name,v),y=!0}function W5(a,n,i){for(var o=arguments.length>2,c=0;c<n.length;c++)i=o?n[c].call(a,i):n[c].call(a);return o?i:void 0}function J5(a){return typeof a=="symbol"?a:"".concat(a)}function X5(a,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function Z5(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function Ot(a,n,i,o){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function h(v){try{m(o.next(v))}catch(w){f(w)}}function p(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?d(v.value):c(v.value).then(h,p)}m((o=o.apply(a,n||[])).next())})}function ew(a,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(m){return function(v){return p([m,v])}}function p(m){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(a,i)}catch(v){m=[6,v],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Cu=Object.create?function(a,n,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(n,i);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(a,o,c)}:function(a,n,i,o){o===void 0&&(o=i),a[o]=n[i]};function tw(a,n){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Cu(n,a,i)}function Gd(a){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&a[n],o=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Im(a,n){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var o=i.call(a),c,d=[],f;try{for(;(n===void 0||n-- >0)&&!(c=o.next()).done;)d.push(c.value)}catch(h){f={error:h}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(f)throw f.error}}return d}function rw(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(Im(arguments[n]));return a}function aw(){for(var a=0,n=0,i=arguments.length;n<i;n++)a+=arguments[n].length;for(var o=Array(a),c=0,n=0;n<i;n++)for(var d=arguments[n],f=0,h=d.length;f<h;f++,c++)o[c]=d[f];return o}function sw(a,n,i){if(i||arguments.length===2)for(var o=0,c=n.length,d;o<c;o++)(d||!(o in n))&&(d||(d=Array.prototype.slice.call(n,0,o)),d[o]=n[o]);return a.concat(d||Array.prototype.slice.call(n))}function nc(a){return this instanceof nc?(this.v=a,this):new nc(a)}function nw(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(a,n||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(x){return function(g){return Promise.resolve(g).then(x,w)}}function h(x,g){o[x]&&(c[x]=function(A){return new Promise(function(j,C){d.push([x,A,j,C])>1||p(x,A)})},g&&(c[x]=g(c[x])))}function p(x,g){try{m(o[x](g))}catch(A){y(d[0][3],A)}}function m(x){x.value instanceof nc?Promise.resolve(x.value.v).then(v,w):y(d[0][2],x)}function v(x){p("next",x)}function w(x){p("throw",x)}function y(x,g){x(g),d.shift(),d.length&&p(d[0][0],d[0][1])}}function iw(a){var n,i;return n={},o("next"),o("throw",function(c){throw c}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(c,d){n[c]=a[c]?function(f){return(i=!i)?{value:nc(a[c](f)),done:!1}:d?d(f):f}:d}}function ow(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],i;return n?n.call(a):(a=typeof Gd=="function"?Gd(a):a[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(d){i[d]=a[d]&&function(f){return new Promise(function(h,p){f=a[d](f),c(h,p,f.done,f.value)})}}function c(d,f,h,p){Promise.resolve(p).then(function(m){d({value:m,done:h})},f)}}function lw(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var oI=Object.create?function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}:function(a,n){a.default=n},Kp=function(a){return Kp=Object.getOwnPropertyNames||function(n){var i=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[i.length]=o);return i},Kp(a)};function cw(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var i=Kp(a),o=0;o<i.length;o++)i[o]!=="default"&&Cu(n,a,i[o]);return oI(n,a),n}function dw(a){return a&&a.__esModule?a:{default:a}}function uw(a,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!o:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(a):o?o.value:n.get(a)}function fw(a,n,i,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!c:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(a,i):c?c.value=i:n.set(a,i),i}function hw(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function pw(a,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var o,c;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose],i&&(c=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");c&&(o=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),a.stack.push({value:n,dispose:o,async:i})}else i&&a.stack.push({async:!0});return n}var lI=typeof SuppressedError=="function"?SuppressedError:function(a,n,i){var o=new Error(i);return o.name="SuppressedError",o.error=a,o.suppressed=n,o};function mw(a){function n(d){a.error=a.hasError?new lI(d,a.error,"An error was suppressed during disposal."):d,a.hasError=!0}var i,o=0;function c(){for(;i=a.stack.pop();)try{if(!i.async&&o===1)return o=0,a.stack.push(i),Promise.resolve().then(c);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(d).then(c,function(f){return n(f),c()})}else o|=1}catch(f){n(f)}if(o===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return c()}function vw(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,c,d,f){return o?n?".jsx":".js":c&&(!d||!f)?i:c+d+"."+f.toLowerCase()+"js"}):a}const cI={__extends:G5,__assign:qd,__rest:wc,__decorate:Y5,__param:V5,__esDecorate:K5,__runInitializers:W5,__propKey:J5,__setFunctionName:X5,__metadata:Z5,__awaiter:Ot,__generator:ew,__createBinding:Cu,__exportStar:tw,__values:Gd,__read:Im,__spread:rw,__spreadArrays:aw,__spreadArray:sw,__await:nc,__asyncGenerator:nw,__asyncDelegator:iw,__asyncValues:ow,__makeTemplateObject:lw,__importStar:cw,__importDefault:dw,__classPrivateFieldGet:uw,__classPrivateFieldSet:fw,__classPrivateFieldIn:hw,__addDisposableResource:pw,__disposeResources:mw,__rewriteRelativeImportExtension:vw},dI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pw,get __assign(){return qd},__asyncDelegator:iw,__asyncGenerator:nw,__asyncValues:ow,__await:nc,__awaiter:Ot,__classPrivateFieldGet:uw,__classPrivateFieldIn:hw,__classPrivateFieldSet:fw,__createBinding:Cu,__decorate:Y5,__disposeResources:mw,__esDecorate:K5,__exportStar:tw,__extends:G5,__generator:ew,__importDefault:dw,__importStar:cw,__makeTemplateObject:lw,__metadata:Z5,__param:V5,__propKey:J5,__read:Im,__rest:wc,__rewriteRelativeImportExtension:vw,__runInitializers:W5,__setFunctionName:X5,__spread:rw,__spreadArray:sw,__spreadArrays:aw,__values:Gd,default:cI},Symbol.toStringTag,{value:"Module"})),uI=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);let Iu=class extends Error{constructor(n,i="FunctionsError",o){super(n),this.name=i,this.context=o}},xw=class extends Iu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Wp=class extends Iu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Jp=class extends Iu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Yd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Yd||(Yd={}));class fI{constructor(n,{headers:i={},customFetch:o,region:c=Yd.Any}={}){this.url=n,this.headers=i,this.region=c,this.fetch=uI(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Ot(this,arguments,void 0,function*(i,o={}){var c;let d,f;try{const{headers:h,method:p,body:m,signal:v,timeout:w}=o;let y={},{region:x}=o;x||(x=this.region);const g=new URL(`${this.url}/${i}`);x&&x!=="any"&&(y["x-region"]=x,g.searchParams.set("forceFunctionRegion",x));let A;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",A=m):typeof m=="string"?(y["Content-Type"]="text/plain",A=m):typeof FormData<"u"&&m instanceof FormData?A=m:(y["Content-Type"]="application/json",A=JSON.stringify(m)):A=m;let j=v;w&&(f=new AbortController,d=setTimeout(()=>f.abort(),w),v?(j=f.signal,v.addEventListener("abort",()=>f.abort())):j=f.signal);const C=yield this.fetch(g.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),h),body:A,signal:j}).catch(I=>{throw new xw(I)}),k=C.headers.get("x-relay-error");if(k&&k==="true")throw new Wp(C);if(!C.ok)throw new Jp(C);let E=((c=C.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),B;return E==="application/json"?B=yield C.json():E==="application/octet-stream"||E==="application/pdf"?B=yield C.blob():E==="text/event-stream"?B=C:E==="multipart/form-data"?B=yield C.formData():B=yield C.text(),{data:B,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof Jp||h instanceof Wp?h.context:void 0}}finally{d&&clearTimeout(d)}})}}const hI=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Yd},FunctionsClient:fI,FunctionsError:Iu,FunctionsFetchError:xw,FunctionsHttpError:Jp,FunctionsRelayError:Wp},Symbol.toStringTag,{value:"Module"})),gw=hc(hI);var _n={};const yc=hc(dI);var Q2={},H2={},$2={},q2={},G2={},Y2={},lb;function bw(){if(lb)return Y2;lb=1,Object.defineProperty(Y2,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Y2.default=a,Y2}var cb;function ww(){if(cb)return G2;cb=1,Object.defineProperty(G2,"__esModule",{value:!0});const n=yc.__importDefault(bw());let i=class{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,v,w,y;let x=null,g=null,A=null,j=p.status,C=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?g=I:g=JSON.parse(I))}const E=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),B=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");E&&B&&B.length>1&&(A=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(x={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,A=null,j=406,C="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const E=await p.text();try{x=JSON.parse(E),Array.isArray(x)&&p.status===404&&(g=[],x=null,j=200,C="OK")}catch{p.status===404&&E===""?(j=204,C="No Content"):x={message:E}}if(x&&this.isMaybeSingle&&(!((y=x==null?void 0:x.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,j=200,C="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:g,count:A,status:j,statusText:C}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,v,w,y,x,g;let A="";const j=p==null?void 0:p.cause;if(j){const C=(m=j==null?void 0:j.message)!==null&&m!==void 0?m:"",k=(v=j==null?void 0:j.code)!==null&&v!==void 0?v:"";A=`${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"FetchError"}: ${p==null?void 0:p.message}`,A+=`

Caused by: ${(y=j==null?void 0:j.name)!==null&&y!==void 0?y:"Error"}: ${C}`,k&&(A+=` (${k})`),j!=null&&j.stack&&(A+=`
${j.stack}`)}else A=(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(c,d)}returns(){return this}overrideTypes(){return this}};return G2.default=i,G2}var db;function yw(){if(db)return q2;db=1,Object.defineProperty(q2,"__esModule",{value:!0});const n=yc.__importDefault(ww());let i=class extends n.default{select(c){let d=!1;const f=(c??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:h=f}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(m,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var v;const w=[c?"analyze":null,d?"verbose":null,f?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}};return q2.default=i,q2}var ub;function Bm(){if(ub)return $2;ub=1,Object.defineProperty($2,"__esModule",{value:!0});const n=yc.__importDefault(yw()),i=new RegExp("[,()]");let o=class extends n.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const h=Array.from(new Set(f)).map(p=>typeof p=="string"&&i.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(d,`in.(${h})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(d,`${m}fts${v}.${f}`),this}match(d){return Object.entries(d).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(d,f,h){return this.url.searchParams.append(d,`not.${f}.${h}`),this}or(d,{foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${d})`),this}filter(d,f,h){return this.url.searchParams.append(d,`${f}.${h}`),this}};return $2.default=o,$2}var fb;function Aw(){if(fb)return H2;fb=1,Object.defineProperty(H2,"__esModule",{value:!0});const n=yc.__importDefault(Bm());let i=class{constructor(c,{headers:d={},schema:f,fetch:h}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=h}select(c,d){const{head:f=!1,count:h}=d??{},p=f?"HEAD":"GET";let m=!1;const v=(c??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var h;const p="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const m=c.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:h,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(w.length>0){const y=[...new Set(w)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(c,{count:d}={}){var f;const h="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return H2.default=i,H2}var hb;function pI(){if(hb)return Q2;hb=1,Object.defineProperty(Q2,"__esModule",{value:!0});const a=yc,n=a.__importDefault(Aw()),i=a.__importDefault(Bm());let o=class kw{constructor(d,{headers:f={},schema:h,fetch:p}={}){this.url=d,this.headers=new Headers(f),this.schemaName=h,this.fetch=p}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new kw(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:h=!1,get:p=!1,count:m}={}){var v;let w;const y=new URL(`${this.url}/rpc/${d}`);let x;h||p?(w=h?"HEAD":"GET",Object.entries(f).filter(([A,j])=>j!==void 0).map(([A,j])=>[A,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([A,j])=>{y.searchParams.append(A,j)})):(w="POST",x=f);const g=new Headers(this.headers);return m&&g.set("Prefer",`count=${m}`),new i.default({method:w,url:y,headers:g,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Q2.default=o,Q2}Object.defineProperty(_n,"__esModule",{value:!0});_n.PostgrestError=_n.PostgrestBuilder=_n.PostgrestTransformBuilder=_n.PostgrestFilterBuilder=_n.PostgrestQueryBuilder=_n.PostgrestClient=void 0;const Ac=yc,jw=Ac.__importDefault(pI());_n.PostgrestClient=jw.default;const Sw=Ac.__importDefault(Aw());_n.PostgrestQueryBuilder=Sw.default;const Ew=Ac.__importDefault(Bm());_n.PostgrestFilterBuilder=Ew.default;const Nw=Ac.__importDefault(yw());_n.PostgrestTransformBuilder=Nw.default;const Cw=Ac.__importDefault(ww());_n.PostgrestBuilder=Cw.default;const Iw=Ac.__importDefault(bw());_n.PostgrestError=Iw.default;_n.default={PostgrestClient:jw.default,PostgrestQueryBuilder:Sw.default,PostgrestFilterBuilder:Ew.default,PostgrestTransformBuilder:Nw.default,PostgrestBuilder:Cw.default,PostgrestError:Iw.default};class Bw{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const o=this.getWebSocketConstructor();return new o(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const mI="2.86.2",vI=`realtime-js/${mI}`,Dw="1.0.0",xI="2.0.0",pb=Dw,Xp=1e4,gI=1e3,bI=100;var Oo;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Oo||(Oo={}));var Vs;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Vs||(Vs={}));var Y1;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Y1||(Y1={}));var Zp;(function(a){a.websocket="websocket"})(Zp||(Zp={}));var Uo;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Uo||(Uo={}));class wI{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let o=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,o;const c=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var i,o;const c=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,o){var c,d;const f=n.topic,h=(c=n.ref)!==null&&c!==void 0?c:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",m=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+f.length+m.length+w.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let g=new DataView(x),A=0;g.setUint8(A++,this.KINDS.userBroadcastPush),g.setUint8(A++,p.length),g.setUint8(A++,h.length),g.setUint8(A++,f.length),g.setUint8(A++,m.length),g.setUint8(A++,w.length),g.setUint8(A++,i),Array.from(p,C=>g.setUint8(A++,C.charCodeAt(0))),Array.from(h,C=>g.setUint8(A++,C.charCodeAt(0))),Array.from(f,C=>g.setUint8(A++,C.charCodeAt(0))),Array.from(m,C=>g.setUint8(A++,C.charCodeAt(0))),Array.from(w,C=>g.setUint8(A++,C.charCodeAt(0)));var j=new Uint8Array(x.byteLength+o.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(o),x.byteLength),j.buffer}decode(n,i){if(this._isArrayBuffer(n)){let o=this._binaryDecode(n);return i(o)}if(typeof n=="string"){const o=JSON.parse(n),[c,d,f,h,p]=o;return i({join_ref:c,ref:d,topic:f,event:h,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),o=i.getUint8(0),c=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,c)}}_decodeUserBroadcast(n,i,o){const c=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let p=this.HEADER_LENGTH+4;const m=o.decode(n.slice(p,p+c));p=p+c;const v=o.decode(n.slice(p,p+d));p=p+d;const w=o.decode(n.slice(p,p+f));p=p+f;const y=n.slice(p,n.byteLength),x=h===this.JSON_ENCODING?JSON.parse(o.decode(y)):y,g={type:this.BROADCAST_EVENT,event:v,payload:x};return f>0&&(g.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([o])=>i.includes(o)))}}class Rw{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ya;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ya||(Ya={}));const mb=(a,n,i={})=>{var o;const c=(o=i.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=yI(f,a,n,c),d),{}):{}},yI=(a,n,i,o)=>{const c=n.find(h=>h.name===a),d=c==null?void 0:c.type,f=i[a];return d&&!o.includes(d)?Tw(d,f):e3(f)},Tw=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return SI(n,i)}switch(a){case Ya.bool:return AI(n);case Ya.float4:case Ya.float8:case Ya.int2:case Ya.int4:case Ya.int8:case Ya.numeric:case Ya.oid:return kI(n);case Ya.json:case Ya.jsonb:return jI(n);case Ya.timestamp:return EI(n);case Ya.abstime:case Ya.date:case Ya.daterange:case Ya.int4range:case Ya.int8range:case Ya.money:case Ya.reltime:case Ya.text:case Ya.time:case Ya.timestamptz:case Ya.timetz:case Ya.tsrange:case Ya.tstzrange:return e3(n);default:return e3(n)}},e3=a=>a,AI=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},kI=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},jI=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},SI=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,o=a[i];if(a[0]==="{"&&o==="}"){let d;const f=a.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(h=>Tw(n,h))}return a},EI=a=>typeof a=="string"?a.replace(" ","T"):a,Mw=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Uh{constructor(n,i,o={},c=Xp){this.channel=n,this.event=i,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var o;return this._hasReceived(n)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var t3;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(t3||(t3={}));let Fw=class fd{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:d,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fd.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=fd.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=fd.syncDiff(this.state,c,d,f),h())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,o,c){const d=this.cloneDeep(n),f=this.transformState(i),h={},p={};return this.map(d,(m,v)=>{f[m]||(p[m]=v)}),this.map(f,(m,v)=>{const w=d[m];if(w){const y=v.map(j=>j.presence_ref),x=w.map(j=>j.presence_ref),g=v.filter(j=>x.indexOf(j.presence_ref)<0),A=w.filter(j=>y.indexOf(j.presence_ref)<0);g.length>0&&(h[m]=g),A.length>0&&(p[m]=A)}else h[m]=v}),this.syncDiff(d,{joins:h,leaves:p},o,c)}static syncDiff(n,i,o,c){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(d,(h,p)=>{var m;const v=(m=n[h])!==null&&m!==void 0?m:[];if(n[h]=this.cloneDeep(p),v.length>0){const w=n[h].map(x=>x.presence_ref),y=v.filter(x=>w.indexOf(x.presence_ref)<0);n[h].unshift(...y)}o(h,v,p)}),this.map(f,(h,p)=>{let m=n[h];if(!m)return;const v=p.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),n[h]=m,c(h,m,p),m.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(o=>i(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,o)=>{const c=n[o];return"metas"in c?i[o]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=c,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var r3;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(r3||(r3={}));var Hl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Hl||(Hl={}));var fi;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(fi||(fi={}));const NI=Vs;let _w=class Pw{constructor(n,i={config:{}},o){var c,d;if(this.topic=n,this.params=i,this.socket=o,this.bindings={},this.state=Vs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Uh(this,Y1.join,this.params,this.timeout),this.rejoinTimer=new Rw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vs.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Vs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Vs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Y1.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Fw(this),this.broadcastEndpointURL=Mw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var o,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Vs.closed){const{config:{broadcast:f,presence:h,private:p}}=this.params,m=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(x=>x.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Hl.PRESENCE]&&this.bindings[Hl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},y={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(x=>n==null?void 0:n(fi.CHANNEL_ERROR,x)),this._onClose(()=>n==null?void 0:n(fi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var g;if(this.socket.setAuth(),x===void 0){n==null||n(fi.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,j=(g=A==null?void 0:A.length)!==null&&g!==void 0?g:0,C=[];for(let k=0;k<j;k++){const E=A[k],{filter:{event:B,schema:I,table:D,filter:M}}=E,T=x&&x[k];if(T&&T.event===B&&T.schema===I&&T.table===D&&T.filter===M)C.push(Object.assign(Object.assign({},E),{id:T.id}));else{this.unsubscribe(),this.state=Vs.errored,n==null||n(fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(fi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Vs.errored,n==null||n(fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,o){return this.state===Vs.joined&&n===Hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,o)}async httpSend(n,i,o={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var o,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=m.body)===null||c===void 0?void 0:c.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,h,p;const m=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Vs.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Y1.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Uh(this,Y1.leave,{},n),o.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vs.closed,this.bindings={}}async _fetchWithTimeout(n,i,o){const c=new AbortController,d=setTimeout(()=>c.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),f}_push(n,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Uh(this,n,i,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>bI){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,o){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,o){var c,d;const f=n.toLocaleLowerCase(),{close:h,error:p,leave:m,join:v}=Y1;if(o&&[h,p,m,v].indexOf(f)>=0&&o!==this._joinRef())return;let y=this._onMessage(f,i,o);if(i&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(x=>{var g,A,j;return((g=x.filter)===null||g===void 0?void 0:g.event)==="*"||((j=(A=x.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(x=>x.callback(y,o)):(d=this.bindings[f])===null||d===void 0||d.filter(x=>{var g,A,j,C,k,E;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const B=x.id,I=(g=x.filter)===null||g===void 0?void 0:g.event;return B&&((A=i.ids)===null||A===void 0?void 0:A.includes(B))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const B=(k=(C=x==null?void 0:x.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return B==="*"||B===((E=i==null?void 0:i.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof y=="object"&&"ids"in y){const g=y.data,{schema:A,table:j,commit_timestamp:C,type:k,errors:E}=g;y=Object.assign(Object.assign({},{schema:A,table:j,commit_timestamp:C,eventType:k,new:{},old:{},errors:E}),this._getPayloadRecords(g))}x.callback(y,o)})}_isClosed(){return this.state===Vs.closed}_isJoined(){return this.state===Vs.joined}_isJoining(){return this.state===Vs.joining}_isLeaving(){return this.state===Vs.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,o){const c=n.toLocaleLowerCase(),d={type:c,filter:i,callback:o};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,i){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&Pw.isEqual(c.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const o in n)if(n[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Y1.close,{},n)}_onError(n){this._on(Y1.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vs.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=mb(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=mb(n.columns,n.old_record)),i}};const zh=()=>{},V2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CI=[1e3,2e3,5e3,1e4],II=1e4,BI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let DI=class{constructor(n,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xp,this.transport=null,this.heartbeatIntervalMs=V2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zh,this.ref=0,this.reconnectTimer=null,this.vsn=pb,this.logger=zh,this.conn=null,this.sendBuffer=[],this.serializer=new wI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Zp.websocket}`,this.httpEndpoint=Mw(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bw.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,o){this.logger(n,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Oo.connecting:return Uo.Connecting;case Oo.open:return Uo.Open;case Oo.closing:return Uo.Closing;default:return Uo.Closed}}isConnected(){return this.connectionState()===Uo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const o=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===o);if(c)return c;{const d=new _w(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:o,payload:c,ref:d}=n,f=()=>{this.encode(n,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${i} ${o} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(gI,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},V2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:d,ref:f}=i,h=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${o} ${c} ${h}`.trim(),d),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(c,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oo.open||this.conn.readyState===Oo.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Y1.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const o=n.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${n}${o}${c}`}_workerObjectUrl(n){let i;if(n)i=n;else{const o=new Blob([BI],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:vI};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Y1.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(i)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Rw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},V2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,o,c,d,f,h,p,m,v,w,y,x;switch(this.transport=(i=n==null?void 0:n.transport)!==null&&i!==void 0?i:null,this.timeout=(o=n==null?void 0:n.timeout)!==null&&o!==void 0?o:Xp,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:V2.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n==null?void 0:n.heartbeatCallback)!==null&&h!==void 0?h:zh,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:pb,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n==null?void 0:n.reconnectAfterMs)!==null&&m!==void 0?m:g=>CI[g-1]||II,this.vsn){case Dw:this.encode=(v=n==null?void 0:n.encode)!==null&&v!==void 0?v:(g,A)=>A(JSON.stringify(g)),this.decode=(w=n==null?void 0:n.decode)!==null&&w!==void 0?w:(g,A)=>A(JSON.parse(g));break;case xI:this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}};const RI=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:NI,get REALTIME_LISTEN_TYPES(){return Hl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return r3},get REALTIME_PRESENCE_LISTEN_EVENTS(){return t3},get REALTIME_SUBSCRIBE_STATES(){return fi},RealtimeChannel:_w,RealtimeClient:DI,RealtimePresence:Fw,WebSocketFactory:Bw},Symbol.toStringTag,{value:"Module"})),Ow=hc(RI);class a2 extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function us(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Uw extends a2{constructor(n,i,o){super(n),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vd extends a2{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const Dm=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),TI=()=>Response,a3=a=>{if(Array.isArray(a))return a.map(i=>a3(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,o])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=a3(o)}),n},MI=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},FI=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),Lh=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},_I=(a,n,i)=>Ot(void 0,void 0,void 0,function*(){const o=yield TI();a instanceof o&&!(i!=null&&i.noResolveJson)?a.json().then(c=>{const d=a.status||500,f=(c==null?void 0:c.statusCode)||d+"";n(new Uw(Lh(c),d,f))}).catch(c=>{n(new Vd(Lh(c),c))}):n(new Vd(Lh(a),a))}),PI=(a,n,i,o)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!o?c:(MI(o)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(o)):c.body=o,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),i))};function s2(a,n,i,o,c,d){return Ot(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,PI(n,o,c,d)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>_I(p,h,o))})})}function G0(a,n,i,o){return Ot(this,void 0,void 0,function*(){return s2(a,"GET",n,i,o)})}function q1(a,n,i,o,c){return Ot(this,void 0,void 0,function*(){return s2(a,"POST",n,o,c,i)})}function s3(a,n,i,o,c){return Ot(this,void 0,void 0,function*(){return s2(a,"PUT",n,o,c,i)})}function OI(a,n,i,o){return Ot(this,void 0,void 0,function*(){return s2(a,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Rm(a,n,i,o,c){return Ot(this,void 0,void 0,function*(){return s2(a,"DELETE",n,o,c,i)})}class UI{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return Ot(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}}var zw;class zI{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[zw]="BlobDownloadBuilder",this.promise=null}asStream(){return new UI(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ot(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}}zw=Symbol.toStringTag;const LI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QI{constructor(n,i={},o,c){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=o,this.fetch=Dm(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,o,c){return Ot(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},vb),c);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(p))):(d=o,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),c!=null&&c.headers&&(h=Object.assign(Object.assign({},h),c.headers));const m=this._removeEmptyFolders(i),v=this._getFinalPath(m),w=yield(n=="PUT"?s3:q1)(this.fetch,`${this.url}/object/${v}`,d,Object.assign({headers:h},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(us(d))return{data:null,error:d};throw d}})}upload(n,i,o){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,o)})}uploadToSignedUrl(n,i,o,c){return Ot(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",i);try{let p;const m=Object.assign({upsert:vb.upsert},c),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield s3(this.fetch,h.toString(),p,{headers:v});return{data:{path:d,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(us(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,i){return Ot(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const c=Object.assign({},this.headers);i!=null&&i.upsert&&(c["x-upsert"]="true");const d=yield q1(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),f=new URL(this.url+d.url),h=f.searchParams.get("token");if(!h)throw new a2("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:h},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(us(o))return{data:null,error:o};throw o}})}update(n,i,o){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,o)})}move(n,i,o){return Ot(this,void 0,void 0,function*(){try{return{data:yield q1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}copy(n,i,o){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield q1(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}createSignedUrl(n,i,o){return Ot(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),d=yield q1(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}createSignedUrls(n,i,o){return Ot(this,void 0,void 0,function*(){try{const c=yield q1(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}download(n,i){const c=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=d?`?${d}`:"",h=this._getFinalPath(n),p=()=>G0(this.fetch,`${this.url}/${c}/${h}${f}`,{headers:this.headers,noResolveJson:!0});return new zI(p,this.shouldThrowOnError)}info(n){return Ot(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const o=yield G0(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:a3(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(us(o))return{data:null,error:o};throw o}})}exists(n){return Ot(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield OI(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(us(o)&&o instanceof Vd){const c=o.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,i){const o=this._getFinalPath(n),c=[],d=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&c.push(d);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});p!==""&&c.push(p);let m=c.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${m}`)}}}remove(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}list(n,i,o){return Ot(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},LI),i),{prefix:n||""});return{data:yield q1(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}listV2(n,i){return Ot(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield q1(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(us(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Lw="2.86.2",Qw={"X-Client-Info":`storage-js/${Lw}`};class HI{constructor(n,i={},o,c){this.shouldThrowOnError=!1;const d=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qw),i),this.fetch=Dm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return Ot(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield G0(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}getBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield G0(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}createBucket(n){return Ot(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield q1(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}updateBucket(n,i){return Ot(this,void 0,void 0,function*(){try{return{data:yield s3(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(us(o))return{data:null,error:o};throw o}})}emptyBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield q1(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var Y0=class extends Error{constructor(a,n){var i;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((i=n.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $I(a,n,i){const o=new URL(n,a);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&o.searchParams.set(c,d);return o.toString()}async function qI(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function GI(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:c,body:d,headers:f}){const h=$I(a.baseUrl,o,c),p=await qI(a.auth),m=await n(h,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),y=w&&v?JSON.parse(v):v;if(!m.ok){const x=w?y:void 0,g=x==null?void 0:x.error;throw new Y0((g==null?void 0:g.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:x})}return{status:m.status,headers:m.headers,data:y}}}}function K2(a){return a.join("")}var YI=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:K2(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${K2(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${K2(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${K2(a.namespace)}`}),!0}catch(n){if(n instanceof Y0&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof Y0&&i.status===409)return;throw i}}};function xl(a){return a.join("")}var VI=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xl(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xl(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof Y0&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof Y0&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},KI=class{constructor(a){var o;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=GI({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(o=a.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new YI(this.client,n),this.tableOps=new VI(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class Hw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qw),i),this.fetch=Dm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield q1(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}listBuckets(n){return Ot(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&i.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&i.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&i.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&i.set("sortOrder",n.sortOrder),n!=null&&n.search&&i.set("search",n.search);const o=i.toString(),c=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield G0(this.fetch,c,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}from(n){if(!FI(n))throw new a2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new KI({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>Ot(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Tm={"X-Client-Info":`storage-js/${Lw}`,"Content-Type":"application/json"};class Mm extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function t1(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class hd extends Mm{constructor(n,i,o){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $w extends Mm{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var n3;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(n3||(n3={}));const Bu=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),WI=()=>Response,qw=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},JI=a=>Array.from(new Float32Array(a)),XI=(a,n)=>{if(n!==void 0&&a.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${a.float32.length}`)},xb=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),ZI=(a,n,i)=>Ot(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(i!=null&&i.noResolveJson)){const c=a.status||500,d=a;if(typeof d.json=="function")d.json().then(f=>{const h=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||c+"";n(new hd(xb(f),c,h))}).catch(()=>{const f=c+"",h=d.statusText||`HTTP ${c} error`;n(new hd(h,c,f))});else{const f=c+"",h=d.statusText||`HTTP ${c} error`;n(new hd(h,c,f))}}else n(new $w(xb(a),a))}),eB=(a,n,i,o)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return o?(qw(o)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(o)):c.body=o,Object.assign(Object.assign({},c),i)):c};function tB(a,n,i,o,c,d){return Ot(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,eB(n,o,c,d)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>ZI(p,h,o))})})}function b1(a,n,i,o,c){return Ot(this,void 0,void 0,function*(){return tB(a,"POST",n,o,c,i)})}class Gw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),i),this.fetch=Bu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return Ot(this,void 0,void 0,function*(){try{return{data:(yield b1(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}getIndex(n,i){return Ot(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(t1(o))return{data:null,error:o};throw o}})}listIndexes(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return Ot(this,void 0,void 0,function*(){try{return{data:(yield b1(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(t1(o))return{data:null,error:o};throw o}})}}class Yw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),i),this.fetch=Bu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return Ot(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield b1(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}getVectors(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}listVectors(n){return Ot(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield b1(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}queryVectors(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}deleteVectors(n){return Ot(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield b1(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}}class Vw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),i),this.fetch=Bu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:(yield b1(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}getBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}listBuckets(){return Ot(this,arguments,void 0,function*(n={}){try{return{data:yield b1(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:(yield b1(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(t1(i))return{data:null,error:i};throw i}})}}class Kw extends Vw{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new Ww(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ot(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ot(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ot(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ot(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class Ww extends Gw{constructor(n,i,o,c){super(n,i,c),this.vectorBucketName=o}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ot(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ot(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ot(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ot(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Jw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Jw extends Yw{constructor(n,i,o,c,d){super(n,i,d),this.vectorBucketName=o,this.indexName=c}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ot(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ot(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ot(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ot(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ot(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class rB extends HI{constructor(n,i={},o,c){super(n,i,o,c)}from(n){return new QI(this.url,this.headers,n,this.fetch)}get vectors(){return new Kw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hw(this.url+"/iceberg",this.headers,this.fetch)}}const aB=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Hw,StorageApiError:Uw,StorageClient:rB,StorageError:a2,StorageUnknownError:Vd,StorageVectorsApiError:hd,StorageVectorsClient:Kw,StorageVectorsError:Mm,get StorageVectorsErrorCode(){return n3},StorageVectorsUnknownError:$w,VectorBucketApi:Vw,VectorBucketScope:Ww,VectorDataApi:Yw,VectorIndexApi:Gw,VectorIndexScope:Jw,isPlainObject:qw,isStorageError:us,isStorageVectorsError:t1,normalizeToFloat32:JI,resolveFetch:Bu,resolveResponse:WI,validateVectorDimension:XI},Symbol.toStringTag,{value:"Module"})),sB=hc(aB);var Xw={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.version=void 0;Du.version="2.86.2";(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const n=Du;let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${n.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})(Xw);var Zw={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const n=c=>c?(...d)=>c(...d):(...d)=>fetch(...d);a.resolveFetch=n;const i=()=>Headers;a.resolveHeadersConstructor=i;const o=(c,d,f)=>{const h=(0,a.resolveFetch)(f),p=(0,a.resolveHeadersConstructor)();return async(m,v)=>{var w;const y=(w=await d())!==null&&w!==void 0?w:c;let x=new p(v==null?void 0:v.headers);return x.has("apikey")||x.set("apikey",c),x.has("Authorization")||x.set("Authorization",`Bearer ${y}`),h(m,Object.assign(Object.assign({},v),{headers:x}))}};a.fetchWithAuth=o})(Zw);var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.isBrowser=void 0;yo.uuid=nB;yo.ensureTrailingSlash=ey;yo.applySettingDefaults=oB;yo.validateSupabaseUrl=lB;function nB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var n=Math.random()*16|0,i=a=="x"?n:n&3|8;return i.toString(16)})}function ey(a){return a.endsWith("/")?a:a+"/"}const iB=()=>typeof window<"u";yo.isBrowser=iB;function oB(a,n){var i,o;const{db:c,auth:d,realtime:f,global:h}=a,{db:p,auth:m,realtime:v,global:w}=n,y={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),h),{headers:Object.assign(Object.assign({},(i=w==null?void 0:w.headers)!==null&&i!==void 0?i:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return a.accessToken?y.accessToken=a.accessToken:delete y.accessToken,y}function lB(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ey(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ru={};const ty="2.86.2",yl=30*1e3,i3=3,Qh=i3*yl,cB="http://localhost:9999",dB="supabase.auth.token",uB={"X-Client-Info":`gotrue-js/${ty}`},o3="X-Supabase-Api-Version",ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hB=10*60*1e3;let ic=class extends Error{constructor(n,i,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}};function Qt(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let ay=class extends ic{constructor(n,i,o){super(n,i,o),this.name="AuthApiError",this.status=i,this.code=o}};function sy(a){return Qt(a)&&a.name==="AuthApiError"}let Ki=class extends ic{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}},Ui=class extends ic{constructor(n,i,o,c){super(n,o,c),this.name=i,this.status=o}},Xn=class extends Ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ny(a){return Qt(a)&&a.name==="AuthSessionMissingError"}let Fo=class extends Ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},p0=class extends Ui{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},m0=class extends Ui{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function iy(a){return Qt(a)&&a.name==="AuthImplicitGrantRedirectError"}let l3=class extends Ui{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Kd=class extends Ui{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}};function pd(a){return Qt(a)&&a.name==="AuthRetryableFetchError"}let c3=class extends Ui{constructor(n,i,o){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}};function pB(a){return Qt(a)&&a.name==="AuthWeakPasswordError"}let Wd=class extends Ui{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gb=` 	
\r=`.split(""),mB=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<gb.length;n+=1)a[gb[n].charCodeAt(0)]=-2;for(let n=0;n<Jd.length;n+=1)a[Jd[n].charCodeAt(0)]=n;return a})();function bb(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Jd[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Jd[o]),n.queuedBits-=6}}function oy(a,n,i){const o=mB[a];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function wb(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{gB(f,o,i)};for(let f=0;f<a.length;f+=1)oy(a.charCodeAt(f),c,d);return n.join("")}function vB(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function xB(a,n){for(let i=0;i<a.length;i+=1){let o=a.charCodeAt(i);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(a.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}vB(o,n)}}function gB(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let o=1;o<6;o+=1)if(!(a>>7-o&1)){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function $l(a){const n=[],i={queue:0,queuedBits:0},o=c=>{n.push(c)};for(let c=0;c<a.length;c+=1)oy(a.charCodeAt(c),i,o);return new Uint8Array(n)}function bB(a){const n=[];return xB(a,i=>n.push(i)),new Uint8Array(n)}function Ho(a){const n=[],i={queue:0,queuedBits:0},o=c=>{n.push(c)};return a.forEach(c=>bb(c,i,o)),bb(null,i,o),n.join("")}function wB(a){return Math.round(Date.now()/1e3)+a}function yB(){return Symbol("auth-callback")}const yn=()=>typeof window<"u"&&typeof document<"u",Bo={tested:!1,writable:!1},ly=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bo.tested)return Bo.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Bo.tested=!0,Bo.writable=!0}catch{Bo.tested=!0,Bo.writable=!1}return Bo.writable};function AB(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return i.searchParams.forEach((o,c)=>{n[c]=o}),n}const cy=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),kB=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Al=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},Do=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},wn=async(a,n)=>{await a.removeItem(n)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Tu.promiseConstructor=Promise;function Hh(a){const n=a.split(".");if(n.length!==3)throw new Wd("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!fB.test(n[o]))throw new Wd("JWT not in base64url format");return{header:JSON.parse(wb(n[0])),payload:JSON.parse(wb(n[1])),signature:$l(n[2]),raw:{header:n[0],payload:n[1]}}}async function jB(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function SB(a,n){return new Promise((o,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await a(d);if(!n(d,null,f)){o(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function EB(a){return("0"+a.toString(16)).substr(-2)}function NB(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(n),Array.from(n,EB).join("")}async function CB(a){const i=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(o);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function IB(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await CB(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gl(a,n,i=!1){const o=NB();let c=o;i&&(c+="/PASSWORD_RECOVERY"),await Al(a,`${n}-code-verifier`,c);const d=await IB(o);return[d,o===d?"plain":"s256"]}const BB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DB(a){const n=a.headers.get(o3);if(!n||!n.match(BB))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function RB(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function TB(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bl(a){if(!MB.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $h(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FB(a,n){return new Proxy(a,{get:(i,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,c)}return!n.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,o,c)}})}function yb(a){return JSON.parse(JSON.stringify(a))}const _o=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),_B=[502,503,504];async function Ab(a){var n;if(!kB(a))throw new Kd(_o(a),0);if(_B.includes(a.status))throw new Kd(_o(a),a.status);let i;try{i=await a.json()}catch(d){throw new Ki(_o(d),d)}let o;const c=DB(a);if(c&&c.getTime()>=ry["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new c3(_o(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new Xn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new c3(_o(i),a.status,i.weak_password.reasons);throw new ay(_o(i),a.status||500,o)}const PB=(a,n,i,o)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),i))};async function tr(a,n,i,o){var c;const d=Object.assign({},o==null?void 0:o.headers);d[o3]||(d[o3]=ry["2024-01-01"].name),o!=null&&o.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(c=o==null?void 0:o.query)!==null&&c!==void 0?c:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await OB(a,n,i+h,{headers:d,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function OB(a,n,i,o,c,d){const f=PB(n,o,c,d);let h;try{h=await a(i,Object.assign({},f))}catch(p){throw console.error(p),new Kd(_o(p),0)}if(h.ok||await Ab(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(p){await Ab(p)}}function H1(a){var n;let i=null;LB(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=wB(a.expires_in)));const o=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:o},error:null}}function kb(a){const n=H1(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Wi(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function UB(a){return{data:a,error:null}}function zB(a){const{action_link:n,email_otp:i,hashed_token:o,redirect_to:c,verification_type:d}=a,f=wc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:o,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:h,user:p},error:null}}function jb(a){return a}function LB(a){return a.access_token&&a.refresh_token&&a.expires_in}const md=["global","local","others"];let Fm=class{constructor({url:n="",headers:i={},fetch:o}){this.url=n,this.headers=i,this.fetch=cy(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=md[0]){if(md.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await tr(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Qt(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,i={}){try{return await tr(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Wi})}catch(o){if(Qt(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:i}=n,o=wc(n,["options"]),c=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(c.new_email=o==null?void 0:o.newEmail,delete c.newEmail),await tr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:zB,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Qt(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await tr(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Wi})}catch(i){if(Qt(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,o,c,d,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await tr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:jb});if(v.error)throw v.error;const w=await v.json(),y=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(g=>{const A=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(g.split(";")[1].split("=")[1]);m[`${j}Page`]=A}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Qt(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){bl(n);try{return await tr(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Wi})}catch(i){if(Qt(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){bl(n);try{return await tr(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Wi})}catch(o){if(Qt(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,i=!1){bl(n);try{return await tr(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Wi})}catch(o){if(Qt(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){bl(n.userId);try{const{data:i,error:o}=await tr(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:o}}catch(i){if(Qt(i))return{data:null,error:i};throw i}}async _deleteFactor(n){bl(n.userId),bl(n.id);try{return{data:await tr(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,o,c,d,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await tr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:jb});if(v.error)throw v.error;const w=await v.json(),y=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(g=>{const A=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(g.split(";")[1].split("=")[1]);m[`${j}Page`]=A}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Qt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await tr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Qt(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await tr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Qt(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await tr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Qt(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(n){try{return await tr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await tr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Qt(i))return{data:null,error:i};throw i}}};function Sb(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Po={debug:!!(globalThis&&ly()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _m extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let dy=class extends _m{};class QB extends _m{}async function uy(a,n,i){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await i()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(n===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new dy(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Po.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const Eb={};async function HB(a,n,i){var o;const c=(o=Eb[a])!==null&&o!==void 0?o:Promise.resolve(),d=Promise.race([c.catch(()=>null),n>=0?new Promise((f,h)=>{setTimeout(()=>{h(new QB(`Acquring process lock with name "${a}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await i());return Eb[a]=d.catch(async f=>{if(f&&f.isAcquireTimeout)return await c,null;throw f}),await d}function $B(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function qB(a){return parseInt(a,16)}function GB(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function YB(a){var n;const{chainId:i,domain:o,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:h,requestId:p,resources:m,scheme:v,uri:w,version:y}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const x=fy(a.address),g=v?`${v}://${o}`:o,A=a.statement?`${a.statement}
`:"",j=`${g} wants you to sign in with your Ethereum account:
${x}

${A}`;let C=`URI: ${w}
Version: ${y}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(C+=`
Expiration Time: ${c.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),p&&(C+=`
Request ID: ${p}`),m){let k=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);k+=`
- ${E}`}C+=k}return`${j}
${C}`}class Ks extends Error{constructor({message:n,code:i,cause:o,name:c}){var d;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(d=c??(o instanceof Error?o.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Xd extends Ks{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function VB({error:a,options:n}){var i,o,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ks({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ks({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ks({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ks({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Ks({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Ks({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return d.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ks({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Ks({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(hy(f)){if(d.rp.id!==f)return new Ks({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ks({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ks({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Ks({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ks({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function KB({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ks({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Ks({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const o=window.location.hostname;if(hy(o)){if(i.rpId!==o)return new Ks({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ks({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Ks({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ks({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class WB{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const JB=new WB;function XB(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:o}=a,c=wc(a,["challenge","user","excludeCredentials"]),d=$l(n).buffer,f=Object.assign(Object.assign({},i),{id:$l(i.id).buffer}),h=Object.assign(Object.assign({},c),{challenge:d,user:f});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:$l(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function ZB(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,o=wc(a,["challenge","allowCredentials"]),c=$l(n).buffer,d=Object.assign(Object.assign({},o),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},h),{id:$l(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function eD(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Ho(new Uint8Array(a.response.attestationObject)),clientDataJSON:Ho(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function tD(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,o=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Ho(new Uint8Array(c.authenticatorData)),clientDataJSON:Ho(new Uint8Array(c.clientDataJSON)),signature:Ho(new Uint8Array(c.signature)),userHandle:c.userHandle?Ho(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function hy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Nb(){var a,n;return!!(yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function rD(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xd("Browser returned unexpected credential type",n)}:{data:null,error:new Xd("Empty credential response",n)}}catch(n){return{data:null,error:VB({error:n,options:a})}}}async function aD(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xd("Browser returned unexpected credential type",n)}:{data:null,error:new Xd("Empty credential response",n)}}catch(n){return{data:null,error:KB({error:n,options:a})}}}const sD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zd(...a){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of a)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))o[d]=f;else if(i(f))o[d]=f;else if(n(f)){const h=o[d];n(h)?o[d]=Zd(h,f):o[d]=Zd(f)}else o[d]=f}return o}function iD(a,n){return Zd(sD,a,n||{})}function oD(a,n){return Zd(nD,a,n||{})}class lD{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:o,signal:c},d){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:h};const p=c??JB.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=iD(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:v,error:w}=await rD({publicKey:m,signal:p});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=oD(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:v,error:w}=await aD(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(f){return Qt(f)?{data:null,error:f}:{data:null,error:new Ki("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new ic("rpId is required for WebAuthn authentication")};try{if(!Nb())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:o},signal:c},{request:d});if(!f)return{data:null,error:h};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:o,credential_response:p.credential_response}})}catch(f){return Qt(f)?{data:null,error:f}:{data:null,error:new Ki("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new ic("rpId is required for WebAuthn registration")};try{if(!Nb())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===n&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(f){return Qt(f)?{data:null,error:f}:{data:null,error:new Ki("Unexpected error in register",f)}}}}$B();const cD={url:cB,storageKey:dB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Cb(a,n,i){return await i()}const wl={};let Pm=class d3{get jwks(){var n,i;return(i=(n=wl[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){wl[this.storageKey]=Object.assign(Object.assign({},wl[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=wl[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){wl[this.storageKey]=Object.assign(Object.assign({},wl[this.storageKey]),{cachedAt:n})}constructor(n){var i,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},cD),n);if(this.storageKey=d.storageKey,this.instanceID=(i=d3.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,d3.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&yn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Fm({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=cy(d.fetch),this.lock=d.lock||Cb,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:yn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=uy:this.lock=Cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:ly()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sb(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Sb(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ty}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},o="none";if(yn()&&(i=AB(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),yn()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),iy(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:h}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Qt(i)?this._returnResult({error:i}):this._returnResult({error:new Ki("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,o,c;try{const d=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:H1}),{data:f,error:h}=d;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(d){if(Qt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,o,c;try{let d;if("email"in n){const{email:v,password:w,options:y}=n;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await gl(this.storage,this.storageKey)),d=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:v,password:w,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:g},xform:H1})}else if("phone"in n){const{phone:v,password:w,options:y}=n;d=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},channel:(c=y==null?void 0:y.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:H1})}else throw new p0("You must provide either an email or phone number and a password");const{data:f,error:h}=d;if(h||!f)return await wn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(d){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:f,options:h}=n;i=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kb})}else if("phone"in n){const{phone:d,password:f,options:h}=n;i=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kb})}else throw new p0("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const d=new Fo;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(i){if(Qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,o,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,o,c,d,f,h,p,m,v,w,y;let x,g;if("message"in n)x=n.message,g=n.signature;else{const{chain:A,wallet:j,statement:C,options:k}=n;let E;if(yn())if(typeof j=="object")E=j;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")E=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=j}const B=new URL((i=k==null?void 0:k.url)!==null&&i!==void 0?i:window.location.href),I=await E.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=fy(I[0]);let M=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!M){const H=await E.request({method:"eth_chainId"});M=qB(H)}const T={domain:B.host,address:D,statement:C,uri:B.href,version:"1",chainId:M,nonce:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=k==null?void 0:k.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=k==null?void 0:k.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=YB(T),g=await E.request({method:"personal_sign",params:[GB(x),D]})}try{const{data:A,error:j}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:g},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:H1});if(j)throw j;if(!A||!A.session||!A.user){const C=new Fo;return this._returnResult({data:{user:null,session:null},error:C})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:j})}catch(A){if(Qt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var i,o,c,d,f,h,p,m,v,w,y,x;let g,A;if("message"in n)g=n.message,A=n.signature;else{const{chain:j,wallet:C,statement:k,options:E}=n;let B;if(yn())if(typeof C=="object")B=C;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))B=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}const I=new URL((i=E==null?void 0:E.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const D=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),k?{statement:k}:null));let M;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")M=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)M=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)g=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),A=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${I.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(c=(o=E==null?void 0:E.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((w=(v=E==null?void 0:E.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...E.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const D=await B.signMessage(new TextEncoder().encode(g),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=D}}try{const{data:j,error:C}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ho(A)},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:H1});if(C)throw C;if(!j||!j.session||!j.user){const k=new Fo;return this._returnResult({data:{user:null,session:null},error:k})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(Qt(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const i=await Do(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(i??"").split("/");try{const{data:d,error:f}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:H1});if(await wn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const h=new Fo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:o,token:c,access_token:d,nonce:f}=n,h=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:H1}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const v=new Fo;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(i){if(Qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,o,c,d,f;try{if("email"in n){const{email:h,options:p}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await gl(this.storage,this.storageKey));const{error:w}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in n){const{phone:h,options:p}=n,{data:m,error:v}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(d=p==null?void 0:p.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:v})}throw new p0("You must provide either an email or phone number.")}catch(h){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,o;try{let c,d;"options"in n&&(c=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:h}=await tr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:H1});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(c){if(Qt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var i,o,c,d,f;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await gl(this.storage,this.storageKey));const m=await tr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:UB});return!((d=m.data)===null||d===void 0)&&d.url&&yn()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)throw o;if(!i)throw new Xn;const{error:c}=await tr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(Qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:o,type:c,options:d}=n,{error:f}=await tr(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:o,type:c,options:d}=n,{data:f,error:h}=await tr(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new p0("You must provide either an email or phone number and a type")}catch(i){if(Qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Do(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Qh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Do(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=$h()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=FB(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Wi}):await this._useSession(async i=>{var o,c,d;const{data:f,error:h}=i;if(h)throw h;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Wi})})}catch(i){if(Qt(i))return ny(i)&&(await this._removeSession(),await wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async o=>{const{data:c,error:d}=o;if(d)throw d;if(!c.session)throw new Xn;const f=c.session;let h=null,p=null;this.flowType==="pkce"&&n.email!=null&&([h,p]=await gl(this.storage,this.storageKey));const{data:m,error:v}=await tr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:p}),jwt:f.access_token,xform:Wi});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Xn;const i=Date.now()/1e3;let o=i,c=!0,d=null;const{payload:f}=Hh(n.access_token);if(f.exp&&(o=f.exp,c=o<=i),c){const{data:h,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};d=h}else{const{data:h,error:p}=await this._getUser(n.access_token);if(p)throw p;d={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(Qt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var o;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new Xn;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!yn())throw new m0("No browser detected.");if(n.error||n.error_description||n.error_code)throw new m0(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new l3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new m0("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new l3("No code detected.");const{data:k,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:h,expires_at:p,token_type:m}=n;if(!d||!h||!f||!m)throw new m0("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(h);let y=v+w;p&&(y=parseInt(p));const x=y-v;x*1e3<=yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${w}s`);const g=y-w;v-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,y,v):v-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,y,v);const{data:A,error:j}=await this._getUser(d);if(j)throw j;const C={provider_token:o,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:y,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:n.type},error:null})}catch(o){if(Qt(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Do(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const f=(o=c.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(sy(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=yB(),o={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async i=>{var o,c;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await gl(this.storage,this.storageKey,!0));try{return await tr(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:o,error:c}=await this._useSession(async d=>{var f,h,p,m,v;const{data:w,error:y}=d;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await tr(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return yn()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:n.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Qt(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var o;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:f,provider:h,token:p,access_token:m,nonce:v}=n,w=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=d==null?void 0:d.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:H1}),{data:y,error:x}=w;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Fo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(c){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Qt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var o,c;const{data:d,error:f}=i;if(f)throw f;return await tr(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await SB(async c=>(c>0&&await jB(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await tr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:H1})),(c,d)=>{const f=200*Math.pow(2,c);return d&&pd(d)&&Date.now()+f-o<yl})}catch(o){if(this._debug(i,"error",o),Qt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",o),yn()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Do(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Do(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Al(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:$h()}else if(c&&!c.user&&!c.user){const f=await Do(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await wn(this.storage,this.storageKey+"-user"),await Al(this.storage,this.storageKey,c)):c.user=$h()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Qh;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Qh}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),pd(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(c.access_token);!h&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var i,o;if(!n)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Tu;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Xn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const h={data:d.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(d){if(this._debug(c,"error",d),Qt(d)){const f={data:null,error:d};return pd(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,i,o=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let h=0;h<d.length;h+=1)console.error(d[h]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await wn(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Al(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=yb(c);await Al(this.storage,this.storageKey,d)}else{const c=yb(i);await Al(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wn(this.storage,this.storageKey),await wn(this.storage,this.storageKey+"-code-verifier"),await wn(this.storage,this.storageKey+"-user"),this.userStorage&&await wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),yl);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-n)/yl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${yl}ms, refresh threshold is ${i3} ticks`),c<=i3&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof _m)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,o){const c=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await gl(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(h.toString())}if(o!=null&&o.queryParams){const d=new URLSearchParams(o.queryParams);c.push(d.toString())}return o!=null&&o.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var o;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await tr(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var o,c;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:m}=await tr(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?eD(n.webauthn.credential_response):tD(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:p}=await tr(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await tr(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:XB(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ZB(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i==null?void 0:i.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Hh(o.access_token);let f=null;d.aal&&(f=d.aal);let h=f;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=d.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;return c?this._returnResult({data:null,error:c}):o?await tr(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:c},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Xn});const f=await tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&yn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(Qt(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:c},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Xn});const f=await tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&yn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(Qt(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await tr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;return c?this._returnResult({data:null,error:c}):o?(await tr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xn})})}catch(i){if(Qt(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let o=i.keys.find(h=>h.kid===n);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(h=>h.kid===n),o&&this.jwks_cached_at+hB>c)return o;const{data:d,error:f}=await tr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,o=d.keys.find(h=>h.kid===n),!o)?null:o}async getClaims(n,i={}){try{let o=n;if(!o){const{data:x,error:g}=await this.getSession();if(g||!x.session)return this._returnResult({data:null,error:g});o=x.session.access_token}const{header:c,payload:d,signature:f,raw:{header:h,payload:p}}=Hh(o);i!=null&&i.allowExpired||RB(d.exp);const m=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:x}=await this.getUser(o);if(x)throw x;return{data:{claims:d,header:c,signature:f},error:null}}const v=TB(c.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,f,bB(`${h}.${p}`)))throw new Wd("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(o){if(Qt(o))return this._returnResult({data:null,error:o});throw o}}};Pm.nextInstanceID={};const dD=Fm,uD=Pm,fD=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:dD,AuthApiError:ay,AuthClient:uD,AuthError:ic,AuthImplicitGrantRedirectError:m0,AuthInvalidCredentialsError:p0,AuthInvalidJwtError:Wd,AuthInvalidTokenResponseError:Fo,AuthPKCEGrantCodeExchangeError:l3,AuthRetryableFetchError:Kd,AuthSessionMissingError:Xn,AuthUnknownError:Ki,AuthWeakPasswordError:c3,CustomAuthError:Ui,GoTrueAdminApi:Fm,GoTrueClient:Pm,NavigatorLockAcquireTimeoutError:dy,SIGN_OUT_SCOPES:md,isAuthApiError:sy,isAuthError:Qt,isAuthImplicitGrantRedirectError:iy,isAuthRetryableFetchError:pd,isAuthSessionMissingError:ny,isAuthWeakPasswordError:pB,lockInternals:Po,navigatorLock:uy,processLock:HB},Symbol.toStringTag,{value:"Module"})),py=hc(fD);Object.defineProperty(Ru,"__esModule",{value:!0});Ru.SupabaseAuthClient=void 0;const hD=py;class pD extends hD.AuthClient{constructor(n){super(n)}}Ru.SupabaseAuthClient=pD;Object.defineProperty($d,"__esModule",{value:!0});const mD=gw,vD=_n,xD=Ow,gD=sB,W2=Xw,bD=Zw,Ib=yo,wD=Ru;let yD=class{constructor(n,i,o){var c,d,f;this.supabaseUrl=n,this.supabaseKey=i;const h=(0,Ib.validateSupabaseUrl)(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:W2.DEFAULT_DB_OPTIONS,realtime:W2.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},W2.DEFAULT_AUTH_OPTIONS),{storageKey:p}),global:W2.DEFAULT_GLOBAL_OPTIONS},v=(0,Ib.applySettingDefaults)(o??{},m);this.storageKey=(c=v.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=v.global.headers)!==null&&d!==void 0?d:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=(0,bD.fetchWithAuth)(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new vD.PostgrestClient(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new gD.StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new mD.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,o)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:c,userStorage:d,storageKey:f,flowType:h,lock:p,debug:m,throwOnError:v},w,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wD.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),w),storageKey:f,autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:c,userStorage:d,flowType:h,lock:p,debug:m,throwOnError:v,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new xD.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,i,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};$d.default=yD;(function(a){var n=gr&&gr.__createBinding||(Object.create?function(v,w,y,x){x===void 0&&(x=y);var g=Object.getOwnPropertyDescriptor(w,y);(!g||("get"in g?!w.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return w[y]}}),Object.defineProperty(v,x,g)}:function(v,w,y,x){x===void 0&&(x=y),v[x]=w[y]}),i=gr&&gr.__exportStar||function(v,w){for(var y in v)y!=="default"&&!Object.prototype.hasOwnProperty.call(w,y)&&n(w,v,y)},o=gr&&gr.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const c=o($d);i(py,a);var d=_n;Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return d.PostgrestError}});var f=gw;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),i(Ow,a);var h=$d;Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return o(h).default}});const p=(v,w,y)=>new c.default(v,w,y);a.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const w=v.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Cm);const my=lu(Cm),AD=p6({__proto__:null,default:my},[Cm]),{PostgrestError:kD,FunctionsHttpError:jD,FunctionsFetchError:SD,FunctionsRelayError:ED,FunctionsError:ND,FunctionRegion:CD,SupabaseClient:ID,createClient:vy,GoTrueAdminApi:BD,GoTrueClient:DD,AuthAdminApi:RD,AuthClient:TD,navigatorLock:MD,NavigatorLockAcquireTimeoutError:FD,lockInternals:_D,processLock:PD,SIGN_OUT_SCOPES:OD,AuthError:UD,AuthApiError:zD,AuthUnknownError:LD,CustomAuthError:QD,AuthSessionMissingError:HD,AuthInvalidTokenResponseError:$D,AuthInvalidCredentialsError:qD,AuthImplicitGrantRedirectError:GD,AuthPKCEGrantCodeExchangeError:YD,AuthRetryableFetchError:VD,AuthWeakPasswordError:KD,AuthInvalidJwtError:WD,isAuthError:JD,isAuthApiError:XD,isAuthSessionMissingError:ZD,isAuthImplicitGrantRedirectError:eR,isAuthRetryableFetchError:tR,isAuthWeakPasswordError:rR,RealtimePresence:aR,RealtimeChannel:sR,RealtimeClient:nR,REALTIME_LISTEN_TYPES:iR,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:oR,REALTIME_PRESENCE_LISTEN_EVENTS:lR,REALTIME_SUBSCRIBE_STATES:cR,REALTIME_CHANNEL_STATES:dR}=my||AD,uR=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:RD,AuthApiError:zD,AuthClient:TD,AuthError:UD,AuthImplicitGrantRedirectError:GD,AuthInvalidCredentialsError:qD,AuthInvalidJwtError:WD,AuthInvalidTokenResponseError:$D,AuthPKCEGrantCodeExchangeError:YD,AuthRetryableFetchError:VD,AuthSessionMissingError:HD,AuthUnknownError:LD,AuthWeakPasswordError:KD,CustomAuthError:QD,FunctionRegion:CD,FunctionsError:ND,FunctionsFetchError:SD,FunctionsHttpError:jD,FunctionsRelayError:ED,GoTrueAdminApi:BD,GoTrueClient:DD,NavigatorLockAcquireTimeoutError:FD,PostgrestError:kD,REALTIME_CHANNEL_STATES:dR,REALTIME_LISTEN_TYPES:iR,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:oR,REALTIME_PRESENCE_LISTEN_EVENTS:lR,REALTIME_SUBSCRIBE_STATES:cR,RealtimeChannel:sR,RealtimeClient:nR,RealtimePresence:aR,SIGN_OUT_SCOPES:OD,SupabaseClient:ID,createClient:vy,isAuthApiError:XD,isAuthError:JD,isAuthImplicitGrantRedirectError:eR,isAuthRetryableFetchError:tR,isAuthSessionMissingError:ZD,isAuthWeakPasswordError:rR,lockInternals:_D,navigatorLock:MD,processLock:PD},Symbol.toStringTag,{value:"Module"})),kl="https://naydyhkqodppdhzwkctr.supabase.co".trim(),u3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c".trim(),Vr=()=>kl!=="YOUR_SUPABASE_URL"&&u3!=="YOUR_SUPABASE_ANON_KEY"&&kl!=="your-supabase-url"&&u3!=="your-supabase-anon-key"&&(kl==null?void 0:kl.startsWith("http"));let f3=null;Vr()?(f3=vy(kl,u3,{realtime:{params:{eventsPerSecond:10}}}),console.log(" Supabase client initialized")):(console.log(" Supabase not configured - running in local-only mode"),f3={from:()=>({select:()=>Promise.resolve({data:null,error:null}),insert:()=>Promise.resolve({data:null,error:null}),update:()=>Promise.resolve({data:null,error:null}),upsert:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({data:null,error:null})}),channel:()=>({on:()=>({subscribe:()=>{}}),subscribe:()=>{}})});const Sr=f3,fR=[],zs=Pi(Oi((a,n)=>({products:fR,categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling"],units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!1,isSyncing:!1,setProducts:i=>a({products:i}),setCategories:i=>a({categories:i}),setUnits:i=>a({units:i}),setStockHistory:i=>a({stockHistory:i}),initRealtime:async()=>{if(!Vr()){console.log("Supabase not configured, using local storage only");return}if(localStorage.getItem("just-restored")==="true"){console.log(" Data just restored from backup - skipping Supabase fetch to preserve local data"),localStorage.removeItem("just-restored"),a({isOnline:!0});return}try{await n().fetchProducts(),await n().fetchCategories(),await n().fetchUnits(),a({isOnline:!0}),Sr.channel("products-channel").on("postgres_changes",{event:"*",schema:"public",table:"products"},o=>{console.log("Product change:",o),o.eventType==="INSERT"?a(c=>({products:[...c.products.filter(d=>d.id!==o.new.id),qh(o.new)]})):o.eventType==="UPDATE"?a(c=>({products:c.products.map(d=>d.id===o.new.id?qh(o.new):d)})):o.eventType==="DELETE"&&a(c=>({products:c.products.filter(d=>d.id!==o.old.id)}))}).on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>{n().fetchCategories()}).on("postgres_changes",{event:"*",schema:"public",table:"units"},()=>{n().fetchUnits()}).subscribe()}catch(o){console.error("Realtime init error:",o),a({isOnline:!1})}},fetchProducts:async()=>{if(!Vr())return;a({isSyncing:!0});const{data:i,error:o}=await Sr.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});a(!o&&i?{products:i.map(qh),isSyncing:!1}:{isSyncing:!1})},fetchCategories:async()=>{if(!Vr())return;const{data:i,error:o}=await Sr.from("categories").select("name").order("name");!o&&i&&a({categories:i.map(c=>c.name)})},fetchUnits:async()=>{if(!Vr())return;const{data:i,error:o}=await Sr.from("units").select("name").order("name");!o&&i&&a({units:i.map(c=>c.name)})},syncLocalToCloud:async()=>{if(!Vr())return console.error("Supabase not configured"),{success:!1,error:"Supabase belum dikonfigurasi"};const i=n().products;if(i.length===0)return{success:!0,count:0,message:"Tidak ada produk lokal"};a({isSyncing:!0});let o=0,c=0,d=null;try{for(let p=0;p<i.length;p+=50){const m=i.slice(p,p+50).map(w=>{const y=g=>{if(g==null||g==="")return 0;const A=Number(g);return isNaN(A)?0:A},x=g=>g==null?"":String(g).trim();return{id:String(w.id),code:x(w.code),sku:x(w.sku),barcode:x(w.barcode),name:x(w.name)||"Unnamed Product",description:x(w.description),category:x(w.category),unit:x(w.unit)||"pcs",price:y(w.price),cost:y(w.cost),stock:y(w.stock),min_stock:y(w.minStock),max_stock:y(w.maxStock),image_url:x(w.image),parent_id:w.parentId?String(w.parentId):null,variant_name:x(w.variantName),variants:w.variants||[],source:x(w.source)||"manual",is_active:!0,updated_at:new Date().toISOString()}}),{error:v}=await Sr.from("products").upsert(m,{onConflict:"id"});v?(console.error("Error syncing batch:",v),d=v.message||JSON.stringify(v),c+=m.length):o+=m.length}a({isSyncing:!1});let h=`Sync Selesai. Berhasil: ${o}, Gagal: ${c} produk`;return c>0&&d&&(h+=`
Error Terakhir: ${d}`),{success:!0,count:o,failed:c,message:h}}catch(f){return a({isSyncing:!1}),console.error("Sync error:",f),{success:!1,error:f.message}}},addProduct:async(i,o=null,c=null)=>{const d={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),code:i.code||`PRD${String(n().products.length+1).padStart(3,"0")}`};if(Vr()){const{error:f}=await Sr.from("products").insert({id:d.id,code:d.code,sku:d.sku,barcode:d.barcode,name:d.name,description:d.description,category:d.category,unit:d.unit,price:d.price||0,cost:d.cost||0,stock:d.stock||0,min_stock:d.minStock||0,max_stock:d.maxStock||0,image_url:d.image,parent_id:d.parentId,variant_name:d.variantName,source:d.source||"manual",is_active:!0});if(f)return console.error(" Error adding product to Supabase:",f),{success:!1,error:f.message};console.log(" Product added to Supabase (central hub)")}return a(f=>({products:[...f.products,d]})),console.log(" Product cached in localStorage"),pi.getState().addLog(E1.PRODUCT_ADD,{productId:d.id,productCode:d.code,productName:d.name,category:d.category,price:d.price,stock:d.stock},o,c),{success:!0}},updateProduct:async(i,o,c=null,d=null)=>{const f=n().products.find(h=>h.id===i);if(Vr()){const{error:h}=await Sr.from("products").update({code:o.code,sku:o.sku,barcode:o.barcode,name:o.name,description:o.description,category:o.category,unit:o.unit,price:o.price,cost:o.cost,stock:o.stock,min_stock:o.minStock,max_stock:o.maxStock,image_url:o.image,updated_at:new Date().toISOString()}).eq("id",i);if(h)return console.error(" Error updating product in Supabase:",h),{success:!1,error:h.message};console.log(" Product updated in Supabase (central hub)")}return a(h=>({products:h.products.map(p=>p.id===i?{...p,...o}:p)})),console.log(" Product cache updated in localStorage"),pi.getState().addLog(E1.PRODUCT_EDIT,{productId:i,productName:o.name||(f==null?void 0:f.name),changes:Object.keys(o).filter(h=>f&&o[h]!==f[h])},c,d),{success:!0}},deleteProduct:async(i,o=null,c=null)=>{const d=n().products.find(f=>f.id===i);if(Vr()){const{error:f}=await Sr.from("products").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",i);if(f)return console.error(" Error deleting product from Supabase:",f),{success:!1,error:f.message};console.log(" Product deleted from Supabase (central hub)")}return a(f=>({products:f.products.filter(h=>h.id!==i)})),console.log(" Product removed from localStorage cache"),pi.getState().addLog(E1.PRODUCT_DELETE,{productId:i,productCode:d==null?void 0:d.code,productName:d==null?void 0:d.name},o,c),{success:!0}},addCategory:async i=>{a(o=>({categories:[...o.categories,i]})),Vr()&&await Sr.from("categories").insert({name:i})},removeCategory:async i=>{a(o=>({categories:o.categories.filter(c=>c!==i)})),Vr()&&await Sr.from("categories").delete().eq("name",i)},addUnit:async i=>{a(o=>({units:[...o.units,i]})),Vr()&&await Sr.from("units").insert({name:i})},removeUnit:async i=>{a(o=>({units:o.units.filter(c=>c!==i)})),Vr()&&await Sr.from("units").delete().eq("name",i)},updateStock:async(i,o,c="set",d="adjustment",f="",h=null)=>{const p=n().products.find(g=>g.id===i);if(!p)return{success:!1,error:"Product not found"};const m=p.stock;let v=m;c==="add"?v+=o:c==="subtract"?v-=o:v=o,v=Math.max(0,v);const w=v-m,y={id:Date.now(),productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:v,change:w,type:d,note:f,userId:h,createdAt:new Date().toISOString()};a(g=>({products:g.products.map(A=>A.id===i?{...A,stock:v}:A),stockHistory:[y,...g.stockHistory].slice(0,1e3)}));const x=d==="purchase"?E1.STOCK_PURCHASE:d==="adjustment"?E1.STOCK_ADJUST:d==="opname"?E1.STOCK_OPNAME:E1.STOCK_ADJUST;return pi.getState().addLog(x,{productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:v,change:w,reason:d,note:f},h,null),Vr()&&(await Sr.from("products").update({stock:v}).eq("id",i),await Sr.from("stock_history").insert({product_id:i,old_stock:m,new_stock:v,change:w,type:d,note:f,user_id:h}).catch(()=>{})),{success:!0,oldStock:m,newStock:v,change:w}},bulkUpdateStock:async(i,o="sync_marketplace",c=null)=>{const d=[];for(const{productId:f,newStock:h,note:p}of i){const m=await n().updateStock(f,h,"set",o,p,c);d.push({productId:f,...m})}return d},getProductStockHistory:i=>n().stockHistory.filter(o=>o.productId===i),getStockHistoryByType:i=>n().stockHistory.filter(o=>o.type===i),getStockHistoryByDateRange:(i,o)=>{const c=new Date(i).getTime(),d=new Date(o).getTime();return n().stockHistory.filter(f=>{const h=new Date(f.createdAt).getTime();return h>=c&&h<=d})},clearOldStockHistory:(i=90)=>{const o=new Date;o.setDate(o.getDate()-i);const c=o.getTime();a(d=>({stockHistory:d.stockHistory.filter(f=>new Date(f.createdAt).getTime()>=c)}))},getProductByBarcode:i=>n().products.find(o=>o.barcode===i),getLowStockProducts:()=>n().products.filter(i=>i.stock<=i.minStock),importShopeeProducts:i=>{var y;const o=n().products;let c=0,d=0,f=0;const h=[];let p=0,m=0;const v=new Set(o.filter(x=>x.sku&&x.sku.trim()!=="").map(x=>x.sku.trim().toLowerCase()));console.log("=== SHOPEE SYNC START ==="),console.log(`Total Shopee items to process: ${i.length}`),console.log(`Existing SKUs in database: ${v.size}`),i.length>0&&console.log("First Shopee Item sample:",{item_id:i[0].item_id,item_name:i[0].item_name,has_model:i[0].has_model,models_count:((y=i[0].models)==null?void 0:y.length)||0}),i.forEach(x=>{var A,j,C,k,E,B,I,D,M,T,H,_,F,Q,L,ee,se,ue,W,G;if(x.has_model&&x.models&&x.models.length>=1)c===0&&d===0&&console.log("Model Structure Debug:",JSON.stringify(x.models[0],null,2)),x.models.forEach((ne,de)=>{var Ve,Qe,ot,Ze,Fe,Ke,Je,rt,Xe,Se,pe,Ie,Me,Re;const te=`shopee_${x.item_id}_${ne.model_id}`,ae=o.findIndex(Ye=>Ye.id===te),ie=ne.model_name||(ne.tier_index&&x.tier_variation?x.tier_variation.map((Ye,ze)=>{var mt,lt,ht;return((ht=(lt=Ye.option_list)==null?void 0:lt[(mt=ne.tier_index)==null?void 0:mt[ze]])==null?void 0:ht.option)||""}).filter(Boolean).join(" - "):""),oe=ne.model_sku&&ne.model_sku.trim()||"";if(oe||p++,ae<0&&oe&&v.has(oe.toLowerCase())){h.push({item_id:x.item_id,model_id:ne.model_id,name:`${x.item_name} - ${ie}`,sku:oe,reason:"Duplicate SKU"}),f++;return}m++;const De=ne.current_price||((Ve=ne.price_info)==null?void 0:Ve.current_price)||((Qe=ne.price_info)==null?void 0:Qe.original_price)||ne.original_price||ne.price||Array.isArray(ne.price_info)&&((ot=ne.price_info[0])==null?void 0:ot.current_price)||0,Ne=ne.stock||((Ke=(Fe=(Ze=ne.stock_info_v2)==null?void 0:Ze.seller_stock)==null?void 0:Fe[0])==null?void 0:Ke.stock)||((rt=(Je=ne.stock_info_v2)==null?void 0:Je.summary_info)==null?void 0:rt.total_available_stock)||((Xe=ne.stock_info)==null?void 0:Xe.current_stock)||ne.normal_stock||0,Le=ne.model_image_url||((pe=(Se=x.image)==null?void 0:Se.image_url_list)==null?void 0:pe[0])||"";c===0&&d===0&&de===0&&console.log("Variant Debug:",{item_id:x.item_id,model_id:ne.model_id,model_name:ie,model_sku:oe,price:De,stock:Ne});const Te={id:te,shopeeItemId:x.item_id,shopeeModelId:ne.model_id,shopeeShopId:x.shop_id,code:`SHP${String(x.item_id).slice(-4)}${String(ne.model_id).slice(-2)}`,sku:oe||"",barcode:"",name:ie?`${x.item_name} - ${ie}`:x.item_name,parentName:x.item_name,variantName:ie,description:x.description||"",category:"Shopee",categoryId:x.category_id,unit:"pcs",price:De,originalPrice:((Ie=ne.price_info)==null?void 0:Ie.original_price)||0,cost:0,stock:Ne,minStock:5,maxStock:100,image:Le,images:((Me=x.image)==null?void 0:Me.image_url_list)||[],source:"shopee",shopeeStatus:x.item_status||"NORMAL",hasModel:!0,isVariant:!0,parentItemId:x.item_id,condition:x.condition||"NEW",weight:x.weight,dimension:x.dimension,brand:((Re=x.brand)==null?void 0:Re.original_brand_name)||"",createdTime:x.create_time?new Date(x.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};ae>=0?(o[ae]={...o[ae],...Te,id:o[ae].id,source:"shopee"},d++):(o.push(Te),c++,oe&&v.add(oe.toLowerCase()))});else{const ne=`shopee_${x.item_id}`,de=o.findIndex(Ne=>Ne.shopeeItemId===x.item_id||Ne.id===ne),te=x.item_sku&&x.item_sku.trim()||x.model_sku&&x.model_sku.trim()||x.models&&x.models.length>0&&((j=(A=x.models[0])==null?void 0:A.model_sku)==null?void 0:j.trim())||"";if(te||p++,de<0&&te&&v.has(te.toLowerCase())){h.push({item_id:x.item_id,name:x.item_name,sku:te,reason:"Duplicate SKU"}),f++;return}const ae=x.current_price||Array.isArray(x.price_info)&&((C=x.price_info[0])==null?void 0:C.current_price)||((k=x.price_info)==null?void 0:k.current_price)||x.models&&x.models.length>0&&((B=(E=x.models[0])==null?void 0:E.price_info)==null?void 0:B.current_price)||0,ie=x.current_stock||((D=(I=x.stock_info_v2)==null?void 0:I.summary_info)==null?void 0:D.total_available_stock)||x.models&&x.models.length>0&&((H=(T=(M=x.models[0])==null?void 0:M.stock_info_v2)==null?void 0:T.summary_info)==null?void 0:H.total_available_stock)||((_=x.stock_info)==null?void 0:_.current_stock)||0,oe=((Q=(F=x.image)==null?void 0:F.image_url_list)==null?void 0:Q[0])||(typeof x.image=="string"?x.image:"")||"",De={id:ne,shopeeItemId:x.item_id,shopeeShopId:x.shop_id,code:`SHP${String(x.item_id).slice(-6)}`,sku:te||"",barcode:"",name:x.item_name||`Shopee Product ${x.item_id}`,description:x.description||"",category:"Shopee",categoryId:x.category_id,unit:"pcs",price:ae,originalPrice:Array.isArray(x.price_info)?(L=x.price_info[0])==null?void 0:L.original_price:((ee=x.price_info)==null?void 0:ee.original_price)||0,cost:0,stock:ie,minStock:5,maxStock:100,image:oe,images:((se=x.image)==null?void 0:se.image_url_list)||[],source:"shopee",shopeeStatus:x.item_status||"NORMAL",shopeeModelId:(W=(ue=x.models)==null?void 0:ue[0])==null?void 0:W.model_id,hasModel:x.has_model||!1,isVariant:!1,condition:x.condition||"NEW",weight:x.weight,dimension:x.dimension,brand:((G=x.brand)==null?void 0:G.original_brand_name)||"",createdTime:x.create_time?new Date(x.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};de>=0?(o[de]={...o[de],...De,id:o[de].id,source:"shopee"},d++):(o.push(De),c++,te&&v.add(te.toLowerCase()))}}),a({products:[...o]});const w=n().categories;return w.includes("Shopee")||a({categories:[...w,"Shopee"]}),console.log("=== SHOPEE SYNC COMPLETE ==="),console.log(`Total items from Shopee API: ${i.length}`),console.log(`Variants processed: ${m}`),console.log(`Products imported: ${c}`),console.log(`Products updated: ${d}`),console.log(`Products skipped: ${f}`),console.log(`Products without SKU: ${p}`),console.log(`Final product count: ${o.length}`),h.length>0&&(console.log(`
=== SKIPPED PRODUCTS DETAILS ===`),console.log(`Total skipped: ${h.length}`),h.slice(0,10).forEach((x,g)=>{console.log(`${g+1}. ${x.name} (SKU: ${x.sku}) - ${x.reason}`)}),h.length>10&&console.log(`... and ${h.length-10} more`)),console.log(`===========================
`),{imported:c,updated:d,skipped:f,total:i.length,productsWithoutSku:p,variantsProcessed:m}},clearShopeeProducts:()=>{const i=n().products.filter(o=>o.source!=="shopee");return a({products:i}),i.length},getProductsBySource:i=>n().products.filter(o=>o.source===i)}),{name:"product-storage"}));function qh(a){return{id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category,unit:a.unit,price:parseFloat(a.price)||0,cost:parseFloat(a.cost)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,parentId:a.parent_id,variantName:a.variant_name,variants:a.variants||[],source:a.source||"manual",createdAt:a.created_at,updatedAt:a.updated_at}}const hR="00000000-0000-0000-0000-000000000001",pR=[{id:hR,name:"Walk-in Customer",phone:"",email:"",type:"walk-in",points:0,totalSpent:0,customPrices:{}}],T1=Pi(Oi((a,n)=>({customers:pR,isOnline:!1,setCustomers:i=>a({customers:i}),initRealtime:async()=>{if(Vr())try{await n().fetchCustomers(),a({isOnline:!0}),Sr.channel("customers-channel").on("postgres_changes",{event:"*",schema:"public",table:"customers"},i=>{i.eventType==="INSERT"?a(o=>({customers:[...o.customers.filter(c=>c.id!==i.new.id),Gh(i.new)]})):i.eventType==="UPDATE"?a(o=>({customers:o.customers.map(c=>c.id===i.new.id?Gh(i.new):c)})):i.eventType==="DELETE"&&a(o=>({customers:o.customers.filter(c=>c.id!==i.old.id)}))}).subscribe()}catch(i){console.error("Customer realtime error:",i)}},fetchCustomers:async()=>{if(!Vr())return;const{data:i,error:o}=await Sr.from("customers").select("*").order("name");!o&&i&&a({customers:i.map(Gh)})},addCustomer:async i=>{const o={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),points:0,totalSpent:0,type:i.type||"member"};a(c=>({customers:[...c.customers,o]})),Vr()&&await Sr.from("customers").insert({id:o.id,name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type,points:0,total_spent:0,custom_prices:{}})},updateCustomer:async(i,o)=>{a(c=>({customers:c.customers.map(d=>d.id===i?{...d,...o}:d)})),Vr()&&await Sr.from("customers").update({name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type}).eq("id",i)},deleteCustomer:async i=>{a(o=>({customers:o.customers.filter(c=>c.id!==i)})),Vr()&&await Sr.from("customers").delete().eq("id",i)},addPoints:async(i,o)=>{const c=n().customers.find(f=>f.id===i);if(!c)return;const d=c.points+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:d}:h)})),Vr()&&await Sr.from("customers").update({points:d}).eq("id",i)},redeemPoints:async(i,o)=>{const c=n().customers.find(f=>f.id===i);if(!c)return;const d=Math.max(0,c.points-o);a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:d}:h)})),Vr()&&await Sr.from("customers").update({points:d}).eq("id",i)},addTransaction:async(i,o)=>{const c=n().customers.find(f=>f.id===i);if(!c)return;const d=c.totalSpent+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,totalSpent:d}:h)})),Vr()&&await Sr.from("customers").update({total_spent:d}).eq("id",i)},setCustomPrice:async(i,o,c)=>{const d=n().customers.find(h=>h.id===i);if(!d)return;const f={...d.customPrices,[o]:c};a(h=>({customers:h.customers.map(p=>p.id===i?{...p,customPrices:f}:p)})),Vr()&&await Sr.from("customers").update({custom_prices:f}).eq("id",i)},removeCustomPrice:async(i,o)=>{const c=n().customers.find(f=>f.id===i);if(!c)return;const d={...c.customPrices};delete d[o],a(f=>({customers:f.customers.map(h=>h.id===i?{...h,customPrices:d}:h)})),Vr()&&await Sr.from("customers").update({custom_prices:d}).eq("id",i)}}),{name:"customer-storage"}));function Gh(a){return{id:a.id,name:a.name,phone:a.phone||"",email:a.email||"",address:a.address||"",type:a.type||"member",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,customPrices:a.custom_prices||{}}}const xi=Pi(Oi((a,n)=>({transactions:[],isOnline:!1,setTransactions:i=>a({transactions:i}),initRealtime:async()=>{if(Vr())try{await n().fetchTransactions(),a({isOnline:!0}),Sr.channel("transactions-channel").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},i=>{i.eventType==="INSERT"?a(o=>({transactions:[Yh(i.new),...o.transactions.filter(c=>c.id!==i.new.id)]})):i.eventType==="UPDATE"&&a(o=>({transactions:o.transactions.map(c=>c.id===i.new.id?Yh(i.new):c)}))}).subscribe()}catch(i){console.error("Transaction realtime error:",i)}},fetchTransactions:async()=>{if(!Vr())return;const{data:i,error:o}=await Sr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);!o&&i&&a({transactions:i.map(Yh)})},addTransaction:async i=>{var h,p;const o=i.source&&i.source!=="pos",c=o?i.transactionCode:`TRX${Date.now()}`,d=o?i.id:crypto.randomUUID?crypto.randomUUID():c,f={...i,id:d,transactionCode:c,date:i.date||new Date().toISOString(),status:i.status||"completed",source:i.source||"pos"};return a(m=>({transactions:[f,...m.transactions]})),pi.getState().addLog(E1.TRANSACTION_CREATE,{transactionId:f.id,transactionCode:c,total:i.total,itemCount:((h=i.items)==null?void 0:h.length)||0,paymentMethod:i.paymentMethod,source:f.source},i.cashierId||null,i.cashierName||null),Vr()&&await Sr.from("transactions").insert({id:f.id,transaction_code:c,customer_id:(p=i.customer)==null?void 0:p.id,items:i.items,subtotal:i.subtotal,discount:i.discount,tax:i.tax,total:i.total,payment_method:i.paymentMethod,cash_amount:i.cashAmount,change_amount:i.change,status:"completed",cashier_name:i.cashierName}),f},voidTransaction:async(i,o,c=null,d=null,f=null)=>{var m;const h=n().transactions.find(v=>v.id===i),p=new Date().toISOString();if(a(v=>({transactions:v.transactions.map(w=>w.id===i?{...w,status:"void",voidReason:o,voidDate:p}:w)})),pi.getState().addLog(E1.TRANSACTION_VOID,{transactionId:i,transactionCode:h==null?void 0:h.transactionCode,originalTotal:h==null?void 0:h.total,reason:o,itemsRestored:((m=h==null?void 0:h.items)==null?void 0:m.length)||0},d,f),c&&h&&h.items)for(const v of h.items)await c(v.id,v.quantity,"add","return",`Void transaksi: ${i} - ${o}`,d);return Vr()&&await Sr.from("transactions").update({status:"void",void_reason:o,void_date:p}).eq("id",i),{success:!0,transaction:h}},getTransactionsByDate:(i,o)=>n().transactions.filter(c=>{const d=new Date(c.date);return d>=i&&d<=o}),getTodayTransactions:()=>{const i=new Date;return i.setHours(0,0,0,0),n().transactions.filter(o=>{const c=new Date(o.date);return c.setHours(0,0,0,0),c.getTime()===i.getTime()&&o.status==="completed"})},getTodaySales:()=>n().getTodayTransactions().reduce((o,c)=>o+c.total,0),getTransactionCount:()=>n().transactions.filter(i=>i.status==="completed").length,updateTransaction:(i,o)=>{a(c=>({transactions:c.transactions.map(d=>d.id===i?{...d,...o}:d)}))},clearMarketplaceTransactions:()=>{a(i=>({transactions:i.transactions.filter(o=>o.source!=="shopee"&&o.source!=="lazada"&&o.source!=="tokopedia"&&o.source!=="tiktok"&&!o.marketplaceSource)}))}}),{name:"transaction-storage"}));function Yh(a){return{id:a.id,transactionCode:a.transaction_code,customerId:a.customer_id,customer:a.customer_id?"Customer":"Pembeli",items:a.items||[],subtotal:parseFloat(a.subtotal)||0,discount:parseFloat(a.discount)||0,tax:parseFloat(a.tax)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.cash_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status,voidReason:a.void_reason,voidDate:a.void_date,cashierName:a.cashier_name,source:a.source||"pos",date:a.created_at||a.date,shopeeOrderId:a.shopee_order_id,shopeeStatus:a.shopee_status,marketplaceSource:a.source,shippingFee:0}}const mR=a=>({id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category_id,unit:a.unit_id,cost:parseFloat(a.cost_price)||0,price:parseFloat(a.selling_price)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,shopeeItemId:a.shopee_item_id,shopeeModelId:a.shopee_model_id,source:a.source||"local",isVariant:a.is_variant||!1,parentId:a.parent_product_id,variantName:a.variant_name,isActive:a.is_active,createdAt:a.created_at,updatedAt:a.updated_at}),vR=a=>({id:a.id,code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,type:a.customer_type||"walk-in",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,createdAt:a.created_at,updatedAt:a.updated_at}),xR=a=>({id:a.id,transactionCode:a.transaction_code,date:a.transaction_date,customerId:a.customer_id,subtotal:parseFloat(a.subtotal)||0,discountType:a.discount_type,discountValue:parseFloat(a.discount_value)||0,discount:parseFloat(a.discount_amount)||0,taxPercent:parseFloat(a.tax_percent)||11,tax:parseFloat(a.tax_amount)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.payment_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status||"completed",voidReason:a.void_reason,notes:a.notes,cashierId:a.cashier_id,cashierName:a.cashier_name,source:a.source||"pos",createdAt:a.created_at});function gR(){const a=ce.useRef(!1),n=ce.useRef(null),[i,o]=ce.useState({isOnline:!1,isSyncing:!1,lastSync:null,mode:"polling"});return ce.useEffect(()=>{if(!Vr()||a.current)return;a.current=!0;const c=async()=>{console.log(" Initializing cloud sync (polling mode)..."),o(f=>({...f,isSyncing:!0}));try{await d(),o({isOnline:!0,isSyncing:!1,lastSync:new Date().toISOString(),mode:"polling"}),n.current=setInterval(async()=>{o(f=>({...f,isSyncing:!0})),await d(),o(f=>({...f,isSyncing:!1,lastSync:new Date().toISOString()}))},6e4),console.log(" Cloud sync active - polling every 60s")}catch(f){console.error(" Sync error:",f.message),o(h=>({...h,isSyncing:!1,isOnline:!1}))}},d=async()=>{try{const{data:f,error:h}=await Sr.from("products").select("*").eq("is_active",!0);if(!h&&f&&f.length>0){const p=zs.getState().products,m=new Map(p.map(g=>[g.id,g])),v=new Map(p.filter(g=>g.sku).map(g=>[g.sku,g])),w=new Map(p.filter(g=>g.code).map(g=>[g.code,g]));let y=0;const x=[...p];f.forEach(g=>{const A=mR(g),j=m.has(g.id),C=g.sku&&v.has(g.sku),k=g.code&&w.has(g.code);!j&&!C&&!k&&(x.push(A),y++)}),y>0&&(zs.setState({products:x}),console.log(` Products: +${y} new from cloud (total: ${x.length})`))}}catch(f){console.warn(" Products sync:",f.message)}try{const{data:f,error:h}=await Sr.from("customers").select("*");if(!h&&f&&f.length>0){const p=T1.getState().customers,m=new Map(p.map(y=>[y.id,y]));let v=0;const w=[...p];f.forEach(y=>{m.has(y.id)||(w.push(vR(y)),v++)}),v>0&&(T1.setState({customers:w}),console.log(` Customers: +${v} new from cloud`))}}catch(f){console.warn(" Customers sync:",f.message)}try{const{data:f,error:h}=await Sr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);if(!h&&f&&f.length>0){const p=xi.getState().transactions,m=new Map(p.filter(x=>x.transactionCode).map(x=>[x.transactionCode,x])),v=new Map(p.map(x=>[x.id,x]));let w=0;const y=[...p];f.forEach(x=>{const g=x.transaction_code&&m.has(x.transaction_code),A=v.has(x.id);!g&&!A&&(y.push(xR(x)),w++)}),w>0&&(y.sort((x,g)=>new Date(g.date||g.createdAt)-new Date(x.date||x.createdAt)),xi.setState({transactions:y}),console.log(` Transactions: +${w} new from cloud`))}}catch(f){console.warn(" Transactions sync:",f.message)}console.log(" Sync complete - local data preserved")};return c(),()=>{n.current&&clearInterval(n.current)}},[]),i}function bR({children:a}){const n=gR();return ce.useEffect(()=>{window.__syncStatus=n},[n]),a}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Nt=(a,n)=>{const i=ce.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:f,className:h="",children:p,...m},v)=>ce.createElement("svg",{ref:v,...wR,width:c,height:c,stroke:o,strokeWidth:f?Number(d)*24/Number(c):d,className:["lucide",`lucide-${yR(a)}`,h].join(" "),...m},[...n.map(([w,y])=>ce.createElement(w,y)),...Array.isArray(p)?p:[p]]));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Nt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Nt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Nt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Nt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Nt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Nt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Nt("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Nt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Nt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Nt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Nt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Nt("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Nt("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Nt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Nt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Nt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Nt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Nt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Nt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Nt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Nt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Nt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=Nt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Nt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Nt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Nt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=Nt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Nt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=Nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=Nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=Nt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Nt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=Nt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=Nt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Nt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Nt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Nt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Nt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KR=[{path:"/",icon:Ay,label:"Dashboard",permission:"all"},{path:"/pos",icon:K0,label:"POS / Kasir",permission:"pos",webOnly:!0},{path:"/scanner",icon:Um,label:"Remote Scanner",permission:"pos",androidOnly:!0},{path:"/products",icon:Vn,label:"Master Produk",permission:"products"},{path:"/stock",icon:m3,label:"Stok",permission:"stock"},{path:"/purchases",icon:W0,label:"Pembelian",permission:"purchase"},{path:"/sales",icon:zm,label:"Penjualan",permission:"sales"},{path:"/customers",icon:su,label:"Pelanggan",permission:"customers"},{path:"/reports",icon:Om,label:"Laporan",permission:"reports"},{path:"/settings",icon:jy,label:"Pengaturan",permission:"settings"}],Pb=KR.filter(a=>!(a.webOnly&&Et||a.androidOnly&&!Et)),WR=[{path:"/",icon:Ay,label:"Home"},{path:"/pos",icon:K0,label:"Kasir",webOnly:!0},{path:"/scanner",icon:Um,label:"Scanner",androidOnly:!0},{path:"/products",icon:Vn,label:"Produk"},{path:"/sales",icon:zm,label:"Penjualan"}],JR=WR.filter(a=>!(a.webOnly&&Et||a.androidOnly&&!Et));function XR({children:a}){var C;const[n,i]=ce.useState(!1),[o,c]=ce.useState({isOnline:!1,isSyncing:!1}),[d,f]=ce.useState(!1),h=bc(),{user:p,logout:m}=M1(),{products:v}=zs(),w=v.filter(k=>k.stock<=(k.minStock||5)&&k.stock>0),y=v.filter(k=>k.stock===0),x=w.length+y.length;ce.useEffect(()=>{const k=E=>{E.clientX<=10&&!n&&i(!0)};return"ontouchstart"in window||document.addEventListener("mousemove",k),()=>{document.removeEventListener("mousemove",k)}},[n]),ce.useEffect(()=>{const k=setInterval(()=>{window.__syncStatus&&c(window.__syncStatus)},1e3);return()=>clearInterval(k)},[]);const g=()=>{confirm("Apakah Anda yakin ingin keluar?")&&m()},A=k=>p?p.permissions.includes("all")?!0:p.permissions.includes(k)||p.permissions.includes(`${k}_view`):!1,j=()=>i(!1);return u.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[u.jsxs("header",{className:"bg-dark text-white px-3 py-2.5 flex items-center justify-between z-40 safe-area-top",children:[u.jsx("button",{onClick:()=>i(!0),className:"p-2 -ml-2 rounded-full hover:bg-gray-700 active:bg-gray-600",children:u.jsx(Fb,{size:24})}),u.jsx("h1",{className:"text-base sm:text-lg font-semibold truncate flex-1 mx-2",children:((C=Pb.find(k=>k.path===h.pathname))==null?void 0:C.label)||"POS System"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>f(!d),className:"p-2 rounded-full hover:bg-gray-700 active:bg-gray-600 relative",children:[u.jsx(eu,{size:20}),x>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:x>9?"9+":x})]}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[u.jsx("div",{className:"p-3 border-b bg-gray-50",children:u.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifikasi"})}),x===0?u.jsx("div",{className:"p-4 text-center text-gray-500",children:"Tidak ada notifikasi"}):u.jsxs("div",{className:"divide-y",children:[y.length>0&&u.jsxs("div",{className:"p-3 bg-red-50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[u.jsx(V0,{size:16}),u.jsxs("span",{children:["Stok Habis (",y.length,")"]})]}),u.jsxs("div",{className:"space-y-1",children:[y.slice(0,5).map(k=>u.jsxs("div",{className:"text-sm text-red-600",children:[" ",k.name]},k.id)),y.length>5&&u.jsxs("div",{className:"text-xs text-red-500",children:["...dan ",y.length-5," produk lainnya"]})]})]}),w.length>0&&u.jsxs("div",{className:"p-3 bg-yellow-50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 font-medium mb-2",children:[u.jsx(V0,{size:16}),u.jsxs("span",{children:["Stok Menipis (",w.length,")"]})]}),u.jsxs("div",{className:"space-y-1",children:[w.slice(0,5).map(k=>u.jsxs("div",{className:"text-sm text-yellow-600",children:[" ",k.name," (sisa: ",k.stock,")"]},k.id)),w.length>5&&u.jsxs("div",{className:"text-xs text-yellow-500",children:["...dan ",w.length-5," produk lainnya"]})]})]}),u.jsx(S1,{to:"/stock",onClick:()=>f(!1),className:"block p-3 text-center text-primary hover:bg-gray-50 text-sm font-medium",children:"Lihat Semua Stok "})]})]})]})]}),u.jsx("div",{className:"flex items-center gap-1",title:o.isSyncing?"Syncing...":o.isOnline?`Cloud Sync Active${o.lastSync?` - Last: ${new Date(o.lastSync).toLocaleTimeString()}`:""}`:Vr()?"Connecting to cloud...":"Offline Mode",children:o.isSyncing?u.jsx(gi,{size:20,className:"text-yellow-400 animate-spin"}):o.isOnline?u.jsx(tu,{size:20,className:"text-green-400"}):Vr()?u.jsx(tu,{size:20,className:"text-yellow-400 animate-pulse"}):u.jsx(CR,{size:20,className:"text-gray-400"})})]})]}),n&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:j}),u.jsxs("aside",{className:`fixed top-0 left-0 h-full w-[85vw] max-w-xs bg-dark text-white z-50 transform transition-transform duration-300 ease-out flex flex-col ${n?"translate-x-0":"-translate-x-full"}`,children:[u.jsx("div",{className:"p-4 border-b border-gray-700 safe-area-top flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-xl font-bold",children:"POS System"}),u.jsx("button",{onClick:j,className:"p-2 rounded-full hover:bg-gray-700",children:u.jsx(Bs,{size:20})})]})}),u.jsx("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:u.jsx(Yl,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-sm",children:p==null?void 0:p.name}),u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:p==null?void 0:p.role})]})]})}),u.jsx("nav",{className:"flex-1 p-2 overflow-y-auto min-h-0",children:Pb.map(k=>{if(!A(k.permission))return null;const E=k.icon,B=h.pathname===k.path;return u.jsxs(S1,{to:k.path,onClick:j,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${B?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 active:bg-gray-600"}`,children:[u.jsx(E,{size:20}),u.jsx("span",{className:"flex-1 text-sm",children:k.label}),u.jsx(gy,{size:16,className:"text-gray-500"})]},k.path)})}),u.jsx("div",{className:"p-3 border-t border-gray-700 safe-area-bottom flex-shrink-0",children:u.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-300 hover:bg-red-600 hover:text-white active:bg-red-700 transition-colors",children:[u.jsx(OR,{size:20}),u.jsx("span",{className:"text-sm",children:"Logout"})]})})]}),u.jsx("main",{className:`flex-1 overflow-y-auto ${Et?"pb-20":"pb-16"}`,children:a}),u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 safe-area-bottom shadow-lg",children:u.jsxs("div",{className:`flex justify-around items-center ${Et?"h-16":"h-14"}`,children:[JR.map(k=>{if(!A(k.permission||"all"))return null;const E=k.icon,B=h.pathname===k.path;return u.jsxs(S1,{to:k.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-all active:scale-95 ${B?"text-primary":"text-gray-500 active:text-primary/70"}`,children:[u.jsx("div",{className:`${B?"bg-primary/10 px-4 py-1 rounded-full":""}`,children:u.jsx(E,{size:Et?24:20,strokeWidth:B?2.5:2})}),u.jsx("span",{className:`${Et?"text-xs":"text-[10px]"} mt-0.5 leading-tight ${B?"font-semibold":""}`,children:k.label})]},k.path)}),u.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center flex-1 h-full text-gray-500 active:text-primary/70 active:scale-95",children:[u.jsx(Fb,{size:Et?24:20}),u.jsx("span",{className:`${Et?"text-xs":"text-[10px]"} mt-0.5 leading-tight`,children:"Lainnya"})]})]})})]})}function ZR(){const[a,n]=ce.useState(""),[i,o]=ce.useState(""),[c,d]=ce.useState(!1),[f,h]=ce.useState(""),p=Sm(),{login:m}=M1(),v=async w=>{w.preventDefault(),d(!0),h(""),setTimeout(()=>{const y=m(a,i);y.success||y===!0?p("/"):h(y.error||"Username atau password salah"),d(!1)},500)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(K0,{size:40,className:"text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"POS System"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Sistem Manajemen Stok & Kasir"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f&&u.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),u.jsx("input",{type:"text",value:a,onChange:w=>n(w.target.value),className:"input",placeholder:"Masukkan username",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:i,onChange:w=>o(w.target.value),className:"input",placeholder:"Masukkan password",required:!0})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full btn btn-primary flex items-center justify-center gap-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(_R,{size:20,className:"animate-spin"}),u.jsx("span",{children:"Loading..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(PR,{size:20}),u.jsx("span",{children:"Login"})]})})]}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Login:"}),u.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[u.jsx("p",{children:" Admin: admin / admin123"}),u.jsx("p",{children:" Kasir: kasir / kasir123"})]})]})]}),u.jsx("p",{className:"text-center text-white mt-6 text-sm",children:" 2025 POS System. All rights reserved."})]})})}const Mu=Pi(Oi((a,n)=>({storeInfo:{name:"TOKO SEJAHTERA",address:"Jl. Merdeka No. 123, Jakarta",phone:"(021) 1234-5678",email:"info@tokosejahtera.com",logo:null},stockSettings:{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30},whatsappNumber:"",whatsappMessage:"Halo, saya ingin bertanya tentang produk di toko Anda.",updateStoreInfo:i=>{a(o=>({storeInfo:{...o.storeInfo,...i}}))},setLogo:i=>{a(o=>({storeInfo:{...o.storeInfo,logo:i}}))},updateStockSettings:i=>{a(o=>({stockSettings:{...o.stockSettings,...i}}))},updateWhatsApp:(i,o)=>{a({whatsappNumber:i,whatsappMessage:o||n().whatsappMessage})},getMarketplaceStock:i=>{const{bufferPercent:o,minBuffer:c}=n().stockSettings,d=Math.max(Math.ceil(i*(o/100)),c);return Math.max(0,i-d)},getWhatsAppLink:i=>{const o=n().whatsappNumber.replace(/\D/g,""),c=encodeURIComponent(i||n().whatsappMessage);return o?`https://wa.me/${o}?text=${c}`:null}}),{name:"settings-storage"})),J0={shopee:{name:"Shopee",color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-600",bgLight:"bg-orange-50",borderColor:"border-orange-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#EE4D2D"/>
      <path d="M24 12C20.13 12 17 15.13 17 19V20H15C14.45 20 14 20.45 14 21V35C14 35.55 14.45 36 15 36H33C33.55 36 34 35.55 34 35V21C34 20.45 33.55 20 33 20H31V19C31 15.13 27.87 12 24 12ZM24 14C26.76 14 29 16.24 29 19V20H19V19C19 16.24 21.24 14 24 14ZM24 24C25.1 24 26 24.9 26 26C26 26.74 25.6 27.39 25 27.73V30C25 30.55 24.55 31 24 31C23.45 31 23 30.55 23 30V27.73C22.4 27.39 22 26.74 22 26C22 24.9 22.9 24 24 24Z" fill="white"/>
    </svg>`},lazada:{name:"Lazada",color:"purple",bgColor:"bg-purple-500",textColor:"text-purple-600",bgLight:"bg-purple-50",borderColor:"border-purple-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0F146D"/>
      <path d="M24 36L21.6 33.8C14.4 27.3 10 23.3 10 18.5C10 14.5 13.2 11.3 17.2 11.3C19.5 11.3 21.7 12.4 23.1 14.1L24 15.2L24.9 14.1C26.3 12.4 28.5 11.3 30.8 11.3C34.8 11.3 38 14.5 38 18.5C38 23.3 33.6 27.3 26.4 33.8L24 36Z" fill="#F85606"/>
    </svg>`},tokopedia:{name:"Tokopedia",color:"green",bgColor:"bg-green-500",textColor:"text-green-600",bgLight:"bg-green-50",borderColor:"border-green-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="12" fill="white"/>
      <circle cx="24" cy="24" r="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="4" fill="white"/>
    </svg>`},tiktok:{name:"TikTok Shop",color:"black",bgColor:"bg-gray-900",textColor:"text-gray-900",bgLight:"bg-gray-50",borderColor:"border-gray-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#000000"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="white"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#25F4EE" transform="translate(-1, -1)"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#FE2C55" transform="translate(1, 1)"/>
    </svg>`},manual:{name:"Manual / Lainnya",color:"blue",bgColor:"bg-blue-500",textColor:"text-blue-600",bgLight:"bg-blue-50",borderColor:"border-blue-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3B82F6"/>
      <path d="M14 14H26V18H18V30H14V14ZM20 20H34V34H20V20ZM24 24V30H30V24H24Z" fill="white"/>
    </svg>`}},Fu=Pi(Oi((a,n)=>({stores:[],activeStoreId:null,allProducts:[],allOrders:[],loading:{stores:!1,products:!1,orders:!1,sync:!1},addStore:i=>{var f;const o=n().stores;if(o.some(h=>h.platform===i.platform&&h.shopId===i.shopId&&i.shopId))return{success:!1,error:"Toko sudah terdaftar"};const d={id:Date.now(),platform:i.platform,shopId:i.shopId||"",shopName:i.shopName||`Toko ${((f=J0[i.platform])==null?void 0:f.name)||i.platform}`,ownerName:i.ownerName||"",credentials:{partnerId:i.partnerId||"",partnerKey:i.partnerKey||"",accessToken:i.accessToken||"",refreshToken:i.refreshToken||"",appKey:i.appKey||"",appSecret:i.appSecret||"",fsId:i.fsId||"",clientId:i.clientId||"",clientSecret:i.clientSecret||""},isConnected:!!i.accessToken,isActive:!0,lastSync:null,tokenExpiry:null,productCount:0,orderCount:0,createdAt:new Date().toISOString(),createdBy:i.userId||null,notes:i.notes||""};return a({stores:[...o,d]}),{success:!0,store:d}},updateStore:(i,o)=>{const c=n().stores.map(d=>d.id===i?{...d,...o,credentials:o.credentials?{...d.credentials,...o.credentials}:d.credentials,updatedAt:new Date().toISOString()}:d);return a({stores:c}),{success:!0}},updateStoreCredentials:(i,o)=>{const c=n().stores.map(d=>d.id===i?{...d,credentials:{...d.credentials,...o},isConnected:!!o.accessToken||d.isConnected,updatedAt:new Date().toISOString()}:d);return a({stores:c}),{success:!0}},updateStoreSync:(i,o)=>{const c=n().stores.map(d=>d.id===i?{...d,lastSync:new Date().toISOString(),productCount:o.productCount??d.productCount,orderCount:o.orderCount??d.orderCount,isConnected:!0}:d);a({stores:c})},removeStore:i=>{const o=n().stores.filter(d=>d.id!==i),c=n().activeStoreId;return a({stores:o,activeStoreId:c===i?null:c}),{success:!0}},toggleStoreActive:i=>{const o=n().stores.map(c=>c.id===i?{...c,isActive:!c.isActive}:c);a({stores:o})},setActiveStore:i=>{a({activeStoreId:i})},getStoreById:i=>n().stores.find(o=>o.id===i),getStoresByPlatform:i=>n().stores.filter(o=>o.platform===i),getStoresByUser:i=>n().stores.filter(o=>o.createdBy===i),getActiveStores:()=>n().stores.filter(i=>i.isActive),getConnectedStores:()=>n().stores.filter(i=>i.isConnected),getSummary:()=>{const i=n().stores;return{totalStores:i.length,activeStores:i.filter(o=>o.isActive).length,connectedStores:i.filter(o=>o.isConnected).length,byPlatform:{shopee:i.filter(o=>o.platform==="shopee").length,lazada:i.filter(o=>o.platform==="lazada").length,tokopedia:i.filter(o=>o.platform==="tokopedia").length,tiktok:i.filter(o=>o.platform==="tiktok").length,manual:i.filter(o=>o.platform==="manual").length},totalProducts:i.reduce((o,c)=>o+(c.productCount||0),0),totalOrders:i.reduce((o,c)=>o+(c.orderCount||0),0)}},setLoading:(i,o)=>a({loading:{...n().loading,[i]:o}}),clearAllStores:()=>a({stores:[],activeStoreId:null,allProducts:[],allOrders:[]}),isConnected:!1,shopInfo:null,lastSync:null,products:[],orders:[],summary:null,setConnected:(i,o=null)=>a({isConnected:i,shopInfo:o}),disconnect:()=>a({isConnected:!1,shopInfo:null,products:[],orders:[],summary:null,lastSync:null})}),{name:"marketplace-stores-storage",partialize:a=>({stores:a.stores,activeStoreId:a.activeStoreId})})),eT=({platform:a,size:n=24})=>{const i=J0[a]||J0.manual;return i.logo?u.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):u.jsx("span",{className:"text-xl",children:i.icon||""})};function tT(){const{products:a,getLowStockProducts:n}=zs(),{transactions:i,getTodaySales:o,getTodayTransactions:c}=xi(),{customers:d}=T1(),{whatsappNumber:f,getWhatsAppLink:h}=Mu(),{stores:p,getSummary:m}=Fu(),[v,w]=ce.useState(!1),[y,x]=ce.useState([]),g=o(),A=c(),j=n();m();const C=A.reduce((I,D)=>{if(D.status!=="completed")return I;const M=(D.items||[]).reduce((T,H)=>{const _=a.find(Q=>Q.id===H.id),F=(_==null?void 0:_.cost)||0;return T+(H.price-F)*H.quantity},0);return I+M},0),k=a.filter(I=>I.stock===0);ce.useEffect(()=>{(k.length>0||j.length>0)&&w(!0)},[k.length,j.length]);const E=[{title:"Penjualan Hari Ini",value:`Rp ${g.toLocaleString("id-ID")}`,icon:oc,color:"bg-green-500",trend:"+12.5%",trendUp:!0},{title:"Transaksi Hari Ini",value:A.length,icon:K0,color:"bg-blue-500",trend:"+8.2%",trendUp:!0},{title:"Total Produk",value:a.length,icon:Vn,color:"bg-purple-500",trend:"+3",trendUp:!0},{title:"Total Pelanggan",value:d.length,icon:su,color:"bg-orange-500",trend:"+15",trendUp:!0}],B=Et?[{label:"Scanner",path:"/scanner",color:"bg-primary",icon:Um},{label:"Produk",path:"/products",color:"bg-success",icon:Vn},{label:"Stok",path:"/stock",color:"bg-warning",icon:m3},{label:"Pembelian",path:"/purchases",color:"bg-info",icon:W0},{label:"Pelanggan",path:"/customers",color:"bg-purple-500",icon:su},{label:"Laporan",path:"/reports",color:"bg-pink-500",icon:Om}]:[{label:"Transaksi Baru",path:"/pos",color:"bg-primary",icon:K0},{label:"Tambah Produk",path:"/products",color:"bg-success",icon:Vn},{label:"Cek Stok",path:"/stock",color:"bg-warning",icon:m3},{label:"Barang Masuk",path:"/purchases",color:"bg-info",icon:W0}];return Et?u.jsxs("div",{className:"p-4 space-y-4",children:[v&&(k.length>0||j.length>0)&&u.jsxs("div",{className:`${k.length>0?"bg-red-500":"bg-orange-500"} text-white p-3 rounded-xl flex items-center justify-between`,children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(eu,{size:20}),u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"font-bold text-sm",children:k.length>0?` ${k.length} produk HABIS!`:` ${j.length} stok menipis`})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(S1,{to:"/stock",className:"bg-white text-gray-900 px-3 py-1.5 rounded-lg text-xs font-medium",children:"Lihat"}),u.jsx("button",{onClick:()=>w(!1),className:"p-1.5 hover:bg-white/20 rounded-lg",children:u.jsx(Bs,{size:18})})]})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Selamat datang di POS System"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map((I,D)=>{const M=I.icon;return u.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:`${I.color} p-2 rounded-lg`,children:u.jsx(M,{size:18,className:"text-white"})}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[I.trendUp?u.jsx(Db,{size:14,className:"text-green-600"}):u.jsx(Bb,{size:14,className:"text-red-600"}),u.jsx("span",{className:`text-xs font-medium ${I.trendUp?"text-green-600":"text-red-600"}`,children:I.trend})]})]}),u.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:I.title}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",children:I.value})]},D)})}),u.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[u.jsx("h2",{className:"text-lg font-bold mb-3",children:"Menu Cepat"}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:B.map((I,D)=>{const M=I.icon;return u.jsxs(S1,{to:I.path,className:`${I.color} text-white p-4 rounded-xl active:scale-95 transition-transform flex flex-col items-center justify-center`,children:[u.jsx(M,{size:28,className:"mb-2"}),u.jsx("p",{className:"font-medium text-xs text-center",children:I.label})]},D)})})]}),u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-green-100 text-xs",children:"Profit Hari Ini"}),u.jsxs("h3",{className:"text-2xl font-bold",children:["Rp ",C.toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-green-100 text-xs mt-1",children:[A.filter(I=>I.status==="completed").length," transaksi"]})]}),u.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:u.jsx(h3,{size:24})})]})}),j.length>0&&u.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[u.jsx(V0,{className:"text-warning",size:20}),"Stok Menipis"]}),u.jsx(S1,{to:"/stock",className:"text-primary text-sm font-medium",children:"Lihat "})]}),u.jsxs("div",{className:"space-y-2",children:[j.slice(0,3).map(I=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded-lg",children:[u.jsx("p",{className:"font-medium text-gray-900 text-sm truncate flex-1",children:I.name}),u.jsxs("p",{className:"font-bold text-orange-600 text-sm ml-2",children:[I.stock," ",I.unit]})]},I.id)),j.length>3&&u.jsxs("p",{className:"text-center text-xs text-gray-500",children:["+",j.length-3," lainnya"]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-bold",children:"Transaksi Terbaru"}),u.jsx(S1,{to:"/sales",className:"text-primary text-sm font-medium",children:"Lihat "})]}),A.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"Belum ada transaksi"}):u.jsx("div",{className:"space-y-2",children:A.slice(0,3).map(I=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 text-sm",children:I.id}),u.jsx("p",{className:"text-xs text-gray-500",children:new Date(I.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("p",{className:"font-bold text-green-600 text-sm",children:["Rp ",I.total.toLocaleString("id-ID")]})]},I.id))})]}),f&&u.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-20 right-4 bg-green-500 text-white p-3 rounded-full shadow-lg z-30",children:u.jsx(au,{size:24})})]}):u.jsxs("div",{className:"p-6 space-y-6",children:[v&&(k.length>0||j.length>0)&&u.jsxs("div",{className:`${k.length>0?"bg-red-500":"bg-orange-500"} text-white p-4 rounded-xl flex items-center justify-between animate-pulse`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(eu,{size:24}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:k.length>0?` ${k.length} produk HABIS!`:` ${j.length} produk stok menipis`}),u.jsx("p",{className:"text-sm opacity-90",children:k.length>0?"Segera lakukan restock untuk produk yang sudah habis":"Beberapa produk mendekati batas minimum stok"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(S1,{to:"/stock",className:"bg-white text-gray-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100",children:"Lihat Detail"}),u.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:u.jsx(Bs,{size:20})})]})]}),f&&u.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors z-50 flex items-center gap-2",title:"Hubungi Customer Service",children:u.jsx(au,{size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Selamat datang di sistem POS & Inventory Management"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map((I,D)=>{const M=I.icon;return u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:I.title}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:I.value}),u.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[I.trendUp?u.jsx(Db,{size:16,className:"text-green-600"}):u.jsx(Bb,{size:16,className:"text-red-600"}),u.jsx("span",{className:`text-sm font-medium ${I.trendUp?"text-green-600":"text-red-600"}`,children:I.trend}),u.jsx("span",{className:"text-sm text-gray-500",children:"vs kemarin"})]})]}),u.jsx("div",{className:`${I.color} p-3 rounded-xl`,children:u.jsx(M,{size:24,className:"text-white"})})]})},D)})}),u.jsxs("div",{className:"card",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.map((I,D)=>{const M=I.icon;return u.jsxs(S1,{to:I.path,className:`${I.color} text-white p-6 rounded-xl hover:opacity-90 transition-opacity`,children:[u.jsx(M,{size:32,className:"mb-3"}),u.jsx("p",{className:"font-semibold",children:I.label})]},D)})})]}),p.length>0&&u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(lc,{className:"text-primary",size:24}),"Marketplace Terhubung"]}),u.jsx(S1,{to:"/marketplace/integration",className:"text-primary hover:underline text-sm",children:"Kelola Toko"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.filter(I=>I.isActive).slice(0,4).map(I=>{const D=J0[I.platform]||J0.manual;return u.jsxs("div",{className:`${D.bgLight} ${D.borderColor} border rounded-lg p-4`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(eT,{platform:I.platform,size:28}),u.jsx("span",{className:`text-sm font-medium ${D.textColor}`,children:D.name})]}),u.jsx("p",{className:"font-semibold text-gray-900 truncate",children:I.shopName}),u.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-600",children:[u.jsxs("span",{children:[I.productCount||0," produk"]}),I.isConnected&&u.jsx("span",{className:"text-green-600",children:" Online"})]})]},I.id)})}),p.length>4&&u.jsxs("p",{className:"text-center text-sm text-gray-500 mt-3",children:["+",p.length-4," toko lainnya"]})]}),u.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-green-100 text-sm",children:"Estimasi Profit Hari Ini"}),u.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["Rp ",C.toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Dari ",A.filter(I=>I.status==="completed").length," transaksi selesai"]})]}),u.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:u.jsx(h3,{size:32})})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(V0,{className:"text-warning",size:24}),"Stok Menipis"]}),u.jsx(S1,{to:"/stock",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),j.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Semua stok aman"}):u.jsx("div",{className:"space-y-3",children:j.slice(0,5).map(I=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:I.name}),u.jsx("p",{className:"text-sm text-gray-600",children:I.code})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-bold text-orange-600",children:[I.stock," ",I.unit]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",I.minStock]})]})]},I.id))})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Transaksi Terbaru"}),u.jsx(S1,{to:"/sales",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),A.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada transaksi hari ini"}):u.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(I=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:I.id}),u.jsx("p",{className:"text-sm text-gray-600",children:new Date(I.date).toLocaleTimeString("id-ID")})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-bold text-green-600",children:["Rp ",I.total.toLocaleString("id-ID")]}),u.jsx("p",{className:"text-xs text-gray-500 capitalize",children:I.paymentMethod})]})]},I.id))})]})]})]})}const x3=Pi(Oi((a,n)=>({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash",addToCart:(i,o=1)=>{const c=n().cartItems.find(d=>d.id===i.id);if(c){if(c.quantity+o>c.stock){alert("Stok tidak mencukupi!");return}a(d=>({cartItems:d.cartItems.map(f=>f.id===i.id?{...f,quantity:f.quantity+o}:f)}))}else{if(o>i.stock){alert("Stok tidak mencukupi!");return}a(d=>({cartItems:[...d.cartItems,{...i,quantity:o}]}))}},removeFromCart:i=>{a(o=>({cartItems:o.cartItems.filter(c=>c.id!==i)}))},updateQuantity:(i,o)=>{if(o<=0){n().removeFromCart(i);return}const c=n().cartItems.find(d=>d.id===i);if(c&&o>c.stock){alert("Stok tidak mencukupi!");return}a(d=>({cartItems:d.cartItems.map(f=>f.id===i?{...f,quantity:o}:f)}))},updateItemDiscount:(i,o)=>{a(c=>({cartItems:c.cartItems.map(d=>d.id===i?{...d,itemDiscount:o}:d)}))},setDiscount:(i,o="percent")=>{a({discount:i,discountType:o})},setCustomer:i=>{a({selectedCustomer:i})},setPaymentMethod:i=>{a({paymentMethod:i})},getSubtotal:()=>n().cartItems.reduce((i,o)=>{const c=o.price*o.quantity,d=o.itemDiscount||0;return i+(c-d)},0),getDiscount:()=>{const i=n().getSubtotal(),{discount:o,discountType:c}=n();return c==="percent"?i*o/100:o},getTax:()=>{const i=n().getSubtotal(),o=n().getDiscount();return(i-o)*.11},getTotal:()=>{const i=n().getSubtotal(),o=n().getDiscount(),c=n().getTax();return i-o+c},clearCart:()=>{a({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash"})},holdTransaction:()=>{const i=n(),o={id:Date.now(),cartItems:i.cartItems,selectedCustomer:i.selectedCustomer,discount:i.discount,discountType:i.discountType,timestamp:new Date().toISOString()};return localStorage.setItem(`held_${o.id}`,JSON.stringify(o)),n().clearCart(),o.id}}),{name:"cart-storage"}));function rT(){const[a,n]=ce.useState(""),[i,o]=ce.useState(!1),[c,d]=ce.useState(!1),[f,h]=ce.useState(!1),[p,m]=ce.useState(null),[v,w]=ce.useState(""),[y,x]=ce.useState(!1),[g,A]=ce.useState(null),[j,C]=ce.useState(!1),k=ce.useRef(null),{products:E,updateStock:B}=zs(),{cartItems:I,addToCart:D,removeFromCart:M,updateQuantity:T,updateItemDiscount:H,setDiscount:_,setCustomer:F,setPaymentMethod:Q,selectedCustomer:L,discount:ee,discountType:se,paymentMethod:ue,getSubtotal:W,getDiscount:G,getTax:ne,getTotal:de,clearCart:te,holdTransaction:ae}=x3(),{customers:ie}=T1(),{addTransaction:oe}=xi(),{storeInfo:De}=Mu(),{user:Ne}=M1();ce.useEffect(()=>{if(!y)return;const Se=Sr.channel("barcode-scans").on("postgres_changes",{event:"INSERT",schema:"public",table:"barcode_scans"},async pe=>{const Ie=pe.new;if(!Ie.processed){const Me=E.find(Re=>Re.barcode===Ie.barcode||Re.code===Ie.barcode||Re.sku===Ie.barcode);if(Me){if(Me.stock>0){D(Me),A({barcode:Ie.barcode,product:Me.name,device:Ie.device_name,time:new Date().toLocaleTimeString()});try{const Re=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp2LdV1PU2V4jZ+jnIxvVEJIX3mOnaCXhWlNOT9Wd46hpJuGZkQwPFd0j6OlloBcOiotUXORpqmhimE/LzNTdJOnq6OKXzgoLVJ1k6mupYlaPyctUneVq7CnilY4Ji5VeZitsKmIUjYmL1h8m6+xqYdNMyYwW4CfsrOpg0gvJjFehKKzsqV9QysmM2OIpbSypXY+JyU2aI2otbKicDkkJDlukqu2sqBqNSMjPHOWrre0nWQxIiJAfpqxuLSZXSwgIkWDn7S4tJRVKR4hSoiltbi0kE4lHSBOjqm3uLSMRyIbIFOTrLi4tIY/HxofWJivuLi0gDgdGR5dnbG4uLR5MRoYHmKhsri4tHIrFxYeZ6WzuLhzLA==");Re.volume=.3,Re.play()}catch{}}}else A({barcode:Ie.barcode,product:null,device:Ie.device_name,time:new Date().toLocaleTimeString(),error:"Produk tidak ditemukan"});await Sr.from("barcode_scans").update({processed:!0,processed_at:new Date().toISOString()}).eq("id",Ie.id)}}).subscribe();return()=>{Sr.removeChannel(Se)}},[y,E,D]);const Le=E.filter(Se=>{var pe;return Se.name.toLowerCase().includes(a.toLowerCase())||Se.code.toLowerCase().includes(a.toLowerCase())||((pe=Se.barcode)==null?void 0:pe.includes(a))}),Te=Se=>{var pe;Se.stock>0?(D(Se),n(""),(pe=k.current)==null||pe.focus()):alert("Stok habis!")},Ve=()=>{if(I.length===0){alert("Cart masih kosong!");return}d(!0)},Qe=async()=>{const Se=de(),pe=parseFloat(v)||0;if(ue==="cash"&&pe<Se){alert("Jumlah uang tidak cukup!");return}C(!0);try{const Ie={items:I,customer:L,subtotal:W(),discount:G(),tax:ne(),total:Se,paymentMethod:ue,cashAmount:ue==="cash"?pe:Se,change:ue==="cash"?pe-Se:0,cashierName:(Ne==null?void 0:Ne.name)||"Kasir",cashierId:Ne==null?void 0:Ne.id};for(const Re of I)await B(Re.id,Re.quantity,"subtract","sale","Penjualan",Ne==null?void 0:Ne.id);const Me=await oe(Ie);m(Me),d(!1),h(!0),te(),w("")}catch(Ie){console.error("Transaction error:",Ie),alert("Gagal memproses transaksi: "+Ie.message)}finally{C(!1)}},ot=()=>{window.print(),h(!1)},Ze=()=>{if(I.length===0){alert("Cart masih kosong!");return}const Se=ae();alert(`Transaksi disimpan dengan ID: ${Se}`)},Fe=()=>{confirm("Batalkan transaksi ini?")&&te()},Ke=W(),Je=G(),rt=ne(),Xe=de();return u.jsxs("div",{className:"h-screen flex bg-gray-50",children:[g&&u.jsxs("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg animate-pulse ${g.error?"bg-red-500":"bg-green-500"} text-white max-w-sm`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[g.error?u.jsx(Bs,{className:"flex-shrink-0",size:24}):u.jsx(ql,{className:"flex-shrink-0",size:24}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:g.error||g.product}),u.jsxs("p",{className:"text-sm opacity-90",children:[g.barcode,"  ",g.device]})]})]}),u.jsx("button",{onClick:()=>A(null),className:"absolute top-1 right-1 p-1 hover:bg-white/20 rounded",children:u.jsx(Bs,{size:16})})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("div",{className:"bg-white border-b p-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{ref:k,type:"text",value:a,onChange:Se=>n(Se.target.value),placeholder:"Cari produk (nama, kode, atau scan barcode)...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),u.jsxs("button",{onClick:()=>x(!y),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${y?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Aktifkan untuk menerima scan dari HP Android",children:[y?u.jsx(v3,{size:20}):u.jsx(Sy,{size:20}),u.jsx("span",{className:"hidden lg:inline",children:y?"Scanner Aktif":"Remote Scan"})]}),u.jsxs("button",{onClick:()=>o(!0),className:"btn btn-outline flex items-center gap-2",children:[u.jsx(Yl,{size:20}),L?L.name:"Pilih Pelanggan"]})]}),y&&u.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-lg px-4 py-2 flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),u.jsx("span",{className:"text-green-700 font-medium",children:"Menunggu scan dari Android..."})]}),u.jsx("p",{className:"text-green-600 text-sm ml-auto",children:'Buka "Remote Scanner" di HP untuk scan barcode'})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[a&&u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Le.map(Se=>u.jsxs("button",{onClick:()=>Te(Se),className:`p-4 rounded-lg border-2 text-left transition-all hover:shadow-lg ${Se.stock>0?"border-gray-200 hover:border-primary bg-white":"border-red-200 bg-red-50 cursor-not-allowed opacity-50"}`,disabled:Se.stock===0,children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:Se.name}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Se.code}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-lg font-bold text-primary",children:["Rp ",Se.price.toLocaleString("id-ID")]}),u.jsxs("p",{className:`text-sm ${Se.stock>10?"text-green-600":"text-orange-600"}`,children:["Stock: ",Se.stock]})]})]},Se.id))}),!a&&u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:u.jsxs("div",{className:"text-center",children:[u.jsx(po,{size:64,className:"mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Cari atau scan produk untuk memulai transaksi"})]})})]})]}),u.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Keranjang"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[I.length," item"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:I.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:u.jsxs("div",{className:"text-center",children:[u.jsx($R,{size:64,className:"mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Keranjang kosong"})]})}):I.map(Se=>u.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-900",children:Se.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Rp ",Se.price.toLocaleString("id-ID")," x ",Se.quantity]})]}),u.jsx("button",{onClick:()=>M(Se.id),className:"text-red-600 hover:bg-red-100 p-1 rounded",children:u.jsx(s1,{size:16})})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>T(Se.id,Se.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300",children:u.jsx(UR,{size:16})}),u.jsx("span",{className:"w-12 text-center font-semibold",children:Se.quantity}),u.jsx("button",{onClick:()=>T(Se.id,Se.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-primary text-white rounded hover:bg-blue-600",disabled:Se.quantity>=Se.stock,children:u.jsx(en,{size:16})})]}),u.jsxs("p",{className:"font-bold text-gray-900",children:["Rp ",(Se.price*Se.quantity).toLocaleString("id-ID")]})]})]},Se.id))}),u.jsxs("div",{className:"p-4 border-t space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["Rp ",Ke.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[u.jsx("span",{children:"Diskon"}),u.jsxs("span",{className:"text-red-600",children:["- Rp ",Je.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[u.jsx("span",{children:"Pajak (11%)"}),u.jsxs("span",{children:["Rp ",rt.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex items-center justify-between text-xl font-bold pt-3 border-t",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-primary",children:["Rp ",Xe.toLocaleString("id-ID")]})]})]}),u.jsxs("div",{className:"p-4 border-t space-y-2",children:[u.jsxs("button",{onClick:Ve,disabled:I.length===0,className:"w-full btn btn-success py-4 text-lg font-bold",children:[u.jsx(ql,{size:24}),"BAYAR"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:Ze,className:"btn btn-warning",children:[u.jsx(zR,{size:18}),"Hold"]}),u.jsxs("button",{onClick:Fe,className:"btn btn-danger",children:[u.jsx(Bs,{size:18}),"Void"]}),u.jsxs("button",{className:"btn btn-secondary",children:[u.jsx(h3,{size:18}),"Diskon"]})]})]})]}),i&&u.jsx(Vh,{onClose:()=>o(!1),title:"Pilih Pelanggan",children:u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ie.map(Se=>u.jsxs("button",{onClick:()=>{F(Se),o(!1)},className:`w-full p-3 rounded-lg border-2 text-left hover:border-primary transition-colors ${(L==null?void 0:L.id)===Se.id?"border-primary bg-blue-50":"border-gray-200"}`,children:[u.jsx("p",{className:"font-semibold",children:Se.name}),u.jsx("p",{className:"text-sm text-gray-600",children:Se.phone}),Se.type!=="walk-in"&&u.jsxs("p",{className:"text-xs text-primary mt-1",children:["Poin: ",Se.points]})]},Se.id))})}),c&&u.jsx(Vh,{onClose:()=>d(!1),title:"Pembayaran",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{children:u.jsxs("p",{className:"text-3xl font-bold text-center text-primary mb-6",children:["Rp ",Xe.toLocaleString("id-ID")]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metode Pembayaran"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"cash",label:"Tunai",icon:oc},{id:"card",label:"Kartu",icon:DR},{id:"ewallet",label:"E-Wallet",icon:qR},{id:"transfer",label:"Transfer",icon:VR}].map(Se=>{const pe=Se.icon;return u.jsxs("button",{onClick:()=>Q(Se.id),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-2 ${ue===Se.id?"border-primary bg-blue-50":"border-gray-200 hover:border-primary"}`,children:[u.jsx(pe,{size:24}),u.jsx("span",{className:"text-sm font-medium",children:Se.label})]},Se.id)})})]}),ue==="cash"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah Uang"}),u.jsx("input",{type:"number",value:v,onChange:Se=>w(Se.target.value),placeholder:"0",className:"input text-xl text-right",autoFocus:!0}),v&&u.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"font-medium",children:"Kembalian:"}),u.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",Math.max(0,parseFloat(v)-Xe).toLocaleString("id-ID")]})]})}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[5e4,1e5,2e5].map(Se=>u.jsx("button",{onClick:()=>w(Se.toString()),className:"btn btn-outline",children:Se.toLocaleString("id-ID")},Se))})]}),u.jsx("button",{onClick:Qe,disabled:j,className:"w-full btn btn-success py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:j?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin",children:""}),"Memproses..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ql,{size:20}),"Selesaikan Transaksi"]})})]})}),f&&p&&u.jsxs(Vh,{onClose:()=>h(!1),title:"Struk Pembayaran",children:[u.jsxs("div",{id:"receipt",className:"space-y-4",children:[u.jsxs("div",{className:"text-center border-b pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:(De==null?void 0:De.name)||"TOKO SAYA"}),u.jsx("p",{className:"text-sm text-gray-600",children:(De==null?void 0:De.address)||"Alamat Toko"}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Telp: ",(De==null?void 0:De.phone)||"-"]})]}),u.jsxs("div",{className:"text-sm space-y-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"No. Transaksi:"}),u.jsx("span",{className:"font-semibold",children:p.id})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Tanggal:"}),u.jsx("span",{children:new Date(p.date).toLocaleString("id-ID")})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Kasir:"}),u.jsx("span",{children:p.cashierName})]})]}),u.jsx("div",{className:"border-t border-b py-3 space-y-2",children:p.items.map((Se,pe)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"font-medium",children:Se.name}),u.jsxs("span",{children:["Rp ",(Se.price*Se.quantity).toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[Se.quantity," x Rp ",Se.price.toLocaleString("id-ID")]})]},pe))}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal:"}),u.jsxs("span",{children:["Rp ",p.subtotal.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between text-red-600",children:[u.jsx("span",{children:"Diskon:"}),u.jsxs("span",{children:["- Rp ",p.discount.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Pajak (11%):"}),u.jsxs("span",{children:["Rp ",p.tax.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["Rp ",p.total.toLocaleString("id-ID")]})]}),p.paymentMethod==="cash"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Bayar:"}),u.jsxs("span",{children:["Rp ",p.cashAmount.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between font-semibold",children:[u.jsx("span",{children:"Kembali:"}),u.jsxs("span",{children:["Rp ",p.change.toLocaleString("id-ID")]})]})]})]}),u.jsxs("div",{className:"text-center text-sm text-gray-600 pt-4 border-t",children:[u.jsx("p",{children:"Terima kasih atas kunjungan Anda"}),u.jsx("p",{children:"Barang yang sudah dibeli tidak dapat ditukar"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-6",children:[u.jsxs("button",{onClick:ot,className:"flex-1 btn btn-primary",children:[u.jsx(n2,{size:20}),"Print Struk"]}),u.jsx("button",{onClick:()=>h(!1),className:"flex-1 btn btn-secondary",children:"Tutup"})]})]})]})}function Vh({children:a,onClose:n,title:i}){return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:i}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),u.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:a})]})})}const aT="modulepreload",sT=function(a){return"/"+a},Ob={},kc=function(n,i,o){let c=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));c=Promise.allSettled(i.map(p=>{if(p=sT(p),p in Ob)return;Ob[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":aT,m||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),m)return new Promise((y,x)=>{w.addEventListener("load",y),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return c.then(f=>{for(const h of f||[])h.status==="rejected"&&d(h.reason);return n().catch(d)})};var kn;(function(a){a.Aztec="AZTEC",a.Codabar="CODABAR",a.Code39="CODE_39",a.Code93="CODE_93",a.Code128="CODE_128",a.DataMatrix="DATA_MATRIX",a.Ean8="EAN_8",a.Ean13="EAN_13",a.Itf="ITF",a.Pdf417="PDF_417",a.QrCode="QR_CODE",a.UpcA="UPC_A",a.UpcE="UPC_E"})(kn||(kn={}));var Ub;(function(a){a.CalendarEvent="CALENDAR_EVENT",a.ContactInfo="CONTACT_INFO",a.DriversLicense="DRIVERS_LICENSE",a.Email="EMAIL",a.Geo="GEO",a.Isbn="ISBN",a.Phone="PHONE",a.Product="PRODUCT",a.Sms="SMS",a.Text="TEXT",a.Url="URL",a.Wifi="WIFI",a.Unknown="UNKNOWN"})(Ub||(Ub={}));var zb;(function(a){a[a["640x480"]=0]="640x480",a[a["1280x720"]=1]="1280x720",a[a["1920x1080"]=2]="1920x1080",a[a["3840x2160"]=3]="3840x2160"})(zb||(zb={}));var Lb;(function(a){a.Front="FRONT",a.Back="BACK"})(Lb||(Lb={}));var Qb;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.PENDING=1]="PENDING",a[a.DOWNLOADING=2]="DOWNLOADING",a[a.CANCELED=3]="CANCELED",a[a.COMPLETED=4]="COMPLETED",a[a.FAILED=5]="FAILED",a[a.INSTALLING=6]="INSTALLING",a[a.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(Qb||(Qb={}));var Hb;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Hb||(Hb={}));var $b;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})($b||($b={}));var qb;(function(a){a[a.FAX=0]="FAX",a[a.HOME=1]="HOME",a[a.MOBILE=2]="MOBILE",a[a.UNKNOWN=3]="UNKNOWN",a[a.WORK=4]="WORK"})(qb||(qb={}));var Gb;(function(a){a[a.OPEN=1]="OPEN",a[a.WEP=2]="WEP",a[a.WPA=3]="WPA"})(Gb||(Gb={}));const Zn=ol("BarcodeScanner",{web:()=>kc(()=>import("./web-D9CALEHO.js"),[]).then(a=>new a.BarcodeScannerWeb)});function nT({onScan:a,onClose:n}){const[i,o]=ce.useState(!1),[c,d]=ce.useState(!1),[f,h]=ce.useState(null);ce.useEffect(()=>(w(),()=>{y()}),[]);const p=async()=>{const{camera:A}=await Zn.requestPermissions();return A==="granted"||A==="limited"},m=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const A=document.getElementById("root");A&&(A.style.visibility="hidden")},v=()=>{document.body.style.background="",document.documentElement.style.background="";const A=document.getElementById("root");A&&(A.style.visibility="visible")},w=async()=>{try{if(h(null),!Et){h("Barcode scanner hanya tersedia di aplikasi Android");return}if(!await p()){h("Izin kamera diperlukan untuk scan barcode");return}m(),o(!0),await Zn.addListener("barcodeScanned",async j=>{j.barcode&&j.barcode.rawValue&&(await y(),a(j.barcode.rawValue))}),await Zn.startScan({formats:[kn.Ean13,kn.Ean8,kn.Code128,kn.Code39,kn.Code93,kn.QrCode,kn.UpcA,kn.UpcE],lensFacing:"back"})}catch(A){console.error("Scan error:",A),h("Gagal memulai scanner: "+A.message),v(),o(!1)}},y=async()=>{try{await Zn.stopScan(),await Zn.removeAllListeners(),c&&await Zn.toggleTorch()}catch(A){console.error("Stop scan error:",A)}finally{v(),o(!1),d(!1)}},x=async()=>{try{await Zn.toggleTorch(),d(!c)}catch(A){console.error("Torch error:",A)}},g=async()=>{await y(),n()};return f?u.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:f}),u.jsx("button",{onClick:g,className:"btn btn-primary",children:"Tutup"})]})}):u.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent",pointerEvents:"auto"},children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[u.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-blue-500 rounded-tl-xl"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-blue-500 rounded-tr-xl"}),u.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-blue-500 rounded-bl-xl"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-blue-500 rounded-br-xl"}),u.jsx("div",{className:"absolute left-4 right-4 h-1 bg-blue-500 rounded scanning-line"})]})}),u.jsxs("div",{className:"absolute top-16 left-0 right-0 text-center pointer-events-none",children:[u.jsx("p",{className:"text-white text-xl font-semibold drop-shadow-lg",children:"Arahkan kamera ke barcode"}),u.jsx("p",{className:"text-gray-200 text-sm mt-2 drop-shadow",children:"Scan akan otomatis berjalan"})]}),u.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[u.jsx("button",{onClick:x,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:c?u.jsx(by,{size:28,className:"text-yellow-400"}):u.jsx(wy,{size:28,className:"text-white"})}),u.jsx("button",{onClick:g,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:u.jsx(Bs,{size:30,className:"text-white"})})]}),!i&&u.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-white text-lg",children:"Memulai kamera..."})]})}),u.jsx("style",{children:`
        .scanning-line {
          animation: scan 2s ease-in-out infinite;
        }
        @keyframes scan {
          0%, 100% { top: 10%; }
          50% { top: 85%; }
        }
      `})]})}var Z=null,t=0,r=[],e={};const qo=Math.abs,xr=Math.ceil,Yb=Math.floor,un=Math.log,l1=Math.pow,Si=Math.round,nu=Math.sqrt;function s(a){if(arguments.length){if(!(a instanceof Array)){a=new Array(+arguments[0]);for(var n=0,i=a.length;n<i;n++)a[n]=null}}else{for(var n=t-1;n>=0&&r[n]!==1/0;n--);if(n<0)throw new Error("array-marker-not-found");a=r.splice(n+1,t-1-n),t=n}return a.b=a,a.o=0,a}function Pe(){for(var a=t-1;a>=0&&r[a]!==1/0;a-=2)if(r[a-1]===1/0)throw new Error("dict-malformed-stack");if(a<0)throw new Error("dict-marker-not-found");for(var n=new Map,i=a+1;i<t;i+=2){var o=r[i],c=typeof o;if(c=="number"||c=="string")n.set(o,r[i+1]);else if(o instanceof Uint8Array)n.set(Sn(o),r[i+1]);else throw new Error("dict-not-a-valid-key("+o+")")}return t=a,n}function X(a){var n=typeof a;if(n==="number")return new Uint8Array(a);n!=="string"&&(a=""+a);for(var i=new Uint8Array(a.length),o=0,c=a.length;o<c;o++)i[o]=a.charCodeAt(o);return i}function Ea(a,n){if(t<a)throw new Error("roll: --stack-underflow--");if(n){if(n<0)var i=r.splice(t-a,-n);else var i=r.splice(t-a,a-n);r.splice.apply(r,[t-i.length,0].concat(i))}}function Sn(a){return a instanceof Uint8Array?String.fromCharCode.apply(null,a):""+a}function _r(a,n){if(typeof a=="string"&&(a=X(a)),n instanceof Uint8Array)for(var i=0,o=n.length;i<o;i++)a[i]=n[i];else for(var i=0,o=n.length;i<o;i++)a[i]=n.charCodeAt(i);return n.length<a.length?a.subarray(0,n.length):a}function cc(a,n){for(var i=0,o=n.length;i<o;i++)a[i]=n[i];return a.length=n.length,a}function Ce(a){return a instanceof Uint8Array?Yb(String.fromCharCode.apply(null,a).replace(/\0+$/,"")):Yb(""+a)}function qt(a,n,i){return _r(a,(~~n).toString(i).toUpperCase())}function l(a,n){return a instanceof Uint8Array?a[n]:typeof a=="string"?a.charCodeAt(n):a instanceof Array?a.b[a.o+n]:(n instanceof Uint8Array&&(n=Sn(n)),a instanceof Map?a.get(n):a[n])}function b(a,n,i){if(a instanceof Uint8Array)a[n]=i;else if(a instanceof Array)a.b[a.o+n]=i;else if(typeof a=="object")n instanceof Uint8Array?a.set(Sn(n),i):a.set(n,i);else throw new Error("put-not-writable-"+typeof a)}function N(a,n,i){if(a instanceof Uint8Array)return a.subarray(n,n+i);if(a instanceof Array){var o=new Array(i);return o.b=a.b,o.o=a.o+n,o}return a.substr(n,i)}function R(a,n,i){if(a instanceof Uint8Array)if(typeof i=="string")for(var o=0,c=i.length;o<c;o++)a[n+o]=i.charCodeAt(o);else for(var o=i.length-1;o>=0;o--)a[n+o]=i[o];else if(a instanceof Array)for(var d=a.b,f=n+a.o,h=i.b,p=i.o,o=0,c=i.length;o<c;o++)d[f+o]=h[p+o];else throw new Error("putinterval-not-writable-"+typeof a)}function tn(a){if(a==null)return"nulltype";var n=typeof a;return n=="number"?a%1?"realtype":"integertype":n=="boolean"?"booleantype":n=="string"||a instanceof Uint8Array?"stringtype":n=="function"?"operatortype":a instanceof Array?"arraytype":"dicttype"}function l0(a,n){a instanceof Uint8Array||(a=X(a));var i=0,o=a.length,c=n.length;if(c==1){var d=n instanceof Uint8Array?n[0]:n.charCodeAt(0);i=a[0]==d?1:o}else if(n.length<=o)for(n instanceof Uint8Array||(n=X(n));i<c&&a[i]==n[i];i++);i==c?(r[t++]=a.subarray(c),r[t++]=a.subarray(0,c),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function Tt(a,n){a instanceof Uint8Array||(a=X(a));var i=a.length;if(n.length==1)for(var o=1,c=n instanceof Uint8Array?n[0]:n.charCodeAt(0),d=0;d<i&&a[d]!=c;d++);else{n instanceof Uint8Array||(n=X(n));for(var o=n.length,c=n[0],d=0;d<i&&a[d]!=c;d++);for(;d<i;){for(var f=1;f<o&&a[d+f]===n[f];f++);if(f===o)break;for(d++;d<i&&a[d]!=c;d++);}}d<i?(r[t++]=a.subarray(d+o),r[t++]=a.subarray(d,d+o),r[t++]=a.subarray(0,d),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function ve(a,n){if(a instanceof Uint8Array)for(var i=0,o=a.length;i<o&&(r[t++]=a[i],!(n&&n()));i++);else if(a instanceof Array)for(var c=a.b,i=a.o,o=a.o+a.length;i<o&&(r[t++]=c[i],!(n&&n()));i++);else if(typeof a=="string")for(var i=0,o=a.length;i<o&&(r[t++]=a.charCodeAt(i),!(n&&n()));i++);else if(a instanceof Map)for(var d=a.keys(),i=0,o=a.size;i<o;i++){var f=d.next().value;if(r[t++]=f,r[t++]=a.get(f),n&&n())break}else for(var f in a)if(r[t++]=f,r[t++]=a[f],n&&n())break}function Ko(){for(;t>0&&r[--t]!==1/0;);}function ga(){for(var a=t-1;a>=0&&r[a]!==1/0;a--);return t-a-1}function U(a){for(var n=0,i=a.length,o=a.b,c=a.o;n<i;n++)r[t++]=o[c+n]}function Kt(a){for(var n=0,i=a.length,o=a.b,c=a.o+i-1;n<i;n++)o[c-n]=r[--t];r[t++]=a}function V(a,n){if(typeof a=="string"&&typeof n=="string")return a==n;if(a instanceof Uint8Array&&n instanceof Uint8Array){if(a.length!=n.length)return!1;for(var i=0,o=a.length;i<o;i++)if(a[i]!=n[i])return!1;return!0}return(a instanceof Uint8Array&&typeof n=="string"||n instanceof Uint8Array&&typeof a=="string")&&(a instanceof Uint8Array?a=Sn(a):n=Sn(n)),a==n}function Ee(a,n){return!V(a,n)}function hn(a,n){return a instanceof Uint8Array&&(a=Sn(a)),n instanceof Uint8Array&&(n=Sn(n)),a<n}function dc(a,n){return a instanceof Uint8Array&&(a=Sn(a)),n instanceof Uint8Array&&(n=Sn(n)),a<=n}function Bi(a,n){return a instanceof Uint8Array&&(a=Sn(a)),n instanceof Uint8Array&&(n=Sn(n)),a>n}function qn(a,n){return a instanceof Uint8Array&&(a=Sn(a)),n instanceof Uint8Array&&(n=Sn(n)),a>=n}function co(a,n){return typeof a=="boolean"?a&&n:a&n}function iT(a,n){return typeof a=="boolean"?a||n:a|n}function hs(a,n){return typeof a=="boolean"?a!=n:a^n}var S=function(a){return n=>(n|0)==n?n:(a[0]=n,a[0])}(new Float32Array(1));function z(){var a=r[--t],n=r[--t];if(typeof a=="string"||a instanceof Uint8Array)throw new Error(Sn(n)+": "+Sn(a));throw r[t++]=a,Sn(n)+`
Additional information: `+i(a);function i(o){if(o instanceof Array){let c="";for(let d=o.o,f=o.o+o.length;d<f;d++)c+=" "+i(o.b[d]);return"["+c.substr(1)+"]"}else{if(o instanceof Uint8Array)return String.fromCharCode.apply(String,o);if(o instanceof Map){let c="";for(const[d,f]of o)c+=" "+i(d)+" "+i(f);return"<<"+c.substr(1)+">>"}else if(o&&typeof o=="object"){let c="";for(let d in o)c+=" "+i(d)+" "+i(o[d]);return"<<"+c.substr(1)+">>"}else return""+o}}}function qe(){var a=r[--t],n=r[t-1];if(n instanceof Uint8Array&&(n=Sn(n)),typeof n=="string"){let f=n.trim().split(/ +/g);r[t-1]=n=new Map;for(let h=0;h<f.length;h++){let p=f[h].split("=");p.length==1?n.set(p[0],!0):n.set(p[0],p[1])}}for(var i in a){var o;if(n.has(i)){o=n.get(i);var c=a[i],d=typeof c;if(c==null||d=="number"){if(!isFinite(+o))throw new Error("bwipp.invalidOptionType: "+i+": not a realtype: "+o);typeof o=="string"&&(o=+o,n.set(i,o))}else if(d=="boolean"){if(o!==!0&&o!==!1){if(o==null||(o|0)===o)o=!!o;else if(o=="true")o=!0;else if(o=="false")o=!1;else throw new Error("bwipp.invalidOptionType: "+i+": not a booleantype: "+o);n.set(i,o)}}else if(d=="string"||c instanceof Uint8Array){if(typeof o=="number")o=""+o,n.set(i,o);else if((i==="extratext"||i==="alttext")&&typeof o=="string")o=X(o),n.set(i,o);else if(typeof o!="string"&&!(o instanceof Uint8Array))throw new Error("bwipp.invalidOptionType: "+i+": not a stringtype: "+o)}a[i]=o}}}function is(){var a=e;e=Object.assign({},e),e.fncvals=r[--t],e.barcode=r[--t];var n="parse";e[n]=l(e.fncvals,n),delete e.fncvals[n];var i="parsefnc";e[i]=l(e.fncvals,i),delete e.fncvals[i];var o="parseonly",c=l(e.fncvals,o)!==void 0;e[o]=c,delete e.fncvals[o];var d="eci",f=l(e.fncvals,d)!==void 0;e[d]=f,delete e.fncvals[d],r[t++]=1/0;var h=s(["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","","","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US"]);r[t++]=0;for(var p=0,m=h.length;p<m;p++){var v=r[--t];r[t++]=l(h,p),r[t++]=v,r[t++]=v+1}for(t--,e.ctrl=Pe(),e.msg=s(e.barcode.length),e.j=0,r[t++]=e.barcode;;){Tt(r[--t],"^");var w=r[--t],y=r[--t];r[t++]=w,r[t++]=y.length,r[t++]=e.msg,r[t++]=e.j;var x=1/0,g=y;r[t++]=x,ve(g);var A=s(),j=r[--t];if(R(r[--t],j,A),e.j=S(r[--t]+e.j),r[--t]){t--;for(var C=0;C<1;C++){if(!e.parse&&!e.parsefnc){b(e.msg,e.j,94),e.j=e.j+1;break}if(b(e.msg,e.j,94),e.j=e.j+1,e.parse){var k=r[t-1];if(k.length>=3){var E=r[t-1],B=N(E,0,3),I=e.ctrl,D=l(I,B)!==void 0;if(r[t++]=I,r[t++]=B,D){e.j=e.j-1;var M=r[--t];b(e.msg,e.j,l(r[--t],M)),e.j=e.j+1;var T=r[--t];r[t++]=N(T,3,T.length-3);break}else t-=2}var H=r[t-1];if(H.length>=2){var _=r[t-1],F=N(_,0,2),Q=e.ctrl,L=l(Q,F)!==void 0;if(r[t++]=Q,r[t++]=F,L){e.j=e.j-1;var ee=r[--t];b(e.msg,e.j,l(r[--t],ee)),e.j=e.j+1;var se=r[--t];r[t++]=N(se,2,se.length-2);break}else t-=2}var ue=r[t-1];if(ue.length>=3){var W=r[t-1],G=N(W,0,3);r[t++]=!0;for(var ne=0,de=G.length;ne<de;ne++){var te=l(G,ne);(te<48||te>57)&&(r[t-1]=!1)}if(r[--t]){var ae=r[t-1],ie=Ce(N(ae,0,3));r[t++]=ie,ie>255&&(t-=2,r[t++]="bwipp.invalidOrdinal#282",r[t++]="Ordinal must be 000 to 255",z()),e.j=e.j-1,b(e.msg,e.j,r[--t]),e.j=e.j+1;var oe=r[--t];r[t++]=N(oe,3,oe.length-3)}}}if(e.parseonly||!e.parsefnc||l(e.msg,e.j-1)!=94)break;e.j=e.j-1;var De=r[t-1];De.length<1&&(t--,r[t++]="bwipp.truncatedCaret#301",r[t++]="Caret character truncated",z());var Ne=r[t-1];if(l(Ne,0)==94){b(e.msg,e.j,94),e.j=e.j+1;var Le=r[--t];r[t++]=N(Le,1,Le.length-1);break}var Te=r[t-1];Te.length<3&&(t--,r[t++]="bwipp.truncatedFNC#311",r[t++]="Function character truncated",z());var Ve=r[t-1];if(V(N(Ve,0,3),"ECI")&&e.eci){var Qe=r[t-1];Qe.length<9&&(t--,r[t++]="bwipp.truncatedECI#316",r[t++]="ECI truncated",z());var ot=r[t-1],Ze=N(ot,3,6);r[t++]=Ze;for(var Fe=0,Ke=Ze.length;Fe<Ke;Fe++){var Je=l(Ze,Fe);(Je<48||Je>57)&&(t-=2,r[t++]="bwipp.invalidECI#322",r[t++]="ECI must be 000000 to 999999",z())}var rt=r[--t];r[t++]=0,ve(rt,function(){var jt=r[--t],wt=r[--t];r[t++]=S(wt-(jt-48))*10}),b(e.msg,e.j,~~(r[--t]/10)-1e6),e.j=e.j+1;var Xe=r[--t];r[t++]=N(Xe,9,Xe.length-9);break}var Se=r[t-1];Se.length<4&&(t--,r[t++]="bwipp.truncatedFNC#333",r[t++]="Function character truncated",z());var pe=r[t-1],Ie=N(pe,0,4),Me=l(e.fncvals,Ie)!==void 0;if(r[t++]=Ie,!Me){var Re=r[--t],Ye=X(Re.length+28);R(Ye,28,Re),R(Ye,0,"Unknown function character: "),r[t-1]=Ye;var ze=r[--t];r[t++]="bwipp.unknownFNC#339",r[t++]=ze,z()}b(e.msg,e.j,l(e.fncvals,r[--t])),e.j=e.j+1;var mt=r[--t];r[t++]=N(mt,4,mt.length-4);break}}else break}if(!e.parseonly)r[t++]=N(e.msg,0,e.j);else{r[t++]=X(e.j);for(var lt=0,ht=e.j-1;lt<=ht;lt+=1){var yt=r[t-1];b(yt,lt,l(e.msg,lt))}}e=a}function Ds(){var a=e;e=Object.assign({},e);var n=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),i=s([n]),o=s([]),c=new Map([["parts",i],["dlpkey",o]]),d=s(["lintcsum","lintgcppos2"]),f=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",d]]),h=s([f]),p=s(["255","37"]),m=s(["22","10","21"]),v=s(["235"]),w=s([m,v]),y=new Map([["parts",h],["ex",p],["dlpkey",w]]),x=s(["lintcsum","lintgcppos2"]),g=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",x]]),A=s([g]),j=s(["01","03"]),C=s(["37"]),k=s([C]),E=s([k]),B=new Map([["parts",A],["ex",j],["req",E]]),I=s(["lintcsum","lintgcppos2"]),D=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",I]]),M=s([D]),T=s(["01","02","37"]),H=new Map([["parts",M],["ex",T],["dlattr",!1]]),_=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),F=new Map([["parts",s([_])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),Q=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),L=new Map([["parts",s([Q])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),ee=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),se=s([s([s(["8020"])])]),ue=new Map([["parts",s([ee])],["req",se]]),W=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),G=new Map([["parts",s([W])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),ne=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),de=new Map([["parts",s([ne])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["255"]),s(["8006"]),s(["8026"])])])]]),te=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s([])]]),ae=new Map([["parts",s([te])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),ie=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),oe=new Map([["parts",s([ie])],["ex",s(["235"])],["req",s([s([s(["01"]),s(["03"]),s(["8006"])])])],["dlattr",!1]]),De=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Ne=new Map([["parts",s([De])],["req",s([s([s(["01"])])])],["dlattr",!1]]),Le=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),Te=new Map([["parts",s([Le])],["req",s([s([s(["01"])])])],["dlattr",!1]]),Ve=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Qe=new Map([["parts",s([Ve])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),ot=new Map([["cset","N"],["min",1],["max",6],["opt",!1],["linters",s([])]]),Ze=new Map([["parts",s([ot])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Fe=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Ke=new Map([["parts",s([Fe])],["req",s([s([s(["01"])])])]]),Je=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),rt=new Map([["parts",s([Je])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["21"])])])]]),Xe=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Se=new Map([["parts",s([Xe])],["req",s([s([s(["01"]),s(["8006"])])])]]),pe=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),Ie=new Map([["cset","X"],["min",1],["max",17],["opt",!0],["linters",s([])]]),Me=new Map([["parts",s([pe,Ie])],["dlpkey",s([])]]),Re=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Ye=new Map([["parts",s([Re])],["req",s([s([s(["414"])])])],["dlattr",!1]]),ze=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),mt=new Map([["cset","N"],["min",1],["max",12],["opt",!0],["linters",s([])]]),lt=new Map([["parts",s([ze,mt])],["ex",s(["01","02","415","8006","8020","8026"])],["dlpkey",s([])]]),ht=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),yt=new Map([["parts",s([ht])],["req",s([s([s(["01"]),s(["02"])])])]]),jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),wt=new Map([["parts",s([jt])],["ex",s(["310n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Dt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ct=new Map([["parts",s([Dt])],["ex",s(["311n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ut=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),It=new Map([["parts",s([Ut])],["ex",s(["312n"])],["req",s([s([s(["01"]),s(["02"])])])]]),kt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),P=new Map([["parts",s([kt])],["ex",s(["313n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Y=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),q=new Map([["parts",s([Y])],["ex",s(["314n"])],["req",s([s([s(["01"]),s(["02"])])])]]),O=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),$=new Map([["parts",s([O])],["ex",s(["315n"])],["req",s([s([s(["01"]),s(["02"])])])]]),le=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),K=new Map([["parts",s([le])],["ex",s(["316n"])],["req",s([s([s(["01"]),s(["02"])])])]]),be=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),J=new Map([["parts",s([be])],["ex",s(["320n"])],["req",s([s([s(["01"]),s(["02"])])])]]),fe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),me=new Map([["parts",s([fe])],["ex",s(["321n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),re=new Map([["parts",s([ge])],["ex",s(["322n"])],["req",s([s([s(["01"]),s(["02"])])])]]),xe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ke=new Map([["parts",s([xe])],["ex",s(["323n"])],["req",s([s([s(["01"]),s(["02"])])])]]),he=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ae=new Map([["parts",s([he])],["ex",s(["324n"])],["req",s([s([s(["01"]),s(["02"])])])]]),we=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),je=new Map([["parts",s([we])],["ex",s(["325n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Oe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),_e=new Map([["parts",s([Oe])],["ex",s(["326n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),st=new Map([["parts",s([Ge])],["ex",s(["327n"])],["req",s([s([s(["01"]),s(["02"])])])]]),at=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ye=new Map([["parts",s([at])],["ex",s(["328n"])],["req",s([s([s(["01"]),s(["02"])])])]]),He=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ue=new Map([["parts",s([He])],["ex",s(["329n"])],["req",s([s([s(["01"]),s(["02"])])])]]),We=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),pt=new Map([["parts",s([We])],["ex",s(["330n"])],["req",s([s([s(["00"]),s(["01"])])])]]),vt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ft=new Map([["parts",s([vt])],["ex",s(["331n"])],["req",s([s([s(["00"]),s(["01"])])])]]),gt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nt=new Map([["parts",s([gt])],["ex",s(["332n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ft=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),et=new Map([["parts",s([Ft])],["ex",s(["333n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ht=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),$t=new Map([["parts",s([Ht])],["ex",s(["334n"])],["req",s([s([s(["00"]),s(["01"])])])]]),zt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nr=new Map([["parts",s([zt])],["ex",s(["335n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ir=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ir=new Map([["parts",s([Ir])],["ex",s(["336n"])],["req",s([s([s(["00"]),s(["01"])])])]]),br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),sr=new Map([["parts",s([br])],["ex",s(["337n"])],["req",s([s([s(["01"])])])]]),Dr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),er=new Map([["parts",s([Dr])],["ex",s(["340n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ur=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Wt=new Map([["parts",s([ur])],["ex",s(["341n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Xt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),fr=new Map([["parts",s([Xt])],["ex",s(["342n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Tr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Pr=new Map([["parts",s([Tr])],["ex",s(["343n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ha=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Rt=new Map([["parts",s([ha])],["ex",s(["344n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Yt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),rr=new Map([["parts",s([Yt])],["ex",s(["345n"])],["req",s([s([s(["00"]),s(["01"])])])]]),wr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),or=new Map([["parts",s([wr])],["ex",s(["346n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Rr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),lr=new Map([["parts",s([Rr])],["ex",s(["347n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Lt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),yr=new Map([["parts",s([Lt])],["ex",s(["348n"])],["req",s([s([s(["00"]),s(["01"])])])]]),aa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),pa=new Map([["parts",s([aa])],["ex",s(["349n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Aa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Qr=new Map([["parts",s([Aa])],["ex",s(["350n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ca=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ba=new Map([["parts",s([Ca])],["ex",s(["351n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ma=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),da=new Map([["parts",s([Ma])],["ex",s(["352n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ka=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ia=new Map([["parts",s([ka])],["ex",s(["353n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ja=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Qa=new Map([["parts",s([ja])],["ex",s(["354n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ha=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ka=new Map([["parts",s([Ha])],["ex",s(["355n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ms=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ba=new Map([["parts",s([ms])],["ex",s(["356n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Rs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),$a=new Map([["parts",s([Rs])],["ex",s(["357n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Qs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Fa=new Map([["parts",s([Qs])],["ex",s(["360n"])],["req",s([s([s(["01"]),s(["02"])])])]]),vs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ts=new Map([["parts",s([vs])],["ex",s(["361n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ms=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Wa=new Map([["parts",s([Ms])],["ex",s(["362n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Hs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ja=new Map([["parts",s([Hs])],["ex",s(["363n"])],["req",s([s([s(["00"]),s(["01"])])])]]),xs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),_a=new Map([["parts",s([xs])],["ex",s(["364n"])],["req",s([s([s(["01"]),s(["02"])])])]]),mn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),qa=new Map([["parts",s([mn])],["ex",s(["365n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Nn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Da=new Map([["parts",s([Nn])],["ex",s(["366n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Js=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Pa=new Map([["parts",s([Js])],["ex",s(["367n"])],["req",s([s([s(["00"]),s(["01"])])])]]),rn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),os=new Map([["parts",s([rn])],["ex",s(["368n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Zt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ea=new Map([["parts",s([Zt])],["ex",s(["369n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Sa=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),Oa=new Map([["parts",s([Sa])],["req",s([s([s(["00"])]),s([s(["02"]),s(["8026"])])])]]),gs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Hr=new Map([["parts",s([gs])],["ex",s(["390n","391n","394n","8111"])],["req",s([s([s(["255"]),s(["8020"])])])]]),ls=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),bs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ua=new Map([["parts",s([ls,bs])],["ex",s(["391n"])],["req",s([s([s(["8020"])])])]]),Cn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ra=new Map([["parts",s([Cn])],["ex",s(["392n","393n"])],["req",s([s([s(["01"])]),s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),u1=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),$s=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ta=new Map([["parts",s([u1,$s])],["ex",s(["393n"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),In=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),Xa=new Map([["parts",s([In])],["ex",s(["394n","8111"])],["req",s([s([s(["255"])])])]]),Bn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ws=new Map([["parts",s([Bn])],["ex",s(["392n","393n","395n","8005"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),an=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),sn=new Map([["parts",s([an])]]),Jn=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),At=new Map([["parts",s([Jn])],["dlpkey",s([])]]),Kr=new Map([["cset","N"],["min",17],["max",17],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),sa=new Map([["parts",s([Kr])],["dlpkey",s([])]]),za=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),ua=new Map([["parts",s([za])],["req",s([s([s(["00"])])])]]),Za=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ys=new Map([["parts",s([Za])]]),vn=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),dt=new Map([["parts",s([vn])],["dlpkey",s([s(["254"]),s(["7040"])])]]),St=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),pr=new Map([["parts",s([St])],["req",s([s([s(["8020"])])])],["dlpkey",s([s(["8020"])])]]),cr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),hr=new Map([["parts",s([cr])]]),Mr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),dr=new Map([["parts",s([Mr])],["dlpkey",s([s(["7040"])])]]),na=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),$r=new Map([["parts",s([na])],["ex",s(["421"])]]),qr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Gr=new Map([["cset","X"],["min",1],["max",9],["opt",!1],["linters",s([])]]),Wr=new Map([["parts",s([qr,Gr])],["ex",s(["4307"])]]),ma=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),ta=new Map([["parts",s([ma])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Yr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),ia=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Fr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Or=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),La=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),wa=new Map([["parts",s([Yr,ia,Fr,Or,La])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),cs=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Ns=new Map([["parts",s([cs])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),nn=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Fs=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ar=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Ar=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Cr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ra=new Map([["parts",s([nn,Fs,ar,Ar,Cr])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ur=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),oa=new Map([["parts",s([Ur])],["req",s([s([s(["01"]),s(["02"])])])]]),Jr=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),es=new Map([["parts",s([Jr])],["req",s([s([s(["01"]),s(["02"])]),s([s(["422"])])])]]),ts=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),qs=new Map([["parts",s([ts])],["req",s([s([s(["00"])])])]]),xn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Dn=new Map([["parts",s([xn])],["req",s([s([s(["00"])])])]]),Un=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),zn=new Map([["parts",s([Un])],["req",s([s([s(["4302"])])])]]),gn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),f1=new Map([["parts",s([gn])],["req",s([s([s(["00"])])])]]),Ln=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),h1=new Map([["parts",s([Ln])],["req",s([s([s(["00"])])])]]),Z1=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),p1=new Map([["parts",s([Z1])],["req",s([s([s(["00"])])])]]),ei=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlatitude"])]]),ti=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlongitude"])]]),$e=new Map([["parts",s([ei,ti])],["req",s([s([s(["00"])])])]]),bt=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),mr=new Map([["parts",s([bt])],["req",s([s([s(["00"])])])]]),Er=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),va=new Map([["parts",s([Er])],["req",s([s([s(["00"])])])]]),rs=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),as=new Map([["parts",s([rs])],["req",s([s([s(["4312"])])])]]),Cs=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),on=new Map([["parts",s([Cs])],["req",s([s([s(["00"])])])]]),bn=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),F1=new Map([["parts",s([bn])],["req",s([s([s(["00"])])])]]),_1=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Qn=new Map([["parts",s([_1])],["req",s([s([s(["00"])])])]]),P1=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Ao=new Map([["parts",s([P1])],["req",s([s([s(["00"])])])]]),Li=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),ut=new Map([["parts",s([Li])],["req",s([s([s(["00"])])])]]),Gt=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintyesno"])]]),zr=new Map([["parts",s([Gt])],["req",s([s([s(["00"])])])]]),it=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),Pt=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Vt=new Map([["parts",s([it,Pt])],["req",s([s([s(["00"])])])]]),Jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Xr=new Map([["parts",s([Jt])],["req",s([s([s(["00"])])])]]),ya=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),xa=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),ds=new Map([["parts",s([ya,xa])],["ex",s(["4331"])],["req",s([s([s(["00"])])])]]),Gs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ln=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),cn=new Map([["parts",s([Gs,ln])],["ex",s(["4330"])],["req",s([s([s(["00"])])])]]),Hn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),bi=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),ri=new Map([["parts",s([Hn,bi])],["ex",s(["4333"])],["req",s([s([s(["00"])])])]]),O1=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),wi=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),ai=new Map([["parts",s([O1,wi])],["ex",s(["4332"])],["req",s([s([s(["00"])])])]]),Qi=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s([])]]),yi=new Map([["parts",s([Qi])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Nc=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Cc=new Map([["parts",s([Nc])],["req",s([s([s(["01"]),s(["02"])])])]]),cl=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),ko=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Ic=new Map([["parts",s([cl,ko])],["req",s([s([s(["01"]),s(["02"])])])]]),Bc=new Map([["cset","N"],["min",1],["max",4],["opt",!1],["linters",s([])]]),Dc=new Map([["parts",s([Bc])],["req",s([s([s(["01"])]),s([s(["10"])])])]]),Rc=new Map([["cset","X"],["min",1],["max",12],["opt",!1],["linters",s([])]]),Tc=new Map([["parts",s([Rc])],["req",s([s([s(["01"]),s(["02"])])])]]),Mc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Fc=new Map([["parts",s([Mc])],["req",s([s([s(["01"]),s(["02"])])])]]),_c=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Pc=new Map([["cset","N"],["min",6],["max",6],["opt",!0],["linters",s(["lintyymmdd"])]]),Oc=new Map([["parts",s([_c,Pc])],["req",s([s([s(["01"]),s(["02"])])])]]),dl=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),jo=new Map([["parts",s([dl])],["req",s([s([s(["01"]),s(["02"])])])]]),Uc=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),zc=new Map([["parts",s([Uc])],["req",s([s([s(["01"]),s(["02"])])])]]),ul=new Map([["cset","X"],["min",1],["max",2],["opt",!1],["linters",s([])]]),So=new Map([["parts",s([ul])],["req",s([s([s(["01"]),s(["02"])])])]]),Lc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Qc=new Map([["cset","N"],["min",4],["max",4],["opt",!0],["linters",s(["linthhmi"])]]),fl=new Map([["parts",s([Lc,Qc])],["req",s([s([s(["01"]),s(["02"])])])]]),Eo=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Hc=new Map([["parts",s([Eo])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["416"])])])]]),$c=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),hl=new Map([["parts",s([$c])],["req",s([s([s(["01"]),s(["8006"])])])]]),No=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),qc=new Map([["parts",s([No])],["req",s([s([s(["7021"])])])]]),pl=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),Hi=new Map([["parts",s([pl])]]),Co=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166999"])]]),Gc=new Map([["cset","X"],["min",1],["max",27],["opt",!1],["linters",s([])]]),$n=new Map([["parts",s([Co,Gc])],["req",s([s([s(["01"]),s(["02"])])])]]),Yc=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),qu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),Gu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),v2=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s(["lintimporteridx"])]]),Vc=new Map([["parts",s([Yc,qu,Gu,v2])],["dlattr",!1]]),Yu=new Map([["cset","X"],["min",1],["max",4],["opt",!1],["linters",s(["lintpackagetype"])]]),Vu=new Map([["parts",s([Yu])],["req",s([s([s(["00"])])])],["dlattr",!1]]),x2=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),U1=new Map([["parts",s([x2])],["req",s([s([s(["01"])])])]]),Ku=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s([])]]),Wu=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),m1=new Map([["parts",s([Ku,Wu])],["req",s([s([s(["01"]),s(["8004"])])])]]),Kc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Ju=new Map([["parts",s([Kc])],["req",s([s([s(["01"]),s(["8006"])])])]]),Xu=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["lintmediatype"])]]),g2=new Map([["parts",s([Xu])],["req",s([s([s(["8017"]),s(["8018"])])])]]),Wc=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),Zu=new Map([["parts",s([Wc])],["req",s([s([s(["8017"]),s(["8018"])])])]]),ef=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),vA=new Map([["parts",s([ef])],["ex",s(["7251"])],["req",s([s([s(["8018"])])])]]),xA=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),gA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),bA=new Map([["parts",s([xA,gA])],["ex",s(["7250"])],["req",s([s([s(["8018"])])])]]),wA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintiso5218"])]]),yA=new Map([["parts",s([wA])],["req",s([s([s(["8018"])])])]]),AA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),Wm=new Map([["parts",s([AA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),kA=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),jA=new Map([["parts",s([kA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),SA=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s(["lintpcenc"])]]),EA=new Map([["parts",s([SA])],["req",s([s([s(["8017"]),s(["8018"])])])]]),NA=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),CA=new Map([["parts",s([NA])],["req",s([s([s(["8018"])])])]]),IA=new Map([["cset","X"],["min",3],["max",3],["opt",!1],["linters",s(["lintposinseqslash"])]]),BA=new Map([["parts",s([IA])],["req",s([s([s(["8018","7259"])])])]]),DA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),RA=new Map([["parts",s([DA])],["ex",s(["7256"])],["req",s([s([s(["8018"])])])]]),TA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintnonzero"])]]),MA=new Map([["cset","N"],["min",5],["max",5],["opt",!1],["linters",s(["lintnonzero"])]]),FA=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintnonzero"])]]),_A=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintwinding"])]]),PA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),OA=new Map([["parts",s([TA,MA,FA,_A,PA])],["req",s([s([s(["01"])])])]]),UA=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),zA=new Map([["parts",s([UA])]]),LA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintzero"])]]),QA=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),HA=new Map([["cset","X"],["min",1],["max",16],["opt",!0],["linters",s([])]]),$A=new Map([["parts",s([LA,QA,HA])],["dlpkey",s([])]]),qA=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),GA=new Map([["parts",s([qA])],["dlpkey",s([s(["7040"])])]]),YA=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),VA=new Map([["parts",s([YA])],["req",s([s([s(["01"]),s(["02"])])])]]),KA=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),WA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),JA=new Map([["parts",s([KA,WA])],["ex",s(["01","37"])],["dlpkey",s([s(["22","10","21"])])]]),XA=new Map([["cset","X"],["min",1],["max",34],["opt",!1],["linters",s(["lintiban"])]]),ZA=new Map([["parts",s([XA])],["req",s([s([s(["415"])])])]]),e9=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),t9=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["linthh"])]]),r9=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintmi"])]]),a9=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintss"])]]),s9=new Map([["parts",s([e9,t9,r9,a9])],["req",s([s([s(["01"]),s(["02"])])])]]),n9=new Map([["cset","X"],["min",1],["max",50],["opt",!1],["linters",s([])]]),i9=new Map([["parts",s([n9])],["req",s([s([s(["00"]),s(["01"])])])]]),o9=new Map([["cset","Y"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),l9=new Map([["parts",s([o9])],["dlpkey",s([s(["8011"])])]]),c9=new Map([["cset","N"],["min",1],["max",12],["opt",!1],["linters",s(["lintnozeroprefix"])]]),d9=new Map([["parts",s([c9])],["req",s([s([s(["8010"])])])],["dlattr",!1]]),u9=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),f9=new Map([["parts",s([u9])],["req",s([s([s(["01"]),s(["8006"])])])]]),h9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1"])]]),p9=new Map([["parts",s([h9])],["dlpkey",s([])]]),m9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1","linthasnondigit"])]]),v9=new Map([["parts",s([m9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),x9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),g9=new Map([["parts",s([x9])],["ex",s(["8018"])],["dlpkey",s([s(["8019"])])]]),b9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),w9=new Map([["parts",s([b9])],["ex",s(["8017"])],["dlpkey",s([s(["8019"])])]]),y9=new Map([["cset","N"],["min",1],["max",10],["opt",!1],["linters",s([])]]),A9=new Map([["parts",s([y9])],["req",s([s([s(["8017"]),s(["8018"])])])],["dlattr",!1]]),k9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),j9=new Map([["parts",s([k9])],["req",s([s([s(["415"])])])],["dlattr",!1]]),S9=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),E9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),N9=new Map([["parts",s([S9,E9])],["ex",s(["02","8006"])],["req",s([s([s(["37"])])])]]),C9=new Map([["cset","Z"],["min",1],["max",90],["opt",!1],["linters",s([])]]),I9=new Map([["parts",s([C9])],["req",s([s([s(["00"]),s(["01","21"]),s(["253"]),s(["255"]),s(["8003"]),s(["8004"]),s(["8006","21"]),s(["8010","8011"]),s(["8017"]),s(["8018"])])])]]),B9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponcode"])]]),D9=new Map([["parts",s([B9])]]),R9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),T9=new Map([["parts",s([R9])],["req",s([s([s(["255"])])])]]),M9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponposoffer"])]]),F9=new Map([["parts",s([M9])]]),_9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s([])]]),P9=new Map([["parts",s([_9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),O9=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),U9=new Map([["parts",s([O9])]]),z9=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s([])]]),Ai=new Map([["parts",s([z9])]]),L9=new Map([["00",c],["01",y],["02",B],["03",H],["10",F],["11",L],["12",ue],["13",G],["15",G],["16",G],["17",de],["20",ae],["21",oe],["22",Ne],["235",Te],["240",Qe],["241",Qe],["242",Ze],["243",Ke],["250",rt],["251",Se],["253",Me],["254",Ye],["255",lt],["30",yt],["3100",wt],["3101",wt],["3102",wt],["3103",wt],["3104",wt],["3105",wt],["3110",Ct],["3111",Ct],["3112",Ct],["3113",Ct],["3114",Ct],["3115",Ct],["3120",It],["3121",It],["3122",It],["3123",It],["3124",It],["3125",It],["3130",P],["3131",P],["3132",P],["3133",P],["3134",P],["3135",P],["3140",q],["3141",q],["3142",q],["3143",q],["3144",q],["3145",q],["3150",$],["3151",$],["3152",$],["3153",$],["3154",$],["3155",$],["3160",K],["3161",K],["3162",K],["3163",K],["3164",K],["3165",K],["3200",J],["3201",J],["3202",J],["3203",J],["3204",J],["3205",J],["3210",me],["3211",me],["3212",me],["3213",me],["3214",me],["3215",me],["3220",re],["3221",re],["3222",re],["3223",re],["3224",re],["3225",re],["3230",ke],["3231",ke],["3232",ke],["3233",ke],["3234",ke],["3235",ke],["3240",Ae],["3241",Ae],["3242",Ae],["3243",Ae],["3244",Ae],["3245",Ae],["3250",je],["3251",je],["3252",je],["3253",je],["3254",je],["3255",je],["3260",_e],["3261",_e],["3262",_e],["3263",_e],["3264",_e],["3265",_e],["3270",st],["3271",st],["3272",st],["3273",st],["3274",st],["3275",st],["3280",ye],["3281",ye],["3282",ye],["3283",ye],["3284",ye],["3285",ye],["3290",Ue],["3291",Ue],["3292",Ue],["3293",Ue],["3294",Ue],["3295",Ue],["3300",pt],["3301",pt],["3302",pt],["3303",pt],["3304",pt],["3305",pt],["3310",ft],["3311",ft],["3312",ft],["3313",ft],["3314",ft],["3315",ft],["3320",nt],["3321",nt],["3322",nt],["3323",nt],["3324",nt],["3325",nt],["3330",et],["3331",et],["3332",et],["3333",et],["3334",et],["3335",et],["3340",$t],["3341",$t],["3342",$t],["3343",$t],["3344",$t],["3345",$t],["3350",nr],["3351",nr],["3352",nr],["3353",nr],["3354",nr],["3355",nr],["3360",ir],["3361",ir],["3362",ir],["3363",ir],["3364",ir],["3365",ir],["3370",sr],["3371",sr],["3372",sr],["3373",sr],["3374",sr],["3375",sr],["3400",er],["3401",er],["3402",er],["3403",er],["3404",er],["3405",er],["3410",Wt],["3411",Wt],["3412",Wt],["3413",Wt],["3414",Wt],["3415",Wt],["3420",fr],["3421",fr],["3422",fr],["3423",fr],["3424",fr],["3425",fr],["3430",Pr],["3431",Pr],["3432",Pr],["3433",Pr],["3434",Pr],["3435",Pr],["3440",Rt],["3441",Rt],["3442",Rt],["3443",Rt],["3444",Rt],["3445",Rt],["3450",rr],["3451",rr],["3452",rr],["3453",rr],["3454",rr],["3455",rr],["3460",or],["3461",or],["3462",or],["3463",or],["3464",or],["3465",or],["3470",lr],["3471",lr],["3472",lr],["3473",lr],["3474",lr],["3475",lr],["3480",yr],["3481",yr],["3482",yr],["3483",yr],["3484",yr],["3485",yr],["3490",pa],["3491",pa],["3492",pa],["3493",pa],["3494",pa],["3495",pa],["3500",Qr],["3501",Qr],["3502",Qr],["3503",Qr],["3504",Qr],["3505",Qr],["3510",ba],["3511",ba],["3512",ba],["3513",ba],["3514",ba],["3515",ba],["3520",da],["3521",da],["3522",da],["3523",da],["3524",da],["3525",da],["3530",Ia],["3531",Ia],["3532",Ia],["3533",Ia],["3534",Ia],["3535",Ia],["3540",Qa],["3541",Qa],["3542",Qa],["3543",Qa],["3544",Qa],["3545",Qa],["3550",Ka],["3551",Ka],["3552",Ka],["3553",Ka],["3554",Ka],["3555",Ka],["3560",Ba],["3561",Ba],["3562",Ba],["3563",Ba],["3564",Ba],["3565",Ba],["3570",$a],["3571",$a],["3572",$a],["3573",$a],["3574",$a],["3575",$a],["3600",Fa],["3601",Fa],["3602",Fa],["3603",Fa],["3604",Fa],["3605",Fa],["3610",Ts],["3611",Ts],["3612",Ts],["3613",Ts],["3614",Ts],["3615",Ts],["3620",Wa],["3621",Wa],["3622",Wa],["3623",Wa],["3624",Wa],["3625",Wa],["3630",Ja],["3631",Ja],["3632",Ja],["3633",Ja],["3634",Ja],["3635",Ja],["3640",_a],["3641",_a],["3642",_a],["3643",_a],["3644",_a],["3645",_a],["3650",qa],["3651",qa],["3652",qa],["3653",qa],["3654",qa],["3655",qa],["3660",Da],["3661",Da],["3662",Da],["3663",Da],["3664",Da],["3665",Da],["3670",Pa],["3671",Pa],["3672",Pa],["3673",Pa],["3674",Pa],["3675",Pa],["3680",os],["3681",os],["3682",os],["3683",os],["3684",os],["3685",os],["3690",ea],["3691",ea],["3692",ea],["3693",ea],["3694",ea],["3695",ea],["37",Oa],["3900",Hr],["3901",Hr],["3902",Hr],["3903",Hr],["3904",Hr],["3905",Hr],["3906",Hr],["3907",Hr],["3908",Hr],["3909",Hr],["3910",Ua],["3911",Ua],["3912",Ua],["3913",Ua],["3914",Ua],["3915",Ua],["3916",Ua],["3917",Ua],["3918",Ua],["3919",Ua],["3920",Ra],["3921",Ra],["3922",Ra],["3923",Ra],["3924",Ra],["3925",Ra],["3926",Ra],["3927",Ra],["3928",Ra],["3929",Ra],["3930",Ta],["3931",Ta],["3932",Ta],["3933",Ta],["3934",Ta],["3935",Ta],["3936",Ta],["3937",Ta],["3938",Ta],["3939",Ta],["3940",Xa],["3941",Xa],["3942",Xa],["3943",Xa],["3950",ws],["3951",ws],["3952",ws],["3953",ws],["3954",ws],["3955",ws],["400",sn],["401",At],["402",sa],["403",ua],["410",ys],["411",ys],["412",ys],["413",ys],["414",dt],["415",pr],["416",hr],["417",dr],["420",$r],["421",Wr],["422",ta],["423",wa],["424",Ns],["425",ra],["426",oa],["427",es],["4300",qs],["4301",qs],["4302",Dn],["4303",zn],["4304",f1],["4305",f1],["4306",f1],["4307",h1],["4308",p1],["4309",$e],["4310",mr],["4311",mr],["4312",va],["4313",as],["4314",on],["4315",on],["4316",on],["4317",F1],["4318",Qn],["4319",Ao],["4320",ut],["4321",zr],["4322",zr],["4323",zr],["4324",Vt],["4325",Vt],["4326",Xr],["4330",ds],["4331",cn],["4332",ri],["4333",ai],["7001",yi],["7002",Cc],["7003",Ic],["7004",Dc],["7005",Tc],["7006",Fc],["7007",Oc],["7008",jo],["7009",zc],["7010",So],["7011",fl],["7020",Hc],["7021",hl],["7022",qc],["7023",Hi],["7030",$n],["7031",$n],["7032",$n],["7033",$n],["7034",$n],["7035",$n],["7036",$n],["7037",$n],["7038",$n],["7039",$n],["7040",Vc],["7041",Vu],["710",U1],["711",U1],["712",U1],["713",U1],["714",U1],["715",U1],["716",U1],["7230",m1],["7231",m1],["7232",m1],["7233",m1],["7234",m1],["7235",m1],["7236",m1],["7237",m1],["7238",m1],["7239",m1],["7240",Ju],["7241",g2],["7242",Zu],["7250",vA],["7251",bA],["7252",yA],["7253",Wm],["7254",Wm],["7255",jA],["7256",EA],["7257",CA],["7258",BA],["7259",RA],["8001",OA],["8002",zA],["8003",$A],["8004",GA],["8005",VA],["8006",JA],["8007",ZA],["8008",s9],["8009",i9],["8010",l9],["8011",d9],["8012",f9],["8013",p9],["8014",v9],["8017",g9],["8018",w9],["8019",A9],["8020",j9],["8026",N9],["8030",I9],["8110",D9],["8111",T9],["8112",F9],["8200",P9],["90",U9],["91",Ai],["92",Ai],["93",Ai],["94",Ai],["95",Ai],["96",Ai],["97",Ai],["98",Ai],["99",Ai]]);if(e.gs1syntax=L9,V(r[--t],"ai")){l0(r[--t],"("),r[--t]||(t--,r[t++]="bwipp.GS1aiMissingOpenParen#2494",r[t++]="AIs must start with '('",z()),r[t-1]=1/0;var Q9=r[--t],H9=r[--t];for(r[t++]=Q9,r[t++]=H9;;){var $9=r[t-1];if($9.length==0){t--;break}Tt(r[--t],")"),r[--t]||(Ko(),r[t++]="bwipp.GS1aiMissingCloseParen#2500",r[t++]="AIs must end with ')'",z());var q9=r[--t];r[t-1]=q9;var G9=r[--t],Y9=r[--t];if(r[t++]=G9,Tt(Y9,"("),r[--t]){var V9=r[--t];r[t-1]=V9;var K9=r[--t],W9=r[--t];r[t++]=K9,r[t++]=W9}else r[t++]=""}var Jm=ga();if(r[t++]=Jm,Jm>0)for(var Xm=r[--t],tf=Xm,J9=~~(Xm/2)+1;tf>=J9;tf-=1)Ea(tf,-1);else t--;Kt(s(~~(ga()/2))),e.ais=r[--t],Kt(s(ga())),r[t++]=1/0;var X9=r[--t],Z9=r[--t];r[t++]=X9,ve(Z9,function(){var tt=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);r[t++]=tt,is()}),e.vals=s(),t--}else{if(l0(r[--t],"http://"),r[--t]||(l0(r[--t],"HTTP://"),r[--t]||(l0(r[--t],"https://"),r[--t]||(l0(r[--t],"HTTPS://"),r[--t]||(t--,r[t++]="bwipp.GS1dlURIbadScheme#2519",r[t++]="Scheme must be http:// HTTP:// https:// or HTTPS://",z())))),t--,Tt(r[--t],"/"),r[--t]||(t--,r[t++]="bwipp.GS1dlMissingDomainOrPathInfo#2525",r[t++]="URI must contain a domain and path info",z()),t-=2,Tt(r[--t],"#"),r[--t]){var e7=r[--t];r[t-1]=e7;var t7=r[--t];r[t-1]=t7}if(Tt(r[--t],"?"),!r[--t]){var r7=r[--t];r[t++]="",r[t++]=null,r[t++]=r7}for(e.pp=r[--t],t--,e.qp=r[--t],r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=e.pp;;){if(Tt(r[--t],"/"),!r[--t]){t--;break}var a7=r[--t];r[t-1]=a7.length+1;var s7=r[--t],n7=r[--t],i7=r[t-1];r[t++]=S(s7+i7),r[t++]=n7}Kt(s(ga()-1)),e.pipos=r[--t],t-=2,e.pipos.length<=1&&(r[t++]="bwipp.GS1dlNoAIinfo#2550",r[t++]="The path was too short to contain AI info",z()),r[t++]=!1;for(var Jc=e.pipos.length-2;Jc>=0;Jc-=2){var Zm=l(e.pipos,Jc),ev=N(e.pp,Zm,S(l(e.pipos,Jc+1)-Zm)-1),o7=l(e.gs1syntax,ev)!==void 0;if(r[t++]=Jc,r[t++]=ev,o7){var l7=l(l(e.gs1syntax,r[--t]),"dlpkey")!==void 0;if(l7){var c7=r[--t];r[t-1]=c7,r[t++]=!0;break}}else t--;t--}r[--t]||(r[t++]="bwipp.GS1dlNoAIinfo#2569",r[t++]="The path does not contain a valid primary key",z());var tv=l(e.pipos,r[--t]);for(e.pp=N(e.pp,tv,S(e.pp.length-tv)),e.uriunescape=function(){for(e.qq=r[--t],e.in=r[--t],e.out=X(e.in.length),r[t++]=0,r[t++]=0;;){var tt=r[t-2];if(tt>=e.in.length)break;var Bt=r[t-2],kr=l(e.in,Bt);if(r[t++]=kr,kr==43&&e.qq){t--;var vr=r[--t];b(e.out,vr,32);var Br=r[--t];r[t++]=Br+1,r[t++]=vr+1}else{var la=r[t-1],fa=r[t-3];if(la==37&&fa<e.in.length-2){t--;var As=r[t-2],Ga=N(e.in,As+1,2);r[t++]=0;for(var ks=0,_s=Ga.length;ks<_s;ks++){var Ps=l(Ga,ks);if(r[t++]=Ps,Ps>=48&&Ps<=57){var Ys=r[--t];r[t++]=Ys-48}else{var v1=r[t-1];if(v1>=65&&v1<=70){var ki=r[--t];r[t++]=ki-55}else{var z1=r[t-1];if(z1>=97&&z1<=102){var ji=r[--t];r[t++]=ji-87}else t-=2,r[t++]="bwipp.GS1dlBadHexCharacter#2590",r[t++]="Invalid hex character",z()}}var si=r[--t],ni=r[--t];r[t++]=S(si+ni*16)}var ii=r[--t],oi=r[--t];b(e.out,oi,ii);var Zc=r[--t];r[t++]=Zc+3,r[t++]=oi+1}else{var ml=r[--t],L1=r[--t];b(e.out,L1,ml);var li=r[--t];r[t++]=li+1,r[t++]=L1+1}}}e.out=N(e.out,0,r[--t]),r[t-1]=e.out},e.isvaliddlpkeyseq=function(){e.in=r[--t],r[t++]=!1,ve(l(l(e.gs1syntax,l(e.in,0)),"dlpkey"),function(){for(e.seq=r[--t],e.i=1,e.j=0;!(e.i>=e.in.length||e.j>=e.seq.length);)V(l(e.in,e.i),l(e.seq,e.j))&&(e.i=e.i+1),e.j=e.j+1;if(e.i==e.in.length)return r[t-1]=!0,!0})},e.ais=s(99),e.vals=s(99),r[t++]=0,r[t++]=e.pp;;){if(Tt(r[--t],"/"),r[--t]){var d7=r[--t];t--;var u7=r[--t],f7=r[t-1];if(b(e.ais,f7,d7),Tt(u7,"/"),r[--t]){var h7=r[--t];r[t-1]=h7}else{var p7=r[--t];r[t++]="",r[t++]=p7}var m7=r[--t],v7=r[t-2];r[t++]=e.vals,r[t++]=v7,r[t++]=m7,r[t++]=!1,e.uriunescape();var x7=r[--t],g7=r[--t];b(r[--t],g7,x7)}else{t--;break}var b7=r[--t],w7=r[--t];r[t++]=w7+1,r[t++]=b7}var rf=r[--t];for(e.plen=rf,r[t++]=rf,rf>1&&(r[t++]=N(e.ais,0,e.plen),e.isvaliddlpkeyseq(),r[--t]||(t--,r[t++]="bwipp.GS1dlBadPathInfo#2645",r[t++]="The AIs in the path are not a valid key-qualifier sequence for the key",z())),r[t++]=e.qp;;){var y7=r[t-1];if(y7.length==0){t--;break}if(Tt(r[--t],"&"),r[--t]){var A7=r[--t];r[t-1]=A7}else{var k7=r[--t];r[t++]="",r[t++]=k7}if(Tt(r[--t],"="),r[--t]){var j7=r[t-1];if(r[t++]=!0,ve(j7,function(){var tt=r[--t],Bt=r[--t];r[t++]=Bt&&tt>=48&&tt<=57}),r[--t]){var S7=r[--t];t--;var E7=r[--t],rv=r[t-2];b(e.ais,rv,S7),r[t++]=e.vals,r[t++]=rv,r[t++]=E7,r[t++]=!0,e.uriunescape();var N7=r[--t],C7=r[--t];b(r[--t],C7,N7);var I7=r[--t],B7=r[--t];r[t++]=B7+1,r[t++]=I7}else t-=3}else t--}for(var D7=r[t-1],av=N(e.ais,e.plen,S(D7-e.plen)),af=0,R7=av.length;af<R7;af++){var sv=l(av,af),T7=l(e.gs1syntax,sv)!==void 0;if(r[t++]=sv,T7){var M7=r[t-1],nv=l(e.gs1syntax,M7),F7=l(nv,"dlattr")!==void 0;if(r[t++]=nv,r[t++]="dlattr",F7){var _7=r[--t],P7=l(r[--t],_7);r[t++]=P7}else t-=2,r[t++]=!0}else r[t++]=e.dontlint;if(!r[--t]){var iv=r[t-1],ov=iv.length,b2=X(ov+46);R(b2,0,"AI ("),R(b2,4,iv),R(b2,ov+4,") is not a valid GS1 DL URI data attribute"),r[t++]=b2;var O7=r[--t];r[t-1]=O7;var U7=r[--t];r[t++]="bwipp.GS1dlInvalidDataAttribute#2679",r[t++]=U7,z()}t--}for(var z7=r[t-1],lv=N(e.ais,e.plen,S(z7-e.plen)),sf=0,L7=lv.length;sf<L7;sf++){r[t++]=l(lv,sf);for(var nf=e.plen;nf>=1;nf-=1){var Q7=r[t-1];r[t++]=nf,r[t++]=Q7,r[t++]=1/0,U(N(e.ais,0,e.plen)),Ea(ga()+3,-2);var H7=r[--t],$7=r[--t];r[t++]=H7,Ea($7,1);var q7=s();if(r[t++]=q7,e.isvaliddlpkeyseq(),r[--t]){var G7=r[--t];r[t-1]=G7;var cv=r[t-1],dv=cv.length,w2=X(dv+50);R(w2,0,"AI ("),R(w2,4,cv),R(w2,dv+4,") from query params should be in the path info"),r[t++]=w2;var Y7=r[--t];r[t-1]=Y7;var V7=r[--t];r[t++]="bwipp.GS1dlAttributeMustBeQualifier#2696",r[t++]=V7,z()}}t--}var uv=r[--t];e.ais=N(e.ais,0,uv),e.vals=N(e.vals,0,uv);for(var y2=0,K7=e.ais.length-1;y2<=K7;y2+=1){if(r[t++]=y2,V(l(e.ais,y2),"01")){var W7=r[t-1],fv=l(e.vals,W7),of=fv.length;if(r[t++]=fv,of==8||of==12||of==13){var hv=_r(X(14),"00000000000000");r[t++]=hv,r[t++]=hv;var pv=r[t-3];R(r[t-1],14-pv.length,pv);var J7=r[t-2];t-=3;var X7=r[t-1];b(e.vals,X7,J7)}else t--}t--}}r[t++]=1/0;for(var mv=s(["00","01","02","03","04","11","12","13","14","15","16","17","18","19","20","31","32","33","34","35","36","41"]),lf=0,Z7=mv.length;lf<Z7;lf++){var vv=l(mv,lf);r[t++]=vv,r[t++]=vv}e.aifixed=Pe(),r[t++]=1/0;for(var xv=e.ais,cf=0,ek=xv.length;cf<ek;cf++){var gv=l(xv,cf);if(r[t++]=!0,r[t++]=gv,gv.length>=2){var tk=l(e.aifixed,N(r[--t],0,2))!==void 0;tk&&(r[t-1]=!1)}else t--}e.fncs=s(),r[t++]=1/0,r[t++]=0;for(var df=0,rk=82;df<rk;df++){var bv=r[--t];r[t++]=l(`!"%&'()*+,-./0123456789:;<=>?ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz`,df),r[t++]=bv,r[t++]=bv+1}t--,e.cset82=Pe(),r[t++]=1/0,r[t++]=0;for(var uf=0,ak=39;uf<ak;uf++){var wv=r[--t];r[t++]=l("#-/0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",uf),r[t++]=wv,r[t++]=wv+1}t--,e.cset39=Pe(),r[t++]=1/0,r[t++]=0;for(var ff=0,sk=32;ff<sk;ff++){var yv=r[--t];r[t++]=l("23456789ABCDEFGHJKLMNPQRSTUVWXYZ",ff),r[t++]=yv,r[t++]=yv+1}t--,e.cset32=Pe(),r[t++]=1/0,r[t++]=0;for(var hf=0,nk=64;hf<nk;hf++){var Av=r[--t];r[t++]=l("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",hf),r[t++]=Av,r[t++]=Av+1}t--,e.cset64=Pe(),e.lintnumeric=function(){var tt=r[--t];if(r[t++]=!0,ve(tt,function(){var Bt=r[--t];if(Bt<48||Bt>57)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1notNumeric#2770",r[t++]="Not numeric",r[t++]=!1,!0},e.lintcset82=function(){var tt=r[--t];if(r[t++]=!0,ve(tt,function(){var Bt=l(e.cset82,r[--t])!==void 0;if(!Bt)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET82character#2775",r[t++]="Invalid CSET 82 character",r[t++]=!1,!0},e.lintcset39=function(){var tt=r[--t];if(r[t++]=!0,ve(tt,function(){var Bt=l(e.cset39,r[--t])!==void 0;if(!Bt)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET39character#2780",r[t++]="Invalid CSET 39 character",r[t++]=!1,!0},e.lintcset64=function(){var tt=r[t-1];if(Tt(tt,"="),r[--t]){var Bt=r[--t];r[t-1]=Bt;var kr=r[--t];r[t++]=kr.length%3,r[t++]=kr;var vr=r[t-2],Br=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Br,r[t++]=vr,r[t++]=!1,vr==1&&V(Br,"=")&&(r[t-1]=!0);var la=r[t-2],fa=r[t-3];if(la==2&&fa.length==0&&(r[t-1]=!0),!r[--t])return t-=5,r[t++]="bwipp.GS1badCSET64padding#2789",r[t++]="Invalid CSET 64 padding",r[t++]=!1,!0;t-=2;var As=r[--t],Ga=r[--t];r[t++]=As,r[t++]=Ga}t--;var ks=r[--t];if(r[t++]=!0,ve(ks,function(){var _s=l(e.cset64,r[--t])!==void 0;if(!_s)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET64character#2795",r[t++]="Invalid CSET 64 character",r[t++]=!1,!0},e.lintgcppos1=function(){var tt=r[t-1];if(tt.length<2)return t-=2,r[t++]="bwipp.GS1gcpTooShort#2799",r[t++]="Value is too short to contain a GS1 Company Prefix",r[t++]=!1,!0;var Bt=r[--t],kr=l(Bt,0),vr=l(Bt,1);if(kr<48||kr>57||vr<48||vr>57)return t--,r[t++]="bwipp.GS1badGCP#2802",r[t++]="Non-numeric GS1 Company Prefix",r[t++]=!1,!0},e.lintgcppos2=function(){var tt=r[t-1];if(tt.length<1)return t-=2,r[t++]="bwipp.GS1valueTooShortForOffsetGCP#2807",r[t++]="Value is too short to contain an offset GS1 Company Prefix",r[t++]=!1,!0;var Bt=r[--t];r[t++]=N(Bt,1,Bt.length-1),e.lintgcppos1()},e.lintimporteridx=function(){if(Tt("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r[--t]),!r[--t])return t-=2,r[t++]="bwipp.GS1badImporterIndex#2813",r[t++]="Invalid importer index",r[t++]=!1,!0;t-=3},e.lintcsum=function(){r[t++]=1/0;var tt=r[--t],Bt=r[--t],kr=Bt.length%2==0?3:1;r[t++]=tt,r[t++]=kr,ve(Bt,function(){var ks=r[--t],_s=r[--t];r[t++]=(ks-48)*_s,r[t++]=4-_s}),t--;var vr=ga()+1;r[t++]=0;for(var Br=0,la=vr-1;Br<la;Br++){var fa=r[--t],As=r[--t];r[t++]=S(As+fa)}var Ga=r[--t];if(r[t-1]=Ga,r[--t]%10!=0)return t--,r[t++]="bwipp.GS1badChecksum#2822",r[t++]="Bad checksum",r[t++]=!1,!0},e.lintcsumalpha=function(){var tt=r[t-1];if(tt.length<2)return t-=2,r[t++]="bwipp.GS1alphaTooShort#2826",r[t++]="Alphanumeric string is too short to check",r[t++]=!1,!0;var Bt=r[t-1];r[t++]=Bt.length-2;var kr=1/0,vr=N(Bt,0,Bt.length-2);r[t++]=kr,ve(vr,function(){var L1=r[t-1],li=l(e.cset82,L1)!==void 0;if(li){var Io=l(e.cset82,r[--t]);r[t++]=Io}else return r[t++]=-1,!0});var Br=r[t-1];if(Br==-1)return Ko(),t-=3,r[t++]="bwipp.GS1UnknownCSET82Character#2832",r[t++]="Unknown CSET 82 character",r[t++]=!1,!0;Kt(s(ga()));var la=r[--t];r[t-1]=la;var fa=r[t-2],As=N(r[t-3],fa,2);r[t-3]=r[t-1],t-=2;var Ga=1/0,ks=As;r[t++]=Ga,ve(ks,function(){var L1=r[t-1],li=l(e.cset32,L1)!==void 0;if(li){var Io=l(e.cset32,r[--t]);r[t++]=Io}else return r[t++]=-1,!0});var _s=r[t-1];if(_s==-1)return Ko(),t-=2,r[t++]="bwipp.GS1UnknownCSET32Character#2838",r[t++]="Unknown CSET 32 character",r[t++]=!1,!0;Kt(s(ga()));var Ps=r[--t];r[t-1]=Ps;var Ys=r[--t],v1=r[--t],ki=s([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83]),z1=v1.length;if(r[t++]=S((l(Ys,0)<<5)+l(Ys,1)),r[t++]=v1,r[t++]=ki,r[t++]=z1,z1>ki.length)return t-=5,r[t++]="bwipp.GS1alphaTooLong#2843",r[t++]="Alphanumeric string is too long to check",r[t++]=!1,!0;for(var ji=r[--t],si=N(r[--t],0,ji),ni=0,ii=si.length;ni<ii;ni++){var oi=r[--t];r[t++]=l(si,ni),r[t++]=oi}var Zc=r[--t];r[t++]=0,ve(Zc,function(){var L1=r[t-3],li=r[t-1],Io=r[t-2];t-=3,r[t++]=S(Io+L1*li)});var ml=r[--t];if(r[--t]!=ml%1021)return t--,r[t++]="bwipp.GS1badAlphaCheckCharacters#2846",r[t++]="Bad alphanumeric check characters",r[t++]=!1,!0},r[t++]=1/0;for(var kv=s(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]),pf=0,ik=kv.length;pf<ik;pf++){var jv=l(kv,pf);r[t++]=jv,r[t++]=jv}e.iso3166=Pe(),e.lintiso3166=function(){var tt=l(e.iso3166,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCountry#2873",r[t++]="Unknown country code",r[t++]=!1,!0},e.lintiso3166999=function(){var tt=r[t-1];if(Ee(tt,"999")){var Bt=l(e.iso3166,r[--t])!==void 0;if(!Bt)return t--,r[t++]="bwipp.GS1UnknownCountryOr999#2878",r[t++]="Unknown country code or not 999",r[t++]=!1,!0}else t--},r[t++]=1/0;for(var Sv=s(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]),mf=0,ok=Sv.length;mf<ok;mf++){var Ev=l(Sv,mf);r[t++]=Ev,r[t++]=Ev}e.iso3166alpha2=Pe(),e.lintiso3166alpha2=function(){var tt=l(e.iso3166alpha2,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCountryAlpha#2914",r[t++]="Unknown country alpha code",r[t++]=!1,!0},r[t++]=1/0;for(var Nv=s(["008","012","032","036","044","048","050","051","052","060","064","068","072","084","090","096","104","108","116","124","132","136","144","152","156","170","174","188","191","192","203","208","214","222","230","232","238","242","262","270","292","320","324","328","332","340","344","348","352","356","360","364","368","376","388","392","396","398","400","404","408","410","414","417","418","422","426","430","434","446","454","458","462","480","484","496","498","504","512","516","524","532","533","548","554","558","566","578","586","590","598","600","604","608","634","643","646","654","682","690","694","702","704","706","710","728","748","752","756","760","764","776","780","784","788","800","807","818","826","834","840","858","860","882","886","901","925","927","928","929","930","931","932","933","934","936","938","940","941","943","944","946","947","948","949","950","951","952","953","955","956","957","958","959","960","961","962","963","964","965","967","968","969","970","971","972","973","975","976","977","978","979","980","981","984","985","986","990","994","997","999"]),vf=0,lk=Nv.length;vf<lk;vf++){var Cv=l(Nv,vf);r[t++]=Cv,r[t++]=Cv}e.iso4217=Pe(),e.lintiso4217=function(){var tt=l(e.iso4217,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCurrency#2945",r[t++]="Unknown currency code",r[t++]=!1,!0},e.lintiso5218=function(){var tt=r[--t];if(Ee(tt,"0")&&Ee(tt,"1")&&Ee(tt,"2")&&Ee(tt,"9"))return t--,r[t++]="bwipp.GS1biologicalSexCode#2950",r[t++]="Invalid biological sex code",r[t++]=!1,!0},e.lintiban=function(){var tt=r[t-1];if(tt.length<=4)return t-=2,r[t++]="bwipp.GS1tooShort#2955",r[t++]="IBAN too short",r[t++]=!1,!0;var Bt=r[t-1];if(r[t++]=!0,ve(Bt,function(){var Ps=X(1);r[t++]=Ps,r[t++]=Ps,r[t++]=0,Ea(4,-1);var Ys=r[--t],v1=r[--t];if(b(r[--t],v1,Ys),Tt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r[--t]),!r[--t])return t-=2,r[t++]=!1,!0;t-=3}),!r[--t])return t--,r[t++]="bwipp.GS1badIBANcharacter#2962",r[t++]="Invalid IBAN character",r[t++]=!1,!0;var kr=r[t-1],vr=1/0,Br=kr;r[t++]=vr;var la=1/0,fa=Br;r[t++]=la,ve(fa),Ea(ga(),-4),Kt(s(ga()));var As=r[--t];r[t-1]=As,ve(r[--t],function(){var Ps=r[--t]-48;if(r[t++]=Ps,Ps>9){var Ys=r[--t]-7;r[t++]=~~(Ys/10),r[t++]=Ys%10}}),Kt(s(ga()));var Ga=r[--t];r[t-1]=Ga;var ks=r[--t];if(r[t++]=0,ve(ks,function(){var Ps=r[--t],Ys=r[--t];r[t++]=S(Ps+Ys*10)%97}),r[--t]!=1)return t-=2,r[t++]="bwipp.GS1badIBANchecksum#2967",r[t++]="IBAN checksum incorrect",r[t++]=!1,!0;var _s=N(r[--t],0,2);r[t++]=_s,e.lintiso3166alpha2()},e.lintzero=function(){if(Ee(r[--t],"0"))return t--,r[t++]="bwipp.GS1zeroRequired#2972",r[t++]="Zero is required",r[t++]=!1,!0},e.lintnonzero=function(){var tt=r[--t];if(r[t++]=!1,ve(tt,function(){r[--t]!=48&&(r[t-1]=!0)}),!r[--t])return t--,r[t++]="bwipp.GS1zeroNotPermitted#2977",r[t++]="Zero not permitted",r[t++]=!1,!0},e.lintnozeroprefix=function(){var tt=r[--t];if(tt.length>1&&l(tt,0)==48)return t--,r[t++]="bwipp.GS1badZeroPrefix#2982",r[t++]="Zero prefix is not permitted",r[t++]=!1,!0},e.linthasnondigit=function(){var tt=r[--t];if(r[t++]=!1,ve(tt,function(){var Bt=r[--t];if(Bt<48||Bt>57)return r[t-1]=!0,!0}),!r[--t])return r[t++]="bwipp.GS1requiresNonDigit#2988",r[t++]="A non-digit character is required",r[t++]=!1,!0},e.linthyphen=function(){if(Ee(r[--t],"-"))return t--,r[t++]="bwipp.GS1hyphenRequired#2992",r[t++]="A hyphen is required",r[t++]=!1,!0},e.lintyyyymmd0=function(){var tt=r[t-1],Bt=Ce(N(tt,4,2));if(Bt<1||Bt>12)return t--,r[t++]="bwipp.GS1badMonth#2996",r[t++]="Invalid month",r[t++]=!1,!0;var kr=r[t-1],vr=Ce(N(kr,0,4));r[t++]=vr%400==0||vr%4==0&&vr%100!=0,r[t++]=1/0,r[t++]=31,Ea(3,-1);var Br=r[--t]?29:28;r[t++]=Br,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var la=s(),fa=r[--t];if(l(la,Ce(N(fa,4,2))-1)<Ce(N(fa,6,2)))return t--,r[t++]="bwipp.GS1badDay#3000",r[t++]="Invalid day of month",r[t++]=!1,!0},e.lintyyyymmdd=function(){var tt=r[t-1];if(tt.length!=8)return t--,r[t++]="bwipp.GS1badDateLength#3004",r[t++]="Invalid length for yyyymmdd date",r[t++]=!1,!0;var Bt=r[t-1];if(Ce(N(Bt,6,2))<1)return t--,r[t++]="bwipp.GS1badDay#3005",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyyyymmd0()},e.lintyymmd0=function(){var tt=r[t-1],Bt=Ce(N(tt,0,2)),kr=Bt-21;r[t++]=Bt,r[t++]=kr,kr>=51?r[t-1]="19":r[--t]<=-50?r[t++]="21":r[t++]="20";var vr=r[--t];r[t-1]=vr;var Br=X(8);r[t++]=Br,r[t++]=Br,r[t++]=0,Ea(4,-1);var la=r[--t],fa=r[--t];R(r[--t],fa,la);var As=r[t-1];r[t++]=As,r[t++]=2,Ea(4,-1);var Ga=r[--t],ks=r[--t];R(r[--t],ks,Ga),e.lintyyyymmd0()},e.lintyymmdd=function(){var tt=r[t-1];if(tt.length!=6)return t--,r[t++]="bwipp.GS1badDateLength#3017",r[t++]="Invalid length for yymmdd date",r[t++]=!1,!0;var Bt=r[t-1];if(Ce(N(Bt,4,2))<1)return t--,r[t++]="bwipp.GS1badDay#3018",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyymmd0()},e.linthh=function(){if(Ce(N(r[--t],0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3023",r[t++]="Invalid hour of day",r[t++]=!1,!0},e.lintmi=function(){if(Ce(N(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3027",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintss=function(){if(Ce(N(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badSecond#3031",r[t++]="Invalid second in the minute",r[t++]=!1,!0},e.linthhmi=function(){var tt=r[t-1];if(Ce(N(tt,0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3035",r[t++]="Invalid hour of day",r[t++]=!1,!0;if(Ce(N(r[--t],2,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3036",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintmmoptss=function(){var tt=r[t-1],Bt=tt.length;if(Bt!=2&&Bt!=4)return t--,r[t++]="bwipp.GS1badTimeLength#3041",r[t++]="Invalid length for optional minutes and seconds",r[t++]=!1,!0;var kr=r[t-1];if(Ce(N(kr,0,2))>59)return t-=2,r[t++]="bwipp.GS1badMinute#3043",r[t++]="Invalid minute in the hour",r[t++]=!1,!0;var vr=r[t-1];if(vr.length>=4){var Br=r[t-1];if(Ce(N(Br,2,2))>59)return t-=2,r[t++]="bwipp.GS1badSecond#3045",r[t++]="Invalid second in the minute",r[t++]=!1,!0}t--},e.lintyesno=function(){var tt=r[--t];if(Ee(tt,"0")&&Ee(tt,"1"))return t--,r[t++]="bwipp.GS1badBoolean#3052",r[t++]="Neither 0 nor 1 for yes or no",r[t++]=!1,!0},e.lintwinding=function(){var tt=r[--t];if(Ee(tt,"0")&&Ee(tt,"1")&&Ee(tt,"9"))return t--,r[t++]="bwipp.GS1badWinding#3058",r[t++]="Invalid winding direction",r[t++]=!1,!0},e.lintpieceoftotal=function(){var tt=r[t-1];if(tt.length%2!=0)return t-=2,r[t++]="bwipp.GS1badPieceTotalLength#3063",r[t++]="Invalid piece/total length",r[t++]=!1,!0;var Bt=r[t-1],kr=Ce(N(Bt,0,~~(Bt.length/2)));if(r[t++]=kr,kr==0)return t-=3,r[t++]="bwipp.GS1badPieceNumber#3065",r[t++]="Invalid piece number",r[t++]=!1,!0;var vr=r[--t],Br=r[--t],la=~~(Br.length/2),fa=Ce(N(Br,la,la));if(r[t++]=vr,r[t++]=fa,fa==0)return t-=3,r[t++]="bwipp.GS1badPieceTotal#3067",r[t++]="Invalid total number",r[t++]=!1,!0;var As=r[--t];if(Bi(r[--t],As))return t--,r[t++]="bwipp.GS1pieceExceedsTotal#3068",r[t++]="Piece number exceeds total",r[t++]=!1,!0},e.lintposinseqslash=function(){if(Tt(r[--t],"/"),!r[--t])return t--,r[t++]="bwipp.invalidPosInSeqFormat#3073",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var tt=r[--t];r[t-1]=tt;var Bt=r[t-1];if(Bt.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3077",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var kr=r[t-2];if(kr.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3080",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var vr=r[t-1];if(r[t++]=!0,ve(vr,function(){var Ga=r[--t];if(Ga<48||Ga>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.positionNotNumeric#3085",r[t++]="Position is not numeric",r[t++]=!1,!0;var Br=r[t-2];if(r[t++]=!0,ve(Br,function(){var Ga=r[--t];if(Ga<48||Ga>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.endNotNumeric#3089",r[t++]="End is not numeric",r[t++]=!1,!0;var la=r[t-1];if(l(la,0)==48)return t-=2,r[t++]="bwipp.positionZeroPrefix#3090",r[t++]="Position cannot have zero prefix",r[t++]=!1,!0;var fa=r[t-2];if(l(fa,0)==48)return t-=2,r[t++]="bwipp.endZeroPrefix#3091",r[t++]="End cannot have zero prefix",r[t++]=!1,!0;var As=r[--t];if(Ce(r[--t])<Ce(As))return r[t++]="bwipp.positionExceedsEnd#3093",r[t++]="Position exceeds end",r[t++]=!1,!0},e.lintpcenc=function(){for(;;){if(Tt(r[--t],"%"),!r[--t]){t--;break}t-=2;var tt=r[t-1];if(tt.length<2){t-=2,r[t++]="bwipp.GS1badPercentEscape#3099",r[t++]="Invalid % escape",r[t++]=!1;break}var Bt=r[t-1],kr=N(Bt,0,2);r[t++]=!0;for(var vr=0,Br=kr.length;vr<Br;vr++){var la=X(1);if(b(la,0,l(kr,vr)),Tt("0123456789ABCDEFabcdef",la),!r[--t]){t-=2,r[t++]=!1;break}t-=3}if(!r[--t]){t-=2,r[t++]="bwipp.GS1badPercentChars#3106",r[t++]="Invalid characters for percent encoding",r[t++]=!1;break}}},e.lintcouponcode=function(){var tt=r[t-1];if(r[t++]=!0,ve(tt,function(){var e4=r[--t];if(e4<48||e4>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3114",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Bt=r[t-1];if(Bt.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortGCPVLI#3118",r[t++]="Coupon too short: Missing GCP VLI",r[t++]=!1,!0;var kr=r[t-1],vr=Ce(N(kr,0,1));if(r[t++]=vr,vr>6)return t-=2,r[t++]="bwipp.GS1couponBadGCPVLI#3121",r[t++]="Coupon GCP length indicator must be 0-6",r[t++]=!1,!0;var Br=r[--t],la=r[t-1];if(r[t++]=Br+6+1,Br+6+1>la.length)return t-=3,r[t++]="bwipp.GS1couponTooShortGCP#3125",r[t++]="Coupon too short: GCP truncated",r[t++]=!1,!0;var fa=r[--t],As=r[--t],Ga=N(As,fa,S(As.length-fa));if(r[t++]=Ga,Ga.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3131",r[t++]="Coupon too short: Offer Code truncated",r[t++]=!1,!0;var ks=r[--t],_s=N(ks,6,ks.length-6);if(r[t++]=_s,_s.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueVLI#3137",r[t++]="Coupon too short: Missing Save Value VLI",r[t++]=!1,!0;var Ps=r[t-1],Ys=Ce(N(Ps,0,1));if(r[t++]=Ys,Ys<1||Ys>5)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueVLI#3140",r[t++]="Coupon Save Value length indicator must be 1-5",r[t++]=!1,!0;var v1=r[--t],ki=r[t-1];if(r[t++]=v1+1,v1+1>ki.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSaveValue#3144",r[t++]="Coupon too short: Save Value truncated",r[t++]=!1,!0;var z1=r[--t],ji=r[--t],si=N(ji,z1,S(ji.length-z1));if(r[t++]=si,si.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementVLI#3150",r[t++]="Coupon too short: Missing 1st Purchase Requirement VLI",r[t++]=!1,!0;var ni=r[t-1],ii=Ce(N(ni,0,1));if(r[t++]=ii,ii<1||ii>5)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementVLI#3153",r[t++]="Coupon 1st Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var oi=r[--t],Zc=r[t-1];if(r[t++]=oi+1,oi+1>Zc.length)return t-=3,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirement#3157",r[t++]="Coupon too short: 1st Purchase Requirement truncated",r[t++]=!1,!0;var ml=r[--t],L1=r[--t],li=N(L1,ml,S(L1.length-ml));if(r[t++]=li,li.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementCode#3163",r[t++]="Coupon too short: Missing 1st Purchase Requirement Code",r[t++]=!1,!0;var Io=r[t-1],Pv=Ce(N(Io,0,1));if(Pv>4&&Pv!=9)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementCode#3166",r[t++]="Coupon 1st Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Ov=r[--t],Uv=N(Ov,1,Ov.length-1);if(r[t++]=Uv,Uv.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseFamilyCode#3172",r[t++]="Coupon too short: 1st Purchase Family Code truncated",r[t++]=!1,!0;var zv=r[--t],Lv=N(zv,3,zv.length-3);if(r[t++]=Lv,Lv.length>=1){var Ak=r[t-1];if(Ce(N(Ak,0,1))==1){var Qv=r[--t],Hv=N(Qv,1,Qv.length-1);if(r[t++]=Hv,Hv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortAdditionalPurchaseRulesCode#3182",r[t++]="Coupon too short: Missing Additional Purchase Rules Code",r[t++]=!1,!0;var kk=r[t-1];if(Ce(N(kk,0,1))>3)return t-=2,r[t++]="bwipp.GS1couponBadAdditionalPurchaseRulesCode#3185",r[t++]="Coupon Additional Purchase Rules Code must be 0-3",r[t++]=!1,!0;var $v=r[--t],qv=N($v,1,$v.length-1);if(r[t++]=qv,qv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementVLI#3191",r[t++]="Coupon too short: Missing 2nd Purchase Requirement VLI",r[t++]=!1,!0;var jk=r[t-1],wf=Ce(N(jk,0,1));if(r[t++]=wf,wf<1||wf>5)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementVLI#3194",r[t++]="Coupon 2nd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var Gv=r[--t],Sk=r[t-1];if(r[t++]=Gv+1,Gv+1>Sk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirement#3198",r[t++]="Coupon too short: 2nd Purchase Requirement truncated",r[t++]=!1,!0;var Yv=r[--t],Vv=r[--t],Kv=N(Vv,Yv,S(Vv.length-Yv));if(r[t++]=Kv,Kv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementCode#3204",r[t++]="Coupon too short: Missing 2nd Purchase Requirement Code",r[t++]=!1,!0;var Ek=r[t-1],Wv=Ce(N(Ek,0,1));if(Wv>4&&Wv!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementCode#3207",r[t++]="Coupon 2nd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Jv=r[--t],Xv=N(Jv,1,Jv.length-1);if(r[t++]=Xv,Xv.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseFamilyCode#3213",r[t++]="Coupon too short: 2nd Purchase Family Code truncated",r[t++]=!1,!0;var Zv=r[--t],ex=N(Zv,3,Zv.length-3);if(r[t++]=ex,ex.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCPVLI#3219",r[t++]="Coupon too short: Missing 2nd Purchase GCP VLI",r[t++]=!1,!0;var Nk=r[t-1],yf=Ce(N(Nk,0,1));if(r[t++]=yf,yf>6&&yf!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseGCPVLI#3222",r[t++]="Coupon 2nd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Ck=r[t-1];if(Ck!=9){var Ik=r[--t];r[t++]=Ik+6}else r[t-1]=0;var tx=r[--t],Bk=r[t-1];if(r[t++]=tx+1,tx+1>Bk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCP#3226",r[t++]="Coupon too short: 2nd Purchase GCP truncated",r[t++]=!1,!0;var rx=r[--t],ax=r[--t];r[t++]=N(ax,rx,S(ax.length-rx))}}var Dk=r[t-1];if(Dk.length>=1){var Rk=r[t-1];if(Ce(N(Rk,0,1))==2){var sx=r[--t],nx=N(sx,1,sx.length-1);if(r[t++]=nx,nx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementVLI#3238",r[t++]="Coupon too short: Missing 3rd Purchase Requirement VLI",r[t++]=!1,!0;var Tk=r[t-1],Af=Ce(N(Tk,0,1));if(r[t++]=Af,Af<1||Af>5)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementVLI#3241",r[t++]="Coupon 3rd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var ix=r[--t],Mk=r[t-1];if(r[t++]=ix+1,ix+1>Mk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirement#3245",r[t++]="Coupon too short: 3rd Purchase Requirement truncated",r[t++]=!1,!0;var ox=r[--t],lx=r[--t],cx=N(lx,ox,S(lx.length-ox));if(r[t++]=cx,cx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementCode#3251",r[t++]="Coupon too short: Missing 3rd Purchase Requirement Code",r[t++]=!1,!0;var Fk=r[t-1],dx=Ce(N(Fk,0,1));if(dx>4&&dx!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementCode#3254",r[t++]="Coupon 3rd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var ux=r[--t],fx=N(ux,1,ux.length-1);if(r[t++]=fx,fx.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseFamilyCode#3260",r[t++]="Coupon too short: 3rd Purchase Family Code truncated",r[t++]=!1,!0;var hx=r[--t],px=N(hx,3,hx.length-3);if(r[t++]=px,px.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCPVLI#3266",r[t++]="Coupon too short: Missing 3rd Purchase GCP VLI",r[t++]=!1,!0;var _k=r[t-1],kf=Ce(N(_k,0,1));if(r[t++]=kf,kf>6&&kf!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseGCPVLI#3269",r[t++]="Coupon 3rd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Pk=r[t-1];if(Pk!=9){var Ok=r[--t];r[t++]=Ok+6}else r[t-1]=0;var mx=r[--t],Uk=r[t-1];if(r[t++]=mx+1,mx+1>Uk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCP#3273",r[t++]="Coupon too short: 3rd Purchase GCP truncated",r[t++]=!1,!0;var vx=r[--t],xx=r[--t];r[t++]=N(xx,vx,S(xx.length-vx))}}e.couponexpire=-1;var zk=r[t-1];if(zk.length>=1){var Lk=r[t-1];if(Ce(N(Lk,0,1))==3){var gx=r[--t],bx=N(gx,1,gx.length-1);if(r[t++]=bx,bx.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortExpirationDate#3286",r[t++]="Coupon too short: Expiration date",r[t++]=!1,!0;var Qk=r[t-1],wx=Ce(N(Qk,2,2));if(wx<1||wx>12)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadMonth#3288",r[t++]="Invalid month in expiration date",r[t++]=!1,!0;var Hk=r[t-1],yx=Ce(N(Hk,0,2)),Ax=yx-21;if(r[t++]=yx,r[t++]=Ax,Ax>=51){t--;var $k=r[--t];r[t++]=$k+1900}else if(r[--t]<=-50){var qk=r[--t];r[t++]=qk+2100}else{var Gk=r[--t];r[t++]=Gk+2e3}var jf=r[--t];r[t++]=jf%400==0||jf%4==0&&jf%100!=0,r[t++]=1/0,r[t++]=31,Ea(3,-1);var Yk=r[--t]?29:28;r[t++]=Yk,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var Vk=s(),kx=r[t-1],jx=Ce(N(kx,4,2));if(l(Vk,Ce(N(kx,2,2))-1)<jx||jx<1)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadDay#3295",r[t++]="Invalid day of month in expiration date",r[t++]=!1,!0;var Sf=r[--t];e.couponexpire=Ce(N(Sf,0,6)),r[t++]=N(Sf,6,Sf.length-6)}}var Kk=r[t-1];if(Kk.length>=1){var Wk=r[t-1];if(Ce(N(Wk,0,1))==4){var Sx=r[--t],Ex=N(Sx,1,Sx.length-1);if(r[t++]=Ex,Ex.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortStartDate#3307",r[t++]="Coupon too short: Start date",r[t++]=!1,!0;var Jk=r[t-1],Nx=Ce(N(Jk,2,2));if(Nx<1||Nx>12)return t-=2,r[t++]="bwipp.GS1couponStartDateBadMonth#3309",r[t++]="Invalid month in start date",r[t++]=!1,!0;var Xk=r[t-1],Cx=Ce(N(Xk,0,2)),Ix=Cx-21;if(r[t++]=Cx,r[t++]=Ix,Ix>=51){t--;var Zk=r[--t];r[t++]=Zk+1900}else if(r[--t]<=-50){var ej=r[--t];r[t++]=ej+2100}else{var tj=r[--t];r[t++]=tj+2e3}var Ef=r[--t];r[t++]=Ef%400==0||Ef%4==0&&Ef%100!=0,r[t++]=1/0,r[t++]=31,Ea(3,-1);var rj=r[--t]?29:28;r[t++]=rj,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var aj=s(),Bx=r[t-1],Dx=Ce(N(Bx,4,2));if(l(aj,Ce(N(Bx,2,2))-1)<Dx||Dx<1)return t-=2,r[t++]="bwipp.GS1couponStartDateBadDay#3316",r[t++]="Invalid day of month in start date",r[t++]=!1,!0;var Rx=r[--t];if(e.couponstart=Ce(N(Rx,0,6)),r[t++]=Rx,e.couponexpire!=-1&&e.couponexpire<e.couponstart)return t-=2,r[t++]="bwipp.GS1couponExpireDateBeforeStartDate#3319",r[t++]="Coupon expires before it starts",r[t++]=!1,!0;var Tx=r[--t];r[t++]=N(Tx,6,Tx.length-6)}}var sj=r[t-1];if(sj.length>=1){var nj=r[t-1];if(Ce(N(nj,0,1))==5){var Mx=r[--t],Fx=N(Mx,1,Mx.length-1);if(r[t++]=Fx,Fx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSerialNumberVLI#3331",r[t++]="Coupon too short: Missing Serial Number VLI",r[t++]=!1,!0;var _x=r[t-1],Px=N(_x,0,1);if(r[t++]=Ce(Px)+6+1,Ce(Px)+6+1>_x.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSerialNumber#3335",r[t++]="Coupon too short: Serial Number truncated",r[t++]=!1,!0;var Ox=r[--t],Ux=r[--t];r[t++]=N(Ux,Ox,S(Ux.length-Ox))}}var ij=r[t-1];if(ij.length>=1){var oj=r[t-1];if(Ce(N(oj,0,1))==6){var zx=r[--t],Lx=N(zx,1,zx.length-1);if(r[t++]=Lx,Lx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLNVLI#3347",r[t++]="Coupon too short: Missing Retailer GCP/GLN VLI",r[t++]=!1,!0;var lj=r[t-1],Nf=Ce(N(lj,0,1));if(r[t++]=Nf,Nf<1||Nf>7)return t-=2,r[t++]="bwipp.GS1couponBadRetailerGCPGLNVLI#3350",r[t++]="Coupon Retailer GCP/GLN length indicator must be 1-7",r[t++]=!1,!0;var Qx=r[--t],cj=r[t-1];if(r[t++]=Qx+6+1,Qx+6+1>cj.length)return t-=3,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLN#3354",r[t++]="Coupon too short: Retailer GCP/GLN truncated",r[t++]=!1,!0;var Hx=r[--t],$x=r[--t];r[t++]=N($x,Hx,S($x.length-Hx))}}var dj=r[t-1];if(dj.length>=1){var uj=r[t-1];if(Ce(N(uj,0,1))==9){var qx=r[--t],Gx=N(qx,1,qx.length-1);if(r[t++]=Gx,Gx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueCode#3366",r[t++]="Coupon too short: Missing Save Value Code",r[t++]=!1,!0;var fj=r[t-1],Cf=Ce(N(fj,0,1));if(Cf>6||Cf==3||Cf==4)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueCode#3369",r[t++]="Coupon Save Value Code must be 0,1,2,5 or 6",r[t++]=!1,!0;var Yx=r[--t],Vx=N(Yx,1,Yx.length-1);if(r[t++]=Vx,Vx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueAppliesToItem#3375",r[t++]="Coupon too short: Missing Save Value Applies to Item",r[t++]=!1,!0;var hj=r[t-1];if(Ce(N(hj,0,1))>2)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueAppliesToItem#3378",r[t++]="Coupon Save Value Applies to Item must be 0-2",r[t++]=!1,!0;var Kx=r[--t],Wx=N(Kx,1,Kx.length-1);if(r[t++]=Wx,Wx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortStoreCouponFlag#3384",r[t++]="Coupon too short: Missing Store Coupon Flag",r[t++]=!1,!0;var Jx=r[--t],Xx=N(Jx,1,Jx.length-1);if(r[t++]=Xx,Xx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortDontMultiplyFlag#3390",r[t++]="Coupon too short: Missing Don't Multiply Flag",r[t++]=!1,!0;var pj=r[t-1];if(Ce(N(pj,0,1))>1)return t-=2,r[t++]="bwipp.GS1couponBadDontMultiplyFlag#3393",r[t++]="Don't Multiply Flag must be 0 or 1",r[t++]=!1,!0;var Zx=r[--t];r[t++]=N(Zx,1,Zx.length-1)}}var mj=r[t-1];if(mj.length!=0)return t-=2,r[t++]="bwipp.GS1couponUnrecognisedOptionalField#3400",r[t++]="Coupon fields must be 1,2,3,4,5,6 or 9, increasing order",r[t++]=!1,!0;t--},e.lintcouponposoffer=function(){var tt=r[t-1];if(r[t++]=!0,ve(tt,function(){var oi=r[--t];if(oi<48||oi>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3409",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Bt=r[t-1];if(Bt.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFormatCode#3412",r[t++]="Coupon too short: Missing Format Code",r[t++]=!1,!0;var kr=r[t-1],vr=N(kr,0,1);if(Ee(vr,"0")&&Ee(vr,"1"))return t-=2,r[t++]="bwipp.GS1couponBadFormatCode#3415",r[t++]="Coupon format must be 0 or 1",r[t++]=!1,!0;var Br=r[--t],la=N(Br,1,Br.length-1);if(r[t++]=la,la.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFunderVLI#3420",r[t++]="Coupon too short: Missing Funder VLI",r[t++]=!1,!0;var fa=r[t-1],As=Ce(N(fa,0,1));if(r[t++]=As,As>6)return t-=3,r[t++]="bwipp.GS1couponBadFunderVLI#3423",r[t++]="Coupon Funder length indicator must be 0-6",r[t++]=!1,!0;var Ga=r[--t],ks=r[t-1];if(r[t++]=Ga+6+1,Ga+6+1>ks.length)return t-=3,r[t++]="bwipp.GS1couponTooShortFunder#3427",r[t++]="Coupon too short: Truncated Funder ID",r[t++]=!1,!0;var _s=r[--t],Ps=r[--t],Ys=N(Ps,_s,S(Ps.length-_s));if(r[t++]=Ys,Ys.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3432",r[t++]="Coupon too short: Truncated Offer Code",r[t++]=!1,!0;var v1=r[--t],ki=N(v1,6,v1.length-6);if(r[t++]=ki,ki.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSnVLI#3437",r[t++]="Coupon too short: Missing SN VLI",r[t++]=!1,!0;var z1=r[t-1],ji=N(z1,0,1);if(r[t++]=Ce(ji)+6+1,Ce(ji)+6+1>z1.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSn#3442",r[t++]="Coupon too short: Truncated SN",r[t++]=!1,!0;var si=r[--t],ni=r[--t],ii=N(ni,si,S(ni.length-si));if(r[t++]=ii,ii.length!=0)return t-=2,r[t++]="bwipp.GS1couponTooLong#3446",r[t++]="Coupon too long",r[t++]=!1,!0;t--},e.lintlatitude=function(){var tt=r[t-1];if(tt.length!=10)return t--,r[t++]="bwipp.GS1badLatitudeLength#3453",r[t++]="Invalid length for a latitude",r[t++]=!1,!0;if(Ce(r[--t])>Ce("1800000000"))return t--,r[t++]="bwipp.GS1badLatitude#3457",r[t++]="Invalid value for latitude",r[t++]=!1,!0},e.lintlongitude=function(){var tt=r[t-1];if(tt.length!=10)return t--,r[t++]="bwipp.GS1badLongitudeLength#3462",r[t++]="Invalid length for a longitude",r[t++]=!1,!0;if(Ce(r[--t])>Ce("3600000000"))return t--,r[t++]="bwipp.GS1badLongitude#3467",r[t++]="Invalid value for longitude",r[t++]=!1,!0},r[t++]=1/0;for(var Iv=s(["01","02","03","04","05","06","07","08","09","10","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99"]),xf=0,ck=Iv.length;xf<ck;xf++){var Bv=l(Iv,xf);r[t++]=Bv,r[t++]=Bv}e.aidcmediatype=Pe(),e.lintmediatype=function(){var tt=l(e.aidcmediatype,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownMediaType#3479",r[t++]="Unknown AIDC media type",r[t++]=!1,!0},r[t++]=1/0;for(var Dv=s(["1A","1B","1D","1F","1G","1W","200","201","202","203","204","205","206","210","211","212","2C","3A","3H","43","44","4A","4B","4C","4D","4F","4G","4H","5H","5L","5M","6H","6P","7A","7B","8","8A","8B","8C","9","AA","AB","AC","AD","AF","AG","AH","AI","AJ","AL","AM","AP","APE/AT","AV","B4","BB","BC","BD","BE","BF","BG","BGE","BH","BI","BJ","BK","BL","BM","BME","BN","BO","BP","BQ","BR","BRI","BS","BT","BU","BV","BW","BX","BY","BZ","CA","CB","CBL","CC","CCE","CD","CE","CF","CG","CH","CI","CJ","CK","CL","CM","CN","CO","CP","CQ","CR","CS","CT","CU","CV","CW","CX","CY","CZ","DA","DB","DC","DG","DH","DI","DJ","DK","DL","DM","DN","DP","DPE","DR","DS","DT","DU","DV","DW","DX","DY","E1","E2","E3","EC","ED","EE","EF","EG","EH","EI","EN","FB","FC","FD","FE","FI","FL","FO","FOB","FP","FPE","FR","FT","FW","FX","GB","GI","GL","GR","GU","GY","GZ","HA","HB","HC","HG","HN","HR","IA","IB","IC","ID","IE","IF","IG","IH","IK","IL","IN","IZ","JB","JC","JG","JR","JT","JY","KG","KI","LAB","LE","LG","LT","LU","LV","LZ","MA","MB","MC","ME","MPE","MR","MS","MT","MW","MX","NA","NE","NF","NG","NS","NT","NU","NV","OA","OB","OC","OD","OE","OF","OK","OPE","OT","OU","P2","PA","PAE","PB","PC","PD","PE","PF","PG","PH","PI","PJ","PK","PL","PLP","PN","PO","POP","PP","PPE","PR","PT","PU","PUE","PV","PX","PY","PZ","QA","QB","QC","QD","QF","QG","QH","QJ","QK","QL","QM","QN","QP","QQ","QR","QS","RB1","RB2","RB3","RCB","RD","RG","RJ","RK","RL","RO","RT","RZ","S1","SA","SB","SC","SD","SE","SEC","SH","SI","SK","SL","SM","SO","SP","SS","ST","STL","SU","SV","SW","SX","SY","SZ","T1","TB","TC","TD","TE","TEV","TG","THE","TI","TK","TL","TN","TO","TR","TRE","TS","TT","TTE","TU","TV","TW","TWE","TY","TZ","UC","UN","UUE","VA","VG","VI","VK","VL","VN","VO","VP","VQ","VR","VS","VY","WA","WB","WC","WD","WF","WG","WH","WJ","WK","WL","WM","WN","WP","WQ","WR","WRP","WS","WT","WU","WV","WW","WX","WY","WZ","X11","X12","X15","X16","X17","X18","X19","X20","X3","XA","XB","XC","XD","XF","XG","XH","XJ","XK","YA","YB","YC","YD","YF","YG","YH","YJ","YK","YL","YM","YN","YP","YQ","YR","YS","YT","YV","YW","YX","YY","YZ","ZA","ZB","ZC","ZD","ZF","ZG","ZH","ZJ","ZK","ZL","ZM","ZN","ZP","ZQ","ZR","ZS","ZT","ZU","ZV","ZW","ZX","ZY","ZZ"]),gf=0,dk=Dv.length;gf<dk;gf++){var Rv=l(Dv,gf);r[t++]=Rv,r[t++]=Rv}if(e.packagetype=Pe(),e.lintpackagetype=function(){var tt=l(e.packagetype,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1unknownPackageType#3523",r[t++]="Unknown package type",r[t++]=!1,!0},!e.dontlint){r[t++]=!0;for(var A2=0,uk=e.vals.length-1;A2<=uk;A2+=1){e.ai=l(e.ais,A2),e.val=l(e.vals,A2);var fk=l(e.gs1syntax,e.ai)!==void 0;if(fk){var Tv=l(l(e.gs1syntax,e.ai),"parts");if(r[t++]=Tv,r[t++]=0,ve(Tv,function(){var tt=r[t-1];if(l(tt,"opt"))r[t-1]=0;else{var Bt=l(r[--t],"min");r[t++]=Bt}var kr=r[--t],vr=r[--t];r[t++]=S(vr+kr)}),r[--t]>e.val.length){t--,r[t++]="bwipp.GS1valueTooShort#3537",r[t++]="Too short",r[t++]=!1;break}var hk=r[t-1];if(r[t++]=0,ve(hk,function(){var tt=l(r[--t],"max"),Bt=r[--t];r[t++]=S(Bt+tt)}),r[--t]<e.val.length){t--,r[t++]="bwipp.GS1valueTooLong#3540",r[t++]="Too long",r[t++]=!1;break}ve(r[--t],function(){e.props=r[--t];var tt=l(e.props,"max"),Bt=e.val,kr=Bt.length;if(tt>Bt.length){var vr=kr;kr=tt,tt=vr}e.eval=N(e.val,0,tt);var Br=e.eval.length;if(e.val=N(e.val,Br,e.val.length-Br),e.eval.length==0){if(!l(e.props,"opt"))return t--,r[t++]="bwipp.GS1valueTooShort#3549",r[t++]="Too short",r[t++]=!1,!0}else{if(e.eval.length<l(e.props,"min"))return t--,r[t++]="bwipp.GS1valueTooShort#3553",r[t++]="Too short",r[t++]=!1,!0;var la=new Map([["N","lintnumeric"],["X","lintcset82"],["Y","lintcset39"],["Z","lintcset64"]]);if(r[t++]=e.eval,e[l(la,l(e.props,"cset"))]()===!0)return!0;ve(l(e.props,"linters"),function(){var fa=e[r[--t]];if(r[t++]=e.eval,fa()===!0)return!0})}});var pk=r[t-1];if(!pk)break;if(e.val.length!=0){t--,r[t++]="bwipp.GS1valueTooLong#3562",r[t++]="Too long",r[t++]=!1;break}}else{t--,r[t++]="bwipp.GS1unknownAI#3565",r[t++]="Unrecognised AI",r[t++]=!1;break}}if(!r[--t]){var Mv=r[--t],Xc=X(Mv.length+e.ai.length+5);R(Xc,0,"AI "),R(Xc,3,e.ai),R(Xc,3+e.ai.length,": "),R(Xc,5+e.ai.length,Mv),r[t++]=Xc,z()}e.aiexists=function(){e.this=r[--t],e.patt=r[--t];for(var tt=0;tt<1;tt++){var Bt=l(e.aivals,e.patt)!==void 0;if(Bt){r[t++]=!0;break}if(e.patt.length==4){if(V(N(e.patt,3,1),"n")){var kr=V(N(e.patt,2,1),"n")?2:3;e.pfxlen=kr;var vr=e.ais;r[t++]=!1;for(var Br=0,la=vr.length;Br<la;Br++){var fa=l(vr,Br);r[t++]=fa,Ee(fa,e.this)&&fa.length==4?V(N(r[--t],0,e.pfxlen),N(e.patt,0,e.pfxlen))&&(r[t-1]=!0):t--}break}r[t++]=!1;break}r[t++]=!1;break}},e.vals,e.aivals=new Map;for(var k2=0,mk=e.vals.length-1;k2<=mk;k2+=1){e.ai=l(e.ais,k2),e.val=l(e.vals,k2);var vk=l(e.aivals,e.ai)!==void 0;if(vk){if(Ee(l(e.aivals,e.ai),e.val)){var j2=X(e.ai.length+40);R(j2,0,"Repeated AIs ("),R(j2,14,e.ai),R(j2,14+e.ai.length,") must have the same value"),r[t++]="bwipp.GS1repeatedDifferingAIs#3615",r[t++]=j2,z()}}else b(e.aivals,e.ai,e.val)}for(var bf=0,xk=e.vals.length-1;bf<=xk;bf+=1){e.ai=l(e.ais,bf);var Fv=l(e.gs1syntax,e.ai),gk=l(Fv,"ex")!==void 0;if(r[t++]=Fv,r[t++]="ex",gk){var bk=r[--t];ve(l(r[--t],bk),function(){if(e.patt=r[--t],r[t++]=e.patt,r[t++]=e.ai,e.aiexists(),r[--t]){var tt=X(e.ai.length+e.patt.length+36);R(tt,0,"AIs ("),R(tt,5,e.ai),R(tt,5+e.ai.length,") and ("),R(tt,12+e.ai.length,e.patt),R(tt,12+e.ai.length+e.patt.length,") are mutually exclusive"),r[t++]="bwipp.GS1exclusiveAIs#3635",r[t++]=tt,z()}})}else t-=2;if(e.lintreqs){var _v=l(e.gs1syntax,e.ai),wk=l(_v,"req")!==void 0;if(r[t++]=_v,r[t++]="req",wk){var yk=r[--t];ve(l(r[--t],yk),function(){var tt=r[--t];if(r[t++]=!1,ve(tt,function(){var _s=r[--t];if(r[t++]=!0,ve(_s,function(){r[t++]=e.ai,e.aiexists(),r[--t]||(r[t-1]=!1)}),r[--t])return r[t-1]=!0,!0}),!r[--t]){r[t++]=1/0,ve(l(l(e.gs1syntax,e.ai),"req"),function(){ve(r[--t],function(){ve(r[--t],function(){r[t++]="+"}),r[t-1]=" OR "}),r[t-1]=" WITH "}),t--;var Bt=s();r[t++]=Bt,r[t++]=0;for(var kr=0,vr=Bt.length;kr<vr;kr++){var Br=r[--t];r[t++]=S(Br+l(Bt,kr).length)}var la=e.ai.length+49;r[t++]=la,r[t++]=la;var fa=r[t-3],As=X(S(r[t-1]+fa)),Ga=r[t-2];t-=3,r[t++]=As,r[t++]=Ga,Ea(3,-1),ve(r[--t],function(){var _s=r[--t],Ps=r[--t],Ys=r[t-1];R(Ys,Ps,_s),r[t++]=S(_s.length+Ps)}),t--;var ks=r[--t];R(ks,0,"One of more requisite AIs for AI ("),R(ks,34,e.ai),R(ks,34+e.ai.length,") are missing: "),r[t++]="bwipp.GS1missingAIs#3662",r[t++]=ks,z()}})}else t-=2}}}r[t++]=e.ais,r[t++]=e.vals,r[t++]=e.fncs,e=a}function i2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=5&&(r[t++]="bwipp.ean5badLength#4997",r[t++]="EAN-5 add-on must be 5 digits",z()),ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.ean5badCharacter#5001",r[t++]="EAN-5 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["11000","10100","10010","10001","01100","00110","00011","01010","01001","00101"]),e.checksum=0;for(var n=0;n<=4;n+=1)e.i=n,e.barchar=l(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar*3+e.checksum):e.checksum=S(e.barchar*9+e.checksum);e.checksum=e.checksum%10,e.mirrormap=l(e.mirrormaps,e.checksum),e.sbs=X(31),e.txt=s(5);for(var i=0;i<=4;i+=1){if(e.i=i,e.i==0?R(e.sbs,0,l(e.encs,10)):R(e.sbs,(e.i-1)*6+7,l(e.encs,11)),Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),l(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=X(e.enclen);for(var o=0,c=e.enclen-1;o<=c;o+=1)e.j=o,e.char=l(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,e.i*6+3,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var d=e.sbs,f=0,h=d.length;f<h;f++)r[t++]=l(d,f)-48;var p=s();r[t++]=1/0;for(var m=0;m<16;m++)r[t++]=e.height;var v=s();r[t++]=1/0;for(var w=0;w<16;w++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=p,r[t++]="bhs",r[t++]=v,r[t++]="bbs",r[t++]=y,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var x=Pe();r[t++]=x,e.dontdraw||Mt(),e=a}function o2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=2&&(r[t++]="bwipp.ean2badLength#5142",r[t++]="EAN-2 add-on must be 2 digits",z()),ve(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.ean2badCharacter#5146",r[t++]="EAN-2 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["00","01","10","11"]),e.mirrormap=l(e.mirrormaps,Ce(N(e.barcode,0,2))%4),e.sbs=X(13),e.txt=s(2);for(var n=0;n<=1;n+=1){if(e.i=n,e.i==0?R(e.sbs,0,l(e.encs,10)):R(e.sbs,(e.i-1)*6+7,l(e.encs,11)),Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),l(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=X(e.enclen);for(var i=0,o=e.enclen-1;i<=o;i+=1)e.j=i,e.char=l(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,e.i*6+3,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var c=e.sbs,d=0,f=c.length;d<f;d++)r[t++]=l(c,d)-48;var h=s();r[t++]=1/0;for(var p=0;p<12;p++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var v=0;v<12;v++)r[t++]=0;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=h,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=w,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var y=Pe();r[t++]=y,e.dontdraw||Mt(),e=a}function l2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-11,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Tt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=12&&e.barcode.length!=13&&(r[t++]="bwipp.ean13badLength#5286",r[t++]="EAN-13 must be 12 or 13 digits",z()),ve(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.ean13badCharacter#5290",r[t++]="EAN-13 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean13badAddOnLength#5294",r[t++]="Add-on for EAN-13 must be 2 or 5 digits",z()),e.pad=X(13),e.checksum=0;for(var n=0;n<=11;n+=1)e.i=n,e.barchar=l(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==13&&l(e.barcode,12)!=e.checksum+48&&(r[t++]="bwipp.ean13badCheckDigit#5312",r[t++]="Incorrect EAN-13 check digit provided",z()),R(e.pad,0,e.barcode),b(e.pad,12,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.mirrormaps=s(["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"]),e.sbs=X(59),e.txt=s(13),R(e.sbs,0,l(e.encs,10)),e.mirrormap=l(e.mirrormaps,l(e.barcode,0)-48),b(e.txt,0,s([N(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize]));for(var i=1;i<=6;i+=1){if(e.i=i,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),l(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=X(e.enclen);for(var o=0,c=e.enclen-1;o<=c;o+=1)e.j=o,e.char=l(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,(e.i-1)*4+3,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i-1)*7+15+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}R(e.sbs,6*4+3,l(e.encs,11));for(var d=7;d<=12;d+=1)e.i=d,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,(e.i-1)*4+8,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i-1)*7+19+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,56,l(e.encs,12)),r[t++]=1/0;for(var f=e.sbs,h=0,p=f.length;h<p;h++)r[t++]=l(f,h)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var m=0;m<12;m++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var v=0;v<12;v++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var w=0;w<12;w++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var y=0;y<12;y++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var x=0;x<30;x++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var g=0;g<30;g++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var A=r[--t];r[t++]=S(A-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var j=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=j,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(l(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(l(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(l(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(l(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=11,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var C=Pe();r[t++]=C,e.dontdraw||Mt(),e=a}function Qm(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=4,e.textyoffset=-4,e.height=1,e.permitaddon=!1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Tt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.ean8badLength#5507",r[t++]="EAN-8 must be 7 or 8 digits",z()),ve(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.ean8badCharacter#5511",r[t++]="EAN-8 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean8badAddOnLength#5515",r[t++]="Add-on for EAN-8 must be 2 or 5 digits",z()),!e.permitaddon&&e.addon.length!=0&&(r[t++]="bwipp.ean8badAddOnLength#5518",r[t++]='Non-standard use of add-on for EAN-8 requires "permitaddon" option',z()),e.pad=X(8),e.checksum=0;for(var n=0;n<=6;n+=1)e.i=n,e.barchar=l(e.barcode,e.i)-48,e.i%2!=0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&l(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.ean8badCheckDigit#5536",r[t++]="Incorrect EAN-8 check digit provided",z()),R(e.pad,0,e.barcode),b(e.pad,7,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=X(43),e.txt=s(8),R(e.sbs,0,l(e.encs,10));for(var i=0;i<=3;i+=1)e.i=i,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*4+3,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*7+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,4*4+3,l(e.encs,11));for(var o=4;o<=7;o+=1)e.i=o,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*4+8,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*7+e.textxoffset+4,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,40,l(e.encs,12)),r[t++]=1/0;for(var c=e.sbs,d=0,f=c.length;d<f;d++)r[t++]=l(c,d)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var h=0;h<8;h++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var p=0;p<8;p++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var m=0;m<8;m++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var v=0;v<8;v++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var w=0;w<22;w++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var y=0;y<22;y++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var x=r[--t];r[t++]=S(x-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=67+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var g=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=g,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(l(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(l(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(l(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(l(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardleftpos",r[t++]=7,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=7,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var A=Pe();r[t++]=A,e.dontdraw||Mt(),e=a}function Ey(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Tt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==7||e.barcode.length==8){ve(e.barcode,function(){var H=r[--t];(H<48||H>57)&&(r[t++]="bwipp.upcAupcEbadCharacter#5714",r[t++]="UPC-E must contain only digits",z())});var n=l(e.barcode,0);n!=48&&n!=49&&(r[t++]="bwipp.upcAupcEbadNumberSystem#5718",r[t++]="UPC-E must have number system 0 or 1",z());for(var i=0;i<1;i++){var o=e.barcode.length==8?12:11;if(e.upcacode=X(o),l(e.barcode,6)-48<=2){R(e.upcacode,0,N(e.barcode,0,3)),R(e.upcacode,3,N(e.barcode,6,1)),R(e.upcacode,4,"0000"),R(e.upcacode,8,N(e.barcode,3,3));break}if(l(e.barcode,6)-48==3){R(e.upcacode,0,N(e.barcode,0,4)),R(e.upcacode,4,"00000"),R(e.upcacode,9,N(e.barcode,4,2));break}if(l(e.barcode,6)-48==4){R(e.upcacode,0,N(e.barcode,0,5)),R(e.upcacode,5,"00000"),R(e.upcacode,10,N(e.barcode,5,1));break}if(l(e.barcode,6)-48>=5){R(e.upcacode,0,N(e.barcode,0,6)),R(e.upcacode,6,"0000"),R(e.upcacode,10,N(e.barcode,6,1));break}}e.barcode.length==8&&R(e.upcacode,11,N(e.barcode,7,1)),e.barcode=e.upcacode}e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.upcAbadLength#5756",r[t++]="UPC-A must be 11 or 12 digits",z());for(var c=e.barcode,d=0,f=c.length;d<f;d++){var h=l(c,d);(h<48||h>57)&&(r[t++]="bwipp.upcAbadCharacter#5760",r[t++]="UPC-A must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcAbadAddOnLength#5764",r[t++]="Add-on for UPC-A must be 2 or 5 digits",z()),e.pad=X(12),e.checksum=0;for(var p=0;p<=10;p+=1)e.i=p,e.barchar=l(e.barcode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&l(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.upcAbadCheckDigit#5782",r[t++]="Incorrect UPC check digit provided",z()),R(e.pad,0,e.barcode),b(e.pad,11,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=X(59),e.txt=s(12),R(e.sbs,0,l(e.encs,10));for(var m=0;m<=5;m+=1)e.i=m,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*4+3,e.enc),e.i==0?b(e.txt,0,s([N(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])):b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,6*4+3,l(e.encs,11));for(var v=6;v<=11;v+=1)e.i=v,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*4+8,e.enc),e.i==11?b(e.txt,11,s([N(e.barcode,11,1),e.textxoffset+107,e.textyoffset,e.textfont,e.textsize-2])):b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*7+e.textxoffset+17,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,56,l(e.encs,12)),r[t++]=1/0;for(var w=e.sbs,y=0,x=w.length;y<x;y++)r[t++]=l(w,y)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0;for(var g=0;g<4;g++)r[t++]=e.height;for(var A=0;A<10;A++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var j=0;j<10;j++)r[t++]=S(e.height-.075);for(var C=0;C<4;C++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var k=0;k<10;k++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var E=0;E<10;E++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<30;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<30;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var M=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=M,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(l(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(l(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(l(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(l(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var T=Pe();r[t++]=T,e.dontdraw||Mt(),e=a}function Ny(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Tt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==11||e.barcode.length==12){ve(e.barcode,function(){var H=r[--t];(H<48||H>57)&&(r[t++]="bwipp.upcEupcAbadCharacter#5967",r[t++]="UPC-A must contain only digits",z())});for(var n=0;n<1;n++){var i=e.barcode.length==12?8:7;if(e.upcecode=X(i),l(e.barcode,3)-48<=2&&V(N(e.barcode,4,4),"0000")){R(e.upcecode,0,N(e.barcode,0,3)),R(e.upcecode,3,N(e.barcode,8,3)),R(e.upcecode,6,N(e.barcode,3,1));break}if(V(N(e.barcode,4,5),"00000")){R(e.upcecode,0,N(e.barcode,0,4)),R(e.upcecode,4,N(e.barcode,9,2)),R(e.upcecode,6,"3");break}if(V(N(e.barcode,5,5),"00000")){R(e.upcecode,0,N(e.barcode,0,5)),R(e.upcecode,5,N(e.barcode,10,1)),R(e.upcecode,6,"4");break}if(l(e.barcode,10)-48>=5&&V(N(e.barcode,6,4),"0000")){R(e.upcecode,0,N(e.barcode,0,6)),R(e.upcecode,6,N(e.barcode,10,1));break}r[t++]="bwipp.upcEupcAnotCompressible#5995",r[t++]="UPC-A cannot be converted to a UPC-E",z()}e.barcode.length==12&&R(e.upcecode,7,N(e.barcode,11,1)),e.barcode=e.upcecode}e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.upcEbadLength#6005",r[t++]="UPC-E must be 7 or 8 digits",z());for(var o=e.barcode,c=0,d=o.length;c<d;c++){var f=l(o,c);(f<48||f>57)&&(r[t++]="bwipp.upcEbadCharacter#6009",r[t++]="UPC-E must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcEbadAddOnLength#6013",r[t++]="Add-on for UPC-E must be 2 or 5 digits",z());var h=l(e.barcode,0);h!=48&&h!=49&&(r[t++]="bwipp.upcEbadNumberSystem#6018",r[t++]="UPC-E must have number system 0 or 1",z()),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","111111"]),e.barchars="0123456789",e.mirrormaps=s(["000111","001011","001101","001110","010011","011001","011100","010101","010110","011010"]);for(var p=0;p<1;p++){if(e.upcacode=X(11),l(e.barcode,6)-48<=2){R(e.upcacode,0,N(e.barcode,0,3)),R(e.upcacode,3,N(e.barcode,6,1)),R(e.upcacode,4,"0000"),R(e.upcacode,8,N(e.barcode,3,3));break}if(l(e.barcode,6)-48==3){R(e.upcacode,0,N(e.barcode,0,4)),R(e.upcacode,4,"00000"),R(e.upcacode,9,N(e.barcode,4,2));break}if(l(e.barcode,6)-48==4){R(e.upcacode,0,N(e.barcode,0,5)),R(e.upcacode,5,"00000"),R(e.upcacode,10,N(e.barcode,5,1));break}if(l(e.barcode,6)-48>=5){R(e.upcacode,0,N(e.barcode,0,6)),R(e.upcacode,6,"0000"),R(e.upcacode,10,N(e.barcode,6,1));break}}e.checksum=0;for(var m=0;m<=10;m+=1)e.i=m,e.barchar=l(e.upcacode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&l(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.upcEbadCheckDigit#6080",r[t++]="Incorrect UPC check digit provided",z()),e.pad=X(8),R(e.pad,0,e.barcode),b(e.pad,7,e.checksum+48),e.barcode=e.pad,e.txt=s(8),b(e.txt,0,s([N(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),e.mirrormap=l(e.mirrormaps,e.checksum),l(e.barcode,0)==48){e.invt=X(e.mirrormap.length);for(var v=0,w=e.mirrormap.length-1;v<=w;v+=1)e.i=v,l(e.mirrormap,e.i)==48?b(e.invt,e.i,49):b(e.invt,e.i,48);e.mirrormap=e.invt}e.sbs=X(33),R(e.sbs,0,l(e.encs,10));for(var y=1;y<=6;y+=1){if(e.i=y,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),l(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=X(e.enclen);for(var x=0,g=e.enclen-1;x<=g;x+=1)e.j=x,e.char=l(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,(e.i-1)*4+3,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i-1)*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}b(e.txt,7,s([N(e.barcode,7,1),6*7+21+e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),R(e.sbs,27,l(e.encs,11)),r[t++]=1/0;for(var A=e.sbs,j=0,C=A.length;j<C;j++)r[t++]=l(A,j)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var k=0;k<12;k++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var E=0;E<12;E++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<17;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<17;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=51+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var M=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=M,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(l(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(l(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(l(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(l(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var T=Pe();r[t++]=T,e.dontdraw||Mt(),e=a}function oT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.isbntextfont="OCR-A",e.isbntextsize=8,e.isbntextxoffset=null,e.isbntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Tt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.isbnBadLength#6249",r[t++]="ISBN-13 must be 15 or 17 characters including dashes. ISBN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.isbnBadAddOnLength#6252",r[t++]="Add-on for ISBN must be 2 or 5 digits",z()),e.barcode.length>=15){var n=N(e.barcode,0,4);Ee(n,"978-")&&Ee(n,"979-")&&(r[t++]="bwipp.isbn13badPrefix#6256",r[t++]="ISBN-13 prefix must be 978- or 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var i=N(e.barcode,5,9),o=0,c=i.length;o<c;o++){var d=l(i,o);r[t++]=d,d==45&&(e.wasdash&&(r[t++]="bwipp.isbn13adjacentDashes#6263",r[t++]="ISBN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var f=r[--t];f>=48&&f<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn13numDashesDigits#6274",r[t++]="Incorrect number of dashes and digits for ISBN-13",z());var h=l(e.barcode,14);if((h<48||h>57)&&(r[t++]="bwipp.isbn13character15#6277",r[t++]="ISBN-13 character 15 must be a digit",z()),e.barcode.length==17){Ee(N(e.barcode,15,1),"-")&&(r[t++]="bwipp.isbn13character16#6281",r[t++]="ISBN-13 penultimate character must be a dash",z());var p=l(e.barcode,16);(p<48||p>57)&&(r[t++]="bwipp.isbn13character17#6284",r[t++]="ISBN-13 final character must be a digit",z())}}else{var m=l(e.barcode,0);(m<48||m>57)&&(r[t++]="bwipp.isbn10FirstDigit#6289",r[t++]="ISBN-10 first character must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var v=N(e.barcode,1,9),w=0,y=v.length;w<y;w++){var x=l(v,w);r[t++]=x,x==45&&(e.wasdash&&(r[t++]="bwipp.isbn10adjacentDashes#6296",r[t++]="ISBN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var g=r[--t];g>=48&&g<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn10numDashesDigits#6307",r[t++]="Incorrect number of dashes and digits for ISBN-10",z());var A=l(e.barcode,10);if((A<48||A>57)&&(r[t++]="bwipp.isbn10character11#6310",r[t++]="ISBN-10 character 11 must be a digit",z()),e.barcode.length==13){Ee(N(e.barcode,11,1),"-")&&(r[t++]="bwipp.isbn10character12#6314",r[t++]="ISBN-10 penultimate character must be a dash",z());var j=l(e.barcode,12);(j<48||j>57)&&j!=88&&(r[t++]="bwipp.isbn10character13#6317",r[t++]="ISBN-10 final character must be a digit or X",z())}}if(e.isbntxt=e.barcode,e.isbntxt.length<=13){for(e.isbn=X(10),e.checksum=0,e.i=0,e.n=0;e.isbnchar=l(e.isbntxt,e.i)-48,e.isbnchar!=-3&&(b(e.isbn,e.n,e.isbnchar+48),e.n<9&&(e.checksum=S(e.checksum+(10-e.n)*e.isbnchar)),e.n=e.n+1),e.i=e.i+1,e.i!=e.isbntxt.length;);var C=(11-e.checksum%11)%11;r[t++]="checksum",r[t++]=C,C==10&&(r[t-1]=40);var k=r[--t];e[r[--t]]=k+48,e.isbn=N(e.isbn,0,9),e.isbntxt.length==13&&l(e.isbntxt,12)!=e.checksum&&(r[t++]="bwipp.isbn10badCheckDigit#6345",r[t++]="Incorrect ISBN-10 check digit provided",z())}if(!e.legacy||e.isbntxt.length>=15){for(e.isbntxt.length<=13&&(e.pad=X(15),R(e.pad,0,"978-"),R(e.pad,4,N(e.isbntxt,0,11)),e.isbntxt=e.pad),e.isbn=X(13),e.checksum=0,e.i=0,e.n=0;;){if(e.isbnchar=l(e.isbntxt,e.i)-48,e.isbnchar!=-3){if(b(e.isbn,e.n,e.isbnchar+48),e.n<12){if(r[t++]="checksum",r[t++]=e.isbnchar,e.n%2!=0){var E=r[--t];r[t++]=E*3}var B=r[--t];e[r[--t]]=S(B+e.checksum)}e.n=e.n+1}if(e.i=e.i+1,e.i==e.isbntxt.length)break}e.checksum=(10-e.checksum%10)%10+48,e.isbn=N(e.isbn,0,12),e.isbntxt.length==17&&l(e.isbntxt,16)!=e.checksum&&(r[t++]="bwipp.isbn13badCheckDigit#6380",r[t++]="Incorrect ISBN-13 check digit provided",z())}var I=e.isbn.length==12?22:18;if(e.pad=X(I),R(e.pad,0,"ISBN "),R(e.pad,5,e.isbntxt),b(e.pad,e.pad.length-2,45),b(e.pad,e.pad.length-1,e.checksum),e.isbntxt=e.pad,e.barcode=X(12),e.isbn.length==9?(R(e.barcode,0,"978"),R(e.barcode,3,e.isbn)):R(e.barcode,0,e.isbn),e.addon.length!=0){var D=X(12+e.addon.length+1);R(D,0,e.barcode),R(D,12," "),R(D,13,e.addon),e.barcode=D}b(e.options,"dontdraw",!0),b(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var M=r[--t];if(e[r[--t]]=M,e.includetext){if(e.isbntextxoffset==null){r[t++]="isbntextxoffset",e.isbn.length==9?r[t++]=-1:r[t++]=-12;var T=r[--t];e[r[--t]]=T}e.isbntextyoffset==null&&(e.isbntextyoffset=e.height*72+3);var H=l(e.args,"txt")!==void 0;H?(e.txt=l(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function lT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.ismntextfont="OCR-A",e.ismntextsize=8,e.ismntextxoffset=null,e.ismntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Tt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.ismnBadLength#6499",r[t++]="ISMN-13 must be 15 or 17 characters including dashes. ISMN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ismnBadAddOnLength#6502",r[t++]="Add-on for ISMN must be 2 or 5 digits",z()),e.barcode.length>=15){Ee(N(e.barcode,0,4),"979-")&&(r[t++]="bwipp.ismn13badPrefix#6506",r[t++]="ISMN-13 prefix must be 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var n=N(e.barcode,5,9),i=0,o=n.length;i<o;i++){var c=l(n,i);r[t++]=c,c==45&&(e.wasdash&&(r[t++]="bwipp.ismn13adjacentDashes#6513",r[t++]="ISMN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var d=r[--t];d>=48&&d<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.ismn13numDashesDigits#6524",r[t++]="Incorrect number of dashes and digits for ISMN-13",z());var f=l(e.barcode,14);if((f<48||f>57)&&(r[t++]="bwipp.ismn13character15#6527",r[t++]="ISMN-13 character 15 must be a digit",z()),e.barcode.length==17){Ee(N(e.barcode,15,1),"-")&&(r[t++]="bwipp.ismn13character16#6531",r[t++]="ISMN-13 penultimate character must be a dash",z());var h=l(e.barcode,16);(h<48||h>57)&&(r[t++]="bwipp.ismn13character17#6534",r[t++]="ISMN-13 final character must be a digit",z())}}else{Ee(N(e.barcode,0,2),"M-")&&(r[t++]="bwipp.ismn10badPrefix#6539",r[t++]="ISMN-10 prefix must be M-",z());var p=l(e.barcode,2);(p<48||p>57)&&(r[t++]="bwipp.ismn10character3#6542",r[t++]="ISMN-10 character 3 must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var m=N(e.barcode,3,7),v=0,w=m.length;v<w;v++){var y=l(m,v);r[t++]=y,y==45&&(e.wasdash&&(r[t++]="bwipp.ismn10adjacentDashes#6549",r[t++]="ISMN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var x=r[--t];x>=48&&x<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=1||e.numdigit!=6)&&(r[t++]="bwipp.ismn10numDashesDigits#6560",r[t++]="Incorrect number of dashes and digits for ISMN-10",z());var g=l(e.barcode,10);if((g<48||g>57)&&(r[t++]="bwipp.ismn10character11#6563",r[t++]="ISMN-10 character 11 must be a digit",z()),e.barcode.length==13){var A=N(e.barcode,11,1);Ee(A,"-")&&(r[t++]="bwipp.ismn10character12#6567",r[t++]="ISMN-10 penultimate character must be a dash",z());var j=l(e.barcode,12);(j<48||j>57)&&j!=88&&(r[t++]="bwipp.ismn10character13#6570",r[t++]="ISMN-10 final character must be a digit or X",z())}}for(e.ismntxt=e.barcode,e.legacytxt="",e.ismntxt.length<=13&&(e.legacytxt=e.ismntxt,e.pad=X(e.ismntxt.length+4),R(e.pad,0,"979-0-"),R(e.pad,6,N(e.ismntxt,2,e.ismntxt.length-2)),e.ismntxt=e.pad),e.ismn=X(13),e.checksum=0,e.i=0,e.n=0;e.ismnchar=l(e.ismntxt,e.i)-48,e.ismnchar!=-3&&(b(e.ismn,e.n,e.ismnchar+48),e.n<12&&(e.n%2==0?e.checksum=e.ismnchar+e.checksum:e.checksum=e.ismnchar*3+e.checksum),e.n=e.n+1),e.i=e.i+1,e.i!=e.ismntxt.length;);if(e.checksum=(10-e.checksum%10)%10+48,e.barcode.length==13||e.barcode.length==17){var C=e.barcode;l(C,C.length-1)!=e.checksum&&(r[t++]="bwipp.ismnBadCheckDigit#6612",r[t++]="Incorrect ISMN check digit provided",z())}if(e.legacy&&e.legacytxt.length!=0?(e.ismntxt=e.legacytxt,e.pad=X(18)):e.pad=X(22),R(e.pad,0,"ISMN "),R(e.pad,5,e.ismntxt),b(e.pad,e.pad.length-2,45),b(e.pad,e.pad.length-1,e.checksum),e.ismntxt=e.pad,e.barcode=N(e.ismn,0,12),e.addon.length!=0){var k=X(12+e.addon.length+1);R(k,0,e.barcode),R(k,12," "),R(k,13,e.addon),e.barcode=k}b(e.options,"dontdraw",!0),b(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var E=r[--t];if(e[r[--t]]=E,e.includetext){if(e.ismntextxoffset==null){r[t++]="ismntextxoffset",e.ismntxt.length==18?r[t++]=-1:r[t++]=-12;var B=r[--t];e[r[--t]]=B}e.ismntextyoffset==null&&(e.ismntextyoffset=e.height*72+3);var I=l(e.args,"txt")!==void 0;I?(e.txt=l(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function cT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.issntextfont="OCR-A",e.issntextsize=8,e.issntextxoffset=null,e.issntextyoffset=null,e.height=1,e.addongap=12,r[t++]=e,qe(),e.options=r[--t],e.issntxt=r[--t],Tt(e.issntxt," "),r[--t]?(e.issntxt=r[--t],t--,e.seqvar=r[--t]):(t--,e.seqvar="00"),Tt(e.seqvar," "),r[--t]?(e.seqvar=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.issntxt.length!=8&&e.issntxt.length!=9&&(r[t++]="bwipp.issnBadLength#6736",r[t++]="ISSN must be 8 or 9 characters including dash, in the format XXXX-XXXX",z());for(var n=N(e.issntxt,0,4),i=0,o=n.length;i<o;i++){var c=l(n,i);(c<48||c>57)&&(r[t++]="bwipp.issnFirstThroughFourthNotNumeric#6740",r[t++]="ISSN first four characters must be numeral characters",z())}Ee(N(e.issntxt,4,1),"-")&&(r[t++]="bwipp.issnNeedsDash#6744",r[t++]="ISSN fifth character must be a dash",z());for(var d=N(e.issntxt,5,3),f=0,h=d.length;f<h;f++){var p=l(d,f);(p<48||p>57)&&(r[t++]="bwipp.issnSixthThroughEighthNotNumeric#6748",r[t++]="ISSN sixth through eighth characters must be numerals",z())}if(e.issntxt.length==9){var m=l(e.issntxt,8);(m<48||m>57)&&m!=88&&(r[t++]="bwipp.issnNinthCharacterBadFormat#6753",r[t++]="ISSN ninth character must be a number or the character X",z())}for(e.seqvar.length!=2&&(r[t++]="bwipp.issnBadSequenceVariantLength#6757",r[t++]="Sequence variant for ISSN must be 2 digits",z()),ve(e.seqvar,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.issnSequenceVariantBadCharacter#6761",r[t++]="Sequence variant for ISSN must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.issnBadAddOnLength#6765",r[t++]="Add-on for ISSN must be 2 or 5 digits",z()),e.issn=X(8),e.checksum=0,e.i=0,e.n=0;e.issnchar=l(e.issntxt,e.i)-48,e.issnchar!=-3&&(b(e.issn,e.n,e.issnchar+48),e.n<7&&(e.checksum=S(e.checksum+e.issnchar*(8-e.n))),e.n=e.n+1),e.i=e.i+1,e.i!=e.issntxt.length;);e.checksum=(11-e.checksum%11)%11;var v=e.checksum+48;r[t++]="checksum",r[t++]=v,v==58&&(r[t-1]=88);var w=r[--t],y=r[--t];if(e[y]=w,e.issntxt.length==9&&l(e.issntxt,8)!=e.checksum&&(r[t++]="bwipp.issnBadCheckDigit#6788",r[t++]="Incorrect ISSN check digit provided",z()),e.pad=X(14),R(e.pad,0,"ISSN "),R(e.pad,5,e.issntxt),b(e.pad,13,e.checksum),e.issntxt=e.pad,e.barcode=N(e.issn,0,7),e.barcode=X(12),R(e.barcode,0,"977"),R(e.barcode,3,e.issn),R(e.barcode,10,e.seqvar),e.addon.length!=0){var x=X(12+e.addon.length+1);R(x,0,e.barcode),R(x,12," "),R(x,13,e.addon),e.barcode=x}b(e.options,"dontdraw",!0),b(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var g=r[--t];if(e[r[--t]]=g,e.includetext){e.issntextxoffset==null&&(e.issntextxoffset=10),e.issntextyoffset==null&&(e.issntextyoffset=e.height*72+3);var A=l(e.args,"txt")!==void 0;A?(e.txt=l(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function dT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,e.barlen!=7&&e.barlen!=8&&(r[t++]="bwipp.MandSbadLength#6884",r[t++]="M&S barcode must be 7 or 8 characters",z()),e.barlen==7){var n=_r(X(8),"00000000");R(n,1,e.barcode),e.barcode=n}b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Qm();var i=r[--t];e[r[--t]]=i;var o=l(e.args,"bbs");b(o,10,l(o,2)),b(o,11,l(o,2));var c=l(e.args,"bhs");if(b(c,10,l(c,2)),b(c,11,l(c,2)),e.txt=l(e.args,"txt"),e.barlen==7){for(var d=0;d<=6;d+=1){var f=e.txt;R(l(l(f,d),0),0,l(l(f,d+1),0))}R(l(l(e.txt,7),0),0," ")}var h=s(10);R(h,0,e.txt),e.txt=h;var p=l(e.txt,0);b(e.txt,8,cc(s(p.length),p));var m=l(e.txt,0);b(e.txt,9,cc(s(m.length),m)),b(l(e.txt,8),0,"M"),b(l(e.txt,8),1,-12),b(l(e.txt,9),0,"S");var v=l(e.txt,9);b(v,1,69),b(e.args,"txt",e.txt),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function c2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.raw=!1,e.newencoder=!1,e.parse=!1,e.parsefnc=!1,e.suppressc=!1,e.unlatchextbeforec=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.sta=-1,e.stb=-2,e.stc=-3,e.swa=-4,e.swb=-5,e.swc=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10,e.sft=-11,e.stp=-12,e.lka=-13,e.lkc=-14;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3],["LNKA",e.lka],["LNKC",e.lkc]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];if(e[r[--t]]=i,e.msglen=e.msg.length,e.encoding="legacy",e.newencoder&&(e.encoding="new"),e.raw&&(e.encoding="raw"),V(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ce(N(e.barcode,e.i+1,3)),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=N(e.cws,0,e.j),e.text=""}else{e.text=X(e.msglen);for(var o=0,c=e.msglen-1;o<=c;o+=1){e.i=o;var d=l(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=d,d<0&&(r[t-1]=32);var f=r[--t],h=r[--t];b(r[--t],h,f)}}e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stb,e.stb,e.stb]),s([e.stc,e.stc,e.stc]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=l(e.charmaps,e.i);for(var v=0;v<=2;v+=1){e.j=v;var w=l(e.encs,e.j);if(r[t++]=w,V(tn(w),"stringtype")){var y=l(r[--t],0);r[t++]=y}b(l(e.charvals,e.j),r[--t],e.i)}}if(V(e.encoding,"legacy")){e.seta=l(e.charvals,0),b(e.seta,e.lka,l(e.seta,e.swb)),b(e.seta,e.lkc,l(e.seta,e.swc)),e.setb=l(e.charvals,1),b(e.setb,e.lka,l(e.setb,e.swc)),b(e.setb,e.lkc,l(e.setb,e.swa)),e.setc=l(e.charvals,2),b(e.setc,e.lka,l(e.setc,e.swa)),b(e.setc,e.lkc,l(e.setc,e.swb)),r[t++]=1/0;for(var x=0,g=e.msglen;x<g;x++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var A=0,j=e.msglen;A<j;A++)r[t++]=0;r[t++]=0,e.numEA=s();for(var C=e.msglen-1;C>=0;C-=1)e.i=C,l(e.msg,e.i)>=0&&(l(e.msg,e.i)>=128?b(e.numEA,e.i,l(e.numEA,e.i+1)+1):b(e.numSA,e.i,l(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var k=0,E=e.msglen-1;k<=E;k+=1){if(e.i=k,e.c=l(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var B=l(r[--t],e.i),I=S(B+e.i)==e.msglen?3:5;B<I?(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,U(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var ye=l(e.msg,e.p),He=l(e.setc,ye)!==void 0;if(r[t++]=ye,!He){t--;break}var Ue=r[t-1];if(Ue<=-1){var We=r[--t];if(We==e.fn1&&e.s%2==0)e.s=e.s+1;else break}else t--;e.s=e.s+1,e.p=e.p+1}r[t++]=e.s},e.enca=function(){b(e.cws,e.j,l(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){b(e.cws,e.j,l(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var ye=r[t-1];if(Ee(tn(ye),"arraytype")){var He=l(e.setc,r[--t]);r[t++]=He}else{U(r[--t]);var Ue=r[--t],We=r[--t];r[t++]=S(Ue-48+(We-48)*10)}b(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var ye=r[--t],He=l(e.seta,ye)!==void 0,Ue=l(e.setb,ye)!==void 0;r[t++]=He&&!Ue},e.bnota=function(){var ye=r[--t],He=l(e.setb,ye)!==void 0,Ue=l(e.seta,ye)!==void 0;r[t++]=He&&!Ue},r[t++]=1/0;for(var D=0,M=e.msg.length;D<M;D++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var T=0,H=e.msg.length;T<H;T++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var _=e.msg.length-1;_>=0;_-=1)e.i=_,r[t++]=l(e.msg,e.i),e.anotb(),r[--t]?b(e.nextanotb,e.i,0):b(e.nextanotb,e.i,l(e.nextanotb,e.i+1)+1),r[t++]=l(e.msg,e.i),e.bnota(),r[--t]?b(e.nextbnota,e.i,0):b(e.nextbnota,e.i,l(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var ye=r[--t];r[t++]=hn(l(e.nextanotb,ye),l(e.nextbnota,ye))},e.bbeforea=function(){var ye=r[--t];r[t++]=hn(l(e.nextbnota,ye),l(e.nextanotb,ye))},e.cws=s(e.barcode.length*2+3),e.j=0,e.msglen>0?(r[t++]=0,e.numsscr()):r[t++]=-1,e.nums=r[--t];;){if(e.msglen==0){r[t++]=e.stb,e.enca(),e.cset="setb";break}if(e.msglen==2&&e.nums==2){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(e.nums>=4){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(r[t++]=0,e.abeforeb(),r[--t]){r[t++]=e.sta,e.enca(),e.cset="seta";break}r[t++]=e.stb,e.enca(),e.cset="setb";break}for(e.i=0;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t];;){if((V(e.cset,"seta")||V(e.cset,"setb"))&&e.nums>=4&&l(e.msg,e.i)!=e.fn1){if(e.nums%2==0){r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}else if(r[t++]=l(e.msg,e.i),V(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.i,e.numsscr(),r[--t]>=4){r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}}r[t++]=V(e.cset,"setb"),r[t++]=l(e.msg,e.i),e.anotb();var F=r[--t];if(r[--t]&&F){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta";break}r[t++]=V(e.cset,"seta"),r[t++]=l(e.msg,e.i),e.bnota();var Q=r[--t];if(r[--t]&&Q){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb";break}if(V(e.cset,"setc")&&e.nums<2&&(l(e.msg,e.i)>-1||l(e.msg,e.i)==e.fn4)){if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}if(V(e.cset,"seta")){r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(V(e.cset,"setb")){r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(V(e.cset,"setc")){l(e.msg,e.i)<=-1?(r[t++]=l(e.msg,e.i),e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}break}e.cws=N(e.cws,0,e.j)}if(V(e.encoding,"new")){r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=100,r[t++]=e.lkc,r[t++]=99,e.seta=Pe(),r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=99,r[t++]=e.lkc,r[t++]=101,e.setb=Pe(),r[t++]=1/0,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=101,r[t++]=e.lkc,r[t++]=100,e.setc=Pe(),e.latch_a0=s(["","e","e","ee","eee","eee"]),e.latch_b0=s(["d","","d","ddd","dd","ddd"]),e.latch_c0=s(["c","c","","eec","ddc","dddc"]),e.latch_a1=s(["ee","eee","eee","","e","e"]),e.latch_b1=s(["ddd","dd","ddd","d","","d"]),e.latch_c1=s(["eec","ddc","dddc","c","c",""]),r[t++]=1/0;for(var L=e.latch_a0,ee=0,se=L.length;ee<se;ee++)r[t++]=l(L,ee).length;e.latch_length_a0=s(),r[t++]=1/0;for(var ue=e.latch_a1,W=0,G=ue.length;W<G;W++)r[t++]=l(ue,W).length;e.latch_length_a1=s(),r[t++]=1/0;for(var ne=e.latch_b0,de=0,te=ne.length;de<te;de++)r[t++]=l(ne,de).length;e.latch_length_b0=s(),r[t++]=1/0;for(var ae=e.latch_b1,ie=0,oe=ae.length;ie<oe;ie++)r[t++]=l(ae,ie).length;e.latch_length_b1=s(),r[t++]=1/0;for(var De=e.latch_c0,Ne=0,Le=De.length;Ne<Le;Ne++)r[t++]=l(De,Ne).length;e.latch_length_c0=s(),r[t++]=1/0;for(var Te=e.latch_c1,Ve=0,Qe=Te.length;Ve<Qe;Ve++)r[t++]=l(Te,Ve).length;e.latch_length_c1=s(),e.latch_sequence=s([e.latch_a0,e.latch_b0,e.latch_c0,e.latch_a1,e.latch_b1,e.latch_c1]);var ot=s([function(){e.enc_a0()},function(){e.enc_b0()},function(){e.enc_c()},function(){e.enc_a1()},function(){e.enc_b1()},function(){e.enc_c()}]);e.encode=ot,e.start_code=s([103,104,105]),e.state_priority=s([1,0,2,4,3,5]),e.start_state=s([0,1,2,0,1,2]),e.start_length=s([1,1,1,1,1,1]),r[t++]=1/0;for(var Ze=s([5,4,3,2,1,0]),Fe=0,Ke=Ze.length;Fe<Ke;Fe++)r[t++]=l(e.state_priority,l(Ze,Fe));e.reverse_priority=s(),r[t++]=1/0;for(var Je=e.reverse_priority,rt=0,Xe=Je.length;rt<Xe;rt++){var Se=l(Je,rt);r[t++]=Se,r[t++]=l(e.latch_length_a0,Se),r[t++]=Se}e.prioritized_latch_length_a0=s(),r[t++]=1/0;for(var pe=e.reverse_priority,Ie=0,Me=pe.length;Ie<Me;Ie++){var Re=l(pe,Ie);r[t++]=Re,r[t++]=l(e.latch_length_a1,Re),r[t++]=Re}e.prioritized_latch_length_a1=s(),r[t++]=1/0;for(var Ye=e.reverse_priority,ze=0,mt=Ye.length;ze<mt;ze++){var lt=l(Ye,ze);r[t++]=lt,r[t++]=l(e.latch_length_b0,lt),r[t++]=lt}e.prioritized_latch_length_b0=s(),r[t++]=1/0;for(var ht=e.reverse_priority,yt=0,jt=ht.length;yt<jt;yt++){var wt=l(ht,yt);r[t++]=wt,r[t++]=l(e.latch_length_b1,wt),r[t++]=wt}e.prioritized_latch_length_b1=s(),r[t++]=1/0;for(var Dt=e.reverse_priority,Ct=0,Ut=Dt.length;Ct<Ut;Ct++){var It=l(Dt,Ct);r[t++]=It,r[t++]=l(e.latch_length_c0,It),r[t++]=It}e.prioritized_latch_length_c0=s(),r[t++]=1/0;for(var kt=e.reverse_priority,P=0,Y=kt.length;P<Y;P++){var q=l(kt,P);r[t++]=q,r[t++]=l(e.latch_length_c1,q),r[t++]=q}e.prioritized_latch_length_c1=s(),e.max_int=2147483647,e.can_a=function(){if(e.c>=0)r[t++]=!0;else{var ye=l(e.seta,e.c)!==void 0;r[t++]=ye}},e.can_b=function(){if(e.c>=0)r[t++]=!0;else{var ye=l(e.setb,e.c)!==void 0;r[t++]=ye}},e.can_c0=function(){if(e.num_digits>=2)r[t++]=!0;else{var ye=l(e.setc,e.c)!==void 0;r[t++]=ye}},e.can_c1=function(){if(e.num_digits>=2)r[t++]=!0;else{var ye=l(e.setc,e.c)!==void 0;r[t++]=ye}},e.suppressc&&(e.can_c0=function(){r[t++]=!1}),(e.suppressc||e.unlatchextbeforec)&&(e.can_c1=function(){r[t++]=!1}),e.out_a0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var ye=r[--t];r[t++]=ye+1}if((e.c&127)>=96){var He=r[--t];r[t++]=He+1}}},e.out_a1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var ye=r[--t];r[t++]=ye+1}if((e.c&127)>=96){var He=r[--t];r[t++]=He+1}}},e.out_b0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var ye=r[--t];r[t++]=ye+1}if((e.c&127)<32){var He=r[--t];r[t++]=He+1}}},e.out_b1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var ye=r[--t];r[t++]=ye+1}if((e.c&127)<32){var He=r[--t];r[t++]=He+1}}},e.map_ab=function(){var ye=r[t-1];if(ye<32){var He=r[--t];r[t++]=He+64}else{var Ue=r[--t];r[t++]=Ue-32}},e.enc_a0=function(){if(r[t++]=1/0,e.c<0)r[t++]=l(e.seta,e.c);else{e.c>=128&&(r[t++]=101);var ye=e.c&127;if(r[t++]=ye,ye>=96){var He=r[--t];r[t++]=98,r[t++]=He}e.map_ab()}var Ue=s();r[t++]=Ue},e.enc_a1=function(){if(r[t++]=1/0,e.c<0)r[t++]=l(e.seta,e.c);else{e.c<128&&(r[t++]=101);var ye=e.c&127;if(r[t++]=ye,ye>=96){var He=r[--t];r[t++]=98,r[t++]=He}e.map_ab()}var Ue=s();r[t++]=Ue},e.enc_b0=function(){if(r[t++]=1/0,e.c<0)r[t++]=l(e.setb,e.c);else{e.c>=128&&(r[t++]=100);var ye=e.c&127;if(r[t++]=ye,ye<32){var He=r[--t];r[t++]=98,r[t++]=He}e.map_ab()}var Ue=s();r[t++]=Ue},e.enc_b1=function(){if(r[t++]=1/0,e.c<0)r[t++]=l(e.setb,e.c);else{e.c<128&&(r[t++]=100);var ye=e.c&127;if(r[t++]=ye,ye<32){var He=r[--t];r[t++]=98,r[t++]=He}e.map_ab()}var Ue=s();r[t++]=Ue},e.enc_c=function(){r[t++]=1/0,e.c<0?r[t++]=l(e.setc,e.c):r[t++]=S((l(e.msg,e.n)-48)*10+(l(e.msg,e.n+1)-48));var ye=s();r[t++]=ye},e.get_best_prior_state=function(){var ye=l(e.bln_0,r[--t]);e.len=S(r[--t]+ye),e.o=r[--t];var He=l(e.bln_0,r[--t]),Ue=S(r[--t]+He);r[t++]=Ue,Ue<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var We=l(e.bln_0,r[--t]),pt=S(r[--t]+We);r[t++]=pt,pt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var vt=l(e.bln_0,r[--t]),ft=S(r[--t]+vt);r[t++]=ft,ft<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var gt=l(e.bln_0,r[--t]),nt=S(r[--t]+gt);r[t++]=nt,nt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var Ft=l(e.bln_0,r[--t]);S(r[--t]+Ft)<e.len?e.o=r[--t]:t--,r[t++]=e.o},e.bln_0=e.start_length,e.bln_1=e.start_length,r[t++]=1/0;for(var O=0;O<4;O++)r[t++]=s([0,0,0,0,0,0]);e.bln=s(),e.bps_0=e.start_state,e.bps_1=e.start_state,r[t++]=1/0;for(var $=0;$<4;$++)r[t++]=s([0,0,0,0,0,0]);e.bps=s(),r[t++]=1/0;for(var le=0,K=e.msg.length;le<K;le++)r[t++]=s([0,0,0,0,0,0]);e.path=s(),e.make_tables=function(){e.num_digits=0;for(var ye=0,He=e.msg.length-1;ye<=He;ye+=1){e.n=ye,e.c=l(e.msg,e.n),r[t++]="num_digits",e.c>=48&&e.c<58?r[t++]=e.num_digits+1:r[t++]=0;var Ue=r[--t];e[r[--t]]=Ue,e.bln_2=e.bln_1,e.bln_1=e.bln_0,e.bln_0=l(e.bln,e.n&3),e.bps_2=e.bps_1,e.bps_1=e.bps_0,e.bps_0=l(e.bps,e.n&3),r[t++]="bps_c",e.num_digits>=2?r[t++]=e.bps_2:r[t++]=e.bps_1;var We=r[--t];e[r[--t]]=We,r[t++]="bln_c",e.num_digits>=2?r[t++]=e.bln_2:r[t++]=e.bln_1;var pt=r[--t];if(e[r[--t]]=pt,r[t++]=e.bln_0,r[t++]=0,e.can_a(),r[--t]){e.p=l(e.bps_1,0),b(l(e.path,e.n),0,e.p),r[t++]=S(l(e.bln_1,e.p)+l(e.latch_length_a0,e.p)),e.out_a0();var vt=r[--t],ft=r[--t];r[t++]=S(ft+vt)}else r[t++]=e.max_int;var gt=r[--t],nt=r[--t];if(b(r[--t],nt,gt),r[t++]=e.bln_0,r[t++]=3,e.can_a(),r[--t]){e.p=l(e.bps_1,3),b(l(e.path,e.n),3,e.p),r[t++]=S(l(e.bln_1,e.p)+l(e.latch_length_a1,e.p)),e.out_a1();var Ft=r[--t],et=r[--t];r[t++]=S(et+Ft)}else r[t++]=e.max_int;var Ht=r[--t],$t=r[--t];if(b(r[--t],$t,Ht),r[t++]=e.bln_0,r[t++]=1,e.can_b(),r[--t]){e.p=l(e.bps_1,1),b(l(e.path,e.n),1,e.p),r[t++]=S(l(e.bln_1,e.p)+l(e.latch_length_b0,e.p)),e.out_b0();var zt=r[--t],nr=r[--t];r[t++]=S(nr+zt)}else r[t++]=e.max_int;var Ir=r[--t],ir=r[--t];if(b(r[--t],ir,Ir),r[t++]=e.bln_0,r[t++]=4,e.can_b(),r[--t]){e.p=l(e.bps_1,4),b(l(e.path,e.n),4,e.p),r[t++]=S(l(e.bln_1,e.p)+l(e.latch_length_b1,e.p)),e.out_b1();var br=r[--t],sr=r[--t];r[t++]=S(sr+br)}else r[t++]=e.max_int;var Dr=r[--t],er=r[--t];b(r[--t],er,Dr),r[t++]=e.bln_0,r[t++]=2,e.can_c0(),r[--t]?(e.p=l(e.bps_c,2),b(l(e.path,e.n),2,e.p),r[t++]=S(l(e.bln_c,e.p)+l(e.latch_length_c0,e.p))+1):r[t++]=e.max_int;var ur=r[--t],Wt=r[--t];b(r[--t],Wt,ur),r[t++]=e.bln_0,r[t++]=5,e.can_c1(),r[--t]?(e.p=l(e.bps_c,5),b(l(e.path,e.n),5,e.p),r[t++]=S(l(e.bln_c,e.p)+l(e.latch_length_c1,e.p))+1):r[t++]=e.max_int;var Xt=r[--t],fr=r[--t];b(r[--t],fr,Xt),r[t++]=e.bps_0,r[t++]=0,U(e.prioritized_latch_length_a0),e.get_best_prior_state();var Tr=r[--t],Pr=r[--t];b(r[--t],Pr,Tr),r[t++]=e.bps_0,r[t++]=3,U(e.prioritized_latch_length_a1),e.get_best_prior_state();var ha=r[--t],Rt=r[--t];b(r[--t],Rt,ha),r[t++]=e.bps_0,r[t++]=1,U(e.prioritized_latch_length_b0),e.get_best_prior_state();var Yt=r[--t],rr=r[--t];b(r[--t],rr,Yt),r[t++]=e.bps_0,r[t++]=4,U(e.prioritized_latch_length_b1),e.get_best_prior_state();var wr=r[--t],or=r[--t];b(r[--t],or,wr),r[t++]=e.bps_0,r[t++]=2,U(e.prioritized_latch_length_c0),e.get_best_prior_state();var Rr=r[--t],lr=r[--t];b(r[--t],lr,Rr),r[t++]=e.bps_0,r[t++]=5,U(e.prioritized_latch_length_c1),e.get_best_prior_state();var Lt=r[--t],yr=r[--t];b(r[--t],yr,Lt)}},e.backtrack=function(){e.n=e.msg.length;for(var ye=e.reverse_priority,He=0,Ue=ye.length;He<Ue;He++){var We=l(ye,He),pt=l(e.bln_0,We);r[t++]=We,r[t++]=pt,r[t++]=pt}t--,e.len=r[--t],e.state=r[--t];for(var vt=0;vt<5;vt++)hn(r[--t],e.len)?(e.len=r[--t],e.state=r[--t]):t-=2;for(r[t++]=s(e.len);!(e.n<=0);){e.prior_state=l(l(e.path,e.n-1),e.state),r[t++]=1/0,ve(l(l(e.latch_sequence,e.state),e.prior_state)),e.latch=s();var ft=(e.state==2||e.state==5)&&l(e.msg,e.n-1)>=48?2:1;if(e.n=e.n-ft,e.c=l(e.msg,e.n),r[t++]="enc",l(e.encode,e.state)()===!0)break;var gt=r[--t];e[r[--t]]=gt,e.len=S(e.len-e.latch.length-e.enc.length);var nt=r[--t],Ft=e.len,et=e.latch;R(nt,Ft,et),R(nt,S(Ft+et.length),e.enc),e.state=e.prior_state,r[t++]=nt}var Ht=r[t-1];b(Ht,0,l(e.start_code,e.state))},e.make_tables(),e.backtrack(),e.cws=r[--t]}e.j=e.cws.length;var be=s(e.j+2);R(be,0,e.cws),e.cws=be,e.csum=l(e.cws,0);for(var J=1,fe=e.j-1;J<=fe;J+=1)e.i=J,e.csum=S(e.csum+l(e.cws,e.i)*e.i);e.csum=e.csum%103,b(e.cws,e.j,e.csum),b(e.cws,e.j+1,106);var me=l(e.options,"debugcws")!==void 0;me&&(r[t++]="bwipp.debugcws#7483",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","2331112"]),e.sbs=X(e.cws.length*6+1);for(var ge=0,re=e.cws.length-1;ge<=re;ge+=1)e.i=ge,R(e.sbs,e.i*6,l(e.encs,l(e.cws,e.i)));r[t++]=1/0,r[t++]=1/0;for(var xe=e.sbs,ke=0,he=xe.length;ke<he;ke++)r[t++]=l(xe,ke)-48;var Ae=s();r[t++]=1/0;for(var we=0,je=~~((e.sbs.length+1)/2);we<je;we++)r[t++]=e.height;var Oe=s();r[t++]=1/0;for(var _e=0,Ge=~~((e.sbs.length+1)/2);_e<Ge;_e++)r[t++]=0;var st=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ae,r[t++]="bhs",r[t++]=Oe,r[t++]="bbs",r[t++]=st,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var at=Pe();r[t++]=at,e.dontdraw||Mt(),e=a}function g3(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=.5,e.linkagea=!1,e.linkagec=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.linkagea&&e.linkagec&&(r[t++]="bwipp.gs1128badLinkage#7580",r[t++]="linkagea and linkagec cannot be used together",z()),e.text=e.barcode,r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.c128=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var o=s(e.c128.length+e.ai.length+e.val.length);R(o,0,e.c128),r[t++]=o,r[t++]=o,r[t++]=e.c128.length;var c=1/0,d=e.ai;r[t++]=c,ve(d);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.c128.length+e.ai.length;var m=1/0,v=e.val;r[t++]=m,ve(v);var w=s(),y=r[--t];if(R(r[--t],y,w),e.c128=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var x=s(e.c128.length+1);R(x,0,e.c128),b(x,e.c128.length,e.fnc1),e.c128=x}}for(e.barcode=X((e.c128.length+1)*5),e.i=0,e.j=0;e.i!=e.c128.length;){var g=l(e.c128,e.i);r[t++]=g,g==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}if(e.linkagea||e.linkagec){r[t++]=e.barcode,r[t++]=e.j,e.linkagea?r[t++]="^LNKA":r[t++]="^LNKC";var A=r[--t],j=r[--t];R(r[--t],j,A),e.j=e.j+5}e.barcode=N(e.barcode,0,e.j),delete e.options.parse,b(e.options,"height",e.height),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var C=r[--t];e[r[--t]]=C,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function uT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=X(n.length),r[t++]=0,ve(n,function(){var j=r[t-1];if(j!=32){var C=r[--t],k=r[--t],E=r[t-1];b(E,k,C),r[t++]=k+1}else t--});var i=r[--t];e.barcode=N(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.ean14badLength#7695",r[t++]="EAN-14 must be 13 or 14 digits",z()),Ee(N(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.ean14badAI#7698",r[t++]="EAN-14 must begin with (01) application identifier",z());for(var o=N(e.barcode,4,e.barcode.length-4),c=0,d=o.length;c<d;c++){var f=l(o,c);(f<48||f>57)&&(r[t++]="bwipp.ean14badCharacter#7702",r[t++]="EAN-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],v=r[--t];e[r[--t]]=S(v+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==18)l(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.ean14badCheckDigit#7715",r[t++]="Incorrect EAN-14 check digit provided",z());else{var w=X(18);R(w,0,e.barcode),b(w,17,e.checksum+48),e.barcode=w;var y=e.hasspace?2:1,x=X(e.text.length+y);R(x,x.length-2," "),b(x,x.length-1,e.checksum+48),R(x,0,e.text),e.text=x}e.gtin=N(e.barcode,4,14),e.barcode=X(21),R(e.barcode,0,"^FNC101");var g=e.gtin;R(e.barcode,7,g),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var A=r[--t];e[r[--t]]=A,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function fT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=X(n.length),r[t++]=0,ve(n,function(){var j=r[t-1];if(j!=32){var C=r[--t],k=r[--t],E=r[t-1];b(E,k,C),r[t++]=k+1}else t--});var i=r[--t];e.barcode=N(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=21&&e.barcode.length!=22&&(r[t++]="bwipp.sscc18badLength#7799",r[t++]="SSCC-18 must be 17 or 18 digits",z()),Ee(N(e.barcode,0,4),"(00)")&&(r[t++]="bwipp.sscc18badAI#7802",r[t++]="SSCC-18 must begin with (00) application identifier",z());for(var o=N(e.barcode,4,e.barcode.length-4),c=0,d=o.length;c<d;c++){var f=l(o,c);(f<48||f>57)&&(r[t++]="bwipp.sscc18badCharacter#7806",r[t++]="SSCC-18 must contain only digits",z())}e.checksum=0;for(var h=0;h<=16;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],v=r[--t];e[r[--t]]=S(v+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==22)l(e.barcode,21)!=e.checksum+48&&(r[t++]="bwipp.sscc18badCheckDigit#7819",r[t++]="Incorrect SSCC-18 check digit provided",z());else{var w=X(22);R(w,0,e.barcode),b(w,21,e.checksum+48),e.barcode=w;var y=e.hasspace?2:1,x=X(e.text.length+y);R(x,x.length-2," "),b(x,x.length-1,e.checksum+48),R(x,0,e.text),e.text=x}e.sscc=N(e.barcode,4,18),e.barcode=X(25),R(e.barcode,0,"^FNC100");var g=e.sscc;R(e.barcode,7,g),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var A=r[--t];e[r[--t]]=A,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function d2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.hidestars=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code39emptyData#7899",r[t++]="The data must not be empty",z()),e.encs=s(["1113313111","3113111131","1133111131","3133111111","1113311131","3113311111","1133311111","1113113131","3113113111","1133113111","3111131131","1131131131","3131131111","1111331131","3111331111","1131331111","1111133131","3111133111","1131133111","1111333111","3111111331","1131111331","3131111311","1111311331","3111311311","1131311311","1111113331","3111113311","1131113311","1111313311","3311111131","1331111131","3331111111","1311311131","3311311111","1331311111","1311113131","3311113111","1331113111","1313131111","1313111311","1311131311","1113131311","1311313111"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.code39badCharacter#7927",r[t++]="Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.code39badCheckDigit#7941",r[t++]="Incorrect Code 39 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen),e.includecheck=!0);var m=e.includecheck?3:2;e.sbs=X(S(e.barlen+m)*10);var v=e.includecheck?3:2;e.txt=s(S(e.barlen+v)),R(e.sbs,0,l(e.encs,43)),e.hidestars?b(e.txt,0,s(["",0,e.textyoffset,e.textfont,e.textsize])):b(e.txt,0,s(["*",0,e.textyoffset,e.textfont,e.textsize]));for(var w=0,y=e.barlen-1;w<=y;w+=1)e.i=w,e.indx=l(e.charvals,N(e.barcode,e.i,1)),R(e.sbs,e.i*10+10,l(e.encs,e.indx)),b(e.txt,e.i+1,s([N(e.barcode,e.i,1),(e.i+1)*16,e.textyoffset,e.textfont,e.textsize]));e.includecheck?(R(e.sbs,e.barlen*10+10,l(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen+1,s([N(e.barchars,e.checksum,1),(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])),R(e.sbs,e.barlen*10+20,l(e.encs,43)),e.hidestars?b(e.txt,e.barlen+2,s(["",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen+2,s(["*",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize]))):(R(e.sbs,e.barlen*10+10,l(e.encs,43)),e.hidestars?b(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen+1,s(["*",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize]))),r[t++]=1/0,r[t++]=1/0;for(var x=e.sbs,g=0,A=x.length;g<A;g++)r[t++]=l(x,g)-48;var j=s();r[t++]=1/0;for(var C=0,k=~~((e.sbs.length+1)/2);C<k;C++)r[t++]=e.height;var E=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=E,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var M=Pe();r[t++]=M,e.dontdraw||Mt(),e=a}function hT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,ve(e.barcode,function(){r[--t]>=128&&(r[t++]="bwipp.code39extBadCharacter#8061",r[t++]="Code 39 Extended must contain only ASCII characters",z())}),e.extencs=s(["%U","$A","$B","$C","$D","$E","$F","$G","$H","$I","$J","$K","$L","$M","$N","$O","$P","$Q","$R","$S","$T","$U","$V","$W","$X","$Y","$Z","%A","%B","%C","%D","%E"," ","/A","/B","/C","/D","/E","/F","/G","/H","/I","/J","/K","/L","-",".","/O","0","1","2","3","4","5","6","7","8","9","/Z","%F","%G","%H","%I","%J","%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","%K","%L","%M","%N","%O","%W","+A","+B","+C","+D","+E","+F","+G","+H","+I","+J","+K","+L","+M","+N","+O","+P","+Q","+R","+S","+T","+U","+V","+W","+X","+Y","+Z","%P","%Q","%R","%S","%T"]),e.newcode=X(e.barlen*2),e.newtext=X(e.barlen*2),e.j=0;for(var o=0,c=e.barlen-1;o<=c;o+=1){e.i=o,e.extchar=l(e.extencs,l(e.barcode,e.i)),R(e.newcode,e.j,e.extchar);var d=l(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.j,r[t++]=d,(d<32||d==127)&&(r[t-1]=32);var f=r[--t],h=r[--t];b(r[--t],h,f),e.extchar.length!=1&&b(e.newtext,e.j+1,32),e.j=e.j+e.extchar.length}e.newcode=N(e.newcode,0,e.j),e.newtext=N(e.newtext,0,e.j),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,d2();var p=r[--t];if(e[r[--t]]=p,e.includetext){e.txt=l(e.args,"txt");for(var m=0,v=e.newtext.length-1;m<=v;m+=1)e.i=m,e.txtentry=l(e.txt,e.i+1),b(e.txtentry,0,N(e.newtext,e.i,1)),b(e.txt,e.i+1,e.txtentry);b(e.args,"txt",e.txt)}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function pT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=8&&e.barcode.length!=9&&(r[t++]="bwipp.code32badLength#8160",r[t++]="Italian Pharmacode must be 8 or 9 digits",z()),ve(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.code32badCharacter#8164",r[t++]="Italian Pharmacode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=7;n+=1){if(e.i=n,r[t++]=l(e.barcode,e.i)-48,e.i%2!=0){var i=r[--t];r[t++]=i*2}var o=r[t-1];if(o>9){var c=r[--t];r[t++]=c-9}e.checksum=S(r[--t]+e.checksum)}e.checksum=e.checksum%10,e.barcode.length==9&&l(e.barcode,8)!=e.checksum+48&&(r[t++]="bwipp.code32badCheckDigit#8178",r[t++]="Incorrect Italian Pharmacode check digit provided",z());var d=X(10);R(d,0,e.barcode),b(d,8,e.checksum+48),e.text=d,e.val=qt(X(6),Ce(e.text),32),e.barcode=X(6);for(var f=0;f<=5;f+=1)b(e.barcode,f,48);R(e.barcode,6-e.val.length,e.val);for(var h=0;h<=5;h+=1){var p=l(e.barcode,h);r[t++]=h,r[t++]=p,r[t++]=p;for(var m=0,v=4;m<v;m++){if(r[--t]>=l("AEIO",m)){var w=r[--t];r[t++]=w+1}var y=r[t-1];r[t++]=y}r[t-1]=e.barcode;var x=r[t-2],g=r[t-3];b(r[t-1],g,x),t-=3}R(e.text,1,N(e.text,0,9)),b(e.text,0,65),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var A=r[--t];e[r[--t]]=A,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function mT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,e.pzn8=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.pzn8?e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.pzn8badLength#8261",r[t++]="PZN8 must be 7 or 8 digits",z()):e.barcode.length!=6&&e.barcode.length!=7&&(r[t++]="bwipp.pzn7badLength#8265",r[t++]="PZN7 must be 6 or 7 digits",z()),ve(e.barcode,function(){var p=r[--t];(p<48||p>57)&&(r[t++]="bwipp.pznBadCharacter#8270",r[t++]="PZN must contain only digits",z())});var n=e.pzn8?9:8;e.msglen=n,e.checksum=0;for(var i=0,o=e.msglen-3;i<=o;i+=1){e.i=i;var c=e.pzn8?1:2;e.checksum=S((l(e.barcode,e.i)-48)*(e.i+c)+e.checksum)}e.checksum=e.checksum%11,e.checksum==10&&(r[t++]="bwipp.pznBadInputSequence#8284",r[t++]="Incorrect PZN input sequence provided",z()),e.barcode.length==e.msglen-1&&l(e.barcode,e.msglen-2)!=e.checksum+48&&(r[t++]="bwipp.pznBadCheckDigit#8288",r[t++]="Incorrect PZN check digit provided",z());var d=X(e.msglen);b(d,0,45),R(d,1,e.barcode),b(d,e.msglen-1,e.checksum+48),e.msg=d,b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.msg,r[t++]=e.options,d2();var f=r[--t];e[r[--t]]=f,e.text=X(e.msglen+5),R(e.text,0,"PZN - "),R(e.text,6,N(e.msg,1,e.msglen-1));var h=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]);b(e.args,"txt",h),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function Cy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.encs=s(["131112","111213","111312","111411","121113","121212","121311","111114","131211","141111","211113","211212","211311","221112","221211","231111","112113","112212","112311","122112","132111","111123","111222","111321","121122","131121","212112","212211","211122","211221","221121","222111","112122","112221","122121","123111","121131","311112","311211","321111","112131","113121","211131","121221","312111","311121","122211","111141","1111411"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,l(e.barchars,n),n);e.sft1=-1,e.sft2=-2,e.sft3=-3,e.sft4=-4,b(e.charvals,e.sft1,43),b(e.charvals,e.sft2,44),b(e.charvals,e.sft3,45),b(e.charvals,e.sft4,46);var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["SFT$",e.sft1],["SFT%",e.sft2],["SFT/",e.sft3],["SFT+",e.sft4]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,ve(e.msg,function(){var D=l(e.charvals,r[--t])!==void 0;D||(r[t++]="bwipp.code93BadCharacter#8405",r[t++]="Code 93 must only contain digits, capital letters, spaces, the symbols -.$/+ and shift non-data characters",z())}),e.includecheck?e.sbs=X(e.msglen*6+25):e.sbs=X(e.msglen*6+13),e.txt=s(e.msglen),R(e.sbs,0,l(e.encs,47)),e.checksum1=0,e.checksum2=0;for(var c=0,d=e.msglen-1;c<=d;c+=1){e.i=c,e.indx=l(e.charvals,l(e.msg,e.i)),R(e.sbs,e.i*6+6,l(e.encs,e.indx));var f=l(e.msg,e.i);if(r[t++]="char",r[t++]=f,f<0)r[t-1]=" ";else{var h=X(1);r[t++]=h,r[t++]=h,r[t++]=0,Ea(4,-1);var p=r[--t],m=r[--t];b(r[--t],m,p)}var v=r[--t];e[r[--t]]=v,b(e.txt,e.i,s([e.char,e.i*9+9,e.textyoffset,e.textfont,e.textsize])),e.checksum1=S(e.checksum1+((e.msglen-e.i-1)%20+1)*e.indx),e.checksum2=S(e.checksum2+((e.msglen-e.i)%15+1)*e.indx)}e.includecheck?(e.checksum1=e.checksum1%47,e.checksum2=S(e.checksum2+e.checksum1)%47,R(e.sbs,e.msglen*6+6,l(e.encs,e.checksum1)),R(e.sbs,e.msglen*6+12,l(e.encs,e.checksum2)),R(e.sbs,e.msglen*6+18,l(e.encs,48))):R(e.sbs,e.msglen*6+6,l(e.encs,48)),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,y=0,x=w.length;y<x;y++)r[t++]=l(w,y)-48;var g=s();r[t++]=1/0;for(var A=0,j=~~((e.sbs.length+1)/2);A<j;A++)r[t++]=e.height;var C=s();r[t++]=1/0;for(var k=0,E=~~((e.sbs.length+1)/2);k<E;k++)r[t++]=0;var B=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=g,r[t++]="bhs",r[t++]=C,r[t++]="bbs",r[t++]=B,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var I=Pe();r[t++]=I,e.dontdraw||Mt(),e=a}function vT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.extencs=s(["^SFT%U","^SFT$A","^SFT$B","^SFT$C","^SFT$D","^SFT$E","^SFT$F","^SFT$G","^SFT$H","^SFT$I","^SFT$J","^SFT$K","^SFT$L","^SFT$M","^SFT$N","^SFT$O","^SFT$P","^SFT$Q","^SFT$R","^SFT$S","^SFT$T","^SFT$U","^SFT$V","^SFT$W","^SFT$X","^SFT$Y","^SFT$Z","^SFT%A","^SFT%B","^SFT%C","^SFT%D","^SFT%E"," ","^SFT/A","^SFT/B","^SFT/C","$","%","^SFT/F","^SFT/G","^SFT/H","^SFT/I","^SFT/J","+","^SFT/L","-",".","/","0","1","2","3","4","5","6","7","8","9","^SFT/Z","^SFT%F","^SFT%G","^SFT%H","^SFT%I","^SFT%J","^SFT%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","^SFT%K","^SFT%L","^SFT%M","^SFT%N","^SFT%O","^SFT%W","^SFT+A","^SFT+B","^SFT+C","^SFT+D","^SFT+E","^SFT+F","^SFT+G","^SFT+H","^SFT+I","^SFT+J","^SFT+K","^SFT+L","^SFT+M","^SFT+N","^SFT+O","^SFT+P","^SFT+Q","^SFT+R","^SFT+S","^SFT+T","^SFT+U","^SFT+V","^SFT+W","^SFT+X","^SFT+Y","^SFT+Z","^SFT%P","^SFT%Q","^SFT%R","^SFT%S","^SFT%T"]),e.newcode=X(e.barlen*6),e.newtext=X(e.barlen*6),e.j=0,e.k=0;for(var o=0,c=e.barlen-1;o<=c;o+=1){e.i=o;var d=l(e.barcode,e.i);r[t++]=d,d>127&&(t--,r[t++]="bwipp.code93extbadCharacter#8542",r[t++]="Code 93 Extended only support ASCII characters with values 0 to 127",z()),e.extchar=l(e.extencs,r[--t]),e.extlen=e.extchar.length,R(e.newcode,e.j,e.extchar);var f=l(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.k,r[t++]=f,(f<32||f==127)&&(r[t-1]=32);var h=r[--t],p=r[--t];b(r[--t],p,h),e.extlen!=1&&b(e.newtext,e.k+1,32),e.j=e.j+e.extlen;var m=e.extlen==1?1:2;e.k=e.k+m}e.newcode=N(e.newcode,0,e.j),e.newtext=N(e.newtext,0,e.k),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,Cy();var v=r[--t];if(e[r[--t]]=v,e.includetext){e.txt=l(e.args,"txt");for(var w=0,y=e.newtext.length-1;w<=y;w+=1)e.i=w,e.txtentry=l(e.txt,e.i),b(e.txtentry,0,N(e.newtext,e.i,1)),b(e.txt,e.i,e.txtentry);b(e.args,"txt",e.txt)}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function _u(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.interleaved2of5badCharacter#8628",r[t++]="Interleaved 2 of 5 must contain only digits",z())}),e.barlen=e.barcode.length,(e.barlen%2==0&&e.includecheck||e.barlen%2!=0&&!e.includecheck)&&(e.pad=X(e.barlen+1),b(e.pad,0,48),R(e.pad,1,e.barcode),e.barcode=e.pad,e.barlen=e.barlen+1),e.includecheck){e.checksum=0;for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.i%2==0?e.checksum=e.checksum+(l(e.barcode,e.i)-48)*3:e.checksum=e.checksum+(l(e.barcode,e.i)-48);e.checksum=(10-e.checksum%10)%10,e.pad=X(e.barlen+1),R(e.pad,0,e.barcode),b(e.pad,e.barlen,e.checksum+48),e.barcode=e.pad,e.barlen=e.barlen+1}e.encs=s(["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121","1111","2111"]),e.barchars="0123456789",e.sbs=X(e.barlen*5+8),e.txt=s(e.barlen),R(e.sbs,0,l(e.encs,10));for(var o=0,c=e.barlen-1;o<=c;o+=2){e.i=o,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enca=l(e.encs,e.indx),Tt(e.barchars,N(e.barcode,e.i+1,1)),t--,e.indx=r[--t].length,t-=2,e.encb=l(e.encs,e.indx),e.intl=X(e.enca.length*2);for(var d=0,f=e.enca.length-1;d<=f;d+=1)e.j=d,e.achar=l(e.enca,e.j),e.bchar=l(e.encb,e.j),b(e.intl,e.j*2,e.achar),b(e.intl,e.j*2+1,e.bchar);R(e.sbs,e.i*5+4,e.intl),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*9+4,e.textyoffset,e.textfont,e.textsize])),e.includecheck&&!e.includecheckintext&&e.barlen-2==e.i?b(e.txt,e.i+1,s([" ",(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.i+1,s([N(e.barcode,e.i+1,1),(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize]))}R(e.sbs,e.barlen*5+4,l(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var h=e.sbs,p=0,m=h.length;p<m;p++)r[t++]=l(h,p)-48;var v=s();r[t++]=1/0;for(var w=0,y=~~((e.sbs.length+1)/2);w<y;w++)r[t++]=e.height;var x=s();r[t++]=1/0;for(var g=0,A=~~((e.sbs.length+1)/2);g<A;g++)r[t++]=0;var j=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=v,r[t++]="bhs",r[t++]=x,r[t++]="bbs",r[t++]=j,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="barratio",r[t++]=2,r[t++]="spaceratio",r[t++]=2,r[t++]="opt",r[t++]=e.options;var C=Pe();r[t++]=C,e.dontdraw||Mt(),e=a}function xT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!0,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-3.5,e.height=.5,e.showborder=!0,e.borderwidth=4,e.borderleft=10,e.borderright=10,e.bordertop=-.55,e.borderbottom=-.55,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=X(n.length),r[t++]=0,ve(n,function(){var C=r[t-1];if(C!=32){var k=r[--t],E=r[--t],B=r[t-1];b(B,E,k),r[t++]=E+1}else t--});var i=r[--t];e.barcode=N(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.itf14badLength#8796",r[t++]="ITF-14 must be 13 or 14 digits",z());for(var o=e.barcode,c=0,d=o.length;c<d;c++){var f=l(o,c);(f<48||f>57)&&(r[t++]="bwipp.itf14badCharacter#8800",r[t++]="ITF-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],v=r[--t];e[r[--t]]=S(v+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==14)l(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.itf14badCheckDigit#8813",r[t++]="Incorrect ITF-14 check digit provided",z());else{var w=X(14);R(w,0,e.barcode),b(w,13,e.checksum+48),e.barcode=w;var y=e.hasspace?2:1,x=X(e.text.length+y);R(x,x.length-2," "),b(x,x.length-1,e.checksum+48),R(x,0,e.text),e.text=x}var g=e.options;b(g,"dontdraw",!0),b(e.options,"showborder",e.showborder),b(e.options,"borderwidth",e.borderwidth),b(e.options,"borderleft",e.borderleft),b(e.options,"borderright",e.borderright);var A=e.options;b(A,"bordertop",e.bordertop),b(e.options,"borderbottom",e.borderbottom),b(e.options,"height",e.height),b(e.options,"textyoffset",e.textyoffset),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,_u();var j=r[--t];e[r[--t]]=j,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function gT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.identcodeBadLength#8891",r[t++]="Deutsche Post Identcode must be 11 or 12 digits",z()),ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.identcodeBadCharacter#8895",r[t++]="Deutsche Post Identcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=10;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var c=r[--t],d=r[--t];e[r[--t]]=S(d+c)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&l(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.identcodeBadCheckDigit#8908",r[t++]="Incorrect Deutsche Post Identcode check digit provided",z());var f=X(12);R(f,0,e.barcode),b(f,11,e.checksum+48),e.barcode=f,e.text=_r(X(16),"  .       .     "),R(e.text,0,N(e.barcode,0,2)),R(e.text,3,N(e.barcode,2,3)),R(e.text,7,N(e.barcode,5,3)),R(e.text,11,N(e.barcode,8,3)),R(e.text,15,N(e.barcode,11,1)),b(e.options,"dontdraw",!0),b(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,_u();var p=r[--t];e[r[--t]]=p;var m=e.textsize;b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function bT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.leitcodeBadLength#8981",r[t++]="Deutsche Post Leitcode must be 13 or 14 digits",z()),ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.leitcodeBadCharacter#8985",r[t++]="Deutsche Post Leitcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=12;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var c=r[--t],d=r[--t];e[r[--t]]=S(d+c)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==14&&l(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.leitcodeBadCheckDigit#8998",r[t++]="Incorrect Deutsche Post Leitcode check digit provided",z());var f=X(14);R(f,0,e.barcode),b(f,13,e.checksum+48),e.barcode=f,e.text=_r(X(18),"     .   .   .    "),R(e.text,0,N(e.barcode,0,5)),R(e.text,6,N(e.barcode,5,3)),R(e.text,10,N(e.barcode,8,3)),R(e.text,14,N(e.barcode,11,2)),R(e.text,17,N(e.barcode,13,1)),b(e.options,"dontdraw",!0),b(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,_u();var p=r[--t];e[r[--t]]=p;var m=e.textsize;b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function u2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=33/72,e.linkage=!1,e.format="omni",e.barxmult=33,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databaromniBadLength#9070",r[t++]="GS1 DataBar Omnidirectional must be 13 or 14 digits",z()),Ee(N(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databaromniBadAI#9073",r[t++]="GS1 DataBar Omnidirectional must begin with (01) application identifier",z());for(var n=N(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var c=l(n,i);(c<48||c>57)&&(r[t++]="bwipp.databaromniBadCharacter#9077",r[t++]="GS1 DataBar Omnidirectional must contain only digits",z())}e.barxmult<33&&(r[t++]="bwipp.databarStackedOmniBarXmult#9082",r[t++]="GS1 DataBar Stacked Omnidirectional must have a barxmult of at least 33",z()),Ee(e.format,"omni")&&Ee(e.format,"stacked")&&Ee(e.format,"stackedomni")&&Ee(e.format,"truncated")&&(r[t++]="bwipp.databaromniBadFormat#9086",r[t++]="Valid formats are omni, stacked, stackedomni and truncated",z()),V(e.format,"truncated")&&(e.height=13/72),e.checksum=0;for(var d=0;d<=12;d+=1){if(e.i=d,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&l(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databaromniBadCheckDigit#9102",r[t++]="Incorrect GS1 DataBar Omnidirectional check digit provided",z());var m=X(18);R(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,e.txt=s(e.barcode.length);for(var v=0,w=e.barcode.length-1;v<=w;v+=1)e.i=v,b(e.txt,e.i,s([N(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var kt=r[--t],P=r[--t],Y=S(P-kt);if(kt<S(P-kt)){var q=Y;Y=kt,kt=q}r[t++]=Y,r[t++]=1,r[t++]=1;for(var O=P,$=kt+1;O>=$;O-=1){var le=r[--t],K=r[t-1],be=r[t-2];if(r[t++]=le*O,dc(K,be)){var J=r[--t],fe=r[--t];r[t++]=fe+1,r[t++]=~~(J/fe)}}for(;;){var me=r[t-2],ge=r[t-3];if(Bi(me,ge))break;var re=r[--t],xe=r[--t];r[t++]=xe+1,r[t++]=~~(re/xe)}var ke=r[--t];r[t-1]=ke;var he=r[--t];r[t-1]=he},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var kt=0,P=e.el-2;kt<=P;kt+=1){e.bar=kt,e.ew=1;var Y=e.bar;for(e.mask=e.mask|(Y<0?1>>>-Y:1<<Y);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var q=r[--t];if(e[r[--t]]=q,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var O=r[--t],$=r[--t];e[r[--t]]=S($-O)}if(S(e.el-e.bar)>2){e.lval=0;for(var le=S(e.nm-e.ew-e.el+e.bar)+2,K=e.mw+1;le>=K;le-=1)r[t++]=S(e.nm-le-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var be=e.bar;e.mask=e.mask&~(be<0?1>>>-be:1<<be)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),b(e.out,e.bar,e.ew)}b(e.out,e.el-1,e.nm),r[t++]=e.out},r[t++]=1/0;var y=e.linkage?1:0,x=N(e.barcode,4,13);r[t++]=y;for(var g=0,A=x.length;g<A;g++)r[t++]=l(x,g)-48;e.binval=s();for(var j=0;j<=12;j+=1){e.i=j;var C=e.binval,k=e.i;b(C,k+1,S(l(C,k+1)+l(e.binval,e.i)%4537077*10)),b(e.binval,e.i,~~(l(e.binval,e.i)/4537077))}e.right=l(e.binval,13)%4537077;var E=e.binval;b(E,13,~~(l(E,13)/4537077)),e.left=0,e.i=!0;for(var B=0;B<=13;B+=1){e.j=B;var I=l(e.binval,e.j);if(r[t++]=I,I==0&&e.i)t--;else{e.i=!1,r[t++]="left",r[t++]=e.left;var D=r[t-3],M=r[t-1];e[r[t-2]]=S(M+D*~~l1(10,13-e.j)),t-=3}}for(e.d1=~~(e.left/1597),e.d2=e.left%1597,e.d3=~~(e.right/1597),e.d4=e.right%1597,e.tab164=s([160,0,12,4,8,1,161,1,960,161,10,6,6,3,80,10,2014,961,8,8,4,5,31,34,2714,2015,6,10,3,6,10,70,2840,2715,4,12,1,8,1,126]),e.tab154=s([335,0,5,10,2,7,4,84,1035,336,7,8,4,5,20,35,1515,1036,9,6,6,3,48,10,1596,1516,11,4,8,1,81,1]),e.i=0;;){if(e.d1<=l(e.tab164,e.i)){U(N(e.tab164,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=l(e.tab154,e.i)){U(N(e.tab154,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d3<=l(e.tab164,e.i)){U(N(e.tab164,e.i+1,7)),e.d3te=r[--t],e.d3to=r[--t],e.d3mwe=r[--t],e.d3mwo=r[--t],e.d3ele=r[--t],e.d3elo=r[--t],e.d3gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d4<=l(e.tab154,e.i)){U(N(e.tab154,e.i+1,7)),e.d4te=r[--t],e.d4to=r[--t],e.d4mwe=r[--t],e.d4mwo=r[--t],e.d4ele=r[--t],e.d4elo=r[--t],e.d4gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var T=r[--t];e[r[--t]]=T,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var H=r[--t];e[r[--t]]=H,r[t++]="d2wo",r[t++]=S(e.d2-e.d2gs)%e.d2to,r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d2we",r[t++]=~~(S(e.d2-e.d2gs)/e.d2to),r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d3wo",r[t++]=~~(S(e.d3-e.d3gs)/e.d3te),r[t++]=e.d3elo,r[t++]=e.d3mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d3we",r[t++]=S(e.d3-e.d3gs)%e.d3te,r[t++]=e.d3ele,r[t++]=e.d3mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,r[t++]="d4wo",r[t++]=S(e.d4-e.d4gs)%e.d4to,r[t++]=e.d4elo,r[t++]=e.d4mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var ee=r[--t];e[r[--t]]=ee,r[t++]="d4we",r[t++]=~~(S(e.d4-e.d4gs)/e.d4to),r[t++]=e.d4ele,r[t++]=e.d4mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var se=r[--t];e[r[--t]]=se,e.d1w=s(8);for(var ue=0;ue<=3;ue+=1)e.i=ue,b(e.d1w,e.i*2,l(e.d1wo,e.i)),b(e.d1w,e.i*2+1,l(e.d1we,e.i));e.d2w=s(8);for(var W=0;W<=3;W+=1)e.i=W,b(e.d2w,7-e.i*2,l(e.d2wo,e.i)),b(e.d2w,6-e.i*2,l(e.d2we,e.i));e.d3w=s(8);for(var G=0;G<=3;G+=1)e.i=G,b(e.d3w,7-e.i*2,l(e.d3wo,e.i)),b(e.d3w,6-e.i*2,l(e.d3we,e.i));e.d4w=s(8);for(var ne=0;ne<=3;ne+=1)e.i=ne,b(e.d4w,e.i*2,l(e.d4wo,e.i)),b(e.d4w,e.i*2+1,l(e.d4we,e.i));r[t++]=1/0,U(e.d1w),U(e.d2w),U(e.d3w),U(e.d4w),e.widths=s(),e.checkweights=s([1,3,9,27,2,6,18,54,58,72,24,8,29,36,12,4,74,51,17,32,37,65,48,16,64,34,23,69,49,68,46,59]),e.checkwidths=s([3,8,2,1,1,3,5,5,1,1,3,3,7,1,1,3,1,9,1,1,2,7,4,1,1,2,5,6,1,1,2,3,8,1,1,1,5,7,1,1,1,3,9,1,1]),e.checksum=0;for(var de=0;de<=31;de+=1)e.i=de,e.checksum=S(e.checksum+l(e.widths,e.i)*l(e.checkweights,e.i));e.checksum=e.checksum%79,e.checksum>=8&&(e.checksum=e.checksum+1),e.checksum>=72&&(e.checksum=e.checksum+1),e.checklt=N(e.checkwidths,~~(e.checksum/9)*5,5),e.checkrtrev=N(e.checkwidths,e.checksum%9*5,5),e.checkrt=s(5);for(var te=0;te<=4;te+=1)e.i=te,b(e.checkrt,e.i,l(e.checkrtrev,4-e.i));if(V(e.format,"omni")||V(e.format,"truncated")){r[t++]=1/0,r[t++]=1,U(e.d1w),U(e.checklt),U(e.d2w),U(e.d4w),U(e.checkrt),U(e.d3w),r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var ae=e.sbs;r[t++]=1/0;for(var ie=0,oe=~~((e.sbs.length+1)/2);ie<oe;ie++)r[t++]=e.height;var De=s();r[t++]=1/0;for(var Ne=0,Le=~~((e.sbs.length+1)/2);Ne<Le;Ne++)r[t++]=0;var Te=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ae,r[t++]="bhs",r[t++]=De,r[t++]="bbs",r[t++]=Te,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Ve=Pe();r[t++]=Ve,e.dontdraw||Mt()}else{r[t++]=1/0,r[t++]=1,r[t++]=1,U(e.d1w),U(e.checklt),U(e.d2w),r[t++]=1,r[t++]=1,r[t++]=0,e.top=s(),r[t++]=1/0,r[t++]=1,r[t++]=1,U(e.d4w),U(e.checkrt),U(e.d3w),r[t++]=1,r[t++]=1,r[t++]=0,e.bot=s();for(var Qe=0;Qe<=24;Qe+=2){e.i=Qe;for(var ot=0,Ze=l(e.top,e.i);ot<Ze;ot++)r[t++]=0;for(var Fe=0,Ke=l(e.top,e.i+1);Fe<Ke;Fe++)r[t++]=1}Kt(s(50)),e.top=r[--t];for(var Je=0;Je<=24;Je+=2){e.i=Je;for(var rt=0,Xe=l(e.bot,e.i);rt<Xe;rt++)r[t++]=1;for(var Se=0,pe=l(e.bot,e.i+1);Se<pe;Se++)r[t++]=0}if(Kt(s(50)),e.bot=r[--t],V(e.format,"stacked")){e.sep=s(50),b(e.sep,0,0);for(var Ie=1;Ie<=49;Ie+=1)e.i=Ie,V(l(e.top,e.i),l(e.bot,e.i))?b(e.sep,e.i,1-l(e.top,e.i)):b(e.sep,e.i,1-l(e.sep,e.i-1));R(e.sep,0,s([0,0,0,0])),R(e.sep,46,s([0,0,0,0])),r[t++]=1/0;for(var Me=0;Me<5;Me++)U(e.top);U(e.sep);for(var Re=0;Re<7;Re++)U(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}if(V(e.format,"stackedomni")){r[t++]=1/0,ve(e.top,function(){var kt=r[--t];r[t++]=1-kt}),e.sep1=s(),R(e.sep1,0,s([0,0,0,0])),R(e.sep1,46,s([0,0,0,0]));for(var Ye=18;Ye<=30;Ye+=1){if(e.i=Ye,l(e.top,e.i)==0)if(l(e.top,e.i-1)==1)r[t++]=1;else{var ze=l(e.sep1,e.i-1)==0?1:0;r[t++]=ze}else r[t++]=0;b(e.sep1,e.i,r[--t])}r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var mt=0;mt<21;mt++)r[t++]=0,r[t++]=1;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.sep2=s(),r[t++]=1/0,ve(e.bot,function(){var kt=r[--t];r[t++]=1-kt}),e.sep3=s(),R(e.sep3,0,s([0,0,0,0])),R(e.sep3,46,s([0,0,0,0]));for(var lt=19;lt<=31;lt+=1){if(e.i=lt,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var ht=l(e.sep3,e.i-1)==0?1:0;r[t++]=ht}else r[t++]=0;b(e.sep3,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var yt=0;yt<=12;yt+=1){var jt=r[--t];r[t++]=jt&&V(l(e.bot,yt+19),l(e.f3,yt))}r[--t]&&R(e.sep3,19,s([0,0,0,0,0,0,0,0,0,0,1,0,0])),r[t++]=1/0;for(var wt=0,Dt=e.barxmult;wt<Dt;wt++)U(e.top);U(e.sep1),U(e.sep2),U(e.sep3);for(var Ct=0,Ut=e.barxmult;Ct<Ut;Ct++)U(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}var It=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",50],["pixy",e.pixy],["height",e.pixy/72],["width",50/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=It,e.dontdraw||xt()}e=a}function Iy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedBadLength#9532",r[t++]="GS1 DataBar Stacked must be 13 or 14 digits",z()),Ee(N(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedBadAI#9535",r[t++]="GS1 DataBar Stacked must begin with (01) application identifier",z());for(var n=N(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var c=l(n,i);(c<48||c>57)&&(r[t++]="bwipp.databarstackedBadCharacter#9539",r[t++]="GS1 DataBar Stacked must contain only digits",z())}e.checksum=0;for(var d=0;d<=12;d+=1){if(e.i=d,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&l(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedBadCheckDigit#9552",r[t++]="Incorrect GS1 DataBar Stacked check digit provided",z());var m=X(18);R(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,b(e.options,"dontdraw",!0),b(e.options,"format","stacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,u2();var v=r[--t];e[r[--t]]=v,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function By(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Ee(N(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedomniBadAI#9610",r[t++]="GS1 DataBar Stacked Omnidirectional must begin with (01) application identifier",z()),e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedomniBadLength#9613",r[t++]="GS1 DataBar Stacked Omnidirectional must be 13 or 14 digits",z());for(var n=N(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var c=l(n,i);(c<48||c>57)&&(r[t++]="bwipp.databarstackedomniBadCharacter#9617",r[t++]="GS1 DataBar Stacked Omnidirectional must contain only digits",z())}e.checksum=0;for(var d=0;d<=12;d+=1){if(e.i=d,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&l(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedomniBadCheckDigit#9630",r[t++]="Incorrect GS1 DataBar Stacked Omnidirectional check digit provided",z());var m=X(18);R(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,b(e.options,"dontdraw",!0),b(e.options,"format","stackedomni"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,u2();var v=r[--t];e[r[--t]]=v,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function Dy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databartruncatedBadLength#9688",r[t++]="GS1 DataBar Truncated must be 13 or 14 digits",z()),Ee(N(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databartruncatedBadAI#9691",r[t++]="GS1 DataBar Truncated must begin with (01) application identifier",z());for(var n=N(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var c=l(n,i);(c<48||c>57)&&(r[t++]="bwipp.databartruncatedBadCharacter#9695",r[t++]="GS1 DataBar Truncated must contain only digits",z())}e.checksum=0;for(var d=0;d<=12;d+=1){if(e.i=d,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&l(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databartruncatedBadCheckDigit#9708",r[t++]="Incorrect GS1 DataBar Truncated check digit provided",z());var m=X(18);R(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,b(e.options,"dontdraw",!0),b(e.options,"format","truncated"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,u2();var v=r[--t];e[r[--t]]=v,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function Ry(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=10/72,e.linkage=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarlimitedBadLength#9771",r[t++]="GS1 DataBar Limited must be 13 or 14 digits",z()),Ee(N(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarlimitedBadAI#9774",r[t++]="GS1 DataBar Limited must begin with (01) application identifier",z());var n=l(e.barcode,4);(n<48||n>49)&&(r[t++]="bwipp.databarlimitedBadStartDigit#9777",r[t++]="GS1 DataBar Limited must begin with 0 or 1",z());for(var i=N(e.barcode,5,e.barcode.length-5),o=0,c=i.length;o<c;o++){var d=l(i,o);(d<48||d>57)&&(r[t++]="bwipp.databarlimitedBadCharacter#9781",r[t++]="GS1 DataBar Limited must contain only digits",z())}e.checksum=0;for(var f=0;f<=12;f+=1){if(e.i=f,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i+4)-48,e.i%2==0){var h=r[--t];r[t++]=h*3}var p=r[--t],m=r[--t];e[r[--t]]=S(m+p)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&l(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarlimitedBadCheckDigit#9794",r[t++]="Incorrect GS1 DataBar Limited check digit provided",z());var v=X(18);R(v,0,e.barcode),b(v,17,e.checksum+48),e.barcode=v,e.linkval=s([2,0,1,5,1,3,3,5,3,1,0,9,6]),r[t++]=1/0;for(var w=N(e.barcode,4,13),y=0,x=w.length;y<x;y++)r[t++]=l(w,y)-48;if(e.binval=s(),e.linkage)for(var g=0,A=e.binval.length-1;g<=A;g+=1)e.i=g,b(e.binval,e.i,S(l(e.binval,e.i)+l(e.linkval,e.i)));e.txt=s(e.barcode.length);for(var j=0,C=e.barcode.length-1;j<=C;j+=1)e.i=j,b(e.txt,e.i,s([N(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var Je=r[--t],rt=r[--t],Xe=S(rt-Je);if(Je<S(rt-Je)){var Se=Xe;Xe=Je,Je=Se}r[t++]=Xe,r[t++]=1,r[t++]=1;for(var pe=rt,Ie=Je+1;pe>=Ie;pe-=1){var Me=r[--t],Re=r[t-1],Ye=r[t-2];if(r[t++]=Me*pe,dc(Re,Ye)){var ze=r[--t],mt=r[--t];r[t++]=mt+1,r[t++]=~~(ze/mt)}}for(;;){var lt=r[t-2],ht=r[t-3];if(Bi(lt,ht))break;var yt=r[--t],jt=r[--t];r[t++]=jt+1,r[t++]=~~(yt/jt)}var wt=r[--t];r[t-1]=wt;var Dt=r[--t];r[t-1]=Dt},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var Je=0,rt=e.el-2;Je<=rt;Je+=1){e.bar=Je,e.ew=1;var Xe=e.bar;for(e.mask=e.mask|(Xe<0?1>>>-Xe:1<<Xe);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var Se=r[--t];if(e[r[--t]]=Se,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var pe=r[--t],Ie=r[--t];e[r[--t]]=S(Ie-pe)}if(S(e.el-e.bar)>2){e.lval=0;for(var Me=S(e.nm-e.ew-e.el+e.bar)+2,Re=e.mw+1;Me>=Re;Me-=1)r[t++]=S(e.nm-Me-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var Ye=e.bar;e.mask=e.mask&~(Ye<0?1>>>-Ye:1<<Ye)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),b(e.out,e.bar,e.ew)}b(e.out,e.el-1,e.nm),r[t++]=e.out};for(var k=0;k<=11;k+=1){e.i=k;var E=e.binval,B=e.i;b(E,B+1,S(l(E,B+1)+l(e.binval,e.i)%2013571*10)),b(e.binval,e.i,~~(l(e.binval,e.i)/2013571))}e.d2=l(e.binval,12)%2013571;var I=e.binval;b(I,12,~~(l(I,12)/2013571)),e.d1=0,e.i=!0;for(var D=0;D<=12;D+=1){e.j=D;var M=l(e.binval,e.j);if(r[t++]=M,M==0&&e.i)t--;else{e.i=!1,r[t++]="d1",r[t++]=e.d1;var T=r[t-3],H=r[t-1];e[r[t-2]]=S(H+T*~~l1(10,12-e.j)),t-=3}}for(e.tab267=s([183063,0,17,9,6,3,6538,28,820063,183064,13,13,5,4,875,728,1000775,820064,9,17,3,6,28,6454,1491020,1000776,15,11,5,4,2415,203,1979844,1491021,11,15,4,5,203,2408,1996938,1979845,19,7,8,1,17094,1,2013570,1996939,7,19,1,8,1,16632]),e.i=0;;){if(e.d1<=l(e.tab267,e.i)){U(N(e.tab267,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=l(e.tab267,e.i)){U(N(e.tab267,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d2wo",r[t++]=~~(S(e.d2-e.d2gs)/e.d2te),r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d2we",r[t++]=S(e.d2-e.d2gs)%e.d2te,r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,e.d1w=s(14);for(var ee=0;ee<=6;ee+=1)e.i=ee,b(e.d1w,e.i*2,l(e.d1wo,e.i)),b(e.d1w,e.i*2+1,l(e.d1we,e.i));e.d2w=s(14);for(var se=0;se<=6;se+=1)e.i=se,b(e.d2w,e.i*2,l(e.d2wo,e.i)),b(e.d2w,e.i*2+1,l(e.d2we,e.i));r[t++]=1/0,U(e.d1w),U(e.d2w),e.widths=s(),e.checkweights=s([1,3,9,27,81,65,17,51,64,14,42,37,22,66,20,60,2,6,18,54,73,41,34,13,39,28,84,74]),r[t++]=1/0;for(var ue=0;ue<=43;ue+=1)r[t++]=ue;r[t++]=45,r[t++]=52,r[t++]=57;for(var W=63;W<=66;W+=1)r[t++]=W;for(var G=73;G<=79;G+=1)r[t++]=G;r[t++]=82;for(var ne=126;ne<=130;ne+=1)r[t++]=ne;r[t++]=132;for(var de=141;de<=146;de+=1)r[t++]=de;for(var te=210;te<=217;te+=1)r[t++]=te;r[t++]=220;for(var ae=316;ae<=320;ae+=1)r[t++]=ae;r[t++]=322,r[t++]=323,r[t++]=326,r[t++]=337,e.checkseq=s(),e.checksum=0;for(var ie=0;ie<=27;ie+=1)e.i=ie,e.checksum=S(e.checksum+l(e.widths,e.i)*l(e.checkweights,e.i));e.checksum=e.checksum%89,e.seq=l(e.checkseq,e.checksum),r[t++]="swidths",r[t++]=~~(e.seq/21),r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var oe=r[--t];e[r[--t]]=oe,r[t++]="bwidths",r[t++]=e.seq%21,r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var De=r[--t];e[r[--t]]=De,e.checkwidths=s([0,0,0,0,0,0,0,0,0,0,0,0,1,1]);for(var Ne=0;Ne<=5;Ne+=1)e.i=Ne,b(e.checkwidths,e.i*2,l(e.swidths,e.i)),b(e.checkwidths,e.i*2+1,l(e.bwidths,e.i));r[t++]=1/0,r[t++]=1,U(e.d1w),U(e.checkwidths),U(e.d2w),r[t++]=1,r[t++]=1,r[t++]=5,e.sbs=s(),r[t++]=1/0;var Le=e.sbs;r[t++]=1/0;for(var Te=0,Ve=~~((e.sbs.length+1)/2);Te<Ve;Te++)r[t++]=e.height;var Qe=s();r[t++]=1/0;for(var ot=0,Ze=~~((e.sbs.length+1)/2);ot<Ze;ot++)r[t++]=0;var Fe=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Le,r[t++]="bhs",r[t++]=Qe,r[t++]="bbs",r[t++]=Fe,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Ke=Pe();r[t++]=Ke,e.dontdraw||Mt(),e=a}function Hm(){var a=e;if(e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.height=34/72,e.format="expanded",e.segments=-1,e.linkage=!1,e.barxmult=34,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barxmult<34&&(r[t++]="bwipp.databarStackedOmniBarXmult#10075",r[t++]="GS1 DataBar Expanded Stacked must have a barxmult of at least 34",z()),Ee(e.format,"expanded")&&Ee(e.format,"expandedstacked")&&(r[t++]="bwipp.databarexpandedBadFormat#10079",r[t++]="Valid formats are expanded and expandedstacked",z()),e.segments==-1){var n=V(e.format,"expandedstacked")?4:22;e.segments=n}else(e.segments<2||e.segments>22||e.segments%2!=0)&&(r[t++]="bwipp.gs1databarexpandedBadSegments#10086",r[t++]="The number of segments must be even from 2 to 22",z());for(r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t];;){if(e.ais.length==2&&V(l(e.ais,0),"01")&&V(l(e.ais,1),"3103")&&V(N(l(e.vals,0),0,1),"9")&&Ce(l(e.vals,1))<=32767){r[t++]="0100",r[t++]=!1;break}if(e.ais.length==2&&V(l(e.ais,0),"01")&&V(l(e.ais,1),"3202")&&V(N(l(e.vals,0),0,1),"9")&&Ce(l(e.vals,1))<=9999){r[t++]="0101",r[t++]=!1;break}if(e.ais.length==2&&V(l(e.ais,0),"01")&&V(l(e.ais,1),"3203")&&V(N(l(e.vals,0),0,1),"9")&&Ce(l(e.vals,1))<=22767){r[t++]="0101",r[t++]=!1;break}var i=e.ais.length;if(i==2||i==3){r[t++]="ai310x",r[t++]=!1;for(var o=3100;o<=3109;o+=1){var c=r[--t];r[t++]=c||V(qt(X(4),o,10),l(e.ais,1))}var d=r[--t];e[r[--t]]=d,r[t++]="ai320x",r[t++]=!1;for(var f=3200;f<=3209;f+=1){var h=r[--t];r[t++]=h||V(qt(X(4),f,10),l(e.ais,1))}var p=r[--t];if(e[r[--t]]=p,e.ais.length==3){var m=s(["11","13","15","17"]);r[t++]="aibad",r[t++]=!0;for(var v=0,w=m.length;v<w;v++){var y=r[--t];r[t++]=y&&Ee(l(m,v),l(e.ais,2))}var x=r[--t];e[r[--t]]=x}else e.aibad=!1;if(V(l(e.ais,0),"01")&&(e.ai310x||e.ai320x)&&!e.aibad){if(e.ais.length==3){var g=Ce(N(l(e.vals,2),2,2)),A=Ce(N(l(e.vals,2),4,2));if(V(N(l(e.vals,0),0,1),"9")&&Ce(l(e.vals,1))<=99999&&g>=1&&g<=12&&A>=0&&A<=31){if(e.ai310x&&V(l(e.ais,2),"11")){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x&&V(l(e.ais,2),"11")){r[t++]="0111001",r[t++]=!1;break}if(e.ai310x&&V(l(e.ais,2),"13")){r[t++]="0111010",r[t++]=!1;break}if(e.ai320x&&V(l(e.ais,2),"13")){r[t++]="0111011",r[t++]=!1;break}if(e.ai310x&&V(l(e.ais,2),"15")){r[t++]="0111100",r[t++]=!1;break}if(e.ai320x&&V(l(e.ais,2),"15")){r[t++]="0111101",r[t++]=!1;break}if(e.ai310x&&V(l(e.ais,2),"17")){r[t++]="0111110",r[t++]=!1;break}if(e.ai320x&&V(l(e.ais,2),"17")){r[t++]="0111111",r[t++]=!1;break}}}else if(V(N(l(e.vals,0),0,1),"9")&&Ce(l(e.vals,1))<=99999){if(e.ai310x){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x){r[t++]="0111001",r[t++]=!1;break}}}}if(e.ais.length>=2){r[t++]="ai392x",r[t++]=!1;for(var j=3920;j<=3923;j+=1){var C=r[--t];r[t++]=C||V(qt(X(4),j,10),l(e.ais,1))}var k=r[--t];if(e[r[--t]]=k,V(l(e.ais,0),"01")&&e.ai392x&&V(N(l(e.vals,0),0,1),"9")){r[t++]="01100",r[t++]=!0;break}}if(e.ais.length>=2){r[t++]="ai393x",r[t++]=!1;for(var E=3930;E<=3933;E+=1){var B=r[--t];r[t++]=B||V(qt(X(4),E,10),l(e.ais,1))}var I=r[--t];if(e[r[--t]]=I,V(l(e.ais,0),"01")&&e.ai393x&&V(N(l(e.vals,0),0,1),"9")){r[t++]="01101",r[t++]=!0;break}}if(V(l(e.ais,0),"01")){r[t++]="1",r[t++]=!0;break}r[t++]="00",r[t++]=!0;break}if(e.gpfallow=r[--t],e.method=r[--t],e.conv12to40=function(){var ar=_r(X(40),"0000000000000000000000000000000000000000"),Ar=r[--t],Cr=qt(X(10),Ce(N(Ar,0,3)),2);R(N(ar,0,10),10-Cr.length,Cr);var ra=qt(X(10),Ce(N(Ar,3,3)),2);R(N(ar,10,10),10-ra.length,ra);var Ur=qt(X(10),Ce(N(Ar,6,3)),2);R(N(ar,20,10),10-Ur.length,Ur);var oa=qt(X(10),Ce(N(Ar,9,3)),2);R(N(ar,30,10),10-oa.length,oa),r[t++]=ar},e.conv13to44=function(){var ar=_r(X(44),"00000000000000000000000000000000000000000000"),Ar=r[--t],Cr=qt(X(4),Ce(N(Ar,0,1)),2);R(N(ar,0,4),4-Cr.length,Cr),r[t++]=ar,r[t++]=ar,r[t++]=N(Ar,1,12),e.conv12to40();var ra=r[--t];R(r[--t],4,ra)},e.tobin=function(){var ar=X(r[--t]);r[t++]=ar;for(var Ar=0,Cr=ar.length-1;Ar<=Cr;Ar+=1){var ra=r[t-1];b(ra,Ar,48)}var Ur=r[t-1];r[t++]=Ur;var oa=r[t-3],Jr=r[t-1];r[t-3]=r[t-2],t-=2;var es=qt(X(Jr.length),oa,2);R(Jr,Jr.length-es.length,es)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,V(e.method,"00")&&(e.cdf=s([]),e.gpf=s([])),V(e.method,"1")){r[t++]="cdf",r[t++]=N(l(e.vals,0),0,13),e.conv13to44();var D=r[--t];e[r[--t]]=D,r[t++]=1/0;for(var M=e.cdf,T=0,H=M.length;T<H;T++)r[t++]=l(M,T)-48;e.cdf=s(),e.gpf=s([]),e.ais=N(e.ais,1,e.ais.length-1),e.vals=N(e.vals,1,e.vals.length-1),e.fncs=N(e.fncs,1,e.fncs.length-1)}if(V(e.method,"0100")){e.cdf=X(55),r[t++]=e.cdf,r[t++]=0,r[t++]=N(l(e.vals,0),1,12),e.conv12to40();var _=r[--t],F=r[--t];R(r[--t],F,_),r[t++]=e.cdf,r[t++]=40,r[t++]=Ce(l(e.vals,1)),r[t++]=15,e.tobin();var Q=r[--t],L=r[--t];R(r[--t],L,Q),r[t++]=1/0;for(var ee=e.cdf,se=0,ue=ee.length;se<ue;se++)r[t++]=l(ee,se)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(V(e.method,"0101")){e.cdf=X(55),r[t++]=e.cdf,r[t++]=0,r[t++]=N(l(e.vals,0),1,12),e.conv12to40();var W=r[--t],G=r[--t];R(r[--t],G,W),V(l(e.ais,1),"3202")?(r[t++]=Ce(l(e.vals,1)),r[t++]=15,e.tobin()):(r[t++]=Ce(l(e.vals,1))+1e4,r[t++]=15,e.tobin()),R(e.cdf,40,r[--t]),r[t++]=1/0;for(var ne=e.cdf,de=0,te=ne.length;de<te;de++)r[t++]=l(ne,de)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(e.method.length==7){e.cdf=X(76),r[t++]=e.cdf,r[t++]=0,r[t++]=N(l(e.vals,0),1,12),e.conv12to40();var ae=r[--t],ie=r[--t];R(r[--t],ie,ae);var oe=X(6);if(R(oe,0,N(l(e.ais,1),3,1)),R(oe,1,N(l(e.vals,1),1,5)),r[t++]=Ce(oe),r[t++]=20,e.tobin(),R(e.cdf,40,r[--t]),e.ais.length==3){var De=l(e.vals,2);r[t++]=Ce(N(De,0,2))*384+((Ce(N(De,2,2))-1)*32+Ce(N(De,4,2)))}else r[t++]=38400;r[t++]=16,e.tobin(),R(e.cdf,60,r[--t]),r[t++]=1/0;for(var Ne=e.cdf,Le=0,Te=Ne.length;Le<Te;Le++)r[t++]=l(Ne,Le)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(V(e.method,"01100")){e.cdf=X(42),r[t++]=e.cdf,r[t++]=0,r[t++]=N(l(e.vals,0),1,12),e.conv12to40();var Ve=r[--t],Qe=r[--t];R(r[--t],Qe,Ve),r[t++]=e.cdf,r[t++]=40,r[t++]=Ce(N(l(e.ais,1),3,1)),r[t++]=2,e.tobin();var ot=r[--t],Ze=r[--t];R(r[--t],Ze,ot),r[t++]=1/0;for(var Fe=e.cdf,Ke=0,Je=Fe.length;Ke<Je;Ke++)r[t++]=l(Fe,Ke)-48;e.cdf=s(),r[t++]=1/0,ve(l(e.vals,1)),e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=N(e.ais,2,e.ais.length-2),e.vals=N(e.vals,2,e.vals.length-2),e.fncs=N(e.fncs,2,e.fncs.length-2)}if(V(e.method,"01101")){e.cdf=X(52),r[t++]=e.cdf,r[t++]=0,r[t++]=N(l(e.vals,0),1,12),e.conv12to40();var rt=r[--t],Xe=r[--t];R(r[--t],Xe,rt),r[t++]=e.cdf,r[t++]=40,r[t++]=Ce(N(l(e.ais,1),3,1)),r[t++]=2,e.tobin();var Se=r[--t],pe=r[--t];R(r[--t],pe,Se),r[t++]=e.cdf,r[t++]=42,r[t++]=Ce(N(l(e.vals,1),0,3)),r[t++]=10,e.tobin();var Ie=r[--t],Me=r[--t];R(r[--t],Me,Ie),r[t++]=1/0;for(var Re=e.cdf,Ye=0,ze=Re.length;Ye<ze;Ye++)r[t++]=l(Re,Ye)-48;e.cdf=s(),r[t++]=1/0;for(var mt=l(e.vals,1),lt=N(mt,3,mt.length-3),ht=0,yt=lt.length;ht<yt;ht++)r[t++]=l(lt,ht);e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=N(e.ais,2,e.ais.length-2),e.vals=N(e.vals,2,e.vals.length-2),e.fncs=N(e.fncs,2,e.fncs.length-2)}e.gpfallow?e.vlf=s(2):e.vlf=s([]),r[t++]=1/0;for(var jt=0;jt<=119;jt+=1){var wt=_r(X(2),"00"),Dt=qt(X(2),jt,11);if(R(wt,2-Dt.length,Dt),r[t++]=jt,r[t++]=wt,l(wt,0)==65){var Ct=r[t-1];b(Ct,0,94)}var Ut=r[t-1];if(l(Ut,1)==65){var It=r[t-1];b(It,1,94)}var kt=r[--t],P=_r(X(7),"0000000"),Y=qt(X(7),r[--t]+8,2);R(P,7-Y.length,Y),r[t++]=kt,r[t++]=P}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=Pe(),r[t++]=1/0;for(var q=48;q<=57;q+=1)r[t++]=q,r[t++]=q-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var O=65;O<=90;O+=1)r[t++]=O,r[t++]=O-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var $=44;$<=47;$+=1)r[t++]=$,r[t++]=$+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=Pe(),r[t++]=1/0;for(var le=48;le<=57;le+=1)r[t++]=le,r[t++]=le-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var K=65;K<=90;K+=1)r[t++]=K,r[t++]=K-1,r[t++]=7,e.tobin();for(var be=97;be<=122;be+=1)r[t++]=be,r[t++]=be-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var J=37;J<=47;J+=1)r[t++]=J,r[t++]=J+197,r[t++]=8,e.tobin();for(var fe=58;fe<=63;fe+=1)r[t++]=fe,r[t++]=fe+187,r[t++]=8,e.tobin();r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=Pe();for(var me=0,ge=e.ais.length-1;me<=ge;me+=1){e.i=me,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var re=s(e.gpf.length+e.ai.length+e.val.length);R(re,0,e.gpf),r[t++]=re,r[t++]=re,r[t++]=e.gpf.length;var xe=1/0,ke=e.ai;r[t++]=xe,ve(ke);var he=s(),Ae=r[--t];R(r[--t],Ae,he);var we=r[t-1];r[t++]=we,r[t++]=e.gpf.length+e.ai.length;var je=1/0,Oe=e.val;r[t++]=je,ve(Oe);var _e=s(),Ge=r[--t];if(R(r[--t],Ge,_e),e.gpf=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var st=s(e.gpf.length+1);R(st,0,e.gpf),b(st,e.gpf.length,e.fnc1),e.gpf=st}}e.rembits=function(){var ar=r[--t],Ar=48,Cr=~~xr(ar/12)*12;if(~~xr(ar/12)*12<48){var ra=Ar;Ar=Cr,Cr=ra}var Ur=~~(Cr/12);if(r[t++]=ar,r[t++]=Cr,r[t++]=Ur,Ur%e.segments==1){var oa=r[--t];r[t-1]=(oa+1)*12}else t--;var Jr=r[--t],es=r[--t];r[t++]=S(Jr-es)},e.encode=function(){var ar=r[t-1];if(Ee(ar,"raw")){var Ar=r[--t],Cr=l(Ar,r[--t]);r[t++]=Cr}else t--;var ra=r[t-1];ra.length+e.j>=252&&(t--,r[t++]="bwipp.gs1databarexpandedTooLong#10374",r[t++]="Maximum length exceeded",z()),r[t++]=1/0;var Ur=r[--t],oa=r[--t];r[t++]=Ur,ve(oa,function(){var es=r[--t];r[t++]=es-48});var Jr=s();R(e.gpfenc,e.j,Jr),e.j=Jr.length+e.j},r[t++]=1/0;for(var at=0,ye=e.gpf.length;at<ye;at++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var He=0,Ue=e.gpf.length;He<Ue;He++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var We=0,pt=e.gpf.length;We<pt;We++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var vt=e.gpf.length-1;vt>=0;vt-=1){e.i=vt;var ft=_r(X(2),"00"),gt=l(e.gpf,e.i);r[t++]=l(e.gpf,e.i),r[t++]=ft,r[t++]=ft,r[t++]=0,r[t++]=gt,gt==e.fnc1&&(r[t-1]=94);var nt=r[--t],Ft=r[--t];if(b(r[--t],Ft,nt),e.i<e.gpf.length-1){var et=r[t-1],Ht=l(e.gpf,e.i+1);r[t++]=et,r[t++]=1,r[t++]=Ht,Ht==e.fnc1&&(r[t-1]=94);var $t=r[--t],zt=r[--t];b(r[--t],zt,$t)}var nr=l(e.numeric,r[--t])!==void 0;nr?b(e.numericruns,e.i,l(e.numericruns,e.i+2)+2):b(e.numericruns,e.i,0);var Ir=r[t-1],ir=l(e.alphanumeric,Ir)!==void 0;ir?b(e.alphanumericruns,e.i,l(e.alphanumericruns,e.i+1)+1):b(e.alphanumericruns,e.i,0);var br=r[--t],sr=l(e.iso646,br)!==void 0,Dr=l(e.alphanumeric,br)!==void 0;sr&&!Dr?b(e.nextiso646only,e.i,0):b(e.nextiso646only,e.i,l(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(252),e.i=0,e.j=0,e.mode="numeric";e.i!=e.gpf.length;)for(;;){if(V(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var er=X(2),ur=l(e.gpf,e.i);r[t++]=er,r[t++]=er,r[t++]=0,r[t++]=ur,ur==e.fnc1&&(r[t-1]=94);var Wt=r[--t],Xt=r[--t];b(r[--t],Xt,Wt);var fr=r[t-1],Tr=l(e.gpf,e.i+1);r[t++]=fr,r[t++]=1,r[t++]=Tr,Tr==e.fnc1&&(r[t-1]=94);var Pr=r[--t],ha=r[--t];b(r[--t],ha,Pr);var Rt=r[t-1],Yt=l(e.numeric,Rt)!==void 0;if(Yt){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var rr=l(e.gpf,e.i);if(rr<48||rr>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=13+e.method.length+e.vlf.length+e.cdf.length+e.j,e.rembits();var wr=r[--t];if(e[r[--t]]=wr,e.rem>=4&&e.rem<=6){var or=N(_r(X(6),"000000"),0,e.rem),Rr=qt(X(4),l(e.gpf,e.i)-47,2);R(or,4-Rr.length,Rr),r[t++]=or,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var lr=X(2);b(lr,0,l(e.gpf,e.i)),b(lr,1,94),r[t++]=lr,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(V(e.mode,"alphanumeric")){if(l(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var Lt=l(e.gpf,e.i),yr=l(e.iso646,Lt)!==void 0,aa=l(e.alphanumeric,Lt)!==void 0;if(yr&&!aa){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(l(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var pa=l(e.numericruns,e.i);if(pa>=4&&S(pa+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=l(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(V(e.mode,"iso646")){if(l(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(l(e.numericruns,e.i)>=4&&l(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(l(e.alphanumericruns,e.i)>=5&&l(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=l(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=N(e.gpfenc,0,e.j);var Aa=13+e.method.length+e.vlf.length+e.cdf.length+e.gpf.length;r[t++]=Aa,r[t++]=Aa,e.rembits();var Qr=r[--t];if(e.pad=s(Qr),r[t++]=Qr,e.vlf.length!=0){var Ca=r[--t],ba=~~(S(r[--t]+Ca)/12);b(e.vlf,0,ba%2);var Ma=ba<=14?0:1;b(e.vlf,1,Ma)}else t-=2;if(e.pad.length>0){for(var da=0,ka=e.pad.length-1;da<=ka;da+=5){e.i=da;var Ia=e.pad,ja=e.i,Qa=s([0,0,1,0,0]),Ha=e.pad,Ka=e.i,ms=5,Ba=Ha.length-Ka;if(Ha.length-Ka>5){var Rs=ms;ms=Ba,Ba=Rs}R(Ia,ja,N(Qa,0,Ba))}V(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.pad),e.pad=N(s(),0,e.pad.length))}r[t++]=1/0;var $a=e.linkage?1:0;r[t++]=$a,ve(e.method,function(){var ar=r[--t];r[t++]=ar-48}),U(e.vlf),U(e.cdf),U(e.gpf),U(e.pad),e.binval=s(),e.datalen=~~(e.binval.length/12),e.ncr=function(){var ar=r[--t],Ar=r[--t],Cr=S(Ar-ar);if(ar<S(Ar-ar)){var ra=Cr;Cr=ar,ar=ra}r[t++]=Cr,r[t++]=1,r[t++]=1;for(var Ur=Ar,oa=ar+1;Ur>=oa;Ur-=1){var Jr=r[--t],es=r[t-1],ts=r[t-2];if(r[t++]=Jr*Ur,dc(es,ts)){var qs=r[--t],xn=r[--t];r[t++]=xn+1,r[t++]=~~(qs/xn)}}for(;;){var Dn=r[t-2],Un=r[t-3];if(Bi(Dn,Un))break;var zn=r[--t],gn=r[--t];r[t++]=gn+1,r[t++]=~~(zn/gn)}var f1=r[--t];r[t-1]=f1;var Ln=r[--t];r[t-1]=Ln},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var ar=0,Ar=e.el-2;ar<=Ar;ar+=1){e.bar=ar,e.ew=1;var Cr=e.bar;for(e.mask=e.mask|(Cr<0?1>>>-Cr:1<<Cr);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var ra=r[--t];if(e[r[--t]]=ra,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Ur=r[--t],oa=r[--t];e[r[--t]]=S(oa-Ur)}if(S(e.el-e.bar)>2){e.lval=0;for(var Jr=S(e.nm-e.ew-e.el+e.bar)+2,es=e.mw+1;Jr>=es;Jr-=1)r[t++]=S(e.nm-Jr-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var ts=e.bar;e.mask=e.mask&~(ts<0?1>>>-ts:1<<ts)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),b(e.out,e.bar,e.ew)}b(e.out,e.el-1,e.nm),r[t++]=e.out},e.tab174=s([347,0,12,5,7,2,87,4,1387,348,10,7,5,4,52,20,2947,1388,8,9,4,5,30,52,3987,2948,6,11,3,6,10,104,4191,3988,4,13,1,8,1,204]),e.dxw=s(e.datalen);for(var Qs=0,Fa=e.datalen-1;Qs<=Fa;Qs+=1){e.x=Qs,e.d=N(e.binval,e.x*12,12),r[t++]="d",r[t++]=0;for(var vs=0;vs<=11;vs+=1){e.j=vs;var Ts=r[--t];r[t++]=S(Ts+~~l1(2,11-e.j)*l(e.d,e.j))}var Ms=r[--t];for(e[r[--t]]=Ms,e.j=0;;){if(dc(e.d,l(e.tab174,e.j))){U(N(e.tab174,e.j+1,7)),e.dte=r[--t],e.dto=r[--t],e.dmwe=r[--t],e.dmwo=r[--t],e.dele=r[--t],e.delo=r[--t],e.dgs=r[--t];break}e.j=e.j+8}r[t++]="dwo",r[t++]=~~(S(e.d-e.dgs)/e.dte),r[t++]=e.delo,r[t++]=e.dmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var Wa=r[--t];e[r[--t]]=Wa,r[t++]="dwe",r[t++]=S(e.d-e.dgs)%e.dte,r[t++]=e.dele,r[t++]=e.dmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Hs=r[--t];if(e[r[--t]]=Hs,e.dw=s(8),e.x%2==0)for(var Ja=0;Ja<=3;Ja+=1)e.j=Ja,b(e.dw,7-e.j*2,l(e.dwo,e.j)),b(e.dw,6-e.j*2,l(e.dwe,e.j));else for(var xs=0;xs<=3;xs+=1)e.j=xs,b(e.dw,e.j*2,l(e.dwo,e.j)),b(e.dw,e.j*2+1,l(e.dwe,e.j));b(e.dxw,e.x,e.dw)}e.finderwidths=s([1,8,4,1,1,1,1,4,8,1,3,6,4,1,1,1,1,4,6,3,3,4,6,1,1,1,1,6,4,3,3,2,8,1,1,1,1,8,2,3,2,6,5,1,1,1,1,5,6,2,2,2,9,1,1,1,1,9,2,2]),e.finderseq=s([s([0,1]),s([0,3,2]),s([0,5,2,7]),s([0,9,2,7,4]),s([0,9,2,7,6,11]),s([0,9,2,7,8,11,10]),s([0,1,2,3,4,5,6,7]),s([0,1,2,3,4,5,6,9,8]),s([0,1,2,3,4,5,6,9,10,11]),s([0,1,2,3,4,7,6,9,8,11,10])]),e.seq=l(e.finderseq,~~((e.datalen-2)/2)),e.fxw=s(e.seq.length);for(var _a=0,mn=e.seq.length-1;_a<=mn;_a+=1)e.x=_a,b(e.fxw,e.x,N(e.finderwidths,l(e.seq,e.x)*5,5));e.checkweights=s([-1,-1,-1,-1,-1,-1,-1,-1,77,96,32,81,27,9,3,1,20,60,180,118,143,7,21,63,205,209,140,117,39,13,145,189,193,157,49,147,19,57,171,91,132,44,85,169,197,136,186,62,185,133,188,142,4,12,36,108,50,87,29,80,97,173,128,113,150,28,84,41,123,158,52,156,166,196,206,139,187,203,138,46,76,17,51,153,37,111,122,155,146,119,110,107,106,176,129,43,16,48,144,10,30,90,59,177,164,125,112,178,200,137,116,109,70,210,208,202,184,130,179,115,190,204,68,93,31,151,191,134,148,22,66,198,172,94,71,2,40,154,192,64,162,54,18,6,120,149,25,75,14,42,126,167,175,199,207,69,23,78,26,79,103,98,83,38,114,131,182,124,159,53,88,170,127,183,61,161,55,165,73,8,24,72,5,15,89,100,174,58,160,194,135,45]),r[t++]=1/0,ve(e.seq,function(){U(N(e.checkweights,r[--t]*16,16))});var qa=s();e.checkweightseq=N(qa,8,qa.length-8),r[t++]=1/0;for(var Nn=e.dxw,Da=0,Js=Nn.length;Da<Js;Da++)U(l(Nn,Da));e.widths=s(),e.checksum=0;for(var Pa=0,rn=e.widths.length-1;Pa<=rn;Pa+=1)e.i=Pa,e.checksum=S(e.checksum+l(e.widths,e.i)*l(e.checkweightseq,e.i));for(e.checksum=S(e.checksum%211+(e.datalen-3)*211),e.i=0;;){if(e.checksum<=l(e.tab174,e.i)){U(N(e.tab174,e.i+1,7)),e.cte=r[--t],e.cto=r[--t],e.cmwe=r[--t],e.cmwo=r[--t],e.cele=r[--t],e.celo=r[--t],e.cgs=r[--t];break}e.i=e.i+8}r[t++]="cwo",r[t++]=~~(S(e.checksum-e.cgs)/e.cte),r[t++]=e.celo,r[t++]=e.cmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var os=r[--t];e[r[--t]]=os,r[t++]="cwe",r[t++]=S(e.checksum-e.cgs)%e.cte,r[t++]=e.cele,r[t++]=e.cmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Zt=r[--t];e[r[--t]]=Zt,e.cw=s(8);for(var ea=0;ea<=3;ea+=1)e.i=ea,b(e.cw,e.i*2,l(e.cwo,e.i)),b(e.cw,e.i*2+1,l(e.cwe,e.i));var Sa=s(22);b(Sa,0,e.cw),R(Sa,1,e.dxw),e.dxw=N(Sa,0,e.datalen+1),e.datalen=e.dxw.length,e.rows=s(~~xr(e.datalen/e.segments)),e.numrows=e.rows.length;for(var Oa=0,gs=e.numrows-1;Oa<=gs;Oa+=1){e.r=Oa,r[t++]=1/0,e.segments%4!=0&&e.r%2==1&&(r[t++]=0),r[t++]=1,r[t++]=1;for(var Hr=0,ls=e.segments-1;Hr<=ls;Hr+=1)e.pos=Hr+e.r*e.segments,e.pos<e.datalen&&(U(l(e.dxw,e.pos)),e.pos%2==0&&U(l(e.fxw,~~(e.pos/2))));var bs=ga()+2;r[t++]=1,r[t++]=1,Kt(s(bs)),b(e.rows,e.r,r[--t]),t--}if(Ee(e.format,"expandedstacked")){var Ua=l(e.rows,0);e.sbs=N(Ua,1,Ua.length-1),r[t++]=1/0,r[t++]=1;for(var Cn=0,Ra=e.datalen-1;Cn<=Ra;Cn+=1)e.i=Cn,U(l(e.dxw,e.i)),e.i%2==0&&U(l(e.fxw,~~(e.i/2)));r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var u1=e.sbs;r[t++]=1/0;for(var $s=0,Ta=~~((e.sbs.length+1)/2);$s<Ta;$s++)r[t++]=e.height;var In=s();r[t++]=1/0;for(var Xa=0,Bn=~~((e.sbs.length+1)/2);Xa<Bn;Xa++)r[t++]=0;var ws=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=u1,r[t++]="bhs",r[t++]=In,r[t++]="bbs",r[t++]=ws,r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=0,r[t++]="opt",r[t++]=e.options;var an=Pe();r[t++]=an,e.dontdraw||Mt()}else{e.seps=s(e.numrows);for(var sn=0,Jn=e.numrows-1;sn<=Jn;sn+=1){e.r=sn,e.row=l(e.rows,e.r),r[t++]=1/0;for(var At=0,Kr=e.row.length-1;At<=Kr;At+=2){e.i=At;for(var sa=0,za=l(e.row,e.i);sa<za;sa++)r[t++]=0;if(e.i<e.row.length-1)for(var ua=0,Za=l(e.row,e.i+1);ua<Za;ua++)r[t++]=1}Kt(s(ga())),e.row=r[--t],r[t-1]=1/0,ve(e.row,function(){var ar=r[--t];r[t++]=1-ar}),e.sep=s(),r[t++]=1/0;for(var ys=19,vn=e.row.length-13;ys<=vn;ys+=98)r[t++]=ys;for(var dt=68,St=e.row.length-13;dt<=St;dt+=98)r[t++]=dt;e.finderpos=s();for(var pr=e.finderpos,cr=0,hr=pr.length;cr<hr;cr++)for(var Mr=l(pr,cr),dr=Mr,na=Mr+14;dr<=na;dr+=1){if(e.i=dr,l(e.row,e.i)==0)if(l(e.row,e.i-1)==1)r[t++]=1;else{var $r=l(e.sep,e.i-1)==0?1:0;r[t++]=$r}else r[t++]=0;b(e.sep,e.i,r[--t])}if(R(e.sep,0,s([0,0,0,0])),R(e.sep,e.row.length-4,s([0,0,0,0])),e.segments%4==0&&e.r%2==1)if(l(e.rows,e.r).length!=l(e.rows,0).length&&e.finderpos.length%2==1)r[t++]=1/0,r[t++]=0,U(e.row),e.row=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s();else{for(var qr=e.row.length-1;qr>=0;qr-=1)r[t++]=l(e.row,qr);Kt(e.row),t--;for(var Gr=e.sep.length-1;Gr>=0;Gr-=1)r[t++]=l(e.sep,Gr);Kt(e.sep),t--}b(e.rows,e.r,e.row),b(e.seps,e.r,e.sep)}e.pixx=l(e.rows,0).length,r[t++]=1/0;for(var Wr=0,ma=e.pixx;Wr<ma;Wr++)r[t++]=0;var ta=s();R(ta,0,l(e.rows,e.numrows-1)),b(e.rows,e.numrows-1,ta),r[t++]=1/0;for(var Yr=0,ia=e.pixx;Yr<ia;Yr++)r[t++]=0;var Fr=s();R(Fr,0,l(e.seps,e.numrows-1)),b(e.seps,e.numrows-1,Fr),r[t++]=1/0;for(var Or=0,La=~~(e.pixx/2)+1;Or<La;Or++)r[t++]=0,r[t++]=1;e.sep=N(s(),0,e.pixx),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.pixx-4,s([0,0,0,0])),r[t++]=1/0;for(var wa=0,cs=e.numrows-1;wa<=cs;wa+=1){e.r=wa,e.r!=0&&U(l(e.seps,e.r));for(var Ns=0,nn=e.barxmult;Ns<nn;Ns++)U(l(e.rows,e.r));e.r!=e.numrows-1&&(U(l(e.seps,e.r)),U(e.sep))}e.pixs=s();var Fs=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",~~(e.pixs.length/e.pixx)],["height",~~(e.pixs.length/e.pixx)/72],["width",e.pixx/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Fs,e.dontdraw||xt()}e=a}function $m(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","expandedstacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Hm();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function wT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.coupontextfont="OCR-B",e.coupontextsize=9,e.coupontextxoffset=null,e.coupontextyoffset=null,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),t--,e.vals=r[--t],e.ais=r[--t],e.ais.length!=1&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11001",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),Ee(l(e.ais,0),"8110")&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11004",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),e.val=l(e.vals,0),e.vli=l(e.val,0)-48,(e.vli<0||e.vli>6)&&(r[t++]="bwipp.gs1northamericancouponBadVLI#11011",r[t++]="The AI (8110) data should start with a Company Prefix length indicator in the range 0 to 6",z()),e.gcp=N(e.val,1,e.vli+6),e.cod=N(e.val,e.vli+7,6),e.coupontext=X(e.gcp.length+7),R(e.coupontext,0,e.gcp),R(e.coupontext,e.gcp.length,"-"),R(e.coupontext,e.gcp.length+1,e.cod),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$m();var n=r[--t];if(e[r[--t]]=n,e.includetext){e.coupontextxoffset==null&&(e.coupontextxoffset=0),e.coupontextyoffset==null&&(e.coupontextyoffset=l(e.args,"height")*72+3);var i=l(e.args,"txt")!==void 0;i?(e.txt=l(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function yT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=8*2.835/72,e.nwidth=.5*2.835,e.wwidth=1.5*2.835,e.swidth=1*2.835,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>6)&&(r[t++]="bwipp.pharmacodeBadLength#11091",r[t++]="Pharmacode must be 1 to 6 digits",z()),ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.pharmacodeBadCharacter#11095",r[t++]="Pharmacode must contain only digits",z())});var n=Ce(e.barcode);(n<3||n>131070)&&(r[t++]="bwipp.pharmacodeBadValue#11099",r[t++]="Pharmacode value must be between 3 and 131070",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,b(e.txt,e.i,s([N(e.barcode,e.i,1),0,0,"",0]));e.barcode=qt(X(17),Ce(e.barcode)+1,2),e.barcode=N(e.barcode,1,e.barcode.length-1),e.barlen=e.barcode.length,e.sbs=s(e.barlen*2);for(var c=0,d=e.barlen-1;c<=d;c+=1)e.i=c,e.enc=N(e.barcode,e.i,1),V(e.enc,"0")?b(e.sbs,e.i*2,e.nwidth):b(e.sbs,e.i*2,e.wwidth),b(e.sbs,e.i*2+1,e.swidth);r[t++]=1/0;var f=e.sbs;r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var v=0,w=~~((e.sbs.length+1)/2);v<w;v++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var x=Pe();r[t++]=x,e.dontdraw||Mt(),e=a}function Ty(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.height=4,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>8)&&(r[t++]="bwipp.pharmacode2BadLength#11180",r[t++]="Two-track Pharmacode must be 1 to 6 digits",z()),ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.pharmacode2badCharacter#11184",r[t++]="Two-track Pharmacode must contain only digits",z())});var n=Ce(e.barcode);(n<4||n>64570080)&&(r[t++]="bwipp.pharmacode2badValue#11188",r[t++]="Two-track Pharmacode value must be between 4 and 64570080",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,b(e.txt,e.i,s([N(e.barcode,e.i,1),0,0,"",0]));for(e.encstr=X(16),e.sbs=s(32),e.bar=1/25.4*e.height,e.spc=1/25.4*72,e.i=15,e.val=Ce(e.barcode);e.val!=0;){var c=e.val%3;e.val=~~(S(e.val-l(s([3,1,2]),c))/3),b(e.encstr,e.i,l(s([2,0,1]),c)),e.i=e.i-1}e.encstr=N(e.encstr,e.i+1,15-e.i),e.bhs=s(e.encstr.length),e.bbs=s(e.encstr.length);for(var d=0,f=e.encstr.length-1;d<=f;d+=1){e.i=d;var h=l(e.encstr,e.i);b(e.bhs,e.i,e.bar*l(s([1,1,2]),h)),b(e.bbs,e.i,l(s([0,e.bar,0]),h))}r[t++]=1/0;var p=e.bhs,m=e.bbs;r[t++]=1/0;for(var v=0,w=e.encstr.length*2;v<w;v++)r[t++]=e.spc;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=p,r[t++]="bbs",r[t++]=m,r[t++]="sbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="textyoffset",r[t++]=4,r[t++]="opt",r[t++]=e.options;var x=Pe();r[t++]=x,e.dontdraw||Mt(),e=a}function jc(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.version="industrial",r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code2of5emptyData#11287",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var _=r[--t];(_<48||_>57)&&(r[t++]="bwipp.code2of5badCharacter#11295",r[t++]="Code 25 must contain only digits",z())}),r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.checksum=0;for(var o=0,c=e.barlen-1;o<=c;o+=1){if(e.i=o,r[t++]="checksum",r[t++]=e.checksum,r[t++]=l(e.barcode,e.i)-48,S(e.barlen-e.i)%2!=0){var d=r[--t];r[t++]=d*3}var f=r[--t],h=r[--t];e[r[--t]]=S(h+f)}e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(l(e.barcode,e.barlen)!=e.checksum+48&&(r[t++]="bwipp.code2of5badCheckDigit#11309",r[t++]="Incorrect Code 25 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen),e.includecheck=!0);var p=new Map([["industrial",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","313111","31113"])],["iata",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","1111","311"])],["matrix",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","311111","31111"])],["coop",s(["331111","111331","113131","113311","131131","131311","133111","311131","311311","313111","3131","133"])],["datalogic",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","1111","311"])]]);e.versions=p;var m=l(e.versions,e.version)!==void 0;m||(r[t++]="bwipp.code2of5badVersion#11344",r[t++]="Unrecognised Code 25 version",z()),e.encs=l(e.versions,e.version),e.cs=l(e.encs,0).length,r[t++]="cw",r[t++]=0,ve(l(e.encs,0),function(){var _=r[--t],F=r[--t];r[t++]=S(F+(_-48))});var v=r[--t];e[r[--t]]=v,e.ss=l(e.encs,10).length,r[t++]="sw",r[t++]=0,ve(l(e.encs,10),function(){var _=r[--t],F=r[--t];r[t++]=S(F+(_-48))});var w=r[--t];if(e[r[--t]]=w,e.es=l(e.encs,11).length,e.barchars="0123456789",r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var y=r[--t];r[t++]=y+1}var x=X(S(r[--t]*e.cs+e.ss+e.es));if(e[r[--t]]=x,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var g=r[--t];r[t++]=g+1}var A=s(r[--t]);e[r[--t]]=A,R(e.sbs,0,l(e.encs,10));for(var j=0,C=e.barlen-1;j<=C;j+=1)e.i=j,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*e.cs+e.ss,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),S(e.i*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]));e.includecheck?(R(e.sbs,S(e.barlen*e.cs+e.ss),l(e.encs,e.checksum)),R(e.sbs,S(e.barlen*e.cs+e.cs+e.ss),l(e.encs,11)),e.includecheckintext?b(e.txt,e.barlen,s([N(e.barchars,e.checksum,1),S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]))):R(e.sbs,S(e.barlen*e.cs+e.ss),l(e.encs,11)),r[t++]=1/0,r[t++]=1/0,ve(e.sbs,function(){var _=r[--t];r[t++]=_-48});var k=s();r[t++]=1/0;for(var E=0,B=~~((e.sbs.length+1)/2);E<B;E++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,M=~~((e.sbs.length+1)/2);D<M;D++)r[t++]=0;var T=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=T,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var H=Pe();r[t++]=H,e.dontdraw||Mt(),e=a}function AT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","industrial"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,jc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function kT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","iata"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,jc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function jT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","matrix"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,jc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function ST(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","coop"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,jc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function ET(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","datalogic"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,jc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function NT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code11emptyData#11692",r[t++]="The data must not be empty",z()),e.encs=s(["111131","311131","131131","331111","113131","313111","133111","111331","311311","311111","113111","113311"]),e.barchars="0123456789-",e.charvals=new Map;for(var n=0;n<=10;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.code11badCharacter#11714",r[t++]="Code 11 must contain only digits and dashes",z())}if(e.barlen=e.barcode.length,e.validatecheck){e.barlen==11&&(r[t++]="bwipp.code11badLength#11721",r[t++]="Code 11 cannot be 11 characters using check digits",z());var d=e.barlen<=10?1:2;e.barlen=e.barlen-d}if(r[t++]="numchecks",e.includecheck||e.validatecheck){var f=e.barlen>=10?2:1;r[t++]=f}else r[t++]=0;var h=r[--t];e[r[--t]]=h,e.checksum1=0,e.checksum2=0;for(var p=0,m=e.barlen-1;p<=m;p+=1)e.i=p,e.indx=l(e.charvals,N(e.barcode,e.i,1)),e.checksum1=S(e.checksum1+((e.barlen-e.i-1)%10+1)*e.indx),e.checksum2=S(e.checksum2+((e.barlen-e.i)%9+1)*e.indx);if(e.checksum1=e.checksum1%11,e.checksum2=S(e.checksum2+e.checksum1)%11,e.validatecheck){if(e.numchecks==1){var v=e.checksum1;l(e.barcode,e.barlen)!=l(e.barchars,v)&&(r[t++]="bwipp.code11badCheckDigit#11739",r[t++]="Incorrect Code 11 check digit provided",z())}else(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum1)||l(e.barcode,e.barlen+1)!=l(e.barchars,e.checksum2))&&(r[t++]="bwipp.code11badCheckDigits#11744",r[t++]="Incorrect Code 11 check digits provided",z());e.barcode=N(e.barcode,0,e.barlen),e.includecheck=!0}e.sbs=X(S(e.barlen+e.numchecks)*6+12),e.txt=s(S(e.barlen+e.numchecks)),R(e.sbs,0,l(e.encs,11)),e.xpos=8;for(var w=0,y=e.barlen-1;w<=y;w+=1){e.i=w,e.indx=l(e.charvals,N(e.barcode,e.i,1)),e.enc=l(e.encs,e.indx),R(e.sbs,e.i*6+6,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var x=0;x<=5;x+=1)e.xpos=S(l(e.enc,x)-48+e.xpos)}if(e.includecheck)if(e.barlen>=10){if(R(e.sbs,e.barlen*6+6,l(e.encs,e.checksum1)),R(e.sbs,e.barlen*6+12,l(e.encs,e.checksum2)),e.includecheckintext){b(e.txt,e.barlen,s([N(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])),e.enc=l(e.encs,e.checksum1);for(var g=0;g<=5;g+=1)e.xpos=S(l(e.enc,g)-48+e.xpos);b(e.txt,e.barlen+1,s([N(e.barchars,e.checksum2,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else b(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),b(e.txt,e.barlen+1,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*6+18,l(e.encs,11))}else R(e.sbs,e.barlen*6+6,l(e.encs,e.checksum1)),e.includecheckintext?b(e.txt,e.barlen,s([N(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),R(e.sbs,e.barlen*6+12,l(e.encs,11));else R(e.sbs,e.barlen*6+6,l(e.encs,11));r[t++]=1/0,r[t++]=1/0;for(var A=e.sbs,j=0,C=A.length;j<C;j++)r[t++]=l(A,j)-48;var k=s();r[t++]=1/0;for(var E=0,B=~~((e.sbs.length+1)/2);E<B;E++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,M=~~((e.sbs.length+1)/2);D<M;D++)r[t++]=0;var T=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=T,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var H=Pe();r[t++]=H,e.dontdraw||Mt(),e=a}function CT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.includestartstop=!1,e.semi=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.bc412emptyData#11864",r[t++]="The data must not be empty",z()),e.semi&&(e.includestartstop=!0),e.barchars="0R9GLVHA8EZ4NTS1J2Q6C7DYKBUIX3FWP5M",e.charvals=new Map;for(var n=0;n<=34;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.bc412badCharacter#11884",r[t++]="BC412 must contain only digits and capital letters except O",z())}if(e.semi){e.validatecheck?(e.barcode.length<8||e.barcode.length>19)&&(r[t++]="bwipp.bc412semivalidateBadLength#11892",r[t++]="BC412 semi with check digit must be 8 to 19 characters long",z()):(e.barcode.length<7||e.barcode.length>18)&&(r[t++]="bwipp.bc412semiBadLength#11896",r[t++]="BC412 semi must be 7 to 18 characters long",z()),e.barlen=e.barcode.length,e.validatecheck||(e.barlen=e.barlen+1,e.sbarcode=X(e.barlen),b(e.sbarcode,0,l(e.barcode,0)),b(e.sbarcode,1,48),R(e.sbarcode,2,N(e.barcode,1,e.barlen-2)),e.barcode=e.sbarcode),e.sumodd=0,e.sumeven=0;for(var d=0,f=e.barlen-1;d<=f;d+=1)e.i=d,r[t++]=l(e.charvals,N(e.barcode,e.i,1)),e.i%2==0?e.sumodd=S(r[--t]+e.sumodd):e.sumeven=S(r[--t]+e.sumeven);e.checksum=S(e.sumodd%35+e.sumeven%35*2)%35,e.validatecheck?e.checksum!=0&&(r[t++]="bwipp.bc412semiBadCheckDigit#11922",r[t++]="Incorrect BC412 semi check digit provided",z()):(e.checksum=e.checksum*17%35,b(e.barcode,1,l(e.barchars,e.checksum)))}else{if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var h=r[--t];r[t++]=h-1}var p=r[--t];e[r[--t]]=p,e.checksum=0;for(var m=0,v=e.barlen-1;m<=v;m+=1)e.checksum=S(l(e.charvals,N(e.barcode,m,1))+e.checksum);e.checksum=e.checksum%35,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.bc412badCheckDigit#11939",r[t++]="Incorrect BC412 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen),e.includecheck=!0)}e.encs=s(["11111115","13111212","11131113","12111213","12121311","13131111","12111312","11131212","11121411","11151111","15111111","11111511","12131211","13121112","13111311","11111214","12121113","11111313","13111113","11121213","11141112","11121312","11141211","14121111","12121212","11131311","13121211","12111411","14111211","11111412","12111114","14111112","12141111","11121114","12131112","12","111"]),e.sbs=X((e.barlen+1)*8+5),e.includecheck?e.txt=s(e.barlen+1):e.txt=s(e.barlen),e.includestartstop?(R(e.sbs,0,l(e.encs,35)),e.pos=2,e.txtpos=3):(e.pos=0,e.txtpos=0);for(var w=0,y=e.barlen-1;w<=y;w+=1)e.i=w,e.indx=l(e.charvals,N(e.barcode,e.i,1)),R(e.sbs,e.pos,l(e.encs,e.indx)),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8;e.includecheck&&(R(e.sbs,e.pos,l(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen,s([N(e.barchars,e.checksum,1),e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s(["",e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8),e.includestartstop&&(R(e.sbs,e.pos,l(e.encs,36)),e.pos=e.pos+3),e.sbs=N(e.sbs,0,e.pos),r[t++]=1/0,r[t++]=1/0;for(var x=e.sbs,g=0,A=x.length;g<A;g++)r[t++]=l(x,g)-48;var j=s();r[t++]=1/0;for(var C=0,k=~~((e.sbs.length+1)/2);C<k;C++)r[t++]=e.height;var E=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=E,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var M=Pe();r[t++]=M,e.dontdraw||Mt(),e=a}function IT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.altstartstop=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<2||e.barcode.length<3&&e.validatecheck)&&(r[t++]="bwipp.rationalizedCodabarBadLength#12067",r[t++]="Codabar must be at least 2 characters in length excluding any check digit",z()),e.encs=s(["11111331","11113311","11131131","33111111","11311311","31111311","13111131","13113111","13311111","31131111","11133111","11331111","31113131","31311131","31313111","11313131","11331311","13131131","11131331","11133311"]),e.barcharsnormal="0123456789-$:/.+ABCD",e.barcharsalt="0123456789-$:/.+TN*E";var n=e.altstartstop?e.barcharsalt:e.barcharsnormal;e.barchars=n,e.charvals=new Map;for(var i=0;i<=19;i+=1)b(e.charvals,N(e.barchars,i,1),i);e.bodyvals=new Map;for(var o=0;o<=15;o+=1)b(e.bodyvals,N(e.barchars,o,1),o);e.ssvals=new Map;for(var c=16;c<=19;c+=1)b(e.ssvals,N(e.barchars,c,1),c);var d=l(e.ssvals,N(e.barcode,0,1))!==void 0,f=l(e.ssvals,N(e.barcode,e.barcode.length-1,1))!==void 0;(!d||!f)&&(e.altstartstop?(r[t++]="bwipp.rationalizedCodabarBadAltStartStop#12099",r[t++]="Codabar start and stop characters must be one of E N T or *",z()):(r[t++]="bwipp.rationalizedCodabarBadStartStop#12101",r[t++]="Codabar start and stop characters must be one of A B C or D",z()));for(var h=1,p=e.barcode.length-2;h<=p;h+=1){var m=l(e.bodyvals,N(e.barcode,h,1))!==void 0;m||(r[t++]="bwipp.rationalizedCodabarBadCharacter#12106",r[t++]="Codabar body must contain only digits and symbols - $ : / . +",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var v=r[--t];r[t++]=v-1}var w=r[--t];e[r[--t]]=w,e.checksum=0;for(var y=0,x=e.barlen-2;y<=x;y+=1)e.checksum=S(l(e.charvals,N(e.barcode,y,1))+e.checksum);var g=N(e.barcode,e.barcode.length-1,1);if(e.checksum=S(l(e.charvals,g)+e.checksum),e.checksum=(16-e.checksum%16)%16,e.validatecheck){l(e.barcode,e.barlen-1)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.rationalizedCodabarBadCheckDigit#12122",r[t++]="Incorrect Codabar check digit provided",z());var A=X(e.barlen);R(A,0,N(e.barcode,0,e.barlen-1)),R(A,e.barlen-1,N(e.barcode,e.barlen,1)),e.barcode=A,e.includecheck=!0}if(r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var j=r[--t];r[t++]=j+1}var C=X(r[--t]*8);if(e[r[--t]]=C,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var k=r[--t];r[t++]=k+1}var E=s(r[--t]);e[r[--t]]=E,e.xpos=0;for(var B=0,I=e.barlen-2;B<=I;B+=1){e.i=B,e.indx=l(e.charvals,N(e.barcode,e.i,1)),e.enc=l(e.encs,e.indx),R(e.sbs,e.i*8,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var D=0;D<=7;D+=1)e.xpos=S(l(e.enc,D)-48+e.xpos)}if(e.includecheck){R(e.sbs,e.barlen*8-8,l(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen-1,s([N(e.barchars,e.checksum,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen-1,s([" ",e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var M=0;M<=7;M+=1)e.xpos=S(l(l(e.encs,e.checksum),M)-48+e.xpos);e.indx=l(e.charvals,N(e.barcode,e.barlen-1,1)),e.enc=l(e.encs,e.indx),R(e.sbs,e.barlen*8,e.enc),b(e.txt,e.barlen,s([N(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else e.indx=l(e.charvals,N(e.barcode,e.barlen-1,1)),e.enc=l(e.encs,e.indx),R(e.sbs,e.barlen*8-8,e.enc),b(e.txt,e.barlen-1,s([N(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0,ve(e.sbs,function(){var ue=r[--t];r[t++]=ue-48});var T=s();r[t++]=1/0;for(var H=0,_=~~((e.sbs.length+1)/2);H<_;H++)r[t++]=e.height;var F=s();r[t++]=1/0;for(var Q=0,L=~~((e.sbs.length+1)/2);Q<L;Q++)r[t++]=0;var ee=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=T,r[t++]="bhs",r[t++]=F,r[t++]="bbs",r[t++]=ee,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var se=Pe();r[t++]=se,e.dontdraw||Mt(),e=a}function BT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.15,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,ve(e.barcode,function(){var rt=r[--t];(rt<48||rt>57)&&(r[t++]="bwipp.onecodeBadCharacter#12232",r[t++]="The data must contain only digits",z())}),e.barlen!=20&&e.barlen!=25&&e.barlen!=29&&e.barlen!=31&&(r[t++]="bwipp.onecodeInvalidLength#12237",r[t++]="The data must be 20, 25, 29 or 31 digits",z()),r[t++]=1/0;var n=V(N(e.barcode,5,1),"9")?14:11;r[t++]=2,r[t++]=2,r[t++]=5,r[t++]=5,r[t++]=n,r[t++]=n,r[t++]=20,r[t++]=20,r[t++]=25,r[t++]=25,r[t++]=29,r[t++]=29,e.txtdict=Pe(),e.txt=s(e.barlen+6),e.spacecnt=0;for(var i=0,o=e.barlen-1;i<=o;i+=1){e.i=i;var c=l(e.txtdict,e.i)!==void 0;c&&(b(e.txt,e.i+e.spacecnt,s([" ",0,0,"",0])),e.spacecnt=e.spacecnt+1),b(e.txt,e.i+e.spacecnt,s([N(e.barcode,e.i,1),0,0,"",0]))}e.txt=N(e.txt,0,e.barcode.length+e.spacecnt),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var rt=e.num.length-1;rt>=1;rt-=1){e.i=rt;var Xe=e.num,Se=e.i;b(Xe,Se-1,S(l(Xe,Se-1)+~~(l(e.num,e.i)/e.base))),b(e.num,e.i,l(e.num,e.i)%e.base)}for(;!hn(l(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,U(e.num),e.num=s(),b(e.num,0,S(l(e.num,0)+~~(l(e.num,1)/e.base))),b(e.num,1,l(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var pe=e.num,Ie=0,Me=pe.length;Ie<Me;Ie++){var Re=l(pe,Ie);r[t++]=Re,Re==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var rt=r[--t],Xe=r[--t];if(e.offset=qo(rt.length-Xe.length),rt.length<Xe.length){var Se=rt;rt=Xe,Xe=Se}e.a=rt,e.b=Xe;for(var pe=0,Ie=e.b.length-1;pe<=Ie;pe+=1){var Me=e.a,Re=e.offset;b(Me,pe+Re,S(l(Me,pe+Re)+l(e.b,pe)))}r[t++]=e.a};var d=new Map([[20,s([0])],[25,s([1])],[29,s([1,0,0,0,0,1])],[31,s([1,0,0,0,1,0,0,0,0,1])]]);e.startvals=d,r[t++]="binval",r[t++]=l(e.startvals,e.barlen),r[t++]=1/0;for(var f=N(e.barcode,20,e.barlen-20),h=0,p=f.length;h<p;h++)r[t++]=l(f,h)-48;var m=s();r[t++]=m,e.bigadd();var v=r[--t];e[r[--t]]=v,r[t++]=1/0,U(e.binval),r[t++]=l(e.barcode,0)-48,e.binval=s(),r[t++]=1/0;for(var w=e.binval,y=0,x=w.length;y<x;y++)r[t++]=l(w,y)*5;var g=s();r[t++]="binval",r[t++]=g,r[t++]=s([l(e.barcode,1)-48]),e.bigadd(),r[t++]=10,e.normalize();var A=r[--t];e[r[--t]]=A,r[t++]=1/0,U(e.binval);for(var j=N(e.barcode,2,18),C=0,k=j.length;C<k;C++)r[t++]=l(j,C)-48;e.binval=s(),e.bytes=s(13);var E=e.binval;e.bintmp=cc(s(E.length),E);for(var B=12;B>=0;B-=1){e.i=B;for(var I=0,D=e.bintmp.length-2;I<=D;I+=1){e.j=I;var M=e.bintmp,T=e.j;b(M,T+1,S(l(M,T+1)+l(e.bintmp,e.j)%256*10)),b(e.bintmp,e.j,~~(l(e.bintmp,e.j)/256))}b(e.bytes,e.i,l(e.bintmp,e.bintmp.length-1)%256);var H=e.bintmp,_=e.bintmp;b(H,_.length-1,~~(l(H,_.length-1)/256))}e.fcs=2047,e.dat=l(e.bytes,0)<<5;for(var F=0;F<6;F++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1;for(var Q=1;Q<=12;Q+=1){e.dat=l(e.bytes,Q)<<3;for(var L=0;L<8;L++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1}e.codewords=s(10);for(var ee=9;ee>=0;ee-=1){e.i=ee;var se=e.i==9?636:1365;e.b=se;for(var ue=0,W=e.binval.length-2;ue<=W;ue+=1){e.j=ue;var G=e.binval,ne=e.j;b(G,ne+1,S(l(G,ne+1)+l(e.binval,e.j)%e.b*10)),b(e.binval,e.j,~~(l(e.binval,e.j)/e.b))}b(e.codewords,e.i,l(e.binval,e.binval.length-1)%e.b);var de=e.binval,te=e.binval;b(de,te.length-1,~~(l(de,te.length-1)/e.b))}b(e.codewords,9,l(e.codewords,9)*2),e.fcs&1024&&b(e.codewords,0,l(e.codewords,0)+659),e.tab513=s([31,7936,47,7808,55,7552,59,7040,61,6016,62,3968,79,7744,87,7488,91,6976,93,5952,94,3904,103,7360,107,6848,109,5824,110,3776,115,6592,117,5568,118,3520,121,5056,122,3008,124,1984,143,7712,151,7456,155,6944,157,5920,158,3872,167,7328,171,6816,173,5792,174,3744,179,6560,181,5536,182,3488,185,5024,186,2976,188,1952,199,7264,203,6752,205,5728,206,3680,211,6496,213,5472,214,3424,217,4960,218,2912,220,1888,227,6368,229,5344,230,3296,233,4832,234,2784,236,1760,241,4576,242,2528,244,1504,248,992,271,7696,279,7440,283,6928,285,5904,286,3856,295,7312,299,6800,301,5776,302,3728,307,6544,309,5520,310,3472,313,5008,314,2960,316,1936,327,7248,331,6736,333,5712,334,3664,339,6480,341,5456,342,3408,345,4944,346,2896,348,1872,355,6352,357,5328,358,3280,361,4816,362,2768,364,1744,369,4560,370,2512,372,1488,376,976,391,7216,395,6704,397,5680,398,3632,403,6448,405,5424,406,3376,409,4912,410,2864,412,1840,419,6320,421,5296,422,3248,425,4784,426,2736,428,1712,433,4528,434,2480,436,1456,440,944,451,6256,453,5232,454,3184,457,4720,458,2672,460,1648,465,4464,466,2416,468,1392,472,880,481,4336,482,2288,484,1264,488,752,527,7688,535,7432,539,6920,541,5896,542,3848,551,7304,555,6792,557,5768,558,3720,563,6536,565,5512,566,3464,569,5e3,570,2952,572,1928,583,7240,587,6728,589,5704,590,3656,595,6472,597,5448,598,3400,601,4936,602,2888,604,1864,611,6344,613,5320,614,3272,617,4808,618,2760,620,1736,625,4552,626,2504,628,1480,632,968,647,7208,651,6696,653,5672,654,3624,659,6440,661,5416,662,3368,665,4904,666,2856,668,1832,675,6312,677,5288,678,3240,681,4776,682,2728,684,1704,689,4520,690,2472,692,1448,696,936,707,6248,709,5224,710,3176,713,4712,714,2664,716,1640,721,4456,722,2408,724,1384,728,872,737,4328,738,2280,740,1256,775,7192,779,6680,781,5656,782,3608,787,6424,789,5400,790,3352,793,4888,794,2840,796,1816,803,6296,805,5272,806,3224,809,4760,810,2712,812,1688,817,4504,818,2456,820,1432,824,920,835,6232,837,5208,838,3160,841,4696,842,2648,844,1624,849,4440,850,2392,852,1368,865,4312,866,2264,868,1240,899,6200,901,5176,902,3128,905,4664,906,2616,908,1592,913,4408,914,2360,916,1336,929,4280,930,2232,932,1208,961,4216,962,2168,964,1144,1039,7684,1047,7428,1051,6916,1053,5892,1054,3844,1063,7300,1067,6788,1069,5764,1070,3716,1075,6532,1077,5508,1078,3460,1081,4996,1082,2948,1084,1924,1095,7236,1099,6724,1101,5700,1102,3652,1107,6468,1109,5444,1110,3396,1113,4932,1114,2884,1116,1860,1123,6340,1125,5316,1126,3268,1129,4804,1130,2756,1132,1732,1137,4548,1138,2500,1140,1476,1159,7204,1163,6692,1165,5668,1166,3620,1171,6436,1173,5412,1174,3364,1177,4900,1178,2852,1180,1828,1187,6308,1189,5284,1190,3236,1193,4772,1194,2724,1196,1700,1201,4516,1202,2468,1204,1444,1219,6244,1221,5220,1222,3172,1225,4708,1226,2660,1228,1636,1233,4452,1234,2404,1236,1380,1249,4324,1250,2276,1287,7188,1291,6676,1293,5652,1294,3604,1299,6420,1301,5396,1302,3348,1305,4884,1306,2836,1308,1812,1315,6292,1317,5268,1318,3220,1321,4756,1322,2708,1324,1684,1329,4500,1330,2452,1332,1428,1347,6228,1349,5204,1350,3156,1353,4692,1354,2644,1356,1620,1361,4436,1362,2388,1377,4308,1378,2260,1411,6196,1413,5172,1414,3124,1417,4660,1418,2612,1420,1588,1425,4404,1426,2356,1441,4276,1442,2228,1473,4212,1474,2164,1543,7180,1547,6668,1549,5644,1550,3596,1555,6412,1557,5388,1558,3340,1561,4876,1562,2828,1564,1804,1571,6284,1573,5260,1574,3212,1577,4748,1578,2700,1580,1676,1585,4492,1586,2444,1603,6220,1605,5196,1606,3148,1609,4684,1610,2636,1617,4428,1618,2380,1633,4300,1634,2252,1667,6188,1669,5164,1670,3116,1673,4652,1674,2604,1681,4396,1682,2348,1697,4268,1698,2220,1729,4204,1730,2156,1795,6172,1797,5148,1798,3100,1801,4636,1802,2588,1809,4380,1810,2332,1825,4252,1826,2204,1857,4188,1858,2140,1921,4156,1922,2108,2063,7682,2071,7426,2075,6914,2077,5890,2078,3842,2087,7298,2091,6786,2093,5762,2094,3714,2099,6530,2101,5506,2102,3458,2105,4994,2106,2946,2119,7234,2123,6722,2125,5698,2126,3650,2131,6466,2133,5442,2134,3394,2137,4930,2138,2882,2147,6338,2149,5314,2150,3266,2153,4802,2154,2754,2161,4546,2162,2498,2183,7202,2187,6690,2189,5666,2190,3618,2195,6434,2197,5410,2198,3362,2201,4898,2202,2850,2211,6306,2213,5282,2214,3234,2217,4770,2218,2722,2225,4514,2226,2466,2243,6242,2245,5218,2246,3170,2249,4706,2250,2658,2257,4450,2258,2402,2273,4322,2311,7186,2315,6674,2317,5650,2318,3602,2323,6418,2325,5394,2326,3346,2329,4882,2330,2834,2339,6290,2341,5266,2342,3218,2345,4754,2346,2706,2353,4498,2354,2450,2371,6226,2373,5202,2374,3154,2377,4690,2378,2642,2385,4434,2401,4306,2435,6194,2437,5170,2438,3122,2441,4658,2442,2610,2449,4402,2465,4274,2497,4210,2567,7178,2571,6666,2573,5642,2574,3594,2579,6410,2581,5386,2582,3338,2585,4874,2586,2826,2595,6282,2597,5258,2598,3210,2601,4746,2602,2698,2609,4490,2627,6218,2629,5194,2630,3146,2633,4682,2641,4426,2657,4298,2691,6186,2693,5162,2694,3114,2697,4650,2705,4394,2721,4266,2753,4202,2819,6170,2821,5146,2822,3098,2825,4634,2833,4378,2849,4250,2881,4186,2945,4154,3079,7174,3083,6662,3085,5638,3086,3590,3091,6406,3093,5382,3094,3334,3097,4870,3107,6278,3109,5254,3110,3206,3113,4742,3121,4486,3139,6214,3141,5190,3145,4678,3153,4422,3169,4294,3203,6182,3205,5158,3209,4646,3217,4390,3233,4262,3265,4198,3331,6166,3333,5142,3337,4630,3345,4374,3361,4246,3393,4182,3457,4150,3587,6158,3589,5134,3593,4622,3601,4366,3617,4238,3649,4174,3713,4142,3841,4126,4111,7681,4119,7425,4123,6913,4125,5889,4135,7297,4139,6785,4141,5761,4147,6529,4149,5505,4153,4993,4167,7233,4171,6721,4173,5697,4179,6465,4181,5441,4185,4929,4195,6337,4197,5313,4201,4801,4209,4545,4231,7201,4235,6689,4237,5665,4243,6433,4245,5409,4249,4897,4259,6305,4261,5281,4265,4769,4273,4513,4291,6241,4293,5217,4297,4705,4305,4449,4359,7185,4363,6673,4365,5649,4371,6417,4373,5393,4377,4881,4387,6289,4389,5265,4393,4753,4401,4497,4419,6225,4421,5201,4425,4689,4483,6193,4485,5169,4489,4657,4615,7177,4619,6665,4621,5641,4627,6409,4629,5385,4633,4873,4643,6281,4645,5257,4649,4745,4675,6217,4677,5193,4739,6185,4741,5161,4867,6169,4869,5145,5127,7173,5131,6661,5133,5637,5139,6405,5141,5381,5155,6277,5157,5253,5187,6213,5251,6181,5379,6165,5635,6157,6151,7171,6155,6659,6163,6403,6179,6275,6211,5189,4681,4433,4321,3142,2634,2386,2274,1612,1364,1252,856,744,496]),e.tab213=s([3,6144,5,5120,6,3072,9,4608,10,2560,12,1536,17,4352,18,2304,20,1280,24,768,33,4224,34,2176,36,1152,40,640,48,384,65,4160,66,2112,68,1088,72,576,80,320,96,192,129,4128,130,2080,132,1056,136,544,144,288,257,4112,258,2064,260,1040,264,528,513,4104,514,2056,516,1032,1025,4100,1026,2052,2049,4098,4097,2050,1028,520,272,160]),e.chars=s(10);for(var ae=0;ae<=9;ae+=1){e.i=ae;var ie=l(e.codewords,e.i);if(r[t++]=ie,ie<=1286){var oe=l(e.tab513,r[--t]);r[t++]=oe}else{var De=l(e.tab213,r[--t]-1287);r[t++]=De}r[t++]=e.chars,r[t++]=e.i;var Ne=r[t-3],Le=r[t-1];b(r[t-2],Le,Ne),t-=3}for(var Te=9;Te>=0;Te-=1)e.i=Te,~~l1(2,e.i)&e.fcs&&b(e.chars,e.i,l(e.chars,e.i)^8191);e.barmap=s([7,2,4,3,1,10,0,0,9,12,2,8,5,5,6,11,8,9,3,1,0,1,5,12,2,5,1,8,4,4,9,11,6,3,8,10,3,9,7,6,5,11,1,4,8,5,2,12,9,10,0,2,7,1,6,7,3,6,4,9,0,3,8,6,6,4,2,7,1,1,9,9,7,10,5,2,4,0,3,8,6,2,0,4,8,11,1,0,9,8,3,12,2,6,7,7,5,1,4,10,1,12,6,9,7,3,8,0,5,8,9,7,4,6,2,10,3,4,0,5,8,4,5,7,7,11,1,9,6,0,9,6,0,6,4,8,2,1,3,2,5,9,8,12,4,11,6,1,9,5,7,4,3,3,1,2,0,7,2,0,1,3,4,1,6,10,3,5,8,7,9,4,2,11,5,6,0,8,7,12,4,2,8,1,5,10,3,0,9,3,0,9,6,5,2,4,7,8,1,7,5,0,4,5,2,3,0,10,6,12,9,2,3,11,1,6,8,8,7,9,5,4,0,11,1,5,2,2,9,1,4,12,8,3,6,6,7,0,3,7,4,7,7,5,0,12,1,11,2,9,9,0,6,8,5,3,3,10,8,2]),e.bbs=s(65),e.bhs=s(65);for(var Ve=0;Ve<=64;Ve+=1)e.i=Ve,e.dec=(l(e.chars,l(e.barmap,e.i*4))&~~l1(2,l(e.barmap,e.i*4+1)))!=0,e.asc=(l(e.chars,l(e.barmap,e.i*4+2))&~~l1(2,l(e.barmap,e.i*4+3)))!=0,!e.dec&&!e.asc&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8)),!e.dec&&e.asc&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),e.dec&&!e.asc&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),e.dec&&e.asc&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var Qe=e.bbs,ot=e.bhs;r[t++]=1/0;for(var Ze=0,Fe=e.bhs.length-1;Ze<Fe;Ze++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Ke=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Qe,r[t++]="bhs",r[t++]=ot,r[t++]="sbs",r[t++]=Ke,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="left",r[t++]="textfont",r[t++]="OCR-B",r[t++]="textyoffset",r[t++]=1,r[t++]="textxoffset",r[t++]=-.3,r[t++]="opt",r[t++]=e.options;var Je=Pe();r[t++]=Je,e.dontdraw||Mt(),e=a}function DT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=5&&e.barlen!=9&&e.barlen!=11&&(r[t++]="bwipp.postnetBadLength#12597",r[t++]="USPS POSTNET must be 5, 9 or 11 digits excluding check digit",z()),ve(e.barcode,function(){var M=r[--t];(M<48||M>57)&&(r[t++]="bwipp.postnetBadCharacter#12601",r[t++]="USPS POSTNET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["55222","22255","22525","22552","25225","25252","25522","52225","52252","52522","5","5"]),e.checksum=0;for(var o=0,c=e.barlen-1;o<=c;o+=1)e.i=o,e.checksum=S(e.checksum+(l(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.postnetBadCheckDigit#12625",r[t++]="Incorrect USPS POSTNET check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=l(e.encs,10),e.heights=s(e.enc.length);for(var d=0,f=e.enc.length-1;d<=f;d+=1)e.j=d,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=l(e.encs,l(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,v=e.enc.length-1;m<=v;m+=1)e.j=m,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,e.i*5+1,e.heights),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=l(e.encs,e.checksum),e.heights=s(e.enc.length);for(var w=0,y=e.enc.length-1;w<=y;w+=1)e.j=w,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?b(e.txt,e.barlen,s([N(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=l(e.encs,11),e.heights=s(e.enc.length);for(var x=0,g=e.enc.length-1;x<=g;x+=1)e.j=x,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var j=0,C=e.bhs.length;j<C;j++)r[t++]=0;var k=s();r[t++]=1/0;for(var E=0,B=e.bhs.length-1;E<B;E++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=k,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=Pe();r[t++]=D,e.dontdraw||Mt(),e=a}function RT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=11&&e.barlen!=13&&(r[t++]="bwipp.planetBadLength#12745",r[t++]="USPS PLANET must be 11 or 13 digits excluding check digit",z()),ve(e.barcode,function(){var M=r[--t];(M<48||M>57)&&(r[t++]="bwipp.planetBadCharacter#12749",r[t++]="USPS PLANET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["22555","55522","55252","55225","52552","52525","52255","25552","25525","25255","5","5"]),e.checksum=0;for(var o=0,c=e.barlen-1;o<=c;o+=1)e.i=o,e.checksum=S(e.checksum+(l(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.planetBadCheckDigit#12774",r[t++]="Incorrect USPS PLANET check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=l(e.encs,10),e.heights=s(e.enc.length);for(var d=0,f=e.enc.length-1;d<=f;d+=1)e.j=d,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=l(e.encs,l(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,v=e.enc.length-1;m<=v;m+=1)e.j=m,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,e.i*5+1,e.heights),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=l(e.encs,e.checksum),e.heights=s(e.enc.length);for(var w=0,y=e.enc.length-1;w<=y;w+=1)e.j=w,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?b(e.txt,e.barlen,s([N(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=l(e.encs,11),e.heights=s(e.enc.length);for(var x=0,g=e.enc.length-1;x<=g;x+=1)e.j=x,b(e.heights,e.j,Ce(N(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var j=0,C=e.bhs.length;j<C;j++)r[t++]=0;var k=s();r[t++]=1/0;for(var E=0,B=e.bhs.length-1;E<B;E++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=k,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=Pe();r[t++]=D,e.dontdraw||Mt(),e=a}function TT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.royalmailEmptyData#12889",r[t++]="The data must not be empty",z()),e.barchars="ZUVWXY501234B6789AHCDEFGNIJKLMTOPQRS",e.charvals=new Map;for(var n=0;n<=35;n+=1)b(e.charvals,N(e.barchars,n,1),n);e.encs=s(["3300","2211","2301","2310","3201","3210","1122","0033","0123","0132","1023","1032","1302","0213","0303","0312","1203","1212","1320","0231","0321","0330","1221","1230","3102","2013","2103","2112","3003","3012","3120","2031","2121","2130","3021","3030","2","3"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.royalmailBadCharacter#12915",r[t++]="RM4SCC must contain only capital letters and digits",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksumrow=0,e.checksumcol=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=l(e.charvals,N(e.barcode,e.i,1)),e.checksumrow=e.checksumrow+~~(e.indx/6),e.checksumcol=S(e.checksumcol+e.indx%6);e.checksum=S(e.checksumrow%6*6+e.checksumcol%6),e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.royalmailBadCheckDigit#12932",r[t++]="Incorrect RM4SCC check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen)),e.encstr=X(e.barlen*4+6),e.txt=s(e.barlen+1),R(e.encstr,0,l(e.encs,36));for(var m=0,v=e.barlen-1;m<=v;m+=1)e.i=m,e.indx=l(e.charvals,N(e.barcode,e.i,1)),R(e.encstr,e.i*4+1,l(e.encs,e.indx)),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.i*4+1)*3.312,e.textyoffset,e.textfont,e.textsize]));R(e.encstr,e.barlen*4+1,l(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen,s([N(e.barchars,e.checksum,1),(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])),R(e.encstr,e.barlen*4+5,l(e.encs,37)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var w=0,y=e.encstr.length-1;w<=y;w+=1)e.i=w,e.enc=N(e.encstr,e.i,1),V(e.enc,"0")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8)),V(e.enc,"1")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"2")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"3")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var x=e.bbs,g=e.bhs;r[t++]=1/0;for(var A=0,j=e.bhs.length-1;A<j;A++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var C=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=x,r[t++]="bhs",r[t++]=g,r[t++]="sbs",r[t++]=C,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var k=Pe();r[t++]=k,e.dontdraw||Mt(),e=a}function MT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,e.custinfoenc="character",r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Ee(e.custinfoenc,"character")&&Ee(e.custinfoenc,"numeric")&&(r[t++]="bwipp.auspostBadCustinfoEncoding#13045",r[t++]="Customer information encoding must be either character or numeric",z()),e.encs=s(["000","001","002","010","011","012","020","021","022","100","101","102","110","111","112","120","121","122","200","201","202","210","211","212","220","221","222","300","301","302","310","311","312","320","321","322","023","030","031","032","033","103","113","123","130","131","132","133","203","213","223","230","231","232","233","303","313","323","330","331","332","333","003","013","00","01","02","10","11","12","20","21","22","30","13","3"]),e.barchars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz #";var n=new Map([["11",37],["45",37],["59",52],["62",67]]);e.fcclen=n,e.barlen=e.barcode.length,e.barlen<10&&(r[t++]="bwipp.auspostTooShort#13075",r[t++]="The data length must be at least 10",z()),e.txt=s(e.barlen-2),r[t++]=e.fcclen,e.barlen>=2?r[t++]=N(e.barcode,0,2):r[t++]="";var i=r[t-1],o=r[t-2],c=l(o,i)!==void 0;c||(t-=2,r[t++]="bwipp.auspostBadFCC#13082",r[t++]="Must begin with an FCC, either 11, 45, 59 or 62",z());var d=r[--t];e.encstr=X(l(r[--t],d)),r[t++]=!0;for(var f=0;f<1;f++){if(e.barlen<10){r[t-1]=!1;break}for(var h=N(e.barcode,2,8),p=0,m=h.length;p<m;p++){var v=l(h,p);if(v<48||v>57){r[t-1]=!1;break}}}r[--t]||(r[t++]="bwipp.auspostIncompleteDPID#13093",r[t++]="The DPID must be 8 digits",z());var w=V(e.custinfoenc,"numeric")?2:3;(e.barlen-10)*w>e.encstr.length-22-14&&(r[t++]="bwipp.auspostTooLong#13099",r[t++]="The message is too long",z()),R(e.encstr,0,l(e.encs,74));for(var y=0;y<=1;y+=1)e.i=y,R(e.encstr,e.i*2+2,l(e.encs,Ce(N(e.barcode,e.i,1))+64));for(var x=2;x<=9;x+=1)e.i=x,R(e.encstr,e.i*2+2,l(e.encs,Ce(N(e.barcode,e.i,1))+64)),b(e.txt,e.i-2,s([N(e.barcode,e.i,1),((e.i-2)*2+6)*3.312,e.textyoffset,e.textfont,e.textsize]));if(V(e.custinfoenc,"numeric")){for(var g=0,A=e.barlen-11;g<=A;g+=1){e.i=g;var j=l(e.barcode,e.i+10);r[t++]=e.encs,r[t++]=j,(j<48||j>57)&&(r[t++]="bwipp.auspostInvalidCustinfoDigit#13126",r[t++]="The customer information data contains a non-digit character",z());var C=r[--t];R(e.encstr,e.i*2+22,l(r[--t],C-48+64)),b(e.txt,e.i+8,s([N(e.barcode,e.i+10,1),(e.i*2+22)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.ciflen=(e.barlen-10)*2}else{for(var k=0,E=e.barlen-11;k<=E;k+=1)e.i=k,Tt(e.barchars,N(e.barcode,e.i+10,1)),r[--t]||(t--,r[t++]="bwipp.auspostInvalidCustinfoCharacter#13138",r[t++]="The customer information contains an invalid character",z()),e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.encstr,e.i*3+22,e.enc),b(e.txt,e.i+8,s([N(e.barcode,e.i+10,1),(e.i*3+22)*3.312,e.textyoffset,e.textfont,e.textsize]));e.ciflen=(e.barlen-10)*3}for(var B=22+e.ciflen,I=e.encstr.length-14;B<=I;B+=1)R(e.encstr,B,l(e.encs,75));e.rstable=s(64*64),r[t++]=e.rstable,r[t++]=0,r[t++]=1/0;for(var D=0;D<64;D++)r[t++]=0;var M=s(),T=r[--t];R(r[--t],T,M),r[t++]=e.rstable,r[t++]=64,r[t++]=1/0;for(var H=0;H<=63;H+=1)r[t++]=H;var _=s(),F=r[--t];R(r[--t],F,_),e.prev=1;for(var Q=0;Q<64;Q++){e.next=e.prev<<1,e.next&64&&(e.next=e.next^67);for(var L=0;L<=63;L+=1){e.j=L,e.nextcell=function(){r[t++]=e.rstable,r[t++]=64*e.next+e.j},e.nextcell();var ee=r[--t];b(r[--t],ee,l(e.rstable,64*e.prev+e.j)<<1),e.nextcell();var se=r[--t];if(l(r[--t],se)&64){e.nextcell(),e.nextcell();var ue=r[--t],W=l(r[--t],ue),G=r[--t];b(r[--t],G,W^67)}}e.prev=e.next}e.rscodes=s(~~((e.encstr.length-16)/3)+4),r[t++]=e.rscodes,r[t++]=0,r[t++]=1/0;for(var ne=0;ne<4;ne++)r[t++]=0;var de=s(),te=r[--t];R(r[--t],te,de);for(var ae=2,ie=e.encstr.length-16;ae<=ie;ae+=3)e.i=ae,b(e.rscodes,e.rscodes.length-~~((e.i-2)/3)-1,Ce(N(e.encstr,e.i,1))*16+Ce(N(e.encstr,e.i+1,1))*4+Ce(N(e.encstr,e.i+2,1)));for(var oe=e.rscodes.length-5;oe>=0;oe-=1){e.i=oe;for(var De=0;De<=4;De+=1)e.j=De,b(e.rscodes,e.i+e.j,hs(l(e.rscodes,e.i+e.j),l(e.rstable,S(64*l(s([48,17,29,30,1]),e.j)+l(e.rscodes,e.i+4)))))}e.checkcode=_r(X(12),"000000000000");for(var Ne=0;Ne<=3;Ne+=1)e.i=Ne,e.enc=qt(X(3),l(e.rscodes,3-e.i),4),R(e.checkcode,e.i*3+(3-e.enc.length),e.enc);R(e.encstr,e.encstr.length-14,e.checkcode),R(e.encstr,e.encstr.length-2,l(e.encs,74)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var Le=0,Te=e.encstr.length-1;Le<=Te;Le+=1)e.i=Le,e.enc=N(e.encstr,e.i,1),V(e.enc,"0")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8)),V(e.enc,"1")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"2")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"3")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var Ve=e.bbs,Qe=e.bhs;r[t++]=1/0;for(var ot=0,Ze=e.bhs.length-1;ot<Ze;ot++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Fe=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Ve,r[t++]="bhs",r[t++]=Qe,r[t++]="sbs",r[t++]=Fe,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Ke=Pe();r[t++]=Ke,e.dontdraw||Mt(),e=a}function FT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.kixEmptyData#13291",r[t++]="The data must not be empty",z()),e.encs=s(["0033","0123","0132","1023","1032","1122","0213","0303","0312","1203","1212","1302","0231","0321","0330","1221","1230","1320","2013","2103","2112","3003","3012","3102","2031","2121","2130","3021","3030","3120","2211","2301","2310","3201","3210","3300"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.charvals=new Map;for(var n=0;n<=35;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.kixBadCharacter#13316",r[t++]="KIX must contain only capital letters and digits",z())}e.barlen=e.barcode.length,e.encstr=X(e.barlen*4),e.txt=s(e.barlen);for(var d=0,f=e.barlen-1;d<=f;d+=1)e.i=d,e.indx=l(e.charvals,N(e.barcode,e.i,1)),R(e.encstr,e.i*4,l(e.encs,e.indx)),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*4*3.312,e.textyoffset,e.textfont,e.textsize]));e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var h=0,p=e.encstr.length-1;h<=p;h+=1)e.i=h,e.enc=N(e.encstr,e.i,1),V(e.enc,"0")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8)),V(e.enc,"1")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"2")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"3")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var m=e.bbs,v=e.bhs;r[t++]=1/0;for(var w=0,y=e.bhs.length-1;w<y;w++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var x=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=m,r[t++]="bhs",r[t++]=v,r[t++]="sbs",r[t++]=x,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var g=Pe();r[t++]=g,e.dontdraw||Mt(),e=a}function _T(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.japanpostEmptyData#13415",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var x=r[--t];x>=48&&x<=57||x>=65&&x<=90||x==45||(r[t++]="bwipp.japanpostBadCharacter#13425",r[t++]="Japan Post must contain only digits, capital letters and the dash symbol",z())}),e.encs=s(["300","330","312","132","321","303","123","231","213","033","030","120","102","210","012","201","021","003","333","31","13"]),e.barchars="0123456789-ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.barlen=e.barcode.length,e.encstr=X(21*3+4),e.digits=s(20),e.txt=s(e.barlen+1),R(e.encstr,0,l(e.encs,19)),e.checksum=0,e.j=0,e.i=0,r[t++]=!0;for(var n=0,i=e.barlen-1;n<=i;n+=1){if(e.i=n,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.indx>=11&&e.indx<37){if(e.j>18){r[t-1]=!1;break}e.digit=~~((e.indx-1)/10)+10,R(e.encstr,e.j*3+2,l(e.encs,e.digit)),e.checksum=e.checksum+e.digit,b(e.digits,e.j,e.digit),e.j=e.j+1}if(e.j>19){r[t-1]=!1;break}e.digit=0,e.indx==37&&(e.digit=14),e.indx>=11&&e.indx<37&&(e.digit=(e.indx-1)%10),e.indx<11&&(e.digit=e.indx),R(e.encstr,e.j*3+2,l(e.encs,e.digit)),e.checksum=e.checksum+e.digit,b(e.digits,e.j,e.digit),b(e.txt,e.i,s([N(e.barcode,e.i,1),(e.j*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),e.j=e.j+1}r[--t]||(r[t++]="bwipp.japanpostTooLong#13489",r[t++]="The input is too long",z());for(var o=e.j,c=19;o<=c;o+=1)e.k=o,R(e.encstr,e.k*3+2,l(e.encs,14)),e.checksum=e.checksum+14,b(e.digits,e.k,14);e.checksum=19-e.checksum%19,R(e.encstr,2+20*3,l(e.encs,e.checksum)),R(e.encstr,2+21*3,l(e.encs,20)),e.checkdigit=" ",e.includecheckintext&&(e.checkdigit=N(e.barchars,e.checksum,1)),b(e.txt,e.i+1,s([e.checkdigit,(20*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),R(e.encstr,21*3+2,l(e.encs,20)),e.bbs=s(21*3+4),e.bhs=s(e.bbs.length);for(var d=0,f=e.bbs.length-1;d<=f;d+=1)e.i=d,e.enc=N(e.encstr,e.i,1),e.bunit=0,e.hunit=0,V(e.enc,"0")&&(e.bunit=3,e.hunit=2),V(e.enc,"1")&&(e.bunit=0,e.hunit=5),V(e.enc,"2")&&(e.bunit=3,e.hunit=5),V(e.enc,"3")&&(e.bunit=0,e.hunit=8),b(e.bbs,e.i,e.bunit*e.height/8),b(e.bhs,e.i,e.hunit*e.height/8);r[t++]=1/0;var h=e.bbs,p=e.bhs;r[t++]=1/0;for(var m=0,v=e.bhs.length-1;m<v;m++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=h,r[t++]="bhs",r[t++]=p,r[t++]="sbs",r[t++]=w,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var y=Pe();r[t++]=y,e.dontdraw||Mt(),e=a}function PT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.checktype="unset",e.badmod11=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Ee(e.checktype,"unset")&&!e.includecheck&&(r[t++]="bwipp.msiCheckTypeWithoutCheck#13606",r[t++]="checktype requires includecheck",z()),e.badmod11&&Ee(e.checktype,"mod11")&&Ee(e.checktype,"ncrmod11")&&Ee(e.checktype,"mod1110")&&Ee(e.checktype,"ncrmod1110")&&(r[t++]="bwipp.msiBadMod11Mismatch#13610",r[t++]="badmod11 requires checktype with mod11",z()),V(e.checktype,"unset")&&(e.checktype="mod10"),ve(e.barcode,function(){var B=r[--t];(B<48||B>57)&&(r[t++]="bwipp.msiBadCharacter#13620",r[t++]="MSI must contain only digits",z())}),e.encs=s(["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221","21","121"]),e.barchars="0123456789",e.barlen=e.barcode.length,e.txtlen=e.barlen,e.mod10=function(){e.code=r[--t],r[t++]=0,r[t++]=0,ve(e.code,function(){var L=r[--t],ee=r[--t],se=r[--t];r[t++]=S(L-48+ee*10),r[t++]=se}),t--;var B=r[--t];for(r[t++]=B*2,r[t++]=0;;){var I=r[--t],D=r[--t],M=~~(D/10);if(r[t++]=S(I+D%10),r[t++]=M,M==0){t--;break}var T=r[--t],H=r[--t];r[t++]=T,r[t++]=H}r[t++]=0,r[t++]=0,ve(e.code,function(){var L=r[--t],ee=r[--t],se=r[--t];r[t++]=S(ee+(L-48)),r[t++]=se});var _=r[--t];r[t-1]=_;var F=r[--t],Q=X(e.code.length+1);R(Q,0,e.code),b(Q,e.code.length,(10-S(r[--t]+F)%10)%10+48),r[t++]=Q},e.mod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ve(e.code,function(){var ee=r[--t],se=r[--t];r[t++]=ee-48,r[t++]=se%6+2,r[t++]=se-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],M=r[t-3],T=r[t-1];t-=3,r[t++]=S(T+M*D)}var H=(11-r[--t]%11)%11;if(r[t++]=H,H==10)if(e.badmod11){t--;var _=X(e.code.length+2);R(_,0,e.code),R(_,e.code.length,"10"),r[t++]=_}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13657",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var F=X(e.code.length+1);R(F,0,e.code),r[t++]=F,r[t++]=F,r[t++]=e.code.length,Ea(4,-1);var Q=r[--t],L=r[--t];b(r[--t],L,Q+48)}},e.ncrmod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ve(e.code,function(){var ee=r[--t],se=r[--t];r[t++]=ee-48,r[t++]=se%8+2,r[t++]=se-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],M=r[t-3],T=r[t-1];t-=3,r[t++]=S(T+M*D)}var H=(11-r[--t]%11)%11;if(r[t++]=H,H==10)if(e.badmod11){t--;var _=X(e.code.length+2);R(_,0,e.code),R(_,e.code.length,"10"),r[t++]=_}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13673",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var F=X(e.code.length+1);R(F,0,e.code),r[t++]=F,r[t++]=F,r[t++]=e.code.length,Ea(4,-1);var Q=r[--t],L=r[--t];b(r[--t],L,Q+48)}};var n=new Map([["mod10",function(){e.mod10()}],["mod1010",function(){e.mod10(),e.mod10()}],["mod11",function(){e.mod11()}],["ncrmod11",function(){e.ncrmod11()}],["mod1110",function(){e.mod11(),e.mod10()}],["ncrmod1110",function(){e.ncrmod11(),e.mod10()}]]);if(e.checkfunc=n,e.includecheck){var i=e.checkfunc,o=e.checktype,c=l(i,o)!==void 0;r[t++]=i,r[t++]=o,c||(t-=2,r[t++]="bwipp.msiBadCharacter#13694",r[t++]="MSI checktype must be mod10, mod1010, mod11, ncrmod11, mod1110 or ncrmod1110",z());var d=r[--t],f=l(r[--t],d);if(r[t++]=e.barcode,f()===!0)return!0;e.barcode=r[--t],e.barlen=e.barcode.length,e.includecheckintext&&(e.txtlen=e.barlen)}e.sbs=X(e.barlen*8+5),e.txt=s(e.barlen),R(e.sbs,0,l(e.encs,10));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*8+2,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*12+3,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*8+2,l(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var m=e.sbs,v=0,w=m.length;v<w;v++)r[t++]=l(m,v)-48;var y=s();r[t++]=1/0;for(var x=0,g=~~((e.sbs.length+1)/2);x<g;x++)r[t++]=e.height;var A=s();r[t++]=1/0;for(var j=0,C=~~((e.sbs.length+1)/2);j<C;j++)r[t++]=0;var k=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=y,r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=k,e.includetext&&(r[t++]="txt",r[t++]=N(e.txt,0,e.txtlen)),r[t++]="opt",r[t++]=e.options;var E=Pe();r[t++]=E,e.dontdraw||Mt(),e=a}function OT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.unidirectional=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.plesseyEmptyData#13785",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEF",e.charvals=new Map;for(var n=0;n<=15;n+=1)b(e.charvals,N(e.barchars,n,1),n);e.encs=s(["14141414","32141414","14321414","32321414","14143214","32143214","14323214","32323214","14141432","32141432","14321432","32321432","14143232","32143232","14323232","32323232","32321432","541412323","323"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.plesseyBadCharacter#13809",r[t++]="Plessey must contain only digits and letters A B C D E F",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-2}var f=r[--t];e[r[--t]]=f,e.checkbits=s(e.barlen*4+8),R(e.checkbits,e.barlen*4,s([0,0,0,0,0,0,0,0]));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=l(e.charvals,N(e.barcode,e.i,1)),R(e.checkbits,e.i*4,s([e.indx&1,e.indx>>>1&1,e.indx>>>2&1,e.indx>>>3]));e.checksalt=s([1,1,1,1,0,1,0,0,1]);for(var m=0,v=e.barlen*4-1;m<=v;m+=1)if(e.i=m,l(e.checkbits,e.i)==1)for(var w=0;w<=8;w+=1)e.j=w,b(e.checkbits,e.i+e.j,hs(l(e.checkbits,e.i+e.j),l(e.checksalt,e.j)));e.checkval=0;for(var y=0;y<=7;y+=1)e.i=y,e.checkval=S(e.checkval+~~l1(2,e.i)*l(e.checkbits,S(e.barlen*4+e.i)));e.checksum1=e.checkval&15,e.checksum2=e.checkval>>>4,e.validatecheck&&((l(e.barcode,e.barlen)!=l(e.barchars,e.checksum1)||l(e.barcode,e.barlen+1)!=l(e.barchars,e.checksum2))&&(r[t++]="bwipp.plesseyBadCheckDigits#13848",r[t++]="Incorrect Plessey check digits provided",z()),e.barcode=N(e.barcode,0,e.barlen));var x=e.unidirectional?27:33;e.sbs=X(S(e.barlen*8+x)),e.txt=s(e.barlen+2),R(e.sbs,0,l(e.encs,16));for(var g=0,A=e.barlen-1;g<=A;g+=1)e.i=g,e.indx=l(e.charvals,N(e.barcode,e.i,1)),R(e.sbs,e.i*8+8,l(e.encs,e.indx)),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*20+20,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*8+8,l(e.encs,e.checksum1)),R(e.sbs,e.barlen*8+16,l(e.encs,e.checksum2)),e.includecheckintext?(b(e.txt,e.barlen,s([N(e.barchars,e.checksum1,1),e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),b(e.txt,e.barlen+1,s([N(e.barchars,e.checksum2,1),(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize]))):(b(e.txt,e.barlen,s([" ",e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),b(e.txt,e.barlen+1,s([" ",(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize])));var j=e.unidirectional?18:17;R(e.sbs,e.barlen*8+24,l(e.encs,j)),r[t++]=1/0,r[t++]=1/0;for(var C=e.sbs,k=0,E=C.length;k<E;k++)r[t++]=l(C,k)-48;var B=s();r[t++]=1/0;for(var I=0,D=~~((e.sbs.length+1)/2);I<D;I++)r[t++]=e.height;var M=s();r[t++]=1/0;for(var T=0,H=~~((e.sbs.length+1)/2);T<H;T++)r[t++]=0;var _=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=B,r[t++]="bhs",r[t++]=M,r[t++]="bbs",r[t++]=_,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var F=Pe();r[t++]=F,e.dontdraw||Mt(),e=a}function My(){var a=e;e=Object.assign({},e),e.numeric=!1,e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];for(e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.numeric&&e.barlen%2!=0&&(r[t++]="bwipp.telepenNumericOddLength#13955",r[t++]="Telepen Numeric must have an even length",z()),e.encs=s(["31313131","1131313111","33313111","1111313131","3111313111","11333131","13133131","111111313111","31333111","1131113131","33113131","1111333111","3111113131","1113133111","1311133111","111111113131","3131113111","11313331","333331","111131113111","31113331","1133113111","1313113111","1111113331","31131331","113111113111","3311113111","1111131331","311111113111","1113111331","1311111331","11111111113111","31313311","1131311131","33311131","1111313311","3111311131","11333311","13133311","111111311131","31331131","1131113311","33113311","1111331131","3111113311","1113131131","1311131131","111111113311","3131111131","1131131311","33131311","111131111131","3111131311","1133111131","1313111131","111111131311","3113111311","113111111131","3311111131","111113111311","311111111131","111311111311","131111111311","11111111111131","3131311111","11313133","333133","111131311111","31113133","1133311111","1313311111","1111113133","313333","113111311111","3311311111","11113333","311111311111","11131333","13111333","11111111311111","31311133","1131331111","33331111","1111311133","3111331111","11331133","13131133","111111331111","3113131111","1131111133","33111133","111113131111","3111111133","111311131111","131111131111","111111111133","31311313","113131111111","3331111111","1111311313","311131111111","11331313","13131313","11111131111111","3133111111","1131111313","33111313","111133111111","3111111313","111313111111","131113111111","111111111313","313111111111","1131131113","33131113","11113111111111","3111131113","113311111111","131311111111","111111131113","3113111113","11311111111111","331111111111","111113111113","31111111111111","111311111113","131111111113","1111111111111111"]),e.sbs=X(e.barlen*16+48),e.txt=s(e.barlen),e.enc=l(e.encs,95),R(e.sbs,0,e.enc),e.l=e.enc.length,e.checksum=0,e.i=0,e.j=0;e.i!=e.barlen;){if(e.numeric)if(l(e.barcode,e.i)>16){e.np=N(e.barcode,e.i,2);var o=l(e.np,0),c=l(e.np,1);if(o<48||o>57||(c<48||c>57)&&c!=88)r[t++]=-1;else{var d=l(e.np,1)-48;if(r[t++]=l(e.np,0)-48,r[t++]=d,d!=40){var f=r[--t],h=r[--t];r[t++]=S(f+h*10)+10}else t--;var p=r[--t];r[t++]=p+17}var m=r[t-1];m==-1&&(r[t++]="bwipp.telepenInvalidNumericCharacter#14021",r[t++]="Telepen Numeric may contain only digits, or X in even positions",z()),e.indx=r[--t],b(e.txt,e.j,s([e.np,e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+2}else e.indx=l(e.barcode,e.i),b(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;else e.indx=l(e.barcode,e.i),e.indx>127&&(r[t++]="bwipp.telepenInvalidAlphaCharacter#14034",r[t++]="Telepen Alpha characters must have ordinal values 0 to 127",z()),e.indx>=32&&e.indx<=126?b(e.txt,e.j,s([N(e.barcode,e.i,1),e.j*16+16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;e.checksum=S(e.checksum+e.indx),e.enc=l(e.encs,e.indx),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.j=e.j+1}e.checksum=(127-e.checksum%127)%127,e.enc=l(e.encs,e.checksum),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.enc=l(e.encs,122),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.sbs=N(e.sbs,0,e.l),e.txt=N(e.txt,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var v=e.sbs,w=0,y=v.length;w<y;w++)r[t++]=l(v,w)-48;var x=s();r[t++]=1/0;for(var g=0,A=~~((e.sbs.length+1)/2);g<A;g++)r[t++]=e.height;var j=s();r[t++]=1/0;for(var C=0,k=~~((e.sbs.length+1)/2);C<k;C++)r[t++]=0;var E=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=x,r[t++]="bhs",r[t++]=j,r[t++]="bbs",r[t++]=E,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var B=Pe();r[t++]=B,e.dontdraw||Mt(),e=a}function UT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"numeric",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,My();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function zT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.encoding="auto",e.version="a",e.checkoffset=0,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t];var n=r[--t];e.barcode=n,e.la0=-1,e.la1=-2,e.la2=-3,e.sf0=-4,e.sf1=-5,e.sf2=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10;var i=s([e.sf1,e.sf0,e.fn3]);e.charmapsnormal=s([s(["0","^","'"]),s(["1",";",27]),s(["2","<",28]),s(["3","=",29]),s(["4",">",30]),s(["5","?",31]),s(["6","@","!"]),s(["7","[",'"']),s(["8",92,"#"]),s(["9","]","&"]),s(["A","a",1]),s(["B","b",2]),s(["C","c",3]),s(["D","d",4]),s(["E","e",5]),s(["F","f",6]),s(["G","g",7]),s(["H","h",8]),s(["I","i",9]),s(["J","j",10]),s(["K","k",11]),s(["L","l",12]),s(["M","m",13]),s(["N","n",14]),s(["O","o",15]),s(["P","p",16]),s(["Q","q",17]),s(["R","r",18]),s(["S","s",19]),s(["T","t",20]),s(["U","u",21]),s(["V","v",22]),s(["W","w",23]),s(["X","x",24]),s(["Y","y",25]),s(["Z","z",26]),s(["-","_",40]),s([".","`",41]),s([" ",127,0]),s(["$","{","*"]),s(["/","|",","]),s(["+","}",":"]),s(["%","~",e.fn1]),s([e.la1,e.la0,e.fn2]),i,s([e.sf2,e.sf2,e.fn4])]),e.chapmapslimited=s([s(["0",-98,-98]),s(["1",-98,-98]),s(["2",-98,-98]),s(["3",-98,-98]),s(["4",-98,-98]),s(["5",-98,-98]),s(["6",-98,-98]),s(["7",-98,-98]),s(["8",-98,-98]),s(["9",-98,-98]),s(["A",-98,-98]),s(["B",-98,-98]),s(["C",-98,-98]),s(["D",-98,-98]),s(["E",-98,-98]),s(["F",-98,-98]),s(["G",-98,-98]),s(["H",-98,-98]),s(["I",-98,-98]),s(["J",-98,-98]),s(["K",-98,-98]),s(["L",-98,-98]),s(["M",-98,-98]),s(["N",-98,-98]),s(["O",-98,-98]),s(["P",-98,-98]),s(["Q",-98,-98]),s(["R",-98,-98]),s(["S",-98,-98]),s(["T",-98,-98]),s(["U",-98,-98]),s(["V",-98,-98]),s(["W",-98,-98]),s(["X",-98,-98]),s(["Y",-98,-98]),s(["Z",-98,-98]),s(["-",-98,-98]),s([".",-98,-98])]),Ee(e.version,"a")&&Ee(e.version,"b")&&Ee(e.version,"limiteda")&&Ee(e.version,"limitedb")&&(r[t++]="bwipp.posicodeInvalidVersion#14226",r[t++]="The version must be either a, b, limiteda or limitedb",z()),r[t++]="charmaps",V(e.version,"a")||V(e.version,"b")?r[t++]=e.charmapsnormal:r[t++]=e.chapmapslimited;var o=r[--t];e[r[--t]]=o,e.charmaps,e.charmaps,e.charmaps,e.charvals=s([new Map,new Map,new Map]);for(var c=0,d=e.charmaps.length-1;c<=d;c+=1){e.i=c,e.encs=l(e.charmaps,e.i);for(var f=0;f<=2;f+=1){e.j=f;var h=l(e.encs,e.j);if(r[t++]=h,V(tn(h),"stringtype")){var p=l(r[--t],0);r[t++]=p}b(l(e.charvals,e.j),r[--t],e.i)}}if(e.set0=l(e.charvals,0),e.set1=l(e.charvals,1),e.set2=l(e.charvals,2),V(e.version,"limiteda")||V(e.version,"limitedb"))for(var m=0,v=e.barcode.length-1;m<=v;m+=1){var w=l(e.set0,l(N(e.barcode,m,1),0))!==void 0;w||(r[t++]="bwipp.posicodeBadCharacter#14252",r[t++]="Posicode limited must contain only digits, capital letters, and the symbols - and .",z())}if(e.raw&&(e.encoding="raw"),V(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ce(N(e.barcode,e.i+1,3)),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=N(e.cws,0,e.j),e.text=""}if(V(e.encoding,"auto")){var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var x=r[--t];e[r[--t]]=x,e.msglen=e.msg.length,e.text=X(e.msglen);for(var g=0,A=e.msglen-1;g<=A;g+=1){e.i=g;var j=l(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=j,j<0&&(r[t-1]=32);var C=r[--t],k=r[--t];b(r[--t],k,C)}r[t++]=1/0;for(var E=0,B=e.msglen;E<B;E++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numEA=s();for(var M=e.msglen-1;M>=0;M-=1)e.i=M,l(e.msg,e.i)>=0&&(l(e.msg,e.i)>=128?b(e.numEA,e.i,l(e.numEA,e.i+1)+1):b(e.numSA,e.i,l(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var T=0,H=e.msglen-1;T<=H;T+=1){if(e.i=T,e.c=l(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var _=l(r[--t],e.i),F=S(_+e.i)==e.msglen?3:5;_<F?(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,U(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}for(e.msg=e.msgtmp,e.msglen=e.msg.length,e.enc=function(){var ze=r[--t];b(e.cws,e.j,l(ze,r[--t])),e.j=e.j+1},e.cws=s(e.msglen*2),e.i=0,e.j=0,e.cset="set0";e.i!=e.msglen;)for(;;){e.char1=l(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=l(e.msg,e.i+1):r[t++]=-99;var Q=r[--t];e[r[--t]]=Q;var L=l(e[e.cset],e.char1)!==void 0;if(L){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var ee=l(e.set2,e.char1)!==void 0;if(ee){r[t++]=e.sf2,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set2,e.enc(),e.i=e.i+1;break}var se=l(e[e.cset],e.char2)!==void 0;if(se){V(e.cset,"set0")?(r[t++]=e.sf1,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set1,e.enc()):(r[t++]=e.sf0,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set0,e.enc()),e.i=e.i+1;break}else{V(e.cset,"set0")?(r[t++]=e.la1,r[t++]=e[e.cset],e.enc(),e.cset="set1"):(r[t++]=e.la0,r[t++]=e[e.cset],e.enc(),e.cset="set0");break}}e.cws=N(e.cws,0,e.j)}var ue=new Map([["a",s(["141112","131212","121312","111412","131113","121213","111313","121114","111214","111115","181111","171211","161311","151411","141511","131611","121711","111811","171112","161212","151312","141412","131512","121612","111712","161113","151213","141313","131413","121513","111613","151114","141214","131314","121414","111514","141115","131215","121315","111415","131116","121216","111316","121117","111217","111118","1<111112","111111111;1"])],["b",s(["151213","141313","131413","121513","141214","131314","121414","131215","121315","121216","191212","181312","171412","161512","151612","141712","131812","121912","181213","171313","161413","151513","141613","131713","121813","171214","161314","151414","141514","131614","121714","161215","151315","141415","131515","121615","151216","141316","131416","121516","141217","131317","121417","131218","121318","121219","1<121312","121212121<1"])],["limiteda",s(["111411","111312","111213","111114","121311","121212","121113","141111","131211","131112","171111","161211","151311","141411","131511","121611","111711","161112","151212","141312","131412","121512","111612","151113","141213","131313","121413","111513","141114","131214","121314","111414","131115","121215","111315","121116","111216","111117","151111","1"])],["limitedb",s(["121512","121413","121314","121215","131412","131313","131214","151212","141312","141213","181212","171312","161412","151512","141612","131712","121812","171213","161313","151413","141513","131613","121713","161214","151314","141414","131514","121614","151215","141315","131415","121515","141216","131316","121416","131217","121317","121218","141212","1"])]]);e.encmaps=ue,e.encs=l(e.encmaps,e.version),e.c2w=s([s([495,330,210,126,70,35,15,5]),s([165,120,84,56,35,20,10,4]),s([45,36,28,21,15,10,6,3]),s([9,8,7,6,5,4,3,2]),s([1,1,1,1,1,1,1,1])]),e.v=0;for(var W=e.cws,G=0,ne=W.length;G<ne;G++){e.cw=l(W,G);for(var de=0;de<6;de++)(e.cw^e.v)&1&&(e.v=e.v^7682),e.v=e.v>>>1,e.cw=e.cw>>>1}for(e.v=e.v+e.checkoffset,V(e.version,"limiteda")||V(e.version,"limitedb")?(e.v=e.v&1023,e.v>824&&e.v<853&&(e.v=e.v+292)):e.v=(e.v&1023)+45,e.d=s([2,2,2,2,2,2]),e.r=0,e.c=0,e.w=0,e.sum=0;e.sum!=e.v;)e.t=S(e.sum+l(l(e.c2w,e.r),e.c)),e.t==e.v&&(e.w=e.w+1,b(e.d,e.r,e.w+2),e.sum=e.t),e.t>e.v&&(b(e.d,e.r,e.w+2),e.r=e.r+1,e.w=0),e.t<e.v&&(e.c=e.c+1,e.w=e.w+1,e.sum=e.t);r[t++]=20;for(var te=0;te<=4;te+=1){var ae=r[--t];r[t++]=S(ae-l(e.d,te))}if(b(e.d,5,r[--t]),V(e.version,"b")||V(e.version,"limitedb")){r[t++]=1/0;for(var ie=e.d,oe=0,De=ie.length;oe<De;oe++)r[t++]=l(ie,oe)+1;e.d=s()}e.cbs=_r(X(12),"111111111111");for(var Ne=5;Ne>=0;Ne-=1)e.i=Ne,b(e.cbs,(5-e.i)*2+1,l(e.d,e.i)+47);e.sbs=X(e.cws.length*6+31);var Le=l(e.encs,e.encs.length-2);R(e.sbs,0,Le),e.j=Le.length;for(var Te=0,Ve=e.cws.length-1;Te<=Ve;Te+=1)e.i=Te,R(e.sbs,e.j,l(e.encs,l(e.cws,e.i))),e.j=e.j+6;R(e.sbs,e.j,e.cbs),e.j=e.j+12;var Qe=l(e.encs,e.encs.length-1);R(e.sbs,e.j,Qe),e.j=Qe.length+e.j,e.sbs=N(e.sbs,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var ot=e.sbs,Ze=0,Fe=ot.length;Ze<Fe;Ze++)r[t++]=l(ot,Ze)-48;var Ke=s();r[t++]=1/0;for(var Je=0,rt=~~((e.sbs.length+1)/2);Je<rt;Je++)r[t++]=e.height;var Xe=s();r[t++]=1/0;for(var Se=0,pe=~~((e.sbs.length+1)/2);Se<pe;Se++)r[t++]=0;var Ie=s(),Me=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]),Re=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]);r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ke,r[t++]="bhs",r[t++]=Xe,r[t++]="bbs",r[t++]=Ie,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=l(Me,e.version),r[t++]="borderright",r[t++]=l(Re,e.version),r[t++]="opt",r[t++]=e.options;var Ye=Pe();r[t++]=Ye,e.dontdraw||Mt(),e=a}function Fy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=8,e.rowheight=10,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],(e.columns<4||e.columns>62)&&(r[t++]="bwipp.codablockfBadColumns#14582",r[t++]="Codablock F must have 4 to 62 columns",z()),e.rows!=-1&&(e.rows<2||e.rows>44)&&(r[t++]="bwipp.codablockfBadRows#14586",r[t++]="Codablock F must have 2 to 44 rows",z()),e.rowheight<8&&(r[t++]="bwipp.codablockfBadRowHeight#14590",r[t++]="Codablock F must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.codablockfBadSepHeight#14594",r[t++]="Codablock F must have sepheight of at least 1",z()),r[t++]="c",e.columns>=4&&e.columns<=62?r[t++]=e.columns:r[t++]=8;var n=r[--t];e[r[--t]]=n,r[t++]="rows",e.rows>=2&&e.rows<=44?r[t++]=e.rows:r[t++]=-1;var i=r[--t];e[r[--t]]=i,e.swa=-1,e.swb=-2,e.swc=-3,e.sft=-4,e.fn1=-5,e.fn2=-6,e.fn3=-7,e.fn4=-8,e.sta=-9,e.stp=-10;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var c=r[--t];e[r[--t]]=c,e.msglen=e.msg.length,e.msgtmp=s([]);for(var d=e.msg,f=0,h=d.length;f<h;f++)e.char=l(d,f),r[t++]=1/0,U(e.msgtmp),e.char<128?r[t++]=e.char:(r[t++]=e.fn4,r[t++]=e.char&127),e.msgtmp=s();e.kmsg=e.msg,e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=l(e.charmaps,e.i);for(var v=0;v<=2;v+=1){e.j=v;var w=l(e.encs,e.j);if(r[t++]=w,V(tn(w),"stringtype")){var y=l(r[--t],0);r[t++]=y}b(l(e.charvals,e.j),r[--t],e.i)}}e.seta=l(e.charvals,0),e.setb=l(e.charvals,1),e.setc=l(e.charvals,2),e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen||e.p!=0&&l(e.msg,e.p-1)==e.fn4);){var xe=l(e.msg,e.p),ke=l(e.setc,xe)!==void 0;if(r[t++]=xe,!ke){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){b(e.cws,e.j,l(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){b(e.cws,e.j,l(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var xe=r[t-1];if(Ee(tn(xe),"arraytype")){var ke=l(e.setc,r[--t]);r[t++]=ke}else{U(r[--t]);var he=r[--t],Ae=r[--t];r[t++]=S(he-48+(Ae-48)*10)}b(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var xe=r[--t],ke=l(e.seta,xe)!==void 0,he=l(e.setb,xe)!==void 0;r[t++]=ke&&!he},e.bnota=function(){var xe=r[--t],ke=l(e.setb,xe)!==void 0,he=l(e.seta,xe)!==void 0;r[t++]=ke&&!he},r[t++]=1/0;for(var x=0,g=e.msg.length;x<g;x++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var A=0,j=e.msg.length;A<j;A++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var C=e.msg.length-1;C>=0;C-=1)e.i=C,r[t++]=l(e.msg,e.i),e.anotb(),r[--t]?b(e.nextanotb,e.i,0):b(e.nextanotb,e.i,l(e.nextanotb,e.i+1)+1),r[t++]=l(e.msg,e.i),e.bnota(),r[--t]?b(e.nextbnota,e.i,0):b(e.nextbnota,e.i,l(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var xe=r[--t];r[t++]=hn(l(e.nextanotb,xe),l(e.nextbnota,xe))},e.bbeforea=function(){var xe=r[--t];r[t++]=hn(l(e.nextbnota,xe),l(e.nextanotb,xe))},e.padrow=function(){for(var xe=0,ke=r[--t];xe<ke;xe++)for(;;){if(V(e.cset,"seta")){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(V(e.cset,"setb")){r[t++]=e.swc,e.encb(),e.cset="setc";break}if(V(e.cset,"setc")){r[t++]=e.swb,e.encc(),e.cset="setb";break}}},e.encafitsrow=function(){if(e.rem<=2&&l(e.msg,e.i)==e.fn4){var xe=e.rem==2&&l(e.msg,e.i+1)<=95;r[t++]=xe,xe&&(r[t++]=e.fn4,e.enca(),r[t++]=l(e.msg,e.i+1),e.enca(),e.i=e.i+2)}else r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1,r[t++]=!0},e.encbfitsrow=function(){if(e.rem<=2&&l(e.msg,e.i)==e.fn4){var xe=e.rem==2&&l(e.msg,e.i+1)>=32;r[t++]=xe,xe&&(r[t++]=e.fn4,e.encb(),r[t++]=l(e.msg,e.i+1),e.encb(),e.i=e.i+2)}else r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1,r[t++]=!0},e.cws=s((e.c+5)*44),e.i=0,e.j=0,e.r=1,e.lastrow=!1;!e.lastrow;){for(e.r>44&&(r[t++]="bwipp.codablockfTooBig#14803",r[t++]="Maximum length exceeded",z()),r[t++]=e.sta,e.enca(),e.i<e.msglen?(r[t++]=e.i,e.numsscr()):(r[t++]=-1,r[t++]=-1),e.nums=r[--t],e.nchars=r[--t];;){if(e.msglen==0){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.nums>=2){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.sft,e.enca(),e.cset="seta";break}r[t++]=e.swb,e.enca(),e.cset="setb";break}for(e.j=e.j+1,e.endofrow=!1;e.rem=S(e.c+3-e.j%(e.c+5)),!(e.i==e.msglen||e.endofrow);){r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t],r[t++]="remnums",e.nums>e.rem*2?r[t++]=e.rem*2:r[t++]=e.nums;var k=r[--t];for(e[r[--t]]=k;;){if((V(e.cset,"seta")||V(e.cset,"setb"))&&e.remnums>=4&&l(e.msg,e.i)!=e.fn1){if(e.remnums%2==0&&e.rem>=3){r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var E=0;E<2;E++)l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.remnums%2!=0&&e.rem>=4){r[t++]=l(e.msg,e.i),V(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var B=0;B<2;B++)l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}r[t++]=V(e.cset,"setb"),r[t++]=l(e.msg,e.i),e.anotb();var I=r[--t],D=r[--t];if(D&&I&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta",r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=V(e.cset,"seta"),r[t++]=l(e.msg,e.i),e.bnota();var M=r[--t],T=r[--t];if(T&&M&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb",r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(V(e.cset,"setc")&&e.remnums<2&&e.rem>=2){if(e.rem=e.rem-1,r[t++]=e.i,e.abeforeb(),r[--t]){if(r[t++]=e.swa,e.encc(),e.cset="seta",e.encafitsrow(),r[--t])break}else if(r[t++]=e.swb,e.encc(),e.cset="setb",e.encbfitsrow(),r[--t])break}var H=l(e.seta,l(e.msg,e.i))!==void 0;if(V(e.cset,"seta")&&H&&e.rem>=1&&(e.encafitsrow(),r[--t]))break;var _=l(e.setb,l(e.msg,e.i))!==void 0;if(V(e.cset,"setb")&&_&&e.rem>=1&&(e.encbfitsrow(),r[--t]))break;if(V(e.cset,"setc")&&e.remnums>=2&&e.rem>=1){l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}e.endofrow=!0;break}}(e.r>=e.rows||e.rows==-1)&&e.r>1&&e.i==e.msglen&&e.rem>=2?(r[t++]=e.rem-2,e.padrow(),e.j=e.j+3,r[t++]=e.stp,e.enca(),e.lastrow=!0):(r[t++]=e.rem,e.padrow(),e.j=e.j+1,r[t++]=e.stp,e.enca(),e.r=e.r+1)}e.cws=N(e.cws,0,e.j),r[t++]=1/0;for(var F=64;F<=95;F+=1)r[t++]=F;for(var Q=0;Q<=15;Q+=1)r[t++]=Q;for(var L=26;L<=63;L+=1)r[t++]=L;e.abmap=s(),r[t++]=1/0;for(var ee=0;ee<=85;ee+=1)r[t++]=ee;e.cmap=s(),e.chkmsg=s(e.kmsg.length),e.j=0;for(var se=0,ue=e.kmsg.length-1;se<=ue;se+=1)e.i=se,e.char=l(e.kmsg,e.i),e.char>=0&&(b(e.chkmsg,e.j,e.char),e.j=e.j+1),e.char==e.fn1&&e.i!=0&&(b(e.chkmsg,e.j,29),e.j=e.j+1);e.t1=0,e.t2=0,e.k1=0,e.k2=0;for(var W=0,G=e.j-1;W<=G;W+=1)e.i=W,e.t1=l(e.chkmsg,e.i)*e.i%86,e.t2=S(e.t1+l(e.chkmsg,e.i))%86,e.k1=S(e.k1+e.t2)%86,e.k2=S(e.k2+e.t1)%86;r[t++]=e.cws,r[t++]=e.cws.length-4,Ee(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var ne=l(r[--t],e.k1),de=r[--t];b(r[--t],de,ne),r[t++]=e.cws,r[t++]=e.cws.length-3,Ee(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var te=l(r[--t],e.k2),ae=r[--t];b(r[--t],ae,te);var ie=e.cws;r[t++]=ie,r[t++]=2,l(ie,1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var oe=l(r[--t],e.r-2),De=r[--t];b(r[--t],De,oe);for(var Ne=1,Le=e.r-1;Ne<=Le;Ne+=1){e.i=Ne;var Te=e.cws,Ve=e.i,Qe=e.c;r[t++]=Te,r[t++]=Ve*(Qe+5)+2,l(Te,Ve*(Qe+5)+2-1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var ot=l(r[--t],e.i+42),Ze=r[--t];b(r[--t],Ze,ot)}for(var Fe=0,Ke=e.r-1;Fe<=Ke;Fe+=1){e.rcws=N(e.cws,Fe*(e.c+5),e.c+4),e.csum=l(e.rcws,0);for(var Je=1,rt=e.rcws.length-2;Je<=rt;Je+=1)e.i=Je,e.csum=S(e.csum+l(e.rcws,e.i)*e.i);b(e.rcws,e.rcws.length-1,e.csum%103)}var Xe=l(e.options,"debugcws")!==void 0;Xe&&(r[t++]="bwipp.debugcws#15016",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","2331112"]),e.rowbits=s(e.r);for(var Se=0,pe=e.r-1;Se<=pe;Se+=1){e.i=Se,r[t++]=1/0;for(var Ie=N(e.cws,e.i*(e.c+5),e.c+5),Me=0,Re=Ie.length;Me<Re;Me++)ve(l(e.encs,l(Ie,Me)),function(){var xe=r[--t];r[t++]=xe-48});e.sbs=s(),r[t++]=1/0;var Ye=e.sbs;r[t++]=0;for(var ze=0,mt=Ye.length;ze<mt;ze++)for(var lt=r[t-1],ht=lt==1?0:1,yt=0,jt=l(Ye,ze);yt<jt;yt++)r[t++]=ht;Kt(s(ga()-1));var wt=r[--t];r[t-1]=wt;var Dt=r[--t];r[t-1]=Dt,r[t++]=e.rowbits,r[t++]=e.i;var Ct=r[t-3],Ut=r[t-1];b(r[t-2],Ut,Ct),t-=3}e.symwid=e.c*11+57,r[t++]=1/0;for(var It=0,kt=e.symwid*e.sepheight;It<kt;It++)r[t++]=1;for(var P=0,Y=e.r-2;P<=Y;P+=1){e.i=P;for(var q=0,O=e.rowheight;q<O;q++)U(l(e.rowbits,e.i));for(var $=0,le=e.sepheight;$<le;$++){r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0;for(var K=0,be=e.symwid-24;K<be;K++)r[t++]=1;r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=1}}for(var J=0,fe=e.rowheight;J<fe;J++)U(l(e.rowbits,e.r-1));for(var me=0,ge=e.symwid*e.sepheight;me<ge;me++)r[t++]=1;e.pixs=s();var re=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.symwid],["pixy",~~(e.pixs.length/e.symwid)],["height",~~(e.pixs.length/e.symwid)/72],["width",e.symwid/72],["opt",e.options]]);r[t++]=re,e.dontdraw||xt(),e=a}function LT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.rows=0,e.rowheight=8,e.sepheight=1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>16)&&(r[t++]="bwipp.code16kBadRows#15133",r[t++]="Code 16K must have 2 to 16 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code16kBadRowHeight#15137",r[t++]="Code 16K must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code16kBadSepHeight#15141",r[t++]="Code 16K must have sepheight of at least 1",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code16kBadSAM#15152",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.sam!=-1&&(e.rows=16),e.swa=-1,e.swb=-2,e.swc=-3,e.sa1=-4,e.sb1=-5,e.sc1=-6,e.sa2=-7,e.sb2=-8,e.sc2=-9,e.pad=-10,e.sb3=-11,e.sc3=-12,e.fn1=-13,e.fn2=-14,e.fn3=-15,e.fn4=-16,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sb1,e.sa1,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.pad,e.pad,e.pad]),s([e.sb2,e.sa2,e.sb1]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3])]),e.charvals=s([new Map,new Map,new Map]);for(var o=0,c=e.charmaps.length-1;o<=c;o+=1){e.i=o,e.encs=l(e.charmaps,e.i);for(var d=0;d<=2;d+=1){e.j=d;var f=l(e.encs,e.j);if(r[t++]=f,V(tn(f),"stringtype")){var h=l(r[--t],0);r[t++]=h}b(l(e.charvals,e.j),r[--t],e.i)}}if(e.seta=l(e.charvals,0),e.setb=l(e.charvals,1),e.setc=l(e.charvals,2),e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||l(e.barcode,e.i)!=94);){var p=N(e.barcode,e.i+1,3);r[t++]=p,r[t++]=!1;for(var m=0,v=p.length;m<v;m++){var w=l(p,m);(w<48||w>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Ce(r[--t]),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.code16kBadRawFormat#15241",r[t++]="raw data must be formatted as ^NNN",z()),e.cws=N(e.cws,0,e.j)}else{var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var x=r[--t];e[r[--t]]=x,e.msglen=e.msg.length,r[t++]=1/0;for(var g=0,A=e.msglen;g<A;g++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var j=0,C=e.msglen;j<C;j++)r[t++]=0;r[t++]=0,e.numEA=s();for(var k=e.msglen-1;k>=0;k-=1)e.i=k,l(e.msg,e.i)>=0&&(l(e.msg,e.i)>=128?b(e.numEA,e.i,l(e.numEA,e.i+1)+1):b(e.numSA,e.i,l(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var E=0,B=e.msglen-1;E<=B;E+=1){if(e.i=E,e.c=l(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var I=l(r[--t],e.i),D=S(I+e.i)==e.msglen?3:5;I<D?(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,U(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var Lt=l(e.msg,e.p),yr=l(e.setc,Lt)!==void 0;if(r[t++]=Lt,!yr){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){b(e.cws,e.j,l(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){b(e.cws,e.j,l(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var Lt=r[t-1];if(Ee(tn(Lt),"arraytype")){var yr=l(e.setc,r[--t]);r[t++]=yr}else{U(r[--t]);var aa=r[--t],pa=r[--t];r[t++]=S(aa-48+(pa-48)*10)}b(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var Lt=r[--t],yr=l(e.seta,Lt)!==void 0,aa=l(e.setb,Lt)!==void 0;r[t++]=yr&&!aa},e.bnota=function(){var Lt=r[--t],yr=l(e.setb,Lt)!==void 0,aa=l(e.seta,Lt)!==void 0;r[t++]=yr&&!aa},r[t++]=1/0;for(var M=0,T=e.msg.length;M<T;M++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var H=0,_=e.msg.length;H<_;H++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var F=e.msg.length-1;F>=0;F-=1)e.i=F,r[t++]=l(e.msg,e.i),e.anotb(),r[--t]?b(e.nextanotb,e.i,0):b(e.nextanotb,e.i,l(e.nextanotb,e.i+1)+1),r[t++]=l(e.msg,e.i),e.bnota(),r[--t]?b(e.nextbnota,e.i,0):b(e.nextbnota,e.i,l(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var Lt=r[--t];r[t++]=hn(l(e.nextanotb,Lt),l(e.nextbnota,Lt))},e.bbeforea=function(){var Lt=r[--t];r[t++]=hn(l(e.nextbnota,Lt),l(e.nextanotb,Lt))},e.cws=s(e.barcode.length*2+3),e.i=0,e.j=0;;){if(e.sam!=-1){b(e.cws,0,~~(e.sam/10)-1),b(e.cws,1,e.sam%10-1),e.j=2,e.cset="setb",e.mode=7;break}if(e.msglen==0){e.cset="setb",e.mode=1;break}if(e.msglen>=2){r[t++]=l(e.msg,0)==e.fn1,r[t++]=1,e.numsscr();var Q=r[--t];r[t-1]=Q;var L=r[--t],ee=r[--t];if(ee&&L>=2){e.cset="setc",e.mode=4,e.i=1;break}}if(l(e.msg,0)==e.fn1){e.cset="setb",e.mode=3,e.i=1;break}if(e.msglen>=2){r[t++]=0,e.numsscr();var se=r[--t];r[t-1]=se;var ue=r[--t];if(ue>=2&&ue%2==0){e.cset="setc",e.mode=2;break}r[t++]=0,e.numsscr();var W=r[--t];r[t-1]=W;var G=r[--t];if(G>=3&&G%2==1){r[t++]=l(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var ne=l(e.setb,l(e.msg,0))!==void 0;r[t++]=ne,r[t++]=1,e.numsscr();var de=r[--t];r[t-1]=de;var te=r[--t],ae=r[--t];if(ae&&te>=2&&te%2==0){r[t++]=l(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var ie=l(e.setb,l(e.msg,0))!==void 0;r[t++]=ie,r[t++]=1,e.numsscr();var oe=r[--t];r[t-1]=oe;var De=r[--t],Ne=r[--t];if(Ne&&De>=3&&De%2==1){r[t++]=l(e.msg,0),e.encb(),r[t++]=l(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}var Le=l(e.setb,l(e.msg,0))!==void 0,Te=l(e.setb,l(e.msg,1))!==void 0;r[t++]=Le&&Te,r[t++]=2,e.numsscr();var Ve=r[--t];r[t-1]=Ve;var Qe=r[--t],ot=r[--t];if(ot&&Qe>=2&&Qe%2==0){r[t++]=l(e.msg,0),e.encb(),r[t++]=l(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}}if(r[t++]=0,e.abeforeb(),r[--t]){e.cset="seta",e.mode=0;break}e.cset="setb",e.mode=1;break}for(;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t];;){if(V(e.cset,"seta")){if(e.i<e.msglen-1){r[t++]=l(e.msg,e.i),e.bnota(),r[t++]=e.i+1,e.abeforeb();var Ze=r[--t];if(r[--t]&&Ze){r[t++]=e.sb1,e.enca(),r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=l(e.msg,e.i),e.bnota(),r[t++]=l(e.msg,e.i+1),e.bnota();var Fe=r[--t],Ke=r[--t];r[t++]=co(Ke,Fe),r[t++]=e.i+2,e.abeforeb();var Je=r[--t];if(r[--t]&&Je){r[t++]=e.sb2,e.enca(),r[t++]=l(e.msg,e.i),e.encb(),r[t++]=l(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(r[t++]=l(e.msg,e.i),e.bnota(),r[--t]){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.i<e.msglen-4){var rt=l(e.seta,l(e.msg,e.i+4))!==void 0;if(e.nums==4&&rt){r[t++]=e.sc2,e.enca();for(var Xe=0;Xe<2;Xe++)l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var Se=l(e.seta,l(e.msg,e.i+6))!==void 0;if(e.nums==6&&Se){r[t++]=e.sc3,e.enca();for(var pe=0;pe<3;pe++)l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.enca(),e.cset="setc";break}r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(V(e.cset,"setb")){if(e.i<e.msglen-1){r[t++]=l(e.msg,e.i),e.anotb(),r[t++]=e.i+1,e.bbeforea();var Ie=r[--t];if(r[--t]&&Ie){r[t++]=e.sa1,e.encb(),r[t++]=l(e.msg,e.i),e.enca(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=l(e.msg,e.i),e.anotb(),r[t++]=l(e.msg,e.i+1),e.anotb();var Me=r[--t],Re=r[--t];r[t++]=co(Re,Me),r[t++]=e.i+2,e.bbeforea();var Ye=r[--t];if(r[--t]&&Ye){r[t++]=e.sa2,e.encb(),r[t++]=l(e.msg,e.i),e.enca(),r[t++]=l(e.msg,e.i+1),e.enca(),e.i=e.i+2;break}}if(r[t++]=l(e.msg,e.i),e.anotb(),r[--t]){r[t++]=e.swa,e.encb(),e.cset="seta";break}if(e.i<e.msglen-4){var ze=l(e.setb,l(e.msg,e.i+4))!==void 0;if(e.nums==4&&ze){r[t++]=e.sc2,e.encb();for(var mt=0;mt<2;mt++)l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var lt=l(e.setb,l(e.msg,e.i+6))!==void 0;if(e.nums==6&&lt){r[t++]=e.sc3,e.encb();for(var ht=0;ht<3;ht++)l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.encb(),e.cset="setc";break}r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(V(e.cset,"setc")){if(e.nums>=2){l(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=N(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.i<e.msglen-1){var yt=l(e.setb,l(e.msg,e.i))!==void 0;r[t++]=yt,r[t++]=e.i+1,e.numsscr();var jt=r[--t];r[t-1]=jt;var wt=r[--t],Dt=r[--t];if(Dt&&wt>=2&&wt%2==0){r[t++]=e.sb1,e.encc(),r[t++]=l(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-1){var Ct=l(e.setb,l(e.msg,e.i))!==void 0;r[t++]=Ct,r[t++]=e.i+1,e.numsscr();var Ut=r[--t];r[t-1]=Ut;var It=r[--t],kt=r[--t];if(kt&&It>=3&&It%2==1){r[t++]=e.sb2,e.encc(),r[t++]=l(e.msg,e.i),e.encb(),r[t++]=l(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-2){var P=l(e.setb,l(e.msg,e.i))!==void 0,Y=l(e.setb,l(e.msg,e.i+1))!==void 0;r[t++]=P&&Y,r[t++]=e.i+2,e.numsscr();var q=r[--t];r[t-1]=q;var O=r[--t],$=r[--t];if($&&O>=2&&O%2==0){r[t++]=e.sb2,e.encc(),r[t++]=l(e.msg,e.i),e.encb(),r[t++]=l(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-3){var le=l(e.setb,l(e.msg,e.i))!==void 0,K=l(e.setb,l(e.msg,e.i+1))!==void 0;r[t++]=le&&K,r[t++]=e.i+2,e.numsscr();var be=r[--t];r[t-1]=be;var J=r[--t],fe=r[--t];if(fe&&J>=3&&J%2==1){r[t++]=e.sb3,e.encc(),r[t++]=l(e.msg,e.i),e.encb(),r[t++]=l(e.msg,e.i+1),e.encb(),r[t++]=l(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(e.i<e.msglen-3){var me=l(e.setb,l(e.msg,e.i))!==void 0,ge=l(e.setb,l(e.msg,e.i+1))!==void 0,re=l(e.setb,l(e.msg,e.i+2))!==void 0;r[t++]=me&&ge&&re,r[t++]=e.i+3,e.numsscr();var xe=r[--t];r[t-1]=xe;var ke=r[--t],he=r[--t];if(he&&ke>=2&&ke%2==0){r[t++]=e.sb3,e.encc(),r[t++]=l(e.msg,e.i),e.encb(),r[t++]=l(e.msg,e.i+1),e.encb(),r[t++]=l(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}break}e.cws=N(e.cws,0,e.j)}e.metrics=s([s([2,7]),s([3,12]),s([4,17]),s([5,22]),s([6,27]),s([7,32]),s([8,37]),s([9,42]),s([10,47]),s([11,52]),s([12,57]),s([13,62]),s([14,67]),s([15,72]),s([16,77])]),e.urows=e.rows;for(var Ae=e.metrics,we=0,je=Ae.length;we<je&&(e.m=l(Ae,we),e.r=l(e.m,0),e.dcws=l(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);we++);e.okay||(r[t++]="bwipp.code16kNoValidSymbol#15731",r[t++]="Maximum length exceeded or data too large for given options",z()),r[t++]=1/0,U(e.cws);for(var Oe=0,_e=S(e.dcws-e.cws.length);Oe<_e;Oe++)r[t++]=103;e.cws=s(),r[t++]=1/0,r[t++]=S((e.r-2)*7+e.mode),U(e.cws),e.cws=s(),r[t++]=0;for(var Ge=0,st=e.dcws;Ge<=st;Ge+=1){var at=r[--t];r[t++]=S(at+(Ge+2)*l(e.cws,Ge))}e.c1=r[--t]%107,r[t++]=0;for(var ye=0,He=e.dcws;ye<=He;ye+=1){var Ue=r[--t];r[t++]=S(Ue+(ye+1)*l(e.cws,ye))}e.c2=S(r[--t]+e.c1*(e.dcws+2))%107,r[t++]=1/0,U(e.cws),r[t++]=e.c1,r[t++]=e.c2,e.cws=s();var We=l(e.options,"debugcws")!==void 0;We&&(r[t++]="bwipp.debugcws#15747",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","211133"]),e.startencs=s(["3211","2221","2122","1411","1132","1231","1114","3112","3211","2221","2122","1411","1132","1231","1114","3112"]),e.stopencsodd=s(["3211","2221","2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411"]),e.stopencseven=s(["2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411","3211","2221"]),e.sam==-1||~~(e.sam/10)%2==1?e.stopencs=e.stopencsodd:e.stopencs=e.stopencseven,e.rowbits=s(e.r);for(var pt=0,vt=e.r-1;pt<=vt;pt+=1){e.i=pt,r[t++]=1/0,r[t++]=10,ve(l(e.startencs,e.i),function(){var Lt=r[--t];r[t++]=Lt-48});var ft=N(e.cws,e.i*5,5);r[t++]=1;for(var gt=0,nt=ft.length;gt<nt;gt++)ve(l(e.encs,l(ft,gt)),function(){var Lt=r[--t];r[t++]=Lt-48});ve(l(e.stopencs,e.i),function(){var Lt=r[--t];r[t++]=Lt-48}),r[t++]=1,e.sbs=s(),r[t++]=1/0;var Ft=e.sbs;r[t++]=1;for(var et=0,Ht=Ft.length;et<Ht;et++)for(var $t=r[t-1],zt=$t==0?1:0,nr=0,Ir=l(Ft,et);nr<Ir;nr++)r[t++]=zt;Kt(s(ga()-1));var ir=r[--t];r[t-1]=ir;var br=r[--t];r[t-1]=br,r[t++]=e.rowbits,r[t++]=e.i;var sr=r[t-3],Dr=r[t-1];b(r[t-2],Dr,sr),t-=3}r[t++]=1/0;for(var er=0,ur=81*e.sepheight;er<ur;er++)r[t++]=1;for(var Wt=0,Xt=e.r-2;Wt<=Xt;Wt+=1){e.i=Wt;for(var fr=0,Tr=e.rowheight;fr<Tr;fr++)U(l(e.rowbits,e.i));for(var Pr=0,ha=e.sepheight;Pr<ha;Pr++){for(var Rt=0;Rt<10;Rt++)r[t++]=0;for(var Yt=0;Yt<70;Yt++)r[t++]=1;r[t++]=0}}for(var rr=0,wr=e.rowheight;rr<wr;rr++)U(l(e.rowbits,e.r-1));for(var or=0,Rr=81*e.sepheight;or<Rr;or++)r[t++]=1;e.pixs=s();var lr=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=lr,e.dontdraw||xt(),e=a}function QT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.append=!1,e.rows=0,e.rowheight=8,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>8)&&(r[t++]="bwipp.code49badRows#15885",r[t++]="Code 49 must have 2 to 8 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code49badRowHeight#15889",r[t++]="Code 49 must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code49badSepHeight#15893",r[t++]="Code 49 must have sepheight of at least 1",z()),e.append&&e.sam!=-1&&(r[t++]="bwipp.code49samAndAppend#15897",r[t++]="sam and append cannot be specified together",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code49badSAM#15908",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.s1=-1,e.s2=-2,e.fn1=-3,e.fn2=-4,e.fn3=-5,e.ns=-6;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var c=r[--t];e[r[--t]]=c,e.msglen=e.msg.length,ve(e.msg,function(){r[--t]>127&&(r[t++]="bwipp.code49badCharacter#15931",r[t++]="Code 49 can only support ASCII characters with values 0 to 127",z())}),e.charmap=s(["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%",e.s1,e.s2,e.fn1,e.fn2,e.fn3,e.ns]),e.charvals=new Map;for(var d=0;d<=48;d+=1){e.i=d;var f=l(e.charmap,e.i);if(r[t++]=f,V(tn(f),"stringtype")){var h=l(r[--t],0);r[t++]=h}b(e.charvals,r[--t],e.i)}e.combos=s(["1 ","1A","1B","1C","1D","1E","1F","1G","1H","1I","1J","1K","1L","1M","1N","1O","1P","1Q","1R","1S","1T","1U","1V","1W","1X","1Y","1Z","11","12","13","14","15","  ","16","17","18"," $"," %","19","10","1-","1.","1$"," +","1/"," -"," ."," /"," 0"," 1"," 2"," 3"," 4"," 5"," 6"," 7"," 8"," 9","1+","21","22","23","24","25","26"," A"," B"," C"," D"," E"," F"," G"," H"," I"," J"," K"," L"," M"," N"," O"," P"," Q"," R"," S"," T"," U"," V"," W"," X"," Y"," Z","27","28","29","20","2-","2.","2A","2B","2C","2D","2E","2F","2G","2H","2I","2J","2K","2L","2M","2N","2O","2P","2Q","2R","2S","2T","2U","2V","2W","2X","2Y","2Z","2$","2/","2+","2%","2 "]);for(var p=0;p<=127;p+=1){e.i=p;var m=l(e.combos,e.i);e.c1=l(m,0),e.c2=l(m,1),e.c1==49&&b(e.charvals,e.i,s([l(e.charvals,e.s1),l(e.charvals,e.c2)])),e.c1==50&&b(e.charvals,e.i,s([l(e.charvals,e.s2),l(e.charvals,e.c2)]))}e.encodealpha=function(){var je=l(e.charvals,r[--t]);r[t++]=je,Ee(tn(je),"arraytype")&&Kt(s(1));var Oe=r[--t];R(e.cws,e.j,Oe),e.j=Oe.length+e.j},e.base48=function(){var je=r[--t];r[t++]=0,ve(je,function(){var ft=r[--t],gt=r[--t];r[t++]=S(ft-48+gt*10)}),r[t++]=1/0;var Oe=r[t-2],_e=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Oe;for(var Ge=0,st=_e-1;Ge<st;Ge++){var at=r[--t];r[t++]=at%48,r[t++]=~~(at/48)}var ye=s(),He=1/0,Ue=ye;r[t++]=He,r[t++]=Ue;for(var We=Ue.length-1;We>=0;We-=1){var pt=r[--t];r[t++]=l(pt,We),r[t++]=pt}t--;var vt=s();R(e.cws,e.j,vt),e.j=vt.length+e.j},e.encodenumeric=function(){e.nums=r[--t];var je=e.nums.length,Oe=je%5;if(r[t++]="pre",r[t++]=je,r[t++]=Oe,Oe!=2){var _e=r[--t],Ge=r[--t];r[t++]=S(Ge-_e)}else{var st=r[--t],at=r[--t];r[t++]=S(at-st)-5}var ye=r[--t];e[r[--t]]=ye;for(var He=0,Ue=e.pre-1;He<=Ue;He+=5)r[t++]=3,r[t++]=N(e.nums,He,5),e.base48();e.nums=N(e.nums,e.pre,S(e.nums.length-e.pre));var We=e.nums.length;r[t++]=We,We==1&&(r[t++]=l(e.nums,e.i),e.encodealpha());var pt=r[t-1];pt==3&&(r[t++]=2,r[t++]=e.nums,e.base48());var vt=r[t-1];if(vt==4){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,U(e.nums);var ft=s();r[t++]=ft,e.base48()}if(r[--t]==7){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,U(N(e.nums,0,4));var gt=s();r[t++]=gt,e.base48(),r[t++]=2,r[t++]=N(e.nums,4,3),e.base48()}},r[t++]=1/0;for(var v=0,w=e.msglen;v<w;v++)r[t++]=0;r[t++]=0,e.numericruns=s();for(var y=e.msglen-1;y>=0;y-=1){e.i=y;var x=l(e.msg,e.i);x>=48&&x<=57?b(e.numericruns,e.i,l(e.numericruns,e.i+1)+1):b(e.numericruns,e.i,0)}for(e.cws=s(e.msglen*2+1),e.samval=s([12,22,13,23,33,14,24,34,44,15,25,35,45,55,16,26,36,46,56,66,17,27,37,47,57,67,77,18,28,38,48,58,68,78,88,19,29,39,49,59,69,79,89,99]);;){if(e.append){e.mode=1,e.method="alpha",e.i=0,e.j=0;break}if(e.sam!=-1){e.mode=3,r[t++]=e.cws,r[t++]=0;for(var g=0;g<=43;g+=1)r[t++]=g,l(e.samval,g)!=e.sam&&t--;var A=r[--t],j=r[--t];b(r[--t],j,A+1),e.method="alpha",e.i=0,e.j=1;break}if(l(e.numericruns,0)>=5){e.mode=2,e.method="numeric",e.i=0,e.j=0;break}var C=l(e.charvals,l(e.msg,0));if(r[t++]=C,Ee(tn(C),"arraytype")){t--,e.mode=0,e.method="alpha",e.i=0,e.j=0;break}var k=l(r[--t],0)==43?4:5;e.mode=k,b(e.cws,0,l(l(e.charvals,l(e.msg,0)),1)),e.method="alpha",e.i=1,e.j=1;break}for(;e.i!=e.msglen;)for(;;){if(V(e.method,"alpha")){if(l(e.numericruns,e.i)>=5){r[t++]=e.ns,e.encodealpha(),e.method="numeric";break}r[t++]=l(e.msg,e.i),e.encodealpha(),e.i=e.i+1;break}if(V(e.method,"numeric")){if(l(e.numericruns,e.i)<5){r[t++]=e.ns,e.encodealpha(),e.method="alpha";break}r[t++]=N(e.msg,e.i,l(e.numericruns,e.i)),e.encodenumeric(),e.i=S(e.i+l(e.numericruns,e.i));break}}e.cws=N(e.cws,0,e.j),e.metrics=s([s([2,9]),s([3,16]),s([4,23]),s([5,30]),s([6,37]),s([7,42]),s([8,49])]),e.urows=e.rows;for(var E=e.metrics,B=0,I=E.length;B<I&&(e.m=l(E,B),e.r=l(e.m,0),e.dcws=l(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);B++);e.okay||(r[t++]="bwipp.code49noValidSymbol#16125",r[t++]="Maximum length exceeded",z()),r[t++]=1/0,U(e.cws);for(var D=0,M=S(e.dcws-e.cws.length);D<M;D++)r[t++]=48;e.cws=s(),e.ccs=s(e.r*8),e.j=0;for(var T=0,H=e.r-2;T<=H;T+=1){e.i=T,e.cc=N(e.cws,e.j,7),R(e.ccs,e.i*8,e.cc);var _=e.cc;r[t++]=e.ccs,r[t++]=e.i*8+7,r[t++]=0;for(var F=0,Q=_.length;F<Q;F++){var L=r[--t];r[t++]=S(L+l(_,F))}var ee=r[--t],se=r[--t];b(r[--t],se,ee%49),e.j=e.j+7}e.j<e.dcws&&R(e.ccs,e.ccs.length-8,N(e.cws,e.j,S(e.dcws-e.j))),e.cr7=S((e.r-2)*7+e.mode),b(e.ccs,e.ccs.length-2,e.cr7);var ue=s([1,9,31,26,2,12,17,23,37,18,22,6,27,44,15,43,39,11,13,5,41,33,36,8,4,32,3,19,40,25,29,10,24,30]);r[t++]=ue,r[t++]=ue,r[t++]=1/0;var W=r[--t],G=N(r[--t],0,32);r[t++]=W,r[t++]=20,U(G),e.weightx=s();var ne=r[t-1];r[t++]=ne,r[t++]=1/0;var de=r[--t],te=N(r[--t],1,32);r[t++]=de,r[t++]=16,U(te),e.weighty=s(),r[t++]=1/0;var ae=r[--t],ie=N(r[--t],2,32);if(r[t++]=ae,r[t++]=38,U(ie),e.weightz=s(),e.calccheck=function(){e.weights=r[--t],e.score=0;for(var je=0,Oe=~~((e.r-1)*8/2)-1;je<=Oe;je+=1)e.i=je,e.score=S((l(e.ccs,e.i*2)*49+l(e.ccs,e.i*2+1))*l(e.weights,e.i+1)+e.score);r[t++]=e.score},e.lastrow=N(e.ccs,e.ccs.length-8,8),e.r>=7){r[t++]=e.cr7*l(e.weightz,0),r[t++]=e.weightz,e.calccheck();var oe=r[--t],De=S(r[--t]+oe)%2401;r[t++]=~~(De/49),r[t++]=De%49,Kt(s(2)),r[t++]=e.lastrow,r[t++]=0;var Ne=r[t-3],Le=r[t-1];R(r[t-2],Le,Ne),t-=3}e.wr1=S(l(e.lastrow,0)*49+l(e.lastrow,1)),r[t++]=e.cr7*l(e.weighty,0),r[t++]=e.weighty,e.calccheck();var Te=r[--t],Ve=S(r[--t]+Te+e.wr1*l(e.weighty,e.r*4-3))%2401;e.wr2=Ve,r[t++]=~~(Ve/49),r[t++]=Ve%49,Kt(s(2)),r[t++]=e.lastrow,r[t++]=2;var Qe=r[t-3],ot=r[t-1];R(r[t-2],ot,Qe),t-=3,r[t++]=e.cr7*l(e.weightx,0),r[t++]=e.weightx,e.calccheck();var Ze=r[--t],Fe=S(r[--t]+Ze+e.wr1*l(e.weightx,e.r*4-3)+e.wr2*l(e.weightx,e.r*4-2))%2401;r[t++]=~~(Fe/49),r[t++]=Fe%49,Kt(s(2)),r[t++]=e.lastrow,r[t++]=4;var Ke=r[t-3],Je=r[t-1];R(r[t-2],Je,Ke),t-=3;var rt=N(e.ccs,e.ccs.length-8,7);r[t++]=0;for(var Xe=0,Se=rt.length;Xe<Se;Xe++){var pe=r[--t];r[t++]=S(pe+l(rt,Xe))}b(e.ccs,e.ccs.length-1,r[--t]%49);var Ie=l(e.options,"debugcws")!==void 0;Ie&&(r[t++]="bwipp.debugcws#16196",r[t++]=e.ccs,z()),e.patterns=s([s(["11521132","25112131","14212132","25121221","14221222","12412132","23321221","12421222","21521221","15112222","15121312","13312222","24221311","13321312","11512222","22421311","11521312","25112311","14212312","23312311","12412312","21512311","16121131","14321131","12521131","15212131","15221221","13412131","13421221","11612131","16112221","16121311","14312221","14321311","12512221","12521311","15212311","13412311","11612311","11131135","31131133","51131131","21122134","41122132","21131224","41131222","11113135","31113133","51113131","11122225","31122223","51122221","11131315","31131313","51131311","21113224","41113222","21122314","41122312","11113315","31113313","51113311","12131134","32131132","21231133","41231131","22122133","42122131","11222134","22131223","42131221","11231224","31231222","12113134","32113132","12122224","32122222","12131314","32131312","21231313","41231311","22113223","42113221","11213224","22122313","42122311","11222314","31222312","12113314","32113312","21213313","41213311","13131133","33131131","22231132","11331133","31331131","23122132","12222133","23131222","12231223","32231221","21331222","13113133","33113131","13122223","33122221","11313133","13131313","33131311","11322223","22231312","11331313","31331311","23113222","12213223","23122312","12222313","32222311","21322312","13113313","33113311","22213312","11313313","31313311","14131132","23231131","12331132","21431131","24122131","13222132","24131221","13231222","11422132","22331221","11431222","14113132","14122222","12313132","14131312","12322222","23231311","12331312","21431311","24113221","13213222","24122311","13222312","11413222","22322311","11422312","14113312","23213311","12313312","21413311","15131131","13331131","14222131","14231221","12422131","12431221","15113131","15122221","13313131","15131311","13322221","11513131","13331311","11522221","14213221","14222311","12413221","12422311","15113311","13313311","11513311","11141134","31141132","21132133","41132131","21141223","41141221","11123134","31123132","11132224","31132222","11141314","31141312","21114133","41114131","21123223","41123221","21132313","41132311","11114224","31114222","11123314","31123312","21114313","41114311","12141133","32141131","21241132","22132132","11232133","22141222","11241223","31241221","12123133","32123131","12132223","32132221","12141313","32141311","21241312","22114132","11214133","22123222","11223223","22132312","11232313","31232311","12114223","32114221","12123313","32123311","21223312","22114312","11214313","31214311","13141132","22241131","11341132","23132131","12232132","23141221","12241222","21341221","13123132","13132222","11323132","13141312","11332222","22241311","11341312","23114131","12214132","23123221","12223222","23132311","12232312","21332311","13114222","13123312","11314222","22223311","11323312","23114311","12214312","21314311","14141131","12341131","13232131","13241221","11432131","14123131","14132221","12323131","14141311","12332221","12341311","13214131","13223221","11414131","13232311","11423221","11432311","14114221","14123311","12314221","12323311","13214311","11414311","11151133","31151131","21142132","21151222","11133133","31133131","11142223","31142221","11151313","31151311","21124132","21133222","21142312","11115133","31115131","11124223","31124221","11133313","31133311","21115222","21124312","12151132","21251131","22142131","11242132","22151221","11251222","12133132","12142222","12151312","21251311","22124131","11224132","22133221","11233222","22142311","11242312","12115132","12124222","12133312","21233311","22115221","11215222","22124311","11224312","13151131","12242131","12251221","13133131","13142221","11333131","13151311","11342221","12224131","12233221","12242311","13115131","13124221","11315131","13133311","11324221","11333311","12215221","12224311","11161132","21152131","21161221","11143132","11152222","11161312","21134131","21143221","21152311","11125132","11134222","11143312","21116131","21125221","21134311","12161131","11252131","12143131","12152221","12161311","11234131","11243221","11252311","12125131","12134221","12143311","11216131","11225221","11234311","11111236","31111234","51111232","21111325","41111323","61111321","11111416","31111414","51111412","31211143","51211141","12111235","32111233","52111231","21211234","41211232","22111324","42111322","11211325","31211323","51211321","12111415","32111413","52111411","21211414","41211412","12211144","32211142","21311143","41311141","13111234","33111232","22211233","42211231","11311234","31311232","23111323","43111321","12211324","32211322","21311323","41311321","13111414","33111412","22211413","42211411","11311414","31311412","13211143","33211141","22311142","11411143","31411141","14111233","34111231","23211232","12311233","32311231","21411232","24111322","13211323","33211321","22311322","11411323","31411321","14111413","34111411","23211412","12311413","32311411","21411412","14211142","23311141","12411142","21511141","15111232","24211231","13311232","22411231","11511232","25111321","14211322","23311321","12411322","21511321","15111412","24211411","13311412","22411411","11511412","15211141","13411141","11611141","16111231","14311231","12511231","15211321","13411321","11611321","16111411","14311411","12511411","21121144","41121142","11112145","31112143","51112141","11121235","31121233","51121231","21112234","41112232","21121324","41121322","11112325","31112323","51112321","11121415","31121413","51121411","21112414","41112412","22121143","42121141","11221144","31221142","12112144","32112142","12121234","32121232","21221233","41221231","22112233","42112231","11212234","22121323","42121321","11221324","31221322","12112324","32112322","12121414","32121412","21221413","41221411","22112413","42112411","11212414","31212412","23121142","12221143","32221141","21321142","13112143","33112141","13121233","33121231","11312143","22221232","11321233","31321231","23112232","12212233","23121322","12221323","32221321","21321322","13112323","33112321","13121413","33121411","11312323","22221412","11321413","31321411","23112412","12212413","32212411","21312412","24121141","13221142","22321141","11421142","14112142","14121232","12312142","23221231","12321232","21421231","24112231","13212232","24121321","13221322","11412232","22321321","11421322","14112322","14121412","12312322","23221411","12321412","21421411","24112411","13212412","22312411","11412412","14221141","12421141","15112141","15121231","13312141","13321231","11512141","11521231","14212231","14221321","12412231","12421321","15112321","15121411","13312321","13321411","11512321","11521411","14212411","12412411","21131143","41131141","11122144","31122142","11131234","31131232","21113143","41113141","21122233","41122231","21131323","41131321","11113234","31113232","11122324","31122322","11131414","31131412","21113323","41113321","21122413","41122411","11113414","31113412","22131142","11231143","31231141","12122143","32122141","12131233","32131231","21231232","22113142","11213143","22122232","11222233","22131322","11231323","31231321","12113233","32113231","12122323","32122321","12131413","32131411","21231412","22113322","11213323","22122412","11222413","31222411","12113413","32113411","21213412","23131141","12231142","21331141","13122142","13131232","11322142","22231231","11331232","23113141","12213142","23122231","12222232","23131321","12231322","21331321","13113232","13122322","11313232","13131412","11322322","22231411","11331412","23113321","12213322","23122411","12222412","21322411","13113412","22213411","11313412","13231141","11431141","14122141","14131231","12322141","12331231","13213141","13222231","11413141","13231321","11422231","11431321","14113231","14122321","12313231","14131411","12322321","12331411","13213321","13222411","11413321","11422411","14113411","12313411","21141142","11132143","31132141","11141233","31141231","21123142","21132232","21141322","11114143","31114141","11123233","31123231","11132323","31132321","11141413","31141411","21114232","21123322","21132412","11114323","31114321","11123413","31123411","22141141","11241142","12132142","12141232","21241231","22123141","11223142","22132231","11232232","22141321","11241322","12114142","12123232","12132322","12141412","21241411","22114231","11214232","22123321","11223322","22132411","11232412","12114322","12123412","21223411","12241141","13132141","13141231","11332141","11341231","12223141","12232231","12241321","13114141","13123231","11314141","13132321","11323231","13141411","11332321","11341411","12214231","12223321","12232411","13114321","13123411","11314321","11323411","21151141","11142142","11151232","21133141","21142231","21151321","11124142","11133232","11142322","11151412","21115141","21124231","21133321","21142411","11115232","11124322","11133412","11251141","12142141","12151231","11233141","11242231","11251321","12124141","12133231","12142321","12151411","11215141","11224231","11233321","11242411","12115231","12124321","12133411","11152141","11161231","11134141","11143231","11152321","11161411","11116141","11125231","11134321","11143411","21111244","41111242","11111335","31111333","51111331","21111424","41111422","11111515","31111513","51111511","21211153","41211151","22111243","42111241","11211244","31211242","12111334","32111332","21211333","41211331","22111423","42111421","11211424","31211422","12111514","32111512","21211513","41211511","22211152","11311153","31311151","23111242","12211243","32211241","21311242","13111333","33111331","22211332","11311333","31311331","23111422","12211423","32211421","21311422","13111513","33111511","22211512","11311513","31311511","23211151","12311152","21411151","24111241","13211242","22311241","11411242","14111332","23211331","12311332","21411331","24111421","13211422","22311421","11411422","14111512","23211511","12311512","21411511","13311151","11511151","14211241","12411241","15111331","13311331","11511331","14211421","12411421","15111511","13311511","11511511","31121152","21112153","41112151","21121243","41121241","11112244","31112242","11121334","31121332","21112333","41112331","21121423","41121421","11112424","31112422","11121514","31121512","21112513","41112511","12121153","32121151","21221152","22112152","11212153","22121242","11221243","31221241","12112243","32112241","12121333","32121331","21221332","22112332","11212333","22121422","11221423","31221421","12112423","32112421","12121513","32121511","21221512","22112512","11212513","31212511","13121152","22221151","11321152","23112151","12212152","23121241","12221242","21321241","13112242","13121332","11312242","22221331","11321332","23112331","12212332","23121421","12221422","21321421","13112422","13121512","11312422","22221511","11321512","23112511","12212512","21312511","14121151","12321151","13212151","13221241","11412151","11421241","14112241","14121331","12312241","12321331","13212331","13221421","11412331","11421421","14112421","14121511","12312421","12321511","13212511","11412511","11131153","31131151","21122152","21131242","11113153","31113151","11122243","31122241","11131333","31131331","21113242","21122332","21131422","11113333","31113331","11122423","31122421","11131513","31131511","21113422","21122512","12131152","21231151","22122151","11222152","22131241","11231242","12113152","12122242","12131332","21231331","22113241","11213242","22122331","11222332","22131421","11231422","12113332","12122422","12131512","21231511","22113421","11213422","22122511","11222512","13131151","11331151","12222151","12231241","13113151","13122241","11313151","13131331","11322241","11331331","12213241","12222331","12231421","13113331","13122421","11313331","13131511","11322421","11331511","12213421","12222511","11141152","21132151","21141241","11123152","11132242","11141332","21114151","21123241","21132331","21141421","11114242","11123332","11132422","11141512","21114331","21123421","21132511","12141151","11232151","11241241","12123151","12132241","12141331","11214151","11223241","11232331","11241421","12114241","12123331","12132421","12141511","11214331","11223421","11232511","11151151","11133151","11142241","11151331","11115151","11124241","11133331","11142421","11151511","11111254","31111252","21111343","41111341","11111434","31111432","21111523","41111521","11111614","31111612","31211161","12111253","32111251","21211252","22111342","11211343","31211341","12111433","32111431","21211432","22111522","11211523","31211521","12111613","32111611","21211612","12211162","21311161","13111252","22211251","11311252","23111341","12211342","21311341","13111432","22211431","11311432","23111521","12211522","21311521","13111612","22211611","11311612","13211161","11411161","14111251","12311251","13211341","11411341","14111431","12311431","13211521","11411521","14111611","12311611","21121162","11112163","31112161","11121253","31121251","21112252","21121342","11112343","31112341","11121433","31121431","21112432","21121522","11112523","31112521","11121613","31121611","22121161","11221162","12112162","12121252","21221251","22112251","11212252","22121341","11221342","12112342","12121432","21221431","22112431","11212432","22121521","11221522","12112522","12121612","21221611","12221161","13112161","13121251","11312161","11321251","32121115","52121113","21221116","41221114","61221112","22112116","42112114","31212115","51212113","13121116","33121114","22221115","42221113","11321116","31321114","51321112","23112115","43112113","12212116","32212114","52212112","21312115","41312113","61312111","14121115","34121113","23221114","43221112","12321115","32321113","52321111","21421114","41421112","24112114","13212115","33212113","22312114","42312112","11412115","31412113","51412111","15121114","24221113","13321114","33321112","22421113","42421111","11521114","31521112","25112113","14212114","34212112","23312113","43312111","12412114","32412112","21512113","41512111","16121113","25221112","14321113","34321111","23421112","12521113","32521111","15212113","24312112","13412113","33412111","22512112","11612113","31612111","31131115","51131113","21122116","41122114","61122112","31113115","51113113","12131116","32131114","52131112","21231115","41231113","61231111","22122115","42122113","11222116","31222114","51222112","12113116","32113114","52113112","21213115","41213113","61213111","13131115","33131113","22231114","42231112","11331115","31331113","51331111","23122114","43122112","12222115","32222113","52222111","21322114","41322112","13113115","33113113","22213114","42213112","11313115","31313113","51313111","14131114","34131112","23231113","43231111","12331114","32331112","21431113","41431111","24122113","13222114","33222112","22322113","42322111","11422114","31422112","14113114","34113112","23213113","43213111","12313114","32313112","21413113","41413111","15131113","24231112","13331113","33331111","22431112","25122112","14222113","34222111","23322112","12422113","32422111","21522112","15113113","24213112","13313113","33313111","22413112","11513113","31513111","16131112","25231111","14331112","23431111","15222112","24322111","13422112","22522111","16113112","25213111","14313112","23413111","12513112","21613111","11141116","31141114","51141112","21132115","41132113","61132111","11123116","31123114","51123112","21114115","41114113","61114111","12141115","32141113","52141111","21241114","41241112","22132114","42132112","11232115","31232113","51232111","12123115","32123113","52123111","21223114","41223112","22114114","42114112","11214115","31214113","51214111","13141114","33141112","22241113","42241111","11341114","31341112","23132113","43132111","12232114","32232112","21332113","41332111","13123114","33123112","22223113","42223111","11323114","31323112","23114113","43114111","12214114","32214112","21314113","41314111","14141113","34141111","23241112","12341113","32341111","24132112","13232113","33232111","22332112","11432113","31432111","14123113","34123111","23223112","12323113","32323111","21423112","24114112","13214113","33214111","22314112","11414113","31414111","15141112","24241111","13341112","25132111","14232112","23332111","12432112","15123112","24223111","13323112","22423111","11523112","25114111","14214112","23314111","12414112","21514111","16141111","14341111","15232111","13432111","16123111","14323111","12523111","15214111","13414111","11614111","11151115","31151113","51151111","21142114","41142112","11133115","31133113","51133111","21124114","41124112","11115115","31115113","51115111","12151114","32151112","21251113","41251111","22142113","42142111","11242114","31242112","12133114","32133112","21233113","41233111","22124113","42124111","11224114","31224112","12115114","32115112","21215113","41215111","13151113","33151111","22251112","23142112","12242113","32242111","21342112","13133113","33133111","22233112","11333113","31333111","23124112","12224113","32224111","21324112","13115113","33115111","22215112","11315113","31315111","14151112","23251111","24142111","13242112","22342111","14133112","23233111","12333112","21433111","24124111","13224112","22324111","11424112","14115112","23215111","12315112","21415111","15151111","14242111","15133111","13333111","14224111","12424111","15115111","13315111","11515111","11161114","31161112","21152113","41152111","11143114","31143112","21134113","41134111","11125114","31125112","21116113","41116111","12161113","32161111","22152112","11252113","31252111","12143113","32143111","21243112","22134112","11234113","31234111","12125113","32125111","21225112","22116112","11216113","31216111","13161112","23152111","12252112","13143112","22243111","11343112","23134111","12234112","21334111","13125112","22225111","11325112","23116111","12216112","21316111","14161111","13252111","14143111","12343111","13234111","11434111","14125111","12325111","13216111","11416111","31111216","51111214","31211125","51211123","32111215","52111213","21211216","41211214","61211212","12211126","32211124","52211122","21311125","41311123","61311121","13111216","33111214","22211215","42211213","11311216","31311214","51311212","13211125","33211123","22311124","42311122","11411125","31411123","51411121","14111215","34111213","23211214","43211212","12311215","32311213","52311211","21411214","41411212","14211124","34211122","23311123","43311121","12411124","32411122","21511123","41511121","15111214","24211213","13311214","33311212","22411213","42411211","11511214","31511212","15211123","24311122","13411123","33411121","22511122","11611123","31611121","16111213","25211212","14311213","34311211","23411212","12511213","32511211","21611212","21121126","41121124","61121122","31112125","51112123","31121215","51121213","21112216","41112214","61112212","22121125","42121123","11221126","31221124","51221122","12112126","32112124","52112122","12121216","32121214","52121212","21221215","41221213","61221211","22112215","42112213","11212216","31212214","51212212","23121124","43121122","12221125","32221123","52221121","21321124","41321122","13112125","33112123","13121215","33121213","11312125","22221214","42221212","11321215","31321213","51321211","23112214","43112212","12212215","32212213","52212211","21312214","41312212","24121123","13221124","33221122","22321123","42321121","11421124","31421122","14112124","34112122","14121214","34121212","12312124","23221213","43221211","12321214","32321212","21421213","41421211","24112213","13212214","33212212","22312213","42312211","11412214","31412212","25121122","14221123","34221121","23321122","12421123","32421121","21521122","15112123","15121213","13312123","24221212","13321213","33321211","11512123","22421212","11521213","31521211","25112212","14212213","34212211","23312212","12412213","32412211","21512212","15221122","24321121","13421122","22521121","16112122","16121212","14312122","25221211","14321212","12512122","23421211","12521212","15212212","24312211","13412212","22512211","11612212","21131125","41131123","61131121","11122126","31122124","51122122","11131216","31131214","51131212","21113125","41113123","61113121","21122215","41122213","61122211","11113216","31113214","51113212","22131124","42131122","11231125","31231123","51231121","12122125","32122123","52122121","12131215","32131213","52131211","21231214","41231212","22113124","42113122","11213125","22122214","42122212","11222215","31222213","51222211","12113215","32113213","52113211","21213214","41213212","23131123","43131121","12231124","32231122","21331123","41331121","13122124","33122122","13131214","33131212","11322124","22231213","42231211","11331214","31331212","23113123","43113121","12213124","23122213","43122211","12222214","32222212","21322213","41322211","13113214","33113212","22213213","42213211","11313214","31313212","24131122","13231123","33231121","22331122","11431123","31431121","14122123","34122121","14131213","34131211","12322123","23231212","12331213","32331211","21431212","24113122","13213123","24122212","13222213","33222211","11413123","22322212","11422213","31422211","14113213","34113211","23213212","12313213","32313211","21413212","25131121","14231122","23331121","12431122","15122122","15131212","13322122","24231211","13331212","11522122","22431211","25113121","14213122","25122211","14222212","12413122","23322211","12422212","21522211","15113212","24213211","13313212","22413211","11513212","15231121","13431121","16122121","16131211","14322121","14331211","12522121","15213121","15222211","13413121","13422211","11613121","16113211","14313211","12513211","21141124","41141122","11132125","31132123","51132121","11141215","31141213","51141211","21123124","41123122","21132214","41132212","11114125","31114123","51114121","11123215","31123213","51123211","21114214","41114212","22141123","42141121","11241124","31241122","12132124","32132122","12141214","32141212","21241213","41241211","22123123","42123121","11223124","22132213","42132211","11232214","31232212","12114124","32114122","12123214","32123212","21223213","41223211","22114213","42114211","11214214","31214212","23141122","12241123","32241121","21341122","13132123","33132121","13141213","33141211","11332123","22241212","11341213","31341211","23123122","12223123","23132212","12232213","32232211","21332212","13114123","33114121","13123213","33123211","11314123","22223212","11323213","31323211","23114212","12214213","32214211","21314212","24141121","13241122","22341121","14132122","14141212","12332122","23241211","12341212","24123121","13223122","24132211","13232212","11423122","22332211","11432212","14114122","14123212","12314122","23223211","12323212","21423211","24114211","13214212","22314211","11414212","14241121","15132121","15141211","13332121","13341211","14223121","14232211","12423121","12432211","15114121","15123211","13314121","13323211","11514121","11523211","14214211","12414211","21151123","41151121","11142124","31142122","11151214","31151212","21133123","41133121","21142213","41142211","11124124","31124122","11133214","31133212","21115123","41115121","21124213","41124211","11115214","31115212","22151122","11251123","31251121","12142123","32142121","12151213","32151211","21251212","22133122","11233123","22142212","11242213","31242211","12124123","32124121","12133213","32133211","21233212","22115122","11215123","22124212","11224213","31224211","12115213","32115211","21215212","23151121","12251122","13142122","13151212","11342122","22251211","23133121","12233122","23142211","12242212","21342211","13124122","13133212","11324122","22233211","11333212","23115121","12215122","23124211","12224212","21324211","13115212","22215211","11315212","13251121","14142121","14151211","12342121","13233121","13242211","11433121","14124121","14133211","12324121","12333211","13215121","13224211","11415121","11424211","14115211","12315211","21161122","11152123","31152121","11161213","31161211","21143122","21152212","11134123","31134121","11143213","31143211","21125122","21134212","11116123","31116121","11125213","31125211","22161121","12152122","12161212","22143121","11243122","22152211","11252212","12134122","12143212","21243211","22125121","11225122","22134211","11234212","12116122","12125212","21225211","13152121","13161211","12243121","12252211","13134121","13143211","11334121","11343211","12225121","12234211","13116121","13125211","11316121","11325211","21111226","41111224","61111222","31111315","51111313","21211135","41211133","61211131","22111225","42111223","11211226","31211224","51211222","12111316","32111314","52111312","21211315","41211313","61211311","22211134","42211132","11311135","31311133","51311131","23111224","43111222","12211225","32211223","52211221","21311224","41311222","13111315","33111313","22211314","42211312","11311315","31311313","51311311","23211133","43211131","12311134","32311132","21411133","41411131","24111223","13211224","33211222","22311223","42311221","11411224","31411222","14111314","34111312","23211313","43211311","12311314","32311312","21411313","41411311","24211132","13311133","33311131","22411132","11511133","31511131","25111222","14211223","34211221","23311222","12411223","32411221","21511222","15111313","24211312","13311313","33311311","22411312","11511313","31511311","25211131","14311132","23411131","12511132","21611131","15211222","24311221","13411222","22511221","11611222","16111312","25211311","14311312","23411311","12511312","21611311","31121134","51121132","21112135","41112133","61112131","21121225","41121223","61121221","11112226","31112224","51112222","11121316","31121314","51121312","21112315","41112313","61112311","12121135","32121133","52121131","21221134","41221132","22112134","42112132","11212135","22121224","42121222","11221225","31221223","51221221","12112225","32112223","52112221","12121315","32121313","52121311","21221314","41221312","22112314","42112312","11212315","31212313","51212311","13121134","33121132","22221133","42221131","11321134","31321132","23112133","43112131","12212134","23121223","43121221","12221224","32221222","21321223","41321221","13112224","33112222","13121314","33121312","11312224","22221313","42221311","11321314","31321312","23112313","43112311","12212314","32212312","21312313","41312311","14121133","34121131","23221132","12321133","32321131","21421132","24112132","13212133","24121222","13221223","33221221","11412133","22321222","11421223","31421221","14112223","34112221","14121313","34121311","12312223","23221312","12321313","32321311","21421312","24112312","13212313","33212311","22312312","11412313","31412311","15121132","24221131","13321132","22421131"]),s(["22121116","42121114","31221115","51221113","32112115","52112113","21212116","41212114","61212112","23121115","43121113","12221116","32221114","52221112","21321115","41321113","61321111","13112116","33112114","22212115","42212113","11312116","31312114","51312112","24121114","13221115","33221113","22321114","42321112","11421115","31421113","51421111","14112115","34112113","23212114","43212112","12312115","32312113","52312111","21412114","41412112","25121113","14221114","34221112","23321113","43321111","12421114","32421112","21521113","41521111","15112114","24212113","13312114","33312112","22412113","42412111","11512114","31512112","15221113","24321112","13421113","33421111","22521112","16112113","25212112","14312113","34312111","23412112","12512113","32512111","21612112","21131116","41131114","61131112","31122115","51122113","21113116","41113114","61113112","22131115","42131113","11231116","31231114","51231112","12122116","32122114","52122112","21222115","41222113","61222111","22113115","42113113","11213116","31213114","51213112","23131114","43131112","12231115","32231113","52231111","21331114","41331112","13122115","33122113","22222114","42222112","11322115","31322113","51322111","23113114","43113112","12213115","32213113","52213111","21313114","41313112","24131113","13231114","33231112","22331113","42331111","11431114","31431112","14122114","34122112","23222113","43222111","12322114","32322112","21422113","41422111","24113113","13213114","33213112","22313113","42313111","11413114","31413112","25131112","14231113","34231111","23331112","12431113","32431111","15122113","24222112","13322113","33322111","22422112","11522113","31522111","25113112","14213113","34213111","23313112","12413113","32413111","21513112","15231112","24331111","13431112","16122112","25222111","14322112","23422111","12522112","15213112","24313111","13413112","22513111","11613112","21141115","41141113","61141111","11132116","31132114","51132112","21123115","41123113","61123111","11114116","31114114","51114112","22141114","42141112","11241115","31241113","51241111","12132115","32132113","52132111","21232114","41232112","22123114","42123112","11223115","31223113","51223111","12114115","32114113","52114111","21214114","41214112","23141113","43141111","12241114","32241112","21341113","41341111","13132114","33132112","22232113","42232111","11332114","31332112","23123113","43123111","12223114","32223112","21323113","41323111","13114114","33114112","22214113","42214111","11314114","31314112","24141112","13241113","33241111","22341112","14132113","34132111","23232112","12332113","32332111","21432112","24123112","13223113","33223111","22323112","11423113","31423111","14114113","34114111","23214112","12314113","32314111","21414112","25141111","14241112","23341111","15132112","24232111","13332112","22432111","25123111","14223112","23323111","12423112","21523111","15114112","24214111","13314112","22414111","11514112","15241111","16132111","14332111","15223111","13423111","16114111","14314111","12514111","21151114","41151112","11142115","31142113","51142111","21133114","41133112","11124115","31124113","51124111","21115114","41115112","22151113","42151111","11251114","31251112","12142114","32142112","21242113","41242111","22133113","42133111","11233114","31233112","12124114","32124112","21224113","41224111","22115113","42115111","11215114","31215112","23151112","12251113","32251111","13142113","33142111","22242112","11342113","31342111","23133112","12233113","32233111","21333112","13124113","33124111","22224112","11324113","31324111","23115112","12215113","32215111","21315112","24151111","13251112","14142112","23242111","12342112","24133111","13233112","22333111","11433112","14124112","23224111","12324112","21424111","24115111","13215112","22315111","11415112","14251111","15142111","13342111","14233111","12433111","15124111","13324111","11524111","14215111","12415111","21161113","41161111","11152114","31152112","21143113","41143111","11134114","31134112","21125113","41125111","11116114","31116112","22161112","12152113","32152111","21252112","22143112","11243113","31243111","12134113","32134111","21234112","22125112","11225113","31225111","12116113","32116111","21216112","23161111","13152112","22252111","23143111","12243112","21343111","13134112","22234111","11334112","23125111","12225112","21325111","13116112","22216111","11316112","14152111","13243111","14134111","12334111","13225111","11425111","14116111","12316111","41111215","61111213","21211126","41211124","61211122","22111216","42111214","31211215","51211213","22211125","42211123","11311126","31311124","51311122","23111215","43111213","12211216","32211214","52211212","21311215","41311213","61311211","23211124","43211122","12311125","32311123","52311121","21411124","41411122","24111214","13211215","33211213","22311214","42311212","11411215","31411213","51411211","24211123","13311124","33311122","22411123","42411121","11511124","31511122","25111213","14211214","34211212","23311213","43311211","12411214","32411212","21511213","41511211","25211122","14311123","34311121","23411122","12511123","32511121","21611122","15211213","24311212","13411213","33411211","22511212","11611213","31611211","31121125","51121123","21112126","41112124","61112122","21121216","41121214","61121212","31112215","51112213","12121126","32121124","52121122","21221125","41221123","61221121","22112125","42112123","11212126","22121215","42121213","11221216","31221214","51221212","12112216","32112214","52112212","21212215","41212213","61212211","13121125","33121123","22221124","42221122","11321125","31321123","51321121","23112124","43112122","12212125","23121214","43121212","12221215","32221213","52221211","21321214","41321212","13112215","33112213","22212214","42212212","11312215","31312213","51312211","14121124","34121122","23221123","43221121","12321124","32321122","21421123","41421121","24112123","13212124","24121213","13221214","33221212","11412124","22321213","42321211","11421214","31421212","14112214","34112212","23212213","43212211","12312214","32312212","21412213","41412211","15121123","24221122","13321123","33321121","22421122","11521123","31521121","25112122","14212123","25121212","14221213","34221211","12412123","23321212","12421213","32421211","21521212","15112213","24212212","13312213","33312211","22412212","11512213","31512211","16121122","25221121","14321122","23421121","12521122","15212122","15221212","13412122","24321211","13421212","11612122","22521211","16112212","25212211","14312212","23412211","12512212","21612211","11131126","31131124","51131122","21122125","41122123","61122121","21131215","41131213","61131211","11113126","31113124","51113122","11122216","31122214","51122212","21113215","41113213","61113211","12131125","32131123","52131121","21231124","41231122","22122124","42122122","11222125","22131214","42131212","11231215","31231213","51231211","12113125","32113123","52113121","12122215","32122213","52122211","21222214","41222212","22113214","42113212","11213215","31213213","51213211","13131124","33131122","22231123","42231121","11331124","31331122","23122123","43122121","12222124","23131213","43131211","12231214","32231212","21331213","41331211","13113124","33113122","13122214","33122212","11313124","22222213","42222211","11322214","31322212","23113213","43113211","12213214","32213212","21313213","41313211","14131123","34131121","23231122","12331123","32331121","21431122","24122122","13222123","24131212","13231213","33231211","11422123","22331212","11431213","31431211","14113123","34113121","14122213","34122211","12313123","23222212","12322213","32322211","21422212","24113212","13213213","33213211","22313212","11413213","31413211","15131122","24231121","13331122","22431121","25122121","14222122","25131211","14231212","12422122","23331211","12431212","15113122","15122212","13313122","24222211","13322212","11513122","22422211","11522212","25113211","14213212","23313211","12413212","21513211","16131121","14331121","15222121","15231211","13422121","13431211","16113121","16122211","14313121","14322211","12513121","12522211","15213211","13413211","11613211","11141125","31141123","51141121","21132124","41132122","21141214","41141212","11123125","31123123","51123121","11132215","31132213","51132211","21114124","41114122","21123214","41123212","11114215","31114213","51114211","12141124","32141122","21241123","41241121","22132123","42132121","11232124","22141213","42141211","11241214","31241212","12123124","32123122","12132214","32132212","21232213","41232211","22114123","42114121","11214124","22123213","42123211","11223214","31223212","12114214","32114212","21214213","41214211","13141123","33141121","22241122","11341123","31341121","23132122","12232123","23141212","12241213","32241211","21341212","13123123","33123121","13132213","33132211","11323123","22232212","11332213","31332211","23114122","12214123","23123212","12223213","32223211","21323212","13114213","33114211","22214212","11314213","31314211","14141122","23241121","12341122","24132121","13232122","24141211","13241212","11432122","22341211","14123122","14132212","12323122","23232211","12332212","21432211","24114121","13214122","24123211","13223212","11414122","22323211","11423212","14114212","23214211","12314212","21414211","15141121","13341121","14232121","14241211","12432121","15123121","15132211","13323121","13332211","11523121","14214121","14223211","12414121","12423211","15114211","13314211","11514211","11151124","31151122","21142123","41142121","21151213","41151211","11133124","31133122","11142214","31142212","21124123","41124121","21133213","41133211","11115124","31115122","11124214","31124212","21115213","41115211","12151123","32151121","21251122","22142122","11242123","22151212","11251213","31251211","12133123","32133121","12142213","32142211","21242212","22124122","11224123","22133212","11233213","31233211","12115123","32115121","12124213","32124211","21224212","22115212","11215213","31215211","13151122","22251121","23142121","12242122","23151211","12251212","13133122","13142212","11333122","22242211","11342212","23124121","12224122","23133211","12233212","21333211","13115122","13124212","11315122","22224211","11324212","23115211","12215212","21315211","14151121","13242121","13251211","14133121","14142211","12333121","12342211","13224121","13233211","11424121","11433211","14115121","14124211","12315121","12324211","13215211","11415211","11161123","31161121","21152122","21161212","11143123","31143121","11152213","31152211","21134122","21143212","11125123","31125121","11134213","31134211","21116122","21125212","12161122","22152121","11252122","22161211","12143122","12152212","21252211","22134121","11234122","22143211","11243212","12125122","12134212","21234211","22116121","11216122","22125211","11225212","13161121","12252121","13143121","13152211","11343121","12234121","12243211","13125121","13134211","11325121","11334211","12216121","12225211","31111225","51111223","21111316","41111314","61111312","31211134","51211132","12111226","32111224","52111222","21211225","41211223","61211221","22111315","42111313","11211316","31211314","51211312","12211135","32211133","52211131","21311134","41311132","13111225","33111223","22211224","42211222","11311225","31311223","51311221","23111314","43111312","12211315","32211313","52211311","21311314","41311312","13211134","33211132","22311133","42311131","11411134","31411132","14111224","34111222","23211223","43211221","12311224","32311222","21411223","41411221","24111313","13211314","33211312","22311313","42311311","11411314","31411312","14211133","34211131","23311132","12411133","32411131","21511132","15111223","24211222","13311223","33311221","22411222","11511223","31511221","25111312","14211313","34211311","23311312","12411313","32411311","21511312","15211132","24311131","13411132","22511131","11611132","16111222","25211221","14311222","23411221","12511222","21611221","15211312","24311311","13411312","22511311","11611312","21121135","41121133","61121131","11112136","31112134","51112132","11121226","31121224","51121222","21112225","41112223","61112221","21121315","41121313","61121311","11112316","31112314","51112312","22121134","42121132","11221135","31221133","51221131","12112135","32112133","52112131","12121225","32121223","52121221","21221224","41221222","22112224","42112222","11212225","22121314","42121312","11221315","31221313","51221311","12112315","32112313","52112311","21212314","41212312","23121133","43121131","12221134","32221132","21321133","41321131","13112134","33112132","13121224","33121222","11312134","22221223","42221221","11321224","31321222","23112223","43112221","12212224","23121313","43121311","12221314","32221312","21321313","41321311","13112314","33112312","22212313","42212311","11312314","31312312","24121132","13221133","33221131","22321132","11421133","31421131","14112133","34112131","14121223","34121221","12312133","23221222","12321223","32321221","21421222","24112222","13212223","24121312","13221313","33221311","11412223","22321312","11421313","31421311","14112313","34112311","23212312","12312313","32312311","21412312","25121131","14221132","23321131","12421132","21521131","15112132","15121222","13312132","24221221","13321222","11512132","22421221","11521222","25112221","14212222","25121311","14221312","12412222","23321311","12421312","21521311","15112312","24212311","13312312","22412311","11512312","15221131","13421131","16112131","16121221","14312131","14321221","12512131","12521221","15212221","15221311","13412221","13421311","11612221","16112311","14312311","12512311","21131134","41131132","11122135","31122133","51122131","11131225","31131223","51131221","21113134","41113132","21122224","41122222","21131314","41131312","11113225","31113223","51113221","11122315","31122313","51122311","21113314","41113312","22131133","42131131","11231134","31231132","12122134","32122132","12131224","32131222","21231223","41231221","22113133","42113131","11213134","22122223","42122221","11222224","22131313","42131311","11231314","31231312","12113224","32113222","12122314","32122312","21222313","41222311","22113313","42113311","11213314","31213312","23131132","12231133","32231131","21331132","13122133","33122131","13131223","33131221","11322133","22231222","11331223","31331221","23113132","12213133","23122222","12222223","23131312","12231313","32231311","21331312","13113223","33113221","13122313","33122311","11313223","22222312","11322313","31322311","23113312","12213313","32213311","21313312","24131131","13231132","22331131","11431132","14122132","14131222","12322132","23231221","12331222","21431221","24113131","13213132","24122221","13222222","24131311","11413132","13231312","11422222","22331311","11431312","14113222","14122312","12313222","23222311","12322312","21422311","24113311","13213312","22313311","11413312","14231131","12431131","15122131","15131221","13322131","13331221","11522131","14213131","14222221","12413131","14231311","12422221","12431311","15113221","15122311","13313221","13322311","11513221","11522311","14213311","12413311","21141133","41141131","11132134","31132132","11141224","31141222","21123133","41123131","21132223","41132221","21141313","41141311","11114134","31114132","11123224","31123222","11132314","31132312","21114223","41114221","21123313","41123311","11114314","31114312","22141132","11241133","31241131","12132133","32132131","12141223","32141221","21241222","22123132","11223133","22132222","11232223","22141312","11241313","31241311","12114133","32114131","12123223","32123221","12132313","32132311","21232312","22114222","11214223","22123312","11223313","31223311","12114313","32114311","21214312","23141131","12241132","21341131","13132132","13141222","11332132","22241221","11341222","23123131","12223132","23132221","12232222","23141311","12241312","21341311","13114132","13123222","11314132","13132312","11323222","22232311","11332312","23114221","12214222","23123311","12223312","21323311","13114312","22214311","11314312","13241131","14132131","14141221","12332131","12341221","13223131","13232221","11423131","13241311","11432221","14114131","14123221","12314131","14132311","12323221","12332311","13214221","13223311","11414221","11423311","14114311","12314311","21151132","11142133","31142131","11151223","31151221","21133132","21142222","21151312","11124133","31124131","11133223","31133221","11142313","31142311","21115132","21124222","21133312","11115223","31115221","11124313","31124311","22151131","11251132","12142132","12151222","21251221","22133131","11233132","22142221","11242222","22151311","11251312","12124132","12133222","12142312","21242311","22115131","11215132","22124221","11224222","22133311","11233312","12115222","12124312","21224311","12251131","13142131","13151221","11342131","12233131","12242221","12251311","13124131","13133221","11324131","13142311","11333221","11342311","12215131","12224221","12233311","13115221","13124311","11315221","11324311","21161131","11152132","11161222","21143131","21152221","21161311","11134132","11143222","11152312","21125131","21134221","21143311","11116132","11125222","11134312","12152131","12161221","11243131","11252221","12134131","12143221","12152311","11225131","11234221","11243311","12116131","12125221","12134311","21111235","41111233","61111231","11111326","31111324","51111322","21111415","41111413","61111411","21211144","41211142","22111234","42111232","11211235","31211233","51211231","12111325","32111323","52111321","21211324","41211322","22111414","42111412","11211415","31211413","51211411","22211143","42211141","11311144","31311142","23111233","43111231","12211234","32211232","21311233","41311231","13111324","33111322","22211323","42211321","11311324","31311322","23111413","43111411","12211414","32211412","21311413","41311411","23211142","12311143","32311141","21411142","24111232","13211233","33211231","22311232","11411233","31411231","14111323","34111321","23211322","12311323","32311321","21411322","24111412","13211413","33211411","22311412","11411413","31411411","24211141","13311142","22411141","11511142","25111231","14211232","23311231","12411232","21511231","15111322","24211321","13311322","22411321","11511322","25111411","14211412","23311411","12411412","21511411","14311141","12511141","15211231","13411231","11611231","16111321","14311321","12511321","15211411","13411411","11611411","31121143","51121141","21112144","41112142","21121234","41121232","11112235","31112233","51112231","11121325","31121323","51121321","21112324","41112322","21121414","41121412","11112415","31112413","51112411","12121144","32121142","21221143","41221141","22112143","42112141","11212144","22121233","42121231","11221234","31221232","12112234","32112232","12121324","32121322","21221323","41221321","22112323","42112321","11212324","22121413","42121411","11221414","31221412","12112414","32112412","21212413","41212411","13121143","33121141","22221142","11321143","31321141","23112142","12212143","23121232","12221233","32221231","21321232","13112233","33112231","13121323","33121321","11312233","22221322","11321323","31321321","23112322","12212323","23121412","12221413","32221411","21321412","13112413","33112411","22212412","11312413","31312411","14121142","23221141","12321142","21421141","24112141","13212142","24121231","13221232","11412142","22321231","11421232","14112232","14121322","12312232","23221321","12321322","21421321","24112321","13212322","24121411","13221412","11412322","22321411","11421412","14112412","23212411","12312412","21412411","15121141","13321141","11521141","14212141","14221231","12412141","12421231","15112231","15121321","13312231","13321321","11512231","11521321","14212321","14221411","12412321","12421411","15112411","13312411","11512411","11131144","31131142","21122143","41122141","21131233","41131231","11113144","31113142","11122234","31122232","11131324","31131322","21113233","41113231","21122323","41122321","21131413","41131411","11113324","31113322","11122414","31122412","21113413","41113411","12131143","32131141","21231142","22122142","11222143","22131232","11231233","31231231","12113143","32113141","12122233","32122231","12131323","32131321","21231322","22113232","11213233","22122322","11222323","22131412","11231413","31231411","12113323","32113321","12122413","32122411","21222412","22113412","11213413","31213411","13131142","22231141","11331142","23122141","12222142","23131231","12231232","21331231","13113142","13122232","11313142","13131322","11322232","22231321","11331322","23113231","12213232","23122321","12222322","23131411","12231412","21331411","13113322","13122412","11313322","22222411","11322412","23113411","12213412","21313411","14131141","12331141","13222141","13231231","11422141","11431231","14113141","14122231","12313141","14131321","12322231","12331321","13213231","13222321","11413231","13231411","11422321","11431411","14113321","14122411","12313321","12322411","13213411","11413411","11141143","31141141","21132142","21141232","11123143","31123141","11132233","31132231","11141323","31141321","21114142","21123232","21132322","21141412","11114233","31114231","11123323","31123321","11132413","31132411","21114322","21123412","12141142","21241141","22132141","11232142","22141231","11241232","12123142","12132232","12141322","21241321","22114141","11214142","22123231","11223232","22132321","11232322","22141411","11241412","12114232","12123322","12132412","21232411","22114321","11214322","22123411","11223412","13141141","11341141","12232141","12241231","13123141","13132231","11323141","13141321","11332231","11341321","12214141","12223231","12232321","12241411","13114231","13123321","11314231","13132411","11323321","11332411","12214321","12223411","11151142","21142141","21151231","11133142","11142232","11151322","21124141","21133231","21142321","21151411","11115142","11124232","11133322","11142412","21115231","21124321","21133411","12151141","11242141","11251231","12133141","12142231","12151321","11224141","11233231","11242321","11251411","12115141","12124231","12133321","12142411","11215231","11224321","11233411","11161141","11143141","11152231","11161321","11125141","11134231","11143321","11152411","11111245","31111243","51111241","21111334","41111332","11111425","31111423","51111421","21111514","41111512","31211152","12111244","32111242","21211243","41211241","22111333","42111331","11211334","31211332","12111424","32111422","21211423","41211421","22111513","42111511","11211514","31211512","12211153","32211151","21311152","13111243","33111241","22211242","11311243","31311241","23111332","12211333","32211331","21311332","13111423","33111421","22211422","11311423","31311421","23111512","12211513","32211511","21311512","13211152","22311151","11411152","14111242","23211241","12311242","21411241","24111331","13211332","22311331","11411332","14111422","23211421","12311422","21411421","24111511","13211512","22311511","11411512","14211151","12411151","15111241","13311241","11511241","14211331","12411331","15111421","13311421","11511421","14211511","12411511","21121153","41121151","11112154","31112152","11121244","31121242","21112243","41112241","21121333","41121331","11112334","31112332","11121424","31121422","21112423","41112421","21121513","41121511","11112514","31112512","22121152","11221153","31221151","12112153","32112151","12121243","32121241","21221242","22112242","11212243","22121332","11221333","31221331","12112333","32112331","12121423","32121421","21221422","22112422","11212423","22121512","11221513","31221511","12112513","32112511","21212512","23121151","12221152","21321151","13112152","13121242","11312152","22221241","11321242","23112241","12212242","23121331","12221332","21321331","13112332","13121422","11312332","22221421","11321422","23112421","12212422","23121511","12221512","21321511","13112512","22212511","11312512","13221151","11421151","14112151","14121241","12312151","12321241","13212241","13221331","11412241","11421331","14112331","14121421","12312331","12321421","13212421","13221511","11412421","11421511","14112511","12312511","21131152","11122153","31122151","11131243","31131241","21113152","21122242","21131332","11113243","31113241","11122333","31122331","11131423","31131421","21113332","21122422","21131512","11113423","31113421","11122513","31122511","22131151","11231152","12122152","12131242","21231241","22113151","11213152","22122241","11222242","22131331","11231332","12113242","12122332","12131422","21231421","22113331","11213332","22122421","11222422","22131511","11231512","12113422","12122512","21222511","12231151","13122151","13131241","11322151","11331241","12213151","12222241","12231331","13113241","13122331","11313241","13131421","11322331","11331421","12213331","12222421","12231511","13113421","13122511","11313421","11322511","21141151","11132152","11141242","21123151","21132241","21141331","11114152","11123242","11132332","11141422","21114241","21123331","21132421","21141511","11114332","11123422","11132512","11241151","12132151","12141241","11223151","11232241","11241331","12114151","12123241","12132331","12141421","11214241","11223331","11232421","11241511","12114331","12123421","12132511","11142151","11151241","11124151","11133241","11142331","11151421","11115241","11124331","11133421","11142511","21111253","41111251","11111344","31111342","21111433","41111431","11111524","31111522","21111613","41111611","21211162","22111252","11211253","31211251","12111343","32111341","21211342","22111432","11211433","31211431","12111523","32111521","21211522","22111612","11211613","31211611","22211161","11311162","23111251","12211252","21311251","13111342","22211341","11311342","23111431","12211432","21311431","13111522","22211521","11311522","23111611","12211612","21311611","12311161","13211251","11411251","14111341","12311341","13211431","11411431","14111521","12311521","13211611","11411611","31121161","21112162","21121252","11112253","31112251","11121343","31121341","21112342","21121432","11112433","31112431","11121523","31121521","21112522","21121612","12121162","21221161","22112161","11212162","22121251","11221252","12112252","12121342","21221341","22112341","11212342","22121431","11221432","12112432","12121522","21221521","22112521","11212522","22121611","11221612","13121161","11321161","12212161","12221251","13112251","13121341","11312251","11321341","12212341","12221431","13112431","13121521","11312431","11321521","12212521","12221611","11131162","21122161","21131251","11113162"])]),e.parity=s(["1001","0101","1100","0011","1010","0110","1111","0000"]),e.rowbits=s(e.r);for(var Me=0,Re=e.r-1;Me<=Re;Me+=1){e.i=Me,r[t++]="p",e.i!=e.r-1?r[t++]=l(e.parity,e.i):r[t++]="0000";var Ye=r[--t];e[r[--t]]=Ye,e.ccrow=N(e.ccs,e.i*8,8),r[t++]=1/0;for(var ze=0;ze<=7;ze+=2){U(N(e.ccrow,ze,2));var mt=r[--t],lt=r[--t];r[t++]=S(mt+lt*49)}e.scrow=s(),r[t++]=1/0,r[t++]=10,r[t++]=1,r[t++]=1;for(var ht=0;ht<=3;ht+=1)e.j=ht,ve(l(l(e.patterns,l(e.p,e.j)-48),l(e.scrow,e.j)),function(){var je=r[--t];r[t++]=je-48});r[t++]=4,r[t++]=1,e.sbs=s(),r[t++]=1/0;var yt=e.sbs;r[t++]=1;for(var jt=0,wt=yt.length;jt<wt;jt++)for(var Dt=r[t-1],Ct=Dt==0?1:0,Ut=0,It=l(yt,jt);Ut<It;Ut++)r[t++]=Ct;Kt(s(ga()-1));var kt=r[--t];r[t-1]=kt;var P=r[--t];r[t-1]=P,r[t++]=e.rowbits,r[t++]=e.i;var Y=r[t-3],q=r[t-1];b(r[t-2],q,Y),t-=3}r[t++]=1/0;for(var O=0,$=81*e.sepheight;O<$;O++)r[t++]=1;for(var le=0,K=e.r-2;le<=K;le+=1){e.i=le;for(var be=0,J=e.rowheight;be<J;be++)U(l(e.rowbits,e.i));for(var fe=0,me=e.sepheight;fe<me;fe++){for(var ge=0;ge<10;ge++)r[t++]=0;for(var re=0;re<70;re++)r[t++]=1;r[t++]=0}}for(var xe=0,ke=e.rowheight;xe<ke;xe++)U(l(e.rowbits,e.r-1));for(var he=0,Ae=81*e.sepheight;he<Ae;he++)r[t++]=1;e.pixs=s();var we=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=we,e.dontdraw||xt(),e=a}function HT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.3,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.flattermarkenBadCharacter#17258",r[t++]="Flattermarken must contain only digits",z())}),e.encs=s(["0018","0117","0216","0315","0414","0513","0612","0711","0810","0900"]),e.barchars="1234567890",e.barlen=e.barcode.length,e.sbs=X(e.barlen*4),e.txt=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,Tt(e.barchars,N(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=l(e.encs,e.indx),R(e.sbs,e.i*4,e.enc),b(e.txt,e.i,s([N(e.barcode,e.i,1),e.i*9,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0;for(var o=e.sbs,c=0,d=o.length;c<d;c++)r[t++]=l(o,c)-48;var f=s();r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var v=0,w=~~((e.sbs.length+1)/2);v<w;v++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options;var x=Pe();r[t++]=x,e.dontdraw||Mt(),e=a}function $T(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var m=r[--t];(m<49||m>57)&&(r[t++]="bwipp.rawBadCharacter#17344",r[t++]="Raw must contain only digits 1 to 9",z())}),r[t++]=1/0,r[t++]=1/0,ve(e.barcode,function(){var m=r[--t];r[t++]=m-48});var n=s();r[t++]=1/0;for(var i=0,o=~~((e.barcode.length+1)/2);i<o;i++)r[t++]=e.height;var c=s();r[t++]=1/0;for(var d=0,f=~~((e.barcode.length+1)/2);d<f;d++)r[t++]=0;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=n,r[t++]="bhs",r[t++]=c,r[t++]="bbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,e.dontdraw||Mt(),e=a}function qT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.175,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.daftEmptyData#17397",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var m=r[--t];m!=68&&m!=65&&m!=70&&m!=84&&(r[t++]="bwipp.daftBadCharacter#17402",r[t++]="DAFT must contain only characters D, A, F and T",z())}),e.barlen=e.barcode.length,e.bbs=s(e.barlen),e.bhs=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.enc=N(e.barcode,e.i,1),V(e.enc,"D")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"A")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),V(e.enc,"F")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8)),V(e.enc,"T")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var o=e.bbs,c=e.bhs;r[t++]=1/0;for(var d=0,f=e.bhs.length-1;d<f;d++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=o,r[t++]="bhs",r[t++]=c,r[t++]="sbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,e.dontdraw||Mt(),e=a}function GT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.fimasbs=s([2.25,2.25,2.25,11.25,2.25,11.25,2.25,2.25,2.25]),r[t++]=1/0;for(var n=0,i=~~(e.fimasbs.length/2)+1;n<i;n++)r[t++]=.625;e.fimabhs=s(),r[t++]=1/0;for(var o=0,c=~~(e.fimasbs.length/2)+1;o<c;o++)r[t++]=0;e.fimabbs=s(),e.fimbsbs=s([2.25,6.75,2.25,2.25,2.25,6.25,2.25,2.25,2.25,6.75,2.25]),r[t++]=1/0;for(var d=0,f=~~(e.fimbsbs.length/2)+1;d<f;d++)r[t++]=.625;e.fimbbhs=s(),r[t++]=1/0;for(var h=0,p=~~(e.fimbsbs.length/2)+1;h<p;h++)r[t++]=0;e.fimbbbs=s(),e.fimcsbs=s([2.25,2.25,2.25,6.75,2.25,6.75,2.25,6.75,2.25,2.25,2.25]),r[t++]=1/0;for(var m=0,v=~~(e.fimcsbs.length/2)+1;m<v;m++)r[t++]=.625;e.fimcbhs=s(),r[t++]=1/0;for(var w=0,y=~~(e.fimcsbs.length/2)+1;w<y;w++)r[t++]=0;e.fimcbbs=s(),e.fimdsbs=s([2.25,2.25,2.25,2.25,2.25,6.75,2.25,6.75,2.25,2.25,2.25,2.25,2.25]),r[t++]=1/0;for(var x=0,g=~~(e.fimdsbs.length/2)+1;x<g;x++)r[t++]=.625;e.fimdbhs=s(),r[t++]=1/0;for(var A=0,j=~~(e.fimdsbs.length/2)+1;A<j;A++)r[t++]=0;e.fimdbbs=s(),e.fimesbs=s([2.25,6.75,2.25,15.75,2.25,6.75,2.25]),r[t++]=1/0;for(var C=0,k=~~(e.fimesbs.length/2)+1;C<k;C++)r[t++]=.625;e.fimebhs=s(),r[t++]=1/0;for(var E=0,B=~~(e.fimesbs.length/2)+1;E<B;E++)r[t++]=0;e.fimebbs=s(),r[t++]=1/0;for(var I=0;I<100;I++)r[t++]=1,r[t++]=1;r[t++]=1,e.zebrasbs=s(),r[t++]=1/0;for(var D=0,M=~~(e.zebrasbs.length/2)+1;D<M;D++)r[t++]=1;e.zebrabhs=s(),r[t++]=1/0;for(var T=0,H=~~(e.zebrasbs.length/2)+1;T<H;T++)r[t++]=0;e.zebrabbs=s(),e.checksize=199,r[t++]=1/0;for(var _=e.checksize,F=0,Q=~~(_*_/2);F<Q;F++)r[t++]=1,r[t++]=0;r[t++]=1,e.checkpixs=s();var L=new Map([["renlinear",Mt],["renmatrix",xt]]);e.renmap=L;var ee=new Map([["fima",function(){var G=new Map([["ren","renlinear"],["sbs",e.fimasbs],["bhs",e.fimabhs],["bbs",e.fimabbs]]);r[t++]=G}],["fimb",function(){var G=new Map([["ren","renlinear"],["sbs",e.fimbsbs],["bhs",e.fimbbhs],["bbs",e.fimbbbs]]);r[t++]=G}],["fimc",function(){var G=new Map([["ren","renlinear"],["sbs",e.fimcsbs],["bhs",e.fimcbhs],["bbs",e.fimcbbs]]);r[t++]=G}],["fimd",function(){var G=new Map([["ren","renlinear"],["sbs",e.fimdsbs],["bhs",e.fimdbhs],["bbs",e.fimdbbs]]);r[t++]=G}],["fime",function(){var G=new Map([["ren","renlinear"],["sbs",e.fimesbs],["bhs",e.fimebhs],["bbs",e.fimebbs]]);r[t++]=G}],["zebra",function(){var G=new Map([["ren","renlinear"],["sbs",e.zebrasbs],["bhs",e.zebrabhs],["bbs",e.zebrabbs]]);r[t++]=G}],["check",function(){var G=new Map([["ren","renmatrix"],["pixs",e.checkpixs],["pixx",e.checksize],["pixy",e.checksize],["height",e.checksize/72],["width",e.checksize/72]]);r[t++]=G}]]);e.symbols=ee;var se=l(e.symbols,e.barcode)!==void 0;if(se||(r[t++]="bwipp.symbolUnknownSymbol#17531",r[t++]="Unknown symbol name provided",z()),l(e.symbols,e.barcode)()===!0)return!0;var ue=r[t-1];if(b(ue,"opt",e.options),!e.dontdraw){var W=r[t-1];if(l(e.renmap,l(W,"ren"))()===!0)return!0}e=a}function Pu(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.compact=!1,e.eclevel=-1,e.fixedeclevel=!1,e.columns=0,e.rows=0,e.rowmult=3,e.ccc=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.pdf417emptyData#17591",r[t++]="The data must not be empty",z()),e.eclevel!=-1&&(e.eclevel<0||e.eclevel>8)&&(r[t++]="bwipp.pdf417InvalidErrorCorrectionLevel#17595",r[t++]="Valid error correction levels are 0 to 8",z()),e.ccc&&e.raw&&(r[t++]="bwipp.pdf417cccAndRaw#17599",r[t++]="Cannot combine ccc and raw",z()),e.ccc&&e.compact&&(r[t++]="bwipp.pdf417cccAndCompact#17603",r[t++]="Cannot combine ccc and compact",z()),e.rows!=0&&(e.rows<3||e.rows>90)&&(r[t++]="bwipp.pdf417invalidRows#17607",r[t++]="There must be between 3 and 90 rows",z()),e.columns!=0&&(e.columns<1||e.columns>30)&&(r[t++]="bwipp.pdf417invalidColumns#17611",r[t++]="There must be between 1 and 30 columns",z()),e.rowmult<=0&&(r[t++]="bwipp.pdf417badRowMult#17615",r[t++]="The row multiplier must be greater than zero",z()),e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var n=0,i=e.charmaps.length-1;n<=i;n+=1){e.i=n,e.encs=l(e.charmaps,e.i);for(var o=0;o<=3;o+=1){e.j=o;var c=l(e.encs,e.j);if(r[t++]=c,V(tn(c),"stringtype")){var d=l(r[--t],0);r[t++]=d}var f=r[--t];b(l(e.charvals,e.j),f,e.i),b(e.alltext,f,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,e.latchcws=Pe(),e.raw){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||l(e.barcode,e.i)!=94);){var h=N(e.barcode,e.i+1,3);r[t++]=h,r[t++]=!1;for(var p=0,m=h.length;p<m;p++){var v=l(h,p);(v<48||v>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Ce(r[--t]),b(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.pdf417badRawFormat#17727",r[t++]="raw data must be formatted as ^NNN",z()),e.datcws=N(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var me=0,ge=~~(e.inlen/6)-1;me<=ge;me+=1){e.k=me,r[t++]=1/0,U(N(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,U(e.msbs);var re=r[--t],xe=r[--t],ke=r[--t];r[t++]=S(re+xe*256+ke*65536);for(var he=0;he<3;he++){var Ae=r[--t];r[t++]=Ae%900,r[t++]=~~(Ae/900)}e.mscs=s(),r[t++]=1/0,U(N(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,U(e.lsbs);var we=r[--t],je=r[--t],Oe=r[--t];r[t++]=S(we+je*256+Oe*65536);for(var _e=0;_e<3;_e++){var Ge=r[--t];r[t++]=Ge%900,r[t++]=~~(Ge/900)}e.lscs=s();var st=l(e.lscs,0),at=l(e.mscs,0);b(e.out,e.k*5+4,S(st+at*316)%900);var ye=l(e.lscs,1),He=l(e.mscs,0),Ue=l(e.mscs,1);b(e.out,e.k*5+3,S(~~((st+at*316)/900)+ye+He*641+Ue*316)%900);var We=l(e.lscs,2),pt=l(e.mscs,0),vt=l(e.mscs,1),ft=l(e.mscs,2);b(e.out,e.k*5+2,S(~~((~~((st+at*316)/900)+ye+He*641+Ue*316)/900)+We+pt*20+vt*641+ft*316)%900);var gt=l(e.lscs,3),nt=l(e.mscs,1),Ft=l(e.mscs,2);b(e.out,e.k*5+1,S(~~((~~((~~((st+at*316)/900)+ye+He*641+Ue*316)/900)+We+pt*20+vt*641+ft*316)/900)+gt+nt*20+Ft*641)%900),b(e.out,e.k*5,S(~~((~~((~~((~~((st+at*316)/900)+ye+He*641+Ue*316)/900)+We+pt*20+vt*641+ft*316)/900)+gt+nt*20+Ft*641)/900)+l(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,U(N(e.in,e.inlen-e.rem,e.rem));var et=s(),Ht=r[--t];R(r[--t],Ht,et)}r[t++]=e.out},e.ccc){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),b(e.datcws,0,920);var w=e.barlen%6==0?924:901;b(e.datcws,1,w),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ve(e.barcode);var y=s();r[t++]=y,e.encb();var x=r[--t],g=r[--t];R(r[--t],g,x)}if(!e.raw&&!e.ccc){var A=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=A,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var j=r[--t];e[r[--t]]=j,e.msglen=e.msg.length,r[t++]=1/0;for(var C=0,k=e.msglen;C<k;C++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var E=0,B=e.msglen;E<B;E++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var M=0,T=e.msglen;M<T;M++)r[t++]=0;r[t++]=0,e.iseci=s();for(var H=e.msglen-1;H>=0;H-=1){e.i=H;var _=l(e.msg,e.i);_>=48&&_<=57&&b(e.numdigits,e.i,l(e.numdigits,e.i+1)+1);var F=l(e.alltext,l(e.msg,e.i))!==void 0;F&&l(e.numdigits,e.i)<13&&b(e.numtext,e.i,l(e.numtext,e.i+1)+1),l(e.msg,e.i)>=0&&l(e.numtext,e.i)<5&&l(e.numdigits,e.i)<13&&b(e.numbytes,e.i,l(e.numbytes,e.i+1)+1),b(e.iseci,e.i,l(e.msg,e.i)<=-1e6)}for(e.numdigits=N(e.numdigits,0,e.msglen),e.numtext=N(e.numtext,0,e.msglen),e.numbytes=N(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.T,e.p=0;e.p!=e.msglen;)if(l(e.iseci,e.p)){if(e.eci=l(e.msg,e.p),r[t++]=1/0,U(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var Q=e.eci<=-1000900?3:2;r[t++]=Q}var L=r[--t],ee=r[--t];e[r[--t]]=S(ee+L)}else if(e.n=l(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,U(e.seq),r[t++]=e.nl,r[t++]=1/0,U(N(e.msg,e.p,e.n));var se=s();r[t++]=se,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=l(e.numtext,e.p),e.t>=5){r[t++]=1/0,U(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,U(N(e.msg,e.p,e.t));var ue=s();r[t++]=ue,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=l(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,U(e.seq),r[t++]=e.bs,r[t++]=s([l(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,U(e.seq);var W=e.b%6!=0?e.bl:e.bl6;r[t++]=W,r[t++]=1/0,U(N(e.msg,e.p,e.b));var G=s();r[t++]=G,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}for(e.enca=function(){var me=l(l(e.charvals,e.A),r[--t]);r[t++]=me},e.encl=function(){var me=l(l(e.charvals,e.L),r[--t]);r[t++]=me},e.encm=function(){var me=l(l(e.charvals,e.M),r[--t]);r[t++]=me},e.encp=function(){var me=l(l(e.charvals,e.P),r[--t]);r[t++]=me},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){b(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),b(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ve(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var pt=s([e.A,e.L,e.M,e.P]),vt=0,ft=pt.length;vt<ft;vt++){e.x=l(pt,vt);for(var gt=s([e.A,e.L,e.M,e.P]),nt=0,Ft=gt.length;nt<Ft;nt++)if(e.y=l(gt,nt),e.cost=S(l(e.curlen,e.x)+l(l(e.latlen,e.x),e.y)),e.cost<l(e.curlen,e.y)){b(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,U(l(e.curseq,e.x)),U(l(l(e.latseq,e.x),e.y));var et=s(),Ht=r[--t];b(r[--t],Ht,et),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var $t=s([e.A,e.L,e.M,e.P]),zt=0,nr=$t.length;zt<nr;zt++)for(e.x=l($t,zt);;){var Ir=l(l(e.charvals,e.x),e.char)!==void 0;if(!Ir)break;if(e.cost=l(e.curlen,e.x)+1,e.cost<l(e.nxtlen,e.x)){b(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,U(l(e.curseq,e.x)),r[t++]=e.char;var ir=s(),br=r[--t];b(r[--t],br,ir)}for(var sr=s([e.A,e.L,e.M,e.P]),Dr=0,er=sr.length;Dr<er;Dr++)if(e.y=l(sr,Dr),Ee(e.x,e.y)&&(e.cost=S(l(e.curlen,e.y)+l(l(e.shftlen,e.y),e.x))+1,e.cost<l(e.nxtlen,e.y))){b(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,U(l(e.curseq,e.y));var ur=e.x==e.A?e.as:e.ps;r[t++]=ur,r[t++]=e.char;var Wt=s(),Xt=r[--t];b(r[--t],Xt,Wt)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var me=s([e.A,e.L,e.M,e.P]),ge=0,re=me.length;ge<re;ge++)e.k=l(me,ge),l(e.curlen,e.k)<e.minseq&&(e.minseq=l(e.curlen,e.k),e.txtseq=l(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=l(e.txtseq,e.k),r[t++]=e.char,e[l(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=l(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var xe=r[--t];e[r[--t]]=xe,e.submode=e.A}else{e.nextecitext=!1;for(var ke=e.i+1,he=e.seq.length-1;ke<=he;ke+=1){if(e.ti=ke,Ee(tn(l(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(l(l(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Ae=l(l(e.charvals,e.L),l(l(e.seq,e.ti),0))!==void 0;if(Ae){r[t++]="pad",r[t++]=e.ll,e.enca();var we=r[--t];e[r[--t]]=we,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var je=r[--t];e[r[--t]]=je,e.submode=e.M}}else if(e.submode==e.M){var Oe=l(l(e.charvals,e.L),l(l(e.seq,e.ti),0))!==void 0;if(Oe){r[t++]="pad",r[t++]=e.ll,e.encm();var _e=r[--t];e[r[--t]]=_e,e.submode=e.L}else{var Ge=l(l(e.charvals,e.P),l(l(e.seq,e.ti),0))!==void 0;if(Ge){r[t++]="pad",r[t++]=e.pl,e.encm();var st=r[--t];e[r[--t]]=st,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var at=r[--t];e[r[--t]]=at,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var ye=r[--t];e[r[--t]]=ye,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[l(e.textencfuncs,e.submode)]()===!0)return!0;var He=r[--t];e[r[--t]]=He}}r[t++]=1/0,U(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var Ue=0,We=e.out.length-1;Ue<=We;Ue+=1)e.k=Ue,b(e.out,e.k,S(l(e.text,e.k*2)*30+l(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var me=0,ge=e.in.length-1;me<=ge;me+=44){e.k=me,r[t++]=1/0;var re=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=re,re>44&&(r[t-1]=44);for(var xe=r[--t],ke=r[--t],he=N(r[--t],ke,xe),Ae=0,we=he.length;Ae<we;Ae++)r[t++]=l(he,Ae)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+l(e.gmod,0)),e.gmod=N(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,U(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,U(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,U(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,U(e.out),U(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var me=-l(r[--t],0)-1e6;if(r[t++]=me,me<=899){var ge=r[--t];r[t++]=927,r[t++]=ge,Kt(s(2))}else{var re=r[t-1];if(re<=810899){var xe=r[--t];r[t++]=926,r[t++]=~~(xe/900)-1,r[t++]=xe%900,Kt(s(3))}else{var ke=r[t-1];if(ke<=811799){var he=r[--t];r[t++]=925,r[t++]=he-810900,Kt(s(2))}else r[t++]="bwipp.pdf417badECI#18089",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var me=r[--t];R(e.datcws,e.j,me),e.j=me.length+e.j},e.state=e.T,e.submode=e.A,e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=l(e.seq,e.i),V(tn(e.chars),"arraytype"))if(l(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[l(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([l(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=l(e.seq,e.i),e.encb(),e.addtocws());e.i=e.i+1}e.datcws=N(e.datcws,0,e.j)}e.m=e.datcws.length,e.m>926&&(r[t++]="bwipp.pdf417dataTooLong#18129",r[t++]="The data is too long",z()),e.eclevel==-1&&(e.m<=40&&(e.eclevel=2),e.m>=41&&e.m<=160&&(e.eclevel=3),e.m>=161&&e.m<=320&&(e.eclevel=4),e.m>=321&&(e.eclevel=5)),e.fixedeclevel||(e.maxeclevel=~~(un(927-e.m)/un(2))-1,e.eclevel>e.maxeclevel&&(e.eclevel=e.maxeclevel)),e.k=~~l1(2,e.eclevel+1),e.columns==0&&(e.columns=~~Si(nu((e.m+e.k)/3))),r[t++]="c",e.columns>=1?r[t++]=e.columns:r[t++]=1;var ne=r[--t];if(e[r[--t]]=ne,e.r=~~xr((e.m+e.k+1)/e.columns),e.r<e.rows&&e.rows<=90&&(e.r=e.rows),e.r<3&&(e.r=3),e.r>90&&(r[t++]="bwipp.pdf417insufficientCapacity#18158",r[t++]="Insufficient capacity in the symbol",z()),!e.fixedeclevel){var de=e.c,te=e.r,ae=e.m,ie=8,oe=~~(un(S(de*te-1-ae))/un(2))-1;if(~~(un(S(de*te-1-ae))/un(2))-1>8){var De=ie;ie=oe,oe=De}e.maxeclevel=oe,e.maxeclevel>e.eclevel&&(e.eclevel=e.maxeclevel,e.k=~~l1(2,e.eclevel+1))}e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),b(e.cws,0,e.n),R(e.cws,1,e.datcws),r[t++]=e.cws,r[t++]=e.m+1,r[t++]=1/0;for(var Ne=0,Le=S(e.n-e.m)-1;Ne<Le;Ne++)r[t++]=900;var Te=s(),Ve=r[--t];R(r[--t],Ve,Te),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Qe=0,ot=e.k;Qe<ot;Qe++)r[t++]=0;r[t++]=0;var Ze=s(),Fe=r[--t];R(r[--t],Fe,Ze),r[t++]=1/0,r[t++]=1;for(var Ke=0;Ke<928;Ke++){var Je=r[t-1];r[t++]=Je*3%929}e.rsalog=s(),e.rslog=s(929);for(var rt=1;rt<=928;rt+=1)b(e.rslog,l(e.rsalog,rt),rt);e.rsprod=function(){var me=r[t-1],ge=r[t-2];if(me!=0&&ge!=0){var re=l(e.rslog,r[--t]),xe=l(e.rsalog,S(re+l(e.rslog,r[--t]))%928);r[t++]=xe}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Xe=0,Se=e.k;Xe<Se;Xe++)r[t++]=0;e.coeffs=s();for(var pe=1,Ie=e.k;pe<=Ie;pe+=1){e.i=pe,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var Me=e.i-1;Me>=1;Me-=1){e.j=Me,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var Re=r[--t],Ye=r[--t],ze=r[--t];b(r[--t],ze,S(Ye+Re)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var mt=r[--t],lt=r[--t];b(r[--t],lt,mt)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1);for(var ht=e.coeffs.length-1;ht>=0;ht-=2){var yt=e.coeffs;b(yt,ht,929-l(yt,ht))}for(var jt=0,wt=e.n-1;jt<=wt;jt+=1){e.t=S(l(e.cws,jt)+l(e.cws,e.n))%929;for(var Dt=0,Ct=e.k-1;Dt<=Ct;Dt+=1)e.j=Dt,b(e.cws,S(e.n+e.j),S(l(e.cws,S(e.n+e.j)+1)+(929-e.t*l(e.coeffs,e.k-e.j-1)%929))%929)}for(var Ut=e.n,It=S(e.n+e.k);Ut<=It;Ut+=1)b(e.cws,Ut,(929-l(e.cws,Ut))%929);e.cws=N(e.cws,0,e.cws.length-1);var kt=l(e.options,"debugcws")!==void 0;kt&&(r[t++]="bwipp.debugcws#18221",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.cwtobits=function(){var me=l(e.clusters,r[--t]);e.v=l(me,r[--t]),r[t++]=1/0;for(var ge=0;ge<17;ge++)r[t++]=0;for(var re=qt(X(17),e.v,2),xe=0,ke=re.length;xe<ke;xe++)r[t++]=l(re,xe)-48;var he=s();r[t++]=N(he,he.length-17,17)},e.compact?e.rwid=17*e.c+17+17+1:e.rwid=17*e.c+17+17+17+18,e.pixs=s(e.rwid*e.r*e.rowmult);for(var P=0,Y=e.r-1;P<=Y;P+=1){e.i=P,e.i%3==0&&(e.lcw=~~(e.i/3)*30+~~((e.r-1)/3),e.rcw=S(~~(e.i/3)*30+e.c)-1),e.i%3==1&&(e.lcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3,e.rcw=~~(e.i/3)*30+~~((e.r-1)/3)),e.i%3==2&&(e.lcw=S(~~(e.i/3)*30+e.c)-1,e.rcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3),r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=e.lcw,r[t++]=e.i%3,e.cwtobits(),U(r[--t]);for(var q=N(e.cws,e.c*e.i,e.c),O=0,$=q.length;O<$;O++)r[t++]=l(q,O),r[t++]=e.i%3,e.cwtobits(),U(r[--t]);e.compact||(r[t++]=e.rcw,r[t++]=e.i%3,e.cwtobits(),U(r[--t]),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0),r[t++]=1;var le=s();r[t++]=le;for(var K=0,be=e.rowmult-1;K<=be;K+=1){var J=r[t-1];R(e.pixs,(K+e.i*e.rowmult)*e.rwid,J)}t--}var fe=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",2],["borderright",2],["bordertop",2],["borderbottom",2],["opt",e.options]]);r[t++]=fe,e.dontdraw||xt(),e=a}function YT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"compact",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Pu();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function iu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.columns=0,e.rows=0,e.rowmult=2,e.cca=!1,e.ccb=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.micropdf417emptyData#18631",r[t++]="The data must not be empty",z()),e.rowmult<=0&&(r[t++]="bwipp.micropdf417badRowMult#18635",r[t++]="The row multiplier must be greater than zero",z()),(e.cca&&e.ccb||e.cca&&e.raw||e.ccb&&e.raw)&&(r[t++]="bwipp.micropdf417ccaAndCcb#18639",r[t++]="Cannot combine cca, ccb and raw",z()),Ee(e.version,"unset"))if(Tt(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Kt(s(2)),ve(r[--t],function(){var he=r[t-1];r[t++]=!0,he.length==0&&(r[t-1]=!1);var Ae=r[--t],we=r[--t];r[t++]=Ae,ve(we,function(){var je=r[--t];(je<48||je>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.micropdf417BadVersionBadRowOrColumn#18653",r[t++]="version must be formatted as RxC",z())}),e.rows=Ce(r[--t]),e.columns=Ce(r[--t])}else t--,r[t++]="bwipp.micropdf417badVersionFormat#18659",r[t++]="version must be formatted as RxC",z();e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.m05=-12,e.m06=-13,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var c=0,d=e.charmaps.length-1;c<=d;c+=1){e.i=c,e.encs=l(e.charmaps,e.i);for(var f=0;f<=3;f+=1){e.j=f;var h=l(e.encs,e.j);if(r[t++]=h,V(tn(h),"stringtype")){var p=l(r[--t],0);r[t++]=p}var m=r[--t];b(l(e.charvals,e.j),m,e.i),b(e.alltext,m,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),e.raw||e.cca){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||l(e.barcode,e.i)!=94);){var v=N(e.barcode,e.i+1,3);r[t++]=v,r[t++]=!1;for(var w=0,y=v.length;w<y;w++){var x=l(v,w);(x<48||x>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Ce(r[--t]),b(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.micropdf417badCcaRawFormat#18771",r[t++]="cca and raw data must be formatted as ^NNN",z()),e.datcws=N(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var he=0,Ae=~~(e.inlen/6)-1;he<=Ae;he+=1){e.k=he,r[t++]=1/0,U(N(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,U(e.msbs);var we=r[--t],je=r[--t],Oe=r[--t];r[t++]=S(we+je*256+Oe*65536);for(var _e=0;_e<3;_e++){var Ge=r[--t];r[t++]=Ge%900,r[t++]=~~(Ge/900)}e.mscs=s(),r[t++]=1/0,U(N(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,U(e.lsbs);var st=r[--t],at=r[--t],ye=r[--t];r[t++]=S(st+at*256+ye*65536);for(var He=0;He<3;He++){var Ue=r[--t];r[t++]=Ue%900,r[t++]=~~(Ue/900)}e.lscs=s();var We=l(e.lscs,0),pt=l(e.mscs,0);b(e.out,e.k*5+4,S(We+pt*316)%900);var vt=l(e.lscs,1),ft=l(e.mscs,0),gt=l(e.mscs,1);b(e.out,e.k*5+3,S(~~((We+pt*316)/900)+vt+ft*641+gt*316)%900);var nt=l(e.lscs,2),Ft=l(e.mscs,0),et=l(e.mscs,1),Ht=l(e.mscs,2);b(e.out,e.k*5+2,S(~~((~~((We+pt*316)/900)+vt+ft*641+gt*316)/900)+nt+Ft*20+et*641+Ht*316)%900);var $t=l(e.lscs,3),zt=l(e.mscs,1),nr=l(e.mscs,2);b(e.out,e.k*5+1,S(~~((~~((~~((We+pt*316)/900)+vt+ft*641+gt*316)/900)+nt+Ft*20+et*641+Ht*316)/900)+$t+zt*20+nr*641)%900),b(e.out,e.k*5,S(~~((~~((~~((~~((We+pt*316)/900)+vt+ft*641+gt*316)/900)+nt+Ft*20+et*641+Ht*316)/900)+$t+zt*20+nr*641)/900)+l(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,U(N(e.in,e.inlen-e.rem,e.rem));var Ir=s(),ir=r[--t];R(r[--t],ir,Ir)}r[t++]=e.out},e.ccb){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),b(e.datcws,0,920);var g=e.barlen%6==0?924:901;b(e.datcws,1,g),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ve(e.barcode);var A=s();r[t++]=A,e.encb();var j=r[--t],C=r[--t];R(r[--t],C,j)}if(!e.raw&&!e.cca&&!e.ccb){var k=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=k,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var E=r[--t];if(e[r[--t]]=E,e.msglen=e.msg.length,e.msglen>=9){U(N(e.msg,0,7));var B=r[--t];r[t-1]=B==29;var I=r[--t],D=r[--t],M=r[--t],T=r[--t],H=r[--t],_=r[--t];if(I&&D==48&&M==30&&T==62&&H==41&&_==91){U(N(e.msg,e.msglen-2,2));var F=r[--t],Q=r[--t];F==4&&Q==30&&(l(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,U(N(e.msg,7,e.msg.length-9)),e.msg=s()):l(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,U(N(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var L=0,ee=e.msglen;L<ee;L++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var se=0,ue=e.msglen;se<ue;se++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var W=0,G=e.msglen;W<G;W++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var ne=0,de=e.msglen;ne<de;ne++)r[t++]=0;e.iseci=s();for(var te=e.msglen-1;te>=0;te-=1){e.i=te;var ae=l(e.msg,e.i);ae>=48&&ae<=57&&b(e.numdigits,e.i,l(e.numdigits,e.i+1)+1);var ie=l(e.alltext,l(e.msg,e.i))!==void 0;ie&&l(e.numdigits,e.i)<13&&b(e.numtext,e.i,l(e.numtext,e.i+1)+1),l(e.msg,e.i)>=0&&l(e.numtext,e.i)<5&&l(e.numdigits,e.i)<13&&b(e.numbytes,e.i,l(e.numbytes,e.i+1)+1),b(e.iseci,e.i,l(e.msg,e.i)<=-1e6)}for(e.numdigits=N(e.numdigits,0,e.msglen),e.numtext=N(e.numtext,0,e.msglen),e.numbytes=N(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.B,e.p=0;e.p!=e.msglen;){var oe=l(e.msg,e.p);if(e.p==0&&(oe==e.m05||oe==e.m06)){r[t++]=1/0,U(e.seq);var De=l(e.msg,e.p)==e.m05?e.m05:e.m06;r[t++]=De,e.seq=s(),e.p=e.p+1,e.seqlen=e.seqlen+1}else if(l(e.iseci,e.p)){if(e.eci=l(e.msg,e.p),r[t++]=1/0,U(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var Ne=e.eci<=-1000900?3:2;r[t++]=Ne}var Le=r[--t],Te=r[--t];e[r[--t]]=S(Te+Le)}else if(e.n=l(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,U(e.seq),r[t++]=e.nl,r[t++]=1/0,U(N(e.msg,e.p,e.n));var Ve=s();r[t++]=Ve,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=l(e.numtext,e.p),e.t>=5){r[t++]=1/0,U(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,U(N(e.msg,e.p,e.t));var Qe=s();r[t++]=Qe,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=l(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,U(e.seq),r[t++]=e.bs,r[t++]=s([l(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,U(e.seq);var ot=e.b%6!=0?e.bl:e.bl6;r[t++]=ot,r[t++]=1/0,U(N(e.msg,e.p,e.b));var Ze=s();r[t++]=Ze,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}}for(r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,r[t++]=e.m05,r[t++]=916,r[t++]=e.m06,r[t++]=917,e.latchcws=Pe(),e.enca=function(){var he=l(l(e.charvals,e.A),r[--t]);r[t++]=he},e.encl=function(){var he=l(l(e.charvals,e.L),r[--t]);r[t++]=he},e.encm=function(){var he=l(l(e.charvals,e.M),r[--t]);r[t++]=he},e.encp=function(){var he=l(l(e.charvals,e.P),r[--t]);r[t++]=he},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){b(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),b(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ve(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var Ft=s([e.A,e.L,e.M,e.P]),et=0,Ht=Ft.length;et<Ht;et++){e.x=l(Ft,et);for(var $t=s([e.A,e.L,e.M,e.P]),zt=0,nr=$t.length;zt<nr;zt++)if(e.y=l($t,zt),e.cost=S(l(e.curlen,e.x)+l(l(e.latlen,e.x),e.y)),e.cost<l(e.curlen,e.y)){b(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,U(l(e.curseq,e.x)),U(l(l(e.latseq,e.x),e.y));var Ir=s(),ir=r[--t];b(r[--t],ir,Ir),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var br=s([e.A,e.L,e.M,e.P]),sr=0,Dr=br.length;sr<Dr;sr++)for(e.x=l(br,sr);;){var er=l(l(e.charvals,e.x),e.char)!==void 0;if(!er)break;if(e.cost=l(e.curlen,e.x)+1,e.cost<l(e.nxtlen,e.x)){b(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,U(l(e.curseq,e.x)),r[t++]=e.char;var ur=s(),Wt=r[--t];b(r[--t],Wt,ur)}for(var Xt=s([e.A,e.L,e.M,e.P]),fr=0,Tr=Xt.length;fr<Tr;fr++)if(e.y=l(Xt,fr),Ee(e.x,e.y)&&(e.cost=S(l(e.curlen,e.y)+l(l(e.shftlen,e.y),e.x))+1,e.cost<l(e.nxtlen,e.y))){b(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,U(l(e.curseq,e.y));var Pr=e.x==e.A?e.as:e.ps;r[t++]=Pr,r[t++]=e.char;var ha=s(),Rt=r[--t];b(r[--t],Rt,ha)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var he=s([e.A,e.L,e.M,e.P]),Ae=0,we=he.length;Ae<we;Ae++)e.k=l(he,Ae),l(e.curlen,e.k)<e.minseq&&(e.minseq=l(e.curlen,e.k),e.txtseq=l(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=l(e.txtseq,e.k),r[t++]=e.char,e[l(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=l(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var je=r[--t];e[r[--t]]=je,e.submode=e.A}else{e.nextecitext=!1;for(var Oe=e.i+1,_e=e.seq.length-1;Oe<=_e;Oe+=1){if(e.ti=Oe,Ee(tn(l(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(l(l(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Ge=l(l(e.charvals,e.L),l(l(e.seq,e.ti),0))!==void 0;if(Ge){r[t++]="pad",r[t++]=e.ll,e.enca();var st=r[--t];e[r[--t]]=st,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var at=r[--t];e[r[--t]]=at,e.submode=e.M}}else if(e.submode==e.M){var ye=l(l(e.charvals,e.L),l(l(e.seq,e.ti),0))!==void 0;if(ye){r[t++]="pad",r[t++]=e.ll,e.encm();var He=r[--t];e[r[--t]]=He,e.submode=e.L}else{var Ue=l(l(e.charvals,e.P),l(l(e.seq,e.ti),0))!==void 0;if(Ue){r[t++]="pad",r[t++]=e.pl,e.encm();var We=r[--t];e[r[--t]]=We,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var pt=r[--t];e[r[--t]]=pt,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var vt=r[--t];e[r[--t]]=vt,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[l(e.textencfuncs,e.submode)]()===!0)return!0;var ft=r[--t];e[r[--t]]=ft}}r[t++]=1/0,U(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var gt=0,nt=e.out.length-1;gt<=nt;gt+=1)e.k=gt,b(e.out,e.k,S(l(e.text,e.k*2)*30+l(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var he=0,Ae=e.in.length-1;he<=Ae;he+=44){e.k=he,r[t++]=1/0;var we=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=we,we>44&&(r[t-1]=44);for(var je=r[--t],Oe=r[--t],_e=N(r[--t],Oe,je),Ge=0,st=_e.length;Ge<st;Ge++)r[t++]=l(_e,Ge)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+l(e.gmod,0)),e.gmod=N(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,U(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,U(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,U(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,U(e.out),U(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var he=-l(r[--t],0)-1e6;if(r[t++]=he,he<=899){var Ae=r[--t];r[t++]=927,r[t++]=Ae,Kt(s(2))}else{var we=r[t-1];if(we<=810899){var je=r[--t];r[t++]=926,r[t++]=~~(je/900)-1,r[t++]=je%900,Kt(s(3))}else{var Oe=r[t-1];if(Oe<=811799){var _e=r[--t];r[t++]=925,r[t++]=_e-810900,Kt(s(2))}else r[t++]="bwipp.pdf417badECI#19167",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var he=r[--t];R(e.datcws,e.j,he),e.j=he.length+e.j},e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=l(e.seq,e.i),V(tn(e.chars),"arraytype"))if(l(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[l(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([l(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=l(e.seq,e.i),e.encb(),e.addtocws()),e.chars==e.m05&&(e.i+1<e.seq.length&&l(e.seq,e.i+1)==e.nl&&(e.i=e.i+1),e.state=e.N),e.chars==e.m06&&(e.i+1<e.seq.length&&l(e.seq,e.i+1)==e.tl&&(e.i=e.i+1),e.state=e.T,e.submode=e.M);e.i=e.i+1}e.datcws=N(e.datcws,0,e.j)}e.ccametrics=s([s([2,5,4,39,0,19]),s([2,6,4,1,0,33]),s([2,7,5,32,0,12]),s([2,8,5,8,0,40]),s([2,9,6,14,0,46]),s([2,10,6,43,0,23]),s([2,12,7,20,0,52]),s([3,4,4,11,43,23]),s([3,5,5,1,33,13]),s([3,6,6,5,37,17]),s([3,7,7,15,47,27]),s([3,8,7,21,1,33]),s([4,3,4,40,20,52]),s([4,4,5,43,23,3]),s([4,5,6,46,26,6]),s([4,6,7,34,14,46]),s([4,7,8,29,9,41])]),e.nonccametrics=s([s([1,11,7,1,0,9]),s([1,14,7,8,0,8]),s([1,17,7,36,0,36]),s([1,20,8,19,0,19]),s([1,24,8,9,0,17]),s([1,28,8,25,0,33]),s([2,8,8,1,0,1]),s([2,11,9,1,0,9]),s([2,14,9,8,0,8]),s([2,17,10,36,0,36]),s([2,20,11,19,0,19]),s([2,23,13,9,0,17]),s([2,26,15,27,0,35]),s([3,6,12,1,1,1]),s([3,8,14,7,7,7]),s([3,10,16,15,15,15]),s([3,12,18,25,25,25]),s([3,15,21,37,37,37]),s([3,20,26,1,17,33]),s([3,26,32,1,9,17]),s([3,32,38,21,29,37]),s([3,38,44,15,31,47]),s([3,44,50,1,25,49]),s([4,4,8,47,19,43]),s([4,6,12,1,1,1]),s([4,8,14,7,7,7]),s([4,10,16,15,15,15]),s([4,12,18,25,25,25]),s([4,15,21,37,37,37]),s([4,20,26,1,17,33]),s([4,26,32,1,9,17]),s([4,32,38,21,29,37]),s([4,38,44,15,31,47]),s([4,44,50,1,25,49])]),r[t++]="metrics",e.cca?r[t++]=e.ccametrics:r[t++]=e.nonccametrics;var Fe=r[--t];e[r[--t]]=Fe,e.urows=e.rows,e.ucols=e.columns,ve(e.metrics,function(){if(e.m=r[--t],e.c=l(e.m,0),e.r=l(e.m,1),e.k=l(e.m,2),e.rapl=l(e.m,3),e.rapc=l(e.m,4),e.rapr=l(e.m,5),e.ncws=S(e.r*e.c-e.k),e.okay=!0,e.datcws.length>e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.c&&(e.okay=!1),e.okay)return!0}),e.okay||(r[t++]="bwipp.micropdf417noValidSymbol#19306",r[t++]="Maximum length exceeded or invalid size",z()),e.m=e.datcws.length,e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),R(e.cws,0,e.datcws),r[t++]=e.cws,r[t++]=e.m,r[t++]=1/0;for(var Ke=0,Je=S(e.n-e.m);Ke<Je;Ke++)r[t++]=900;var rt=s(),Xe=r[--t];R(r[--t],Xe,rt),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Se=0,pe=e.k;Se<pe;Se++)r[t++]=0;r[t++]=0;var Ie=s(),Me=r[--t];R(r[--t],Me,Ie),r[t++]=1/0,r[t++]=1;for(var Re=0;Re<928;Re++){var Ye=r[t-1];r[t++]=Ye*3%929}e.rsalog=s(),e.rslog=s(929);for(var ze=1;ze<=928;ze+=1)b(e.rslog,l(e.rsalog,ze),ze);e.rsprod=function(){var he=r[t-1],Ae=r[t-2];if(he!=0&&Ae!=0){var we=l(e.rslog,r[--t]),je=l(e.rsalog,S(we+l(e.rslog,r[--t]))%928);r[t++]=je}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var mt=0,lt=e.k;mt<lt;mt++)r[t++]=0;e.coeffs=s();for(var ht=1,yt=e.k;ht<=yt;ht+=1){e.i=ht,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var jt=e.i-1;jt>=1;jt-=1){e.j=jt,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var wt=r[--t],Dt=r[--t],Ct=r[--t];b(r[--t],Ct,S(Dt+wt)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var Ut=r[--t],It=r[--t];b(r[--t],It,Ut)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1);for(var kt=e.coeffs.length-1;kt>=0;kt-=2){var P=e.coeffs;b(P,kt,929-l(P,kt))}for(var Y=0,q=e.n-1;Y<=q;Y+=1){e.t=S(l(e.cws,Y)+l(e.cws,e.n))%929;for(var O=0,$=e.k-1;O<=$;O+=1)e.j=O,b(e.cws,S(e.n+e.j),S(l(e.cws,S(e.n+e.j)+1)+(929-e.t*l(e.coeffs,S(e.k-e.j)-1)%929))%929)}for(var le=e.n,K=S(e.n+e.k);le<=K;le+=1)b(e.cws,le,(929-l(e.cws,le))%929);e.cws=N(e.cws,0,e.cws.length-1);var be=l(e.options,"debugcws")!==void 0;be&&(r[t++]="bwipp.debugcws#19360",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.raps=s([s([802,930,946,818,882,890,826,954,922,986,970,906,778,794,786,914,978,982,980,916,948,932,934,942,940,936,808,812,814,806,822,950,918,790,788,820,884,868,870,878,876,872,840,856,860,862,846,844,836,838,834,866]),s([718,590,622,558,550,566,534,530,538,570,562,546,610,626,634,762,754,758,630,628,612,614,582,578,706,738,742,740,748,620,556,552,616,744,712,716,708,710,646,654,652,668,664,696,688,656,720,592,600,604,732,734])]),e.cwtobits=function(){var he=l(e.clusters,r[--t]);e.v=l(he,r[--t]),r[t++]=1/0;for(var Ae=0;Ae<17;Ae++)r[t++]=0;for(var we=qt(X(17),e.v,2),je=0,Oe=we.length;je<Oe;je++)r[t++]=l(we,je)-48;var _e=s();r[t++]=N(_e,_e.length-17,17)},e.raptobits=function(){var he=l(e.raps,r[--t]);e.v=l(he,r[--t]),r[t++]=1/0;for(var Ae=0;Ae<10;Ae++)r[t++]=0;for(var we=qt(X(10),e.v,2),je=0,Oe=we.length;je<Oe;je++)r[t++]=l(we,je)-48;var _e=s();r[t++]=N(_e,_e.length-10,10)},e.rwid=l(s([38,55,82,99]),e.c-1),e.c==3&&e.cca&&(e.rwid=72),e.pixs=s(e.rwid*e.r*e.rowmult);for(var J=0,fe=e.r-1;J<=fe;J+=1){e.i=J,e.clst=(S(e.i+e.rapl)-1)%3,r[t++]=1/0,e.c==1&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t]),r[t++]=l(e.cws,e.i),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),e.c==2&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t]),r[t++]=l(e.cws,e.i*2),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=l(e.cws,e.i*2+1),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),e.c==3&&(e.cca||(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),r[t++]=l(e.cws,e.i*3),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),U(r[--t]),r[t++]=l(e.cws,e.i*3+1),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=l(e.cws,e.i*3+2),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),e.c==4&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t]),r[t++]=l(e.cws,e.i*4),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=l(e.cws,e.i*4+1),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),U(r[--t]),r[t++]=l(e.cws,e.i*4+2),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=l(e.cws,e.i*4+3),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),r[t++]=1;var me=s();r[t++]=me;for(var ge=0,re=e.rowmult-1;ge<=re;ge+=1){var xe=r[t-1];R(e.pixs,(ge+e.i*e.rowmult)*e.rwid,xe)}t--}var ke=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=ke,e.dontdraw||xt(),e=a}function zi(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.columns=0,e.rows=0,e.format="unset",e.version="unset",e.parse=!1,e.parsefnc=!1,e.c40headerlength=-1,e.raw=!1,e.dmre=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.datamatrixEmptyData#19750",r[t++]="The data must not be empty",z()),Ee(e.version,"unset")&&(e.rows!=0||e.columns!=0)&&(r[t++]="bwipp.datamatrixVersionRowsCols#19754",r[t++]="rows and columns must not be given if version is specified",z()),Ee(e.version,"unset"))if(Tt(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Kt(s(2)),ve(r[--t],function(){var it=r[t-1];r[t++]=!0,it.length==0&&(r[t-1]=!1);var Pt=r[--t],Vt=r[--t];r[t++]=Pt,ve(Vt,function(){var Jt=r[--t];(Jt<48||Jt>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.datamatrixVersionBadRowOrColumn#19768",r[t++]="version must be formatted as RxC",z())}),e.rows=Ce(r[--t]),e.columns=Ce(r[--t]),r[t++]="format",e.rows==e.columns?r[t++]="square":r[t++]="rectangle";var c=r[--t];e[r[--t]]=c}else t--,r[t++]="bwipp.datamatrixVersionFormat#19775",r[t++]="version must be formatted as RxC",z();else if(V(e.format,"unset")){r[t++]="format",e.dmre?r[t++]="rectangle":r[t++]="square";var d=r[--t];e[r[--t]]=d}Ee(e.format,"square")&&Ee(e.format,"rectangle")&&(r[t++]="bwipp.datamatrixInvalidFormat#19784",r[t++]="The format must be either square or rectangle",z()),e.metrics=s([s([10,10,1,1,5,1,0]),s([12,12,1,1,7,1,0]),s([14,14,1,1,10,1,0]),s([16,16,1,1,12,1,0]),s([18,18,1,1,14,1,0]),s([20,20,1,1,18,1,0]),s([22,22,1,1,20,1,0]),s([24,24,1,1,24,1,0]),s([26,26,1,1,28,1,0]),s([32,32,2,2,36,1,0]),s([36,36,2,2,42,1,0]),s([40,40,2,2,48,1,0]),s([44,44,2,2,56,1,0]),s([48,48,2,2,68,1,0]),s([52,52,2,2,84,2,0]),s([64,64,4,4,112,2,0]),s([72,72,4,4,144,4,0]),s([80,80,4,4,192,4,0]),s([88,88,4,4,224,4,0]),s([96,96,4,4,272,4,0]),s([104,104,4,4,336,6,0]),s([120,120,6,6,408,6,0]),s([132,132,6,6,496,8,0]),s([144,144,6,6,620,10,0]),s([8,18,1,1,7,1,0]),s([8,32,1,2,11,1,0]),s([8,48,1,2,15,1,1]),s([8,64,1,4,18,1,1]),s([8,80,1,4,22,1,1]),s([8,96,1,4,28,1,1]),s([8,120,1,6,32,1,1]),s([8,144,1,6,36,1,1]),s([12,26,1,1,14,1,0]),s([12,36,1,2,18,1,0]),s([12,64,1,4,27,1,1]),s([12,88,1,4,36,1,1]),s([16,36,1,2,24,1,0]),s([16,48,1,2,28,1,0]),s([16,64,1,4,36,1,1]),s([20,36,1,2,28,1,1]),s([20,44,1,2,34,1,1]),s([20,64,1,4,42,1,1]),s([22,48,1,2,38,1,1]),s([24,48,1,2,41,1,1]),s([24,64,1,4,46,1,1]),s([26,40,1,2,38,1,1]),s([26,48,1,2,42,1,1]),s([26,64,1,4,50,1,1])]),e.urows=e.rows,e.ucols=e.columns,e.fullcws=s([]);for(var f=e.metrics,h=0,p=f.length;h<p;h++)e.m=l(f,h),e.rows=l(e.m,0),e.cols=l(e.m,1),e.regh=l(e.m,2),e.regv=l(e.m,3),e.rscw=l(e.m,4),e.rsbl=l(e.m,5),e.doly=l(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),V(e.format,"square")&&Ee(e.rows,e.cols)&&(e.okay=!1),V(e.format,"rectangle")&&V(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),e.okay&&(r[t++]=1/0,U(e.fullcws),r[t++]=e.ncws,e.fullcws=s());r[t++]=1/0;for(var m=0;m<1558;m++)r[t++]=1e4;e.numremcws=s();for(var v=e.fullcws,w=0,y=v.length;w<y;w++)b(e.numremcws,l(v,w)-1,1);for(var x=1556;x>=0;x-=1)e.i=x,l(e.numremcws,e.i)!=1&&b(e.numremcws,e.i,l(e.numremcws,e.i+1)+1);e.fnc1=-1,e.prog=-2,e.m05=-3,e.m06=-4,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lE=-9,e.unl=-10,e.sapp=-11,e.usft=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.unlcw=254,r[t++]=1/0;for(var g=0;g<=128;g+=1)r[t++]=g,r[t++]=g+1;r[t++]=e.pad,r[t++]=129;for(var A=0;A<=99;A+=1){var j=qt(X(2),A,10),C=_r(X(2),"00");R(C,2-j.length,j),r[t++]=C,r[t++]=A+130}var k=s([e.lC,e.lB,e.fnc1,e.sapp,e.prog,e.usft,e.m05,e.m06,e.lX,e.lT,e.lE,e.eci]);r[t++]=229;for(var E=0,B=k.length;E<B;E++){var I=r[--t]+1;r[t++]=l(k,E),r[t++]=I,r[t++]=I}t--,e.Avals=Pe(),r[t++]=1/0;for(var D=e.Avals,M=D.size,T=D.keys(),H=0;H<M;H++){var _=T.next().value;r[t++]=_;var F=1/0,Q=D.get(_);r[t++]=F,r[t++]=Q;var L=s();r[t++]=L}e.Avals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var ee=48;ee<=57;ee+=1)r[t++]=ee,r[t++]=ee-44;for(var se=65;se<=90;se+=1)r[t++]=se,r[t++]=se-51;e.CNvals=Pe(),r[t++]=1/0;for(var ue=0;ue<=31;ue+=1)r[t++]=ue,r[t++]=ue;e.C1vals=Pe(),r[t++]=1/0;for(var W=33;W<=47;W+=1)r[t++]=W,r[t++]=W-33;for(var G=58;G<=64;G+=1)r[t++]=G,r[t++]=G-43;for(var ne=91;ne<=95;ne+=1)r[t++]=ne,r[t++]=ne-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.C2vals=Pe(),r[t++]=1/0;for(var de=96;de<=127;de+=1)r[t++]=de,r[t++]=de-96;e.C3vals=Pe(),r[t++]=1/0;for(var te=e.CNvals,ae=te.size,ie=te.keys(),oe=0;oe<ae;oe++){var De=ie.next().value;r[t++]=De;var Ne=1/0,Le=te.get(De);r[t++]=Ne,r[t++]=Le;var Te=s();r[t++]=Te}for(var Ve=e.C1vals,Qe=Ve.size,ot=Ve.keys(),Ze=0;Ze<Qe;Ze++){var Fe=ot.next().value;r[t++]=Fe;var Ke=1/0,Je=Ve.get(Fe);r[t++]=Ke,r[t++]=l(e.CNvals,e.sft1),r[t++]=Je;var rt=s();r[t++]=rt}for(var Xe=e.C2vals,Se=Xe.size,pe=Xe.keys(),Ie=0;Ie<Se;Ie++){var Me=pe.next().value;r[t++]=Me;var Re=1/0,Ye=Xe.get(Me);r[t++]=Re,r[t++]=l(e.CNvals,e.sft2),r[t++]=Ye;var ze=s();r[t++]=ze}for(var mt=e.C3vals,lt=mt.size,ht=mt.keys(),yt=0;yt<lt;yt++){var jt=ht.next().value;r[t++]=jt;var wt=1/0,Dt=mt.get(jt);r[t++]=wt,r[t++]=l(e.CNvals,e.sft3),r[t++]=Dt;var Ct=s();r[t++]=Ct}e.Cvals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var Ut=48;Ut<=57;Ut+=1)r[t++]=Ut,r[t++]=Ut-44;for(var It=97;It<=122;It+=1)r[t++]=It,r[t++]=It-83;e.TNvals=Pe(),r[t++]=1/0;for(var kt=0;kt<=31;kt+=1)r[t++]=kt,r[t++]=kt;e.T1vals=Pe(),r[t++]=1/0;for(var P=33;P<=47;P+=1)r[t++]=P,r[t++]=P-33;for(var Y=58;Y<=64;Y+=1)r[t++]=Y,r[t++]=Y-43;for(var q=91;q<=95;q+=1)r[t++]=q,r[t++]=q-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.T2vals=Pe(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var O=65;O<=90;O+=1)r[t++]=O,r[t++]=O-64;for(var $=123;$<=127;$+=1)r[t++]=$,r[t++]=$-96;e.T3vals=Pe(),r[t++]=1/0;for(var le=e.TNvals,K=le.size,be=le.keys(),J=0;J<K;J++){var fe=be.next().value;r[t++]=fe;var me=1/0,ge=le.get(fe);r[t++]=me,r[t++]=ge;var re=s();r[t++]=re}for(var xe=e.T1vals,ke=xe.size,he=xe.keys(),Ae=0;Ae<ke;Ae++){var we=he.next().value;r[t++]=we;var je=1/0,Oe=xe.get(we);r[t++]=je,r[t++]=l(e.TNvals,e.sft1),r[t++]=Oe;var _e=s();r[t++]=_e}for(var Ge=e.T2vals,st=Ge.size,at=Ge.keys(),ye=0;ye<st;ye++){var He=at.next().value;r[t++]=He;var Ue=1/0,We=Ge.get(He);r[t++]=Ue,r[t++]=l(e.TNvals,e.sft2),r[t++]=We;var pt=s();r[t++]=pt}for(var vt=e.T3vals,ft=vt.size,gt=vt.keys(),nt=0;nt<ft;nt++){var Ft=gt.next().value;r[t++]=Ft;var et=1/0,Ht=vt.get(Ft);r[t++]=et,r[t++]=l(e.TNvals,e.sft3),r[t++]=Ht;var $t=s();r[t++]=$t}e.Tvals=Pe();for(var zt=128;zt<=255;zt+=1){e.i=zt,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,U(l(e.Avals,e.usft)),U(l(e.Avals,e.i-128));var nr=s(),Ir=r[--t];b(r[--t],Ir,nr),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,U(l(e.Cvals,e.usft)),U(l(e.Cvals,e.i-128));var ir=s(),br=r[--t];b(r[--t],br,ir),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,U(l(e.Tvals,e.usft)),U(l(e.Tvals,e.i-128));var sr=s(),Dr=r[--t];b(r[--t],Dr,sr)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var er=48;er<=57;er+=1)r[t++]=er,r[t++]=er-44;for(var ur=65;ur<=90;ur+=1)r[t++]=ur,r[t++]=ur-51;e.Xvals=Pe(),r[t++]=1/0;for(var Wt=e.Xvals,Xt=Wt.size,fr=Wt.keys(),Tr=0;Tr<Xt;Tr++){var Pr=fr.next().value;r[t++]=Pr;var ha=1/0,Rt=Wt.get(Pr);r[t++]=ha,r[t++]=Rt;var Yt=s();r[t++]=Yt}e.Xvals=Pe(),r[t++]=1/0;for(var rr=64;rr<=94;rr+=1)r[t++]=rr,r[t++]=rr-64;r[t++]=e.unl,r[t++]=31;for(var wr=32;wr<=63;wr+=1)r[t++]=wr,r[t++]=wr;e.Evals=Pe(),r[t++]=1/0;for(var or=e.Evals,Rr=or.size,lr=or.keys(),Lt=0;Lt<Rr;Lt++){var yr=lr.next().value;r[t++]=yr;var aa=1/0,pa=or.get(yr);r[t++]=aa,r[t++]=pa;var Aa=s();r[t++]=Aa}e.Evals=Pe(),r[t++]=1/0;for(var Qr=0;Qr<=255;Qr+=1)r[t++]=Qr,r[t++]=Qr;e.Bvals=Pe(),r[t++]=1/0;for(var Ca=e.Bvals,ba=Ca.size,Ma=Ca.keys(),da=0;da<ba;da++){var ka=Ma.next().value;r[t++]=ka;var Ia=1/0,ja=Ca.get(ka);r[t++]=Ia,r[t++]=ja;var Qa=s();r[t++]=Qa}if(e.Bvals=Pe(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,e.Evals,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.E=4,e.B=5,e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ce(N(e.barcode,e.i+1,3)),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=N(e.cws,0,e.j)}else{var Ha=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["PROG",e.prog]]);e.fncvals=Ha,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var Ka=r[--t];if(e[r[--t]]=Ka,e.msglen=e.msg.length,e.msglen>=9){U(N(e.msg,0,7));var ms=r[--t];r[t-1]=ms==29;var Ba=r[--t],Rs=r[--t],$a=r[--t],Qs=r[--t],Fa=r[--t],vs=r[--t];if(Ba&&Rs==48&&$a==30&&Qs==62&&Fa==41&&vs==91){U(N(e.msg,e.msglen-2,2));var Ts=r[--t],Ms=r[--t];Ts==4&&Ms==30&&(l(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,U(N(e.msg,7,e.msg.length-9)),e.msg=s()):l(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,U(N(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var Wa=0,Hs=e.msglen;Wa<Hs;Wa++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var Ja=0,xs=e.msglen;Ja<xs;Ja++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var _a=0,mn=e.msglen;_a<mn;_a++)r[t++]=0;r[t++]=9999,e.nextNonX=s(),r[t++]=1/0;for(var qa=0,Nn=e.msglen;qa<Nn;qa++)r[t++]=!1;r[t++]=!1,e.isECI=s();for(var Da=e.msglen-1;Da>=0;Da-=1){e.i=Da,e.barchar=l(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&b(e.numD,e.i,l(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?b(e.nextXterm,e.i,0):b(e.nextXterm,e.i,l(e.nextXterm,e.i+1)+1);var Js=l(e.Xvals,e.barchar)!==void 0;Js?b(e.nextNonX,e.i,l(e.nextNonX,e.i+1)+1):b(e.nextNonX,e.i,0),b(e.isECI,e.i,e.barchar<=-1e6)}r[t++]=1/0;for(var Pa=e.nextXterm,rn=0,os=Pa.length;rn<os;rn++){var Zt=l(Pa,rn);r[t++]=Zt,Zt>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var ea=e.nextNonX,Sa=0,Oa=ea.length;Sa<Oa;Sa++){var gs=l(ea,Sa);r[t++]=gs,gs>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var it=l(e.CNvals,e.char)!==void 0;r[t++]=it},e.isT=function(){var it=l(e.TNvals,e.char)!==void 0;r[t++]=it},e.isX=function(){var it=l(e.Xvals,e.char)!==void 0;r[t++]=it},e.isE=function(){var it=l(e.Evals,e.char)!==void 0;r[t++]=it},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var it=r[--t];r[t++]=hn(l(e.nextXterm,it),l(e.nextNonX,it))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.ec=2,e.bc=2.25,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.ec=1,e.bc=1.25),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.E&&(e.ec=0),e.mode==e.B&&(e.bc=0);for(var it=0;it<1;it++){if(l(e.isECI,e.i)){r[t++]=e.A;break}if(e.c40headerlength!=-1&&e.i<e.c40headerlength){r[t++]=e.C;break}for(e.k=0;;){if(e.i+e.k==e.msglen){for(var Pt=s(["ac","cc","tc","xc","ec","bc"]),Vt=0,Jt=Pt.length;Vt<Jt;Vt++){var Xr=l(Pt,Vt);e[Xr]=xr(e[Xr])}var ya=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var xa=0,ds=ya.length;xa<ds;xa++){var Gs=r[--t];r[t++]=Gs&&e.ac<=l(ya,xa)}if(r[--t]){r[t++]=e.A;break}var ln=s([e.ac,e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var cn=0,Hn=ln.length;cn<Hn;cn++){var bi=r[--t];r[t++]=bi&&e.bc<l(ln,cn)}if(r[--t]){r[t++]=e.B;break}var ri=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var O1=0,wi=ri.length;O1<wi;O1++){var ai=r[--t];r[t++]=ai&&e.ec<l(ri,O1)}if(r[--t]){r[t++]=e.E;break}var Qi=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var yi=0,Nc=Qi.length;yi<Nc;yi++){var Cc=r[--t];r[t++]=Cc&&e.tc<l(Qi,yi)}if(r[--t]){r[t++]=e.T;break}var cl=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var ko=0,Ic=cl.length;ko<Ic;ko++){var Bc=r[--t];r[t++]=Bc&&e.xc<l(cl,ko)}if(r[--t]){r[t++]=e.X;break}r[t++]=e.C;break}if(e.char=l(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Dc=r[--t];r[t++]=S(Dc+1/2)}else if(e.isEA(),r[--t]){var Rc=r[--t];r[t++]=xr(Rc)+2}else{var Tc=r[--t];r[t++]=xr(Tc)+1}var Mc=r[--t];if(e[r[--t]]=Mc,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var Fc=r[--t];r[t++]=S(Fc+.6666667)}else if(e.isEA(),r[--t]){var _c=r[--t];r[t++]=S(_c+2.6666667)}else{var Pc=r[--t];r[t++]=S(Pc+1.3333334)}var Oc=r[--t];if(e[r[--t]]=Oc,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var dl=r[--t];r[t++]=S(dl+.6666667)}else if(e.isEA(),r[--t]){var jo=r[--t];r[t++]=S(jo+2.6666667)}else{var Uc=r[--t];r[t++]=S(Uc+1.3333334)}var zc=r[--t];if(e[r[--t]]=zc,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var ul=r[--t];r[t++]=S(ul+.6666667)}else if(e.isEA(),r[--t]){var So=r[--t];r[t++]=S(So+4.3333334)}else{var Lc=r[--t];r[t++]=S(Lc+3.3333334)}var Qc=r[--t];if(e[r[--t]]=Qc,r[t++]="ec",r[t++]=e.ec,e.isE(),r[--t]){var fl=r[--t];r[t++]=S(fl+3/4)}else if(e.isEA(),r[--t]){var Eo=r[--t];r[t++]=S(Eo+17/4)}else{var Hc=r[--t];r[t++]=S(Hc+13/4)}var $c=r[--t];if(e[r[--t]]=$c,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var hl=r[--t];r[t++]=hl+4}else{var No=r[--t];r[t++]=No+1}var qc=r[--t];if(e[r[--t]]=qc,e.k>=4){var pl=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var Hi=0,Co=pl.length;Hi<Co;Hi++){var Gc=r[--t];r[t++]=Gc&&e.ac+1<=l(pl,Hi)}if(r[--t]){r[t++]=e.A;break}if(e.bc+1<=e.ac){r[t++]=e.B;break}var $n=s([e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var Yc=0,qu=$n.length;Yc<qu;Yc++){var Gu=r[--t];r[t++]=Gu&&e.bc+1<l($n,Yc)}if(r[--t]){r[t++]=e.B;break}var v2=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Vc=0,Yu=v2.length;Vc<Yu;Vc++){var Vu=r[--t];r[t++]=Vu&&e.ec+1<l(v2,Vc)}if(r[--t]){r[t++]=e.E;break}var x2=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var U1=0,Ku=x2.length;U1<Ku;U1++){var Wu=r[--t];r[t++]=Wu&&e.tc+1<l(x2,U1)}if(r[--t]){r[t++]=e.T;break}var m1=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Kc=0,Ju=m1.length;Kc<Ju;Kc++){var Xu=r[--t];r[t++]=Xu&&e.xc+1<l(m1,Kc)}if(r[--t]){r[t++]=e.X;break}var g2=s([e.ac,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Wc=0,Zu=g2.length;Wc<Zu;Wc++){var ef=r[--t];r[t++]=ef&&e.cc+1<l(g2,Wc)}if(r[--t]){if(e.cc<e.xc){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}}e.k=e.k+1}}},e.addtocws=function(){var it=r[--t];R(e.cws,e.j,it),e.j=it.length+e.j},e.ECItocws=function(){var it=-r[--t]-1e6;if(r[t++]=it,it<=126){var Pt=r[--t];r[t++]=Pt+1,Kt(s(1))}else{var Vt=r[t-1];if(Vt<=16382){var Jt=r[--t]-127;r[t++]=~~(Jt/254)+128,r[t++]=Jt%254+1,Kt(s(2))}else{var Xr=r[--t]-16383;r[t++]=~~(Xr/64516)+192,r[t++]=~~(Xr/254)%254+1,r[t++]=Xr%254+1,Kt(s(3))}}},e.encA=function(){for(var it=0;it<1;it++){if(l(e.isECI,e.i)){r[t++]=l(e.Avals,e.eci),e.addtocws(),r[t++]=l(e.msg,e.i),e.ECItocws(),e.addtocws(),e.i=e.i+1;break}if(l(e.numD,e.i)>=2){var Pt=X(2);b(Pt,0,l(e.msg,e.i)),b(Pt,1,l(e.msg,e.i+1)),r[t++]=l(e.Avals,Pt),e.addtocws(),e.i=e.i+2;break}r[t++]="newmode",e.lookup();var Vt=r[--t];if(e[r[--t]]=Vt,e.newmode!=e.mode){r[t++]=l(e.Avals,l(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var it=0,Pt=e.in.length-1;it<=Pt;it+=3){var Vt=N(e.in,it,3);r[t++]=0;for(var Jt=0,Xr=Vt.length;Jt<Xr;Jt++){var ya=r[--t];r[t++]=S(ya+l(Vt,Jt))*40}var xa=~~(r[--t]/40)+1;r[t++]=~~(xa/256),r[t++]=xa%256}Kt(s(ga()));var ds=r[--t];r[t-1]=ds},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2500),e.done=!1;e.i!=e.msglen;){var it=l(l(e.encvals,e.mode),l(e.msg,e.i))!==void 0;if(!it)break;if(e.p%3==0){if(e.p>0){r[t++]="newmode",e.lookup();var Pt=r[--t];if(e[r[--t]]=Pt,Ee(e.newmode,e.mode)){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.newmode!=e.A&&(r[t++]=l(e.Avals,l(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws()),e.mode=e.newmode,e.done=!0;break}}if(e.msglen-e.i<=3){e.remcws=l(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Vt=N(e.msg,e.i,e.msglen-e.i),Jt=0,Xr=Vt.length;Jt<Xr;Jt++){var ya=l(Vt,Jt),xa=l(l(e.encvals,e.mode),ya)!==void 0;r[t++]=ya,xa?U(l(l(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,U(N(e.ctxvals,0,e.p)),U(e.remvals);var ds=s();r[t++]=ds,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,U(N(e.ctxvals,0,e.p)),U(e.remvals),U(l(l(e.encvals,e.mode),e.sft1));var Gs=s();r[t++]=Gs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}}}var ln=l(l(e.encvals,e.mode),l(e.msg,e.i));R(e.ctxvals,e.p,ln),e.p=ln.length+e.p,e.i=e.i+1}if(!e.done){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-l(l(e.encvals,e.mode),l(e.msg,e.i)).length;r[t++]=1/0,U(N(e.ctxvals,0,e.p));var cn=s();if(r[t++]=cn,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!l(e.isECI,e.i))if(l(e.numD,e.i)>=2){var Hn=X(2);b(Hn,0,l(e.msg,e.i)),b(Hn,1,l(e.msg,e.i+1)),r[t++]=l(e.Avals,Hn),e.addtocws(),e.i=e.i+2}else r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.Evalstocws=function(){e.in=r[--t],e.inlen=e.in.length,e.outlen=~~xr(e.in.length/4*3),r[t++]=1/0,U(e.in),r[t++]=0,r[t++]=0,r[t++]=0,e.in=s(),r[t++]=1/0;for(var it=0,Pt=e.inlen-1;it<=Pt;it+=4){var Vt=N(e.in,it,4);r[t++]=0;for(var Jt=0,Xr=Vt.length;Jt<Xr;Jt++){var ya=r[--t];r[t++]=iT(ya,l(Vt,Jt))<<6}var xa=r[--t]>>>6;r[t++]=xa>>>16&255,r[t++]=xa>>>8&255,r[t++]=xa&255}Kt(s(ga()));var ds=r[--t];r[t-1]=ds;var Gs=N(r[--t],0,e.outlen);r[t++]=Gs},e.encE=function(){for(e.p=0,e.edifactvals=s(2100);e.i!=e.msglen;){var it=l(e.Evals,l(e.msg,e.i))!==void 0;if(!it)break;if(e.p%4==0){if(e.msglen-e.i<=2){e.remcws=l(e.numremcws,e.j+~~(e.p/4)*3),r[t++]=1/0;for(var Pt=N(e.msg,e.i,e.msglen-e.i),Vt=0,Jt=Pt.length;Vt<Jt;Vt++)U(l(e.Avals,l(Pt,Vt)));if(e.remvals=s(),(e.remcws==1||e.remcws==2)&&e.remvals.length<=e.remcws){r[t++]=N(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),r[t++]=e.remvals,e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}if(e.lookup(),r[--t]!=e.mode)break}var Xr=l(e.Evals,l(e.msg,e.i));R(e.edifactvals,e.p,Xr),e.p=Xr.length+e.p,e.i=e.i+1}if(e.mode!=e.A){if(e.remcws=l(e.numremcws,e.j+~~(e.p/4)*3-1)-1,e.p%4!=0||e.i!=e.msglen||e.remcws>=3){var ya=l(e.Evals,e.unl);R(e.edifactvals,e.p,ya),e.p=ya.length+e.p}if(r[t++]=N(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!l(e.isECI,e.i))if(l(e.numD,e.i)>=2){var xa=X(2);b(xa,0,l(e.msg,e.i)),b(xa,1,l(e.msg,e.i+1)),r[t++]=l(e.Avals,xa),e.addtocws(),e.i=e.i+2}else r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encB=function(){for(e.p=0,e.bvals=s(1558);!(e.i==e.msglen||(e.lookup(),r[--t]!=e.mode));)b(e.bvals,e.p,l(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=l(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),U(N(e.bvals,0,e.p)),e.bvals=s();for(var it=0,Pt=e.bvals.length-1;it<=Pt;it+=1){e.p=it;var Vt=S((e.j+e.p+1)*149%255+1+l(e.bvals,e.p));if(r[t++]=Vt,Vt>=256){var Jt=r[--t];r[t++]=Jt-256}b(e.bvals,e.p,r[--t])}r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1558),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[l(s(["encA","encCTX","encCTX","encCTX","encE","encB"]),e.mode)]()===!0););e.cws=N(e.cws,0,e.j)}if(e.datlen=e.cws.length,e.remcws=l(e.numremcws,e.j-1)-1,e.remcws>0){r[t++]=1/0,U(e.cws);for(var Hr=0,ls=e.remcws;Hr<ls;Hr++)r[t++]=129;e.cws=s();for(var bs=e.datlen+1,Ua=S(e.datlen+e.remcws)-1;bs<=Ua;bs+=1){e.i=bs;var Cn=(e.i+1)*149%253+1+129;if(r[t++]=Cn,Cn>254){var Ra=r[--t];r[t++]=Ra-254}b(e.cws,e.i,r[--t])}}var u1=l(e.options,"debugcws")!==void 0;u1&&(r[t++]="bwipp.debugcws#20411",r[t++]=e.cws,z());for(var $s=e.metrics,Ta=0,In=$s.length;Ta<In&&(e.m=l($s,Ta),e.rows=l(e.m,0),e.cols=l(e.m,1),e.regh=l(e.m,2),e.regv=l(e.m,3),e.rscw=l(e.m,4),e.rsbl=l(e.m,5),e.doly=l(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.rrows=~~(e.mrows/e.regh),e.rcols=~~(e.mcols/e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.cws.length!=e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),V(e.format,"square")&&Ee(e.rows,e.cols)&&(e.okay=!1),V(e.format,"rectangle")&&V(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),!e.okay);Ta++);e.okay||(r[t++]="bwipp.datamatrixNoValidSymbol#20439",r[t++]="Maximum length exceeded or invalid size",z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Xa=0,Bn=e.rsbl-1;Xa<=Bn;Xa+=1){e.i=Xa,e.cws.length!=1558?e.cwbsize=~~(e.cws.length/e.rsbl):e.i<=7?e.cwbsize=156:e.cwbsize=155,e.cwb=s(e.cwbsize);for(var ws=0,an=e.cwbsize-1;ws<=an;ws+=1)e.j=ws,b(e.cwb,e.j,l(e.cws,S(e.j*e.rsbl+e.i)));b(e.cwbs,e.i,e.cwb),r[t++]=e.ecbs,r[t++]=e.i,r[t++]=1/0;for(var sn=0,Jn=~~(e.rscw/e.rsbl);sn<Jn;sn++)r[t++]=0;var At=s(),Kr=r[--t];b(r[--t],Kr,At)}r[t++]=1/0,r[t++]=1;for(var sa=0;sa<255;sa++){var za=r[t-1],ua=za*2;if(r[t++]=ua,ua>=256){var Za=r[--t];r[t++]=Za^301}}e.rsalog=s(),e.rslog=s(256);for(var ys=1;ys<=255;ys+=1)b(e.rslog,l(e.rsalog,ys),ys);e.rsprod=function(){var it=r[t-1],Pt=r[t-2];if(it!=0&&Pt!=0){var Vt=l(e.rslog,r[--t]),Jt=l(e.rsalog,S(Vt+l(e.rslog,r[--t]))%255);r[t++]=Jt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var vn=0,dt=~~(e.rscw/e.rsbl);vn<dt;vn++)r[t++]=0;e.coeffs=s();for(var St=1,pr=~~(e.rscw/e.rsbl);St<=pr;St+=1){e.i=St,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var cr=e.i-1;cr>=1;cr-=1){e.j=cr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var hr=r[--t],Mr=r[--t],dr=r[--t];b(r[--t],dr,hs(Mr,hr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var na=r[--t],$r=r[--t];b(r[--t],$r,na)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1);for(var qr=0,Gr=e.cwbs.length-1;qr<=Gr;qr+=1){e.i=qr,e.cwb=l(e.cwbs,e.i),e.ecb=l(e.ecbs,e.i);for(var Wr=0,ma=e.cwb.length-1;Wr<=ma;Wr+=1){e.t=hs(l(e.cwb,Wr),l(e.ecb,0));for(var ta=e.ecb.length-1;ta>=0;ta-=1){e.j=ta,e.p=e.ecb.length-e.j-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=l(e.coeffs,e.j),e.rsprod();var Yr=r[--t],ia=r[--t];b(r[--t],ia,Yr),e.j>0&&b(e.ecb,e.p,hs(l(e.ecb,e.p+1),l(e.ecb,e.p)))}}}e.ncws==1558&&(r[t++]=1/0,U(N(e.ecbs,8,2)),U(N(e.ecbs,0,8)),e.ecbs=s()),r[t++]=1/0,U(e.cws);for(var Fr=0,Or=e.rscw;Fr<Or;Fr++)r[t++]=0;e.cws=s();for(var La=0,wa=e.rscw-1;La<=wa;La+=1)e.i=La,b(e.cws,S(e.ncws+e.i),l(l(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));e.module=function(){Ea(4,-1);var it=_r(X(8),"00000000");r[t++]=it,r[t++]=it;var Pt=qt(X(8),r[t-3],2);R(r[t-1],8-Pt.length,Pt),r[t-3]=r[t-2],t-=2;for(var Vt=7;Vt>=0;Vt-=1){var Jt=r[--t];r[t++]=l(Jt,Vt)-48,r[t++]=Jt}t--,Ea(11,-3),ve(r[--t],function(){if(r[--t]()===!0)return!0;var Xr=r[t-2];if(Xr<0){var ya=r[--t],xa=r[--t];r[t++]=S(xa+e.mrows),r[t++]=S(ya+(4-(e.mrows+4)%8))}var ds=r[t-1];if(ds<0){var Gs=r[--t],ln=r[--t];r[t++]=S(ln+(4-(e.mcols+4)%8)),r[t++]=S(Gs+e.mcols)}var cn=r[t-2];if(cn>=e.mrows){var Hn=r[--t],bi=r[--t];r[t++]=S(bi-e.mrows),r[t++]=Hn}var ri=r[--t],O1=r[--t];r[t++]=e.mmat,r[t++]=S(ri+O1*e.mcols),Ea(5,-1);var wi=r[--t],ai=r[--t];b(r[--t],ai,wi)})};var cs=s([function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt-2,r[t++]=it-2},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt-2,r[t++]=it-1},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt-1,r[t++]=it-2},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt-1,r[t++]=it-1},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt-1,r[t++]=it},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt,r[t++]=it-2},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt,r[t++]=it-1},function(){var it=r[t-1],Pt=r[t-2];r[t++]=Pt,r[t++]=it}]);e.dmn=cs;var Ns=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=1},function(){r[t++]=e.mrows-1,r[t++]=2},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc1=Ns;var nn=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-4},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc2=nn;var Fs=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc3=Fs;var ar=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=e.mcols-1},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-3},function(){r[t++]=1,r[t++]=e.mcols-2},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc4=ar,r[t++]=1/0;for(var Ar=0,Cr=e.mrows*e.mcols;Ar<Cr;Ar++)r[t++]=-1;e.mmat=s();for(var ra=e.cws.length-1;ra>=0;ra-=1)r[t++]=l(e.cws,ra);for(r[t++]=4,r[t++]=0;;){var Ur=r[t-1],oa=r[t-2];Ur==0&&oa==e.mrows&&(r[t++]=e.dmc1,e.module());var Jr=r[t-1],es=r[t-2];Jr==0&&es==e.mrows-2&&e.mcols%4!=0&&(r[t++]=e.dmc2,e.module());var ts=r[t-1],qs=r[t-2];ts==0&&qs==e.mrows-2&&e.mcols%8==4&&(r[t++]=e.dmc3,e.module());var xn=r[t-1],Dn=r[t-2];for(xn==2&&Dn==e.mrows+4&&e.mcols%8==0&&(r[t++]=e.dmc4,e.module());;){var Un=r[t-1],zn=r[t-2];if(Un>=0&&zn<e.mrows){var gn=r[t-1],f1=r[t-2];l(e.mmat,S(gn+f1*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var Ln=r[--t],h1=r[--t];if(r[t++]=h1-2,r[t++]=Ln+2,!(Ln+2<e.mcols&&h1-2>=0))break}var Z1=r[--t],p1=r[--t];for(r[t++]=p1+1,r[t++]=Z1+3;;){var ei=r[t-1],ti=r[t-2];if(ei<e.mcols&&ti>=0){var $e=r[t-1],bt=r[t-2];l(e.mmat,S($e+bt*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var mr=r[--t],Er=r[--t];if(r[t++]=Er+2,r[t++]=mr-2,!(mr-2>=0&&Er+2<e.mrows))break}var va=r[--t],rs=r[--t];if(r[t++]=rs+3,r[t++]=va+1,!(va+1<e.mcols||rs+3<e.mrows)){t-=2;break}}l(e.mmat,e.mrows*e.mcols-1)==-1&&(R(e.mmat,e.mrows*(e.mcols-1)-2,s([1,0])),R(e.mmat,e.mrows*e.mcols-2,s([0,1]))),e.pixs=s(e.rows*e.cols),e.cwpos=0;for(var as=0,Cs=e.rows-1;as<=Cs;as+=1){if(e.i=as,e.i%(e.rrows+2)==0){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var on=0,bn=~~(e.cols/2);on<bn;on++)r[t++]=1,r[t++]=0;var F1=s(),_1=r[--t];R(r[--t],_1,F1)}if(e.i%(e.rrows+2)==e.rrows+1){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var Qn=0,P1=e.cols;Qn<P1;Qn++)r[t++]=1;var Ao=s(),Li=r[--t];R(r[--t],Li,Ao)}if(e.i%(e.rrows+2)!=0&&e.i%(e.rrows+2)!=e.rrows+1)for(var ut=0,Gt=e.cols-1;ut<=Gt;ut+=1)e.j=ut,e.j%(e.rcols+2)==0&&b(e.pixs,S(e.i*e.cols+e.j),1),e.j%(e.rcols+2)==e.rcols+1&&b(e.pixs,S(e.i*e.cols+e.j),e.i%2),e.j%(e.rcols+2)!=0&&e.j%(e.rcols+2)!=e.rcols+1&&(b(e.pixs,S(e.i*e.cols+e.j),l(e.mmat,e.cwpos)),e.cwpos=e.cwpos+1)}var zr=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=zr,e.dontdraw||xt(),e=a}function VT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function KT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"dmre",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function WT(){var a=e;e=Object.assign({},e),e.type="unset",e.parse=!1,e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse;var o=e.type;Ee(o,"7")&&Ee(o,"9")&&Ee(o,"29")&&(r[t++]="bwipp.mailmarkBadType#20820",r[t++]="Royal Mail Mailmark type must be 7, 9 or 29",z());var c=new Map([["7","24x24"],["9","32x32"],["29","16x48"]]);e.version=l(c,e.type);var d=new Map([["7","square"],["9","square"],["29","rectangle"]]);e.format=l(d,e.type),e.barcode.length<45&&(r[t++]="bwipp.mailmarkBadLength#20836",r[t++]="Royal Mail Mailmark must contain at least 45 characters of Mailmark formatted data, including any required space padding",z()),Ee(N(e.barcode,0,4),"JGB ")&&(r[t++]="bwipp.mailmarkBadIndicator#20839",r[t++]="Royal Mail Mailmark must begin with JGB<space> identifier",z()),b(e.options,"dontdraw",!0),b(e.options,"version",e.version),b(e.options,"format",e.format),b(e.options,"c40headerlength",45),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var f=r[--t];e[r[--t]]=f,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function ll(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="unset",e.version="unset",e.eclevel="unset",e.fixedeclevel=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,e.suppresskanjimode=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.qrcodeEmptyData#20904",r[t++]="The data must not be empty",z()),Ee(e.version,"unset")?V(e.format,"unset")&&(r[t++]="full",V(N(e.version,0,1),"M")&&(r[t-1]="micro"),V(N(e.version,0,1),"R")&&(r[t-1]="rmqr"),e.format=r[--t]):V(e.format,"unset")&&(e.format="full"),Ee(e.format,"full")&&Ee(e.format,"micro")&&Ee(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeInvalidFormat#20920",r[t++]="The format must be either full, micro or rmqr",z()),V(e.format,"rmqr")&&V(e.version,"unset")&&(r[t++]="bwipp.qrcodeRMQRwithoutVersion#20924",r[t++]="A version must be provided for RMQR",z()),V(e.eclevel,"unset")){r[t++]="eclevel",Ee(e.format,"micro")?r[t++]="M":r[t++]="L";var n=r[--t];e[r[--t]]=n}if(Ee(e.eclevel,"L")&&Ee(e.eclevel,"M")&&Ee(e.eclevel,"Q")&&Ee(e.eclevel,"H")&&(r[t++]="bwipp.qrcodeInvalidEClevel#20931",r[t++]="Error correction level must be either L, M, Q, or H",z()),e.mask!=-1&&V(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeRMQRmask#20935",r[t++]="A mask cannot be supplied for RMQR",z()),e.mask!=-1){var i=V(e.format,"full")?8:4;(e.mask<1||e.mask>i)&&(r[t++]="bwipp.qrcodeBadMask#20940",r[t++]="An invalid mask was supplied",z())}e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var c=r[--t];if(e[r[--t]]=c,e.msglen=e.msg.length,e.fnc1first=!1,e.msglen>0&&l(e.msg,0)==e.fn1){e.fnc1first=!0,r[t++]=1/0;for(var d=N(e.msg,1,e.msglen-1),f=0,h=d.length;f<h;f++){var p=l(d,f);if(r[t++]=p,p==37){var m=r[t-1];r[t++]=m}}e.msg=s(),e.msglen=e.msg.length}var v=s(["v1to9","v10to26","v27to40","vM1","vM2","vM3","vM4","vR7x43","vR7x59","vR7x77","vR7x99","vR7x139","vR9x43","vR9x59","vR9x77","vR9x99","vR9x139","vR11x27","vR11x43","vR11x59","vR11x77","vR11x99","vR11x139","vR13x27","vR13x43","vR13x59","vR13x77","vR13x99","vR13x139","vR15x43","vR15x59","vR15x77","vR15x99","vR15x139","vR17x43","vR17x59","vR17x77","vR17x99","vR17x139"]);r[t++]=0;for(var w=0,y=v.length;w<y;w++){var x=r[--t];e[l(v,w)]=x,r[t++]=x+1}t--,e.N=0,e.A=1,e.B=2,e.K=3,e.E=4,r[t++]=1/0,r[t++]=1/0;for(var g=48;g<=57;g+=1)r[t++]=g;for(var A=s(),j=0,C=A.length;j<C;j++)r[t++]=l(A,j),r[t++]=-1;e.Nexcl=Pe(),r[t++]=1/0,r[t++]=1/0,r[t++]=32,r[t++]=36,r[t++]=37,r[t++]=42,r[t++]=43,r[t++]=45,r[t++]=46,r[t++]=47,r[t++]=58;for(var k=65;k<=90;k+=1)r[t++]=k;r[t++]=e.fn1;for(var E=s(),B=0,I=E.length;B<I;B++)r[t++]=l(E,B),r[t++]=-1;e.Aexcl=Pe(),r[t++]=1/0,r[t++]=1/0;for(var D=129;D<=159;D+=1)r[t++]=D;for(var M=224;M<=235;M+=1)r[t++]=M;for(var T=s(),H=0,_=T.length;H<_;H++)r[t++]=l(T,H),r[t++]=-1;e.Kexcl=Pe(),r[t++]=1/0,r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["",-1,-1,-1,-1]),r[t++]=s(["0","1",-1,-1,-1]),r[t++]=s(["00","01","10","11",-1]),r[t++]=s(["000","001","010","011",-1]);for(var F=0;F<32;F++)r[t++]=s(["001","010","011","100","111"]);e.mids=s(),e.cclens=s([s([10,9,8,8]),s([12,11,16,10]),s([14,13,16,12]),s([3,-1,-1,-1]),s([4,3,-1,-1]),s([5,4,4,3]),s([6,5,5,4]),s([4,3,3,2]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([4,4,3,2]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([5,5,4,3]),s([6,6,5,5]),s([7,6,6,5]),s([7,7,6,6]),s([8,7,7,6]),s([8,8,7,7]),s([7,6,6,5]),s([7,7,6,5]),s([8,7,7,6]),s([8,7,7,6]),s([9,8,7,7]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([8,8,7,6]),s([9,8,8,7])]),r[t++]=1/0;for(var Q=0;Q<3;Q++)r[t++]=4;r[t++]=3,r[t++]=5,r[t++]=7,r[t++]=9;for(var L=0;L<32;L++)r[t++]=3;e.termlens=s(),e.padstrs=s(["11101100","00010001"]),e.charmap="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.charvals=new Map;for(var ee=0;ee<=44;ee+=1)b(e.charvals,l(e.charmap,ee),ee);e.tobin=function(){var $e=X(r[--t]);r[t++]=$e;for(var bt=0,mr=$e.length-1;bt<=mr;bt+=1){var Er=r[t-1];b(Er,bt,48)}var va=r[t-1];r[t++]=va;var rs=r[t-3],as=r[t-1];r[t-3]=r[t-2],t-=2;var Cs=qt(X(as.length),rs,2);R(as,as.length-Cs.length,Cs)},e.encA=function(){for(e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ve(e.in,function(){var bt=r[t-1];bt==e.fn1&&(r[t-1]=37)}),e.in=s()),e.out=X(~~(e.in.length*11/2)+1),e.k=0,e.m=0;e.k!=e.in.length;){e.k<e.in.length-1?(r[t++]=S(l(e.charvals,l(e.in,e.k))*45+l(e.charvals,l(e.in,e.k+1))),r[t++]=11,e.tobin(),e.k=e.k+2):(r[t++]=l(e.charvals,l(e.in,e.k)),r[t++]=6,e.tobin(),e.k=e.k+1);var $e=r[--t];R(e.out,e.m,$e),e.m=$e.length+e.m}r[t++]=N(e.out,0,e.m)},e.encN=function(){for(e.in=r[--t],e.out=X(~~(e.in.length*10/3)+1),e.k=0,e.m=0;e.k!=e.in.length;){if(e.k<e.in.length-2){var $e=N(e.in,e.k,3);r[t++]=0;for(var bt=0,mr=$e.length;bt<mr;bt++){var Er=r[--t];r[t++]=S(l($e,bt)+(Er*10-48))}r[t++]=10,e.tobin(),e.k=e.k+3}else if(e.k==e.in.length-2){var va=N(e.in,e.k,2);r[t++]=0;for(var rs=0,as=va.length;rs<as;rs++){var Cs=r[--t];r[t++]=S(l(va,rs)+(Cs*10-48))}r[t++]=7,e.tobin(),e.k=e.k+2}else{var on=N(e.in,e.k,1);r[t++]=0;for(var bn=0,F1=on.length;bn<F1;bn++){var _1=r[--t];r[t++]=S(l(on,bn)+(_1*10-48))}r[t++]=4,e.tobin(),e.k=e.k+1}var Qn=r[--t];R(e.out,e.m,Qn),e.m=Qn.length+e.m}r[t++]=N(e.out,0,e.m)},e.encB=function(){e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ve(e.in,function(){var va=r[t-1];va==e.fn1&&(r[t-1]=29)}),e.in=s()),e.out=X(e.in.length*8);for(var $e=0,bt=e.in.length-1;$e<=bt;$e+=1){e.k=$e,r[t++]=Ce(l(e.in,e.k)),r[t++]=8,e.tobin(),r[t++]=e.out,r[t++]=e.k*8;var mr=r[t-3],Er=r[t-1];R(r[t-2],Er,mr),t-=3}r[t++]=e.out},e.encK=function(){for(e.in=r[--t],e.out=X(~~(e.in.length/2)*13),e.k=0,e.m=0;e.k!=e.in.length;){var $e=S(l(e.in,e.k)*256+l(e.in,e.k+1));r[t++]=$e,$e<57408?r[t++]=33088:r[t++]=49472;var bt=r[--t],mr=S(r[--t]-bt);r[t++]=S((mr>>>8)*192+(mr&255)),r[t++]=13,e.tobin();var Er=r[--t];R(e.out,e.m,Er),e.m=Er.length+e.m,e.k=e.k+2}r[t++]=e.out},e.encE=function(){var $e=-l(r[--t],0)-1e6;if(r[t++]=$e,$e<=127)r[t++]=8,e.tobin();else{var bt=r[t-1];if(bt<=16383){var mr=r[--t];r[t++]=mr+32768,r[t++]=16,e.tobin()}else{var Er=r[--t];r[t++]=Er+12582912,r[t++]=24,e.tobin()}}},e.encfuncs=s(["encN","encA","encB","encK","encE"]),e.addtobits=function(){var $e=r[--t];R(e.bits,e.j,$e),e.j=$e.length+e.j},r[t++]=1/0;for(var se=0,ue=e.msglen;se<ue;se++)r[t++]=0;r[t++]=0,e.numNs=s(),r[t++]=1/0;for(var W=0,G=e.msglen;W<G;W++)r[t++]=0;r[t++]=0,e.numAs=s(),r[t++]=1/0;for(var ne=0,de=e.msglen;ne<de;ne++)r[t++]=0;r[t++]=0,e.numAorNs=s(),r[t++]=1/0;for(var te=0,ae=e.msglen;te<ae;te++)r[t++]=0;r[t++]=0,e.numBs=s(),r[t++]=1/0;for(var ie=0,oe=e.msglen;ie<oe;ie++)r[t++]=0;r[t++]=0,e.numKs=s(),r[t++]=1/0;for(var De=0,Ne=e.msglen;De<Ne;De++)r[t++]=0;r[t++]=9999,e.nextNs=s(),r[t++]=1/0;for(var Le=0,Te=e.msglen;Le<Te;Le++)r[t++]=0;r[t++]=9999,e.nextBs=s(),r[t++]=1/0;for(var Ve=0,Qe=e.msglen;Ve<Qe;Ve++)r[t++]=0;r[t++]=9999,e.nextAs=s(),r[t++]=1/0;for(var ot=0,Ze=e.msglen;ot<Ze;ot++)r[t++]=0;r[t++]=9999,e.nextKs=s(),e.isECI=s(e.msglen);for(var Fe=e.msglen-1;Fe>=0;Fe-=1){e.i=Fe,e.barchar=l(e.msg,e.i);var Ke=l(e.Kexcl,e.barchar)!==void 0;if(Ke&&!e.suppresskanjimode){e.i+1<e.msglen?r[t++]=S(e.barchar*256+l(e.msg,e.i+1)):r[t++]=0;var Je=r[--t],rt=Je&255;(Je>=33088&&Je<=40956||Je>=57408&&Je<=60351)&&rt>=64&&rt<=252&&rt!=127?(b(e.nextKs,e.i,0),b(e.numKs,e.i,l(e.numKs,e.i+2)+1)):b(e.nextKs,e.i,l(e.nextKs,e.i+1)+1)}else b(e.nextKs,e.i,l(e.nextKs,e.i+1)+1);var Xe=l(e.Nexcl,e.barchar)!==void 0;Xe?(b(e.nextNs,e.i,0),b(e.numNs,e.i,l(e.numNs,e.i+1)+1),b(e.numAorNs,e.i,l(e.numAorNs,e.i+1)+1)):b(e.nextNs,e.i,l(e.nextNs,e.i+1)+1);var Se=l(e.Aexcl,e.barchar)!==void 0;Se?(b(e.nextAs,e.i,0),b(e.numAs,e.i,l(e.numAs,e.i+1)+1),b(e.numAorNs,e.i,l(e.numAorNs,e.i+1)+1)):b(e.nextAs,e.i,l(e.nextAs,e.i+1)+1),b(e.isECI,e.i,e.barchar<=-1e6)}for(var pe=0,Ie=e.msglen-1;pe<=Ie;pe+=1)e.i=pe,l(e.numKs,e.i)>0&&(b(e.numKs,e.i+1,0),b(e.nextKs,e.i+1,l(e.nextKs,e.i+1)+1));for(var Me=e.msglen-1;Me>=0;Me-=1)e.i=Me,S(l(e.numNs,e.i)+(l(e.numAs,e.i)+l(e.numKs,e.i)))==0&&!l(e.isECI,e.i)?(b(e.nextBs,e.i,0),b(e.numBs,e.i,l(e.numBs,e.i+1)+1)):b(e.nextBs,e.i,l(e.nextBs,e.i+1)+1);e.KbeforeB=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numK,$e)&&l(e.nextBs,S(e.numK*2+e.i))==0},e.KbeforeA=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numK,$e)&&l(e.nextAs,S(e.numK*2+e.i))==0},e.KbeforeN=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numK,$e)&&l(e.nextNs,S(e.numK*2+e.i))==0},e.KbeforeE=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numK,$e)&&S(e.numK*2+e.i)==e.msglen},e.AbeforeK=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numA,$e)&&l(e.nextKs,S(e.numA+e.i))==0},e.AbeforeB=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numA,$e)&&l(e.nextBs,S(e.numA+e.i))==0},e.AbeforeN=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numA,$e)&&l(e.nextNs,S(e.numA+e.i))==0},e.AbeforeE=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numA,$e)&&S(e.numA+e.i)==e.msglen},e.NbeforeK=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numN,$e)&&l(e.nextKs,S(e.numN+e.i))==0},e.NbeforeB=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numN,$e)&&l(e.nextBs,S(e.numN+e.i))==0},e.NbeforeA=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numN,$e)&&l(e.nextAs,S(e.numN+e.i))==0},e.NbeforeE=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numN,$e)&&S(e.numN+e.i)==e.msglen},e.AorNbeforeB=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numAorN,$e)&&l(e.nextBs,S(e.numAorN+e.i))==0},e.AorNbeforeE=function(){var $e=l(r[--t],e.ver);r[t++]=qn(e.numAorN,$e)&&S(e.numAorN+e.i)==e.msglen},e.nextNslt=function(){if(l(e.nextNs,e.i)>=e.msglen)r[t-1]=!0;else{var $e=l(r[--t],e.ver);r[t++]=hn(l(e.numNs,S(l(e.nextNs,e.i)+e.i)),$e)}},r[t++]=1/0,r[t++]="full",r[t++]=1/0;for(var Re=0;Re<=9;Re+=1)r[t++]=qt(X(2),Re,10),r[t++]=e.v1to9;for(var Ye=10;Ye<=26;Ye+=1)r[t++]=qt(X(2),Ye,10),r[t++]=e.v10to26;for(var ze=27;ze<=40;ze+=1)r[t++]=qt(X(2),ze,10),r[t++]=e.v27to40;var mt=Pe(),lt=new Map([["M1",e.vM1],["M2",e.vM2],["M3",e.vM3],["M4",e.vM4]]),ht=new Map([["R7x43",e.vR7x43],["R7x59",e.vR7x59],["R7x77",e.vR7x77],["R7x99",e.vR7x99],["R7x139",e.vR7x139],["R9x43",e.vR9x43],["R9x59",e.vR9x59],["R9x77",e.vR9x77],["R9x99",e.vR9x99],["R9x139",e.vR9x139],["R11x27",e.vR11x27],["R11x43",e.vR11x43],["R11x59",e.vR11x59],["R11x77",e.vR11x77],["R11x99",e.vR11x99],["R11x139",e.vR11x139],["R13x27",e.vR13x27],["R13x43",e.vR13x43],["R13x59",e.vR13x59],["R13x77",e.vR13x77],["R13x99",e.vR13x99],["R13x139",e.vR13x139],["R15x43",e.vR15x43],["R15x59",e.vR15x59],["R15x77",e.vR15x77],["R15x99",e.vR15x99],["R15x139",e.vR15x139],["R17x43",e.vR17x43],["R17x59",e.vR17x59],["R17x77",e.vR17x77],["R17x99",e.vR17x99],["R17x139",e.vR17x139]]);if(r[t++]=mt,r[t++]="micro",r[t++]=lt,r[t++]="rmqr",r[t++]=ht,e.versetmap=Pe(),e.versetfull=s([e.v1to9,e.v10to26,e.v27to40]),e.versetmicro=s([e.vM1,e.vM2,e.vM3,e.vM4]),Ee(e.version,"unset")){var yt=l(e.versetmap,e.format),jt=e.version,wt=l(yt,jt)!==void 0;r[t++]=yt,r[t++]=jt,wt||(t-=2,V(e.format,"full")?(r[t++]="bwipp.qrcodeInvalidFullVersion#21296",r[t++]="Valid versions for QR Code symbols are 1 to 40",z()):V(e.format,"micro")?(r[t++]="bwipp.qrcodeInvalidMicroVersion#21299",r[t++]="Valid versions for Micro QR Code symbols are M1 to M4",z()):(r[t++]="bwipp.qrcodeInvalidRMQRversion#21301",r[t++]="Invalid version for an RMQR symbol",z()));var Dt=r[--t],Ct=l(r[--t],Dt),Ut=1/0,It=Ct;r[t++]=Ut,r[t++]=It,e.verset=s()}else V(e.format,"full")&&(e.verset=e.versetfull),V(e.format,"micro")&&(e.verset=e.versetmicro);r[t++]=1/0;for(var kt=0;kt<39;kt++)r[t++]=-1;e.msgbits=s(),e.e=1e4,e.mode0forceKB=s([1,1,1,e.e,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceA=s([1,1,1,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceN=s([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0NbeforeB=s([4,4,5,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeBKbeforeB=s([9,12,13,e.e,e.e,4,6,4,5,6,6,6,5,6,6,6,7,4,6,6,6,7,7,5,6,6,7,7,7,6,6,7,7,7,6,7,7,7,8]),e.modeBKbeforeA=s([8,10,11,e.e,e.e,4,5,4,5,5,6,6,5,5,6,6,6,4,5,6,6,6,6,5,6,6,6,6,7,6,6,6,6,7,6,6,6,7,7]),e.modeBKbeforeN=s([8,9,11,e.e,e.e,3,5,3,4,5,5,5,4,5,5,5,6,3,5,5,5,6,6,4,5,5,6,6,6,5,5,6,6,7,5,6,6,6,7]),e.modeBKbeforeE=s([5,5,6,e.e,e.e,2,3,2,3,3,3,3,3,3,3,3,4,2,3,3,3,4,4,3,3,3,4,4,4,3,3,4,4,4,3,4,4,4,4]),e.modeBAbeforeK=s([11,12,14,e.e,e.e,5,7,5,6,7,8,8,6,7,8,8,8,6,7,8,8,8,8,6,8,8,8,8,9,8,8,8,8,9,8,8,8,9,9]),e.modeBAbeforeB=s([11,15,16,e.e,e.e,6,7,6,7,7,8,8,7,7,8,8,8,6,7,8,8,8,9,7,8,8,8,9,9,8,8,9,9,9,8,8,9,9,10]),e.modeBAbeforeN=s([12,13,15,e.e,e.e,6,8,6,7,8,8,8,7,8,8,8,9,6,8,8,8,9,9,7,8,8,9,9,10,8,9,9,9,10,8,9,9,10,10]),e.modeBAbeforeE=s([6,7,8,e.e,e.e,3,4,3,4,4,4,4,4,4,4,4,5,4,4,4,4,5,5,4,4,4,5,5,5,4,5,5,5,5,4,5,5,5,5]),e.modeBNbeforeK=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5]),e.modeBNbeforeB=s([6,8,9,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,6]),e.modeBNbeforeA=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,4,4,5,5,5,5,4,5,5,5,5,5,5,5,5,5,6,5,5,5,5,6]),e.modeBNbeforeE=s([3,4,4,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeANbeforeA=s([13,15,17,e.e,5,7,9,7,8,9,9,9,8,9,9,9,11,7,9,9,9,11,11,8,9,9,10,11,11,9,10,11,11,11,9,11,11,11,11]),e.modeANbeforeB=s([13,17,18,e.e,e.e,7,9,7,8,9,9,9,8,9,9,9,10,7,9,9,9,10,11,8,9,9,9,11,11,9,9,11,11,11,9,10,11,11,11]),e.modeANbeforeE=s([7,8,9,e.e,3,4,5,4,5,5,5,5,5,5,5,5,6,4,5,5,5,6,6,5,5,5,5,6,6,5,5,6,6,6,5,6,6,6,6]);for(var P=e.verset,Y=0,q=P.length;Y<q;Y++){for(e.ver=l(P,Y),e.mode=-1,e.seq=s([]),e.i=0;!(e.i>=e.msglen);){if(e.numK=l(e.numKs,e.i),e.numB=l(e.numBs,e.i),e.numA=l(e.numAs,e.i),e.numN=l(e.numNs,e.i),e.numAorN=l(e.numAorNs,e.i),e.eci=l(e.isECI,e.i),V(e.ver,e.vM1)&&e.numA>=1){e.seq=-1;break}if(V(e.ver,e.vM1)&&e.numB>=1){e.seq=-1;break}if(V(e.ver,e.vM1)&&e.numK>=1){e.seq=-1;break}if(V(e.ver,e.vM1)&&e.eci){e.seq=-1;break}if(V(e.ver,e.vM2)&&e.numB>=1){e.seq=-1;break}if(V(e.ver,e.vM2)&&e.numK>=1){e.seq=-1;break}if(V(e.ver,e.vM2)&&e.eci){e.seq=-1;break}if(V(e.ver,e.vM3)&&e.eci){e.seq=-1;break}if(V(e.ver,e.vM4)&&e.eci){e.seq=-1;break}for(;;){if(e.eci){r[t++]=e.E;break}if(e.mode==-1){if(r[t++]=e.mode0forceKB,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(e.numK>=1){r[t++]=e.B;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceKB,e.NbeforeB(),r[--t]){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeE,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceN,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AorNbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.mode0forceA,e.AorNbeforeE(),r[--t]){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.B){if(r[t++]=e.modeBKbeforeB,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeA,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeN,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBAbeforeK,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeB,e.AbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeN,e.AbeforeN(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeE(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBNbeforeK,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}r[t++]=e.modeBAbeforeE,e.AorNbeforeE();var O=r[--t];if(O&&dc(e.numAorN,l(e.modeBAbeforeN,e.ver))&&(r[t++]=e.modeBNbeforeA,e.nextNslt(),r[--t])){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.A){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(e.numA>=1||e.numN>=1){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.N){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}r[t++]=e.B;break}if(e.mode==e.K){if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}if(e.numK>=1){r[t++]=e.K;break}r[t++]=e.B;break}}var $=r[t-1];$==e.K&&e.fnc1first&&(r[t-1]=e.B);var le=r[t-1];if(le==e.mode){t--;var K=e.mode==e.K?2:1;e.dat=N(e.msg,e.i,K),r[t++]=1/0,U(e.seq),r[t++]=1/0;var be=r[--t],J=r[--t];r[t++]=be,U(J),U(e.dat);var fe=s();r[t++]=fe,e.seq=s()}else e.mode=r[--t],e.mode==e.K&&(r[t++]=e.K,r[t++]=N(e.msg,e.i,e.numK*2)),e.mode==e.B&&(r[t++]=e.B,r[t++]=N(e.msg,e.i,e.numB)),e.mode==e.A&&(r[t++]=e.A,r[t++]=N(e.msg,e.i,e.numA)),e.mode==e.N&&(r[t++]=e.N,r[t++]=N(e.msg,e.i,e.numN)),e.mode==e.E&&(e.mode=-1,r[t++]=e.E,r[t++]=N(e.msg,e.i,1)),e.dat=r[--t],e.sw=r[--t],r[t++]=1/0,U(e.seq),r[t++]=e.sw,r[t++]=e.dat,e.seq=s();e.i=e.i+e.dat.length}for(;e.seq!=-1;){e.bits=X(23648),e.j=0,e.fnc1first&&(hn(e.ver,e.vR7x43)?r[t++]="0101":r[t++]="101",e.addtobits()),e.abort=!1;for(var me=0,ge=e.seq.length-1;me<=ge;me+=2){if(e.i=me,e.mode=l(e.seq,e.i),r[t++]=l(l(e.mids,e.ver),e.mode),e.addtobits(),e.chars=l(e.seq,e.i+1),r[t++]="charslen",r[t++]=e.chars.length,e.mode==e.K){var re=r[--t];r[t++]=~~(re/2)}var xe=r[--t];if(e[r[--t]]=xe,e.mode!=e.E){if(e.cclen=l(l(e.cclens,e.ver),e.mode),e.charslen>=~~l1(2,e.cclen)){e.abort=!0;break}r[t++]=e.charslen,r[t++]=e.cclen,e.tobin(),e.addtobits()}if(r[t++]=e.chars,e[l(e.encfuncs,e.mode)]()===!0)break;e.addtobits()}if(e.abort)break;e.bits=N(e.bits,0,e.j),b(e.msgbits,e.ver,e.bits);break}}e.metrics=s([s(["micro","M1",e.vM1,11,11,98,99,36,s([2,99,99,99]),s([1,0,-1,-1,-1,-1,-1,-1])]),s(["micro","M2",e.vM2,13,13,98,99,80,s([5,6,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M3",e.vM3,15,15,98,99,132,s([6,8,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M4",e.vM4,17,17,98,99,192,s([8,10,14,99]),s([1,0,1,0,1,0,-1,-1])]),s(["full","1",e.v1to9,21,21,98,99,208,s([7,10,13,17]),s([1,0,1,0,1,0,1,0])]),s(["full","2",e.v1to9,25,25,18,99,359,s([10,16,22,28]),s([1,0,1,0,1,0,1,0])]),s(["full","3",e.v1to9,29,29,22,99,567,s([15,26,36,44]),s([1,0,1,0,2,0,2,0])]),s(["full","4",e.v1to9,33,33,26,99,807,s([20,36,52,64]),s([1,0,2,0,2,0,4,0])]),s(["full","5",e.v1to9,37,37,30,99,1079,s([26,48,72,88]),s([1,0,2,0,2,2,2,2])]),s(["full","6",e.v1to9,41,41,34,99,1383,s([36,64,96,112]),s([2,0,4,0,4,0,4,0])]),s(["full","7",e.v1to9,45,45,22,38,1568,s([40,72,108,130]),s([2,0,4,0,2,4,4,1])]),s(["full","8",e.v1to9,49,49,24,42,1936,s([48,88,132,156]),s([2,0,2,2,4,2,4,2])]),s(["full","9",e.v1to9,53,53,26,46,2336,s([60,110,160,192]),s([2,0,3,2,4,4,4,4])]),s(["full","10",e.v10to26,57,57,28,50,2768,s([72,130,192,224]),s([2,2,4,1,6,2,6,2])]),s(["full","11",e.v10to26,61,61,30,54,3232,s([80,150,224,264]),s([4,0,1,4,4,4,3,8])]),s(["full","12",e.v10to26,65,65,32,58,3728,s([96,176,260,308]),s([2,2,6,2,4,6,7,4])]),s(["full","13",e.v10to26,69,69,34,62,4256,s([104,198,288,352]),s([4,0,8,1,8,4,12,4])]),s(["full","14",e.v10to26,73,73,26,46,4651,s([120,216,320,384]),s([3,1,4,5,11,5,11,5])]),s(["full","15",e.v10to26,77,77,26,48,5243,s([132,240,360,432]),s([5,1,5,5,5,7,11,7])]),s(["full","16",e.v10to26,81,81,26,50,5867,s([144,280,408,480]),s([5,1,7,3,15,2,3,13])]),s(["full","17",e.v10to26,85,85,30,54,6523,s([168,308,448,532]),s([1,5,10,1,1,15,2,17])]),s(["full","18",e.v10to26,89,89,30,56,7211,s([180,338,504,588]),s([5,1,9,4,17,1,2,19])]),s(["full","19",e.v10to26,93,93,30,58,7931,s([196,364,546,650]),s([3,4,3,11,17,4,9,16])]),s(["full","20",e.v10to26,97,97,34,62,8683,s([224,416,600,700]),s([3,5,3,13,15,5,15,10])]),s(["full","21",e.v10to26,101,101,28,50,9252,s([224,442,644,750]),s([4,4,17,0,17,6,19,6])]),s(["full","22",e.v10to26,105,105,26,50,10068,s([252,476,690,816]),s([2,7,17,0,7,16,34,0])]),s(["full","23",e.v10to26,109,109,30,54,10916,s([270,504,750,900]),s([4,5,4,14,11,14,16,14])]),s(["full","24",e.v10to26,113,113,28,54,11796,s([300,560,810,960]),s([6,4,6,14,11,16,30,2])]),s(["full","25",e.v10to26,117,117,32,58,12708,s([312,588,870,1050]),s([8,4,8,13,7,22,22,13])]),s(["full","26",e.v10to26,121,121,30,58,13652,s([336,644,952,1110]),s([10,2,19,4,28,6,33,4])]),s(["full","27",e.v27to40,125,125,34,62,14628,s([360,700,1020,1200]),s([8,4,22,3,8,26,12,28])]),s(["full","28",e.v27to40,129,129,26,50,15371,s([390,728,1050,1260]),s([3,10,3,23,4,31,11,31])]),s(["full","29",e.v27to40,133,133,30,54,16411,s([420,784,1140,1350]),s([7,7,21,7,1,37,19,26])]),s(["full","30",e.v27to40,137,137,26,52,17483,s([450,812,1200,1440]),s([5,10,19,10,15,25,23,25])]),s(["full","31",e.v27to40,141,141,30,56,18587,s([480,868,1290,1530]),s([13,3,2,29,42,1,23,28])]),s(["full","32",e.v27to40,145,145,34,60,19723,s([510,924,1350,1620]),s([17,0,10,23,10,35,19,35])]),s(["full","33",e.v27to40,149,149,30,58,20891,s([540,980,1440,1710]),s([17,1,14,21,29,19,11,46])]),s(["full","34",e.v27to40,153,153,34,62,22091,s([570,1036,1530,1800]),s([13,6,14,23,44,7,59,1])]),s(["full","35",e.v27to40,157,157,30,54,23008,s([570,1064,1590,1890]),s([12,7,12,26,39,14,22,41])]),s(["full","36",e.v27to40,161,161,24,50,24272,s([600,1120,1680,1980]),s([6,14,6,34,46,10,2,64])]),s(["full","37",e.v27to40,165,165,28,54,25568,s([630,1204,1770,2100]),s([17,4,29,14,49,10,24,46])]),s(["full","38",e.v27to40,169,169,32,58,26896,s([660,1260,1860,2220]),s([4,18,13,32,48,14,42,32])]),s(["full","39",e.v27to40,173,173,26,54,28256,s([720,1316,1950,2310]),s([20,4,40,7,43,22,10,67])]),s(["full","40",e.v27to40,177,177,30,58,29648,s([750,1372,2040,2430]),s([19,6,18,31,34,34,20,61])]),s(["rmqr","R7x43",e.vR7x43,7,43,22,99,104,s([99,7,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x59",e.vR7x59,7,59,20,40,171,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x77",e.vR7x77,7,77,26,52,261,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x99",e.vR7x99,7,99,24,50,358,s([99,16,99,30]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x139",e.vR7x139,7,139,28,56,545,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x43",e.vR9x43,9,43,22,99,170,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x59",e.vR9x59,9,59,20,40,267,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x77",e.vR9x77,9,77,26,52,393,s([99,18,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R9x99",e.vR9x99,9,99,24,50,532,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x139",e.vR9x139,9,139,28,56,797,s([99,36,99,66]),s([-1,-1,1,1,-1,-1,3,0])]),s(["rmqr","R11x27",e.vR11x27,11,27,98,99,122,s([99,8,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x43",e.vR11x43,11,43,22,99,249,s([99,12,99,20]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x59",e.vR11x59,11,59,20,40,376,s([99,16,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x77",e.vR11x77,11,77,26,52,538,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x99",e.vR11x99,11,99,24,50,719,s([99,32,99,60]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R11x139",e.vR11x139,11,139,28,56,1062,s([99,48,99,90]),s([-1,-1,2,0,-1,-1,3,0])]),s(["rmqr","R13x27",e.vR13x27,13,27,98,99,172,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x43",e.vR13x43,13,43,22,99,329,s([99,14,99,28]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x59",e.vR13x59,13,59,20,40,486,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R13x77",e.vR13x77,13,77,26,52,684,s([99,32,99,56]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R13x99",e.vR13x99,13,99,24,50,907,s([99,40,99,78]),s([-1,-1,1,1,-1,-1,1,2])]),s(["rmqr","R13x139",e.vR13x139,13,139,28,56,1328,s([99,60,99,112]),s([-1,-1,2,1,-1,-1,2,2])]),s(["rmqr","R15x43",e.vR15x43,15,43,22,99,409,s([99,18,99,36]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R15x59",e.vR15x59,15,59,20,40,596,s([99,26,99,48]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R15x77",e.vR15x77,15,77,26,52,830,s([99,36,99,72]),s([-1,-1,1,1,-1,-1,2,1])]),s(["rmqr","R15x99",e.vR15x99,15,99,24,50,1095,s([99,48,99,88]),s([-1,-1,2,0,-1,-1,4,0])]),s(["rmqr","R15x139",e.vR15x139,15,139,28,56,1594,s([99,72,99,130]),s([-1,-1,2,1,-1,-1,1,4])]),s(["rmqr","R17x43",e.vR17x43,17,43,22,99,489,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R17x59",e.vR17x59,17,59,20,40,706,s([99,32,99,60]),s([-1,-1,2,0,-1,-1,2,0])]),s(["rmqr","R17x77",e.vR17x77,17,77,26,52,976,s([99,44,99,84]),s([-1,-1,2,0,-1,-1,1,2])]),s(["rmqr","R17x99",e.vR17x99,17,99,24,50,1283,s([99,60,99,104]),s([-1,-1,2,1,-1,-1,4,0])]),s(["rmqr","R17x139",e.vR17x139,17,139,28,56,1860,s([99,80,99,156]),s([-1,-1,4,0,-1,-1,2,4])])]),r[t++]="eclval",Tt("LMQH",e.eclevel),t--;var ke=r[--t];r[t-1]=ke.length;var he=r[--t];r[t-1]=he;var Ae=r[--t];e[r[--t]]=Ae;for(var we=0,je=e.metrics.length-1;we<=je;we+=1){e.i=we,e.m=l(e.metrics,e.i),e.frmt=l(e.m,0),e.vers=l(e.m,1),e.vergrp=l(e.m,2),e.verind=e.i-44,e.rows=l(e.m,3),e.cols=l(e.m,4),e.asp2=l(e.m,5),e.asp3=l(e.m,6),e.nmod=l(e.m,7),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.lc4b=!1,(V(e.vers,"M1")||V(e.vers,"M3"))&&(e.ncws=e.ncws+1,e.rbit=0,e.lc4b=!0),e.ecws=l(l(e.m,8),e.eclval),e.dcws=S(e.ncws-e.ecws);var Oe=e.lc4b?4:0;if(e.dmod=S(e.dcws*8-Oe),e.ecb1=l(l(e.m,9),e.eclval*2),e.ecb2=l(l(e.m,9),e.eclval*2+1),e.okay=!0,Ee(e.format,e.frmt)&&(e.okay=!1),V(e.frmt,"micro")&&e.fnc1first&&(e.okay=!1),Ee(e.version,"unset")&&Ee(e.version,e.vers)&&(e.okay=!1),(e.ecb1==-1||e.ecb2==-1)&&(e.okay=!1),e.verbits=l(e.msgbits,e.vergrp),(e.verbits==-1||e.verbits.length>e.dmod)&&(e.okay=!1),e.term=N("000000000",0,l(e.termlens,e.vergrp)),e.okay)break}if(e.okay||(r[t++]="bwipp.qrcodeNoValidSymbol#21607",r[t++]="Maximum length exceeded or invalid content",z()),e.format=e.frmt,e.version=e.vers,e.msgbits=e.verbits,!e.fixedeclevel)for(var _e=e.eclval+1;_e<=3;_e+=1){e.eclval_=_e,e.ecws_=l(l(e.m,8),e.eclval_),e.dcws_=S(e.ncws-e.ecws_);var Ge=e.lc4b?4:0;e.dmod_=S(e.dcws_*8-Ge),e.ecb1_=l(l(e.m,9),e.eclval_*2),e.ecb2_=l(l(e.m,9),e.eclval_*2+1),e.okay=!0,(e.ecb1_==-1||e.ecb2_==-1)&&(e.okay=!1),e.msgbits.length>e.dmod_&&(e.okay=!1),e.okay&&(e.eclval=e.eclval_,e.dcws=e.dcws_,e.dmod=e.dmod_,e.ecb1=e.ecb1_,e.ecb2=e.ecb2_)}e.dcpb=~~(e.dcws/S(e.ecb1+e.ecb2)),e.ecpb=~~(e.ncws/S(e.ecb1+e.ecb2))-e.dcpb;var st=e.term,at=e.dmod,ye=e.msgbits,He=e.term,Ue=He.length,We=S(at-ye.length);if(S(at-ye.length)>He.length){var pt=Ue;Ue=We,We=pt}e.term=N(st,0,We);var vt=X(e.msgbits.length+e.term.length);R(vt,0,e.msgbits),R(vt,e.msgbits.length,e.term),e.msgbits=vt,e.pad=X(e.dmod);for(var ft=0,gt=e.pad.length-1;ft<=gt;ft+=1)b(e.pad,ft,48);R(e.pad,0,e.msgbits),e.padnum=0;for(var nt=e.lc4b?5:1,Ft=~~(xr(e.msgbits.length/8)*8),et=S(e.dmod-nt);Ft<=et;Ft+=8)R(e.pad,Ft,l(e.padstrs,e.padnum)),e.padnum=(e.padnum+1)%2;e.cws=s(e.dcws);for(var Ht=0,$t=e.cws.length-1;Ht<=$t;Ht+=1){e.c=Ht,e.bpcw=8,e.lc4b&&e.c==e.cws.length-1&&(e.bpcw=4),e.cwb=N(e.pad,e.c*8,e.bpcw),e.cw=0;for(var zt=0,nr=e.bpcw-1;zt<=nr;zt+=1)e.i=zt,e.cw=S(e.cw+~~l1(2,e.bpcw-e.i-1)*(l(e.cwb,e.i)-48));b(e.cws,e.c,e.cw)}if(e.lc4b){var Ir=e.cws,ir=e.cws;b(Ir,ir.length-1,l(Ir,ir.length-1)<<4)}var br=l(e.options,"debugcws")!==void 0;br&&(r[t++]="bwipp.debugcws#21674",r[t++]=e.cws,z()),r[t++]=1/0,r[t++]=1;for(var sr=0;sr<255;sr++){var Dr=r[t-1],er=Dr*2;if(r[t++]=er,er>=256){var ur=r[--t];r[t++]=ur^285}}e.rsalog=s(),e.rslog=s(256);for(var Wt=1;Wt<=255;Wt+=1)b(e.rslog,l(e.rsalog,Wt),Wt);e.rsprod=function(){var $e=r[t-1],bt=r[t-2];if($e!=0&&bt!=0){var mr=l(e.rslog,r[--t]),Er=l(e.rsalog,S(mr+l(e.rslog,r[--t]))%255);r[t++]=Er}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Xt=0,fr=e.ecpb;Xt<fr;Xt++)r[t++]=0;e.coeffs=s();for(var Tr=0,Pr=e.ecpb-1;Tr<=Pr;Tr+=1){e.i=Tr,b(e.coeffs,e.i+1,l(e.coeffs,e.i));for(var ha=e.i;ha>=1;ha-=1){e.j=ha,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var Rt=r[--t],Yt=r[--t],rr=r[--t];b(r[--t],rr,hs(Yt,Rt))}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var wr=r[--t],or=r[--t];b(r[--t],or,wr)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1),e.rscodes=function(){e.rscws=r[--t],e.rsnd=e.rscws.length,r[t++]=1/0,U(e.rscws);for(var $e=0,bt=e.ecpb;$e<bt;$e++)r[t++]=0;e.rscws=s();for(var mr=0,Er=e.rsnd-1;mr<=Er;mr+=1){e.m=mr,e.k=l(e.rscws,e.m);for(var va=0,rs=e.ecpb-1;va<=rs;va+=1){e.j=va,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=l(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var as=r[--t],Cs=r[--t];b(r[--t],Cs,hs(as,l(e.rscws,e.m+e.j+1)))}}r[t++]=N(e.rscws,e.rsnd,e.ecpb)},e.dcwsb=s(S(e.ecb1+e.ecb2)),e.ecwsb=s(S(e.ecb1+e.ecb2));for(var Rr=0,lr=e.ecb1-1;Rr<=lr;Rr+=1){e.i=Rr,b(e.dcwsb,e.i,N(e.cws,e.i*e.dcpb,e.dcpb)),r[t++]=e.ecwsb,r[t++]=e.i,r[t++]=l(e.dcwsb,e.i),e.rscodes();var Lt=r[--t],yr=r[--t];b(r[--t],yr,Lt)}for(var aa=0,pa=e.ecb2-1;aa<=pa;aa+=1){e.i=aa,b(e.dcwsb,S(e.ecb1+e.i),N(e.cws,S(e.ecb1*e.dcpb+e.i*(e.dcpb+1)),e.dcpb+1)),r[t++]=e.ecwsb,r[t++]=S(e.ecb1+e.i),r[t++]=l(e.dcwsb,S(e.ecb1+e.i)),e.rscodes();var Aa=r[--t],Qr=r[--t];b(r[--t],Qr,Aa)}e.cws=s(e.ncws),e.cw=0;for(var Ca=0,ba=e.dcpb;Ca<=ba;Ca+=1){e.i=Ca;for(var Ma=0,da=S(e.ecb1+e.ecb2)-1;Ma<=da;Ma+=1)e.j=Ma,e.i<l(e.dcwsb,e.j).length&&(b(e.cws,e.cw,l(l(e.dcwsb,e.j),e.i)),e.cw=e.cw+1)}for(var ka=0,Ia=e.ecpb-1;ka<=Ia;ka+=1){e.i=ka;for(var ja=0,Qa=S(e.ecb1+e.ecb2)-1;ja<=Qa;ja+=1)e.j=ja,b(e.cws,e.cw,l(l(e.ecwsb,e.j),e.i)),e.cw=e.cw+1}if(e.rbit>0&&(e.pad=s(e.cws.length+1),R(e.pad,0,e.cws),b(e.pad,e.pad.length-1,0),e.cws=e.pad),e.lc4b){var Ha=e.cws,Ka=e.dcws;b(Ha,Ka-1,l(Ha,Ka-1)>>>4);for(var ms=e.dcws-1,Ba=e.ncws-2;ms<=Ba;ms+=1)e.i=ms,b(e.cws,e.i,(l(e.cws,e.i)&15)<<4),b(e.cws,e.i,l(e.cws,e.i+1)>>>4&15|l(e.cws,e.i));b(e.cws,e.ncws-1,(l(e.cws,e.ncws-1)&15)<<4)}var Rs=l(e.options,"debugecc")!==void 0;Rs&&(r[t++]="bwipp.debugecc#21776",r[t++]=e.cws,z()),r[t++]=1/0;for(var $a=0,Qs=e.rows*e.cols;$a<Qs;$a++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var $e=r[--t],bt=r[--t];r[t++]=S(bt+$e*e.cols)},V(e.format,"full"))for(var Fa=8,vs=e.cols-9;Fa<=vs;Fa+=1){e.i=Fa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=6,e.qmv();var Ts=r[--t];b(r[--t],Ts,(e.i+1)%2),r[t++]=e.pixs,r[t++]=6,r[t++]=e.i,e.qmv();var Ms=r[--t];b(r[--t],Ms,(e.i+1)%2)}if(V(e.format,"micro"))for(var Wa=8,Hs=e.cols-1;Wa<=Hs;Wa+=1){e.i=Wa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var Ja=r[--t];b(r[--t],Ja,(e.i+1)%2),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var xs=r[--t];b(r[--t],xs,(e.i+1)%2)}if(V(e.format,"rmqr")){for(var _a=3,mn=e.cols-4;_a<=mn;_a+=1){e.i=_a,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var qa=r[--t];b(r[--t],qa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var Nn=r[--t];b(r[--t],Nn,(e.i+1)%2)}for(var Da=3,Js=e.rows-4;Da<=Js;Da+=1){e.i=Da,r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var Pa=r[--t];b(r[--t],Pa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var rn=r[--t];b(r[--t],rn,(e.i+1)%2)}for(var os=e.asp2-1,Zt=S(e.asp3-e.asp2),ea=e.cols-13;Zt<0?os>=ea:os<=ea;os+=Zt){e.i=os;for(var Sa=3,Oa=e.rows-4;Sa<=Oa;Sa+=1){e.j=Sa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var gs=r[--t];b(r[--t],gs,(e.j+1)%2)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fsubpat=s([s([1,1,1,1,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,0,1,0,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,1,1,1,1,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fcorpat=s([s([1,1,1,9,9,9,9,9]),s([1,0,9,9,9,9,9,9]),s([1,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fnullpat=s([s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]);var Hr=new Map([["full",s([e.fpat,e.fpat,e.fpat,e.fnullpat])],["micro",s([e.fpat,e.fnullpat,e.fnullpat,e.fnullpat])],["rmqr",s([e.fpat,e.fcorpat,e.fcorpat,e.fsubpat])]]);e.fpatmap=Hr,e.fpats=l(e.fpatmap,e.format);for(var ls=0;ls<=7;ls+=1){e.y=ls;for(var bs=0;bs<=7;bs+=1){if(e.x=bs,e.fpb0=l(l(l(e.fpats,0),e.y),e.x),e.fpb1=l(l(l(e.fpats,1),e.y),e.x),e.fpb2=l(l(l(e.fpats,2),e.y),e.x),e.fpb3=l(l(l(e.fpats,3),e.y),e.x),e.fpb0!=9&&e.y<e.rows){r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Ua=r[--t];b(r[--t],Ua,e.fpb0)}if(e.fpb1!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=e.y,e.qmv();var Cn=r[--t];b(r[--t],Cn,e.fpb1)}if(e.fpb2!=9){r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.rows-e.y)-1,e.qmv();var Ra=r[--t];b(r[--t],Ra,e.fpb2)}if(e.fpb3!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=S(e.rows-e.y)-1,e.qmv();var u1=r[--t];b(r[--t],u1,e.fpb3)}}}if(e.algnpatfull=s([s([1,1,1,1,1]),s([1,0,0,0,1]),s([1,0,1,0,1]),s([1,0,0,0,1]),s([1,1,1,1,1])]),e.algnpatrmqr=s([s([1,1,1,9,9]),s([1,0,1,9,9]),s([1,1,1,9,9]),s([9,9,9,9,9]),s([9,9,9,9,9])]),e.putalgnpat=function(){e.py=r[--t],e.px=r[--t];for(var $e=0;$e<=4;$e+=1){e.pb=$e;for(var bt=0;bt<=4;bt+=1)if(e.pa=bt,e.algnb=l(l(e.algnpat,e.pb),e.pa),e.algnb!=9){r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.qmv();var mr=r[--t];b(r[--t],mr,e.algnb)}}},V(e.format,"full")){e.algnpat=e.algnpatfull;for(var $s=e.asp2-2,Ta=S(e.asp3-e.asp2),In=e.cols-13;Ta<0?$s>=In:$s<=In;$s+=Ta)e.i=$s,r[t++]=e.i,r[t++]=4,e.putalgnpat(),r[t++]=4,r[t++]=e.i,e.putalgnpat();for(var Xa=e.asp2-2,Bn=S(e.asp3-e.asp2),ws=e.cols-9;Bn<0?Xa>=ws:Xa<=ws;Xa+=Bn){e.x=Xa;for(var an=e.asp2-2,sn=S(e.asp3-e.asp2),Jn=e.rows-9;sn<0?an>=Jn:an<=Jn;an+=sn)e.y=an,r[t++]=e.x,r[t++]=e.y,e.putalgnpat()}}if(V(e.format,"rmqr")){e.algnpat=e.algnpatrmqr;for(var At=e.asp2-2,Kr=S(e.asp3-e.asp2),sa=e.cols-13;Kr<0?At>=sa:At<=sa;At+=Kr)e.i=At,r[t++]=e.i,r[t++]=0,e.putalgnpat(),r[t++]=e.i,r[t++]=e.rows-3,e.putalgnpat()}e.formatmapmicro=s([s([s([1,8])]),s([s([2,8])]),s([s([3,8])]),s([s([4,8])]),s([s([5,8])]),s([s([6,8])]),s([s([7,8])]),s([s([8,8])]),s([s([8,7])]),s([s([8,6])]),s([s([8,5])]),s([s([8,4])]),s([s([8,3])]),s([s([8,2])]),s([s([8,1])])]);var za=new Map([["full",s([s([s([0,8]),s([8,e.cols-1])]),s([s([1,8]),s([8,e.cols-2])]),s([s([2,8]),s([8,e.cols-3])]),s([s([3,8]),s([8,e.cols-4])]),s([s([4,8]),s([8,e.cols-5])]),s([s([5,8]),s([8,e.cols-6])]),s([s([7,8]),s([8,e.cols-7])]),s([s([8,8]),s([e.cols-8,8])]),s([s([8,7]),s([e.cols-7,8])]),s([s([8,5]),s([e.cols-6,8])]),s([s([8,4]),s([e.cols-5,8])]),s([s([8,3]),s([e.cols-4,8])]),s([s([8,2]),s([e.cols-3,8])]),s([s([8,1]),s([e.cols-2,8])]),s([s([8,0]),s([e.cols-1,8])])])],["micro",e.formatmapmicro],["rmqr",s([s([s([11,3]),s([e.cols-3,e.rows-6])]),s([s([11,2]),s([e.cols-4,e.rows-6])]),s([s([11,1]),s([e.cols-5,e.rows-6])]),s([s([10,5]),s([e.cols-6,e.rows-2])]),s([s([10,4]),s([e.cols-6,e.rows-3])]),s([s([10,3]),s([e.cols-6,e.rows-4])]),s([s([10,2]),s([e.cols-6,e.rows-5])]),s([s([10,1]),s([e.cols-6,e.rows-6])]),s([s([9,5]),s([e.cols-7,e.rows-2])]),s([s([9,4]),s([e.cols-7,e.rows-3])]),s([s([9,3]),s([e.cols-7,e.rows-4])]),s([s([9,2]),s([e.cols-7,e.rows-5])]),s([s([9,1]),s([e.cols-7,e.rows-6])]),s([s([8,5]),s([e.cols-8,e.rows-2])]),s([s([8,4]),s([e.cols-8,e.rows-3])]),s([s([8,3]),s([e.cols-8,e.rows-4])]),s([s([8,2]),s([e.cols-8,e.rows-5])]),s([s([8,1]),s([e.cols-8,e.rows-6])])])]]);e.formatmap=l(za,e.format),ve(e.formatmap,function(){ve(r[--t],function(){U(r[--t]),e.qmv(),b(e.pixs,r[--t],1)})}),V(e.format,"full")&&e.cols>=45?e.versionmap=s([s([s([e.cols-9,5]),s([5,e.cols-9])]),s([s([e.cols-10,5]),s([5,e.cols-10])]),s([s([e.cols-11,5]),s([5,e.cols-11])]),s([s([e.cols-9,4]),s([4,e.cols-9])]),s([s([e.cols-10,4]),s([4,e.cols-10])]),s([s([e.cols-11,4]),s([4,e.cols-11])]),s([s([e.cols-9,3]),s([3,e.cols-9])]),s([s([e.cols-10,3]),s([3,e.cols-10])]),s([s([e.cols-11,3]),s([3,e.cols-11])]),s([s([e.cols-9,2]),s([2,e.cols-9])]),s([s([e.cols-10,2]),s([2,e.cols-10])]),s([s([e.cols-11,2]),s([2,e.cols-11])]),s([s([e.cols-9,1]),s([1,e.cols-9])]),s([s([e.cols-10,1]),s([1,e.cols-10])]),s([s([e.cols-11,1]),s([1,e.cols-11])]),s([s([e.cols-9,0]),s([0,e.cols-9])]),s([s([e.cols-10,0]),s([0,e.cols-10])]),s([s([e.cols-11,0]),s([0,e.cols-11])])]):e.versionmap=s([]);for(var ua=e.versionmap,Za=0,ys=ua.length;Za<ys;Za++)ve(l(ua,Za),function(){U(r[--t]),e.qmv(),b(e.pixs,r[--t],0)});if(V(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.rows-8,e.qmv();var vn=r[--t];b(r[--t],vn,0)}var dt=s([function(){var $e=r[--t],bt=r[--t];r[t++]=S(bt+$e)%2},function(){var $e=r[--t];r[t-1]=$e;var bt=r[--t];r[t++]=bt%2},function(){t--;var $e=r[--t];r[t++]=$e%3},function(){var $e=r[--t],bt=r[--t];r[t++]=S(bt+$e)%3},function(){var $e=r[--t],bt=r[--t];r[t++]=(~~($e/2)+~~(bt/3))%2},function(){var $e=r[--t],bt=r[--t]*$e;r[t++]=S(bt%2+bt%3)},function(){var $e=r[--t],bt=r[--t]*$e;r[t++]=S(bt%2+bt%3)%2},function(){var $e=r[--t],bt=r[--t];r[t++]=S(bt*$e%3+(bt+$e)%2)%2}]),St=s([function(){var $e=r[--t];r[t-1]=$e;var bt=r[--t];r[t++]=bt%2},function(){var $e=r[--t],bt=r[--t];r[t++]=(~~($e/2)+~~(bt/3))%2},function(){var $e=r[--t],bt=r[--t]*$e;r[t++]=S(bt%2+bt%3)%2},function(){var $e=r[--t],bt=r[--t];r[t++]=S(bt*$e%3+(bt+$e)%2)%2}]),pr=s([function(){var $e=r[--t],bt=r[--t];r[t++]=(~~($e/2)+~~(bt/3))%2}]),cr=new Map([["full",dt],["micro",St],["rmqr",pr]]);e.maskfuncs=l(cr,e.format),e.mask!=-1&&(e.maskfuncs=s([l(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var hr=0,Mr=e.masks.length-1;hr<=Mr;hr+=1){e.m=hr,e.mask=s(e.rows*e.cols);for(var dr=0,na=e.rows-1;dr<=na;dr+=1){e.j=dr;for(var $r=0,qr=e.cols-1;$r<=qr&&(e.i=$r,r[t++]=e.i,r[t++]=e.j,l(e.maskfuncs,e.m)()!==!0);$r+=1){var Gr=r[--t];r[t++]=Gr==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Wr=r[--t],ma=l(r[--t],Wr),ta=r[--t],Yr=ta&&ma==-1?1:0;r[t++]=Yr,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var ia=r[t-3],Fr=r[t-1];b(r[t-2],Fr,ia),t-=3}}b(e.masks,e.m,e.mask)}var Or=Ee(e.format,"rmqr")?1:2;for(e.posx=S(e.cols-Or),e.posy=e.rows-1,e.dir=-1,e.col=1,e.num=0;!(e.posx<0);){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var La=r[--t];if(l(r[--t],La)==-1){var wa=l(e.cws,~~(e.num/8)),cs=-(7-e.num%8);r[t++]=(cs<0?wa>>>-cs:wa<<cs)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Ns=r[t-3],nn=r[t-1];b(r[t-2],nn,Ns),t-=3,e.num=e.num+1}e.col==1?(e.col=0,e.posx=e.posx-1):(e.col=1,e.posx=e.posx+1,e.posy=S(e.posy+e.dir),(e.posy<0||e.posy>=e.rows)&&(e.dir=e.dir*-1,e.posy=S(e.posy+e.dir),e.posx=e.posx-2,V(e.format,"full")&&e.posx==6&&(e.posx=e.posx-1)))}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ve(e.scrle,function(){var F1=r[t-1];if(F1>=5){var _1=r[--t],Qn=S(r[--t]+_1)-2;r[t++]=Qn,r[t++]=Qn}t--});var $e=r[--t];e[r[--t]]=$e,e.scr3=0;for(var bt=3,mr=e.scrle.length-3;bt<=mr;bt+=2)if(e.j=bt,l(e.scrle,e.j)%3==0){e.fact=~~(l(e.scrle,e.j)/3);for(var Er=N(e.scrle,e.j-2,5),va=0,rs=Er.length;va<rs;va++)r[t++]=l(Er,va)==e.fact;var as=r[--t],Cs=r[--t];r[t-1]=co(Cs,as);var on=r[--t],bn=r[--t];r[--t]&&bn&&on&&(e.j==3||e.j+4>=e.scrle.length||l(e.scrle,e.j-3)>=4||l(e.scrle,e.j+3)>=4)&&(e.scr3=e.scr3+40)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0,e.rle=s(e.cols+1),e.lastpairs=s(e.cols),e.thispairs=s(e.cols),e.colsadd1=e.cols+1;for(var $e=0,bt=e.cols-1;$e<=bt;$e+=1){e.i=$e,r[t++]=1/0;var mr=e.cols;r[t++]=0,r[t++]=0;for(var Er=e.i,va=mr,rs=mr*mr-1;va<0?Er>=rs:Er<=rs;Er+=va){var as=l(e.sym,Er),Cs=r[--t];if(r[t++]=as,V(Cs,as)){var on=r[--t],bn=r[--t];r[t++]=bn+1,r[t++]=on}else{var F1=r[--t];r[t++]=1,r[t++]=F1}}t--;var _1=ga()+2;Kt(N(e.rle,0,_1-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=N(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Qn=e.symrow;r[t++]=0,r[t++]=0;for(var P1=0,Ao=Qn.length;P1<Ao;P1++){var Li=l(Qn,P1),ut=r[--t];if(r[t++]=Li,V(ut,Li)){var Gt=r[--t],zr=r[--t];r[t++]=zr+1,r[t++]=Gt}else{var it=r[--t];r[t++]=1,r[t++]=it}}t--;var Pt=ga()+2;Kt(N(e.rle,0,Pt-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var Vt=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=Vt;var Jt=l(e.symrow,0)==1?0:1,Xr=e.symrow;r[t++]=Jt;for(var ya=0,xa=Xr.length;ya<xa;ya++){var ds=l(Xr,ya),Gs=r[--t];r[t++]=S(Gs+ds),r[t++]=ds}if(t--,Kt(e.thispairs),t--,e.i>0){r[t++]=1/0,U(e.lastpairs),U(e.thispairs),r[t++]=e.n2;for(var ln=0,cn=e.cols;ln<cn;ln++){var Hn=r[--t],bi=r[--t];r[t++]=Hn,r[t++]=bi;var ri=r[t-1-e.colsadd1];if(!(S(r[--t]+ri)&3)){var O1=r[--t];r[t++]=O1+3}}e.n2=r[--t],Ko()}}r[t++]="dark",r[t++]=0,ve(e.sym,function(){var Qi=r[--t],yi=r[--t];r[t++]=S(yi+Qi)});var wi=r[--t];e[r[--t]]=wi;var ai=e.cols;e.n4=~~(qo(e.dark*100/(ai*ai)-50)/5)*10,r[t++]=S(e.n1+e.n2+e.n3+e.n4)},e.evalmicro=function(){e.sym=r[--t],e.dkrhs=0,e.dkbot=0;for(var $e=1,bt=e.cols-1;$e<=bt;$e+=1){e.i=$e,r[t++]="dkrhs",r[t++]=e.dkrhs,r[t++]=e.sym,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var mr=r[--t],Er=l(r[--t],mr),va=r[--t];e[r[--t]]=S(va+Er),r[t++]="dkbot",r[t++]=e.dkbot,r[t++]=e.sym,r[t++]=e.i,r[t++]=e.cols-1,e.qmv();var rs=r[--t],as=l(r[--t],rs),Cs=r[--t];e[r[--t]]=S(Cs+as)}e.dkrhs<=e.dkbot?r[t++]=-(e.dkrhs*16+e.dkbot):r[t++]=-(e.dkbot*16+e.dkrhs)},e.bestscore=999999999;for(var Fs=0,ar=e.masks.length-1;Fs<=ar;Fs+=1){e.m=Fs,e.masksym=s(e.rows*e.cols);for(var Ar=0,Cr=e.rows*e.cols-1;Ar<=Cr;Ar+=1)e.i=Ar,b(e.masksym,e.i,hs(l(e.pixs,e.i),l(l(e.masks,e.m),e.i)));e.masks.length!=1?(V(e.format,"full")?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t]):(r[t++]=e.masksym,e.evalmicro(),e.score=r[--t]),e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,V(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.cols-8,e.qmv();var ra=r[--t];b(r[--t],ra,1)}if(e.fmtvalsfull=s([21522,20773,24188,23371,17913,16590,20375,19104,30660,29427,32170,30877,26159,25368,27713,26998,5769,5054,7399,6608,1890,597,3340,2107,13663,12392,16177,14854,9396,8579,11994,11245]),e.fmtvalsmicro=s([17477,16754,20011,19228,21934,20633,24512,23287,26515,25252,28157,26826,30328,29519,31766,31009,1758,1001,3248,2439,5941,4610,7515,6252,9480,8255,12134,10833,13539,12756,16013,15290]),e.fmtvalsrmqr1=s([129714,124311,121821,115960,112748,108361,104707,99878,98062,90155,89697,82244,81360,74485,72895,66458,61898,61167,53413,53120,45844,44081,37499,36190,29814,27475,21785,19004,13992,10637,6087,2274,258919,257090,250376,249133,242105,241308,233686,233459,227035,223742,219060,215185,209925,207648,202090,199247,194591,190266,186736,181845,178881,173540,170926,165003,163235,156294,154828,148457,147325,139352,138770,131383]),e.fmtvalsrmqr2=s([133755,136542,142100,144433,149669,153472,158154,161519,167879,168162,175784,176525,183577,184892,191606,193363,196867,204326,204908,212809,213981,220408,221874,228759,230591,236442,239056,244469,247393,252228,255758,260139,942,7307,8897,15844,16752,24149,24607,32570,34322,39223,42877,47192,50380,56297,58787,64134,67798,71667,76217,79516,84488,87341,93031,95298,101738,102991,109573,111392,118708,118929,126683,127486]),V(e.format,"full")){e.ecid=l(s([1,0,3,2]),e.eclval),e.fmtval=l(e.fmtvalsfull,(e.ecid<<3)+e.bestmaskval);for(var Ur=0,oa=e.formatmap.length-1;Ur<=oa;Ur+=1)e.i=Ur,ve(l(e.formatmap,e.i),function(){var $e=r[--t];r[t++]=e.pixs,U($e),e.qmv();var bt=e.fmtval,mr=-(14-e.i),Er=r[--t];b(r[--t],Er,(mr<0?bt>>>-mr:bt<<mr)&1)})}if(V(e.format,"micro")){e.symid=l(l(s([s([0]),s([1,2]),s([3,4]),s([5,6,7])]),~~((e.cols-11)/2)),e.eclval),e.fmtval=l(e.fmtvalsmicro,(e.symid<<2)+e.bestmaskval);for(var Jr=0,es=e.formatmap.length-1;Jr<=es;Jr+=1){e.i=Jr,r[t++]=e.pixs,U(l(l(e.formatmap,e.i),0)),e.qmv();var ts=e.fmtval,qs=-(14-e.i),xn=r[--t];b(r[--t],xn,(qs<0?ts>>>-qs:ts<<qs)&1)}}if(V(e.format,"rmqr")){e.fmtvalu=(l(s([-1,0,-1,1]),e.eclval)<<5)+e.verind,e.fmtval1=l(e.fmtvalsrmqr1,e.fmtvalu),e.fmtval2=l(e.fmtvalsrmqr2,e.fmtvalu);for(var Dn=0,Un=e.formatmap.length-1;Dn<=Un;Dn+=1){e.i=Dn,r[t++]=e.pixs,U(l(l(e.formatmap,e.i),0)),e.qmv();var zn=e.fmtval1,gn=-(17-e.i),f1=r[--t];b(r[--t],f1,(gn<0?zn>>>-gn:zn<<gn)&1),r[t++]=e.pixs,U(l(l(e.formatmap,e.i),1)),e.qmv();var Ln=e.fmtval2,h1=-(17-e.i),Z1=r[--t];b(r[--t],Z1,(h1<0?Ln>>>-h1:Ln<<h1)&1)}}if(e.vervals=s([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),V(e.format,"full")&&e.cols>=45){e.verval=l(e.vervals,~~((e.cols-17)/4)-7);for(var p1=0,ei=e.versionmap.length-1;p1<=ei;p1+=1)e.i=p1,ve(l(e.versionmap,e.i),function(){var $e=r[--t];r[t++]=e.pixs,ve($e),e.qmv();var bt=e.verval,mr=-(17-e.i),Er=r[--t];b(r[--t],Er,(mr<0?bt>>>-mr:bt<<mr)&1)})}r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows*2/72,r[t++]="width",r[t++]=e.cols*2/72,r[t++]="borderleft",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderright",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="bordertop",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderbottom",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="opt",r[t++]=e.options;var ti=Pe();r[t++]=ti,e.dontdraw||xt(),e=a}function JT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.barcode.length>997&&(r[t++]="bwipp.swissqrcodeBadLength#22347",r[t++]="Swiss QR Code input must not exceed 997 digits",z()),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ll();var o=r[--t];if(e[r[--t]]=o,b(e.args,"opt",e.options),r[t++]=e.args,!e.dontdraw){Z.save();var c=Z.currpos();Z.translate(c.x,c.y);var d=72/25.4;Z.scale(d,d),Z.save(),Z.newpath(),Z.moveto(0,0),Z.lineto(46,0),Z.lineto(46,46),Z.lineto(0,46),Z.closepath(),Z.moveto(19.5,19.5),Z.lineto(19.5,26.5),Z.lineto(26.5,26.5),Z.lineto(26.5,19.5),Z.closepath(),Z.clip(),Z.save(),Z.moveto(0,0);var f=46/l(e.args,"pixx")/2;Z.scale(f,f),xt(),Z.restore(),Z.restore(),Z.translate(19.5,19.5);var h=7/83;Z.scale(h,h),Z.newpath(),Z.moveto(6,6),Z.lineto(6,77),Z.lineto(77,77),Z.lineto(77,6),Z.closepath(),Z.moveto(49,18),Z.lineto(49,34),Z.lineto(65,34),Z.lineto(65,49),Z.lineto(49,49),Z.lineto(49,65),Z.lineto(34,65),Z.lineto(34,49),Z.lineto(18,49),Z.lineto(18,34),Z.lineto(34,34),Z.lineto(34,18),Z.closepath(),Z.setrgbcolor(0,0,0),Z.fill(),Z.restore()}e=a}function XT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","micro"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ll();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function ZT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","rmqr"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ll();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function eM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.mode=-1,e.sam=-1,e.parse=!1,e.parsefnc=!1,e.legacyencoder=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.maxicodeEmptyData#22566",r[t++]="The data must not be empty",z()),e.mode!=-1&&(e.mode<2||e.mode>6)&&(r[t++]="bwipp.maxicodeBadMode#22570",r[t++]="Mode must be 2 to 6",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>88){r[t-1]=!1;break}var o=e.sam%10;if(o<2||o>8){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.maxicodeBadSAM#22581",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 8 symbols',z())}e.encoding="new",e.legacyencoder&&(e.encoding="legacy");var c=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=c,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var d=r[--t];if(e[r[--t]]=d,e.msglen=e.msg.length,e.mode==2||e.mode==3){e.barcode=X(e.msglen),e.barlen=e.msglen;for(var f=0,h=e.msglen-1;f<=h;f+=1){if(e.i=f,l(e.msg,e.i)<0){e.barlen=e.i;break}b(e.barcode,e.i,l(e.msg,e.i))}if(e.difflen=e.msglen-e.barlen,e.fid="",e.barlen>=9){var p=e.barcode,m=l(p,7),v=l(p,8);V(N(p,0,7),"[)>01")&&m>=48&&m<=57&&v>=48&&v<=57&&(e.fid=N(e.barcode,0,9),e.barcode=N(e.barcode,9,e.barlen-9))}if(Tt(e.barcode,""),r[--t])if(e.pcode=r[--t],t--,e.mode==2){r[t++]=!0;for(var w=0;w<1;w++){var y=e.pcode.length;if(y>9||y==0){r[t-1]=!1;break}ve(e.pcode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode2PostCode#22635",r[t++]="A mode 2 postcode must not be empty or exceed 9 digits",z())}else{r[t++]=!0;for(var x=0;x<1;x++){var g=e.pcode.length;if(g>6||g==0){r[t-1]=!1;break}ve(e.pcode,function(){var At=r[--t];if(!(At==32||At>=34&&At<=58||At>=65&&At<=90))return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode3PostCode#22649",r[t++]="A mode 3 postcode must not be empty or exceed 6 characters",z())}else t--,r[t++]="bwipp.maxicodeExpectedPostCode#22653",r[t++]="Expected postcode followed by group separator character",z();if(Tt(r[--t],""),r[--t]){e.ccode=r[--t],r[t-1]=!0;for(var A=0;A<1;A++){if(e.ccode.length!=3){r[t-1]=!1;break}ve(e.ccode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadCountryCode#22663",r[t++]="Country code must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedCountryCode#22666",r[t++]="Expected country code followed by group separator character",z();if(Tt(r[--t],""),r[--t]){e.scode=r[--t],r[t-1]=!0;for(var j=0;j<1;j++){if(e.scode.length!=3){r[t-1]=!1;break}ve(e.scode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadServiceClass#22676",r[t++]="Service class must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedServiceClass#22679",r[t++]="Expected service class followed by group separator character",z();e.barcode=r[--t];var C=X(e.barcode.length+e.fid.length);R(C,0,e.fid),R(C,e.fid.length,e.barcode),e.barcode=C,e.barlen=e.barcode.length,r[t++]=1/0;for(var k=e.barcode,E=0,B=k.length;E<B;E++)r[t++]=l(k,E);U(N(e.msg,e.msglen-e.difflen,e.difflen)),e.msg=s(),e.msglen=e.msg.length}e.eci=-1,e.pad=-2,e.ns=-3,e.la=-4,e.lb=-5,e.sa=-6,e.sb=-7,e.sc=-8,e.sd=-9,e.se=-10,e.sa2=-11,e.sa3=-12,e.lkc=-13,e.lkd=-14,e.lke=-15,e.pd2=-16,e.pd3=-17,e.charmaps=s([s([13,"`",192,224,0]),s(["A","a",193,225,1]),s(["B","b",194,226,2]),s(["C","c",195,227,3]),s(["D","d",196,228,4]),s(["E","e",197,229,5]),s(["F","f",198,230,6]),s(["G","g",199,231,7]),s(["H","h",200,232,8]),s(["I","i",201,233,9]),s(["J","j",202,234,10]),s(["K","k",203,235,11]),s(["L","l",204,236,12]),s(["M","m",205,237,13]),s(["N","n",206,238,14]),s(["O","o",207,239,15]),s(["P","p",208,240,16]),s(["Q","q",209,241,17]),s(["R","r",210,242,18]),s(["S","s",211,243,19]),s(["T","t",212,244,20]),s(["U","u",213,245,21]),s(["V","v",214,246,22]),s(["W","w",215,247,23]),s(["X","x",216,248,24]),s(["Y","y",217,249,25]),s(["Z","z",218,250,26]),s([e.eci,e.eci,e.eci,e.eci,e.eci]),s([28,28,28,28,e.pad]),s([29,29,29,29,e.pd2]),s([30,30,30,30,27]),s([e.ns,e.ns,e.ns,e.ns,e.ns]),s([" ","{",219,251,28]),s([e.pad,e.pad,220,252,29]),s(['"',"}",221,253,30]),s(["#","~",222,254,31]),s(["$",127,223,255,159]),s(["%",";",170,161,160]),s(["&","<",172,168,162]),s(["'","=",177,171,163]),s([40,">",178,175,164]),s([41,"?",179,176,165]),s(["*","[",181,180,166]),s(["+",92,185,183,167]),s([",","]",186,184,169]),s(["-","^",188,187,173]),s([".","_",189,191,174]),s(["/"," ",190,138,182]),s(["0",",",128,139,149]),s(["1",".",129,140,150]),s(["2","/",130,141,151]),s(["3",":",131,142,152]),s(["4","@",132,143,153]),s(["5","!",133,144,154]),s(["6","|",134,145,155]),s(["7",e.pd2,135,146,156]),s(["8",e.sa2,136,147,157]),s(["9",e.sa3,137,148,158]),s([":",e.pd3,e.la,e.la,e.la]),s([e.sb,e.sa," "," "," "]),s([e.sc,e.sc,e.lkc,e.sc,e.sc]),s([e.sd,e.sd,e.sd,e.lkd,e.sd]),s([e.se,e.se,e.se,e.se,e.lke]),s([e.lb,e.la,e.lb,e.lb,e.lb])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var I=0,D=e.charmaps.length-1;I<=D;I+=1){e.i=I,e.encs=l(e.charmaps,e.i);for(var M=0;M<=4;M+=1){e.j=M;var T=l(e.encs,e.j);if(r[t++]=T,V(tn(T),"stringtype")){var H=l(r[--t],0);r[t++]=H}b(l(e.charvals,e.j),r[--t],e.i)}}if(e.seta=l(e.charvals,0),e.setb=l(e.charvals,1),e.setc=l(e.charvals,2),e.setd=l(e.charvals,3),e.sete=l(e.charvals,4),r[t++]="maxlen",e.mode==5)r[t++]=77;else{var _=e.mode<=3?84:93;r[t++]=_}var F=r[--t];if(e[r[--t]]=F,V(e.encoding,"legacy")){r[t++]=1/0;for(var Q=0,L=e.msglen+1;Q<L;Q++)r[t++]=0;e.nseq=s();for(var ee=e.msglen-1;ee>=0;ee-=1){e.i=ee;var se=l(e.msg,e.i);se>=48&&se<=57?b(e.nseq,e.i,l(e.nseq,e.i+1)+1):b(e.nseq,e.i,0)}for(e.nseq=N(e.nseq,0,e.msglen),e.prefixinset=function(){for(r[t++]=0;;){var At=r[t-1],Kr=r[t-2];if(At>=Kr.length)break;var sa=r[t-1],za=r[t-2],ua=r[t-3],Za=l(ua,l(za,sa))!==void 0;if(Za){var ys=r[--t];r[t++]=ys+1}else break}var vn=r[--t];r[t-1]=vn;var dt=r[--t];r[t-1]=dt},e.enc=function(){var At=r[--t];b(e.out,e.j,l(At,r[--t])),e.j=e.j+1},e.out=s(144),e.i=0,e.j=0,e.cset="seta";;){if(e.i==e.msglen){Ee(e.cset,"seta")&&Ee(e.cset,"setb")&&e.out.length<e.maxlen&&(r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta");break}for(;;){if(l(e.msg,e.i)<=-1e6){r[t++]=e.eci,r[t++]=e[e.cset],e.enc();var ue=-l(e.msg,e.i)-1e6;if(r[t++]=ue,ue<=31){var W=r[--t];r[t++]=W&63,Kt(s(1))}else{var G=r[t-1];if(G<=1023){var ne=r[--t];r[t++]=ne>>>6&31|32,r[t++]=ne&63,Kt(s(2))}else{var de=r[t-1];if(de<=32767){var te=r[--t];r[t++]=te>>>12&47|48,r[t++]=te>>>6&63,r[t++]=te&63,Kt(s(3))}else{var ae=r[--t];r[t++]=ae>>>18&55|56,r[t++]=ae>>>12&63,r[t++]=ae>>>6&63,r[t++]=ae&63,Kt(s(4))}}}var ie=r[--t];R(e.out,e.j,ie),e.j=ie.length+e.j,e.i=e.i+1;break}if(l(e.nseq,e.i)>=9){var oe=N(e.msg,e.i,9);r[t++]=0;for(var De=0,Ne=oe.length;De<Ne;De++){var Le=r[--t];r[t++]=S(Le+(l(oe,De)-48))*10}var Te=r[--t];r[t++]=~~(Te/10);for(var Ve=0;Ve<4;Ve++){var Qe=r[--t];r[t++]=Qe&63,r[t++]=Qe>>>6}r[t++]=l(e[e.cset],e.ns);for(var ot=0;ot<=10;ot+=2){var Ze=r[t-1-ot];r[t++]=Ze}Kt(s(6)),Ea(7,1);for(var Fe=0;Fe<6;Fe++)t--;R(e.out,e.j,r[--t]),e.i=e.i+9,e.j=e.j+6;break}e.char1=l(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=l(e.msg,e.i+1):r[t++]=-99;var Ke=r[--t];e[r[--t]]=Ke,r[t++]="char3",e.i+2<e.msglen?r[t++]=l(e.msg,e.i+2):r[t++]=-99;var Je=r[--t];e[r[--t]]=Je;var rt=l(e[e.cset],e.char1)!==void 0;if(rt){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var Xe=l(e.setb,e.char1)!==void 0;if(V(e.cset,"seta")&&Xe){var Se=l(e.setb,e.char2)!==void 0;Se?(r[t++]=e.lb,r[t++]=e.seta,e.enc(),e.cset="setb"):(r[t++]=e.sb,r[t++]=e.seta,e.enc(),r[t++]=e.char1,r[t++]=e.setb,e.enc(),e.i=e.i+1);break}var pe=l(e.seta,e.char1)!==void 0;if(V(e.cset,"setb")&&pe){var Ie=e.seta,Me=e.msg,Re=e.i,Ye=e.msglen,ze=e.i,mt=Ye-ze,lt=4;if(4>Ye-ze){var ht=mt;mt=lt,lt=ht}r[t++]="p",r[t++]=Ie,r[t++]=N(Me,Re,lt),e.prefixinset();var yt=r[--t];e[r[--t]]=yt,e.p==1&&(r[t++]=e.sa,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sa2,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sa3,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),r[t++]=e.char3,r[t++]=e.seta,e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.la,r[t++]=e.setb,e.enc(),e.cset="seta");break}var jt=l(e.seta,e.char1)!==void 0;if(jt){r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta";break}var wt=l(e.setb,e.char1)!==void 0;if(wt){r[t++]=e.lb,r[t++]=e[e.cset],e.enc(),e.cset="setb";break}var Dt=l(e.setc,e.char1)!==void 0;Dt&&(e.setx="setc",e.sx=e.sc,e.lkx=e.lkc);var Ct=l(e.setd,e.char1)!==void 0;Ct&&(e.setx="setd",e.sx=e.sd,e.lkx=e.lkd);var Ut=l(e.sete,e.char1)!==void 0;Ut&&(e.setx="sete",e.sx=e.se,e.lkx=e.lke);var It=e[e.setx],kt=e.msg,P=e.i,Y=e.msglen,q=e.i,O=Y-q,$=4;if(4>Y-q){var ht=O;O=$,$=ht}r[t++]="p",r[t++]=It,r[t++]=N(kt,P,$),e.prefixinset();var le=r[--t];e[r[--t]]=le,e.p==1&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char3,r[t++]=e[e.setx],e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.lkx,r[t++]=e[e.setx],e.enc(),e.cset=e.setx);break}}e.encmsg=N(e.out,0,e.j),e.padval=l(e[e.cset],e.pad)}if(V(e.encoding,"new")){e.haveb=!1,e.havec=!1,e.haved=!1,e.havee=!1,e.havei=!1;for(var K=0,be=e.msglen-1;K<=be;K+=1)if(e.c=l(e.msg,K),e.c<=-1e6)e.havei=!0;else if((e.c<28||e.c>30)&&e.c!=32){var J=l(e.setb,e.c)!==void 0;J&&(e.haveb=!0);var fe=l(e.setc,e.c)!==void 0;fe&&(e.havec=!0);var me=l(e.setd,e.c)!==void 0;me&&(e.haved=!0);var ge=l(e.sete,e.c)!==void 0;ge&&(e.havee=!0)}r[t++]=1/0,r[t++]=0,e.haveb&&(r[t++]=1),e.havee&&(r[t++]=4),e.havec&&(r[t++]=2),e.haved&&(r[t++]=3),e.priority=s(),e.priority_rest=N(e.priority,1,e.priority.length-1),e.latch_sequence=s([s([s([]),s([63]),s([58]),s([58]),s([58])]),s([s([63]),s([]),s([63]),s([63]),s([63])]),s([s([60,60]),s([60,60]),s([]),s([60,60]),s([60,60])]),s([s([61,61]),s([61,61]),s([61,61]),s([]),s([61,61])]),s([s([62,62]),s([62,62]),s([62,62]),s([62,62]),s([])])]),e.latch_length=s([s([0,1,1,1,1]),s([1,0,1,1,1]),s([2,2,0,2,2]),s([2,2,2,0,2]),s([2,2,2,2,0])]),e.max_int=2147483647,r[t++]=1/0;for(var re=0;re<16;re++)r[t++]=s([0,0,0,0,0]);e.best_length=s(),r[t++]=1/0;for(var xe=0;xe<16;xe++)r[t++]=s([0,0,0,0,0]);e.best_origin=s(),r[t++]=1/0;for(var ke=0,he=e.msglen;ke<he;ke++){r[t++]=1/0;for(var Ae=0;Ae<5;Ae++)r[t++]=0;var we=s();r[t++]=we}e.prior_code_set=s(),r[t++]=1/0;for(var je=0,Oe=e.msglen;je<Oe;je++){r[t++]=1/0;for(var _e=0;_e<5;_e++)r[t++]=0;var Ge=s();r[t++]=Ge}if(e.path_op=s(),e.out_eci=function(){var At=-e.c-1e6;if(r[t++]=At,At<1024){var Kr=r[--t]<32?2:3;r[t++]=Kr}else{var sa=r[--t]<32768?4:5;r[t++]=sa}},e.enc_eci=function(){var At=-e.c-1e6;if(r[t++]=At,At>=32){var Kr=r[t-1];if(Kr<1024){var sa=r[--t];r[t++]=sa>>>6|32,r[t++]=sa&63}else{var za=r[t-1];if(za<32768){var ua=r[--t];r[t++]=ua>>>12|48,r[t++]=ua>>>6&63,r[t++]=ua&63}else{var Za=r[--t];r[t++]=Za>>>18|56,r[t++]=Za>>>12&63,r[t++]=Za>>>6&63,r[t++]=Za&63}}}},e.enc_ns=function(){var At=N(e.msg,e.n,9);r[t++]=0;for(var Kr=0,sa=At.length;Kr<sa;Kr++){var za=r[--t];r[t++]=S(l(At,Kr)-48+za*10)}var ua=r[--t];r[t++]=ua>>>24,r[t++]=ua>>>18&63,r[t++]=ua>>>12&63,r[t++]=ua>>>6&63,r[t++]=ua&63},e.enc_sha2=function(){r[t++]=l(e.seta,e.c),r[t++]=l(e.seta,l(e.msg,e.n+1))},e.enc_sha3=function(){r[t++]=l(e.seta,e.c),r[t++]=l(e.seta,l(e.msg,e.n+1)),r[t++]=l(e.seta,l(e.msg,e.n+2))},r[t++]=1/0,e.havei){var st=new Map([["can",function(){r[t++]=e.c<=-1e6}],["intake",1],["output",function(){e.out_eci()}],["sets",31],["enc",function(){r[t++]=27,e.enc_eci()}]]);r[t++]=st}var at=new Map([["can",function(){r[t++]=e.digits>=9}],["intake",9],["output",function(){r[t++]=6}],["sets",31],["enc",function(){r[t++]=31,e.enc_ns()}]]),ye=new Map([["can",function(){var At=l(e.seta,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",1],["enc",function(){r[t++]=l(e.seta,e.c)}]]);if(r[t++]=at,r[t++]=ye,e.haveb){var He=new Map([["can",function(){var At=l(e.setb,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",2],["enc",function(){r[t++]=l(e.setb,e.c)}]]);r[t++]=He}if(e.havec){var Ue=new Map([["can",function(){var At=l(e.setc,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",4],["enc",function(){r[t++]=l(e.setc,e.c)}]]);r[t++]=Ue}if(e.haved){var We=new Map([["can",function(){var At=l(e.setd,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",8],["enc",function(){r[t++]=l(e.setd,e.c)}]]);r[t++]=We}if(e.havee){var pt=new Map([["can",function(){var At=l(e.sete,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",16],["enc",function(){r[t++]=l(e.sete,e.c)}]]);r[t++]=pt}var vt=new Map([["can",function(){r[t++]=e.num_a>=1}],["intake",1],["output",function(){r[t++]=2}],["sets",2],["enc",function(){r[t++]=59,r[t++]=l(e.seta,e.c)}]]),ft=new Map([["can",function(){r[t++]=e.num_a>=2}],["intake",2],["output",function(){r[t++]=3}],["sets",2],["enc",function(){r[t++]=56,e.enc_sha2()}]]),gt=new Map([["can",function(){r[t++]=e.num_a>=3}],["intake",3],["output",function(){r[t++]=4}],["sets",2],["enc",function(){r[t++]=57,e.enc_sha3()}]]);if(r[t++]=vt,r[t++]=ft,r[t++]=gt,e.haveb){var nt=new Map([["can",function(){var At=l(e.setb,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",1],["enc",function(){r[t++]=59,r[t++]=l(e.setb,e.c)}]]);r[t++]=nt}if(e.havec){var Ft=new Map([["can",function(){var At=l(e.setc,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",27],["enc",function(){r[t++]=60,r[t++]=l(e.setc,e.c)}]]);r[t++]=Ft}if(e.haved){var et=new Map([["can",function(){var At=l(e.setd,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",23],["enc",function(){r[t++]=61,r[t++]=l(e.setd,e.c)}]]);r[t++]=et}if(e.havee){var Ht=new Map([["can",function(){var At=l(e.sete,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",15],["enc",function(){r[t++]=62,r[t++]=l(e.sete,e.c)}]]);r[t++]=Ht}e.op_tab=s();var $t=e.op_tab;r[t++]=0;for(var zt=0,nr=$t.length;zt<nr;zt++){var Ir=r[--t];b(l($t,zt),"idx",Ir),r[t++]=Ir+1}r[t-1]=1/0;for(var ir=s([1,2,4,8,16]),br=0,sr=ir.length;br<sr;br++){e.n=l(ir,br),r[t++]=1/0;for(var Dr=e.op_tab,er=0,ur=Dr.length;er<ur;er++){var Wt=l(Dr,er);r[t++]=Wt,co(l(Wt,"sets"),e.n)==0&&t--}var Xt=s();r[t++]=Xt}e.code_set_operations=s(),e.get_best_length=function(){e.latch_length_s=l(e.latch_length,e.state),r[t++]=e.max_int,ve(l(e.code_set_operations,e.state),function(){if(e.op=r[--t],l(e.op,"can")()===!0)return!0;if(r[--t]){if(e.m=S(e.n-l(e.op,"intake"))&15,e.org=l(l(e.best_origin,e.m),e.state),r[t++]=S(l(l(e.best_length,e.m),e.org)+l(e.latch_length_s,e.org)),l(e.op,"output")()===!0)return!0;var At=r[--t],Kr=r[--t],sa=r[t-1];if(r[t++]=S(Kr+At),sa>S(Kr+At)){var za=r[--t],ua=r[--t];b(e.path_op_0,e.state,l(e.op,"idx")),b(e.prior_code_set_0,e.state,e.org),r[t++]=za,r[t++]=ua}t--}})},e.get_best_origin=function(){e.latch_length_s=l(e.latch_length,e.state),e.orglen=S(l(e.best_length_0,0)+l(e.latch_length_s,0));var At=e.priority_rest;r[t++]=0;for(var Kr=0,sa=At.length;Kr<sa;Kr++){e.p=l(At,Kr);var za=S(l(e.best_length_0,e.p)+l(e.latch_length_s,e.p));r[t++]=za,za<e.orglen?(e.orglen=r[--t],r[t-1]=e.p):t--}},e.digits=0,e.num_a=0;for(var fr=0,Tr=e.msglen-1;fr<=Tr;fr+=1){e.n=fr,e.c=l(e.msg,e.n),r[t++]="digits",e.c>=48&&e.c<58?r[t++]=e.digits+1:r[t++]=0;var Pr=r[--t];e[r[--t]]=Pr;var ha=l(e.seta,e.c)!==void 0;r[t++]="num_a",ha?r[t++]=e.num_a+1:r[t++]=0;var Rt=r[--t];e[r[--t]]=Rt,e.path_op_0=l(e.path_op,e.n),e.prior_code_set_0=l(e.prior_code_set,e.n),e.best_length_0=l(e.best_length,e.n&15),e.best_origin_0=l(e.best_origin,e.n&15);for(var Yt=e.priority,rr=0,wr=Yt.length;rr<wr;rr++){e.state=l(Yt,rr),r[t++]=e.best_length_0,r[t++]=e.state,e.get_best_length();var or=r[--t],Rr=r[--t];b(r[--t],Rr,or)}for(var lr=e.priority,Lt=0,yr=lr.length;Lt<yr;Lt++){e.state=l(lr,Lt),r[t++]=e.best_origin_0,r[t++]=e.state,e.get_best_origin();var aa=r[--t],pa=r[--t];b(r[--t],pa,aa)}}e.n=e.msglen;var Aa=e.priority;r[t++]=0,r[t++]=e.max_int;for(var Qr=0,Ca=Aa.length;Qr<Ca;Qr++){var ba=l(Aa,Qr),Ma=l(e.best_length_0,ba),da=r[t-1];r[t++]=ba,r[t++]=Ma,hn(Ma,da)&&Ea(4,2),t-=2}e.j=r[--t],e.state=r[--t],e.pad_code=s([33,33,0,0,28]),r[t++]="final_code_set",l(e.pad_code,e.state)==0?r[t++]=0:r[t++]=e.state;var ka=r[--t];if(e[r[--t]]=ka,l(e.pad_code,e.state)==0&&hn(e.j,e.maxlen)){var Ia=s(e.j+1);b(Ia,e.j,58),r[t++]=Ia}else r[t++]=s(e.j);for(e.padval=l(e.pad_code,e.final_code_set),e.len=e.j;!(e.n<=0||(e.pcs=l(l(e.prior_code_set,e.n-1),e.state),e.op_idx=l(l(e.path_op,e.n-1),e.state),e.op=l(e.op_tab,e.op_idx),e.n=S(e.n-l(e.op,"intake")),e.c=l(e.msg,e.n),e.enc=l(e.op,"enc"),r[t++]=1/0,e.enc()===!0));){e.output=s(),e.latch=l(l(e.latch_sequence,e.state),e.pcs),e.len=S(e.len-e.latch.length-e.output.length);var ja=r[--t],Qa=e.len,Ha=e.latch;R(ja,Qa,Ha),R(ja,S(Qa+Ha.length),e.output),e.state=e.pcs,r[t++]=ja}e.encmsg=r[--t]}r[t++]="sami",e.sam!=-1?r[t++]=s([l(e.seta,e.pad),(~~(e.sam/10)-1)*8+(e.sam%10-1)]):r[t++]=s([]);var Ka=r[--t];if(e[r[--t]]=Ka,r[t++]=1/0,U(e.sami),U(e.encmsg),e.encmsg=s(),e.mode==2||e.mode==3){e.encmsg.length>84&&(r[t++]="bwipp.maxicodeMode23TooLong#23176",r[t++]="The secondary message is too long",z());var ms=_r(X(4),"0000"),Ba=qt(X(4),~~e.mode,2);R(ms,4-Ba.length,Ba),e.mdb=ms;var Rs=_r(X(10),"0000000000"),$a=qt(X(10),Ce(e.ccode),2);R(Rs,10-$a.length,$a),e.ccb=Rs;var Qs=_r(X(10),"0000000000"),Fa=qt(X(10),Ce(e.scode),2);if(R(Qs,10-Fa.length,Fa),e.scb=Qs,e.pcb=_r(X(36),"000000000000000000000000000000000000"),e.mode==2){if(V(e.ccode,"840")&&e.pcode.length==5){var vs=_r(X(9),"     0000");R(vs,0,e.pcode),e.pcode=vs}var Ts=qt(X(6),e.pcode.length,2);R(e.pcb,6-Ts.length,Ts);var Ms=qt(X(30),Ce(e.pcode),2);R(e.pcb,36-Ms.length,Ms)}else{r[t++]=1/0;var Wa=_r(X(6),"      ");r[t++]=Wa,r[t++]=Wa,r[t++]=0,e.pcode.length>6?r[t++]=N(e.pcode,0,6):r[t++]=e.pcode;var Hs=r[--t],Ja=r[--t];R(r[--t],Ja,Hs),ve(r[--t],function(){var At=l(e.seta,r[--t]);r[t++]=At}),e.pccw=s();for(var xs=0;xs<=5;xs+=1){e.i=xs;var _a=qt(X(6),l(e.pccw,e.i),2);R(e.pcb,6*e.i+6-_a.length,_a)}}e.scm=X(60),R(e.scm,2,e.mdb),R(e.scm,38,N(e.pcb,0,4)),R(e.scm,30,N(e.pcb,4,6)),R(e.scm,24,N(e.pcb,10,6)),R(e.scm,18,N(e.pcb,16,6)),R(e.scm,12,N(e.pcb,22,6)),R(e.scm,6,N(e.pcb,28,6)),R(e.scm,0,N(e.pcb,34,2)),R(e.scm,52,N(e.ccb,0,2)),R(e.scm,42,N(e.ccb,2,6)),R(e.scm,36,N(e.ccb,8,2)),R(e.scm,54,N(e.scb,0,6)),R(e.scm,48,N(e.scb,6,4)),e.pri=s([0,0,0,0,0,0,0,0,0,0]);for(var mn=0;mn<=59;mn+=1)e.i=mn,e.ps=~~(e.i/6),e.ep=~~l1(2,5-e.i%6)*(l(e.scm,e.i)-48),b(e.pri,e.ps,S(l(e.pri,e.ps)+e.ep));r[t++]=1/0;for(var qa=0;qa<84;qa++)r[t++]=e.padval;e.sec=s(),R(e.sec,0,e.encmsg)}if(e.mode==4||e.mode==5||e.mode==6||e.mode==-1){if(e.mode==-1){var Nn=e.encmsg.length<=77?5:4;e.mode=Nn}r[t++]=1/0;for(var Da=e.mode==5?78:94,Js=0,Pa=Da;Js<Pa;Js++)r[t++]=e.padval;e.cws=s(),e.encmsg.length>e.cws.length-1&&(r[t++]="bwipp.maxicodeMode56TooLong#23243",r[t++]="The message is too long",z()),b(e.cws,0,e.mode),R(e.cws,1,e.encmsg),e.pri=N(e.cws,0,10),e.sec=N(e.cws,10,e.cws.length-10)}r[t++]=1/0,r[t++]=1;for(var rn=0;rn<63;rn++){var os=r[t-1],Zt=os*2;if(r[t++]=Zt,Zt>=64){var ea=r[--t];r[t++]=ea^67}}e.rsalog=s(),e.rslog=s(64);for(var Sa=1;Sa<=63;Sa+=1)b(e.rslog,l(e.rsalog,Sa),Sa);e.rsprod=function(){var At=r[t-1],Kr=r[t-2];if(At!=0&&Kr!=0){var sa=l(e.rslog,r[--t]),za=l(e.rsalog,S(sa+l(e.rslog,r[--t]))%63);r[t++]=za}else t-=2,r[t++]=0},e.rscodes=function(){e.rsnum=r[--t],e.cwb=r[--t],r[t++]=1/0,r[t++]=1;for(var At=0,Kr=e.rsnum;At<Kr;At++)r[t++]=0;e.coeffs=s();for(var sa=1,za=e.rsnum;sa<=za;sa+=1){e.i=sa,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var ua=e.i-1;ua>=1;ua-=1){e.j=ua,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var Za=r[--t],ys=r[--t],vn=r[--t];b(r[--t],vn,hs(ys,Za))}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var dt=r[--t],St=r[--t];b(r[--t],St,dt)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1),r[t++]=1/0;for(var pr=0,cr=e.rsnum;pr<cr;pr++)r[t++]=0;e.ecb=s();for(var hr=0,Mr=e.cwb.length-1;hr<=Mr;hr+=1){e.t=hs(l(e.cwb,hr),l(e.ecb,0));for(var dr=e.ecb.length-1;dr>=0;dr-=1){e.i=dr,e.p=e.ecb.length-e.i-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=l(e.coeffs,e.i),e.rsprod();var na=r[--t],$r=r[--t];b(r[--t],$r,na),e.i>0&&b(e.ecb,e.p,hs(l(e.ecb,e.p+1),l(e.ecb,e.p)))}}r[t++]=e.ecb},r[t++]=1/0;for(var Oa=0,gs=e.sec.length-1;Oa<=gs;Oa+=2)r[t++]=l(e.sec,Oa);e.seco=s(),r[t++]=1/0;for(var Hr=1,ls=e.sec.length-1;Hr<=ls;Hr+=2)r[t++]=l(e.sec,Hr);e.sece=s();var bs=e.sec.length==84?20:28;e.scodes=bs,r[t++]="secochk",r[t++]=e.seco,r[t++]=e.scodes,e.rscodes();var Ua=r[--t];e[r[--t]]=Ua,r[t++]="secechk",r[t++]=e.sece,r[t++]=e.scodes,e.rscodes();var Cn=r[--t];e[r[--t]]=Cn,r[t++]=1/0;for(var Ra=0,u1=e.scodes-1;Ra<=u1;Ra+=1)r[t++]=l(e.secochk,Ra),r[t++]=l(e.secechk,Ra);e.secchk=s(),r[t++]=1/0,U(e.pri),r[t++]=e.pri,r[t++]=10,e.rscodes(),U(r[--t]),U(e.sec),U(e.secchk),e.codewords=s();var $s=l(e.options,"debugcws")!==void 0;$s&&(r[t++]="bwipp.debugcws#23325",r[t++]=e.codewords,z()),r[t++]=1/0;for(var Ta=0;Ta<864;Ta++)r[t++]=0;e.mods=s();for(var In=0;In<=143;In+=1){e.i=In,r[t++]=1/0;for(var Xa=qt(X(6),l(e.codewords,e.i),2),Bn=0,ws=Xa.length;Bn<ws;Bn++)r[t++]=l(Xa,Bn)-48;e.cw=s(),R(e.mods,6*e.i+(6-e.cw.length),e.cw)}e.modmap=s([469,529,286,316,347,346,673,672,703,702,647,676,283,282,313,312,370,610,618,379,378,409,408,439,705,704,559,589,588,619,458,518,640,701,675,674,285,284,315,314,310,340,531,289,288,319,349,348,456,486,517,516,471,470,369,368,399,398,429,428,549,548,579,578,609,608,649,648,679,678,709,708,639,638,669,668,699,698,279,278,309,308,339,338,381,380,411,410,441,440,561,560,591,590,621,620,547,546,577,576,607,606,367,366,397,396,427,426,291,290,321,320,351,350,651,650,681,680,711,710,1,0,31,30,61,60,3,2,33,32,63,62,5,4,35,34,65,64,7,6,37,36,67,66,9,8,39,38,69,68,11,10,41,40,71,70,13,12,43,42,73,72,15,14,45,44,75,74,17,16,47,46,77,76,19,18,49,48,79,78,21,20,51,50,81,80,23,22,53,52,83,82,25,24,55,54,85,84,27,26,57,56,87,86,117,116,147,146,177,176,115,114,145,144,175,174,113,112,143,142,173,172,111,110,141,140,171,170,109,108,139,138,169,168,107,106,137,136,167,166,105,104,135,134,165,164,103,102,133,132,163,162,101,100,131,130,161,160,99,98,129,128,159,158,97,96,127,126,157,156,95,94,125,124,155,154,93,92,123,122,153,152,91,90,121,120,151,150,181,180,211,210,241,240,183,182,213,212,243,242,185,184,215,214,245,244,187,186,217,216,247,246,189,188,219,218,249,248,191,190,221,220,251,250,193,192,223,222,253,252,195,194,225,224,255,254,197,196,227,226,257,256,199,198,229,228,259,258,201,200,231,230,261,260,203,202,233,232,263,262,205,204,235,234,265,264,207,206,237,236,267,266,297,296,327,326,357,356,295,294,325,324,355,354,293,292,323,322,353,352,277,276,307,306,337,336,275,274,305,304,335,334,273,272,303,302,333,332,271,270,301,300,331,330,361,360,391,390,421,420,363,362,393,392,423,422,365,364,395,394,425,424,383,382,413,412,443,442,385,384,415,414,445,444,387,386,417,416,447,446,477,476,507,506,537,536,475,474,505,504,535,534,473,472,503,502,533,532,455,454,485,484,515,514,453,452,483,482,513,512,451,450,481,480,511,510,541,540,571,570,601,600,543,542,573,572,603,602,545,544,575,574,605,604,563,562,593,592,623,622,565,564,595,594,625,624,567,566,597,596,627,626,657,656,687,686,717,716,655,654,685,684,715,714,653,652,683,682,713,712,637,636,667,666,697,696,635,634,665,664,695,694,633,632,663,662,693,692,631,630,661,660,691,690,721,720,751,750,781,780,723,722,753,752,783,782,725,724,755,754,785,784,727,726,757,756,787,786,729,728,759,758,789,788,731,730,761,760,791,790,733,732,763,762,793,792,735,734,765,764,795,794,737,736,767,766,797,796,739,738,769,768,799,798,741,740,771,770,801,800,743,742,773,772,803,802,745,744,775,774,805,804,747,746,777,776,807,806,837,836,867,866,897,896,835,834,865,864,895,894,833,832,863,862,893,892,831,830,861,860,891,890,829,828,859,858,889,888,827,826,857,856,887,886,825,824,855,854,885,884,823,822,853,852,883,882,821,820,851,850,881,880,819,818,849,848,879,878,817,816,847,846,877,876,815,814,845,844,875,874,813,812,843,842,873,872,811,810,841,840,871,870,901,900,931,930,961,960,903,902,933,932,963,962,905,904,935,934,965,964,907,906,937,936,967,966,909,908,939,938,969,968,911,910,941,940,971,970,913,912,943,942,973,972,915,914,945,944,975,974,917,916,947,946,977,976,919,918,949,948,979,978,921,920,951,950,981,980,923,922,953,952,983,982,925,924,955,954,985,984,927,926,957,956,987,986,58,89,88,118,149,148,178,209,208,238,269,268,298,329,328,358,389,388,418,449,448,478,509,508,538,569,568,598,629,628,658,689,688,718,749,748,778,809,808,838,869,868,898,929,928,958,989,988]),e.pixs=s(864),e.j=0;for(var an=0,sn=e.mods.length-1;an<=sn;an+=1)e.i=an,l(e.mods,e.i)==1&&(b(e.pixs,e.j,l(e.modmap,e.i)),e.j=e.j+1);r[t++]=1/0,U(N(e.pixs,0,e.j)),r[t++]=28,r[t++]=29,r[t++]=280,r[t++]=281,r[t++]=311,r[t++]=457,r[t++]=488,r[t++]=500,r[t++]=530,r[t++]=670,r[t++]=700,r[t++]=677,r[t++]=707,e.pixs=s();var Jn=new Map([["ren","renmaximatrix"],["pixs",e.pixs],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Jn,e.dontdraw||FM(),e=a}function Ou(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="full",e.readerinit=!1,e.layers=-1,e.eclevel=23,e.ecaddchars=3,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.aztecEmptyData#23462",r[t++]="The data must not be empty",z()),(e.eclevel<5||e.eclevel>95)&&(r[t++]="bwipp.aztecInvalidEClevel#23466",r[t++]="The EC percentage must be from 5 to 95",z()),e.ecaddchars<3&&(r[t++]="bwipp.aztecInvalidECaddChars#23470",r[t++]="The number of additional EC codewords must be 3 or more",z()),Ee(e.format,"full")&&Ee(e.format,"compact")&&Ee(e.format,"rune")&&(r[t++]="bwipp.aztecInvalidFormat#23474",r[t++]="The format must be either full, compact or rune",z()),V(e.format,"full")&&(e.readerinit&&(e.layers<1||e.layers>22)&&(r[t++]="bwipp.aztecFullInitInvalidLayers#23479",r[t++]="Full-range symbols for reader programming must specify from 1 to 22 layers",z()),e.layers!=-1&&(e.layers<1||e.layers>32)&&(r[t++]="bwipp.aztecFullInvalidLayers#23482",r[t++]="Layers for full-range symbols must be from 1 to 32",z())),V(e.format,"compact")&&(e.readerinit&&(e.layers!=-1&&e.layers!=1&&(r[t++]="bwipp.aztecCompactInitInvalidLayers#23489",r[t++]="Compact symbols for reader programming must have 1 layer",z()),e.layers=1),e.layers!=-1&&(e.layers<1||e.layers>4)&&(r[t++]="bwipp.aztecCompactInvalidLayers#23494",r[t++]="Layers for compact symbols must be from 1 to 4",z())),V(e.format,"rune")){e.layers!=-1&&(r[t++]="bwipp.aztecRuneInvalidLayers#23500",r[t++]="It is not valid to specify layers for runes",z()),e.readerinit&&(r[t++]="bwipp.aztecRuneReaderInit#23503",r[t++]="Reader initialisation is not compactible with Aztec Runes",z()),e.barcode.length==0&&(r[t++]="bwipp.aztecRuneNotNumeric#23506",r[t++]="Aztec runes must be numeric",z()),ve(e.barcode,function(){var $=r[--t];($<48||$>57)&&(r[t++]="bwipp.aztecRuneNotNumeric#23510",r[t++]="Aztec runes must be numeric",z())});var n=Ce(e.barcode);(n<0||n>255)&&(r[t++]="bwipp.aztecRuneInvalid#23514",r[t++]="Aztec runes must be 0 to 255",z())}e.fn1=-1;var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,e.U=0,e.L=1,e.M=2,e.P=3,e.D=4,e.B=5,e.lu=-2,e.ll=-3,e.lm=-4,e.lp=-5,e.ld=-6,e.su=-7,e.sp=-8,e.sb=-9,e.fl=-10,e.p2=-11,e.p3=-12,e.p4=-13,e.p5=-14,e.charmaps=s([s([e.sp,e.sp,e.sp,e.fl,e.sp]),s([32,32,32,13,32]),s(["A","a",1,e.p2,"0"]),s(["B","b",2,e.p3,"1"]),s(["C","c",3,e.p4,"2"]),s(["D","d",4,e.p5,"3"]),s(["E","e",5,"!","4"]),s(["F","f",6,'"',"5"]),s(["G","g",7,"#","6"]),s(["H","h",8,"$","7"]),s(["I","i",9,"%","8"]),s(["J","j",10,"&","9"]),s(["K","k",11,"'",","]),s(["L","l",12,40,"."]),s(["M","m",13,41,e.lu]),s(["N","n",27,"*",e.su]),s(["O","o",28,"+",-99]),s(["P","p",29,",",-99]),s(["Q","q",30,"-",-99]),s(["R","r",31,".",-99]),s(["S","s","@","/",-99]),s(["T","t",92,":",-99]),s(["U","u","^",";",-99]),s(["V","v","_","<",-99]),s(["W","w","`","=",-99]),s(["X","x","|",">",-99]),s(["Y","y","~","?",-99]),s(["Z","z",127,"[",-99]),s([e.ll,e.su,e.ll,"]",-99]),s([e.lm,e.lm,e.lu,"{",-99]),s([e.ld,e.ld,e.lp,"}",-99]),s([e.sb,e.sb,e.sb,e.lu,-99])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var c=0,d=e.charmaps.length-1;c<=d;c+=1){e.i=c,e.encs=l(e.charmaps,e.i);for(var f=0;f<=4;f+=1){e.j=f;var h=l(e.encs,e.j);if(r[t++]=h,V(tn(h),"stringtype")){var p=l(r[--t],0);r[t++]=p}b(l(e.charvals,e.j),r[--t],e.i)}}var m=new Map([[`\r
`,e.p2],[". ",e.p3],[", ",e.p4],[": ",e.p5]]);if(e.pcomp=m,e.e=1e6,e.latlen=s([s([0,5,5,10,5,10]),s([9,0,5,10,5,10]),s([5,5,0,5,10,10]),s([5,10,10,0,10,15]),s([4,9,9,14,0,14]),s([0,0,0,0,0,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.ld,e.lu]),s([]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.lu]),s([e.ll]),s([]),s([e.lp]),s([e.lu,e.ld]),s([e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([]),s([e.lu,e.ld]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([e.lu,e.lm,e.lp]),s([]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.ll]),s([e.lm]),s([]),s([]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,5,e.e]),s([5,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,e.e,e.e]),s([4,e.e,e.e,4,e.e])]),e.msgbits="",Ee(e.format,"rune")&&e.raw&&(e.msgbits=e.barcode),Ee(e.format,"rune")&&!e.raw){e.charsize=function(){var $=r[t-1];if($>=0){t--;var le=l(s([5,5,5,5,4,8]),r[--t]);r[t++]=le}else{var K=r[--t];r[t-1]=K;var be=r[t-1];if(be==e.fn1)r[t-1]=8;else{var J=-r[--t]-1e6;r[t++]=J,J==0&&(r[t-1]=1);var fe=r[--t];r[t++]=(~~(un(fe)/un(10))+1)*4+8}}},e.curlen=s([0,e.e,e.e,e.e,e.e,e.e]),e.curseq=s([s([]),s([]),s([]),s([]),s([]),s([])]),e.backto=e.U,e.lastchar="",ve(e.msg,function(){for(e.char=r[--t];;){e.imp=!1;for(var $=s([e.U,e.L,e.M,e.P,e.D,e.B]),le=0,K=$.length;le<K;le++){e.x=l($,le);for(var be=s([e.U,e.L,e.M,e.P,e.D,e.B]),J=0,fe=be.length;J<fe;J++)if(e.y=l(be,J),(e.x!=e.B||e.y==e.backto)&&(e.cost=S(l(e.curlen,e.x)+l(l(e.latlen,e.x),e.y)),e.cost<l(e.curlen,e.y))){b(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,U(l(e.curseq,e.x)),U(l(l(e.latseq,e.x),e.y));var me=s(),ge=r[--t];if(b(r[--t],ge,me),e.y==e.B){r[t++]="backto",e.x==e.P||e.x==e.D?r[t++]=e.U:r[t++]=e.x;var re=r[--t];e[r[--t]]=re}e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e,e.e,e.e]),e.nxtseq=s(6);for(var xe=s([e.U,e.L,e.M,e.P,e.D,e.B]),ke=0,he=xe.length;ke<he;ke++)for(e.x=l(xe,ke);;){if(e.char>=0){if(e.x!=e.B){var Ae=l(l(e.charvals,e.x),e.char)!==void 0;if(!Ae)break}}else if(e.x!=e.P)break;r[t++]="cost",r[t++]=l(e.curlen,e.x),r[t++]=e.x,r[t++]=e.char,e.charsize();var we=r[--t],je=r[--t];if(e[r[--t]]=S(je+we),e.cost<l(e.nxtlen,e.x)){b(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,U(l(e.curseq,e.x)),r[t++]=e.char;var Oe=s(),_e=r[--t];b(r[--t],_e,Oe)}if(e.x==e.B)break;for(var Ge=s([e.U,e.L,e.M,e.P,e.D]),st=0,at=Ge.length;st<at;st++)if(e.y=l(Ge,st),Ee(e.x,e.y)){r[t++]="cost",r[t++]=S(l(e.curlen,e.y)+l(l(e.shftlen,e.y),e.x)),r[t++]=e.x,r[t++]=e.char,e.charsize();var ye=r[--t],He=r[--t];if(e[r[--t]]=S(He+ye),e.cost<l(e.nxtlen,e.y)){b(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,U(l(e.curseq,e.y));var Ue=e.x==e.U?e.su:e.sp;r[t++]=Ue,r[t++]=e.char;var We=s(),pt=r[--t];b(r[--t],pt,We)}}break}if(e.lastchar.length!=0&&e.char>=0){var vt=X(2);b(vt,0,e.lastchar),b(vt,1,e.char),e.pchars=vt;var ft=l(e.pcomp,e.pchars)!==void 0;if(ft){for(var gt=s([e.U,e.L,e.M,e.P,e.D]),nt=0,Ft=gt.length;nt<Ft;nt++)if(e.i=l(gt,nt),e.inP=!0,e.i==e.M?e.lastchar==13&&(e.inP=!1):e.i==e.D&&(e.lastchar==44||e.lastchar==46)&&(e.inP=!1),e.inP&&hn(l(e.curlen,e.i),l(e.nxtlen,e.i))){e.curseqi=l(e.curseq,e.i),e.lastld=!1,e.lastsp=!1,e.lastidx=-1;for(var et=e.curseqi.length-1;et>=0;et-=1)if(e.idx=et,e.ch=l(e.curseqi,e.idx),e.lastidx==-1)V(e.ch,e.lastchar)&&(e.lastidx=e.idx,e.idx>0&&l(e.curseqi,e.idx-1)==e.sp&&(e.lastsp=!0));else{if(e.ch==e.sb){e.lastidx=-1;break}if(e.ch<0&&e.ch>=e.ld){e.i==e.P?e.ch==e.ld&&(e.lastld=!0):e.ch!=e.lp&&(e.inP=e.lastsp);break}}if(e.inP&&e.lastidx>=0)if(b(e.nxtlen,e.i,l(e.curlen,e.i)),e.lastidx<e.curseqi.length-1)if(e.i==e.P){e.lastld&&b(e.nxtlen,e.i,l(e.nxtlen,e.i)+1),r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,U(e.curseqi),Ea(e.curseqi.length-e.lastidx,-1),r[t-1]=l(e.pcomp,e.pchars);var Ht=s(),$t=r[--t];b(r[--t],$t,Ht)}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,U(e.curseqi);var zt=s(),nr=r[--t];b(r[--t],nr,zt),b(l(e.nxtseq,e.i),e.lastidx,l(e.pcomp,e.pchars))}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,U(e.curseqi),r[t-1]=l(e.pcomp,e.pchars);var Ir=s(),ir=r[--t];b(r[--t],ir,Ir)}}}}Ee(l(e.nxtseq,e.B),null)&&(e.numbytes=0,ve(l(e.nxtseq,e.B),function(){r[--t]==e.sb?r[t++]=0:r[t++]=e.numbytes+1,e.numbytes=r[--t]}),e.numbytes==32&&b(e.nxtlen,e.B,l(e.nxtlen,e.B)+11)),e.curlen=e.nxtlen,e.curseq=e.nxtseq,r[t++]="lastchar",e.char>=0?r[t++]=e.char:r[t++]="";var br=r[--t];e[r[--t]]=br}),e.minseq=e.e;for(var v=s([e.U,e.L,e.M,e.P,e.D,e.B]),w=0,y=v.length;w<y;w++)e.i=l(v,w),l(e.curlen,e.i)<e.minseq&&(e.minseq=l(e.curlen,e.i),e.seq=l(e.curseq,e.i));for(e.tobin=function(){var $=X(r[--t]);r[t++]=$;for(var le=0,K=$.length-1;le<=K;le+=1){var be=r[t-1];b(be,le,48)}var J=r[t-1];r[t++]=J;var fe=r[t-3],me=r[t-1];r[t-3]=r[t-2],t-=2;var ge=qt(X(me.length),fe,2);R(me,me.length-ge.length,ge)},e.encu=function(){var $=l(l(e.charvals,e.U),r[--t]);r[t++]=$,r[t++]=5,e.tobin()},e.encl=function(){var $=l(l(e.charvals,e.L),r[--t]);r[t++]=$,r[t++]=5,e.tobin()},e.encm=function(){var $=l(l(e.charvals,e.M),r[--t]);r[t++]=$,r[t++]=5,e.tobin()},e.encd=function(){var $=l(l(e.charvals,e.D),r[--t]);r[t++]=$,r[t++]=4,e.tobin()},e.encp=function(){var $=r[t-1];if($==e.fn1)r[t-1]="00000000";else{var le=r[t-1];if(le<=-1e6){var K=-r[--t]-1e6;r[t++]=K,r[t++]=K,K==0&&(r[t-1]=1);var be=~~(un(r[--t])/un(10)),J=X((be+1)*4+8);R(J,0,"00000"),r[t++]=be,r[t++]=J,r[t++]=J,r[t++]=be+1,r[t++]=3,e.tobin();var fe=r[--t];if(R(r[--t],5,fe),Ea(3,1),r[t++]=-1,r[t++]=0,t<3)throw"--stack-underflow--";t-=3;for(var me=r[t],ge=r[t+1],re=r[t+2];ge<0?me>=re:me<=re;me+=ge){var xe=r[--t],ke=r[t-1];r[t++]=~~(xe/10),r[t++]=ke,r[t++]=me*4+8,r[t++]=xe%10+2,r[t++]=4,e.tobin();var he=r[--t],Ae=r[--t];R(r[--t],Ae,he)}t--}else{var we=l(l(e.charvals,e.P),r[--t]);r[t++]=we,r[t++]=5,e.tobin()}}},e.encfuncs=s(["encu","encl","encm","encp","encd"]),e.addtomsgbits=function(){e.v=r[--t],R(e.msgbits,e.j,e.v),e.j=e.j+e.v.length},e.state=e.U,e.msgbits=X(e.minseq),e.i=0,e.j=0;!(e.i>=e.seq.length);)if(e.state!=e.B){if(e.char=l(e.seq,e.i),r[t++]=e.char,e[l(e.encfuncs,e.state)]()===!0)break;e.addtomsgbits(),e.i=e.i+1,(e.char==e.su||e.char==e.sp)&&(r[t++]=l(e.seq,e.i),e.char==e.su?e.encu():e.encp(),e.addtomsgbits(),e.i=e.i+1),e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M),e.char==e.lp&&(e.state=e.P),e.char==e.ld&&(e.state=e.D),e.char==e.sb&&(e.state=e.B)}else{for(e.numbytes=0;!(e.i+e.numbytes>=e.seq.length||l(e.seq,e.i+e.numbytes)<0);)e.numbytes=e.numbytes+1;e.numbytes<=31?(r[t++]=e.numbytes,r[t++]=5,e.tobin(),e.addtomsgbits()):(r[t++]=0,r[t++]=5,e.tobin(),e.addtomsgbits(),r[t++]=e.numbytes-31,r[t++]=11,e.tobin(),e.addtomsgbits());for(var x=0,g=e.numbytes;x<g;x++)r[t++]=l(e.seq,e.i),r[t++]=8,e.tobin(),e.addtomsgbits(),e.i=e.i+1;e.i<e.seq.length&&(e.char=l(e.seq,e.i),e.i=e.i+1,e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M))}e.msgbits=N(e.msgbits,0,e.j)}e.metrics=s([s(["rune",0,0,0,6]),s(["compact",1,1,17,6]),s(["full",1,1,21,6]),s(["compact",2,0,40,6]),s(["full",2,1,48,6]),s(["compact",3,0,51,8]),s(["full",3,1,60,8]),s(["compact",4,0,76,8]),s(["full",4,1,88,8]),s(["full",5,1,120,8]),s(["full",6,1,156,8]),s(["full",7,1,196,8]),s(["full",8,1,240,8]),s(["full",9,1,230,10]),s(["full",10,1,272,10]),s(["full",11,1,316,10]),s(["full",12,1,364,10]),s(["full",13,1,416,10]),s(["full",14,1,470,10]),s(["full",15,1,528,10]),s(["full",16,1,588,10]),s(["full",17,1,652,10]),s(["full",18,1,720,10]),s(["full",19,1,790,10]),s(["full",20,1,864,10]),s(["full",21,1,940,10]),s(["full",22,1,1020,10]),s(["full",23,0,920,12]),s(["full",24,0,992,12]),s(["full",25,0,1066,12]),s(["full",26,0,1144,12]),s(["full",27,0,1224,12]),s(["full",28,0,1306,12]),s(["full",29,0,1392,12]),s(["full",30,0,1480,12]),s(["full",31,0,1570,12]),s(["full",32,0,1664,12])]);for(var A=e.metrics,j=0,C=A.length;j<C&&(e.m=l(A,j),e.frmt=l(e.m,0),e.mlyr=l(e.m,1),e.icap=l(e.m,2),e.ncws=l(e.m,3),e.bpcw=l(e.m,4),e.numecw=~~xr(S(e.ncws*e.eclevel/100+e.ecaddchars)),e.msgbits.length==0&&(e.numecw=0),e.numdcw=S(e.ncws-e.numecw),e.okay=!0,Ee(e.format,e.frmt)&&(e.okay=!1),e.readerinit&&e.icap!=1&&(e.okay=!1),e.layers!=-1&&e.layers!=e.mlyr&&(e.okay=!1),~~xr(e.msgbits.length/e.bpcw)>e.numdcw&&(e.okay=!1),!e.okay);j++);for(e.okay||(r[t++]="bwipp.aztecNoValidSymbol#23967",r[t++]="Maximum length exceeded",z()),e.layers=e.mlyr,e.allzero=function(){var $=r[--t];r[t++]=V($,N("000000000000",0,$.length))},e.allones=function(){var $=r[--t];r[t++]=V($,N("111111111111",0,$.length))},e.cws=s(e.ncws),e.m=0,e.c=0;!(e.msgbits.length<=e.m);){if(e.msgbits.length-e.m>=e.bpcw){e.cwb=N(e.msgbits,e.m,e.bpcw-1),e.cwf=N(e.msgbits,S(e.m+e.bpcw)-1,1),r[t++]=e.cwb,e.allzero(),r[--t]&&(e.cwf="1",e.m=e.m-1),r[t++]=e.cwb,e.allones(),r[--t]&&(e.cwf="0",e.m=e.m-1);var k=X(12);R(k,0,e.cwb),R(k,e.bpcw-1,e.cwf),e.cwb=N(k,0,e.bpcw)}else{e.cwb=N(e.msgbits,e.m,e.msgbits.length-e.m);var E=_r(X(12),"111111111111");R(E,0,e.cwb),e.cwb=N(E,0,e.bpcw),r[t++]=e.cwb,e.allones(),r[--t]&&R(e.cwb,e.cwb.length-1,"0")}e.cw=0;for(var B=0,I=e.bpcw-1;B<=I;B+=1)e.i=B,e.cw=S(e.cw+~~l1(2,S(e.bpcw-e.i)-1)*(l(e.cwb,e.i)-48));b(e.cws,e.c,e.cw),e.m=S(e.m+e.bpcw),e.c=e.c+1}e.cws=N(e.cws,0,e.c);var D=l(e.options,"debugcws")!==void 0;if(D&&(r[t++]="bwipp.debugcws#24006",r[t++]=e.cws,z()),e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var $=0,le=e.rsgf-1;$<le;$++){var K=r[t-1],be=K*2;if(r[t++]=be,be>=e.rsgf){var J=r[--t];r[t++]=hs(J,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var fe=1,me=e.rsgf-1;fe<=me;fe+=1)b(e.rslog,l(e.rsalog,fe),fe);e.rsprod=function(){var ft=r[t-1],gt=r[t-2];if(ft!=0&&gt!=0){var nt=l(e.rslog,r[--t]),Ft=l(e.rsalog,S(nt+l(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=Ft}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var ge=0,re=e.rsnc;ge<re;ge++)r[t++]=0;e.coeffs=s();for(var xe=1,ke=e.rsnc;xe<=ke;xe+=1){e.i=xe,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var he=e.i-1;he>=1;he-=1){e.j=he,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var Ae=r[--t],we=r[--t],je=r[--t];b(r[--t],je,hs(we,Ae))}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var Oe=r[--t],_e=r[--t];b(r[--t],_e,Oe)}e.nd=e.rscws.length,r[t++]=1/0,U(e.rscws);for(var Ge=0,st=e.rsnc;Ge<st;Ge++)r[t++]=0;r[t++]=0,e.rscws=s();for(var at=0,ye=e.nd-1;at<=ye;at+=1){e.k=hs(l(e.rscws,at),l(e.rscws,e.nd));for(var He=0,Ue=e.rsnc-1;He<=Ue;He+=1){e.j=He,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=l(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=l(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var We=r[--t],pt=r[--t],vt=r[--t];b(r[--t],vt,hs(pt,We))}}r[t++]=N(e.rscws,0,e.rscws.length-1)},V(e.format,"full")){e.mode=(e.layers-1<<11)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|1024),e.mode=s([(e.mode&61440)>>>12,(e.mode&3840)>>>8,(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=6,r[t++]=16,r[t++]=19,e.rscodes();var M=r[--t];e[r[--t]]=M}if(V(e.format,"compact")){e.mode=(e.layers-1<<6)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|32),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var T=r[--t];e[r[--t]]=T}if(V(e.format,"rune")){e.mode=Ce(e.barcode),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var H=r[--t];e[r[--t]]=H,r[t++]=1/0;for(var _=e.mode,F=0,Q=_.length;F<Q;F++)r[t++]=l(_,F)^10;e.mode=s()}e.modebits=X(e.mode.length*4);for(var L=0,ee=e.modebits.length-1;L<=ee;L+=1)R(e.modebits,L,"0");for(var se=0,ue=e.mode.length-1;se<=ue;se+=1){e.i=se;var W=qt(X(4),l(e.mode,e.i),2);R(e.modebits,4-W.length+4*e.i,W)}e.rsparams=s([s([]),s([]),s([]),s([]),s([]),s([]),s([64,67]),s([]),s([256,301]),s([]),s([1024,1033]),s([]),s([4096,4201])]),r[t++]="cws",r[t++]=e.cws,r[t++]=S(e.ncws-e.cws.length),U(l(e.rsparams,e.bpcw)),e.rscodes();var G=r[--t];e[r[--t]]=G,V(e.format,"full")?e.databits=X(S(e.layers*e.layers*16+e.layers*112)):e.databits=X(S(e.layers*e.layers*16+e.layers*88));for(var ne=0,de=e.databits.length-1;ne<=de;ne+=1)R(e.databits,ne,"0");for(var te=0,ae=e.ncws-1;te<=ae;te+=1){e.i=te;var ie=qt(X(e.bpcw),l(e.cws,e.i),2);R(e.databits,S(e.bpcw-ie.length+e.bpcw*e.i+(e.databits.length-e.ncws*e.bpcw)),ie)}e.cmv=function(){var $=r[--t],le=r[--t];r[t++]=S(le-$*e.size+e.mid)},e.lmv=function(){e.lbit=r[--t],e.llyr=r[--t],e.lwid=S(e.fw+e.llyr*4),e.ldir=~~(~~(e.lbit/2)/e.lwid),e.ldir==0&&(r[t++]=S(-~~((e.lwid-1)/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==1&&(r[t++]=S(~~(e.fw/2)+e.llyr*2+e.lbit%2),r[t++]=S(~~((e.lwid-1)/2)-1-~~(e.lbit/2)%e.lwid),e.cmv()),e.ldir==2&&(r[t++]=-S(-~~(e.lwid/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=-S(~~(e.fw/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==3&&(r[t++]=-S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),r[t++]=-S(~~(e.lwid/2)-1-~~(e.lbit/2)%e.lwid),e.cmv())},V(e.format,"full")?e.fw=12:e.fw=9,e.size=S(e.fw+e.layers*4)+2,r[t++]=1/0;for(var oe=0,De=e.size*e.size;oe<De;oe++)r[t++]=-1;e.pixs=s(),e.mid=S(~~((e.size-1)/2)*e.size+~~((e.size-1)/2)),e.i=0;for(var Ne=1,Le=e.layers;Ne<=Le;Ne+=1){e.layer=Ne;for(var Te=0,Ve=(e.fw+e.layer*4)*8-1;Te<=Ve;Te+=1){e.pos=Te,r[t++]=e.pixs,r[t++]=e.layer,r[t++]=e.pos,e.lmv();var Qe=r[--t];b(r[--t],Qe,l(e.databits,e.databits.length-e.i-1)-48),e.i=e.i+1}}if(V(e.format,"full")){e.fw=13,e.size=S(e.fw+e.layers*4+2+~~((e.layers+10.5)/7.5-1)*2),e.mid=~~(e.size*e.size/2),r[t++]=1/0;for(var ot=0,Ze=e.size*e.size;ot<Ze;ot++)r[t++]=-2;e.npixs=s();for(var Fe=0,Ke=~~(e.size/2);Fe<=Ke;Fe+=16){e.i=Fe;for(var Je=0,rt=e.size-1;Je<=rt;Je+=1){e.j=Je,r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=e.i,e.cmv();var Xe=r[--t];R(r[--t],Xe,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=-e.i,e.cmv();var Se=r[--t];R(r[--t],Se,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var pe=r[--t];R(r[--t],pe,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var Ie=r[--t];R(r[--t],Ie,s([(~~(e.size/2)+e.j+e.i+1)%2]))}}e.j=0;for(var Me=0,Re=e.npixs.length-1;Me<=Re;Me+=1)e.i=Me,l(e.npixs,e.i)==-2&&(b(e.npixs,e.i,l(e.pixs,e.j)),e.j=e.j+1);e.pixs=e.npixs}e.fw=~~(e.fw/2);for(var Ye=-e.fw,ze=e.fw;Ye<=ze;Ye+=1){e.i=Ye;for(var mt=-e.fw,lt=e.fw;mt<=lt;mt+=1){e.j=mt,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.cmv(),qo(e.i)>qo(e.j)?r[t++]=qo(e.i):r[t++]=qo(e.j);var ht=r[--t],yt=r[--t];b(r[--t],yt,(ht+1)%2)}}for(var jt=s([s([-(e.fw+1),e.fw,1]),s([-(e.fw+1),e.fw+1,1]),s([-e.fw,e.fw+1,1]),s([e.fw+1,e.fw+1,1]),s([e.fw+1,e.fw,1]),s([e.fw+1,-e.fw,1]),s([e.fw,e.fw+1,0]),s([e.fw+1,-(e.fw+1),0]),s([e.fw,-(e.fw+1),0]),s([-e.fw,-(e.fw+1),0]),s([-(e.fw+1),-(e.fw+1),0]),s([-(e.fw+1),-e.fw,0])]),wt=0,Dt=jt.length;wt<Dt;wt++){r[t++]=e.pixs,U(l(jt,wt)),Ea(3,1),e.cmv();var Ct=r[--t],Ut=r[--t];b(r[--t],Ct,Ut)}e.modemapfull=s([s([-5,7]),s([-4,7]),s([-3,7]),s([-2,7]),s([-1,7]),s([1,7]),s([2,7]),s([3,7]),s([4,7]),s([5,7]),s([7,5]),s([7,4]),s([7,3]),s([7,2]),s([7,1]),s([7,-1]),s([7,-2]),s([7,-3]),s([7,-4]),s([7,-5]),s([5,-7]),s([4,-7]),s([3,-7]),s([2,-7]),s([1,-7]),s([-1,-7]),s([-2,-7]),s([-3,-7]),s([-4,-7]),s([-5,-7]),s([-7,-5]),s([-7,-4]),s([-7,-3]),s([-7,-2]),s([-7,-1]),s([-7,1]),s([-7,2]),s([-7,3]),s([-7,4]),s([-7,5])]),e.modemapcompact=s([s([-3,5]),s([-2,5]),s([-1,5]),s([0,5]),s([1,5]),s([2,5]),s([3,5]),s([5,3]),s([5,2]),s([5,1]),s([5,0]),s([5,-1]),s([5,-2]),s([5,-3]),s([3,-5]),s([2,-5]),s([1,-5]),s([0,-5]),s([-1,-5]),s([-2,-5]),s([-3,-5]),s([-5,-3]),s([-5,-2]),s([-5,-1]),s([-5,0]),s([-5,1]),s([-5,2]),s([-5,3])]),r[t++]="modemap",V(e.format,"full")?r[t++]=e.modemapfull:r[t++]=e.modemapcompact;var It=r[--t];e[r[--t]]=It;for(var kt=0,P=e.modemap.length-1;kt<=P;kt+=1){r[t++]=kt,r[t++]=e.pixs,U(l(e.modemap,kt)),e.cmv();var Y=r[--t],q=r[--t];b(q,Y,l(e.modebits,r[--t])-48)}var O=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["opt",e.options]]);r[t++]=O,e.dontdraw||xt(),e=a}function tM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","compact"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ou();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function rM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","rune"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ou();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function aM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.parse=!1,e.parsefnc=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=s(["unset","T-16","T-32","T-48","S-10","S-20","S-30","A","B","C","D","E","F","G","H"]);r[t++]=!1;for(var i=0,o=n.length;i<o;i++){var c=r[--t];r[t++]=c||V(l(n,i),e.version)}r[--t]||(r[t++]="bwipp.codeoneBadVersion#24394",r[t++]="version must be A to H, T-16, T-32, T-48, S-10, S-20 or S-30",z()),e.stype=V(N(e.version,0,1),"S"),e.ttype=V(N(e.version,0,1),"T"),e.stypevals=s(["1","1010","1100100","1111101000","10011100010000","11000011010100000","11110100001001000000","100110001001011010000000","101111101011110000100000000","111011100110101100101000000000","1001010100000010111110010000000000","1011101001000011101101110100000000000","1110100011010100101001010001000000000000","10010001100001001110011100101010000000000000","10110101111001100010000011110100100000000000000","11100011010111111010100100110001101000000000000000","100011100001101111001001101111110000010000000000000000","101100011010001010111100001011101100010100000000000000000"]),e.stypemetrics=s([s(["S-10",8,11,10,4,4,1,99,99,99]),s(["S-20",8,21,20,8,8,1,99,99,99]),s(["S-30",8,31,30,12,12,1,99,99,99])]),e.nonstypemetrics=s([s(["A",16,18,16,10,10,1,4,99,6]),s(["B",22,22,20,19,16,1,4,99,8]),s(["C",28,32,28,44,26,1,4,22,11]),s(["D",40,42,36,91,44,1,4,16,16]),s(["E",52,54,48,182,70,1,4,22,22]),s(["F",70,76,68,370,140,2,4,22,31]),s(["G",104,98,88,732,280,4,6,21,47]),s(["H",148,134,120,1480,560,8,6,20,69]),s(["T-16",16,17,16,10,10,1,99,99,99]),s(["T-32",16,33,32,24,16,1,99,99,99]),s(["T-48",16,49,48,38,22,1,99,99,99])]),e.fnc1=-1,e.fnc3=-2,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lD=-9,e.unl=-10,e.fnc2=-11,e.fnc4=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.fnc1lD=-18,e.unlcw=255,r[t++]=1/0;for(var d=0;d<=128;d+=1)r[t++]=d,r[t++]=d+1;r[t++]=e.pad,r[t++]=129;for(var f=0;f<=99;f+=1){var h=qt(X(2),f,10),p=_r(X(2),"00");R(p,2-h.length,h),r[t++]=p,r[t++]=f+130}var m=s([e.lC,e.lB,e.fnc1,e.fnc2,e.fnc3,e.fnc4,e.fnc1lD]);r[t++]=229;for(var v=0,w=m.length;v<w;v++){var y=r[--t]+1;r[t++]=l(m,v),r[t++]=y,r[t++]=y}r[t-1]=e.lX,r[t++]=238,r[t++]=e.lT,r[t++]=239,e.Avals=Pe(),r[t++]=1/0;for(var x=e.Avals,g=x.size,A=x.keys(),j=0;j<g;j++){var C=A.next().value;r[t++]=C;var k=1/0,E=x.get(C);r[t++]=k,r[t++]=E;var B=s();r[t++]=B}e.Avals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var I=48;I<=57;I+=1)r[t++]=I,r[t++]=I-44;for(var D=65;D<=90;D+=1)r[t++]=D,r[t++]=D-51;e.CNvals=Pe(),r[t++]=1/0;for(var M=0;M<=31;M+=1)r[t++]=M,r[t++]=M;e.C1vals=Pe(),r[t++]=1/0;for(var T=33;T<=47;T+=1)r[t++]=T,r[t++]=T-33;for(var H=58;H<=64;H+=1)r[t++]=H,r[t++]=H-43;for(var _=91;_<=95;_+=1)r[t++]=_,r[t++]=_-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.C2vals=Pe(),r[t++]=1/0;for(var F=96;F<=127;F+=1)r[t++]=F,r[t++]=F-96;e.C3vals=Pe(),r[t++]=1/0;for(var Q=e.CNvals,L=Q.size,ee=Q.keys(),se=0;se<L;se++){var ue=ee.next().value;r[t++]=ue;var W=1/0,G=Q.get(ue);r[t++]=W,r[t++]=G;var ne=s();r[t++]=ne}for(var de=e.C1vals,te=de.size,ae=de.keys(),ie=0;ie<te;ie++){var oe=ae.next().value;r[t++]=oe;var De=1/0,Ne=de.get(oe);r[t++]=De,r[t++]=l(e.CNvals,e.sft1),r[t++]=Ne;var Le=s();r[t++]=Le}for(var Te=e.C2vals,Ve=Te.size,Qe=Te.keys(),ot=0;ot<Ve;ot++){var Ze=Qe.next().value;r[t++]=Ze;var Fe=1/0,Ke=Te.get(Ze);r[t++]=Fe,r[t++]=l(e.CNvals,e.sft2),r[t++]=Ke;var Je=s();r[t++]=Je}for(var rt=e.C3vals,Xe=rt.size,Se=rt.keys(),pe=0;pe<Xe;pe++){var Ie=Se.next().value;r[t++]=Ie;var Me=1/0,Re=rt.get(Ie);r[t++]=Me,r[t++]=l(e.CNvals,e.sft3),r[t++]=Re;var Ye=s();r[t++]=Ye}e.Cvals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var ze=48;ze<=57;ze+=1)r[t++]=ze,r[t++]=ze-44;for(var mt=97;mt<=122;mt+=1)r[t++]=mt,r[t++]=mt-83;e.TNvals=Pe(),r[t++]=1/0;for(var lt=0;lt<=31;lt+=1)r[t++]=lt,r[t++]=lt;e.T1vals=Pe(),r[t++]=1/0;for(var ht=33;ht<=47;ht+=1)r[t++]=ht,r[t++]=ht-33;for(var yt=58;yt<=64;yt+=1)r[t++]=yt,r[t++]=yt-43;for(var jt=91;jt<=95;jt+=1)r[t++]=jt,r[t++]=jt-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.T2vals=Pe(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var wt=65;wt<=90;wt+=1)r[t++]=wt,r[t++]=wt-64;for(var Dt=123;Dt<=127;Dt+=1)r[t++]=Dt,r[t++]=Dt-96;e.T3vals=Pe(),r[t++]=1/0;for(var Ct=e.TNvals,Ut=Ct.size,It=Ct.keys(),kt=0;kt<Ut;kt++){var P=It.next().value;r[t++]=P;var Y=1/0,q=Ct.get(P);r[t++]=Y,r[t++]=q;var O=s();r[t++]=O}for(var $=e.T1vals,le=$.size,K=$.keys(),be=0;be<le;be++){var J=K.next().value;r[t++]=J;var fe=1/0,me=$.get(J);r[t++]=fe,r[t++]=l(e.TNvals,e.sft1),r[t++]=me;var ge=s();r[t++]=ge}for(var re=e.T2vals,xe=re.size,ke=re.keys(),he=0;he<xe;he++){var Ae=ke.next().value;r[t++]=Ae;var we=1/0,je=re.get(Ae);r[t++]=we,r[t++]=l(e.TNvals,e.sft2),r[t++]=je;var Oe=s();r[t++]=Oe}for(var _e=e.T3vals,Ge=_e.size,st=_e.keys(),at=0;at<Ge;at++){var ye=st.next().value;r[t++]=ye;var He=1/0,Ue=_e.get(ye);r[t++]=He,r[t++]=l(e.TNvals,e.sft3),r[t++]=Ue;var We=s();r[t++]=We}e.Tvals=Pe();for(var pt=128;pt<=255;pt+=1){e.i=pt,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,U(l(e.Avals,e.fnc4)),U(l(e.Avals,e.i-128));var vt=s(),ft=r[--t];b(r[--t],ft,vt),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,U(l(e.Cvals,e.fnc4)),U(l(e.Cvals,e.i-128));var gt=s(),nt=r[--t];b(r[--t],nt,gt),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,U(l(e.Tvals,e.fnc4)),U(l(e.Tvals,e.i-128));var Ft=s(),et=r[--t];b(r[--t],et,Ft)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Ht=48;Ht<=57;Ht+=1)r[t++]=Ht,r[t++]=Ht-44;for(var $t=65;$t<=90;$t+=1)r[t++]=$t,r[t++]=$t-51;e.Xvals=Pe(),r[t++]=1/0;for(var zt=e.Xvals,nr=zt.size,Ir=zt.keys(),ir=0;ir<nr;ir++){var br=Ir.next().value;r[t++]=br;var sr=1/0,Dr=zt.get(br);r[t++]=sr,r[t++]=Dr;var er=s();r[t++]=er}e.Xvals=Pe(),r[t++]=1/0;for(var ur=0;ur<=255;ur+=1)r[t++]=ur,r[t++]=ur;e.Bvals=Pe(),r[t++]=1/0;for(var Wt=e.Bvals,Xt=Wt.size,fr=Wt.keys(),Tr=0;Tr<Xt;Tr++){var Pr=fr.next().value;r[t++]=Pr;var ha=1/0,Rt=Wt.get(Pr);r[t++]=ha,r[t++]=Rt;var Yt=s();r[t++]=Yt}if(e.Bvals=Pe(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,-1,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.D=4,e.B=5,e.stype){ve(e.barcode,function(){var ut=r[--t];(ut<48||ut>57)&&(r[t++]="bwipp.codeoneStypeNonDigit#24564",r[t++]="S-Type symbols can only contain digits",z())}),e.barlen=e.barcode.length,e.barlen>18&&(r[t++]="bwipp.codeoneStypeTooLong#24570",r[t++]="Maximum length exceeded",z()),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var ut=e.num.length-1;ut>=1;ut-=1){e.i=ut;var Gt=e.num,zr=e.i;b(Gt,zr-1,S(l(Gt,zr-1)+~~(l(e.num,e.i)/e.base))),b(e.num,e.i,l(e.num,e.i)%e.base)}for(;!hn(l(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,U(e.num),e.num=s(),b(e.num,0,S(l(e.num,0)+~~(l(e.num,1)/e.base))),b(e.num,1,l(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var it=e.num,Pt=0,Vt=it.length;Pt<Vt;Pt++){var Jt=l(it,Pt);r[t++]=Jt,Jt==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var ut=r[--t],Gt=r[--t];if(e.offset=qo(ut.length-Gt.length),ut.length<Gt.length){var zr=ut;ut=Gt,Gt=zr}e.a=ut,e.b=Gt;for(var it=0,Pt=e.b.length-1;it<=Pt;it+=1){var Vt=e.a,Jt=e.offset;b(Vt,it+Jt,S(l(Vt,it+Jt)+l(e.b,it)))}r[t++]=e.a},e.barlen=e.barcode.length,e.v=s([1]);for(var rr=0,wr=e.barlen-1;rr<=wr;rr+=1){e.i=rr,r[t++]=1/0,ve(l(e.stypevals,e.i),function(){var ut=r[--t];r[t++]=(ut-48)*(l(e.barcode,e.barlen-e.i-1)-48)});var or=s();r[t++]=or,r[t++]=e.v,e.bigadd(),e.v=r[--t]}r[t++]="v",r[t++]=e.v,r[t++]=2,e.normalize();var Rr=r[--t];e[r[--t]]=Rr,r[t++]=1/0;for(var lr=0,Lt=(5-e.v.length%5)%5;lr<Lt;lr++)r[t++]=0;U(e.v),e.v=s(),e.cws=s(~~(e.v.length/5));for(var yr=0,aa=e.cws.length-1;yr<=aa;yr+=1){e.i=yr;var pa=N(e.v,e.i*5,5);r[t++]=0;for(var Aa=0,Qr=pa.length;Aa<Qr;Aa++){var Ca=r[--t];r[t++]=S(Ca+l(pa,Aa))*2}b(e.cws,e.i,~~(r[--t]/2))}e.metrics=e.stypemetrics}else{var ba=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["FNC3",e.fnc3]]);e.fncvals=ba,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var Ma=r[--t];e[r[--t]]=Ma,e.msglen=e.msg.length,e.eciesc=92;var da=e.msg;r[t++]="numecis",r[t++]=0;for(var ka=0,Ia=da.length;ka<Ia;ka++)if(l(da,ka)<=-1e6){var ja=r[--t];r[t++]=ja+1}var Qa=r[--t];if(e[r[--t]]=Qa,e.numecis>0){e.msgtmp=s(S(e.msg.length*2+e.numecis*6)+2),b(e.msgtmp,0,e.pad),b(e.msgtmp,1,e.eciesc),e.j=2;for(var Ha=0,Ka=e.msg.length-1;Ha<=Ka;Ha+=1){var ms=l(e.msg,Ha);if(r[t++]=ms,ms<=-1e6){for(var Ba=N(qt(X(7),-r[--t],10),1,6),Rs=0,$a=Ba.length;Rs<$a;Rs++)r[t++]=l(Ba,Rs);Kt(s(6)),R(e.msgtmp,e.j+1,r[--t]),b(e.msgtmp,e.j,e.eciesc),e.j=e.j+7}else{var Qs=r[t-1];Qs!=e.eciesc?(b(e.msgtmp,e.j,r[--t]),e.j=e.j+1):(t--,b(e.msgtmp,e.j,e.eciesc),b(e.msgtmp,e.j+1,e.eciesc),e.j=e.j+2)}}e.msg=N(e.msgtmp,0,e.j),e.msglen=e.msg.length}e.metrics=e.nonstypemetrics,e.fullcws=s([]);for(var Fa=e.metrics,vs=0,Ts=Fa.length;vs<Ts;vs++)e.m=l(Fa,vs),e.vers=l(e.m,0),e.dcws=l(e.m,4),e.okay=!0,V(e.version,"unset")?e.vers.length!=1&&(e.okay=!1):Ee(e.version,e.vers)&&(e.okay=!1),e.okay&&(r[t++]=1/0,U(e.fullcws),r[t++]=e.dcws,e.fullcws=s());r[t++]=1/0;for(var Ms=0;Ms<1480;Ms++)r[t++]=1e4;e.numremcws=s();for(var Wa=e.fullcws,Hs=0,Ja=Wa.length;Hs<Ja;Hs++)b(e.numremcws,l(Wa,Hs)-1,1);for(var xs=1478;xs>=0;xs-=1)e.i=xs,l(e.numremcws,e.i)!=1&&b(e.numremcws,e.i,l(e.numremcws,e.i+1)+1);r[t++]=1/0;for(var _a=0,mn=e.msglen;_a<mn;_a++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var qa=0,Nn=e.msglen;qa<Nn;qa++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Da=0,Js=e.msglen;Da<Js;Da++)r[t++]=0;r[t++]=9999,e.nextNonX=s();for(var Pa=e.msglen-1;Pa>=0;Pa-=1){e.i=Pa,e.barchar=l(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&b(e.numD,e.i,l(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?b(e.nextXterm,e.i,0):b(e.nextXterm,e.i,l(e.nextXterm,e.i+1)+1);var rn=l(e.Xvals,e.barchar)!==void 0;rn?b(e.nextNonX,e.i,l(e.nextNonX,e.i+1)+1):b(e.nextNonX,e.i,0)}r[t++]=1/0;for(var os=e.nextXterm,Zt=0,ea=os.length;Zt<ea;Zt++){var Sa=l(os,Zt);r[t++]=Sa,Sa>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var Oa=e.nextNonX,gs=0,Hr=Oa.length;gs<Hr;gs++){var ls=l(Oa,gs);r[t++]=ls,ls>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var ut=l(e.CNvals,e.char)!==void 0;r[t++]=ut},e.isT=function(){var ut=l(e.TNvals,e.char)!==void 0;r[t++]=ut},e.isX=function(){var ut=l(e.Xvals,e.char)!==void 0;r[t++]=ut},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var ut=r[--t];r[t++]=hn(l(e.nextXterm,ut),l(e.nextNonX,ut))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.bc=3,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.bc=2),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.B&&(e.bc=0);for(var ut=0;ut<1;ut++)for(e.k=0;;){if(e.i+e.k==e.msglen){var Gt=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var zr=0,it=Gt.length;zr<it;zr++){var Pt=r[--t];r[t++]=Pt&&e.bc<=xr(l(Gt,zr))}if(r[--t]){r[t++]=e.B;break}var Vt=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Jt=0,Xr=Vt.length;Jt<Xr;Jt++){var ya=r[--t];r[t++]=ya&&e.ac<=xr(l(Vt,Jt))}if(r[--t]){r[t++]=e.A;break}var xa=s([e.tc,e.xc]);r[t++]=!0;for(var ds=0,Gs=xa.length;ds<Gs;ds++){var ln=r[--t];r[t++]=ln&&xr(e.cc)<=xr(l(xa,ds))}if(r[--t]){r[t++]=e.C;break}var cn=s([e.xc]);r[t++]=!0;for(var Hn=0,bi=cn.length;Hn<bi;Hn++){var ri=r[--t];r[t++]=ri&&xr(e.tc)<=xr(l(cn,Hn))}if(r[--t]){r[t++]=e.T;break}r[t++]=e.X;break}if(e.char=l(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var O1=r[--t];r[t++]=S(O1+1/2)}else if(e.isEA(),r[--t]){var wi=r[--t];r[t++]=xr(wi)+2}else{var ai=r[--t];r[t++]=xr(ai)+1}var Qi=r[--t];if(e[r[--t]]=Qi,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var yi=r[--t];r[t++]=S(yi+.6666667)}else if(e.isEA(),r[--t]){var Nc=r[--t];r[t++]=S(Nc+2.6666667)}else{var Cc=r[--t];r[t++]=S(Cc+1.3333334)}var cl=r[--t];if(e[r[--t]]=cl,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var ko=r[--t];r[t++]=S(ko+.6666667)}else if(e.isEA(),r[--t]){var Ic=r[--t];r[t++]=S(Ic+2.6666667)}else{var Bc=r[--t];r[t++]=S(Bc+1.3333334)}var Dc=r[--t];if(e[r[--t]]=Dc,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var Rc=r[--t];r[t++]=S(Rc+.6666667)}else if(e.isEA(),r[--t]){var Tc=r[--t];r[t++]=S(Tc+4.3333334)}else{var Mc=r[--t];r[t++]=S(Mc+3.3333334)}var Fc=r[--t];if(e[r[--t]]=Fc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var _c=r[--t];r[t++]=_c+3}else{var Pc=r[--t];r[t++]=Pc+1}var Oc=r[--t];if(e[r[--t]]=Oc,e.k>=3){var dl=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var jo=0,Uc=dl.length;jo<Uc;jo++){var zc=r[--t];r[t++]=zc&&e.bc+1<=xr(l(dl,jo))}if(r[--t]){r[t++]=e.B;break}var ul=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var So=0,Lc=ul.length;So<Lc;So++){var Qc=r[--t];r[t++]=Qc&&e.ac+1<=xr(l(ul,So))}if(r[--t]){r[t++]=e.A;break}var fl=s([e.ac,e.cc,e.xc,e.bc]);r[t++]=!0;for(var Eo=0,Hc=fl.length;Eo<Hc;Eo++){var $c=r[--t];r[t++]=$c&&xr(e.tc)+1<=xr(l(fl,Eo))}if(r[--t]){r[t++]=e.T;break}var hl=s([e.ac,e.tc]);r[t++]=!0;for(var No=0,qc=hl.length;No<qc;No++){var pl=r[--t];r[t++]=pl&&xr(e.cc)+1<=xr(l(hl,No))}if(r[--t]){if(xr(e.cc)<xr(e.xc)){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}var Hi=s([e.ac,e.cc,e.tc,e.bc]);r[t++]=!0;for(var Co=0,Gc=Hi.length;Co<Gc;Co++){var $n=r[--t];r[t++]=$n&&xr(e.xc)+1<=xr(l(Hi,Co))}if(r[--t]){r[t++]=e.X;break}}e.k=e.k+1}},e.addtocws=function(){var ut=r[t-1];ut.length+e.j>1480&&(t--,r[t++]="bwipp.codeoneTooLong#24766",r[t++]="Maximum length exceeded",z());var Gt=r[--t];R(e.cws,e.j,Gt),e.j=Gt.length+e.j},e.tobin=function(){var ut=X(r[--t]);r[t++]=ut;for(var Gt=0,zr=ut.length-1;Gt<=zr;Gt+=1){var it=r[t-1];b(it,Gt,48)}var Pt=r[t-1];r[t++]=Pt;var Vt=r[t-3],Jt=r[t-1];r[t-3]=r[t-2],t-=2;var Xr=qt(X(Jt.length),Vt,2);R(Jt,Jt.length-Xr.length,Xr),r[t++]=1/0;var ya=r[--t],xa=r[--t];r[t++]=ya,ve(xa,function(){var Gs=r[--t];r[t++]=Gs-48});var ds=s();r[t++]=ds},e.encA=function(){for(var ut=0;ut<1;ut++){if(l(e.numD,e.i)>=21){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}var Gt=l(e.numD,e.i);if(Gt>=13&&S(Gt+e.i)==e.msglen){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}if(l(e.numD,e.i)>=2){var zr=X(2);b(zr,0,l(e.msg,e.i)),b(zr,1,l(e.msg,e.i+1)),r[t++]=l(e.Avals,zr),e.addtocws(),e.i=e.i+2;break}if(l(e.msg,e.i)==e.fnc1){if(l(e.numD,e.i+1)>=15){r[t++]=l(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}var it=l(e.numD,e.i+1);if(it>=7&&S(it+e.i)+1==e.msglen){r[t++]=l(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}}r[t++]="newmode",e.lookup();var Pt=r[--t];if(e[r[--t]]=Pt,e.newmode!=e.mode){r[t++]=l(e.Avals,l(s([-1,e.lC,e.lT,e.lX,e.lD,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var ut=0,Gt=e.in.length-1;ut<=Gt;ut+=3){var zr=N(e.in,ut,3);r[t++]=0;for(var it=0,Pt=zr.length;it<Pt;it++){var Vt=r[--t];r[t++]=S(Vt+l(zr,it))*40}var Jt=~~(r[--t]/40)+1;r[t++]=~~(Jt/256),r[t++]=Jt%256}Kt(s(ga()));var Xr=r[--t];r[t-1]=Xr},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2220);e.i!=e.msglen;){if(e.p%3==0){if(l(e.numD,e.i)>=12){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}var ut=l(e.numD,e.i);if(ut>=8&&S(ut+e.i)==e.msglen){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.mode==e.X){var Gt=l(e.Xvals,l(e.msg,e.i))!==void 0;if(!Gt){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),(l(e.numremcws,e.j)!=1||l(e.msg,e.i)>127)&&(r[t++]=s([e.unlcw]),e.addtocws()),e.mode=e.A;break}if(e.i+1<e.msglen){var zr=l(e.Xvals,l(e.msg,e.i+1))!==void 0;if(!zr)break;if(e.i+2<e.msglen){var it=l(e.Xvals,l(e.msg,e.i+2))!==void 0;if(!it)break}}}else if(e.lookup(),r[--t]!=e.mode){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.msglen-e.i<=3){e.remcws=l(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Pt=N(e.msg,e.i,e.msglen-e.i),Vt=0,Jt=Pt.length;Vt<Jt;Vt++){var Xr=l(Pt,Vt),ya=l(l(e.encvals,e.mode),Xr)!==void 0;r[t++]=Xr,ya?U(l(l(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,U(N(e.ctxvals,0,e.p)),U(e.remvals);var xa=s();r[t++]=xa,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,U(N(e.ctxvals,0,e.p)),U(e.remvals),U(l(l(e.encvals,e.mode),e.sft1));var ds=s();r[t++]=ds,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=N(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}}var Gs=l(l(e.encvals,e.mode),l(e.msg,e.i));R(e.ctxvals,e.p,Gs),e.p=Gs.length+e.p,e.i=e.i+1}if(e.mode!=e.A){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-l(l(e.encvals,e.mode),l(e.msg,e.i)).length;r[t++]=1/0,U(N(e.ctxvals,0,e.p));var ln=s();if(r[t++]=ln,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen)if(l(e.numD,e.i)>=2){var cn=X(2);b(cn,0,l(e.msg,e.i)),b(cn,1,l(e.msg,e.i+1)),r[t++]=l(e.Avals,cn),e.addtocws(),e.i=e.i+2}else r[t++]=l(e.Avals,l(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encD=function(){for(;;){if(l(e.numD,e.i)<3){if(e.Drem=(8-e.Dbits.length%8)%8,e.remcws=l(e.numremcws,e.j+~~(e.Dbits.length/8)),(l(e.numremcws,e.j+~~(e.Dbits.length/8)-1)-1==0&&e.Drem==0||e.remcws==1&&e.Drem!=0)&&e.i==e.msglen){(e.Drem==4||e.Drem==6)&&(r[t++]=1/0,U(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),(e.Drem==2||e.Drem==6)&&(r[t++]=1/0,U(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s());break}if((e.i==e.msglen-1&&l(e.numD,e.i)==1||e.i==e.msglen-2&&l(e.numD,e.i)==2)&&e.remcws==1&&e.Drem==0)break;e.i==e.msglen-1&&l(e.numD,e.i)==1&&e.remcws==1&&(e.Drem==4||e.Drem==6)||(r[t++]=1/0,U(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s(),e.Drem=(8-e.Dbits.length%8)%8),(e.Drem==4||e.Drem==6)&&(l(e.numD,e.i)>=1?(r[t++]=1/0,U(e.Dbits),r[t++]=l(e.msg,e.i)-48+1,r[t++]=4,e.tobin(),U(r[--t]),e.Dbits=s(),e.i=e.i+1):(r[t++]=1/0,U(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),e.Drem=e.Drem-4),e.Drem==2&&(r[t++]=1/0,U(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s(),e.Drem=0);break}r[t++]=1/0,U(e.Dbits);var ut=N(e.msg,e.i,3);r[t++]=0;for(var Gt=0,zr=ut.length;Gt<zr;Gt++){var it=r[--t];r[t++]=S(it+(l(ut,Gt)-48))*10}var Pt=r[--t];r[t++]=~~(Pt/10)+1,r[t++]=10,e.tobin(),U(r[--t]),e.Dbits=s(),e.i=e.i+3}r[t++]=1/0;for(var Vt=0,Jt=e.Dbits.length-1;Vt<=Jt;Vt+=8){var Xr=N(e.Dbits,Vt,8);r[t++]=0;for(var ya=0,xa=Xr.length;ya<xa;ya++){var ds=r[--t];r[t++]=S(ds+l(Xr,ya))*2}var Gs=r[--t];r[t++]=~~(Gs/2)}Kt(s(ga()));var ln=r[--t];r[t-1]=ln,e.addtocws(),e.mode=e.A},e.encB=function(){for(e.p=0,e.bvals=s(1480);!(e.i==e.msglen||l(e.msg,e.i)<0||(e.lookup(),r[--t]!=e.mode));)b(e.bvals,e.p,l(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=l(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),U(N(e.bvals,0,e.p)),e.bvals=s(),r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1480),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[l(s(["encA","encCTX","encCTX","encCTX","encD","encB"]),e.mode)]()===!0););e.cws=N(e.cws,0,e.j)}for(var bs=e.metrics,Ua=0,Cn=bs.length;Ua<Cn&&(e.m=l(bs,Ua),e.vers=l(e.m,0),e.rows=l(e.m,1),e.cols=l(e.m,2),e.dcol=l(e.m,3),e.dcws=l(e.m,4),e.rscw=l(e.m,5),e.rsbl=l(e.m,6),e.riso=l(e.m,7),e.risi=l(e.m,8),e.risl=l(e.m,9),e.dcpb=~~(e.dcws/e.rsbl),e.ecpb=~~(e.rscw/e.rsbl),e.okay=!0,Ee(e.version,"unset")&&Ee(e.version,e.vers)&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Ua++);if(e.okay||(r[t++]="bwipp.codeoneNoValidSymbol#25082",r[t++]="Maximum length exceeded",z()),e.stype){r[t++]=1/0;for(var $s=0,Ta=S(e.dcws-e.cws.length);$s<Ta;$s++)r[t++]=0;U(e.cws),e.cws=s()}else{r[t++]=1/0,U(e.cws);for(var Ra=0,u1=S(e.dcws-e.cws.length);Ra<u1;Ra++)r[t++]=129;e.cws=s()}var In=l(e.options,"debugcws")!==void 0;In&&(r[t++]="bwipp.debugcws#25092",r[t++]=e.cws,z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Xa=0,Bn=e.rsbl-1;Xa<=Bn;Xa+=1){e.i=Xa,e.cwb=s(e.dcpb);for(var ws=0,an=e.dcpb-1;ws<=an;ws+=1)e.j=ws,b(e.cwb,e.j,l(e.cws,S(e.j*e.rsbl+e.i)));b(e.cwbs,e.i,e.cwb)}var sn=e.stype?32:256;e.gf=sn,e["gf-1"]=e.gf-1;var Jn=e.stype?37:301;e.pm=Jn,r[t++]=1/0,r[t++]=1;for(var At=0,Kr=e["gf-1"];At<Kr;At++){var sa=r[t-1],za=sa*2;if(r[t++]=za,za>=e.gf){var ua=r[--t];r[t++]=ua^e.pm}}e.rsalog=s(),e.rslog=s(e.gf);for(var Za=1,ys=e["gf-1"];Za<=ys;Za+=1)b(e.rslog,l(e.rsalog,Za),Za);e.rsprod=function(){var ut=r[t-1],Gt=r[t-2];if(ut!=0&&Gt!=0){var zr=l(e.rslog,r[--t]),it=l(e.rsalog,S(zr+l(e.rslog,r[--t]))%e["gf-1"]);r[t++]=it}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var vn=0,dt=e.ecpb;vn<dt;vn++)r[t++]=0;e.coeffs=s();for(var St=0,pr=e.ecpb-1;St<=pr;St+=1){e.i=St,b(e.coeffs,e.i+1,l(e.coeffs,e.i));for(var cr=e.i;cr>=1;cr-=1){e.j=cr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var hr=r[--t],Mr=r[--t],dr=r[--t];b(r[--t],dr,hs(Mr,hr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var na=r[--t],$r=r[--t];b(r[--t],$r,na)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1);for(var qr=0,Gr=e.cwbs.length-1;qr<=Gr;qr+=1){e.i=qr,r[t++]=1/0,U(l(e.cwbs,e.i));for(var Wr=0,ma=e.ecpb;Wr<ma;Wr++)r[t++]=0;e.rscws=s();for(var ta=0,Yr=e.dcpb-1;ta<=Yr;ta+=1){e.m=ta,e.k=l(e.rscws,e.m);for(var ia=0,Fr=e.ecpb-1;ia<=Fr;ia+=1){e.j=ia,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=l(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var Or=r[--t],La=r[--t];b(r[--t],La,hs(Or,l(e.rscws,e.m+e.j+1)))}}b(e.ecbs,e.i,N(e.rscws,e.dcpb,e.ecpb))}r[t++]=1/0,U(e.cws);for(var wa=0,cs=e.rscw;wa<cs;wa++)r[t++]=0;e.cws=s();for(var Ns=0,nn=e.rscw-1;Ns<=nn;Ns+=1)e.i=Ns,b(e.cws,S(e.dcws+e.i),l(l(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));var Fs=e.stype?5:8;e.mmat=s(S(e.dcws+e.rscw)*Fs),e.r=0,e.c=0;for(var ar=e.stype?2:1,Ar=0,Cr=ar,ra=e.cws.length-1;Cr<0?Ar>=ra:Ar<=ra;Ar+=Cr){if(e.i=Ar,e.stype){var qs=_r(X(5),"00000"),xn=qt(X(5),l(e.cws,e.i),2);R(qs,5-xn.length,xn);var Dn=1/0,Un=qs;r[t++]=Dn,ve(Un,function(){var ut=r[--t];r[t++]=ut-48}),e.c1=s();var zn=_r(X(5),"00000"),gn=qt(X(5),l(e.cws,e.i+1),2);R(zn,5-gn.length,gn);var f1=1/0,Ln=zn;r[t++]=f1,ve(Ln,function(){var ut=r[--t];r[t++]=ut-48}),e.c2=s(),r[t++]=1/0,U(N(e.c1,0,3)),U(N(e.c2,0,2)),e.top=s(),r[t++]=1/0,U(N(e.c1,3,2)),U(N(e.c2,2,3)),e.bot=s()}else{var Ur=_r(X(8),"00000000"),oa=qt(X(8),l(e.cws,e.i),2);R(Ur,8-oa.length,oa);var Jr=1/0,es=Ur;r[t++]=Jr,ve(es,function(){var ut=r[--t];r[t++]=ut-48});var ts=s();e.top=N(ts,0,4),e.bot=N(ts,4,4)}R(e.mmat,S(e.r*e.dcol+e.c),e.top),R(e.mmat,S((e.r+1)*e.dcol+e.c),e.bot),e.c=e.c+e.top.length,e.c==e.dcol&&(e.c=0,e.r=e.r+2)}e.mmv=function(){var ut=r[--t],Gt=r[--t];r[t++]=S(Gt+ut*e.cols)},r[t++]=1/0;for(var h1=0,Z1=e.rows*e.cols;h1<Z1;h1++)r[t++]=-1;e.pixs=s();var p1=s([function(){for(var ut=0,Gt=e.cols;ut<Gt;ut++)r[t++]=0},function(){for(var ut=0,Gt=e.cols;ut<Gt;ut++)r[t++]=1},function(){r[t++]=0;for(var ut=0,Gt=e.cols-2;ut<Gt;ut++)r[t++]=1;r[t++]=0},function(){r[t++]=0,r[t++]=1;for(var ut=0,Gt=e.cols-4;ut<Gt;ut++)r[t++]=0;r[t++]=1,r[t++]=0},function(){for(var ut=0,Gt=~~((e.cols-1)/2);ut<Gt;ut++)r[t++]=-1;r[t++]=1;for(var zr=0,it=~~((e.cols-1)/2);zr<it;zr++)r[t++]=-1},function(){for(var ut=0,Gt=~~((e.cols-1)/2);ut<Gt;ut++)r[t++]=-1;r[t++]=0;for(var zr=0,it=~~((e.cols-1)/2);zr<it;zr++)r[t++]=-1},function(){r[t++]=1;for(var ut=0,Gt=e.cols-2;ut<Gt;ut++)r[t++]=0;r[t++]=1},function(){r[t++]=1,r[t++]=0;for(var ut=0,Gt=e.cols-4;ut<Gt;ut++)r[t++]=1;r[t++]=0,r[t++]=1}]);e.artifact=p1;var ei=new Map([["A","121343"],["B","12134343"],["C","12121343"],["D","1213434343"],["E","1212134343"],["F","1212121343"],["G","121213434343"],["H","121212134343"],["S","56661278"],["T","5666666666127878"]]);e.cpatmap=ei,e.cpat=l(e.cpatmap,N(e.vers,0,1)),r[t++]=e.pixs,r[t++]=0,r[t++]=~~(S(e.rows-e.cpat.length)/2),e.mmv(),r[t++]=1/0,ve(e.cpat,function(){if(l(e.artifact,r[--t]-49)()===!0)return!0});var ti=s(),$e=r[--t];R(r[--t],$e,ti);for(var bt=0,mr=e.risl-1;bt<=mr;bt+=1){e.i=bt;for(var Er=e.riso,va=e.risi,rs=e.cols-1;va<0?Er>=rs:Er<=rs;Er+=va){e.j=Er;var as=e.i%12==0?1:0,Cs=s([1,as]);r[t++]=Cs,r[t++]=Cs,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.mmv();var on=r[t-3],bn=r[t-1];if(R(r[t-2],bn,on),t-=3,e.i!=e.risl-1){r[t++]=e.pixs,r[t++]=S(e.cols-e.j)-2,r[t++]=S(e.rows-e.i)-1,e.mmv();var F1=r[t-3],_1=r[t-1];R(r[t-2],_1,F1),t-=3}else t--}}var Qn=new Map([["A",s([s([12,5])])],["B",s([s([16,7])])],["C",s([s([26,12])])],["D",s([])],["E",s([s([26,23])])],["F",s([s([26,32]),s([70,32]),s([26,34]),s([70,34])])],["G",s([s([27,48]),s([69,48])])],["H",s([s([26,70]),s([66,70]),s([106,70]),s([26,72]),s([66,72]),s([106,72])])],["S-10",s([])],["S-20",s([s([10,4])])],["S-30",s([s([15,4]),s([15,6])])],["T-16",s([s([8,10])])],["T-32",s([s([16,10]),s([16,12])])],["T-48",s([s([24,10]),s([24,12]),s([24,14])])]]);e.blackdotmap=Qn,ve(l(e.blackdotmap,e.vers),function(){var ut=r[--t];r[t++]=e.pixs,U(ut),e.mmv();var Gt=r[--t];b(r[--t],Gt,1)}),e.j=0;for(var P1=0,Ao=e.pixs.length-1;P1<=Ao;P1+=1)e.i=P1,l(e.pixs,e.i)==-1&&(b(e.pixs,e.i,l(e.mmat,e.j)),e.j=e.j+1);r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows/72*2,r[t++]="width",r[t++]=e.cols/72*2,(e.stype||e.ttype)&&(r[t++]="borderleft",r[t++]=1,r[t++]="borderright",r[t++]=1,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=1),r[t++]="opt",r[t++]=e.options;var Li=Pe();r[t++]=Li,e.dontdraw||xt(),e=a}function sM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.eclevel="L2",e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hanxinEmptyData#25328",r[t++]="The data must not be empty",z()),Ee(e.version,"unset")){var n=e.version.length,i=n>=1&&n<=2;if(r[t++]=i,i){t--;var o=e.version;r[t++]=!0;for(var c=0,d=o.length;c<d;c++){var f=l(o,c);(f<48||f>57)&&(r[t-1]=!1)}var h=r[t-1];if(h){t--;var p=Ce(e.version);r[t++]=p>=1&&p<=84}}r[--t]||(r[t++]="bwipp.hanxinInvalidVersion#25339",r[t++]="Valid versions are 1 to 84",z())}var m=e.eclevel.length==2;if(r[t++]=m,m){t--;var v=V(N(e.eclevel,0,1),"L");if(r[t++]=v,v){t--;var w=l(e.eclevel,1)-48;r[t++]=w>=1&&w<=4}}r[--t]||(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25349",r[t++]="Valid error correction levels are L1 to L4",z()),e.mask!=-1&&(e.mask<1||e.mask>4)&&(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25354",r[t++]="The valid masks are 1 to 4",z());var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var x=r[--t];e[r[--t]]=x,e.msglen=e.msg.length,e.tobin=function(){var Rt=X(r[--t]);r[t++]=Rt;for(var Yt=0,rr=Rt.length-1;Yt<=rr;Yt+=1){var wr=r[t-1];b(wr,Yt,48)}var or=r[t-1];r[t++]=or;var Rr=r[t-3],lr=r[t-1];r[t-3]=r[t-2],t-=2;var Lt=qt(X(lr.length),Rr,2);R(lr,lr.length-Lt.length,Lt)},e.bits=X(17+e.msglen*8),R(e.bits,0,"0011"),r[t++]=e.bits,r[t++]=4,r[t++]=e.msglen,r[t++]=13,e.tobin();var g=r[--t],A=r[--t];R(r[--t],A,g);for(var j=0,C=e.msglen-1;j<=C;j+=1){e.i=j,r[t++]=e.bits,r[t++]=17+e.i*8,r[t++]=l(e.msg,e.i),r[t++]=8,e.tobin();var k=r[--t],E=r[--t];R(r[--t],E,k)}e.metrics=s([s(["1",23,-1,0,205,s([1,21,4]),s([0,-1,-1]),s([0,-1,-1]),s([1,17,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,13,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,9,16]),s([0,-1,-1]),s([0,-1,-1])]),s(["2",25,-1,0,301,s([1,31,6]),s([0,-1,-1]),s([0,-1,-1]),s([1,25,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,19,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,15,22]),s([0,-1,-1]),s([0,-1,-1])]),s(["3",27,-1,0,405,s([1,42,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,34,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["4",29,14,1,439,s([1,46,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,38,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,30,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,22,32]),s([0,-1,-1]),s([0,-1,-1])]),s(["5",31,16,1,555,s([1,57,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,49,20]),s([0,-1,-1]),s([0,-1,-1]),s([1,37,32]),s([0,-1,-1]),s([0,-1,-1]),s([1,14,20]),s([1,13,22]),s([0,-1,-1])]),s(["6",33,16,1,675,s([1,70,14]),s([0,-1,-1]),s([0,-1,-1]),s([1,58,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,24,20]),s([1,22,18]),s([0,-1,-1]),s([1,16,24]),s([1,18,26]),s([0,-1,-1])]),s(["7",35,17,1,805,s([1,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,22]),s([1,28,24]),s([0,-1,-1]),s([2,14,20]),s([1,12,20]),s([0,-1,-1])]),s(["8",37,18,1,943,s([1,99,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,40,18]),s([1,41,18]),s([0,-1,-1]),s([1,31,26]),s([1,32,28]),s([0,-1,-1]),s([2,16,24]),s([1,15,22]),s([0,-1,-1])]),s(["9",39,19,1,1089,s([1,114,22]),s([0,-1,-1]),s([0,-1,-1]),s([2,48,20]),s([0,-1,-1]),s([0,-1,-1]),s([2,24,20]),s([1,26,22]),s([0,-1,-1]),s([2,18,28]),s([1,18,26]),s([0,-1,-1])]),s(["10",41,20,1,1243,s([1,131,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,52,22]),s([1,57,24]),s([0,-1,-1]),s([2,27,24]),s([1,29,24]),s([0,-1,-1]),s([2,21,32]),s([1,19,30]),s([0,-1,-1])]),s(["11",43,14,2,1289,s([1,135,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,56,24]),s([1,57,24]),s([0,-1,-1]),s([2,28,24]),s([1,31,26]),s([0,-1,-1]),s([2,22,32]),s([1,21,32]),s([0,-1,-1])]),s(["12",45,15,2,1455,s([1,153,28]),s([0,-1,-1]),s([0,-1,-1]),s([1,62,26]),s([1,65,28]),s([0,-1,-1]),s([2,32,28]),s([1,33,28]),s([0,-1,-1]),s([3,17,26]),s([1,22,30]),s([0,-1,-1])]),s(["13",47,16,2,1629,s([1,86,16]),s([1,85,16]),s([0,-1,-1]),s([1,71,30]),s([1,72,30]),s([0,-1,-1]),s([2,37,32]),s([1,35,30]),s([0,-1,-1]),s([3,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["14",49,16,2,1805,s([1,94,18]),s([1,95,18]),s([0,-1,-1]),s([2,51,22]),s([1,55,24]),s([0,-1,-1]),s([3,30,26]),s([1,31,26]),s([0,-1,-1]),s([4,18,28]),s([1,17,24]),s([0,-1,-1])]),s(["15",51,17,2,1995,s([1,104,20]),s([1,105,20]),s([0,-1,-1]),s([2,57,24]),s([1,61,26]),s([0,-1,-1]),s([3,33,28]),s([1,36,30]),s([0,-1,-1]),s([4,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["16",53,17,2,2187,s([1,115,22]),s([1,114,22]),s([0,-1,-1]),s([2,65,28]),s([1,61,26]),s([0,-1,-1]),s([3,38,32]),s([1,33,30]),s([0,-1,-1]),s([5,19,28]),s([1,14,24]),s([0,-1,-1])]),s(["17",55,18,2,2393,s([1,126,24]),s([1,125,24]),s([0,-1,-1]),s([2,70,30]),s([1,69,30]),s([0,-1,-1]),s([4,33,28]),s([1,29,26]),s([0,-1,-1]),s([5,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["18",57,19,2,2607,s([1,136,26]),s([1,137,26]),s([0,-1,-1]),s([3,56,24]),s([1,59,26]),s([0,-1,-1]),s([5,35,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,18,28]),s([1,21,28]),s([0,-1,-1])]),s(["19",59,20,2,2829,s([1,148,28]),s([1,149,28]),s([0,-1,-1]),s([3,61,26]),s([1,64,28]),s([0,-1,-1]),s([7,24,20]),s([1,23,22]),s([0,-1,-1]),s([6,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["20",61,20,2,3053,s([3,107,20]),s([0,-1,-1]),s([0,-1,-1]),s([3,65,28]),s([1,72,30]),s([0,-1,-1]),s([7,26,22]),s([1,23,22]),s([0,-1,-1]),s([7,19,28]),s([1,20,32]),s([0,-1,-1])]),s(["21",63,21,2,3291,s([3,115,22]),s([0,-1,-1]),s([0,-1,-1]),s([4,56,24]),s([1,63,28]),s([0,-1,-1]),s([7,28,24]),s([1,25,22]),s([0,-1,-1]),s([8,18,28]),s([1,21,22]),s([0,-1,-1])]),s(["22",65,16,3,3383,s([2,116,22]),s([1,122,24]),s([0,-1,-1]),s([4,56,24]),s([1,72,30]),s([0,-1,-1]),s([7,28,24]),s([1,32,26]),s([0,-1,-1]),s([8,18,28]),s([1,24,30]),s([0,-1,-1])]),s(["23",67,17,3,3631,s([3,127,24]),s([0,-1,-1]),s([0,-1,-1]),s([5,51,22]),s([1,62,26]),s([0,-1,-1]),s([7,30,26]),s([1,35,26]),s([0,-1,-1]),s([8,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["24",69,17,3,3887,s([2,135,26]),s([1,137,26]),s([0,-1,-1]),s([5,56,24]),s([1,59,26]),s([0,-1,-1]),s([7,33,28]),s([1,30,28]),s([0,-1,-1]),s([11,16,24]),s([1,19,26]),s([0,-1,-1])]),s(["25",71,18,3,4151,s([3,105,20]),s([1,121,22]),s([0,-1,-1]),s([5,61,26]),s([1,57,26]),s([0,-1,-1]),s([9,28,24]),s([1,28,22]),s([0,-1,-1]),s([10,19,28]),s([1,18,30]),s([0,-1,-1])]),s(["26",73,18,3,4423,s([2,157,30]),s([1,150,28]),s([0,-1,-1]),s([5,65,28]),s([1,61,26]),s([0,-1,-1]),s([8,33,28]),s([1,34,30]),s([0,-1,-1]),s([10,19,28]),s([2,15,26]),s([0,-1,-1])]),s(["27",75,19,3,4703,s([3,126,24]),s([1,115,22]),s([0,-1,-1]),s([7,51,22]),s([1,54,22]),s([0,-1,-1]),s([8,35,30]),s([1,37,30]),s([0,-1,-1]),s([15,15,22]),s([1,10,22]),s([0,-1,-1])]),s(["28",77,19,3,4991,s([4,105,20]),s([1,103,20]),s([0,-1,-1]),s([7,56,24]),s([1,45,18]),s([0,-1,-1]),s([10,31,26]),s([1,27,26]),s([0,-1,-1]),s([10,17,26]),s([3,20,28]),s([1,21,28])]),s(["29",79,20,3,5287,s([3,139,26]),s([1,137,28]),s([0,-1,-1]),s([6,66,28]),s([1,66,30]),s([0,-1,-1]),s([9,36,30]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["30",81,20,3,5591,s([6,84,16]),s([1,82,16]),s([0,-1,-1]),s([6,70,30]),s([1,68,30]),s([0,-1,-1]),s([7,35,30]),s([3,33,28]),s([1,32,28]),s([13,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["31",83,21,3,5903,s([5,105,20]),s([1,94,18]),s([0,-1,-1]),s([6,74,32]),s([1,71,30]),s([0,-1,-1]),s([11,33,28]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["32",85,17,4,6033,s([4,127,24]),s([1,126,24]),s([0,-1,-1]),s([7,66,28]),s([1,66,30]),s([0,-1,-1]),s([12,30,24]),s([1,24,28]),s([1,24,30]),s([15,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["33",87,17,4,6353,s([7,84,16]),s([1,78,16]),s([0,-1,-1]),s([7,70,30]),s([1,66,28]),s([0,-1,-1]),s([12,33,28]),s([1,32,30]),s([0,-1,-1]),s([14,21,32]),s([1,24,28]),s([0,-1,-1])]),s(["34",89,18,4,6689,s([5,117,22]),s([1,117,24]),s([0,-1,-1]),s([8,66,28]),s([1,58,26]),s([0,-1,-1]),s([11,38,32]),s([1,34,32]),s([0,-1,-1]),s([15,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["35",91,18,4,7025,s([4,148,28]),s([1,146,28]),s([0,-1,-1]),s([8,68,30]),s([1,70,24]),s([0,-1,-1]),s([10,36,32]),s([3,38,28]),s([0,-1,-1]),s([16,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["36",93,19,4,7377,s([4,126,24]),s([2,135,26]),s([0,-1,-1]),s([8,70,28]),s([2,43,26]),s([0,-1,-1]),s([13,32,28]),s([2,41,30]),s([0,-1,-1]),s([17,19,28]),s([3,15,26]),s([0,-1,-1])]),s(["37",95,19,4,7729,s([5,136,26]),s([1,132,24]),s([0,-1,-1]),s([5,67,30]),s([4,68,28]),s([1,69,28]),s([14,35,30]),s([1,32,24]),s([0,-1,-1]),s([18,18,26]),s([3,16,28]),s([1,14,28])]),s(["38",97,19,4,8089,s([3,142,26]),s([3,141,28]),s([0,-1,-1]),s([8,70,30]),s([1,73,32]),s([1,74,32]),s([12,34,30]),s([3,34,26]),s([1,35,28]),s([18,21,32]),s([1,27,30]),s([0,-1,-1])]),s(["39",99,20,4,8465,s([5,116,22]),s([2,103,20]),s([1,102,20]),s([9,74,32]),s([1,74,30]),s([0,-1,-1]),s([14,34,28]),s([2,32,32]),s([1,32,30]),s([19,21,32]),s([1,25,26]),s([0,-1,-1])]),s(["40",101,20,4,8841,s([7,116,22]),s([1,117,22]),s([0,-1,-1]),s([11,65,28]),s([1,58,24]),s([0,-1,-1]),s([15,38,32]),s([1,27,28]),s([0,-1,-1]),s([20,20,30]),s([1,20,32]),s([1,21,32])]),s(["41",103,17,5,9009,s([6,136,26]),s([1,130,24]),s([0,-1,-1]),s([11,66,28]),s([1,62,30]),s([0,-1,-1]),s([14,34,28]),s([3,34,32]),s([1,30,30]),s([18,20,30]),s([3,20,28]),s([2,15,26])]),s(["42",105,17,5,9401,s([5,105,20]),s([2,115,22]),s([2,116,22]),s([10,75,32]),s([1,73,32]),s([0,-1,-1]),s([16,38,32]),s([1,27,28]),s([0,-1,-1]),s([22,19,28]),s([2,16,30]),s([1,19,30])]),s(["43",107,18,5,9799,s([6,147,28]),s([1,146,28]),s([0,-1,-1]),s([11,66,28]),s([2,65,30]),s([0,-1,-1]),s([18,33,28]),s([2,33,30]),s([0,-1,-1]),s([22,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["44",109,18,5,10207,s([6,116,22]),s([3,125,24]),s([0,-1,-1]),s([11,75,32]),s([1,68,30]),s([0,-1,-1]),s([13,35,28]),s([6,34,32]),s([1,30,30]),s([23,21,32]),s([1,26,30]),s([0,-1,-1])]),s(["45",111,18,5,10623,s([7,105,20]),s([4,95,18]),s([0,-1,-1]),s([12,67,28]),s([1,63,30]),s([1,62,32]),s([21,31,26]),s([2,33,32]),s([0,-1,-1]),s([23,21,32]),s([2,24,30]),s([0,-1,-1])]),s(["46",113,19,5,11045,s([10,116,22]),s([0,-1,-1]),s([0,-1,-1]),s([12,74,32]),s([1,78,30]),s([0,-1,-1]),s([18,37,32]),s([1,39,30]),s([1,41,28]),s([25,21,32]),s([1,27,28]),s([0,-1,-1])]),s(["47",115,19,5,11477,s([5,126,24]),s([4,115,22]),s([1,114,22]),s([12,67,28]),s([2,66,32]),s([1,68,30]),s([21,35,30]),s([1,39,30]),s([0,-1,-1]),s([26,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["48",117,19,5,11917,s([9,126,24]),s([1,117,22]),s([0,-1,-1]),s([13,75,32]),s([1,68,30]),s([0,-1,-1]),s([20,35,30]),s([3,35,28]),s([0,-1,-1]),s([27,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["49",119,17,6,12111,s([9,126,24]),s([1,137,26]),s([0,-1,-1]),s([13,71,30]),s([2,68,32]),s([0,-1,-1]),s([20,37,32]),s([1,39,28]),s([1,38,28]),s([24,20,32]),s([5,25,28]),s([0,-1,-1])]),s(["50",121,17,6,12559,s([8,147,28]),s([1,141,28]),s([0,-1,-1]),s([10,73,32]),s([4,74,30]),s([1,73,30]),s([16,36,32]),s([6,39,30]),s([1,37,30]),s([27,21,32]),s([3,20,26]),s([0,-1,-1])]),s(["51",123,18,6,13025,s([9,137,26]),s([1,135,26]),s([0,-1,-1]),s([12,70,30]),s([4,75,32]),s([0,-1,-1]),s([24,35,30]),s([1,40,28]),s([0,-1,-1]),s([23,20,32]),s([8,24,30]),s([0,-1,-1])]),s(["52",125,18,6,13489,s([14,95,18]),s([1,86,18]),s([0,-1,-1]),s([13,73,32]),s([3,77,30]),s([0,-1,-1]),s([24,35,30]),s([2,35,28]),s([0,-1,-1]),s([26,21,32]),s([5,21,30]),s([1,23,30])]),s(["53",127,18,6,13961,s([9,147,28]),s([1,142,28]),s([0,-1,-1]),s([10,73,30]),s([6,70,32]),s([1,71,32]),s([25,35,30]),s([2,34,26]),s([0,-1,-1]),s([29,21,32]),s([4,22,30]),s([0,-1,-1])]),s(["54",129,18,6,14441,s([11,126,24]),s([1,131,24]),s([0,-1,-1]),s([16,74,32]),s([1,79,30]),s([0,-1,-1]),s([25,38,32]),s([1,25,30]),s([0,-1,-1]),s([33,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["55",131,19,6,14939,s([14,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,65,28]),s([1,72,28]),s([0,-1,-1]),s([24,37,32]),s([2,40,30]),s([1,41,30]),s([31,21,32]),s([4,24,32]),s([0,-1,-1])]),s(["56",133,19,6,15435,s([10,147,28]),s([1,151,28]),s([0,-1,-1]),s([15,71,30]),s([3,71,32]),s([1,73,32]),s([24,37,32]),s([3,38,30]),s([1,39,30]),s([36,19,30]),s([3,29,26]),s([0,-1,-1])]),s(["57",135,19,6,15939,s([15,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,70,30]),s([1,64,28]),s([0,-1,-1]),s([27,38,32]),s([2,25,26]),s([0,-1,-1]),s([38,20,30]),s([2,18,28]),s([0,-1,-1])]),s(["58",137,17,7,16171,s([14,105,20]),s([1,113,22]),s([1,114,22]),s([17,67,30]),s([3,92,32]),s([0,-1,-1]),s([30,35,30]),s([1,41,30]),s([0,-1,-1]),s([36,21,32]),s([1,26,30]),s([1,27,30])]),s(["59",139,17,7,16691,s([11,146,28]),s([1,146,26]),s([0,-1,-1]),s([20,70,30]),s([1,60,26]),s([0,-1,-1]),s([29,38,32]),s([1,24,32]),s([0,-1,-1]),s([40,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["60",141,18,7,17215,s([3,137,26]),s([1,136,26]),s([10,126,24]),s([22,65,28]),s([1,75,30]),s([0,-1,-1]),s([30,37,32]),s([1,51,30]),s([0,-1,-1]),s([42,20,30]),s([1,21,30]),s([0,-1,-1])]),s(["61",143,18,7,17751,s([12,126,24]),s([2,118,22]),s([1,116,22]),s([19,74,32]),s([1,74,30]),s([1,72,28]),s([30,38,32]),s([2,29,30]),s([0,-1,-1]),s([39,20,32]),s([2,37,26]),s([1,38,26])]),s(["62",145,18,7,18295,s([12,126,24]),s([3,136,26]),s([0,-1,-1]),s([21,70,30]),s([2,65,28]),s([0,-1,-1]),s([34,35,30]),s([1,44,32]),s([0,-1,-1]),s([42,20,30]),s([2,19,28]),s([2,18,28])]),s(["63",147,18,7,18847,s([12,126,24]),s([3,117,22]),s([1,116,22]),s([25,61,26]),s([2,62,28]),s([0,-1,-1]),s([34,35,30]),s([1,40,32]),s([1,41,32]),s([45,20,30]),s([1,20,32]),s([1,21,32])]),s(["64",149,19,7,19403,s([15,105,20]),s([2,115,22]),s([2,116,22]),s([25,65,28]),s([1,72,28]),s([0,-1,-1]),s([18,35,30]),s([17,37,32]),s([1,50,32]),s([42,20,30]),s([6,19,28]),s([1,15,28])]),s(["65",151,19,7,19971,s([19,105,20]),s([1,101,20]),s([0,-1,-1]),s([33,51,22]),s([1,65,22]),s([0,-1,-1]),s([40,33,28]),s([1,28,28]),s([0,-1,-1]),s([49,20,30]),s([1,18,28]),s([0,-1,-1])]),s(["66",153,17,8,20229,s([18,105,20]),s([2,117,22]),s([0,-1,-1]),s([26,65,28]),s([1,80,30]),s([0,-1,-1]),s([35,35,30]),s([3,35,28]),s([1,36,28]),s([52,18,28]),s([2,38,30]),s([0,-1,-1])]),s(["67",155,17,8,20805,s([26,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([26,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([45,31,26]),s([1,9,26]),s([0,-1,-1]),s([52,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["68",157,17,8,21389,s([16,126,24]),s([1,114,22]),s([1,115,22]),s([23,70,30]),s([3,65,28]),s([1,66,28]),s([40,35,30]),s([1,43,30]),s([0,-1,-1]),s([46,20,30]),s([7,19,28]),s([1,16,28])]),s(["69",159,18,8,21993,s([19,116,22]),s([1,105,22]),s([0,-1,-1]),s([20,70,30]),s([7,66,28]),s([1,63,28]),s([40,35,30]),s([1,42,32]),s([1,43,32]),s([54,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["70",161,18,8,22593,s([17,126,24]),s([2,115,22]),s([0,-1,-1]),s([24,70,30]),s([4,74,32]),s([0,-1,-1]),s([48,31,26]),s([2,18,26]),s([0,-1,-1]),s([54,19,28]),s([6,15,26]),s([1,14,26])]),s(["71",163,18,8,23201,s([29,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([29,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,34,30]),s([3,36,30]),s([38,33,28]),s([58,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["72",165,18,8,23817,s([16,147,28]),s([1,149,28]),s([0,-1,-1]),s([31,66,28]),s([1,37,26]),s([0,-1,-1]),s([48,33,28]),s([1,23,26]),s([0,-1,-1]),s([53,20,30]),s([6,19,28]),s([1,17,28])]),s(["73",167,19,8,24453,s([20,115,22]),s([2,134,24]),s([0,-1,-1]),s([29,66,28]),s([2,56,26]),s([2,57,26]),s([45,36,30]),s([2,15,28]),s([0,-1,-1]),s([59,20,30]),s([2,21,32]),s([0,-1,-1])]),s(["74",169,19,8,25085,s([17,147,28]),s([1,134,26]),s([0,-1,-1]),s([26,70,30]),s([5,75,32]),s([0,-1,-1]),s([47,35,30]),s([1,48,32]),s([0,-1,-1]),s([64,18,28]),s([2,33,30]),s([1,35,30])]),s(["75",171,17,9,25373,s([22,115,22]),s([1,133,24]),s([0,-1,-1]),s([33,65,28]),s([1,74,28]),s([0,-1,-1]),s([43,36,30]),s([5,27,28]),s([1,30,28]),s([57,20,30]),s([5,21,32]),s([1,24,32])]),s(["76",173,17,9,26021,s([18,136,26]),s([2,142,26]),s([0,-1,-1]),s([33,66,28]),s([2,49,26]),s([0,-1,-1]),s([48,35,30]),s([2,38,28]),s([0,-1,-1]),s([64,20,30]),s([1,20,32]),s([0,-1,-1])]),s(["77",175,17,9,26677,s([19,126,24]),s([2,135,26]),s([1,136,26]),s([32,66,28]),s([2,55,26]),s([2,56,26]),s([49,36,30]),s([2,18,32]),s([0,-1,-1]),s([65,18,28]),s([5,27,30]),s([1,29,30])]),s(["78",177,18,9,27335,s([20,137,26]),s([1,130,26]),s([0,-1,-1]),s([30,75,32]),s([2,71,32]),s([0,-1,-1]),s([46,35,30]),s([6,39,32]),s([0,-1,-1]),s([3,12,30]),s([70,19,28]),s([0,-1,-1])]),s(["79",179,18,9,28007,s([20,147,28]),s([0,-1,-1]),s([0,-1,-1]),s([35,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([49,35,30]),s([5,35,28]),s([0,-1,-1]),s([70,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["80",181,18,9,28687,s([21,136,26]),s([1,155,28]),s([0,-1,-1]),s([34,70,30]),s([1,64,28]),s([1,65,28]),s([54,35,30]),s([1,45,30]),s([0,-1,-1]),s([68,20,30]),s([3,18,28]),s([1,19,28])]),s(["81",183,18,9,29375,s([19,126,24]),s([5,115,22]),s([1,114,22]),s([33,70,30]),s([3,65,28]),s([1,64,28]),s([52,35,30]),s([3,41,32]),s([1,40,32]),s([67,20,30]),s([5,21,32]),s([1,24,32])]),s(["82",185,18,9,30071,s([2,150,28]),s([21,136,26]),s([0,-1,-1]),s([32,70,30]),s([6,65,28]),s([0,-1,-1]),s([52,38,32]),s([2,27,32]),s([0,-1,-1]),s([73,20,30]),s([2,22,32]),s([0,-1,-1])]),s(["83",187,17,10,30387,s([21,126,24]),s([4,136,26]),s([0,-1,-1]),s([30,74,32]),s([6,73,30]),s([0,-1,-1]),s([54,35,30]),s([4,40,32]),s([0,-1,-1]),s([75,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["84",189,17,10,31091,s([30,105,20]),s([1,114,22]),s([0,-1,-1]),s([3,45,22]),s([55,47,20]),s([0,-1,-1]),s([2,26,26]),s([62,33,28]),s([0,-1,-1]),s([79,18,28]),s([4,33,30]),s([0,-1,-1])])]),e.eclval=l(e.eclevel,1)-49;for(var B=e.metrics,I=0,D=B.length;I<D;I++){e.m=l(B,I),e.vers=l(e.m,0),e.size=l(e.m,1),e.alnk=l(e.m,2),e.alnn=l(e.m,3),e.alnr=S(e.size-e.alnk*e.alnn),e.nmod=l(e.m,4),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.ecbs=N(e.m,5+e.eclval*3,3);var M=e.ecbs;r[t++]="ecws",r[t++]=0;for(var T=0,H=M.length;T<H;T++){var _=l(M,T),F=r[--t];r[t++]=S(F+l(_,0)*l(_,2))}var Q=r[--t];if(e[r[--t]]=Q,e.dcws=S(e.ncws-e.ecws),e.dmod=e.dcws*8,e.okay=!0,Ee(e.version,"unset")&&Ee(e.version,e.vers)&&(e.okay=!1),e.bits.length>e.dmod&&(e.okay=!1),e.okay)break}e.okay||(r[t++]="bwipp.hanxinNoValidSymbol#25749",r[t++]="Maximum length exceeded or invalid content",z()),e.version=e.vers,e.msgbits=e.bits,e.e1nb=l(l(e.ecbs,0),0),e.e2nb=l(l(e.ecbs,1),0),e.e3nb=l(l(e.ecbs,2),0),e.e1dcws=l(l(e.ecbs,0),1),e.e2dcws=l(l(e.ecbs,1),1),e.e3dcws=l(l(e.ecbs,2),1),e.e1ecws=l(l(e.ecbs,0),2),e.e2ecws=l(l(e.ecbs,1),2),e.e3ecws=l(l(e.ecbs,2),2),e.pad=X(e.dmod);for(var L=0,ee=e.pad.length-1;L<=ee;L+=1)b(e.pad,L,48);R(e.pad,0,e.msgbits),e.cws=s(e.dcws);for(var se=0,ue=e.cws.length-1;se<=ue;se+=1){e.c=se,e.cwb=N(e.pad,e.c*8,8),e.cw=0;for(var W=0;W<=7;W+=1)e.i=W,e.cw=S(e.cw+~~l1(2,8-e.i-1)*(l(e.cwb,e.i)-48));b(e.cws,e.c,e.cw)}e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var Rt=0,Yt=e.rsgf-1;Rt<Yt;Rt++){var rr=r[t-1],wr=rr*2;if(r[t++]=wr,wr>=e.rsgf){var or=r[--t];r[t++]=hs(or,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var Rr=1,lr=e.rsgf-1;Rr<=lr;Rr+=1)b(e.rslog,l(e.rsalog,Rr),Rr);e.rsprod=function(){var $a=r[t-1],Qs=r[t-2];if($a!=0&&Qs!=0){var Fa=l(e.rslog,r[--t]),vs=l(e.rsalog,S(Fa+l(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=vs}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Lt=0,yr=e.rsnc;Lt<yr;Lt++)r[t++]=0;e.coeffs=s();for(var aa=1,pa=e.rsnc;aa<=pa;aa+=1){e.i=aa,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var Aa=e.i-1;Aa>=1;Aa-=1){e.j=Aa,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var Qr=r[--t],Ca=r[--t],ba=r[--t];b(r[--t],ba,hs(Ca,Qr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var Ma=r[--t],da=r[--t];b(r[--t],da,Ma)}e.nd=e.rscws.length,r[t++]=1/0,U(e.rscws);for(var ka=0,Ia=e.rsnc;ka<Ia;ka++)r[t++]=0;r[t++]=0,e.rscws=s();for(var ja=0,Qa=e.nd-1;ja<=Qa;ja+=1){e.k=hs(l(e.rscws,ja),l(e.rscws,e.nd));for(var Ha=0,Ka=e.rsnc-1;Ha<=Ka;Ha+=1){e.j=Ha,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=l(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=l(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var ms=r[--t],Ba=r[--t],Rs=r[--t];b(r[--t],Rs,hs(Ba,ms))}}r[t++]=N(e.rscws,0,e.rscws.length-1)},e.dcwsb=s(S(e.e1nb+e.e2nb+e.e3nb)),e.ecwsb=s(e.dcwsb.length),e.in=0,e.out=0;for(var G=0,ne=e.e1nb;G<ne;G++){r[t++]=N(e.cws,e.in,e.e1dcws),r[t++]=e.e1ecws,r[t++]=256,r[t++]=355,e.rscodes();var de=r[--t];b(e.dcwsb,e.out,N(de,0,e.e1dcws)),b(e.ecwsb,e.out,N(de,e.e1dcws,e.e1ecws)),e.in=S(e.in+e.e1dcws),e.out=e.out+1}for(var te=0,ae=e.e2nb;te<ae;te++){r[t++]=N(e.cws,e.in,e.e2dcws),r[t++]=e.e2ecws,r[t++]=256,r[t++]=355,e.rscodes();var ie=r[--t];b(e.dcwsb,e.out,N(ie,0,e.e2dcws)),b(e.ecwsb,e.out,N(ie,e.e2dcws,e.e2ecws)),e.in=S(e.in+e.e2dcws),e.out=e.out+1}for(var oe=0,De=e.e3nb;oe<De;oe++){r[t++]=N(e.cws,e.in,e.e3dcws),r[t++]=e.e3ecws,r[t++]=256,r[t++]=355,e.rscodes();var Ne=r[--t];b(e.dcwsb,e.out,N(Ne,0,e.e3dcws)),b(e.ecwsb,e.out,N(Ne,e.e3dcws,e.e3ecws)),e.in=S(e.in+e.e3dcws),e.out=e.out+1}e.cws=s(e.ncws),e.cw=0;for(var Le=0,Te=e.dcwsb.length-1;Le<=Te;Le+=1){e.i=Le;var Ve=l(e.dcwsb,e.i);R(e.cws,e.cw,Ve),e.cw=Ve.length+e.cw;var Qe=l(e.ecwsb,e.i);R(e.cws,e.cw,Qe),e.cw=Qe.length+e.cw}r[t++]=1/0;var ot=e.ncws,Ze=12,Fe=ot-1;if(ot-1>12){var Ke=Ze;Ze=Fe,Fe=Ke}for(var Je=0,rt=Fe;Je<=rt;Je+=1)for(var Xe=Je,Se=e.ncws-1;Xe<=Se;Xe+=13)if(r[t++]=Xe,Xe<e.ncws){var pe=l(e.cws,r[--t]);r[t++]=pe}else t--;e.cws=s(),e.rbit>0&&(e.pad=s(e.cws.length+1),R(e.pad,0,e.cws),b(e.pad,e.pad.length-1,0),e.cws=e.pad);var Ie=l(e.options,"debugcws")!==void 0;Ie&&(r[t++]="bwipp.debugcws#25872",r[t++]=e.cws,z()),r[t++]=1/0;for(var Me=0,Re=e.size*e.size;Me<Re;Me++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Rt=r[--t],Yt=r[--t];r[t++]=S(Yt+Rt*e.size)},e.alnn!=0){for(e.trmv=function(){var Rt=r[--t],Yt=r[--t];r[t++]=S(Rt*e.size+e.size-1-Yt)},e.aplot=function(){var Rt=r[t-2],Yt=r[t-3],rr=r[t-1];t-=3,r[t++]=rr,r[t++]=Yt,r[t++]=Rt,r[t++]=rr,r[t++]=Rt,r[t++]=Yt,e.trmv();var wr=r[--t];r[t++]=e.pixs,r[t++]=wr;var or=r[t-3],Rr=r[t-1];b(r[t-2],Rr,or),t-=3,e.trmv();var lr=r[--t];r[t++]=e.pixs,r[t++]=lr;var Lt=r[t-3],yr=r[t-1];b(r[t-2],yr,Lt),t-=3},e.i=0,e.stag=0;!(e.i>=e.size);){for(var Ye=0,ze=e.size-1;Ye<=ze;Ye+=1)if(e.j=Ye,S(e.j+e.alnr)<e.size?r[t++]=(~~(e.j/e.alnk)+e.stag)%2==0&&!(e.i==0&&e.j<e.alnk)||e.j%e.alnk==0:r[t++]=S(e.alnn+e.stag)%2==0,r[--t]){r[t++]=e.j,r[t++]=e.i,r[t++]=1,e.aplot();var mt=e.j,lt=e.i;r[t++]=mt+1,r[t++]=lt+1,lt+1<e.size&&mt+1<e.size?(r[t++]=0,e.aplot()):t-=2}S(e.i+e.alnr)==e.size?e.i=S(e.i+e.alnr)-1:e.i=S(e.i+e.alnk),e.stag=1-e.stag}for(var ht=e.alnk,yt=e.alnk,jt=e.size-2;yt<0?ht>=jt:ht<=jt;ht+=yt){if(e.i=ht,~~(e.i/e.alnk)%2!=0){r[t++]=e.pixs,r[t++]=0,r[t++]=e.i-1,e.trmv();var wt=r[--t];b(r[--t],wt,0),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i+1,e.trmv();var Dt=r[--t];b(r[--t],Dt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i-1,e.trmv();var Ct=r[--t];b(r[--t],Ct,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.trmv();var Ut=r[--t];b(r[--t],Ut,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i+1,e.trmv();var It=r[--t];b(r[--t],It,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=0,e.trmv();var kt=r[--t];b(r[--t],kt,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=0,e.trmv();var P=r[--t];b(r[--t],P,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=1,e.trmv();var Y=r[--t];b(r[--t],Y,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=1,e.trmv();var q=r[--t];b(r[--t],q,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=1,e.trmv();var O=r[--t];b(r[--t],O,0)}r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var $=r[--t];if(l(r[--t],$)!=1){r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var le=r[--t];b(r[--t],le,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i-1,e.trmv();var K=r[--t];b(r[--t],K,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i,e.trmv();var be=r[--t];b(r[--t],be,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i+1,e.trmv();var J=r[--t];b(r[--t],J,0),r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i+1,e.trmv();var fe=r[--t];b(r[--t],fe,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-1,e.trmv();var me=r[--t];b(r[--t],me,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-2,e.trmv();var ge=r[--t];b(r[--t],ge,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.size-2,e.trmv();var re=r[--t];b(r[--t],re,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-2,e.trmv();var xe=r[--t];b(r[--t],xe,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-1,e.trmv();var ke=r[--t];b(r[--t],ke,0)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,0,0]),s([1,0,1,1,1,1,1,0]),s([1,0,1,0,0,0,0,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fpat2=s([s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([0,0,0,0,1,0,1,0]),s([1,1,1,1,1,0,1,0]),s([0,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]);for(var he=0,Ae=e.fpat.length-1;he<=Ae;he+=1){e.y=he;for(var we=0,je=l(e.fpat,0).length-1;we<=je;we+=1){e.x=we,e.fpb=l(l(e.fpat,e.y),e.x),e.fpb2=l(l(e.fpat2,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Oe=r[--t];b(r[--t],Oe,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=e.y,e.qmv();var _e=r[--t];b(r[--t],_e,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=S(e.size-e.y)-1,e.qmv();var Ge=r[--t];b(r[--t],Ge,e.fpb),r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.size-e.y)-1,e.qmv();var st=r[--t];b(r[--t],st,e.fpb2)}}e.functionmap=s([s([s([0,8]),s([e.size-1,e.size-9])]),s([s([1,8]),s([e.size-2,e.size-9])]),s([s([2,8]),s([e.size-3,e.size-9])]),s([s([3,8]),s([e.size-4,e.size-9])]),s([s([4,8]),s([e.size-5,e.size-9])]),s([s([5,8]),s([e.size-6,e.size-9])]),s([s([6,8]),s([e.size-7,e.size-9])]),s([s([7,8]),s([e.size-8,e.size-9])]),s([s([8,8]),s([e.size-9,e.size-9])]),s([s([8,7]),s([e.size-9,e.size-8])]),s([s([8,6]),s([e.size-9,e.size-7])]),s([s([8,5]),s([e.size-9,e.size-6])]),s([s([8,4]),s([e.size-9,e.size-5])]),s([s([8,3]),s([e.size-9,e.size-4])]),s([s([8,2]),s([e.size-9,e.size-3])]),s([s([8,1]),s([e.size-9,e.size-2])]),s([s([8,0]),s([e.size-9,e.size-1])]),s([s([e.size-9,0]),s([8,e.size-1])]),s([s([e.size-9,1]),s([8,e.size-2])]),s([s([e.size-9,2]),s([8,e.size-3])]),s([s([e.size-9,3]),s([8,e.size-4])]),s([s([e.size-9,4]),s([8,e.size-5])]),s([s([e.size-9,5]),s([8,e.size-6])]),s([s([e.size-9,6]),s([8,e.size-7])]),s([s([e.size-9,7]),s([8,e.size-8])]),s([s([e.size-9,8]),s([8,e.size-9])]),s([s([e.size-8,8]),s([7,e.size-9])]),s([s([e.size-7,8]),s([6,e.size-9])]),s([s([e.size-6,8]),s([5,e.size-9])]),s([s([e.size-5,8]),s([4,e.size-9])]),s([s([e.size-4,8]),s([3,e.size-9])]),s([s([e.size-3,8]),s([2,e.size-9])]),s([s([e.size-2,8]),s([1,e.size-9])]),s([s([e.size-1,8]),s([0,e.size-9])])]);for(var at=e.functionmap,ye=0,He=at.length;ye<He;ye++)ve(l(at,ye),function(){U(r[--t]),e.qmv(),b(e.pixs,r[--t],0)});var Ue=s([function(){t-=2,r[t++]=1},function(){var Rt=r[--t],Yt=r[--t];r[t++]=S(Yt+Rt)%2},function(){var Rt=r[--t],Yt=r[--t];r[t++]=S((Rt+Yt)%3+Yt%3)%2},function(){var Rt=r[--t],Yt=r[--t];r[t++]=S(Yt%Rt+(Rt%Yt+(Rt%3+Yt%3)))%2}]);e.maskfuncs=Ue,e.mask!=-1&&(e.maskfuncs=s([l(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var We=0,pt=e.masks.length-1;We<=pt;We+=1){e.m=We,e.mask=s(e.size*e.size);for(var vt=0,ft=e.size-1;vt<=ft;vt+=1){e.j=vt;for(var gt=0,nt=e.size-1;gt<=nt&&(e.i=gt,r[t++]=e.i+1,r[t++]=e.j+1,l(e.maskfuncs,e.m)()!==!0);gt+=1){var Ft=r[--t];r[t++]=Ft==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var et=r[--t],Ht=l(r[--t],et),$t=r[--t],zt=$t&&Ht==-1?1:0;r[t++]=zt,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var nr=r[t-3],Ir=r[t-1];b(r[t-2],Ir,nr),t-=3}}b(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.num=0;e.posy!=e.size;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var ir=r[--t];if(l(r[--t],ir)==-1){var br=l(e.cws,~~(e.num/8)),sr=-(7-e.num%8);r[t++]=(sr<0?br>>>-sr:br<<sr)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Dr=r[t-3],er=r[t-1];b(r[t-2],er,Dr),t-=3,e.num=e.num+1}e.posx=e.posx+1,e.posx==e.size&&(e.posx=0,e.posy=e.posy+1)}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ve(e.scrle,function(){var ka=r[t-1];if(ka>=3){var Ia=r[--t],ja=S(r[--t]+Ia*4);r[t++]=ja,r[t++]=ja}t--});var Rt=r[--t];e[r[--t]]=Rt,e.scr3=0;for(var Yt=5,rr=e.scrle.length-1;Yt<=rr;Yt+=2)if(e.j=Yt,l(e.scrle,e.j)%3==0){e.fact=~~(l(e.scrle,e.j)/3);for(var wr=N(e.scrle,e.j-4,4),or=0,Rr=wr.length;or<Rr;or++)r[t++]=l(wr,or)==e.fact;var lr=r[--t],Lt=r[--t],yr=r[--t];r[--t]&&yr&&Lt&&lr&&(e.j==5||e.j+2>=e.scrle.length||l(e.scrle,e.j-5)>=3||l(e.scrle,e.j+1)>=3)&&(e.scr3=e.scr3+50)}for(var aa=1,pa=e.scrle.length-5;aa<=pa;aa+=2)if(e.j=aa,l(e.scrle,e.j)%3==0){e.fact=~~(l(e.scrle,e.j)/3);for(var Aa=N(e.scrle,e.j+1,4),Qr=0,Ca=Aa.length;Qr<Ca;Qr++)r[t++]=l(Aa,Qr)==e.fact;var ba=r[--t],Ma=r[--t],da=r[--t];r[--t]&&da&&Ma&&ba&&(e.j==1||e.j+6>=e.scrle.length||l(e.scrle,e.j-1)>=3||l(e.scrle,e.j+5)>=3)&&(e.scr3=e.scr3+50)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n3=0,e.rle=s(e.size+1),e.lastpairs=s(e.size),e.thispairs=s(e.size),e.sizeadd1=e.size+1;for(var Rt=0,Yt=e.size-1;Rt<=Yt;Rt+=1){e.i=Rt,r[t++]=1/0;var rr=e.size;r[t++]=0,r[t++]=0;for(var wr=e.i,or=rr,Rr=rr*rr-1;or<0?wr>=Rr:wr<=Rr;wr+=or){var lr=l(e.sym,wr),Lt=r[--t];if(r[t++]=lr,V(Lt,lr)){var yr=r[--t],aa=r[--t];r[t++]=aa+1,r[t++]=yr}else{var pa=r[--t];r[t++]=1,r[t++]=pa}}t--;var Aa=ga()+2;Kt(N(e.rle,0,Aa-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=N(e.sym,e.i*e.size,e.size),r[t++]=1/0;var Qr=e.symrow;r[t++]=0,r[t++]=0;for(var Ca=0,ba=Qr.length;Ca<ba;Ca++){var Ma=l(Qr,Ca),da=r[--t];if(r[t++]=Ma,V(da,Ma)){var ka=r[--t],Ia=r[--t];r[t++]=Ia+1,r[t++]=ka}else{var ja=r[--t];r[t++]=1,r[t++]=ja}}t--;var Qa=ga()+2;Kt(N(e.rle,0,Qa-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}r[t++]=S(e.n1+e.n3)},e.bestscore=999999999;for(var ur=0,Wt=e.masks.length-1;ur<=Wt;ur+=1){e.m=ur,e.masksym=s(e.size*e.size);for(var Xt=0,fr=e.size*e.size-1;Xt<=fr;Xt+=1)e.i=Xt,b(e.masksym,e.i,hs(l(e.pixs,e.i),l(l(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}e.pixs=e.bestsym,e.funval=((~~((e.size-21)/2)+20)*4+e.eclval)*4+e.bestmaskval,r[t++]=s([(e.funval&3840)>>>8,(e.funval&240)>>>4,e.funval&15]),r[t++]=4,r[t++]=16,r[t++]=19,e.rscodes(),e.funvals=r[--t],r[t++]=1/0,ve(e.funvals,function(){r[t++]=4,e.tobin(),ve(r[--t],function(){var Rt=r[--t];r[t++]=Rt-48})}),r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,e.funbits=s();for(var Tr=0,Pr=e.functionmap.length-1;Tr<=Pr;Tr+=1)e.i=Tr,ve(l(e.functionmap,e.i),function(){var Rt=r[--t];r[t++]=e.pixs,U(Rt),e.qmv();var Yt=r[--t];b(r[--t],Yt,l(e.funbits,e.i))});var ha=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=ha,e.dontdraw||xt(),e=a}function _y(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.ratio=-1,e.parse=!1,e.parsefnc=!1,e.raw=!1,e.fast=!1,e.mask=-1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.rows!=-1&&e.rows<5&&(r[t++]="bwipp.dotcodeBadRows#26228",r[t++]="There must be at least 5 rows",z()),e.columns!=-1&&e.columns<5&&(r[t++]="bwipp.dotcodeBadColumns#26234",r[t++]="There must be at least 5 columns",z()),e.rows!=-1&&e.columns!=-1&&(e.rows+e.columns)%2!=1&&(r[t++]="bwipp.dotcodeRowsColumnsBadParity#26239",r[t++]="Sum of rows and columns must be odd",z()),e.ratio==-1&&e.rows==-1&&e.columns==-1&&(e.ratio=3/2),e.ratio!=-1&&e.ratio<=0&&(r[t++]="bwipp.dotcodeRatio#26248",r[t++]="The ratio must be greater than 0",z()),e.mask!=-1&&(e.mask<0||e.mask>3)&&(r[t++]="bwipp.dotcodeBadMask#26254",r[t++]="Valid mask values are 0 to 3",z()),e.laa=-1,e.lab=-2,e.lac=-3,e.bin=-4,e.sfa=-5,e.sfb=-6,e.sb2=-7,e.sb3=-8,e.sb4=-9,e.sb5=-10,e.sb6=-11,e.sfc=-12,e.sc2=-13,e.sc3=-14,e.sc4=-15,e.sc5=-16,e.sc6=-17,e.sc7=-18,e.bsa=-19,e.bsb=-20,e.tma=-21,e.tmb=-22,e.tmc=-23,e.tms=-24,e.fn1=-25,e.fn2=-26,e.fn3=-27,e.crl=-28,e.aim=-29,e.m05=-30,e.m06=-31,e.m12=-32,e.mac=-33;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,e.msglen=e.msg.length;var o=e.msg;r[t++]="numecis",r[t++]=0;for(var c=0,d=o.length;c<d;c++)if(l(o,c)<=-1e6){var f=r[--t];r[t++]=f+1}var h=r[--t];e[r[--t]]=h,e.msgtmp=s(S(e.msg.length+e.numecis*6)),e.j=0;for(var p=0,m=e.msg.length-1;p<=m;p+=1){var v=l(e.msg,p);if(r[t++]=v,v<=-1e6){for(var w=N(qt(X(7),-r[--t],10),1,6),y=0,x=w.length;y<x;y++)r[t++]=l(w,y);Kt(s(6)),R(e.msgtmp,e.j+1,r[--t]),b(e.msgtmp,e.j,e.fn2),e.j=e.j+7}else b(e.msgtmp,e.j,r[--t]),e.j=e.j+1}e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.sfb,e.crl,"96"]),s([e.sb2,9,"97"]),s([e.sb3,28,"98"]),s([e.sb4,29,"99"]),s([e.sb5,30,e.aim]),s([e.sb6,e.sfa,e.laa]),s([e.lab,e.laa,e.sfb]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3]),s([e.sc4,e.sc4,e.sb4]),s([e.lac,e.lac,e.lab]),s([e.fn1,e.fn1,e.fn1]),s([e.fn2,e.fn2,e.fn2]),s([e.fn3,e.fn3,e.fn3]),s([e.bsa,e.bsa,e.bsa]),s([e.bsb,e.bsb,e.bsb]),s([e.bin,e.bin,e.bin])]),e.charvals=s([new Map,new Map,new Map]);for(var g=0,A=e.charmaps.length-1;g<=A;g+=1){e.i=g,e.encs=l(e.charmaps,e.i);for(var j=0;j<=2;j+=1){e.j=j;var C=l(e.encs,e.j);if(r[t++]=C,V(tn(C),"stringtype")){var k=l(r[--t],0);r[t++]=k}b(l(e.charvals,e.j),r[--t],e.i)}}e.Avals=l(e.charvals,0),e.Bvals=l(e.charvals,1),b(e.Bvals,e.m05,97),b(e.Bvals,e.m06,98),b(e.Bvals,e.m12,99),b(e.Bvals,e.mac,100),e.Cvals=l(e.charvals,2),r[t++]=1/0;var E=s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7,e.tma,e.tmb,e.tmc,e.tms]);r[t++]=102;for(var B=0,I=E.length;B<I;B++){var D=r[--t]+1;r[t++]=l(E,B),r[t++]=D,r[t++]=D}t--,e.BINvals=Pe(),e.A=0,e.B=1,e.C=2,e.BIN=3,r[t++]=1/0;for(var M=0,T=e.msglen+1;M<T;M++)r[t++]=0;e.nDigits=s(),r[t++]=1/0;for(var H=0,_=e.msglen+1;H<_;H++)r[t++]=!1;e.SeventeenTen=s(),r[t++]=1/0;for(var F=0,Q=e.msglen+1;F<Q;F++)r[t++]=!1;e.ECI=s(),r[t++]=1/0;for(var L=0,ee=e.msglen+1;L<ee;L++)r[t++]=!1;e.DatumA=s(),r[t++]=1/0;for(var se=0,ue=e.msglen+1;se<ue;se++)r[t++]=!1;e.DatumB=s(),r[t++]=1/0;for(var W=0,G=e.msglen+1;W<G;W++)r[t++]=!1;e.DatumC=s(),r[t++]=1/0;for(var ne=0,de=e.msglen+8;ne<de;ne++)r[t++]=!1;e.Binary=s(),r[t++]=1/0;for(var te=0,ae=e.msglen+1;te<ae;te++)r[t++]=0;e.AheadC=s(),r[t++]=1/0;for(var ie=0,oe=e.msglen+1;ie<oe;ie++)r[t++]=0;e.TryC=s(),r[t++]=1/0;for(var De=0,Ne=e.msglen+1;De<Ne;De++)r[t++]=0;e.AheadA=s(),r[t++]=1/0;for(var Le=0,Te=e.msglen+1;Le<Te;Le++)r[t++]=0;e.AheadB=s(),r[t++]=1/0;for(var Ve=0,Qe=e.msglen+1;Ve<Qe;Ve++)r[t++]=0;e.UntilEndSeg=s();for(var ot=e.msglen-1;ot>=0;ot-=1){e.i=ot,e.barchar=l(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&b(e.nDigits,e.i,l(e.nDigits,e.i+1)+1);var Ze=l(e.Avals,e.barchar)!==void 0;Ze&&b(e.DatumA,e.i,!0);var Fe=l(e.Bvals,e.barchar)!==void 0;if(Fe&&b(e.DatumB,e.i,!0),e.CRLF=!1,e.barchar==13&&e.i<e.msglen-1&&l(e.msg,e.i+1)==10&&(e.CRLF=!0),e.CRLF&&b(e.DatumB,e.i,!0),l(e.nDigits,e.i)>=2&&b(e.DatumC,e.i,!0),e.barchar<0&&b(e.DatumC,e.i,!0),e.barchar>=128&&b(e.Binary,e.i,!0),l(e.nDigits,e.i)>=10){r[t++]=1/0,U(N(e.msg,e.i,10));for(var Ke=0;Ke<1;Ke++){if(r[--t]!=48){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}if(t-=6,r[--t]!=55){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}r[t++]=!0}r[t++]=e.SeventeenTen,r[t++]=e.i;var Je=r[t-3],rt=r[t-1];b(r[t-2],rt,Je),t-=3,Ko()}if(l(e.nDigits,e.i+1)>=6&&l(e.msg,e.i)==e.fn2&&b(e.ECI,e.i,!0),e.barchar<0&&e.barchar!=e.fn3?b(e.AheadC,e.i,l(e.AheadC,e.i+1)+1):l(e.nDigits,e.i)<=1?b(e.AheadC,e.i,0):b(e.AheadC,e.i,l(e.AheadC,e.i+2)+1),l(e.nDigits,e.i)>0&&Bi(l(e.AheadC,e.i),l(e.AheadC,e.i+1))&&b(e.TryC,e.i,l(e.AheadC,e.i)),l(e.DatumA,e.i)&&l(e.TryC,e.i)<2&&e.barchar!=e.fn3&&b(e.AheadA,e.i,l(e.AheadA,e.i+1)+1),l(e.DatumB,e.i)&&l(e.TryC,e.i)<2&&e.barchar!=e.fn3){if(r[t++]=e.AheadB,r[t++]=e.i,r[t++]=e.AheadB,r[t++]=e.i+1,e.CRLF){var Xe=r[--t];r[t++]=Xe+1}var Se=r[--t],pe=l(r[--t],Se),Ie=r[--t];b(r[--t],Ie,pe+1)}e.barchar!=e.fn3&&b(e.UntilEndSeg,e.i,l(e.UntilEndSeg,e.i+1)+1)}for(e.addtocws=function(){var fe=r[--t];R(e.cws,e.j,fe),e.j=fe.length+e.j},e.base259to103=function(){e.in=r[--t],e.inlen=e.in.length,r[t++]=1/0;for(var fe=0,me=5-e.inlen;fe<me;fe++)r[t++]=0;U(e.in),e.in=s(),e.out=s(6),r[t++]=1/0,U(N(e.in,0,2)),e.msbs=s(),r[t++]=1/0,U(e.msbs);var ge=r[--t],re=r[--t];r[t++]=S(ge+re*259);for(var xe=0;xe<2;xe++){var ke=r[--t];r[t++]=ke%103,r[t++]=~~(ke/103)}e.mscs=s(),r[t++]=1/0,U(N(e.in,2,3)),e.lsbs=s(),r[t++]=1/0,U(e.lsbs);var he=r[--t],Ae=r[--t],we=r[--t];r[t++]=S(he+Ae*259+we*67081);for(var je=0;je<3;je++){var Oe=r[--t];r[t++]=Oe%103,r[t++]=~~(Oe/103)}e.lscs=s();var _e=l(e.lscs,0),Ge=l(e.mscs,0);b(e.out,5,S(_e+Ge*42)%103);var st=l(e.lscs,1),at=l(e.mscs,0),ye=l(e.mscs,1);b(e.out,4,S(~~((_e+Ge*42)/103)+st+at*68+ye*42)%103);var He=l(e.lscs,2),Ue=l(e.mscs,0),We=l(e.mscs,1),pt=l(e.mscs,2);b(e.out,3,S(~~((~~((_e+Ge*42)/103)+st+at*68+ye*42)/103)+He+Ue*92+We*68+pt*42)%103);var vt=l(e.lscs,3),ft=l(e.mscs,0),gt=l(e.mscs,1),nt=l(e.mscs,2);b(e.out,2,S(~~((~~((~~((_e+Ge*42)/103)+st+at*68+ye*42)/103)+He+Ue*92+We*68+pt*42)/103)+vt+ft*15+gt*92+nt*68)%103);var Ft=l(e.mscs,1),et=l(e.mscs,2);b(e.out,1,S(~~((~~((~~((~~((_e+Ge*42)/103)+st+at*68+ye*42)/103)+He+Ue*92+We*68+pt*42)/103)+vt+ft*15+gt*92+nt*68)/103)+Ft*15+et*92)%103),b(e.out,0,S(~~((~~((~~((~~((~~((_e+Ge*42)/103)+st+at*68+ye*42)/103)+He+Ue*92+We*68+pt*42)/103)+vt+ft*15+gt*92+nt*68)/103)+Ft*15+et*92)/103)+l(e.mscs,2)*15)%103),r[t++]=N(e.out,6-e.inlen-1,e.inlen+1)},e.finaliseBIN=function(){e.bpos!=0&&(r[t++]=N(e.bvals,0,e.bpos),e.base259to103(),U(r[--t]),e.bpos=0)},e.addtobin=function(){b(e.bvals,e.bpos,r[--t]),e.bpos=e.bpos+1,e.bpos==5&&e.finaliseBIN()},e.ECIabc=function(){var fe=N(e.msg,e.i+1,6);r[t++]=0;for(var me=0,ge=fe.length;me<ge;me++){var re=r[--t];r[t++]=S(re+(l(fe,me)-48))*10}var xe=~~(r[--t]/10);if(r[t++]=xe,xe>=40){var ke=r[--t]-40,he=ke%12769;r[t++]=~~(ke/12769)+40,r[t++]=~~(he/113),r[t++]=he%113}},e.ECIbin=function(){r[t++]=1/0;var fe=N(e.msg,e.i+1,6);r[t++]=0;for(var me=0,ge=fe.length;me<ge;me++){var re=r[--t];r[t++]=S(re+(l(fe,me)-48))*10}var xe=~~(r[--t]/10);if(r[t++]=xe,xe>=65536){var ke=r[--t],he=ke%65536;r[t++]=258,r[t++]=~~(ke/65536),r[t++]=~~(he/256),r[t++]=he%256}else{var Ae=r[t-1];if(Ae>=256){var we=r[--t];r[t++]=257,r[t++]=~~(we/256),r[t++]=we%256}else{var je=r[--t];r[t++]=256,r[t++]=je}}for(var Oe=s(),_e=0,Ge=Oe.length;_e<Ge;_e++)r[t++]=l(Oe,_e),e.addtobin()},e.encC=function(){for(var fe=0;fe<1;fe++){if(e.i==e.segstart){for(var me=0;me<1;me++){if(e.i>e.segend-7){r[t++]=0;break}if(l(e.msg,e.segstart)!=91){r[t++]=0;break}if(l(e.msg,e.segstart+1)!=41){r[t++]=0;break}if(l(e.msg,e.segstart+2)!=62){r[t++]=0;break}if(l(e.msg,e.segstart+3)!=30){r[t++]=0;break}var ge=l(e.msg,e.segstart+4);if(ge<48||ge>57){r[t++]=0;break}var re=l(e.msg,e.segstart+5);if(re<48||re>57){r[t++]=0;break}if(l(e.msg,e.segend-1)!=4){r[t++]=0;break}var xe=S((l(e.msg,e.segstart+4)-48)*10+(l(e.msg,e.segstart+5)-48));if(r[t++]=xe,xe!=5&&xe!=6&&xe!=12){r[t-1]=e.mac;break}if(l(e.msg,e.segstart+6)!=29){r[t-1]=0;break}if(l(e.msg,e.segend-2)!=30){r[t-1]=0;break}var ke=r[t-1];if(ke==5){r[t-1]=e.m05;break}if(r[--t]==6){r[t++]=e.m06;break}r[t++]=e.m12;break}if(e.inmac=r[--t],e.inmac!=0){r[t++]=s([l(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B,r[t++]=s([l(e.Bvals,e.inmac)]),e.addtocws(),e.inmac==e.mac?(r[t++]=s([l(e.Bvals,l(e.msg,e.segstart+4))]),e.addtocws(),r[t++]=s([l(e.Bvals,l(e.msg,e.segstart+5))]),e.addtocws(),e.i=e.i+6):e.i=e.i+7;break}}if(e.i==e.segstart&&(l(e.nDigits,e.i)>=2&&(r[t++]=s([l(e.Cvals,e.fn1)]),e.addtocws()),l(e.msg,e.i)==e.fn1&&l(e.nDigits,e.i+1)>=2&&(e.i=e.i+1)),l(e.SeventeenTen,e.i)){r[t++]=s([l(e.Cvals,e.aim),S((l(e.msg,e.i+2)-48)*10+(l(e.msg,e.i+3)-48)),S((l(e.msg,e.i+4)-48)*10+(l(e.msg,e.i+5)-48)),S((l(e.msg,e.i+6)-48)*10+(l(e.msg,e.i+7)-48))]),e.addtocws(),e.i=e.i+10;break}if(l(e.DatumC,e.i)){var he=l(e.msg,e.i);if(he==e.fn1||he==e.fn2||he==e.fn3){if(r[t++]=s([l(e.Cvals,l(e.msg,e.i))]),e.addtocws(),l(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var Ae=s();r[t++]=Ae,e.addtocws(),e.i=e.i+7;break}if(l(e.msg,e.i)==e.fn3&&e.segstart!=e.i){e.i=e.i+1,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+l(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([S((l(e.msg,e.i)-48)*10+(l(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2;break}if(l(e.Binary,e.i)){if(l(e.nDigits,e.i+1)>0){l(e.msg,e.i)<160?(r[t++]=s([l(e.Cvals,e.bsa),l(e.Avals,l(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([l(e.Cvals,e.bsb),l(e.Bvals,l(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([l(e.Cvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.m=l(e.AheadA,e.i),e.n=l(e.AheadB,e.i),Bi(e.m,e.n)){r[t++]=s([l(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}if(e.i==e.segstart){var we=l(e.msg,e.i);if(we==9||we==28||we==29||we==30){r[t++]=s([l(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}}if(e.n>4){r[t++]=s([l(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([l(e.Cvals,l(s([e.sfb,e.sb2,e.sb3,e.sb4]),e.n-1))]),e.addtocws();for(var je=0,Oe=e.n;je<Oe;je++)l(e.msg,e.i)==13?(r[t++]=s([l(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([l(e.Bvals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encB=function(){for(var fe=0;fe<1;fe++){if(e.n=l(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([l(e.Bvals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([l(e.Bvals,l(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,ge=e.n;me<ge;me++)l(e.msg,e.i)<0?(r[t++]=s([l(e.Cvals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((l(e.msg,e.i)-48)*10+(l(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(l(e.DatumB,e.i)){var re=l(e.msg,e.i);if(re==e.fn1||re==e.fn2||re==e.fn3){if(r[t++]=s([l(e.Bvals,l(e.msg,e.i))]),e.addtocws(),l(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var xe=s();r[t++]=xe,e.addtocws(),e.i=e.i+7;break}if(l(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+l(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}if(l(e.msg,e.i)==13&&e.i<e.msglen-1&&l(e.msg,e.i+1)==10){r[t++]=s([l(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2;break}r[t++]=s([l(e.Bvals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(l(e.Binary,e.i)){if(l(e.DatumB,e.i+1)){l(e.msg,e.i)<160?(r[t++]=s([l(e.Bvals,e.bsa),l(e.Avals,l(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([l(e.Bvals,e.bsb),l(e.Bvals,l(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([l(e.Bvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(l(e.AheadA,e.i)==1){r[t++]=s([l(e.Bvals,e.sfa),l(e.Avals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}r[t++]=s([l(e.Bvals,e.laa)]),e.addtocws(),e.mode=e.A;break}},e.encA=function(){for(var fe=0;fe<1;fe++){if(e.n=l(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([l(e.Avals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([l(e.Avals,l(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,ge=e.n;me<ge;me++)l(e.msg,e.i)<0?(r[t++]=s([l(e.Cvals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((l(e.msg,e.i)-48)*10+(l(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(l(e.DatumA,e.i)){var re=l(e.msg,e.i);if(re==e.fn1||re==e.fn2||re==e.fn3){if(r[t++]=s([l(e.Avals,l(e.msg,e.i))]),e.addtocws(),l(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var xe=s();r[t++]=xe,e.addtocws(),e.i=e.i+7;break}if(l(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+l(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([l(e.Avals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(l(e.Binary,e.i)){if(l(e.DatumA,e.i+1)){l(e.msg,e.i)<160?(r[t++]=s([l(e.Avals,e.bsa),l(e.Avals,l(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([l(e.Avals,e.bsb),l(e.Bvals,l(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([l(e.Avals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.n=l(e.AheadB,e.i),e.n>6){r[t++]=s([l(e.Avals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([l(e.Avals,l(s([e.sfb,e.sb2,e.sb3,e.sb4,e.sb5,e.sb6]),e.n-1))]),e.addtocws();for(var ke=0,he=e.n;ke<he;ke++)l(e.msg,e.i)==13?(r[t++]=s([l(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([l(e.Bvals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encBIN=function(){for(var fe=0;fe<1;fe++){if(e.n=l(e.TryC,e.i),e.n>=2){r[t++]=1/0,e.finaliseBIN();var me=s();if(r[t++]=me,e.addtocws(),e.n>7){r[t++]=s([l(e.BINvals,e.tmc)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([l(e.BINvals,l(s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7]),e.n-2))]),e.addtocws();for(var ge=0,re=e.n;ge<re;ge++)l(e.msg,e.i)<0?(r[t++]=s([l(e.Cvals,l(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((l(e.msg,e.i)-48)*10+(l(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(l(e.ECI,e.i)&&l(e.Binary,e.i+7)){r[t++]=1/0,e.ECIbin();var xe=s();if(r[t++]=xe,e.addtocws(),e.i=e.i+7,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var ke=s();r[t++]=ke,e.addtocws()}break}if(l(e.msg,e.i)>=0&&(l(e.Binary,e.i)||l(e.Binary,e.i+1)||l(e.Binary,e.i+2)||l(e.Binary,e.i+3)||l(e.ECI,e.i+1)&&l(e.Binary,e.i+8))){r[t++]=1/0,r[t++]=l(e.msg,e.i),e.addtobin();var he=s();if(r[t++]=he,e.addtocws(),e.i=e.i+1,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Ae=s();r[t++]=Ae,e.addtocws()}break}r[t++]=1/0,e.finaliseBIN();var we=s();if(r[t++]=we,e.addtocws(),e.i!=e.msglen-1){if(l(e.msg,e.i)==e.fn3&&e.i!=e.segstart){r[t++]=s([l(e.BINvals,e.tms)]),e.addtocws(),e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+l(e.UntilEndSeg,e.i));break}Bi(l(e.AheadA,e.i),l(e.AheadB,e.i))?(r[t++]=s([l(e.BINvals,e.tma)]),e.addtocws(),e.mode=e.A):(r[t++]=s([l(e.BINvals,e.tmb)]),e.addtocws(),e.mode=e.B);break}break}},e.cws=s(e.msglen*2+1),e.mode=e.C,e.bvals=s(5),e.bpos=0,e.inmac=0,e.segstart=0,e.segend=l(e.UntilEndSeg,0),e.i=0,e.j=0;!(e.i>=e.msglen||e.inmac!=0&&(e.inmac!=e.mac&&e.i==e.segend-2&&(e.i=e.i+2,e.i>=e.msglen)||e.inmac==e.mac&&e.i==e.segend-1&&(e.i=e.i+1,e.i>=e.msglen))||e[l(s(["encA","encB","encC","encBIN"]),e.mode)]()===!0););if(e.cws=N(e.cws,0,e.j),e.nd=e.cws.length,e.minarea=((e.nd+3+~~(e.nd/2))*9+2)*2,e.ratio!=-1)e.hgt=nu(e.minarea/e.ratio),e.wid=nu(e.minarea*e.ratio),e.h=~~e.hgt,e.w=~~e.wid,(e.h+e.w)%2==1?e.h*e.w<e.minarea&&(e.h=e.h+1,e.w=e.w+1):e.hgt*e.w<e.wid*e.h?(e.w=e.w+1,e.h*e.w<e.minarea&&(e.w=e.w-1,e.h=e.h+1,e.h*e.w<e.minarea&&(e.w=e.w+2))):(e.h=e.h+1,e.h*e.w<e.minarea&&(e.h=e.h-1,e.w=e.w+1,e.h*e.w<e.minarea&&(e.h=e.h+2))),e.rows=e.h,e.columns=e.w;else{if(e.columns==-1){var Me=~~((e.minarea+e.rows-1)/e.rows);if(r[t++]="columns",r[t++]=Me,(Me+e.rows)%2==0){var Re=r[--t];r[t++]=Re+1}var Ye=r[--t];e[r[--t]]=Ye}if(e.rows==-1){var ze=~~((e.minarea+e.columns-1)/e.columns);if(r[t++]="rows",r[t++]=ze,(ze+e.columns)%2==0){var mt=r[--t];r[t++]=mt+1}var lt=r[--t];e[r[--t]]=lt}}for(e.ndots=~~(e.rows*e.columns/2);;){var ht=e.nd+1;if((ht+(~~(ht/2)+3))*9+2>e.ndots)break;e.nd=e.nd+1}if(e.nc=~~(e.nd/2)+3,e.nw=e.nd+e.nc,e.rembits=e.ndots-(e.nw*9+2),e.nd>e.cws.length){r[t++]=1/0,U(e.cws);var yt=e.mode==e.BIN?109:106;r[t++]=yt;for(var jt=0,wt=e.nd-e.cws.length-1;jt<wt;jt++)r[t++]=106;e.cws=s()}var Dt=l(e.options,"debugcws")!==void 0;Dt&&(r[t++]="bwipp.debugcws#26927",r[t++]=e.cws,z()),e.nw*9>e.ndots-2&&(r[t++]="bwipp.dotcodeTooLong#26931",r[t++]="Maximum length exceeded",z()),e.encs=s(["101010101","010101011","010101101","010110101","011010101","101010110","101011010","101101010","110101010","010101110","010110110","010111010","011010110","011011010","011101010","100101011","100101101","100110101","101001011","101001101","101010011","101011001","101100101","101101001","110010101","110100101","110101001","001010111","001011011","001011101","001101011","001101101","001110101","010010111","010011011","010011101","010100111","010110011","010111001","011001011","011001101","011010011","011011001","011100101","011101001","100101110","100110110","100111010","101001110","101011100","101100110","101101100","101110010","101110100","110010110","110011010","110100110","110101100","110110010","110110100","111001010","111010010","111010100","001011110","001101110","001110110","001111010","010011110","010111100","011001110","011011100","011100110","011101100","011110010","011110100","100010111","100011011","100011101","100100111","100110011","100111001","101000111","101100011","101110001","110001011","110001101","110010011","110011001","110100011","110110001","111000101","111001001","111010001","000101111","000110111","000111011","000111101","001001111","001100111","001110011","001111001","010001111","011000111","011100011","011110001","100011110","100111100","101111000","110001110","110011100","110111000","111000110","111001100"]),e.rows%2==0?e.sixedges=s([s([e.columns-1,e.rows-2]),s([0,e.rows-2]),s([e.columns-2,e.rows-1]),s([1,e.rows-1]),s([e.columns-1,0]),s([0,0])]):e.sixedges=s([s([e.columns-2,0]),s([e.columns-2,e.rows-1]),s([e.columns-1,1]),s([e.columns-1,e.rows-2]),s([0,0]),s([0,e.rows-1])]),e.dmv=function(){var fe=r[--t],me=r[--t];r[t++]=S(me+fe*e.columns)},e.outline=s(e.rows*e.columns);for(var Ct=0,Ut=e.rows-1;Ct<=Ut;Ct+=1){e.y=Ct;for(var It=0,kt=e.columns-1;It<=kt;It+=1){e.x=It,r[t++]=e.outline,r[t++]=e.x,r[t++]=e.y,e.dmv();var P=r[--t];b(r[--t],P,(e.x+e.y)%2-1)}}for(var Y=e.sixedges,q=0,O=Y.length;q<O;q++){r[t++]=e.outline,U(l(Y,q)),e.dmv();var $=r[--t];b(r[--t],$,1)}e.clearcol=function(){e.x=r[--t],r[t++]=!0;for(var fe=e.x&1,me=e.rows-1;fe<=me;fe+=2)if(r[t++]=e.x,r[t++]=fe,e.dmv(),l(e.sym,r[--t])==1){r[t-1]=!1;break}},e.clearrow=function(){e.y=r[--t],r[t++]=!0;for(var fe=e.y&1,me=e.columns-1;fe<=me;fe+=2)if(r[t++]=fe,r[t++]=e.y,e.dmv(),l(e.sym,r[--t])==1){r[t-1]=!1;break}},e.evalsymbol=function(){e.sym=r[--t],e.worst=9999999;for(var fe=s([s(["x",0]),s(["x",1]),s(["y",0]),s(["y",1])]),me=0,ge=fe.length;me<ge;me++){U(l(fe,me)),e.fl=r[--t],e.dir=r[--t],e.sum=0,e.first=-1,e.last=-1;for(var re=V(e.dir,"x")?e.columns:e.rows,xe=0,ke=re-1;xe<=ke;xe+=1){e[e.dir]=xe;var he=e.sym,Ae=e[e.dir],we=V(e.dir,"x")?e.rows:e.columns,je=(we-1)*e.fl;if(V(e.dir,"y")){var Oe=je;je=Ae,Ae=Oe}r[t++]=he,r[t++]=Ae,r[t++]=je,e.dmv();var _e=r[--t];l(r[--t],_e)==1&&(e.first==-1&&(e.first=e[e.dir]),e.last=e[e.dir],e.sum=e.sum+1)}var Ge=V(e.dir,"x")?e.rows:e.columns,st=S(e.sum+e.last-e.first)*Ge;r[t++]=st,st<e.worst?e.worst=r[--t]:t--}if(e.pen=0,e.rows%2==1||e.rows<=12){e.sum=0,e.p=0;for(var at=1,ye=e.columns-2;at<=ye;at+=1)if(r[t++]=at,e.clearcol(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.rows:r[t++]=e.p*e.rows;var He=r[--t];e[r[--t]]=He}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}if(e.rows%2==0||e.columns<=12){e.sum=0,e.p=0;for(var Ue=1,We=e.rows-2;Ue<=We;Ue+=1)if(r[t++]=Ue,e.clearrow(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.columns:r[t++]=e.p*e.columns;var pt=r[--t];e[r[--t]]=pt}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}r[t++]=1/0;for(var vt=0,ft=(e.columns+4)*2;vt<ft;vt++)r[t++]=0;for(var gt=0,nt=e.columns,Ft=e.sym.length-1;nt<0?gt>=Ft:gt<=Ft;gt+=nt)r[t++]=0,r[t++]=0,U(N(e.sym,gt,e.columns)),r[t++]=0,r[t++]=0;for(var et=0,Ht=(e.columns+4)*2;et<Ht;et++)r[t++]=0;e.symp=s(),e.columns=e.columns+4,e.rows=e.rows+4,e.sum=0;for(var $t=2,zt=e.rows-3;$t<=zt;$t+=1){e.y=$t;for(var nr=(e.y&1)+2,Ir=e.columns-3;nr<=Ir;nr+=2){e.x=nr;for(var ir=0;ir<1;ir++){r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y-1,e.dmv();var br=r[--t];if(l(r[--t],br)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y-1,e.dmv();var sr=r[--t];if(l(r[--t],sr)==1)break;r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y+1,e.dmv();var Dr=r[--t];if(l(r[--t],Dr)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y+1,e.dmv();var er=r[--t];if(l(r[--t],er)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y,e.dmv();var ur=r[--t];if(l(r[--t],ur)==0){e.sum=e.sum+1;break}r[t++]=e.symp,r[t++]=e.x-2,r[t++]=e.y,e.dmv();var Wt=r[--t];if(l(r[--t],Wt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y-2,e.dmv();var Xt=r[--t];if(l(r[--t],Xt)==1)break;r[t++]=e.symp,r[t++]=e.x+2,r[t++]=e.y,e.dmv();var fr=r[--t];if(l(r[--t],fr)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y+2,e.dmv();var Tr=r[--t];if(l(r[--t],Tr)==1)break;e.sum=e.sum+1}}}e.columns=e.columns-4,e.rows=e.rows-4,e.worst==0?r[t++]=-99999:r[t++]=S(e.worst-e.sum*e.sum-e.pen)},r[t++]=1/0,r[t++]=1;for(var le=0;le<112;le++){var K=r[t-1];r[t++]=K*3%113}e.rsalog=s(),e.step=~~(e.nw/112)+1,e.offset=function(){var fe=r[--t];r[t++]=S(fe*e.step+e.start)},e.bestscore=-99999999,r[t++]="masks",e.mask!=-1?r[t++]=s([e.mask]):e.fast?r[t++]=s([3,2,1,0]):r[t++]=s([0,1,2,3]);var be=r[--t];e[r[--t]]=be,e.litmasks=s(4),ve(e.masks,function(){e.mask=r[--t],r[t++]=1/0;var fe=e.cws;r[t++]=e.mask,r[t++]=l(s([0,3,7,17]),e.mask),r[t++]=0;for(var me=0,ge=fe.length;me<ge;me++){var re=r[--t],xe=r[--t];r[t++]=S(l(fe,me)+re)%113,r[t++]=xe,r[t++]=S(re+xe)}t-=2;for(var ke=0,he=e.nc;ke<he;ke++)r[t++]=0;e.rscws=s();for(var Ae=0,we=e.step-1;Ae<=we;Ae+=1){e.start=Ae,e.ND=~~((e.nd+1-e.start+e.step-1)/e.step),e.NW=~~((e.nw+1-e.start+e.step-1)/e.step),e.NC=e.NW-e.ND,r[t++]=1/0,r[t++]=1;for(var je=0,Oe=e.NC;je<Oe;je++)r[t++]=0;e.coeffs=s();for(var _e=1,Ge=e.NC;_e<=Ge;_e+=1){e.i=_e;for(var st=e.NC;st>=1;st-=1)e.j=st,b(e.coeffs,e.j,S(l(e.coeffs,e.j)+113-l(e.rsalog,e.i)*l(e.coeffs,e.j-1)%113)%113)}for(var at=0,ye=e.ND-1;at<=ye;at+=1){r[t++]="t",r[t++]=e.rscws,r[t++]=at,e.offset();var He=r[--t],Ue=l(r[--t],He);r[t++]=Ue,r[t++]=e.rscws,r[t++]=e.ND,e.offset();var We=r[--t],pt=l(r[--t],We),vt=r[--t];e[r[--t]]=S(vt+pt)%113;for(var ft=0,gt=e.NC-2;ft<=gt;ft+=1){e.j=ft,r[t++]=e.rscws,r[t++]=e.ND+e.j,e.offset(),r[t++]=e.rscws,r[t++]=e.ND+e.j+1,e.offset();var nt=r[--t],Ft=l(r[--t],nt),et=r[--t];b(r[--t],et,S(Ft+113-e.t*l(e.coeffs,e.j+1)%113)%113)}r[t++]=e.rscws,r[t++]=e.ND+e.NC-1,e.offset();var Ht=r[--t];b(r[--t],Ht,(113-e.t*l(e.coeffs,e.NC)%113)%113)}for(var $t=e.ND,zt=e.NW-1;$t<=zt;$t+=1){r[t++]=$t,r[t++]=e.rscws,r[t++]=$t,e.offset(),r[t++]=113,r[t++]=e.rscws,Ea(5,-1),e.offset();var nr=r[--t],Ir=l(r[--t],nr),ir=r[--t],br=r[--t];b(r[--t],br,S(ir-Ir)%113)}}e.bits=X(e.ndots),R(e.bits,0,l(s(["00","01","10","11"]),e.mask));for(var sr=1,Dr=e.nw;sr<=Dr;sr+=1)e.i=sr,R(e.bits,(e.i-1)*9+2,l(e.encs,l(e.rscws,e.i)));e.rembits>0&&R(e.bits,e.nw*9+2,N("11111111111111111",0,e.rembits));var er=e.outline;e.pixs=cc(s(er.length),er),e.posx=0,r[t++]="posy",e.rows%2==0?r[t++]=0:r[t++]=e.rows-1;var ur=r[--t];e[r[--t]]=ur;for(var Wt=N(e.bits,0,e.bits.length-6),Xt=0,fr=Wt.length;Xt<fr;Xt++){for(r[t++]=l(Wt,Xt);;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Tr=r[--t];if(l(r[--t],Tr)==-1)break;e.rows%2==0?(e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)):(e.posx=e.posx+1,e.posx==e.columns&&(e.posx=0,e.posy=e.posy-1))}r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Pr=r[t-3],ha=r[t-1];b(r[t-2],ha,Pr-48),t-=3}for(var Rt=0;Rt<=5;Rt+=1){e.i=Rt,r[t++]=e.pixs,U(l(e.sixedges,e.i)),e.dmv();var Yt=r[--t];b(r[--t],Yt,l(e.bits,e.bits.length-6+e.i)-48)}r[t++]="score",r[t++]=e.pixs,e.evalsymbol();var rr=r[--t];if(e[r[--t]]=rr,e.score>e.bestscore&&(e.bestsym=e.pixs,e.bestscore=e.score,e.fast&&e.bestscore>~~(e.rows*e.columns/2)))return!0;var wr=e.pixs;e.litmask=cc(s(wr.length),wr);for(var or=0;or<=5;or+=1){e.i=or,r[t++]=e.litmask,U(l(e.sixedges,e.i)),e.dmv();var Rr=r[--t];b(r[--t],Rr,1)}if(b(e.litmasks,e.mask,e.litmask),e.fast){r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var lr=r[--t];if(e[r[--t]]=lr,Bi(e.score,e.bestscore)&&(e.bestsym=e.litmask,e.bestscore=e.score,e.bestscore>~~(e.rows*e.columns/2)))return!0}}),e.pixs=e.bestsym,!e.fast&&e.bestscore<=~~(e.rows*e.columns/2)&&(e.bestscore=-99999999,ve(e.masks,function(){e.litmask=l(e.litmasks,r[--t]),r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var fe=r[--t];e[r[--t]]=fe,e.score>e.bestscore&&(e.bestsym=e.litmask,e.bestscore=e.score)}),e.pixs=e.bestsym);var J=new Map([["ren","renmatrix"],["dotty",!0],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows*2/72],["width",e.columns*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=J,e.dontdraw||xt(),e=a}function nM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.eclevel="EC2",e.parse=!1,e.parsefnc=!1,e.start=257,e.link1=0,e.raw=!1,e.rev=2,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=e.rev;n!=1&&n!=2&&(r[t++]="bwipp.ultracodeInvalidRevision#27328",r[t++]="Valid revisions are 1 and 2",z());var i=e.eclevel.length==3;if(r[t++]=i,i){t--;var o=V(N(e.eclevel,0,2),"EC");if(r[t++]=o,o){t--;var c=l(e.eclevel,2)-48,d=e.rev==2?1:0;r[t++]=c>=d&&c<=5}}if(r[--t]||(r[t++]="bwipp.ultracodeInvalidErrorCorrectionLevel#27337",r[t++]="Valid error correction levels are EC1 to EC5, and EC0 for legacy revision 1",z()),e.raw){for(e.dcws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ce(N(e.barcode,e.i+1,3)),b(e.dcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.dcws=N(e.dcws,0,e.j)}else{e.fn1=-1,e.fn3=-2;var f=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=f,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var h=r[--t];e[r[--t]]=h,e.msglen=e.msg.length,e.scr=s([]),e.scp=s([]),r[t++]=1/0,U(e.scr),U(e.scp),ve(e.msg,function(){var je=r[t-1];je==e.fn1&&(r[t-1]=268);var Oe=r[t-1];Oe==e.fn3&&(r[t-1]=269)}),e.dcws=s()}var p=l(e.options,"debugcws")!==void 0;if(p&&(r[t++]="bwipp.debugcws#27381",r[t++]=e.dcws,z()),e.mcc=e.dcws.length+3,e.eclval=l(e.eclevel,2)-48,e.eclval!=0){if(r[t++]="qcc",r[t++]=l(s([0,1,2,4,6,8]),e.eclval),r[t++]=~~(e.mcc/25),e.mcc%25!=0){var m=r[--t];r[t++]=m+1}var v=r[--t],w=r[--t];e[r[--t]]=w*v+5}else e.qcc=3;e.acc=e.qcc-3+78*e.link1,e.tcc=e.mcc+e.qcc,e.metrics=s([s([2,7,37,5]),s([3,36,84,13]),s([4,85,161,22]),s([5,142,282,29])]);for(var y=e.metrics,x=0,g=y.length;x<g&&(e.m=l(y,x),e.rows=l(e.m,0),e.minc=l(e.m,1),e.maxc=l(e.m,2),e.mcol=l(e.m,3),e.okay=!0,(e.tcc<e.minc||e.tcc>e.maxc)&&(e.okay=!1),!e.okay);x++);e.okay||(r[t++]="bwipp.ultracodeNoValidSymbol#27417",r[t++]="Maximum length exceeded or invalid content",z());for(var A=e.mcol;A<=61;A+=1){if(e.columns=A,r[t++]=e.columns,e.columns>=15){var j=r[--t];r[t++]=j-1}if(e.columns>=31){var C=r[--t];r[t++]=C-1}if(e.columns>=47){var k=r[--t];r[t++]=k-1}var E=S(r[--t]*e.rows-3-e.tcc);if(r[t++]=E,E>=0){e.pads=r[--t];break}t--}e.dcc=S(e.columns-e.mcol),r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,r[t++]=e.acc,U(e.dcws);for(var B=0,I=e.qcc;B<I;B++)r[t++]=0;r[t++]=0,e.rsseq=s(),r[t++]=1/0,r[t++]=1;for(var D=0;D<282;D++){var M=r[t-1];r[t++]=M*3%283}e.rsalog=s(),e.rslog=s(283);for(var T=1;T<=282;T+=1)b(e.rslog,l(e.rsalog,T),T);e.rsprod=function(){var je=r[t-1],Oe=r[t-2];if(je!=0&&Oe!=0){var _e=l(e.rslog,r[--t]),Ge=l(e.rsalog,S(_e+l(e.rslog,r[--t]))%282);r[t++]=Ge}else t-=2,r[t++]=0},e.n=e.mcc,e.k=e.qcc,r[t++]=1/0,r[t++]=1;for(var H=0,_=e.k;H<_;H++)r[t++]=0;e.coeffs=s();for(var F=1,Q=e.k;F<=Q;F+=1){e.i=F,b(e.coeffs,e.i,l(e.coeffs,e.i-1));for(var L=e.i-1;L>=1;L-=1){e.j=L,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=l(e.coeffs,e.j-1),r[t++]=l(e.coeffs,e.j),r[t++]=l(e.rsalog,e.i),e.rsprod();var ee=r[--t],se=r[--t],ue=r[--t];b(r[--t],ue,S(se+ee)%283)}r[t++]=e.coeffs,r[t++]=0,r[t++]=l(e.coeffs,0),r[t++]=l(e.rsalog,e.i),e.rsprod();var W=r[--t],G=r[--t];b(r[--t],G,W)}e.coeffs=N(e.coeffs,0,e.coeffs.length-1);for(var ne=e.coeffs.length-1;ne>=0;ne-=2){var de=e.coeffs;b(de,ne,283-l(de,ne))}for(var te=0,ae=e.n-1;te<=ae;te+=1){e.t=S(l(e.rsseq,te)+l(e.rsseq,e.n))%283;for(var ie=0,oe=e.k-1;ie<=oe;ie+=1)e.j=ie,b(e.rsseq,e.n+e.j,S(l(e.rsseq,e.n+e.j+1)+(283-e.t*l(e.coeffs,e.k-e.j-1)%283))%283)}for(var De=e.n,Ne=e.n+e.k;De<=Ne;De+=1)b(e.rsseq,De,(283-l(e.rsseq,De))%283);e.ecws=N(e.rsseq,e.n,e.k);var Le=l(e.options,"debugecc")!==void 0;Le&&(r[t++]="bwipp.debugecc#27487",r[t++]=e.ecws,z()),e.tiles=s([13135,13136,13153,13156,13163,13165,13513,13515,13516,13531,13535,13536,13561,13563,13565,13613,13615,13616,13631,13635,13636,13651,13653,13656,15135,15136,15153,15163,15165,15313,15315,15316,15351,15353,15356,15361,15363,15365,15613,15615,15616,15631,15635,15636,15651,15653,15656,16135,16136,16153,16156,16165,16313,16315,16316,16351,16353,16356,16361,16363,16365,16513,16515,16516,16531,16535,16536,16561,16563,16565,31315,31316,31351,31356,31361,31365,31513,31515,31516,31531,31535,31536,31561,31563,31565,31613,31615,31631,31635,31636,31651,31653,31656,35131,35135,35136,35151,35153,35156,35161,35163,35165,35315,35316,35351,35356,35361,35365,35613,35615,35616,35631,35635,35636,35651,35653,35656,36131,36135,36136,36151,36153,36156,36163,36165,36315,36316,36351,36356,36361,36365,36513,36515,36516,36531,36535,36536,36561,36563,36565,51313,51315,51316,51351,51353,51356,51361,51363,51365,51513,51516,51531,51536,51561,51563,51613,51615,51616,51631,51635,51636,51651,51653,51656,53131,53135,53136,53151,53153,53156,53161,53163,53165,53513,53516,53531,53536,53561,53563,53613,53615,53616,53631,53635,53636,53651,53653,53656,56131,56135,56136,56151,56153,56156,56161,56163,56165,56313,56315,56316,56351,56353,56356,56361,56363,56365,56513,56516,56531,56536,56561,56563,61313,61315,61316,61351,61353,61356,61361,61363,61365,61513,61515,61516,61531,61535,61536,61561,61563,61565,61615,61631,61635,61651,61653,63131,63135,63136,63151,63153,63156,63161,63163,63165,63513,63515,63516,63531,63535,63536,63561,63563,63565,63613,63615,63631,63635,63651,63653,65131,65135,65136,65151,65153,65156,65161,65163,65165,65313,65315,65316,65351,65353,65356,65361,65363,65365,65613,65615,65631,65635,65651,65653,56565,51515]),e.dccurev1=s([51363,51563,51653,53153,53163,53513,53563,53613,53653,56153,56163,56313,56353,56363,56513,56563,51316,51356,51536,51616,53156,53516,53536,53616,53636,53656,56136,56156,56316,56356,56516,56536]),e.dcclrev1=s([61351,61361,61531,61561,61631,61651,63131,63151,63161,63531,63561,63631,65131,65161,65351,65631,31351,31361,31531,31561,31631,31651,35131,35151,35161,35361,35631,35651,36131,36151,36351,36531]),e.dccurev2=s([15316,16316,13516,16516,13616,15616,13136,15136,16136,13536,16536,13636,13156,16156,15356,13656,15313,16313,13513,16513,13613,15613,13153,15153,16153,16353,13653,15653,13163,15163,15363,13563]),e.dcclrev2=s([36315,36515,35615,35135,36135,31535,36535,31635,35635,35165,36165,31365,35365,36365,31565,36565,61315,65315,63515,61615,65135,61535,63535,61635,63635,65635,63165,65165,61365,65365,61565,63565]),r[t++]="dccu",e.rev==1?r[t++]=e.dccurev1:r[t++]=e.dccurev2;var Te=r[--t];e[r[--t]]=Te,r[t++]="dccl",e.rev==1?r[t++]=e.dcclrev1:r[t++]=e.dcclrev2;var Ve=r[--t];e[r[--t]]=Ve,e.rows=e.rows*6+1,e.columns=e.columns+6,r[t++]=1/0;for(var Qe=0,ot=e.rows*e.columns;Qe<ot;Qe++)r[t++]=-1;e.pixs=s(),e.qmv=function(){var je=r[--t],Oe=r[--t];r[t++]=S(Oe+je*e.columns)};for(var Ze=0,Fe=e.columns-1;Ze<=Fe;Ze+=1){e.i=Ze;for(var Ke=0,Je=e.rows-1;Ke<=Je;Ke+=6)if(e.j=Ke,e.i>=5){r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var rt=r[--t];b(r[--t],rt,e.i%2*9)}r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var Xe=r[--t];b(r[--t],Xe,9),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var Se=r[--t];b(r[--t],Se,9)}for(var pe=1,Ie=e.rows-2;pe<=Ie;pe+=1){e.i=pe;for(var Me=3,Re=e.columns-1;Me<=Re;Me+=16){e.j=Me,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.qmv();var Ye=r[--t];b(r[--t],Ye,(1-e.i%2)*9)}r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var ze=r[--t];b(r[--t],ze,9),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.qmv();var mt=r[--t];b(r[--t],mt,(1-e.i%2)*9),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var lt=r[--t];b(r[--t],lt,0),r[t++]=e.pixs,r[t++]=3,r[t++]=e.i,e.qmv();var ht=r[--t];b(r[--t],ht,9),r[t++]=e.pixs,r[t++]=4,r[t++]=e.i,e.qmv();var yt=r[--t];b(r[--t],yt,0),r[t++]=e.pixs,r[t++]=e.columns-1,r[t++]=e.i,e.qmv();var jt=r[--t];b(r[--t],jt,9)}e.i=~~(e.rows/2)-5,r[t++]=1/0;for(var wt=qt(X(5),l(e.dccu,e.dcc),10),Dt=0,Ct=wt.length;Dt<Ct;Dt++)r[t++]=l(wt,Dt)-48;var Ut=qt(X(5),l(e.dccl,e.dcc),10);r[t++]=0;for(var It=0,kt=Ut.length;It<kt;It++)r[t++]=l(Ut,It)-48;for(var P=s(),Y=0,q=P.length;Y<q;Y++){r[t++]=l(P,Y),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var O=r[t-3],$=r[t-1];b(r[t-2],$,O),t-=3,e.i=e.i+1}r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,U(e.ecws),r[t++]=e.tcc,r[t++]=283,r[t++]=e.acc,U(e.dcws);for(var le=0,K=e.pads;le<K;le++)r[t++]=284;r[t++]=e.qcc,e.tileseq=s(),e.x=5,e.y=1;for(var be=e.tileseq,J=0,fe=be.length;J<fe;J++){for(var me=qt(X(5),l(e.tiles,l(be,J)),10),ge=0,re=me.length;ge<re;ge++){r[t++]=l(me,ge),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var xe=r[t-3],ke=r[t-1];b(r[t-2],ke,xe-48),t-=3,e.y=e.y+1}if(e.y!=e.rows-1)e.y=e.y+1;else{e.x=e.x+1,e.y=1,r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var he=r[--t];l(r[--t],he)!=-1&&(e.x=e.x+1)}}var Ae=new Map([[0,"FFFFFF"],[9,"000000"],[1,"00FFFF"],[3,"FF00FF"],[5,"FFFF00"],[6,"00FF00"]]);e.colormap=Ae;var we=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows/72*2],["width",e.columns/72*2],["colormap",e.colormap],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=we,e.dontdraw||xt(),e=a}function iM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.slave=!1,e.colors=16,e.eclevel=6,e.raw=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.databpm=~~Si(un(e.colors)/un(2));var n=e.colors;r[t++]="metabpm",r[t++]=n,n>8&&(r[t-1]=8);var i=r[--t];e[r[--t]]=~~Si(un(i)/un(2)),e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,is();var c=r[--t];e[r[--t]]=c,e.msglen=e.msg.length,e.addtobits=function(){var dt=r[--t];R(e.bits,e.j,dt),e.j=dt.length+e.j},e.tofixedbits=function(){var dt=_r(X(13),"0000000000000");r[t++]=dt,r[t++]=dt,Ea(4,-1);var St=qt(X(13),r[--t],2),pr=r[--t],cr=r[--t],hr=r[--t];R(pr,S(hr-St.length),St),r[t++]=N(cr,0,hr)};var d=e.msglen<=15?4:17;e.bits=X(7+d+e.msglen*8+12),e.j=0,r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="00",e.addtobits(),e.msglen<=15?(r[t++]=e.msglen,r[t++]=4,e.tofixedbits(),e.addtobits()):(r[t++]="0000",e.addtobits(),r[t++]=e.msglen-16,r[t++]=13,e.tofixedbits(),e.addtobits());for(var f=0,h=e.msglen-1;f<=h;f+=1)r[t++]=l(e.msg,f),r[t++]=8,e.tofixedbits(),e.addtobits();if(r[t++]=28,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="11",e.addtobits(),e.diffside=21,e.sameshape=!1,e.sameecc=!1,e.hasslaves=!1,e.metrics=function(){e.mc=r[--t],e.mr=r[--t];var dt=e.mc,St=e.mr,pr=e.mc,cr=e.mr,hr=e.colors,Mr=64;if(64>hr){var dr=hr;hr=Mr,Mr=dr}var na=e.slave?7:17;if(r[t++]=dt*St,r[t++]=((~~((pr-25)/16)+2)*(~~((cr-25)/16)+2)-4)*7,r[t++]=Mr*2,r[t++]=na*4,e.slave){if(r[t++]=3,!e.sameshape){var Yr=r[--t];r[t++]=Yr+5}if(e.hasslaves){var ia=r[--t];r[t++]=ia+3}if(!e.sameecc){var Fr=e.mr,Or=e.mc;if(hn(Fr,Or)){var dr=Or;Or=Fr,Fr=dr}var La=r[--t];r[t++]=S(La+l(s([10,12,14,14,16,16,16,16]),~~((Fr-21)/16)))}var wa=~~xr(r[--t]*2/e.metabpm);e.nummetabits=wa*e.metabpm,r[t++]=wa}else{var $r=V(e.mr,e.mc)?0:1;e.metass=$r;var qr=e.mr,Gr=e.mc;if(hn(qr,Gr)){var dr=Gr;Gr=qr,qr=dr}e.metavf=l(s([0,1,2,2,3,3,3,3]),~~((qr-21)/16)),r[t++]="metavlen",e.metass==0?r[t++]=s([2,2,3,4]):r[t++]=s([4,6,8,10]);var Wr=l(r[--t],e.metavf);if(e[r[--t]]=Wr,e.metaelen=e.metavf*2+10,r[t++]=S(7+e.metavlen+e.metaelen),e.hasslaves){var ma=r[--t];r[t++]=ma+4}var ta=~~xr(r[--t]*2/e.metabpm);e.nummetabits=ta*e.metabpm+6,r[t++]=ta+6}var cs=r[--t];e.nummetamodules=cs;var Ns=r[--t],nn=r[--t],Fs=r[--t];e.numdatamodules=S(r[--t]-(Fs+(nn+(Ns+cs)))),e.numdatabits=e.numdatamodules*e.databpm},e.coderate=l(s([.67,.63,.57,.55,.5,.43,.34,.25,.2,.17,.14]),e.eclevel),e.grosslen=~~xr(e.bits.length/e.coderate),e.snapsize=function(){var dt=~~xr(r[--t])-18;r[t++]=dt,dt<0&&(r[t-1]=0);var St=r[--t];r[t++]=~~(St/4)*4+21},e.rows==-1&&e.columns==-1){r[t++]="size",r[t++]=nu(e.grosslen),e.snapsize();var p=r[--t];for(e[r[--t]]=p;r[t++]=e.size,r[t++]=e.size,e.metrics(),!(e.grosslen<=e.numdatabits);)e.size=e.size+4;e.rows=e.size,e.columns=e.size}else{if(e.columns==-1&&e.rows!=-1){r[t++]="columns",r[t++]=e.grosslen/e.rows,e.snapsize();var m=r[--t];for(e[r[--t]]=m;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.columns=e.columns+4}if(e.rows==-1&&e.columns!=-1){r[t++]="rows",r[t++]=e.grosslen/e.columns,e.snapsize();var v=r[--t];for(e[r[--t]]=v;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.rows=e.rows+4}e.rows!=-1&&e.columns!=-1&&(r[t++]=e.rows,r[t++]=e.columns,e.metrics())}e.C=e.numdatabits,e.cols=e.columns,(e.rows>145||e.cols>145)&&(r[t++]="bwipp.jabcodeNoValidSymbol#27844",r[t++]="Maximum length exceeded or invalid content",z()),e.min=e.C;for(var w=3;w<=8;w+=1){e.i=w;for(var y=e.i+1;y<=9;y+=1)e.j=y,e.dist=~~(e.C/e.j)*e.j-~~(e.C/e.j)*e.i-e.bits.length,e.dist<e.min&&e.dist>=0&&(e.datawc=e.i,e.datawr=e.j,e.min=e.dist)}e.tmpbits=X(~~(e.C/e.datawr)*e.datawr-~~(e.C/e.datawr)*e.datawc),R(e.tmpbits,0,e.bits);for(var x=e.bits.length,g=e.tmpbits.length-1;x<=g;x+=1){var A=l(e.tmpbits,x-1);if(r[t++]=x,r[t++]=A,A%2==0){var j=r[--t];r[t++]=j+1}else{var C=r[--t];r[t++]=C-1}r[t++]=e.tmpbits;var k=r[t-2],E=r[t-3];b(r[t-1],E,k),t-=3}e.bits=e.tmpbits,e.m0=22610,e.m1=-3027,e.m2=19605,e.m3=32557,e.lcg64_temper=function(){e.p00=e.m0*e.s0,e.p01=e.m0*e.s1,e.p02=e.m0*e.s2,e.p03=e.m0*e.s3,e.p10=e.m1*e.s0,e.p11=e.m1*e.s1,e.p12=e.m1*e.s2,e.p13=e.m1*e.s3,e.p20=e.m2*e.s0,e.p21=e.m2*e.s1,e.p22=e.m2*e.s2,e.p23=e.m2*e.s3,e.p30=e.m3*e.s0,e.p31=e.m3*e.s1,e.p32=e.m3*e.s2,e.p33=e.m3*e.s3,e.s3=e.p33%65536+1,e.s2=e.p32%65536+~~(e.p33/65536)+e.p23%65536,e.s1=e.p31%65536+~~(e.p32/65536)+(e.p22%65536+~~(e.p23/65536))+e.p13%65536,e.s0=e.p30%65536+~~(e.p31/65536)+(e.p21%65536+~~(e.p22/65536))+(e.p12%65536+~~(e.p13/65536))+e.p03%65536,e.s3=e.s3+65536,e.s2=e.s2+65535,e.s1=e.s1+65535,e.s0=e.s0+65535,e.s2=~~(e.s3/65536)+e.s2,e.s3=e.s3%65536,e.s1=~~(e.s2/65536)+e.s1,e.s2=e.s2%65536,e.s0=~~(e.s1/65536)+e.s0,e.s1=e.s1%65536,e.s0=e.s0%65536;var dt=((e.s0-32768)*65536+e.s1^2147483648)&4294967295,St=dt^dt>>>11,pr=St^St<<7&-1658038656,cr=(pr^pr<<15&-272236544)&4294967295;r[t++]=cr^cr>>>18},e.createMatrixA=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var dt=r[--t];e[r[--t]]=dt,e.offset=~~xr(e.Pg_sub_block/32),e.effwidth=e.offset*32,e.matrixA=s(e.offset*e.nb_pcb);for(var St=0,pr=e.offset*e.nb_pcb-1;St<=pr;St+=1)b(e.matrixA,St,0);e.permutation=s(e.Pg_sub_block);for(var cr=0,hr=e.Pg_sub_block-1;cr<=hr;cr+=1)b(e.permutation,cr,cr);for(var Mr=0,dr=~~(e.Pg_sub_block/e.wr)-1;Mr<=dr;Mr+=1){e.i=Mr;for(var na=0,$r=e.wr-1;na<=$r;na+=1){e.j=na;var qr=e.matrixA,Gr=e.i,Wr=e.effwidth,ma=e.wr,ta=e.j,Yr=31-S(e.i*(e.effwidth+e.wr)+e.j)%32;b(qr,~~(S(Gr*(Wr+ma)+ta)/32),l(qr,~~(S(Gr*(Wr+ma)+ta)/32))|(Yr<0?1>>>-Yr:1<<Yr))}}e.s0=0,e.s1=0,e.s2=11,e.s3=64569;for(var ia=1,Fr=e.wc-1;ia<=Fr;ia+=1){e.i=ia,e.off_index=~~(e.Pg_sub_block/e.wr)*e.i;for(var Or=0,La=e.Pg_sub_block-1;Or<=La;Or+=1){e.j=Or,e.lcg64_temper();var wa=r[t-1];if(wa<0){var cs=r[--t];r[t++]=(cs^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));for(var Ns=0,nn=~~(e.Pg_sub_block/e.wr)-1;Ns<=nn;Ns+=1){e.k=Ns;var Fs=e.matrixA,ar=e.off_index,Ar=e.k,Cr=e.offset,ra=e.j,Ur=l(e.matrixA,~~(l(e.permutation,e.pos)/32)+e.k*e.offset),oa=-(31-l(e.permutation,e.pos)%32),Jr=31-e.j%32;b(Fs,(ar+Ar)*Cr+~~(ra/32),l(Fs,(ar+Ar)*Cr+~~(ra/32))|(Jr<0?((oa<0?Ur>>>-oa:Ur<<oa)&1)>>>-Jr:((oa<0?Ur>>>-oa:Ur<<oa)&1)<<Jr))}var es=e.permutation,ts=e.Pg_sub_block,qs=e.j;b(es,ts-1-qs,l(e.permutation,e.pos)),b(e.permutation,e.pos,l(es,ts-1-qs))}}},e.createMetadataMatrixA=function(){e.nb_pcb=~~(e.Pg_sub_block/2),e.offset=~~xr(e.Pg_sub_block/32),e.matrixA=s(e.offset*e.nb_pcb);for(var dt=0,St=e.offset*e.nb_pcb-1;dt<=St;dt+=1)b(e.matrixA,dt,0);e.permutation=s(e.Pg_sub_block);for(var pr=0,cr=e.Pg_sub_block-1;pr<=cr;pr+=1)b(e.permutation,pr,pr);e.s0=0,e.s1=0,e.s2=0,e.s3=38545,e.nb_once=~~(~~(e.nb_pcb/e.wc*e.Pg_sub_block+3)/e.nb_pcb);for(var hr=0,Mr=e.nb_pcb-1;hr<=Mr;hr+=1){e.i=hr;for(var dr=0,na=e.nb_once-1;dr<=na;dr+=1){e.j=dr,e.lcg64_temper();var $r=r[t-1];if($r<0){var qr=r[--t];r[t++]=(qr^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));var Gr=e.matrixA,Wr=e.i,ma=e.offset,ta=l(e.permutation,e.pos),Yr=31-l(e.permutation,e.pos)%32;b(Gr,Wr*ma+~~(ta/32),l(Gr,Wr*ma+~~(ta/32))|(Yr<0?1>>>-Yr:1<<Yr));var ia=e.permutation,Fr=e.Pg_sub_block,Or=e.j;b(ia,Fr-1-Or,l(e.permutation,e.pos)),b(e.permutation,e.pos,l(ia,Fr-1-Or))}}},e.GaussJordan=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var dt=r[--t];e[r[--t]]=dt,e.offset=~~xr(e.Pg_sub_block/32);var St=e.matrixA;e.matrixH=cc(s(St.length),St),r[t++]=1/0;for(var pr=0,cr=e.Pg_sub_block;pr<cr;pr++)r[t++]=0;e.column_arrangement=s(),r[t++]=1/0;for(var hr=0,Mr=e.Pg_sub_block;hr<Mr;hr++)r[t++]=!1;e.processed_column=s(),r[t++]=1/0;for(var dr=0,na=e.nb_pcb;dr<na;dr++)r[t++]=0;e.zero_lines_nb=s(),r[t++]=1/0;for(var $r=0,qr=e.Pg_sub_block*2;$r<qr;$r++)r[t++]=0;e.swap_col=s(),e.zero_lines=0,e.loop0=0;for(var Gr=0,Wr=e.nb_pcb-1;Gr<=Wr;Gr+=1){e.i=Gr,e.pivot_column=e.Pg_sub_block+1;for(var ma=0,ta=e.Pg_sub_block-1;ma<=ta;ma+=1){e.j=ma;var Yr=l(e.matrixH,~~((e.offset*32*e.i+e.j)/32)),ia=-(31-(e.offset*32*e.i+e.j)%32);if(((ia<0?Yr>>>-ia:Yr<<ia)&1)==1){e.pivot_column=e.j;break}}if(e.pivot_column<e.Pg_sub_block){b(e.processed_column,e.pivot_column,!0),b(e.column_arrangement,e.pivot_column,e.i),e.pivot_column>=e.nb_pcb&&(b(e.swap_col,e.loop0*2,e.pivot_column),e.loop0=e.loop0+1),e.off_index=~~(e.pivot_column/32),e.off_index1=e.pivot_column%32;for(var Fr=0,Or=e.nb_pcb-1;Fr<=Or;Fr+=1)if(e.j=Fr,e.i!=e.j){var La=l(e.matrixH,e.off_index+e.j*e.offset),wa=-(31-e.off_index1);if(((wa<0?La>>>-wa:La<<wa)&1)==1)for(var cs=0,Ns=e.offset-1;cs<=Ns;cs+=1){e.k=cs;var nn=e.matrixH,Fs=e.offset,ar=e.j,Ar=e.k;b(nn,Fs*ar+Ar,hs(l(nn,Fs*ar+Ar),l(e.matrixH,e.offset*e.i+e.k)))}}}else b(e.zero_lines_nb,e.zero_lines,e.i),e.zero_lines=e.zero_lines+1}e.matrix_rank=e.nb_pcb-e.zero_lines,e.loop2=0;for(var Cr=e.matrix_rank,ra=e.nb_pcb-1;Cr<=ra;Cr+=1)if(e.i=Cr,l(e.column_arrangement,e.i)>0){for(var Ur=0,oa=e.nb_pcb-1;Ur<=oa;Ur+=1)if(e.j=Ur,!l(e.processed_column,e.j)){b(e.column_arrangement,e.j,l(e.column_arrangement,e.i)),b(e.column_arrangement,e.i,0),b(e.processed_column,e.j,!0),b(e.processed_column,e.i,!1),b(e.swap_col,e.loop0*2,e.i),b(e.swap_col,e.loop0*2+1,e.j),b(e.column_arrangement,e.i,e.j),e.loop0=e.loop0+1,e.loop2=e.loop2+1;break}}e.loop1=0;for(var Jr=0,es=e.nb_pcb-1;Jr<=es;Jr+=1)e.kl=Jr,!l(e.processed_column,e.kl)&&e.loop1<e.loop0-e.loop2&&(b(e.column_arrangement,e.kl,l(e.column_arrangement,l(e.swap_col,e.loop1*2))),b(e.processed_column,e.kl,!0),b(e.swap_col,e.loop1*2+1,e.kl),e.loop1=e.loop1+1);e.loop1=0;for(var ts=0,qs=e.nb_pcb-1;ts<=qs;ts+=1)e.kl=ts,l(e.processed_column,e.kl)||(b(e.column_arrangement,e.kl,l(e.zero_lines_nb,e.loop1)),e.loop1=e.loop1+1);for(var xn=0,Dn=e.nb_pcb-1;xn<=Dn;xn+=1){e.i=xn;for(var Un=0,zn=e.offset-1;Un<=zn;Un+=1)e.j=Un,b(e.matrixA,e.i*e.offset+e.j,l(e.matrixH,S(l(e.column_arrangement,e.i)*e.offset+e.j)))}e.tmp=0;for(var gn=0,f1=e.loop0-1;gn<=f1;gn+=1){e.i=gn;for(var Ln=0,h1=e.nb_pcb-1;Ln<=h1;Ln+=1){e.j=Ln;var Z1=l(e.matrixA,~~(l(e.swap_col,e.i*2)/32)+e.j*e.offset),p1=-(31-l(e.swap_col,e.i*2)%32);e.tmp=(-((p1<0?Z1>>>-p1:Z1<<p1)&1)^e.tmp)&1^e.tmp;var ei=e.matrixA,ti=l(e.swap_col,e.i*2),$e=e.j,bt=e.offset,mr=l(e.matrixA,~~(l(e.swap_col,e.i*2+1)/32)+e.j*e.offset),Er=-(31-l(e.swap_col,e.i*2+1)%32),va=31-l(e.swap_col,e.i*2)%32;b(ei,~~(ti/32)+$e*bt,l(ei,~~(ti/32)+$e*bt)^(-((Er<0?mr>>>-Er:mr<<Er)&1)^l(e.matrixA,~~(l(e.swap_col,e.i*2)/32)+e.j*e.offset))&(va<0?1>>>-va:1<<va));var rs=e.matrixA,as=l(e.swap_col,e.i*2+1),Cs=e.j,on=e.offset,bn=31-l(e.swap_col,e.i*2+1)%32;b(rs,~~(as/32)+Cs*on,l(rs,~~(as/32)+Cs*on)^(-(e.tmp&1)^l(e.matrixA,~~(l(e.swap_col,e.i*2+1)/32)+e.j*e.offset))&(bn<0?1>>>-bn:1<<bn))}}},e.createGeneratorMatrix=function(){e.pn=e.Pg_sub_block-e.matrix_rank,e.offset=~~xr(e.pn/32),e.effwidth=e.offset*32,e.offset_cap=~~xr(e.Pg_sub_block/32),e.G=s(e.offset*e.Pg_sub_block);for(var dt=0,St=e.offset*e.Pg_sub_block-1;dt<=St;dt+=1)b(e.G,dt,0);for(var pr=0,cr=e.pn-1;pr<=cr;pr+=1){e.i=pr;var hr=e.G,Mr=e.Pg_sub_block,dr=e.pn,na=e.i,$r=e.offset,qr=e.i,Gr=31-e.i%32;b(hr,(Mr-dr+na)*$r+~~(qr/32),l(hr,(Mr-dr+na)*$r+~~(qr/32))|(Gr<0?1>>>-Gr:1<<Gr))}e.matrix_index=e.Pg_sub_block-e.pn,e.loop0=0;for(var Wr=0,ma=(e.Pg_sub_block-e.pn)*e.effwidth-1;Wr<=ma;Wr+=1)if(e.i=Wr,e.matrix_index>=e.Pg_sub_block&&(e.loop0=e.loop0+1,e.matrix_index=e.Pg_sub_block-e.pn),e.i%e.effwidth<e.pn){var ta=e.G,Yr=e.i,ia=l(e.matrixA,~~(e.matrix_index/32)+e.offset_cap*e.loop0),Fr=-(31-e.matrix_index%32),Or=31-e.i%32;b(ta,~~(Yr/32),l(ta,~~(Yr/32))^(-((Fr<0?ia>>>-Fr:ia<<Fr)&1)^l(e.G,~~(e.i/32)))&(Or<0?1>>>-Or:1<<Or)),e.matrix_index=e.matrix_index+1}},e.ldpc=function(){e.wr=r[--t],e.wc=r[--t],r[t++]=1/0;var dt=r[--t],St=r[--t];if(r[t++]=dt,ve(St,function(){var cs=r[--t];r[t++]=cs-48}),e.data=s(),e.Pn=e.data.length,e.wr!=-1){if(e.Pg=~~(xr(xr(e.Pn*e.wr/S(e.wr-e.wc))/e.wr)*e.wr),e.nb_sub_blocks=~~(e.Pg/2700)+1,e.Pg_sub_block=~~(~~(e.Pg/e.nb_sub_blocks)/e.wr)*e.wr,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.nb_sub_blocks=~~(e.Pg/e.Pg_sub_block),r[t++]="encoding_iterations",r[t++]=~~(e.Pg/e.Pg_sub_block),e.Pn_sub_block*e.nb_sub_blocks<e.Pn){var pr=r[--t];r[t++]=pr-1}var cr=r[--t];e[r[--t]]=cr,e.createMatrixA()}else e.Pg=e.Pn*2,e.nb_sub_blocks=1,e.Pg_sub_block=e.Pg,e.Pn_sub_block=e.Pn,e.encoding_iterations=1,e.createMetadataMatrixA();e.GaussJordan(),e.createGeneratorMatrix(),e.ecc_encoded_data=s(e.Pg),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var hr=0,Mr=e.encoding_iterations-1;hr<=Mr;hr+=1){e.iter=hr;for(var dr=0,na=e.Pg_sub_block-1;dr<=na;dr+=1){e.i=dr,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var $r=e.iter*e.Pn_sub_block,qr=(e.iter+1)*e.Pn_sub_block-1;$r<=qr;$r+=1){var Gr=l(e.G,e.offset_index+~~(e.loop0/32)),Wr=-(31-e.loop0%32);e.temp=l(e.data,$r)&((Wr<0?Gr>>>-Wr:Gr<<Wr)&1)^e.temp,e.loop0=e.loop0+1}b(e.ecc_encoded_data,e.i+e.iter*e.Pg_sub_block,e.temp)}}if(e.encoding_iterations!=e.nb_sub_blocks){e.start=e.encoding_iterations*e.Pn_sub_block,e.last_index=e.encoding_iterations*e.Pg_sub_block,e.Pg_sub_block=e.Pg-e.encoding_iterations*e.Pg_sub_block,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.createMatrixA(),e.GaussJordan(),e.createGeneratorMatrix(),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var ma=0,ta=e.Pg_sub_block-1;ma<=ta;ma+=1){e.i=ma,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Yr=e.start,ia=e.Pn-1;Yr<=ia;Yr+=1){var Fr=l(e.G,e.offset_index+~~(e.loop0/32)),Or=-(31-e.loop0%32);e.temp=l(e.data,Yr)&((Or<0?Fr>>>-Or:Fr<<Or)&1)^e.temp,e.loop0=e.loop0+1}b(e.ecc_encoded_data,e.i+e.last_index,e.temp)}}e.out=X(e.Pg);for(var La=0,wa=e.Pg-1;La<=wa;La+=1)b(e.out,La,l(e.ecc_encoded_data,La)+48);r[t++]=e.out},r[t++]="bits",r[t++]=e.bits,r[t++]=e.datawc,r[t++]=e.datawr,e.ldpc();var B=r[--t];e[r[--t]]=B,e.s0=0,e.s1=0,e.s2=3,e.s3=30151;for(var I=e.bits.length-1;I>=1;I-=1){e.l=I,e.lcg64_temper();var D=r[t-1];if(D<0){var M=r[--t];r[t++]=(M^2147483648)+2147483648}e.r=~~(r[--t]/4294967296*(e.l+1)),b(e.bits,e.l,l(e.bits,e.r)),b(e.bits,e.r,l(e.bits,e.l))}e.tmpbits=X(e.C),R(e.tmpbits,0,e.bits),e.j=e.bits.length;for(var T=0,H=~~((S(e.C-e.j)+1)/2);T<H;T++)b(e.tmpbits,e.j,48),e.j+1<e.C&&b(e.tmpbits,e.j+1,49),e.j=e.j+2;if(e.bits=e.tmpbits,e.colors==4)e.bi=0,e.gi=1,e.mi=2,e.yi=3,e.ki=4,e.wi=5,r[t++]=1/0,r[t++]=e.bi,r[t++]="0000FF",r[t++]=e.gi,r[t++]="00FF00",r[t++]=e.mi,r[t++]="FF00FF",r[t++]=e.yi,r[t++]="FFFF00",r[t++]=e.ki,r[t++]="000000",r[t++]=e.wi,r[t++]="FFFFFF",e.palette=Pe(),e.metacolorindex=s([e.bi,e.gi,e.mi,e.yi]),e.palettelayout=s([e.bi,e.gi,e.mi,e.yi]);else{var _=new Map([[8,s([2,2,2])],[16,s([4,2,2])],[32,s([4,4,2])],[64,s([4,4,4])],[128,s([8,4,4])],[256,s([8,8,4])]]);e.rgbres=l(_,e.colors),r[t++]="rvals",r[t++]=l(e.rgbres,0),r[t++]=1/0;var F=r[--t],Q=r[--t]-1;r[t++]=F,r[t++]=Q;for(var L=0,ee=Q;L<=ee;L+=1){var se=r[--t];r[t++]=~~Si(L*(255/se)),r[t++]=se}t--;var ue=s();e[r[--t]]=ue,r[t++]="gvals",r[t++]=l(e.rgbres,1),r[t++]=1/0;var W=r[--t],G=r[--t]-1;r[t++]=W,r[t++]=G;for(var ne=0,de=G;ne<=de;ne+=1){var te=r[--t];r[t++]=~~Si(ne*(255/te)),r[t++]=te}t--;var ae=s();e[r[--t]]=ae,r[t++]="bvals",r[t++]=l(e.rgbres,2),r[t++]=1/0;var ie=r[--t],oe=r[--t]-1;r[t++]=ie,r[t++]=oe;for(var De=0,Ne=oe;De<=Ne;De+=1){var Le=r[--t];r[t++]=~~Si(De*(255/Le)),r[t++]=Le}t--;var Te=s();e[r[--t]]=Te,e.colors,e.palette=new Map;var Ve=e.colors,Qe=64;if(64>Ve){var ot=Ve;Ve=Qe,Qe=ot}e.palettelayout=s(Qe),e.i=0,e.j=8,ve(e.rvals,function(){e.r=r[--t],ve(e.gvals,function(){e.g=r[--t],ve(e.bvals,function(){e.b=r[--t];var dt=_r(X(6),"000000"),St=qt(X(6),e.r<<16|e.g<<8|e.b,16);R(dt,6-St.length,St),r[t++]=dt,r[t++]=!1,V(dt,"000000")&&(e.ki=e.i,r[t-1]=!0);var pr=r[t-2];V(pr,"0000FF")&&(e.bi=e.i,r[t-1]=!0);var cr=r[t-2];V(cr,"00FF00")&&(e.gi=e.i,r[t-1]=!0);var hr=r[t-2];V(hr,"00FFFF")&&(e.ci=e.i,r[t-1]=!0);var Mr=r[t-2];V(Mr,"FF0000")&&(e.ri=e.i,r[t-1]=!0);var dr=r[t-2];V(dr,"FF00FF")&&(e.mi=e.i,r[t-1]=!0);var na=r[t-2];V(na,"FFFF00")&&(e.yi=e.i,r[t-1]=!0);var $r=r[t-2];V($r,"FFFFFF")&&(e.wi=e.i,r[t-1]=!0),r[--t]||(e.colors<=64||e.colors==128&&(e.r==0||e.r==73||e.r==182||e.r==255)||e.colors==256&&(e.r==0||e.r==73||e.r==182||e.r==255)&&(e.g==0||e.g==73||e.g==182||e.g==255))&&(b(e.palettelayout,e.j,e.i),e.j=e.j+1),b(e.palette,e.i,r[--t]),e.i=e.i+1})})}),R(e.palettelayout,0,s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])),e.metacolorindex=s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])}r[t++]=1/0;for(var Ze=0,Fe=e.rows*e.cols;Ze<Fe;Ze++)r[t++]=-1;e.pixs=s(),e.jmv=function(){var dt=r[--t],St=r[--t];r[t++]=S(St+dt*e.cols)},e.slave?(e.fpat=s([s([0,0,0,0,0]),s([0,2,2,0,0]),s([0,2,1,2,0]),s([0,0,2,2,0]),s([0,0,0,0,0])]),e.fmap=s([s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi])])):(e.fpat=s([s([1,1,1,0,0]),s([1,2,2,0,0]),s([1,2,1,2,1]),s([0,0,2,2,1]),s([0,0,1,1,1])]),e.fmap=s([s([-1,e.bi,e.yi]),s([-1,e.yi,e.bi]),s([-1,e.gi,e.mi]),s([-1,e.mi,e.gi])]));for(var Ke=0;Ke<=4;Ke+=1){e.y=Ke;for(var Je=0;Je<=4;Je+=1){e.x=Je,e.fpb=l(l(e.fpat,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=e.y+1,e.jmv();var rt=r[--t];b(r[--t],rt,l(l(e.fmap,0),e.fpb)),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=S(e.rows-e.y)-2,e.jmv();var Xe=r[--t];b(r[--t],Xe,l(l(e.fmap,1),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=e.y+1,e.jmv();var Se=r[--t];b(r[--t],Se,l(l(e.fmap,2),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=S(e.rows-e.y)-2,e.jmv();var pe=r[--t];b(r[--t],pe,l(l(e.fmap,3),e.fpb))}}if(e.algnpat0=s([s([e.ki,e.ki,-1]),s([e.ki,e.wi,e.ki]),s([-1,e.ki,e.ki])]),e.algnpat1=s([s([-1,e.ki,e.ki]),s([e.ki,e.wi,e.ki]),s([e.ki,e.ki,-1])]),e.num=~~Si(e.cols/16)-1,e.algnrpos=s([3,17]),e.num>0){r[t++]=1/0;for(var Ie=0,Me=e.num;Ie<=Me;Ie+=1)r[t++]=~~(Ie*((e.cols-7)/e.num))+3;e.algnrpos=s()}if(e.num=~~Si(e.rows/16)-1,e.algncpos=s([3,17]),e.num>0){r[t++]=1/0;for(var Re=0,Ye=e.num;Re<=Ye;Re+=1)r[t++]=~~(Re*((e.rows-7)/e.num))+3;e.algncpos=s()}e.putalgnpat=function(){e.pp=r[--t],e.py=r[--t],e.px=r[--t];for(var dt=0;dt<=2;dt+=1){e.pb=dt;for(var St=0;St<=2;St+=1){e.pa=St,r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.jmv();var pr=r[--t];b(r[--t],pr,l(l(e.pp,e.pb),e.pa))}}};for(var ze=0,mt=e.algncpos.length-1;ze<=mt;ze+=1){e.j=ze,e.y=l(e.algncpos,e.j);for(var lt=0,ht=e.algnrpos.length-1;lt<=ht;lt+=1){e.i=lt,e.x=l(e.algnrpos,e.i),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.jmv();var yt=r[--t];l(r[--t],yt)==-1&&(r[t++]=e.x-1,r[t++]=e.y-1,(e.i+e.j)%2==0?r[t++]=e.algnpat0:r[t++]=e.algnpat1,e.putalgnpat())}}if(e.slave){r[t++]=1/0;for(var Ct=1;Ct<=19;Ct+=1)e.i=Ct,r[t++]=s([0,e.i]),r[t++]=s([1,e.i]);for(var Ut=5;Ut<=12;Ut+=1)e.i=Ut,r[t++]=s([2,e.i]),r[t++]=s([3,e.i]);e.metadatamap=s(),r[t++]=1/0;for(var It=5;It<=12;It+=1){var kt=1/0,P=It;r[t++]=kt,r[t++]=4,r[t++]=P;var Y=s();r[t++]=Y}for(var q=12;q>=5;q-=1){var O=1/0,$=q;r[t++]=O,r[t++]=5,r[t++]=$;var le=s();r[t++]=le}for(var K=5;K<=12;K+=1){var be=1/0,J=K;r[t++]=be,r[t++]=6,r[t++]=J;var fe=s();r[t++]=fe}for(var me=12;me>=5;me-=1){var ge=1/0,re=me;r[t++]=ge,r[t++]=7,r[t++]=re;var xe=s();r[t++]=xe}e.palettemap1=s(),r[t++]=1/0;for(var ke=e.palettemap1,he=0,Ae=ke.length;he<Ae;he++){var we=1/0,je=l(ke,he);r[t++]=we,U(je);var Oe=r[--t],_e=r[--t];r[t++]=-_e,r[t++]=-Oe;var Ge=s();r[t++]=Ge}e.palettemap2=s()}else{for(var jt=s([s([6,1]),s([6,2]),s([6,3]),s([6,4]),s([6,5]),s([6,6]),s([5,6]),s([4,6]),s([3,6]),s([2,6]),s([1,6]),s([7,1]),s([7,2]),s([7,3]),s([7,4]),s([7,5]),s([7,6]),s([7,7]),s([6,7]),s([5,7]),s([4,7]),s([3,7]),s([2,7]),s([1,7]),s([8,1]),s([8,2]),s([8,3]),s([8,4]),s([8,5]),s([8,6]),s([8,7]),s([8,8]),s([7,8]),s([6,8]),s([5,8]),s([4,8]),s([3,8]),s([2,8]),s([1,8]),s([9,1]),s([9,2]),s([9,3]),s([9,4]),s([9,5])]),wt=0,Dt=jt.length;wt<Dt;wt++)U(l(jt,wt)),e.y=r[--t],e.x=r[--t],r[t++]=s([e.x,e.y]),r[t++]=s([-e.x,e.y]),r[t++]=s([-e.x,-e.y]),r[t++]=s([e.x,-e.y]);Kt(s(176)),e.metadatamap=r[--t],e.palettemap1=s([s([4,1]),s([4,2]),s([5,1]),s([5,2]),s([2,4]),s([2,5]),s([1,4]),s([1,5]),s([-2,1]),s([-2,2]),s([-1,1]),s([-1,2]),s([-4,4]),s([-4,5]),s([-5,4]),s([-5,5])]),e.palettemap2=s([s([-4,-5]),s([-4,-4]),s([-5,-5]),s([-5,-4]),s([-2,-2]),s([-2,-1]),s([-1,-2]),s([-1,-1]),s([2,-5]),s([2,-4]),s([1,-5]),s([1,-4]),s([4,-2]),s([4,-1]),s([5,-2]),s([5,-1])])}for(var st=e.metadatamap,at=0,ye=st.length;at<ye;at++){var He=l(st,at),Ue=l(He,0);if(r[t++]=He,r[t++]=Ue,Ue<0){var We=r[--t],pt=r[t-1];b(pt,0,S(We+e.cols)-1)}else t--;var vt=r[t-1],ft=l(vt,1);if(r[t++]=ft,ft<0){var gt=r[--t],nt=r[t-1];b(nt,1,S(gt+e.rows)-1)}else t--;t--}for(var Ft=e.palettemap1,et=0,Ht=Ft.length;et<Ht;et++){var $t=l(Ft,et),zt=l($t,0);if(r[t++]=$t,r[t++]=zt,zt<0){var nr=r[--t],Ir=r[t-1];b(Ir,0,S(nr+e.cols)-1)}else t--;var ir=r[t-1],br=l(ir,1);if(r[t++]=br,br<0){var sr=r[--t],Dr=r[t-1];b(Dr,1,S(sr+e.rows)-1)}else t--;t--}for(var er=e.palettemap2,ur=0,Wt=er.length;ur<Wt;ur++){var Xt=l(er,ur),fr=l(Xt,0);if(r[t++]=Xt,r[t++]=fr,fr<0){var Tr=r[--t],Pr=r[t-1];b(Pr,0,S(Tr+e.cols)-1)}else t--;var ha=r[t-1],Rt=l(ha,1);if(r[t++]=Rt,Rt<0){var Yt=r[--t],rr=r[t-1];b(rr,1,S(Yt+e.rows)-1)}else t--;t--}for(var wr=0,or=e.nummetamodules-1;wr<=or;wr+=1){r[t++]=e.pixs,U(l(e.metadatamap,wr)),e.jmv();var Rr=r[--t];b(r[--t],Rr,0)}if(e.slave)e.i=0;else{var lr=e.colors,Lt=16;if(16>lr){var ot=lr;lr=Lt,Lt=ot}for(var yr=0,aa=Lt-1;yr<=aa;yr+=1){e.i=yr;var pa=l(e.palettelayout,e.i);r[t++]=pa,r[t++]=e.pixs,r[t++]=pa,U(l(e.palettemap1,e.i)),e.jmv();var Aa=r[--t],Qr=r[--t];b(r[--t],Aa,Qr);var Ca=r[--t];r[t++]=e.pixs,r[t++]=Ca,U(l(e.palettemap2,e.i)),e.jmv();var ba=r[--t],Ma=r[--t];b(r[--t],ba,Ma)}e.i=16}e.j=e.nummetamodules;for(var da=e.i,ka=e.palettelayout.length-1;da<=ka;da+=2){e.i=da;var Ia=l(e.palettelayout,e.i);r[t++]=Ia,r[t++]=e.pixs,r[t++]=Ia,U(l(e.metadatamap,e.j)),e.jmv();var ja=r[--t],Qa=r[--t];b(r[--t],ja,Qa);var Ha=r[--t];r[t++]=e.pixs,r[t++]=Ha,U(l(e.metadatamap,e.j+2)),e.jmv();var Ka=r[--t],ms=r[--t];b(r[--t],Ka,ms);var Ba=l(e.palettelayout,e.i+1);r[t++]=Ba,r[t++]=e.pixs,r[t++]=Ba,U(l(e.metadatamap,e.j+1)),e.jmv();var Rs=r[--t],$a=r[--t];b(r[--t],Rs,$a);var Qs=r[--t];r[t++]=e.pixs,r[t++]=Qs,U(l(e.metadatamap,e.j+3)),e.jmv();var Fa=r[--t],vs=r[--t];b(r[--t],Fa,vs),e.j=e.j+4}var Ts=s([function(){var dt=r[--t],St=r[--t];r[t++]=S(St+dt)%e.colors},function(){t--;var dt=r[--t];r[t++]=dt%e.colors},function(){var dt=r[--t];r[t-1]=dt;var St=r[--t];r[t++]=St%e.colors},function(){var dt=r[--t],St=r[--t];r[t++]=(~~(dt/3)+~~(St/2))%e.colors},function(){var dt=r[--t],St=r[--t];r[t++]=(~~(dt/2)+~~(St/3))%e.colors},function(){var dt=r[--t],St=S(r[--t]+dt);r[t++]=(~~(St/2)+~~(St/3))%e.colors},function(){var dt=r[--t],St=r[--t];r[t++]=S(dt*(St*St)%7+(dt+St*St)*2%19)%e.colors},function(){var dt=r[--t],St=r[--t];r[t++]=S(St*(dt*dt)%5+(dt*dt+St*2)%13)%e.colors}]);e.maskfuncs=Ts,e.mask!=-1&&(e.maskfuncs=s([l(e.maskfuncs,e.mask)]),e.bestmaskval=e.mask),e.masks=s(e.maskfuncs.length);for(var Ms=0,Wa=e.masks.length-1;Ms<=Wa;Ms+=1){e.m=Ms,e.mask=s(e.rows*e.cols);for(var Hs=0,Ja=e.rows-1;Hs<=Ja;Hs+=1){e.j=Hs;for(var xs=0,_a=e.cols-1;xs<=_a;xs+=1){e.i=xs,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.jmv();var mn=r[--t];if(l(r[--t],mn)==-1){if(r[t++]=e.i,r[t++]=e.j,l(e.maskfuncs,e.m)()===!0)break}else r[t++]=0;r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.jmv();var qa=r[t-3],Nn=r[t-1];b(r[t-2],Nn,qa),t-=3}}b(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.i=0;e.posx!=e.cols;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Da=r[--t];if(l(r[--t],Da)==-1){var Js=N(e.bits,e.i,e.databpm);r[t++]=0;for(var Pa=0,rn=Js.length;Pa<rn;Pa++){var os=r[--t];r[t++]=S(os+(l(Js,Pa)-48))*2}var Zt=r[--t];r[t++]=~~(Zt/2),r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var ea=r[t-3],Sa=r[t-1];b(r[t-2],Sa,ea),t-=3,e.i=e.i+e.databpm}e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)}e.evalrle=function(){e.scrle=r[--t],e.scr1=0,e.scr3=0;for(var dt=0,St=e.scrle.length-2;dt<=St;dt+=2)if(e.j=dt,l(e.scrle,e.j+1)!=-1){var pr=l(e.scrle,e.j);if(r[t++]=pr,pr>=5?e.scr1=S(r[--t]-2+e.scr1):t--,e.j>=4&&e.j<=e.scrle.length-5){var cr=N(e.scrle,e.j-4,10);r[t++]=cr;for(var hr=0,Mr=cr.length;hr<Mr;hr++)r[t++]=l(cr,hr)==1;t--;for(var dr=0;dr<4;dr++){var na=r[--t];r[t-1]=na;var $r=r[--t],qr=r[--t];r[t++]=co(qr,$r)}if(r[--t]){r[t++]=1/0;var Gr=r[--t],Wr=r[--t];r[t++]=Gr,U(Wr);var ma=r[t-1],ta=r[t-3],Yr=r[t-5],ia=r[t-7],Fr=r[t-9];if(V(Fr,Yr)&&V(Fr,ma)&&V(ia,ta)){var Or=r[--t],La=r[--t],wa=r[--t];e.c4=wa,e.c5=Or,r[t++]=wa,r[t++]=La,(e.c4==e.bi&&e.c5==e.yi||e.c4==e.yi&&e.c5==e.bi||e.c4==e.gi&&e.c5==e.mi||e.c4==e.mi&&e.c5==e.gi)&&(e.scr3=e.scr3+100)}Ko()}else t--}}r[t++]=e.scr1,r[t++]=e.scr3},e.evalmask=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0;var dt=e.rows,St=e.cols;if(dt<St){var pr=St;St=dt,dt=pr}e.rle=s(dt*2+2),e.lastpairs=s(e.cols),e.thispairs=s(e.cols);for(var cr=0,hr=e.cols-1;cr<=hr;cr+=1){e.i=cr,r[t++]=1/0,r[t++]=0,r[t++]=-1;for(var Mr=e.i,dr=e.cols,na=e.rows*e.cols-1;dr<0?Mr>=na:Mr<=na;Mr+=dr){var $r=l(e.sym,Mr),qr=r[t-1];if(r[t++]=$r,V(qr,$r)){t--;var Gr=r[--t],Wr=r[--t];r[t++]=Wr+1,r[t++]=Gr}else{var ma=r[--t];r[t++]=1,r[t++]=ma}}var ta=ga()+2;Kt(N(e.rle,0,ta-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}for(var Yr=0,ia=e.rows-1;Yr<=ia;Yr+=1){e.i=Yr,e.symrow=N(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Fr=e.symrow;r[t++]=0,r[t++]=-1;for(var Or=0,La=Fr.length;Or<La;Or++){var wa=l(Fr,Or),cs=r[t-1];if(r[t++]=wa,V(cs,wa)){t--;var Ns=r[--t],nn=r[--t];r[t++]=nn+1,r[t++]=Ns}else{var Fs=r[--t];r[t++]=1,r[t++]=Fs}}var ar=ga()+2;Kt(N(e.rle,0,ar-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var Ar=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=Ar;var Cr=e.symrow;r[t++]=-1;for(var ra=0,Ur=Cr.length;ra<Ur;ra++){var oa=l(Cr,ra),Jr=r[--t];if(r[t++]=oa,r[t++]=Jr,Ee(oa,Jr)){t--;var es=r[--t];r[t++]=-1,r[t++]=es}}if(t--,Kt(e.thispairs),t--,e.i>0){r[t++]=1/0,U(e.lastpairs),U(e.thispairs),r[t++]=e.n2;for(var ts=0,qs=e.cols;ts<qs;ts++){var xn=r[--t],Dn=r[--t];if(r[t++]=xn,r[t++]=Dn,Dn!=-1){var Un=r[t-1-(e.cols+1)];if(V(r[--t],Un)){var zn=r[--t];r[t++]=zn+3}}else t--}e.n2=r[--t],Ko()}}r[t++]=S(e.n1+e.n2+e.n3)},e.bestscore=999999999;for(var Oa=0,gs=e.masks.length-1;Oa<=gs;Oa+=1){e.m=Oa,e.masksym=s(e.rows*e.cols);for(var Hr=0,ls=e.rows*e.cols-1;Hr<=ls;Hr+=1)e.i=Hr,b(e.masksym,e.i,hs(l(e.pixs,e.i),l(l(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalmask(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,e.metamask=e.bestmaskval,e.addtometapart=function(){var dt=r[--t];R(e.metapart,e.p,dt),e.p=dt.length+e.p},e.addtometabits=function(){var dt=r[--t];R(e.metabits,e.q,dt),e.q=dt.length+e.q},e.metapart=X(40),e.metabits=X(e.nummetabits),e.p=0,e.q=0,!e.slave)r[t++]=~~Si(un(e.colors)/un(2))-1,r[t++]=3,e.tofixedbits(),e.addtometapart(),r[t++]=N(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,r[t++]=e.metass,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=e.metavf,r[t++]=2,e.tofixedbits(),e.addtometapart(),r[t++]=e.metamask,r[t++]=3,e.tofixedbits(),e.addtometapart(),e.hasslaves?r[t++]="1":r[t++]="0",e.addtometapart(),r[t++]=N(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.metass==0?(r[t++]=S(~~((e.cols-17)/4)-l(s([0,4,8,16]),e.metavf))-1,r[t++]=e.metavlen,e.tofixedbits(),e.addtometapart()):(r[t++]=~~((e.cols-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart(),r[t++]=~~((e.rows-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart()),r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),e.hasslaves&&(r[t++]=0,r[t++]=4,e.tofixedbits(),e.addtometapart()),r[t++]=N(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0;else{var bs=e.sameshape?0:1;r[t++]=bs,r[t++]=1,e.tofixedbits(),e.addtometapart();var Ua=e.sameecc?0:1;r[t++]=Ua,r[t++]=1,e.tofixedbits(),e.addtometapart();var Cn=e.hasslaves?1:0;r[t++]=Cn,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=N(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameshape||(r[t++]=~~((e.diffside-17)/4)-1,r[t++]=5,e.tofixedbits(),e.addtometapart()),e.hasslaves&&(r[t++]=0,r[t++]=3,e.tofixedbits(),e.addtometapart()),r[t++]=N(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameecc||(r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart()),r[t++]=N(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0}for(var Ra=e.q,u1=e.nummetabits-1;Ra<=u1;Ra+=1)b(e.metabits,Ra,48);if(e.i=0,e.j=0,!e.slave){for(var $s=N(e.metabits,e.i,6),Ta=0,In=$s.length;Ta<In;Ta++){r[t++]=l($s,Ta),e.colors==4?r[t++]=s([e.bi,e.yi]):r[t++]=s([e.ki,e.wi]);var Xa=r[--t],Bn=l(Xa,r[--t]-48);r[t++]=Bn,r[t++]=e.pixs,U(l(e.metadatamap,e.j)),e.jmv();var ws=r[t-3],an=r[t-1];b(r[t-2],an,ws),t-=3,e.j=e.j+1}e.i=e.i+6}for(var sn=0,Jn=~~(S(e.nummetabits-e.i)/e.metabpm);sn<Jn;sn++){var At=N(e.metabits,e.i,e.metabpm);r[t++]=0;for(var Kr=0,sa=At.length;Kr<sa;Kr++){var za=r[--t];r[t++]=S(za+(l(At,Kr)-48))*2}var ua=l(e.metacolorindex,~~(r[--t]/2));r[t++]=ua,r[t++]=e.pixs,U(l(e.metadatamap,e.j)),e.jmv();var Za=r[t-3],ys=r[t-1];b(r[t-2],ys,Za),t-=3,e.i=S(e.i+e.metabpm),e.j=e.j+1}var vn=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["colormap",e.palette],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=vn,e.dontdraw||xt(),e=a}function ps(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!1,e.dontdraw=!1,e.ccversion="a",e.cccolumns=-1,e.lintype="",e.linwidth=-1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],Ee(e.ccversion,"a")&&Ee(e.ccversion,"b")&&Ee(e.ccversion,"c")&&(r[t++]="bwipp.gs1ccBadCCversion#28834",r[t++]="ccversion must be a, b or c",z()),e.cccolumns>30&&(r[t++]="bwipp.gs1ccColumnsTooBig#28838",r[t++]="The maximum number of composite component columns is 30",z());var n=new Map([["ean13",4],["upca",4],["ean8",3],["upce",2],["gs1-128",4],["databaromni",4],["databarstacked",2],["databarstackedomni",2],["databartruncated",4],["databarlimited",3],["databarexpanded",4],["databarexpandedstacked",4]]);if(e.lintypecccolumns=n,e.lintype.length!=0){var i=l(e.lintypecccolumns,e.lintype)!==void 0;i||(r[t++]="bwipp.gs1ccBadLinType#28860",r[t++]="The lintype is not recognised",z())}for(e.cccolumns==-1&&(V(e.lintype,"gs1-128")&&V(e.ccversion,"c")?(e.linwidth<0&&(r[t++]="bwipp.gs1ccMissingLinWidth#28868",r[t++]="linwidth must be set for a GS1-128 with a CC-C composite component",z()),e.linwidth<68&&(r[t++]="bwipp.gs1ccMinimumLinWidth#28871",r[t++]="Minimum linwidth for a GS1-128 with a CC-C composite component is 68",z()),e.linwidth==68?r[t++]=1:r[t++]=~~((e.linwidth-52)/17)):e.lintype.length!=0?r[t++]=l(e.lintypecccolumns,e.lintype):r[t++]=2,e.cccolumns=r[--t]),r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.isupper=function(){var Zt=r[--t];r[t++]=Zt>=65&&Zt<=90},e.isnum0=function(){var Zt=r[--t];r[t++]=Zt>=48&&Zt<=57},e.isnum1=function(){var Zt=r[--t];r[t++]=Zt>=49&&Zt<=57};;){if(e.ais.length>=1&&(V(l(e.ais,0),"10")||V(l(e.ais,0),"11")||V(l(e.ais,0),"17"))){r[t++]=-1,r[t++]="10";break}if(e.ais.length>=1&&V(l(e.ais,0),"90")){if(e.v=l(e.vals,0),e.v.length>=1&&(r[t++]=l(e.v,0),e.isupper(),r[--t])){r[t++]=0,r[t++]="11";break}if(e.v.length>=2){r[t++]=l(e.v,0),e.isnum1(),r[t++]=l(e.v,1),e.isupper();var o=r[--t];if(r[--t]&&o){r[t++]=1,r[t++]="11";break}}if(e.v.length>=3){r[t++]=l(e.v,0),e.isnum1(),r[t++]=l(e.v,1),e.isnum0();var c=r[--t],d=r[--t];r[t++]=co(d,c),r[t++]=l(e.v,2),e.isupper();var f=r[--t];if(r[--t]&&f){r[t++]=2,r[t++]="11";break}}if(e.v.length>=4){r[t++]=l(e.v,0),e.isnum1(),r[t++]=l(e.v,1),e.isnum0();var h=r[--t],p=r[--t];r[t++]=co(p,h),r[t++]=l(e.v,2),e.isnum0();var m=r[--t],v=r[--t];r[t++]=co(v,m),r[t++]=l(e.v,3),e.isupper();var w=r[--t];if(r[--t]&&w){r[t++]=3,r[t++]="11";break}}}r[t++]=-1,r[t++]="0";break}e.method=r[--t],e.npre=r[--t],e.tobin=function(){var Zt=X(r[--t]);r[t++]=Zt;for(var ea=0,Sa=Zt.length-1;ea<=Sa;ea+=1){var Oa=r[t-1];b(Oa,ea,48)}var gs=r[t-1];r[t++]=gs;var Hr=r[t-3],ls=r[t-1];r[t-3]=r[t-2],t-=2;var bs=qt(X(ls.length),Hr,2);R(ls,ls.length-bs.length,bs)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,r[t++]=1/0;for(var y=65;y<=90;y+=1)r[t++]=y,r[t++]=y-65,r[t++]=5,e.tobin();for(var x=48;x<=57;x+=1)r[t++]=x,r[t++]=x+4,r[t++]=6,e.tobin();r[t++]=e.fnc1,r[t++]="11111",e.alpha=Pe(),r[t++]=1/0;for(var g=0;g<=119;g+=1){var A=_r(X(2),"00"),j=qt(X(2),g,11);if(R(A,2-j.length,j),r[t++]=g,r[t++]=A,l(A,0)==65){var C=r[t-1];b(C,0,94)}var k=r[t-1];if(l(k,1)==65){var E=r[t-1];b(E,1,94)}var B=r[--t],I=_r(X(7),"0000000"),D=qt(X(7),r[--t]+8,2);R(I,7-D.length,D),r[t++]=B,r[t++]=I}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=Pe(),r[t++]=1/0;for(var M=48;M<=57;M+=1)r[t++]=M,r[t++]=M-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var T=65;T<=90;T+=1)r[t++]=T,r[t++]=T-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var H=44;H<=47;H+=1)r[t++]=H,r[t++]=H+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=Pe(),r[t++]=1/0;for(var _=48;_<=57;_+=1)r[t++]=_,r[t++]=_-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var F=65;F<=90;F+=1)r[t++]=F,r[t++]=F-1,r[t++]=7,e.tobin();for(var Q=97;Q<=122;Q+=1)r[t++]=Q,r[t++]=Q-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var L=37;L<=47;L+=1)r[t++]=L,r[t++]=L+197,r[t++]=8,e.tobin();for(var ee=58;ee<=63;ee+=1)r[t++]=ee,r[t++]=ee+187,r[t++]=8,e.tobin();if(r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=Pe(),V(e.method,"10")){if(V(l(e.ais,0),"11")||V(l(e.ais,0),"17")){var se=l(e.vals,0),ue=_r(X(16),"0000000000000000"),W=qt(X(16),Ce(N(se,0,2))*384+((Ce(N(se,2,2))-1)*32+Ce(N(se,4,2))),2);R(ue,16-W.length,W),r[t++]=ue,r[t++]=1/0,r[t++]=1,r[t++]=0,Ea(4,-1),ve(r[--t],function(){var Zt=r[--t];r[t++]=Zt-48});var G=V(l(e.ais,0),"11")?0:1;r[t++]=G,e.cdf=s(),e.ais=N(e.ais,1,e.ais.length-1),e.vals=N(e.vals,1,e.vals.length-1),e.fncs=N(e.fncs,1,e.fncs.length-1)}else e.cdf=s([1,0,1,1]);e.ais.length!=0?V(l(e.ais,0),"10")?(r[t++]=1/0,ve(l(e.vals,0)),e.gpf=s(),e.ais.length>1&&(r[t++]=1/0,U(e.gpf),r[t++]=e.fnc1,e.gpf=s()),e.ais=N(e.ais,1,e.ais.length-1),e.vals=N(e.vals,1,e.vals.length-1),e.fncs=N(e.fncs,1,e.fncs.length-1)):e.gpf=s([e.fnc1]):(r[t++]=1/0,U(e.cdf),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.cdf=s(),e.gpf=s([])),e.mode="numeric"}if(V(e.method,"11")){e.cdf=s([1,1]),e.ai90=l(e.vals,0),e.npre+1!=e.ai90.length?r[t++]=N(e.ai90,e.npre+1,S(e.ai90.length-e.npre)-1):r[t++]="",e.ai90rem=r[--t],r[t++]="nalpha",r[t++]=0,ve(e.ai90rem,function(){var Zt=r[--t];if(Zt>=65&&Zt<=90){var ea=r[--t];r[t++]=ea+1}});var ne=r[--t];e[r[--t]]=ne,r[t++]="nnums",r[t++]=0,ve(e.ai90rem,function(){var Zt=r[--t];if(Zt>=48&&Zt<=57){var ea=r[--t];r[t++]=ea+1}});var de=r[--t];e[r[--t]]=de,r[t++]="mode",Bi(e.nalpha,e.nnums)?r[t++]="alpha":e.nalpha==0?r[t++]="numeric":r[t++]="alphanumeric";var te=r[--t];e[r[--t]]=te,S(e.nalpha+e.nnums)!=e.ai90rem.length&&(e.mode="alphanumeric"),r[t++]=1/0,U(e.cdf),V(e.mode,"alphanumeric")&&(r[t++]=0),V(e.mode,"numeric")&&(r[t++]=1,r[t++]=0),V(e.mode,"alpha")&&(r[t++]=1,r[t++]=1),e.cdf=s(),r[t++]="ais1",e.ais.length>1?r[t++]=l(e.ais,1):r[t++]=-1;var ae=r[--t];e[r[--t]]=ae,r[t++]="vals1",e.vals.length>1?r[t++]=l(e.vals,1):r[t++]=-1;var ie=r[--t];e[r[--t]]=ie,V(e.ais1,"21")||V(e.ais1,"8004")?(r[t++]=1/0,U(e.cdf),V(e.ais1,"21")?(r[t++]=1,r[t++]=0):(r[t++]=1,r[t++]=1),e.cdf=s()):(r[t++]=1/0,U(e.cdf),r[t++]=0,e.cdf=s()),r[t++]="nval",e.npre!=0?r[t++]=Ce(N(e.ai90,0,e.npre)):r[t++]=0;var oe=r[--t];if(e[r[--t]]=oe,Tt("BDHIJKLNPQRSTVXZ",N(e.ai90,e.npre,1)),r[--t]){var De=r[--t];r[t-1]=De.length;var Ne=r[--t];r[t-1]=Ne,e.aval=r[--t]}else t--,e.aval=-1;if(e.nval<31&&e.aval!=-1){var Le=_r(X(5),"00000"),Te=qt(X(5),e.nval,2);R(Le,5-Te.length,Te);var Ve=1/0,Qe=Le;r[t++]=Ve,ve(Qe,function(){var Zt=r[--t];r[t++]=Zt-48}),e.nbits=s();var ot=_r(X(4),"0000"),Ze=qt(X(4),e.aval,2);R(ot,4-Ze.length,Ze);var Fe=1/0,Ke=ot;r[t++]=Fe,ve(Ke,function(){var Zt=r[--t];r[t++]=Zt-48}),e.abits=s(),r[t++]=1/0,U(e.cdf),U(e.nbits),U(e.abits),e.cdf=s()}else{var Je=_r(X(10),"0000000000"),rt=qt(X(10),e.nval,2);R(Je,10-rt.length,rt);var Xe=1/0,Se=Je;r[t++]=Xe,ve(Se,function(){var Zt=r[--t];r[t++]=Zt-48}),e.nbits=s();var pe=_r(X(5),"00000"),Ie=qt(X(5),l(e.ai90,e.npre)-65,2);R(pe,5-Ie.length,Ie);var Me=1/0,Re=pe;r[t++]=Me,ve(Re,function(){var Zt=r[--t];r[t++]=Zt-48}),e.abits=s(),r[t++]=1/0,U(e.cdf),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,U(e.nbits),U(e.abits),e.cdf=s()}if(Ee(e.mode,"alpha"))r[t++]=1/0,ve(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.gpf=s();else{r[t++]=1/0,ve(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.in=s(),e.out=s(e.in.length*6),e.j=0;for(var Ye=0,ze=e.in.length-1;Ye<=ze;Ye+=1){var mt=l(e.alpha,l(e.in,Ye));r[t++]=mt;var lt=1/0,ht=mt;r[t++]=lt,ve(ht,function(){var Zt=r[--t];r[t++]=Zt-48}),R(e.out,e.j,s()),e.j=r[--t].length+e.j}r[t++]=1/0,U(e.cdf),U(N(e.out,0,e.j)),e.cdf=s(),e.gpf=s([]),e.ais.length>1&&(e.mode="numeric")}e.ais=N(e.ais,1,e.ais.length-1),e.vals=N(e.vals,1,e.vals.length-1),e.fncs=N(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(V(e.ais1,"21")||V(e.ais1,"8004"))&&(r[t++]=1/0,U(e.gpf),ve(e.vals1),e.gpf=s(),e.ais=N(e.ais,1,e.ais.length-1),e.vals=N(e.vals,1,e.vals.length-1),e.fncs=N(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(r[t++]=1/0,U(e.gpf),r[t++]=e.fnc1,e.gpf=s()))}V(e.method,"0")&&(e.cdf=s([0]),e.gpf=s([]),e.mode="numeric");for(var yt=0,jt=e.ais.length-1;yt<=jt;yt+=1){e.i=yt,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var wt=s(e.gpf.length+e.ai.length+e.val.length);R(wt,0,e.gpf),r[t++]=wt,r[t++]=wt,r[t++]=e.gpf.length;var Dt=1/0,Ct=e.ai;r[t++]=Dt,ve(Ct);var Ut=s(),It=r[--t];R(r[--t],It,Ut);var kt=r[t-1];r[t++]=kt,r[t++]=e.gpf.length+e.ai.length;var P=1/0,Y=e.val;r[t++]=P,ve(Y);var q=s(),O=r[--t];if(R(r[--t],O,q),e.gpf=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var $=s(e.gpf.length+1);R($,0,e.gpf),b($,e.gpf.length,e.fnc1),e.gpf=$}}var le=new Map([["a",s([s([167,138,118,108,88,78,59]),s([167,138,118,98,78]),s([197,167,138,108,78])])],["b",s([s([336,296,256,208,160,104,56]),s([768,648,536,416,304,208,152,112,72,32]),s([1184,1016,840,672,496,352,264,208,152,96,56])])]]);e.bitcapsmaps=le,e.rembits=function(){if(e.used=r[--t],Ee(e.ccversion,"c")){e.bitcaps=l(l(e.bitcapsmaps,e.ccversion),e.cccolumns-2),r[t++]=-1,ve(e.bitcaps,function(){var ls=r[t-1];if(qn(ls,e.used)){var bs=r[--t],Ua=r[--t];r[t++]=bs,r[t++]=Ua}t--});var Zt=r[t-1];if(Zt!=-1){var ea=r[--t];r[t++]=S(ea-e.used)}}else{var Sa=new Map([["c",-1]]);l(Sa,e.ccversion);var Oa=~~xr(e.used/8);for(e.m=~~(Oa/6)*5+Oa%6,e.m<=40&&(r[t++]=8),e.m>=41&&e.m<=160&&(r[t++]=16),e.m>=161&&e.m<=320&&(r[t++]=32),e.m>=321&&e.m<=833&&(r[t++]=64),e.m>=834&&(r[t++]=32),e.eccws=r[--t],e.m=S(e.m+e.eccws)+3,e.cccolumns>30&&(e.cccolumns=30);!(~~xr(e.m/e.cccolumns)<=30||e.cccolumns>=30);)e.cccolumns=e.cccolumns+1;e.r=~~xr(e.m/e.cccolumns),e.r<3&&(e.r=3);var gs=S(e.cccolumns*e.r-e.eccws)-3;e.tgt=S(~~(gs/5)*6+gs%5)*8,e.used<=8304?r[t++]=S(e.tgt-e.used):r[t++]=-1}var Hr=r[t-1];Hr==-1&&(t--,V(e.ccversion,"a")?e.ccversion="b":V(e.ccversion,"b")&&V(e.lintype,"gs1-128")?(e.ccversion="c",e.cccolumns=~~((e.linwidth-52)/17)):e.ccversion=-1,r[t++]=e.used,e.rembits())},e.encode=function(){var Zt=r[t-1];if(Ee(Zt,"raw")){var ea=r[--t],Sa=l(ea,r[--t]);r[t++]=Sa}else t--;r[t++]=1/0;var Oa=r[--t],gs=r[--t];r[t++]=Oa,ve(gs,function(){var ls=r[--t];r[t++]=ls-48});var Hr=s();R(e.gpfenc,e.j,Hr),e.j=Hr.length+e.j},r[t++]=1/0;for(var K=0,be=e.gpf.length;K<be;K++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var J=0,fe=e.gpf.length;J<fe;J++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var me=0,ge=e.gpf.length;me<ge;me++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var re=e.gpf.length-1;re>=0;re-=1){e.i=re;var xe=_r(X(2),"00"),ke=l(e.gpf,e.i);r[t++]=l(e.gpf,e.i),r[t++]=xe,r[t++]=xe,r[t++]=0,r[t++]=ke,ke==e.fnc1&&(r[t-1]=94);var he=r[--t],Ae=r[--t];if(b(r[--t],Ae,he),e.i<e.gpf.length-1){var we=r[t-1],je=l(e.gpf,e.i+1);r[t++]=we,r[t++]=1,r[t++]=je,je==e.fnc1&&(r[t-1]=94);var Oe=r[--t],_e=r[--t];b(r[--t],_e,Oe)}var Ge=l(e.numeric,r[--t])!==void 0;Ge?b(e.numericruns,e.i,l(e.numericruns,e.i+2)+2):b(e.numericruns,e.i,0);var st=r[t-1],at=l(e.alphanumeric,st)!==void 0;at?b(e.alphanumericruns,e.i,l(e.alphanumericruns,e.i+1)+1):b(e.alphanumericruns,e.i,0);var ye=r[--t],He=l(e.iso646,ye)!==void 0,Ue=l(e.alphanumeric,ye)!==void 0;He&&!Ue?b(e.nextiso646only,e.i,0):b(e.nextiso646only,e.i,l(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(8304),e.i=0,e.j=0;e.i!=e.gpf.length;)for(;;){if(V(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var We=X(2),pt=l(e.gpf,e.i);r[t++]=We,r[t++]=We,r[t++]=0,r[t++]=pt,pt==e.fnc1&&(r[t-1]=94);var vt=r[--t],ft=r[--t];b(r[--t],ft,vt);var gt=r[t-1],nt=l(e.gpf,e.i+1);r[t++]=gt,r[t++]=1,r[t++]=nt,nt==e.fnc1&&(r[t-1]=94);var Ft=r[--t],et=r[--t];b(r[--t],et,Ft);var Ht=r[t-1],$t=l(e.numeric,Ht)!==void 0;if($t){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var zt=l(e.gpf,e.i);if(zt<48||zt>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=e.cdf.length+e.j,e.rembits();var nr=r[--t];if(e[r[--t]]=nr,e.rem>=4&&e.rem<=6){var Ir=N(_r(X(6),"000000"),0,e.rem),ir=qt(X(4),l(e.gpf,e.i)-47,2);R(Ir,4-ir.length,ir),r[t++]=Ir,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var br=X(2);b(br,0,l(e.gpf,e.i)),b(br,1,94),r[t++]=br,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(V(e.mode,"alphanumeric")){if(l(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var sr=l(e.gpf,e.i),Dr=l(e.iso646,sr)!==void 0,er=l(e.alphanumeric,sr)!==void 0;if(Dr&&!er){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(l(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var ur=l(e.numericruns,e.i);if(ur>=4&&S(ur+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=l(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(V(e.mode,"iso646")){if(l(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(l(e.numericruns,e.i)>=4&&l(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(l(e.alphanumericruns,e.i)>=5&&l(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=l(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=N(e.gpfenc,0,e.j),r[t++]="pad",r[t++]=e.cdf.length+e.gpf.length,e.rembits();var Wt=s(r[--t]);if(e[r[--t]]=Wt,e.pad.length>0){for(var Xt=0,fr=e.pad.length-1;Xt<=fr;Xt+=5){e.i=Xt;var Tr=e.pad,Pr=e.i,ha=s([0,0,1,0,0]),Rt=e.pad,Yt=e.i,rr=5,wr=Rt.length-Yt;if(Rt.length-Yt>5){var or=rr;rr=wr,wr=or}R(Tr,Pr,N(ha,0,wr))}V(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.pad),e.pad=N(s(),0,e.pad.length)),V(e.mode,"alpha")&&(r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.pad),e.pad=N(s(),0,e.pad.length))}r[t++]=1/0,U(e.cdf),U(e.gpf),U(e.pad),e.bits=s(),r[t++]=1/0,r[t++]=s([0,0,0,0,0,0,1]);for(var Rr=0;Rr<68;Rr++)r[t++]=s(7);e.pwr928=s();for(var lr=1;lr<=68;lr+=1){e.j=lr,e.v=0;for(var Lt=6;Lt>=1;Lt-=1)e.i=Lt,e.v=S(l(l(e.pwr928,e.j-1),e.i)*2+~~(e.v/928)),b(l(e.pwr928,e.j),e.i,e.v%928);b(l(e.pwr928,e.j),0,S(l(l(e.pwr928,e.j-1),0)*2+~~(e.v/928)))}if(e.ccversion=="a"){r[t++]=1/0;for(var yr=0;yr<28;yr++)r[t++]=0;for(e.cws=s(),e.b=0,e.c=0;e.b!=e.bits.length;){var aa=e.bits,pa=e.b,Aa=e.bits,Qr=e.b,Ca=Aa.length-Qr,ba=69;if(69>Aa.length-Qr){var or=Ca;Ca=ba,ba=or}e.bs=N(aa,pa,ba),e.bsl=e.bs.length,e.cs=N(e.cws,e.c,~~(e.bsl/10)+1),e.csl=e.cs.length;for(var Ma=0,da=e.bsl-1;Ma<=da;Ma+=1){e.i=Ma;for(var ka=0,Ia=e.csl-1;ka<=Ia;ka+=1){e.j=ka;var ja=e.cs,Qa=e.j;b(ja,Qa,S(l(ja,Qa)+l(l(e.pwr928,e.i),e.j+7-e.csl)*l(e.bs,e.bsl-e.i-1)))}}for(var Ha=e.csl-1;Ha>=1;Ha-=1){e.i=Ha;var Ka=e.cs,ms=e.i;b(Ka,ms-1,S(l(Ka,ms-1)+~~(l(e.cs,e.i)/928)));var Ba=e.cs,Rs=e.i;b(Ba,Rs,l(Ba,Rs)%928)}e.b=e.b+e.bsl,e.c=e.c+e.csl}e.cws=N(e.cws,0,e.c),e.barcode=X(e.cws.length*4);for(var $a=0,Qs=e.cws.length-1;$a<=Qs;$a+=1){e.i=$a;var Fa=_r(X(4),"^000"),vs=qt(X(4),l(e.cws,e.i),10);R(Fa,4-vs.length,vs),R(e.barcode,e.i*4,Fa)}delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"cca",!0),b(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,iu();var Ts=r[--t];e[r[--t]]=Ts}if(e.ccversion=="b"){e.barcode=X(~~(e.bits.length/8));for(var Ms=0,Wa=e.barcode.length-1;Ms<=Wa;Ms+=1){e.i=Ms;var Hs=N(e.bits,e.i*8,8);r[t++]=0;for(var Ja=0,xs=Hs.length;Ja<xs;Ja++){var _a=r[--t];r[t++]=S(_a+l(Hs,Ja))*2}b(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"ccb",!0),b(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,iu();var mn=r[--t];e[r[--t]]=mn}if(e.ccversion=="c"){e.barcode=X(~~(e.bits.length/8));for(var qa=0,Nn=e.barcode.length-1;qa<=Nn;qa+=1){e.i=qa;var Da=N(e.bits,e.i*8,8);r[t++]=0;for(var Js=0,Pa=Da.length;Js<Pa;Js++){var rn=r[--t];r[t++]=S(rn+l(Da,Js))*2}b(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"ccc",!0),b(e.options,"columns",e.cccolumns),b(e.options,"eclevel",~~(un(e.eccws)/un(2))-1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Pu();var os=r[--t];e[r[--t]]=os}r[t++]=e.args,e.dontdraw||xt(),e=a}function oM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29501",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","ean13"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,l2(),e.usematrix){e.linsym=r[--t],e.sbs=l(e.linsym,"sbs"),e.bhs=l(e.linsym,"bhs"),e.bbs=l(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var ne=r[--t],de=r[--t];r[t++]=S(de+Ce(ne))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var v=r[--t];e[r[--t]]=v,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0;for(var w=0,y=e.ccpixx-97;w<y;w++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var x=0,g=e.diff;x<g;x++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,j=e.ccpixx,C=e.ccpixs.length-1;j<0?A>=C:A<=C;A+=j)e.i=A,U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var k=0;k<2;k++){U(e.linpad),r[t++]=0,r[t++]=1;for(var E=0;E<93;E++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var B=0;B<2;B++){U(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=0,r[t++]=1;for(var M=0;M<93;M++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var T=71;T>=0;T-=1){e.y=T,U(e.linpad),r[t++]=0;for(var H=0,_=e.sbs.length-1;H<=_;H+=1)if(e.i=H,e.i%2==0){var F=l(e.bbs,~~(e.i/2))*72;if(F>e.y||S(F+l(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,L=Ce(l(e.sbs,e.i));Q<L;Q++)r[t++]=0;else for(var ee=0,se=Ce(l(e.sbs,e.i));ee<se;ee++)r[t++]=1}else for(var ue=0,W=Ce(l(e.sbs,e.i));ue<W;ue++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var G=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=G,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Mt();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var c=0;c<93;c++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var d=0;d<93;d++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,xt(),Z.restore()}e=a}function lM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29664",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","ean8"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Qm(),e.usematrix){e.linsym=r[--t],e.sbs=l(e.linsym,"sbs"),e.bhs=l(e.linsym,"bhs"),e.bbs=l(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var te=r[--t],ae=r[--t];r[t++]=S(ae+Ce(te))});var v=r[--t];e[r[--t]]=v;var w=e.comp;r[t++]="compsym",r[t++]=w,r[t++]=e.options,ps();var y=r[--t];e[r[--t]]=y,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0;for(var x=0,g=e.ccpixx-69;x<g;x++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var A=0,j=e.diff;A<j;A++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var C=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?C>=E:C<=E;C+=k)e.i=C,U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var B=0;B<2;B++){U(e.linpad),r[t++]=0,r[t++]=1;for(var I=0;I<65;I++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=1,r[t++]=0;for(var M=0;M<65;M++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var T=0;T<2;T++){U(e.linpad),r[t++]=0,r[t++]=1;for(var H=0;H<65;H++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var _=71;_>=0;_-=1){e.y=_,U(e.linpad),r[t++]=0;for(var F=0,Q=e.sbs.length-1;F<=Q;F+=1)if(e.i=F,e.i%2==0){var L=l(e.bbs,~~(e.i/2))*72;if(L>e.y||S(L+l(e.bhs,~~(e.i/2))*72)<e.y)for(var ee=0,se=Ce(l(e.sbs,e.i));ee<se;ee++)r[t++]=0;else for(var ue=0,W=Ce(l(e.sbs,e.i));ue<W;ue++)r[t++]=1}else for(var G=0,ne=Ce(l(e.sbs,e.i));G<ne;G++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var de=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=de,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Mt();var i=Z.currpos();r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ps();var o=r[--t];Z.rmoveto(70-l(o,"pixx"),78),r[t++]=o,xt();var c=r[--t];Z.moveto(r[--t]-1,c+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<65;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var f=0;f<65;f++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var h=0;h<65;h++)r[t++]=0;r[t++]=1,r[t++]=0;var p=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=p,r[t++]="pixx",r[t++]=69,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=69/72,r[t++]="opt",r[t++]=e.options;var m=Pe();r[t++]=m,xt(),Z.restore()}e=a}function cM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29830",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","ean13"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Ey(),e.usematrix){e.linsym=r[--t],e.sbs=l(e.linsym,"sbs"),e.bhs=l(e.linsym,"bhs"),e.bbs=l(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var ne=r[--t],de=r[--t];r[t++]=S(de+Ce(ne))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var v=r[--t];e[r[--t]]=v,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0;for(var w=0,y=e.ccpixx-97;w<y;w++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var x=0,g=e.diff;x<g;x++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,j=e.ccpixx,C=e.ccpixs.length-1;j<0?A>=C:A<=C;A+=j)e.i=A,U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var k=0;k<2;k++){U(e.linpad),r[t++]=0,r[t++]=1;for(var E=0;E<93;E++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var B=0;B<2;B++){U(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=0,r[t++]=1;for(var M=0;M<93;M++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var T=71;T>=0;T-=1){e.y=T,U(e.linpad),r[t++]=0;for(var H=0,_=e.sbs.length-1;H<=_;H+=1)if(e.i=H,e.i%2==0){var F=l(e.bbs,~~(e.i/2))*72;if(F>e.y||S(F+l(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,L=Ce(l(e.sbs,e.i));Q<L;Q++)r[t++]=0;else for(var ee=0,se=Ce(l(e.sbs,e.i));ee<se;ee++)r[t++]=1}else for(var ue=0,W=Ce(l(e.sbs,e.i));ue<W;ue++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var G=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=G,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Mt();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var c=0;c<93;c++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var d=0;d<93;d++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,xt(),Z.restore()}e=a}function dM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29993",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","upce"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Ny(),e.usematrix){e.linsym=r[--t],e.sbs=l(e.linsym,"sbs"),e.bhs=l(e.linsym,"bhs"),e.bbs=l(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var ne=r[--t],de=r[--t];r[t++]=S(de+Ce(ne))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var v=r[--t];e[r[--t]]=v,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0;for(var w=0,y=e.ccpixx-53;w<y;w++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var x=0,g=e.diff;x<g;x++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,j=e.ccpixx,C=e.ccpixs.length-1;j<0?A>=C:A<=C;A+=j)e.i=A,U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var k=0;k<2;k++){U(e.linpad),r[t++]=0,r[t++]=1;for(var E=0;E<49;E++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var B=0;B<2;B++){U(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<49;I++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=0,r[t++]=1;for(var M=0;M<49;M++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var T=71;T>=0;T-=1){e.y=T,U(e.linpad),r[t++]=0;for(var H=0,_=e.sbs.length-1;H<=_;H+=1)if(e.i=H,e.i%2==0){var F=l(e.bbs,~~(e.i/2))*72;if(F>e.y||S(F+l(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,L=Ce(l(e.sbs,e.i));Q<L;Q++)r[t++]=0;else for(var ee=0,se=Ce(l(e.sbs,e.i));ee<se;ee++)r[t++]=1}else for(var ue=0,W=Ce(l(e.sbs,e.i));ue<W;ue++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var G=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=G,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Mt();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var c=0;c<49;c++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var d=0;d<49;d++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<49;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=53,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=53/72,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,xt(),Z.restore()}e=a}function uM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30156",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databaromni"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,u2();var i=r[--t];if(e.linsbs=l(i,"sbs"),e.linheight=l(l(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),e.sepfinder=function(){e.fp=r[--t];for(var x=e.fp,g=e.fp+12;x<=g;x+=1){if(e.i=x,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var A=l(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var j=0;j<=12;j+=1){var C=r[--t];r[t++]=C&&V(l(e.bot,S(j+e.fp)),l(e.f3,j))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var x=r[--t],g=r[t-1],A=g==1?0:1,j=0,C=x;j<C;j++)r[t++]=A}),Kt(s(ga()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var x=r[--t];r[t++]=1-x}),e.sep=s(),R(e.sep,0,s([0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var f=r[--t];e[r[--t]]=f,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var x=r[--t],g=r[t-1],A=g==0?1:0,j=0,C=Ce(x);j<C;j++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,U(N(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.sep);for(var v=0,w=e.linheight;v<w;v++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=y,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var o=Z.currpos();Z.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var c=r[--t];Z.moveto(r[--t],S(c+e.linheight));var d=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=d,xt(),Z.restore()}e=a}function fM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30317",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databarstacked"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Iy();var i=r[--t];e.bot=N(l(i,"pixs"),0,l(i,"pixx")),e.linheight=l(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=l(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var C=e.fp,k=e.fp+12;C<=k;C+=1){if(e.i=C,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var E=l(e.sep,e.i-1)==0?1:0;r[t++]=E}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&V(l(e.bot,S(B+e.fp)),l(e.f3,B))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,c=0,d=o.length;c<d;c++)r[t++]=1-l(o,c);if(e.sep=s(),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var m=r[--t];e[r[--t]]=m,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var v=0,w=e.ccpixx,y=e.ccpixs.length-1;w<0?v>=y:v<=y;v+=w)e.i=v,r[t++]=0,U(N(e.ccpixs,e.i,e.ccpixx));U(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var x=0,g=e.linwidth,A=e.linpixs.length-1;g<0?x>=A:x<=A;x+=g)e.i=x,U(N(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var j=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=j,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var f=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,xt(),Z.restore()}e=a}function hM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30474",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databarstackedomni"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,By();var i=r[--t];e.bot=N(l(i,"pixs"),0,l(i,"pixx")),e.linheight=l(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=l(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var C=e.fp,k=e.fp+12;C<=k;C+=1){if(e.i=C,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var E=l(e.sep,e.i-1)==0?1:0;r[t++]=E}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&V(l(e.bot,S(B+e.fp)),l(e.f3,B))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,c=0,d=o.length;c<d;c++)r[t++]=1-l(o,c);if(e.sep=s(),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var m=r[--t];e[r[--t]]=m,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var v=0,w=e.ccpixx,y=e.ccpixs.length-1;w<0?v>=y:v<=y;v+=w)e.i=v,r[t++]=0,U(N(e.ccpixs,e.i,e.ccpixx));U(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var x=0,g=e.linwidth,A=e.linpixs.length-1;g<0?x>=A:x<=A;x+=g)e.i=x,U(N(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var j=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=j,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var f=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,xt(),Z.restore()}e=a}function pM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30632",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databartruncated"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Dy();var i=r[--t];if(e.linsbs=l(i,"sbs"),e.linheight=l(l(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),e.sepfinder=function(){e.fp=r[--t];for(var x=e.fp,g=e.fp+12;x<=g;x+=1){if(e.i=x,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var A=l(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var j=0;j<=12;j+=1){var C=r[--t];r[t++]=C&&V(l(e.bot,S(j+e.fp)),l(e.f3,j))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var x=r[--t],g=r[t-1],A=g==1?0:1,j=0,C=x;j<C;j++)r[t++]=A}),Kt(s(ga()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var x=r[--t];r[t++]=1-x}),e.sep=s(),R(e.sep,0,s([0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var f=r[--t];e[r[--t]]=f,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var x=r[--t],g=r[t-1],A=g==0?1:0,j=0,C=Ce(x);j<C;j++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,U(N(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.sep);for(var v=0,w=e.linheight;v<w;v++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=y,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var o=Z.currpos();Z.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var c=r[--t];Z.moveto(r[--t],S(c+e.linheight));var d=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=d,xt(),Z.restore()}e=a}function mM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30794",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databarlimited"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Ry();var i=r[--t];e.linsbs=l(i,"sbs"),e.linheight=l(l(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),r[t++]=1/0,r[t++]=1,ve(e.linsbs,function(){for(var D=r[--t],M=r[t-1],T=M==0?1:0,H=0,_=D;H<_;H++)r[t++]=T}),Kt(s(ga()-1)),e.sep=r[--t],t-=2,R(e.sep,0,s([0,0,0]));var o=e.sep;if(R(e.sep,o.length-9,s([0,0,0,0,0,0,0,0,0])),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var v=r[--t];if(e[r[--t]]=v,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],M=r[t-1],T=M==0?1:0,H=0,_=Ce(D);H<_;H++)r[t++]=T}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.ccpixx==72){r[t++]=1/0;for(var w=0,y=e.ccpixx,x=e.ccpixs.length-1;y<0?w>=x:w<=x;w+=y)e.i=w,r[t++]=0,U(N(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;U(e.sep);for(var g=0,A=e.linheight;g<A;g++)U(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length}else{r[t++]=1/0;for(var j=0,C=e.ccpixx,k=e.ccpixs.length-1;C<0?j>=k:j<=k;j+=C)e.i=j,U(N(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.sep);for(var E=0,B=e.linheight;E<B;E++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+6}e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var c=Z.currpos(),d=e.comp;r[t++]=c.x,r[t++]=c.y,r[t++]=d,r[t++]=e.options,ps();var f=r[--t];Z.rmoveto(72-l(f,"pixx"),e.linheight+1),r[t++]=f,xt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=e.options,m=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",p]]);r[t++]=m,xt(),Z.restore()}e=a}function vM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30946",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databarexpanded"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Hm();var i=r[--t];e.linsbs=l(i,"sbs"),e.linheight=l(l(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),e.sepfinder=function(){e.fp=r[--t];for(var D=e.fp,M=e.fp+12;D<=M;D+=1){if(e.i=D,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var T=l(e.sep,e.i-1)==0?1:0;r[t++]=T}else r[t++]=0;b(e.sep,e.i,r[--t])}},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],M=r[t-1],T=M==1?0:1,H=0,_=D;H<_;H++)r[t++]=T}),Kt(s(ga()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var D=r[--t];r[t++]=1-D}),e.sep=s(),R(e.sep,0,s([0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var o=18,c=e.bot.length-13;o<=c;o+=98)r[t++]=o;for(var d=69,f=e.bot.length-13;d<=f;d+=98)r[t++]=d;for(var h=s(),p=0,m=h.length;p<m;p++)r[t++]=l(h,p),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var x=r[--t];e[r[--t]]=x,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],M=r[t-1],T=M==0?1:0,H=0,_=Ce(D);H<_;H++)r[t++]=T}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.diff=S(e.linpixs.length-e.ccpixx),r[t++]=1/0;for(var g=0,A=e.diff-2;g<A;g++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var j=0,C=e.ccpixx,k=e.ccpixs.length-1;C<0?j>=k:j<=k;j+=C)e.i=j,r[t++]=0,r[t++]=0,U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);U(e.sep);for(var E=0,B=e.linheight;E<B;E++)U(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length,e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var v=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=v.x,r[t++]=v.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var w=r[--t];Z.moveto(r[--t],S(w+e.linheight));var y=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=y,xt(),Z.restore()}e=a}function xM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31106",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"lintype","databarexpandedstacked"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,$m();var i=r[--t];e.bot=N(l(i,"pixs"),0,l(i,"pixx")),e.linheight=l(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=l(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var _=e.fp,F=e.fp+12;_<=F;_+=1){if(e.i=_,l(e.bot,e.i)==0)if(l(e.bot,e.i-1)==1)r[t++]=1;else{var Q=l(e.sep,e.i-1)==0?1:0;r[t++]=Q}else r[t++]=0;b(e.sep,e.i,r[--t])}},r[t++]=1/0;for(var o=e.bot,c=0,d=o.length;c<d;c++)r[t++]=1-l(o,c);e.sep=s(),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var f=19,h=e.bot.length-13;f<=h;f+=98)r[t++]=f;for(var p=70,m=e.bot.length-13;p<=m;p+=98)r[t++]=p;for(var v=s(),w=0,y=v.length;w<y;w++)r[t++]=l(v,w),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ps();var C=r[--t];e[r[--t]]=C,e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),e.pixx=e.sep.length,r[t++]=1/0;for(var k=0,E=~~((S(e.pixx-e.ccpixx)+1)/2);k<E;k++)r[t++]=0;e.cclpad=s(),r[t++]=1/0;for(var B=0,I=~~(S(e.pixx-e.ccpixx)/2);B<I;B++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var D=0,M=e.ccpixx,T=e.ccpixs.length-1;M<0?D>=T:D<=T;D+=M)e.i=D,U(e.cclpad),U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);U(e.sep),U(e.linpixs),e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var H=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=H,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var x=Z.currpos(),g=l(e.bot,0)==0?2:0;Z.rmoveto(g,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.comp,r[t++]=e.options,ps(),xt();var A=r[--t];Z.moveto(r[--t],S(A+e.linheight));var j=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=j,xt(),Z.restore()}e=a}function gM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Tt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31259",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=X(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,b(e.options,"linkagea",!0),r[t++]=e.linear,r[t++]=1/0,ve(e.options);var i=Pe();r[t++]=i,g3();var o=l(r[--t],"sbs");r[t++]=0,ve(o,function(){var F=r[--t],Q=r[--t];r[t++]=S(Q+F)}),e.linwidth=r[--t],b(e.options,"lintype","gs1-128"),b(e.options,"linwidth",e.linwidth),r[t++]=e.comp,r[t++]=1/0,ve(e.options);var c=Pe();r[t++]=c,ps(),e.compsym=r[--t],l(e.compsym,"pixx")==99?r[t++]="a":r[t++]="c",e.linktype=r[--t],b(e.compsym,"borderbottom",0),V(e.linktype,"a")?(b(e.options,"linkagea",!0),b(e.options,"linkagec",!1)):(b(e.options,"linkagea",!1),b(e.options,"linkagec",!0));var d=e.linear;r[t++]=d,r[t++]=1/0,ve(e.options);var f=Pe();r[t++]=f,g3();var h=r[--t];if(e.linsbs=l(h,"sbs"),e.linheight=l(l(h,"bhs"),0)*72,r[t++]=h,e.usematrix?t--:Mt(),r[t++]=1/0,r[t++]=1,ve(e.linsbs,function(){for(var F=r[--t],Q=r[t-1],L=Q==0?1:0,ee=0,se=F;ee<se;ee++)r[t++]=L}),Kt(s(ga()-1)),e.sep=r[--t],t-=2,V(e.linktype,"a")){if(e.s=~~((e.linwidth-2)/11),e.p=~~((e.s-9)/2),r[t++]="x",r[t++]=(e.s-e.p-1)*11+10,e.p==0){var p=r[--t];r[t++]=p+2}var m=r[--t];e[r[--t]]=m-99}else e.x=-7;if(e.usematrix){if(e.ccpixs=l(e.compsym,"pixs"),e.ccpixx=l(e.compsym,"pixx"),r[t++]=1/0,ve(e.linsbs,function(){for(var F=r[--t],Q=r[t-1],L=Q==1?0:1,ee=0,se=F;ee<se;ee++)r[t++]=L}),e.linpixs=s(),e.x>0){r[t++]=1/0;for(var x=0,g=e.x;x<g;x++)r[t++]=0;e.cclpad=s(),e.linlpad=s(0)}else{e.cclpad=s(0),r[t++]=1/0;for(var A=0,j=-e.x;A<j;A++)r[t++]=0;e.linlpad=s()}if(e.diff=S(e.linwidth-(e.ccpixx+e.x)),e.diff>0){r[t++]=1/0;for(var C=0,k=e.diff;C<k;C++)r[t++]=0;e.ccrpad=s(),e.linrpad=s(0)}else{e.ccrpad=s(0),r[t++]=1/0;for(var E=0,B=-e.diff;E<B;E++)r[t++]=0;e.linrpad=s()}e.linheight=~~e.linheight,r[t++]=1/0;for(var I=0,D=e.ccpixx,M=e.ccpixs.length-1;D<0?I>=M:I<=M;I+=D)e.i=I,U(e.cclpad),U(N(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);U(e.linlpad),U(e.sep),U(e.linrpad);for(var T=0,H=e.linheight;T<H;T++)U(e.linlpad),U(e.linpixs),U(e.linrpad);e.pixs=s(),e.pixx=S(e.cclpad.length+e.ccpixx+e.ccrpad.length),e.pixy=~~(e.pixs.length/e.pixx);var _=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=_,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var v=Z.currpos();Z.rmoveto(e.x,e.linheight+1),r[t++]=v.x,r[t++]=v.y,r[t++]=e.compsym,xt();var w=r[--t];Z.moveto(r[--t],S(w+e.linheight));var y=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=y,xt(),Z.restore()}e=a}function bM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.gssep=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var c=1/0,d=e.ai;r[t++]=c,ve(d);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,v=e.val;r[t++]=m,ve(v);var w=s(),y=r[--t];if(R(r[--t],y,w),e.dmtx=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var x=s(e.dmtx.length+1);R(x,0,e.dmtx),r[t++]=x,r[t++]=x,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var g=r[--t],A=r[--t];b(r[--t],A,g),e.dmtx=r[--t]}}for(e.barcode=X((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var j=l(e.dmtx,e.i);r[t++]=j,j==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=N(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var C=r[--t];e[r[--t]]=C,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function wM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.gssep=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var c=1/0,d=e.ai;r[t++]=c,ve(d);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,v=e.val;r[t++]=m,ve(v);var w=s(),y=r[--t];if(R(r[--t],y,w),e.dmtx=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var x=s(e.dmtx.length+1);R(x,0,e.dmtx),r[t++]=x,r[t++]=x,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var g=r[--t],A=r[--t];b(r[--t],A,g),e.dmtx=r[--t]}}for(e.barcode=X((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var j=l(e.dmtx,e.i);r[t++]=j,j==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=N(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),b(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var C=r[--t];e[r[--t]]=C,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function yM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Ds(),t--,e.val=l(r[--t],0),e.key=l(r[--t],0),e.hri=X(e.key.length+e.val.length+2),b(e.hri,0,40),R(e.hri,1,e.key),b(e.hri,e.key.length+1,41),R(e.hri,e.key.length+2,e.val),delete e.options.parse,b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var o=r[--t];e[r[--t]]=o,b(e.args,"opt",e.options),b(e.args,"alttext",e.hri),b(e.args,"textyoffset",-1),b(e.args,"textfont","OCR-B"),b(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||xt(),e=a}function AM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.qrc=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var o=s(e.qrc.length+e.ai.length+e.val.length);R(o,0,e.qrc),r[t++]=o,r[t++]=o,r[t++]=e.qrc.length;var c=1/0,d=e.ai;r[t++]=c,ve(d);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.qrc.length+e.ai.length;var m=1/0,v=e.val;r[t++]=m,ve(v);var w=s(),y=r[--t];if(R(r[--t],y,w),e.qrc=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var x=s(e.qrc.length+1);R(x,0,e.qrc),b(x,e.qrc.length,e.fnc1),e.qrc=x}}for(e.barcode=X((e.qrc.length+1)*5),e.i=0,e.j=0;e.i!=e.qrc.length;){var g=l(e.qrc,e.i);r[t++]=g,g==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=N(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ll();var A=r[--t];e[r[--t]]=A,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function kM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,is();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Ds(),t--,e.val=l(r[--t],0),e.key=l(r[--t],0),e.hri=X(e.key.length+e.val.length+2),b(e.hri,0,40),R(e.hri,1,e.key),b(e.hri,e.key.length+1,41),R(e.hri,e.key.length+2,e.val),delete e.options.parse,b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ll();var o=r[--t];e[r[--t]]=o,b(e.args,"opt",e.options),b(e.args,"alttext",e.hri),b(e.args,"textyoffset",-4),b(e.args,"textfont","OCR-B"),b(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||xt(),e=a}function jM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=l(e.ais,e.i),e.val=l(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var c=1/0,d=e.ai;r[t++]=c,ve(d);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,v=e.val;r[t++]=m,ve(v);var w=s(),y=r[--t];if(R(r[--t],y,w),e.dmtx=r[--t],e.i!=e.ais.length-1&&l(e.fncs,e.i)){var x=s(e.dmtx.length+1);R(x,0,e.dmtx),b(x,e.dmtx.length,e.fnc1),e.dmtx=x}}for(e.barcode=X((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var g=l(e.dmtx,e.i);r[t++]=g,g==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=N(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,_y();var A=r[--t];e[r[--t]]=A,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function SM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode39emptyData#31945",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibccode39badCharacter#31960",r[t++]="HIBC Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode39badCheckDigit#31974",r[t++]="Incorrect HIBC Code 39 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),e.text=X(e.barlen+4),b(e.text,0,42),R(e.text,1,e.barcode);var v=l(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=v,v==32&&(r[t-1]=95);var w=r[--t],y=r[--t];b(r[--t],y,w),b(e.text,e.barlen+3,42),b(e.options,"dontdraw",!0),b(e.options,"includecheck",!1),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var x=r[--t];e[r[--t]]=x,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function EM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode128emptyData#32049",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibccode128badCharacter#32064",r[t++]="HIBC Code 128 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode128badCheckDigit#32078",r[t++]="Incorrect HIBC Code 128 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),e.text=X(e.barlen+4),b(e.text,0,42),R(e.text,1,e.barcode);var v=l(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=v,v==32&&(r[t-1]=95);var w=r[--t],y=r[--t];b(r[--t],y,w),b(e.text,e.barlen+3,42),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var x=r[--t];e[r[--t]]=x,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function NM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixEmptyData#32148",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibcdatamatrixBadCharacter#32163",r[t++]="HIBC Data Matrix must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixBadCheckDigit#32177",r[t++]="Incorrect HIBC Data Matrix check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=e.barlen,v=X(m+2);R(v,1,e.barcode),e.barcode=v,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var w=r[--t],y=r[--t];e[y]=w,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function CM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixrectangularEmptyData#32239",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibcdatamatrixrectangularBadCharacter#32254",r[t++]="HIBC Data Matrix Rectangular must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixrectangularBadCheckDigit#32268",r[t++]="Incorrect HIBC Data Matrix Rectangular check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=e.barlen,v=X(m+2);R(v,1,e.barcode),e.barcode=v,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),b(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zi();var w=r[--t];e[r[--t]]=w,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function IM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcpdf417EmptyData#32332",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibcpdf417BadCharacter#32347",r[t++]="HIBC PDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcpdf417BadCheckDigit#32361",r[t++]="Incorrect HIBC PDF417 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"columns",e.columns);var v=e.options;b(v,"validatecheck",!1);var w=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=w,Pu();var y=r[--t];e[r[--t]]=y,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function BM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcmicropdf417EmptyData#32425",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibcmicropdf417BadCharacter#32440",r[t++]="HIBC MicroPDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcmicropdf417BadCheckDigit#32454",r[t++]="Incorrect HIBC MicroPDF417 check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum));var v=e.options;b(v,"dontdraw",!0),b(e.options,"columns",e.columns),b(e.options,"validatecheck",!1);var w=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=w,iu();var y=r[--t];e[r[--t]]=y,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function DM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcqrcodeEmptyData#32517",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibcqrcodeBadCharacter#32532",r[t++]="HIBC QR Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcqrcodeBadCheckDigit#32546",r[t++]="Incorrect HIBC QR Code check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ll();var v=r[--t],w=r[--t];e[w]=v,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function RM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccodablockfEmptyData#32608",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibccodablockfBadCharacter#32623",r[t++]="HIBC Codablock F must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccodablockfBadCheckDigit#32637",r[t++]="Incorrect HIBC Codablock F check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Fy();var v=r[--t],w=r[--t];e[w]=v,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function TM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,qe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcazteccodeEmptyData#32699",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,N(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var c=l(e.charvals,N(e.barcode,i,1))!==void 0;c||(r[t++]="bwipp.hibcazteccodeBadCharacter#32714",r[t++]="HIBC Aztec Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var d=r[--t];r[t++]=d-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(l(e.charvals,N(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(l(e.barcode,e.barlen)!=l(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcazteccodeBadCheckDigit#32728",r[t++]="Incorrect HIBC Aztec Code check digit provided",z()),e.barcode=N(e.barcode,0,e.barlen));var m=X(e.barlen+2);R(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,l(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ou();var v=r[--t],w=r[--t];e[w]=v,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function MM(){var a=e;e=Object.assign({},e),e.options=r[--t],e.barcode=r[--t],e.dontdraw=!1,e.shortfinder=!1,e.includetext=!1,e.includecheck=!1,e.height=1,ve(e.options,function(){var C=r[--t];e[r[--t]]=C}),e.height=+e.height,(e.barcode.length<2||e.barcode.length>7)&&(r[t++]="bwipp.channelcodeBadLength#32803",r[t++]="Channel Code must be 2 to 7 digits",z()),ve(e.barcode,function(){var C=r[--t];(C<48||C>57)&&(r[t++]="bwipp.channelcodeBadCharacter#32807",r[t++]="Channel Code must contain only digits",z())}),Ce(e.barcode)>l(s([26,292,3493,44072,576688,7742862]),e.barcode.length-2)&&(r[t++]="bwipp.channelcodeTooBig#32811",r[t++]="The Channel Code value is too big for the number of channels",z()),e.nextb=function(){var C=r[t-1],k=S(l(e.s,C)+(l(e.b,C-1)+(l(e.b,C-2)+l(e.s,C-1))))>4?1:2;if(r[t++]=k,C<e.chan+2)for(var E=r[t-1],B=r[t-3],I=E,D=B;I<=D;I+=1){var M=r[t-2];b(e.b,M,I);var T=r[t-3],H=r[t-4];r[t++]=S(T-I)+1,r[t++]=H,r[t++]=M+1,e.nexts()}else{var _=r[t-1],F=r[t-3];if(dc(_,F)){var Q=r[t-2],L=r[t-3];if(b(e.b,Q,L),e.value==e.target){r[t++]=1/0;for(var ee=3;ee<=10;ee+=1)r[t++]=l(e.s,ee),r[t++]=l(e.b,ee);e.out=N(s(),0,e.chan*2)}e.value=e.value+1}}t-=4},e.nexts=function(){var C=r[t-1];if(C<e.chan+2)r[t++]=1;else{var k=r[t-2];r[t++]=k}for(var E=r[--t],B=r[t-2],I=E,D=B;I<=D;I+=1){var M=r[t-1];b(e.s,M,I);var T=r[t-2],H=r[t-3];r[t++]=S(T-I)+1,r[t++]=H,r[t++]=M,e.nextb()}t-=3},e.encode=function(){e.chan=r[--t],e.target=r[--t],e.value=0,e.out=-1,e.b=s([1,1,1,0,0,0,0,0,0,0,0]),e.s=s([0,1,1,0,0,0,0,0,0,0,0]);var C=e.chan;r[t++]=C,r[t++]=C,r[t++]=3,e.nexts(),r[t++]=e.out},e.barlen=e.barcode.length,r[t++]="finder",e.shortfinder?r[t++]=s([1,1,1,1,1]):r[t++]=s([1,1,1,1,1,1,1,1,1]);var n=r[--t];e[r[--t]]=n,r[t++]="data",r[t++]=Ce(e.barcode),r[t++]=e.barlen+1,e.encode();var i=r[--t];if(e[r[--t]]=i,e.check=s([]),e.includecheck){e.mod23=l(s([s([]),s([]),s([13,12,4,9,3,1]),s([13,2,12,3,18,16,4,1]),s([11,16,17,8,20,4,10,2,5,1]),s([1,4,16,18,3,12,2,8,9,13,6,1]),s([20,16,22,13,15,12,5,4,8,9,21,3,7,1]),s([2,6,18,8,1,3,9,4,12,13,16,2,6,18,8,1])]),e.barlen),r[t++]=0;for(var o=0,c=e.data.length-1;o<=c;o+=1){var d=r[--t];r[t++]=S(d+(l(e.data,o)-1)*l(e.mod23,o))}var f=r[--t];r[t++]=f%23,r[t++]=3,e.encode(),e.check=r[--t]}r[t++]=1/0,U(e.finder),U(e.data),U(e.check),e.sbs=s(),e.txt=s(e.barlen);for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,b(e.txt,e.i,s([N(e.barcode,e.i,1),0,0,"",0]));r[t++]=1/0;var m=e.sbs;r[t++]=1/0;for(var v=0,w=~~((e.sbs.length+1)/2);v<w;v++)r[t++]=e.height;var y=s();r[t++]=1/0;for(var x=0,g=~~((e.sbs.length+1)/2);x<g;x++)r[t++]=0;var A=s();r[t++]="ren",r[t++]=Mt,r[t++]="sbs",r[t++]=m,r[t++]="bhs",r[t++]=y,r[t++]="bbs",r[t++]=A,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var j=Pe();r[t++]=j,e.dontdraw||Mt(),e=a}function Mt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.sbs=s([]),e.bhs=s([]),e.bbs=s([]),e.txt=s([]),e.barcolor="unset",e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.bordercolor="unset",e.inkspread=0,e.width=0,e.barratio=1,e.spaceratio=1,e.showborder=!1,e.showbearer=!1,e.borderleft=10,e.borderright=10,e.bordertop=1,e.borderbottom=1,e.borderwidth=.5,e.guardwhitespace=!1,e.guardleftpos=0,e.guardleftypos=0,e.guardrightpos=0,e.guardrightypos=0,e.guardwidth=7,e.guardheight=7,ve(r[--t],function(){var Wt=r[--t];e[r[--t]]=Wt}),r[t++]=e.opt,delete e.opt,r[t++]=e,qe(),t--,Ee(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",c="right",d="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=c,r[t++]=c,r[t++]=d,r[t++]=d;var f=l(Pe(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33005",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(Ee(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",v="bottom",w="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=v,r[t++]=v,r[t++]=w,r[t++]=w;var y=l(Pe(),e.textyalign)!==void 0;y||(r[t++]="bwipp.renmatrixBadTextyalign#33011",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var x="forward",g="backward",A="upward",j="downward";r[t++]=x,r[t++]=x,r[t++]=g,r[t++]=g,r[t++]=A,r[t++]=A,r[t++]=j,r[t++]=j;var C=l(Pe(),e.textdirection)!==void 0;C||(r[t++]="bwipp.renmatrixBadTextdirection#33016",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33020",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var k="offleft",E="left",B="center",I="right",D="offright";r[t++]=k,r[t++]=k,r[t++]=E,r[t++]=E,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var M=l(Pe(),e.extratextxalign)!==void 0;M||(r[t++]="bwipp.renmatrixBadExtratextxalign#33024",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var T="above",H="top",_="center",F="bottom",Q="below";r[t++]=T,r[t++]=T,r[t++]=H,r[t++]=H,r[t++]=_,r[t++]=_,r[t++]=F,r[t++]=F,r[t++]=Q,r[t++]=Q;var L=l(Pe(),e.extratextyalign)!==void 0;L||(r[t++]="bwipp.renmatrixBadExtratextyalign#33028",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var ee="forward",se="backward",ue="upward",W="downward";r[t++]=ee,r[t++]=ee,r[t++]=se,r[t++]=se,r[t++]=ue,r[t++]=ue,r[t++]=W,r[t++]=W;var G=l(Pe(),e.extratextdirection)!==void 0;G||(r[t++]="bwipp.renmatrixBadExtratextdirection#33032",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33036",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.bars=s(~~((e.sbs.length+1)/2)),e.pixx=0,e.pixy=0;for(var ne=0,de=~~((e.sbs.length+1)/2)*2-2;ne<=de;ne+=1)e.i=ne,e.i%2==0?(e.d=S(l(e.sbs,e.i)*e.barratio-e.barratio)+1,l(e.sbs,e.i)!=0?(e.h=l(e.bhs,~~(e.i/2))*72,e.c=S(e.d/2+e.pixx),e.y=l(e.bbs,~~(e.i/2))*72,e.w=S(e.d-e.inkspread),b(e.bars,~~(e.i/2),s([e.h,e.c,e.y,e.w])),S(e.h+e.y)>e.pixy&&(e.pixy=S(e.h+e.y))):b(e.bars,~~(e.i/2),-1)):e.d=S(l(e.sbs,e.i)*e.spaceratio-e.spaceratio)+1,e.pixx=S(e.pixx+e.d);Z.save();var te=Z.currpos();if(Z.translate(te.x,te.y),e.width!=0&&Z.scale(e.width*72/e.pixx,1),e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.showbearer){Z.save(),Z.newpath(),U(e.bl);var ae=r[--t];Z.moveto(r[--t],ae),U(e.br);var ie=r[--t];Z.lineto(r[--t],ie),U(e.tl);var oe=r[--t];Z.moveto(r[--t],oe),U(e.tr);var De=r[--t];Z.lineto(r[--t],De),Ee(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}else if(e.showborder){Z.save(),Z.newpath(),U(e.bl);var Ne=r[--t];Z.moveto(r[--t],Ne);for(var Le=s([e.br,e.tr,e.tl]),Te=0,Ve=Le.length;Te<Ve;Te++){U(l(Le,Te));var Qe=r[--t];Z.lineto(r[--t],Qe)}Z.closepath(),Ee(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(e.borderwidth),Z.stroke(),Z.restore()}Z.save(),Ee(e.barcolor,"unset")&&Z.setcolor(e.barcolor);for(var ot=e.bars,Ze=0,Fe=ot.length;Ze<Fe;Ze++){var Ke=l(ot,Ze);if(r[t++]=Ke,Ke!=-1){U(r[--t]),Z.newpath(),Z.setlinewidth(r[--t]);var Je=r[--t];Z.moveto(r[--t],Je),Z.rlineto(0,r[--t]),Z.stroke()}else t--}Z.restore();var rt=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),Xe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),Se=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),pe=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),Ie=new Map([["forward",rt],["backward",Xe],["upward",Se],["downward",pe]]);if(e.positions=Ie,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Wt=l(e.positions,r[--t]);r[t++]=Wt,r[t++]=Wt,Ea(4,-1);var Xt=r[t-1];V(Xt,"center")&&(r[t-1]="xcenter");var fr=r[--t];if(l(r[--t],fr)()===!0)return!0;var Tr=r[--t],Pr=r[--t];r[t++]=Tr,r[t++]=Pr,Ea(3,-1);var ha=r[t-1];V(ha,"center")&&(r[t-1]="ycenter");var Rt=r[--t];if(l(r[--t],Rt)()===!0)return!0},e.includetext)if(Ee(e.textcolor,"unset")&&Z.setcolor(e.textcolor),V(e.textxalign,"unset")&&V(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Me=e.txt,Re=0,Ye=Me.length;Re<Ye;Re++){U(l(Me,Re));var ze=r[t-1],mt=r[t-2];if(ze!=e.s||Ee(mt,e.fn)){var lt=r[t-1];lt<=0&&(t-=5,r[t++]="bwipp.renlinearFontTooSmall#33178",r[t++]="The font size is too small",z());var ht=r[--t],yt=r[--t];e.s=ht,e.fn=yt,Z.selectfont(yt,ht)}else t-=2;var jt=r[--t];Z.moveto(r[--t],jt),Z.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var wt=e.txt,Dt=0,Ct=wt.length;Dt<Ct;Dt++)ve(l(l(wt,Dt),0));e.txt=s(),e.tstr=X(e.txt.length);for(var Ut=0,It=e.txt.length-1;Ut<=It;Ut+=1)b(e.tstr,Ut,l(e.txt,Ut))}else{e.tstr=e.alttext;for(var kt=0,P=e.alttext.length-1;kt<=P;kt+=1){if(r[t++]=kt,Tt(e.alttextsubspace,N(e.alttext,kt,1)),r[--t]){t--,t--;var Y=r[t-2];b(e.alttext,Y,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33206",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;Tt(r[--t],e.alttextsplit),r[--t];){var q=r[--t];r[t-1]=q;var O=r[--t],$=r[--t];r[t++]=O,r[t++]=$}e.textlines=s()}else e.textlines=s([e.tstr]);if(Z.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var le=Z.pathbbox();Z.restore(),r[t++]=le.ury}e.textascent=r[--t];var K=e.textlines;r[t++]="textwidth",r[t++]=0;for(var be=0,J=K.length;be<J;be++){var fe=Z.stringwidth(l(K,be)),me=r[--t],ge=fe.w;if(me<fe.w){var re=ge;ge=me,me=re}r[t++]=me}var xe=r[--t];e[r[--t]]=S(xe+(e.tstr.length-1)*e.textgaps);var ke=e.textlines.length;if(e.textheight=S(ke*e.textascent+(ke-1)*e.textlinegaps),V(e.textxalign,"unset")&&(e.textxalign="center"),V(e.textyalign,"unset")&&(e.textyalign="below"),V(e.textxalign,"justify"))if(Ee(e.textdirection,"forward")&&Ee(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33243",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",V(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var he=r[--t];e[r[--t]]=he}else e.textgaps=0,e.textxalign="center";if(V(e.textyalign,"justify"))if(Ee(e.textdirection,"upward")&&Ee(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33256",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",V(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ae=r[--t];e[r[--t]]=Ae}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var we=r[--t];Z.moveto(r[--t],we),Z.rmoveto(e.textxoffset,e.textyoffset),Z.save();var je=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(l(je,e.textdirection));var Oe=Z.currpos();Z.translate(Oe.x,Oe.y);for(var _e=0,Ge=e.textlines.length-1;_e<=Ge;_e+=1){e.i=_e,Z.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var st=e.textlines;Z.show(l(st,st.length-e.i-1),e.textgaps,0)}Z.restore()}if(e.guardwhitespace&&(Z.selectfont("OCR-B",e.guardheight*2),e.guardleftpos!=0&&(Z.moveto(-e.guardleftpos-2,S(e.guardleftypos-e.guardheight/2-1.25)),Z.show("<",0,0)),e.guardrightpos!=0&&(Z.moveto(S(e.guardrightpos+e.pixx-e.guardwidth)+1,S(e.guardrightypos-e.guardheight/2-1.25)),Z.show(">",0,0))),e.extratext.length!=0){for(var at=0,ye=e.extratext.length-1;at<=ye;at+=1){if(r[t++]=at,Tt(e.extratextsubspace,N(e.extratext,at,1)),r[--t]){t--,t--;var He=r[t-2];b(e.extratext,He,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33309",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;Tt(r[--t],e.extratextsplit),r[--t];){var Ue=r[--t];r[t-1]=Ue;var We=r[--t],pt=r[--t];r[t++]=We,r[t++]=pt}e.textlines=s()}else e.textlines=s([e.extratext]);Ee(e.extratextcolor,"unset")&&Z.setcolor(e.extratextcolor),Z.selectfont(e.extratextfont,e.extratextsize),Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var vt=Z.pathbbox();Z.restore(),e.textascent=vt.ury;var ft=e.textlines;r[t++]="textwidth",r[t++]=0;for(var gt=0,nt=ft.length;gt<nt;gt++){var Ft=Z.stringwidth(l(ft,gt)),et=r[--t],Ht=Ft.w;if(et<Ft.w){var re=Ht;Ht=et,et=re}r[t++]=et}var $t=r[--t];e[r[--t]]=S($t+(e.extratext.length-1)*e.extratextgaps);var zt=e.textlines.length;if(e.textheight=S(zt*e.textascent+(zt-1)*e.extratextlinegaps),V(e.extratextxalign,"justify"))if(Ee(e.extratextdirection,"forward")&&Ee(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33340",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",V(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var nr=r[--t];e[r[--t]]=nr}else e.extratextgaps=0,e.extratextxalign="center";if(V(e.extratextyalign,"justify"))if(Ee(e.extratextdirection,"upward")&&Ee(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33353",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",V(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ir=r[--t];e[r[--t]]=Ir}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var ir=r[--t];Z.moveto(r[--t],ir),Z.rmoveto(e.extratextxoffset,e.extratextyoffset),Z.save();var br=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(l(br,e.extratextdirection));var sr=Z.currpos();Z.translate(sr.x,sr.y);for(var Dr=0,er=e.textlines.length-1;Dr<=er;Dr+=1){e.i=Dr,Z.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var ur=e.textlines;Z.show(l(ur,ur.length-e.i-1),e.extratextgaps,0)}Z.restore()}Z.restore(),e=a}function xt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.width=1,e.height=1,e.barcolor="unset",e.bordercolor="unset",e.colormap="unset",e.dotty=!1,e.inkspread=0,e.inkspreadh=null,e.inkspreadv=null,e.txt=s([]),e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ve(r[--t],function(){var Xt=r[--t];e[r[--t]]=Xt}),r[t++]=e.opt,delete e.opt,r[t++]=e,qe(),t--,e.inkspreadh==null&&(e.inkspreadh=e.inkspread),e.inkspreadv==null&&(e.inkspreadv=e.inkspread),Ee(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",c="right",d="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=c,r[t++]=c,r[t++]=d,r[t++]=d;var f=l(Pe(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33458",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(Ee(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",v="bottom",w="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=v,r[t++]=v,r[t++]=w,r[t++]=w;var y=l(Pe(),e.textyalign)!==void 0;y||(r[t++]="bwipp.renmatrixBadTextyalign#33464",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var x="forward",g="backward",A="upward",j="downward";r[t++]=x,r[t++]=x,r[t++]=g,r[t++]=g,r[t++]=A,r[t++]=A,r[t++]=j,r[t++]=j;var C=l(Pe(),e.textdirection)!==void 0;C||(r[t++]="bwipp.renmatrixBadTextdirection#33469",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33473",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var k="offleft",E="left",B="center",I="right",D="offright";r[t++]=k,r[t++]=k,r[t++]=E,r[t++]=E,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var M=l(Pe(),e.extratextxalign)!==void 0;M||(r[t++]="bwipp.renmatrixBadExtratextxalign#33477",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var T="above",H="top",_="center",F="bottom",Q="below";r[t++]=T,r[t++]=T,r[t++]=H,r[t++]=H,r[t++]=_,r[t++]=_,r[t++]=F,r[t++]=F,r[t++]=Q,r[t++]=Q;var L=l(Pe(),e.extratextyalign)!==void 0;L||(r[t++]="bwipp.renmatrixBadExtratextyalign#33481",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var ee="forward",se="backward",ue="upward",W="downward";r[t++]=ee,r[t++]=ee,r[t++]=se,r[t++]=se,r[t++]=ue,r[t++]=ue,r[t++]=W,r[t++]=W;var G=l(Pe(),e.extratextdirection)!==void 0;G||(r[t++]="bwipp.renmatrixBadExtratextdirection#33485",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33489",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.xyget=function(){var Xt=r[--t],fr=l(e.pixs,S(r[--t]+Xt*e.pixx));r[t++]=fr},e.drawlayerdots=function(){e.pixsorig=e.pixs,e.pixs=r[--t],Z.newpath();for(var Xt=0,fr=e.pixs.length-1;Xt<=fr;Xt+=1)e.x=Xt%e.pixx,e.y=~~(Xt/e.pixx),r[t++]=e.x,r[t++]=e.y,e.xyget(),r[--t]==1&&(Z.moveto(S(e.x+.5),S(e.pixy-e.y-.5)),Z.arc(S(e.x+.5),S(e.pixy-e.y-.5),S(.5-e.inkspread),0,360,1));Z.fill(),e.pixs=e.pixsorig},Z.save();var ne=Z.currpos();if(Z.translate(ne.x,ne.y),e.inkspread=e.inkspread/2,e.inkspreadh=e.inkspreadh/2,e.inkspreadv=e.inkspreadv/2,Z.scale(e.width/e.pixx*72,e.height/e.pixy*72),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([S(-e.borderleft+e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.tr=s([S(e.pixx+e.borderright-e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.bl=s([S(-e.borderleft+e.inkspread),S(-e.borderbottom+e.inkspread)]),e.br=s([S(e.pixx+e.borderright-e.inkspread),S(-e.borderbottom+e.inkspread)])),e.showborder){Z.save(),Z.newpath(),U(e.bl);var de=r[--t];Z.moveto(r[--t],de);for(var te=s([e.br,e.tr,e.tl]),ae=0,ie=te.length;ae<ie;ae++){U(l(te,ae));var oe=r[--t];Z.lineto(r[--t],oe)}Z.closepath(),Ee(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}if(V(e.colormap,"unset")){var De=new Map([[1,e.barcolor]]);e.colormap=De}for(var Ne=e.colormap,Le=Ne.size,Te=Ne.keys(),Ve=0;Ve<Le;Ve++){var Qe=Te.next().value,ot=Ne.get(Qe);r[t++]=Qe,r[t++]=ot,Ee(ot,"unset")?Z.setcolor(r[--t]):t--,e.key=r[--t],r[t++]=1/0;for(var Ze=e.pixs,Fe=0,Ke=Ze.length;Fe<Ke;Fe++){var Je=V(l(Ze,Fe),e.key)?1:0;r[t++]=Je}var rt=s();r[t++]=rt,e.dotty?e.drawlayerdots():Z.drawlayer(r[--t],e.pixx,e.pixy,e.inkspreadh,e.inkspreadv)}var Xe=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=e.pixy+e.nudge}]]),Se=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),pe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=e.pixy+e.nudge}]]),Ie=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),Me=new Map([["forward",Xe],["backward",Se],["upward",pe],["downward",Ie]]);if(e.positions=Me,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Xt=l(e.positions,r[--t]);r[t++]=Xt,r[t++]=Xt,Ea(4,-1);var fr=r[t-1];V(fr,"center")&&(r[t-1]="xcenter");var Tr=r[--t];if(l(r[--t],Tr)()===!0)return!0;var Pr=r[--t],ha=r[--t];r[t++]=Pr,r[t++]=ha,Ea(3,-1);var Rt=r[t-1];V(Rt,"center")&&(r[t-1]="ycenter");var Yt=r[--t];if(l(r[--t],Yt)()===!0)return!0},e.includetext)if(Ee(e.textcolor,"unset")&&Z.setcolor(e.textcolor),V(e.textxalign,"unset")&&V(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Re=e.txt,Ye=0,ze=Re.length;Ye<ze;Ye++){U(l(Re,Ye));var mt=r[t-1],lt=r[t-2];if(mt!=e.s||Ee(lt,e.fn)){var ht=r[t-1];ht<=0&&(t-=5,r[t++]="bwipp.renmatrixFontTooSmall#33793",r[t++]="The font size is too small",z());var yt=r[--t],jt=r[--t];e.s=yt,e.fn=jt,Z.selectfont(jt,yt)}else t-=2;var wt=r[--t];Z.moveto(r[--t],wt),Z.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var Dt=e.txt,Ct=0,Ut=Dt.length;Ct<Ut;Ct++)ve(l(l(Dt,Ct),0));e.txt=s(),e.tstr=X(e.txt.length);for(var It=0,kt=e.txt.length-1;It<=kt;It+=1)b(e.tstr,It,l(e.txt,It))}else{e.tstr=e.alttext;for(var P=0,Y=e.alttext.length-1;P<=Y;P+=1){if(r[t++]=P,Tt(e.alttextsubspace,N(e.alttext,P,1)),r[--t]){t--,t--;var q=r[t-2];b(e.alttext,q,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33821",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;Tt(r[--t],e.alttextsplit),r[--t];){var O=r[--t];r[t-1]=O;var $=r[--t],le=r[--t];r[t++]=$,r[t++]=le}e.textlines=s()}else e.textlines=s([e.tstr]);if(Z.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var K=Z.pathbbox();Z.restore(),r[t++]=K.ury}e.textascent=r[--t];var be=e.textlines;r[t++]="textwidth",r[t++]=0;for(var J=0,fe=be.length;J<fe;J++){var me=Z.stringwidth(l(be,J)),ge=r[--t],re=me.w;if(ge<me.w){var xe=re;re=ge,ge=xe}r[t++]=ge}var ke=r[--t];e[r[--t]]=S(ke+(e.tstr.length-1)*e.textgaps);var he=e.textlines.length;if(e.textheight=S(he*e.textascent+(he-1)*e.textlinegaps),V(e.textxalign,"unset")&&(e.textxalign="center"),V(e.textyalign,"unset")&&(e.textyalign="below"),V(e.textxalign,"justify"))if(Ee(e.textdirection,"forward")&&Ee(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33858",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",V(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var Ae=r[--t];e[r[--t]]=Ae}else e.textgaps=0,e.textxalign="center";if(V(e.textyalign,"justify"))if(Ee(e.textdirection,"upward")&&Ee(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33871",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",V(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var we=r[--t];e[r[--t]]=we}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var je=r[--t];Z.moveto(r[--t],je),Z.rmoveto(e.textxoffset,e.textyoffset),Z.save();var Oe=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(l(Oe,e.textdirection));var _e=Z.currpos();Z.translate(_e.x,_e.y);for(var Ge=0,st=e.textlines.length-1;Ge<=st;Ge+=1){e.i=Ge,Z.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var at=e.textlines;Z.show(l(at,at.length-e.i-1),e.textgaps,0)}Z.restore()}if(e.extratext.length!=0){for(var ye=0,He=e.extratext.length-1;ye<=He;ye+=1){if(r[t++]=ye,Tt(e.extratextsubspace,N(e.extratext,ye,1)),r[--t]){t--,t--;var Ue=r[t-2];b(e.extratext,Ue,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33911",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;Tt(r[--t],e.extratextsplit),r[--t];){var We=r[--t];r[t-1]=We;var pt=r[--t],vt=r[--t];r[t++]=pt,r[t++]=vt}e.textlines=s()}else e.textlines=s([e.extratext]);Ee(e.extratextcolor,"unset")&&Z.setcolor(e.extratextcolor),Z.selectfont(e.extratextfont,e.extratextsize),Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var ft=Z.pathbbox();Z.restore(),e.textascent=ft.ury;var gt=e.textlines;r[t++]="textwidth",r[t++]=0;for(var nt=0,Ft=gt.length;nt<Ft;nt++){var et=Z.stringwidth(l(gt,nt)),Ht=r[--t],$t=et.w;if(Ht<et.w){var xe=$t;$t=Ht,Ht=xe}r[t++]=Ht}var zt=r[--t];e[r[--t]]=S(zt+(e.extratext.length-1)*e.extratextgaps);var nr=e.textlines.length;if(e.textheight=S(nr*e.textascent+(nr-1)*e.extratextlinegaps),V(e.extratextxalign,"justify"))if(Ee(e.extratextdirection,"forward")&&Ee(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33942",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",V(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var Ir=r[--t];e[r[--t]]=Ir}else e.extratextgaps=0,e.extratextxalign="center";if(V(e.extratextyalign,"justify"))if(Ee(e.extratextdirection,"upward")&&Ee(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33955",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",V(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var ir=r[--t];e[r[--t]]=ir}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var br=r[--t];Z.moveto(r[--t],br),Z.rmoveto(e.extratextxoffset,e.extratextyoffset),Z.save();var sr=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(l(sr,e.extratextdirection));var Dr=Z.currpos();Z.translate(Dr.x,Dr.y);for(var er=0,ur=e.textlines.length-1;er<=ur;er+=1){e.i=er,Z.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var Wt=e.textlines;Z.show(l(Wt,Wt.length-e.i-1),e.extratextgaps,0)}Z.restore()}Z.restore(),e=a}function FM(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.barcolor="unset",e.bordercolor="unset",e.inkspread=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ve(r[--t],function(){var f=r[--t];e[r[--t]]=f}),r[t++]=e.opt,delete e.opt,r[t++]=e,qe(),t--,Z.save(),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.tr=s([S(30+e.borderright+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(30+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([-e.borderleft+e.inkspread,29+e.bordertop-e.inkspread]),e.tr=s([30+e.borderright-e.inkspread,29+e.bordertop-e.inkspread]),e.bl=s([-e.borderleft+e.inkspread,-e.borderbottom+e.inkspread]),e.br=s([30+e.borderright-e.inkspread,-e.borderbottom+e.inkspread])),e.showborder){Z.save(),Z.newpath(),U(e.bl);var n=r[--t];Z.moveto(r[--t],n);for(var i=s([e.br,e.tr,e.tl]),o=0,c=i.length;o<c;o++){U(l(i,o));var d=r[--t];Z.lineto(r[--t],d)}Z.closepath(),Ee(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}Ee(e.barcolor,"unset")&&Z.setcolor(e.barcolor),Z.showmaxicode(e.pixs),Z.restore(),e=a}function Py(a,n,i,o,c){if(typeof i!="string")throw new Error("bwipp.typeError: barcode text not a string ("+i+")");if(o=o||{},typeof o=="string"){var d=o.split(" ");o={};for(var f=0;f<d.length;f++)if(d[f]){var h=d[f].indexOf("=");h==-1?d[f][0]=="!"?o[d[f].substr(1)]=!1:o[d[f]]=!0:o[d[f].substr(0,h)]=d[f].substr(h+1)}}else if(typeof o!="object"||o.constructor!==Object)throw new Error("bwipp.typeError: options not an object");if(o.binarytext){if(/[\u0100-\uffff]/.test(i))throw new Error("bwip-js: 16-bit chars not allowed with binarytext")}else/[\u0080-\uffff]/.test(i)&&(i=unescape(encodeURIComponent(i)));var p=new Map;for(var m in o)o.hasOwnProperty(m)&&p.set(m,o[m]);return Z=a,r=[i,p],t=2,e={bwipjs_rawstack:o.dontdraw||c?[]:!1},n(),e.bwipjs_rawstack?e.bwipjs_rawstack:!0}function Uu(a){if(!a)throw new Error("bwipp.undefinedEncoder: bcid is not defined");switch(a.replace(/-/g,"_")){case"auspost":return MT;case"azteccode":return Ou;case"azteccodecompact":return tM;case"aztecrune":return rM;case"bc412":return CT;case"channelcode":return MM;case"codablockf":return Fy;case"code11":return NT;case"code128":return c2;case"code16k":return LT;case"code2of5":return jc;case"code32":return pT;case"code39":return d2;case"code39ext":return hT;case"code49":return QT;case"code93":return Cy;case"code93ext":return vT;case"codeone":return aM;case"coop2of5":return ST;case"daft":return qT;case"databarexpanded":return Hm;case"databarexpandedcomposite":return vM;case"databarexpandedstacked":return $m;case"databarexpandedstackedcomposite":return xM;case"databarlimited":return Ry;case"databarlimitedcomposite":return mM;case"databaromni":return u2;case"databaromnicomposite":return uM;case"databarstacked":return Iy;case"databarstackedcomposite":return fM;case"databarstackedomni":return By;case"databarstackedomnicomposite":return hM;case"databartruncated":return Dy;case"databartruncatedcomposite":return pM;case"datalogic2of5":return ET;case"datamatrix":return zi;case"datamatrixrectangular":return VT;case"datamatrixrectangularextension":return KT;case"dotcode":return _y;case"ean13":return l2;case"ean13composite":return oM;case"ean14":return uT;case"ean2":return o2;case"ean5":return i2;case"ean8":return Qm;case"ean8composite":return lM;case"flattermarken":return HT;case"gs1_128":return g3;case"gs1_128composite":return gM;case"gs1_cc":return ps;case"gs1datamatrix":return bM;case"gs1datamatrixrectangular":return wM;case"gs1dldatamatrix":return yM;case"gs1dlqrcode":return kM;case"gs1dotcode":return jM;case"gs1northamericancoupon":return wT;case"gs1qrcode":return AM;case"hanxin":return sM;case"hibcazteccode":return TM;case"hibccodablockf":return RM;case"hibccode128":return EM;case"hibccode39":return SM;case"hibcdatamatrix":return NM;case"hibcdatamatrixrectangular":return CM;case"hibcmicropdf417":return BM;case"hibcpdf417":return IM;case"hibcqrcode":return DM;case"iata2of5":return kT;case"identcode":return gT;case"industrial2of5":return AT;case"interleaved2of5":return _u;case"isbn":return oT;case"ismn":return lT;case"issn":return cT;case"itf14":return xT;case"jabcode":return iM;case"japanpost":return _T;case"kix":return FT;case"leitcode":return bT;case"mailmark":return WT;case"mands":return dT;case"matrix2of5":return jT;case"maxicode":return eM;case"micropdf417":return iu;case"microqrcode":return XT;case"msi":return PT;case"onecode":return BT;case"pdf417":return Pu;case"pdf417compact":return YT;case"pharmacode":return yT;case"pharmacode2":return Ty;case"planet":return RT;case"plessey":return OT;case"posicode":return zT;case"postnet":return DT;case"pzn":return mT;case"qrcode":return ll;case"rationalizedCodabar":return IT;case"raw":return $T;case"rectangularmicroqrcode":return ZT;case"royalmail":return TT;case"sscc18":return fT;case"swissqrcode":return JT;case"symbol":return GT;case"telepen":return My;case"telepennumeric":return UT;case"ultracode":return nM;case"upca":return Ey;case"upcacomposite":return cM;case"upce":return Ny;case"upcecomposite":return dM}throw new Error("bwipp.unknownEncoder: unknown encoder name: "+a)}var _M="2025-10-24";const PM="4.8.0 (2025-11-11)";function _l(a){return a&&/HTMLCanvasElement|OffscreenCanvas/.test(Object.getPrototypeOf(a).constructor.name)}function OM(a,n){if(typeof n=="string"||_l(n)){let i=a;a=n,n=i}return UM(Uu(n.bcid),n,a)}function UM(a,n,i){if(typeof n=="string"){var o=document.getElementById(n)||document.querySelector(n);if(!_l(o))throw new Error("bwipjs: `"+n+"`: not a canvas");n=i,i=v0(o)}else if(_l(n)){var o=n;n=i,i=v0(o)}else if(typeof i=="string"){var o=document.getElementById(i)||document.querySelector(i);if(!_l(o))throw new Error("bwipjs: `"+i+"`: not a canvas");i=v0(o)}else if(_l(i))i=v0(i);else if(!i||typeof i!="object"||!i.init)throw new Error("bwipjs: not a canvas or drawing object");return qm(a,n,i)}function zM(a){return qm(Uu(a.bcid),a,Ly())}function Oy(a){var n=a.scale||2,i=+a.scaleX||n,o=+a.scaleY||i;if(a.paddingleft=y(a.paddingleft,a.paddingwidth,a.padding,i),a.paddingright=y(a.paddingright,a.paddingwidth,a.padding,i),a.paddingtop=y(a.paddingtop,a.paddingheight,a.padding,o),a.paddingbottom=y(a.paddingbottom,a.paddingheight,a.padding,o),a.backgroundcolor){var c=""+a.backgroundcolor;if(/^[0-9a-fA-F]{8}$/.test(c)){var d=parseInt(c.substr(0,2),16)/255,f=parseInt(c.substr(2,2),16)/255,h=parseInt(c.substr(4,2),16)/255,p=parseInt(c.substr(6,2),16)/255,m=Math.floor((1-d)*(1-p)*255).toString(16),v=Math.floor((1-f)*(1-p)*255).toString(16),w=Math.floor((1-h)*(1-p)*255).toString(16);a.backgroundcolor=(m.length==1?"0":"")+m+(v.length==1?"0":"")+v+(w.length==1?"0":"")+w}else if(c[0]=="#"&&(c=c.substr(1)),/^[0-9a-fA-F]{6}$/.test(c))a.backgroundcolor=c;else if(/^[0-9a-fA-F]{3}$/.test(c))a.backgroundcolor=c[0]+c[0]+c[1]+c[1]+c[2]+c[2];else throw new Error("bwip-js: invalid backgroundcolor: "+a.backgroundcolor)}return a;function y(x,g,A,j){return x!=null?(x=x>>>0,x*j>>>0):g!=null?(g=g>>>0,g*j>>>0):(A=A>>>0,A*j>>>0||0)}}var LM={bcid:1,text:1,scale:1,scaleX:1,scaleY:1,rotate:1,padding:1,paddingwidth:1,paddingheight:1,paddingtop:1,paddingleft:1,paddingright:1,paddingbottom:1,backgroundcolor:1};function QM(a,n){return qm(Uu(a.bcid),a,n)}function qm(a,n,i){var o=n.text;if(!o)throw new ReferenceError("bwip-js: bar code text not specified.");Oy(n),i.setopts&&i.setopts(n);var c=n.scale||2,d=+n.scaleX||c,f=+n.scaleY||d;n.rotate;var h=new Uy(i),p={};for(var m in n)LM[m]||(p[m]=n[m]);return p.alttext&&(p.includetext=!0),+p.height&&a!=Ty&&(p.height=p.height/25.4||.5),+p.width&&(p.width=p.width/25.4||0),h.scale(d,f),Py(h,a,o,p),h.render()}function HM(a,n,i){arguments.length==1&&(i=a,a=i.bcid,n=i.text);var o=zy();o.setopts(i);for(var c=new Uy(o),d=Py(c,Uu(a),n,i,!0),f={pixs:1,pixx:1,pixy:1,sbs:1,bbs:1,bhs:1,width:1,height:1},h=0;h<d.length;h++){var p=d[h];if(p instanceof Map){for(var m={},v=p.keys(),w=p.size,y=0;y<w;y++){var x=v.next().value;if(f[x]){var g=p.get(x);g instanceof Array?m[x]=g.b.slice(g.o,g.o+g.length):m[x]=g}}d[h]=m}else d.splice(h--,1)}return d}var Uy=function(){var a=Math.floor,n=Math.round,i=Math.ceil,o=Math.min,c=Math.max;function d(f){if(this.constructor!==d)return new d(f);this.gstk=[],this.cmds=[],this.drawing=f,this.reset(),this.minx=this.miny=1/0,this.maxx=this.maxy=-1/0}return d.prototype.reset=function(){this.g_m0=1,this.g_m1=0,this.g_m2=0,this.g_m3=1,this.g_m4=0,this.g_m5=0,this.g_tsx=1,this.g_tsy=1,this.g_rot=0,this.g_posx=0,this.g_posy=0,this.g_penw=1,this.g_path=[],this.g_font=null,this.g_rgb=[0,0,0],this.g_clip=!1},d.prototype.save=function(){var f={};for(var h in this)h.indexOf("g_")==0&&(f[h]=p(this[h]));this.gstk.push(f);function p(m){if(m instanceof Array){for(var v=[],w=0;w<m.length;w++)v[w]=p(m[w]);return v}if(m instanceof Object){var v={};for(var y in m)v[y]=p(m[y]);return v}return m}},d.prototype.restore=function(){if(!this.gstk.length)throw new Error("grestore: stack underflow");var f=this.gstk.pop(),h=this;this.g_clip&&!f.g_clip&&this.cmds.push(function(){h.drawing.unclip()});for(var p in f)this[p]=f[p]},d.prototype.currpos=function(){return{x:(this.g_posx-this.g_m4)/this.g_tsx,y:(this.g_posy-this.g_m5)/this.g_tsy}},d.prototype.currfont=function(){return this.g_font},d.prototype.rotate=function(f){this.g_rot+=f;var h=n(Math.cos(f*Math.PI/180)),p=n(Math.sin(f*Math.PI/180)),m=this.g_m0*h+this.g_m2*p,v=this.g_m1*h+this.g_m3*p,w=this.g_m0*-p+this.g_m2*h,y=this.g_m1*-p+this.g_m3*h;this.g_m0=m,this.g_m1=v,this.g_m2=w,this.g_m3=y},d.prototype.translate=function(f,h){this.g_m4+=this.g_tsx*f,this.g_m5+=this.g_tsy*h},d.prototype.scale=function(f,h){var p=this.g_tsx,m=this.g_tsy;this.g_tsx*=f,this.g_tsy*=h;var v=this.drawing.scale(this.g_tsx,this.g_tsy);v&&v[0]&&v[1]&&(this.g_tsx=v[0],this.g_tsy=v[1]),this.g_m0*=this.g_tsx/p,this.g_m1*=this.g_tsx/p,this.g_m2*=this.g_tsy/m,this.g_m3*=this.g_tsy/m},d.prototype.setlinewidth=function(f){this.g_penw=f},d.prototype.selectfont=function(f,h){this.g_font={FontName:this.jsstring(f),FontSize:+h}},d.prototype.getfont=function(){return this.g_font.FontName},d.prototype.jsstring=function(f){return f instanceof Uint8Array?String.fromCharCode.apply(null,f):""+f},d.prototype.setcolor=function(f){if(f instanceof Uint8Array&&(f=this.jsstring(f)),!!f){if(!/^(?:#?[0-9a-fA-F]{3}(?:[0-9a-fA-F]{3})?|[0-9a-fA-F]{8})$/.test(f))throw new Error("bwip-js: invalid color: "+f);if(f[0]=="#"&&(f=f.substr(1)),f.length==3){var h=parseInt(f[0],16),p=parseInt(f[1],16),m=parseInt(f[2],16);this.g_rgb=[h<<4|h,p<<4|p,m<<4|m]}else if(f.length==6){var h=parseInt(f.substr(0,2),16),p=parseInt(f.substr(2,2),16),m=parseInt(f.substr(4,2),16);this.g_rgb=[h,p,m]}else{var v=parseInt(f.substr(0,2),16)/255,w=parseInt(f.substr(2,2),16)/255,y=parseInt(f.substr(4,2),16)/255,x=parseInt(f.substr(6,2),16)/255,h=n((1-v)*(1-x)*255),p=n((1-w)*(1-x)*255),m=n((1-y)*(1-x)*255);this.g_rgb=[h,p,m]}}},d.prototype.setrgbcolor=function(f,h,p){this.g_rgb=[f,h,p]},d.prototype.getRGB=function(){var f=this.g_rgb[0].toString(16),h=this.g_rgb[1].toString(16),p=this.g_rgb[2].toString(16);return"00".substr(f.length)+f+"00".substr(h.length)+h+"00".substr(p.length)+p},d.prototype.newpath=function(){this.g_path=[]},d.prototype.closepath=function(){var f=this.g_path,h=f.length;if(h){for(var p=h-1;p>=0&&f[p].op=="l";p--);if(p++,p<h-1){for(var m=[],v=1/0,w=1/0,y=-1/0,x=-1/0,g=p;g<h;g++){var A=f[g];m.push([A.x0,A.y0]),v>A.x0&&(v=A.x0),y<A.x0&&(y=A.x0),w>A.y0&&(w=A.y0),x<A.y0&&(x=A.y0)}var A=f[h-1],j=f[p];(A.x1!=j.x0||A.y1!=j.y0)&&(m.push([A.x1,A.y1]),v>A.x1&&(v=A.x1),y<A.x1&&(y=A.x1),w>A.y1&&(w=A.y1),x<A.y1&&(x=A.y1)),f.splice(p,h-p,{op:"p",x0:v,y0:w,x1:y,y1:x,poly:m})}else f.push({op:"c"})}},d.prototype.moveto=function(f,h){this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5},d.prototype.rmoveto=function(f,h){this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5},d.prototype.lineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5;var v=n(this.g_posx),w=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:v,y1:w})},d.prototype.rlineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5;var v=n(this.g_posx),w=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:v,y1:w})},d.prototype.arc=function(f,h,p,m,v,w){if(m!=v){if(m!=0&&m!=360||v!=0&&v!=360)throw new Error("arc: not a full circle ("+m+","+v+")");var y=this.g_m0*f+this.g_m2*h+this.g_m4,x=this.g_m1*f+this.g_m3*h+this.g_m5,g=p*this.g_tsx,A=p*this.g_tsy;this.g_path.push({op:"e",x0:y-g,y0:x-A,x1:y+g,y1:x+A,x:y,y:x,rx:g,ry:A,sa:m,ea:v,ccw:w})}},d.prototype.stringwidth=function(f){var h=this.g_tsx,p=this.g_tsy,m=+this.g_font.FontSize||10;f=this.toUCS2(this.jsstring(f));var v=this.drawing.measure(f,this.g_font.FontName,m*h,m*p);return{w:v.width/h,h:(v.ascent+v.descent)/p,a:v.ascent/p,d:v.descent/p}},d.prototype.charpath=function(f,h){var p=this.stringwidth(f);this.rlineto(0,p.a),this.rlineto(p.w,0),this.rlineto(0,-p.h)},d.prototype.pathbbox=function(){if(!this.g_path.length)throw new Error("pathbbox: --nocurrentpoint--");for(var f=this.g_path,h=1/0,p=1/0,m=-1/0,v=-1/0,w=0;w<f.length;w++){var y=f[w];y.op!="c"&&(y.x0<y.x1?(h>y.x0&&(h=y.x0),m<y.x1&&(m=y.x1)):(h>y.x1&&(h=y.x1),m<y.x0&&(m=y.x0)),y.y0<y.y1?(p>y.y0&&(p=y.y0),v<y.y1&&(v=y.y1)):(p>y.y1&&(p=y.y1),v<y.y0&&(v=y.y0)))}var x={llx:(h-this.g_m4)/this.g_tsx,lly:(p-this.g_m5)/this.g_tsy,urx:(m-this.g_m4)/this.g_tsx,ury:(v-this.g_m5)/this.g_tsy};return x},d.prototype.transform=function(f){for(var h=this.minx,p=this.maxy,m=0;m<f.length;m++){var v=f[m];v[0]=v[0]-h,v[1]=p-v[1]}},d.prototype.stroke=function(){var f=this.g_tsx,h=this.g_tsy,p=this.g_path,m=this.getRGB();this.g_path=[];for(var v=a(this.g_penw*f+.66),w=a(this.g_penw*h+.66),y=0;y<p.length;y++){var x=p[y];if(x.op=="l"){if(x.x0!=x.x1&&x.y0!=x.y1)throw new Error("stroke: --not-orthogonal--");var g=x.x0,A=x.y0,j=x.x1,C=x.y1,k=v/2,E=w/2;if(g>j){var B=g;g=j,j=B}if(A>C){var B=A;A=C,C=B}g==j?this.bbox(g-k,A,g+v-k-1,C):this.bbox(g,A-w+E+1,j,C+E)}else if(x.op=="p"){var I=1/0,D=1/0,M=-1/0,T=-1/0,H=x.poly;if(H.length!=4)throw new Error("stroke: --not-a-rect--");for(var y=0,_=H.length-1;y<H.length;_=y++){var F=H[_][0],Q=H[_][1],L=H[y][0],ee=H[y][1];if(L!=F&&ee!=Q)throw new Error("stroke: --not-orthogonal--");L<I&&(I=L),L>M&&(M=L),ee<D&&(D=ee),ee>T&&(T=ee)}var k=i(v/2),E=i(w/2);this.bbox(I-k,D-E,M+k,T+E)}else throw new Error("stroke: --not-a-line--")}var se=this;this.cmds.push(function(){for(var ue=i(v/2),W=i(w/2),G=v-ue,ne=w-W,de=0;de<p.length;de++){var te=p[de];if(te.op=="l"){var ae=[[te.x0,te.y0],[te.x1,te.y1]];se.transform(ae),se.drawing.line(ae[0][0],ae[0][1],ae[1][0],ae[1][1],te.x0==te.x1?v:w,m),se.fill(m)}else{var ae=te.poly;se.transform(ae);var ie=o(ae[0][0],ae[2][0]),oe=c(ae[0][0],ae[2][0]),De=o(ae[0][1],ae[2][1]),Ne=c(ae[0][1],ae[2][1]);se.drawing.polygon([[ie-ue,De-W],[ie-ue,Ne+W+1],[oe+ue+1,Ne+W+1],[oe+ue+1,De-W]]),se.drawing.polygon([[ie+G,De+ne],[oe-G+1,De+ne],[oe-G+1,Ne-ne+1],[ie+G,Ne-ne+1]]),se.drawing.fill(m)}}})},d.prototype.fill=function(){var f=this.g_path,h=this.getRGB();this.g_path=[];for(var p=0;p<f.length;p++){var m=f[p];if(m.op=="p"){for(var v=1/0,w=1/0,y=-1/0,x=-1/0,g=m.poly,A=0;A<g.length;A++){var j=g[A][0],C=g[A][1];j<v&&(v=j),j>y&&(y=j),C<w&&(w=C),C>x&&(x=C)}this.bbox(v,w+1,y-1,x)}else if(m.op=="e")this.bbox(m.x-m.rx,m.y-m.ry,m.x+m.rx,m.y+m.ry);else throw new Error("fill: --not-a-polygon--")}var k=this;this.cmds.push(function(){for(var E=0;E<f.length;E++){var B=f[E];if(B.op=="p"){var I=B.poly;k.transform(I),k.drawing.polygon(I)}else if(B.op=="e"){var I=[[B.x,B.y]];k.transform(I),k.drawing.ellipse(I[0][0],I[0][1],B.rx,B.ry,B.ccw)}}k.drawing.fill(h)})},d.prototype.clip=function(){var f=this.g_path;this.g_path=[],this.g_clip=!0;var h=this;this.cmds.push(function(){for(var p=[],m=0;m<f.length;m++){var v=f[m];if(v.op=="p"){var w=v.poly;h.transform(w),p.push(w)}else throw new Error("clip: only polygon regions supported")}h.drawing.clip(p)})},d.prototype.drawlayer=function(f,h,p){let m=$M(f,h,p);this.newpath();for(let v=0,w=m.length;v<w;v++){let y=m[v];this.moveto(y[0][0],y[0][1]);for(let x=1,g=y.length;x<g;x++){let A=y[x];this.lineto(A[0],A[1])}this.closepath()}this.fill()},d.prototype.showmaxicode=function(f){var h=this.g_tsx,p=this.g_tsy,m=this.getRGB(),v=1.04*h*100,w=v/30|0;v-(w*30-1)>9&&w++;var y,x,g,A;g=h/2|0,A=p/2|0,y=w-g,y&1&&y--,x=(4*p|0)-A;var j=y/2-1,C=(j+1)/2|0,k=x-2-2*C;this.bbox(0,0,w*30-g,p*3*32+p*4-A);var E=this;this.cmds.push(function(){for(var B=0;B<f.length;B++){var I=f[B],M=I%30,T=I/30|0;M*=w,M+=T&1?w:w/2,M=M|0,T=33-T,T*=p*3,T+=p*2-x/2,T=T|0;var D=[[M-.5,T--]];T-=C-1,D.push([M-1-j,T--]),T-=k,D.push([M-1-j,T--]),T-=C-1,D.push([M-.5,T++]),T+=C-1,D.push([M+j,T++]),T+=k,D.push([M+j,T++]),E.transform(D),E.drawing.hexagon(D,m)}E.drawing.fill(m);var M=14*w+w/2+.01|0,T=(12*4+3)*p-C/2+.01|0;E.drawing.ellipse(M,T,.5774*3.5*h+.01|0,.5774*3.5*p+.01|0,!0),E.drawing.ellipse(M,T,1.3359*3.5*h+.01|0,1.3359*3.5*p+.01|0,!1),E.drawing.fill(m),E.drawing.ellipse(M,T,2.1058*3.5*h+.01|0,2.1058*3.5*p+.01|0,!0),E.drawing.ellipse(M,T,2.8644*3.5*h+.01|0,2.8644*3.5*p+.01|0,!1),E.drawing.fill(m),E.drawing.ellipse(M,T,3.6229*3.5*h+.01|0,3.6229*3.5*p+.01|0,!0),E.drawing.ellipse(M,T,4.3814*3.5*h+.01|0,4.3814*3.5*p+.01|0,!1),E.drawing.fill(m)})},d.prototype.toUCS2=function(f){return f.replace(/[\xc0-\xdf][\x80-\xbf]|[\xe0-\xff][\x80-\xbf]{2}/g,function(h){var p;return h.length==2?p=(h.charCodeAt(0)&31)<<6|h.charCodeAt(1)&63:p=(h.charCodeAt(0)&15)<<12|(h.charCodeAt(1)&63)<<6|h.charCodeAt(2)&63,String.fromCharCode(p)})},d.prototype.show=function(f,h,p){if(f.length){var m=this.g_rot,v=m==90||m==270?this.g_tsy:this.g_tsx,w=m==90||m==270?this.g_tsx:this.g_tsy,y=this.g_font.FontName||"OCR-B",x=this.g_font.FontSize||10,g=x*v,A=x*w,j=this.g_posx,C=this.g_posy,k=this.getRGB();h=v*h||0,p=w*p||0,f=this.toUCS2(this.jsstring(f));var E=this.drawing.measure(f,y,g,A),B=E.width+(f.length-1)*h;m==90?this.bbox(j-p+E.descent-1,C,j-p-E.ascent,C+B-1):m==180?this.bbox(j,C-p+E.descent-1,j-B+1,C-p-E.ascent):m==270?this.bbox(j+p-E.descent+1,C,j+p+E.ascent,C-B+1):(m=0,this.bbox(j,C+p-E.descent+1,j+B-1,C+p+E.ascent),this.g_posx+=B);var I=this;I.cmds.push(function(){var D=j-I.minx,M=I.maxy-C;I.drawing.text(D,M,f,k,{name:y,width:g,height:A,rotate:m,dx:h})})}},d.prototype.bbox=function(f,h,p,m){if(f>p){var v=f;f=p,p=v}if(h>m){var v=h;h=m,m=v}f=a(f),h=a(h),p=i(p),m=i(m),this.minx>f&&(this.minx=f),this.maxx<p&&(this.maxx=p),this.miny>h&&(this.miny=h),this.maxy<m&&(this.maxy=m)},d.prototype.render=function(){if(this.minx===1/0)return!1;this.drawing.init(this.maxx-this.minx+1,this.maxy-this.miny+1,this.g_tsx,this.g_tsy);for(var f=0,h=this.cmds.length;f<h;f++)this.cmds[f]();return this.drawing.end()},d}();function $M(a,n,i,o,c){let d=0,f=0,h=new Array(i+1),p=0;for(let y=i-1;y>=0;y--){let x=new Uint8Array(n);for(let g=0;g<n;g++)x[g]=a[p+g]?1:0;h[y]=x,p+=n}h[-1]=[],h[i]=[];let m=[];for(let y=0;y<i;y++){let x=0;for(let g=0;g<n;g++)!(x&9)&&h[y][g]==1?m.push(v(g,y,[])):(x&5)==1&&h[y][g]==0&&m.push(w(g,y,[])),x=h[y][g]}return m;function v(y,x,g){g.push([y+d,x+f]);let A=2;for(;;){if(h[x][y]&A)return g.pop(),g;h[x][y]|=A,A==2?h[x][y+1]&1?(h[x-1][y+1]&1&&(g.push([y+1-d,x+f,"H"]),A=16),y++):(g.push([y+1-d,x+f,"H"]),A=4):A==4?h[x+1][y]&1?(h[x+1][y+1]&1&&(g.push([y+1-d,x+1-f,"V"]),A=2),x++):(g.push([y+1-d,x+1-f,"V"]),A=8):A==8?h[x][y-1]&1?(h[x+1][y-1]&1&&(g.push([y+d,x+1-f,"H"]),A=4),y--):(g.push([y+d,x+1-f,"H"]),A=16):h[x-1][y]&1?(h[x-1][y-1]&1&&(g.push([y+d,x+f,"V"]),A=8),x--):(g.push([y+d,x+f,"V"]),A=2)}}function w(y,x,g){g.push([y-d,x-f]);let A=2;for(;;){if(h[x][y]&A)return g.pop(),g;h[x][y]|=A,A==2?h[x+1][y]&1?(g.push([y-d,x+1+f]),A=4):(h[x+1][y-1]&1||(g.push([y-d,x+1+f]),A=16),x++):A==4?h[x][y+1]&1?(g.push([y+1+d,x+1+f]),A=8):(h[x+1][y+1]&1||(g.push([y+1+d,x+1+f]),A=2),y++):A==8?h[x-1][y]&1?(g.push([y+1+d,x-f]),A=16):(h[x-1][y+1]&1||(g.push([y+1+d,x-f]),A=4),x--):h[x][y-1]&1?(g.push([y-d,x-f]),A=2):(h[x-1][y-1]&1||(g.push([y-d,x-f]),A=8),y--)}}}function zy(){var a=0,n=0,i=0,o=0,c=0,d=0,f=0,h=0,p,m,v,w,y,x,g,A,j,C,k,E;return{setopts(_){p=_},scale:function(_,F){return p.bcid=="swissqrcode"?[_,F]:[_|0||1,F|0||1]},measure:function(_,F,Q,L){Q=Q|0,L=L|0;for(var ee=r1.lookup(F),se=0,ue=0,W=0,G=0,ne=_.length;G<ne;G++){var de=_.charCodeAt(G),te=r1.getglyph(ee,de,Q,L);ue=Math.max(ue,te.top),W=Math.max(W,te.height-te.top),G==ne-1?se+=te.left+te.width:se+=te.advance}return{width:se,ascent:ue,descent:W}},init:function(_,F){var Q=p.paddingleft,L=p.paddingright,ee=p.paddingtop,se=p.paddingbottom,ue=p.rotate||"N";if(_+=Q+L,F+=ee+se,+p.sizelimit&&+p.sizelimit<_*F)throw new Error("Image size over limit");switch(ue){case"R":n=-1,i=1,c=1;break;case"I":a=-1,i=1,d=-1,h=1;break;case"L":n=1,c=-1,h=1;break;default:a=d=1;break}var W=ue=="L"||ue=="R";w=W?F:_,y=W?_:F,x=Q,g=ee,k=[],k.min=1/0,E=null,A=j=C=0;var G=this.image(w,y);m=G.buffer,v=G.ispng?1:0},line:function(_,F,Q,L,ee,se){if(_=_|0,F=F|0,Q=Q|0,L=L|0,ee=Math.round(ee)||1,L<F){var ue=F;F=L,L=ue}if(Q<_){var ue=_;_=Q,Q=ue}A=parseInt(se.substr(0,2),16),j=parseInt(se.substr(2,2),16),C=parseInt(se.substr(4,2),16);var W=ee/2|0;_==Q?(_=_-ee+W,Q=Q+W-1):(F=F-W,L=L+ee-W-1);for(var G=F;G<=L;G++)for(var ne=_;ne<=Q;ne++)B(ne,G,255)},polygon:function(_){for(var F=_.length,Q=F-1,L=0;L<F;Q=L++)if(_[Q][0]==_[L][0]){var ee=_[Q][0]|0,se=_[Q][1]|0,ue=_[L][1]|0;if(se>ue)for(var W=ue+1;W<se;W++)I(ee,W);else for(var W=se+1;W<ue;W++)I(ee,W)}else{var ee=_[Q][0]|0,G=_[L][0]|0,se=_[Q][1]|0;if(ee<G){var ne=_[Q==0?F-1:Q-1][1],de=_[L==F-1?0:L+1][1];ne>se&&I(ee,se),de>se&&I(G,se)}else{var ne=_[L==F-1?0:L+1][1],de=_[Q==0?F-1:Q-1][1];ne>se&&I(G,se),de>se&&I(ee,se)}}},hexagon:function(_,F){var Q=_[0][0]|0,L=_[0][1]|0,ee=_[1][1]-_[0][1]|0,se=_[2][1]-_[1][1]-1|0,ue=_[2][0]|0,W=_[4][0]|0;A=parseInt(F.substr(0,2),16),j=parseInt(F.substr(2,2),16),C=parseInt(F.substr(4,2),16),D(Q,Q+1,L++);for(var G=1;G<ee;G++)D(Q-2*G,Q+1+2*G,L++);for(var G=0;G<=se;G++)D(ue,W,L++);for(var G=ee-1;G>=1;G--)D(Q-2*G,Q+1+2*G,L++);D(Q,Q+1,L)},ellipse:function(_,F,Q,L,ee){T(_-Q|0,F-L|0,_+Q|0,F+L|0)},fill:function(_){A=parseInt(_.substr(0,2),16),j=parseInt(_.substr(2,2),16),C=parseInt(_.substr(4,2),16),M(),k=[],k.min=1/0},clip:function(_){E||(E=[],E.min=1/0);var F=k;k=E;for(var Q=0,L=_.length;Q<L;Q++)this.polygon(_[Q]);k=F},unclip:function(){E=null},text:function(_,F,Q,L,ee){_=_|0,F=F|0,A=parseInt(L.substr(0,2),16),j=parseInt(L.substr(2,2),16),C=parseInt(L.substr(4,2),16);var se=r1.lookup(ee.name),ue=ee.width|0,W=ee.height|0,G=ee.dx|0,ne=0,de=0,te=0,ae=0;switch(ee.rotate){case 90:de=1,te=-1;break;case 180:ne=-1,ae=-1;break;case 270:de=-1,te=1;break;default:ne=1,ae=1;break}for(var ie=0,oe=0;oe<Q.length;oe++){for(var De=Q.charCodeAt(oe),Ne=r1.getglyph(se,De,ue,W),Le=-Ne.top,Te=Ne.left,Ve=Ne.width,Qe=Ne.height,ot=Ne.bytes,Ze=Ne.offset,Fe=0;Fe<Ve;Fe++)for(var Ke=0;Ke<Qe;Ke++){var Je=ot[Ze+Ke*Ve+Fe];if(Je){var rt=ie+Te+Fe,Xe=Le+Ke,Se=ne*rt+de*Xe,pe=te*rt+ae*Xe;B(_+Se,F+pe,Je)}}ie+=Ne.advance+G}},end:function(){}};function B(_,F,Q){if(!(E&&H(_,F))){_+=x,F+=g;var L=a*_+n*F+i*(w-1)+o*(y-1),ee=c*_+d*F+f*(w-1)+h*(y-1),se=(ee*w+L)*4+(ee+1)*v,ue=m[se+3]/255,W=Q/255,G=(1-W)*ue,ne=W+G;m[se+0]=(A*W+m[se+0]*G)/ne|0,m[se+1]=(j*W+m[se+1]*G)/ne|0,m[se+2]=(C*W+m[se+2]*G)/ne|0,m[se+3]=255*ne|0}}function I(_,F){k.min>F&&(k.min=F),k[F]?k[F].push(_):k[F]=[_]}function D(_,F,Q){for(;_<=F;)B(_++,Q,255)}function M(){for(var _=k.min,F=k.length-1,Q=_;Q<=F;Q++){var L=k[Q];if(L){L.sort(function(ne,de){return ne-de});for(var ee=!1,se=0,ue=0,W=L.length;ue<W;ue++){var G=L[ue];ee?D(se,G-1,Q):se=G,ee=!ee}}}}function T(_,F,Q,L,ee){_=_|0,F=F|0,Q=Q|0,L=L|0;var se=Math.abs(Q-_),ue=Math.abs(L-F),W=ue&1,G=4*(1-se)*ue*ue,ne=4*(W+1)*se*se,de=G+ne+W*se*se,te,ae=[],ie=[];ae.min=ie.min=1/0,_>Q&&(_=Q,Q+=se),F>L&&(F=L),F+=(ue+1)/2|0,L=F-W,se*=8*se,W=8*ue*ue;do Le(ie,Q,F),Ne(ae,_,F),Ne(ae,_,L),Le(ie,Q,L),te=2*de,te>=G&&(_++,Q--,G+=W,de+=G),te<=ne&&(F++,L--,ne+=se,de+=ne);while(_<=Q);for(;F-L<ue;)Le(ie,Q+1,F),Ne(ae,_-1,F++),Ne(ae,_-1,L),Le(ie,Q+1,L--);for(var oe=ae.min,De=ae.length-1;oe<=De;oe++)I(ae[oe],oe);for(var oe=ie.min,De=ie.length-1;oe<=De;oe++)I(ie[oe]+1,oe);function Ne(Te,Ve,Qe){Te.min>Qe&&(Te.min=Qe);var ot=Te[Qe];(ot==null||ot>Ve)&&(Te[Qe]=Ve)}function Le(Te,Ve,Qe){Te.min>Qe&&(Te.min=Qe);var ot=Te[Qe];(ot==null||ot<Ve)&&(Te[Qe]=Ve)}}function H(_,F){var Q=E[F];if(!Q)return!0;Q.sorted||(Q.sort(function(W,G){return W-G}),Q.sorted=!0);for(var L=!1,ee=0,se=Q.length;ee<se;ee++){var ue=Q[ee];if(ue>_)return!L;if(ue==_)return L;L=!L}return!0}}function v0(a,n){_l(n)&&(a=n);var i,o=a.getContext("2d",{willReadFrequently:!0}),c=zy();c.image=h,c.end=p;var d,f=c.setopts;return c.setopts=function(m){d=m,f&&f.call(c,m)},c;function h(m,v){return a.width=m,a.height=v,o.setTransform(1,0,0,1,0,0),/^[0-9a-fA-F]{6}$/.test(""+d.backgroundcolor)?(o.fillStyle="#"+d.backgroundcolor,o.fillRect(0,0,m,v)):o.clearRect(0,0,m,v),i=o.getImageData(0,0,m,v),{buffer:i.data,ispng:!1}}function p(){return o.putImageData(i,0,0),a}}function Ly(){var a=0,n=0,i=0,o=0,c=0,d=0,f=0,h=0,p,m="",v,w="",y=[],x={},g,A,j=.55228475-45e-5,C,k,E,B;return{setopts(D){p=D},scale(D,M){g=D,A=M},measure(D,M,T,H){T=T|0,H=H|0;for(var _=r1.lookup(M),F=0,Q=0,L=0,ee=0,se=D.length;ee<se;ee++){var ue=D.charCodeAt(ee),W=r1.getglyph(_,ue,T,H);W&&(Q=Math.max(Q,W.top),L=Math.max(L,W.height-W.top),ee==se-1?F+=W.left+W.width:F+=W.advance)}return{width:F,ascent:Q,descent:L}},init(D,M){var T=p.paddingleft,H=p.paddingright,_=p.paddingtop,F=p.paddingbottom,Q=p.rotate||"N";switch(D+=T+H,M+=_+F,Q){case"R":n=-1,i=1,c=1;break;case"I":a=-1,i=1,d=-1,h=1;break;case"L":n=1,c=-1,h=1;break;default:a=d=1;break}var L=Q=="L"||Q=="R";C=L?M:D,k=L?D:M,E=T,B=_},line(D,M,T,H,_,F){if(D=D|0,M=M|0,T=T|0,H=H|0,_=Math.round(_)||1,_&1){if(D==T){let L=g&1?-.5:.5;D+=L,T+=L}if(M==H){let L=A&1?-.5:.5;M+=L,H+=L}}D==T?M++:M==H&&D++;var Q=""+_+"#"+F;x[Q]||(x[Q]='<path stroke="#'+F+'" stroke-width="'+_+'" d="'),x[Q]+="M"+I(D,M)+"L"+I(T,H)},polygon(D){v||(v='<path d="'),v+="M"+I(D[0][0],D[0][1]);for(var M=1,T=D.length;M<T;M++){var H=D[M];v+="L"+I(H[0],H[1])}v+="Z"},hexagon(D,M){this.polygon(D)},ellipse(D,M,T,H,_){v||(v='<path d="');var F=T*j,Q=H*j;v+="M"+I(D-T,M)+"C"+I(D-T,M-Q)+" "+I(D-F,M-H)+" "+I(D,M-H)+"C"+I(D+F,M-H)+" "+I(D+T,M-Q)+" "+I(D+T,M)+"C"+I(D+T,M+Q)+" "+I(D+F,M+H)+" "+I(D,M+H)+"C"+I(D-F,M+H)+" "+I(D-T,M+Q)+" "+I(D-T,M)+"Z"},fill(D){v&&(m+=v+'" fill="#'+D+'" fill-rule="evenodd"'+(w?' clip-path="url(#'+w+')"':"")+` />
`,v=null)},clip:function(D){var M='<clipPath id="clip'+y.length+'"><path d="';for(let F=0;F<D.length;F++){let Q=D[F];M+="M"+I(Q[0][0],Q[0][1]);for(var T=1,H=Q.length;T<H;T++){var _=Q[T];M+="L"+I(_[0],_[1])}M+="Z"}M+='" clip-rule="nonzero" /></clipPath>',w="clip"+y.length,y.push(M)},unclip:function(){w=""},text(D,M,T,H,_){D=D|0,M=M|0;for(var F=D,Q=M,L=r1.lookup(_.name),ee=_.width|0,se=_.height|0,ue=_.dx|0,W="",G=0;G<T.length;G++){var ne=T.charCodeAt(G),de=r1.getpaths(L,ne,ee,se);if(de){if(de.length){for(var te=0,ae=de.length;te<ae;te++){let ie=de[te];ie.type=="M"||ie.type=="L"?W+=ie.type+I(ie.x+D,M-ie.y):ie.type=="Q"?W+=ie.type+I(ie.cx+D,M-ie.cy)+" "+I(ie.x+D,M-ie.y):ie.type=="C"&&(W+=ie.type+I(ie.cx1+D,M-ie.cy1)+" "+I(ie.cx2+D,M-ie.cy2)+" "+I(ie.x+D,M-ie.y))}W+="Z"}D+=r1.getglyph(L,ne,ee,se).advance+ue}}W&&(_.rotate?m+='<path d="'+W+'" fill="#'+H+'" transform="rotate(-'+_.rotate+" "+I(F,Q)+`)" />
`:m+='<path d="'+W+'" fill="#'+H+`" />
`)},end(){var D="";for(var M in x)D+=x[M]+`" />
`;var T=p.backgroundcolor;return'<svg viewBox="0 0 '+C+" "+k+`" xmlns="http://www.w3.org/2000/svg">
`+(y.length?"<defs>"+y.join("")+"</defs>":"")+(/^[0-9A-Fa-f]{6}$/.test(""+T)?'<rect width="100%" height="100%" fill="#'+T+`" />
`:"")+D+m+`</svg>
`}};function I(D,M){D+=E,M+=B;var T=a*D+n*M+i*(C-1)+o*(k-1),H=c*D+d*M+f*(C-1)+h*(k-1);return""+((T|0)==T?T:T.toFixed(2))+" "+((H|0)==H?H:H.toFixed(2))}}var r1=function(){var a=[],n={},i={},o={},c=0;return o.next=o,o.prev=o,{lookup:f,monochrome:h,getglyph:p,getpaths:m,loadFont:d};function d(v){var w=100,y=100,x=null;if(arguments.length==2)x=arguments[1];else if(arguments.length==3)w=y=+arguments[1]||100,x=arguments[2];else if(arguments.length==4)y=+arguments[1]||100,w=+arguments[2]||100,x=arguments[3];else throw new Error("bwipjs: loadFont: invalid number of arguments");var g=J2.InitFont(GM(x));g.bwipjs_name=v,g.bwipjs_multx=w,g.bwipjs_multy=y;var A=a.push(g)-1;return n[v.toUpperCase()]=A,A}function f(v){var w=n[v.toUpperCase()];return w===void 0?1:w}function h(v){if(v)throw new Error("bwipjs: monochrome fonts not implemented")}function p(v,w,y,x){v=v|0,w=w|0,y=+y,x=+x,(!y||y<8)&&(y=8),(!x||x<8)&&(x=y),(v<0||v>=a.length)&&(v=1),(!w||w<32)&&(w=32);var g=""+v+"c"+w+"w"+y+"h"+x,j=i[g];if(j){j.prev.next=j.next,j.next.prev=j.prev;var k=o;return k.next.prev=j,j.next=k.next,j.prev=k,k.next=j,j}var A=a[v],j=J2.GetGlyph(A,w,y*A.bwipjs_multx/100,x*A.bwipjs_multy/100)||J2.GetGlyph(A,0,y*A.bwipjs_multx/100,x*A.bwipjs_multy/100);if(j.bytes=j.pixels,j.cachekey=g,j.offset=0,c>250){var k=o,C=k.prev;C.prev.next=k,k.prev=C.prev,C.next=C.prev=null,delete i[C.cachekey]}else c++;i[g]=j;var k=o;return k.next.prev=j,j.next=k.next,j.prev=k,k.next=j,j}function m(v,w,y,x){v=v|0,w=w|0,y=+y,x=+x,(!y||y<8)&&(y=8),(!x||x<8)&&(x=y),(v<0||v>=a.length)&&(v=1),(!w||w<32)&&(w=32);var g=a[v];return J2.GetPaths(g,w,y*g.bwipjs_multx/100,x*g.bwipjs_multy/100)}}();function qM(){return r1.loadFont.apply(r1,Array.prototype.slice.call(arguments))}var J2=function(){var a=1,n=2,i=3,o=4,c=0,d=3,f=1,h=10,p=Math.floor,m=Math.ceil,v=Math.sqrt,w=Math.abs;function y(P){for(var Y=[],q=0;q<P;q++)Y.push({});return Y}function x(P){return P[P.cursor++]||0}function g(P){return P[P.cursor]}function A(P,Y){P.cursor=Y>P.length||Y<0?P.length:Y}function j(P,Y){A(P,P.cursor+Y)}function C(P,Y){for(var q=0,O=0;O<Y;O++)q=q<<8|x(P);return q}function k(){return{length:0}}function E(P,Y,q){if(Y<0||q<0||Y>P.length||q>P.length-Y)return k();var O=P.subarray(Y,Y+q);return O.cursor=0,O}function B(P){var Y=P.cursor,q=C(P,2);if(q){var O=x(P);j(P,O*q),j(P,C(P,O)-1)}return E(P,Y,P.cursor-Y)}function I(P){var Y=x(P);return Y>=32&&Y<=246?Y-139:Y>=247&&Y<=250?(Y-247)*256+x(P)+108:Y>=251&&Y<=254?-(Y-251)*256-x(P)-108:Y==28?C(P,2):Y==29?C(P,4):0}function D(P){var Y=g(P);if(Y==30)for(j(P,1);P.cursor<P.length;){var q=x(P);if((q&15)==15||q>>4==15)break}else I(P)}function M(P,Y){for(A(P,0);P.cursor<P.length;){for(var q=P.cursor,O,$;g(P)>=28;)D(P);if(O=P.cursor,$=x(P),$==12&&($=x(P)|256),$==Y)return E(P,q,O-q)}return E(P,0,0)}function T(P,Y,q,O){for(var $=M(P,Y),le=0;le<q&&$.cursor<$.length;le++)O[le]=I($)}function H(P,Y,q){var O=M(P,Y);return O.cursor<O.length&&(q=I(O)),q}function _(P){return A(P,0),C(P,2)}function F(P,Y){var q,O,$,le;return A(P,0),q=C(P,2),O=x(P),j(P,Y*O),$=C(P,O),le=C(P,O),E(P,2+(q+1)*O+$,le-$)}function Q(P){return P&32768?(4294901760|P)>>0:P}function L(P,Y){return P[Y]*256+P[Y+1]}function ee(P,Y){var q=P[Y]*256+P[Y+1];return q&32768?(4294901760|q)>>0:q}function se(P,Y){return(P[Y]<<24)+(P[Y+1]<<16)+(P[Y+2]<<8)+P[Y+3]}function ue(P,Y,q){for(var O=L(P,Y+4),$=Y+12,le=0;le<O;++le){var K=$+16*le;if(P[K]==q[0]&&P[K+1]==q[1]&&P[K+2]==q[2]&&P[K+3]==q[3])return se(P,K+8)}return 0}function W(P,Y){var q=[0,0];if(T(Y,18,2,q),!q[1]||!q[0])return k();var O=E(P,q[1],q[0]),$=H(O,19,0);return $?(A(P,q[1]+$),B(P)):k()}function G(P,Y,q){var O,$,le,K;if(P.data=Y,P.fontstart=q,P.cff=k(),O=ue(Y,q,[99,109,97,112]),P.loca=ue(Y,q,[108,111,99,97]),P.head=ue(Y,q,[104,101,97,100]),P.glyf=ue(Y,q,[103,108,121,102]),P.hhea=ue(Y,q,[104,104,101,97]),P.hmtx=ue(Y,q,[104,109,116,120]),P.kern=ue(Y,q,[107,101,114,110]),!O||!P.head||!P.hhea||!P.hmtx)return 0;if(P.glyf){if(!P.loca)return 0}else{var be,J,fe,me,ge=2,re=0,xe=0,ke=0;if(me=ue(Y,q,[67,70,70,32]),!me||(P.fontdicts=k(),P.fdselect=k(),P.cff=Y.subarray(me),P.cff.cursor=0,be=P.cff,j(be,2),A(be,x(be)),B(be),fe=B(be),J=F(fe,0),B(be),P.gsubrs=B(be),re=H(J,17,re),ge=H(J,262,ge),xe=H(J,292,xe),ke=H(J,293,ke),P.subrs=W(be,J),ge!=2)||re==0)return 0;if(xe){if(!ke)return 0;A(be,xe),P.fontdicts=B(be),P.fdselect=E(be,ke,be.length-ke)}A(be,re),P.charstrings=B(be)}for($=ue(Y,q,[109,97,120,112]),$?P.numGlyphs=L(Y,$+4):P.numGlyphs=65535,K=L(Y,O+2),P.index_map=0,le=0;le<K;++le){var he=O+4+8*le;switch(L(Y,he)){case d:switch(L(Y,he+2)){case f:case h:P.index_map=O+se(Y,he+4);break}break;case c:P.index_map=O+se(Y,he+4);break}}return P.index_map==0?0:(P.indexToLocFormat=L(Y,P.head+50),1)}function ne(P,Y){var q=P.data,O=P.index_map,$=L(q,O+0);if($==0){var le=L(q,O+2);return Y<le-6?q[O+6+Y]:0}else if($==6){var K=L(q,O+6),be=L(q,O+8);return Y>=K&&Y<K+be?L(q,O+10+(Y-K)*2):0}else{if($==2)return 0;if($==4){var J=L(q,O+6)>>1,fe=L(q,O+8)>>1,me=L(q,O+10),ge=L(q,O+12)>>1,re=O+14,xe=re;if(Y>65535)return 0;for(Y>=L(q,xe+ge*2)&&(xe+=ge*2),xe-=2;me;){fe>>=1;var ke=L(q,xe+fe*2);Y>ke&&(xe+=fe*2),--me}xe+=2;var he,Ae,we=xe-re>>>1;return Ae=L(q,O+14+J*2+2+2*we),Y<Ae?0:(he=L(q,O+14+J*6+2+2*we),he==0?Y+ee(q,O+14+J*4+2+2*we):L(q,he+(Y-Ae)*2+O+14+J*6+2+2*we))}else if($==12||$==13){for(var je=se(q,O+12),Oe=0,_e=je;Oe<_e;){var Ge=Oe+(_e-Oe>>1),st=se(q,O+16+Ge*12),at=se(q,O+16+Ge*12+4);if(Y<st)_e=Ge;else if(Y>at)Oe=Ge+1;else{var ye=se(q,O+16+Ge*12+8);return $==12?ye+Y-st:ye}}return 0}}return 0}function de(P,Y,q,O,$,le){P.type=Y,P.x=q,P.y=O,P.cx=$,P.cy=le}function te(P,Y){var q,O;return Y>=P.numGlyphs||P.indexToLocFormat>=2?-1:(P.indexToLocFormat==0?(q=P.glyf+L(P.data,P.loca+Y*2)*2,O=P.glyf+L(P.data,P.loca+Y*2+2)*2):(q=P.glyf+se(P.data,P.loca+Y*4),O=P.glyf+se(P.data,P.loca+Y*4+4)),q==O?-1:q)}function ae(P,Y,q){if(P.cff.length)rt(P,Y,q);else{var O=te(P,Y);if(O<0)return 0;q.x0=ee(P.data,O+2),q.y0=ee(P.data,O+4),q.x1=ee(P.data,O+6),q.y1=ee(P.data,O+8)}return 1}function ie(P,Y,q,O,$,le,K,be,J,fe){return O?(q&&de(P[Y++],i,J+K>>1,fe+be>>1,J,fe),de(P[Y++],i,$,le,K,be)):q?de(P[Y++],i,$,le,J,fe):de(P[Y++],n,$,le,0,0),Y}function oe(P,Y){var q=P.data,O=te(P,Y);if(O<0)return null;var $=[],le=ee(q,O);if(le>0){var K=0,be,J,fe=0,me,ge,re,xe=0,ke,he=0,Ae,we,je,Oe,_e,Ge,st,at,ye=O+10,He=L(q,O+10+le*2),Ue=q.subarray(O+10+le*2+2+He),We=0;for(ge=1+L(q,ye+le*2-2),me=ge+2*le,$=y(me),re=0,be=0,ke=me-ge,J=0;J<ge;++J)be==0?(K=Ue[We++],K&8&&(be=Ue[We++])):--be,$[ke+J].type=K;for(Ae=0,J=0;J<ge;++J){if(K=$[ke+J].type,K&2){var pt=Ue[We++];Ae+=K&16?pt:-pt}else K&16||(Ae=Ae+Q(Ue[We]*256+Ue[We+1]),We+=2);$[ke+J].x=Ae}for(we=0,J=0;J<ge;++J){if(K=$[ke+J].type,K&4){var vt=Ue[We++];we+=K&32?vt:-vt}else K&32||(we=we+Q(Ue[We]*256+Ue[We+1]),We+=2);$[ke+J].y=we}var ft=0;for(_e=Ge=je=Oe=st=at=0,J=0;J<ge;++J)K=$[ke+J].type,Ae=$[ke+J].x,we=$[ke+J].y,re==J?(J!=0&&(ft=ie($,ft,xe,he,_e,Ge,st,at,je,Oe)),he=!(K&1),he?(st=Ae,at=we,$[ke+J+1].type&1?(_e=$[ke+J+1].x,Ge=$[ke+J+1].y,++J):(_e=Ae+$[ke+J+1].x>>1,Ge=we+$[ke+J+1].y>>1)):(_e=Ae,Ge=we),de($[ft++],a,_e,Ge,0,0),xe=0,re=1+L(q,ye+fe*2),++fe):K&1?(xe?de($[ft++],i,Ae,we,je,Oe):de($[ft++],n,Ae,we,0,0),xe=0):(xe&&de($[ft++],i,je+Ae>>1,Oe+we>>1,je,Oe),je=Ae,Oe=we,xe=1);$.length=ie($,ft,xe,he,_e,Ge,st,at,je,Oe)}else if(le==-1)for(var gt=1,nt=O+10;gt;){var K,Ft,et=[1,0,0,1,0,0];K=ee(q,nt),nt+=2,Ft=ee(q,nt),nt+=2,K&2&&(K&1?(et[4]=ee(q,nt),nt+=2,et[5]=ee(q,nt),nt+=2):(et[4]=x(q),nt+=1,et[5]=x(q),nt+=1)),K&8?(et[0]=et[3]=ee(q,nt)/16384,nt+=2,et[1]=et[2]=0):K&64?(et[0]=ee(q,nt)/16384,nt+=2,et[1]=et[2]=0,et[3]=ee(q,nt)/16384,nt+=2):K&128&&(et[0]=ee(q,nt)/16384,nt+=2,et[1]=ee(q,nt)/16384,nt+=2,et[2]=ee(q,nt)/16384,nt+=2,et[3]=ee(q,nt)/16384,nt+=2);var me=v(et[0]*et[0]+et[1]*et[1]),ge=v(et[2]*et[2]+et[3]*et[3]),Ht=Xe(P,Ft);if(Ht.length>0){for(var J=0,$t=Ht.length;J<$t;++J){var zt=Ht[J],Ae,we;Ae=zt.x,we=zt.y,zt.x=p(me*(et[0]*Ae+et[2]*we+et[4])),zt.y=p(ge*(et[1]*Ae+et[3]*we+et[5])),Ae=zt.cx,we=zt.cy,zt.cx=p(me*(et[0]*Ae+et[2]*we+et[4])),zt.cy=p(ge*(et[1]*Ae+et[3]*we+et[5]))}$=$.concat(Ht)}gt=K&32}return $}function De(P,Y,q){(Y>P.max_x||!P.started)&&(P.max_x=Y),(q>P.max_y||!P.started)&&(P.max_y=q),(Y<P.min_x||!P.started)&&(P.min_x=Y),(q<P.min_y||!P.started)&&(P.min_y=q),P.started=1}function Ne(P,Y,q,O,$,le,K,be){De(P,q,O),Y==o&&(De(P,$,le),De(P,K,be));var J={};de(J,Y,q,O,$,le),J.cx1=K,J.cy1=be,P.vertices.push(J)}function Le(P){(P.first_x!=P.x||P.first_y!=P.y)&&Ne(P,n,P.first_x,P.first_y,0,0,0,0)}function Te(P,Y,q){Le(P),P.first_x=P.x=P.x+Y,P.first_y=P.y=P.y+q,Ne(P,a,P.x,P.y,0,0,0,0)}function Ve(P,Y,q){P.x+=Y,P.y+=q,Ne(P,n,P.x,P.y,0,0,0,0)}function Qe(P,Y,q,O,$,le,K){var be=P.x+Y,J=P.y+q,fe=be+O,me=J+$;P.x=fe+le,P.y=me+K,Ne(P,o,P.x,P.y,be,J,fe,me)}function ot(P,Y){var q=_(P),O=107;return q>=33900?O=32768:q>=1240&&(O=1131),Y+=O,Y<0||Y>=q?k():F(P,Y)}function Ze(P,Y){var q=P.fdselect,O,$,le,K,be,J=-1,fe;if(A(q,0),be=x(q),be==0)j(q,Y),J=x(q);else if(be==3)for(O=C(q,2),$=C(q,2),fe=0;fe<O;fe++){if(K=x(q),le=C(q,2),Y>=$&&Y<le){J=K;break}$=le}return W(P.cff,F(P.fontdicts,J))}function Fe(P,Y,q){var O=1,$=0,le=0,K=0,be,J,fe,me=0,ge,re=[],xe=[],ke=P.subrs,he,Ae;for(he=F(P.charstrings,Y);he.cursor<he.length;){switch(J=0,ge=1,fe=x(he),fe){case 19:case 20:O&&($+=K/2|0),O=0,j(he,($+7)/8|0);break;case 1:case 3:case 18:case 23:$+=K/2|0;break;case 21:if(O=0,K<2)return 0;Te(q,re[K-2],re[K-1]);break;case 4:if(O=0,K<1)return 0;Te(q,0,re[K-1]);break;case 22:if(O=0,K<1)return 0;Te(q,re[K-1],0);break;case 5:if(K<2)return 0;for(;J+1<K;J+=2)Ve(q,re[J],re[J+1]);break;case 7:if(K<1)return 0;for(;!(J>=K||(Ve(q,0,re[J]),J++,J>=K));)Ve(q,re[J],0),J++;break;case 6:if(K<1)return 0;for(;!(J>=K||(Ve(q,re[J],0),J++,J>=K));)Ve(q,0,re[J]),J++;break;case 31:if(K<4)return 0;for(;!(J+3>=K||(Qe(q,re[J],0,re[J+1],re[J+2],K-J==5?re[J+4]:0,re[J+3]),J+=4,J+3>=K));)Qe(q,0,re[J],re[J+1],re[J+2],re[J+3],K-J==5?re[J+4]:0),J+=4;break;case 30:if(K<4)return 0;for(;!(J+3>=K||(Qe(q,0,re[J],re[J+1],re[J+2],re[J+3],K-J==5?re[J+4]:0),J+=4,J+3>=K));)Qe(q,re[J],0,re[J+1],re[J+2],K-J==5?re[J+4]:0,re[J+3]),J+=4;break;case 8:if(K<6)return 0;for(;J+5<K;J+=6)Qe(q,re[J],re[J+1],re[J+2],re[J+3],re[J+4],re[J+5]);break;case 24:if(K<8)return 0;for(;J+5<K-2;J+=6)Qe(q,re[J],re[J+1],re[J+2],re[J+3],re[J+4],re[J+5]);if(J+1>=K)return 0;Ve(q,re[J],re[J+1]);break;case 25:if(K<8)return 0;for(;J+1<K-6;J+=2)Ve(q,re[J],re[J+1]);if(J+5>=K)return 0;Qe(q,re[J],re[J+1],re[J+2],re[J+3],re[J+4],re[J+5]);break;case 26:case 27:if(K<4)return 0;for(Ae=0,K&1&&(Ae=re[J],J++);J+3<K;J+=4)fe==27?Qe(q,re[J],Ae,re[J+1],re[J+2],re[J+3],0):Qe(q,Ae,re[J],re[J+1],re[J+2],0,re[J+3]),Ae=0;break;case 10:me||(P.fdselect.length&&(ke=Ze(P,Y)),me=1);case 29:if(K<1||(be=re[--K]|0,le>=10)||(xe[le++]=he,he=ot(fe==10?ke:P.gsubrs,be),he.length==0))return 0;he.cursor=0,ge=0;break;case 11:if(le<=0)return 0;he=xe[--le],ge=0;break;case 14:return Le(q),1;case 12:var we,je,Oe,_e,Ge,st,at,ye,He,Ue,We,pt,vt,ft,gt=x(he);switch(gt){case 34:if(K<7)return 0;we=re[0],je=re[1],ye=re[2],Oe=re[3],_e=re[4],Ge=re[5],st=re[6],Qe(q,we,0,je,ye,Oe,0),Qe(q,_e,0,Ge,-ye,st,0);break;case 35:if(K<13)return 0;we=re[0],at=re[1],je=re[2],ye=re[3],Oe=re[4],He=re[5],_e=re[6],Ue=re[7],Ge=re[8],We=re[9],st=re[10],pt=re[11],Qe(q,we,at,je,ye,Oe,He),Qe(q,_e,Ue,Ge,We,st,pt);break;case 36:if(K<9)return 0;we=re[0],at=re[1],je=re[2],ye=re[3],Oe=re[4],_e=re[5],Ge=re[6],We=re[7],st=re[8],Qe(q,we,at,je,ye,Oe,0),Qe(q,_e,0,Ge,We,st,-(at+ye+We));break;case 37:if(K<11)return 0;we=re[0],at=re[1],je=re[2],ye=re[3],Oe=re[4],He=re[5],_e=re[6],Ue=re[7],Ge=re[8],We=re[9],st=pt=re[10],vt=we+je+Oe+_e+Ge,ft=at+ye+He+Ue+We,w(vt)>w(ft)?pt=-ft:st=-vt,Qe(q,we,at,je,ye,Oe,He),Qe(q,_e,Ue,Ge,We,st,pt);break;default:return 0}break;default:if(fe!=255&&fe!=28&&(fe<32||fe>254)||(fe==255?Ae=(C(he,4)|0)/65536:(j(he,-1),Ae=(I(he)<<16|0)>>16),K>=48))return 0;re[K++]=Ae,ge=0;break}ge&&(K=0)}return 0}function Ke(){return{started:0,first_x:0,first_y:0,x:0,y:0,min_x:0,max_x:0,min_y:0,max_y:0,vertices:[]}}function Je(P,Y){var q=Ke();return Fe(P,Y,q)?q.vertices:null}function rt(P,Y,q){var O=Ke(),$=Fe(P,Y,O);return q.x0=$?O.min_x:0,q.y0=$?O.min_y:0,q.x1=$?O.max_x:0,q.y1=$?O.max_y:0,$&&O.vertices?O.vertices.length:0}function Xe(P,Y){return P.cff.length?Je(P,Y):oe(P,Y)}function Se(P,Y){var q=L(P.data,P.hhea+34);return Y<q?{advanceWidth:ee(P.data,P.hmtx+4*Y),leftSideBearing:ee(P.data,P.hmtx+4*Y+2)}:{advanceWidth:ee(P.data,P.hmtx+4*(q-1)),leftSideBearing:ee(P.data,P.hmtx+4*q+2*(Y-q))}}function pe(P){return{ascent:ee(P.data,P.hhea+4),descent:ee(P.data,P.hhea+6),linegap:ee(P.data,P.hhea+8)}}function Ie(P,Y,q,O,$,le){var K={};return ae(P,Y,K)?{x0:p(K.x0*q+$),y0:p(-K.y1*O+le),x1:m(K.x1*q+$),y1:m(-K.y0*O+le)}:{x0:0,y0:0,x1:0,y1:0}}function Me(P,Y,q){var O=(P.x1-P.x0)/(P.y1-P.y0);return{fdx:O,fdy:O!=0?1/O:0,fx:P.x0+O*(q-P.y0)-(Y|0),direction:P.invert?1:-1,sy:P.y0,ey:P.y1,next:0}}function Re(P,Y,q,O,$,le,K){Y=Y|0,$!=K&&($>q.ey||K<q.sy||($<q.sy&&(O+=(le-O)*(q.sy-$)/(K-$),$=q.sy),K>q.ey&&(le+=(le-O)*(q.ey-K)/(K-$),K=q.ey),O<=Y&&le<=Y?P[Y]+=q.direction*(K-$):O>=Y+1&&le>=Y+1||(P[Y]+=q.direction*(K-$)*(1-(O-Y+(le-Y))/2))))}function Ye(P,Y,q,O,$){for(var le=$+1;O;){if(O.fdx==0){var K=O.fx;K<q&&(K>=0?(Re(P,K,O,K,$,K,le),Re(Y,K+1,O,K,$,K,le)):Re(Y,0,O,K,$,K,le))}else{var K=O.fx,be=O.fdx,J=K+be,fe,me,ge,re,xe=O.fdy;if(O.sy>$?(fe=K+be*(O.sy-$),ge=O.sy):(fe=K,ge=$),O.ey<le?(me=K+be*(O.ey-$),re=O.ey):(me=J,re=le),fe>=0&&me>=0&&fe<q&&me<q)if((fe|0)==(me|0)){var ke=re-ge,he=fe|0;P[he]+=O.direction*(1-(fe-he+(me-he))/2)*ke,Y[he+1]+=O.direction*ke}else{var Ae,he,we,je,Oe,_e,Ge,st;for(fe>me&&(ge=le-(ge-$),re=le-(re-$),Ae=ge,ge=re,re=Ae,Ae=me,me=fe,fe=Ae,be=-be,xe=-xe,Ae=K,K=J,J=Ae),we=fe|0,je=me|0,Oe=(we+1-K)*xe+$,Ge=O.direction,st=Ge*(Oe-ge),P[we]+=st*(1-(fe-we+(we+1-we))/2),_e=Ge*xe,he=we+1;he<je;++he)P[he]+=st+_e/2,st+=_e;Oe+=xe*(je-(we+1)),P[je]+=st+Ge*(1-(je-je+(me-je))/2)*(re-Oe),Y[je+1]+=Ge*(re-ge)}else for(var he=0;he<q;++he){var at=$,we=he,je=he+1,ye=J,He=le,Ue=(he-K)/be+$,We=(he+1-K)/be+$;K<we&&ye>je?(Re(P,he,O,K,at,we,Ue),Re(P,he,O,we,Ue,je,We),Re(P,he,O,je,We,ye,He)):ye<we&&K>je?(Re(P,he,O,K,at,je,We),Re(P,he,O,je,We,we,Ue),Re(P,he,O,we,Ue,ye,He)):K<we&&ye>we||ye<we&&K>we?(Re(P,he,O,K,at,we,Ue),Re(P,he,O,we,Ue,ye,He)):K<je&&ye>je||ye<je&&K>je?(Re(P,he,O,K,at,je,We),Re(P,he,O,je,We,ye,He)):Re(P,he,O,K,at,ye,He)}}O=O.next}}function ze(P,Y,q,O,$,le){$|=0,le|=0;var K=null,be,J=le,fe=0,me,ge=new Float32Array(P.w*2+1),re=ge.subarray(P.w),xe=0;for(Y[q].y0=le+P.h+1;fe<P.h;){var ke=J+0,he=J+1,Ae=K;if(ge.fill)ge.fill(0);else for(var we=0,je=ge.length;we<je;we++)ge[we]=0;for(;Ae;)be=Ae,Ae=be.next,be.ey<=ke&&(be.direction=0);for(;Y[xe].y0<=he;)Y[xe].y0!=Y[xe].y1&&(be=Me(Y[xe],$,ke),be.next=K,K=be),++xe;K&&Ye(ge,re,P.w,K,ke);for(var me=0,Oe=0;me<P.w;++me){var _e,Ge;Oe+=re[me],_e=ge[me]+Oe,_e=w(_e)*255+.5,Ge=_e>>>0,Ge>255&&(Ge=255),P.pixels[fe*P.stride+me]=Ge}for(Ae=K;Ae;)be=Ae,be.fx+=be.fdx,Ae=be.next;++J,++fe}}function mt(P,Y){for(var q=1;q<Y;++q){for(var O=P[q],$=q;$>0&&O.y0<P[$-1].y0;)P[$]=P[$-1],--$;q!=$&&(P[$]=O)}}function lt(P,Y,q){for(;q>12;){var O,$,le,K,be,J=q>>1,fe=P[Y].y0<P[Y+J].y0,me=P[Y+J].y0<P[Y+q-1].y0;for(fe!=me&&($=P[Y].y0<P[Y+q-11].y0,be=$==me?0:q-1,O=P[Y+be],P[Y+be]=P[Y+J],P[Y+J]=O),O=P[Y],P[Y]=P[Y+J],P[Y+J]=O,le=1,K=q-1;;){for(;P[Y+le].y0<P[Y].y0;++le);for(;P[Y].y0<P[Y+K].y0;--K);if(le>=K)break;O=P[Y+le],P[Y+le]=P[Y+K],P[Y+K]=O,++le,--K}K<q-le?(lt(P,Y,K),Y+=le,q-=le):(lt(P,Y+le,q-le),q=K)}}function ht(P,Y){lt(P,0,Y),mt(P,Y)}function yt(P,Y,q,O,$,le,K,be,J,fe){var me=-$,ge,re,xe,ke,he,Ae,we=1;for(re=0,xe=0;xe<q.length;++xe)re+=q[xe];for(ge=y(re+1),re=0,Ae=0,xe=0;xe<q.length;++xe){var je=Ae;for(Ae+=q[xe],ke=q[xe]-1,he=0;he<q[xe];ke=he++){var Oe=he,_e=ke;Y[je+ke].y!=Y[je+he].y&&(ge[re].invert=0,Y[je+ke].y>Y[je+he].y&&(ge[re].invert=1,Oe=ke,_e=he),ge[re].x0=Y[je+Oe].x*O+le,ge[re].y0=(Y[je+Oe].y*me+K)*we,ge[re].x1=Y[je+_e].x*O+le,ge[re].y1=(Y[je+_e].y*me+K)*we,++re)}}ht(ge,re),ze(P,ge,re,we,be,J)}function jt(P,Y,q,O,$,le,K,be,J){var fe=(Y+2*O+le)/4,me=(q+2*$+K)/4,ge=(Y+le)/2-fe,re=(q+K)/2-me;return J>16||(ge*ge+re*re>be?(jt(P,Y,q,(Y+O)/2,(q+$)/2,fe,me,be,J+1),jt(P,fe,me,(O+le)/2,($+K)/2,le,K,be,J+1)):P.push({x:le,y:K})),1}function wt(P,Y,q,O,$,le,K,be,J,fe,me){var ge=O-Y,re=$-q,xe=le-O,ke=K-$,he=be-le,Ae=J-K,we=be-Y,je=J-q,Oe=v(ge*ge+re*re)+v(xe*xe+ke*ke)+v(he*he+Ae*Ae),_e=v(we*we+je*je),Ge=Oe*Oe-_e*_e;if(!(me>16))if(Ge>fe){var st=(Y+O)/2,at=(q+$)/2,ye=(O+le)/2,He=($+K)/2,Ue=(le+be)/2,We=(K+J)/2,pt=(st+ye)/2,vt=(at+He)/2,ft=(ye+Ue)/2,gt=(He+We)/2,nt=(pt+ft)/2,Ft=(vt+gt)/2;wt(P,Y,q,st,at,pt,vt,nt,Ft,fe,me+1),wt(P,nt,Ft,ft,gt,Ue,We,be,J,fe,me+1)}else P.push({x:be,y:J})}function Dt(P,Y,q){for(var O=[],$=Y*Y,le=-1,K=0,be=0,J=0,fe=0,me=P.length;fe<me;++fe)switch(P[fe].type){case a:le>=0&&(q[le]=O.length-K),++le,K=O.length,be=P[fe].x,J=P[fe].y,O.push({x:be,y:J});break;case n:be=P[fe].x,J=P[fe].y,O.push({x:be,y:J});break;case i:jt(O,be,J,P[fe].cx,P[fe].cy,P[fe].x,P[fe].y,$,0),be=P[fe].x,J=P[fe].y;break;case o:wt(O,be,J,P[fe].cx,P[fe].cy,P[fe].cx1,P[fe].cy1,P[fe].x,P[fe].y,$,0),be=P[fe].x,J=P[fe].y;break}return q[le]=O.length-K,O}function Ct(P,Y,q,O,$,le,K,be,J,fe){be|=0,J|=0;var me=O>$?$:O,ge=[],re=Dt(q,Y/me,ge);re&&yt(P,re,ge,O,$,le,K,be,J)}function Ut(P){var Y={};if(!G(Y,P,0))return null;var q=pe(Y);return Y.ascent=q.ascent,Y.descent=q.descent,Y.linegap=q.linegap,Y}function It(P,Y,q,O){O=O||q;var $=q/P.ascent,le=O/P.ascent,K=ne(P,Y);if(!K&&Y)return null;var be=Xe(P,K),J=Ie(P,K,$,le,0,0),fe=J.x1-J.x0,me=J.y1-J.y0,ge=null;if(fe&&me){var re={pixels:ge=new Uint8Array(fe*me),w:fe,h:me,stride:fe};Ct(re,.35,be,$,le,0,0,J.x0,J.y0)}var xe=Se(P,K);return{glyph:K,pixels:ge,width:fe,height:me,top:-J.y0,left:J.x0,advance:p(xe.advanceWidth*$)}}function kt(P,Y,q,O){O=O||q;var $=q/P.ascent,le=O/P.ascent,K=ne(P,Y);if(!K&&Y)return null;var be=Xe(P,K),J=Se(P,K),fe=0,me=0,ge=[];if(be)for(var re=0,xe=be.length;re<xe;re++){var ke=be[re],he;if(ke.type==a)he={type:"M",x:ke.x*$,y:ke.y*le};else if(ke.type==n)he={type:"L",x:ke.x*$,y:ke.y*le};else if(ke.type==i)he={type:"Q",x:ke.x*$,y:ke.y*le,cx:ke.cx*$,cy:ke.cy*le};else if(ke.type==o)he={type:"C",x:ke.x*$,y:ke.y*le,cx1:ke.cx*$,cy1:ke.cy*le,cx2:ke.cx1*$,cy2:ke.cy1*le};else continue;he.y>fe&&(fe=he.y),he.y<me&&(me=he.y),ge.push(he)}return ge.advance=J.advanceWidth*$,ge.ascent=fe,ge.descent=me,ge}return{InitFont:Ut,GetGlyph:It,GetPaths:kt}}();function GM(a){if(typeof a=="string"){for(var n=/[^A-Za-z0-9+\/=\s]/.test(a),i=n?a:atob(a),o=i.length,c=new Uint8Array(o),d=0;d<o;d++)c[d]=i.charCodeAt(d);return c}else{if(a instanceof Uint8Array)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a)}throw new ReferenceError("data must be a binary or base64 encoded string or Uint8Array")}r1.loadFont("OCR-A",100,100,"AAEAAAAPAIAAAwBwRkZUTXxHoksAADPIAAAAHEdERUYAmQAGAAAyIAAAACBHUE9TuP+4/gAAM5gAAAAwR1NVQuq3l/0AADJAAAABWE9TLzKDm4kvAAABeAAAAGBjbWFwO6GiGgAAArgAAAFaZ2FzcP//AAMAADIYAAAACGdseWYfHUemAAAE8AAAKUBoZWFkFeCL3QAAAPwAAAA2aGhlYQcqAgQAAAE0AAAAJGhtdHgagBVHAAAB2AAAAOBsb2NhH+IWRAAABBQAAADabWF4cACxAF0AAAFYAAAAIG5hbWUIp3NfAAAuMAAAAoJwb3N0oJoboAAAMLQAAAFkAAEAAAACAAAhYPsHXw889QALA+gAAAAA2gMjvQAAAADaAyO9AD7/LAJ8BFIAAAAIAAIAAAAAAAAAAQAABFL/LABaAtMAAAAAAnwAAQAAAAAAAAAAAAAAAAAAAAQAAQAAAGwAWgADAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAtMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAACMAACoAAAAAAAAAAABQZkVkAEAAICWgAyD/OABaBFIA1AAAAAEAAAAAAjgDDAAAACAAAQLTAAAAAAAAAtMAAALTAAAA9gBJAEkASQBJAEkA3QDdAKwASQBJAKwASQDdAEkASQBJAEkASQBhAEkASQBJAEkASQDdAKwASQBJAEkASQBJAEYASQBJAEkASQBJAEkASQBJAHoASQBJAEkASQBJAEkASQBJAEkASQBJAEkASQBJAEkASABJAEkASQBIAEkAegBJAEkASQBJAEkAYQBJAEkAegB6AEkAegBBAEkASQBJAEkASQBJAEkASQBJAD4ASQBJAEkASQEPAEkASQBxAHEAcQE3AFcA7QBxAQMA1ABxAAAAAwAAAAMAAAAcAAEAAAAAAFQAAwABAAAAHAAEADgAAAAKAAgAAgACAH4kQiUCJaD//wAAACAkQCUCJaD////j3CLbY9rGAAEAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAFIApgDoAS4BigGqAdYCAgJKAnQCkAKsAsYC5AMIAzIDYAOcA8gD+gQmBFIEggSuBNwFDAU0BVwFhAXEBhIGPgZwBqgG5AcKBy4HageWB8QH7gggCDoIZgiICMoI8glMCYIJwAnmChAKNAp0Cq4K1gr6CyYLRAtwC5QLrgvODBYMdAysDRANag2eDhYOSA6EDsYO+A8iD2YPmA/yEFgQvBDqETQRbhGgEcwSDhJEEnoSqBLiEwITPBNyE5ITthPeE+wT+hQUFEYUaBSIFKAAAAACAPYAAAGNAwwADwAfAAA3NTQ2OwEyFh0BFAYrASImETQ2OwEyFh0BAxQGIyImJ/YeFTEVHh4VMRUeHhUxFB8ZHhQVHAIzKhUdHRUqFR4eArwUHhwTA/6BFR0dFQAAAAABAEkBqAI7AwwAEwAAEychFQYHBiMiJjUnIwcOASMiJidKAQHyJgsMKBQgKHIqAxwSExwDAsJKSrkvMhoS09YRGBgRAAIASQB/AjsDDAA9AEEAABM0NjsBNSMiJjQ2OwE1NDYyFh0BMzU0NjIWHQEzMhYUBisBFTMyFhUUBisBFRQGIiY9ASMVFAYiJj0BIyImNzM1I0kdFTExFR0dFTEdKh5hHiodMRUeHhUxMRUeHhUxHSoeYR4qHTEVHchhYQFcFB5vHiodeBQeHhR4eBQeHhR4HSoebx4UFR53FR4eFXd3FR4eFXceR28AAAEASQAAAjsDDAAxAAA2NDYzITUhIiY9ATQ2OwE1NDYzMhYdATMyFhQGIyEVITIWHQEUBisBFRQGIyImPQEjIkkdFQFb/qUVHR0VlB4VFB6UFR4eFf6lAVsVHh4VlB4UFR6UFccqHkQeFaoVHXgUHh4UeB0qHkQeFaoVHXcVHh4VdwAAAAMASQAAAjsDDAAPAB8ALwAANzQ3ATYzMhYVFAcBBiMiJhE1NDY7ATIWHQEUBisBIiYBNTQ2OwEyFh0BFAYrASImSQoBjQ4aFR4L/nMOGhUdHRVjFR4eFWMVHQEpHhVjFR4eFWMVHocUCwH+Ex0VEg3+AhMdAhNVFB4eFFUVHh79w1QVHh4VVBUeHgAAAwBJAAACOwK3AC4ANgBBAAA3NTQ/AScmPQE0NjsBMhYdARQPARc3NjMyFhUUDgIHFxYVFAYjIi8BBwYrASImNxQWOwE3JwcRFzc1NCYrASIGFUkRXGANWT5gPlkRfWszDxIVHhAPIQI0Dh4VFw43Sg8RYj5ZZR4UTzhrTlVvHhRgFB6XRRgPT2YPFEU+WVk+RRkOa3IsDB4VDRoOGAI4EBIVHhA7PwxZPhUdMHJCASpbXi4UHh0VAAEA3QFUAaYDDAARAAATETQ2OwEyFhcUBg8BDgEjIibdHhVjFRwCMhoZBRoSFR4BhgFUFB4dFQawVVURFR0AAAABAN0AAAHZAwwAGwAAEzU0PwE2MzIWFRQPAQYdARQfARYVFAYjIi8BJt0rdRAYFR8MdRYWdQodFRgQdSsBJsBFOJYTHhQOEpUdIsAiHZUPEBUeE5Y4AAAAAQCsAAABpgMMABsAADc0PwE2PQE0LwEmNTQ2MzIfARYdARQPAQYjIiasCnUWFnUKHRUYEHUrK3UQGBUdMxAPlR0iwCIdlQ8RFB4TljhFwEU4lhMeAAAAAAEASQBVAjsCtwAzAAA3ND8BJyY1NDYzMh8BNTQ2MzIWHQE3NjMyFhUUDwEXFhUUBiMiLwEVFAYjIiY9AQcGIyImSRGZmREdFRMOcx4VFB5zDRQVHhKZmRIeFRQNcx4UFR5zDhMVHdwYD4ODDxgVHQxikRUdHRWRYgwdFRcQg4MQFxUdDGKRFR0dFZFiDB0AAAEASQCNAjsCfwAdAAASNDY7ATU0NjMyFh0BMzIWFAYrARUUBiMiJj0BIyJJHRWUHhUUHpQVHh4VlB4UFR6UFQFxKh6UFB4eFJQeKh2UFR4eFZQAAAEArAAAAdcBZAAQAAASNDY7ATIWHQEUBiImPQEjIqwdFccVHR0qHpQVARwqHh4V/hUeHhXMAAAAAQBJASkCOwG5AA8AABM1NDYzITIWHQEUBiMhIiZJHRUBjRUeHhX+cxUdAVwqFR4eFSoVHh4AAAABAN0AfwGmATkADwAANzU0NjsBMhYdARQGKwEiJt0eFWMVHh4VYxUeslUVHR0VVRUeHgAAAQBJAAACOwMMAA8AADc0NwE2MzIWFRQHAQYjIiZJBgGNDx0VHgf+cw8dFR0zDQwCpxkeFAwO/VkZHgAAAgBJAAACOwMMAA8AEwAANxE0NjMhMhYVERQGIyEiJjchESFJPCkBKCg9PSj+2Ck8ZQEo/thlAkIpPDwp/b4pPDwpAkIAAAAAAQBJAAACOwMMABwAADc0NjsBESMiJjU0NjsBETM1NDYyFh0BFAYjISImSR0VlJQVHR0V+WIdKh4eFf5zFR0zFB4CQh4VFB79WcwVHh4V/hUeHgAAAQBJAAACOwMMAB4AADMRNDYzITUhIiY1NDYzITIWHQEUBiMhFSEyFhUUBiNJPCkBKP6lFR0dFQFbKD08Kf7YAVoVHh4VAVQpO+8eFRQePCnvKDzvHhQVHgAAAAABAEkAAAI7AwwAKgAANzQ2MyE1NCYrASImNDY7ATI2PQEhIiY1NDYzITIWHQEUBxYdARQGIyEiJkkdFQFbHxTFFR0dFcUVHv6lFR0dFQFbKD0oKD0o/qUVHTMUHrwUHx0qHh4UvB4VFB48Kbw6Kys6vCk8HgAAAAABAGEAAAIiAwwAHQAAExE0NjIWFREzETQ2MzIWFREyFhQGIxUUBiMiJj0BYR4qHcUeFRQeFR0dFR4UFR4A/wHbFB4eFP6KASEVHR0V/t8eKh3MFR4eFcwAAQBJAAACOwMMACIAADc0NjMyHwEzNSERITIWFRQGKwEVMzIWHQEUBisBIi4CJyZJHRUMCFrt/tYBXBUeHhX3xSg9PSjjFCkaLAkeXRUdBCbvAbgeFBUe7j0o7yk8CgsVBA0AAAIASQAAAjsDDAAXABsAADcRNDY7ATIWFRQGIxEhMhYdARQGIyEiJjchNSFJHRUyFR0dFQFbFR4eFf5zFR1kASn+1zMCpxQeHhQVHv69HhX+FR4eR5oAAAABAEkAAAI7AwwAGwAAEzU0NjMhERQPARUUBiMiJj0BND8BNSEOASMiJkkdFQHAErUeFBUeErX+1wMcExUdAq8rFB7+zxcQmucVHh4V/hcQmrUSGB0AAAAAAwBJAAACOwMMABcAGwAfAAA3NTQ2MxE0NjsBMhYVETIWHQEUBiMhIiY3ITUhNzM1I0k7KRwVxxUcKD09KP7XKTtkASn+12RhYWXvKTwBIRUdHRX+3z0o7yk8PCnvZe4AAgBJAAACOwMMABcAGwAAExE0NjMhMhYVERQGKwEiJjU0NjMRISImNyE1IUkdFQGNFR4eFTIVHR0V/qUVHWQBKf7XAdsA/xQeHhT9WRUeHhUUHgFDHkeaAAIA3QB/AaYCjQAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm3R4VYxUeHhVjFR4eFWMVHh4VYxUeslUVHR0VVRUeHgFoVRUeHhVVFR0dAAAAAgCsAAAB1wK3ABAAIAAAEjQ2OwEyFh0BFAYiJj0BIyIDNTQ2OwEyFh0BFAYrASImrB0VxxUdHSoelBUdHRVkFB4eFGQVHQEcKh4eFf4VHh4VzAExVRUdHRVVFR4eAAAAAQBJAFUCOwK3ABYAABM1NDclNjMyFhUUBw0BFhUUBiMiJyUmSRgBjQsPFR4Z/pkBZxkeFQ8L/nMYAXArHQ/pBx0VHBDT0xAcFR0H6Q8AAAACAEkA/wI7AjgACwAXAAASNDYzITIWFAYjISImNDYzITIWFAYjISJJHRUBjRUeHhX+cxUdHRUBjRUeHhX+cxUBHCoeHiod8SoeHiodAAAAAAEASQBVAjsCtwAWAAA3NDctASY1NDYzMhcFFh0BFAcFBiMiJkkYAWj+mBgdFQ8LAY0ZFP5uCw8VHYcdD9PTDx0VHQfpEBwqHQzsBx0AAAAAAgBJAAACOwMMAB4AKAAAEzQ3ATYyHwEWHQEUBwUVFAYiJj0BNDclNScFBiMiJhM0NjIWFRQGIiZJEQEqDyQPYxIS/ugeKh0RARkx/vcPEhUdYx0qHh4qHQHbGA4A/wwMVQ8XVRcQ7z4VHR0VVRkO7yYq4wwe/m0UHh4UFR4eAAACAEkAAAI7AwwALQA4AAA3NTQ2OwEyFhURFBYyNjURNCYrASIGBwYjIiY1NDc2OwEyFhURFAYjIicGIyImNxQWMjY9ASMiBhVJWD1kFB4dKB0uH48ZLQwOHxUdNjdEj0lpWT05Kiw4PVhlHCgdMRQclrc+WB4V/uYUHR0UAcQgLSMXGx4VJDEyakj+PD1ZJydYPhQdHRToHRQAAAACAEYAAAI8AwwAFQAYAAA3Ez4BMhYXExQGIyImLwEjBw4BIyImNzMDRssFGiIcBMofFREaBSffJwUbERUfqqNSMwK1EBQUEP1LFR4UEIaGEBQe8QEWAAAAAwBJAAACOwMMAA4AGAAiAAAzESEyFh0BFAcWHQEUBiMnMzI2PQE0JisBNTMyNj0BNCYrAUkBKFJ4RkZ4UsPDKTw8KcPDKTw8KcMDDHhSJVk+PlklUnhlPSglKTxlPCglKD0AAAEASQAAAjsDDAAlAAATND8BPgE7ATIWFRQGKwEiDwEGFB8BFjsBMhYVFAYrASImJyYnJkkYZRBLLboVHh4Vuh8NZw0NZw0fuhUeHhW6LEkSShwYAYY1MswkLx4UFR4cyxw8HMscHhQVHjAkjT4zAAACAEkAAAI7AwwAGwAoAAA3NDY7AREjIiY1NDY7ATIWHwEWFA8BDgErASImNzMyPwE2NTQvASYrAUkdFTExFR0dFbosSRJmGRllEEstuhUdyCQfDWcODmcNHyQzFB4CQh4VFB4wJMs0ZjTMJC8eRxzLIhgeHMscAAABAEkAAAI7AwwAGQAAMxEhMhYVFAYjIRUzMhYUBisBFSEyFhUUBiNJAb8VHh4V/qaUFB4eFJQBWhUeHhUDDB4UFR7uHiod7x4UFR4AAQBJAAACOwMMABYAADcRITIWFRQGIyEVMzIWFAYrAREUBiImSQG/FR4eFf6m9xUdHRX3HiodMwLZHhQVHpodKh7+ixUeHgAAAQBJAAACOwMMACoAADcRND8BNjsBMhYVFAYrASIPAQYVERQWOwEyNj0BIyImNDY7ARUUBisBIiZJKogtS5UVHh4VlRkPiBUeFMMUH2MVHR0VyFo+wz9YmAEPRTawOh4UFR4Urhwi/vEVHh4VZx0qHsw+WlkAAAAAAQBJAAACOwMMABsAADcRNDYyFhURIRE0NjIWFREUBiImNREhERQGIiZJHSoeASgdKh4eKh3+2B4qHTMCpxQeHhT+3wEhFB4eFP1ZFR4eFQEh/t8VHh4AAAEASQAAAjsDDAAfAAA3NDY7AREjIiY1NDYzITIWFRQGKwERMzIWFRQGIyEiJkkdFZSUFR0dFQGNFR4eFZSUFR4eFf5zFR0zFB4CQh4VFB4eFBUe/b4eFBUeHgAAAQB6AAACCQMMABsAADc1NDYyFh0BFBY7ATI2NRE0NjIWFREUBisBIiZ6HiodHhVfFR4dKh5aPl8+WpeaFR4eFZoVHR4UAkMUHh4U/b0+WVkAAAAAAQBJAAACOwMMAB4AADcRNDYyFh0BATYzMhYVFAcJARYVFAYjIicBFRQGIiZJHSoeATkPEhUeEv6gAWASHhUSD/7HHiodMwKnFB4eFOYBDAweFBgP/tP+0w8XFR4MAQzlFR4eAAEASQAAAjsDDAAOAAAzETQ2MhYVESEyFhUUBiNJHSoeAVoVHh4VAtoUHh4U/YseFBUeAAABAEkAAAI7AwwAGwAANxEzFzczERQGIiY1EQcVFAYjIiY9AScRFAYiJkl+e3p/HiodYh4UFR5hHiodMwLZr6/9JxUeHhUCTowaFR4eFRqK/bQVHh4AAAAAAQBJAAACOwMMABEAADcRMwERNDYyFhURIwERFAYiJkmFAQgdKh6G/vkeKh0zAtn9pgIoFB4eFP0mAlj92xUeHgAAAAACAEkAAAI7AwwAFgApAAATND8BPgEzMhYfARYUDwEOASMiJi8BJjcGFB8BFjMyPwE2NTQvASYjIgdJGGsQPyYnPxBrGRlrED8nJj8QaxhyDQ1sCBIUCGsODmwIExEJAYY1MtcfKSkf1zRmNNcfKSkf1y5zHDwc1hEQ1yIYHhzVEhIAAAACAEkAAAI7AwwADwAZAAA3ESEyFh0BFAYrARUUBiImEzMyNj0BNCYrAUkBWj5aWj71HiodZfUUHx8U9TMC2Vk+tD5a9hUeHgFwHhW0FB4AAAIASQAAAjsDDAAhAEAAADcRND8BNjMyFhURFA4FBxczMhYVFAYrAScHBiMiJjcUOwE3JyY1NDYzMh4DFz4ENRE0JisBBwYVSUbhIC8ySggUDiMOLAUYQRUeHhWGJUsiLTJIZRUIbCUDHhUNFA8IDAIEHw4UCQ0KB+giewEaXj2+Hkky/uYXKSUZIg0kBD0eFBUeXkAeSTIWXF4HCxUeCxoRJAQEGQ0aHBEBGgkMwx4wAAAAAAIASQAAAjsDDAAZACMAADcRITIWHQEUBisBExYVFAYjIicDIxEUBiImEzMyNj0BNCYrAUkBWj5aWz06ywceFR0P6UUeKh1l9RQfHxT1MwLZWj40Plr+pA4LFR4ZAY/+ixUeHgHvHxQ0FR4AAAEASQAAAjsDDAAsAAA3NDYyFhUUFjsBMjUBJj0BNDY7ATIWFRQGIiY1NCYrASIdAgEWFQ4BKwEiJkkdKh4UDvkN/ooXQy75N1EeKh0VDvkMAXQZAkEv+TdQhxUeHhUOFA0B4iAmAy1CUDcVHh4VDRUKAwT+Ih4oL0NQAAABAEkAAAI7AwwAGAAAEzUhFRQGIiY9ASMRFAYjIiY1ESMVFAYiJkkB8h4qHWIeFBUeYR4qHQKFh4cVHh4VIv2MFR4eFQJ0IhUeHgAAAQBJAAACOwMMABsAADcRNDYyFhURFBY7ATI2NRE0NjIWFREUBisBIiZJHSoeHhTDFB8dKh5aPsM+WZcCQxQeHhT9vRUdHhQCQxQeHhT9vT5ZWQAAAQBJAAACOwMMABUAABM1NDYyFh0BGwE1NDYyFh0BAwYjIidJHSoelJQdKh7KDSIjDQIltRQeHhSh/oYBeqEUHh4UtP36ICAAAQBJAAACOwMMACsAADcRNDYyFhURFzM+ATcRNDYzMhYVER4BFzM3ETQ2MhYVEQcGKwEiJwYrASInSR0qHhwpAhQGHhUUHgYUAikdHSoeOQ8dYiASFR5hHg96AmAUHh4U/bswAyYKAUMVHR0V/r0KJgMwAkUUHh4U/aBhGSMjGQABAEkAAAI7AwwAIwAANzQ3EwMmNTQ2MzIXGwE2MzIWFRQHAxMWFRQGIyInCwEGIyImSQa4uAYdFR0Pm5oPHRUeB7i4Bx4VHQ+amw8dFR0zDQwBOgE6DA4UHhn++AEIGR4UDA7+xv7GDgsVHhkBCP74GR4AAAEASQAAAjsDDAAZAAATNTQ2MhYdARc3NTQ2MhYdAQcRFAYjIiY1EUkdKh6Ukx4qHsceFBUeAnNnFB4eFES+vkQUHh4UZ/7+vhUeHhUBQgAAAQBIAAACOwMMABMAADcBISImNTQ2MyEVASEyFhUUBiMhSAFo/ssVHR0VAcD+mAE1FR4eFf5BQAJnHhUUHkD9mR4UFR4AAAAAAgBJAAACOwMMABcAGwAANxE0NjMhMhYVFAYrAREzMhYVFAYjISImNzMRI0kdFQGNFR4eFcbGFR4eFf5zFR1kMDAzAqcUHh4UFR79vh4UFR4eRwJCAAAAAAEASQAAAjsDDAAPAAATNDYzMhcBFhUUBiMiJwEmSR0VHQ8BjQceFR0P/nMGAtoUHhn9WQ4LFR4ZAqcMAAIASQAAAjsDDAAXABsAADc0NjsBESMiJjU0NjMhMhYVERQGIyEiJiUzESNJHRXGxhUdHRUBjRUeHhX+cxUdAV0wMDMUHgJCHhUUHh4U/VkVHh5HAkIAAAABAEgAfwI7AmIAFAAANxM2MzIXExYVFAYjIi8BBwYjIiY1SM0NIB4OyAUeFRsOnZ4OGxUdvgGJGxv+gAwJFR4V7OwVHhUAAAABAEn/mwI7AAAADQAAFzQ2MyEyFhUUBiMhIiZJHRUBjRUeHhX+cxUdMhQeHhQVHh4AAAAAAQB6AagCCQMMABAAABM0NjsBMhcTFhUUBiMiJwEmeh4VYxoOywYeFRAQ/tYSAtoUHhP++gsNFR4MAP8PAAAAAAIASQAAAjsCOAAmADQAADc1NDY7ATIXNC4FKwEiJjQ2OwEyFhcTFAYjIiY1BwYrASImNxQWOwE3NTQmKwEiBhVJWD3BGBQBAQMGCxEMuhUdHRW6PVcCDR8VFB1KCg+VPVhlHBSHax8SwRMdljg+WAcHIQ8cDRAGHSoeVTz+ixUdHhQrB1g+FB0/LBIdHRQAAAIASQAAAjsDDAApAEMAADcRNDYyFh0BNjsBMh4FFxYdARQOBA8BBisBIi4BJxUUBiImNxQfARY7ATI+ATc2PQE0LgEnJisBIg8BBhVJHSoeRENLDRgYDhgHGwE1BA4HGgURESk4Sx02HRceKh1lEVYMFEsOFh4CEg0fARUUSxQMVhEzAqcUHh4U4kADCwUTBRcBLkTOEBsaDxoGDw4kFhcVDxUeHsIXDkoMDB4BDhfODhQaARMMSgsaAAAAAQBJAAACOwI4ACYAADc1NDc+AzsBMhYUBisBIg8BBh0BFB8BFjsBMhYVFAYrASIvASZJNAszITof0xUeHhXTFAxWERFWDBTTFR4eFdM5KVY04HhFLQkxGxkeKh0MSgsaeBcPSQweFBUeJEotAAAAAAIASQAAAjsDDAAtAEgAADc1NDY3Njc2OwEyHgQXNTQ2MhYVERQGIiY9AQ4CKwEiLgcnJjcUHgIXFjsBMj8BNj0BNC8BJisBIg4BBwYVSSonBQMpOEsQHhMeCB8CHSoeHiodFx02HksLExMOEQoRBhMCNGUMDRgEDxFLEg5WEhJWDBRLDhcaBBK1zjA7IAQCJAcHFAYcAecUHh4U/VkVHh4VEBYXFgIGBQoGDgURAitHDBYMEwMMDEoNGHgVEEoMDRoDEBYAAAAAAgBJAAACOwI4ADQAQQAANzU0PgE3NjsBMh4GHwEWHQEUBiMhFRQeAhcWMyEyFhUUBiMhIi4HJyY3ITU0JisBIg4BBwYVSSAaHyk4fQoTFAwUBxQECws1HhX+pgwNGAQPEQEFFR4eFf77CxMTDhEKEQYTAjRlASg8Gn0OFh4CEbXOIzwYGiQCBgQMBBECCgouRHwVHh8MFgwTAwweFBUeAgYFCgYOBRECK8tKGjYMHgEOFwAAAQBhAAACIQMMACQAABI0NjsBNTQ2OwEyFhUUBisBIgYdATMyFhQGKwERFAYiJjURIyJhHRUxaEp5FR0dFXkgLWMUHh4UYx0qHjEVAfAqHiJKaB4UFR4tICIeKh3+YBUeHhUBoAAAAAACAEn/LAI7AjgAQgBZAAA3NTQ+CDc2OwEyHgQXNTQ2MhYVERQOBA8BBisBIiY0NjsBMj4BNzY9AQ4CKwEiLgMvASY3FBY7ATI/ATY9ATQvASYrASIOAQcGFUkDAwsEEAQVAxcBKThLEB4THggfAh0qHgQOBxoFEREpONMVHh4V0w4XHAMSFx42HUsPHxIeBxARNGQ7G0sUDFYSElYMFEsPFxgGEuCjCxYQFAoTBhIDEwEkBwcUBhwBEhUeHhX93BAbGg8aBg8OJB0qHg4aAw4XjRUYFwcGFQUPDi1FGzYMSg4XThUQSgwOGAQSFAAAAAABAEkAAAI6AwwAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMCpxQeHhT3PRhVPP6MFR4dFAFzExxp/skVHh4AAgB6AAACCQM2ABoAKgAANzQ2OwERIyImNDY7ATIWFREzMhYVFAYjISImEzU0NjsBMhYdARQGKwEiJnoeFWNjFR4eFZUUHmIVHh4V/tcVHmMeFTIUHh4UMhUeMxQeAW4dKh4eFf5gHhQVHh4CvCoVHR0VKhUeHgAAAgB6/ywCCQM2AB8ALwAAFzQ2MzIeAjsBMjY1ESMiJjQ2OwEyFhURFAYrASImJxM1NDY7ATIWHQEUBisBIiZ6HhUUGAkZFWIUH5UVHh4VxhUeWT5iOFYI+B4VMRUeHhUxFR5NFR4bHxsdFAIRHSoeHhX9vT5YSjUDLyoVHR0VKhUeHgAAAQBJAAACOwMMAB8AADcRNDYyFhURJTYzMhYVFA8BFxYVFAYjIiclBxUUBiImSR0qHgEIDhIVHhLL/RIdFRMP/vcwHiodMwKnFB4eFP5x4QweFRcPrtgPFxUeDOMqkhUeHgAAAAEAegAAAgkDDAAbAAA3NDY7AREjIiY1NDY7ATIWFREzMhYVFAYjISImeh4VYmIVHh4VlRQeYhUeHhX+1xUeMxQeAkIeFRQeHhT9ix4UFR4eAAAAAAEAQQAAAkICOAAuAAA3ETQ2MzIWFzYzMhc3NjMyFhcTFAYjIiYnAyYrAQcRFAYjIiY1ETQrAQcRFAYiJkEdFRAbBSktPSQWISovSAEPHRUUHgEOAg8GRB4UFR4WCEseKh0zAdIVHhQPIzASG0Iv/m8VHh0UAY8TOv6aFR4eFQGKFkH+oRUeHgABAEkAAAI6AjgAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMB0hUeHhUiPRhVPP6MFR4dFAFzExxp/skVHh4AAgBJAAACOwI4ACYAQAAANzU0PgE3NjsBMh4FFxYdARQOBA8BBisBIi4EJyY3FB4CFxY7ATI+ATc2PQE0JisBIg4BBwYVSSAaHyk4fQ0YGA4YBxsBNQQOBxoFEREpOH0QHRQbCxsENGUMDRgEDxF9DhYeAhI8Gn0OFh4CEbXOIzwYGiQDCwUTBRcBLkTOEBsaDxoGDw4kBwcSCBgDK0cMFgwTAwwMHgEOF84aNgweAQ4XAAAAAgBJ/ywCOwJNACwASgAAFxE0NjIWHQE+CDsBMh4BFx4EHQEUDwEGKwEiLgEnFRQGIiYTFB4CFx4CFxY7ATI/ATY9ATQvASYrASIPAQYVSR0qHgITBhIKEg8TFQsVHTcbGQIwDB0KNVYpORUfNyAVHiodZQoKFQMHGBQJDhUVFAxXERFXDBQVFQ5aDqICvRQeHhQbAhQFEQYNBQcCGBUXAikPJiYXoUQuSiQYHBfYFR0dAZIMFQsSAwcZFAgODEoNGKEYDUsMDlsLFwAAAgBJ/ywCOwI4AC0ASAAANzU0Njc2NzY7ATIeBBc1NDYyFhURFAYiJj0BDgIrASIuBycmNxQeAhcWOwEyPwE2PQE0LwEmKwEiDgEHBhVJKicFAyk4SxAeEx4IHwIdKh4eKh0XHTYeSwsTEw4RChEGEwI0ZQwNGAQPEUsSDlYSElYMFEsOFxoEErXOMDsgBAIkBwcUBhwBEhUeHhX9WRUdHRXlFhcWAgYFCgYOBRECK0cMFgwTAwwMSg0YeBUQSgwNGgMQFgAAAAABAEkAAAI7AjgAHwAANxE0NjIWHQE3NjsBMhYdARQGIiY9ATQmKwEHERQGIiZJHSoedwsSYz1ZHiodHRRRph4qHTMB0hUeHhU7ZghZPRwVHR0VHBQdj/7vFR4eAAEASQAAAjoCOAA0AAA3NDYzMhYXHgE7ATI2NTQnJS4BNTQ3NjsBMhcWFRQGIyImKwEiBhUUFwUeAR0BDgErASInJkkcFRImCQIUBMsYGx3+6yIqJSY11kswCh4VEi0T1g0PEAEWJjUBWj+9ST4TXRUdHQMBCSAWIg14D0MnMyQmPw0RFR4rEgsSBngRTS4CP1k1EAABAEkAAAI7AuIAKgAAEjQ2OwE1NDYyFh0BMzIWFAYrAREUFjsBMj4CMzIWHQEOASsBIiY1ESMiSR0VMR0qHsUVHR0VxRwUZBQZCRkUFR4KVTdkPVgxFQHwKh53FR4eFXceKh3+wxQdGx8bHhUINEtZPQE9AAEASQAAAjsCOAAgAAATNDYzMhYVEx4BOwE3ETQ2MhYVERQGIiY9AQcGKwEiJidJHRUUHg0CGxRHpB0qHh4qHWEmKzk8WAICBRUeHRT+jRQbaAE4FR4eFf4uFR4eFSM+GFU7AAABAEkAAAI7AjgAGgAAEzU0NjIWHQEbATU0NjIWHQEUBwMGKwEiJwMmSR0qHpOVHSoeBacNIT8hDacEAbBVFR4eFUr+rQFTShUeHhVVCgr+gh4eAX4IAAAAAQA+AAACRQI4ACsAABM0NjMyFhcTFzc1NDYzMhYdARc3Ez4BMhYdAQMHDgErASIvAQcGKwEiJi8BPh4VFB0BCiBCHhUUHkIgCgEdKB8LMwUbETEdDzc4Dx0xERsFNAIEFR8dFP7dbHJyFB4eFHJybAEjFB0eFAL+yqoQFBlfXxkUELYAAQBJAAACOwI4ACMAADc0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiMiJkkKraEMHhUXEJWUEBcVHgyhrQseFRgPn6APGBUdMxMN0MIPERUeE7OzEx4VEQ/C0A4SFR4SwcESHgAAAQBJ/ywCOwI4ACMAABY0NjsBNyMiJwMmPQE0NjIWHQETMxM1NDYyFh0BFAcBBisBIkkdFWdDFSIMlQQdKh6DIIQeKh4F/vwNIogVtyoemR8BUwgMVRUeHhVK/tQBLEoVHh4VVQoK/a4eAAAAAQBJAAACOwI4ABwAADc1NDcBISImNDYzITIWHQEUBwEhMhYVFAYjISImSQ8BYP7bFR0dFQF1FR4Q/qEBPBUeHhX+cxUdMyoXDQFSHSoeHhUqFRD+rx4UFR4eAAABAEkAAAI7AwwAKgAAEjQ2OwEyNj0BNDY7ATIWFRQGKwEVFAcWHQEzMhYVFAYrASImPQE0JisBIkkdFWEWHT0olBUeHhWUJyeUFR4eFZQoPR4VYRUBcSoeHRW8KTweFBUevDksLDm8HhQVHjwpvBQfAAAAAAIBDwAAAXQDDAAIABEAACURMxEUBiMiJhkBNDYzMhYVEQEPZR4UFR4eFRQeMwEh/t8VHh4BmwEhFB4eFP7fAAABAEkAAAI7AwwAKgAANzQ2OwE1NDcmPQEjIiY1NDY7ATIWHQEUFjsBMhYUBisBIgYdARQGKwEiJkkdFZQnJ5QVHR0VlCk8HRViFR4eFWIVHTwplBUdMxQevDksLDm8HhUUHjwpvBQeHiodHxS8KTweAAAAAAEASQGqAjsDCwAmAAATNTQ2MzIWHQEUFjI2PQE0NjIWHQEUBiMiJyY9ATQmIgYdARQGIiZJXTw6WB0oHR0qHlw9PCssHSgcHiodAgVvQVZYPzQUHx8UbxUeHhVvQVUrLj00FB4eFG8VHR0AAAEAcQAAAmMDDAATAAAzETQ2MhYdATMRIREUBiImPQEjEXEdKh5hASweKh1iATEVHh4VzAKn/s8VHh4VzP1ZAAABAHEAAAJjAwwAFQAANxEhETQ2MhYVERQGIiY1ESERFAYiJnEBjR0qHh4qHf7YHiodMwGGASEUHh4U/VkVHh4VASH+3xUeHgABAHEAAAJjAwwAGAAAExE0NjIWFREhETQ2MhYVESMRFAYjIiY1EXEdKh4BKB0qHsceFBUeAVQBhhQeHhT+3wEhFB4eFP56/t8VHh4VASEAAAEBN/+bAZwEUgADAAAFETMRATdlZQS3+0kAAAABAFf/5wJ8AyUAAwAAFxEhEVcCJRkDPvzCAAAAAQDtAAAB5gD6AA8AADc1NDY7ATIWHQEUBisBIibtHRWVFR0dFZUVHTOUFR4eFZQVHh4AAAEAcQAAAmMDDAAeAAATNDcBNjIfARYdARQHBRUUBiImPQE0NyU1JwUGIyImcREBKg8kD2MSEv7oHiodEQEZMf73DxIVHQHbGA4A/wwMVQ8XVRcQ7+cVHh4V/hkO7yYq4wweAAABAQMBqAHRAwwAEwAAATQ2OwEyFhUUBhUDFAYiJjU0NjUBAyAVYxQiATMfKCEBAtoUHhoSAQQB/wAUHhoSAQQBAAAAAAEA1AAAAf8BZAAUAAATNTQ2OwEyFh0BFAYrASImPQEjIibUHRXHFR0dFTIVHWMVHQEHKhUeHhX+FR4eFaEeAAABAHEBVAJjAbkACwAAEjQ2MyEyFhQGIyEicR0VAY0VHh4V/nMVAXEqHh4qHQAAAAAAAA4ArgABAAAAAAAAAFYArgABAAAAAAABAAQBDwABAAAAAAACAAcBJAABAAAAAAADACEBcAABAAAAAAAEAAUBngABAAAAAAAFAAoBugABAAAAAAAGAAQBzwADAAEECQAAAKwAAAADAAEECQABAAgBBQADAAEECQACAA4BFAADAAEECQADAEIBLAADAAEECQAEAAoBkgADAAEECQAFABQBpAADAAEECQAGAAgBxQBNAGEAdAB0AGgAZQB3ACAAUwBrAGEAbABhACAAKAAyADAAMQAxAC0AMQAyACkAOwAgAGIAYQBzAGUAZAAgAG8AbgAgAGMAbwBkAGUAIABiAHkAIABSAGkAYwBoAGEAcgBkACAAQgAuACAAVwBhAGwAZQBzACAAKAAxADkAOAA4AC0AOAA5ACkAIABhAG4AZAAgAFQAbwByACAATABpAGwAbABxAHYAaQBzAHQAAE1hdHRoZXcgU2thbGEgKDIwMTEtMTIpOyBiYXNlZCBvbiBjb2RlIGJ5IFJpY2hhcmQgQi4gV2FsZXMgKDE5ODgtODkpIGFuZCBUb3IgTGlsbHF2aXN0AABPAEMAUgBBAABPQ1JBAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABGAG8AbgB0AEYAbwByAGcAZQAgADIALgAwACAAOgAgAE8AQwBSACAAQQAgADoAIAAyADcALQA5AC0AMgAwADEAMgAARm9udEZvcmdlIDIuMCA6IE9DUiBBIDogMjctOS0yMDEyAABPAEMAUgAgAEEAAE9DUiBBAABWAGUAcgBzAGkAbwBuACAAMgAgAABWZXJzaW9uIDIgAABPAEMAUgBBAABPQ1JBAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAbAAAAAEAAgADAAQABQAGAAcACAAJALcACwAMAA0ADgAPABAAEQASABMAFAAVABYAFwAYABkAGgAbABwAHQAeAB8AIAAhACIAIwAkACUAJgAnACgAKQAqACsALAAtAC4ALwAwADEAMgAzADQANQA2ADcAOAA5ADoAOwA8AD0APgA/AEAAQQBCALYARABFAEYARwBIAEkASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEBAgEDAQQBBQEGAQcBCAEJAQoBCwd1bmkyNDQwB3VuaTI0NDEHdW5pMjQ0MghTRjExMDAwMAtibGFja3NxdWFyZQpwZXJpb2QuYWx0DHF1ZXN0aW9uLmFsdA9xdW90ZXNpbmdsZS5hbHQJY29tbWEuYWx0Cmh5cGhlbi5hbHQAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQADAGsAAQAEAAAAAgAAAAEAAAAKAEQAogACREZMVAAObGF0bgAkAAQAAAAA//8ABgAAAAEAAgADAAQABQAEAAAAAP//AAYAAAABAAIAAwAEAAUABmFhbHQAJnNzMDEALHNzMDIAMnNzMDMAOHNzMDQAPnNzMDUARAAAAAEAAAAeAAEAAQAcAAEAAgAaAAEAAwAYAAEABAAWAAEABQAAAQAAAAEBAAABAgAAAQMAAAEEAAYADgAWAB4AJgAuADYAAwAAAAEAMAABAAAAAQBkAAEAAAABAGgAAQAAAAEAbAABAAAAAQBwAAEAAAABAHQAAQAuAAUAEAAWABwAIgAoAAIACgBpAAIADwBqAAIAEABrAAIAEQBnAAIAIgBoAAEABQAKAA8AEAARACIAAQAGAFYAAQABABEAAQAGAEYAAQABACIAAQAGAF8AAQABAAoAAQAGAFsAAQABAA8AAQAGAFsAAQABABAAAQAAAAoALAAuAAJERkxUAA5sYXRuABgABAAAAAD//wAAAAQAAAAA//8AAAAAAAAAAAABAAAAAMw9os8AAAAA1gbbzAAAAADaAyOv");r1.loadFont("OCR-B",96,100,"AAEAAAAPAIAAAwBwRkZUTXxHn14AADmUAAAAHEdERUYAkwAEAAA4IAAAACBHUE9TuP+4/gAAOWQAAAAwR1NVQnZYZVQAADhAAAABJE9TLzJa+GPlAAABeAAAAGBjbWFwzJGg2QAAA2QAAAFCZ2FzcP//AAMAADgYAAAACGdseWbm+CwyAAAFeAAALwRoZWFkFgqHXQAAAPwAAAA2aGhlYQeFAeAAAAE0AAAAJGhtdHgIFCYVAAAB2AAAAYpsb2NhZAZYlAAABKgAAADObWF4cACtAGkAAAFYAAAAIG5hbWWukZg3AAA0fAAAAnlwb3N0tfQXywAANvgAAAEdAAEAAAACAADO4NltXw889QALA+gAAAAA2gMiKgAAAADaAyIqAA7/GQLWAwsAAAAIAAIAAAAAAAAAAQAABFL+sABaAtMAAP/9AtYAAQAAAAAAAAAAAAAAAAAAAF8AAQAAAGYAZgAFAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAsMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAAK8AAABoAAAAAAAAAABQZkVkAEAAIAB+AyD/OABaBFIBUAAAAAEAAAAAAiAC+QAAACAAAQLTAAAAAAAAAtMAAALTAAAC0wD1AtMAdALTAEQCvwA/Ar8APwLTAEQC0wDnAtMA0wLTAIgC0wBEAtMARALTAHIC0wBEAtMAxALTAIACvwA/AskAXgK/AFACvwA/Ar8APwK/AFkCvwA/Ar8APwK/AD8CvwA/AtMA1gLTAG8C0wBBAtMARALTAEEC0wBgAtMARAK/AEUCvwA/Ar8AbwK/AHICvwBtAr8AoAK/AEcCvwBbAr8AeAK/AFACvwBNAr8AWwK/AD8CvwBNAr8AQgK/AFsCvwBBAr8AZwK/AGECvwA/Ar8ATQK/AD4CvwA/Ar8AUwK/AFYCvwBbAtMApQLTAIAC0wBVAtMARALTAEQC0wC2Ar8ATQK/AEoCvwB1Ar8APwK/AE0CvwBhAr8AQgK/AGoCyQCDAskAZwK/AHsCyQDLAr8APwK/AE0CvwA/Ar8ASgK/AD8CvwCaAr8AZwK/AE0CvwBNAr8AQgK/AEECvwBhAr8APwK/AGEC0wBEAQwARABSAnICBgG2AA4AAAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAAB+//8AAAAg////4wABAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALABiAMYBUAG6AkICYgKMArQC8gMaAzoDVgNwA5QEEgQ2BIgE2AUSBVYFngXSBjQGegaoBtwHDAcyB1oHxAhUCIQI2glACXgJrAnaCjQKYgqYCswLAgskC2QLlgvuDB4MgAzODUQNbA2eDcgOEg5ODoAOsg7WDvoPHA9ED2APgg/eECoQaBCyEPgRLBGUEdISAhJOEoASqBLyEygTVhOiE+gUIhSYFN4VGBVGFYYVvBXyFiAWbBaEFs4XDhcmF0QXaheCAAAAAgD1/7wBfQL9AA8AGwAAFzU0NjsBMhYdARQGKwEiJhMRNDYyFhURFAYiJvUbEi4SGxsSLhIbFxskGxomGhcuEhsbEi4SGxsBcgGHExobEv55EhsaAAAAAAIAdAHHAgkC/QASACMAABM1NDY7ATIXFhUwFQ8BDgEjIiYlNTQ2OwEyFxYdAQcOASMiJnQbEh0SDg4BHQIZEhEcASQbEhcRDg4ZBBYREhsB9NwSGw0MDwEC5BAXGxLcExoNDBAE5RAUGwAAAAIARP/4Ai4DAABEAEgAADc0NjsBNyMiJjQ2OwE3PgEzMhcWFQczNzYzMhYdAQcXHgEVFAYrAQczMhYUBisBBw4BIyImPQE3IwcOASMiJyY1NycuATczNyNEGhMVJicSGxoTOygDGRASDQ4liCgNHxIbIwUQFxsSFCUlExobEjopAxoPEhskhykDGRASDQ4mBRIXnoglh/4TGqcaJhqxDhUODhCosSMaEwqcAQMZERIbpxskG7YOFRsSCqK2DxQODRGsAQIaPqcAAwA///sCHwL9AEcAWABfAAA3JjU0NjMyFxYXFhczNScuAScuAjU0NzY/ATU0NjIWHQEXFhcxFhUUBiMiJyYvARUXFhcWFx4BFRQHBg8BFRQGIiY9ASMmJxMGFRQXFhcWFxYXHgIfATUTNzY1NC8BQQIbEhYVFwwYLQUEIS4cGyIWNjZSBBoiGgRpOAkbEhcOITUGBCwcHR8fHjc3UwQaIhoFlSi8YwMECAgFBgwMChwCB1YGZWQHoAUMExodIQYNBNwBChEPDyQ2IkwqKwoBCRMaGxIJAQ5SDA4SGhMsCwHFAQ4MDBYVPytNMDENAQYSGxoTBw1kAcoORQsKCggHBQUGBgUKAQKq/iABFEo8JAIAAAAABQA///gCHwMAAA0AHAAoADcARwAAJSIVFBcWHwEzMjc2NTQHJjU0NzYzMhcWFAcGIyIDIhUUFzsBMjc2NTQHJjU0NzYzMhcWFAcGIyICJjU0NwE2MzIWFRQHAQYjAaIhBQUOAQgRCQl6HyAfNzogICAgOjiuIxgBChEJB3wgISA6Nx8fHx83OycbBgGMDRQSGwb+exAYtTIPDxABAhAPEjKVKDg5KyspKXIqKQKuMikIEA8SMpUoODkrKykqcikp/hQbEw0JAq0MGxIMCv1dFwAAAAADAET/9wIuAwAAQgBOAFwAADc0PwEnJjU0NzYzMhcWFRQHDgEHDgIPARc3NjU0NjIWFRQPARcWFx4BFxYVFAYjIicmJyYnJicmJyYvAQcGKwEuATcUFzMyPwEnBwYHBhMUHwE3Njc2NTQnJiMiRF8EA0Q1NVhKNTQJChQYFxY+BASXBBUcJBs3AgICBwcHAwMbEgYFBgQDBAUCAQUGAQMEPlEGYnVafwYwKAShBRwPEBwwAwRMHiAcGyJozXJUAwRdVVQwMCgmRBsaGyMXGBMuAwPSCDRFExscEnxTAwIFCAgKCQgIEhsCAgEBBQUCAQcIAgICJwFyYnkCFwLhBB0bGwFXOEQEAzYlJx0eDgwAAAEA5wGIAY0C/QASAAATNDY7AR4BFTAVBwMGKwEiJyYn5xsSURAXARUIJCISDQ0BAtATGgIZDwEB/twlCwoRAAABANP/+AHpAwAAGQAAEzU2NzYzMhYVFAcGBwYHFRQXFhUUBiMiJybTA80LDhIbFE4sLQGoFBsSDgvQAXMG8I8IGhMXDjNKS20FvmsOGBMaB4wAAAABAIj/+AGfAwAAGAAANzQ3NjU0LwEmJyY1NDYzMhcWFRQHBiMiJogUqakBBwYGGxIOC9HRCw4SGyUYDm7AwnMBAgwMChIbCJDv7I4HGwAAAAEARACeAi4ChQAqAAATNDc2Mxc1NDYyFh0BNzE2MzIWFRQPARcWFRQGIyIvAQcGIyImNTQ/AScmRA4OEZsbJBuNBggSGyB6UAUaExQMV3AMFBMaCV6MHwG+Eg8OM54TGhsSni4DGxIgCymICwwTGguWlgsbEg0Ofy4MAAABAEQAagIuAo0AGwAAEjQ2OwE1NDYyFh0BMzIWFAYrARUUBiImPQEjIkQbEpsaJhqbEhsbEpsbJBubEgFpJhq3ExobErcbJBu4EhsaE7gAAAEAcv9NAeYAygASAAAXNDcTNjsBMhYdARQHAwYrASImcgWyDBVvEhsN/gwUHBMahgwKAS4MGhMfEwz++w0aAAABAEQBQQIuAbcADwAAEzU0NjMhMhYdARQGIyEiJkQaEwGQExoaE/5wExoBbhwTGhsSHBIbGgAAAAEAxP/7Aa0AtgAPAAA3NTQ2OwEyFh0BFAYrASImxBsSjxIbGxKPEhsoYRIbGhNhExobAAABAID/+AHyAwAAEwAANzQ3MwE+ATMyFhUUByMBDgEjIiaAAwEBGAQYDRIbAwH+6AQYDRIbJQoHAq4MEBsSCgf9UgwQGgAAAAACAD//+AIfAv8AJQBUAAAFIyYnLgEnJicmNTQ2Nz4BNz4CMzIeARceARceARUUDgUDFRQWFxYXHgE7ATI2Nz4BNz4BPQE0JicmJyYnJicmJyYnLgEjIg4CBw4BBw4BATMEOywsNA8QBQUDBgYVEhIySC4tSDITEhUGBgMEDRQmMEbFBQkIEBA4KBUcLA0OEgQFAwEBAQMDBQUICAsMDg8nGBknHhcICAoCAgMIARMSOy8vMC9AOVEvMEEhICYYGCYgIUIvL1I4KEFMOTYkFgGwUi1AJSUXGB8XFhUxHyA0Hy4fJRwdEBEXFw4ODw8ICQoLFB0SESkXFi8AAAABAF7/+wGMAv0AFQAAEiY1ND8BNjsBMhYVERQGIiY1EQcGI3gaDbcNECASGxskG4kNEQIJGxIVCp0LGxL9WBIbGhMCYXULAAABAFAABgILAwAANwAAEiY1NDc2MzIXFhUUBw4BBw4BBw4BBwYHBgcVITIWFAYjISImPQE0NzY3Njc2NzY1NCcmIyIHBiNrGxNbcVs9Pg0NISAgISMmIhgYCwsCASgTGhsS/qoSGwoRLy9EXhkcJSM0Wj4LDwJyGxEZDTw6OV0lIiMsGxsYFxkaGhkgHysFGyQbGxIVTiI8LzAuPyQkKDUhICwIAAEAP//4AhYC/AA3AAA3JjU0NjMyFxYzMjc2NzU0JyYnJiMiJjU0PwEhIiY0NjMhMhYdARQPARcWFxYdAQYHBiMiJyYnJlQVGxIGC0BGTDQ1BCAeLCs1ERoJuP7nEhsaEwFhEhsOoQhVNjUFUE5wHBwcIyMeEBgTGwQdJidKCjMkIw8OGxMSCswbJhobEiQQDrECFjs7WRBtQEADAwcIAAABAD//+wIfAv0AKAAANiY9ATQ3Ez4BMzIWFRQHAzM1NDYyFxYdATMyFhQGKwEVFAcGIiY9ASNaGwXVBBYMEhoFyMMaIg0OOhMaGxI6Dg0iGvWpGhMrCAsBzwsPGxIKCf5GeRIbDg0SeRskG4ESDQ4bEoEAAAIAWf/4AfcC/AAqAC0AABYmNDYzMjc2NTQnJiMiByMiJj0BEz4BMyEyFhQGKwEHMzIXFhUUBwYHBiMSIjN0GxsSyjsSIi1xHyAEEhsOAhkSARwTGhsS8ggTf01OFxgkYL4YAQEIGicacSIfSSU1AxkSAwD/EhgbJBydQUB+NS4vIVoBrQAAAAACAD//+AIfAv0AHwAvAAA3Jic1NDc2Nz4BNzYzMhYVFAcGDwE3NjMyFxYVFAcGIgMGFRQXFjMyNzY1NCcmIyKFQwNFHCgnNjILFBEaC3E1BwsdHm1BQkRE0AYoKilDQikrJyZJRzlBawx9ci80NT85DRsSEQ6ATQoCBkRFdGlCQgFkK0xEKCcoKENOKisAAAABAD//+wIfAvwAHwAAEiY0NjMhMhYVFAcGBwYHBhUUBiImNTQ3Njc2NzY/ASFaGxoTAYYTGjsSNDQWQRoiGkwXNDURGAkC/q8CoRsmGhsSTFkcQUIpeMETGxoU2o0pRUYaKBQHAAAAAAMAP//3Ah8DAAAVACQAQgAAEwYVFBYXHgEXOwE2NzY3PgE1NCcmIhMGFRQXFjsBMjc2NTQvAQMmNTQ/AScmNTQ3NjMyFxYVFAcGDwEXFhUUBgcjIuEmEhUUGxwCAhwODhQUEiYlUimXLSpAFDUmJ5ICrUWOBgZsQD9PTkBAHB0zBgaOdFIqZwKSFCYZJhAPEA4NCAgPECcZJhQU/s9PXjgfHyMjMF9OAv67Olx5YgQEQmtJLzAwMEg7KSghBARieU96BwACAD//+wIfAwAADwAtAAATBhUUFxYzMjc2NTQnJiMiAyY1NDc2MzIXFhUUBwYHBgcGIyImNDc2PwEHBiMixSwqKER3FQoqKUM/bURIRmJlRUYVFSZTeA0PERoOX0QFChogagJ1MENBKShJIShLLC3+tENlaEtLRkZyRzk5QpFvDBomDltuCgIEAAAAAAIA1v/7AZwCEAAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm1hsSbBIbGxJsEhsbEmwSGxoTbBMaKFATGhsSUBIbGgF+UBMaGxJQEhsaAAAAAgBv/1IBswIQABIAIgAAFzQ/ATM2OwEyFhUUBwMGKwEiJhM1NDY7ATIWHQEUBisBIiZvA3wBCR9vEhsBzA4RKxIbexsSbBIbGhNsExqBDAf9GRsSDgP+9Q0aAidQExobElASGxoAAAABAEEARQIuArMAHQAAEy4BJyYnLgE1NDcBMDE2MzIWFRQHDQEWFRQGIyInTwEGAQECAQIOAZkLDhIbDf6hAV8NGxIOCwFcAQUBAgMECAcREAEPCBsSFwnq6g4SEhsIAAACAEQA3QIuAhsACwAXAAA2NDYzITIWFAYjISImNDYzITIWFAYjISJEGxIBkBIbGhP+cBMaGhMBkBMaGxL+cBL3JhobJBv+JhobJBsAAQBBAEUCLgKzABcAAAkBBiMiJjU0Ny0BJjU0NjMyFzAxARYVFAIg/mcLDhIbDQFf/qENGxIOCwGZDgFc/vEIGxISDurqCRcSGwj+8RAREgACAGD/vAH1AwEAOQBLAAATNTQ2NzYzMhcWHQEOAQcGBwYHBhUUBwYiJjU0NzY3Njc2NzY3NjU0JyMiJyYrAgYdARQHBiMiJyYTNTQ2OwEyFh0BFAcGKwEiJyZgPi8vNlA6OQEsHwcUFgkJDg0kGwoKCwwUFQgSEBFTAQUICgQDAW4NDRMSDQ2UGxIuEhsODRIuEg0OAjQMPFsVFTAwWAIxZCMIExQOCwsUDw8dFRoYFw4OFBUKEyIiG0IVAQIOUgkUDw4ODv3MMRUdHRUxFA8PDw8AAAIARP/yAi4DBABKAGUAADc1NDcyHwE3NjMyFxYVERY7ATY3Njc+AT0BNCYnLgEnJicmKwEGBw4BIyInJj0BNjc2NzMyFhcWFx4BHQEUBwYHBiMiLwEHBisBJjcUFxYXHgEXMzI3Njc9AiYnJiMiBwYHDgEVRIgvJwUCDhkSDQ4CHAETDQwEBQMDBQUXEBEbGyMJggsCGRETDQ0MPT9eCTpZGxsREQ0KCiMmNzYdAwQrPQiMWgEBBQQYEwYcEQ8NDRcXHBALCgMEAtIB7wIdAwUYDw8T/vk2AQwNFhUmHZgqPyYlNBcYDAwGVxIYDg8VB1ItLgMqIyM1NXBGfFsxMCInJgQDKAXWGw8QFBUVAREQHQGMARoTFAwMFhQiGAAAAAIARf/1AhoC9gAZABwAABYmPQETPgE7ATIWFxMUBwYjIiYvASMHDgEjEwMzYBufBBgOQg0XA6MODhIPGQMtyywDGQ+9T54LHRUOAp4OFREM/U0TDw8VD8PDDxUCov6qAAMAPwAGAh8C/QAhACsAOQAANiY1ETQ3NjsBMhcWFxYXHgEVFA8BFx4BHQEUBgcGBwYrARMVNzI9ASYnJiMDFRcyPQEmJyYnJicmI1obDQ0TpyQVFR4dFiwyOgQEIicnJCUvLz6nLXqyASspQZaWiAMODRgYGRkkBh0VApIWDw4BAgcIDRxiOVo4BAQeWDACMlkfHwsLAVr1AXwBPh0cATrVAWMLIRUWCwoDBAABAG//8gHwAwsARQAAEyYnNTQ2NzY3Njc2NzMyFxYXFRQHBiMiJyYnJicwMSYrAQYRFR4BFxYXFhceATMyNzY3PgEzMhcWHQEGBwYjIicmJyYnJnYGAQ0QERkYJyQvBTsuLQ0NDRITCQsICQsVHQWBAQQFBAoJDg4tHBwTFgQDGRASDQ0KLS09MiUoGBkREQD/NT8OQGw0MyUkFhYCJiY9ChQPDw0NFRYKEgf+6RIlOiMkGhoXFxoPDxoSFw8PFAo8JiYVFSQkMzMAAAACAHIABgIFAv4AFAAhAAA3JjURNDc2MzIXFhcWFRQHBgcGIyITJxE3Njc2NTQnJicmgA4NDRNmQ0M1RUhGayJLEkUGBmU5OyEgMysVDxUCkxQPDyssTmiFi19eFwcCkQH91AELQUB1UkFAKyQAAAAAAQBtAAYCEwL7ACIAADYmNRE0NzYzITIXFhQGIyEVMzIXFhQHBisBFSEyFxYUBiMhiBsNDRMBTBMNDRsS/uHvEg0ODQ0T7wEfEw0NGxL+tAYdFQKRFQ8ODg8qHdQPDykPDvUODyodAAABAKD/9QICAvoAHgAANyY1ETQ3NjMhMhcWFAYrARUzMhcWFAcGKwERFAcGIq4ODQ0TAQgTDQ0bEtuuEg0ODg0Srg4NJAQPFQKgFA8PDg8qHdQPDygPD/7KFQ8PAAEAR//xAg4DCAA+AAA3Jj0BNDc2NzYzMhcWFxYVFAYjIicmIyIHBgcGFRQXHgEzMj8BNSMiJyY0NjsBMhYVERQHDgEHDgEHBiMiJyZeFxcXLEZeExNYNwsbEhQOK0M+Kh8PEBwSTDUuMgNyEgwNGhGfEhsHCBIREhEQLC5sQivEV2MDYVNUME8DEEgOExQdETYxJD4+SWlYODoUAckODykdHRX+6Q4LDA4ICAYFDk0wAAAAAAEAW//1AgIDBAAdAAAWJjURNDc2MhYVETMRNDc2MhYVERQGIiY1ESMRFAZ2Gw4NJBvzDg0kGxskG/MbCx0VAqoVDw8dFv7lARsVDw8dFv1WFR0dFQEt/tMVHQAAAQB4AAYB5gL6ACMAADcmNDc2OwERIyInJjQ3NjsBMhcWFAcGKwERMzIXFhQHBiMhIoYODQ0TYEwSDQ4NDRPsEw0NDg0STGATDQ0ODRL+7BIVDykPDgIsDw8oDw8PDygPD/3UDg8pDw8AAAAAAQBQ//ABpQMHACMAADYmNTQzMhcWHQEGFRQXFjMyNzY1ETQ2MhYVERQXFBUUBiMiJ4Y2MBMMDQIcGiAeFRcbJBsBZ0EpJyBXN04ODxUKDAQpGhoYGS0CJBUdHRX95wMFBAJMchcAAAABAE3/9QIfAwcAHwAANyY1ETQ2MhYVEQE2MhYUBwMBFhUUBwYjIicBERQHBiJbDhskGwEUDiQbDvwBEw4ODRITDf7VDg0kBA8VAq0VHR0U/ucBOw8dKRD+3P6+ERIVDw8OAVv+yRQPDwAAAAABAFsACwIfAwcAEwAANyY1ETQ2MhYVESEyFxYUBwYjISJpDhskGwE9Ew0NDg0S/pYSGg8UApkUHR0U/ZkPDygPDwAAAAEAP//1Ah8DBAAoAAAWJjURNDY7ATIXFhcbAT4BOwEyFxYVERQGIiY1EQMGBwYjIiYnAxEUBlobGxJNDgwLBE1NAxgOTRINDhskG2wGCwoPDhcEbRsLHRUCqhYdCgsO/uUBGw4VDw8V/VYVHR0UAmv+cxAKChQPAY79lRQdAAAAAQBN//UCEQMIAB8AADcmNRE0NjsBMhYXExE0NjIWFREUBwYrASInAxEUBwYiWw4bEiUMFwXwGyQbDg0SJhwM7w4NJAQPFQKtFR0PDf3JAiMUHR0V/VMVDw8bAjf93xQPDwAAAAIAQv/yAhwDBwAeADkAADYmPQE0PgE3Njc2MzIXFhceAR0BFAYHBgcGIyInJicSBh0BFBYXFhcWMjc2Nz4BNTQmJyYnJiIHBgdkIhEmHRsoJy81LS4eHiEhHR4uLTY1LS4eLBESEREdHkgeHREREhERER0eSh8dEKuLRwM2bWcnJxcYIiE4OItJA0eLOjkjIyMjOQGdYSwELmItLx4fHx4vLWMtMWQtLR0dHh4vAAAAAgBb//UCHwL8ABUAHwAANyY1ETQ3NjsBMhcWFRQHBisBERQGIhMVMzI3NTQnJiNpDg0NE6hoQ0QmPYx7GyQ/e5AFKSdFBA8VAqEVDw85OWxRNVj+6BYdAqP1dAdEGxsAAgBB//UCHwMIACMAQwAANyY9ATQ3Njc2OwEyFxYXHgEVFA8BFxYVFAYjIi8BBwYjIicmEgYdARAzMj8BJyY1NDc2MzIfATc2NTQnJicmIyIHBgdfHh4ZMzFBCDYrKxsbHTACQwocEhYKOAQ1Oz03OTIMhSAeBGAKDQwRFwpRAxQPDyEiLiUbGw3DUYMDgk1BLy8fHzU1gUeMZAJfDxEUHg5SBC4uLwGzTS0D/tgZA4sPEBQPDw52CkFLRjs8KSkWFSUAAAIAZ//1AggC+AAkADEAABYmNRE0NzY7ARYXFhcWFxYHBgcGDwETFhUUBwYjIicDIxEUBwYTFTcyNzY3NjU0JyYjghsNDROfKiMkHx4REQEBICFCBYoFDg0SFgueWw4NG242GhoKCiUiOAsdFQKeFg8OAQoLFRUnJjRfOjobAv77ChEUDw8NAT7+6BUPDwKk9QIaGRwcLDAWFgAAAAEAYf/wAf0DBwBRAAA3Jic1NDYzMhYXFhcWMzI3NjU0JyYnLgEnLgInJicmJyYnJjU0NzY3MzIXFhcWFRQHBiInJicmJyYjIgcGFRQXFhcWFx4BFx4CFRQGBwYjIqU6ChsSERoCBiEfKTAlJAcHDg0WEw45IhoaDxAQDwgHPDxPBkcyNBECDQ0mCwwJCgobMC0jJBUTJBAjIyceHSEXZksSEkkiMk0IFB0YEi0YGCAcOxgUEw4OEQoIHxUQERARFxcdHCNSNTYCJydDCAQUDw4NDhUYChoZGSotGBgUCxITFxcWLUQpVXQOAwAAAQA///UCHwL4ABgAABMmNDc2MyEyFxYUBwYrAREUBwYiJjURIyJNDg0NEwGGEw0NDg0SmA0NIhqYEgKiDyoPDg8PKQ8P/ZQUDw8dFQJsAAABAE3/8gIRAwgAIAAANyY1ETQ2MhYVERQXFjMyNzY1ETQ2MhYVERQHBgcGIicmZRgbJBsyHzc+JCYbJBsYGCw1ojUscDY9AfMVHR0V/g1RJhcmJkEB8xUdHRX+Dj02NiAoKCAAAQA+//UCIAMGABgAADcDNDc2MzIWFxsBPgEzMhcWFQMOASsBIibjpQ4OEg8ZA5iXBhcPEg4OpwMYDkIOGhkCvBQODxUO/YACgA8UDw8T/UQPFRYAAQA///QCHwMFAC8AADcmAzU0NjIXFhcSHwE3NjsBMhcWHwE3NhM0NjMyFh0BAgMOAQcjIi8BBwYrASInJn4xDhskDQ0BCxgDPwsdEQ4LDAQ+AxkKHBIRHA4yAxkQBTQNPj8KIBsRDAwb9AHFAhQbDg8U/r+4GfUhCgsO6xjBATEUHR0TAv5G/wAOFgEw6/giCwsAAAEAU//1AgsDBgAlAAAWJj0BNDcTAyY1NDYzMhcbATYzMhcWFRQHAxMWFRQGIyInCwEGI24bBaCaBRsSFAyJgRMVEg0OBZqgBRsSFQ2NhxIWCx0VAQ8KAUYBMgwOFh0N/u0BBRsPDxUODP7O/roKDxUdDQEj/ukaAAEAVv/0AggC+QAeAAATJjU0NjMyFxsBMz4BMzIXFhUUBxUDERQGIiY1EQMwWwUbEhkPhIQBAxgMEg0OBakaIhqpArAIDxUdG/7rARULEA8PFA8IAf6l/tEUHR0UAS8BWwAAAAABAFsABgICAv4AHgAANyY1NDcBIyInJjQ3NjMhMhcWFRQHASEyFxYUBiMhImkOBQEL4BINDg0NEwEoEg0OBf73AQMTDQ0bEv6zEhUPFA4KAkkPDykPDw8QFA0K/bcPDyodAAAAAQCl//gCHQMAABUAADcRNDYzITIWFAYrAREzMhYUBiMhIialGxIBHhIbGhPx8RIbGxL+4hIbJQKuEhsbJBv9rBskGxsAAAAAAQCA//gB8gMAABQAABM0NjMyFhcBMDMWFRQGIyInATAjJoAbEgwZBAEYAQMbEh4L/ugBAwLTExoQDP1SBwoSGxwCrgcAAAAAAQBV//gBzQMAABUAADY0NjsBESMiJjQ2MyEyFhURFAYjISJVGxLx8RMaGxIBHhIbGxL+4hITJBsCVBskGxsS/VISGwABAEQBdAIuAvsAGAAAEzU0NxM2NzIXEzAxFhUUBiMiLwEHBiMiJkQHzg8QGAnNCBsSEw2pqAwTEhsBoQoOCwErCgEM/swLDhIbDbKyDRoAAAEARP8ZAi7/kAAPAAAXNDYzITIWHQEUBiMhIiY1RBsSAZASGxsS/nASG50TGhsSHRIbGhMAAAAAAQC2AgcBuQMAABIAAAEnJjU0PwE2MzIfAhYUBwYjIgFvqRALDw0XDgoDnwsLDRURAhGODRUQDRIQCQKmDh4NDwAAAAACAE3/7wH6AiAADQA/AAAlIhUUFxYXMzI/ATUjJgcmNTQ3Njc2NzY3PgE7AScmJyYjIgcGIyImNTQ3NjMyFxYVERQGIiY9AQcGIyIjJiMmAVixHRodCFZGAQUr7zQNDBkaHR0pKUQyBgEGGRo5PC4MEBMaEU9TWzU8GyQbCERPAgYFBD/3YCEVFQJ6ATAC1C9FKh8fExMMDQYGBAY/GRonCRoTFg06MjpY/sUSHBoTEwc9AQUAAAAAAgBK//ACHwMFAB4AMgAAFiY1ETQ2MhYdATc2MzIXHgEXFRQHBiMiJyYvARUUBjcVFhcWMzI3Nj0BJicmIyIHBg8BZRsbJBsIQkoYIE9fATo5aBEIRDsIGxsUKysxJSFAAiUlNxsdQCUBDRsTArcSGxoT+QY2CBV/XweBVVMBBzAGDhMa0gExJSUXLYgJQDIzDh9NAQAAAAABAHX/7gHwAhoAKgAANyY1NDc2MzIXFhcWFxUUBiMiJyYjIgcGFRQzMjc2Nz4BMzIWHQEGBwYjIuVwNTVjExQwIyMLGRMfDAw+JRg9bBIPMQsDGRASGg4yNDwwBz7NeElHAwYbGyoLExokIw0fgsoEDCsOFRsSCzckJQAAAgA///ECEwMFAB4AMQAANyY1NDc2NzYzMh8BNTQ2MhYVERQGIiYvAQcGIyInJhMGFRQXFjMyNzY3PQImJyYjImwtLy5RHBhKRggbJBsbJBoBAQc/TxocVUA/IiI9HB5MGRUpKTAoVEpvZkVEFwg1BvgSGxoT/UkUGhoRCgYxBhQBnCxuTzs8DiBQAYUBLyMjAAAAAAIATf/xAhECIAAkAC0AADcmNTQ3NjczMhcWFRQGIyEXFhcWMzI3Njc2MzIWFRQHBiMiJyYTByEnJicmIyJ2KT49ZgZoOjsbEv7EAQclJEMREh4UDBITGy0tPzMmTA8CAQQBCxwcPGNgSmhzTUwCR0dzEhwGSyssAwQVDRoTKxQVDRoBOgcGPBwdAAAAAQBh//MB/QMCACMAABImNDY7ATU0MzIWFAYjIgcGBwYdATMyFhQGKwETFAYiJjUDI3saGxJxzhIbGxIsICAJBHwSGxsSfAYaIhoFcQG7GyQbDt8bJBsPECINNw4bJBv+ZhIcGxMBmgACAEL/QgIGAhsANABJAAA3JjU0NzYzMhcWHwE3PgEzMhYVERUWHQEUBwYjIicmJyMmNTQ2MzIXFhcWMzI3Nj0BBwYjIhMGFRQXFjMyNjc2NzY/AT0BJicjIns5OjlmDwg/MgcBARsREhsBOzxhTjAwFQEDGxIUEBEKFkVbGAoIPlJfCCAfHjocMRISDAsPAStVDUJbR2t4S0sBBikGChEYGxP+UQEJDBdeNzcTEzEHCxMaFRgFCjgXLDsHNwF8L09CLC0UFBMQEBkCVgF3BgAAAQBq//MB9AMFACkAABYmNRE0NjIWHQE3NjMyFxYXFh0BFAYiJjURNCc0Jy4CIyIHBg8BERQGhRsbJBsIOUo4KioPChskGwEEBBAdFTEgHxoBGw0aFAK3ExobEvUHMSMjNyVb/RIcHBIBCxsRERUXGRMhHzMB/tQSHAAAAAIAg//zAZQDBQAQACAAABImNDY7ATIWFREUBiImNREjNiY9ATQ2OwEyFh0BFAYrAZ4bGhO0ExobJBuHeBsbEi0SGxsSLQGoGyQbGhP+SxMaGxIBiNUaEy4TGhoTLhMaAAIAZ/9JAZQDBAAPADQAAAAmPQE0NjsBMhYdARQGKwEDIj0BNDc2MzIXFjMyNzY3NjURIyImNDY7ATIWFREUBwYHBgcGASgbGxItEhsbEi10Xw4PFQQQEAoICD0UCmUSGxoTkhMaERMdHSciAnwaEy4TGhoTLhMa/M0uCREKCwECAQQtFkkBdBskGxsS/lJVJCUbGgYFAAAAAQB7//MCBQMFACEAABYmNRE0NjIWFREzNzM2MzIWFRQPARcWFRQGIyIvASMVFAaWGxskGwq7AQ0REhsOqssMGxIVC9kKGw0aFAK3ExobEv6Asg4cEhQNpOUOERIcDfTUEhsAAAEAy//5AfADBQAYAAA3JjUTNDYzMhYVAxQXFhcWMzIWFAYjIicm9CkGGhMSGwcQES8PQBIbGxJTMC48N28B9RMbGxP+Cj8iJAcCGyQbDQ4AAQA///MCHwIbADIAABYmNRE0NjMyHwE3NjMyHwE3NjMyFhURFAYiJjURJiMiBwYVERQGIiY1ESYjIgcGFREUBlobGxIXDgMEIig4JAMEKTQ2RxskGwIhHxUUGiIaAiAgFRQbDRsTAckTGxUEAxktBQUtTzX+ihIcGxMBbzEvLif+5BIcGxMBbzEwLib+5BIcAAAAAAEATf/zAhECGwAjAAAWJjURNDYyFh0BNzYzMhcWHQEUBiImNRE0JyYjIgcGBxURFAZoGxskGwhDWGUxMRskGxcXPzsoKBgbDRwSAckSGxoSFAc9Q0N3/RIcGxMA/08oKiopOwH+7xIcAAAAAAIAP//wAh8CIAAPABsAADcmNTQ3NjMyFxYVFAcGIyIDBhQXFjI3NjQnJiKAQUFAb2xCQkJBbW4BJycmkiYnJyeQPk96e09PT1B6eU9PAaA2pjU1NTWmNjYAAAAAAgBK/0gCHwIbABUAMwAANxcWMzI3NjU0JyYjIgciIzEGBwYHFQImNRE0NjIWHQE3NjMyFxYXFhUUBwYrASYvARUUBqQBPlQPFWohIUQDBAMDLyUlFUAaGyQbCD5LGSFWLS09PGkRRjoIGssBgAUdlVQ2NwEDJCMvAf4BGxICdRMbGhMLBzQIFkZHb3dNTQQxB7cTGgAAAAACAD//SAITAhsAHAAvAAA3JjU0NzYzMh8BNTQ2MhYVERQGIiY9AQcGIyInJhMGFRQXFjMyNzY3PQImJyYjIm0uryEZSz4IGyQbGiYaCD5OHBtTPT8jIzwZIEIjFygpMSNQRmvmLAg0BwsSGxsT/YsTGhsStgc0BxMBoCiBSzY4DR1VAX0BMiQlAAAAAAEAmv/zAg4CGwAnAAAWJjURNDYzMhYdATc2MzIWFxQGIiYnNCcjIicmIgcGKwEGBwYdARQGtRsbEhMaCDdPPE8BGyQaASMBAgQFBwcGAwE3ICIbDRwSAckSGxkTCwc0TTgTGxoSIggBAgIBCTg3QOUTGwAAAQBn//AB/QIgAFEAADcmNTQ2MzIXFhcWMzI3NjU0JyYnJicuAicuAScmJyYnJjU0NzY7ARYXFhcWFRQGIyImJyYnIyIHBgcGFRQXFhceARcWFxYXFhcWFRQHBgcjImwFGxITEhUJITIwIyYPDgwKFgs5GhkaGRISCQgHBzg4Uh02LC0MAhsSEBkDCEAZGxMUEhQ+Dx8gIhwdDxAREQcHOjxYCYVFCA8TGhUYBBESEyYTDg0EBQYDDwgJCQ8ODg8OFhUZTiUmAxsbLwkDEhsTDiIEAwIODxswEgQHCAsKCQwLEREWFx1SJygCAAABAE3/8wHjAqYAMQAAEiY0NjsBNzQ2MhYVBzMyFhQGKwEHFBUWFx4COwEyNzYzMhYVFAcGIyInJicmPQE3I2gbGxJSARkkGAKWEhsbEpcDAQMEDRsUAhAcGw0SGyMlNCofLxQUA1ABshslG2wUGRsSbBwkHO0aDQwTExENCgobEiAQEQwTLi9MDOsAAAEATf/wAhECGAAoAAA3Jj0BNDYzMhYdARQXFhczMjc2NzERNDYyFhURFAYiJj0BBwYrASYnJlcKGxESHBUVQwU7KCYVGyQbGyQbCEFYBEgwMYEmS/gSHBwS6lwrLQIsKz8BChMbHBL+NxIcGhMSBzsBJyYAAQBC//MCHAIYAB0AABMmNTQ2MzIXEzMTMDU+ATMyFhUUBzEDDgErASImJ0UDGxIfC5EKkQMZDhIbA54DGQ1GDhcEAdsGCRMbH/5eAaIBDBIcEgkG/jYMEhENAAABAEH/8wIeAhgAKAAANwM0NzYzMhYXEzc+ATsBMh8BEz4BMzIXFh0BAw4BKwEiLwEHBisBIiZ4Nw4OEhEZAiorAxcPLCAKKikDGRESDg44AhkRMCAJMTELHTERGhsBzxMNDhcR/qSWDRMglgFcEBgNDRAE/jEQGB+wryAYAAAAAAEAYf/zAf0CGAAjAAAWJjU0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiN8GwiMgQcbEhcJdXUNExIbB4KMCRsSGAmAgQwUDRwSDg3OxgwOExsMtbUMHBIODMbODg0SHAy/vwwAAAEAP/9JAh8CGAAjAAAWJjU0NjsBMj8BAyY1NDYzMhcbATYzMhYVFAcBMDEGBwYjIidTFBsSEBYHa78GGxITDaicDhQSGwX+zQ0dHSMNDrEZEBMaEMsBVAkNExsM/tcBKQwbEw0K/bccEhMDAAEAYQAEAgUCBwAcAAA2Jj0BNDcBIyImNDYzITIWHQEUBxUBITIWFAYjIXsaDAEU6hIbGhMBKhMaDf7zAQQSGxoT/rYEGxIjDw4BPBomGhoTKBEMAf7KGyQbAAAAAQBE//gCLgMAADQAABI0NjMyNzY9ATQ3Njc2MzIWFAYrASIHBgcGFRQPARcWFRQXFhcWMzIWFAYjIicmNTQnJiMiRBsSVhcRJiE0NmESGxoTIjUdHxEUMQUEMgcIGhd4EhsbEpAtVRYYUBMBaCYbGxQ9CmM1Lg0OGyQbBgYYGkl7JQMFMWE3Hh8RDhskGxsznzsXGAAAAAABAQz/ZAFmAwAACwAABRE0NjIWFREUBiImAQwbJBsaJhpvA0ITGhsS/L4SGxoAAAABAET/+AIuAwAAMwAANjQ2OwEyNzY3NjU0PwEnJjU0JyYnJiMiJjQ2MzIXFhcWFRQXFjsBMhYUBiMiBhUUBwYjIkQbEiE9HyIOCjIEBTENDScVYRMaGxJhNjQhJRIXUgQSGxsSUC9UK5ISEiYaCQkgGUhhMQUDJXs1HyELBxomGg4NLjNlRhUbHCQaLzufMxsAAAAAAQBSAhwCIALNACsAABM1Njc2MzIzFjMWFxYzMjc+ATMyFhUUBxUOASMiIyYjJicmIyIHMQ4BIyImUgonJzACBQQDLj4rICAIAxoPEhsCCkwwAgUEAy4+KiAgCQMZEBIbAlUKMB8fAQUvIicPFRsSAwUBMD8BBDAhJg8VGwAAAAABAnIB9QLWAq8ACwAAATU0NjIWHQEUBiImAnIeKB4eKB4CJ1YVHR4UVhQeHQAAAAABAgYB9QKgAq8ADwAAATQ2MzIfARYVFAYjIi8BJgIGHhQbCTwIHhQTET0HAn0VHQ5fDQ4UHg9eCwAAAAACAbYCVALWAwIACwAXAAABNTQ2MhYdARQGIiY3NTQ2MhYdARQGIiYBth4oHh0qHbweKB4dKh0ChkoVHR4UShQeHRVKFB4eFEoUHh4AAQAO/4cAcgK1AAsAABcRNDYyFhURFAYiJg4eKB4dKh1HAsoUHh4U/TYUHh4AAAAAAAAOAK4AAQAAAAAAAABDAIgAAQAAAAAAAQAEANYAAQAAAAAAAgAHAOsAAQAAAAAAAwApAUcAAQAAAAAABAANAY0AAQAAAAAABQAKAbEAAQAAAAAABgAEAcYAAwABBAkAAACGAAAAAwABBAkAAQAIAMwAAwABBAkAAgAOANsAAwABBAkAAwBSAPMAAwABBAkABAAaAXEAAwABBAkABQAUAZsAAwABBAkABgAIAbwATQBhAHQAdABoAGUAdwAgAFMAawBhAGwAYQAgACgAMgAwADEAMQApADsAIABiAGEAcwBlAGQAIABvAG4AIABjAG8AZABlACAAYgB5ACAATgBvAHIAYgBlAHIAdAAgAFMAYwBoAHcAYQByAHoAIAAoADEAOQA4ADYALAAgADIAMAAxADEAKQAATWF0dGhldyBTa2FsYSAoMjAxMSk7IGJhc2VkIG9uIGNvZGUgYnkgTm9yYmVydCBTY2h3YXJ6ICgxOTg2LCAyMDExKQAATwBDAFIAQgAAT0NSQgAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABPAEMAUgAgAEIAIABSAGUAZwB1AGwAYQByACAAOgAgADIANwAtADkALQAyADAAMQAyAABGb250Rm9yZ2UgMi4wIDogT0NSIEIgUmVndWxhciA6IDI3LTktMjAxMgAATwBDAFIAIABCACAAUgBlAGcAdQBsAGEAcgAAT0NSIEIgUmVndWxhcgAAVgBlAHIAcwBpAG8AbgAgADIAIAAAVmVyc2lvbiAyIAAATwBDAFIAQgAAT0NSQgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAAAAQACAAMABAAFAAYABwAIAAkAtwALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAtgBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQECAQMBBAEFD3F1b3Rlc2luZ2xlLmFsdAlncmF2ZS5hbHQMcXVvdGVkYmwuYWx0B2Jhci5hbHQAAAAAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQABAGUAAQAEAAAAAgAAAAEAAAAKAEAAjgACREZMVAAObGF0bgAiAAQAAAAA//8ABQAAAAEAAgADAAQABAAAAAD//wAFAAAAAQACAAMABAAFYWFsdAAgc3MwMQAmc3MwMgAsc3MwMwAyc3MwNAA4AAAAAQAAABgAAQABABYAAQACABQAAQADABIAAQAEAAABAAAAAQEAAAECAAABAwAFAAwAFAAcACQALAADAAAAAQAoAAEAAAABAFIAAQAAAAEAVgABAAAAAQBaAAEAAAABAF4AAQAmAAQADgAUABoAIAACAAUAZAACAAoAYgACAEMAYwACAF8AZQABAAQABQAKAEMAXwABAAYAIAABAAEAQwABAAYAXwABAAEABQABAAYAWAABAAEACgABAAYABgABAAEAXwABAAAACgAsAC4AAkRGTFQADmxhdG4AGAAEAAAAAP//AAAABAAAAAD//wAAAAAAAAAAAAEAAAAAzD2izwAAAADWBtqRAAAAANoDIf0=");const YM={toCanvas:OM,toSVG:zM,render:QM,raw:HM,drawingCanvas:v0,drawingSVG:Ly,fixupOptions:Oy,loadFont:qM,FontLib:r1,BWIPJS_VERSION:PM,BWIPP_VERSION:_M};function VM({value:a,format:n="code128",width:i=2,height:o=50,showText:c=!0}){const d=ce.useRef(null),[f,h]=ce.useState(null),[p,m]=ce.useState(!1);ce.useEffect(()=>{if(!(!a||!d.current))try{const x={code128:"code128",code39:"code39",ean13:"ean13",ean8:"ean8",upca:"upca",upce:"upce",qrcode:"qrcode",datamatrix:"datamatrix"}[n.toLowerCase()]||"code128";YM.toCanvas(d.current,{bcid:x,text:a,scale:3,height:o/3,includetext:c,textxalign:"center",textsize:10,textfont:"Helvetica",paddingwidth:10,paddingheight:10,backgroundcolor:"ffffff"}),h(null)}catch(y){console.error("Barcode generation error:",y),h("Gagal generate barcode: "+y.message)}},[a,n,i,o,c]);const v=()=>{if(!d.current)return;const y=document.createElement("a");y.download=`barcode-${a}.png`,y.href=d.current.toDataURL("image/png"),y.click()},w=async()=>{try{await navigator.clipboard.writeText(a),m(!0),setTimeout(()=>m(!1),2e3)}catch(y){console.error("Copy error:",y)}};return a?f?u.jsx("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 text-center text-sm",children:f}):u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:u.jsx("canvas",{ref:d})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:w,className:"btn btn-sm btn-outline flex items-center gap-1",children:[p?u.jsx(ql,{size:16,className:"text-green-600"}):u.jsx(BR,{size:16}),p?"Copied!":"Copy"]}),u.jsxs("button",{onClick:v,className:"btn btn-sm btn-primary flex items-center gap-1",children:[u.jsx(Gl,{size:16}),"Download"]})]})]}):u.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center text-gray-500",children:"Masukkan kode untuk generate barcode"})}function Qy(a,n){return function(){return a.apply(n,arguments)}}const{toString:KM}=Object.prototype,{getPrototypeOf:Gm}=Object,{iterator:zu,toStringTag:Hy}=Symbol,Lu=(a=>n=>{const i=KM.call(n);return a[i]||(a[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),X1=a=>(a=a.toLowerCase(),n=>Lu(n)===a),Qu=a=>n=>typeof n===a,{isArray:Sc}=Array,uc=Qu("undefined");function f2(a){return a!==null&&!uc(a)&&a.constructor!==null&&!uc(a.constructor)&&c1(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const $y=X1("ArrayBuffer");function WM(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&$y(a.buffer),n}const JM=Qu("string"),c1=Qu("function"),qy=Qu("number"),h2=a=>a!==null&&typeof a=="object",XM=a=>a===!0||a===!1,vd=a=>{if(Lu(a)!=="object")return!1;const n=Gm(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Hy in a)&&!(zu in a)},ZM=a=>{if(!h2(a)||f2(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},eF=X1("Date"),tF=X1("File"),rF=X1("Blob"),aF=X1("FileList"),sF=a=>h2(a)&&c1(a.pipe),nF=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||c1(a.append)&&((n=Lu(a))==="formdata"||n==="object"&&c1(a.toString)&&a.toString()==="[object FormData]"))},iF=X1("URLSearchParams"),[oF,lF,cF,dF]=["ReadableStream","Request","Response","Headers"].map(X1),uF=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function p2(a,n,{allOwnKeys:i=!1}={}){if(a===null||typeof a>"u")return;let o,c;if(typeof a!="object"&&(a=[a]),Sc(a))for(o=0,c=a.length;o<c;o++)n.call(null,a[o],o,a);else{if(f2(a))return;const d=i?Object.getOwnPropertyNames(a):Object.keys(a),f=d.length;let h;for(o=0;o<f;o++)h=d[o],n.call(null,a[h],h,a)}}function Gy(a,n){if(f2(a))return null;n=n.toLowerCase();const i=Object.keys(a);let o=i.length,c;for(;o-- >0;)if(c=i[o],n===c.toLowerCase())return c;return null}const Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yy=a=>!uc(a)&&a!==Go;function b3(){const{caseless:a,skipUndefined:n}=Yy(this)&&this||{},i={},o=(c,d)=>{const f=a&&Gy(i,d)||d;vd(i[f])&&vd(c)?i[f]=b3(i[f],c):vd(c)?i[f]=b3({},c):Sc(c)?i[f]=c.slice():(!n||!uc(c))&&(i[f]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&p2(arguments[c],o);return i}const fF=(a,n,i,{allOwnKeys:o}={})=>(p2(n,(c,d)=>{i&&c1(c)?a[d]=Qy(c,i):a[d]=c},{allOwnKeys:o}),a),hF=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),pF=(a,n,i,o)=>{a.prototype=Object.create(n.prototype,o),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),i&&Object.assign(a.prototype,i)},mF=(a,n,i,o)=>{let c,d,f;const h={};if(n=n||{},a==null)return n;do{for(c=Object.getOwnPropertyNames(a),d=c.length;d-- >0;)f=c[d],(!o||o(f,a,n))&&!h[f]&&(n[f]=a[f],h[f]=!0);a=i!==!1&&Gm(a)}while(a&&(!i||i(a,n))&&a!==Object.prototype);return n},vF=(a,n,i)=>{a=String(a),(i===void 0||i>a.length)&&(i=a.length),i-=n.length;const o=a.indexOf(n,i);return o!==-1&&o===i},xF=a=>{if(!a)return null;if(Sc(a))return a;let n=a.length;if(!qy(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=a[n];return i},gF=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&Gm(Uint8Array)),bF=(a,n)=>{const o=(a&&a[zu]).call(a);let c;for(;(c=o.next())&&!c.done;){const d=c.value;n.call(a,d[0],d[1])}},wF=(a,n)=>{let i;const o=[];for(;(i=a.exec(n))!==null;)o.push(i);return o},yF=X1("HTMLFormElement"),AF=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,c){return o.toUpperCase()+c}),Vb=(({hasOwnProperty:a})=>(n,i)=>a.call(n,i))(Object.prototype),kF=X1("RegExp"),Vy=(a,n)=>{const i=Object.getOwnPropertyDescriptors(a),o={};p2(i,(c,d)=>{let f;(f=n(c,d,a))!==!1&&(o[d]=f||c)}),Object.defineProperties(a,o)},jF=a=>{Vy(a,(n,i)=>{if(c1(a)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=a[i];if(c1(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},SF=(a,n)=>{const i={},o=c=>{c.forEach(d=>{i[d]=!0})};return Sc(a)?o(a):o(String(a).split(n)),i},EF=()=>{},NF=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function CF(a){return!!(a&&c1(a.append)&&a[Hy]==="FormData"&&a[zu])}const IF=a=>{const n=new Array(10),i=(o,c)=>{if(h2(o)){if(n.indexOf(o)>=0)return;if(f2(o))return o;if(!("toJSON"in o)){n[c]=o;const d=Sc(o)?[]:{};return p2(o,(f,h)=>{const p=i(f,c+1);!uc(p)&&(d[h]=p)}),n[c]=void 0,d}}return o};return i(a,0)},BF=X1("AsyncFunction"),DF=a=>a&&(h2(a)||c1(a))&&c1(a.then)&&c1(a.catch),Ky=((a,n)=>a?setImmediate:n?((i,o)=>(Go.addEventListener("message",({source:c,data:d})=>{c===Go&&d===i&&o.length&&o.shift()()},!1),c=>{o.push(c),Go.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",c1(Go.postMessage)),RF=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||Ky,TF=a=>a!=null&&c1(a[zu]),Be={isArray:Sc,isArrayBuffer:$y,isBuffer:f2,isFormData:nF,isArrayBufferView:WM,isString:JM,isNumber:qy,isBoolean:XM,isObject:h2,isPlainObject:vd,isEmptyObject:ZM,isReadableStream:oF,isRequest:lF,isResponse:cF,isHeaders:dF,isUndefined:uc,isDate:eF,isFile:tF,isBlob:rF,isRegExp:kF,isFunction:c1,isStream:sF,isURLSearchParams:iF,isTypedArray:gF,isFileList:aF,forEach:p2,merge:b3,extend:fF,trim:uF,stripBOM:hF,inherits:pF,toFlatObject:mF,kindOf:Lu,kindOfTest:X1,endsWith:vF,toArray:xF,forEachEntry:bF,matchAll:wF,isHTMLForm:yF,hasOwnProperty:Vb,hasOwnProp:Vb,reduceDescriptors:Vy,freezeMethods:jF,toObjectSet:SF,toCamelCase:AF,noop:EF,toFiniteNumber:NF,findKey:Gy,global:Go,isContextDefined:Yy,isSpecCompliantForm:CF,toJSONObject:IF,isAsyncFn:BF,isThenable:DF,setImmediate:Ky,asap:RF,isIterable:TF};function Nr(a,n,i,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}Be.inherits(Nr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const Wy=Nr.prototype,Jy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Jy[a]={value:a}});Object.defineProperties(Nr,Jy);Object.defineProperty(Wy,"isAxiosError",{value:!0});Nr.from=(a,n,i,o,c,d)=>{const f=Object.create(Wy);Be.toFlatObject(a,f,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const h=a&&a.message?a.message:"Error",p=n==null&&a?a.code:n;return Nr.call(f,h,p,i,o,c),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",d&&Object.assign(f,d),f};const MF=null;function w3(a){return Be.isPlainObject(a)||Be.isArray(a)}function Xy(a){return Be.endsWith(a,"[]")?a.slice(0,-2):a}function Kb(a,n,i){return a?a.concat(n).map(function(c,d){return c=Xy(c),!i&&d?"["+c+"]":c}).join(i?".":""):n}function FF(a){return Be.isArray(a)&&!a.some(w3)}const _F=Be.toFlatObject(Be,{},null,function(n){return/^is[A-Z]/.test(n)});function Hu(a,n,i){if(!Be.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,i=Be.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,j){return!Be.isUndefined(j[A])});const o=i.metaTokens,c=i.visitor||v,d=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(n);if(!Be.isFunction(c))throw new TypeError("visitor must be a function");function m(g){if(g===null)return"";if(Be.isDate(g))return g.toISOString();if(Be.isBoolean(g))return g.toString();if(!p&&Be.isBlob(g))throw new Nr("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(g)||Be.isTypedArray(g)?p&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function v(g,A,j){let C=g;if(g&&!j&&typeof g=="object"){if(Be.endsWith(A,"{}"))A=o?A:A.slice(0,-2),g=JSON.stringify(g);else if(Be.isArray(g)&&FF(g)||(Be.isFileList(g)||Be.endsWith(A,"[]"))&&(C=Be.toArray(g)))return A=Xy(A),C.forEach(function(E,B){!(Be.isUndefined(E)||E===null)&&n.append(f===!0?Kb([A],B,d):f===null?A:A+"[]",m(E))}),!1}return w3(g)?!0:(n.append(Kb(j,A,d),m(g)),!1)}const w=[],y=Object.assign(_F,{defaultVisitor:v,convertValue:m,isVisitable:w3});function x(g,A){if(!Be.isUndefined(g)){if(w.indexOf(g)!==-1)throw Error("Circular reference detected in "+A.join("."));w.push(g),Be.forEach(g,function(C,k){(!(Be.isUndefined(C)||C===null)&&c.call(n,C,Be.isString(k)?k.trim():k,A,y))===!0&&x(C,A?A.concat(k):[k])}),w.pop()}}if(!Be.isObject(a))throw new TypeError("data must be an object");return x(a),n}function Wb(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function Ym(a,n){this._pairs=[],a&&Hu(a,this,n)}const Zy=Ym.prototype;Zy.append=function(n,i){this._pairs.push([n,i])};Zy.toString=function(n){const i=n?function(o){return n.call(this,o,Wb)}:Wb;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function PF(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eA(a,n,i){if(!n)return a;const o=i&&i.encode||PF;Be.isFunction(i)&&(i={serialize:i});const c=i&&i.serialize;let d;if(c?d=c(n,i):d=Be.isURLSearchParams(n)?n.toString():new Ym(n,i).toString(o),d){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+d}return a}class Jb{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Be.forEach(this.handlers,function(o){o!==null&&n(o)})}}const tA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OF=typeof URLSearchParams<"u"?URLSearchParams:Ym,UF=typeof FormData<"u"?FormData:null,zF=typeof Blob<"u"?Blob:null,LF={isBrowser:!0,classes:{URLSearchParams:OF,FormData:UF,Blob:zF},protocols:["http","https","file","blob","url","data"]},Vm=typeof window<"u"&&typeof document<"u",y3=typeof navigator=="object"&&navigator||void 0,QF=Vm&&(!y3||["ReactNative","NativeScript","NS"].indexOf(y3.product)<0),HF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$F=Vm&&window.location.href||"http://localhost",qF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vm,hasStandardBrowserEnv:QF,hasStandardBrowserWebWorkerEnv:HF,navigator:y3,origin:$F},Symbol.toStringTag,{value:"Module"})),Pn={...qF,...LF};function GF(a,n){return Hu(a,new Pn.classes.URLSearchParams,{visitor:function(i,o,c,d){return Pn.isNode&&Be.isBuffer(i)?(this.append(o,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function YF(a){return Be.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function VF(a){const n={},i=Object.keys(a);let o;const c=i.length;let d;for(o=0;o<c;o++)d=i[o],n[d]=a[d];return n}function rA(a){function n(i,o,c,d){let f=i[d++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=d>=i.length;return f=!f&&Be.isArray(c)?c.length:f,p?(Be.hasOwnProp(c,f)?c[f]=[c[f],o]:c[f]=o,!h):((!c[f]||!Be.isObject(c[f]))&&(c[f]=[]),n(i,o,c[f],d)&&Be.isArray(c[f])&&(c[f]=VF(c[f])),!h)}if(Be.isFormData(a)&&Be.isFunction(a.entries)){const i={};return Be.forEachEntry(a,(o,c)=>{n(YF(o),c,i,0)}),i}return null}function KF(a,n,i){if(Be.isString(a))try{return(n||JSON.parse)(a),Be.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(a)}const m2={transitional:tA,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",c=o.indexOf("application/json")>-1,d=Be.isObject(n);if(d&&Be.isHTMLForm(n)&&(n=new FormData(n)),Be.isFormData(n))return c?JSON.stringify(rA(n)):n;if(Be.isArrayBuffer(n)||Be.isBuffer(n)||Be.isStream(n)||Be.isFile(n)||Be.isBlob(n)||Be.isReadableStream(n))return n;if(Be.isArrayBufferView(n))return n.buffer;if(Be.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return GF(n,this.formSerializer).toString();if((h=Be.isFileList(n))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Hu(h?{"files[]":n}:n,p&&new p,this.formSerializer)}}return d||c?(i.setContentType("application/json",!1),KF(n)):n}],transformResponse:[function(n){const i=this.transitional||m2.transitional,o=i&&i.forcedJSONParsing,c=this.responseType==="json";if(Be.isResponse(n)||Be.isReadableStream(n))return n;if(n&&Be.isString(n)&&(o&&!this.responseType||c)){const f=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?Nr.from(h,Nr.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],a=>{m2.headers[a]={}});const WF=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JF=a=>{const n={};let i,o,c;return a&&a.split(`
`).forEach(function(f){c=f.indexOf(":"),i=f.substring(0,c).trim().toLowerCase(),o=f.substring(c+1).trim(),!(!i||n[i]&&WF[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},Xb=Symbol("internals");function c0(a){return a&&String(a).trim().toLowerCase()}function xd(a){return a===!1||a==null?a:Be.isArray(a)?a.map(xd):String(a)}function XF(a){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(a);)n[o[1]]=o[2];return n}const ZF=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Kh(a,n,i,o,c){if(Be.isFunction(o))return o.call(this,n,i);if(c&&(n=i),!!Be.isString(n)){if(Be.isString(o))return n.indexOf(o)!==-1;if(Be.isRegExp(o))return o.test(n)}}function e_(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function t_(a,n){const i=Be.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(a,o+i,{value:function(c,d,f){return this[o].call(this,n,c,d,f)},configurable:!0})})}let d1=class{constructor(n){n&&this.set(n)}set(n,i,o){const c=this;function d(h,p,m){const v=c0(p);if(!v)throw new Error("header name must be a non-empty string");const w=Be.findKey(c,v);(!w||c[w]===void 0||m===!0||m===void 0&&c[w]!==!1)&&(c[w||p]=xd(h))}const f=(h,p)=>Be.forEach(h,(m,v)=>d(m,v,p));if(Be.isPlainObject(n)||n instanceof this.constructor)f(n,i);else if(Be.isString(n)&&(n=n.trim())&&!ZF(n))f(JF(n),i);else if(Be.isObject(n)&&Be.isIterable(n)){let h={},p,m;for(const v of n){if(!Be.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[m=v[0]]=(p=h[m])?Be.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}f(h,i)}else n!=null&&d(i,n,o);return this}get(n,i){if(n=c0(n),n){const o=Be.findKey(this,n);if(o){const c=this[o];if(!i)return c;if(i===!0)return XF(c);if(Be.isFunction(i))return i.call(this,c,o);if(Be.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=c0(n),n){const o=Be.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Kh(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let c=!1;function d(f){if(f=c0(f),f){const h=Be.findKey(o,f);h&&(!i||Kh(o,o[h],h,i))&&(delete o[h],c=!0)}}return Be.isArray(n)?n.forEach(d):d(n),c}clear(n){const i=Object.keys(this);let o=i.length,c=!1;for(;o--;){const d=i[o];(!n||Kh(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const i=this,o={};return Be.forEach(this,(c,d)=>{const f=Be.findKey(o,d);if(f){i[f]=xd(c),delete i[d];return}const h=n?e_(d):String(d).trim();h!==d&&delete i[d],i[h]=xd(c),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return Be.forEach(this,(o,c)=>{o!=null&&o!==!1&&(i[c]=n&&Be.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(c=>o.set(c)),o}static accessor(n){const o=(this[Xb]=this[Xb]={accessors:{}}).accessors,c=this.prototype;function d(f){const h=c0(f);o[h]||(t_(c,f),o[h]=!0)}return Be.isArray(n)?n.forEach(d):d(n),this}};d1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(d1.prototype,({value:a},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(o){this[i]=o}}});Be.freezeMethods(d1);function Wh(a,n){const i=this||m2,o=n||i,c=d1.from(o.headers);let d=o.data;return Be.forEach(a,function(h){d=h.call(i,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function aA(a){return!!(a&&a.__CANCEL__)}function Ec(a,n,i){Nr.call(this,a??"canceled",Nr.ERR_CANCELED,n,i),this.name="CanceledError"}Be.inherits(Ec,Nr,{__CANCEL__:!0});function sA(a,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?a(i):n(new Nr("Request failed with status code "+i.status,[Nr.ERR_BAD_REQUEST,Nr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function r_(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function a_(a,n){a=a||10;const i=new Array(a),o=new Array(a);let c=0,d=0,f;return n=n!==void 0?n:1e3,function(p){const m=Date.now(),v=o[d];f||(f=m),i[c]=p,o[c]=m;let w=d,y=0;for(;w!==c;)y+=i[w++],w=w%a;if(c=(c+1)%a,c===d&&(d=(d+1)%a),m-f<n)return;const x=v&&m-v;return x?Math.round(y*1e3/x):void 0}}function s_(a,n){let i=0,o=1e3/n,c,d;const f=(m,v=Date.now())=>{i=v,c=null,d&&(clearTimeout(d),d=null),a(...m)};return[(...m)=>{const v=Date.now(),w=v-i;w>=o?f(m,v):(c=m,d||(d=setTimeout(()=>{d=null,f(c)},o-w)))},()=>c&&f(c)]}const ou=(a,n,i=3)=>{let o=0;const c=a_(50,250);return s_(d=>{const f=d.loaded,h=d.lengthComputable?d.total:void 0,p=f-o,m=c(p),v=f<=h;o=f;const w={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&v?(h-f)/m:void 0,event:d,lengthComputable:h!=null,[n?"download":"upload"]:!0};a(w)},i)},Zb=(a,n)=>{const i=a!=null;return[o=>n[0]({lengthComputable:i,total:a,loaded:o}),n[1]]},e6=a=>(...n)=>Be.asap(()=>a(...n)),n_=Pn.hasStandardBrowserEnv?((a,n)=>i=>(i=new URL(i,Pn.origin),a.protocol===i.protocol&&a.host===i.host&&(n||a.port===i.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,i_=Pn.hasStandardBrowserEnv?{write(a,n,i,o,c,d,f){if(typeof document>"u")return;const h=[`${a}=${encodeURIComponent(n)}`];Be.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),Be.isString(o)&&h.push(`path=${o}`),Be.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),Be.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(a){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function o_(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function l_(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function nA(a,n,i){let o=!o_(n);return a&&(o||i==!1)?l_(a,n):n}const t6=a=>a instanceof d1?{...a}:a;function rl(a,n){n=n||{};const i={};function o(m,v,w,y){return Be.isPlainObject(m)&&Be.isPlainObject(v)?Be.merge.call({caseless:y},m,v):Be.isPlainObject(v)?Be.merge({},v):Be.isArray(v)?v.slice():v}function c(m,v,w,y){if(Be.isUndefined(v)){if(!Be.isUndefined(m))return o(void 0,m,w,y)}else return o(m,v,w,y)}function d(m,v){if(!Be.isUndefined(v))return o(void 0,v)}function f(m,v){if(Be.isUndefined(v)){if(!Be.isUndefined(m))return o(void 0,m)}else return o(void 0,v)}function h(m,v,w){if(w in n)return o(m,v);if(w in a)return o(void 0,m)}const p={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(m,v,w)=>c(t6(m),t6(v),w,!0)};return Be.forEach(Object.keys({...a,...n}),function(v){const w=p[v]||c,y=w(a[v],n[v],v);Be.isUndefined(y)&&w!==h||(i[v]=y)}),i}const iA=a=>{const n=rl({},a);let{data:i,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:h}=n;if(n.headers=f=d1.from(f),n.url=eA(nA(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Be.isFormData(i)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Be.isFunction(i.getHeaders)){const p=i.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([v,w])=>{m.includes(v.toLowerCase())&&f.set(v,w)})}}if(Pn.hasStandardBrowserEnv&&(o&&Be.isFunction(o)&&(o=o(n)),o||o!==!1&&n_(n.url))){const p=c&&d&&i_.read(d);p&&f.set(c,p)}return n},c_=typeof XMLHttpRequest<"u",d_=c_&&function(a){return new Promise(function(i,o){const c=iA(a);let d=c.data;const f=d1.from(c.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=c,v,w,y,x,g;function A(){x&&x(),g&&g(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(c.method.toUpperCase(),c.url,!0),j.timeout=c.timeout;function C(){if(!j)return;const E=d1.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:E,config:a,request:j};sA(function(M){i(M),A()},function(M){o(M),A()},I),j=null}"onloadend"in j?j.onloadend=C:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(C)},j.onabort=function(){j&&(o(new Nr("Request aborted",Nr.ECONNABORTED,a,j)),j=null)},j.onerror=function(B){const I=B&&B.message?B.message:"Network Error",D=new Nr(I,Nr.ERR_NETWORK,a,j);D.event=B||null,o(D),j=null},j.ontimeout=function(){let B=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const I=c.transitional||tA;c.timeoutErrorMessage&&(B=c.timeoutErrorMessage),o(new Nr(B,I.clarifyTimeoutError?Nr.ETIMEDOUT:Nr.ECONNABORTED,a,j)),j=null},d===void 0&&f.setContentType(null),"setRequestHeader"in j&&Be.forEach(f.toJSON(),function(B,I){j.setRequestHeader(I,B)}),Be.isUndefined(c.withCredentials)||(j.withCredentials=!!c.withCredentials),h&&h!=="json"&&(j.responseType=c.responseType),m&&([y,g]=ou(m,!0),j.addEventListener("progress",y)),p&&j.upload&&([w,x]=ou(p),j.upload.addEventListener("progress",w),j.upload.addEventListener("loadend",x)),(c.cancelToken||c.signal)&&(v=E=>{j&&(o(!E||E.type?new Ec(null,a,j):E),j.abort(),j=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const k=r_(c.url);if(k&&Pn.protocols.indexOf(k)===-1){o(new Nr("Unsupported protocol "+k+":",Nr.ERR_BAD_REQUEST,a));return}j.send(d||null)})},u_=(a,n)=>{const{length:i}=a=a?a.filter(Boolean):[];if(n||i){let o=new AbortController,c;const d=function(m){if(!c){c=!0,h();const v=m instanceof Error?m:this.reason;o.abort(v instanceof Nr?v:new Ec(v instanceof Error?v.message:v))}};let f=n&&setTimeout(()=>{f=null,d(new Nr(`timeout ${n} of ms exceeded`,Nr.ETIMEDOUT))},n);const h=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(m=>{m.unsubscribe?m.unsubscribe(d):m.removeEventListener("abort",d)}),a=null)};a.forEach(m=>m.addEventListener("abort",d));const{signal:p}=o;return p.unsubscribe=()=>Be.asap(h),p}},f_=function*(a,n){let i=a.byteLength;if(i<n){yield a;return}let o=0,c;for(;o<i;)c=o+n,yield a.slice(o,c),o=c},h_=async function*(a,n){for await(const i of p_(a))yield*f_(i,n)},p_=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},r6=(a,n,i,o)=>{const c=h_(a,n);let d=0,f,h=p=>{f||(f=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:v}=await c.next();if(m){h(),p.close();return}let w=v.byteLength;if(i){let y=d+=w;i(y)}p.enqueue(new Uint8Array(v))}catch(m){throw h(m),m}},cancel(p){return h(p),c.return()}},{highWaterMark:2})},a6=64*1024,{isFunction:X2}=Be,m_=(({Request:a,Response:n})=>({Request:a,Response:n}))(Be.global),{ReadableStream:s6,TextEncoder:n6}=Be.global,i6=(a,...n)=>{try{return!!a(...n)}catch{return!1}},v_=a=>{a=Be.merge.call({skipUndefined:!0},m_,a);const{fetch:n,Request:i,Response:o}=a,c=n?X2(n):typeof fetch=="function",d=X2(i),f=X2(o);if(!c)return!1;const h=c&&X2(s6),p=c&&(typeof n6=="function"?(g=>A=>g.encode(A))(new n6):async g=>new Uint8Array(await new i(g).arrayBuffer())),m=d&&h&&i6(()=>{let g=!1;const A=new i(Pn.origin,{body:new s6,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!A}),v=f&&h&&i6(()=>Be.isReadableStream(new o("").body)),w={stream:v&&(g=>g.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!w[g]&&(w[g]=(A,j)=>{let C=A&&A[g];if(C)return C.call(A);throw new Nr(`Response type '${g}' is not supported`,Nr.ERR_NOT_SUPPORT,j)})});const y=async g=>{if(g==null)return 0;if(Be.isBlob(g))return g.size;if(Be.isSpecCompliantForm(g))return(await new i(Pn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(g)||Be.isArrayBuffer(g))return g.byteLength;if(Be.isURLSearchParams(g)&&(g=g+""),Be.isString(g))return(await p(g)).byteLength},x=async(g,A)=>{const j=Be.toFiniteNumber(g.getContentLength());return j??y(A)};return async g=>{let{url:A,method:j,data:C,signal:k,cancelToken:E,timeout:B,onDownloadProgress:I,onUploadProgress:D,responseType:M,headers:T,withCredentials:H="same-origin",fetchOptions:_}=iA(g),F=n||fetch;M=M?(M+"").toLowerCase():"text";let Q=u_([k,E&&E.toAbortSignal()],B),L=null;const ee=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let se;try{if(D&&m&&j!=="get"&&j!=="head"&&(se=await x(T,C))!==0){let te=new i(A,{method:"POST",body:C,duplex:"half"}),ae;if(Be.isFormData(C)&&(ae=te.headers.get("content-type"))&&T.setContentType(ae),te.body){const[ie,oe]=Zb(se,ou(e6(D)));C=r6(te.body,a6,ie,oe)}}Be.isString(H)||(H=H?"include":"omit");const ue=d&&"credentials"in i.prototype,W={..._,signal:Q,method:j.toUpperCase(),headers:T.normalize().toJSON(),body:C,duplex:"half",credentials:ue?H:void 0};L=d&&new i(A,W);let G=await(d?F(L,_):F(A,W));const ne=v&&(M==="stream"||M==="response");if(v&&(I||ne&&ee)){const te={};["status","statusText","headers"].forEach(De=>{te[De]=G[De]});const ae=Be.toFiniteNumber(G.headers.get("content-length")),[ie,oe]=I&&Zb(ae,ou(e6(I),!0))||[];G=new o(r6(G.body,a6,ie,()=>{oe&&oe(),ee&&ee()}),te)}M=M||"text";let de=await w[Be.findKey(w,M)||"text"](G,g);return!ne&&ee&&ee(),await new Promise((te,ae)=>{sA(te,ae,{data:de,headers:d1.from(G.headers),status:G.status,statusText:G.statusText,config:g,request:L})})}catch(ue){throw ee&&ee(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new Nr("Network Error",Nr.ERR_NETWORK,g,L),{cause:ue.cause||ue}):Nr.from(ue,ue&&ue.code,g,L)}}},x_=new Map,oA=a=>{let n=a&&a.env||{};const{fetch:i,Request:o,Response:c}=n,d=[o,c,i];let f=d.length,h=f,p,m,v=x_;for(;h--;)p=d[h],m=v.get(p),m===void 0&&v.set(p,m=h?new Map:v_(n)),v=m;return m};oA();const Km={http:MF,xhr:d_,fetch:{get:oA}};Be.forEach(Km,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const o6=a=>`- ${a}`,g_=a=>Be.isFunction(a)||a===null||a===!1;function b_(a,n){a=Be.isArray(a)?a:[a];const{length:i}=a;let o,c;const d={};for(let f=0;f<i;f++){o=a[f];let h;if(c=o,!g_(o)&&(c=Km[(h=String(o)).toLowerCase()],c===void 0))throw new Nr(`Unknown adapter '${h}'`);if(c&&(Be.isFunction(c)||(c=c.get(n))))break;d[h||"#"+f]=c}if(!c){const f=Object.entries(d).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(o6).join(`
`):" "+o6(f[0]):"as no adapter specified";throw new Nr("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const lA={getAdapter:b_,adapters:Km};function Jh(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Ec(null,a)}function l6(a){return Jh(a),a.headers=d1.from(a.headers),a.data=Wh.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),lA.getAdapter(a.adapter||m2.adapter,a)(a).then(function(o){return Jh(a),o.data=Wh.call(a,a.transformResponse,o),o.headers=d1.from(o.headers),o},function(o){return aA(o)||(Jh(a),o&&o.response&&(o.response.data=Wh.call(a,a.transformResponse,o.response),o.response.headers=d1.from(o.response.headers))),Promise.reject(o)})}const cA="1.13.2",$u={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{$u[a]=function(o){return typeof o===a||"a"+(n<1?"n ":" ")+a}});const c6={};$u.transitional=function(n,i,o){function c(d,f){return"[Axios v"+cA+"] Transitional option '"+d+"'"+f+(o?". "+o:"")}return(d,f,h)=>{if(n===!1)throw new Nr(c(f," has been removed"+(i?" in "+i:"")),Nr.ERR_DEPRECATED);return i&&!c6[f]&&(c6[f]=!0,console.warn(c(f," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(d,f,h):!0}};$u.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function w_(a,n,i){if(typeof a!="object")throw new Nr("options must be an object",Nr.ERR_BAD_OPTION_VALUE);const o=Object.keys(a);let c=o.length;for(;c-- >0;){const d=o[c],f=n[d];if(f){const h=a[d],p=h===void 0||f(h,d,a);if(p!==!0)throw new Nr("option "+d+" must be "+p,Nr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Nr("Unknown option "+d,Nr.ERR_BAD_OPTION)}}const gd={assertOptions:w_,validators:$u},di=gd.validators;let Wo=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Jb,response:new Jb}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=rl(this.defaults,i);const{transitional:o,paramsSerializer:c,headers:d}=i;o!==void 0&&gd.assertOptions(o,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),c!=null&&(Be.isFunction(c)?i.paramsSerializer={serialize:c}:gd.assertOptions(c,{encode:di.function,serialize:di.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),gd.assertOptions(i,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=d&&Be.merge(d.common,d[i.method]);d&&Be.forEach(["delete","get","head","post","put","patch","common"],g=>{delete d[g]}),i.headers=d1.concat(f,d);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(i)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let v,w=0,y;if(!p){const g=[l6.bind(this),void 0];for(g.unshift(...h),g.push(...m),y=g.length,v=Promise.resolve(i);w<y;)v=v.then(g[w++],g[w++]);return v}y=h.length;let x=i;for(;w<y;){const g=h[w++],A=h[w++];try{x=g(x)}catch(j){A.call(this,j);break}}try{v=l6.call(this,x)}catch(g){return Promise.reject(g)}for(w=0,y=m.length;w<y;)v=v.then(m[w++],m[w++]);return v}getUri(n){n=rl(this.defaults,n);const i=nA(n.baseURL,n.url,n.allowAbsoluteUrls);return eA(i,n.params,n.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(n){Wo.prototype[n]=function(i,o){return this.request(rl(o||{},{method:n,url:i,data:(o||{}).data}))}});Be.forEach(["post","put","patch"],function(n){function i(o){return function(d,f,h){return this.request(rl(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Wo.prototype[n]=i(),Wo.prototype[n+"Form"]=i(!0)});let y_=class dA{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const o=this;this.promise.then(c=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](c);o._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(h=>{o.subscribe(h),d=h}).then(c);return f.cancel=function(){o.unsubscribe(d)},f},n(function(d,f,h){o.reason||(o.reason=new Ec(d,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new dA(function(c){n=c}),cancel:n}}};function A_(a){return function(i){return a.apply(null,i)}}function k_(a){return Be.isObject(a)&&a.isAxiosError===!0}const A3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(A3).forEach(([a,n])=>{A3[n]=a});function uA(a){const n=new Wo(a),i=Qy(Wo.prototype.request,n);return Be.extend(i,Wo.prototype,n,{allOwnKeys:!0}),Be.extend(i,n,null,{allOwnKeys:!0}),i.create=function(c){return uA(rl(a,c))},i}const Ls=uA(m2);Ls.Axios=Wo;Ls.CanceledError=Ec;Ls.CancelToken=y_;Ls.isCancel=aA;Ls.VERSION=cA;Ls.toFormData=Hu;Ls.AxiosError=Nr;Ls.Cancel=Ls.CanceledError;Ls.all=function(n){return Promise.all(n)};Ls.spread=A_;Ls.isAxiosError=k_;Ls.mergeConfig=rl;Ls.AxiosHeaders=d1;Ls.formToJSON=a=>rA(Be.isHTMLForm(a)?new FormData(a):a);Ls.getAdapter=lA.getAdapter;Ls.HttpStatusCode=A3;Ls.default=Ls;const{Axios:VP,AxiosError:KP,CanceledError:WP,isCancel:JP,CancelToken:XP,VERSION:ZP,all:eO,Cancel:tO,isAxiosError:rO,spread:aO,toFormData:sO,AxiosHeaders:nO,HttpStatusCode:iO,formToJSON:oO,getAdapter:lO,mergeConfig:cO}=Ls,fc=!0,Z2="https://pos-inventory-system-gamma.vercel.app/api",j_={shopee:`${Z2}/shopee`,lazada:`${Z2}/lazada`,tokopedia:`${Z2}/tokopedia`,tiktok:`${Z2}/tiktok`},jr=(a,n=6e4)=>{const i=Ls.create({baseURL:j_[a],timeout:n,headers:{"Content-Type":"application/json"}});return i.interceptors.response.use(o=>o.data,o=>{var d,f;const c=((f=(d=o.response)==null?void 0:d.data)==null?void 0:f.message)||o.message||"Terjadi kesalahan";return Promise.reject(new Error(c))}),i},fA={getAuthUrl:async a=>{var n,i;try{const o=jr("shopee"),d=`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=shopee&store_id=${a.id}`,f=fc?"/auth-url":"/auth/shopee/url";return await o.post(f,{partner_id:((n=a.credentials)==null?void 0:n.partnerId)||"",partner_key:((i=a.credentials)==null?void 0:i.partnerKey)||"",shop_id:a.shopId||"",redirect_url:d})}catch(o){throw new Error(`Gagal mendapatkan Auth URL: ${o.message}`)}},getToken:async(a,n)=>jr("shopee").post("/token?action=get_token",{code:n,shop_id:a.shopId,partner_id:a.credentials.partnerId,partner_key:a.credentials.partnerKey}),refreshToken:async a=>jr("shopee").post("/auth/shopee/refresh",{shop_id:a.shopId,partner_id:a.credentials.partnerId,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>jr("shopee").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>{var n,i,o,c,d,f,h,p,m;try{const w=await jr("shopee",18e4).get("/products",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),y=((d=(c=w==null?void 0:w.data)==null?void 0:c.response)==null?void 0:d.item)||((f=w==null?void 0:w.response)==null?void 0:f.item)||(w==null?void 0:w.products)||[],x=((p=(h=w==null?void 0:w.data)==null?void 0:h.response)==null?void 0:p.total_count)||((m=w==null?void 0:w.response)==null?void 0:m.total_count)||(w==null?void 0:w.count)||y.length;return console.log("Shopee syncProducts result:",{itemCount:y.length,totalCount:x,rawResult:w}),{success:w.success!==!1,data:y,count:x}}catch(v){throw new Error(`Sync produk gagal: ${v.message}`)}},getProducts:async(a,n={})=>{var o,c;return jr("shopee").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(c=a.credentials)==null?void 0:c.partnerKey,...n}})},syncOrders:async(a,n={})=>{var i,o,c,d,f,h,p,m,v,w,y,x;try{const A=await jr("shopee",12e4).get("/orders",{params:{shop_id:a.shopId,access_token:(i=a.credentials)==null?void 0:i.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(c=a.credentials)==null?void 0:c.partnerKey,fetch_all:"true",...n}}),j=((f=(d=A==null?void 0:A.data)==null?void 0:d.response)==null?void 0:f.order_list)||((h=A==null?void 0:A.response)==null?void 0:h.order_list)||(A==null?void 0:A.orders)||[],C=((m=(p=A==null?void 0:A.data)==null?void 0:p.response)==null?void 0:m.total_count)||((v=A==null?void 0:A.response)==null?void 0:v.total_count)||(A==null?void 0:A.count)||j.length,k=((y=(w=A==null?void 0:A.data)==null?void 0:w.response)==null?void 0:y.status_summary)||((x=A==null?void 0:A.response)==null?void 0:x.status_summary)||{};return console.log("Shopee syncOrders result:",{orderCount:j.length,totalCount:C,statusSummary:k}),{success:A.success!==!1,data:j,count:C,statusSummary:k}}catch(g){throw new Error(`Sync order gagal: ${g.message}`)}},syncReturns:async a=>{var n,i,o,c,d,f;try{const p=await jr("shopee",6e4).get("/returns",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),m=(p==null?void 0:p.returns)||((d=(c=p==null?void 0:p.data)==null?void 0:c.response)==null?void 0:d.return_list)||((f=p==null?void 0:p.response)==null?void 0:f.return_list)||[],v=(p==null?void 0:p.count)||m.length;return console.log("Shopee syncReturns result:",{returnCount:m.length,totalCount:v}),{success:p.success!==!1,data:m,count:v}}catch(h){return console.error("Sync returns error:",h),{success:!1,data:[],count:0,error:h.message}}},getOrdersByStatus:async(a,n,i={})=>{var c,d,f;return jr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:(c=a.credentials)==null?void 0:c.accessToken,partner_id:(d=a.credentials)==null?void 0:d.partnerId,partner_key:(f=a.credentials)==null?void 0:f.partnerKey,fetch_all:"true",order_status:n,...i}})},getOrders:async(a,n={})=>{var o,c;return jr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(c=a.credentials)==null?void 0:c.partnerKey,fetch_all:"true",fetch_all_statuses:"true",...n}})},updateStock:async(a,n,i)=>jr("shopee").put(`/products/${n}/stock`,{shop_id:a.shopId,access_token:a.credentials.accessToken,stock:i}),updateProduct:async(a,n,i,o)=>{var c,d,f,h,p,m;try{const v=jr("shopee"),w=fc?"/update-product":"/products/update",y={shop_id:a.shopId,partner_id:(c=a.credentials)==null?void 0:c.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,access_token:(f=a.credentials)==null?void 0:f.accessToken,item_id:n,model_id:i||null,price:o.price,stock:o.stock};console.log(" Sending to Shopee API:",{endpoint:w,item_id:n,model_id:i,price:o.price,stock:o.stock,has_credentials:{partnerId:!!((h=a.credentials)!=null&&h.partnerId),partnerKey:!!((p=a.credentials)!=null&&p.partnerKey),accessToken:!!((m=a.credentials)!=null&&m.accessToken),shopId:!!a.shopId}});const x=await v.post(w,y);return console.log(" Shopee API result:",x),{success:x.success!==!1,data:x}}catch(v){throw console.error(" Shopee update error:",v),new Error(`Update produk Shopee gagal: ${v.message}`)}},testConnection:async a=>{var n;try{const o=await jr("shopee",1e4).get("/auth/status",{params:{shop_id:a.shopId}});return{success:o.connected||o.success,data:o}}catch(i){return(n=a.credentials)!=null&&n.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:i.message}}}},hA={getAuthUrl:async a=>{var n,i;try{const o=jr("lazada"),d=`${fc?"https://pos-inventory-system-gamma.vercel.app":window.location.origin}/marketplace/callback?platform=lazada&store_id=${a.id}`;return await o.post("/auth-url",{app_key:((n=a.credentials)==null?void 0:n.appKey)||"",store_id:a.id,redirect_url:d})}catch{const c=(i=a.credentials)==null?void 0:i.appKey;return{url:`https://auth.lazada.com/oauth/authorize?response_type=code&force_auth=true&redirect_uri=${encodeURIComponent(`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=lazada&store_id=${a.id}`)}&client_id=${c}&country=id`}}},getToken:async(a,n)=>jr("lazada").post("/token?action=get_token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>jr("lazada").post("/token?action=refresh_token",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),syncProducts:async a=>{var n,i,o,c,d,f,h;try{const m=await jr("lazada",18e4).get("/products",{params:{app_key:(n=a.credentials)==null?void 0:n.appKey,app_secret:(i=a.credentials)==null?void 0:i.appSecret,access_token:(o=a.credentials)==null?void 0:o.accessToken,fetch_all:"true"}}),v=((d=(c=m==null?void 0:m.data)==null?void 0:c.response)==null?void 0:d.item)||(m==null?void 0:m.products)||[],w=((h=(f=m==null?void 0:m.data)==null?void 0:f.response)==null?void 0:h.total_count)||(m==null?void 0:m.count)||v.length;return console.log("Lazada syncProducts result:",{itemCount:v.length,totalCount:w}),{success:m.success!==!1,data:v,count:w}}catch(p){throw new Error(`Sync produk Lazada gagal: ${p.message}`)}},getProducts:async(a,n={})=>{var o,c,d;return jr("lazada").get("/products",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(c=a.credentials)==null?void 0:c.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,...n}})},syncOrders:async(a,n={})=>{var i,o,c,d,f,h,p,m,v;try{const y=await jr("lazada",12e4).get("/orders",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(c=a.credentials)==null?void 0:c.accessToken,fetch_all:"true",...n}}),x=((f=(d=y==null?void 0:y.data)==null?void 0:d.response)==null?void 0:f.order_list)||(y==null?void 0:y.orders)||[],g=((p=(h=y==null?void 0:y.data)==null?void 0:h.response)==null?void 0:p.total_count)||(y==null?void 0:y.count)||x.length,A=((v=(m=y==null?void 0:y.data)==null?void 0:m.response)==null?void 0:v.status_summary)||(y==null?void 0:y.statusSummary)||{};return console.log("Lazada syncOrders result:",{orderCount:x.length,totalCount:g,statusSummary:A}),{success:y.success!==!1,data:x,count:g,statusSummary:A}}catch(w){throw new Error(`Sync order Lazada gagal: ${w.message}`)}},getOrdersByStatus:async(a,n,i={})=>{var c,d,f;return jr("lazada",12e4).get("/orders",{params:{app_key:(c=a.credentials)==null?void 0:c.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(f=a.credentials)==null?void 0:f.accessToken,order_status:n,fetch_all:"true",...i}})},getOrders:async(a,n={})=>{var o,c,d;return jr("lazada").get("/orders",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(c=a.credentials)==null?void 0:c.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,...n}})},updateStock:async(a,n,i)=>jr("lazada").put("/products/stock",{access_token:a.credentials.accessToken,sku:n,quantity:i}),updateProduct:async(a,n,i,o)=>{var c,d,f;try{const h=jr("lazada"),p=fc?"/update-product":"/products/update",m={app_key:(c=a.credentials)==null?void 0:c.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(f=a.credentials)==null?void 0:f.accessToken,item_id:n,sku_id:i||null,...o},v=await h.post(p,m);return{success:v.success!==!1,data:v}}catch(h){throw new Error(`Update produk Lazada gagal: ${h.message}`)}},testConnection:async a=>{var n,i,o,c,d;try{if((n=a.credentials)!=null&&n.accessToken){const h=await jr("lazada",1e4).get("/products",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(c=a.credentials)==null?void 0:c.accessToken,limit:"1"}});return{success:h.success!==!1,data:h}}return{success:!1,error:"No access token"}}catch(f){return(d=a.credentials)!=null&&d.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:f.message}}}},pA={getAuthUrl:async a=>{const n=a.credentials.fsId,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tokopedia&store_id=${a.id}`);return{url:`https://accounts.tokopedia.com/authorize?response_type=code&client_id=${a.credentials.clientId}&redirect_uri=${o}&state=${n}`}},getToken:async(a,n)=>jr("tokopedia").post("/auth/token",{code:n,client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,fs_id:a.credentials.fsId}),refreshToken:async a=>jr("tokopedia").post("/auth/refresh",{client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>jr("tokopedia").get("/shop/info",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}}),syncProducts:async a=>jr("tokopedia").post("/products/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>jr("tokopedia").get("/products",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>jr("tokopedia").post("/orders/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>jr("tokopedia").get("/orders",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>jr("tokopedia").put("/products/stock",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,product_id:n,stock:i}),updateProduct:async(a,n,i)=>{var o,c;try{const d=jr("tokopedia"),f=fc?"/update-product":"/products/update",h={shop_id:a.shopId,fs_id:(o=a.credentials)==null?void 0:o.fsId,access_token:(c=a.credentials)==null?void 0:c.accessToken,product_id:n,...i},p=await d.post(f,h);return{success:p.success!==!1,data:p}}catch(d){throw new Error(`Update produk Tokopedia gagal: ${d.message}`)}},testConnection:async a=>{try{return{success:!0,data:await jr("tokopedia",1e4).get("/auth/status",{params:{fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},mA={getAuthUrl:async a=>{const n=a.credentials.appKey,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tiktok&store_id=${a.id}`);return{url:`https://auth.tiktok-shops.com/oauth/authorize?app_key=${n}&redirect_uri=${o}&state=tiktok_auth`}},getToken:async(a,n)=>jr("tiktok").post("/auth/token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>jr("tiktok").post("/auth/refresh",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>jr("tiktok").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>jr("tiktok").post("/products/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>jr("tiktok").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>jr("tiktok").post("/orders/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>jr("tiktok").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>jr("tiktok").put("/products/stock",{shop_id:a.shopId,access_token:a.credentials.accessToken,product_id:n,stock:i}),updateProduct:async(a,n,i)=>{var o;try{const c=jr("tiktok"),d=fc?"/update-product":"/products/update",f={shop_id:a.shopId,access_token:(o=a.credentials)==null?void 0:o.accessToken,product_id:n,...i},h=await c.post(d,f);return{success:h.success!==!1,data:h}}catch(c){throw new Error(`Update produk TikTok gagal: ${c.message}`)}},testConnection:async a=>{try{return{success:!0,data:await jr("tiktok",1e4).get("/auth/status",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},Mn={getApi:a=>{switch(a){case"shopee":return fA;case"lazada":return hA;case"tokopedia":return pA;case"tiktok":return mA;default:return null}},getAuthUrl:async a=>{const n=Mn.getApi(a.platform);return n?n.getAuthUrl(a):{error:"Platform tidak didukung"}},getToken:async(a,n)=>{const i=Mn.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getToken(a,n)},refreshToken:async a=>{const n=Mn.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");return n.refreshToken(a)},testConnection:async a=>{if(a.platform==="manual")return{success:!0,data:{message:"Toko manual tidak memerlukan koneksi"}};const n=Mn.getApi(a.platform);return n?n.testConnection(a):{success:!1,error:"Platform tidak didukung"}},syncProducts:async a=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const n=Mn.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");try{const i=await n.syncProducts(a);return{success:!0,data:i.products||i.data||[],count:i.total||i.count||0}}catch(i){throw new Error(`Gagal sync produk: ${i.message}`)}},syncOrders:async(a,n={})=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const i=Mn.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");try{const o=await i.syncOrders(a,n);return{success:!0,data:o.orders||o.data||[],count:o.total||o.count||0}}catch(o){throw new Error(`Gagal sync order: ${o.message}`)}},fullSync:async(a,n=null)=>{var o,c;const i={products:{success:!1,count:0,data:[],error:null},orders:{success:!1,count:0,data:[],error:null}};if(a.platform==="manual")return{success:!0,message:"Toko manual tidak memerlukan sinkronisasi",results:i};n&&n("Sinkronisasi produk...");try{const d=await Mn.syncProducts(a);i.products={success:!0,count:d.count||((o=d.data)==null?void 0:o.length)||0,data:d.data||[]}}catch(d){i.products={success:!1,error:d.message,data:[]}}n&&n("Sinkronisasi pesanan...");try{const d=await Mn.syncOrders(a);i.orders={success:!0,count:d.count||((c=d.data)==null?void 0:c.length)||0,data:d.data||[]}}catch(d){i.orders={success:!1,error:d.message,data:[]}}return{success:i.products.success||i.orders.success,results:i}},syncAllStores:async(a,n=null)=>{const i=[],o=a.filter(c=>c.isActive&&c.platform!=="manual");for(let c=0;c<o.length;c++){const d=o[c];n&&n({current:c+1,total:o.length,store:d.shopName,status:"syncing"});try{const f=await Mn.fullSync(d);i.push({storeId:d.id,storeName:d.shopName,platform:d.platform,success:f.success,results:f.results})}catch(f){i.push({storeId:d.id,storeName:d.shopName,platform:d.platform,success:!1,error:f.message})}}return i},updateStock:async(a,n,i)=>{if(a.platform==="manual")return{success:!0,message:"Stok lokal diperbarui"};const o=Mn.getApi(a.platform);if(!o)throw new Error("Platform tidak didukung");return o.updateStock(a,n,i)},updateProduct:async(a,n,i,o)=>{if(a.platform==="manual")return{success:!0,message:"Produk lokal diperbarui"};const c=Mn.getApi(a.platform);if(!c||!c.updateProduct)throw new Error("Platform tidak mendukung update produk");return c.updateProduct(a,n,i,o)},getProducts:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=Mn.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getProducts(a,n)},getOrders:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=Mn.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getOrders(a,n)},getOrdersByStatus:async(a,n,i={})=>{if(a.platform==="manual")return{data:{response:{order_list:[]}}};const o=Mn.getApi(a.platform);if(!o||!o.getOrdersByStatus)throw new Error("Platform tidak mendukung getOrdersByStatus");return o.getOrdersByStatus(a,n,i)}},S_=Object.freeze(Object.defineProperty({__proto__:null,lazadaApi:hA,marketplaceService:Mn,shopeeApi:fA,tiktokApi:mA,tokopediaApi:pA},Symbol.toStringTag,{value:"Module"})),E_=window.location.hostname!=="localhost",N_=E_?"":"http://localhost:3001";async function C_(a,n,i){const o=i==null?void 0:i.find(p=>p.platform==="shopee"&&p.isConnected);if(!o)return{success:!1,error:"Shopee store not connected. Silakan hubungkan toko Shopee di halaman Integrasi Marketplace."};const{partnerId:c,partnerKey:d,accessToken:f}=o.credentials||{},h=o.shopId;if(!c||!d||!h||!f)return{success:!1,error:"Kredensial Shopee tidak lengkap. Silakan re-connect di halaman Integrasi Marketplace."};if(!a.shopeeItemId)return{success:!1,error:"Produk ini tidak memiliki Shopee Item ID"};try{return await(await fetch(`${N_}/api/shopee/update-product`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partner_id:c,partner_key:d,shop_id:h,access_token:f,item_id:a.shopeeItemId,model_id:a.shopeeModelId||null,price:n.price,stock:n.stock,sku:n.sku,action:"update_all"})})).json()}catch(p){return{success:!1,error:p.message}}}const Vl=()=>`SJA${Math.floor(1e5+Math.random()*9e5)}`,Kl=()=>Math.floor(1e8+Math.random()*9e8).toString();function I_(){const[a,n]=ce.useState(""),[i,o]=ce.useState("all"),[c,d]=ce.useState("all"),[f,h]=ce.useState(!1),[p,m]=ce.useState(null),[v,w]=ce.useState(!1),[y,x]=ce.useState(!1),[g,A]=ce.useState(!1),[j,C]=ce.useState(!1),[k,E]=ce.useState(null),[B,I]=ce.useState({}),[D,M]=ce.useState(!1),[T,H]=ce.useState([]),[_,F]=ce.useState(!1),[Q,L]=ce.useState(1),[ee,se]=ce.useState(20),[ue,W]=ce.useState(!1),[G,ne]=ce.useState(null),[de,te]=ce.useState(!1),{products:ae,categories:ie,addProduct:oe,updateProduct:De,deleteProduct:Ne,syncLocalToCloud:Le,isSyncing:Te}=zs(),{user:Ve}=M1(),{stores:Qe}=Fu(),ot=async()=>{if(confirm("Upload semua data produk lokal ke Cloud (Supabase)? Data di cloud dengan ID sama akan di-update.")){const O=await Le();O.success?alert(O.message):alert("Gagal sync: "+O.error)}},Ze=O=>{ne(O),W(!0)},Fe=async O=>{if(G){te(!0);try{const $=await C_(G,O,Qe);$.success?(alert(` Berhasil update ke Shopee!

`+(O.sku?`SKU: ${O.sku}
`:"")+(O.price?`Harga: Rp ${O.price.toLocaleString("id-ID")}
`:"")+(O.stock!==void 0?`Stok: ${O.stock}`:"")),W(!1),ne(null)):alert(` Gagal update ke Shopee:
`+($.error||"Unknown error"))}catch($){alert(" Error: "+$.message)}finally{te(!1)}}},Ke=()=>{const O=`nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
Contoh Produk,SKU001,123456789,Makanan,pcs,15000,10000,100,10,Deskripsi produk
`,$=new Blob([O],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a");le.href=URL.createObjectURL($),le.download="template-import-produk.csv",le.click()},Je=O=>{const $=O.target.files[0];if(!$)return;const le=new FileReader;le.onload=K=>{try{const J=K.target.result.split(`
`).filter(ge=>ge.trim()),fe=J[0].split(",").map(ge=>ge.trim().toLowerCase()),me=[];for(let ge=1;ge<J.length;ge++){const re=J[ge].split(",").map(xe=>xe.trim());if(re.length>=2){const xe={name:re[fe.indexOf("nama")]||re[0],sku:re[fe.indexOf("sku")]||Vl(),barcode:re[fe.indexOf("barcode")]||Kl(),category:re[fe.indexOf("kategori")]||"Lainnya",unit:re[fe.indexOf("satuan")]||"pcs",price:parseFloat(re[fe.indexOf("harga_jual")])||0,cost:parseFloat(re[fe.indexOf("harga_beli")])||0,stock:parseInt(re[fe.indexOf("stok")])||0,minStock:parseInt(re[fe.indexOf("stok_minimum")])||5,description:re[fe.indexOf("deskripsi")]||""};me.push(xe)}}H(me),M(!0)}catch(be){alert("Format file tidak valid: "+be.message)}},le.readAsText($),O.target.value=""},rt=async()=>{F(!0);let O=0;try{for(const $ of T)await oe({...$,code:`PRD${String(ae.length+O+1).padStart(3,"0")}`,source:"local"},Ve==null?void 0:Ve.id,Ve==null?void 0:Ve.name),O++;alert(`Berhasil import ${O} produk!`),M(!1),H([])}catch($){alert("Gagal import: "+$.message)}finally{F(!1)}},Xe=()=>{let O=`kode,nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
`;ae.forEach(K=>{O+=`${K.code||""},${K.name||""},${K.sku||""},${K.barcode||""},${K.category||""},${K.unit||""},${K.price||0},${K.cost||0},${K.stock||0},${K.minStock||0},"${(K.description||"").replace(/"/g,'""')}"
`});const $=new Blob([O],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a");le.href=URL.createObjectURL($),le.download=`produk-export-${new Date().toISOString().split("T")[0]}.csv`,le.click()},Se=O=>{A(!1),n(O);const $=ae.find(le=>le.barcode===O);$?alert(`Produk ditemukan: ${$.name}`):confirm(`Barcode ${O} tidak ditemukan. Buat produk baru?`)&&(m(null),h(!0))},pe=O=>{E(O),C(!0)},Me=ae.filter(O=>{const $=O.name.toLowerCase().includes(a.toLowerCase())||O.sku&&O.sku.toLowerCase().includes(a.toLowerCase())||O.code&&O.code.toLowerCase().includes(a.toLowerCase()),le=i==="all"||O.category===i;let K=c==="all";return c==="local"?K=!["shopee","lazada","tokopedia","tiktok"].includes(O.source):c==="marketplace"?K=["shopee","lazada","tokopedia","tiktok"].includes(O.source):c==="shopee"?K=O.source==="shopee":c==="lazada"?K=O.source==="lazada":c==="tokopedia"?K=O.source==="tokopedia":c==="tiktok"&&(K=O.source==="tiktok"),$&&le&&K}).reduce((O,$)=>{if($.variants&&Array.isArray($.variants)&&$.variants.length>0)return O[$.id]={parent:$,variants:$.variants.map(K=>({...K,id:K.id||K.modelId||`${$.id}-${K.sku||Math.random()}`,variantName:K.name||K.variantName,source:$.source,category:$.category,sku:K.sku||K.modelSku,price:K.price,stock:K.stock,image:K.image||$.image}))},O;const le=$.parentId||$.parentName||$.id;return O[le]||(O[le]={parent:null,variants:[]}),$.isVariant&&($.parentId||$.parentName)?(O[le].variants.push($),O[le].parent||(O[le].parent={id:le,name:$.parentName||$.name.split(" - ")[0],image:$.image,category:$.category,source:$.source,sku:$.sku?$.sku.split("-")[0]:"",shopeeItemId:$.shopeeItemId})):O[le].parent=$,O},{}),Re=Object.entries(Me).map(([O,$])=>{if($.variants.length>0){const K=$.variants.reduce((fe,me)=>fe+(me.stock||0),0),be=Math.min(...$.variants.map(fe=>fe.price||0)),J=Math.max(...$.variants.map(fe=>fe.price||0));return{...$.parent,isGrouped:!0,variantCount:$.variants.length,variants:$.variants,totalStock:K,priceRange:be===J?be:{min:be,max:J}}}return{...$.parent,isGrouped:!1,variants:[]}}),Ye=Re.length,ze=Math.ceil(Ye/ee),mt=(Q-1)*ee,lt=mt+ee,ht=Re.slice(mt,lt),yt=O=>$=>{O($),L(1)},jt=O=>{I($=>({...$,[O]:!$[O]}))},wt=ae.filter(O=>O.source==="shopee").length,Dt=ae.filter(O=>O.source==="lazada").length,Ct=ae.filter(O=>O.source==="tokopedia").length,Ut=ae.filter(O=>O.source==="tiktok").length,It=wt+Dt+Ct+Ut,kt=ae.filter(O=>!["shopee","lazada","tokopedia","tiktok"].includes(O.source)).length,P=O=>{p?(De(p.id,O),h(!1),m(null)):oe(O)},Y=O=>{m(O),h(!0)},q=O=>{confirm("Hapus produk ini?")&&Ne(O)};return u.jsxs("div",{className:"p-6 space-y-6",children:[g&&Et&&u.jsx(nT,{onScan:Se,onClose:()=>A(!1)}),j&&k&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Barcode Produk"}),u.jsx("button",{onClick:()=>C(!1),className:"text-gray-500",children:u.jsx(Bs,{size:24})})]}),u.jsxs("div",{className:"text-center mb-4",children:[u.jsx("p",{className:"font-medium",children:k.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",k.sku]})]}),u.jsx(VM,{value:k.barcode||k.sku,format:"code128"})]})}),D&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"Preview Import"}),u.jsxs("p",{className:"text-gray-600 text-sm",children:[T.length," produk akan diimport"]})]}),u.jsx("button",{onClick:()=>M(!1),className:"text-gray-500",children:u.jsx(Bs,{size:24})})]}),u.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"#"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Nama"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Kategori"}),u.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Harga"}),u.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Stok"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map((O,$)=>{var le;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:$+1}),u.jsx("td",{className:"px-3 py-2 text-sm font-medium",children:O.name}),u.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:O.sku}),u.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:O.category}),u.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["Rp ",(le=O.price)==null?void 0:le.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-3 py-2 text-sm text-right",children:O.stock})]},$)})})]})}),u.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[u.jsx("button",{onClick:()=>M(!1),className:"btn btn-secondary flex-1",children:"Batal"}),u.jsx("button",{onClick:rt,disabled:_,className:"btn btn-success flex-1 disabled:opacity-50",children:_?"Memproses...":`Import ${T.length} Produk`})]})]})}),u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 ",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`${Et?"text-xl":"text-2xl md:text-3xl"} font-bold text-gray-900`,children:"Produk"}),u.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[ae.length," produk tersimpan"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[!Et&&u.jsxs("button",{onClick:ot,disabled:Te,className:"btn btn-outline flex items-center gap-1 text-blue-600 border-blue-200 hover:bg-blue-50",title:"Upload data lokal ke Cloud",children:[u.jsx(tu,{size:18,className:Te?"animate-bounce":""}),u.jsx("span",{className:"hidden md:inline",children:Te?"Syncing...":"Sync Cloud"})]}),!Et&&u.jsxs("div",{className:"flex gap-1",children:[u.jsxs("button",{onClick:Xe,className:"btn btn-outline flex items-center gap-1",title:"Export ke CSV",children:[u.jsx(Gl,{size:18}),u.jsx("span",{className:"hidden md:inline",children:"Export"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"file",id:"csv-import",accept:".csv",onChange:Je,className:"hidden"}),u.jsxs("label",{htmlFor:"csv-import",className:"btn btn-outline flex items-center gap-1 cursor-pointer",title:"Import dari CSV",children:[u.jsx(Lm,{size:18}),u.jsx("span",{className:"hidden md:inline",children:"Import"})]})]}),u.jsx("button",{onClick:Ke,className:"btn btn-outline flex items-center gap-1",title:"Download Template CSV",children:u.jsx(MR,{size:18})})]}),Et&&u.jsxs("button",{onClick:()=>A(!0),className:"btn btn-primary flex items-center gap-2 px-3 py-2",children:[u.jsx(SR,{size:20}),"Scan"]}),u.jsxs("button",{onClick:()=>{m(null),h(!0)},className:`btn btn-primary flex items-center gap-2 ${Et?"px-3 py-2":""}`,children:[u.jsx(en,{size:Et?18:20}),Et?"Tambah":u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"hidden sm:inline",children:"Tambah"})," Produk"]})]})]})]}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:`flex flex-col ${Et?"gap-2":"md:flex-row gap-4"}`,children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(po,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:Et?18:20}),u.jsx("input",{type:"text",value:a,onChange:O=>{n(O.target.value),L(1)},placeholder:"Cari produk...",className:`w-full pl-10 input ${Et?"text-sm py-2":""}`})]}),u.jsxs("select",{value:i,onChange:O=>yt(o)(O.target.value),className:`input ${Et?"text-sm py-2":"w-full md:w-48"}`,children:[u.jsx("option",{value:"all",children:"Semua Kategori"}),ie.map(O=>u.jsx("option",{value:O,children:O},O))]}),!Et&&u.jsxs("select",{value:c,onChange:O=>yt(d)(O.target.value),className:"input w-full md:w-52",children:[u.jsxs("option",{value:"all",children:["Semua (",ae.length,")"]}),u.jsxs("option",{value:"local",children:["Lokal (",kt,")"]}),u.jsxs("option",{value:"marketplace",children:["Marketplace (",It,")"]}),wt>0&&u.jsxs("option",{value:"shopee",children:[" Shopee (",wt,")"]}),Dt>0&&u.jsxs("option",{value:"lazada",children:[" Lazada (",Dt,")"]}),Ct>0&&u.jsxs("option",{value:"tokopedia",children:[" Tokopedia (",Ct,")"]}),Ut>0&&u.jsxs("option",{value:"tiktok",children:[" TikTok (",Ut,")"]})]})]})}),Et?u.jsxs("div",{className:"space-y-3",children:[ht.map(O=>{var $;return u.jsx("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 active:bg-gray-50",onClick:()=>{m(O),h(!0)},children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:O.image?u.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx(Vn,{size:24,className:"text-gray-400"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-gray-900 truncate",children:O.name}),u.jsx("p",{className:"text-xs text-gray-500",children:O.sku||O.code}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[u.jsxs("p",{className:"text-primary font-bold",children:["Rp ",($=O.price)==null?void 0:$.toLocaleString("id-ID")]}),u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${O.stock===0?"bg-red-100 text-red-700":O.stock<=(O.minStock||5)?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:["Stok: ",O.stock]})]})]})]})},O.id)}),ht.length===0&&u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Tidak ada produk ditemukan"})]}):u.jsxs("div",{className:"card overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-14",children:"Foto"}),u.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-24",children:"SKU"}),u.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),u.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-20",children:"Kategori"}),u.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-16",children:"Tipe"}),u.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Modal"}),u.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Harga"}),u.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Margin"}),u.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-16",children:"Stok"}),u.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Status"}),u.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-16",children:"Aksi"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ht.map(O=>u.jsxs(u.Fragment,{children:[u.jsxs("tr",{className:`hover:bg-gray-50 ${O.isGrouped?"bg-blue-50/30":""}`,children:[u.jsx("td",{className:"px-2 py-2",children:u.jsxs("div",{className:"flex items-center gap-1",children:[O.isGrouped?u.jsx("button",{onClick:()=>jt(O.id),className:"p-1 hover:bg-blue-100 rounded transition-colors",title:B[O.id]?"Tutup varian":"Lihat varian",children:B[O.id]?u.jsx(NR,{size:18,className:"text-blue-600"}):u.jsx(gy,{size:18,className:"text-blue-600"})}):u.jsx("div",{className:"w-6"}),u.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:[O.image?u.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}):null,u.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${O.image?"hidden":"flex"}`,children:u.jsx(ru,{size:16})})]})]})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:O.sku||O.code,children:O.isGrouped?u.jsxs("span",{className:"text-gray-400 italic text-xs",children:[O.variantCount," varian"]}):u.jsx("span",{className:"truncate block",children:O.sku||(O.source==="shopee"?"-":O.code)})}),u.jsx("td",{className:"px-2 py-2",onClick:()=>O.isGrouped&&jt(O.id),children:u.jsx("div",{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:O.name}),O.source==="shopee"&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[u.jsx(lc,{size:10}),"Shopee"]}),O.isGrouped&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:[O.variantCount," Varian"]}),!O.isGrouped&&u.jsxs("button",{onClick:$=>{$.stopPropagation(),Y(O)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Produk",children:[u.jsx($o,{size:12}),"Edit"]})]})})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:u.jsx("span",{className:"badge badge-info text-xs",children:O.category})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:u.jsx("span",{className:`badge text-xs ${O.isPackage?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:O.isPackage?"Paket":"Satuan"})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600",children:O.isGrouped?"-":`Rp ${(O.costPrice||O.cost||0).toLocaleString("id-ID")}`}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold",children:O.isGrouped?typeof O.priceRange=="object"?u.jsxs("span",{className:"text-sm",children:["Rp ",O.priceRange.min.toLocaleString("id-ID")," - ",O.priceRange.max.toLocaleString("id-ID")]}):`Rp ${(O.priceRange||0).toLocaleString("id-ID")}`:`Rp ${(O.price||0).toLocaleString("id-ID")}`}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:O.isGrouped?u.jsx("span",{className:"text-gray-400",children:"-"}):u.jsxs("div",{children:[u.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",((O.price||0)-(O.costPrice||O.cost||0)).toLocaleString("id-ID")]}),(O.costPrice||O.cost)>0&&u.jsxs("p",{className:"text-xs text-gray-500",children:[(((O.price||0)-(O.costPrice||O.cost))/(O.costPrice||O.cost)*100).toFixed(1),"%"]})]})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:u.jsx("span",{className:`font-semibold text-xs ${(O.isGrouped?O.totalStock:O.stock)<=(O.minStock||5)?"text-red-600":(O.isGrouped?O.totalStock:O.stock)<=(O.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:O.isGrouped?O.totalStock:O.stock||0})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:(O.isGrouped?O.totalStock:O.stock)<=(O.minStock||5)?u.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):u.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:u.jsxs("div",{className:"flex gap-1 justify-end",children:[O.barcode&&!O.isGrouped&&u.jsx("button",{onClick:()=>pe(O),className:"text-purple-600 hover:text-purple-700 p-1",title:"Lihat Barcode",children:u.jsx(QR,{size:14})}),!O.isGrouped&&u.jsx("button",{onClick:()=>Y(O),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Produk",children:u.jsx($o,{size:14})}),O.source!=="shopee"&&!O.isGrouped&&u.jsx("button",{onClick:()=>q(O.id),className:"text-red-600 hover:text-red-700 p-1",title:"Hapus Produk",children:u.jsx(s1,{size:14})}),O.source==="shopee"&&!O.isGrouped&&u.jsx("button",{onClick:()=>Ze(O),className:"text-green-600 hover:text-green-700 p-1",title:"Update ke Shopee",children:u.jsx(gi,{size:14})}),O.source==="shopee"&&u.jsx("a",{href:`https://shopee.co.id/product/${O.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 p-1",title:"Lihat di Shopee",children:u.jsx(Rb,{size:14})})]})})]},O.id),O.isGrouped&&B[O.id]&&O.variants.map(($,le)=>u.jsxs("tr",{className:"bg-blue-50/50 hover:bg-blue-100/70 border-l-4 border-blue-300",children:[u.jsx("td",{className:"px-2 py-2",children:u.jsx("div",{className:"flex items-center gap-1 pl-7",children:u.jsxs("div",{className:"w-8 h-8 rounded overflow-hidden bg-white border-2 border-blue-200 flex items-center justify-center",children:[$.image?u.jsx("img",{src:$.image,alt:$.name,className:"w-full h-full object-cover",onError:K=>{K.target.style.display="none",K.target.nextSibling.style.display="flex"}}):null,u.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${$.image?"hidden":"flex"}`,children:u.jsx(ru,{size:12})})]})})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:$.sku,children:u.jsx("span",{className:"bg-white px-1.5 py-0.5 rounded border border-blue-200",children:$.sku||"-"})}),u.jsx("td",{className:"px-2 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-blue-400 text-sm font-bold",children:""}),u.jsx("p",{className:"text-sm font-medium text-gray-800",children:$.variantName||$.name}),u.jsxs("span",{className:"text-xs text-gray-500 bg-white px-1.5 py-0.5 rounded border border-blue-200",children:["Varian ",le+1]}),u.jsxs("button",{onClick:()=>Y($),className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-blue-600 bg-white hover:bg-blue-50 rounded border border-blue-200",title:"Edit Varian",children:[u.jsx($o,{size:10}),"Edit"]})]})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:u.jsx("span",{className:"badge badge-info text-xs",children:$.category})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:u.jsx("span",{className:"badge bg-gray-100 text-gray-600 text-xs",children:"Varian"})}),u.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600 text-xs",children:["Rp ",($.costPrice||$.cost||0).toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold text-xs",children:["Rp ",($.price||0).toLocaleString("id-ID")]}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:u.jsxs("span",{className:"font-semibold text-green-600 text-xs",children:["Rp ",(($.price||0)-($.costPrice||$.cost||0)).toLocaleString("id-ID")]})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:u.jsx("span",{className:`font-semibold text-xs ${$.stock<=($.minStock||5)?"text-red-600":$.stock<=($.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:$.stock||0})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:$.stock<=($.minStock||5)?u.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):u.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),u.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:u.jsxs("div",{className:"flex gap-1 justify-end",children:[u.jsx("button",{onClick:()=>Y($),className:"text-blue-500 hover:text-blue-600 p-1",title:"Edit Varian",children:u.jsx($o,{size:14})}),$.source==="shopee"&&u.jsx("button",{onClick:()=>Ze($),className:"text-green-500 hover:text-green-600 p-1",title:"Update ke Shopee",children:u.jsx(gi,{size:14})}),$.source==="shopee"&&u.jsx("a",{href:`https://shopee.co.id/product/${$.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 p-1",title:"Lihat di Shopee",children:u.jsx(Rb,{size:14})})]})})]},$.id))]}))})]})}),ze>1&&u.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan ",u.jsx("span",{className:"font-medium",children:mt+1})," - ",u.jsx("span",{className:"font-medium",children:Math.min(lt,Ye)})," dari ",u.jsx("span",{className:"font-medium",children:Ye})," produk"]}),u.jsxs("select",{value:ee,onChange:O=>{se(Number(O.target.value)),L(1)},className:"input py-1 px-2 text-sm",children:[u.jsx("option",{value:10,children:"10 per halaman"}),u.jsx("option",{value:20,children:"20 per halaman"}),u.jsx("option",{value:50,children:"50 per halaman"}),u.jsx("option",{value:100,children:"100 per halaman"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>L(1),disabled:Q===1,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pertama"}),u.jsx("button",{onClick:()=>L(O=>Math.max(1,O-1)),disabled:Q===1,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:" Prev"}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,ze)},(O,$)=>{let le;return ze<=5||Q<=3?le=$+1:Q>=ze-2?le=ze-4+$:le=Q-2+$,u.jsx("button",{onClick:()=>L(le),className:`px-3 py-1 text-sm border rounded ${Q===le?"bg-primary text-white border-primary":"hover:bg-gray-50"}`,children:le},le)})}),u.jsx("button",{onClick:()=>L(O=>Math.min(ze,O+1)),disabled:Q===ze,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "}),u.jsx("button",{onClick:()=>L(ze),disabled:Q===ze,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Terakhir"})]})]})]}),f&&u.jsx(B_,{product:p,categories:ie,onClose:()=>{h(!1),m(null)},onSubmit:P,onManageCategories:()=>w(!0),onManageUnits:()=>x(!0)}),v&&u.jsx(D_,{categories:ie,onClose:()=>w(!1)}),y&&u.jsx(R_,{onClose:()=>x(!1)}),ue&&G&&u.jsx(M_,{product:G,onClose:()=>{W(!1),ne(null)},onSync:Fe,isSyncing:de})]})}function B_({product:a,categories:n,onClose:i,onSubmit:o,onManageCategories:c,onManageUnits:d}){const{products:f,units:h}=zs(),[p,m]=ce.useState(!1),[v,w]=ce.useState(!1),[y,x]=ce.useState(null),[g,A]=ce.useState(a||{sku:Vl(),name:"",category:n[0],costPrice:"",price:"",stock:"",minStock:"",unit:"pcs",barcode:Kl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),[j,C]=ce.useState(!1),[k,E]=ce.useState(""),[B,I]=ce.useState(!1),D=W=>W.replace(/\b\w/g,G=>G.toUpperCase()),M=W=>W.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),T=W=>parseInt(W.toString().replace(/\D/g,""))||0,H=(W,G)=>{const ne=W.target.files[0];if(ne){const de=new FileReader;de.onloadend=()=>{const te=[...g.photos||[]];te[G]=de.result,A({...g,photos:te})},de.readAsDataURL(ne)}},_=W=>{const G=[...g.photos||[]];G[W]=null,A({...g,photos:G})},F=async W=>{var Ne,Le,Te,Ve,Qe,ot;W.preventDefault();const G=g.hasVariants&&g.variants?g.variants.reduce((Ze,Fe)=>Ze+parseInt(Fe.stock||0),0):0,ne=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((Ze,Fe)=>{const Ke=parseInt(Fe.stock||0),Je=parseFloat(Fe.costPrice||0);return Ze+Ke*Je},0)/(G||1):0,de=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((Ze,Fe)=>{const Ke=parseInt(Fe.stock||0),Je=parseFloat(Fe.price||0);return Ze+Ke*Je},0)/(G||1):0;let te=parseFloat(g.costPrice)||0,ae=parseFloat(g.price)||0,ie=parseInt(g.stock)||0,oe=parseInt(g.minStock)||0;g.isPackage&&g.packageItems&&g.packageItems.length>0&&(te=g.packageItems.reduce((Ze,Fe)=>{const Ke=f.find(Je=>Je.id===Fe.id);return Ze+((Ke==null?void 0:Ke.costPrice)||0)*Fe.qty},0)),g.hasVariants&&g.variants&&g.variants.length>0&&(ie=G,te=ne,ae=de,oe=ue);const De={...g,costPrice:te,price:ae,stock:ie,minStock:oe};if(p&&a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)){w(!0);const Ze=a.source.charAt(0).toUpperCase()+a.source.slice(1);x({type:"info",text:`Menyinkronkan ke ${Ze}...`}),console.log(" Starting marketplace sync...",{platform:a.source,productId:a.shopeeItemId||a.lazadaItemId||a.tokopediaProductId||a.tiktokProductId,updates:{name:g.name,price:ae,stock:ie,sku:g.sku}});try{let Fe=null;const Ke=JSON.parse(localStorage.getItem("marketplace-stores-storage")||"{}"),Je=((Ne=Ke==null?void 0:Ke.state)==null?void 0:Ne.stores)||[];if(console.log(" Checking Zustand marketplace stores:",Je),Fe=Je.find(Ie=>Ie.platform===a.source&&Ie.isConnected),!Fe){const Ie=JSON.parse(localStorage.getItem("marketplace_stores")||"[]");console.log(" Checking marketplace_stores array:",Ie),Fe=Ie.find(Me=>Me.platform===a.source&&Me.isActive)}if(!Fe&&a.source==="shopee"){console.log(" Fetching Shopee credentials from Supabase...");try{const{createClient:Ie}=await kc(async()=>{const{createClient:Ye}=await Promise.resolve().then(()=>uR);return{createClient:Ye}},void 0),Me="https://naydyhkqodppdhzwkctr.supabase.co",Re="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c";if(Me&&Re&&Me!=="your-supabase-url"){const Ye=Ie(Me.trim(),Re.trim()),{data:ze,error:mt}=await Ye.from("shopee_tokens").select("*").limit(1).maybeSingle();!mt&&ze?(Fe={platform:"shopee",shopId:ze.shop_id,shopName:"Shopee Store",isActive:!0,credentials:{partnerId:ze.partner_id,partnerKey:ze.partner_key,accessToken:ze.access_token}},console.log(" Successfully fetched Shopee credentials from Supabase:",{source:"SUPABASE",partnerId:ze.partner_id,shopId:ze.shop_id,hasAccessToken:!!ze.access_token,accessTokenLength:(Le=ze.access_token)==null?void 0:Le.length,accessTokenPreview:ze.access_token?`${ze.access_token.substring(0,15)}...`:"none"})):mt?console.error(" Failed to get Shopee credentials from Supabase:",mt.message):console.warn(" No Shopee credentials found in Supabase")}}catch(Ie){console.error(" Error reading from Supabase:",Ie.message)}if(!Fe){console.log(" Trying localStorage as fallback...");const{user:Ie}=M1.getState(),Me=(Ie==null?void 0:Ie.id)||"default",Re=ht=>`${ht}_user_${Me}`,Ye=localStorage.getItem(Re("shopee_partner_id")),ze=localStorage.getItem(Re("shopee_partner_key")),mt=localStorage.getItem(Re("shopee_shop_id")),lt=localStorage.getItem(Re("shopee_access_token"));console.log(" Shopee credentials from localStorage:",{partnerId:Ye?` ${Ye}`:" Not found",partnerKey:ze?" Found":" Not found",shopId:mt?` ${mt}`:" Not found",accessToken:lt?" Found":" Not found"}),Ye&&ze&&mt&&lt?(Fe={platform:"shopee",shopId:mt,shopName:(Ie==null?void 0:Ie.name)||"Shopee Store",isActive:!0,credentials:{partnerId:Ye,partnerKey:ze,accessToken:lt}},console.log(" Successfully built store object from localStorage:",{source:"LOCALSTORAGE",partnerId:Ye,shopId:mt,hasAccessToken:!!lt,accessTokenLength:lt==null?void 0:lt.length,accessTokenPreview:lt?`${lt.substring(0,15)}...`:"none"})):console.error(" Missing Shopee credentials in both Supabase and localStorage")}}if(console.log(" Final store data:",Fe?"Found":"Not found",Fe),!Fe){const Ie=`Toko ${Ze} tidak ditemukan atau tidak aktif`;w(!1),x({type:"error",text:` ${Ie}`}),alert(` Gagal Update ke ${Ze}

${Ie}

Silakan cek koneksi marketplace di Pengaturan.`),setTimeout(()=>x(null),5e3),o(De);return}const rt={name:g.name,price:ae,stock:ie,sku:g.sku};let Xe,Se;if(a.source==="shopee"){if(Xe=a.shopeeItemId,Se=a.shopeeModelId||a.modelId||a.model_id,!Xe){console.error(" Missing shopeeItemId for product:",a.name),alert(` Error: Produk ini tidak memiliki Shopee Item ID.

Produk: ${a.name}

Silakan sync ulang produk dari Shopee.`),w(!1),x({type:"error",text:" Missing Shopee Item ID"}),setTimeout(()=>x(null),5e3),o(De);return}console.log(" Shopee Product IDs:",{itemId:Xe,modelId:Se,productName:a.name,hasModelId:!!Se,productFields:{shopeeModelId:a.shopeeModelId,modelId:a.modelId,model_id:a.model_id}})}else a.source==="lazada"?(Xe=a.lazadaItemId,Se=a.lazadaSkuId):a.source==="tokopedia"?(Xe=a.tokopediaProductId,Se=null):a.source==="tiktok"&&(Xe=a.tiktokProductId,Se=null);console.log(" Calling marketplace API...",{productId:Xe,variantId:Se,updates:rt});const pe=await Mn.updateProduct(Fe,Xe,Se,rt);if(console.log(" API Response:",pe),w(!1),pe.success){const Ie=` Berhasil update ke ${Ze}!`;x({type:"success",text:Ie}),alert(`${Ie}

 Nama: ${g.name}
 Harga: Rp ${ae.toLocaleString("id-ID")}
 Stok: ${ie}
 SKU: ${g.sku}`)}else{console.error(" Full error response:",JSON.stringify(pe,null,2));let Ie=pe.error||"Unknown error";if(pe.details){const Me=[];(Te=pe.details.name)!=null&&Te.error&&Me.push(`Name: ${pe.details.name.message||pe.details.name.error}`),(Ve=pe.details.price)!=null&&Ve.error&&Me.push(`Price: ${pe.details.price.message||pe.details.price.error}`),(Qe=pe.details.stock)!=null&&Qe.error&&Me.push(`Stock: ${pe.details.stock.message||pe.details.stock.error}`),(ot=pe.details.sku)!=null&&ot.error&&Me.push(`SKU: ${pe.details.sku.message||pe.details.sku.error}`),Me.length>0&&(Ie=Me.join(`
`))}x({type:"error",text:` Gagal update: ${Ie}`}),alert(` Gagal Update ke ${Ze}

${Ie}

Data lokal tetap tersimpan.`)}}catch(Fe){console.error(" Marketplace sync error:",Fe),w(!1);const Ke=Fe.message||"Unknown error";x({type:"error",text:` Gagal update: ${Ke}`}),alert(` Gagal Update ke ${Ze}

${Ke}

Data lokal tetap tersimpan.`)}setTimeout(()=>x(null),1e4)}o(De),a||(A({sku:Vl(),name:"",category:n[0]||"",costPrice:"",price:"",stock:"",minStock:"",unit:h[0]||"pcs",barcode:Kl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),E(""))},Q=g.isPackage&&g.packageItems?g.packageItems.reduce((W,G)=>{const ne=f.find(de=>de.id===G.id);return W+((ne==null?void 0:ne.costPrice)||0)*G.qty},0):0,L=g.hasVariants&&g.variants?g.variants.reduce((W,G)=>W+parseInt(G.stock||0),0):0,ee=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((W,G)=>W+parseFloat(G.costPrice||0)*parseInt(G.stock||0),0)/L:0,se=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((W,G)=>W+parseFloat(G.price||0)*parseInt(G.stock||0),0)/L:0,ue=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((W,G)=>W+parseInt(G.minStock||0),0):0;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Produk":"Tambah Produk Baru"}),(a==null?void 0:a.source)==="shopee"&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[u.jsx(lc,{size:12}),"Shopee"]})]}),u.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),y&&u.jsx("div",{className:`mx-6 mt-4 p-3 rounded-lg text-sm ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":y.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:y.text}),u.jsxs("form",{onSubmit:F,className:"p-6 space-y-4 overflow-y-auto flex-1",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Produk *"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:g.sku,onChange:W=>A({...g,sku:W.target.value}),className:"input flex-1",placeholder:"SJA123456",required:!0}),u.jsx("button",{type:"button",onClick:()=>A({...g,sku:Vl()}),className:"btn btn-secondary",title:"Generate SKU",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: SJA + 6 angka"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:g.barcode,onChange:W=>A({...g,barcode:W.target.value}),className:"input flex-1",placeholder:"123456789"}),u.jsx("button",{type:"button",onClick:()=>A({...g,barcode:Kl()}),className:"btn btn-secondary",title:"Generate Barcode",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 digit angka"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Produk *"}),u.jsx("input",{type:"text",value:g.name,onChange:W=>A({...g,name:D(W.target.value)}),className:"input",placeholder:"Nama Lengkap Produk",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Produk *"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",checked:!g.isPackage,onChange:()=>A({...g,isPackage:!1,packageItems:[]}),className:"w-4 h-4"}),u.jsx("span",{children:"Produk Satuan"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",checked:g.isPackage,onChange:()=>A({...g,isPackage:!0}),className:"w-4 h-4"}),u.jsx("span",{children:"Produk Paket"})]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.isPackage?"Paket berisi beberapa produk bundling":"Produk dijual satuan"})]}),g.isPackage&&u.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-semibold text-purple-900",children:"Isi Paket Bundling"}),u.jsxs("button",{type:"button",onClick:()=>C(!j),className:"btn btn-primary btn-sm",children:[u.jsx(en,{size:16}),"Tambah Produk"]})]}),j&&u.jsxs("div",{className:"mb-4 bg-white rounded-lg p-3 border",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx(po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"text",value:k,onChange:W=>E(W.target.value),placeholder:"Cari produk untuk ditambahkan ke paket...",className:"input w-full pl-10 text-sm"})]}),u.jsx("div",{className:"overflow-x-auto max-h-64 overflow-y-auto border rounded",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-100 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"SKU"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Nama Produk"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Kategori"}),u.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Modal"}),u.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Jual"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),u.jsx("tbody",{className:"bg-white divide-y",children:f.filter(W=>!W.isPackage&&W.id!==(a==null?void 0:a.id)).filter(W=>!k||W.name.toLowerCase().includes(k.toLowerCase())||W.sku&&W.sku.toLowerCase().includes(k.toLowerCase())||W.code&&W.code.toLowerCase().includes(k.toLowerCase())).map(W=>{var ne;const G=(ne=g.packageItems)==null?void 0:ne.find(de=>de.id===W.id);return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:W.sku||W.code}),u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:W.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Stok: ",W.stock," ",W.unit]})]})}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"text-xs badge badge-info",children:W.category})}),u.jsxs("td",{className:"px-3 py-2 text-right text-gray-600",children:["Rp ",(W.costPrice||0).toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-3 py-2 text-right font-semibold",children:["Rp ",W.price.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-3 py-2",children:G?u.jsx("input",{type:"number",min:"1",value:G.qty,onChange:de=>{const te=g.packageItems.map(ae=>ae.id===W.id?{...ae,qty:parseInt(de.target.value)||1}:ae);A({...g,packageItems:te})},className:"input input-sm w-16 text-center",onClick:de=>de.stopPropagation()}):u.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),u.jsx("td",{className:"px-3 py-2 text-center",children:G?u.jsx("button",{type:"button",onClick:()=>{A({...g,packageItems:g.packageItems.filter(de=>de.id!==W.id)})},className:"text-red-600 hover:text-red-700",title:"Hapus dari paket",children:u.jsx(s1,{size:16})}):u.jsx("button",{type:"button",onClick:()=>{A({...g,packageItems:[...g.packageItems||[],{id:W.id,name:W.name,sku:W.sku||W.code,costPrice:W.costPrice||0,price:W.price,qty:1}]})},className:"text-green-600 hover:text-green-700",title:"Tambah ke paket",children:u.jsx(en,{size:16})})})]},W.id)})})]})})]}),g.packageItems&&g.packageItems.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm font-medium text-purple-900",children:["Produk dalam Paket (",g.packageItems.length,"):"]}),g.packageItems.map((W,G)=>u.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-sm",children:W.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[W.sku,"  ",W.qty,"x"]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right text-sm",children:[u.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",((W.costPrice||0)*W.qty).toLocaleString("id-ID")]}),u.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",(W.price*W.qty).toLocaleString("id-ID")]})]}),u.jsx("button",{type:"button",onClick:()=>{A({...g,packageItems:g.packageItems.filter((ne,de)=>de!==G)})},className:"text-red-600 hover:text-red-700",children:u.jsx(Bs,{size:16})})]})]},W.id)),u.jsxs("div",{className:"bg-purple-100 p-4 rounded border border-purple-300 space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-purple-900",children:"Total Modal Paket:"}),u.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["Rp ",Q.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-purple-900",children:"Total Nilai Jual:"}),u.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["Rp ",g.packageItems.reduce((W,G)=>W+G.price*G.qty,0).toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-purple-300",children:[u.jsx("span",{className:"font-bold text-purple-900",children:"Margin Paket:"}),u.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",(g.packageItems.reduce((W,G)=>W+G.price*G.qty,0)-Q).toLocaleString("id-ID")]})]}),u.jsx("p",{className:"text-xs text-purple-700 mt-2",children:" Anda bisa set harga jual paket berbeda dari total nilai produk"})]})]}):u.jsxs("div",{className:"text-center py-6 text-gray-500",children:[u.jsx(Vn,{size:48,className:"mx-auto mb-2 text-gray-400"}),u.jsx("p",{className:"text-sm",children:"Belum ada produk dalam paket"}),u.jsx("p",{className:"text-xs",children:'Klik "Tambah Produk" untuk memulai'})]})]}),u.jsxs("div",{className:"border-2 border-dashed border-indigo-300 rounded-lg p-4 bg-indigo-50",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"hasVariants",checked:g.hasVariants,onChange:W=>{A({...g,hasVariants:W.target.checked,variants:W.target.checked?g.variants:[]})},className:"w-4 h-4"}),u.jsx("label",{htmlFor:"hasVariants",className:"font-semibold text-indigo-900",children:"Produk Memiliki Varian"})]})}),g.hasVariants&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{type:"button",onClick:()=>I(!0),className:"btn btn-primary btn-sm",children:[u.jsx(en,{size:16}),"Tambah Varian"]}),g.variants&&g.variants.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm font-medium text-indigo-900",children:["Varian Tersedia (",g.variants.length,"):"]}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:g.variants.map((W,G)=>u.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-sm",children:W.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",W.sku,"  Barcode: ",W.barcode]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right text-sm",children:[u.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",W.costPrice.toLocaleString("id-ID")]}),u.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",W.price.toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-xs text-blue-600",children:["Stok: ",W.stock]})]}),u.jsx("button",{type:"button",onClick:()=>{A({...g,variants:g.variants.filter((ne,de)=>de!==G)})},className:"text-red-600 hover:text-red-700",children:u.jsx(Bs,{size:16})})]})]},G))}),u.jsx("div",{className:"bg-indigo-100 p-4 rounded border border-indigo-300",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-900",children:"Total Stok Semua Varian:"}),u.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[g.variants.reduce((W,G)=>W+parseInt(G.stock||0),0)," pcs"]})]})})]}):u.jsxs("div",{className:"text-center py-6 text-gray-500 bg-white rounded border border-dashed",children:[u.jsx(Vn,{size:48,className:"mx-auto mb-2 text-gray-400"}),u.jsx("p",{className:"text-sm",children:"Belum ada varian"}),u.jsx("p",{className:"text-xs",children:'Klik "Tambah Varian" untuk memulai'})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Foto Produk (Maksimal 3)"}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:[0,1,2].map(W=>{var G;return u.jsx("div",{className:"relative",children:(G=g.photos)!=null&&G[W]?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:g.photos[W],alt:`Foto ${W+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-300"}),u.jsx("button",{type:"button",onClick:()=>_(W),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Bs,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[u.jsx(ru,{size:32,className:"text-gray-400 mb-2"}),u.jsxs("span",{className:"text-xs text-gray-500",children:["Upload Foto ",W+1]}),u.jsx("input",{type:"file",accept:"image/*",onChange:ne=>H(ne,W),className:"hidden"})]})},W)})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium",children:"Kategori *"}),u.jsx("button",{type:"button",onClick:c,className:"text-xs text-primary hover:underline",children:"Kelola Kategori"})]}),u.jsx("select",{value:g.category,onChange:W=>A({...g,category:W.target.value}),className:"input",required:!0,children:n.map(W=>u.jsx("option",{value:W,children:W},W))})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium",children:"Satuan *"}),u.jsx("button",{type:"button",onClick:d,className:"text-xs text-primary hover:underline",children:"Kelola Satuan"})]}),u.jsxs("select",{value:g.unit,onChange:W=>A({...g,unit:W.target.value}),className:"input",required:!0,children:[u.jsx("option",{value:"pcs",children:"Pcs"}),u.jsx("option",{value:"kg",children:"Kg"}),u.jsx("option",{value:"liter",children:"Liter"}),u.jsx("option",{value:"box",children:"Box"}),u.jsx("option",{value:"pack",children:"Pack"}),u.jsx("option",{value:"lusin",children:"Lusin"}),u.jsx("option",{value:"gross",children:"Gross"}),u.jsx("option",{value:"roll",children:"Roll"}),u.jsx("option",{value:"porsi",children:"Porsi"}),u.jsx("option",{value:"gelas",children:"Gelas"}),u.jsx("option",{value:"paket",children:"Paket"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal *",g.isPackage&&u.jsx("span",{className:"text-purple-600 text-xs ml-2",children:"(Otomatis dari isi paket)"}),g.hasVariants&&g.variants&&g.variants.length>0&&u.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),u.jsx("input",{type:"text",value:g.isPackage?M(Q):g.hasVariants&&g.variants&&g.variants.length>0?M(Math.round(ee)):M(g.costPrice||""),onChange:W=>A({...g,costPrice:T(W.target.value)}),className:"input pl-10",placeholder:"0",disabled:g.isPackage||g.hasVariants&&g.variants&&g.variants.length>0,required:!0})]}),!g.isPackage&&!g.hasVariants&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Harga beli/modal produk"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual *",g.isPackage&&g.costPrice&&u.jsxs("span",{className:"text-green-600 text-xs ml-2",children:["(Margin: Rp ",(parseFloat(g.price||0)-Q).toLocaleString("id-ID"),")"]}),g.hasVariants&&g.variants&&g.variants.length>0&&u.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),u.jsx("input",{type:"text",value:g.hasVariants&&g.variants&&g.variants.length>0?M(Math.round(se)):M(g.price||""),onChange:W=>A({...g,price:T(W.target.value)}),className:"input pl-10",placeholder:"0",disabled:g.hasVariants&&g.variants&&g.variants.length>0,required:!0})]}),!g.isPackage&&!g.hasVariants&&g.costPrice&&g.price&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Margin: Rp ",(parseFloat(g.price)-parseFloat(g.costPrice)).toLocaleString("id-ID")," ","(",((parseFloat(g.price)-parseFloat(g.costPrice))/parseFloat(g.costPrice)*100).toFixed(1),"%)"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok *",g.hasVariants&&g.variants&&g.variants.length>0&&u.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),u.jsx("input",{type:"number",value:g.hasVariants&&g.variants&&g.variants.length>0?L:g.stock,onChange:W=>{g.hasVariants&&g.variants&&g.variants.length>0||A({...g,stock:W.target.value})},className:`input ${g.hasVariants&&g.variants&&g.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:g.hasVariants&&g.variants&&g.variants.length>0,required:!(g.hasVariants&&g.variants&&g.variants.length>0)})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Minimum *",g.hasVariants&&g.variants&&g.variants.length>0&&u.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),u.jsx("input",{type:"number",value:g.hasVariants&&g.variants&&g.variants.length>0?ue:g.minStock,onChange:W=>{g.hasVariants&&g.variants&&g.variants.length>0||A({...g,minStock:W.target.value})},className:`input ${g.hasVariants&&g.variants&&g.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:g.hasVariants&&g.variants&&g.variants.length>0,required:!(g.hasVariants&&g.variants&&g.variants.length>0)})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[u.jsx("button",{type:"submit",className:"flex-1 btn btn-primary flex items-center justify-center gap-2",disabled:v,children:v?u.jsxs(u.Fragment,{children:[u.jsx(gi,{size:18,className:"animate-spin"}),"Menyinkronkan..."]}):u.jsxs(u.Fragment,{children:[p&&a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)&&u.jsx(Lm,{size:18}),a?"Update Produk":"Simpan Produk",p&&a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)&&" + Sync"]})}),u.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]}),B&&u.jsx(T_,{productName:g.name||"Produk Baru",onClose:()=>I(!1),onAdd:W=>{A({...g,variants:[...g.variants||[],W]}),alert("Varian berhasil ditambahkan!")}})]})})}function D_({categories:a,onClose:n}){const[i,o]=ce.useState(a),[c,d]=ce.useState(""),{addCategory:f,removeCategory:h}=zs(),p=()=>{c.trim()&&(f(c.trim()),o([...i,c.trim()]),d(""))},m=v=>{confirm(`Hapus kategori "${v}"?`)&&(h(v),o(i.filter(w=>w!==v)))};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:"Kelola Kategori"}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),onKeyPress:v=>v.key==="Enter"&&p(),placeholder:"Nama kategori baru...",className:"input flex-1"}),u.jsx("button",{onClick:p,className:"btn btn-primary",children:u.jsx(en,{size:20})})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:i.map(v=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:v}),u.jsx("button",{onClick:()=>m(v),className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:18})})]},v))}),u.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function R_({onClose:a}){const{units:n,addUnit:i,removeUnit:o}=zs(),[c,d]=ce.useState(""),f=()=>{c.trim()&&!n.includes(c.trim())&&(i(c.trim()),d(""))},h=p=>{confirm(`Hapus satuan "${p}"?`)&&o(p)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:"Kelola Satuan"}),u.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),onKeyPress:p=>p.key==="Enter"&&f(),placeholder:"Nama satuan baru...",className:"input flex-1"}),u.jsx("button",{onClick:f,className:"btn btn-primary",children:u.jsx(en,{size:20})})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(p=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:p}),u.jsx("button",{onClick:()=>h(p),className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:16})})]},p))})}),u.jsx("button",{onClick:a,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function T_({onClose:a,onAdd:n,productName:i}){const[o,c]=ce.useState({name:"",sku:Vl(),barcode:Kl(),costPrice:"",price:"",stock:"",minStock:""}),d=f=>{f.preventDefault(),n({...o,costPrice:parseFloat(o.costPrice)||0,price:parseFloat(o.price)||0,stock:parseInt(o.stock)||0,minStock:parseInt(o.minStock)||0}),c({name:"",sku:Vl(),barcode:Kl(),costPrice:"",price:"",stock:"",minStock:""})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"Tambah Varian Produk"}),u.jsx("p",{className:"text-sm text-gray-600",children:i})]}),u.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),u.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nama Varian ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:o.name,onChange:f=>c({...o,name:capitalizeWords(f.target.value)}),placeholder:"Contoh: Hitam - XL, Rasa Coklat, 500ml",className:"input",required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tips: Gabungkan warna/ukuran/rasa dalam satu nama varian"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Varian"}),u.jsx("input",{type:"text",value:o.sku,onChange:f=>c({...o,sku:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),u.jsx("input",{type:"text",value:o.barcode,onChange:f=>c({...o,barcode:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),u.jsx("input",{type:"text",value:formatRupiah(o.costPrice||""),onChange:f=>c({...o,costPrice:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),u.jsx("input",{type:"text",value:formatRupiah(o.price||""),onChange:f=>c({...o,price:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Awal ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:o.stock,onChange:f=>c({...o,stock:f.target.value}),className:"input",placeholder:"0",required:!0,min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stok Minimum"}),u.jsx("input",{type:"number",value:o.minStock,onChange:f=>c({...o,minStock:f.target.value}),className:"input",placeholder:"0",min:"0"})]})]}),o.costPrice&&o.price&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-blue-900",children:"Margin Varian:"}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rp ",(parseFloat(o.price)-parseFloat(o.costPrice)).toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[((parseFloat(o.price)-parseFloat(o.costPrice))/parseFloat(o.costPrice)*100).toFixed(1),"%"]})]})]})}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:a,className:"btn btn-secondary flex-1",children:"Batal"}),u.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",children:[u.jsx(en,{size:20}),"Tambah Varian"]})]})]})]})})}function M_({product:a,onClose:n,onSync:i,isSyncing:o}){const[c,d]=ce.useState((a==null?void 0:a.sku)||""),[f,h]=ce.useState((a==null?void 0:a.price)||0),[p,m]=ce.useState((a==null?void 0:a.stock)||0),[v,w]=ce.useState(!1),[y,x]=ce.useState(!0),[g,A]=ce.useState(!0),j=C=>{C.preventDefault();const k={};v&&c&&(k.sku=c),y&&(k.price=parseFloat(f)),g&&(k.stock=parseInt(p)),i(k)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[u.jsx("div",{className:"p-6 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:u.jsx(lc,{className:"text-orange-600",size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update ke Shopee"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Sync data produk ke Shopee"})]})]}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]})}),u.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:a==null?void 0:a.name}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Item ID: ",a==null?void 0:a.shopeeItemId,(a==null?void 0:a.shopeeModelId)&&` | Model ID: ${a==null?void 0:a.shopeeModelId}`]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"syncSku",checked:v,onChange:C=>w(C.target.checked),className:"rounded"}),u.jsx("label",{htmlFor:"syncSku",className:"text-sm font-medium",children:"Update SKU"})]}),v&&u.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),className:"input w-full",placeholder:"SKU baru"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"syncPrice",checked:y,onChange:C=>x(C.target.checked),className:"rounded"}),u.jsx("label",{htmlFor:"syncPrice",className:"text-sm font-medium",children:"Update Harga"})]}),y&&u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),u.jsx("input",{type:"number",value:f,onChange:C=>h(C.target.value),className:"input w-full pl-10",placeholder:"0",min:"0"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"syncStock",checked:g,onChange:C=>A(C.target.checked),className:"rounded"}),u.jsx("label",{htmlFor:"syncStock",className:"text-sm font-medium",children:"Update Stok"})]}),g&&u.jsx("input",{type:"number",value:p,onChange:C=>m(C.target.value),className:"input w-full",placeholder:"0",min:"0"})]}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:[u.jsx("p",{className:"font-medium",children:" Perhatian:"}),u.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[u.jsx("li",{children:"SKU harus unik di Shopee"}),u.jsx("li",{children:"Harga tidak boleh di bawah minimum Shopee"}),u.jsx("li",{children:"Perubahan akan langsung diterapkan"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary flex-1",disabled:o,children:"Batal"}),u.jsx("button",{type:"submit",className:"btn bg-orange-500 hover:bg-orange-600 text-white flex-1 flex items-center justify-center gap-2",disabled:o||!v&&!y&&!g,children:o?u.jsxs(u.Fragment,{children:[u.jsx(gi,{size:18,className:"animate-spin"}),"Updating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(gi,{size:18}),"Update ke Shopee"]})})]})]})]})})}function F_(){const[a,n]=ce.useState("overview"),{products:i,updateStock:o,getLowStockProducts:c,stockHistory:d}=zs(),{user:f}=M1(),h=c(),p=i.reduce((v,w)=>v+w.price*w.stock,0),m=[{id:"overview",label:"Overview"},{id:"adjustment",label:"Penyesuaian Stok"},{id:"history",label:"Riwayat Stok"},{id:"opname",label:"Stock Opname"},{id:"transfer",label:"Transfer Stok"}];return u.jsxs("div",{className:`${Et?"p-4":"p-6"} space-y-4`,children:[u.jsxs("div",{children:[u.jsx("h1",{className:`${Et?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:"Manajemen Stok"}),u.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Monitor dan kelola stok barang"})]}),u.jsxs("div",{className:`grid ${Et?"grid-cols-2 gap-3":"grid-cols-1 md:grid-cols-4 gap-6"}`,children:[u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Total Item"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1`,children:i.length})]}),u.jsx(Vn,{className:"text-primary",size:Et?28:40})]})}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Nilai Stok"}),u.jsxs("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1`,children:["Rp ",(p/1e6).toFixed(1),"M"]})]}),u.jsx(oc,{className:"text-success",size:Et?28:40})]})}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Stok Rendah"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1 text-warning`,children:h.length})]}),u.jsx(V0,{className:"text-warning",size:Et?28:40})]})}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Total Stok"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1`,children:i.reduce((v,w)=>v+w.stock,0)})]}),u.jsx(Vn,{className:"text-info",size:Et?28:40})]})})]}),u.jsx("div",{className:"border-b",children:u.jsx("div",{className:`flex ${Et?"overflow-x-auto hide-scrollbar gap-2 pb-1":"gap-4"}`,children:m.map(v=>u.jsx("button",{onClick:()=>n(v.id),className:`${Et?"px-3 py-2 text-sm whitespace-nowrap":"px-4 py-2"} font-medium border-b-2 transition-colors ${a===v.id?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"}`,children:v.label},v.id))})}),a==="overview"&&u.jsx(__,{products:i}),a==="adjustment"&&u.jsx(P_,{products:i,updateStock:o,user:f}),a==="history"&&u.jsx(O_,{stockHistory:d||[]}),a==="opname"&&u.jsx(U_,{products:i}),a==="transfer"&&u.jsx(z_,{products:i})]})}function __({products:a}){return u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Stok Produk"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min Stok"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y",children:a.map(n=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("p",{className:"font-medium",children:n.name}),u.jsx("p",{className:"text-sm text-gray-600",children:n.code})]}),u.jsx("td",{className:"px-6 py-4",children:n.category}),u.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:[n.stock," ",n.unit]}),u.jsxs("td",{className:"px-6 py-4 text-right text-gray-600",children:[n.minStock," ",n.unit]}),u.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:["Rp ",(n.price*n.stock).toLocaleString("id-ID")]}),u.jsx("td",{className:"px-6 py-4 text-center",children:n.stock<=n.minStock?u.jsx("span",{className:"badge badge-danger",children:"Rendah"}):n.stock<=n.minStock*2?u.jsx("span",{className:"badge badge-warning",children:"Perhatian"}):u.jsx("span",{className:"badge badge-success",children:"Aman"})})]},n.id))})]})})]})}function P_({products:a,updateStock:n,user:i}){const[o,c]=ce.useState(""),[d,f]=ce.useState(""),[h,p]=ce.useState("add"),[m,v]=ce.useState(""),[w,y]=ce.useState("adjustment"),x=[{value:"adjustment",label:"Penyesuaian Manual"},{value:"purchase",label:"Pembelian/Restock"},{value:"return",label:"Retur Barang"},{value:"damage",label:"Barang Rusak/Expired"},{value:"sync_marketplace",label:"Sinkronisasi Marketplace"}],g=A=>{var j;A.preventDefault(),!(!o||!d)&&(n(o,parseInt(d),h,w,m||((j=x.find(C=>C.value===w))==null?void 0:j.label),i==null?void 0:i.id),alert("Stok berhasil disesuaikan"),c(""),f(""),v(""))};return u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Penyesuaian Stok Manual"}),u.jsxs("form",{onSubmit:g,className:"space-y-4 max-w-2xl",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pilih Produk"}),u.jsxs("select",{value:o,onChange:A=>c(A.target.value),className:"input",required:!0,children:[u.jsx("option",{value:"",children:"-- Pilih Produk --"}),a.map(A=>u.jsxs("option",{value:A.id,children:[A.name," - Stok: ",A.stock," ",A.unit]},A.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operasi"}),u.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"input",children:[u.jsx("option",{value:"add",children:"Tambah Stok"}),u.jsx("option",{value:"subtract",children:"Kurangi Stok"}),u.jsx("option",{value:"set",children:"Set Stok"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah"}),u.jsx("input",{type:"number",value:d,onChange:A=>f(A.target.value),className:"input",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Penyesuaian"}),u.jsx("select",{value:w,onChange:A=>y(A.target.value),className:"input",children:x.map(A=>u.jsx("option",{value:A.value,children:A.label},A.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan (Opsional)"}),u.jsx("textarea",{value:m,onChange:A=>v(A.target.value),className:"input",rows:"3",placeholder:"Catatan tambahan..."})]}),u.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[u.jsx(gi,{size:20}),"Sesuaikan Stok"]})]})]})}function O_({stockHistory:a}){const[n,i]=ce.useState("all"),[o,c]=ce.useState(""),d={sale:{label:"Penjualan",color:"text-red-600 bg-red-50"},purchase:{label:"Pembelian",color:"text-green-600 bg-green-50"},adjustment:{label:"Penyesuaian",color:"text-blue-600 bg-blue-50"},sync_marketplace:{label:"Sync Marketplace",color:"text-purple-600 bg-purple-50"},return:{label:"Retur",color:"text-orange-600 bg-orange-50"},damage:{label:"Rusak/Expired",color:"text-gray-600 bg-gray-100"}},f=a.filter(h=>{var v,w;const p=n==="all"||h.type===n,m=!o||((v=h.productName)==null?void 0:v.toLowerCase().includes(o.toLowerCase()))||((w=h.productSku)==null?void 0:w.toLowerCase().includes(o.toLowerCase()));return p&&m});return u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[u.jsx(FR,{size:20}),"Riwayat Perubahan Stok"]}),u.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," total records"]})]}),u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Cari produk...",value:o,onChange:h=>c(h.target.value),className:"input flex-1 max-w-xs"}),u.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"input",children:[u.jsx("option",{value:"all",children:"Semua Tipe"}),u.jsx("option",{value:"sale",children:"Penjualan"}),u.jsx("option",{value:"purchase",children:"Pembelian"}),u.jsx("option",{value:"adjustment",children:"Penyesuaian"}),u.jsx("option",{value:"sync_marketplace",children:"Sync Marketplace"}),u.jsx("option",{value:"return",children:"Retur"})]})]}),f.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada riwayat perubahan stok"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Waktu"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Lama"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Perubahan"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Baru"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catatan"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:f.slice(0,100).map(h=>{const p=d[h.type]||{label:h.type,color:"text-gray-600 bg-gray-50"};return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(h.createdAt).toLocaleString("id-ID")}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("p",{className:"font-medium text-gray-900",children:h.productName}),u.jsx("p",{className:"text-xs text-gray-500",children:h.productSku})]}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.color}`,children:p.label})}),u.jsx("td",{className:"px-4 py-3 text-right text-sm",children:h.oldStock}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsxs("span",{className:`font-medium ${h.change>0?"text-green-600":h.change<0?"text-red-600":"text-gray-600"}`,children:[h.change>0?"+":"",h.change]})}),u.jsx("td",{className:"px-4 py-3 text-right font-medium",children:h.newStock}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:h.note||"-"})]},h.id)})})]})})]})}function U_({products:a}){return u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stock Opname"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur stock opname untuk penghitungan fisik stok akan segera hadir."}),u.jsx("button",{className:"btn btn-primary",children:"Mulai Stock Opname"})]})}function z_({products:a}){return u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transfer Stok Antar Gudang"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur transfer stok untuk multi-gudang akan segera hadir."}),u.jsx("button",{className:"btn btn-primary",children:"Transfer Stok"})]})}const k3=Pi(Oi(a=>({suppliers:[],purchases:[],addSupplier:n=>{a(i=>({suppliers:[...i.suppliers,{...n,id:Date.now()}]}))},updateSupplier:(n,i)=>{a(o=>({suppliers:o.suppliers.map(c=>c.id===n?{...c,...i}:c)}))},deleteSupplier:n=>{a(i=>({suppliers:i.suppliers.filter(o=>o.id!==n)}))},addPurchase:n=>{a(i=>({purchases:[...i.purchases,{...n,id:`PO${String(i.purchases.length+1).padStart(3,"0")}`}]}))},updatePurchase:(n,i)=>{a(o=>({purchases:o.purchases.map(c=>c.id===n?{...c,...i}:c)}))},deletePurchase:n=>{a(i=>({purchases:i.purchases.filter(o=>o.id!==n)}))}}),{name:"purchase-storage"}));function L_(){const[a,n]=ce.useState(!1),[i,o]=ce.useState(!1),[c,d]=ce.useState(null),{purchases:f,suppliers:h,addPurchase:p,updatePurchase:m,deletePurchase:v,addSupplier:w}=k3(),{products:y,updateStock:x}=zs(),{user:g}=M1(),A=()=>{d(null),n(!0)},j=I=>{d(I),n(!0)},C=I=>{confirm("Hapus pembelian ini?")&&v(I)},k=I=>{c?m(c.id,I):(p(I),I.items.forEach(D=>{y.find(T=>T.id===D.productId)&&x(D.productId,D.qty,"add","purchase",`PO: ${I.poNumber||"Manual"}`,g==null?void 0:g.id)})),n(!1),d(null)},E=I=>({pending:"badge badge-warning",received:"badge badge-success",partial:"badge badge-info",cancelled:"badge badge-danger"})[I]||"badge",B=I=>({pending:"Pending",received:"Diterima",partial:"Sebagian",cancelled:"Dibatalkan"})[I]||I;return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pembelian"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola pembelian barang dari supplier"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(W0,{size:20}),"Kelola Supplier"]}),u.jsxs("button",{onClick:A,className:"btn btn-primary flex items-center gap-2",children:[u.jsx(en,{size:20}),"Buat Purchase Order"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchase Order"}),u.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:f.filter(I=>I.status==="pending").length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Diterima"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:f.filter(I=>I.status==="received").length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Supplier"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:h.length})]})]}),u.jsx("div",{className:"card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Number"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:f.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[u.jsx(Vn,{size:48,className:"mx-auto mb-4 text-gray-300"}),u.jsx("p",{className:"text-lg font-medium",children:"Belum ada purchase order"}),u.jsx("p",{className:"text-sm mt-1",children:'Klik "Buat Purchase Order" untuk menambah pembelian baru'})]})}):f.map(I=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:I.id}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(I.date).toLocaleDateString("id-ID")}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(W0,{size:16,className:"text-gray-400"}),u.jsx("span",{className:"font-medium",children:I.supplierName})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vn,{size:16,className:"text-gray-400"}),u.jsxs("span",{children:[I.items.length," item"]})]})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-primary",children:["Rp ",I.total.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:E(I.status),children:B(I.status)})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[u.jsx("button",{onClick:()=>j(I),className:"text-primary hover:text-blue-700",children:u.jsx($o,{size:18})}),u.jsx("button",{onClick:()=>C(I.id),className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:18})})]})]},I.id))})]})})}),a&&u.jsx(Q_,{purchase:c,suppliers:h,products:y,onClose:()=>{n(!1),d(null)},onSubmit:k}),i&&u.jsx(H_,{suppliers:h,onClose:()=>o(!1),onAdd:w})]})}function Q_({purchase:a,suppliers:n,products:i,onClose:o,onSubmit:c}){const[d,f]=ce.useState(a||{supplier:null,items:[],date:new Date().toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ce.useState(""),[m,v]=ce.useState(1),[w,y]=ce.useState(!1),x=ce.useRef(null);ce.useEffect(()=>{function I(D){x.current&&!x.current.contains(D.target)&&y(!1)}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const g=i.filter(I=>h&&(I.name.toLowerCase().includes(h.toLowerCase())||I.sku&&I.sku.toLowerCase().includes(h.toLowerCase()))),A=I=>{if(!I)return;const D=d.items.find(M=>M.productId===I.id);f(D?{...d,items:d.items.map(M=>M.productId===I.id?{...M,qty:M.qty+m}:M)}:{...d,items:[...d.items,{productId:I.id,name:I.name,sku:I.sku,costPrice:I.costPrice||0,qty:m}]}),p(""),y(!1),v(1)},j=(I,D)=>{f({...d,items:d.items.map(M=>M.productId===I?{...M,qty:parseInt(D)||1}:M)})},C=(I,D)=>{f({...d,items:d.items.map(M=>M.productId===I?{...M,costPrice:parseFloat(D)||0}:M)})},k=I=>{f({...d,items:d.items.filter(D=>D.productId!==I)})},E=()=>d.items.reduce((I,D)=>I+D.costPrice*D.qty,0),B=I=>{if(I.preventDefault(),!d.supplier){alert("Pilih supplier terlebih dahulu");return}if(d.items.length===0){alert("Tambahkan minimal 1 produk");return}const D=n.find(M=>M.id===parseInt(d.supplier));c({...d,supplierName:(D==null?void 0:D.name)||"",total:E()})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Purchase Order":"Buat Purchase Order Baru"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:u.jsx(en,{size:24,className:"rotate-45"})})]}),u.jsxs("form",{onSubmit:B,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supplier *"}),u.jsxs("select",{value:d.supplier||"",onChange:I=>f({...d,supplier:I.target.value}),className:"input",required:!0,children:[u.jsx("option",{value:"",children:"Pilih Supplier"}),n.map(I=>u.jsx("option",{value:I.id,children:I.name},I.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal *"}),u.jsx("input",{type:"date",value:d.date,onChange:I=>f({...d,date:I.target.value}),className:"input",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tambah Produk"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative",ref:x,children:[u.jsx("input",{type:"text",value:h,onChange:I=>{p(I.target.value),y(!0)},onFocus:()=>y(!0),placeholder:"Cari produk (nama atau SKU)...",className:"input"}),w&&g.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:g.map(I=>{var D;return u.jsxs("button",{type:"button",onClick:()=>A(I),className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b last:border-b-0",children:[u.jsx("div",{className:"font-medium",children:I.name}),u.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",I.sku," | Modal: Rp ",(D=I.costPrice)==null?void 0:D.toLocaleString("id-ID")]})]},I.id)})})]}),u.jsx("input",{type:"number",value:m,onChange:I=>v(parseInt(I.target.value)||1),min:"1",className:"input w-24",placeholder:"Qty"})]})]}),d.items.length>0&&u.jsx("div",{className:"border rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:d.items.map(I=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"font-medium",children:I.name}),u.jsx("div",{className:"text-xs text-gray-500",children:I.sku})]}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"number",value:I.qty,onChange:D=>j(I.productId,D.target.value),className:"input-sm w-20 text-center",min:"1"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"number",value:I.costPrice,onChange:D=>C(I.productId,D.target.value),className:"input-sm w-32 text-right",min:"0",step:"100"})}),u.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",(I.costPrice*I.qty).toLocaleString("id-ID")]}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("button",{type:"button",onClick:()=>k(I.productId),className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:16})})})]},I.productId))}),u.jsx("tfoot",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:"3",className:"px-4 py-3 text-right font-bold",children:"TOTAL:"}),u.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-primary",children:["Rp ",E().toLocaleString("id-ID")]}),u.jsx("td",{})]})})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),u.jsx("textarea",{value:d.notes,onChange:I=>f({...d,notes:I.target.value}),className:"input",rows:"2",placeholder:"Catatan tambahan..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),u.jsxs("select",{value:d.status,onChange:I=>f({...d,status:I.target.value}),className:"input",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"partial",children:"Sebagian Diterima"}),u.jsx("option",{value:"received",children:"Diterima"}),u.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]})]}),u.jsxs("div",{className:"flex gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:B,className:"flex-1 btn btn-primary",children:a?"Update Purchase Order":"Buat Purchase Order"}),u.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})})}function H_({suppliers:a,onClose:n,onAdd:i}){const[o,c]=ce.useState(!1),[d,f]=ce.useState({name:"",contact:"",email:"",address:""}),h=p=>{p.preventDefault(),i(d),f({name:"",contact:"",email:"",address:""}),c(!1)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:"Kelola Supplier"}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(en,{size:24,className:"rotate-45"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:o?u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Supplier *"}),u.jsx("input",{type:"text",value:d.name,onChange:p=>f({...d,name:p.target.value}),className:"input",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kontak *"}),u.jsx("input",{type:"text",value:d.contact,onChange:p=>f({...d,contact:p.target.value}),className:"input",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx("input",{type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value}),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),u.jsx("textarea",{value:d.address,onChange:p=>f({...d,address:p.target.value}),className:"input",rows:"2"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan"}),u.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 btn btn-secondary",children:"Batal"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>c(!0),className:"w-full btn btn-primary flex items-center justify-center gap-2",children:[u.jsx(en,{size:20}),"Tambah Supplier Baru"]}),u.jsx("div",{className:"space-y-3",children:a.map(p=>u.jsxs("div",{className:"card",children:[u.jsx("h4",{className:"font-bold text-lg",children:p.name}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",p.contact," |  ",p.email]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[" ",p.address]})]},p.id))})]})}),u.jsx("div",{className:"p-6 border-t",children:u.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Tutup"})})]})})}function $_(){const[a,n]=ce.useState(!1),[i,o]=ce.useState(null),[c,d]=ce.useState([{id:"SO001",date:"2025-12-06",customer:{id:2,name:"Budi Santoso"},items:[{id:1,name:"Indomie Goreng",sku:"SJA123456",costPrice:2500,price:3e3,minPrice:2875,qty:100,isPackage:!1},{id:2,name:"Aqua 600ml",sku:"SJA234567",costPrice:3e3,price:3500,minPrice:3450,qty:50,isPackage:!1}],subtotal:475e3,discount:25e3,total:45e4,status:"pending",dueDate:"2025-12-13",notes:"Pengiriman ke alamat kantor"}]),{products:f}=zs(),{customers:h}=T1(),{storeInfo:p}=Mu(),m=()=>{o(null),n(!0)},v=A=>{o(A),n(!0)},w=A=>{confirm("Hapus sales order ini?")&&d(c.filter(j=>j.id!==A))},y=A=>{const j=window.open("","","width=800,height=600"),C=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice - ${A.id}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 40px; }
          .invoice-header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .logo-section { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px; }
          .logo { width: 80px; height: 80px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border-radius: 12px; display: flex; align-items: center; justify-center; box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3); overflow: hidden; }
          .logo img { width: 100%; height: 100%; object-fit: contain; }
          .logo svg { width: 50px; height: 50px; color: white; }
          .company-info { text-align: center; }
          .company-info h2 { font-size: 24px; color: #1e293b; font-weight: bold; margin-bottom: 4px; }
          .company-info p { font-size: 13px; color: #64748b; line-height: 1.5; }
          .invoice-header h1 { font-size: 28px; color: #2563eb; margin-bottom: 5px; }
          .invoice-header p { color: #666; }
          .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }
          .info-section h3 { font-size: 14px; color: #666; margin-bottom: 8px; }
          .info-section p { font-size: 16px; margin-bottom: 4px; }
          .invoice-id { font-size: 20px; font-weight: bold; color: #2563eb; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th { background: #f3f4f6; padding: 12px; text-align: left; font-size: 12px; color: #666; text-transform: uppercase; border-bottom: 2px solid #e5e7eb; }
          td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
          .text-right { text-align: right; }
          .text-center { text-align: center; }
          .total-section { margin-top: 20px; float: right; width: 300px; }
          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }
          .total-row.grand { font-size: 18px; font-weight: bold; border-top: 2px solid #333; padding-top: 12px; margin-top: 8px; }
          .notes { margin-top: 40px; padding: 15px; background: #f9fafb; border-left: 4px solid #2563eb; }
          .notes h4 { font-size: 14px; margin-bottom: 8px; }
          .footer { margin-top: 60px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 20px; }
          @media print {
            body { padding: 20px; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="invoice-header">
          <div class="logo-section">
            <div class="logo">
              ${p.logo?`<img src="${p.logo}" alt="Logo" />`:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 7h-9"></path>
                  <path d="M14 17H5"></path>
                  <circle cx="17" cy="17" r="3"></circle>
                  <circle cx="7" cy="7" r="3"></circle>
                </svg>`}
            </div>
            <div class="company-info">
              <h2>${p.name}</h2>
              <p>${p.address}<br/>
              Telp: ${p.phone} | Email: ${p.email}</p>
            </div>
          </div>
          <h1>INVOICE</h1>
          <p>Sales Order</p>
        </div>
        
        <div class="invoice-info">
          <div class="info-section">
            <h3>Invoice No:</h3>
            <p class="invoice-id">${A.id}</p>
            <h3 style="margin-top: 15px;">Tanggal:</h3>
            <p>${new Date(A.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
          <div class="info-section" style="text-align: right;">
            <h3>Pelanggan:</h3>
            <p style="font-weight: bold; font-size: 18px;">${A.customer.name}</p>
            <h3 style="margin-top: 15px;">Jatuh Tempo:</h3>
            <p>${new Date(A.dueDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 50px;">No</th>
              <th>SKU</th>
              <th>Nama Produk</th>
              <th class="text-center" style="width: 80px;">Qty</th>
              <th class="text-right" style="width: 150px;">Harga</th>
              <th class="text-right" style="width: 150px;">Subtotal</th>
            </tr>
          </thead>
          <tbody>
            ${A.items.map((k,E)=>`
              <tr>
                <td class="text-center">${E+1}</td>
                <td style="font-family: monospace; font-size: 12px;">${k.sku}</td>
                <td>${k.name}${k.isPackage?' <span style="background: #dbeafe; color: #1e40af; padding: 2px 6px; border-radius: 4px; font-size: 10px;">PAKET</span>':""}</td>
                <td class="text-center">${k.qty}</td>
                <td class="text-right">Rp ${k.price.toLocaleString("id-ID")}</td>
                <td class="text-right" style="font-weight: bold;">Rp ${(k.price*k.qty).toLocaleString("id-ID")}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="total-section">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>Rp ${A.subtotal.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row">
            <span>Diskon:</span>
            <span style="color: #ef4444;">- Rp ${A.discount.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row grand">
            <span>TOTAL:</span>
            <span style="color: #16a34a;">Rp ${A.total.toLocaleString("id-ID")}</span>
          </div>
        </div>

        <div style="clear: both;"></div>

        ${A.notes?`
          <div class="notes">
            <h4>Catatan:</h4>
            <p>${A.notes}</p>
          </div>
        `:""}

        <div class="footer">
          <p>Terima kasih atas kepercayaan Anda!</p>
          <p style="margin-top: 5px;">Dicetak pada: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 250);
          }
        <\/script>
      </body>
      </html>
    `;j.document.write(C),j.document.close()},x=A=>({pending:"badge badge-warning",confirmed:"badge badge-info",processing:"badge badge-info",delivered:"badge badge-success",cancelled:"badge badge-danger"})[A]||"badge",g=A=>({pending:"Pending",confirmed:"Dikonfirmasi",processing:"Diproses",delivered:"Terkirim",cancelled:"Dibatalkan"})[A]||A;return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Penjualan Member"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola sales order dan penjualan ke pelanggan member"})]}),u.jsxs("button",{onClick:m,className:"btn btn-primary flex items-center gap-2",children:[u.jsx(en,{size:20}),"Buat Sales Order"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales Order"}),u.jsx("p",{className:"text-2xl font-bold mt-1",children:c.length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:c.filter(A=>A.status==="pending").length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Diproses"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-info",children:c.filter(A=>A.status==="processing").length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:c.filter(A=>A.status==="delivered").length})]})]}),u.jsx("div",{className:"card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. SO"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jatuh Tempo"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:c.map(A=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:A.id}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(A.date).toLocaleDateString("id-ID")}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yl,{size:16,className:"text-gray-400"}),u.jsx("span",{className:"font-medium",children:A.customer.name})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vn,{size:16,className:"text-gray-400"}),u.jsxs("span",{children:[A.items.length," item"]})]})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-green-600",children:["Rp ",A.total.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jR,{size:16,className:"text-gray-400"}),u.jsx("span",{children:new Date(A.dueDate).toLocaleDateString("id-ID")})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:x(A.status),children:g(A.status)})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[u.jsx("button",{onClick:()=>y(A),className:"text-green-600 hover:text-green-700",title:"Print Invoice",children:u.jsx(n2,{size:18})}),u.jsx("button",{onClick:()=>v(A),className:"text-primary hover:text-blue-700",children:u.jsx($o,{size:18})}),u.jsx("button",{onClick:()=>w(A.id),className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:18})})]})]},A.id))})]})})}),a&&u.jsx(q_,{sale:i,products:f,customers:h.filter(A=>A.type!=="walk-in"),onClose:()=>{n(!1),o(null)},onSubmit:A=>{i?(d(c.map(j=>j.id===A.id?A:j)),n(!1),o(null)):d([...c,{...A,id:`SO${String(c.length+1).padStart(3,"0")}`}])}})]})}function q_({sale:a,products:n,customers:i,onClose:o,onSubmit:c}){var _;const[d,f]=ce.useState(a||{orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ce.useState(""),[m,v]=ce.useState(1),[w,y]=ce.useState(""),[x,g]=ce.useState(!1),A=ce.useRef(null);ce.useEffect(()=>{function F(Q){A.current&&!A.current.contains(Q.target)&&g(!1)}return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const j=n.filter(F=>{var Q;return w&&(F.name.toLowerCase().includes(w.toLowerCase())||F.sku&&F.sku.toLowerCase().includes(w.toLowerCase())||F.code&&F.code.toLowerCase().includes(w.toLowerCase())||((Q=F.barcode)==null?void 0:Q.includes(w)))}),C=(F,Q)=>Q&&Q.customPrices&&Q.customPrices[F.id]?Q.customPrices[F.id]:F.price,k=F=>{if(!F)return;if(d.items.find(L=>L.id===F.id))f({...d,items:d.items.map(L=>L.id===F.id?{...L,qty:L.qty+m}:L)});else{const L=F.costPrice||0,ee=Math.ceil(L*1.15),se=C(F,d.customer);f({...d,items:[...d.items,{id:F.id,name:F.name,sku:F.sku||F.code,costPrice:L,price:se,minPrice:ee,qty:m,isPackage:F.isPackage}]})}y(""),g(!1),v(1)},E=(F,Q)=>{f({...d,items:d.items.map(L=>L.id===F?Q<L.minPrice?(alert(`Harga tidak boleh kurang dari Rp ${L.minPrice.toLocaleString("id-ID")} (Modal + 15%)`),L):{...L,price:parseFloat(Q)||L.price}:L)})},B=(F,Q)=>{f({...d,items:d.items.map(L=>L.id===F?{...L,qty:parseInt(Q)||1}:L)})},I=F=>{f({...d,items:d.items.filter(Q=>Q.id!==F)})},D=d.items.reduce((F,Q)=>F+Q.price*Q.qty,0),M=d.discount||0,T=D-M,H=F=>{if(F.preventDefault(),!d.customer||d.items.length===0){alert("Pilih customer dan tambahkan minimal 1 produk");return}c({...d,subtotal:D,total:T}),a||(f({orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],status:"pending",notes:""}),y(""),v(1))};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Sales Order":"Buat Sales Order Baru"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:u.jsx(en,{size:24,className:"rotate-45"})})]}),u.jsxs("form",{onSubmit:H,className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)] space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pelanggan Member *"}),u.jsxs("select",{value:((_=d.customer)==null?void 0:_.id)||"",onChange:F=>{const Q=i.find(L=>L.id===parseInt(F.target.value));f({...d,customer:Q})},className:"input",required:!0,children:[u.jsx("option",{value:"",children:"-- Pilih Pelanggan --"}),i.map(F=>u.jsxs("option",{value:F.id,children:[F.name," (",F.type.toUpperCase(),")"]},F.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Pesanan"}),u.jsx("input",{type:"text",value:d.orderNumber,onChange:F=>f({...d,orderNumber:F.target.value}),placeholder:"Contoh: PO-2025-001",className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),u.jsxs("select",{value:d.status,onChange:F=>f({...d,status:F.target.value}),className:"input",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),u.jsx("option",{value:"processing",children:"Diproses"}),u.jsx("option",{value:"delivered",children:"Terkirim"}),u.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal Order"}),u.jsx("input",{type:"date",value:d.date,onChange:F=>f({...d,date:F.target.value}),className:"input",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jatuh Tempo"}),u.jsx("input",{type:"date",value:d.dueDate,onChange:F=>f({...d,dueDate:F.target.value}),className:"input",required:!0})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("h4",{className:"font-semibold mb-3",children:"Tambah Produk"}),u.jsxs("div",{className:"flex gap-2 relative",ref:A,children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",size:20}),u.jsx("input",{type:"text",value:w,onChange:F=>{y(F.target.value),g(!0)},onFocus:()=>w&&g(!0),placeholder:"Cari produk (nama, kode, atau barcode)...",className:"input w-full pl-10"}),x&&j.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",children:j.map(F=>u.jsx("button",{type:"button",onClick:()=>k(F),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-gray-900",children:F.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("p",{className:"text-xs text-gray-500",children:F.sku||F.code}),u.jsx("span",{className:"text-xs text-gray-400",children:"|"}),u.jsx("p",{className:"text-xs text-gray-500",children:F.category}),F.isPackage&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-gray-400",children:"|"}),u.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]})]}),u.jsxs("div",{className:"text-right ml-4",children:[u.jsxs("p",{className:"font-semibold text-primary",children:["Rp ",F.price.toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-xs text-gray-600",children:["Stok: ",F.stock," ",F.unit]})]})]})},F.id))}),x&&w&&j.length===0&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-50",children:u.jsx("p",{className:"text-gray-500 text-center",children:"Produk tidak ditemukan"})})]}),u.jsx("input",{type:"number",value:m,onChange:F=>v(parseInt(F.target.value)||1),min:"1",placeholder:"Qty",className:"input w-20 text-center"})]}),w&&u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Ketik untuk mencari, klik produk untuk menambahkan"})]}),d.items.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold mb-3",children:["Items (",d.items.length,")"]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-100 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Produk"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),u.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Satuan"}),u.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Subtotal"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:d.items.map(F=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-3 py-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:F.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("p",{className:"text-xs text-gray-500",children:F.sku}),F.isPackage&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-gray-400",children:"|"}),u.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: Rp ",F.minPrice.toLocaleString("id-ID")," (Modal + 15%)"]})]})}),u.jsx("td",{className:"px-3 py-3 text-center",children:u.jsx("input",{type:"number",min:"1",value:F.qty,onChange:Q=>B(F.id,Q.target.value),className:"input input-sm w-20 text-center"})}),u.jsx("td",{className:"px-3 py-3",children:u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("input",{type:"number",min:F.minPrice,value:F.price,onChange:Q=>E(F.id,Q.target.value),className:"input input-sm w-32 text-right"}),F.price<F.minPrice&&u.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"})]})}),u.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:["Rp ",(F.price*F.qty).toLocaleString("id-ID")]}),u.jsx("td",{className:"px-3 py-3 text-center",children:u.jsx("button",{type:"button",onClick:()=>I(F.id),className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:18})})})]},F.id))})]})}),u.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),u.jsxs("span",{className:"font-semibold",children:["Rp ",D.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"Diskon:"}),u.jsx("input",{type:"number",value:d.discount||0,onChange:F=>f({...d,discount:parseInt(F.target.value)||0}),className:"input w-32 text-right",min:"0"})]}),u.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t border-blue-200",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{className:"text-primary",children:["Rp ",T.toLocaleString("id-ID")]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),u.jsx("textarea",{value:d.notes,onChange:F=>f({...d,notes:F.target.value}),className:"input",rows:"3",placeholder:"Catatan pengiriman, alamat, dll..."})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsxs("button",{type:"submit",className:"flex-1 btn btn-primary",children:[a?"Update":"Simpan"," Sales Order"]}),u.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function G_(){const[a,n]=ce.useState(""),[i,o]=ce.useState("all"),[c,d]=ce.useState(!1),[f,h]=ce.useState(null),[p,m]=ce.useState(!1),[v,w]=ce.useState(null),{customers:y,addCustomer:x,updateCustomer:g,deleteCustomer:A}=T1(),j=y.filter(k=>{const E=k.name.toLowerCase().includes(a.toLowerCase())||k.phone.includes(a),B=i==="all"||k.type===i;return E&&B}),C=k=>{f?g(f.id,k):x(k),d(!1),h(null)};return u.jsxs("div",{className:`${Et?"p-4":"p-6"} space-y-4`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:`${Et?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:"Pelanggan"}),u.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Kelola data pelanggan"})]}),u.jsxs("button",{onClick:()=>{h(null),d(!0)},className:`btn btn-primary flex items-center gap-2 ${Et?"px-3 py-2":""}`,children:[u.jsx(en,{size:Et?18:20}),Et?"Tambah":"Tambah Pelanggan"]})]}),u.jsxs("div",{className:`grid ${Et?"grid-cols-2 gap-3":"grid-cols-1 md:grid-cols-4 gap-6"}`,children:[u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1`,children:y.length})]}),u.jsx(su,{className:"text-primary",size:Et?24:32})]})}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Member"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1`,children:y.filter(k=>k.type==="member").length})]}),u.jsx(Tb,{className:"text-green-500",size:Et?24:32})]})}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"VIP"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1 text-yellow-600`,children:y.filter(k=>k.type==="vip").length})]}),u.jsx(_b,{className:"text-yellow-500",size:Et?24:32})]})}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Points"}),u.jsx("p",{className:`${Et?"text-xl":"text-2xl"} font-bold mt-1 text-primary`,children:y.reduce((k,E)=>k+E.points,0).toLocaleString("id-ID")})]}),u.jsx(oc,{className:"text-blue-500",size:Et?24:32})]})})]}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",value:a,onChange:k=>n(k.target.value),placeholder:"Cari pelanggan...",className:"w-full pl-10 input"})]}),u.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"input w-48",children:[u.jsx("option",{value:"all",children:"Semua Tipe"}),u.jsx("option",{value:"walk-in",children:"Walk-in"}),u.jsx("option",{value:"member",children:"Member"}),u.jsx("option",{value:"vip",children:"VIP"})]})]})}),u.jsx("div",{className:"card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kontak"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Points"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Belanja"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:j.map(k=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[k.type==="vip"&&u.jsx(_b,{className:"text-yellow-500",size:16}),u.jsx("span",{className:"font-medium",children:k.name})]})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("p",{className:"text-sm",children:k.phone}),u.jsx("p",{className:"text-xs text-gray-600",children:k.email})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`badge ${k.type==="vip"?"badge-warning":k.type==="member"?"badge-info":"bg-gray-100 text-gray-800"}`,children:k.type.toUpperCase()})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Tb,{size:16,className:"text-primary"}),u.jsx("span",{className:"font-semibold",children:k.points})]})}),u.jsxs("td",{className:"px-6 py-4 font-semibold",children:["Rp ",k.totalSpent.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[(k.type==="member"||k.type==="vip")&&u.jsx("button",{onClick:()=>{w(k),m(!0)},className:"text-green-600 hover:text-green-700 mr-3",title:"Atur Harga Khusus",children:u.jsx(oc,{size:18})}),u.jsx("button",{onClick:()=>{h(k),d(!0)},className:"text-primary hover:text-blue-700 mr-3",children:u.jsx($o,{size:18})}),k.type!=="walk-in"&&u.jsx("button",{onClick:()=>{confirm("Hapus pelanggan ini?")&&A(k.id)},className:"text-red-600 hover:text-red-700",children:u.jsx(s1,{size:18})})]})]},k.id))})]})})}),c&&u.jsx(Y_,{customer:f,onClose:()=>{d(!1),h(null)},onSubmit:C}),p&&v&&u.jsx(V_,{customer:v,onClose:()=>{m(!1),w(null)}})]})}function Y_({customer:a,onClose:n,onSubmit:i}){const[o,c]=ce.useState(a||{name:"",phone:"",email:"",type:"member"}),d=p=>p?p.replace(/\b\w/g,m=>m.toUpperCase()):"",f=p=>{p.persist&&p.persist();const{name:m,value:v}=p.target;c(w=>({...w,[m]:v}))},h=p=>{p.preventDefault();const m={...o,name:d(o.name.trim())};i(m)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Pelanggan":"Tambah Pelanggan Baru"}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(en,{size:24,className:"rotate-45"})})]}),u.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),u.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: Budi Santoso",autoComplete:"off",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Telepon / WhatsApp *"}),u.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: 081234567890",inputMode:"tel",autoComplete:"off",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:o.email,onChange:f,onInput:f,className:"input w-full",placeholder:"email@contoh.com",autoComplete:"off"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Pelanggan *"}),u.jsxs("select",{name:"type",value:o.type,onChange:f,className:"input w-full",required:!0,children:[u.jsx("option",{value:"member",children:"Member"}),u.jsx("option",{value:"vip",children:"VIP"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a?"Update":"Simpan"}),u.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function V_({customer:a,onClose:n}){const[i,o]=ce.useState(""),[c,d]=ce.useState(a.customPrices||{}),{products:f}=zs(),{setCustomPrice:h,removeCustomPrice:p}=T1(),m=f.filter(x=>x.name.toLowerCase().includes(i.toLowerCase())||x.sku.toLowerCase().includes(i.toLowerCase())),v=(x,g)=>{const A=parseFloat(g);if(g===""||isNaN(A)){const j={...c};delete j[x],d(j)}else d({...c,[x]:A})},w=()=>{Object.entries(c).forEach(([x,g])=>{h(a.id,parseInt(x),g)}),Object.keys(a.customPrices||{}).forEach(x=>{c[x]||p(a.id,parseInt(x))}),n()},y=x=>x.costPrice*1.15;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold",children:["Atur Harga Khusus - ",a.name]}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kosongkan harga untuk menggunakan harga default produk"})]}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(en,{size:24,className:"rotate-45"})})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx(po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"Cari produk...",className:"w-full pl-10 input"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Default"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min. Harga (15%)"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Harga Khusus"})]})}),u.jsx("tbody",{className:"divide-y",children:m.map(x=>{const g=c[x.id],A=y(x),j=g!==void 0,C=!g||g>=A;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:x.sku}),u.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:x.name}),u.jsx("td",{className:"px-4 py-3 text-sm",children:x.category}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["Rp ",x.costPrice.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:["Rp ",x.price.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-semibold",children:["Rp ",A.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsx("input",{type:"number",value:g||"",onChange:k=>v(x.id,k.target.value),placeholder:"Default",className:`input-sm w-32 text-right ${C?j?"border-green-500 bg-green-50":"":"border-red-500 bg-red-50"}`,min:0,step:100}),!C&&u.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"}),j&&C&&u.jsx("span",{className:"text-xs text-green-600",children:" Aktif"})]})})]},x.id)})})]})}),u.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:u.jsxs("p",{className:"text-sm text-blue-900",children:[u.jsx("strong",{children:Object.keys(c).length})," produk dengan harga khusus"]})}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:w,className:"flex-1 btn btn-primary",children:"Simpan Harga Khusus"}),u.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function K_(){const[a,n]=ce.useState("transactions"),[i,o]=ce.useState("today"),[c,d]=ce.useState(""),[f,h]=ce.useState(""),{transactions:p,getTodaySales:m,voidTransaction:v}=xi(),{products:w,stockHistory:y,updateStock:x}=zs(),{stores:g}=Fu(),{user:A}=M1(),j=[{id:"transactions",label:"Transaksi Kasir"},{id:"sales",label:"Laporan Penjualan"},{id:"stock",label:"Laporan Stok"},{id:"products",label:"Produk Terlaris"},{id:"profit",label:"Laba Rugi"},{id:"source",label:"Omzet per Sumber"}],C=(B,I="date")=>{const D=new Date;return D.setHours(0,0,0,0),B.filter(M=>{const T=new Date(M[I]);if(i==="custom"&&c&&f){const H=new Date(c),_=new Date(f);return _.setHours(23,59,59,999),T>=H&&T<=_}if(i==="today"){const H=new Date(T);return H.setHours(0,0,0,0),H.getTime()===D.getTime()}else if(i==="week"){const H=new Date(D);return H.setDate(H.getDate()-7),T>=H}else if(i==="month"){const H=new Date(D);return H.setMonth(H.getMonth()-1),T>=H}else if(i==="year"){const H=new Date(D.getFullYear(),0,1);return T>=H}return!0})},k=()=>{let B="";const I=C(p);a==="transactions"||a==="sales"?(B=`ID,Tanggal,Pelanggan,Items,Subtotal,Diskon,Pajak,Total,Pembayaran,Status
`,I.forEach(T=>{var H;B+=`${T.id},${new Date(T.date).toLocaleString("id-ID")},${((H=T.customer)==null?void 0:H.name)||"-"},${T.items.length},${T.subtotal},${T.discount},${T.tax},${T.total},${T.paymentMethod},${T.status}
`})):a==="stock"&&(B=`Kode,Nama,Kategori,Stok,Min Stok,Harga,HPP,Nilai Stok
`,w.forEach(T=>{B+=`${T.code},${T.name},${T.category},${T.stock},${T.minStock},${T.price},${T.cost||0},${T.price*T.stock}
`}));const D=new Blob([B],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a");M.href=URL.createObjectURL(D),M.download=`laporan-${a}-${new Date().toISOString().split("T")[0]}.csv`,M.click()},E=()=>{window.print()};return u.jsxs("div",{className:`${Et?"p-4":"p-6"} space-y-4`,children:[u.jsxs("div",{children:[u.jsx("h1",{className:`${Et?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:"Laporan"}),u.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Monitor performa bisnis"})]}),u.jsx("div",{className:`bg-white rounded-xl ${Et?"p-3":"p-6"} shadow-sm border border-gray-100`,children:u.jsxs("div",{className:`flex flex-col ${Et?"gap-3":"md:flex-row gap-4"}`,children:[u.jsx("select",{value:a,onChange:B=>n(B.target.value),className:`input flex-1 ${Et?"text-sm":""}`,children:j.map(B=>u.jsx("option",{value:B.id,children:B.label},B.id))}),u.jsxs("select",{value:i,onChange:B=>o(B.target.value),className:`input ${Et?"text-sm":""}`,children:[u.jsx("option",{value:"today",children:"Hari Ini"}),u.jsx("option",{value:"week",children:"7 Hari Terakhir"}),u.jsx("option",{value:"month",children:"30 Hari Terakhir"}),u.jsx("option",{value:"year",children:"Tahun Ini"}),u.jsx("option",{value:"custom",children:"Periode Custom"})]}),i==="custom"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"date",value:c,onChange:B=>d(B.target.value),className:"input"}),u.jsx("input",{type:"date",value:f,onChange:B=>h(B.target.value),className:"input"})]}),u.jsxs("button",{onClick:k,className:"btn btn-primary flex items-center gap-2",children:[u.jsx(Gl,{size:20}),"Export CSV"]}),u.jsxs("button",{onClick:E,className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(n2,{size:20}),"Print"]})]})}),a==="transactions"&&u.jsx(W_,{transactions:p,voidTransaction:v,updateStock:x,user:A,dateRange:i,customStartDate:c,customEndDate:f}),a==="sales"&&u.jsx(J_,{transactions:p,dateRange:i,customStartDate:c,customEndDate:f}),a==="stock"&&u.jsx(X_,{products:w,stockHistory:y}),a==="products"&&u.jsx(Z_,{transactions:p,dateRange:i,customStartDate:c,customEndDate:f}),a==="profit"&&u.jsx(eP,{transactions:p,products:w,dateRange:i,customStartDate:c,customEndDate:f}),a==="source"&&u.jsx(tP,{transactions:p,stores:g,dateRange:i,customStartDate:c,customEndDate:f})]})}function W_({transactions:a,voidTransaction:n,updateStock:i,user:o,dateRange:c,customStartDate:d,customEndDate:f}){const[h,p]=ce.useState(""),[m,v]=ce.useState(!1),[w,y]=ce.useState(null),[x,g]=ce.useState(""),[A,j]=ce.useState(!1),[C,k]=ce.useState(null),E=T=>{k(T),g(""),j(!0)},B=async()=>{if(!x.trim()){alert("Masukkan alasan void transaksi");return}await n(C.id,x,i,o==null?void 0:o.id,o==null?void 0:o.name),j(!1),k(null),g(""),alert("Transaksi berhasil di-void dan stok telah dikembalikan")},I=a.filter(T=>{const H=T.id.toLowerCase().includes(h.toLowerCase()),_=new Date(T.date),F=new Date;F.setHours(0,0,0,0);let Q=!0;if(c==="custom"&&d&&f){const L=new Date(d),ee=new Date(f);ee.setHours(23,59,59,999),Q=_>=L&&_<=ee}else if(c==="today"){const L=new Date(_);L.setHours(0,0,0,0),Q=L.getTime()===F.getTime()}else if(c==="week"){const L=new Date(F);L.setDate(L.getDate()-7),Q=_>=L}else if(c==="month"){const L=new Date(F);L.setMonth(L.getMonth()-1),Q=_>=L}return H&&Q}),D=I.filter(T=>T.status==="completed").reduce((T,H)=>T+H.total,0),M=T=>{y(T),v(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),u.jsx("p",{className:"text-2xl font-bold mt-1",children:I.filter(T=>T.status==="completed").length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),u.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",D.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Transaksi Void"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:I.filter(T=>T.status==="void").length})]})]}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"relative",children:[u.jsx(po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",value:h,onChange:T=>p(T.target.value),placeholder:"Cari ID transaksi...",className:"w-full pl-10 input"})]})}),u.jsxs("div",{className:"card overflow-hidden",children:[u.jsx("h3",{className:"text-lg font-bold mb-4 px-6 pt-6",children:"Riwayat Transaksi Kasir"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pembayaran"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:I.map(T=>{var H;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:T.id}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(T.date).toLocaleString("id-ID")}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((H=T.customer)==null?void 0:H.name)||"-"}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.items.length," item"]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold",children:["Rp ",T.total.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:T.paymentMethod}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.status==="completed"?u.jsx("span",{className:"badge badge-success",children:"Selesai"}):u.jsx("span",{className:"badge badge-danger",children:"Void"})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[u.jsx("button",{onClick:()=>M(T),className:"text-primary hover:text-blue-700",title:"Lihat Detail",children:u.jsx(TR,{size:18})}),T.status==="completed"&&u.jsx("button",{onClick:()=>E(T),className:"text-red-500 hover:text-red-700",title:"Void Transaksi",children:u.jsx(AR,{size:18})}),u.jsx("button",{className:"text-gray-600 hover:text-gray-700",title:"Print",children:u.jsx(n2,{size:18})})]})]},T.id)})})]})})]})]}),A&&C&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Void Transaksi"}),u.jsxs("p",{className:"text-gray-600 mb-4",children:["Void transaksi ",u.jsx("strong",{children:C.id})," senilai ",u.jsxs("strong",{children:["Rp ",C.total.toLocaleString("id-ID")]}),"?"]}),u.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded mb-4",children:" Stok produk akan dikembalikan otomatis"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alasan Void *"}),u.jsx("textarea",{value:x,onChange:T=>g(T.target.value),placeholder:"Masukkan alasan void...",className:"input w-full",rows:3,required:!0})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>j(!1),className:"btn btn-secondary flex-1",children:"Batal"}),u.jsx("button",{onClick:B,className:"btn btn-danger flex-1",children:"Konfirmasi Void"})]})]})}),m&&w&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h3",{className:"text-xl font-bold",children:"Detail Transaksi"}),u.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)] space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"ID Transaksi"}),u.jsx("p",{className:"font-semibold",children:w.id})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Tanggal"}),u.jsx("p",{className:"font-semibold",children:new Date(w.date).toLocaleString("id-ID")})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Kasir"}),u.jsx("p",{className:"font-semibold",children:w.cashier})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Metode Pembayaran"}),u.jsx("p",{className:"font-semibold capitalize",children:w.paymentMethod})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("h4",{className:"font-semibold mb-3",children:"Items"}),u.jsx("div",{className:"space-y-2",children:w.items.map((T,H)=>u.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:T.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:[T.quantity," x Rp ",T.price.toLocaleString("id-ID")]})]}),u.jsxs("p",{className:"font-semibold",children:["Rp ",(T.price*T.quantity).toLocaleString("id-ID")]})]},H))})]}),u.jsxs("div",{className:"border-t pt-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Subtotal"}),u.jsxs("span",{children:["Rp ",w.subtotal.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between text-red-600",children:[u.jsx("span",{children:"Diskon"}),u.jsxs("span",{children:["- Rp ",w.discount.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Pajak"}),u.jsxs("span",{children:["Rp ",w.tax.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-primary",children:["Rp ",w.total.toLocaleString("id-ID")]})]}),w.paymentMethod==="cash"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Bayar"}),u.jsxs("span",{children:["Rp ",w.cashAmount.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between font-semibold",children:[u.jsx("span",{children:"Kembali"}),u.jsxs("span",{className:"text-green-600",children:["Rp ",w.change.toLocaleString("id-ID")]})]})]})]})]})]})})]})}function J_({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const d=(m=>{const v=new Date;return v.setHours(0,0,0,0),m.filter(w=>{const y=new Date(w.date);if(n==="custom"&&i&&o){const x=new Date(i),g=new Date(o);return g.setHours(23,59,59,999),y>=x&&y<=g}if(n==="today"){const x=new Date(y);return x.setHours(0,0,0,0),x.getTime()===v.getTime()}else if(n==="week"){const x=new Date(v);return x.setDate(x.getDate()-7),y>=x}else if(n==="month"){const x=new Date(v);return x.setMonth(x.getMonth()-1),y>=x}return!0})})(a).filter(m=>m.status==="completed"),f=d.reduce((m,v)=>m+v.total,0),h=d.reduce((m,v)=>m+v.tax,0),p=d.reduce((m,v)=>m+v.discount,0);return d.length>0&&f/d.length,u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),u.jsx("p",{className:"text-2xl font-bold mt-1",children:d.length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),u.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",f.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Pajak"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",h.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Diskon"}),u.jsxs("p",{className:"text-2xl font-bold mt-1 text-red-600",children:["Rp ",p.toLocaleString("id-ID")]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Penjualan"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Diskon"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pajak"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),u.jsx("tbody",{className:"divide-y",children:d.slice(0,10).map(m=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(m.date).toLocaleDateString("id-ID")}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:m.id}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.subtotal.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600",children:["- Rp ",m.discount.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.tax.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold",children:["Rp ",m.total.toLocaleString("id-ID")]})]},m.id))})]})})]})]})}function X_({products:a,stockHistory:n}){const[i,o]=ce.useState("name"),[c,d]=ce.useState("all"),f=a.reduce((x,g)=>x+g.price*g.stock,0),h=a.reduce((x,g)=>x+(g.cost||0)*g.stock,0),p=a.filter(x=>x.stock<=x.minStock).length,m=a.filter(x=>x.stock===0).length,v=a.reduce((x,g)=>x+g.stock,0);let w=[...a];c==="low"?w=w.filter(x=>x.stock<=x.minStock&&x.stock>0):c==="out"?w=w.filter(x=>x.stock===0):c==="normal"&&(w=w.filter(x=>x.stock>x.minStock)),i==="stock-asc"?w.sort((x,g)=>x.stock-g.stock):i==="stock-desc"?w.sort((x,g)=>g.stock-x.stock):i==="value-desc"?w.sort((x,g)=>g.price*g.stock-x.price*x.stock):w.sort((x,g)=>x.name.localeCompare(g.name));const y=(n||[]).slice(0,10);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),u.jsx("p",{className:"text-2xl font-bold mt-1",children:a.length})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Unit"}),u.jsx("p",{className:"text-2xl font-bold mt-1",children:v.toLocaleString("id-ID")})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Jual"}),u.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",(f/1e6).toFixed(1),"M"]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Modal (HPP)"}),u.jsxs("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:["Rp ",(h/1e6).toFixed(1),"M"]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Stok Bermasalah"}),u.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:p+m}),u.jsxs("p",{className:"text-xs text-gray-500",children:[m," habis, ",p," rendah"]})]})]}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsxs("select",{value:c,onChange:x=>d(x.target.value),className:"input",children:[u.jsx("option",{value:"all",children:"Semua Status"}),u.jsx("option",{value:"normal",children:"Stok Normal"}),u.jsx("option",{value:"low",children:"Stok Rendah"}),u.jsx("option",{value:"out",children:"Stok Habis"})]}),u.jsxs("select",{value:i,onChange:x=>o(x.target.value),className:"input",children:[u.jsx("option",{value:"name",children:"Urut: Nama A-Z"}),u.jsx("option",{value:"stock-asc",children:"Urut: Stok Terendah"}),u.jsx("option",{value:"stock-desc",children:"Urut: Stok Tertinggi"}),u.jsx("option",{value:"value-desc",children:"Urut: Nilai Tertinggi"})]})]})}),u.jsxs("div",{className:"card",children:[u.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detail Stok Produk (",w.length," produk)"]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Jual"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y",children:w.slice(0,50).map(x=>u.jsxs("tr",{className:`hover:bg-gray-50 ${x.stock===0?"bg-red-50":x.stock<=x.minStock?"bg-orange-50":""}`,children:[u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("p",{className:"font-medium",children:x.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[x.code," ",x.sku?` ${x.sku}`:""]})]}),u.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[x.stock," ",x.unit]}),u.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:x.minStock}),u.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",(x.price||0).toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["Rp ",(x.cost||0).toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",((x.price||0)*x.stock).toLocaleString("id-ID")]}),u.jsx("td",{className:"px-4 py-3 text-center",children:x.stock===0?u.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"HABIS"}):x.stock<=x.minStock?u.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:"Rendah"}):u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Normal"})})]},x.id))})]})}),w.length>50&&u.jsxs("p",{className:"text-center text-gray-500 py-4 text-sm",children:["Menampilkan 50 dari ",w.length," produk"]})]}),y.length>0&&u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Perubahan Stok Terakhir"}),u.jsx("div",{className:"space-y-2",children:y.map(x=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:x.productName}),u.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.createdAt).toLocaleString("id-ID")})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:`font-bold ${x.change>0?"text-green-600":x.change<0?"text-red-600":""}`,children:[x.change>0?"+":"",x.change]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[x.oldStock,"  ",x.newStock]})]})]},x.id))})]})]})}function Z_({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const c=m=>{const v=new Date;return v.setHours(0,0,0,0),m.filter(w=>{const y=new Date(w.date);if(n==="custom"&&i&&o){const x=new Date(i),g=new Date(o);return g.setHours(23,59,59,999),y>=x&&y<=g}if(n==="today"){const x=new Date(y);return x.setHours(0,0,0,0),x.getTime()===v.getTime()}else if(n==="week"){const x=new Date(v);return x.setDate(x.getDate()-7),y>=x}else if(n==="month"){const x=new Date(v);return x.setMonth(x.getMonth()-1),y>=x}return!0})},d={};c(a).filter(m=>m.status==="completed").forEach(m=>{m.items.forEach(v=>{d[v.id]||(d[v.id]={name:v.name,quantity:0,revenue:0}),d[v.id].quantity+=v.quantity,d[v.id].revenue+=v.price*v.quantity})});const f=Object.values(d).sort((m,v)=>v.quantity-m.quantity).slice(0,10),h=f.reduce((m,v)=>m+v.quantity,0),p=f.reduce((m,v)=>m+v.revenue,0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk Terjual"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:[h," items"]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue (Top 10)"}),u.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata per Produk"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",f.length>0?(p/f.length).toLocaleString("id-ID"):0]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Top 10 Produk Terlaris"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ranking"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty Terjual"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Revenue"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% dari Total"})]})}),u.jsx("tbody",{className:"divide-y",children:f.map((m,v)=>{const w=p>0?(m.revenue/p*100).toFixed(1):0;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${v===0?"bg-yellow-400 text-white":v===1?"bg-gray-400 text-white":v===2?"bg-orange-400 text-white":"bg-gray-200 text-gray-700"}`,children:v+1})}),u.jsx("td",{className:"px-6 py-4 font-medium",children:m.name}),u.jsx("td",{className:"px-6 py-4 text-right font-semibold",children:m.quantity}),u.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:["Rp ",m.revenue.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${w}%`}})}),u.jsxs("span",{className:"text-sm",children:[w,"%"]})]})})]},v)})})]})}),f.length===0&&u.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data penjualan untuk periode ini"})]})]})}function eP({transactions:a,products:n,dateRange:i,customStartDate:o,customEndDate:c}){const f=(k=>{const E=new Date;return E.setHours(0,0,0,0),k.filter(B=>{const I=new Date(B.date);if(i==="custom"&&o&&c){const D=new Date(o),M=new Date(c);return M.setHours(23,59,59,999),I>=D&&I<=M}if(i==="today"){const D=new Date(I);return D.setHours(0,0,0,0),D.getTime()===E.getTime()}else if(i==="week"){const D=new Date(E);return D.setDate(D.getDate()-7),I>=D}else if(i==="month"){const D=new Date(E);return D.setMonth(D.getMonth()-1),I>=D}else if(i==="year"){const D=new Date(E.getFullYear(),0,1);return I>=D}return!0})})(a).filter(k=>k.status==="completed"),h={};n.forEach(k=>{h[k.id]=k.cost||0});const p={};let m=0,v=0,w=0,y=0;f.forEach(k=>{w+=k.discount||0,y+=k.tax||0,k.items.forEach(E=>{const B=h[E.id]||E.cost||0,I=E.price*E.quantity,D=B*E.quantity,M=I-D;m+=I,v+=D,p[E.id]||(p[E.id]={name:E.name,quantity:0,revenue:0,cogs:0,profit:0}),p[E.id].quantity+=E.quantity,p[E.id].revenue+=I,p[E.id].cogs+=D,p[E.id].profit+=M})});const x=m-v,g=x-w+y,A=m>0?(x/m*100).toFixed(1):0,j=m>0?(g/m*100).toFixed(1):0,C=Object.values(p).sort((k,E)=>E.profit-k.profit).slice(0,10);return u.jsxs("div",{className:"space-y-6 print:space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90",children:"Total Pendapatan"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",m.toLocaleString("id-ID")]})]}),u.jsx(oc,{size:40,className:"opacity-80"})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90",children:"HPP (COGS)"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",v.toLocaleString("id-ID")]})]}),u.jsx(Vn,{size:40,className:"opacity-80"})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90",children:"Laba Kotor"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",x.toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",A,"%"]})]}),u.jsx(zm,{size:40,className:"opacity-80"})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90",children:"Laba Bersih"}),u.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",g.toLocaleString("id-ID")]}),u.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",j,"%"]})]}),u.jsx(kR,{size:40,className:"opacity-80"})]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Laba Rugi"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"font-medium",children:"Total Pendapatan (Revenue)"}),u.jsxs("span",{className:"font-bold text-blue-600",children:["Rp ",m.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[u.jsx("span",{children:"(-) Harga Pokok Penjualan (HPP)"}),u.jsxs("span",{children:["Rp ",v.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b bg-green-50 px-2 rounded",children:[u.jsx("span",{className:"font-medium text-green-700",children:"= Laba Kotor (Gross Profit)"}),u.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",x.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[u.jsx("span",{children:"(-) Total Diskon"}),u.jsxs("span",{children:["Rp ",w.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{children:"(+) PPN yang Dipungut"}),u.jsxs("span",{children:["Rp ",y.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between py-3 bg-purple-50 px-2 rounded text-lg",children:[u.jsx("span",{className:"font-bold text-purple-700",children:"= Laba Bersih (Net Profit)"}),u.jsxs("span",{className:"font-bold text-purple-600",children:["Rp ",g.toLocaleString("id-ID")]})]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Profit per Produk (Top 10)"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Profit"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margin"})]})}),u.jsx("tbody",{className:"divide-y",children:C.map((k,E)=>{const B=k.revenue>0?(k.profit/k.revenue*100).toFixed(1):0;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 font-medium",children:k.name}),u.jsx("td",{className:"px-4 py-3 text-right",children:k.quantity}),u.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",k.revenue.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-4 py-3 text-right text-red-600",children:["Rp ",k.cogs.toLocaleString("id-ID")]}),u.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:["Rp ",k.profit.toLocaleString("id-ID")]}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${B>=30?"bg-green-100 text-green-700":B>=15?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[B,"%"]})})]},E)})})]})}),C.length===0&&u.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data transaksi untuk periode ini"})]}),u.jsx("div",{className:"card bg-blue-50 border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:" Tips:"})," Pastikan HPP (Harga Pokok Penjualan) di setiap produk sudah diisi dengan benar untuk mendapatkan laporan laba rugi yang akurat. Anda dapat mengisi HPP di menu Produk."]})})]})}function tP({transactions:a,stores:n,dateRange:i,customStartDate:o,customEndDate:c}){const f=(v=>{const w=new Date;return w.setHours(0,0,0,0),v.filter(y=>{const x=new Date(y.date);if(i==="custom"&&o&&c){const g=new Date(o),A=new Date(c);return A.setHours(23,59,59,999),x>=g&&x<=A}if(i==="today"){const g=new Date(x);return g.setHours(0,0,0,0),g.getTime()===w.getTime()}else if(i==="week"){const g=new Date(w);return g.setDate(g.getDate()-7),x>=g}else if(i==="month"){const g=new Date(w);return g.setMonth(g.getMonth()-1),x>=g}return!0})})(a).filter(v=>v.status==="completed"),h={pos:{label:"POS (Kasir)",color:"bg-blue-500",transactions:0,revenue:0},shopee:{label:"Shopee",color:"bg-orange-500",transactions:0,revenue:0},lazada:{label:"Lazada",color:"bg-purple-500",transactions:0,revenue:0},tokopedia:{label:"Tokopedia",color:"bg-green-500",transactions:0,revenue:0},tiktok:{label:"TikTok Shop",color:"bg-gray-800",transactions:0,revenue:0}};f.forEach(v=>{const w=v.source||"pos";h[w]?(h[w].transactions+=1,h[w].revenue+=v.total):(h.pos.transactions+=1,h.pos.revenue+=v.total)});const p=Object.values(h).reduce((v,w)=>v+w.revenue,0),m=Object.values(h).reduce((v,w)=>v+w.transactions,0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Omzet Semua Sumber"}),u.jsxs("p",{className:"text-3xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),u.jsx("p",{className:"text-3xl font-bold mt-1",children:m})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).map(([v,w])=>{const y=p>0?(w.revenue/p*100).toFixed(1):0;return u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:`w-4 h-4 rounded ${w.color}`}),u.jsx("h4",{className:"font-bold",children:w.label})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Transaksi"}),u.jsx("span",{className:"font-medium",children:w.transactions})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Omzet"}),u.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",w.revenue.toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Kontribusi"}),u.jsxs("span",{className:"font-medium",children:[y,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:u.jsx("div",{className:`${w.color} h-2 rounded-full transition-all`,style:{width:`${y}%`}})})]})]},v)})}),n&&n.length>0&&u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Toko Marketplace Terhubung"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(v=>u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:`w-3 h-3 rounded-full ${v.isConnected?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"font-medium",children:v.shopName})]}),u.jsx("p",{className:"text-sm text-gray-600 capitalize",children:v.platform}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",v.lastSync?new Date(v.lastSync).toLocaleString("id-ID"):"Never"]})]},v.id))})]}),u.jsx("div",{className:"card bg-yellow-50 border border-yellow-200",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:" Info:"})," Data marketplace akan otomatis ter-update ketika Anda melakukan sinkronisasi dari halaman Marketplace Integration. Pastikan semua toko sudah terhubung untuk laporan yang akurat."]})})]})}const rP=a=>{const n=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const c=Math.random()*16|0;return(o==="x"?c:c&3|8).toString(16)}),i={id:a.id||n(),code:a.code||`PRD${Date.now()}`,sku:a.sku||"",barcode:a.barcode||"",name:a.name||"Unnamed Product",description:a.description||"",category:typeof a.category=="string"?a.category:null,unit:typeof a.unit=="string"?a.unit:"pcs",cost:parseFloat(a.cost)||0,price:parseFloat(a.price)||0,stock:parseInt(a.stock)||0,min_stock:parseInt(a.minStock)||0,max_stock:parseInt(a.maxStock)||0,image_url:a.image||null,source:a.source||"local",is_active:a.isActive!==!1};return a.hasVariants!==void 0&&(i.has_variants=!!a.hasVariants),a.isVariant!==void 0&&(i.is_variant=!!a.isVariant),a.parentId&&(i.parent_id=a.parentId),a.variantName&&(i.variant_name=a.variantName),a.shopeeItemId&&(i.shopee_item_id=a.shopeeItemId),a.shopeeModelId&&(i.shopee_model_id=a.shopeeModelId),Object.keys(i).forEach(o=>{i[o]===void 0&&delete i[o]}),i},aP=a=>({code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,customer_type:a.type||"member",points:a.points||0,total_spent:a.totalSpent||0}),sP=a=>{var n;return{transaction_code:a.transactionCode||`TRX${Date.now()}`,transaction_date:a.date||new Date().toISOString(),customer_id:a.customerId||((n=a.customer)==null?void 0:n.id),subtotal:a.subtotal||0,discount_type:a.discountType,discount_value:a.discountValue||0,discount_amount:a.discount||0,tax_percent:a.taxPercent||11,tax_amount:a.tax||0,total:a.total||0,payment_method:a.paymentMethod||"cash",payment_amount:a.cashAmount||0,change_amount:a.change||0,status:a.status||"completed",void_reason:a.voidReason,notes:a.notes,cashier_id:a.cashierId,cashier_name:a.cashierName,source:a.source||"pos",marketplace_order_id:a.marketplaceOrderId}},nP=async()=>{if(!Vr())return{isConfigured:!1,isOnline:!1,message:"Supabase belum dikonfigurasi"};try{const{count:a,error:n}=await Sr.from("products").select("*",{count:"exact",head:!0});if(n)throw n;return{isConfigured:!0,isOnline:!0,productCount:a,message:"Terhubung ke Supabase"}}catch(a){return{isConfigured:!0,isOnline:!1,message:"Gagal terhubung ke Supabase: "+a.message}}},iP=async(a,n,i)=>{if(!Vr())return{error:"Supabase not configured"};const o={products:0,customers:0,transactions:0,errors:[]};for(const c of a)try{const{error:d}=await Sr.from("products").upsert(rP(c),{onConflict:"code"});d?o.errors.push(`Product ${c.name}: ${d.message}`):o.products++}catch(d){o.errors.push(`Product ${c.name}: ${d.message}`)}for(const c of n)if(c.type!=="walk-in")try{const{error:d}=await Sr.from("customers").upsert(aP(c),{onConflict:"code"});d?o.errors.push(`Customer ${c.name}: ${d.message}`):o.customers++}catch(d){o.errors.push(`Customer ${c.name}: ${d.message}`)}for(const c of i)try{const{error:d}=await Sr.from("transactions").upsert(sP(c),{onConflict:"transaction_code"});d?o.errors.push(`Transaction ${c.transactionCode}: ${d.message}`):o.transactions++}catch(d){o.errors.push(`Transaction ${c.transactionCode}: ${d.message}`)}return{data:o,error:null}},oP=async()=>{if(!Vr())return{data:null,error:"Supabase not configured"};const a={products:0,customers:0,transactions:0,errors:[]};try{const{error:n,count:i}=await Sr.from("transactions").delete().neq("id",0);n?a.errors.push(`Transactions: ${n.message}`):a.transactions=i||0;const{error:o,count:c}=await Sr.from("customers").delete().neq("id",0);o?a.errors.push(`Customers: ${o.message}`):a.customers=c||0;const{error:d,count:f}=await Sr.from("products").delete().neq("id",0);return d?a.errors.push(`Products: ${d.message}`):a.products=f||0,{data:a,error:a.errors.length>0?a.errors.join(", "):null}}catch(n){return{data:null,error:n.message}}};class lP{constructor(){this.isRunning=!1,this.lastSyncTime=null,this.syncInterval=null}isAutoSyncEnabled(){return localStorage.getItem("autoSyncEnabled")==="true"}toggleAutoSync(n){localStorage.setItem("autoSyncEnabled",n.toString()),n?this.startPeriodicSync():this.stopPeriodicSync()}async runAutoSync(){if(localStorage.getItem("just-restored")==="true")return console.log(" Data just restored from backup - skipping auto sync"),localStorage.removeItem("just-restored"),{success:!1,message:"Data baru di-restore, sync dilewati"};if(this.isRunning)return console.log("Auto sync already running, skipping..."),{success:!1,message:"Auto sync sedang berjalan"};if(!this.isAutoSyncEnabled())return console.log("Auto sync is disabled"),{success:!1,message:"Auto sync dinonaktifkan"};this.isRunning=!0,console.log(" Starting auto sync...");const i={products:{success:!1,imported:0,updated:0,error:null},orders:{success:!1,synced:0,error:null},cloud:{success:!1,synced:0,error:null}};try{console.log(" Syncing products from marketplace...");const o=zs.getState(),c=Fu.getState();if(localStorage.getItem("shopee_access_token"))try{const d=await c.syncShopeeProducts();i.products={success:!0,imported:d.imported||0,updated:d.updated||0,error:null},console.log(` Shopee products synced: ${d.imported} imported, ${d.updated} updated`)}catch(d){i.products.error=d.message,console.error(" Shopee product sync failed:",d)}if(localStorage.getItem("lazada_access_token"))try{const d=await c.syncLazadaProducts();i.products.success?(i.products.imported+=d.imported||0,i.products.updated+=d.updated||0):i.products={success:!0,imported:d.imported||0,updated:d.updated||0,error:null},console.log(` Lazada products synced: ${d.imported} imported, ${d.updated} updated`)}catch(d){console.error(" Lazada product sync failed:",d)}if(console.log(" Syncing orders from marketplace..."),localStorage.getItem("shopee_access_token"))try{const d=await this.syncShopeeOrders();i.orders={success:!0,synced:d.length||0,error:null},console.log(` Shopee orders synced: ${d.length} orders`)}catch(d){i.orders.error=d.message,console.error(" Shopee order sync failed:",d)}console.log(" Syncing to cloud...");try{const d=await o.syncLocalToCloud();i.cloud={success:d.success,synced:d.count||0,error:d.error||null},console.log(` Cloud sync completed: ${d.count} products`)}catch(d){i.cloud.error=d.message,console.error(" Cloud sync failed:",d)}return this.lastSyncTime=new Date().toISOString(),localStorage.setItem("lastAutoSyncTime",this.lastSyncTime),this.showSyncNotification(i),{success:!0,results:i}}catch(o){return console.error(" Auto sync failed:",o),{success:!1,error:o.message}}finally{this.isRunning=!1,console.log(" Auto sync completed")}}async syncShopeeOrders(){var f;const n=localStorage.getItem("shopee_partner_id"),i=localStorage.getItem("shopee_partner_key"),o=localStorage.getItem("shopee_shop_id"),c=localStorage.getItem("shopee_access_token");if(!n||!i||!o||!c)throw new Error("Shopee not configured");const{shopeeApi:d}=await kc(async()=>{const{shopeeApi:h}=await Promise.resolve().then(()=>S_);return{shopeeApi:h}},void 0);try{const h=await d.getOrderList({partner_id:n,partner_key:i,access_token:c,shop_id:o,time_range_field:"create_time",time_from:Math.floor((Date.now()-6048e5)/1e3),time_to:Math.floor(Date.now()/1e3),page_size:100,order_status:"ALL"}),p=((f=h==null?void 0:h.response)==null?void 0:f.order_list)||[];return console.log(`Found ${p.length} Shopee orders to sync`),p}catch(h){throw console.error("Error syncing Shopee orders:",h),h}}showSyncNotification(n){const{products:i,orders:o,cloud:c}=n;let d=` Auto Sync Selesai!

`;i.success?d+=` Produk: ${i.imported} baru, ${i.updated} update
`:i.error&&(d+=` Produk: Gagal (${i.error})
`),o.success?d+=` Pesanan: ${o.synced} disinkron
`:o.error&&(d+=` Pesanan: Gagal (${o.error})
`),c.success?d+=` Cloud: ${c.synced} produk di-backup
`:c.error&&(d+=` Cloud: Gagal (${c.error})
`),typeof window<"u"&&("Notification"in window&&Notification.permission==="granted"?new Notification("Auto Sync POS System",{body:d.replace(/\n/g," "),icon:"/favicon.ico"}):console.log(d))}async initializeOnAppStart(){if(console.log(" Initializing auto sync service..."),typeof window<"u"&&"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission(),this.isAutoSyncEnabled()){const n=localStorage.getItem("lastAutoSyncTime"),i=new Date,o=30*60*1e3;!n||i-new Date(n)>o?setTimeout(()=>{this.runAutoSync()},5e3):console.log(" Auto sync skipped (too soon since last sync)"),this.startPeriodicSync()}}startPeriodicSync(){this.stopPeriodicSync(),this.syncInterval=setInterval(()=>{console.log(" Running periodic auto sync..."),this.runAutoSync()},60*60*1e3),console.log(" Periodic auto sync started (every 1 hour)")}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null,console.log(" Periodic auto sync stopped"))}getLastSyncInfo(){return{lastSyncTime:this.lastSyncTime||localStorage.getItem("lastAutoSyncTime"),isEnabled:this.isAutoSyncEnabled(),isRunning:this.isRunning}}}const cP=new lP,dP=()=>cP.getLastSyncInfo();function uP(){const[a,n]=ce.useState(!1),[i,o]=ce.useState(!1),[c,d]=ce.useState("add"),[f,h]=ce.useState(null),[p,m]=ce.useState(!1),[v,w]=ce.useState(!1),[y,x]=ce.useState(null),{users:g,user:A,addUser:j,updateUser:C,deleteUser:k,toggleUserActive:E,isAdmin:B,resetToDefaultAdmin:I}=M1(),{storeInfo:D,updateStoreInfo:M,setLogo:T,stockSettings:H,updateStockSettings:_,whatsappNumber:F,whatsappMessage:Q,updateWhatsApp:L}=Mu(),{products:ee}=zs(),{customers:se}=T1(),{transactions:ue}=xi(),{purchases:W,suppliers:G}=k3(),{cartItems:ne}=x3(),{logs:de,clearOldLogs:te,exportLogs:ae}=pi(),[ie,oe]=ce.useState(D),[De,Ne]=ce.useState(H||{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30}),[Le,Te]=ce.useState({number:F||"",message:Q||"Halo, saya ingin bertanya tentang produk di toko Anda."});ce.useEffect(()=>{const pe=dP();m(pe.isEnabled),x(pe)},[]);const Ve=()=>{const pe={version:"1.0",timestamp:new Date().toISOString(),data:{products:ee,customers:se,transactions:ue,purchases:W,suppliers:G,settings:D,users:g,cart:ne}},Ie=JSON.stringify(pe,null,2),Me=new Blob([Ie],{type:"application/json"}),Re=URL.createObjectURL(Me),Ye=document.createElement("a");Ye.href=Re,Ye.download=`backup-pos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),URL.revokeObjectURL(Re),alert("Backup database berhasil diunduh!")},Qe=pe=>{const Ie=pe.target.files[0];if(!Ie)return;if(!confirm("Restore database akan mengganti semua data yang ada. Lanjutkan?")){pe.target.value="";return}const Me=new FileReader;Me.onload=Re=>{var Ye;try{const ze=JSON.parse(Re.target.result);if(!ze.version||!ze.data)throw new Error("Format backup tidak valid");const mt=((Ye=ze.data.products)==null?void 0:Ye.length)>0?[...new Set(ze.data.products.map(yt=>yt.category).filter(Boolean))]:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling"];localStorage.setItem("product-storage",JSON.stringify({state:{products:ze.data.products||[],categories:mt,units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!1,isSyncing:!1},version:0})),localStorage.setItem("customer-storage",JSON.stringify({state:{customers:ze.data.customers||[]},version:0})),localStorage.setItem("transaction-storage",JSON.stringify({state:{transactions:ze.data.transactions||[],isOnline:!1},version:0})),localStorage.setItem("purchase-storage",JSON.stringify({state:{purchases:ze.data.purchases||[],suppliers:ze.data.suppliers||[]},version:0})),localStorage.setItem("settings-storage",JSON.stringify({state:{storeInfo:ze.data.settings||{},stockSettings:{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30}},version:0}));const lt=ze.data.users||[],ht=lt.find(yt=>yt.role==="admin"&&yt.isActive)||lt.find(yt=>yt.isActive)||lt[0];localStorage.setItem("auth-storage",JSON.stringify({state:{users:lt,user:ht||null,isAuthenticated:!!ht},version:0})),localStorage.setItem("just-restored","true"),alert("Restore database berhasil! Halaman akan di-refresh."),window.location.reload()}catch(ze){alert("Error restore database: "+ze.message)}},Me.readAsText(Ie),pe.target.value=""},ot=async()=>{if(confirm(` PERINGATAN!

Ini akan menghapus SEMUA data:
- Produk (Lokal & Supabase)
- Customer (Lokal & Supabase)
- Transaksi (Lokal & Supabase)
- Pembelian
- Supplier
- Settings
- Cache Shopee

Data TIDAK BISA dikembalikan!
Lanjutkan?`)&&confirm("Konfirmasi sekali lagi: Anda yakin ingin menghapus SEMUA database LOKAL dan SUPABASE?")){if(Vr())try{alert(" Menghapus data di Supabase...");const pe=await oP();if(pe.error){if(console.error("Error deleting Supabase data:",pe.error),!confirm(` Gagal menghapus data Supabase: ${pe.error}

Lanjutkan hapus data lokal?`))return}else console.log("Supabase data deleted:",pe.data)}catch(pe){if(console.error("Error deleting Supabase data:",pe),!confirm(` Gagal menghapus data Supabase: ${pe.message}

Lanjutkan hapus data lokal?`))return}zs.setState({products:[],categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis"]}),T1.setState({customers:[{id:1,name:"Walk-in Customer",phone:"-",email:"-",address:"-",type:"walk-in",points:0,totalSpent:0,customPrices:{}}]}),xi.setState({transactions:[]}),k3.setState({purchases:[],suppliers:[]}),x3.setState({items:[],discount:0,discountType:"percent",paymentMethod:"cash",customerId:null}),localStorage.removeItem("product-storage"),localStorage.removeItem("customer-storage"),localStorage.removeItem("transaction-storage"),localStorage.removeItem("purchase-storage"),localStorage.removeItem("settings-storage"),localStorage.removeItem("cart-storage"),localStorage.removeItem("shopee_products_cache"),localStorage.removeItem("shopee_orders_cache"),localStorage.removeItem("shopee_returns_cache"),localStorage.removeItem("shopee_last_sync"),alert(" Semua database (lokal & Supabase) berhasil dihapus! Halaman akan di-refresh."),window.location.reload(!0)}},Ze=pe=>{const Ie=pe.target.files[0];if(Ie&&Ie.type.startsWith("image/")){const Me=new FileReader;Me.onloadend=()=>{T(Me.result),oe({...ie,logo:Me.result})},Me.readAsDataURL(Ie)}},Fe=()=>{M(ie),alert("Informasi toko berhasil disimpan!")},Ke=pe=>{h(pe),n(!0)},Je=()=>{d("add"),h(null),o(!0)},rt=pe=>{d("edit"),h(pe),o(!0)},Xe=pe=>{if(!confirm(`Hapus user "${pe.name}"?

Data user akan dihapus permanen.`))return;const Ie=k(pe.id);Ie.success||alert(Ie.error)},Se=pe=>{const Ie=pe.isActive?"nonaktifkan":"aktifkan";if(!confirm(`${Ie.charAt(0).toUpperCase()+Ie.slice(1)} user "${pe.name}"?`))return;const Me=E(pe.id);Me.success||alert(Me.error)};return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pengaturan"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Konfigurasi sistem dan preferensi"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(lc,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Informasi Toko"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo Toko"}),u.jsxs("div",{className:"flex items-center gap-4",children:[ie.logo?u.jsx("div",{className:"relative w-24 h-24 rounded-lg border-2 border-gray-200 overflow-hidden",children:u.jsx("img",{src:ie.logo,alt:"Logo",className:"w-full h-full object-contain"})}):u.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:u.jsx(ru,{className:"text-gray-400",size:32})}),u.jsxs("div",{children:[u.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:Ze,className:"hidden"}),u.jsxs("label",{htmlFor:"logo-upload",className:"btn btn-secondary cursor-pointer inline-flex items-center gap-2",children:[u.jsx(Lm,{size:16}),"Pilih Logo"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG maksimal 2MB"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Toko"}),u.jsx("input",{type:"text",value:ie.name,onChange:pe=>oe({...ie,name:pe.target.value}),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),u.jsx("textarea",{className:"input",rows:"2",value:ie.address,onChange:pe=>oe({...ie,address:pe.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telepon"}),u.jsx("input",{type:"tel",value:ie.phone,onChange:pe=>oe({...ie,phone:pe.target.value}),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx("input",{type:"email",value:ie.email,onChange:pe=>oe({...ie,email:pe.target.value}),className:"input"})]}),u.jsx("button",{onClick:Fe,className:"btn btn-primary",children:"Simpan Informasi"})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(au,{className:"text-green-500",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"WhatsApp Customer Service"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-green-800",children:[u.jsx(Mb,{size:14,className:"inline mr-1"}),"Tambahkan nomor WhatsApp CS untuk tombol kontak cepat di dashboard dan struk."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nomor WhatsApp"}),u.jsx("input",{type:"tel",placeholder:"6281234567890",value:Le.number,onChange:pe=>Te({...Le,number:pe.target.value}),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 628xxx (tanpa + atau 0 di depan)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pesan Default"}),u.jsx("textarea",{rows:"3",placeholder:"Halo, saya ingin bertanya...",value:Le.message,onChange:pe=>Te({...Le,message:pe.target.value}),className:"input"})]}),Le.number&&u.jsx("div",{className:"flex gap-2",children:u.jsxs("a",{href:`https://wa.me/${Le.number.replace(/\\D/g,"")}?text=${encodeURIComponent(Le.message)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success flex items-center gap-2",children:[u.jsx(au,{size:16}),"Test WhatsApp"]})}),u.jsx("button",{onClick:()=>{L(Le.number,Le.message),alert("Pengaturan WhatsApp berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan WhatsApp"})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(jy,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Pajak"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),u.jsx("span",{children:"Aktifkan Pajak PPN"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Persentase PPN (%)"}),u.jsx("input",{type:"number",defaultValue:"11",className:"input"})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4"}),u.jsx("span",{children:"Tampilkan harga sudah termasuk pajak"})]})}),u.jsx("button",{className:"btn btn-primary",children:"Simpan"})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(n2,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Printer"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Printer"}),u.jsxs("select",{className:"input",children:[u.jsx("option",{children:"Thermal Printer (Default)"}),u.jsx("option",{children:"HP LaserJet"}),u.jsx("option",{children:"Canon Pixma"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ukuran Kertas"}),u.jsxs("select",{className:"input",children:[u.jsx("option",{children:"58mm (Thermal)"}),u.jsx("option",{children:"80mm (Thermal)"}),u.jsx("option",{children:"A4"})]})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),u.jsx("span",{children:"Cetak otomatis setelah transaksi"})]})}),u.jsx("button",{className:"btn btn-secondary",children:"Test Print"})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(eu,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Notifikasi"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),u.jsx("span",{children:"Alert stok menipis"})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),u.jsx("span",{children:"Alert produk mendekati expired"})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4"}),u.jsx("span",{children:"Notifikasi email harian"})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4"}),u.jsx("span",{children:"Notifikasi WhatsApp"})]}),u.jsx("button",{className:"btn btn-primary mt-4",children:"Simpan"})]})]}),u.jsxs("div",{className:"card md:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Yl,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Manajemen Pengguna"})]}),B()&&u.jsxs("button",{onClick:Je,className:"btn btn-primary btn-sm inline-flex items-center gap-2",children:[u.jsx(en,{size:16}),"Tambah User"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-blue-700",children:g.length}),u.jsx("p",{className:"text-xs text-blue-600",children:"Total User"})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-green-700",children:g.filter(pe=>pe.isActive!==!1).length}),u.jsx("p",{className:"text-xs text-green-600",children:"User Aktif"})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-purple-700",children:g.filter(pe=>pe.role==="admin").length}),u.jsx("p",{className:"text-xs text-purple-600",children:"Admin"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Permissions"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:g.map(pe=>u.jsxs("tr",{className:pe.isActive===!1?"bg-gray-50 opacity-60":"",children:[u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${pe.role==="admin"?"bg-purple-500":"bg-blue-500"}`,children:pe.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:pe.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["@",pe.username]})]}),(A==null?void 0:A.id)===pe.id&&u.jsx("span",{className:"badge badge-info text-xs",children:"Anda"})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`badge ${pe.role==="admin"?"badge-danger":"badge-info"}`,children:pe.role==="admin"?"Admin":"Kasir"})}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[pe.permissions.includes("all")?u.jsx("span",{className:"badge badge-success text-xs",children:"Semua Akses"}):pe.permissions.slice(0,3).map(Ie=>u.jsx("span",{className:"badge badge-secondary text-xs",children:$5[Ie]||Ie},Ie)),!pe.permissions.includes("all")&&pe.permissions.length>3&&u.jsxs("span",{className:"badge badge-secondary text-xs",children:["+",pe.permissions.length-3]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`badge ${pe.isActive!==!1?"badge-success":"badge-danger"}`,children:pe.isActive!==!1?"Aktif":"Nonaktif"})}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>Ke(pe),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ganti Password",children:u.jsx(yy,{size:16,className:"text-gray-600"})}),B()&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>rt(pe),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User",children:u.jsx(ky,{size:16,className:"text-blue-600"})}),pe.id!==1&&pe.id!==(A==null?void 0:A.id)&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>Se(pe),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:pe.isActive!==!1?"Nonaktifkan":"Aktifkan",children:pe.isActive!==!1?u.jsx(YR,{size:16,className:"text-yellow-600"}):u.jsx(GR,{size:16,className:"text-green-600"})}),u.jsx("button",{onClick:()=>Xe(pe),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus User",children:u.jsx(s1,{size:16,className:"text-red-600"})})]})]})]})})]},pe.id))})]})})]}),B()&&u.jsxs("div",{className:"card md:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Om,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Audit Log"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>{confirm("Hapus log lama (lebih dari 30 hari)?")&&(te(30),alert("Log lama berhasil dihapus"))},className:"btn btn-secondary text-sm",children:[u.jsx(s1,{size:16}),"Clear Old"]}),u.jsxs("button",{onClick:()=>{const pe=ae(),Ie=new Blob([pe],{type:"application/json"}),Me=URL.createObjectURL(Ie),Re=document.createElement("a");Re.href=Me,Re.download=`audit-log-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(Me)},className:"btn btn-primary text-sm",children:[u.jsx(Gl,{size:16}),"Export"]})]})]}),u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Log aktivitas sistem (total: ",de.length,")"]}),u.jsx("div",{className:"max-h-80 overflow-y-auto border rounded-lg",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Waktu"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Aksi"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"User"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Detail"})]})}),u.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[de.slice(0,50).map(pe=>{var Ie,Me,Re;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 whitespace-nowrap",children:new Date(pe.timestamp).toLocaleString("id-ID")}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${pe.action.includes("login")?"bg-blue-100 text-blue-800":pe.action.includes("transaction")?"bg-green-100 text-green-800":pe.action.includes("stock")?"bg-yellow-100 text-yellow-800":pe.action.includes("product")?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:pe.action.replace("_"," ").toUpperCase()})}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:pe.userName||"-"}),u.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 max-w-xs truncate",title:JSON.stringify(pe.details),children:((Ie=pe.details)==null?void 0:Ie.productName)||((Me=pe.details)==null?void 0:Me.transactionId)||((Re=pe.details)==null?void 0:Re.username)||JSON.stringify(pe.details).slice(0,50)})]},pe.id)}),de.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500",children:"Belum ada log aktivitas"})})]})]})})]}),u.jsxs("div",{className:"card md:col-span-2",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(RR,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Backup & Restore Database"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:u.jsx(Gl,{className:"text-primary",size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg mb-2",children:"Backup Database"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download semua data sistem (produk, customer, transaksi, dll) dalam format JSON"}),u.jsxs("button",{onClick:Ve,className:"btn btn-primary inline-flex items-center gap-2",children:[u.jsx(Gl,{size:20}),"Download Backup"]})]})]})}),u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-warning transition-colors",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:u.jsx(p3,{className:"text-warning",size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg mb-2",children:"Restore Database"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload file backup untuk mengembalikan data sistem"}),u.jsx("input",{type:"file",id:"restore-upload",accept:".json",onChange:Qe,className:"hidden"}),u.jsxs("label",{htmlFor:"restore-upload",className:"btn btn-warning inline-flex items-center gap-2 cursor-pointer",children:[u.jsx(p3,{size:20}),"Upload Backup"]})]})]})}),u.jsx("div",{className:"border-2 border-dashed border-purple-300 rounded-lg p-6 text-center hover:border-purple-500 transition-colors",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"bg-purple-100 p-4 rounded-full",children:u.jsx(Yl,{className:"text-purple-600",size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg mb-2 text-purple-700",children:"Reset User ke Default"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Kembalikan user admin dengan semua permission"}),u.jsxs("button",{onClick:()=>{confirm("Reset user ke default? Anda akan login sebagai admin dengan semua permission.")&&(I(),alert(" User berhasil di-reset! Anda sekarang login sebagai Administrator."),window.location.reload())},className:"btn bg-purple-600 hover:bg-purple-700 text-white inline-flex items-center gap-2",children:[u.jsx(gi,{size:20}),"Reset User"]})]})]})}),u.jsx("div",{className:"border-2 border-dashed border-red-300 rounded-lg p-6 text-center hover:border-red-500 transition-colors",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:u.jsx(s1,{className:"text-danger",size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg mb-2 text-red-700",children:"Hapus Seluruh Database"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Menghapus SEMUA data sistem. Data tidak bisa dikembalikan!"}),u.jsxs("button",{onClick:ot,className:"btn btn-danger inline-flex items-center gap-2",children:[u.jsx(s1,{size:20}),"Hapus Semua Data"]})]})]})})]}),u.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"text-yellow-600 font-bold",children:""}),u.jsxs("div",{children:[u.jsx("h5",{className:"font-bold text-yellow-800 mb-1",children:"Peringatan"}),u.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[u.jsx("li",{children:" Backup database secara rutin untuk keamanan data"}),u.jsx("li",{children:" Restore akan mengganti semua data yang ada saat ini"}),u.jsx("li",{children:" Pastikan file backup valid sebelum melakukan restore"}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Hapus Database akan menghapus SEMUA data tanpa bisa dikembalikan!"})]}),u.jsx("li",{children:" Sistem akan refresh otomatis setelah restore/clear berhasil"})]})]})]})})]}),u.jsx(pP,{products:ee,customers:se,transactions:ue}),u.jsxs("div",{className:"card md:col-span-2",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Mb,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Tentang Aplikasi"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(lc,{className:"text-white",size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"POS & Inventory System"}),u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-primary/10 text-primary text-sm font-medium rounded-full",children:[u.jsx(IR,{size:14}),"Versi 1.0.0"]})]})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Aplikasi Point of Sale dan Manajemen Inventori lengkap dengan fitur kasir, manajemen produk, pelacakan stok, laporan penjualan, dan sinkronisasi real-time. Dirancang untuk memudahkan pengelolaan bisnis retail Anda."}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Manajemen Produk & Kategori"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Transaksi Penjualan (Kasir)"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Pelacakan Stok Real-time"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Laporan Penjualan & Analitik"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Sinkronisasi Cloud (Supabase)"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Scan Barcode (Android)"]})]})]}),u.jsxs("div",{className:"md:w-72 bg-white rounded-xl p-5 shadow-sm",children:[u.jsxs("h5",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Yl,{size:18,className:"text-primary"}),"Pengembang"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Nama"}),u.jsx("p",{className:"font-semibold text-gray-900",children:"DedyChen"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),u.jsxs("a",{href:"https://wa.me/6281213821828",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-green-600 font-semibold hover:text-green-700 transition-colors",children:[u.jsx(LR,{size:16}),"0812-1382-1828"]})]}),u.jsx("div",{className:"pt-3 border-t border-gray-100",children:u.jsxs("a",{href:"https://wa.me/6281213821828?text=Halo%20DedyChen,%20saya%20ingin%20bertanya%20tentang%20aplikasi%20POS",target:"_blank",rel:"noopener noreferrer",className:"w-full btn bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Hubungi via WhatsApp"]})})]})]})]}),u.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center text-sm text-gray-500",children:u.jsx("p",{children:" 2024 POS & Inventory System. Dikembangkan dengan  oleh DedyChen"})})]})]})]}),a&&u.jsx(fP,{user:f,onClose:()=>{n(!1),h(null)}}),i&&u.jsx(hP,{mode:c,user:f,onClose:()=>{o(!1),h(null)}})]})}function fP({user:a,onClose:n}){const[i,o]=ce.useState({newPassword:"",confirmPassword:""}),[c,d]=ce.useState(""),[f,h]=ce.useState(!1),{changePassword:p}=M1(),m=v=>{if(v.preventDefault(),d(""),i.newPassword.length<4){d("Password minimal 4 karakter");return}if(i.newPassword!==i.confirmPassword){d("Password tidak cocok");return}p(a.username,i.newPassword),h(!0),setTimeout(()=>{n()},1500)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(yy,{className:"text-primary",size:24}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"Ganti Password"}),u.jsxs("p",{className:"text-sm text-gray-600",children:["User: ",a.name]})]})]}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),f?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:"Password Berhasil Diubah!"}),u.jsxs("p",{className:"text-gray-600",children:["Password untuk ",a.name," telah diperbarui"]})]}):u.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[c&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password Baru *"}),u.jsx("input",{type:"password",value:i.newPassword,onChange:v=>o({...i,newPassword:v.target.value}),className:"input",placeholder:"Masukkan password baru",required:!0,autoFocus:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 4 karakter"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password *"}),u.jsx("input",{type:"password",value:i.confirmPassword,onChange:v=>o({...i,confirmPassword:v.target.value}),className:"input",placeholder:"Ketik ulang password baru",required:!0})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Ubah Password"}),u.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function hP({mode:a,user:n,onClose:i}){const{addUser:o,updateUser:c}=M1(),[d,f]=ce.useState(""),[h,p]=ce.useState(!1),m=["pos","products","products_view","stock","customers","customers_view","sales","purchases","reports","marketplace","settings"],[v,w]=ce.useState({username:(n==null?void 0:n.username)||"",password:"",confirmPassword:"",name:(n==null?void 0:n.name)||"",role:(n==null?void 0:n.role)||"cashier",permissions:(n==null?void 0:n.permissions)||["pos","products_view"],isActive:(n==null?void 0:n.isActive)!==!1}),y=g=>{if(g==="all")w({...v,permissions:v.permissions.includes("all")?[]:["all"]});else{const A=v.permissions.filter(j=>j!=="all");A.includes(g)?w({...v,permissions:A.filter(j=>j!==g)}):w({...v,permissions:[...A,g]})}},x=g=>{if(g.preventDefault(),f(""),!v.username.trim()){f("Username harus diisi");return}if(!v.name.trim()){f("Nama harus diisi");return}if(a==="add"){if(!v.password){f("Password harus diisi");return}if(v.password.length<4){f("Password minimal 4 karakter");return}if(v.password!==v.confirmPassword){f("Konfirmasi password tidak cocok");return}}if(v.permissions.length===0){f("Pilih minimal 1 permission");return}if(a==="add"){const A=o({username:v.username.trim().toLowerCase(),password:v.password,name:v.name.trim(),role:v.role,permissions:v.permissions});if(!A.success){f(A.error);return}}else{const A={username:v.username.trim().toLowerCase(),name:v.name.trim(),role:v.role,permissions:v.permissions,isActive:v.isActive};if(v.password){if(v.password.length<4){f("Password minimal 4 karakter");return}if(v.password!==v.confirmPassword){f("Konfirmasi password tidak cocok");return}A.password=v.password}const j=c(n.id,A);if(!j.success){f(j.error);return}}p(!0),setTimeout(()=>i(),1500)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-2 rounded-lg ${a==="add"?"bg-green-100":"bg-blue-100"}`,children:a==="add"?u.jsx(en,{className:"text-green-600",size:24}):u.jsx(ky,{className:"text-blue-600",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:a==="add"?"Tambah User Baru":"Edit User"}),a==="edit"&&u.jsxs("p",{className:"text-sm text-gray-600",children:["@",n.username]})]})]}),u.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Bs,{size:24})})]}),h?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ql,{className:"text-green-600",size:32})}),u.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:a==="add"?"User Berhasil Ditambahkan!":"User Berhasil Diperbarui!"})]}):u.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[d&&u.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2",children:[u.jsx(xy,{size:18}),d]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),u.jsx("input",{type:"text",value:v.username,onChange:g=>w({...v,username:g.target.value}),className:"input",placeholder:"username",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),u.jsx("input",{type:"text",value:v.name,onChange:g=>w({...v,name:g.target.value}),className:"input",placeholder:"Nama Lengkap",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",a==="add"?"*":"(kosongkan jika tidak diubah)"]}),u.jsx("input",{type:"password",value:v.password,onChange:g=>w({...v,password:g.target.value}),className:"input",placeholder:"",required:a==="add"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password"}),u.jsx("input",{type:"password",value:v.confirmPassword,onChange:g=>w({...v,confirmPassword:g.target.value}),className:"input",placeholder:"",required:a==="add"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role *"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"role",value:"cashier",checked:v.role==="cashier",onChange:()=>w({...v,role:"cashier"}),className:"w-4 h-4"}),u.jsx("span",{className:"badge badge-info",children:"Kasir"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"role",value:"admin",checked:v.role==="admin",onChange:()=>w({...v,role:"admin",permissions:["all"]}),className:"w-4 h-4"}),u.jsx("span",{className:"badge badge-danger",children:"Admin"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:[u.jsx(HR,{size:16,className:"inline mr-1"}),"Permissions *"]}),u.jsxs("div",{className:"border rounded-lg p-4 space-y-3 max-h-48 overflow-y-auto",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[u.jsx("input",{type:"checkbox",checked:v.permissions.includes("all"),onChange:()=>y("all"),className:"w-4 h-4"}),u.jsx("span",{className:"font-medium text-green-700",children:" Semua Akses (Admin)"})]}),u.jsx("hr",{}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(g=>u.jsxs("label",{className:`flex items-center gap-2 cursor-pointer p-2 rounded transition-colors ${v.permissions.includes("all")?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[u.jsx("input",{type:"checkbox",checked:v.permissions.includes("all")||v.permissions.includes(g),onChange:()=>!v.permissions.includes("all")&&y(g),disabled:v.permissions.includes("all"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:$5[g]||g})]},g))})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.permissions.includes("all")?"User memiliki akses ke semua fitur":`${v.permissions.length} permission dipilih`})]}),a==="edit"&&(n==null?void 0:n.id)!==1&&u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:v.isActive,onChange:g=>w({...v,isActive:g.target.checked}),className:"w-4 h-4"}),u.jsx("span",{children:"User Aktif"})]}),u.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"User nonaktif tidak bisa login"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a==="add"?"Tambah User":"Simpan Perubahan"}),u.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function pP({products:a,customers:n,transactions:i}){var w,y;const[o,c]=ce.useState({isConfigured:!1,isOnline:!1,message:"Memeriksa..."}),[d,f]=ce.useState(!1),[h,p]=ce.useState(null);ce.useEffect(()=>{m()},[]);const m=async()=>{const x=await nP();c(x)},v=async()=>{if(confirm(`Upload semua data lokal ke Supabase?

Data di cloud akan di-update/ditambahkan.`)){f(!0),p(null);try{const x=await iP(a,n,i);p(x.data)}catch(x){p({errors:[x.message]})}f(!1),await m()}};return u.jsxs("div",{className:"card md:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(tu,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold",children:"Sinkronisasi Cloud (Supabase)"})]}),u.jsxs("button",{onClick:m,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(gi,{size:16}),"Refresh Status"]})]}),u.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-center gap-3 ${o.isOnline?"bg-green-50 border border-green-200":o.isConfigured?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[o.isOnline?u.jsx(ql,{className:"text-green-600",size:24}):u.jsx(xy,{className:o.isConfigured?"text-yellow-600":"text-gray-400",size:24}),u.jsxs("div",{children:[u.jsx("p",{className:`font-semibold ${o.isOnline?"text-green-700":o.isConfigured?"text-yellow-700":"text-gray-600"}`,children:o.isOnline?" Terhubung ke Supabase":o.message}),o.productCount!==void 0&&u.jsxs("p",{className:"text-sm text-gray-600",children:[o.productCount," produk di cloud"]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-blue-700",children:a.length}),u.jsx("p",{className:"text-sm text-blue-600",children:"Produk Lokal"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-purple-700",children:n.length}),u.jsx("p",{className:"text-sm text-purple-600",children:"Customer Lokal"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-green-700",children:i.length}),u.jsx("p",{className:"text-sm text-green-600",children:"Transaksi Lokal"})]})]}),u.jsx("button",{onClick:v,disabled:!o.isOnline||d,className:`btn w-full flex items-center justify-center gap-2 ${o.isOnline?"btn-primary":"btn-secondary opacity-50 cursor-not-allowed"}`,children:d?u.jsxs(u.Fragment,{children:[u.jsx(gi,{size:20,className:"animate-spin"}),"Menyinkronkan..."]}):u.jsxs(u.Fragment,{children:[u.jsx(p3,{size:20}),"Upload Data Lokal ke Cloud"]})}),h&&u.jsx("div",{className:`mt-4 p-4 rounded-lg ${(w=h.errors)!=null&&w.length?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:((y=h.errors)==null?void 0:y.length)>0?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-red-700 mb-2",children:"Beberapa error terjadi:"}),u.jsxs("ul",{className:"text-sm text-red-600 list-disc list-inside",children:[h.errors.slice(0,5).map((x,g)=>u.jsx("li",{children:x},g)),h.errors.length>5&&u.jsxs("li",{children:["...dan ",h.errors.length-5," error lainnya"]})]})]}):u.jsxs("div",{className:"text-green-700",children:[u.jsx("p",{className:"font-semibold mb-1",children:" Sinkronisasi berhasil!"}),u.jsxs("p",{className:"text-sm",children:[h.products," produk, ",h.customers," customer, ",h.transactions," transaksi ter-sync"]})]})}),!Vr()&&u.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 p-4 rounded-lg",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[u.jsx("strong",{children:"Belum terkonfigurasi:"})," Tambahkan VITE_SUPABASE_URL dan VITE_SUPABASE_ANON_KEY di file .env"]})})]})}const d6=ol("Device",{web:()=>kc(()=>import("./web-D7LESU9F.js"),[]).then(a=>new a.DeviceWeb)});function mP(){const[a,n]=ce.useState(!1),[i,o]=ce.useState(!1),[c,d]=ce.useState(!1),[f,h]=ce.useState(null),[p,m]=ce.useState(0),[v,w]=ce.useState({id:"",name:""}),[y,x]=ce.useState(""),[g,A]=ce.useState(null),{products:j}=zs();ce.useEffect(()=>{const T=`scan-${Date.now()}`;return x(T),d6.getInfo().then(H=>{d6.getId().then(_=>{w({id:_.identifier||_.uuid||"unknown",name:`${H.manufacturer} ${H.model}`})})}),C(),()=>{D()}},[]);const C=async()=>{try{const{error:T}=await Sr.from("barcode_scans").select("id").limit(1);d(!T)}catch{d(!1)}},k=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const T=document.getElementById("root");T&&(T.style.visibility="hidden")},E=()=>{document.body.style.background="",document.documentElement.style.background="";const T=document.getElementById("root");T&&(T.style.visibility="visible")},B=async T=>{try{const{error:H}=await Sr.from("barcode_scans").insert({barcode:T,device_id:v.id,device_name:v.name,session_id:y,processed:!1});if(H)throw H;const _=j.find(F=>F.barcode===T||F.code===T||F.sku===T);return h({barcode:T,product:_?_.name:null,time:new Date().toLocaleTimeString()}),m(F=>F+1),!0}catch(H){return console.error("Error sending scan:",H),A("Gagal mengirim scan ke server"),!1}},I=async()=>{try{A(null);const{camera:T}=await Zn.requestPermissions();if(T!=="granted"&&T!=="limited"){A("Izin kamera diperlukan");return}k(),n(!0),await Zn.addListener("barcodeScanned",async H=>{var _;(_=H.barcode)!=null&&_.rawValue&&(navigator.vibrate&&navigator.vibrate(100),await B(H.barcode.rawValue))}),await Zn.startScan({formats:[kn.Ean13,kn.Ean8,kn.Code128,kn.Code39,kn.QrCode,kn.UpcA,kn.UpcE],lensFacing:"back"})}catch(T){console.error("Scan error:",T),A("Gagal memulai scanner: "+T.message),E(),n(!1)}},D=async()=>{try{await Zn.stopScan(),await Zn.removeAllListeners(),i&&await Zn.toggleTorch()}catch(T){console.error("Stop scan error:",T)}finally{E(),n(!1),o(!1)}},M=async()=>{try{await Zn.toggleTorch(),o(!i)}catch(T){console.error("Torch error:",T)}};return a?u.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent"},children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[u.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-green-500 rounded-tl-xl"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-green-500 rounded-tr-xl"}),u.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-green-500 rounded-bl-xl"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-green-500 rounded-br-xl"}),u.jsx("div",{className:"absolute left-4 right-4 h-1 bg-green-500 rounded scanning-line"})]})}),u.jsxs("div",{className:"absolute top-4 left-0 right-0 text-center pointer-events-none safe-area-top",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/60 backdrop-blur px-4 py-2 rounded-full",children:[u.jsx(v3,{className:"text-green-400",size:18}),u.jsx("span",{className:"text-white font-medium",children:"Mode Remote Scanner"})]}),u.jsx("p",{className:"text-gray-200 text-sm mt-2",children:"Scan untuk kirim ke Kasir Web"})]}),f&&u.jsx("div",{className:"absolute top-24 left-4 right-4 pointer-events-none",children:u.jsxs("div",{className:"bg-green-500/90 backdrop-blur rounded-xl p-3 flex items-center gap-3",children:[u.jsx(ER,{className:"text-white flex-shrink-0",size:24}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-white font-medium truncate",children:f.product||f.barcode}),u.jsxs("p",{className:"text-green-100 text-sm",children:["Terkirim ke Web  ",f.time]})]}),u.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:u.jsx("span",{className:"text-white font-bold",children:p})})]})}),u.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[u.jsx("button",{onClick:M,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40",children:i?u.jsx(by,{size:28,className:"text-yellow-400"}):u.jsx(wy,{size:28,className:"text-white"})}),u.jsx("button",{onClick:D,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40",children:u.jsx(Bs,{size:30,className:"text-white"})})]}),u.jsx("style",{children:`
          .scanning-line {
            animation: scan 2s ease-in-out infinite;
          }
          @keyframes scan {
            0%, 100% { top: 10%; }
            50% { top: 85%; }
          }
        `})]}):u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 text-white p-6 rounded-b-3xl",children:[u.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Remote Scanner"}),u.jsx("p",{className:"text-green-100",children:"Scan barcode untuk kasir di Web"}),u.jsx("div",{className:"mt-4 flex items-center gap-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(v3,{size:20,className:"text-green-300"}),u.jsx("span",{className:"text-green-200",children:"Terhubung ke server"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Sy,{size:20,className:"text-red-300"}),u.jsx("span",{className:"text-red-200",children:"Tidak terhubung"})]})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[g&&u.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl",children:g}),u.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Cara Penggunaan:"}),u.jsxs("ol",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"1"}),u.jsxs("span",{children:["Buka halaman ",u.jsx("strong",{children:"Kasir/POS"})," di komputer Web"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"2"}),u.jsxs("span",{children:["Tekan tombol ",u.jsx("strong",{children:'"Mulai Scan"'})," di bawah"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"3"}),u.jsx("span",{children:"Arahkan kamera ke barcode produk"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"4"}),u.jsx("span",{children:"Produk otomatis masuk ke keranjang di Web!"})]})]})]}),p>0&&u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Vn,{className:"text-green-600",size:24}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-green-900",children:[p," produk di-scan"]}),f&&u.jsxs("p",{className:"text-sm text-green-700",children:["Terakhir: ",f.product||f.barcode]})]})]}),u.jsx("button",{onClick:()=>{m(0),h(null)},className:"text-green-600 text-sm underline",children:"Reset"})]})}),u.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 text-sm text-gray-600",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Device:"})," ",v.name||"Loading..."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Session:"})," ",y]})]}),u.jsxs("button",{onClick:I,disabled:!c,className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 shadow-lg transition-all mt-4 ${c?"bg-green-500 text-white active:scale-95":"bg-gray-300 text-gray-500"}`,children:[u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),c?"Mulai Scan":"Tidak Terhubung"]})]})]})}function vP(){const{isAuthenticated:a,user:n,resetToDefaultAdmin:i}=M1();return ce.useEffect(()=>{n&&n.role==="cashier"&&n.name==="Administrator"&&(console.log(" Fixing corrupted admin user..."),i(),window.location.reload())},[n,i]),u.jsx(zN,{children:u.jsx(bR,{children:u.jsxs(xg,{children:[u.jsx(x1,{path:"/login",element:a?u.jsx(vg,{to:"/"}):u.jsx(ZR,{})}),u.jsx(x1,{path:"/*",element:a?u.jsx(XR,{children:u.jsxs(xg,{children:[u.jsx(x1,{path:"/",element:u.jsx(tT,{})}),!Et&&u.jsx(x1,{path:"/pos",element:u.jsx(rT,{})}),Et&&u.jsx(x1,{path:"/scanner",element:u.jsx(mP,{})}),u.jsx(x1,{path:"/products",element:u.jsx(I_,{})}),u.jsx(x1,{path:"/stock",element:u.jsx(F_,{})}),u.jsx(x1,{path:"/purchases",element:u.jsx(L_,{})}),u.jsx(x1,{path:"/sales",element:u.jsx($_,{})}),u.jsx(x1,{path:"/customers",element:u.jsx(G_,{})}),u.jsx(x1,{path:"/reports",element:u.jsx(K_,{})}),u.jsx(x1,{path:"/settings",element:u.jsx(uP,{})})]})}):u.jsx(vg,{to:"/login"})})]})})})}const u6=ol("App",{web:()=>kc(()=>import("./web-DJlqEYl4.js"),[]).then(a=>new a.AppWeb)});var j3;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(j3||(j3={}));var f6;(function(a){a.None="NONE",a.Slide="SLIDE",a.Fade="FADE"})(f6||(f6={}));const h6=ol("StatusBar"),xP=ol("SplashScreen",{web:()=>kc(()=>import("./web-06VjqL35.js"),[]).then(a=>new a.SplashScreenWeb)});async function gP(){console.log(" Starting to seed dummy data...");const a=zs.getState(),n=T1.getState(),i=xi.getState();console.log(" Adding dummy products...");const o=[{code:"PRD001",sku:"SNACK-001",barcode:"8991234567890",name:"Chitato Rasa Sapi Panggang",description:"Keripik kentang rasa sapi panggang 68g",category:"Snack",unit:"pcs",price:12e3,cost:9e3,stock:50,minStock:10,maxStock:100,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",source:"manual"},{code:"PRD002",sku:"DRINK-001",barcode:"8992234567891",name:"Coca Cola 330ml",description:"Minuman berkarbonasi kaleng 330ml",category:"Minuman",unit:"pcs",price:8e3,cost:6e3,stock:100,minStock:20,maxStock:200,image:"https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400",source:"manual"},{code:"PRD003",sku:"FOOD-001",barcode:"8993234567892",name:"Indomie Goreng",description:"Mi instan goreng original 85g",category:"Makanan",unit:"pcs",price:3500,cost:2800,stock:200,minStock:50,maxStock:500,image:"https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400",source:"manual"},{code:"PRD004",sku:"SNACK-002",barcode:"8994234567893",name:"Oreo Original",description:"Biskuit sandwich cokelat 137g",category:"Snack",unit:"pcs",price:1e4,cost:7500,stock:75,minStock:15,maxStock:150,image:"https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400",source:"manual"},{code:"PRD005",sku:"DRINK-002",barcode:"8995234567894",name:"Aqua Botol 600ml",description:"Air mineral dalam kemasan 600ml",category:"Minuman",unit:"pcs",price:4e3,cost:3e3,stock:150,minStock:30,maxStock:300,image:"https://images.unsplash.com/photo-1548839140-29a749e1cf4d?w=400",source:"manual"},{code:"PRD006",sku:"FOOD-002",barcode:"8996234567895",name:"Beras Premium 5kg",description:"Beras putih premium kualitas terbaik",category:"Sembako",unit:"kg",price:75e3,cost:65e3,stock:30,minStock:5,maxStock:50,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",source:"manual"},{code:"PRD007",sku:"SNACK-003",barcode:"8997234567896",name:"Taro Net 160g",description:"Keripik kentang berbagai rasa 160g",category:"Snack",unit:"pcs",price:15e3,cost:11e3,stock:40,minStock:10,maxStock:80,image:"https://images.unsplash.com/photo-1600952841320-db92ec4047ca?w=400",source:"manual"},{code:"PRD008",sku:"DRINK-003",barcode:"8998234567897",name:"Teh Botol Sosro 450ml",description:"Minuman teh dalam botol 450ml",category:"Minuman",unit:"pcs",price:5e3,cost:3500,stock:120,minStock:25,maxStock:250,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=400",source:"manual"},{code:"PRD009",sku:"ELEC-001",barcode:"8999234567898",name:"Baterai AA Alkaline",description:"Baterai alkaline AA isi 4pcs",category:"Elektronik",unit:"pack",price:18e3,cost:14e3,stock:25,minStock:5,maxStock:50,image:"https://images.unsplash.com/photo-1583863788434-e58a36330cf0?w=400",source:"manual"},{code:"PRD010",sku:"STAT-001",barcode:"8990234567899",name:"Pulpen Standard Hitam",description:"Pulpen tinta hitam standard isi 12pcs",category:"Alat Tulis",unit:"pack",price:25e3,cost:2e4,stock:15,minStock:3,maxStock:30,image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?w=400",source:"manual"}],c=[];for(const m of o)try{const v=await a.addProduct(m);v.success&&(c.push(v.product),console.log(` Added product: ${m.name}`))}catch(v){console.error(` Failed to add product ${m.name}:`,v)}console.log(" Adding dummy customers...");const d=[{name:"Budi Santoso",phone:"081234567890",email:"budi.santoso@email.com",address:"Jl. Merdeka No. 123, Jakarta Pusat",type:"regular",points:150,totalSpent:5e5},{name:"Siti Nurhaliza",phone:"081234567891",email:"siti.nur@email.com",address:"Jl. Sudirman No. 45, Jakarta Selatan",type:"member",points:350,totalSpent:12e5},{name:"Ahmad Wijaya",phone:"081234567892",email:"ahmad.w@email.com",address:"Jl. Gatot Subroto No. 78, Jakarta Barat",type:"regular",points:80,totalSpent:3e5},{name:"Dewi Lestari",phone:"081234567893",email:"dewi.lestari@email.com",address:"Jl. Thamrin No. 90, Jakarta Pusat",type:"vip",points:500,totalSpent:25e5},{name:"Rudi Hermawan",phone:"081234567894",email:"rudi.h@email.com",address:"Jl. Kuningan No. 12, Jakarta Selatan",type:"regular",points:120,totalSpent:45e4}],f=[];for(const m of d)try{const v=await n.addCustomer(m);v.success&&(f.push(v.customer),console.log(` Added customer: ${m.name}`))}catch(v){console.error(` Failed to add customer ${m.name}:`,v)}if(console.log(" Adding dummy transactions..."),c.length===0||f.length===0)return console.error(" Cannot create transactions: No products or customers available"),{success:!1,message:"Failed to seed data: No products or customers"};const h=[{items:[{productId:c[0].id,name:c[0].name,price:c[0].price,quantity:3,subtotal:c[0].price*3},{productId:c[1].id,name:c[1].name,price:c[1].price,quantity:5,subtotal:c[1].price*5}],customerId:f[0].id,customerName:f[0].name,subtotal:c[0].price*3+c[1].price*5,discount:5e3,tax:0,paymentMethod:"cash",cashReceived:1e5,createdAt:new Date().toISOString()},{items:[{productId:c[2].id,name:c[2].name,price:c[2].price,quantity:10,subtotal:c[2].price*10},{productId:c[4].id,name:c[4].name,price:c[4].price,quantity:6,subtotal:c[4].price*6}],customerId:f[1].id,customerName:f[1].name,subtotal:c[2].price*10+c[4].price*6,discount:0,tax:0,paymentMethod:"qris",cashReceived:0,createdAt:new Date().toISOString()},{items:[{productId:c[5].id,name:c[5].name,price:c[5].price,quantity:1,subtotal:c[5].price*1},{productId:c[3].id,name:c[3].name,price:c[3].price,quantity:4,subtotal:c[3].price*4}],customerId:f[2].id,customerName:f[2].name,subtotal:c[5].price*1+c[3].price*4,discount:1e4,tax:0,paymentMethod:"debit",cashReceived:0,createdAt:new Date(Date.now()-24*60*60*1e3).toISOString()},{items:[{productId:c[6].id,name:c[6].name,price:c[6].price,quantity:2,subtotal:c[6].price*2},{productId:c[7].id,name:c[7].name,price:c[7].price,quantity:8,subtotal:c[7].price*8},{productId:c[1].id,name:c[1].name,price:c[1].price,quantity:3,subtotal:c[1].price*3}],customerId:f[3].id,customerName:f[3].name,subtotal:c[6].price*2+c[7].price*8+c[1].price*3,discount:0,tax:0,paymentMethod:"cash",cashReceived:1e5,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{items:[{productId:c[8].id,name:c[8].name,price:c[8].price,quantity:2,subtotal:c[8].price*2},{productId:c[9].id,name:c[9].name,price:c[9].price,quantity:1,subtotal:c[9].price*1}],customerId:f[4].id,customerName:f[4].name,subtotal:c[8].price*2+c[9].price*1,discount:3e3,tax:0,paymentMethod:"transfer",cashReceived:0,createdAt:new Date(Date.now()-3*24*60*60*1e3).toISOString()}],p=[];for(const m of h)try{const v=m.subtotal-m.discount+m.tax,w=m.paymentMethod==="cash"?m.cashReceived-v:0,y={...m,total:v,change:w,invoiceNumber:`INV-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`},x=await i.addTransaction(y);if(x.success){p.push(x.transaction),console.log(` Added transaction: ${y.invoiceNumber}`);for(const g of m.items){const A=c.find(j=>j.id===g.productId);A&&await a.updateProduct(A.id,{stock:A.stock-g.quantity})}}}catch(v){console.error(" Failed to add transaction:",v)}return console.log(" Dummy data seeding completed!"),console.log(` Products added: ${c.length}`),console.log(` Customers added: ${f.length}`),console.log(` Transactions added: ${p.length}`),{success:!0,data:{products:c,customers:f,transactions:p},message:`Successfully seeded ${c.length} products, ${f.length} customers, and ${p.length} transactions`}}async function bP(){console.log(" Clearing dummy data...");const a=zs.getState(),n=T1.getState(),i=xi.getState(),o=i.transactions||[];for(const f of o)await i.deleteTransaction(f.id);const c=n.customers||[];for(const f of c)f.type!=="walk-in"&&await n.deleteCustomer(f.id);const d=a.products||[];for(const f of d)await a.deleteProduct(f.id);return console.log(" Dummy data cleared!"),{success:!0,message:"All dummy data has been cleared"}}typeof window<"u"&&(window.seedDummyData=gP,window.clearDummyData=bP,console.log(" Dummy data functions available:"),console.log("   - window.seedDummyData() - Add dummy data"),console.log("   - window.clearDummyData() - Clear all dummy data"));const wP=async()=>{try{await xP.hide(),await h6.setStyle({style:j3.Dark}),await h6.setBackgroundColor({color:"#1f2937"})}catch{console.log("Running in web mode")}},yP=async()=>{console.log("Initializing realtime sync...");try{await zs.getState().initRealtime(),await T1.getState().initRealtime(),await xi.getState().initRealtime(),console.log(" Realtime sync initialized!")}catch(a){console.warn(" Realtime sync not available (offline mode or Supabase issue):",a.message)}};u6.addListener("backButton",({canGoBack:a})=>{a?window.history.back():u6.exitApp()});wP();yP();Xh.createRoot(document.getElementById("root")).render(u.jsx(I3.StrictMode,{children:u.jsx(vP,{})}));export{Ub as B,Oh as C,sc as E,Lb as L,q5 as W};
