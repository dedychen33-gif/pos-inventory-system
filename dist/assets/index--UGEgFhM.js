function i6(a,n){for(var i=0;i<n.length;i++){const o=n[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in a)){const u=Object.getOwnPropertyDescriptor(o,d);u&&Object.defineProperty(a,d,u.get?u:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(d){if(d.ep)return;d.ep=!0;const u=i(d);fetch(d.href,u)}})();var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ou(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function fc(a){if(a.__esModule)return a;var n=a.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var d=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(i,o,d.get?d:{enumerable:!0,get:function(){return a[o]}})}),i}var o6={exports:{}},lu={},l6={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0=Symbol.for("react.element"),uj=Symbol.for("react.portal"),fj=Symbol.for("react.fragment"),hj=Symbol.for("react.strict_mode"),pj=Symbol.for("react.profiler"),mj=Symbol.for("react.provider"),xj=Symbol.for("react.context"),vj=Symbol.for("react.forward_ref"),gj=Symbol.for("react.suspense"),bj=Symbol.for("react.memo"),wj=Symbol.for("react.lazy"),e4=Symbol.iterator;function yj(a){return a===null||typeof a!="object"?null:(a=e4&&a[e4]||a["@@iterator"],typeof a=="function"?a:null)}var c6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d6=Object.assign,u6={};function hc(a,n,i){this.props=a,this.context=n,this.refs=u6,this.updater=i||c6}hc.prototype.isReactComponent={};hc.prototype.setState=function(a,n){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,n,"setState")};hc.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function f6(){}f6.prototype=hc.prototype;function j3(a,n,i){this.props=a,this.context=n,this.refs=u6,this.updater=i||c6}var N3=j3.prototype=new f6;N3.constructor=j3;d6(N3,hc.prototype);N3.isPureReactComponent=!0;var t4=Array.isArray,h6=Object.prototype.hasOwnProperty,S3={current:null},p6={key:!0,ref:!0,__self:!0,__source:!0};function m6(a,n,i){var o,d={},u=null,f=null;if(n!=null)for(o in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(u=""+n.key),n)h6.call(n,o)&&!p6.hasOwnProperty(o)&&(d[o]=n[o]);var h=arguments.length-2;if(h===1)d.children=i;else if(1<h){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];d.children=p}if(a&&a.defaultProps)for(o in h=a.defaultProps,h)d[o]===void 0&&(d[o]=h[o]);return{$$typeof:W0,type:a,key:u,ref:f,props:d,_owner:S3.current}}function Aj(a,n){return{$$typeof:W0,type:a.type,key:n,ref:a.ref,props:a.props,_owner:a._owner}}function E3(a){return typeof a=="object"&&a!==null&&a.$$typeof===W0}function kj(a){var n={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(i){return n[i]})}var r4=/\/+/g;function Cf(a,n){return typeof a=="object"&&a!==null&&a.key!=null?kj(""+a.key):n.toString(36)}function Z2(a,n,i,o,d){var u=typeof a;(u==="undefined"||u==="boolean")&&(a=null);var f=!1;if(a===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(a.$$typeof){case W0:case uj:f=!0}}if(f)return f=a,d=d(f),a=o===""?"."+Cf(f,0):o,t4(d)?(i="",a!=null&&(i=a.replace(r4,"$&/")+"/"),Z2(d,n,i,"",function(m){return m})):d!=null&&(E3(d)&&(d=Aj(d,i+(!d.key||f&&f.key===d.key?"":(""+d.key).replace(r4,"$&/")+"/")+a)),n.push(d)),1;if(f=0,o=o===""?".":o+":",t4(a))for(var h=0;h<a.length;h++){u=a[h];var p=o+Cf(u,h);f+=Z2(u,n,i,p,d)}else if(p=yj(a),typeof p=="function")for(a=p.call(a),h=0;!(u=a.next()).done;)u=u.value,p=o+Cf(u,h++),f+=Z2(u,n,i,p,d);else if(u==="object")throw n=String(a),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function j2(a,n,i){if(a==null)return a;var o=[],d=0;return Z2(a,o,"","",function(u){return n.call(i,u,d++)}),o}function jj(a){if(a._status===-1){var n=a._result;n=n(),n.then(function(i){(a._status===0||a._status===-1)&&(a._status=1,a._result=i)},function(i){(a._status===0||a._status===-1)&&(a._status=2,a._result=i)}),a._status===-1&&(a._status=0,a._result=n)}if(a._status===1)return a._result.default;throw a._result}var Wn={current:null},ed={transition:null},Nj={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:ed,ReactCurrentOwner:S3};function x6(){throw Error("act(...) is not supported in production builds of React.")}zr.Children={map:j2,forEach:function(a,n,i){j2(a,function(){n.apply(this,arguments)},i)},count:function(a){var n=0;return j2(a,function(){n++}),n},toArray:function(a){return j2(a,function(n){return n})||[]},only:function(a){if(!E3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};zr.Component=hc;zr.Fragment=fj;zr.Profiler=pj;zr.PureComponent=j3;zr.StrictMode=hj;zr.Suspense=gj;zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nj;zr.act=x6;zr.cloneElement=function(a,n,i){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var o=d6({},a.props),d=a.key,u=a.ref,f=a._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,f=S3.current),n.key!==void 0&&(d=""+n.key),a.type&&a.type.defaultProps)var h=a.type.defaultProps;for(p in n)h6.call(n,p)&&!p6.hasOwnProperty(p)&&(o[p]=n[p]===void 0&&h!==void 0?h[p]:n[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){h=Array(p);for(var m=0;m<p;m++)h[m]=arguments[m+2];o.children=h}return{$$typeof:W0,type:a.type,key:d,ref:u,props:o,_owner:f}};zr.createContext=function(a){return a={$$typeof:xj,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:mj,_context:a},a.Consumer=a};zr.createElement=m6;zr.createFactory=function(a){var n=m6.bind(null,a);return n.type=a,n};zr.createRef=function(){return{current:null}};zr.forwardRef=function(a){return{$$typeof:vj,render:a}};zr.isValidElement=E3;zr.lazy=function(a){return{$$typeof:wj,_payload:{_status:-1,_result:a},_init:jj}};zr.memo=function(a,n){return{$$typeof:bj,type:a,compare:n===void 0?null:n}};zr.startTransition=function(a){var n=ed.transition;ed.transition={};try{a()}finally{ed.transition=n}};zr.unstable_act=x6;zr.useCallback=function(a,n){return Wn.current.useCallback(a,n)};zr.useContext=function(a){return Wn.current.useContext(a)};zr.useDebugValue=function(){};zr.useDeferredValue=function(a){return Wn.current.useDeferredValue(a)};zr.useEffect=function(a,n){return Wn.current.useEffect(a,n)};zr.useId=function(){return Wn.current.useId()};zr.useImperativeHandle=function(a,n,i){return Wn.current.useImperativeHandle(a,n,i)};zr.useInsertionEffect=function(a,n){return Wn.current.useInsertionEffect(a,n)};zr.useLayoutEffect=function(a,n){return Wn.current.useLayoutEffect(a,n)};zr.useMemo=function(a,n){return Wn.current.useMemo(a,n)};zr.useReducer=function(a,n,i){return Wn.current.useReducer(a,n,i)};zr.useRef=function(a){return Wn.current.useRef(a)};zr.useState=function(a){return Wn.current.useState(a)};zr.useSyncExternalStore=function(a,n,i){return Wn.current.useSyncExternalStore(a,n,i)};zr.useTransition=function(){return Wn.current.useTransition()};zr.version="18.3.1";l6.exports=zr;var ie=l6.exports;const C3=ou(ie),Sj=i6({__proto__:null,default:C3},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej=ie,Cj=Symbol.for("react.element"),Ij=Symbol.for("react.fragment"),Bj=Object.prototype.hasOwnProperty,Dj=Ej.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tj={key:!0,ref:!0,__self:!0,__source:!0};function v6(a,n,i){var o,d={},u=null,f=null;i!==void 0&&(u=""+i),n.key!==void 0&&(u=""+n.key),n.ref!==void 0&&(f=n.ref);for(o in n)Bj.call(n,o)&&!Tj.hasOwnProperty(o)&&(d[o]=n[o]);if(a&&a.defaultProps)for(o in n=a.defaultProps,n)d[o]===void 0&&(d[o]=n[o]);return{$$typeof:Cj,type:a,key:u,ref:f,props:d,_owner:Dj.current}}lu.Fragment=Ij;lu.jsx=v6;lu.jsxs=v6;o6.exports=lu;var l=o6.exports,Xh={},g6={exports:{}},Ai={},b6={exports:{}},w6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function n(q,re){var ce=q.length;q.push(re);e:for(;0<ce;){var J=ce-1>>>1,oe=q[J];if(0<d(oe,re))q[J]=re,q[ce]=oe,ce=J;else break e}}function i(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var re=q[0],ce=q.pop();if(ce!==re){q[0]=ce;e:for(var J=0,oe=q.length,ue=oe>>>1;J<ue;){var he=2*(J+1)-1,Re=q[he],te=he+1,Be=q[te];if(0>d(Re,ce))te<oe&&0>d(Be,Re)?(q[J]=Be,q[te]=ce,J=te):(q[J]=Re,q[he]=ce,J=he);else if(te<oe&&0>d(Be,ce))q[J]=Be,q[te]=ce,J=te;else break e}}return re}function d(q,re){var ce=q.sortIndex-re.sortIndex;return ce!==0?ce:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],m=[],x=1,b=null,y=3,w=!1,v=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var re=i(m);re!==null;){if(re.callback===null)o(m);else if(re.startTime<=q)o(m),re.sortIndex=re.expirationTime,n(p,re);else break;re=i(m)}}function B(q){if(A=!1,N(q),!v)if(i(p)!==null)v=!0,de(I);else{var re=i(m);re!==null&&$(B,re.startTime-q)}}function I(q,re){v=!1,A&&(A=!1,E(M),M=-1),w=!0;var ce=y;try{for(N(re),b=i(p);b!==null&&(!(b.expirationTime>re)||q&&!P());){var J=b.callback;if(typeof J=="function"){b.callback=null,y=b.priorityLevel;var oe=J(b.expirationTime<=re);re=a.unstable_now(),typeof oe=="function"?b.callback=oe:b===i(p)&&o(p),N(re)}else o(p);b=i(p)}if(b!==null)var ue=!0;else{var he=i(m);he!==null&&$(B,he.startTime-re),ue=!1}return ue}finally{b=null,y=ce,w=!1}}var D=!1,T=null,M=-1,Q=5,F=-1;function P(){return!(a.unstable_now()-F<Q)}function L(){if(T!==null){var q=a.unstable_now();F=q;var re=!0;try{re=T(!0,q)}finally{re?_():(D=!1,T=null)}}else D=!1}var _;if(typeof k=="function")_=function(){k(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=L,_=function(){Y.postMessage(null)}}else _=function(){j(L,0)};function de(q){T=q,D||(D=!0,_())}function $(q,re){M=j(function(){q(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_continueExecution=function(){v||w||(v=!0,de(I))},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(q){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var ce=y;y=re;try{return q()}finally{y=ce}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=y;y=q;try{return re()}finally{y=ce}},a.unstable_scheduleCallback=function(q,re,ce){var J=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?J+ce:J):ce=J,q){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ce+oe,q={id:x++,callback:re,priorityLevel:q,startTime:ce,expirationTime:oe,sortIndex:-1},ce>J?(q.sortIndex=ce,n(m,q),i(p)===null&&q===i(m)&&(A?(E(M),M=-1):A=!0,$(B,ce-J))):(q.sortIndex=oe,n(p,q),v||w||(v=!0,de(I))),q},a.unstable_shouldYield=P,a.unstable_wrapCallback=function(q){var re=y;return function(){var ce=y;y=re;try{return q.apply(this,arguments)}finally{y=ce}}}})(w6);b6.exports=w6;var Rj=b6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj=ie,yi=Rj;function ot(a){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+a,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y6=new Set,N0={};function ll(a,n){Xl(a,n),Xl(a+"Capture",n)}function Xl(a,n){for(N0[a]=n,a=0;a<n.length;a++)y6.add(n[a])}var T1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zh=Object.prototype.hasOwnProperty,Fj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a4={},s4={};function Pj(a){return Zh.call(s4,a)?!0:Zh.call(a4,a)?!1:Fj.test(a)?s4[a]=!0:(a4[a]=!0,!1)}function _j(a,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function Oj(a,n,i,o){if(n===null||typeof n>"u"||_j(a,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Jn(a,n,i,o,d,u,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=a,this.type=n,this.sanitizeURL=u,this.removeEmptyString=f}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Cn[a]=new Jn(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var n=a[0];Cn[n]=new Jn(n,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){Cn[a]=new Jn(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Cn[a]=new Jn(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Cn[a]=new Jn(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){Cn[a]=new Jn(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){Cn[a]=new Jn(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){Cn[a]=new Jn(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){Cn[a]=new Jn(a,5,!1,a.toLowerCase(),null,!1,!1)});var I3=/[\-:]([a-z])/g;function B3(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var n=a.replace(I3,B3);Cn[n]=new Jn(n,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var n=a.replace(I3,B3);Cn[n]=new Jn(n,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var n=a.replace(I3,B3);Cn[n]=new Jn(n,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){Cn[a]=new Jn(a,1,!1,a.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){Cn[a]=new Jn(a,1,!1,a.toLowerCase(),null,!0,!0)});function D3(a,n,i,o){var d=Cn.hasOwnProperty(n)?Cn[n]:null;(d!==null?d.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Oj(n,i,d,o)&&(i=null),o||d===null?Pj(n)&&(i===null?a.removeAttribute(n):a.setAttribute(n,""+i)):d.mustUseProperty?a[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,o=d.attributeNamespace,i===null?a.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?a.setAttributeNS(o,n,i):a.setAttribute(n,i))))}var _1=Mj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N2=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),T3=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),A6=Symbol.for("react.provider"),k6=Symbol.for("react.context"),R3=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),M3=Symbol.for("react.memo"),G1=Symbol.for("react.lazy"),j6=Symbol.for("react.offscreen"),n4=Symbol.iterator;function Xc(a){return a===null||typeof a!="object"?null:(a=n4&&a[n4]||a["@@iterator"],typeof a=="function"?a:null)}var Ns=Object.assign,If;function l0(a){if(If===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);If=n&&n[1]||""}return`
`+If+a}var Bf=!1;function Df(a,n){if(!a||Bf)return"";Bf=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var o=m}Reflect.construct(a,[],n)}else{try{n.call()}catch(m){o=m}a.call(n.prototype)}else{try{throw Error()}catch(m){o=m}a()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var d=m.stack.split(`
`),u=o.stack.split(`
`),f=d.length-1,h=u.length-1;1<=f&&0<=h&&d[f]!==u[h];)h--;for(;1<=f&&0<=h;f--,h--)if(d[f]!==u[h]){if(f!==1||h!==1)do if(f--,h--,0>h||d[f]!==u[h]){var p=`
`+d[f].replace(" at new "," at ");return a.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",a.displayName)),p}while(1<=f&&0<=h);break}}}finally{Bf=!1,Error.prepareStackTrace=i}return(a=a?a.displayName||a.name:"")?l0(a):""}function Uj(a){switch(a.tag){case 5:return l0(a.type);case 16:return l0("Lazy");case 13:return l0("Suspense");case 19:return l0("SuspenseList");case 0:case 2:case 15:return a=Df(a.type,!1),a;case 11:return a=Df(a.type.render,!1),a;case 1:return a=Df(a.type,!0),a;default:return""}}function ap(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Bl:return"Fragment";case Il:return"Portal";case ep:return"Profiler";case T3:return"StrictMode";case tp:return"Suspense";case rp:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case k6:return(a.displayName||"Context")+".Consumer";case A6:return(a._context.displayName||"Context")+".Provider";case R3:var n=a.render;return a=a.displayName,a||(a=n.displayName||n.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M3:return n=a.displayName||null,n!==null?n:ap(a.type)||"Memo";case G1:n=a._payload,a=a._init;try{return ap(a(n))}catch{}}return null}function zj(a){var n=a.type;switch(a.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=n.render,a=a.displayName||a.name||"",n.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(n);case 8:return n===T3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ho(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function N6(a){var n=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lj(a){var n=N6(a)?"checked":"value",i=Object.getOwnPropertyDescriptor(a.constructor.prototype,n),o=""+a[n];if(!a.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,u=i.set;return Object.defineProperty(a,n,{configurable:!0,get:function(){return d.call(this)},set:function(f){o=""+f,u.call(this,f)}}),Object.defineProperty(a,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){a._valueTracker=null,delete a[n]}}}}function S2(a){a._valueTracker||(a._valueTracker=Lj(a))}function S6(a){if(!a)return!1;var n=a._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return a&&(o=N6(a)?a.checked?"true":"false":a.value),a=o,a!==i?(n.setValue(a),!0):!1}function bd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function sp(a,n){var i=n.checked;return Ns({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??a._wrapperState.initialChecked})}function i4(a,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=ho(n.value!=null?n.value:i),a._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function E6(a,n){n=n.checked,n!=null&&D3(a,"checked",n,!1)}function np(a,n){E6(a,n);var i=ho(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+i):a.value!==""+i&&(a.value=""+i);else if(o==="submit"||o==="reset"){a.removeAttribute("value");return}n.hasOwnProperty("value")?ip(a,n.type,i):n.hasOwnProperty("defaultValue")&&ip(a,n.type,ho(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(a.defaultChecked=!!n.defaultChecked)}function o4(a,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+a._wrapperState.initialValue,i||n===a.value||(a.value=n),a.defaultValue=n}i=a.name,i!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,i!==""&&(a.name=i)}function ip(a,n,i){(n!=="number"||bd(a.ownerDocument)!==a)&&(i==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+i&&(a.defaultValue=""+i))}var c0=Array.isArray;function Ql(a,n,i,o){if(a=a.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<a.length;i++)d=n.hasOwnProperty("$"+a[i].value),a[i].selected!==d&&(a[i].selected=d),d&&o&&(a[i].defaultSelected=!0)}else{for(i=""+ho(i),n=null,d=0;d<a.length;d++){if(a[d].value===i){a[d].selected=!0,o&&(a[d].defaultSelected=!0);return}n!==null||a[d].disabled||(n=a[d])}n!==null&&(n.selected=!0)}}function op(a,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Ns({},n,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function l4(a,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ot(92));if(c0(i)){if(1<i.length)throw Error(ot(93));i=i[0]}n=i}n==null&&(n=""),i=n}a._wrapperState={initialValue:ho(i)}}function C6(a,n){var i=ho(n.value),o=ho(n.defaultValue);i!=null&&(i=""+i,i!==a.value&&(a.value=i),n.defaultValue==null&&a.defaultValue!==i&&(a.defaultValue=i)),o!=null&&(a.defaultValue=""+o)}function c4(a){var n=a.textContent;n===a._wrapperState.initialValue&&n!==""&&n!==null&&(a.value=n)}function I6(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(a,n){return a==null||a==="http://www.w3.org/1999/xhtml"?I6(n):a==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var E2,B6=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,d){MSApp.execUnsafeLocalFunction(function(){return a(n,i,o,d)})}:a}(function(a,n){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=n;else{for(E2=E2||document.createElement("div"),E2.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=E2.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;n.firstChild;)a.appendChild(n.firstChild)}});function S0(a,n){if(n){var i=a.firstChild;if(i&&i===a.lastChild&&i.nodeType===3){i.nodeValue=n;return}}a.textContent=n}var x0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qj=["Webkit","ms","Moz","O"];Object.keys(x0).forEach(function(a){Qj.forEach(function(n){n=n+a.charAt(0).toUpperCase()+a.substring(1),x0[n]=x0[a]})});function D6(a,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||x0.hasOwnProperty(a)&&x0[a]?(""+n).trim():n+"px"}function T6(a,n){a=a.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=D6(i,n[i],o);i==="float"&&(i="cssFloat"),o?a.setProperty(i,d):a[i]=d}}var Hj=Ns({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(a,n){if(n){if(Hj[a]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ot(137,a));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ot(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ot(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ot(62))}}function dp(a,n){if(a.indexOf("-")===-1)return typeof n.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function F3(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fp=null,Hl=null,$l=null;function d4(a){if(a=Z0(a)){if(typeof fp!="function")throw Error(ot(280));var n=a.stateNode;n&&(n=hu(n),fp(a.stateNode,a.type,n))}}function R6(a){Hl?$l?$l.push(a):$l=[a]:Hl=a}function M6(){if(Hl){var a=Hl,n=$l;if($l=Hl=null,d4(a),n)for(a=0;a<n.length;a++)d4(n[a])}}function F6(a,n){return a(n)}function P6(){}var Tf=!1;function _6(a,n,i){if(Tf)return a(n,i);Tf=!0;try{return F6(a,n,i)}finally{Tf=!1,(Hl!==null||$l!==null)&&(P6(),M6())}}function E0(a,n){var i=a.stateNode;if(i===null)return null;var o=hu(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(a=a.type,o=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!o;break e;default:a=!1}if(a)return null;if(i&&typeof i!="function")throw Error(ot(231,n,typeof i));return i}var hp=!1;if(T1)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{hp=!1}function $j(a,n,i,o,d,u,f,h,p){var m=Array.prototype.slice.call(arguments,3);try{n.apply(i,m)}catch(x){this.onError(x)}}var v0=!1,wd=null,yd=!1,pp=null,qj={onError:function(a){v0=!0,wd=a}};function Gj(a,n,i,o,d,u,f,h,p){v0=!1,wd=null,$j.apply(qj,arguments)}function Yj(a,n,i,o,d,u,f,h,p){if(Gj.apply(this,arguments),v0){if(v0){var m=wd;v0=!1,wd=null}else throw Error(ot(198));yd||(yd=!0,pp=m)}}function cl(a){var n=a,i=a;if(a.alternate)for(;n.return;)n=n.return;else{a=n;do n=a,n.flags&4098&&(i=n.return),a=n.return;while(a)}return n.tag===3?i:null}function O6(a){if(a.tag===13){var n=a.memoizedState;if(n===null&&(a=a.alternate,a!==null&&(n=a.memoizedState)),n!==null)return n.dehydrated}return null}function u4(a){if(cl(a)!==a)throw Error(ot(188))}function Vj(a){var n=a.alternate;if(!n){if(n=cl(a),n===null)throw Error(ot(188));return n!==a?null:a}for(var i=a,o=n;;){var d=i.return;if(d===null)break;var u=d.alternate;if(u===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===u.child){for(u=d.child;u;){if(u===i)return u4(d),a;if(u===o)return u4(d),n;u=u.sibling}throw Error(ot(188))}if(i.return!==o.return)i=d,o=u;else{for(var f=!1,h=d.child;h;){if(h===i){f=!0,i=d,o=u;break}if(h===o){f=!0,o=d,i=u;break}h=h.sibling}if(!f){for(h=u.child;h;){if(h===i){f=!0,i=u,o=d;break}if(h===o){f=!0,o=u,i=d;break}h=h.sibling}if(!f)throw Error(ot(189))}}if(i.alternate!==o)throw Error(ot(190))}if(i.tag!==3)throw Error(ot(188));return i.stateNode.current===i?a:n}function U6(a){return a=Vj(a),a!==null?z6(a):null}function z6(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var n=z6(a);if(n!==null)return n;a=a.sibling}return null}var L6=yi.unstable_scheduleCallback,f4=yi.unstable_cancelCallback,Kj=yi.unstable_shouldYield,Wj=yi.unstable_requestPaint,Ps=yi.unstable_now,Jj=yi.unstable_getCurrentPriorityLevel,P3=yi.unstable_ImmediatePriority,Q6=yi.unstable_UserBlockingPriority,Ad=yi.unstable_NormalPriority,Xj=yi.unstable_LowPriority,H6=yi.unstable_IdlePriority,cu=null,h1=null;function Zj(a){if(h1&&typeof h1.onCommitFiberRoot=="function")try{h1.onCommitFiberRoot(cu,a,void 0,(a.current.flags&128)===128)}catch{}}var Gi=Math.clz32?Math.clz32:rN,eN=Math.log,tN=Math.LN2;function rN(a){return a>>>=0,a===0?32:31-(eN(a)/tN|0)|0}var C2=64,I2=4194304;function d0(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function kd(a,n){var i=a.pendingLanes;if(i===0)return 0;var o=0,d=a.suspendedLanes,u=a.pingedLanes,f=i&268435455;if(f!==0){var h=f&~d;h!==0?o=d0(h):(u&=f,u!==0&&(o=d0(u)))}else f=i&~d,f!==0?o=d0(f):u!==0&&(o=d0(u));if(o===0)return 0;if(n!==0&&n!==o&&!(n&d)&&(d=o&-o,u=n&-n,d>=u||d===16&&(u&4194240)!==0))return n;if(o&4&&(o|=i&16),n=a.entangledLanes,n!==0)for(a=a.entanglements,n&=o;0<n;)i=31-Gi(n),d=1<<i,o|=a[i],n&=~d;return o}function aN(a,n){switch(a){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sN(a,n){for(var i=a.suspendedLanes,o=a.pingedLanes,d=a.expirationTimes,u=a.pendingLanes;0<u;){var f=31-Gi(u),h=1<<f,p=d[f];p===-1?(!(h&i)||h&o)&&(d[f]=aN(h,n)):p<=n&&(a.expiredLanes|=h),u&=~h}}function mp(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function $6(){var a=C2;return C2<<=1,!(C2&4194240)&&(C2=64),a}function Rf(a){for(var n=[],i=0;31>i;i++)n.push(a);return n}function J0(a,n,i){a.pendingLanes|=n,n!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,n=31-Gi(n),a[n]=i}function nN(a,n){var i=a.pendingLanes&~n;a.pendingLanes=n,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=n,a.mutableReadLanes&=n,a.entangledLanes&=n,n=a.entanglements;var o=a.eventTimes;for(a=a.expirationTimes;0<i;){var d=31-Gi(i),u=1<<d;n[d]=0,o[d]=-1,a[d]=-1,i&=~u}}function _3(a,n){var i=a.entangledLanes|=n;for(a=a.entanglements;i;){var o=31-Gi(i),d=1<<o;d&n|a[o]&n&&(a[o]|=n),i&=~d}}var Sa=0;function q6(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var G6,O3,Y6,V6,K6,xp=!1,B2=[],ro=null,ao=null,so=null,C0=new Map,I0=new Map,V1=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h4(a,n){switch(a){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":C0.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":I0.delete(n.pointerId)}}function e0(a,n,i,o,d,u){return a===null||a.nativeEvent!==u?(a={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[d]},n!==null&&(n=Z0(n),n!==null&&O3(n)),a):(a.eventSystemFlags|=o,n=a.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),a)}function oN(a,n,i,o,d){switch(n){case"focusin":return ro=e0(ro,a,n,i,o,d),!0;case"dragenter":return ao=e0(ao,a,n,i,o,d),!0;case"mouseover":return so=e0(so,a,n,i,o,d),!0;case"pointerover":var u=d.pointerId;return C0.set(u,e0(C0.get(u)||null,a,n,i,o,d)),!0;case"gotpointercapture":return u=d.pointerId,I0.set(u,e0(I0.get(u)||null,a,n,i,o,d)),!0}return!1}function W6(a){var n=$o(a.target);if(n!==null){var i=cl(n);if(i!==null){if(n=i.tag,n===13){if(n=O6(i),n!==null){a.blockedOn=n,K6(a.priority,function(){Y6(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){a.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}a.blockedOn=null}function td(a){if(a.blockedOn!==null)return!1;for(var n=a.targetContainers;0<n.length;){var i=vp(a.domEventName,a.eventSystemFlags,n[0],a.nativeEvent);if(i===null){i=a.nativeEvent;var o=new i.constructor(i.type,i);up=o,i.target.dispatchEvent(o),up=null}else return n=Z0(i),n!==null&&O3(n),a.blockedOn=i,!1;n.shift()}return!0}function p4(a,n,i){td(a)&&i.delete(n)}function lN(){xp=!1,ro!==null&&td(ro)&&(ro=null),ao!==null&&td(ao)&&(ao=null),so!==null&&td(so)&&(so=null),C0.forEach(p4),I0.forEach(p4)}function t0(a,n){a.blockedOn===n&&(a.blockedOn=null,xp||(xp=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,lN)))}function B0(a){function n(d){return t0(d,a)}if(0<B2.length){t0(B2[0],a);for(var i=1;i<B2.length;i++){var o=B2[i];o.blockedOn===a&&(o.blockedOn=null)}}for(ro!==null&&t0(ro,a),ao!==null&&t0(ao,a),so!==null&&t0(so,a),C0.forEach(n),I0.forEach(n),i=0;i<V1.length;i++)o=V1[i],o.blockedOn===a&&(o.blockedOn=null);for(;0<V1.length&&(i=V1[0],i.blockedOn===null);)W6(i),i.blockedOn===null&&V1.shift()}var ql=_1.ReactCurrentBatchConfig,jd=!0;function cN(a,n,i,o){var d=Sa,u=ql.transition;ql.transition=null;try{Sa=1,U3(a,n,i,o)}finally{Sa=d,ql.transition=u}}function dN(a,n,i,o){var d=Sa,u=ql.transition;ql.transition=null;try{Sa=4,U3(a,n,i,o)}finally{Sa=d,ql.transition=u}}function U3(a,n,i,o){if(jd){var d=vp(a,n,i,o);if(d===null)Hf(a,n,o,Nd,i),h4(a,o);else if(oN(d,a,n,i,o))o.stopPropagation();else if(h4(a,o),n&4&&-1<iN.indexOf(a)){for(;d!==null;){var u=Z0(d);if(u!==null&&G6(u),u=vp(a,n,i,o),u===null&&Hf(a,n,o,Nd,i),u===d)break;d=u}d!==null&&o.stopPropagation()}else Hf(a,n,o,null,i)}}var Nd=null;function vp(a,n,i,o){if(Nd=null,a=F3(o),a=$o(a),a!==null)if(n=cl(a),n===null)a=null;else if(i=n.tag,i===13){if(a=O6(n),a!==null)return a;a=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;a=null}else n!==a&&(a=null);return Nd=a,null}function J6(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jj()){case P3:return 1;case Q6:return 4;case Ad:case Xj:return 16;case H6:return 536870912;default:return 16}default:return 16}}var Z1=null,z3=null,rd=null;function X6(){if(rd)return rd;var a,n=z3,i=n.length,o,d="value"in Z1?Z1.value:Z1.textContent,u=d.length;for(a=0;a<i&&n[a]===d[a];a++);var f=i-a;for(o=1;o<=f&&n[i-o]===d[u-o];o++);return rd=d.slice(a,1<o?1-o:void 0)}function ad(a){var n=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&n===13&&(a=13)):a=n,a===10&&(a=13),32<=a||a===13?a:0}function D2(){return!0}function m4(){return!1}function ki(a){function n(i,o,d,u,f){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var h in a)a.hasOwnProperty(h)&&(i=a[h],this[h]=i?i(u):u[h]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?D2:m4,this.isPropagationStopped=m4,this}return Ns(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=D2)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=D2)},persist:function(){},isPersistent:D2}),n}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L3=ki(pc),X0=Ns({},pc,{view:0,detail:0}),uN=ki(X0),Mf,Ff,r0,du=Ns({},X0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q3,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==r0&&(r0&&a.type==="mousemove"?(Mf=a.screenX-r0.screenX,Ff=a.screenY-r0.screenY):Ff=Mf=0,r0=a),Mf)},movementY:function(a){return"movementY"in a?a.movementY:Ff}}),x4=ki(du),fN=Ns({},du,{dataTransfer:0}),hN=ki(fN),pN=Ns({},X0,{relatedTarget:0}),Pf=ki(pN),mN=Ns({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=ki(mN),vN=Ns({},pc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gN=ki(vN),bN=Ns({},pc,{data:0}),v4=ki(bN),wN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kN(a){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(a):(a=AN[a])?!!n[a]:!1}function Q3(){return kN}var jN=Ns({},X0,{key:function(a){if(a.key){var n=wN[a.key]||a.key;if(n!=="Unidentified")return n}return a.type==="keypress"?(a=ad(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q3,charCode:function(a){return a.type==="keypress"?ad(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ad(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),NN=ki(jN),SN=Ns({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g4=ki(SN),EN=Ns({},X0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q3}),CN=ki(EN),IN=Ns({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),BN=ki(IN),DN=Ns({},du,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),TN=ki(DN),RN=[9,13,27,32],H3=T1&&"CompositionEvent"in window,g0=null;T1&&"documentMode"in document&&(g0=document.documentMode);var MN=T1&&"TextEvent"in window&&!g0,Z6=T1&&(!H3||g0&&8<g0&&11>=g0),b4=" ",w4=!1;function e8(a,n){switch(a){case"keyup":return RN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t8(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Dl=!1;function FN(a,n){switch(a){case"compositionend":return t8(n);case"keypress":return n.which!==32?null:(w4=!0,b4);case"textInput":return a=n.data,a===b4&&w4?null:a;default:return null}}function PN(a,n){if(Dl)return a==="compositionend"||!H3&&e8(a,n)?(a=X6(),rd=z3=Z1=null,Dl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Z6&&n.locale!=="ko"?null:n.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y4(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n==="input"?!!_N[a.type]:n==="textarea"}function r8(a,n,i,o){R6(o),n=Sd(n,"onChange"),0<n.length&&(i=new L3("onChange","change",null,i,o),a.push({event:i,listeners:n}))}var b0=null,D0=null;function ON(a){h8(a,0)}function uu(a){var n=Ml(a);if(S6(n))return a}function UN(a,n){if(a==="change")return n}var a8=!1;if(T1){var _f;if(T1){var Of="oninput"in document;if(!Of){var A4=document.createElement("div");A4.setAttribute("oninput","return;"),Of=typeof A4.oninput=="function"}_f=Of}else _f=!1;a8=_f&&(!document.documentMode||9<document.documentMode)}function k4(){b0&&(b0.detachEvent("onpropertychange",s8),D0=b0=null)}function s8(a){if(a.propertyName==="value"&&uu(D0)){var n=[];r8(n,D0,a,F3(a)),_6(ON,n)}}function zN(a,n,i){a==="focusin"?(k4(),b0=n,D0=i,b0.attachEvent("onpropertychange",s8)):a==="focusout"&&k4()}function LN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return uu(D0)}function QN(a,n){if(a==="click")return uu(n)}function HN(a,n){if(a==="input"||a==="change")return uu(n)}function $N(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var Vi=typeof Object.is=="function"?Object.is:$N;function T0(a,n){if(Vi(a,n))return!0;if(typeof a!="object"||a===null||typeof n!="object"||n===null)return!1;var i=Object.keys(a),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!Zh.call(n,d)||!Vi(a[d],n[d]))return!1}return!0}function j4(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function N4(a,n){var i=j4(a);a=0;for(var o;i;){if(i.nodeType===3){if(o=a+i.textContent.length,a<=n&&o>=n)return{node:i,offset:n-a};a=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=j4(i)}}function n8(a,n){return a&&n?a===n?!0:a&&a.nodeType===3?!1:n&&n.nodeType===3?n8(a,n.parentNode):"contains"in a?a.contains(n):a.compareDocumentPosition?!!(a.compareDocumentPosition(n)&16):!1:!1}function i8(){for(var a=window,n=bd();n instanceof a.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)a=n.contentWindow;else break;n=bd(a.document)}return n}function $3(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n&&(n==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||n==="textarea"||a.contentEditable==="true")}function qN(a){var n=i8(),i=a.focusedElem,o=a.selectionRange;if(n!==i&&i&&i.ownerDocument&&n8(i.ownerDocument.documentElement,i)){if(o!==null&&$3(i)){if(n=o.start,a=o.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=i.textContent.length,u=Math.min(o.start,d);o=o.end===void 0?u:Math.min(o.end,d),!a.extend&&u>o&&(d=o,o=u,u=d),d=N4(i,u);var f=N4(i,o);d&&f&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==f.node||a.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),u>o?(a.addRange(n),a.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var GN=T1&&"documentMode"in document&&11>=document.documentMode,Tl=null,gp=null,w0=null,bp=!1;function S4(a,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;bp||Tl==null||Tl!==bd(o)||(o=Tl,"selectionStart"in o&&$3(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),w0&&T0(w0,o)||(w0=o,o=Sd(gp,"onSelect"),0<o.length&&(n=new L3("onSelect","select",null,n,i),a.push({event:n,listeners:o}),n.target=Tl)))}function T2(a,n){var i={};return i[a.toLowerCase()]=n.toLowerCase(),i["Webkit"+a]="webkit"+n,i["Moz"+a]="moz"+n,i}var Rl={animationend:T2("Animation","AnimationEnd"),animationiteration:T2("Animation","AnimationIteration"),animationstart:T2("Animation","AnimationStart"),transitionend:T2("Transition","TransitionEnd")},Uf={},o8={};T1&&(o8=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function fu(a){if(Uf[a])return Uf[a];if(!Rl[a])return a;var n=Rl[a],i;for(i in n)if(n.hasOwnProperty(i)&&i in o8)return Uf[a]=n[i];return a}var l8=fu("animationend"),c8=fu("animationiteration"),d8=fu("animationstart"),u8=fu("transitionend"),f8=new Map,E4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(a,n){f8.set(a,n),ll(n,[a])}for(var zf=0;zf<E4.length;zf++){var Lf=E4[zf],YN=Lf.toLowerCase(),VN=Lf[0].toUpperCase()+Lf.slice(1);go(YN,"on"+VN)}go(l8,"onAnimationEnd");go(c8,"onAnimationIteration");go(d8,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(u8,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var u0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("cancel close invalid load scroll toggle".split(" ").concat(u0));function C4(a,n,i){var o=a.type||"unknown-event";a.currentTarget=i,Yj(o,n,void 0,a),a.currentTarget=null}function h8(a,n){n=(n&4)!==0;for(var i=0;i<a.length;i++){var o=a[i],d=o.event;o=o.listeners;e:{var u=void 0;if(n)for(var f=o.length-1;0<=f;f--){var h=o[f],p=h.instance,m=h.currentTarget;if(h=h.listener,p!==u&&d.isPropagationStopped())break e;C4(d,h,m),u=p}else for(f=0;f<o.length;f++){if(h=o[f],p=h.instance,m=h.currentTarget,h=h.listener,p!==u&&d.isPropagationStopped())break e;C4(d,h,m),u=p}}}if(yd)throw a=pp,yd=!1,pp=null,a}function as(a,n){var i=n[jp];i===void 0&&(i=n[jp]=new Set);var o=a+"__bubble";i.has(o)||(p8(n,a,2,!1),i.add(o))}function Qf(a,n,i){var o=0;n&&(o|=4),p8(i,a,o,n)}var R2="_reactListening"+Math.random().toString(36).slice(2);function R0(a){if(!a[R2]){a[R2]=!0,y6.forEach(function(i){i!=="selectionchange"&&(KN.has(i)||Qf(i,!1,a),Qf(i,!0,a))});var n=a.nodeType===9?a:a.ownerDocument;n===null||n[R2]||(n[R2]=!0,Qf("selectionchange",!1,n))}}function p8(a,n,i,o){switch(J6(n)){case 1:var d=cN;break;case 4:d=dN;break;default:d=U3}i=d.bind(null,n,i,a),d=void 0,!hp||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?a.addEventListener(n,i,{capture:!0,passive:d}):a.addEventListener(n,i,!0):d!==void 0?a.addEventListener(n,i,{passive:d}):a.addEventListener(n,i,!1)}function Hf(a,n,i,o,d){var u=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var h=o.stateNode.containerInfo;if(h===d||h.nodeType===8&&h.parentNode===d)break;if(f===4)for(f=o.return;f!==null;){var p=f.tag;if((p===3||p===4)&&(p=f.stateNode.containerInfo,p===d||p.nodeType===8&&p.parentNode===d))return;f=f.return}for(;h!==null;){if(f=$o(h),f===null)return;if(p=f.tag,p===5||p===6){o=u=f;continue e}h=h.parentNode}}o=o.return}_6(function(){var m=u,x=F3(i),b=[];e:{var y=f8.get(a);if(y!==void 0){var w=L3,v=a;switch(a){case"keypress":if(ad(i)===0)break e;case"keydown":case"keyup":w=NN;break;case"focusin":v="focus",w=Pf;break;case"focusout":v="blur",w=Pf;break;case"beforeblur":case"afterblur":w=Pf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=x4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=hN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=CN;break;case l8:case c8:case d8:w=xN;break;case u8:w=BN;break;case"scroll":w=uN;break;case"wheel":w=TN;break;case"copy":case"cut":case"paste":w=gN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=g4}var A=(n&4)!==0,j=!A&&a==="scroll",E=A?y!==null?y+"Capture":null:y;A=[];for(var k=m,N;k!==null;){N=k;var B=N.stateNode;if(N.tag===5&&B!==null&&(N=B,E!==null&&(B=E0(k,E),B!=null&&A.push(M0(k,B,N)))),j)break;k=k.return}0<A.length&&(y=new w(y,v,null,i,x),b.push({event:y,listeners:A}))}}if(!(n&7)){e:{if(y=a==="mouseover"||a==="pointerover",w=a==="mouseout"||a==="pointerout",y&&i!==up&&(v=i.relatedTarget||i.fromElement)&&($o(v)||v[R1]))break e;if((w||y)&&(y=x.window===x?x:(y=x.ownerDocument)?y.defaultView||y.parentWindow:window,w?(v=i.relatedTarget||i.toElement,w=m,v=v?$o(v):null,v!==null&&(j=cl(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=m),w!==v)){if(A=x4,B="onMouseLeave",E="onMouseEnter",k="mouse",(a==="pointerout"||a==="pointerover")&&(A=g4,B="onPointerLeave",E="onPointerEnter",k="pointer"),j=w==null?y:Ml(w),N=v==null?y:Ml(v),y=new A(B,k+"leave",w,i,x),y.target=j,y.relatedTarget=N,B=null,$o(x)===m&&(A=new A(E,k+"enter",v,i,x),A.target=N,A.relatedTarget=j,B=A),j=B,w&&v)t:{for(A=w,E=v,k=0,N=A;N;N=Al(N))k++;for(N=0,B=E;B;B=Al(B))N++;for(;0<k-N;)A=Al(A),k--;for(;0<N-k;)E=Al(E),N--;for(;k--;){if(A===E||E!==null&&A===E.alternate)break t;A=Al(A),E=Al(E)}A=null}else A=null;w!==null&&I4(b,y,w,A,!1),v!==null&&j!==null&&I4(b,j,v,A,!0)}}e:{if(y=m?Ml(m):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var I=UN;else if(y4(y))if(a8)I=HN;else{I=LN;var D=zN}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(I=QN);if(I&&(I=I(a,m))){r8(b,I,i,x);break e}D&&D(a,y,m),a==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&ip(y,"number",y.value)}switch(D=m?Ml(m):window,a){case"focusin":(y4(D)||D.contentEditable==="true")&&(Tl=D,gp=m,w0=null);break;case"focusout":w0=gp=Tl=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,S4(b,i,x);break;case"selectionchange":if(GN)break;case"keydown":case"keyup":S4(b,i,x)}var T;if(H3)e:{switch(a){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Dl?e8(a,i)&&(M="onCompositionEnd"):a==="keydown"&&i.keyCode===229&&(M="onCompositionStart");M&&(Z6&&i.locale!=="ko"&&(Dl||M!=="onCompositionStart"?M==="onCompositionEnd"&&Dl&&(T=X6()):(Z1=x,z3="value"in Z1?Z1.value:Z1.textContent,Dl=!0)),D=Sd(m,M),0<D.length&&(M=new v4(M,a,null,i,x),b.push({event:M,listeners:D}),T?M.data=T:(T=t8(i),T!==null&&(M.data=T)))),(T=MN?FN(a,i):PN(a,i))&&(m=Sd(m,"onBeforeInput"),0<m.length&&(x=new v4("onBeforeInput","beforeinput",null,i,x),b.push({event:x,listeners:m}),x.data=T))}h8(b,n)})}function M0(a,n,i){return{instance:a,listener:n,currentTarget:i}}function Sd(a,n){for(var i=n+"Capture",o=[];a!==null;){var d=a,u=d.stateNode;d.tag===5&&u!==null&&(d=u,u=E0(a,i),u!=null&&o.unshift(M0(a,u,d)),u=E0(a,n),u!=null&&o.push(M0(a,u,d))),a=a.return}return o}function Al(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function I4(a,n,i,o,d){for(var u=n._reactName,f=[];i!==null&&i!==o;){var h=i,p=h.alternate,m=h.stateNode;if(p!==null&&p===o)break;h.tag===5&&m!==null&&(h=m,d?(p=E0(i,u),p!=null&&f.unshift(M0(i,p,h))):d||(p=E0(i,u),p!=null&&f.push(M0(i,p,h)))),i=i.return}f.length!==0&&a.push({event:n,listeners:f})}var WN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function B4(a){return(typeof a=="string"?a:""+a).replace(WN,`
`).replace(JN,"")}function M2(a,n,i){if(n=B4(n),B4(a)!==n&&i)throw Error(ot(425))}function Ed(){}var wp=null,yp=null;function Ap(a,n){return a==="textarea"||a==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,D4=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof D4<"u"?function(a){return D4.resolve(null).then(a).catch(eS)}:kp;function eS(a){setTimeout(function(){throw a})}function $f(a,n){var i=n,o=0;do{var d=i.nextSibling;if(a.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){a.removeChild(d),B0(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);B0(n)}function no(a){for(;a!=null;a=a.nextSibling){var n=a.nodeType;if(n===1||n===3)break;if(n===8){if(n=a.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return a}function T4(a){a=a.previousSibling;for(var n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return a;n--}else i==="/$"&&n++}a=a.previousSibling}return null}var mc=Math.random().toString(36).slice(2),u1="__reactFiber$"+mc,F0="__reactProps$"+mc,R1="__reactContainer$"+mc,jp="__reactEvents$"+mc,tS="__reactListeners$"+mc,rS="__reactHandles$"+mc;function $o(a){var n=a[u1];if(n)return n;for(var i=a.parentNode;i;){if(n=i[R1]||i[u1]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(a=T4(a);a!==null;){if(i=a[u1])return i;a=T4(a)}return n}a=i,i=a.parentNode}return null}function Z0(a){return a=a[u1]||a[R1],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ml(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ot(33))}function hu(a){return a[F0]||null}var Np=[],Fl=-1;function bo(a){return{current:a}}function ss(a){0>Fl||(a.current=Np[Fl],Np[Fl]=null,Fl--)}function Ya(a,n){Fl++,Np[Fl]=a.current,a.current=n}var po={},Un=bo(po),ni=bo(!1),rl=po;function Zl(a,n){var i=a.type.contextTypes;if(!i)return po;var o=a.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var d={},u;for(u in i)d[u]=n[u];return o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=n,a.__reactInternalMemoizedMaskedChildContext=d),d}function ii(a){return a=a.childContextTypes,a!=null}function Cd(){ss(ni),ss(Un)}function R4(a,n,i){if(Un.current!==po)throw Error(ot(168));Ya(Un,n),Ya(ni,i)}function m8(a,n,i){var o=a.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in n))throw Error(ot(108,zj(a)||"Unknown",d));return Ns({},i,o)}function Id(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||po,rl=Un.current,Ya(Un,a),Ya(ni,ni.current),!0}function M4(a,n,i){var o=a.stateNode;if(!o)throw Error(ot(169));i?(a=m8(a,n,rl),o.__reactInternalMemoizedMergedChildContext=a,ss(ni),ss(Un),Ya(Un,a)):ss(ni),Ya(ni,i)}var S1=null,pu=!1,qf=!1;function x8(a){S1===null?S1=[a]:S1.push(a)}function aS(a){pu=!0,x8(a)}function wo(){if(!qf&&S1!==null){qf=!0;var a=0,n=Sa;try{var i=S1;for(Sa=1;a<i.length;a++){var o=i[a];do o=o(!0);while(o!==null)}S1=null,pu=!1}catch(d){throw S1!==null&&(S1=S1.slice(a+1)),L6(P3,wo),d}finally{Sa=n,qf=!1}}return null}var Pl=[],_l=0,Bd=null,Dd=0,Ni=[],Si=0,al=null,E1=1,C1="";function _o(a,n){Pl[_l++]=Dd,Pl[_l++]=Bd,Bd=a,Dd=n}function v8(a,n,i){Ni[Si++]=E1,Ni[Si++]=C1,Ni[Si++]=al,al=a;var o=E1;a=C1;var d=32-Gi(o)-1;o&=~(1<<d),i+=1;var u=32-Gi(n)+d;if(30<u){var f=d-d%5;u=(o&(1<<f)-1).toString(32),o>>=f,d-=f,E1=1<<32-Gi(n)+d|i<<d|o,C1=u+a}else E1=1<<u|i<<d|o,C1=a}function q3(a){a.return!==null&&(_o(a,1),v8(a,1,0))}function G3(a){for(;a===Bd;)Bd=Pl[--_l],Pl[_l]=null,Dd=Pl[--_l],Pl[_l]=null;for(;a===al;)al=Ni[--Si],Ni[Si]=null,C1=Ni[--Si],Ni[Si]=null,E1=Ni[--Si],Ni[Si]=null}var wi=null,bi=null,us=!1,qi=null;function g8(a,n){var i=Ei(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=a,n=a.deletions,n===null?(a.deletions=[i],a.flags|=16):n.push(i)}function F4(a,n){switch(a.tag){case 5:var i=a.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(a.stateNode=n,wi=a,bi=no(n.firstChild),!0):!1;case 6:return n=a.pendingProps===""||n.nodeType!==3?null:n,n!==null?(a.stateNode=n,wi=a,bi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=al!==null?{id:E1,overflow:C1}:null,a.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Ei(18,null,null,0),i.stateNode=n,i.return=a,a.child=i,wi=a,bi=null,!0):!1;default:return!1}}function Sp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ep(a){if(us){var n=bi;if(n){var i=n;if(!F4(a,n)){if(Sp(a))throw Error(ot(418));n=no(i.nextSibling);var o=wi;n&&F4(a,n)?g8(o,i):(a.flags=a.flags&-4097|2,us=!1,wi=a)}}else{if(Sp(a))throw Error(ot(418));a.flags=a.flags&-4097|2,us=!1,wi=a}}}function P4(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;wi=a}function F2(a){if(a!==wi)return!1;if(!us)return P4(a),us=!0,!1;var n;if((n=a.tag!==3)&&!(n=a.tag!==5)&&(n=a.type,n=n!=="head"&&n!=="body"&&!Ap(a.type,a.memoizedProps)),n&&(n=bi)){if(Sp(a))throw b8(),Error(ot(418));for(;n;)g8(a,n),n=no(n.nextSibling)}if(P4(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ot(317));e:{for(a=a.nextSibling,n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="/$"){if(n===0){bi=no(a.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}a=a.nextSibling}bi=null}}else bi=wi?no(a.stateNode.nextSibling):null;return!0}function b8(){for(var a=bi;a;)a=no(a.nextSibling)}function ec(){bi=wi=null,us=!1}function Y3(a){qi===null?qi=[a]:qi.push(a)}var sS=_1.ReactCurrentBatchConfig;function a0(a,n,i){if(a=i.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ot(309));var o=i.stateNode}if(!o)throw Error(ot(147,a));var d=o,u=""+a;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(f){var h=d.refs;f===null?delete h[u]:h[u]=f},n._stringRef=u,n)}if(typeof a!="string")throw Error(ot(284));if(!i._owner)throw Error(ot(290,a))}return a}function P2(a,n){throw a=Object.prototype.toString.call(n),Error(ot(31,a==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":a))}function _4(a){var n=a._init;return n(a._payload)}function w8(a){function n(E,k){if(a){var N=E.deletions;N===null?(E.deletions=[k],E.flags|=16):N.push(k)}}function i(E,k){if(!a)return null;for(;k!==null;)n(E,k),k=k.sibling;return null}function o(E,k){for(E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function d(E,k){return E=co(E,k),E.index=0,E.sibling=null,E}function u(E,k,N){return E.index=N,a?(N=E.alternate,N!==null?(N=N.index,N<k?(E.flags|=2,k):N):(E.flags|=2,k)):(E.flags|=1048576,k)}function f(E){return a&&E.alternate===null&&(E.flags|=2),E}function h(E,k,N,B){return k===null||k.tag!==6?(k=Xf(N,E.mode,B),k.return=E,k):(k=d(k,N),k.return=E,k)}function p(E,k,N,B){var I=N.type;return I===Bl?x(E,k,N.props.children,B,N.key):k!==null&&(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===G1&&_4(I)===k.type)?(B=d(k,N.props),B.ref=a0(E,k,N),B.return=E,B):(B=dd(N.type,N.key,N.props,null,E.mode,B),B.ref=a0(E,k,N),B.return=E,B)}function m(E,k,N,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=Zf(N,E.mode,B),k.return=E,k):(k=d(k,N.children||[]),k.return=E,k)}function x(E,k,N,B,I){return k===null||k.tag!==7?(k=Xo(N,E.mode,B,I),k.return=E,k):(k=d(k,N),k.return=E,k)}function b(E,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Xf(""+k,E.mode,N),k.return=E,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N2:return N=dd(k.type,k.key,k.props,null,E.mode,N),N.ref=a0(E,null,k),N.return=E,N;case Il:return k=Zf(k,E.mode,N),k.return=E,k;case G1:var B=k._init;return b(E,B(k._payload),N)}if(c0(k)||Xc(k))return k=Xo(k,E.mode,N,null),k.return=E,k;P2(E,k)}return null}function y(E,k,N,B){var I=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return I!==null?null:h(E,k,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case N2:return N.key===I?p(E,k,N,B):null;case Il:return N.key===I?m(E,k,N,B):null;case G1:return I=N._init,y(E,k,I(N._payload),B)}if(c0(N)||Xc(N))return I!==null?null:x(E,k,N,B,null);P2(E,N)}return null}function w(E,k,N,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return E=E.get(N)||null,h(k,E,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N2:return E=E.get(B.key===null?N:B.key)||null,p(k,E,B,I);case Il:return E=E.get(B.key===null?N:B.key)||null,m(k,E,B,I);case G1:var D=B._init;return w(E,k,N,D(B._payload),I)}if(c0(B)||Xc(B))return E=E.get(N)||null,x(k,E,B,I,null);P2(k,B)}return null}function v(E,k,N,B){for(var I=null,D=null,T=k,M=k=0,Q=null;T!==null&&M<N.length;M++){T.index>M?(Q=T,T=null):Q=T.sibling;var F=y(E,T,N[M],B);if(F===null){T===null&&(T=Q);break}a&&T&&F.alternate===null&&n(E,T),k=u(F,k,M),D===null?I=F:D.sibling=F,D=F,T=Q}if(M===N.length)return i(E,T),us&&_o(E,M),I;if(T===null){for(;M<N.length;M++)T=b(E,N[M],B),T!==null&&(k=u(T,k,M),D===null?I=T:D.sibling=T,D=T);return us&&_o(E,M),I}for(T=o(E,T);M<N.length;M++)Q=w(T,E,M,N[M],B),Q!==null&&(a&&Q.alternate!==null&&T.delete(Q.key===null?M:Q.key),k=u(Q,k,M),D===null?I=Q:D.sibling=Q,D=Q);return a&&T.forEach(function(P){return n(E,P)}),us&&_o(E,M),I}function A(E,k,N,B){var I=Xc(N);if(typeof I!="function")throw Error(ot(150));if(N=I.call(N),N==null)throw Error(ot(151));for(var D=I=null,T=k,M=k=0,Q=null,F=N.next();T!==null&&!F.done;M++,F=N.next()){T.index>M?(Q=T,T=null):Q=T.sibling;var P=y(E,T,F.value,B);if(P===null){T===null&&(T=Q);break}a&&T&&P.alternate===null&&n(E,T),k=u(P,k,M),D===null?I=P:D.sibling=P,D=P,T=Q}if(F.done)return i(E,T),us&&_o(E,M),I;if(T===null){for(;!F.done;M++,F=N.next())F=b(E,F.value,B),F!==null&&(k=u(F,k,M),D===null?I=F:D.sibling=F,D=F);return us&&_o(E,M),I}for(T=o(E,T);!F.done;M++,F=N.next())F=w(T,E,M,F.value,B),F!==null&&(a&&F.alternate!==null&&T.delete(F.key===null?M:F.key),k=u(F,k,M),D===null?I=F:D.sibling=F,D=F);return a&&T.forEach(function(L){return n(E,L)}),us&&_o(E,M),I}function j(E,k,N,B){if(typeof N=="object"&&N!==null&&N.type===Bl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case N2:e:{for(var I=N.key,D=k;D!==null;){if(D.key===I){if(I=N.type,I===Bl){if(D.tag===7){i(E,D.sibling),k=d(D,N.props.children),k.return=E,E=k;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===G1&&_4(I)===D.type){i(E,D.sibling),k=d(D,N.props),k.ref=a0(E,D,N),k.return=E,E=k;break e}i(E,D);break}else n(E,D);D=D.sibling}N.type===Bl?(k=Xo(N.props.children,E.mode,B,N.key),k.return=E,E=k):(B=dd(N.type,N.key,N.props,null,E.mode,B),B.ref=a0(E,k,N),B.return=E,E=B)}return f(E);case Il:e:{for(D=N.key;k!==null;){if(k.key===D)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){i(E,k.sibling),k=d(k,N.children||[]),k.return=E,E=k;break e}else{i(E,k);break}else n(E,k);k=k.sibling}k=Zf(N,E.mode,B),k.return=E,E=k}return f(E);case G1:return D=N._init,j(E,k,D(N._payload),B)}if(c0(N))return v(E,k,N,B);if(Xc(N))return A(E,k,N,B);P2(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,k!==null&&k.tag===6?(i(E,k.sibling),k=d(k,N),k.return=E,E=k):(i(E,k),k=Xf(N,E.mode,B),k.return=E,E=k),f(E)):i(E,k)}return j}var tc=w8(!0),y8=w8(!1),Td=bo(null),Rd=null,Ol=null,V3=null;function K3(){V3=Ol=Rd=null}function W3(a){var n=Td.current;ss(Td),a._currentValue=n}function Cp(a,n,i){for(;a!==null;){var o=a.alternate;if((a.childLanes&n)!==n?(a.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),a===i)break;a=a.return}}function Gl(a,n){Rd=a,V3=Ol=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&n&&(si=!0),a.firstContext=null)}function Ii(a){var n=a._currentValue;if(V3!==a)if(a={context:a,memoizedValue:n,next:null},Ol===null){if(Rd===null)throw Error(ot(308));Ol=a,Rd.dependencies={lanes:0,firstContext:a}}else Ol=Ol.next=a;return n}var qo=null;function J3(a){qo===null?qo=[a]:qo.push(a)}function A8(a,n,i,o){var d=n.interleaved;return d===null?(i.next=i,J3(n)):(i.next=d.next,d.next=i),n.interleaved=i,M1(a,o)}function M1(a,n){a.lanes|=n;var i=a.alternate;for(i!==null&&(i.lanes|=n),i=a,a=a.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),i=a,a=a.return;return i.tag===3?i.stateNode:null}var Y1=!1;function X3(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k8(a,n){a=a.updateQueue,n.updateQueue===a&&(n.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function B1(a,n){return{eventTime:a,lane:n,tag:0,payload:null,callback:null,next:null}}function io(a,n,i){var o=a.updateQueue;if(o===null)return null;if(o=o.shared,oa&2){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,M1(a,i)}return d=o.interleaved,d===null?(n.next=n,J3(o)):(n.next=d.next,d.next=n),o.interleaved=n,M1(a,i)}function sd(a,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,_3(a,i)}}function O4(a,n){var i=a.updateQueue,o=a.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var f={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?d=u=f:u=u.next=f,i=i.next}while(i!==null);u===null?d=u=n:u=u.next=n}else d=u=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:u,shared:o.shared,effects:o.effects},a.updateQueue=i;return}a=i.lastBaseUpdate,a===null?i.firstBaseUpdate=n:a.next=n,i.lastBaseUpdate=n}function Md(a,n,i,o){var d=a.updateQueue;Y1=!1;var u=d.firstBaseUpdate,f=d.lastBaseUpdate,h=d.shared.pending;if(h!==null){d.shared.pending=null;var p=h,m=p.next;p.next=null,f===null?u=m:f.next=m,f=p;var x=a.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==f&&(h===null?x.firstBaseUpdate=m:h.next=m,x.lastBaseUpdate=p))}if(u!==null){var b=d.baseState;f=0,x=m=p=null,h=u;do{var y=h.lane,w=h.eventTime;if((o&y)===y){x!==null&&(x=x.next={eventTime:w,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var v=a,A=h;switch(y=n,w=i,A.tag){case 1:if(v=A.payload,typeof v=="function"){b=v.call(w,b,y);break e}b=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=A.payload,y=typeof v=="function"?v.call(w,b,y):v,y==null)break e;b=Ns({},b,y);break e;case 2:Y1=!0}}h.callback!==null&&h.lane!==0&&(a.flags|=64,y=d.effects,y===null?d.effects=[h]:y.push(h))}else w={eventTime:w,lane:y,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(m=x=w,p=b):x=x.next=w,f|=y;if(h=h.next,h===null){if(h=d.shared.pending,h===null)break;y=h,h=y.next,y.next=null,d.lastBaseUpdate=y,d.shared.pending=null}}while(!0);if(x===null&&(p=b),d.baseState=p,d.firstBaseUpdate=m,d.lastBaseUpdate=x,n=d.shared.interleaved,n!==null){d=n;do f|=d.lane,d=d.next;while(d!==n)}else u===null&&(d.shared.lanes=0);nl|=f,a.lanes=f,a.memoizedState=b}}function U4(a,n,i){if(a=n.effects,n.effects=null,a!==null)for(n=0;n<a.length;n++){var o=a[n],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(ot(191,d));d.call(o)}}}var e2={},p1=bo(e2),P0=bo(e2),_0=bo(e2);function Go(a){if(a===e2)throw Error(ot(174));return a}function Z3(a,n){switch(Ya(_0,n),Ya(P0,a),Ya(p1,e2),a=n.nodeType,a){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:lp(null,"");break;default:a=a===8?n.parentNode:n,n=a.namespaceURI||null,a=a.tagName,n=lp(n,a)}ss(p1),Ya(p1,n)}function rc(){ss(p1),ss(P0),ss(_0)}function j8(a){Go(_0.current);var n=Go(p1.current),i=lp(n,a.type);n!==i&&(Ya(P0,a),Ya(p1,i))}function em(a){P0.current===a&&(ss(p1),ss(P0))}var ks=bo(0);function Fd(a){for(var n=a;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gf=[];function tm(){for(var a=0;a<Gf.length;a++)Gf[a]._workInProgressVersionPrimary=null;Gf.length=0}var nd=_1.ReactCurrentDispatcher,Yf=_1.ReactCurrentBatchConfig,sl=0,js=null,Xs=null,fn=null,Pd=!1,y0=!1,O0=0,nS=0;function Mn(){throw Error(ot(321))}function rm(a,n){if(n===null)return!1;for(var i=0;i<n.length&&i<a.length;i++)if(!Vi(a[i],n[i]))return!1;return!0}function am(a,n,i,o,d,u){if(sl=u,js=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,nd.current=a===null||a.memoizedState===null?cS:dS,a=i(o,d),y0){u=0;do{if(y0=!1,O0=0,25<=u)throw Error(ot(301));u+=1,fn=Xs=null,n.updateQueue=null,nd.current=uS,a=i(o,d)}while(y0)}if(nd.current=_d,n=Xs!==null&&Xs.next!==null,sl=0,fn=Xs=js=null,Pd=!1,n)throw Error(ot(300));return a}function sm(){var a=O0!==0;return O0=0,a}function c1(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?js.memoizedState=fn=a:fn=fn.next=a,fn}function Bi(){if(Xs===null){var a=js.alternate;a=a!==null?a.memoizedState:null}else a=Xs.next;var n=fn===null?js.memoizedState:fn.next;if(n!==null)fn=n,Xs=a;else{if(a===null)throw Error(ot(310));Xs=a,a={memoizedState:Xs.memoizedState,baseState:Xs.baseState,baseQueue:Xs.baseQueue,queue:Xs.queue,next:null},fn===null?js.memoizedState=fn=a:fn=fn.next=a}return fn}function U0(a,n){return typeof n=="function"?n(a):n}function Vf(a){var n=Bi(),i=n.queue;if(i===null)throw Error(ot(311));i.lastRenderedReducer=a;var o=Xs,d=o.baseQueue,u=i.pending;if(u!==null){if(d!==null){var f=d.next;d.next=u.next,u.next=f}o.baseQueue=d=u,i.pending=null}if(d!==null){u=d.next,o=o.baseState;var h=f=null,p=null,m=u;do{var x=m.lane;if((sl&x)===x)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:a(o,m.action);else{var b={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(h=p=b,f=o):p=p.next=b,js.lanes|=x,nl|=x}m=m.next}while(m!==null&&m!==u);p===null?f=o:p.next=h,Vi(o,n.memoizedState)||(si=!0),n.memoizedState=o,n.baseState=f,n.baseQueue=p,i.lastRenderedState=o}if(a=i.interleaved,a!==null){d=a;do u=d.lane,js.lanes|=u,nl|=u,d=d.next;while(d!==a)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Kf(a){var n=Bi(),i=n.queue;if(i===null)throw Error(ot(311));i.lastRenderedReducer=a;var o=i.dispatch,d=i.pending,u=n.memoizedState;if(d!==null){i.pending=null;var f=d=d.next;do u=a(u,f.action),f=f.next;while(f!==d);Vi(u,n.memoizedState)||(si=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),i.lastRenderedState=u}return[u,o]}function N8(){}function S8(a,n){var i=js,o=Bi(),d=n(),u=!Vi(o.memoizedState,d);if(u&&(o.memoizedState=d,si=!0),o=o.queue,nm(I8.bind(null,i,o,a),[a]),o.getSnapshot!==n||u||fn!==null&&fn.memoizedState.tag&1){if(i.flags|=2048,z0(9,C8.bind(null,i,o,d,n),void 0,null),pn===null)throw Error(ot(349));sl&30||E8(i,n,d)}return d}function E8(a,n,i){a.flags|=16384,a={getSnapshot:n,value:i},n=js.updateQueue,n===null?(n={lastEffect:null,stores:null},js.updateQueue=n,n.stores=[a]):(i=n.stores,i===null?n.stores=[a]:i.push(a))}function C8(a,n,i,o){n.value=i,n.getSnapshot=o,B8(n)&&D8(a)}function I8(a,n,i){return i(function(){B8(n)&&D8(a)})}function B8(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!Vi(a,i)}catch{return!0}}function D8(a){var n=M1(a,1);n!==null&&Yi(n,a,1,-1)}function z4(a){var n=c1();return typeof a=="function"&&(a=a()),n.memoizedState=n.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:a},n.queue=a,a=a.dispatch=lS.bind(null,js,a),[n.memoizedState,a]}function z0(a,n,i,o){return a={tag:a,create:n,destroy:i,deps:o,next:null},n=js.updateQueue,n===null?(n={lastEffect:null,stores:null},js.updateQueue=n,n.lastEffect=a.next=a):(i=n.lastEffect,i===null?n.lastEffect=a.next=a:(o=i.next,i.next=a,a.next=o,n.lastEffect=a)),a}function T8(){return Bi().memoizedState}function id(a,n,i,o){var d=c1();js.flags|=a,d.memoizedState=z0(1|n,i,void 0,o===void 0?null:o)}function mu(a,n,i,o){var d=Bi();o=o===void 0?null:o;var u=void 0;if(Xs!==null){var f=Xs.memoizedState;if(u=f.destroy,o!==null&&rm(o,f.deps)){d.memoizedState=z0(n,i,u,o);return}}js.flags|=a,d.memoizedState=z0(1|n,i,u,o)}function L4(a,n){return id(8390656,8,a,n)}function nm(a,n){return mu(2048,8,a,n)}function R8(a,n){return mu(4,2,a,n)}function M8(a,n){return mu(4,4,a,n)}function F8(a,n){if(typeof n=="function")return a=a(),n(a),function(){n(null)};if(n!=null)return a=a(),n.current=a,function(){n.current=null}}function P8(a,n,i){return i=i!=null?i.concat([a]):null,mu(4,4,F8.bind(null,n,a),i)}function im(){}function _8(a,n){var i=Bi();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&rm(n,o[1])?o[0]:(i.memoizedState=[a,n],a)}function O8(a,n){var i=Bi();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&rm(n,o[1])?o[0]:(a=a(),i.memoizedState=[a,n],a)}function U8(a,n,i){return sl&21?(Vi(i,n)||(i=$6(),js.lanes|=i,nl|=i,a.baseState=!0),n):(a.baseState&&(a.baseState=!1,si=!0),a.memoizedState=i)}function iS(a,n){var i=Sa;Sa=i!==0&&4>i?i:4,a(!0);var o=Yf.transition;Yf.transition={};try{a(!1),n()}finally{Sa=i,Yf.transition=o}}function z8(){return Bi().memoizedState}function oS(a,n,i){var o=lo(a);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},L8(a))Q8(n,i);else if(i=A8(a,n,i,o),i!==null){var d=Kn();Yi(i,a,o,d),H8(i,n,o)}}function lS(a,n,i){var o=lo(a),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(L8(a))Q8(n,d);else{var u=a.alternate;if(a.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var f=n.lastRenderedState,h=u(f,i);if(d.hasEagerState=!0,d.eagerState=h,Vi(h,f)){var p=n.interleaved;p===null?(d.next=d,J3(n)):(d.next=p.next,p.next=d),n.interleaved=d;return}}catch{}finally{}i=A8(a,n,d,o),i!==null&&(d=Kn(),Yi(i,a,o,d),H8(i,n,o))}}function L8(a){var n=a.alternate;return a===js||n!==null&&n===js}function Q8(a,n){y0=Pd=!0;var i=a.pending;i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n}function H8(a,n,i){if(i&4194240){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,_3(a,i)}}var _d={readContext:Ii,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},cS={readContext:Ii,useCallback:function(a,n){return c1().memoizedState=[a,n===void 0?null:n],a},useContext:Ii,useEffect:L4,useImperativeHandle:function(a,n,i){return i=i!=null?i.concat([a]):null,id(4194308,4,F8.bind(null,n,a),i)},useLayoutEffect:function(a,n){return id(4194308,4,a,n)},useInsertionEffect:function(a,n){return id(4,2,a,n)},useMemo:function(a,n){var i=c1();return n=n===void 0?null:n,a=a(),i.memoizedState=[a,n],a},useReducer:function(a,n,i){var o=c1();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:n},o.queue=a,a=a.dispatch=oS.bind(null,js,a),[o.memoizedState,a]},useRef:function(a){var n=c1();return a={current:a},n.memoizedState=a},useState:z4,useDebugValue:im,useDeferredValue:function(a){return c1().memoizedState=a},useTransition:function(){var a=z4(!1),n=a[0];return a=iS.bind(null,a[1]),c1().memoizedState=a,[n,a]},useMutableSource:function(){},useSyncExternalStore:function(a,n,i){var o=js,d=c1();if(us){if(i===void 0)throw Error(ot(407));i=i()}else{if(i=n(),pn===null)throw Error(ot(349));sl&30||E8(o,n,i)}d.memoizedState=i;var u={value:i,getSnapshot:n};return d.queue=u,L4(I8.bind(null,o,u,a),[a]),o.flags|=2048,z0(9,C8.bind(null,o,u,i,n),void 0,null),i},useId:function(){var a=c1(),n=pn.identifierPrefix;if(us){var i=C1,o=E1;i=(o&~(1<<32-Gi(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=O0++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=nS++,n=":"+n+"r"+i.toString(32)+":";return a.memoizedState=n},unstable_isNewReconciler:!1},dS={readContext:Ii,useCallback:_8,useContext:Ii,useEffect:nm,useImperativeHandle:P8,useInsertionEffect:R8,useLayoutEffect:M8,useMemo:O8,useReducer:Vf,useRef:T8,useState:function(){return Vf(U0)},useDebugValue:im,useDeferredValue:function(a){var n=Bi();return U8(n,Xs.memoizedState,a)},useTransition:function(){var a=Vf(U0)[0],n=Bi().memoizedState;return[a,n]},useMutableSource:N8,useSyncExternalStore:S8,useId:z8,unstable_isNewReconciler:!1},uS={readContext:Ii,useCallback:_8,useContext:Ii,useEffect:nm,useImperativeHandle:P8,useInsertionEffect:R8,useLayoutEffect:M8,useMemo:O8,useReducer:Kf,useRef:T8,useState:function(){return Kf(U0)},useDebugValue:im,useDeferredValue:function(a){var n=Bi();return Xs===null?n.memoizedState=a:U8(n,Xs.memoizedState,a)},useTransition:function(){var a=Kf(U0)[0],n=Bi().memoizedState;return[a,n]},useMutableSource:N8,useSyncExternalStore:S8,useId:z8,unstable_isNewReconciler:!1};function Li(a,n){if(a&&a.defaultProps){n=Ns({},n),a=a.defaultProps;for(var i in a)n[i]===void 0&&(n[i]=a[i]);return n}return n}function Ip(a,n,i,o){n=a.memoizedState,i=i(o,n),i=i==null?n:Ns({},n,i),a.memoizedState=i,a.lanes===0&&(a.updateQueue.baseState=i)}var xu={isMounted:function(a){return(a=a._reactInternals)?cl(a)===a:!1},enqueueSetState:function(a,n,i){a=a._reactInternals;var o=Kn(),d=lo(a),u=B1(o,d);u.payload=n,i!=null&&(u.callback=i),n=io(a,u,d),n!==null&&(Yi(n,a,d,o),sd(n,a,d))},enqueueReplaceState:function(a,n,i){a=a._reactInternals;var o=Kn(),d=lo(a),u=B1(o,d);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=io(a,u,d),n!==null&&(Yi(n,a,d,o),sd(n,a,d))},enqueueForceUpdate:function(a,n){a=a._reactInternals;var i=Kn(),o=lo(a),d=B1(i,o);d.tag=2,n!=null&&(d.callback=n),n=io(a,d,o),n!==null&&(Yi(n,a,o,i),sd(n,a,o))}};function Q4(a,n,i,o,d,u,f){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(o,u,f):n.prototype&&n.prototype.isPureReactComponent?!T0(i,o)||!T0(d,u):!0}function $8(a,n,i){var o=!1,d=po,u=n.contextType;return typeof u=="object"&&u!==null?u=Ii(u):(d=ii(n)?rl:Un.current,o=n.contextTypes,u=(o=o!=null)?Zl(a,d):po),n=new n(i,u),a.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=xu,a.stateNode=n,n._reactInternals=a,o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=u),n}function H4(a,n,i,o){a=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==a&&xu.enqueueReplaceState(n,n.state,null)}function Bp(a,n,i,o){var d=a.stateNode;d.props=i,d.state=a.memoizedState,d.refs={},X3(a);var u=n.contextType;typeof u=="object"&&u!==null?d.context=Ii(u):(u=ii(n)?rl:Un.current,d.context=Zl(a,u)),d.state=a.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Ip(a,n,u,i),d.state=a.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&xu.enqueueReplaceState(d,d.state,null),Md(a,i,d,o),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308)}function ac(a,n){try{var i="",o=n;do i+=Uj(o),o=o.return;while(o);var d=i}catch(u){d=`
Error generating stack: `+u.message+`
`+u.stack}return{value:a,source:n,stack:d,digest:null}}function Wf(a,n,i){return{value:a,source:null,stack:i??null,digest:n??null}}function Dp(a,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var fS=typeof WeakMap=="function"?WeakMap:Map;function q8(a,n,i){i=B1(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){Ud||(Ud=!0,Lp=o),Dp(a,n)},i}function G8(a,n,i){i=B1(-1,i),i.tag=3;var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;i.payload=function(){return o(d)},i.callback=function(){Dp(a,n)}}var u=a.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){Dp(a,n),typeof o!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),i}function $4(a,n,i){var o=a.pingCache;if(o===null){o=a.pingCache=new fS;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(d.add(i),a=SS.bind(null,a,n,i),n.then(a,a))}function q4(a){do{var n;if((n=a.tag===13)&&(n=a.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return a;a=a.return}while(a!==null);return null}function G4(a,n,i,o,d){return a.mode&1?(a.flags|=65536,a.lanes=d,a):(a===n?a.flags|=65536:(a.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=B1(-1,1),n.tag=2,io(i,n,1))),i.lanes|=1),a)}var hS=_1.ReactCurrentOwner,si=!1;function Yn(a,n,i,o){n.child=a===null?y8(n,null,i,o):tc(n,a.child,i,o)}function Y4(a,n,i,o,d){i=i.render;var u=n.ref;return Gl(n,d),o=am(a,n,i,o,u,d),i=sm(),a!==null&&!si?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~d,F1(a,n,d)):(us&&i&&q3(n),n.flags|=1,Yn(a,n,o,d),n.child)}function V4(a,n,i,o,d){if(a===null){var u=i.type;return typeof u=="function"&&!pm(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=u,Y8(a,n,u,o,d)):(a=dd(i.type,null,o,n,n.mode,d),a.ref=n.ref,a.return=n,n.child=a)}if(u=a.child,!(a.lanes&d)){var f=u.memoizedProps;if(i=i.compare,i=i!==null?i:T0,i(f,o)&&a.ref===n.ref)return F1(a,n,d)}return n.flags|=1,a=co(u,o),a.ref=n.ref,a.return=n,n.child=a}function Y8(a,n,i,o,d){if(a!==null){var u=a.memoizedProps;if(T0(u,o)&&a.ref===n.ref)if(si=!1,n.pendingProps=o=u,(a.lanes&d)!==0)a.flags&131072&&(si=!0);else return n.lanes=a.lanes,F1(a,n,d)}return Tp(a,n,i,o,d)}function V8(a,n,i){var o=n.pendingProps,d=o.children,u=a!==null?a.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ya(zl,vi),vi|=i;else{if(!(i&1073741824))return a=u!==null?u.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:a,cachePool:null,transitions:null},n.updateQueue=null,Ya(zl,vi),vi|=a,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:i,Ya(zl,vi),vi|=o}else u!==null?(o=u.baseLanes|i,n.memoizedState=null):o=i,Ya(zl,vi),vi|=o;return Yn(a,n,d,i),n.child}function K8(a,n){var i=n.ref;(a===null&&i!==null||a!==null&&a.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Tp(a,n,i,o,d){var u=ii(i)?rl:Un.current;return u=Zl(n,u),Gl(n,d),i=am(a,n,i,o,u,d),o=sm(),a!==null&&!si?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~d,F1(a,n,d)):(us&&o&&q3(n),n.flags|=1,Yn(a,n,i,d),n.child)}function K4(a,n,i,o,d){if(ii(i)){var u=!0;Id(n)}else u=!1;if(Gl(n,d),n.stateNode===null)od(a,n),$8(n,i,o),Bp(n,i,o,d),o=!0;else if(a===null){var f=n.stateNode,h=n.memoizedProps;f.props=h;var p=f.context,m=i.contextType;typeof m=="object"&&m!==null?m=Ii(m):(m=ii(i)?rl:Un.current,m=Zl(n,m));var x=i.getDerivedStateFromProps,b=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function";b||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==o||p!==m)&&H4(n,f,o,m),Y1=!1;var y=n.memoizedState;f.state=y,Md(n,o,f,d),p=n.memoizedState,h!==o||y!==p||ni.current||Y1?(typeof x=="function"&&(Ip(n,i,x,o),p=n.memoizedState),(h=Y1||Q4(n,i,h,o,y,p,m))?(b||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=p),f.props=o,f.state=p,f.context=m,o=h):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,k8(a,n),h=n.memoizedProps,m=n.type===n.elementType?h:Li(n.type,h),f.props=m,b=n.pendingProps,y=f.context,p=i.contextType,typeof p=="object"&&p!==null?p=Ii(p):(p=ii(i)?rl:Un.current,p=Zl(n,p));var w=i.getDerivedStateFromProps;(x=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==b||y!==p)&&H4(n,f,o,p),Y1=!1,y=n.memoizedState,f.state=y,Md(n,o,f,d);var v=n.memoizedState;h!==b||y!==v||ni.current||Y1?(typeof w=="function"&&(Ip(n,i,w,o),v=n.memoizedState),(m=Y1||Q4(n,i,m,o,y,v,p)||!1)?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,v,p),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,v,p)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=v),f.props=o,f.state=v,f.context=p,o=m):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=1024),o=!1)}return Rp(a,n,i,o,u,d)}function Rp(a,n,i,o,d,u){K8(a,n);var f=(n.flags&128)!==0;if(!o&&!f)return d&&M4(n,i,!1),F1(a,n,u);o=n.stateNode,hS.current=n;var h=f&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,a!==null&&f?(n.child=tc(n,a.child,null,u),n.child=tc(n,null,h,u)):Yn(a,n,h,u),n.memoizedState=o.state,d&&M4(n,i,!0),n.child}function W8(a){var n=a.stateNode;n.pendingContext?R4(a,n.pendingContext,n.pendingContext!==n.context):n.context&&R4(a,n.context,!1),Z3(a,n.containerInfo)}function W4(a,n,i,o,d){return ec(),Y3(d),n.flags|=256,Yn(a,n,i,o),n.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Fp(a){return{baseLanes:a,cachePool:null,transitions:null}}function J8(a,n,i){var o=n.pendingProps,d=ks.current,u=!1,f=(n.flags&128)!==0,h;if((h=f)||(h=a!==null&&a.memoizedState===null?!1:(d&2)!==0),h?(u=!0,n.flags&=-129):(a===null||a.memoizedState!==null)&&(d|=1),Ya(ks,d&1),a===null)return Ep(n),a=n.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(n.mode&1?a.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=o.children,a=o.fallback,u?(o=n.mode,u=n.child,f={mode:"hidden",children:f},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=bu(f,o,0,null),a=Xo(a,o,i,null),u.return=n,a.return=n,u.sibling=a,n.child=u,n.child.memoizedState=Fp(i),n.memoizedState=Mp,a):om(n,f));if(d=a.memoizedState,d!==null&&(h=d.dehydrated,h!==null))return pS(a,n,f,o,h,d,i);if(u){u=o.fallback,f=n.mode,d=a.child,h=d.sibling;var p={mode:"hidden",children:o.children};return!(f&1)&&n.child!==d?(o=n.child,o.childLanes=0,o.pendingProps=p,n.deletions=null):(o=co(d,p),o.subtreeFlags=d.subtreeFlags&14680064),h!==null?u=co(h,u):(u=Xo(u,f,i,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,f=a.child.memoizedState,f=f===null?Fp(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=a.childLanes&~i,n.memoizedState=Mp,o}return u=a.child,a=u.sibling,o=co(u,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=i),o.return=n,o.sibling=null,a!==null&&(i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)),n.child=o,n.memoizedState=null,o}function om(a,n){return n=bu({mode:"visible",children:n},a.mode,0,null),n.return=a,a.child=n}function _2(a,n,i,o){return o!==null&&Y3(o),tc(n,a.child,null,i),a=om(n,n.pendingProps.children),a.flags|=2,n.memoizedState=null,a}function pS(a,n,i,o,d,u,f){if(i)return n.flags&256?(n.flags&=-257,o=Wf(Error(ot(422))),_2(a,n,f,o)):n.memoizedState!==null?(n.child=a.child,n.flags|=128,null):(u=o.fallback,d=n.mode,o=bu({mode:"visible",children:o.children},d,0,null),u=Xo(u,d,f,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,n.mode&1&&tc(n,a.child,null,f),n.child.memoizedState=Fp(f),n.memoizedState=Mp,u);if(!(n.mode&1))return _2(a,n,f,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var h=o.dgst;return o=h,u=Error(ot(419)),o=Wf(u,o,void 0),_2(a,n,f,o)}if(h=(f&a.childLanes)!==0,si||h){if(o=pn,o!==null){switch(f&-f){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(o.suspendedLanes|f)?0:d,d!==0&&d!==u.retryLane&&(u.retryLane=d,M1(a,d),Yi(o,a,d,-1))}return hm(),o=Wf(Error(ot(421))),_2(a,n,f,o)}return d.data==="$?"?(n.flags|=128,n.child=a.child,n=ES.bind(null,a),d._reactRetry=n,null):(a=u.treeContext,bi=no(d.nextSibling),wi=n,us=!0,qi=null,a!==null&&(Ni[Si++]=E1,Ni[Si++]=C1,Ni[Si++]=al,E1=a.id,C1=a.overflow,al=n),n=om(n,o.children),n.flags|=4096,n)}function J4(a,n,i){a.lanes|=n;var o=a.alternate;o!==null&&(o.lanes|=n),Cp(a.return,n,i)}function Jf(a,n,i,o,d){var u=a.memoizedState;u===null?a.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=i,u.tailMode=d)}function X8(a,n,i){var o=n.pendingProps,d=o.revealOrder,u=o.tail;if(Yn(a,n,o.children,i),o=ks.current,o&2)o=o&1|2,n.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=n.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&J4(a,i,n);else if(a.tag===19)J4(a,i,n);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o&=1}if(Ya(ks,o),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)a=i.alternate,a!==null&&Fd(a)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Jf(n,!1,d,i,u);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(a=d.alternate,a!==null&&Fd(a)===null){n.child=d;break}a=d.sibling,d.sibling=i,i=d,d=a}Jf(n,!0,i,null,u);break;case"together":Jf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function od(a,n){!(n.mode&1)&&a!==null&&(a.alternate=null,n.alternate=null,n.flags|=2)}function F1(a,n,i){if(a!==null&&(n.dependencies=a.dependencies),nl|=n.lanes,!(i&n.childLanes))return null;if(a!==null&&n.child!==a.child)throw Error(ot(153));if(n.child!==null){for(a=n.child,i=co(a,a.pendingProps),n.child=i,i.return=n;a.sibling!==null;)a=a.sibling,i=i.sibling=co(a,a.pendingProps),i.return=n;i.sibling=null}return n.child}function mS(a,n,i){switch(n.tag){case 3:W8(n),ec();break;case 5:j8(n);break;case 1:ii(n.type)&&Id(n);break;case 4:Z3(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,d=n.memoizedProps.value;Ya(Td,o._currentValue),o._currentValue=d;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Ya(ks,ks.current&1),n.flags|=128,null):i&n.child.childLanes?J8(a,n,i):(Ya(ks,ks.current&1),a=F1(a,n,i),a!==null?a.sibling:null);Ya(ks,ks.current&1);break;case 19:if(o=(i&n.childLanes)!==0,a.flags&128){if(o)return X8(a,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ya(ks,ks.current),o)break;return null;case 22:case 23:return n.lanes=0,V8(a,n,i)}return F1(a,n,i)}var Z8,Pp,e5,t5;Z8=function(a,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)a.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Pp=function(){};e5=function(a,n,i,o){var d=a.memoizedProps;if(d!==o){a=n.stateNode,Go(p1.current);var u=null;switch(i){case"input":d=sp(a,d),o=sp(a,o),u=[];break;case"select":d=Ns({},d,{value:void 0}),o=Ns({},o,{value:void 0}),u=[];break;case"textarea":d=op(a,d),o=op(a,o),u=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(a.onclick=Ed)}cp(i,o);var f;i=null;for(m in d)if(!o.hasOwnProperty(m)&&d.hasOwnProperty(m)&&d[m]!=null)if(m==="style"){var h=d[m];for(f in h)h.hasOwnProperty(f)&&(i||(i={}),i[f]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(N0.hasOwnProperty(m)?u||(u=[]):(u=u||[]).push(m,null));for(m in o){var p=o[m];if(h=d!=null?d[m]:void 0,o.hasOwnProperty(m)&&p!==h&&(p!=null||h!=null))if(m==="style")if(h){for(f in h)!h.hasOwnProperty(f)||p&&p.hasOwnProperty(f)||(i||(i={}),i[f]="");for(f in p)p.hasOwnProperty(f)&&h[f]!==p[f]&&(i||(i={}),i[f]=p[f])}else i||(u||(u=[]),u.push(m,i)),i=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(u=u||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(u=u||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(N0.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&as("scroll",a),u||h===p||(u=[])):(u=u||[]).push(m,p))}i&&(u=u||[]).push("style",i);var m=u;(n.updateQueue=m)&&(n.flags|=4)}};t5=function(a,n,i,o){i!==o&&(n.flags|=4)};function s0(a,n){if(!us)switch(a.tailMode){case"hidden":n=a.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?a.tail=null:i.sibling=null;break;case"collapsed":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||a.tail===null?a.tail=null:a.tail.sibling=null:o.sibling=null}}function Fn(a){var n=a.alternate!==null&&a.alternate.child===a.child,i=0,o=0;if(n)for(var d=a.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=a,d=d.sibling;else for(d=a.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=a,d=d.sibling;return a.subtreeFlags|=o,a.childLanes=i,n}function xS(a,n,i){var o=n.pendingProps;switch(G3(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(n),null;case 1:return ii(n.type)&&Cd(),Fn(n),null;case 3:return o=n.stateNode,rc(),ss(ni),ss(Un),tm(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(F2(n)?n.flags|=4:a===null||a.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,qi!==null&&($p(qi),qi=null))),Pp(a,n),Fn(n),null;case 5:em(n);var d=Go(_0.current);if(i=n.type,a!==null&&n.stateNode!=null)e5(a,n,i,o,d),a.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(ot(166));return Fn(n),null}if(a=Go(p1.current),F2(n)){o=n.stateNode,i=n.type;var u=n.memoizedProps;switch(o[u1]=n,o[F0]=u,a=(n.mode&1)!==0,i){case"dialog":as("cancel",o),as("close",o);break;case"iframe":case"object":case"embed":as("load",o);break;case"video":case"audio":for(d=0;d<u0.length;d++)as(u0[d],o);break;case"source":as("error",o);break;case"img":case"image":case"link":as("error",o),as("load",o);break;case"details":as("toggle",o);break;case"input":i4(o,u),as("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},as("invalid",o);break;case"textarea":l4(o,u),as("invalid",o)}cp(i,u),d=null;for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];f==="children"?typeof h=="string"?o.textContent!==h&&(u.suppressHydrationWarning!==!0&&M2(o.textContent,h,a),d=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(u.suppressHydrationWarning!==!0&&M2(o.textContent,h,a),d=["children",""+h]):N0.hasOwnProperty(f)&&h!=null&&f==="onScroll"&&as("scroll",o)}switch(i){case"input":S2(o),o4(o,u,!0);break;case"textarea":S2(o),c4(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Ed)}o=d,n.updateQueue=o,o!==null&&(n.flags|=4)}else{f=d.nodeType===9?d:d.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=I6(i)),a==="http://www.w3.org/1999/xhtml"?i==="script"?(a=f.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof o.is=="string"?a=f.createElement(i,{is:o.is}):(a=f.createElement(i),i==="select"&&(f=a,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):a=f.createElementNS(a,i),a[u1]=n,a[F0]=o,Z8(a,n,!1,!1),n.stateNode=a;e:{switch(f=dp(i,o),i){case"dialog":as("cancel",a),as("close",a),d=o;break;case"iframe":case"object":case"embed":as("load",a),d=o;break;case"video":case"audio":for(d=0;d<u0.length;d++)as(u0[d],a);d=o;break;case"source":as("error",a),d=o;break;case"img":case"image":case"link":as("error",a),as("load",a),d=o;break;case"details":as("toggle",a),d=o;break;case"input":i4(a,o),d=sp(a,o),as("invalid",a);break;case"option":d=o;break;case"select":a._wrapperState={wasMultiple:!!o.multiple},d=Ns({},o,{value:void 0}),as("invalid",a);break;case"textarea":l4(a,o),d=op(a,o),as("invalid",a);break;default:d=o}cp(i,d),h=d;for(u in h)if(h.hasOwnProperty(u)){var p=h[u];u==="style"?T6(a,p):u==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&B6(a,p)):u==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&S0(a,p):typeof p=="number"&&S0(a,""+p):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(N0.hasOwnProperty(u)?p!=null&&u==="onScroll"&&as("scroll",a):p!=null&&D3(a,u,p,f))}switch(i){case"input":S2(a),o4(a,o,!1);break;case"textarea":S2(a),c4(a);break;case"option":o.value!=null&&a.setAttribute("value",""+ho(o.value));break;case"select":a.multiple=!!o.multiple,u=o.value,u!=null?Ql(a,!!o.multiple,u,!1):o.defaultValue!=null&&Ql(a,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(a.onclick=Ed)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Fn(n),null;case 6:if(a&&n.stateNode!=null)t5(a,n,a.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(ot(166));if(i=Go(_0.current),Go(p1.current),F2(n)){if(o=n.stateNode,i=n.memoizedProps,o[u1]=n,(u=o.nodeValue!==i)&&(a=wi,a!==null))switch(a.tag){case 3:M2(o.nodeValue,i,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&M2(o.nodeValue,i,(a.mode&1)!==0)}u&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[u1]=n,n.stateNode=o}return Fn(n),null;case 13:if(ss(ks),o=n.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(us&&bi!==null&&n.mode&1&&!(n.flags&128))b8(),ec(),n.flags|=98560,u=!1;else if(u=F2(n),o!==null&&o.dehydrated!==null){if(a===null){if(!u)throw Error(ot(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ot(317));u[u1]=n}else ec(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Fn(n),u=!1}else qi!==null&&($p(qi),qi=null),u=!0;if(!u)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(o=o!==null,o!==(a!==null&&a.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(a===null||ks.current&1?Zs===0&&(Zs=3):hm())),n.updateQueue!==null&&(n.flags|=4),Fn(n),null);case 4:return rc(),Pp(a,n),a===null&&R0(n.stateNode.containerInfo),Fn(n),null;case 10:return W3(n.type._context),Fn(n),null;case 17:return ii(n.type)&&Cd(),Fn(n),null;case 19:if(ss(ks),u=n.memoizedState,u===null)return Fn(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)s0(u,!1);else{if(Zs!==0||a!==null&&a.flags&128)for(a=n.child;a!==null;){if(f=Fd(a),f!==null){for(n.flags|=128,s0(u,!1),o=f.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)u=i,a=o,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=a,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,a=f.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i=i.sibling;return Ya(ks,ks.current&1|2),n.child}a=a.sibling}u.tail!==null&&Ps()>sc&&(n.flags|=128,o=!0,s0(u,!1),n.lanes=4194304)}else{if(!o)if(a=Fd(f),a!==null){if(n.flags|=128,o=!0,i=a.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),s0(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!us)return Fn(n),null}else 2*Ps()-u.renderingStartTime>sc&&i!==1073741824&&(n.flags|=128,o=!0,s0(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(i=u.last,i!==null?i.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ps(),n.sibling=null,i=ks.current,Ya(ks,o?i&1|2:i&1),n):(Fn(n),null);case 22:case 23:return fm(),o=n.memoizedState!==null,a!==null&&a.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?vi&1073741824&&(Fn(n),n.subtreeFlags&6&&(n.flags|=8192)):Fn(n),null;case 24:return null;case 25:return null}throw Error(ot(156,n.tag))}function vS(a,n){switch(G3(n),n.tag){case 1:return ii(n.type)&&Cd(),a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 3:return rc(),ss(ni),ss(Un),tm(),a=n.flags,a&65536&&!(a&128)?(n.flags=a&-65537|128,n):null;case 5:return em(n),null;case 13:if(ss(ks),a=n.memoizedState,a!==null&&a.dehydrated!==null){if(n.alternate===null)throw Error(ot(340));ec()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 19:return ss(ks),null;case 4:return rc(),null;case 10:return W3(n.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var O2=!1,Pn=!1,gS=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Ul(a,n){var i=a.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Cs(a,n,o)}else i.current=null}function _p(a,n,i){try{i()}catch(o){Cs(a,n,o)}}var X4=!1;function bS(a,n){if(wp=jd,a=i8(),$3(a)){if("selectionStart"in a)var i={start:a.selectionStart,end:a.selectionEnd};else e:{i=(i=a.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var f=0,h=-1,p=-1,m=0,x=0,b=a,y=null;t:for(;;){for(var w;b!==i||d!==0&&b.nodeType!==3||(h=f+d),b!==u||o!==0&&b.nodeType!==3||(p=f+o),b.nodeType===3&&(f+=b.nodeValue.length),(w=b.firstChild)!==null;)y=b,b=w;for(;;){if(b===a)break t;if(y===i&&++m===d&&(h=f),y===u&&++x===o&&(p=f),(w=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=w}i=h===-1||p===-1?null:{start:h,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(yp={focusedElem:a,selectionRange:i},jd=!1,Rt=n;Rt!==null;)if(n=Rt,a=n.child,(n.subtreeFlags&1028)!==0&&a!==null)a.return=n,Rt=a;else for(;Rt!==null;){n=Rt;try{var v=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var A=v.memoizedProps,j=v.memoizedState,E=n.stateNode,k=E.getSnapshotBeforeUpdate(n.elementType===n.type?A:Li(n.type,A),j);E.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(B){Cs(n,n.return,B)}if(a=n.sibling,a!==null){a.return=n.return,Rt=a;break}Rt=n.return}return v=X4,X4=!1,v}function A0(a,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var u=d.destroy;d.destroy=void 0,u!==void 0&&_p(n,i,u)}d=d.next}while(d!==o)}}function vu(a,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&a)===a){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function Op(a){var n=a.ref;if(n!==null){var i=a.stateNode;switch(a.tag){case 5:a=i;break;default:a=i}typeof n=="function"?n(a):n.current=a}}function r5(a){var n=a.alternate;n!==null&&(a.alternate=null,r5(n)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(n=a.stateNode,n!==null&&(delete n[u1],delete n[F0],delete n[jp],delete n[tS],delete n[rS])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function a5(a){return a.tag===5||a.tag===3||a.tag===4}function Z4(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||a5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Up(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(a,n):i.insertBefore(a,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(a,i)):(n=i,n.appendChild(a)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ed));else if(o!==4&&(a=a.child,a!==null))for(Up(a,n,i),a=a.sibling;a!==null;)Up(a,n,i),a=a.sibling}function zp(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.insertBefore(a,n):i.appendChild(a);else if(o!==4&&(a=a.child,a!==null))for(zp(a,n,i),a=a.sibling;a!==null;)zp(a,n,i),a=a.sibling}var jn=null,Hi=!1;function q1(a,n,i){for(i=i.child;i!==null;)s5(a,n,i),i=i.sibling}function s5(a,n,i){if(h1&&typeof h1.onCommitFiberUnmount=="function")try{h1.onCommitFiberUnmount(cu,i)}catch{}switch(i.tag){case 5:Pn||Ul(i,n);case 6:var o=jn,d=Hi;jn=null,q1(a,n,i),jn=o,Hi=d,jn!==null&&(Hi?(a=jn,i=i.stateNode,a.nodeType===8?a.parentNode.removeChild(i):a.removeChild(i)):jn.removeChild(i.stateNode));break;case 18:jn!==null&&(Hi?(a=jn,i=i.stateNode,a.nodeType===8?$f(a.parentNode,i):a.nodeType===1&&$f(a,i),B0(a)):$f(jn,i.stateNode));break;case 4:o=jn,d=Hi,jn=i.stateNode.containerInfo,Hi=!0,q1(a,n,i),jn=o,Hi=d;break;case 0:case 11:case 14:case 15:if(!Pn&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var u=d,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&_p(i,n,f),d=d.next}while(d!==o)}q1(a,n,i);break;case 1:if(!Pn&&(Ul(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){Cs(i,n,h)}q1(a,n,i);break;case 21:q1(a,n,i);break;case 22:i.mode&1?(Pn=(o=Pn)||i.memoizedState!==null,q1(a,n,i),Pn=o):q1(a,n,i);break;default:q1(a,n,i)}}function eg(a){var n=a.updateQueue;if(n!==null){a.updateQueue=null;var i=a.stateNode;i===null&&(i=a.stateNode=new gS),n.forEach(function(o){var d=CS.bind(null,a,o);i.has(o)||(i.add(o),o.then(d,d))})}}function Ui(a,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var u=a,f=n,h=f;e:for(;h!==null;){switch(h.tag){case 5:jn=h.stateNode,Hi=!1;break e;case 3:jn=h.stateNode.containerInfo,Hi=!0;break e;case 4:jn=h.stateNode.containerInfo,Hi=!0;break e}h=h.return}if(jn===null)throw Error(ot(160));s5(u,f,d),jn=null,Hi=!1;var p=d.alternate;p!==null&&(p.return=null),d.return=null}catch(m){Cs(d,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)n5(n,a),n=n.sibling}function n5(a,n){var i=a.alternate,o=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ui(n,a),o1(a),o&4){try{A0(3,a,a.return),vu(3,a)}catch(A){Cs(a,a.return,A)}try{A0(5,a,a.return)}catch(A){Cs(a,a.return,A)}}break;case 1:Ui(n,a),o1(a),o&512&&i!==null&&Ul(i,i.return);break;case 5:if(Ui(n,a),o1(a),o&512&&i!==null&&Ul(i,i.return),a.flags&32){var d=a.stateNode;try{S0(d,"")}catch(A){Cs(a,a.return,A)}}if(o&4&&(d=a.stateNode,d!=null)){var u=a.memoizedProps,f=i!==null?i.memoizedProps:u,h=a.type,p=a.updateQueue;if(a.updateQueue=null,p!==null)try{h==="input"&&u.type==="radio"&&u.name!=null&&E6(d,u),dp(h,f);var m=dp(h,u);for(f=0;f<p.length;f+=2){var x=p[f],b=p[f+1];x==="style"?T6(d,b):x==="dangerouslySetInnerHTML"?B6(d,b):x==="children"?S0(d,b):D3(d,x,b,m)}switch(h){case"input":np(d,u);break;case"textarea":C6(d,u);break;case"select":var y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!u.multiple;var w=u.value;w!=null?Ql(d,!!u.multiple,w,!1):y!==!!u.multiple&&(u.defaultValue!=null?Ql(d,!!u.multiple,u.defaultValue,!0):Ql(d,!!u.multiple,u.multiple?[]:"",!1))}d[F0]=u}catch(A){Cs(a,a.return,A)}}break;case 6:if(Ui(n,a),o1(a),o&4){if(a.stateNode===null)throw Error(ot(162));d=a.stateNode,u=a.memoizedProps;try{d.nodeValue=u}catch(A){Cs(a,a.return,A)}}break;case 3:if(Ui(n,a),o1(a),o&4&&i!==null&&i.memoizedState.isDehydrated)try{B0(n.containerInfo)}catch(A){Cs(a,a.return,A)}break;case 4:Ui(n,a),o1(a);break;case 13:Ui(n,a),o1(a),d=a.child,d.flags&8192&&(u=d.memoizedState!==null,d.stateNode.isHidden=u,!u||d.alternate!==null&&d.alternate.memoizedState!==null||(dm=Ps())),o&4&&eg(a);break;case 22:if(x=i!==null&&i.memoizedState!==null,a.mode&1?(Pn=(m=Pn)||x,Ui(n,a),Pn=m):Ui(n,a),o1(a),o&8192){if(m=a.memoizedState!==null,(a.stateNode.isHidden=m)&&!x&&a.mode&1)for(Rt=a,x=a.child;x!==null;){for(b=Rt=x;Rt!==null;){switch(y=Rt,w=y.child,y.tag){case 0:case 11:case 14:case 15:A0(4,y,y.return);break;case 1:Ul(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){o=y,i=y.return;try{n=o,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(A){Cs(o,i,A)}}break;case 5:Ul(y,y.return);break;case 22:if(y.memoizedState!==null){rg(b);continue}}w!==null?(w.return=y,Rt=w):rg(b)}x=x.sibling}e:for(x=null,b=a;;){if(b.tag===5){if(x===null){x=b;try{d=b.stateNode,m?(u=d.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(h=b.stateNode,p=b.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=D6("display",f))}catch(A){Cs(a,a.return,A)}}}else if(b.tag===6){if(x===null)try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(A){Cs(a,a.return,A)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===a)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;x===b&&(x=null),b=b.return}x===b&&(x=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Ui(n,a),o1(a),o&4&&eg(a);break;case 21:break;default:Ui(n,a),o1(a)}}function o1(a){var n=a.flags;if(n&2){try{e:{for(var i=a.return;i!==null;){if(a5(i)){var o=i;break e}i=i.return}throw Error(ot(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(S0(d,""),o.flags&=-33);var u=Z4(a);zp(a,u,d);break;case 3:case 4:var f=o.stateNode.containerInfo,h=Z4(a);Up(a,h,f);break;default:throw Error(ot(161))}}catch(p){Cs(a,a.return,p)}a.flags&=-3}n&4096&&(a.flags&=-4097)}function wS(a,n,i){Rt=a,i5(a)}function i5(a,n,i){for(var o=(a.mode&1)!==0;Rt!==null;){var d=Rt,u=d.child;if(d.tag===22&&o){var f=d.memoizedState!==null||O2;if(!f){var h=d.alternate,p=h!==null&&h.memoizedState!==null||Pn;h=O2;var m=Pn;if(O2=f,(Pn=p)&&!m)for(Rt=d;Rt!==null;)f=Rt,p=f.child,f.tag===22&&f.memoizedState!==null?ag(d):p!==null?(p.return=f,Rt=p):ag(d);for(;u!==null;)Rt=u,i5(u),u=u.sibling;Rt=d,O2=h,Pn=m}tg(a)}else d.subtreeFlags&8772&&u!==null?(u.return=d,Rt=u):tg(a)}}function tg(a){for(;Rt!==null;){var n=Rt;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Pn||vu(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Pn)if(i===null)o.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Li(n.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&U4(n,u,o);break;case 3:var f=n.updateQueue;if(f!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}U4(n,f,i)}break;case 5:var h=n.stateNode;if(i===null&&n.flags&4){i=h;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var b=x.dehydrated;b!==null&&B0(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}Pn||n.flags&512&&Op(n)}catch(y){Cs(n,n.return,y)}}if(n===a){Rt=null;break}if(i=n.sibling,i!==null){i.return=n.return,Rt=i;break}Rt=n.return}}function rg(a){for(;Rt!==null;){var n=Rt;if(n===a){Rt=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Rt=i;break}Rt=n.return}}function ag(a){for(;Rt!==null;){var n=Rt;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{vu(4,n)}catch(p){Cs(n,i,p)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var d=n.return;try{o.componentDidMount()}catch(p){Cs(n,d,p)}}var u=n.return;try{Op(n)}catch(p){Cs(n,u,p)}break;case 5:var f=n.return;try{Op(n)}catch(p){Cs(n,f,p)}}}catch(p){Cs(n,n.return,p)}if(n===a){Rt=null;break}var h=n.sibling;if(h!==null){h.return=n.return,Rt=h;break}Rt=n.return}}var yS=Math.ceil,Od=_1.ReactCurrentDispatcher,lm=_1.ReactCurrentOwner,Ci=_1.ReactCurrentBatchConfig,oa=0,pn=null,Vs=null,Sn=0,vi=0,zl=bo(0),Zs=0,L0=null,nl=0,gu=0,cm=0,k0=null,ti=null,dm=0,sc=1/0,N1=null,Ud=!1,Lp=null,oo=null,U2=!1,eo=null,zd=0,j0=0,Qp=null,ld=-1,cd=0;function Kn(){return oa&6?Ps():ld!==-1?ld:ld=Ps()}function lo(a){return a.mode&1?oa&2&&Sn!==0?Sn&-Sn:sS.transition!==null?(cd===0&&(cd=$6()),cd):(a=Sa,a!==0||(a=window.event,a=a===void 0?16:J6(a.type)),a):1}function Yi(a,n,i,o){if(50<j0)throw j0=0,Qp=null,Error(ot(185));J0(a,i,o),(!(oa&2)||a!==pn)&&(a===pn&&(!(oa&2)&&(gu|=i),Zs===4&&K1(a,Sn)),oi(a,o),i===1&&oa===0&&!(n.mode&1)&&(sc=Ps()+500,pu&&wo()))}function oi(a,n){var i=a.callbackNode;sN(a,n);var o=kd(a,a===pn?Sn:0);if(o===0)i!==null&&f4(i),a.callbackNode=null,a.callbackPriority=0;else if(n=o&-o,a.callbackPriority!==n){if(i!=null&&f4(i),n===1)a.tag===0?aS(sg.bind(null,a)):x8(sg.bind(null,a)),ZN(function(){!(oa&6)&&wo()}),i=null;else{switch(q6(o)){case 1:i=P3;break;case 4:i=Q6;break;case 16:i=Ad;break;case 536870912:i=H6;break;default:i=Ad}i=p5(i,o5.bind(null,a))}a.callbackPriority=n,a.callbackNode=i}}function o5(a,n){if(ld=-1,cd=0,oa&6)throw Error(ot(327));var i=a.callbackNode;if(Yl()&&a.callbackNode!==i)return null;var o=kd(a,a===pn?Sn:0);if(o===0)return null;if(o&30||o&a.expiredLanes||n)n=Ld(a,o);else{n=o;var d=oa;oa|=2;var u=c5();(pn!==a||Sn!==n)&&(N1=null,sc=Ps()+500,Jo(a,n));do try{jS();break}catch(h){l5(a,h)}while(!0);K3(),Od.current=u,oa=d,Vs!==null?n=0:(pn=null,Sn=0,n=Zs)}if(n!==0){if(n===2&&(d=mp(a),d!==0&&(o=d,n=Hp(a,d))),n===1)throw i=L0,Jo(a,0),K1(a,o),oi(a,Ps()),i;if(n===6)K1(a,o);else{if(d=a.current.alternate,!(o&30)&&!AS(d)&&(n=Ld(a,o),n===2&&(u=mp(a),u!==0&&(o=u,n=Hp(a,u))),n===1))throw i=L0,Jo(a,0),K1(a,o),oi(a,Ps()),i;switch(a.finishedWork=d,a.finishedLanes=o,n){case 0:case 1:throw Error(ot(345));case 2:Oo(a,ti,N1);break;case 3:if(K1(a,o),(o&130023424)===o&&(n=dm+500-Ps(),10<n)){if(kd(a,0)!==0)break;if(d=a.suspendedLanes,(d&o)!==o){Kn(),a.pingedLanes|=a.suspendedLanes&d;break}a.timeoutHandle=kp(Oo.bind(null,a,ti,N1),n);break}Oo(a,ti,N1);break;case 4:if(K1(a,o),(o&4194240)===o)break;for(n=a.eventTimes,d=-1;0<o;){var f=31-Gi(o);u=1<<f,f=n[f],f>d&&(d=f),o&=~u}if(o=d,o=Ps()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*yS(o/1960))-o,10<o){a.timeoutHandle=kp(Oo.bind(null,a,ti,N1),o);break}Oo(a,ti,N1);break;case 5:Oo(a,ti,N1);break;default:throw Error(ot(329))}}}return oi(a,Ps()),a.callbackNode===i?o5.bind(null,a):null}function Hp(a,n){var i=k0;return a.current.memoizedState.isDehydrated&&(Jo(a,n).flags|=256),a=Ld(a,n),a!==2&&(n=ti,ti=i,n!==null&&$p(n)),a}function $p(a){ti===null?ti=a:ti.push.apply(ti,a)}function AS(a){for(var n=a;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],u=d.getSnapshot;d=d.value;try{if(!Vi(u(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function K1(a,n){for(n&=~cm,n&=~gu,a.suspendedLanes|=n,a.pingedLanes&=~n,a=a.expirationTimes;0<n;){var i=31-Gi(n),o=1<<i;a[i]=-1,n&=~o}}function sg(a){if(oa&6)throw Error(ot(327));Yl();var n=kd(a,0);if(!(n&1))return oi(a,Ps()),null;var i=Ld(a,n);if(a.tag!==0&&i===2){var o=mp(a);o!==0&&(n=o,i=Hp(a,o))}if(i===1)throw i=L0,Jo(a,0),K1(a,n),oi(a,Ps()),i;if(i===6)throw Error(ot(345));return a.finishedWork=a.current.alternate,a.finishedLanes=n,Oo(a,ti,N1),oi(a,Ps()),null}function um(a,n){var i=oa;oa|=1;try{return a(n)}finally{oa=i,oa===0&&(sc=Ps()+500,pu&&wo())}}function il(a){eo!==null&&eo.tag===0&&!(oa&6)&&Yl();var n=oa;oa|=1;var i=Ci.transition,o=Sa;try{if(Ci.transition=null,Sa=1,a)return a()}finally{Sa=o,Ci.transition=i,oa=n,!(oa&6)&&wo()}}function fm(){vi=zl.current,ss(zl)}function Jo(a,n){a.finishedWork=null,a.finishedLanes=0;var i=a.timeoutHandle;if(i!==-1&&(a.timeoutHandle=-1,XN(i)),Vs!==null)for(i=Vs.return;i!==null;){var o=i;switch(G3(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Cd();break;case 3:rc(),ss(ni),ss(Un),tm();break;case 5:em(o);break;case 4:rc();break;case 13:ss(ks);break;case 19:ss(ks);break;case 10:W3(o.type._context);break;case 22:case 23:fm()}i=i.return}if(pn=a,Vs=a=co(a.current,null),Sn=vi=n,Zs=0,L0=null,cm=gu=nl=0,ti=k0=null,qo!==null){for(n=0;n<qo.length;n++)if(i=qo[n],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,u=i.pending;if(u!==null){var f=u.next;u.next=d,o.next=f}i.pending=o}qo=null}return a}function l5(a,n){do{var i=Vs;try{if(K3(),nd.current=_d,Pd){for(var o=js.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Pd=!1}if(sl=0,fn=Xs=js=null,y0=!1,O0=0,lm.current=null,i===null||i.return===null){Zs=1,L0=n,Vs=null;break}e:{var u=a,f=i.return,h=i,p=n;if(n=Sn,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,x=h,b=x.tag;if(!(x.mode&1)&&(b===0||b===11||b===15)){var y=x.alternate;y?(x.updateQueue=y.updateQueue,x.memoizedState=y.memoizedState,x.lanes=y.lanes):(x.updateQueue=null,x.memoizedState=null)}var w=q4(f);if(w!==null){w.flags&=-257,G4(w,f,h,u,n),w.mode&1&&$4(u,m,n),n=w,p=m;var v=n.updateQueue;if(v===null){var A=new Set;A.add(p),n.updateQueue=A}else v.add(p);break e}else{if(!(n&1)){$4(u,m,n),hm();break e}p=Error(ot(426))}}else if(us&&h.mode&1){var j=q4(f);if(j!==null){!(j.flags&65536)&&(j.flags|=256),G4(j,f,h,u,n),Y3(ac(p,h));break e}}u=p=ac(p,h),Zs!==4&&(Zs=2),k0===null?k0=[u]:k0.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var E=q8(u,p,n);O4(u,E);break e;case 1:h=p;var k=u.type,N=u.stateNode;if(!(u.flags&128)&&(typeof k.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(oo===null||!oo.has(N)))){u.flags|=65536,n&=-n,u.lanes|=n;var B=G8(u,h,n);O4(u,B);break e}}u=u.return}while(u!==null)}u5(i)}catch(I){n=I,Vs===i&&i!==null&&(Vs=i=i.return);continue}break}while(!0)}function c5(){var a=Od.current;return Od.current=_d,a===null?_d:a}function hm(){(Zs===0||Zs===3||Zs===2)&&(Zs=4),pn===null||!(nl&268435455)&&!(gu&268435455)||K1(pn,Sn)}function Ld(a,n){var i=oa;oa|=2;var o=c5();(pn!==a||Sn!==n)&&(N1=null,Jo(a,n));do try{kS();break}catch(d){l5(a,d)}while(!0);if(K3(),oa=i,Od.current=o,Vs!==null)throw Error(ot(261));return pn=null,Sn=0,Zs}function kS(){for(;Vs!==null;)d5(Vs)}function jS(){for(;Vs!==null&&!Kj();)d5(Vs)}function d5(a){var n=h5(a.alternate,a,vi);a.memoizedProps=a.pendingProps,n===null?u5(a):Vs=n,lm.current=null}function u5(a){var n=a;do{var i=n.alternate;if(a=n.return,n.flags&32768){if(i=vS(i,n),i!==null){i.flags&=32767,Vs=i;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Zs=6,Vs=null;return}}else if(i=xS(i,n,vi),i!==null){Vs=i;return}if(n=n.sibling,n!==null){Vs=n;return}Vs=n=a}while(n!==null);Zs===0&&(Zs=5)}function Oo(a,n,i){var o=Sa,d=Ci.transition;try{Ci.transition=null,Sa=1,NS(a,n,i,o)}finally{Ci.transition=d,Sa=o}return null}function NS(a,n,i,o){do Yl();while(eo!==null);if(oa&6)throw Error(ot(327));i=a.finishedWork;var d=a.finishedLanes;if(i===null)return null;if(a.finishedWork=null,a.finishedLanes=0,i===a.current)throw Error(ot(177));a.callbackNode=null,a.callbackPriority=0;var u=i.lanes|i.childLanes;if(nN(a,u),a===pn&&(Vs=pn=null,Sn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||U2||(U2=!0,p5(Ad,function(){return Yl(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=Ci.transition,Ci.transition=null;var f=Sa;Sa=1;var h=oa;oa|=4,lm.current=null,bS(a,i),n5(i,a),qN(yp),jd=!!wp,yp=wp=null,a.current=i,wS(i),Wj(),oa=h,Sa=f,Ci.transition=u}else a.current=i;if(U2&&(U2=!1,eo=a,zd=d),u=a.pendingLanes,u===0&&(oo=null),Zj(i.stateNode),oi(a,Ps()),n!==null)for(o=a.onRecoverableError,i=0;i<n.length;i++)d=n[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(Ud)throw Ud=!1,a=Lp,Lp=null,a;return zd&1&&a.tag!==0&&Yl(),u=a.pendingLanes,u&1?a===Qp?j0++:(j0=0,Qp=a):j0=0,wo(),null}function Yl(){if(eo!==null){var a=q6(zd),n=Ci.transition,i=Sa;try{if(Ci.transition=null,Sa=16>a?16:a,eo===null)var o=!1;else{if(a=eo,eo=null,zd=0,oa&6)throw Error(ot(331));var d=oa;for(oa|=4,Rt=a.current;Rt!==null;){var u=Rt,f=u.child;if(Rt.flags&16){var h=u.deletions;if(h!==null){for(var p=0;p<h.length;p++){var m=h[p];for(Rt=m;Rt!==null;){var x=Rt;switch(x.tag){case 0:case 11:case 15:A0(8,x,u)}var b=x.child;if(b!==null)b.return=x,Rt=b;else for(;Rt!==null;){x=Rt;var y=x.sibling,w=x.return;if(r5(x),x===m){Rt=null;break}if(y!==null){y.return=w,Rt=y;break}Rt=w}}}var v=u.alternate;if(v!==null){var A=v.child;if(A!==null){v.child=null;do{var j=A.sibling;A.sibling=null,A=j}while(A!==null)}}Rt=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,Rt=f;else e:for(;Rt!==null;){if(u=Rt,u.flags&2048)switch(u.tag){case 0:case 11:case 15:A0(9,u,u.return)}var E=u.sibling;if(E!==null){E.return=u.return,Rt=E;break e}Rt=u.return}}var k=a.current;for(Rt=k;Rt!==null;){f=Rt;var N=f.child;if(f.subtreeFlags&2064&&N!==null)N.return=f,Rt=N;else e:for(f=k;Rt!==null;){if(h=Rt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:vu(9,h)}}catch(I){Cs(h,h.return,I)}if(h===f){Rt=null;break e}var B=h.sibling;if(B!==null){B.return=h.return,Rt=B;break e}Rt=h.return}}if(oa=d,wo(),h1&&typeof h1.onPostCommitFiberRoot=="function")try{h1.onPostCommitFiberRoot(cu,a)}catch{}o=!0}return o}finally{Sa=i,Ci.transition=n}}return!1}function ng(a,n,i){n=ac(i,n),n=q8(a,n,1),a=io(a,n,1),n=Kn(),a!==null&&(J0(a,1,n),oi(a,n))}function Cs(a,n,i){if(a.tag===3)ng(a,a,i);else for(;n!==null;){if(n.tag===3){ng(n,a,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(oo===null||!oo.has(o))){a=ac(i,a),a=G8(n,a,1),n=io(n,a,1),a=Kn(),n!==null&&(J0(n,1,a),oi(n,a));break}}n=n.return}}function SS(a,n,i){var o=a.pingCache;o!==null&&o.delete(n),n=Kn(),a.pingedLanes|=a.suspendedLanes&i,pn===a&&(Sn&i)===i&&(Zs===4||Zs===3&&(Sn&130023424)===Sn&&500>Ps()-dm?Jo(a,0):cm|=i),oi(a,n)}function f5(a,n){n===0&&(a.mode&1?(n=I2,I2<<=1,!(I2&130023424)&&(I2=4194304)):n=1);var i=Kn();a=M1(a,n),a!==null&&(J0(a,n,i),oi(a,i))}function ES(a){var n=a.memoizedState,i=0;n!==null&&(i=n.retryLane),f5(a,i)}function CS(a,n){var i=0;switch(a.tag){case 13:var o=a.stateNode,d=a.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=a.stateNode;break;default:throw Error(ot(314))}o!==null&&o.delete(n),f5(a,i)}var h5;h5=function(a,n,i){if(a!==null)if(a.memoizedProps!==n.pendingProps||ni.current)si=!0;else{if(!(a.lanes&i)&&!(n.flags&128))return si=!1,mS(a,n,i);si=!!(a.flags&131072)}else si=!1,us&&n.flags&1048576&&v8(n,Dd,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;od(a,n),a=n.pendingProps;var d=Zl(n,Un.current);Gl(n,i),d=am(null,n,o,a,d,i);var u=sm();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ii(o)?(u=!0,Id(n)):u=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,X3(n),d.updater=xu,n.stateNode=d,d._reactInternals=n,Bp(n,o,a,i),n=Rp(null,n,o,!0,u,i)):(n.tag=0,us&&u&&q3(n),Yn(null,n,d,i),n=n.child),n;case 16:o=n.elementType;e:{switch(od(a,n),a=n.pendingProps,d=o._init,o=d(o._payload),n.type=o,d=n.tag=BS(o),a=Li(o,a),d){case 0:n=Tp(null,n,o,a,i);break e;case 1:n=K4(null,n,o,a,i);break e;case 11:n=Y4(null,n,o,a,i);break e;case 14:n=V4(null,n,o,Li(o.type,a),i);break e}throw Error(ot(306,o,""))}return n;case 0:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),Tp(a,n,o,d,i);case 1:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),K4(a,n,o,d,i);case 3:e:{if(W8(n),a===null)throw Error(ot(387));o=n.pendingProps,u=n.memoizedState,d=u.element,k8(a,n),Md(n,o,null,i);var f=n.memoizedState;if(o=f.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){d=ac(Error(ot(423)),n),n=W4(a,n,o,i,d);break e}else if(o!==d){d=ac(Error(ot(424)),n),n=W4(a,n,o,i,d);break e}else for(bi=no(n.stateNode.containerInfo.firstChild),wi=n,us=!0,qi=null,i=y8(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ec(),o===d){n=F1(a,n,i);break e}Yn(a,n,o,i)}n=n.child}return n;case 5:return j8(n),a===null&&Ep(n),o=n.type,d=n.pendingProps,u=a!==null?a.memoizedProps:null,f=d.children,Ap(o,d)?f=null:u!==null&&Ap(o,u)&&(n.flags|=32),K8(a,n),Yn(a,n,f,i),n.child;case 6:return a===null&&Ep(n),null;case 13:return J8(a,n,i);case 4:return Z3(n,n.stateNode.containerInfo),o=n.pendingProps,a===null?n.child=tc(n,null,o,i):Yn(a,n,o,i),n.child;case 11:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),Y4(a,n,o,d,i);case 7:return Yn(a,n,n.pendingProps,i),n.child;case 8:return Yn(a,n,n.pendingProps.children,i),n.child;case 12:return Yn(a,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,d=n.pendingProps,u=n.memoizedProps,f=d.value,Ya(Td,o._currentValue),o._currentValue=f,u!==null)if(Vi(u.value,f)){if(u.children===d.children&&!ni.current){n=F1(a,n,i);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var h=u.dependencies;if(h!==null){f=u.child;for(var p=h.firstContext;p!==null;){if(p.context===o){if(u.tag===1){p=B1(-1,i&-i),p.tag=2;var m=u.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?p.next=p:(p.next=x.next,x.next=p),m.pending=p}}u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),Cp(u.return,i,n),h.lanes|=i;break}p=p.next}}else if(u.tag===10)f=u.type===n.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(ot(341));f.lanes|=i,h=f.alternate,h!==null&&(h.lanes|=i),Cp(f,i,n),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===n){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}Yn(a,n,d.children,i),n=n.child}return n;case 9:return d=n.type,o=n.pendingProps.children,Gl(n,i),d=Ii(d),o=o(d),n.flags|=1,Yn(a,n,o,i),n.child;case 14:return o=n.type,d=Li(o,n.pendingProps),d=Li(o.type,d),V4(a,n,o,d,i);case 15:return Y8(a,n,n.type,n.pendingProps,i);case 17:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),od(a,n),n.tag=1,ii(o)?(a=!0,Id(n)):a=!1,Gl(n,i),$8(n,o,d),Bp(n,o,d,i),Rp(null,n,o,!0,a,i);case 19:return X8(a,n,i);case 22:return V8(a,n,i)}throw Error(ot(156,n.tag))};function p5(a,n){return L6(a,n)}function IS(a,n,i,o){this.tag=a,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(a,n,i,o){return new IS(a,n,i,o)}function pm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function BS(a){if(typeof a=="function")return pm(a)?1:0;if(a!=null){if(a=a.$$typeof,a===R3)return 11;if(a===M3)return 14}return 2}function co(a,n){var i=a.alternate;return i===null?(i=Ei(a.tag,n,a.key,a.mode),i.elementType=a.elementType,i.type=a.type,i.stateNode=a.stateNode,i.alternate=a,a.alternate=i):(i.pendingProps=n,i.type=a.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=a.flags&14680064,i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=a.sibling,i.index=a.index,i.ref=a.ref,i}function dd(a,n,i,o,d,u){var f=2;if(o=a,typeof a=="function")pm(a)&&(f=1);else if(typeof a=="string")f=5;else e:switch(a){case Bl:return Xo(i.children,d,u,n);case T3:f=8,d|=8;break;case ep:return a=Ei(12,i,n,d|2),a.elementType=ep,a.lanes=u,a;case tp:return a=Ei(13,i,n,d),a.elementType=tp,a.lanes=u,a;case rp:return a=Ei(19,i,n,d),a.elementType=rp,a.lanes=u,a;case j6:return bu(i,d,u,n);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A6:f=10;break e;case k6:f=9;break e;case R3:f=11;break e;case M3:f=14;break e;case G1:f=16,o=null;break e}throw Error(ot(130,a==null?a:typeof a,""))}return n=Ei(f,i,n,d),n.elementType=a,n.type=o,n.lanes=u,n}function Xo(a,n,i,o){return a=Ei(7,a,o,n),a.lanes=i,a}function bu(a,n,i,o){return a=Ei(22,a,o,n),a.elementType=j6,a.lanes=i,a.stateNode={isHidden:!1},a}function Xf(a,n,i){return a=Ei(6,a,null,n),a.lanes=i,a}function Zf(a,n,i){return n=Ei(4,a.children!==null?a.children:[],a.key,n),n.lanes=i,n.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},n}function DS(a,n,i,o,d){this.tag=n,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function mm(a,n,i,o,d,u,f,h,p){return a=new DS(a,n,i,h,p),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Ei(3,null,null,n),a.current=u,u.stateNode=a,u.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},X3(u),a}function TS(a,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:o==null?null:""+o,children:a,containerInfo:n,implementation:i}}function m5(a){if(!a)return po;a=a._reactInternals;e:{if(cl(a)!==a||a.tag!==1)throw Error(ot(170));var n=a;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ii(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ot(171))}if(a.tag===1){var i=a.type;if(ii(i))return m8(a,i,n)}return n}function x5(a,n,i,o,d,u,f,h,p){return a=mm(i,o,!0,a,d,u,f,h,p),a.context=m5(null),i=a.current,o=Kn(),d=lo(i),u=B1(o,d),u.callback=n??null,io(i,u,d),a.current.lanes=d,J0(a,d,o),oi(a,o),a}function wu(a,n,i,o){var d=n.current,u=Kn(),f=lo(d);return i=m5(i),n.context===null?n.context=i:n.pendingContext=i,n=B1(u,f),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=io(d,n,f),a!==null&&(Yi(a,d,f,u),sd(a,d,f)),f}function Qd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ig(a,n){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var i=a.retryLane;a.retryLane=i!==0&&i<n?i:n}}function xm(a,n){ig(a,n),(a=a.alternate)&&ig(a,n)}function RS(){return null}var v5=typeof reportError=="function"?reportError:function(a){console.error(a)};function vm(a){this._internalRoot=a}yu.prototype.render=vm.prototype.render=function(a){var n=this._internalRoot;if(n===null)throw Error(ot(409));wu(a,n,null,null)};yu.prototype.unmount=vm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var n=a.containerInfo;il(function(){wu(null,a,null,null)}),n[R1]=null}};function yu(a){this._internalRoot=a}yu.prototype.unstable_scheduleHydration=function(a){if(a){var n=V6();a={blockedOn:null,target:a,priority:n};for(var i=0;i<V1.length&&n!==0&&n<V1[i].priority;i++);V1.splice(i,0,a),i===0&&W6(a)}};function gm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Au(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function og(){}function MS(a,n,i,o,d){if(d){if(typeof o=="function"){var u=o;o=function(){var m=Qd(f);u.call(m)}}var f=x5(n,o,a,0,null,!1,!1,"",og);return a._reactRootContainer=f,a[R1]=f.current,R0(a.nodeType===8?a.parentNode:a),il(),f}for(;d=a.lastChild;)a.removeChild(d);if(typeof o=="function"){var h=o;o=function(){var m=Qd(p);h.call(m)}}var p=mm(a,0,!1,null,null,!1,!1,"",og);return a._reactRootContainer=p,a[R1]=p.current,R0(a.nodeType===8?a.parentNode:a),il(function(){wu(n,p,i,o)}),p}function ku(a,n,i,o,d){var u=i._reactRootContainer;if(u){var f=u;if(typeof d=="function"){var h=d;d=function(){var p=Qd(f);h.call(p)}}wu(n,f,a,d)}else f=MS(i,n,a,d,o);return Qd(f)}G6=function(a){switch(a.tag){case 3:var n=a.stateNode;if(n.current.memoizedState.isDehydrated){var i=d0(n.pendingLanes);i!==0&&(_3(n,i|1),oi(n,Ps()),!(oa&6)&&(sc=Ps()+500,wo()))}break;case 13:il(function(){var o=M1(a,1);if(o!==null){var d=Kn();Yi(o,a,1,d)}}),xm(a,1)}};O3=function(a){if(a.tag===13){var n=M1(a,134217728);if(n!==null){var i=Kn();Yi(n,a,134217728,i)}xm(a,134217728)}};Y6=function(a){if(a.tag===13){var n=lo(a),i=M1(a,n);if(i!==null){var o=Kn();Yi(i,a,n,o)}xm(a,n)}};V6=function(){return Sa};K6=function(a,n){var i=Sa;try{return Sa=a,n()}finally{Sa=i}};fp=function(a,n,i){switch(n){case"input":if(np(a,i),n=i.name,i.type==="radio"&&n!=null){for(i=a;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==a&&o.form===a.form){var d=hu(o);if(!d)throw Error(ot(90));S6(o),np(o,d)}}}break;case"textarea":C6(a,i);break;case"select":n=i.value,n!=null&&Ql(a,!!i.multiple,n,!1)}};F6=um;P6=il;var FS={usingClientEntryPoint:!1,Events:[Z0,Ml,hu,R6,M6,um]},n0={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PS={bundleType:n0.bundleType,version:n0.version,rendererPackageName:n0.rendererPackageName,rendererConfig:n0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_1.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=U6(a),a===null?null:a.stateNode},findFiberByHostInstance:n0.findFiberByHostInstance||RS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z2.isDisabled&&z2.supportsFiber)try{cu=z2.inject(PS),h1=z2}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FS;Ai.createPortal=function(a,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(n))throw Error(ot(200));return TS(a,n,null,i)};Ai.createRoot=function(a,n){if(!gm(a))throw Error(ot(299));var i=!1,o="",d=v5;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=mm(a,1,!1,null,null,i,!1,o,d),a[R1]=n.current,R0(a.nodeType===8?a.parentNode:a),new vm(n)};Ai.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var n=a._reactInternals;if(n===void 0)throw typeof a.render=="function"?Error(ot(188)):(a=Object.keys(a).join(","),Error(ot(268,a)));return a=U6(n),a=a===null?null:a.stateNode,a};Ai.flushSync=function(a){return il(a)};Ai.hydrate=function(a,n,i){if(!Au(n))throw Error(ot(200));return ku(null,a,n,!0,i)};Ai.hydrateRoot=function(a,n,i){if(!gm(a))throw Error(ot(405));var o=i!=null&&i.hydratedSources||null,d=!1,u="",f=v5;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),n=x5(n,null,a,1,i??null,d,!1,u,f),a[R1]=n.current,R0(a),o)for(a=0;a<o.length;a++)i=o[a],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new yu(n)};Ai.render=function(a,n,i){if(!Au(n))throw Error(ot(200));return ku(null,a,n,!1,i)};Ai.unmountComponentAtNode=function(a){if(!Au(a))throw Error(ot(40));return a._reactRootContainer?(il(function(){ku(null,null,a,!1,function(){a._reactRootContainer=null,a[R1]=null})}),!0):!1};Ai.unstable_batchedUpdates=um;Ai.unstable_renderSubtreeIntoContainer=function(a,n,i,o){if(!Au(i))throw Error(ot(200));if(a==null||a._reactInternals===void 0)throw Error(ot(38));return ku(a,n,i,!1,o)};Ai.version="18.3.1-next-f1338f8080-20240426";function g5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g5)}catch(a){console.error(a)}}g5(),g6.exports=Ai;var _S=g6.exports,lg=_S;Xh.createRoot=lg.createRoot,Xh.hydrateRoot=lg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q0(){return Q0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},Q0.apply(this,arguments)}var to;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(to||(to={}));const cg="popstate";function OS(a){a===void 0&&(a={});function n(o,d){let{pathname:u,search:f,hash:h}=o.location;return qp("",{pathname:u,search:f,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:Hd(d)}return zS(n,i,null,a)}function _s(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function bm(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function US(){return Math.random().toString(36).substr(2,8)}function dg(a,n){return{usr:a.state,key:a.key,idx:n}}function qp(a,n,i,o){return i===void 0&&(i=null),Q0({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?xc(n):n,{state:i,key:n&&n.key||o||US()})}function Hd(a){let{pathname:n="/",search:i="",hash:o=""}=a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function xc(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substr(i),a=a.substr(0,i));let o=a.indexOf("?");o>=0&&(n.search=a.substr(o),a=a.substr(0,o)),a&&(n.pathname=a)}return n}function zS(a,n,i,o){o===void 0&&(o={});let{window:d=document.defaultView,v5Compat:u=!1}=o,f=d.history,h=to.Pop,p=null,m=x();m==null&&(m=0,f.replaceState(Q0({},f.state,{idx:m}),""));function x(){return(f.state||{idx:null}).idx}function b(){h=to.Pop;let j=x(),E=j==null?null:j-m;m=j,p&&p({action:h,location:A.location,delta:E})}function y(j,E){h=to.Push;let k=qp(A.location,j,E);m=x()+1;let N=dg(k,m),B=A.createHref(k);try{f.pushState(N,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;d.location.assign(B)}u&&p&&p({action:h,location:A.location,delta:1})}function w(j,E){h=to.Replace;let k=qp(A.location,j,E);m=x();let N=dg(k,m),B=A.createHref(k);f.replaceState(N,"",B),u&&p&&p({action:h,location:A.location,delta:0})}function v(j){let E=d.location.origin!=="null"?d.location.origin:d.location.href,k=typeof j=="string"?j:Hd(j);return k=k.replace(/ $/,"%20"),_s(E,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,E)}let A={get action(){return h},get location(){return a(d,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(cg,b),p=j,()=>{d.removeEventListener(cg,b),p=null}},createHref(j){return n(d,j)},createURL:v,encodeLocation(j){let E=v(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(j){return f.go(j)}};return A}var ug;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ug||(ug={}));function LS(a,n,i){return i===void 0&&(i="/"),QS(a,n,i)}function QS(a,n,i,o){let d=typeof n=="string"?xc(n):n,u=wm(d.pathname||"/",i);if(u==null)return null;let f=b5(a);HS(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=tE(u);h=XS(f[p],m)}return h}function b5(a,n,i,o){n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o="");let d=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(_s(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let m=uo([o,p.relativePath]),x=i.concat(p);u.children&&u.children.length>0&&(_s(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),b5(u.children,n,x,m)),!(u.path==null&&!u.index)&&n.push({path:m,score:WS(m,u.index),routesMeta:x})};return a.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))d(u,f);else for(let p of w5(u.path))d(u,f,p)}),n}function w5(a){let n=a.split("/");if(n.length===0)return[];let[i,...o]=n,d=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return d?[u,""]:[u];let f=w5(o.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),d&&h.push(...f),h.map(p=>a.startsWith("/")&&p===""?"/":p)}function HS(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:JS(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const $S=/^:[\w-]+$/,qS=3,GS=2,YS=1,VS=10,KS=-2,fg=a=>a==="*";function WS(a,n){let i=a.split("/"),o=i.length;return i.some(fg)&&(o+=KS),n&&(o+=GS),i.filter(d=>!fg(d)).reduce((d,u)=>d+($S.test(u)?qS:u===""?YS:VS),o)}function JS(a,n){return a.length===n.length&&a.slice(0,-1).every((o,d)=>o===n[d])?a[a.length-1]-n[n.length-1]:0}function XS(a,n,i){let{routesMeta:o}=a,d={},u="/",f=[];for(let h=0;h<o.length;++h){let p=o[h],m=h===o.length-1,x=u==="/"?n:n.slice(u.length)||"/",b=ZS({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),y=p.route;if(!b)return null;Object.assign(d,b.params),f.push({params:d,pathname:uo([u,b.pathname]),pathnameBase:iE(uo([u,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(u=uo([u,b.pathnameBase]))}return f}function ZS(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,o]=eE(a.path,a.caseSensitive,a.end),d=n.match(i);if(!d)return null;let u=d[0],f=u.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:o.reduce((m,x,b)=>{let{paramName:y,isOptional:w}=x;if(y==="*"){let A=h[b]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const v=h[b];return w&&!v?m[y]=void 0:m[y]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:a}}function eE(a,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),bm(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],d="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),d+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":a!==""&&a!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),o]}function tE(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return bm(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function wm(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=a.charAt(i);return o&&o!=="/"?null:a.slice(i)||"/"}const rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aE=a=>rE.test(a);function sE(a,n){n===void 0&&(n="/");let{pathname:i,search:o="",hash:d=""}=typeof a=="string"?xc(a):a,u;if(i)if(aE(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),bm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+i))}i.startsWith("/")?u=hg(i.substring(1),"/"):u=hg(i,n)}else u=n;return{pathname:u,search:oE(o),hash:lE(d)}}function hg(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function eh(a,n,i,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nE(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function ym(a,n){let i=nE(a);return n?i.map((o,d)=>d===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function Am(a,n,i,o){o===void 0&&(o=!1);let d;typeof a=="string"?d=xc(a):(d=Q0({},a),_s(!d.pathname||!d.pathname.includes("?"),eh("?","pathname","search",d)),_s(!d.pathname||!d.pathname.includes("#"),eh("#","pathname","hash",d)),_s(!d.search||!d.search.includes("#"),eh("#","search","hash",d)));let u=a===""||d.pathname==="",f=u?"/":d.pathname,h;if(f==null)h=i;else{let b=n.length-1;if(!o&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),b-=1;d.pathname=y.join("/")}h=b>=0?n[b]:"/"}let p=sE(d,h),m=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}const uo=a=>a.join("/").replace(/\/\/+/g,"/"),iE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),oE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,lE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function cE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const y5=["post","put","patch","delete"];new Set(y5);const dE=["get",...y5];new Set(dE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H0(){return H0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},H0.apply(this,arguments)}const km=ie.createContext(null),uE=ie.createContext(null),yo=ie.createContext(null),ju=ie.createContext(null),Ao=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),A5=ie.createContext(null);function fE(a,n){let{relative:i}=n===void 0?{}:n;vc()||_s(!1);let{basename:o,navigator:d}=ie.useContext(yo),{hash:u,pathname:f,search:h}=j5(a,{relative:i}),p=f;return o!=="/"&&(p=f==="/"?o:uo([o,f])),d.createHref({pathname:p,search:h,hash:u})}function vc(){return ie.useContext(ju)!=null}function dl(){return vc()||_s(!1),ie.useContext(ju).location}function k5(a){ie.useContext(yo).static||ie.useLayoutEffect(a)}function ko(){let{isDataRoute:a}=ie.useContext(Ao);return a?NE():hE()}function hE(){vc()||_s(!1);let a=ie.useContext(km),{basename:n,future:i,navigator:o}=ie.useContext(yo),{matches:d}=ie.useContext(Ao),{pathname:u}=dl(),f=JSON.stringify(ym(d,i.v7_relativeSplatPath)),h=ie.useRef(!1);return k5(()=>{h.current=!0}),ie.useCallback(function(m,x){if(x===void 0&&(x={}),!h.current)return;if(typeof m=="number"){o.go(m);return}let b=Am(m,JSON.parse(f),u,x.relative==="path");a==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:uo([n,b.pathname])),(x.replace?o.replace:o.push)(b,x.state,x)},[n,o,f,u,a])}function j5(a,n){let{relative:i}=n===void 0?{}:n,{future:o}=ie.useContext(yo),{matches:d}=ie.useContext(Ao),{pathname:u}=dl(),f=JSON.stringify(ym(d,o.v7_relativeSplatPath));return ie.useMemo(()=>Am(a,JSON.parse(f),u,i==="path"),[a,f,u,i])}function pE(a,n){return mE(a,n)}function mE(a,n,i,o){vc()||_s(!1);let{navigator:d}=ie.useContext(yo),{matches:u}=ie.useContext(Ao),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=dl(),x;if(n){var b;let j=typeof n=="string"?xc(n):n;p==="/"||(b=j.pathname)!=null&&b.startsWith(p)||_s(!1),x=j}else x=m;let y=x.pathname||"/",w=y;if(p!=="/"){let j=p.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=LS(a,{pathname:w}),A=wE(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:uo([p,d.encodeLocation?d.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:uo([p,d.encodeLocation?d.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,i,o);return n&&A?ie.createElement(ju.Provider,{value:{location:H0({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:to.Pop}},A):A}function xE(){let a=jE(),n=cE(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},n),i?ie.createElement("pre",{style:d},i):null,null)}const vE=ie.createElement(xE,null);class gE extends ie.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?ie.createElement(Ao.Provider,{value:this.props.routeContext},ie.createElement(A5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bE(a){let{routeContext:n,match:i,children:o}=a,d=ie.useContext(km);return d&&d.static&&d.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=i.route.id),ie.createElement(Ao.Provider,{value:n},o)}function wE(a,n,i,o){var d;if(n===void 0&&(n=[]),i===void 0&&(i=null),o===void 0&&(o=null),a==null){var u;if(!i)return null;if(i.errors)a=i.matches;else if((u=o)!=null&&u.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let f=a,h=(d=i)==null?void 0:d.errors;if(h!=null){let x=f.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);x>=0||_s(!1),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,m=-1;if(i&&o&&o.v7_partialHydration)for(let x=0;x<f.length;x++){let b=f[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:y,errors:w}=i,v=b.route.loader&&y[b.route.id]===void 0&&(!w||w[b.route.id]===void 0);if(b.route.lazy||v){p=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((x,b,y)=>{let w,v=!1,A=null,j=null;i&&(w=h&&b.route.id?h[b.route.id]:void 0,A=b.route.errorElement||vE,p&&(m<0&&y===0?(SE("route-fallback"),v=!0,j=null):m===y&&(v=!0,j=b.route.hydrateFallbackElement||null)));let E=n.concat(f.slice(0,y+1)),k=()=>{let N;return w?N=A:v?N=j:b.route.Component?N=ie.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=x,ie.createElement(bE,{match:b,routeContext:{outlet:x,matches:E,isDataRoute:i!=null},children:N})};return i&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?ie.createElement(gE,{location:i.location,revalidation:i.revalidation,component:A,error:w,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):k()},null)}var N5=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(N5||{}),S5=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(S5||{});function yE(a){let n=ie.useContext(km);return n||_s(!1),n}function AE(a){let n=ie.useContext(uE);return n||_s(!1),n}function kE(a){let n=ie.useContext(Ao);return n||_s(!1),n}function E5(a){let n=kE(),i=n.matches[n.matches.length-1];return i.route.id||_s(!1),i.route.id}function jE(){var a;let n=ie.useContext(A5),i=AE(),o=E5();return n!==void 0?n:(a=i.errors)==null?void 0:a[o]}function NE(){let{router:a}=yE(N5.UseNavigateStable),n=E5(S5.UseNavigateStable),i=ie.useRef(!1);return k5(()=>{i.current=!0}),ie.useCallback(function(d,u){u===void 0&&(u={}),i.current&&(typeof d=="number"?a.navigate(d):a.navigate(d,H0({fromRouteId:n},u)))},[a,n])}const pg={};function SE(a,n,i){pg[a]||(pg[a]=!0)}function EE(a,n){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function th(a){let{to:n,replace:i,state:o,relative:d}=a;vc()||_s(!1);let{future:u,static:f}=ie.useContext(yo),{matches:h}=ie.useContext(Ao),{pathname:p}=dl(),m=ko(),x=Am(n,ym(h,u.v7_relativeSplatPath),p,d==="path"),b=JSON.stringify(x);return ie.useEffect(()=>m(JSON.parse(b),{replace:i,state:o,relative:d}),[m,b,d,i,o]),null}function dn(a){_s(!1)}function CE(a){let{basename:n="/",children:i=null,location:o,navigationType:d=to.Pop,navigator:u,static:f=!1,future:h}=a;vc()&&_s(!1);let p=n.replace(/^\/*/,"/"),m=ie.useMemo(()=>({basename:p,navigator:u,static:f,future:H0({v7_relativeSplatPath:!1},h)}),[p,h,u,f]);typeof o=="string"&&(o=xc(o));let{pathname:x="/",search:b="",hash:y="",state:w=null,key:v="default"}=o,A=ie.useMemo(()=>{let j=wm(x,p);return j==null?null:{location:{pathname:j,search:b,hash:y,state:w,key:v},navigationType:d}},[p,x,b,y,w,v,d]);return A==null?null:ie.createElement(yo.Provider,{value:m},ie.createElement(ju.Provider,{children:i,value:A}))}function mg(a){let{children:n,location:i}=a;return pE(Gp(n),i)}new Promise(()=>{});function Gp(a,n){n===void 0&&(n=[]);let i=[];return ie.Children.forEach(a,(o,d)=>{if(!ie.isValidElement(o))return;let u=[...n,d];if(o.type===ie.Fragment){i.push.apply(i,Gp(o.props.children,u));return}o.type!==dn&&_s(!1),!o.props.index||!o.props.children||_s(!1);let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Gp(o.props.children,u)),i.push(f)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},Yp.apply(this,arguments)}function IE(a,n){if(a==null)return{};var i={},o=Object.keys(a),d,u;for(u=0;u<o.length;u++)d=o[u],!(n.indexOf(d)>=0)&&(i[d]=a[d]);return i}function BE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function DE(a,n){return a.button===0&&(!n||n==="_self")&&!BE(a)}function Vp(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,i)=>{let o=a[i];return n.concat(Array.isArray(o)?o.map(d=>[i,d]):[[i,o]])},[]))}function TE(a,n){let i=Vp(a);return n&&n.forEach((o,d)=>{i.has(d)||n.getAll(d).forEach(u=>{i.append(d,u)})}),i}const RE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ME="6";try{window.__reactRouterVersion=ME}catch{}const FE="startTransition",xg=Sj[FE];function PE(a){let{basename:n,children:i,future:o,window:d}=a,u=ie.useRef();u.current==null&&(u.current=OS({window:d,v5Compat:!0}));let f=u.current,[h,p]=ie.useState({action:f.action,location:f.location}),{v7_startTransition:m}=o||{},x=ie.useCallback(b=>{m&&xg?xg(()=>p(b)):p(b)},[p,m]);return ie.useLayoutEffect(()=>f.listen(x),[f,x]),ie.useEffect(()=>EE(o),[o]),ie.createElement(CE,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:f,future:o})}const _E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W1=ie.forwardRef(function(n,i){let{onClick:o,relative:d,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:x,viewTransition:b}=n,y=IE(n,RE),{basename:w}=ie.useContext(yo),v,A=!1;if(typeof m=="string"&&OE.test(m)&&(v=m,_E))try{let N=new URL(window.location.href),B=m.startsWith("//")?new URL(N.protocol+m):new URL(m),I=wm(B.pathname,w);B.origin===N.origin&&I!=null?m=I+B.search+B.hash:A=!0}catch{}let j=fE(m,{relative:d}),E=UE(m,{replace:f,state:h,target:p,preventScrollReset:x,relative:d,viewTransition:b});function k(N){o&&o(N),N.defaultPrevented||E(N)}return ie.createElement("a",Yp({},y,{href:v||j,onClick:A||u?o:k,ref:i,target:p}))});var vg;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(vg||(vg={}));var gg;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(gg||(gg={}));function UE(a,n){let{target:i,replace:o,state:d,preventScrollReset:u,relative:f,viewTransition:h}=n===void 0?{}:n,p=ko(),m=dl(),x=j5(a,{relative:f});return ie.useCallback(b=>{if(DE(b,i)){b.preventDefault();let y=o!==void 0?o:Hd(m)===Hd(x);p(a,{replace:y,state:d,preventScrollReset:u,relative:f,viewTransition:h})}},[m,p,x,o,d,i,a,u,f,h])}function zE(a){let n=ie.useRef(Vp(a)),i=ie.useRef(!1),o=dl(),d=ie.useMemo(()=>TE(o.search,i.current?null:n.current),[o.search]),u=ko(),f=ie.useCallback((h,p)=>{const m=Vp(typeof h=="function"?h(d):h);i.current=!0,u("?"+m,p)},[u,d]);return[d,f]}const LE={},bg=a=>{let n;const i=new Set,o=(x,b)=>{const y=typeof x=="function"?x(n):x;if(!Object.is(y,n)){const w=n;n=b??(typeof y!="object"||y===null)?y:Object.assign({},n,y),i.forEach(v=>v(n,w))}},d=()=>n,p={setState:o,getState:d,getInitialState:()=>m,subscribe:x=>(i.add(x),()=>i.delete(x)),destroy:()=>{(LE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=n=a(o,d,p);return p},QE=a=>a?bg(a):bg;var C5={exports:{}},I5={},B5={exports:{}},D5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=ie;function HE(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var $E=typeof Object.is=="function"?Object.is:HE,qE=nc.useState,GE=nc.useEffect,YE=nc.useLayoutEffect,VE=nc.useDebugValue;function KE(a,n){var i=n(),o=qE({inst:{value:i,getSnapshot:n}}),d=o[0].inst,u=o[1];return YE(function(){d.value=i,d.getSnapshot=n,rh(d)&&u({inst:d})},[a,i,n]),GE(function(){return rh(d)&&u({inst:d}),a(function(){rh(d)&&u({inst:d})})},[a]),VE(i),i}function rh(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!$E(a,i)}catch{return!0}}function WE(a,n){return n()}var JE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WE:KE;D5.useSyncExternalStore=nc.useSyncExternalStore!==void 0?nc.useSyncExternalStore:JE;B5.exports=D5;var XE=B5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=ie,ZE=XE;function eC(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var tC=typeof Object.is=="function"?Object.is:eC,rC=ZE.useSyncExternalStore,aC=Nu.useRef,sC=Nu.useEffect,nC=Nu.useMemo,iC=Nu.useDebugValue;I5.useSyncExternalStoreWithSelector=function(a,n,i,o,d){var u=aC(null);if(u.current===null){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=nC(function(){function p(w){if(!m){if(m=!0,x=w,w=o(w),d!==void 0&&f.hasValue){var v=f.value;if(d(v,w))return b=v}return b=w}if(v=b,tC(x,w))return v;var A=o(w);return d!==void 0&&d(v,A)?(x=w,v):(x=w,b=A)}var m=!1,x,b,y=i===void 0?null:i;return[function(){return p(n())},y===null?void 0:function(){return p(y())}]},[n,i,o,d]);var h=rC(a,u[0],u[1]);return sC(function(){f.hasValue=!0,f.value=h},[h]),iC(h),h};C5.exports=I5;var oC=C5.exports;const lC=ou(oC),T5={},{useDebugValue:cC}=C3,{useSyncExternalStoreWithSelector:dC}=lC;let wg=!1;const uC=a=>a;function fC(a,n=uC,i){(T5?"production":void 0)!=="production"&&i&&!wg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),wg=!0);const o=dC(a.subscribe,a.getState,a.getServerState||a.getInitialState,n,i);return cC(o),o}const yg=a=>{(T5?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof a=="function"?QE(a):a,i=(o,d)=>fC(n,o,d);return Object.assign(i,n),i},O1=a=>a?yg(a):yg,hC={};function pC(a,n){let i;try{i=a()}catch{return}return{getItem:d=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),h=(u=i.getItem(d))!=null?u:null;return h instanceof Promise?h.then(f):f(h)},setItem:(d,u)=>i.setItem(d,JSON.stringify(u,void 0)),removeItem:d=>i.removeItem(d)}}const $0=a=>n=>{try{const i=a(n);return i instanceof Promise?i:{then(o){return $0(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return $0(o)(i)}}}},mC=(a,n)=>(i,o,d)=>{let u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,E)=>({...E,...j}),...n},f=!1;const h=new Set,p=new Set;let m;try{m=u.getStorage()}catch{}if(!m)return a((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...j)},o,d);const x=$0(u.serialize),b=()=>{const j=u.partialize({...o()});let E;const k=x({state:j,version:u.version}).then(N=>m.setItem(u.name,N)).catch(N=>{E=N});if(E)throw E;return k},y=d.setState;d.setState=(j,E)=>{y(j,E),b()};const w=a((...j)=>{i(...j),b()},o,d);let v;const A=()=>{var j;if(!m)return;f=!1,h.forEach(k=>k(o()));const E=((j=u.onRehydrateStorage)==null?void 0:j.call(u,o()))||void 0;return $0(m.getItem.bind(m))(u.name).then(k=>{if(k)return u.deserialize(k)}).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==u.version){if(u.migrate)return u.migrate(k.state,k.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return k.state}).then(k=>{var N;return v=u.merge(k,(N=o())!=null?N:w),i(v,!0),b()}).then(()=>{E==null||E(v,void 0),f=!0,p.forEach(k=>k(v))}).catch(k=>{E==null||E(void 0,k)})};return d.persist={setOptions:j=>{u={...u,...j},j.getStorage&&(m=j.getStorage())},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:j=>(h.add(j),()=>{h.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},A(),v||w},xC=(a,n)=>(i,o,d)=>{let u={storage:pC(()=>localStorage),partialize:A=>A,version:0,merge:(A,j)=>({...j,...A}),...n},f=!1;const h=new Set,p=new Set;let m=u.storage;if(!m)return a((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...A)},o,d);const x=()=>{const A=u.partialize({...o()});return m.setItem(u.name,{state:A,version:u.version})},b=d.setState;d.setState=(A,j)=>{b(A,j),x()};const y=a((...A)=>{i(...A),x()},o,d);d.getInitialState=()=>y;let w;const v=()=>{var A,j;if(!m)return;f=!1,h.forEach(k=>{var N;return k((N=o())!=null?N:y)});const E=((j=u.onRehydrateStorage)==null?void 0:j.call(u,(A=o())!=null?A:y))||void 0;return $0(m.getItem.bind(m))(u.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==u.version){if(u.migrate)return[!0,u.migrate(k.state,k.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var N;const[B,I]=k;if(w=u.merge(I,(N=o())!=null?N:y),i(w,!0),B)return x()}).then(()=>{E==null||E(w,void 0),w=o(),f=!0,p.forEach(k=>k(w))}).catch(k=>{E==null||E(void 0,k)})};return d.persist={setOptions:A=>{u={...u,...A},A.storage&&(m=A.storage)},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>v(),hasHydrated:()=>f,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},u.skipHydration||v(),w||y},vC=(a,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((hC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mC(a,n)):xC(a,n),U1=vC;var R5={exports:{}};function gC(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ah={exports:{}};const bC={},wC=Object.freeze(Object.defineProperty({__proto__:null,default:bC},Symbol.toStringTag,{value:"Module"})),yC=fc(wC);var Ag;function Jr(){return Ag||(Ag=1,function(a,n){(function(i,o){a.exports=o()})(vr,function(){var i=i||function(o,d){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof vr<"u"&&vr.crypto&&(u=vr.crypto),!u&&typeof gC=="function")try{u=yC}catch{}var f=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function k(){}return function(N){var B;return k.prototype=N,B=new k,k.prototype=null,B}}(),p={},m=p.lib={},x=m.Base=function(){return{extend:function(k){var N=h(this);return k&&N.mixIn(k),(!N.hasOwnProperty("init")||this.init===N.init)&&(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var N in k)k.hasOwnProperty(N)&&(this[N]=k[N]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),b=m.WordArray=x.extend({init:function(k,N){k=this.words=k||[],N!=d?this.sigBytes=N:this.sigBytes=k.length*4},toString:function(k){return(k||w).stringify(this)},concat:function(k){var N=this.words,B=k.words,I=this.sigBytes,D=k.sigBytes;if(this.clamp(),I%4)for(var T=0;T<D;T++){var M=B[T>>>2]>>>24-T%4*8&255;N[I+T>>>2]|=M<<24-(I+T)%4*8}else for(var Q=0;Q<D;Q+=4)N[I+Q>>>2]=B[Q>>>2];return this.sigBytes+=D,this},clamp:function(){var k=this.words,N=this.sigBytes;k[N>>>2]&=4294967295<<32-N%4*8,k.length=o.ceil(N/4)},clone:function(){var k=x.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var N=[],B=0;B<k;B+=4)N.push(f());return new b.init(N,k)}}),y=p.enc={},w=y.Hex={stringify:function(k){for(var N=k.words,B=k.sigBytes,I=[],D=0;D<B;D++){var T=N[D>>>2]>>>24-D%4*8&255;I.push((T>>>4).toString(16)),I.push((T&15).toString(16))}return I.join("")},parse:function(k){for(var N=k.length,B=[],I=0;I<N;I+=2)B[I>>>3]|=parseInt(k.substr(I,2),16)<<24-I%8*4;return new b.init(B,N/2)}},v=y.Latin1={stringify:function(k){for(var N=k.words,B=k.sigBytes,I=[],D=0;D<B;D++){var T=N[D>>>2]>>>24-D%4*8&255;I.push(String.fromCharCode(T))}return I.join("")},parse:function(k){for(var N=k.length,B=[],I=0;I<N;I++)B[I>>>2]|=(k.charCodeAt(I)&255)<<24-I%4*8;return new b.init(B,N)}},A=y.Utf8={stringify:function(k){try{return decodeURIComponent(escape(v.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return v.parse(unescape(encodeURIComponent(k)))}},j=m.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=A.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var N,B=this._data,I=B.words,D=B.sigBytes,T=this.blockSize,M=T*4,Q=D/M;k?Q=o.ceil(Q):Q=o.max((Q|0)-this._minBufferSize,0);var F=Q*T,P=o.min(F*4,D);if(F){for(var L=0;L<F;L+=T)this._doProcessBlock(I,L);N=I.splice(0,F),B.sigBytes-=P}return new b.init(N,P)},clone:function(){var k=x.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});m.Hasher=j.extend({cfg:x.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){j.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var N=this._doFinalize();return N},blockSize:16,_createHelper:function(k){return function(N,B){return new k.init(B).finalize(N)}},_createHmacHelper:function(k){return function(N,B){return new E.HMAC.init(k,B).finalize(N)}}});var E=p.algo={};return p}(Math);return i})}(ah)),ah.exports}var sh={exports:{}},kg;function Su(){return kg||(kg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.Base,h=u.WordArray,p=d.x64={};p.Word=f.extend({init:function(m,x){this.high=m,this.low=x}}),p.WordArray=f.extend({init:function(m,x){m=this.words=m||[],x!=o?this.sigBytes=x:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,x=m.length,b=[],y=0;y<x;y++){var w=m[y];b.push(w.high),b.push(w.low)}return h.create(b,this.sigBytes)},clone:function(){for(var m=f.clone.call(this),x=m.words=this.words.slice(0),b=x.length,y=0;y<b;y++)x[y]=x[y].clone();return m}})}(),i})}(sh)),sh.exports}var nh={exports:{}},jg;function AC(){return jg||(jg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){if(typeof ArrayBuffer=="function"){var o=i,d=o.lib,u=d.WordArray,f=u.init,h=u.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var m=p.byteLength,x=[],b=0;b<m;b++)x[b>>>2]|=p[b]<<24-b%4*8;f.call(this,x,m)}else f.apply(this,arguments)};h.prototype=u}}(),i.lib.WordArray})}(nh)),nh.exports}var ih={exports:{}},Ng;function kC(){return Ng||(Ng=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Utf16=f.Utf16BE={stringify:function(p){for(var m=p.words,x=p.sigBytes,b=[],y=0;y<x;y+=2){var w=m[y>>>2]>>>16-y%4*8&65535;b.push(String.fromCharCode(w))}return b.join("")},parse:function(p){for(var m=p.length,x=[],b=0;b<m;b++)x[b>>>1]|=p.charCodeAt(b)<<16-b%2*16;return u.create(x,m*2)}},f.Utf16LE={stringify:function(p){for(var m=p.words,x=p.sigBytes,b=[],y=0;y<x;y+=2){var w=h(m[y>>>2]>>>16-y%4*8&65535);b.push(String.fromCharCode(w))}return b.join("")},parse:function(p){for(var m=p.length,x=[],b=0;b<m;b++)x[b>>>1]|=h(p.charCodeAt(b)<<16-b%2*16);return u.create(x,m*2)}};function h(p){return p<<8&4278255360|p>>>8&16711935}}(),i.enc.Utf16})}(ih)),ih.exports}var oh={exports:{}},Sg;function ul(){return Sg||(Sg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Base64={stringify:function(p){var m=p.words,x=p.sigBytes,b=this._map;p.clamp();for(var y=[],w=0;w<x;w+=3)for(var v=m[w>>>2]>>>24-w%4*8&255,A=m[w+1>>>2]>>>24-(w+1)%4*8&255,j=m[w+2>>>2]>>>24-(w+2)%4*8&255,E=v<<16|A<<8|j,k=0;k<4&&w+k*.75<x;k++)y.push(b.charAt(E>>>6*(3-k)&63));var N=b.charAt(64);if(N)for(;y.length%4;)y.push(N);return y.join("")},parse:function(p){var m=p.length,x=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var y=0;y<x.length;y++)b[x.charCodeAt(y)]=y}var w=x.charAt(64);if(w){var v=p.indexOf(w);v!==-1&&(m=v)}return h(p,m,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(p,m,x){for(var b=[],y=0,w=0;w<m;w++)if(w%4){var v=x[p.charCodeAt(w-1)]<<w%4*2,A=x[p.charCodeAt(w)]>>>6-w%4*2,j=v|A;b[y>>>2]|=j<<24-y%4*8,y++}return u.create(b,y)}}(),i.enc.Base64})}(oh)),oh.exports}var lh={exports:{}},Eg;function jC(){return Eg||(Eg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Base64url={stringify:function(p,m){m===void 0&&(m=!0);var x=p.words,b=p.sigBytes,y=m?this._safe_map:this._map;p.clamp();for(var w=[],v=0;v<b;v+=3)for(var A=x[v>>>2]>>>24-v%4*8&255,j=x[v+1>>>2]>>>24-(v+1)%4*8&255,E=x[v+2>>>2]>>>24-(v+2)%4*8&255,k=A<<16|j<<8|E,N=0;N<4&&v+N*.75<b;N++)w.push(y.charAt(k>>>6*(3-N)&63));var B=y.charAt(64);if(B)for(;w.length%4;)w.push(B);return w.join("")},parse:function(p,m){m===void 0&&(m=!0);var x=p.length,b=m?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var w=0;w<b.length;w++)y[b.charCodeAt(w)]=w}var v=b.charAt(64);if(v){var A=p.indexOf(v);A!==-1&&(x=A)}return h(p,x,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(p,m,x){for(var b=[],y=0,w=0;w<m;w++)if(w%4){var v=x[p.charCodeAt(w-1)]<<w%4*2,A=x[p.charCodeAt(w)]>>>6-w%4*2,j=v|A;b[y>>>2]|=j<<24-y%4*8,y++}return u.create(b,y)}}(),i.enc.Base64url})}(lh)),lh.exports}var ch={exports:{}},Cg;function fl(){return Cg||(Cg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=[];(function(){for(var A=0;A<64;A++)m[A]=o.abs(o.sin(A+1))*4294967296|0})();var x=p.MD5=h.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(A,j){for(var E=0;E<16;E++){var k=j+E,N=A[k];A[k]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var B=this._hash.words,I=A[j+0],D=A[j+1],T=A[j+2],M=A[j+3],Q=A[j+4],F=A[j+5],P=A[j+6],L=A[j+7],_=A[j+8],H=A[j+9],Y=A[j+10],de=A[j+11],$=A[j+12],q=A[j+13],re=A[j+14],ce=A[j+15],J=B[0],oe=B[1],ue=B[2],he=B[3];J=b(J,oe,ue,he,I,7,m[0]),he=b(he,J,oe,ue,D,12,m[1]),ue=b(ue,he,J,oe,T,17,m[2]),oe=b(oe,ue,he,J,M,22,m[3]),J=b(J,oe,ue,he,Q,7,m[4]),he=b(he,J,oe,ue,F,12,m[5]),ue=b(ue,he,J,oe,P,17,m[6]),oe=b(oe,ue,he,J,L,22,m[7]),J=b(J,oe,ue,he,_,7,m[8]),he=b(he,J,oe,ue,H,12,m[9]),ue=b(ue,he,J,oe,Y,17,m[10]),oe=b(oe,ue,he,J,de,22,m[11]),J=b(J,oe,ue,he,$,7,m[12]),he=b(he,J,oe,ue,q,12,m[13]),ue=b(ue,he,J,oe,re,17,m[14]),oe=b(oe,ue,he,J,ce,22,m[15]),J=y(J,oe,ue,he,D,5,m[16]),he=y(he,J,oe,ue,P,9,m[17]),ue=y(ue,he,J,oe,de,14,m[18]),oe=y(oe,ue,he,J,I,20,m[19]),J=y(J,oe,ue,he,F,5,m[20]),he=y(he,J,oe,ue,Y,9,m[21]),ue=y(ue,he,J,oe,ce,14,m[22]),oe=y(oe,ue,he,J,Q,20,m[23]),J=y(J,oe,ue,he,H,5,m[24]),he=y(he,J,oe,ue,re,9,m[25]),ue=y(ue,he,J,oe,M,14,m[26]),oe=y(oe,ue,he,J,_,20,m[27]),J=y(J,oe,ue,he,q,5,m[28]),he=y(he,J,oe,ue,T,9,m[29]),ue=y(ue,he,J,oe,L,14,m[30]),oe=y(oe,ue,he,J,$,20,m[31]),J=w(J,oe,ue,he,F,4,m[32]),he=w(he,J,oe,ue,_,11,m[33]),ue=w(ue,he,J,oe,de,16,m[34]),oe=w(oe,ue,he,J,re,23,m[35]),J=w(J,oe,ue,he,D,4,m[36]),he=w(he,J,oe,ue,Q,11,m[37]),ue=w(ue,he,J,oe,L,16,m[38]),oe=w(oe,ue,he,J,Y,23,m[39]),J=w(J,oe,ue,he,q,4,m[40]),he=w(he,J,oe,ue,I,11,m[41]),ue=w(ue,he,J,oe,M,16,m[42]),oe=w(oe,ue,he,J,P,23,m[43]),J=w(J,oe,ue,he,H,4,m[44]),he=w(he,J,oe,ue,$,11,m[45]),ue=w(ue,he,J,oe,ce,16,m[46]),oe=w(oe,ue,he,J,T,23,m[47]),J=v(J,oe,ue,he,I,6,m[48]),he=v(he,J,oe,ue,L,10,m[49]),ue=v(ue,he,J,oe,re,15,m[50]),oe=v(oe,ue,he,J,F,21,m[51]),J=v(J,oe,ue,he,$,6,m[52]),he=v(he,J,oe,ue,M,10,m[53]),ue=v(ue,he,J,oe,Y,15,m[54]),oe=v(oe,ue,he,J,D,21,m[55]),J=v(J,oe,ue,he,_,6,m[56]),he=v(he,J,oe,ue,ce,10,m[57]),ue=v(ue,he,J,oe,P,15,m[58]),oe=v(oe,ue,he,J,q,21,m[59]),J=v(J,oe,ue,he,Q,6,m[60]),he=v(he,J,oe,ue,de,10,m[61]),ue=v(ue,he,J,oe,T,15,m[62]),oe=v(oe,ue,he,J,H,21,m[63]),B[0]=B[0]+J|0,B[1]=B[1]+oe|0,B[2]=B[2]+ue|0,B[3]=B[3]+he|0},_doFinalize:function(){var A=this._data,j=A.words,E=this._nDataBytes*8,k=A.sigBytes*8;j[k>>>5]|=128<<24-k%32;var N=o.floor(E/4294967296),B=E;j[(k+64>>>9<<4)+15]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,j[(k+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,A.sigBytes=(j.length+1)*4,this._process();for(var I=this._hash,D=I.words,T=0;T<4;T++){var M=D[T];D[T]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return I},clone:function(){var A=h.clone.call(this);return A._hash=this._hash.clone(),A}});function b(A,j,E,k,N,B,I){var D=A+(j&E|~j&k)+N+I;return(D<<B|D>>>32-B)+j}function y(A,j,E,k,N,B,I){var D=A+(j&k|E&~k)+N+I;return(D<<B|D>>>32-B)+j}function w(A,j,E,k,N,B,I){var D=A+(j^E^k)+N+I;return(D<<B|D>>>32-B)+j}function v(A,j,E,k,N,B,I){var D=A+(E^(j|~k))+N+I;return(D<<B|D>>>32-B)+j}d.MD5=h._createHelper(x),d.HmacMD5=h._createHmacHelper(x)}(Math),i.MD5})}(ch)),ch.exports}var dh={exports:{}},Ig;function M5(){return Ig||(Ig=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=d.Hasher,h=o.algo,p=[],m=h.SHA1=f.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,b){for(var y=this._hash.words,w=y[0],v=y[1],A=y[2],j=y[3],E=y[4],k=0;k<80;k++){if(k<16)p[k]=x[b+k]|0;else{var N=p[k-3]^p[k-8]^p[k-14]^p[k-16];p[k]=N<<1|N>>>31}var B=(w<<5|w>>>27)+E+p[k];k<20?B+=(v&A|~v&j)+1518500249:k<40?B+=(v^A^j)+1859775393:k<60?B+=(v&A|v&j|A&j)-1894007588:B+=(v^A^j)-899497514,E=j,j=A,A=v<<30|v>>>2,v=w,w=B}y[0]=y[0]+w|0,y[1]=y[1]+v|0,y[2]=y[2]+A|0,y[3]=y[3]+j|0,y[4]=y[4]+E|0},_doFinalize:function(){var x=this._data,b=x.words,y=this._nDataBytes*8,w=x.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=Math.floor(y/4294967296),b[(w+64>>>9<<4)+15]=y,x.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var x=f.clone.call(this);return x._hash=this._hash.clone(),x}});o.SHA1=f._createHelper(m),o.HmacSHA1=f._createHmacHelper(m)}(),i.SHA1})}(dh)),dh.exports}var uh={exports:{}},Bg;function jm(){return Bg||(Bg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=[],x=[];(function(){function w(E){for(var k=o.sqrt(E),N=2;N<=k;N++)if(!(E%N))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var A=2,j=0;j<64;)w(A)&&(j<8&&(m[j]=v(o.pow(A,1/2))),x[j]=v(o.pow(A,1/3)),j++),A++})();var b=[],y=p.SHA256=h.extend({_doReset:function(){this._hash=new f.init(m.slice(0))},_doProcessBlock:function(w,v){for(var A=this._hash.words,j=A[0],E=A[1],k=A[2],N=A[3],B=A[4],I=A[5],D=A[6],T=A[7],M=0;M<64;M++){if(M<16)b[M]=w[v+M]|0;else{var Q=b[M-15],F=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,P=b[M-2],L=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;b[M]=F+b[M-7]+L+b[M-16]}var _=B&I^~B&D,H=j&E^j&k^E&k,Y=(j<<30|j>>>2)^(j<<19|j>>>13)^(j<<10|j>>>22),de=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),$=T+de+_+x[M]+b[M],q=Y+H;T=D,D=I,I=B,B=N+$|0,N=k,k=E,E=j,j=$+q|0}A[0]=A[0]+j|0,A[1]=A[1]+E|0,A[2]=A[2]+k|0,A[3]=A[3]+N|0,A[4]=A[4]+B|0,A[5]=A[5]+I|0,A[6]=A[6]+D|0,A[7]=A[7]+T|0},_doFinalize:function(){var w=this._data,v=w.words,A=this._nDataBytes*8,j=w.sigBytes*8;return v[j>>>5]|=128<<24-j%32,v[(j+64>>>9<<4)+14]=o.floor(A/4294967296),v[(j+64>>>9<<4)+15]=A,w.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var w=h.clone.call(this);return w._hash=this._hash.clone(),w}});d.SHA256=h._createHelper(y),d.HmacSHA256=h._createHmacHelper(y)}(Math),i.SHA256})}(uh)),uh.exports}var fh={exports:{}},Dg;function NC(){return Dg||(Dg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),jm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.algo,h=f.SHA256,p=f.SHA224=h.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=h._doFinalize.call(this);return m.sigBytes-=4,m}});o.SHA224=h._createHelper(p),o.HmacSHA224=h._createHmacHelper(p)}(),i.SHA224})}(fh)),fh.exports}var hh={exports:{}},Tg;function F5(){return Tg||(Tg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Su())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Hasher,f=o.x64,h=f.Word,p=f.WordArray,m=o.algo;function x(){return h.create.apply(h,arguments)}var b=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],y=[];(function(){for(var v=0;v<80;v++)y[v]=x()})();var w=m.SHA512=u.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(v,A){for(var j=this._hash.words,E=j[0],k=j[1],N=j[2],B=j[3],I=j[4],D=j[5],T=j[6],M=j[7],Q=E.high,F=E.low,P=k.high,L=k.low,_=N.high,H=N.low,Y=B.high,de=B.low,$=I.high,q=I.low,re=D.high,ce=D.low,J=T.high,oe=T.low,ue=M.high,he=M.low,Re=Q,te=F,Be=P,Se=L,Oe=_,Ue=H,be=Y,$e=de,Fe=$,Ke=q,Je=re,rt=ce,ae=J,fe=oe,Me=ue,Le=he,Xe=0;Xe<80;Xe++){var ze,qe,ht=y[Xe];if(Xe<16)qe=ht.high=v[A+Xe*2]|0,ze=ht.low=v[A+Xe*2+1]|0;else{var vt=y[Xe-15],dt=vt.high,wt=vt.low,Bt=(dt>>>1|wt<<31)^(dt>>>8|wt<<24)^dt>>>7,jt=(wt>>>1|dt<<31)^(wt>>>8|dt<<24)^(wt>>>7|dt<<25),At=y[Xe-2],_t=At.high,Mt=At.low,Lt=(_t>>>19|Mt<<13)^(_t<<3|Mt>>>29)^_t>>>6,Dt=(Mt>>>19|_t<<13)^(Mt<<3|_t>>>29)^(Mt>>>6|_t<<26),kt=y[Xe-7],O=kt.high,K=kt.low,G=y[Xe-16],se=G.high,le=G.low;ze=jt+K,qe=Bt+O+(ze>>>0<jt>>>0?1:0),ze=ze+Dt,qe=qe+Lt+(ze>>>0<Dt>>>0?1:0),ze=ze+le,qe=qe+se+(ze>>>0<le>>>0?1:0),ht.high=qe,ht.low=ze}var ge=Fe&Je^~Fe&ae,ee=Ke&rt^~Ke&fe,ke=Re&Be^Re&Oe^Be&Oe,X=te&Se^te&Ue^Se&Ue,xe=(Re>>>28|te<<4)^(Re<<30|te>>>2)^(Re<<25|te>>>7),me=(te>>>28|Re<<4)^(te<<30|Re>>>2)^(te<<25|Re>>>7),ye=(Fe>>>14|Ke<<18)^(Fe>>>18|Ke<<14)^(Fe<<23|Ke>>>9),ne=(Ke>>>14|Fe<<18)^(Ke>>>18|Fe<<14)^(Ke<<23|Fe>>>9),we=b[Xe],Ee=we.high,pe=we.low,Ne=Le+ne,Ae=Me+ye+(Ne>>>0<Le>>>0?1:0),Ne=Ne+ee,Ae=Ae+ge+(Ne>>>0<ee>>>0?1:0),Ne=Ne+pe,Ae=Ae+Ee+(Ne>>>0<pe>>>0?1:0),Ne=Ne+ze,Ae=Ae+qe+(Ne>>>0<ze>>>0?1:0),Ce=me+X,Qe=xe+ke+(Ce>>>0<me>>>0?1:0);Me=ae,Le=fe,ae=Je,fe=rt,Je=Fe,rt=Ke,Ke=$e+Ne|0,Fe=be+Ae+(Ke>>>0<$e>>>0?1:0)|0,be=Oe,$e=Ue,Oe=Be,Ue=Se,Be=Re,Se=te,te=Ne+Ce|0,Re=Ae+Qe+(te>>>0<Ne>>>0?1:0)|0}F=E.low=F+te,E.high=Q+Re+(F>>>0<te>>>0?1:0),L=k.low=L+Se,k.high=P+Be+(L>>>0<Se>>>0?1:0),H=N.low=H+Ue,N.high=_+Oe+(H>>>0<Ue>>>0?1:0),de=B.low=de+$e,B.high=Y+be+(de>>>0<$e>>>0?1:0),q=I.low=q+Ke,I.high=$+Fe+(q>>>0<Ke>>>0?1:0),ce=D.low=ce+rt,D.high=re+Je+(ce>>>0<rt>>>0?1:0),oe=T.low=oe+fe,T.high=J+ae+(oe>>>0<fe>>>0?1:0),he=M.low=he+Le,M.high=ue+Me+(he>>>0<Le>>>0?1:0)},_doFinalize:function(){var v=this._data,A=v.words,j=this._nDataBytes*8,E=v.sigBytes*8;A[E>>>5]|=128<<24-E%32,A[(E+128>>>10<<5)+30]=Math.floor(j/4294967296),A[(E+128>>>10<<5)+31]=j,v.sigBytes=A.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var v=u.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});o.SHA512=u._createHelper(w),o.HmacSHA512=u._createHmacHelper(w)}(),i.SHA512})}(hh)),hh.exports}var ph={exports:{}},Rg;function SC(){return Rg||(Rg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Su(),F5())})(vr,function(i){return function(){var o=i,d=o.x64,u=d.Word,f=d.WordArray,h=o.algo,p=h.SHA512,m=h.SHA384=p.extend({_doReset:function(){this._hash=new f.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var x=p._doFinalize.call(this);return x.sigBytes-=16,x}});o.SHA384=p._createHelper(m),o.HmacSHA384=p._createHmacHelper(m)}(),i.SHA384})}(ph)),ph.exports}var mh={exports:{}},Mg;function EC(){return Mg||(Mg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Su())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.x64,m=p.Word,x=d.algo,b=[],y=[],w=[];(function(){for(var j=1,E=0,k=0;k<24;k++){b[j+5*E]=(k+1)*(k+2)/2%64;var N=E%5,B=(2*j+3*E)%5;j=N,E=B}for(var j=0;j<5;j++)for(var E=0;E<5;E++)y[j+5*E]=E+(2*j+3*E)%5*5;for(var I=1,D=0;D<24;D++){for(var T=0,M=0,Q=0;Q<7;Q++){if(I&1){var F=(1<<Q)-1;F<32?M^=1<<F:T^=1<<F-32}I&128?I=I<<1^113:I<<=1}w[D]=m.create(T,M)}})();var v=[];(function(){for(var j=0;j<25;j++)v[j]=m.create()})();var A=x.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var j=this._state=[],E=0;E<25;E++)j[E]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(j,E){for(var k=this._state,N=this.blockSize/2,B=0;B<N;B++){var I=j[E+2*B],D=j[E+2*B+1];I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var T=k[B];T.high^=D,T.low^=I}for(var M=0;M<24;M++){for(var Q=0;Q<5;Q++){for(var F=0,P=0,L=0;L<5;L++){var T=k[Q+5*L];F^=T.high,P^=T.low}var _=v[Q];_.high=F,_.low=P}for(var Q=0;Q<5;Q++)for(var H=v[(Q+4)%5],Y=v[(Q+1)%5],de=Y.high,$=Y.low,F=H.high^(de<<1|$>>>31),P=H.low^($<<1|de>>>31),L=0;L<5;L++){var T=k[Q+5*L];T.high^=F,T.low^=P}for(var q=1;q<25;q++){var F,P,T=k[q],re=T.high,ce=T.low,J=b[q];J<32?(F=re<<J|ce>>>32-J,P=ce<<J|re>>>32-J):(F=ce<<J-32|re>>>64-J,P=re<<J-32|ce>>>64-J);var oe=v[y[q]];oe.high=F,oe.low=P}var ue=v[0],he=k[0];ue.high=he.high,ue.low=he.low;for(var Q=0;Q<5;Q++)for(var L=0;L<5;L++){var q=Q+5*L,T=k[q],Re=v[q],te=v[(Q+1)%5+5*L],Be=v[(Q+2)%5+5*L];T.high=Re.high^~te.high&Be.high,T.low=Re.low^~te.low&Be.low}var T=k[0],Se=w[M];T.high^=Se.high,T.low^=Se.low}},_doFinalize:function(){var j=this._data,E=j.words;this._nDataBytes*8;var k=j.sigBytes*8,N=this.blockSize*32;E[k>>>5]|=1<<24-k%32,E[(o.ceil((k+1)/N)*N>>>5)-1]|=128,j.sigBytes=E.length*4,this._process();for(var B=this._state,I=this.cfg.outputLength/8,D=I/8,T=[],M=0;M<D;M++){var Q=B[M],F=Q.high,P=Q.low;F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,T.push(P),T.push(F)}return new f.init(T,I)},clone:function(){for(var j=h.clone.call(this),E=j._state=this._state.slice(0),k=0;k<25;k++)E[k]=E[k].clone();return j}});d.SHA3=h._createHelper(A),d.HmacSHA3=h._createHmacHelper(A)}(Math),i.SHA3})}(mh)),mh.exports}var xh={exports:{}},Fg;function CC(){return Fg||(Fg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=f.create([0,1518500249,1859775393,2400959708,2840853838]),v=f.create([1352829926,1548603684,1836072691,2053994217,0]),A=p.RIPEMD160=h.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,T){for(var M=0;M<16;M++){var Q=T+M,F=D[Q];D[Q]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}var P=this._hash.words,L=w.words,_=v.words,H=m.words,Y=x.words,de=b.words,$=y.words,q,re,ce,J,oe,ue,he,Re,te,Be;ue=q=P[0],he=re=P[1],Re=ce=P[2],te=J=P[3],Be=oe=P[4];for(var Se,M=0;M<80;M+=1)Se=q+D[T+H[M]]|0,M<16?Se+=j(re,ce,J)+L[0]:M<32?Se+=E(re,ce,J)+L[1]:M<48?Se+=k(re,ce,J)+L[2]:M<64?Se+=N(re,ce,J)+L[3]:Se+=B(re,ce,J)+L[4],Se=Se|0,Se=I(Se,de[M]),Se=Se+oe|0,q=oe,oe=J,J=I(ce,10),ce=re,re=Se,Se=ue+D[T+Y[M]]|0,M<16?Se+=B(he,Re,te)+_[0]:M<32?Se+=N(he,Re,te)+_[1]:M<48?Se+=k(he,Re,te)+_[2]:M<64?Se+=E(he,Re,te)+_[3]:Se+=j(he,Re,te)+_[4],Se=Se|0,Se=I(Se,$[M]),Se=Se+Be|0,ue=Be,Be=te,te=I(Re,10),Re=he,he=Se;Se=P[1]+ce+te|0,P[1]=P[2]+J+Be|0,P[2]=P[3]+oe+ue|0,P[3]=P[4]+q+he|0,P[4]=P[0]+re+Re|0,P[0]=Se},_doFinalize:function(){var D=this._data,T=D.words,M=this._nDataBytes*8,Q=D.sigBytes*8;T[Q>>>5]|=128<<24-Q%32,T[(Q+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,D.sigBytes=(T.length+1)*4,this._process();for(var F=this._hash,P=F.words,L=0;L<5;L++){var _=P[L];P[L]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return F},clone:function(){var D=h.clone.call(this);return D._hash=this._hash.clone(),D}});function j(D,T,M){return D^T^M}function E(D,T,M){return D&T|~D&M}function k(D,T,M){return(D|~T)^M}function N(D,T,M){return D&M|T&~M}function B(D,T,M){return D^(T|~M)}function I(D,T){return D<<T|D>>>32-T}d.RIPEMD160=h._createHelper(A),d.HmacRIPEMD160=h._createHmacHelper(A)}(),i.RIPEMD160})}(xh)),xh.exports}var vh={exports:{}},Pg;function Nm(){return Pg||(Pg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){(function(){var o=i,d=o.lib,u=d.Base,f=o.enc,h=f.Utf8,p=o.algo;p.HMAC=u.extend({init:function(m,x){m=this._hasher=new m.init,typeof x=="string"&&(x=h.parse(x));var b=m.blockSize,y=b*4;x.sigBytes>y&&(x=m.finalize(x)),x.clamp();for(var w=this._oKey=x.clone(),v=this._iKey=x.clone(),A=w.words,j=v.words,E=0;E<b;E++)A[E]^=1549556828,j[E]^=909522486;w.sigBytes=v.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var x=this._hasher,b=x.finalize(m);x.reset();var y=x.finalize(this._oKey.clone().concat(b));return y}})})()})}(vh)),vh.exports}var gh={exports:{}},_g;function IC(){return _g||(_g=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),jm(),Nm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Base,f=d.WordArray,h=o.algo,p=h.SHA256,m=h.HMAC,x=h.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,y){for(var w=this.cfg,v=m.create(w.hasher,b),A=f.create(),j=f.create([1]),E=A.words,k=j.words,N=w.keySize,B=w.iterations;E.length<N;){var I=v.update(y).finalize(j);v.reset();for(var D=I.words,T=D.length,M=I,Q=1;Q<B;Q++){M=v.finalize(M),v.reset();for(var F=M.words,P=0;P<T;P++)D[P]^=F[P]}A.concat(I),k[0]++}return A.sigBytes=N*4,A}});o.PBKDF2=function(b,y,w){return x.create(w).compute(b,y)}}(),i.PBKDF2})}(gh)),gh.exports}var bh={exports:{}},Og;function jo(){return Og||(Og=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),M5(),Nm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Base,f=d.WordArray,h=o.algo,p=h.MD5,m=h.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,b){for(var y,w=this.cfg,v=w.hasher.create(),A=f.create(),j=A.words,E=w.keySize,k=w.iterations;j.length<E;){y&&v.update(y),y=v.update(x).finalize(b),v.reset();for(var N=1;N<k;N++)y=v.finalize(y),v.reset();A.concat(y)}return A.sigBytes=E*4,A}});o.EvpKDF=function(x,b,y){return m.create(y).compute(x,b)}}(),i.EvpKDF})}(bh)),bh.exports}var wh={exports:{}},Ug;function xn(){return Ug||(Ug=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),jo())})(vr,function(i){i.lib.Cipher||function(o){var d=i,u=d.lib,f=u.Base,h=u.WordArray,p=u.BufferedBlockAlgorithm,m=d.enc;m.Utf8;var x=m.Base64,b=d.algo,y=b.EvpKDF,w=u.Cipher=p.extend({cfg:f.extend(),createEncryptor:function(F,P){return this.create(this._ENC_XFORM_MODE,F,P)},createDecryptor:function(F,P){return this.create(this._DEC_XFORM_MODE,F,P)},init:function(F,P,L){this.cfg=this.cfg.extend(L),this._xformMode=F,this._key=P,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(F){return this._append(F),this._process()},finalize:function(F){F&&this._append(F);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function F(P){return typeof P=="string"?Q:D}return function(P){return{encrypt:function(L,_,H){return F(_).encrypt(P,L,_,H)},decrypt:function(L,_,H){return F(_).decrypt(P,L,_,H)}}}}()});u.StreamCipher=w.extend({_doFinalize:function(){var F=this._process(!0);return F},blockSize:1});var v=d.mode={},A=u.BlockCipherMode=f.extend({createEncryptor:function(F,P){return this.Encryptor.create(F,P)},createDecryptor:function(F,P){return this.Decryptor.create(F,P)},init:function(F,P){this._cipher=F,this._iv=P}}),j=v.CBC=function(){var F=A.extend();F.Encryptor=F.extend({processBlock:function(L,_){var H=this._cipher,Y=H.blockSize;P.call(this,L,_,Y),H.encryptBlock(L,_),this._prevBlock=L.slice(_,_+Y)}}),F.Decryptor=F.extend({processBlock:function(L,_){var H=this._cipher,Y=H.blockSize,de=L.slice(_,_+Y);H.decryptBlock(L,_),P.call(this,L,_,Y),this._prevBlock=de}});function P(L,_,H){var Y,de=this._iv;de?(Y=de,this._iv=o):Y=this._prevBlock;for(var $=0;$<H;$++)L[_+$]^=Y[$]}return F}(),E=d.pad={},k=E.Pkcs7={pad:function(F,P){for(var L=P*4,_=L-F.sigBytes%L,H=_<<24|_<<16|_<<8|_,Y=[],de=0;de<_;de+=4)Y.push(H);var $=h.create(Y,_);F.concat($)},unpad:function(F){var P=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=P}};u.BlockCipher=w.extend({cfg:w.cfg.extend({mode:j,padding:k}),reset:function(){var F;w.reset.call(this);var P=this.cfg,L=P.iv,_=P.mode;this._xformMode==this._ENC_XFORM_MODE?F=_.createEncryptor:(F=_.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==F?this._mode.init(this,L&&L.words):(this._mode=F.call(_,this,L&&L.words),this._mode.__creator=F)},_doProcessBlock:function(F,P){this._mode.processBlock(F,P)},_doFinalize:function(){var F,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),F=this._process(!0)):(F=this._process(!0),P.unpad(F)),F},blockSize:128/32});var N=u.CipherParams=f.extend({init:function(F){this.mixIn(F)},toString:function(F){return(F||this.formatter).stringify(this)}}),B=d.format={},I=B.OpenSSL={stringify:function(F){var P,L=F.ciphertext,_=F.salt;return _?P=h.create([1398893684,1701076831]).concat(_).concat(L):P=L,P.toString(x)},parse:function(F){var P,L=x.parse(F),_=L.words;return _[0]==1398893684&&_[1]==1701076831&&(P=h.create(_.slice(2,4)),_.splice(0,4),L.sigBytes-=16),N.create({ciphertext:L,salt:P})}},D=u.SerializableCipher=f.extend({cfg:f.extend({format:I}),encrypt:function(F,P,L,_){_=this.cfg.extend(_);var H=F.createEncryptor(L,_),Y=H.finalize(P),de=H.cfg;return N.create({ciphertext:Y,key:L,iv:de.iv,algorithm:F,mode:de.mode,padding:de.padding,blockSize:F.blockSize,formatter:_.format})},decrypt:function(F,P,L,_){_=this.cfg.extend(_),P=this._parse(P,_.format);var H=F.createDecryptor(L,_).finalize(P.ciphertext);return H},_parse:function(F,P){return typeof F=="string"?P.parse(F,this):F}}),T=d.kdf={},M=T.OpenSSL={execute:function(F,P,L,_,H){if(_||(_=h.random(64/8)),H)var Y=y.create({keySize:P+L,hasher:H}).compute(F,_);else var Y=y.create({keySize:P+L}).compute(F,_);var de=h.create(Y.words.slice(P),L*4);return Y.sigBytes=P*4,N.create({key:Y,iv:de,salt:_})}},Q=u.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:M}),encrypt:function(F,P,L,_){_=this.cfg.extend(_);var H=_.kdf.execute(L,F.keySize,F.ivSize,_.salt,_.hasher);_.iv=H.iv;var Y=D.encrypt.call(this,F,P,H.key,_);return Y.mixIn(H),Y},decrypt:function(F,P,L,_){_=this.cfg.extend(_),P=this._parse(P,_.format);var H=_.kdf.execute(L,F.keySize,F.ivSize,P.salt,_.hasher);_.iv=H.iv;var Y=D.decrypt.call(this,F,P,H.key,_);return Y}})}()})}(wh)),wh.exports}var yh={exports:{}},zg;function BC(){return zg||(zg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.CFB=function(){var o=i.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize;d.call(this,u,f,p,h),this._prevBlock=u.slice(f,f+p)}}),o.Decryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=u.slice(f,f+p);d.call(this,u,f,p,h),this._prevBlock=m}});function d(u,f,h,p){var m,x=this._iv;x?(m=x.slice(0),this._iv=void 0):m=this._prevBlock,p.encryptBlock(m,0);for(var b=0;b<h;b++)u[f+b]^=m[b]}return o}(),i.mode.CFB})}(yh)),yh.exports}var Ah={exports:{}},Lg;function DC(){return Lg||(Lg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.CTR=function(){var o=i.lib.BlockCipherMode.extend(),d=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._counter;m&&(x=this._counter=m.slice(0),this._iv=void 0);var b=x.slice(0);h.encryptBlock(b,0),x[p-1]=x[p-1]+1|0;for(var y=0;y<p;y++)u[f+y]^=b[y]}});return o.Decryptor=d,o}(),i.mode.CTR})}(Ah)),Ah.exports}var kh={exports:{}},Qg;function TC(){return Qg||(Qg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var o=i.lib.BlockCipherMode.extend();function d(h){if((h>>24&255)===255){var p=h>>16&255,m=h>>8&255,x=h&255;p===255?(p=0,m===255?(m=0,x===255?x=0:++x):++m):++p,h=0,h+=p<<16,h+=m<<8,h+=x}else h+=1<<24;return h}function u(h){return(h[0]=d(h[0]))===0&&(h[1]=d(h[1])),h}var f=o.Encryptor=o.extend({processBlock:function(h,p){var m=this._cipher,x=m.blockSize,b=this._iv,y=this._counter;b&&(y=this._counter=b.slice(0),this._iv=void 0),u(y);var w=y.slice(0);m.encryptBlock(w,0);for(var v=0;v<x;v++)h[p+v]^=w[v]}});return o.Decryptor=f,o}(),i.mode.CTRGladman})}(kh)),kh.exports}var jh={exports:{}},Hg;function RC(){return Hg||(Hg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.OFB=function(){var o=i.lib.BlockCipherMode.extend(),d=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._keystream;m&&(x=this._keystream=m.slice(0),this._iv=void 0),h.encryptBlock(x,0);for(var b=0;b<p;b++)u[f+b]^=x[b]}});return o.Decryptor=d,o}(),i.mode.OFB})}(jh)),jh.exports}var Nh={exports:{}},$g;function MC(){return $g||($g=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.ECB=function(){var o=i.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(d,u){this._cipher.encryptBlock(d,u)}}),o.Decryptor=o.extend({processBlock:function(d,u){this._cipher.decryptBlock(d,u)}}),o}(),i.mode.ECB})}(Nh)),Nh.exports}var Sh={exports:{}},qg;function FC(){return qg||(qg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.AnsiX923={pad:function(o,d){var u=o.sigBytes,f=d*4,h=f-u%f,p=u+h-1;o.clamp(),o.words[p>>>2]|=h<<24-p%4*8,o.sigBytes+=h},unpad:function(o){var d=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=d}},i.pad.Ansix923})}(Sh)),Sh.exports}var Eh={exports:{}},Gg;function PC(){return Gg||(Gg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.Iso10126={pad:function(o,d){var u=d*4,f=u-o.sigBytes%u;o.concat(i.lib.WordArray.random(f-1)).concat(i.lib.WordArray.create([f<<24],1))},unpad:function(o){var d=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=d}},i.pad.Iso10126})}(Eh)),Eh.exports}var Ch={exports:{}},Yg;function _C(){return Yg||(Yg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.Iso97971={pad:function(o,d){o.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(o,d)},unpad:function(o){i.pad.ZeroPadding.unpad(o),o.sigBytes--}},i.pad.Iso97971})}(Ch)),Ch.exports}var Ih={exports:{}},Vg;function OC(){return Vg||(Vg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.ZeroPadding={pad:function(o,d){var u=d*4;o.clamp(),o.sigBytes+=u-(o.sigBytes%u||u)},unpad:function(o){for(var d=o.words,u=o.sigBytes-1,u=o.sigBytes-1;u>=0;u--)if(d[u>>>2]>>>24-u%4*8&255){o.sigBytes=u+1;break}}},i.pad.ZeroPadding})}(Ih)),Ih.exports}var Bh={exports:{}},Kg;function UC(){return Kg||(Kg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(Bh)),Bh.exports}var Dh={exports:{}},Wg;function zC(){return Wg||(Wg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.CipherParams,h=d.enc,p=h.Hex,m=d.format;m.Hex={stringify:function(x){return x.ciphertext.toString(p)},parse:function(x){var b=p.parse(x);return f.create({ciphertext:b})}}}(),i.format.Hex})}(Dh)),Dh.exports}var Th={exports:{}},Jg;function LC(){return Jg||(Jg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.BlockCipher,f=o.algo,h=[],p=[],m=[],x=[],b=[],y=[],w=[],v=[],A=[],j=[];(function(){for(var N=[],B=0;B<256;B++)B<128?N[B]=B<<1:N[B]=B<<1^283;for(var I=0,D=0,B=0;B<256;B++){var T=D^D<<1^D<<2^D<<3^D<<4;T=T>>>8^T&255^99,h[I]=T,p[T]=I;var M=N[I],Q=N[M],F=N[Q],P=N[T]*257^T*16843008;m[I]=P<<24|P>>>8,x[I]=P<<16|P>>>16,b[I]=P<<8|P>>>24,y[I]=P;var P=F*16843009^Q*65537^M*257^I*16843008;w[T]=P<<24|P>>>8,v[T]=P<<16|P>>>16,A[T]=P<<8|P>>>24,j[T]=P,I?(I=M^N[N[N[F^M]]],D^=N[N[D]]):I=D=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],k=f.AES=u.extend({_doReset:function(){var N;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,I=B.words,D=B.sigBytes/4,T=this._nRounds=D+6,M=(T+1)*4,Q=this._keySchedule=[],F=0;F<M;F++)F<D?Q[F]=I[F]:(N=Q[F-1],F%D?D>6&&F%D==4&&(N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255]):(N=N<<8|N>>>24,N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255],N^=E[F/D|0]<<24),Q[F]=Q[F-D]^N);for(var P=this._invKeySchedule=[],L=0;L<M;L++){var F=M-L;if(L%4)var N=Q[F];else var N=Q[F-4];L<4||F<=4?P[L]=N:P[L]=w[h[N>>>24]]^v[h[N>>>16&255]]^A[h[N>>>8&255]]^j[h[N&255]]}}},encryptBlock:function(N,B){this._doCryptBlock(N,B,this._keySchedule,m,x,b,y,h)},decryptBlock:function(N,B){var I=N[B+1];N[B+1]=N[B+3],N[B+3]=I,this._doCryptBlock(N,B,this._invKeySchedule,w,v,A,j,p);var I=N[B+1];N[B+1]=N[B+3],N[B+3]=I},_doCryptBlock:function(N,B,I,D,T,M,Q,F){for(var P=this._nRounds,L=N[B]^I[0],_=N[B+1]^I[1],H=N[B+2]^I[2],Y=N[B+3]^I[3],de=4,$=1;$<P;$++){var q=D[L>>>24]^T[_>>>16&255]^M[H>>>8&255]^Q[Y&255]^I[de++],re=D[_>>>24]^T[H>>>16&255]^M[Y>>>8&255]^Q[L&255]^I[de++],ce=D[H>>>24]^T[Y>>>16&255]^M[L>>>8&255]^Q[_&255]^I[de++],J=D[Y>>>24]^T[L>>>16&255]^M[_>>>8&255]^Q[H&255]^I[de++];L=q,_=re,H=ce,Y=J}var q=(F[L>>>24]<<24|F[_>>>16&255]<<16|F[H>>>8&255]<<8|F[Y&255])^I[de++],re=(F[_>>>24]<<24|F[H>>>16&255]<<16|F[Y>>>8&255]<<8|F[L&255])^I[de++],ce=(F[H>>>24]<<24|F[Y>>>16&255]<<16|F[L>>>8&255]<<8|F[_&255])^I[de++],J=(F[Y>>>24]<<24|F[L>>>16&255]<<16|F[_>>>8&255]<<8|F[H&255])^I[de++];N[B]=q,N[B+1]=re,N[B+2]=ce,N[B+3]=J},keySize:256/32});o.AES=u._createHelper(k)}(),i.AES})}(Th)),Th.exports}var Rh={exports:{}},Xg;function QC(){return Xg||(Xg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=d.BlockCipher,h=o.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],w=h.DES=f.extend({_doReset:function(){for(var E=this._key,k=E.words,N=[],B=0;B<56;B++){var I=p[B]-1;N[B]=k[I>>>5]>>>31-I%32&1}for(var D=this._subKeys=[],T=0;T<16;T++){for(var M=D[T]=[],Q=x[T],B=0;B<24;B++)M[B/6|0]|=N[(m[B]-1+Q)%28]<<31-B%6,M[4+(B/6|0)]|=N[28+(m[B+24]-1+Q)%28]<<31-B%6;M[0]=M[0]<<1|M[0]>>>31;for(var B=1;B<7;B++)M[B]=M[B]>>>(B-1)*4+3;M[7]=M[7]<<5|M[7]>>>27}for(var F=this._invSubKeys=[],B=0;B<16;B++)F[B]=D[15-B]},encryptBlock:function(E,k){this._doCryptBlock(E,k,this._subKeys)},decryptBlock:function(E,k){this._doCryptBlock(E,k,this._invSubKeys)},_doCryptBlock:function(E,k,N){this._lBlock=E[k],this._rBlock=E[k+1],v.call(this,4,252645135),v.call(this,16,65535),A.call(this,2,858993459),A.call(this,8,16711935),v.call(this,1,1431655765);for(var B=0;B<16;B++){for(var I=N[B],D=this._lBlock,T=this._rBlock,M=0,Q=0;Q<8;Q++)M|=b[Q][((T^I[Q])&y[Q])>>>0];this._lBlock=T,this._rBlock=D^M}var F=this._lBlock;this._lBlock=this._rBlock,this._rBlock=F,v.call(this,1,1431655765),A.call(this,8,16711935),A.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),E[k]=this._lBlock,E[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(E,k){var N=(this._lBlock>>>E^this._rBlock)&k;this._rBlock^=N,this._lBlock^=N<<E}function A(E,k){var N=(this._rBlock>>>E^this._lBlock)&k;this._lBlock^=N,this._rBlock^=N<<E}o.DES=f._createHelper(w);var j=h.TripleDES=f.extend({_doReset:function(){var E=this._key,k=E.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var N=k.slice(0,2),B=k.length<4?k.slice(0,2):k.slice(2,4),I=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=w.createEncryptor(u.create(N)),this._des2=w.createEncryptor(u.create(B)),this._des3=w.createEncryptor(u.create(I))},encryptBlock:function(E,k){this._des1.encryptBlock(E,k),this._des2.decryptBlock(E,k),this._des3.encryptBlock(E,k)},decryptBlock:function(E,k){this._des3.decryptBlock(E,k),this._des2.encryptBlock(E,k),this._des1.decryptBlock(E,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=f._createHelper(j)}(),i.TripleDES})}(Rh)),Rh.exports}var Mh={exports:{}},Zg;function HC(){return Zg||(Zg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=f.RC4=u.extend({_doReset:function(){for(var x=this._key,b=x.words,y=x.sigBytes,w=this._S=[],v=0;v<256;v++)w[v]=v;for(var v=0,A=0;v<256;v++){var j=v%y,E=b[j>>>2]>>>24-j%4*8&255;A=(A+w[v]+E)%256;var k=w[v];w[v]=w[A],w[A]=k}this._i=this._j=0},_doProcessBlock:function(x,b){x[b]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var x=this._S,b=this._i,y=this._j,w=0,v=0;v<4;v++){b=(b+1)%256,y=(y+x[b])%256;var A=x[b];x[b]=x[y],x[y]=A,w|=x[(x[b]+x[y])%256]<<24-v*8}return this._i=b,this._j=y,w}o.RC4=u._createHelper(h);var m=f.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)p.call(this)}});o.RC4Drop=u._createHelper(m)}(),i.RC4})}(Mh)),Mh.exports}var Fh={exports:{}},eb;function $C(){return eb||(eb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.Rabbit=u.extend({_doReset:function(){for(var y=this._key.words,w=this.cfg.iv,v=0;v<4;v++)y[v]=(y[v]<<8|y[v]>>>24)&16711935|(y[v]<<24|y[v]>>>8)&4278255360;var A=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],j=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var v=0;v<4;v++)b.call(this);for(var v=0;v<8;v++)j[v]^=A[v+4&7];if(w){var E=w.words,k=E[0],N=E[1],B=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D=B>>>16|I&4294901760,T=I<<16|B&65535;j[0]^=B,j[1]^=D,j[2]^=I,j[3]^=T,j[4]^=B,j[5]^=D,j[6]^=I,j[7]^=T;for(var v=0;v<4;v++)b.call(this)}},_doProcessBlock:function(y,w){var v=this._X;b.call(this),h[0]=v[0]^v[5]>>>16^v[3]<<16,h[1]=v[2]^v[7]>>>16^v[5]<<16,h[2]=v[4]^v[1]>>>16^v[7]<<16,h[3]=v[6]^v[3]>>>16^v[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,y[w+A]^=h[A]},blockSize:128/32,ivSize:64/32});function b(){for(var y=this._X,w=this._C,v=0;v<8;v++)p[v]=w[v];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<p[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<p[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<p[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<p[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<p[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<p[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<p[6]>>>0?1:0)|0,this._b=w[7]>>>0<p[7]>>>0?1:0;for(var v=0;v<8;v++){var A=y[v]+w[v],j=A&65535,E=A>>>16,k=((j*j>>>17)+j*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[v]=k^N}y[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,y[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,y[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,y[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,y[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,y[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,y[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,y[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.Rabbit=u._createHelper(x)}(),i.Rabbit})}(Fh)),Fh.exports}var Ph={exports:{}},tb;function qC(){return tb||(tb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.RabbitLegacy=u.extend({_doReset:function(){var y=this._key.words,w=this.cfg.iv,v=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var j=0;j<4;j++)b.call(this);for(var j=0;j<8;j++)A[j]^=v[j+4&7];if(w){var E=w.words,k=E[0],N=E[1],B=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D=B>>>16|I&4294901760,T=I<<16|B&65535;A[0]^=B,A[1]^=D,A[2]^=I,A[3]^=T,A[4]^=B,A[5]^=D,A[6]^=I,A[7]^=T;for(var j=0;j<4;j++)b.call(this)}},_doProcessBlock:function(y,w){var v=this._X;b.call(this),h[0]=v[0]^v[5]>>>16^v[3]<<16,h[1]=v[2]^v[7]>>>16^v[5]<<16,h[2]=v[4]^v[1]>>>16^v[7]<<16,h[3]=v[6]^v[3]>>>16^v[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,y[w+A]^=h[A]},blockSize:128/32,ivSize:64/32});function b(){for(var y=this._X,w=this._C,v=0;v<8;v++)p[v]=w[v];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<p[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<p[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<p[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<p[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<p[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<p[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<p[6]>>>0?1:0)|0,this._b=w[7]>>>0<p[7]>>>0?1:0;for(var v=0;v<8;v++){var A=y[v]+w[v],j=A&65535,E=A>>>16,k=((j*j>>>17)+j*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[v]=k^N}y[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,y[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,y[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,y[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,y[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,y[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,y[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,y[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.RabbitLegacy=u._createHelper(x)}(),i.RabbitLegacy})}(Ph)),Ph.exports}var _h={exports:{}},rb;function GC(){return rb||(rb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.BlockCipher,f=o.algo;const h=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function b(j,E){let k=E>>24&255,N=E>>16&255,B=E>>8&255,I=E&255,D=j.sbox[0][k]+j.sbox[1][N];return D=D^j.sbox[2][B],D=D+j.sbox[3][I],D}function y(j,E,k){let N=E,B=k,I;for(let D=0;D<h;++D)N=N^j.pbox[D],B=b(j,N)^B,I=N,N=B,B=I;return I=N,N=B,B=I,B=B^j.pbox[h],N=N^j.pbox[h+1],{left:N,right:B}}function w(j,E,k){let N=E,B=k,I;for(let D=h+1;D>1;--D)N=N^j.pbox[D],B=b(j,N)^B,I=N,N=B,B=I;return I=N,N=B,B=I,B=B^j.pbox[1],N=N^j.pbox[0],{left:N,right:B}}function v(j,E,k){for(let T=0;T<4;T++){j.sbox[T]=[];for(let M=0;M<256;M++)j.sbox[T][M]=m[T][M]}let N=0;for(let T=0;T<h+2;T++)j.pbox[T]=p[T]^E[N],N++,N>=k&&(N=0);let B=0,I=0,D=0;for(let T=0;T<h+2;T+=2)D=y(j,B,I),B=D.left,I=D.right,j.pbox[T]=B,j.pbox[T+1]=I;for(let T=0;T<4;T++)for(let M=0;M<256;M+=2)D=y(j,B,I),B=D.left,I=D.right,j.sbox[T][M]=B,j.sbox[T][M+1]=I;return!0}var A=f.Blowfish=u.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var j=this._keyPriorReset=this._key,E=j.words,k=j.sigBytes/4;v(x,E,k)}},encryptBlock:function(j,E){var k=y(x,j[E],j[E+1]);j[E]=k.left,j[E+1]=k.right},decryptBlock:function(j,E){var k=w(x,j[E],j[E+1]);j[E]=k.left,j[E+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=u._createHelper(A)}(),i.Blowfish})}(_h)),_h.exports}(function(a,n){(function(i,o,d){a.exports=o(Jr(),Su(),AC(),kC(),ul(),jC(),fl(),M5(),jm(),NC(),F5(),SC(),EC(),CC(),Nm(),IC(),jo(),xn(),BC(),DC(),TC(),RC(),MC(),FC(),PC(),_C(),OC(),UC(),zC(),LC(),QC(),HC(),$C(),qC(),GC())})(vr,function(i){return i})})(R5);var YC=R5.exports;const VC=ou(YC),f1=O1(U1((a,n)=>({logs:[],addLog:(i,o,d=null,u=null)=>{const f={id:`LOG${Date.now()}`,timestamp:new Date().toISOString(),action:i,details:o,userId:d,userName:u,ipAddress:null};return a(h=>({logs:[f,...h.logs].slice(0,5e3)})),f},getLogsByAction:i=>n().logs.filter(o=>o.action===i),getLogsByUser:i=>n().logs.filter(o=>o.userId===i),getLogsByDateRange:(i,o)=>{const d=new Date(i);d.setHours(0,0,0,0);const u=new Date(o);return u.setHours(23,59,59,999),n().logs.filter(f=>{const h=new Date(f.timestamp);return h>=d&&h<=u})},getRecentLogs:(i=50)=>n().logs.slice(0,i),clearOldLogs:(i=30)=>{const o=new Date;o.setDate(o.getDate()-i),a(d=>({logs:d.logs.filter(u=>new Date(u.timestamp)>o)}))},exportLogs:(i=null,o=null)=>{let d=n().logs;return i&&o&&(d=n().getLogsByDateRange(i,o)),JSON.stringify(d,null,2)}}),{name:"audit-storage"})),ji={LOGIN:"login",LOGOUT:"logout",LOGIN_FAILED:"login_failed",TRANSACTION_CREATE:"transaction_create",TRANSACTION_VOID:"transaction_void",PRODUCT_ADD:"product_add",PRODUCT_EDIT:"product_edit",PRODUCT_DELETE:"product_delete",STOCK_ADJUST:"stock_adjust",STOCK_PURCHASE:"stock_purchase",STOCK_OPNAME:"stock_opname"},f0=a=>VC.SHA256(a).toString(),ab=(a,n)=>f0(a)===n||a===n,P5={all:"Semua Akses",pos:"Kasir (POS)",products:"Kelola Produk",products_view:"Lihat Produk",stock:"Kelola Stok",customers:"Kelola Pelanggan",customers_view:"Lihat Pelanggan",sales:"Lihat Penjualan",purchases:"Pembelian & Supplier",reports:"Laporan",marketplace:"Marketplace (Shopee)",settings:"Pengaturan"},Di=O1(U1((a,n)=>({user:null,isAuthenticated:!1,users:[{id:1,username:"admin",password:f0("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}},{id:2,username:"kasir",password:f0("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}}],login:(i,o)=>{const d=n().users,u=d.find(h=>h.username===i&&ab(o,h.password)&&h.isActive!==!1);if(u){const{password:h,...p}=u;return a({user:p,isAuthenticated:!0}),f1.getState().addLog(ji.LOGIN,{username:u.username,role:u.role},u.id,u.name),{success:!0}}f1.getState().addLog(ji.LOGIN_FAILED,{username:i,reason:"Invalid credentials"},null,null);const f=d.find(h=>h.username===i&&ab(o,h.password));return f&&!f.isActive?{success:!1,error:"Akun tidak aktif. Hubungi administrator."}:{success:!1,error:"Username atau password salah"}},logout:()=>{const i=n().user;i&&f1.getState().addLog(ji.LOGOUT,{username:i.username},i.id,i.name),a({user:null,isAuthenticated:!1})},addUser:i=>{const o=n().users;if(o.some(u=>u.username.toLowerCase()===i.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const d={id:Date.now(),username:i.username,password:f0(i.password),name:i.name,role:i.role||"cashier",permissions:i.permissions||["pos","products_view"],isActive:!0,createdAt:new Date().toISOString(),marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}};return a({users:[...o,d]}),{success:!0,user:d}},updateUser:(i,o)=>{const d=n().users,u=n().user,f=d.find(p=>p.id===i);if((f==null?void 0:f.id)===1&&(u==null?void 0:u.id)!==1)return{success:!1,error:"Tidak bisa mengedit admin utama"};if(o.username&&d.find(m=>m.id!==i&&m.username.toLowerCase()===o.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const h=d.map(p=>p.id===i?{...p,...o,updatedAt:new Date().toISOString()}:p);if(a({users:h}),(u==null?void 0:u.id)===i){const p=h.find(b=>b.id===i),{password:m,...x}=p;a({user:x})}return{success:!0}},deleteUser:i=>{const o=n().users,d=n().user;return(d==null?void 0:d.id)===i?{success:!1,error:"Tidak bisa menghapus akun sendiri"}:i===1?{success:!1,error:"Tidak bisa menghapus admin utama"}:(a({users:o.filter(u=>u.id!==i)}),{success:!0})},toggleUserActive:i=>{const o=n().users,d=n().user;if((d==null?void 0:d.id)===i)return{success:!1,error:"Tidak bisa menonaktifkan akun sendiri"};if(i===1)return{success:!1,error:"Tidak bisa menonaktifkan admin utama"};const u=o.map(f=>f.id===i?{...f,isActive:!f.isActive}:f);return a({users:u}),{success:!0}},changePassword:(i,o)=>{const u=n().users.map(f=>f.username===i?{...f,password:f0(o)}:f);a({users:u})},updateMarketplaceCredentials:(i,o,d)=>{const u=n().users,f=n().user,h=u.map(p=>{var m;return p.id===i?{...p,marketplaceCredentials:{...p.marketplaceCredentials,[o]:{...(m=p.marketplaceCredentials)==null?void 0:m[o],...d}}}:p});if(a({users:h}),(f==null?void 0:f.id)===i){const p=h.find(b=>b.id===i),{password:m,...x}=p;a({user:x})}return{success:!0}},getMyMarketplaceCredentials:i=>{var f;const o=n().user;if(!o)return null;const u=n().users.find(h=>h.id===o.id);return((f=u==null?void 0:u.marketplaceCredentials)==null?void 0:f[i])||null},getUserById:i=>n().users.find(d=>d.id===i),hasPermission:i=>{const o=n();return o.user?o.user.permissions.includes("all")?!0:o.user.permissions.includes(i):!1},isAdmin:()=>{var o,d,u;const i=n();return((o=i.user)==null?void 0:o.role)==="admin"||((u=(d=i.user)==null?void 0:d.permissions)==null?void 0:u.includes("all"))}}),{name:"auth-storage"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var ic;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(ic||(ic={}));class Oh extends Error{constructor(n,i,o){super(n),this.message=n,this.code=i,this.data=o}}const KC=a=>{var n,i;return a!=null&&a.androidBridge?"android":!((i=(n=a==null?void 0:a.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},WC=a=>{const n=a.CapacitorCustomPlatform||null,i=a.Capacitor||{},o=i.Plugins=i.Plugins||{},d=()=>n!==null?n.name:KC(a),u=()=>d()!=="web",f=b=>{const y=m.get(b);return!!(y!=null&&y.platforms.has(d())||h(b))},h=b=>{var y;return(y=i.PluginHeaders)===null||y===void 0?void 0:y.find(w=>w.name===b)},p=b=>a.console.error(b),m=new Map,x=(b,y={})=>{const w=m.get(b);if(w)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),w.proxy;const v=d(),A=h(b);let j;const E=async()=>(!j&&v in y?j=typeof y[v]=="function"?j=await y[v]():j=y[v]:n!==null&&!j&&"web"in y&&(j=typeof y.web=="function"?j=await y.web():j=y.web),j),k=(M,Q)=>{var F,P;if(A){const L=A==null?void 0:A.methods.find(_=>Q===_.name);if(L)return L.rtype==="promise"?_=>i.nativePromise(b,Q.toString(),_):(_,H)=>i.nativeCallback(b,Q.toString(),_,H);if(M)return(F=M[Q])===null||F===void 0?void 0:F.bind(M)}else{if(M)return(P=M[Q])===null||P===void 0?void 0:P.bind(M);throw new Oh(`"${b}" plugin is not implemented on ${v}`,ic.Unimplemented)}},N=M=>{let Q;const F=(...P)=>{const L=E().then(_=>{const H=k(_,M);if(H){const Y=H(...P);return Q=Y==null?void 0:Y.remove,Y}else throw new Oh(`"${b}.${M}()" is not implemented on ${v}`,ic.Unimplemented)});return M==="addListener"&&(L.remove=async()=>Q()),L};return F.toString=()=>`${M.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:M,writable:!1,configurable:!1}),F},B=N("addListener"),I=N("removeListener"),D=(M,Q)=>{const F=B({eventName:M},Q),P=async()=>{const _=await F;I({eventName:M,callbackId:_},Q)},L=new Promise(_=>F.then(()=>_({remove:P})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},L},T=new Proxy({},{get(M,Q){switch(Q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?D:B;case"removeListener":return I;default:return N(Q)}}});return o[b]=T,m.set(b,{name:b,proxy:T,platforms:new Set([...Object.keys(y),...A?[v]:[]])}),T};return i.convertFileSrc||(i.convertFileSrc=b=>b),i.getPlatform=d,i.handleError=p,i.isNativePlatform=u,i.isPluginAvailable=f,i.registerPlugin=x,i.Exception=Oh,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},JC=a=>a.Capacitor=WC(a),mo=JC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hl=mo.registerPlugin;class _5{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,i){let o=!1;this.listeners[n]||(this.listeners[n]=[],o=!0),this.listeners[n].push(i);const u=this.windowListeners[n];u&&!u.registered&&this.addWindowListener(u),o&&this.sendRetainedArgumentsForEvent(n);const f=async()=>this.removeListener(n,i);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i,o){const d=this.listeners[n];if(!d){if(o){let u=this.retainedEventArguments[n];u||(u=[]),u.push(i),this.retainedEventArguments[n]=u}return}d.forEach(u=>u(i))}hasListeners(n){var i;return!!(!((i=this.listeners[n])===null||i===void 0)&&i.length)}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:o=>{this.notifyListeners(i,o)}}}unimplemented(n="not implemented"){return new mo.Exception(n,ic.Unimplemented)}unavailable(n="not available"){return new mo.Exception(n,ic.Unavailable)}async removeListener(n,i){const o=this.listeners[n];if(!o)return;const d=o.indexOf(i);this.listeners[n].splice(d,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const i=this.retainedEventArguments[n];i&&(delete this.retainedEventArguments[n],i.forEach(o=>{this.notifyListeners(n,o)}))}}const sb=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),nb=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class XC extends _5{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(o=>{if(o.length<=0)return;let[d,u]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");d=nb(d).trim(),u=nb(u).trim(),i[d]=u}),i}async setCookie(n){try{const i=sb(n.key),o=sb(n.value),d=`; expires=${(n.expires||"").replace("expires=","")}`,u=(n.path||"/").replace("path=",""),f=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${o||""}${d}; path=${u}; ${f};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}hl("CapacitorCookies",{web:()=>new XC});const ZC=async a=>new Promise((n,i)=>{const o=new FileReader;o.onload=()=>{const d=o.result;n(d.indexOf(",")>=0?d.split(",")[1]:d)},o.onerror=d=>i(d),o.readAsDataURL(a)}),eI=(a={})=>{const n=Object.keys(a);return Object.keys(a).map(d=>d.toLocaleLowerCase()).reduce((d,u,f)=>(d[u]=a[n[f]],d),{})},tI=(a,n=!0)=>a?Object.entries(a).reduce((o,d)=>{const[u,f]=d;let h,p;return Array.isArray(f)?(p="",f.forEach(m=>{h=n?encodeURIComponent(m):m,p+=`${u}=${h}&`}),p.slice(0,-1)):(h=n?encodeURIComponent(f):f,p=`${u}=${h}`),`${o}&${p}`},"").substr(1):null,rI=(a,n={})=>{const i=Object.assign({method:a.method||"GET",headers:a.headers},n),d=eI(a.headers)["content-type"]||"";if(typeof a.data=="string")i.body=a.data;else if(d.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[f,h]of Object.entries(a.data||{}))u.set(f,h);i.body=u.toString()}else if(d.includes("multipart/form-data")||a.data instanceof FormData){const u=new FormData;if(a.data instanceof FormData)a.data.forEach((h,p)=>{u.append(p,h)});else for(const h of Object.keys(a.data))u.append(h,a.data[h]);i.body=u;const f=new Headers(i.headers);f.delete("content-type"),i.headers=f}else(d.includes("application/json")||typeof a.data=="object")&&(i.body=JSON.stringify(a.data));return i};class aI extends _5{async request(n){const i=rI(n,n.webFetchExtra),o=tI(n.params,n.shouldEncodeUrlParams),d=o?`${n.url}?${o}`:n.url,u=await fetch(d,i),f=u.headers.get("content-type")||"";let{responseType:h="text"}=u.ok?n:{};f.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await u.blob(),p=await ZC(m);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const x={};return u.headers.forEach((b,y)=>{x[y]=b}),{data:p,headers:x,status:u.status,url:u.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}hl("CapacitorHttp",{web:()=>new aI});mo.isNativePlatform();const P1=mo.getPlatform()==="android";mo.getPlatform();mo.getPlatform();mo.getPlatform();var Sm={},$d={},Kp=function(a,n){return Kp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d])},Kp(a,n)};function O5(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Kp(a,n);function i(){this.constructor=a}a.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var qd=function(){return qd=Object.assign||function(n){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},qd.apply(this,arguments)};function gc(a,n){var i={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(a);d<o.length;d++)n.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(a,o[d])&&(i[o[d]]=a[o[d]]);return i}function U5(a,n,i,o){var d=arguments.length,u=d<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,i):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,i,o);else for(var h=a.length-1;h>=0;h--)(f=a[h])&&(u=(d<3?f(u):d>3?f(n,i,u):f(n,i))||u);return d>3&&u&&Object.defineProperty(n,i,u),u}function z5(a,n){return function(i,o){n(i,o,a)}}function L5(a,n,i,o,d,u){function f(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var h=o.kind,p=h==="getter"?"get":h==="setter"?"set":"value",m=!n&&a?o.static?a:a.prototype:null,x=n||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),b,y=!1,w=i.length-1;w>=0;w--){var v={};for(var A in o)v[A]=A==="access"?{}:o[A];for(var A in o.access)v.access[A]=o.access[A];v.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(E||null))};var j=(0,i[w])(h==="accessor"?{get:x.get,set:x.set}:x[p],v);if(h==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(b=f(j.get))&&(x.get=b),(b=f(j.set))&&(x.set=b),(b=f(j.init))&&d.unshift(b)}else(b=f(j))&&(h==="field"?d.unshift(b):x[p]=b)}m&&Object.defineProperty(m,o.name,x),y=!0}function Q5(a,n,i){for(var o=arguments.length>2,d=0;d<n.length;d++)i=o?n[d].call(a,i):n[d].call(a);return o?i:void 0}function H5(a){return typeof a=="symbol"?a:"".concat(a)}function $5(a,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function q5(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function Pt(a,n,i,o){function d(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(x){try{m(o.next(x))}catch(b){f(b)}}function p(x){try{m(o.throw(x))}catch(b){f(b)}}function m(x){x.done?u(x.value):d(x.value).then(h,p)}m((o=o.apply(a,n||[])).next())})}function G5(a,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,d,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(m){return function(x){return p([m,x])}}function p(m){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(o=1,d&&(u=m[0]&2?d.return:m[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,m[1])).done)return u;switch(d=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,d=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(a,i)}catch(x){m=[6,x],d=0}finally{o=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Eu=Object.create?function(a,n,i,o){o===void 0&&(o=i);var d=Object.getOwnPropertyDescriptor(n,i);(!d||("get"in d?!n.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(a,o,d)}:function(a,n,i,o){o===void 0&&(o=i),a[o]=n[i]};function Y5(a,n){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Eu(n,a,i)}function Gd(a){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&a[n],o=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Em(a,n){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var o=i.call(a),d,u=[],f;try{for(;(n===void 0||n-- >0)&&!(d=o.next()).done;)u.push(d.value)}catch(h){f={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(f)throw f.error}}return u}function V5(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(Em(arguments[n]));return a}function K5(){for(var a=0,n=0,i=arguments.length;n<i;n++)a+=arguments[n].length;for(var o=Array(a),d=0,n=0;n<i;n++)for(var u=arguments[n],f=0,h=u.length;f<h;f++,d++)o[d]=u[f];return o}function W5(a,n,i){if(i||arguments.length===2)for(var o=0,d=n.length,u;o<d;o++)(u||!(o in n))&&(u||(u=Array.prototype.slice.call(n,0,o)),u[o]=n[o]);return a.concat(u||Array.prototype.slice.call(n))}function oc(a){return this instanceof oc?(this.v=a,this):new oc(a)}function J5(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(a,n||[]),d,u=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),d[Symbol.asyncIterator]=function(){return this},d;function f(w){return function(v){return Promise.resolve(v).then(w,b)}}function h(w,v){o[w]&&(d[w]=function(A){return new Promise(function(j,E){u.push([w,A,j,E])>1||p(w,A)})},v&&(d[w]=v(d[w])))}function p(w,v){try{m(o[w](v))}catch(A){y(u[0][3],A)}}function m(w){w.value instanceof oc?Promise.resolve(w.value.v).then(x,b):y(u[0][2],w)}function x(w){p("next",w)}function b(w){p("throw",w)}function y(w,v){w(v),u.shift(),u.length&&p(u[0][0],u[0][1])}}function X5(a){var n,i;return n={},o("next"),o("throw",function(d){throw d}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(d,u){n[d]=a[d]?function(f){return(i=!i)?{value:oc(a[d](f)),done:!1}:u?u(f):f}:u}}function Z5(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],i;return n?n.call(a):(a=typeof Gd=="function"?Gd(a):a[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=a[u]&&function(f){return new Promise(function(h,p){f=a[u](f),d(h,p,f.done,f.value)})}}function d(u,f,h,p){Promise.resolve(p).then(function(m){u({value:m,done:h})},f)}}function ew(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var sI=Object.create?function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}:function(a,n){a.default=n},Wp=function(a){return Wp=Object.getOwnPropertyNames||function(n){var i=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[i.length]=o);return i},Wp(a)};function tw(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var i=Wp(a),o=0;o<i.length;o++)i[o]!=="default"&&Eu(n,a,i[o]);return sI(n,a),n}function rw(a){return a&&a.__esModule?a:{default:a}}function aw(a,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!o:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(a):o?o.value:n.get(a)}function sw(a,n,i,o,d){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!d:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?d.call(a,i):d?d.value=i:n.set(a,i),i}function nw(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function iw(a,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var o,d;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose],i&&(d=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");d&&(o=function(){try{d.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:o,async:i})}else i&&a.stack.push({async:!0});return n}var nI=typeof SuppressedError=="function"?SuppressedError:function(a,n,i){var o=new Error(i);return o.name="SuppressedError",o.error=a,o.suppressed=n,o};function ow(a){function n(u){a.error=a.hasError?new nI(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var i,o=0;function d(){for(;i=a.stack.pop();)try{if(!i.async&&o===1)return o=0,a.stack.push(i),Promise.resolve().then(d);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(u).then(d,function(f){return n(f),d()})}else o|=1}catch(f){n(f)}if(o===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return d()}function lw(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,d,u,f){return o?n?".jsx":".js":d&&(!u||!f)?i:d+u+"."+f.toLowerCase()+"js"}):a}const iI={__extends:O5,__assign:qd,__rest:gc,__decorate:U5,__param:z5,__esDecorate:L5,__runInitializers:Q5,__propKey:H5,__setFunctionName:$5,__metadata:q5,__awaiter:Pt,__generator:G5,__createBinding:Eu,__exportStar:Y5,__values:Gd,__read:Em,__spread:V5,__spreadArrays:K5,__spreadArray:W5,__await:oc,__asyncGenerator:J5,__asyncDelegator:X5,__asyncValues:Z5,__makeTemplateObject:ew,__importStar:tw,__importDefault:rw,__classPrivateFieldGet:aw,__classPrivateFieldSet:sw,__classPrivateFieldIn:nw,__addDisposableResource:iw,__disposeResources:ow,__rewriteRelativeImportExtension:lw},oI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:iw,get __assign(){return qd},__asyncDelegator:X5,__asyncGenerator:J5,__asyncValues:Z5,__await:oc,__awaiter:Pt,__classPrivateFieldGet:aw,__classPrivateFieldIn:nw,__classPrivateFieldSet:sw,__createBinding:Eu,__decorate:U5,__disposeResources:ow,__esDecorate:L5,__exportStar:Y5,__extends:O5,__generator:G5,__importDefault:rw,__importStar:tw,__makeTemplateObject:ew,__metadata:q5,__param:z5,__propKey:H5,__read:Em,__rest:gc,__rewriteRelativeImportExtension:lw,__runInitializers:Q5,__setFunctionName:$5,__spread:V5,__spreadArray:W5,__spreadArrays:K5,__values:Gd,default:iI},Symbol.toStringTag,{value:"Module"})),lI=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);let Cu=class extends Error{constructor(n,i="FunctionsError",o){super(n),this.name=i,this.context=o}},cw=class extends Cu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Jp=class extends Cu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Xp=class extends Cu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Yd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Yd||(Yd={}));class cI{constructor(n,{headers:i={},customFetch:o,region:d=Yd.Any}={}){this.url=n,this.headers=i,this.region=d,this.fetch=lI(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Pt(this,arguments,void 0,function*(i,o={}){var d;let u,f;try{const{headers:h,method:p,body:m,signal:x,timeout:b}=o;let y={},{region:w}=o;w||(w=this.region);const v=new URL(`${this.url}/${i}`);w&&w!=="any"&&(y["x-region"]=w,v.searchParams.set("forceFunctionRegion",w));let A;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",A=m):typeof m=="string"?(y["Content-Type"]="text/plain",A=m):typeof FormData<"u"&&m instanceof FormData?A=m:(y["Content-Type"]="application/json",A=JSON.stringify(m)):A=m;let j=x;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),x?(j=f.signal,x.addEventListener("abort",()=>f.abort())):j=f.signal);const E=yield this.fetch(v.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),h),body:A,signal:j}).catch(I=>{throw new cw(I)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new Jp(E);if(!E.ok)throw new Xp(E);let N=((d=E.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),B;return N==="application/json"?B=yield E.json():N==="application/octet-stream"||N==="application/pdf"?B=yield E.blob():N==="text/event-stream"?B=E:N==="multipart/form-data"?B=yield E.formData():B=yield E.text(),{data:B,error:null,response:E}}catch(h){return{data:null,error:h,response:h instanceof Xp||h instanceof Jp?h.context:void 0}}finally{u&&clearTimeout(u)}})}}const dI=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Yd},FunctionsClient:cI,FunctionsError:Cu,FunctionsFetchError:cw,FunctionsHttpError:Xp,FunctionsRelayError:Jp},Symbol.toStringTag,{value:"Module"})),dw=fc(dI);var _n={};const bc=fc(oI);var L2={},Q2={},H2={},$2={},q2={},G2={},ib;function uw(){if(ib)return G2;ib=1,Object.defineProperty(G2,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return G2.default=a,G2}var ob;function fw(){if(ob)return q2;ob=1,Object.defineProperty(q2,"__esModule",{value:!0});const n=bc.__importDefault(uw());let i=class{constructor(d){var u,f;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(u=d.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=d.signal,this.isMaybeSingle=(f=d.isMaybeSingle)!==null&&f!==void 0?f:!1,d.fetch?this.fetch=d.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,u){return this.headers=new Headers(this.headers),this.headers.set(d,u),this}then(d,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,x,b,y;let w=null,v=null,A=null,j=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?v=I:v=JSON.parse(I))}const N=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");N&&B&&B.length>1&&(A=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(w={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,A=null,j=406,E="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const N=await p.text();try{w=JSON.parse(N),Array.isArray(w)&&p.status===404&&(v=[],w=null,j=200,E="OK")}catch{p.status===404&&N===""?(j=204,E="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((y=w==null?void 0:w.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,j=200,E="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:v,count:A,status:j,statusText:E}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,x,b,y,w,v;let A="";const j=p==null?void 0:p.cause;if(j){const E=(m=j==null?void 0:j.message)!==null&&m!==void 0?m:"",k=(x=j==null?void 0:j.code)!==null&&x!==void 0?x:"";A=`${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"FetchError"}: ${p==null?void 0:p.message}`,A+=`

Caused by: ${(y=j==null?void 0:j.name)!==null&&y!==void 0?y:"Error"}: ${E}`,k&&(A+=` (${k})`),j!=null&&j.stack&&(A+=`
${j.stack}`)}else A=(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(d,u)}returns(){return this}overrideTypes(){return this}};return q2.default=i,q2}var lb;function hw(){if(lb)return $2;lb=1,Object.defineProperty($2,"__esModule",{value:!0});const n=bc.__importDefault(fw());let i=class extends n.default{select(d){let u=!1;const f=(d??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:u=!0,nullsFirst:f,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${d}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${d}`),this}range(d,u,{foreignTable:f,referencedTable:h=f}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${d}`),this.url.searchParams.set(m,`${u-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:u=!1,settings:f=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var x;const b=[d?"analyze":null,u?"verbose":null,f?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}};return $2.default=i,$2}var cb;function Cm(){if(cb)return H2;cb=1,Object.defineProperty(H2,"__esModule",{value:!0});const n=bc.__importDefault(hw()),i=new RegExp("[,()]");let o=class extends n.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}regexMatch(u,f){return this.url.searchParams.append(u,`match.${f}`),this}regexIMatch(u,f){return this.url.searchParams.append(u,`imatch.${f}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}isDistinct(u,f){return this.url.searchParams.append(u,`isdistinct.${f}`),this}in(u,f){const h=Array.from(new Set(f)).map(p=>typeof p=="string"&&i.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${m}fts${x}.${f}`),this}match(u){return Object.entries(u).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(u,f,h){return this.url.searchParams.append(u,`not.${f}.${h}`),this}or(u,{foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,f,h){return this.url.searchParams.append(u,`${f}.${h}`),this}};return H2.default=o,H2}var db;function pw(){if(db)return Q2;db=1,Object.defineProperty(Q2,"__esModule",{value:!0});const n=bc.__importDefault(Cm());let i=class{constructor(d,{headers:u={},schema:f,fetch:h}){this.url=d,this.headers=new Headers(u),this.schema=f,this.fetch=h}select(d,u){const{head:f=!1,count:h}=u??{},p=f?"HEAD":"GET";let m=!1;const x=(d??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:u,defaultToNull:f=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const m=d.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(m.length>0){const x=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(d,{onConflict:u,ignoreDuplicates:f=!1,count:h,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const b=d.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(b.length>0){const y=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(d,{count:u}={}){var f;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:d}={}){var u;const f="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Q2.default=i,Q2}var ub;function uI(){if(ub)return L2;ub=1,Object.defineProperty(L2,"__esModule",{value:!0});const a=bc,n=a.__importDefault(pw()),i=a.__importDefault(Cm());let o=class mw{constructor(u,{headers:f={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(f),this.schemaName=h,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new mw(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:h=!1,get:p=!1,count:m}={}){var x;let b;const y=new URL(`${this.url}/rpc/${u}`);let w;h||p?(b=h?"HEAD":"GET",Object.entries(f).filter(([A,j])=>j!==void 0).map(([A,j])=>[A,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([A,j])=>{y.searchParams.append(A,j)})):(b="POST",w=f);const v=new Headers(this.headers);return m&&v.set("Prefer",`count=${m}`),new i.default({method:b,url:y,headers:v,schema:this.schemaName,body:w,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return L2.default=o,L2}Object.defineProperty(_n,"__esModule",{value:!0});_n.PostgrestError=_n.PostgrestBuilder=_n.PostgrestTransformBuilder=_n.PostgrestFilterBuilder=_n.PostgrestQueryBuilder=_n.PostgrestClient=void 0;const wc=bc,xw=wc.__importDefault(uI());_n.PostgrestClient=xw.default;const vw=wc.__importDefault(pw());_n.PostgrestQueryBuilder=vw.default;const gw=wc.__importDefault(Cm());_n.PostgrestFilterBuilder=gw.default;const bw=wc.__importDefault(hw());_n.PostgrestTransformBuilder=bw.default;const ww=wc.__importDefault(fw());_n.PostgrestBuilder=ww.default;const yw=wc.__importDefault(uw());_n.PostgrestError=yw.default;_n.default={PostgrestClient:xw.default,PostgrestQueryBuilder:vw.default,PostgrestFilterBuilder:gw.default,PostgrestTransformBuilder:bw.default,PostgrestBuilder:ww.default,PostgrestError:yw.default};class Aw{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,d=parseInt(o.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const o=this.getWebSocketConstructor();return new o(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const fI="2.86.2",hI=`realtime-js/${fI}`,kw="1.0.0",pI="2.0.0",fb=kw,Zp=1e4,mI=1e3,xI=100;var Qo;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Qo||(Qo={}));var Gs;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Gs||(Gs={}));var $i;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})($i||($i={}));var e3;(function(a){a.websocket="websocket"})(e3||(e3={}));var Ho;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ho||(Ho={}));class vI{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let o=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,o;const d=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var i,o;const d=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,o){var d,u;const f=n.topic,h=(d=n.ref)!==null&&d!==void 0?d:"",p=(u=n.join_ref)!==null&&u!==void 0?u:"",m=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+f.length+m.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let v=new DataView(w),A=0;v.setUint8(A++,this.KINDS.userBroadcastPush),v.setUint8(A++,p.length),v.setUint8(A++,h.length),v.setUint8(A++,f.length),v.setUint8(A++,m.length),v.setUint8(A++,b.length),v.setUint8(A++,i),Array.from(p,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(h,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(f,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(m,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(b,E=>v.setUint8(A++,E.charCodeAt(0)));var j=new Uint8Array(w.byteLength+o.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(o),w.byteLength),j.buffer}decode(n,i){if(this._isArrayBuffer(n)){let o=this._binaryDecode(n);return i(o)}if(typeof n=="string"){const o=JSON.parse(n),[d,u,f,h,p]=o;return i({join_ref:d,ref:u,topic:f,event:h,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),o=i.getUint8(0),d=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,d)}}_decodeUserBroadcast(n,i,o){const d=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let p=this.HEADER_LENGTH+4;const m=o.decode(n.slice(p,p+d));p=p+d;const x=o.decode(n.slice(p,p+u));p=p+u;const b=o.decode(n.slice(p,p+f));p=p+f;const y=n.slice(p,n.byteLength),w=h===this.JSON_ENCODING?JSON.parse(o.decode(y)):y,v={type:this.BROADCAST_EVENT,event:x,payload:w};return f>0&&(v.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([o])=>i.includes(o)))}}class jw{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ga;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ga||(Ga={}));const hb=(a,n,i={})=>{var o;const d=(o=i.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=gI(f,a,n,d),u),{}):{}},gI=(a,n,i,o)=>{const d=n.find(h=>h.name===a),u=d==null?void 0:d.type,f=i[a];return u&&!o.includes(u)?Nw(u,f):t3(f)},Nw=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return AI(n,i)}switch(a){case Ga.bool:return bI(n);case Ga.float4:case Ga.float8:case Ga.int2:case Ga.int4:case Ga.int8:case Ga.numeric:case Ga.oid:return wI(n);case Ga.json:case Ga.jsonb:return yI(n);case Ga.timestamp:return kI(n);case Ga.abstime:case Ga.date:case Ga.daterange:case Ga.int4range:case Ga.int8range:case Ga.money:case Ga.reltime:case Ga.text:case Ga.time:case Ga.timestamptz:case Ga.timetz:case Ga.tsrange:case Ga.tstzrange:return t3(n);default:return t3(n)}},t3=a=>a,bI=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},wI=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},yI=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},AI=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,o=a[i];if(a[0]==="{"&&o==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>Nw(n,h))}return a},kI=a=>typeof a=="string"?a.replace(" ","T"):a,Sw=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Uh{constructor(n,i,o={},d=Zp){this.channel=n,this.event=i,this.payload=o,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var o;return this._hasReceived(n)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var r3;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(r3||(r3={}));let Ew=class ud{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},d=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ud.syncState(this.state,d,u,f),this.pendingDiffs.forEach(p=>{this.state=ud.syncDiff(this.state,p,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},d=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=ud.syncDiff(this.state,d,u,f),h())}),this.onJoin((d,u,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:u,newPresences:f})}),this.onLeave((d,u,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,o,d){const u=this.cloneDeep(n),f=this.transformState(i),h={},p={};return this.map(u,(m,x)=>{f[m]||(p[m]=x)}),this.map(f,(m,x)=>{const b=u[m];if(b){const y=x.map(j=>j.presence_ref),w=b.map(j=>j.presence_ref),v=x.filter(j=>w.indexOf(j.presence_ref)<0),A=b.filter(j=>y.indexOf(j.presence_ref)<0);v.length>0&&(h[m]=v),A.length>0&&(p[m]=A)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:p},o,d)}static syncDiff(n,i,o,d){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),d||(d=()=>{}),this.map(u,(h,p)=>{var m;const x=(m=n[h])!==null&&m!==void 0?m:[];if(n[h]=this.cloneDeep(p),x.length>0){const b=n[h].map(w=>w.presence_ref),y=x.filter(w=>b.indexOf(w.presence_ref)<0);n[h].unshift(...y)}o(h,x,p)}),this.map(f,(h,p)=>{let m=n[h];if(!m)return;const x=p.map(b=>b.presence_ref);m=m.filter(b=>x.indexOf(b.presence_ref)<0),n[h]=m,d(h,m,p),m.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(o=>i(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,o)=>{const d=n[o];return"metas"in d?i[o]=d.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[o]=d,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var a3;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(a3||(a3={}));var Vl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Vl||(Vl={}));var d1;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(d1||(d1={}));const jI=Gs;let Cw=class Iw{constructor(n,i={config:{}},o){var d,u;if(this.topic=n,this.params=i,this.socket=o,this.bindings={},this.state=Gs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Uh(this,$i.join,this.params,this.timeout),this.rejoinTimer=new jw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gs.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Gs.errored,this.rejoinTimer.scheduleTimeout())}),this._on($i.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Ew(this),this.broadcastEndpointURL=Sw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var o,d,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Gs.closed){const{config:{broadcast:f,presence:h,private:p}}=this.params,m=(d=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(w=>w.filter))!==null&&d!==void 0?d:[],x=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},y={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>n==null?void 0:n(d1.CHANNEL_ERROR,w)),this._onClose(()=>n==null?void 0:n(d1.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var v;if(this.socket.setAuth(),w===void 0){n==null||n(d1.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,j=(v=A==null?void 0:A.length)!==null&&v!==void 0?v:0,E=[];for(let k=0;k<j;k++){const N=A[k],{filter:{event:B,schema:I,table:D,filter:T}}=N,M=w&&w[k];if(M&&M.event===B&&M.schema===I&&M.table===D&&M.filter===T)E.push(Object.assign(Object.assign({},N),{id:M.id}));else{this.unsubscribe(),this.state=Gs.errored,n==null||n(d1.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(d1.SUBSCRIBED);return}}).receive("error",w=>{this.state=Gs.errored,n==null||n(d1.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(d1.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,o){return this.state===Gs.joined&&n===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,o)}async httpSend(n,i,o={}){var d;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var o,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((d=m.body)===null||d===void 0?void 0:d.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,p;const m=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Gs.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($i.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(d=>{o=new Uh(this,$i.leave,{},n),o.receive("ok",()=>{i(),d("ok")}).receive("timeout",()=>{i(),d("timed out")}).receive("error",()=>{d("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gs.closed,this.bindings={}}async _fetchWithTimeout(n,i,o){const d=new AbortController,u=setTimeout(()=>d.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:d.signal}));return clearTimeout(u),f}_push(n,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Uh(this,n,i,o);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>xI){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,o){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,o){var d,u;const f=n.toLocaleLowerCase(),{close:h,error:p,leave:m,join:x}=$i;if(o&&[h,p,m,x].indexOf(f)>=0&&o!==this._joinRef())return;let y=this._onMessage(f,i,o);if(i&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(w=>{var v,A,j;return((v=w.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(A=w.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(w=>w.callback(y,o)):(u=this.bindings[f])===null||u===void 0||u.filter(w=>{var v,A,j,E,k,N;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const B=w.id,I=(v=w.filter)===null||v===void 0?void 0:v.event;return B&&((A=i.ids)===null||A===void 0?void 0:A.includes(B))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const B=(k=(E=w==null?void 0:w.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return B==="*"||B===((N=i==null?void 0:i.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof y=="object"&&"ids"in y){const v=y.data,{schema:A,table:j,commit_timestamp:E,type:k,errors:N}=v;y=Object.assign(Object.assign({},{schema:A,table:j,commit_timestamp:E,eventType:k,new:{},old:{},errors:N}),this._getPayloadRecords(v))}w.callback(y,o)})}_isClosed(){return this.state===Gs.closed}_isJoined(){return this.state===Gs.joined}_isJoining(){return this.state===Gs.joining}_isLeaving(){return this.state===Gs.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,o){const d=n.toLocaleLowerCase(),u={type:d,filter:i,callback:o};return this.bindings[d]?this.bindings[d].push(u):this.bindings[d]=[u],this}_off(n,i){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(d=>{var u;return!(((u=d.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Iw.isEqual(d.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const o in n)if(n[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on($i.close,{},n)}_onError(n){this._on($i.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gs.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=hb(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=hb(n.columns,n.old_record)),i}};const zh=()=>{},Y2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NI=[1e3,2e3,5e3,1e4],SI=1e4,EI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let CI=class{constructor(n,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zp,this.transport=null,this.heartbeatIntervalMs=Y2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zh,this.ref=0,this.reconnectTimer=null,this.vsn=fb,this.logger=zh,this.conn=null,this.sendBuffer=[],this.serializer=new vI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...u)=>d(...u):(...u)=>fetch(...u),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${e3.websocket}`,this.httpEndpoint=Sw(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Aw.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,o){this.logger(n,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return Ho.Connecting;case Qo.open:return Ho.Open;case Qo.closing:return Ho.Closing;default:return Ho.Closed}}isConnected(){return this.connectionState()===Ho.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const o=`realtime:${n}`,d=this.getChannels().find(u=>u.topic===o);if(d)return d;{const u=new Cw(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:o,payload:d,ref:u}=n,f=()=>{this.encode(n,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${i} ${o} (${u})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(mI,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Y2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:d,payload:u,ref:f}=i,h=f?`(${f})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${d} ${h}`.trim(),u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(d,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qo.open||this.conn.readyState===Qo.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger($i.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const o=n.match(/\?/)?"&":"?",d=new URLSearchParams(i);return`${n}${o}${d}`}_workerObjectUrl(n){let i;if(n)i=n;else{const o=new Blob([EI],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const d={access_token:i,version:hI};i&&o.updateJoinPayload(d),o.joinedOnce&&o._isJoined()&&o._push($i.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(i)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new jw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Y2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,o,d,u,f,h,p,m,x,b,y,w;switch(this.transport=(i=n==null?void 0:n.transport)!==null&&i!==void 0?i:null,this.timeout=(o=n==null?void 0:n.timeout)!==null&&o!==void 0?o:Zp,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:Y2.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n==null?void 0:n.heartbeatCallback)!==null&&h!==void 0?h:zh,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:fb,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n==null?void 0:n.reconnectAfterMs)!==null&&m!==void 0?m:v=>NI[v-1]||SI,this.vsn){case kw:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:(v,A)=>A(JSON.stringify(v)),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:(v,A)=>A(JSON.parse(v));break;case pI:this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=n==null?void 0:n.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}};const II=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:jI,get REALTIME_LISTEN_TYPES(){return Vl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return a3},get REALTIME_PRESENCE_LISTEN_EVENTS(){return r3},get REALTIME_SUBSCRIBE_STATES(){return d1},RealtimeChannel:Cw,RealtimeClient:CI,RealtimePresence:Ew,WebSocketFactory:Aw},Symbol.toStringTag,{value:"Module"})),Bw=fc(II);class t2 extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ds(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Dw extends t2{constructor(n,i,o){super(n),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vd extends t2{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const Im=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),BI=()=>Response,s3=a=>{if(Array.isArray(a))return a.map(i=>s3(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,o])=>{const d=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[d]=s3(o)}),n},DI=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},TI=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),Lh=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},RI=(a,n,i)=>Pt(void 0,void 0,void 0,function*(){const o=yield BI();a instanceof o&&!(i!=null&&i.noResolveJson)?a.json().then(d=>{const u=a.status||500,f=(d==null?void 0:d.statusCode)||u+"";n(new Dw(Lh(d),u,f))}).catch(d=>{n(new Vd(Lh(d),d))}):n(new Vd(Lh(a),a))}),MI=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!o?d:(DI(o)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(o)):d.body=o,n!=null&&n.duplex&&(d.duplex=n.duplex),Object.assign(Object.assign({},d),i))};function r2(a,n,i,o,d,u){return Pt(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,MI(n,o,d,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>RI(p,h,o))})})}function q0(a,n,i,o){return Pt(this,void 0,void 0,function*(){return r2(a,"GET",n,i,o)})}function Qi(a,n,i,o,d){return Pt(this,void 0,void 0,function*(){return r2(a,"POST",n,o,d,i)})}function n3(a,n,i,o,d){return Pt(this,void 0,void 0,function*(){return r2(a,"PUT",n,o,d,i)})}function FI(a,n,i,o){return Pt(this,void 0,void 0,function*(){return r2(a,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Bm(a,n,i,o,d){return Pt(this,void 0,void 0,function*(){return r2(a,"DELETE",n,o,d,i)})}class PI{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return Pt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ds(n))return{data:null,error:n};throw n}})}}var Tw;class _I{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[Tw]="BlobDownloadBuilder",this.promise=null}asStream(){return new PI(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Pt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ds(n))return{data:null,error:n};throw n}})}}Tw=Symbol.toStringTag;const OI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UI{constructor(n,i={},o,d){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=o,this.fetch=Im(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,o,d){return Pt(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},pb),d);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),d!=null&&d.headers&&(h=Object.assign(Object.assign({},h),d.headers));const m=this._removeEmptyFolders(i),x=this._getFinalPath(m),b=yield(n=="PUT"?n3:Qi)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:h},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ds(u))return{data:null,error:u};throw u}})}upload(n,i,o){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,o)})}uploadToSignedUrl(n,i,o,d){return Pt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",i);try{let p;const m=Object.assign({upsert:pb.upsert},d),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const b=yield n3(this.fetch,h.toString(),p,{headers:x});return{data:{path:u,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ds(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,i){return Pt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const d=Object.assign({},this.headers);i!=null&&i.upsert&&(d["x-upsert"]="true");const u=yield Qi(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:d}),f=new URL(this.url+u.url),h=f.searchParams.get("token");if(!h)throw new t2("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:h},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}update(n,i,o){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,o)})}move(n,i,o){return Pt(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}copy(n,i,o){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}createSignedUrl(n,i,o){return Pt(this,void 0,void 0,function*(){try{let d=this._getFinalPath(n),u=yield Qi(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}createSignedUrls(n,i,o){return Pt(this,void 0,void 0,function*(){try{const d=yield Qi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}download(n,i){const d=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=u?`?${u}`:"",h=this._getFinalPath(n),p=()=>q0(this.fetch,`${this.url}/${d}/${h}${f}`,{headers:this.headers,noResolveJson:!0});return new _I(p,this.shouldThrowOnError)}info(n){return Pt(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const o=yield q0(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:s3(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}exists(n){return Pt(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield FI(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o)&&o instanceof Vd){const d=o.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,i){const o=this._getFinalPath(n),d=[],u=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&d.push(u);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});p!==""&&d.push(p);let m=d.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${m}`)}}}remove(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Bm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}list(n,i,o){return Pt(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},OI),i),{prefix:n||""});return{data:yield Qi(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},o),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}listV2(n,i){return Pt(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield Qi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Rw="2.86.2",Mw={"X-Client-Info":`storage-js/${Rw}`};class zI{constructor(n,i={},o,d){this.shouldThrowOnError=!1;const u=new URL(n);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mw),i),this.fetch=Im(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return Pt(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield q0(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}getBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}createBucket(n){return Pt(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}updateBucket(n,i){return Pt(this,void 0,void 0,function*(){try{return{data:yield n3(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}emptyBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Bm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var G0=class extends Error{constructor(a,n){var i;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((i=n.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LI(a,n,i){const o=new URL(n,a);if(i)for(const[d,u]of Object.entries(i))u!==void 0&&o.searchParams.set(d,u);return o.toString()}async function QI(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function HI(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:d,body:u,headers:f}){const h=LI(a.baseUrl,o,d),p=await QI(a.auth),m=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...p,...f},body:u?JSON.stringify(u):void 0}),x=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),y=b&&x?JSON.parse(x):x;if(!m.ok){const w=b?y:void 0,v=w==null?void 0:w.error;throw new G0((v==null?void 0:v.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:w})}return{status:m.status,headers:m.headers,data:y}}}}function V2(a){return a.join("")}var $I=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:V2(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${V2(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${V2(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${V2(a.namespace)}`}),!0}catch(n){if(n instanceof G0&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof G0&&i.status===409)return;throw i}}};function kl(a){return a.join("")}var qI=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof G0&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof G0&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},GI=class{constructor(a){var o;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=HI({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(o=a.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new $I(this.client,n),this.tableOps=new qI(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class Fw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mw),i),this.fetch=Im(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}listBuckets(n){return Pt(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&i.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&i.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&i.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&i.set("sortOrder",n.sortOrder),n!=null&&n.search&&i.set("search",n.search);const o=i.toString(),d=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield q0(this.fetch,d,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Bm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}from(n){if(!TI(n))throw new t2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new GI({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>Pt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Dm={"X-Client-Info":`storage-js/${Rw}`,"Content-Type":"application/json"};class Tm extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ri(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class fd extends Tm{constructor(n,i,o){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pw extends Tm{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var i3;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(i3||(i3={}));const Iu=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),YI=()=>Response,_w=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},VI=a=>Array.from(new Float32Array(a)),KI=(a,n)=>{if(n!==void 0&&a.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${a.float32.length}`)},mb=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),WI=(a,n,i)=>Pt(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(i!=null&&i.noResolveJson)){const d=a.status||500,u=a;if(typeof u.json=="function")u.json().then(f=>{const h=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new fd(mb(f),d,h))}).catch(()=>{const f=d+"",h=u.statusText||`HTTP ${d} error`;n(new fd(h,d,f))});else{const f=d+"",h=u.statusText||`HTTP ${d} error`;n(new fd(h,d,f))}}else n(new Pw(mb(a),a))}),JI=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return o?(_w(o)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(o)):d.body=o,Object.assign(Object.assign({},d),i)):d};function XI(a,n,i,o,d,u){return Pt(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,JI(n,o,d,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>WI(p,h,o))})})}function gi(a,n,i,o,d){return Pt(this,void 0,void 0,function*(){return XI(a,"POST",n,o,d,i)})}class Ow{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=Iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return Pt(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}getIndex(n,i){return Pt(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ri(o))return{data:null,error:o};throw o}})}listIndexes(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return Pt(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ri(o))return{data:null,error:o};throw o}})}}class Uw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=Iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return Pt(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}getVectors(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}listVectors(n){return Pt(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield gi(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}queryVectors(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}deleteVectors(n){return Pt(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}}class zw{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=Iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}getBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}listBuckets(){return Pt(this,arguments,void 0,function*(n={}){try{return{data:yield gi(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Pt(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}}class Lw extends zw{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new Qw(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Pt(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Pt(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Pt(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Pt(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class Qw extends Ow{constructor(n,i,o,d){super(n,i,d),this.vectorBucketName=o}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Pt(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Pt(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Pt(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Pt(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Hw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Hw extends Uw{constructor(n,i,o,d,u){super(n,i,u),this.vectorBucketName=o,this.indexName=d}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Pt(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Pt(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Pt(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Pt(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Pt(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ZI extends zI{constructor(n,i={},o,d){super(n,i,o,d)}from(n){return new UI(this.url,this.headers,n,this.fetch)}get vectors(){return new Lw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fw(this.url+"/iceberg",this.headers,this.fetch)}}const eB=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Fw,StorageApiError:Dw,StorageClient:ZI,StorageError:t2,StorageUnknownError:Vd,StorageVectorsApiError:fd,StorageVectorsClient:Lw,StorageVectorsError:Tm,get StorageVectorsErrorCode(){return i3},StorageVectorsUnknownError:Pw,VectorBucketApi:zw,VectorBucketScope:Qw,VectorDataApi:Uw,VectorIndexApi:Ow,VectorIndexScope:Hw,isPlainObject:_w,isStorageError:ds,isStorageVectorsError:ri,normalizeToFloat32:VI,resolveFetch:Iu,resolveResponse:YI,validateVectorDimension:KI},Symbol.toStringTag,{value:"Module"})),tB=fc(eB);var $w={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.version=void 0;Bu.version="2.86.2";(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const n=Bu;let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${n.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})($w);var qw={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const n=d=>d?(...u)=>d(...u):(...u)=>fetch(...u);a.resolveFetch=n;const i=()=>Headers;a.resolveHeadersConstructor=i;const o=(d,u,f)=>{const h=(0,a.resolveFetch)(f),p=(0,a.resolveHeadersConstructor)();return async(m,x)=>{var b;const y=(b=await u())!==null&&b!==void 0?b:d;let w=new p(x==null?void 0:x.headers);return w.has("apikey")||w.set("apikey",d),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),h(m,Object.assign(Object.assign({},x),{headers:w}))}};a.fetchWithAuth=o})(qw);var No={};Object.defineProperty(No,"__esModule",{value:!0});No.isBrowser=void 0;No.uuid=rB;No.ensureTrailingSlash=Gw;No.applySettingDefaults=sB;No.validateSupabaseUrl=nB;function rB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var n=Math.random()*16|0,i=a=="x"?n:n&3|8;return i.toString(16)})}function Gw(a){return a.endsWith("/")?a:a+"/"}const aB=()=>typeof window<"u";No.isBrowser=aB;function sB(a,n){var i,o;const{db:d,auth:u,realtime:f,global:h}=a,{db:p,auth:m,realtime:x,global:b}=n,y={db:Object.assign(Object.assign({},p),d),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},b),h),{headers:Object.assign(Object.assign({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return a.accessToken?y.accessToken=a.accessToken:delete y.accessToken,y}function nB(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Du={};const Yw="2.86.2",El=30*1e3,o3=3,Qh=o3*El,iB="http://localhost:9999",oB="supabase.auth.token",lB={"X-Client-Info":`gotrue-js/${Yw}`},l3="X-Supabase-Api-Version",Vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dB=10*60*1e3;let lc=class extends Error{constructor(n,i,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}};function zt(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let Kw=class extends lc{constructor(n,i,o){super(n,i,o),this.name="AuthApiError",this.status=i,this.code=o}};function Ww(a){return zt(a)&&a.name==="AuthApiError"}let J1=class extends lc{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}},z1=class extends lc{constructor(n,i,o,d){super(n,o,d),this.name=i,this.status=o}},Zn=class extends z1{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Jw(a){return zt(a)&&a.name==="AuthSessionMissingError"}let Uo=class extends z1{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},h0=class extends z1{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},p0=class extends z1{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Xw(a){return zt(a)&&a.name==="AuthImplicitGrantRedirectError"}let c3=class extends z1{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Kd=class extends z1{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}};function hd(a){return zt(a)&&a.name==="AuthRetryableFetchError"}let d3=class extends z1{constructor(n,i,o){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}};function uB(a){return zt(a)&&a.name==="AuthWeakPasswordError"}let Wd=class extends z1{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xb=` 	
\r=`.split(""),fB=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<xb.length;n+=1)a[xb[n].charCodeAt(0)]=-2;for(let n=0;n<Jd.length;n+=1)a[Jd[n].charCodeAt(0)]=n;return a})();function vb(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Jd[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Jd[o]),n.queuedBits-=6}}function Zw(a,n,i){const o=fB[a];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function gb(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},u=f=>{mB(f,o,i)};for(let f=0;f<a.length;f+=1)Zw(a.charCodeAt(f),d,u);return n.join("")}function hB(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function pB(a,n){for(let i=0;i<a.length;i+=1){let o=a.charCodeAt(i);if(o>55295&&o<=56319){const d=(o-55296)*1024&65535;o=(a.charCodeAt(i+1)-56320&65535|d)+65536,i+=1}hB(o,n)}}function mB(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let o=1;o<6;o+=1)if(!(a>>7-o&1)){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Kl(a){const n=[],i={queue:0,queuedBits:0},o=d=>{n.push(d)};for(let d=0;d<a.length;d+=1)Zw(a.charCodeAt(d),i,o);return new Uint8Array(n)}function xB(a){const n=[];return pB(a,i=>n.push(i)),new Uint8Array(n)}function Yo(a){const n=[],i={queue:0,queuedBits:0},o=d=>{n.push(d)};return a.forEach(d=>vb(d,i,o)),vb(null,i,o),n.join("")}function vB(a){return Math.round(Date.now()/1e3)+a}function gB(){return Symbol("auth-callback")}const kn=()=>typeof window<"u"&&typeof document<"u",Fo={tested:!1,writable:!1},ey=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fo.tested)return Fo.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Fo.tested=!0,Fo.writable=!0}catch{Fo.tested=!0,Fo.writable=!1}return Fo.writable};function bB(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((d,u)=>{n[u]=d})}catch{}return i.searchParams.forEach((o,d)=>{n[d]=o}),n}const ty=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),wB=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Cl=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},Po=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},An=async(a,n)=>{await a.removeItem(n)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Tu.promiseConstructor=Promise;function Hh(a){const n=a.split(".");if(n.length!==3)throw new Wd("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!cB.test(n[o]))throw new Wd("JWT not in base64url format");return{header:JSON.parse(gb(n[0])),payload:JSON.parse(gb(n[1])),signature:Kl(n[2]),raw:{header:n[0],payload:n[1]}}}async function yB(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function AB(a,n){return new Promise((o,d)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){o(f);return}}catch(f){if(!n(u,f)){d(f);return}}})()})}function kB(a){return("0"+a.toString(16)).substr(-2)}function jB(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let d="";for(let u=0;u<56;u++)d+=i.charAt(Math.floor(Math.random()*o));return d}return crypto.getRandomValues(n),Array.from(n,kB).join("")}async function NB(a){const i=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",i),d=new Uint8Array(o);return Array.from(d).map(u=>String.fromCharCode(u)).join("")}async function SB(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await NB(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jl(a,n,i=!1){const o=jB();let d=o;i&&(d+="/PASSWORD_RECOVERY"),await Cl(a,`${n}-code-verifier`,d);const u=await SB(o);return[u,o===u?"plain":"s256"]}const EB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CB(a){const n=a.headers.get(l3);if(!n||!n.match(EB))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function IB(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function BB(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nl(a){if(!DB.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $h(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TB(a,n){return new Proxy(a,{get:(i,o,d)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,d)}return!n.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,o,d)}})}function bb(a){return JSON.parse(JSON.stringify(a))}const zo=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),RB=[502,503,504];async function wb(a){var n;if(!wB(a))throw new Kd(zo(a),0);if(RB.includes(a.status))throw new Kd(zo(a),a.status);let i;try{i=await a.json()}catch(u){throw new J1(zo(u),u)}let o;const d=CB(a);if(d&&d.getTime()>=Vw["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new d3(zo(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new Zn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new d3(zo(i),a.status,i.weak_password.reasons);throw new Kw(zo(i),a.status||500,o)}const MB=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(o),Object.assign(Object.assign({},d),i))};async function er(a,n,i,o){var d;const u=Object.assign({},o==null?void 0:o.headers);u[l3]||(u[l3]=Vw["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(d=o==null?void 0:o.query)!==null&&d!==void 0?d:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await FB(a,n,i+h,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function FB(a,n,i,o,d,u){const f=MB(n,o,d,u);let h;try{h=await a(i,Object.assign({},f))}catch(p){throw console.error(p),new Kd(zo(p),0)}if(h.ok||await wb(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(p){await wb(p)}}function zi(a){var n;let i=null;OB(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=vB(a.expires_in)));const o=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:o},error:null}}function yb(a){const n=zi(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(n.data.weak_password=a.weak_password),n}function X1(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function PB(a){return{data:a,error:null}}function _B(a){const{action_link:n,email_otp:i,hashed_token:o,redirect_to:d,verification_type:u}=a,f=gc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:o,redirect_to:d,verification_type:u},p=Object.assign({},f);return{data:{properties:h,user:p},error:null}}function Ab(a){return a}function OB(a){return a.access_token&&a.refresh_token&&a.expires_in}const pd=["global","local","others"];let Rm=class{constructor({url:n="",headers:i={},fetch:o}){this.url=n,this.headers=i,this.fetch=ty(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=pd[0]){if(pd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return await er(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,i={}){try{return await er(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:X1})}catch(o){if(zt(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:i}=n,o=gc(n,["options"]),d=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(d.new_email=o==null?void 0:o.newEmail,delete d.newEmail),await er(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:_B,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(zt(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await er(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:X1})}catch(i){if(zt(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,o,d,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await er(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:Ab});if(x.error)throw x.error;const b=await x.json(),y=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(v=>{const A=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);m[`${j}Page`]=A}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(zt(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){Nl(n);try{return await er(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:X1})}catch(i){if(zt(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Nl(n);try{return await er(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:X1})}catch(o){if(zt(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,i=!1){Nl(n);try{return await er(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:X1})}catch(o){if(zt(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){Nl(n.userId);try{const{data:i,error:o}=await er(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:i,error:o}}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Nl(n.userId),Nl(n.id);try{return{data:await er(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,o,d,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await er(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:Ab});if(x.error)throw x.error;const b=await x.json(),y=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(v=>{const A=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);m[`${j}Page`]=A}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(zt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await er(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await er(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(zt(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(n){try{return await er(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(zt(i))return{data:null,error:i};throw i}}};function kb(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Lo={debug:!!(globalThis&&ey()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let ry=class extends Mm{};class UB extends Mm{}async function ay(a,n,i){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async d=>{if(d){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await i()}finally{Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}else{if(n===0)throw Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new ry(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Lo.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const jb={};async function zB(a,n,i){var o;const d=(o=jb[a])!==null&&o!==void 0?o:Promise.resolve(),u=Promise.race([d.catch(()=>null),n>=0?new Promise((f,h)=>{setTimeout(()=>{h(new UB(`Acquring process lock with name "${a}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await i());return jb[a]=u.catch(async f=>{if(f&&f.isAcquireTimeout)return await d,null;throw f}),await u}function LB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function QB(a){return parseInt(a,16)}function HB(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function $B(a){var n;const{chainId:i,domain:o,expirationTime:d,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:p,resources:m,scheme:x,uri:b,version:y}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=sy(a.address),v=x?`${x}://${o}`:o,A=a.statement?`${a.statement}
`:"",j=`${v} wants you to sign in with your Ethereum account:
${w}

${A}`;let E=`URI: ${b}
Version: ${y}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(d&&(E+=`
Expiration Time: ${d.toISOString()}`),h&&(E+=`
Not Before: ${h.toISOString()}`),p&&(E+=`
Request ID: ${p}`),m){let k=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);k+=`
- ${N}`}E+=k}return`${j}
${E}`}class Ys extends Error{constructor({message:n,code:i,cause:o,name:d}){var u;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=d??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Xd extends Ys{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function qB({error:a,options:n}){var i,o,d;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ys({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ys({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ys({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((d=u.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Ys({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Ys({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Ys({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ys({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Ys({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(ny(f)){if(u.rp.id!==f)return new Ys({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ys({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ys({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Ys({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ys({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function GB({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ys({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Ys({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const o=window.location.hostname;if(ny(o)){if(i.rpId!==o)return new Ys({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ys({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Ys({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ys({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class YB{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const VB=new YB;function KB(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:o}=a,d=gc(a,["challenge","user","excludeCredentials"]),u=Kl(n).buffer,f=Object.assign(Object.assign({},i),{id:Kl(i.id).buffer}),h=Object.assign(Object.assign({},d),{challenge:u,user:f});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Kl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function WB(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,o=gc(a,["challenge","allowCredentials"]),d=Kl(n).buffer,u=Object.assign(Object.assign({},o),{challenge:d});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Kl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function JB(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Yo(new Uint8Array(a.response.attestationObject)),clientDataJSON:Yo(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function XB(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,o=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Yo(new Uint8Array(d.authenticatorData)),clientDataJSON:Yo(new Uint8Array(d.clientDataJSON)),signature:Yo(new Uint8Array(d.signature)),userHandle:d.userHandle?Yo(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ny(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Nb(){var a,n;return!!(kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function ZB(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xd("Browser returned unexpected credential type",n)}:{data:null,error:new Xd("Empty credential response",n)}}catch(n){return{data:null,error:qB({error:n,options:a})}}}async function eD(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xd("Browser returned unexpected credential type",n)}:{data:null,error:new Xd("Empty credential response",n)}}catch(n){return{data:null,error:GB({error:n,options:a})}}}const tD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zd(...a){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),i=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),o={};for(const d of a)if(d)for(const u in d){const f=d[u];if(f!==void 0)if(Array.isArray(f))o[u]=f;else if(i(f))o[u]=f;else if(n(f)){const h=o[u];n(h)?o[u]=Zd(h,f):o[u]=Zd(f)}else o[u]=f}return o}function aD(a,n){return Zd(tD,a,n||{})}function sD(a,n){return Zd(rD,a,n||{})}class nD{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:o,signal:d},u){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:h};const p=d??VB.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=aD(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:b}=await ZB({publicKey:m,signal:p});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const m=sD(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:b}=await eD(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:p}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(f){return zt(f)?{data:null,error:f}:{data:null,error:new J1("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!i)return{data:null,error:new lc("rpId is required for WebAuthn authentication")};try{if(!Nb())return{data:null,error:new J1("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:o},signal:d},{request:u});if(!f)return{data:null,error:h};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:o,credential_response:p.credential_response}})}catch(f){return zt(f)?{data:null,error:f}:{data:null,error:new J1("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!i)return{data:null,error:new lc("rpId is required for WebAuthn registration")};try{if(!Nb())return{data:null,error:new J1("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===n&&y.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:d},{create:u});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(f){return zt(f)?{data:null,error:f}:{data:null,error:new J1("Unexpected error in register",f)}}}}LB();const iD={url:iB,storageKey:oB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sb(a,n,i){return await i()}const Sl={};let Fm=class u3{get jwks(){var n,i;return(i=(n=Sl[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Sl[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{cachedAt:n})}constructor(n){var i,o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},iD),n);if(this.storageKey=u.storageKey,this.instanceID=(i=u3.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,u3.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&kn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Rm({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=ty(u.fetch),this.lock=u.lock||Sb,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:kn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=ay:this.lock=Sb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:ey()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kb(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=kb(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yw}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},o="none";if(kn()&&(i=bB(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),kn()&&this.detectSessionInUrl&&o!=="none"){const{data:d,error:u}=await this._getSessionFromURL(i,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Xw(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:h}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return zt(i)?this._returnResult({error:i}):this._returnResult({error:new J1("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,o,d;try{const u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:zi}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(zt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,o,d;try{let u;if("email"in n){const{email:x,password:b,options:y}=n;let w=null,v=null;this.flowType==="pkce"&&([w,v]=await jl(this.storage,this.storageKey)),u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:x,password:b,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:v},xform:zi})}else if("phone"in n){const{phone:x,password:b,options:y}=n;u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},channel:(d=y==null?void 0:y.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zi})}else throw new h0("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await An(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yb})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yb})}else throw new h0("You must provide either an email or phone number and a password");const{data:o,error:d}=i;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!o||!o.session||!o.user){const u=new Uo;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:d})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,o,d,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,o,d,u,f,h,p,m,x,b,y;let w,v;if("message"in n)w=n.message,v=n.signature;else{const{chain:A,wallet:j,statement:E,options:k}=n;let N;if(kn())if(typeof j=="object")N=j;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")N=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const B=new URL((i=k==null?void 0:k.url)!==null&&i!==void 0?i:window.location.href),I=await N.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=sy(I[0]);let T=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!T){const Q=await N.request({method:"eth_chainId"});T=QB(Q)}const M={domain:B.host,address:D,statement:E,uri:B.href,version:"1",chainId:T,nonce:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=k==null?void 0:k.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=k==null?void 0:k.signInWithEthereum)===null||x===void 0?void 0:x.resources};w=$B(M),v=await N.request({method:"personal_sign",params:[HB(w),D]})}try{const{data:A,error:j}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:v},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zi});if(j)throw j;if(!A||!A.session||!A.user){const E=new Uo;return this._returnResult({data:{user:null,session:null},error:E})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:j})}catch(A){if(zt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var i,o,d,u,f,h,p,m,x,b,y,w;let v,A;if("message"in n)v=n.message,A=n.signature;else{const{chain:j,wallet:E,statement:k,options:N}=n;let B;if(kn())if(typeof E=="object")B=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))B=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=E}const I=new URL((i=N==null?void 0:N.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const D=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),k?{statement:k}:null));let T;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")T=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)T=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),A=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${I.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(d=(o=N==null?void 0:N.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((b=(x=N==null?void 0:N.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...N.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const D=await B.signMessage(new TextEncoder().encode(v),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=D}}try{const{data:j,error:E}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Yo(A)},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:zi});if(E)throw E;if(!j||!j.session||!j.user){const k=new Uo;return this._returnResult({data:{user:null,session:null},error:k})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:E})}catch(j){if(zt(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const i=await Po(this.storage,`${this.storageKey}-code-verifier`),[o,d]=(i??"").split("/");try{const{data:u,error:f}=await er(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:zi});if(await An(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new Uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:d??null}),error:f})}catch(u){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:o,token:d,access_token:u,nonce:f}=n,h=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:d,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:zi}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const x=new Uo;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,o,d,u,f;try{if("email"in n){const{email:h,options:p}=n;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await jl(this.storage,this.storageKey));const{error:b}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:h,options:p}=n,{data:m,error:x}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(d=p==null?void 0:p.data)!==null&&d!==void 0?d:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x})}throw new h0("You must provide either an email or phone number.")}catch(h){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,o;try{let d,u;"options"in n&&(d=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:h}=await er(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:d,xform:zi});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(d){if(zt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var i,o,d,u,f;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await jl(this.storage,this.storageKey));const m=await er(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:PB});return!((u=m.data)===null||u===void 0)&&u.url&&kn()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)throw o;if(!i)throw new Zn;const{error:d}=await er(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(zt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:o,type:d,options:u}=n,{error:f}=await er(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:o,type:d,options:u}=n,{data:f,error:h}=await er(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new h0("You must provide either an email or phone number and a type")}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Qh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Po(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=$h()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=TB(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:X1}):await this._useSession(async i=>{var o,d,u;const{data:f,error:h}=i;if(h)throw h;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0,xform:X1})})}catch(i){if(zt(i))return Jw(i)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async o=>{const{data:d,error:u}=o;if(u)throw u;if(!d.session)throw new Zn;const f=d.session;let h=null,p=null;this.flowType==="pkce"&&n.email!=null&&([h,p]=await jl(this.storage,this.storageKey));const{data:m,error:x}=await er(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:p}),jwt:f.access_token,xform:X1});if(x)throw x;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Zn;const i=Date.now()/1e3;let o=i,d=!0,u=null;const{payload:f}=Hh(n.access_token);if(f.exp&&(o=f.exp,d=o<=i),d){const{data:h,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(zt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var o;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new Zn;const{data:d,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!kn())throw new p0("No browser detected.");if(n.error||n.error_description||n.error_code)throw new p0(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new c3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new p0("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new c3("No code detected.");const{data:k,error:N}=await this._exchangeCodeForSession(n.code);if(N)throw N;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:d,access_token:u,refresh_token:f,expires_in:h,expires_at:p,token_type:m}=n;if(!u||!h||!f||!m)throw new p0("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(h);let y=x+b;p&&(y=parseInt(p));const w=y-x;w*1e3<=El&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const v=y-b;x-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,x):x-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,y,x);const{data:A,error:j}=await this._getUser(u);if(j)throw j;const E={provider_token:o,provider_refresh_token:d,access_token:u,expires_in:b,expires_at:y,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(o){if(zt(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Po(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({error:u});const f=(o=d.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(Ww(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=gB(),o={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async i=>{var o,d;try{const{data:{session:u},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let o=null,d=null;this.flowType==="pkce"&&([o,d]=await jl(this.storage,this.storageKey,!0));try{return await er(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:d,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:o,error:d}=await this._useSession(async u=>{var f,h,p,m,x;const{data:b,error:y}=u;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await er(this.fetch,"GET",w,{headers:this.headers,jwt:(x=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(d)throw d;return kn()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:n.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(zt(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var o;try{const{error:d,data:{session:u}}=i;if(d)throw d;const{options:f,provider:h,token:p,access_token:m,nonce:x}=n,b=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:p,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zi}),{data:y,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Uo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(d){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var o,d;const{data:u,error:f}=i;if(f)throw f;return await er(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await AB(async d=>(d>0&&await yB(200*Math.pow(2,d-1)),this._debug(i,"refreshing attempt",d),await er(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:zi})),(d,u)=>{const f=200*Math.pow(2,d);return u&&hd(u)&&Date.now()+f-o<El})}catch(o){if(this._debug(i,"error",o),zt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",o),kn()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const d=await Po(this.storage,this.storageKey);if(d&&this.userStorage){let f=await Po(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Cl(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:$h()}else if(d&&!d.user&&!d.user){const f=await Po(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(d.user=f.user,await An(this.storage,this.storageKey+"-user"),await Cl(this.storage,this.storageKey,d)):d.user=$h()}if(this._debug(o,"session from storage",d),!this._isValidSession(d)){this._debug(o,"session is not valid"),d!==null&&await this._removeSession();return}const u=((i=d.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Qh;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Qh}s`),u){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),hd(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(d.access_token);!h&&(f!=null&&f.user)?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(o,"error",d),console.error(d);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var i,o;if(!n)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Tu;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new Zn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(d,"error",u),zt(u)){const f={data:null,error:u};return hd(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,i,o=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(p){u.push(p)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await An(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Cl(this.userStorage,this.storageKey+"-user",{user:i.user});const d=Object.assign({},i);delete d.user;const u=bb(d);await Cl(this.storage,this.storageKey,u)}else{const d=bb(i);await Cl(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),El);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((o.expires_at*1e3-n)/El);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${El}ms, refresh threshold is ${o3} ticks`),d<=o3&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Mm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,o){const d=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&d.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&d.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await jl(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(h.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);d.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&d.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;return u?this._returnResult({data:null,error:u}):await er(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var o,d;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:m}=await er(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&p.type==="totp"&&(!((d=p==null?void 0:p.totp)===null||d===void 0)&&d.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?JB(n.webauthn.credential_response):XB(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:p}=await er(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await er(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:KB(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:WB(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const d={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i==null?void 0:i.factors)!==null&&n!==void 0?n:[])d.all.push(u),u.status==="verified"&&d[u.factor_type].push(u);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:o},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Hh(o.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;return d?this._returnResult({data:null,error:d}):o?await er(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new Zn});const f=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&kn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(zt(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new Zn});const f=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&kn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(zt(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await er(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(n){if(zt(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;return d?this._returnResult({data:null,error:d}):o?(await er(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zn})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let o=i.keys.find(h=>h.kid===n);if(o)return o;const d=Date.now();if(o=this.jwks.keys.find(h=>h.kid===n),o&&this.jwks_cached_at+dB>d)return o;const{data:u,error:f}=await er(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=d,o=u.keys.find(h=>h.kid===n),!o)?null:o}async getClaims(n,i={}){try{let o=n;if(!o){const{data:w,error:v}=await this.getSession();if(v||!w.session)return this._returnResult({data:null,error:v});o=w.session.access_token}const{header:d,payload:u,signature:f,raw:{header:h,payload:p}}=Hh(o);i!=null&&i.allowExpired||IB(u.exp);const m=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:w}=await this.getUser(o);if(w)throw w;return{data:{claims:u,header:d,signature:f},error:null}}const x=BB(d.alg),b=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,f,xB(`${h}.${p}`)))throw new Wd("Invalid JWT signature");return{data:{claims:u,header:d,signature:f},error:null}}catch(o){if(zt(o))return this._returnResult({data:null,error:o});throw o}}};Fm.nextInstanceID={};const oD=Rm,lD=Fm,cD=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:oD,AuthApiError:Kw,AuthClient:lD,AuthError:lc,AuthImplicitGrantRedirectError:p0,AuthInvalidCredentialsError:h0,AuthInvalidJwtError:Wd,AuthInvalidTokenResponseError:Uo,AuthPKCEGrantCodeExchangeError:c3,AuthRetryableFetchError:Kd,AuthSessionMissingError:Zn,AuthUnknownError:J1,AuthWeakPasswordError:d3,CustomAuthError:z1,GoTrueAdminApi:Rm,GoTrueClient:Fm,NavigatorLockAcquireTimeoutError:ry,SIGN_OUT_SCOPES:pd,isAuthApiError:Ww,isAuthError:zt,isAuthImplicitGrantRedirectError:Xw,isAuthRetryableFetchError:hd,isAuthSessionMissingError:Jw,isAuthWeakPasswordError:uB,lockInternals:Lo,navigatorLock:ay,processLock:zB},Symbol.toStringTag,{value:"Module"})),iy=fc(cD);Object.defineProperty(Du,"__esModule",{value:!0});Du.SupabaseAuthClient=void 0;const dD=iy;class uD extends dD.AuthClient{constructor(n){super(n)}}Du.SupabaseAuthClient=uD;Object.defineProperty($d,"__esModule",{value:!0});const fD=dw,hD=_n,pD=Bw,mD=tB,K2=$w,xD=qw,Eb=No,vD=Du;let gD=class{constructor(n,i,o){var d,u,f;this.supabaseUrl=n,this.supabaseKey=i;const h=(0,Eb.validateSupabaseUrl)(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:K2.DEFAULT_DB_OPTIONS,realtime:K2.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},K2.DEFAULT_AUTH_OPTIONS),{storageKey:p}),global:K2.DEFAULT_GLOBAL_OPTIONS},x=(0,Eb.applySettingDefaults)(o??{},m);this.storageKey=(d=x.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(b,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=(0,xD.fetchWithAuth)(i,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new hD.PostgrestClient(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new mD.StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new fD.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,o)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:d,userStorage:u,storageKey:f,flowType:h,lock:p,debug:m,throwOnError:x},b,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vD.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),b),storageKey:f,autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:d,userStorage:u,flowType:h,lock:p,debug:m,throwOnError:x,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new pD.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,i,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};$d.default=gD;(function(a){var n=vr&&vr.__createBinding||(Object.create?function(x,b,y,w){w===void 0&&(w=y);var v=Object.getOwnPropertyDescriptor(b,y);(!v||("get"in v?!b.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return b[y]}}),Object.defineProperty(x,w,v)}:function(x,b,y,w){w===void 0&&(w=y),x[w]=b[y]}),i=vr&&vr.__exportStar||function(x,b){for(var y in x)y!=="default"&&!Object.prototype.hasOwnProperty.call(b,y)&&n(b,x,y)},o=vr&&vr.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const d=o($d);i(iy,a);var u=_n;Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var f=dw;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),i(Bw,a);var h=$d;Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return o(h).default}});const p=(x,b,y)=>new d.default(x,b,y);a.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const b=x.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Sm);const oy=ou(Sm),bD=i6({__proto__:null,default:oy},[Sm]),{PostgrestError:f_,FunctionsHttpError:h_,FunctionsFetchError:p_,FunctionsRelayError:m_,FunctionsError:x_,FunctionRegion:v_,SupabaseClient:g_,createClient:wD,GoTrueAdminApi:b_,GoTrueClient:w_,AuthAdminApi:y_,AuthClient:A_,navigatorLock:k_,NavigatorLockAcquireTimeoutError:j_,lockInternals:N_,processLock:S_,SIGN_OUT_SCOPES:E_,AuthError:C_,AuthApiError:I_,AuthUnknownError:B_,CustomAuthError:D_,AuthSessionMissingError:T_,AuthInvalidTokenResponseError:R_,AuthInvalidCredentialsError:M_,AuthImplicitGrantRedirectError:F_,AuthPKCEGrantCodeExchangeError:P_,AuthRetryableFetchError:__,AuthWeakPasswordError:O_,AuthInvalidJwtError:U_,isAuthError:z_,isAuthApiError:L_,isAuthSessionMissingError:Q_,isAuthImplicitGrantRedirectError:H_,isAuthRetryableFetchError:$_,isAuthWeakPasswordError:q_,RealtimePresence:G_,RealtimeChannel:Y_,RealtimeClient:V_,REALTIME_LISTEN_TYPES:K_,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:W_,REALTIME_PRESENCE_LISTEN_EVENTS:J_,REALTIME_SUBSCRIBE_STATES:X_,REALTIME_CHANNEL_STATES:Z_}=oy||bD,yD="https://naydyhkqodppdhzwkctr.supabase.co",AD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c",Cr=wD(yD,AD,{realtime:{params:{eventsPerSecond:10}}}),kD=[],Ws=O1(U1((a,n)=>({products:kD,categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling"],units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!1,isSyncing:!1,setProducts:i=>a({products:i}),setCategories:i=>a({categories:i}),setUnits:i=>a({units:i}),setStockHistory:i=>a({stockHistory:i}),initRealtime:async()=>{try{await n().fetchProducts(),await n().fetchCategories(),await n().fetchUnits(),a({isOnline:!0}),Cr.channel("products-channel").on("postgres_changes",{event:"*",schema:"public",table:"products"},i=>{console.log("Product change:",i),i.eventType==="INSERT"?a(o=>({products:[...o.products.filter(d=>d.id!==i.new.id),qh(i.new)]})):i.eventType==="UPDATE"?a(o=>({products:o.products.map(d=>d.id===i.new.id?qh(i.new):d)})):i.eventType==="DELETE"&&a(o=>({products:o.products.filter(d=>d.id!==i.old.id)}))}).on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>{n().fetchCategories()}).on("postgres_changes",{event:"*",schema:"public",table:"units"},()=>{n().fetchUnits()}).subscribe()}catch(i){console.error("Realtime init error:",i),a({isOnline:!1})}},fetchProducts:async()=>{a({isSyncing:!0});const{data:i,error:o}=await Cr.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});a(!o&&i?{products:i.map(qh),isSyncing:!1}:{isSyncing:!1})},fetchCategories:async()=>{const{data:i,error:o}=await Cr.from("categories").select("name").order("name");!o&&i&&a({categories:i.map(d=>d.name)})},fetchUnits:async()=>{const{data:i,error:o}=await Cr.from("units").select("name").order("name");!o&&i&&a({units:i.map(d=>d.name)})},addProduct:async(i,o=null,d=null)=>{const u={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),code:i.code||`PRD${String(n().products.length+1).padStart(3,"0")}`};a(f=>({products:[...f.products,u]})),f1.getState().addLog(ji.PRODUCT_ADD,{productId:u.id,productCode:u.code,productName:u.name,category:u.category,price:u.price,stock:u.stock},o,d);{const{error:f}=await Cr.from("products").insert({id:u.id,code:u.code,sku:u.sku,barcode:u.barcode,name:u.name,description:u.description,category:u.category,unit:u.unit,price:u.price||0,cost:u.cost||0,stock:u.stock||0,min_stock:u.minStock||0,max_stock:u.maxStock||0,image_url:u.image,parent_id:u.parentId,variant_name:u.variantName});f&&console.error("Error adding product to Supabase:",f)}},updateProduct:async(i,o,d=null,u=null)=>{const f=n().products.find(h=>h.id===i);a(h=>({products:h.products.map(p=>p.id===i?{...p,...o}:p)})),f1.getState().addLog(ji.PRODUCT_EDIT,{productId:i,productName:o.name||(f==null?void 0:f.name),changes:Object.keys(o).filter(h=>f&&o[h]!==f[h])},d,u);{const{error:h}=await Cr.from("products").update({code:o.code,sku:o.sku,barcode:o.barcode,name:o.name,description:o.description,category:o.category,unit:o.unit,price:o.price,cost:o.cost,stock:o.stock,min_stock:o.minStock,max_stock:o.maxStock,image_url:o.image}).eq("id",i);h&&console.error("Error updating product:",h)}},deleteProduct:async(i,o=null,d=null)=>{const u=n().products.find(f=>f.id===i);f1.getState().addLog(ji.PRODUCT_DELETE,{productId:i,productCode:u==null?void 0:u.code,productName:u==null?void 0:u.name},o,d),a(f=>({products:f.products.filter(h=>h.id!==i)}));{const{error:f}=await Cr.from("products").update({is_active:!1}).eq("id",i);f&&console.error("Error deleting product:",f)}},addCategory:async i=>{a(o=>({categories:[...o.categories,i]})),await Cr.from("categories").insert({name:i})},removeCategory:async i=>{a(o=>({categories:o.categories.filter(d=>d!==i)})),await Cr.from("categories").delete().eq("name",i)},addUnit:async i=>{a(o=>({units:[...o.units,i]})),await Cr.from("units").insert({name:i})},removeUnit:async i=>{a(o=>({units:o.units.filter(d=>d!==i)})),await Cr.from("units").delete().eq("name",i)},updateStock:async(i,o,d="set",u="adjustment",f="",h=null)=>{const p=n().products.find(v=>v.id===i);if(!p)return{success:!1,error:"Product not found"};const m=p.stock;let x=m;d==="add"?x+=o:d==="subtract"?x-=o:x=o,x=Math.max(0,x);const b=x-m,y={id:Date.now(),productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:x,change:b,type:u,note:f,userId:h,createdAt:new Date().toISOString()};a(v=>({products:v.products.map(A=>A.id===i?{...A,stock:x}:A),stockHistory:[y,...v.stockHistory].slice(0,1e3)}));const w=u==="purchase"?ji.STOCK_PURCHASE:u==="adjustment"?ji.STOCK_ADJUST:u==="opname"?ji.STOCK_OPNAME:ji.STOCK_ADJUST;return f1.getState().addLog(w,{productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:x,change:b,reason:u,note:f},h,null),await Cr.from("products").update({stock:x}).eq("id",i),await Cr.from("stock_history").insert({product_id:i,old_stock:m,new_stock:x,change:b,type:u,note:f,user_id:h}).catch(()=>{}),{success:!0,oldStock:m,newStock:x,change:b}},bulkUpdateStock:async(i,o="sync_marketplace",d=null)=>{const u=[];for(const{productId:f,newStock:h,note:p}of i){const m=await n().updateStock(f,h,"set",o,p,d);u.push({productId:f,...m})}return u},getProductStockHistory:i=>n().stockHistory.filter(o=>o.productId===i),getStockHistoryByType:i=>n().stockHistory.filter(o=>o.type===i),getStockHistoryByDateRange:(i,o)=>{const d=new Date(i).getTime(),u=new Date(o).getTime();return n().stockHistory.filter(f=>{const h=new Date(f.createdAt).getTime();return h>=d&&h<=u})},clearOldStockHistory:(i=90)=>{const o=new Date;o.setDate(o.getDate()-i);const d=o.getTime();a(u=>({stockHistory:u.stockHistory.filter(f=>new Date(f.createdAt).getTime()>=d)}))},getProductByBarcode:i=>n().products.find(o=>o.barcode===i),getLowStockProducts:()=>n().products.filter(i=>i.stock<=i.minStock),importShopeeProducts:i=>{const o=n().products;let d=0,u=0,f=0;const h=new Set(o.filter(m=>m.sku&&m.sku.trim()!=="").map(m=>m.sku.trim().toLowerCase()));i.length>0&&(console.log("ProductStore - First Shopee Item:",i[0]),console.log("ProductStore - Existing SKUs count:",h.size)),i.forEach(m=>{var b,y,w,v,A,j,E,k,N,B,I,D,T,M,Q,F,P,L,_,H;if(m.has_model&&m.models&&m.models.length>1)d===0&&u===0&&console.log("Model Structure Debug:",JSON.stringify(m.models[0],null,2)),m.models.forEach((Y,de)=>{var Re,te,Be,Se,Oe,Ue,be,$e,Fe,Ke,Je,rt,ae,fe;const $=`shopee_${m.item_id}_${Y.model_id}`,q=o.findIndex(Me=>Me.id===$),re=Y.model_name||(Y.tier_index&&m.tier_variation?m.tier_variation.map((Me,Le)=>{var Xe,ze,qe;return((qe=(ze=Me.option_list)==null?void 0:ze[(Xe=Y.tier_index)==null?void 0:Xe[Le]])==null?void 0:qe.option)||""}).filter(Boolean).join(" - "):""),ce=Y.model_sku&&Y.model_sku.trim()||"";if(q<0&&ce&&h.has(ce.toLowerCase())){console.log(`Skipping duplicate SKU: ${ce}`),f++;return}const J=Y.current_price||((Re=Y.price_info)==null?void 0:Re.current_price)||((te=Y.price_info)==null?void 0:te.original_price)||Y.original_price||Y.price||Array.isArray(Y.price_info)&&((Be=Y.price_info[0])==null?void 0:Be.current_price)||0,oe=Y.stock||((Ue=(Oe=(Se=Y.stock_info_v2)==null?void 0:Se.seller_stock)==null?void 0:Oe[0])==null?void 0:Ue.stock)||(($e=(be=Y.stock_info_v2)==null?void 0:be.summary_info)==null?void 0:$e.total_available_stock)||((Fe=Y.stock_info)==null?void 0:Fe.current_stock)||Y.normal_stock||0,ue=Y.model_image_url||((Je=(Ke=m.image)==null?void 0:Ke.image_url_list)==null?void 0:Je[0])||"";d===0&&u===0&&de===0&&console.log("Variant Debug:",{item_id:m.item_id,model_id:Y.model_id,model_name:re,model_sku:ce,price:J,stock:oe});const he={id:$,shopeeItemId:m.item_id,shopeeModelId:Y.model_id,shopeeShopId:m.shop_id,code:`SHP${String(m.item_id).slice(-4)}${String(Y.model_id).slice(-2)}`,sku:ce||"",barcode:"",name:re?`${m.item_name} - ${re}`:m.item_name,parentName:m.item_name,variantName:re,description:m.description||"",category:"Shopee",categoryId:m.category_id,unit:"pcs",price:J,originalPrice:((rt=Y.price_info)==null?void 0:rt.original_price)||0,cost:0,stock:oe,minStock:5,maxStock:100,image:ue,images:((ae=m.image)==null?void 0:ae.image_url_list)||[],source:"shopee",shopeeStatus:m.item_status||"NORMAL",hasModel:!0,isVariant:!0,parentItemId:m.item_id,condition:m.condition||"NEW",weight:m.weight,dimension:m.dimension,brand:((fe=m.brand)==null?void 0:fe.original_brand_name)||"",createdTime:m.create_time?new Date(m.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};q>=0?(o[q]={...o[q],...he,id:o[q].id,source:"shopee"},u++):(o.push(he),d++,ce&&h.add(ce.toLowerCase()))});else{const Y=`shopee_${m.item_id}`,de=o.findIndex(oe=>oe.shopeeItemId===m.item_id||oe.id===Y),$=m.item_sku&&m.item_sku.trim()||m.model_sku&&m.model_sku.trim()||m.models&&m.models.length>0&&((y=(b=m.models[0])==null?void 0:b.model_sku)==null?void 0:y.trim())||"";if(de<0&&$&&h.has($.toLowerCase())){console.log(`Skipping duplicate SKU: ${$}`),f++;return}const q=m.current_price||Array.isArray(m.price_info)&&((w=m.price_info[0])==null?void 0:w.current_price)||((v=m.price_info)==null?void 0:v.current_price)||m.models&&m.models.length>0&&((j=(A=m.models[0])==null?void 0:A.price_info)==null?void 0:j.current_price)||0,re=m.current_stock||((k=(E=m.stock_info_v2)==null?void 0:E.summary_info)==null?void 0:k.total_available_stock)||m.models&&m.models.length>0&&((I=(B=(N=m.models[0])==null?void 0:N.stock_info_v2)==null?void 0:B.summary_info)==null?void 0:I.total_available_stock)||((D=m.stock_info)==null?void 0:D.current_stock)||0,ce=((M=(T=m.image)==null?void 0:T.image_url_list)==null?void 0:M[0])||(typeof m.image=="string"?m.image:"")||"",J={id:Y,shopeeItemId:m.item_id,shopeeShopId:m.shop_id,code:`SHP${String(m.item_id).slice(-6)}`,sku:$||"",barcode:"",name:m.item_name||`Shopee Product ${m.item_id}`,description:m.description||"",category:"Shopee",categoryId:m.category_id,unit:"pcs",price:q,originalPrice:Array.isArray(m.price_info)?(Q=m.price_info[0])==null?void 0:Q.original_price:((F=m.price_info)==null?void 0:F.original_price)||0,cost:0,stock:re,minStock:5,maxStock:100,image:ce,images:((P=m.image)==null?void 0:P.image_url_list)||[],source:"shopee",shopeeStatus:m.item_status||"NORMAL",shopeeModelId:(_=(L=m.models)==null?void 0:L[0])==null?void 0:_.model_id,hasModel:m.has_model||!1,isVariant:!1,condition:m.condition||"NEW",weight:m.weight,dimension:m.dimension,brand:((H=m.brand)==null?void 0:H.original_brand_name)||"",createdTime:m.create_time?new Date(m.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};de>=0?(o[de]={...o[de],...J,id:o[de].id,source:"shopee"},u++):(o.push(J),d++,$&&h.add($.toLowerCase()))}}),a({products:[...o]});const p=n().categories;return p.includes("Shopee")||a({categories:[...p,"Shopee"]}),{imported:d,updated:u,skipped:f,total:i.length}},clearShopeeProducts:()=>{const i=n().products.filter(o=>o.source!=="shopee");return a({products:i}),i.length},getProductsBySource:i=>n().products.filter(o=>o.source===i)}),{name:"product-storage"}));function qh(a){return{id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category,unit:a.unit,price:parseFloat(a.price)||0,cost:parseFloat(a.cost)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,parentId:a.parent_id,variantName:a.variant_name,createdAt:a.created_at,updatedAt:a.updated_at}}const jD="00000000-0000-0000-0000-000000000001",ND=[{id:jD,name:"Walk-in Customer",phone:"",email:"",type:"walk-in",points:0,totalSpent:0,customPrices:{}}],m1=O1(U1((a,n)=>({customers:ND,isOnline:!1,setCustomers:i=>a({customers:i}),initRealtime:async()=>{try{await n().fetchCustomers(),a({isOnline:!0}),Cr.channel("customers-channel").on("postgres_changes",{event:"*",schema:"public",table:"customers"},i=>{i.eventType==="INSERT"?a(o=>({customers:[...o.customers.filter(d=>d.id!==i.new.id),Gh(i.new)]})):i.eventType==="UPDATE"?a(o=>({customers:o.customers.map(d=>d.id===i.new.id?Gh(i.new):d)})):i.eventType==="DELETE"&&a(o=>({customers:o.customers.filter(d=>d.id!==i.old.id)}))}).subscribe()}catch(i){console.error("Customer realtime error:",i)}},fetchCustomers:async()=>{const{data:i,error:o}=await Cr.from("customers").select("*").order("name");!o&&i&&a({customers:i.map(Gh)})},addCustomer:async i=>{const o={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),points:0,totalSpent:0,type:i.type||"member"};a(d=>({customers:[...d.customers,o]})),await Cr.from("customers").insert({id:o.id,name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type,points:0,total_spent:0,custom_prices:{}})},updateCustomer:async(i,o)=>{a(d=>({customers:d.customers.map(u=>u.id===i?{...u,...o}:u)})),await Cr.from("customers").update({name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type}).eq("id",i)},deleteCustomer:async i=>{a(o=>({customers:o.customers.filter(d=>d.id!==i)})),await Cr.from("customers").delete().eq("id",i)},addPoints:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=d.points+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:u}:h)})),await Cr.from("customers").update({points:u}).eq("id",i)},redeemPoints:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=Math.max(0,d.points-o);a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:u}:h)})),await Cr.from("customers").update({points:u}).eq("id",i)},addTransaction:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=d.totalSpent+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,totalSpent:u}:h)})),await Cr.from("customers").update({total_spent:u}).eq("id",i)},setCustomPrice:async(i,o,d)=>{const u=n().customers.find(h=>h.id===i);if(!u)return;const f={...u.customPrices,[o]:d};a(h=>({customers:h.customers.map(p=>p.id===i?{...p,customPrices:f}:p)})),await Cr.from("customers").update({custom_prices:f}).eq("id",i)},removeCustomPrice:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u={...d.customPrices};delete u[o],a(f=>({customers:f.customers.map(h=>h.id===i?{...h,customPrices:u}:h)})),await Cr.from("customers").update({custom_prices:u}).eq("id",i)}}),{name:"customer-storage"}));function Gh(a){return{id:a.id,name:a.name,phone:a.phone||"",email:a.email||"",address:a.address||"",type:a.type||"member",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,customPrices:a.custom_prices||{}}}const xo=O1(U1((a,n)=>({transactions:[],isOnline:!1,setTransactions:i=>a({transactions:i}),initRealtime:async()=>{try{await n().fetchTransactions(),a({isOnline:!0}),Cr.channel("transactions-channel").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},i=>{i.eventType==="INSERT"?a(o=>({transactions:[Yh(i.new),...o.transactions.filter(d=>d.id!==i.new.id)]})):i.eventType==="UPDATE"&&a(o=>({transactions:o.transactions.map(d=>d.id===i.new.id?Yh(i.new):d)}))}).subscribe()}catch(i){console.error("Transaction realtime error:",i)}},fetchTransactions:async()=>{const{data:i,error:o}=await Cr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);!o&&i&&a({transactions:i.map(Yh)})},addTransaction:async i=>{var u,f;const o=`TRX${Date.now()}`,d={...i,id:crypto.randomUUID?crypto.randomUUID():o,transactionCode:o,date:new Date().toISOString(),status:"completed",source:i.source||"pos"};return a(h=>({transactions:[d,...h.transactions]})),f1.getState().addLog(ji.TRANSACTION_CREATE,{transactionId:d.id,transactionCode:o,total:i.total,itemCount:((u=i.items)==null?void 0:u.length)||0,paymentMethod:i.paymentMethod,source:d.source},i.cashierId||null,i.cashierName||null),await Cr.from("transactions").insert({id:d.id,transaction_code:o,customer_id:(f=i.customer)==null?void 0:f.id,items:i.items,subtotal:i.subtotal,discount:i.discount,tax:i.tax,total:i.total,payment_method:i.paymentMethod,cash_amount:i.cashAmount,change_amount:i.change,status:"completed",cashier_name:i.cashierName}),d},voidTransaction:async(i,o,d=null,u=null,f=null)=>{var m;const h=n().transactions.find(x=>x.id===i),p=new Date().toISOString();if(a(x=>({transactions:x.transactions.map(b=>b.id===i?{...b,status:"void",voidReason:o,voidDate:p}:b)})),f1.getState().addLog(ji.TRANSACTION_VOID,{transactionId:i,transactionCode:h==null?void 0:h.transactionCode,originalTotal:h==null?void 0:h.total,reason:o,itemsRestored:((m=h==null?void 0:h.items)==null?void 0:m.length)||0},u,f),d&&h&&h.items)for(const x of h.items)await d(x.id,x.quantity,"add","return",`Void transaksi: ${i} - ${o}`,u);return await Cr.from("transactions").update({status:"void",void_reason:o,void_date:p}).eq("id",i),{success:!0,transaction:h}},getTransactionsByDate:(i,o)=>n().transactions.filter(d=>{const u=new Date(d.date);return u>=i&&u<=o}),getTodayTransactions:()=>{const i=new Date;return i.setHours(0,0,0,0),n().transactions.filter(o=>{const d=new Date(o.date);return d.setHours(0,0,0,0),d.getTime()===i.getTime()&&o.status==="completed"})},getTodaySales:()=>n().getTodayTransactions().reduce((o,d)=>o+d.total,0),getTransactionCount:()=>n().transactions.filter(i=>i.status==="completed").length}),{name:"transaction-storage"}));function Yh(a){return{id:a.id,transactionCode:a.transaction_code,customerId:a.customer_id,items:a.items||[],subtotal:parseFloat(a.subtotal)||0,discount:parseFloat(a.discount)||0,tax:parseFloat(a.tax)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.cash_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status,voidReason:a.void_reason,voidDate:a.void_date,cashierName:a.cashier_name,source:a.source||"pos",date:a.created_at}}const SD=a=>({id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category_id,unit:a.unit_id,cost:parseFloat(a.cost_price)||0,price:parseFloat(a.selling_price)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,shopeeItemId:a.shopee_item_id,shopeeModelId:a.shopee_model_id,source:a.source||"local",isVariant:a.is_variant||!1,parentId:a.parent_product_id,variantName:a.variant_name,isActive:a.is_active,createdAt:a.created_at,updatedAt:a.updated_at}),ED=a=>({id:a.id,code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,type:a.customer_type||"walk-in",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,createdAt:a.created_at,updatedAt:a.updated_at}),CD=a=>({id:a.id,transactionCode:a.transaction_code,date:a.transaction_date,customerId:a.customer_id,subtotal:parseFloat(a.subtotal)||0,discountType:a.discount_type,discountValue:parseFloat(a.discount_value)||0,discount:parseFloat(a.discount_amount)||0,taxPercent:parseFloat(a.tax_percent)||11,tax:parseFloat(a.tax_amount)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.payment_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status||"completed",voidReason:a.void_reason,notes:a.notes,cashierId:a.cashier_id,cashierName:a.cashier_name,source:a.source||"pos",createdAt:a.created_at});function ID(){const a=ie.useRef(!1),n=ie.useRef(null),[i,o]=ie.useState({isOnline:!1,isSyncing:!1,lastSync:null,mode:"polling"});return ie.useEffect(()=>{if(a.current)return;a.current=!0;const d=async()=>{console.log(" Initializing cloud sync (polling mode)..."),o(f=>({...f,isSyncing:!0}));try{await u(),o({isOnline:!0,isSyncing:!1,lastSync:new Date().toISOString(),mode:"polling"}),n.current=setInterval(async()=>{o(f=>({...f,isSyncing:!0})),await u(),o(f=>({...f,isSyncing:!1,lastSync:new Date().toISOString()}))},6e4),console.log(" Cloud sync active - polling every 60s")}catch(f){console.error(" Sync error:",f.message),o(h=>({...h,isSyncing:!1,isOnline:!1}))}},u=async()=>{try{const{data:f,error:h}=await Cr.from("products").select("*").eq("is_active",!0);if(!h&&f&&f.length>0){const p=Ws.getState().products,m=new Map(p.map(v=>[v.id,v])),x=new Map(p.filter(v=>v.sku).map(v=>[v.sku,v])),b=new Map(p.filter(v=>v.code).map(v=>[v.code,v]));let y=0;const w=[...p];f.forEach(v=>{const A=SD(v),j=m.has(v.id),E=v.sku&&x.has(v.sku),k=v.code&&b.has(v.code);!j&&!E&&!k&&(w.push(A),y++)}),y>0&&(Ws.setState({products:w}),console.log(` Products: +${y} new from cloud (total: ${w.length})`))}}catch(f){console.warn(" Products sync:",f.message)}try{const{data:f,error:h}=await Cr.from("customers").select("*");if(!h&&f&&f.length>0){const p=m1.getState().customers,m=new Map(p.map(y=>[y.id,y]));let x=0;const b=[...p];f.forEach(y=>{m.has(y.id)||(b.push(ED(y)),x++)}),x>0&&(m1.setState({customers:b}),console.log(` Customers: +${x} new from cloud`))}}catch(f){console.warn(" Customers sync:",f.message)}try{const{data:f,error:h}=await Cr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);if(!h&&f&&f.length>0){const p=xo.getState().transactions,m=new Map(p.filter(w=>w.transactionCode).map(w=>[w.transactionCode,w])),x=new Map(p.map(w=>[w.id,w]));let b=0;const y=[...p];f.forEach(w=>{const v=w.transaction_code&&m.has(w.transaction_code),A=x.has(w.id);!v&&!A&&(y.push(CD(w)),b++)}),b>0&&(y.sort((w,v)=>new Date(v.date||v.createdAt)-new Date(w.date||w.createdAt)),xo.setState({transactions:y}),console.log(` Transactions: +${b} new from cloud`))}}catch(f){console.warn(" Transactions sync:",f.message)}console.log(" Sync complete - local data preserved")};return d(),()=>{n.current&&clearInterval(n.current)}},[]),i}function BD({children:a}){const n=ID();return ie.useEffect(()=>{window.__syncStatus=n},[n]),a}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),bt=(a,n)=>{const i=ie.forwardRef(({color:o="currentColor",size:d=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:h="",children:p,...m},x)=>ie.createElement("svg",{ref:x,...DD,width:d,height:d,stroke:o,strokeWidth:f?Number(u)*24/Number(d):u,className:["lucide",`lucide-${TD(a)}`,h].join(" "),...m},[...n.map(([b,y])=>ie.createElement(b,y)),...Array.isArray(p)?p:[p]]));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=bt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=bt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=bt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=bt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=bt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=bt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=bt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=bt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=bt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=bt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=bt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=bt("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=bt("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=bt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=bt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=bt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=bt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=bt("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=bt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=bt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=bt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=bt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=bt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=bt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=bt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=bt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=bt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=bt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=bt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=bt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=bt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=bt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=bt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=bt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=bt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=bt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=bt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=bt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=bt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=bt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=bt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=bt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=bt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=bt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=bt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=bt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=bt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),uT=[{path:"/",icon:xy,label:"Dashboard",permission:"all"},{path:"/pos",icon:vo,label:"POS / Kasir",permission:"pos",webOnly:!0},{path:"/scanner",icon:gy,label:"Remote Scanner",permission:"pos",androidOnly:!0},{path:"/products",icon:en,label:"Master Produk",permission:"products"},{path:"/marketplace/integration",icon:v1,label:"Marketplace",permission:"marketplace"},{path:"/stock",icon:yy,label:"Stok",permission:"stock"},{path:"/purchases",icon:p3,label:"Pembelian",permission:"purchase"},{path:"/sales",icon:Um,label:"Penjualan",permission:"sales"},{path:"/customers",icon:wy,label:"Pelanggan",permission:"customers"},{path:"/reports",icon:fy,label:"Laporan",permission:"reports"},{path:"/settings",icon:by,label:"Pengaturan",permission:"settings"}],Ib=uT.filter(a=>!(a.webOnly&&P1||a.androidOnly&&!P1)),fT=[{path:"/",icon:xy,label:"Home"},{path:"/pos",icon:vo,label:"Kasir",webOnly:!0},{path:"/scanner",icon:gy,label:"Scanner",androidOnly:!0},{path:"/products",icon:en,label:"Master Produk"},{path:"/stock",icon:yy,label:"Stok"}],hT=fT.filter(a=>!(a.webOnly&&P1||a.androidOnly&&!P1));function pT({children:a}){var E;const[n,i]=ie.useState(!1),[o,d]=ie.useState({isOnline:!1,isSyncing:!1}),[u,f]=ie.useState(!1),h=dl(),{user:p,logout:m}=Di(),{products:x}=Ws(),b=x.filter(k=>k.stock<=(k.minStock||5)&&k.stock>0),y=x.filter(k=>k.stock===0),w=b.length+y.length;ie.useEffect(()=>{const k=N=>{N.clientX<=10&&!n&&i(!0)};return"ontouchstart"in window||document.addEventListener("mousemove",k),()=>{document.removeEventListener("mousemove",k)}},[n]),ie.useEffect(()=>{const k=setInterval(()=>{window.__syncStatus&&d(window.__syncStatus)},1e3);return()=>clearInterval(k)},[]);const v=()=>{confirm("Apakah Anda yakin ingin keluar?")&&m()},A=k=>p?p.permissions.includes("all")?!0:p.permissions.includes(k)||p.permissions.includes(`${k}_view`):!1,j=()=>i(!1);return l.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[l.jsxs("header",{className:"bg-dark text-white px-4 py-3 flex items-center justify-between z-40 safe-area-top",children:[l.jsx("button",{onClick:()=>i(!0),className:"p-2 -ml-2 rounded-full hover:bg-gray-700 active:bg-gray-600",children:l.jsx(Cb,{size:24})}),l.jsx("h1",{className:"text-lg font-semibold",children:((E=Ib.find(k=>k.path===h.pathname))==null?void 0:E.label)||"POS System"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!u),className:"p-2 rounded-full hover:bg-gray-700 active:bg-gray-600 relative",children:[l.jsx(Pm,{size:20}),w>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:w>9?"9+":w})]}),u&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[l.jsx("div",{className:"p-3 border-b bg-gray-50",children:l.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifikasi"})}),w===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Tidak ada notifikasi"}):l.jsxs("div",{className:"divide-y",children:[y.length>0&&l.jsxs("div",{className:"p-3 bg-red-50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[l.jsx(eu,{size:16}),l.jsxs("span",{children:["Stok Habis (",y.length,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[y.slice(0,5).map(k=>l.jsxs("div",{className:"text-sm text-red-600",children:[" ",k.name]},k.id)),y.length>5&&l.jsxs("div",{className:"text-xs text-red-500",children:["...dan ",y.length-5," produk lainnya"]})]})]}),b.length>0&&l.jsxs("div",{className:"p-3 bg-yellow-50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 font-medium mb-2",children:[l.jsx(eu,{size:16}),l.jsxs("span",{children:["Stok Menipis (",b.length,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[b.slice(0,5).map(k=>l.jsxs("div",{className:"text-sm text-yellow-600",children:[" ",k.name," (sisa: ",k.stock,")"]},k.id)),b.length>5&&l.jsxs("div",{className:"text-xs text-yellow-500",children:["...dan ",b.length-5," produk lainnya"]})]})]}),l.jsx(W1,{to:"/stock",onClick:()=>f(!1),className:"block p-3 text-center text-primary hover:bg-gray-50 text-sm font-medium",children:"Lihat Semua Stok "})]})]})]})]}),l.jsx("div",{className:"flex items-center gap-1",title:o.isSyncing?"Syncing...":o.isOnline?`Cloud Sync Active${o.lastSync?` - Last: ${new Date(o.lastSync).toLocaleTimeString()}`:""}`:"Connecting to cloud...",children:o.isSyncing?l.jsx(x1,{size:20,className:"text-yellow-400 animate-spin"}):o.isOnline?l.jsx(f3,{size:20,className:"text-green-400"}):l.jsx(f3,{size:20,className:"text-yellow-400 animate-pulse"})})]})]}),n&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:j}),l.jsxs("aside",{className:`fixed top-0 left-0 h-full w-72 bg-dark text-white z-50 transform transition-transform duration-300 ease-out flex flex-col ${n?"translate-x-0":"-translate-x-full"}`,children:[l.jsx("div",{className:"p-4 border-b border-gray-700 safe-area-top flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-bold",children:"POS System"}),l.jsx("button",{onClick:j,className:"p-2 rounded-full hover:bg-gray-700",children:l.jsx(Ks,{size:20})})]})}),l.jsx("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:l.jsx(K0,{size:20})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:p==null?void 0:p.name}),l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:p==null?void 0:p.role})]})]})}),l.jsx("nav",{className:"flex-1 p-2 overflow-y-auto min-h-0",children:Ib.map(k=>{if(!A(k.permission))return null;const N=k.icon,B=h.pathname===k.path;return l.jsxs(W1,{to:k.path,onClick:j,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${B?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 active:bg-gray-600"}`,children:[l.jsx(N,{size:20}),l.jsx("span",{className:"flex-1 text-sm",children:k.label}),l.jsx(cy,{size:16,className:"text-gray-500"})]},k.path)})}),l.jsx("div",{className:"p-3 border-t border-gray-700 safe-area-bottom flex-shrink-0",children:l.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-300 hover:bg-red-600 hover:text-white active:bg-red-700 transition-colors",children:[l.jsx(WD,{size:20}),l.jsx("span",{className:"text-sm",children:"Logout"})]})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-16",children:a}),l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 safe-area-bottom",children:l.jsxs("div",{className:"flex justify-around items-center h-16",children:[hT.map(k=>{if(!A(k.permission||"all"))return null;const N=k.icon,B=h.pathname===k.path;return l.jsxs(W1,{to:k.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${B?"text-primary":"text-gray-500 active:text-gray-700"}`,children:[l.jsx(N,{size:24,strokeWidth:B?2.5:2}),l.jsx("span",{className:`text-xs mt-1 ${B?"font-medium":""}`,children:k.label})]},k.path)}),l.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center flex-1 h-full text-gray-500 active:text-gray-700",children:[l.jsx(Cb,{size:24}),l.jsx("span",{className:"text-xs mt-1",children:"Lainnya"})]})]})})]})}function mT(){const[a,n]=ie.useState(""),[i,o]=ie.useState(""),[d,u]=ie.useState(!1),[f,h]=ie.useState(""),p=ko(),{login:m}=Di(),x=async b=>{b.preventDefault(),u(!0),h(""),setTimeout(()=>{const y=m(a,i);y.success||y===!0?p("/"):h(y.error||"Username atau password salah"),u(!1)},500)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(vo,{size:40,className:"text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"POS System"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Sistem Manajemen Stok & Kasir"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),l.jsx("input",{type:"text",value:a,onChange:b=>n(b.target.value),className:"input",placeholder:"Masukkan username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:i,onChange:b=>o(b.target.value),className:"input",placeholder:"Masukkan password",required:!0})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full btn btn-primary flex items-center justify-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx(V0,{size:20,className:"animate-spin"}),l.jsx("span",{children:"Loading..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(KD,{size:20}),l.jsx("span",{children:"Login"})]})})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Login:"}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[l.jsx("p",{children:" Admin: admin / admin123"}),l.jsx("p",{children:" Kasir: kasir / kasir123"})]})]})]}),l.jsx("p",{className:"text-center text-white mt-6 text-sm",children:" 2025 POS System. All rights reserved."})]})})}const Ru=O1(U1((a,n)=>({storeInfo:{name:"TOKO SEJAHTERA",address:"Jl. Merdeka No. 123, Jakarta",phone:"(021) 1234-5678",email:"info@tokosejahtera.com",logo:null},stockSettings:{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30},whatsappNumber:"",whatsappMessage:"Halo, saya ingin bertanya tentang produk di toko Anda.",updateStoreInfo:i=>{a(o=>({storeInfo:{...o.storeInfo,...i}}))},setLogo:i=>{a(o=>({storeInfo:{...o.storeInfo,logo:i}}))},updateStockSettings:i=>{a(o=>({stockSettings:{...o.stockSettings,...i}}))},updateWhatsApp:(i,o)=>{a({whatsappNumber:i,whatsappMessage:o||n().whatsappMessage})},getMarketplaceStock:i=>{const{bufferPercent:o,minBuffer:d}=n().stockSettings,u=Math.max(Math.ceil(i*(o/100)),d);return Math.max(0,i-u)},getWhatsAppLink:i=>{const o=n().whatsappNumber.replace(/\D/g,""),d=encodeURIComponent(i||n().whatsappMessage);return o?`https://wa.me/${o}?text=${d}`:null}}),{name:"settings-storage"})),va={shopee:{name:"Shopee",color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-600",bgLight:"bg-orange-50",borderColor:"border-orange-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#EE4D2D"/>
      <path d="M24 12C20.13 12 17 15.13 17 19V20H15C14.45 20 14 20.45 14 21V35C14 35.55 14.45 36 15 36H33C33.55 36 34 35.55 34 35V21C34 20.45 33.55 20 33 20H31V19C31 15.13 27.87 12 24 12ZM24 14C26.76 14 29 16.24 29 19V20H19V19C19 16.24 21.24 14 24 14ZM24 24C25.1 24 26 24.9 26 26C26 26.74 25.6 27.39 25 27.73V30C25 30.55 24.55 31 24 31C23.45 31 23 30.55 23 30V27.73C22.4 27.39 22 26.74 22 26C22 24.9 22.9 24 24 24Z" fill="white"/>
    </svg>`},lazada:{name:"Lazada",color:"purple",bgColor:"bg-purple-500",textColor:"text-purple-600",bgLight:"bg-purple-50",borderColor:"border-purple-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0F146D"/>
      <path d="M24 36L21.6 33.8C14.4 27.3 10 23.3 10 18.5C10 14.5 13.2 11.3 17.2 11.3C19.5 11.3 21.7 12.4 23.1 14.1L24 15.2L24.9 14.1C26.3 12.4 28.5 11.3 30.8 11.3C34.8 11.3 38 14.5 38 18.5C38 23.3 33.6 27.3 26.4 33.8L24 36Z" fill="#F85606"/>
    </svg>`},tokopedia:{name:"Tokopedia",color:"green",bgColor:"bg-green-500",textColor:"text-green-600",bgLight:"bg-green-50",borderColor:"border-green-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="12" fill="white"/>
      <circle cx="24" cy="24" r="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="4" fill="white"/>
    </svg>`},tiktok:{name:"TikTok Shop",color:"black",bgColor:"bg-gray-900",textColor:"text-gray-900",bgLight:"bg-gray-50",borderColor:"border-gray-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#000000"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="white"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#25F4EE" transform="translate(-1, -1)"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#FE2C55" transform="translate(1, 1)"/>
    </svg>`},manual:{name:"Manual / Lainnya",color:"blue",bgColor:"bg-blue-500",textColor:"text-blue-600",bgLight:"bg-blue-50",borderColor:"border-blue-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3B82F6"/>
      <path d="M14 14H26V18H18V30H14V14ZM20 20H34V34H20V20ZM24 24V30H30V24H24Z" fill="white"/>
    </svg>`}},So=O1(U1((a,n)=>({stores:[],activeStoreId:null,allProducts:[],allOrders:[],loading:{stores:!1,products:!1,orders:!1,sync:!1},addStore:i=>{var f;const o=n().stores;if(o.some(h=>h.platform===i.platform&&h.shopId===i.shopId&&i.shopId))return{success:!1,error:"Toko sudah terdaftar"};const u={id:Date.now(),platform:i.platform,shopId:i.shopId||"",shopName:i.shopName||`Toko ${((f=va[i.platform])==null?void 0:f.name)||i.platform}`,ownerName:i.ownerName||"",credentials:{partnerId:i.partnerId||"",partnerKey:i.partnerKey||"",accessToken:i.accessToken||"",refreshToken:i.refreshToken||"",appKey:i.appKey||"",appSecret:i.appSecret||"",fsId:i.fsId||"",clientId:i.clientId||"",clientSecret:i.clientSecret||""},isConnected:!!i.accessToken,isActive:!0,lastSync:null,tokenExpiry:null,productCount:0,orderCount:0,createdAt:new Date().toISOString(),createdBy:i.userId||null,notes:i.notes||""};return a({stores:[...o,u]}),{success:!0,store:u}},updateStore:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,...o,credentials:o.credentials?{...u.credentials,...o.credentials}:u.credentials,updatedAt:new Date().toISOString()}:u);return a({stores:d}),{success:!0}},updateStoreCredentials:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,credentials:{...u.credentials,...o},isConnected:!!o.accessToken||u.isConnected,updatedAt:new Date().toISOString()}:u);return a({stores:d}),{success:!0}},updateStoreSync:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,lastSync:new Date().toISOString(),productCount:o.productCount??u.productCount,orderCount:o.orderCount??u.orderCount,isConnected:!0}:u);a({stores:d})},removeStore:i=>{const o=n().stores.filter(u=>u.id!==i),d=n().activeStoreId;return a({stores:o,activeStoreId:d===i?null:d}),{success:!0}},toggleStoreActive:i=>{const o=n().stores.map(d=>d.id===i?{...d,isActive:!d.isActive}:d);a({stores:o})},setActiveStore:i=>{a({activeStoreId:i})},getStoreById:i=>n().stores.find(o=>o.id===i),getStoresByPlatform:i=>n().stores.filter(o=>o.platform===i),getStoresByUser:i=>n().stores.filter(o=>o.createdBy===i),getActiveStores:()=>n().stores.filter(i=>i.isActive),getConnectedStores:()=>n().stores.filter(i=>i.isConnected),getSummary:()=>{const i=n().stores;return{totalStores:i.length,activeStores:i.filter(o=>o.isActive).length,connectedStores:i.filter(o=>o.isConnected).length,byPlatform:{shopee:i.filter(o=>o.platform==="shopee").length,lazada:i.filter(o=>o.platform==="lazada").length,tokopedia:i.filter(o=>o.platform==="tokopedia").length,tiktok:i.filter(o=>o.platform==="tiktok").length,manual:i.filter(o=>o.platform==="manual").length},totalProducts:i.reduce((o,d)=>o+(d.productCount||0),0),totalOrders:i.reduce((o,d)=>o+(d.orderCount||0),0)}},setLoading:(i,o)=>a({loading:{...n().loading,[i]:o}}),clearAllStores:()=>a({stores:[],activeStoreId:null,allProducts:[],allOrders:[]}),isConnected:!1,shopInfo:null,lastSync:null,products:[],orders:[],summary:null,setConnected:(i,o=null)=>a({isConnected:i,shopInfo:o}),disconnect:()=>a({isConnected:!1,shopInfo:null,products:[],orders:[],summary:null,lastSync:null})}),{name:"marketplace-stores-storage",partialize:a=>({stores:a.stores,activeStoreId:a.activeStoreId})})),xT=({platform:a,size:n=24})=>{const i=va[a]||va.manual;return i.logo?l.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):l.jsx("span",{className:"text-xl",children:i.icon||""})};function vT(){const{products:a,getLowStockProducts:n}=Ws(),{transactions:i,getTodaySales:o,getTodayTransactions:d}=xo(),{customers:u}=m1(),{whatsappNumber:f,getWhatsAppLink:h}=Ru(),{stores:p,getSummary:m}=So(),[x,b]=ie.useState(!1),[y,w]=ie.useState([]),v=o(),A=d(),j=n();m();const E=A.reduce((I,D)=>{if(D.status!=="completed")return I;const T=(D.items||[]).reduce((M,Q)=>{const F=a.find(L=>L.id===Q.id),P=(F==null?void 0:F.cost)||0;return M+(Q.price-P)*Q.quantity},0);return I+T},0),k=a.filter(I=>I.stock===0);ie.useEffect(()=>{(k.length>0||j.length>0)&&b(!0)},[k.length,j.length]);const N=[{title:"Penjualan Hari Ini",value:`Rp ${v.toLocaleString("id-ID")}`,icon:a2,color:"bg-green-500",trend:"+12.5%",trendUp:!0},{title:"Transaksi Hari Ini",value:A.length,icon:vo,color:"bg-blue-500",trend:"+8.2%",trendUp:!0},{title:"Total Produk",value:a.length,icon:en,color:"bg-purple-500",trend:"+3",trendUp:!0},{title:"Total Pelanggan",value:u.length,icon:wy,color:"bg-orange-500",trend:"+15",trendUp:!0}],B=[{label:"Transaksi Baru",path:"/pos",color:"bg-primary",icon:vo},{label:"Tambah Produk",path:"/products",color:"bg-success",icon:en},{label:"Cek Stok",path:"/stock",color:"bg-warning",icon:en},{label:"Barang Masuk",path:"/purchases",color:"bg-info",icon:Um}];return l.jsxs("div",{className:"p-6 space-y-6",children:[x&&(k.length>0||j.length>0)&&l.jsxs("div",{className:`${k.length>0?"bg-red-500":"bg-orange-500"} text-white p-4 rounded-xl flex items-center justify-between animate-pulse`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pm,{size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:k.length>0?` ${k.length} produk HABIS!`:` ${j.length} produk stok menipis`}),l.jsx("p",{className:"text-sm opacity-90",children:k.length>0?"Segera lakukan restock untuk produk yang sudah habis":"Beberapa produk mendekati batas minimum stok"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(W1,{to:"/stock",className:"bg-white text-gray-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100",children:"Lihat Detail"}),l.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:l.jsx(Ks,{size:20})})]})]}),f&&l.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors z-50 flex items-center gap-2",title:"Hubungi Customer Service",children:l.jsx(JD,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Selamat datang di sistem POS & Inventory Management"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((I,D)=>{const T=I.icon;return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:I.title}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:I.value}),l.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[I.trendUp?l.jsx(MD,{size:16,className:"text-green-600"}):l.jsx(RD,{size:16,className:"text-red-600"}),l.jsx("span",{className:`text-sm font-medium ${I.trendUp?"text-green-600":"text-red-600"}`,children:I.trend}),l.jsx("span",{className:"text-sm text-gray-500",children:"vs kemarin"})]})]}),l.jsx("div",{className:`${I.color} p-3 rounded-xl`,children:l.jsx(T,{size:24,className:"text-white"})})]})},D)})}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.map((I,D)=>{const T=I.icon;return l.jsxs(W1,{to:I.path,className:`${I.color} text-white p-6 rounded-xl hover:opacity-90 transition-opacity`,children:[l.jsx(T,{size:32,className:"mb-3"}),l.jsx("p",{className:"font-semibold",children:I.label})]},D)})})]}),p.length>0&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(v1,{className:"text-primary",size:24}),"Marketplace Terhubung"]}),l.jsx(W1,{to:"/marketplace/integration",className:"text-primary hover:underline text-sm",children:"Kelola Toko"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.filter(I=>I.isActive).slice(0,4).map(I=>{const D=va[I.platform]||va.manual;return l.jsxs("div",{className:`${D.bgLight} ${D.borderColor} border rounded-lg p-4`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(xT,{platform:I.platform,size:28}),l.jsx("span",{className:`text-sm font-medium ${D.textColor}`,children:D.name})]}),l.jsx("p",{className:"font-semibold text-gray-900 truncate",children:I.shopName}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-600",children:[l.jsxs("span",{children:[I.productCount||0," produk"]}),I.isConnected&&l.jsx("span",{className:"text-green-600",children:" Online"})]})]},I.id)})}),p.length>4&&l.jsxs("p",{className:"text-center text-sm text-gray-500 mt-3",children:["+",p.length-4," toko lainnya"]})]}),l.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm",children:"Estimasi Profit Hari Ini"}),l.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["Rp ",E.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Dari ",A.filter(I=>I.status==="completed").length," transaksi selesai"]})]}),l.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:l.jsx(vy,{size:32})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(eu,{className:"text-warning",size:24}),"Stok Menipis"]}),l.jsx(W1,{to:"/stock",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),j.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Semua stok aman"}):l.jsx("div",{className:"space-y-3",children:j.slice(0,5).map(I=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:I.name}),l.jsx("p",{className:"text-sm text-gray-600",children:I.code})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-orange-600",children:[I.stock," ",I.unit]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",I.minStock]})]})]},I.id))})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Transaksi Terbaru"}),l.jsx(W1,{to:"/sales",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),A.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada transaksi hari ini"}):l.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(I=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:I.id}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(I.date).toLocaleTimeString("id-ID")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-green-600",children:["Rp ",I.total.toLocaleString("id-ID")]}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:I.paymentMethod})]})]},I.id))})]})]})]})}const x3=O1(U1((a,n)=>({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash",addToCart:(i,o=1)=>{const d=n().cartItems.find(u=>u.id===i.id);if(d){if(d.quantity+o>d.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:u.cartItems.map(f=>f.id===i.id?{...f,quantity:f.quantity+o}:f)}))}else{if(o>i.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:[...u.cartItems,{...i,quantity:o}]}))}},removeFromCart:i=>{a(o=>({cartItems:o.cartItems.filter(d=>d.id!==i)}))},updateQuantity:(i,o)=>{if(o<=0){n().removeFromCart(i);return}const d=n().cartItems.find(u=>u.id===i);if(d&&o>d.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:u.cartItems.map(f=>f.id===i?{...f,quantity:o}:f)}))},updateItemDiscount:(i,o)=>{a(d=>({cartItems:d.cartItems.map(u=>u.id===i?{...u,itemDiscount:o}:u)}))},setDiscount:(i,o="percent")=>{a({discount:i,discountType:o})},setCustomer:i=>{a({selectedCustomer:i})},setPaymentMethod:i=>{a({paymentMethod:i})},getSubtotal:()=>n().cartItems.reduce((i,o)=>{const d=o.price*o.quantity,u=o.itemDiscount||0;return i+(d-u)},0),getDiscount:()=>{const i=n().getSubtotal(),{discount:o,discountType:d}=n();return d==="percent"?i*o/100:o},getTax:()=>{const i=n().getSubtotal(),o=n().getDiscount();return(i-o)*.11},getTotal:()=>{const i=n().getSubtotal(),o=n().getDiscount(),d=n().getTax();return i-o+d},clearCart:()=>{a({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash"})},holdTransaction:()=>{const i=n(),o={id:Date.now(),cartItems:i.cartItems,selectedCustomer:i.selectedCustomer,discount:i.discount,discountType:i.discountType,timestamp:new Date().toISOString()};return localStorage.setItem(`held_${o.id}`,JSON.stringify(o)),n().clearCart(),o.id}}),{name:"cart-storage"}));function gT(){const[a,n]=ie.useState(""),[i,o]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState(!1),[p,m]=ie.useState(null),[x,b]=ie.useState(""),[y,w]=ie.useState(!1),[v,A]=ie.useState(null),[j,E]=ie.useState(!1),k=ie.useRef(null),{products:N,updateStock:B}=Ws(),{cartItems:I,addToCart:D,removeFromCart:T,updateQuantity:M,updateItemDiscount:Q,setDiscount:F,setCustomer:P,setPaymentMethod:L,selectedCustomer:_,discount:H,discountType:Y,paymentMethod:de,getSubtotal:$,getDiscount:q,getTax:re,getTotal:ce,clearCart:J,holdTransaction:oe}=x3(),{customers:ue}=m1(),{addTransaction:he}=xo(),{storeInfo:Re}=Ru(),{user:te}=Di();ie.useEffect(()=>{if(!y)return;const fe=Cr.channel("barcode-scans").on("postgres_changes",{event:"INSERT",schema:"public",table:"barcode_scans"},async Me=>{const Le=Me.new;if(!Le.processed){const Xe=N.find(ze=>ze.barcode===Le.barcode||ze.code===Le.barcode||ze.sku===Le.barcode);if(Xe){if(Xe.stock>0){D(Xe),A({barcode:Le.barcode,product:Xe.name,device:Le.device_name,time:new Date().toLocaleTimeString()});try{const ze=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp2LdV1PU2V4jZ+jnIxvVEJIX3mOnaCXhWlNOT9Wd46hpJuGZkQwPFd0j6OlloBcOiotUXORpqmhimE/LzNTdJOnq6OKXzgoLVJ1k6mupYlaPyctUneVq7CnilY4Ji5VeZitsKmIUjYmL1h8m6+xqYdNMyYwW4CfsrOpg0gvJjFehKKzsqV9QysmM2OIpbSypXY+JyU2aI2otbKicDkkJDlukqu2sqBqNSMjPHOWrre0nWQxIiJAfpqxuLSZXSwgIkWDn7S4tJRVKR4hSoiltbi0kE4lHSBOjqm3uLSMRyIbIFOTrLi4tIY/HxofWJivuLi0gDgdGR5dnbG4uLR5MRoYHmKhsri4tHIrFxYeZ6WzuLhzLA==");ze.volume=.3,ze.play()}catch{}}}else A({barcode:Le.barcode,product:null,device:Le.device_name,time:new Date().toLocaleTimeString(),error:"Produk tidak ditemukan"});await Cr.from("barcode_scans").update({processed:!0,processed_at:new Date().toISOString()}).eq("id",Le.id)}}).subscribe();return()=>{Cr.removeChannel(fe)}},[y,N,D]);const Be=N.filter(fe=>{var Me;return fe.name.toLowerCase().includes(a.toLowerCase())||fe.code.toLowerCase().includes(a.toLowerCase())||((Me=fe.barcode)==null?void 0:Me.includes(a))}),Se=fe=>{var Me;fe.stock>0?(D(fe),n(""),(Me=k.current)==null||Me.focus()):alert("Stok habis!")},Oe=()=>{if(I.length===0){alert("Cart masih kosong!");return}u(!0)},Ue=async()=>{const fe=ce(),Me=parseFloat(x)||0;if(de==="cash"&&Me<fe){alert("Jumlah uang tidak cukup!");return}E(!0);try{const Le={items:I,customer:_,subtotal:$(),discount:q(),tax:re(),total:fe,paymentMethod:de,cashAmount:de==="cash"?Me:fe,change:de==="cash"?Me-fe:0,cashierName:(te==null?void 0:te.name)||"Kasir",cashierId:te==null?void 0:te.id};for(const ze of I)await B(ze.id,ze.quantity,"subtract","sale","Penjualan",te==null?void 0:te.id);const Xe=await he(Le);m(Xe),u(!1),h(!0),J(),b("")}catch(Le){console.error("Transaction error:",Le),alert("Gagal memproses transaksi: "+Le.message)}finally{E(!1)}},be=()=>{window.print(),h(!1)},$e=()=>{if(I.length===0){alert("Cart masih kosong!");return}const fe=oe();alert(`Transaksi disimpan dengan ID: ${fe}`)},Fe=()=>{confirm("Batalkan transaksi ini?")&&J()},Ke=$(),Je=q(),rt=re(),ae=ce();return l.jsxs("div",{className:"h-screen flex bg-gray-50",children:[v&&l.jsxs("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg animate-pulse ${v.error?"bg-red-500":"bg-green-500"} text-white max-w-sm`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[v.error?l.jsx(Ks,{className:"flex-shrink-0",size:24}):l.jsx(D1,{className:"flex-shrink-0",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:v.error||v.product}),l.jsxs("p",{className:"text-sm opacity-90",children:[v.barcode,"  ",v.device]})]})]}),l.jsx("button",{onClick:()=>A(null),className:"absolute top-1 right-1 p-1 hover:bg-white/20 rounded",children:l.jsx(Ks,{size:16})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b p-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{ref:k,type:"text",value:a,onChange:fe=>n(fe.target.value),placeholder:"Cari produk (nama, kode, atau scan barcode)...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),l.jsxs("button",{onClick:()=>w(!y),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${y?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Aktifkan untuk menerima scan dari HP Android",children:[y?l.jsx(au,{size:20}):l.jsx(Ay,{size:20}),l.jsx("span",{className:"hidden lg:inline",children:y?"Scanner Aktif":"Remote Scan"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(K0,{size:20}),_?_.name:"Pilih Pelanggan"]})]}),y&&l.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-lg px-4 py-2 flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"relative flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),l.jsx("span",{className:"text-green-700 font-medium",children:"Menunggu scan dari Android..."})]}),l.jsx("p",{className:"text-green-600 text-sm ml-auto",children:'Buka "Remote Scanner" di HP untuk scan barcode'})]})]}),l.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[a&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Be.map(fe=>l.jsxs("button",{onClick:()=>Se(fe),className:`p-4 rounded-lg border-2 text-left transition-all hover:shadow-lg ${fe.stock>0?"border-gray-200 hover:border-primary bg-white":"border-red-200 bg-red-50 cursor-not-allowed opacity-50"}`,disabled:fe.stock===0,children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:fe.name}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:fe.code}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-lg font-bold text-primary",children:["Rp ",fe.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:`text-sm ${fe.stock>10?"text-green-600":"text-orange-600"}`,children:["Stock: ",fe.stock]})]})]},fe.id))}),!a&&l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ki,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Cari atau scan produk untuk memulai transaksi"})]})})]})]}),l.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Keranjang"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[I.length," item"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:I.length===0?l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(sT,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Keranjang kosong"})]})}):I.map(fe=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:fe.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Rp ",fe.price.toLocaleString("id-ID")," x ",fe.quantity]})]}),l.jsx("button",{onClick:()=>T(fe.id),className:"text-red-600 hover:bg-red-100 p-1 rounded",children:l.jsx(Vn,{size:16})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>M(fe.id,fe.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300",children:l.jsx(XD,{size:16})}),l.jsx("span",{className:"w-12 text-center font-semibold",children:fe.quantity}),l.jsx("button",{onClick:()=>M(fe.id,fe.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-primary text-white rounded hover:bg-blue-600",disabled:fe.quantity>=fe.stock,children:l.jsx(Os,{size:16})})]}),l.jsxs("p",{className:"font-bold text-gray-900",children:["Rp ",(fe.price*fe.quantity).toLocaleString("id-ID")]})]})]},fe.id))}),l.jsxs("div",{className:"p-4 border-t space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["Rp ",Ke.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Diskon"}),l.jsxs("span",{className:"text-red-600",children:["- Rp ",Je.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Pajak (11%)"}),l.jsxs("span",{children:["Rp ",rt.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xl font-bold pt-3 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary",children:["Rp ",ae.toLocaleString("id-ID")]})]})]}),l.jsxs("div",{className:"p-4 border-t space-y-2",children:[l.jsxs("button",{onClick:Oe,disabled:I.length===0,className:"w-full btn btn-success py-4 text-lg font-bold",children:[l.jsx(D1,{size:24}),"BAYAR"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:$e,className:"btn btn-warning",children:[l.jsx(ZD,{size:18}),"Hold"]}),l.jsxs("button",{onClick:Fe,className:"btn btn-danger",children:[l.jsx(Ks,{size:18}),"Void"]}),l.jsxs("button",{className:"btn btn-secondary",children:[l.jsx(vy,{size:18}),"Diskon"]})]})]})]}),i&&l.jsx(Vh,{onClose:()=>o(!1),title:"Pilih Pelanggan",children:l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ue.map(fe=>l.jsxs("button",{onClick:()=>{P(fe),o(!1)},className:`w-full p-3 rounded-lg border-2 text-left hover:border-primary transition-colors ${(_==null?void 0:_.id)===fe.id?"border-primary bg-blue-50":"border-gray-200"}`,children:[l.jsx("p",{className:"font-semibold",children:fe.name}),l.jsx("p",{className:"text-sm text-gray-600",children:fe.phone}),fe.type!=="walk-in"&&l.jsxs("p",{className:"text-xs text-primary mt-1",children:["Poin: ",fe.points]})]},fe.id))})}),d&&l.jsx(Vh,{onClose:()=>u(!1),title:"Pembayaran",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-3xl font-bold text-center text-primary mb-6",children:["Rp ",ae.toLocaleString("id-ID")]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metode Pembayaran"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"cash",label:"Tunai",icon:a2},{id:"card",label:"Kartu",icon:QD},{id:"ewallet",label:"E-Wallet",icon:nT},{id:"transfer",label:"Transfer",icon:cT}].map(fe=>{const Me=fe.icon;return l.jsxs("button",{onClick:()=>L(fe.id),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-2 ${de===fe.id?"border-primary bg-blue-50":"border-gray-200 hover:border-primary"}`,children:[l.jsx(Me,{size:24}),l.jsx("span",{className:"text-sm font-medium",children:fe.label})]},fe.id)})})]}),de==="cash"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah Uang"}),l.jsx("input",{type:"number",value:x,onChange:fe=>b(fe.target.value),placeholder:"0",className:"input text-xl text-right",autoFocus:!0}),x&&l.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:"Kembalian:"}),l.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",Math.max(0,parseFloat(x)-ae).toLocaleString("id-ID")]})]})}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[5e4,1e5,2e5].map(fe=>l.jsx("button",{onClick:()=>b(fe.toString()),className:"btn btn-outline",children:fe.toLocaleString("id-ID")},fe))})]}),l.jsx("button",{onClick:Ue,disabled:j,className:"w-full btn btn-success py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:j?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Memproses..."]}):l.jsxs(l.Fragment,{children:[l.jsx(D1,{size:20}),"Selesaikan Transaksi"]})})]})}),f&&p&&l.jsxs(Vh,{onClose:()=>h(!1),title:"Struk Pembayaran",children:[l.jsxs("div",{id:"receipt",className:"space-y-4",children:[l.jsxs("div",{className:"text-center border-b pb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:(Re==null?void 0:Re.name)||"TOKO SAYA"}),l.jsx("p",{className:"text-sm text-gray-600",children:(Re==null?void 0:Re.address)||"Alamat Toko"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Telp: ",(Re==null?void 0:Re.phone)||"-"]})]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"No. Transaksi:"}),l.jsx("span",{className:"font-semibold",children:p.id})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tanggal:"}),l.jsx("span",{children:new Date(p.date).toLocaleString("id-ID")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Kasir:"}),l.jsx("span",{children:p.cashierName})]})]}),l.jsx("div",{className:"border-t border-b py-3 space-y-2",children:p.items.map((fe,Me)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:fe.name}),l.jsxs("span",{children:["Rp ",(fe.price*fe.quantity).toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[fe.quantity," x Rp ",fe.price.toLocaleString("id-ID")]})]},Me))}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["Rp ",p.subtotal.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Diskon:"}),l.jsxs("span",{children:["- Rp ",p.discount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Pajak (11%):"}),l.jsxs("span",{children:["Rp ",p.tax.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["Rp ",p.total.toLocaleString("id-ID")]})]}),p.paymentMethod==="cash"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Bayar:"}),l.jsxs("span",{children:["Rp ",p.cashAmount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Kembali:"}),l.jsxs("span",{children:["Rp ",p.change.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-gray-600 pt-4 border-t",children:[l.jsx("p",{children:"Terima kasih atas kunjungan Anda"}),l.jsx("p",{children:"Barang yang sudah dibeli tidak dapat ditukar"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-6",children:[l.jsxs("button",{onClick:be,className:"flex-1 btn btn-primary",children:[l.jsx(s2,{size:20}),"Print Struk"]}),l.jsx("button",{onClick:()=>h(!1),className:"flex-1 btn btn-secondary",children:"Tutup"})]})]})]})}function Vh({children:a,onClose:n,title:i}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:i}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),l.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:a})]})})}const bT="modulepreload",wT=function(a){return"/"+a},Bb={},Mu=function(n,i,o){let d=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));d=Promise.allSettled(i.map(p=>{if(p=wT(p),p in Bb)return;Bb[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":bT,m||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((y,w)=>{b.addEventListener("load",y),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return d.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};var Nn;(function(a){a.Aztec="AZTEC",a.Codabar="CODABAR",a.Code39="CODE_39",a.Code93="CODE_93",a.Code128="CODE_128",a.DataMatrix="DATA_MATRIX",a.Ean8="EAN_8",a.Ean13="EAN_13",a.Itf="ITF",a.Pdf417="PDF_417",a.QrCode="QR_CODE",a.UpcA="UPC_A",a.UpcE="UPC_E"})(Nn||(Nn={}));var Db;(function(a){a.CalendarEvent="CALENDAR_EVENT",a.ContactInfo="CONTACT_INFO",a.DriversLicense="DRIVERS_LICENSE",a.Email="EMAIL",a.Geo="GEO",a.Isbn="ISBN",a.Phone="PHONE",a.Product="PRODUCT",a.Sms="SMS",a.Text="TEXT",a.Url="URL",a.Wifi="WIFI",a.Unknown="UNKNOWN"})(Db||(Db={}));var Tb;(function(a){a[a["640x480"]=0]="640x480",a[a["1280x720"]=1]="1280x720",a[a["1920x1080"]=2]="1920x1080",a[a["3840x2160"]=3]="3840x2160"})(Tb||(Tb={}));var Rb;(function(a){a.Front="FRONT",a.Back="BACK"})(Rb||(Rb={}));var Mb;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.PENDING=1]="PENDING",a[a.DOWNLOADING=2]="DOWNLOADING",a[a.CANCELED=3]="CANCELED",a[a.COMPLETED=4]="COMPLETED",a[a.FAILED=5]="FAILED",a[a.INSTALLING=6]="INSTALLING",a[a.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(Mb||(Mb={}));var Fb;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Fb||(Fb={}));var Pb;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Pb||(Pb={}));var _b;(function(a){a[a.FAX=0]="FAX",a[a.HOME=1]="HOME",a[a.MOBILE=2]="MOBILE",a[a.UNKNOWN=3]="UNKNOWN",a[a.WORK=4]="WORK"})(_b||(_b={}));var Ob;(function(a){a[a.OPEN=1]="OPEN",a[a.WEP=2]="WEP",a[a.WPA=3]="WPA"})(Ob||(Ob={}));const ei=hl("BarcodeScanner",{web:()=>Mu(()=>import("./web-oAmCW9fv.js"),[]).then(a=>new a.BarcodeScannerWeb)});function yT({onScan:a,onClose:n}){const[i,o]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState(null);ie.useEffect(()=>(b(),()=>{y()}),[]);const p=async()=>{const{camera:A}=await ei.requestPermissions();return A==="granted"||A==="limited"},m=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const A=document.getElementById("root");A&&(A.style.visibility="hidden")},x=()=>{document.body.style.background="",document.documentElement.style.background="";const A=document.getElementById("root");A&&(A.style.visibility="visible")},b=async()=>{try{if(h(null),!P1){h("Barcode scanner hanya tersedia di aplikasi Android");return}if(!await p()){h("Izin kamera diperlukan untuk scan barcode");return}m(),o(!0),await ei.addListener("barcodeScanned",async j=>{j.barcode&&j.barcode.rawValue&&(await y(),a(j.barcode.rawValue))}),await ei.startScan({formats:[Nn.Ean13,Nn.Ean8,Nn.Code128,Nn.Code39,Nn.Code93,Nn.QrCode,Nn.UpcA,Nn.UpcE],lensFacing:"back"})}catch(A){console.error("Scan error:",A),h("Gagal memulai scanner: "+A.message),x(),o(!1)}},y=async()=>{try{await ei.stopScan(),await ei.removeAllListeners(),d&&await ei.toggleTorch()}catch(A){console.error("Stop scan error:",A)}finally{x(),o(!1),u(!1)}},w=async()=>{try{await ei.toggleTorch(),u(!d)}catch(A){console.error("Torch error:",A)}},v=async()=>{await y(),n()};return f?l.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:f}),l.jsx("button",{onClick:v,className:"btn btn-primary",children:"Tutup"})]})}):l.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent",pointerEvents:"auto"},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-blue-500 rounded-tl-xl"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-blue-500 rounded-tr-xl"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-blue-500 rounded-bl-xl"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-blue-500 rounded-br-xl"}),l.jsx("div",{className:"absolute left-4 right-4 h-1 bg-blue-500 rounded scanning-line"})]})}),l.jsxs("div",{className:"absolute top-16 left-0 right-0 text-center pointer-events-none",children:[l.jsx("p",{className:"text-white text-xl font-semibold drop-shadow-lg",children:"Arahkan kamera ke barcode"}),l.jsx("p",{className:"text-gray-200 text-sm mt-2 drop-shadow",children:"Scan akan otomatis berjalan"})]}),l.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[l.jsx("button",{onClick:w,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:d?l.jsx(hy,{size:28,className:"text-yellow-400"}):l.jsx(py,{size:28,className:"text-white"})}),l.jsx("button",{onClick:v,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:l.jsx(Ks,{size:30,className:"text-white"})})]}),!i&&l.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Memulai kamera..."})]})}),l.jsx("style",{children:`
        .scanning-line {
          animation: scan 2s ease-in-out infinite;
        }
        @keyframes scan {
          0%, 100% { top: 10%; }
          50% { top: 85%; }
        }
      `})]})}var Z=null,t=0,r=[],e={};const Ko=Math.abs,xr=Math.ceil,Ub=Math.floor,hn=Math.log,li=Math.pow,j1=Math.round,su=Math.sqrt;function s(a){if(arguments.length){if(!(a instanceof Array)){a=new Array(+arguments[0]);for(var n=0,i=a.length;n<i;n++)a[n]=null}}else{for(var n=t-1;n>=0&&r[n]!==1/0;n--);if(n<0)throw new Error("array-marker-not-found");a=r.splice(n+1,t-1-n),t=n}return a.b=a,a.o=0,a}function _e(){for(var a=t-1;a>=0&&r[a]!==1/0;a-=2)if(r[a-1]===1/0)throw new Error("dict-malformed-stack");if(a<0)throw new Error("dict-marker-not-found");for(var n=new Map,i=a+1;i<t;i+=2){var o=r[i],d=typeof o;if(d=="number"||d=="string")n.set(o,r[i+1]);else if(o instanceof Uint8Array)n.set(En(o),r[i+1]);else throw new Error("dict-not-a-valid-key("+o+")")}return t=a,n}function W(a){var n=typeof a;if(n==="number")return new Uint8Array(a);n!=="string"&&(a=""+a);for(var i=new Uint8Array(a.length),o=0,d=a.length;o<d;o++)i[o]=a.charCodeAt(o);return i}function Na(a,n){if(t<a)throw new Error("roll: --stack-underflow--");if(n){if(n<0)var i=r.splice(t-a,-n);else var i=r.splice(t-a,a-n);r.splice.apply(r,[t-i.length,0].concat(i))}}function En(a){return a instanceof Uint8Array?String.fromCharCode.apply(null,a):""+a}function Fr(a,n){if(typeof a=="string"&&(a=W(a)),n instanceof Uint8Array)for(var i=0,o=n.length;i<o;i++)a[i]=n[i];else for(var i=0,o=n.length;i<o;i++)a[i]=n.charCodeAt(i);return n.length<a.length?a.subarray(0,n.length):a}function cc(a,n){for(var i=0,o=n.length;i<o;i++)a[i]=n[i];return a.length=n.length,a}function De(a){return a instanceof Uint8Array?Ub(String.fromCharCode.apply(null,a).replace(/\0+$/,"")):Ub(""+a)}function $t(a,n,i){return Fr(a,(~~n).toString(i).toUpperCase())}function c(a,n){return a instanceof Uint8Array?a[n]:typeof a=="string"?a.charCodeAt(n):a instanceof Array?a.b[a.o+n]:(n instanceof Uint8Array&&(n=En(n)),a instanceof Map?a.get(n):a[n])}function g(a,n,i){if(a instanceof Uint8Array)a[n]=i;else if(a instanceof Array)a.b[a.o+n]=i;else if(typeof a=="object")n instanceof Uint8Array?a.set(En(n),i):a.set(n,i);else throw new Error("put-not-writable-"+typeof a)}function C(a,n,i){if(a instanceof Uint8Array)return a.subarray(n,n+i);if(a instanceof Array){var o=new Array(i);return o.b=a.b,o.o=a.o+n,o}return a.substr(n,i)}function R(a,n,i){if(a instanceof Uint8Array)if(typeof i=="string")for(var o=0,d=i.length;o<d;o++)a[n+o]=i.charCodeAt(o);else for(var o=i.length-1;o>=0;o--)a[n+o]=i[o];else if(a instanceof Array)for(var u=a.b,f=n+a.o,h=i.b,p=i.o,o=0,d=i.length;o<d;o++)u[f+o]=h[p+o];else throw new Error("putinterval-not-writable-"+typeof a)}function tn(a){if(a==null)return"nulltype";var n=typeof a;return n=="number"?a%1?"realtype":"integertype":n=="boolean"?"booleantype":n=="string"||a instanceof Uint8Array?"stringtype":n=="function"?"operatortype":a instanceof Array?"arraytype":"dicttype"}function i0(a,n){a instanceof Uint8Array||(a=W(a));var i=0,o=a.length,d=n.length;if(d==1){var u=n instanceof Uint8Array?n[0]:n.charCodeAt(0);i=a[0]==u?1:o}else if(n.length<=o)for(n instanceof Uint8Array||(n=W(n));i<d&&a[i]==n[i];i++);i==d?(r[t++]=a.subarray(d),r[t++]=a.subarray(0,d),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function Ct(a,n){a instanceof Uint8Array||(a=W(a));var i=a.length;if(n.length==1)for(var o=1,d=n instanceof Uint8Array?n[0]:n.charCodeAt(0),u=0;u<i&&a[u]!=d;u++);else{n instanceof Uint8Array||(n=W(n));for(var o=n.length,d=n[0],u=0;u<i&&a[u]!=d;u++);for(;u<i;){for(var f=1;f<o&&a[u+f]===n[f];f++);if(f===o)break;for(u++;u<i&&a[u]!=d;u++);}}u<i?(r[t++]=a.subarray(u+o),r[t++]=a.subarray(u,u+o),r[t++]=a.subarray(0,u),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function ve(a,n){if(a instanceof Uint8Array)for(var i=0,o=a.length;i<o&&(r[t++]=a[i],!(n&&n()));i++);else if(a instanceof Array)for(var d=a.b,i=a.o,o=a.o+a.length;i<o&&(r[t++]=d[i],!(n&&n()));i++);else if(typeof a=="string")for(var i=0,o=a.length;i<o&&(r[t++]=a.charCodeAt(i),!(n&&n()));i++);else if(a instanceof Map)for(var u=a.keys(),i=0,o=a.size;i<o;i++){var f=u.next().value;if(r[t++]=f,r[t++]=a.get(f),n&&n())break}else for(var f in a)if(r[t++]=f,r[t++]=a[f],n&&n())break}function el(){for(;t>0&&r[--t]!==1/0;);}function xa(){for(var a=t-1;a>=0&&r[a]!==1/0;a--);return t-a-1}function U(a){for(var n=0,i=a.length,o=a.b,d=a.o;n<i;n++)r[t++]=o[d+n]}function Vt(a){for(var n=0,i=a.length,o=a.b,d=a.o+i-1;n<i;n++)o[d-n]=r[--t];r[t++]=a}function V(a,n){if(typeof a=="string"&&typeof n=="string")return a==n;if(a instanceof Uint8Array&&n instanceof Uint8Array){if(a.length!=n.length)return!1;for(var i=0,o=a.length;i<o;i++)if(a[i]!=n[i])return!1;return!0}return(a instanceof Uint8Array&&typeof n=="string"||n instanceof Uint8Array&&typeof a=="string")&&(a instanceof Uint8Array?a=En(a):n=En(n)),a==n}function Ie(a,n){return!V(a,n)}function mn(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a<n}function dc(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a<=n}function I1(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a>n}function Gn(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a>=n}function fo(a,n){return typeof a=="boolean"?a&&n:a&n}function AT(a,n){return typeof a=="boolean"?a||n:a|n}function fs(a,n){return typeof a=="boolean"?a!=n:a^n}var S=function(a){return n=>(n|0)==n?n:(a[0]=n,a[0])}(new Float32Array(1));function z(){var a=r[--t],n=r[--t];if(typeof a=="string"||a instanceof Uint8Array)throw new Error(En(n)+": "+En(a));throw r[t++]=a,En(n)+`
Additional information: `+i(a);function i(o){if(o instanceof Array){let d="";for(let u=o.o,f=o.o+o.length;u<f;u++)d+=" "+i(o.b[u]);return"["+d.substr(1)+"]"}else{if(o instanceof Uint8Array)return String.fromCharCode.apply(String,o);if(o instanceof Map){let d="";for(const[u,f]of o)d+=" "+i(u)+" "+i(f);return"<<"+d.substr(1)+">>"}else if(o&&typeof o=="object"){let d="";for(let u in o)d+=" "+i(u)+" "+i(o[u]);return"<<"+d.substr(1)+">>"}else return""+o}}}function Ve(){var a=r[--t],n=r[t-1];if(n instanceof Uint8Array&&(n=En(n)),typeof n=="string"){let f=n.trim().split(/ +/g);r[t-1]=n=new Map;for(let h=0;h<f.length;h++){let p=f[h].split("=");p.length==1?n.set(p[0],!0):n.set(p[0],p[1])}}for(var i in a){var o;if(n.has(i)){o=n.get(i);var d=a[i],u=typeof d;if(d==null||u=="number"){if(!isFinite(+o))throw new Error("bwipp.invalidOptionType: "+i+": not a realtype: "+o);typeof o=="string"&&(o=+o,n.set(i,o))}else if(u=="boolean"){if(o!==!0&&o!==!1){if(o==null||(o|0)===o)o=!!o;else if(o=="true")o=!0;else if(o=="false")o=!1;else throw new Error("bwipp.invalidOptionType: "+i+": not a booleantype: "+o);n.set(i,o)}}else if(u=="string"||d instanceof Uint8Array){if(typeof o=="number")o=""+o,n.set(i,o);else if((i==="extratext"||i==="alttext")&&typeof o=="string")o=W(o),n.set(i,o);else if(typeof o!="string"&&!(o instanceof Uint8Array))throw new Error("bwipp.invalidOptionType: "+i+": not a stringtype: "+o)}a[i]=o}}}function ns(){var a=e;e=Object.assign({},e),e.fncvals=r[--t],e.barcode=r[--t];var n="parse";e[n]=c(e.fncvals,n),delete e.fncvals[n];var i="parsefnc";e[i]=c(e.fncvals,i),delete e.fncvals[i];var o="parseonly",d=c(e.fncvals,o)!==void 0;e[o]=d,delete e.fncvals[o];var u="eci",f=c(e.fncvals,u)!==void 0;e[u]=f,delete e.fncvals[u],r[t++]=1/0;var h=s(["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","","","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US"]);r[t++]=0;for(var p=0,m=h.length;p<m;p++){var x=r[--t];r[t++]=c(h,p),r[t++]=x,r[t++]=x+1}for(t--,e.ctrl=_e(),e.msg=s(e.barcode.length),e.j=0,r[t++]=e.barcode;;){Ct(r[--t],"^");var b=r[--t],y=r[--t];r[t++]=b,r[t++]=y.length,r[t++]=e.msg,r[t++]=e.j;var w=1/0,v=y;r[t++]=w,ve(v);var A=s(),j=r[--t];if(R(r[--t],j,A),e.j=S(r[--t]+e.j),r[--t]){t--;for(var E=0;E<1;E++){if(!e.parse&&!e.parsefnc){g(e.msg,e.j,94),e.j=e.j+1;break}if(g(e.msg,e.j,94),e.j=e.j+1,e.parse){var k=r[t-1];if(k.length>=3){var N=r[t-1],B=C(N,0,3),I=e.ctrl,D=c(I,B)!==void 0;if(r[t++]=I,r[t++]=B,D){e.j=e.j-1;var T=r[--t];g(e.msg,e.j,c(r[--t],T)),e.j=e.j+1;var M=r[--t];r[t++]=C(M,3,M.length-3);break}else t-=2}var Q=r[t-1];if(Q.length>=2){var F=r[t-1],P=C(F,0,2),L=e.ctrl,_=c(L,P)!==void 0;if(r[t++]=L,r[t++]=P,_){e.j=e.j-1;var H=r[--t];g(e.msg,e.j,c(r[--t],H)),e.j=e.j+1;var Y=r[--t];r[t++]=C(Y,2,Y.length-2);break}else t-=2}var de=r[t-1];if(de.length>=3){var $=r[t-1],q=C($,0,3);r[t++]=!0;for(var re=0,ce=q.length;re<ce;re++){var J=c(q,re);(J<48||J>57)&&(r[t-1]=!1)}if(r[--t]){var oe=r[t-1],ue=De(C(oe,0,3));r[t++]=ue,ue>255&&(t-=2,r[t++]="bwipp.invalidOrdinal#282",r[t++]="Ordinal must be 000 to 255",z()),e.j=e.j-1,g(e.msg,e.j,r[--t]),e.j=e.j+1;var he=r[--t];r[t++]=C(he,3,he.length-3)}}}if(e.parseonly||!e.parsefnc||c(e.msg,e.j-1)!=94)break;e.j=e.j-1;var Re=r[t-1];Re.length<1&&(t--,r[t++]="bwipp.truncatedCaret#301",r[t++]="Caret character truncated",z());var te=r[t-1];if(c(te,0)==94){g(e.msg,e.j,94),e.j=e.j+1;var Be=r[--t];r[t++]=C(Be,1,Be.length-1);break}var Se=r[t-1];Se.length<3&&(t--,r[t++]="bwipp.truncatedFNC#311",r[t++]="Function character truncated",z());var Oe=r[t-1];if(V(C(Oe,0,3),"ECI")&&e.eci){var Ue=r[t-1];Ue.length<9&&(t--,r[t++]="bwipp.truncatedECI#316",r[t++]="ECI truncated",z());var be=r[t-1],$e=C(be,3,6);r[t++]=$e;for(var Fe=0,Ke=$e.length;Fe<Ke;Fe++){var Je=c($e,Fe);(Je<48||Je>57)&&(t-=2,r[t++]="bwipp.invalidECI#322",r[t++]="ECI must be 000000 to 999999",z())}var rt=r[--t];r[t++]=0,ve(rt,function(){var jt=r[--t],At=r[--t];r[t++]=S(At-(jt-48))*10}),g(e.msg,e.j,~~(r[--t]/10)-1e6),e.j=e.j+1;var ae=r[--t];r[t++]=C(ae,9,ae.length-9);break}var fe=r[t-1];fe.length<4&&(t--,r[t++]="bwipp.truncatedFNC#333",r[t++]="Function character truncated",z());var Me=r[t-1],Le=C(Me,0,4),Xe=c(e.fncvals,Le)!==void 0;if(r[t++]=Le,!Xe){var ze=r[--t],qe=W(ze.length+28);R(qe,28,ze),R(qe,0,"Unknown function character: "),r[t-1]=qe;var ht=r[--t];r[t++]="bwipp.unknownFNC#339",r[t++]=ht,z()}g(e.msg,e.j,c(e.fncvals,r[--t])),e.j=e.j+1;var vt=r[--t];r[t++]=C(vt,4,vt.length-4);break}}else break}if(!e.parseonly)r[t++]=C(e.msg,0,e.j);else{r[t++]=W(e.j);for(var dt=0,wt=e.j-1;dt<=wt;dt+=1){var Bt=r[t-1];g(Bt,dt,c(e.msg,dt))}}e=a}function Is(){var a=e;e=Object.assign({},e);var n=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),i=s([n]),o=s([]),d=new Map([["parts",i],["dlpkey",o]]),u=s(["lintcsum","lintgcppos2"]),f=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",u]]),h=s([f]),p=s(["255","37"]),m=s(["22","10","21"]),x=s(["235"]),b=s([m,x]),y=new Map([["parts",h],["ex",p],["dlpkey",b]]),w=s(["lintcsum","lintgcppos2"]),v=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",w]]),A=s([v]),j=s(["01","03"]),E=s(["37"]),k=s([E]),N=s([k]),B=new Map([["parts",A],["ex",j],["req",N]]),I=s(["lintcsum","lintgcppos2"]),D=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",I]]),T=s([D]),M=s(["01","02","37"]),Q=new Map([["parts",T],["ex",M],["dlattr",!1]]),F=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),P=new Map([["parts",s([F])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),L=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),_=new Map([["parts",s([L])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),H=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),Y=s([s([s(["8020"])])]),de=new Map([["parts",s([H])],["req",Y]]),$=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),q=new Map([["parts",s([$])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),re=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),ce=new Map([["parts",s([re])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["255"]),s(["8006"]),s(["8026"])])])]]),J=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s([])]]),oe=new Map([["parts",s([J])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),ue=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),he=new Map([["parts",s([ue])],["ex",s(["235"])],["req",s([s([s(["01"]),s(["03"]),s(["8006"])])])],["dlattr",!1]]),Re=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),te=new Map([["parts",s([Re])],["req",s([s([s(["01"])])])],["dlattr",!1]]),Be=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),Se=new Map([["parts",s([Be])],["req",s([s([s(["01"])])])],["dlattr",!1]]),Oe=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Ue=new Map([["parts",s([Oe])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),be=new Map([["cset","N"],["min",1],["max",6],["opt",!1],["linters",s([])]]),$e=new Map([["parts",s([be])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Fe=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Ke=new Map([["parts",s([Fe])],["req",s([s([s(["01"])])])]]),Je=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),rt=new Map([["parts",s([Je])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["21"])])])]]),ae=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),fe=new Map([["parts",s([ae])],["req",s([s([s(["01"]),s(["8006"])])])]]),Me=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),Le=new Map([["cset","X"],["min",1],["max",17],["opt",!0],["linters",s([])]]),Xe=new Map([["parts",s([Me,Le])],["dlpkey",s([])]]),ze=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),qe=new Map([["parts",s([ze])],["req",s([s([s(["414"])])])],["dlattr",!1]]),ht=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),vt=new Map([["cset","N"],["min",1],["max",12],["opt",!0],["linters",s([])]]),dt=new Map([["parts",s([ht,vt])],["ex",s(["01","02","415","8006","8020","8026"])],["dlpkey",s([])]]),wt=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),Bt=new Map([["parts",s([wt])],["req",s([s([s(["01"]),s(["02"])])])]]),jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),At=new Map([["parts",s([jt])],["ex",s(["310n"])],["req",s([s([s(["01"]),s(["02"])])])]]),_t=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Mt=new Map([["parts",s([_t])],["ex",s(["311n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Lt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Dt=new Map([["parts",s([Lt])],["ex",s(["312n"])],["req",s([s([s(["01"]),s(["02"])])])]]),kt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),O=new Map([["parts",s([kt])],["ex",s(["313n"])],["req",s([s([s(["01"]),s(["02"])])])]]),K=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),G=new Map([["parts",s([K])],["ex",s(["314n"])],["req",s([s([s(["01"]),s(["02"])])])]]),se=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),le=new Map([["parts",s([se])],["ex",s(["315n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ee=new Map([["parts",s([ge])],["ex",s(["316n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ke=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),X=new Map([["parts",s([ke])],["ex",s(["320n"])],["req",s([s([s(["01"]),s(["02"])])])]]),xe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),me=new Map([["parts",s([xe])],["ex",s(["321n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ye=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ne=new Map([["parts",s([ye])],["ex",s(["322n"])],["req",s([s([s(["01"]),s(["02"])])])]]),we=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ee=new Map([["parts",s([we])],["ex",s(["323n"])],["req",s([s([s(["01"]),s(["02"])])])]]),pe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ne=new Map([["parts",s([pe])],["ex",s(["324n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ae=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ce=new Map([["parts",s([Ae])],["ex",s(["325n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Qe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Pe=new Map([["parts",s([Qe])],["ex",s(["326n"])],["req",s([s([s(["01"]),s(["02"])])])]]),We=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),st=new Map([["parts",s([We])],["ex",s(["327n"])],["req",s([s([s(["01"]),s(["02"])])])]]),at=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),je=new Map([["parts",s([at])],["ex",s(["328n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),He=new Map([["parts",s([Ge])],["ex",s(["329n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ze=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ft=new Map([["parts",s([Ze])],["ex",s(["330n"])],["req",s([s([s(["00"]),s(["01"])])])]]),pt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ut=new Map([["parts",s([pt])],["ex",s(["331n"])],["req",s([s([s(["00"]),s(["01"])])])]]),xt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nt=new Map([["parts",s([xt])],["ex",s(["332n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Tt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),et=new Map([["parts",s([Tt])],["ex",s(["333n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Qt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ht=new Map([["parts",s([Qt])],["ex",s(["334n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ot=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),sr=new Map([["parts",s([Ot])],["ex",s(["335n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Sr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nr=new Map([["parts",s([Sr])],["ex",s(["336n"])],["req",s([s([s(["00"]),s(["01"])])])]]),gr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ar=new Map([["parts",s([gr])],["ex",s(["337n"])],["req",s([s([s(["01"])])])]]),Ir=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Zt=new Map([["parts",s([Ir])],["ex",s(["340n"])],["req",s([s([s(["00"]),s(["01"])])])]]),dr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Kt=new Map([["parts",s([dr])],["ex",s(["341n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ur=new Map([["parts",s([Jt])],["ex",s(["342n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Tr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Pr=new Map([["parts",s([Tr])],["ex",s(["343n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ua=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Et=new Map([["parts",s([ua])],["ex",s(["344n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Gt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),tr=new Map([["parts",s([Gt])],["ex",s(["345n"])],["req",s([s([s(["00"]),s(["01"])])])]]),br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ir=new Map([["parts",s([br])],["ex",s(["346n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),or=new Map([["parts",s([Br])],["ex",s(["347n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ut=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),wr=new Map([["parts",s([Ut])],["ex",s(["348n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ta=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),fa=new Map([["parts",s([ta])],["ex",s(["349n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ya=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Lr=new Map([["parts",s([ya])],["ex",s(["350n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ea=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ga=new Map([["parts",s([Ea])],["ex",s(["351n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ra=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),la=new Map([["parts",s([Ra])],["ex",s(["352n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Aa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ca=new Map([["parts",s([Aa])],["ex",s(["353n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ka=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),La=new Map([["parts",s([ka])],["ex",s(["354n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Qa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Va=new Map([["parts",s([Qa])],["ex",s(["355n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ps=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ia=new Map([["parts",s([ps])],["ex",s(["356n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Bs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ha=new Map([["parts",s([Bs])],["ex",s(["357n"])],["req",s([s([s(["01"]),s(["02"])])])]]),zs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ma=new Map([["parts",s([zs])],["ex",s(["360n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ms=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ds=new Map([["parts",s([ms])],["ex",s(["361n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ts=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ka=new Map([["parts",s([Ts])],["ex",s(["362n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ls=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Wa=new Map([["parts",s([Ls])],["ex",s(["363n"])],["req",s([s([s(["00"]),s(["01"])])])]]),xs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Fa=new Map([["parts",s([xs])],["ex",s(["364n"])],["req",s([s([s(["01"]),s(["02"])])])]]),vn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),$a=new Map([["parts",s([vn])],["ex",s(["365n"])],["req",s([s([s(["01"]),s(["02"])])])]]),In=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ba=new Map([["parts",s([In])],["ex",s(["366n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Js=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Pa=new Map([["parts",s([Js])],["ex",s(["367n"])],["req",s([s([s(["00"]),s(["01"])])])]]),rn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),is=new Map([["parts",s([rn])],["ex",s(["368n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Xt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Xr=new Map([["parts",s([Xt])],["ex",s(["369n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ja=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),_a=new Map([["parts",s([ja])],["req",s([s([s(["00"])]),s([s(["02"]),s(["8026"])])])]]),vs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Qr=new Map([["parts",s([vs])],["ex",s(["390n","391n","394n","8111"])],["req",s([s([s(["255"]),s(["8020"])])])]]),os=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),gs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Oa=new Map([["parts",s([os,gs])],["ex",s(["391n"])],["req",s([s([s(["8020"])])])]]),Bn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Da=new Map([["parts",s([Bn])],["ex",s(["392n","393n"])],["req",s([s([s(["01"])]),s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),ui=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),Qs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ta=new Map([["parts",s([ui,Qs])],["ex",s(["393n"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),Dn=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),Ja=new Map([["parts",s([Dn])],["ex",s(["394n","8111"])],["req",s([s([s(["255"])])])]]),Tn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),bs=new Map([["parts",s([Tn])],["ex",s(["392n","393n","395n","8005"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),an=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),sn=new Map([["parts",s([an])]]),Xn=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),yt=new Map([["parts",s([Xn])],["dlpkey",s([])]]),Yr=new Map([["cset","N"],["min",17],["max",17],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ra=new Map([["parts",s([Yr])],["dlpkey",s([])]]),Ua=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),ca=new Map([["parts",s([Ua])],["req",s([s([s(["00"])])])]]),Xa=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ws=new Map([["parts",s([Xa])]]),gn=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),lt=new Map([["parts",s([gn])],["dlpkey",s([s(["254"]),s(["7040"])])]]),Nt=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),hr=new Map([["parts",s([Nt])],["req",s([s([s(["8020"])])])],["dlpkey",s([s(["8020"])])]]),lr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),fr=new Map([["parts",s([lr])]]),Rr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),cr=new Map([["parts",s([Rr])],["dlpkey",s([s(["7040"])])]]),aa=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Hr=new Map([["parts",s([aa])],["ex",s(["421"])]]),$r=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),qr=new Map([["cset","X"],["min",1],["max",9],["opt",!1],["linters",s([])]]),Vr=new Map([["parts",s([$r,qr])],["ex",s(["4307"])]]),ha=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Zr=new Map([["parts",s([ha])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Gr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),sa=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Mr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),_r=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),za=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ba=new Map([["parts",s([Gr,sa,Mr,_r,za])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),ls=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Ss=new Map([["parts",s([ls])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),nn=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Rs=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),rr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),yr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Nr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ea=new Map([["parts",s([nn,Rs,rr,yr,Nr])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),Or=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),na=new Map([["parts",s([Or])],["req",s([s([s(["01"]),s(["02"])])])]]),Kr=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),Za=new Map([["parts",s([Kr])],["req",s([s([s(["01"]),s(["02"])]),s([s(["422"])])])]]),es=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),Hs=new Map([["parts",s([es])],["req",s([s([s(["00"])])])]]),bn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Rn=new Map([["parts",s([bn])],["req",s([s([s(["00"])])])]]),zn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Ln=new Map([["parts",s([zn])],["req",s([s([s(["4302"])])])]]),wn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),fi=new Map([["parts",s([wn])],["req",s([s([s(["00"])])])]]),Qn=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),hi=new Map([["parts",s([Qn])],["req",s([s([s(["00"])])])]]),Ji=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),pi=new Map([["parts",s([Ji])],["req",s([s([s(["00"])])])]]),Xi=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlatitude"])]]),Zi=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlongitude"])]]),Ye=new Map([["parts",s([Xi,Zi])],["req",s([s([s(["00"])])])]]),gt=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),pr=new Map([["parts",s([gt])],["req",s([s([s(["00"])])])]]),kr=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),pa=new Map([["parts",s([kr])],["req",s([s([s(["00"])])])]]),ts=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),rs=new Map([["parts",s([ts])],["req",s([s([s(["4312"])])])]]),Es=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),on=new Map([["parts",s([Es])],["req",s([s([s(["00"])])])]]),yn=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),Ti=new Map([["parts",s([yn])],["req",s([s([s(["00"])])])]]),Ri=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Hn=new Map([["parts",s([Ri])],["req",s([s([s(["00"])])])]]),Mi=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Eo=new Map([["parts",s([Mi])],["req",s([s([s(["00"])])])]]),Q1=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),ct=new Map([["parts",s([Q1])],["req",s([s([s(["00"])])])]]),qt=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintyesno"])]]),Ur=new Map([["parts",s([qt])],["req",s([s([s(["00"])])])]]),it=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),Ft=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Yt=new Map([["parts",s([it,Ft])],["req",s([s([s(["00"])])])]]),Wt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Wr=new Map([["parts",s([Wt])],["req",s([s([s(["00"])])])]]),wa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ma=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),cs=new Map([["parts",s([wa,ma])],["ex",s(["4331"])],["req",s([s([s(["00"])])])]]),$s=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ln=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),cn=new Map([["parts",s([$s,ln])],["ex",s(["4330"])],["req",s([s([s(["00"])])])]]),$n=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),g1=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),e1=new Map([["parts",s([$n,g1])],["ex",s(["4333"])],["req",s([s([s(["00"])])])]]),Fi=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),b1=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),t1=new Map([["parts",s([Fi,b1])],["ex",s(["4332"])],["req",s([s([s(["00"])])])]]),H1=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s([])]]),w1=new Map([["parts",s([H1])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Nc=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Sc=new Map([["parts",s([Nc])],["req",s([s([s(["01"]),s(["02"])])])]]),ml=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Co=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Ec=new Map([["parts",s([ml,Co])],["req",s([s([s(["01"]),s(["02"])])])]]),Cc=new Map([["cset","N"],["min",1],["max",4],["opt",!1],["linters",s([])]]),Ic=new Map([["parts",s([Cc])],["req",s([s([s(["01"])]),s([s(["10"])])])]]),Bc=new Map([["cset","X"],["min",1],["max",12],["opt",!1],["linters",s([])]]),Dc=new Map([["parts",s([Bc])],["req",s([s([s(["01"]),s(["02"])])])]]),Tc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Rc=new Map([["parts",s([Tc])],["req",s([s([s(["01"]),s(["02"])])])]]),Mc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Fc=new Map([["cset","N"],["min",6],["max",6],["opt",!0],["linters",s(["lintyymmdd"])]]),Pc=new Map([["parts",s([Mc,Fc])],["req",s([s([s(["01"]),s(["02"])])])]]),xl=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),Io=new Map([["parts",s([xl])],["req",s([s([s(["01"]),s(["02"])])])]]),_c=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),Oc=new Map([["parts",s([_c])],["req",s([s([s(["01"]),s(["02"])])])]]),vl=new Map([["cset","X"],["min",1],["max",2],["opt",!1],["linters",s([])]]),Bo=new Map([["parts",s([vl])],["req",s([s([s(["01"]),s(["02"])])])]]),Uc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),zc=new Map([["cset","N"],["min",4],["max",4],["opt",!0],["linters",s(["linthhmi"])]]),gl=new Map([["parts",s([Uc,zc])],["req",s([s([s(["01"]),s(["02"])])])]]),Do=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Lc=new Map([["parts",s([Do])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["416"])])])]]),Qc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),bl=new Map([["parts",s([Qc])],["req",s([s([s(["01"]),s(["8006"])])])]]),To=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Hc=new Map([["parts",s([To])],["req",s([s([s(["7021"])])])]]),wl=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),$1=new Map([["parts",s([wl])]]),Ro=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166999"])]]),$c=new Map([["cset","X"],["min",1],["max",27],["opt",!1],["linters",s([])]]),qn=new Map([["parts",s([Ro,$c])],["req",s([s([s(["01"]),s(["02"])])])]]),qc=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),$u=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),qu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),m2=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s(["lintimporteridx"])]]),Gc=new Map([["parts",s([qc,$u,qu,m2])],["dlattr",!1]]),Gu=new Map([["cset","X"],["min",1],["max",4],["opt",!1],["linters",s(["lintpackagetype"])]]),Yu=new Map([["parts",s([Gu])],["req",s([s([s(["00"])])])],["dlattr",!1]]),x2=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Pi=new Map([["parts",s([x2])],["req",s([s([s(["01"])])])]]),Vu=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s([])]]),Ku=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),mi=new Map([["parts",s([Vu,Ku])],["req",s([s([s(["01"]),s(["8004"])])])]]),Yc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Wu=new Map([["parts",s([Yc])],["req",s([s([s(["01"]),s(["8006"])])])]]),Ju=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["lintmediatype"])]]),v2=new Map([["parts",s([Ju])],["req",s([s([s(["8017"]),s(["8018"])])])]]),Vc=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),Xu=new Map([["parts",s([Vc])],["req",s([s([s(["8017"]),s(["8018"])])])]]),Zu=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),uA=new Map([["parts",s([Zu])],["ex",s(["7251"])],["req",s([s([s(["8018"])])])]]),fA=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),hA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),pA=new Map([["parts",s([fA,hA])],["ex",s(["7250"])],["req",s([s([s(["8018"])])])]]),mA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintiso5218"])]]),xA=new Map([["parts",s([mA])],["req",s([s([s(["8018"])])])]]),vA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),Km=new Map([["parts",s([vA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),gA=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),bA=new Map([["parts",s([gA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),wA=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s(["lintpcenc"])]]),yA=new Map([["parts",s([wA])],["req",s([s([s(["8017"]),s(["8018"])])])]]),AA=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),kA=new Map([["parts",s([AA])],["req",s([s([s(["8018"])])])]]),jA=new Map([["cset","X"],["min",3],["max",3],["opt",!1],["linters",s(["lintposinseqslash"])]]),NA=new Map([["parts",s([jA])],["req",s([s([s(["8018","7259"])])])]]),SA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),EA=new Map([["parts",s([SA])],["ex",s(["7256"])],["req",s([s([s(["8018"])])])]]),CA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintnonzero"])]]),IA=new Map([["cset","N"],["min",5],["max",5],["opt",!1],["linters",s(["lintnonzero"])]]),BA=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintnonzero"])]]),DA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintwinding"])]]),TA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),RA=new Map([["parts",s([CA,IA,BA,DA,TA])],["req",s([s([s(["01"])])])]]),MA=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),FA=new Map([["parts",s([MA])]]),PA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintzero"])]]),_A=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),OA=new Map([["cset","X"],["min",1],["max",16],["opt",!0],["linters",s([])]]),UA=new Map([["parts",s([PA,_A,OA])],["dlpkey",s([])]]),zA=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),LA=new Map([["parts",s([zA])],["dlpkey",s([s(["7040"])])]]),QA=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),HA=new Map([["parts",s([QA])],["req",s([s([s(["01"]),s(["02"])])])]]),$A=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),qA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),GA=new Map([["parts",s([$A,qA])],["ex",s(["01","37"])],["dlpkey",s([s(["22","10","21"])])]]),YA=new Map([["cset","X"],["min",1],["max",34],["opt",!1],["linters",s(["lintiban"])]]),VA=new Map([["parts",s([YA])],["req",s([s([s(["415"])])])]]),KA=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),WA=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["linthh"])]]),JA=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintmi"])]]),XA=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintss"])]]),ZA=new Map([["parts",s([KA,WA,JA,XA])],["req",s([s([s(["01"]),s(["02"])])])]]),e9=new Map([["cset","X"],["min",1],["max",50],["opt",!1],["linters",s([])]]),t9=new Map([["parts",s([e9])],["req",s([s([s(["00"]),s(["01"])])])]]),r9=new Map([["cset","Y"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),a9=new Map([["parts",s([r9])],["dlpkey",s([s(["8011"])])]]),s9=new Map([["cset","N"],["min",1],["max",12],["opt",!1],["linters",s(["lintnozeroprefix"])]]),n9=new Map([["parts",s([s9])],["req",s([s([s(["8010"])])])],["dlattr",!1]]),i9=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),o9=new Map([["parts",s([i9])],["req",s([s([s(["01"]),s(["8006"])])])]]),l9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1"])]]),c9=new Map([["parts",s([l9])],["dlpkey",s([])]]),d9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1","linthasnondigit"])]]),u9=new Map([["parts",s([d9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),f9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),h9=new Map([["parts",s([f9])],["ex",s(["8018"])],["dlpkey",s([s(["8019"])])]]),p9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),m9=new Map([["parts",s([p9])],["ex",s(["8017"])],["dlpkey",s([s(["8019"])])]]),x9=new Map([["cset","N"],["min",1],["max",10],["opt",!1],["linters",s([])]]),v9=new Map([["parts",s([x9])],["req",s([s([s(["8017"]),s(["8018"])])])],["dlattr",!1]]),g9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),b9=new Map([["parts",s([g9])],["req",s([s([s(["415"])])])],["dlattr",!1]]),w9=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),y9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),A9=new Map([["parts",s([w9,y9])],["ex",s(["02","8006"])],["req",s([s([s(["37"])])])]]),k9=new Map([["cset","Z"],["min",1],["max",90],["opt",!1],["linters",s([])]]),j9=new Map([["parts",s([k9])],["req",s([s([s(["00"]),s(["01","21"]),s(["253"]),s(["255"]),s(["8003"]),s(["8004"]),s(["8006","21"]),s(["8010","8011"]),s(["8017"]),s(["8018"])])])]]),N9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponcode"])]]),S9=new Map([["parts",s([N9])]]),E9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),C9=new Map([["parts",s([E9])],["req",s([s([s(["255"])])])]]),I9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponposoffer"])]]),B9=new Map([["parts",s([I9])]]),D9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s([])]]),T9=new Map([["parts",s([D9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),R9=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),M9=new Map([["parts",s([R9])]]),F9=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s([])]]),y1=new Map([["parts",s([F9])]]),P9=new Map([["00",d],["01",y],["02",B],["03",Q],["10",P],["11",_],["12",de],["13",q],["15",q],["16",q],["17",ce],["20",oe],["21",he],["22",te],["235",Se],["240",Ue],["241",Ue],["242",$e],["243",Ke],["250",rt],["251",fe],["253",Xe],["254",qe],["255",dt],["30",Bt],["3100",At],["3101",At],["3102",At],["3103",At],["3104",At],["3105",At],["3110",Mt],["3111",Mt],["3112",Mt],["3113",Mt],["3114",Mt],["3115",Mt],["3120",Dt],["3121",Dt],["3122",Dt],["3123",Dt],["3124",Dt],["3125",Dt],["3130",O],["3131",O],["3132",O],["3133",O],["3134",O],["3135",O],["3140",G],["3141",G],["3142",G],["3143",G],["3144",G],["3145",G],["3150",le],["3151",le],["3152",le],["3153",le],["3154",le],["3155",le],["3160",ee],["3161",ee],["3162",ee],["3163",ee],["3164",ee],["3165",ee],["3200",X],["3201",X],["3202",X],["3203",X],["3204",X],["3205",X],["3210",me],["3211",me],["3212",me],["3213",me],["3214",me],["3215",me],["3220",ne],["3221",ne],["3222",ne],["3223",ne],["3224",ne],["3225",ne],["3230",Ee],["3231",Ee],["3232",Ee],["3233",Ee],["3234",Ee],["3235",Ee],["3240",Ne],["3241",Ne],["3242",Ne],["3243",Ne],["3244",Ne],["3245",Ne],["3250",Ce],["3251",Ce],["3252",Ce],["3253",Ce],["3254",Ce],["3255",Ce],["3260",Pe],["3261",Pe],["3262",Pe],["3263",Pe],["3264",Pe],["3265",Pe],["3270",st],["3271",st],["3272",st],["3273",st],["3274",st],["3275",st],["3280",je],["3281",je],["3282",je],["3283",je],["3284",je],["3285",je],["3290",He],["3291",He],["3292",He],["3293",He],["3294",He],["3295",He],["3300",ft],["3301",ft],["3302",ft],["3303",ft],["3304",ft],["3305",ft],["3310",ut],["3311",ut],["3312",ut],["3313",ut],["3314",ut],["3315",ut],["3320",nt],["3321",nt],["3322",nt],["3323",nt],["3324",nt],["3325",nt],["3330",et],["3331",et],["3332",et],["3333",et],["3334",et],["3335",et],["3340",Ht],["3341",Ht],["3342",Ht],["3343",Ht],["3344",Ht],["3345",Ht],["3350",sr],["3351",sr],["3352",sr],["3353",sr],["3354",sr],["3355",sr],["3360",nr],["3361",nr],["3362",nr],["3363",nr],["3364",nr],["3365",nr],["3370",ar],["3371",ar],["3372",ar],["3373",ar],["3374",ar],["3375",ar],["3400",Zt],["3401",Zt],["3402",Zt],["3403",Zt],["3404",Zt],["3405",Zt],["3410",Kt],["3411",Kt],["3412",Kt],["3413",Kt],["3414",Kt],["3415",Kt],["3420",ur],["3421",ur],["3422",ur],["3423",ur],["3424",ur],["3425",ur],["3430",Pr],["3431",Pr],["3432",Pr],["3433",Pr],["3434",Pr],["3435",Pr],["3440",Et],["3441",Et],["3442",Et],["3443",Et],["3444",Et],["3445",Et],["3450",tr],["3451",tr],["3452",tr],["3453",tr],["3454",tr],["3455",tr],["3460",ir],["3461",ir],["3462",ir],["3463",ir],["3464",ir],["3465",ir],["3470",or],["3471",or],["3472",or],["3473",or],["3474",or],["3475",or],["3480",wr],["3481",wr],["3482",wr],["3483",wr],["3484",wr],["3485",wr],["3490",fa],["3491",fa],["3492",fa],["3493",fa],["3494",fa],["3495",fa],["3500",Lr],["3501",Lr],["3502",Lr],["3503",Lr],["3504",Lr],["3505",Lr],["3510",ga],["3511",ga],["3512",ga],["3513",ga],["3514",ga],["3515",ga],["3520",la],["3521",la],["3522",la],["3523",la],["3524",la],["3525",la],["3530",Ca],["3531",Ca],["3532",Ca],["3533",Ca],["3534",Ca],["3535",Ca],["3540",La],["3541",La],["3542",La],["3543",La],["3544",La],["3545",La],["3550",Va],["3551",Va],["3552",Va],["3553",Va],["3554",Va],["3555",Va],["3560",Ia],["3561",Ia],["3562",Ia],["3563",Ia],["3564",Ia],["3565",Ia],["3570",Ha],["3571",Ha],["3572",Ha],["3573",Ha],["3574",Ha],["3575",Ha],["3600",Ma],["3601",Ma],["3602",Ma],["3603",Ma],["3604",Ma],["3605",Ma],["3610",Ds],["3611",Ds],["3612",Ds],["3613",Ds],["3614",Ds],["3615",Ds],["3620",Ka],["3621",Ka],["3622",Ka],["3623",Ka],["3624",Ka],["3625",Ka],["3630",Wa],["3631",Wa],["3632",Wa],["3633",Wa],["3634",Wa],["3635",Wa],["3640",Fa],["3641",Fa],["3642",Fa],["3643",Fa],["3644",Fa],["3645",Fa],["3650",$a],["3651",$a],["3652",$a],["3653",$a],["3654",$a],["3655",$a],["3660",Ba],["3661",Ba],["3662",Ba],["3663",Ba],["3664",Ba],["3665",Ba],["3670",Pa],["3671",Pa],["3672",Pa],["3673",Pa],["3674",Pa],["3675",Pa],["3680",is],["3681",is],["3682",is],["3683",is],["3684",is],["3685",is],["3690",Xr],["3691",Xr],["3692",Xr],["3693",Xr],["3694",Xr],["3695",Xr],["37",_a],["3900",Qr],["3901",Qr],["3902",Qr],["3903",Qr],["3904",Qr],["3905",Qr],["3906",Qr],["3907",Qr],["3908",Qr],["3909",Qr],["3910",Oa],["3911",Oa],["3912",Oa],["3913",Oa],["3914",Oa],["3915",Oa],["3916",Oa],["3917",Oa],["3918",Oa],["3919",Oa],["3920",Da],["3921",Da],["3922",Da],["3923",Da],["3924",Da],["3925",Da],["3926",Da],["3927",Da],["3928",Da],["3929",Da],["3930",Ta],["3931",Ta],["3932",Ta],["3933",Ta],["3934",Ta],["3935",Ta],["3936",Ta],["3937",Ta],["3938",Ta],["3939",Ta],["3940",Ja],["3941",Ja],["3942",Ja],["3943",Ja],["3950",bs],["3951",bs],["3952",bs],["3953",bs],["3954",bs],["3955",bs],["400",sn],["401",yt],["402",ra],["403",ca],["410",ws],["411",ws],["412",ws],["413",ws],["414",lt],["415",hr],["416",fr],["417",cr],["420",Hr],["421",Vr],["422",Zr],["423",ba],["424",Ss],["425",ea],["426",na],["427",Za],["4300",Hs],["4301",Hs],["4302",Rn],["4303",Ln],["4304",fi],["4305",fi],["4306",fi],["4307",hi],["4308",pi],["4309",Ye],["4310",pr],["4311",pr],["4312",pa],["4313",rs],["4314",on],["4315",on],["4316",on],["4317",Ti],["4318",Hn],["4319",Eo],["4320",ct],["4321",Ur],["4322",Ur],["4323",Ur],["4324",Yt],["4325",Yt],["4326",Wr],["4330",cs],["4331",cn],["4332",e1],["4333",t1],["7001",w1],["7002",Sc],["7003",Ec],["7004",Ic],["7005",Dc],["7006",Rc],["7007",Pc],["7008",Io],["7009",Oc],["7010",Bo],["7011",gl],["7020",Lc],["7021",bl],["7022",Hc],["7023",$1],["7030",qn],["7031",qn],["7032",qn],["7033",qn],["7034",qn],["7035",qn],["7036",qn],["7037",qn],["7038",qn],["7039",qn],["7040",Gc],["7041",Yu],["710",Pi],["711",Pi],["712",Pi],["713",Pi],["714",Pi],["715",Pi],["716",Pi],["7230",mi],["7231",mi],["7232",mi],["7233",mi],["7234",mi],["7235",mi],["7236",mi],["7237",mi],["7238",mi],["7239",mi],["7240",Wu],["7241",v2],["7242",Xu],["7250",uA],["7251",pA],["7252",xA],["7253",Km],["7254",Km],["7255",bA],["7256",yA],["7257",kA],["7258",NA],["7259",EA],["8001",RA],["8002",FA],["8003",UA],["8004",LA],["8005",HA],["8006",GA],["8007",VA],["8008",ZA],["8009",t9],["8010",a9],["8011",n9],["8012",o9],["8013",c9],["8014",u9],["8017",h9],["8018",m9],["8019",v9],["8020",b9],["8026",A9],["8030",j9],["8110",S9],["8111",C9],["8112",B9],["8200",T9],["90",M9],["91",y1],["92",y1],["93",y1],["94",y1],["95",y1],["96",y1],["97",y1],["98",y1],["99",y1]]);if(e.gs1syntax=P9,V(r[--t],"ai")){i0(r[--t],"("),r[--t]||(t--,r[t++]="bwipp.GS1aiMissingOpenParen#2494",r[t++]="AIs must start with '('",z()),r[t-1]=1/0;var _9=r[--t],O9=r[--t];for(r[t++]=_9,r[t++]=O9;;){var U9=r[t-1];if(U9.length==0){t--;break}Ct(r[--t],")"),r[--t]||(el(),r[t++]="bwipp.GS1aiMissingCloseParen#2500",r[t++]="AIs must end with ')'",z());var z9=r[--t];r[t-1]=z9;var L9=r[--t],Q9=r[--t];if(r[t++]=L9,Ct(Q9,"("),r[--t]){var H9=r[--t];r[t-1]=H9;var $9=r[--t],q9=r[--t];r[t++]=$9,r[t++]=q9}else r[t++]=""}var Wm=xa();if(r[t++]=Wm,Wm>0)for(var Jm=r[--t],ef=Jm,G9=~~(Jm/2)+1;ef>=G9;ef-=1)Na(ef,-1);else t--;Vt(s(~~(xa()/2))),e.ais=r[--t],Vt(s(xa())),r[t++]=1/0;var Y9=r[--t],V9=r[--t];r[t++]=Y9,ve(V9,function(){var tt=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);r[t++]=tt,ns()}),e.vals=s(),t--}else{if(i0(r[--t],"http://"),r[--t]||(i0(r[--t],"HTTP://"),r[--t]||(i0(r[--t],"https://"),r[--t]||(i0(r[--t],"HTTPS://"),r[--t]||(t--,r[t++]="bwipp.GS1dlURIbadScheme#2519",r[t++]="Scheme must be http:// HTTP:// https:// or HTTPS://",z())))),t--,Ct(r[--t],"/"),r[--t]||(t--,r[t++]="bwipp.GS1dlMissingDomainOrPathInfo#2525",r[t++]="URI must contain a domain and path info",z()),t-=2,Ct(r[--t],"#"),r[--t]){var K9=r[--t];r[t-1]=K9;var W9=r[--t];r[t-1]=W9}if(Ct(r[--t],"?"),!r[--t]){var J9=r[--t];r[t++]="",r[t++]=null,r[t++]=J9}for(e.pp=r[--t],t--,e.qp=r[--t],r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=e.pp;;){if(Ct(r[--t],"/"),!r[--t]){t--;break}var X9=r[--t];r[t-1]=X9.length+1;var Z9=r[--t],e7=r[--t],t7=r[t-1];r[t++]=S(Z9+t7),r[t++]=e7}Vt(s(xa()-1)),e.pipos=r[--t],t-=2,e.pipos.length<=1&&(r[t++]="bwipp.GS1dlNoAIinfo#2550",r[t++]="The path was too short to contain AI info",z()),r[t++]=!1;for(var Kc=e.pipos.length-2;Kc>=0;Kc-=2){var Xm=c(e.pipos,Kc),Zm=C(e.pp,Xm,S(c(e.pipos,Kc+1)-Xm)-1),r7=c(e.gs1syntax,Zm)!==void 0;if(r[t++]=Kc,r[t++]=Zm,r7){var a7=c(c(e.gs1syntax,r[--t]),"dlpkey")!==void 0;if(a7){var s7=r[--t];r[t-1]=s7,r[t++]=!0;break}}else t--;t--}r[--t]||(r[t++]="bwipp.GS1dlNoAIinfo#2569",r[t++]="The path does not contain a valid primary key",z());var ex=c(e.pipos,r[--t]);for(e.pp=C(e.pp,ex,S(e.pp.length-ex)),e.uriunescape=function(){for(e.qq=r[--t],e.in=r[--t],e.out=W(e.in.length),r[t++]=0,r[t++]=0;;){var tt=r[t-2];if(tt>=e.in.length)break;var St=r[t-2],Ar=c(e.in,St);if(r[t++]=Ar,Ar==43&&e.qq){t--;var mr=r[--t];g(e.out,mr,32);var Er=r[--t];r[t++]=Er+1,r[t++]=mr+1}else{var ia=r[t-1],da=r[t-3];if(ia==37&&da<e.in.length-2){t--;var ys=r[t-2],qa=C(e.in,ys+1,2);r[t++]=0;for(var As=0,Ms=qa.length;As<Ms;As++){var Fs=c(qa,As);if(r[t++]=Fs,Fs>=48&&Fs<=57){var qs=r[--t];r[t++]=qs-48}else{var xi=r[t-1];if(xi>=65&&xi<=70){var A1=r[--t];r[t++]=A1-55}else{var _i=r[t-1];if(_i>=97&&_i<=102){var k1=r[--t];r[t++]=k1-87}else t-=2,r[t++]="bwipp.GS1dlBadHexCharacter#2590",r[t++]="Invalid hex character",z()}}var r1=r[--t],a1=r[--t];r[t++]=S(r1+a1*16)}var s1=r[--t],n1=r[--t];g(e.out,n1,s1);var Jc=r[--t];r[t++]=Jc+3,r[t++]=n1+1}else{var yl=r[--t],Oi=r[--t];g(e.out,Oi,yl);var i1=r[--t];r[t++]=i1+1,r[t++]=Oi+1}}}e.out=C(e.out,0,r[--t]),r[t-1]=e.out},e.isvaliddlpkeyseq=function(){e.in=r[--t],r[t++]=!1,ve(c(c(e.gs1syntax,c(e.in,0)),"dlpkey"),function(){for(e.seq=r[--t],e.i=1,e.j=0;!(e.i>=e.in.length||e.j>=e.seq.length);)V(c(e.in,e.i),c(e.seq,e.j))&&(e.i=e.i+1),e.j=e.j+1;if(e.i==e.in.length)return r[t-1]=!0,!0})},e.ais=s(99),e.vals=s(99),r[t++]=0,r[t++]=e.pp;;){if(Ct(r[--t],"/"),r[--t]){var n7=r[--t];t--;var i7=r[--t],o7=r[t-1];if(g(e.ais,o7,n7),Ct(i7,"/"),r[--t]){var l7=r[--t];r[t-1]=l7}else{var c7=r[--t];r[t++]="",r[t++]=c7}var d7=r[--t],u7=r[t-2];r[t++]=e.vals,r[t++]=u7,r[t++]=d7,r[t++]=!1,e.uriunescape();var f7=r[--t],h7=r[--t];g(r[--t],h7,f7)}else{t--;break}var p7=r[--t],m7=r[--t];r[t++]=m7+1,r[t++]=p7}var tf=r[--t];for(e.plen=tf,r[t++]=tf,tf>1&&(r[t++]=C(e.ais,0,e.plen),e.isvaliddlpkeyseq(),r[--t]||(t--,r[t++]="bwipp.GS1dlBadPathInfo#2645",r[t++]="The AIs in the path are not a valid key-qualifier sequence for the key",z())),r[t++]=e.qp;;){var x7=r[t-1];if(x7.length==0){t--;break}if(Ct(r[--t],"&"),r[--t]){var v7=r[--t];r[t-1]=v7}else{var g7=r[--t];r[t++]="",r[t++]=g7}if(Ct(r[--t],"="),r[--t]){var b7=r[t-1];if(r[t++]=!0,ve(b7,function(){var tt=r[--t],St=r[--t];r[t++]=St&&tt>=48&&tt<=57}),r[--t]){var w7=r[--t];t--;var y7=r[--t],tx=r[t-2];g(e.ais,tx,w7),r[t++]=e.vals,r[t++]=tx,r[t++]=y7,r[t++]=!0,e.uriunescape();var A7=r[--t],k7=r[--t];g(r[--t],k7,A7);var j7=r[--t],N7=r[--t];r[t++]=N7+1,r[t++]=j7}else t-=3}else t--}for(var S7=r[t-1],rx=C(e.ais,e.plen,S(S7-e.plen)),rf=0,E7=rx.length;rf<E7;rf++){var ax=c(rx,rf),C7=c(e.gs1syntax,ax)!==void 0;if(r[t++]=ax,C7){var I7=r[t-1],sx=c(e.gs1syntax,I7),B7=c(sx,"dlattr")!==void 0;if(r[t++]=sx,r[t++]="dlattr",B7){var D7=r[--t],T7=c(r[--t],D7);r[t++]=T7}else t-=2,r[t++]=!0}else r[t++]=e.dontlint;if(!r[--t]){var nx=r[t-1],ix=nx.length,g2=W(ix+46);R(g2,0,"AI ("),R(g2,4,nx),R(g2,ix+4,") is not a valid GS1 DL URI data attribute"),r[t++]=g2;var R7=r[--t];r[t-1]=R7;var M7=r[--t];r[t++]="bwipp.GS1dlInvalidDataAttribute#2679",r[t++]=M7,z()}t--}for(var F7=r[t-1],ox=C(e.ais,e.plen,S(F7-e.plen)),af=0,P7=ox.length;af<P7;af++){r[t++]=c(ox,af);for(var sf=e.plen;sf>=1;sf-=1){var _7=r[t-1];r[t++]=sf,r[t++]=_7,r[t++]=1/0,U(C(e.ais,0,e.plen)),Na(xa()+3,-2);var O7=r[--t],U7=r[--t];r[t++]=O7,Na(U7,1);var z7=s();if(r[t++]=z7,e.isvaliddlpkeyseq(),r[--t]){var L7=r[--t];r[t-1]=L7;var lx=r[t-1],cx=lx.length,b2=W(cx+50);R(b2,0,"AI ("),R(b2,4,lx),R(b2,cx+4,") from query params should be in the path info"),r[t++]=b2;var Q7=r[--t];r[t-1]=Q7;var H7=r[--t];r[t++]="bwipp.GS1dlAttributeMustBeQualifier#2696",r[t++]=H7,z()}}t--}var dx=r[--t];e.ais=C(e.ais,0,dx),e.vals=C(e.vals,0,dx);for(var w2=0,$7=e.ais.length-1;w2<=$7;w2+=1){if(r[t++]=w2,V(c(e.ais,w2),"01")){var q7=r[t-1],ux=c(e.vals,q7),nf=ux.length;if(r[t++]=ux,nf==8||nf==12||nf==13){var fx=Fr(W(14),"00000000000000");r[t++]=fx,r[t++]=fx;var hx=r[t-3];R(r[t-1],14-hx.length,hx);var G7=r[t-2];t-=3;var Y7=r[t-1];g(e.vals,Y7,G7)}else t--}t--}}r[t++]=1/0;for(var px=s(["00","01","02","03","04","11","12","13","14","15","16","17","18","19","20","31","32","33","34","35","36","41"]),of=0,V7=px.length;of<V7;of++){var mx=c(px,of);r[t++]=mx,r[t++]=mx}e.aifixed=_e(),r[t++]=1/0;for(var xx=e.ais,lf=0,K7=xx.length;lf<K7;lf++){var vx=c(xx,lf);if(r[t++]=!0,r[t++]=vx,vx.length>=2){var W7=c(e.aifixed,C(r[--t],0,2))!==void 0;W7&&(r[t-1]=!1)}else t--}e.fncs=s(),r[t++]=1/0,r[t++]=0;for(var cf=0,J7=82;cf<J7;cf++){var gx=r[--t];r[t++]=c(`!"%&'()*+,-./0123456789:;<=>?ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz`,cf),r[t++]=gx,r[t++]=gx+1}t--,e.cset82=_e(),r[t++]=1/0,r[t++]=0;for(var df=0,X7=39;df<X7;df++){var bx=r[--t];r[t++]=c("#-/0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",df),r[t++]=bx,r[t++]=bx+1}t--,e.cset39=_e(),r[t++]=1/0,r[t++]=0;for(var uf=0,Z7=32;uf<Z7;uf++){var wx=r[--t];r[t++]=c("23456789ABCDEFGHJKLMNPQRSTUVWXYZ",uf),r[t++]=wx,r[t++]=wx+1}t--,e.cset32=_e(),r[t++]=1/0,r[t++]=0;for(var ff=0,ek=64;ff<ek;ff++){var yx=r[--t];r[t++]=c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",ff),r[t++]=yx,r[t++]=yx+1}t--,e.cset64=_e(),e.lintnumeric=function(){var tt=r[--t];if(r[t++]=!0,ve(tt,function(){var St=r[--t];if(St<48||St>57)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1notNumeric#2770",r[t++]="Not numeric",r[t++]=!1,!0},e.lintcset82=function(){var tt=r[--t];if(r[t++]=!0,ve(tt,function(){var St=c(e.cset82,r[--t])!==void 0;if(!St)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET82character#2775",r[t++]="Invalid CSET 82 character",r[t++]=!1,!0},e.lintcset39=function(){var tt=r[--t];if(r[t++]=!0,ve(tt,function(){var St=c(e.cset39,r[--t])!==void 0;if(!St)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET39character#2780",r[t++]="Invalid CSET 39 character",r[t++]=!1,!0},e.lintcset64=function(){var tt=r[t-1];if(Ct(tt,"="),r[--t]){var St=r[--t];r[t-1]=St;var Ar=r[--t];r[t++]=Ar.length%3,r[t++]=Ar;var mr=r[t-2],Er=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Er,r[t++]=mr,r[t++]=!1,mr==1&&V(Er,"=")&&(r[t-1]=!0);var ia=r[t-2],da=r[t-3];if(ia==2&&da.length==0&&(r[t-1]=!0),!r[--t])return t-=5,r[t++]="bwipp.GS1badCSET64padding#2789",r[t++]="Invalid CSET 64 padding",r[t++]=!1,!0;t-=2;var ys=r[--t],qa=r[--t];r[t++]=ys,r[t++]=qa}t--;var As=r[--t];if(r[t++]=!0,ve(As,function(){var Ms=c(e.cset64,r[--t])!==void 0;if(!Ms)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET64character#2795",r[t++]="Invalid CSET 64 character",r[t++]=!1,!0},e.lintgcppos1=function(){var tt=r[t-1];if(tt.length<2)return t-=2,r[t++]="bwipp.GS1gcpTooShort#2799",r[t++]="Value is too short to contain a GS1 Company Prefix",r[t++]=!1,!0;var St=r[--t],Ar=c(St,0),mr=c(St,1);if(Ar<48||Ar>57||mr<48||mr>57)return t--,r[t++]="bwipp.GS1badGCP#2802",r[t++]="Non-numeric GS1 Company Prefix",r[t++]=!1,!0},e.lintgcppos2=function(){var tt=r[t-1];if(tt.length<1)return t-=2,r[t++]="bwipp.GS1valueTooShortForOffsetGCP#2807",r[t++]="Value is too short to contain an offset GS1 Company Prefix",r[t++]=!1,!0;var St=r[--t];r[t++]=C(St,1,St.length-1),e.lintgcppos1()},e.lintimporteridx=function(){if(Ct("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r[--t]),!r[--t])return t-=2,r[t++]="bwipp.GS1badImporterIndex#2813",r[t++]="Invalid importer index",r[t++]=!1,!0;t-=3},e.lintcsum=function(){r[t++]=1/0;var tt=r[--t],St=r[--t],Ar=St.length%2==0?3:1;r[t++]=tt,r[t++]=Ar,ve(St,function(){var As=r[--t],Ms=r[--t];r[t++]=(As-48)*Ms,r[t++]=4-Ms}),t--;var mr=xa()+1;r[t++]=0;for(var Er=0,ia=mr-1;Er<ia;Er++){var da=r[--t],ys=r[--t];r[t++]=S(ys+da)}var qa=r[--t];if(r[t-1]=qa,r[--t]%10!=0)return t--,r[t++]="bwipp.GS1badChecksum#2822",r[t++]="Bad checksum",r[t++]=!1,!0},e.lintcsumalpha=function(){var tt=r[t-1];if(tt.length<2)return t-=2,r[t++]="bwipp.GS1alphaTooShort#2826",r[t++]="Alphanumeric string is too short to check",r[t++]=!1,!0;var St=r[t-1];r[t++]=St.length-2;var Ar=1/0,mr=C(St,0,St.length-2);r[t++]=Ar,ve(mr,function(){var Oi=r[t-1],i1=c(e.cset82,Oi)!==void 0;if(i1){var Mo=c(e.cset82,r[--t]);r[t++]=Mo}else return r[t++]=-1,!0});var Er=r[t-1];if(Er==-1)return el(),t-=3,r[t++]="bwipp.GS1UnknownCSET82Character#2832",r[t++]="Unknown CSET 82 character",r[t++]=!1,!0;Vt(s(xa()));var ia=r[--t];r[t-1]=ia;var da=r[t-2],ys=C(r[t-3],da,2);r[t-3]=r[t-1],t-=2;var qa=1/0,As=ys;r[t++]=qa,ve(As,function(){var Oi=r[t-1],i1=c(e.cset32,Oi)!==void 0;if(i1){var Mo=c(e.cset32,r[--t]);r[t++]=Mo}else return r[t++]=-1,!0});var Ms=r[t-1];if(Ms==-1)return el(),t-=2,r[t++]="bwipp.GS1UnknownCSET32Character#2838",r[t++]="Unknown CSET 32 character",r[t++]=!1,!0;Vt(s(xa()));var Fs=r[--t];r[t-1]=Fs;var qs=r[--t],xi=r[--t],A1=s([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83]),_i=xi.length;if(r[t++]=S((c(qs,0)<<5)+c(qs,1)),r[t++]=xi,r[t++]=A1,r[t++]=_i,_i>A1.length)return t-=5,r[t++]="bwipp.GS1alphaTooLong#2843",r[t++]="Alphanumeric string is too long to check",r[t++]=!1,!0;for(var k1=r[--t],r1=C(r[--t],0,k1),a1=0,s1=r1.length;a1<s1;a1++){var n1=r[--t];r[t++]=c(r1,a1),r[t++]=n1}var Jc=r[--t];r[t++]=0,ve(Jc,function(){var Oi=r[t-3],i1=r[t-1],Mo=r[t-2];t-=3,r[t++]=S(Mo+Oi*i1)});var yl=r[--t];if(r[--t]!=yl%1021)return t--,r[t++]="bwipp.GS1badAlphaCheckCharacters#2846",r[t++]="Bad alphanumeric check characters",r[t++]=!1,!0},r[t++]=1/0;for(var Ax=s(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]),hf=0,tk=Ax.length;hf<tk;hf++){var kx=c(Ax,hf);r[t++]=kx,r[t++]=kx}e.iso3166=_e(),e.lintiso3166=function(){var tt=c(e.iso3166,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCountry#2873",r[t++]="Unknown country code",r[t++]=!1,!0},e.lintiso3166999=function(){var tt=r[t-1];if(Ie(tt,"999")){var St=c(e.iso3166,r[--t])!==void 0;if(!St)return t--,r[t++]="bwipp.GS1UnknownCountryOr999#2878",r[t++]="Unknown country code or not 999",r[t++]=!1,!0}else t--},r[t++]=1/0;for(var jx=s(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]),pf=0,rk=jx.length;pf<rk;pf++){var Nx=c(jx,pf);r[t++]=Nx,r[t++]=Nx}e.iso3166alpha2=_e(),e.lintiso3166alpha2=function(){var tt=c(e.iso3166alpha2,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCountryAlpha#2914",r[t++]="Unknown country alpha code",r[t++]=!1,!0},r[t++]=1/0;for(var Sx=s(["008","012","032","036","044","048","050","051","052","060","064","068","072","084","090","096","104","108","116","124","132","136","144","152","156","170","174","188","191","192","203","208","214","222","230","232","238","242","262","270","292","320","324","328","332","340","344","348","352","356","360","364","368","376","388","392","396","398","400","404","408","410","414","417","418","422","426","430","434","446","454","458","462","480","484","496","498","504","512","516","524","532","533","548","554","558","566","578","586","590","598","600","604","608","634","643","646","654","682","690","694","702","704","706","710","728","748","752","756","760","764","776","780","784","788","800","807","818","826","834","840","858","860","882","886","901","925","927","928","929","930","931","932","933","934","936","938","940","941","943","944","946","947","948","949","950","951","952","953","955","956","957","958","959","960","961","962","963","964","965","967","968","969","970","971","972","973","975","976","977","978","979","980","981","984","985","986","990","994","997","999"]),mf=0,ak=Sx.length;mf<ak;mf++){var Ex=c(Sx,mf);r[t++]=Ex,r[t++]=Ex}e.iso4217=_e(),e.lintiso4217=function(){var tt=c(e.iso4217,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCurrency#2945",r[t++]="Unknown currency code",r[t++]=!1,!0},e.lintiso5218=function(){var tt=r[--t];if(Ie(tt,"0")&&Ie(tt,"1")&&Ie(tt,"2")&&Ie(tt,"9"))return t--,r[t++]="bwipp.GS1biologicalSexCode#2950",r[t++]="Invalid biological sex code",r[t++]=!1,!0},e.lintiban=function(){var tt=r[t-1];if(tt.length<=4)return t-=2,r[t++]="bwipp.GS1tooShort#2955",r[t++]="IBAN too short",r[t++]=!1,!0;var St=r[t-1];if(r[t++]=!0,ve(St,function(){var Fs=W(1);r[t++]=Fs,r[t++]=Fs,r[t++]=0,Na(4,-1);var qs=r[--t],xi=r[--t];if(g(r[--t],xi,qs),Ct("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r[--t]),!r[--t])return t-=2,r[t++]=!1,!0;t-=3}),!r[--t])return t--,r[t++]="bwipp.GS1badIBANcharacter#2962",r[t++]="Invalid IBAN character",r[t++]=!1,!0;var Ar=r[t-1],mr=1/0,Er=Ar;r[t++]=mr;var ia=1/0,da=Er;r[t++]=ia,ve(da),Na(xa(),-4),Vt(s(xa()));var ys=r[--t];r[t-1]=ys,ve(r[--t],function(){var Fs=r[--t]-48;if(r[t++]=Fs,Fs>9){var qs=r[--t]-7;r[t++]=~~(qs/10),r[t++]=qs%10}}),Vt(s(xa()));var qa=r[--t];r[t-1]=qa;var As=r[--t];if(r[t++]=0,ve(As,function(){var Fs=r[--t],qs=r[--t];r[t++]=S(Fs+qs*10)%97}),r[--t]!=1)return t-=2,r[t++]="bwipp.GS1badIBANchecksum#2967",r[t++]="IBAN checksum incorrect",r[t++]=!1,!0;var Ms=C(r[--t],0,2);r[t++]=Ms,e.lintiso3166alpha2()},e.lintzero=function(){if(Ie(r[--t],"0"))return t--,r[t++]="bwipp.GS1zeroRequired#2972",r[t++]="Zero is required",r[t++]=!1,!0},e.lintnonzero=function(){var tt=r[--t];if(r[t++]=!1,ve(tt,function(){r[--t]!=48&&(r[t-1]=!0)}),!r[--t])return t--,r[t++]="bwipp.GS1zeroNotPermitted#2977",r[t++]="Zero not permitted",r[t++]=!1,!0},e.lintnozeroprefix=function(){var tt=r[--t];if(tt.length>1&&c(tt,0)==48)return t--,r[t++]="bwipp.GS1badZeroPrefix#2982",r[t++]="Zero prefix is not permitted",r[t++]=!1,!0},e.linthasnondigit=function(){var tt=r[--t];if(r[t++]=!1,ve(tt,function(){var St=r[--t];if(St<48||St>57)return r[t-1]=!0,!0}),!r[--t])return r[t++]="bwipp.GS1requiresNonDigit#2988",r[t++]="A non-digit character is required",r[t++]=!1,!0},e.linthyphen=function(){if(Ie(r[--t],"-"))return t--,r[t++]="bwipp.GS1hyphenRequired#2992",r[t++]="A hyphen is required",r[t++]=!1,!0},e.lintyyyymmd0=function(){var tt=r[t-1],St=De(C(tt,4,2));if(St<1||St>12)return t--,r[t++]="bwipp.GS1badMonth#2996",r[t++]="Invalid month",r[t++]=!1,!0;var Ar=r[t-1],mr=De(C(Ar,0,4));r[t++]=mr%400==0||mr%4==0&&mr%100!=0,r[t++]=1/0,r[t++]=31,Na(3,-1);var Er=r[--t]?29:28;r[t++]=Er,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var ia=s(),da=r[--t];if(c(ia,De(C(da,4,2))-1)<De(C(da,6,2)))return t--,r[t++]="bwipp.GS1badDay#3000",r[t++]="Invalid day of month",r[t++]=!1,!0},e.lintyyyymmdd=function(){var tt=r[t-1];if(tt.length!=8)return t--,r[t++]="bwipp.GS1badDateLength#3004",r[t++]="Invalid length for yyyymmdd date",r[t++]=!1,!0;var St=r[t-1];if(De(C(St,6,2))<1)return t--,r[t++]="bwipp.GS1badDay#3005",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyyyymmd0()},e.lintyymmd0=function(){var tt=r[t-1],St=De(C(tt,0,2)),Ar=St-21;r[t++]=St,r[t++]=Ar,Ar>=51?r[t-1]="19":r[--t]<=-50?r[t++]="21":r[t++]="20";var mr=r[--t];r[t-1]=mr;var Er=W(8);r[t++]=Er,r[t++]=Er,r[t++]=0,Na(4,-1);var ia=r[--t],da=r[--t];R(r[--t],da,ia);var ys=r[t-1];r[t++]=ys,r[t++]=2,Na(4,-1);var qa=r[--t],As=r[--t];R(r[--t],As,qa),e.lintyyyymmd0()},e.lintyymmdd=function(){var tt=r[t-1];if(tt.length!=6)return t--,r[t++]="bwipp.GS1badDateLength#3017",r[t++]="Invalid length for yymmdd date",r[t++]=!1,!0;var St=r[t-1];if(De(C(St,4,2))<1)return t--,r[t++]="bwipp.GS1badDay#3018",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyymmd0()},e.linthh=function(){if(De(C(r[--t],0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3023",r[t++]="Invalid hour of day",r[t++]=!1,!0},e.lintmi=function(){if(De(C(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3027",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintss=function(){if(De(C(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badSecond#3031",r[t++]="Invalid second in the minute",r[t++]=!1,!0},e.linthhmi=function(){var tt=r[t-1];if(De(C(tt,0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3035",r[t++]="Invalid hour of day",r[t++]=!1,!0;if(De(C(r[--t],2,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3036",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintmmoptss=function(){var tt=r[t-1],St=tt.length;if(St!=2&&St!=4)return t--,r[t++]="bwipp.GS1badTimeLength#3041",r[t++]="Invalid length for optional minutes and seconds",r[t++]=!1,!0;var Ar=r[t-1];if(De(C(Ar,0,2))>59)return t-=2,r[t++]="bwipp.GS1badMinute#3043",r[t++]="Invalid minute in the hour",r[t++]=!1,!0;var mr=r[t-1];if(mr.length>=4){var Er=r[t-1];if(De(C(Er,2,2))>59)return t-=2,r[t++]="bwipp.GS1badSecond#3045",r[t++]="Invalid second in the minute",r[t++]=!1,!0}t--},e.lintyesno=function(){var tt=r[--t];if(Ie(tt,"0")&&Ie(tt,"1"))return t--,r[t++]="bwipp.GS1badBoolean#3052",r[t++]="Neither 0 nor 1 for yes or no",r[t++]=!1,!0},e.lintwinding=function(){var tt=r[--t];if(Ie(tt,"0")&&Ie(tt,"1")&&Ie(tt,"9"))return t--,r[t++]="bwipp.GS1badWinding#3058",r[t++]="Invalid winding direction",r[t++]=!1,!0},e.lintpieceoftotal=function(){var tt=r[t-1];if(tt.length%2!=0)return t-=2,r[t++]="bwipp.GS1badPieceTotalLength#3063",r[t++]="Invalid piece/total length",r[t++]=!1,!0;var St=r[t-1],Ar=De(C(St,0,~~(St.length/2)));if(r[t++]=Ar,Ar==0)return t-=3,r[t++]="bwipp.GS1badPieceNumber#3065",r[t++]="Invalid piece number",r[t++]=!1,!0;var mr=r[--t],Er=r[--t],ia=~~(Er.length/2),da=De(C(Er,ia,ia));if(r[t++]=mr,r[t++]=da,da==0)return t-=3,r[t++]="bwipp.GS1badPieceTotal#3067",r[t++]="Invalid total number",r[t++]=!1,!0;var ys=r[--t];if(I1(r[--t],ys))return t--,r[t++]="bwipp.GS1pieceExceedsTotal#3068",r[t++]="Piece number exceeds total",r[t++]=!1,!0},e.lintposinseqslash=function(){if(Ct(r[--t],"/"),!r[--t])return t--,r[t++]="bwipp.invalidPosInSeqFormat#3073",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var tt=r[--t];r[t-1]=tt;var St=r[t-1];if(St.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3077",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var Ar=r[t-2];if(Ar.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3080",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var mr=r[t-1];if(r[t++]=!0,ve(mr,function(){var qa=r[--t];if(qa<48||qa>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.positionNotNumeric#3085",r[t++]="Position is not numeric",r[t++]=!1,!0;var Er=r[t-2];if(r[t++]=!0,ve(Er,function(){var qa=r[--t];if(qa<48||qa>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.endNotNumeric#3089",r[t++]="End is not numeric",r[t++]=!1,!0;var ia=r[t-1];if(c(ia,0)==48)return t-=2,r[t++]="bwipp.positionZeroPrefix#3090",r[t++]="Position cannot have zero prefix",r[t++]=!1,!0;var da=r[t-2];if(c(da,0)==48)return t-=2,r[t++]="bwipp.endZeroPrefix#3091",r[t++]="End cannot have zero prefix",r[t++]=!1,!0;var ys=r[--t];if(De(r[--t])<De(ys))return r[t++]="bwipp.positionExceedsEnd#3093",r[t++]="Position exceeds end",r[t++]=!1,!0},e.lintpcenc=function(){for(;;){if(Ct(r[--t],"%"),!r[--t]){t--;break}t-=2;var tt=r[t-1];if(tt.length<2){t-=2,r[t++]="bwipp.GS1badPercentEscape#3099",r[t++]="Invalid % escape",r[t++]=!1;break}var St=r[t-1],Ar=C(St,0,2);r[t++]=!0;for(var mr=0,Er=Ar.length;mr<Er;mr++){var ia=W(1);if(g(ia,0,c(Ar,mr)),Ct("0123456789ABCDEFabcdef",ia),!r[--t]){t-=2,r[t++]=!1;break}t-=3}if(!r[--t]){t-=2,r[t++]="bwipp.GS1badPercentChars#3106",r[t++]="Invalid characters for percent encoding",r[t++]=!1;break}}},e.lintcouponcode=function(){var tt=r[t-1];if(r[t++]=!0,ve(tt,function(){var Zv=r[--t];if(Zv<48||Zv>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3114",r[t++]="Coupon not numeric",r[t++]=!1,!0;var St=r[t-1];if(St.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortGCPVLI#3118",r[t++]="Coupon too short: Missing GCP VLI",r[t++]=!1,!0;var Ar=r[t-1],mr=De(C(Ar,0,1));if(r[t++]=mr,mr>6)return t-=2,r[t++]="bwipp.GS1couponBadGCPVLI#3121",r[t++]="Coupon GCP length indicator must be 0-6",r[t++]=!1,!0;var Er=r[--t],ia=r[t-1];if(r[t++]=Er+6+1,Er+6+1>ia.length)return t-=3,r[t++]="bwipp.GS1couponTooShortGCP#3125",r[t++]="Coupon too short: GCP truncated",r[t++]=!1,!0;var da=r[--t],ys=r[--t],qa=C(ys,da,S(ys.length-da));if(r[t++]=qa,qa.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3131",r[t++]="Coupon too short: Offer Code truncated",r[t++]=!1,!0;var As=r[--t],Ms=C(As,6,As.length-6);if(r[t++]=Ms,Ms.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueVLI#3137",r[t++]="Coupon too short: Missing Save Value VLI",r[t++]=!1,!0;var Fs=r[t-1],qs=De(C(Fs,0,1));if(r[t++]=qs,qs<1||qs>5)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueVLI#3140",r[t++]="Coupon Save Value length indicator must be 1-5",r[t++]=!1,!0;var xi=r[--t],A1=r[t-1];if(r[t++]=xi+1,xi+1>A1.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSaveValue#3144",r[t++]="Coupon too short: Save Value truncated",r[t++]=!1,!0;var _i=r[--t],k1=r[--t],r1=C(k1,_i,S(k1.length-_i));if(r[t++]=r1,r1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementVLI#3150",r[t++]="Coupon too short: Missing 1st Purchase Requirement VLI",r[t++]=!1,!0;var a1=r[t-1],s1=De(C(a1,0,1));if(r[t++]=s1,s1<1||s1>5)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementVLI#3153",r[t++]="Coupon 1st Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var n1=r[--t],Jc=r[t-1];if(r[t++]=n1+1,n1+1>Jc.length)return t-=3,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirement#3157",r[t++]="Coupon too short: 1st Purchase Requirement truncated",r[t++]=!1,!0;var yl=r[--t],Oi=r[--t],i1=C(Oi,yl,S(Oi.length-yl));if(r[t++]=i1,i1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementCode#3163",r[t++]="Coupon too short: Missing 1st Purchase Requirement Code",r[t++]=!1,!0;var Mo=r[t-1],Px=De(C(Mo,0,1));if(Px>4&&Px!=9)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementCode#3166",r[t++]="Coupon 1st Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var _x=r[--t],Ox=C(_x,1,_x.length-1);if(r[t++]=Ox,Ox.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseFamilyCode#3172",r[t++]="Coupon too short: 1st Purchase Family Code truncated",r[t++]=!1,!0;var Ux=r[--t],zx=C(Ux,3,Ux.length-3);if(r[t++]=zx,zx.length>=1){var vk=r[t-1];if(De(C(vk,0,1))==1){var Lx=r[--t],Qx=C(Lx,1,Lx.length-1);if(r[t++]=Qx,Qx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortAdditionalPurchaseRulesCode#3182",r[t++]="Coupon too short: Missing Additional Purchase Rules Code",r[t++]=!1,!0;var gk=r[t-1];if(De(C(gk,0,1))>3)return t-=2,r[t++]="bwipp.GS1couponBadAdditionalPurchaseRulesCode#3185",r[t++]="Coupon Additional Purchase Rules Code must be 0-3",r[t++]=!1,!0;var Hx=r[--t],$x=C(Hx,1,Hx.length-1);if(r[t++]=$x,$x.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementVLI#3191",r[t++]="Coupon too short: Missing 2nd Purchase Requirement VLI",r[t++]=!1,!0;var bk=r[t-1],bf=De(C(bk,0,1));if(r[t++]=bf,bf<1||bf>5)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementVLI#3194",r[t++]="Coupon 2nd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var qx=r[--t],wk=r[t-1];if(r[t++]=qx+1,qx+1>wk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirement#3198",r[t++]="Coupon too short: 2nd Purchase Requirement truncated",r[t++]=!1,!0;var Gx=r[--t],Yx=r[--t],Vx=C(Yx,Gx,S(Yx.length-Gx));if(r[t++]=Vx,Vx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementCode#3204",r[t++]="Coupon too short: Missing 2nd Purchase Requirement Code",r[t++]=!1,!0;var yk=r[t-1],Kx=De(C(yk,0,1));if(Kx>4&&Kx!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementCode#3207",r[t++]="Coupon 2nd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Wx=r[--t],Jx=C(Wx,1,Wx.length-1);if(r[t++]=Jx,Jx.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseFamilyCode#3213",r[t++]="Coupon too short: 2nd Purchase Family Code truncated",r[t++]=!1,!0;var Xx=r[--t],Zx=C(Xx,3,Xx.length-3);if(r[t++]=Zx,Zx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCPVLI#3219",r[t++]="Coupon too short: Missing 2nd Purchase GCP VLI",r[t++]=!1,!0;var Ak=r[t-1],wf=De(C(Ak,0,1));if(r[t++]=wf,wf>6&&wf!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseGCPVLI#3222",r[t++]="Coupon 2nd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var kk=r[t-1];if(kk!=9){var jk=r[--t];r[t++]=jk+6}else r[t-1]=0;var ev=r[--t],Nk=r[t-1];if(r[t++]=ev+1,ev+1>Nk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCP#3226",r[t++]="Coupon too short: 2nd Purchase GCP truncated",r[t++]=!1,!0;var tv=r[--t],rv=r[--t];r[t++]=C(rv,tv,S(rv.length-tv))}}var Sk=r[t-1];if(Sk.length>=1){var Ek=r[t-1];if(De(C(Ek,0,1))==2){var av=r[--t],sv=C(av,1,av.length-1);if(r[t++]=sv,sv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementVLI#3238",r[t++]="Coupon too short: Missing 3rd Purchase Requirement VLI",r[t++]=!1,!0;var Ck=r[t-1],yf=De(C(Ck,0,1));if(r[t++]=yf,yf<1||yf>5)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementVLI#3241",r[t++]="Coupon 3rd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var nv=r[--t],Ik=r[t-1];if(r[t++]=nv+1,nv+1>Ik.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirement#3245",r[t++]="Coupon too short: 3rd Purchase Requirement truncated",r[t++]=!1,!0;var iv=r[--t],ov=r[--t],lv=C(ov,iv,S(ov.length-iv));if(r[t++]=lv,lv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementCode#3251",r[t++]="Coupon too short: Missing 3rd Purchase Requirement Code",r[t++]=!1,!0;var Bk=r[t-1],cv=De(C(Bk,0,1));if(cv>4&&cv!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementCode#3254",r[t++]="Coupon 3rd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var dv=r[--t],uv=C(dv,1,dv.length-1);if(r[t++]=uv,uv.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseFamilyCode#3260",r[t++]="Coupon too short: 3rd Purchase Family Code truncated",r[t++]=!1,!0;var fv=r[--t],hv=C(fv,3,fv.length-3);if(r[t++]=hv,hv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCPVLI#3266",r[t++]="Coupon too short: Missing 3rd Purchase GCP VLI",r[t++]=!1,!0;var Dk=r[t-1],Af=De(C(Dk,0,1));if(r[t++]=Af,Af>6&&Af!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseGCPVLI#3269",r[t++]="Coupon 3rd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Tk=r[t-1];if(Tk!=9){var Rk=r[--t];r[t++]=Rk+6}else r[t-1]=0;var pv=r[--t],Mk=r[t-1];if(r[t++]=pv+1,pv+1>Mk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCP#3273",r[t++]="Coupon too short: 3rd Purchase GCP truncated",r[t++]=!1,!0;var mv=r[--t],xv=r[--t];r[t++]=C(xv,mv,S(xv.length-mv))}}e.couponexpire=-1;var Fk=r[t-1];if(Fk.length>=1){var Pk=r[t-1];if(De(C(Pk,0,1))==3){var vv=r[--t],gv=C(vv,1,vv.length-1);if(r[t++]=gv,gv.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortExpirationDate#3286",r[t++]="Coupon too short: Expiration date",r[t++]=!1,!0;var _k=r[t-1],bv=De(C(_k,2,2));if(bv<1||bv>12)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadMonth#3288",r[t++]="Invalid month in expiration date",r[t++]=!1,!0;var Ok=r[t-1],wv=De(C(Ok,0,2)),yv=wv-21;if(r[t++]=wv,r[t++]=yv,yv>=51){t--;var Uk=r[--t];r[t++]=Uk+1900}else if(r[--t]<=-50){var zk=r[--t];r[t++]=zk+2100}else{var Lk=r[--t];r[t++]=Lk+2e3}var kf=r[--t];r[t++]=kf%400==0||kf%4==0&&kf%100!=0,r[t++]=1/0,r[t++]=31,Na(3,-1);var Qk=r[--t]?29:28;r[t++]=Qk,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var Hk=s(),Av=r[t-1],kv=De(C(Av,4,2));if(c(Hk,De(C(Av,2,2))-1)<kv||kv<1)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadDay#3295",r[t++]="Invalid day of month in expiration date",r[t++]=!1,!0;var jf=r[--t];e.couponexpire=De(C(jf,0,6)),r[t++]=C(jf,6,jf.length-6)}}var $k=r[t-1];if($k.length>=1){var qk=r[t-1];if(De(C(qk,0,1))==4){var jv=r[--t],Nv=C(jv,1,jv.length-1);if(r[t++]=Nv,Nv.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortStartDate#3307",r[t++]="Coupon too short: Start date",r[t++]=!1,!0;var Gk=r[t-1],Sv=De(C(Gk,2,2));if(Sv<1||Sv>12)return t-=2,r[t++]="bwipp.GS1couponStartDateBadMonth#3309",r[t++]="Invalid month in start date",r[t++]=!1,!0;var Yk=r[t-1],Ev=De(C(Yk,0,2)),Cv=Ev-21;if(r[t++]=Ev,r[t++]=Cv,Cv>=51){t--;var Vk=r[--t];r[t++]=Vk+1900}else if(r[--t]<=-50){var Kk=r[--t];r[t++]=Kk+2100}else{var Wk=r[--t];r[t++]=Wk+2e3}var Nf=r[--t];r[t++]=Nf%400==0||Nf%4==0&&Nf%100!=0,r[t++]=1/0,r[t++]=31,Na(3,-1);var Jk=r[--t]?29:28;r[t++]=Jk,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var Xk=s(),Iv=r[t-1],Bv=De(C(Iv,4,2));if(c(Xk,De(C(Iv,2,2))-1)<Bv||Bv<1)return t-=2,r[t++]="bwipp.GS1couponStartDateBadDay#3316",r[t++]="Invalid day of month in start date",r[t++]=!1,!0;var Dv=r[--t];if(e.couponstart=De(C(Dv,0,6)),r[t++]=Dv,e.couponexpire!=-1&&e.couponexpire<e.couponstart)return t-=2,r[t++]="bwipp.GS1couponExpireDateBeforeStartDate#3319",r[t++]="Coupon expires before it starts",r[t++]=!1,!0;var Tv=r[--t];r[t++]=C(Tv,6,Tv.length-6)}}var Zk=r[t-1];if(Zk.length>=1){var ej=r[t-1];if(De(C(ej,0,1))==5){var Rv=r[--t],Mv=C(Rv,1,Rv.length-1);if(r[t++]=Mv,Mv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSerialNumberVLI#3331",r[t++]="Coupon too short: Missing Serial Number VLI",r[t++]=!1,!0;var Fv=r[t-1],Pv=C(Fv,0,1);if(r[t++]=De(Pv)+6+1,De(Pv)+6+1>Fv.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSerialNumber#3335",r[t++]="Coupon too short: Serial Number truncated",r[t++]=!1,!0;var _v=r[--t],Ov=r[--t];r[t++]=C(Ov,_v,S(Ov.length-_v))}}var tj=r[t-1];if(tj.length>=1){var rj=r[t-1];if(De(C(rj,0,1))==6){var Uv=r[--t],zv=C(Uv,1,Uv.length-1);if(r[t++]=zv,zv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLNVLI#3347",r[t++]="Coupon too short: Missing Retailer GCP/GLN VLI",r[t++]=!1,!0;var aj=r[t-1],Sf=De(C(aj,0,1));if(r[t++]=Sf,Sf<1||Sf>7)return t-=2,r[t++]="bwipp.GS1couponBadRetailerGCPGLNVLI#3350",r[t++]="Coupon Retailer GCP/GLN length indicator must be 1-7",r[t++]=!1,!0;var Lv=r[--t],sj=r[t-1];if(r[t++]=Lv+6+1,Lv+6+1>sj.length)return t-=3,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLN#3354",r[t++]="Coupon too short: Retailer GCP/GLN truncated",r[t++]=!1,!0;var Qv=r[--t],Hv=r[--t];r[t++]=C(Hv,Qv,S(Hv.length-Qv))}}var nj=r[t-1];if(nj.length>=1){var ij=r[t-1];if(De(C(ij,0,1))==9){var $v=r[--t],qv=C($v,1,$v.length-1);if(r[t++]=qv,qv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueCode#3366",r[t++]="Coupon too short: Missing Save Value Code",r[t++]=!1,!0;var oj=r[t-1],Ef=De(C(oj,0,1));if(Ef>6||Ef==3||Ef==4)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueCode#3369",r[t++]="Coupon Save Value Code must be 0,1,2,5 or 6",r[t++]=!1,!0;var Gv=r[--t],Yv=C(Gv,1,Gv.length-1);if(r[t++]=Yv,Yv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueAppliesToItem#3375",r[t++]="Coupon too short: Missing Save Value Applies to Item",r[t++]=!1,!0;var lj=r[t-1];if(De(C(lj,0,1))>2)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueAppliesToItem#3378",r[t++]="Coupon Save Value Applies to Item must be 0-2",r[t++]=!1,!0;var Vv=r[--t],Kv=C(Vv,1,Vv.length-1);if(r[t++]=Kv,Kv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortStoreCouponFlag#3384",r[t++]="Coupon too short: Missing Store Coupon Flag",r[t++]=!1,!0;var Wv=r[--t],Jv=C(Wv,1,Wv.length-1);if(r[t++]=Jv,Jv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortDontMultiplyFlag#3390",r[t++]="Coupon too short: Missing Don't Multiply Flag",r[t++]=!1,!0;var cj=r[t-1];if(De(C(cj,0,1))>1)return t-=2,r[t++]="bwipp.GS1couponBadDontMultiplyFlag#3393",r[t++]="Don't Multiply Flag must be 0 or 1",r[t++]=!1,!0;var Xv=r[--t];r[t++]=C(Xv,1,Xv.length-1)}}var dj=r[t-1];if(dj.length!=0)return t-=2,r[t++]="bwipp.GS1couponUnrecognisedOptionalField#3400",r[t++]="Coupon fields must be 1,2,3,4,5,6 or 9, increasing order",r[t++]=!1,!0;t--},e.lintcouponposoffer=function(){var tt=r[t-1];if(r[t++]=!0,ve(tt,function(){var n1=r[--t];if(n1<48||n1>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3409",r[t++]="Coupon not numeric",r[t++]=!1,!0;var St=r[t-1];if(St.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFormatCode#3412",r[t++]="Coupon too short: Missing Format Code",r[t++]=!1,!0;var Ar=r[t-1],mr=C(Ar,0,1);if(Ie(mr,"0")&&Ie(mr,"1"))return t-=2,r[t++]="bwipp.GS1couponBadFormatCode#3415",r[t++]="Coupon format must be 0 or 1",r[t++]=!1,!0;var Er=r[--t],ia=C(Er,1,Er.length-1);if(r[t++]=ia,ia.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFunderVLI#3420",r[t++]="Coupon too short: Missing Funder VLI",r[t++]=!1,!0;var da=r[t-1],ys=De(C(da,0,1));if(r[t++]=ys,ys>6)return t-=3,r[t++]="bwipp.GS1couponBadFunderVLI#3423",r[t++]="Coupon Funder length indicator must be 0-6",r[t++]=!1,!0;var qa=r[--t],As=r[t-1];if(r[t++]=qa+6+1,qa+6+1>As.length)return t-=3,r[t++]="bwipp.GS1couponTooShortFunder#3427",r[t++]="Coupon too short: Truncated Funder ID",r[t++]=!1,!0;var Ms=r[--t],Fs=r[--t],qs=C(Fs,Ms,S(Fs.length-Ms));if(r[t++]=qs,qs.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3432",r[t++]="Coupon too short: Truncated Offer Code",r[t++]=!1,!0;var xi=r[--t],A1=C(xi,6,xi.length-6);if(r[t++]=A1,A1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSnVLI#3437",r[t++]="Coupon too short: Missing SN VLI",r[t++]=!1,!0;var _i=r[t-1],k1=C(_i,0,1);if(r[t++]=De(k1)+6+1,De(k1)+6+1>_i.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSn#3442",r[t++]="Coupon too short: Truncated SN",r[t++]=!1,!0;var r1=r[--t],a1=r[--t],s1=C(a1,r1,S(a1.length-r1));if(r[t++]=s1,s1.length!=0)return t-=2,r[t++]="bwipp.GS1couponTooLong#3446",r[t++]="Coupon too long",r[t++]=!1,!0;t--},e.lintlatitude=function(){var tt=r[t-1];if(tt.length!=10)return t--,r[t++]="bwipp.GS1badLatitudeLength#3453",r[t++]="Invalid length for a latitude",r[t++]=!1,!0;if(De(r[--t])>De("1800000000"))return t--,r[t++]="bwipp.GS1badLatitude#3457",r[t++]="Invalid value for latitude",r[t++]=!1,!0},e.lintlongitude=function(){var tt=r[t-1];if(tt.length!=10)return t--,r[t++]="bwipp.GS1badLongitudeLength#3462",r[t++]="Invalid length for a longitude",r[t++]=!1,!0;if(De(r[--t])>De("3600000000"))return t--,r[t++]="bwipp.GS1badLongitude#3467",r[t++]="Invalid value for longitude",r[t++]=!1,!0},r[t++]=1/0;for(var Cx=s(["01","02","03","04","05","06","07","08","09","10","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99"]),xf=0,sk=Cx.length;xf<sk;xf++){var Ix=c(Cx,xf);r[t++]=Ix,r[t++]=Ix}e.aidcmediatype=_e(),e.lintmediatype=function(){var tt=c(e.aidcmediatype,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownMediaType#3479",r[t++]="Unknown AIDC media type",r[t++]=!1,!0},r[t++]=1/0;for(var Bx=s(["1A","1B","1D","1F","1G","1W","200","201","202","203","204","205","206","210","211","212","2C","3A","3H","43","44","4A","4B","4C","4D","4F","4G","4H","5H","5L","5M","6H","6P","7A","7B","8","8A","8B","8C","9","AA","AB","AC","AD","AF","AG","AH","AI","AJ","AL","AM","AP","APE/AT","AV","B4","BB","BC","BD","BE","BF","BG","BGE","BH","BI","BJ","BK","BL","BM","BME","BN","BO","BP","BQ","BR","BRI","BS","BT","BU","BV","BW","BX","BY","BZ","CA","CB","CBL","CC","CCE","CD","CE","CF","CG","CH","CI","CJ","CK","CL","CM","CN","CO","CP","CQ","CR","CS","CT","CU","CV","CW","CX","CY","CZ","DA","DB","DC","DG","DH","DI","DJ","DK","DL","DM","DN","DP","DPE","DR","DS","DT","DU","DV","DW","DX","DY","E1","E2","E3","EC","ED","EE","EF","EG","EH","EI","EN","FB","FC","FD","FE","FI","FL","FO","FOB","FP","FPE","FR","FT","FW","FX","GB","GI","GL","GR","GU","GY","GZ","HA","HB","HC","HG","HN","HR","IA","IB","IC","ID","IE","IF","IG","IH","IK","IL","IN","IZ","JB","JC","JG","JR","JT","JY","KG","KI","LAB","LE","LG","LT","LU","LV","LZ","MA","MB","MC","ME","MPE","MR","MS","MT","MW","MX","NA","NE","NF","NG","NS","NT","NU","NV","OA","OB","OC","OD","OE","OF","OK","OPE","OT","OU","P2","PA","PAE","PB","PC","PD","PE","PF","PG","PH","PI","PJ","PK","PL","PLP","PN","PO","POP","PP","PPE","PR","PT","PU","PUE","PV","PX","PY","PZ","QA","QB","QC","QD","QF","QG","QH","QJ","QK","QL","QM","QN","QP","QQ","QR","QS","RB1","RB2","RB3","RCB","RD","RG","RJ","RK","RL","RO","RT","RZ","S1","SA","SB","SC","SD","SE","SEC","SH","SI","SK","SL","SM","SO","SP","SS","ST","STL","SU","SV","SW","SX","SY","SZ","T1","TB","TC","TD","TE","TEV","TG","THE","TI","TK","TL","TN","TO","TR","TRE","TS","TT","TTE","TU","TV","TW","TWE","TY","TZ","UC","UN","UUE","VA","VG","VI","VK","VL","VN","VO","VP","VQ","VR","VS","VY","WA","WB","WC","WD","WF","WG","WH","WJ","WK","WL","WM","WN","WP","WQ","WR","WRP","WS","WT","WU","WV","WW","WX","WY","WZ","X11","X12","X15","X16","X17","X18","X19","X20","X3","XA","XB","XC","XD","XF","XG","XH","XJ","XK","YA","YB","YC","YD","YF","YG","YH","YJ","YK","YL","YM","YN","YP","YQ","YR","YS","YT","YV","YW","YX","YY","YZ","ZA","ZB","ZC","ZD","ZF","ZG","ZH","ZJ","ZK","ZL","ZM","ZN","ZP","ZQ","ZR","ZS","ZT","ZU","ZV","ZW","ZX","ZY","ZZ"]),vf=0,nk=Bx.length;vf<nk;vf++){var Dx=c(Bx,vf);r[t++]=Dx,r[t++]=Dx}if(e.packagetype=_e(),e.lintpackagetype=function(){var tt=c(e.packagetype,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1unknownPackageType#3523",r[t++]="Unknown package type",r[t++]=!1,!0},!e.dontlint){r[t++]=!0;for(var y2=0,ik=e.vals.length-1;y2<=ik;y2+=1){e.ai=c(e.ais,y2),e.val=c(e.vals,y2);var ok=c(e.gs1syntax,e.ai)!==void 0;if(ok){var Tx=c(c(e.gs1syntax,e.ai),"parts");if(r[t++]=Tx,r[t++]=0,ve(Tx,function(){var tt=r[t-1];if(c(tt,"opt"))r[t-1]=0;else{var St=c(r[--t],"min");r[t++]=St}var Ar=r[--t],mr=r[--t];r[t++]=S(mr+Ar)}),r[--t]>e.val.length){t--,r[t++]="bwipp.GS1valueTooShort#3537",r[t++]="Too short",r[t++]=!1;break}var lk=r[t-1];if(r[t++]=0,ve(lk,function(){var tt=c(r[--t],"max"),St=r[--t];r[t++]=S(St+tt)}),r[--t]<e.val.length){t--,r[t++]="bwipp.GS1valueTooLong#3540",r[t++]="Too long",r[t++]=!1;break}ve(r[--t],function(){e.props=r[--t];var tt=c(e.props,"max"),St=e.val,Ar=St.length;if(tt>St.length){var mr=Ar;Ar=tt,tt=mr}e.eval=C(e.val,0,tt);var Er=e.eval.length;if(e.val=C(e.val,Er,e.val.length-Er),e.eval.length==0){if(!c(e.props,"opt"))return t--,r[t++]="bwipp.GS1valueTooShort#3549",r[t++]="Too short",r[t++]=!1,!0}else{if(e.eval.length<c(e.props,"min"))return t--,r[t++]="bwipp.GS1valueTooShort#3553",r[t++]="Too short",r[t++]=!1,!0;var ia=new Map([["N","lintnumeric"],["X","lintcset82"],["Y","lintcset39"],["Z","lintcset64"]]);if(r[t++]=e.eval,e[c(ia,c(e.props,"cset"))]()===!0)return!0;ve(c(e.props,"linters"),function(){var da=e[r[--t]];if(r[t++]=e.eval,da()===!0)return!0})}});var ck=r[t-1];if(!ck)break;if(e.val.length!=0){t--,r[t++]="bwipp.GS1valueTooLong#3562",r[t++]="Too long",r[t++]=!1;break}}else{t--,r[t++]="bwipp.GS1unknownAI#3565",r[t++]="Unrecognised AI",r[t++]=!1;break}}if(!r[--t]){var Rx=r[--t],Wc=W(Rx.length+e.ai.length+5);R(Wc,0,"AI "),R(Wc,3,e.ai),R(Wc,3+e.ai.length,": "),R(Wc,5+e.ai.length,Rx),r[t++]=Wc,z()}e.aiexists=function(){e.this=r[--t],e.patt=r[--t];for(var tt=0;tt<1;tt++){var St=c(e.aivals,e.patt)!==void 0;if(St){r[t++]=!0;break}if(e.patt.length==4){if(V(C(e.patt,3,1),"n")){var Ar=V(C(e.patt,2,1),"n")?2:3;e.pfxlen=Ar;var mr=e.ais;r[t++]=!1;for(var Er=0,ia=mr.length;Er<ia;Er++){var da=c(mr,Er);r[t++]=da,Ie(da,e.this)&&da.length==4?V(C(r[--t],0,e.pfxlen),C(e.patt,0,e.pfxlen))&&(r[t-1]=!0):t--}break}r[t++]=!1;break}r[t++]=!1;break}},e.vals,e.aivals=new Map;for(var A2=0,dk=e.vals.length-1;A2<=dk;A2+=1){e.ai=c(e.ais,A2),e.val=c(e.vals,A2);var uk=c(e.aivals,e.ai)!==void 0;if(uk){if(Ie(c(e.aivals,e.ai),e.val)){var k2=W(e.ai.length+40);R(k2,0,"Repeated AIs ("),R(k2,14,e.ai),R(k2,14+e.ai.length,") must have the same value"),r[t++]="bwipp.GS1repeatedDifferingAIs#3615",r[t++]=k2,z()}}else g(e.aivals,e.ai,e.val)}for(var gf=0,fk=e.vals.length-1;gf<=fk;gf+=1){e.ai=c(e.ais,gf);var Mx=c(e.gs1syntax,e.ai),hk=c(Mx,"ex")!==void 0;if(r[t++]=Mx,r[t++]="ex",hk){var pk=r[--t];ve(c(r[--t],pk),function(){if(e.patt=r[--t],r[t++]=e.patt,r[t++]=e.ai,e.aiexists(),r[--t]){var tt=W(e.ai.length+e.patt.length+36);R(tt,0,"AIs ("),R(tt,5,e.ai),R(tt,5+e.ai.length,") and ("),R(tt,12+e.ai.length,e.patt),R(tt,12+e.ai.length+e.patt.length,") are mutually exclusive"),r[t++]="bwipp.GS1exclusiveAIs#3635",r[t++]=tt,z()}})}else t-=2;if(e.lintreqs){var Fx=c(e.gs1syntax,e.ai),mk=c(Fx,"req")!==void 0;if(r[t++]=Fx,r[t++]="req",mk){var xk=r[--t];ve(c(r[--t],xk),function(){var tt=r[--t];if(r[t++]=!1,ve(tt,function(){var Ms=r[--t];if(r[t++]=!0,ve(Ms,function(){r[t++]=e.ai,e.aiexists(),r[--t]||(r[t-1]=!1)}),r[--t])return r[t-1]=!0,!0}),!r[--t]){r[t++]=1/0,ve(c(c(e.gs1syntax,e.ai),"req"),function(){ve(r[--t],function(){ve(r[--t],function(){r[t++]="+"}),r[t-1]=" OR "}),r[t-1]=" WITH "}),t--;var St=s();r[t++]=St,r[t++]=0;for(var Ar=0,mr=St.length;Ar<mr;Ar++){var Er=r[--t];r[t++]=S(Er+c(St,Ar).length)}var ia=e.ai.length+49;r[t++]=ia,r[t++]=ia;var da=r[t-3],ys=W(S(r[t-1]+da)),qa=r[t-2];t-=3,r[t++]=ys,r[t++]=qa,Na(3,-1),ve(r[--t],function(){var Ms=r[--t],Fs=r[--t],qs=r[t-1];R(qs,Fs,Ms),r[t++]=S(Ms.length+Fs)}),t--;var As=r[--t];R(As,0,"One of more requisite AIs for AI ("),R(As,34,e.ai),R(As,34+e.ai.length,") are missing: "),r[t++]="bwipp.GS1missingAIs#3662",r[t++]=As,z()}})}else t-=2}}}r[t++]=e.ais,r[t++]=e.vals,r[t++]=e.fncs,e=a}function n2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=5&&(r[t++]="bwipp.ean5badLength#4997",r[t++]="EAN-5 add-on must be 5 digits",z()),ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.ean5badCharacter#5001",r[t++]="EAN-5 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["11000","10100","10010","10001","01100","00110","00011","01010","01001","00101"]),e.checksum=0;for(var n=0;n<=4;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar*3+e.checksum):e.checksum=S(e.barchar*9+e.checksum);e.checksum=e.checksum%10,e.mirrormap=c(e.mirrormaps,e.checksum),e.sbs=W(31),e.txt=s(5);for(var i=0;i<=4;i+=1){if(e.i=i,e.i==0?R(e.sbs,0,c(e.encs,10)):R(e.sbs,(e.i-1)*6+7,c(e.encs,11)),Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var o=0,d=e.enclen-1;o<=d;o+=1)e.j=o,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,e.i*6+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var u=e.sbs,f=0,h=u.length;f<h;f++)r[t++]=c(u,f)-48;var p=s();r[t++]=1/0;for(var m=0;m<16;m++)r[t++]=e.height;var x=s();r[t++]=1/0;for(var b=0;b<16;b++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=p,r[t++]="bhs",r[t++]=x,r[t++]="bbs",r[t++]=y,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var w=_e();r[t++]=w,e.dontdraw||It(),e=a}function i2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=2&&(r[t++]="bwipp.ean2badLength#5142",r[t++]="EAN-2 add-on must be 2 digits",z()),ve(e.barcode,function(){var w=r[--t];(w<48||w>57)&&(r[t++]="bwipp.ean2badCharacter#5146",r[t++]="EAN-2 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["00","01","10","11"]),e.mirrormap=c(e.mirrormaps,De(C(e.barcode,0,2))%4),e.sbs=W(13),e.txt=s(2);for(var n=0;n<=1;n+=1){if(e.i=n,e.i==0?R(e.sbs,0,c(e.encs,10)):R(e.sbs,(e.i-1)*6+7,c(e.encs,11)),Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var i=0,o=e.enclen-1;i<=o;i+=1)e.j=i,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,e.i*6+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var d=e.sbs,u=0,f=d.length;u<f;u++)r[t++]=c(d,u)-48;var h=s();r[t++]=1/0;for(var p=0;p<12;p++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0;x<12;x++)r[t++]=0;var b=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=h,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=b,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var y=_e();r[t++]=y,e.dontdraw||It(),e=a}function o2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-11,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ct(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=12&&e.barcode.length!=13&&(r[t++]="bwipp.ean13badLength#5286",r[t++]="EAN-13 must be 12 or 13 digits",z()),ve(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.ean13badCharacter#5290",r[t++]="EAN-13 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean13badAddOnLength#5294",r[t++]="Add-on for EAN-13 must be 2 or 5 digits",z()),e.pad=W(13),e.checksum=0;for(var n=0;n<=11;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==13&&c(e.barcode,12)!=e.checksum+48&&(r[t++]="bwipp.ean13badCheckDigit#5312",r[t++]="Incorrect EAN-13 check digit provided",z()),R(e.pad,0,e.barcode),g(e.pad,12,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.mirrormaps=s(["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"]),e.sbs=W(59),e.txt=s(13),R(e.sbs,0,c(e.encs,10)),e.mirrormap=c(e.mirrormaps,c(e.barcode,0)-48),g(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize]));for(var i=1;i<=6;i+=1){if(e.i=i,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var o=0,d=e.enclen-1;o<=d;o+=1)e.j=o,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,(e.i-1)*4+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+15+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}R(e.sbs,6*4+3,c(e.encs,11));for(var u=7;u<=12;u+=1)e.i=u,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,(e.i-1)*4+8,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+19+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,56,c(e.encs,12)),r[t++]=1/0;for(var f=e.sbs,h=0,p=f.length;h<p;h++)r[t++]=c(f,h)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var m=0;m<12;m++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var x=0;x<12;x++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var b=0;b<12;b++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var y=0;y<12;y++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var w=0;w<30;w++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var v=0;v<30;v++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var A=r[--t];r[t++]=S(A-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var j=Ie(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=j,e.addopts=_e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,n2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=11,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var E=_e();r[t++]=E,e.dontdraw||It(),e=a}function zm(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=4,e.textyoffset=-4,e.height=1,e.permitaddon=!1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ct(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.ean8badLength#5507",r[t++]="EAN-8 must be 7 or 8 digits",z()),ve(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.ean8badCharacter#5511",r[t++]="EAN-8 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean8badAddOnLength#5515",r[t++]="Add-on for EAN-8 must be 2 or 5 digits",z()),!e.permitaddon&&e.addon.length!=0&&(r[t++]="bwipp.ean8badAddOnLength#5518",r[t++]='Non-standard use of add-on for EAN-8 requires "permitaddon" option',z()),e.pad=W(8),e.checksum=0;for(var n=0;n<=6;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2!=0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&c(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.ean8badCheckDigit#5536",r[t++]="Incorrect EAN-8 check digit provided",z()),R(e.pad,0,e.barcode),g(e.pad,7,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=W(43),e.txt=s(8),R(e.sbs,0,c(e.encs,10));for(var i=0;i<=3;i+=1)e.i=i,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*4+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,4*4+3,c(e.encs,11));for(var o=4;o<=7;o+=1)e.i=o,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*4+8,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset+4,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,40,c(e.encs,12)),r[t++]=1/0;for(var d=e.sbs,u=0,f=d.length;u<f;u++)r[t++]=c(d,u)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var h=0;h<8;h++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var p=0;p<8;p++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var m=0;m<8;m++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var x=0;x<8;x++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var b=0;b<22;b++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var y=0;y<22;y++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var w=r[--t];r[t++]=S(w-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=67+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var v=Ie(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=v,e.addopts=_e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,n2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardleftpos",r[t++]=7,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=7,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var A=_e();r[t++]=A,e.dontdraw||It(),e=a}function jy(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ct(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==7||e.barcode.length==8){ve(e.barcode,function(){var Q=r[--t];(Q<48||Q>57)&&(r[t++]="bwipp.upcAupcEbadCharacter#5714",r[t++]="UPC-E must contain only digits",z())});var n=c(e.barcode,0);n!=48&&n!=49&&(r[t++]="bwipp.upcAupcEbadNumberSystem#5718",r[t++]="UPC-E must have number system 0 or 1",z());for(var i=0;i<1;i++){var o=e.barcode.length==8?12:11;if(e.upcacode=W(o),c(e.barcode,6)-48<=2){R(e.upcacode,0,C(e.barcode,0,3)),R(e.upcacode,3,C(e.barcode,6,1)),R(e.upcacode,4,"0000"),R(e.upcacode,8,C(e.barcode,3,3));break}if(c(e.barcode,6)-48==3){R(e.upcacode,0,C(e.barcode,0,4)),R(e.upcacode,4,"00000"),R(e.upcacode,9,C(e.barcode,4,2));break}if(c(e.barcode,6)-48==4){R(e.upcacode,0,C(e.barcode,0,5)),R(e.upcacode,5,"00000"),R(e.upcacode,10,C(e.barcode,5,1));break}if(c(e.barcode,6)-48>=5){R(e.upcacode,0,C(e.barcode,0,6)),R(e.upcacode,6,"0000"),R(e.upcacode,10,C(e.barcode,6,1));break}}e.barcode.length==8&&R(e.upcacode,11,C(e.barcode,7,1)),e.barcode=e.upcacode}e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.upcAbadLength#5756",r[t++]="UPC-A must be 11 or 12 digits",z());for(var d=e.barcode,u=0,f=d.length;u<f;u++){var h=c(d,u);(h<48||h>57)&&(r[t++]="bwipp.upcAbadCharacter#5760",r[t++]="UPC-A must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcAbadAddOnLength#5764",r[t++]="Add-on for UPC-A must be 2 or 5 digits",z()),e.pad=W(12),e.checksum=0;for(var p=0;p<=10;p+=1)e.i=p,e.barchar=c(e.barcode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&c(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.upcAbadCheckDigit#5782",r[t++]="Incorrect UPC check digit provided",z()),R(e.pad,0,e.barcode),g(e.pad,11,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=W(59),e.txt=s(12),R(e.sbs,0,c(e.encs,10));for(var m=0;m<=5;m+=1)e.i=m,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*4+3,e.enc),e.i==0?g(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])):g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,6*4+3,c(e.encs,11));for(var x=6;x<=11;x+=1)e.i=x,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*4+8,e.enc),e.i==11?g(e.txt,11,s([C(e.barcode,11,1),e.textxoffset+107,e.textyoffset,e.textfont,e.textsize-2])):g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset+17,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,56,c(e.encs,12)),r[t++]=1/0;for(var b=e.sbs,y=0,w=b.length;y<w;y++)r[t++]=c(b,y)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0;for(var v=0;v<4;v++)r[t++]=e.height;for(var A=0;A<10;A++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var j=0;j<10;j++)r[t++]=S(e.height-.075);for(var E=0;E<4;E++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var k=0;k<10;k++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var N=0;N<10;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<30;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<30;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var T=Ie(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=T,e.addopts=_e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,n2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var M=_e();r[t++]=M,e.dontdraw||It(),e=a}function Ny(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ct(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==11||e.barcode.length==12){ve(e.barcode,function(){var Q=r[--t];(Q<48||Q>57)&&(r[t++]="bwipp.upcEupcAbadCharacter#5967",r[t++]="UPC-A must contain only digits",z())});for(var n=0;n<1;n++){var i=e.barcode.length==12?8:7;if(e.upcecode=W(i),c(e.barcode,3)-48<=2&&V(C(e.barcode,4,4),"0000")){R(e.upcecode,0,C(e.barcode,0,3)),R(e.upcecode,3,C(e.barcode,8,3)),R(e.upcecode,6,C(e.barcode,3,1));break}if(V(C(e.barcode,4,5),"00000")){R(e.upcecode,0,C(e.barcode,0,4)),R(e.upcecode,4,C(e.barcode,9,2)),R(e.upcecode,6,"3");break}if(V(C(e.barcode,5,5),"00000")){R(e.upcecode,0,C(e.barcode,0,5)),R(e.upcecode,5,C(e.barcode,10,1)),R(e.upcecode,6,"4");break}if(c(e.barcode,10)-48>=5&&V(C(e.barcode,6,4),"0000")){R(e.upcecode,0,C(e.barcode,0,6)),R(e.upcecode,6,C(e.barcode,10,1));break}r[t++]="bwipp.upcEupcAnotCompressible#5995",r[t++]="UPC-A cannot be converted to a UPC-E",z()}e.barcode.length==12&&R(e.upcecode,7,C(e.barcode,11,1)),e.barcode=e.upcecode}e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.upcEbadLength#6005",r[t++]="UPC-E must be 7 or 8 digits",z());for(var o=e.barcode,d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.upcEbadCharacter#6009",r[t++]="UPC-E must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcEbadAddOnLength#6013",r[t++]="Add-on for UPC-E must be 2 or 5 digits",z());var h=c(e.barcode,0);h!=48&&h!=49&&(r[t++]="bwipp.upcEbadNumberSystem#6018",r[t++]="UPC-E must have number system 0 or 1",z()),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","111111"]),e.barchars="0123456789",e.mirrormaps=s(["000111","001011","001101","001110","010011","011001","011100","010101","010110","011010"]);for(var p=0;p<1;p++){if(e.upcacode=W(11),c(e.barcode,6)-48<=2){R(e.upcacode,0,C(e.barcode,0,3)),R(e.upcacode,3,C(e.barcode,6,1)),R(e.upcacode,4,"0000"),R(e.upcacode,8,C(e.barcode,3,3));break}if(c(e.barcode,6)-48==3){R(e.upcacode,0,C(e.barcode,0,4)),R(e.upcacode,4,"00000"),R(e.upcacode,9,C(e.barcode,4,2));break}if(c(e.barcode,6)-48==4){R(e.upcacode,0,C(e.barcode,0,5)),R(e.upcacode,5,"00000"),R(e.upcacode,10,C(e.barcode,5,1));break}if(c(e.barcode,6)-48>=5){R(e.upcacode,0,C(e.barcode,0,6)),R(e.upcacode,6,"0000"),R(e.upcacode,10,C(e.barcode,6,1));break}}e.checksum=0;for(var m=0;m<=10;m+=1)e.i=m,e.barchar=c(e.upcacode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&c(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.upcEbadCheckDigit#6080",r[t++]="Incorrect UPC check digit provided",z()),e.pad=W(8),R(e.pad,0,e.barcode),g(e.pad,7,e.checksum+48),e.barcode=e.pad,e.txt=s(8),g(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),e.mirrormap=c(e.mirrormaps,e.checksum),c(e.barcode,0)==48){e.invt=W(e.mirrormap.length);for(var x=0,b=e.mirrormap.length-1;x<=b;x+=1)e.i=x,c(e.mirrormap,e.i)==48?g(e.invt,e.i,49):g(e.invt,e.i,48);e.mirrormap=e.invt}e.sbs=W(33),R(e.sbs,0,c(e.encs,10));for(var y=1;y<=6;y+=1){if(e.i=y,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var w=0,v=e.enclen-1;w<=v;w+=1)e.j=w,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,(e.i-1)*4+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}g(e.txt,7,s([C(e.barcode,7,1),6*7+21+e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),R(e.sbs,27,c(e.encs,11)),r[t++]=1/0;for(var A=e.sbs,j=0,E=A.length;j<E;j++)r[t++]=c(A,j)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var k=0;k<12;k++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var N=0;N<12;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<17;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<17;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=51+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var T=Ie(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=T,e.addopts=_e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,n2()),e.addcode=r[--t],r[t++]=1/0,U(e.sbs),r[t++]=e.addongap,U(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,U(e.bhs),U(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,U(e.bbs),U(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,U(e.txt),U(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var M=_e();r[t++]=M,e.dontdraw||It(),e=a}function kT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.isbntextfont="OCR-A",e.isbntextsize=8,e.isbntextxoffset=null,e.isbntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ct(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.isbnBadLength#6249",r[t++]="ISBN-13 must be 15 or 17 characters including dashes. ISBN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.isbnBadAddOnLength#6252",r[t++]="Add-on for ISBN must be 2 or 5 digits",z()),e.barcode.length>=15){var n=C(e.barcode,0,4);Ie(n,"978-")&&Ie(n,"979-")&&(r[t++]="bwipp.isbn13badPrefix#6256",r[t++]="ISBN-13 prefix must be 978- or 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var i=C(e.barcode,5,9),o=0,d=i.length;o<d;o++){var u=c(i,o);r[t++]=u,u==45&&(e.wasdash&&(r[t++]="bwipp.isbn13adjacentDashes#6263",r[t++]="ISBN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var f=r[--t];f>=48&&f<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn13numDashesDigits#6274",r[t++]="Incorrect number of dashes and digits for ISBN-13",z());var h=c(e.barcode,14);if((h<48||h>57)&&(r[t++]="bwipp.isbn13character15#6277",r[t++]="ISBN-13 character 15 must be a digit",z()),e.barcode.length==17){Ie(C(e.barcode,15,1),"-")&&(r[t++]="bwipp.isbn13character16#6281",r[t++]="ISBN-13 penultimate character must be a dash",z());var p=c(e.barcode,16);(p<48||p>57)&&(r[t++]="bwipp.isbn13character17#6284",r[t++]="ISBN-13 final character must be a digit",z())}}else{var m=c(e.barcode,0);(m<48||m>57)&&(r[t++]="bwipp.isbn10FirstDigit#6289",r[t++]="ISBN-10 first character must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var x=C(e.barcode,1,9),b=0,y=x.length;b<y;b++){var w=c(x,b);r[t++]=w,w==45&&(e.wasdash&&(r[t++]="bwipp.isbn10adjacentDashes#6296",r[t++]="ISBN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var v=r[--t];v>=48&&v<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn10numDashesDigits#6307",r[t++]="Incorrect number of dashes and digits for ISBN-10",z());var A=c(e.barcode,10);if((A<48||A>57)&&(r[t++]="bwipp.isbn10character11#6310",r[t++]="ISBN-10 character 11 must be a digit",z()),e.barcode.length==13){Ie(C(e.barcode,11,1),"-")&&(r[t++]="bwipp.isbn10character12#6314",r[t++]="ISBN-10 penultimate character must be a dash",z());var j=c(e.barcode,12);(j<48||j>57)&&j!=88&&(r[t++]="bwipp.isbn10character13#6317",r[t++]="ISBN-10 final character must be a digit or X",z())}}if(e.isbntxt=e.barcode,e.isbntxt.length<=13){for(e.isbn=W(10),e.checksum=0,e.i=0,e.n=0;e.isbnchar=c(e.isbntxt,e.i)-48,e.isbnchar!=-3&&(g(e.isbn,e.n,e.isbnchar+48),e.n<9&&(e.checksum=S(e.checksum+(10-e.n)*e.isbnchar)),e.n=e.n+1),e.i=e.i+1,e.i!=e.isbntxt.length;);var E=(11-e.checksum%11)%11;r[t++]="checksum",r[t++]=E,E==10&&(r[t-1]=40);var k=r[--t];e[r[--t]]=k+48,e.isbn=C(e.isbn,0,9),e.isbntxt.length==13&&c(e.isbntxt,12)!=e.checksum&&(r[t++]="bwipp.isbn10badCheckDigit#6345",r[t++]="Incorrect ISBN-10 check digit provided",z())}if(!e.legacy||e.isbntxt.length>=15){for(e.isbntxt.length<=13&&(e.pad=W(15),R(e.pad,0,"978-"),R(e.pad,4,C(e.isbntxt,0,11)),e.isbntxt=e.pad),e.isbn=W(13),e.checksum=0,e.i=0,e.n=0;;){if(e.isbnchar=c(e.isbntxt,e.i)-48,e.isbnchar!=-3){if(g(e.isbn,e.n,e.isbnchar+48),e.n<12){if(r[t++]="checksum",r[t++]=e.isbnchar,e.n%2!=0){var N=r[--t];r[t++]=N*3}var B=r[--t];e[r[--t]]=S(B+e.checksum)}e.n=e.n+1}if(e.i=e.i+1,e.i==e.isbntxt.length)break}e.checksum=(10-e.checksum%10)%10+48,e.isbn=C(e.isbn,0,12),e.isbntxt.length==17&&c(e.isbntxt,16)!=e.checksum&&(r[t++]="bwipp.isbn13badCheckDigit#6380",r[t++]="Incorrect ISBN-13 check digit provided",z())}var I=e.isbn.length==12?22:18;if(e.pad=W(I),R(e.pad,0,"ISBN "),R(e.pad,5,e.isbntxt),g(e.pad,e.pad.length-2,45),g(e.pad,e.pad.length-1,e.checksum),e.isbntxt=e.pad,e.barcode=W(12),e.isbn.length==9?(R(e.barcode,0,"978"),R(e.barcode,3,e.isbn)):R(e.barcode,0,e.isbn),e.addon.length!=0){var D=W(12+e.addon.length+1);R(D,0,e.barcode),R(D,12," "),R(D,13,e.addon),e.barcode=D}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,o2();var T=r[--t];if(e[r[--t]]=T,e.includetext){if(e.isbntextxoffset==null){r[t++]="isbntextxoffset",e.isbn.length==9?r[t++]=-1:r[t++]=-12;var M=r[--t];e[r[--t]]=M}e.isbntextyoffset==null&&(e.isbntextyoffset=e.height*72+3);var Q=c(e.args,"txt")!==void 0;Q?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function jT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.ismntextfont="OCR-A",e.ismntextsize=8,e.ismntextxoffset=null,e.ismntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ct(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.ismnBadLength#6499",r[t++]="ISMN-13 must be 15 or 17 characters including dashes. ISMN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ismnBadAddOnLength#6502",r[t++]="Add-on for ISMN must be 2 or 5 digits",z()),e.barcode.length>=15){Ie(C(e.barcode,0,4),"979-")&&(r[t++]="bwipp.ismn13badPrefix#6506",r[t++]="ISMN-13 prefix must be 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var n=C(e.barcode,5,9),i=0,o=n.length;i<o;i++){var d=c(n,i);r[t++]=d,d==45&&(e.wasdash&&(r[t++]="bwipp.ismn13adjacentDashes#6513",r[t++]="ISMN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var u=r[--t];u>=48&&u<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.ismn13numDashesDigits#6524",r[t++]="Incorrect number of dashes and digits for ISMN-13",z());var f=c(e.barcode,14);if((f<48||f>57)&&(r[t++]="bwipp.ismn13character15#6527",r[t++]="ISMN-13 character 15 must be a digit",z()),e.barcode.length==17){Ie(C(e.barcode,15,1),"-")&&(r[t++]="bwipp.ismn13character16#6531",r[t++]="ISMN-13 penultimate character must be a dash",z());var h=c(e.barcode,16);(h<48||h>57)&&(r[t++]="bwipp.ismn13character17#6534",r[t++]="ISMN-13 final character must be a digit",z())}}else{Ie(C(e.barcode,0,2),"M-")&&(r[t++]="bwipp.ismn10badPrefix#6539",r[t++]="ISMN-10 prefix must be M-",z());var p=c(e.barcode,2);(p<48||p>57)&&(r[t++]="bwipp.ismn10character3#6542",r[t++]="ISMN-10 character 3 must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var m=C(e.barcode,3,7),x=0,b=m.length;x<b;x++){var y=c(m,x);r[t++]=y,y==45&&(e.wasdash&&(r[t++]="bwipp.ismn10adjacentDashes#6549",r[t++]="ISMN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var w=r[--t];w>=48&&w<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=1||e.numdigit!=6)&&(r[t++]="bwipp.ismn10numDashesDigits#6560",r[t++]="Incorrect number of dashes and digits for ISMN-10",z());var v=c(e.barcode,10);if((v<48||v>57)&&(r[t++]="bwipp.ismn10character11#6563",r[t++]="ISMN-10 character 11 must be a digit",z()),e.barcode.length==13){var A=C(e.barcode,11,1);Ie(A,"-")&&(r[t++]="bwipp.ismn10character12#6567",r[t++]="ISMN-10 penultimate character must be a dash",z());var j=c(e.barcode,12);(j<48||j>57)&&j!=88&&(r[t++]="bwipp.ismn10character13#6570",r[t++]="ISMN-10 final character must be a digit or X",z())}}for(e.ismntxt=e.barcode,e.legacytxt="",e.ismntxt.length<=13&&(e.legacytxt=e.ismntxt,e.pad=W(e.ismntxt.length+4),R(e.pad,0,"979-0-"),R(e.pad,6,C(e.ismntxt,2,e.ismntxt.length-2)),e.ismntxt=e.pad),e.ismn=W(13),e.checksum=0,e.i=0,e.n=0;e.ismnchar=c(e.ismntxt,e.i)-48,e.ismnchar!=-3&&(g(e.ismn,e.n,e.ismnchar+48),e.n<12&&(e.n%2==0?e.checksum=e.ismnchar+e.checksum:e.checksum=e.ismnchar*3+e.checksum),e.n=e.n+1),e.i=e.i+1,e.i!=e.ismntxt.length;);if(e.checksum=(10-e.checksum%10)%10+48,e.barcode.length==13||e.barcode.length==17){var E=e.barcode;c(E,E.length-1)!=e.checksum&&(r[t++]="bwipp.ismnBadCheckDigit#6612",r[t++]="Incorrect ISMN check digit provided",z())}if(e.legacy&&e.legacytxt.length!=0?(e.ismntxt=e.legacytxt,e.pad=W(18)):e.pad=W(22),R(e.pad,0,"ISMN "),R(e.pad,5,e.ismntxt),g(e.pad,e.pad.length-2,45),g(e.pad,e.pad.length-1,e.checksum),e.ismntxt=e.pad,e.barcode=C(e.ismn,0,12),e.addon.length!=0){var k=W(12+e.addon.length+1);R(k,0,e.barcode),R(k,12," "),R(k,13,e.addon),e.barcode=k}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,o2();var N=r[--t];if(e[r[--t]]=N,e.includetext){if(e.ismntextxoffset==null){r[t++]="ismntextxoffset",e.ismntxt.length==18?r[t++]=-1:r[t++]=-12;var B=r[--t];e[r[--t]]=B}e.ismntextyoffset==null&&(e.ismntextyoffset=e.height*72+3);var I=c(e.args,"txt")!==void 0;I?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function NT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.issntextfont="OCR-A",e.issntextsize=8,e.issntextxoffset=null,e.issntextyoffset=null,e.height=1,e.addongap=12,r[t++]=e,Ve(),e.options=r[--t],e.issntxt=r[--t],Ct(e.issntxt," "),r[--t]?(e.issntxt=r[--t],t--,e.seqvar=r[--t]):(t--,e.seqvar="00"),Ct(e.seqvar," "),r[--t]?(e.seqvar=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.issntxt.length!=8&&e.issntxt.length!=9&&(r[t++]="bwipp.issnBadLength#6736",r[t++]="ISSN must be 8 or 9 characters including dash, in the format XXXX-XXXX",z());for(var n=C(e.issntxt,0,4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.issnFirstThroughFourthNotNumeric#6740",r[t++]="ISSN first four characters must be numeral characters",z())}Ie(C(e.issntxt,4,1),"-")&&(r[t++]="bwipp.issnNeedsDash#6744",r[t++]="ISSN fifth character must be a dash",z());for(var u=C(e.issntxt,5,3),f=0,h=u.length;f<h;f++){var p=c(u,f);(p<48||p>57)&&(r[t++]="bwipp.issnSixthThroughEighthNotNumeric#6748",r[t++]="ISSN sixth through eighth characters must be numerals",z())}if(e.issntxt.length==9){var m=c(e.issntxt,8);(m<48||m>57)&&m!=88&&(r[t++]="bwipp.issnNinthCharacterBadFormat#6753",r[t++]="ISSN ninth character must be a number or the character X",z())}for(e.seqvar.length!=2&&(r[t++]="bwipp.issnBadSequenceVariantLength#6757",r[t++]="Sequence variant for ISSN must be 2 digits",z()),ve(e.seqvar,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.issnSequenceVariantBadCharacter#6761",r[t++]="Sequence variant for ISSN must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.issnBadAddOnLength#6765",r[t++]="Add-on for ISSN must be 2 or 5 digits",z()),e.issn=W(8),e.checksum=0,e.i=0,e.n=0;e.issnchar=c(e.issntxt,e.i)-48,e.issnchar!=-3&&(g(e.issn,e.n,e.issnchar+48),e.n<7&&(e.checksum=S(e.checksum+e.issnchar*(8-e.n))),e.n=e.n+1),e.i=e.i+1,e.i!=e.issntxt.length;);e.checksum=(11-e.checksum%11)%11;var x=e.checksum+48;r[t++]="checksum",r[t++]=x,x==58&&(r[t-1]=88);var b=r[--t],y=r[--t];if(e[y]=b,e.issntxt.length==9&&c(e.issntxt,8)!=e.checksum&&(r[t++]="bwipp.issnBadCheckDigit#6788",r[t++]="Incorrect ISSN check digit provided",z()),e.pad=W(14),R(e.pad,0,"ISSN "),R(e.pad,5,e.issntxt),g(e.pad,13,e.checksum),e.issntxt=e.pad,e.barcode=C(e.issn,0,7),e.barcode=W(12),R(e.barcode,0,"977"),R(e.barcode,3,e.issn),R(e.barcode,10,e.seqvar),e.addon.length!=0){var w=W(12+e.addon.length+1);R(w,0,e.barcode),R(w,12," "),R(w,13,e.addon),e.barcode=w}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,o2();var v=r[--t];if(e[r[--t]]=v,e.includetext){e.issntextxoffset==null&&(e.issntextxoffset=10),e.issntextyoffset==null&&(e.issntextyoffset=e.height*72+3);var A=c(e.args,"txt")!==void 0;A?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function ST(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,e.barlen!=7&&e.barlen!=8&&(r[t++]="bwipp.MandSbadLength#6884",r[t++]="M&S barcode must be 7 or 8 characters",z()),e.barlen==7){var n=Fr(W(8),"00000000");R(n,1,e.barcode),e.barcode=n}g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zm();var i=r[--t];e[r[--t]]=i;var o=c(e.args,"bbs");g(o,10,c(o,2)),g(o,11,c(o,2));var d=c(e.args,"bhs");if(g(d,10,c(d,2)),g(d,11,c(d,2)),e.txt=c(e.args,"txt"),e.barlen==7){for(var u=0;u<=6;u+=1){var f=e.txt;R(c(c(f,u),0),0,c(c(f,u+1),0))}R(c(c(e.txt,7),0),0," ")}var h=s(10);R(h,0,e.txt),e.txt=h;var p=c(e.txt,0);g(e.txt,8,cc(s(p.length),p));var m=c(e.txt,0);g(e.txt,9,cc(s(m.length),m)),g(c(e.txt,8),0,"M"),g(c(e.txt,8),1,-12),g(c(e.txt,9),0,"S");var x=c(e.txt,9);g(x,1,69),g(e.args,"txt",e.txt),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function l2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.raw=!1,e.newencoder=!1,e.parse=!1,e.parsefnc=!1,e.suppressc=!1,e.unlatchextbeforec=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.sta=-1,e.stb=-2,e.stc=-3,e.swa=-4,e.swb=-5,e.swc=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10,e.sft=-11,e.stp=-12,e.lka=-13,e.lkc=-14;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3],["LNKA",e.lka],["LNKC",e.lkc]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];if(e[r[--t]]=i,e.msglen=e.msg.length,e.encoding="legacy",e.newencoder&&(e.encoding="new"),e.raw&&(e.encoding="raw"),V(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=De(C(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j),e.text=""}else{e.text=W(e.msglen);for(var o=0,d=e.msglen-1;o<=d;o+=1){e.i=o;var u=c(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=u,u<0&&(r[t-1]=32);var f=r[--t],h=r[--t];g(r[--t],h,f)}}e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stb,e.stb,e.stb]),s([e.stc,e.stc,e.stc]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=c(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var b=c(e.encs,e.j);if(r[t++]=b,V(tn(b),"stringtype")){var y=c(r[--t],0);r[t++]=y}g(c(e.charvals,e.j),r[--t],e.i)}}if(V(e.encoding,"legacy")){e.seta=c(e.charvals,0),g(e.seta,e.lka,c(e.seta,e.swb)),g(e.seta,e.lkc,c(e.seta,e.swc)),e.setb=c(e.charvals,1),g(e.setb,e.lka,c(e.setb,e.swc)),g(e.setb,e.lkc,c(e.setb,e.swa)),e.setc=c(e.charvals,2),g(e.setc,e.lka,c(e.setc,e.swa)),g(e.setc,e.lkc,c(e.setc,e.swb)),r[t++]=1/0;for(var w=0,v=e.msglen;w<v;w++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var A=0,j=e.msglen;A<j;A++)r[t++]=0;r[t++]=0,e.numEA=s();for(var E=e.msglen-1;E>=0;E-=1)e.i=E,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?g(e.numEA,e.i,c(e.numEA,e.i+1)+1):g(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var k=0,N=e.msglen-1;k<=N;k+=1){if(e.i=k,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var B=c(r[--t],e.i),I=S(B+e.i)==e.msglen?3:5;B<I?(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,U(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var je=c(e.msg,e.p),Ge=c(e.setc,je)!==void 0;if(r[t++]=je,!Ge){t--;break}var He=r[t-1];if(He<=-1){var Ze=r[--t];if(Ze==e.fn1&&e.s%2==0)e.s=e.s+1;else break}else t--;e.s=e.s+1,e.p=e.p+1}r[t++]=e.s},e.enca=function(){g(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var je=r[t-1];if(Ie(tn(je),"arraytype")){var Ge=c(e.setc,r[--t]);r[t++]=Ge}else{U(r[--t]);var He=r[--t],Ze=r[--t];r[t++]=S(He-48+(Ze-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var je=r[--t],Ge=c(e.seta,je)!==void 0,He=c(e.setb,je)!==void 0;r[t++]=Ge&&!He},e.bnota=function(){var je=r[--t],Ge=c(e.setb,je)!==void 0,He=c(e.seta,je)!==void 0;r[t++]=Ge&&!He},r[t++]=1/0;for(var D=0,T=e.msg.length;D<T;D++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var M=0,Q=e.msg.length;M<Q;M++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var F=e.msg.length-1;F>=0;F-=1)e.i=F,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var je=r[--t];r[t++]=mn(c(e.nextanotb,je),c(e.nextbnota,je))},e.bbeforea=function(){var je=r[--t];r[t++]=mn(c(e.nextbnota,je),c(e.nextanotb,je))},e.cws=s(e.barcode.length*2+3),e.j=0,e.msglen>0?(r[t++]=0,e.numsscr()):r[t++]=-1,e.nums=r[--t];;){if(e.msglen==0){r[t++]=e.stb,e.enca(),e.cset="setb";break}if(e.msglen==2&&e.nums==2){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(e.nums>=4){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(r[t++]=0,e.abeforeb(),r[--t]){r[t++]=e.sta,e.enca(),e.cset="seta";break}r[t++]=e.stb,e.enca(),e.cset="setb";break}for(e.i=0;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t];;){if((V(e.cset,"seta")||V(e.cset,"setb"))&&e.nums>=4&&c(e.msg,e.i)!=e.fn1){if(e.nums%2==0){r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}else if(r[t++]=c(e.msg,e.i),V(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.i,e.numsscr(),r[--t]>=4){r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}}r[t++]=V(e.cset,"setb"),r[t++]=c(e.msg,e.i),e.anotb();var P=r[--t];if(r[--t]&&P){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta";break}r[t++]=V(e.cset,"seta"),r[t++]=c(e.msg,e.i),e.bnota();var L=r[--t];if(r[--t]&&L){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb";break}if(V(e.cset,"setc")&&e.nums<2&&(c(e.msg,e.i)>-1||c(e.msg,e.i)==e.fn4)){if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}if(V(e.cset,"seta")){r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(V(e.cset,"setb")){r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(V(e.cset,"setc")){c(e.msg,e.i)<=-1?(r[t++]=c(e.msg,e.i),e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}break}e.cws=C(e.cws,0,e.j)}if(V(e.encoding,"new")){r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=100,r[t++]=e.lkc,r[t++]=99,e.seta=_e(),r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=99,r[t++]=e.lkc,r[t++]=101,e.setb=_e(),r[t++]=1/0,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=101,r[t++]=e.lkc,r[t++]=100,e.setc=_e(),e.latch_a0=s(["","e","e","ee","eee","eee"]),e.latch_b0=s(["d","","d","ddd","dd","ddd"]),e.latch_c0=s(["c","c","","eec","ddc","dddc"]),e.latch_a1=s(["ee","eee","eee","","e","e"]),e.latch_b1=s(["ddd","dd","ddd","d","","d"]),e.latch_c1=s(["eec","ddc","dddc","c","c",""]),r[t++]=1/0;for(var _=e.latch_a0,H=0,Y=_.length;H<Y;H++)r[t++]=c(_,H).length;e.latch_length_a0=s(),r[t++]=1/0;for(var de=e.latch_a1,$=0,q=de.length;$<q;$++)r[t++]=c(de,$).length;e.latch_length_a1=s(),r[t++]=1/0;for(var re=e.latch_b0,ce=0,J=re.length;ce<J;ce++)r[t++]=c(re,ce).length;e.latch_length_b0=s(),r[t++]=1/0;for(var oe=e.latch_b1,ue=0,he=oe.length;ue<he;ue++)r[t++]=c(oe,ue).length;e.latch_length_b1=s(),r[t++]=1/0;for(var Re=e.latch_c0,te=0,Be=Re.length;te<Be;te++)r[t++]=c(Re,te).length;e.latch_length_c0=s(),r[t++]=1/0;for(var Se=e.latch_c1,Oe=0,Ue=Se.length;Oe<Ue;Oe++)r[t++]=c(Se,Oe).length;e.latch_length_c1=s(),e.latch_sequence=s([e.latch_a0,e.latch_b0,e.latch_c0,e.latch_a1,e.latch_b1,e.latch_c1]);var be=s([function(){e.enc_a0()},function(){e.enc_b0()},function(){e.enc_c()},function(){e.enc_a1()},function(){e.enc_b1()},function(){e.enc_c()}]);e.encode=be,e.start_code=s([103,104,105]),e.state_priority=s([1,0,2,4,3,5]),e.start_state=s([0,1,2,0,1,2]),e.start_length=s([1,1,1,1,1,1]),r[t++]=1/0;for(var $e=s([5,4,3,2,1,0]),Fe=0,Ke=$e.length;Fe<Ke;Fe++)r[t++]=c(e.state_priority,c($e,Fe));e.reverse_priority=s(),r[t++]=1/0;for(var Je=e.reverse_priority,rt=0,ae=Je.length;rt<ae;rt++){var fe=c(Je,rt);r[t++]=fe,r[t++]=c(e.latch_length_a0,fe),r[t++]=fe}e.prioritized_latch_length_a0=s(),r[t++]=1/0;for(var Me=e.reverse_priority,Le=0,Xe=Me.length;Le<Xe;Le++){var ze=c(Me,Le);r[t++]=ze,r[t++]=c(e.latch_length_a1,ze),r[t++]=ze}e.prioritized_latch_length_a1=s(),r[t++]=1/0;for(var qe=e.reverse_priority,ht=0,vt=qe.length;ht<vt;ht++){var dt=c(qe,ht);r[t++]=dt,r[t++]=c(e.latch_length_b0,dt),r[t++]=dt}e.prioritized_latch_length_b0=s(),r[t++]=1/0;for(var wt=e.reverse_priority,Bt=0,jt=wt.length;Bt<jt;Bt++){var At=c(wt,Bt);r[t++]=At,r[t++]=c(e.latch_length_b1,At),r[t++]=At}e.prioritized_latch_length_b1=s(),r[t++]=1/0;for(var _t=e.reverse_priority,Mt=0,Lt=_t.length;Mt<Lt;Mt++){var Dt=c(_t,Mt);r[t++]=Dt,r[t++]=c(e.latch_length_c0,Dt),r[t++]=Dt}e.prioritized_latch_length_c0=s(),r[t++]=1/0;for(var kt=e.reverse_priority,O=0,K=kt.length;O<K;O++){var G=c(kt,O);r[t++]=G,r[t++]=c(e.latch_length_c1,G),r[t++]=G}e.prioritized_latch_length_c1=s(),e.max_int=2147483647,e.can_a=function(){if(e.c>=0)r[t++]=!0;else{var je=c(e.seta,e.c)!==void 0;r[t++]=je}},e.can_b=function(){if(e.c>=0)r[t++]=!0;else{var je=c(e.setb,e.c)!==void 0;r[t++]=je}},e.can_c0=function(){if(e.num_digits>=2)r[t++]=!0;else{var je=c(e.setc,e.c)!==void 0;r[t++]=je}},e.can_c1=function(){if(e.num_digits>=2)r[t++]=!0;else{var je=c(e.setc,e.c)!==void 0;r[t++]=je}},e.suppressc&&(e.can_c0=function(){r[t++]=!1}),(e.suppressc||e.unlatchextbeforec)&&(e.can_c1=function(){r[t++]=!1}),e.out_a0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var je=r[--t];r[t++]=je+1}if((e.c&127)>=96){var Ge=r[--t];r[t++]=Ge+1}}},e.out_a1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var je=r[--t];r[t++]=je+1}if((e.c&127)>=96){var Ge=r[--t];r[t++]=Ge+1}}},e.out_b0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var je=r[--t];r[t++]=je+1}if((e.c&127)<32){var Ge=r[--t];r[t++]=Ge+1}}},e.out_b1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var je=r[--t];r[t++]=je+1}if((e.c&127)<32){var Ge=r[--t];r[t++]=Ge+1}}},e.map_ab=function(){var je=r[t-1];if(je<32){var Ge=r[--t];r[t++]=Ge+64}else{var He=r[--t];r[t++]=He-32}},e.enc_a0=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.seta,e.c);else{e.c>=128&&(r[t++]=101);var je=e.c&127;if(r[t++]=je,je>=96){var Ge=r[--t];r[t++]=98,r[t++]=Ge}e.map_ab()}var He=s();r[t++]=He},e.enc_a1=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.seta,e.c);else{e.c<128&&(r[t++]=101);var je=e.c&127;if(r[t++]=je,je>=96){var Ge=r[--t];r[t++]=98,r[t++]=Ge}e.map_ab()}var He=s();r[t++]=He},e.enc_b0=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.setb,e.c);else{e.c>=128&&(r[t++]=100);var je=e.c&127;if(r[t++]=je,je<32){var Ge=r[--t];r[t++]=98,r[t++]=Ge}e.map_ab()}var He=s();r[t++]=He},e.enc_b1=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.setb,e.c);else{e.c<128&&(r[t++]=100);var je=e.c&127;if(r[t++]=je,je<32){var Ge=r[--t];r[t++]=98,r[t++]=Ge}e.map_ab()}var He=s();r[t++]=He},e.enc_c=function(){r[t++]=1/0,e.c<0?r[t++]=c(e.setc,e.c):r[t++]=S((c(e.msg,e.n)-48)*10+(c(e.msg,e.n+1)-48));var je=s();r[t++]=je},e.get_best_prior_state=function(){var je=c(e.bln_0,r[--t]);e.len=S(r[--t]+je),e.o=r[--t];var Ge=c(e.bln_0,r[--t]),He=S(r[--t]+Ge);r[t++]=He,He<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var Ze=c(e.bln_0,r[--t]),ft=S(r[--t]+Ze);r[t++]=ft,ft<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var pt=c(e.bln_0,r[--t]),ut=S(r[--t]+pt);r[t++]=ut,ut<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var xt=c(e.bln_0,r[--t]),nt=S(r[--t]+xt);r[t++]=nt,nt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var Tt=c(e.bln_0,r[--t]);S(r[--t]+Tt)<e.len?e.o=r[--t]:t--,r[t++]=e.o},e.bln_0=e.start_length,e.bln_1=e.start_length,r[t++]=1/0;for(var se=0;se<4;se++)r[t++]=s([0,0,0,0,0,0]);e.bln=s(),e.bps_0=e.start_state,e.bps_1=e.start_state,r[t++]=1/0;for(var le=0;le<4;le++)r[t++]=s([0,0,0,0,0,0]);e.bps=s(),r[t++]=1/0;for(var ge=0,ee=e.msg.length;ge<ee;ge++)r[t++]=s([0,0,0,0,0,0]);e.path=s(),e.make_tables=function(){e.num_digits=0;for(var je=0,Ge=e.msg.length-1;je<=Ge;je+=1){e.n=je,e.c=c(e.msg,e.n),r[t++]="num_digits",e.c>=48&&e.c<58?r[t++]=e.num_digits+1:r[t++]=0;var He=r[--t];e[r[--t]]=He,e.bln_2=e.bln_1,e.bln_1=e.bln_0,e.bln_0=c(e.bln,e.n&3),e.bps_2=e.bps_1,e.bps_1=e.bps_0,e.bps_0=c(e.bps,e.n&3),r[t++]="bps_c",e.num_digits>=2?r[t++]=e.bps_2:r[t++]=e.bps_1;var Ze=r[--t];e[r[--t]]=Ze,r[t++]="bln_c",e.num_digits>=2?r[t++]=e.bln_2:r[t++]=e.bln_1;var ft=r[--t];if(e[r[--t]]=ft,r[t++]=e.bln_0,r[t++]=0,e.can_a(),r[--t]){e.p=c(e.bps_1,0),g(c(e.path,e.n),0,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_a0,e.p)),e.out_a0();var pt=r[--t],ut=r[--t];r[t++]=S(ut+pt)}else r[t++]=e.max_int;var xt=r[--t],nt=r[--t];if(g(r[--t],nt,xt),r[t++]=e.bln_0,r[t++]=3,e.can_a(),r[--t]){e.p=c(e.bps_1,3),g(c(e.path,e.n),3,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_a1,e.p)),e.out_a1();var Tt=r[--t],et=r[--t];r[t++]=S(et+Tt)}else r[t++]=e.max_int;var Qt=r[--t],Ht=r[--t];if(g(r[--t],Ht,Qt),r[t++]=e.bln_0,r[t++]=1,e.can_b(),r[--t]){e.p=c(e.bps_1,1),g(c(e.path,e.n),1,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_b0,e.p)),e.out_b0();var Ot=r[--t],sr=r[--t];r[t++]=S(sr+Ot)}else r[t++]=e.max_int;var Sr=r[--t],nr=r[--t];if(g(r[--t],nr,Sr),r[t++]=e.bln_0,r[t++]=4,e.can_b(),r[--t]){e.p=c(e.bps_1,4),g(c(e.path,e.n),4,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_b1,e.p)),e.out_b1();var gr=r[--t],ar=r[--t];r[t++]=S(ar+gr)}else r[t++]=e.max_int;var Ir=r[--t],Zt=r[--t];g(r[--t],Zt,Ir),r[t++]=e.bln_0,r[t++]=2,e.can_c0(),r[--t]?(e.p=c(e.bps_c,2),g(c(e.path,e.n),2,e.p),r[t++]=S(c(e.bln_c,e.p)+c(e.latch_length_c0,e.p))+1):r[t++]=e.max_int;var dr=r[--t],Kt=r[--t];g(r[--t],Kt,dr),r[t++]=e.bln_0,r[t++]=5,e.can_c1(),r[--t]?(e.p=c(e.bps_c,5),g(c(e.path,e.n),5,e.p),r[t++]=S(c(e.bln_c,e.p)+c(e.latch_length_c1,e.p))+1):r[t++]=e.max_int;var Jt=r[--t],ur=r[--t];g(r[--t],ur,Jt),r[t++]=e.bps_0,r[t++]=0,U(e.prioritized_latch_length_a0),e.get_best_prior_state();var Tr=r[--t],Pr=r[--t];g(r[--t],Pr,Tr),r[t++]=e.bps_0,r[t++]=3,U(e.prioritized_latch_length_a1),e.get_best_prior_state();var ua=r[--t],Et=r[--t];g(r[--t],Et,ua),r[t++]=e.bps_0,r[t++]=1,U(e.prioritized_latch_length_b0),e.get_best_prior_state();var Gt=r[--t],tr=r[--t];g(r[--t],tr,Gt),r[t++]=e.bps_0,r[t++]=4,U(e.prioritized_latch_length_b1),e.get_best_prior_state();var br=r[--t],ir=r[--t];g(r[--t],ir,br),r[t++]=e.bps_0,r[t++]=2,U(e.prioritized_latch_length_c0),e.get_best_prior_state();var Br=r[--t],or=r[--t];g(r[--t],or,Br),r[t++]=e.bps_0,r[t++]=5,U(e.prioritized_latch_length_c1),e.get_best_prior_state();var Ut=r[--t],wr=r[--t];g(r[--t],wr,Ut)}},e.backtrack=function(){e.n=e.msg.length;for(var je=e.reverse_priority,Ge=0,He=je.length;Ge<He;Ge++){var Ze=c(je,Ge),ft=c(e.bln_0,Ze);r[t++]=Ze,r[t++]=ft,r[t++]=ft}t--,e.len=r[--t],e.state=r[--t];for(var pt=0;pt<5;pt++)mn(r[--t],e.len)?(e.len=r[--t],e.state=r[--t]):t-=2;for(r[t++]=s(e.len);!(e.n<=0);){e.prior_state=c(c(e.path,e.n-1),e.state),r[t++]=1/0,ve(c(c(e.latch_sequence,e.state),e.prior_state)),e.latch=s();var ut=(e.state==2||e.state==5)&&c(e.msg,e.n-1)>=48?2:1;if(e.n=e.n-ut,e.c=c(e.msg,e.n),r[t++]="enc",c(e.encode,e.state)()===!0)break;var xt=r[--t];e[r[--t]]=xt,e.len=S(e.len-e.latch.length-e.enc.length);var nt=r[--t],Tt=e.len,et=e.latch;R(nt,Tt,et),R(nt,S(Tt+et.length),e.enc),e.state=e.prior_state,r[t++]=nt}var Qt=r[t-1];g(Qt,0,c(e.start_code,e.state))},e.make_tables(),e.backtrack(),e.cws=r[--t]}e.j=e.cws.length;var ke=s(e.j+2);R(ke,0,e.cws),e.cws=ke,e.csum=c(e.cws,0);for(var X=1,xe=e.j-1;X<=xe;X+=1)e.i=X,e.csum=S(e.csum+c(e.cws,e.i)*e.i);e.csum=e.csum%103,g(e.cws,e.j,e.csum),g(e.cws,e.j+1,106);var me=c(e.options,"debugcws")!==void 0;me&&(r[t++]="bwipp.debugcws#7483",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","2331112"]),e.sbs=W(e.cws.length*6+1);for(var ye=0,ne=e.cws.length-1;ye<=ne;ye+=1)e.i=ye,R(e.sbs,e.i*6,c(e.encs,c(e.cws,e.i)));r[t++]=1/0,r[t++]=1/0;for(var we=e.sbs,Ee=0,pe=we.length;Ee<pe;Ee++)r[t++]=c(we,Ee)-48;var Ne=s();r[t++]=1/0;for(var Ae=0,Ce=~~((e.sbs.length+1)/2);Ae<Ce;Ae++)r[t++]=e.height;var Qe=s();r[t++]=1/0;for(var Pe=0,We=~~((e.sbs.length+1)/2);Pe<We;Pe++)r[t++]=0;var st=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ne,r[t++]="bhs",r[t++]=Qe,r[t++]="bbs",r[t++]=st,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var at=_e();r[t++]=at,e.dontdraw||It(),e=a}function v3(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=.5,e.linkagea=!1,e.linkagec=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.linkagea&&e.linkagec&&(r[t++]="bwipp.gs1128badLinkage#7580",r[t++]="linkagea and linkagec cannot be used together",z()),e.text=e.barcode,r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.c128=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.c128.length+e.ai.length+e.val.length);R(o,0,e.c128),r[t++]=o,r[t++]=o,r[t++]=e.c128.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.c128.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var b=s(),y=r[--t];if(R(r[--t],y,b),e.c128=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.c128.length+1);R(w,0,e.c128),g(w,e.c128.length,e.fnc1),e.c128=w}}for(e.barcode=W((e.c128.length+1)*5),e.i=0,e.j=0;e.i!=e.c128.length;){var v=c(e.c128,e.i);r[t++]=v,v==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}if(e.linkagea||e.linkagec){r[t++]=e.barcode,r[t++]=e.j,e.linkagea?r[t++]="^LNKA":r[t++]="^LNKC";var A=r[--t],j=r[--t];R(r[--t],j,A),e.j=e.j+5}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"height",e.height),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var E=r[--t];e[r[--t]]=E,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function ET(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=W(n.length),r[t++]=0,ve(n,function(){var j=r[t-1];if(j!=32){var E=r[--t],k=r[--t],N=r[t-1];g(N,k,E),r[t++]=k+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.ean14badLength#7695",r[t++]="EAN-14 must be 13 or 14 digits",z()),Ie(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.ean14badAI#7698",r[t++]="EAN-14 must begin with (01) application identifier",z());for(var o=C(e.barcode,4,e.barcode.length-4),d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.ean14badCharacter#7702",r[t++]="EAN-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==18)c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.ean14badCheckDigit#7715",r[t++]="Incorrect EAN-14 check digit provided",z());else{var b=W(18);R(b,0,e.barcode),g(b,17,e.checksum+48),e.barcode=b;var y=e.hasspace?2:1,w=W(e.text.length+y);R(w,w.length-2," "),g(w,w.length-1,e.checksum+48),R(w,0,e.text),e.text=w}e.gtin=C(e.barcode,4,14),e.barcode=W(21),R(e.barcode,0,"^FNC101");var v=e.gtin;R(e.barcode,7,v),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function CT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=W(n.length),r[t++]=0,ve(n,function(){var j=r[t-1];if(j!=32){var E=r[--t],k=r[--t],N=r[t-1];g(N,k,E),r[t++]=k+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=21&&e.barcode.length!=22&&(r[t++]="bwipp.sscc18badLength#7799",r[t++]="SSCC-18 must be 17 or 18 digits",z()),Ie(C(e.barcode,0,4),"(00)")&&(r[t++]="bwipp.sscc18badAI#7802",r[t++]="SSCC-18 must begin with (00) application identifier",z());for(var o=C(e.barcode,4,e.barcode.length-4),d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.sscc18badCharacter#7806",r[t++]="SSCC-18 must contain only digits",z())}e.checksum=0;for(var h=0;h<=16;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==22)c(e.barcode,21)!=e.checksum+48&&(r[t++]="bwipp.sscc18badCheckDigit#7819",r[t++]="Incorrect SSCC-18 check digit provided",z());else{var b=W(22);R(b,0,e.barcode),g(b,21,e.checksum+48),e.barcode=b;var y=e.hasspace?2:1,w=W(e.text.length+y);R(w,w.length-2," "),g(w,w.length-1,e.checksum+48),R(w,0,e.text),e.text=w}e.sscc=C(e.barcode,4,18),e.barcode=W(25),R(e.barcode,0,"^FNC100");var v=e.sscc;R(e.barcode,7,v),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function c2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.hidestars=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code39emptyData#7899",r[t++]="The data must not be empty",z()),e.encs=s(["1113313111","3113111131","1133111131","3133111111","1113311131","3113311111","1133311111","1113113131","3113113111","1133113111","3111131131","1131131131","3131131111","1111331131","3111331111","1131331111","1111133131","3111133111","1131133111","1111333111","3111111331","1131111331","3131111311","1111311331","3111311311","1131311311","1111113331","3111113311","1131113311","1111313311","3311111131","1331111131","3331111111","1311311131","3311311111","1331311111","1311113131","3311113111","1331113111","1313131111","1313111311","1311131311","1113131311","1311313111"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.code39badCharacter#7927",r[t++]="Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.code39badCheckDigit#7941",r[t++]="Incorrect Code 39 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0);var m=e.includecheck?3:2;e.sbs=W(S(e.barlen+m)*10);var x=e.includecheck?3:2;e.txt=s(S(e.barlen+x)),R(e.sbs,0,c(e.encs,43)),e.hidestars?g(e.txt,0,s(["",0,e.textyoffset,e.textfont,e.textsize])):g(e.txt,0,s(["*",0,e.textyoffset,e.textfont,e.textsize]));for(var b=0,y=e.barlen-1;b<=y;b+=1)e.i=b,e.indx=c(e.charvals,C(e.barcode,e.i,1)),R(e.sbs,e.i*10+10,c(e.encs,e.indx)),g(e.txt,e.i+1,s([C(e.barcode,e.i,1),(e.i+1)*16,e.textyoffset,e.textfont,e.textsize]));e.includecheck?(R(e.sbs,e.barlen*10+10,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen+1,s([C(e.barchars,e.checksum,1),(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])),R(e.sbs,e.barlen*10+20,c(e.encs,43)),e.hidestars?g(e.txt,e.barlen+2,s(["",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+2,s(["*",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize]))):(R(e.sbs,e.barlen*10+10,c(e.encs,43)),e.hidestars?g(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+1,s(["*",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize]))),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,v=0,A=w.length;v<A;v++)r[t++]=c(w,v)-48;var j=s();r[t++]=1/0;for(var E=0,k=~~((e.sbs.length+1)/2);E<k;E++)r[t++]=e.height;var N=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var T=_e();r[t++]=T,e.dontdraw||It(),e=a}function IT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,ve(e.barcode,function(){r[--t]>=128&&(r[t++]="bwipp.code39extBadCharacter#8061",r[t++]="Code 39 Extended must contain only ASCII characters",z())}),e.extencs=s(["%U","$A","$B","$C","$D","$E","$F","$G","$H","$I","$J","$K","$L","$M","$N","$O","$P","$Q","$R","$S","$T","$U","$V","$W","$X","$Y","$Z","%A","%B","%C","%D","%E"," ","/A","/B","/C","/D","/E","/F","/G","/H","/I","/J","/K","/L","-",".","/O","0","1","2","3","4","5","6","7","8","9","/Z","%F","%G","%H","%I","%J","%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","%K","%L","%M","%N","%O","%W","+A","+B","+C","+D","+E","+F","+G","+H","+I","+J","+K","+L","+M","+N","+O","+P","+Q","+R","+S","+T","+U","+V","+W","+X","+Y","+Z","%P","%Q","%R","%S","%T"]),e.newcode=W(e.barlen*2),e.newtext=W(e.barlen*2),e.j=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){e.i=o,e.extchar=c(e.extencs,c(e.barcode,e.i)),R(e.newcode,e.j,e.extchar);var u=c(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.j,r[t++]=u,(u<32||u==127)&&(r[t-1]=32);var f=r[--t],h=r[--t];g(r[--t],h,f),e.extchar.length!=1&&g(e.newtext,e.j+1,32),e.j=e.j+e.extchar.length}e.newcode=C(e.newcode,0,e.j),e.newtext=C(e.newtext,0,e.j),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,c2();var p=r[--t];if(e[r[--t]]=p,e.includetext){e.txt=c(e.args,"txt");for(var m=0,x=e.newtext.length-1;m<=x;m+=1)e.i=m,e.txtentry=c(e.txt,e.i+1),g(e.txtentry,0,C(e.newtext,e.i,1)),g(e.txt,e.i+1,e.txtentry);g(e.args,"txt",e.txt)}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function BT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=8&&e.barcode.length!=9&&(r[t++]="bwipp.code32badLength#8160",r[t++]="Italian Pharmacode must be 8 or 9 digits",z()),ve(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.code32badCharacter#8164",r[t++]="Italian Pharmacode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=7;n+=1){if(e.i=n,r[t++]=c(e.barcode,e.i)-48,e.i%2!=0){var i=r[--t];r[t++]=i*2}var o=r[t-1];if(o>9){var d=r[--t];r[t++]=d-9}e.checksum=S(r[--t]+e.checksum)}e.checksum=e.checksum%10,e.barcode.length==9&&c(e.barcode,8)!=e.checksum+48&&(r[t++]="bwipp.code32badCheckDigit#8178",r[t++]="Incorrect Italian Pharmacode check digit provided",z());var u=W(10);R(u,0,e.barcode),g(u,8,e.checksum+48),e.text=u,e.val=$t(W(6),De(e.text),32),e.barcode=W(6);for(var f=0;f<=5;f+=1)g(e.barcode,f,48);R(e.barcode,6-e.val.length,e.val);for(var h=0;h<=5;h+=1){var p=c(e.barcode,h);r[t++]=h,r[t++]=p,r[t++]=p;for(var m=0,x=4;m<x;m++){if(r[--t]>=c("AEIO",m)){var b=r[--t];r[t++]=b+1}var y=r[t-1];r[t++]=y}r[t-1]=e.barcode;var w=r[t-2],v=r[t-3];g(r[t-1],v,w),t-=3}R(e.text,1,C(e.text,0,9)),g(e.text,0,65),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function DT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,e.pzn8=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.pzn8?e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.pzn8badLength#8261",r[t++]="PZN8 must be 7 or 8 digits",z()):e.barcode.length!=6&&e.barcode.length!=7&&(r[t++]="bwipp.pzn7badLength#8265",r[t++]="PZN7 must be 6 or 7 digits",z()),ve(e.barcode,function(){var p=r[--t];(p<48||p>57)&&(r[t++]="bwipp.pznBadCharacter#8270",r[t++]="PZN must contain only digits",z())});var n=e.pzn8?9:8;e.msglen=n,e.checksum=0;for(var i=0,o=e.msglen-3;i<=o;i+=1){e.i=i;var d=e.pzn8?1:2;e.checksum=S((c(e.barcode,e.i)-48)*(e.i+d)+e.checksum)}e.checksum=e.checksum%11,e.checksum==10&&(r[t++]="bwipp.pznBadInputSequence#8284",r[t++]="Incorrect PZN input sequence provided",z()),e.barcode.length==e.msglen-1&&c(e.barcode,e.msglen-2)!=e.checksum+48&&(r[t++]="bwipp.pznBadCheckDigit#8288",r[t++]="Incorrect PZN check digit provided",z());var u=W(e.msglen);g(u,0,45),R(u,1,e.barcode),g(u,e.msglen-1,e.checksum+48),e.msg=u,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.msg,r[t++]=e.options,c2();var f=r[--t];e[r[--t]]=f,e.text=W(e.msglen+5),R(e.text,0,"PZN - "),R(e.text,6,C(e.msg,1,e.msglen-1));var h=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]);g(e.args,"txt",h),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function Sy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.encs=s(["131112","111213","111312","111411","121113","121212","121311","111114","131211","141111","211113","211212","211311","221112","221211","231111","112113","112212","112311","122112","132111","111123","111222","111321","121122","131121","212112","212211","211122","211221","221121","222111","112122","112221","122121","123111","121131","311112","311211","321111","112131","113121","211131","121221","312111","311121","122211","111141","1111411"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,c(e.barchars,n),n);e.sft1=-1,e.sft2=-2,e.sft3=-3,e.sft4=-4,g(e.charvals,e.sft1,43),g(e.charvals,e.sft2,44),g(e.charvals,e.sft3,45),g(e.charvals,e.sft4,46);var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["SFT$",e.sft1],["SFT%",e.sft2],["SFT/",e.sft3],["SFT+",e.sft4]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,ve(e.msg,function(){var D=c(e.charvals,r[--t])!==void 0;D||(r[t++]="bwipp.code93BadCharacter#8405",r[t++]="Code 93 must only contain digits, capital letters, spaces, the symbols -.$/+ and shift non-data characters",z())}),e.includecheck?e.sbs=W(e.msglen*6+25):e.sbs=W(e.msglen*6+13),e.txt=s(e.msglen),R(e.sbs,0,c(e.encs,47)),e.checksum1=0,e.checksum2=0;for(var d=0,u=e.msglen-1;d<=u;d+=1){e.i=d,e.indx=c(e.charvals,c(e.msg,e.i)),R(e.sbs,e.i*6+6,c(e.encs,e.indx));var f=c(e.msg,e.i);if(r[t++]="char",r[t++]=f,f<0)r[t-1]=" ";else{var h=W(1);r[t++]=h,r[t++]=h,r[t++]=0,Na(4,-1);var p=r[--t],m=r[--t];g(r[--t],m,p)}var x=r[--t];e[r[--t]]=x,g(e.txt,e.i,s([e.char,e.i*9+9,e.textyoffset,e.textfont,e.textsize])),e.checksum1=S(e.checksum1+((e.msglen-e.i-1)%20+1)*e.indx),e.checksum2=S(e.checksum2+((e.msglen-e.i)%15+1)*e.indx)}e.includecheck?(e.checksum1=e.checksum1%47,e.checksum2=S(e.checksum2+e.checksum1)%47,R(e.sbs,e.msglen*6+6,c(e.encs,e.checksum1)),R(e.sbs,e.msglen*6+12,c(e.encs,e.checksum2)),R(e.sbs,e.msglen*6+18,c(e.encs,48))):R(e.sbs,e.msglen*6+6,c(e.encs,48)),r[t++]=1/0,r[t++]=1/0;for(var b=e.sbs,y=0,w=b.length;y<w;y++)r[t++]=c(b,y)-48;var v=s();r[t++]=1/0;for(var A=0,j=~~((e.sbs.length+1)/2);A<j;A++)r[t++]=e.height;var E=s();r[t++]=1/0;for(var k=0,N=~~((e.sbs.length+1)/2);k<N;k++)r[t++]=0;var B=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=v,r[t++]="bhs",r[t++]=E,r[t++]="bbs",r[t++]=B,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var I=_e();r[t++]=I,e.dontdraw||It(),e=a}function TT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.extencs=s(["^SFT%U","^SFT$A","^SFT$B","^SFT$C","^SFT$D","^SFT$E","^SFT$F","^SFT$G","^SFT$H","^SFT$I","^SFT$J","^SFT$K","^SFT$L","^SFT$M","^SFT$N","^SFT$O","^SFT$P","^SFT$Q","^SFT$R","^SFT$S","^SFT$T","^SFT$U","^SFT$V","^SFT$W","^SFT$X","^SFT$Y","^SFT$Z","^SFT%A","^SFT%B","^SFT%C","^SFT%D","^SFT%E"," ","^SFT/A","^SFT/B","^SFT/C","$","%","^SFT/F","^SFT/G","^SFT/H","^SFT/I","^SFT/J","+","^SFT/L","-",".","/","0","1","2","3","4","5","6","7","8","9","^SFT/Z","^SFT%F","^SFT%G","^SFT%H","^SFT%I","^SFT%J","^SFT%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","^SFT%K","^SFT%L","^SFT%M","^SFT%N","^SFT%O","^SFT%W","^SFT+A","^SFT+B","^SFT+C","^SFT+D","^SFT+E","^SFT+F","^SFT+G","^SFT+H","^SFT+I","^SFT+J","^SFT+K","^SFT+L","^SFT+M","^SFT+N","^SFT+O","^SFT+P","^SFT+Q","^SFT+R","^SFT+S","^SFT+T","^SFT+U","^SFT+V","^SFT+W","^SFT+X","^SFT+Y","^SFT+Z","^SFT%P","^SFT%Q","^SFT%R","^SFT%S","^SFT%T"]),e.newcode=W(e.barlen*6),e.newtext=W(e.barlen*6),e.j=0,e.k=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){e.i=o;var u=c(e.barcode,e.i);r[t++]=u,u>127&&(t--,r[t++]="bwipp.code93extbadCharacter#8542",r[t++]="Code 93 Extended only support ASCII characters with values 0 to 127",z()),e.extchar=c(e.extencs,r[--t]),e.extlen=e.extchar.length,R(e.newcode,e.j,e.extchar);var f=c(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.k,r[t++]=f,(f<32||f==127)&&(r[t-1]=32);var h=r[--t],p=r[--t];g(r[--t],p,h),e.extlen!=1&&g(e.newtext,e.k+1,32),e.j=e.j+e.extlen;var m=e.extlen==1?1:2;e.k=e.k+m}e.newcode=C(e.newcode,0,e.j),e.newtext=C(e.newtext,0,e.k),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,Sy();var x=r[--t];if(e[r[--t]]=x,e.includetext){e.txt=c(e.args,"txt");for(var b=0,y=e.newtext.length-1;b<=y;b+=1)e.i=b,e.txtentry=c(e.txt,e.i),g(e.txtentry,0,C(e.newtext,e.i,1)),g(e.txt,e.i,e.txtentry);g(e.args,"txt",e.txt)}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function Fu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.interleaved2of5badCharacter#8628",r[t++]="Interleaved 2 of 5 must contain only digits",z())}),e.barlen=e.barcode.length,(e.barlen%2==0&&e.includecheck||e.barlen%2!=0&&!e.includecheck)&&(e.pad=W(e.barlen+1),g(e.pad,0,48),R(e.pad,1,e.barcode),e.barcode=e.pad,e.barlen=e.barlen+1),e.includecheck){e.checksum=0;for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.i%2==0?e.checksum=e.checksum+(c(e.barcode,e.i)-48)*3:e.checksum=e.checksum+(c(e.barcode,e.i)-48);e.checksum=(10-e.checksum%10)%10,e.pad=W(e.barlen+1),R(e.pad,0,e.barcode),g(e.pad,e.barlen,e.checksum+48),e.barcode=e.pad,e.barlen=e.barlen+1}e.encs=s(["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121","1111","2111"]),e.barchars="0123456789",e.sbs=W(e.barlen*5+8),e.txt=s(e.barlen),R(e.sbs,0,c(e.encs,10));for(var o=0,d=e.barlen-1;o<=d;o+=2){e.i=o,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enca=c(e.encs,e.indx),Ct(e.barchars,C(e.barcode,e.i+1,1)),t--,e.indx=r[--t].length,t-=2,e.encb=c(e.encs,e.indx),e.intl=W(e.enca.length*2);for(var u=0,f=e.enca.length-1;u<=f;u+=1)e.j=u,e.achar=c(e.enca,e.j),e.bchar=c(e.encb,e.j),g(e.intl,e.j*2,e.achar),g(e.intl,e.j*2+1,e.bchar);R(e.sbs,e.i*5+4,e.intl),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*9+4,e.textyoffset,e.textfont,e.textsize])),e.includecheck&&!e.includecheckintext&&e.barlen-2==e.i?g(e.txt,e.i+1,s([" ",(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.i+1,s([C(e.barcode,e.i+1,1),(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize]))}R(e.sbs,e.barlen*5+4,c(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var h=e.sbs,p=0,m=h.length;p<m;p++)r[t++]=c(h,p)-48;var x=s();r[t++]=1/0;for(var b=0,y=~~((e.sbs.length+1)/2);b<y;b++)r[t++]=e.height;var w=s();r[t++]=1/0;for(var v=0,A=~~((e.sbs.length+1)/2);v<A;v++)r[t++]=0;var j=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=x,r[t++]="bhs",r[t++]=w,r[t++]="bbs",r[t++]=j,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="barratio",r[t++]=2,r[t++]="spaceratio",r[t++]=2,r[t++]="opt",r[t++]=e.options;var E=_e();r[t++]=E,e.dontdraw||It(),e=a}function RT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!0,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-3.5,e.height=.5,e.showborder=!0,e.borderwidth=4,e.borderleft=10,e.borderright=10,e.bordertop=-.55,e.borderbottom=-.55,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=W(n.length),r[t++]=0,ve(n,function(){var E=r[t-1];if(E!=32){var k=r[--t],N=r[--t],B=r[t-1];g(B,N,k),r[t++]=N+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.itf14badLength#8796",r[t++]="ITF-14 must be 13 or 14 digits",z());for(var o=e.barcode,d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.itf14badCharacter#8800",r[t++]="ITF-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==14)c(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.itf14badCheckDigit#8813",r[t++]="Incorrect ITF-14 check digit provided",z());else{var b=W(14);R(b,0,e.barcode),g(b,13,e.checksum+48),e.barcode=b;var y=e.hasspace?2:1,w=W(e.text.length+y);R(w,w.length-2," "),g(w,w.length-1,e.checksum+48),R(w,0,e.text),e.text=w}var v=e.options;g(v,"dontdraw",!0),g(e.options,"showborder",e.showborder),g(e.options,"borderwidth",e.borderwidth),g(e.options,"borderleft",e.borderleft),g(e.options,"borderright",e.borderright);var A=e.options;g(A,"bordertop",e.bordertop),g(e.options,"borderbottom",e.borderbottom),g(e.options,"height",e.height),g(e.options,"textyoffset",e.textyoffset),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Fu();var j=r[--t];e[r[--t]]=j,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function MT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.identcodeBadLength#8891",r[t++]="Deutsche Post Identcode must be 11 or 12 digits",z()),ve(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.identcodeBadCharacter#8895",r[t++]="Deutsche Post Identcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=10;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var d=r[--t],u=r[--t];e[r[--t]]=S(u+d)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&c(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.identcodeBadCheckDigit#8908",r[t++]="Incorrect Deutsche Post Identcode check digit provided",z());var f=W(12);R(f,0,e.barcode),g(f,11,e.checksum+48),e.barcode=f,e.text=Fr(W(16),"  .       .     "),R(e.text,0,C(e.barcode,0,2)),R(e.text,3,C(e.barcode,2,3)),R(e.text,7,C(e.barcode,5,3)),R(e.text,11,C(e.barcode,8,3)),R(e.text,15,C(e.barcode,11,1)),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Fu();var p=r[--t];e[r[--t]]=p;var m=e.textsize;g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function FT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.leitcodeBadLength#8981",r[t++]="Deutsche Post Leitcode must be 13 or 14 digits",z()),ve(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.leitcodeBadCharacter#8985",r[t++]="Deutsche Post Leitcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=12;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var d=r[--t],u=r[--t];e[r[--t]]=S(u+d)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==14&&c(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.leitcodeBadCheckDigit#8998",r[t++]="Incorrect Deutsche Post Leitcode check digit provided",z());var f=W(14);R(f,0,e.barcode),g(f,13,e.checksum+48),e.barcode=f,e.text=Fr(W(18),"     .   .   .    "),R(e.text,0,C(e.barcode,0,5)),R(e.text,6,C(e.barcode,5,3)),R(e.text,10,C(e.barcode,8,3)),R(e.text,14,C(e.barcode,11,2)),R(e.text,17,C(e.barcode,13,1)),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Fu();var p=r[--t];e[r[--t]]=p;var m=e.textsize;g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function d2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=33/72,e.linkage=!1,e.format="omni",e.barxmult=33,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databaromniBadLength#9070",r[t++]="GS1 DataBar Omnidirectional must be 13 or 14 digits",z()),Ie(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databaromniBadAI#9073",r[t++]="GS1 DataBar Omnidirectional must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databaromniBadCharacter#9077",r[t++]="GS1 DataBar Omnidirectional must contain only digits",z())}e.barxmult<33&&(r[t++]="bwipp.databarStackedOmniBarXmult#9082",r[t++]="GS1 DataBar Stacked Omnidirectional must have a barxmult of at least 33",z()),Ie(e.format,"omni")&&Ie(e.format,"stacked")&&Ie(e.format,"stackedomni")&&Ie(e.format,"truncated")&&(r[t++]="bwipp.databaromniBadFormat#9086",r[t++]="Valid formats are omni, stacked, stackedomni and truncated",z()),V(e.format,"truncated")&&(e.height=13/72),e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databaromniBadCheckDigit#9102",r[t++]="Incorrect GS1 DataBar Omnidirectional check digit provided",z());var m=W(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,e.txt=s(e.barcode.length);for(var x=0,b=e.barcode.length-1;x<=b;x+=1)e.i=x,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var kt=r[--t],O=r[--t],K=S(O-kt);if(kt<S(O-kt)){var G=K;K=kt,kt=G}r[t++]=K,r[t++]=1,r[t++]=1;for(var se=O,le=kt+1;se>=le;se-=1){var ge=r[--t],ee=r[t-1],ke=r[t-2];if(r[t++]=ge*se,dc(ee,ke)){var X=r[--t],xe=r[--t];r[t++]=xe+1,r[t++]=~~(X/xe)}}for(;;){var me=r[t-2],ye=r[t-3];if(I1(me,ye))break;var ne=r[--t],we=r[--t];r[t++]=we+1,r[t++]=~~(ne/we)}var Ee=r[--t];r[t-1]=Ee;var pe=r[--t];r[t-1]=pe},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var kt=0,O=e.el-2;kt<=O;kt+=1){e.bar=kt,e.ew=1;var K=e.bar;for(e.mask=e.mask|(K<0?1>>>-K:1<<K);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var G=r[--t];if(e[r[--t]]=G,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var se=r[--t],le=r[--t];e[r[--t]]=S(le-se)}if(S(e.el-e.bar)>2){e.lval=0;for(var ge=S(e.nm-e.ew-e.el+e.bar)+2,ee=e.mw+1;ge>=ee;ge-=1)r[t++]=S(e.nm-ge-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var ke=e.bar;e.mask=e.mask&~(ke<0?1>>>-ke:1<<ke)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out},r[t++]=1/0;var y=e.linkage?1:0,w=C(e.barcode,4,13);r[t++]=y;for(var v=0,A=w.length;v<A;v++)r[t++]=c(w,v)-48;e.binval=s();for(var j=0;j<=12;j+=1){e.i=j;var E=e.binval,k=e.i;g(E,k+1,S(c(E,k+1)+c(e.binval,e.i)%4537077*10)),g(e.binval,e.i,~~(c(e.binval,e.i)/4537077))}e.right=c(e.binval,13)%4537077;var N=e.binval;g(N,13,~~(c(N,13)/4537077)),e.left=0,e.i=!0;for(var B=0;B<=13;B+=1){e.j=B;var I=c(e.binval,e.j);if(r[t++]=I,I==0&&e.i)t--;else{e.i=!1,r[t++]="left",r[t++]=e.left;var D=r[t-3],T=r[t-1];e[r[t-2]]=S(T+D*~~li(10,13-e.j)),t-=3}}for(e.d1=~~(e.left/1597),e.d2=e.left%1597,e.d3=~~(e.right/1597),e.d4=e.right%1597,e.tab164=s([160,0,12,4,8,1,161,1,960,161,10,6,6,3,80,10,2014,961,8,8,4,5,31,34,2714,2015,6,10,3,6,10,70,2840,2715,4,12,1,8,1,126]),e.tab154=s([335,0,5,10,2,7,4,84,1035,336,7,8,4,5,20,35,1515,1036,9,6,6,3,48,10,1596,1516,11,4,8,1,81,1]),e.i=0;;){if(e.d1<=c(e.tab164,e.i)){U(C(e.tab164,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=c(e.tab154,e.i)){U(C(e.tab154,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d3<=c(e.tab164,e.i)){U(C(e.tab164,e.i+1,7)),e.d3te=r[--t],e.d3to=r[--t],e.d3mwe=r[--t],e.d3mwo=r[--t],e.d3ele=r[--t],e.d3elo=r[--t],e.d3gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d4<=c(e.tab154,e.i)){U(C(e.tab154,e.i+1,7)),e.d4te=r[--t],e.d4to=r[--t],e.d4mwe=r[--t],e.d4mwo=r[--t],e.d4ele=r[--t],e.d4elo=r[--t],e.d4gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var M=r[--t];e[r[--t]]=M,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d2wo",r[t++]=S(e.d2-e.d2gs)%e.d2to,r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d2we",r[t++]=~~(S(e.d2-e.d2gs)/e.d2to),r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var P=r[--t];e[r[--t]]=P,r[t++]="d3wo",r[t++]=~~(S(e.d3-e.d3gs)/e.d3te),r[t++]=e.d3elo,r[t++]=e.d3mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,r[t++]="d3we",r[t++]=S(e.d3-e.d3gs)%e.d3te,r[t++]=e.d3ele,r[t++]=e.d3mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d4wo",r[t++]=S(e.d4-e.d4gs)%e.d4to,r[t++]=e.d4elo,r[t++]=e.d4mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var H=r[--t];e[r[--t]]=H,r[t++]="d4we",r[t++]=~~(S(e.d4-e.d4gs)/e.d4to),r[t++]=e.d4ele,r[t++]=e.d4mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Y=r[--t];e[r[--t]]=Y,e.d1w=s(8);for(var de=0;de<=3;de+=1)e.i=de,g(e.d1w,e.i*2,c(e.d1wo,e.i)),g(e.d1w,e.i*2+1,c(e.d1we,e.i));e.d2w=s(8);for(var $=0;$<=3;$+=1)e.i=$,g(e.d2w,7-e.i*2,c(e.d2wo,e.i)),g(e.d2w,6-e.i*2,c(e.d2we,e.i));e.d3w=s(8);for(var q=0;q<=3;q+=1)e.i=q,g(e.d3w,7-e.i*2,c(e.d3wo,e.i)),g(e.d3w,6-e.i*2,c(e.d3we,e.i));e.d4w=s(8);for(var re=0;re<=3;re+=1)e.i=re,g(e.d4w,e.i*2,c(e.d4wo,e.i)),g(e.d4w,e.i*2+1,c(e.d4we,e.i));r[t++]=1/0,U(e.d1w),U(e.d2w),U(e.d3w),U(e.d4w),e.widths=s(),e.checkweights=s([1,3,9,27,2,6,18,54,58,72,24,8,29,36,12,4,74,51,17,32,37,65,48,16,64,34,23,69,49,68,46,59]),e.checkwidths=s([3,8,2,1,1,3,5,5,1,1,3,3,7,1,1,3,1,9,1,1,2,7,4,1,1,2,5,6,1,1,2,3,8,1,1,1,5,7,1,1,1,3,9,1,1]),e.checksum=0;for(var ce=0;ce<=31;ce+=1)e.i=ce,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweights,e.i));e.checksum=e.checksum%79,e.checksum>=8&&(e.checksum=e.checksum+1),e.checksum>=72&&(e.checksum=e.checksum+1),e.checklt=C(e.checkwidths,~~(e.checksum/9)*5,5),e.checkrtrev=C(e.checkwidths,e.checksum%9*5,5),e.checkrt=s(5);for(var J=0;J<=4;J+=1)e.i=J,g(e.checkrt,e.i,c(e.checkrtrev,4-e.i));if(V(e.format,"omni")||V(e.format,"truncated")){r[t++]=1/0,r[t++]=1,U(e.d1w),U(e.checklt),U(e.d2w),U(e.d4w),U(e.checkrt),U(e.d3w),r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var oe=e.sbs;r[t++]=1/0;for(var ue=0,he=~~((e.sbs.length+1)/2);ue<he;ue++)r[t++]=e.height;var Re=s();r[t++]=1/0;for(var te=0,Be=~~((e.sbs.length+1)/2);te<Be;te++)r[t++]=0;var Se=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=oe,r[t++]="bhs",r[t++]=Re,r[t++]="bbs",r[t++]=Se,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Oe=_e();r[t++]=Oe,e.dontdraw||It()}else{r[t++]=1/0,r[t++]=1,r[t++]=1,U(e.d1w),U(e.checklt),U(e.d2w),r[t++]=1,r[t++]=1,r[t++]=0,e.top=s(),r[t++]=1/0,r[t++]=1,r[t++]=1,U(e.d4w),U(e.checkrt),U(e.d3w),r[t++]=1,r[t++]=1,r[t++]=0,e.bot=s();for(var Ue=0;Ue<=24;Ue+=2){e.i=Ue;for(var be=0,$e=c(e.top,e.i);be<$e;be++)r[t++]=0;for(var Fe=0,Ke=c(e.top,e.i+1);Fe<Ke;Fe++)r[t++]=1}Vt(s(50)),e.top=r[--t];for(var Je=0;Je<=24;Je+=2){e.i=Je;for(var rt=0,ae=c(e.bot,e.i);rt<ae;rt++)r[t++]=1;for(var fe=0,Me=c(e.bot,e.i+1);fe<Me;fe++)r[t++]=0}if(Vt(s(50)),e.bot=r[--t],V(e.format,"stacked")){e.sep=s(50),g(e.sep,0,0);for(var Le=1;Le<=49;Le+=1)e.i=Le,V(c(e.top,e.i),c(e.bot,e.i))?g(e.sep,e.i,1-c(e.top,e.i)):g(e.sep,e.i,1-c(e.sep,e.i-1));R(e.sep,0,s([0,0,0,0])),R(e.sep,46,s([0,0,0,0])),r[t++]=1/0;for(var Xe=0;Xe<5;Xe++)U(e.top);U(e.sep);for(var ze=0;ze<7;ze++)U(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}if(V(e.format,"stackedomni")){r[t++]=1/0,ve(e.top,function(){var kt=r[--t];r[t++]=1-kt}),e.sep1=s(),R(e.sep1,0,s([0,0,0,0])),R(e.sep1,46,s([0,0,0,0]));for(var qe=18;qe<=30;qe+=1){if(e.i=qe,c(e.top,e.i)==0)if(c(e.top,e.i-1)==1)r[t++]=1;else{var ht=c(e.sep1,e.i-1)==0?1:0;r[t++]=ht}else r[t++]=0;g(e.sep1,e.i,r[--t])}r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var vt=0;vt<21;vt++)r[t++]=0,r[t++]=1;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.sep2=s(),r[t++]=1/0,ve(e.bot,function(){var kt=r[--t];r[t++]=1-kt}),e.sep3=s(),R(e.sep3,0,s([0,0,0,0])),R(e.sep3,46,s([0,0,0,0]));for(var dt=19;dt<=31;dt+=1){if(e.i=dt,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var wt=c(e.sep3,e.i-1)==0?1:0;r[t++]=wt}else r[t++]=0;g(e.sep3,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var Bt=0;Bt<=12;Bt+=1){var jt=r[--t];r[t++]=jt&&V(c(e.bot,Bt+19),c(e.f3,Bt))}r[--t]&&R(e.sep3,19,s([0,0,0,0,0,0,0,0,0,0,1,0,0])),r[t++]=1/0;for(var At=0,_t=e.barxmult;At<_t;At++)U(e.top);U(e.sep1),U(e.sep2),U(e.sep3);for(var Mt=0,Lt=e.barxmult;Mt<Lt;Mt++)U(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}var Dt=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",50],["pixy",e.pixy],["height",e.pixy/72],["width",50/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Dt,e.dontdraw||mt()}e=a}function Ey(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedBadLength#9532",r[t++]="GS1 DataBar Stacked must be 13 or 14 digits",z()),Ie(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedBadAI#9535",r[t++]="GS1 DataBar Stacked must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databarstackedBadCharacter#9539",r[t++]="GS1 DataBar Stacked must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedBadCheckDigit#9552",r[t++]="Incorrect GS1 DataBar Stacked check digit provided",z());var m=W(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","stacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function Cy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ie(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedomniBadAI#9610",r[t++]="GS1 DataBar Stacked Omnidirectional must begin with (01) application identifier",z()),e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedomniBadLength#9613",r[t++]="GS1 DataBar Stacked Omnidirectional must be 13 or 14 digits",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databarstackedomniBadCharacter#9617",r[t++]="GS1 DataBar Stacked Omnidirectional must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedomniBadCheckDigit#9630",r[t++]="Incorrect GS1 DataBar Stacked Omnidirectional check digit provided",z());var m=W(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","stackedomni"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function Iy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databartruncatedBadLength#9688",r[t++]="GS1 DataBar Truncated must be 13 or 14 digits",z()),Ie(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databartruncatedBadAI#9691",r[t++]="GS1 DataBar Truncated must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databartruncatedBadCharacter#9695",r[t++]="GS1 DataBar Truncated must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databartruncatedBadCheckDigit#9708",r[t++]="Incorrect GS1 DataBar Truncated check digit provided",z());var m=W(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","truncated"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function By(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=10/72,e.linkage=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarlimitedBadLength#9771",r[t++]="GS1 DataBar Limited must be 13 or 14 digits",z()),Ie(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarlimitedBadAI#9774",r[t++]="GS1 DataBar Limited must begin with (01) application identifier",z());var n=c(e.barcode,4);(n<48||n>49)&&(r[t++]="bwipp.databarlimitedBadStartDigit#9777",r[t++]="GS1 DataBar Limited must begin with 0 or 1",z());for(var i=C(e.barcode,5,e.barcode.length-5),o=0,d=i.length;o<d;o++){var u=c(i,o);(u<48||u>57)&&(r[t++]="bwipp.databarlimitedBadCharacter#9781",r[t++]="GS1 DataBar Limited must contain only digits",z())}e.checksum=0;for(var f=0;f<=12;f+=1){if(e.i=f,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var h=r[--t];r[t++]=h*3}var p=r[--t],m=r[--t];e[r[--t]]=S(m+p)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarlimitedBadCheckDigit#9794",r[t++]="Incorrect GS1 DataBar Limited check digit provided",z());var x=W(18);R(x,0,e.barcode),g(x,17,e.checksum+48),e.barcode=x,e.linkval=s([2,0,1,5,1,3,3,5,3,1,0,9,6]),r[t++]=1/0;for(var b=C(e.barcode,4,13),y=0,w=b.length;y<w;y++)r[t++]=c(b,y)-48;if(e.binval=s(),e.linkage)for(var v=0,A=e.binval.length-1;v<=A;v+=1)e.i=v,g(e.binval,e.i,S(c(e.binval,e.i)+c(e.linkval,e.i)));e.txt=s(e.barcode.length);for(var j=0,E=e.barcode.length-1;j<=E;j+=1)e.i=j,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var Je=r[--t],rt=r[--t],ae=S(rt-Je);if(Je<S(rt-Je)){var fe=ae;ae=Je,Je=fe}r[t++]=ae,r[t++]=1,r[t++]=1;for(var Me=rt,Le=Je+1;Me>=Le;Me-=1){var Xe=r[--t],ze=r[t-1],qe=r[t-2];if(r[t++]=Xe*Me,dc(ze,qe)){var ht=r[--t],vt=r[--t];r[t++]=vt+1,r[t++]=~~(ht/vt)}}for(;;){var dt=r[t-2],wt=r[t-3];if(I1(dt,wt))break;var Bt=r[--t],jt=r[--t];r[t++]=jt+1,r[t++]=~~(Bt/jt)}var At=r[--t];r[t-1]=At;var _t=r[--t];r[t-1]=_t},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var Je=0,rt=e.el-2;Je<=rt;Je+=1){e.bar=Je,e.ew=1;var ae=e.bar;for(e.mask=e.mask|(ae<0?1>>>-ae:1<<ae);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var fe=r[--t];if(e[r[--t]]=fe,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Me=r[--t],Le=r[--t];e[r[--t]]=S(Le-Me)}if(S(e.el-e.bar)>2){e.lval=0;for(var Xe=S(e.nm-e.ew-e.el+e.bar)+2,ze=e.mw+1;Xe>=ze;Xe-=1)r[t++]=S(e.nm-Xe-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var qe=e.bar;e.mask=e.mask&~(qe<0?1>>>-qe:1<<qe)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out};for(var k=0;k<=11;k+=1){e.i=k;var N=e.binval,B=e.i;g(N,B+1,S(c(N,B+1)+c(e.binval,e.i)%2013571*10)),g(e.binval,e.i,~~(c(e.binval,e.i)/2013571))}e.d2=c(e.binval,12)%2013571;var I=e.binval;g(I,12,~~(c(I,12)/2013571)),e.d1=0,e.i=!0;for(var D=0;D<=12;D+=1){e.j=D;var T=c(e.binval,e.j);if(r[t++]=T,T==0&&e.i)t--;else{e.i=!1,r[t++]="d1",r[t++]=e.d1;var M=r[t-3],Q=r[t-1];e[r[t-2]]=S(Q+M*~~li(10,12-e.j)),t-=3}}for(e.tab267=s([183063,0,17,9,6,3,6538,28,820063,183064,13,13,5,4,875,728,1000775,820064,9,17,3,6,28,6454,1491020,1000776,15,11,5,4,2415,203,1979844,1491021,11,15,4,5,203,2408,1996938,1979845,19,7,8,1,17094,1,2013570,1996939,7,19,1,8,1,16632]),e.i=0;;){if(e.d1<=c(e.tab267,e.i)){U(C(e.tab267,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=c(e.tab267,e.i)){U(C(e.tab267,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var P=r[--t];e[r[--t]]=P,r[t++]="d2wo",r[t++]=~~(S(e.d2-e.d2gs)/e.d2te),r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,r[t++]="d2we",r[t++]=S(e.d2-e.d2gs)%e.d2te,r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,e.d1w=s(14);for(var H=0;H<=6;H+=1)e.i=H,g(e.d1w,e.i*2,c(e.d1wo,e.i)),g(e.d1w,e.i*2+1,c(e.d1we,e.i));e.d2w=s(14);for(var Y=0;Y<=6;Y+=1)e.i=Y,g(e.d2w,e.i*2,c(e.d2wo,e.i)),g(e.d2w,e.i*2+1,c(e.d2we,e.i));r[t++]=1/0,U(e.d1w),U(e.d2w),e.widths=s(),e.checkweights=s([1,3,9,27,81,65,17,51,64,14,42,37,22,66,20,60,2,6,18,54,73,41,34,13,39,28,84,74]),r[t++]=1/0;for(var de=0;de<=43;de+=1)r[t++]=de;r[t++]=45,r[t++]=52,r[t++]=57;for(var $=63;$<=66;$+=1)r[t++]=$;for(var q=73;q<=79;q+=1)r[t++]=q;r[t++]=82;for(var re=126;re<=130;re+=1)r[t++]=re;r[t++]=132;for(var ce=141;ce<=146;ce+=1)r[t++]=ce;for(var J=210;J<=217;J+=1)r[t++]=J;r[t++]=220;for(var oe=316;oe<=320;oe+=1)r[t++]=oe;r[t++]=322,r[t++]=323,r[t++]=326,r[t++]=337,e.checkseq=s(),e.checksum=0;for(var ue=0;ue<=27;ue+=1)e.i=ue,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweights,e.i));e.checksum=e.checksum%89,e.seq=c(e.checkseq,e.checksum),r[t++]="swidths",r[t++]=~~(e.seq/21),r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var he=r[--t];e[r[--t]]=he,r[t++]="bwidths",r[t++]=e.seq%21,r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var Re=r[--t];e[r[--t]]=Re,e.checkwidths=s([0,0,0,0,0,0,0,0,0,0,0,0,1,1]);for(var te=0;te<=5;te+=1)e.i=te,g(e.checkwidths,e.i*2,c(e.swidths,e.i)),g(e.checkwidths,e.i*2+1,c(e.bwidths,e.i));r[t++]=1/0,r[t++]=1,U(e.d1w),U(e.checkwidths),U(e.d2w),r[t++]=1,r[t++]=1,r[t++]=5,e.sbs=s(),r[t++]=1/0;var Be=e.sbs;r[t++]=1/0;for(var Se=0,Oe=~~((e.sbs.length+1)/2);Se<Oe;Se++)r[t++]=e.height;var Ue=s();r[t++]=1/0;for(var be=0,$e=~~((e.sbs.length+1)/2);be<$e;be++)r[t++]=0;var Fe=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Be,r[t++]="bhs",r[t++]=Ue,r[t++]="bbs",r[t++]=Fe,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Ke=_e();r[t++]=Ke,e.dontdraw||It(),e=a}function Lm(){var a=e;if(e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.height=34/72,e.format="expanded",e.segments=-1,e.linkage=!1,e.barxmult=34,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barxmult<34&&(r[t++]="bwipp.databarStackedOmniBarXmult#10075",r[t++]="GS1 DataBar Expanded Stacked must have a barxmult of at least 34",z()),Ie(e.format,"expanded")&&Ie(e.format,"expandedstacked")&&(r[t++]="bwipp.databarexpandedBadFormat#10079",r[t++]="Valid formats are expanded and expandedstacked",z()),e.segments==-1){var n=V(e.format,"expandedstacked")?4:22;e.segments=n}else(e.segments<2||e.segments>22||e.segments%2!=0)&&(r[t++]="bwipp.gs1databarexpandedBadSegments#10086",r[t++]="The number of segments must be even from 2 to 22",z());for(r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t];;){if(e.ais.length==2&&V(c(e.ais,0),"01")&&V(c(e.ais,1),"3103")&&V(C(c(e.vals,0),0,1),"9")&&De(c(e.vals,1))<=32767){r[t++]="0100",r[t++]=!1;break}if(e.ais.length==2&&V(c(e.ais,0),"01")&&V(c(e.ais,1),"3202")&&V(C(c(e.vals,0),0,1),"9")&&De(c(e.vals,1))<=9999){r[t++]="0101",r[t++]=!1;break}if(e.ais.length==2&&V(c(e.ais,0),"01")&&V(c(e.ais,1),"3203")&&V(C(c(e.vals,0),0,1),"9")&&De(c(e.vals,1))<=22767){r[t++]="0101",r[t++]=!1;break}var i=e.ais.length;if(i==2||i==3){r[t++]="ai310x",r[t++]=!1;for(var o=3100;o<=3109;o+=1){var d=r[--t];r[t++]=d||V($t(W(4),o,10),c(e.ais,1))}var u=r[--t];e[r[--t]]=u,r[t++]="ai320x",r[t++]=!1;for(var f=3200;f<=3209;f+=1){var h=r[--t];r[t++]=h||V($t(W(4),f,10),c(e.ais,1))}var p=r[--t];if(e[r[--t]]=p,e.ais.length==3){var m=s(["11","13","15","17"]);r[t++]="aibad",r[t++]=!0;for(var x=0,b=m.length;x<b;x++){var y=r[--t];r[t++]=y&&Ie(c(m,x),c(e.ais,2))}var w=r[--t];e[r[--t]]=w}else e.aibad=!1;if(V(c(e.ais,0),"01")&&(e.ai310x||e.ai320x)&&!e.aibad){if(e.ais.length==3){var v=De(C(c(e.vals,2),2,2)),A=De(C(c(e.vals,2),4,2));if(V(C(c(e.vals,0),0,1),"9")&&De(c(e.vals,1))<=99999&&v>=1&&v<=12&&A>=0&&A<=31){if(e.ai310x&&V(c(e.ais,2),"11")){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x&&V(c(e.ais,2),"11")){r[t++]="0111001",r[t++]=!1;break}if(e.ai310x&&V(c(e.ais,2),"13")){r[t++]="0111010",r[t++]=!1;break}if(e.ai320x&&V(c(e.ais,2),"13")){r[t++]="0111011",r[t++]=!1;break}if(e.ai310x&&V(c(e.ais,2),"15")){r[t++]="0111100",r[t++]=!1;break}if(e.ai320x&&V(c(e.ais,2),"15")){r[t++]="0111101",r[t++]=!1;break}if(e.ai310x&&V(c(e.ais,2),"17")){r[t++]="0111110",r[t++]=!1;break}if(e.ai320x&&V(c(e.ais,2),"17")){r[t++]="0111111",r[t++]=!1;break}}}else if(V(C(c(e.vals,0),0,1),"9")&&De(c(e.vals,1))<=99999){if(e.ai310x){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x){r[t++]="0111001",r[t++]=!1;break}}}}if(e.ais.length>=2){r[t++]="ai392x",r[t++]=!1;for(var j=3920;j<=3923;j+=1){var E=r[--t];r[t++]=E||V($t(W(4),j,10),c(e.ais,1))}var k=r[--t];if(e[r[--t]]=k,V(c(e.ais,0),"01")&&e.ai392x&&V(C(c(e.vals,0),0,1),"9")){r[t++]="01100",r[t++]=!0;break}}if(e.ais.length>=2){r[t++]="ai393x",r[t++]=!1;for(var N=3930;N<=3933;N+=1){var B=r[--t];r[t++]=B||V($t(W(4),N,10),c(e.ais,1))}var I=r[--t];if(e[r[--t]]=I,V(c(e.ais,0),"01")&&e.ai393x&&V(C(c(e.vals,0),0,1),"9")){r[t++]="01101",r[t++]=!0;break}}if(V(c(e.ais,0),"01")){r[t++]="1",r[t++]=!0;break}r[t++]="00",r[t++]=!0;break}if(e.gpfallow=r[--t],e.method=r[--t],e.conv12to40=function(){var rr=Fr(W(40),"0000000000000000000000000000000000000000"),yr=r[--t],Nr=$t(W(10),De(C(yr,0,3)),2);R(C(rr,0,10),10-Nr.length,Nr);var ea=$t(W(10),De(C(yr,3,3)),2);R(C(rr,10,10),10-ea.length,ea);var Or=$t(W(10),De(C(yr,6,3)),2);R(C(rr,20,10),10-Or.length,Or);var na=$t(W(10),De(C(yr,9,3)),2);R(C(rr,30,10),10-na.length,na),r[t++]=rr},e.conv13to44=function(){var rr=Fr(W(44),"00000000000000000000000000000000000000000000"),yr=r[--t],Nr=$t(W(4),De(C(yr,0,1)),2);R(C(rr,0,4),4-Nr.length,Nr),r[t++]=rr,r[t++]=rr,r[t++]=C(yr,1,12),e.conv12to40();var ea=r[--t];R(r[--t],4,ea)},e.tobin=function(){var rr=W(r[--t]);r[t++]=rr;for(var yr=0,Nr=rr.length-1;yr<=Nr;yr+=1){var ea=r[t-1];g(ea,yr,48)}var Or=r[t-1];r[t++]=Or;var na=r[t-3],Kr=r[t-1];r[t-3]=r[t-2],t-=2;var Za=$t(W(Kr.length),na,2);R(Kr,Kr.length-Za.length,Za)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,V(e.method,"00")&&(e.cdf=s([]),e.gpf=s([])),V(e.method,"1")){r[t++]="cdf",r[t++]=C(c(e.vals,0),0,13),e.conv13to44();var D=r[--t];e[r[--t]]=D,r[t++]=1/0;for(var T=e.cdf,M=0,Q=T.length;M<Q;M++)r[t++]=c(T,M)-48;e.cdf=s(),e.gpf=s([]),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)}if(V(e.method,"0100")){e.cdf=W(55),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var F=r[--t],P=r[--t];R(r[--t],P,F),r[t++]=e.cdf,r[t++]=40,r[t++]=De(c(e.vals,1)),r[t++]=15,e.tobin();var L=r[--t],_=r[--t];R(r[--t],_,L),r[t++]=1/0;for(var H=e.cdf,Y=0,de=H.length;Y<de;Y++)r[t++]=c(H,Y)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(V(e.method,"0101")){e.cdf=W(55),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var $=r[--t],q=r[--t];R(r[--t],q,$),V(c(e.ais,1),"3202")?(r[t++]=De(c(e.vals,1)),r[t++]=15,e.tobin()):(r[t++]=De(c(e.vals,1))+1e4,r[t++]=15,e.tobin()),R(e.cdf,40,r[--t]),r[t++]=1/0;for(var re=e.cdf,ce=0,J=re.length;ce<J;ce++)r[t++]=c(re,ce)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(e.method.length==7){e.cdf=W(76),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var oe=r[--t],ue=r[--t];R(r[--t],ue,oe);var he=W(6);if(R(he,0,C(c(e.ais,1),3,1)),R(he,1,C(c(e.vals,1),1,5)),r[t++]=De(he),r[t++]=20,e.tobin(),R(e.cdf,40,r[--t]),e.ais.length==3){var Re=c(e.vals,2);r[t++]=De(C(Re,0,2))*384+((De(C(Re,2,2))-1)*32+De(C(Re,4,2)))}else r[t++]=38400;r[t++]=16,e.tobin(),R(e.cdf,60,r[--t]),r[t++]=1/0;for(var te=e.cdf,Be=0,Se=te.length;Be<Se;Be++)r[t++]=c(te,Be)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(V(e.method,"01100")){e.cdf=W(42),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var Oe=r[--t],Ue=r[--t];R(r[--t],Ue,Oe),r[t++]=e.cdf,r[t++]=40,r[t++]=De(C(c(e.ais,1),3,1)),r[t++]=2,e.tobin();var be=r[--t],$e=r[--t];R(r[--t],$e,be),r[t++]=1/0;for(var Fe=e.cdf,Ke=0,Je=Fe.length;Ke<Je;Ke++)r[t++]=c(Fe,Ke)-48;e.cdf=s(),r[t++]=1/0,ve(c(e.vals,1)),e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=C(e.ais,2,e.ais.length-2),e.vals=C(e.vals,2,e.vals.length-2),e.fncs=C(e.fncs,2,e.fncs.length-2)}if(V(e.method,"01101")){e.cdf=W(52),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var rt=r[--t],ae=r[--t];R(r[--t],ae,rt),r[t++]=e.cdf,r[t++]=40,r[t++]=De(C(c(e.ais,1),3,1)),r[t++]=2,e.tobin();var fe=r[--t],Me=r[--t];R(r[--t],Me,fe),r[t++]=e.cdf,r[t++]=42,r[t++]=De(C(c(e.vals,1),0,3)),r[t++]=10,e.tobin();var Le=r[--t],Xe=r[--t];R(r[--t],Xe,Le),r[t++]=1/0;for(var ze=e.cdf,qe=0,ht=ze.length;qe<ht;qe++)r[t++]=c(ze,qe)-48;e.cdf=s(),r[t++]=1/0;for(var vt=c(e.vals,1),dt=C(vt,3,vt.length-3),wt=0,Bt=dt.length;wt<Bt;wt++)r[t++]=c(dt,wt);e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=C(e.ais,2,e.ais.length-2),e.vals=C(e.vals,2,e.vals.length-2),e.fncs=C(e.fncs,2,e.fncs.length-2)}e.gpfallow?e.vlf=s(2):e.vlf=s([]),r[t++]=1/0;for(var jt=0;jt<=119;jt+=1){var At=Fr(W(2),"00"),_t=$t(W(2),jt,11);if(R(At,2-_t.length,_t),r[t++]=jt,r[t++]=At,c(At,0)==65){var Mt=r[t-1];g(Mt,0,94)}var Lt=r[t-1];if(c(Lt,1)==65){var Dt=r[t-1];g(Dt,1,94)}var kt=r[--t],O=Fr(W(7),"0000000"),K=$t(W(7),r[--t]+8,2);R(O,7-K.length,K),r[t++]=kt,r[t++]=O}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=_e(),r[t++]=1/0;for(var G=48;G<=57;G+=1)r[t++]=G,r[t++]=G-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var se=65;se<=90;se+=1)r[t++]=se,r[t++]=se-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var le=44;le<=47;le+=1)r[t++]=le,r[t++]=le+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=_e(),r[t++]=1/0;for(var ge=48;ge<=57;ge+=1)r[t++]=ge,r[t++]=ge-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var ee=65;ee<=90;ee+=1)r[t++]=ee,r[t++]=ee-1,r[t++]=7,e.tobin();for(var ke=97;ke<=122;ke+=1)r[t++]=ke,r[t++]=ke-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var X=37;X<=47;X+=1)r[t++]=X,r[t++]=X+197,r[t++]=8,e.tobin();for(var xe=58;xe<=63;xe+=1)r[t++]=xe,r[t++]=xe+187,r[t++]=8,e.tobin();r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=_e();for(var me=0,ye=e.ais.length-1;me<=ye;me+=1){e.i=me,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var ne=s(e.gpf.length+e.ai.length+e.val.length);R(ne,0,e.gpf),r[t++]=ne,r[t++]=ne,r[t++]=e.gpf.length;var we=1/0,Ee=e.ai;r[t++]=we,ve(Ee);var pe=s(),Ne=r[--t];R(r[--t],Ne,pe);var Ae=r[t-1];r[t++]=Ae,r[t++]=e.gpf.length+e.ai.length;var Ce=1/0,Qe=e.val;r[t++]=Ce,ve(Qe);var Pe=s(),We=r[--t];if(R(r[--t],We,Pe),e.gpf=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var st=s(e.gpf.length+1);R(st,0,e.gpf),g(st,e.gpf.length,e.fnc1),e.gpf=st}}e.rembits=function(){var rr=r[--t],yr=48,Nr=~~xr(rr/12)*12;if(~~xr(rr/12)*12<48){var ea=yr;yr=Nr,Nr=ea}var Or=~~(Nr/12);if(r[t++]=rr,r[t++]=Nr,r[t++]=Or,Or%e.segments==1){var na=r[--t];r[t-1]=(na+1)*12}else t--;var Kr=r[--t],Za=r[--t];r[t++]=S(Kr-Za)},e.encode=function(){var rr=r[t-1];if(Ie(rr,"raw")){var yr=r[--t],Nr=c(yr,r[--t]);r[t++]=Nr}else t--;var ea=r[t-1];ea.length+e.j>=252&&(t--,r[t++]="bwipp.gs1databarexpandedTooLong#10374",r[t++]="Maximum length exceeded",z()),r[t++]=1/0;var Or=r[--t],na=r[--t];r[t++]=Or,ve(na,function(){var Za=r[--t];r[t++]=Za-48});var Kr=s();R(e.gpfenc,e.j,Kr),e.j=Kr.length+e.j},r[t++]=1/0;for(var at=0,je=e.gpf.length;at<je;at++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var Ge=0,He=e.gpf.length;Ge<He;Ge++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var Ze=0,ft=e.gpf.length;Ze<ft;Ze++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var pt=e.gpf.length-1;pt>=0;pt-=1){e.i=pt;var ut=Fr(W(2),"00"),xt=c(e.gpf,e.i);r[t++]=c(e.gpf,e.i),r[t++]=ut,r[t++]=ut,r[t++]=0,r[t++]=xt,xt==e.fnc1&&(r[t-1]=94);var nt=r[--t],Tt=r[--t];if(g(r[--t],Tt,nt),e.i<e.gpf.length-1){var et=r[t-1],Qt=c(e.gpf,e.i+1);r[t++]=et,r[t++]=1,r[t++]=Qt,Qt==e.fnc1&&(r[t-1]=94);var Ht=r[--t],Ot=r[--t];g(r[--t],Ot,Ht)}var sr=c(e.numeric,r[--t])!==void 0;sr?g(e.numericruns,e.i,c(e.numericruns,e.i+2)+2):g(e.numericruns,e.i,0);var Sr=r[t-1],nr=c(e.alphanumeric,Sr)!==void 0;nr?g(e.alphanumericruns,e.i,c(e.alphanumericruns,e.i+1)+1):g(e.alphanumericruns,e.i,0);var gr=r[--t],ar=c(e.iso646,gr)!==void 0,Ir=c(e.alphanumeric,gr)!==void 0;ar&&!Ir?g(e.nextiso646only,e.i,0):g(e.nextiso646only,e.i,c(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(252),e.i=0,e.j=0,e.mode="numeric";e.i!=e.gpf.length;)for(;;){if(V(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var Zt=W(2),dr=c(e.gpf,e.i);r[t++]=Zt,r[t++]=Zt,r[t++]=0,r[t++]=dr,dr==e.fnc1&&(r[t-1]=94);var Kt=r[--t],Jt=r[--t];g(r[--t],Jt,Kt);var ur=r[t-1],Tr=c(e.gpf,e.i+1);r[t++]=ur,r[t++]=1,r[t++]=Tr,Tr==e.fnc1&&(r[t-1]=94);var Pr=r[--t],ua=r[--t];g(r[--t],ua,Pr);var Et=r[t-1],Gt=c(e.numeric,Et)!==void 0;if(Gt){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var tr=c(e.gpf,e.i);if(tr<48||tr>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=13+e.method.length+e.vlf.length+e.cdf.length+e.j,e.rembits();var br=r[--t];if(e[r[--t]]=br,e.rem>=4&&e.rem<=6){var ir=C(Fr(W(6),"000000"),0,e.rem),Br=$t(W(4),c(e.gpf,e.i)-47,2);R(ir,4-Br.length,Br),r[t++]=ir,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var or=W(2);g(or,0,c(e.gpf,e.i)),g(or,1,94),r[t++]=or,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(V(e.mode,"alphanumeric")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var Ut=c(e.gpf,e.i),wr=c(e.iso646,Ut)!==void 0,ta=c(e.alphanumeric,Ut)!==void 0;if(wr&&!ta){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(c(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var fa=c(e.numericruns,e.i);if(fa>=4&&S(fa+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(V(e.mode,"iso646")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(c(e.numericruns,e.i)>=4&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(c(e.alphanumericruns,e.i)>=5&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=C(e.gpfenc,0,e.j);var ya=13+e.method.length+e.vlf.length+e.cdf.length+e.gpf.length;r[t++]=ya,r[t++]=ya,e.rembits();var Lr=r[--t];if(e.pad=s(Lr),r[t++]=Lr,e.vlf.length!=0){var Ea=r[--t],ga=~~(S(r[--t]+Ea)/12);g(e.vlf,0,ga%2);var Ra=ga<=14?0:1;g(e.vlf,1,Ra)}else t-=2;if(e.pad.length>0){for(var la=0,Aa=e.pad.length-1;la<=Aa;la+=5){e.i=la;var Ca=e.pad,ka=e.i,La=s([0,0,1,0,0]),Qa=e.pad,Va=e.i,ps=5,Ia=Qa.length-Va;if(Qa.length-Va>5){var Bs=ps;ps=Ia,Ia=Bs}R(Ca,ka,C(La,0,Ia))}V(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.pad),e.pad=C(s(),0,e.pad.length))}r[t++]=1/0;var Ha=e.linkage?1:0;r[t++]=Ha,ve(e.method,function(){var rr=r[--t];r[t++]=rr-48}),U(e.vlf),U(e.cdf),U(e.gpf),U(e.pad),e.binval=s(),e.datalen=~~(e.binval.length/12),e.ncr=function(){var rr=r[--t],yr=r[--t],Nr=S(yr-rr);if(rr<S(yr-rr)){var ea=Nr;Nr=rr,rr=ea}r[t++]=Nr,r[t++]=1,r[t++]=1;for(var Or=yr,na=rr+1;Or>=na;Or-=1){var Kr=r[--t],Za=r[t-1],es=r[t-2];if(r[t++]=Kr*Or,dc(Za,es)){var Hs=r[--t],bn=r[--t];r[t++]=bn+1,r[t++]=~~(Hs/bn)}}for(;;){var Rn=r[t-2],zn=r[t-3];if(I1(Rn,zn))break;var Ln=r[--t],wn=r[--t];r[t++]=wn+1,r[t++]=~~(Ln/wn)}var fi=r[--t];r[t-1]=fi;var Qn=r[--t];r[t-1]=Qn},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var rr=0,yr=e.el-2;rr<=yr;rr+=1){e.bar=rr,e.ew=1;var Nr=e.bar;for(e.mask=e.mask|(Nr<0?1>>>-Nr:1<<Nr);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var ea=r[--t];if(e[r[--t]]=ea,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Or=r[--t],na=r[--t];e[r[--t]]=S(na-Or)}if(S(e.el-e.bar)>2){e.lval=0;for(var Kr=S(e.nm-e.ew-e.el+e.bar)+2,Za=e.mw+1;Kr>=Za;Kr-=1)r[t++]=S(e.nm-Kr-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var es=e.bar;e.mask=e.mask&~(es<0?1>>>-es:1<<es)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out},e.tab174=s([347,0,12,5,7,2,87,4,1387,348,10,7,5,4,52,20,2947,1388,8,9,4,5,30,52,3987,2948,6,11,3,6,10,104,4191,3988,4,13,1,8,1,204]),e.dxw=s(e.datalen);for(var zs=0,Ma=e.datalen-1;zs<=Ma;zs+=1){e.x=zs,e.d=C(e.binval,e.x*12,12),r[t++]="d",r[t++]=0;for(var ms=0;ms<=11;ms+=1){e.j=ms;var Ds=r[--t];r[t++]=S(Ds+~~li(2,11-e.j)*c(e.d,e.j))}var Ts=r[--t];for(e[r[--t]]=Ts,e.j=0;;){if(dc(e.d,c(e.tab174,e.j))){U(C(e.tab174,e.j+1,7)),e.dte=r[--t],e.dto=r[--t],e.dmwe=r[--t],e.dmwo=r[--t],e.dele=r[--t],e.delo=r[--t],e.dgs=r[--t];break}e.j=e.j+8}r[t++]="dwo",r[t++]=~~(S(e.d-e.dgs)/e.dte),r[t++]=e.delo,r[t++]=e.dmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var Ka=r[--t];e[r[--t]]=Ka,r[t++]="dwe",r[t++]=S(e.d-e.dgs)%e.dte,r[t++]=e.dele,r[t++]=e.dmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Ls=r[--t];if(e[r[--t]]=Ls,e.dw=s(8),e.x%2==0)for(var Wa=0;Wa<=3;Wa+=1)e.j=Wa,g(e.dw,7-e.j*2,c(e.dwo,e.j)),g(e.dw,6-e.j*2,c(e.dwe,e.j));else for(var xs=0;xs<=3;xs+=1)e.j=xs,g(e.dw,e.j*2,c(e.dwo,e.j)),g(e.dw,e.j*2+1,c(e.dwe,e.j));g(e.dxw,e.x,e.dw)}e.finderwidths=s([1,8,4,1,1,1,1,4,8,1,3,6,4,1,1,1,1,4,6,3,3,4,6,1,1,1,1,6,4,3,3,2,8,1,1,1,1,8,2,3,2,6,5,1,1,1,1,5,6,2,2,2,9,1,1,1,1,9,2,2]),e.finderseq=s([s([0,1]),s([0,3,2]),s([0,5,2,7]),s([0,9,2,7,4]),s([0,9,2,7,6,11]),s([0,9,2,7,8,11,10]),s([0,1,2,3,4,5,6,7]),s([0,1,2,3,4,5,6,9,8]),s([0,1,2,3,4,5,6,9,10,11]),s([0,1,2,3,4,7,6,9,8,11,10])]),e.seq=c(e.finderseq,~~((e.datalen-2)/2)),e.fxw=s(e.seq.length);for(var Fa=0,vn=e.seq.length-1;Fa<=vn;Fa+=1)e.x=Fa,g(e.fxw,e.x,C(e.finderwidths,c(e.seq,e.x)*5,5));e.checkweights=s([-1,-1,-1,-1,-1,-1,-1,-1,77,96,32,81,27,9,3,1,20,60,180,118,143,7,21,63,205,209,140,117,39,13,145,189,193,157,49,147,19,57,171,91,132,44,85,169,197,136,186,62,185,133,188,142,4,12,36,108,50,87,29,80,97,173,128,113,150,28,84,41,123,158,52,156,166,196,206,139,187,203,138,46,76,17,51,153,37,111,122,155,146,119,110,107,106,176,129,43,16,48,144,10,30,90,59,177,164,125,112,178,200,137,116,109,70,210,208,202,184,130,179,115,190,204,68,93,31,151,191,134,148,22,66,198,172,94,71,2,40,154,192,64,162,54,18,6,120,149,25,75,14,42,126,167,175,199,207,69,23,78,26,79,103,98,83,38,114,131,182,124,159,53,88,170,127,183,61,161,55,165,73,8,24,72,5,15,89,100,174,58,160,194,135,45]),r[t++]=1/0,ve(e.seq,function(){U(C(e.checkweights,r[--t]*16,16))});var $a=s();e.checkweightseq=C($a,8,$a.length-8),r[t++]=1/0;for(var In=e.dxw,Ba=0,Js=In.length;Ba<Js;Ba++)U(c(In,Ba));e.widths=s(),e.checksum=0;for(var Pa=0,rn=e.widths.length-1;Pa<=rn;Pa+=1)e.i=Pa,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweightseq,e.i));for(e.checksum=S(e.checksum%211+(e.datalen-3)*211),e.i=0;;){if(e.checksum<=c(e.tab174,e.i)){U(C(e.tab174,e.i+1,7)),e.cte=r[--t],e.cto=r[--t],e.cmwe=r[--t],e.cmwo=r[--t],e.cele=r[--t],e.celo=r[--t],e.cgs=r[--t];break}e.i=e.i+8}r[t++]="cwo",r[t++]=~~(S(e.checksum-e.cgs)/e.cte),r[t++]=e.celo,r[t++]=e.cmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var is=r[--t];e[r[--t]]=is,r[t++]="cwe",r[t++]=S(e.checksum-e.cgs)%e.cte,r[t++]=e.cele,r[t++]=e.cmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Xt=r[--t];e[r[--t]]=Xt,e.cw=s(8);for(var Xr=0;Xr<=3;Xr+=1)e.i=Xr,g(e.cw,e.i*2,c(e.cwo,e.i)),g(e.cw,e.i*2+1,c(e.cwe,e.i));var ja=s(22);g(ja,0,e.cw),R(ja,1,e.dxw),e.dxw=C(ja,0,e.datalen+1),e.datalen=e.dxw.length,e.rows=s(~~xr(e.datalen/e.segments)),e.numrows=e.rows.length;for(var _a=0,vs=e.numrows-1;_a<=vs;_a+=1){e.r=_a,r[t++]=1/0,e.segments%4!=0&&e.r%2==1&&(r[t++]=0),r[t++]=1,r[t++]=1;for(var Qr=0,os=e.segments-1;Qr<=os;Qr+=1)e.pos=Qr+e.r*e.segments,e.pos<e.datalen&&(U(c(e.dxw,e.pos)),e.pos%2==0&&U(c(e.fxw,~~(e.pos/2))));var gs=xa()+2;r[t++]=1,r[t++]=1,Vt(s(gs)),g(e.rows,e.r,r[--t]),t--}if(Ie(e.format,"expandedstacked")){var Oa=c(e.rows,0);e.sbs=C(Oa,1,Oa.length-1),r[t++]=1/0,r[t++]=1;for(var Bn=0,Da=e.datalen-1;Bn<=Da;Bn+=1)e.i=Bn,U(c(e.dxw,e.i)),e.i%2==0&&U(c(e.fxw,~~(e.i/2)));r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var ui=e.sbs;r[t++]=1/0;for(var Qs=0,Ta=~~((e.sbs.length+1)/2);Qs<Ta;Qs++)r[t++]=e.height;var Dn=s();r[t++]=1/0;for(var Ja=0,Tn=~~((e.sbs.length+1)/2);Ja<Tn;Ja++)r[t++]=0;var bs=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ui,r[t++]="bhs",r[t++]=Dn,r[t++]="bbs",r[t++]=bs,r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=0,r[t++]="opt",r[t++]=e.options;var an=_e();r[t++]=an,e.dontdraw||It()}else{e.seps=s(e.numrows);for(var sn=0,Xn=e.numrows-1;sn<=Xn;sn+=1){e.r=sn,e.row=c(e.rows,e.r),r[t++]=1/0;for(var yt=0,Yr=e.row.length-1;yt<=Yr;yt+=2){e.i=yt;for(var ra=0,Ua=c(e.row,e.i);ra<Ua;ra++)r[t++]=0;if(e.i<e.row.length-1)for(var ca=0,Xa=c(e.row,e.i+1);ca<Xa;ca++)r[t++]=1}Vt(s(xa())),e.row=r[--t],r[t-1]=1/0,ve(e.row,function(){var rr=r[--t];r[t++]=1-rr}),e.sep=s(),r[t++]=1/0;for(var ws=19,gn=e.row.length-13;ws<=gn;ws+=98)r[t++]=ws;for(var lt=68,Nt=e.row.length-13;lt<=Nt;lt+=98)r[t++]=lt;e.finderpos=s();for(var hr=e.finderpos,lr=0,fr=hr.length;lr<fr;lr++)for(var Rr=c(hr,lr),cr=Rr,aa=Rr+14;cr<=aa;cr+=1){if(e.i=cr,c(e.row,e.i)==0)if(c(e.row,e.i-1)==1)r[t++]=1;else{var Hr=c(e.sep,e.i-1)==0?1:0;r[t++]=Hr}else r[t++]=0;g(e.sep,e.i,r[--t])}if(R(e.sep,0,s([0,0,0,0])),R(e.sep,e.row.length-4,s([0,0,0,0])),e.segments%4==0&&e.r%2==1)if(c(e.rows,e.r).length!=c(e.rows,0).length&&e.finderpos.length%2==1)r[t++]=1/0,r[t++]=0,U(e.row),e.row=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s();else{for(var $r=e.row.length-1;$r>=0;$r-=1)r[t++]=c(e.row,$r);Vt(e.row),t--;for(var qr=e.sep.length-1;qr>=0;qr-=1)r[t++]=c(e.sep,qr);Vt(e.sep),t--}g(e.rows,e.r,e.row),g(e.seps,e.r,e.sep)}e.pixx=c(e.rows,0).length,r[t++]=1/0;for(var Vr=0,ha=e.pixx;Vr<ha;Vr++)r[t++]=0;var Zr=s();R(Zr,0,c(e.rows,e.numrows-1)),g(e.rows,e.numrows-1,Zr),r[t++]=1/0;for(var Gr=0,sa=e.pixx;Gr<sa;Gr++)r[t++]=0;var Mr=s();R(Mr,0,c(e.seps,e.numrows-1)),g(e.seps,e.numrows-1,Mr),r[t++]=1/0;for(var _r=0,za=~~(e.pixx/2)+1;_r<za;_r++)r[t++]=0,r[t++]=1;e.sep=C(s(),0,e.pixx),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.pixx-4,s([0,0,0,0])),r[t++]=1/0;for(var ba=0,ls=e.numrows-1;ba<=ls;ba+=1){e.r=ba,e.r!=0&&U(c(e.seps,e.r));for(var Ss=0,nn=e.barxmult;Ss<nn;Ss++)U(c(e.rows,e.r));e.r!=e.numrows-1&&(U(c(e.seps,e.r)),U(e.sep))}e.pixs=s();var Rs=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",~~(e.pixs.length/e.pixx)],["height",~~(e.pixs.length/e.pixx)/72],["width",e.pixx/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Rs,e.dontdraw||mt()}e=a}function Qm(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","expandedstacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Lm();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function PT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.coupontextfont="OCR-B",e.coupontextsize=9,e.coupontextxoffset=null,e.coupontextyoffset=null,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),t--,e.vals=r[--t],e.ais=r[--t],e.ais.length!=1&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11001",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),Ie(c(e.ais,0),"8110")&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11004",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),e.val=c(e.vals,0),e.vli=c(e.val,0)-48,(e.vli<0||e.vli>6)&&(r[t++]="bwipp.gs1northamericancouponBadVLI#11011",r[t++]="The AI (8110) data should start with a Company Prefix length indicator in the range 0 to 6",z()),e.gcp=C(e.val,1,e.vli+6),e.cod=C(e.val,e.vli+7,6),e.coupontext=W(e.gcp.length+7),R(e.coupontext,0,e.gcp),R(e.coupontext,e.gcp.length,"-"),R(e.coupontext,e.gcp.length+1,e.cod),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Qm();var n=r[--t];if(e[r[--t]]=n,e.includetext){e.coupontextxoffset==null&&(e.coupontextxoffset=0),e.coupontextyoffset==null&&(e.coupontextyoffset=c(e.args,"height")*72+3);var i=c(e.args,"txt")!==void 0;i?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function _T(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=8*2.835/72,e.nwidth=.5*2.835,e.wwidth=1.5*2.835,e.swidth=1*2.835,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>6)&&(r[t++]="bwipp.pharmacodeBadLength#11091",r[t++]="Pharmacode must be 1 to 6 digits",z()),ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.pharmacodeBadCharacter#11095",r[t++]="Pharmacode must contain only digits",z())});var n=De(e.barcode);(n<3||n>131070)&&(r[t++]="bwipp.pharmacodeBadValue#11099",r[t++]="Pharmacode value must be between 3 and 131070",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.barcode=$t(W(17),De(e.barcode)+1,2),e.barcode=C(e.barcode,1,e.barcode.length-1),e.barlen=e.barcode.length,e.sbs=s(e.barlen*2);for(var d=0,u=e.barlen-1;d<=u;d+=1)e.i=d,e.enc=C(e.barcode,e.i,1),V(e.enc,"0")?g(e.sbs,e.i*2,e.nwidth):g(e.sbs,e.i*2,e.wwidth),g(e.sbs,e.i*2+1,e.swidth);r[t++]=1/0;var f=e.sbs;r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var w=_e();r[t++]=w,e.dontdraw||It(),e=a}function Dy(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.height=4,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>8)&&(r[t++]="bwipp.pharmacode2BadLength#11180",r[t++]="Two-track Pharmacode must be 1 to 6 digits",z()),ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.pharmacode2badCharacter#11184",r[t++]="Two-track Pharmacode must contain only digits",z())});var n=De(e.barcode);(n<4||n>64570080)&&(r[t++]="bwipp.pharmacode2badValue#11188",r[t++]="Two-track Pharmacode value must be between 4 and 64570080",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));for(e.encstr=W(16),e.sbs=s(32),e.bar=1/25.4*e.height,e.spc=1/25.4*72,e.i=15,e.val=De(e.barcode);e.val!=0;){var d=e.val%3;e.val=~~(S(e.val-c(s([3,1,2]),d))/3),g(e.encstr,e.i,c(s([2,0,1]),d)),e.i=e.i-1}e.encstr=C(e.encstr,e.i+1,15-e.i),e.bhs=s(e.encstr.length),e.bbs=s(e.encstr.length);for(var u=0,f=e.encstr.length-1;u<=f;u+=1){e.i=u;var h=c(e.encstr,e.i);g(e.bhs,e.i,e.bar*c(s([1,1,2]),h)),g(e.bbs,e.i,c(s([0,e.bar,0]),h))}r[t++]=1/0;var p=e.bhs,m=e.bbs;r[t++]=1/0;for(var x=0,b=e.encstr.length*2;x<b;x++)r[t++]=e.spc;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=p,r[t++]="bbs",r[t++]=m,r[t++]="sbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="textyoffset",r[t++]=4,r[t++]="opt",r[t++]=e.options;var w=_e();r[t++]=w,e.dontdraw||It(),e=a}function Ac(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.version="industrial",r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code2of5emptyData#11287",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var F=r[--t];(F<48||F>57)&&(r[t++]="bwipp.code2of5badCharacter#11295",r[t++]="Code 25 must contain only digits",z())}),r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){if(e.i=o,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,S(e.barlen-e.i)%2!=0){var u=r[--t];r[t++]=u*3}var f=r[--t],h=r[--t];e[r[--t]]=S(h+f)}e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=e.checksum+48&&(r[t++]="bwipp.code2of5badCheckDigit#11309",r[t++]="Incorrect Code 25 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0);var p=new Map([["industrial",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","313111","31113"])],["iata",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","1111","311"])],["matrix",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","311111","31111"])],["coop",s(["331111","111331","113131","113311","131131","131311","133111","311131","311311","313111","3131","133"])],["datalogic",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","1111","311"])]]);e.versions=p;var m=c(e.versions,e.version)!==void 0;m||(r[t++]="bwipp.code2of5badVersion#11344",r[t++]="Unrecognised Code 25 version",z()),e.encs=c(e.versions,e.version),e.cs=c(e.encs,0).length,r[t++]="cw",r[t++]=0,ve(c(e.encs,0),function(){var F=r[--t],P=r[--t];r[t++]=S(P+(F-48))});var x=r[--t];e[r[--t]]=x,e.ss=c(e.encs,10).length,r[t++]="sw",r[t++]=0,ve(c(e.encs,10),function(){var F=r[--t],P=r[--t];r[t++]=S(P+(F-48))});var b=r[--t];if(e[r[--t]]=b,e.es=c(e.encs,11).length,e.barchars="0123456789",r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var y=r[--t];r[t++]=y+1}var w=W(S(r[--t]*e.cs+e.ss+e.es));if(e[r[--t]]=w,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var v=r[--t];r[t++]=v+1}var A=s(r[--t]);e[r[--t]]=A,R(e.sbs,0,c(e.encs,10));for(var j=0,E=e.barlen-1;j<=E;j+=1)e.i=j,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*e.cs+e.ss,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),S(e.i*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]));e.includecheck?(R(e.sbs,S(e.barlen*e.cs+e.ss),c(e.encs,e.checksum)),R(e.sbs,S(e.barlen*e.cs+e.cs+e.ss),c(e.encs,11)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]))):R(e.sbs,S(e.barlen*e.cs+e.ss),c(e.encs,11)),r[t++]=1/0,r[t++]=1/0,ve(e.sbs,function(){var F=r[--t];r[t++]=F-48});var k=s();r[t++]=1/0;for(var N=0,B=~~((e.sbs.length+1)/2);N<B;N++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,T=~~((e.sbs.length+1)/2);D<T;D++)r[t++]=0;var M=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=M,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Q=_e();r[t++]=Q,e.dontdraw||It(),e=a}function OT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","industrial"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function UT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","iata"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function zT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","matrix"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function LT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","coop"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function QT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","datalogic"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function HT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code11emptyData#11692",r[t++]="The data must not be empty",z()),e.encs=s(["111131","311131","131131","331111","113131","313111","133111","111331","311311","311111","113111","113311"]),e.barchars="0123456789-",e.charvals=new Map;for(var n=0;n<=10;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.code11badCharacter#11714",r[t++]="Code 11 must contain only digits and dashes",z())}if(e.barlen=e.barcode.length,e.validatecheck){e.barlen==11&&(r[t++]="bwipp.code11badLength#11721",r[t++]="Code 11 cannot be 11 characters using check digits",z());var u=e.barlen<=10?1:2;e.barlen=e.barlen-u}if(r[t++]="numchecks",e.includecheck||e.validatecheck){var f=e.barlen>=10?2:1;r[t++]=f}else r[t++]=0;var h=r[--t];e[r[--t]]=h,e.checksum1=0,e.checksum2=0;for(var p=0,m=e.barlen-1;p<=m;p+=1)e.i=p,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.checksum1=S(e.checksum1+((e.barlen-e.i-1)%10+1)*e.indx),e.checksum2=S(e.checksum2+((e.barlen-e.i)%9+1)*e.indx);if(e.checksum1=e.checksum1%11,e.checksum2=S(e.checksum2+e.checksum1)%11,e.validatecheck){if(e.numchecks==1){var x=e.checksum1;c(e.barcode,e.barlen)!=c(e.barchars,x)&&(r[t++]="bwipp.code11badCheckDigit#11739",r[t++]="Incorrect Code 11 check digit provided",z())}else(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum1)||c(e.barcode,e.barlen+1)!=c(e.barchars,e.checksum2))&&(r[t++]="bwipp.code11badCheckDigits#11744",r[t++]="Incorrect Code 11 check digits provided",z());e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0}e.sbs=W(S(e.barlen+e.numchecks)*6+12),e.txt=s(S(e.barlen+e.numchecks)),R(e.sbs,0,c(e.encs,11)),e.xpos=8;for(var b=0,y=e.barlen-1;b<=y;b+=1){e.i=b,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.enc=c(e.encs,e.indx),R(e.sbs,e.i*6+6,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var w=0;w<=5;w+=1)e.xpos=S(c(e.enc,w)-48+e.xpos)}if(e.includecheck)if(e.barlen>=10){if(R(e.sbs,e.barlen*6+6,c(e.encs,e.checksum1)),R(e.sbs,e.barlen*6+12,c(e.encs,e.checksum2)),e.includecheckintext){g(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,e.checksum1);for(var v=0;v<=5;v+=1)e.xpos=S(c(e.enc,v)-48+e.xpos);g(e.txt,e.barlen+1,s([C(e.barchars,e.checksum2,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else g(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*6+18,c(e.encs,11))}else R(e.sbs,e.barlen*6+6,c(e.encs,e.checksum1)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),R(e.sbs,e.barlen*6+12,c(e.encs,11));else R(e.sbs,e.barlen*6+6,c(e.encs,11));r[t++]=1/0,r[t++]=1/0;for(var A=e.sbs,j=0,E=A.length;j<E;j++)r[t++]=c(A,j)-48;var k=s();r[t++]=1/0;for(var N=0,B=~~((e.sbs.length+1)/2);N<B;N++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,T=~~((e.sbs.length+1)/2);D<T;D++)r[t++]=0;var M=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=M,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Q=_e();r[t++]=Q,e.dontdraw||It(),e=a}function $T(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.includestartstop=!1,e.semi=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.bc412emptyData#11864",r[t++]="The data must not be empty",z()),e.semi&&(e.includestartstop=!0),e.barchars="0R9GLVHA8EZ4NTS1J2Q6C7DYKBUIX3FWP5M",e.charvals=new Map;for(var n=0;n<=34;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.bc412badCharacter#11884",r[t++]="BC412 must contain only digits and capital letters except O",z())}if(e.semi){e.validatecheck?(e.barcode.length<8||e.barcode.length>19)&&(r[t++]="bwipp.bc412semivalidateBadLength#11892",r[t++]="BC412 semi with check digit must be 8 to 19 characters long",z()):(e.barcode.length<7||e.barcode.length>18)&&(r[t++]="bwipp.bc412semiBadLength#11896",r[t++]="BC412 semi must be 7 to 18 characters long",z()),e.barlen=e.barcode.length,e.validatecheck||(e.barlen=e.barlen+1,e.sbarcode=W(e.barlen),g(e.sbarcode,0,c(e.barcode,0)),g(e.sbarcode,1,48),R(e.sbarcode,2,C(e.barcode,1,e.barlen-2)),e.barcode=e.sbarcode),e.sumodd=0,e.sumeven=0;for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,r[t++]=c(e.charvals,C(e.barcode,e.i,1)),e.i%2==0?e.sumodd=S(r[--t]+e.sumodd):e.sumeven=S(r[--t]+e.sumeven);e.checksum=S(e.sumodd%35+e.sumeven%35*2)%35,e.validatecheck?e.checksum!=0&&(r[t++]="bwipp.bc412semiBadCheckDigit#11922",r[t++]="Incorrect BC412 semi check digit provided",z()):(e.checksum=e.checksum*17%35,g(e.barcode,1,c(e.barchars,e.checksum)))}else{if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var h=r[--t];r[t++]=h-1}var p=r[--t];e[r[--t]]=p,e.checksum=0;for(var m=0,x=e.barlen-1;m<=x;m+=1)e.checksum=S(c(e.charvals,C(e.barcode,m,1))+e.checksum);e.checksum=e.checksum%35,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.bc412badCheckDigit#11939",r[t++]="Incorrect BC412 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0)}e.encs=s(["11111115","13111212","11131113","12111213","12121311","13131111","12111312","11131212","11121411","11151111","15111111","11111511","12131211","13121112","13111311","11111214","12121113","11111313","13111113","11121213","11141112","11121312","11141211","14121111","12121212","11131311","13121211","12111411","14111211","11111412","12111114","14111112","12141111","11121114","12131112","12","111"]),e.sbs=W((e.barlen+1)*8+5),e.includecheck?e.txt=s(e.barlen+1):e.txt=s(e.barlen),e.includestartstop?(R(e.sbs,0,c(e.encs,35)),e.pos=2,e.txtpos=3):(e.pos=0,e.txtpos=0);for(var b=0,y=e.barlen-1;b<=y;b+=1)e.i=b,e.indx=c(e.charvals,C(e.barcode,e.i,1)),R(e.sbs,e.pos,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8;e.includecheck&&(R(e.sbs,e.pos,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s(["",e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8),e.includestartstop&&(R(e.sbs,e.pos,c(e.encs,36)),e.pos=e.pos+3),e.sbs=C(e.sbs,0,e.pos),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,v=0,A=w.length;v<A;v++)r[t++]=c(w,v)-48;var j=s();r[t++]=1/0;for(var E=0,k=~~((e.sbs.length+1)/2);E<k;E++)r[t++]=e.height;var N=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var T=_e();r[t++]=T,e.dontdraw||It(),e=a}function qT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.altstartstop=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<2||e.barcode.length<3&&e.validatecheck)&&(r[t++]="bwipp.rationalizedCodabarBadLength#12067",r[t++]="Codabar must be at least 2 characters in length excluding any check digit",z()),e.encs=s(["11111331","11113311","11131131","33111111","11311311","31111311","13111131","13113111","13311111","31131111","11133111","11331111","31113131","31311131","31313111","11313131","11331311","13131131","11131331","11133311"]),e.barcharsnormal="0123456789-$:/.+ABCD",e.barcharsalt="0123456789-$:/.+TN*E";var n=e.altstartstop?e.barcharsalt:e.barcharsnormal;e.barchars=n,e.charvals=new Map;for(var i=0;i<=19;i+=1)g(e.charvals,C(e.barchars,i,1),i);e.bodyvals=new Map;for(var o=0;o<=15;o+=1)g(e.bodyvals,C(e.barchars,o,1),o);e.ssvals=new Map;for(var d=16;d<=19;d+=1)g(e.ssvals,C(e.barchars,d,1),d);var u=c(e.ssvals,C(e.barcode,0,1))!==void 0,f=c(e.ssvals,C(e.barcode,e.barcode.length-1,1))!==void 0;(!u||!f)&&(e.altstartstop?(r[t++]="bwipp.rationalizedCodabarBadAltStartStop#12099",r[t++]="Codabar start and stop characters must be one of E N T or *",z()):(r[t++]="bwipp.rationalizedCodabarBadStartStop#12101",r[t++]="Codabar start and stop characters must be one of A B C or D",z()));for(var h=1,p=e.barcode.length-2;h<=p;h+=1){var m=c(e.bodyvals,C(e.barcode,h,1))!==void 0;m||(r[t++]="bwipp.rationalizedCodabarBadCharacter#12106",r[t++]="Codabar body must contain only digits and symbols - $ : / . +",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var x=r[--t];r[t++]=x-1}var b=r[--t];e[r[--t]]=b,e.checksum=0;for(var y=0,w=e.barlen-2;y<=w;y+=1)e.checksum=S(c(e.charvals,C(e.barcode,y,1))+e.checksum);var v=C(e.barcode,e.barcode.length-1,1);if(e.checksum=S(c(e.charvals,v)+e.checksum),e.checksum=(16-e.checksum%16)%16,e.validatecheck){c(e.barcode,e.barlen-1)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.rationalizedCodabarBadCheckDigit#12122",r[t++]="Incorrect Codabar check digit provided",z());var A=W(e.barlen);R(A,0,C(e.barcode,0,e.barlen-1)),R(A,e.barlen-1,C(e.barcode,e.barlen,1)),e.barcode=A,e.includecheck=!0}if(r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var j=r[--t];r[t++]=j+1}var E=W(r[--t]*8);if(e[r[--t]]=E,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var k=r[--t];r[t++]=k+1}var N=s(r[--t]);e[r[--t]]=N,e.xpos=0;for(var B=0,I=e.barlen-2;B<=I;B+=1){e.i=B,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.enc=c(e.encs,e.indx),R(e.sbs,e.i*8,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var D=0;D<=7;D+=1)e.xpos=S(c(e.enc,D)-48+e.xpos)}if(e.includecheck){R(e.sbs,e.barlen*8-8,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen-1,s([C(e.barchars,e.checksum,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen-1,s([" ",e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var T=0;T<=7;T+=1)e.xpos=S(c(c(e.encs,e.checksum),T)-48+e.xpos);e.indx=c(e.charvals,C(e.barcode,e.barlen-1,1)),e.enc=c(e.encs,e.indx),R(e.sbs,e.barlen*8,e.enc),g(e.txt,e.barlen,s([C(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else e.indx=c(e.charvals,C(e.barcode,e.barlen-1,1)),e.enc=c(e.encs,e.indx),R(e.sbs,e.barlen*8-8,e.enc),g(e.txt,e.barlen-1,s([C(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0,ve(e.sbs,function(){var de=r[--t];r[t++]=de-48});var M=s();r[t++]=1/0;for(var Q=0,F=~~((e.sbs.length+1)/2);Q<F;Q++)r[t++]=e.height;var P=s();r[t++]=1/0;for(var L=0,_=~~((e.sbs.length+1)/2);L<_;L++)r[t++]=0;var H=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=M,r[t++]="bhs",r[t++]=P,r[t++]="bbs",r[t++]=H,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Y=_e();r[t++]=Y,e.dontdraw||It(),e=a}function GT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.15,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,ve(e.barcode,function(){var rt=r[--t];(rt<48||rt>57)&&(r[t++]="bwipp.onecodeBadCharacter#12232",r[t++]="The data must contain only digits",z())}),e.barlen!=20&&e.barlen!=25&&e.barlen!=29&&e.barlen!=31&&(r[t++]="bwipp.onecodeInvalidLength#12237",r[t++]="The data must be 20, 25, 29 or 31 digits",z()),r[t++]=1/0;var n=V(C(e.barcode,5,1),"9")?14:11;r[t++]=2,r[t++]=2,r[t++]=5,r[t++]=5,r[t++]=n,r[t++]=n,r[t++]=20,r[t++]=20,r[t++]=25,r[t++]=25,r[t++]=29,r[t++]=29,e.txtdict=_e(),e.txt=s(e.barlen+6),e.spacecnt=0;for(var i=0,o=e.barlen-1;i<=o;i+=1){e.i=i;var d=c(e.txtdict,e.i)!==void 0;d&&(g(e.txt,e.i+e.spacecnt,s([" ",0,0,"",0])),e.spacecnt=e.spacecnt+1),g(e.txt,e.i+e.spacecnt,s([C(e.barcode,e.i,1),0,0,"",0]))}e.txt=C(e.txt,0,e.barcode.length+e.spacecnt),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var rt=e.num.length-1;rt>=1;rt-=1){e.i=rt;var ae=e.num,fe=e.i;g(ae,fe-1,S(c(ae,fe-1)+~~(c(e.num,e.i)/e.base))),g(e.num,e.i,c(e.num,e.i)%e.base)}for(;!mn(c(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,U(e.num),e.num=s(),g(e.num,0,S(c(e.num,0)+~~(c(e.num,1)/e.base))),g(e.num,1,c(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var Me=e.num,Le=0,Xe=Me.length;Le<Xe;Le++){var ze=c(Me,Le);r[t++]=ze,ze==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var rt=r[--t],ae=r[--t];if(e.offset=Ko(rt.length-ae.length),rt.length<ae.length){var fe=rt;rt=ae,ae=fe}e.a=rt,e.b=ae;for(var Me=0,Le=e.b.length-1;Me<=Le;Me+=1){var Xe=e.a,ze=e.offset;g(Xe,Me+ze,S(c(Xe,Me+ze)+c(e.b,Me)))}r[t++]=e.a};var u=new Map([[20,s([0])],[25,s([1])],[29,s([1,0,0,0,0,1])],[31,s([1,0,0,0,1,0,0,0,0,1])]]);e.startvals=u,r[t++]="binval",r[t++]=c(e.startvals,e.barlen),r[t++]=1/0;for(var f=C(e.barcode,20,e.barlen-20),h=0,p=f.length;h<p;h++)r[t++]=c(f,h)-48;var m=s();r[t++]=m,e.bigadd();var x=r[--t];e[r[--t]]=x,r[t++]=1/0,U(e.binval),r[t++]=c(e.barcode,0)-48,e.binval=s(),r[t++]=1/0;for(var b=e.binval,y=0,w=b.length;y<w;y++)r[t++]=c(b,y)*5;var v=s();r[t++]="binval",r[t++]=v,r[t++]=s([c(e.barcode,1)-48]),e.bigadd(),r[t++]=10,e.normalize();var A=r[--t];e[r[--t]]=A,r[t++]=1/0,U(e.binval);for(var j=C(e.barcode,2,18),E=0,k=j.length;E<k;E++)r[t++]=c(j,E)-48;e.binval=s(),e.bytes=s(13);var N=e.binval;e.bintmp=cc(s(N.length),N);for(var B=12;B>=0;B-=1){e.i=B;for(var I=0,D=e.bintmp.length-2;I<=D;I+=1){e.j=I;var T=e.bintmp,M=e.j;g(T,M+1,S(c(T,M+1)+c(e.bintmp,e.j)%256*10)),g(e.bintmp,e.j,~~(c(e.bintmp,e.j)/256))}g(e.bytes,e.i,c(e.bintmp,e.bintmp.length-1)%256);var Q=e.bintmp,F=e.bintmp;g(Q,F.length-1,~~(c(Q,F.length-1)/256))}e.fcs=2047,e.dat=c(e.bytes,0)<<5;for(var P=0;P<6;P++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1;for(var L=1;L<=12;L+=1){e.dat=c(e.bytes,L)<<3;for(var _=0;_<8;_++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1}e.codewords=s(10);for(var H=9;H>=0;H-=1){e.i=H;var Y=e.i==9?636:1365;e.b=Y;for(var de=0,$=e.binval.length-2;de<=$;de+=1){e.j=de;var q=e.binval,re=e.j;g(q,re+1,S(c(q,re+1)+c(e.binval,e.j)%e.b*10)),g(e.binval,e.j,~~(c(e.binval,e.j)/e.b))}g(e.codewords,e.i,c(e.binval,e.binval.length-1)%e.b);var ce=e.binval,J=e.binval;g(ce,J.length-1,~~(c(ce,J.length-1)/e.b))}g(e.codewords,9,c(e.codewords,9)*2),e.fcs&1024&&g(e.codewords,0,c(e.codewords,0)+659),e.tab513=s([31,7936,47,7808,55,7552,59,7040,61,6016,62,3968,79,7744,87,7488,91,6976,93,5952,94,3904,103,7360,107,6848,109,5824,110,3776,115,6592,117,5568,118,3520,121,5056,122,3008,124,1984,143,7712,151,7456,155,6944,157,5920,158,3872,167,7328,171,6816,173,5792,174,3744,179,6560,181,5536,182,3488,185,5024,186,2976,188,1952,199,7264,203,6752,205,5728,206,3680,211,6496,213,5472,214,3424,217,4960,218,2912,220,1888,227,6368,229,5344,230,3296,233,4832,234,2784,236,1760,241,4576,242,2528,244,1504,248,992,271,7696,279,7440,283,6928,285,5904,286,3856,295,7312,299,6800,301,5776,302,3728,307,6544,309,5520,310,3472,313,5008,314,2960,316,1936,327,7248,331,6736,333,5712,334,3664,339,6480,341,5456,342,3408,345,4944,346,2896,348,1872,355,6352,357,5328,358,3280,361,4816,362,2768,364,1744,369,4560,370,2512,372,1488,376,976,391,7216,395,6704,397,5680,398,3632,403,6448,405,5424,406,3376,409,4912,410,2864,412,1840,419,6320,421,5296,422,3248,425,4784,426,2736,428,1712,433,4528,434,2480,436,1456,440,944,451,6256,453,5232,454,3184,457,4720,458,2672,460,1648,465,4464,466,2416,468,1392,472,880,481,4336,482,2288,484,1264,488,752,527,7688,535,7432,539,6920,541,5896,542,3848,551,7304,555,6792,557,5768,558,3720,563,6536,565,5512,566,3464,569,5e3,570,2952,572,1928,583,7240,587,6728,589,5704,590,3656,595,6472,597,5448,598,3400,601,4936,602,2888,604,1864,611,6344,613,5320,614,3272,617,4808,618,2760,620,1736,625,4552,626,2504,628,1480,632,968,647,7208,651,6696,653,5672,654,3624,659,6440,661,5416,662,3368,665,4904,666,2856,668,1832,675,6312,677,5288,678,3240,681,4776,682,2728,684,1704,689,4520,690,2472,692,1448,696,936,707,6248,709,5224,710,3176,713,4712,714,2664,716,1640,721,4456,722,2408,724,1384,728,872,737,4328,738,2280,740,1256,775,7192,779,6680,781,5656,782,3608,787,6424,789,5400,790,3352,793,4888,794,2840,796,1816,803,6296,805,5272,806,3224,809,4760,810,2712,812,1688,817,4504,818,2456,820,1432,824,920,835,6232,837,5208,838,3160,841,4696,842,2648,844,1624,849,4440,850,2392,852,1368,865,4312,866,2264,868,1240,899,6200,901,5176,902,3128,905,4664,906,2616,908,1592,913,4408,914,2360,916,1336,929,4280,930,2232,932,1208,961,4216,962,2168,964,1144,1039,7684,1047,7428,1051,6916,1053,5892,1054,3844,1063,7300,1067,6788,1069,5764,1070,3716,1075,6532,1077,5508,1078,3460,1081,4996,1082,2948,1084,1924,1095,7236,1099,6724,1101,5700,1102,3652,1107,6468,1109,5444,1110,3396,1113,4932,1114,2884,1116,1860,1123,6340,1125,5316,1126,3268,1129,4804,1130,2756,1132,1732,1137,4548,1138,2500,1140,1476,1159,7204,1163,6692,1165,5668,1166,3620,1171,6436,1173,5412,1174,3364,1177,4900,1178,2852,1180,1828,1187,6308,1189,5284,1190,3236,1193,4772,1194,2724,1196,1700,1201,4516,1202,2468,1204,1444,1219,6244,1221,5220,1222,3172,1225,4708,1226,2660,1228,1636,1233,4452,1234,2404,1236,1380,1249,4324,1250,2276,1287,7188,1291,6676,1293,5652,1294,3604,1299,6420,1301,5396,1302,3348,1305,4884,1306,2836,1308,1812,1315,6292,1317,5268,1318,3220,1321,4756,1322,2708,1324,1684,1329,4500,1330,2452,1332,1428,1347,6228,1349,5204,1350,3156,1353,4692,1354,2644,1356,1620,1361,4436,1362,2388,1377,4308,1378,2260,1411,6196,1413,5172,1414,3124,1417,4660,1418,2612,1420,1588,1425,4404,1426,2356,1441,4276,1442,2228,1473,4212,1474,2164,1543,7180,1547,6668,1549,5644,1550,3596,1555,6412,1557,5388,1558,3340,1561,4876,1562,2828,1564,1804,1571,6284,1573,5260,1574,3212,1577,4748,1578,2700,1580,1676,1585,4492,1586,2444,1603,6220,1605,5196,1606,3148,1609,4684,1610,2636,1617,4428,1618,2380,1633,4300,1634,2252,1667,6188,1669,5164,1670,3116,1673,4652,1674,2604,1681,4396,1682,2348,1697,4268,1698,2220,1729,4204,1730,2156,1795,6172,1797,5148,1798,3100,1801,4636,1802,2588,1809,4380,1810,2332,1825,4252,1826,2204,1857,4188,1858,2140,1921,4156,1922,2108,2063,7682,2071,7426,2075,6914,2077,5890,2078,3842,2087,7298,2091,6786,2093,5762,2094,3714,2099,6530,2101,5506,2102,3458,2105,4994,2106,2946,2119,7234,2123,6722,2125,5698,2126,3650,2131,6466,2133,5442,2134,3394,2137,4930,2138,2882,2147,6338,2149,5314,2150,3266,2153,4802,2154,2754,2161,4546,2162,2498,2183,7202,2187,6690,2189,5666,2190,3618,2195,6434,2197,5410,2198,3362,2201,4898,2202,2850,2211,6306,2213,5282,2214,3234,2217,4770,2218,2722,2225,4514,2226,2466,2243,6242,2245,5218,2246,3170,2249,4706,2250,2658,2257,4450,2258,2402,2273,4322,2311,7186,2315,6674,2317,5650,2318,3602,2323,6418,2325,5394,2326,3346,2329,4882,2330,2834,2339,6290,2341,5266,2342,3218,2345,4754,2346,2706,2353,4498,2354,2450,2371,6226,2373,5202,2374,3154,2377,4690,2378,2642,2385,4434,2401,4306,2435,6194,2437,5170,2438,3122,2441,4658,2442,2610,2449,4402,2465,4274,2497,4210,2567,7178,2571,6666,2573,5642,2574,3594,2579,6410,2581,5386,2582,3338,2585,4874,2586,2826,2595,6282,2597,5258,2598,3210,2601,4746,2602,2698,2609,4490,2627,6218,2629,5194,2630,3146,2633,4682,2641,4426,2657,4298,2691,6186,2693,5162,2694,3114,2697,4650,2705,4394,2721,4266,2753,4202,2819,6170,2821,5146,2822,3098,2825,4634,2833,4378,2849,4250,2881,4186,2945,4154,3079,7174,3083,6662,3085,5638,3086,3590,3091,6406,3093,5382,3094,3334,3097,4870,3107,6278,3109,5254,3110,3206,3113,4742,3121,4486,3139,6214,3141,5190,3145,4678,3153,4422,3169,4294,3203,6182,3205,5158,3209,4646,3217,4390,3233,4262,3265,4198,3331,6166,3333,5142,3337,4630,3345,4374,3361,4246,3393,4182,3457,4150,3587,6158,3589,5134,3593,4622,3601,4366,3617,4238,3649,4174,3713,4142,3841,4126,4111,7681,4119,7425,4123,6913,4125,5889,4135,7297,4139,6785,4141,5761,4147,6529,4149,5505,4153,4993,4167,7233,4171,6721,4173,5697,4179,6465,4181,5441,4185,4929,4195,6337,4197,5313,4201,4801,4209,4545,4231,7201,4235,6689,4237,5665,4243,6433,4245,5409,4249,4897,4259,6305,4261,5281,4265,4769,4273,4513,4291,6241,4293,5217,4297,4705,4305,4449,4359,7185,4363,6673,4365,5649,4371,6417,4373,5393,4377,4881,4387,6289,4389,5265,4393,4753,4401,4497,4419,6225,4421,5201,4425,4689,4483,6193,4485,5169,4489,4657,4615,7177,4619,6665,4621,5641,4627,6409,4629,5385,4633,4873,4643,6281,4645,5257,4649,4745,4675,6217,4677,5193,4739,6185,4741,5161,4867,6169,4869,5145,5127,7173,5131,6661,5133,5637,5139,6405,5141,5381,5155,6277,5157,5253,5187,6213,5251,6181,5379,6165,5635,6157,6151,7171,6155,6659,6163,6403,6179,6275,6211,5189,4681,4433,4321,3142,2634,2386,2274,1612,1364,1252,856,744,496]),e.tab213=s([3,6144,5,5120,6,3072,9,4608,10,2560,12,1536,17,4352,18,2304,20,1280,24,768,33,4224,34,2176,36,1152,40,640,48,384,65,4160,66,2112,68,1088,72,576,80,320,96,192,129,4128,130,2080,132,1056,136,544,144,288,257,4112,258,2064,260,1040,264,528,513,4104,514,2056,516,1032,1025,4100,1026,2052,2049,4098,4097,2050,1028,520,272,160]),e.chars=s(10);for(var oe=0;oe<=9;oe+=1){e.i=oe;var ue=c(e.codewords,e.i);if(r[t++]=ue,ue<=1286){var he=c(e.tab513,r[--t]);r[t++]=he}else{var Re=c(e.tab213,r[--t]-1287);r[t++]=Re}r[t++]=e.chars,r[t++]=e.i;var te=r[t-3],Be=r[t-1];g(r[t-2],Be,te),t-=3}for(var Se=9;Se>=0;Se-=1)e.i=Se,~~li(2,e.i)&e.fcs&&g(e.chars,e.i,c(e.chars,e.i)^8191);e.barmap=s([7,2,4,3,1,10,0,0,9,12,2,8,5,5,6,11,8,9,3,1,0,1,5,12,2,5,1,8,4,4,9,11,6,3,8,10,3,9,7,6,5,11,1,4,8,5,2,12,9,10,0,2,7,1,6,7,3,6,4,9,0,3,8,6,6,4,2,7,1,1,9,9,7,10,5,2,4,0,3,8,6,2,0,4,8,11,1,0,9,8,3,12,2,6,7,7,5,1,4,10,1,12,6,9,7,3,8,0,5,8,9,7,4,6,2,10,3,4,0,5,8,4,5,7,7,11,1,9,6,0,9,6,0,6,4,8,2,1,3,2,5,9,8,12,4,11,6,1,9,5,7,4,3,3,1,2,0,7,2,0,1,3,4,1,6,10,3,5,8,7,9,4,2,11,5,6,0,8,7,12,4,2,8,1,5,10,3,0,9,3,0,9,6,5,2,4,7,8,1,7,5,0,4,5,2,3,0,10,6,12,9,2,3,11,1,6,8,8,7,9,5,4,0,11,1,5,2,2,9,1,4,12,8,3,6,6,7,0,3,7,4,7,7,5,0,12,1,11,2,9,9,0,6,8,5,3,3,10,8,2]),e.bbs=s(65),e.bhs=s(65);for(var Oe=0;Oe<=64;Oe+=1)e.i=Oe,e.dec=(c(e.chars,c(e.barmap,e.i*4))&~~li(2,c(e.barmap,e.i*4+1)))!=0,e.asc=(c(e.chars,c(e.barmap,e.i*4+2))&~~li(2,c(e.barmap,e.i*4+3)))!=0,!e.dec&&!e.asc&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),!e.dec&&e.asc&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),e.dec&&!e.asc&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),e.dec&&e.asc&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var Ue=e.bbs,be=e.bhs;r[t++]=1/0;for(var $e=0,Fe=e.bhs.length-1;$e<Fe;$e++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Ke=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Ue,r[t++]="bhs",r[t++]=be,r[t++]="sbs",r[t++]=Ke,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="left",r[t++]="textfont",r[t++]="OCR-B",r[t++]="textyoffset",r[t++]=1,r[t++]="textxoffset",r[t++]=-.3,r[t++]="opt",r[t++]=e.options;var Je=_e();r[t++]=Je,e.dontdraw||It(),e=a}function YT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=5&&e.barlen!=9&&e.barlen!=11&&(r[t++]="bwipp.postnetBadLength#12597",r[t++]="USPS POSTNET must be 5, 9 or 11 digits excluding check digit",z()),ve(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.postnetBadCharacter#12601",r[t++]="USPS POSTNET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["55222","22255","22525","22552","25225","25252","25522","52225","52252","52522","5","5"]),e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1)e.i=o,e.checksum=S(e.checksum+(c(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.postnetBadCheckDigit#12625",r[t++]="Incorrect USPS POSTNET check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=c(e.encs,10),e.heights=s(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=c(e.encs,c(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,e.i*5+1,e.heights),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=c(e.encs,e.checksum),e.heights=s(e.enc.length);for(var b=0,y=e.enc.length-1;b<=y;b+=1)e.j=b,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,11),e.heights=s(e.enc.length);for(var w=0,v=e.enc.length-1;w<=v;w+=1)e.j=w,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var j=0,E=e.bhs.length;j<E;j++)r[t++]=0;var k=s();r[t++]=1/0;for(var N=0,B=e.bhs.length-1;N<B;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=k,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=_e();r[t++]=D,e.dontdraw||It(),e=a}function VT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=11&&e.barlen!=13&&(r[t++]="bwipp.planetBadLength#12745",r[t++]="USPS PLANET must be 11 or 13 digits excluding check digit",z()),ve(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.planetBadCharacter#12749",r[t++]="USPS PLANET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["22555","55522","55252","55225","52552","52525","52255","25552","25525","25255","5","5"]),e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1)e.i=o,e.checksum=S(e.checksum+(c(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.planetBadCheckDigit#12774",r[t++]="Incorrect USPS PLANET check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=c(e.encs,10),e.heights=s(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=c(e.encs,c(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,e.i*5+1,e.heights),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=c(e.encs,e.checksum),e.heights=s(e.enc.length);for(var b=0,y=e.enc.length-1;b<=y;b+=1)e.j=b,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,11),e.heights=s(e.enc.length);for(var w=0,v=e.enc.length-1;w<=v;w+=1)e.j=w,g(e.heights,e.j,De(C(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var j=0,E=e.bhs.length;j<E;j++)r[t++]=0;var k=s();r[t++]=1/0;for(var N=0,B=e.bhs.length-1;N<B;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=k,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=_e();r[t++]=D,e.dontdraw||It(),e=a}function KT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.royalmailEmptyData#12889",r[t++]="The data must not be empty",z()),e.barchars="ZUVWXY501234B6789AHCDEFGNIJKLMTOPQRS",e.charvals=new Map;for(var n=0;n<=35;n+=1)g(e.charvals,C(e.barchars,n,1),n);e.encs=s(["3300","2211","2301","2310","3201","3210","1122","0033","0123","0132","1023","1032","1302","0213","0303","0312","1203","1212","1320","0231","0321","0330","1221","1230","3102","2013","2103","2112","3003","3012","3120","2031","2121","2130","3021","3030","2","3"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.royalmailBadCharacter#12915",r[t++]="RM4SCC must contain only capital letters and digits",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksumrow=0,e.checksumcol=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.checksumrow=e.checksumrow+~~(e.indx/6),e.checksumcol=S(e.checksumcol+e.indx%6);e.checksum=S(e.checksumrow%6*6+e.checksumcol%6),e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.royalmailBadCheckDigit#12932",r[t++]="Incorrect RM4SCC check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.encstr=W(e.barlen*4+6),e.txt=s(e.barlen+1),R(e.encstr,0,c(e.encs,36));for(var m=0,x=e.barlen-1;m<=x;m+=1)e.i=m,e.indx=c(e.charvals,C(e.barcode,e.i,1)),R(e.encstr,e.i*4+1,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*4+1)*3.312,e.textyoffset,e.textfont,e.textsize]));R(e.encstr,e.barlen*4+1,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])),R(e.encstr,e.barlen*4+5,c(e.encs,37)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var b=0,y=e.encstr.length-1;b<=y;b+=1)e.i=b,e.enc=C(e.encstr,e.i,1),V(e.enc,"0")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),V(e.enc,"1")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"2")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"3")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var w=e.bbs,v=e.bhs;r[t++]=1/0;for(var A=0,j=e.bhs.length-1;A<j;A++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var E=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=w,r[t++]="bhs",r[t++]=v,r[t++]="sbs",r[t++]=E,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var k=_e();r[t++]=k,e.dontdraw||It(),e=a}function WT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,e.custinfoenc="character",r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ie(e.custinfoenc,"character")&&Ie(e.custinfoenc,"numeric")&&(r[t++]="bwipp.auspostBadCustinfoEncoding#13045",r[t++]="Customer information encoding must be either character or numeric",z()),e.encs=s(["000","001","002","010","011","012","020","021","022","100","101","102","110","111","112","120","121","122","200","201","202","210","211","212","220","221","222","300","301","302","310","311","312","320","321","322","023","030","031","032","033","103","113","123","130","131","132","133","203","213","223","230","231","232","233","303","313","323","330","331","332","333","003","013","00","01","02","10","11","12","20","21","22","30","13","3"]),e.barchars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz #";var n=new Map([["11",37],["45",37],["59",52],["62",67]]);e.fcclen=n,e.barlen=e.barcode.length,e.barlen<10&&(r[t++]="bwipp.auspostTooShort#13075",r[t++]="The data length must be at least 10",z()),e.txt=s(e.barlen-2),r[t++]=e.fcclen,e.barlen>=2?r[t++]=C(e.barcode,0,2):r[t++]="";var i=r[t-1],o=r[t-2],d=c(o,i)!==void 0;d||(t-=2,r[t++]="bwipp.auspostBadFCC#13082",r[t++]="Must begin with an FCC, either 11, 45, 59 or 62",z());var u=r[--t];e.encstr=W(c(r[--t],u)),r[t++]=!0;for(var f=0;f<1;f++){if(e.barlen<10){r[t-1]=!1;break}for(var h=C(e.barcode,2,8),p=0,m=h.length;p<m;p++){var x=c(h,p);if(x<48||x>57){r[t-1]=!1;break}}}r[--t]||(r[t++]="bwipp.auspostIncompleteDPID#13093",r[t++]="The DPID must be 8 digits",z());var b=V(e.custinfoenc,"numeric")?2:3;(e.barlen-10)*b>e.encstr.length-22-14&&(r[t++]="bwipp.auspostTooLong#13099",r[t++]="The message is too long",z()),R(e.encstr,0,c(e.encs,74));for(var y=0;y<=1;y+=1)e.i=y,R(e.encstr,e.i*2+2,c(e.encs,De(C(e.barcode,e.i,1))+64));for(var w=2;w<=9;w+=1)e.i=w,R(e.encstr,e.i*2+2,c(e.encs,De(C(e.barcode,e.i,1))+64)),g(e.txt,e.i-2,s([C(e.barcode,e.i,1),((e.i-2)*2+6)*3.312,e.textyoffset,e.textfont,e.textsize]));if(V(e.custinfoenc,"numeric")){for(var v=0,A=e.barlen-11;v<=A;v+=1){e.i=v;var j=c(e.barcode,e.i+10);r[t++]=e.encs,r[t++]=j,(j<48||j>57)&&(r[t++]="bwipp.auspostInvalidCustinfoDigit#13126",r[t++]="The customer information data contains a non-digit character",z());var E=r[--t];R(e.encstr,e.i*2+22,c(r[--t],E-48+64)),g(e.txt,e.i+8,s([C(e.barcode,e.i+10,1),(e.i*2+22)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.ciflen=(e.barlen-10)*2}else{for(var k=0,N=e.barlen-11;k<=N;k+=1)e.i=k,Ct(e.barchars,C(e.barcode,e.i+10,1)),r[--t]||(t--,r[t++]="bwipp.auspostInvalidCustinfoCharacter#13138",r[t++]="The customer information contains an invalid character",z()),e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.encstr,e.i*3+22,e.enc),g(e.txt,e.i+8,s([C(e.barcode,e.i+10,1),(e.i*3+22)*3.312,e.textyoffset,e.textfont,e.textsize]));e.ciflen=(e.barlen-10)*3}for(var B=22+e.ciflen,I=e.encstr.length-14;B<=I;B+=1)R(e.encstr,B,c(e.encs,75));e.rstable=s(64*64),r[t++]=e.rstable,r[t++]=0,r[t++]=1/0;for(var D=0;D<64;D++)r[t++]=0;var T=s(),M=r[--t];R(r[--t],M,T),r[t++]=e.rstable,r[t++]=64,r[t++]=1/0;for(var Q=0;Q<=63;Q+=1)r[t++]=Q;var F=s(),P=r[--t];R(r[--t],P,F),e.prev=1;for(var L=0;L<64;L++){e.next=e.prev<<1,e.next&64&&(e.next=e.next^67);for(var _=0;_<=63;_+=1){e.j=_,e.nextcell=function(){r[t++]=e.rstable,r[t++]=64*e.next+e.j},e.nextcell();var H=r[--t];g(r[--t],H,c(e.rstable,64*e.prev+e.j)<<1),e.nextcell();var Y=r[--t];if(c(r[--t],Y)&64){e.nextcell(),e.nextcell();var de=r[--t],$=c(r[--t],de),q=r[--t];g(r[--t],q,$^67)}}e.prev=e.next}e.rscodes=s(~~((e.encstr.length-16)/3)+4),r[t++]=e.rscodes,r[t++]=0,r[t++]=1/0;for(var re=0;re<4;re++)r[t++]=0;var ce=s(),J=r[--t];R(r[--t],J,ce);for(var oe=2,ue=e.encstr.length-16;oe<=ue;oe+=3)e.i=oe,g(e.rscodes,e.rscodes.length-~~((e.i-2)/3)-1,De(C(e.encstr,e.i,1))*16+De(C(e.encstr,e.i+1,1))*4+De(C(e.encstr,e.i+2,1)));for(var he=e.rscodes.length-5;he>=0;he-=1){e.i=he;for(var Re=0;Re<=4;Re+=1)e.j=Re,g(e.rscodes,e.i+e.j,fs(c(e.rscodes,e.i+e.j),c(e.rstable,S(64*c(s([48,17,29,30,1]),e.j)+c(e.rscodes,e.i+4)))))}e.checkcode=Fr(W(12),"000000000000");for(var te=0;te<=3;te+=1)e.i=te,e.enc=$t(W(3),c(e.rscodes,3-e.i),4),R(e.checkcode,e.i*3+(3-e.enc.length),e.enc);R(e.encstr,e.encstr.length-14,e.checkcode),R(e.encstr,e.encstr.length-2,c(e.encs,74)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var Be=0,Se=e.encstr.length-1;Be<=Se;Be+=1)e.i=Be,e.enc=C(e.encstr,e.i,1),V(e.enc,"0")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8)),V(e.enc,"1")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"2")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"3")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var Oe=e.bbs,Ue=e.bhs;r[t++]=1/0;for(var be=0,$e=e.bhs.length-1;be<$e;be++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Fe=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Oe,r[t++]="bhs",r[t++]=Ue,r[t++]="sbs",r[t++]=Fe,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Ke=_e();r[t++]=Ke,e.dontdraw||It(),e=a}function JT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.kixEmptyData#13291",r[t++]="The data must not be empty",z()),e.encs=s(["0033","0123","0132","1023","1032","1122","0213","0303","0312","1203","1212","1302","0231","0321","0330","1221","1230","1320","2013","2103","2112","3003","3012","3102","2031","2121","2130","3021","3030","3120","2211","2301","2310","3201","3210","3300"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.charvals=new Map;for(var n=0;n<=35;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.kixBadCharacter#13316",r[t++]="KIX must contain only capital letters and digits",z())}e.barlen=e.barcode.length,e.encstr=W(e.barlen*4),e.txt=s(e.barlen);for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,e.indx=c(e.charvals,C(e.barcode,e.i,1)),R(e.encstr,e.i*4,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*4*3.312,e.textyoffset,e.textfont,e.textsize]));e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var h=0,p=e.encstr.length-1;h<=p;h+=1)e.i=h,e.enc=C(e.encstr,e.i,1),V(e.enc,"0")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),V(e.enc,"1")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"2")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"3")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var m=e.bbs,x=e.bhs;r[t++]=1/0;for(var b=0,y=e.bhs.length-1;b<y;b++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=m,r[t++]="bhs",r[t++]=x,r[t++]="sbs",r[t++]=w,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var v=_e();r[t++]=v,e.dontdraw||It(),e=a}function XT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.japanpostEmptyData#13415",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var w=r[--t];w>=48&&w<=57||w>=65&&w<=90||w==45||(r[t++]="bwipp.japanpostBadCharacter#13425",r[t++]="Japan Post must contain only digits, capital letters and the dash symbol",z())}),e.encs=s(["300","330","312","132","321","303","123","231","213","033","030","120","102","210","012","201","021","003","333","31","13"]),e.barchars="0123456789-ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.barlen=e.barcode.length,e.encstr=W(21*3+4),e.digits=s(20),e.txt=s(e.barlen+1),R(e.encstr,0,c(e.encs,19)),e.checksum=0,e.j=0,e.i=0,r[t++]=!0;for(var n=0,i=e.barlen-1;n<=i;n+=1){if(e.i=n,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.indx>=11&&e.indx<37){if(e.j>18){r[t-1]=!1;break}e.digit=~~((e.indx-1)/10)+10,R(e.encstr,e.j*3+2,c(e.encs,e.digit)),e.checksum=e.checksum+e.digit,g(e.digits,e.j,e.digit),e.j=e.j+1}if(e.j>19){r[t-1]=!1;break}e.digit=0,e.indx==37&&(e.digit=14),e.indx>=11&&e.indx<37&&(e.digit=(e.indx-1)%10),e.indx<11&&(e.digit=e.indx),R(e.encstr,e.j*3+2,c(e.encs,e.digit)),e.checksum=e.checksum+e.digit,g(e.digits,e.j,e.digit),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.j*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),e.j=e.j+1}r[--t]||(r[t++]="bwipp.japanpostTooLong#13489",r[t++]="The input is too long",z());for(var o=e.j,d=19;o<=d;o+=1)e.k=o,R(e.encstr,e.k*3+2,c(e.encs,14)),e.checksum=e.checksum+14,g(e.digits,e.k,14);e.checksum=19-e.checksum%19,R(e.encstr,2+20*3,c(e.encs,e.checksum)),R(e.encstr,2+21*3,c(e.encs,20)),e.checkdigit=" ",e.includecheckintext&&(e.checkdigit=C(e.barchars,e.checksum,1)),g(e.txt,e.i+1,s([e.checkdigit,(20*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),R(e.encstr,21*3+2,c(e.encs,20)),e.bbs=s(21*3+4),e.bhs=s(e.bbs.length);for(var u=0,f=e.bbs.length-1;u<=f;u+=1)e.i=u,e.enc=C(e.encstr,e.i,1),e.bunit=0,e.hunit=0,V(e.enc,"0")&&(e.bunit=3,e.hunit=2),V(e.enc,"1")&&(e.bunit=0,e.hunit=5),V(e.enc,"2")&&(e.bunit=3,e.hunit=5),V(e.enc,"3")&&(e.bunit=0,e.hunit=8),g(e.bbs,e.i,e.bunit*e.height/8),g(e.bhs,e.i,e.hunit*e.height/8);r[t++]=1/0;var h=e.bbs,p=e.bhs;r[t++]=1/0;for(var m=0,x=e.bhs.length-1;m<x;m++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var b=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=h,r[t++]="bhs",r[t++]=p,r[t++]="sbs",r[t++]=b,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var y=_e();r[t++]=y,e.dontdraw||It(),e=a}function ZT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.checktype="unset",e.badmod11=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ie(e.checktype,"unset")&&!e.includecheck&&(r[t++]="bwipp.msiCheckTypeWithoutCheck#13606",r[t++]="checktype requires includecheck",z()),e.badmod11&&Ie(e.checktype,"mod11")&&Ie(e.checktype,"ncrmod11")&&Ie(e.checktype,"mod1110")&&Ie(e.checktype,"ncrmod1110")&&(r[t++]="bwipp.msiBadMod11Mismatch#13610",r[t++]="badmod11 requires checktype with mod11",z()),V(e.checktype,"unset")&&(e.checktype="mod10"),ve(e.barcode,function(){var B=r[--t];(B<48||B>57)&&(r[t++]="bwipp.msiBadCharacter#13620",r[t++]="MSI must contain only digits",z())}),e.encs=s(["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221","21","121"]),e.barchars="0123456789",e.barlen=e.barcode.length,e.txtlen=e.barlen,e.mod10=function(){e.code=r[--t],r[t++]=0,r[t++]=0,ve(e.code,function(){var _=r[--t],H=r[--t],Y=r[--t];r[t++]=S(_-48+H*10),r[t++]=Y}),t--;var B=r[--t];for(r[t++]=B*2,r[t++]=0;;){var I=r[--t],D=r[--t],T=~~(D/10);if(r[t++]=S(I+D%10),r[t++]=T,T==0){t--;break}var M=r[--t],Q=r[--t];r[t++]=M,r[t++]=Q}r[t++]=0,r[t++]=0,ve(e.code,function(){var _=r[--t],H=r[--t],Y=r[--t];r[t++]=S(H+(_-48)),r[t++]=Y});var F=r[--t];r[t-1]=F;var P=r[--t],L=W(e.code.length+1);R(L,0,e.code),g(L,e.code.length,(10-S(r[--t]+P)%10)%10+48),r[t++]=L},e.mod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ve(e.code,function(){var H=r[--t],Y=r[--t];r[t++]=H-48,r[t++]=Y%6+2,r[t++]=Y-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],T=r[t-3],M=r[t-1];t-=3,r[t++]=S(M+T*D)}var Q=(11-r[--t]%11)%11;if(r[t++]=Q,Q==10)if(e.badmod11){t--;var F=W(e.code.length+2);R(F,0,e.code),R(F,e.code.length,"10"),r[t++]=F}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13657",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var P=W(e.code.length+1);R(P,0,e.code),r[t++]=P,r[t++]=P,r[t++]=e.code.length,Na(4,-1);var L=r[--t],_=r[--t];g(r[--t],_,L+48)}},e.ncrmod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ve(e.code,function(){var H=r[--t],Y=r[--t];r[t++]=H-48,r[t++]=Y%8+2,r[t++]=Y-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],T=r[t-3],M=r[t-1];t-=3,r[t++]=S(M+T*D)}var Q=(11-r[--t]%11)%11;if(r[t++]=Q,Q==10)if(e.badmod11){t--;var F=W(e.code.length+2);R(F,0,e.code),R(F,e.code.length,"10"),r[t++]=F}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13673",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var P=W(e.code.length+1);R(P,0,e.code),r[t++]=P,r[t++]=P,r[t++]=e.code.length,Na(4,-1);var L=r[--t],_=r[--t];g(r[--t],_,L+48)}};var n=new Map([["mod10",function(){e.mod10()}],["mod1010",function(){e.mod10(),e.mod10()}],["mod11",function(){e.mod11()}],["ncrmod11",function(){e.ncrmod11()}],["mod1110",function(){e.mod11(),e.mod10()}],["ncrmod1110",function(){e.ncrmod11(),e.mod10()}]]);if(e.checkfunc=n,e.includecheck){var i=e.checkfunc,o=e.checktype,d=c(i,o)!==void 0;r[t++]=i,r[t++]=o,d||(t-=2,r[t++]="bwipp.msiBadCharacter#13694",r[t++]="MSI checktype must be mod10, mod1010, mod11, ncrmod11, mod1110 or ncrmod1110",z());var u=r[--t],f=c(r[--t],u);if(r[t++]=e.barcode,f()===!0)return!0;e.barcode=r[--t],e.barlen=e.barcode.length,e.includecheckintext&&(e.txtlen=e.barlen)}e.sbs=W(e.barlen*8+5),e.txt=s(e.barlen),R(e.sbs,0,c(e.encs,10));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*8+2,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*12+3,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*8+2,c(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var m=e.sbs,x=0,b=m.length;x<b;x++)r[t++]=c(m,x)-48;var y=s();r[t++]=1/0;for(var w=0,v=~~((e.sbs.length+1)/2);w<v;w++)r[t++]=e.height;var A=s();r[t++]=1/0;for(var j=0,E=~~((e.sbs.length+1)/2);j<E;j++)r[t++]=0;var k=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=y,r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=k,e.includetext&&(r[t++]="txt",r[t++]=C(e.txt,0,e.txtlen)),r[t++]="opt",r[t++]=e.options;var N=_e();r[t++]=N,e.dontdraw||It(),e=a}function eR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.unidirectional=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.plesseyEmptyData#13785",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEF",e.charvals=new Map;for(var n=0;n<=15;n+=1)g(e.charvals,C(e.barchars,n,1),n);e.encs=s(["14141414","32141414","14321414","32321414","14143214","32143214","14323214","32323214","14141432","32141432","14321432","32321432","14143232","32143232","14323232","32323232","32321432","541412323","323"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.plesseyBadCharacter#13809",r[t++]="Plessey must contain only digits and letters A B C D E F",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-2}var f=r[--t];e[r[--t]]=f,e.checkbits=s(e.barlen*4+8),R(e.checkbits,e.barlen*4,s([0,0,0,0,0,0,0,0]));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=c(e.charvals,C(e.barcode,e.i,1)),R(e.checkbits,e.i*4,s([e.indx&1,e.indx>>>1&1,e.indx>>>2&1,e.indx>>>3]));e.checksalt=s([1,1,1,1,0,1,0,0,1]);for(var m=0,x=e.barlen*4-1;m<=x;m+=1)if(e.i=m,c(e.checkbits,e.i)==1)for(var b=0;b<=8;b+=1)e.j=b,g(e.checkbits,e.i+e.j,fs(c(e.checkbits,e.i+e.j),c(e.checksalt,e.j)));e.checkval=0;for(var y=0;y<=7;y+=1)e.i=y,e.checkval=S(e.checkval+~~li(2,e.i)*c(e.checkbits,S(e.barlen*4+e.i)));e.checksum1=e.checkval&15,e.checksum2=e.checkval>>>4,e.validatecheck&&((c(e.barcode,e.barlen)!=c(e.barchars,e.checksum1)||c(e.barcode,e.barlen+1)!=c(e.barchars,e.checksum2))&&(r[t++]="bwipp.plesseyBadCheckDigits#13848",r[t++]="Incorrect Plessey check digits provided",z()),e.barcode=C(e.barcode,0,e.barlen));var w=e.unidirectional?27:33;e.sbs=W(S(e.barlen*8+w)),e.txt=s(e.barlen+2),R(e.sbs,0,c(e.encs,16));for(var v=0,A=e.barlen-1;v<=A;v+=1)e.i=v,e.indx=c(e.charvals,C(e.barcode,e.i,1)),R(e.sbs,e.i*8+8,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*20+20,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*8+8,c(e.encs,e.checksum1)),R(e.sbs,e.barlen*8+16,c(e.encs,e.checksum2)),e.includecheckintext?(g(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,s([C(e.barchars,e.checksum2,1),(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize]))):(g(e.txt,e.barlen,s([" ",e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,s([" ",(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize])));var j=e.unidirectional?18:17;R(e.sbs,e.barlen*8+24,c(e.encs,j)),r[t++]=1/0,r[t++]=1/0;for(var E=e.sbs,k=0,N=E.length;k<N;k++)r[t++]=c(E,k)-48;var B=s();r[t++]=1/0;for(var I=0,D=~~((e.sbs.length+1)/2);I<D;I++)r[t++]=e.height;var T=s();r[t++]=1/0;for(var M=0,Q=~~((e.sbs.length+1)/2);M<Q;M++)r[t++]=0;var F=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=B,r[t++]="bhs",r[t++]=T,r[t++]="bbs",r[t++]=F,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var P=_e();r[t++]=P,e.dontdraw||It(),e=a}function Ty(){var a=e;e=Object.assign({},e),e.numeric=!1,e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];for(e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.numeric&&e.barlen%2!=0&&(r[t++]="bwipp.telepenNumericOddLength#13955",r[t++]="Telepen Numeric must have an even length",z()),e.encs=s(["31313131","1131313111","33313111","1111313131","3111313111","11333131","13133131","111111313111","31333111","1131113131","33113131","1111333111","3111113131","1113133111","1311133111","111111113131","3131113111","11313331","333331","111131113111","31113331","1133113111","1313113111","1111113331","31131331","113111113111","3311113111","1111131331","311111113111","1113111331","1311111331","11111111113111","31313311","1131311131","33311131","1111313311","3111311131","11333311","13133311","111111311131","31331131","1131113311","33113311","1111331131","3111113311","1113131131","1311131131","111111113311","3131111131","1131131311","33131311","111131111131","3111131311","1133111131","1313111131","111111131311","3113111311","113111111131","3311111131","111113111311","311111111131","111311111311","131111111311","11111111111131","3131311111","11313133","333133","111131311111","31113133","1133311111","1313311111","1111113133","313333","113111311111","3311311111","11113333","311111311111","11131333","13111333","11111111311111","31311133","1131331111","33331111","1111311133","3111331111","11331133","13131133","111111331111","3113131111","1131111133","33111133","111113131111","3111111133","111311131111","131111131111","111111111133","31311313","113131111111","3331111111","1111311313","311131111111","11331313","13131313","11111131111111","3133111111","1131111313","33111313","111133111111","3111111313","111313111111","131113111111","111111111313","313111111111","1131131113","33131113","11113111111111","3111131113","113311111111","131311111111","111111131113","3113111113","11311111111111","331111111111","111113111113","31111111111111","111311111113","131111111113","1111111111111111"]),e.sbs=W(e.barlen*16+48),e.txt=s(e.barlen),e.enc=c(e.encs,95),R(e.sbs,0,e.enc),e.l=e.enc.length,e.checksum=0,e.i=0,e.j=0;e.i!=e.barlen;){if(e.numeric)if(c(e.barcode,e.i)>16){e.np=C(e.barcode,e.i,2);var o=c(e.np,0),d=c(e.np,1);if(o<48||o>57||(d<48||d>57)&&d!=88)r[t++]=-1;else{var u=c(e.np,1)-48;if(r[t++]=c(e.np,0)-48,r[t++]=u,u!=40){var f=r[--t],h=r[--t];r[t++]=S(f+h*10)+10}else t--;var p=r[--t];r[t++]=p+17}var m=r[t-1];m==-1&&(r[t++]="bwipp.telepenInvalidNumericCharacter#14021",r[t++]="Telepen Numeric may contain only digits, or X in even positions",z()),e.indx=r[--t],g(e.txt,e.j,s([e.np,e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+2}else e.indx=c(e.barcode,e.i),g(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;else e.indx=c(e.barcode,e.i),e.indx>127&&(r[t++]="bwipp.telepenInvalidAlphaCharacter#14034",r[t++]="Telepen Alpha characters must have ordinal values 0 to 127",z()),e.indx>=32&&e.indx<=126?g(e.txt,e.j,s([C(e.barcode,e.i,1),e.j*16+16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;e.checksum=S(e.checksum+e.indx),e.enc=c(e.encs,e.indx),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.j=e.j+1}e.checksum=(127-e.checksum%127)%127,e.enc=c(e.encs,e.checksum),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.enc=c(e.encs,122),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.sbs=C(e.sbs,0,e.l),e.txt=C(e.txt,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var x=e.sbs,b=0,y=x.length;b<y;b++)r[t++]=c(x,b)-48;var w=s();r[t++]=1/0;for(var v=0,A=~~((e.sbs.length+1)/2);v<A;v++)r[t++]=e.height;var j=s();r[t++]=1/0;for(var E=0,k=~~((e.sbs.length+1)/2);E<k;E++)r[t++]=0;var N=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=w,r[t++]="bhs",r[t++]=j,r[t++]="bbs",r[t++]=N,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var B=_e();r[t++]=B,e.dontdraw||It(),e=a}function tR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"numeric",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ty();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function rR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.encoding="auto",e.version="a",e.checkoffset=0,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t];var n=r[--t];e.barcode=n,e.la0=-1,e.la1=-2,e.la2=-3,e.sf0=-4,e.sf1=-5,e.sf2=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10;var i=s([e.sf1,e.sf0,e.fn3]);e.charmapsnormal=s([s(["0","^","'"]),s(["1",";",27]),s(["2","<",28]),s(["3","=",29]),s(["4",">",30]),s(["5","?",31]),s(["6","@","!"]),s(["7","[",'"']),s(["8",92,"#"]),s(["9","]","&"]),s(["A","a",1]),s(["B","b",2]),s(["C","c",3]),s(["D","d",4]),s(["E","e",5]),s(["F","f",6]),s(["G","g",7]),s(["H","h",8]),s(["I","i",9]),s(["J","j",10]),s(["K","k",11]),s(["L","l",12]),s(["M","m",13]),s(["N","n",14]),s(["O","o",15]),s(["P","p",16]),s(["Q","q",17]),s(["R","r",18]),s(["S","s",19]),s(["T","t",20]),s(["U","u",21]),s(["V","v",22]),s(["W","w",23]),s(["X","x",24]),s(["Y","y",25]),s(["Z","z",26]),s(["-","_",40]),s([".","`",41]),s([" ",127,0]),s(["$","{","*"]),s(["/","|",","]),s(["+","}",":"]),s(["%","~",e.fn1]),s([e.la1,e.la0,e.fn2]),i,s([e.sf2,e.sf2,e.fn4])]),e.chapmapslimited=s([s(["0",-98,-98]),s(["1",-98,-98]),s(["2",-98,-98]),s(["3",-98,-98]),s(["4",-98,-98]),s(["5",-98,-98]),s(["6",-98,-98]),s(["7",-98,-98]),s(["8",-98,-98]),s(["9",-98,-98]),s(["A",-98,-98]),s(["B",-98,-98]),s(["C",-98,-98]),s(["D",-98,-98]),s(["E",-98,-98]),s(["F",-98,-98]),s(["G",-98,-98]),s(["H",-98,-98]),s(["I",-98,-98]),s(["J",-98,-98]),s(["K",-98,-98]),s(["L",-98,-98]),s(["M",-98,-98]),s(["N",-98,-98]),s(["O",-98,-98]),s(["P",-98,-98]),s(["Q",-98,-98]),s(["R",-98,-98]),s(["S",-98,-98]),s(["T",-98,-98]),s(["U",-98,-98]),s(["V",-98,-98]),s(["W",-98,-98]),s(["X",-98,-98]),s(["Y",-98,-98]),s(["Z",-98,-98]),s(["-",-98,-98]),s([".",-98,-98])]),Ie(e.version,"a")&&Ie(e.version,"b")&&Ie(e.version,"limiteda")&&Ie(e.version,"limitedb")&&(r[t++]="bwipp.posicodeInvalidVersion#14226",r[t++]="The version must be either a, b, limiteda or limitedb",z()),r[t++]="charmaps",V(e.version,"a")||V(e.version,"b")?r[t++]=e.charmapsnormal:r[t++]=e.chapmapslimited;var o=r[--t];e[r[--t]]=o,e.charmaps,e.charmaps,e.charmaps,e.charvals=s([new Map,new Map,new Map]);for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=2;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,V(tn(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}g(c(e.charvals,e.j),r[--t],e.i)}}if(e.set0=c(e.charvals,0),e.set1=c(e.charvals,1),e.set2=c(e.charvals,2),V(e.version,"limiteda")||V(e.version,"limitedb"))for(var m=0,x=e.barcode.length-1;m<=x;m+=1){var b=c(e.set0,c(C(e.barcode,m,1),0))!==void 0;b||(r[t++]="bwipp.posicodeBadCharacter#14252",r[t++]="Posicode limited must contain only digits, capital letters, and the symbols - and .",z())}if(e.raw&&(e.encoding="raw"),V(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=De(C(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j),e.text=""}if(V(e.encoding,"auto")){var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,e.text=W(e.msglen);for(var v=0,A=e.msglen-1;v<=A;v+=1){e.i=v;var j=c(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=j,j<0&&(r[t-1]=32);var E=r[--t],k=r[--t];g(r[--t],k,E)}r[t++]=1/0;for(var N=0,B=e.msglen;N<B;N++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numEA=s();for(var T=e.msglen-1;T>=0;T-=1)e.i=T,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?g(e.numEA,e.i,c(e.numEA,e.i+1)+1):g(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var M=0,Q=e.msglen-1;M<=Q;M+=1){if(e.i=M,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var F=c(r[--t],e.i),P=S(F+e.i)==e.msglen?3:5;F<P?(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,U(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}for(e.msg=e.msgtmp,e.msglen=e.msg.length,e.enc=function(){var ht=r[--t];g(e.cws,e.j,c(ht,r[--t])),e.j=e.j+1},e.cws=s(e.msglen*2),e.i=0,e.j=0,e.cset="set0";e.i!=e.msglen;)for(;;){e.char1=c(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=c(e.msg,e.i+1):r[t++]=-99;var L=r[--t];e[r[--t]]=L;var _=c(e[e.cset],e.char1)!==void 0;if(_){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var H=c(e.set2,e.char1)!==void 0;if(H){r[t++]=e.sf2,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set2,e.enc(),e.i=e.i+1;break}var Y=c(e[e.cset],e.char2)!==void 0;if(Y){V(e.cset,"set0")?(r[t++]=e.sf1,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set1,e.enc()):(r[t++]=e.sf0,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set0,e.enc()),e.i=e.i+1;break}else{V(e.cset,"set0")?(r[t++]=e.la1,r[t++]=e[e.cset],e.enc(),e.cset="set1"):(r[t++]=e.la0,r[t++]=e[e.cset],e.enc(),e.cset="set0");break}}e.cws=C(e.cws,0,e.j)}var de=new Map([["a",s(["141112","131212","121312","111412","131113","121213","111313","121114","111214","111115","181111","171211","161311","151411","141511","131611","121711","111811","171112","161212","151312","141412","131512","121612","111712","161113","151213","141313","131413","121513","111613","151114","141214","131314","121414","111514","141115","131215","121315","111415","131116","121216","111316","121117","111217","111118","1<111112","111111111;1"])],["b",s(["151213","141313","131413","121513","141214","131314","121414","131215","121315","121216","191212","181312","171412","161512","151612","141712","131812","121912","181213","171313","161413","151513","141613","131713","121813","171214","161314","151414","141514","131614","121714","161215","151315","141415","131515","121615","151216","141316","131416","121516","141217","131317","121417","131218","121318","121219","1<121312","121212121<1"])],["limiteda",s(["111411","111312","111213","111114","121311","121212","121113","141111","131211","131112","171111","161211","151311","141411","131511","121611","111711","161112","151212","141312","131412","121512","111612","151113","141213","131313","121413","111513","141114","131214","121314","111414","131115","121215","111315","121116","111216","111117","151111","1"])],["limitedb",s(["121512","121413","121314","121215","131412","131313","131214","151212","141312","141213","181212","171312","161412","151512","141612","131712","121812","171213","161313","151413","141513","131613","121713","161214","151314","141414","131514","121614","151215","141315","131415","121515","141216","131316","121416","131217","121317","121218","141212","1"])]]);e.encmaps=de,e.encs=c(e.encmaps,e.version),e.c2w=s([s([495,330,210,126,70,35,15,5]),s([165,120,84,56,35,20,10,4]),s([45,36,28,21,15,10,6,3]),s([9,8,7,6,5,4,3,2]),s([1,1,1,1,1,1,1,1])]),e.v=0;for(var $=e.cws,q=0,re=$.length;q<re;q++){e.cw=c($,q);for(var ce=0;ce<6;ce++)(e.cw^e.v)&1&&(e.v=e.v^7682),e.v=e.v>>>1,e.cw=e.cw>>>1}for(e.v=e.v+e.checkoffset,V(e.version,"limiteda")||V(e.version,"limitedb")?(e.v=e.v&1023,e.v>824&&e.v<853&&(e.v=e.v+292)):e.v=(e.v&1023)+45,e.d=s([2,2,2,2,2,2]),e.r=0,e.c=0,e.w=0,e.sum=0;e.sum!=e.v;)e.t=S(e.sum+c(c(e.c2w,e.r),e.c)),e.t==e.v&&(e.w=e.w+1,g(e.d,e.r,e.w+2),e.sum=e.t),e.t>e.v&&(g(e.d,e.r,e.w+2),e.r=e.r+1,e.w=0),e.t<e.v&&(e.c=e.c+1,e.w=e.w+1,e.sum=e.t);r[t++]=20;for(var J=0;J<=4;J+=1){var oe=r[--t];r[t++]=S(oe-c(e.d,J))}if(g(e.d,5,r[--t]),V(e.version,"b")||V(e.version,"limitedb")){r[t++]=1/0;for(var ue=e.d,he=0,Re=ue.length;he<Re;he++)r[t++]=c(ue,he)+1;e.d=s()}e.cbs=Fr(W(12),"111111111111");for(var te=5;te>=0;te-=1)e.i=te,g(e.cbs,(5-e.i)*2+1,c(e.d,e.i)+47);e.sbs=W(e.cws.length*6+31);var Be=c(e.encs,e.encs.length-2);R(e.sbs,0,Be),e.j=Be.length;for(var Se=0,Oe=e.cws.length-1;Se<=Oe;Se+=1)e.i=Se,R(e.sbs,e.j,c(e.encs,c(e.cws,e.i))),e.j=e.j+6;R(e.sbs,e.j,e.cbs),e.j=e.j+12;var Ue=c(e.encs,e.encs.length-1);R(e.sbs,e.j,Ue),e.j=Ue.length+e.j,e.sbs=C(e.sbs,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var be=e.sbs,$e=0,Fe=be.length;$e<Fe;$e++)r[t++]=c(be,$e)-48;var Ke=s();r[t++]=1/0;for(var Je=0,rt=~~((e.sbs.length+1)/2);Je<rt;Je++)r[t++]=e.height;var ae=s();r[t++]=1/0;for(var fe=0,Me=~~((e.sbs.length+1)/2);fe<Me;fe++)r[t++]=0;var Le=s(),Xe=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]),ze=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]);r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ke,r[t++]="bhs",r[t++]=ae,r[t++]="bbs",r[t++]=Le,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=c(Xe,e.version),r[t++]="borderright",r[t++]=c(ze,e.version),r[t++]="opt",r[t++]=e.options;var qe=_e();r[t++]=qe,e.dontdraw||It(),e=a}function Ry(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=8,e.rowheight=10,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],(e.columns<4||e.columns>62)&&(r[t++]="bwipp.codablockfBadColumns#14582",r[t++]="Codablock F must have 4 to 62 columns",z()),e.rows!=-1&&(e.rows<2||e.rows>44)&&(r[t++]="bwipp.codablockfBadRows#14586",r[t++]="Codablock F must have 2 to 44 rows",z()),e.rowheight<8&&(r[t++]="bwipp.codablockfBadRowHeight#14590",r[t++]="Codablock F must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.codablockfBadSepHeight#14594",r[t++]="Codablock F must have sepheight of at least 1",z()),r[t++]="c",e.columns>=4&&e.columns<=62?r[t++]=e.columns:r[t++]=8;var n=r[--t];e[r[--t]]=n,r[t++]="rows",e.rows>=2&&e.rows<=44?r[t++]=e.rows:r[t++]=-1;var i=r[--t];e[r[--t]]=i,e.swa=-1,e.swb=-2,e.swc=-3,e.sft=-4,e.fn1=-5,e.fn2=-6,e.fn3=-7,e.fn4=-8,e.sta=-9,e.stp=-10;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,e.msgtmp=s([]);for(var u=e.msg,f=0,h=u.length;f<h;f++)e.char=c(u,f),r[t++]=1/0,U(e.msgtmp),e.char<128?r[t++]=e.char:(r[t++]=e.fn4,r[t++]=e.char&127),e.msgtmp=s();e.kmsg=e.msg,e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=c(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var b=c(e.encs,e.j);if(r[t++]=b,V(tn(b),"stringtype")){var y=c(r[--t],0);r[t++]=y}g(c(e.charvals,e.j),r[--t],e.i)}}e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen||e.p!=0&&c(e.msg,e.p-1)==e.fn4);){var we=c(e.msg,e.p),Ee=c(e.setc,we)!==void 0;if(r[t++]=we,!Ee){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){g(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var we=r[t-1];if(Ie(tn(we),"arraytype")){var Ee=c(e.setc,r[--t]);r[t++]=Ee}else{U(r[--t]);var pe=r[--t],Ne=r[--t];r[t++]=S(pe-48+(Ne-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var we=r[--t],Ee=c(e.seta,we)!==void 0,pe=c(e.setb,we)!==void 0;r[t++]=Ee&&!pe},e.bnota=function(){var we=r[--t],Ee=c(e.setb,we)!==void 0,pe=c(e.seta,we)!==void 0;r[t++]=Ee&&!pe},r[t++]=1/0;for(var w=0,v=e.msg.length;w<v;w++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var A=0,j=e.msg.length;A<j;A++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var E=e.msg.length-1;E>=0;E-=1)e.i=E,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var we=r[--t];r[t++]=mn(c(e.nextanotb,we),c(e.nextbnota,we))},e.bbeforea=function(){var we=r[--t];r[t++]=mn(c(e.nextbnota,we),c(e.nextanotb,we))},e.padrow=function(){for(var we=0,Ee=r[--t];we<Ee;we++)for(;;){if(V(e.cset,"seta")){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(V(e.cset,"setb")){r[t++]=e.swc,e.encb(),e.cset="setc";break}if(V(e.cset,"setc")){r[t++]=e.swb,e.encc(),e.cset="setb";break}}},e.encafitsrow=function(){if(e.rem<=2&&c(e.msg,e.i)==e.fn4){var we=e.rem==2&&c(e.msg,e.i+1)<=95;r[t++]=we,we&&(r[t++]=e.fn4,e.enca(),r[t++]=c(e.msg,e.i+1),e.enca(),e.i=e.i+2)}else r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1,r[t++]=!0},e.encbfitsrow=function(){if(e.rem<=2&&c(e.msg,e.i)==e.fn4){var we=e.rem==2&&c(e.msg,e.i+1)>=32;r[t++]=we,we&&(r[t++]=e.fn4,e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2)}else r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1,r[t++]=!0},e.cws=s((e.c+5)*44),e.i=0,e.j=0,e.r=1,e.lastrow=!1;!e.lastrow;){for(e.r>44&&(r[t++]="bwipp.codablockfTooBig#14803",r[t++]="Maximum length exceeded",z()),r[t++]=e.sta,e.enca(),e.i<e.msglen?(r[t++]=e.i,e.numsscr()):(r[t++]=-1,r[t++]=-1),e.nums=r[--t],e.nchars=r[--t];;){if(e.msglen==0){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.nums>=2){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.sft,e.enca(),e.cset="seta";break}r[t++]=e.swb,e.enca(),e.cset="setb";break}for(e.j=e.j+1,e.endofrow=!1;e.rem=S(e.c+3-e.j%(e.c+5)),!(e.i==e.msglen||e.endofrow);){r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t],r[t++]="remnums",e.nums>e.rem*2?r[t++]=e.rem*2:r[t++]=e.nums;var k=r[--t];for(e[r[--t]]=k;;){if((V(e.cset,"seta")||V(e.cset,"setb"))&&e.remnums>=4&&c(e.msg,e.i)!=e.fn1){if(e.remnums%2==0&&e.rem>=3){r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var N=0;N<2;N++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.remnums%2!=0&&e.rem>=4){r[t++]=c(e.msg,e.i),V(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.swc,V(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var B=0;B<2;B++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}r[t++]=V(e.cset,"setb"),r[t++]=c(e.msg,e.i),e.anotb();var I=r[--t],D=r[--t];if(D&&I&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta",r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=V(e.cset,"seta"),r[t++]=c(e.msg,e.i),e.bnota();var T=r[--t],M=r[--t];if(M&&T&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb",r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(V(e.cset,"setc")&&e.remnums<2&&e.rem>=2){if(e.rem=e.rem-1,r[t++]=e.i,e.abeforeb(),r[--t]){if(r[t++]=e.swa,e.encc(),e.cset="seta",e.encafitsrow(),r[--t])break}else if(r[t++]=e.swb,e.encc(),e.cset="setb",e.encbfitsrow(),r[--t])break}var Q=c(e.seta,c(e.msg,e.i))!==void 0;if(V(e.cset,"seta")&&Q&&e.rem>=1&&(e.encafitsrow(),r[--t]))break;var F=c(e.setb,c(e.msg,e.i))!==void 0;if(V(e.cset,"setb")&&F&&e.rem>=1&&(e.encbfitsrow(),r[--t]))break;if(V(e.cset,"setc")&&e.remnums>=2&&e.rem>=1){c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}e.endofrow=!0;break}}(e.r>=e.rows||e.rows==-1)&&e.r>1&&e.i==e.msglen&&e.rem>=2?(r[t++]=e.rem-2,e.padrow(),e.j=e.j+3,r[t++]=e.stp,e.enca(),e.lastrow=!0):(r[t++]=e.rem,e.padrow(),e.j=e.j+1,r[t++]=e.stp,e.enca(),e.r=e.r+1)}e.cws=C(e.cws,0,e.j),r[t++]=1/0;for(var P=64;P<=95;P+=1)r[t++]=P;for(var L=0;L<=15;L+=1)r[t++]=L;for(var _=26;_<=63;_+=1)r[t++]=_;e.abmap=s(),r[t++]=1/0;for(var H=0;H<=85;H+=1)r[t++]=H;e.cmap=s(),e.chkmsg=s(e.kmsg.length),e.j=0;for(var Y=0,de=e.kmsg.length-1;Y<=de;Y+=1)e.i=Y,e.char=c(e.kmsg,e.i),e.char>=0&&(g(e.chkmsg,e.j,e.char),e.j=e.j+1),e.char==e.fn1&&e.i!=0&&(g(e.chkmsg,e.j,29),e.j=e.j+1);e.t1=0,e.t2=0,e.k1=0,e.k2=0;for(var $=0,q=e.j-1;$<=q;$+=1)e.i=$,e.t1=c(e.chkmsg,e.i)*e.i%86,e.t2=S(e.t1+c(e.chkmsg,e.i))%86,e.k1=S(e.k1+e.t2)%86,e.k2=S(e.k2+e.t1)%86;r[t++]=e.cws,r[t++]=e.cws.length-4,Ie(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var re=c(r[--t],e.k1),ce=r[--t];g(r[--t],ce,re),r[t++]=e.cws,r[t++]=e.cws.length-3,Ie(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var J=c(r[--t],e.k2),oe=r[--t];g(r[--t],oe,J);var ue=e.cws;r[t++]=ue,r[t++]=2,c(ue,1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var he=c(r[--t],e.r-2),Re=r[--t];g(r[--t],Re,he);for(var te=1,Be=e.r-1;te<=Be;te+=1){e.i=te;var Se=e.cws,Oe=e.i,Ue=e.c;r[t++]=Se,r[t++]=Oe*(Ue+5)+2,c(Se,Oe*(Ue+5)+2-1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var be=c(r[--t],e.i+42),$e=r[--t];g(r[--t],$e,be)}for(var Fe=0,Ke=e.r-1;Fe<=Ke;Fe+=1){e.rcws=C(e.cws,Fe*(e.c+5),e.c+4),e.csum=c(e.rcws,0);for(var Je=1,rt=e.rcws.length-2;Je<=rt;Je+=1)e.i=Je,e.csum=S(e.csum+c(e.rcws,e.i)*e.i);g(e.rcws,e.rcws.length-1,e.csum%103)}var ae=c(e.options,"debugcws")!==void 0;ae&&(r[t++]="bwipp.debugcws#15016",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","2331112"]),e.rowbits=s(e.r);for(var fe=0,Me=e.r-1;fe<=Me;fe+=1){e.i=fe,r[t++]=1/0;for(var Le=C(e.cws,e.i*(e.c+5),e.c+5),Xe=0,ze=Le.length;Xe<ze;Xe++)ve(c(e.encs,c(Le,Xe)),function(){var we=r[--t];r[t++]=we-48});e.sbs=s(),r[t++]=1/0;var qe=e.sbs;r[t++]=0;for(var ht=0,vt=qe.length;ht<vt;ht++)for(var dt=r[t-1],wt=dt==1?0:1,Bt=0,jt=c(qe,ht);Bt<jt;Bt++)r[t++]=wt;Vt(s(xa()-1));var At=r[--t];r[t-1]=At;var _t=r[--t];r[t-1]=_t,r[t++]=e.rowbits,r[t++]=e.i;var Mt=r[t-3],Lt=r[t-1];g(r[t-2],Lt,Mt),t-=3}e.symwid=e.c*11+57,r[t++]=1/0;for(var Dt=0,kt=e.symwid*e.sepheight;Dt<kt;Dt++)r[t++]=1;for(var O=0,K=e.r-2;O<=K;O+=1){e.i=O;for(var G=0,se=e.rowheight;G<se;G++)U(c(e.rowbits,e.i));for(var le=0,ge=e.sepheight;le<ge;le++){r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0;for(var ee=0,ke=e.symwid-24;ee<ke;ee++)r[t++]=1;r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=1}}for(var X=0,xe=e.rowheight;X<xe;X++)U(c(e.rowbits,e.r-1));for(var me=0,ye=e.symwid*e.sepheight;me<ye;me++)r[t++]=1;e.pixs=s();var ne=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.symwid],["pixy",~~(e.pixs.length/e.symwid)],["height",~~(e.pixs.length/e.symwid)/72],["width",e.symwid/72],["opt",e.options]]);r[t++]=ne,e.dontdraw||mt(),e=a}function aR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.rows=0,e.rowheight=8,e.sepheight=1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>16)&&(r[t++]="bwipp.code16kBadRows#15133",r[t++]="Code 16K must have 2 to 16 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code16kBadRowHeight#15137",r[t++]="Code 16K must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code16kBadSepHeight#15141",r[t++]="Code 16K must have sepheight of at least 1",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code16kBadSAM#15152",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.sam!=-1&&(e.rows=16),e.swa=-1,e.swb=-2,e.swc=-3,e.sa1=-4,e.sb1=-5,e.sc1=-6,e.sa2=-7,e.sb2=-8,e.sc2=-9,e.pad=-10,e.sb3=-11,e.sc3=-12,e.fn1=-13,e.fn2=-14,e.fn3=-15,e.fn4=-16,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sb1,e.sa1,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.pad,e.pad,e.pad]),s([e.sb2,e.sa2,e.sb1]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3])]),e.charvals=s([new Map,new Map,new Map]);for(var o=0,d=e.charmaps.length-1;o<=d;o+=1){e.i=o,e.encs=c(e.charmaps,e.i);for(var u=0;u<=2;u+=1){e.j=u;var f=c(e.encs,e.j);if(r[t++]=f,V(tn(f),"stringtype")){var h=c(r[--t],0);r[t++]=h}g(c(e.charvals,e.j),r[--t],e.i)}}if(e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var p=C(e.barcode,e.i+1,3);r[t++]=p,r[t++]=!1;for(var m=0,x=p.length;m<x;m++){var b=c(p,m);(b<48||b>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=De(r[--t]),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.code16kBadRawFormat#15241",r[t++]="raw data must be formatted as ^NNN",z()),e.cws=C(e.cws,0,e.j)}else{var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,r[t++]=1/0;for(var v=0,A=e.msglen;v<A;v++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var j=0,E=e.msglen;j<E;j++)r[t++]=0;r[t++]=0,e.numEA=s();for(var k=e.msglen-1;k>=0;k-=1)e.i=k,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?g(e.numEA,e.i,c(e.numEA,e.i+1)+1):g(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var N=0,B=e.msglen-1;N<=B;N+=1){if(e.i=N,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var I=c(r[--t],e.i),D=S(I+e.i)==e.msglen?3:5;I<D?(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,U(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,U(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var Ut=c(e.msg,e.p),wr=c(e.setc,Ut)!==void 0;if(r[t++]=Ut,!wr){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){g(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var Ut=r[t-1];if(Ie(tn(Ut),"arraytype")){var wr=c(e.setc,r[--t]);r[t++]=wr}else{U(r[--t]);var ta=r[--t],fa=r[--t];r[t++]=S(ta-48+(fa-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var Ut=r[--t],wr=c(e.seta,Ut)!==void 0,ta=c(e.setb,Ut)!==void 0;r[t++]=wr&&!ta},e.bnota=function(){var Ut=r[--t],wr=c(e.setb,Ut)!==void 0,ta=c(e.seta,Ut)!==void 0;r[t++]=wr&&!ta},r[t++]=1/0;for(var T=0,M=e.msg.length;T<M;T++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var Q=0,F=e.msg.length;Q<F;Q++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var P=e.msg.length-1;P>=0;P-=1)e.i=P,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var Ut=r[--t];r[t++]=mn(c(e.nextanotb,Ut),c(e.nextbnota,Ut))},e.bbeforea=function(){var Ut=r[--t];r[t++]=mn(c(e.nextbnota,Ut),c(e.nextanotb,Ut))},e.cws=s(e.barcode.length*2+3),e.i=0,e.j=0;;){if(e.sam!=-1){g(e.cws,0,~~(e.sam/10)-1),g(e.cws,1,e.sam%10-1),e.j=2,e.cset="setb",e.mode=7;break}if(e.msglen==0){e.cset="setb",e.mode=1;break}if(e.msglen>=2){r[t++]=c(e.msg,0)==e.fn1,r[t++]=1,e.numsscr();var L=r[--t];r[t-1]=L;var _=r[--t],H=r[--t];if(H&&_>=2){e.cset="setc",e.mode=4,e.i=1;break}}if(c(e.msg,0)==e.fn1){e.cset="setb",e.mode=3,e.i=1;break}if(e.msglen>=2){r[t++]=0,e.numsscr();var Y=r[--t];r[t-1]=Y;var de=r[--t];if(de>=2&&de%2==0){e.cset="setc",e.mode=2;break}r[t++]=0,e.numsscr();var $=r[--t];r[t-1]=$;var q=r[--t];if(q>=3&&q%2==1){r[t++]=c(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var re=c(e.setb,c(e.msg,0))!==void 0;r[t++]=re,r[t++]=1,e.numsscr();var ce=r[--t];r[t-1]=ce;var J=r[--t],oe=r[--t];if(oe&&J>=2&&J%2==0){r[t++]=c(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var ue=c(e.setb,c(e.msg,0))!==void 0;r[t++]=ue,r[t++]=1,e.numsscr();var he=r[--t];r[t-1]=he;var Re=r[--t],te=r[--t];if(te&&Re>=3&&Re%2==1){r[t++]=c(e.msg,0),e.encb(),r[t++]=c(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}var Be=c(e.setb,c(e.msg,0))!==void 0,Se=c(e.setb,c(e.msg,1))!==void 0;r[t++]=Be&&Se,r[t++]=2,e.numsscr();var Oe=r[--t];r[t-1]=Oe;var Ue=r[--t],be=r[--t];if(be&&Ue>=2&&Ue%2==0){r[t++]=c(e.msg,0),e.encb(),r[t++]=c(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}}if(r[t++]=0,e.abeforeb(),r[--t]){e.cset="seta",e.mode=0;break}e.cset="setb",e.mode=1;break}for(;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t];;){if(V(e.cset,"seta")){if(e.i<e.msglen-1){r[t++]=c(e.msg,e.i),e.bnota(),r[t++]=e.i+1,e.abeforeb();var $e=r[--t];if(r[--t]&&$e){r[t++]=e.sb1,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=c(e.msg,e.i),e.bnota(),r[t++]=c(e.msg,e.i+1),e.bnota();var Fe=r[--t],Ke=r[--t];r[t++]=fo(Ke,Fe),r[t++]=e.i+2,e.abeforeb();var Je=r[--t];if(r[--t]&&Je){r[t++]=e.sb2,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(r[t++]=c(e.msg,e.i),e.bnota(),r[--t]){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.i<e.msglen-4){var rt=c(e.seta,c(e.msg,e.i+4))!==void 0;if(e.nums==4&&rt){r[t++]=e.sc2,e.enca();for(var ae=0;ae<2;ae++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var fe=c(e.seta,c(e.msg,e.i+6))!==void 0;if(e.nums==6&&fe){r[t++]=e.sc3,e.enca();for(var Me=0;Me<3;Me++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.enca(),e.cset="setc";break}r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(V(e.cset,"setb")){if(e.i<e.msglen-1){r[t++]=c(e.msg,e.i),e.anotb(),r[t++]=e.i+1,e.bbeforea();var Le=r[--t];if(r[--t]&&Le){r[t++]=e.sa1,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=c(e.msg,e.i),e.anotb(),r[t++]=c(e.msg,e.i+1),e.anotb();var Xe=r[--t],ze=r[--t];r[t++]=fo(ze,Xe),r[t++]=e.i+2,e.bbeforea();var qe=r[--t];if(r[--t]&&qe){r[t++]=e.sa2,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),r[t++]=c(e.msg,e.i+1),e.enca(),e.i=e.i+2;break}}if(r[t++]=c(e.msg,e.i),e.anotb(),r[--t]){r[t++]=e.swa,e.encb(),e.cset="seta";break}if(e.i<e.msglen-4){var ht=c(e.setb,c(e.msg,e.i+4))!==void 0;if(e.nums==4&&ht){r[t++]=e.sc2,e.encb();for(var vt=0;vt<2;vt++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var dt=c(e.setb,c(e.msg,e.i+6))!==void 0;if(e.nums==6&&dt){r[t++]=e.sc3,e.encb();for(var wt=0;wt<3;wt++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.encb(),e.cset="setc";break}r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(V(e.cset,"setc")){if(e.nums>=2){c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.i<e.msglen-1){var Bt=c(e.setb,c(e.msg,e.i))!==void 0;r[t++]=Bt,r[t++]=e.i+1,e.numsscr();var jt=r[--t];r[t-1]=jt;var At=r[--t],_t=r[--t];if(_t&&At>=2&&At%2==0){r[t++]=e.sb1,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-1){var Mt=c(e.setb,c(e.msg,e.i))!==void 0;r[t++]=Mt,r[t++]=e.i+1,e.numsscr();var Lt=r[--t];r[t-1]=Lt;var Dt=r[--t],kt=r[--t];if(kt&&Dt>=3&&Dt%2==1){r[t++]=e.sb2,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-2){var O=c(e.setb,c(e.msg,e.i))!==void 0,K=c(e.setb,c(e.msg,e.i+1))!==void 0;r[t++]=O&&K,r[t++]=e.i+2,e.numsscr();var G=r[--t];r[t-1]=G;var se=r[--t],le=r[--t];if(le&&se>=2&&se%2==0){r[t++]=e.sb2,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-3){var ge=c(e.setb,c(e.msg,e.i))!==void 0,ee=c(e.setb,c(e.msg,e.i+1))!==void 0;r[t++]=ge&&ee,r[t++]=e.i+2,e.numsscr();var ke=r[--t];r[t-1]=ke;var X=r[--t],xe=r[--t];if(xe&&X>=3&&X%2==1){r[t++]=e.sb3,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),r[t++]=c(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(e.i<e.msglen-3){var me=c(e.setb,c(e.msg,e.i))!==void 0,ye=c(e.setb,c(e.msg,e.i+1))!==void 0,ne=c(e.setb,c(e.msg,e.i+2))!==void 0;r[t++]=me&&ye&&ne,r[t++]=e.i+3,e.numsscr();var we=r[--t];r[t-1]=we;var Ee=r[--t],pe=r[--t];if(pe&&Ee>=2&&Ee%2==0){r[t++]=e.sb3,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),r[t++]=c(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}break}e.cws=C(e.cws,0,e.j)}e.metrics=s([s([2,7]),s([3,12]),s([4,17]),s([5,22]),s([6,27]),s([7,32]),s([8,37]),s([9,42]),s([10,47]),s([11,52]),s([12,57]),s([13,62]),s([14,67]),s([15,72]),s([16,77])]),e.urows=e.rows;for(var Ne=e.metrics,Ae=0,Ce=Ne.length;Ae<Ce&&(e.m=c(Ne,Ae),e.r=c(e.m,0),e.dcws=c(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Ae++);e.okay||(r[t++]="bwipp.code16kNoValidSymbol#15731",r[t++]="Maximum length exceeded or data too large for given options",z()),r[t++]=1/0,U(e.cws);for(var Qe=0,Pe=S(e.dcws-e.cws.length);Qe<Pe;Qe++)r[t++]=103;e.cws=s(),r[t++]=1/0,r[t++]=S((e.r-2)*7+e.mode),U(e.cws),e.cws=s(),r[t++]=0;for(var We=0,st=e.dcws;We<=st;We+=1){var at=r[--t];r[t++]=S(at+(We+2)*c(e.cws,We))}e.c1=r[--t]%107,r[t++]=0;for(var je=0,Ge=e.dcws;je<=Ge;je+=1){var He=r[--t];r[t++]=S(He+(je+1)*c(e.cws,je))}e.c2=S(r[--t]+e.c1*(e.dcws+2))%107,r[t++]=1/0,U(e.cws),r[t++]=e.c1,r[t++]=e.c2,e.cws=s();var Ze=c(e.options,"debugcws")!==void 0;Ze&&(r[t++]="bwipp.debugcws#15747",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","211133"]),e.startencs=s(["3211","2221","2122","1411","1132","1231","1114","3112","3211","2221","2122","1411","1132","1231","1114","3112"]),e.stopencsodd=s(["3211","2221","2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411"]),e.stopencseven=s(["2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411","3211","2221"]),e.sam==-1||~~(e.sam/10)%2==1?e.stopencs=e.stopencsodd:e.stopencs=e.stopencseven,e.rowbits=s(e.r);for(var ft=0,pt=e.r-1;ft<=pt;ft+=1){e.i=ft,r[t++]=1/0,r[t++]=10,ve(c(e.startencs,e.i),function(){var Ut=r[--t];r[t++]=Ut-48});var ut=C(e.cws,e.i*5,5);r[t++]=1;for(var xt=0,nt=ut.length;xt<nt;xt++)ve(c(e.encs,c(ut,xt)),function(){var Ut=r[--t];r[t++]=Ut-48});ve(c(e.stopencs,e.i),function(){var Ut=r[--t];r[t++]=Ut-48}),r[t++]=1,e.sbs=s(),r[t++]=1/0;var Tt=e.sbs;r[t++]=1;for(var et=0,Qt=Tt.length;et<Qt;et++)for(var Ht=r[t-1],Ot=Ht==0?1:0,sr=0,Sr=c(Tt,et);sr<Sr;sr++)r[t++]=Ot;Vt(s(xa()-1));var nr=r[--t];r[t-1]=nr;var gr=r[--t];r[t-1]=gr,r[t++]=e.rowbits,r[t++]=e.i;var ar=r[t-3],Ir=r[t-1];g(r[t-2],Ir,ar),t-=3}r[t++]=1/0;for(var Zt=0,dr=81*e.sepheight;Zt<dr;Zt++)r[t++]=1;for(var Kt=0,Jt=e.r-2;Kt<=Jt;Kt+=1){e.i=Kt;for(var ur=0,Tr=e.rowheight;ur<Tr;ur++)U(c(e.rowbits,e.i));for(var Pr=0,ua=e.sepheight;Pr<ua;Pr++){for(var Et=0;Et<10;Et++)r[t++]=0;for(var Gt=0;Gt<70;Gt++)r[t++]=1;r[t++]=0}}for(var tr=0,br=e.rowheight;tr<br;tr++)U(c(e.rowbits,e.r-1));for(var ir=0,Br=81*e.sepheight;ir<Br;ir++)r[t++]=1;e.pixs=s();var or=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=or,e.dontdraw||mt(),e=a}function sR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.append=!1,e.rows=0,e.rowheight=8,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>8)&&(r[t++]="bwipp.code49badRows#15885",r[t++]="Code 49 must have 2 to 8 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code49badRowHeight#15889",r[t++]="Code 49 must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code49badSepHeight#15893",r[t++]="Code 49 must have sepheight of at least 1",z()),e.append&&e.sam!=-1&&(r[t++]="bwipp.code49samAndAppend#15897",r[t++]="sam and append cannot be specified together",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code49badSAM#15908",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.s1=-1,e.s2=-2,e.fn1=-3,e.fn2=-4,e.fn3=-5,e.ns=-6;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,ve(e.msg,function(){r[--t]>127&&(r[t++]="bwipp.code49badCharacter#15931",r[t++]="Code 49 can only support ASCII characters with values 0 to 127",z())}),e.charmap=s(["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%",e.s1,e.s2,e.fn1,e.fn2,e.fn3,e.ns]),e.charvals=new Map;for(var u=0;u<=48;u+=1){e.i=u;var f=c(e.charmap,e.i);if(r[t++]=f,V(tn(f),"stringtype")){var h=c(r[--t],0);r[t++]=h}g(e.charvals,r[--t],e.i)}e.combos=s(["1 ","1A","1B","1C","1D","1E","1F","1G","1H","1I","1J","1K","1L","1M","1N","1O","1P","1Q","1R","1S","1T","1U","1V","1W","1X","1Y","1Z","11","12","13","14","15","  ","16","17","18"," $"," %","19","10","1-","1.","1$"," +","1/"," -"," ."," /"," 0"," 1"," 2"," 3"," 4"," 5"," 6"," 7"," 8"," 9","1+","21","22","23","24","25","26"," A"," B"," C"," D"," E"," F"," G"," H"," I"," J"," K"," L"," M"," N"," O"," P"," Q"," R"," S"," T"," U"," V"," W"," X"," Y"," Z","27","28","29","20","2-","2.","2A","2B","2C","2D","2E","2F","2G","2H","2I","2J","2K","2L","2M","2N","2O","2P","2Q","2R","2S","2T","2U","2V","2W","2X","2Y","2Z","2$","2/","2+","2%","2 "]);for(var p=0;p<=127;p+=1){e.i=p;var m=c(e.combos,e.i);e.c1=c(m,0),e.c2=c(m,1),e.c1==49&&g(e.charvals,e.i,s([c(e.charvals,e.s1),c(e.charvals,e.c2)])),e.c1==50&&g(e.charvals,e.i,s([c(e.charvals,e.s2),c(e.charvals,e.c2)]))}e.encodealpha=function(){var Ce=c(e.charvals,r[--t]);r[t++]=Ce,Ie(tn(Ce),"arraytype")&&Vt(s(1));var Qe=r[--t];R(e.cws,e.j,Qe),e.j=Qe.length+e.j},e.base48=function(){var Ce=r[--t];r[t++]=0,ve(Ce,function(){var ut=r[--t],xt=r[--t];r[t++]=S(ut-48+xt*10)}),r[t++]=1/0;var Qe=r[t-2],Pe=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Qe;for(var We=0,st=Pe-1;We<st;We++){var at=r[--t];r[t++]=at%48,r[t++]=~~(at/48)}var je=s(),Ge=1/0,He=je;r[t++]=Ge,r[t++]=He;for(var Ze=He.length-1;Ze>=0;Ze-=1){var ft=r[--t];r[t++]=c(ft,Ze),r[t++]=ft}t--;var pt=s();R(e.cws,e.j,pt),e.j=pt.length+e.j},e.encodenumeric=function(){e.nums=r[--t];var Ce=e.nums.length,Qe=Ce%5;if(r[t++]="pre",r[t++]=Ce,r[t++]=Qe,Qe!=2){var Pe=r[--t],We=r[--t];r[t++]=S(We-Pe)}else{var st=r[--t],at=r[--t];r[t++]=S(at-st)-5}var je=r[--t];e[r[--t]]=je;for(var Ge=0,He=e.pre-1;Ge<=He;Ge+=5)r[t++]=3,r[t++]=C(e.nums,Ge,5),e.base48();e.nums=C(e.nums,e.pre,S(e.nums.length-e.pre));var Ze=e.nums.length;r[t++]=Ze,Ze==1&&(r[t++]=c(e.nums,e.i),e.encodealpha());var ft=r[t-1];ft==3&&(r[t++]=2,r[t++]=e.nums,e.base48());var pt=r[t-1];if(pt==4){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,U(e.nums);var ut=s();r[t++]=ut,e.base48()}if(r[--t]==7){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,U(C(e.nums,0,4));var xt=s();r[t++]=xt,e.base48(),r[t++]=2,r[t++]=C(e.nums,4,3),e.base48()}},r[t++]=1/0;for(var x=0,b=e.msglen;x<b;x++)r[t++]=0;r[t++]=0,e.numericruns=s();for(var y=e.msglen-1;y>=0;y-=1){e.i=y;var w=c(e.msg,e.i);w>=48&&w<=57?g(e.numericruns,e.i,c(e.numericruns,e.i+1)+1):g(e.numericruns,e.i,0)}for(e.cws=s(e.msglen*2+1),e.samval=s([12,22,13,23,33,14,24,34,44,15,25,35,45,55,16,26,36,46,56,66,17,27,37,47,57,67,77,18,28,38,48,58,68,78,88,19,29,39,49,59,69,79,89,99]);;){if(e.append){e.mode=1,e.method="alpha",e.i=0,e.j=0;break}if(e.sam!=-1){e.mode=3,r[t++]=e.cws,r[t++]=0;for(var v=0;v<=43;v+=1)r[t++]=v,c(e.samval,v)!=e.sam&&t--;var A=r[--t],j=r[--t];g(r[--t],j,A+1),e.method="alpha",e.i=0,e.j=1;break}if(c(e.numericruns,0)>=5){e.mode=2,e.method="numeric",e.i=0,e.j=0;break}var E=c(e.charvals,c(e.msg,0));if(r[t++]=E,Ie(tn(E),"arraytype")){t--,e.mode=0,e.method="alpha",e.i=0,e.j=0;break}var k=c(r[--t],0)==43?4:5;e.mode=k,g(e.cws,0,c(c(e.charvals,c(e.msg,0)),1)),e.method="alpha",e.i=1,e.j=1;break}for(;e.i!=e.msglen;)for(;;){if(V(e.method,"alpha")){if(c(e.numericruns,e.i)>=5){r[t++]=e.ns,e.encodealpha(),e.method="numeric";break}r[t++]=c(e.msg,e.i),e.encodealpha(),e.i=e.i+1;break}if(V(e.method,"numeric")){if(c(e.numericruns,e.i)<5){r[t++]=e.ns,e.encodealpha(),e.method="alpha";break}r[t++]=C(e.msg,e.i,c(e.numericruns,e.i)),e.encodenumeric(),e.i=S(e.i+c(e.numericruns,e.i));break}}e.cws=C(e.cws,0,e.j),e.metrics=s([s([2,9]),s([3,16]),s([4,23]),s([5,30]),s([6,37]),s([7,42]),s([8,49])]),e.urows=e.rows;for(var N=e.metrics,B=0,I=N.length;B<I&&(e.m=c(N,B),e.r=c(e.m,0),e.dcws=c(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);B++);e.okay||(r[t++]="bwipp.code49noValidSymbol#16125",r[t++]="Maximum length exceeded",z()),r[t++]=1/0,U(e.cws);for(var D=0,T=S(e.dcws-e.cws.length);D<T;D++)r[t++]=48;e.cws=s(),e.ccs=s(e.r*8),e.j=0;for(var M=0,Q=e.r-2;M<=Q;M+=1){e.i=M,e.cc=C(e.cws,e.j,7),R(e.ccs,e.i*8,e.cc);var F=e.cc;r[t++]=e.ccs,r[t++]=e.i*8+7,r[t++]=0;for(var P=0,L=F.length;P<L;P++){var _=r[--t];r[t++]=S(_+c(F,P))}var H=r[--t],Y=r[--t];g(r[--t],Y,H%49),e.j=e.j+7}e.j<e.dcws&&R(e.ccs,e.ccs.length-8,C(e.cws,e.j,S(e.dcws-e.j))),e.cr7=S((e.r-2)*7+e.mode),g(e.ccs,e.ccs.length-2,e.cr7);var de=s([1,9,31,26,2,12,17,23,37,18,22,6,27,44,15,43,39,11,13,5,41,33,36,8,4,32,3,19,40,25,29,10,24,30]);r[t++]=de,r[t++]=de,r[t++]=1/0;var $=r[--t],q=C(r[--t],0,32);r[t++]=$,r[t++]=20,U(q),e.weightx=s();var re=r[t-1];r[t++]=re,r[t++]=1/0;var ce=r[--t],J=C(r[--t],1,32);r[t++]=ce,r[t++]=16,U(J),e.weighty=s(),r[t++]=1/0;var oe=r[--t],ue=C(r[--t],2,32);if(r[t++]=oe,r[t++]=38,U(ue),e.weightz=s(),e.calccheck=function(){e.weights=r[--t],e.score=0;for(var Ce=0,Qe=~~((e.r-1)*8/2)-1;Ce<=Qe;Ce+=1)e.i=Ce,e.score=S((c(e.ccs,e.i*2)*49+c(e.ccs,e.i*2+1))*c(e.weights,e.i+1)+e.score);r[t++]=e.score},e.lastrow=C(e.ccs,e.ccs.length-8,8),e.r>=7){r[t++]=e.cr7*c(e.weightz,0),r[t++]=e.weightz,e.calccheck();var he=r[--t],Re=S(r[--t]+he)%2401;r[t++]=~~(Re/49),r[t++]=Re%49,Vt(s(2)),r[t++]=e.lastrow,r[t++]=0;var te=r[t-3],Be=r[t-1];R(r[t-2],Be,te),t-=3}e.wr1=S(c(e.lastrow,0)*49+c(e.lastrow,1)),r[t++]=e.cr7*c(e.weighty,0),r[t++]=e.weighty,e.calccheck();var Se=r[--t],Oe=S(r[--t]+Se+e.wr1*c(e.weighty,e.r*4-3))%2401;e.wr2=Oe,r[t++]=~~(Oe/49),r[t++]=Oe%49,Vt(s(2)),r[t++]=e.lastrow,r[t++]=2;var Ue=r[t-3],be=r[t-1];R(r[t-2],be,Ue),t-=3,r[t++]=e.cr7*c(e.weightx,0),r[t++]=e.weightx,e.calccheck();var $e=r[--t],Fe=S(r[--t]+$e+e.wr1*c(e.weightx,e.r*4-3)+e.wr2*c(e.weightx,e.r*4-2))%2401;r[t++]=~~(Fe/49),r[t++]=Fe%49,Vt(s(2)),r[t++]=e.lastrow,r[t++]=4;var Ke=r[t-3],Je=r[t-1];R(r[t-2],Je,Ke),t-=3;var rt=C(e.ccs,e.ccs.length-8,7);r[t++]=0;for(var ae=0,fe=rt.length;ae<fe;ae++){var Me=r[--t];r[t++]=S(Me+c(rt,ae))}g(e.ccs,e.ccs.length-1,r[--t]%49);var Le=c(e.options,"debugcws")!==void 0;Le&&(r[t++]="bwipp.debugcws#16196",r[t++]=e.ccs,z()),e.patterns=s([s(["11521132","25112131","14212132","25121221","14221222","12412132","23321221","12421222","21521221","15112222","15121312","13312222","24221311","13321312","11512222","22421311","11521312","25112311","14212312","23312311","12412312","21512311","16121131","14321131","12521131","15212131","15221221","13412131","13421221","11612131","16112221","16121311","14312221","14321311","12512221","12521311","15212311","13412311","11612311","11131135","31131133","51131131","21122134","41122132","21131224","41131222","11113135","31113133","51113131","11122225","31122223","51122221","11131315","31131313","51131311","21113224","41113222","21122314","41122312","11113315","31113313","51113311","12131134","32131132","21231133","41231131","22122133","42122131","11222134","22131223","42131221","11231224","31231222","12113134","32113132","12122224","32122222","12131314","32131312","21231313","41231311","22113223","42113221","11213224","22122313","42122311","11222314","31222312","12113314","32113312","21213313","41213311","13131133","33131131","22231132","11331133","31331131","23122132","12222133","23131222","12231223","32231221","21331222","13113133","33113131","13122223","33122221","11313133","13131313","33131311","11322223","22231312","11331313","31331311","23113222","12213223","23122312","12222313","32222311","21322312","13113313","33113311","22213312","11313313","31313311","14131132","23231131","12331132","21431131","24122131","13222132","24131221","13231222","11422132","22331221","11431222","14113132","14122222","12313132","14131312","12322222","23231311","12331312","21431311","24113221","13213222","24122311","13222312","11413222","22322311","11422312","14113312","23213311","12313312","21413311","15131131","13331131","14222131","14231221","12422131","12431221","15113131","15122221","13313131","15131311","13322221","11513131","13331311","11522221","14213221","14222311","12413221","12422311","15113311","13313311","11513311","11141134","31141132","21132133","41132131","21141223","41141221","11123134","31123132","11132224","31132222","11141314","31141312","21114133","41114131","21123223","41123221","21132313","41132311","11114224","31114222","11123314","31123312","21114313","41114311","12141133","32141131","21241132","22132132","11232133","22141222","11241223","31241221","12123133","32123131","12132223","32132221","12141313","32141311","21241312","22114132","11214133","22123222","11223223","22132312","11232313","31232311","12114223","32114221","12123313","32123311","21223312","22114312","11214313","31214311","13141132","22241131","11341132","23132131","12232132","23141221","12241222","21341221","13123132","13132222","11323132","13141312","11332222","22241311","11341312","23114131","12214132","23123221","12223222","23132311","12232312","21332311","13114222","13123312","11314222","22223311","11323312","23114311","12214312","21314311","14141131","12341131","13232131","13241221","11432131","14123131","14132221","12323131","14141311","12332221","12341311","13214131","13223221","11414131","13232311","11423221","11432311","14114221","14123311","12314221","12323311","13214311","11414311","11151133","31151131","21142132","21151222","11133133","31133131","11142223","31142221","11151313","31151311","21124132","21133222","21142312","11115133","31115131","11124223","31124221","11133313","31133311","21115222","21124312","12151132","21251131","22142131","11242132","22151221","11251222","12133132","12142222","12151312","21251311","22124131","11224132","22133221","11233222","22142311","11242312","12115132","12124222","12133312","21233311","22115221","11215222","22124311","11224312","13151131","12242131","12251221","13133131","13142221","11333131","13151311","11342221","12224131","12233221","12242311","13115131","13124221","11315131","13133311","11324221","11333311","12215221","12224311","11161132","21152131","21161221","11143132","11152222","11161312","21134131","21143221","21152311","11125132","11134222","11143312","21116131","21125221","21134311","12161131","11252131","12143131","12152221","12161311","11234131","11243221","11252311","12125131","12134221","12143311","11216131","11225221","11234311","11111236","31111234","51111232","21111325","41111323","61111321","11111416","31111414","51111412","31211143","51211141","12111235","32111233","52111231","21211234","41211232","22111324","42111322","11211325","31211323","51211321","12111415","32111413","52111411","21211414","41211412","12211144","32211142","21311143","41311141","13111234","33111232","22211233","42211231","11311234","31311232","23111323","43111321","12211324","32211322","21311323","41311321","13111414","33111412","22211413","42211411","11311414","31311412","13211143","33211141","22311142","11411143","31411141","14111233","34111231","23211232","12311233","32311231","21411232","24111322","13211323","33211321","22311322","11411323","31411321","14111413","34111411","23211412","12311413","32311411","21411412","14211142","23311141","12411142","21511141","15111232","24211231","13311232","22411231","11511232","25111321","14211322","23311321","12411322","21511321","15111412","24211411","13311412","22411411","11511412","15211141","13411141","11611141","16111231","14311231","12511231","15211321","13411321","11611321","16111411","14311411","12511411","21121144","41121142","11112145","31112143","51112141","11121235","31121233","51121231","21112234","41112232","21121324","41121322","11112325","31112323","51112321","11121415","31121413","51121411","21112414","41112412","22121143","42121141","11221144","31221142","12112144","32112142","12121234","32121232","21221233","41221231","22112233","42112231","11212234","22121323","42121321","11221324","31221322","12112324","32112322","12121414","32121412","21221413","41221411","22112413","42112411","11212414","31212412","23121142","12221143","32221141","21321142","13112143","33112141","13121233","33121231","11312143","22221232","11321233","31321231","23112232","12212233","23121322","12221323","32221321","21321322","13112323","33112321","13121413","33121411","11312323","22221412","11321413","31321411","23112412","12212413","32212411","21312412","24121141","13221142","22321141","11421142","14112142","14121232","12312142","23221231","12321232","21421231","24112231","13212232","24121321","13221322","11412232","22321321","11421322","14112322","14121412","12312322","23221411","12321412","21421411","24112411","13212412","22312411","11412412","14221141","12421141","15112141","15121231","13312141","13321231","11512141","11521231","14212231","14221321","12412231","12421321","15112321","15121411","13312321","13321411","11512321","11521411","14212411","12412411","21131143","41131141","11122144","31122142","11131234","31131232","21113143","41113141","21122233","41122231","21131323","41131321","11113234","31113232","11122324","31122322","11131414","31131412","21113323","41113321","21122413","41122411","11113414","31113412","22131142","11231143","31231141","12122143","32122141","12131233","32131231","21231232","22113142","11213143","22122232","11222233","22131322","11231323","31231321","12113233","32113231","12122323","32122321","12131413","32131411","21231412","22113322","11213323","22122412","11222413","31222411","12113413","32113411","21213412","23131141","12231142","21331141","13122142","13131232","11322142","22231231","11331232","23113141","12213142","23122231","12222232","23131321","12231322","21331321","13113232","13122322","11313232","13131412","11322322","22231411","11331412","23113321","12213322","23122411","12222412","21322411","13113412","22213411","11313412","13231141","11431141","14122141","14131231","12322141","12331231","13213141","13222231","11413141","13231321","11422231","11431321","14113231","14122321","12313231","14131411","12322321","12331411","13213321","13222411","11413321","11422411","14113411","12313411","21141142","11132143","31132141","11141233","31141231","21123142","21132232","21141322","11114143","31114141","11123233","31123231","11132323","31132321","11141413","31141411","21114232","21123322","21132412","11114323","31114321","11123413","31123411","22141141","11241142","12132142","12141232","21241231","22123141","11223142","22132231","11232232","22141321","11241322","12114142","12123232","12132322","12141412","21241411","22114231","11214232","22123321","11223322","22132411","11232412","12114322","12123412","21223411","12241141","13132141","13141231","11332141","11341231","12223141","12232231","12241321","13114141","13123231","11314141","13132321","11323231","13141411","11332321","11341411","12214231","12223321","12232411","13114321","13123411","11314321","11323411","21151141","11142142","11151232","21133141","21142231","21151321","11124142","11133232","11142322","11151412","21115141","21124231","21133321","21142411","11115232","11124322","11133412","11251141","12142141","12151231","11233141","11242231","11251321","12124141","12133231","12142321","12151411","11215141","11224231","11233321","11242411","12115231","12124321","12133411","11152141","11161231","11134141","11143231","11152321","11161411","11116141","11125231","11134321","11143411","21111244","41111242","11111335","31111333","51111331","21111424","41111422","11111515","31111513","51111511","21211153","41211151","22111243","42111241","11211244","31211242","12111334","32111332","21211333","41211331","22111423","42111421","11211424","31211422","12111514","32111512","21211513","41211511","22211152","11311153","31311151","23111242","12211243","32211241","21311242","13111333","33111331","22211332","11311333","31311331","23111422","12211423","32211421","21311422","13111513","33111511","22211512","11311513","31311511","23211151","12311152","21411151","24111241","13211242","22311241","11411242","14111332","23211331","12311332","21411331","24111421","13211422","22311421","11411422","14111512","23211511","12311512","21411511","13311151","11511151","14211241","12411241","15111331","13311331","11511331","14211421","12411421","15111511","13311511","11511511","31121152","21112153","41112151","21121243","41121241","11112244","31112242","11121334","31121332","21112333","41112331","21121423","41121421","11112424","31112422","11121514","31121512","21112513","41112511","12121153","32121151","21221152","22112152","11212153","22121242","11221243","31221241","12112243","32112241","12121333","32121331","21221332","22112332","11212333","22121422","11221423","31221421","12112423","32112421","12121513","32121511","21221512","22112512","11212513","31212511","13121152","22221151","11321152","23112151","12212152","23121241","12221242","21321241","13112242","13121332","11312242","22221331","11321332","23112331","12212332","23121421","12221422","21321421","13112422","13121512","11312422","22221511","11321512","23112511","12212512","21312511","14121151","12321151","13212151","13221241","11412151","11421241","14112241","14121331","12312241","12321331","13212331","13221421","11412331","11421421","14112421","14121511","12312421","12321511","13212511","11412511","11131153","31131151","21122152","21131242","11113153","31113151","11122243","31122241","11131333","31131331","21113242","21122332","21131422","11113333","31113331","11122423","31122421","11131513","31131511","21113422","21122512","12131152","21231151","22122151","11222152","22131241","11231242","12113152","12122242","12131332","21231331","22113241","11213242","22122331","11222332","22131421","11231422","12113332","12122422","12131512","21231511","22113421","11213422","22122511","11222512","13131151","11331151","12222151","12231241","13113151","13122241","11313151","13131331","11322241","11331331","12213241","12222331","12231421","13113331","13122421","11313331","13131511","11322421","11331511","12213421","12222511","11141152","21132151","21141241","11123152","11132242","11141332","21114151","21123241","21132331","21141421","11114242","11123332","11132422","11141512","21114331","21123421","21132511","12141151","11232151","11241241","12123151","12132241","12141331","11214151","11223241","11232331","11241421","12114241","12123331","12132421","12141511","11214331","11223421","11232511","11151151","11133151","11142241","11151331","11115151","11124241","11133331","11142421","11151511","11111254","31111252","21111343","41111341","11111434","31111432","21111523","41111521","11111614","31111612","31211161","12111253","32111251","21211252","22111342","11211343","31211341","12111433","32111431","21211432","22111522","11211523","31211521","12111613","32111611","21211612","12211162","21311161","13111252","22211251","11311252","23111341","12211342","21311341","13111432","22211431","11311432","23111521","12211522","21311521","13111612","22211611","11311612","13211161","11411161","14111251","12311251","13211341","11411341","14111431","12311431","13211521","11411521","14111611","12311611","21121162","11112163","31112161","11121253","31121251","21112252","21121342","11112343","31112341","11121433","31121431","21112432","21121522","11112523","31112521","11121613","31121611","22121161","11221162","12112162","12121252","21221251","22112251","11212252","22121341","11221342","12112342","12121432","21221431","22112431","11212432","22121521","11221522","12112522","12121612","21221611","12221161","13112161","13121251","11312161","11321251","32121115","52121113","21221116","41221114","61221112","22112116","42112114","31212115","51212113","13121116","33121114","22221115","42221113","11321116","31321114","51321112","23112115","43112113","12212116","32212114","52212112","21312115","41312113","61312111","14121115","34121113","23221114","43221112","12321115","32321113","52321111","21421114","41421112","24112114","13212115","33212113","22312114","42312112","11412115","31412113","51412111","15121114","24221113","13321114","33321112","22421113","42421111","11521114","31521112","25112113","14212114","34212112","23312113","43312111","12412114","32412112","21512113","41512111","16121113","25221112","14321113","34321111","23421112","12521113","32521111","15212113","24312112","13412113","33412111","22512112","11612113","31612111","31131115","51131113","21122116","41122114","61122112","31113115","51113113","12131116","32131114","52131112","21231115","41231113","61231111","22122115","42122113","11222116","31222114","51222112","12113116","32113114","52113112","21213115","41213113","61213111","13131115","33131113","22231114","42231112","11331115","31331113","51331111","23122114","43122112","12222115","32222113","52222111","21322114","41322112","13113115","33113113","22213114","42213112","11313115","31313113","51313111","14131114","34131112","23231113","43231111","12331114","32331112","21431113","41431111","24122113","13222114","33222112","22322113","42322111","11422114","31422112","14113114","34113112","23213113","43213111","12313114","32313112","21413113","41413111","15131113","24231112","13331113","33331111","22431112","25122112","14222113","34222111","23322112","12422113","32422111","21522112","15113113","24213112","13313113","33313111","22413112","11513113","31513111","16131112","25231111","14331112","23431111","15222112","24322111","13422112","22522111","16113112","25213111","14313112","23413111","12513112","21613111","11141116","31141114","51141112","21132115","41132113","61132111","11123116","31123114","51123112","21114115","41114113","61114111","12141115","32141113","52141111","21241114","41241112","22132114","42132112","11232115","31232113","51232111","12123115","32123113","52123111","21223114","41223112","22114114","42114112","11214115","31214113","51214111","13141114","33141112","22241113","42241111","11341114","31341112","23132113","43132111","12232114","32232112","21332113","41332111","13123114","33123112","22223113","42223111","11323114","31323112","23114113","43114111","12214114","32214112","21314113","41314111","14141113","34141111","23241112","12341113","32341111","24132112","13232113","33232111","22332112","11432113","31432111","14123113","34123111","23223112","12323113","32323111","21423112","24114112","13214113","33214111","22314112","11414113","31414111","15141112","24241111","13341112","25132111","14232112","23332111","12432112","15123112","24223111","13323112","22423111","11523112","25114111","14214112","23314111","12414112","21514111","16141111","14341111","15232111","13432111","16123111","14323111","12523111","15214111","13414111","11614111","11151115","31151113","51151111","21142114","41142112","11133115","31133113","51133111","21124114","41124112","11115115","31115113","51115111","12151114","32151112","21251113","41251111","22142113","42142111","11242114","31242112","12133114","32133112","21233113","41233111","22124113","42124111","11224114","31224112","12115114","32115112","21215113","41215111","13151113","33151111","22251112","23142112","12242113","32242111","21342112","13133113","33133111","22233112","11333113","31333111","23124112","12224113","32224111","21324112","13115113","33115111","22215112","11315113","31315111","14151112","23251111","24142111","13242112","22342111","14133112","23233111","12333112","21433111","24124111","13224112","22324111","11424112","14115112","23215111","12315112","21415111","15151111","14242111","15133111","13333111","14224111","12424111","15115111","13315111","11515111","11161114","31161112","21152113","41152111","11143114","31143112","21134113","41134111","11125114","31125112","21116113","41116111","12161113","32161111","22152112","11252113","31252111","12143113","32143111","21243112","22134112","11234113","31234111","12125113","32125111","21225112","22116112","11216113","31216111","13161112","23152111","12252112","13143112","22243111","11343112","23134111","12234112","21334111","13125112","22225111","11325112","23116111","12216112","21316111","14161111","13252111","14143111","12343111","13234111","11434111","14125111","12325111","13216111","11416111","31111216","51111214","31211125","51211123","32111215","52111213","21211216","41211214","61211212","12211126","32211124","52211122","21311125","41311123","61311121","13111216","33111214","22211215","42211213","11311216","31311214","51311212","13211125","33211123","22311124","42311122","11411125","31411123","51411121","14111215","34111213","23211214","43211212","12311215","32311213","52311211","21411214","41411212","14211124","34211122","23311123","43311121","12411124","32411122","21511123","41511121","15111214","24211213","13311214","33311212","22411213","42411211","11511214","31511212","15211123","24311122","13411123","33411121","22511122","11611123","31611121","16111213","25211212","14311213","34311211","23411212","12511213","32511211","21611212","21121126","41121124","61121122","31112125","51112123","31121215","51121213","21112216","41112214","61112212","22121125","42121123","11221126","31221124","51221122","12112126","32112124","52112122","12121216","32121214","52121212","21221215","41221213","61221211","22112215","42112213","11212216","31212214","51212212","23121124","43121122","12221125","32221123","52221121","21321124","41321122","13112125","33112123","13121215","33121213","11312125","22221214","42221212","11321215","31321213","51321211","23112214","43112212","12212215","32212213","52212211","21312214","41312212","24121123","13221124","33221122","22321123","42321121","11421124","31421122","14112124","34112122","14121214","34121212","12312124","23221213","43221211","12321214","32321212","21421213","41421211","24112213","13212214","33212212","22312213","42312211","11412214","31412212","25121122","14221123","34221121","23321122","12421123","32421121","21521122","15112123","15121213","13312123","24221212","13321213","33321211","11512123","22421212","11521213","31521211","25112212","14212213","34212211","23312212","12412213","32412211","21512212","15221122","24321121","13421122","22521121","16112122","16121212","14312122","25221211","14321212","12512122","23421211","12521212","15212212","24312211","13412212","22512211","11612212","21131125","41131123","61131121","11122126","31122124","51122122","11131216","31131214","51131212","21113125","41113123","61113121","21122215","41122213","61122211","11113216","31113214","51113212","22131124","42131122","11231125","31231123","51231121","12122125","32122123","52122121","12131215","32131213","52131211","21231214","41231212","22113124","42113122","11213125","22122214","42122212","11222215","31222213","51222211","12113215","32113213","52113211","21213214","41213212","23131123","43131121","12231124","32231122","21331123","41331121","13122124","33122122","13131214","33131212","11322124","22231213","42231211","11331214","31331212","23113123","43113121","12213124","23122213","43122211","12222214","32222212","21322213","41322211","13113214","33113212","22213213","42213211","11313214","31313212","24131122","13231123","33231121","22331122","11431123","31431121","14122123","34122121","14131213","34131211","12322123","23231212","12331213","32331211","21431212","24113122","13213123","24122212","13222213","33222211","11413123","22322212","11422213","31422211","14113213","34113211","23213212","12313213","32313211","21413212","25131121","14231122","23331121","12431122","15122122","15131212","13322122","24231211","13331212","11522122","22431211","25113121","14213122","25122211","14222212","12413122","23322211","12422212","21522211","15113212","24213211","13313212","22413211","11513212","15231121","13431121","16122121","16131211","14322121","14331211","12522121","15213121","15222211","13413121","13422211","11613121","16113211","14313211","12513211","21141124","41141122","11132125","31132123","51132121","11141215","31141213","51141211","21123124","41123122","21132214","41132212","11114125","31114123","51114121","11123215","31123213","51123211","21114214","41114212","22141123","42141121","11241124","31241122","12132124","32132122","12141214","32141212","21241213","41241211","22123123","42123121","11223124","22132213","42132211","11232214","31232212","12114124","32114122","12123214","32123212","21223213","41223211","22114213","42114211","11214214","31214212","23141122","12241123","32241121","21341122","13132123","33132121","13141213","33141211","11332123","22241212","11341213","31341211","23123122","12223123","23132212","12232213","32232211","21332212","13114123","33114121","13123213","33123211","11314123","22223212","11323213","31323211","23114212","12214213","32214211","21314212","24141121","13241122","22341121","14132122","14141212","12332122","23241211","12341212","24123121","13223122","24132211","13232212","11423122","22332211","11432212","14114122","14123212","12314122","23223211","12323212","21423211","24114211","13214212","22314211","11414212","14241121","15132121","15141211","13332121","13341211","14223121","14232211","12423121","12432211","15114121","15123211","13314121","13323211","11514121","11523211","14214211","12414211","21151123","41151121","11142124","31142122","11151214","31151212","21133123","41133121","21142213","41142211","11124124","31124122","11133214","31133212","21115123","41115121","21124213","41124211","11115214","31115212","22151122","11251123","31251121","12142123","32142121","12151213","32151211","21251212","22133122","11233123","22142212","11242213","31242211","12124123","32124121","12133213","32133211","21233212","22115122","11215123","22124212","11224213","31224211","12115213","32115211","21215212","23151121","12251122","13142122","13151212","11342122","22251211","23133121","12233122","23142211","12242212","21342211","13124122","13133212","11324122","22233211","11333212","23115121","12215122","23124211","12224212","21324211","13115212","22215211","11315212","13251121","14142121","14151211","12342121","13233121","13242211","11433121","14124121","14133211","12324121","12333211","13215121","13224211","11415121","11424211","14115211","12315211","21161122","11152123","31152121","11161213","31161211","21143122","21152212","11134123","31134121","11143213","31143211","21125122","21134212","11116123","31116121","11125213","31125211","22161121","12152122","12161212","22143121","11243122","22152211","11252212","12134122","12143212","21243211","22125121","11225122","22134211","11234212","12116122","12125212","21225211","13152121","13161211","12243121","12252211","13134121","13143211","11334121","11343211","12225121","12234211","13116121","13125211","11316121","11325211","21111226","41111224","61111222","31111315","51111313","21211135","41211133","61211131","22111225","42111223","11211226","31211224","51211222","12111316","32111314","52111312","21211315","41211313","61211311","22211134","42211132","11311135","31311133","51311131","23111224","43111222","12211225","32211223","52211221","21311224","41311222","13111315","33111313","22211314","42211312","11311315","31311313","51311311","23211133","43211131","12311134","32311132","21411133","41411131","24111223","13211224","33211222","22311223","42311221","11411224","31411222","14111314","34111312","23211313","43211311","12311314","32311312","21411313","41411311","24211132","13311133","33311131","22411132","11511133","31511131","25111222","14211223","34211221","23311222","12411223","32411221","21511222","15111313","24211312","13311313","33311311","22411312","11511313","31511311","25211131","14311132","23411131","12511132","21611131","15211222","24311221","13411222","22511221","11611222","16111312","25211311","14311312","23411311","12511312","21611311","31121134","51121132","21112135","41112133","61112131","21121225","41121223","61121221","11112226","31112224","51112222","11121316","31121314","51121312","21112315","41112313","61112311","12121135","32121133","52121131","21221134","41221132","22112134","42112132","11212135","22121224","42121222","11221225","31221223","51221221","12112225","32112223","52112221","12121315","32121313","52121311","21221314","41221312","22112314","42112312","11212315","31212313","51212311","13121134","33121132","22221133","42221131","11321134","31321132","23112133","43112131","12212134","23121223","43121221","12221224","32221222","21321223","41321221","13112224","33112222","13121314","33121312","11312224","22221313","42221311","11321314","31321312","23112313","43112311","12212314","32212312","21312313","41312311","14121133","34121131","23221132","12321133","32321131","21421132","24112132","13212133","24121222","13221223","33221221","11412133","22321222","11421223","31421221","14112223","34112221","14121313","34121311","12312223","23221312","12321313","32321311","21421312","24112312","13212313","33212311","22312312","11412313","31412311","15121132","24221131","13321132","22421131"]),s(["22121116","42121114","31221115","51221113","32112115","52112113","21212116","41212114","61212112","23121115","43121113","12221116","32221114","52221112","21321115","41321113","61321111","13112116","33112114","22212115","42212113","11312116","31312114","51312112","24121114","13221115","33221113","22321114","42321112","11421115","31421113","51421111","14112115","34112113","23212114","43212112","12312115","32312113","52312111","21412114","41412112","25121113","14221114","34221112","23321113","43321111","12421114","32421112","21521113","41521111","15112114","24212113","13312114","33312112","22412113","42412111","11512114","31512112","15221113","24321112","13421113","33421111","22521112","16112113","25212112","14312113","34312111","23412112","12512113","32512111","21612112","21131116","41131114","61131112","31122115","51122113","21113116","41113114","61113112","22131115","42131113","11231116","31231114","51231112","12122116","32122114","52122112","21222115","41222113","61222111","22113115","42113113","11213116","31213114","51213112","23131114","43131112","12231115","32231113","52231111","21331114","41331112","13122115","33122113","22222114","42222112","11322115","31322113","51322111","23113114","43113112","12213115","32213113","52213111","21313114","41313112","24131113","13231114","33231112","22331113","42331111","11431114","31431112","14122114","34122112","23222113","43222111","12322114","32322112","21422113","41422111","24113113","13213114","33213112","22313113","42313111","11413114","31413112","25131112","14231113","34231111","23331112","12431113","32431111","15122113","24222112","13322113","33322111","22422112","11522113","31522111","25113112","14213113","34213111","23313112","12413113","32413111","21513112","15231112","24331111","13431112","16122112","25222111","14322112","23422111","12522112","15213112","24313111","13413112","22513111","11613112","21141115","41141113","61141111","11132116","31132114","51132112","21123115","41123113","61123111","11114116","31114114","51114112","22141114","42141112","11241115","31241113","51241111","12132115","32132113","52132111","21232114","41232112","22123114","42123112","11223115","31223113","51223111","12114115","32114113","52114111","21214114","41214112","23141113","43141111","12241114","32241112","21341113","41341111","13132114","33132112","22232113","42232111","11332114","31332112","23123113","43123111","12223114","32223112","21323113","41323111","13114114","33114112","22214113","42214111","11314114","31314112","24141112","13241113","33241111","22341112","14132113","34132111","23232112","12332113","32332111","21432112","24123112","13223113","33223111","22323112","11423113","31423111","14114113","34114111","23214112","12314113","32314111","21414112","25141111","14241112","23341111","15132112","24232111","13332112","22432111","25123111","14223112","23323111","12423112","21523111","15114112","24214111","13314112","22414111","11514112","15241111","16132111","14332111","15223111","13423111","16114111","14314111","12514111","21151114","41151112","11142115","31142113","51142111","21133114","41133112","11124115","31124113","51124111","21115114","41115112","22151113","42151111","11251114","31251112","12142114","32142112","21242113","41242111","22133113","42133111","11233114","31233112","12124114","32124112","21224113","41224111","22115113","42115111","11215114","31215112","23151112","12251113","32251111","13142113","33142111","22242112","11342113","31342111","23133112","12233113","32233111","21333112","13124113","33124111","22224112","11324113","31324111","23115112","12215113","32215111","21315112","24151111","13251112","14142112","23242111","12342112","24133111","13233112","22333111","11433112","14124112","23224111","12324112","21424111","24115111","13215112","22315111","11415112","14251111","15142111","13342111","14233111","12433111","15124111","13324111","11524111","14215111","12415111","21161113","41161111","11152114","31152112","21143113","41143111","11134114","31134112","21125113","41125111","11116114","31116112","22161112","12152113","32152111","21252112","22143112","11243113","31243111","12134113","32134111","21234112","22125112","11225113","31225111","12116113","32116111","21216112","23161111","13152112","22252111","23143111","12243112","21343111","13134112","22234111","11334112","23125111","12225112","21325111","13116112","22216111","11316112","14152111","13243111","14134111","12334111","13225111","11425111","14116111","12316111","41111215","61111213","21211126","41211124","61211122","22111216","42111214","31211215","51211213","22211125","42211123","11311126","31311124","51311122","23111215","43111213","12211216","32211214","52211212","21311215","41311213","61311211","23211124","43211122","12311125","32311123","52311121","21411124","41411122","24111214","13211215","33211213","22311214","42311212","11411215","31411213","51411211","24211123","13311124","33311122","22411123","42411121","11511124","31511122","25111213","14211214","34211212","23311213","43311211","12411214","32411212","21511213","41511211","25211122","14311123","34311121","23411122","12511123","32511121","21611122","15211213","24311212","13411213","33411211","22511212","11611213","31611211","31121125","51121123","21112126","41112124","61112122","21121216","41121214","61121212","31112215","51112213","12121126","32121124","52121122","21221125","41221123","61221121","22112125","42112123","11212126","22121215","42121213","11221216","31221214","51221212","12112216","32112214","52112212","21212215","41212213","61212211","13121125","33121123","22221124","42221122","11321125","31321123","51321121","23112124","43112122","12212125","23121214","43121212","12221215","32221213","52221211","21321214","41321212","13112215","33112213","22212214","42212212","11312215","31312213","51312211","14121124","34121122","23221123","43221121","12321124","32321122","21421123","41421121","24112123","13212124","24121213","13221214","33221212","11412124","22321213","42321211","11421214","31421212","14112214","34112212","23212213","43212211","12312214","32312212","21412213","41412211","15121123","24221122","13321123","33321121","22421122","11521123","31521121","25112122","14212123","25121212","14221213","34221211","12412123","23321212","12421213","32421211","21521212","15112213","24212212","13312213","33312211","22412212","11512213","31512211","16121122","25221121","14321122","23421121","12521122","15212122","15221212","13412122","24321211","13421212","11612122","22521211","16112212","25212211","14312212","23412211","12512212","21612211","11131126","31131124","51131122","21122125","41122123","61122121","21131215","41131213","61131211","11113126","31113124","51113122","11122216","31122214","51122212","21113215","41113213","61113211","12131125","32131123","52131121","21231124","41231122","22122124","42122122","11222125","22131214","42131212","11231215","31231213","51231211","12113125","32113123","52113121","12122215","32122213","52122211","21222214","41222212","22113214","42113212","11213215","31213213","51213211","13131124","33131122","22231123","42231121","11331124","31331122","23122123","43122121","12222124","23131213","43131211","12231214","32231212","21331213","41331211","13113124","33113122","13122214","33122212","11313124","22222213","42222211","11322214","31322212","23113213","43113211","12213214","32213212","21313213","41313211","14131123","34131121","23231122","12331123","32331121","21431122","24122122","13222123","24131212","13231213","33231211","11422123","22331212","11431213","31431211","14113123","34113121","14122213","34122211","12313123","23222212","12322213","32322211","21422212","24113212","13213213","33213211","22313212","11413213","31413211","15131122","24231121","13331122","22431121","25122121","14222122","25131211","14231212","12422122","23331211","12431212","15113122","15122212","13313122","24222211","13322212","11513122","22422211","11522212","25113211","14213212","23313211","12413212","21513211","16131121","14331121","15222121","15231211","13422121","13431211","16113121","16122211","14313121","14322211","12513121","12522211","15213211","13413211","11613211","11141125","31141123","51141121","21132124","41132122","21141214","41141212","11123125","31123123","51123121","11132215","31132213","51132211","21114124","41114122","21123214","41123212","11114215","31114213","51114211","12141124","32141122","21241123","41241121","22132123","42132121","11232124","22141213","42141211","11241214","31241212","12123124","32123122","12132214","32132212","21232213","41232211","22114123","42114121","11214124","22123213","42123211","11223214","31223212","12114214","32114212","21214213","41214211","13141123","33141121","22241122","11341123","31341121","23132122","12232123","23141212","12241213","32241211","21341212","13123123","33123121","13132213","33132211","11323123","22232212","11332213","31332211","23114122","12214123","23123212","12223213","32223211","21323212","13114213","33114211","22214212","11314213","31314211","14141122","23241121","12341122","24132121","13232122","24141211","13241212","11432122","22341211","14123122","14132212","12323122","23232211","12332212","21432211","24114121","13214122","24123211","13223212","11414122","22323211","11423212","14114212","23214211","12314212","21414211","15141121","13341121","14232121","14241211","12432121","15123121","15132211","13323121","13332211","11523121","14214121","14223211","12414121","12423211","15114211","13314211","11514211","11151124","31151122","21142123","41142121","21151213","41151211","11133124","31133122","11142214","31142212","21124123","41124121","21133213","41133211","11115124","31115122","11124214","31124212","21115213","41115211","12151123","32151121","21251122","22142122","11242123","22151212","11251213","31251211","12133123","32133121","12142213","32142211","21242212","22124122","11224123","22133212","11233213","31233211","12115123","32115121","12124213","32124211","21224212","22115212","11215213","31215211","13151122","22251121","23142121","12242122","23151211","12251212","13133122","13142212","11333122","22242211","11342212","23124121","12224122","23133211","12233212","21333211","13115122","13124212","11315122","22224211","11324212","23115211","12215212","21315211","14151121","13242121","13251211","14133121","14142211","12333121","12342211","13224121","13233211","11424121","11433211","14115121","14124211","12315121","12324211","13215211","11415211","11161123","31161121","21152122","21161212","11143123","31143121","11152213","31152211","21134122","21143212","11125123","31125121","11134213","31134211","21116122","21125212","12161122","22152121","11252122","22161211","12143122","12152212","21252211","22134121","11234122","22143211","11243212","12125122","12134212","21234211","22116121","11216122","22125211","11225212","13161121","12252121","13143121","13152211","11343121","12234121","12243211","13125121","13134211","11325121","11334211","12216121","12225211","31111225","51111223","21111316","41111314","61111312","31211134","51211132","12111226","32111224","52111222","21211225","41211223","61211221","22111315","42111313","11211316","31211314","51211312","12211135","32211133","52211131","21311134","41311132","13111225","33111223","22211224","42211222","11311225","31311223","51311221","23111314","43111312","12211315","32211313","52211311","21311314","41311312","13211134","33211132","22311133","42311131","11411134","31411132","14111224","34111222","23211223","43211221","12311224","32311222","21411223","41411221","24111313","13211314","33211312","22311313","42311311","11411314","31411312","14211133","34211131","23311132","12411133","32411131","21511132","15111223","24211222","13311223","33311221","22411222","11511223","31511221","25111312","14211313","34211311","23311312","12411313","32411311","21511312","15211132","24311131","13411132","22511131","11611132","16111222","25211221","14311222","23411221","12511222","21611221","15211312","24311311","13411312","22511311","11611312","21121135","41121133","61121131","11112136","31112134","51112132","11121226","31121224","51121222","21112225","41112223","61112221","21121315","41121313","61121311","11112316","31112314","51112312","22121134","42121132","11221135","31221133","51221131","12112135","32112133","52112131","12121225","32121223","52121221","21221224","41221222","22112224","42112222","11212225","22121314","42121312","11221315","31221313","51221311","12112315","32112313","52112311","21212314","41212312","23121133","43121131","12221134","32221132","21321133","41321131","13112134","33112132","13121224","33121222","11312134","22221223","42221221","11321224","31321222","23112223","43112221","12212224","23121313","43121311","12221314","32221312","21321313","41321311","13112314","33112312","22212313","42212311","11312314","31312312","24121132","13221133","33221131","22321132","11421133","31421131","14112133","34112131","14121223","34121221","12312133","23221222","12321223","32321221","21421222","24112222","13212223","24121312","13221313","33221311","11412223","22321312","11421313","31421311","14112313","34112311","23212312","12312313","32312311","21412312","25121131","14221132","23321131","12421132","21521131","15112132","15121222","13312132","24221221","13321222","11512132","22421221","11521222","25112221","14212222","25121311","14221312","12412222","23321311","12421312","21521311","15112312","24212311","13312312","22412311","11512312","15221131","13421131","16112131","16121221","14312131","14321221","12512131","12521221","15212221","15221311","13412221","13421311","11612221","16112311","14312311","12512311","21131134","41131132","11122135","31122133","51122131","11131225","31131223","51131221","21113134","41113132","21122224","41122222","21131314","41131312","11113225","31113223","51113221","11122315","31122313","51122311","21113314","41113312","22131133","42131131","11231134","31231132","12122134","32122132","12131224","32131222","21231223","41231221","22113133","42113131","11213134","22122223","42122221","11222224","22131313","42131311","11231314","31231312","12113224","32113222","12122314","32122312","21222313","41222311","22113313","42113311","11213314","31213312","23131132","12231133","32231131","21331132","13122133","33122131","13131223","33131221","11322133","22231222","11331223","31331221","23113132","12213133","23122222","12222223","23131312","12231313","32231311","21331312","13113223","33113221","13122313","33122311","11313223","22222312","11322313","31322311","23113312","12213313","32213311","21313312","24131131","13231132","22331131","11431132","14122132","14131222","12322132","23231221","12331222","21431221","24113131","13213132","24122221","13222222","24131311","11413132","13231312","11422222","22331311","11431312","14113222","14122312","12313222","23222311","12322312","21422311","24113311","13213312","22313311","11413312","14231131","12431131","15122131","15131221","13322131","13331221","11522131","14213131","14222221","12413131","14231311","12422221","12431311","15113221","15122311","13313221","13322311","11513221","11522311","14213311","12413311","21141133","41141131","11132134","31132132","11141224","31141222","21123133","41123131","21132223","41132221","21141313","41141311","11114134","31114132","11123224","31123222","11132314","31132312","21114223","41114221","21123313","41123311","11114314","31114312","22141132","11241133","31241131","12132133","32132131","12141223","32141221","21241222","22123132","11223133","22132222","11232223","22141312","11241313","31241311","12114133","32114131","12123223","32123221","12132313","32132311","21232312","22114222","11214223","22123312","11223313","31223311","12114313","32114311","21214312","23141131","12241132","21341131","13132132","13141222","11332132","22241221","11341222","23123131","12223132","23132221","12232222","23141311","12241312","21341311","13114132","13123222","11314132","13132312","11323222","22232311","11332312","23114221","12214222","23123311","12223312","21323311","13114312","22214311","11314312","13241131","14132131","14141221","12332131","12341221","13223131","13232221","11423131","13241311","11432221","14114131","14123221","12314131","14132311","12323221","12332311","13214221","13223311","11414221","11423311","14114311","12314311","21151132","11142133","31142131","11151223","31151221","21133132","21142222","21151312","11124133","31124131","11133223","31133221","11142313","31142311","21115132","21124222","21133312","11115223","31115221","11124313","31124311","22151131","11251132","12142132","12151222","21251221","22133131","11233132","22142221","11242222","22151311","11251312","12124132","12133222","12142312","21242311","22115131","11215132","22124221","11224222","22133311","11233312","12115222","12124312","21224311","12251131","13142131","13151221","11342131","12233131","12242221","12251311","13124131","13133221","11324131","13142311","11333221","11342311","12215131","12224221","12233311","13115221","13124311","11315221","11324311","21161131","11152132","11161222","21143131","21152221","21161311","11134132","11143222","11152312","21125131","21134221","21143311","11116132","11125222","11134312","12152131","12161221","11243131","11252221","12134131","12143221","12152311","11225131","11234221","11243311","12116131","12125221","12134311","21111235","41111233","61111231","11111326","31111324","51111322","21111415","41111413","61111411","21211144","41211142","22111234","42111232","11211235","31211233","51211231","12111325","32111323","52111321","21211324","41211322","22111414","42111412","11211415","31211413","51211411","22211143","42211141","11311144","31311142","23111233","43111231","12211234","32211232","21311233","41311231","13111324","33111322","22211323","42211321","11311324","31311322","23111413","43111411","12211414","32211412","21311413","41311411","23211142","12311143","32311141","21411142","24111232","13211233","33211231","22311232","11411233","31411231","14111323","34111321","23211322","12311323","32311321","21411322","24111412","13211413","33211411","22311412","11411413","31411411","24211141","13311142","22411141","11511142","25111231","14211232","23311231","12411232","21511231","15111322","24211321","13311322","22411321","11511322","25111411","14211412","23311411","12411412","21511411","14311141","12511141","15211231","13411231","11611231","16111321","14311321","12511321","15211411","13411411","11611411","31121143","51121141","21112144","41112142","21121234","41121232","11112235","31112233","51112231","11121325","31121323","51121321","21112324","41112322","21121414","41121412","11112415","31112413","51112411","12121144","32121142","21221143","41221141","22112143","42112141","11212144","22121233","42121231","11221234","31221232","12112234","32112232","12121324","32121322","21221323","41221321","22112323","42112321","11212324","22121413","42121411","11221414","31221412","12112414","32112412","21212413","41212411","13121143","33121141","22221142","11321143","31321141","23112142","12212143","23121232","12221233","32221231","21321232","13112233","33112231","13121323","33121321","11312233","22221322","11321323","31321321","23112322","12212323","23121412","12221413","32221411","21321412","13112413","33112411","22212412","11312413","31312411","14121142","23221141","12321142","21421141","24112141","13212142","24121231","13221232","11412142","22321231","11421232","14112232","14121322","12312232","23221321","12321322","21421321","24112321","13212322","24121411","13221412","11412322","22321411","11421412","14112412","23212411","12312412","21412411","15121141","13321141","11521141","14212141","14221231","12412141","12421231","15112231","15121321","13312231","13321321","11512231","11521321","14212321","14221411","12412321","12421411","15112411","13312411","11512411","11131144","31131142","21122143","41122141","21131233","41131231","11113144","31113142","11122234","31122232","11131324","31131322","21113233","41113231","21122323","41122321","21131413","41131411","11113324","31113322","11122414","31122412","21113413","41113411","12131143","32131141","21231142","22122142","11222143","22131232","11231233","31231231","12113143","32113141","12122233","32122231","12131323","32131321","21231322","22113232","11213233","22122322","11222323","22131412","11231413","31231411","12113323","32113321","12122413","32122411","21222412","22113412","11213413","31213411","13131142","22231141","11331142","23122141","12222142","23131231","12231232","21331231","13113142","13122232","11313142","13131322","11322232","22231321","11331322","23113231","12213232","23122321","12222322","23131411","12231412","21331411","13113322","13122412","11313322","22222411","11322412","23113411","12213412","21313411","14131141","12331141","13222141","13231231","11422141","11431231","14113141","14122231","12313141","14131321","12322231","12331321","13213231","13222321","11413231","13231411","11422321","11431411","14113321","14122411","12313321","12322411","13213411","11413411","11141143","31141141","21132142","21141232","11123143","31123141","11132233","31132231","11141323","31141321","21114142","21123232","21132322","21141412","11114233","31114231","11123323","31123321","11132413","31132411","21114322","21123412","12141142","21241141","22132141","11232142","22141231","11241232","12123142","12132232","12141322","21241321","22114141","11214142","22123231","11223232","22132321","11232322","22141411","11241412","12114232","12123322","12132412","21232411","22114321","11214322","22123411","11223412","13141141","11341141","12232141","12241231","13123141","13132231","11323141","13141321","11332231","11341321","12214141","12223231","12232321","12241411","13114231","13123321","11314231","13132411","11323321","11332411","12214321","12223411","11151142","21142141","21151231","11133142","11142232","11151322","21124141","21133231","21142321","21151411","11115142","11124232","11133322","11142412","21115231","21124321","21133411","12151141","11242141","11251231","12133141","12142231","12151321","11224141","11233231","11242321","11251411","12115141","12124231","12133321","12142411","11215231","11224321","11233411","11161141","11143141","11152231","11161321","11125141","11134231","11143321","11152411","11111245","31111243","51111241","21111334","41111332","11111425","31111423","51111421","21111514","41111512","31211152","12111244","32111242","21211243","41211241","22111333","42111331","11211334","31211332","12111424","32111422","21211423","41211421","22111513","42111511","11211514","31211512","12211153","32211151","21311152","13111243","33111241","22211242","11311243","31311241","23111332","12211333","32211331","21311332","13111423","33111421","22211422","11311423","31311421","23111512","12211513","32211511","21311512","13211152","22311151","11411152","14111242","23211241","12311242","21411241","24111331","13211332","22311331","11411332","14111422","23211421","12311422","21411421","24111511","13211512","22311511","11411512","14211151","12411151","15111241","13311241","11511241","14211331","12411331","15111421","13311421","11511421","14211511","12411511","21121153","41121151","11112154","31112152","11121244","31121242","21112243","41112241","21121333","41121331","11112334","31112332","11121424","31121422","21112423","41112421","21121513","41121511","11112514","31112512","22121152","11221153","31221151","12112153","32112151","12121243","32121241","21221242","22112242","11212243","22121332","11221333","31221331","12112333","32112331","12121423","32121421","21221422","22112422","11212423","22121512","11221513","31221511","12112513","32112511","21212512","23121151","12221152","21321151","13112152","13121242","11312152","22221241","11321242","23112241","12212242","23121331","12221332","21321331","13112332","13121422","11312332","22221421","11321422","23112421","12212422","23121511","12221512","21321511","13112512","22212511","11312512","13221151","11421151","14112151","14121241","12312151","12321241","13212241","13221331","11412241","11421331","14112331","14121421","12312331","12321421","13212421","13221511","11412421","11421511","14112511","12312511","21131152","11122153","31122151","11131243","31131241","21113152","21122242","21131332","11113243","31113241","11122333","31122331","11131423","31131421","21113332","21122422","21131512","11113423","31113421","11122513","31122511","22131151","11231152","12122152","12131242","21231241","22113151","11213152","22122241","11222242","22131331","11231332","12113242","12122332","12131422","21231421","22113331","11213332","22122421","11222422","22131511","11231512","12113422","12122512","21222511","12231151","13122151","13131241","11322151","11331241","12213151","12222241","12231331","13113241","13122331","11313241","13131421","11322331","11331421","12213331","12222421","12231511","13113421","13122511","11313421","11322511","21141151","11132152","11141242","21123151","21132241","21141331","11114152","11123242","11132332","11141422","21114241","21123331","21132421","21141511","11114332","11123422","11132512","11241151","12132151","12141241","11223151","11232241","11241331","12114151","12123241","12132331","12141421","11214241","11223331","11232421","11241511","12114331","12123421","12132511","11142151","11151241","11124151","11133241","11142331","11151421","11115241","11124331","11133421","11142511","21111253","41111251","11111344","31111342","21111433","41111431","11111524","31111522","21111613","41111611","21211162","22111252","11211253","31211251","12111343","32111341","21211342","22111432","11211433","31211431","12111523","32111521","21211522","22111612","11211613","31211611","22211161","11311162","23111251","12211252","21311251","13111342","22211341","11311342","23111431","12211432","21311431","13111522","22211521","11311522","23111611","12211612","21311611","12311161","13211251","11411251","14111341","12311341","13211431","11411431","14111521","12311521","13211611","11411611","31121161","21112162","21121252","11112253","31112251","11121343","31121341","21112342","21121432","11112433","31112431","11121523","31121521","21112522","21121612","12121162","21221161","22112161","11212162","22121251","11221252","12112252","12121342","21221341","22112341","11212342","22121431","11221432","12112432","12121522","21221521","22112521","11212522","22121611","11221612","13121161","11321161","12212161","12221251","13112251","13121341","11312251","11321341","12212341","12221431","13112431","13121521","11312431","11321521","12212521","12221611","11131162","21122161","21131251","11113162"])]),e.parity=s(["1001","0101","1100","0011","1010","0110","1111","0000"]),e.rowbits=s(e.r);for(var Xe=0,ze=e.r-1;Xe<=ze;Xe+=1){e.i=Xe,r[t++]="p",e.i!=e.r-1?r[t++]=c(e.parity,e.i):r[t++]="0000";var qe=r[--t];e[r[--t]]=qe,e.ccrow=C(e.ccs,e.i*8,8),r[t++]=1/0;for(var ht=0;ht<=7;ht+=2){U(C(e.ccrow,ht,2));var vt=r[--t],dt=r[--t];r[t++]=S(vt+dt*49)}e.scrow=s(),r[t++]=1/0,r[t++]=10,r[t++]=1,r[t++]=1;for(var wt=0;wt<=3;wt+=1)e.j=wt,ve(c(c(e.patterns,c(e.p,e.j)-48),c(e.scrow,e.j)),function(){var Ce=r[--t];r[t++]=Ce-48});r[t++]=4,r[t++]=1,e.sbs=s(),r[t++]=1/0;var Bt=e.sbs;r[t++]=1;for(var jt=0,At=Bt.length;jt<At;jt++)for(var _t=r[t-1],Mt=_t==0?1:0,Lt=0,Dt=c(Bt,jt);Lt<Dt;Lt++)r[t++]=Mt;Vt(s(xa()-1));var kt=r[--t];r[t-1]=kt;var O=r[--t];r[t-1]=O,r[t++]=e.rowbits,r[t++]=e.i;var K=r[t-3],G=r[t-1];g(r[t-2],G,K),t-=3}r[t++]=1/0;for(var se=0,le=81*e.sepheight;se<le;se++)r[t++]=1;for(var ge=0,ee=e.r-2;ge<=ee;ge+=1){e.i=ge;for(var ke=0,X=e.rowheight;ke<X;ke++)U(c(e.rowbits,e.i));for(var xe=0,me=e.sepheight;xe<me;xe++){for(var ye=0;ye<10;ye++)r[t++]=0;for(var ne=0;ne<70;ne++)r[t++]=1;r[t++]=0}}for(var we=0,Ee=e.rowheight;we<Ee;we++)U(c(e.rowbits,e.r-1));for(var pe=0,Ne=81*e.sepheight;pe<Ne;pe++)r[t++]=1;e.pixs=s();var Ae=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=Ae,e.dontdraw||mt(),e=a}function nR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.3,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.flattermarkenBadCharacter#17258",r[t++]="Flattermarken must contain only digits",z())}),e.encs=s(["0018","0117","0216","0315","0414","0513","0612","0711","0810","0900"]),e.barchars="1234567890",e.barlen=e.barcode.length,e.sbs=W(e.barlen*4),e.txt=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,Ct(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),R(e.sbs,e.i*4,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*9,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0;for(var o=e.sbs,d=0,u=o.length;d<u;d++)r[t++]=c(o,d)-48;var f=s();r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options;var w=_e();r[t++]=w,e.dontdraw||It(),e=a}function iR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var m=r[--t];(m<49||m>57)&&(r[t++]="bwipp.rawBadCharacter#17344",r[t++]="Raw must contain only digits 1 to 9",z())}),r[t++]=1/0,r[t++]=1/0,ve(e.barcode,function(){var m=r[--t];r[t++]=m-48});var n=s();r[t++]=1/0;for(var i=0,o=~~((e.barcode.length+1)/2);i<o;i++)r[t++]=e.height;var d=s();r[t++]=1/0;for(var u=0,f=~~((e.barcode.length+1)/2);u<f;u++)r[t++]=0;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=n,r[t++]="bhs",r[t++]=d,r[t++]="bbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=_e();r[t++]=p,e.dontdraw||It(),e=a}function oR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.175,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.daftEmptyData#17397",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var m=r[--t];m!=68&&m!=65&&m!=70&&m!=84&&(r[t++]="bwipp.daftBadCharacter#17402",r[t++]="DAFT must contain only characters D, A, F and T",z())}),e.barlen=e.barcode.length,e.bbs=s(e.barlen),e.bhs=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.enc=C(e.barcode,e.i,1),V(e.enc,"D")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"A")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),V(e.enc,"F")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8)),V(e.enc,"T")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var o=e.bbs,d=e.bhs;r[t++]=1/0;for(var u=0,f=e.bhs.length-1;u<f;u++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=o,r[t++]="bhs",r[t++]=d,r[t++]="sbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=_e();r[t++]=p,e.dontdraw||It(),e=a}function lR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.fimasbs=s([2.25,2.25,2.25,11.25,2.25,11.25,2.25,2.25,2.25]),r[t++]=1/0;for(var n=0,i=~~(e.fimasbs.length/2)+1;n<i;n++)r[t++]=.625;e.fimabhs=s(),r[t++]=1/0;for(var o=0,d=~~(e.fimasbs.length/2)+1;o<d;o++)r[t++]=0;e.fimabbs=s(),e.fimbsbs=s([2.25,6.75,2.25,2.25,2.25,6.25,2.25,2.25,2.25,6.75,2.25]),r[t++]=1/0;for(var u=0,f=~~(e.fimbsbs.length/2)+1;u<f;u++)r[t++]=.625;e.fimbbhs=s(),r[t++]=1/0;for(var h=0,p=~~(e.fimbsbs.length/2)+1;h<p;h++)r[t++]=0;e.fimbbbs=s(),e.fimcsbs=s([2.25,2.25,2.25,6.75,2.25,6.75,2.25,6.75,2.25,2.25,2.25]),r[t++]=1/0;for(var m=0,x=~~(e.fimcsbs.length/2)+1;m<x;m++)r[t++]=.625;e.fimcbhs=s(),r[t++]=1/0;for(var b=0,y=~~(e.fimcsbs.length/2)+1;b<y;b++)r[t++]=0;e.fimcbbs=s(),e.fimdsbs=s([2.25,2.25,2.25,2.25,2.25,6.75,2.25,6.75,2.25,2.25,2.25,2.25,2.25]),r[t++]=1/0;for(var w=0,v=~~(e.fimdsbs.length/2)+1;w<v;w++)r[t++]=.625;e.fimdbhs=s(),r[t++]=1/0;for(var A=0,j=~~(e.fimdsbs.length/2)+1;A<j;A++)r[t++]=0;e.fimdbbs=s(),e.fimesbs=s([2.25,6.75,2.25,15.75,2.25,6.75,2.25]),r[t++]=1/0;for(var E=0,k=~~(e.fimesbs.length/2)+1;E<k;E++)r[t++]=.625;e.fimebhs=s(),r[t++]=1/0;for(var N=0,B=~~(e.fimesbs.length/2)+1;N<B;N++)r[t++]=0;e.fimebbs=s(),r[t++]=1/0;for(var I=0;I<100;I++)r[t++]=1,r[t++]=1;r[t++]=1,e.zebrasbs=s(),r[t++]=1/0;for(var D=0,T=~~(e.zebrasbs.length/2)+1;D<T;D++)r[t++]=1;e.zebrabhs=s(),r[t++]=1/0;for(var M=0,Q=~~(e.zebrasbs.length/2)+1;M<Q;M++)r[t++]=0;e.zebrabbs=s(),e.checksize=199,r[t++]=1/0;for(var F=e.checksize,P=0,L=~~(F*F/2);P<L;P++)r[t++]=1,r[t++]=0;r[t++]=1,e.checkpixs=s();var _=new Map([["renlinear",It],["renmatrix",mt]]);e.renmap=_;var H=new Map([["fima",function(){var q=new Map([["ren","renlinear"],["sbs",e.fimasbs],["bhs",e.fimabhs],["bbs",e.fimabbs]]);r[t++]=q}],["fimb",function(){var q=new Map([["ren","renlinear"],["sbs",e.fimbsbs],["bhs",e.fimbbhs],["bbs",e.fimbbbs]]);r[t++]=q}],["fimc",function(){var q=new Map([["ren","renlinear"],["sbs",e.fimcsbs],["bhs",e.fimcbhs],["bbs",e.fimcbbs]]);r[t++]=q}],["fimd",function(){var q=new Map([["ren","renlinear"],["sbs",e.fimdsbs],["bhs",e.fimdbhs],["bbs",e.fimdbbs]]);r[t++]=q}],["fime",function(){var q=new Map([["ren","renlinear"],["sbs",e.fimesbs],["bhs",e.fimebhs],["bbs",e.fimebbs]]);r[t++]=q}],["zebra",function(){var q=new Map([["ren","renlinear"],["sbs",e.zebrasbs],["bhs",e.zebrabhs],["bbs",e.zebrabbs]]);r[t++]=q}],["check",function(){var q=new Map([["ren","renmatrix"],["pixs",e.checkpixs],["pixx",e.checksize],["pixy",e.checksize],["height",e.checksize/72],["width",e.checksize/72]]);r[t++]=q}]]);e.symbols=H;var Y=c(e.symbols,e.barcode)!==void 0;if(Y||(r[t++]="bwipp.symbolUnknownSymbol#17531",r[t++]="Unknown symbol name provided",z()),c(e.symbols,e.barcode)()===!0)return!0;var de=r[t-1];if(g(de,"opt",e.options),!e.dontdraw){var $=r[t-1];if(c(e.renmap,c($,"ren"))()===!0)return!0}e=a}function Pu(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.compact=!1,e.eclevel=-1,e.fixedeclevel=!1,e.columns=0,e.rows=0,e.rowmult=3,e.ccc=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.pdf417emptyData#17591",r[t++]="The data must not be empty",z()),e.eclevel!=-1&&(e.eclevel<0||e.eclevel>8)&&(r[t++]="bwipp.pdf417InvalidErrorCorrectionLevel#17595",r[t++]="Valid error correction levels are 0 to 8",z()),e.ccc&&e.raw&&(r[t++]="bwipp.pdf417cccAndRaw#17599",r[t++]="Cannot combine ccc and raw",z()),e.ccc&&e.compact&&(r[t++]="bwipp.pdf417cccAndCompact#17603",r[t++]="Cannot combine ccc and compact",z()),e.rows!=0&&(e.rows<3||e.rows>90)&&(r[t++]="bwipp.pdf417invalidRows#17607",r[t++]="There must be between 3 and 90 rows",z()),e.columns!=0&&(e.columns<1||e.columns>30)&&(r[t++]="bwipp.pdf417invalidColumns#17611",r[t++]="There must be between 1 and 30 columns",z()),e.rowmult<=0&&(r[t++]="bwipp.pdf417badRowMult#17615",r[t++]="The row multiplier must be greater than zero",z()),e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var n=0,i=e.charmaps.length-1;n<=i;n+=1){e.i=n,e.encs=c(e.charmaps,e.i);for(var o=0;o<=3;o+=1){e.j=o;var d=c(e.encs,e.j);if(r[t++]=d,V(tn(d),"stringtype")){var u=c(r[--t],0);r[t++]=u}var f=r[--t];g(c(e.charvals,e.j),f,e.i),g(e.alltext,f,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,e.latchcws=_e(),e.raw){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var h=C(e.barcode,e.i+1,3);r[t++]=h,r[t++]=!1;for(var p=0,m=h.length;p<m;p++){var x=c(h,p);(x<48||x>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=De(r[--t]),g(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.pdf417badRawFormat#17727",r[t++]="raw data must be formatted as ^NNN",z()),e.datcws=C(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var me=0,ye=~~(e.inlen/6)-1;me<=ye;me+=1){e.k=me,r[t++]=1/0,U(C(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,U(e.msbs);var ne=r[--t],we=r[--t],Ee=r[--t];r[t++]=S(ne+we*256+Ee*65536);for(var pe=0;pe<3;pe++){var Ne=r[--t];r[t++]=Ne%900,r[t++]=~~(Ne/900)}e.mscs=s(),r[t++]=1/0,U(C(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,U(e.lsbs);var Ae=r[--t],Ce=r[--t],Qe=r[--t];r[t++]=S(Ae+Ce*256+Qe*65536);for(var Pe=0;Pe<3;Pe++){var We=r[--t];r[t++]=We%900,r[t++]=~~(We/900)}e.lscs=s();var st=c(e.lscs,0),at=c(e.mscs,0);g(e.out,e.k*5+4,S(st+at*316)%900);var je=c(e.lscs,1),Ge=c(e.mscs,0),He=c(e.mscs,1);g(e.out,e.k*5+3,S(~~((st+at*316)/900)+je+Ge*641+He*316)%900);var Ze=c(e.lscs,2),ft=c(e.mscs,0),pt=c(e.mscs,1),ut=c(e.mscs,2);g(e.out,e.k*5+2,S(~~((~~((st+at*316)/900)+je+Ge*641+He*316)/900)+Ze+ft*20+pt*641+ut*316)%900);var xt=c(e.lscs,3),nt=c(e.mscs,1),Tt=c(e.mscs,2);g(e.out,e.k*5+1,S(~~((~~((~~((st+at*316)/900)+je+Ge*641+He*316)/900)+Ze+ft*20+pt*641+ut*316)/900)+xt+nt*20+Tt*641)%900),g(e.out,e.k*5,S(~~((~~((~~((~~((st+at*316)/900)+je+Ge*641+He*316)/900)+Ze+ft*20+pt*641+ut*316)/900)+xt+nt*20+Tt*641)/900)+c(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,U(C(e.in,e.inlen-e.rem,e.rem));var et=s(),Qt=r[--t];R(r[--t],Qt,et)}r[t++]=e.out},e.ccc){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),g(e.datcws,0,920);var b=e.barlen%6==0?924:901;g(e.datcws,1,b),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ve(e.barcode);var y=s();r[t++]=y,e.encb();var w=r[--t],v=r[--t];R(r[--t],v,w)}if(!e.raw&&!e.ccc){var A=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=A,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var j=r[--t];e[r[--t]]=j,e.msglen=e.msg.length,r[t++]=1/0;for(var E=0,k=e.msglen;E<k;E++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var N=0,B=e.msglen;N<B;N++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var T=0,M=e.msglen;T<M;T++)r[t++]=0;r[t++]=0,e.iseci=s();for(var Q=e.msglen-1;Q>=0;Q-=1){e.i=Q;var F=c(e.msg,e.i);F>=48&&F<=57&&g(e.numdigits,e.i,c(e.numdigits,e.i+1)+1);var P=c(e.alltext,c(e.msg,e.i))!==void 0;P&&c(e.numdigits,e.i)<13&&g(e.numtext,e.i,c(e.numtext,e.i+1)+1),c(e.msg,e.i)>=0&&c(e.numtext,e.i)<5&&c(e.numdigits,e.i)<13&&g(e.numbytes,e.i,c(e.numbytes,e.i+1)+1),g(e.iseci,e.i,c(e.msg,e.i)<=-1e6)}for(e.numdigits=C(e.numdigits,0,e.msglen),e.numtext=C(e.numtext,0,e.msglen),e.numbytes=C(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.T,e.p=0;e.p!=e.msglen;)if(c(e.iseci,e.p)){if(e.eci=c(e.msg,e.p),r[t++]=1/0,U(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var L=e.eci<=-1000900?3:2;r[t++]=L}var _=r[--t],H=r[--t];e[r[--t]]=S(H+_)}else if(e.n=c(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,U(e.seq),r[t++]=e.nl,r[t++]=1/0,U(C(e.msg,e.p,e.n));var Y=s();r[t++]=Y,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=c(e.numtext,e.p),e.t>=5){r[t++]=1/0,U(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,U(C(e.msg,e.p,e.t));var de=s();r[t++]=de,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=c(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,U(e.seq),r[t++]=e.bs,r[t++]=s([c(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,U(e.seq);var $=e.b%6!=0?e.bl:e.bl6;r[t++]=$,r[t++]=1/0,U(C(e.msg,e.p,e.b));var q=s();r[t++]=q,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}for(e.enca=function(){var me=c(c(e.charvals,e.A),r[--t]);r[t++]=me},e.encl=function(){var me=c(c(e.charvals,e.L),r[--t]);r[t++]=me},e.encm=function(){var me=c(c(e.charvals,e.M),r[--t]);r[t++]=me},e.encp=function(){var me=c(c(e.charvals,e.P),r[--t]);r[t++]=me},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){g(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),g(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ve(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var ft=s([e.A,e.L,e.M,e.P]),pt=0,ut=ft.length;pt<ut;pt++){e.x=c(ft,pt);for(var xt=s([e.A,e.L,e.M,e.P]),nt=0,Tt=xt.length;nt<Tt;nt++)if(e.y=c(xt,nt),e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y)){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,U(c(e.curseq,e.x)),U(c(c(e.latseq,e.x),e.y));var et=s(),Qt=r[--t];g(r[--t],Qt,et),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var Ht=s([e.A,e.L,e.M,e.P]),Ot=0,sr=Ht.length;Ot<sr;Ot++)for(e.x=c(Ht,Ot);;){var Sr=c(c(e.charvals,e.x),e.char)!==void 0;if(!Sr)break;if(e.cost=c(e.curlen,e.x)+1,e.cost<c(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,U(c(e.curseq,e.x)),r[t++]=e.char;var nr=s(),gr=r[--t];g(r[--t],gr,nr)}for(var ar=s([e.A,e.L,e.M,e.P]),Ir=0,Zt=ar.length;Ir<Zt;Ir++)if(e.y=c(ar,Ir),Ie(e.x,e.y)&&(e.cost=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x))+1,e.cost<c(e.nxtlen,e.y))){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,U(c(e.curseq,e.y));var dr=e.x==e.A?e.as:e.ps;r[t++]=dr,r[t++]=e.char;var Kt=s(),Jt=r[--t];g(r[--t],Jt,Kt)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var me=s([e.A,e.L,e.M,e.P]),ye=0,ne=me.length;ye<ne;ye++)e.k=c(me,ye),c(e.curlen,e.k)<e.minseq&&(e.minseq=c(e.curlen,e.k),e.txtseq=c(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=c(e.txtseq,e.k),r[t++]=e.char,e[c(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=c(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var we=r[--t];e[r[--t]]=we,e.submode=e.A}else{e.nextecitext=!1;for(var Ee=e.i+1,pe=e.seq.length-1;Ee<=pe;Ee+=1){if(e.ti=Ee,Ie(tn(c(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(c(c(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Ne=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Ne){r[t++]="pad",r[t++]=e.ll,e.enca();var Ae=r[--t];e[r[--t]]=Ae,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var Ce=r[--t];e[r[--t]]=Ce,e.submode=e.M}}else if(e.submode==e.M){var Qe=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Qe){r[t++]="pad",r[t++]=e.ll,e.encm();var Pe=r[--t];e[r[--t]]=Pe,e.submode=e.L}else{var We=c(c(e.charvals,e.P),c(c(e.seq,e.ti),0))!==void 0;if(We){r[t++]="pad",r[t++]=e.pl,e.encm();var st=r[--t];e[r[--t]]=st,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var at=r[--t];e[r[--t]]=at,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var je=r[--t];e[r[--t]]=je,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[c(e.textencfuncs,e.submode)]()===!0)return!0;var Ge=r[--t];e[r[--t]]=Ge}}r[t++]=1/0,U(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var He=0,Ze=e.out.length-1;He<=Ze;He+=1)e.k=He,g(e.out,e.k,S(c(e.text,e.k*2)*30+c(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var me=0,ye=e.in.length-1;me<=ye;me+=44){e.k=me,r[t++]=1/0;var ne=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=ne,ne>44&&(r[t-1]=44);for(var we=r[--t],Ee=r[--t],pe=C(r[--t],Ee,we),Ne=0,Ae=pe.length;Ne<Ae;Ne++)r[t++]=c(pe,Ne)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+c(e.gmod,0)),e.gmod=C(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,U(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,U(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,U(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,U(e.out),U(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var me=-c(r[--t],0)-1e6;if(r[t++]=me,me<=899){var ye=r[--t];r[t++]=927,r[t++]=ye,Vt(s(2))}else{var ne=r[t-1];if(ne<=810899){var we=r[--t];r[t++]=926,r[t++]=~~(we/900)-1,r[t++]=we%900,Vt(s(3))}else{var Ee=r[t-1];if(Ee<=811799){var pe=r[--t];r[t++]=925,r[t++]=pe-810900,Vt(s(2))}else r[t++]="bwipp.pdf417badECI#18089",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var me=r[--t];R(e.datcws,e.j,me),e.j=me.length+e.j},e.state=e.T,e.submode=e.A,e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=c(e.seq,e.i),V(tn(e.chars),"arraytype"))if(c(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[c(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([c(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=c(e.seq,e.i),e.encb(),e.addtocws());e.i=e.i+1}e.datcws=C(e.datcws,0,e.j)}e.m=e.datcws.length,e.m>926&&(r[t++]="bwipp.pdf417dataTooLong#18129",r[t++]="The data is too long",z()),e.eclevel==-1&&(e.m<=40&&(e.eclevel=2),e.m>=41&&e.m<=160&&(e.eclevel=3),e.m>=161&&e.m<=320&&(e.eclevel=4),e.m>=321&&(e.eclevel=5)),e.fixedeclevel||(e.maxeclevel=~~(hn(927-e.m)/hn(2))-1,e.eclevel>e.maxeclevel&&(e.eclevel=e.maxeclevel)),e.k=~~li(2,e.eclevel+1),e.columns==0&&(e.columns=~~j1(su((e.m+e.k)/3))),r[t++]="c",e.columns>=1?r[t++]=e.columns:r[t++]=1;var re=r[--t];if(e[r[--t]]=re,e.r=~~xr((e.m+e.k+1)/e.columns),e.r<e.rows&&e.rows<=90&&(e.r=e.rows),e.r<3&&(e.r=3),e.r>90&&(r[t++]="bwipp.pdf417insufficientCapacity#18158",r[t++]="Insufficient capacity in the symbol",z()),!e.fixedeclevel){var ce=e.c,J=e.r,oe=e.m,ue=8,he=~~(hn(S(ce*J-1-oe))/hn(2))-1;if(~~(hn(S(ce*J-1-oe))/hn(2))-1>8){var Re=ue;ue=he,he=Re}e.maxeclevel=he,e.maxeclevel>e.eclevel&&(e.eclevel=e.maxeclevel,e.k=~~li(2,e.eclevel+1))}e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),g(e.cws,0,e.n),R(e.cws,1,e.datcws),r[t++]=e.cws,r[t++]=e.m+1,r[t++]=1/0;for(var te=0,Be=S(e.n-e.m)-1;te<Be;te++)r[t++]=900;var Se=s(),Oe=r[--t];R(r[--t],Oe,Se),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Ue=0,be=e.k;Ue<be;Ue++)r[t++]=0;r[t++]=0;var $e=s(),Fe=r[--t];R(r[--t],Fe,$e),r[t++]=1/0,r[t++]=1;for(var Ke=0;Ke<928;Ke++){var Je=r[t-1];r[t++]=Je*3%929}e.rsalog=s(),e.rslog=s(929);for(var rt=1;rt<=928;rt+=1)g(e.rslog,c(e.rsalog,rt),rt);e.rsprod=function(){var me=r[t-1],ye=r[t-2];if(me!=0&&ye!=0){var ne=c(e.rslog,r[--t]),we=c(e.rsalog,S(ne+c(e.rslog,r[--t]))%928);r[t++]=we}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var ae=0,fe=e.k;ae<fe;ae++)r[t++]=0;e.coeffs=s();for(var Me=1,Le=e.k;Me<=Le;Me+=1){e.i=Me,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var Xe=e.i-1;Xe>=1;Xe-=1){e.j=Xe,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var ze=r[--t],qe=r[--t],ht=r[--t];g(r[--t],ht,S(qe+ze)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var vt=r[--t],dt=r[--t];g(r[--t],dt,vt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var wt=e.coeffs.length-1;wt>=0;wt-=2){var Bt=e.coeffs;g(Bt,wt,929-c(Bt,wt))}for(var jt=0,At=e.n-1;jt<=At;jt+=1){e.t=S(c(e.cws,jt)+c(e.cws,e.n))%929;for(var _t=0,Mt=e.k-1;_t<=Mt;_t+=1)e.j=_t,g(e.cws,S(e.n+e.j),S(c(e.cws,S(e.n+e.j)+1)+(929-e.t*c(e.coeffs,e.k-e.j-1)%929))%929)}for(var Lt=e.n,Dt=S(e.n+e.k);Lt<=Dt;Lt+=1)g(e.cws,Lt,(929-c(e.cws,Lt))%929);e.cws=C(e.cws,0,e.cws.length-1);var kt=c(e.options,"debugcws")!==void 0;kt&&(r[t++]="bwipp.debugcws#18221",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.cwtobits=function(){var me=c(e.clusters,r[--t]);e.v=c(me,r[--t]),r[t++]=1/0;for(var ye=0;ye<17;ye++)r[t++]=0;for(var ne=$t(W(17),e.v,2),we=0,Ee=ne.length;we<Ee;we++)r[t++]=c(ne,we)-48;var pe=s();r[t++]=C(pe,pe.length-17,17)},e.compact?e.rwid=17*e.c+17+17+1:e.rwid=17*e.c+17+17+17+18,e.pixs=s(e.rwid*e.r*e.rowmult);for(var O=0,K=e.r-1;O<=K;O+=1){e.i=O,e.i%3==0&&(e.lcw=~~(e.i/3)*30+~~((e.r-1)/3),e.rcw=S(~~(e.i/3)*30+e.c)-1),e.i%3==1&&(e.lcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3,e.rcw=~~(e.i/3)*30+~~((e.r-1)/3)),e.i%3==2&&(e.lcw=S(~~(e.i/3)*30+e.c)-1,e.rcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3),r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=e.lcw,r[t++]=e.i%3,e.cwtobits(),U(r[--t]);for(var G=C(e.cws,e.c*e.i,e.c),se=0,le=G.length;se<le;se++)r[t++]=c(G,se),r[t++]=e.i%3,e.cwtobits(),U(r[--t]);e.compact||(r[t++]=e.rcw,r[t++]=e.i%3,e.cwtobits(),U(r[--t]),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0),r[t++]=1;var ge=s();r[t++]=ge;for(var ee=0,ke=e.rowmult-1;ee<=ke;ee+=1){var X=r[t-1];R(e.pixs,(ee+e.i*e.rowmult)*e.rwid,X)}t--}var xe=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",2],["borderright",2],["bordertop",2],["borderbottom",2],["opt",e.options]]);r[t++]=xe,e.dontdraw||mt(),e=a}function cR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"compact",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Pu();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function nu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.columns=0,e.rows=0,e.rowmult=2,e.cca=!1,e.ccb=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.micropdf417emptyData#18631",r[t++]="The data must not be empty",z()),e.rowmult<=0&&(r[t++]="bwipp.micropdf417badRowMult#18635",r[t++]="The row multiplier must be greater than zero",z()),(e.cca&&e.ccb||e.cca&&e.raw||e.ccb&&e.raw)&&(r[t++]="bwipp.micropdf417ccaAndCcb#18639",r[t++]="Cannot combine cca, ccb and raw",z()),Ie(e.version,"unset"))if(Ct(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Vt(s(2)),ve(r[--t],function(){var pe=r[t-1];r[t++]=!0,pe.length==0&&(r[t-1]=!1);var Ne=r[--t],Ae=r[--t];r[t++]=Ne,ve(Ae,function(){var Ce=r[--t];(Ce<48||Ce>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.micropdf417BadVersionBadRowOrColumn#18653",r[t++]="version must be formatted as RxC",z())}),e.rows=De(r[--t]),e.columns=De(r[--t])}else t--,r[t++]="bwipp.micropdf417badVersionFormat#18659",r[t++]="version must be formatted as RxC",z();e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.m05=-12,e.m06=-13,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=3;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,V(tn(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}var m=r[--t];g(c(e.charvals,e.j),m,e.i),g(e.alltext,m,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),e.raw||e.cca){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var x=C(e.barcode,e.i+1,3);r[t++]=x,r[t++]=!1;for(var b=0,y=x.length;b<y;b++){var w=c(x,b);(w<48||w>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=De(r[--t]),g(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.micropdf417badCcaRawFormat#18771",r[t++]="cca and raw data must be formatted as ^NNN",z()),e.datcws=C(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var pe=0,Ne=~~(e.inlen/6)-1;pe<=Ne;pe+=1){e.k=pe,r[t++]=1/0,U(C(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,U(e.msbs);var Ae=r[--t],Ce=r[--t],Qe=r[--t];r[t++]=S(Ae+Ce*256+Qe*65536);for(var Pe=0;Pe<3;Pe++){var We=r[--t];r[t++]=We%900,r[t++]=~~(We/900)}e.mscs=s(),r[t++]=1/0,U(C(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,U(e.lsbs);var st=r[--t],at=r[--t],je=r[--t];r[t++]=S(st+at*256+je*65536);for(var Ge=0;Ge<3;Ge++){var He=r[--t];r[t++]=He%900,r[t++]=~~(He/900)}e.lscs=s();var Ze=c(e.lscs,0),ft=c(e.mscs,0);g(e.out,e.k*5+4,S(Ze+ft*316)%900);var pt=c(e.lscs,1),ut=c(e.mscs,0),xt=c(e.mscs,1);g(e.out,e.k*5+3,S(~~((Ze+ft*316)/900)+pt+ut*641+xt*316)%900);var nt=c(e.lscs,2),Tt=c(e.mscs,0),et=c(e.mscs,1),Qt=c(e.mscs,2);g(e.out,e.k*5+2,S(~~((~~((Ze+ft*316)/900)+pt+ut*641+xt*316)/900)+nt+Tt*20+et*641+Qt*316)%900);var Ht=c(e.lscs,3),Ot=c(e.mscs,1),sr=c(e.mscs,2);g(e.out,e.k*5+1,S(~~((~~((~~((Ze+ft*316)/900)+pt+ut*641+xt*316)/900)+nt+Tt*20+et*641+Qt*316)/900)+Ht+Ot*20+sr*641)%900),g(e.out,e.k*5,S(~~((~~((~~((~~((Ze+ft*316)/900)+pt+ut*641+xt*316)/900)+nt+Tt*20+et*641+Qt*316)/900)+Ht+Ot*20+sr*641)/900)+c(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,U(C(e.in,e.inlen-e.rem,e.rem));var Sr=s(),nr=r[--t];R(r[--t],nr,Sr)}r[t++]=e.out},e.ccb){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),g(e.datcws,0,920);var v=e.barlen%6==0?924:901;g(e.datcws,1,v),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ve(e.barcode);var A=s();r[t++]=A,e.encb();var j=r[--t],E=r[--t];R(r[--t],E,j)}if(!e.raw&&!e.cca&&!e.ccb){var k=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=k,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var N=r[--t];if(e[r[--t]]=N,e.msglen=e.msg.length,e.msglen>=9){U(C(e.msg,0,7));var B=r[--t];r[t-1]=B==29;var I=r[--t],D=r[--t],T=r[--t],M=r[--t],Q=r[--t],F=r[--t];if(I&&D==48&&T==30&&M==62&&Q==41&&F==91){U(C(e.msg,e.msglen-2,2));var P=r[--t],L=r[--t];P==4&&L==30&&(c(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,U(C(e.msg,7,e.msg.length-9)),e.msg=s()):c(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,U(C(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var _=0,H=e.msglen;_<H;_++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var Y=0,de=e.msglen;Y<de;Y++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var $=0,q=e.msglen;$<q;$++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var re=0,ce=e.msglen;re<ce;re++)r[t++]=0;e.iseci=s();for(var J=e.msglen-1;J>=0;J-=1){e.i=J;var oe=c(e.msg,e.i);oe>=48&&oe<=57&&g(e.numdigits,e.i,c(e.numdigits,e.i+1)+1);var ue=c(e.alltext,c(e.msg,e.i))!==void 0;ue&&c(e.numdigits,e.i)<13&&g(e.numtext,e.i,c(e.numtext,e.i+1)+1),c(e.msg,e.i)>=0&&c(e.numtext,e.i)<5&&c(e.numdigits,e.i)<13&&g(e.numbytes,e.i,c(e.numbytes,e.i+1)+1),g(e.iseci,e.i,c(e.msg,e.i)<=-1e6)}for(e.numdigits=C(e.numdigits,0,e.msglen),e.numtext=C(e.numtext,0,e.msglen),e.numbytes=C(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.B,e.p=0;e.p!=e.msglen;){var he=c(e.msg,e.p);if(e.p==0&&(he==e.m05||he==e.m06)){r[t++]=1/0,U(e.seq);var Re=c(e.msg,e.p)==e.m05?e.m05:e.m06;r[t++]=Re,e.seq=s(),e.p=e.p+1,e.seqlen=e.seqlen+1}else if(c(e.iseci,e.p)){if(e.eci=c(e.msg,e.p),r[t++]=1/0,U(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var te=e.eci<=-1000900?3:2;r[t++]=te}var Be=r[--t],Se=r[--t];e[r[--t]]=S(Se+Be)}else if(e.n=c(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,U(e.seq),r[t++]=e.nl,r[t++]=1/0,U(C(e.msg,e.p,e.n));var Oe=s();r[t++]=Oe,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=c(e.numtext,e.p),e.t>=5){r[t++]=1/0,U(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,U(C(e.msg,e.p,e.t));var Ue=s();r[t++]=Ue,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=c(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,U(e.seq),r[t++]=e.bs,r[t++]=s([c(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,U(e.seq);var be=e.b%6!=0?e.bl:e.bl6;r[t++]=be,r[t++]=1/0,U(C(e.msg,e.p,e.b));var $e=s();r[t++]=$e,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}}for(r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,r[t++]=e.m05,r[t++]=916,r[t++]=e.m06,r[t++]=917,e.latchcws=_e(),e.enca=function(){var pe=c(c(e.charvals,e.A),r[--t]);r[t++]=pe},e.encl=function(){var pe=c(c(e.charvals,e.L),r[--t]);r[t++]=pe},e.encm=function(){var pe=c(c(e.charvals,e.M),r[--t]);r[t++]=pe},e.encp=function(){var pe=c(c(e.charvals,e.P),r[--t]);r[t++]=pe},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){g(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),g(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ve(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var Tt=s([e.A,e.L,e.M,e.P]),et=0,Qt=Tt.length;et<Qt;et++){e.x=c(Tt,et);for(var Ht=s([e.A,e.L,e.M,e.P]),Ot=0,sr=Ht.length;Ot<sr;Ot++)if(e.y=c(Ht,Ot),e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y)){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,U(c(e.curseq,e.x)),U(c(c(e.latseq,e.x),e.y));var Sr=s(),nr=r[--t];g(r[--t],nr,Sr),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var gr=s([e.A,e.L,e.M,e.P]),ar=0,Ir=gr.length;ar<Ir;ar++)for(e.x=c(gr,ar);;){var Zt=c(c(e.charvals,e.x),e.char)!==void 0;if(!Zt)break;if(e.cost=c(e.curlen,e.x)+1,e.cost<c(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,U(c(e.curseq,e.x)),r[t++]=e.char;var dr=s(),Kt=r[--t];g(r[--t],Kt,dr)}for(var Jt=s([e.A,e.L,e.M,e.P]),ur=0,Tr=Jt.length;ur<Tr;ur++)if(e.y=c(Jt,ur),Ie(e.x,e.y)&&(e.cost=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x))+1,e.cost<c(e.nxtlen,e.y))){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,U(c(e.curseq,e.y));var Pr=e.x==e.A?e.as:e.ps;r[t++]=Pr,r[t++]=e.char;var ua=s(),Et=r[--t];g(r[--t],Et,ua)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var pe=s([e.A,e.L,e.M,e.P]),Ne=0,Ae=pe.length;Ne<Ae;Ne++)e.k=c(pe,Ne),c(e.curlen,e.k)<e.minseq&&(e.minseq=c(e.curlen,e.k),e.txtseq=c(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=c(e.txtseq,e.k),r[t++]=e.char,e[c(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=c(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var Ce=r[--t];e[r[--t]]=Ce,e.submode=e.A}else{e.nextecitext=!1;for(var Qe=e.i+1,Pe=e.seq.length-1;Qe<=Pe;Qe+=1){if(e.ti=Qe,Ie(tn(c(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(c(c(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var We=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(We){r[t++]="pad",r[t++]=e.ll,e.enca();var st=r[--t];e[r[--t]]=st,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var at=r[--t];e[r[--t]]=at,e.submode=e.M}}else if(e.submode==e.M){var je=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(je){r[t++]="pad",r[t++]=e.ll,e.encm();var Ge=r[--t];e[r[--t]]=Ge,e.submode=e.L}else{var He=c(c(e.charvals,e.P),c(c(e.seq,e.ti),0))!==void 0;if(He){r[t++]="pad",r[t++]=e.pl,e.encm();var Ze=r[--t];e[r[--t]]=Ze,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var ft=r[--t];e[r[--t]]=ft,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var pt=r[--t];e[r[--t]]=pt,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[c(e.textencfuncs,e.submode)]()===!0)return!0;var ut=r[--t];e[r[--t]]=ut}}r[t++]=1/0,U(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var xt=0,nt=e.out.length-1;xt<=nt;xt+=1)e.k=xt,g(e.out,e.k,S(c(e.text,e.k*2)*30+c(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var pe=0,Ne=e.in.length-1;pe<=Ne;pe+=44){e.k=pe,r[t++]=1/0;var Ae=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=Ae,Ae>44&&(r[t-1]=44);for(var Ce=r[--t],Qe=r[--t],Pe=C(r[--t],Qe,Ce),We=0,st=Pe.length;We<st;We++)r[t++]=c(Pe,We)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+c(e.gmod,0)),e.gmod=C(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,U(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,U(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,U(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,U(e.out),U(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var pe=-c(r[--t],0)-1e6;if(r[t++]=pe,pe<=899){var Ne=r[--t];r[t++]=927,r[t++]=Ne,Vt(s(2))}else{var Ae=r[t-1];if(Ae<=810899){var Ce=r[--t];r[t++]=926,r[t++]=~~(Ce/900)-1,r[t++]=Ce%900,Vt(s(3))}else{var Qe=r[t-1];if(Qe<=811799){var Pe=r[--t];r[t++]=925,r[t++]=Pe-810900,Vt(s(2))}else r[t++]="bwipp.pdf417badECI#19167",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var pe=r[--t];R(e.datcws,e.j,pe),e.j=pe.length+e.j},e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=c(e.seq,e.i),V(tn(e.chars),"arraytype"))if(c(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[c(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([c(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=c(e.seq,e.i),e.encb(),e.addtocws()),e.chars==e.m05&&(e.i+1<e.seq.length&&c(e.seq,e.i+1)==e.nl&&(e.i=e.i+1),e.state=e.N),e.chars==e.m06&&(e.i+1<e.seq.length&&c(e.seq,e.i+1)==e.tl&&(e.i=e.i+1),e.state=e.T,e.submode=e.M);e.i=e.i+1}e.datcws=C(e.datcws,0,e.j)}e.ccametrics=s([s([2,5,4,39,0,19]),s([2,6,4,1,0,33]),s([2,7,5,32,0,12]),s([2,8,5,8,0,40]),s([2,9,6,14,0,46]),s([2,10,6,43,0,23]),s([2,12,7,20,0,52]),s([3,4,4,11,43,23]),s([3,5,5,1,33,13]),s([3,6,6,5,37,17]),s([3,7,7,15,47,27]),s([3,8,7,21,1,33]),s([4,3,4,40,20,52]),s([4,4,5,43,23,3]),s([4,5,6,46,26,6]),s([4,6,7,34,14,46]),s([4,7,8,29,9,41])]),e.nonccametrics=s([s([1,11,7,1,0,9]),s([1,14,7,8,0,8]),s([1,17,7,36,0,36]),s([1,20,8,19,0,19]),s([1,24,8,9,0,17]),s([1,28,8,25,0,33]),s([2,8,8,1,0,1]),s([2,11,9,1,0,9]),s([2,14,9,8,0,8]),s([2,17,10,36,0,36]),s([2,20,11,19,0,19]),s([2,23,13,9,0,17]),s([2,26,15,27,0,35]),s([3,6,12,1,1,1]),s([3,8,14,7,7,7]),s([3,10,16,15,15,15]),s([3,12,18,25,25,25]),s([3,15,21,37,37,37]),s([3,20,26,1,17,33]),s([3,26,32,1,9,17]),s([3,32,38,21,29,37]),s([3,38,44,15,31,47]),s([3,44,50,1,25,49]),s([4,4,8,47,19,43]),s([4,6,12,1,1,1]),s([4,8,14,7,7,7]),s([4,10,16,15,15,15]),s([4,12,18,25,25,25]),s([4,15,21,37,37,37]),s([4,20,26,1,17,33]),s([4,26,32,1,9,17]),s([4,32,38,21,29,37]),s([4,38,44,15,31,47]),s([4,44,50,1,25,49])]),r[t++]="metrics",e.cca?r[t++]=e.ccametrics:r[t++]=e.nonccametrics;var Fe=r[--t];e[r[--t]]=Fe,e.urows=e.rows,e.ucols=e.columns,ve(e.metrics,function(){if(e.m=r[--t],e.c=c(e.m,0),e.r=c(e.m,1),e.k=c(e.m,2),e.rapl=c(e.m,3),e.rapc=c(e.m,4),e.rapr=c(e.m,5),e.ncws=S(e.r*e.c-e.k),e.okay=!0,e.datcws.length>e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.c&&(e.okay=!1),e.okay)return!0}),e.okay||(r[t++]="bwipp.micropdf417noValidSymbol#19306",r[t++]="Maximum length exceeded or invalid size",z()),e.m=e.datcws.length,e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),R(e.cws,0,e.datcws),r[t++]=e.cws,r[t++]=e.m,r[t++]=1/0;for(var Ke=0,Je=S(e.n-e.m);Ke<Je;Ke++)r[t++]=900;var rt=s(),ae=r[--t];R(r[--t],ae,rt),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var fe=0,Me=e.k;fe<Me;fe++)r[t++]=0;r[t++]=0;var Le=s(),Xe=r[--t];R(r[--t],Xe,Le),r[t++]=1/0,r[t++]=1;for(var ze=0;ze<928;ze++){var qe=r[t-1];r[t++]=qe*3%929}e.rsalog=s(),e.rslog=s(929);for(var ht=1;ht<=928;ht+=1)g(e.rslog,c(e.rsalog,ht),ht);e.rsprod=function(){var pe=r[t-1],Ne=r[t-2];if(pe!=0&&Ne!=0){var Ae=c(e.rslog,r[--t]),Ce=c(e.rsalog,S(Ae+c(e.rslog,r[--t]))%928);r[t++]=Ce}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var vt=0,dt=e.k;vt<dt;vt++)r[t++]=0;e.coeffs=s();for(var wt=1,Bt=e.k;wt<=Bt;wt+=1){e.i=wt,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var jt=e.i-1;jt>=1;jt-=1){e.j=jt,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var At=r[--t],_t=r[--t],Mt=r[--t];g(r[--t],Mt,S(_t+At)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Lt=r[--t],Dt=r[--t];g(r[--t],Dt,Lt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var kt=e.coeffs.length-1;kt>=0;kt-=2){var O=e.coeffs;g(O,kt,929-c(O,kt))}for(var K=0,G=e.n-1;K<=G;K+=1){e.t=S(c(e.cws,K)+c(e.cws,e.n))%929;for(var se=0,le=e.k-1;se<=le;se+=1)e.j=se,g(e.cws,S(e.n+e.j),S(c(e.cws,S(e.n+e.j)+1)+(929-e.t*c(e.coeffs,S(e.k-e.j)-1)%929))%929)}for(var ge=e.n,ee=S(e.n+e.k);ge<=ee;ge+=1)g(e.cws,ge,(929-c(e.cws,ge))%929);e.cws=C(e.cws,0,e.cws.length-1);var ke=c(e.options,"debugcws")!==void 0;ke&&(r[t++]="bwipp.debugcws#19360",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.raps=s([s([802,930,946,818,882,890,826,954,922,986,970,906,778,794,786,914,978,982,980,916,948,932,934,942,940,936,808,812,814,806,822,950,918,790,788,820,884,868,870,878,876,872,840,856,860,862,846,844,836,838,834,866]),s([718,590,622,558,550,566,534,530,538,570,562,546,610,626,634,762,754,758,630,628,612,614,582,578,706,738,742,740,748,620,556,552,616,744,712,716,708,710,646,654,652,668,664,696,688,656,720,592,600,604,732,734])]),e.cwtobits=function(){var pe=c(e.clusters,r[--t]);e.v=c(pe,r[--t]),r[t++]=1/0;for(var Ne=0;Ne<17;Ne++)r[t++]=0;for(var Ae=$t(W(17),e.v,2),Ce=0,Qe=Ae.length;Ce<Qe;Ce++)r[t++]=c(Ae,Ce)-48;var Pe=s();r[t++]=C(Pe,Pe.length-17,17)},e.raptobits=function(){var pe=c(e.raps,r[--t]);e.v=c(pe,r[--t]),r[t++]=1/0;for(var Ne=0;Ne<10;Ne++)r[t++]=0;for(var Ae=$t(W(10),e.v,2),Ce=0,Qe=Ae.length;Ce<Qe;Ce++)r[t++]=c(Ae,Ce)-48;var Pe=s();r[t++]=C(Pe,Pe.length-10,10)},e.rwid=c(s([38,55,82,99]),e.c-1),e.c==3&&e.cca&&(e.rwid=72),e.pixs=s(e.rwid*e.r*e.rowmult);for(var X=0,xe=e.r-1;X<=xe;X+=1){e.i=X,e.clst=(S(e.i+e.rapl)-1)%3,r[t++]=1/0,e.c==1&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t]),r[t++]=c(e.cws,e.i),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),e.c==2&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t]),r[t++]=c(e.cws,e.i*2),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=c(e.cws,e.i*2+1),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),e.c==3&&(e.cca||(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),r[t++]=c(e.cws,e.i*3),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),U(r[--t]),r[t++]=c(e.cws,e.i*3+1),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=c(e.cws,e.i*3+2),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),e.c==4&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),U(r[--t]),r[t++]=c(e.cws,e.i*4),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=c(e.cws,e.i*4+1),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),U(r[--t]),r[t++]=c(e.cws,e.i*4+2),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=c(e.cws,e.i*4+3),r[t++]=e.clst,e.cwtobits(),U(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),U(r[--t])),r[t++]=1;var me=s();r[t++]=me;for(var ye=0,ne=e.rowmult-1;ye<=ne;ye+=1){var we=r[t-1];R(e.pixs,(ye+e.i*e.rowmult)*e.rwid,we)}t--}var Ee=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ee,e.dontdraw||mt(),e=a}function L1(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.columns=0,e.rows=0,e.format="unset",e.version="unset",e.parse=!1,e.parsefnc=!1,e.c40headerlength=-1,e.raw=!1,e.dmre=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.datamatrixEmptyData#19750",r[t++]="The data must not be empty",z()),Ie(e.version,"unset")&&(e.rows!=0||e.columns!=0)&&(r[t++]="bwipp.datamatrixVersionRowsCols#19754",r[t++]="rows and columns must not be given if version is specified",z()),Ie(e.version,"unset"))if(Ct(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Vt(s(2)),ve(r[--t],function(){var it=r[t-1];r[t++]=!0,it.length==0&&(r[t-1]=!1);var Ft=r[--t],Yt=r[--t];r[t++]=Ft,ve(Yt,function(){var Wt=r[--t];(Wt<48||Wt>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.datamatrixVersionBadRowOrColumn#19768",r[t++]="version must be formatted as RxC",z())}),e.rows=De(r[--t]),e.columns=De(r[--t]),r[t++]="format",e.rows==e.columns?r[t++]="square":r[t++]="rectangle";var d=r[--t];e[r[--t]]=d}else t--,r[t++]="bwipp.datamatrixVersionFormat#19775",r[t++]="version must be formatted as RxC",z();else if(V(e.format,"unset")){r[t++]="format",e.dmre?r[t++]="rectangle":r[t++]="square";var u=r[--t];e[r[--t]]=u}Ie(e.format,"square")&&Ie(e.format,"rectangle")&&(r[t++]="bwipp.datamatrixInvalidFormat#19784",r[t++]="The format must be either square or rectangle",z()),e.metrics=s([s([10,10,1,1,5,1,0]),s([12,12,1,1,7,1,0]),s([14,14,1,1,10,1,0]),s([16,16,1,1,12,1,0]),s([18,18,1,1,14,1,0]),s([20,20,1,1,18,1,0]),s([22,22,1,1,20,1,0]),s([24,24,1,1,24,1,0]),s([26,26,1,1,28,1,0]),s([32,32,2,2,36,1,0]),s([36,36,2,2,42,1,0]),s([40,40,2,2,48,1,0]),s([44,44,2,2,56,1,0]),s([48,48,2,2,68,1,0]),s([52,52,2,2,84,2,0]),s([64,64,4,4,112,2,0]),s([72,72,4,4,144,4,0]),s([80,80,4,4,192,4,0]),s([88,88,4,4,224,4,0]),s([96,96,4,4,272,4,0]),s([104,104,4,4,336,6,0]),s([120,120,6,6,408,6,0]),s([132,132,6,6,496,8,0]),s([144,144,6,6,620,10,0]),s([8,18,1,1,7,1,0]),s([8,32,1,2,11,1,0]),s([8,48,1,2,15,1,1]),s([8,64,1,4,18,1,1]),s([8,80,1,4,22,1,1]),s([8,96,1,4,28,1,1]),s([8,120,1,6,32,1,1]),s([8,144,1,6,36,1,1]),s([12,26,1,1,14,1,0]),s([12,36,1,2,18,1,0]),s([12,64,1,4,27,1,1]),s([12,88,1,4,36,1,1]),s([16,36,1,2,24,1,0]),s([16,48,1,2,28,1,0]),s([16,64,1,4,36,1,1]),s([20,36,1,2,28,1,1]),s([20,44,1,2,34,1,1]),s([20,64,1,4,42,1,1]),s([22,48,1,2,38,1,1]),s([24,48,1,2,41,1,1]),s([24,64,1,4,46,1,1]),s([26,40,1,2,38,1,1]),s([26,48,1,2,42,1,1]),s([26,64,1,4,50,1,1])]),e.urows=e.rows,e.ucols=e.columns,e.fullcws=s([]);for(var f=e.metrics,h=0,p=f.length;h<p;h++)e.m=c(f,h),e.rows=c(e.m,0),e.cols=c(e.m,1),e.regh=c(e.m,2),e.regv=c(e.m,3),e.rscw=c(e.m,4),e.rsbl=c(e.m,5),e.doly=c(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),V(e.format,"square")&&Ie(e.rows,e.cols)&&(e.okay=!1),V(e.format,"rectangle")&&V(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),e.okay&&(r[t++]=1/0,U(e.fullcws),r[t++]=e.ncws,e.fullcws=s());r[t++]=1/0;for(var m=0;m<1558;m++)r[t++]=1e4;e.numremcws=s();for(var x=e.fullcws,b=0,y=x.length;b<y;b++)g(e.numremcws,c(x,b)-1,1);for(var w=1556;w>=0;w-=1)e.i=w,c(e.numremcws,e.i)!=1&&g(e.numremcws,e.i,c(e.numremcws,e.i+1)+1);e.fnc1=-1,e.prog=-2,e.m05=-3,e.m06=-4,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lE=-9,e.unl=-10,e.sapp=-11,e.usft=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.unlcw=254,r[t++]=1/0;for(var v=0;v<=128;v+=1)r[t++]=v,r[t++]=v+1;r[t++]=e.pad,r[t++]=129;for(var A=0;A<=99;A+=1){var j=$t(W(2),A,10),E=Fr(W(2),"00");R(E,2-j.length,j),r[t++]=E,r[t++]=A+130}var k=s([e.lC,e.lB,e.fnc1,e.sapp,e.prog,e.usft,e.m05,e.m06,e.lX,e.lT,e.lE,e.eci]);r[t++]=229;for(var N=0,B=k.length;N<B;N++){var I=r[--t]+1;r[t++]=c(k,N),r[t++]=I,r[t++]=I}t--,e.Avals=_e(),r[t++]=1/0;for(var D=e.Avals,T=D.size,M=D.keys(),Q=0;Q<T;Q++){var F=M.next().value;r[t++]=F;var P=1/0,L=D.get(F);r[t++]=P,r[t++]=L;var _=s();r[t++]=_}e.Avals=_e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var H=48;H<=57;H+=1)r[t++]=H,r[t++]=H-44;for(var Y=65;Y<=90;Y+=1)r[t++]=Y,r[t++]=Y-51;e.CNvals=_e(),r[t++]=1/0;for(var de=0;de<=31;de+=1)r[t++]=de,r[t++]=de;e.C1vals=_e(),r[t++]=1/0;for(var $=33;$<=47;$+=1)r[t++]=$,r[t++]=$-33;for(var q=58;q<=64;q+=1)r[t++]=q,r[t++]=q-43;for(var re=91;re<=95;re+=1)r[t++]=re,r[t++]=re-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.C2vals=_e(),r[t++]=1/0;for(var ce=96;ce<=127;ce+=1)r[t++]=ce,r[t++]=ce-96;e.C3vals=_e(),r[t++]=1/0;for(var J=e.CNvals,oe=J.size,ue=J.keys(),he=0;he<oe;he++){var Re=ue.next().value;r[t++]=Re;var te=1/0,Be=J.get(Re);r[t++]=te,r[t++]=Be;var Se=s();r[t++]=Se}for(var Oe=e.C1vals,Ue=Oe.size,be=Oe.keys(),$e=0;$e<Ue;$e++){var Fe=be.next().value;r[t++]=Fe;var Ke=1/0,Je=Oe.get(Fe);r[t++]=Ke,r[t++]=c(e.CNvals,e.sft1),r[t++]=Je;var rt=s();r[t++]=rt}for(var ae=e.C2vals,fe=ae.size,Me=ae.keys(),Le=0;Le<fe;Le++){var Xe=Me.next().value;r[t++]=Xe;var ze=1/0,qe=ae.get(Xe);r[t++]=ze,r[t++]=c(e.CNvals,e.sft2),r[t++]=qe;var ht=s();r[t++]=ht}for(var vt=e.C3vals,dt=vt.size,wt=vt.keys(),Bt=0;Bt<dt;Bt++){var jt=wt.next().value;r[t++]=jt;var At=1/0,_t=vt.get(jt);r[t++]=At,r[t++]=c(e.CNvals,e.sft3),r[t++]=_t;var Mt=s();r[t++]=Mt}e.Cvals=_e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var Lt=48;Lt<=57;Lt+=1)r[t++]=Lt,r[t++]=Lt-44;for(var Dt=97;Dt<=122;Dt+=1)r[t++]=Dt,r[t++]=Dt-83;e.TNvals=_e(),r[t++]=1/0;for(var kt=0;kt<=31;kt+=1)r[t++]=kt,r[t++]=kt;e.T1vals=_e(),r[t++]=1/0;for(var O=33;O<=47;O+=1)r[t++]=O,r[t++]=O-33;for(var K=58;K<=64;K+=1)r[t++]=K,r[t++]=K-43;for(var G=91;G<=95;G+=1)r[t++]=G,r[t++]=G-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.T2vals=_e(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var se=65;se<=90;se+=1)r[t++]=se,r[t++]=se-64;for(var le=123;le<=127;le+=1)r[t++]=le,r[t++]=le-96;e.T3vals=_e(),r[t++]=1/0;for(var ge=e.TNvals,ee=ge.size,ke=ge.keys(),X=0;X<ee;X++){var xe=ke.next().value;r[t++]=xe;var me=1/0,ye=ge.get(xe);r[t++]=me,r[t++]=ye;var ne=s();r[t++]=ne}for(var we=e.T1vals,Ee=we.size,pe=we.keys(),Ne=0;Ne<Ee;Ne++){var Ae=pe.next().value;r[t++]=Ae;var Ce=1/0,Qe=we.get(Ae);r[t++]=Ce,r[t++]=c(e.TNvals,e.sft1),r[t++]=Qe;var Pe=s();r[t++]=Pe}for(var We=e.T2vals,st=We.size,at=We.keys(),je=0;je<st;je++){var Ge=at.next().value;r[t++]=Ge;var He=1/0,Ze=We.get(Ge);r[t++]=He,r[t++]=c(e.TNvals,e.sft2),r[t++]=Ze;var ft=s();r[t++]=ft}for(var pt=e.T3vals,ut=pt.size,xt=pt.keys(),nt=0;nt<ut;nt++){var Tt=xt.next().value;r[t++]=Tt;var et=1/0,Qt=pt.get(Tt);r[t++]=et,r[t++]=c(e.TNvals,e.sft3),r[t++]=Qt;var Ht=s();r[t++]=Ht}e.Tvals=_e();for(var Ot=128;Ot<=255;Ot+=1){e.i=Ot,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,U(c(e.Avals,e.usft)),U(c(e.Avals,e.i-128));var sr=s(),Sr=r[--t];g(r[--t],Sr,sr),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,U(c(e.Cvals,e.usft)),U(c(e.Cvals,e.i-128));var nr=s(),gr=r[--t];g(r[--t],gr,nr),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,U(c(e.Tvals,e.usft)),U(c(e.Tvals,e.i-128));var ar=s(),Ir=r[--t];g(r[--t],Ir,ar)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Zt=48;Zt<=57;Zt+=1)r[t++]=Zt,r[t++]=Zt-44;for(var dr=65;dr<=90;dr+=1)r[t++]=dr,r[t++]=dr-51;e.Xvals=_e(),r[t++]=1/0;for(var Kt=e.Xvals,Jt=Kt.size,ur=Kt.keys(),Tr=0;Tr<Jt;Tr++){var Pr=ur.next().value;r[t++]=Pr;var ua=1/0,Et=Kt.get(Pr);r[t++]=ua,r[t++]=Et;var Gt=s();r[t++]=Gt}e.Xvals=_e(),r[t++]=1/0;for(var tr=64;tr<=94;tr+=1)r[t++]=tr,r[t++]=tr-64;r[t++]=e.unl,r[t++]=31;for(var br=32;br<=63;br+=1)r[t++]=br,r[t++]=br;e.Evals=_e(),r[t++]=1/0;for(var ir=e.Evals,Br=ir.size,or=ir.keys(),Ut=0;Ut<Br;Ut++){var wr=or.next().value;r[t++]=wr;var ta=1/0,fa=ir.get(wr);r[t++]=ta,r[t++]=fa;var ya=s();r[t++]=ya}e.Evals=_e(),r[t++]=1/0;for(var Lr=0;Lr<=255;Lr+=1)r[t++]=Lr,r[t++]=Lr;e.Bvals=_e(),r[t++]=1/0;for(var Ea=e.Bvals,ga=Ea.size,Ra=Ea.keys(),la=0;la<ga;la++){var Aa=Ra.next().value;r[t++]=Aa;var Ca=1/0,ka=Ea.get(Aa);r[t++]=Ca,r[t++]=ka;var La=s();r[t++]=La}if(e.Bvals=_e(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,e.Evals,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.E=4,e.B=5,e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=De(C(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j)}else{var Qa=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["PROG",e.prog]]);e.fncvals=Qa,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var Va=r[--t];if(e[r[--t]]=Va,e.msglen=e.msg.length,e.msglen>=9){U(C(e.msg,0,7));var ps=r[--t];r[t-1]=ps==29;var Ia=r[--t],Bs=r[--t],Ha=r[--t],zs=r[--t],Ma=r[--t],ms=r[--t];if(Ia&&Bs==48&&Ha==30&&zs==62&&Ma==41&&ms==91){U(C(e.msg,e.msglen-2,2));var Ds=r[--t],Ts=r[--t];Ds==4&&Ts==30&&(c(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,U(C(e.msg,7,e.msg.length-9)),e.msg=s()):c(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,U(C(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var Ka=0,Ls=e.msglen;Ka<Ls;Ka++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var Wa=0,xs=e.msglen;Wa<xs;Wa++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Fa=0,vn=e.msglen;Fa<vn;Fa++)r[t++]=0;r[t++]=9999,e.nextNonX=s(),r[t++]=1/0;for(var $a=0,In=e.msglen;$a<In;$a++)r[t++]=!1;r[t++]=!1,e.isECI=s();for(var Ba=e.msglen-1;Ba>=0;Ba-=1){e.i=Ba,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.numD,e.i,c(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?g(e.nextXterm,e.i,0):g(e.nextXterm,e.i,c(e.nextXterm,e.i+1)+1);var Js=c(e.Xvals,e.barchar)!==void 0;Js?g(e.nextNonX,e.i,c(e.nextNonX,e.i+1)+1):g(e.nextNonX,e.i,0),g(e.isECI,e.i,e.barchar<=-1e6)}r[t++]=1/0;for(var Pa=e.nextXterm,rn=0,is=Pa.length;rn<is;rn++){var Xt=c(Pa,rn);r[t++]=Xt,Xt>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var Xr=e.nextNonX,ja=0,_a=Xr.length;ja<_a;ja++){var vs=c(Xr,ja);r[t++]=vs,vs>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var it=c(e.CNvals,e.char)!==void 0;r[t++]=it},e.isT=function(){var it=c(e.TNvals,e.char)!==void 0;r[t++]=it},e.isX=function(){var it=c(e.Xvals,e.char)!==void 0;r[t++]=it},e.isE=function(){var it=c(e.Evals,e.char)!==void 0;r[t++]=it},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var it=r[--t];r[t++]=mn(c(e.nextXterm,it),c(e.nextNonX,it))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.ec=2,e.bc=2.25,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.ec=1,e.bc=1.25),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.E&&(e.ec=0),e.mode==e.B&&(e.bc=0);for(var it=0;it<1;it++){if(c(e.isECI,e.i)){r[t++]=e.A;break}if(e.c40headerlength!=-1&&e.i<e.c40headerlength){r[t++]=e.C;break}for(e.k=0;;){if(e.i+e.k==e.msglen){for(var Ft=s(["ac","cc","tc","xc","ec","bc"]),Yt=0,Wt=Ft.length;Yt<Wt;Yt++){var Wr=c(Ft,Yt);e[Wr]=xr(e[Wr])}var wa=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var ma=0,cs=wa.length;ma<cs;ma++){var $s=r[--t];r[t++]=$s&&e.ac<=c(wa,ma)}if(r[--t]){r[t++]=e.A;break}var ln=s([e.ac,e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var cn=0,$n=ln.length;cn<$n;cn++){var g1=r[--t];r[t++]=g1&&e.bc<c(ln,cn)}if(r[--t]){r[t++]=e.B;break}var e1=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Fi=0,b1=e1.length;Fi<b1;Fi++){var t1=r[--t];r[t++]=t1&&e.ec<c(e1,Fi)}if(r[--t]){r[t++]=e.E;break}var H1=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var w1=0,Nc=H1.length;w1<Nc;w1++){var Sc=r[--t];r[t++]=Sc&&e.tc<c(H1,w1)}if(r[--t]){r[t++]=e.T;break}var ml=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Co=0,Ec=ml.length;Co<Ec;Co++){var Cc=r[--t];r[t++]=Cc&&e.xc<c(ml,Co)}if(r[--t]){r[t++]=e.X;break}r[t++]=e.C;break}if(e.char=c(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Ic=r[--t];r[t++]=S(Ic+1/2)}else if(e.isEA(),r[--t]){var Bc=r[--t];r[t++]=xr(Bc)+2}else{var Dc=r[--t];r[t++]=xr(Dc)+1}var Tc=r[--t];if(e[r[--t]]=Tc,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var Rc=r[--t];r[t++]=S(Rc+.6666667)}else if(e.isEA(),r[--t]){var Mc=r[--t];r[t++]=S(Mc+2.6666667)}else{var Fc=r[--t];r[t++]=S(Fc+1.3333334)}var Pc=r[--t];if(e[r[--t]]=Pc,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var xl=r[--t];r[t++]=S(xl+.6666667)}else if(e.isEA(),r[--t]){var Io=r[--t];r[t++]=S(Io+2.6666667)}else{var _c=r[--t];r[t++]=S(_c+1.3333334)}var Oc=r[--t];if(e[r[--t]]=Oc,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var vl=r[--t];r[t++]=S(vl+.6666667)}else if(e.isEA(),r[--t]){var Bo=r[--t];r[t++]=S(Bo+4.3333334)}else{var Uc=r[--t];r[t++]=S(Uc+3.3333334)}var zc=r[--t];if(e[r[--t]]=zc,r[t++]="ec",r[t++]=e.ec,e.isE(),r[--t]){var gl=r[--t];r[t++]=S(gl+3/4)}else if(e.isEA(),r[--t]){var Do=r[--t];r[t++]=S(Do+17/4)}else{var Lc=r[--t];r[t++]=S(Lc+13/4)}var Qc=r[--t];if(e[r[--t]]=Qc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var bl=r[--t];r[t++]=bl+4}else{var To=r[--t];r[t++]=To+1}var Hc=r[--t];if(e[r[--t]]=Hc,e.k>=4){var wl=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var $1=0,Ro=wl.length;$1<Ro;$1++){var $c=r[--t];r[t++]=$c&&e.ac+1<=c(wl,$1)}if(r[--t]){r[t++]=e.A;break}if(e.bc+1<=e.ac){r[t++]=e.B;break}var qn=s([e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var qc=0,$u=qn.length;qc<$u;qc++){var qu=r[--t];r[t++]=qu&&e.bc+1<c(qn,qc)}if(r[--t]){r[t++]=e.B;break}var m2=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Gc=0,Gu=m2.length;Gc<Gu;Gc++){var Yu=r[--t];r[t++]=Yu&&e.ec+1<c(m2,Gc)}if(r[--t]){r[t++]=e.E;break}var x2=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var Pi=0,Vu=x2.length;Pi<Vu;Pi++){var Ku=r[--t];r[t++]=Ku&&e.tc+1<c(x2,Pi)}if(r[--t]){r[t++]=e.T;break}var mi=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Yc=0,Wu=mi.length;Yc<Wu;Yc++){var Ju=r[--t];r[t++]=Ju&&e.xc+1<c(mi,Yc)}if(r[--t]){r[t++]=e.X;break}var v2=s([e.ac,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Vc=0,Xu=v2.length;Vc<Xu;Vc++){var Zu=r[--t];r[t++]=Zu&&e.cc+1<c(v2,Vc)}if(r[--t]){if(e.cc<e.xc){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}}e.k=e.k+1}}},e.addtocws=function(){var it=r[--t];R(e.cws,e.j,it),e.j=it.length+e.j},e.ECItocws=function(){var it=-r[--t]-1e6;if(r[t++]=it,it<=126){var Ft=r[--t];r[t++]=Ft+1,Vt(s(1))}else{var Yt=r[t-1];if(Yt<=16382){var Wt=r[--t]-127;r[t++]=~~(Wt/254)+128,r[t++]=Wt%254+1,Vt(s(2))}else{var Wr=r[--t]-16383;r[t++]=~~(Wr/64516)+192,r[t++]=~~(Wr/254)%254+1,r[t++]=Wr%254+1,Vt(s(3))}}},e.encA=function(){for(var it=0;it<1;it++){if(c(e.isECI,e.i)){r[t++]=c(e.Avals,e.eci),e.addtocws(),r[t++]=c(e.msg,e.i),e.ECItocws(),e.addtocws(),e.i=e.i+1;break}if(c(e.numD,e.i)>=2){var Ft=W(2);g(Ft,0,c(e.msg,e.i)),g(Ft,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Ft),e.addtocws(),e.i=e.i+2;break}r[t++]="newmode",e.lookup();var Yt=r[--t];if(e[r[--t]]=Yt,e.newmode!=e.mode){r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var it=0,Ft=e.in.length-1;it<=Ft;it+=3){var Yt=C(e.in,it,3);r[t++]=0;for(var Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var wa=r[--t];r[t++]=S(wa+c(Yt,Wt))*40}var ma=~~(r[--t]/40)+1;r[t++]=~~(ma/256),r[t++]=ma%256}Vt(s(xa()));var cs=r[--t];r[t-1]=cs},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2500),e.done=!1;e.i!=e.msglen;){var it=c(c(e.encvals,e.mode),c(e.msg,e.i))!==void 0;if(!it)break;if(e.p%3==0){if(e.p>0){r[t++]="newmode",e.lookup();var Ft=r[--t];if(e[r[--t]]=Ft,Ie(e.newmode,e.mode)){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.newmode!=e.A&&(r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws()),e.mode=e.newmode,e.done=!0;break}}if(e.msglen-e.i<=3){e.remcws=c(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Yt=C(e.msg,e.i,e.msglen-e.i),Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var wa=c(Yt,Wt),ma=c(c(e.encvals,e.mode),wa)!==void 0;r[t++]=wa,ma?U(c(c(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,U(C(e.ctxvals,0,e.p)),U(e.remvals);var cs=s();r[t++]=cs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,U(C(e.ctxvals,0,e.p)),U(e.remvals),U(c(c(e.encvals,e.mode),e.sft1));var $s=s();r[t++]=$s,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}}}var ln=c(c(e.encvals,e.mode),c(e.msg,e.i));R(e.ctxvals,e.p,ln),e.p=ln.length+e.p,e.i=e.i+1}if(!e.done){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-c(c(e.encvals,e.mode),c(e.msg,e.i)).length;r[t++]=1/0,U(C(e.ctxvals,0,e.p));var cn=s();if(r[t++]=cn,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!c(e.isECI,e.i))if(c(e.numD,e.i)>=2){var $n=W(2);g($n,0,c(e.msg,e.i)),g($n,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,$n),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.Evalstocws=function(){e.in=r[--t],e.inlen=e.in.length,e.outlen=~~xr(e.in.length/4*3),r[t++]=1/0,U(e.in),r[t++]=0,r[t++]=0,r[t++]=0,e.in=s(),r[t++]=1/0;for(var it=0,Ft=e.inlen-1;it<=Ft;it+=4){var Yt=C(e.in,it,4);r[t++]=0;for(var Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var wa=r[--t];r[t++]=AT(wa,c(Yt,Wt))<<6}var ma=r[--t]>>>6;r[t++]=ma>>>16&255,r[t++]=ma>>>8&255,r[t++]=ma&255}Vt(s(xa()));var cs=r[--t];r[t-1]=cs;var $s=C(r[--t],0,e.outlen);r[t++]=$s},e.encE=function(){for(e.p=0,e.edifactvals=s(2100);e.i!=e.msglen;){var it=c(e.Evals,c(e.msg,e.i))!==void 0;if(!it)break;if(e.p%4==0){if(e.msglen-e.i<=2){e.remcws=c(e.numremcws,e.j+~~(e.p/4)*3),r[t++]=1/0;for(var Ft=C(e.msg,e.i,e.msglen-e.i),Yt=0,Wt=Ft.length;Yt<Wt;Yt++)U(c(e.Avals,c(Ft,Yt)));if(e.remvals=s(),(e.remcws==1||e.remcws==2)&&e.remvals.length<=e.remcws){r[t++]=C(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),r[t++]=e.remvals,e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}if(e.lookup(),r[--t]!=e.mode)break}var Wr=c(e.Evals,c(e.msg,e.i));R(e.edifactvals,e.p,Wr),e.p=Wr.length+e.p,e.i=e.i+1}if(e.mode!=e.A){if(e.remcws=c(e.numremcws,e.j+~~(e.p/4)*3-1)-1,e.p%4!=0||e.i!=e.msglen||e.remcws>=3){var wa=c(e.Evals,e.unl);R(e.edifactvals,e.p,wa),e.p=wa.length+e.p}if(r[t++]=C(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!c(e.isECI,e.i))if(c(e.numD,e.i)>=2){var ma=W(2);g(ma,0,c(e.msg,e.i)),g(ma,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,ma),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encB=function(){for(e.p=0,e.bvals=s(1558);!(e.i==e.msglen||(e.lookup(),r[--t]!=e.mode));)g(e.bvals,e.p,c(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=c(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),U(C(e.bvals,0,e.p)),e.bvals=s();for(var it=0,Ft=e.bvals.length-1;it<=Ft;it+=1){e.p=it;var Yt=S((e.j+e.p+1)*149%255+1+c(e.bvals,e.p));if(r[t++]=Yt,Yt>=256){var Wt=r[--t];r[t++]=Wt-256}g(e.bvals,e.p,r[--t])}r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1558),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[c(s(["encA","encCTX","encCTX","encCTX","encE","encB"]),e.mode)]()===!0););e.cws=C(e.cws,0,e.j)}if(e.datlen=e.cws.length,e.remcws=c(e.numremcws,e.j-1)-1,e.remcws>0){r[t++]=1/0,U(e.cws);for(var Qr=0,os=e.remcws;Qr<os;Qr++)r[t++]=129;e.cws=s();for(var gs=e.datlen+1,Oa=S(e.datlen+e.remcws)-1;gs<=Oa;gs+=1){e.i=gs;var Bn=(e.i+1)*149%253+1+129;if(r[t++]=Bn,Bn>254){var Da=r[--t];r[t++]=Da-254}g(e.cws,e.i,r[--t])}}var ui=c(e.options,"debugcws")!==void 0;ui&&(r[t++]="bwipp.debugcws#20411",r[t++]=e.cws,z());for(var Qs=e.metrics,Ta=0,Dn=Qs.length;Ta<Dn&&(e.m=c(Qs,Ta),e.rows=c(e.m,0),e.cols=c(e.m,1),e.regh=c(e.m,2),e.regv=c(e.m,3),e.rscw=c(e.m,4),e.rsbl=c(e.m,5),e.doly=c(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.rrows=~~(e.mrows/e.regh),e.rcols=~~(e.mcols/e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.cws.length!=e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),V(e.format,"square")&&Ie(e.rows,e.cols)&&(e.okay=!1),V(e.format,"rectangle")&&V(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),!e.okay);Ta++);e.okay||(r[t++]="bwipp.datamatrixNoValidSymbol#20439",r[t++]="Maximum length exceeded or invalid size",z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Ja=0,Tn=e.rsbl-1;Ja<=Tn;Ja+=1){e.i=Ja,e.cws.length!=1558?e.cwbsize=~~(e.cws.length/e.rsbl):e.i<=7?e.cwbsize=156:e.cwbsize=155,e.cwb=s(e.cwbsize);for(var bs=0,an=e.cwbsize-1;bs<=an;bs+=1)e.j=bs,g(e.cwb,e.j,c(e.cws,S(e.j*e.rsbl+e.i)));g(e.cwbs,e.i,e.cwb),r[t++]=e.ecbs,r[t++]=e.i,r[t++]=1/0;for(var sn=0,Xn=~~(e.rscw/e.rsbl);sn<Xn;sn++)r[t++]=0;var yt=s(),Yr=r[--t];g(r[--t],Yr,yt)}r[t++]=1/0,r[t++]=1;for(var ra=0;ra<255;ra++){var Ua=r[t-1],ca=Ua*2;if(r[t++]=ca,ca>=256){var Xa=r[--t];r[t++]=Xa^301}}e.rsalog=s(),e.rslog=s(256);for(var ws=1;ws<=255;ws+=1)g(e.rslog,c(e.rsalog,ws),ws);e.rsprod=function(){var it=r[t-1],Ft=r[t-2];if(it!=0&&Ft!=0){var Yt=c(e.rslog,r[--t]),Wt=c(e.rsalog,S(Yt+c(e.rslog,r[--t]))%255);r[t++]=Wt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var gn=0,lt=~~(e.rscw/e.rsbl);gn<lt;gn++)r[t++]=0;e.coeffs=s();for(var Nt=1,hr=~~(e.rscw/e.rsbl);Nt<=hr;Nt+=1){e.i=Nt,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var lr=e.i-1;lr>=1;lr-=1){e.j=lr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var fr=r[--t],Rr=r[--t],cr=r[--t];g(r[--t],cr,fs(Rr,fr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var aa=r[--t],Hr=r[--t];g(r[--t],Hr,aa)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var $r=0,qr=e.cwbs.length-1;$r<=qr;$r+=1){e.i=$r,e.cwb=c(e.cwbs,e.i),e.ecb=c(e.ecbs,e.i);for(var Vr=0,ha=e.cwb.length-1;Vr<=ha;Vr+=1){e.t=fs(c(e.cwb,Vr),c(e.ecb,0));for(var Zr=e.ecb.length-1;Zr>=0;Zr-=1){e.j=Zr,e.p=e.ecb.length-e.j-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=c(e.coeffs,e.j),e.rsprod();var Gr=r[--t],sa=r[--t];g(r[--t],sa,Gr),e.j>0&&g(e.ecb,e.p,fs(c(e.ecb,e.p+1),c(e.ecb,e.p)))}}}e.ncws==1558&&(r[t++]=1/0,U(C(e.ecbs,8,2)),U(C(e.ecbs,0,8)),e.ecbs=s()),r[t++]=1/0,U(e.cws);for(var Mr=0,_r=e.rscw;Mr<_r;Mr++)r[t++]=0;e.cws=s();for(var za=0,ba=e.rscw-1;za<=ba;za+=1)e.i=za,g(e.cws,S(e.ncws+e.i),c(c(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));e.module=function(){Na(4,-1);var it=Fr(W(8),"00000000");r[t++]=it,r[t++]=it;var Ft=$t(W(8),r[t-3],2);R(r[t-1],8-Ft.length,Ft),r[t-3]=r[t-2],t-=2;for(var Yt=7;Yt>=0;Yt-=1){var Wt=r[--t];r[t++]=c(Wt,Yt)-48,r[t++]=Wt}t--,Na(11,-3),ve(r[--t],function(){if(r[--t]()===!0)return!0;var Wr=r[t-2];if(Wr<0){var wa=r[--t],ma=r[--t];r[t++]=S(ma+e.mrows),r[t++]=S(wa+(4-(e.mrows+4)%8))}var cs=r[t-1];if(cs<0){var $s=r[--t],ln=r[--t];r[t++]=S(ln+(4-(e.mcols+4)%8)),r[t++]=S($s+e.mcols)}var cn=r[t-2];if(cn>=e.mrows){var $n=r[--t],g1=r[--t];r[t++]=S(g1-e.mrows),r[t++]=$n}var e1=r[--t],Fi=r[--t];r[t++]=e.mmat,r[t++]=S(e1+Fi*e.mcols),Na(5,-1);var b1=r[--t],t1=r[--t];g(r[--t],t1,b1)})};var ls=s([function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-2,r[t++]=it-2},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-2,r[t++]=it-1},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-1,r[t++]=it-2},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-1,r[t++]=it-1},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-1,r[t++]=it},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft,r[t++]=it-2},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft,r[t++]=it-1},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft,r[t++]=it}]);e.dmn=ls;var Ss=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=1},function(){r[t++]=e.mrows-1,r[t++]=2},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc1=Ss;var nn=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-4},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc2=nn;var Rs=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc3=Rs;var rr=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=e.mcols-1},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-3},function(){r[t++]=1,r[t++]=e.mcols-2},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc4=rr,r[t++]=1/0;for(var yr=0,Nr=e.mrows*e.mcols;yr<Nr;yr++)r[t++]=-1;e.mmat=s();for(var ea=e.cws.length-1;ea>=0;ea-=1)r[t++]=c(e.cws,ea);for(r[t++]=4,r[t++]=0;;){var Or=r[t-1],na=r[t-2];Or==0&&na==e.mrows&&(r[t++]=e.dmc1,e.module());var Kr=r[t-1],Za=r[t-2];Kr==0&&Za==e.mrows-2&&e.mcols%4!=0&&(r[t++]=e.dmc2,e.module());var es=r[t-1],Hs=r[t-2];es==0&&Hs==e.mrows-2&&e.mcols%8==4&&(r[t++]=e.dmc3,e.module());var bn=r[t-1],Rn=r[t-2];for(bn==2&&Rn==e.mrows+4&&e.mcols%8==0&&(r[t++]=e.dmc4,e.module());;){var zn=r[t-1],Ln=r[t-2];if(zn>=0&&Ln<e.mrows){var wn=r[t-1],fi=r[t-2];c(e.mmat,S(wn+fi*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var Qn=r[--t],hi=r[--t];if(r[t++]=hi-2,r[t++]=Qn+2,!(Qn+2<e.mcols&&hi-2>=0))break}var Ji=r[--t],pi=r[--t];for(r[t++]=pi+1,r[t++]=Ji+3;;){var Xi=r[t-1],Zi=r[t-2];if(Xi<e.mcols&&Zi>=0){var Ye=r[t-1],gt=r[t-2];c(e.mmat,S(Ye+gt*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var pr=r[--t],kr=r[--t];if(r[t++]=kr+2,r[t++]=pr-2,!(pr-2>=0&&kr+2<e.mrows))break}var pa=r[--t],ts=r[--t];if(r[t++]=ts+3,r[t++]=pa+1,!(pa+1<e.mcols||ts+3<e.mrows)){t-=2;break}}c(e.mmat,e.mrows*e.mcols-1)==-1&&(R(e.mmat,e.mrows*(e.mcols-1)-2,s([1,0])),R(e.mmat,e.mrows*e.mcols-2,s([0,1]))),e.pixs=s(e.rows*e.cols),e.cwpos=0;for(var rs=0,Es=e.rows-1;rs<=Es;rs+=1){if(e.i=rs,e.i%(e.rrows+2)==0){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var on=0,yn=~~(e.cols/2);on<yn;on++)r[t++]=1,r[t++]=0;var Ti=s(),Ri=r[--t];R(r[--t],Ri,Ti)}if(e.i%(e.rrows+2)==e.rrows+1){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var Hn=0,Mi=e.cols;Hn<Mi;Hn++)r[t++]=1;var Eo=s(),Q1=r[--t];R(r[--t],Q1,Eo)}if(e.i%(e.rrows+2)!=0&&e.i%(e.rrows+2)!=e.rrows+1)for(var ct=0,qt=e.cols-1;ct<=qt;ct+=1)e.j=ct,e.j%(e.rcols+2)==0&&g(e.pixs,S(e.i*e.cols+e.j),1),e.j%(e.rcols+2)==e.rcols+1&&g(e.pixs,S(e.i*e.cols+e.j),e.i%2),e.j%(e.rcols+2)!=0&&e.j%(e.rcols+2)!=e.rcols+1&&(g(e.pixs,S(e.i*e.cols+e.j),c(e.mmat,e.cwpos)),e.cwpos=e.cwpos+1)}var Ur=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ur,e.dontdraw||mt(),e=a}function dR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function uR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"dmre",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function fR(){var a=e;e=Object.assign({},e),e.type="unset",e.parse=!1,e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse;var o=e.type;Ie(o,"7")&&Ie(o,"9")&&Ie(o,"29")&&(r[t++]="bwipp.mailmarkBadType#20820",r[t++]="Royal Mail Mailmark type must be 7, 9 or 29",z());var d=new Map([["7","24x24"],["9","32x32"],["29","16x48"]]);e.version=c(d,e.type);var u=new Map([["7","square"],["9","square"],["29","rectangle"]]);e.format=c(u,e.type),e.barcode.length<45&&(r[t++]="bwipp.mailmarkBadLength#20836",r[t++]="Royal Mail Mailmark must contain at least 45 characters of Mailmark formatted data, including any required space padding",z()),Ie(C(e.barcode,0,4),"JGB ")&&(r[t++]="bwipp.mailmarkBadIndicator#20839",r[t++]="Royal Mail Mailmark must begin with JGB<space> identifier",z()),g(e.options,"dontdraw",!0),g(e.options,"version",e.version),g(e.options,"format",e.format),g(e.options,"c40headerlength",45),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var f=r[--t];e[r[--t]]=f,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function pl(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="unset",e.version="unset",e.eclevel="unset",e.fixedeclevel=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,e.suppresskanjimode=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.qrcodeEmptyData#20904",r[t++]="The data must not be empty",z()),Ie(e.version,"unset")?V(e.format,"unset")&&(r[t++]="full",V(C(e.version,0,1),"M")&&(r[t-1]="micro"),V(C(e.version,0,1),"R")&&(r[t-1]="rmqr"),e.format=r[--t]):V(e.format,"unset")&&(e.format="full"),Ie(e.format,"full")&&Ie(e.format,"micro")&&Ie(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeInvalidFormat#20920",r[t++]="The format must be either full, micro or rmqr",z()),V(e.format,"rmqr")&&V(e.version,"unset")&&(r[t++]="bwipp.qrcodeRMQRwithoutVersion#20924",r[t++]="A version must be provided for RMQR",z()),V(e.eclevel,"unset")){r[t++]="eclevel",Ie(e.format,"micro")?r[t++]="M":r[t++]="L";var n=r[--t];e[r[--t]]=n}if(Ie(e.eclevel,"L")&&Ie(e.eclevel,"M")&&Ie(e.eclevel,"Q")&&Ie(e.eclevel,"H")&&(r[t++]="bwipp.qrcodeInvalidEClevel#20931",r[t++]="Error correction level must be either L, M, Q, or H",z()),e.mask!=-1&&V(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeRMQRmask#20935",r[t++]="A mask cannot be supplied for RMQR",z()),e.mask!=-1){var i=V(e.format,"full")?8:4;(e.mask<1||e.mask>i)&&(r[t++]="bwipp.qrcodeBadMask#20940",r[t++]="An invalid mask was supplied",z())}e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];if(e[r[--t]]=d,e.msglen=e.msg.length,e.fnc1first=!1,e.msglen>0&&c(e.msg,0)==e.fn1){e.fnc1first=!0,r[t++]=1/0;for(var u=C(e.msg,1,e.msglen-1),f=0,h=u.length;f<h;f++){var p=c(u,f);if(r[t++]=p,p==37){var m=r[t-1];r[t++]=m}}e.msg=s(),e.msglen=e.msg.length}var x=s(["v1to9","v10to26","v27to40","vM1","vM2","vM3","vM4","vR7x43","vR7x59","vR7x77","vR7x99","vR7x139","vR9x43","vR9x59","vR9x77","vR9x99","vR9x139","vR11x27","vR11x43","vR11x59","vR11x77","vR11x99","vR11x139","vR13x27","vR13x43","vR13x59","vR13x77","vR13x99","vR13x139","vR15x43","vR15x59","vR15x77","vR15x99","vR15x139","vR17x43","vR17x59","vR17x77","vR17x99","vR17x139"]);r[t++]=0;for(var b=0,y=x.length;b<y;b++){var w=r[--t];e[c(x,b)]=w,r[t++]=w+1}t--,e.N=0,e.A=1,e.B=2,e.K=3,e.E=4,r[t++]=1/0,r[t++]=1/0;for(var v=48;v<=57;v+=1)r[t++]=v;for(var A=s(),j=0,E=A.length;j<E;j++)r[t++]=c(A,j),r[t++]=-1;e.Nexcl=_e(),r[t++]=1/0,r[t++]=1/0,r[t++]=32,r[t++]=36,r[t++]=37,r[t++]=42,r[t++]=43,r[t++]=45,r[t++]=46,r[t++]=47,r[t++]=58;for(var k=65;k<=90;k+=1)r[t++]=k;r[t++]=e.fn1;for(var N=s(),B=0,I=N.length;B<I;B++)r[t++]=c(N,B),r[t++]=-1;e.Aexcl=_e(),r[t++]=1/0,r[t++]=1/0;for(var D=129;D<=159;D+=1)r[t++]=D;for(var T=224;T<=235;T+=1)r[t++]=T;for(var M=s(),Q=0,F=M.length;Q<F;Q++)r[t++]=c(M,Q),r[t++]=-1;e.Kexcl=_e(),r[t++]=1/0,r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["",-1,-1,-1,-1]),r[t++]=s(["0","1",-1,-1,-1]),r[t++]=s(["00","01","10","11",-1]),r[t++]=s(["000","001","010","011",-1]);for(var P=0;P<32;P++)r[t++]=s(["001","010","011","100","111"]);e.mids=s(),e.cclens=s([s([10,9,8,8]),s([12,11,16,10]),s([14,13,16,12]),s([3,-1,-1,-1]),s([4,3,-1,-1]),s([5,4,4,3]),s([6,5,5,4]),s([4,3,3,2]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([4,4,3,2]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([5,5,4,3]),s([6,6,5,5]),s([7,6,6,5]),s([7,7,6,6]),s([8,7,7,6]),s([8,8,7,7]),s([7,6,6,5]),s([7,7,6,5]),s([8,7,7,6]),s([8,7,7,6]),s([9,8,7,7]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([8,8,7,6]),s([9,8,8,7])]),r[t++]=1/0;for(var L=0;L<3;L++)r[t++]=4;r[t++]=3,r[t++]=5,r[t++]=7,r[t++]=9;for(var _=0;_<32;_++)r[t++]=3;e.termlens=s(),e.padstrs=s(["11101100","00010001"]),e.charmap="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.charvals=new Map;for(var H=0;H<=44;H+=1)g(e.charvals,c(e.charmap,H),H);e.tobin=function(){var Ye=W(r[--t]);r[t++]=Ye;for(var gt=0,pr=Ye.length-1;gt<=pr;gt+=1){var kr=r[t-1];g(kr,gt,48)}var pa=r[t-1];r[t++]=pa;var ts=r[t-3],rs=r[t-1];r[t-3]=r[t-2],t-=2;var Es=$t(W(rs.length),ts,2);R(rs,rs.length-Es.length,Es)},e.encA=function(){for(e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ve(e.in,function(){var gt=r[t-1];gt==e.fn1&&(r[t-1]=37)}),e.in=s()),e.out=W(~~(e.in.length*11/2)+1),e.k=0,e.m=0;e.k!=e.in.length;){e.k<e.in.length-1?(r[t++]=S(c(e.charvals,c(e.in,e.k))*45+c(e.charvals,c(e.in,e.k+1))),r[t++]=11,e.tobin(),e.k=e.k+2):(r[t++]=c(e.charvals,c(e.in,e.k)),r[t++]=6,e.tobin(),e.k=e.k+1);var Ye=r[--t];R(e.out,e.m,Ye),e.m=Ye.length+e.m}r[t++]=C(e.out,0,e.m)},e.encN=function(){for(e.in=r[--t],e.out=W(~~(e.in.length*10/3)+1),e.k=0,e.m=0;e.k!=e.in.length;){if(e.k<e.in.length-2){var Ye=C(e.in,e.k,3);r[t++]=0;for(var gt=0,pr=Ye.length;gt<pr;gt++){var kr=r[--t];r[t++]=S(c(Ye,gt)+(kr*10-48))}r[t++]=10,e.tobin(),e.k=e.k+3}else if(e.k==e.in.length-2){var pa=C(e.in,e.k,2);r[t++]=0;for(var ts=0,rs=pa.length;ts<rs;ts++){var Es=r[--t];r[t++]=S(c(pa,ts)+(Es*10-48))}r[t++]=7,e.tobin(),e.k=e.k+2}else{var on=C(e.in,e.k,1);r[t++]=0;for(var yn=0,Ti=on.length;yn<Ti;yn++){var Ri=r[--t];r[t++]=S(c(on,yn)+(Ri*10-48))}r[t++]=4,e.tobin(),e.k=e.k+1}var Hn=r[--t];R(e.out,e.m,Hn),e.m=Hn.length+e.m}r[t++]=C(e.out,0,e.m)},e.encB=function(){e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ve(e.in,function(){var pa=r[t-1];pa==e.fn1&&(r[t-1]=29)}),e.in=s()),e.out=W(e.in.length*8);for(var Ye=0,gt=e.in.length-1;Ye<=gt;Ye+=1){e.k=Ye,r[t++]=De(c(e.in,e.k)),r[t++]=8,e.tobin(),r[t++]=e.out,r[t++]=e.k*8;var pr=r[t-3],kr=r[t-1];R(r[t-2],kr,pr),t-=3}r[t++]=e.out},e.encK=function(){for(e.in=r[--t],e.out=W(~~(e.in.length/2)*13),e.k=0,e.m=0;e.k!=e.in.length;){var Ye=S(c(e.in,e.k)*256+c(e.in,e.k+1));r[t++]=Ye,Ye<57408?r[t++]=33088:r[t++]=49472;var gt=r[--t],pr=S(r[--t]-gt);r[t++]=S((pr>>>8)*192+(pr&255)),r[t++]=13,e.tobin();var kr=r[--t];R(e.out,e.m,kr),e.m=kr.length+e.m,e.k=e.k+2}r[t++]=e.out},e.encE=function(){var Ye=-c(r[--t],0)-1e6;if(r[t++]=Ye,Ye<=127)r[t++]=8,e.tobin();else{var gt=r[t-1];if(gt<=16383){var pr=r[--t];r[t++]=pr+32768,r[t++]=16,e.tobin()}else{var kr=r[--t];r[t++]=kr+12582912,r[t++]=24,e.tobin()}}},e.encfuncs=s(["encN","encA","encB","encK","encE"]),e.addtobits=function(){var Ye=r[--t];R(e.bits,e.j,Ye),e.j=Ye.length+e.j},r[t++]=1/0;for(var Y=0,de=e.msglen;Y<de;Y++)r[t++]=0;r[t++]=0,e.numNs=s(),r[t++]=1/0;for(var $=0,q=e.msglen;$<q;$++)r[t++]=0;r[t++]=0,e.numAs=s(),r[t++]=1/0;for(var re=0,ce=e.msglen;re<ce;re++)r[t++]=0;r[t++]=0,e.numAorNs=s(),r[t++]=1/0;for(var J=0,oe=e.msglen;J<oe;J++)r[t++]=0;r[t++]=0,e.numBs=s(),r[t++]=1/0;for(var ue=0,he=e.msglen;ue<he;ue++)r[t++]=0;r[t++]=0,e.numKs=s(),r[t++]=1/0;for(var Re=0,te=e.msglen;Re<te;Re++)r[t++]=0;r[t++]=9999,e.nextNs=s(),r[t++]=1/0;for(var Be=0,Se=e.msglen;Be<Se;Be++)r[t++]=0;r[t++]=9999,e.nextBs=s(),r[t++]=1/0;for(var Oe=0,Ue=e.msglen;Oe<Ue;Oe++)r[t++]=0;r[t++]=9999,e.nextAs=s(),r[t++]=1/0;for(var be=0,$e=e.msglen;be<$e;be++)r[t++]=0;r[t++]=9999,e.nextKs=s(),e.isECI=s(e.msglen);for(var Fe=e.msglen-1;Fe>=0;Fe-=1){e.i=Fe,e.barchar=c(e.msg,e.i);var Ke=c(e.Kexcl,e.barchar)!==void 0;if(Ke&&!e.suppresskanjimode){e.i+1<e.msglen?r[t++]=S(e.barchar*256+c(e.msg,e.i+1)):r[t++]=0;var Je=r[--t],rt=Je&255;(Je>=33088&&Je<=40956||Je>=57408&&Je<=60351)&&rt>=64&&rt<=252&&rt!=127?(g(e.nextKs,e.i,0),g(e.numKs,e.i,c(e.numKs,e.i+2)+1)):g(e.nextKs,e.i,c(e.nextKs,e.i+1)+1)}else g(e.nextKs,e.i,c(e.nextKs,e.i+1)+1);var ae=c(e.Nexcl,e.barchar)!==void 0;ae?(g(e.nextNs,e.i,0),g(e.numNs,e.i,c(e.numNs,e.i+1)+1),g(e.numAorNs,e.i,c(e.numAorNs,e.i+1)+1)):g(e.nextNs,e.i,c(e.nextNs,e.i+1)+1);var fe=c(e.Aexcl,e.barchar)!==void 0;fe?(g(e.nextAs,e.i,0),g(e.numAs,e.i,c(e.numAs,e.i+1)+1),g(e.numAorNs,e.i,c(e.numAorNs,e.i+1)+1)):g(e.nextAs,e.i,c(e.nextAs,e.i+1)+1),g(e.isECI,e.i,e.barchar<=-1e6)}for(var Me=0,Le=e.msglen-1;Me<=Le;Me+=1)e.i=Me,c(e.numKs,e.i)>0&&(g(e.numKs,e.i+1,0),g(e.nextKs,e.i+1,c(e.nextKs,e.i+1)+1));for(var Xe=e.msglen-1;Xe>=0;Xe-=1)e.i=Xe,S(c(e.numNs,e.i)+(c(e.numAs,e.i)+c(e.numKs,e.i)))==0&&!c(e.isECI,e.i)?(g(e.nextBs,e.i,0),g(e.numBs,e.i,c(e.numBs,e.i+1)+1)):g(e.nextBs,e.i,c(e.nextBs,e.i+1)+1);e.KbeforeB=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numK,Ye)&&c(e.nextBs,S(e.numK*2+e.i))==0},e.KbeforeA=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numK,Ye)&&c(e.nextAs,S(e.numK*2+e.i))==0},e.KbeforeN=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numK,Ye)&&c(e.nextNs,S(e.numK*2+e.i))==0},e.KbeforeE=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numK,Ye)&&S(e.numK*2+e.i)==e.msglen},e.AbeforeK=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numA,Ye)&&c(e.nextKs,S(e.numA+e.i))==0},e.AbeforeB=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numA,Ye)&&c(e.nextBs,S(e.numA+e.i))==0},e.AbeforeN=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numA,Ye)&&c(e.nextNs,S(e.numA+e.i))==0},e.AbeforeE=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numA,Ye)&&S(e.numA+e.i)==e.msglen},e.NbeforeK=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numN,Ye)&&c(e.nextKs,S(e.numN+e.i))==0},e.NbeforeB=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numN,Ye)&&c(e.nextBs,S(e.numN+e.i))==0},e.NbeforeA=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numN,Ye)&&c(e.nextAs,S(e.numN+e.i))==0},e.NbeforeE=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numN,Ye)&&S(e.numN+e.i)==e.msglen},e.AorNbeforeB=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numAorN,Ye)&&c(e.nextBs,S(e.numAorN+e.i))==0},e.AorNbeforeE=function(){var Ye=c(r[--t],e.ver);r[t++]=Gn(e.numAorN,Ye)&&S(e.numAorN+e.i)==e.msglen},e.nextNslt=function(){if(c(e.nextNs,e.i)>=e.msglen)r[t-1]=!0;else{var Ye=c(r[--t],e.ver);r[t++]=mn(c(e.numNs,S(c(e.nextNs,e.i)+e.i)),Ye)}},r[t++]=1/0,r[t++]="full",r[t++]=1/0;for(var ze=0;ze<=9;ze+=1)r[t++]=$t(W(2),ze,10),r[t++]=e.v1to9;for(var qe=10;qe<=26;qe+=1)r[t++]=$t(W(2),qe,10),r[t++]=e.v10to26;for(var ht=27;ht<=40;ht+=1)r[t++]=$t(W(2),ht,10),r[t++]=e.v27to40;var vt=_e(),dt=new Map([["M1",e.vM1],["M2",e.vM2],["M3",e.vM3],["M4",e.vM4]]),wt=new Map([["R7x43",e.vR7x43],["R7x59",e.vR7x59],["R7x77",e.vR7x77],["R7x99",e.vR7x99],["R7x139",e.vR7x139],["R9x43",e.vR9x43],["R9x59",e.vR9x59],["R9x77",e.vR9x77],["R9x99",e.vR9x99],["R9x139",e.vR9x139],["R11x27",e.vR11x27],["R11x43",e.vR11x43],["R11x59",e.vR11x59],["R11x77",e.vR11x77],["R11x99",e.vR11x99],["R11x139",e.vR11x139],["R13x27",e.vR13x27],["R13x43",e.vR13x43],["R13x59",e.vR13x59],["R13x77",e.vR13x77],["R13x99",e.vR13x99],["R13x139",e.vR13x139],["R15x43",e.vR15x43],["R15x59",e.vR15x59],["R15x77",e.vR15x77],["R15x99",e.vR15x99],["R15x139",e.vR15x139],["R17x43",e.vR17x43],["R17x59",e.vR17x59],["R17x77",e.vR17x77],["R17x99",e.vR17x99],["R17x139",e.vR17x139]]);if(r[t++]=vt,r[t++]="micro",r[t++]=dt,r[t++]="rmqr",r[t++]=wt,e.versetmap=_e(),e.versetfull=s([e.v1to9,e.v10to26,e.v27to40]),e.versetmicro=s([e.vM1,e.vM2,e.vM3,e.vM4]),Ie(e.version,"unset")){var Bt=c(e.versetmap,e.format),jt=e.version,At=c(Bt,jt)!==void 0;r[t++]=Bt,r[t++]=jt,At||(t-=2,V(e.format,"full")?(r[t++]="bwipp.qrcodeInvalidFullVersion#21296",r[t++]="Valid versions for QR Code symbols are 1 to 40",z()):V(e.format,"micro")?(r[t++]="bwipp.qrcodeInvalidMicroVersion#21299",r[t++]="Valid versions for Micro QR Code symbols are M1 to M4",z()):(r[t++]="bwipp.qrcodeInvalidRMQRversion#21301",r[t++]="Invalid version for an RMQR symbol",z()));var _t=r[--t],Mt=c(r[--t],_t),Lt=1/0,Dt=Mt;r[t++]=Lt,r[t++]=Dt,e.verset=s()}else V(e.format,"full")&&(e.verset=e.versetfull),V(e.format,"micro")&&(e.verset=e.versetmicro);r[t++]=1/0;for(var kt=0;kt<39;kt++)r[t++]=-1;e.msgbits=s(),e.e=1e4,e.mode0forceKB=s([1,1,1,e.e,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceA=s([1,1,1,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceN=s([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0NbeforeB=s([4,4,5,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeBKbeforeB=s([9,12,13,e.e,e.e,4,6,4,5,6,6,6,5,6,6,6,7,4,6,6,6,7,7,5,6,6,7,7,7,6,6,7,7,7,6,7,7,7,8]),e.modeBKbeforeA=s([8,10,11,e.e,e.e,4,5,4,5,5,6,6,5,5,6,6,6,4,5,6,6,6,6,5,6,6,6,6,7,6,6,6,6,7,6,6,6,7,7]),e.modeBKbeforeN=s([8,9,11,e.e,e.e,3,5,3,4,5,5,5,4,5,5,5,6,3,5,5,5,6,6,4,5,5,6,6,6,5,5,6,6,7,5,6,6,6,7]),e.modeBKbeforeE=s([5,5,6,e.e,e.e,2,3,2,3,3,3,3,3,3,3,3,4,2,3,3,3,4,4,3,3,3,4,4,4,3,3,4,4,4,3,4,4,4,4]),e.modeBAbeforeK=s([11,12,14,e.e,e.e,5,7,5,6,7,8,8,6,7,8,8,8,6,7,8,8,8,8,6,8,8,8,8,9,8,8,8,8,9,8,8,8,9,9]),e.modeBAbeforeB=s([11,15,16,e.e,e.e,6,7,6,7,7,8,8,7,7,8,8,8,6,7,8,8,8,9,7,8,8,8,9,9,8,8,9,9,9,8,8,9,9,10]),e.modeBAbeforeN=s([12,13,15,e.e,e.e,6,8,6,7,8,8,8,7,8,8,8,9,6,8,8,8,9,9,7,8,8,9,9,10,8,9,9,9,10,8,9,9,10,10]),e.modeBAbeforeE=s([6,7,8,e.e,e.e,3,4,3,4,4,4,4,4,4,4,4,5,4,4,4,4,5,5,4,4,4,5,5,5,4,5,5,5,5,4,5,5,5,5]),e.modeBNbeforeK=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5]),e.modeBNbeforeB=s([6,8,9,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,6]),e.modeBNbeforeA=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,4,4,5,5,5,5,4,5,5,5,5,5,5,5,5,5,6,5,5,5,5,6]),e.modeBNbeforeE=s([3,4,4,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeANbeforeA=s([13,15,17,e.e,5,7,9,7,8,9,9,9,8,9,9,9,11,7,9,9,9,11,11,8,9,9,10,11,11,9,10,11,11,11,9,11,11,11,11]),e.modeANbeforeB=s([13,17,18,e.e,e.e,7,9,7,8,9,9,9,8,9,9,9,10,7,9,9,9,10,11,8,9,9,9,11,11,9,9,11,11,11,9,10,11,11,11]),e.modeANbeforeE=s([7,8,9,e.e,3,4,5,4,5,5,5,5,5,5,5,5,6,4,5,5,5,6,6,5,5,5,5,6,6,5,5,6,6,6,5,6,6,6,6]);for(var O=e.verset,K=0,G=O.length;K<G;K++){for(e.ver=c(O,K),e.mode=-1,e.seq=s([]),e.i=0;!(e.i>=e.msglen);){if(e.numK=c(e.numKs,e.i),e.numB=c(e.numBs,e.i),e.numA=c(e.numAs,e.i),e.numN=c(e.numNs,e.i),e.numAorN=c(e.numAorNs,e.i),e.eci=c(e.isECI,e.i),V(e.ver,e.vM1)&&e.numA>=1){e.seq=-1;break}if(V(e.ver,e.vM1)&&e.numB>=1){e.seq=-1;break}if(V(e.ver,e.vM1)&&e.numK>=1){e.seq=-1;break}if(V(e.ver,e.vM1)&&e.eci){e.seq=-1;break}if(V(e.ver,e.vM2)&&e.numB>=1){e.seq=-1;break}if(V(e.ver,e.vM2)&&e.numK>=1){e.seq=-1;break}if(V(e.ver,e.vM2)&&e.eci){e.seq=-1;break}if(V(e.ver,e.vM3)&&e.eci){e.seq=-1;break}if(V(e.ver,e.vM4)&&e.eci){e.seq=-1;break}for(;;){if(e.eci){r[t++]=e.E;break}if(e.mode==-1){if(r[t++]=e.mode0forceKB,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(e.numK>=1){r[t++]=e.B;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceKB,e.NbeforeB(),r[--t]){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeE,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceN,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AorNbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.mode0forceA,e.AorNbeforeE(),r[--t]){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.B){if(r[t++]=e.modeBKbeforeB,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeA,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeN,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBAbeforeK,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeB,e.AbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeN,e.AbeforeN(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeE(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBNbeforeK,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}r[t++]=e.modeBAbeforeE,e.AorNbeforeE();var se=r[--t];if(se&&dc(e.numAorN,c(e.modeBAbeforeN,e.ver))&&(r[t++]=e.modeBNbeforeA,e.nextNslt(),r[--t])){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.A){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(e.numA>=1||e.numN>=1){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.N){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}r[t++]=e.B;break}if(e.mode==e.K){if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}if(e.numK>=1){r[t++]=e.K;break}r[t++]=e.B;break}}var le=r[t-1];le==e.K&&e.fnc1first&&(r[t-1]=e.B);var ge=r[t-1];if(ge==e.mode){t--;var ee=e.mode==e.K?2:1;e.dat=C(e.msg,e.i,ee),r[t++]=1/0,U(e.seq),r[t++]=1/0;var ke=r[--t],X=r[--t];r[t++]=ke,U(X),U(e.dat);var xe=s();r[t++]=xe,e.seq=s()}else e.mode=r[--t],e.mode==e.K&&(r[t++]=e.K,r[t++]=C(e.msg,e.i,e.numK*2)),e.mode==e.B&&(r[t++]=e.B,r[t++]=C(e.msg,e.i,e.numB)),e.mode==e.A&&(r[t++]=e.A,r[t++]=C(e.msg,e.i,e.numA)),e.mode==e.N&&(r[t++]=e.N,r[t++]=C(e.msg,e.i,e.numN)),e.mode==e.E&&(e.mode=-1,r[t++]=e.E,r[t++]=C(e.msg,e.i,1)),e.dat=r[--t],e.sw=r[--t],r[t++]=1/0,U(e.seq),r[t++]=e.sw,r[t++]=e.dat,e.seq=s();e.i=e.i+e.dat.length}for(;e.seq!=-1;){e.bits=W(23648),e.j=0,e.fnc1first&&(mn(e.ver,e.vR7x43)?r[t++]="0101":r[t++]="101",e.addtobits()),e.abort=!1;for(var me=0,ye=e.seq.length-1;me<=ye;me+=2){if(e.i=me,e.mode=c(e.seq,e.i),r[t++]=c(c(e.mids,e.ver),e.mode),e.addtobits(),e.chars=c(e.seq,e.i+1),r[t++]="charslen",r[t++]=e.chars.length,e.mode==e.K){var ne=r[--t];r[t++]=~~(ne/2)}var we=r[--t];if(e[r[--t]]=we,e.mode!=e.E){if(e.cclen=c(c(e.cclens,e.ver),e.mode),e.charslen>=~~li(2,e.cclen)){e.abort=!0;break}r[t++]=e.charslen,r[t++]=e.cclen,e.tobin(),e.addtobits()}if(r[t++]=e.chars,e[c(e.encfuncs,e.mode)]()===!0)break;e.addtobits()}if(e.abort)break;e.bits=C(e.bits,0,e.j),g(e.msgbits,e.ver,e.bits);break}}e.metrics=s([s(["micro","M1",e.vM1,11,11,98,99,36,s([2,99,99,99]),s([1,0,-1,-1,-1,-1,-1,-1])]),s(["micro","M2",e.vM2,13,13,98,99,80,s([5,6,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M3",e.vM3,15,15,98,99,132,s([6,8,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M4",e.vM4,17,17,98,99,192,s([8,10,14,99]),s([1,0,1,0,1,0,-1,-1])]),s(["full","1",e.v1to9,21,21,98,99,208,s([7,10,13,17]),s([1,0,1,0,1,0,1,0])]),s(["full","2",e.v1to9,25,25,18,99,359,s([10,16,22,28]),s([1,0,1,0,1,0,1,0])]),s(["full","3",e.v1to9,29,29,22,99,567,s([15,26,36,44]),s([1,0,1,0,2,0,2,0])]),s(["full","4",e.v1to9,33,33,26,99,807,s([20,36,52,64]),s([1,0,2,0,2,0,4,0])]),s(["full","5",e.v1to9,37,37,30,99,1079,s([26,48,72,88]),s([1,0,2,0,2,2,2,2])]),s(["full","6",e.v1to9,41,41,34,99,1383,s([36,64,96,112]),s([2,0,4,0,4,0,4,0])]),s(["full","7",e.v1to9,45,45,22,38,1568,s([40,72,108,130]),s([2,0,4,0,2,4,4,1])]),s(["full","8",e.v1to9,49,49,24,42,1936,s([48,88,132,156]),s([2,0,2,2,4,2,4,2])]),s(["full","9",e.v1to9,53,53,26,46,2336,s([60,110,160,192]),s([2,0,3,2,4,4,4,4])]),s(["full","10",e.v10to26,57,57,28,50,2768,s([72,130,192,224]),s([2,2,4,1,6,2,6,2])]),s(["full","11",e.v10to26,61,61,30,54,3232,s([80,150,224,264]),s([4,0,1,4,4,4,3,8])]),s(["full","12",e.v10to26,65,65,32,58,3728,s([96,176,260,308]),s([2,2,6,2,4,6,7,4])]),s(["full","13",e.v10to26,69,69,34,62,4256,s([104,198,288,352]),s([4,0,8,1,8,4,12,4])]),s(["full","14",e.v10to26,73,73,26,46,4651,s([120,216,320,384]),s([3,1,4,5,11,5,11,5])]),s(["full","15",e.v10to26,77,77,26,48,5243,s([132,240,360,432]),s([5,1,5,5,5,7,11,7])]),s(["full","16",e.v10to26,81,81,26,50,5867,s([144,280,408,480]),s([5,1,7,3,15,2,3,13])]),s(["full","17",e.v10to26,85,85,30,54,6523,s([168,308,448,532]),s([1,5,10,1,1,15,2,17])]),s(["full","18",e.v10to26,89,89,30,56,7211,s([180,338,504,588]),s([5,1,9,4,17,1,2,19])]),s(["full","19",e.v10to26,93,93,30,58,7931,s([196,364,546,650]),s([3,4,3,11,17,4,9,16])]),s(["full","20",e.v10to26,97,97,34,62,8683,s([224,416,600,700]),s([3,5,3,13,15,5,15,10])]),s(["full","21",e.v10to26,101,101,28,50,9252,s([224,442,644,750]),s([4,4,17,0,17,6,19,6])]),s(["full","22",e.v10to26,105,105,26,50,10068,s([252,476,690,816]),s([2,7,17,0,7,16,34,0])]),s(["full","23",e.v10to26,109,109,30,54,10916,s([270,504,750,900]),s([4,5,4,14,11,14,16,14])]),s(["full","24",e.v10to26,113,113,28,54,11796,s([300,560,810,960]),s([6,4,6,14,11,16,30,2])]),s(["full","25",e.v10to26,117,117,32,58,12708,s([312,588,870,1050]),s([8,4,8,13,7,22,22,13])]),s(["full","26",e.v10to26,121,121,30,58,13652,s([336,644,952,1110]),s([10,2,19,4,28,6,33,4])]),s(["full","27",e.v27to40,125,125,34,62,14628,s([360,700,1020,1200]),s([8,4,22,3,8,26,12,28])]),s(["full","28",e.v27to40,129,129,26,50,15371,s([390,728,1050,1260]),s([3,10,3,23,4,31,11,31])]),s(["full","29",e.v27to40,133,133,30,54,16411,s([420,784,1140,1350]),s([7,7,21,7,1,37,19,26])]),s(["full","30",e.v27to40,137,137,26,52,17483,s([450,812,1200,1440]),s([5,10,19,10,15,25,23,25])]),s(["full","31",e.v27to40,141,141,30,56,18587,s([480,868,1290,1530]),s([13,3,2,29,42,1,23,28])]),s(["full","32",e.v27to40,145,145,34,60,19723,s([510,924,1350,1620]),s([17,0,10,23,10,35,19,35])]),s(["full","33",e.v27to40,149,149,30,58,20891,s([540,980,1440,1710]),s([17,1,14,21,29,19,11,46])]),s(["full","34",e.v27to40,153,153,34,62,22091,s([570,1036,1530,1800]),s([13,6,14,23,44,7,59,1])]),s(["full","35",e.v27to40,157,157,30,54,23008,s([570,1064,1590,1890]),s([12,7,12,26,39,14,22,41])]),s(["full","36",e.v27to40,161,161,24,50,24272,s([600,1120,1680,1980]),s([6,14,6,34,46,10,2,64])]),s(["full","37",e.v27to40,165,165,28,54,25568,s([630,1204,1770,2100]),s([17,4,29,14,49,10,24,46])]),s(["full","38",e.v27to40,169,169,32,58,26896,s([660,1260,1860,2220]),s([4,18,13,32,48,14,42,32])]),s(["full","39",e.v27to40,173,173,26,54,28256,s([720,1316,1950,2310]),s([20,4,40,7,43,22,10,67])]),s(["full","40",e.v27to40,177,177,30,58,29648,s([750,1372,2040,2430]),s([19,6,18,31,34,34,20,61])]),s(["rmqr","R7x43",e.vR7x43,7,43,22,99,104,s([99,7,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x59",e.vR7x59,7,59,20,40,171,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x77",e.vR7x77,7,77,26,52,261,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x99",e.vR7x99,7,99,24,50,358,s([99,16,99,30]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x139",e.vR7x139,7,139,28,56,545,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x43",e.vR9x43,9,43,22,99,170,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x59",e.vR9x59,9,59,20,40,267,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x77",e.vR9x77,9,77,26,52,393,s([99,18,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R9x99",e.vR9x99,9,99,24,50,532,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x139",e.vR9x139,9,139,28,56,797,s([99,36,99,66]),s([-1,-1,1,1,-1,-1,3,0])]),s(["rmqr","R11x27",e.vR11x27,11,27,98,99,122,s([99,8,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x43",e.vR11x43,11,43,22,99,249,s([99,12,99,20]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x59",e.vR11x59,11,59,20,40,376,s([99,16,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x77",e.vR11x77,11,77,26,52,538,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x99",e.vR11x99,11,99,24,50,719,s([99,32,99,60]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R11x139",e.vR11x139,11,139,28,56,1062,s([99,48,99,90]),s([-1,-1,2,0,-1,-1,3,0])]),s(["rmqr","R13x27",e.vR13x27,13,27,98,99,172,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x43",e.vR13x43,13,43,22,99,329,s([99,14,99,28]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x59",e.vR13x59,13,59,20,40,486,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R13x77",e.vR13x77,13,77,26,52,684,s([99,32,99,56]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R13x99",e.vR13x99,13,99,24,50,907,s([99,40,99,78]),s([-1,-1,1,1,-1,-1,1,2])]),s(["rmqr","R13x139",e.vR13x139,13,139,28,56,1328,s([99,60,99,112]),s([-1,-1,2,1,-1,-1,2,2])]),s(["rmqr","R15x43",e.vR15x43,15,43,22,99,409,s([99,18,99,36]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R15x59",e.vR15x59,15,59,20,40,596,s([99,26,99,48]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R15x77",e.vR15x77,15,77,26,52,830,s([99,36,99,72]),s([-1,-1,1,1,-1,-1,2,1])]),s(["rmqr","R15x99",e.vR15x99,15,99,24,50,1095,s([99,48,99,88]),s([-1,-1,2,0,-1,-1,4,0])]),s(["rmqr","R15x139",e.vR15x139,15,139,28,56,1594,s([99,72,99,130]),s([-1,-1,2,1,-1,-1,1,4])]),s(["rmqr","R17x43",e.vR17x43,17,43,22,99,489,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R17x59",e.vR17x59,17,59,20,40,706,s([99,32,99,60]),s([-1,-1,2,0,-1,-1,2,0])]),s(["rmqr","R17x77",e.vR17x77,17,77,26,52,976,s([99,44,99,84]),s([-1,-1,2,0,-1,-1,1,2])]),s(["rmqr","R17x99",e.vR17x99,17,99,24,50,1283,s([99,60,99,104]),s([-1,-1,2,1,-1,-1,4,0])]),s(["rmqr","R17x139",e.vR17x139,17,139,28,56,1860,s([99,80,99,156]),s([-1,-1,4,0,-1,-1,2,4])])]),r[t++]="eclval",Ct("LMQH",e.eclevel),t--;var Ee=r[--t];r[t-1]=Ee.length;var pe=r[--t];r[t-1]=pe;var Ne=r[--t];e[r[--t]]=Ne;for(var Ae=0,Ce=e.metrics.length-1;Ae<=Ce;Ae+=1){e.i=Ae,e.m=c(e.metrics,e.i),e.frmt=c(e.m,0),e.vers=c(e.m,1),e.vergrp=c(e.m,2),e.verind=e.i-44,e.rows=c(e.m,3),e.cols=c(e.m,4),e.asp2=c(e.m,5),e.asp3=c(e.m,6),e.nmod=c(e.m,7),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.lc4b=!1,(V(e.vers,"M1")||V(e.vers,"M3"))&&(e.ncws=e.ncws+1,e.rbit=0,e.lc4b=!0),e.ecws=c(c(e.m,8),e.eclval),e.dcws=S(e.ncws-e.ecws);var Qe=e.lc4b?4:0;if(e.dmod=S(e.dcws*8-Qe),e.ecb1=c(c(e.m,9),e.eclval*2),e.ecb2=c(c(e.m,9),e.eclval*2+1),e.okay=!0,Ie(e.format,e.frmt)&&(e.okay=!1),V(e.frmt,"micro")&&e.fnc1first&&(e.okay=!1),Ie(e.version,"unset")&&Ie(e.version,e.vers)&&(e.okay=!1),(e.ecb1==-1||e.ecb2==-1)&&(e.okay=!1),e.verbits=c(e.msgbits,e.vergrp),(e.verbits==-1||e.verbits.length>e.dmod)&&(e.okay=!1),e.term=C("000000000",0,c(e.termlens,e.vergrp)),e.okay)break}if(e.okay||(r[t++]="bwipp.qrcodeNoValidSymbol#21607",r[t++]="Maximum length exceeded or invalid content",z()),e.format=e.frmt,e.version=e.vers,e.msgbits=e.verbits,!e.fixedeclevel)for(var Pe=e.eclval+1;Pe<=3;Pe+=1){e.eclval_=Pe,e.ecws_=c(c(e.m,8),e.eclval_),e.dcws_=S(e.ncws-e.ecws_);var We=e.lc4b?4:0;e.dmod_=S(e.dcws_*8-We),e.ecb1_=c(c(e.m,9),e.eclval_*2),e.ecb2_=c(c(e.m,9),e.eclval_*2+1),e.okay=!0,(e.ecb1_==-1||e.ecb2_==-1)&&(e.okay=!1),e.msgbits.length>e.dmod_&&(e.okay=!1),e.okay&&(e.eclval=e.eclval_,e.dcws=e.dcws_,e.dmod=e.dmod_,e.ecb1=e.ecb1_,e.ecb2=e.ecb2_)}e.dcpb=~~(e.dcws/S(e.ecb1+e.ecb2)),e.ecpb=~~(e.ncws/S(e.ecb1+e.ecb2))-e.dcpb;var st=e.term,at=e.dmod,je=e.msgbits,Ge=e.term,He=Ge.length,Ze=S(at-je.length);if(S(at-je.length)>Ge.length){var ft=He;He=Ze,Ze=ft}e.term=C(st,0,Ze);var pt=W(e.msgbits.length+e.term.length);R(pt,0,e.msgbits),R(pt,e.msgbits.length,e.term),e.msgbits=pt,e.pad=W(e.dmod);for(var ut=0,xt=e.pad.length-1;ut<=xt;ut+=1)g(e.pad,ut,48);R(e.pad,0,e.msgbits),e.padnum=0;for(var nt=e.lc4b?5:1,Tt=~~(xr(e.msgbits.length/8)*8),et=S(e.dmod-nt);Tt<=et;Tt+=8)R(e.pad,Tt,c(e.padstrs,e.padnum)),e.padnum=(e.padnum+1)%2;e.cws=s(e.dcws);for(var Qt=0,Ht=e.cws.length-1;Qt<=Ht;Qt+=1){e.c=Qt,e.bpcw=8,e.lc4b&&e.c==e.cws.length-1&&(e.bpcw=4),e.cwb=C(e.pad,e.c*8,e.bpcw),e.cw=0;for(var Ot=0,sr=e.bpcw-1;Ot<=sr;Ot+=1)e.i=Ot,e.cw=S(e.cw+~~li(2,e.bpcw-e.i-1)*(c(e.cwb,e.i)-48));g(e.cws,e.c,e.cw)}if(e.lc4b){var Sr=e.cws,nr=e.cws;g(Sr,nr.length-1,c(Sr,nr.length-1)<<4)}var gr=c(e.options,"debugcws")!==void 0;gr&&(r[t++]="bwipp.debugcws#21674",r[t++]=e.cws,z()),r[t++]=1/0,r[t++]=1;for(var ar=0;ar<255;ar++){var Ir=r[t-1],Zt=Ir*2;if(r[t++]=Zt,Zt>=256){var dr=r[--t];r[t++]=dr^285}}e.rsalog=s(),e.rslog=s(256);for(var Kt=1;Kt<=255;Kt+=1)g(e.rslog,c(e.rsalog,Kt),Kt);e.rsprod=function(){var Ye=r[t-1],gt=r[t-2];if(Ye!=0&&gt!=0){var pr=c(e.rslog,r[--t]),kr=c(e.rsalog,S(pr+c(e.rslog,r[--t]))%255);r[t++]=kr}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Jt=0,ur=e.ecpb;Jt<ur;Jt++)r[t++]=0;e.coeffs=s();for(var Tr=0,Pr=e.ecpb-1;Tr<=Pr;Tr+=1){e.i=Tr,g(e.coeffs,e.i+1,c(e.coeffs,e.i));for(var ua=e.i;ua>=1;ua-=1){e.j=ua,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Et=r[--t],Gt=r[--t],tr=r[--t];g(r[--t],tr,fs(Gt,Et))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var br=r[--t],ir=r[--t];g(r[--t],ir,br)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1),e.rscodes=function(){e.rscws=r[--t],e.rsnd=e.rscws.length,r[t++]=1/0,U(e.rscws);for(var Ye=0,gt=e.ecpb;Ye<gt;Ye++)r[t++]=0;e.rscws=s();for(var pr=0,kr=e.rsnd-1;pr<=kr;pr+=1){e.m=pr,e.k=c(e.rscws,e.m);for(var pa=0,ts=e.ecpb-1;pa<=ts;pa+=1){e.j=pa,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=c(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var rs=r[--t],Es=r[--t];g(r[--t],Es,fs(rs,c(e.rscws,e.m+e.j+1)))}}r[t++]=C(e.rscws,e.rsnd,e.ecpb)},e.dcwsb=s(S(e.ecb1+e.ecb2)),e.ecwsb=s(S(e.ecb1+e.ecb2));for(var Br=0,or=e.ecb1-1;Br<=or;Br+=1){e.i=Br,g(e.dcwsb,e.i,C(e.cws,e.i*e.dcpb,e.dcpb)),r[t++]=e.ecwsb,r[t++]=e.i,r[t++]=c(e.dcwsb,e.i),e.rscodes();var Ut=r[--t],wr=r[--t];g(r[--t],wr,Ut)}for(var ta=0,fa=e.ecb2-1;ta<=fa;ta+=1){e.i=ta,g(e.dcwsb,S(e.ecb1+e.i),C(e.cws,S(e.ecb1*e.dcpb+e.i*(e.dcpb+1)),e.dcpb+1)),r[t++]=e.ecwsb,r[t++]=S(e.ecb1+e.i),r[t++]=c(e.dcwsb,S(e.ecb1+e.i)),e.rscodes();var ya=r[--t],Lr=r[--t];g(r[--t],Lr,ya)}e.cws=s(e.ncws),e.cw=0;for(var Ea=0,ga=e.dcpb;Ea<=ga;Ea+=1){e.i=Ea;for(var Ra=0,la=S(e.ecb1+e.ecb2)-1;Ra<=la;Ra+=1)e.j=Ra,e.i<c(e.dcwsb,e.j).length&&(g(e.cws,e.cw,c(c(e.dcwsb,e.j),e.i)),e.cw=e.cw+1)}for(var Aa=0,Ca=e.ecpb-1;Aa<=Ca;Aa+=1){e.i=Aa;for(var ka=0,La=S(e.ecb1+e.ecb2)-1;ka<=La;ka+=1)e.j=ka,g(e.cws,e.cw,c(c(e.ecwsb,e.j),e.i)),e.cw=e.cw+1}if(e.rbit>0&&(e.pad=s(e.cws.length+1),R(e.pad,0,e.cws),g(e.pad,e.pad.length-1,0),e.cws=e.pad),e.lc4b){var Qa=e.cws,Va=e.dcws;g(Qa,Va-1,c(Qa,Va-1)>>>4);for(var ps=e.dcws-1,Ia=e.ncws-2;ps<=Ia;ps+=1)e.i=ps,g(e.cws,e.i,(c(e.cws,e.i)&15)<<4),g(e.cws,e.i,c(e.cws,e.i+1)>>>4&15|c(e.cws,e.i));g(e.cws,e.ncws-1,(c(e.cws,e.ncws-1)&15)<<4)}var Bs=c(e.options,"debugecc")!==void 0;Bs&&(r[t++]="bwipp.debugecc#21776",r[t++]=e.cws,z()),r[t++]=1/0;for(var Ha=0,zs=e.rows*e.cols;Ha<zs;Ha++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Ye=r[--t],gt=r[--t];r[t++]=S(gt+Ye*e.cols)},V(e.format,"full"))for(var Ma=8,ms=e.cols-9;Ma<=ms;Ma+=1){e.i=Ma,r[t++]=e.pixs,r[t++]=e.i,r[t++]=6,e.qmv();var Ds=r[--t];g(r[--t],Ds,(e.i+1)%2),r[t++]=e.pixs,r[t++]=6,r[t++]=e.i,e.qmv();var Ts=r[--t];g(r[--t],Ts,(e.i+1)%2)}if(V(e.format,"micro"))for(var Ka=8,Ls=e.cols-1;Ka<=Ls;Ka+=1){e.i=Ka,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var Wa=r[--t];g(r[--t],Wa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var xs=r[--t];g(r[--t],xs,(e.i+1)%2)}if(V(e.format,"rmqr")){for(var Fa=3,vn=e.cols-4;Fa<=vn;Fa+=1){e.i=Fa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var $a=r[--t];g(r[--t],$a,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var In=r[--t];g(r[--t],In,(e.i+1)%2)}for(var Ba=3,Js=e.rows-4;Ba<=Js;Ba+=1){e.i=Ba,r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var Pa=r[--t];g(r[--t],Pa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var rn=r[--t];g(r[--t],rn,(e.i+1)%2)}for(var is=e.asp2-1,Xt=S(e.asp3-e.asp2),Xr=e.cols-13;Xt<0?is>=Xr:is<=Xr;is+=Xt){e.i=is;for(var ja=3,_a=e.rows-4;ja<=_a;ja+=1){e.j=ja,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var vs=r[--t];g(r[--t],vs,(e.j+1)%2)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fsubpat=s([s([1,1,1,1,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,0,1,0,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,1,1,1,1,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fcorpat=s([s([1,1,1,9,9,9,9,9]),s([1,0,9,9,9,9,9,9]),s([1,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fnullpat=s([s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]);var Qr=new Map([["full",s([e.fpat,e.fpat,e.fpat,e.fnullpat])],["micro",s([e.fpat,e.fnullpat,e.fnullpat,e.fnullpat])],["rmqr",s([e.fpat,e.fcorpat,e.fcorpat,e.fsubpat])]]);e.fpatmap=Qr,e.fpats=c(e.fpatmap,e.format);for(var os=0;os<=7;os+=1){e.y=os;for(var gs=0;gs<=7;gs+=1){if(e.x=gs,e.fpb0=c(c(c(e.fpats,0),e.y),e.x),e.fpb1=c(c(c(e.fpats,1),e.y),e.x),e.fpb2=c(c(c(e.fpats,2),e.y),e.x),e.fpb3=c(c(c(e.fpats,3),e.y),e.x),e.fpb0!=9&&e.y<e.rows){r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Oa=r[--t];g(r[--t],Oa,e.fpb0)}if(e.fpb1!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=e.y,e.qmv();var Bn=r[--t];g(r[--t],Bn,e.fpb1)}if(e.fpb2!=9){r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.rows-e.y)-1,e.qmv();var Da=r[--t];g(r[--t],Da,e.fpb2)}if(e.fpb3!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=S(e.rows-e.y)-1,e.qmv();var ui=r[--t];g(r[--t],ui,e.fpb3)}}}if(e.algnpatfull=s([s([1,1,1,1,1]),s([1,0,0,0,1]),s([1,0,1,0,1]),s([1,0,0,0,1]),s([1,1,1,1,1])]),e.algnpatrmqr=s([s([1,1,1,9,9]),s([1,0,1,9,9]),s([1,1,1,9,9]),s([9,9,9,9,9]),s([9,9,9,9,9])]),e.putalgnpat=function(){e.py=r[--t],e.px=r[--t];for(var Ye=0;Ye<=4;Ye+=1){e.pb=Ye;for(var gt=0;gt<=4;gt+=1)if(e.pa=gt,e.algnb=c(c(e.algnpat,e.pb),e.pa),e.algnb!=9){r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.qmv();var pr=r[--t];g(r[--t],pr,e.algnb)}}},V(e.format,"full")){e.algnpat=e.algnpatfull;for(var Qs=e.asp2-2,Ta=S(e.asp3-e.asp2),Dn=e.cols-13;Ta<0?Qs>=Dn:Qs<=Dn;Qs+=Ta)e.i=Qs,r[t++]=e.i,r[t++]=4,e.putalgnpat(),r[t++]=4,r[t++]=e.i,e.putalgnpat();for(var Ja=e.asp2-2,Tn=S(e.asp3-e.asp2),bs=e.cols-9;Tn<0?Ja>=bs:Ja<=bs;Ja+=Tn){e.x=Ja;for(var an=e.asp2-2,sn=S(e.asp3-e.asp2),Xn=e.rows-9;sn<0?an>=Xn:an<=Xn;an+=sn)e.y=an,r[t++]=e.x,r[t++]=e.y,e.putalgnpat()}}if(V(e.format,"rmqr")){e.algnpat=e.algnpatrmqr;for(var yt=e.asp2-2,Yr=S(e.asp3-e.asp2),ra=e.cols-13;Yr<0?yt>=ra:yt<=ra;yt+=Yr)e.i=yt,r[t++]=e.i,r[t++]=0,e.putalgnpat(),r[t++]=e.i,r[t++]=e.rows-3,e.putalgnpat()}e.formatmapmicro=s([s([s([1,8])]),s([s([2,8])]),s([s([3,8])]),s([s([4,8])]),s([s([5,8])]),s([s([6,8])]),s([s([7,8])]),s([s([8,8])]),s([s([8,7])]),s([s([8,6])]),s([s([8,5])]),s([s([8,4])]),s([s([8,3])]),s([s([8,2])]),s([s([8,1])])]);var Ua=new Map([["full",s([s([s([0,8]),s([8,e.cols-1])]),s([s([1,8]),s([8,e.cols-2])]),s([s([2,8]),s([8,e.cols-3])]),s([s([3,8]),s([8,e.cols-4])]),s([s([4,8]),s([8,e.cols-5])]),s([s([5,8]),s([8,e.cols-6])]),s([s([7,8]),s([8,e.cols-7])]),s([s([8,8]),s([e.cols-8,8])]),s([s([8,7]),s([e.cols-7,8])]),s([s([8,5]),s([e.cols-6,8])]),s([s([8,4]),s([e.cols-5,8])]),s([s([8,3]),s([e.cols-4,8])]),s([s([8,2]),s([e.cols-3,8])]),s([s([8,1]),s([e.cols-2,8])]),s([s([8,0]),s([e.cols-1,8])])])],["micro",e.formatmapmicro],["rmqr",s([s([s([11,3]),s([e.cols-3,e.rows-6])]),s([s([11,2]),s([e.cols-4,e.rows-6])]),s([s([11,1]),s([e.cols-5,e.rows-6])]),s([s([10,5]),s([e.cols-6,e.rows-2])]),s([s([10,4]),s([e.cols-6,e.rows-3])]),s([s([10,3]),s([e.cols-6,e.rows-4])]),s([s([10,2]),s([e.cols-6,e.rows-5])]),s([s([10,1]),s([e.cols-6,e.rows-6])]),s([s([9,5]),s([e.cols-7,e.rows-2])]),s([s([9,4]),s([e.cols-7,e.rows-3])]),s([s([9,3]),s([e.cols-7,e.rows-4])]),s([s([9,2]),s([e.cols-7,e.rows-5])]),s([s([9,1]),s([e.cols-7,e.rows-6])]),s([s([8,5]),s([e.cols-8,e.rows-2])]),s([s([8,4]),s([e.cols-8,e.rows-3])]),s([s([8,3]),s([e.cols-8,e.rows-4])]),s([s([8,2]),s([e.cols-8,e.rows-5])]),s([s([8,1]),s([e.cols-8,e.rows-6])])])]]);e.formatmap=c(Ua,e.format),ve(e.formatmap,function(){ve(r[--t],function(){U(r[--t]),e.qmv(),g(e.pixs,r[--t],1)})}),V(e.format,"full")&&e.cols>=45?e.versionmap=s([s([s([e.cols-9,5]),s([5,e.cols-9])]),s([s([e.cols-10,5]),s([5,e.cols-10])]),s([s([e.cols-11,5]),s([5,e.cols-11])]),s([s([e.cols-9,4]),s([4,e.cols-9])]),s([s([e.cols-10,4]),s([4,e.cols-10])]),s([s([e.cols-11,4]),s([4,e.cols-11])]),s([s([e.cols-9,3]),s([3,e.cols-9])]),s([s([e.cols-10,3]),s([3,e.cols-10])]),s([s([e.cols-11,3]),s([3,e.cols-11])]),s([s([e.cols-9,2]),s([2,e.cols-9])]),s([s([e.cols-10,2]),s([2,e.cols-10])]),s([s([e.cols-11,2]),s([2,e.cols-11])]),s([s([e.cols-9,1]),s([1,e.cols-9])]),s([s([e.cols-10,1]),s([1,e.cols-10])]),s([s([e.cols-11,1]),s([1,e.cols-11])]),s([s([e.cols-9,0]),s([0,e.cols-9])]),s([s([e.cols-10,0]),s([0,e.cols-10])]),s([s([e.cols-11,0]),s([0,e.cols-11])])]):e.versionmap=s([]);for(var ca=e.versionmap,Xa=0,ws=ca.length;Xa<ws;Xa++)ve(c(ca,Xa),function(){U(r[--t]),e.qmv(),g(e.pixs,r[--t],0)});if(V(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.rows-8,e.qmv();var gn=r[--t];g(r[--t],gn,0)}var lt=s([function(){var Ye=r[--t],gt=r[--t];r[t++]=S(gt+Ye)%2},function(){var Ye=r[--t];r[t-1]=Ye;var gt=r[--t];r[t++]=gt%2},function(){t--;var Ye=r[--t];r[t++]=Ye%3},function(){var Ye=r[--t],gt=r[--t];r[t++]=S(gt+Ye)%3},function(){var Ye=r[--t],gt=r[--t];r[t++]=(~~(Ye/2)+~~(gt/3))%2},function(){var Ye=r[--t],gt=r[--t]*Ye;r[t++]=S(gt%2+gt%3)},function(){var Ye=r[--t],gt=r[--t]*Ye;r[t++]=S(gt%2+gt%3)%2},function(){var Ye=r[--t],gt=r[--t];r[t++]=S(gt*Ye%3+(gt+Ye)%2)%2}]),Nt=s([function(){var Ye=r[--t];r[t-1]=Ye;var gt=r[--t];r[t++]=gt%2},function(){var Ye=r[--t],gt=r[--t];r[t++]=(~~(Ye/2)+~~(gt/3))%2},function(){var Ye=r[--t],gt=r[--t]*Ye;r[t++]=S(gt%2+gt%3)%2},function(){var Ye=r[--t],gt=r[--t];r[t++]=S(gt*Ye%3+(gt+Ye)%2)%2}]),hr=s([function(){var Ye=r[--t],gt=r[--t];r[t++]=(~~(Ye/2)+~~(gt/3))%2}]),lr=new Map([["full",lt],["micro",Nt],["rmqr",hr]]);e.maskfuncs=c(lr,e.format),e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var fr=0,Rr=e.masks.length-1;fr<=Rr;fr+=1){e.m=fr,e.mask=s(e.rows*e.cols);for(var cr=0,aa=e.rows-1;cr<=aa;cr+=1){e.j=cr;for(var Hr=0,$r=e.cols-1;Hr<=$r&&(e.i=Hr,r[t++]=e.i,r[t++]=e.j,c(e.maskfuncs,e.m)()!==!0);Hr+=1){var qr=r[--t];r[t++]=qr==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Vr=r[--t],ha=c(r[--t],Vr),Zr=r[--t],Gr=Zr&&ha==-1?1:0;r[t++]=Gr,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var sa=r[t-3],Mr=r[t-1];g(r[t-2],Mr,sa),t-=3}}g(e.masks,e.m,e.mask)}var _r=Ie(e.format,"rmqr")?1:2;for(e.posx=S(e.cols-_r),e.posy=e.rows-1,e.dir=-1,e.col=1,e.num=0;!(e.posx<0);){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var za=r[--t];if(c(r[--t],za)==-1){var ba=c(e.cws,~~(e.num/8)),ls=-(7-e.num%8);r[t++]=(ls<0?ba>>>-ls:ba<<ls)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Ss=r[t-3],nn=r[t-1];g(r[t-2],nn,Ss),t-=3,e.num=e.num+1}e.col==1?(e.col=0,e.posx=e.posx-1):(e.col=1,e.posx=e.posx+1,e.posy=S(e.posy+e.dir),(e.posy<0||e.posy>=e.rows)&&(e.dir=e.dir*-1,e.posy=S(e.posy+e.dir),e.posx=e.posx-2,V(e.format,"full")&&e.posx==6&&(e.posx=e.posx-1)))}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ve(e.scrle,function(){var Ti=r[t-1];if(Ti>=5){var Ri=r[--t],Hn=S(r[--t]+Ri)-2;r[t++]=Hn,r[t++]=Hn}t--});var Ye=r[--t];e[r[--t]]=Ye,e.scr3=0;for(var gt=3,pr=e.scrle.length-3;gt<=pr;gt+=2)if(e.j=gt,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var kr=C(e.scrle,e.j-2,5),pa=0,ts=kr.length;pa<ts;pa++)r[t++]=c(kr,pa)==e.fact;var rs=r[--t],Es=r[--t];r[t-1]=fo(Es,rs);var on=r[--t],yn=r[--t];r[--t]&&yn&&on&&(e.j==3||e.j+4>=e.scrle.length||c(e.scrle,e.j-3)>=4||c(e.scrle,e.j+3)>=4)&&(e.scr3=e.scr3+40)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0,e.rle=s(e.cols+1),e.lastpairs=s(e.cols),e.thispairs=s(e.cols),e.colsadd1=e.cols+1;for(var Ye=0,gt=e.cols-1;Ye<=gt;Ye+=1){e.i=Ye,r[t++]=1/0;var pr=e.cols;r[t++]=0,r[t++]=0;for(var kr=e.i,pa=pr,ts=pr*pr-1;pa<0?kr>=ts:kr<=ts;kr+=pa){var rs=c(e.sym,kr),Es=r[--t];if(r[t++]=rs,V(Es,rs)){var on=r[--t],yn=r[--t];r[t++]=yn+1,r[t++]=on}else{var Ti=r[--t];r[t++]=1,r[t++]=Ti}}t--;var Ri=xa()+2;Vt(C(e.rle,0,Ri-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=C(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Hn=e.symrow;r[t++]=0,r[t++]=0;for(var Mi=0,Eo=Hn.length;Mi<Eo;Mi++){var Q1=c(Hn,Mi),ct=r[--t];if(r[t++]=Q1,V(ct,Q1)){var qt=r[--t],Ur=r[--t];r[t++]=Ur+1,r[t++]=qt}else{var it=r[--t];r[t++]=1,r[t++]=it}}t--;var Ft=xa()+2;Vt(C(e.rle,0,Ft-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var Yt=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=Yt;var Wt=c(e.symrow,0)==1?0:1,Wr=e.symrow;r[t++]=Wt;for(var wa=0,ma=Wr.length;wa<ma;wa++){var cs=c(Wr,wa),$s=r[--t];r[t++]=S($s+cs),r[t++]=cs}if(t--,Vt(e.thispairs),t--,e.i>0){r[t++]=1/0,U(e.lastpairs),U(e.thispairs),r[t++]=e.n2;for(var ln=0,cn=e.cols;ln<cn;ln++){var $n=r[--t],g1=r[--t];r[t++]=$n,r[t++]=g1;var e1=r[t-1-e.colsadd1];if(!(S(r[--t]+e1)&3)){var Fi=r[--t];r[t++]=Fi+3}}e.n2=r[--t],el()}}r[t++]="dark",r[t++]=0,ve(e.sym,function(){var H1=r[--t],w1=r[--t];r[t++]=S(w1+H1)});var b1=r[--t];e[r[--t]]=b1;var t1=e.cols;e.n4=~~(Ko(e.dark*100/(t1*t1)-50)/5)*10,r[t++]=S(e.n1+e.n2+e.n3+e.n4)},e.evalmicro=function(){e.sym=r[--t],e.dkrhs=0,e.dkbot=0;for(var Ye=1,gt=e.cols-1;Ye<=gt;Ye+=1){e.i=Ye,r[t++]="dkrhs",r[t++]=e.dkrhs,r[t++]=e.sym,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var pr=r[--t],kr=c(r[--t],pr),pa=r[--t];e[r[--t]]=S(pa+kr),r[t++]="dkbot",r[t++]=e.dkbot,r[t++]=e.sym,r[t++]=e.i,r[t++]=e.cols-1,e.qmv();var ts=r[--t],rs=c(r[--t],ts),Es=r[--t];e[r[--t]]=S(Es+rs)}e.dkrhs<=e.dkbot?r[t++]=-(e.dkrhs*16+e.dkbot):r[t++]=-(e.dkbot*16+e.dkrhs)},e.bestscore=999999999;for(var Rs=0,rr=e.masks.length-1;Rs<=rr;Rs+=1){e.m=Rs,e.masksym=s(e.rows*e.cols);for(var yr=0,Nr=e.rows*e.cols-1;yr<=Nr;yr+=1)e.i=yr,g(e.masksym,e.i,fs(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(V(e.format,"full")?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t]):(r[t++]=e.masksym,e.evalmicro(),e.score=r[--t]),e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,V(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.cols-8,e.qmv();var ea=r[--t];g(r[--t],ea,1)}if(e.fmtvalsfull=s([21522,20773,24188,23371,17913,16590,20375,19104,30660,29427,32170,30877,26159,25368,27713,26998,5769,5054,7399,6608,1890,597,3340,2107,13663,12392,16177,14854,9396,8579,11994,11245]),e.fmtvalsmicro=s([17477,16754,20011,19228,21934,20633,24512,23287,26515,25252,28157,26826,30328,29519,31766,31009,1758,1001,3248,2439,5941,4610,7515,6252,9480,8255,12134,10833,13539,12756,16013,15290]),e.fmtvalsrmqr1=s([129714,124311,121821,115960,112748,108361,104707,99878,98062,90155,89697,82244,81360,74485,72895,66458,61898,61167,53413,53120,45844,44081,37499,36190,29814,27475,21785,19004,13992,10637,6087,2274,258919,257090,250376,249133,242105,241308,233686,233459,227035,223742,219060,215185,209925,207648,202090,199247,194591,190266,186736,181845,178881,173540,170926,165003,163235,156294,154828,148457,147325,139352,138770,131383]),e.fmtvalsrmqr2=s([133755,136542,142100,144433,149669,153472,158154,161519,167879,168162,175784,176525,183577,184892,191606,193363,196867,204326,204908,212809,213981,220408,221874,228759,230591,236442,239056,244469,247393,252228,255758,260139,942,7307,8897,15844,16752,24149,24607,32570,34322,39223,42877,47192,50380,56297,58787,64134,67798,71667,76217,79516,84488,87341,93031,95298,101738,102991,109573,111392,118708,118929,126683,127486]),V(e.format,"full")){e.ecid=c(s([1,0,3,2]),e.eclval),e.fmtval=c(e.fmtvalsfull,(e.ecid<<3)+e.bestmaskval);for(var Or=0,na=e.formatmap.length-1;Or<=na;Or+=1)e.i=Or,ve(c(e.formatmap,e.i),function(){var Ye=r[--t];r[t++]=e.pixs,U(Ye),e.qmv();var gt=e.fmtval,pr=-(14-e.i),kr=r[--t];g(r[--t],kr,(pr<0?gt>>>-pr:gt<<pr)&1)})}if(V(e.format,"micro")){e.symid=c(c(s([s([0]),s([1,2]),s([3,4]),s([5,6,7])]),~~((e.cols-11)/2)),e.eclval),e.fmtval=c(e.fmtvalsmicro,(e.symid<<2)+e.bestmaskval);for(var Kr=0,Za=e.formatmap.length-1;Kr<=Za;Kr+=1){e.i=Kr,r[t++]=e.pixs,U(c(c(e.formatmap,e.i),0)),e.qmv();var es=e.fmtval,Hs=-(14-e.i),bn=r[--t];g(r[--t],bn,(Hs<0?es>>>-Hs:es<<Hs)&1)}}if(V(e.format,"rmqr")){e.fmtvalu=(c(s([-1,0,-1,1]),e.eclval)<<5)+e.verind,e.fmtval1=c(e.fmtvalsrmqr1,e.fmtvalu),e.fmtval2=c(e.fmtvalsrmqr2,e.fmtvalu);for(var Rn=0,zn=e.formatmap.length-1;Rn<=zn;Rn+=1){e.i=Rn,r[t++]=e.pixs,U(c(c(e.formatmap,e.i),0)),e.qmv();var Ln=e.fmtval1,wn=-(17-e.i),fi=r[--t];g(r[--t],fi,(wn<0?Ln>>>-wn:Ln<<wn)&1),r[t++]=e.pixs,U(c(c(e.formatmap,e.i),1)),e.qmv();var Qn=e.fmtval2,hi=-(17-e.i),Ji=r[--t];g(r[--t],Ji,(hi<0?Qn>>>-hi:Qn<<hi)&1)}}if(e.vervals=s([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),V(e.format,"full")&&e.cols>=45){e.verval=c(e.vervals,~~((e.cols-17)/4)-7);for(var pi=0,Xi=e.versionmap.length-1;pi<=Xi;pi+=1)e.i=pi,ve(c(e.versionmap,e.i),function(){var Ye=r[--t];r[t++]=e.pixs,ve(Ye),e.qmv();var gt=e.verval,pr=-(17-e.i),kr=r[--t];g(r[--t],kr,(pr<0?gt>>>-pr:gt<<pr)&1)})}r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows*2/72,r[t++]="width",r[t++]=e.cols*2/72,r[t++]="borderleft",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderright",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="bordertop",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderbottom",V(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="opt",r[t++]=e.options;var Zi=_e();r[t++]=Zi,e.dontdraw||mt(),e=a}function hR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.barcode.length>997&&(r[t++]="bwipp.swissqrcodeBadLength#22347",r[t++]="Swiss QR Code input must not exceed 997 digits",z()),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var o=r[--t];if(e[r[--t]]=o,g(e.args,"opt",e.options),r[t++]=e.args,!e.dontdraw){Z.save();var d=Z.currpos();Z.translate(d.x,d.y);var u=72/25.4;Z.scale(u,u),Z.save(),Z.newpath(),Z.moveto(0,0),Z.lineto(46,0),Z.lineto(46,46),Z.lineto(0,46),Z.closepath(),Z.moveto(19.5,19.5),Z.lineto(19.5,26.5),Z.lineto(26.5,26.5),Z.lineto(26.5,19.5),Z.closepath(),Z.clip(),Z.save(),Z.moveto(0,0);var f=46/c(e.args,"pixx")/2;Z.scale(f,f),mt(),Z.restore(),Z.restore(),Z.translate(19.5,19.5);var h=7/83;Z.scale(h,h),Z.newpath(),Z.moveto(6,6),Z.lineto(6,77),Z.lineto(77,77),Z.lineto(77,6),Z.closepath(),Z.moveto(49,18),Z.lineto(49,34),Z.lineto(65,34),Z.lineto(65,49),Z.lineto(49,49),Z.lineto(49,65),Z.lineto(34,65),Z.lineto(34,49),Z.lineto(18,49),Z.lineto(18,34),Z.lineto(34,34),Z.lineto(34,18),Z.closepath(),Z.setrgbcolor(0,0,0),Z.fill(),Z.restore()}e=a}function pR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","micro"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function mR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rmqr"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function xR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.mode=-1,e.sam=-1,e.parse=!1,e.parsefnc=!1,e.legacyencoder=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.maxicodeEmptyData#22566",r[t++]="The data must not be empty",z()),e.mode!=-1&&(e.mode<2||e.mode>6)&&(r[t++]="bwipp.maxicodeBadMode#22570",r[t++]="Mode must be 2 to 6",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>88){r[t-1]=!1;break}var o=e.sam%10;if(o<2||o>8){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.maxicodeBadSAM#22581",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 8 symbols',z())}e.encoding="new",e.legacyencoder&&(e.encoding="legacy");var d=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=d,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var u=r[--t];if(e[r[--t]]=u,e.msglen=e.msg.length,e.mode==2||e.mode==3){e.barcode=W(e.msglen),e.barlen=e.msglen;for(var f=0,h=e.msglen-1;f<=h;f+=1){if(e.i=f,c(e.msg,e.i)<0){e.barlen=e.i;break}g(e.barcode,e.i,c(e.msg,e.i))}if(e.difflen=e.msglen-e.barlen,e.fid="",e.barlen>=9){var p=e.barcode,m=c(p,7),x=c(p,8);V(C(p,0,7),"[)>01")&&m>=48&&m<=57&&x>=48&&x<=57&&(e.fid=C(e.barcode,0,9),e.barcode=C(e.barcode,9,e.barlen-9))}if(Ct(e.barcode,""),r[--t])if(e.pcode=r[--t],t--,e.mode==2){r[t++]=!0;for(var b=0;b<1;b++){var y=e.pcode.length;if(y>9||y==0){r[t-1]=!1;break}ve(e.pcode,function(){var yt=r[--t];if(yt<48||yt>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode2PostCode#22635",r[t++]="A mode 2 postcode must not be empty or exceed 9 digits",z())}else{r[t++]=!0;for(var w=0;w<1;w++){var v=e.pcode.length;if(v>6||v==0){r[t-1]=!1;break}ve(e.pcode,function(){var yt=r[--t];if(!(yt==32||yt>=34&&yt<=58||yt>=65&&yt<=90))return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode3PostCode#22649",r[t++]="A mode 3 postcode must not be empty or exceed 6 characters",z())}else t--,r[t++]="bwipp.maxicodeExpectedPostCode#22653",r[t++]="Expected postcode followed by group separator character",z();if(Ct(r[--t],""),r[--t]){e.ccode=r[--t],r[t-1]=!0;for(var A=0;A<1;A++){if(e.ccode.length!=3){r[t-1]=!1;break}ve(e.ccode,function(){var yt=r[--t];if(yt<48||yt>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadCountryCode#22663",r[t++]="Country code must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedCountryCode#22666",r[t++]="Expected country code followed by group separator character",z();if(Ct(r[--t],""),r[--t]){e.scode=r[--t],r[t-1]=!0;for(var j=0;j<1;j++){if(e.scode.length!=3){r[t-1]=!1;break}ve(e.scode,function(){var yt=r[--t];if(yt<48||yt>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadServiceClass#22676",r[t++]="Service class must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedServiceClass#22679",r[t++]="Expected service class followed by group separator character",z();e.barcode=r[--t];var E=W(e.barcode.length+e.fid.length);R(E,0,e.fid),R(E,e.fid.length,e.barcode),e.barcode=E,e.barlen=e.barcode.length,r[t++]=1/0;for(var k=e.barcode,N=0,B=k.length;N<B;N++)r[t++]=c(k,N);U(C(e.msg,e.msglen-e.difflen,e.difflen)),e.msg=s(),e.msglen=e.msg.length}e.eci=-1,e.pad=-2,e.ns=-3,e.la=-4,e.lb=-5,e.sa=-6,e.sb=-7,e.sc=-8,e.sd=-9,e.se=-10,e.sa2=-11,e.sa3=-12,e.lkc=-13,e.lkd=-14,e.lke=-15,e.pd2=-16,e.pd3=-17,e.charmaps=s([s([13,"`",192,224,0]),s(["A","a",193,225,1]),s(["B","b",194,226,2]),s(["C","c",195,227,3]),s(["D","d",196,228,4]),s(["E","e",197,229,5]),s(["F","f",198,230,6]),s(["G","g",199,231,7]),s(["H","h",200,232,8]),s(["I","i",201,233,9]),s(["J","j",202,234,10]),s(["K","k",203,235,11]),s(["L","l",204,236,12]),s(["M","m",205,237,13]),s(["N","n",206,238,14]),s(["O","o",207,239,15]),s(["P","p",208,240,16]),s(["Q","q",209,241,17]),s(["R","r",210,242,18]),s(["S","s",211,243,19]),s(["T","t",212,244,20]),s(["U","u",213,245,21]),s(["V","v",214,246,22]),s(["W","w",215,247,23]),s(["X","x",216,248,24]),s(["Y","y",217,249,25]),s(["Z","z",218,250,26]),s([e.eci,e.eci,e.eci,e.eci,e.eci]),s([28,28,28,28,e.pad]),s([29,29,29,29,e.pd2]),s([30,30,30,30,27]),s([e.ns,e.ns,e.ns,e.ns,e.ns]),s([" ","{",219,251,28]),s([e.pad,e.pad,220,252,29]),s(['"',"}",221,253,30]),s(["#","~",222,254,31]),s(["$",127,223,255,159]),s(["%",";",170,161,160]),s(["&","<",172,168,162]),s(["'","=",177,171,163]),s([40,">",178,175,164]),s([41,"?",179,176,165]),s(["*","[",181,180,166]),s(["+",92,185,183,167]),s([",","]",186,184,169]),s(["-","^",188,187,173]),s([".","_",189,191,174]),s(["/"," ",190,138,182]),s(["0",",",128,139,149]),s(["1",".",129,140,150]),s(["2","/",130,141,151]),s(["3",":",131,142,152]),s(["4","@",132,143,153]),s(["5","!",133,144,154]),s(["6","|",134,145,155]),s(["7",e.pd2,135,146,156]),s(["8",e.sa2,136,147,157]),s(["9",e.sa3,137,148,158]),s([":",e.pd3,e.la,e.la,e.la]),s([e.sb,e.sa," "," "," "]),s([e.sc,e.sc,e.lkc,e.sc,e.sc]),s([e.sd,e.sd,e.sd,e.lkd,e.sd]),s([e.se,e.se,e.se,e.se,e.lke]),s([e.lb,e.la,e.lb,e.lb,e.lb])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var I=0,D=e.charmaps.length-1;I<=D;I+=1){e.i=I,e.encs=c(e.charmaps,e.i);for(var T=0;T<=4;T+=1){e.j=T;var M=c(e.encs,e.j);if(r[t++]=M,V(tn(M),"stringtype")){var Q=c(r[--t],0);r[t++]=Q}g(c(e.charvals,e.j),r[--t],e.i)}}if(e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.setd=c(e.charvals,3),e.sete=c(e.charvals,4),r[t++]="maxlen",e.mode==5)r[t++]=77;else{var F=e.mode<=3?84:93;r[t++]=F}var P=r[--t];if(e[r[--t]]=P,V(e.encoding,"legacy")){r[t++]=1/0;for(var L=0,_=e.msglen+1;L<_;L++)r[t++]=0;e.nseq=s();for(var H=e.msglen-1;H>=0;H-=1){e.i=H;var Y=c(e.msg,e.i);Y>=48&&Y<=57?g(e.nseq,e.i,c(e.nseq,e.i+1)+1):g(e.nseq,e.i,0)}for(e.nseq=C(e.nseq,0,e.msglen),e.prefixinset=function(){for(r[t++]=0;;){var yt=r[t-1],Yr=r[t-2];if(yt>=Yr.length)break;var ra=r[t-1],Ua=r[t-2],ca=r[t-3],Xa=c(ca,c(Ua,ra))!==void 0;if(Xa){var ws=r[--t];r[t++]=ws+1}else break}var gn=r[--t];r[t-1]=gn;var lt=r[--t];r[t-1]=lt},e.enc=function(){var yt=r[--t];g(e.out,e.j,c(yt,r[--t])),e.j=e.j+1},e.out=s(144),e.i=0,e.j=0,e.cset="seta";;){if(e.i==e.msglen){Ie(e.cset,"seta")&&Ie(e.cset,"setb")&&e.out.length<e.maxlen&&(r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta");break}for(;;){if(c(e.msg,e.i)<=-1e6){r[t++]=e.eci,r[t++]=e[e.cset],e.enc();var de=-c(e.msg,e.i)-1e6;if(r[t++]=de,de<=31){var $=r[--t];r[t++]=$&63,Vt(s(1))}else{var q=r[t-1];if(q<=1023){var re=r[--t];r[t++]=re>>>6&31|32,r[t++]=re&63,Vt(s(2))}else{var ce=r[t-1];if(ce<=32767){var J=r[--t];r[t++]=J>>>12&47|48,r[t++]=J>>>6&63,r[t++]=J&63,Vt(s(3))}else{var oe=r[--t];r[t++]=oe>>>18&55|56,r[t++]=oe>>>12&63,r[t++]=oe>>>6&63,r[t++]=oe&63,Vt(s(4))}}}var ue=r[--t];R(e.out,e.j,ue),e.j=ue.length+e.j,e.i=e.i+1;break}if(c(e.nseq,e.i)>=9){var he=C(e.msg,e.i,9);r[t++]=0;for(var Re=0,te=he.length;Re<te;Re++){var Be=r[--t];r[t++]=S(Be+(c(he,Re)-48))*10}var Se=r[--t];r[t++]=~~(Se/10);for(var Oe=0;Oe<4;Oe++){var Ue=r[--t];r[t++]=Ue&63,r[t++]=Ue>>>6}r[t++]=c(e[e.cset],e.ns);for(var be=0;be<=10;be+=2){var $e=r[t-1-be];r[t++]=$e}Vt(s(6)),Na(7,1);for(var Fe=0;Fe<6;Fe++)t--;R(e.out,e.j,r[--t]),e.i=e.i+9,e.j=e.j+6;break}e.char1=c(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=c(e.msg,e.i+1):r[t++]=-99;var Ke=r[--t];e[r[--t]]=Ke,r[t++]="char3",e.i+2<e.msglen?r[t++]=c(e.msg,e.i+2):r[t++]=-99;var Je=r[--t];e[r[--t]]=Je;var rt=c(e[e.cset],e.char1)!==void 0;if(rt){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var ae=c(e.setb,e.char1)!==void 0;if(V(e.cset,"seta")&&ae){var fe=c(e.setb,e.char2)!==void 0;fe?(r[t++]=e.lb,r[t++]=e.seta,e.enc(),e.cset="setb"):(r[t++]=e.sb,r[t++]=e.seta,e.enc(),r[t++]=e.char1,r[t++]=e.setb,e.enc(),e.i=e.i+1);break}var Me=c(e.seta,e.char1)!==void 0;if(V(e.cset,"setb")&&Me){var Le=e.seta,Xe=e.msg,ze=e.i,qe=e.msglen,ht=e.i,vt=qe-ht,dt=4;if(4>qe-ht){var wt=vt;vt=dt,dt=wt}r[t++]="p",r[t++]=Le,r[t++]=C(Xe,ze,dt),e.prefixinset();var Bt=r[--t];e[r[--t]]=Bt,e.p==1&&(r[t++]=e.sa,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sa2,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sa3,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),r[t++]=e.char3,r[t++]=e.seta,e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.la,r[t++]=e.setb,e.enc(),e.cset="seta");break}var jt=c(e.seta,e.char1)!==void 0;if(jt){r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta";break}var At=c(e.setb,e.char1)!==void 0;if(At){r[t++]=e.lb,r[t++]=e[e.cset],e.enc(),e.cset="setb";break}var _t=c(e.setc,e.char1)!==void 0;_t&&(e.setx="setc",e.sx=e.sc,e.lkx=e.lkc);var Mt=c(e.setd,e.char1)!==void 0;Mt&&(e.setx="setd",e.sx=e.sd,e.lkx=e.lkd);var Lt=c(e.sete,e.char1)!==void 0;Lt&&(e.setx="sete",e.sx=e.se,e.lkx=e.lke);var Dt=e[e.setx],kt=e.msg,O=e.i,K=e.msglen,G=e.i,se=K-G,le=4;if(4>K-G){var wt=se;se=le,le=wt}r[t++]="p",r[t++]=Dt,r[t++]=C(kt,O,le),e.prefixinset();var ge=r[--t];e[r[--t]]=ge,e.p==1&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char3,r[t++]=e[e.setx],e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.lkx,r[t++]=e[e.setx],e.enc(),e.cset=e.setx);break}}e.encmsg=C(e.out,0,e.j),e.padval=c(e[e.cset],e.pad)}if(V(e.encoding,"new")){e.haveb=!1,e.havec=!1,e.haved=!1,e.havee=!1,e.havei=!1;for(var ee=0,ke=e.msglen-1;ee<=ke;ee+=1)if(e.c=c(e.msg,ee),e.c<=-1e6)e.havei=!0;else if((e.c<28||e.c>30)&&e.c!=32){var X=c(e.setb,e.c)!==void 0;X&&(e.haveb=!0);var xe=c(e.setc,e.c)!==void 0;xe&&(e.havec=!0);var me=c(e.setd,e.c)!==void 0;me&&(e.haved=!0);var ye=c(e.sete,e.c)!==void 0;ye&&(e.havee=!0)}r[t++]=1/0,r[t++]=0,e.haveb&&(r[t++]=1),e.havee&&(r[t++]=4),e.havec&&(r[t++]=2),e.haved&&(r[t++]=3),e.priority=s(),e.priority_rest=C(e.priority,1,e.priority.length-1),e.latch_sequence=s([s([s([]),s([63]),s([58]),s([58]),s([58])]),s([s([63]),s([]),s([63]),s([63]),s([63])]),s([s([60,60]),s([60,60]),s([]),s([60,60]),s([60,60])]),s([s([61,61]),s([61,61]),s([61,61]),s([]),s([61,61])]),s([s([62,62]),s([62,62]),s([62,62]),s([62,62]),s([])])]),e.latch_length=s([s([0,1,1,1,1]),s([1,0,1,1,1]),s([2,2,0,2,2]),s([2,2,2,0,2]),s([2,2,2,2,0])]),e.max_int=2147483647,r[t++]=1/0;for(var ne=0;ne<16;ne++)r[t++]=s([0,0,0,0,0]);e.best_length=s(),r[t++]=1/0;for(var we=0;we<16;we++)r[t++]=s([0,0,0,0,0]);e.best_origin=s(),r[t++]=1/0;for(var Ee=0,pe=e.msglen;Ee<pe;Ee++){r[t++]=1/0;for(var Ne=0;Ne<5;Ne++)r[t++]=0;var Ae=s();r[t++]=Ae}e.prior_code_set=s(),r[t++]=1/0;for(var Ce=0,Qe=e.msglen;Ce<Qe;Ce++){r[t++]=1/0;for(var Pe=0;Pe<5;Pe++)r[t++]=0;var We=s();r[t++]=We}if(e.path_op=s(),e.out_eci=function(){var yt=-e.c-1e6;if(r[t++]=yt,yt<1024){var Yr=r[--t]<32?2:3;r[t++]=Yr}else{var ra=r[--t]<32768?4:5;r[t++]=ra}},e.enc_eci=function(){var yt=-e.c-1e6;if(r[t++]=yt,yt>=32){var Yr=r[t-1];if(Yr<1024){var ra=r[--t];r[t++]=ra>>>6|32,r[t++]=ra&63}else{var Ua=r[t-1];if(Ua<32768){var ca=r[--t];r[t++]=ca>>>12|48,r[t++]=ca>>>6&63,r[t++]=ca&63}else{var Xa=r[--t];r[t++]=Xa>>>18|56,r[t++]=Xa>>>12&63,r[t++]=Xa>>>6&63,r[t++]=Xa&63}}}},e.enc_ns=function(){var yt=C(e.msg,e.n,9);r[t++]=0;for(var Yr=0,ra=yt.length;Yr<ra;Yr++){var Ua=r[--t];r[t++]=S(c(yt,Yr)-48+Ua*10)}var ca=r[--t];r[t++]=ca>>>24,r[t++]=ca>>>18&63,r[t++]=ca>>>12&63,r[t++]=ca>>>6&63,r[t++]=ca&63},e.enc_sha2=function(){r[t++]=c(e.seta,e.c),r[t++]=c(e.seta,c(e.msg,e.n+1))},e.enc_sha3=function(){r[t++]=c(e.seta,e.c),r[t++]=c(e.seta,c(e.msg,e.n+1)),r[t++]=c(e.seta,c(e.msg,e.n+2))},r[t++]=1/0,e.havei){var st=new Map([["can",function(){r[t++]=e.c<=-1e6}],["intake",1],["output",function(){e.out_eci()}],["sets",31],["enc",function(){r[t++]=27,e.enc_eci()}]]);r[t++]=st}var at=new Map([["can",function(){r[t++]=e.digits>=9}],["intake",9],["output",function(){r[t++]=6}],["sets",31],["enc",function(){r[t++]=31,e.enc_ns()}]]),je=new Map([["can",function(){var yt=c(e.seta,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=1}],["sets",1],["enc",function(){r[t++]=c(e.seta,e.c)}]]);if(r[t++]=at,r[t++]=je,e.haveb){var Ge=new Map([["can",function(){var yt=c(e.setb,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=1}],["sets",2],["enc",function(){r[t++]=c(e.setb,e.c)}]]);r[t++]=Ge}if(e.havec){var He=new Map([["can",function(){var yt=c(e.setc,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=1}],["sets",4],["enc",function(){r[t++]=c(e.setc,e.c)}]]);r[t++]=He}if(e.haved){var Ze=new Map([["can",function(){var yt=c(e.setd,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=1}],["sets",8],["enc",function(){r[t++]=c(e.setd,e.c)}]]);r[t++]=Ze}if(e.havee){var ft=new Map([["can",function(){var yt=c(e.sete,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=1}],["sets",16],["enc",function(){r[t++]=c(e.sete,e.c)}]]);r[t++]=ft}var pt=new Map([["can",function(){r[t++]=e.num_a>=1}],["intake",1],["output",function(){r[t++]=2}],["sets",2],["enc",function(){r[t++]=59,r[t++]=c(e.seta,e.c)}]]),ut=new Map([["can",function(){r[t++]=e.num_a>=2}],["intake",2],["output",function(){r[t++]=3}],["sets",2],["enc",function(){r[t++]=56,e.enc_sha2()}]]),xt=new Map([["can",function(){r[t++]=e.num_a>=3}],["intake",3],["output",function(){r[t++]=4}],["sets",2],["enc",function(){r[t++]=57,e.enc_sha3()}]]);if(r[t++]=pt,r[t++]=ut,r[t++]=xt,e.haveb){var nt=new Map([["can",function(){var yt=c(e.setb,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=2}],["sets",1],["enc",function(){r[t++]=59,r[t++]=c(e.setb,e.c)}]]);r[t++]=nt}if(e.havec){var Tt=new Map([["can",function(){var yt=c(e.setc,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=2}],["sets",27],["enc",function(){r[t++]=60,r[t++]=c(e.setc,e.c)}]]);r[t++]=Tt}if(e.haved){var et=new Map([["can",function(){var yt=c(e.setd,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=2}],["sets",23],["enc",function(){r[t++]=61,r[t++]=c(e.setd,e.c)}]]);r[t++]=et}if(e.havee){var Qt=new Map([["can",function(){var yt=c(e.sete,e.c)!==void 0;r[t++]=yt}],["intake",1],["output",function(){r[t++]=2}],["sets",15],["enc",function(){r[t++]=62,r[t++]=c(e.sete,e.c)}]]);r[t++]=Qt}e.op_tab=s();var Ht=e.op_tab;r[t++]=0;for(var Ot=0,sr=Ht.length;Ot<sr;Ot++){var Sr=r[--t];g(c(Ht,Ot),"idx",Sr),r[t++]=Sr+1}r[t-1]=1/0;for(var nr=s([1,2,4,8,16]),gr=0,ar=nr.length;gr<ar;gr++){e.n=c(nr,gr),r[t++]=1/0;for(var Ir=e.op_tab,Zt=0,dr=Ir.length;Zt<dr;Zt++){var Kt=c(Ir,Zt);r[t++]=Kt,fo(c(Kt,"sets"),e.n)==0&&t--}var Jt=s();r[t++]=Jt}e.code_set_operations=s(),e.get_best_length=function(){e.latch_length_s=c(e.latch_length,e.state),r[t++]=e.max_int,ve(c(e.code_set_operations,e.state),function(){if(e.op=r[--t],c(e.op,"can")()===!0)return!0;if(r[--t]){if(e.m=S(e.n-c(e.op,"intake"))&15,e.org=c(c(e.best_origin,e.m),e.state),r[t++]=S(c(c(e.best_length,e.m),e.org)+c(e.latch_length_s,e.org)),c(e.op,"output")()===!0)return!0;var yt=r[--t],Yr=r[--t],ra=r[t-1];if(r[t++]=S(Yr+yt),ra>S(Yr+yt)){var Ua=r[--t],ca=r[--t];g(e.path_op_0,e.state,c(e.op,"idx")),g(e.prior_code_set_0,e.state,e.org),r[t++]=Ua,r[t++]=ca}t--}})},e.get_best_origin=function(){e.latch_length_s=c(e.latch_length,e.state),e.orglen=S(c(e.best_length_0,0)+c(e.latch_length_s,0));var yt=e.priority_rest;r[t++]=0;for(var Yr=0,ra=yt.length;Yr<ra;Yr++){e.p=c(yt,Yr);var Ua=S(c(e.best_length_0,e.p)+c(e.latch_length_s,e.p));r[t++]=Ua,Ua<e.orglen?(e.orglen=r[--t],r[t-1]=e.p):t--}},e.digits=0,e.num_a=0;for(var ur=0,Tr=e.msglen-1;ur<=Tr;ur+=1){e.n=ur,e.c=c(e.msg,e.n),r[t++]="digits",e.c>=48&&e.c<58?r[t++]=e.digits+1:r[t++]=0;var Pr=r[--t];e[r[--t]]=Pr;var ua=c(e.seta,e.c)!==void 0;r[t++]="num_a",ua?r[t++]=e.num_a+1:r[t++]=0;var Et=r[--t];e[r[--t]]=Et,e.path_op_0=c(e.path_op,e.n),e.prior_code_set_0=c(e.prior_code_set,e.n),e.best_length_0=c(e.best_length,e.n&15),e.best_origin_0=c(e.best_origin,e.n&15);for(var Gt=e.priority,tr=0,br=Gt.length;tr<br;tr++){e.state=c(Gt,tr),r[t++]=e.best_length_0,r[t++]=e.state,e.get_best_length();var ir=r[--t],Br=r[--t];g(r[--t],Br,ir)}for(var or=e.priority,Ut=0,wr=or.length;Ut<wr;Ut++){e.state=c(or,Ut),r[t++]=e.best_origin_0,r[t++]=e.state,e.get_best_origin();var ta=r[--t],fa=r[--t];g(r[--t],fa,ta)}}e.n=e.msglen;var ya=e.priority;r[t++]=0,r[t++]=e.max_int;for(var Lr=0,Ea=ya.length;Lr<Ea;Lr++){var ga=c(ya,Lr),Ra=c(e.best_length_0,ga),la=r[t-1];r[t++]=ga,r[t++]=Ra,mn(Ra,la)&&Na(4,2),t-=2}e.j=r[--t],e.state=r[--t],e.pad_code=s([33,33,0,0,28]),r[t++]="final_code_set",c(e.pad_code,e.state)==0?r[t++]=0:r[t++]=e.state;var Aa=r[--t];if(e[r[--t]]=Aa,c(e.pad_code,e.state)==0&&mn(e.j,e.maxlen)){var Ca=s(e.j+1);g(Ca,e.j,58),r[t++]=Ca}else r[t++]=s(e.j);for(e.padval=c(e.pad_code,e.final_code_set),e.len=e.j;!(e.n<=0||(e.pcs=c(c(e.prior_code_set,e.n-1),e.state),e.op_idx=c(c(e.path_op,e.n-1),e.state),e.op=c(e.op_tab,e.op_idx),e.n=S(e.n-c(e.op,"intake")),e.c=c(e.msg,e.n),e.enc=c(e.op,"enc"),r[t++]=1/0,e.enc()===!0));){e.output=s(),e.latch=c(c(e.latch_sequence,e.state),e.pcs),e.len=S(e.len-e.latch.length-e.output.length);var ka=r[--t],La=e.len,Qa=e.latch;R(ka,La,Qa),R(ka,S(La+Qa.length),e.output),e.state=e.pcs,r[t++]=ka}e.encmsg=r[--t]}r[t++]="sami",e.sam!=-1?r[t++]=s([c(e.seta,e.pad),(~~(e.sam/10)-1)*8+(e.sam%10-1)]):r[t++]=s([]);var Va=r[--t];if(e[r[--t]]=Va,r[t++]=1/0,U(e.sami),U(e.encmsg),e.encmsg=s(),e.mode==2||e.mode==3){e.encmsg.length>84&&(r[t++]="bwipp.maxicodeMode23TooLong#23176",r[t++]="The secondary message is too long",z());var ps=Fr(W(4),"0000"),Ia=$t(W(4),~~e.mode,2);R(ps,4-Ia.length,Ia),e.mdb=ps;var Bs=Fr(W(10),"0000000000"),Ha=$t(W(10),De(e.ccode),2);R(Bs,10-Ha.length,Ha),e.ccb=Bs;var zs=Fr(W(10),"0000000000"),Ma=$t(W(10),De(e.scode),2);if(R(zs,10-Ma.length,Ma),e.scb=zs,e.pcb=Fr(W(36),"000000000000000000000000000000000000"),e.mode==2){if(V(e.ccode,"840")&&e.pcode.length==5){var ms=Fr(W(9),"     0000");R(ms,0,e.pcode),e.pcode=ms}var Ds=$t(W(6),e.pcode.length,2);R(e.pcb,6-Ds.length,Ds);var Ts=$t(W(30),De(e.pcode),2);R(e.pcb,36-Ts.length,Ts)}else{r[t++]=1/0;var Ka=Fr(W(6),"      ");r[t++]=Ka,r[t++]=Ka,r[t++]=0,e.pcode.length>6?r[t++]=C(e.pcode,0,6):r[t++]=e.pcode;var Ls=r[--t],Wa=r[--t];R(r[--t],Wa,Ls),ve(r[--t],function(){var yt=c(e.seta,r[--t]);r[t++]=yt}),e.pccw=s();for(var xs=0;xs<=5;xs+=1){e.i=xs;var Fa=$t(W(6),c(e.pccw,e.i),2);R(e.pcb,6*e.i+6-Fa.length,Fa)}}e.scm=W(60),R(e.scm,2,e.mdb),R(e.scm,38,C(e.pcb,0,4)),R(e.scm,30,C(e.pcb,4,6)),R(e.scm,24,C(e.pcb,10,6)),R(e.scm,18,C(e.pcb,16,6)),R(e.scm,12,C(e.pcb,22,6)),R(e.scm,6,C(e.pcb,28,6)),R(e.scm,0,C(e.pcb,34,2)),R(e.scm,52,C(e.ccb,0,2)),R(e.scm,42,C(e.ccb,2,6)),R(e.scm,36,C(e.ccb,8,2)),R(e.scm,54,C(e.scb,0,6)),R(e.scm,48,C(e.scb,6,4)),e.pri=s([0,0,0,0,0,0,0,0,0,0]);for(var vn=0;vn<=59;vn+=1)e.i=vn,e.ps=~~(e.i/6),e.ep=~~li(2,5-e.i%6)*(c(e.scm,e.i)-48),g(e.pri,e.ps,S(c(e.pri,e.ps)+e.ep));r[t++]=1/0;for(var $a=0;$a<84;$a++)r[t++]=e.padval;e.sec=s(),R(e.sec,0,e.encmsg)}if(e.mode==4||e.mode==5||e.mode==6||e.mode==-1){if(e.mode==-1){var In=e.encmsg.length<=77?5:4;e.mode=In}r[t++]=1/0;for(var Ba=e.mode==5?78:94,Js=0,Pa=Ba;Js<Pa;Js++)r[t++]=e.padval;e.cws=s(),e.encmsg.length>e.cws.length-1&&(r[t++]="bwipp.maxicodeMode56TooLong#23243",r[t++]="The message is too long",z()),g(e.cws,0,e.mode),R(e.cws,1,e.encmsg),e.pri=C(e.cws,0,10),e.sec=C(e.cws,10,e.cws.length-10)}r[t++]=1/0,r[t++]=1;for(var rn=0;rn<63;rn++){var is=r[t-1],Xt=is*2;if(r[t++]=Xt,Xt>=64){var Xr=r[--t];r[t++]=Xr^67}}e.rsalog=s(),e.rslog=s(64);for(var ja=1;ja<=63;ja+=1)g(e.rslog,c(e.rsalog,ja),ja);e.rsprod=function(){var yt=r[t-1],Yr=r[t-2];if(yt!=0&&Yr!=0){var ra=c(e.rslog,r[--t]),Ua=c(e.rsalog,S(ra+c(e.rslog,r[--t]))%63);r[t++]=Ua}else t-=2,r[t++]=0},e.rscodes=function(){e.rsnum=r[--t],e.cwb=r[--t],r[t++]=1/0,r[t++]=1;for(var yt=0,Yr=e.rsnum;yt<Yr;yt++)r[t++]=0;e.coeffs=s();for(var ra=1,Ua=e.rsnum;ra<=Ua;ra+=1){e.i=ra,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var ca=e.i-1;ca>=1;ca-=1){e.j=ca,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Xa=r[--t],ws=r[--t],gn=r[--t];g(r[--t],gn,fs(ws,Xa))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var lt=r[--t],Nt=r[--t];g(r[--t],Nt,lt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1),r[t++]=1/0;for(var hr=0,lr=e.rsnum;hr<lr;hr++)r[t++]=0;e.ecb=s();for(var fr=0,Rr=e.cwb.length-1;fr<=Rr;fr+=1){e.t=fs(c(e.cwb,fr),c(e.ecb,0));for(var cr=e.ecb.length-1;cr>=0;cr-=1){e.i=cr,e.p=e.ecb.length-e.i-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=c(e.coeffs,e.i),e.rsprod();var aa=r[--t],Hr=r[--t];g(r[--t],Hr,aa),e.i>0&&g(e.ecb,e.p,fs(c(e.ecb,e.p+1),c(e.ecb,e.p)))}}r[t++]=e.ecb},r[t++]=1/0;for(var _a=0,vs=e.sec.length-1;_a<=vs;_a+=2)r[t++]=c(e.sec,_a);e.seco=s(),r[t++]=1/0;for(var Qr=1,os=e.sec.length-1;Qr<=os;Qr+=2)r[t++]=c(e.sec,Qr);e.sece=s();var gs=e.sec.length==84?20:28;e.scodes=gs,r[t++]="secochk",r[t++]=e.seco,r[t++]=e.scodes,e.rscodes();var Oa=r[--t];e[r[--t]]=Oa,r[t++]="secechk",r[t++]=e.sece,r[t++]=e.scodes,e.rscodes();var Bn=r[--t];e[r[--t]]=Bn,r[t++]=1/0;for(var Da=0,ui=e.scodes-1;Da<=ui;Da+=1)r[t++]=c(e.secochk,Da),r[t++]=c(e.secechk,Da);e.secchk=s(),r[t++]=1/0,U(e.pri),r[t++]=e.pri,r[t++]=10,e.rscodes(),U(r[--t]),U(e.sec),U(e.secchk),e.codewords=s();var Qs=c(e.options,"debugcws")!==void 0;Qs&&(r[t++]="bwipp.debugcws#23325",r[t++]=e.codewords,z()),r[t++]=1/0;for(var Ta=0;Ta<864;Ta++)r[t++]=0;e.mods=s();for(var Dn=0;Dn<=143;Dn+=1){e.i=Dn,r[t++]=1/0;for(var Ja=$t(W(6),c(e.codewords,e.i),2),Tn=0,bs=Ja.length;Tn<bs;Tn++)r[t++]=c(Ja,Tn)-48;e.cw=s(),R(e.mods,6*e.i+(6-e.cw.length),e.cw)}e.modmap=s([469,529,286,316,347,346,673,672,703,702,647,676,283,282,313,312,370,610,618,379,378,409,408,439,705,704,559,589,588,619,458,518,640,701,675,674,285,284,315,314,310,340,531,289,288,319,349,348,456,486,517,516,471,470,369,368,399,398,429,428,549,548,579,578,609,608,649,648,679,678,709,708,639,638,669,668,699,698,279,278,309,308,339,338,381,380,411,410,441,440,561,560,591,590,621,620,547,546,577,576,607,606,367,366,397,396,427,426,291,290,321,320,351,350,651,650,681,680,711,710,1,0,31,30,61,60,3,2,33,32,63,62,5,4,35,34,65,64,7,6,37,36,67,66,9,8,39,38,69,68,11,10,41,40,71,70,13,12,43,42,73,72,15,14,45,44,75,74,17,16,47,46,77,76,19,18,49,48,79,78,21,20,51,50,81,80,23,22,53,52,83,82,25,24,55,54,85,84,27,26,57,56,87,86,117,116,147,146,177,176,115,114,145,144,175,174,113,112,143,142,173,172,111,110,141,140,171,170,109,108,139,138,169,168,107,106,137,136,167,166,105,104,135,134,165,164,103,102,133,132,163,162,101,100,131,130,161,160,99,98,129,128,159,158,97,96,127,126,157,156,95,94,125,124,155,154,93,92,123,122,153,152,91,90,121,120,151,150,181,180,211,210,241,240,183,182,213,212,243,242,185,184,215,214,245,244,187,186,217,216,247,246,189,188,219,218,249,248,191,190,221,220,251,250,193,192,223,222,253,252,195,194,225,224,255,254,197,196,227,226,257,256,199,198,229,228,259,258,201,200,231,230,261,260,203,202,233,232,263,262,205,204,235,234,265,264,207,206,237,236,267,266,297,296,327,326,357,356,295,294,325,324,355,354,293,292,323,322,353,352,277,276,307,306,337,336,275,274,305,304,335,334,273,272,303,302,333,332,271,270,301,300,331,330,361,360,391,390,421,420,363,362,393,392,423,422,365,364,395,394,425,424,383,382,413,412,443,442,385,384,415,414,445,444,387,386,417,416,447,446,477,476,507,506,537,536,475,474,505,504,535,534,473,472,503,502,533,532,455,454,485,484,515,514,453,452,483,482,513,512,451,450,481,480,511,510,541,540,571,570,601,600,543,542,573,572,603,602,545,544,575,574,605,604,563,562,593,592,623,622,565,564,595,594,625,624,567,566,597,596,627,626,657,656,687,686,717,716,655,654,685,684,715,714,653,652,683,682,713,712,637,636,667,666,697,696,635,634,665,664,695,694,633,632,663,662,693,692,631,630,661,660,691,690,721,720,751,750,781,780,723,722,753,752,783,782,725,724,755,754,785,784,727,726,757,756,787,786,729,728,759,758,789,788,731,730,761,760,791,790,733,732,763,762,793,792,735,734,765,764,795,794,737,736,767,766,797,796,739,738,769,768,799,798,741,740,771,770,801,800,743,742,773,772,803,802,745,744,775,774,805,804,747,746,777,776,807,806,837,836,867,866,897,896,835,834,865,864,895,894,833,832,863,862,893,892,831,830,861,860,891,890,829,828,859,858,889,888,827,826,857,856,887,886,825,824,855,854,885,884,823,822,853,852,883,882,821,820,851,850,881,880,819,818,849,848,879,878,817,816,847,846,877,876,815,814,845,844,875,874,813,812,843,842,873,872,811,810,841,840,871,870,901,900,931,930,961,960,903,902,933,932,963,962,905,904,935,934,965,964,907,906,937,936,967,966,909,908,939,938,969,968,911,910,941,940,971,970,913,912,943,942,973,972,915,914,945,944,975,974,917,916,947,946,977,976,919,918,949,948,979,978,921,920,951,950,981,980,923,922,953,952,983,982,925,924,955,954,985,984,927,926,957,956,987,986,58,89,88,118,149,148,178,209,208,238,269,268,298,329,328,358,389,388,418,449,448,478,509,508,538,569,568,598,629,628,658,689,688,718,749,748,778,809,808,838,869,868,898,929,928,958,989,988]),e.pixs=s(864),e.j=0;for(var an=0,sn=e.mods.length-1;an<=sn;an+=1)e.i=an,c(e.mods,e.i)==1&&(g(e.pixs,e.j,c(e.modmap,e.i)),e.j=e.j+1);r[t++]=1/0,U(C(e.pixs,0,e.j)),r[t++]=28,r[t++]=29,r[t++]=280,r[t++]=281,r[t++]=311,r[t++]=457,r[t++]=488,r[t++]=500,r[t++]=530,r[t++]=670,r[t++]=700,r[t++]=677,r[t++]=707,e.pixs=s();var Xn=new Map([["ren","renmaximatrix"],["pixs",e.pixs],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Xn,e.dontdraw||JR(),e=a}function _u(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="full",e.readerinit=!1,e.layers=-1,e.eclevel=23,e.ecaddchars=3,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.aztecEmptyData#23462",r[t++]="The data must not be empty",z()),(e.eclevel<5||e.eclevel>95)&&(r[t++]="bwipp.aztecInvalidEClevel#23466",r[t++]="The EC percentage must be from 5 to 95",z()),e.ecaddchars<3&&(r[t++]="bwipp.aztecInvalidECaddChars#23470",r[t++]="The number of additional EC codewords must be 3 or more",z()),Ie(e.format,"full")&&Ie(e.format,"compact")&&Ie(e.format,"rune")&&(r[t++]="bwipp.aztecInvalidFormat#23474",r[t++]="The format must be either full, compact or rune",z()),V(e.format,"full")&&(e.readerinit&&(e.layers<1||e.layers>22)&&(r[t++]="bwipp.aztecFullInitInvalidLayers#23479",r[t++]="Full-range symbols for reader programming must specify from 1 to 22 layers",z()),e.layers!=-1&&(e.layers<1||e.layers>32)&&(r[t++]="bwipp.aztecFullInvalidLayers#23482",r[t++]="Layers for full-range symbols must be from 1 to 32",z())),V(e.format,"compact")&&(e.readerinit&&(e.layers!=-1&&e.layers!=1&&(r[t++]="bwipp.aztecCompactInitInvalidLayers#23489",r[t++]="Compact symbols for reader programming must have 1 layer",z()),e.layers=1),e.layers!=-1&&(e.layers<1||e.layers>4)&&(r[t++]="bwipp.aztecCompactInvalidLayers#23494",r[t++]="Layers for compact symbols must be from 1 to 4",z())),V(e.format,"rune")){e.layers!=-1&&(r[t++]="bwipp.aztecRuneInvalidLayers#23500",r[t++]="It is not valid to specify layers for runes",z()),e.readerinit&&(r[t++]="bwipp.aztecRuneReaderInit#23503",r[t++]="Reader initialisation is not compactible with Aztec Runes",z()),e.barcode.length==0&&(r[t++]="bwipp.aztecRuneNotNumeric#23506",r[t++]="Aztec runes must be numeric",z()),ve(e.barcode,function(){var le=r[--t];(le<48||le>57)&&(r[t++]="bwipp.aztecRuneNotNumeric#23510",r[t++]="Aztec runes must be numeric",z())});var n=De(e.barcode);(n<0||n>255)&&(r[t++]="bwipp.aztecRuneInvalid#23514",r[t++]="Aztec runes must be 0 to 255",z())}e.fn1=-1;var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,e.U=0,e.L=1,e.M=2,e.P=3,e.D=4,e.B=5,e.lu=-2,e.ll=-3,e.lm=-4,e.lp=-5,e.ld=-6,e.su=-7,e.sp=-8,e.sb=-9,e.fl=-10,e.p2=-11,e.p3=-12,e.p4=-13,e.p5=-14,e.charmaps=s([s([e.sp,e.sp,e.sp,e.fl,e.sp]),s([32,32,32,13,32]),s(["A","a",1,e.p2,"0"]),s(["B","b",2,e.p3,"1"]),s(["C","c",3,e.p4,"2"]),s(["D","d",4,e.p5,"3"]),s(["E","e",5,"!","4"]),s(["F","f",6,'"',"5"]),s(["G","g",7,"#","6"]),s(["H","h",8,"$","7"]),s(["I","i",9,"%","8"]),s(["J","j",10,"&","9"]),s(["K","k",11,"'",","]),s(["L","l",12,40,"."]),s(["M","m",13,41,e.lu]),s(["N","n",27,"*",e.su]),s(["O","o",28,"+",-99]),s(["P","p",29,",",-99]),s(["Q","q",30,"-",-99]),s(["R","r",31,".",-99]),s(["S","s","@","/",-99]),s(["T","t",92,":",-99]),s(["U","u","^",";",-99]),s(["V","v","_","<",-99]),s(["W","w","`","=",-99]),s(["X","x","|",">",-99]),s(["Y","y","~","?",-99]),s(["Z","z",127,"[",-99]),s([e.ll,e.su,e.ll,"]",-99]),s([e.lm,e.lm,e.lu,"{",-99]),s([e.ld,e.ld,e.lp,"}",-99]),s([e.sb,e.sb,e.sb,e.lu,-99])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=4;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,V(tn(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}g(c(e.charvals,e.j),r[--t],e.i)}}var m=new Map([[`\r
`,e.p2],[". ",e.p3],[", ",e.p4],[": ",e.p5]]);if(e.pcomp=m,e.e=1e6,e.latlen=s([s([0,5,5,10,5,10]),s([9,0,5,10,5,10]),s([5,5,0,5,10,10]),s([5,10,10,0,10,15]),s([4,9,9,14,0,14]),s([0,0,0,0,0,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.ld,e.lu]),s([]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.lu]),s([e.ll]),s([]),s([e.lp]),s([e.lu,e.ld]),s([e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([]),s([e.lu,e.ld]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([e.lu,e.lm,e.lp]),s([]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.ll]),s([e.lm]),s([]),s([]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,5,e.e]),s([5,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,e.e,e.e]),s([4,e.e,e.e,4,e.e])]),e.msgbits="",Ie(e.format,"rune")&&e.raw&&(e.msgbits=e.barcode),Ie(e.format,"rune")&&!e.raw){e.charsize=function(){var le=r[t-1];if(le>=0){t--;var ge=c(s([5,5,5,5,4,8]),r[--t]);r[t++]=ge}else{var ee=r[--t];r[t-1]=ee;var ke=r[t-1];if(ke==e.fn1)r[t-1]=8;else{var X=-r[--t]-1e6;r[t++]=X,X==0&&(r[t-1]=1);var xe=r[--t];r[t++]=(~~(hn(xe)/hn(10))+1)*4+8}}},e.curlen=s([0,e.e,e.e,e.e,e.e,e.e]),e.curseq=s([s([]),s([]),s([]),s([]),s([]),s([])]),e.backto=e.U,e.lastchar="",ve(e.msg,function(){for(e.char=r[--t];;){e.imp=!1;for(var le=s([e.U,e.L,e.M,e.P,e.D,e.B]),ge=0,ee=le.length;ge<ee;ge++){e.x=c(le,ge);for(var ke=s([e.U,e.L,e.M,e.P,e.D,e.B]),X=0,xe=ke.length;X<xe;X++)if(e.y=c(ke,X),(e.x!=e.B||e.y==e.backto)&&(e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y))){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,U(c(e.curseq,e.x)),U(c(c(e.latseq,e.x),e.y));var me=s(),ye=r[--t];if(g(r[--t],ye,me),e.y==e.B){r[t++]="backto",e.x==e.P||e.x==e.D?r[t++]=e.U:r[t++]=e.x;var ne=r[--t];e[r[--t]]=ne}e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e,e.e,e.e]),e.nxtseq=s(6);for(var we=s([e.U,e.L,e.M,e.P,e.D,e.B]),Ee=0,pe=we.length;Ee<pe;Ee++)for(e.x=c(we,Ee);;){if(e.char>=0){if(e.x!=e.B){var Ne=c(c(e.charvals,e.x),e.char)!==void 0;if(!Ne)break}}else if(e.x!=e.P)break;r[t++]="cost",r[t++]=c(e.curlen,e.x),r[t++]=e.x,r[t++]=e.char,e.charsize();var Ae=r[--t],Ce=r[--t];if(e[r[--t]]=S(Ce+Ae),e.cost<c(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,U(c(e.curseq,e.x)),r[t++]=e.char;var Qe=s(),Pe=r[--t];g(r[--t],Pe,Qe)}if(e.x==e.B)break;for(var We=s([e.U,e.L,e.M,e.P,e.D]),st=0,at=We.length;st<at;st++)if(e.y=c(We,st),Ie(e.x,e.y)){r[t++]="cost",r[t++]=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x)),r[t++]=e.x,r[t++]=e.char,e.charsize();var je=r[--t],Ge=r[--t];if(e[r[--t]]=S(Ge+je),e.cost<c(e.nxtlen,e.y)){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,U(c(e.curseq,e.y));var He=e.x==e.U?e.su:e.sp;r[t++]=He,r[t++]=e.char;var Ze=s(),ft=r[--t];g(r[--t],ft,Ze)}}break}if(e.lastchar.length!=0&&e.char>=0){var pt=W(2);g(pt,0,e.lastchar),g(pt,1,e.char),e.pchars=pt;var ut=c(e.pcomp,e.pchars)!==void 0;if(ut){for(var xt=s([e.U,e.L,e.M,e.P,e.D]),nt=0,Tt=xt.length;nt<Tt;nt++)if(e.i=c(xt,nt),e.inP=!0,e.i==e.M?e.lastchar==13&&(e.inP=!1):e.i==e.D&&(e.lastchar==44||e.lastchar==46)&&(e.inP=!1),e.inP&&mn(c(e.curlen,e.i),c(e.nxtlen,e.i))){e.curseqi=c(e.curseq,e.i),e.lastld=!1,e.lastsp=!1,e.lastidx=-1;for(var et=e.curseqi.length-1;et>=0;et-=1)if(e.idx=et,e.ch=c(e.curseqi,e.idx),e.lastidx==-1)V(e.ch,e.lastchar)&&(e.lastidx=e.idx,e.idx>0&&c(e.curseqi,e.idx-1)==e.sp&&(e.lastsp=!0));else{if(e.ch==e.sb){e.lastidx=-1;break}if(e.ch<0&&e.ch>=e.ld){e.i==e.P?e.ch==e.ld&&(e.lastld=!0):e.ch!=e.lp&&(e.inP=e.lastsp);break}}if(e.inP&&e.lastidx>=0)if(g(e.nxtlen,e.i,c(e.curlen,e.i)),e.lastidx<e.curseqi.length-1)if(e.i==e.P){e.lastld&&g(e.nxtlen,e.i,c(e.nxtlen,e.i)+1),r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,U(e.curseqi),Na(e.curseqi.length-e.lastidx,-1),r[t-1]=c(e.pcomp,e.pchars);var Qt=s(),Ht=r[--t];g(r[--t],Ht,Qt)}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,U(e.curseqi);var Ot=s(),sr=r[--t];g(r[--t],sr,Ot),g(c(e.nxtseq,e.i),e.lastidx,c(e.pcomp,e.pchars))}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,U(e.curseqi),r[t-1]=c(e.pcomp,e.pchars);var Sr=s(),nr=r[--t];g(r[--t],nr,Sr)}}}}Ie(c(e.nxtseq,e.B),null)&&(e.numbytes=0,ve(c(e.nxtseq,e.B),function(){r[--t]==e.sb?r[t++]=0:r[t++]=e.numbytes+1,e.numbytes=r[--t]}),e.numbytes==32&&g(e.nxtlen,e.B,c(e.nxtlen,e.B)+11)),e.curlen=e.nxtlen,e.curseq=e.nxtseq,r[t++]="lastchar",e.char>=0?r[t++]=e.char:r[t++]="";var gr=r[--t];e[r[--t]]=gr}),e.minseq=e.e;for(var x=s([e.U,e.L,e.M,e.P,e.D,e.B]),b=0,y=x.length;b<y;b++)e.i=c(x,b),c(e.curlen,e.i)<e.minseq&&(e.minseq=c(e.curlen,e.i),e.seq=c(e.curseq,e.i));for(e.tobin=function(){var le=W(r[--t]);r[t++]=le;for(var ge=0,ee=le.length-1;ge<=ee;ge+=1){var ke=r[t-1];g(ke,ge,48)}var X=r[t-1];r[t++]=X;var xe=r[t-3],me=r[t-1];r[t-3]=r[t-2],t-=2;var ye=$t(W(me.length),xe,2);R(me,me.length-ye.length,ye)},e.encu=function(){var le=c(c(e.charvals,e.U),r[--t]);r[t++]=le,r[t++]=5,e.tobin()},e.encl=function(){var le=c(c(e.charvals,e.L),r[--t]);r[t++]=le,r[t++]=5,e.tobin()},e.encm=function(){var le=c(c(e.charvals,e.M),r[--t]);r[t++]=le,r[t++]=5,e.tobin()},e.encd=function(){var le=c(c(e.charvals,e.D),r[--t]);r[t++]=le,r[t++]=4,e.tobin()},e.encp=function(){var le=r[t-1];if(le==e.fn1)r[t-1]="00000000";else{var ge=r[t-1];if(ge<=-1e6){var ee=-r[--t]-1e6;r[t++]=ee,r[t++]=ee,ee==0&&(r[t-1]=1);var ke=~~(hn(r[--t])/hn(10)),X=W((ke+1)*4+8);R(X,0,"00000"),r[t++]=ke,r[t++]=X,r[t++]=X,r[t++]=ke+1,r[t++]=3,e.tobin();var xe=r[--t];if(R(r[--t],5,xe),Na(3,1),r[t++]=-1,r[t++]=0,t<3)throw"--stack-underflow--";t-=3;for(var me=r[t],ye=r[t+1],ne=r[t+2];ye<0?me>=ne:me<=ne;me+=ye){var we=r[--t],Ee=r[t-1];r[t++]=~~(we/10),r[t++]=Ee,r[t++]=me*4+8,r[t++]=we%10+2,r[t++]=4,e.tobin();var pe=r[--t],Ne=r[--t];R(r[--t],Ne,pe)}t--}else{var Ae=c(c(e.charvals,e.P),r[--t]);r[t++]=Ae,r[t++]=5,e.tobin()}}},e.encfuncs=s(["encu","encl","encm","encp","encd"]),e.addtomsgbits=function(){e.v=r[--t],R(e.msgbits,e.j,e.v),e.j=e.j+e.v.length},e.state=e.U,e.msgbits=W(e.minseq),e.i=0,e.j=0;!(e.i>=e.seq.length);)if(e.state!=e.B){if(e.char=c(e.seq,e.i),r[t++]=e.char,e[c(e.encfuncs,e.state)]()===!0)break;e.addtomsgbits(),e.i=e.i+1,(e.char==e.su||e.char==e.sp)&&(r[t++]=c(e.seq,e.i),e.char==e.su?e.encu():e.encp(),e.addtomsgbits(),e.i=e.i+1),e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M),e.char==e.lp&&(e.state=e.P),e.char==e.ld&&(e.state=e.D),e.char==e.sb&&(e.state=e.B)}else{for(e.numbytes=0;!(e.i+e.numbytes>=e.seq.length||c(e.seq,e.i+e.numbytes)<0);)e.numbytes=e.numbytes+1;e.numbytes<=31?(r[t++]=e.numbytes,r[t++]=5,e.tobin(),e.addtomsgbits()):(r[t++]=0,r[t++]=5,e.tobin(),e.addtomsgbits(),r[t++]=e.numbytes-31,r[t++]=11,e.tobin(),e.addtomsgbits());for(var w=0,v=e.numbytes;w<v;w++)r[t++]=c(e.seq,e.i),r[t++]=8,e.tobin(),e.addtomsgbits(),e.i=e.i+1;e.i<e.seq.length&&(e.char=c(e.seq,e.i),e.i=e.i+1,e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M))}e.msgbits=C(e.msgbits,0,e.j)}e.metrics=s([s(["rune",0,0,0,6]),s(["compact",1,1,17,6]),s(["full",1,1,21,6]),s(["compact",2,0,40,6]),s(["full",2,1,48,6]),s(["compact",3,0,51,8]),s(["full",3,1,60,8]),s(["compact",4,0,76,8]),s(["full",4,1,88,8]),s(["full",5,1,120,8]),s(["full",6,1,156,8]),s(["full",7,1,196,8]),s(["full",8,1,240,8]),s(["full",9,1,230,10]),s(["full",10,1,272,10]),s(["full",11,1,316,10]),s(["full",12,1,364,10]),s(["full",13,1,416,10]),s(["full",14,1,470,10]),s(["full",15,1,528,10]),s(["full",16,1,588,10]),s(["full",17,1,652,10]),s(["full",18,1,720,10]),s(["full",19,1,790,10]),s(["full",20,1,864,10]),s(["full",21,1,940,10]),s(["full",22,1,1020,10]),s(["full",23,0,920,12]),s(["full",24,0,992,12]),s(["full",25,0,1066,12]),s(["full",26,0,1144,12]),s(["full",27,0,1224,12]),s(["full",28,0,1306,12]),s(["full",29,0,1392,12]),s(["full",30,0,1480,12]),s(["full",31,0,1570,12]),s(["full",32,0,1664,12])]);for(var A=e.metrics,j=0,E=A.length;j<E&&(e.m=c(A,j),e.frmt=c(e.m,0),e.mlyr=c(e.m,1),e.icap=c(e.m,2),e.ncws=c(e.m,3),e.bpcw=c(e.m,4),e.numecw=~~xr(S(e.ncws*e.eclevel/100+e.ecaddchars)),e.msgbits.length==0&&(e.numecw=0),e.numdcw=S(e.ncws-e.numecw),e.okay=!0,Ie(e.format,e.frmt)&&(e.okay=!1),e.readerinit&&e.icap!=1&&(e.okay=!1),e.layers!=-1&&e.layers!=e.mlyr&&(e.okay=!1),~~xr(e.msgbits.length/e.bpcw)>e.numdcw&&(e.okay=!1),!e.okay);j++);for(e.okay||(r[t++]="bwipp.aztecNoValidSymbol#23967",r[t++]="Maximum length exceeded",z()),e.layers=e.mlyr,e.allzero=function(){var le=r[--t];r[t++]=V(le,C("000000000000",0,le.length))},e.allones=function(){var le=r[--t];r[t++]=V(le,C("111111111111",0,le.length))},e.cws=s(e.ncws),e.m=0,e.c=0;!(e.msgbits.length<=e.m);){if(e.msgbits.length-e.m>=e.bpcw){e.cwb=C(e.msgbits,e.m,e.bpcw-1),e.cwf=C(e.msgbits,S(e.m+e.bpcw)-1,1),r[t++]=e.cwb,e.allzero(),r[--t]&&(e.cwf="1",e.m=e.m-1),r[t++]=e.cwb,e.allones(),r[--t]&&(e.cwf="0",e.m=e.m-1);var k=W(12);R(k,0,e.cwb),R(k,e.bpcw-1,e.cwf),e.cwb=C(k,0,e.bpcw)}else{e.cwb=C(e.msgbits,e.m,e.msgbits.length-e.m);var N=Fr(W(12),"111111111111");R(N,0,e.cwb),e.cwb=C(N,0,e.bpcw),r[t++]=e.cwb,e.allones(),r[--t]&&R(e.cwb,e.cwb.length-1,"0")}e.cw=0;for(var B=0,I=e.bpcw-1;B<=I;B+=1)e.i=B,e.cw=S(e.cw+~~li(2,S(e.bpcw-e.i)-1)*(c(e.cwb,e.i)-48));g(e.cws,e.c,e.cw),e.m=S(e.m+e.bpcw),e.c=e.c+1}e.cws=C(e.cws,0,e.c);var D=c(e.options,"debugcws")!==void 0;if(D&&(r[t++]="bwipp.debugcws#24006",r[t++]=e.cws,z()),e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var le=0,ge=e.rsgf-1;le<ge;le++){var ee=r[t-1],ke=ee*2;if(r[t++]=ke,ke>=e.rsgf){var X=r[--t];r[t++]=fs(X,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var xe=1,me=e.rsgf-1;xe<=me;xe+=1)g(e.rslog,c(e.rsalog,xe),xe);e.rsprod=function(){var ut=r[t-1],xt=r[t-2];if(ut!=0&&xt!=0){var nt=c(e.rslog,r[--t]),Tt=c(e.rsalog,S(nt+c(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=Tt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var ye=0,ne=e.rsnc;ye<ne;ye++)r[t++]=0;e.coeffs=s();for(var we=1,Ee=e.rsnc;we<=Ee;we+=1){e.i=we,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var pe=e.i-1;pe>=1;pe-=1){e.j=pe,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ne=r[--t],Ae=r[--t],Ce=r[--t];g(r[--t],Ce,fs(Ae,Ne))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Qe=r[--t],Pe=r[--t];g(r[--t],Pe,Qe)}e.nd=e.rscws.length,r[t++]=1/0,U(e.rscws);for(var We=0,st=e.rsnc;We<st;We++)r[t++]=0;r[t++]=0,e.rscws=s();for(var at=0,je=e.nd-1;at<=je;at+=1){e.k=fs(c(e.rscws,at),c(e.rscws,e.nd));for(var Ge=0,He=e.rsnc-1;Ge<=He;Ge+=1){e.j=Ge,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=c(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=c(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var Ze=r[--t],ft=r[--t],pt=r[--t];g(r[--t],pt,fs(ft,Ze))}}r[t++]=C(e.rscws,0,e.rscws.length-1)},V(e.format,"full")){e.mode=(e.layers-1<<11)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|1024),e.mode=s([(e.mode&61440)>>>12,(e.mode&3840)>>>8,(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=6,r[t++]=16,r[t++]=19,e.rscodes();var T=r[--t];e[r[--t]]=T}if(V(e.format,"compact")){e.mode=(e.layers-1<<6)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|32),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var M=r[--t];e[r[--t]]=M}if(V(e.format,"rune")){e.mode=De(e.barcode),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var Q=r[--t];e[r[--t]]=Q,r[t++]=1/0;for(var F=e.mode,P=0,L=F.length;P<L;P++)r[t++]=c(F,P)^10;e.mode=s()}e.modebits=W(e.mode.length*4);for(var _=0,H=e.modebits.length-1;_<=H;_+=1)R(e.modebits,_,"0");for(var Y=0,de=e.mode.length-1;Y<=de;Y+=1){e.i=Y;var $=$t(W(4),c(e.mode,e.i),2);R(e.modebits,4-$.length+4*e.i,$)}e.rsparams=s([s([]),s([]),s([]),s([]),s([]),s([]),s([64,67]),s([]),s([256,301]),s([]),s([1024,1033]),s([]),s([4096,4201])]),r[t++]="cws",r[t++]=e.cws,r[t++]=S(e.ncws-e.cws.length),U(c(e.rsparams,e.bpcw)),e.rscodes();var q=r[--t];e[r[--t]]=q,V(e.format,"full")?e.databits=W(S(e.layers*e.layers*16+e.layers*112)):e.databits=W(S(e.layers*e.layers*16+e.layers*88));for(var re=0,ce=e.databits.length-1;re<=ce;re+=1)R(e.databits,re,"0");for(var J=0,oe=e.ncws-1;J<=oe;J+=1){e.i=J;var ue=$t(W(e.bpcw),c(e.cws,e.i),2);R(e.databits,S(e.bpcw-ue.length+e.bpcw*e.i+(e.databits.length-e.ncws*e.bpcw)),ue)}e.cmv=function(){var le=r[--t],ge=r[--t];r[t++]=S(ge-le*e.size+e.mid)},e.lmv=function(){e.lbit=r[--t],e.llyr=r[--t],e.lwid=S(e.fw+e.llyr*4),e.ldir=~~(~~(e.lbit/2)/e.lwid),e.ldir==0&&(r[t++]=S(-~~((e.lwid-1)/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==1&&(r[t++]=S(~~(e.fw/2)+e.llyr*2+e.lbit%2),r[t++]=S(~~((e.lwid-1)/2)-1-~~(e.lbit/2)%e.lwid),e.cmv()),e.ldir==2&&(r[t++]=-S(-~~(e.lwid/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=-S(~~(e.fw/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==3&&(r[t++]=-S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),r[t++]=-S(~~(e.lwid/2)-1-~~(e.lbit/2)%e.lwid),e.cmv())},V(e.format,"full")?e.fw=12:e.fw=9,e.size=S(e.fw+e.layers*4)+2,r[t++]=1/0;for(var he=0,Re=e.size*e.size;he<Re;he++)r[t++]=-1;e.pixs=s(),e.mid=S(~~((e.size-1)/2)*e.size+~~((e.size-1)/2)),e.i=0;for(var te=1,Be=e.layers;te<=Be;te+=1){e.layer=te;for(var Se=0,Oe=(e.fw+e.layer*4)*8-1;Se<=Oe;Se+=1){e.pos=Se,r[t++]=e.pixs,r[t++]=e.layer,r[t++]=e.pos,e.lmv();var Ue=r[--t];g(r[--t],Ue,c(e.databits,e.databits.length-e.i-1)-48),e.i=e.i+1}}if(V(e.format,"full")){e.fw=13,e.size=S(e.fw+e.layers*4+2+~~((e.layers+10.5)/7.5-1)*2),e.mid=~~(e.size*e.size/2),r[t++]=1/0;for(var be=0,$e=e.size*e.size;be<$e;be++)r[t++]=-2;e.npixs=s();for(var Fe=0,Ke=~~(e.size/2);Fe<=Ke;Fe+=16){e.i=Fe;for(var Je=0,rt=e.size-1;Je<=rt;Je+=1){e.j=Je,r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=e.i,e.cmv();var ae=r[--t];R(r[--t],ae,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=-e.i,e.cmv();var fe=r[--t];R(r[--t],fe,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var Me=r[--t];R(r[--t],Me,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var Le=r[--t];R(r[--t],Le,s([(~~(e.size/2)+e.j+e.i+1)%2]))}}e.j=0;for(var Xe=0,ze=e.npixs.length-1;Xe<=ze;Xe+=1)e.i=Xe,c(e.npixs,e.i)==-2&&(g(e.npixs,e.i,c(e.pixs,e.j)),e.j=e.j+1);e.pixs=e.npixs}e.fw=~~(e.fw/2);for(var qe=-e.fw,ht=e.fw;qe<=ht;qe+=1){e.i=qe;for(var vt=-e.fw,dt=e.fw;vt<=dt;vt+=1){e.j=vt,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.cmv(),Ko(e.i)>Ko(e.j)?r[t++]=Ko(e.i):r[t++]=Ko(e.j);var wt=r[--t],Bt=r[--t];g(r[--t],Bt,(wt+1)%2)}}for(var jt=s([s([-(e.fw+1),e.fw,1]),s([-(e.fw+1),e.fw+1,1]),s([-e.fw,e.fw+1,1]),s([e.fw+1,e.fw+1,1]),s([e.fw+1,e.fw,1]),s([e.fw+1,-e.fw,1]),s([e.fw,e.fw+1,0]),s([e.fw+1,-(e.fw+1),0]),s([e.fw,-(e.fw+1),0]),s([-e.fw,-(e.fw+1),0]),s([-(e.fw+1),-(e.fw+1),0]),s([-(e.fw+1),-e.fw,0])]),At=0,_t=jt.length;At<_t;At++){r[t++]=e.pixs,U(c(jt,At)),Na(3,1),e.cmv();var Mt=r[--t],Lt=r[--t];g(r[--t],Mt,Lt)}e.modemapfull=s([s([-5,7]),s([-4,7]),s([-3,7]),s([-2,7]),s([-1,7]),s([1,7]),s([2,7]),s([3,7]),s([4,7]),s([5,7]),s([7,5]),s([7,4]),s([7,3]),s([7,2]),s([7,1]),s([7,-1]),s([7,-2]),s([7,-3]),s([7,-4]),s([7,-5]),s([5,-7]),s([4,-7]),s([3,-7]),s([2,-7]),s([1,-7]),s([-1,-7]),s([-2,-7]),s([-3,-7]),s([-4,-7]),s([-5,-7]),s([-7,-5]),s([-7,-4]),s([-7,-3]),s([-7,-2]),s([-7,-1]),s([-7,1]),s([-7,2]),s([-7,3]),s([-7,4]),s([-7,5])]),e.modemapcompact=s([s([-3,5]),s([-2,5]),s([-1,5]),s([0,5]),s([1,5]),s([2,5]),s([3,5]),s([5,3]),s([5,2]),s([5,1]),s([5,0]),s([5,-1]),s([5,-2]),s([5,-3]),s([3,-5]),s([2,-5]),s([1,-5]),s([0,-5]),s([-1,-5]),s([-2,-5]),s([-3,-5]),s([-5,-3]),s([-5,-2]),s([-5,-1]),s([-5,0]),s([-5,1]),s([-5,2]),s([-5,3])]),r[t++]="modemap",V(e.format,"full")?r[t++]=e.modemapfull:r[t++]=e.modemapcompact;var Dt=r[--t];e[r[--t]]=Dt;for(var kt=0,O=e.modemap.length-1;kt<=O;kt+=1){r[t++]=kt,r[t++]=e.pixs,U(c(e.modemap,kt)),e.cmv();var K=r[--t],G=r[--t];g(G,K,c(e.modebits,r[--t])-48)}var se=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["opt",e.options]]);r[t++]=se,e.dontdraw||mt(),e=a}function vR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","compact"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,_u();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function gR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rune"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,_u();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function bR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.parse=!1,e.parsefnc=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=s(["unset","T-16","T-32","T-48","S-10","S-20","S-30","A","B","C","D","E","F","G","H"]);r[t++]=!1;for(var i=0,o=n.length;i<o;i++){var d=r[--t];r[t++]=d||V(c(n,i),e.version)}r[--t]||(r[t++]="bwipp.codeoneBadVersion#24394",r[t++]="version must be A to H, T-16, T-32, T-48, S-10, S-20 or S-30",z()),e.stype=V(C(e.version,0,1),"S"),e.ttype=V(C(e.version,0,1),"T"),e.stypevals=s(["1","1010","1100100","1111101000","10011100010000","11000011010100000","11110100001001000000","100110001001011010000000","101111101011110000100000000","111011100110101100101000000000","1001010100000010111110010000000000","1011101001000011101101110100000000000","1110100011010100101001010001000000000000","10010001100001001110011100101010000000000000","10110101111001100010000011110100100000000000000","11100011010111111010100100110001101000000000000000","100011100001101111001001101111110000010000000000000000","101100011010001010111100001011101100010100000000000000000"]),e.stypemetrics=s([s(["S-10",8,11,10,4,4,1,99,99,99]),s(["S-20",8,21,20,8,8,1,99,99,99]),s(["S-30",8,31,30,12,12,1,99,99,99])]),e.nonstypemetrics=s([s(["A",16,18,16,10,10,1,4,99,6]),s(["B",22,22,20,19,16,1,4,99,8]),s(["C",28,32,28,44,26,1,4,22,11]),s(["D",40,42,36,91,44,1,4,16,16]),s(["E",52,54,48,182,70,1,4,22,22]),s(["F",70,76,68,370,140,2,4,22,31]),s(["G",104,98,88,732,280,4,6,21,47]),s(["H",148,134,120,1480,560,8,6,20,69]),s(["T-16",16,17,16,10,10,1,99,99,99]),s(["T-32",16,33,32,24,16,1,99,99,99]),s(["T-48",16,49,48,38,22,1,99,99,99])]),e.fnc1=-1,e.fnc3=-2,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lD=-9,e.unl=-10,e.fnc2=-11,e.fnc4=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.fnc1lD=-18,e.unlcw=255,r[t++]=1/0;for(var u=0;u<=128;u+=1)r[t++]=u,r[t++]=u+1;r[t++]=e.pad,r[t++]=129;for(var f=0;f<=99;f+=1){var h=$t(W(2),f,10),p=Fr(W(2),"00");R(p,2-h.length,h),r[t++]=p,r[t++]=f+130}var m=s([e.lC,e.lB,e.fnc1,e.fnc2,e.fnc3,e.fnc4,e.fnc1lD]);r[t++]=229;for(var x=0,b=m.length;x<b;x++){var y=r[--t]+1;r[t++]=c(m,x),r[t++]=y,r[t++]=y}r[t-1]=e.lX,r[t++]=238,r[t++]=e.lT,r[t++]=239,e.Avals=_e(),r[t++]=1/0;for(var w=e.Avals,v=w.size,A=w.keys(),j=0;j<v;j++){var E=A.next().value;r[t++]=E;var k=1/0,N=w.get(E);r[t++]=k,r[t++]=N;var B=s();r[t++]=B}e.Avals=_e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var I=48;I<=57;I+=1)r[t++]=I,r[t++]=I-44;for(var D=65;D<=90;D+=1)r[t++]=D,r[t++]=D-51;e.CNvals=_e(),r[t++]=1/0;for(var T=0;T<=31;T+=1)r[t++]=T,r[t++]=T;e.C1vals=_e(),r[t++]=1/0;for(var M=33;M<=47;M+=1)r[t++]=M,r[t++]=M-33;for(var Q=58;Q<=64;Q+=1)r[t++]=Q,r[t++]=Q-43;for(var F=91;F<=95;F+=1)r[t++]=F,r[t++]=F-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.C2vals=_e(),r[t++]=1/0;for(var P=96;P<=127;P+=1)r[t++]=P,r[t++]=P-96;e.C3vals=_e(),r[t++]=1/0;for(var L=e.CNvals,_=L.size,H=L.keys(),Y=0;Y<_;Y++){var de=H.next().value;r[t++]=de;var $=1/0,q=L.get(de);r[t++]=$,r[t++]=q;var re=s();r[t++]=re}for(var ce=e.C1vals,J=ce.size,oe=ce.keys(),ue=0;ue<J;ue++){var he=oe.next().value;r[t++]=he;var Re=1/0,te=ce.get(he);r[t++]=Re,r[t++]=c(e.CNvals,e.sft1),r[t++]=te;var Be=s();r[t++]=Be}for(var Se=e.C2vals,Oe=Se.size,Ue=Se.keys(),be=0;be<Oe;be++){var $e=Ue.next().value;r[t++]=$e;var Fe=1/0,Ke=Se.get($e);r[t++]=Fe,r[t++]=c(e.CNvals,e.sft2),r[t++]=Ke;var Je=s();r[t++]=Je}for(var rt=e.C3vals,ae=rt.size,fe=rt.keys(),Me=0;Me<ae;Me++){var Le=fe.next().value;r[t++]=Le;var Xe=1/0,ze=rt.get(Le);r[t++]=Xe,r[t++]=c(e.CNvals,e.sft3),r[t++]=ze;var qe=s();r[t++]=qe}e.Cvals=_e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var ht=48;ht<=57;ht+=1)r[t++]=ht,r[t++]=ht-44;for(var vt=97;vt<=122;vt+=1)r[t++]=vt,r[t++]=vt-83;e.TNvals=_e(),r[t++]=1/0;for(var dt=0;dt<=31;dt+=1)r[t++]=dt,r[t++]=dt;e.T1vals=_e(),r[t++]=1/0;for(var wt=33;wt<=47;wt+=1)r[t++]=wt,r[t++]=wt-33;for(var Bt=58;Bt<=64;Bt+=1)r[t++]=Bt,r[t++]=Bt-43;for(var jt=91;jt<=95;jt+=1)r[t++]=jt,r[t++]=jt-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.T2vals=_e(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var At=65;At<=90;At+=1)r[t++]=At,r[t++]=At-64;for(var _t=123;_t<=127;_t+=1)r[t++]=_t,r[t++]=_t-96;e.T3vals=_e(),r[t++]=1/0;for(var Mt=e.TNvals,Lt=Mt.size,Dt=Mt.keys(),kt=0;kt<Lt;kt++){var O=Dt.next().value;r[t++]=O;var K=1/0,G=Mt.get(O);r[t++]=K,r[t++]=G;var se=s();r[t++]=se}for(var le=e.T1vals,ge=le.size,ee=le.keys(),ke=0;ke<ge;ke++){var X=ee.next().value;r[t++]=X;var xe=1/0,me=le.get(X);r[t++]=xe,r[t++]=c(e.TNvals,e.sft1),r[t++]=me;var ye=s();r[t++]=ye}for(var ne=e.T2vals,we=ne.size,Ee=ne.keys(),pe=0;pe<we;pe++){var Ne=Ee.next().value;r[t++]=Ne;var Ae=1/0,Ce=ne.get(Ne);r[t++]=Ae,r[t++]=c(e.TNvals,e.sft2),r[t++]=Ce;var Qe=s();r[t++]=Qe}for(var Pe=e.T3vals,We=Pe.size,st=Pe.keys(),at=0;at<We;at++){var je=st.next().value;r[t++]=je;var Ge=1/0,He=Pe.get(je);r[t++]=Ge,r[t++]=c(e.TNvals,e.sft3),r[t++]=He;var Ze=s();r[t++]=Ze}e.Tvals=_e();for(var ft=128;ft<=255;ft+=1){e.i=ft,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,U(c(e.Avals,e.fnc4)),U(c(e.Avals,e.i-128));var pt=s(),ut=r[--t];g(r[--t],ut,pt),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,U(c(e.Cvals,e.fnc4)),U(c(e.Cvals,e.i-128));var xt=s(),nt=r[--t];g(r[--t],nt,xt),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,U(c(e.Tvals,e.fnc4)),U(c(e.Tvals,e.i-128));var Tt=s(),et=r[--t];g(r[--t],et,Tt)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Qt=48;Qt<=57;Qt+=1)r[t++]=Qt,r[t++]=Qt-44;for(var Ht=65;Ht<=90;Ht+=1)r[t++]=Ht,r[t++]=Ht-51;e.Xvals=_e(),r[t++]=1/0;for(var Ot=e.Xvals,sr=Ot.size,Sr=Ot.keys(),nr=0;nr<sr;nr++){var gr=Sr.next().value;r[t++]=gr;var ar=1/0,Ir=Ot.get(gr);r[t++]=ar,r[t++]=Ir;var Zt=s();r[t++]=Zt}e.Xvals=_e(),r[t++]=1/0;for(var dr=0;dr<=255;dr+=1)r[t++]=dr,r[t++]=dr;e.Bvals=_e(),r[t++]=1/0;for(var Kt=e.Bvals,Jt=Kt.size,ur=Kt.keys(),Tr=0;Tr<Jt;Tr++){var Pr=ur.next().value;r[t++]=Pr;var ua=1/0,Et=Kt.get(Pr);r[t++]=ua,r[t++]=Et;var Gt=s();r[t++]=Gt}if(e.Bvals=_e(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,-1,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.D=4,e.B=5,e.stype){ve(e.barcode,function(){var ct=r[--t];(ct<48||ct>57)&&(r[t++]="bwipp.codeoneStypeNonDigit#24564",r[t++]="S-Type symbols can only contain digits",z())}),e.barlen=e.barcode.length,e.barlen>18&&(r[t++]="bwipp.codeoneStypeTooLong#24570",r[t++]="Maximum length exceeded",z()),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var ct=e.num.length-1;ct>=1;ct-=1){e.i=ct;var qt=e.num,Ur=e.i;g(qt,Ur-1,S(c(qt,Ur-1)+~~(c(e.num,e.i)/e.base))),g(e.num,e.i,c(e.num,e.i)%e.base)}for(;!mn(c(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,U(e.num),e.num=s(),g(e.num,0,S(c(e.num,0)+~~(c(e.num,1)/e.base))),g(e.num,1,c(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var it=e.num,Ft=0,Yt=it.length;Ft<Yt;Ft++){var Wt=c(it,Ft);r[t++]=Wt,Wt==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var ct=r[--t],qt=r[--t];if(e.offset=Ko(ct.length-qt.length),ct.length<qt.length){var Ur=ct;ct=qt,qt=Ur}e.a=ct,e.b=qt;for(var it=0,Ft=e.b.length-1;it<=Ft;it+=1){var Yt=e.a,Wt=e.offset;g(Yt,it+Wt,S(c(Yt,it+Wt)+c(e.b,it)))}r[t++]=e.a},e.barlen=e.barcode.length,e.v=s([1]);for(var tr=0,br=e.barlen-1;tr<=br;tr+=1){e.i=tr,r[t++]=1/0,ve(c(e.stypevals,e.i),function(){var ct=r[--t];r[t++]=(ct-48)*(c(e.barcode,e.barlen-e.i-1)-48)});var ir=s();r[t++]=ir,r[t++]=e.v,e.bigadd(),e.v=r[--t]}r[t++]="v",r[t++]=e.v,r[t++]=2,e.normalize();var Br=r[--t];e[r[--t]]=Br,r[t++]=1/0;for(var or=0,Ut=(5-e.v.length%5)%5;or<Ut;or++)r[t++]=0;U(e.v),e.v=s(),e.cws=s(~~(e.v.length/5));for(var wr=0,ta=e.cws.length-1;wr<=ta;wr+=1){e.i=wr;var fa=C(e.v,e.i*5,5);r[t++]=0;for(var ya=0,Lr=fa.length;ya<Lr;ya++){var Ea=r[--t];r[t++]=S(Ea+c(fa,ya))*2}g(e.cws,e.i,~~(r[--t]/2))}e.metrics=e.stypemetrics}else{var ga=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["FNC3",e.fnc3]]);e.fncvals=ga,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var Ra=r[--t];e[r[--t]]=Ra,e.msglen=e.msg.length,e.eciesc=92;var la=e.msg;r[t++]="numecis",r[t++]=0;for(var Aa=0,Ca=la.length;Aa<Ca;Aa++)if(c(la,Aa)<=-1e6){var ka=r[--t];r[t++]=ka+1}var La=r[--t];if(e[r[--t]]=La,e.numecis>0){e.msgtmp=s(S(e.msg.length*2+e.numecis*6)+2),g(e.msgtmp,0,e.pad),g(e.msgtmp,1,e.eciesc),e.j=2;for(var Qa=0,Va=e.msg.length-1;Qa<=Va;Qa+=1){var ps=c(e.msg,Qa);if(r[t++]=ps,ps<=-1e6){for(var Ia=C($t(W(7),-r[--t],10),1,6),Bs=0,Ha=Ia.length;Bs<Ha;Bs++)r[t++]=c(Ia,Bs);Vt(s(6)),R(e.msgtmp,e.j+1,r[--t]),g(e.msgtmp,e.j,e.eciesc),e.j=e.j+7}else{var zs=r[t-1];zs!=e.eciesc?(g(e.msgtmp,e.j,r[--t]),e.j=e.j+1):(t--,g(e.msgtmp,e.j,e.eciesc),g(e.msgtmp,e.j+1,e.eciesc),e.j=e.j+2)}}e.msg=C(e.msgtmp,0,e.j),e.msglen=e.msg.length}e.metrics=e.nonstypemetrics,e.fullcws=s([]);for(var Ma=e.metrics,ms=0,Ds=Ma.length;ms<Ds;ms++)e.m=c(Ma,ms),e.vers=c(e.m,0),e.dcws=c(e.m,4),e.okay=!0,V(e.version,"unset")?e.vers.length!=1&&(e.okay=!1):Ie(e.version,e.vers)&&(e.okay=!1),e.okay&&(r[t++]=1/0,U(e.fullcws),r[t++]=e.dcws,e.fullcws=s());r[t++]=1/0;for(var Ts=0;Ts<1480;Ts++)r[t++]=1e4;e.numremcws=s();for(var Ka=e.fullcws,Ls=0,Wa=Ka.length;Ls<Wa;Ls++)g(e.numremcws,c(Ka,Ls)-1,1);for(var xs=1478;xs>=0;xs-=1)e.i=xs,c(e.numremcws,e.i)!=1&&g(e.numremcws,e.i,c(e.numremcws,e.i+1)+1);r[t++]=1/0;for(var Fa=0,vn=e.msglen;Fa<vn;Fa++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var $a=0,In=e.msglen;$a<In;$a++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Ba=0,Js=e.msglen;Ba<Js;Ba++)r[t++]=0;r[t++]=9999,e.nextNonX=s();for(var Pa=e.msglen-1;Pa>=0;Pa-=1){e.i=Pa,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.numD,e.i,c(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?g(e.nextXterm,e.i,0):g(e.nextXterm,e.i,c(e.nextXterm,e.i+1)+1);var rn=c(e.Xvals,e.barchar)!==void 0;rn?g(e.nextNonX,e.i,c(e.nextNonX,e.i+1)+1):g(e.nextNonX,e.i,0)}r[t++]=1/0;for(var is=e.nextXterm,Xt=0,Xr=is.length;Xt<Xr;Xt++){var ja=c(is,Xt);r[t++]=ja,ja>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var _a=e.nextNonX,vs=0,Qr=_a.length;vs<Qr;vs++){var os=c(_a,vs);r[t++]=os,os>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var ct=c(e.CNvals,e.char)!==void 0;r[t++]=ct},e.isT=function(){var ct=c(e.TNvals,e.char)!==void 0;r[t++]=ct},e.isX=function(){var ct=c(e.Xvals,e.char)!==void 0;r[t++]=ct},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var ct=r[--t];r[t++]=mn(c(e.nextXterm,ct),c(e.nextNonX,ct))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.bc=3,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.bc=2),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.B&&(e.bc=0);for(var ct=0;ct<1;ct++)for(e.k=0;;){if(e.i+e.k==e.msglen){var qt=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Ur=0,it=qt.length;Ur<it;Ur++){var Ft=r[--t];r[t++]=Ft&&e.bc<=xr(c(qt,Ur))}if(r[--t]){r[t++]=e.B;break}var Yt=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var wa=r[--t];r[t++]=wa&&e.ac<=xr(c(Yt,Wt))}if(r[--t]){r[t++]=e.A;break}var ma=s([e.tc,e.xc]);r[t++]=!0;for(var cs=0,$s=ma.length;cs<$s;cs++){var ln=r[--t];r[t++]=ln&&xr(e.cc)<=xr(c(ma,cs))}if(r[--t]){r[t++]=e.C;break}var cn=s([e.xc]);r[t++]=!0;for(var $n=0,g1=cn.length;$n<g1;$n++){var e1=r[--t];r[t++]=e1&&xr(e.tc)<=xr(c(cn,$n))}if(r[--t]){r[t++]=e.T;break}r[t++]=e.X;break}if(e.char=c(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Fi=r[--t];r[t++]=S(Fi+1/2)}else if(e.isEA(),r[--t]){var b1=r[--t];r[t++]=xr(b1)+2}else{var t1=r[--t];r[t++]=xr(t1)+1}var H1=r[--t];if(e[r[--t]]=H1,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var w1=r[--t];r[t++]=S(w1+.6666667)}else if(e.isEA(),r[--t]){var Nc=r[--t];r[t++]=S(Nc+2.6666667)}else{var Sc=r[--t];r[t++]=S(Sc+1.3333334)}var ml=r[--t];if(e[r[--t]]=ml,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var Co=r[--t];r[t++]=S(Co+.6666667)}else if(e.isEA(),r[--t]){var Ec=r[--t];r[t++]=S(Ec+2.6666667)}else{var Cc=r[--t];r[t++]=S(Cc+1.3333334)}var Ic=r[--t];if(e[r[--t]]=Ic,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var Bc=r[--t];r[t++]=S(Bc+.6666667)}else if(e.isEA(),r[--t]){var Dc=r[--t];r[t++]=S(Dc+4.3333334)}else{var Tc=r[--t];r[t++]=S(Tc+3.3333334)}var Rc=r[--t];if(e[r[--t]]=Rc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var Mc=r[--t];r[t++]=Mc+3}else{var Fc=r[--t];r[t++]=Fc+1}var Pc=r[--t];if(e[r[--t]]=Pc,e.k>=3){var xl=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Io=0,_c=xl.length;Io<_c;Io++){var Oc=r[--t];r[t++]=Oc&&e.bc+1<=xr(c(xl,Io))}if(r[--t]){r[t++]=e.B;break}var vl=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Bo=0,Uc=vl.length;Bo<Uc;Bo++){var zc=r[--t];r[t++]=zc&&e.ac+1<=xr(c(vl,Bo))}if(r[--t]){r[t++]=e.A;break}var gl=s([e.ac,e.cc,e.xc,e.bc]);r[t++]=!0;for(var Do=0,Lc=gl.length;Do<Lc;Do++){var Qc=r[--t];r[t++]=Qc&&xr(e.tc)+1<=xr(c(gl,Do))}if(r[--t]){r[t++]=e.T;break}var bl=s([e.ac,e.tc]);r[t++]=!0;for(var To=0,Hc=bl.length;To<Hc;To++){var wl=r[--t];r[t++]=wl&&xr(e.cc)+1<=xr(c(bl,To))}if(r[--t]){if(xr(e.cc)<xr(e.xc)){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}var $1=s([e.ac,e.cc,e.tc,e.bc]);r[t++]=!0;for(var Ro=0,$c=$1.length;Ro<$c;Ro++){var qn=r[--t];r[t++]=qn&&xr(e.xc)+1<=xr(c($1,Ro))}if(r[--t]){r[t++]=e.X;break}}e.k=e.k+1}},e.addtocws=function(){var ct=r[t-1];ct.length+e.j>1480&&(t--,r[t++]="bwipp.codeoneTooLong#24766",r[t++]="Maximum length exceeded",z());var qt=r[--t];R(e.cws,e.j,qt),e.j=qt.length+e.j},e.tobin=function(){var ct=W(r[--t]);r[t++]=ct;for(var qt=0,Ur=ct.length-1;qt<=Ur;qt+=1){var it=r[t-1];g(it,qt,48)}var Ft=r[t-1];r[t++]=Ft;var Yt=r[t-3],Wt=r[t-1];r[t-3]=r[t-2],t-=2;var Wr=$t(W(Wt.length),Yt,2);R(Wt,Wt.length-Wr.length,Wr),r[t++]=1/0;var wa=r[--t],ma=r[--t];r[t++]=wa,ve(ma,function(){var $s=r[--t];r[t++]=$s-48});var cs=s();r[t++]=cs},e.encA=function(){for(var ct=0;ct<1;ct++){if(c(e.numD,e.i)>=21){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}var qt=c(e.numD,e.i);if(qt>=13&&S(qt+e.i)==e.msglen){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}if(c(e.numD,e.i)>=2){var Ur=W(2);g(Ur,0,c(e.msg,e.i)),g(Ur,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Ur),e.addtocws(),e.i=e.i+2;break}if(c(e.msg,e.i)==e.fnc1){if(c(e.numD,e.i+1)>=15){r[t++]=c(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}var it=c(e.numD,e.i+1);if(it>=7&&S(it+e.i)+1==e.msglen){r[t++]=c(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}}r[t++]="newmode",e.lookup();var Ft=r[--t];if(e[r[--t]]=Ft,e.newmode!=e.mode){r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lD,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var ct=0,qt=e.in.length-1;ct<=qt;ct+=3){var Ur=C(e.in,ct,3);r[t++]=0;for(var it=0,Ft=Ur.length;it<Ft;it++){var Yt=r[--t];r[t++]=S(Yt+c(Ur,it))*40}var Wt=~~(r[--t]/40)+1;r[t++]=~~(Wt/256),r[t++]=Wt%256}Vt(s(xa()));var Wr=r[--t];r[t-1]=Wr},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2220);e.i!=e.msglen;){if(e.p%3==0){if(c(e.numD,e.i)>=12){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}var ct=c(e.numD,e.i);if(ct>=8&&S(ct+e.i)==e.msglen){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.mode==e.X){var qt=c(e.Xvals,c(e.msg,e.i))!==void 0;if(!qt){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),(c(e.numremcws,e.j)!=1||c(e.msg,e.i)>127)&&(r[t++]=s([e.unlcw]),e.addtocws()),e.mode=e.A;break}if(e.i+1<e.msglen){var Ur=c(e.Xvals,c(e.msg,e.i+1))!==void 0;if(!Ur)break;if(e.i+2<e.msglen){var it=c(e.Xvals,c(e.msg,e.i+2))!==void 0;if(!it)break}}}else if(e.lookup(),r[--t]!=e.mode){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.msglen-e.i<=3){e.remcws=c(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Ft=C(e.msg,e.i,e.msglen-e.i),Yt=0,Wt=Ft.length;Yt<Wt;Yt++){var Wr=c(Ft,Yt),wa=c(c(e.encvals,e.mode),Wr)!==void 0;r[t++]=Wr,wa?U(c(c(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,U(C(e.ctxvals,0,e.p)),U(e.remvals);var ma=s();r[t++]=ma,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,U(C(e.ctxvals,0,e.p)),U(e.remvals),U(c(c(e.encvals,e.mode),e.sft1));var cs=s();r[t++]=cs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}}var $s=c(c(e.encvals,e.mode),c(e.msg,e.i));R(e.ctxvals,e.p,$s),e.p=$s.length+e.p,e.i=e.i+1}if(e.mode!=e.A){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-c(c(e.encvals,e.mode),c(e.msg,e.i)).length;r[t++]=1/0,U(C(e.ctxvals,0,e.p));var ln=s();if(r[t++]=ln,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen)if(c(e.numD,e.i)>=2){var cn=W(2);g(cn,0,c(e.msg,e.i)),g(cn,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,cn),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encD=function(){for(;;){if(c(e.numD,e.i)<3){if(e.Drem=(8-e.Dbits.length%8)%8,e.remcws=c(e.numremcws,e.j+~~(e.Dbits.length/8)),(c(e.numremcws,e.j+~~(e.Dbits.length/8)-1)-1==0&&e.Drem==0||e.remcws==1&&e.Drem!=0)&&e.i==e.msglen){(e.Drem==4||e.Drem==6)&&(r[t++]=1/0,U(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),(e.Drem==2||e.Drem==6)&&(r[t++]=1/0,U(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s());break}if((e.i==e.msglen-1&&c(e.numD,e.i)==1||e.i==e.msglen-2&&c(e.numD,e.i)==2)&&e.remcws==1&&e.Drem==0)break;e.i==e.msglen-1&&c(e.numD,e.i)==1&&e.remcws==1&&(e.Drem==4||e.Drem==6)||(r[t++]=1/0,U(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s(),e.Drem=(8-e.Dbits.length%8)%8),(e.Drem==4||e.Drem==6)&&(c(e.numD,e.i)>=1?(r[t++]=1/0,U(e.Dbits),r[t++]=c(e.msg,e.i)-48+1,r[t++]=4,e.tobin(),U(r[--t]),e.Dbits=s(),e.i=e.i+1):(r[t++]=1/0,U(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),e.Drem=e.Drem-4),e.Drem==2&&(r[t++]=1/0,U(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s(),e.Drem=0);break}r[t++]=1/0,U(e.Dbits);var ct=C(e.msg,e.i,3);r[t++]=0;for(var qt=0,Ur=ct.length;qt<Ur;qt++){var it=r[--t];r[t++]=S(it+(c(ct,qt)-48))*10}var Ft=r[--t];r[t++]=~~(Ft/10)+1,r[t++]=10,e.tobin(),U(r[--t]),e.Dbits=s(),e.i=e.i+3}r[t++]=1/0;for(var Yt=0,Wt=e.Dbits.length-1;Yt<=Wt;Yt+=8){var Wr=C(e.Dbits,Yt,8);r[t++]=0;for(var wa=0,ma=Wr.length;wa<ma;wa++){var cs=r[--t];r[t++]=S(cs+c(Wr,wa))*2}var $s=r[--t];r[t++]=~~($s/2)}Vt(s(xa()));var ln=r[--t];r[t-1]=ln,e.addtocws(),e.mode=e.A},e.encB=function(){for(e.p=0,e.bvals=s(1480);!(e.i==e.msglen||c(e.msg,e.i)<0||(e.lookup(),r[--t]!=e.mode));)g(e.bvals,e.p,c(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=c(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),U(C(e.bvals,0,e.p)),e.bvals=s(),r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1480),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[c(s(["encA","encCTX","encCTX","encCTX","encD","encB"]),e.mode)]()===!0););e.cws=C(e.cws,0,e.j)}for(var gs=e.metrics,Oa=0,Bn=gs.length;Oa<Bn&&(e.m=c(gs,Oa),e.vers=c(e.m,0),e.rows=c(e.m,1),e.cols=c(e.m,2),e.dcol=c(e.m,3),e.dcws=c(e.m,4),e.rscw=c(e.m,5),e.rsbl=c(e.m,6),e.riso=c(e.m,7),e.risi=c(e.m,8),e.risl=c(e.m,9),e.dcpb=~~(e.dcws/e.rsbl),e.ecpb=~~(e.rscw/e.rsbl),e.okay=!0,Ie(e.version,"unset")&&Ie(e.version,e.vers)&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Oa++);if(e.okay||(r[t++]="bwipp.codeoneNoValidSymbol#25082",r[t++]="Maximum length exceeded",z()),e.stype){r[t++]=1/0;for(var Qs=0,Ta=S(e.dcws-e.cws.length);Qs<Ta;Qs++)r[t++]=0;U(e.cws),e.cws=s()}else{r[t++]=1/0,U(e.cws);for(var Da=0,ui=S(e.dcws-e.cws.length);Da<ui;Da++)r[t++]=129;e.cws=s()}var Dn=c(e.options,"debugcws")!==void 0;Dn&&(r[t++]="bwipp.debugcws#25092",r[t++]=e.cws,z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Ja=0,Tn=e.rsbl-1;Ja<=Tn;Ja+=1){e.i=Ja,e.cwb=s(e.dcpb);for(var bs=0,an=e.dcpb-1;bs<=an;bs+=1)e.j=bs,g(e.cwb,e.j,c(e.cws,S(e.j*e.rsbl+e.i)));g(e.cwbs,e.i,e.cwb)}var sn=e.stype?32:256;e.gf=sn,e["gf-1"]=e.gf-1;var Xn=e.stype?37:301;e.pm=Xn,r[t++]=1/0,r[t++]=1;for(var yt=0,Yr=e["gf-1"];yt<Yr;yt++){var ra=r[t-1],Ua=ra*2;if(r[t++]=Ua,Ua>=e.gf){var ca=r[--t];r[t++]=ca^e.pm}}e.rsalog=s(),e.rslog=s(e.gf);for(var Xa=1,ws=e["gf-1"];Xa<=ws;Xa+=1)g(e.rslog,c(e.rsalog,Xa),Xa);e.rsprod=function(){var ct=r[t-1],qt=r[t-2];if(ct!=0&&qt!=0){var Ur=c(e.rslog,r[--t]),it=c(e.rsalog,S(Ur+c(e.rslog,r[--t]))%e["gf-1"]);r[t++]=it}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var gn=0,lt=e.ecpb;gn<lt;gn++)r[t++]=0;e.coeffs=s();for(var Nt=0,hr=e.ecpb-1;Nt<=hr;Nt+=1){e.i=Nt,g(e.coeffs,e.i+1,c(e.coeffs,e.i));for(var lr=e.i;lr>=1;lr-=1){e.j=lr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var fr=r[--t],Rr=r[--t],cr=r[--t];g(r[--t],cr,fs(Rr,fr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var aa=r[--t],Hr=r[--t];g(r[--t],Hr,aa)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var $r=0,qr=e.cwbs.length-1;$r<=qr;$r+=1){e.i=$r,r[t++]=1/0,U(c(e.cwbs,e.i));for(var Vr=0,ha=e.ecpb;Vr<ha;Vr++)r[t++]=0;e.rscws=s();for(var Zr=0,Gr=e.dcpb-1;Zr<=Gr;Zr+=1){e.m=Zr,e.k=c(e.rscws,e.m);for(var sa=0,Mr=e.ecpb-1;sa<=Mr;sa+=1){e.j=sa,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=c(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var _r=r[--t],za=r[--t];g(r[--t],za,fs(_r,c(e.rscws,e.m+e.j+1)))}}g(e.ecbs,e.i,C(e.rscws,e.dcpb,e.ecpb))}r[t++]=1/0,U(e.cws);for(var ba=0,ls=e.rscw;ba<ls;ba++)r[t++]=0;e.cws=s();for(var Ss=0,nn=e.rscw-1;Ss<=nn;Ss+=1)e.i=Ss,g(e.cws,S(e.dcws+e.i),c(c(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));var Rs=e.stype?5:8;e.mmat=s(S(e.dcws+e.rscw)*Rs),e.r=0,e.c=0;for(var rr=e.stype?2:1,yr=0,Nr=rr,ea=e.cws.length-1;Nr<0?yr>=ea:yr<=ea;yr+=Nr){if(e.i=yr,e.stype){var Hs=Fr(W(5),"00000"),bn=$t(W(5),c(e.cws,e.i),2);R(Hs,5-bn.length,bn);var Rn=1/0,zn=Hs;r[t++]=Rn,ve(zn,function(){var ct=r[--t];r[t++]=ct-48}),e.c1=s();var Ln=Fr(W(5),"00000"),wn=$t(W(5),c(e.cws,e.i+1),2);R(Ln,5-wn.length,wn);var fi=1/0,Qn=Ln;r[t++]=fi,ve(Qn,function(){var ct=r[--t];r[t++]=ct-48}),e.c2=s(),r[t++]=1/0,U(C(e.c1,0,3)),U(C(e.c2,0,2)),e.top=s(),r[t++]=1/0,U(C(e.c1,3,2)),U(C(e.c2,2,3)),e.bot=s()}else{var Or=Fr(W(8),"00000000"),na=$t(W(8),c(e.cws,e.i),2);R(Or,8-na.length,na);var Kr=1/0,Za=Or;r[t++]=Kr,ve(Za,function(){var ct=r[--t];r[t++]=ct-48});var es=s();e.top=C(es,0,4),e.bot=C(es,4,4)}R(e.mmat,S(e.r*e.dcol+e.c),e.top),R(e.mmat,S((e.r+1)*e.dcol+e.c),e.bot),e.c=e.c+e.top.length,e.c==e.dcol&&(e.c=0,e.r=e.r+2)}e.mmv=function(){var ct=r[--t],qt=r[--t];r[t++]=S(qt+ct*e.cols)},r[t++]=1/0;for(var hi=0,Ji=e.rows*e.cols;hi<Ji;hi++)r[t++]=-1;e.pixs=s();var pi=s([function(){for(var ct=0,qt=e.cols;ct<qt;ct++)r[t++]=0},function(){for(var ct=0,qt=e.cols;ct<qt;ct++)r[t++]=1},function(){r[t++]=0;for(var ct=0,qt=e.cols-2;ct<qt;ct++)r[t++]=1;r[t++]=0},function(){r[t++]=0,r[t++]=1;for(var ct=0,qt=e.cols-4;ct<qt;ct++)r[t++]=0;r[t++]=1,r[t++]=0},function(){for(var ct=0,qt=~~((e.cols-1)/2);ct<qt;ct++)r[t++]=-1;r[t++]=1;for(var Ur=0,it=~~((e.cols-1)/2);Ur<it;Ur++)r[t++]=-1},function(){for(var ct=0,qt=~~((e.cols-1)/2);ct<qt;ct++)r[t++]=-1;r[t++]=0;for(var Ur=0,it=~~((e.cols-1)/2);Ur<it;Ur++)r[t++]=-1},function(){r[t++]=1;for(var ct=0,qt=e.cols-2;ct<qt;ct++)r[t++]=0;r[t++]=1},function(){r[t++]=1,r[t++]=0;for(var ct=0,qt=e.cols-4;ct<qt;ct++)r[t++]=1;r[t++]=0,r[t++]=1}]);e.artifact=pi;var Xi=new Map([["A","121343"],["B","12134343"],["C","12121343"],["D","1213434343"],["E","1212134343"],["F","1212121343"],["G","121213434343"],["H","121212134343"],["S","56661278"],["T","5666666666127878"]]);e.cpatmap=Xi,e.cpat=c(e.cpatmap,C(e.vers,0,1)),r[t++]=e.pixs,r[t++]=0,r[t++]=~~(S(e.rows-e.cpat.length)/2),e.mmv(),r[t++]=1/0,ve(e.cpat,function(){if(c(e.artifact,r[--t]-49)()===!0)return!0});var Zi=s(),Ye=r[--t];R(r[--t],Ye,Zi);for(var gt=0,pr=e.risl-1;gt<=pr;gt+=1){e.i=gt;for(var kr=e.riso,pa=e.risi,ts=e.cols-1;pa<0?kr>=ts:kr<=ts;kr+=pa){e.j=kr;var rs=e.i%12==0?1:0,Es=s([1,rs]);r[t++]=Es,r[t++]=Es,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.mmv();var on=r[t-3],yn=r[t-1];if(R(r[t-2],yn,on),t-=3,e.i!=e.risl-1){r[t++]=e.pixs,r[t++]=S(e.cols-e.j)-2,r[t++]=S(e.rows-e.i)-1,e.mmv();var Ti=r[t-3],Ri=r[t-1];R(r[t-2],Ri,Ti),t-=3}else t--}}var Hn=new Map([["A",s([s([12,5])])],["B",s([s([16,7])])],["C",s([s([26,12])])],["D",s([])],["E",s([s([26,23])])],["F",s([s([26,32]),s([70,32]),s([26,34]),s([70,34])])],["G",s([s([27,48]),s([69,48])])],["H",s([s([26,70]),s([66,70]),s([106,70]),s([26,72]),s([66,72]),s([106,72])])],["S-10",s([])],["S-20",s([s([10,4])])],["S-30",s([s([15,4]),s([15,6])])],["T-16",s([s([8,10])])],["T-32",s([s([16,10]),s([16,12])])],["T-48",s([s([24,10]),s([24,12]),s([24,14])])]]);e.blackdotmap=Hn,ve(c(e.blackdotmap,e.vers),function(){var ct=r[--t];r[t++]=e.pixs,U(ct),e.mmv();var qt=r[--t];g(r[--t],qt,1)}),e.j=0;for(var Mi=0,Eo=e.pixs.length-1;Mi<=Eo;Mi+=1)e.i=Mi,c(e.pixs,e.i)==-1&&(g(e.pixs,e.i,c(e.mmat,e.j)),e.j=e.j+1);r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows/72*2,r[t++]="width",r[t++]=e.cols/72*2,(e.stype||e.ttype)&&(r[t++]="borderleft",r[t++]=1,r[t++]="borderright",r[t++]=1,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=1),r[t++]="opt",r[t++]=e.options;var Q1=_e();r[t++]=Q1,e.dontdraw||mt(),e=a}function wR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.eclevel="L2",e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hanxinEmptyData#25328",r[t++]="The data must not be empty",z()),Ie(e.version,"unset")){var n=e.version.length,i=n>=1&&n<=2;if(r[t++]=i,i){t--;var o=e.version;r[t++]=!0;for(var d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t-1]=!1)}var h=r[t-1];if(h){t--;var p=De(e.version);r[t++]=p>=1&&p<=84}}r[--t]||(r[t++]="bwipp.hanxinInvalidVersion#25339",r[t++]="Valid versions are 1 to 84",z())}var m=e.eclevel.length==2;if(r[t++]=m,m){t--;var x=V(C(e.eclevel,0,1),"L");if(r[t++]=x,x){t--;var b=c(e.eclevel,1)-48;r[t++]=b>=1&&b<=4}}r[--t]||(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25349",r[t++]="Valid error correction levels are L1 to L4",z()),e.mask!=-1&&(e.mask<1||e.mask>4)&&(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25354",r[t++]="The valid masks are 1 to 4",z());var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,e.tobin=function(){var Et=W(r[--t]);r[t++]=Et;for(var Gt=0,tr=Et.length-1;Gt<=tr;Gt+=1){var br=r[t-1];g(br,Gt,48)}var ir=r[t-1];r[t++]=ir;var Br=r[t-3],or=r[t-1];r[t-3]=r[t-2],t-=2;var Ut=$t(W(or.length),Br,2);R(or,or.length-Ut.length,Ut)},e.bits=W(17+e.msglen*8),R(e.bits,0,"0011"),r[t++]=e.bits,r[t++]=4,r[t++]=e.msglen,r[t++]=13,e.tobin();var v=r[--t],A=r[--t];R(r[--t],A,v);for(var j=0,E=e.msglen-1;j<=E;j+=1){e.i=j,r[t++]=e.bits,r[t++]=17+e.i*8,r[t++]=c(e.msg,e.i),r[t++]=8,e.tobin();var k=r[--t],N=r[--t];R(r[--t],N,k)}e.metrics=s([s(["1",23,-1,0,205,s([1,21,4]),s([0,-1,-1]),s([0,-1,-1]),s([1,17,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,13,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,9,16]),s([0,-1,-1]),s([0,-1,-1])]),s(["2",25,-1,0,301,s([1,31,6]),s([0,-1,-1]),s([0,-1,-1]),s([1,25,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,19,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,15,22]),s([0,-1,-1]),s([0,-1,-1])]),s(["3",27,-1,0,405,s([1,42,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,34,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["4",29,14,1,439,s([1,46,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,38,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,30,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,22,32]),s([0,-1,-1]),s([0,-1,-1])]),s(["5",31,16,1,555,s([1,57,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,49,20]),s([0,-1,-1]),s([0,-1,-1]),s([1,37,32]),s([0,-1,-1]),s([0,-1,-1]),s([1,14,20]),s([1,13,22]),s([0,-1,-1])]),s(["6",33,16,1,675,s([1,70,14]),s([0,-1,-1]),s([0,-1,-1]),s([1,58,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,24,20]),s([1,22,18]),s([0,-1,-1]),s([1,16,24]),s([1,18,26]),s([0,-1,-1])]),s(["7",35,17,1,805,s([1,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,22]),s([1,28,24]),s([0,-1,-1]),s([2,14,20]),s([1,12,20]),s([0,-1,-1])]),s(["8",37,18,1,943,s([1,99,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,40,18]),s([1,41,18]),s([0,-1,-1]),s([1,31,26]),s([1,32,28]),s([0,-1,-1]),s([2,16,24]),s([1,15,22]),s([0,-1,-1])]),s(["9",39,19,1,1089,s([1,114,22]),s([0,-1,-1]),s([0,-1,-1]),s([2,48,20]),s([0,-1,-1]),s([0,-1,-1]),s([2,24,20]),s([1,26,22]),s([0,-1,-1]),s([2,18,28]),s([1,18,26]),s([0,-1,-1])]),s(["10",41,20,1,1243,s([1,131,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,52,22]),s([1,57,24]),s([0,-1,-1]),s([2,27,24]),s([1,29,24]),s([0,-1,-1]),s([2,21,32]),s([1,19,30]),s([0,-1,-1])]),s(["11",43,14,2,1289,s([1,135,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,56,24]),s([1,57,24]),s([0,-1,-1]),s([2,28,24]),s([1,31,26]),s([0,-1,-1]),s([2,22,32]),s([1,21,32]),s([0,-1,-1])]),s(["12",45,15,2,1455,s([1,153,28]),s([0,-1,-1]),s([0,-1,-1]),s([1,62,26]),s([1,65,28]),s([0,-1,-1]),s([2,32,28]),s([1,33,28]),s([0,-1,-1]),s([3,17,26]),s([1,22,30]),s([0,-1,-1])]),s(["13",47,16,2,1629,s([1,86,16]),s([1,85,16]),s([0,-1,-1]),s([1,71,30]),s([1,72,30]),s([0,-1,-1]),s([2,37,32]),s([1,35,30]),s([0,-1,-1]),s([3,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["14",49,16,2,1805,s([1,94,18]),s([1,95,18]),s([0,-1,-1]),s([2,51,22]),s([1,55,24]),s([0,-1,-1]),s([3,30,26]),s([1,31,26]),s([0,-1,-1]),s([4,18,28]),s([1,17,24]),s([0,-1,-1])]),s(["15",51,17,2,1995,s([1,104,20]),s([1,105,20]),s([0,-1,-1]),s([2,57,24]),s([1,61,26]),s([0,-1,-1]),s([3,33,28]),s([1,36,30]),s([0,-1,-1]),s([4,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["16",53,17,2,2187,s([1,115,22]),s([1,114,22]),s([0,-1,-1]),s([2,65,28]),s([1,61,26]),s([0,-1,-1]),s([3,38,32]),s([1,33,30]),s([0,-1,-1]),s([5,19,28]),s([1,14,24]),s([0,-1,-1])]),s(["17",55,18,2,2393,s([1,126,24]),s([1,125,24]),s([0,-1,-1]),s([2,70,30]),s([1,69,30]),s([0,-1,-1]),s([4,33,28]),s([1,29,26]),s([0,-1,-1]),s([5,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["18",57,19,2,2607,s([1,136,26]),s([1,137,26]),s([0,-1,-1]),s([3,56,24]),s([1,59,26]),s([0,-1,-1]),s([5,35,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,18,28]),s([1,21,28]),s([0,-1,-1])]),s(["19",59,20,2,2829,s([1,148,28]),s([1,149,28]),s([0,-1,-1]),s([3,61,26]),s([1,64,28]),s([0,-1,-1]),s([7,24,20]),s([1,23,22]),s([0,-1,-1]),s([6,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["20",61,20,2,3053,s([3,107,20]),s([0,-1,-1]),s([0,-1,-1]),s([3,65,28]),s([1,72,30]),s([0,-1,-1]),s([7,26,22]),s([1,23,22]),s([0,-1,-1]),s([7,19,28]),s([1,20,32]),s([0,-1,-1])]),s(["21",63,21,2,3291,s([3,115,22]),s([0,-1,-1]),s([0,-1,-1]),s([4,56,24]),s([1,63,28]),s([0,-1,-1]),s([7,28,24]),s([1,25,22]),s([0,-1,-1]),s([8,18,28]),s([1,21,22]),s([0,-1,-1])]),s(["22",65,16,3,3383,s([2,116,22]),s([1,122,24]),s([0,-1,-1]),s([4,56,24]),s([1,72,30]),s([0,-1,-1]),s([7,28,24]),s([1,32,26]),s([0,-1,-1]),s([8,18,28]),s([1,24,30]),s([0,-1,-1])]),s(["23",67,17,3,3631,s([3,127,24]),s([0,-1,-1]),s([0,-1,-1]),s([5,51,22]),s([1,62,26]),s([0,-1,-1]),s([7,30,26]),s([1,35,26]),s([0,-1,-1]),s([8,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["24",69,17,3,3887,s([2,135,26]),s([1,137,26]),s([0,-1,-1]),s([5,56,24]),s([1,59,26]),s([0,-1,-1]),s([7,33,28]),s([1,30,28]),s([0,-1,-1]),s([11,16,24]),s([1,19,26]),s([0,-1,-1])]),s(["25",71,18,3,4151,s([3,105,20]),s([1,121,22]),s([0,-1,-1]),s([5,61,26]),s([1,57,26]),s([0,-1,-1]),s([9,28,24]),s([1,28,22]),s([0,-1,-1]),s([10,19,28]),s([1,18,30]),s([0,-1,-1])]),s(["26",73,18,3,4423,s([2,157,30]),s([1,150,28]),s([0,-1,-1]),s([5,65,28]),s([1,61,26]),s([0,-1,-1]),s([8,33,28]),s([1,34,30]),s([0,-1,-1]),s([10,19,28]),s([2,15,26]),s([0,-1,-1])]),s(["27",75,19,3,4703,s([3,126,24]),s([1,115,22]),s([0,-1,-1]),s([7,51,22]),s([1,54,22]),s([0,-1,-1]),s([8,35,30]),s([1,37,30]),s([0,-1,-1]),s([15,15,22]),s([1,10,22]),s([0,-1,-1])]),s(["28",77,19,3,4991,s([4,105,20]),s([1,103,20]),s([0,-1,-1]),s([7,56,24]),s([1,45,18]),s([0,-1,-1]),s([10,31,26]),s([1,27,26]),s([0,-1,-1]),s([10,17,26]),s([3,20,28]),s([1,21,28])]),s(["29",79,20,3,5287,s([3,139,26]),s([1,137,28]),s([0,-1,-1]),s([6,66,28]),s([1,66,30]),s([0,-1,-1]),s([9,36,30]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["30",81,20,3,5591,s([6,84,16]),s([1,82,16]),s([0,-1,-1]),s([6,70,30]),s([1,68,30]),s([0,-1,-1]),s([7,35,30]),s([3,33,28]),s([1,32,28]),s([13,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["31",83,21,3,5903,s([5,105,20]),s([1,94,18]),s([0,-1,-1]),s([6,74,32]),s([1,71,30]),s([0,-1,-1]),s([11,33,28]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["32",85,17,4,6033,s([4,127,24]),s([1,126,24]),s([0,-1,-1]),s([7,66,28]),s([1,66,30]),s([0,-1,-1]),s([12,30,24]),s([1,24,28]),s([1,24,30]),s([15,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["33",87,17,4,6353,s([7,84,16]),s([1,78,16]),s([0,-1,-1]),s([7,70,30]),s([1,66,28]),s([0,-1,-1]),s([12,33,28]),s([1,32,30]),s([0,-1,-1]),s([14,21,32]),s([1,24,28]),s([0,-1,-1])]),s(["34",89,18,4,6689,s([5,117,22]),s([1,117,24]),s([0,-1,-1]),s([8,66,28]),s([1,58,26]),s([0,-1,-1]),s([11,38,32]),s([1,34,32]),s([0,-1,-1]),s([15,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["35",91,18,4,7025,s([4,148,28]),s([1,146,28]),s([0,-1,-1]),s([8,68,30]),s([1,70,24]),s([0,-1,-1]),s([10,36,32]),s([3,38,28]),s([0,-1,-1]),s([16,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["36",93,19,4,7377,s([4,126,24]),s([2,135,26]),s([0,-1,-1]),s([8,70,28]),s([2,43,26]),s([0,-1,-1]),s([13,32,28]),s([2,41,30]),s([0,-1,-1]),s([17,19,28]),s([3,15,26]),s([0,-1,-1])]),s(["37",95,19,4,7729,s([5,136,26]),s([1,132,24]),s([0,-1,-1]),s([5,67,30]),s([4,68,28]),s([1,69,28]),s([14,35,30]),s([1,32,24]),s([0,-1,-1]),s([18,18,26]),s([3,16,28]),s([1,14,28])]),s(["38",97,19,4,8089,s([3,142,26]),s([3,141,28]),s([0,-1,-1]),s([8,70,30]),s([1,73,32]),s([1,74,32]),s([12,34,30]),s([3,34,26]),s([1,35,28]),s([18,21,32]),s([1,27,30]),s([0,-1,-1])]),s(["39",99,20,4,8465,s([5,116,22]),s([2,103,20]),s([1,102,20]),s([9,74,32]),s([1,74,30]),s([0,-1,-1]),s([14,34,28]),s([2,32,32]),s([1,32,30]),s([19,21,32]),s([1,25,26]),s([0,-1,-1])]),s(["40",101,20,4,8841,s([7,116,22]),s([1,117,22]),s([0,-1,-1]),s([11,65,28]),s([1,58,24]),s([0,-1,-1]),s([15,38,32]),s([1,27,28]),s([0,-1,-1]),s([20,20,30]),s([1,20,32]),s([1,21,32])]),s(["41",103,17,5,9009,s([6,136,26]),s([1,130,24]),s([0,-1,-1]),s([11,66,28]),s([1,62,30]),s([0,-1,-1]),s([14,34,28]),s([3,34,32]),s([1,30,30]),s([18,20,30]),s([3,20,28]),s([2,15,26])]),s(["42",105,17,5,9401,s([5,105,20]),s([2,115,22]),s([2,116,22]),s([10,75,32]),s([1,73,32]),s([0,-1,-1]),s([16,38,32]),s([1,27,28]),s([0,-1,-1]),s([22,19,28]),s([2,16,30]),s([1,19,30])]),s(["43",107,18,5,9799,s([6,147,28]),s([1,146,28]),s([0,-1,-1]),s([11,66,28]),s([2,65,30]),s([0,-1,-1]),s([18,33,28]),s([2,33,30]),s([0,-1,-1]),s([22,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["44",109,18,5,10207,s([6,116,22]),s([3,125,24]),s([0,-1,-1]),s([11,75,32]),s([1,68,30]),s([0,-1,-1]),s([13,35,28]),s([6,34,32]),s([1,30,30]),s([23,21,32]),s([1,26,30]),s([0,-1,-1])]),s(["45",111,18,5,10623,s([7,105,20]),s([4,95,18]),s([0,-1,-1]),s([12,67,28]),s([1,63,30]),s([1,62,32]),s([21,31,26]),s([2,33,32]),s([0,-1,-1]),s([23,21,32]),s([2,24,30]),s([0,-1,-1])]),s(["46",113,19,5,11045,s([10,116,22]),s([0,-1,-1]),s([0,-1,-1]),s([12,74,32]),s([1,78,30]),s([0,-1,-1]),s([18,37,32]),s([1,39,30]),s([1,41,28]),s([25,21,32]),s([1,27,28]),s([0,-1,-1])]),s(["47",115,19,5,11477,s([5,126,24]),s([4,115,22]),s([1,114,22]),s([12,67,28]),s([2,66,32]),s([1,68,30]),s([21,35,30]),s([1,39,30]),s([0,-1,-1]),s([26,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["48",117,19,5,11917,s([9,126,24]),s([1,117,22]),s([0,-1,-1]),s([13,75,32]),s([1,68,30]),s([0,-1,-1]),s([20,35,30]),s([3,35,28]),s([0,-1,-1]),s([27,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["49",119,17,6,12111,s([9,126,24]),s([1,137,26]),s([0,-1,-1]),s([13,71,30]),s([2,68,32]),s([0,-1,-1]),s([20,37,32]),s([1,39,28]),s([1,38,28]),s([24,20,32]),s([5,25,28]),s([0,-1,-1])]),s(["50",121,17,6,12559,s([8,147,28]),s([1,141,28]),s([0,-1,-1]),s([10,73,32]),s([4,74,30]),s([1,73,30]),s([16,36,32]),s([6,39,30]),s([1,37,30]),s([27,21,32]),s([3,20,26]),s([0,-1,-1])]),s(["51",123,18,6,13025,s([9,137,26]),s([1,135,26]),s([0,-1,-1]),s([12,70,30]),s([4,75,32]),s([0,-1,-1]),s([24,35,30]),s([1,40,28]),s([0,-1,-1]),s([23,20,32]),s([8,24,30]),s([0,-1,-1])]),s(["52",125,18,6,13489,s([14,95,18]),s([1,86,18]),s([0,-1,-1]),s([13,73,32]),s([3,77,30]),s([0,-1,-1]),s([24,35,30]),s([2,35,28]),s([0,-1,-1]),s([26,21,32]),s([5,21,30]),s([1,23,30])]),s(["53",127,18,6,13961,s([9,147,28]),s([1,142,28]),s([0,-1,-1]),s([10,73,30]),s([6,70,32]),s([1,71,32]),s([25,35,30]),s([2,34,26]),s([0,-1,-1]),s([29,21,32]),s([4,22,30]),s([0,-1,-1])]),s(["54",129,18,6,14441,s([11,126,24]),s([1,131,24]),s([0,-1,-1]),s([16,74,32]),s([1,79,30]),s([0,-1,-1]),s([25,38,32]),s([1,25,30]),s([0,-1,-1]),s([33,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["55",131,19,6,14939,s([14,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,65,28]),s([1,72,28]),s([0,-1,-1]),s([24,37,32]),s([2,40,30]),s([1,41,30]),s([31,21,32]),s([4,24,32]),s([0,-1,-1])]),s(["56",133,19,6,15435,s([10,147,28]),s([1,151,28]),s([0,-1,-1]),s([15,71,30]),s([3,71,32]),s([1,73,32]),s([24,37,32]),s([3,38,30]),s([1,39,30]),s([36,19,30]),s([3,29,26]),s([0,-1,-1])]),s(["57",135,19,6,15939,s([15,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,70,30]),s([1,64,28]),s([0,-1,-1]),s([27,38,32]),s([2,25,26]),s([0,-1,-1]),s([38,20,30]),s([2,18,28]),s([0,-1,-1])]),s(["58",137,17,7,16171,s([14,105,20]),s([1,113,22]),s([1,114,22]),s([17,67,30]),s([3,92,32]),s([0,-1,-1]),s([30,35,30]),s([1,41,30]),s([0,-1,-1]),s([36,21,32]),s([1,26,30]),s([1,27,30])]),s(["59",139,17,7,16691,s([11,146,28]),s([1,146,26]),s([0,-1,-1]),s([20,70,30]),s([1,60,26]),s([0,-1,-1]),s([29,38,32]),s([1,24,32]),s([0,-1,-1]),s([40,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["60",141,18,7,17215,s([3,137,26]),s([1,136,26]),s([10,126,24]),s([22,65,28]),s([1,75,30]),s([0,-1,-1]),s([30,37,32]),s([1,51,30]),s([0,-1,-1]),s([42,20,30]),s([1,21,30]),s([0,-1,-1])]),s(["61",143,18,7,17751,s([12,126,24]),s([2,118,22]),s([1,116,22]),s([19,74,32]),s([1,74,30]),s([1,72,28]),s([30,38,32]),s([2,29,30]),s([0,-1,-1]),s([39,20,32]),s([2,37,26]),s([1,38,26])]),s(["62",145,18,7,18295,s([12,126,24]),s([3,136,26]),s([0,-1,-1]),s([21,70,30]),s([2,65,28]),s([0,-1,-1]),s([34,35,30]),s([1,44,32]),s([0,-1,-1]),s([42,20,30]),s([2,19,28]),s([2,18,28])]),s(["63",147,18,7,18847,s([12,126,24]),s([3,117,22]),s([1,116,22]),s([25,61,26]),s([2,62,28]),s([0,-1,-1]),s([34,35,30]),s([1,40,32]),s([1,41,32]),s([45,20,30]),s([1,20,32]),s([1,21,32])]),s(["64",149,19,7,19403,s([15,105,20]),s([2,115,22]),s([2,116,22]),s([25,65,28]),s([1,72,28]),s([0,-1,-1]),s([18,35,30]),s([17,37,32]),s([1,50,32]),s([42,20,30]),s([6,19,28]),s([1,15,28])]),s(["65",151,19,7,19971,s([19,105,20]),s([1,101,20]),s([0,-1,-1]),s([33,51,22]),s([1,65,22]),s([0,-1,-1]),s([40,33,28]),s([1,28,28]),s([0,-1,-1]),s([49,20,30]),s([1,18,28]),s([0,-1,-1])]),s(["66",153,17,8,20229,s([18,105,20]),s([2,117,22]),s([0,-1,-1]),s([26,65,28]),s([1,80,30]),s([0,-1,-1]),s([35,35,30]),s([3,35,28]),s([1,36,28]),s([52,18,28]),s([2,38,30]),s([0,-1,-1])]),s(["67",155,17,8,20805,s([26,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([26,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([45,31,26]),s([1,9,26]),s([0,-1,-1]),s([52,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["68",157,17,8,21389,s([16,126,24]),s([1,114,22]),s([1,115,22]),s([23,70,30]),s([3,65,28]),s([1,66,28]),s([40,35,30]),s([1,43,30]),s([0,-1,-1]),s([46,20,30]),s([7,19,28]),s([1,16,28])]),s(["69",159,18,8,21993,s([19,116,22]),s([1,105,22]),s([0,-1,-1]),s([20,70,30]),s([7,66,28]),s([1,63,28]),s([40,35,30]),s([1,42,32]),s([1,43,32]),s([54,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["70",161,18,8,22593,s([17,126,24]),s([2,115,22]),s([0,-1,-1]),s([24,70,30]),s([4,74,32]),s([0,-1,-1]),s([48,31,26]),s([2,18,26]),s([0,-1,-1]),s([54,19,28]),s([6,15,26]),s([1,14,26])]),s(["71",163,18,8,23201,s([29,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([29,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,34,30]),s([3,36,30]),s([38,33,28]),s([58,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["72",165,18,8,23817,s([16,147,28]),s([1,149,28]),s([0,-1,-1]),s([31,66,28]),s([1,37,26]),s([0,-1,-1]),s([48,33,28]),s([1,23,26]),s([0,-1,-1]),s([53,20,30]),s([6,19,28]),s([1,17,28])]),s(["73",167,19,8,24453,s([20,115,22]),s([2,134,24]),s([0,-1,-1]),s([29,66,28]),s([2,56,26]),s([2,57,26]),s([45,36,30]),s([2,15,28]),s([0,-1,-1]),s([59,20,30]),s([2,21,32]),s([0,-1,-1])]),s(["74",169,19,8,25085,s([17,147,28]),s([1,134,26]),s([0,-1,-1]),s([26,70,30]),s([5,75,32]),s([0,-1,-1]),s([47,35,30]),s([1,48,32]),s([0,-1,-1]),s([64,18,28]),s([2,33,30]),s([1,35,30])]),s(["75",171,17,9,25373,s([22,115,22]),s([1,133,24]),s([0,-1,-1]),s([33,65,28]),s([1,74,28]),s([0,-1,-1]),s([43,36,30]),s([5,27,28]),s([1,30,28]),s([57,20,30]),s([5,21,32]),s([1,24,32])]),s(["76",173,17,9,26021,s([18,136,26]),s([2,142,26]),s([0,-1,-1]),s([33,66,28]),s([2,49,26]),s([0,-1,-1]),s([48,35,30]),s([2,38,28]),s([0,-1,-1]),s([64,20,30]),s([1,20,32]),s([0,-1,-1])]),s(["77",175,17,9,26677,s([19,126,24]),s([2,135,26]),s([1,136,26]),s([32,66,28]),s([2,55,26]),s([2,56,26]),s([49,36,30]),s([2,18,32]),s([0,-1,-1]),s([65,18,28]),s([5,27,30]),s([1,29,30])]),s(["78",177,18,9,27335,s([20,137,26]),s([1,130,26]),s([0,-1,-1]),s([30,75,32]),s([2,71,32]),s([0,-1,-1]),s([46,35,30]),s([6,39,32]),s([0,-1,-1]),s([3,12,30]),s([70,19,28]),s([0,-1,-1])]),s(["79",179,18,9,28007,s([20,147,28]),s([0,-1,-1]),s([0,-1,-1]),s([35,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([49,35,30]),s([5,35,28]),s([0,-1,-1]),s([70,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["80",181,18,9,28687,s([21,136,26]),s([1,155,28]),s([0,-1,-1]),s([34,70,30]),s([1,64,28]),s([1,65,28]),s([54,35,30]),s([1,45,30]),s([0,-1,-1]),s([68,20,30]),s([3,18,28]),s([1,19,28])]),s(["81",183,18,9,29375,s([19,126,24]),s([5,115,22]),s([1,114,22]),s([33,70,30]),s([3,65,28]),s([1,64,28]),s([52,35,30]),s([3,41,32]),s([1,40,32]),s([67,20,30]),s([5,21,32]),s([1,24,32])]),s(["82",185,18,9,30071,s([2,150,28]),s([21,136,26]),s([0,-1,-1]),s([32,70,30]),s([6,65,28]),s([0,-1,-1]),s([52,38,32]),s([2,27,32]),s([0,-1,-1]),s([73,20,30]),s([2,22,32]),s([0,-1,-1])]),s(["83",187,17,10,30387,s([21,126,24]),s([4,136,26]),s([0,-1,-1]),s([30,74,32]),s([6,73,30]),s([0,-1,-1]),s([54,35,30]),s([4,40,32]),s([0,-1,-1]),s([75,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["84",189,17,10,31091,s([30,105,20]),s([1,114,22]),s([0,-1,-1]),s([3,45,22]),s([55,47,20]),s([0,-1,-1]),s([2,26,26]),s([62,33,28]),s([0,-1,-1]),s([79,18,28]),s([4,33,30]),s([0,-1,-1])])]),e.eclval=c(e.eclevel,1)-49;for(var B=e.metrics,I=0,D=B.length;I<D;I++){e.m=c(B,I),e.vers=c(e.m,0),e.size=c(e.m,1),e.alnk=c(e.m,2),e.alnn=c(e.m,3),e.alnr=S(e.size-e.alnk*e.alnn),e.nmod=c(e.m,4),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.ecbs=C(e.m,5+e.eclval*3,3);var T=e.ecbs;r[t++]="ecws",r[t++]=0;for(var M=0,Q=T.length;M<Q;M++){var F=c(T,M),P=r[--t];r[t++]=S(P+c(F,0)*c(F,2))}var L=r[--t];if(e[r[--t]]=L,e.dcws=S(e.ncws-e.ecws),e.dmod=e.dcws*8,e.okay=!0,Ie(e.version,"unset")&&Ie(e.version,e.vers)&&(e.okay=!1),e.bits.length>e.dmod&&(e.okay=!1),e.okay)break}e.okay||(r[t++]="bwipp.hanxinNoValidSymbol#25749",r[t++]="Maximum length exceeded or invalid content",z()),e.version=e.vers,e.msgbits=e.bits,e.e1nb=c(c(e.ecbs,0),0),e.e2nb=c(c(e.ecbs,1),0),e.e3nb=c(c(e.ecbs,2),0),e.e1dcws=c(c(e.ecbs,0),1),e.e2dcws=c(c(e.ecbs,1),1),e.e3dcws=c(c(e.ecbs,2),1),e.e1ecws=c(c(e.ecbs,0),2),e.e2ecws=c(c(e.ecbs,1),2),e.e3ecws=c(c(e.ecbs,2),2),e.pad=W(e.dmod);for(var _=0,H=e.pad.length-1;_<=H;_+=1)g(e.pad,_,48);R(e.pad,0,e.msgbits),e.cws=s(e.dcws);for(var Y=0,de=e.cws.length-1;Y<=de;Y+=1){e.c=Y,e.cwb=C(e.pad,e.c*8,8),e.cw=0;for(var $=0;$<=7;$+=1)e.i=$,e.cw=S(e.cw+~~li(2,8-e.i-1)*(c(e.cwb,e.i)-48));g(e.cws,e.c,e.cw)}e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var Et=0,Gt=e.rsgf-1;Et<Gt;Et++){var tr=r[t-1],br=tr*2;if(r[t++]=br,br>=e.rsgf){var ir=r[--t];r[t++]=fs(ir,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var Br=1,or=e.rsgf-1;Br<=or;Br+=1)g(e.rslog,c(e.rsalog,Br),Br);e.rsprod=function(){var Ha=r[t-1],zs=r[t-2];if(Ha!=0&&zs!=0){var Ma=c(e.rslog,r[--t]),ms=c(e.rsalog,S(Ma+c(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=ms}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Ut=0,wr=e.rsnc;Ut<wr;Ut++)r[t++]=0;e.coeffs=s();for(var ta=1,fa=e.rsnc;ta<=fa;ta+=1){e.i=ta,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var ya=e.i-1;ya>=1;ya-=1){e.j=ya,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Lr=r[--t],Ea=r[--t],ga=r[--t];g(r[--t],ga,fs(Ea,Lr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ra=r[--t],la=r[--t];g(r[--t],la,Ra)}e.nd=e.rscws.length,r[t++]=1/0,U(e.rscws);for(var Aa=0,Ca=e.rsnc;Aa<Ca;Aa++)r[t++]=0;r[t++]=0,e.rscws=s();for(var ka=0,La=e.nd-1;ka<=La;ka+=1){e.k=fs(c(e.rscws,ka),c(e.rscws,e.nd));for(var Qa=0,Va=e.rsnc-1;Qa<=Va;Qa+=1){e.j=Qa,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=c(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=c(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var ps=r[--t],Ia=r[--t],Bs=r[--t];g(r[--t],Bs,fs(Ia,ps))}}r[t++]=C(e.rscws,0,e.rscws.length-1)},e.dcwsb=s(S(e.e1nb+e.e2nb+e.e3nb)),e.ecwsb=s(e.dcwsb.length),e.in=0,e.out=0;for(var q=0,re=e.e1nb;q<re;q++){r[t++]=C(e.cws,e.in,e.e1dcws),r[t++]=e.e1ecws,r[t++]=256,r[t++]=355,e.rscodes();var ce=r[--t];g(e.dcwsb,e.out,C(ce,0,e.e1dcws)),g(e.ecwsb,e.out,C(ce,e.e1dcws,e.e1ecws)),e.in=S(e.in+e.e1dcws),e.out=e.out+1}for(var J=0,oe=e.e2nb;J<oe;J++){r[t++]=C(e.cws,e.in,e.e2dcws),r[t++]=e.e2ecws,r[t++]=256,r[t++]=355,e.rscodes();var ue=r[--t];g(e.dcwsb,e.out,C(ue,0,e.e2dcws)),g(e.ecwsb,e.out,C(ue,e.e2dcws,e.e2ecws)),e.in=S(e.in+e.e2dcws),e.out=e.out+1}for(var he=0,Re=e.e3nb;he<Re;he++){r[t++]=C(e.cws,e.in,e.e3dcws),r[t++]=e.e3ecws,r[t++]=256,r[t++]=355,e.rscodes();var te=r[--t];g(e.dcwsb,e.out,C(te,0,e.e3dcws)),g(e.ecwsb,e.out,C(te,e.e3dcws,e.e3ecws)),e.in=S(e.in+e.e3dcws),e.out=e.out+1}e.cws=s(e.ncws),e.cw=0;for(var Be=0,Se=e.dcwsb.length-1;Be<=Se;Be+=1){e.i=Be;var Oe=c(e.dcwsb,e.i);R(e.cws,e.cw,Oe),e.cw=Oe.length+e.cw;var Ue=c(e.ecwsb,e.i);R(e.cws,e.cw,Ue),e.cw=Ue.length+e.cw}r[t++]=1/0;var be=e.ncws,$e=12,Fe=be-1;if(be-1>12){var Ke=$e;$e=Fe,Fe=Ke}for(var Je=0,rt=Fe;Je<=rt;Je+=1)for(var ae=Je,fe=e.ncws-1;ae<=fe;ae+=13)if(r[t++]=ae,ae<e.ncws){var Me=c(e.cws,r[--t]);r[t++]=Me}else t--;e.cws=s(),e.rbit>0&&(e.pad=s(e.cws.length+1),R(e.pad,0,e.cws),g(e.pad,e.pad.length-1,0),e.cws=e.pad);var Le=c(e.options,"debugcws")!==void 0;Le&&(r[t++]="bwipp.debugcws#25872",r[t++]=e.cws,z()),r[t++]=1/0;for(var Xe=0,ze=e.size*e.size;Xe<ze;Xe++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Et=r[--t],Gt=r[--t];r[t++]=S(Gt+Et*e.size)},e.alnn!=0){for(e.trmv=function(){var Et=r[--t],Gt=r[--t];r[t++]=S(Et*e.size+e.size-1-Gt)},e.aplot=function(){var Et=r[t-2],Gt=r[t-3],tr=r[t-1];t-=3,r[t++]=tr,r[t++]=Gt,r[t++]=Et,r[t++]=tr,r[t++]=Et,r[t++]=Gt,e.trmv();var br=r[--t];r[t++]=e.pixs,r[t++]=br;var ir=r[t-3],Br=r[t-1];g(r[t-2],Br,ir),t-=3,e.trmv();var or=r[--t];r[t++]=e.pixs,r[t++]=or;var Ut=r[t-3],wr=r[t-1];g(r[t-2],wr,Ut),t-=3},e.i=0,e.stag=0;!(e.i>=e.size);){for(var qe=0,ht=e.size-1;qe<=ht;qe+=1)if(e.j=qe,S(e.j+e.alnr)<e.size?r[t++]=(~~(e.j/e.alnk)+e.stag)%2==0&&!(e.i==0&&e.j<e.alnk)||e.j%e.alnk==0:r[t++]=S(e.alnn+e.stag)%2==0,r[--t]){r[t++]=e.j,r[t++]=e.i,r[t++]=1,e.aplot();var vt=e.j,dt=e.i;r[t++]=vt+1,r[t++]=dt+1,dt+1<e.size&&vt+1<e.size?(r[t++]=0,e.aplot()):t-=2}S(e.i+e.alnr)==e.size?e.i=S(e.i+e.alnr)-1:e.i=S(e.i+e.alnk),e.stag=1-e.stag}for(var wt=e.alnk,Bt=e.alnk,jt=e.size-2;Bt<0?wt>=jt:wt<=jt;wt+=Bt){if(e.i=wt,~~(e.i/e.alnk)%2!=0){r[t++]=e.pixs,r[t++]=0,r[t++]=e.i-1,e.trmv();var At=r[--t];g(r[--t],At,0),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i+1,e.trmv();var _t=r[--t];g(r[--t],_t,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i-1,e.trmv();var Mt=r[--t];g(r[--t],Mt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.trmv();var Lt=r[--t];g(r[--t],Lt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i+1,e.trmv();var Dt=r[--t];g(r[--t],Dt,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=0,e.trmv();var kt=r[--t];g(r[--t],kt,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=0,e.trmv();var O=r[--t];g(r[--t],O,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=1,e.trmv();var K=r[--t];g(r[--t],K,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=1,e.trmv();var G=r[--t];g(r[--t],G,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=1,e.trmv();var se=r[--t];g(r[--t],se,0)}r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var le=r[--t];if(c(r[--t],le)!=1){r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var ge=r[--t];g(r[--t],ge,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i-1,e.trmv();var ee=r[--t];g(r[--t],ee,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i,e.trmv();var ke=r[--t];g(r[--t],ke,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i+1,e.trmv();var X=r[--t];g(r[--t],X,0),r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i+1,e.trmv();var xe=r[--t];g(r[--t],xe,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-1,e.trmv();var me=r[--t];g(r[--t],me,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-2,e.trmv();var ye=r[--t];g(r[--t],ye,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.size-2,e.trmv();var ne=r[--t];g(r[--t],ne,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-2,e.trmv();var we=r[--t];g(r[--t],we,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-1,e.trmv();var Ee=r[--t];g(r[--t],Ee,0)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,0,0]),s([1,0,1,1,1,1,1,0]),s([1,0,1,0,0,0,0,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fpat2=s([s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([0,0,0,0,1,0,1,0]),s([1,1,1,1,1,0,1,0]),s([0,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]);for(var pe=0,Ne=e.fpat.length-1;pe<=Ne;pe+=1){e.y=pe;for(var Ae=0,Ce=c(e.fpat,0).length-1;Ae<=Ce;Ae+=1){e.x=Ae,e.fpb=c(c(e.fpat,e.y),e.x),e.fpb2=c(c(e.fpat2,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Qe=r[--t];g(r[--t],Qe,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=e.y,e.qmv();var Pe=r[--t];g(r[--t],Pe,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=S(e.size-e.y)-1,e.qmv();var We=r[--t];g(r[--t],We,e.fpb),r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.size-e.y)-1,e.qmv();var st=r[--t];g(r[--t],st,e.fpb2)}}e.functionmap=s([s([s([0,8]),s([e.size-1,e.size-9])]),s([s([1,8]),s([e.size-2,e.size-9])]),s([s([2,8]),s([e.size-3,e.size-9])]),s([s([3,8]),s([e.size-4,e.size-9])]),s([s([4,8]),s([e.size-5,e.size-9])]),s([s([5,8]),s([e.size-6,e.size-9])]),s([s([6,8]),s([e.size-7,e.size-9])]),s([s([7,8]),s([e.size-8,e.size-9])]),s([s([8,8]),s([e.size-9,e.size-9])]),s([s([8,7]),s([e.size-9,e.size-8])]),s([s([8,6]),s([e.size-9,e.size-7])]),s([s([8,5]),s([e.size-9,e.size-6])]),s([s([8,4]),s([e.size-9,e.size-5])]),s([s([8,3]),s([e.size-9,e.size-4])]),s([s([8,2]),s([e.size-9,e.size-3])]),s([s([8,1]),s([e.size-9,e.size-2])]),s([s([8,0]),s([e.size-9,e.size-1])]),s([s([e.size-9,0]),s([8,e.size-1])]),s([s([e.size-9,1]),s([8,e.size-2])]),s([s([e.size-9,2]),s([8,e.size-3])]),s([s([e.size-9,3]),s([8,e.size-4])]),s([s([e.size-9,4]),s([8,e.size-5])]),s([s([e.size-9,5]),s([8,e.size-6])]),s([s([e.size-9,6]),s([8,e.size-7])]),s([s([e.size-9,7]),s([8,e.size-8])]),s([s([e.size-9,8]),s([8,e.size-9])]),s([s([e.size-8,8]),s([7,e.size-9])]),s([s([e.size-7,8]),s([6,e.size-9])]),s([s([e.size-6,8]),s([5,e.size-9])]),s([s([e.size-5,8]),s([4,e.size-9])]),s([s([e.size-4,8]),s([3,e.size-9])]),s([s([e.size-3,8]),s([2,e.size-9])]),s([s([e.size-2,8]),s([1,e.size-9])]),s([s([e.size-1,8]),s([0,e.size-9])])]);for(var at=e.functionmap,je=0,Ge=at.length;je<Ge;je++)ve(c(at,je),function(){U(r[--t]),e.qmv(),g(e.pixs,r[--t],0)});var He=s([function(){t-=2,r[t++]=1},function(){var Et=r[--t],Gt=r[--t];r[t++]=S(Gt+Et)%2},function(){var Et=r[--t],Gt=r[--t];r[t++]=S((Et+Gt)%3+Gt%3)%2},function(){var Et=r[--t],Gt=r[--t];r[t++]=S(Gt%Et+(Et%Gt+(Et%3+Gt%3)))%2}]);e.maskfuncs=He,e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var Ze=0,ft=e.masks.length-1;Ze<=ft;Ze+=1){e.m=Ze,e.mask=s(e.size*e.size);for(var pt=0,ut=e.size-1;pt<=ut;pt+=1){e.j=pt;for(var xt=0,nt=e.size-1;xt<=nt&&(e.i=xt,r[t++]=e.i+1,r[t++]=e.j+1,c(e.maskfuncs,e.m)()!==!0);xt+=1){var Tt=r[--t];r[t++]=Tt==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var et=r[--t],Qt=c(r[--t],et),Ht=r[--t],Ot=Ht&&Qt==-1?1:0;r[t++]=Ot,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var sr=r[t-3],Sr=r[t-1];g(r[t-2],Sr,sr),t-=3}}g(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.num=0;e.posy!=e.size;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var nr=r[--t];if(c(r[--t],nr)==-1){var gr=c(e.cws,~~(e.num/8)),ar=-(7-e.num%8);r[t++]=(ar<0?gr>>>-ar:gr<<ar)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Ir=r[t-3],Zt=r[t-1];g(r[t-2],Zt,Ir),t-=3,e.num=e.num+1}e.posx=e.posx+1,e.posx==e.size&&(e.posx=0,e.posy=e.posy+1)}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ve(e.scrle,function(){var Aa=r[t-1];if(Aa>=3){var Ca=r[--t],ka=S(r[--t]+Ca*4);r[t++]=ka,r[t++]=ka}t--});var Et=r[--t];e[r[--t]]=Et,e.scr3=0;for(var Gt=5,tr=e.scrle.length-1;Gt<=tr;Gt+=2)if(e.j=Gt,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var br=C(e.scrle,e.j-4,4),ir=0,Br=br.length;ir<Br;ir++)r[t++]=c(br,ir)==e.fact;var or=r[--t],Ut=r[--t],wr=r[--t];r[--t]&&wr&&Ut&&or&&(e.j==5||e.j+2>=e.scrle.length||c(e.scrle,e.j-5)>=3||c(e.scrle,e.j+1)>=3)&&(e.scr3=e.scr3+50)}for(var ta=1,fa=e.scrle.length-5;ta<=fa;ta+=2)if(e.j=ta,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var ya=C(e.scrle,e.j+1,4),Lr=0,Ea=ya.length;Lr<Ea;Lr++)r[t++]=c(ya,Lr)==e.fact;var ga=r[--t],Ra=r[--t],la=r[--t];r[--t]&&la&&Ra&&ga&&(e.j==1||e.j+6>=e.scrle.length||c(e.scrle,e.j-1)>=3||c(e.scrle,e.j+5)>=3)&&(e.scr3=e.scr3+50)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n3=0,e.rle=s(e.size+1),e.lastpairs=s(e.size),e.thispairs=s(e.size),e.sizeadd1=e.size+1;for(var Et=0,Gt=e.size-1;Et<=Gt;Et+=1){e.i=Et,r[t++]=1/0;var tr=e.size;r[t++]=0,r[t++]=0;for(var br=e.i,ir=tr,Br=tr*tr-1;ir<0?br>=Br:br<=Br;br+=ir){var or=c(e.sym,br),Ut=r[--t];if(r[t++]=or,V(Ut,or)){var wr=r[--t],ta=r[--t];r[t++]=ta+1,r[t++]=wr}else{var fa=r[--t];r[t++]=1,r[t++]=fa}}t--;var ya=xa()+2;Vt(C(e.rle,0,ya-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=C(e.sym,e.i*e.size,e.size),r[t++]=1/0;var Lr=e.symrow;r[t++]=0,r[t++]=0;for(var Ea=0,ga=Lr.length;Ea<ga;Ea++){var Ra=c(Lr,Ea),la=r[--t];if(r[t++]=Ra,V(la,Ra)){var Aa=r[--t],Ca=r[--t];r[t++]=Ca+1,r[t++]=Aa}else{var ka=r[--t];r[t++]=1,r[t++]=ka}}t--;var La=xa()+2;Vt(C(e.rle,0,La-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}r[t++]=S(e.n1+e.n3)},e.bestscore=999999999;for(var dr=0,Kt=e.masks.length-1;dr<=Kt;dr+=1){e.m=dr,e.masksym=s(e.size*e.size);for(var Jt=0,ur=e.size*e.size-1;Jt<=ur;Jt+=1)e.i=Jt,g(e.masksym,e.i,fs(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}e.pixs=e.bestsym,e.funval=((~~((e.size-21)/2)+20)*4+e.eclval)*4+e.bestmaskval,r[t++]=s([(e.funval&3840)>>>8,(e.funval&240)>>>4,e.funval&15]),r[t++]=4,r[t++]=16,r[t++]=19,e.rscodes(),e.funvals=r[--t],r[t++]=1/0,ve(e.funvals,function(){r[t++]=4,e.tobin(),ve(r[--t],function(){var Et=r[--t];r[t++]=Et-48})}),r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,e.funbits=s();for(var Tr=0,Pr=e.functionmap.length-1;Tr<=Pr;Tr+=1)e.i=Tr,ve(c(e.functionmap,e.i),function(){var Et=r[--t];r[t++]=e.pixs,U(Et),e.qmv();var Gt=r[--t];g(r[--t],Gt,c(e.funbits,e.i))});var ua=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=ua,e.dontdraw||mt(),e=a}function My(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.ratio=-1,e.parse=!1,e.parsefnc=!1,e.raw=!1,e.fast=!1,e.mask=-1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.rows!=-1&&e.rows<5&&(r[t++]="bwipp.dotcodeBadRows#26228",r[t++]="There must be at least 5 rows",z()),e.columns!=-1&&e.columns<5&&(r[t++]="bwipp.dotcodeBadColumns#26234",r[t++]="There must be at least 5 columns",z()),e.rows!=-1&&e.columns!=-1&&(e.rows+e.columns)%2!=1&&(r[t++]="bwipp.dotcodeRowsColumnsBadParity#26239",r[t++]="Sum of rows and columns must be odd",z()),e.ratio==-1&&e.rows==-1&&e.columns==-1&&(e.ratio=3/2),e.ratio!=-1&&e.ratio<=0&&(r[t++]="bwipp.dotcodeRatio#26248",r[t++]="The ratio must be greater than 0",z()),e.mask!=-1&&(e.mask<0||e.mask>3)&&(r[t++]="bwipp.dotcodeBadMask#26254",r[t++]="Valid mask values are 0 to 3",z()),e.laa=-1,e.lab=-2,e.lac=-3,e.bin=-4,e.sfa=-5,e.sfb=-6,e.sb2=-7,e.sb3=-8,e.sb4=-9,e.sb5=-10,e.sb6=-11,e.sfc=-12,e.sc2=-13,e.sc3=-14,e.sc4=-15,e.sc5=-16,e.sc6=-17,e.sc7=-18,e.bsa=-19,e.bsb=-20,e.tma=-21,e.tmb=-22,e.tmc=-23,e.tms=-24,e.fn1=-25,e.fn2=-26,e.fn3=-27,e.crl=-28,e.aim=-29,e.m05=-30,e.m06=-31,e.m12=-32,e.mac=-33;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.msglen=e.msg.length;var o=e.msg;r[t++]="numecis",r[t++]=0;for(var d=0,u=o.length;d<u;d++)if(c(o,d)<=-1e6){var f=r[--t];r[t++]=f+1}var h=r[--t];e[r[--t]]=h,e.msgtmp=s(S(e.msg.length+e.numecis*6)),e.j=0;for(var p=0,m=e.msg.length-1;p<=m;p+=1){var x=c(e.msg,p);if(r[t++]=x,x<=-1e6){for(var b=C($t(W(7),-r[--t],10),1,6),y=0,w=b.length;y<w;y++)r[t++]=c(b,y);Vt(s(6)),R(e.msgtmp,e.j+1,r[--t]),g(e.msgtmp,e.j,e.fn2),e.j=e.j+7}else g(e.msgtmp,e.j,r[--t]),e.j=e.j+1}e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.sfb,e.crl,"96"]),s([e.sb2,9,"97"]),s([e.sb3,28,"98"]),s([e.sb4,29,"99"]),s([e.sb5,30,e.aim]),s([e.sb6,e.sfa,e.laa]),s([e.lab,e.laa,e.sfb]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3]),s([e.sc4,e.sc4,e.sb4]),s([e.lac,e.lac,e.lab]),s([e.fn1,e.fn1,e.fn1]),s([e.fn2,e.fn2,e.fn2]),s([e.fn3,e.fn3,e.fn3]),s([e.bsa,e.bsa,e.bsa]),s([e.bsb,e.bsb,e.bsb]),s([e.bin,e.bin,e.bin])]),e.charvals=s([new Map,new Map,new Map]);for(var v=0,A=e.charmaps.length-1;v<=A;v+=1){e.i=v,e.encs=c(e.charmaps,e.i);for(var j=0;j<=2;j+=1){e.j=j;var E=c(e.encs,e.j);if(r[t++]=E,V(tn(E),"stringtype")){var k=c(r[--t],0);r[t++]=k}g(c(e.charvals,e.j),r[--t],e.i)}}e.Avals=c(e.charvals,0),e.Bvals=c(e.charvals,1),g(e.Bvals,e.m05,97),g(e.Bvals,e.m06,98),g(e.Bvals,e.m12,99),g(e.Bvals,e.mac,100),e.Cvals=c(e.charvals,2),r[t++]=1/0;var N=s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7,e.tma,e.tmb,e.tmc,e.tms]);r[t++]=102;for(var B=0,I=N.length;B<I;B++){var D=r[--t]+1;r[t++]=c(N,B),r[t++]=D,r[t++]=D}t--,e.BINvals=_e(),e.A=0,e.B=1,e.C=2,e.BIN=3,r[t++]=1/0;for(var T=0,M=e.msglen+1;T<M;T++)r[t++]=0;e.nDigits=s(),r[t++]=1/0;for(var Q=0,F=e.msglen+1;Q<F;Q++)r[t++]=!1;e.SeventeenTen=s(),r[t++]=1/0;for(var P=0,L=e.msglen+1;P<L;P++)r[t++]=!1;e.ECI=s(),r[t++]=1/0;for(var _=0,H=e.msglen+1;_<H;_++)r[t++]=!1;e.DatumA=s(),r[t++]=1/0;for(var Y=0,de=e.msglen+1;Y<de;Y++)r[t++]=!1;e.DatumB=s(),r[t++]=1/0;for(var $=0,q=e.msglen+1;$<q;$++)r[t++]=!1;e.DatumC=s(),r[t++]=1/0;for(var re=0,ce=e.msglen+8;re<ce;re++)r[t++]=!1;e.Binary=s(),r[t++]=1/0;for(var J=0,oe=e.msglen+1;J<oe;J++)r[t++]=0;e.AheadC=s(),r[t++]=1/0;for(var ue=0,he=e.msglen+1;ue<he;ue++)r[t++]=0;e.TryC=s(),r[t++]=1/0;for(var Re=0,te=e.msglen+1;Re<te;Re++)r[t++]=0;e.AheadA=s(),r[t++]=1/0;for(var Be=0,Se=e.msglen+1;Be<Se;Be++)r[t++]=0;e.AheadB=s(),r[t++]=1/0;for(var Oe=0,Ue=e.msglen+1;Oe<Ue;Oe++)r[t++]=0;e.UntilEndSeg=s();for(var be=e.msglen-1;be>=0;be-=1){e.i=be,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.nDigits,e.i,c(e.nDigits,e.i+1)+1);var $e=c(e.Avals,e.barchar)!==void 0;$e&&g(e.DatumA,e.i,!0);var Fe=c(e.Bvals,e.barchar)!==void 0;if(Fe&&g(e.DatumB,e.i,!0),e.CRLF=!1,e.barchar==13&&e.i<e.msglen-1&&c(e.msg,e.i+1)==10&&(e.CRLF=!0),e.CRLF&&g(e.DatumB,e.i,!0),c(e.nDigits,e.i)>=2&&g(e.DatumC,e.i,!0),e.barchar<0&&g(e.DatumC,e.i,!0),e.barchar>=128&&g(e.Binary,e.i,!0),c(e.nDigits,e.i)>=10){r[t++]=1/0,U(C(e.msg,e.i,10));for(var Ke=0;Ke<1;Ke++){if(r[--t]!=48){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}if(t-=6,r[--t]!=55){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}r[t++]=!0}r[t++]=e.SeventeenTen,r[t++]=e.i;var Je=r[t-3],rt=r[t-1];g(r[t-2],rt,Je),t-=3,el()}if(c(e.nDigits,e.i+1)>=6&&c(e.msg,e.i)==e.fn2&&g(e.ECI,e.i,!0),e.barchar<0&&e.barchar!=e.fn3?g(e.AheadC,e.i,c(e.AheadC,e.i+1)+1):c(e.nDigits,e.i)<=1?g(e.AheadC,e.i,0):g(e.AheadC,e.i,c(e.AheadC,e.i+2)+1),c(e.nDigits,e.i)>0&&I1(c(e.AheadC,e.i),c(e.AheadC,e.i+1))&&g(e.TryC,e.i,c(e.AheadC,e.i)),c(e.DatumA,e.i)&&c(e.TryC,e.i)<2&&e.barchar!=e.fn3&&g(e.AheadA,e.i,c(e.AheadA,e.i+1)+1),c(e.DatumB,e.i)&&c(e.TryC,e.i)<2&&e.barchar!=e.fn3){if(r[t++]=e.AheadB,r[t++]=e.i,r[t++]=e.AheadB,r[t++]=e.i+1,e.CRLF){var ae=r[--t];r[t++]=ae+1}var fe=r[--t],Me=c(r[--t],fe),Le=r[--t];g(r[--t],Le,Me+1)}e.barchar!=e.fn3&&g(e.UntilEndSeg,e.i,c(e.UntilEndSeg,e.i+1)+1)}for(e.addtocws=function(){var xe=r[--t];R(e.cws,e.j,xe),e.j=xe.length+e.j},e.base259to103=function(){e.in=r[--t],e.inlen=e.in.length,r[t++]=1/0;for(var xe=0,me=5-e.inlen;xe<me;xe++)r[t++]=0;U(e.in),e.in=s(),e.out=s(6),r[t++]=1/0,U(C(e.in,0,2)),e.msbs=s(),r[t++]=1/0,U(e.msbs);var ye=r[--t],ne=r[--t];r[t++]=S(ye+ne*259);for(var we=0;we<2;we++){var Ee=r[--t];r[t++]=Ee%103,r[t++]=~~(Ee/103)}e.mscs=s(),r[t++]=1/0,U(C(e.in,2,3)),e.lsbs=s(),r[t++]=1/0,U(e.lsbs);var pe=r[--t],Ne=r[--t],Ae=r[--t];r[t++]=S(pe+Ne*259+Ae*67081);for(var Ce=0;Ce<3;Ce++){var Qe=r[--t];r[t++]=Qe%103,r[t++]=~~(Qe/103)}e.lscs=s();var Pe=c(e.lscs,0),We=c(e.mscs,0);g(e.out,5,S(Pe+We*42)%103);var st=c(e.lscs,1),at=c(e.mscs,0),je=c(e.mscs,1);g(e.out,4,S(~~((Pe+We*42)/103)+st+at*68+je*42)%103);var Ge=c(e.lscs,2),He=c(e.mscs,0),Ze=c(e.mscs,1),ft=c(e.mscs,2);g(e.out,3,S(~~((~~((Pe+We*42)/103)+st+at*68+je*42)/103)+Ge+He*92+Ze*68+ft*42)%103);var pt=c(e.lscs,3),ut=c(e.mscs,0),xt=c(e.mscs,1),nt=c(e.mscs,2);g(e.out,2,S(~~((~~((~~((Pe+We*42)/103)+st+at*68+je*42)/103)+Ge+He*92+Ze*68+ft*42)/103)+pt+ut*15+xt*92+nt*68)%103);var Tt=c(e.mscs,1),et=c(e.mscs,2);g(e.out,1,S(~~((~~((~~((~~((Pe+We*42)/103)+st+at*68+je*42)/103)+Ge+He*92+Ze*68+ft*42)/103)+pt+ut*15+xt*92+nt*68)/103)+Tt*15+et*92)%103),g(e.out,0,S(~~((~~((~~((~~((~~((Pe+We*42)/103)+st+at*68+je*42)/103)+Ge+He*92+Ze*68+ft*42)/103)+pt+ut*15+xt*92+nt*68)/103)+Tt*15+et*92)/103)+c(e.mscs,2)*15)%103),r[t++]=C(e.out,6-e.inlen-1,e.inlen+1)},e.finaliseBIN=function(){e.bpos!=0&&(r[t++]=C(e.bvals,0,e.bpos),e.base259to103(),U(r[--t]),e.bpos=0)},e.addtobin=function(){g(e.bvals,e.bpos,r[--t]),e.bpos=e.bpos+1,e.bpos==5&&e.finaliseBIN()},e.ECIabc=function(){var xe=C(e.msg,e.i+1,6);r[t++]=0;for(var me=0,ye=xe.length;me<ye;me++){var ne=r[--t];r[t++]=S(ne+(c(xe,me)-48))*10}var we=~~(r[--t]/10);if(r[t++]=we,we>=40){var Ee=r[--t]-40,pe=Ee%12769;r[t++]=~~(Ee/12769)+40,r[t++]=~~(pe/113),r[t++]=pe%113}},e.ECIbin=function(){r[t++]=1/0;var xe=C(e.msg,e.i+1,6);r[t++]=0;for(var me=0,ye=xe.length;me<ye;me++){var ne=r[--t];r[t++]=S(ne+(c(xe,me)-48))*10}var we=~~(r[--t]/10);if(r[t++]=we,we>=65536){var Ee=r[--t],pe=Ee%65536;r[t++]=258,r[t++]=~~(Ee/65536),r[t++]=~~(pe/256),r[t++]=pe%256}else{var Ne=r[t-1];if(Ne>=256){var Ae=r[--t];r[t++]=257,r[t++]=~~(Ae/256),r[t++]=Ae%256}else{var Ce=r[--t];r[t++]=256,r[t++]=Ce}}for(var Qe=s(),Pe=0,We=Qe.length;Pe<We;Pe++)r[t++]=c(Qe,Pe),e.addtobin()},e.encC=function(){for(var xe=0;xe<1;xe++){if(e.i==e.segstart){for(var me=0;me<1;me++){if(e.i>e.segend-7){r[t++]=0;break}if(c(e.msg,e.segstart)!=91){r[t++]=0;break}if(c(e.msg,e.segstart+1)!=41){r[t++]=0;break}if(c(e.msg,e.segstart+2)!=62){r[t++]=0;break}if(c(e.msg,e.segstart+3)!=30){r[t++]=0;break}var ye=c(e.msg,e.segstart+4);if(ye<48||ye>57){r[t++]=0;break}var ne=c(e.msg,e.segstart+5);if(ne<48||ne>57){r[t++]=0;break}if(c(e.msg,e.segend-1)!=4){r[t++]=0;break}var we=S((c(e.msg,e.segstart+4)-48)*10+(c(e.msg,e.segstart+5)-48));if(r[t++]=we,we!=5&&we!=6&&we!=12){r[t-1]=e.mac;break}if(c(e.msg,e.segstart+6)!=29){r[t-1]=0;break}if(c(e.msg,e.segend-2)!=30){r[t-1]=0;break}var Ee=r[t-1];if(Ee==5){r[t-1]=e.m05;break}if(r[--t]==6){r[t++]=e.m06;break}r[t++]=e.m12;break}if(e.inmac=r[--t],e.inmac!=0){r[t++]=s([c(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B,r[t++]=s([c(e.Bvals,e.inmac)]),e.addtocws(),e.inmac==e.mac?(r[t++]=s([c(e.Bvals,c(e.msg,e.segstart+4))]),e.addtocws(),r[t++]=s([c(e.Bvals,c(e.msg,e.segstart+5))]),e.addtocws(),e.i=e.i+6):e.i=e.i+7;break}}if(e.i==e.segstart&&(c(e.nDigits,e.i)>=2&&(r[t++]=s([c(e.Cvals,e.fn1)]),e.addtocws()),c(e.msg,e.i)==e.fn1&&c(e.nDigits,e.i+1)>=2&&(e.i=e.i+1)),c(e.SeventeenTen,e.i)){r[t++]=s([c(e.Cvals,e.aim),S((c(e.msg,e.i+2)-48)*10+(c(e.msg,e.i+3)-48)),S((c(e.msg,e.i+4)-48)*10+(c(e.msg,e.i+5)-48)),S((c(e.msg,e.i+6)-48)*10+(c(e.msg,e.i+7)-48))]),e.addtocws(),e.i=e.i+10;break}if(c(e.DatumC,e.i)){var pe=c(e.msg,e.i);if(pe==e.fn1||pe==e.fn2||pe==e.fn3){if(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var Ne=s();r[t++]=Ne,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.segstart!=e.i){e.i=e.i+1,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2;break}if(c(e.Binary,e.i)){if(c(e.nDigits,e.i+1)>0){c(e.msg,e.i)<160?(r[t++]=s([c(e.Cvals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Cvals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Cvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.m=c(e.AheadA,e.i),e.n=c(e.AheadB,e.i),I1(e.m,e.n)){r[t++]=s([c(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}if(e.i==e.segstart){var Ae=c(e.msg,e.i);if(Ae==9||Ae==28||Ae==29||Ae==30){r[t++]=s([c(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}}if(e.n>4){r[t++]=s([c(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([c(e.Cvals,c(s([e.sfb,e.sb2,e.sb3,e.sb4]),e.n-1))]),e.addtocws();for(var Ce=0,Qe=e.n;Ce<Qe;Ce++)c(e.msg,e.i)==13?(r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encB=function(){for(var xe=0;xe<1;xe++){if(e.n=c(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([c(e.Bvals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.Bvals,c(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,ye=e.n;me<ye;me++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.DatumB,e.i)){var ne=c(e.msg,e.i);if(ne==e.fn1||ne==e.fn2||ne==e.fn3){if(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var we=s();r[t++]=we,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}if(c(e.msg,e.i)==13&&e.i<e.msglen-1&&c(e.msg,e.i+1)==10){r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2;break}r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(c(e.Binary,e.i)){if(c(e.DatumB,e.i+1)){c(e.msg,e.i)<160?(r[t++]=s([c(e.Bvals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Bvals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Bvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(c(e.AheadA,e.i)==1){r[t++]=s([c(e.Bvals,e.sfa),c(e.Avals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}r[t++]=s([c(e.Bvals,e.laa)]),e.addtocws(),e.mode=e.A;break}},e.encA=function(){for(var xe=0;xe<1;xe++){if(e.n=c(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([c(e.Avals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.Avals,c(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,ye=e.n;me<ye;me++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.DatumA,e.i)){var ne=c(e.msg,e.i);if(ne==e.fn1||ne==e.fn2||ne==e.fn3){if(r[t++]=s([c(e.Avals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var we=s();r[t++]=we,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([c(e.Avals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(c(e.Binary,e.i)){if(c(e.DatumA,e.i+1)){c(e.msg,e.i)<160?(r[t++]=s([c(e.Avals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Avals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Avals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.n=c(e.AheadB,e.i),e.n>6){r[t++]=s([c(e.Avals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([c(e.Avals,c(s([e.sfb,e.sb2,e.sb3,e.sb4,e.sb5,e.sb6]),e.n-1))]),e.addtocws();for(var Ee=0,pe=e.n;Ee<pe;Ee++)c(e.msg,e.i)==13?(r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encBIN=function(){for(var xe=0;xe<1;xe++){if(e.n=c(e.TryC,e.i),e.n>=2){r[t++]=1/0,e.finaliseBIN();var me=s();if(r[t++]=me,e.addtocws(),e.n>7){r[t++]=s([c(e.BINvals,e.tmc)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.BINvals,c(s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7]),e.n-2))]),e.addtocws();for(var ye=0,ne=e.n;ye<ne;ye++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.ECI,e.i)&&c(e.Binary,e.i+7)){r[t++]=1/0,e.ECIbin();var we=s();if(r[t++]=we,e.addtocws(),e.i=e.i+7,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Ee=s();r[t++]=Ee,e.addtocws()}break}if(c(e.msg,e.i)>=0&&(c(e.Binary,e.i)||c(e.Binary,e.i+1)||c(e.Binary,e.i+2)||c(e.Binary,e.i+3)||c(e.ECI,e.i+1)&&c(e.Binary,e.i+8))){r[t++]=1/0,r[t++]=c(e.msg,e.i),e.addtobin();var pe=s();if(r[t++]=pe,e.addtocws(),e.i=e.i+1,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Ne=s();r[t++]=Ne,e.addtocws()}break}r[t++]=1/0,e.finaliseBIN();var Ae=s();if(r[t++]=Ae,e.addtocws(),e.i!=e.msglen-1){if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){r[t++]=s([c(e.BINvals,e.tms)]),e.addtocws(),e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}I1(c(e.AheadA,e.i),c(e.AheadB,e.i))?(r[t++]=s([c(e.BINvals,e.tma)]),e.addtocws(),e.mode=e.A):(r[t++]=s([c(e.BINvals,e.tmb)]),e.addtocws(),e.mode=e.B);break}break}},e.cws=s(e.msglen*2+1),e.mode=e.C,e.bvals=s(5),e.bpos=0,e.inmac=0,e.segstart=0,e.segend=c(e.UntilEndSeg,0),e.i=0,e.j=0;!(e.i>=e.msglen||e.inmac!=0&&(e.inmac!=e.mac&&e.i==e.segend-2&&(e.i=e.i+2,e.i>=e.msglen)||e.inmac==e.mac&&e.i==e.segend-1&&(e.i=e.i+1,e.i>=e.msglen))||e[c(s(["encA","encB","encC","encBIN"]),e.mode)]()===!0););if(e.cws=C(e.cws,0,e.j),e.nd=e.cws.length,e.minarea=((e.nd+3+~~(e.nd/2))*9+2)*2,e.ratio!=-1)e.hgt=su(e.minarea/e.ratio),e.wid=su(e.minarea*e.ratio),e.h=~~e.hgt,e.w=~~e.wid,(e.h+e.w)%2==1?e.h*e.w<e.minarea&&(e.h=e.h+1,e.w=e.w+1):e.hgt*e.w<e.wid*e.h?(e.w=e.w+1,e.h*e.w<e.minarea&&(e.w=e.w-1,e.h=e.h+1,e.h*e.w<e.minarea&&(e.w=e.w+2))):(e.h=e.h+1,e.h*e.w<e.minarea&&(e.h=e.h-1,e.w=e.w+1,e.h*e.w<e.minarea&&(e.h=e.h+2))),e.rows=e.h,e.columns=e.w;else{if(e.columns==-1){var Xe=~~((e.minarea+e.rows-1)/e.rows);if(r[t++]="columns",r[t++]=Xe,(Xe+e.rows)%2==0){var ze=r[--t];r[t++]=ze+1}var qe=r[--t];e[r[--t]]=qe}if(e.rows==-1){var ht=~~((e.minarea+e.columns-1)/e.columns);if(r[t++]="rows",r[t++]=ht,(ht+e.columns)%2==0){var vt=r[--t];r[t++]=vt+1}var dt=r[--t];e[r[--t]]=dt}}for(e.ndots=~~(e.rows*e.columns/2);;){var wt=e.nd+1;if((wt+(~~(wt/2)+3))*9+2>e.ndots)break;e.nd=e.nd+1}if(e.nc=~~(e.nd/2)+3,e.nw=e.nd+e.nc,e.rembits=e.ndots-(e.nw*9+2),e.nd>e.cws.length){r[t++]=1/0,U(e.cws);var Bt=e.mode==e.BIN?109:106;r[t++]=Bt;for(var jt=0,At=e.nd-e.cws.length-1;jt<At;jt++)r[t++]=106;e.cws=s()}var _t=c(e.options,"debugcws")!==void 0;_t&&(r[t++]="bwipp.debugcws#26927",r[t++]=e.cws,z()),e.nw*9>e.ndots-2&&(r[t++]="bwipp.dotcodeTooLong#26931",r[t++]="Maximum length exceeded",z()),e.encs=s(["101010101","010101011","010101101","010110101","011010101","101010110","101011010","101101010","110101010","010101110","010110110","010111010","011010110","011011010","011101010","100101011","100101101","100110101","101001011","101001101","101010011","101011001","101100101","101101001","110010101","110100101","110101001","001010111","001011011","001011101","001101011","001101101","001110101","010010111","010011011","010011101","010100111","010110011","010111001","011001011","011001101","011010011","011011001","011100101","011101001","100101110","100110110","100111010","101001110","101011100","101100110","101101100","101110010","101110100","110010110","110011010","110100110","110101100","110110010","110110100","111001010","111010010","111010100","001011110","001101110","001110110","001111010","010011110","010111100","011001110","011011100","011100110","011101100","011110010","011110100","100010111","100011011","100011101","100100111","100110011","100111001","101000111","101100011","101110001","110001011","110001101","110010011","110011001","110100011","110110001","111000101","111001001","111010001","000101111","000110111","000111011","000111101","001001111","001100111","001110011","001111001","010001111","011000111","011100011","011110001","100011110","100111100","101111000","110001110","110011100","110111000","111000110","111001100"]),e.rows%2==0?e.sixedges=s([s([e.columns-1,e.rows-2]),s([0,e.rows-2]),s([e.columns-2,e.rows-1]),s([1,e.rows-1]),s([e.columns-1,0]),s([0,0])]):e.sixedges=s([s([e.columns-2,0]),s([e.columns-2,e.rows-1]),s([e.columns-1,1]),s([e.columns-1,e.rows-2]),s([0,0]),s([0,e.rows-1])]),e.dmv=function(){var xe=r[--t],me=r[--t];r[t++]=S(me+xe*e.columns)},e.outline=s(e.rows*e.columns);for(var Mt=0,Lt=e.rows-1;Mt<=Lt;Mt+=1){e.y=Mt;for(var Dt=0,kt=e.columns-1;Dt<=kt;Dt+=1){e.x=Dt,r[t++]=e.outline,r[t++]=e.x,r[t++]=e.y,e.dmv();var O=r[--t];g(r[--t],O,(e.x+e.y)%2-1)}}for(var K=e.sixedges,G=0,se=K.length;G<se;G++){r[t++]=e.outline,U(c(K,G)),e.dmv();var le=r[--t];g(r[--t],le,1)}e.clearcol=function(){e.x=r[--t],r[t++]=!0;for(var xe=e.x&1,me=e.rows-1;xe<=me;xe+=2)if(r[t++]=e.x,r[t++]=xe,e.dmv(),c(e.sym,r[--t])==1){r[t-1]=!1;break}},e.clearrow=function(){e.y=r[--t],r[t++]=!0;for(var xe=e.y&1,me=e.columns-1;xe<=me;xe+=2)if(r[t++]=xe,r[t++]=e.y,e.dmv(),c(e.sym,r[--t])==1){r[t-1]=!1;break}},e.evalsymbol=function(){e.sym=r[--t],e.worst=9999999;for(var xe=s([s(["x",0]),s(["x",1]),s(["y",0]),s(["y",1])]),me=0,ye=xe.length;me<ye;me++){U(c(xe,me)),e.fl=r[--t],e.dir=r[--t],e.sum=0,e.first=-1,e.last=-1;for(var ne=V(e.dir,"x")?e.columns:e.rows,we=0,Ee=ne-1;we<=Ee;we+=1){e[e.dir]=we;var pe=e.sym,Ne=e[e.dir],Ae=V(e.dir,"x")?e.rows:e.columns,Ce=(Ae-1)*e.fl;if(V(e.dir,"y")){var Qe=Ce;Ce=Ne,Ne=Qe}r[t++]=pe,r[t++]=Ne,r[t++]=Ce,e.dmv();var Pe=r[--t];c(r[--t],Pe)==1&&(e.first==-1&&(e.first=e[e.dir]),e.last=e[e.dir],e.sum=e.sum+1)}var We=V(e.dir,"x")?e.rows:e.columns,st=S(e.sum+e.last-e.first)*We;r[t++]=st,st<e.worst?e.worst=r[--t]:t--}if(e.pen=0,e.rows%2==1||e.rows<=12){e.sum=0,e.p=0;for(var at=1,je=e.columns-2;at<=je;at+=1)if(r[t++]=at,e.clearcol(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.rows:r[t++]=e.p*e.rows;var Ge=r[--t];e[r[--t]]=Ge}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}if(e.rows%2==0||e.columns<=12){e.sum=0,e.p=0;for(var He=1,Ze=e.rows-2;He<=Ze;He+=1)if(r[t++]=He,e.clearrow(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.columns:r[t++]=e.p*e.columns;var ft=r[--t];e[r[--t]]=ft}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}r[t++]=1/0;for(var pt=0,ut=(e.columns+4)*2;pt<ut;pt++)r[t++]=0;for(var xt=0,nt=e.columns,Tt=e.sym.length-1;nt<0?xt>=Tt:xt<=Tt;xt+=nt)r[t++]=0,r[t++]=0,U(C(e.sym,xt,e.columns)),r[t++]=0,r[t++]=0;for(var et=0,Qt=(e.columns+4)*2;et<Qt;et++)r[t++]=0;e.symp=s(),e.columns=e.columns+4,e.rows=e.rows+4,e.sum=0;for(var Ht=2,Ot=e.rows-3;Ht<=Ot;Ht+=1){e.y=Ht;for(var sr=(e.y&1)+2,Sr=e.columns-3;sr<=Sr;sr+=2){e.x=sr;for(var nr=0;nr<1;nr++){r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y-1,e.dmv();var gr=r[--t];if(c(r[--t],gr)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y-1,e.dmv();var ar=r[--t];if(c(r[--t],ar)==1)break;r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y+1,e.dmv();var Ir=r[--t];if(c(r[--t],Ir)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y+1,e.dmv();var Zt=r[--t];if(c(r[--t],Zt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y,e.dmv();var dr=r[--t];if(c(r[--t],dr)==0){e.sum=e.sum+1;break}r[t++]=e.symp,r[t++]=e.x-2,r[t++]=e.y,e.dmv();var Kt=r[--t];if(c(r[--t],Kt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y-2,e.dmv();var Jt=r[--t];if(c(r[--t],Jt)==1)break;r[t++]=e.symp,r[t++]=e.x+2,r[t++]=e.y,e.dmv();var ur=r[--t];if(c(r[--t],ur)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y+2,e.dmv();var Tr=r[--t];if(c(r[--t],Tr)==1)break;e.sum=e.sum+1}}}e.columns=e.columns-4,e.rows=e.rows-4,e.worst==0?r[t++]=-99999:r[t++]=S(e.worst-e.sum*e.sum-e.pen)},r[t++]=1/0,r[t++]=1;for(var ge=0;ge<112;ge++){var ee=r[t-1];r[t++]=ee*3%113}e.rsalog=s(),e.step=~~(e.nw/112)+1,e.offset=function(){var xe=r[--t];r[t++]=S(xe*e.step+e.start)},e.bestscore=-99999999,r[t++]="masks",e.mask!=-1?r[t++]=s([e.mask]):e.fast?r[t++]=s([3,2,1,0]):r[t++]=s([0,1,2,3]);var ke=r[--t];e[r[--t]]=ke,e.litmasks=s(4),ve(e.masks,function(){e.mask=r[--t],r[t++]=1/0;var xe=e.cws;r[t++]=e.mask,r[t++]=c(s([0,3,7,17]),e.mask),r[t++]=0;for(var me=0,ye=xe.length;me<ye;me++){var ne=r[--t],we=r[--t];r[t++]=S(c(xe,me)+ne)%113,r[t++]=we,r[t++]=S(ne+we)}t-=2;for(var Ee=0,pe=e.nc;Ee<pe;Ee++)r[t++]=0;e.rscws=s();for(var Ne=0,Ae=e.step-1;Ne<=Ae;Ne+=1){e.start=Ne,e.ND=~~((e.nd+1-e.start+e.step-1)/e.step),e.NW=~~((e.nw+1-e.start+e.step-1)/e.step),e.NC=e.NW-e.ND,r[t++]=1/0,r[t++]=1;for(var Ce=0,Qe=e.NC;Ce<Qe;Ce++)r[t++]=0;e.coeffs=s();for(var Pe=1,We=e.NC;Pe<=We;Pe+=1){e.i=Pe;for(var st=e.NC;st>=1;st-=1)e.j=st,g(e.coeffs,e.j,S(c(e.coeffs,e.j)+113-c(e.rsalog,e.i)*c(e.coeffs,e.j-1)%113)%113)}for(var at=0,je=e.ND-1;at<=je;at+=1){r[t++]="t",r[t++]=e.rscws,r[t++]=at,e.offset();var Ge=r[--t],He=c(r[--t],Ge);r[t++]=He,r[t++]=e.rscws,r[t++]=e.ND,e.offset();var Ze=r[--t],ft=c(r[--t],Ze),pt=r[--t];e[r[--t]]=S(pt+ft)%113;for(var ut=0,xt=e.NC-2;ut<=xt;ut+=1){e.j=ut,r[t++]=e.rscws,r[t++]=e.ND+e.j,e.offset(),r[t++]=e.rscws,r[t++]=e.ND+e.j+1,e.offset();var nt=r[--t],Tt=c(r[--t],nt),et=r[--t];g(r[--t],et,S(Tt+113-e.t*c(e.coeffs,e.j+1)%113)%113)}r[t++]=e.rscws,r[t++]=e.ND+e.NC-1,e.offset();var Qt=r[--t];g(r[--t],Qt,(113-e.t*c(e.coeffs,e.NC)%113)%113)}for(var Ht=e.ND,Ot=e.NW-1;Ht<=Ot;Ht+=1){r[t++]=Ht,r[t++]=e.rscws,r[t++]=Ht,e.offset(),r[t++]=113,r[t++]=e.rscws,Na(5,-1),e.offset();var sr=r[--t],Sr=c(r[--t],sr),nr=r[--t],gr=r[--t];g(r[--t],gr,S(nr-Sr)%113)}}e.bits=W(e.ndots),R(e.bits,0,c(s(["00","01","10","11"]),e.mask));for(var ar=1,Ir=e.nw;ar<=Ir;ar+=1)e.i=ar,R(e.bits,(e.i-1)*9+2,c(e.encs,c(e.rscws,e.i)));e.rembits>0&&R(e.bits,e.nw*9+2,C("11111111111111111",0,e.rembits));var Zt=e.outline;e.pixs=cc(s(Zt.length),Zt),e.posx=0,r[t++]="posy",e.rows%2==0?r[t++]=0:r[t++]=e.rows-1;var dr=r[--t];e[r[--t]]=dr;for(var Kt=C(e.bits,0,e.bits.length-6),Jt=0,ur=Kt.length;Jt<ur;Jt++){for(r[t++]=c(Kt,Jt);;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Tr=r[--t];if(c(r[--t],Tr)==-1)break;e.rows%2==0?(e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)):(e.posx=e.posx+1,e.posx==e.columns&&(e.posx=0,e.posy=e.posy-1))}r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Pr=r[t-3],ua=r[t-1];g(r[t-2],ua,Pr-48),t-=3}for(var Et=0;Et<=5;Et+=1){e.i=Et,r[t++]=e.pixs,U(c(e.sixedges,e.i)),e.dmv();var Gt=r[--t];g(r[--t],Gt,c(e.bits,e.bits.length-6+e.i)-48)}r[t++]="score",r[t++]=e.pixs,e.evalsymbol();var tr=r[--t];if(e[r[--t]]=tr,e.score>e.bestscore&&(e.bestsym=e.pixs,e.bestscore=e.score,e.fast&&e.bestscore>~~(e.rows*e.columns/2)))return!0;var br=e.pixs;e.litmask=cc(s(br.length),br);for(var ir=0;ir<=5;ir+=1){e.i=ir,r[t++]=e.litmask,U(c(e.sixedges,e.i)),e.dmv();var Br=r[--t];g(r[--t],Br,1)}if(g(e.litmasks,e.mask,e.litmask),e.fast){r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var or=r[--t];if(e[r[--t]]=or,I1(e.score,e.bestscore)&&(e.bestsym=e.litmask,e.bestscore=e.score,e.bestscore>~~(e.rows*e.columns/2)))return!0}}),e.pixs=e.bestsym,!e.fast&&e.bestscore<=~~(e.rows*e.columns/2)&&(e.bestscore=-99999999,ve(e.masks,function(){e.litmask=c(e.litmasks,r[--t]),r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var xe=r[--t];e[r[--t]]=xe,e.score>e.bestscore&&(e.bestsym=e.litmask,e.bestscore=e.score)}),e.pixs=e.bestsym);var X=new Map([["ren","renmatrix"],["dotty",!0],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows*2/72],["width",e.columns*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=X,e.dontdraw||mt(),e=a}function yR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.eclevel="EC2",e.parse=!1,e.parsefnc=!1,e.start=257,e.link1=0,e.raw=!1,e.rev=2,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=e.rev;n!=1&&n!=2&&(r[t++]="bwipp.ultracodeInvalidRevision#27328",r[t++]="Valid revisions are 1 and 2",z());var i=e.eclevel.length==3;if(r[t++]=i,i){t--;var o=V(C(e.eclevel,0,2),"EC");if(r[t++]=o,o){t--;var d=c(e.eclevel,2)-48,u=e.rev==2?1:0;r[t++]=d>=u&&d<=5}}if(r[--t]||(r[t++]="bwipp.ultracodeInvalidErrorCorrectionLevel#27337",r[t++]="Valid error correction levels are EC1 to EC5, and EC0 for legacy revision 1",z()),e.raw){for(e.dcws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=De(C(e.barcode,e.i+1,3)),g(e.dcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.dcws=C(e.dcws,0,e.j)}else{e.fn1=-1,e.fn3=-2;var f=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=f,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var h=r[--t];e[r[--t]]=h,e.msglen=e.msg.length,e.scr=s([]),e.scp=s([]),r[t++]=1/0,U(e.scr),U(e.scp),ve(e.msg,function(){var Ce=r[t-1];Ce==e.fn1&&(r[t-1]=268);var Qe=r[t-1];Qe==e.fn3&&(r[t-1]=269)}),e.dcws=s()}var p=c(e.options,"debugcws")!==void 0;if(p&&(r[t++]="bwipp.debugcws#27381",r[t++]=e.dcws,z()),e.mcc=e.dcws.length+3,e.eclval=c(e.eclevel,2)-48,e.eclval!=0){if(r[t++]="qcc",r[t++]=c(s([0,1,2,4,6,8]),e.eclval),r[t++]=~~(e.mcc/25),e.mcc%25!=0){var m=r[--t];r[t++]=m+1}var x=r[--t],b=r[--t];e[r[--t]]=b*x+5}else e.qcc=3;e.acc=e.qcc-3+78*e.link1,e.tcc=e.mcc+e.qcc,e.metrics=s([s([2,7,37,5]),s([3,36,84,13]),s([4,85,161,22]),s([5,142,282,29])]);for(var y=e.metrics,w=0,v=y.length;w<v&&(e.m=c(y,w),e.rows=c(e.m,0),e.minc=c(e.m,1),e.maxc=c(e.m,2),e.mcol=c(e.m,3),e.okay=!0,(e.tcc<e.minc||e.tcc>e.maxc)&&(e.okay=!1),!e.okay);w++);e.okay||(r[t++]="bwipp.ultracodeNoValidSymbol#27417",r[t++]="Maximum length exceeded or invalid content",z());for(var A=e.mcol;A<=61;A+=1){if(e.columns=A,r[t++]=e.columns,e.columns>=15){var j=r[--t];r[t++]=j-1}if(e.columns>=31){var E=r[--t];r[t++]=E-1}if(e.columns>=47){var k=r[--t];r[t++]=k-1}var N=S(r[--t]*e.rows-3-e.tcc);if(r[t++]=N,N>=0){e.pads=r[--t];break}t--}e.dcc=S(e.columns-e.mcol),r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,r[t++]=e.acc,U(e.dcws);for(var B=0,I=e.qcc;B<I;B++)r[t++]=0;r[t++]=0,e.rsseq=s(),r[t++]=1/0,r[t++]=1;for(var D=0;D<282;D++){var T=r[t-1];r[t++]=T*3%283}e.rsalog=s(),e.rslog=s(283);for(var M=1;M<=282;M+=1)g(e.rslog,c(e.rsalog,M),M);e.rsprod=function(){var Ce=r[t-1],Qe=r[t-2];if(Ce!=0&&Qe!=0){var Pe=c(e.rslog,r[--t]),We=c(e.rsalog,S(Pe+c(e.rslog,r[--t]))%282);r[t++]=We}else t-=2,r[t++]=0},e.n=e.mcc,e.k=e.qcc,r[t++]=1/0,r[t++]=1;for(var Q=0,F=e.k;Q<F;Q++)r[t++]=0;e.coeffs=s();for(var P=1,L=e.k;P<=L;P+=1){e.i=P,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var _=e.i-1;_>=1;_-=1){e.j=_,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var H=r[--t],Y=r[--t],de=r[--t];g(r[--t],de,S(Y+H)%283)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var $=r[--t],q=r[--t];g(r[--t],q,$)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var re=e.coeffs.length-1;re>=0;re-=2){var ce=e.coeffs;g(ce,re,283-c(ce,re))}for(var J=0,oe=e.n-1;J<=oe;J+=1){e.t=S(c(e.rsseq,J)+c(e.rsseq,e.n))%283;for(var ue=0,he=e.k-1;ue<=he;ue+=1)e.j=ue,g(e.rsseq,e.n+e.j,S(c(e.rsseq,e.n+e.j+1)+(283-e.t*c(e.coeffs,e.k-e.j-1)%283))%283)}for(var Re=e.n,te=e.n+e.k;Re<=te;Re+=1)g(e.rsseq,Re,(283-c(e.rsseq,Re))%283);e.ecws=C(e.rsseq,e.n,e.k);var Be=c(e.options,"debugecc")!==void 0;Be&&(r[t++]="bwipp.debugecc#27487",r[t++]=e.ecws,z()),e.tiles=s([13135,13136,13153,13156,13163,13165,13513,13515,13516,13531,13535,13536,13561,13563,13565,13613,13615,13616,13631,13635,13636,13651,13653,13656,15135,15136,15153,15163,15165,15313,15315,15316,15351,15353,15356,15361,15363,15365,15613,15615,15616,15631,15635,15636,15651,15653,15656,16135,16136,16153,16156,16165,16313,16315,16316,16351,16353,16356,16361,16363,16365,16513,16515,16516,16531,16535,16536,16561,16563,16565,31315,31316,31351,31356,31361,31365,31513,31515,31516,31531,31535,31536,31561,31563,31565,31613,31615,31631,31635,31636,31651,31653,31656,35131,35135,35136,35151,35153,35156,35161,35163,35165,35315,35316,35351,35356,35361,35365,35613,35615,35616,35631,35635,35636,35651,35653,35656,36131,36135,36136,36151,36153,36156,36163,36165,36315,36316,36351,36356,36361,36365,36513,36515,36516,36531,36535,36536,36561,36563,36565,51313,51315,51316,51351,51353,51356,51361,51363,51365,51513,51516,51531,51536,51561,51563,51613,51615,51616,51631,51635,51636,51651,51653,51656,53131,53135,53136,53151,53153,53156,53161,53163,53165,53513,53516,53531,53536,53561,53563,53613,53615,53616,53631,53635,53636,53651,53653,53656,56131,56135,56136,56151,56153,56156,56161,56163,56165,56313,56315,56316,56351,56353,56356,56361,56363,56365,56513,56516,56531,56536,56561,56563,61313,61315,61316,61351,61353,61356,61361,61363,61365,61513,61515,61516,61531,61535,61536,61561,61563,61565,61615,61631,61635,61651,61653,63131,63135,63136,63151,63153,63156,63161,63163,63165,63513,63515,63516,63531,63535,63536,63561,63563,63565,63613,63615,63631,63635,63651,63653,65131,65135,65136,65151,65153,65156,65161,65163,65165,65313,65315,65316,65351,65353,65356,65361,65363,65365,65613,65615,65631,65635,65651,65653,56565,51515]),e.dccurev1=s([51363,51563,51653,53153,53163,53513,53563,53613,53653,56153,56163,56313,56353,56363,56513,56563,51316,51356,51536,51616,53156,53516,53536,53616,53636,53656,56136,56156,56316,56356,56516,56536]),e.dcclrev1=s([61351,61361,61531,61561,61631,61651,63131,63151,63161,63531,63561,63631,65131,65161,65351,65631,31351,31361,31531,31561,31631,31651,35131,35151,35161,35361,35631,35651,36131,36151,36351,36531]),e.dccurev2=s([15316,16316,13516,16516,13616,15616,13136,15136,16136,13536,16536,13636,13156,16156,15356,13656,15313,16313,13513,16513,13613,15613,13153,15153,16153,16353,13653,15653,13163,15163,15363,13563]),e.dcclrev2=s([36315,36515,35615,35135,36135,31535,36535,31635,35635,35165,36165,31365,35365,36365,31565,36565,61315,65315,63515,61615,65135,61535,63535,61635,63635,65635,63165,65165,61365,65365,61565,63565]),r[t++]="dccu",e.rev==1?r[t++]=e.dccurev1:r[t++]=e.dccurev2;var Se=r[--t];e[r[--t]]=Se,r[t++]="dccl",e.rev==1?r[t++]=e.dcclrev1:r[t++]=e.dcclrev2;var Oe=r[--t];e[r[--t]]=Oe,e.rows=e.rows*6+1,e.columns=e.columns+6,r[t++]=1/0;for(var Ue=0,be=e.rows*e.columns;Ue<be;Ue++)r[t++]=-1;e.pixs=s(),e.qmv=function(){var Ce=r[--t],Qe=r[--t];r[t++]=S(Qe+Ce*e.columns)};for(var $e=0,Fe=e.columns-1;$e<=Fe;$e+=1){e.i=$e;for(var Ke=0,Je=e.rows-1;Ke<=Je;Ke+=6)if(e.j=Ke,e.i>=5){r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var rt=r[--t];g(r[--t],rt,e.i%2*9)}r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var ae=r[--t];g(r[--t],ae,9),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var fe=r[--t];g(r[--t],fe,9)}for(var Me=1,Le=e.rows-2;Me<=Le;Me+=1){e.i=Me;for(var Xe=3,ze=e.columns-1;Xe<=ze;Xe+=16){e.j=Xe,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.qmv();var qe=r[--t];g(r[--t],qe,(1-e.i%2)*9)}r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var ht=r[--t];g(r[--t],ht,9),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.qmv();var vt=r[--t];g(r[--t],vt,(1-e.i%2)*9),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var dt=r[--t];g(r[--t],dt,0),r[t++]=e.pixs,r[t++]=3,r[t++]=e.i,e.qmv();var wt=r[--t];g(r[--t],wt,9),r[t++]=e.pixs,r[t++]=4,r[t++]=e.i,e.qmv();var Bt=r[--t];g(r[--t],Bt,0),r[t++]=e.pixs,r[t++]=e.columns-1,r[t++]=e.i,e.qmv();var jt=r[--t];g(r[--t],jt,9)}e.i=~~(e.rows/2)-5,r[t++]=1/0;for(var At=$t(W(5),c(e.dccu,e.dcc),10),_t=0,Mt=At.length;_t<Mt;_t++)r[t++]=c(At,_t)-48;var Lt=$t(W(5),c(e.dccl,e.dcc),10);r[t++]=0;for(var Dt=0,kt=Lt.length;Dt<kt;Dt++)r[t++]=c(Lt,Dt)-48;for(var O=s(),K=0,G=O.length;K<G;K++){r[t++]=c(O,K),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var se=r[t-3],le=r[t-1];g(r[t-2],le,se),t-=3,e.i=e.i+1}r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,U(e.ecws),r[t++]=e.tcc,r[t++]=283,r[t++]=e.acc,U(e.dcws);for(var ge=0,ee=e.pads;ge<ee;ge++)r[t++]=284;r[t++]=e.qcc,e.tileseq=s(),e.x=5,e.y=1;for(var ke=e.tileseq,X=0,xe=ke.length;X<xe;X++){for(var me=$t(W(5),c(e.tiles,c(ke,X)),10),ye=0,ne=me.length;ye<ne;ye++){r[t++]=c(me,ye),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var we=r[t-3],Ee=r[t-1];g(r[t-2],Ee,we-48),t-=3,e.y=e.y+1}if(e.y!=e.rows-1)e.y=e.y+1;else{e.x=e.x+1,e.y=1,r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var pe=r[--t];c(r[--t],pe)!=-1&&(e.x=e.x+1)}}var Ne=new Map([[0,"FFFFFF"],[9,"000000"],[1,"00FFFF"],[3,"FF00FF"],[5,"FFFF00"],[6,"00FF00"]]);e.colormap=Ne;var Ae=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows/72*2],["width",e.columns/72*2],["colormap",e.colormap],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ae,e.dontdraw||mt(),e=a}function AR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.slave=!1,e.colors=16,e.eclevel=6,e.raw=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.databpm=~~j1(hn(e.colors)/hn(2));var n=e.colors;r[t++]="metabpm",r[t++]=n,n>8&&(r[t-1]=8);var i=r[--t];e[r[--t]]=~~j1(hn(i)/hn(2)),e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,e.addtobits=function(){var lt=r[--t];R(e.bits,e.j,lt),e.j=lt.length+e.j},e.tofixedbits=function(){var lt=Fr(W(13),"0000000000000");r[t++]=lt,r[t++]=lt,Na(4,-1);var Nt=$t(W(13),r[--t],2),hr=r[--t],lr=r[--t],fr=r[--t];R(hr,S(fr-Nt.length),Nt),r[t++]=C(lr,0,fr)};var u=e.msglen<=15?4:17;e.bits=W(7+u+e.msglen*8+12),e.j=0,r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="00",e.addtobits(),e.msglen<=15?(r[t++]=e.msglen,r[t++]=4,e.tofixedbits(),e.addtobits()):(r[t++]="0000",e.addtobits(),r[t++]=e.msglen-16,r[t++]=13,e.tofixedbits(),e.addtobits());for(var f=0,h=e.msglen-1;f<=h;f+=1)r[t++]=c(e.msg,f),r[t++]=8,e.tofixedbits(),e.addtobits();if(r[t++]=28,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="11",e.addtobits(),e.diffside=21,e.sameshape=!1,e.sameecc=!1,e.hasslaves=!1,e.metrics=function(){e.mc=r[--t],e.mr=r[--t];var lt=e.mc,Nt=e.mr,hr=e.mc,lr=e.mr,fr=e.colors,Rr=64;if(64>fr){var cr=fr;fr=Rr,Rr=cr}var aa=e.slave?7:17;if(r[t++]=lt*Nt,r[t++]=((~~((hr-25)/16)+2)*(~~((lr-25)/16)+2)-4)*7,r[t++]=Rr*2,r[t++]=aa*4,e.slave){if(r[t++]=3,!e.sameshape){var Gr=r[--t];r[t++]=Gr+5}if(e.hasslaves){var sa=r[--t];r[t++]=sa+3}if(!e.sameecc){var Mr=e.mr,_r=e.mc;if(mn(Mr,_r)){var cr=_r;_r=Mr,Mr=cr}var za=r[--t];r[t++]=S(za+c(s([10,12,14,14,16,16,16,16]),~~((Mr-21)/16)))}var ba=~~xr(r[--t]*2/e.metabpm);e.nummetabits=ba*e.metabpm,r[t++]=ba}else{var Hr=V(e.mr,e.mc)?0:1;e.metass=Hr;var $r=e.mr,qr=e.mc;if(mn($r,qr)){var cr=qr;qr=$r,$r=cr}e.metavf=c(s([0,1,2,2,3,3,3,3]),~~(($r-21)/16)),r[t++]="metavlen",e.metass==0?r[t++]=s([2,2,3,4]):r[t++]=s([4,6,8,10]);var Vr=c(r[--t],e.metavf);if(e[r[--t]]=Vr,e.metaelen=e.metavf*2+10,r[t++]=S(7+e.metavlen+e.metaelen),e.hasslaves){var ha=r[--t];r[t++]=ha+4}var Zr=~~xr(r[--t]*2/e.metabpm);e.nummetabits=Zr*e.metabpm+6,r[t++]=Zr+6}var ls=r[--t];e.nummetamodules=ls;var Ss=r[--t],nn=r[--t],Rs=r[--t];e.numdatamodules=S(r[--t]-(Rs+(nn+(Ss+ls)))),e.numdatabits=e.numdatamodules*e.databpm},e.coderate=c(s([.67,.63,.57,.55,.5,.43,.34,.25,.2,.17,.14]),e.eclevel),e.grosslen=~~xr(e.bits.length/e.coderate),e.snapsize=function(){var lt=~~xr(r[--t])-18;r[t++]=lt,lt<0&&(r[t-1]=0);var Nt=r[--t];r[t++]=~~(Nt/4)*4+21},e.rows==-1&&e.columns==-1){r[t++]="size",r[t++]=su(e.grosslen),e.snapsize();var p=r[--t];for(e[r[--t]]=p;r[t++]=e.size,r[t++]=e.size,e.metrics(),!(e.grosslen<=e.numdatabits);)e.size=e.size+4;e.rows=e.size,e.columns=e.size}else{if(e.columns==-1&&e.rows!=-1){r[t++]="columns",r[t++]=e.grosslen/e.rows,e.snapsize();var m=r[--t];for(e[r[--t]]=m;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.columns=e.columns+4}if(e.rows==-1&&e.columns!=-1){r[t++]="rows",r[t++]=e.grosslen/e.columns,e.snapsize();var x=r[--t];for(e[r[--t]]=x;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.rows=e.rows+4}e.rows!=-1&&e.columns!=-1&&(r[t++]=e.rows,r[t++]=e.columns,e.metrics())}e.C=e.numdatabits,e.cols=e.columns,(e.rows>145||e.cols>145)&&(r[t++]="bwipp.jabcodeNoValidSymbol#27844",r[t++]="Maximum length exceeded or invalid content",z()),e.min=e.C;for(var b=3;b<=8;b+=1){e.i=b;for(var y=e.i+1;y<=9;y+=1)e.j=y,e.dist=~~(e.C/e.j)*e.j-~~(e.C/e.j)*e.i-e.bits.length,e.dist<e.min&&e.dist>=0&&(e.datawc=e.i,e.datawr=e.j,e.min=e.dist)}e.tmpbits=W(~~(e.C/e.datawr)*e.datawr-~~(e.C/e.datawr)*e.datawc),R(e.tmpbits,0,e.bits);for(var w=e.bits.length,v=e.tmpbits.length-1;w<=v;w+=1){var A=c(e.tmpbits,w-1);if(r[t++]=w,r[t++]=A,A%2==0){var j=r[--t];r[t++]=j+1}else{var E=r[--t];r[t++]=E-1}r[t++]=e.tmpbits;var k=r[t-2],N=r[t-3];g(r[t-1],N,k),t-=3}e.bits=e.tmpbits,e.m0=22610,e.m1=-3027,e.m2=19605,e.m3=32557,e.lcg64_temper=function(){e.p00=e.m0*e.s0,e.p01=e.m0*e.s1,e.p02=e.m0*e.s2,e.p03=e.m0*e.s3,e.p10=e.m1*e.s0,e.p11=e.m1*e.s1,e.p12=e.m1*e.s2,e.p13=e.m1*e.s3,e.p20=e.m2*e.s0,e.p21=e.m2*e.s1,e.p22=e.m2*e.s2,e.p23=e.m2*e.s3,e.p30=e.m3*e.s0,e.p31=e.m3*e.s1,e.p32=e.m3*e.s2,e.p33=e.m3*e.s3,e.s3=e.p33%65536+1,e.s2=e.p32%65536+~~(e.p33/65536)+e.p23%65536,e.s1=e.p31%65536+~~(e.p32/65536)+(e.p22%65536+~~(e.p23/65536))+e.p13%65536,e.s0=e.p30%65536+~~(e.p31/65536)+(e.p21%65536+~~(e.p22/65536))+(e.p12%65536+~~(e.p13/65536))+e.p03%65536,e.s3=e.s3+65536,e.s2=e.s2+65535,e.s1=e.s1+65535,e.s0=e.s0+65535,e.s2=~~(e.s3/65536)+e.s2,e.s3=e.s3%65536,e.s1=~~(e.s2/65536)+e.s1,e.s2=e.s2%65536,e.s0=~~(e.s1/65536)+e.s0,e.s1=e.s1%65536,e.s0=e.s0%65536;var lt=((e.s0-32768)*65536+e.s1^2147483648)&4294967295,Nt=lt^lt>>>11,hr=Nt^Nt<<7&-1658038656,lr=(hr^hr<<15&-272236544)&4294967295;r[t++]=lr^lr>>>18},e.createMatrixA=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var lt=r[--t];e[r[--t]]=lt,e.offset=~~xr(e.Pg_sub_block/32),e.effwidth=e.offset*32,e.matrixA=s(e.offset*e.nb_pcb);for(var Nt=0,hr=e.offset*e.nb_pcb-1;Nt<=hr;Nt+=1)g(e.matrixA,Nt,0);e.permutation=s(e.Pg_sub_block);for(var lr=0,fr=e.Pg_sub_block-1;lr<=fr;lr+=1)g(e.permutation,lr,lr);for(var Rr=0,cr=~~(e.Pg_sub_block/e.wr)-1;Rr<=cr;Rr+=1){e.i=Rr;for(var aa=0,Hr=e.wr-1;aa<=Hr;aa+=1){e.j=aa;var $r=e.matrixA,qr=e.i,Vr=e.effwidth,ha=e.wr,Zr=e.j,Gr=31-S(e.i*(e.effwidth+e.wr)+e.j)%32;g($r,~~(S(qr*(Vr+ha)+Zr)/32),c($r,~~(S(qr*(Vr+ha)+Zr)/32))|(Gr<0?1>>>-Gr:1<<Gr))}}e.s0=0,e.s1=0,e.s2=11,e.s3=64569;for(var sa=1,Mr=e.wc-1;sa<=Mr;sa+=1){e.i=sa,e.off_index=~~(e.Pg_sub_block/e.wr)*e.i;for(var _r=0,za=e.Pg_sub_block-1;_r<=za;_r+=1){e.j=_r,e.lcg64_temper();var ba=r[t-1];if(ba<0){var ls=r[--t];r[t++]=(ls^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));for(var Ss=0,nn=~~(e.Pg_sub_block/e.wr)-1;Ss<=nn;Ss+=1){e.k=Ss;var Rs=e.matrixA,rr=e.off_index,yr=e.k,Nr=e.offset,ea=e.j,Or=c(e.matrixA,~~(c(e.permutation,e.pos)/32)+e.k*e.offset),na=-(31-c(e.permutation,e.pos)%32),Kr=31-e.j%32;g(Rs,(rr+yr)*Nr+~~(ea/32),c(Rs,(rr+yr)*Nr+~~(ea/32))|(Kr<0?((na<0?Or>>>-na:Or<<na)&1)>>>-Kr:((na<0?Or>>>-na:Or<<na)&1)<<Kr))}var Za=e.permutation,es=e.Pg_sub_block,Hs=e.j;g(Za,es-1-Hs,c(e.permutation,e.pos)),g(e.permutation,e.pos,c(Za,es-1-Hs))}}},e.createMetadataMatrixA=function(){e.nb_pcb=~~(e.Pg_sub_block/2),e.offset=~~xr(e.Pg_sub_block/32),e.matrixA=s(e.offset*e.nb_pcb);for(var lt=0,Nt=e.offset*e.nb_pcb-1;lt<=Nt;lt+=1)g(e.matrixA,lt,0);e.permutation=s(e.Pg_sub_block);for(var hr=0,lr=e.Pg_sub_block-1;hr<=lr;hr+=1)g(e.permutation,hr,hr);e.s0=0,e.s1=0,e.s2=0,e.s3=38545,e.nb_once=~~(~~(e.nb_pcb/e.wc*e.Pg_sub_block+3)/e.nb_pcb);for(var fr=0,Rr=e.nb_pcb-1;fr<=Rr;fr+=1){e.i=fr;for(var cr=0,aa=e.nb_once-1;cr<=aa;cr+=1){e.j=cr,e.lcg64_temper();var Hr=r[t-1];if(Hr<0){var $r=r[--t];r[t++]=($r^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));var qr=e.matrixA,Vr=e.i,ha=e.offset,Zr=c(e.permutation,e.pos),Gr=31-c(e.permutation,e.pos)%32;g(qr,Vr*ha+~~(Zr/32),c(qr,Vr*ha+~~(Zr/32))|(Gr<0?1>>>-Gr:1<<Gr));var sa=e.permutation,Mr=e.Pg_sub_block,_r=e.j;g(sa,Mr-1-_r,c(e.permutation,e.pos)),g(e.permutation,e.pos,c(sa,Mr-1-_r))}}},e.GaussJordan=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var lt=r[--t];e[r[--t]]=lt,e.offset=~~xr(e.Pg_sub_block/32);var Nt=e.matrixA;e.matrixH=cc(s(Nt.length),Nt),r[t++]=1/0;for(var hr=0,lr=e.Pg_sub_block;hr<lr;hr++)r[t++]=0;e.column_arrangement=s(),r[t++]=1/0;for(var fr=0,Rr=e.Pg_sub_block;fr<Rr;fr++)r[t++]=!1;e.processed_column=s(),r[t++]=1/0;for(var cr=0,aa=e.nb_pcb;cr<aa;cr++)r[t++]=0;e.zero_lines_nb=s(),r[t++]=1/0;for(var Hr=0,$r=e.Pg_sub_block*2;Hr<$r;Hr++)r[t++]=0;e.swap_col=s(),e.zero_lines=0,e.loop0=0;for(var qr=0,Vr=e.nb_pcb-1;qr<=Vr;qr+=1){e.i=qr,e.pivot_column=e.Pg_sub_block+1;for(var ha=0,Zr=e.Pg_sub_block-1;ha<=Zr;ha+=1){e.j=ha;var Gr=c(e.matrixH,~~((e.offset*32*e.i+e.j)/32)),sa=-(31-(e.offset*32*e.i+e.j)%32);if(((sa<0?Gr>>>-sa:Gr<<sa)&1)==1){e.pivot_column=e.j;break}}if(e.pivot_column<e.Pg_sub_block){g(e.processed_column,e.pivot_column,!0),g(e.column_arrangement,e.pivot_column,e.i),e.pivot_column>=e.nb_pcb&&(g(e.swap_col,e.loop0*2,e.pivot_column),e.loop0=e.loop0+1),e.off_index=~~(e.pivot_column/32),e.off_index1=e.pivot_column%32;for(var Mr=0,_r=e.nb_pcb-1;Mr<=_r;Mr+=1)if(e.j=Mr,e.i!=e.j){var za=c(e.matrixH,e.off_index+e.j*e.offset),ba=-(31-e.off_index1);if(((ba<0?za>>>-ba:za<<ba)&1)==1)for(var ls=0,Ss=e.offset-1;ls<=Ss;ls+=1){e.k=ls;var nn=e.matrixH,Rs=e.offset,rr=e.j,yr=e.k;g(nn,Rs*rr+yr,fs(c(nn,Rs*rr+yr),c(e.matrixH,e.offset*e.i+e.k)))}}}else g(e.zero_lines_nb,e.zero_lines,e.i),e.zero_lines=e.zero_lines+1}e.matrix_rank=e.nb_pcb-e.zero_lines,e.loop2=0;for(var Nr=e.matrix_rank,ea=e.nb_pcb-1;Nr<=ea;Nr+=1)if(e.i=Nr,c(e.column_arrangement,e.i)>0){for(var Or=0,na=e.nb_pcb-1;Or<=na;Or+=1)if(e.j=Or,!c(e.processed_column,e.j)){g(e.column_arrangement,e.j,c(e.column_arrangement,e.i)),g(e.column_arrangement,e.i,0),g(e.processed_column,e.j,!0),g(e.processed_column,e.i,!1),g(e.swap_col,e.loop0*2,e.i),g(e.swap_col,e.loop0*2+1,e.j),g(e.column_arrangement,e.i,e.j),e.loop0=e.loop0+1,e.loop2=e.loop2+1;break}}e.loop1=0;for(var Kr=0,Za=e.nb_pcb-1;Kr<=Za;Kr+=1)e.kl=Kr,!c(e.processed_column,e.kl)&&e.loop1<e.loop0-e.loop2&&(g(e.column_arrangement,e.kl,c(e.column_arrangement,c(e.swap_col,e.loop1*2))),g(e.processed_column,e.kl,!0),g(e.swap_col,e.loop1*2+1,e.kl),e.loop1=e.loop1+1);e.loop1=0;for(var es=0,Hs=e.nb_pcb-1;es<=Hs;es+=1)e.kl=es,c(e.processed_column,e.kl)||(g(e.column_arrangement,e.kl,c(e.zero_lines_nb,e.loop1)),e.loop1=e.loop1+1);for(var bn=0,Rn=e.nb_pcb-1;bn<=Rn;bn+=1){e.i=bn;for(var zn=0,Ln=e.offset-1;zn<=Ln;zn+=1)e.j=zn,g(e.matrixA,e.i*e.offset+e.j,c(e.matrixH,S(c(e.column_arrangement,e.i)*e.offset+e.j)))}e.tmp=0;for(var wn=0,fi=e.loop0-1;wn<=fi;wn+=1){e.i=wn;for(var Qn=0,hi=e.nb_pcb-1;Qn<=hi;Qn+=1){e.j=Qn;var Ji=c(e.matrixA,~~(c(e.swap_col,e.i*2)/32)+e.j*e.offset),pi=-(31-c(e.swap_col,e.i*2)%32);e.tmp=(-((pi<0?Ji>>>-pi:Ji<<pi)&1)^e.tmp)&1^e.tmp;var Xi=e.matrixA,Zi=c(e.swap_col,e.i*2),Ye=e.j,gt=e.offset,pr=c(e.matrixA,~~(c(e.swap_col,e.i*2+1)/32)+e.j*e.offset),kr=-(31-c(e.swap_col,e.i*2+1)%32),pa=31-c(e.swap_col,e.i*2)%32;g(Xi,~~(Zi/32)+Ye*gt,c(Xi,~~(Zi/32)+Ye*gt)^(-((kr<0?pr>>>-kr:pr<<kr)&1)^c(e.matrixA,~~(c(e.swap_col,e.i*2)/32)+e.j*e.offset))&(pa<0?1>>>-pa:1<<pa));var ts=e.matrixA,rs=c(e.swap_col,e.i*2+1),Es=e.j,on=e.offset,yn=31-c(e.swap_col,e.i*2+1)%32;g(ts,~~(rs/32)+Es*on,c(ts,~~(rs/32)+Es*on)^(-(e.tmp&1)^c(e.matrixA,~~(c(e.swap_col,e.i*2+1)/32)+e.j*e.offset))&(yn<0?1>>>-yn:1<<yn))}}},e.createGeneratorMatrix=function(){e.pn=e.Pg_sub_block-e.matrix_rank,e.offset=~~xr(e.pn/32),e.effwidth=e.offset*32,e.offset_cap=~~xr(e.Pg_sub_block/32),e.G=s(e.offset*e.Pg_sub_block);for(var lt=0,Nt=e.offset*e.Pg_sub_block-1;lt<=Nt;lt+=1)g(e.G,lt,0);for(var hr=0,lr=e.pn-1;hr<=lr;hr+=1){e.i=hr;var fr=e.G,Rr=e.Pg_sub_block,cr=e.pn,aa=e.i,Hr=e.offset,$r=e.i,qr=31-e.i%32;g(fr,(Rr-cr+aa)*Hr+~~($r/32),c(fr,(Rr-cr+aa)*Hr+~~($r/32))|(qr<0?1>>>-qr:1<<qr))}e.matrix_index=e.Pg_sub_block-e.pn,e.loop0=0;for(var Vr=0,ha=(e.Pg_sub_block-e.pn)*e.effwidth-1;Vr<=ha;Vr+=1)if(e.i=Vr,e.matrix_index>=e.Pg_sub_block&&(e.loop0=e.loop0+1,e.matrix_index=e.Pg_sub_block-e.pn),e.i%e.effwidth<e.pn){var Zr=e.G,Gr=e.i,sa=c(e.matrixA,~~(e.matrix_index/32)+e.offset_cap*e.loop0),Mr=-(31-e.matrix_index%32),_r=31-e.i%32;g(Zr,~~(Gr/32),c(Zr,~~(Gr/32))^(-((Mr<0?sa>>>-Mr:sa<<Mr)&1)^c(e.G,~~(e.i/32)))&(_r<0?1>>>-_r:1<<_r)),e.matrix_index=e.matrix_index+1}},e.ldpc=function(){e.wr=r[--t],e.wc=r[--t],r[t++]=1/0;var lt=r[--t],Nt=r[--t];if(r[t++]=lt,ve(Nt,function(){var ls=r[--t];r[t++]=ls-48}),e.data=s(),e.Pn=e.data.length,e.wr!=-1){if(e.Pg=~~(xr(xr(e.Pn*e.wr/S(e.wr-e.wc))/e.wr)*e.wr),e.nb_sub_blocks=~~(e.Pg/2700)+1,e.Pg_sub_block=~~(~~(e.Pg/e.nb_sub_blocks)/e.wr)*e.wr,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.nb_sub_blocks=~~(e.Pg/e.Pg_sub_block),r[t++]="encoding_iterations",r[t++]=~~(e.Pg/e.Pg_sub_block),e.Pn_sub_block*e.nb_sub_blocks<e.Pn){var hr=r[--t];r[t++]=hr-1}var lr=r[--t];e[r[--t]]=lr,e.createMatrixA()}else e.Pg=e.Pn*2,e.nb_sub_blocks=1,e.Pg_sub_block=e.Pg,e.Pn_sub_block=e.Pn,e.encoding_iterations=1,e.createMetadataMatrixA();e.GaussJordan(),e.createGeneratorMatrix(),e.ecc_encoded_data=s(e.Pg),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var fr=0,Rr=e.encoding_iterations-1;fr<=Rr;fr+=1){e.iter=fr;for(var cr=0,aa=e.Pg_sub_block-1;cr<=aa;cr+=1){e.i=cr,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Hr=e.iter*e.Pn_sub_block,$r=(e.iter+1)*e.Pn_sub_block-1;Hr<=$r;Hr+=1){var qr=c(e.G,e.offset_index+~~(e.loop0/32)),Vr=-(31-e.loop0%32);e.temp=c(e.data,Hr)&((Vr<0?qr>>>-Vr:qr<<Vr)&1)^e.temp,e.loop0=e.loop0+1}g(e.ecc_encoded_data,e.i+e.iter*e.Pg_sub_block,e.temp)}}if(e.encoding_iterations!=e.nb_sub_blocks){e.start=e.encoding_iterations*e.Pn_sub_block,e.last_index=e.encoding_iterations*e.Pg_sub_block,e.Pg_sub_block=e.Pg-e.encoding_iterations*e.Pg_sub_block,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.createMatrixA(),e.GaussJordan(),e.createGeneratorMatrix(),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var ha=0,Zr=e.Pg_sub_block-1;ha<=Zr;ha+=1){e.i=ha,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Gr=e.start,sa=e.Pn-1;Gr<=sa;Gr+=1){var Mr=c(e.G,e.offset_index+~~(e.loop0/32)),_r=-(31-e.loop0%32);e.temp=c(e.data,Gr)&((_r<0?Mr>>>-_r:Mr<<_r)&1)^e.temp,e.loop0=e.loop0+1}g(e.ecc_encoded_data,e.i+e.last_index,e.temp)}}e.out=W(e.Pg);for(var za=0,ba=e.Pg-1;za<=ba;za+=1)g(e.out,za,c(e.ecc_encoded_data,za)+48);r[t++]=e.out},r[t++]="bits",r[t++]=e.bits,r[t++]=e.datawc,r[t++]=e.datawr,e.ldpc();var B=r[--t];e[r[--t]]=B,e.s0=0,e.s1=0,e.s2=3,e.s3=30151;for(var I=e.bits.length-1;I>=1;I-=1){e.l=I,e.lcg64_temper();var D=r[t-1];if(D<0){var T=r[--t];r[t++]=(T^2147483648)+2147483648}e.r=~~(r[--t]/4294967296*(e.l+1)),g(e.bits,e.l,c(e.bits,e.r)),g(e.bits,e.r,c(e.bits,e.l))}e.tmpbits=W(e.C),R(e.tmpbits,0,e.bits),e.j=e.bits.length;for(var M=0,Q=~~((S(e.C-e.j)+1)/2);M<Q;M++)g(e.tmpbits,e.j,48),e.j+1<e.C&&g(e.tmpbits,e.j+1,49),e.j=e.j+2;if(e.bits=e.tmpbits,e.colors==4)e.bi=0,e.gi=1,e.mi=2,e.yi=3,e.ki=4,e.wi=5,r[t++]=1/0,r[t++]=e.bi,r[t++]="0000FF",r[t++]=e.gi,r[t++]="00FF00",r[t++]=e.mi,r[t++]="FF00FF",r[t++]=e.yi,r[t++]="FFFF00",r[t++]=e.ki,r[t++]="000000",r[t++]=e.wi,r[t++]="FFFFFF",e.palette=_e(),e.metacolorindex=s([e.bi,e.gi,e.mi,e.yi]),e.palettelayout=s([e.bi,e.gi,e.mi,e.yi]);else{var F=new Map([[8,s([2,2,2])],[16,s([4,2,2])],[32,s([4,4,2])],[64,s([4,4,4])],[128,s([8,4,4])],[256,s([8,8,4])]]);e.rgbres=c(F,e.colors),r[t++]="rvals",r[t++]=c(e.rgbres,0),r[t++]=1/0;var P=r[--t],L=r[--t]-1;r[t++]=P,r[t++]=L;for(var _=0,H=L;_<=H;_+=1){var Y=r[--t];r[t++]=~~j1(_*(255/Y)),r[t++]=Y}t--;var de=s();e[r[--t]]=de,r[t++]="gvals",r[t++]=c(e.rgbres,1),r[t++]=1/0;var $=r[--t],q=r[--t]-1;r[t++]=$,r[t++]=q;for(var re=0,ce=q;re<=ce;re+=1){var J=r[--t];r[t++]=~~j1(re*(255/J)),r[t++]=J}t--;var oe=s();e[r[--t]]=oe,r[t++]="bvals",r[t++]=c(e.rgbres,2),r[t++]=1/0;var ue=r[--t],he=r[--t]-1;r[t++]=ue,r[t++]=he;for(var Re=0,te=he;Re<=te;Re+=1){var Be=r[--t];r[t++]=~~j1(Re*(255/Be)),r[t++]=Be}t--;var Se=s();e[r[--t]]=Se,e.colors,e.palette=new Map;var Oe=e.colors,Ue=64;if(64>Oe){var be=Oe;Oe=Ue,Ue=be}e.palettelayout=s(Ue),e.i=0,e.j=8,ve(e.rvals,function(){e.r=r[--t],ve(e.gvals,function(){e.g=r[--t],ve(e.bvals,function(){e.b=r[--t];var lt=Fr(W(6),"000000"),Nt=$t(W(6),e.r<<16|e.g<<8|e.b,16);R(lt,6-Nt.length,Nt),r[t++]=lt,r[t++]=!1,V(lt,"000000")&&(e.ki=e.i,r[t-1]=!0);var hr=r[t-2];V(hr,"0000FF")&&(e.bi=e.i,r[t-1]=!0);var lr=r[t-2];V(lr,"00FF00")&&(e.gi=e.i,r[t-1]=!0);var fr=r[t-2];V(fr,"00FFFF")&&(e.ci=e.i,r[t-1]=!0);var Rr=r[t-2];V(Rr,"FF0000")&&(e.ri=e.i,r[t-1]=!0);var cr=r[t-2];V(cr,"FF00FF")&&(e.mi=e.i,r[t-1]=!0);var aa=r[t-2];V(aa,"FFFF00")&&(e.yi=e.i,r[t-1]=!0);var Hr=r[t-2];V(Hr,"FFFFFF")&&(e.wi=e.i,r[t-1]=!0),r[--t]||(e.colors<=64||e.colors==128&&(e.r==0||e.r==73||e.r==182||e.r==255)||e.colors==256&&(e.r==0||e.r==73||e.r==182||e.r==255)&&(e.g==0||e.g==73||e.g==182||e.g==255))&&(g(e.palettelayout,e.j,e.i),e.j=e.j+1),g(e.palette,e.i,r[--t]),e.i=e.i+1})})}),R(e.palettelayout,0,s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])),e.metacolorindex=s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])}r[t++]=1/0;for(var $e=0,Fe=e.rows*e.cols;$e<Fe;$e++)r[t++]=-1;e.pixs=s(),e.jmv=function(){var lt=r[--t],Nt=r[--t];r[t++]=S(Nt+lt*e.cols)},e.slave?(e.fpat=s([s([0,0,0,0,0]),s([0,2,2,0,0]),s([0,2,1,2,0]),s([0,0,2,2,0]),s([0,0,0,0,0])]),e.fmap=s([s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi])])):(e.fpat=s([s([1,1,1,0,0]),s([1,2,2,0,0]),s([1,2,1,2,1]),s([0,0,2,2,1]),s([0,0,1,1,1])]),e.fmap=s([s([-1,e.bi,e.yi]),s([-1,e.yi,e.bi]),s([-1,e.gi,e.mi]),s([-1,e.mi,e.gi])]));for(var Ke=0;Ke<=4;Ke+=1){e.y=Ke;for(var Je=0;Je<=4;Je+=1){e.x=Je,e.fpb=c(c(e.fpat,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=e.y+1,e.jmv();var rt=r[--t];g(r[--t],rt,c(c(e.fmap,0),e.fpb)),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=S(e.rows-e.y)-2,e.jmv();var ae=r[--t];g(r[--t],ae,c(c(e.fmap,1),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=e.y+1,e.jmv();var fe=r[--t];g(r[--t],fe,c(c(e.fmap,2),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=S(e.rows-e.y)-2,e.jmv();var Me=r[--t];g(r[--t],Me,c(c(e.fmap,3),e.fpb))}}if(e.algnpat0=s([s([e.ki,e.ki,-1]),s([e.ki,e.wi,e.ki]),s([-1,e.ki,e.ki])]),e.algnpat1=s([s([-1,e.ki,e.ki]),s([e.ki,e.wi,e.ki]),s([e.ki,e.ki,-1])]),e.num=~~j1(e.cols/16)-1,e.algnrpos=s([3,17]),e.num>0){r[t++]=1/0;for(var Le=0,Xe=e.num;Le<=Xe;Le+=1)r[t++]=~~(Le*((e.cols-7)/e.num))+3;e.algnrpos=s()}if(e.num=~~j1(e.rows/16)-1,e.algncpos=s([3,17]),e.num>0){r[t++]=1/0;for(var ze=0,qe=e.num;ze<=qe;ze+=1)r[t++]=~~(ze*((e.rows-7)/e.num))+3;e.algncpos=s()}e.putalgnpat=function(){e.pp=r[--t],e.py=r[--t],e.px=r[--t];for(var lt=0;lt<=2;lt+=1){e.pb=lt;for(var Nt=0;Nt<=2;Nt+=1){e.pa=Nt,r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.jmv();var hr=r[--t];g(r[--t],hr,c(c(e.pp,e.pb),e.pa))}}};for(var ht=0,vt=e.algncpos.length-1;ht<=vt;ht+=1){e.j=ht,e.y=c(e.algncpos,e.j);for(var dt=0,wt=e.algnrpos.length-1;dt<=wt;dt+=1){e.i=dt,e.x=c(e.algnrpos,e.i),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.jmv();var Bt=r[--t];c(r[--t],Bt)==-1&&(r[t++]=e.x-1,r[t++]=e.y-1,(e.i+e.j)%2==0?r[t++]=e.algnpat0:r[t++]=e.algnpat1,e.putalgnpat())}}if(e.slave){r[t++]=1/0;for(var Mt=1;Mt<=19;Mt+=1)e.i=Mt,r[t++]=s([0,e.i]),r[t++]=s([1,e.i]);for(var Lt=5;Lt<=12;Lt+=1)e.i=Lt,r[t++]=s([2,e.i]),r[t++]=s([3,e.i]);e.metadatamap=s(),r[t++]=1/0;for(var Dt=5;Dt<=12;Dt+=1){var kt=1/0,O=Dt;r[t++]=kt,r[t++]=4,r[t++]=O;var K=s();r[t++]=K}for(var G=12;G>=5;G-=1){var se=1/0,le=G;r[t++]=se,r[t++]=5,r[t++]=le;var ge=s();r[t++]=ge}for(var ee=5;ee<=12;ee+=1){var ke=1/0,X=ee;r[t++]=ke,r[t++]=6,r[t++]=X;var xe=s();r[t++]=xe}for(var me=12;me>=5;me-=1){var ye=1/0,ne=me;r[t++]=ye,r[t++]=7,r[t++]=ne;var we=s();r[t++]=we}e.palettemap1=s(),r[t++]=1/0;for(var Ee=e.palettemap1,pe=0,Ne=Ee.length;pe<Ne;pe++){var Ae=1/0,Ce=c(Ee,pe);r[t++]=Ae,U(Ce);var Qe=r[--t],Pe=r[--t];r[t++]=-Pe,r[t++]=-Qe;var We=s();r[t++]=We}e.palettemap2=s()}else{for(var jt=s([s([6,1]),s([6,2]),s([6,3]),s([6,4]),s([6,5]),s([6,6]),s([5,6]),s([4,6]),s([3,6]),s([2,6]),s([1,6]),s([7,1]),s([7,2]),s([7,3]),s([7,4]),s([7,5]),s([7,6]),s([7,7]),s([6,7]),s([5,7]),s([4,7]),s([3,7]),s([2,7]),s([1,7]),s([8,1]),s([8,2]),s([8,3]),s([8,4]),s([8,5]),s([8,6]),s([8,7]),s([8,8]),s([7,8]),s([6,8]),s([5,8]),s([4,8]),s([3,8]),s([2,8]),s([1,8]),s([9,1]),s([9,2]),s([9,3]),s([9,4]),s([9,5])]),At=0,_t=jt.length;At<_t;At++)U(c(jt,At)),e.y=r[--t],e.x=r[--t],r[t++]=s([e.x,e.y]),r[t++]=s([-e.x,e.y]),r[t++]=s([-e.x,-e.y]),r[t++]=s([e.x,-e.y]);Vt(s(176)),e.metadatamap=r[--t],e.palettemap1=s([s([4,1]),s([4,2]),s([5,1]),s([5,2]),s([2,4]),s([2,5]),s([1,4]),s([1,5]),s([-2,1]),s([-2,2]),s([-1,1]),s([-1,2]),s([-4,4]),s([-4,5]),s([-5,4]),s([-5,5])]),e.palettemap2=s([s([-4,-5]),s([-4,-4]),s([-5,-5]),s([-5,-4]),s([-2,-2]),s([-2,-1]),s([-1,-2]),s([-1,-1]),s([2,-5]),s([2,-4]),s([1,-5]),s([1,-4]),s([4,-2]),s([4,-1]),s([5,-2]),s([5,-1])])}for(var st=e.metadatamap,at=0,je=st.length;at<je;at++){var Ge=c(st,at),He=c(Ge,0);if(r[t++]=Ge,r[t++]=He,He<0){var Ze=r[--t],ft=r[t-1];g(ft,0,S(Ze+e.cols)-1)}else t--;var pt=r[t-1],ut=c(pt,1);if(r[t++]=ut,ut<0){var xt=r[--t],nt=r[t-1];g(nt,1,S(xt+e.rows)-1)}else t--;t--}for(var Tt=e.palettemap1,et=0,Qt=Tt.length;et<Qt;et++){var Ht=c(Tt,et),Ot=c(Ht,0);if(r[t++]=Ht,r[t++]=Ot,Ot<0){var sr=r[--t],Sr=r[t-1];g(Sr,0,S(sr+e.cols)-1)}else t--;var nr=r[t-1],gr=c(nr,1);if(r[t++]=gr,gr<0){var ar=r[--t],Ir=r[t-1];g(Ir,1,S(ar+e.rows)-1)}else t--;t--}for(var Zt=e.palettemap2,dr=0,Kt=Zt.length;dr<Kt;dr++){var Jt=c(Zt,dr),ur=c(Jt,0);if(r[t++]=Jt,r[t++]=ur,ur<0){var Tr=r[--t],Pr=r[t-1];g(Pr,0,S(Tr+e.cols)-1)}else t--;var ua=r[t-1],Et=c(ua,1);if(r[t++]=Et,Et<0){var Gt=r[--t],tr=r[t-1];g(tr,1,S(Gt+e.rows)-1)}else t--;t--}for(var br=0,ir=e.nummetamodules-1;br<=ir;br+=1){r[t++]=e.pixs,U(c(e.metadatamap,br)),e.jmv();var Br=r[--t];g(r[--t],Br,0)}if(e.slave)e.i=0;else{var or=e.colors,Ut=16;if(16>or){var be=or;or=Ut,Ut=be}for(var wr=0,ta=Ut-1;wr<=ta;wr+=1){e.i=wr;var fa=c(e.palettelayout,e.i);r[t++]=fa,r[t++]=e.pixs,r[t++]=fa,U(c(e.palettemap1,e.i)),e.jmv();var ya=r[--t],Lr=r[--t];g(r[--t],ya,Lr);var Ea=r[--t];r[t++]=e.pixs,r[t++]=Ea,U(c(e.palettemap2,e.i)),e.jmv();var ga=r[--t],Ra=r[--t];g(r[--t],ga,Ra)}e.i=16}e.j=e.nummetamodules;for(var la=e.i,Aa=e.palettelayout.length-1;la<=Aa;la+=2){e.i=la;var Ca=c(e.palettelayout,e.i);r[t++]=Ca,r[t++]=e.pixs,r[t++]=Ca,U(c(e.metadatamap,e.j)),e.jmv();var ka=r[--t],La=r[--t];g(r[--t],ka,La);var Qa=r[--t];r[t++]=e.pixs,r[t++]=Qa,U(c(e.metadatamap,e.j+2)),e.jmv();var Va=r[--t],ps=r[--t];g(r[--t],Va,ps);var Ia=c(e.palettelayout,e.i+1);r[t++]=Ia,r[t++]=e.pixs,r[t++]=Ia,U(c(e.metadatamap,e.j+1)),e.jmv();var Bs=r[--t],Ha=r[--t];g(r[--t],Bs,Ha);var zs=r[--t];r[t++]=e.pixs,r[t++]=zs,U(c(e.metadatamap,e.j+3)),e.jmv();var Ma=r[--t],ms=r[--t];g(r[--t],Ma,ms),e.j=e.j+4}var Ds=s([function(){var lt=r[--t],Nt=r[--t];r[t++]=S(Nt+lt)%e.colors},function(){t--;var lt=r[--t];r[t++]=lt%e.colors},function(){var lt=r[--t];r[t-1]=lt;var Nt=r[--t];r[t++]=Nt%e.colors},function(){var lt=r[--t],Nt=r[--t];r[t++]=(~~(lt/3)+~~(Nt/2))%e.colors},function(){var lt=r[--t],Nt=r[--t];r[t++]=(~~(lt/2)+~~(Nt/3))%e.colors},function(){var lt=r[--t],Nt=S(r[--t]+lt);r[t++]=(~~(Nt/2)+~~(Nt/3))%e.colors},function(){var lt=r[--t],Nt=r[--t];r[t++]=S(lt*(Nt*Nt)%7+(lt+Nt*Nt)*2%19)%e.colors},function(){var lt=r[--t],Nt=r[--t];r[t++]=S(Nt*(lt*lt)%5+(lt*lt+Nt*2)%13)%e.colors}]);e.maskfuncs=Ds,e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask)]),e.bestmaskval=e.mask),e.masks=s(e.maskfuncs.length);for(var Ts=0,Ka=e.masks.length-1;Ts<=Ka;Ts+=1){e.m=Ts,e.mask=s(e.rows*e.cols);for(var Ls=0,Wa=e.rows-1;Ls<=Wa;Ls+=1){e.j=Ls;for(var xs=0,Fa=e.cols-1;xs<=Fa;xs+=1){e.i=xs,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.jmv();var vn=r[--t];if(c(r[--t],vn)==-1){if(r[t++]=e.i,r[t++]=e.j,c(e.maskfuncs,e.m)()===!0)break}else r[t++]=0;r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.jmv();var $a=r[t-3],In=r[t-1];g(r[t-2],In,$a),t-=3}}g(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.i=0;e.posx!=e.cols;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Ba=r[--t];if(c(r[--t],Ba)==-1){var Js=C(e.bits,e.i,e.databpm);r[t++]=0;for(var Pa=0,rn=Js.length;Pa<rn;Pa++){var is=r[--t];r[t++]=S(is+(c(Js,Pa)-48))*2}var Xt=r[--t];r[t++]=~~(Xt/2),r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Xr=r[t-3],ja=r[t-1];g(r[t-2],ja,Xr),t-=3,e.i=e.i+e.databpm}e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)}e.evalrle=function(){e.scrle=r[--t],e.scr1=0,e.scr3=0;for(var lt=0,Nt=e.scrle.length-2;lt<=Nt;lt+=2)if(e.j=lt,c(e.scrle,e.j+1)!=-1){var hr=c(e.scrle,e.j);if(r[t++]=hr,hr>=5?e.scr1=S(r[--t]-2+e.scr1):t--,e.j>=4&&e.j<=e.scrle.length-5){var lr=C(e.scrle,e.j-4,10);r[t++]=lr;for(var fr=0,Rr=lr.length;fr<Rr;fr++)r[t++]=c(lr,fr)==1;t--;for(var cr=0;cr<4;cr++){var aa=r[--t];r[t-1]=aa;var Hr=r[--t],$r=r[--t];r[t++]=fo($r,Hr)}if(r[--t]){r[t++]=1/0;var qr=r[--t],Vr=r[--t];r[t++]=qr,U(Vr);var ha=r[t-1],Zr=r[t-3],Gr=r[t-5],sa=r[t-7],Mr=r[t-9];if(V(Mr,Gr)&&V(Mr,ha)&&V(sa,Zr)){var _r=r[--t],za=r[--t],ba=r[--t];e.c4=ba,e.c5=_r,r[t++]=ba,r[t++]=za,(e.c4==e.bi&&e.c5==e.yi||e.c4==e.yi&&e.c5==e.bi||e.c4==e.gi&&e.c5==e.mi||e.c4==e.mi&&e.c5==e.gi)&&(e.scr3=e.scr3+100)}el()}else t--}}r[t++]=e.scr1,r[t++]=e.scr3},e.evalmask=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0;var lt=e.rows,Nt=e.cols;if(lt<Nt){var hr=Nt;Nt=lt,lt=hr}e.rle=s(lt*2+2),e.lastpairs=s(e.cols),e.thispairs=s(e.cols);for(var lr=0,fr=e.cols-1;lr<=fr;lr+=1){e.i=lr,r[t++]=1/0,r[t++]=0,r[t++]=-1;for(var Rr=e.i,cr=e.cols,aa=e.rows*e.cols-1;cr<0?Rr>=aa:Rr<=aa;Rr+=cr){var Hr=c(e.sym,Rr),$r=r[t-1];if(r[t++]=Hr,V($r,Hr)){t--;var qr=r[--t],Vr=r[--t];r[t++]=Vr+1,r[t++]=qr}else{var ha=r[--t];r[t++]=1,r[t++]=ha}}var Zr=xa()+2;Vt(C(e.rle,0,Zr-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}for(var Gr=0,sa=e.rows-1;Gr<=sa;Gr+=1){e.i=Gr,e.symrow=C(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Mr=e.symrow;r[t++]=0,r[t++]=-1;for(var _r=0,za=Mr.length;_r<za;_r++){var ba=c(Mr,_r),ls=r[t-1];if(r[t++]=ba,V(ls,ba)){t--;var Ss=r[--t],nn=r[--t];r[t++]=nn+1,r[t++]=Ss}else{var Rs=r[--t];r[t++]=1,r[t++]=Rs}}var rr=xa()+2;Vt(C(e.rle,0,rr-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var yr=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=yr;var Nr=e.symrow;r[t++]=-1;for(var ea=0,Or=Nr.length;ea<Or;ea++){var na=c(Nr,ea),Kr=r[--t];if(r[t++]=na,r[t++]=Kr,Ie(na,Kr)){t--;var Za=r[--t];r[t++]=-1,r[t++]=Za}}if(t--,Vt(e.thispairs),t--,e.i>0){r[t++]=1/0,U(e.lastpairs),U(e.thispairs),r[t++]=e.n2;for(var es=0,Hs=e.cols;es<Hs;es++){var bn=r[--t],Rn=r[--t];if(r[t++]=bn,r[t++]=Rn,Rn!=-1){var zn=r[t-1-(e.cols+1)];if(V(r[--t],zn)){var Ln=r[--t];r[t++]=Ln+3}}else t--}e.n2=r[--t],el()}}r[t++]=S(e.n1+e.n2+e.n3)},e.bestscore=999999999;for(var _a=0,vs=e.masks.length-1;_a<=vs;_a+=1){e.m=_a,e.masksym=s(e.rows*e.cols);for(var Qr=0,os=e.rows*e.cols-1;Qr<=os;Qr+=1)e.i=Qr,g(e.masksym,e.i,fs(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalmask(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,e.metamask=e.bestmaskval,e.addtometapart=function(){var lt=r[--t];R(e.metapart,e.p,lt),e.p=lt.length+e.p},e.addtometabits=function(){var lt=r[--t];R(e.metabits,e.q,lt),e.q=lt.length+e.q},e.metapart=W(40),e.metabits=W(e.nummetabits),e.p=0,e.q=0,!e.slave)r[t++]=~~j1(hn(e.colors)/hn(2))-1,r[t++]=3,e.tofixedbits(),e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,r[t++]=e.metass,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=e.metavf,r[t++]=2,e.tofixedbits(),e.addtometapart(),r[t++]=e.metamask,r[t++]=3,e.tofixedbits(),e.addtometapart(),e.hasslaves?r[t++]="1":r[t++]="0",e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.metass==0?(r[t++]=S(~~((e.cols-17)/4)-c(s([0,4,8,16]),e.metavf))-1,r[t++]=e.metavlen,e.tofixedbits(),e.addtometapart()):(r[t++]=~~((e.cols-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart(),r[t++]=~~((e.rows-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart()),r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),e.hasslaves&&(r[t++]=0,r[t++]=4,e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0;else{var gs=e.sameshape?0:1;r[t++]=gs,r[t++]=1,e.tofixedbits(),e.addtometapart();var Oa=e.sameecc?0:1;r[t++]=Oa,r[t++]=1,e.tofixedbits(),e.addtometapart();var Bn=e.hasslaves?1:0;r[t++]=Bn,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameshape||(r[t++]=~~((e.diffside-17)/4)-1,r[t++]=5,e.tofixedbits(),e.addtometapart()),e.hasslaves&&(r[t++]=0,r[t++]=3,e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameecc||(r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0}for(var Da=e.q,ui=e.nummetabits-1;Da<=ui;Da+=1)g(e.metabits,Da,48);if(e.i=0,e.j=0,!e.slave){for(var Qs=C(e.metabits,e.i,6),Ta=0,Dn=Qs.length;Ta<Dn;Ta++){r[t++]=c(Qs,Ta),e.colors==4?r[t++]=s([e.bi,e.yi]):r[t++]=s([e.ki,e.wi]);var Ja=r[--t],Tn=c(Ja,r[--t]-48);r[t++]=Tn,r[t++]=e.pixs,U(c(e.metadatamap,e.j)),e.jmv();var bs=r[t-3],an=r[t-1];g(r[t-2],an,bs),t-=3,e.j=e.j+1}e.i=e.i+6}for(var sn=0,Xn=~~(S(e.nummetabits-e.i)/e.metabpm);sn<Xn;sn++){var yt=C(e.metabits,e.i,e.metabpm);r[t++]=0;for(var Yr=0,ra=yt.length;Yr<ra;Yr++){var Ua=r[--t];r[t++]=S(Ua+(c(yt,Yr)-48))*2}var ca=c(e.metacolorindex,~~(r[--t]/2));r[t++]=ca,r[t++]=e.pixs,U(c(e.metadatamap,e.j)),e.jmv();var Xa=r[t-3],ws=r[t-1];g(r[t-2],ws,Xa),t-=3,e.i=S(e.i+e.metabpm),e.j=e.j+1}var gn=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["colormap",e.palette],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=gn,e.dontdraw||mt(),e=a}function hs(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!1,e.dontdraw=!1,e.ccversion="a",e.cccolumns=-1,e.lintype="",e.linwidth=-1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],Ie(e.ccversion,"a")&&Ie(e.ccversion,"b")&&Ie(e.ccversion,"c")&&(r[t++]="bwipp.gs1ccBadCCversion#28834",r[t++]="ccversion must be a, b or c",z()),e.cccolumns>30&&(r[t++]="bwipp.gs1ccColumnsTooBig#28838",r[t++]="The maximum number of composite component columns is 30",z());var n=new Map([["ean13",4],["upca",4],["ean8",3],["upce",2],["gs1-128",4],["databaromni",4],["databarstacked",2],["databarstackedomni",2],["databartruncated",4],["databarlimited",3],["databarexpanded",4],["databarexpandedstacked",4]]);if(e.lintypecccolumns=n,e.lintype.length!=0){var i=c(e.lintypecccolumns,e.lintype)!==void 0;i||(r[t++]="bwipp.gs1ccBadLinType#28860",r[t++]="The lintype is not recognised",z())}for(e.cccolumns==-1&&(V(e.lintype,"gs1-128")&&V(e.ccversion,"c")?(e.linwidth<0&&(r[t++]="bwipp.gs1ccMissingLinWidth#28868",r[t++]="linwidth must be set for a GS1-128 with a CC-C composite component",z()),e.linwidth<68&&(r[t++]="bwipp.gs1ccMinimumLinWidth#28871",r[t++]="Minimum linwidth for a GS1-128 with a CC-C composite component is 68",z()),e.linwidth==68?r[t++]=1:r[t++]=~~((e.linwidth-52)/17)):e.lintype.length!=0?r[t++]=c(e.lintypecccolumns,e.lintype):r[t++]=2,e.cccolumns=r[--t]),r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.isupper=function(){var Xt=r[--t];r[t++]=Xt>=65&&Xt<=90},e.isnum0=function(){var Xt=r[--t];r[t++]=Xt>=48&&Xt<=57},e.isnum1=function(){var Xt=r[--t];r[t++]=Xt>=49&&Xt<=57};;){if(e.ais.length>=1&&(V(c(e.ais,0),"10")||V(c(e.ais,0),"11")||V(c(e.ais,0),"17"))){r[t++]=-1,r[t++]="10";break}if(e.ais.length>=1&&V(c(e.ais,0),"90")){if(e.v=c(e.vals,0),e.v.length>=1&&(r[t++]=c(e.v,0),e.isupper(),r[--t])){r[t++]=0,r[t++]="11";break}if(e.v.length>=2){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isupper();var o=r[--t];if(r[--t]&&o){r[t++]=1,r[t++]="11";break}}if(e.v.length>=3){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isnum0();var d=r[--t],u=r[--t];r[t++]=fo(u,d),r[t++]=c(e.v,2),e.isupper();var f=r[--t];if(r[--t]&&f){r[t++]=2,r[t++]="11";break}}if(e.v.length>=4){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isnum0();var h=r[--t],p=r[--t];r[t++]=fo(p,h),r[t++]=c(e.v,2),e.isnum0();var m=r[--t],x=r[--t];r[t++]=fo(x,m),r[t++]=c(e.v,3),e.isupper();var b=r[--t];if(r[--t]&&b){r[t++]=3,r[t++]="11";break}}}r[t++]=-1,r[t++]="0";break}e.method=r[--t],e.npre=r[--t],e.tobin=function(){var Xt=W(r[--t]);r[t++]=Xt;for(var Xr=0,ja=Xt.length-1;Xr<=ja;Xr+=1){var _a=r[t-1];g(_a,Xr,48)}var vs=r[t-1];r[t++]=vs;var Qr=r[t-3],os=r[t-1];r[t-3]=r[t-2],t-=2;var gs=$t(W(os.length),Qr,2);R(os,os.length-gs.length,gs)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,r[t++]=1/0;for(var y=65;y<=90;y+=1)r[t++]=y,r[t++]=y-65,r[t++]=5,e.tobin();for(var w=48;w<=57;w+=1)r[t++]=w,r[t++]=w+4,r[t++]=6,e.tobin();r[t++]=e.fnc1,r[t++]="11111",e.alpha=_e(),r[t++]=1/0;for(var v=0;v<=119;v+=1){var A=Fr(W(2),"00"),j=$t(W(2),v,11);if(R(A,2-j.length,j),r[t++]=v,r[t++]=A,c(A,0)==65){var E=r[t-1];g(E,0,94)}var k=r[t-1];if(c(k,1)==65){var N=r[t-1];g(N,1,94)}var B=r[--t],I=Fr(W(7),"0000000"),D=$t(W(7),r[--t]+8,2);R(I,7-D.length,D),r[t++]=B,r[t++]=I}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=_e(),r[t++]=1/0;for(var T=48;T<=57;T+=1)r[t++]=T,r[t++]=T-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var M=65;M<=90;M+=1)r[t++]=M,r[t++]=M-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var Q=44;Q<=47;Q+=1)r[t++]=Q,r[t++]=Q+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=_e(),r[t++]=1/0;for(var F=48;F<=57;F+=1)r[t++]=F,r[t++]=F-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var P=65;P<=90;P+=1)r[t++]=P,r[t++]=P-1,r[t++]=7,e.tobin();for(var L=97;L<=122;L+=1)r[t++]=L,r[t++]=L-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var _=37;_<=47;_+=1)r[t++]=_,r[t++]=_+197,r[t++]=8,e.tobin();for(var H=58;H<=63;H+=1)r[t++]=H,r[t++]=H+187,r[t++]=8,e.tobin();if(r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=_e(),V(e.method,"10")){if(V(c(e.ais,0),"11")||V(c(e.ais,0),"17")){var Y=c(e.vals,0),de=Fr(W(16),"0000000000000000"),$=$t(W(16),De(C(Y,0,2))*384+((De(C(Y,2,2))-1)*32+De(C(Y,4,2))),2);R(de,16-$.length,$),r[t++]=de,r[t++]=1/0,r[t++]=1,r[t++]=0,Na(4,-1),ve(r[--t],function(){var Xt=r[--t];r[t++]=Xt-48});var q=V(c(e.ais,0),"11")?0:1;r[t++]=q,e.cdf=s(),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)}else e.cdf=s([1,0,1,1]);e.ais.length!=0?V(c(e.ais,0),"10")?(r[t++]=1/0,ve(c(e.vals,0)),e.gpf=s(),e.ais.length>1&&(r[t++]=1/0,U(e.gpf),r[t++]=e.fnc1,e.gpf=s()),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)):e.gpf=s([e.fnc1]):(r[t++]=1/0,U(e.cdf),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.cdf=s(),e.gpf=s([])),e.mode="numeric"}if(V(e.method,"11")){e.cdf=s([1,1]),e.ai90=c(e.vals,0),e.npre+1!=e.ai90.length?r[t++]=C(e.ai90,e.npre+1,S(e.ai90.length-e.npre)-1):r[t++]="",e.ai90rem=r[--t],r[t++]="nalpha",r[t++]=0,ve(e.ai90rem,function(){var Xt=r[--t];if(Xt>=65&&Xt<=90){var Xr=r[--t];r[t++]=Xr+1}});var re=r[--t];e[r[--t]]=re,r[t++]="nnums",r[t++]=0,ve(e.ai90rem,function(){var Xt=r[--t];if(Xt>=48&&Xt<=57){var Xr=r[--t];r[t++]=Xr+1}});var ce=r[--t];e[r[--t]]=ce,r[t++]="mode",I1(e.nalpha,e.nnums)?r[t++]="alpha":e.nalpha==0?r[t++]="numeric":r[t++]="alphanumeric";var J=r[--t];e[r[--t]]=J,S(e.nalpha+e.nnums)!=e.ai90rem.length&&(e.mode="alphanumeric"),r[t++]=1/0,U(e.cdf),V(e.mode,"alphanumeric")&&(r[t++]=0),V(e.mode,"numeric")&&(r[t++]=1,r[t++]=0),V(e.mode,"alpha")&&(r[t++]=1,r[t++]=1),e.cdf=s(),r[t++]="ais1",e.ais.length>1?r[t++]=c(e.ais,1):r[t++]=-1;var oe=r[--t];e[r[--t]]=oe,r[t++]="vals1",e.vals.length>1?r[t++]=c(e.vals,1):r[t++]=-1;var ue=r[--t];e[r[--t]]=ue,V(e.ais1,"21")||V(e.ais1,"8004")?(r[t++]=1/0,U(e.cdf),V(e.ais1,"21")?(r[t++]=1,r[t++]=0):(r[t++]=1,r[t++]=1),e.cdf=s()):(r[t++]=1/0,U(e.cdf),r[t++]=0,e.cdf=s()),r[t++]="nval",e.npre!=0?r[t++]=De(C(e.ai90,0,e.npre)):r[t++]=0;var he=r[--t];if(e[r[--t]]=he,Ct("BDHIJKLNPQRSTVXZ",C(e.ai90,e.npre,1)),r[--t]){var Re=r[--t];r[t-1]=Re.length;var te=r[--t];r[t-1]=te,e.aval=r[--t]}else t--,e.aval=-1;if(e.nval<31&&e.aval!=-1){var Be=Fr(W(5),"00000"),Se=$t(W(5),e.nval,2);R(Be,5-Se.length,Se);var Oe=1/0,Ue=Be;r[t++]=Oe,ve(Ue,function(){var Xt=r[--t];r[t++]=Xt-48}),e.nbits=s();var be=Fr(W(4),"0000"),$e=$t(W(4),e.aval,2);R(be,4-$e.length,$e);var Fe=1/0,Ke=be;r[t++]=Fe,ve(Ke,function(){var Xt=r[--t];r[t++]=Xt-48}),e.abits=s(),r[t++]=1/0,U(e.cdf),U(e.nbits),U(e.abits),e.cdf=s()}else{var Je=Fr(W(10),"0000000000"),rt=$t(W(10),e.nval,2);R(Je,10-rt.length,rt);var ae=1/0,fe=Je;r[t++]=ae,ve(fe,function(){var Xt=r[--t];r[t++]=Xt-48}),e.nbits=s();var Me=Fr(W(5),"00000"),Le=$t(W(5),c(e.ai90,e.npre)-65,2);R(Me,5-Le.length,Le);var Xe=1/0,ze=Me;r[t++]=Xe,ve(ze,function(){var Xt=r[--t];r[t++]=Xt-48}),e.abits=s(),r[t++]=1/0,U(e.cdf),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,U(e.nbits),U(e.abits),e.cdf=s()}if(Ie(e.mode,"alpha"))r[t++]=1/0,ve(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.gpf=s();else{r[t++]=1/0,ve(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.in=s(),e.out=s(e.in.length*6),e.j=0;for(var qe=0,ht=e.in.length-1;qe<=ht;qe+=1){var vt=c(e.alpha,c(e.in,qe));r[t++]=vt;var dt=1/0,wt=vt;r[t++]=dt,ve(wt,function(){var Xt=r[--t];r[t++]=Xt-48}),R(e.out,e.j,s()),e.j=r[--t].length+e.j}r[t++]=1/0,U(e.cdf),U(C(e.out,0,e.j)),e.cdf=s(),e.gpf=s([]),e.ais.length>1&&(e.mode="numeric")}e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(V(e.ais1,"21")||V(e.ais1,"8004"))&&(r[t++]=1/0,U(e.gpf),ve(e.vals1),e.gpf=s(),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(r[t++]=1/0,U(e.gpf),r[t++]=e.fnc1,e.gpf=s()))}V(e.method,"0")&&(e.cdf=s([0]),e.gpf=s([]),e.mode="numeric");for(var Bt=0,jt=e.ais.length-1;Bt<=jt;Bt+=1){e.i=Bt,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var At=s(e.gpf.length+e.ai.length+e.val.length);R(At,0,e.gpf),r[t++]=At,r[t++]=At,r[t++]=e.gpf.length;var _t=1/0,Mt=e.ai;r[t++]=_t,ve(Mt);var Lt=s(),Dt=r[--t];R(r[--t],Dt,Lt);var kt=r[t-1];r[t++]=kt,r[t++]=e.gpf.length+e.ai.length;var O=1/0,K=e.val;r[t++]=O,ve(K);var G=s(),se=r[--t];if(R(r[--t],se,G),e.gpf=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var le=s(e.gpf.length+1);R(le,0,e.gpf),g(le,e.gpf.length,e.fnc1),e.gpf=le}}var ge=new Map([["a",s([s([167,138,118,108,88,78,59]),s([167,138,118,98,78]),s([197,167,138,108,78])])],["b",s([s([336,296,256,208,160,104,56]),s([768,648,536,416,304,208,152,112,72,32]),s([1184,1016,840,672,496,352,264,208,152,96,56])])]]);e.bitcapsmaps=ge,e.rembits=function(){if(e.used=r[--t],Ie(e.ccversion,"c")){e.bitcaps=c(c(e.bitcapsmaps,e.ccversion),e.cccolumns-2),r[t++]=-1,ve(e.bitcaps,function(){var os=r[t-1];if(Gn(os,e.used)){var gs=r[--t],Oa=r[--t];r[t++]=gs,r[t++]=Oa}t--});var Xt=r[t-1];if(Xt!=-1){var Xr=r[--t];r[t++]=S(Xr-e.used)}}else{var ja=new Map([["c",-1]]);c(ja,e.ccversion);var _a=~~xr(e.used/8);for(e.m=~~(_a/6)*5+_a%6,e.m<=40&&(r[t++]=8),e.m>=41&&e.m<=160&&(r[t++]=16),e.m>=161&&e.m<=320&&(r[t++]=32),e.m>=321&&e.m<=833&&(r[t++]=64),e.m>=834&&(r[t++]=32),e.eccws=r[--t],e.m=S(e.m+e.eccws)+3,e.cccolumns>30&&(e.cccolumns=30);!(~~xr(e.m/e.cccolumns)<=30||e.cccolumns>=30);)e.cccolumns=e.cccolumns+1;e.r=~~xr(e.m/e.cccolumns),e.r<3&&(e.r=3);var vs=S(e.cccolumns*e.r-e.eccws)-3;e.tgt=S(~~(vs/5)*6+vs%5)*8,e.used<=8304?r[t++]=S(e.tgt-e.used):r[t++]=-1}var Qr=r[t-1];Qr==-1&&(t--,V(e.ccversion,"a")?e.ccversion="b":V(e.ccversion,"b")&&V(e.lintype,"gs1-128")?(e.ccversion="c",e.cccolumns=~~((e.linwidth-52)/17)):e.ccversion=-1,r[t++]=e.used,e.rembits())},e.encode=function(){var Xt=r[t-1];if(Ie(Xt,"raw")){var Xr=r[--t],ja=c(Xr,r[--t]);r[t++]=ja}else t--;r[t++]=1/0;var _a=r[--t],vs=r[--t];r[t++]=_a,ve(vs,function(){var os=r[--t];r[t++]=os-48});var Qr=s();R(e.gpfenc,e.j,Qr),e.j=Qr.length+e.j},r[t++]=1/0;for(var ee=0,ke=e.gpf.length;ee<ke;ee++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var X=0,xe=e.gpf.length;X<xe;X++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var me=0,ye=e.gpf.length;me<ye;me++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var ne=e.gpf.length-1;ne>=0;ne-=1){e.i=ne;var we=Fr(W(2),"00"),Ee=c(e.gpf,e.i);r[t++]=c(e.gpf,e.i),r[t++]=we,r[t++]=we,r[t++]=0,r[t++]=Ee,Ee==e.fnc1&&(r[t-1]=94);var pe=r[--t],Ne=r[--t];if(g(r[--t],Ne,pe),e.i<e.gpf.length-1){var Ae=r[t-1],Ce=c(e.gpf,e.i+1);r[t++]=Ae,r[t++]=1,r[t++]=Ce,Ce==e.fnc1&&(r[t-1]=94);var Qe=r[--t],Pe=r[--t];g(r[--t],Pe,Qe)}var We=c(e.numeric,r[--t])!==void 0;We?g(e.numericruns,e.i,c(e.numericruns,e.i+2)+2):g(e.numericruns,e.i,0);var st=r[t-1],at=c(e.alphanumeric,st)!==void 0;at?g(e.alphanumericruns,e.i,c(e.alphanumericruns,e.i+1)+1):g(e.alphanumericruns,e.i,0);var je=r[--t],Ge=c(e.iso646,je)!==void 0,He=c(e.alphanumeric,je)!==void 0;Ge&&!He?g(e.nextiso646only,e.i,0):g(e.nextiso646only,e.i,c(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(8304),e.i=0,e.j=0;e.i!=e.gpf.length;)for(;;){if(V(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var Ze=W(2),ft=c(e.gpf,e.i);r[t++]=Ze,r[t++]=Ze,r[t++]=0,r[t++]=ft,ft==e.fnc1&&(r[t-1]=94);var pt=r[--t],ut=r[--t];g(r[--t],ut,pt);var xt=r[t-1],nt=c(e.gpf,e.i+1);r[t++]=xt,r[t++]=1,r[t++]=nt,nt==e.fnc1&&(r[t-1]=94);var Tt=r[--t],et=r[--t];g(r[--t],et,Tt);var Qt=r[t-1],Ht=c(e.numeric,Qt)!==void 0;if(Ht){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var Ot=c(e.gpf,e.i);if(Ot<48||Ot>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=e.cdf.length+e.j,e.rembits();var sr=r[--t];if(e[r[--t]]=sr,e.rem>=4&&e.rem<=6){var Sr=C(Fr(W(6),"000000"),0,e.rem),nr=$t(W(4),c(e.gpf,e.i)-47,2);R(Sr,4-nr.length,nr),r[t++]=Sr,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var gr=W(2);g(gr,0,c(e.gpf,e.i)),g(gr,1,94),r[t++]=gr,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(V(e.mode,"alphanumeric")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var ar=c(e.gpf,e.i),Ir=c(e.iso646,ar)!==void 0,Zt=c(e.alphanumeric,ar)!==void 0;if(Ir&&!Zt){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(c(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var dr=c(e.numericruns,e.i);if(dr>=4&&S(dr+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(V(e.mode,"iso646")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(c(e.numericruns,e.i)>=4&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(c(e.alphanumericruns,e.i)>=5&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=C(e.gpfenc,0,e.j),r[t++]="pad",r[t++]=e.cdf.length+e.gpf.length,e.rembits();var Kt=s(r[--t]);if(e[r[--t]]=Kt,e.pad.length>0){for(var Jt=0,ur=e.pad.length-1;Jt<=ur;Jt+=5){e.i=Jt;var Tr=e.pad,Pr=e.i,ua=s([0,0,1,0,0]),Et=e.pad,Gt=e.i,tr=5,br=Et.length-Gt;if(Et.length-Gt>5){var ir=tr;tr=br,br=ir}R(Tr,Pr,C(ua,0,br))}V(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.pad),e.pad=C(s(),0,e.pad.length)),V(e.mode,"alpha")&&(r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.pad),e.pad=C(s(),0,e.pad.length))}r[t++]=1/0,U(e.cdf),U(e.gpf),U(e.pad),e.bits=s(),r[t++]=1/0,r[t++]=s([0,0,0,0,0,0,1]);for(var Br=0;Br<68;Br++)r[t++]=s(7);e.pwr928=s();for(var or=1;or<=68;or+=1){e.j=or,e.v=0;for(var Ut=6;Ut>=1;Ut-=1)e.i=Ut,e.v=S(c(c(e.pwr928,e.j-1),e.i)*2+~~(e.v/928)),g(c(e.pwr928,e.j),e.i,e.v%928);g(c(e.pwr928,e.j),0,S(c(c(e.pwr928,e.j-1),0)*2+~~(e.v/928)))}if(e.ccversion=="a"){r[t++]=1/0;for(var wr=0;wr<28;wr++)r[t++]=0;for(e.cws=s(),e.b=0,e.c=0;e.b!=e.bits.length;){var ta=e.bits,fa=e.b,ya=e.bits,Lr=e.b,Ea=ya.length-Lr,ga=69;if(69>ya.length-Lr){var ir=Ea;Ea=ga,ga=ir}e.bs=C(ta,fa,ga),e.bsl=e.bs.length,e.cs=C(e.cws,e.c,~~(e.bsl/10)+1),e.csl=e.cs.length;for(var Ra=0,la=e.bsl-1;Ra<=la;Ra+=1){e.i=Ra;for(var Aa=0,Ca=e.csl-1;Aa<=Ca;Aa+=1){e.j=Aa;var ka=e.cs,La=e.j;g(ka,La,S(c(ka,La)+c(c(e.pwr928,e.i),e.j+7-e.csl)*c(e.bs,e.bsl-e.i-1)))}}for(var Qa=e.csl-1;Qa>=1;Qa-=1){e.i=Qa;var Va=e.cs,ps=e.i;g(Va,ps-1,S(c(Va,ps-1)+~~(c(e.cs,e.i)/928)));var Ia=e.cs,Bs=e.i;g(Ia,Bs,c(Ia,Bs)%928)}e.b=e.b+e.bsl,e.c=e.c+e.csl}e.cws=C(e.cws,0,e.c),e.barcode=W(e.cws.length*4);for(var Ha=0,zs=e.cws.length-1;Ha<=zs;Ha+=1){e.i=Ha;var Ma=Fr(W(4),"^000"),ms=$t(W(4),c(e.cws,e.i),10);R(Ma,4-ms.length,ms),R(e.barcode,e.i*4,Ma)}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"cca",!0),g(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,nu();var Ds=r[--t];e[r[--t]]=Ds}if(e.ccversion=="b"){e.barcode=W(~~(e.bits.length/8));for(var Ts=0,Ka=e.barcode.length-1;Ts<=Ka;Ts+=1){e.i=Ts;var Ls=C(e.bits,e.i*8,8);r[t++]=0;for(var Wa=0,xs=Ls.length;Wa<xs;Wa++){var Fa=r[--t];r[t++]=S(Fa+c(Ls,Wa))*2}g(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"ccb",!0),g(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,nu();var vn=r[--t];e[r[--t]]=vn}if(e.ccversion=="c"){e.barcode=W(~~(e.bits.length/8));for(var $a=0,In=e.barcode.length-1;$a<=In;$a+=1){e.i=$a;var Ba=C(e.bits,e.i*8,8);r[t++]=0;for(var Js=0,Pa=Ba.length;Js<Pa;Js++){var rn=r[--t];r[t++]=S(rn+c(Ba,Js))*2}g(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"ccc",!0),g(e.options,"columns",e.cccolumns),g(e.options,"eclevel",~~(hn(e.eccws)/hn(2))-1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Pu();var is=r[--t];e[r[--t]]=is}r[t++]=e.args,e.dontdraw||mt(),e=a}function kR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29501",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","ean13"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,o2(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var re=r[--t],ce=r[--t];r[t++]=S(ce+De(re))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,y=e.ccpixx-97;b<y;b++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,v=e.diff;w<v;w++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,j=e.ccpixx,E=e.ccpixs.length-1;j<0?A>=E:A<=E;A+=j)e.i=A,U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var k=0;k<2;k++){U(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var B=0;B<2;B++){U(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<93;T++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var M=71;M>=0;M-=1){e.y=M,U(e.linpad),r[t++]=0;for(var Q=0,F=e.sbs.length-1;Q<=F;Q+=1)if(e.i=Q,e.i%2==0){var P=c(e.bbs,~~(e.i/2))*72;if(P>e.y||S(P+c(e.bhs,~~(e.i/2))*72)<e.y)for(var L=0,_=De(c(e.sbs,e.i));L<_;L++)r[t++]=0;else for(var H=0,Y=De(c(e.sbs,e.i));H<Y;H++)r[t++]=1}else for(var de=0,$=De(c(e.sbs,e.i));de<$;de++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var q=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=q,e.dontdraw||(Z.save(),mt(),Z.restore())}else{Z.save(),It();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<93;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=_e();r[t++]=p,mt(),Z.restore()}e=a}function jR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29664",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","ean8"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,zm(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var J=r[--t],oe=r[--t];r[t++]=S(oe+De(J))});var x=r[--t];e[r[--t]]=x;var b=e.comp;r[t++]="compsym",r[t++]=b,r[t++]=e.options,hs();var y=r[--t];e[r[--t]]=y,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var w=0,v=e.ccpixx-69;w<v;w++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var A=0,j=e.diff;A<j;A++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var E=0,k=e.ccpixx,N=e.ccpixs.length-1;k<0?E>=N:E<=N;E+=k)e.i=E,U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var B=0;B<2;B++){U(e.linpad),r[t++]=0,r[t++]=1;for(var I=0;I<65;I++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=1,r[t++]=0;for(var T=0;T<65;T++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var M=0;M<2;M++){U(e.linpad),r[t++]=0,r[t++]=1;for(var Q=0;Q<65;Q++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var F=71;F>=0;F-=1){e.y=F,U(e.linpad),r[t++]=0;for(var P=0,L=e.sbs.length-1;P<=L;P+=1)if(e.i=P,e.i%2==0){var _=c(e.bbs,~~(e.i/2))*72;if(_>e.y||S(_+c(e.bhs,~~(e.i/2))*72)<e.y)for(var H=0,Y=De(c(e.sbs,e.i));H<Y;H++)r[t++]=0;else for(var de=0,$=De(c(e.sbs,e.i));de<$;de++)r[t++]=1}else for(var q=0,re=De(c(e.sbs,e.i));q<re;q++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var ce=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=ce,e.dontdraw||(Z.save(),mt(),Z.restore())}else{Z.save(),It();var i=Z.currpos();r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs();var o=r[--t];Z.rmoveto(70-c(o,"pixx"),78),r[t++]=o,mt();var d=r[--t];Z.moveto(r[--t]-1,d+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var u=0;u<65;u++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var f=0;f<65;f++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var h=0;h<65;h++)r[t++]=0;r[t++]=1,r[t++]=0;var p=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=p,r[t++]="pixx",r[t++]=69,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=69/72,r[t++]="opt",r[t++]=e.options;var m=_e();r[t++]=m,mt(),Z.restore()}e=a}function NR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29830",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","ean13"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,jy(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var re=r[--t],ce=r[--t];r[t++]=S(ce+De(re))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,y=e.ccpixx-97;b<y;b++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,v=e.diff;w<v;w++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,j=e.ccpixx,E=e.ccpixs.length-1;j<0?A>=E:A<=E;A+=j)e.i=A,U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var k=0;k<2;k++){U(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var B=0;B<2;B++){U(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<93;T++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var M=71;M>=0;M-=1){e.y=M,U(e.linpad),r[t++]=0;for(var Q=0,F=e.sbs.length-1;Q<=F;Q+=1)if(e.i=Q,e.i%2==0){var P=c(e.bbs,~~(e.i/2))*72;if(P>e.y||S(P+c(e.bhs,~~(e.i/2))*72)<e.y)for(var L=0,_=De(c(e.sbs,e.i));L<_;L++)r[t++]=0;else for(var H=0,Y=De(c(e.sbs,e.i));H<Y;H++)r[t++]=1}else for(var de=0,$=De(c(e.sbs,e.i));de<$;de++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var q=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=q,e.dontdraw||(Z.save(),mt(),Z.restore())}else{Z.save(),It();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<93;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=_e();r[t++]=p,mt(),Z.restore()}e=a}function SR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29993",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","upce"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Ny(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var re=r[--t],ce=r[--t];r[t++]=S(ce+De(re))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,y=e.ccpixx-53;b<y;b++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,v=e.diff;w<v;w++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,j=e.ccpixx,E=e.ccpixs.length-1;j<0?A>=E:A<=E;A+=j)e.i=A,U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);for(var k=0;k<2;k++){U(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<49;N++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var B=0;B<2;B++){U(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<49;I++)r[t++]=0;r[t++]=0,r[t++]=1,U(e.ccrpad)}for(var D=0;D<2;D++){U(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<49;T++)r[t++]=0;r[t++]=1,r[t++]=0,U(e.ccrpad)}for(var M=71;M>=0;M-=1){e.y=M,U(e.linpad),r[t++]=0;for(var Q=0,F=e.sbs.length-1;Q<=F;Q+=1)if(e.i=Q,e.i%2==0){var P=c(e.bbs,~~(e.i/2))*72;if(P>e.y||S(P+c(e.bhs,~~(e.i/2))*72)<e.y)for(var L=0,_=De(c(e.sbs,e.i));L<_;L++)r[t++]=0;else for(var H=0,Y=De(c(e.sbs,e.i));H<Y;H++)r[t++]=1}else for(var de=0,$=De(c(e.sbs,e.i));de<$;de++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var q=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=q,e.dontdraw||(Z.save(),mt(),Z.restore())}else{Z.save(),It();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<49;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<49;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<49;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=53,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=53/72,r[t++]="opt",r[t++]=e.options;var p=_e();r[t++]=p,mt(),Z.restore()}e=a}function ER(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30156",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databaromni"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,d2();var i=r[--t];if(e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:It(),e.sepfinder=function(){e.fp=r[--t];for(var w=e.fp,v=e.fp+12;w<=v;w+=1){if(e.i=w,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var A=c(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var j=0;j<=12;j+=1){var E=r[--t];r[t++]=E&&V(c(e.bot,S(j+e.fp)),c(e.f3,j))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==1?0:1,j=0,E=w;j<E;j++)r[t++]=A}),Vt(s(xa()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var w=r[--t];r[t++]=1-w}),e.sep=s(),R(e.sep,0,s([0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var f=r[--t];e[r[--t]]=f,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==0?1:0,j=0,E=De(w);j<E;j++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,U(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.sep);for(var x=0,b=e.linheight;x<b;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=y,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var o=Z.currpos();Z.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var d=r[--t];Z.moveto(r[--t],S(d+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,mt(),Z.restore()}e=a}function CR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30317",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarstacked"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Ey();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):mt(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,k=e.fp+12;E<=k;E+=1){if(e.i=E,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var N=c(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&V(c(e.bot,S(B+e.fp)),c(e.f3,B))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);if(e.sep=s(),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var m=r[--t];e[r[--t]]=m,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,b=e.ccpixx,y=e.ccpixs.length-1;b<0?x>=y:x<=y;x+=b)e.i=x,r[t++]=0,U(C(e.ccpixs,e.i,e.ccpixx));U(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var w=0,v=e.linwidth,A=e.linpixs.length-1;v<0?w>=A:w<=A;w+=v)e.i=w,U(C(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var j=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=j,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var f=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,mt(),Z.restore()}e=a}function IR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30474",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarstackedomni"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Cy();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):mt(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,k=e.fp+12;E<=k;E+=1){if(e.i=E,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var N=c(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&V(c(e.bot,S(B+e.fp)),c(e.f3,B))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);if(e.sep=s(),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var m=r[--t];e[r[--t]]=m,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,b=e.ccpixx,y=e.ccpixs.length-1;b<0?x>=y:x<=y;x+=b)e.i=x,r[t++]=0,U(C(e.ccpixs,e.i,e.ccpixx));U(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var w=0,v=e.linwidth,A=e.linpixs.length-1;v<0?w>=A:w<=A;w+=v)e.i=w,U(C(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var j=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=j,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var f=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,mt(),Z.restore()}e=a}function BR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30632",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databartruncated"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Iy();var i=r[--t];if(e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:It(),e.sepfinder=function(){e.fp=r[--t];for(var w=e.fp,v=e.fp+12;w<=v;w+=1){if(e.i=w,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var A=c(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var j=0;j<=12;j+=1){var E=r[--t];r[t++]=E&&V(c(e.bot,S(j+e.fp)),c(e.f3,j))}r[--t]&&R(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==1?0:1,j=0,E=w;j<E;j++)r[t++]=A}),Vt(s(xa()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var w=r[--t];r[t++]=1-w}),e.sep=s(),R(e.sep,0,s([0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var f=r[--t];e[r[--t]]=f,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==0?1:0,j=0,E=De(w);j<E;j++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,U(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.sep);for(var x=0,b=e.linheight;x<b;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=y,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var o=Z.currpos();Z.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var d=r[--t];Z.moveto(r[--t],S(d+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,mt(),Z.restore()}e=a}function DR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30794",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarlimited"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,By();var i=r[--t];e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:It(),r[t++]=1/0,r[t++]=1,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],M=T==0?1:0,Q=0,F=D;Q<F;Q++)r[t++]=M}),Vt(s(xa()-1)),e.sep=r[--t],t-=2,R(e.sep,0,s([0,0,0]));var o=e.sep;if(R(e.sep,o.length-9,s([0,0,0,0,0,0,0,0,0])),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];if(e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],M=T==0?1:0,Q=0,F=De(D);Q<F;Q++)r[t++]=M}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.ccpixx==72){r[t++]=1/0;for(var b=0,y=e.ccpixx,w=e.ccpixs.length-1;y<0?b>=w:b<=w;b+=y)e.i=b,r[t++]=0,U(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;U(e.sep);for(var v=0,A=e.linheight;v<A;v++)U(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length}else{r[t++]=1/0;for(var j=0,E=e.ccpixx,k=e.ccpixs.length-1;E<0?j>=k:j<=k;j+=E)e.i=j,U(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.sep);for(var N=0,B=e.linheight;N<B;N++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,U(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+6}e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var d=Z.currpos(),u=e.comp;r[t++]=d.x,r[t++]=d.y,r[t++]=u,r[t++]=e.options,hs();var f=r[--t];Z.rmoveto(72-c(f,"pixx"),e.linheight+1),r[t++]=f,mt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=e.options,m=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",p]]);r[t++]=m,mt(),Z.restore()}e=a}function TR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30946",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarexpanded"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Lm();var i=r[--t];e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:It(),e.sepfinder=function(){e.fp=r[--t];for(var D=e.fp,T=e.fp+12;D<=T;D+=1){if(e.i=D,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var M=c(e.sep,e.i-1)==0?1:0;r[t++]=M}else r[t++]=0;g(e.sep,e.i,r[--t])}},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],M=T==1?0:1,Q=0,F=D;Q<F;Q++)r[t++]=M}),Vt(s(xa()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var D=r[--t];r[t++]=1-D}),e.sep=s(),R(e.sep,0,s([0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var o=18,d=e.bot.length-13;o<=d;o+=98)r[t++]=o;for(var u=69,f=e.bot.length-13;u<=f;u+=98)r[t++]=u;for(var h=s(),p=0,m=h.length;p<m;p++)r[t++]=c(h,p),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var w=r[--t];e[r[--t]]=w,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],M=T==0?1:0,Q=0,F=De(D);Q<F;Q++)r[t++]=M}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,U(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.diff=S(e.linpixs.length-e.ccpixx),r[t++]=1/0;for(var v=0,A=e.diff-2;v<A;v++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var j=0,E=e.ccpixx,k=e.ccpixs.length-1;E<0?j>=k:j<=k;j+=E)e.i=j,r[t++]=0,r[t++]=0,U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);U(e.sep);for(var N=0,B=e.linheight;N<B;N++)U(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length,e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var x=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var b=r[--t];Z.moveto(r[--t],S(b+e.linheight));var y=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=y,mt(),Z.restore()}e=a}function RR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31106",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarexpandedstacked"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Qm();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):mt(),e.sepfinder=function(){e.fp=r[--t];for(var F=e.fp,P=e.fp+12;F<=P;F+=1){if(e.i=F,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var L=c(e.sep,e.i-1)==0?1:0;r[t++]=L}else r[t++]=0;g(e.sep,e.i,r[--t])}},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);e.sep=s(),R(e.sep,0,s([0,0,0,0])),R(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var f=19,h=e.bot.length-13;f<=h;f+=98)r[t++]=f;for(var p=70,m=e.bot.length-13;p<=m;p+=98)r[t++]=p;for(var x=s(),b=0,y=x.length;b<y;b++)r[t++]=c(x,b),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var E=r[--t];e[r[--t]]=E,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.pixx=e.sep.length,r[t++]=1/0;for(var k=0,N=~~((S(e.pixx-e.ccpixx)+1)/2);k<N;k++)r[t++]=0;e.cclpad=s(),r[t++]=1/0;for(var B=0,I=~~(S(e.pixx-e.ccpixx)/2);B<I;B++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var D=0,T=e.ccpixx,M=e.ccpixs.length-1;T<0?D>=M:D<=M;D+=T)e.i=D,U(e.cclpad),U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);U(e.sep),U(e.linpixs),e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var Q=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=Q,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var w=Z.currpos(),v=c(e.bot,0)==0?2:0;Z.rmoveto(v,e.linheight+1),r[t++]=w.x,r[t++]=w.y,r[t++]=e.comp,r[t++]=e.options,hs(),mt();var A=r[--t];Z.moveto(r[--t],S(A+e.linheight));var j=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=j,mt(),Z.restore()}e=a}function MR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Ct(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31259",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,g(e.options,"linkagea",!0),r[t++]=e.linear,r[t++]=1/0,ve(e.options);var i=_e();r[t++]=i,v3();var o=c(r[--t],"sbs");r[t++]=0,ve(o,function(){var P=r[--t],L=r[--t];r[t++]=S(L+P)}),e.linwidth=r[--t],g(e.options,"lintype","gs1-128"),g(e.options,"linwidth",e.linwidth),r[t++]=e.comp,r[t++]=1/0,ve(e.options);var d=_e();r[t++]=d,hs(),e.compsym=r[--t],c(e.compsym,"pixx")==99?r[t++]="a":r[t++]="c",e.linktype=r[--t],g(e.compsym,"borderbottom",0),V(e.linktype,"a")?(g(e.options,"linkagea",!0),g(e.options,"linkagec",!1)):(g(e.options,"linkagea",!1),g(e.options,"linkagec",!0));var u=e.linear;r[t++]=u,r[t++]=1/0,ve(e.options);var f=_e();r[t++]=f,v3();var h=r[--t];if(e.linsbs=c(h,"sbs"),e.linheight=c(c(h,"bhs"),0)*72,r[t++]=h,e.usematrix?t--:It(),r[t++]=1/0,r[t++]=1,ve(e.linsbs,function(){for(var P=r[--t],L=r[t-1],_=L==0?1:0,H=0,Y=P;H<Y;H++)r[t++]=_}),Vt(s(xa()-1)),e.sep=r[--t],t-=2,V(e.linktype,"a")){if(e.s=~~((e.linwidth-2)/11),e.p=~~((e.s-9)/2),r[t++]="x",r[t++]=(e.s-e.p-1)*11+10,e.p==0){var p=r[--t];r[t++]=p+2}var m=r[--t];e[r[--t]]=m-99}else e.x=-7;if(e.usematrix){if(e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,ve(e.linsbs,function(){for(var P=r[--t],L=r[t-1],_=L==1?0:1,H=0,Y=P;H<Y;H++)r[t++]=_}),e.linpixs=s(),e.x>0){r[t++]=1/0;for(var w=0,v=e.x;w<v;w++)r[t++]=0;e.cclpad=s(),e.linlpad=s(0)}else{e.cclpad=s(0),r[t++]=1/0;for(var A=0,j=-e.x;A<j;A++)r[t++]=0;e.linlpad=s()}if(e.diff=S(e.linwidth-(e.ccpixx+e.x)),e.diff>0){r[t++]=1/0;for(var E=0,k=e.diff;E<k;E++)r[t++]=0;e.ccrpad=s(),e.linrpad=s(0)}else{e.ccrpad=s(0),r[t++]=1/0;for(var N=0,B=-e.diff;N<B;N++)r[t++]=0;e.linrpad=s()}e.linheight=~~e.linheight,r[t++]=1/0;for(var I=0,D=e.ccpixx,T=e.ccpixs.length-1;D<0?I>=T:I<=T;I+=D)e.i=I,U(e.cclpad),U(C(e.ccpixs,e.i,e.ccpixx)),U(e.ccrpad);U(e.linlpad),U(e.sep),U(e.linrpad);for(var M=0,Q=e.linheight;M<Q;M++)U(e.linlpad),U(e.linpixs),U(e.linrpad);e.pixs=s(),e.pixx=S(e.cclpad.length+e.ccpixx+e.ccrpad.length),e.pixy=~~(e.pixs.length/e.pixx);var F=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=F,e.dontdraw||(Z.save(),mt(),Z.restore())}else{var x=Z.currpos();Z.rmoveto(e.x,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.compsym,mt();var b=r[--t];Z.moveto(r[--t],S(b+e.linheight));var y=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=y,mt(),Z.restore()}e=a}function FR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.gssep=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var b=s(),y=r[--t];if(R(r[--t],y,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.dmtx.length+1);R(w,0,e.dmtx),r[t++]=w,r[t++]=w,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var v=r[--t],A=r[--t];g(r[--t],A,v),e.dmtx=r[--t]}}for(e.barcode=W((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var j=c(e.dmtx,e.i);r[t++]=j,j==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var E=r[--t];e[r[--t]]=E,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function PR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.gssep=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var b=s(),y=r[--t];if(R(r[--t],y,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.dmtx.length+1);R(w,0,e.dmtx),r[t++]=w,r[t++]=w,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var v=r[--t],A=r[--t];g(r[--t],A,v),e.dmtx=r[--t]}}for(e.barcode=W((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var j=c(e.dmtx,e.i);r[t++]=j,j==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var E=r[--t];e[r[--t]]=E,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function _R(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Is(),t--,e.val=c(r[--t],0),e.key=c(r[--t],0),e.hri=W(e.key.length+e.val.length+2),g(e.hri,0,40),R(e.hri,1,e.key),g(e.hri,e.key.length+1,41),R(e.hri,e.key.length+2,e.val),delete e.options.parse,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var o=r[--t];e[r[--t]]=o,g(e.args,"opt",e.options),g(e.args,"alttext",e.hri),g(e.args,"textyoffset",-1),g(e.args,"textfont","OCR-B"),g(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||mt(),e=a}function OR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.qrc=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.qrc.length+e.ai.length+e.val.length);R(o,0,e.qrc),r[t++]=o,r[t++]=o,r[t++]=e.qrc.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.qrc.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var b=s(),y=r[--t];if(R(r[--t],y,b),e.qrc=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.qrc.length+1);R(w,0,e.qrc),g(w,e.qrc.length,e.fnc1),e.qrc=w}}for(e.barcode=W((e.qrc.length+1)*5),e.i=0,e.j=0;e.i!=e.qrc.length;){var v=c(e.qrc,e.i);r[t++]=v,v==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var A=r[--t];e[r[--t]]=A,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function UR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Is(),t--,e.val=c(r[--t],0),e.key=c(r[--t],0),e.hri=W(e.key.length+e.val.length+2),g(e.hri,0,40),R(e.hri,1,e.key),g(e.hri,e.key.length+1,41),R(e.hri,e.key.length+2,e.val),delete e.options.parse,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var o=r[--t];e[r[--t]]=o,g(e.args,"opt",e.options),g(e.args,"alttext",e.hri),g(e.args,"textyoffset",-4),g(e.args,"textfont","OCR-B"),g(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||mt(),e=a}function zR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var b=s(),y=r[--t];if(R(r[--t],y,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.dmtx.length+1);R(w,0,e.dmtx),g(w,e.dmtx.length,e.fnc1),e.dmtx=w}}for(e.barcode=W((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var v=c(e.dmtx,e.i);r[t++]=v,v==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,My();var A=r[--t];e[r[--t]]=A,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function LR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode39emptyData#31945",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccode39badCharacter#31960",r[t++]="HIBC Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode39badCheckDigit#31974",r[t++]="Incorrect HIBC Code 39 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),e.text=W(e.barlen+4),g(e.text,0,42),R(e.text,1,e.barcode);var x=c(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var b=r[--t],y=r[--t];g(r[--t],y,b),g(e.text,e.barlen+3,42),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var w=r[--t];e[r[--t]]=w,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function QR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode128emptyData#32049",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccode128badCharacter#32064",r[t++]="HIBC Code 128 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode128badCheckDigit#32078",r[t++]="Incorrect HIBC Code 128 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),e.text=W(e.barlen+4),g(e.text,0,42),R(e.text,1,e.barcode);var x=c(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var b=r[--t],y=r[--t];g(r[--t],y,b),g(e.text,e.barlen+3,42),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var w=r[--t];e[r[--t]]=w,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||It(),e=a}function HR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixEmptyData#32148",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcdatamatrixBadCharacter#32163",r[t++]="HIBC Data Matrix must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixBadCheckDigit#32177",r[t++]="Incorrect HIBC Data Matrix check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=e.barlen,x=W(m+2);R(x,1,e.barcode),e.barcode=x,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var b=r[--t],y=r[--t];e[y]=b,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function $R(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixrectangularEmptyData#32239",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcdatamatrixrectangularBadCharacter#32254",r[t++]="HIBC Data Matrix Rectangular must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixrectangularBadCheckDigit#32268",r[t++]="Incorrect HIBC Data Matrix Rectangular check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=e.barlen,x=W(m+2);R(x,1,e.barcode),e.barcode=x,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,L1();var b=r[--t];e[r[--t]]=b,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function qR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcpdf417EmptyData#32332",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcpdf417BadCharacter#32347",r[t++]="HIBC PDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcpdf417BadCheckDigit#32361",r[t++]="Incorrect HIBC PDF417 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"columns",e.columns);var x=e.options;g(x,"validatecheck",!1);var b=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=b,Pu();var y=r[--t];e[r[--t]]=y,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function GR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcmicropdf417EmptyData#32425",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcmicropdf417BadCharacter#32440",r[t++]="HIBC MicroPDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcmicropdf417BadCheckDigit#32454",r[t++]="Incorrect HIBC MicroPDF417 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum));var x=e.options;g(x,"dontdraw",!0),g(e.options,"columns",e.columns),g(e.options,"validatecheck",!1);var b=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=b,nu();var y=r[--t];e[r[--t]]=y,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function YR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcqrcodeEmptyData#32517",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcqrcodeBadCharacter#32532",r[t++]="HIBC QR Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcqrcodeBadCheckDigit#32546",r[t++]="Incorrect HIBC QR Code check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function VR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccodablockfEmptyData#32608",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccodablockfBadCharacter#32623",r[t++]="HIBC Codablock F must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccodablockfBadCheckDigit#32637",r[t++]="Incorrect HIBC Codablock F check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ry();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function KR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Ve(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcazteccodeEmptyData#32699",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcazteccodeBadCharacter#32714",r[t++]="HIBC Aztec Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcazteccodeBadCheckDigit#32728",r[t++]="Incorrect HIBC Aztec Code check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,_u();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||mt(),e=a}function WR(){var a=e;e=Object.assign({},e),e.options=r[--t],e.barcode=r[--t],e.dontdraw=!1,e.shortfinder=!1,e.includetext=!1,e.includecheck=!1,e.height=1,ve(e.options,function(){var E=r[--t];e[r[--t]]=E}),e.height=+e.height,(e.barcode.length<2||e.barcode.length>7)&&(r[t++]="bwipp.channelcodeBadLength#32803",r[t++]="Channel Code must be 2 to 7 digits",z()),ve(e.barcode,function(){var E=r[--t];(E<48||E>57)&&(r[t++]="bwipp.channelcodeBadCharacter#32807",r[t++]="Channel Code must contain only digits",z())}),De(e.barcode)>c(s([26,292,3493,44072,576688,7742862]),e.barcode.length-2)&&(r[t++]="bwipp.channelcodeTooBig#32811",r[t++]="The Channel Code value is too big for the number of channels",z()),e.nextb=function(){var E=r[t-1],k=S(c(e.s,E)+(c(e.b,E-1)+(c(e.b,E-2)+c(e.s,E-1))))>4?1:2;if(r[t++]=k,E<e.chan+2)for(var N=r[t-1],B=r[t-3],I=N,D=B;I<=D;I+=1){var T=r[t-2];g(e.b,T,I);var M=r[t-3],Q=r[t-4];r[t++]=S(M-I)+1,r[t++]=Q,r[t++]=T+1,e.nexts()}else{var F=r[t-1],P=r[t-3];if(dc(F,P)){var L=r[t-2],_=r[t-3];if(g(e.b,L,_),e.value==e.target){r[t++]=1/0;for(var H=3;H<=10;H+=1)r[t++]=c(e.s,H),r[t++]=c(e.b,H);e.out=C(s(),0,e.chan*2)}e.value=e.value+1}}t-=4},e.nexts=function(){var E=r[t-1];if(E<e.chan+2)r[t++]=1;else{var k=r[t-2];r[t++]=k}for(var N=r[--t],B=r[t-2],I=N,D=B;I<=D;I+=1){var T=r[t-1];g(e.s,T,I);var M=r[t-2],Q=r[t-3];r[t++]=S(M-I)+1,r[t++]=Q,r[t++]=T,e.nextb()}t-=3},e.encode=function(){e.chan=r[--t],e.target=r[--t],e.value=0,e.out=-1,e.b=s([1,1,1,0,0,0,0,0,0,0,0]),e.s=s([0,1,1,0,0,0,0,0,0,0,0]);var E=e.chan;r[t++]=E,r[t++]=E,r[t++]=3,e.nexts(),r[t++]=e.out},e.barlen=e.barcode.length,r[t++]="finder",e.shortfinder?r[t++]=s([1,1,1,1,1]):r[t++]=s([1,1,1,1,1,1,1,1,1]);var n=r[--t];e[r[--t]]=n,r[t++]="data",r[t++]=De(e.barcode),r[t++]=e.barlen+1,e.encode();var i=r[--t];if(e[r[--t]]=i,e.check=s([]),e.includecheck){e.mod23=c(s([s([]),s([]),s([13,12,4,9,3,1]),s([13,2,12,3,18,16,4,1]),s([11,16,17,8,20,4,10,2,5,1]),s([1,4,16,18,3,12,2,8,9,13,6,1]),s([20,16,22,13,15,12,5,4,8,9,21,3,7,1]),s([2,6,18,8,1,3,9,4,12,13,16,2,6,18,8,1])]),e.barlen),r[t++]=0;for(var o=0,d=e.data.length-1;o<=d;o+=1){var u=r[--t];r[t++]=S(u+(c(e.data,o)-1)*c(e.mod23,o))}var f=r[--t];r[t++]=f%23,r[t++]=3,e.encode(),e.check=r[--t]}r[t++]=1/0,U(e.finder),U(e.data),U(e.check),e.sbs=s(),e.txt=s(e.barlen);for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));r[t++]=1/0;var m=e.sbs;r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=e.height;var y=s();r[t++]=1/0;for(var w=0,v=~~((e.sbs.length+1)/2);w<v;w++)r[t++]=0;var A=s();r[t++]="ren",r[t++]=It,r[t++]="sbs",r[t++]=m,r[t++]="bhs",r[t++]=y,r[t++]="bbs",r[t++]=A,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var j=_e();r[t++]=j,e.dontdraw||It(),e=a}function It(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.sbs=s([]),e.bhs=s([]),e.bbs=s([]),e.txt=s([]),e.barcolor="unset",e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.bordercolor="unset",e.inkspread=0,e.width=0,e.barratio=1,e.spaceratio=1,e.showborder=!1,e.showbearer=!1,e.borderleft=10,e.borderright=10,e.bordertop=1,e.borderbottom=1,e.borderwidth=.5,e.guardwhitespace=!1,e.guardleftpos=0,e.guardleftypos=0,e.guardrightpos=0,e.guardrightypos=0,e.guardwidth=7,e.guardheight=7,ve(r[--t],function(){var Kt=r[--t];e[r[--t]]=Kt}),r[t++]=e.opt,delete e.opt,r[t++]=e,Ve(),t--,Ie(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",d="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=d,r[t++]=d,r[t++]=u,r[t++]=u;var f=c(_e(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33005",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(Ie(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",b="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=b,r[t++]=b;var y=c(_e(),e.textyalign)!==void 0;y||(r[t++]="bwipp.renmatrixBadTextyalign#33011",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var w="forward",v="backward",A="upward",j="downward";r[t++]=w,r[t++]=w,r[t++]=v,r[t++]=v,r[t++]=A,r[t++]=A,r[t++]=j,r[t++]=j;var E=c(_e(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33016",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33020",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var k="offleft",N="left",B="center",I="right",D="offright";r[t++]=k,r[t++]=k,r[t++]=N,r[t++]=N,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var T=c(_e(),e.extratextxalign)!==void 0;T||(r[t++]="bwipp.renmatrixBadExtratextxalign#33024",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var M="above",Q="top",F="center",P="bottom",L="below";r[t++]=M,r[t++]=M,r[t++]=Q,r[t++]=Q,r[t++]=F,r[t++]=F,r[t++]=P,r[t++]=P,r[t++]=L,r[t++]=L;var _=c(_e(),e.extratextyalign)!==void 0;_||(r[t++]="bwipp.renmatrixBadExtratextyalign#33028",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var H="forward",Y="backward",de="upward",$="downward";r[t++]=H,r[t++]=H,r[t++]=Y,r[t++]=Y,r[t++]=de,r[t++]=de,r[t++]=$,r[t++]=$;var q=c(_e(),e.extratextdirection)!==void 0;q||(r[t++]="bwipp.renmatrixBadExtratextdirection#33032",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33036",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.bars=s(~~((e.sbs.length+1)/2)),e.pixx=0,e.pixy=0;for(var re=0,ce=~~((e.sbs.length+1)/2)*2-2;re<=ce;re+=1)e.i=re,e.i%2==0?(e.d=S(c(e.sbs,e.i)*e.barratio-e.barratio)+1,c(e.sbs,e.i)!=0?(e.h=c(e.bhs,~~(e.i/2))*72,e.c=S(e.d/2+e.pixx),e.y=c(e.bbs,~~(e.i/2))*72,e.w=S(e.d-e.inkspread),g(e.bars,~~(e.i/2),s([e.h,e.c,e.y,e.w])),S(e.h+e.y)>e.pixy&&(e.pixy=S(e.h+e.y))):g(e.bars,~~(e.i/2),-1)):e.d=S(c(e.sbs,e.i)*e.spaceratio-e.spaceratio)+1,e.pixx=S(e.pixx+e.d);Z.save();var J=Z.currpos();if(Z.translate(J.x,J.y),e.width!=0&&Z.scale(e.width*72/e.pixx,1),e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.showbearer){Z.save(),Z.newpath(),U(e.bl);var oe=r[--t];Z.moveto(r[--t],oe),U(e.br);var ue=r[--t];Z.lineto(r[--t],ue),U(e.tl);var he=r[--t];Z.moveto(r[--t],he),U(e.tr);var Re=r[--t];Z.lineto(r[--t],Re),Ie(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}else if(e.showborder){Z.save(),Z.newpath(),U(e.bl);var te=r[--t];Z.moveto(r[--t],te);for(var Be=s([e.br,e.tr,e.tl]),Se=0,Oe=Be.length;Se<Oe;Se++){U(c(Be,Se));var Ue=r[--t];Z.lineto(r[--t],Ue)}Z.closepath(),Ie(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(e.borderwidth),Z.stroke(),Z.restore()}Z.save(),Ie(e.barcolor,"unset")&&Z.setcolor(e.barcolor);for(var be=e.bars,$e=0,Fe=be.length;$e<Fe;$e++){var Ke=c(be,$e);if(r[t++]=Ke,Ke!=-1){U(r[--t]),Z.newpath(),Z.setlinewidth(r[--t]);var Je=r[--t];Z.moveto(r[--t],Je),Z.rlineto(0,r[--t]),Z.stroke()}else t--}Z.restore();var rt=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),ae=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),fe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),Me=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),Le=new Map([["forward",rt],["backward",ae],["upward",fe],["downward",Me]]);if(e.positions=Le,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Kt=c(e.positions,r[--t]);r[t++]=Kt,r[t++]=Kt,Na(4,-1);var Jt=r[t-1];V(Jt,"center")&&(r[t-1]="xcenter");var ur=r[--t];if(c(r[--t],ur)()===!0)return!0;var Tr=r[--t],Pr=r[--t];r[t++]=Tr,r[t++]=Pr,Na(3,-1);var ua=r[t-1];V(ua,"center")&&(r[t-1]="ycenter");var Et=r[--t];if(c(r[--t],Et)()===!0)return!0},e.includetext)if(Ie(e.textcolor,"unset")&&Z.setcolor(e.textcolor),V(e.textxalign,"unset")&&V(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Xe=e.txt,ze=0,qe=Xe.length;ze<qe;ze++){U(c(Xe,ze));var ht=r[t-1],vt=r[t-2];if(ht!=e.s||Ie(vt,e.fn)){var dt=r[t-1];dt<=0&&(t-=5,r[t++]="bwipp.renlinearFontTooSmall#33178",r[t++]="The font size is too small",z());var wt=r[--t],Bt=r[--t];e.s=wt,e.fn=Bt,Z.selectfont(Bt,wt)}else t-=2;var jt=r[--t];Z.moveto(r[--t],jt),Z.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var At=e.txt,_t=0,Mt=At.length;_t<Mt;_t++)ve(c(c(At,_t),0));e.txt=s(),e.tstr=W(e.txt.length);for(var Lt=0,Dt=e.txt.length-1;Lt<=Dt;Lt+=1)g(e.tstr,Lt,c(e.txt,Lt))}else{e.tstr=e.alttext;for(var kt=0,O=e.alttext.length-1;kt<=O;kt+=1){if(r[t++]=kt,Ct(e.alttextsubspace,C(e.alttext,kt,1)),r[--t]){t--,t--;var K=r[t-2];g(e.alttext,K,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33206",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;Ct(r[--t],e.alttextsplit),r[--t];){var G=r[--t];r[t-1]=G;var se=r[--t],le=r[--t];r[t++]=se,r[t++]=le}e.textlines=s()}else e.textlines=s([e.tstr]);if(Z.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var ge=Z.pathbbox();Z.restore(),r[t++]=ge.ury}e.textascent=r[--t];var ee=e.textlines;r[t++]="textwidth",r[t++]=0;for(var ke=0,X=ee.length;ke<X;ke++){var xe=Z.stringwidth(c(ee,ke)),me=r[--t],ye=xe.w;if(me<xe.w){var ne=ye;ye=me,me=ne}r[t++]=me}var we=r[--t];e[r[--t]]=S(we+(e.tstr.length-1)*e.textgaps);var Ee=e.textlines.length;if(e.textheight=S(Ee*e.textascent+(Ee-1)*e.textlinegaps),V(e.textxalign,"unset")&&(e.textxalign="center"),V(e.textyalign,"unset")&&(e.textyalign="below"),V(e.textxalign,"justify"))if(Ie(e.textdirection,"forward")&&Ie(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33243",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",V(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var pe=r[--t];e[r[--t]]=pe}else e.textgaps=0,e.textxalign="center";if(V(e.textyalign,"justify"))if(Ie(e.textdirection,"upward")&&Ie(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33256",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",V(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ne=r[--t];e[r[--t]]=Ne}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Ae=r[--t];Z.moveto(r[--t],Ae),Z.rmoveto(e.textxoffset,e.textyoffset),Z.save();var Ce=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(Ce,e.textdirection));var Qe=Z.currpos();Z.translate(Qe.x,Qe.y);for(var Pe=0,We=e.textlines.length-1;Pe<=We;Pe+=1){e.i=Pe,Z.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var st=e.textlines;Z.show(c(st,st.length-e.i-1),e.textgaps,0)}Z.restore()}if(e.guardwhitespace&&(Z.selectfont("OCR-B",e.guardheight*2),e.guardleftpos!=0&&(Z.moveto(-e.guardleftpos-2,S(e.guardleftypos-e.guardheight/2-1.25)),Z.show("<",0,0)),e.guardrightpos!=0&&(Z.moveto(S(e.guardrightpos+e.pixx-e.guardwidth)+1,S(e.guardrightypos-e.guardheight/2-1.25)),Z.show(">",0,0))),e.extratext.length!=0){for(var at=0,je=e.extratext.length-1;at<=je;at+=1){if(r[t++]=at,Ct(e.extratextsubspace,C(e.extratext,at,1)),r[--t]){t--,t--;var Ge=r[t-2];g(e.extratext,Ge,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33309",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;Ct(r[--t],e.extratextsplit),r[--t];){var He=r[--t];r[t-1]=He;var Ze=r[--t],ft=r[--t];r[t++]=Ze,r[t++]=ft}e.textlines=s()}else e.textlines=s([e.extratext]);Ie(e.extratextcolor,"unset")&&Z.setcolor(e.extratextcolor),Z.selectfont(e.extratextfont,e.extratextsize),Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var pt=Z.pathbbox();Z.restore(),e.textascent=pt.ury;var ut=e.textlines;r[t++]="textwidth",r[t++]=0;for(var xt=0,nt=ut.length;xt<nt;xt++){var Tt=Z.stringwidth(c(ut,xt)),et=r[--t],Qt=Tt.w;if(et<Tt.w){var ne=Qt;Qt=et,et=ne}r[t++]=et}var Ht=r[--t];e[r[--t]]=S(Ht+(e.extratext.length-1)*e.extratextgaps);var Ot=e.textlines.length;if(e.textheight=S(Ot*e.textascent+(Ot-1)*e.extratextlinegaps),V(e.extratextxalign,"justify"))if(Ie(e.extratextdirection,"forward")&&Ie(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33340",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",V(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var sr=r[--t];e[r[--t]]=sr}else e.extratextgaps=0,e.extratextxalign="center";if(V(e.extratextyalign,"justify"))if(Ie(e.extratextdirection,"upward")&&Ie(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33353",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",V(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var Sr=r[--t];e[r[--t]]=Sr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var nr=r[--t];Z.moveto(r[--t],nr),Z.rmoveto(e.extratextxoffset,e.extratextyoffset),Z.save();var gr=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(gr,e.extratextdirection));var ar=Z.currpos();Z.translate(ar.x,ar.y);for(var Ir=0,Zt=e.textlines.length-1;Ir<=Zt;Ir+=1){e.i=Ir,Z.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var dr=e.textlines;Z.show(c(dr,dr.length-e.i-1),e.extratextgaps,0)}Z.restore()}Z.restore(),e=a}function mt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.width=1,e.height=1,e.barcolor="unset",e.bordercolor="unset",e.colormap="unset",e.dotty=!1,e.inkspread=0,e.inkspreadh=null,e.inkspreadv=null,e.txt=s([]),e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ve(r[--t],function(){var Jt=r[--t];e[r[--t]]=Jt}),r[t++]=e.opt,delete e.opt,r[t++]=e,Ve(),t--,e.inkspreadh==null&&(e.inkspreadh=e.inkspread),e.inkspreadv==null&&(e.inkspreadv=e.inkspread),Ie(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",d="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=d,r[t++]=d,r[t++]=u,r[t++]=u;var f=c(_e(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33458",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(Ie(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",b="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=b,r[t++]=b;var y=c(_e(),e.textyalign)!==void 0;y||(r[t++]="bwipp.renmatrixBadTextyalign#33464",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var w="forward",v="backward",A="upward",j="downward";r[t++]=w,r[t++]=w,r[t++]=v,r[t++]=v,r[t++]=A,r[t++]=A,r[t++]=j,r[t++]=j;var E=c(_e(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33469",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33473",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var k="offleft",N="left",B="center",I="right",D="offright";r[t++]=k,r[t++]=k,r[t++]=N,r[t++]=N,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var T=c(_e(),e.extratextxalign)!==void 0;T||(r[t++]="bwipp.renmatrixBadExtratextxalign#33477",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var M="above",Q="top",F="center",P="bottom",L="below";r[t++]=M,r[t++]=M,r[t++]=Q,r[t++]=Q,r[t++]=F,r[t++]=F,r[t++]=P,r[t++]=P,r[t++]=L,r[t++]=L;var _=c(_e(),e.extratextyalign)!==void 0;_||(r[t++]="bwipp.renmatrixBadExtratextyalign#33481",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var H="forward",Y="backward",de="upward",$="downward";r[t++]=H,r[t++]=H,r[t++]=Y,r[t++]=Y,r[t++]=de,r[t++]=de,r[t++]=$,r[t++]=$;var q=c(_e(),e.extratextdirection)!==void 0;q||(r[t++]="bwipp.renmatrixBadExtratextdirection#33485",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33489",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.xyget=function(){var Jt=r[--t],ur=c(e.pixs,S(r[--t]+Jt*e.pixx));r[t++]=ur},e.drawlayerdots=function(){e.pixsorig=e.pixs,e.pixs=r[--t],Z.newpath();for(var Jt=0,ur=e.pixs.length-1;Jt<=ur;Jt+=1)e.x=Jt%e.pixx,e.y=~~(Jt/e.pixx),r[t++]=e.x,r[t++]=e.y,e.xyget(),r[--t]==1&&(Z.moveto(S(e.x+.5),S(e.pixy-e.y-.5)),Z.arc(S(e.x+.5),S(e.pixy-e.y-.5),S(.5-e.inkspread),0,360,1));Z.fill(),e.pixs=e.pixsorig},Z.save();var re=Z.currpos();if(Z.translate(re.x,re.y),e.inkspread=e.inkspread/2,e.inkspreadh=e.inkspreadh/2,e.inkspreadv=e.inkspreadv/2,Z.scale(e.width/e.pixx*72,e.height/e.pixy*72),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([S(-e.borderleft+e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.tr=s([S(e.pixx+e.borderright-e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.bl=s([S(-e.borderleft+e.inkspread),S(-e.borderbottom+e.inkspread)]),e.br=s([S(e.pixx+e.borderright-e.inkspread),S(-e.borderbottom+e.inkspread)])),e.showborder){Z.save(),Z.newpath(),U(e.bl);var ce=r[--t];Z.moveto(r[--t],ce);for(var J=s([e.br,e.tr,e.tl]),oe=0,ue=J.length;oe<ue;oe++){U(c(J,oe));var he=r[--t];Z.lineto(r[--t],he)}Z.closepath(),Ie(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}if(V(e.colormap,"unset")){var Re=new Map([[1,e.barcolor]]);e.colormap=Re}for(var te=e.colormap,Be=te.size,Se=te.keys(),Oe=0;Oe<Be;Oe++){var Ue=Se.next().value,be=te.get(Ue);r[t++]=Ue,r[t++]=be,Ie(be,"unset")?Z.setcolor(r[--t]):t--,e.key=r[--t],r[t++]=1/0;for(var $e=e.pixs,Fe=0,Ke=$e.length;Fe<Ke;Fe++){var Je=V(c($e,Fe),e.key)?1:0;r[t++]=Je}var rt=s();r[t++]=rt,e.dotty?e.drawlayerdots():Z.drawlayer(r[--t],e.pixx,e.pixy,e.inkspreadh,e.inkspreadv)}var ae=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=e.pixy+e.nudge}]]),fe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),Me=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=e.pixy+e.nudge}]]),Le=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),Xe=new Map([["forward",ae],["backward",fe],["upward",Me],["downward",Le]]);if(e.positions=Xe,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Jt=c(e.positions,r[--t]);r[t++]=Jt,r[t++]=Jt,Na(4,-1);var ur=r[t-1];V(ur,"center")&&(r[t-1]="xcenter");var Tr=r[--t];if(c(r[--t],Tr)()===!0)return!0;var Pr=r[--t],ua=r[--t];r[t++]=Pr,r[t++]=ua,Na(3,-1);var Et=r[t-1];V(Et,"center")&&(r[t-1]="ycenter");var Gt=r[--t];if(c(r[--t],Gt)()===!0)return!0},e.includetext)if(Ie(e.textcolor,"unset")&&Z.setcolor(e.textcolor),V(e.textxalign,"unset")&&V(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var ze=e.txt,qe=0,ht=ze.length;qe<ht;qe++){U(c(ze,qe));var vt=r[t-1],dt=r[t-2];if(vt!=e.s||Ie(dt,e.fn)){var wt=r[t-1];wt<=0&&(t-=5,r[t++]="bwipp.renmatrixFontTooSmall#33793",r[t++]="The font size is too small",z());var Bt=r[--t],jt=r[--t];e.s=Bt,e.fn=jt,Z.selectfont(jt,Bt)}else t-=2;var At=r[--t];Z.moveto(r[--t],At),Z.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var _t=e.txt,Mt=0,Lt=_t.length;Mt<Lt;Mt++)ve(c(c(_t,Mt),0));e.txt=s(),e.tstr=W(e.txt.length);for(var Dt=0,kt=e.txt.length-1;Dt<=kt;Dt+=1)g(e.tstr,Dt,c(e.txt,Dt))}else{e.tstr=e.alttext;for(var O=0,K=e.alttext.length-1;O<=K;O+=1){if(r[t++]=O,Ct(e.alttextsubspace,C(e.alttext,O,1)),r[--t]){t--,t--;var G=r[t-2];g(e.alttext,G,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33821",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;Ct(r[--t],e.alttextsplit),r[--t];){var se=r[--t];r[t-1]=se;var le=r[--t],ge=r[--t];r[t++]=le,r[t++]=ge}e.textlines=s()}else e.textlines=s([e.tstr]);if(Z.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var ee=Z.pathbbox();Z.restore(),r[t++]=ee.ury}e.textascent=r[--t];var ke=e.textlines;r[t++]="textwidth",r[t++]=0;for(var X=0,xe=ke.length;X<xe;X++){var me=Z.stringwidth(c(ke,X)),ye=r[--t],ne=me.w;if(ye<me.w){var we=ne;ne=ye,ye=we}r[t++]=ye}var Ee=r[--t];e[r[--t]]=S(Ee+(e.tstr.length-1)*e.textgaps);var pe=e.textlines.length;if(e.textheight=S(pe*e.textascent+(pe-1)*e.textlinegaps),V(e.textxalign,"unset")&&(e.textxalign="center"),V(e.textyalign,"unset")&&(e.textyalign="below"),V(e.textxalign,"justify"))if(Ie(e.textdirection,"forward")&&Ie(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33858",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",V(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var Ne=r[--t];e[r[--t]]=Ne}else e.textgaps=0,e.textxalign="center";if(V(e.textyalign,"justify"))if(Ie(e.textdirection,"upward")&&Ie(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33871",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",V(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ae=r[--t];e[r[--t]]=Ae}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Ce=r[--t];Z.moveto(r[--t],Ce),Z.rmoveto(e.textxoffset,e.textyoffset),Z.save();var Qe=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(Qe,e.textdirection));var Pe=Z.currpos();Z.translate(Pe.x,Pe.y);for(var We=0,st=e.textlines.length-1;We<=st;We+=1){e.i=We,Z.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var at=e.textlines;Z.show(c(at,at.length-e.i-1),e.textgaps,0)}Z.restore()}if(e.extratext.length!=0){for(var je=0,Ge=e.extratext.length-1;je<=Ge;je+=1){if(r[t++]=je,Ct(e.extratextsubspace,C(e.extratext,je,1)),r[--t]){t--,t--;var He=r[t-2];g(e.extratext,He,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33911",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;Ct(r[--t],e.extratextsplit),r[--t];){var Ze=r[--t];r[t-1]=Ze;var ft=r[--t],pt=r[--t];r[t++]=ft,r[t++]=pt}e.textlines=s()}else e.textlines=s([e.extratext]);Ie(e.extratextcolor,"unset")&&Z.setcolor(e.extratextcolor),Z.selectfont(e.extratextfont,e.extratextsize),Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var ut=Z.pathbbox();Z.restore(),e.textascent=ut.ury;var xt=e.textlines;r[t++]="textwidth",r[t++]=0;for(var nt=0,Tt=xt.length;nt<Tt;nt++){var et=Z.stringwidth(c(xt,nt)),Qt=r[--t],Ht=et.w;if(Qt<et.w){var we=Ht;Ht=Qt,Qt=we}r[t++]=Qt}var Ot=r[--t];e[r[--t]]=S(Ot+(e.extratext.length-1)*e.extratextgaps);var sr=e.textlines.length;if(e.textheight=S(sr*e.textascent+(sr-1)*e.extratextlinegaps),V(e.extratextxalign,"justify"))if(Ie(e.extratextdirection,"forward")&&Ie(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33942",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",V(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var Sr=r[--t];e[r[--t]]=Sr}else e.extratextgaps=0,e.extratextxalign="center";if(V(e.extratextyalign,"justify"))if(Ie(e.extratextdirection,"upward")&&Ie(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33955",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",V(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var nr=r[--t];e[r[--t]]=nr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var gr=r[--t];Z.moveto(r[--t],gr),Z.rmoveto(e.extratextxoffset,e.extratextyoffset),Z.save();var ar=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(ar,e.extratextdirection));var Ir=Z.currpos();Z.translate(Ir.x,Ir.y);for(var Zt=0,dr=e.textlines.length-1;Zt<=dr;Zt+=1){e.i=Zt,Z.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var Kt=e.textlines;Z.show(c(Kt,Kt.length-e.i-1),e.extratextgaps,0)}Z.restore()}Z.restore(),e=a}function JR(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.barcolor="unset",e.bordercolor="unset",e.inkspread=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ve(r[--t],function(){var f=r[--t];e[r[--t]]=f}),r[t++]=e.opt,delete e.opt,r[t++]=e,Ve(),t--,Z.save(),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.tr=s([S(30+e.borderright+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(30+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([-e.borderleft+e.inkspread,29+e.bordertop-e.inkspread]),e.tr=s([30+e.borderright-e.inkspread,29+e.bordertop-e.inkspread]),e.bl=s([-e.borderleft+e.inkspread,-e.borderbottom+e.inkspread]),e.br=s([30+e.borderright-e.inkspread,-e.borderbottom+e.inkspread])),e.showborder){Z.save(),Z.newpath(),U(e.bl);var n=r[--t];Z.moveto(r[--t],n);for(var i=s([e.br,e.tr,e.tl]),o=0,d=i.length;o<d;o++){U(c(i,o));var u=r[--t];Z.lineto(r[--t],u)}Z.closepath(),Ie(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}Ie(e.barcolor,"unset")&&Z.setcolor(e.barcolor),Z.showmaxicode(e.pixs),Z.restore(),e=a}function Fy(a,n,i,o,d){if(typeof i!="string")throw new Error("bwipp.typeError: barcode text not a string ("+i+")");if(o=o||{},typeof o=="string"){var u=o.split(" ");o={};for(var f=0;f<u.length;f++)if(u[f]){var h=u[f].indexOf("=");h==-1?u[f][0]=="!"?o[u[f].substr(1)]=!1:o[u[f]]=!0:o[u[f].substr(0,h)]=u[f].substr(h+1)}}else if(typeof o!="object"||o.constructor!==Object)throw new Error("bwipp.typeError: options not an object");if(o.binarytext){if(/[\u0100-\uffff]/.test(i))throw new Error("bwip-js: 16-bit chars not allowed with binarytext")}else/[\u0080-\uffff]/.test(i)&&(i=unescape(encodeURIComponent(i)));var p=new Map;for(var m in o)o.hasOwnProperty(m)&&p.set(m,o[m]);return Z=a,r=[i,p],t=2,e={bwipjs_rawstack:o.dontdraw||d?[]:!1},n(),e.bwipjs_rawstack?e.bwipjs_rawstack:!0}function Ou(a){if(!a)throw new Error("bwipp.undefinedEncoder: bcid is not defined");switch(a.replace(/-/g,"_")){case"auspost":return WT;case"azteccode":return _u;case"azteccodecompact":return vR;case"aztecrune":return gR;case"bc412":return $T;case"channelcode":return WR;case"codablockf":return Ry;case"code11":return HT;case"code128":return l2;case"code16k":return aR;case"code2of5":return Ac;case"code32":return BT;case"code39":return c2;case"code39ext":return IT;case"code49":return sR;case"code93":return Sy;case"code93ext":return TT;case"codeone":return bR;case"coop2of5":return LT;case"daft":return oR;case"databarexpanded":return Lm;case"databarexpandedcomposite":return TR;case"databarexpandedstacked":return Qm;case"databarexpandedstackedcomposite":return RR;case"databarlimited":return By;case"databarlimitedcomposite":return DR;case"databaromni":return d2;case"databaromnicomposite":return ER;case"databarstacked":return Ey;case"databarstackedcomposite":return CR;case"databarstackedomni":return Cy;case"databarstackedomnicomposite":return IR;case"databartruncated":return Iy;case"databartruncatedcomposite":return BR;case"datalogic2of5":return QT;case"datamatrix":return L1;case"datamatrixrectangular":return dR;case"datamatrixrectangularextension":return uR;case"dotcode":return My;case"ean13":return o2;case"ean13composite":return kR;case"ean14":return ET;case"ean2":return i2;case"ean5":return n2;case"ean8":return zm;case"ean8composite":return jR;case"flattermarken":return nR;case"gs1_128":return v3;case"gs1_128composite":return MR;case"gs1_cc":return hs;case"gs1datamatrix":return FR;case"gs1datamatrixrectangular":return PR;case"gs1dldatamatrix":return _R;case"gs1dlqrcode":return UR;case"gs1dotcode":return zR;case"gs1northamericancoupon":return PT;case"gs1qrcode":return OR;case"hanxin":return wR;case"hibcazteccode":return KR;case"hibccodablockf":return VR;case"hibccode128":return QR;case"hibccode39":return LR;case"hibcdatamatrix":return HR;case"hibcdatamatrixrectangular":return $R;case"hibcmicropdf417":return GR;case"hibcpdf417":return qR;case"hibcqrcode":return YR;case"iata2of5":return UT;case"identcode":return MT;case"industrial2of5":return OT;case"interleaved2of5":return Fu;case"isbn":return kT;case"ismn":return jT;case"issn":return NT;case"itf14":return RT;case"jabcode":return AR;case"japanpost":return XT;case"kix":return JT;case"leitcode":return FT;case"mailmark":return fR;case"mands":return ST;case"matrix2of5":return zT;case"maxicode":return xR;case"micropdf417":return nu;case"microqrcode":return pR;case"msi":return ZT;case"onecode":return GT;case"pdf417":return Pu;case"pdf417compact":return cR;case"pharmacode":return _T;case"pharmacode2":return Dy;case"planet":return VT;case"plessey":return eR;case"posicode":return rR;case"postnet":return YT;case"pzn":return DT;case"qrcode":return pl;case"rationalizedCodabar":return qT;case"raw":return iR;case"rectangularmicroqrcode":return mR;case"royalmail":return KT;case"sscc18":return CT;case"swissqrcode":return hR;case"symbol":return lR;case"telepen":return Ty;case"telepennumeric":return tR;case"ultracode":return yR;case"upca":return jy;case"upcacomposite":return NR;case"upce":return Ny;case"upcecomposite":return SR}throw new Error("bwipp.unknownEncoder: unknown encoder name: "+a)}var XR="2025-10-24";const ZR="4.8.0 (2025-11-11)";function Ll(a){return a&&/HTMLCanvasElement|OffscreenCanvas/.test(Object.getPrototypeOf(a).constructor.name)}function eM(a,n){if(typeof n=="string"||Ll(n)){let i=a;a=n,n=i}return tM(Ou(n.bcid),n,a)}function tM(a,n,i){if(typeof n=="string"){var o=document.getElementById(n)||document.querySelector(n);if(!Ll(o))throw new Error("bwipjs: `"+n+"`: not a canvas");n=i,i=m0(o)}else if(Ll(n)){var o=n;n=i,i=m0(o)}else if(typeof i=="string"){var o=document.getElementById(i)||document.querySelector(i);if(!Ll(o))throw new Error("bwipjs: `"+i+"`: not a canvas");i=m0(o)}else if(Ll(i))i=m0(i);else if(!i||typeof i!="object"||!i.init)throw new Error("bwipjs: not a canvas or drawing object");return Hm(a,n,i)}function rM(a){return Hm(Ou(a.bcid),a,Uy())}function Py(a){var n=a.scale||2,i=+a.scaleX||n,o=+a.scaleY||i;if(a.paddingleft=y(a.paddingleft,a.paddingwidth,a.padding,i),a.paddingright=y(a.paddingright,a.paddingwidth,a.padding,i),a.paddingtop=y(a.paddingtop,a.paddingheight,a.padding,o),a.paddingbottom=y(a.paddingbottom,a.paddingheight,a.padding,o),a.backgroundcolor){var d=""+a.backgroundcolor;if(/^[0-9a-fA-F]{8}$/.test(d)){var u=parseInt(d.substr(0,2),16)/255,f=parseInt(d.substr(2,2),16)/255,h=parseInt(d.substr(4,2),16)/255,p=parseInt(d.substr(6,2),16)/255,m=Math.floor((1-u)*(1-p)*255).toString(16),x=Math.floor((1-f)*(1-p)*255).toString(16),b=Math.floor((1-h)*(1-p)*255).toString(16);a.backgroundcolor=(m.length==1?"0":"")+m+(x.length==1?"0":"")+x+(b.length==1?"0":"")+b}else if(d[0]=="#"&&(d=d.substr(1)),/^[0-9a-fA-F]{6}$/.test(d))a.backgroundcolor=d;else if(/^[0-9a-fA-F]{3}$/.test(d))a.backgroundcolor=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];else throw new Error("bwip-js: invalid backgroundcolor: "+a.backgroundcolor)}return a;function y(w,v,A,j){return w!=null?(w=w>>>0,w*j>>>0):v!=null?(v=v>>>0,v*j>>>0):(A=A>>>0,A*j>>>0||0)}}var aM={bcid:1,text:1,scale:1,scaleX:1,scaleY:1,rotate:1,padding:1,paddingwidth:1,paddingheight:1,paddingtop:1,paddingleft:1,paddingright:1,paddingbottom:1,backgroundcolor:1};function sM(a,n){return Hm(Ou(a.bcid),a,n)}function Hm(a,n,i){var o=n.text;if(!o)throw new ReferenceError("bwip-js: bar code text not specified.");Py(n),i.setopts&&i.setopts(n);var d=n.scale||2,u=+n.scaleX||d,f=+n.scaleY||u;n.rotate;var h=new _y(i),p={};for(var m in n)aM[m]||(p[m]=n[m]);return p.alttext&&(p.includetext=!0),+p.height&&a!=Dy&&(p.height=p.height/25.4||.5),+p.width&&(p.width=p.width/25.4||0),h.scale(u,f),Fy(h,a,o,p),h.render()}function nM(a,n,i){arguments.length==1&&(i=a,a=i.bcid,n=i.text);var o=Oy();o.setopts(i);for(var d=new _y(o),u=Fy(d,Ou(a),n,i,!0),f={pixs:1,pixx:1,pixy:1,sbs:1,bbs:1,bhs:1,width:1,height:1},h=0;h<u.length;h++){var p=u[h];if(p instanceof Map){for(var m={},x=p.keys(),b=p.size,y=0;y<b;y++){var w=x.next().value;if(f[w]){var v=p.get(w);v instanceof Array?m[w]=v.b.slice(v.o,v.o+v.length):m[w]=v}}u[h]=m}else u.splice(h--,1)}return u}var _y=function(){var a=Math.floor,n=Math.round,i=Math.ceil,o=Math.min,d=Math.max;function u(f){if(this.constructor!==u)return new u(f);this.gstk=[],this.cmds=[],this.drawing=f,this.reset(),this.minx=this.miny=1/0,this.maxx=this.maxy=-1/0}return u.prototype.reset=function(){this.g_m0=1,this.g_m1=0,this.g_m2=0,this.g_m3=1,this.g_m4=0,this.g_m5=0,this.g_tsx=1,this.g_tsy=1,this.g_rot=0,this.g_posx=0,this.g_posy=0,this.g_penw=1,this.g_path=[],this.g_font=null,this.g_rgb=[0,0,0],this.g_clip=!1},u.prototype.save=function(){var f={};for(var h in this)h.indexOf("g_")==0&&(f[h]=p(this[h]));this.gstk.push(f);function p(m){if(m instanceof Array){for(var x=[],b=0;b<m.length;b++)x[b]=p(m[b]);return x}if(m instanceof Object){var x={};for(var y in m)x[y]=p(m[y]);return x}return m}},u.prototype.restore=function(){if(!this.gstk.length)throw new Error("grestore: stack underflow");var f=this.gstk.pop(),h=this;this.g_clip&&!f.g_clip&&this.cmds.push(function(){h.drawing.unclip()});for(var p in f)this[p]=f[p]},u.prototype.currpos=function(){return{x:(this.g_posx-this.g_m4)/this.g_tsx,y:(this.g_posy-this.g_m5)/this.g_tsy}},u.prototype.currfont=function(){return this.g_font},u.prototype.rotate=function(f){this.g_rot+=f;var h=n(Math.cos(f*Math.PI/180)),p=n(Math.sin(f*Math.PI/180)),m=this.g_m0*h+this.g_m2*p,x=this.g_m1*h+this.g_m3*p,b=this.g_m0*-p+this.g_m2*h,y=this.g_m1*-p+this.g_m3*h;this.g_m0=m,this.g_m1=x,this.g_m2=b,this.g_m3=y},u.prototype.translate=function(f,h){this.g_m4+=this.g_tsx*f,this.g_m5+=this.g_tsy*h},u.prototype.scale=function(f,h){var p=this.g_tsx,m=this.g_tsy;this.g_tsx*=f,this.g_tsy*=h;var x=this.drawing.scale(this.g_tsx,this.g_tsy);x&&x[0]&&x[1]&&(this.g_tsx=x[0],this.g_tsy=x[1]),this.g_m0*=this.g_tsx/p,this.g_m1*=this.g_tsx/p,this.g_m2*=this.g_tsy/m,this.g_m3*=this.g_tsy/m},u.prototype.setlinewidth=function(f){this.g_penw=f},u.prototype.selectfont=function(f,h){this.g_font={FontName:this.jsstring(f),FontSize:+h}},u.prototype.getfont=function(){return this.g_font.FontName},u.prototype.jsstring=function(f){return f instanceof Uint8Array?String.fromCharCode.apply(null,f):""+f},u.prototype.setcolor=function(f){if(f instanceof Uint8Array&&(f=this.jsstring(f)),!!f){if(!/^(?:#?[0-9a-fA-F]{3}(?:[0-9a-fA-F]{3})?|[0-9a-fA-F]{8})$/.test(f))throw new Error("bwip-js: invalid color: "+f);if(f[0]=="#"&&(f=f.substr(1)),f.length==3){var h=parseInt(f[0],16),p=parseInt(f[1],16),m=parseInt(f[2],16);this.g_rgb=[h<<4|h,p<<4|p,m<<4|m]}else if(f.length==6){var h=parseInt(f.substr(0,2),16),p=parseInt(f.substr(2,2),16),m=parseInt(f.substr(4,2),16);this.g_rgb=[h,p,m]}else{var x=parseInt(f.substr(0,2),16)/255,b=parseInt(f.substr(2,2),16)/255,y=parseInt(f.substr(4,2),16)/255,w=parseInt(f.substr(6,2),16)/255,h=n((1-x)*(1-w)*255),p=n((1-b)*(1-w)*255),m=n((1-y)*(1-w)*255);this.g_rgb=[h,p,m]}}},u.prototype.setrgbcolor=function(f,h,p){this.g_rgb=[f,h,p]},u.prototype.getRGB=function(){var f=this.g_rgb[0].toString(16),h=this.g_rgb[1].toString(16),p=this.g_rgb[2].toString(16);return"00".substr(f.length)+f+"00".substr(h.length)+h+"00".substr(p.length)+p},u.prototype.newpath=function(){this.g_path=[]},u.prototype.closepath=function(){var f=this.g_path,h=f.length;if(h){for(var p=h-1;p>=0&&f[p].op=="l";p--);if(p++,p<h-1){for(var m=[],x=1/0,b=1/0,y=-1/0,w=-1/0,v=p;v<h;v++){var A=f[v];m.push([A.x0,A.y0]),x>A.x0&&(x=A.x0),y<A.x0&&(y=A.x0),b>A.y0&&(b=A.y0),w<A.y0&&(w=A.y0)}var A=f[h-1],j=f[p];(A.x1!=j.x0||A.y1!=j.y0)&&(m.push([A.x1,A.y1]),x>A.x1&&(x=A.x1),y<A.x1&&(y=A.x1),b>A.y1&&(b=A.y1),w<A.y1&&(w=A.y1)),f.splice(p,h-p,{op:"p",x0:x,y0:b,x1:y,y1:w,poly:m})}else f.push({op:"c"})}},u.prototype.moveto=function(f,h){this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.rmoveto=function(f,h){this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.lineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),b=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:b})},u.prototype.rlineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),b=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:b})},u.prototype.arc=function(f,h,p,m,x,b){if(m!=x){if(m!=0&&m!=360||x!=0&&x!=360)throw new Error("arc: not a full circle ("+m+","+x+")");var y=this.g_m0*f+this.g_m2*h+this.g_m4,w=this.g_m1*f+this.g_m3*h+this.g_m5,v=p*this.g_tsx,A=p*this.g_tsy;this.g_path.push({op:"e",x0:y-v,y0:w-A,x1:y+v,y1:w+A,x:y,y:w,rx:v,ry:A,sa:m,ea:x,ccw:b})}},u.prototype.stringwidth=function(f){var h=this.g_tsx,p=this.g_tsy,m=+this.g_font.FontSize||10;f=this.toUCS2(this.jsstring(f));var x=this.drawing.measure(f,this.g_font.FontName,m*h,m*p);return{w:x.width/h,h:(x.ascent+x.descent)/p,a:x.ascent/p,d:x.descent/p}},u.prototype.charpath=function(f,h){var p=this.stringwidth(f);this.rlineto(0,p.a),this.rlineto(p.w,0),this.rlineto(0,-p.h)},u.prototype.pathbbox=function(){if(!this.g_path.length)throw new Error("pathbbox: --nocurrentpoint--");for(var f=this.g_path,h=1/0,p=1/0,m=-1/0,x=-1/0,b=0;b<f.length;b++){var y=f[b];y.op!="c"&&(y.x0<y.x1?(h>y.x0&&(h=y.x0),m<y.x1&&(m=y.x1)):(h>y.x1&&(h=y.x1),m<y.x0&&(m=y.x0)),y.y0<y.y1?(p>y.y0&&(p=y.y0),x<y.y1&&(x=y.y1)):(p>y.y1&&(p=y.y1),x<y.y0&&(x=y.y0)))}var w={llx:(h-this.g_m4)/this.g_tsx,lly:(p-this.g_m5)/this.g_tsy,urx:(m-this.g_m4)/this.g_tsx,ury:(x-this.g_m5)/this.g_tsy};return w},u.prototype.transform=function(f){for(var h=this.minx,p=this.maxy,m=0;m<f.length;m++){var x=f[m];x[0]=x[0]-h,x[1]=p-x[1]}},u.prototype.stroke=function(){var f=this.g_tsx,h=this.g_tsy,p=this.g_path,m=this.getRGB();this.g_path=[];for(var x=a(this.g_penw*f+.66),b=a(this.g_penw*h+.66),y=0;y<p.length;y++){var w=p[y];if(w.op=="l"){if(w.x0!=w.x1&&w.y0!=w.y1)throw new Error("stroke: --not-orthogonal--");var v=w.x0,A=w.y0,j=w.x1,E=w.y1,k=x/2,N=b/2;if(v>j){var B=v;v=j,j=B}if(A>E){var B=A;A=E,E=B}v==j?this.bbox(v-k,A,v+x-k-1,E):this.bbox(v,A-b+N+1,j,E+N)}else if(w.op=="p"){var I=1/0,D=1/0,T=-1/0,M=-1/0,Q=w.poly;if(Q.length!=4)throw new Error("stroke: --not-a-rect--");for(var y=0,F=Q.length-1;y<Q.length;F=y++){var P=Q[F][0],L=Q[F][1],_=Q[y][0],H=Q[y][1];if(_!=P&&H!=L)throw new Error("stroke: --not-orthogonal--");_<I&&(I=_),_>T&&(T=_),H<D&&(D=H),H>M&&(M=H)}var k=i(x/2),N=i(b/2);this.bbox(I-k,D-N,T+k,M+N)}else throw new Error("stroke: --not-a-line--")}var Y=this;this.cmds.push(function(){for(var de=i(x/2),$=i(b/2),q=x-de,re=b-$,ce=0;ce<p.length;ce++){var J=p[ce];if(J.op=="l"){var oe=[[J.x0,J.y0],[J.x1,J.y1]];Y.transform(oe),Y.drawing.line(oe[0][0],oe[0][1],oe[1][0],oe[1][1],J.x0==J.x1?x:b,m),Y.fill(m)}else{var oe=J.poly;Y.transform(oe);var ue=o(oe[0][0],oe[2][0]),he=d(oe[0][0],oe[2][0]),Re=o(oe[0][1],oe[2][1]),te=d(oe[0][1],oe[2][1]);Y.drawing.polygon([[ue-de,Re-$],[ue-de,te+$+1],[he+de+1,te+$+1],[he+de+1,Re-$]]),Y.drawing.polygon([[ue+q,Re+re],[he-q+1,Re+re],[he-q+1,te-re+1],[ue+q,te-re+1]]),Y.drawing.fill(m)}}})},u.prototype.fill=function(){var f=this.g_path,h=this.getRGB();this.g_path=[];for(var p=0;p<f.length;p++){var m=f[p];if(m.op=="p"){for(var x=1/0,b=1/0,y=-1/0,w=-1/0,v=m.poly,A=0;A<v.length;A++){var j=v[A][0],E=v[A][1];j<x&&(x=j),j>y&&(y=j),E<b&&(b=E),E>w&&(w=E)}this.bbox(x,b+1,y-1,w)}else if(m.op=="e")this.bbox(m.x-m.rx,m.y-m.ry,m.x+m.rx,m.y+m.ry);else throw new Error("fill: --not-a-polygon--")}var k=this;this.cmds.push(function(){for(var N=0;N<f.length;N++){var B=f[N];if(B.op=="p"){var I=B.poly;k.transform(I),k.drawing.polygon(I)}else if(B.op=="e"){var I=[[B.x,B.y]];k.transform(I),k.drawing.ellipse(I[0][0],I[0][1],B.rx,B.ry,B.ccw)}}k.drawing.fill(h)})},u.prototype.clip=function(){var f=this.g_path;this.g_path=[],this.g_clip=!0;var h=this;this.cmds.push(function(){for(var p=[],m=0;m<f.length;m++){var x=f[m];if(x.op=="p"){var b=x.poly;h.transform(b),p.push(b)}else throw new Error("clip: only polygon regions supported")}h.drawing.clip(p)})},u.prototype.drawlayer=function(f,h,p){let m=iM(f,h,p);this.newpath();for(let x=0,b=m.length;x<b;x++){let y=m[x];this.moveto(y[0][0],y[0][1]);for(let w=1,v=y.length;w<v;w++){let A=y[w];this.lineto(A[0],A[1])}this.closepath()}this.fill()},u.prototype.showmaxicode=function(f){var h=this.g_tsx,p=this.g_tsy,m=this.getRGB(),x=1.04*h*100,b=x/30|0;x-(b*30-1)>9&&b++;var y,w,v,A;v=h/2|0,A=p/2|0,y=b-v,y&1&&y--,w=(4*p|0)-A;var j=y/2-1,E=(j+1)/2|0,k=w-2-2*E;this.bbox(0,0,b*30-v,p*3*32+p*4-A);var N=this;this.cmds.push(function(){for(var B=0;B<f.length;B++){var I=f[B],T=I%30,M=I/30|0;T*=b,T+=M&1?b:b/2,T=T|0,M=33-M,M*=p*3,M+=p*2-w/2,M=M|0;var D=[[T-.5,M--]];M-=E-1,D.push([T-1-j,M--]),M-=k,D.push([T-1-j,M--]),M-=E-1,D.push([T-.5,M++]),M+=E-1,D.push([T+j,M++]),M+=k,D.push([T+j,M++]),N.transform(D),N.drawing.hexagon(D,m)}N.drawing.fill(m);var T=14*b+b/2+.01|0,M=(12*4+3)*p-E/2+.01|0;N.drawing.ellipse(T,M,.5774*3.5*h+.01|0,.5774*3.5*p+.01|0,!0),N.drawing.ellipse(T,M,1.3359*3.5*h+.01|0,1.3359*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(T,M,2.1058*3.5*h+.01|0,2.1058*3.5*p+.01|0,!0),N.drawing.ellipse(T,M,2.8644*3.5*h+.01|0,2.8644*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(T,M,3.6229*3.5*h+.01|0,3.6229*3.5*p+.01|0,!0),N.drawing.ellipse(T,M,4.3814*3.5*h+.01|0,4.3814*3.5*p+.01|0,!1),N.drawing.fill(m)})},u.prototype.toUCS2=function(f){return f.replace(/[\xc0-\xdf][\x80-\xbf]|[\xe0-\xff][\x80-\xbf]{2}/g,function(h){var p;return h.length==2?p=(h.charCodeAt(0)&31)<<6|h.charCodeAt(1)&63:p=(h.charCodeAt(0)&15)<<12|(h.charCodeAt(1)&63)<<6|h.charCodeAt(2)&63,String.fromCharCode(p)})},u.prototype.show=function(f,h,p){if(f.length){var m=this.g_rot,x=m==90||m==270?this.g_tsy:this.g_tsx,b=m==90||m==270?this.g_tsx:this.g_tsy,y=this.g_font.FontName||"OCR-B",w=this.g_font.FontSize||10,v=w*x,A=w*b,j=this.g_posx,E=this.g_posy,k=this.getRGB();h=x*h||0,p=b*p||0,f=this.toUCS2(this.jsstring(f));var N=this.drawing.measure(f,y,v,A),B=N.width+(f.length-1)*h;m==90?this.bbox(j-p+N.descent-1,E,j-p-N.ascent,E+B-1):m==180?this.bbox(j,E-p+N.descent-1,j-B+1,E-p-N.ascent):m==270?this.bbox(j+p-N.descent+1,E,j+p+N.ascent,E-B+1):(m=0,this.bbox(j,E+p-N.descent+1,j+B-1,E+p+N.ascent),this.g_posx+=B);var I=this;I.cmds.push(function(){var D=j-I.minx,T=I.maxy-E;I.drawing.text(D,T,f,k,{name:y,width:v,height:A,rotate:m,dx:h})})}},u.prototype.bbox=function(f,h,p,m){if(f>p){var x=f;f=p,p=x}if(h>m){var x=h;h=m,m=x}f=a(f),h=a(h),p=i(p),m=i(m),this.minx>f&&(this.minx=f),this.maxx<p&&(this.maxx=p),this.miny>h&&(this.miny=h),this.maxy<m&&(this.maxy=m)},u.prototype.render=function(){if(this.minx===1/0)return!1;this.drawing.init(this.maxx-this.minx+1,this.maxy-this.miny+1,this.g_tsx,this.g_tsy);for(var f=0,h=this.cmds.length;f<h;f++)this.cmds[f]();return this.drawing.end()},u}();function iM(a,n,i,o,d){let u=0,f=0,h=new Array(i+1),p=0;for(let y=i-1;y>=0;y--){let w=new Uint8Array(n);for(let v=0;v<n;v++)w[v]=a[p+v]?1:0;h[y]=w,p+=n}h[-1]=[],h[i]=[];let m=[];for(let y=0;y<i;y++){let w=0;for(let v=0;v<n;v++)!(w&9)&&h[y][v]==1?m.push(x(v,y,[])):(w&5)==1&&h[y][v]==0&&m.push(b(v,y,[])),w=h[y][v]}return m;function x(y,w,v){v.push([y+u,w+f]);let A=2;for(;;){if(h[w][y]&A)return v.pop(),v;h[w][y]|=A,A==2?h[w][y+1]&1?(h[w-1][y+1]&1&&(v.push([y+1-u,w+f,"H"]),A=16),y++):(v.push([y+1-u,w+f,"H"]),A=4):A==4?h[w+1][y]&1?(h[w+1][y+1]&1&&(v.push([y+1-u,w+1-f,"V"]),A=2),w++):(v.push([y+1-u,w+1-f,"V"]),A=8):A==8?h[w][y-1]&1?(h[w+1][y-1]&1&&(v.push([y+u,w+1-f,"H"]),A=4),y--):(v.push([y+u,w+1-f,"H"]),A=16):h[w-1][y]&1?(h[w-1][y-1]&1&&(v.push([y+u,w+f,"V"]),A=8),w--):(v.push([y+u,w+f,"V"]),A=2)}}function b(y,w,v){v.push([y-u,w-f]);let A=2;for(;;){if(h[w][y]&A)return v.pop(),v;h[w][y]|=A,A==2?h[w+1][y]&1?(v.push([y-u,w+1+f]),A=4):(h[w+1][y-1]&1||(v.push([y-u,w+1+f]),A=16),w++):A==4?h[w][y+1]&1?(v.push([y+1+u,w+1+f]),A=8):(h[w+1][y+1]&1||(v.push([y+1+u,w+1+f]),A=2),y++):A==8?h[w-1][y]&1?(v.push([y+1+u,w-f]),A=16):(h[w-1][y+1]&1||(v.push([y+1+u,w-f]),A=4),w--):h[w][y-1]&1?(v.push([y-u,w-f]),A=2):(h[w-1][y-1]&1||(v.push([y-u,w-f]),A=8),y--)}}}function Oy(){var a=0,n=0,i=0,o=0,d=0,u=0,f=0,h=0,p,m,x,b,y,w,v,A,j,E,k,N;return{setopts(F){p=F},scale:function(F,P){return p.bcid=="swissqrcode"?[F,P]:[F|0||1,P|0||1]},measure:function(F,P,L,_){L=L|0,_=_|0;for(var H=ai.lookup(P),Y=0,de=0,$=0,q=0,re=F.length;q<re;q++){var ce=F.charCodeAt(q),J=ai.getglyph(H,ce,L,_);de=Math.max(de,J.top),$=Math.max($,J.height-J.top),q==re-1?Y+=J.left+J.width:Y+=J.advance}return{width:Y,ascent:de,descent:$}},init:function(F,P){var L=p.paddingleft,_=p.paddingright,H=p.paddingtop,Y=p.paddingbottom,de=p.rotate||"N";if(F+=L+_,P+=H+Y,+p.sizelimit&&+p.sizelimit<F*P)throw new Error("Image size over limit");switch(de){case"R":n=-1,i=1,d=1;break;case"I":a=-1,i=1,u=-1,h=1;break;case"L":n=1,d=-1,h=1;break;default:a=u=1;break}var $=de=="L"||de=="R";b=$?P:F,y=$?F:P,w=L,v=H,k=[],k.min=1/0,N=null,A=j=E=0;var q=this.image(b,y);m=q.buffer,x=q.ispng?1:0},line:function(F,P,L,_,H,Y){if(F=F|0,P=P|0,L=L|0,_=_|0,H=Math.round(H)||1,_<P){var de=P;P=_,_=de}if(L<F){var de=F;F=L,L=de}A=parseInt(Y.substr(0,2),16),j=parseInt(Y.substr(2,2),16),E=parseInt(Y.substr(4,2),16);var $=H/2|0;F==L?(F=F-H+$,L=L+$-1):(P=P-$,_=_+H-$-1);for(var q=P;q<=_;q++)for(var re=F;re<=L;re++)B(re,q,255)},polygon:function(F){for(var P=F.length,L=P-1,_=0;_<P;L=_++)if(F[L][0]==F[_][0]){var H=F[L][0]|0,Y=F[L][1]|0,de=F[_][1]|0;if(Y>de)for(var $=de+1;$<Y;$++)I(H,$);else for(var $=Y+1;$<de;$++)I(H,$)}else{var H=F[L][0]|0,q=F[_][0]|0,Y=F[L][1]|0;if(H<q){var re=F[L==0?P-1:L-1][1],ce=F[_==P-1?0:_+1][1];re>Y&&I(H,Y),ce>Y&&I(q,Y)}else{var re=F[_==P-1?0:_+1][1],ce=F[L==0?P-1:L-1][1];re>Y&&I(q,Y),ce>Y&&I(H,Y)}}},hexagon:function(F,P){var L=F[0][0]|0,_=F[0][1]|0,H=F[1][1]-F[0][1]|0,Y=F[2][1]-F[1][1]-1|0,de=F[2][0]|0,$=F[4][0]|0;A=parseInt(P.substr(0,2),16),j=parseInt(P.substr(2,2),16),E=parseInt(P.substr(4,2),16),D(L,L+1,_++);for(var q=1;q<H;q++)D(L-2*q,L+1+2*q,_++);for(var q=0;q<=Y;q++)D(de,$,_++);for(var q=H-1;q>=1;q--)D(L-2*q,L+1+2*q,_++);D(L,L+1,_)},ellipse:function(F,P,L,_,H){M(F-L|0,P-_|0,F+L|0,P+_|0)},fill:function(F){A=parseInt(F.substr(0,2),16),j=parseInt(F.substr(2,2),16),E=parseInt(F.substr(4,2),16),T(),k=[],k.min=1/0},clip:function(F){N||(N=[],N.min=1/0);var P=k;k=N;for(var L=0,_=F.length;L<_;L++)this.polygon(F[L]);k=P},unclip:function(){N=null},text:function(F,P,L,_,H){F=F|0,P=P|0,A=parseInt(_.substr(0,2),16),j=parseInt(_.substr(2,2),16),E=parseInt(_.substr(4,2),16);var Y=ai.lookup(H.name),de=H.width|0,$=H.height|0,q=H.dx|0,re=0,ce=0,J=0,oe=0;switch(H.rotate){case 90:ce=1,J=-1;break;case 180:re=-1,oe=-1;break;case 270:ce=-1,J=1;break;default:re=1,oe=1;break}for(var ue=0,he=0;he<L.length;he++){for(var Re=L.charCodeAt(he),te=ai.getglyph(Y,Re,de,$),Be=-te.top,Se=te.left,Oe=te.width,Ue=te.height,be=te.bytes,$e=te.offset,Fe=0;Fe<Oe;Fe++)for(var Ke=0;Ke<Ue;Ke++){var Je=be[$e+Ke*Oe+Fe];if(Je){var rt=ue+Se+Fe,ae=Be+Ke,fe=re*rt+ce*ae,Me=J*rt+oe*ae;B(F+fe,P+Me,Je)}}ue+=te.advance+q}},end:function(){}};function B(F,P,L){if(!(N&&Q(F,P))){F+=w,P+=v;var _=a*F+n*P+i*(b-1)+o*(y-1),H=d*F+u*P+f*(b-1)+h*(y-1),Y=(H*b+_)*4+(H+1)*x,de=m[Y+3]/255,$=L/255,q=(1-$)*de,re=$+q;m[Y+0]=(A*$+m[Y+0]*q)/re|0,m[Y+1]=(j*$+m[Y+1]*q)/re|0,m[Y+2]=(E*$+m[Y+2]*q)/re|0,m[Y+3]=255*re|0}}function I(F,P){k.min>P&&(k.min=P),k[P]?k[P].push(F):k[P]=[F]}function D(F,P,L){for(;F<=P;)B(F++,L,255)}function T(){for(var F=k.min,P=k.length-1,L=F;L<=P;L++){var _=k[L];if(_){_.sort(function(re,ce){return re-ce});for(var H=!1,Y=0,de=0,$=_.length;de<$;de++){var q=_[de];H?D(Y,q-1,L):Y=q,H=!H}}}}function M(F,P,L,_,H){F=F|0,P=P|0,L=L|0,_=_|0;var Y=Math.abs(L-F),de=Math.abs(_-P),$=de&1,q=4*(1-Y)*de*de,re=4*($+1)*Y*Y,ce=q+re+$*Y*Y,J,oe=[],ue=[];oe.min=ue.min=1/0,F>L&&(F=L,L+=Y),P>_&&(P=_),P+=(de+1)/2|0,_=P-$,Y*=8*Y,$=8*de*de;do Be(ue,L,P),te(oe,F,P),te(oe,F,_),Be(ue,L,_),J=2*ce,J>=q&&(F++,L--,q+=$,ce+=q),J<=re&&(P++,_--,re+=Y,ce+=re);while(F<=L);for(;P-_<de;)Be(ue,L+1,P),te(oe,F-1,P++),te(oe,F-1,_),Be(ue,L+1,_--);for(var he=oe.min,Re=oe.length-1;he<=Re;he++)I(oe[he],he);for(var he=ue.min,Re=ue.length-1;he<=Re;he++)I(ue[he]+1,he);function te(Se,Oe,Ue){Se.min>Ue&&(Se.min=Ue);var be=Se[Ue];(be==null||be>Oe)&&(Se[Ue]=Oe)}function Be(Se,Oe,Ue){Se.min>Ue&&(Se.min=Ue);var be=Se[Ue];(be==null||be<Oe)&&(Se[Ue]=Oe)}}function Q(F,P){var L=N[P];if(!L)return!0;L.sorted||(L.sort(function($,q){return $-q}),L.sorted=!0);for(var _=!1,H=0,Y=L.length;H<Y;H++){var de=L[H];if(de>F)return!_;if(de==F)return _;_=!_}return!0}}function m0(a,n){Ll(n)&&(a=n);var i,o=a.getContext("2d",{willReadFrequently:!0}),d=Oy();d.image=h,d.end=p;var u,f=d.setopts;return d.setopts=function(m){u=m,f&&f.call(d,m)},d;function h(m,x){return a.width=m,a.height=x,o.setTransform(1,0,0,1,0,0),/^[0-9a-fA-F]{6}$/.test(""+u.backgroundcolor)?(o.fillStyle="#"+u.backgroundcolor,o.fillRect(0,0,m,x)):o.clearRect(0,0,m,x),i=o.getImageData(0,0,m,x),{buffer:i.data,ispng:!1}}function p(){return o.putImageData(i,0,0),a}}function Uy(){var a=0,n=0,i=0,o=0,d=0,u=0,f=0,h=0,p,m="",x,b="",y=[],w={},v,A,j=.55228475-45e-5,E,k,N,B;return{setopts(D){p=D},scale(D,T){v=D,A=T},measure(D,T,M,Q){M=M|0,Q=Q|0;for(var F=ai.lookup(T),P=0,L=0,_=0,H=0,Y=D.length;H<Y;H++){var de=D.charCodeAt(H),$=ai.getglyph(F,de,M,Q);$&&(L=Math.max(L,$.top),_=Math.max(_,$.height-$.top),H==Y-1?P+=$.left+$.width:P+=$.advance)}return{width:P,ascent:L,descent:_}},init(D,T){var M=p.paddingleft,Q=p.paddingright,F=p.paddingtop,P=p.paddingbottom,L=p.rotate||"N";switch(D+=M+Q,T+=F+P,L){case"R":n=-1,i=1,d=1;break;case"I":a=-1,i=1,u=-1,h=1;break;case"L":n=1,d=-1,h=1;break;default:a=u=1;break}var _=L=="L"||L=="R";E=_?T:D,k=_?D:T,N=M,B=F},line(D,T,M,Q,F,P){if(D=D|0,T=T|0,M=M|0,Q=Q|0,F=Math.round(F)||1,F&1){if(D==M){let _=v&1?-.5:.5;D+=_,M+=_}if(T==Q){let _=A&1?-.5:.5;T+=_,Q+=_}}D==M?T++:T==Q&&D++;var L=""+F+"#"+P;w[L]||(w[L]='<path stroke="#'+P+'" stroke-width="'+F+'" d="'),w[L]+="M"+I(D,T)+"L"+I(M,Q)},polygon(D){x||(x='<path d="'),x+="M"+I(D[0][0],D[0][1]);for(var T=1,M=D.length;T<M;T++){var Q=D[T];x+="L"+I(Q[0],Q[1])}x+="Z"},hexagon(D,T){this.polygon(D)},ellipse(D,T,M,Q,F){x||(x='<path d="');var P=M*j,L=Q*j;x+="M"+I(D-M,T)+"C"+I(D-M,T-L)+" "+I(D-P,T-Q)+" "+I(D,T-Q)+"C"+I(D+P,T-Q)+" "+I(D+M,T-L)+" "+I(D+M,T)+"C"+I(D+M,T+L)+" "+I(D+P,T+Q)+" "+I(D,T+Q)+"C"+I(D-P,T+Q)+" "+I(D-M,T+L)+" "+I(D-M,T)+"Z"},fill(D){x&&(m+=x+'" fill="#'+D+'" fill-rule="evenodd"'+(b?' clip-path="url(#'+b+')"':"")+` />
`,x=null)},clip:function(D){var T='<clipPath id="clip'+y.length+'"><path d="';for(let P=0;P<D.length;P++){let L=D[P];T+="M"+I(L[0][0],L[0][1]);for(var M=1,Q=L.length;M<Q;M++){var F=L[M];T+="L"+I(F[0],F[1])}T+="Z"}T+='" clip-rule="nonzero" /></clipPath>',b="clip"+y.length,y.push(T)},unclip:function(){b=""},text(D,T,M,Q,F){D=D|0,T=T|0;for(var P=D,L=T,_=ai.lookup(F.name),H=F.width|0,Y=F.height|0,de=F.dx|0,$="",q=0;q<M.length;q++){var re=M.charCodeAt(q),ce=ai.getpaths(_,re,H,Y);if(ce){if(ce.length){for(var J=0,oe=ce.length;J<oe;J++){let ue=ce[J];ue.type=="M"||ue.type=="L"?$+=ue.type+I(ue.x+D,T-ue.y):ue.type=="Q"?$+=ue.type+I(ue.cx+D,T-ue.cy)+" "+I(ue.x+D,T-ue.y):ue.type=="C"&&($+=ue.type+I(ue.cx1+D,T-ue.cy1)+" "+I(ue.cx2+D,T-ue.cy2)+" "+I(ue.x+D,T-ue.y))}$+="Z"}D+=ai.getglyph(_,re,H,Y).advance+de}}$&&(F.rotate?m+='<path d="'+$+'" fill="#'+Q+'" transform="rotate(-'+F.rotate+" "+I(P,L)+`)" />
`:m+='<path d="'+$+'" fill="#'+Q+`" />
`)},end(){var D="";for(var T in w)D+=w[T]+`" />
`;var M=p.backgroundcolor;return'<svg viewBox="0 0 '+E+" "+k+`" xmlns="http://www.w3.org/2000/svg">
`+(y.length?"<defs>"+y.join("")+"</defs>":"")+(/^[0-9A-Fa-f]{6}$/.test(""+M)?'<rect width="100%" height="100%" fill="#'+M+`" />
`:"")+D+m+`</svg>
`}};function I(D,T){D+=N,T+=B;var M=a*D+n*T+i*(E-1)+o*(k-1),Q=d*D+u*T+f*(E-1)+h*(k-1);return""+((M|0)==M?M:M.toFixed(2))+" "+((Q|0)==Q?Q:Q.toFixed(2))}}var ai=function(){var a=[],n={},i={},o={},d=0;return o.next=o,o.prev=o,{lookup:f,monochrome:h,getglyph:p,getpaths:m,loadFont:u};function u(x){var b=100,y=100,w=null;if(arguments.length==2)w=arguments[1];else if(arguments.length==3)b=y=+arguments[1]||100,w=arguments[2];else if(arguments.length==4)y=+arguments[1]||100,b=+arguments[2]||100,w=arguments[3];else throw new Error("bwipjs: loadFont: invalid number of arguments");var v=W2.InitFont(lM(w));v.bwipjs_name=x,v.bwipjs_multx=b,v.bwipjs_multy=y;var A=a.push(v)-1;return n[x.toUpperCase()]=A,A}function f(x){var b=n[x.toUpperCase()];return b===void 0?1:b}function h(x){if(x)throw new Error("bwipjs: monochrome fonts not implemented")}function p(x,b,y,w){x=x|0,b=b|0,y=+y,w=+w,(!y||y<8)&&(y=8),(!w||w<8)&&(w=y),(x<0||x>=a.length)&&(x=1),(!b||b<32)&&(b=32);var v=""+x+"c"+b+"w"+y+"h"+w,j=i[v];if(j){j.prev.next=j.next,j.next.prev=j.prev;var k=o;return k.next.prev=j,j.next=k.next,j.prev=k,k.next=j,j}var A=a[x],j=W2.GetGlyph(A,b,y*A.bwipjs_multx/100,w*A.bwipjs_multy/100)||W2.GetGlyph(A,0,y*A.bwipjs_multx/100,w*A.bwipjs_multy/100);if(j.bytes=j.pixels,j.cachekey=v,j.offset=0,d>250){var k=o,E=k.prev;E.prev.next=k,k.prev=E.prev,E.next=E.prev=null,delete i[E.cachekey]}else d++;i[v]=j;var k=o;return k.next.prev=j,j.next=k.next,j.prev=k,k.next=j,j}function m(x,b,y,w){x=x|0,b=b|0,y=+y,w=+w,(!y||y<8)&&(y=8),(!w||w<8)&&(w=y),(x<0||x>=a.length)&&(x=1),(!b||b<32)&&(b=32);var v=a[x];return W2.GetPaths(v,b,y*v.bwipjs_multx/100,w*v.bwipjs_multy/100)}}();function oM(){return ai.loadFont.apply(ai,Array.prototype.slice.call(arguments))}var W2=function(){var a=1,n=2,i=3,o=4,d=0,u=3,f=1,h=10,p=Math.floor,m=Math.ceil,x=Math.sqrt,b=Math.abs;function y(O){for(var K=[],G=0;G<O;G++)K.push({});return K}function w(O){return O[O.cursor++]||0}function v(O){return O[O.cursor]}function A(O,K){O.cursor=K>O.length||K<0?O.length:K}function j(O,K){A(O,O.cursor+K)}function E(O,K){for(var G=0,se=0;se<K;se++)G=G<<8|w(O);return G}function k(){return{length:0}}function N(O,K,G){if(K<0||G<0||K>O.length||G>O.length-K)return k();var se=O.subarray(K,K+G);return se.cursor=0,se}function B(O){var K=O.cursor,G=E(O,2);if(G){var se=w(O);j(O,se*G),j(O,E(O,se)-1)}return N(O,K,O.cursor-K)}function I(O){var K=w(O);return K>=32&&K<=246?K-139:K>=247&&K<=250?(K-247)*256+w(O)+108:K>=251&&K<=254?-(K-251)*256-w(O)-108:K==28?E(O,2):K==29?E(O,4):0}function D(O){var K=v(O);if(K==30)for(j(O,1);O.cursor<O.length;){var G=w(O);if((G&15)==15||G>>4==15)break}else I(O)}function T(O,K){for(A(O,0);O.cursor<O.length;){for(var G=O.cursor,se,le;v(O)>=28;)D(O);if(se=O.cursor,le=w(O),le==12&&(le=w(O)|256),le==K)return N(O,G,se-G)}return N(O,0,0)}function M(O,K,G,se){for(var le=T(O,K),ge=0;ge<G&&le.cursor<le.length;ge++)se[ge]=I(le)}function Q(O,K,G){var se=T(O,K);return se.cursor<se.length&&(G=I(se)),G}function F(O){return A(O,0),E(O,2)}function P(O,K){var G,se,le,ge;return A(O,0),G=E(O,2),se=w(O),j(O,K*se),le=E(O,se),ge=E(O,se),N(O,2+(G+1)*se+le,ge-le)}function L(O){return O&32768?(4294901760|O)>>0:O}function _(O,K){return O[K]*256+O[K+1]}function H(O,K){var G=O[K]*256+O[K+1];return G&32768?(4294901760|G)>>0:G}function Y(O,K){return(O[K]<<24)+(O[K+1]<<16)+(O[K+2]<<8)+O[K+3]}function de(O,K,G){for(var se=_(O,K+4),le=K+12,ge=0;ge<se;++ge){var ee=le+16*ge;if(O[ee]==G[0]&&O[ee+1]==G[1]&&O[ee+2]==G[2]&&O[ee+3]==G[3])return Y(O,ee+8)}return 0}function $(O,K){var G=[0,0];if(M(K,18,2,G),!G[1]||!G[0])return k();var se=N(O,G[1],G[0]),le=Q(se,19,0);return le?(A(O,G[1]+le),B(O)):k()}function q(O,K,G){var se,le,ge,ee;if(O.data=K,O.fontstart=G,O.cff=k(),se=de(K,G,[99,109,97,112]),O.loca=de(K,G,[108,111,99,97]),O.head=de(K,G,[104,101,97,100]),O.glyf=de(K,G,[103,108,121,102]),O.hhea=de(K,G,[104,104,101,97]),O.hmtx=de(K,G,[104,109,116,120]),O.kern=de(K,G,[107,101,114,110]),!se||!O.head||!O.hhea||!O.hmtx)return 0;if(O.glyf){if(!O.loca)return 0}else{var ke,X,xe,me,ye=2,ne=0,we=0,Ee=0;if(me=de(K,G,[67,70,70,32]),!me||(O.fontdicts=k(),O.fdselect=k(),O.cff=K.subarray(me),O.cff.cursor=0,ke=O.cff,j(ke,2),A(ke,w(ke)),B(ke),xe=B(ke),X=P(xe,0),B(ke),O.gsubrs=B(ke),ne=Q(X,17,ne),ye=Q(X,262,ye),we=Q(X,292,we),Ee=Q(X,293,Ee),O.subrs=$(ke,X),ye!=2)||ne==0)return 0;if(we){if(!Ee)return 0;A(ke,we),O.fontdicts=B(ke),O.fdselect=N(ke,Ee,ke.length-Ee)}A(ke,ne),O.charstrings=B(ke)}for(le=de(K,G,[109,97,120,112]),le?O.numGlyphs=_(K,le+4):O.numGlyphs=65535,ee=_(K,se+2),O.index_map=0,ge=0;ge<ee;++ge){var pe=se+4+8*ge;switch(_(K,pe)){case u:switch(_(K,pe+2)){case f:case h:O.index_map=se+Y(K,pe+4);break}break;case d:O.index_map=se+Y(K,pe+4);break}}return O.index_map==0?0:(O.indexToLocFormat=_(K,O.head+50),1)}function re(O,K){var G=O.data,se=O.index_map,le=_(G,se+0);if(le==0){var ge=_(G,se+2);return K<ge-6?G[se+6+K]:0}else if(le==6){var ee=_(G,se+6),ke=_(G,se+8);return K>=ee&&K<ee+ke?_(G,se+10+(K-ee)*2):0}else{if(le==2)return 0;if(le==4){var X=_(G,se+6)>>1,xe=_(G,se+8)>>1,me=_(G,se+10),ye=_(G,se+12)>>1,ne=se+14,we=ne;if(K>65535)return 0;for(K>=_(G,we+ye*2)&&(we+=ye*2),we-=2;me;){xe>>=1;var Ee=_(G,we+xe*2);K>Ee&&(we+=xe*2),--me}we+=2;var pe,Ne,Ae=we-ne>>>1;return Ne=_(G,se+14+X*2+2+2*Ae),K<Ne?0:(pe=_(G,se+14+X*6+2+2*Ae),pe==0?K+H(G,se+14+X*4+2+2*Ae):_(G,pe+(K-Ne)*2+se+14+X*6+2+2*Ae))}else if(le==12||le==13){for(var Ce=Y(G,se+12),Qe=0,Pe=Ce;Qe<Pe;){var We=Qe+(Pe-Qe>>1),st=Y(G,se+16+We*12),at=Y(G,se+16+We*12+4);if(K<st)Pe=We;else if(K>at)Qe=We+1;else{var je=Y(G,se+16+We*12+8);return le==12?je+K-st:je}}return 0}}return 0}function ce(O,K,G,se,le,ge){O.type=K,O.x=G,O.y=se,O.cx=le,O.cy=ge}function J(O,K){var G,se;return K>=O.numGlyphs||O.indexToLocFormat>=2?-1:(O.indexToLocFormat==0?(G=O.glyf+_(O.data,O.loca+K*2)*2,se=O.glyf+_(O.data,O.loca+K*2+2)*2):(G=O.glyf+Y(O.data,O.loca+K*4),se=O.glyf+Y(O.data,O.loca+K*4+4)),G==se?-1:G)}function oe(O,K,G){if(O.cff.length)rt(O,K,G);else{var se=J(O,K);if(se<0)return 0;G.x0=H(O.data,se+2),G.y0=H(O.data,se+4),G.x1=H(O.data,se+6),G.y1=H(O.data,se+8)}return 1}function ue(O,K,G,se,le,ge,ee,ke,X,xe){return se?(G&&ce(O[K++],i,X+ee>>1,xe+ke>>1,X,xe),ce(O[K++],i,le,ge,ee,ke)):G?ce(O[K++],i,le,ge,X,xe):ce(O[K++],n,le,ge,0,0),K}function he(O,K){var G=O.data,se=J(O,K);if(se<0)return null;var le=[],ge=H(G,se);if(ge>0){var ee=0,ke,X,xe=0,me,ye,ne,we=0,Ee,pe=0,Ne,Ae,Ce,Qe,Pe,We,st,at,je=se+10,Ge=_(G,se+10+ge*2),He=G.subarray(se+10+ge*2+2+Ge),Ze=0;for(ye=1+_(G,je+ge*2-2),me=ye+2*ge,le=y(me),ne=0,ke=0,Ee=me-ye,X=0;X<ye;++X)ke==0?(ee=He[Ze++],ee&8&&(ke=He[Ze++])):--ke,le[Ee+X].type=ee;for(Ne=0,X=0;X<ye;++X){if(ee=le[Ee+X].type,ee&2){var ft=He[Ze++];Ne+=ee&16?ft:-ft}else ee&16||(Ne=Ne+L(He[Ze]*256+He[Ze+1]),Ze+=2);le[Ee+X].x=Ne}for(Ae=0,X=0;X<ye;++X){if(ee=le[Ee+X].type,ee&4){var pt=He[Ze++];Ae+=ee&32?pt:-pt}else ee&32||(Ae=Ae+L(He[Ze]*256+He[Ze+1]),Ze+=2);le[Ee+X].y=Ae}var ut=0;for(Pe=We=Ce=Qe=st=at=0,X=0;X<ye;++X)ee=le[Ee+X].type,Ne=le[Ee+X].x,Ae=le[Ee+X].y,ne==X?(X!=0&&(ut=ue(le,ut,we,pe,Pe,We,st,at,Ce,Qe)),pe=!(ee&1),pe?(st=Ne,at=Ae,le[Ee+X+1].type&1?(Pe=le[Ee+X+1].x,We=le[Ee+X+1].y,++X):(Pe=Ne+le[Ee+X+1].x>>1,We=Ae+le[Ee+X+1].y>>1)):(Pe=Ne,We=Ae),ce(le[ut++],a,Pe,We,0,0),we=0,ne=1+_(G,je+xe*2),++xe):ee&1?(we?ce(le[ut++],i,Ne,Ae,Ce,Qe):ce(le[ut++],n,Ne,Ae,0,0),we=0):(we&&ce(le[ut++],i,Ce+Ne>>1,Qe+Ae>>1,Ce,Qe),Ce=Ne,Qe=Ae,we=1);le.length=ue(le,ut,we,pe,Pe,We,st,at,Ce,Qe)}else if(ge==-1)for(var xt=1,nt=se+10;xt;){var ee,Tt,et=[1,0,0,1,0,0];ee=H(G,nt),nt+=2,Tt=H(G,nt),nt+=2,ee&2&&(ee&1?(et[4]=H(G,nt),nt+=2,et[5]=H(G,nt),nt+=2):(et[4]=w(G),nt+=1,et[5]=w(G),nt+=1)),ee&8?(et[0]=et[3]=H(G,nt)/16384,nt+=2,et[1]=et[2]=0):ee&64?(et[0]=H(G,nt)/16384,nt+=2,et[1]=et[2]=0,et[3]=H(G,nt)/16384,nt+=2):ee&128&&(et[0]=H(G,nt)/16384,nt+=2,et[1]=H(G,nt)/16384,nt+=2,et[2]=H(G,nt)/16384,nt+=2,et[3]=H(G,nt)/16384,nt+=2);var me=x(et[0]*et[0]+et[1]*et[1]),ye=x(et[2]*et[2]+et[3]*et[3]),Qt=ae(O,Tt);if(Qt.length>0){for(var X=0,Ht=Qt.length;X<Ht;++X){var Ot=Qt[X],Ne,Ae;Ne=Ot.x,Ae=Ot.y,Ot.x=p(me*(et[0]*Ne+et[2]*Ae+et[4])),Ot.y=p(ye*(et[1]*Ne+et[3]*Ae+et[5])),Ne=Ot.cx,Ae=Ot.cy,Ot.cx=p(me*(et[0]*Ne+et[2]*Ae+et[4])),Ot.cy=p(ye*(et[1]*Ne+et[3]*Ae+et[5]))}le=le.concat(Qt)}xt=ee&32}return le}function Re(O,K,G){(K>O.max_x||!O.started)&&(O.max_x=K),(G>O.max_y||!O.started)&&(O.max_y=G),(K<O.min_x||!O.started)&&(O.min_x=K),(G<O.min_y||!O.started)&&(O.min_y=G),O.started=1}function te(O,K,G,se,le,ge,ee,ke){Re(O,G,se),K==o&&(Re(O,le,ge),Re(O,ee,ke));var X={};ce(X,K,G,se,le,ge),X.cx1=ee,X.cy1=ke,O.vertices.push(X)}function Be(O){(O.first_x!=O.x||O.first_y!=O.y)&&te(O,n,O.first_x,O.first_y,0,0,0,0)}function Se(O,K,G){Be(O),O.first_x=O.x=O.x+K,O.first_y=O.y=O.y+G,te(O,a,O.x,O.y,0,0,0,0)}function Oe(O,K,G){O.x+=K,O.y+=G,te(O,n,O.x,O.y,0,0,0,0)}function Ue(O,K,G,se,le,ge,ee){var ke=O.x+K,X=O.y+G,xe=ke+se,me=X+le;O.x=xe+ge,O.y=me+ee,te(O,o,O.x,O.y,ke,X,xe,me)}function be(O,K){var G=F(O),se=107;return G>=33900?se=32768:G>=1240&&(se=1131),K+=se,K<0||K>=G?k():P(O,K)}function $e(O,K){var G=O.fdselect,se,le,ge,ee,ke,X=-1,xe;if(A(G,0),ke=w(G),ke==0)j(G,K),X=w(G);else if(ke==3)for(se=E(G,2),le=E(G,2),xe=0;xe<se;xe++){if(ee=w(G),ge=E(G,2),K>=le&&K<ge){X=ee;break}le=ge}return $(O.cff,P(O.fontdicts,X))}function Fe(O,K,G){var se=1,le=0,ge=0,ee=0,ke,X,xe,me=0,ye,ne=[],we=[],Ee=O.subrs,pe,Ne;for(pe=P(O.charstrings,K);pe.cursor<pe.length;){switch(X=0,ye=1,xe=w(pe),xe){case 19:case 20:se&&(le+=ee/2|0),se=0,j(pe,(le+7)/8|0);break;case 1:case 3:case 18:case 23:le+=ee/2|0;break;case 21:if(se=0,ee<2)return 0;Se(G,ne[ee-2],ne[ee-1]);break;case 4:if(se=0,ee<1)return 0;Se(G,0,ne[ee-1]);break;case 22:if(se=0,ee<1)return 0;Se(G,ne[ee-1],0);break;case 5:if(ee<2)return 0;for(;X+1<ee;X+=2)Oe(G,ne[X],ne[X+1]);break;case 7:if(ee<1)return 0;for(;!(X>=ee||(Oe(G,0,ne[X]),X++,X>=ee));)Oe(G,ne[X],0),X++;break;case 6:if(ee<1)return 0;for(;!(X>=ee||(Oe(G,ne[X],0),X++,X>=ee));)Oe(G,0,ne[X]),X++;break;case 31:if(ee<4)return 0;for(;!(X+3>=ee||(Ue(G,ne[X],0,ne[X+1],ne[X+2],ee-X==5?ne[X+4]:0,ne[X+3]),X+=4,X+3>=ee));)Ue(G,0,ne[X],ne[X+1],ne[X+2],ne[X+3],ee-X==5?ne[X+4]:0),X+=4;break;case 30:if(ee<4)return 0;for(;!(X+3>=ee||(Ue(G,0,ne[X],ne[X+1],ne[X+2],ne[X+3],ee-X==5?ne[X+4]:0),X+=4,X+3>=ee));)Ue(G,ne[X],0,ne[X+1],ne[X+2],ee-X==5?ne[X+4]:0,ne[X+3]),X+=4;break;case 8:if(ee<6)return 0;for(;X+5<ee;X+=6)Ue(G,ne[X],ne[X+1],ne[X+2],ne[X+3],ne[X+4],ne[X+5]);break;case 24:if(ee<8)return 0;for(;X+5<ee-2;X+=6)Ue(G,ne[X],ne[X+1],ne[X+2],ne[X+3],ne[X+4],ne[X+5]);if(X+1>=ee)return 0;Oe(G,ne[X],ne[X+1]);break;case 25:if(ee<8)return 0;for(;X+1<ee-6;X+=2)Oe(G,ne[X],ne[X+1]);if(X+5>=ee)return 0;Ue(G,ne[X],ne[X+1],ne[X+2],ne[X+3],ne[X+4],ne[X+5]);break;case 26:case 27:if(ee<4)return 0;for(Ne=0,ee&1&&(Ne=ne[X],X++);X+3<ee;X+=4)xe==27?Ue(G,ne[X],Ne,ne[X+1],ne[X+2],ne[X+3],0):Ue(G,Ne,ne[X],ne[X+1],ne[X+2],0,ne[X+3]),Ne=0;break;case 10:me||(O.fdselect.length&&(Ee=$e(O,K)),me=1);case 29:if(ee<1||(ke=ne[--ee]|0,ge>=10)||(we[ge++]=pe,pe=be(xe==10?Ee:O.gsubrs,ke),pe.length==0))return 0;pe.cursor=0,ye=0;break;case 11:if(ge<=0)return 0;pe=we[--ge],ye=0;break;case 14:return Be(G),1;case 12:var Ae,Ce,Qe,Pe,We,st,at,je,Ge,He,Ze,ft,pt,ut,xt=w(pe);switch(xt){case 34:if(ee<7)return 0;Ae=ne[0],Ce=ne[1],je=ne[2],Qe=ne[3],Pe=ne[4],We=ne[5],st=ne[6],Ue(G,Ae,0,Ce,je,Qe,0),Ue(G,Pe,0,We,-je,st,0);break;case 35:if(ee<13)return 0;Ae=ne[0],at=ne[1],Ce=ne[2],je=ne[3],Qe=ne[4],Ge=ne[5],Pe=ne[6],He=ne[7],We=ne[8],Ze=ne[9],st=ne[10],ft=ne[11],Ue(G,Ae,at,Ce,je,Qe,Ge),Ue(G,Pe,He,We,Ze,st,ft);break;case 36:if(ee<9)return 0;Ae=ne[0],at=ne[1],Ce=ne[2],je=ne[3],Qe=ne[4],Pe=ne[5],We=ne[6],Ze=ne[7],st=ne[8],Ue(G,Ae,at,Ce,je,Qe,0),Ue(G,Pe,0,We,Ze,st,-(at+je+Ze));break;case 37:if(ee<11)return 0;Ae=ne[0],at=ne[1],Ce=ne[2],je=ne[3],Qe=ne[4],Ge=ne[5],Pe=ne[6],He=ne[7],We=ne[8],Ze=ne[9],st=ft=ne[10],pt=Ae+Ce+Qe+Pe+We,ut=at+je+Ge+He+Ze,b(pt)>b(ut)?ft=-ut:st=-pt,Ue(G,Ae,at,Ce,je,Qe,Ge),Ue(G,Pe,He,We,Ze,st,ft);break;default:return 0}break;default:if(xe!=255&&xe!=28&&(xe<32||xe>254)||(xe==255?Ne=(E(pe,4)|0)/65536:(j(pe,-1),Ne=(I(pe)<<16|0)>>16),ee>=48))return 0;ne[ee++]=Ne,ye=0;break}ye&&(ee=0)}return 0}function Ke(){return{started:0,first_x:0,first_y:0,x:0,y:0,min_x:0,max_x:0,min_y:0,max_y:0,vertices:[]}}function Je(O,K){var G=Ke();return Fe(O,K,G)?G.vertices:null}function rt(O,K,G){var se=Ke(),le=Fe(O,K,se);return G.x0=le?se.min_x:0,G.y0=le?se.min_y:0,G.x1=le?se.max_x:0,G.y1=le?se.max_y:0,le&&se.vertices?se.vertices.length:0}function ae(O,K){return O.cff.length?Je(O,K):he(O,K)}function fe(O,K){var G=_(O.data,O.hhea+34);return K<G?{advanceWidth:H(O.data,O.hmtx+4*K),leftSideBearing:H(O.data,O.hmtx+4*K+2)}:{advanceWidth:H(O.data,O.hmtx+4*(G-1)),leftSideBearing:H(O.data,O.hmtx+4*G+2*(K-G))}}function Me(O){return{ascent:H(O.data,O.hhea+4),descent:H(O.data,O.hhea+6),linegap:H(O.data,O.hhea+8)}}function Le(O,K,G,se,le,ge){var ee={};return oe(O,K,ee)?{x0:p(ee.x0*G+le),y0:p(-ee.y1*se+ge),x1:m(ee.x1*G+le),y1:m(-ee.y0*se+ge)}:{x0:0,y0:0,x1:0,y1:0}}function Xe(O,K,G){var se=(O.x1-O.x0)/(O.y1-O.y0);return{fdx:se,fdy:se!=0?1/se:0,fx:O.x0+se*(G-O.y0)-(K|0),direction:O.invert?1:-1,sy:O.y0,ey:O.y1,next:0}}function ze(O,K,G,se,le,ge,ee){K=K|0,le!=ee&&(le>G.ey||ee<G.sy||(le<G.sy&&(se+=(ge-se)*(G.sy-le)/(ee-le),le=G.sy),ee>G.ey&&(ge+=(ge-se)*(G.ey-ee)/(ee-le),ee=G.ey),se<=K&&ge<=K?O[K]+=G.direction*(ee-le):se>=K+1&&ge>=K+1||(O[K]+=G.direction*(ee-le)*(1-(se-K+(ge-K))/2))))}function qe(O,K,G,se,le){for(var ge=le+1;se;){if(se.fdx==0){var ee=se.fx;ee<G&&(ee>=0?(ze(O,ee,se,ee,le,ee,ge),ze(K,ee+1,se,ee,le,ee,ge)):ze(K,0,se,ee,le,ee,ge))}else{var ee=se.fx,ke=se.fdx,X=ee+ke,xe,me,ye,ne,we=se.fdy;if(se.sy>le?(xe=ee+ke*(se.sy-le),ye=se.sy):(xe=ee,ye=le),se.ey<ge?(me=ee+ke*(se.ey-le),ne=se.ey):(me=X,ne=ge),xe>=0&&me>=0&&xe<G&&me<G)if((xe|0)==(me|0)){var Ee=ne-ye,pe=xe|0;O[pe]+=se.direction*(1-(xe-pe+(me-pe))/2)*Ee,K[pe+1]+=se.direction*Ee}else{var Ne,pe,Ae,Ce,Qe,Pe,We,st;for(xe>me&&(ye=ge-(ye-le),ne=ge-(ne-le),Ne=ye,ye=ne,ne=Ne,Ne=me,me=xe,xe=Ne,ke=-ke,we=-we,Ne=ee,ee=X,X=Ne),Ae=xe|0,Ce=me|0,Qe=(Ae+1-ee)*we+le,We=se.direction,st=We*(Qe-ye),O[Ae]+=st*(1-(xe-Ae+(Ae+1-Ae))/2),Pe=We*we,pe=Ae+1;pe<Ce;++pe)O[pe]+=st+Pe/2,st+=Pe;Qe+=we*(Ce-(Ae+1)),O[Ce]+=st+We*(1-(Ce-Ce+(me-Ce))/2)*(ne-Qe),K[Ce+1]+=We*(ne-ye)}else for(var pe=0;pe<G;++pe){var at=le,Ae=pe,Ce=pe+1,je=X,Ge=ge,He=(pe-ee)/ke+le,Ze=(pe+1-ee)/ke+le;ee<Ae&&je>Ce?(ze(O,pe,se,ee,at,Ae,He),ze(O,pe,se,Ae,He,Ce,Ze),ze(O,pe,se,Ce,Ze,je,Ge)):je<Ae&&ee>Ce?(ze(O,pe,se,ee,at,Ce,Ze),ze(O,pe,se,Ce,Ze,Ae,He),ze(O,pe,se,Ae,He,je,Ge)):ee<Ae&&je>Ae||je<Ae&&ee>Ae?(ze(O,pe,se,ee,at,Ae,He),ze(O,pe,se,Ae,He,je,Ge)):ee<Ce&&je>Ce||je<Ce&&ee>Ce?(ze(O,pe,se,ee,at,Ce,Ze),ze(O,pe,se,Ce,Ze,je,Ge)):ze(O,pe,se,ee,at,je,Ge)}}se=se.next}}function ht(O,K,G,se,le,ge){le|=0,ge|=0;var ee=null,ke,X=ge,xe=0,me,ye=new Float32Array(O.w*2+1),ne=ye.subarray(O.w),we=0;for(K[G].y0=ge+O.h+1;xe<O.h;){var Ee=X+0,pe=X+1,Ne=ee;if(ye.fill)ye.fill(0);else for(var Ae=0,Ce=ye.length;Ae<Ce;Ae++)ye[Ae]=0;for(;Ne;)ke=Ne,Ne=ke.next,ke.ey<=Ee&&(ke.direction=0);for(;K[we].y0<=pe;)K[we].y0!=K[we].y1&&(ke=Xe(K[we],le,Ee),ke.next=ee,ee=ke),++we;ee&&qe(ye,ne,O.w,ee,Ee);for(var me=0,Qe=0;me<O.w;++me){var Pe,We;Qe+=ne[me],Pe=ye[me]+Qe,Pe=b(Pe)*255+.5,We=Pe>>>0,We>255&&(We=255),O.pixels[xe*O.stride+me]=We}for(Ne=ee;Ne;)ke=Ne,ke.fx+=ke.fdx,Ne=ke.next;++X,++xe}}function vt(O,K){for(var G=1;G<K;++G){for(var se=O[G],le=G;le>0&&se.y0<O[le-1].y0;)O[le]=O[le-1],--le;G!=le&&(O[le]=se)}}function dt(O,K,G){for(;G>12;){var se,le,ge,ee,ke,X=G>>1,xe=O[K].y0<O[K+X].y0,me=O[K+X].y0<O[K+G-1].y0;for(xe!=me&&(le=O[K].y0<O[K+G-11].y0,ke=le==me?0:G-1,se=O[K+ke],O[K+ke]=O[K+X],O[K+X]=se),se=O[K],O[K]=O[K+X],O[K+X]=se,ge=1,ee=G-1;;){for(;O[K+ge].y0<O[K].y0;++ge);for(;O[K].y0<O[K+ee].y0;--ee);if(ge>=ee)break;se=O[K+ge],O[K+ge]=O[K+ee],O[K+ee]=se,++ge,--ee}ee<G-ge?(dt(O,K,ee),K+=ge,G-=ge):(dt(O,K+ge,G-ge),G=ee)}}function wt(O,K){dt(O,0,K),vt(O,K)}function Bt(O,K,G,se,le,ge,ee,ke,X,xe){var me=-le,ye,ne,we,Ee,pe,Ne,Ae=1;for(ne=0,we=0;we<G.length;++we)ne+=G[we];for(ye=y(ne+1),ne=0,Ne=0,we=0;we<G.length;++we){var Ce=Ne;for(Ne+=G[we],Ee=G[we]-1,pe=0;pe<G[we];Ee=pe++){var Qe=pe,Pe=Ee;K[Ce+Ee].y!=K[Ce+pe].y&&(ye[ne].invert=0,K[Ce+Ee].y>K[Ce+pe].y&&(ye[ne].invert=1,Qe=Ee,Pe=pe),ye[ne].x0=K[Ce+Qe].x*se+ge,ye[ne].y0=(K[Ce+Qe].y*me+ee)*Ae,ye[ne].x1=K[Ce+Pe].x*se+ge,ye[ne].y1=(K[Ce+Pe].y*me+ee)*Ae,++ne)}}wt(ye,ne),ht(O,ye,ne,Ae,ke,X)}function jt(O,K,G,se,le,ge,ee,ke,X){var xe=(K+2*se+ge)/4,me=(G+2*le+ee)/4,ye=(K+ge)/2-xe,ne=(G+ee)/2-me;return X>16||(ye*ye+ne*ne>ke?(jt(O,K,G,(K+se)/2,(G+le)/2,xe,me,ke,X+1),jt(O,xe,me,(se+ge)/2,(le+ee)/2,ge,ee,ke,X+1)):O.push({x:ge,y:ee})),1}function At(O,K,G,se,le,ge,ee,ke,X,xe,me){var ye=se-K,ne=le-G,we=ge-se,Ee=ee-le,pe=ke-ge,Ne=X-ee,Ae=ke-K,Ce=X-G,Qe=x(ye*ye+ne*ne)+x(we*we+Ee*Ee)+x(pe*pe+Ne*Ne),Pe=x(Ae*Ae+Ce*Ce),We=Qe*Qe-Pe*Pe;if(!(me>16))if(We>xe){var st=(K+se)/2,at=(G+le)/2,je=(se+ge)/2,Ge=(le+ee)/2,He=(ge+ke)/2,Ze=(ee+X)/2,ft=(st+je)/2,pt=(at+Ge)/2,ut=(je+He)/2,xt=(Ge+Ze)/2,nt=(ft+ut)/2,Tt=(pt+xt)/2;At(O,K,G,st,at,ft,pt,nt,Tt,xe,me+1),At(O,nt,Tt,ut,xt,He,Ze,ke,X,xe,me+1)}else O.push({x:ke,y:X})}function _t(O,K,G){for(var se=[],le=K*K,ge=-1,ee=0,ke=0,X=0,xe=0,me=O.length;xe<me;++xe)switch(O[xe].type){case a:ge>=0&&(G[ge]=se.length-ee),++ge,ee=se.length,ke=O[xe].x,X=O[xe].y,se.push({x:ke,y:X});break;case n:ke=O[xe].x,X=O[xe].y,se.push({x:ke,y:X});break;case i:jt(se,ke,X,O[xe].cx,O[xe].cy,O[xe].x,O[xe].y,le,0),ke=O[xe].x,X=O[xe].y;break;case o:At(se,ke,X,O[xe].cx,O[xe].cy,O[xe].cx1,O[xe].cy1,O[xe].x,O[xe].y,le,0),ke=O[xe].x,X=O[xe].y;break}return G[ge]=se.length-ee,se}function Mt(O,K,G,se,le,ge,ee,ke,X,xe){ke|=0,X|=0;var me=se>le?le:se,ye=[],ne=_t(G,K/me,ye);ne&&Bt(O,ne,ye,se,le,ge,ee,ke,X)}function Lt(O){var K={};if(!q(K,O,0))return null;var G=Me(K);return K.ascent=G.ascent,K.descent=G.descent,K.linegap=G.linegap,K}function Dt(O,K,G,se){se=se||G;var le=G/O.ascent,ge=se/O.ascent,ee=re(O,K);if(!ee&&K)return null;var ke=ae(O,ee),X=Le(O,ee,le,ge,0,0),xe=X.x1-X.x0,me=X.y1-X.y0,ye=null;if(xe&&me){var ne={pixels:ye=new Uint8Array(xe*me),w:xe,h:me,stride:xe};Mt(ne,.35,ke,le,ge,0,0,X.x0,X.y0)}var we=fe(O,ee);return{glyph:ee,pixels:ye,width:xe,height:me,top:-X.y0,left:X.x0,advance:p(we.advanceWidth*le)}}function kt(O,K,G,se){se=se||G;var le=G/O.ascent,ge=se/O.ascent,ee=re(O,K);if(!ee&&K)return null;var ke=ae(O,ee),X=fe(O,ee),xe=0,me=0,ye=[];if(ke)for(var ne=0,we=ke.length;ne<we;ne++){var Ee=ke[ne],pe;if(Ee.type==a)pe={type:"M",x:Ee.x*le,y:Ee.y*ge};else if(Ee.type==n)pe={type:"L",x:Ee.x*le,y:Ee.y*ge};else if(Ee.type==i)pe={type:"Q",x:Ee.x*le,y:Ee.y*ge,cx:Ee.cx*le,cy:Ee.cy*ge};else if(Ee.type==o)pe={type:"C",x:Ee.x*le,y:Ee.y*ge,cx1:Ee.cx*le,cy1:Ee.cy*ge,cx2:Ee.cx1*le,cy2:Ee.cy1*ge};else continue;pe.y>xe&&(xe=pe.y),pe.y<me&&(me=pe.y),ye.push(pe)}return ye.advance=X.advanceWidth*le,ye.ascent=xe,ye.descent=me,ye}return{InitFont:Lt,GetGlyph:Dt,GetPaths:kt}}();function lM(a){if(typeof a=="string"){for(var n=/[^A-Za-z0-9+\/=\s]/.test(a),i=n?a:atob(a),o=i.length,d=new Uint8Array(o),u=0;u<o;u++)d[u]=i.charCodeAt(u);return d}else{if(a instanceof Uint8Array)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a)}throw new ReferenceError("data must be a binary or base64 encoded string or Uint8Array")}ai.loadFont("OCR-A",100,100,"AAEAAAAPAIAAAwBwRkZUTXxHoksAADPIAAAAHEdERUYAmQAGAAAyIAAAACBHUE9TuP+4/gAAM5gAAAAwR1NVQuq3l/0AADJAAAABWE9TLzKDm4kvAAABeAAAAGBjbWFwO6GiGgAAArgAAAFaZ2FzcP//AAMAADIYAAAACGdseWYfHUemAAAE8AAAKUBoZWFkFeCL3QAAAPwAAAA2aGhlYQcqAgQAAAE0AAAAJGhtdHgagBVHAAAB2AAAAOBsb2NhH+IWRAAABBQAAADabWF4cACxAF0AAAFYAAAAIG5hbWUIp3NfAAAuMAAAAoJwb3N0oJoboAAAMLQAAAFkAAEAAAACAAAhYPsHXw889QALA+gAAAAA2gMjvQAAAADaAyO9AD7/LAJ8BFIAAAAIAAIAAAAAAAAAAQAABFL/LABaAtMAAAAAAnwAAQAAAAAAAAAAAAAAAAAAAAQAAQAAAGwAWgADAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAtMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAACMAACoAAAAAAAAAAABQZkVkAEAAICWgAyD/OABaBFIA1AAAAAEAAAAAAjgDDAAAACAAAQLTAAAAAAAAAtMAAALTAAAA9gBJAEkASQBJAEkA3QDdAKwASQBJAKwASQDdAEkASQBJAEkASQBhAEkASQBJAEkASQDdAKwASQBJAEkASQBJAEYASQBJAEkASQBJAEkASQBJAHoASQBJAEkASQBJAEkASQBJAEkASQBJAEkASQBJAEkASABJAEkASQBIAEkAegBJAEkASQBJAEkAYQBJAEkAegB6AEkAegBBAEkASQBJAEkASQBJAEkASQBJAD4ASQBJAEkASQEPAEkASQBxAHEAcQE3AFcA7QBxAQMA1ABxAAAAAwAAAAMAAAAcAAEAAAAAAFQAAwABAAAAHAAEADgAAAAKAAgAAgACAH4kQiUCJaD//wAAACAkQCUCJaD////j3CLbY9rGAAEAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAFIApgDoAS4BigGqAdYCAgJKAnQCkAKsAsYC5AMIAzIDYAOcA8gD+gQmBFIEggSuBNwFDAU0BVwFhAXEBhIGPgZwBqgG5AcKBy4HageWB8QH7gggCDoIZgiICMoI8glMCYIJwAnmChAKNAp0Cq4K1gr6CyYLRAtwC5QLrgvODBYMdAysDRANag2eDhYOSA6EDsYO+A8iD2YPmA/yEFgQvBDqETQRbhGgEcwSDhJEEnoSqBLiEwITPBNyE5ITthPeE+wT+hQUFEYUaBSIFKAAAAACAPYAAAGNAwwADwAfAAA3NTQ2OwEyFh0BFAYrASImETQ2OwEyFh0BAxQGIyImJ/YeFTEVHh4VMRUeHhUxFB8ZHhQVHAIzKhUdHRUqFR4eArwUHhwTA/6BFR0dFQAAAAABAEkBqAI7AwwAEwAAEychFQYHBiMiJjUnIwcOASMiJidKAQHyJgsMKBQgKHIqAxwSExwDAsJKSrkvMhoS09YRGBgRAAIASQB/AjsDDAA9AEEAABM0NjsBNSMiJjQ2OwE1NDYyFh0BMzU0NjIWHQEzMhYUBisBFTMyFhUUBisBFRQGIiY9ASMVFAYiJj0BIyImNzM1I0kdFTExFR0dFTEdKh5hHiodMRUeHhUxMRUeHhUxHSoeYR4qHTEVHchhYQFcFB5vHiodeBQeHhR4eBQeHhR4HSoebx4UFR53FR4eFXd3FR4eFXceR28AAAEASQAAAjsDDAAxAAA2NDYzITUhIiY9ATQ2OwE1NDYzMhYdATMyFhQGIyEVITIWHQEUBisBFRQGIyImPQEjIkkdFQFb/qUVHR0VlB4VFB6UFR4eFf6lAVsVHh4VlB4UFR6UFccqHkQeFaoVHXgUHh4UeB0qHkQeFaoVHXcVHh4VdwAAAAMASQAAAjsDDAAPAB8ALwAANzQ3ATYzMhYVFAcBBiMiJhE1NDY7ATIWHQEUBisBIiYBNTQ2OwEyFh0BFAYrASImSQoBjQ4aFR4L/nMOGhUdHRVjFR4eFWMVHQEpHhVjFR4eFWMVHocUCwH+Ex0VEg3+AhMdAhNVFB4eFFUVHh79w1QVHh4VVBUeHgAAAwBJAAACOwK3AC4ANgBBAAA3NTQ/AScmPQE0NjsBMhYdARQPARc3NjMyFhUUDgIHFxYVFAYjIi8BBwYrASImNxQWOwE3JwcRFzc1NCYrASIGFUkRXGANWT5gPlkRfWszDxIVHhAPIQI0Dh4VFw43Sg8RYj5ZZR4UTzhrTlVvHhRgFB6XRRgPT2YPFEU+WVk+RRkOa3IsDB4VDRoOGAI4EBIVHhA7PwxZPhUdMHJCASpbXi4UHh0VAAEA3QFUAaYDDAARAAATETQ2OwEyFhcUBg8BDgEjIibdHhVjFRwCMhoZBRoSFR4BhgFUFB4dFQawVVURFR0AAAABAN0AAAHZAwwAGwAAEzU0PwE2MzIWFRQPAQYdARQfARYVFAYjIi8BJt0rdRAYFR8MdRYWdQodFRgQdSsBJsBFOJYTHhQOEpUdIsAiHZUPEBUeE5Y4AAAAAQCsAAABpgMMABsAADc0PwE2PQE0LwEmNTQ2MzIfARYdARQPAQYjIiasCnUWFnUKHRUYEHUrK3UQGBUdMxAPlR0iwCIdlQ8RFB4TljhFwEU4lhMeAAAAAAEASQBVAjsCtwAzAAA3ND8BJyY1NDYzMh8BNTQ2MzIWHQE3NjMyFhUUDwEXFhUUBiMiLwEVFAYjIiY9AQcGIyImSRGZmREdFRMOcx4VFB5zDRQVHhKZmRIeFRQNcx4UFR5zDhMVHdwYD4ODDxgVHQxikRUdHRWRYgwdFRcQg4MQFxUdDGKRFR0dFZFiDB0AAAEASQCNAjsCfwAdAAASNDY7ATU0NjMyFh0BMzIWFAYrARUUBiMiJj0BIyJJHRWUHhUUHpQVHh4VlB4UFR6UFQFxKh6UFB4eFJQeKh2UFR4eFZQAAAEArAAAAdcBZAAQAAASNDY7ATIWHQEUBiImPQEjIqwdFccVHR0qHpQVARwqHh4V/hUeHhXMAAAAAQBJASkCOwG5AA8AABM1NDYzITIWHQEUBiMhIiZJHRUBjRUeHhX+cxUdAVwqFR4eFSoVHh4AAAABAN0AfwGmATkADwAANzU0NjsBMhYdARQGKwEiJt0eFWMVHh4VYxUeslUVHR0VVRUeHgAAAQBJAAACOwMMAA8AADc0NwE2MzIWFRQHAQYjIiZJBgGNDx0VHgf+cw8dFR0zDQwCpxkeFAwO/VkZHgAAAgBJAAACOwMMAA8AEwAANxE0NjMhMhYVERQGIyEiJjchESFJPCkBKCg9PSj+2Ck8ZQEo/thlAkIpPDwp/b4pPDwpAkIAAAAAAQBJAAACOwMMABwAADc0NjsBESMiJjU0NjsBETM1NDYyFh0BFAYjISImSR0VlJQVHR0V+WIdKh4eFf5zFR0zFB4CQh4VFB79WcwVHh4V/hUeHgAAAQBJAAACOwMMAB4AADMRNDYzITUhIiY1NDYzITIWHQEUBiMhFSEyFhUUBiNJPCkBKP6lFR0dFQFbKD08Kf7YAVoVHh4VAVQpO+8eFRQePCnvKDzvHhQVHgAAAAABAEkAAAI7AwwAKgAANzQ2MyE1NCYrASImNDY7ATI2PQEhIiY1NDYzITIWHQEUBxYdARQGIyEiJkkdFQFbHxTFFR0dFcUVHv6lFR0dFQFbKD0oKD0o/qUVHTMUHrwUHx0qHh4UvB4VFB48Kbw6Kys6vCk8HgAAAAABAGEAAAIiAwwAHQAAExE0NjIWFREzETQ2MzIWFREyFhQGIxUUBiMiJj0BYR4qHcUeFRQeFR0dFR4UFR4A/wHbFB4eFP6KASEVHR0V/t8eKh3MFR4eFcwAAQBJAAACOwMMACIAADc0NjMyHwEzNSERITIWFRQGKwEVMzIWHQEUBisBIi4CJyZJHRUMCFrt/tYBXBUeHhX3xSg9PSjjFCkaLAkeXRUdBCbvAbgeFBUe7j0o7yk8CgsVBA0AAAIASQAAAjsDDAAXABsAADcRNDY7ATIWFRQGIxEhMhYdARQGIyEiJjchNSFJHRUyFR0dFQFbFR4eFf5zFR1kASn+1zMCpxQeHhQVHv69HhX+FR4eR5oAAAABAEkAAAI7AwwAGwAAEzU0NjMhERQPARUUBiMiJj0BND8BNSEOASMiJkkdFQHAErUeFBUeErX+1wMcExUdAq8rFB7+zxcQmucVHh4V/hcQmrUSGB0AAAAAAwBJAAACOwMMABcAGwAfAAA3NTQ2MxE0NjsBMhYVETIWHQEUBiMhIiY3ITUhNzM1I0k7KRwVxxUcKD09KP7XKTtkASn+12RhYWXvKTwBIRUdHRX+3z0o7yk8PCnvZe4AAgBJAAACOwMMABcAGwAAExE0NjMhMhYVERQGKwEiJjU0NjMRISImNyE1IUkdFQGNFR4eFTIVHR0V/qUVHWQBKf7XAdsA/xQeHhT9WRUeHhUUHgFDHkeaAAIA3QB/AaYCjQAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm3R4VYxUeHhVjFR4eFWMVHh4VYxUeslUVHR0VVRUeHgFoVRUeHhVVFR0dAAAAAgCsAAAB1wK3ABAAIAAAEjQ2OwEyFh0BFAYiJj0BIyIDNTQ2OwEyFh0BFAYrASImrB0VxxUdHSoelBUdHRVkFB4eFGQVHQEcKh4eFf4VHh4VzAExVRUdHRVVFR4eAAAAAQBJAFUCOwK3ABYAABM1NDclNjMyFhUUBw0BFhUUBiMiJyUmSRgBjQsPFR4Z/pkBZxkeFQ8L/nMYAXArHQ/pBx0VHBDT0xAcFR0H6Q8AAAACAEkA/wI7AjgACwAXAAASNDYzITIWFAYjISImNDYzITIWFAYjISJJHRUBjRUeHhX+cxUdHRUBjRUeHhX+cxUBHCoeHiod8SoeHiodAAAAAAEASQBVAjsCtwAWAAA3NDctASY1NDYzMhcFFh0BFAcFBiMiJkkYAWj+mBgdFQ8LAY0ZFP5uCw8VHYcdD9PTDx0VHQfpEBwqHQzsBx0AAAAAAgBJAAACOwMMAB4AKAAAEzQ3ATYyHwEWHQEUBwUVFAYiJj0BNDclNScFBiMiJhM0NjIWFRQGIiZJEQEqDyQPYxIS/ugeKh0RARkx/vcPEhUdYx0qHh4qHQHbGA4A/wwMVQ8XVRcQ7z4VHR0VVRkO7yYq4wwe/m0UHh4UFR4eAAACAEkAAAI7AwwALQA4AAA3NTQ2OwEyFhURFBYyNjURNCYrASIGBwYjIiY1NDc2OwEyFhURFAYjIicGIyImNxQWMjY9ASMiBhVJWD1kFB4dKB0uH48ZLQwOHxUdNjdEj0lpWT05Kiw4PVhlHCgdMRQclrc+WB4V/uYUHR0UAcQgLSMXGx4VJDEyakj+PD1ZJydYPhQdHRToHRQAAAACAEYAAAI8AwwAFQAYAAA3Ez4BMhYXExQGIyImLwEjBw4BIyImNzMDRssFGiIcBMofFREaBSffJwUbERUfqqNSMwK1EBQUEP1LFR4UEIaGEBQe8QEWAAAAAwBJAAACOwMMAA4AGAAiAAAzESEyFh0BFAcWHQEUBiMnMzI2PQE0JisBNTMyNj0BNCYrAUkBKFJ4RkZ4UsPDKTw8KcPDKTw8KcMDDHhSJVk+PlklUnhlPSglKTxlPCglKD0AAAEASQAAAjsDDAAlAAATND8BPgE7ATIWFRQGKwEiDwEGFB8BFjsBMhYVFAYrASImJyYnJkkYZRBLLboVHh4Vuh8NZw0NZw0fuhUeHhW6LEkSShwYAYY1MswkLx4UFR4cyxw8HMscHhQVHjAkjT4zAAACAEkAAAI7AwwAGwAoAAA3NDY7AREjIiY1NDY7ATIWHwEWFA8BDgErASImNzMyPwE2NTQvASYrAUkdFTExFR0dFbosSRJmGRllEEstuhUdyCQfDWcODmcNHyQzFB4CQh4VFB4wJMs0ZjTMJC8eRxzLIhgeHMscAAABAEkAAAI7AwwAGQAAMxEhMhYVFAYjIRUzMhYUBisBFSEyFhUUBiNJAb8VHh4V/qaUFB4eFJQBWhUeHhUDDB4UFR7uHiod7x4UFR4AAQBJAAACOwMMABYAADcRITIWFRQGIyEVMzIWFAYrAREUBiImSQG/FR4eFf6m9xUdHRX3HiodMwLZHhQVHpodKh7+ixUeHgAAAQBJAAACOwMMACoAADcRND8BNjsBMhYVFAYrASIPAQYVERQWOwEyNj0BIyImNDY7ARUUBisBIiZJKogtS5UVHh4VlRkPiBUeFMMUH2MVHR0VyFo+wz9YmAEPRTawOh4UFR4Urhwi/vEVHh4VZx0qHsw+WlkAAAAAAQBJAAACOwMMABsAADcRNDYyFhURIRE0NjIWFREUBiImNREhERQGIiZJHSoeASgdKh4eKh3+2B4qHTMCpxQeHhT+3wEhFB4eFP1ZFR4eFQEh/t8VHh4AAAEASQAAAjsDDAAfAAA3NDY7AREjIiY1NDYzITIWFRQGKwERMzIWFRQGIyEiJkkdFZSUFR0dFQGNFR4eFZSUFR4eFf5zFR0zFB4CQh4VFB4eFBUe/b4eFBUeHgAAAQB6AAACCQMMABsAADc1NDYyFh0BFBY7ATI2NRE0NjIWFREUBisBIiZ6HiodHhVfFR4dKh5aPl8+WpeaFR4eFZoVHR4UAkMUHh4U/b0+WVkAAAAAAQBJAAACOwMMAB4AADcRNDYyFh0BATYzMhYVFAcJARYVFAYjIicBFRQGIiZJHSoeATkPEhUeEv6gAWASHhUSD/7HHiodMwKnFB4eFOYBDAweFBgP/tP+0w8XFR4MAQzlFR4eAAEASQAAAjsDDAAOAAAzETQ2MhYVESEyFhUUBiNJHSoeAVoVHh4VAtoUHh4U/YseFBUeAAABAEkAAAI7AwwAGwAANxEzFzczERQGIiY1EQcVFAYjIiY9AScRFAYiJkl+e3p/HiodYh4UFR5hHiodMwLZr6/9JxUeHhUCTowaFR4eFRqK/bQVHh4AAAAAAQBJAAACOwMMABEAADcRMwERNDYyFhURIwERFAYiJkmFAQgdKh6G/vkeKh0zAtn9pgIoFB4eFP0mAlj92xUeHgAAAAACAEkAAAI7AwwAFgApAAATND8BPgEzMhYfARYUDwEOASMiJi8BJjcGFB8BFjMyPwE2NTQvASYjIgdJGGsQPyYnPxBrGRlrED8nJj8QaxhyDQ1sCBIUCGsODmwIExEJAYY1MtcfKSkf1zRmNNcfKSkf1y5zHDwc1hEQ1yIYHhzVEhIAAAACAEkAAAI7AwwADwAZAAA3ESEyFh0BFAYrARUUBiImEzMyNj0BNCYrAUkBWj5aWj71HiodZfUUHx8U9TMC2Vk+tD5a9hUeHgFwHhW0FB4AAAIASQAAAjsDDAAhAEAAADcRND8BNjMyFhURFA4FBxczMhYVFAYrAScHBiMiJjcUOwE3JyY1NDYzMh4DFz4ENRE0JisBBwYVSUbhIC8ySggUDiMOLAUYQRUeHhWGJUsiLTJIZRUIbCUDHhUNFA8IDAIEHw4UCQ0KB+giewEaXj2+Hkky/uYXKSUZIg0kBD0eFBUeXkAeSTIWXF4HCxUeCxoRJAQEGQ0aHBEBGgkMwx4wAAAAAAIASQAAAjsDDAAZACMAADcRITIWHQEUBisBExYVFAYjIicDIxEUBiImEzMyNj0BNCYrAUkBWj5aWz06ywceFR0P6UUeKh1l9RQfHxT1MwLZWj40Plr+pA4LFR4ZAY/+ixUeHgHvHxQ0FR4AAAEASQAAAjsDDAAsAAA3NDYyFhUUFjsBMjUBJj0BNDY7ATIWFRQGIiY1NCYrASIdAgEWFQ4BKwEiJkkdKh4UDvkN/ooXQy75N1EeKh0VDvkMAXQZAkEv+TdQhxUeHhUOFA0B4iAmAy1CUDcVHh4VDRUKAwT+Ih4oL0NQAAABAEkAAAI7AwwAGAAAEzUhFRQGIiY9ASMRFAYjIiY1ESMVFAYiJkkB8h4qHWIeFBUeYR4qHQKFh4cVHh4VIv2MFR4eFQJ0IhUeHgAAAQBJAAACOwMMABsAADcRNDYyFhURFBY7ATI2NRE0NjIWFREUBisBIiZJHSoeHhTDFB8dKh5aPsM+WZcCQxQeHhT9vRUdHhQCQxQeHhT9vT5ZWQAAAQBJAAACOwMMABUAABM1NDYyFh0BGwE1NDYyFh0BAwYjIidJHSoelJQdKh7KDSIjDQIltRQeHhSh/oYBeqEUHh4UtP36ICAAAQBJAAACOwMMACsAADcRNDYyFhURFzM+ATcRNDYzMhYVER4BFzM3ETQ2MhYVEQcGKwEiJwYrASInSR0qHhwpAhQGHhUUHgYUAikdHSoeOQ8dYiASFR5hHg96AmAUHh4U/bswAyYKAUMVHR0V/r0KJgMwAkUUHh4U/aBhGSMjGQABAEkAAAI7AwwAIwAANzQ3EwMmNTQ2MzIXGwE2MzIWFRQHAxMWFRQGIyInCwEGIyImSQa4uAYdFR0Pm5oPHRUeB7i4Bx4VHQ+amw8dFR0zDQwBOgE6DA4UHhn++AEIGR4UDA7+xv7GDgsVHhkBCP74GR4AAAEASQAAAjsDDAAZAAATNTQ2MhYdARc3NTQ2MhYdAQcRFAYjIiY1EUkdKh6Ukx4qHsceFBUeAnNnFB4eFES+vkQUHh4UZ/7+vhUeHhUBQgAAAQBIAAACOwMMABMAADcBISImNTQ2MyEVASEyFhUUBiMhSAFo/ssVHR0VAcD+mAE1FR4eFf5BQAJnHhUUHkD9mR4UFR4AAAAAAgBJAAACOwMMABcAGwAANxE0NjMhMhYVFAYrAREzMhYVFAYjISImNzMRI0kdFQGNFR4eFcbGFR4eFf5zFR1kMDAzAqcUHh4UFR79vh4UFR4eRwJCAAAAAAEASQAAAjsDDAAPAAATNDYzMhcBFhUUBiMiJwEmSR0VHQ8BjQceFR0P/nMGAtoUHhn9WQ4LFR4ZAqcMAAIASQAAAjsDDAAXABsAADc0NjsBESMiJjU0NjMhMhYVERQGIyEiJiUzESNJHRXGxhUdHRUBjRUeHhX+cxUdAV0wMDMUHgJCHhUUHh4U/VkVHh5HAkIAAAABAEgAfwI7AmIAFAAANxM2MzIXExYVFAYjIi8BBwYjIiY1SM0NIB4OyAUeFRsOnZ4OGxUdvgGJGxv+gAwJFR4V7OwVHhUAAAABAEn/mwI7AAAADQAAFzQ2MyEyFhUUBiMhIiZJHRUBjRUeHhX+cxUdMhQeHhQVHh4AAAAAAQB6AagCCQMMABAAABM0NjsBMhcTFhUUBiMiJwEmeh4VYxoOywYeFRAQ/tYSAtoUHhP++gsNFR4MAP8PAAAAAAIASQAAAjsCOAAmADQAADc1NDY7ATIXNC4FKwEiJjQ2OwEyFhcTFAYjIiY1BwYrASImNxQWOwE3NTQmKwEiBhVJWD3BGBQBAQMGCxEMuhUdHRW6PVcCDR8VFB1KCg+VPVhlHBSHax8SwRMdljg+WAcHIQ8cDRAGHSoeVTz+ixUdHhQrB1g+FB0/LBIdHRQAAAIASQAAAjsDDAApAEMAADcRNDYyFh0BNjsBMh4FFxYdARQOBA8BBisBIi4BJxUUBiImNxQfARY7ATI+ATc2PQE0LgEnJisBIg8BBhVJHSoeRENLDRgYDhgHGwE1BA4HGgURESk4Sx02HRceKh1lEVYMFEsOFh4CEg0fARUUSxQMVhEzAqcUHh4U4kADCwUTBRcBLkTOEBsaDxoGDw4kFhcVDxUeHsIXDkoMDB4BDhfODhQaARMMSgsaAAAAAQBJAAACOwI4ACYAADc1NDc+AzsBMhYUBisBIg8BBh0BFB8BFjsBMhYVFAYrASIvASZJNAszITof0xUeHhXTFAxWERFWDBTTFR4eFdM5KVY04HhFLQkxGxkeKh0MSgsaeBcPSQweFBUeJEotAAAAAAIASQAAAjsDDAAtAEgAADc1NDY3Njc2OwEyHgQXNTQ2MhYVERQGIiY9AQ4CKwEiLgcnJjcUHgIXFjsBMj8BNj0BNC8BJisBIg4BBwYVSSonBQMpOEsQHhMeCB8CHSoeHiodFx02HksLExMOEQoRBhMCNGUMDRgEDxFLEg5WEhJWDBRLDhcaBBK1zjA7IAQCJAcHFAYcAecUHh4U/VkVHh4VEBYXFgIGBQoGDgURAitHDBYMEwMMDEoNGHgVEEoMDRoDEBYAAAAAAgBJAAACOwI4ADQAQQAANzU0PgE3NjsBMh4GHwEWHQEUBiMhFRQeAhcWMyEyFhUUBiMhIi4HJyY3ITU0JisBIg4BBwYVSSAaHyk4fQoTFAwUBxQECws1HhX+pgwNGAQPEQEFFR4eFf77CxMTDhEKEQYTAjRlASg8Gn0OFh4CEbXOIzwYGiQCBgQMBBECCgouRHwVHh8MFgwTAwweFBUeAgYFCgYOBRECK8tKGjYMHgEOFwAAAQBhAAACIQMMACQAABI0NjsBNTQ2OwEyFhUUBisBIgYdATMyFhQGKwERFAYiJjURIyJhHRUxaEp5FR0dFXkgLWMUHh4UYx0qHjEVAfAqHiJKaB4UFR4tICIeKh3+YBUeHhUBoAAAAAACAEn/LAI7AjgAQgBZAAA3NTQ+CDc2OwEyHgQXNTQ2MhYVERQOBA8BBisBIiY0NjsBMj4BNzY9AQ4CKwEiLgMvASY3FBY7ATI/ATY9ATQvASYrASIOAQcGFUkDAwsEEAQVAxcBKThLEB4THggfAh0qHgQOBxoFEREpONMVHh4V0w4XHAMSFx42HUsPHxIeBxARNGQ7G0sUDFYSElYMFEsPFxgGEuCjCxYQFAoTBhIDEwEkBwcUBhwBEhUeHhX93BAbGg8aBg8OJB0qHg4aAw4XjRUYFwcGFQUPDi1FGzYMSg4XThUQSgwOGAQSFAAAAAABAEkAAAI6AwwAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMCpxQeHhT3PRhVPP6MFR4dFAFzExxp/skVHh4AAgB6AAACCQM2ABoAKgAANzQ2OwERIyImNDY7ATIWFREzMhYVFAYjISImEzU0NjsBMhYdARQGKwEiJnoeFWNjFR4eFZUUHmIVHh4V/tcVHmMeFTIUHh4UMhUeMxQeAW4dKh4eFf5gHhQVHh4CvCoVHR0VKhUeHgAAAgB6/ywCCQM2AB8ALwAAFzQ2MzIeAjsBMjY1ESMiJjQ2OwEyFhURFAYrASImJxM1NDY7ATIWHQEUBisBIiZ6HhUUGAkZFWIUH5UVHh4VxhUeWT5iOFYI+B4VMRUeHhUxFR5NFR4bHxsdFAIRHSoeHhX9vT5YSjUDLyoVHR0VKhUeHgAAAQBJAAACOwMMAB8AADcRNDYyFhURJTYzMhYVFA8BFxYVFAYjIiclBxUUBiImSR0qHgEIDhIVHhLL/RIdFRMP/vcwHiodMwKnFB4eFP5x4QweFRcPrtgPFxUeDOMqkhUeHgAAAAEAegAAAgkDDAAbAAA3NDY7AREjIiY1NDY7ATIWFREzMhYVFAYjISImeh4VYmIVHh4VlRQeYhUeHhX+1xUeMxQeAkIeFRQeHhT9ix4UFR4eAAAAAAEAQQAAAkICOAAuAAA3ETQ2MzIWFzYzMhc3NjMyFhcTFAYjIiYnAyYrAQcRFAYjIiY1ETQrAQcRFAYiJkEdFRAbBSktPSQWISovSAEPHRUUHgEOAg8GRB4UFR4WCEseKh0zAdIVHhQPIzASG0Iv/m8VHh0UAY8TOv6aFR4eFQGKFkH+oRUeHgABAEkAAAI6AjgAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMB0hUeHhUiPRhVPP6MFR4dFAFzExxp/skVHh4AAgBJAAACOwI4ACYAQAAANzU0PgE3NjsBMh4FFxYdARQOBA8BBisBIi4EJyY3FB4CFxY7ATI+ATc2PQE0JisBIg4BBwYVSSAaHyk4fQ0YGA4YBxsBNQQOBxoFEREpOH0QHRQbCxsENGUMDRgEDxF9DhYeAhI8Gn0OFh4CEbXOIzwYGiQDCwUTBRcBLkTOEBsaDxoGDw4kBwcSCBgDK0cMFgwTAwwMHgEOF84aNgweAQ4XAAAAAgBJ/ywCOwJNACwASgAAFxE0NjIWHQE+CDsBMh4BFx4EHQEUDwEGKwEiLgEnFRQGIiYTFB4CFx4CFxY7ATI/ATY9ATQvASYrASIPAQYVSR0qHgITBhIKEg8TFQsVHTcbGQIwDB0KNVYpORUfNyAVHiodZQoKFQMHGBQJDhUVFAxXERFXDBQVFQ5aDqICvRQeHhQbAhQFEQYNBQcCGBUXAikPJiYXoUQuSiQYHBfYFR0dAZIMFQsSAwcZFAgODEoNGKEYDUsMDlsLFwAAAgBJ/ywCOwI4AC0ASAAANzU0Njc2NzY7ATIeBBc1NDYyFhURFAYiJj0BDgIrASIuBycmNxQeAhcWOwEyPwE2PQE0LwEmKwEiDgEHBhVJKicFAyk4SxAeEx4IHwIdKh4eKh0XHTYeSwsTEw4RChEGEwI0ZQwNGAQPEUsSDlYSElYMFEsOFxoEErXOMDsgBAIkBwcUBhwBEhUeHhX9WRUdHRXlFhcWAgYFCgYOBRECK0cMFgwTAwwMSg0YeBUQSgwNGgMQFgAAAAABAEkAAAI7AjgAHwAANxE0NjIWHQE3NjsBMhYdARQGIiY9ATQmKwEHERQGIiZJHSoedwsSYz1ZHiodHRRRph4qHTMB0hUeHhU7ZghZPRwVHR0VHBQdj/7vFR4eAAEASQAAAjoCOAA0AAA3NDYzMhYXHgE7ATI2NTQnJS4BNTQ3NjsBMhcWFRQGIyImKwEiBhUUFwUeAR0BDgErASInJkkcFRImCQIUBMsYGx3+6yIqJSY11kswCh4VEi0T1g0PEAEWJjUBWj+9ST4TXRUdHQMBCSAWIg14D0MnMyQmPw0RFR4rEgsSBngRTS4CP1k1EAABAEkAAAI7AuIAKgAAEjQ2OwE1NDYyFh0BMzIWFAYrAREUFjsBMj4CMzIWHQEOASsBIiY1ESMiSR0VMR0qHsUVHR0VxRwUZBQZCRkUFR4KVTdkPVgxFQHwKh53FR4eFXceKh3+wxQdGx8bHhUINEtZPQE9AAEASQAAAjsCOAAgAAATNDYzMhYVEx4BOwE3ETQ2MhYVERQGIiY9AQcGKwEiJidJHRUUHg0CGxRHpB0qHh4qHWEmKzk8WAICBRUeHRT+jRQbaAE4FR4eFf4uFR4eFSM+GFU7AAABAEkAAAI7AjgAGgAAEzU0NjIWHQEbATU0NjIWHQEUBwMGKwEiJwMmSR0qHpOVHSoeBacNIT8hDacEAbBVFR4eFUr+rQFTShUeHhVVCgr+gh4eAX4IAAAAAQA+AAACRQI4ACsAABM0NjMyFhcTFzc1NDYzMhYdARc3Ez4BMhYdAQMHDgErASIvAQcGKwEiJi8BPh4VFB0BCiBCHhUUHkIgCgEdKB8LMwUbETEdDzc4Dx0xERsFNAIEFR8dFP7dbHJyFB4eFHJybAEjFB0eFAL+yqoQFBlfXxkUELYAAQBJAAACOwI4ACMAADc0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiMiJkkKraEMHhUXEJWUEBcVHgyhrQseFRgPn6APGBUdMxMN0MIPERUeE7OzEx4VEQ/C0A4SFR4SwcESHgAAAQBJ/ywCOwI4ACMAABY0NjsBNyMiJwMmPQE0NjIWHQETMxM1NDYyFh0BFAcBBisBIkkdFWdDFSIMlQQdKh6DIIQeKh4F/vwNIogVtyoemR8BUwgMVRUeHhVK/tQBLEoVHh4VVQoK/a4eAAAAAQBJAAACOwI4ABwAADc1NDcBISImNDYzITIWHQEUBwEhMhYVFAYjISImSQ8BYP7bFR0dFQF1FR4Q/qEBPBUeHhX+cxUdMyoXDQFSHSoeHhUqFRD+rx4UFR4eAAABAEkAAAI7AwwAKgAAEjQ2OwEyNj0BNDY7ATIWFRQGKwEVFAcWHQEzMhYVFAYrASImPQE0JisBIkkdFWEWHT0olBUeHhWUJyeUFR4eFZQoPR4VYRUBcSoeHRW8KTweFBUevDksLDm8HhQVHjwpvBQfAAAAAAIBDwAAAXQDDAAIABEAACURMxEUBiMiJhkBNDYzMhYVEQEPZR4UFR4eFRQeMwEh/t8VHh4BmwEhFB4eFP7fAAABAEkAAAI7AwwAKgAANzQ2OwE1NDcmPQEjIiY1NDY7ATIWHQEUFjsBMhYUBisBIgYdARQGKwEiJkkdFZQnJ5QVHR0VlCk8HRViFR4eFWIVHTwplBUdMxQevDksLDm8HhUUHjwpvBQeHiodHxS8KTweAAAAAAEASQGqAjsDCwAmAAATNTQ2MzIWHQEUFjI2PQE0NjIWHQEUBiMiJyY9ATQmIgYdARQGIiZJXTw6WB0oHR0qHlw9PCssHSgcHiodAgVvQVZYPzQUHx8UbxUeHhVvQVUrLj00FB4eFG8VHR0AAAEAcQAAAmMDDAATAAAzETQ2MhYdATMRIREUBiImPQEjEXEdKh5hASweKh1iATEVHh4VzAKn/s8VHh4VzP1ZAAABAHEAAAJjAwwAFQAANxEhETQ2MhYVERQGIiY1ESERFAYiJnEBjR0qHh4qHf7YHiodMwGGASEUHh4U/VkVHh4VASH+3xUeHgABAHEAAAJjAwwAGAAAExE0NjIWFREhETQ2MhYVESMRFAYjIiY1EXEdKh4BKB0qHsceFBUeAVQBhhQeHhT+3wEhFB4eFP56/t8VHh4VASEAAAEBN/+bAZwEUgADAAAFETMRATdlZQS3+0kAAAABAFf/5wJ8AyUAAwAAFxEhEVcCJRkDPvzCAAAAAQDtAAAB5gD6AA8AADc1NDY7ATIWHQEUBisBIibtHRWVFR0dFZUVHTOUFR4eFZQVHh4AAAEAcQAAAmMDDAAeAAATNDcBNjIfARYdARQHBRUUBiImPQE0NyU1JwUGIyImcREBKg8kD2MSEv7oHiodEQEZMf73DxIVHQHbGA4A/wwMVQ8XVRcQ7+cVHh4V/hkO7yYq4wweAAABAQMBqAHRAwwAEwAAATQ2OwEyFhUUBhUDFAYiJjU0NjUBAyAVYxQiATMfKCEBAtoUHhoSAQQB/wAUHhoSAQQBAAAAAAEA1AAAAf8BZAAUAAATNTQ2OwEyFh0BFAYrASImPQEjIibUHRXHFR0dFTIVHWMVHQEHKhUeHhX+FR4eFaEeAAABAHEBVAJjAbkACwAAEjQ2MyEyFhQGIyEicR0VAY0VHh4V/nMVAXEqHh4qHQAAAAAAAA4ArgABAAAAAAAAAFYArgABAAAAAAABAAQBDwABAAAAAAACAAcBJAABAAAAAAADACEBcAABAAAAAAAEAAUBngABAAAAAAAFAAoBugABAAAAAAAGAAQBzwADAAEECQAAAKwAAAADAAEECQABAAgBBQADAAEECQACAA4BFAADAAEECQADAEIBLAADAAEECQAEAAoBkgADAAEECQAFABQBpAADAAEECQAGAAgBxQBNAGEAdAB0AGgAZQB3ACAAUwBrAGEAbABhACAAKAAyADAAMQAxAC0AMQAyACkAOwAgAGIAYQBzAGUAZAAgAG8AbgAgAGMAbwBkAGUAIABiAHkAIABSAGkAYwBoAGEAcgBkACAAQgAuACAAVwBhAGwAZQBzACAAKAAxADkAOAA4AC0AOAA5ACkAIABhAG4AZAAgAFQAbwByACAATABpAGwAbABxAHYAaQBzAHQAAE1hdHRoZXcgU2thbGEgKDIwMTEtMTIpOyBiYXNlZCBvbiBjb2RlIGJ5IFJpY2hhcmQgQi4gV2FsZXMgKDE5ODgtODkpIGFuZCBUb3IgTGlsbHF2aXN0AABPAEMAUgBBAABPQ1JBAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABGAG8AbgB0AEYAbwByAGcAZQAgADIALgAwACAAOgAgAE8AQwBSACAAQQAgADoAIAAyADcALQA5AC0AMgAwADEAMgAARm9udEZvcmdlIDIuMCA6IE9DUiBBIDogMjctOS0yMDEyAABPAEMAUgAgAEEAAE9DUiBBAABWAGUAcgBzAGkAbwBuACAAMgAgAABWZXJzaW9uIDIgAABPAEMAUgBBAABPQ1JBAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAbAAAAAEAAgADAAQABQAGAAcACAAJALcACwAMAA0ADgAPABAAEQASABMAFAAVABYAFwAYABkAGgAbABwAHQAeAB8AIAAhACIAIwAkACUAJgAnACgAKQAqACsALAAtAC4ALwAwADEAMgAzADQANQA2ADcAOAA5ADoAOwA8AD0APgA/AEAAQQBCALYARABFAEYARwBIAEkASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEBAgEDAQQBBQEGAQcBCAEJAQoBCwd1bmkyNDQwB3VuaTI0NDEHdW5pMjQ0MghTRjExMDAwMAtibGFja3NxdWFyZQpwZXJpb2QuYWx0DHF1ZXN0aW9uLmFsdA9xdW90ZXNpbmdsZS5hbHQJY29tbWEuYWx0Cmh5cGhlbi5hbHQAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQADAGsAAQAEAAAAAgAAAAEAAAAKAEQAogACREZMVAAObGF0bgAkAAQAAAAA//8ABgAAAAEAAgADAAQABQAEAAAAAP//AAYAAAABAAIAAwAEAAUABmFhbHQAJnNzMDEALHNzMDIAMnNzMDMAOHNzMDQAPnNzMDUARAAAAAEAAAAeAAEAAQAcAAEAAgAaAAEAAwAYAAEABAAWAAEABQAAAQAAAAEBAAABAgAAAQMAAAEEAAYADgAWAB4AJgAuADYAAwAAAAEAMAABAAAAAQBkAAEAAAABAGgAAQAAAAEAbAABAAAAAQBwAAEAAAABAHQAAQAuAAUAEAAWABwAIgAoAAIACgBpAAIADwBqAAIAEABrAAIAEQBnAAIAIgBoAAEABQAKAA8AEAARACIAAQAGAFYAAQABABEAAQAGAEYAAQABACIAAQAGAF8AAQABAAoAAQAGAFsAAQABAA8AAQAGAFsAAQABABAAAQAAAAoALAAuAAJERkxUAA5sYXRuABgABAAAAAD//wAAAAQAAAAA//8AAAAAAAAAAAABAAAAAMw9os8AAAAA1gbbzAAAAADaAyOv");ai.loadFont("OCR-B",96,100,"AAEAAAAPAIAAAwBwRkZUTXxHn14AADmUAAAAHEdERUYAkwAEAAA4IAAAACBHUE9TuP+4/gAAOWQAAAAwR1NVQnZYZVQAADhAAAABJE9TLzJa+GPlAAABeAAAAGBjbWFwzJGg2QAAA2QAAAFCZ2FzcP//AAMAADgYAAAACGdseWbm+CwyAAAFeAAALwRoZWFkFgqHXQAAAPwAAAA2aGhlYQeFAeAAAAE0AAAAJGhtdHgIFCYVAAAB2AAAAYpsb2NhZAZYlAAABKgAAADObWF4cACtAGkAAAFYAAAAIG5hbWWukZg3AAA0fAAAAnlwb3N0tfQXywAANvgAAAEdAAEAAAACAADO4NltXw889QALA+gAAAAA2gMiKgAAAADaAyIqAA7/GQLWAwsAAAAIAAIAAAAAAAAAAQAABFL+sABaAtMAAP/9AtYAAQAAAAAAAAAAAAAAAAAAAF8AAQAAAGYAZgAFAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAsMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAAK8AAABoAAAAAAAAAABQZkVkAEAAIAB+AyD/OABaBFIBUAAAAAEAAAAAAiAC+QAAACAAAQLTAAAAAAAAAtMAAALTAAAC0wD1AtMAdALTAEQCvwA/Ar8APwLTAEQC0wDnAtMA0wLTAIgC0wBEAtMARALTAHIC0wBEAtMAxALTAIACvwA/AskAXgK/AFACvwA/Ar8APwK/AFkCvwA/Ar8APwK/AD8CvwA/AtMA1gLTAG8C0wBBAtMARALTAEEC0wBgAtMARAK/AEUCvwA/Ar8AbwK/AHICvwBtAr8AoAK/AEcCvwBbAr8AeAK/AFACvwBNAr8AWwK/AD8CvwBNAr8AQgK/AFsCvwBBAr8AZwK/AGECvwA/Ar8ATQK/AD4CvwA/Ar8AUwK/AFYCvwBbAtMApQLTAIAC0wBVAtMARALTAEQC0wC2Ar8ATQK/AEoCvwB1Ar8APwK/AE0CvwBhAr8AQgK/AGoCyQCDAskAZwK/AHsCyQDLAr8APwK/AE0CvwA/Ar8ASgK/AD8CvwCaAr8AZwK/AE0CvwBNAr8AQgK/AEECvwBhAr8APwK/AGEC0wBEAQwARABSAnICBgG2AA4AAAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAAB+//8AAAAg////4wABAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALABiAMYBUAG6AkICYgKMArQC8gMaAzoDVgNwA5QEEgQ2BIgE2AUSBVYFngXSBjQGegaoBtwHDAcyB1oHxAhUCIQI2glACXgJrAnaCjQKYgqYCswLAgskC2QLlgvuDB4MgAzODUQNbA2eDcgOEg5ODoAOsg7WDvoPHA9ED2APgg/eECoQaBCyEPgRLBGUEdISAhJOEoASqBLyEygTVhOiE+gUIhSYFN4VGBVGFYYVvBXyFiAWbBaEFs4XDhcmF0QXaheCAAAAAgD1/7wBfQL9AA8AGwAAFzU0NjsBMhYdARQGKwEiJhMRNDYyFhURFAYiJvUbEi4SGxsSLhIbFxskGxomGhcuEhsbEi4SGxsBcgGHExobEv55EhsaAAAAAAIAdAHHAgkC/QASACMAABM1NDY7ATIXFhUwFQ8BDgEjIiYlNTQ2OwEyFxYdAQcOASMiJnQbEh0SDg4BHQIZEhEcASQbEhcRDg4ZBBYREhsB9NwSGw0MDwEC5BAXGxLcExoNDBAE5RAUGwAAAAIARP/4Ai4DAABEAEgAADc0NjsBNyMiJjQ2OwE3PgEzMhcWFQczNzYzMhYdAQcXHgEVFAYrAQczMhYUBisBBw4BIyImPQE3IwcOASMiJyY1NycuATczNyNEGhMVJicSGxoTOygDGRASDQ4liCgNHxIbIwUQFxsSFCUlExobEjopAxoPEhskhykDGRASDQ4mBRIXnoglh/4TGqcaJhqxDhUODhCosSMaEwqcAQMZERIbpxskG7YOFRsSCqK2DxQODRGsAQIaPqcAAwA///sCHwL9AEcAWABfAAA3JjU0NjMyFxYXFhczNScuAScuAjU0NzY/ATU0NjIWHQEXFhcxFhUUBiMiJyYvARUXFhcWFx4BFRQHBg8BFRQGIiY9ASMmJxMGFRQXFhcWFxYXHgIfATUTNzY1NC8BQQIbEhYVFwwYLQUEIS4cGyIWNjZSBBoiGgRpOAkbEhcOITUGBCwcHR8fHjc3UwQaIhoFlSi8YwMECAgFBgwMChwCB1YGZWQHoAUMExodIQYNBNwBChEPDyQ2IkwqKwoBCRMaGxIJAQ5SDA4SGhMsCwHFAQ4MDBYVPytNMDENAQYSGxoTBw1kAcoORQsKCggHBQUGBgUKAQKq/iABFEo8JAIAAAAABQA///gCHwMAAA0AHAAoADcARwAAJSIVFBcWHwEzMjc2NTQHJjU0NzYzMhcWFAcGIyIDIhUUFzsBMjc2NTQHJjU0NzYzMhcWFAcGIyICJjU0NwE2MzIWFRQHAQYjAaIhBQUOAQgRCQl6HyAfNzogICAgOjiuIxgBChEJB3wgISA6Nx8fHx83OycbBgGMDRQSGwb+exAYtTIPDxABAhAPEjKVKDg5KyspKXIqKQKuMikIEA8SMpUoODkrKykqcikp/hQbEw0JAq0MGxIMCv1dFwAAAAADAET/9wIuAwAAQgBOAFwAADc0PwEnJjU0NzYzMhcWFRQHDgEHDgIPARc3NjU0NjIWFRQPARcWFx4BFxYVFAYjIicmJyYnJicmJyYvAQcGKwEuATcUFzMyPwEnBwYHBhMUHwE3Njc2NTQnJiMiRF8EA0Q1NVhKNTQJChQYFxY+BASXBBUcJBs3AgICBwcHAwMbEgYFBgQDBAUCAQUGAQMEPlEGYnVafwYwKAShBRwPEBwwAwRMHiAcGyJozXJUAwRdVVQwMCgmRBsaGyMXGBMuAwPSCDRFExscEnxTAwIFCAgKCQgIEhsCAgEBBQUCAQcIAgICJwFyYnkCFwLhBB0bGwFXOEQEAzYlJx0eDgwAAAEA5wGIAY0C/QASAAATNDY7AR4BFTAVBwMGKwEiJyYn5xsSURAXARUIJCISDQ0BAtATGgIZDwEB/twlCwoRAAABANP/+AHpAwAAGQAAEzU2NzYzMhYVFAcGBwYHFRQXFhUUBiMiJybTA80LDhIbFE4sLQGoFBsSDgvQAXMG8I8IGhMXDjNKS20FvmsOGBMaB4wAAAABAIj/+AGfAwAAGAAANzQ3NjU0LwEmJyY1NDYzMhcWFRQHBiMiJogUqakBBwYGGxIOC9HRCw4SGyUYDm7AwnMBAgwMChIbCJDv7I4HGwAAAAEARACeAi4ChQAqAAATNDc2Mxc1NDYyFh0BNzE2MzIWFRQPARcWFRQGIyIvAQcGIyImNTQ/AScmRA4OEZsbJBuNBggSGyB6UAUaExQMV3AMFBMaCV6MHwG+Eg8OM54TGhsSni4DGxIgCymICwwTGguWlgsbEg0Ofy4MAAABAEQAagIuAo0AGwAAEjQ2OwE1NDYyFh0BMzIWFAYrARUUBiImPQEjIkQbEpsaJhqbEhsbEpsbJBubEgFpJhq3ExobErcbJBu4EhsaE7gAAAEAcv9NAeYAygASAAAXNDcTNjsBMhYdARQHAwYrASImcgWyDBVvEhsN/gwUHBMahgwKAS4MGhMfEwz++w0aAAABAEQBQQIuAbcADwAAEzU0NjMhMhYdARQGIyEiJkQaEwGQExoaE/5wExoBbhwTGhsSHBIbGgAAAAEAxP/7Aa0AtgAPAAA3NTQ2OwEyFh0BFAYrASImxBsSjxIbGxKPEhsoYRIbGhNhExobAAABAID/+AHyAwAAEwAANzQ3MwE+ATMyFhUUByMBDgEjIiaAAwEBGAQYDRIbAwH+6AQYDRIbJQoHAq4MEBsSCgf9UgwQGgAAAAACAD//+AIfAv8AJQBUAAAFIyYnLgEnJicmNTQ2Nz4BNz4CMzIeARceARceARUUDgUDFRQWFxYXHgE7ATI2Nz4BNz4BPQE0JicmJyYnJicmJyYnLgEjIg4CBw4BBw4BATMEOywsNA8QBQUDBgYVEhIySC4tSDITEhUGBgMEDRQmMEbFBQkIEBA4KBUcLA0OEgQFAwEBAQMDBQUICAsMDg8nGBknHhcICAoCAgMIARMSOy8vMC9AOVEvMEEhICYYGCYgIUIvL1I4KEFMOTYkFgGwUi1AJSUXGB8XFhUxHyA0Hy4fJRwdEBEXFw4ODw8ICQoLFB0SESkXFi8AAAABAF7/+wGMAv0AFQAAEiY1ND8BNjsBMhYVERQGIiY1EQcGI3gaDbcNECASGxskG4kNEQIJGxIVCp0LGxL9WBIbGhMCYXULAAABAFAABgILAwAANwAAEiY1NDc2MzIXFhUUBw4BBw4BBw4BBwYHBgcVITIWFAYjISImPQE0NzY3Njc2NzY1NCcmIyIHBiNrGxNbcVs9Pg0NISAgISMmIhgYCwsCASgTGhsS/qoSGwoRLy9EXhkcJSM0Wj4LDwJyGxEZDTw6OV0lIiMsGxsYFxkaGhkgHysFGyQbGxIVTiI8LzAuPyQkKDUhICwIAAEAP//4AhYC/AA3AAA3JjU0NjMyFxYzMjc2NzU0JyYnJiMiJjU0PwEhIiY0NjMhMhYdARQPARcWFxYdAQYHBiMiJyYnJlQVGxIGC0BGTDQ1BCAeLCs1ERoJuP7nEhsaEwFhEhsOoQhVNjUFUE5wHBwcIyMeEBgTGwQdJidKCjMkIw8OGxMSCswbJhobEiQQDrECFjs7WRBtQEADAwcIAAABAD//+wIfAv0AKAAANiY9ATQ3Ez4BMzIWFRQHAzM1NDYyFxYdATMyFhQGKwEVFAcGIiY9ASNaGwXVBBYMEhoFyMMaIg0OOhMaGxI6Dg0iGvWpGhMrCAsBzwsPGxIKCf5GeRIbDg0SeRskG4ESDQ4bEoEAAAIAWf/4AfcC/AAqAC0AABYmNDYzMjc2NTQnJiMiByMiJj0BEz4BMyEyFhQGKwEHMzIXFhUUBwYHBiMSIjN0GxsSyjsSIi1xHyAEEhsOAhkSARwTGhsS8ggTf01OFxgkYL4YAQEIGicacSIfSSU1AxkSAwD/EhgbJBydQUB+NS4vIVoBrQAAAAACAD//+AIfAv0AHwAvAAA3Jic1NDc2Nz4BNzYzMhYVFAcGDwE3NjMyFxYVFAcGIgMGFRQXFjMyNzY1NCcmIyKFQwNFHCgnNjILFBEaC3E1BwsdHm1BQkRE0AYoKilDQikrJyZJRzlBawx9ci80NT85DRsSEQ6ATQoCBkRFdGlCQgFkK0xEKCcoKENOKisAAAABAD//+wIfAvwAHwAAEiY0NjMhMhYVFAcGBwYHBhUUBiImNTQ3Njc2NzY/ASFaGxoTAYYTGjsSNDQWQRoiGkwXNDURGAkC/q8CoRsmGhsSTFkcQUIpeMETGxoU2o0pRUYaKBQHAAAAAAMAP//3Ah8DAAAVACQAQgAAEwYVFBYXHgEXOwE2NzY3PgE1NCcmIhMGFRQXFjsBMjc2NTQvAQMmNTQ/AScmNTQ3NjMyFxYVFAcGDwEXFhUUBgcjIuEmEhUUGxwCAhwODhQUEiYlUimXLSpAFDUmJ5ICrUWOBgZsQD9PTkBAHB0zBgaOdFIqZwKSFCYZJhAPEA4NCAgPECcZJhQU/s9PXjgfHyMjMF9OAv67Olx5YgQEQmtJLzAwMEg7KSghBARieU96BwACAD//+wIfAwAADwAtAAATBhUUFxYzMjc2NTQnJiMiAyY1NDc2MzIXFhUUBwYHBgcGIyImNDc2PwEHBiMixSwqKER3FQoqKUM/bURIRmJlRUYVFSZTeA0PERoOX0QFChogagJ1MENBKShJIShLLC3+tENlaEtLRkZyRzk5QpFvDBomDltuCgIEAAAAAAIA1v/7AZwCEAAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm1hsSbBIbGxJsEhsbEmwSGxoTbBMaKFATGhsSUBIbGgF+UBMaGxJQEhsaAAAAAgBv/1IBswIQABIAIgAAFzQ/ATM2OwEyFhUUBwMGKwEiJhM1NDY7ATIWHQEUBisBIiZvA3wBCR9vEhsBzA4RKxIbexsSbBIbGhNsExqBDAf9GRsSDgP+9Q0aAidQExobElASGxoAAAABAEEARQIuArMAHQAAEy4BJyYnLgE1NDcBMDE2MzIWFRQHDQEWFRQGIyInTwEGAQECAQIOAZkLDhIbDf6hAV8NGxIOCwFcAQUBAgMECAcREAEPCBsSFwnq6g4SEhsIAAACAEQA3QIuAhsACwAXAAA2NDYzITIWFAYjISImNDYzITIWFAYjISJEGxIBkBIbGhP+cBMaGhMBkBMaGxL+cBL3JhobJBv+JhobJBsAAQBBAEUCLgKzABcAAAkBBiMiJjU0Ny0BJjU0NjMyFzAxARYVFAIg/mcLDhIbDQFf/qENGxIOCwGZDgFc/vEIGxISDurqCRcSGwj+8RAREgACAGD/vAH1AwEAOQBLAAATNTQ2NzYzMhcWHQEOAQcGBwYHBhUUBwYiJjU0NzY3Njc2NzY3NjU0JyMiJyYrAgYdARQHBiMiJyYTNTQ2OwEyFh0BFAcGKwEiJyZgPi8vNlA6OQEsHwcUFgkJDg0kGwoKCwwUFQgSEBFTAQUICgQDAW4NDRMSDQ2UGxIuEhsODRIuEg0OAjQMPFsVFTAwWAIxZCMIExQOCwsUDw8dFRoYFw4OFBUKEyIiG0IVAQIOUgkUDw4ODv3MMRUdHRUxFA8PDw8AAAIARP/yAi4DBABKAGUAADc1NDcyHwE3NjMyFxYVERY7ATY3Njc+AT0BNCYnLgEnJicmKwEGBw4BIyInJj0BNjc2NzMyFhcWFx4BHQEUBwYHBiMiLwEHBisBJjcUFxYXHgEXMzI3Njc9AiYnJiMiBwYHDgEVRIgvJwUCDhkSDQ4CHAETDQwEBQMDBQUXEBEbGyMJggsCGRETDQ0MPT9eCTpZGxsREQ0KCiMmNzYdAwQrPQiMWgEBBQQYEwYcEQ8NDRcXHBALCgMEAtIB7wIdAwUYDw8T/vk2AQwNFhUmHZgqPyYlNBcYDAwGVxIYDg8VB1ItLgMqIyM1NXBGfFsxMCInJgQDKAXWGw8QFBUVAREQHQGMARoTFAwMFhQiGAAAAAIARf/1AhoC9gAZABwAABYmPQETPgE7ATIWFxMUBwYjIiYvASMHDgEjEwMzYBufBBgOQg0XA6MODhIPGQMtyywDGQ+9T54LHRUOAp4OFREM/U0TDw8VD8PDDxUCov6qAAMAPwAGAh8C/QAhACsAOQAANiY1ETQ3NjsBMhcWFxYXHgEVFA8BFx4BHQEUBgcGBwYrARMVNzI9ASYnJiMDFRcyPQEmJyYnJicmI1obDQ0TpyQVFR4dFiwyOgQEIicnJCUvLz6nLXqyASspQZaWiAMODRgYGRkkBh0VApIWDw4BAgcIDRxiOVo4BAQeWDACMlkfHwsLAVr1AXwBPh0cATrVAWMLIRUWCwoDBAABAG//8gHwAwsARQAAEyYnNTQ2NzY3Njc2NzMyFxYXFRQHBiMiJyYnJicwMSYrAQYRFR4BFxYXFhceATMyNzY3PgEzMhcWHQEGBwYjIicmJyYnJnYGAQ0QERkYJyQvBTsuLQ0NDRITCQsICQsVHQWBAQQFBAoJDg4tHBwTFgQDGRASDQ0KLS09MiUoGBkREQD/NT8OQGw0MyUkFhYCJiY9ChQPDw0NFRYKEgf+6RIlOiMkGhoXFxoPDxoSFw8PFAo8JiYVFSQkMzMAAAACAHIABgIFAv4AFAAhAAA3JjURNDc2MzIXFhcWFRQHBgcGIyITJxE3Njc2NTQnJicmgA4NDRNmQ0M1RUhGayJLEkUGBmU5OyEgMysVDxUCkxQPDyssTmiFi19eFwcCkQH91AELQUB1UkFAKyQAAAAAAQBtAAYCEwL7ACIAADYmNRE0NzYzITIXFhQGIyEVMzIXFhQHBisBFSEyFxYUBiMhiBsNDRMBTBMNDRsS/uHvEg0ODQ0T7wEfEw0NGxL+tAYdFQKRFQ8ODg8qHdQPDykPDvUODyodAAABAKD/9QICAvoAHgAANyY1ETQ3NjMhMhcWFAYrARUzMhcWFAcGKwERFAcGIq4ODQ0TAQgTDQ0bEtuuEg0ODg0Srg4NJAQPFQKgFA8PDg8qHdQPDygPD/7KFQ8PAAEAR//xAg4DCAA+AAA3Jj0BNDc2NzYzMhcWFxYVFAYjIicmIyIHBgcGFRQXHgEzMj8BNSMiJyY0NjsBMhYVERQHDgEHDgEHBiMiJyZeFxcXLEZeExNYNwsbEhQOK0M+Kh8PEBwSTDUuMgNyEgwNGhGfEhsHCBIREhEQLC5sQivEV2MDYVNUME8DEEgOExQdETYxJD4+SWlYODoUAckODykdHRX+6Q4LDA4ICAYFDk0wAAAAAAEAW//1AgIDBAAdAAAWJjURNDc2MhYVETMRNDc2MhYVERQGIiY1ESMRFAZ2Gw4NJBvzDg0kGxskG/MbCx0VAqoVDw8dFv7lARsVDw8dFv1WFR0dFQEt/tMVHQAAAQB4AAYB5gL6ACMAADcmNDc2OwERIyInJjQ3NjsBMhcWFAcGKwERMzIXFhQHBiMhIoYODQ0TYEwSDQ4NDRPsEw0NDg0STGATDQ0ODRL+7BIVDykPDgIsDw8oDw8PDygPD/3UDg8pDw8AAAAAAQBQ//ABpQMHACMAADYmNTQzMhcWHQEGFRQXFjMyNzY1ETQ2MhYVERQXFBUUBiMiJ4Y2MBMMDQIcGiAeFRcbJBsBZ0EpJyBXN04ODxUKDAQpGhoYGS0CJBUdHRX95wMFBAJMchcAAAABAE3/9QIfAwcAHwAANyY1ETQ2MhYVEQE2MhYUBwMBFhUUBwYjIicBERQHBiJbDhskGwEUDiQbDvwBEw4ODRITDf7VDg0kBA8VAq0VHR0U/ucBOw8dKRD+3P6+ERIVDw8OAVv+yRQPDwAAAAABAFsACwIfAwcAEwAANyY1ETQ2MhYVESEyFxYUBwYjISJpDhskGwE9Ew0NDg0S/pYSGg8UApkUHR0U/ZkPDygPDwAAAAEAP//1Ah8DBAAoAAAWJjURNDY7ATIXFhcbAT4BOwEyFxYVERQGIiY1EQMGBwYjIiYnAxEUBlobGxJNDgwLBE1NAxgOTRINDhskG2wGCwoPDhcEbRsLHRUCqhYdCgsO/uUBGw4VDw8V/VYVHR0UAmv+cxAKChQPAY79lRQdAAAAAQBN//UCEQMIAB8AADcmNRE0NjsBMhYXExE0NjIWFREUBwYrASInAxEUBwYiWw4bEiUMFwXwGyQbDg0SJhwM7w4NJAQPFQKtFR0PDf3JAiMUHR0V/VMVDw8bAjf93xQPDwAAAAIAQv/yAhwDBwAeADkAADYmPQE0PgE3Njc2MzIXFhceAR0BFAYHBgcGIyInJicSBh0BFBYXFhcWMjc2Nz4BNTQmJyYnJiIHBgdkIhEmHRsoJy81LS4eHiEhHR4uLTY1LS4eLBESEREdHkgeHREREhERER0eSh8dEKuLRwM2bWcnJxcYIiE4OItJA0eLOjkjIyMjOQGdYSwELmItLx4fHx4vLWMtMWQtLR0dHh4vAAAAAgBb//UCHwL8ABUAHwAANyY1ETQ3NjsBMhcWFRQHBisBERQGIhMVMzI3NTQnJiNpDg0NE6hoQ0QmPYx7GyQ/e5AFKSdFBA8VAqEVDw85OWxRNVj+6BYdAqP1dAdEGxsAAgBB//UCHwMIACMAQwAANyY9ATQ3Njc2OwEyFxYXHgEVFA8BFxYVFAYjIi8BBwYjIicmEgYdARAzMj8BJyY1NDc2MzIfATc2NTQnJicmIyIHBgdfHh4ZMzFBCDYrKxsbHTACQwocEhYKOAQ1Oz03OTIMhSAeBGAKDQwRFwpRAxQPDyEiLiUbGw3DUYMDgk1BLy8fHzU1gUeMZAJfDxEUHg5SBC4uLwGzTS0D/tgZA4sPEBQPDw52CkFLRjs8KSkWFSUAAAIAZ//1AggC+AAkADEAABYmNRE0NzY7ARYXFhcWFxYHBgcGDwETFhUUBwYjIicDIxEUBwYTFTcyNzY3NjU0JyYjghsNDROfKiMkHx4REQEBICFCBYoFDg0SFgueWw4NG242GhoKCiUiOAsdFQKeFg8OAQoLFRUnJjRfOjobAv77ChEUDw8NAT7+6BUPDwKk9QIaGRwcLDAWFgAAAAEAYf/wAf0DBwBRAAA3Jic1NDYzMhYXFhcWMzI3NjU0JyYnLgEnLgInJicmJyYnJjU0NzY3MzIXFhcWFRQHBiInJicmJyYjIgcGFRQXFhcWFx4BFx4CFRQGBwYjIqU6ChsSERoCBiEfKTAlJAcHDg0WEw45IhoaDxAQDwgHPDxPBkcyNBECDQ0mCwwJCgobMC0jJBUTJBAjIyceHSEXZksSEkkiMk0IFB0YEi0YGCAcOxgUEw4OEQoIHxUQERARFxcdHCNSNTYCJydDCAQUDw4NDhUYChoZGSotGBgUCxITFxcWLUQpVXQOAwAAAQA///UCHwL4ABgAABMmNDc2MyEyFxYUBwYrAREUBwYiJjURIyJNDg0NEwGGEw0NDg0SmA0NIhqYEgKiDyoPDg8PKQ8P/ZQUDw8dFQJsAAABAE3/8gIRAwgAIAAANyY1ETQ2MhYVERQXFjMyNzY1ETQ2MhYVERQHBgcGIicmZRgbJBsyHzc+JCYbJBsYGCw1ojUscDY9AfMVHR0V/g1RJhcmJkEB8xUdHRX+Dj02NiAoKCAAAQA+//UCIAMGABgAADcDNDc2MzIWFxsBPgEzMhcWFQMOASsBIibjpQ4OEg8ZA5iXBhcPEg4OpwMYDkIOGhkCvBQODxUO/YACgA8UDw8T/UQPFRYAAQA///QCHwMFAC8AADcmAzU0NjIXFhcSHwE3NjsBMhcWHwE3NhM0NjMyFh0BAgMOAQcjIi8BBwYrASInJn4xDhskDQ0BCxgDPwsdEQ4LDAQ+AxkKHBIRHA4yAxkQBTQNPj8KIBsRDAwb9AHFAhQbDg8U/r+4GfUhCgsO6xjBATEUHR0TAv5G/wAOFgEw6/giCwsAAAEAU//1AgsDBgAlAAAWJj0BNDcTAyY1NDYzMhcbATYzMhcWFRQHAxMWFRQGIyInCwEGI24bBaCaBRsSFAyJgRMVEg0OBZqgBRsSFQ2NhxIWCx0VAQ8KAUYBMgwOFh0N/u0BBRsPDxUODP7O/roKDxUdDQEj/ukaAAEAVv/0AggC+QAeAAATJjU0NjMyFxsBMz4BMzIXFhUUBxUDERQGIiY1EQMwWwUbEhkPhIQBAxgMEg0OBakaIhqpArAIDxUdG/7rARULEA8PFA8IAf6l/tEUHR0UAS8BWwAAAAABAFsABgICAv4AHgAANyY1NDcBIyInJjQ3NjMhMhcWFRQHASEyFxYUBiMhImkOBQEL4BINDg0NEwEoEg0OBf73AQMTDQ0bEv6zEhUPFA4KAkkPDykPDw8QFA0K/bcPDyodAAAAAQCl//gCHQMAABUAADcRNDYzITIWFAYrAREzMhYUBiMhIialGxIBHhIbGhPx8RIbGxL+4hIbJQKuEhsbJBv9rBskGxsAAAAAAQCA//gB8gMAABQAABM0NjMyFhcBMDMWFRQGIyInATAjJoAbEgwZBAEYAQMbEh4L/ugBAwLTExoQDP1SBwoSGxwCrgcAAAAAAQBV//gBzQMAABUAADY0NjsBESMiJjQ2MyEyFhURFAYjISJVGxLx8RMaGxIBHhIbGxL+4hITJBsCVBskGxsS/VISGwABAEQBdAIuAvsAGAAAEzU0NxM2NzIXEzAxFhUUBiMiLwEHBiMiJkQHzg8QGAnNCBsSEw2pqAwTEhsBoQoOCwErCgEM/swLDhIbDbKyDRoAAAEARP8ZAi7/kAAPAAAXNDYzITIWHQEUBiMhIiY1RBsSAZASGxsS/nASG50TGhsSHRIbGhMAAAAAAQC2AgcBuQMAABIAAAEnJjU0PwE2MzIfAhYUBwYjIgFvqRALDw0XDgoDnwsLDRURAhGODRUQDRIQCQKmDh4NDwAAAAACAE3/7wH6AiAADQA/AAAlIhUUFxYXMzI/ATUjJgcmNTQ3Njc2NzY3PgE7AScmJyYjIgcGIyImNTQ3NjMyFxYVERQGIiY9AQcGIyIjJiMmAVixHRodCFZGAQUr7zQNDBkaHR0pKUQyBgEGGRo5PC4MEBMaEU9TWzU8GyQbCERPAgYFBD/3YCEVFQJ6ATAC1C9FKh8fExMMDQYGBAY/GRonCRoTFg06MjpY/sUSHBoTEwc9AQUAAAAAAgBK//ACHwMFAB4AMgAAFiY1ETQ2MhYdATc2MzIXHgEXFRQHBiMiJyYvARUUBjcVFhcWMzI3Nj0BJicmIyIHBg8BZRsbJBsIQkoYIE9fATo5aBEIRDsIGxsUKysxJSFAAiUlNxsdQCUBDRsTArcSGxoT+QY2CBV/XweBVVMBBzAGDhMa0gExJSUXLYgJQDIzDh9NAQAAAAABAHX/7gHwAhoAKgAANyY1NDc2MzIXFhcWFxUUBiMiJyYjIgcGFRQzMjc2Nz4BMzIWHQEGBwYjIuVwNTVjExQwIyMLGRMfDAw+JRg9bBIPMQsDGRASGg4yNDwwBz7NeElHAwYbGyoLExokIw0fgsoEDCsOFRsSCzckJQAAAgA///ECEwMFAB4AMQAANyY1NDc2NzYzMh8BNTQ2MhYVERQGIiYvAQcGIyInJhMGFRQXFjMyNzY3PQImJyYjImwtLy5RHBhKRggbJBsbJBoBAQc/TxocVUA/IiI9HB5MGRUpKTAoVEpvZkVEFwg1BvgSGxoT/UkUGhoRCgYxBhQBnCxuTzs8DiBQAYUBLyMjAAAAAAIATf/xAhECIAAkAC0AADcmNTQ3NjczMhcWFRQGIyEXFhcWMzI3Njc2MzIWFRQHBiMiJyYTByEnJicmIyJ2KT49ZgZoOjsbEv7EAQclJEMREh4UDBITGy0tPzMmTA8CAQQBCxwcPGNgSmhzTUwCR0dzEhwGSyssAwQVDRoTKxQVDRoBOgcGPBwdAAAAAQBh//MB/QMCACMAABImNDY7ATU0MzIWFAYjIgcGBwYdATMyFhQGKwETFAYiJjUDI3saGxJxzhIbGxIsICAJBHwSGxsSfAYaIhoFcQG7GyQbDt8bJBsPECINNw4bJBv+ZhIcGxMBmgACAEL/QgIGAhsANABJAAA3JjU0NzYzMhcWHwE3PgEzMhYVERUWHQEUBwYjIicmJyMmNTQ2MzIXFhcWMzI3Nj0BBwYjIhMGFRQXFjMyNjc2NzY/AT0BJicjIns5OjlmDwg/MgcBARsREhsBOzxhTjAwFQEDGxIUEBEKFkVbGAoIPlJfCCAfHjocMRISDAsPAStVDUJbR2t4S0sBBikGChEYGxP+UQEJDBdeNzcTEzEHCxMaFRgFCjgXLDsHNwF8L09CLC0UFBMQEBkCVgF3BgAAAQBq//MB9AMFACkAABYmNRE0NjIWHQE3NjMyFxYXFh0BFAYiJjURNCc0Jy4CIyIHBg8BERQGhRsbJBsIOUo4KioPChskGwEEBBAdFTEgHxoBGw0aFAK3ExobEvUHMSMjNyVb/RIcHBIBCxsRERUXGRMhHzMB/tQSHAAAAAIAg//zAZQDBQAQACAAABImNDY7ATIWFREUBiImNREjNiY9ATQ2OwEyFh0BFAYrAZ4bGhO0ExobJBuHeBsbEi0SGxsSLQGoGyQbGhP+SxMaGxIBiNUaEy4TGhoTLhMaAAIAZ/9JAZQDBAAPADQAAAAmPQE0NjsBMhYdARQGKwEDIj0BNDc2MzIXFjMyNzY3NjURIyImNDY7ATIWFREUBwYHBgcGASgbGxItEhsbEi10Xw4PFQQQEAoICD0UCmUSGxoTkhMaERMdHSciAnwaEy4TGhoTLhMa/M0uCREKCwECAQQtFkkBdBskGxsS/lJVJCUbGgYFAAAAAQB7//MCBQMFACEAABYmNRE0NjIWFREzNzM2MzIWFRQPARcWFRQGIyIvASMVFAaWGxskGwq7AQ0REhsOqssMGxIVC9kKGw0aFAK3ExobEv6Asg4cEhQNpOUOERIcDfTUEhsAAAEAy//5AfADBQAYAAA3JjUTNDYzMhYVAxQXFhcWMzIWFAYjIicm9CkGGhMSGwcQES8PQBIbGxJTMC48N28B9RMbGxP+Cj8iJAcCGyQbDQ4AAQA///MCHwIbADIAABYmNRE0NjMyHwE3NjMyHwE3NjMyFhURFAYiJjURJiMiBwYVERQGIiY1ESYjIgcGFREUBlobGxIXDgMEIig4JAMEKTQ2RxskGwIhHxUUGiIaAiAgFRQbDRsTAckTGxUEAxktBQUtTzX+ihIcGxMBbzEvLif+5BIcGxMBbzEwLib+5BIcAAAAAAEATf/zAhECGwAjAAAWJjURNDYyFh0BNzYzMhcWHQEUBiImNRE0JyYjIgcGBxURFAZoGxskGwhDWGUxMRskGxcXPzsoKBgbDRwSAckSGxoSFAc9Q0N3/RIcGxMA/08oKiopOwH+7xIcAAAAAAIAP//wAh8CIAAPABsAADcmNTQ3NjMyFxYVFAcGIyIDBhQXFjI3NjQnJiKAQUFAb2xCQkJBbW4BJycmkiYnJyeQPk96e09PT1B6eU9PAaA2pjU1NTWmNjYAAAAAAgBK/0gCHwIbABUAMwAANxcWMzI3NjU0JyYjIgciIzEGBwYHFQImNRE0NjIWHQE3NjMyFxYXFhUUBwYrASYvARUUBqQBPlQPFWohIUQDBAMDLyUlFUAaGyQbCD5LGSFWLS09PGkRRjoIGssBgAUdlVQ2NwEDJCMvAf4BGxICdRMbGhMLBzQIFkZHb3dNTQQxB7cTGgAAAAACAD//SAITAhsAHAAvAAA3JjU0NzYzMh8BNTQ2MhYVERQGIiY9AQcGIyInJhMGFRQXFjMyNzY3PQImJyYjIm0uryEZSz4IGyQbGiYaCD5OHBtTPT8jIzwZIEIjFygpMSNQRmvmLAg0BwsSGxsT/YsTGhsStgc0BxMBoCiBSzY4DR1VAX0BMiQlAAAAAAEAmv/zAg4CGwAnAAAWJjURNDYzMhYdATc2MzIWFxQGIiYnNCcjIicmIgcGKwEGBwYdARQGtRsbEhMaCDdPPE8BGyQaASMBAgQFBwcGAwE3ICIbDRwSAckSGxkTCwc0TTgTGxoSIggBAgIBCTg3QOUTGwAAAQBn//AB/QIgAFEAADcmNTQ2MzIXFhcWMzI3NjU0JyYnJicuAicuAScmJyYnJjU0NzY7ARYXFhcWFRQGIyImJyYnIyIHBgcGFRQXFhceARcWFxYXFhcWFRQHBgcjImwFGxITEhUJITIwIyYPDgwKFgs5GhkaGRISCQgHBzg4Uh02LC0MAhsSEBkDCEAZGxMUEhQ+Dx8gIhwdDxAREQcHOjxYCYVFCA8TGhUYBBESEyYTDg0EBQYDDwgJCQ8ODg8OFhUZTiUmAxsbLwkDEhsTDiIEAwIODxswEgQHCAsKCQwLEREWFx1SJygCAAABAE3/8wHjAqYAMQAAEiY0NjsBNzQ2MhYVBzMyFhQGKwEHFBUWFx4COwEyNzYzMhYVFAcGIyInJicmPQE3I2gbGxJSARkkGAKWEhsbEpcDAQMEDRsUAhAcGw0SGyMlNCofLxQUA1ABshslG2wUGRsSbBwkHO0aDQwTExENCgobEiAQEQwTLi9MDOsAAAEATf/wAhECGAAoAAA3Jj0BNDYzMhYdARQXFhczMjc2NzERNDYyFhURFAYiJj0BBwYrASYnJlcKGxESHBUVQwU7KCYVGyQbGyQbCEFYBEgwMYEmS/gSHBwS6lwrLQIsKz8BChMbHBL+NxIcGhMSBzsBJyYAAQBC//MCHAIYAB0AABMmNTQ2MzIXEzMTMDU+ATMyFhUUBzEDDgErASImJ0UDGxIfC5EKkQMZDhIbA54DGQ1GDhcEAdsGCRMbH/5eAaIBDBIcEgkG/jYMEhENAAABAEH/8wIeAhgAKAAANwM0NzYzMhYXEzc+ATsBMh8BEz4BMzIXFh0BAw4BKwEiLwEHBisBIiZ4Nw4OEhEZAiorAxcPLCAKKikDGRESDg44AhkRMCAJMTELHTERGhsBzxMNDhcR/qSWDRMglgFcEBgNDRAE/jEQGB+wryAYAAAAAAEAYf/zAf0CGAAjAAAWJjU0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiN8GwiMgQcbEhcJdXUNExIbB4KMCRsSGAmAgQwUDRwSDg3OxgwOExsMtbUMHBIODMbODg0SHAy/vwwAAAEAP/9JAh8CGAAjAAAWJjU0NjsBMj8BAyY1NDYzMhcbATYzMhYVFAcBMDEGBwYjIidTFBsSEBYHa78GGxITDaicDhQSGwX+zQ0dHSMNDrEZEBMaEMsBVAkNExsM/tcBKQwbEw0K/bccEhMDAAEAYQAEAgUCBwAcAAA2Jj0BNDcBIyImNDYzITIWHQEUBxUBITIWFAYjIXsaDAEU6hIbGhMBKhMaDf7zAQQSGxoT/rYEGxIjDw4BPBomGhoTKBEMAf7KGyQbAAAAAQBE//gCLgMAADQAABI0NjMyNzY9ATQ3Njc2MzIWFAYrASIHBgcGFRQPARcWFRQXFhcWMzIWFAYjIicmNTQnJiMiRBsSVhcRJiE0NmESGxoTIjUdHxEUMQUEMgcIGhd4EhsbEpAtVRYYUBMBaCYbGxQ9CmM1Lg0OGyQbBgYYGkl7JQMFMWE3Hh8RDhskGxsznzsXGAAAAAABAQz/ZAFmAwAACwAABRE0NjIWFREUBiImAQwbJBsaJhpvA0ITGhsS/L4SGxoAAAABAET/+AIuAwAAMwAANjQ2OwEyNzY3NjU0PwEnJjU0JyYnJiMiJjQ2MzIXFhcWFRQXFjsBMhYUBiMiBhUUBwYjIkQbEiE9HyIOCjIEBTENDScVYRMaGxJhNjQhJRIXUgQSGxsSUC9UK5ISEiYaCQkgGUhhMQUDJXs1HyELBxomGg4NLjNlRhUbHCQaLzufMxsAAAAAAQBSAhwCIALNACsAABM1Njc2MzIzFjMWFxYzMjc+ATMyFhUUBxUOASMiIyYjJicmIyIHMQ4BIyImUgonJzACBQQDLj4rICAIAxoPEhsCCkwwAgUEAy4+KiAgCQMZEBIbAlUKMB8fAQUvIicPFRsSAwUBMD8BBDAhJg8VGwAAAAABAnIB9QLWAq8ACwAAATU0NjIWHQEUBiImAnIeKB4eKB4CJ1YVHR4UVhQeHQAAAAABAgYB9QKgAq8ADwAAATQ2MzIfARYVFAYjIi8BJgIGHhQbCTwIHhQTET0HAn0VHQ5fDQ4UHg9eCwAAAAACAbYCVALWAwIACwAXAAABNTQ2MhYdARQGIiY3NTQ2MhYdARQGIiYBth4oHh0qHbweKB4dKh0ChkoVHR4UShQeHRVKFB4eFEoUHh4AAQAO/4cAcgK1AAsAABcRNDYyFhURFAYiJg4eKB4dKh1HAsoUHh4U/TYUHh4AAAAAAAAOAK4AAQAAAAAAAABDAIgAAQAAAAAAAQAEANYAAQAAAAAAAgAHAOsAAQAAAAAAAwApAUcAAQAAAAAABAANAY0AAQAAAAAABQAKAbEAAQAAAAAABgAEAcYAAwABBAkAAACGAAAAAwABBAkAAQAIAMwAAwABBAkAAgAOANsAAwABBAkAAwBSAPMAAwABBAkABAAaAXEAAwABBAkABQAUAZsAAwABBAkABgAIAbwATQBhAHQAdABoAGUAdwAgAFMAawBhAGwAYQAgACgAMgAwADEAMQApADsAIABiAGEAcwBlAGQAIABvAG4AIABjAG8AZABlACAAYgB5ACAATgBvAHIAYgBlAHIAdAAgAFMAYwBoAHcAYQByAHoAIAAoADEAOQA4ADYALAAgADIAMAAxADEAKQAATWF0dGhldyBTa2FsYSAoMjAxMSk7IGJhc2VkIG9uIGNvZGUgYnkgTm9yYmVydCBTY2h3YXJ6ICgxOTg2LCAyMDExKQAATwBDAFIAQgAAT0NSQgAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABPAEMAUgAgAEIAIABSAGUAZwB1AGwAYQByACAAOgAgADIANwAtADkALQAyADAAMQAyAABGb250Rm9yZ2UgMi4wIDogT0NSIEIgUmVndWxhciA6IDI3LTktMjAxMgAATwBDAFIAIABCACAAUgBlAGcAdQBsAGEAcgAAT0NSIEIgUmVndWxhcgAAVgBlAHIAcwBpAG8AbgAgADIAIAAAVmVyc2lvbiAyIAAATwBDAFIAQgAAT0NSQgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAAAAQACAAMABAAFAAYABwAIAAkAtwALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAtgBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQECAQMBBAEFD3F1b3Rlc2luZ2xlLmFsdAlncmF2ZS5hbHQMcXVvdGVkYmwuYWx0B2Jhci5hbHQAAAAAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQABAGUAAQAEAAAAAgAAAAEAAAAKAEAAjgACREZMVAAObGF0bgAiAAQAAAAA//8ABQAAAAEAAgADAAQABAAAAAD//wAFAAAAAQACAAMABAAFYWFsdAAgc3MwMQAmc3MwMgAsc3MwMwAyc3MwNAA4AAAAAQAAABgAAQABABYAAQACABQAAQADABIAAQAEAAABAAAAAQEAAAECAAABAwAFAAwAFAAcACQALAADAAAAAQAoAAEAAAABAFIAAQAAAAEAVgABAAAAAQBaAAEAAAABAF4AAQAmAAQADgAUABoAIAACAAUAZAACAAoAYgACAEMAYwACAF8AZQABAAQABQAKAEMAXwABAAYAIAABAAEAQwABAAYAXwABAAEABQABAAYAWAABAAEACgABAAYABgABAAEAXwABAAAACgAsAC4AAkRGTFQADmxhdG4AGAAEAAAAAP//AAAABAAAAAD//wAAAAAAAAAAAAEAAAAAzD2izwAAAADWBtqRAAAAANoDIf0=");const cM={toCanvas:eM,toSVG:rM,render:sM,raw:nM,drawingCanvas:m0,drawingSVG:Uy,fixupOptions:Py,loadFont:oM,FontLib:ai,BWIPJS_VERSION:ZR,BWIPP_VERSION:XR};function dM({value:a,format:n="code128",width:i=2,height:o=50,showText:d=!0}){const u=ie.useRef(null),[f,h]=ie.useState(null),[p,m]=ie.useState(!1);ie.useEffect(()=>{if(!(!a||!u.current))try{const w={code128:"code128",code39:"code39",ean13:"ean13",ean8:"ean8",upca:"upca",upce:"upce",qrcode:"qrcode",datamatrix:"datamatrix"}[n.toLowerCase()]||"code128";cM.toCanvas(u.current,{bcid:w,text:a,scale:3,height:o/3,includetext:d,textxalign:"center",textsize:10,textfont:"Helvetica",paddingwidth:10,paddingheight:10,backgroundcolor:"ffffff"}),h(null)}catch(y){console.error("Barcode generation error:",y),h("Gagal generate barcode: "+y.message)}},[a,n,i,o,d]);const x=()=>{if(!u.current)return;const y=document.createElement("a");y.download=`barcode-${a}.png`,y.href=u.current.toDataURL("image/png"),y.click()},b=async()=>{try{await navigator.clipboard.writeText(a),m(!0),setTimeout(()=>m(!1),2e3)}catch(y){console.error("Copy error:",y)}};return a?f?l.jsx("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 text-center text-sm",children:f}):l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:l.jsx("canvas",{ref:u})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:b,className:"btn btn-sm btn-outline flex items-center gap-1",children:[p?l.jsx(D1,{size:16,className:"text-green-600"}):l.jsx(LD,{size:16}),p?"Copied!":"Copy"]}),l.jsxs("button",{onClick:x,className:"btn btn-sm btn-primary flex items-center gap-1",children:[l.jsx(Zo,{size:16}),"Download"]})]})]}):l.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center text-gray-500",children:"Masukkan kode untuk generate barcode"})}const uM=window.location.hostname!=="localhost",fM=uM?"":"http://localhost:3001";async function hM(a,n){const i=localStorage.getItem("shopee_partner_id"),o=localStorage.getItem("shopee_partner_key"),d=localStorage.getItem("shopee_shop_id"),u=localStorage.getItem("shopee_access_token");if(!i||!o||!d||!u)return{success:!1,error:"Shopee not configured"};if(!a.shopeeItemId)return{success:!1,error:"Product not from Shopee"};try{return await(await fetch(`${fM}/api/shopee/update-product`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partner_id:i,partner_key:o,shop_id:d,access_token:u,item_id:a.shopeeItemId,model_id:a.shopeeModelId||null,price:n.price,stock:n.stock,sku:n.sku,action:"update_all"})})).json()}catch(f){return{success:!1,error:f.message}}}const Wl=()=>`SJA${Math.floor(1e5+Math.random()*9e5)}`,Jl=()=>Math.floor(1e8+Math.random()*9e8).toString();function pM(){const[a,n]=ie.useState(""),[i,o]=ie.useState("all"),[d,u]=ie.useState("all"),[f,h]=ie.useState(!1),[p,m]=ie.useState(null),[x,b]=ie.useState(!1),[y,w]=ie.useState(!1),[v,A]=ie.useState(!1),[j,E]=ie.useState(!1),[k,N]=ie.useState(null),[B,I]=ie.useState({}),[D,T]=ie.useState(!1),[M,Q]=ie.useState([]),[F,P]=ie.useState(!1),{products:L,categories:_,addProduct:H,updateProduct:Y,deleteProduct:de}=Ws(),{user:$}=Di(),q=()=>{const ae=`nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
Contoh Produk,SKU001,123456789,Makanan,pcs,15000,10000,100,10,Deskripsi produk
`,fe=new Blob([ae],{type:"text/csv;charset=utf-8;"}),Me=document.createElement("a");Me.href=URL.createObjectURL(fe),Me.download="template-import-produk.csv",Me.click()},re=ae=>{const fe=ae.target.files[0];if(!fe)return;const Me=new FileReader;Me.onload=Le=>{try{const ze=Le.target.result.split(`
`).filter(vt=>vt.trim()),qe=ze[0].split(",").map(vt=>vt.trim().toLowerCase()),ht=[];for(let vt=1;vt<ze.length;vt++){const dt=ze[vt].split(",").map(wt=>wt.trim());if(dt.length>=2){const wt={name:dt[qe.indexOf("nama")]||dt[0],sku:dt[qe.indexOf("sku")]||Wl(),barcode:dt[qe.indexOf("barcode")]||Jl(),category:dt[qe.indexOf("kategori")]||"Lainnya",unit:dt[qe.indexOf("satuan")]||"pcs",price:parseFloat(dt[qe.indexOf("harga_jual")])||0,cost:parseFloat(dt[qe.indexOf("harga_beli")])||0,stock:parseInt(dt[qe.indexOf("stok")])||0,minStock:parseInt(dt[qe.indexOf("stok_minimum")])||5,description:dt[qe.indexOf("deskripsi")]||""};ht.push(wt)}}Q(ht),T(!0)}catch(Xe){alert("Format file tidak valid: "+Xe.message)}},Me.readAsText(fe),ae.target.value=""},ce=async()=>{P(!0);let ae=0;try{for(const fe of M)await H({...fe,code:`PRD${String(L.length+ae+1).padStart(3,"0")}`,source:"local"},$==null?void 0:$.id,$==null?void 0:$.name),ae++;alert(`Berhasil import ${ae} produk!`),T(!1),Q([])}catch(fe){alert("Gagal import: "+fe.message)}finally{P(!1)}},J=()=>{let ae=`kode,nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
`;L.forEach(Le=>{ae+=`${Le.code||""},${Le.name||""},${Le.sku||""},${Le.barcode||""},${Le.category||""},${Le.unit||""},${Le.price||0},${Le.cost||0},${Le.stock||0},${Le.minStock||0},"${(Le.description||"").replace(/"/g,'""')}"
`});const fe=new Blob([ae],{type:"text/csv;charset=utf-8;"}),Me=document.createElement("a");Me.href=URL.createObjectURL(fe),Me.download=`produk-export-${new Date().toISOString().split("T")[0]}.csv`,Me.click()},oe=ae=>{A(!1),n(ae);const fe=L.find(Me=>Me.barcode===ae);fe?alert(`Produk ditemukan: ${fe.name}`):confirm(`Barcode ${ae} tidak ditemukan. Buat produk baru?`)&&(m(null),h(!0))},ue=ae=>{N(ae),E(!0)},Re=L.filter(ae=>{const fe=ae.name.toLowerCase().includes(a.toLowerCase())||ae.sku&&ae.sku.toLowerCase().includes(a.toLowerCase())||ae.code&&ae.code.toLowerCase().includes(a.toLowerCase()),Me=i==="all"||ae.category===i;let Le=d==="all";return d==="local"?Le=!["shopee","lazada","tokopedia","tiktok"].includes(ae.source):d==="marketplace"?Le=["shopee","lazada","tokopedia","tiktok"].includes(ae.source):d==="shopee"?Le=ae.source==="shopee":d==="lazada"?Le=ae.source==="lazada":d==="tokopedia"?Le=ae.source==="tokopedia":d==="tiktok"&&(Le=ae.source==="tiktok"),fe&&Me&&Le}).reduce((ae,fe)=>{const Me=fe.parentItemId||fe.parentName||fe.id;return ae[Me]||(ae[Me]={parent:null,variants:[]}),fe.isVariant&&(fe.parentItemId||fe.parentName)?(ae[Me].variants.push(fe),ae[Me].parent||(ae[Me].parent={id:Me,name:fe.parentName||fe.name.split(" - ")[0],image:fe.image,category:fe.category,source:fe.source,shopeeItemId:fe.parentItemId||fe.shopeeItemId})):ae[Me].parent=fe,ae},{}),te=Object.entries(Re).map(([ae,fe])=>{if(fe.variants.length>0){const Le=fe.variants.reduce((qe,ht)=>qe+(ht.stock||0),0),Xe=Math.min(...fe.variants.map(qe=>qe.price||0)),ze=Math.max(...fe.variants.map(qe=>qe.price||0));return{...fe.parent,isGrouped:!0,variantCount:fe.variants.length,variants:fe.variants,totalStock:Le,priceRange:Xe===ze?Xe:{min:Xe,max:ze}}}return{...fe.parent,isGrouped:!1,variants:[]}}),Be=ae=>{I(fe=>({...fe,[ae]:!fe[ae]}))},Se=L.filter(ae=>ae.source==="shopee").length,Oe=L.filter(ae=>ae.source==="lazada").length,Ue=L.filter(ae=>ae.source==="tokopedia").length,be=L.filter(ae=>ae.source==="tiktok").length,$e=Se+Oe+Ue+be,Fe=L.filter(ae=>!["shopee","lazada","tokopedia","tiktok"].includes(ae.source)).length,Ke=ae=>{p?(Y(p.id,ae),h(!1),m(null)):H(ae)},Je=ae=>{m(ae),h(!0)},rt=ae=>{confirm("Hapus produk ini?")&&de(ae)};return l.jsxs("div",{className:"p-6 space-y-6",children:[v&&P1&&l.jsx(yT,{onScan:oe,onClose:()=>A(!1)}),j&&k&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Barcode Produk"}),l.jsx("button",{onClick:()=>E(!1),className:"text-gray-500",children:l.jsx(Ks,{size:24})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("p",{className:"font-medium",children:k.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",k.sku]})]}),l.jsx(dM,{value:k.barcode||k.sku,format:"code128"})]})}),D&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Preview Import"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:[M.length," produk akan diimport"]})]}),l.jsx("button",{onClick:()=>T(!1),className:"text-gray-500",children:l.jsx(Ks,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"#"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Nama"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Harga"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Stok"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map((ae,fe)=>{var Me;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:fe+1}),l.jsx("td",{className:"px-3 py-2 text-sm font-medium",children:ae.name}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:ae.sku}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:ae.category}),l.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["Rp ",(Me=ae.price)==null?void 0:Me.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-2 text-sm text-right",children:ae.stock})]},fe)})})]})}),l.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[l.jsx("button",{onClick:()=>T(!1),className:"btn btn-secondary flex-1",children:"Batal"}),l.jsx("button",{onClick:ce,disabled:F,className:"btn btn-success flex-1 disabled:opacity-50",children:F?"Memproses...":`Import ${M.length} Produk`})]})]})}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Master Produk"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Database produk lokal & Marketplace (tersimpan di perangkat)"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("button",{onClick:J,className:"btn btn-outline flex items-center gap-1",title:"Export ke CSV",children:[l.jsx(Zo,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Export"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",id:"csv-import",accept:".csv",onChange:re,className:"hidden"}),l.jsxs("label",{htmlFor:"csv-import",className:"btn btn-outline flex items-center gap-1 cursor-pointer",title:"Import dari CSV",children:[l.jsx(ru,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Import"})]})]}),l.jsx("button",{onClick:q,className:"btn btn-outline flex items-center gap-1",title:"Download Template CSV",children:l.jsx($D,{size:18})})]}),P1&&l.jsxs("button",{onClick:()=>A(!0),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(OD,{size:20}),"Scan"]}),l.jsxs("button",{onClick:()=>{m(null),h(!0)},className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Os,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Tambah"})," Produk"]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a,onChange:ae=>n(ae.target.value),placeholder:"Cari produk (SKU, nama, barcode)...",className:"w-full pl-10 input"})]}),l.jsxs("select",{value:i,onChange:ae=>o(ae.target.value),className:"input w-full md:w-48",children:[l.jsx("option",{value:"all",children:"Semua Kategori"}),_.map(ae=>l.jsx("option",{value:ae,children:ae},ae))]}),l.jsxs("select",{value:d,onChange:ae=>u(ae.target.value),className:"input w-full md:w-52",children:[l.jsxs("option",{value:"all",children:["Semua (",L.length,")"]}),l.jsxs("option",{value:"local",children:["Lokal (",Fe,")"]}),l.jsxs("option",{value:"marketplace",children:["Marketplace (",$e,")"]}),Se>0&&l.jsxs("option",{value:"shopee",children:[" Shopee (",Se,")"]}),Oe>0&&l.jsxs("option",{value:"lazada",children:[" Lazada (",Oe,")"]}),Ue>0&&l.jsxs("option",{value:"tokopedia",children:[" Tokopedia (",Ue,")"]}),be>0&&l.jsxs("option",{value:"tiktok",children:[" TikTok (",be,")"]})]})]})}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-14",children:"Foto"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-24",children:"SKU"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-20",children:"Kategori"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-16",children:"Tipe"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Modal"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Harga"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Margin"}),l.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-16",children:"Stok"}),l.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Status"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-16",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(ae=>l.jsxs(l.Fragment,{children:[l.jsxs("tr",{className:`hover:bg-gray-50 ${ae.isGrouped?"cursor-pointer":""}`,children:[l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[ae.isGrouped&&l.jsx("button",{onClick:()=>Be(ae.id),className:"text-gray-500 hover:text-gray-700",children:B[ae.id]?l.jsx(UD,{size:16}):l.jsx(cy,{size:16})}),l.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:[ae.image?l.jsx("img",{src:ae.image,alt:ae.name,className:"w-full h-full object-cover",onError:fe=>{fe.target.style.display="none",fe.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${ae.image?"hidden":"flex"}`,children:l.jsx(tu,{size:16})})]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:ae.sku||ae.code,children:ae.isGrouped?l.jsxs("span",{className:"text-gray-400 italic text-xs",children:[ae.variantCount," varian"]}):l.jsx("span",{className:"truncate block",children:ae.sku||(ae.source==="shopee"?"-":ae.code)})}),l.jsx("td",{className:"px-2 py-2",onClick:()=>ae.isGrouped&&Be(ae.id),children:l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:ae.name}),ae.source==="shopee"&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(v1,{size:10}),"Shopee"]}),ae.isGrouped&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:[ae.variantCount," Varian"]}),!ae.isGrouped&&l.jsxs("button",{onClick:fe=>{fe.stopPropagation(),Je(ae)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Produk",children:[l.jsx(Vo,{size:12}),"Edit"]})]})})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge badge-info text-xs",children:ae.category})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:`badge text-xs ${ae.isPackage?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:ae.isPackage?"Paket":"Satuan"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600",children:ae.isGrouped?"-":`Rp ${(ae.costPrice||ae.cost||0).toLocaleString("id-ID")}`}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold",children:ae.isGrouped?typeof ae.priceRange=="object"?l.jsxs("span",{className:"text-sm",children:["Rp ",ae.priceRange.min.toLocaleString("id-ID")," - ",ae.priceRange.max.toLocaleString("id-ID")]}):`Rp ${(ae.priceRange||0).toLocaleString("id-ID")}`:`Rp ${(ae.price||0).toLocaleString("id-ID")}`}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:ae.isGrouped?l.jsx("span",{className:"text-gray-400",children:"-"}):l.jsxs("div",{children:[l.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",((ae.price||0)-(ae.costPrice||ae.cost||0)).toLocaleString("id-ID")]}),(ae.costPrice||ae.cost)>0&&l.jsxs("p",{className:"text-xs text-gray-500",children:[(((ae.price||0)-(ae.costPrice||ae.cost))/(ae.costPrice||ae.cost)*100).toFixed(1),"%"]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:l.jsx("span",{className:`font-semibold text-xs ${(ae.isGrouped?ae.totalStock:ae.stock)<=(ae.minStock||5)?"text-red-600":(ae.isGrouped?ae.totalStock:ae.stock)<=(ae.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:ae.isGrouped?ae.totalStock:ae.stock||0})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:(ae.isGrouped?ae.totalStock:ae.stock)<=(ae.minStock||5)?l.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):l.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[ae.barcode&&!ae.isGrouped&&l.jsx("button",{onClick:()=>ue(ae),className:"text-purple-600 hover:text-purple-700 p-1",title:"Lihat Barcode",children:l.jsx(rT,{size:14})}),!ae.isGrouped&&l.jsx("button",{onClick:()=>Je(ae),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Produk",children:l.jsx(Vo,{size:14})}),ae.source!=="shopee"&&!ae.isGrouped&&l.jsx("button",{onClick:()=>rt(ae.id),className:"text-red-600 hover:text-red-700 p-1",title:"Hapus Produk",children:l.jsx(Vn,{size:14})}),ae.source==="shopee"&&l.jsx("a",{href:`https://shopee.co.id/product/${ae.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 p-1",title:"Lihat di Shopee",children:l.jsx(h3,{size:14})})]})})]},ae.id),ae.isGrouped&&B[ae.id]&&ae.variants.map(fe=>l.jsxs("tr",{className:"bg-gray-50/50 hover:bg-gray-100",children:[l.jsx("td",{className:"px-2 py-2 pl-8",children:l.jsxs("div",{className:"w-8 h-8 rounded overflow-hidden bg-gray-100 flex items-center justify-center",children:[fe.image?l.jsx("img",{src:fe.image,alt:fe.name,className:"w-full h-full object-cover",onError:Me=>{Me.target.style.display="none",Me.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${fe.image?"hidden":"flex"}`,children:l.jsx(tu,{size:12})})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-500 truncate max-w-[96px]",title:fe.sku,children:fe.sku||"-"}),l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-400 text-xs",children:""}),l.jsx("p",{className:"text-xs text-gray-700",children:fe.variantName||fe.name}),l.jsxs("button",{onClick:()=>Je(fe),className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Varian",children:[l.jsx(Vo,{size:10}),"Edit"]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge badge-info text-xs",children:fe.category})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge bg-gray-100 text-gray-600 text-xs",children:"Varian"})}),l.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600 text-xs",children:["Rp ",(fe.costPrice||fe.cost||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold text-xs",children:["Rp ",(fe.price||0).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("span",{className:"font-semibold text-green-600 text-xs",children:["Rp ",((fe.price||0)-(fe.costPrice||fe.cost||0)).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:l.jsx("span",{className:`font-semibold text-xs ${fe.stock<=(fe.minStock||5)?"text-red-600":fe.stock<=(fe.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:fe.stock||0})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:fe.stock<=(fe.minStock||5)?l.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):l.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx("button",{onClick:()=>Je(fe),className:"text-blue-500 hover:text-blue-600 p-1",title:"Edit Varian",children:l.jsx(Vo,{size:14})}),fe.source==="shopee"&&l.jsx("a",{href:`https://shopee.co.id/product/${fe.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 p-1",title:"Lihat di Shopee",children:l.jsx(h3,{size:14})})]})})]},fe.id))]}))})]})})}),f&&l.jsx(mM,{product:p,categories:_,onClose:()=>{h(!1),m(null)},onSubmit:Ke,onManageCategories:()=>b(!0),onManageUnits:()=>w(!0)}),x&&l.jsx(xM,{categories:_,onClose:()=>b(!1)}),y&&l.jsx(vM,{onClose:()=>w(!1)})]})}function mM({product:a,categories:n,onClose:i,onSubmit:o,onManageCategories:d,onManageUnits:u}){const{products:f,units:h}=Ws(),[p,m]=ie.useState(!1),[x,b]=ie.useState(!1),[y,w]=ie.useState(null),[v,A]=ie.useState(a||{sku:Wl(),name:"",category:n[0],costPrice:"",price:"",stock:"",minStock:"",unit:"pcs",barcode:Jl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),[j,E]=ie.useState(!1),[k,N]=ie.useState(""),[B,I]=ie.useState(!1),D=$=>$.replace(/\b\w/g,q=>q.toUpperCase()),T=$=>$.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),M=$=>parseInt($.toString().replace(/\D/g,""))||0,Q=($,q)=>{const re=$.target.files[0];if(re){const ce=new FileReader;ce.onloadend=()=>{const J=[...v.photos||[]];J[q]=ce.result,A({...v,photos:J})},ce.readAsDataURL(re)}},F=$=>{const q=[...v.photos||[]];q[$]=null,A({...v,photos:q})},P=async $=>{$.preventDefault();const q=v.hasVariants&&v.variants?v.variants.reduce((te,Be)=>te+parseInt(Be.stock||0),0):0,re=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((te,Be)=>{const Se=parseInt(Be.stock||0),Oe=parseFloat(Be.costPrice||0);return te+Se*Oe},0)/(q||1):0,ce=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((te,Be)=>{const Se=parseInt(Be.stock||0),Oe=parseFloat(Be.price||0);return te+Se*Oe},0)/(q||1):0;let J=parseFloat(v.costPrice)||0,oe=parseFloat(v.price)||0,ue=parseInt(v.stock)||0,he=parseInt(v.minStock)||0;v.isPackage&&v.packageItems&&v.packageItems.length>0&&(J=v.packageItems.reduce((te,Be)=>{const Se=f.find(Oe=>Oe.id===Be.id);return te+((Se==null?void 0:Se.costPrice)||0)*Be.qty},0)),v.hasVariants&&v.variants&&v.variants.length>0&&(ue=q,J=re,oe=ce,he=de);const Re={...v,costPrice:J,price:oe,stock:ue,minStock:he};if(p&&(a!=null&&a.shopeeItemId)){b(!0),w({type:"info",text:"Menyinkronkan ke Shopee..."});const te=await hM(a,{price:oe,stock:ue,sku:v.sku});b(!1),te.success?w({type:"success",text:" Berhasil sync ke Shopee!"}):w({type:"error",text:` Gagal sync: ${te.error}`}),setTimeout(()=>w(null),3e3)}o(Re),a||(A({sku:Wl(),name:"",category:n[0]||"",costPrice:"",price:"",stock:"",minStock:"",unit:h[0]||"pcs",barcode:Jl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),N(""))},L=v.isPackage&&v.packageItems?v.packageItems.reduce(($,q)=>{const re=f.find(ce=>ce.id===q.id);return $+((re==null?void 0:re.costPrice)||0)*q.qty},0):0,_=v.hasVariants&&v.variants?v.variants.reduce(($,q)=>$+parseInt(q.stock||0),0):0,H=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce(($,q)=>$+parseFloat(q.costPrice||0)*parseInt(q.stock||0),0)/_:0,Y=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce(($,q)=>$+parseFloat(q.price||0)*parseInt(q.stock||0),0)/_:0,de=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce(($,q)=>$+parseInt(q.minStock||0),0):0;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Produk":"Tambah Produk Baru"}),(a==null?void 0:a.source)==="shopee"&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(v1,{size:12}),"Shopee"]})]}),l.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),y&&l.jsx("div",{className:`mx-6 mt-4 p-3 rounded-lg text-sm ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":y.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:y.text}),(a==null?void 0:a.shopeeItemId)&&l.jsxs("div",{className:"mx-6 mt-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:$=>m($.target.checked),className:"w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ru,{size:18,className:"text-orange-600"}),l.jsx("span",{className:"font-medium text-orange-800",children:"Sync perubahan ke Shopee"})]})]}),l.jsx("p",{className:"text-xs text-orange-600 mt-2 ml-8",children:"Harga, stok, dan SKU akan diperbarui di Shopee saat menyimpan"})]}),l.jsxs("form",{onSubmit:P,className:"p-6 space-y-4 overflow-y-auto flex-1",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Produk *"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:v.sku,onChange:$=>A({...v,sku:$.target.value}),className:"input flex-1",placeholder:"SJA123456",required:!0}),l.jsx("button",{type:"button",onClick:()=>A({...v,sku:Wl()}),className:"btn btn-secondary",title:"Generate SKU",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: SJA + 6 angka"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:v.barcode,onChange:$=>A({...v,barcode:$.target.value}),className:"input flex-1",placeholder:"123456789"}),l.jsx("button",{type:"button",onClick:()=>A({...v,barcode:Jl()}),className:"btn btn-secondary",title:"Generate Barcode",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 digit angka"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Produk *"}),l.jsx("input",{type:"text",value:v.name,onChange:$=>A({...v,name:D($.target.value)}),className:"input",placeholder:"Nama Lengkap Produk",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Produk *"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",checked:!v.isPackage,onChange:()=>A({...v,isPackage:!1,packageItems:[]}),className:"w-4 h-4"}),l.jsx("span",{children:"Produk Satuan"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",checked:v.isPackage,onChange:()=>A({...v,isPackage:!0}),className:"w-4 h-4"}),l.jsx("span",{children:"Produk Paket"})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.isPackage?"Paket berisi beberapa produk bundling":"Produk dijual satuan"})]}),v.isPackage&&l.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Isi Paket Bundling"}),l.jsxs("button",{type:"button",onClick:()=>E(!j),className:"btn btn-primary btn-sm",children:[l.jsx(Os,{size:16}),"Tambah Produk"]})]}),j&&l.jsxs("div",{className:"mb-4 bg-white rounded-lg p-3 border",children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",value:k,onChange:$=>N($.target.value),placeholder:"Cari produk untuk ditambahkan ke paket...",className:"input w-full pl-10 text-sm"})]}),l.jsx("div",{className:"overflow-x-auto max-h-64 overflow-y-auto border rounded",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"SKU"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Nama Produk"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Modal"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Jual"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y",children:f.filter($=>!$.isPackage&&$.id!==(a==null?void 0:a.id)).filter($=>!k||$.name.toLowerCase().includes(k.toLowerCase())||$.sku&&$.sku.toLowerCase().includes(k.toLowerCase())||$.code&&$.code.toLowerCase().includes(k.toLowerCase())).map($=>{var re;const q=(re=v.packageItems)==null?void 0:re.find(ce=>ce.id===$.id);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:$.sku||$.code}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:$.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Stok: ",$.stock," ",$.unit]})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:"text-xs badge badge-info",children:$.category})}),l.jsxs("td",{className:"px-3 py-2 text-right text-gray-600",children:["Rp ",($.costPrice||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-3 py-2 text-right font-semibold",children:["Rp ",$.price.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-2",children:q?l.jsx("input",{type:"number",min:"1",value:q.qty,onChange:ce=>{const J=v.packageItems.map(oe=>oe.id===$.id?{...oe,qty:parseInt(ce.target.value)||1}:oe);A({...v,packageItems:J})},className:"input input-sm w-16 text-center",onClick:ce=>ce.stopPropagation()}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),l.jsx("td",{className:"px-3 py-2 text-center",children:q?l.jsx("button",{type:"button",onClick:()=>{A({...v,packageItems:v.packageItems.filter(ce=>ce.id!==$.id)})},className:"text-red-600 hover:text-red-700",title:"Hapus dari paket",children:l.jsx(Vn,{size:16})}):l.jsx("button",{type:"button",onClick:()=>{A({...v,packageItems:[...v.packageItems||[],{id:$.id,name:$.name,sku:$.sku||$.code,costPrice:$.costPrice||0,price:$.price,qty:1}]})},className:"text-green-600 hover:text-green-700",title:"Tambah ke paket",children:l.jsx(Os,{size:16})})})]},$.id)})})]})})]}),v.packageItems&&v.packageItems.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-purple-900",children:["Produk dalam Paket (",v.packageItems.length,"):"]}),v.packageItems.map(($,q)=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:$.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[$.sku,"  ",$.qty,"x"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right text-sm",children:[l.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",(($.costPrice||0)*$.qty).toLocaleString("id-ID")]}),l.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",($.price*$.qty).toLocaleString("id-ID")]})]}),l.jsx("button",{type:"button",onClick:()=>{A({...v,packageItems:v.packageItems.filter((re,ce)=>ce!==q)})},className:"text-red-600 hover:text-red-700",children:l.jsx(Ks,{size:16})})]})]},$.id)),l.jsxs("div",{className:"bg-purple-100 p-4 rounded border border-purple-300 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-purple-900",children:"Total Modal Paket:"}),l.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["Rp ",L.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-purple-900",children:"Total Nilai Jual:"}),l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["Rp ",v.packageItems.reduce(($,q)=>$+q.price*q.qty,0).toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-purple-300",children:[l.jsx("span",{className:"font-bold text-purple-900",children:"Margin Paket:"}),l.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",(v.packageItems.reduce(($,q)=>$+q.price*q.qty,0)-L).toLocaleString("id-ID")]})]}),l.jsx("p",{className:"text-xs text-purple-700 mt-2",children:" Anda bisa set harga jual paket berbeda dari total nilai produk"})]})]}):l.jsxs("div",{className:"text-center py-6 text-gray-500",children:[l.jsx(en,{size:48,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"Belum ada produk dalam paket"}),l.jsx("p",{className:"text-xs",children:'Klik "Tambah Produk" untuk memulai'})]})]}),l.jsxs("div",{className:"border-2 border-dashed border-indigo-300 rounded-lg p-4 bg-indigo-50",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"hasVariants",checked:v.hasVariants,onChange:$=>{A({...v,hasVariants:$.target.checked,variants:$.target.checked?v.variants:[]})},className:"w-4 h-4"}),l.jsx("label",{htmlFor:"hasVariants",className:"font-semibold text-indigo-900",children:"Produk Memiliki Varian"})]})}),v.hasVariants&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{type:"button",onClick:()=>I(!0),className:"btn btn-primary btn-sm",children:[l.jsx(Os,{size:16}),"Tambah Varian"]}),v.variants&&v.variants.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-indigo-900",children:["Varian Tersedia (",v.variants.length,"):"]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:v.variants.map(($,q)=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:$.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",$.sku,"  Barcode: ",$.barcode]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right text-sm",children:[l.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",$.costPrice.toLocaleString("id-ID")]}),l.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",$.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs text-blue-600",children:["Stok: ",$.stock]})]}),l.jsx("button",{type:"button",onClick:()=>{A({...v,variants:v.variants.filter((re,ce)=>ce!==q)})},className:"text-red-600 hover:text-red-700",children:l.jsx(Ks,{size:16})})]})]},q))}),l.jsx("div",{className:"bg-indigo-100 p-4 rounded border border-indigo-300",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-indigo-900",children:"Total Stok Semua Varian:"}),l.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[v.variants.reduce(($,q)=>$+parseInt(q.stock||0),0)," pcs"]})]})})]}):l.jsxs("div",{className:"text-center py-6 text-gray-500 bg-white rounded border border-dashed",children:[l.jsx(en,{size:48,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"Belum ada varian"}),l.jsx("p",{className:"text-xs",children:'Klik "Tambah Varian" untuk memulai'})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Foto Produk (Maksimal 3)"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[0,1,2].map($=>{var q;return l.jsx("div",{className:"relative",children:(q=v.photos)!=null&&q[$]?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:v.photos[$],alt:`Foto ${$+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-300"}),l.jsx("button",{type:"button",onClick:()=>F($),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Ks,{size:16})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(tu,{size:32,className:"text-gray-400 mb-2"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Upload Foto ",$+1]}),l.jsx("input",{type:"file",accept:"image/*",onChange:re=>Q(re,$),className:"hidden"})]})},$)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Kategori *"}),l.jsx("button",{type:"button",onClick:d,className:"text-xs text-primary hover:underline",children:"Kelola Kategori"})]}),l.jsx("select",{value:v.category,onChange:$=>A({...v,category:$.target.value}),className:"input",required:!0,children:n.map($=>l.jsx("option",{value:$,children:$},$))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Satuan *"}),l.jsx("button",{type:"button",onClick:u,className:"text-xs text-primary hover:underline",children:"Kelola Satuan"})]}),l.jsxs("select",{value:v.unit,onChange:$=>A({...v,unit:$.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"pcs",children:"Pcs"}),l.jsx("option",{value:"kg",children:"Kg"}),l.jsx("option",{value:"liter",children:"Liter"}),l.jsx("option",{value:"box",children:"Box"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"lusin",children:"Lusin"}),l.jsx("option",{value:"gross",children:"Gross"}),l.jsx("option",{value:"roll",children:"Roll"}),l.jsx("option",{value:"porsi",children:"Porsi"}),l.jsx("option",{value:"gelas",children:"Gelas"}),l.jsx("option",{value:"paket",children:"Paket"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal *",v.isPackage&&l.jsx("span",{className:"text-purple-600 text-xs ml-2",children:"(Otomatis dari isi paket)"}),v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:v.isPackage?T(L):v.hasVariants&&v.variants&&v.variants.length>0?T(Math.round(H)):T(v.costPrice||""),onChange:$=>A({...v,costPrice:M($.target.value)}),className:"input pl-10",placeholder:"0",disabled:v.isPackage||v.hasVariants&&v.variants&&v.variants.length>0,required:!0})]}),!v.isPackage&&!v.hasVariants&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Harga beli/modal produk"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual *",v.isPackage&&v.costPrice&&l.jsxs("span",{className:"text-green-600 text-xs ml-2",children:["(Margin: Rp ",(parseFloat(v.price||0)-L).toLocaleString("id-ID"),")"]}),v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:v.hasVariants&&v.variants&&v.variants.length>0?T(Math.round(Y)):T(v.price||""),onChange:$=>A({...v,price:M($.target.value)}),className:"input pl-10",placeholder:"0",disabled:v.hasVariants&&v.variants&&v.variants.length>0,required:!0})]}),!v.isPackage&&!v.hasVariants&&v.costPrice&&v.price&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Margin: Rp ",(parseFloat(v.price)-parseFloat(v.costPrice)).toLocaleString("id-ID")," ","(",((parseFloat(v.price)-parseFloat(v.costPrice))/parseFloat(v.costPrice)*100).toFixed(1),"%)"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok *",v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),l.jsx("input",{type:"number",value:v.hasVariants&&v.variants&&v.variants.length>0?_:v.stock,onChange:$=>{v.hasVariants&&v.variants&&v.variants.length>0||A({...v,stock:$.target.value})},className:`input ${v.hasVariants&&v.variants&&v.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:v.hasVariants&&v.variants&&v.variants.length>0,required:!(v.hasVariants&&v.variants&&v.variants.length>0)})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Minimum *",v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),l.jsx("input",{type:"number",value:v.hasVariants&&v.variants&&v.variants.length>0?de:v.minStock,onChange:$=>{v.hasVariants&&v.variants&&v.variants.length>0||A({...v,minStock:$.target.value})},className:`input ${v.hasVariants&&v.variants&&v.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:v.hasVariants&&v.variants&&v.variants.length>0,required:!(v.hasVariants&&v.variants&&v.variants.length>0)})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary flex items-center justify-center gap-2",disabled:x,children:x?l.jsxs(l.Fragment,{children:[l.jsx(x1,{size:18,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[p&&(a==null?void 0:a.shopeeItemId)&&l.jsx(ru,{size:18}),a?"Update Produk":"Simpan Produk",p&&(a==null?void 0:a.shopeeItemId)&&" + Sync"]})}),l.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]}),B&&l.jsx(gM,{productName:v.name||"Produk Baru",onClose:()=>I(!1),onAdd:$=>{A({...v,variants:[...v.variants||[],$]}),alert("Varian berhasil ditambahkan!")}})]})})}function xM({categories:a,onClose:n}){const[i,o]=ie.useState(a),[d,u]=ie.useState(""),{addCategory:f,removeCategory:h}=Ws(),p=()=>{d.trim()&&(f(d.trim()),o([...i,d.trim()]),u(""))},m=x=>{confirm(`Hapus kategori "${x}"?`)&&(h(x),o(i.filter(b=>b!==x)))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Kategori"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Nama kategori baru...",className:"input flex-1"}),l.jsx("button",{onClick:p,className:"btn btn-primary",children:l.jsx(Os,{size:20})})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:i.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:x}),l.jsx("button",{onClick:()=>m(x),className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:18})})]},x))}),l.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function vM({onClose:a}){const{units:n,addUnit:i,removeUnit:o}=Ws(),[d,u]=ie.useState(""),f=()=>{d.trim()&&!n.includes(d.trim())&&(i(d.trim()),u(""))},h=p=>{confirm(`Hapus satuan "${p}"?`)&&o(p)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Satuan"}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:p=>u(p.target.value),onKeyPress:p=>p.key==="Enter"&&f(),placeholder:"Nama satuan baru...",className:"input flex-1"}),l.jsx("button",{onClick:f,className:"btn btn-primary",children:l.jsx(Os,{size:20})})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:p}),l.jsx("button",{onClick:()=>h(p),className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:16})})]},p))})}),l.jsx("button",{onClick:a,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function gM({onClose:a,onAdd:n,productName:i}){const[o,d]=ie.useState({name:"",sku:Wl(),barcode:Jl(),costPrice:"",price:"",stock:"",minStock:""}),u=f=>{f.preventDefault(),n({...o,costPrice:parseFloat(o.costPrice)||0,price:parseFloat(o.price)||0,stock:parseInt(o.stock)||0,minStock:parseInt(o.minStock)||0}),d({name:"",sku:Wl(),barcode:Jl(),costPrice:"",price:"",stock:"",minStock:""})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Tambah Varian Produk"}),l.jsx("p",{className:"text-sm text-gray-600",children:i})]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nama Varian ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:o.name,onChange:f=>d({...o,name:capitalizeWords(f.target.value)}),placeholder:"Contoh: Hitam - XL, Rasa Coklat, 500ml",className:"input",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tips: Gabungkan warna/ukuran/rasa dalam satu nama varian"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Varian"}),l.jsx("input",{type:"text",value:o.sku,onChange:f=>d({...o,sku:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),l.jsx("input",{type:"text",value:o.barcode,onChange:f=>d({...o,barcode:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:formatRupiah(o.costPrice||""),onChange:f=>d({...o,costPrice:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:formatRupiah(o.price||""),onChange:f=>d({...o,price:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Awal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:o.stock,onChange:f=>d({...o,stock:f.target.value}),className:"input",placeholder:"0",required:!0,min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stok Minimum"}),l.jsx("input",{type:"number",value:o.minStock,onChange:f=>d({...o,minStock:f.target.value}),className:"input",placeholder:"0",min:"0"})]})]}),o.costPrice&&o.price&&l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-blue-900",children:"Margin Varian:"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rp ",(parseFloat(o.price)-parseFloat(o.costPrice)).toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[((parseFloat(o.price)-parseFloat(o.costPrice))/parseFloat(o.costPrice)*100).toFixed(1),"%"]})]})]})}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:a,className:"btn btn-secondary flex-1",children:"Batal"}),l.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",children:[l.jsx(Os,{size:20}),"Tambah Varian"]})]})]})]})})}function bM(){const[a,n]=ie.useState("overview"),{products:i,updateStock:o,getLowStockProducts:d,stockHistory:u}=Ws(),{user:f}=Di(),h=d(),p=i.reduce((x,b)=>x+b.price*b.stock,0),m=[{id:"overview",label:"Overview"},{id:"adjustment",label:"Penyesuaian Stok"},{id:"history",label:"Riwayat Stok"},{id:"opname",label:"Stock Opname"},{id:"transfer",label:"Transfer Stok"}];return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Stok"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor dan kelola stok barang"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Item"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:i.length})]}),l.jsx(en,{className:"text-primary",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Stok"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",(p/1e6).toFixed(1),"M"]})]}),l.jsx(a2,{className:"text-success",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Stok Rendah"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:h.length})]}),l.jsx(eu,{className:"text-warning",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Stok"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:i.reduce((x,b)=>x+b.stock,0)})]}),l.jsx(en,{className:"text-info",size:40})]})})]}),l.jsx("div",{className:"border-b",children:l.jsx("div",{className:"flex gap-4",children:m.map(x=>l.jsx("button",{onClick:()=>n(x.id),className:`px-4 py-2 font-medium border-b-2 transition-colors ${a===x.id?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"}`,children:x.label},x.id))})}),a==="overview"&&l.jsx(wM,{products:i}),a==="adjustment"&&l.jsx(yM,{products:i,updateStock:o,user:f}),a==="history"&&l.jsx(AM,{stockHistory:u||[]}),a==="opname"&&l.jsx(kM,{products:i}),a==="transfer"&&l.jsx(jM,{products:i})]})}function wM({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Stok Produk"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min Stok"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:a.map(n=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("p",{className:"font-medium",children:n.name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.code})]}),l.jsx("td",{className:"px-6 py-4",children:n.category}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:[n.stock," ",n.unit]}),l.jsxs("td",{className:"px-6 py-4 text-right text-gray-600",children:[n.minStock," ",n.unit]}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:["Rp ",(n.price*n.stock).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 text-center",children:n.stock<=n.minStock?l.jsx("span",{className:"badge badge-danger",children:"Rendah"}):n.stock<=n.minStock*2?l.jsx("span",{className:"badge badge-warning",children:"Perhatian"}):l.jsx("span",{className:"badge badge-success",children:"Aman"})})]},n.id))})]})})]})}function yM({products:a,updateStock:n,user:i}){const[o,d]=ie.useState(""),[u,f]=ie.useState(""),[h,p]=ie.useState("add"),[m,x]=ie.useState(""),[b,y]=ie.useState("adjustment"),w=[{value:"adjustment",label:"Penyesuaian Manual"},{value:"purchase",label:"Pembelian/Restock"},{value:"return",label:"Retur Barang"},{value:"damage",label:"Barang Rusak/Expired"},{value:"sync_marketplace",label:"Sinkronisasi Marketplace"}],v=A=>{var j;A.preventDefault(),!(!o||!u)&&(n(o,parseInt(u),h,b,m||((j=w.find(E=>E.value===b))==null?void 0:j.label),i==null?void 0:i.id),alert("Stok berhasil disesuaikan"),d(""),f(""),x(""))};return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Penyesuaian Stok Manual"}),l.jsxs("form",{onSubmit:v,className:"space-y-4 max-w-2xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pilih Produk"}),l.jsxs("select",{value:o,onChange:A=>d(A.target.value),className:"input",required:!0,children:[l.jsx("option",{value:"",children:"-- Pilih Produk --"}),a.map(A=>l.jsxs("option",{value:A.id,children:[A.name," - Stok: ",A.stock," ",A.unit]},A.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operasi"}),l.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"input",children:[l.jsx("option",{value:"add",children:"Tambah Stok"}),l.jsx("option",{value:"subtract",children:"Kurangi Stok"}),l.jsx("option",{value:"set",children:"Set Stok"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah"}),l.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"input",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Penyesuaian"}),l.jsx("select",{value:b,onChange:A=>y(A.target.value),className:"input",children:w.map(A=>l.jsx("option",{value:A.value,children:A.label},A.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan (Opsional)"}),l.jsx("textarea",{value:m,onChange:A=>x(A.target.value),className:"input",rows:"3",placeholder:"Catatan tambahan..."})]}),l.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(x1,{size:20}),"Sesuaikan Stok"]})]})]})}function AM({stockHistory:a}){const[n,i]=ie.useState("all"),[o,d]=ie.useState(""),u={sale:{label:"Penjualan",color:"text-red-600 bg-red-50"},purchase:{label:"Pembelian",color:"text-green-600 bg-green-50"},adjustment:{label:"Penyesuaian",color:"text-blue-600 bg-blue-50"},sync_marketplace:{label:"Sync Marketplace",color:"text-purple-600 bg-purple-50"},return:{label:"Retur",color:"text-orange-600 bg-orange-50"},damage:{label:"Rusak/Expired",color:"text-gray-600 bg-gray-100"}},f=a.filter(h=>{var x,b;const p=n==="all"||h.type===n,m=!o||((x=h.productName)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))||((b=h.productSku)==null?void 0:b.toLowerCase().includes(o.toLowerCase()));return p&&m});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(GD,{size:20}),"Riwayat Perubahan Stok"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," total records"]})]}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("input",{type:"text",placeholder:"Cari produk...",value:o,onChange:h=>d(h.target.value),className:"input flex-1 max-w-xs"}),l.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"input",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"sale",children:"Penjualan"}),l.jsx("option",{value:"purchase",children:"Pembelian"}),l.jsx("option",{value:"adjustment",children:"Penyesuaian"}),l.jsx("option",{value:"sync_marketplace",children:"Sync Marketplace"}),l.jsx("option",{value:"return",children:"Retur"})]})]}),f.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada riwayat perubahan stok"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Waktu"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Lama"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Perubahan"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Baru"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catatan"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:f.slice(0,100).map(h=>{const p=u[h.type]||{label:h.type,color:"text-gray-600 bg-gray-50"};return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(h.createdAt).toLocaleString("id-ID")}),l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("p",{className:"font-medium text-gray-900",children:h.productName}),l.jsx("p",{className:"text-xs text-gray-500",children:h.productSku})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.color}`,children:p.label})}),l.jsx("td",{className:"px-4 py-3 text-right text-sm",children:h.oldStock}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`font-medium ${h.change>0?"text-green-600":h.change<0?"text-red-600":"text-gray-600"}`,children:[h.change>0?"+":"",h.change]})}),l.jsx("td",{className:"px-4 py-3 text-right font-medium",children:h.newStock}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:h.note||"-"})]},h.id)})})]})})]})}function kM({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stock Opname"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur stock opname untuk penghitungan fisik stok akan segera hadir."}),l.jsx("button",{className:"btn btn-primary",children:"Mulai Stock Opname"})]})}function jM({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transfer Stok Antar Gudang"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur transfer stok untuk multi-gudang akan segera hadir."}),l.jsx("button",{className:"btn btn-primary",children:"Transfer Stok"})]})}const g3=O1(U1(a=>({suppliers:[],purchases:[],addSupplier:n=>{a(i=>({suppliers:[...i.suppliers,{...n,id:Date.now()}]}))},updateSupplier:(n,i)=>{a(o=>({suppliers:o.suppliers.map(d=>d.id===n?{...d,...i}:d)}))},deleteSupplier:n=>{a(i=>({suppliers:i.suppliers.filter(o=>o.id!==n)}))},addPurchase:n=>{a(i=>({purchases:[...i.purchases,{...n,id:`PO${String(i.purchases.length+1).padStart(3,"0")}`}]}))},updatePurchase:(n,i)=>{a(o=>({purchases:o.purchases.map(d=>d.id===n?{...d,...i}:d)}))},deletePurchase:n=>{a(i=>({purchases:i.purchases.filter(o=>o.id!==n)}))}}),{name:"purchase-storage"}));function NM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(!1),[d,u]=ie.useState(null),{purchases:f,suppliers:h,addPurchase:p,updatePurchase:m,deletePurchase:x,addSupplier:b}=g3(),{products:y,updateStock:w}=Ws(),{user:v}=Di(),A=()=>{u(null),n(!0)},j=I=>{u(I),n(!0)},E=I=>{confirm("Hapus pembelian ini?")&&x(I)},k=I=>{d?m(d.id,I):(p(I),I.items.forEach(D=>{y.find(M=>M.id===D.productId)&&w(D.productId,D.qty,"add","purchase",`PO: ${I.poNumber||"Manual"}`,v==null?void 0:v.id)})),n(!1),u(null)},N=I=>({pending:"badge badge-warning",received:"badge badge-success",partial:"badge badge-info",cancelled:"badge badge-danger"})[I]||"badge",B=I=>({pending:"Pending",received:"Diterima",partial:"Sebagian",cancelled:"Dibatalkan"})[I]||I;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pembelian"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola pembelian barang dari supplier"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(p3,{size:20}),"Kelola Supplier"]}),l.jsxs("button",{onClick:A,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Os,{size:20}),"Buat Purchase Order"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchase Order"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:f.filter(I=>I.status==="pending").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Diterima"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:f.filter(I=>I.status==="received").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Supplier"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:h.length})]})]}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:f.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[l.jsx(en,{size:48,className:"mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg font-medium",children:"Belum ada purchase order"}),l.jsx("p",{className:"text-sm mt-1",children:'Klik "Buat Purchase Order" untuk menambah pembelian baru'})]})}):f.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:I.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(I.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(p3,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium",children:I.supplierName})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(en,{size:16,className:"text-gray-400"}),l.jsxs("span",{children:[I.items.length," item"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-primary",children:["Rp ",I.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:N(I.status),children:B(I.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>j(I),className:"text-primary hover:text-blue-700",children:l.jsx(Vo,{size:18})}),l.jsx("button",{onClick:()=>E(I.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:18})})]})]},I.id))})]})})}),a&&l.jsx(SM,{purchase:d,suppliers:h,products:y,onClose:()=>{n(!1),u(null)},onSubmit:k}),i&&l.jsx(EM,{suppliers:h,onClose:()=>o(!1),onAdd:b})]})}function SM({purchase:a,suppliers:n,products:i,onClose:o,onSubmit:d}){const[u,f]=ie.useState(a||{supplier:null,items:[],date:new Date().toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ie.useState(""),[m,x]=ie.useState(1),[b,y]=ie.useState(!1),w=ie.useRef(null);ie.useEffect(()=>{function I(D){w.current&&!w.current.contains(D.target)&&y(!1)}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const v=i.filter(I=>h&&(I.name.toLowerCase().includes(h.toLowerCase())||I.sku&&I.sku.toLowerCase().includes(h.toLowerCase()))),A=I=>{if(!I)return;const D=u.items.find(T=>T.productId===I.id);f(D?{...u,items:u.items.map(T=>T.productId===I.id?{...T,qty:T.qty+m}:T)}:{...u,items:[...u.items,{productId:I.id,name:I.name,sku:I.sku,costPrice:I.costPrice||0,qty:m}]}),p(""),y(!1),x(1)},j=(I,D)=>{f({...u,items:u.items.map(T=>T.productId===I?{...T,qty:parseInt(D)||1}:T)})},E=(I,D)=>{f({...u,items:u.items.map(T=>T.productId===I?{...T,costPrice:parseFloat(D)||0}:T)})},k=I=>{f({...u,items:u.items.filter(D=>D.productId!==I)})},N=()=>u.items.reduce((I,D)=>I+D.costPrice*D.qty,0),B=I=>{if(I.preventDefault(),!u.supplier){alert("Pilih supplier terlebih dahulu");return}if(u.items.length===0){alert("Tambahkan minimal 1 produk");return}const D=n.find(T=>T.id===parseInt(u.supplier));d({...u,supplierName:(D==null?void 0:D.name)||"",total:N()})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Purchase Order":"Buat Purchase Order Baru"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Os,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:B,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supplier *"}),l.jsxs("select",{value:u.supplier||"",onChange:I=>f({...u,supplier:I.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"",children:"Pilih Supplier"}),n.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal *"}),l.jsx("input",{type:"date",value:u.date,onChange:I=>f({...u,date:I.target.value}),className:"input",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tambah Produk"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 relative",ref:w,children:[l.jsx("input",{type:"text",value:h,onChange:I=>{p(I.target.value),y(!0)},onFocus:()=>y(!0),placeholder:"Cari produk (nama atau SKU)...",className:"input"}),b&&v.length>0&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:v.map(I=>{var D;return l.jsxs("button",{type:"button",onClick:()=>A(I),className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b last:border-b-0",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",I.sku," | Modal: Rp ",(D=I.costPrice)==null?void 0:D.toLocaleString("id-ID")]})]},I.id)})})]}),l.jsx("input",{type:"number",value:m,onChange:I=>x(parseInt(I.target.value)||1),min:"1",className:"input w-24",placeholder:"Qty"})]})]}),u.items.length>0&&l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:u.items.map(I=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsx("div",{className:"text-xs text-gray-500",children:I.sku})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:I.qty,onChange:D=>j(I.productId,D.target.value),className:"input-sm w-20 text-center",min:"1"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:I.costPrice,onChange:D=>E(I.productId,D.target.value),className:"input-sm w-32 text-right",min:"0",step:"100"})}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",(I.costPrice*I.qty).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>k(I.productId),className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:16})})})]},I.productId))}),l.jsx("tfoot",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"3",className:"px-4 py-3 text-right font-bold",children:"TOTAL:"}),l.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-primary",children:["Rp ",N().toLocaleString("id-ID")]}),l.jsx("td",{})]})})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),l.jsx("textarea",{value:u.notes,onChange:I=>f({...u,notes:I.target.value}),className:"input",rows:"2",placeholder:"Catatan tambahan..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:u.status,onChange:I=>f({...u,status:I.target.value}),className:"input",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"partial",children:"Sebagian Diterima"}),l.jsx("option",{value:"received",children:"Diterima"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]})]}),l.jsxs("div",{className:"flex gap-3 p-6 border-t",children:[l.jsx("button",{type:"button",onClick:B,className:"flex-1 btn btn-primary",children:a?"Update Purchase Order":"Buat Purchase Order"}),l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})})}function EM({suppliers:a,onClose:n,onAdd:i}){const[o,d]=ie.useState(!1),[u,f]=ie.useState({name:"",contact:"",email:"",address:""}),h=p=>{p.preventDefault(),i(u),f({name:"",contact:"",email:"",address:""}),d(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Supplier"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Os,{size:24,className:"rotate-45"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:o?l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Supplier *"}),l.jsx("input",{type:"text",value:u.name,onChange:p=>f({...u,name:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kontak *"}),l.jsx("input",{type:"text",value:u.contact,onChange:p=>f({...u,contact:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:p=>f({...u,email:p.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),l.jsx("textarea",{value:u.address,onChange:p=>f({...u,address:p.target.value}),className:"input",rows:"2"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan"}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 btn btn-secondary",children:"Batal"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>d(!0),className:"w-full btn btn-primary flex items-center justify-center gap-2",children:[l.jsx(Os,{size:20}),"Tambah Supplier Baru"]}),l.jsx("div",{className:"space-y-3",children:a.map(p=>l.jsxs("div",{className:"card",children:[l.jsx("h4",{className:"font-bold text-lg",children:p.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",p.contact," |  ",p.email]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[" ",p.address]})]},p.id))})]})}),l.jsx("div",{className:"p-6 border-t",children:l.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Tutup"})})]})})}function CM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(null),[d,u]=ie.useState([{id:"SO001",date:"2025-12-06",customer:{id:2,name:"Budi Santoso"},items:[{id:1,name:"Indomie Goreng",sku:"SJA123456",costPrice:2500,price:3e3,minPrice:2875,qty:100,isPackage:!1},{id:2,name:"Aqua 600ml",sku:"SJA234567",costPrice:3e3,price:3500,minPrice:3450,qty:50,isPackage:!1}],subtotal:475e3,discount:25e3,total:45e4,status:"pending",dueDate:"2025-12-13",notes:"Pengiriman ke alamat kantor"}]),{products:f}=Ws(),{customers:h}=m1(),{storeInfo:p}=Ru(),m=()=>{o(null),n(!0)},x=A=>{o(A),n(!0)},b=A=>{confirm("Hapus sales order ini?")&&u(d.filter(j=>j.id!==A))},y=A=>{const j=window.open("","","width=800,height=600"),E=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice - ${A.id}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 40px; }
          .invoice-header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .logo-section { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px; }
          .logo { width: 80px; height: 80px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border-radius: 12px; display: flex; align-items: center; justify-center; box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3); overflow: hidden; }
          .logo img { width: 100%; height: 100%; object-fit: contain; }
          .logo svg { width: 50px; height: 50px; color: white; }
          .company-info { text-align: center; }
          .company-info h2 { font-size: 24px; color: #1e293b; font-weight: bold; margin-bottom: 4px; }
          .company-info p { font-size: 13px; color: #64748b; line-height: 1.5; }
          .invoice-header h1 { font-size: 28px; color: #2563eb; margin-bottom: 5px; }
          .invoice-header p { color: #666; }
          .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }
          .info-section h3 { font-size: 14px; color: #666; margin-bottom: 8px; }
          .info-section p { font-size: 16px; margin-bottom: 4px; }
          .invoice-id { font-size: 20px; font-weight: bold; color: #2563eb; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th { background: #f3f4f6; padding: 12px; text-align: left; font-size: 12px; color: #666; text-transform: uppercase; border-bottom: 2px solid #e5e7eb; }
          td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
          .text-right { text-align: right; }
          .text-center { text-align: center; }
          .total-section { margin-top: 20px; float: right; width: 300px; }
          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }
          .total-row.grand { font-size: 18px; font-weight: bold; border-top: 2px solid #333; padding-top: 12px; margin-top: 8px; }
          .notes { margin-top: 40px; padding: 15px; background: #f9fafb; border-left: 4px solid #2563eb; }
          .notes h4 { font-size: 14px; margin-bottom: 8px; }
          .footer { margin-top: 60px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 20px; }
          @media print {
            body { padding: 20px; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="invoice-header">
          <div class="logo-section">
            <div class="logo">
              ${p.logo?`<img src="${p.logo}" alt="Logo" />`:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 7h-9"></path>
                  <path d="M14 17H5"></path>
                  <circle cx="17" cy="17" r="3"></circle>
                  <circle cx="7" cy="7" r="3"></circle>
                </svg>`}
            </div>
            <div class="company-info">
              <h2>${p.name}</h2>
              <p>${p.address}<br/>
              Telp: ${p.phone} | Email: ${p.email}</p>
            </div>
          </div>
          <h1>INVOICE</h1>
          <p>Sales Order</p>
        </div>
        
        <div class="invoice-info">
          <div class="info-section">
            <h3>Invoice No:</h3>
            <p class="invoice-id">${A.id}</p>
            <h3 style="margin-top: 15px;">Tanggal:</h3>
            <p>${new Date(A.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
          <div class="info-section" style="text-align: right;">
            <h3>Pelanggan:</h3>
            <p style="font-weight: bold; font-size: 18px;">${A.customer.name}</p>
            <h3 style="margin-top: 15px;">Jatuh Tempo:</h3>
            <p>${new Date(A.dueDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 50px;">No</th>
              <th>SKU</th>
              <th>Nama Produk</th>
              <th class="text-center" style="width: 80px;">Qty</th>
              <th class="text-right" style="width: 150px;">Harga</th>
              <th class="text-right" style="width: 150px;">Subtotal</th>
            </tr>
          </thead>
          <tbody>
            ${A.items.map((k,N)=>`
              <tr>
                <td class="text-center">${N+1}</td>
                <td style="font-family: monospace; font-size: 12px;">${k.sku}</td>
                <td>${k.name}${k.isPackage?' <span style="background: #dbeafe; color: #1e40af; padding: 2px 6px; border-radius: 4px; font-size: 10px;">PAKET</span>':""}</td>
                <td class="text-center">${k.qty}</td>
                <td class="text-right">Rp ${k.price.toLocaleString("id-ID")}</td>
                <td class="text-right" style="font-weight: bold;">Rp ${(k.price*k.qty).toLocaleString("id-ID")}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="total-section">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>Rp ${A.subtotal.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row">
            <span>Diskon:</span>
            <span style="color: #ef4444;">- Rp ${A.discount.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row grand">
            <span>TOTAL:</span>
            <span style="color: #16a34a;">Rp ${A.total.toLocaleString("id-ID")}</span>
          </div>
        </div>

        <div style="clear: both;"></div>

        ${A.notes?`
          <div class="notes">
            <h4>Catatan:</h4>
            <p>${A.notes}</p>
          </div>
        `:""}

        <div class="footer">
          <p>Terima kasih atas kepercayaan Anda!</p>
          <p style="margin-top: 5px;">Dicetak pada: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 250);
          }
        <\/script>
      </body>
      </html>
    `;j.document.write(E),j.document.close()},w=A=>({pending:"badge badge-warning",confirmed:"badge badge-info",processing:"badge badge-info",delivered:"badge badge-success",cancelled:"badge badge-danger"})[A]||"badge",v=A=>({pending:"Pending",confirmed:"Dikonfirmasi",processing:"Diproses",delivered:"Terkirim",cancelled:"Dibatalkan"})[A]||A;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Penjualan Member"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola sales order dan penjualan ke pelanggan member"})]}),l.jsxs("button",{onClick:m,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Os,{size:20}),"Buat Sales Order"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales Order"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:d.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:d.filter(A=>A.status==="pending").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Diproses"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-info",children:d.filter(A=>A.status==="processing").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:d.filter(A=>A.status==="delivered").length})]})]}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. SO"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jatuh Tempo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:d.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:A.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(A.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(K0,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium",children:A.customer.name})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(en,{size:16,className:"text-gray-400"}),l.jsxs("span",{children:[A.items.length," item"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-green-600",children:["Rp ",A.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_D,{size:16,className:"text-gray-400"}),l.jsx("span",{children:new Date(A.dueDate).toLocaleDateString("id-ID")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:w(A.status),children:v(A.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>y(A),className:"text-green-600 hover:text-green-700",title:"Print Invoice",children:l.jsx(s2,{size:18})}),l.jsx("button",{onClick:()=>x(A),className:"text-primary hover:text-blue-700",children:l.jsx(Vo,{size:18})}),l.jsx("button",{onClick:()=>b(A.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:18})})]})]},A.id))})]})})}),a&&l.jsx(IM,{sale:i,products:f,customers:h.filter(A=>A.type!=="walk-in"),onClose:()=>{n(!1),o(null)},onSubmit:A=>{i?(u(d.map(j=>j.id===A.id?A:j)),n(!1),o(null)):u([...d,{...A,id:`SO${String(d.length+1).padStart(3,"0")}`}])}})]})}function IM({sale:a,products:n,customers:i,onClose:o,onSubmit:d}){var F;const[u,f]=ie.useState(a||{orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ie.useState(""),[m,x]=ie.useState(1),[b,y]=ie.useState(""),[w,v]=ie.useState(!1),A=ie.useRef(null);ie.useEffect(()=>{function P(L){A.current&&!A.current.contains(L.target)&&v(!1)}return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const j=n.filter(P=>{var L;return b&&(P.name.toLowerCase().includes(b.toLowerCase())||P.sku&&P.sku.toLowerCase().includes(b.toLowerCase())||P.code&&P.code.toLowerCase().includes(b.toLowerCase())||((L=P.barcode)==null?void 0:L.includes(b)))}),E=(P,L)=>L&&L.customPrices&&L.customPrices[P.id]?L.customPrices[P.id]:P.price,k=P=>{if(!P)return;if(u.items.find(_=>_.id===P.id))f({...u,items:u.items.map(_=>_.id===P.id?{..._,qty:_.qty+m}:_)});else{const _=P.costPrice||0,H=Math.ceil(_*1.15),Y=E(P,u.customer);f({...u,items:[...u.items,{id:P.id,name:P.name,sku:P.sku||P.code,costPrice:_,price:Y,minPrice:H,qty:m,isPackage:P.isPackage}]})}y(""),v(!1),x(1)},N=(P,L)=>{f({...u,items:u.items.map(_=>_.id===P?L<_.minPrice?(alert(`Harga tidak boleh kurang dari Rp ${_.minPrice.toLocaleString("id-ID")} (Modal + 15%)`),_):{..._,price:parseFloat(L)||_.price}:_)})},B=(P,L)=>{f({...u,items:u.items.map(_=>_.id===P?{..._,qty:parseInt(L)||1}:_)})},I=P=>{f({...u,items:u.items.filter(L=>L.id!==P)})},D=u.items.reduce((P,L)=>P+L.price*L.qty,0),T=u.discount||0,M=D-T,Q=P=>{if(P.preventDefault(),!u.customer||u.items.length===0){alert("Pilih customer dan tambahkan minimal 1 produk");return}d({...u,subtotal:D,total:M}),a||(f({orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],status:"pending",notes:""}),y(""),x(1))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Sales Order":"Buat Sales Order Baru"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Os,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:Q,className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)] space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pelanggan Member *"}),l.jsxs("select",{value:((F=u.customer)==null?void 0:F.id)||"",onChange:P=>{const L=i.find(_=>_.id===parseInt(P.target.value));f({...u,customer:L})},className:"input",required:!0,children:[l.jsx("option",{value:"",children:"-- Pilih Pelanggan --"}),i.map(P=>l.jsxs("option",{value:P.id,children:[P.name," (",P.type.toUpperCase(),")"]},P.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Pesanan"}),l.jsx("input",{type:"text",value:u.orderNumber,onChange:P=>f({...u,orderNumber:P.target.value}),placeholder:"Contoh: PO-2025-001",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:u.status,onChange:P=>f({...u,status:P.target.value}),className:"input",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),l.jsx("option",{value:"processing",children:"Diproses"}),l.jsx("option",{value:"delivered",children:"Terkirim"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal Order"}),l.jsx("input",{type:"date",value:u.date,onChange:P=>f({...u,date:P.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jatuh Tempo"}),l.jsx("input",{type:"date",value:u.dueDate,onChange:P=>f({...u,dueDate:P.target.value}),className:"input",required:!0})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Tambah Produk"}),l.jsxs("div",{className:"flex gap-2 relative",ref:A,children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",size:20}),l.jsx("input",{type:"text",value:b,onChange:P=>{y(P.target.value),v(!0)},onFocus:()=>b&&v(!0),placeholder:"Cari produk (nama, kode, atau barcode)...",className:"input w-full pl-10"}),w&&j.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",children:j.map(P=>l.jsx("button",{type:"button",onClick:()=>k(P),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:P.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:P.sku||P.code}),l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("p",{className:"text-xs text-gray-500",children:P.category}),P.isPackage&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]})]}),l.jsxs("div",{className:"text-right ml-4",children:[l.jsxs("p",{className:"font-semibold text-primary",children:["Rp ",P.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Stok: ",P.stock," ",P.unit]})]})]})},P.id))}),w&&b&&j.length===0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-50",children:l.jsx("p",{className:"text-gray-500 text-center",children:"Produk tidak ditemukan"})})]}),l.jsx("input",{type:"number",value:m,onChange:P=>x(parseInt(P.target.value)||1),min:"1",placeholder:"Qty",className:"input w-20 text-center"})]}),b&&l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Ketik untuk mencari, klik produk untuk menambahkan"})]}),u.items.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-3",children:["Items (",u.items.length,")"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Produk"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Satuan"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Subtotal"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:u.items.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:P.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:P.sku}),P.isPackage&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: Rp ",P.minPrice.toLocaleString("id-ID")," (Modal + 15%)"]})]})}),l.jsx("td",{className:"px-3 py-3 text-center",children:l.jsx("input",{type:"number",min:"1",value:P.qty,onChange:L=>B(P.id,L.target.value),className:"input input-sm w-20 text-center"})}),l.jsx("td",{className:"px-3 py-3",children:l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("input",{type:"number",min:P.minPrice,value:P.price,onChange:L=>N(P.id,L.target.value),className:"input input-sm w-32 text-right"}),P.price<P.minPrice&&l.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"})]})}),l.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:["Rp ",(P.price*P.qty).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>I(P.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:18})})})]},P.id))})]})}),l.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),l.jsxs("span",{className:"font-semibold",children:["Rp ",D.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Diskon:"}),l.jsx("input",{type:"number",value:u.discount||0,onChange:P=>f({...u,discount:parseInt(P.target.value)||0}),className:"input w-32 text-right",min:"0"})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t border-blue-200",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{className:"text-primary",children:["Rp ",M.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),l.jsx("textarea",{value:u.notes,onChange:P=>f({...u,notes:P.target.value}),className:"input",rows:"3",placeholder:"Catatan pengiriman, alamat, dll..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsxs("button",{type:"submit",className:"flex-1 btn btn-primary",children:[a?"Update":"Simpan"," Sales Order"]}),l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function BM(){const[a,n]=ie.useState(""),[i,o]=ie.useState("all"),[d,u]=ie.useState(!1),[f,h]=ie.useState(null),[p,m]=ie.useState(!1),[x,b]=ie.useState(null),{customers:y,addCustomer:w,updateCustomer:v,deleteCustomer:A}=m1(),j=y.filter(k=>{const N=k.name.toLowerCase().includes(a.toLowerCase())||k.phone.includes(a),B=i==="all"||k.type===i;return N&&B}),E=k=>{f?v(f.id,k):w(k),u(!1),h(null)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Pelanggan"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola data pelanggan dan program loyalty"})]}),l.jsxs("button",{onClick:()=>{h(null),u(!0)},className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Os,{size:20}),"Tambah Pelanggan"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pelanggan"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:y.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Member"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:y.filter(k=>k.type==="member").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"VIP"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:y.filter(k=>k.type==="vip").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:y.reduce((k,N)=>k+N.points,0).toLocaleString("id-ID")})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a,onChange:k=>n(k.target.value),placeholder:"Cari pelanggan...",className:"w-full pl-10 input"})]}),l.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"input w-48",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"walk-in",children:"Walk-in"}),l.jsx("option",{value:"member",children:"Member"}),l.jsx("option",{value:"vip",children:"VIP"})]})]})}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kontak"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Points"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Belanja"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:j.map(k=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[k.type==="vip"&&l.jsx(iT,{className:"text-yellow-500",size:16}),l.jsx("span",{className:"font-medium",children:k.name})]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("p",{className:"text-sm",children:k.phone}),l.jsx("p",{className:"text-xs text-gray-600",children:k.email})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`badge ${k.type==="vip"?"badge-warning":k.type==="member"?"badge-info":"bg-gray-100 text-gray-800"}`,children:k.type.toUpperCase()})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(qD,{size:16,className:"text-primary"}),l.jsx("span",{className:"font-semibold",children:k.points})]})}),l.jsxs("td",{className:"px-6 py-4 font-semibold",children:["Rp ",k.totalSpent.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[(k.type==="member"||k.type==="vip")&&l.jsx("button",{onClick:()=>{b(k),m(!0)},className:"text-green-600 hover:text-green-700 mr-3",title:"Atur Harga Khusus",children:l.jsx(a2,{size:18})}),l.jsx("button",{onClick:()=>{h(k),u(!0)},className:"text-primary hover:text-blue-700 mr-3",children:l.jsx(Vo,{size:18})}),k.type!=="walk-in"&&l.jsx("button",{onClick:()=>{confirm("Hapus pelanggan ini?")&&A(k.id)},className:"text-red-600 hover:text-red-700",children:l.jsx(Vn,{size:18})})]})]},k.id))})]})})}),d&&l.jsx(DM,{customer:f,onClose:()=>{u(!1),h(null)},onSubmit:E}),p&&x&&l.jsx(TM,{customer:x,onClose:()=>{m(!1),b(null)}})]})}function DM({customer:a,onClose:n,onSubmit:i}){const[o,d]=ie.useState(a||{name:"",phone:"",email:"",type:"member"}),u=f=>{f.preventDefault(),i(o)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Pelanggan":"Tambah Pelanggan Baru"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Os,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",value:o.name,onChange:f=>d({...o,name:capitalizeWords(f.target.value)}),className:"input",placeholder:"Nama Lengkap Pelanggan",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",value:o.name,onChange:f=>d({...o,name:capitalizeWords(f.target.value)}),className:"input",placeholder:"Nama Lengkap Pelanggan",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:o.email,onChange:f=>d({...o,email:f.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Pelanggan *"}),l.jsxs("select",{value:o.type,onChange:f=>d({...o,type:f.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"member",children:"Member"}),l.jsx("option",{value:"vip",children:"VIP"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a?"Update":"Simpan"}),l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function TM({customer:a,onClose:n}){const[i,o]=ie.useState(""),[d,u]=ie.useState(a.customPrices||{}),{products:f}=Ws(),{setCustomPrice:h,removeCustomPrice:p}=m1(),m=f.filter(w=>w.name.toLowerCase().includes(i.toLowerCase())||w.sku.toLowerCase().includes(i.toLowerCase())),x=(w,v)=>{const A=parseFloat(v);if(v===""||isNaN(A)){const j={...d};delete j[w],u(j)}else u({...d,[w]:A})},b=()=>{Object.entries(d).forEach(([w,v])=>{h(a.id,parseInt(w),v)}),Object.keys(a.customPrices||{}).forEach(w=>{d[w]||p(a.id,parseInt(w))}),n()},y=w=>w.costPrice*1.15;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold",children:["Atur Harga Khusus - ",a.name]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kosongkan harga untuk menggunakan harga default produk"})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Os,{size:24,className:"rotate-45"})})]}),l.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),placeholder:"Cari produk...",className:"w-full pl-10 input"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Default"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min. Harga (15%)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Harga Khusus"})]})}),l.jsx("tbody",{className:"divide-y",children:m.map(w=>{const v=d[w.id],A=y(w),j=v!==void 0,E=!v||v>=A;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:w.sku}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:w.name}),l.jsx("td",{className:"px-4 py-3 text-sm",children:w.category}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["Rp ",w.costPrice.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:["Rp ",w.price.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-semibold",children:["Rp ",A.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("input",{type:"number",value:v||"",onChange:k=>x(w.id,k.target.value),placeholder:"Default",className:`input-sm w-32 text-right ${E?j?"border-green-500 bg-green-50":"":"border-red-500 bg-red-50"}`,min:0,step:100}),!E&&l.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"}),j&&E&&l.jsx("span",{className:"text-xs text-green-600",children:" Aktif"})]})})]},w.id)})})]})}),l.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-900",children:[l.jsx("strong",{children:Object.keys(d).length})," produk dengan harga khusus"]})}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:b,className:"flex-1 btn btn-primary",children:"Simpan Harga Khusus"}),l.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function RM(){const[a,n]=ie.useState("transactions"),[i,o]=ie.useState("today"),[d,u]=ie.useState(""),[f,h]=ie.useState(""),{transactions:p,getTodaySales:m,voidTransaction:x}=xo(),{products:b,stockHistory:y,updateStock:w}=Ws(),{stores:v}=So(),{user:A}=Di(),j=[{id:"transactions",label:"Transaksi Kasir"},{id:"sales",label:"Laporan Penjualan"},{id:"stock",label:"Laporan Stok"},{id:"products",label:"Produk Terlaris"},{id:"profit",label:"Laba Rugi"},{id:"source",label:"Omzet per Sumber"}],E=(B,I="date")=>{const D=new Date;return D.setHours(0,0,0,0),B.filter(T=>{const M=new Date(T[I]);if(i==="custom"&&d&&f){const Q=new Date(d),F=new Date(f);return F.setHours(23,59,59,999),M>=Q&&M<=F}if(i==="today"){const Q=new Date(M);return Q.setHours(0,0,0,0),Q.getTime()===D.getTime()}else if(i==="week"){const Q=new Date(D);return Q.setDate(Q.getDate()-7),M>=Q}else if(i==="month"){const Q=new Date(D);return Q.setMonth(Q.getMonth()-1),M>=Q}else if(i==="year"){const Q=new Date(D.getFullYear(),0,1);return M>=Q}return!0})},k=()=>{let B="";const I=E(p);a==="transactions"||a==="sales"?(B=`ID,Tanggal,Pelanggan,Items,Subtotal,Diskon,Pajak,Total,Pembayaran,Status
`,I.forEach(M=>{var Q;B+=`${M.id},${new Date(M.date).toLocaleString("id-ID")},${((Q=M.customer)==null?void 0:Q.name)||"-"},${M.items.length},${M.subtotal},${M.discount},${M.tax},${M.total},${M.paymentMethod},${M.status}
`})):a==="stock"&&(B=`Kode,Nama,Kategori,Stok,Min Stok,Harga,HPP,Nilai Stok
`,b.forEach(M=>{B+=`${M.code},${M.name},${M.category},${M.stock},${M.minStock},${M.price},${M.cost||0},${M.price*M.stock}
`}));const D=new Blob([B],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(D),T.download=`laporan-${a}-${new Date().toISOString().split("T")[0]}.csv`,T.click()},N=()=>{window.print()};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Laporan & Analytics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor performa bisnis Anda"})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("select",{value:a,onChange:B=>n(B.target.value),className:"input flex-1",children:j.map(B=>l.jsx("option",{value:B.id,children:B.label},B.id))}),l.jsxs("select",{value:i,onChange:B=>o(B.target.value),className:"input",children:[l.jsx("option",{value:"today",children:"Hari Ini"}),l.jsx("option",{value:"week",children:"7 Hari Terakhir"}),l.jsx("option",{value:"month",children:"30 Hari Terakhir"}),l.jsx("option",{value:"year",children:"Tahun Ini"}),l.jsx("option",{value:"custom",children:"Periode Custom"})]}),i==="custom"&&l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"date",value:d,onChange:B=>u(B.target.value),className:"input"}),l.jsx("input",{type:"date",value:f,onChange:B=>h(B.target.value),className:"input"})]}),l.jsxs("button",{onClick:k,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Zo,{size:20}),"Export CSV"]}),l.jsxs("button",{onClick:N,className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(s2,{size:20}),"Print"]})]})}),a==="transactions"&&l.jsx(MM,{transactions:p,voidTransaction:x,updateStock:w,user:A,dateRange:i,customStartDate:d,customEndDate:f}),a==="sales"&&l.jsx(FM,{transactions:p,dateRange:i,customStartDate:d,customEndDate:f}),a==="stock"&&l.jsx(PM,{products:b,stockHistory:y}),a==="products"&&l.jsx(_M,{transactions:p,dateRange:i,customStartDate:d,customEndDate:f}),a==="profit"&&l.jsx(OM,{transactions:p,products:b,dateRange:i,customStartDate:d,customEndDate:f}),a==="source"&&l.jsx(UM,{transactions:p,stores:v,dateRange:i,customStartDate:d,customEndDate:f})]})}function MM({transactions:a,voidTransaction:n,updateStock:i,user:o,dateRange:d,customStartDate:u,customEndDate:f}){const[h,p]=ie.useState(""),[m,x]=ie.useState(!1),[b,y]=ie.useState(null),[w,v]=ie.useState(""),[A,j]=ie.useState(!1),[E,k]=ie.useState(null),N=M=>{k(M),v(""),j(!0)},B=async()=>{if(!w.trim()){alert("Masukkan alasan void transaksi");return}await n(E.id,w,i,o==null?void 0:o.id,o==null?void 0:o.name),j(!1),k(null),v(""),alert("Transaksi berhasil di-void dan stok telah dikembalikan")},I=a.filter(M=>{const Q=M.id.toLowerCase().includes(h.toLowerCase()),F=new Date(M.date),P=new Date;P.setHours(0,0,0,0);let L=!0;if(d==="custom"&&u&&f){const _=new Date(u),H=new Date(f);H.setHours(23,59,59,999),L=F>=_&&F<=H}else if(d==="today"){const _=new Date(F);_.setHours(0,0,0,0),L=_.getTime()===P.getTime()}else if(d==="week"){const _=new Date(P);_.setDate(_.getDate()-7),L=F>=_}else if(d==="month"){const _=new Date(P);_.setMonth(_.getMonth()-1),L=F>=_}return Q&&L}),D=I.filter(M=>M.status==="completed").reduce((M,Q)=>M+Q.total,0),T=M=>{y(M),x(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:I.filter(M=>M.status==="completed").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",D.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Transaksi Void"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:I.filter(M=>M.status==="void").length})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:h,onChange:M=>p(M.target.value),placeholder:"Cari ID transaksi...",className:"w-full pl-10 input"})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("h3",{className:"text-lg font-bold mb-4 px-6 pt-6",children:"Riwayat Transaksi Kasir"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pembayaran"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:I.map(M=>{var Q;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:M.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(M.date).toLocaleString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((Q=M.customer)==null?void 0:Q.name)||"-"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[M.items.length," item"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold",children:["Rp ",M.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:M.paymentMethod}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.status==="completed"?l.jsx("span",{className:"badge badge-success",children:"Selesai"}):l.jsx("span",{className:"badge badge-danger",children:"Void"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>T(M),className:"text-primary hover:text-blue-700",title:"Lihat Detail",children:l.jsx(uy,{size:18})}),M.status==="completed"&&l.jsx("button",{onClick:()=>N(M),className:"text-red-500 hover:text-red-700",title:"Void Transaksi",children:l.jsx(FD,{size:18})}),l.jsx("button",{className:"text-gray-600 hover:text-gray-700",title:"Print",children:l.jsx(s2,{size:18})})]})]},M.id)})})]})})]})]}),A&&E&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Void Transaksi"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Void transaksi ",l.jsx("strong",{children:E.id})," senilai ",l.jsxs("strong",{children:["Rp ",E.total.toLocaleString("id-ID")]}),"?"]}),l.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded mb-4",children:" Stok produk akan dikembalikan otomatis"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alasan Void *"}),l.jsx("textarea",{value:w,onChange:M=>v(M.target.value),placeholder:"Masukkan alasan void...",className:"input w-full",rows:3,required:!0})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"btn btn-secondary flex-1",children:"Batal"}),l.jsx("button",{onClick:B,className:"btn btn-danger flex-1",children:"Konfirmasi Void"})]})]})}),m&&b&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Detail Transaksi"}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)] space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"ID Transaksi"}),l.jsx("p",{className:"font-semibold",children:b.id})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Tanggal"}),l.jsx("p",{className:"font-semibold",children:new Date(b.date).toLocaleString("id-ID")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Kasir"}),l.jsx("p",{className:"font-semibold",children:b.cashier})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Metode Pembayaran"}),l.jsx("p",{className:"font-semibold capitalize",children:b.paymentMethod})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Items"}),l.jsx("div",{className:"space-y-2",children:b.items.map((M,Q)=>l.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:M.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[M.quantity," x Rp ",M.price.toLocaleString("id-ID")]})]}),l.jsxs("p",{className:"font-semibold",children:["Rp ",(M.price*M.quantity).toLocaleString("id-ID")]})]},Q))})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Subtotal"}),l.jsxs("span",{children:["Rp ",b.subtotal.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Diskon"}),l.jsxs("span",{children:["- Rp ",b.discount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Pajak"}),l.jsxs("span",{children:["Rp ",b.tax.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary",children:["Rp ",b.total.toLocaleString("id-ID")]})]}),b.paymentMethod==="cash"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Bayar"}),l.jsxs("span",{children:["Rp ",b.cashAmount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Kembali"}),l.jsxs("span",{className:"text-green-600",children:["Rp ",b.change.toLocaleString("id-ID")]})]})]})]})]})]})})]})}function FM({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const u=(m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(b=>{const y=new Date(b.date);if(n==="custom"&&i&&o){const w=new Date(i),v=new Date(o);return v.setHours(23,59,59,999),y>=w&&y<=v}if(n==="today"){const w=new Date(y);return w.setHours(0,0,0,0),w.getTime()===x.getTime()}else if(n==="week"){const w=new Date(x);return w.setDate(w.getDate()-7),y>=w}else if(n==="month"){const w=new Date(x);return w.setMonth(w.getMonth()-1),y>=w}return!0})})(a).filter(m=>m.status==="completed"),f=u.reduce((m,x)=>m+x.total,0),h=u.reduce((m,x)=>m+x.tax,0),p=u.reduce((m,x)=>m+x.discount,0);return u.length>0&&f/u.length,l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:u.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",f.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pajak"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",h.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Diskon"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-red-600",children:["Rp ",p.toLocaleString("id-ID")]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Penjualan"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Diskon"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pajak"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),l.jsx("tbody",{className:"divide-y",children:u.slice(0,10).map(m=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(m.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:m.id}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.subtotal.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600",children:["- Rp ",m.discount.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.tax.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold",children:["Rp ",m.total.toLocaleString("id-ID")]})]},m.id))})]})})]})]})}function PM({products:a,stockHistory:n}){const[i,o]=ie.useState("name"),[d,u]=ie.useState("all"),f=a.reduce((w,v)=>w+v.price*v.stock,0),h=a.reduce((w,v)=>w+(v.cost||0)*v.stock,0),p=a.filter(w=>w.stock<=w.minStock).length,m=a.filter(w=>w.stock===0).length,x=a.reduce((w,v)=>w+v.stock,0);let b=[...a];d==="low"?b=b.filter(w=>w.stock<=w.minStock&&w.stock>0):d==="out"?b=b.filter(w=>w.stock===0):d==="normal"&&(b=b.filter(w=>w.stock>w.minStock)),i==="stock-asc"?b.sort((w,v)=>w.stock-v.stock):i==="stock-desc"?b.sort((w,v)=>v.stock-w.stock):i==="value-desc"?b.sort((w,v)=>v.price*v.stock-w.price*w.stock):b.sort((w,v)=>w.name.localeCompare(v.name));const y=(n||[]).slice(0,10);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:a.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Unit"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:x.toLocaleString("id-ID")})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Jual"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",(f/1e6).toFixed(1),"M"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Modal (HPP)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:["Rp ",(h/1e6).toFixed(1),"M"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Stok Bermasalah"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:p+m}),l.jsxs("p",{className:"text-xs text-gray-500",children:[m," habis, ",p," rendah"]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"input",children:[l.jsx("option",{value:"all",children:"Semua Status"}),l.jsx("option",{value:"normal",children:"Stok Normal"}),l.jsx("option",{value:"low",children:"Stok Rendah"}),l.jsx("option",{value:"out",children:"Stok Habis"})]}),l.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"input",children:[l.jsx("option",{value:"name",children:"Urut: Nama A-Z"}),l.jsx("option",{value:"stock-asc",children:"Urut: Stok Terendah"}),l.jsx("option",{value:"stock-desc",children:"Urut: Stok Tertinggi"}),l.jsx("option",{value:"value-desc",children:"Urut: Nilai Tertinggi"})]})]})}),l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detail Stok Produk (",b.length," produk)"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Jual"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:b.slice(0,50).map(w=>l.jsxs("tr",{className:`hover:bg-gray-50 ${w.stock===0?"bg-red-50":w.stock<=w.minStock?"bg-orange-50":""}`,children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("p",{className:"font-medium",children:w.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[w.code," ",w.sku?` ${w.sku}`:""]})]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[w.stock," ",w.unit]}),l.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:w.minStock}),l.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",(w.price||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["Rp ",(w.cost||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",((w.price||0)*w.stock).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-center",children:w.stock===0?l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"HABIS"}):w.stock<=w.minStock?l.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:"Rendah"}):l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Normal"})})]},w.id))})]})}),b.length>50&&l.jsxs("p",{className:"text-center text-gray-500 py-4 text-sm",children:["Menampilkan 50 dari ",b.length," produk"]})]}),y.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Perubahan Stok Terakhir"}),l.jsx("div",{className:"space-y-2",children:y.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:w.productName}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.createdAt).toLocaleString("id-ID")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:`font-bold ${w.change>0?"text-green-600":w.change<0?"text-red-600":""}`,children:[w.change>0?"+":"",w.change]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[w.oldStock,"  ",w.newStock]})]})]},w.id))})]})]})}function _M({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const d=m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(b=>{const y=new Date(b.date);if(n==="custom"&&i&&o){const w=new Date(i),v=new Date(o);return v.setHours(23,59,59,999),y>=w&&y<=v}if(n==="today"){const w=new Date(y);return w.setHours(0,0,0,0),w.getTime()===x.getTime()}else if(n==="week"){const w=new Date(x);return w.setDate(w.getDate()-7),y>=w}else if(n==="month"){const w=new Date(x);return w.setMonth(w.getMonth()-1),y>=w}return!0})},u={};d(a).filter(m=>m.status==="completed").forEach(m=>{m.items.forEach(x=>{u[x.id]||(u[x.id]={name:x.name,quantity:0,revenue:0}),u[x.id].quantity+=x.quantity,u[x.id].revenue+=x.price*x.quantity})});const f=Object.values(u).sort((m,x)=>x.quantity-m.quantity).slice(0,10),h=f.reduce((m,x)=>m+x.quantity,0),p=f.reduce((m,x)=>m+x.revenue,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk Terjual"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:[h," items"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue (Top 10)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata per Produk"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",f.length>0?(p/f.length).toLocaleString("id-ID"):0]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Top 10 Produk Terlaris"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ranking"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty Terjual"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Revenue"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% dari Total"})]})}),l.jsx("tbody",{className:"divide-y",children:f.map((m,x)=>{const b=p>0?(m.revenue/p*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${x===0?"bg-yellow-400 text-white":x===1?"bg-gray-400 text-white":x===2?"bg-orange-400 text-white":"bg-gray-200 text-gray-700"}`,children:x+1})}),l.jsx("td",{className:"px-6 py-4 font-medium",children:m.name}),l.jsx("td",{className:"px-6 py-4 text-right font-semibold",children:m.quantity}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:["Rp ",m.revenue.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${b}%`}})}),l.jsxs("span",{className:"text-sm",children:[b,"%"]})]})})]},x)})})]})}),f.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data penjualan untuk periode ini"})]})]})}function OM({transactions:a,products:n,dateRange:i,customStartDate:o,customEndDate:d}){const f=(k=>{const N=new Date;return N.setHours(0,0,0,0),k.filter(B=>{const I=new Date(B.date);if(i==="custom"&&o&&d){const D=new Date(o),T=new Date(d);return T.setHours(23,59,59,999),I>=D&&I<=T}if(i==="today"){const D=new Date(I);return D.setHours(0,0,0,0),D.getTime()===N.getTime()}else if(i==="week"){const D=new Date(N);return D.setDate(D.getDate()-7),I>=D}else if(i==="month"){const D=new Date(N);return D.setMonth(D.getMonth()-1),I>=D}else if(i==="year"){const D=new Date(N.getFullYear(),0,1);return I>=D}return!0})})(a).filter(k=>k.status==="completed"),h={};n.forEach(k=>{h[k.id]=k.cost||0});const p={};let m=0,x=0,b=0,y=0;f.forEach(k=>{b+=k.discount||0,y+=k.tax||0,k.items.forEach(N=>{const B=h[N.id]||N.cost||0,I=N.price*N.quantity,D=B*N.quantity,T=I-D;m+=I,x+=D,p[N.id]||(p[N.id]={name:N.name,quantity:0,revenue:0,cogs:0,profit:0}),p[N.id].quantity+=N.quantity,p[N.id].revenue+=I,p[N.id].cogs+=D,p[N.id].profit+=T})});const w=m-x,v=w-b+y,A=m>0?(w/m*100).toFixed(1):0,j=m>0?(v/m*100).toFixed(1):0,E=Object.values(p).sort((k,N)=>N.profit-k.profit).slice(0,10);return l.jsxs("div",{className:"space-y-6 print:space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Pendapatan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",m.toLocaleString("id-ID")]})]}),l.jsx(a2,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"HPP (COGS)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",x.toLocaleString("id-ID")]})]}),l.jsx(en,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Laba Kotor"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",w.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",A,"%"]})]}),l.jsx(Um,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Laba Bersih"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",v.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",j,"%"]})]}),l.jsx(PD,{size:40,className:"opacity-80"})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Laba Rugi"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between py-2 border-b",children:[l.jsx("span",{className:"font-medium",children:"Total Pendapatan (Revenue)"}),l.jsxs("span",{className:"font-bold text-blue-600",children:["Rp ",m.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[l.jsx("span",{children:"(-) Harga Pokok Penjualan (HPP)"}),l.jsxs("span",{children:["Rp ",x.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b bg-green-50 px-2 rounded",children:[l.jsx("span",{className:"font-medium text-green-700",children:"= Laba Kotor (Gross Profit)"}),l.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",w.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[l.jsx("span",{children:"(-) Total Diskon"}),l.jsxs("span",{children:["Rp ",b.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b",children:[l.jsx("span",{children:"(+) PPN yang Dipungut"}),l.jsxs("span",{children:["Rp ",y.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-3 bg-purple-50 px-2 rounded text-lg",children:[l.jsx("span",{className:"font-bold text-purple-700",children:"= Laba Bersih (Net Profit)"}),l.jsxs("span",{className:"font-bold text-purple-600",children:["Rp ",v.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Profit per Produk (Top 10)"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Profit"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margin"})]})}),l.jsx("tbody",{className:"divide-y",children:E.map((k,N)=>{const B=k.revenue>0?(k.profit/k.revenue*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium",children:k.name}),l.jsx("td",{className:"px-4 py-3 text-right",children:k.quantity}),l.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",k.revenue.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right text-red-600",children:["Rp ",k.cogs.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:["Rp ",k.profit.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${B>=30?"bg-green-100 text-green-700":B>=15?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[B,"%"]})})]},N)})})]})}),E.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data transaksi untuk periode ini"})]}),l.jsx("div",{className:"card bg-blue-50 border border-blue-200",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:" Tips:"})," Pastikan HPP (Harga Pokok Penjualan) di setiap produk sudah diisi dengan benar untuk mendapatkan laporan laba rugi yang akurat. Anda dapat mengisi HPP di menu Produk."]})})]})}function UM({transactions:a,stores:n,dateRange:i,customStartDate:o,customEndDate:d}){const f=(x=>{const b=new Date;return b.setHours(0,0,0,0),x.filter(y=>{const w=new Date(y.date);if(i==="custom"&&o&&d){const v=new Date(o),A=new Date(d);return A.setHours(23,59,59,999),w>=v&&w<=A}if(i==="today"){const v=new Date(w);return v.setHours(0,0,0,0),v.getTime()===b.getTime()}else if(i==="week"){const v=new Date(b);return v.setDate(v.getDate()-7),w>=v}else if(i==="month"){const v=new Date(b);return v.setMonth(v.getMonth()-1),w>=v}return!0})})(a).filter(x=>x.status==="completed"),h={pos:{label:"POS (Kasir)",color:"bg-blue-500",transactions:0,revenue:0},shopee:{label:"Shopee",color:"bg-orange-500",transactions:0,revenue:0},lazada:{label:"Lazada",color:"bg-purple-500",transactions:0,revenue:0},tokopedia:{label:"Tokopedia",color:"bg-green-500",transactions:0,revenue:0},tiktok:{label:"TikTok Shop",color:"bg-gray-800",transactions:0,revenue:0}};f.forEach(x=>{const b=x.source||"pos";h[b]?(h[b].transactions+=1,h[b].revenue+=x.total):(h.pos.transactions+=1,h.pos.revenue+=x.total)});const p=Object.values(h).reduce((x,b)=>x+b.revenue,0),m=Object.values(h).reduce((x,b)=>x+b.transactions,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Omzet Semua Sumber"}),l.jsxs("p",{className:"text-3xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:m})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).map(([x,b])=>{const y=p>0?(b.revenue/p*100).toFixed(1):0;return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:`w-4 h-4 rounded ${b.color}`}),l.jsx("h4",{className:"font-bold",children:b.label})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Transaksi"}),l.jsx("span",{className:"font-medium",children:b.transactions})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Omzet"}),l.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",b.revenue.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Kontribusi"}),l.jsxs("span",{className:"font-medium",children:[y,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:l.jsx("div",{className:`${b.color} h-2 rounded-full transition-all`,style:{width:`${y}%`}})})]})]},x)})}),n&&n.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Toko Marketplace Terhubung"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${x.isConnected?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"font-medium",children:x.shopName})]}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:x.platform}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",x.lastSync?new Date(x.lastSync).toLocaleString("id-ID"):"Never"]})]},x.id))})]}),l.jsx("div",{className:"card bg-yellow-50 border border-yellow-200",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:" Info:"})," Data marketplace akan otomatis ter-update ketika Anda melakukan sinkronisasi dari halaman Marketplace Integration. Pastikan semua toko sudah terhubung untuk laporan yang akurat."]})})]})}const zM=a=>({code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category_id:typeof a.category=="number"?a.category:null,unit_id:typeof a.unit=="number"?a.unit:null,cost_price:a.cost||0,selling_price:a.price||0,stock:a.stock||0,min_stock:a.minStock||0,max_stock:a.maxStock||0,image_url:a.image,shopee_item_id:a.shopeeItemId,shopee_model_id:a.shopeeModelId,source:a.source||"local",is_variant:a.isVariant||!1,parent_product_id:a.parentId,variant_name:a.variantName,is_active:a.isActive!==!1}),LM=a=>({code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,customer_type:a.type||"member",points:a.points||0,total_spent:a.totalSpent||0}),QM=a=>{var n;return{transaction_code:a.transactionCode||`TRX${Date.now()}`,transaction_date:a.date||new Date().toISOString(),customer_id:a.customerId||((n=a.customer)==null?void 0:n.id),subtotal:a.subtotal||0,discount_type:a.discountType,discount_value:a.discountValue||0,discount_amount:a.discount||0,tax_percent:a.taxPercent||11,tax_amount:a.tax||0,total:a.total||0,payment_method:a.paymentMethod||"cash",payment_amount:a.cashAmount||0,change_amount:a.change||0,status:a.status||"completed",void_reason:a.voidReason,notes:a.notes,cashier_id:a.cashierId,cashier_name:a.cashierName,source:a.source||"pos",marketplace_order_id:a.marketplaceOrderId}},HM=async()=>{try{const{count:a,error:n}=await Cr.from("products").select("*",{count:"exact",head:!0});if(n)throw n;return{isConfigured:!0,isOnline:!0,productCount:a,message:"Terhubung ke Supabase"}}catch(a){return{isConfigured:!0,isOnline:!1,message:"Gagal terhubung ke Supabase: "+a.message}}},$M=async(a,n,i)=>{const o={products:0,customers:0,transactions:0,errors:[]};for(const d of a)try{const{error:u}=await Cr.from("products").upsert(zM(d),{onConflict:"code"});u?o.errors.push(`Product ${d.name}: ${u.message}`):o.products++}catch(u){o.errors.push(`Product ${d.name}: ${u.message}`)}for(const d of n)if(d.type!=="walk-in")try{const{error:u}=await Cr.from("customers").upsert(LM(d),{onConflict:"code"});u?o.errors.push(`Customer ${d.name}: ${u.message}`):o.customers++}catch(u){o.errors.push(`Customer ${d.name}: ${u.message}`)}for(const d of i)try{const{error:u}=await Cr.from("transactions").upsert(QM(d),{onConflict:"transaction_code"});u?o.errors.push(`Transaction ${d.transactionCode}: ${u.message}`):o.transactions++}catch(u){o.errors.push(`Transaction ${d.transactionCode}: ${u.message}`)}return{data:o,error:null}};function qM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(!1),[d,u]=ie.useState("add"),[f,h]=ie.useState(null),{users:p,user:m,addUser:x,updateUser:b,deleteUser:y,toggleUserActive:w,isAdmin:v}=Di(),{storeInfo:A,updateStoreInfo:j,setLogo:E,stockSettings:k,updateStockSettings:N,whatsappNumber:B,whatsappMessage:I,updateWhatsApp:D}=Ru(),{products:T}=Ws(),{customers:M}=m1(),{purchases:Q,suppliers:F}=g3(),{cartItems:P}=x3(),{logs:L,clearOldLogs:_,exportLogs:H}=f1(),[Y,de]=ie.useState(A),[$,q]=ie.useState(k||{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30}),[re,ce]=ie.useState({number:B||"",message:I||"Halo, saya ingin bertanya tentang produk di toko Anda."}),J=()=>{const be={version:"1.0",timestamp:new Date().toISOString(),data:{products:T,customers:M,transactions,purchases:Q,suppliers:F,settings:A,users:p,cart:P}},$e=JSON.stringify(be,null,2),Fe=new Blob([$e],{type:"application/json"}),Ke=URL.createObjectURL(Fe),Je=document.createElement("a");Je.href=Ke,Je.download=`backup-pos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Ke),alert("Backup database berhasil diunduh!")},oe=be=>{const $e=be.target.files[0];if(!$e)return;if(!confirm("Restore database akan mengganti semua data yang ada. Lanjutkan?")){be.target.value="";return}const Fe=new FileReader;Fe.onload=Ke=>{var Je,rt;try{const ae=JSON.parse(Ke.target.result);if(!ae.version||!ae.data)throw new Error("Format backup tidak valid");localStorage.setItem("product-storage",JSON.stringify({state:{products:ae.data.products,categories:(rt=(Je=ae.data.products)==null?void 0:Je[0])!=null&&rt.category?[...new Set(ae.data.products.map(fe=>fe.category))]:[]}})),localStorage.setItem("customer-storage",JSON.stringify({state:{customers:ae.data.customers}})),localStorage.setItem("transaction-storage",JSON.stringify({state:{transactions:ae.data.transactions}})),localStorage.setItem("purchase-storage",JSON.stringify({state:{purchases:ae.data.purchases,suppliers:ae.data.suppliers}})),localStorage.setItem("settings-storage",JSON.stringify({state:{storeInfo:ae.data.settings}})),localStorage.setItem("auth-storage",JSON.stringify({state:{users:ae.data.users,isAuthenticated:!0}})),alert("Restore database berhasil! Halaman akan di-refresh."),window.location.reload()}catch(ae){alert("Error restore database: "+ae.message)}},Fe.readAsText($e),be.target.value=""},ue=()=>{confirm(` PERINGATAN!

Ini akan menghapus SEMUA data:
- Produk
- Customer
- Transaksi
- Pembelian
- Supplier
- Settings
- Cache Shopee

Data TIDAK BISA dikembalikan!
Lanjutkan?`)&&confirm("Konfirmasi sekali lagi: Anda yakin ingin menghapus SEMUA database?")&&(Ws.setState({products:[],categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis"]}),m1.setState({customers:[{id:1,name:"Walk-in Customer",phone:"-",email:"-",address:"-",type:"walk-in",points:0,totalSpent:0,customPrices:{}}]}),xo.setState({transactions:[]}),g3.setState({purchases:[],suppliers:[]}),x3.setState({items:[],discount:0,discountType:"percent",paymentMethod:"cash",customerId:null}),localStorage.removeItem("product-storage"),localStorage.removeItem("customer-storage"),localStorage.removeItem("transaction-storage"),localStorage.removeItem("purchase-storage"),localStorage.removeItem("settings-storage"),localStorage.removeItem("cart-storage"),localStorage.removeItem("shopee_products_cache"),localStorage.removeItem("shopee_orders_cache"),localStorage.removeItem("shopee_returns_cache"),localStorage.removeItem("shopee_last_sync"),alert("Semua database berhasil dihapus! Halaman akan di-refresh."),window.location.reload(!0))},he=be=>{const $e=be.target.files[0];if($e&&$e.type.startsWith("image/")){const Fe=new FileReader;Fe.onloadend=()=>{E(Fe.result),de({...Y,logo:Fe.result})},Fe.readAsDataURL($e)}},Re=()=>{j(Y),alert("Informasi toko berhasil disimpan!")},te=be=>{h(be),n(!0)},Be=()=>{u("add"),h(null),o(!0)},Se=be=>{u("edit"),h(be),o(!0)},Oe=be=>{if(!confirm(`Hapus user "${be.name}"?

Data user akan dihapus permanen.`))return;const $e=y(be.id);$e.success||alert($e.error)},Ue=be=>{const $e=be.isActive?"nonaktifkan":"aktifkan";if(!confirm(`${$e.charAt(0).toUpperCase()+$e.slice(1)} user "${be.name}"?`))return;const Fe=w(be.id);Fe.success||alert(Fe.error)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pengaturan"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Konfigurasi sistem dan preferensi"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(v1,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Informasi Toko"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo Toko"}),l.jsxs("div",{className:"flex items-center gap-4",children:[Y.logo?l.jsx("div",{className:"relative w-24 h-24 rounded-lg border-2 border-gray-200 overflow-hidden",children:l.jsx("img",{src:Y.logo,alt:"Logo",className:"w-full h-full object-contain"})}):l.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:l.jsx(tu,{className:"text-gray-400",size:32})}),l.jsxs("div",{children:[l.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:he,className:"hidden"}),l.jsxs("label",{htmlFor:"logo-upload",className:"btn btn-secondary cursor-pointer inline-flex items-center gap-2",children:[l.jsx(ru,{size:16}),"Pilih Logo"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG maksimal 2MB"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Toko"}),l.jsx("input",{type:"text",value:Y.name,onChange:be=>de({...Y,name:be.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),l.jsx("textarea",{className:"input",rows:"2",value:Y.address,onChange:be=>de({...Y,address:be.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telepon"}),l.jsx("input",{type:"tel",value:Y.phone,onChange:be=>de({...Y,phone:be.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:Y.email,onChange:be=>de({...Y,email:be.target.value}),className:"input"})]}),l.jsx("button",{onClick:Re,className:"btn btn-primary",children:"Simpan Informasi"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(en,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Stok Marketplace"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx(md,{size:14,className:"inline mr-1"}),"Buffer stok mencegah overselling di marketplace dengan menyisihkan sejumlah stok sebagai cadangan."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Buffer Stok (%)"}),l.jsx("input",{type:"number",min:"0",max:"50",value:$.bufferPercent,onChange:be=>q({...$,bufferPercent:parseInt(be.target.value)||0}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Persentase stok yang dicadangkan (default: 10%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Minimum Buffer (pcs)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:$.minBuffer,onChange:be=>q({...$,minBuffer:parseInt(be.target.value)||0}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal stok cadangan walaupun % rendah (default: 3 pcs)"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:$.enableAutoSync,onChange:be=>q({...$,enableAutoSync:be.target.checked}),className:"w-4 h-4"}),l.jsx("span",{children:"Auto-sync stok ke marketplace"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interval Sync (menit)"}),l.jsx("input",{type:"number",min:"5",max:"120",value:$.syncInterval,onChange:be=>q({...$,syncInterval:parseInt(be.target.value)||30}),className:"input",disabled:!$.enableAutoSync})]}),l.jsx("button",{onClick:()=>{N($),alert("Pengaturan stok marketplace berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan Stok"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(MessageCircle,{className:"text-green-500",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"WhatsApp Customer Service"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-green-800",children:[l.jsx(md,{size:14,className:"inline mr-1"}),"Tambahkan nomor WhatsApp CS untuk tombol kontak cepat di dashboard dan struk."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nomor WhatsApp"}),l.jsx("input",{type:"tel",placeholder:"6281234567890",value:re.number,onChange:be=>ce({...re,number:be.target.value}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 628xxx (tanpa + atau 0 di depan)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pesan Default"}),l.jsx("textarea",{rows:"3",placeholder:"Halo, saya ingin bertanya...",value:re.message,onChange:be=>ce({...re,message:be.target.value}),className:"input"})]}),re.number&&l.jsx("div",{className:"flex gap-2",children:l.jsxs("a",{href:`https://wa.me/${re.number.replace(/\\D/g,"")}?text=${encodeURIComponent(re.message)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success flex items-center gap-2",children:[l.jsx(MessageCircle,{size:16}),"Test WhatsApp"]})}),l.jsx("button",{onClick:()=>{D(re.number,re.message),alert("Pengaturan WhatsApp berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan WhatsApp"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(by,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Pajak"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Aktifkan Pajak PPN"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Persentase PPN (%)"}),l.jsx("input",{type:"number",defaultValue:"11",className:"input"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Tampilkan harga sudah termasuk pajak"})]})}),l.jsx("button",{className:"btn btn-primary",children:"Simpan"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(s2,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Printer"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Printer"}),l.jsxs("select",{className:"input",children:[l.jsx("option",{children:"Thermal Printer (Default)"}),l.jsx("option",{children:"HP LaserJet"}),l.jsx("option",{children:"Canon Pixma"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ukuran Kertas"}),l.jsxs("select",{className:"input",children:[l.jsx("option",{children:"58mm (Thermal)"}),l.jsx("option",{children:"80mm (Thermal)"}),l.jsx("option",{children:"A4"})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Cetak otomatis setelah transaksi"})]})}),l.jsx("button",{className:"btn btn-secondary",children:"Test Print"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Pm,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Notifikasi"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Alert stok menipis"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Alert produk mendekati expired"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Notifikasi email harian"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Notifikasi WhatsApp"})]}),l.jsx("button",{className:"btn btn-primary mt-4",children:"Simpan"})]})]}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(K0,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Manajemen Pengguna"})]}),v()&&l.jsxs("button",{onClick:Be,className:"btn btn-primary btn-sm inline-flex items-center gap-2",children:[l.jsx(Os,{size:16}),"Tambah User"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:p.length}),l.jsx("p",{className:"text-xs text-blue-600",children:"Total User"})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:p.filter(be=>be.isActive!==!1).length}),l.jsx("p",{className:"text-xs text-green-600",children:"User Aktif"})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:p.filter(be=>be.role==="admin").length}),l.jsx("p",{className:"text-xs text-purple-600",children:"Admin"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:p.filter(be=>{var $e,Fe;return(Fe=($e=be.marketplaceCredentials)==null?void 0:$e.shopee)==null?void 0:Fe.isConnected}).length}),l.jsx("p",{className:"text-xs text-orange-600",children:"Terhubung Shopee"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marketplace"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:p.map(be=>{var $e,Fe;return l.jsxs("tr",{className:be.isActive===!1?"bg-gray-50 opacity-60":"",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${be.role==="admin"?"bg-purple-500":"bg-blue-500"}`,children:be.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:be.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["@",be.username]})]}),(m==null?void 0:m.id)===be.id&&l.jsx("span",{className:"badge badge-info text-xs",children:"Anda"})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`badge ${be.role==="admin"?"badge-danger":"badge-info"}`,children:be.role==="admin"?"Admin":"Kasir"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[be.permissions.includes("all")?l.jsx("span",{className:"badge badge-success text-xs",children:"Semua Akses"}):be.permissions.slice(0,3).map(Ke=>l.jsx("span",{className:"badge badge-secondary text-xs",children:P5[Ke]||Ke},Ke)),!be.permissions.includes("all")&&be.permissions.length>3&&l.jsxs("span",{className:"badge badge-secondary text-xs",children:["+",be.permissions.length-3]})]})}),l.jsx("td",{className:"px-4 py-4",children:(Fe=($e=be.marketplaceCredentials)==null?void 0:$e.shopee)!=null&&Fe.isConnected?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-700",children:"Shopee"})]}):l.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`badge ${be.isActive!==!1?"badge-success":"badge-danger"}`,children:be.isActive!==!1?"Aktif":"Nonaktif"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>te(be),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ganti Password",children:l.jsx(my,{size:16,className:"text-gray-600"})}),v()&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Se(be),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User",children:l.jsx(Om,{size:16,className:"text-blue-600"})}),be.id!==1&&be.id!==(m==null?void 0:m.id)&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Ue(be),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:be.isActive!==!1?"Nonaktifkan":"Aktifkan",children:be.isActive!==!1?l.jsx(lT,{size:16,className:"text-yellow-600"}):l.jsx(oT,{size:16,className:"text-green-600"})}),l.jsx("button",{onClick:()=>Oe(be),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus User",children:l.jsx(Vn,{size:16,className:"text-red-600"})})]})]})]})})]},be.id)})})]})})]}),v()&&l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fy,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Audit Log"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>{confirm("Hapus log lama (lebih dari 30 hari)?")&&(_(30),alert("Log lama berhasil dihapus"))},className:"btn btn-secondary text-sm",children:[l.jsx(Vn,{size:16}),"Clear Old"]}),l.jsxs("button",{onClick:()=>{const be=H(),$e=new Blob([be],{type:"application/json"}),Fe=URL.createObjectURL($e),Ke=document.createElement("a");Ke.href=Fe,Ke.download=`audit-log-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),URL.revokeObjectURL(Fe)},className:"btn btn-primary text-sm",children:[l.jsx(Zo,{size:16}),"Export"]})]})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Log aktivitas sistem (total: ",L.length,")"]}),l.jsx("div",{className:"max-h-80 overflow-y-auto border rounded-lg",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Waktu"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Aksi"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"User"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Detail"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[L.slice(0,50).map(be=>{var $e,Fe,Ke;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 whitespace-nowrap",children:new Date(be.timestamp).toLocaleString("id-ID")}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${be.action.includes("login")?"bg-blue-100 text-blue-800":be.action.includes("transaction")?"bg-green-100 text-green-800":be.action.includes("stock")?"bg-yellow-100 text-yellow-800":be.action.includes("product")?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:be.action.replace("_"," ").toUpperCase()})}),l.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:be.userName||"-"}),l.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 max-w-xs truncate",title:JSON.stringify(be.details),children:(($e=be.details)==null?void 0:$e.productName)||((Fe=be.details)==null?void 0:Fe.transactionId)||((Ke=be.details)==null?void 0:Ke.username)||JSON.stringify(be.details).slice(0,50)})]},be.id)}),L.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500",children:"Belum ada log aktivitas"})})]})]})})]}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(HD,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Backup & Restore Database"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:l.jsx(Zo,{className:"text-primary",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Backup Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download semua data sistem (produk, customer, transaksi, dll) dalam format JSON"}),l.jsxs("button",{onClick:J,className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(Zo,{size:20}),"Download Backup"]})]})]})}),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-warning transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:l.jsx(m3,{className:"text-warning",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Restore Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload file backup untuk mengembalikan data sistem"}),l.jsx("input",{type:"file",id:"restore-upload",accept:".json",onChange:oe,className:"hidden"}),l.jsxs("label",{htmlFor:"restore-upload",className:"btn btn-warning inline-flex items-center gap-2 cursor-pointer",children:[l.jsx(m3,{size:20}),"Upload Backup"]})]})]})}),l.jsx("div",{className:"border-2 border-dashed border-red-300 rounded-lg p-6 text-center hover:border-red-500 transition-colors md:col-span-2",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:l.jsx(Vn,{className:"text-danger",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-red-700",children:"Hapus Seluruh Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Menghapus SEMUA data sistem. Data tidak bisa dikembalikan!"}),l.jsxs("button",{onClick:ue,className:"btn btn-danger inline-flex items-center gap-2",children:[l.jsx(Vn,{size:20}),"Hapus Semua Data"]})]})]})})]}),l.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-yellow-600 font-bold",children:""}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-yellow-800 mb-1",children:"Peringatan"}),l.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[l.jsx("li",{children:" Backup database secara rutin untuk keamanan data"}),l.jsx("li",{children:" Restore akan mengganti semua data yang ada saat ini"}),l.jsx("li",{children:" Pastikan file backup valid sebelum melakukan restore"}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Hapus Database akan menghapus SEMUA data tanpa bisa dikembalikan!"})]}),l.jsx("li",{children:" Sistem akan refresh otomatis setelah restore/clear berhasil"})]})]})]})})]}),l.jsx(VM,{products:T,customers:M,transactions}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(md,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Tentang Aplikasi"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(v1,{className:"text-white",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"POS & Inventory System"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-primary/10 text-primary text-sm font-medium rounded-full",children:[l.jsx(zD,{size:14}),"Versi 1.0.0"]})]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Aplikasi Point of Sale dan Manajemen Inventori lengkap dengan fitur kasir, manajemen produk, pelacakan stok, laporan penjualan, dan sinkronisasi real-time. Dirancang untuk memudahkan pengelolaan bisnis retail Anda."}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Manajemen Produk & Kategori"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Transaksi Penjualan (Kasir)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Pelacakan Stok Real-time"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Laporan Penjualan & Analitik"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Sinkronisasi Cloud (Supabase)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Scan Barcode (Android)"]})]})]}),l.jsxs("div",{className:"md:w-72 bg-white rounded-xl p-5 shadow-sm",children:[l.jsxs("h5",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(K0,{size:18,className:"text-primary"}),"Pengembang"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Nama"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"DedyChen"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),l.jsxs("a",{href:"https://wa.me/6281213821828",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-green-600 font-semibold hover:text-green-700 transition-colors",children:[l.jsx(eT,{size:16}),"0812-1382-1828"]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100",children:l.jsxs("a",{href:"https://wa.me/6281213821828?text=Halo%20DedyChen,%20saya%20ingin%20bertanya%20tentang%20aplikasi%20POS",target:"_blank",rel:"noopener noreferrer",className:"w-full btn bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Hubungi via WhatsApp"]})})]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center text-sm text-gray-500",children:l.jsx("p",{children:" 2024 POS & Inventory System. Dikembangkan dengan  oleh DedyChen"})})]})]})]}),a&&l.jsx(GM,{user:f,onClose:()=>{n(!1),h(null)}}),i&&l.jsx(YM,{mode:d,user:f,onClose:()=>{o(!1),h(null)}})]})}function GM({user:a,onClose:n}){const[i,o]=ie.useState({newPassword:"",confirmPassword:""}),[d,u]=ie.useState(""),[f,h]=ie.useState(!1),{changePassword:p}=Di(),m=x=>{if(x.preventDefault(),u(""),i.newPassword.length<4){u("Password minimal 4 karakter");return}if(i.newPassword!==i.confirmPassword){u("Password tidak cocok");return}p(a.username,i.newPassword),h(!0),setTimeout(()=>{n()},1500)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(my,{className:"text-primary",size:24}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Ganti Password"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["User: ",a.name]})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),f?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:"Password Berhasil Diubah!"}),l.jsxs("p",{className:"text-gray-600",children:["Password untuk ",a.name," telah diperbarui"]})]}):l.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:d}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password Baru *"}),l.jsx("input",{type:"password",value:i.newPassword,onChange:x=>o({...i,newPassword:x.target.value}),className:"input",placeholder:"Masukkan password baru",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 4 karakter"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password *"}),l.jsx("input",{type:"password",value:i.confirmPassword,onChange:x=>o({...i,confirmPassword:x.target.value}),className:"input",placeholder:"Ketik ulang password baru",required:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Ubah Password"}),l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function YM({mode:a,user:n,onClose:i}){const{addUser:o,updateUser:d}=Di(),[u,f]=ie.useState(""),[h,p]=ie.useState(!1),m=["pos","products","products_view","stock","customers","customers_view","sales","purchases","reports","marketplace","settings"],[x,b]=ie.useState({username:(n==null?void 0:n.username)||"",password:"",confirmPassword:"",name:(n==null?void 0:n.name)||"",role:(n==null?void 0:n.role)||"cashier",permissions:(n==null?void 0:n.permissions)||["pos","products_view"],isActive:(n==null?void 0:n.isActive)!==!1}),y=v=>{if(v==="all")b({...x,permissions:x.permissions.includes("all")?[]:["all"]});else{const A=x.permissions.filter(j=>j!=="all");A.includes(v)?b({...x,permissions:A.filter(j=>j!==v)}):b({...x,permissions:[...A,v]})}},w=v=>{if(v.preventDefault(),f(""),!x.username.trim()){f("Username harus diisi");return}if(!x.name.trim()){f("Nama harus diisi");return}if(a==="add"){if(!x.password){f("Password harus diisi");return}if(x.password.length<4){f("Password minimal 4 karakter");return}if(x.password!==x.confirmPassword){f("Konfirmasi password tidak cocok");return}}if(x.permissions.length===0){f("Pilih minimal 1 permission");return}if(a==="add"){const A=o({username:x.username.trim().toLowerCase(),password:x.password,name:x.name.trim(),role:x.role,permissions:x.permissions});if(!A.success){f(A.error);return}}else{const A={username:x.username.trim().toLowerCase(),name:x.name.trim(),role:x.role,permissions:x.permissions,isActive:x.isActive};if(x.password){if(x.password.length<4){f("Password minimal 4 karakter");return}if(x.password!==x.confirmPassword){f("Konfirmasi password tidak cocok");return}A.password=x.password}const j=d(n.id,A);if(!j.success){f(j.error);return}}p(!0),setTimeout(()=>i(),1500)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${a==="add"?"bg-green-100":"bg-blue-100"}`,children:a==="add"?l.jsx(Os,{className:"text-green-600",size:24}):l.jsx(Om,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:a==="add"?"Tambah User Baru":"Edit User"}),a==="edit"&&l.jsxs("p",{className:"text-sm text-gray-600",children:["@",n.username]})]})]}),l.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ks,{size:24})})]}),h?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(D1,{className:"text-green-600",size:32})}),l.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:a==="add"?"User Berhasil Ditambahkan!":"User Berhasil Diperbarui!"})]}):l.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[u&&l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2",children:[l.jsx(yc,{size:18}),u]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),l.jsx("input",{type:"text",value:x.username,onChange:v=>b({...x,username:v.target.value}),className:"input",placeholder:"username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",value:x.name,onChange:v=>b({...x,name:v.target.value}),className:"input",placeholder:"Nama Lengkap",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",a==="add"?"*":"(kosongkan jika tidak diubah)"]}),l.jsx("input",{type:"password",value:x.password,onChange:v=>b({...x,password:v.target.value}),className:"input",placeholder:"",required:a==="add"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password"}),l.jsx("input",{type:"password",value:x.confirmPassword,onChange:v=>b({...x,confirmPassword:v.target.value}),className:"input",placeholder:"",required:a==="add"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role *"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"role",value:"cashier",checked:x.role==="cashier",onChange:()=>b({...x,role:"cashier"}),className:"w-4 h-4"}),l.jsx("span",{className:"badge badge-info",children:"Kasir"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"role",value:"admin",checked:x.role==="admin",onChange:()=>b({...x,role:"admin",permissions:["all"]}),className:"w-4 h-4"}),l.jsx("span",{className:"badge badge-danger",children:"Admin"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:[l.jsx(aT,{size:16,className:"inline mr-1"}),"Permissions *"]}),l.jsxs("div",{className:"border rounded-lg p-4 space-y-3 max-h-48 overflow-y-auto",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[l.jsx("input",{type:"checkbox",checked:x.permissions.includes("all"),onChange:()=>y("all"),className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-green-700",children:" Semua Akses (Admin)"})]}),l.jsx("hr",{}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(v=>l.jsxs("label",{className:`flex items-center gap-2 cursor-pointer p-2 rounded transition-colors ${x.permissions.includes("all")?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:x.permissions.includes("all")||x.permissions.includes(v),onChange:()=>!x.permissions.includes("all")&&y(v),disabled:x.permissions.includes("all"),className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:P5[v]||v})]},v))})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.permissions.includes("all")?"User memiliki akses ke semua fitur":`${x.permissions.length} permission dipilih`})]}),a==="edit"&&(n==null?void 0:n.id)!==1&&l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:x.isActive,onChange:v=>b({...x,isActive:v.target.checked}),className:"w-4 h-4"}),l.jsx("span",{children:"User Aktif"})]}),l.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"User nonaktif tidak bisa login"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a==="add"?"Tambah User":"Simpan Perubahan"}),l.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function VM({products:a,customers:n,transactions:i}){var b,y;const[o,d]=ie.useState({isConfigured:!1,isOnline:!1,message:"Memeriksa..."}),[u,f]=ie.useState(!1),[h,p]=ie.useState(null);ie.useEffect(()=>{m()},[]);const m=async()=>{const w=await HM();d(w)},x=async()=>{if(confirm(`Upload semua data lokal ke Supabase?

Data di cloud akan di-update/ditambahkan.`)){f(!0),p(null);try{const w=await $M(a,n,i);p(w.data)}catch(w){p({errors:[w.message]})}f(!1),await m()}};return l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(f3,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Sinkronisasi Cloud (Supabase)"})]}),l.jsxs("button",{onClick:m,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[l.jsx(x1,{size:16}),"Refresh Status"]})]}),l.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-center gap-3 ${o.isOnline?"bg-green-50 border border-green-200":o.isConfigured?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[o.isOnline?l.jsx(D1,{className:"text-green-600",size:24}):l.jsx(yc,{className:o.isConfigured?"text-yellow-600":"text-gray-400",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold ${o.isOnline?"text-green-700":o.isConfigured?"text-yellow-700":"text-gray-600"}`,children:o.isOnline?" Terhubung ke Supabase":o.message}),o.productCount!==void 0&&l.jsxs("p",{className:"text-sm text-gray-600",children:[o.productCount," produk di cloud"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:a.length}),l.jsx("p",{className:"text-sm text-blue-600",children:"Produk Lokal"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:n.length}),l.jsx("p",{className:"text-sm text-purple-600",children:"Customer Lokal"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:i.length}),l.jsx("p",{className:"text-sm text-green-600",children:"Transaksi Lokal"})]})]}),l.jsx("button",{onClick:x,disabled:!o.isOnline||u,className:`btn w-full flex items-center justify-center gap-2 ${o.isOnline?"btn-primary":"btn-secondary opacity-50 cursor-not-allowed"}`,children:u?l.jsxs(l.Fragment,{children:[l.jsx(x1,{size:20,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[l.jsx(m3,{size:20}),"Upload Data Lokal ke Cloud"]})}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg ${(b=h.errors)!=null&&b.length?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:((y=h.errors)==null?void 0:y.length)>0?l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-red-700 mb-2",children:"Beberapa error terjadi:"}),l.jsxs("ul",{className:"text-sm text-red-600 list-disc list-inside",children:[h.errors.slice(0,5).map((w,v)=>l.jsx("li",{children:w},v)),h.errors.length>5&&l.jsxs("li",{children:["...dan ",h.errors.length-5," error lainnya"]})]})]}):l.jsxs("div",{className:"text-green-700",children:[l.jsx("p",{className:"font-semibold mb-1",children:" Sinkronisasi berhasil!"}),l.jsxs("p",{className:"text-sm",children:[h.products," produk, ",h.customers," customer, ",h.transactions," transaksi ter-sync"]})]})}),!1]})}const zb=hl("Device",{web:()=>Mu(()=>import("./web-B9c-QoNi.js"),[]).then(a=>new a.DeviceWeb)});function KM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState(null),[p,m]=ie.useState(0),[x,b]=ie.useState({id:"",name:""}),[y,w]=ie.useState(""),[v,A]=ie.useState(null),{products:j}=Ws();ie.useEffect(()=>{const M=`scan-${Date.now()}`;return w(M),zb.getInfo().then(Q=>{zb.getId().then(F=>{b({id:F.identifier||F.uuid||"unknown",name:`${Q.manufacturer} ${Q.model}`})})}),E(),()=>{D()}},[]);const E=async()=>{try{const{error:M}=await Cr.from("barcode_scans").select("id").limit(1);u(!M)}catch{u(!1)}},k=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const M=document.getElementById("root");M&&(M.style.visibility="hidden")},N=()=>{document.body.style.background="",document.documentElement.style.background="";const M=document.getElementById("root");M&&(M.style.visibility="visible")},B=async M=>{try{const{error:Q}=await Cr.from("barcode_scans").insert({barcode:M,device_id:x.id,device_name:x.name,session_id:y,processed:!1});if(Q)throw Q;const F=j.find(P=>P.barcode===M||P.code===M||P.sku===M);return h({barcode:M,product:F?F.name:null,time:new Date().toLocaleTimeString()}),m(P=>P+1),!0}catch(Q){return console.error("Error sending scan:",Q),A("Gagal mengirim scan ke server"),!1}},I=async()=>{try{A(null);const{camera:M}=await ei.requestPermissions();if(M!=="granted"&&M!=="limited"){A("Izin kamera diperlukan");return}k(),n(!0),await ei.addListener("barcodeScanned",async Q=>{var F;(F=Q.barcode)!=null&&F.rawValue&&(navigator.vibrate&&navigator.vibrate(100),await B(Q.barcode.rawValue))}),await ei.startScan({formats:[Nn.Ean13,Nn.Ean8,Nn.Code128,Nn.Code39,Nn.QrCode,Nn.UpcA,Nn.UpcE],lensFacing:"back"})}catch(M){console.error("Scan error:",M),A("Gagal memulai scanner: "+M.message),N(),n(!1)}},D=async()=>{try{await ei.stopScan(),await ei.removeAllListeners(),i&&await ei.toggleTorch()}catch(M){console.error("Stop scan error:",M)}finally{N(),n(!1),o(!1)}},T=async()=>{try{await ei.toggleTorch(),o(!i)}catch(M){console.error("Torch error:",M)}};return a?l.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent"},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-green-500 rounded-tl-xl"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-green-500 rounded-tr-xl"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-green-500 rounded-bl-xl"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-green-500 rounded-br-xl"}),l.jsx("div",{className:"absolute left-4 right-4 h-1 bg-green-500 rounded scanning-line"})]})}),l.jsxs("div",{className:"absolute top-4 left-0 right-0 text-center pointer-events-none safe-area-top",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/60 backdrop-blur px-4 py-2 rounded-full",children:[l.jsx(au,{className:"text-green-400",size:18}),l.jsx("span",{className:"text-white font-medium",children:"Mode Remote Scanner"})]}),l.jsx("p",{className:"text-gray-200 text-sm mt-2",children:"Scan untuk kirim ke Kasir Web"})]}),f&&l.jsx("div",{className:"absolute top-24 left-4 right-4 pointer-events-none",children:l.jsxs("div",{className:"bg-green-500/90 backdrop-blur rounded-xl p-3 flex items-center gap-3",children:[l.jsx(Y0,{className:"text-white flex-shrink-0",size:24}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:f.product||f.barcode}),l.jsxs("p",{className:"text-green-100 text-sm",children:["Terkirim ke Web  ",f.time]})]}),l.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:l.jsx("span",{className:"text-white font-bold",children:p})})]})}),l.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[l.jsx("button",{onClick:T,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40",children:i?l.jsx(hy,{size:28,className:"text-yellow-400"}):l.jsx(py,{size:28,className:"text-white"})}),l.jsx("button",{onClick:D,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40",children:l.jsx(Ks,{size:30,className:"text-white"})})]}),l.jsx("style",{children:`
          .scanning-line {
            animation: scan 2s ease-in-out infinite;
          }
          @keyframes scan {
            0%, 100% { top: 10%; }
            50% { top: 85%; }
          }
        `})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 text-white p-6 rounded-b-3xl",children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Remote Scanner"}),l.jsx("p",{className:"text-green-100",children:"Scan barcode untuk kasir di Web"}),l.jsx("div",{className:"mt-4 flex items-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx(au,{size:20,className:"text-green-300"}),l.jsx("span",{className:"text-green-200",children:"Terhubung ke server"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ay,{size:20,className:"text-red-300"}),l.jsx("span",{className:"text-red-200",children:"Tidak terhubung"})]})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[v&&l.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl",children:v}),l.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Cara Penggunaan:"}),l.jsxs("ol",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"1"}),l.jsxs("span",{children:["Buka halaman ",l.jsx("strong",{children:"Kasir/POS"})," di komputer Web"]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"2"}),l.jsxs("span",{children:["Tekan tombol ",l.jsx("strong",{children:'"Mulai Scan"'})," di bawah"]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"3"}),l.jsx("span",{children:"Arahkan kamera ke barcode produk"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"4"}),l.jsx("span",{children:"Produk otomatis masuk ke keranjang di Web!"})]})]})]}),p>0&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(en,{className:"text-green-600",size:24}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-green-900",children:[p," produk di-scan"]}),f&&l.jsxs("p",{className:"text-sm text-green-700",children:["Terakhir: ",f.product||f.barcode]})]})]}),l.jsx("button",{onClick:()=>{m(0),h(null)},className:"text-green-600 text-sm underline",children:"Reset"})]})}),l.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Device:"})," ",x.name||"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Session:"})," ",y]})]}),l.jsxs("button",{onClick:I,disabled:!d,className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 shadow-lg transition-all mt-4 ${d?"bg-green-500 text-white active:scale-95":"bg-gray-300 text-gray-500"}`,children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),d?"Mulai Scan":"Tidak Terhubung"]})]})]})}function zy(a,n){return function(){return a.apply(n,arguments)}}const{toString:WM}=Object.prototype,{getPrototypeOf:$m}=Object,{iterator:Uu,toStringTag:Ly}=Symbol,zu=(a=>n=>{const i=WM.call(n);return a[i]||(a[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Wi=a=>(a=a.toLowerCase(),n=>zu(n)===a),Lu=a=>n=>typeof n===a,{isArray:kc}=Array,uc=Lu("undefined");function u2(a){return a!==null&&!uc(a)&&a.constructor!==null&&!uc(a.constructor)&&ci(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Qy=Wi("ArrayBuffer");function JM(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&Qy(a.buffer),n}const XM=Lu("string"),ci=Lu("function"),Hy=Lu("number"),f2=a=>a!==null&&typeof a=="object",ZM=a=>a===!0||a===!1,xd=a=>{if(zu(a)!=="object")return!1;const n=$m(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Ly in a)&&!(Uu in a)},eF=a=>{if(!f2(a)||u2(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},tF=Wi("Date"),rF=Wi("File"),aF=Wi("Blob"),sF=Wi("FileList"),nF=a=>f2(a)&&ci(a.pipe),iF=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||ci(a.append)&&((n=zu(a))==="formdata"||n==="object"&&ci(a.toString)&&a.toString()==="[object FormData]"))},oF=Wi("URLSearchParams"),[lF,cF,dF,uF]=["ReadableStream","Request","Response","Headers"].map(Wi),fF=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function h2(a,n,{allOwnKeys:i=!1}={}){if(a===null||typeof a>"u")return;let o,d;if(typeof a!="object"&&(a=[a]),kc(a))for(o=0,d=a.length;o<d;o++)n.call(null,a[o],o,a);else{if(u2(a))return;const u=i?Object.getOwnPropertyNames(a):Object.keys(a),f=u.length;let h;for(o=0;o<f;o++)h=u[o],n.call(null,a[h],h,a)}}function $y(a,n){if(u2(a))return null;n=n.toLowerCase();const i=Object.keys(a);let o=i.length,d;for(;o-- >0;)if(d=i[o],n===d.toLowerCase())return d;return null}const Wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qy=a=>!uc(a)&&a!==Wo;function b3(){const{caseless:a,skipUndefined:n}=qy(this)&&this||{},i={},o=(d,u)=>{const f=a&&$y(i,u)||u;xd(i[f])&&xd(d)?i[f]=b3(i[f],d):xd(d)?i[f]=b3({},d):kc(d)?i[f]=d.slice():(!n||!uc(d))&&(i[f]=d)};for(let d=0,u=arguments.length;d<u;d++)arguments[d]&&h2(arguments[d],o);return i}const hF=(a,n,i,{allOwnKeys:o}={})=>(h2(n,(d,u)=>{i&&ci(d)?a[u]=zy(d,i):a[u]=d},{allOwnKeys:o}),a),pF=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),mF=(a,n,i,o)=>{a.prototype=Object.create(n.prototype,o),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),i&&Object.assign(a.prototype,i)},xF=(a,n,i,o)=>{let d,u,f;const h={};if(n=n||{},a==null)return n;do{for(d=Object.getOwnPropertyNames(a),u=d.length;u-- >0;)f=d[u],(!o||o(f,a,n))&&!h[f]&&(n[f]=a[f],h[f]=!0);a=i!==!1&&$m(a)}while(a&&(!i||i(a,n))&&a!==Object.prototype);return n},vF=(a,n,i)=>{a=String(a),(i===void 0||i>a.length)&&(i=a.length),i-=n.length;const o=a.indexOf(n,i);return o!==-1&&o===i},gF=a=>{if(!a)return null;if(kc(a))return a;let n=a.length;if(!Hy(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=a[n];return i},bF=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&$m(Uint8Array)),wF=(a,n)=>{const o=(a&&a[Uu]).call(a);let d;for(;(d=o.next())&&!d.done;){const u=d.value;n.call(a,u[0],u[1])}},yF=(a,n)=>{let i;const o=[];for(;(i=a.exec(n))!==null;)o.push(i);return o},AF=Wi("HTMLFormElement"),kF=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),Lb=(({hasOwnProperty:a})=>(n,i)=>a.call(n,i))(Object.prototype),jF=Wi("RegExp"),Gy=(a,n)=>{const i=Object.getOwnPropertyDescriptors(a),o={};h2(i,(d,u)=>{let f;(f=n(d,u,a))!==!1&&(o[u]=f||d)}),Object.defineProperties(a,o)},NF=a=>{Gy(a,(n,i)=>{if(ci(a)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=a[i];if(ci(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},SF=(a,n)=>{const i={},o=d=>{d.forEach(u=>{i[u]=!0})};return kc(a)?o(a):o(String(a).split(n)),i},EF=()=>{},CF=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function IF(a){return!!(a&&ci(a.append)&&a[Ly]==="FormData"&&a[Uu])}const BF=a=>{const n=new Array(10),i=(o,d)=>{if(f2(o)){if(n.indexOf(o)>=0)return;if(u2(o))return o;if(!("toJSON"in o)){n[d]=o;const u=kc(o)?[]:{};return h2(o,(f,h)=>{const p=i(f,d+1);!uc(p)&&(u[h]=p)}),n[d]=void 0,u}}return o};return i(a,0)},DF=Wi("AsyncFunction"),TF=a=>a&&(f2(a)||ci(a))&&ci(a.then)&&ci(a.catch),Yy=((a,n)=>a?setImmediate:n?((i,o)=>(Wo.addEventListener("message",({source:d,data:u})=>{d===Wo&&u===i&&o.length&&o.shift()()},!1),d=>{o.push(d),Wo.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",ci(Wo.postMessage)),RF=typeof queueMicrotask<"u"?queueMicrotask.bind(Wo):typeof process<"u"&&process.nextTick||Yy,MF=a=>a!=null&&ci(a[Uu]),Te={isArray:kc,isArrayBuffer:Qy,isBuffer:u2,isFormData:iF,isArrayBufferView:JM,isString:XM,isNumber:Hy,isBoolean:ZM,isObject:f2,isPlainObject:xd,isEmptyObject:eF,isReadableStream:lF,isRequest:cF,isResponse:dF,isHeaders:uF,isUndefined:uc,isDate:tF,isFile:rF,isBlob:aF,isRegExp:jF,isFunction:ci,isStream:nF,isURLSearchParams:oF,isTypedArray:bF,isFileList:sF,forEach:h2,merge:b3,extend:hF,trim:fF,stripBOM:pF,inherits:mF,toFlatObject:xF,kindOf:zu,kindOfTest:Wi,endsWith:vF,toArray:gF,forEachEntry:wF,matchAll:yF,isHTMLForm:AF,hasOwnProperty:Lb,hasOwnProp:Lb,reduceDescriptors:Gy,freezeMethods:NF,toObjectSet:SF,toCamelCase:kF,noop:EF,toFiniteNumber:CF,findKey:$y,global:Wo,isContextDefined:qy,isSpecCompliantForm:IF,toJSONObject:BF,isAsyncFn:DF,isThenable:TF,setImmediate:Yy,asap:RF,isIterable:MF};function jr(a,n,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}Te.inherits(jr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const Vy=jr.prototype,Ky={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Ky[a]={value:a}});Object.defineProperties(jr,Ky);Object.defineProperty(Vy,"isAxiosError",{value:!0});jr.from=(a,n,i,o,d,u)=>{const f=Object.create(Vy);Te.toFlatObject(a,f,function(x){return x!==Error.prototype},m=>m!=="isAxiosError");const h=a&&a.message?a.message:"Error",p=n==null&&a?a.code:n;return jr.call(f,h,p,i,o,d),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",u&&Object.assign(f,u),f};const FF=null;function w3(a){return Te.isPlainObject(a)||Te.isArray(a)}function Wy(a){return Te.endsWith(a,"[]")?a.slice(0,-2):a}function Qb(a,n,i){return a?a.concat(n).map(function(d,u){return d=Wy(d),!i&&u?"["+d+"]":d}).join(i?".":""):n}function PF(a){return Te.isArray(a)&&!a.some(w3)}const _F=Te.toFlatObject(Te,{},null,function(n){return/^is[A-Z]/.test(n)});function Qu(a,n,i){if(!Te.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,i=Te.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,j){return!Te.isUndefined(j[A])});const o=i.metaTokens,d=i.visitor||x,u=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(n);if(!Te.isFunction(d))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(Te.isDate(v))return v.toISOString();if(Te.isBoolean(v))return v.toString();if(!p&&Te.isBlob(v))throw new jr("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(v)||Te.isTypedArray(v)?p&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function x(v,A,j){let E=v;if(v&&!j&&typeof v=="object"){if(Te.endsWith(A,"{}"))A=o?A:A.slice(0,-2),v=JSON.stringify(v);else if(Te.isArray(v)&&PF(v)||(Te.isFileList(v)||Te.endsWith(A,"[]"))&&(E=Te.toArray(v)))return A=Wy(A),E.forEach(function(N,B){!(Te.isUndefined(N)||N===null)&&n.append(f===!0?Qb([A],B,u):f===null?A:A+"[]",m(N))}),!1}return w3(v)?!0:(n.append(Qb(j,A,u),m(v)),!1)}const b=[],y=Object.assign(_F,{defaultVisitor:x,convertValue:m,isVisitable:w3});function w(v,A){if(!Te.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+A.join("."));b.push(v),Te.forEach(v,function(E,k){(!(Te.isUndefined(E)||E===null)&&d.call(n,E,Te.isString(k)?k.trim():k,A,y))===!0&&w(E,A?A.concat(k):[k])}),b.pop()}}if(!Te.isObject(a))throw new TypeError("data must be an object");return w(a),n}function Hb(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function qm(a,n){this._pairs=[],a&&Qu(a,this,n)}const Jy=qm.prototype;Jy.append=function(n,i){this._pairs.push([n,i])};Jy.toString=function(n){const i=n?function(o){return n.call(this,o,Hb)}:Hb;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function OF(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xy(a,n,i){if(!n)return a;const o=i&&i.encode||OF;Te.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let u;if(d?u=d(n,i):u=Te.isURLSearchParams(n)?n.toString():new qm(n,i).toString(o),u){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+u}return a}class $b{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Te.forEach(this.handlers,function(o){o!==null&&n(o)})}}const Zy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UF=typeof URLSearchParams<"u"?URLSearchParams:qm,zF=typeof FormData<"u"?FormData:null,LF=typeof Blob<"u"?Blob:null,QF={isBrowser:!0,classes:{URLSearchParams:UF,FormData:zF,Blob:LF},protocols:["http","https","file","blob","url","data"]},Gm=typeof window<"u"&&typeof document<"u",y3=typeof navigator=="object"&&navigator||void 0,HF=Gm&&(!y3||["ReactNative","NativeScript","NS"].indexOf(y3.product)<0),$F=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qF=Gm&&window.location.href||"http://localhost",GF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gm,hasStandardBrowserEnv:HF,hasStandardBrowserWebWorkerEnv:$F,navigator:y3,origin:qF},Symbol.toStringTag,{value:"Module"})),On={...GF,...QF};function YF(a,n){return Qu(a,new On.classes.URLSearchParams,{visitor:function(i,o,d,u){return On.isNode&&Te.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...n})}function VF(a){return Te.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function KF(a){const n={},i=Object.keys(a);let o;const d=i.length;let u;for(o=0;o<d;o++)u=i[o],n[u]=a[u];return n}function eA(a){function n(i,o,d,u){let f=i[u++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=u>=i.length;return f=!f&&Te.isArray(d)?d.length:f,p?(Te.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!h):((!d[f]||!Te.isObject(d[f]))&&(d[f]=[]),n(i,o,d[f],u)&&Te.isArray(d[f])&&(d[f]=KF(d[f])),!h)}if(Te.isFormData(a)&&Te.isFunction(a.entries)){const i={};return Te.forEachEntry(a,(o,d)=>{n(VF(o),d,i,0)}),i}return null}function WF(a,n,i){if(Te.isString(a))try{return(n||JSON.parse)(a),Te.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(a)}const p2={transitional:Zy,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,u=Te.isObject(n);if(u&&Te.isHTMLForm(n)&&(n=new FormData(n)),Te.isFormData(n))return d?JSON.stringify(eA(n)):n;if(Te.isArrayBuffer(n)||Te.isBuffer(n)||Te.isStream(n)||Te.isFile(n)||Te.isBlob(n)||Te.isReadableStream(n))return n;if(Te.isArrayBufferView(n))return n.buffer;if(Te.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return YF(n,this.formSerializer).toString();if((h=Te.isFileList(n))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Qu(h?{"files[]":n}:n,p&&new p,this.formSerializer)}}return u||d?(i.setContentType("application/json",!1),WF(n)):n}],transformResponse:[function(n){const i=this.transitional||p2.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(Te.isResponse(n)||Te.isReadableStream(n))return n;if(n&&Te.isString(n)&&(o&&!this.responseType||d)){const f=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(n,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?jr.from(h,jr.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],a=>{p2.headers[a]={}});const JF=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XF=a=>{const n={};let i,o,d;return a&&a.split(`
`).forEach(function(f){d=f.indexOf(":"),i=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!i||n[i]&&JF[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},qb=Symbol("internals");function o0(a){return a&&String(a).trim().toLowerCase()}function vd(a){return a===!1||a==null?a:Te.isArray(a)?a.map(vd):String(a)}function ZF(a){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(a);)n[o[1]]=o[2];return n}const eP=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Kh(a,n,i,o,d){if(Te.isFunction(o))return o.call(this,n,i);if(d&&(n=i),!!Te.isString(n)){if(Te.isString(o))return n.indexOf(o)!==-1;if(Te.isRegExp(o))return o.test(n)}}function tP(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function rP(a,n){const i=Te.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(a,o+i,{value:function(d,u,f){return this[o].call(this,n,d,u,f)},configurable:!0})})}let di=class{constructor(n){n&&this.set(n)}set(n,i,o){const d=this;function u(h,p,m){const x=o0(p);if(!x)throw new Error("header name must be a non-empty string");const b=Te.findKey(d,x);(!b||d[b]===void 0||m===!0||m===void 0&&d[b]!==!1)&&(d[b||p]=vd(h))}const f=(h,p)=>Te.forEach(h,(m,x)=>u(m,x,p));if(Te.isPlainObject(n)||n instanceof this.constructor)f(n,i);else if(Te.isString(n)&&(n=n.trim())&&!eP(n))f(XF(n),i);else if(Te.isObject(n)&&Te.isIterable(n)){let h={},p,m;for(const x of n){if(!Te.isArray(x))throw TypeError("Object iterator must return a key-value pair");h[m=x[0]]=(p=h[m])?Te.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}f(h,i)}else n!=null&&u(i,n,o);return this}get(n,i){if(n=o0(n),n){const o=Te.findKey(this,n);if(o){const d=this[o];if(!i)return d;if(i===!0)return ZF(d);if(Te.isFunction(i))return i.call(this,d,o);if(Te.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=o0(n),n){const o=Te.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Kh(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let d=!1;function u(f){if(f=o0(f),f){const h=Te.findKey(o,f);h&&(!i||Kh(o,o[h],h,i))&&(delete o[h],d=!0)}}return Te.isArray(n)?n.forEach(u):u(n),d}clear(n){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const u=i[o];(!n||Kh(this,this[u],u,n,!0))&&(delete this[u],d=!0)}return d}normalize(n){const i=this,o={};return Te.forEach(this,(d,u)=>{const f=Te.findKey(o,u);if(f){i[f]=vd(d),delete i[u];return}const h=n?tP(u):String(u).trim();h!==u&&delete i[u],i[h]=vd(d),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return Te.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=n&&Te.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(d=>o.set(d)),o}static accessor(n){const o=(this[qb]=this[qb]={accessors:{}}).accessors,d=this.prototype;function u(f){const h=o0(f);o[h]||(rP(d,f),o[h]=!0)}return Te.isArray(n)?n.forEach(u):u(n),this}};di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(di.prototype,({value:a},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(o){this[i]=o}}});Te.freezeMethods(di);function Wh(a,n){const i=this||p2,o=n||i,d=di.from(o.headers);let u=o.data;return Te.forEach(a,function(h){u=h.call(i,u,d.normalize(),n?n.status:void 0)}),d.normalize(),u}function tA(a){return!!(a&&a.__CANCEL__)}function jc(a,n,i){jr.call(this,a??"canceled",jr.ERR_CANCELED,n,i),this.name="CanceledError"}Te.inherits(jc,jr,{__CANCEL__:!0});function rA(a,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?a(i):n(new jr("Request failed with status code "+i.status,[jr.ERR_BAD_REQUEST,jr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function aP(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function sP(a,n){a=a||10;const i=new Array(a),o=new Array(a);let d=0,u=0,f;return n=n!==void 0?n:1e3,function(p){const m=Date.now(),x=o[u];f||(f=m),i[d]=p,o[d]=m;let b=u,y=0;for(;b!==d;)y+=i[b++],b=b%a;if(d=(d+1)%a,d===u&&(u=(u+1)%a),m-f<n)return;const w=x&&m-x;return w?Math.round(y*1e3/w):void 0}}function nP(a,n){let i=0,o=1e3/n,d,u;const f=(m,x=Date.now())=>{i=x,d=null,u&&(clearTimeout(u),u=null),a(...m)};return[(...m)=>{const x=Date.now(),b=x-i;b>=o?f(m,x):(d=m,u||(u=setTimeout(()=>{u=null,f(d)},o-b)))},()=>d&&f(d)]}const iu=(a,n,i=3)=>{let o=0;const d=sP(50,250);return nP(u=>{const f=u.loaded,h=u.lengthComputable?u.total:void 0,p=f-o,m=d(p),x=f<=h;o=f;const b={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&x?(h-f)/m:void 0,event:u,lengthComputable:h!=null,[n?"download":"upload"]:!0};a(b)},i)},Gb=(a,n)=>{const i=a!=null;return[o=>n[0]({lengthComputable:i,total:a,loaded:o}),n[1]]},Yb=a=>(...n)=>Te.asap(()=>a(...n)),iP=On.hasStandardBrowserEnv?((a,n)=>i=>(i=new URL(i,On.origin),a.protocol===i.protocol&&a.host===i.host&&(n||a.port===i.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,oP=On.hasStandardBrowserEnv?{write(a,n,i,o,d,u,f){if(typeof document>"u")return;const h=[`${a}=${encodeURIComponent(n)}`];Te.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),Te.isString(o)&&h.push(`path=${o}`),Te.isString(d)&&h.push(`domain=${d}`),u===!0&&h.push("secure"),Te.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(a){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lP(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function cP(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function aA(a,n,i){let o=!lP(n);return a&&(o||i==!1)?cP(a,n):n}const Vb=a=>a instanceof di?{...a}:a;function ol(a,n){n=n||{};const i={};function o(m,x,b,y){return Te.isPlainObject(m)&&Te.isPlainObject(x)?Te.merge.call({caseless:y},m,x):Te.isPlainObject(x)?Te.merge({},x):Te.isArray(x)?x.slice():x}function d(m,x,b,y){if(Te.isUndefined(x)){if(!Te.isUndefined(m))return o(void 0,m,b,y)}else return o(m,x,b,y)}function u(m,x){if(!Te.isUndefined(x))return o(void 0,x)}function f(m,x){if(Te.isUndefined(x)){if(!Te.isUndefined(m))return o(void 0,m)}else return o(void 0,x)}function h(m,x,b){if(b in n)return o(m,x);if(b in a)return o(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(m,x,b)=>d(Vb(m),Vb(x),b,!0)};return Te.forEach(Object.keys({...a,...n}),function(x){const b=p[x]||d,y=b(a[x],n[x],x);Te.isUndefined(y)&&b!==h||(i[x]=y)}),i}const sA=a=>{const n=ol({},a);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:u,headers:f,auth:h}=n;if(n.headers=f=di.from(f),n.url=Xy(aA(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Te.isFormData(i)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Te.isFunction(i.getHeaders)){const p=i.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([x,b])=>{m.includes(x.toLowerCase())&&f.set(x,b)})}}if(On.hasStandardBrowserEnv&&(o&&Te.isFunction(o)&&(o=o(n)),o||o!==!1&&iP(n.url))){const p=d&&u&&oP.read(u);p&&f.set(d,p)}return n},dP=typeof XMLHttpRequest<"u",uP=dP&&function(a){return new Promise(function(i,o){const d=sA(a);let u=d.data;const f=di.from(d.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=d,x,b,y,w,v;function A(){w&&w(),v&&v(),d.cancelToken&&d.cancelToken.unsubscribe(x),d.signal&&d.signal.removeEventListener("abort",x)}let j=new XMLHttpRequest;j.open(d.method.toUpperCase(),d.url,!0),j.timeout=d.timeout;function E(){if(!j)return;const N=di.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:N,config:a,request:j};rA(function(T){i(T),A()},function(T){o(T),A()},I),j=null}"onloadend"in j?j.onloadend=E:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(E)},j.onabort=function(){j&&(o(new jr("Request aborted",jr.ECONNABORTED,a,j)),j=null)},j.onerror=function(B){const I=B&&B.message?B.message:"Network Error",D=new jr(I,jr.ERR_NETWORK,a,j);D.event=B||null,o(D),j=null},j.ontimeout=function(){let B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const I=d.transitional||Zy;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),o(new jr(B,I.clarifyTimeoutError?jr.ETIMEDOUT:jr.ECONNABORTED,a,j)),j=null},u===void 0&&f.setContentType(null),"setRequestHeader"in j&&Te.forEach(f.toJSON(),function(B,I){j.setRequestHeader(I,B)}),Te.isUndefined(d.withCredentials)||(j.withCredentials=!!d.withCredentials),h&&h!=="json"&&(j.responseType=d.responseType),m&&([y,v]=iu(m,!0),j.addEventListener("progress",y)),p&&j.upload&&([b,w]=iu(p),j.upload.addEventListener("progress",b),j.upload.addEventListener("loadend",w)),(d.cancelToken||d.signal)&&(x=N=>{j&&(o(!N||N.type?new jc(null,a,j):N),j.abort(),j=null)},d.cancelToken&&d.cancelToken.subscribe(x),d.signal&&(d.signal.aborted?x():d.signal.addEventListener("abort",x)));const k=aP(d.url);if(k&&On.protocols.indexOf(k)===-1){o(new jr("Unsupported protocol "+k+":",jr.ERR_BAD_REQUEST,a));return}j.send(u||null)})},fP=(a,n)=>{const{length:i}=a=a?a.filter(Boolean):[];if(n||i){let o=new AbortController,d;const u=function(m){if(!d){d=!0,h();const x=m instanceof Error?m:this.reason;o.abort(x instanceof jr?x:new jc(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{f=null,u(new jr(`timeout ${n} of ms exceeded`,jr.ETIMEDOUT))},n);const h=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),a=null)};a.forEach(m=>m.addEventListener("abort",u));const{signal:p}=o;return p.unsubscribe=()=>Te.asap(h),p}},hP=function*(a,n){let i=a.byteLength;if(i<n){yield a;return}let o=0,d;for(;o<i;)d=o+n,yield a.slice(o,d),o=d},pP=async function*(a,n){for await(const i of mP(a))yield*hP(i,n)},mP=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},Kb=(a,n,i,o)=>{const d=pP(a,n);let u=0,f,h=p=>{f||(f=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:x}=await d.next();if(m){h(),p.close();return}let b=x.byteLength;if(i){let y=u+=b;i(y)}p.enqueue(new Uint8Array(x))}catch(m){throw h(m),m}},cancel(p){return h(p),d.return()}},{highWaterMark:2})},Wb=64*1024,{isFunction:J2}=Te,xP=(({Request:a,Response:n})=>({Request:a,Response:n}))(Te.global),{ReadableStream:Jb,TextEncoder:Xb}=Te.global,Zb=(a,...n)=>{try{return!!a(...n)}catch{return!1}},vP=a=>{a=Te.merge.call({skipUndefined:!0},xP,a);const{fetch:n,Request:i,Response:o}=a,d=n?J2(n):typeof fetch=="function",u=J2(i),f=J2(o);if(!d)return!1;const h=d&&J2(Jb),p=d&&(typeof Xb=="function"?(v=>A=>v.encode(A))(new Xb):async v=>new Uint8Array(await new i(v).arrayBuffer())),m=u&&h&&Zb(()=>{let v=!1;const A=new i(On.origin,{body:new Jb,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!A}),x=f&&h&&Zb(()=>Te.isReadableStream(new o("").body)),b={stream:x&&(v=>v.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!b[v]&&(b[v]=(A,j)=>{let E=A&&A[v];if(E)return E.call(A);throw new jr(`Response type '${v}' is not supported`,jr.ERR_NOT_SUPPORT,j)})});const y=async v=>{if(v==null)return 0;if(Te.isBlob(v))return v.size;if(Te.isSpecCompliantForm(v))return(await new i(On.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(v)||Te.isArrayBuffer(v))return v.byteLength;if(Te.isURLSearchParams(v)&&(v=v+""),Te.isString(v))return(await p(v)).byteLength},w=async(v,A)=>{const j=Te.toFiniteNumber(v.getContentLength());return j??y(A)};return async v=>{let{url:A,method:j,data:E,signal:k,cancelToken:N,timeout:B,onDownloadProgress:I,onUploadProgress:D,responseType:T,headers:M,withCredentials:Q="same-origin",fetchOptions:F}=sA(v),P=n||fetch;T=T?(T+"").toLowerCase():"text";let L=fP([k,N&&N.toAbortSignal()],B),_=null;const H=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let Y;try{if(D&&m&&j!=="get"&&j!=="head"&&(Y=await w(M,E))!==0){let J=new i(A,{method:"POST",body:E,duplex:"half"}),oe;if(Te.isFormData(E)&&(oe=J.headers.get("content-type"))&&M.setContentType(oe),J.body){const[ue,he]=Gb(Y,iu(Yb(D)));E=Kb(J.body,Wb,ue,he)}}Te.isString(Q)||(Q=Q?"include":"omit");const de=u&&"credentials"in i.prototype,$={...F,signal:L,method:j.toUpperCase(),headers:M.normalize().toJSON(),body:E,duplex:"half",credentials:de?Q:void 0};_=u&&new i(A,$);let q=await(u?P(_,F):P(A,$));const re=x&&(T==="stream"||T==="response");if(x&&(I||re&&H)){const J={};["status","statusText","headers"].forEach(Re=>{J[Re]=q[Re]});const oe=Te.toFiniteNumber(q.headers.get("content-length")),[ue,he]=I&&Gb(oe,iu(Yb(I),!0))||[];q=new o(Kb(q.body,Wb,ue,()=>{he&&he(),H&&H()}),J)}T=T||"text";let ce=await b[Te.findKey(b,T)||"text"](q,v);return!re&&H&&H(),await new Promise((J,oe)=>{rA(J,oe,{data:ce,headers:di.from(q.headers),status:q.status,statusText:q.statusText,config:v,request:_})})}catch(de){throw H&&H(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new jr("Network Error",jr.ERR_NETWORK,v,_),{cause:de.cause||de}):jr.from(de,de&&de.code,v,_)}}},gP=new Map,nA=a=>{let n=a&&a.env||{};const{fetch:i,Request:o,Response:d}=n,u=[o,d,i];let f=u.length,h=f,p,m,x=gP;for(;h--;)p=u[h],m=x.get(p),m===void 0&&x.set(p,m=h?new Map:vP(n)),x=m;return m};nA();const Ym={http:FF,xhr:uP,fetch:{get:nA}};Te.forEach(Ym,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const e6=a=>`- ${a}`,bP=a=>Te.isFunction(a)||a===null||a===!1;function wP(a,n){a=Te.isArray(a)?a:[a];const{length:i}=a;let o,d;const u={};for(let f=0;f<i;f++){o=a[f];let h;if(d=o,!bP(o)&&(d=Ym[(h=String(o)).toLowerCase()],d===void 0))throw new jr(`Unknown adapter '${h}'`);if(d&&(Te.isFunction(d)||(d=d.get(n))))break;u[h||"#"+f]=d}if(!d){const f=Object.entries(u).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(e6).join(`
`):" "+e6(f[0]):"as no adapter specified";throw new jr("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d}const iA={getAdapter:wP,adapters:Ym};function Jh(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new jc(null,a)}function t6(a){return Jh(a),a.headers=di.from(a.headers),a.data=Wh.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),iA.getAdapter(a.adapter||p2.adapter,a)(a).then(function(o){return Jh(a),o.data=Wh.call(a,a.transformResponse,o),o.headers=di.from(o.headers),o},function(o){return tA(o)||(Jh(a),o&&o.response&&(o.response.data=Wh.call(a,a.transformResponse,o.response),o.response.headers=di.from(o.response.headers))),Promise.reject(o)})}const oA="1.13.2",Hu={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{Hu[a]=function(o){return typeof o===a||"a"+(n<1?"n ":" ")+a}});const r6={};Hu.transitional=function(n,i,o){function d(u,f){return"[Axios v"+oA+"] Transitional option '"+u+"'"+f+(o?". "+o:"")}return(u,f,h)=>{if(n===!1)throw new jr(d(f," has been removed"+(i?" in "+i:"")),jr.ERR_DEPRECATED);return i&&!r6[f]&&(r6[f]=!0,console.warn(d(f," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(u,f,h):!0}};Hu.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function yP(a,n,i){if(typeof a!="object")throw new jr("options must be an object",jr.ERR_BAD_OPTION_VALUE);const o=Object.keys(a);let d=o.length;for(;d-- >0;){const u=o[d],f=n[u];if(f){const h=a[u],p=h===void 0||f(h,u,a);if(p!==!0)throw new jr("option "+u+" must be "+p,jr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new jr("Unknown option "+u,jr.ERR_BAD_OPTION)}}const gd={assertOptions:yP,validators:Hu},l1=gd.validators;let tl=class{constructor(n){this.defaults=n||{},this.interceptors={request:new $b,response:new $b}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const u=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=ol(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:u}=i;o!==void 0&&gd.assertOptions(o,{silentJSONParsing:l1.transitional(l1.boolean),forcedJSONParsing:l1.transitional(l1.boolean),clarifyTimeoutError:l1.transitional(l1.boolean)},!1),d!=null&&(Te.isFunction(d)?i.paramsSerializer={serialize:d}:gd.assertOptions(d,{encode:l1.function,serialize:l1.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),gd.assertOptions(i,{baseUrl:l1.spelling("baseURL"),withXsrfToken:l1.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&Te.merge(u.common,u[i.method]);u&&Te.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),i.headers=di.concat(f,u);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(i)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let x,b=0,y;if(!p){const v=[t6.bind(this),void 0];for(v.unshift(...h),v.push(...m),y=v.length,x=Promise.resolve(i);b<y;)x=x.then(v[b++],v[b++]);return x}y=h.length;let w=i;for(;b<y;){const v=h[b++],A=h[b++];try{w=v(w)}catch(j){A.call(this,j);break}}try{x=t6.call(this,w)}catch(v){return Promise.reject(v)}for(b=0,y=m.length;b<y;)x=x.then(m[b++],m[b++]);return x}getUri(n){n=ol(this.defaults,n);const i=aA(n.baseURL,n.url,n.allowAbsoluteUrls);return Xy(i,n.params,n.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(n){tl.prototype[n]=function(i,o){return this.request(ol(o||{},{method:n,url:i,data:(o||{}).data}))}});Te.forEach(["post","put","patch"],function(n){function i(o){return function(u,f,h){return this.request(ol(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}tl.prototype[n]=i(),tl.prototype[n+"Form"]=i(!0)});let AP=class lA{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(d=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](d);o._listeners=null}),this.promise.then=d=>{let u;const f=new Promise(h=>{o.subscribe(h),u=h}).then(d);return f.cancel=function(){o.unsubscribe(u)},f},n(function(u,f,h){o.reason||(o.reason=new jc(u,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new lA(function(d){n=d}),cancel:n}}};function kP(a){return function(i){return a.apply(null,i)}}function jP(a){return Te.isObject(a)&&a.isAxiosError===!0}const A3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(A3).forEach(([a,n])=>{A3[n]=a});function cA(a){const n=new tl(a),i=zy(tl.prototype.request,n);return Te.extend(i,tl.prototype,n,{allOwnKeys:!0}),Te.extend(i,n,null,{allOwnKeys:!0}),i.create=function(d){return cA(ol(a,d))},i}const Us=cA(p2);Us.Axios=tl;Us.CanceledError=jc;Us.CancelToken=AP;Us.isCancel=tA;Us.VERSION=oA;Us.toFormData=Qu;Us.AxiosError=jr;Us.Cancel=Us.CanceledError;Us.all=function(n){return Promise.all(n)};Us.spread=kP;Us.isAxiosError=jP;Us.mergeConfig=ol;Us.AxiosHeaders=di;Us.formToJSON=a=>eA(Te.isHTMLForm(a)?new FormData(a):a);Us.getAdapter=iA.getAdapter;Us.HttpStatusCode=A3;Us.default=Us;const{Axios:rO,AxiosError:aO,CanceledError:sO,isCancel:nO,CancelToken:iO,VERSION:oO,all:lO,Cancel:cO,isAxiosError:dO,spread:uO,toFormData:fO,AxiosHeaders:hO,HttpStatusCode:pO,formToJSON:mO,getAdapter:xO,mergeConfig:vO}=Us,dA=!0,X2="https://pos-inventory-system-gamma.vercel.app/api",NP={shopee:`${X2}/shopee`,lazada:`${X2}/lazada`,tokopedia:`${X2}/tokopedia`,tiktok:`${X2}/tiktok`},Dr=(a,n=6e4)=>{const i=Us.create({baseURL:NP[a],timeout:n,headers:{"Content-Type":"application/json"}});return i.interceptors.response.use(o=>o.data,o=>{var u,f;const d=((f=(u=o.response)==null?void 0:u.data)==null?void 0:f.message)||o.message||"Terjadi kesalahan";return Promise.reject(new Error(d))}),i},SP={getAuthUrl:async a=>{var n,i;try{const o=Dr("shopee"),u=`${window.location.origin}/marketplace/callback?platform=shopee&store_id=${a.id}`,f=dA?"/auth-url":"/auth/shopee/url";return await o.post(f,{partner_id:((n=a.credentials)==null?void 0:n.partnerId)||"",partner_key:((i=a.credentials)==null?void 0:i.partnerKey)||"",shop_id:a.shopId||"",redirect_url:u})}catch(o){throw new Error(`Gagal mendapatkan Auth URL: ${o.message}`)}},getToken:async(a,n)=>Dr("shopee").post("/token?action=get_token",{code:n,shop_id:a.shopId,partner_id:a.credentials.partnerId,partner_key:a.credentials.partnerKey}),refreshToken:async a=>Dr("shopee").post("/auth/shopee/refresh",{shop_id:a.shopId,partner_id:a.credentials.partnerId,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>Dr("shopee").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>{var n,i,o,d,u,f,h,p,m;try{const b=await Dr("shopee").get("/products",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),y=((u=(d=b==null?void 0:b.data)==null?void 0:d.response)==null?void 0:u.item)||((f=b==null?void 0:b.response)==null?void 0:f.item)||(b==null?void 0:b.products)||[],w=((p=(h=b==null?void 0:b.data)==null?void 0:h.response)==null?void 0:p.total_count)||((m=b==null?void 0:b.response)==null?void 0:m.total_count)||(b==null?void 0:b.count)||y.length;return console.log("Shopee syncProducts result:",{itemCount:y.length,totalCount:w,rawResult:b}),{success:b.success!==!1,data:y,count:w}}catch(x){throw new Error(`Sync produk gagal: ${x.message}`)}},getProducts:async(a,n={})=>{var o,d;return Dr("shopee").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,...n}})},syncOrders:async(a,n={})=>{var i,o,d,u,f,h,p,m,x,b,y,w;try{const A=await Dr("shopee",12e4).get("/orders",{params:{shop_id:a.shopId,access_token:(i=a.credentials)==null?void 0:i.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,fetch_all:"true",...n}}),j=((f=(u=A==null?void 0:A.data)==null?void 0:u.response)==null?void 0:f.order_list)||((h=A==null?void 0:A.response)==null?void 0:h.order_list)||(A==null?void 0:A.orders)||[],E=((m=(p=A==null?void 0:A.data)==null?void 0:p.response)==null?void 0:m.total_count)||((x=A==null?void 0:A.response)==null?void 0:x.total_count)||(A==null?void 0:A.count)||j.length,k=((y=(b=A==null?void 0:A.data)==null?void 0:b.response)==null?void 0:y.status_summary)||((w=A==null?void 0:A.response)==null?void 0:w.status_summary)||{};return console.log("Shopee syncOrders result:",{orderCount:j.length,totalCount:E,statusSummary:k}),{success:A.success!==!1,data:j,count:E,statusSummary:k}}catch(v){throw new Error(`Sync order gagal: ${v.message}`)}},getOrdersByStatus:async(a,n,i={})=>{var d,u,f;return Dr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:(d=a.credentials)==null?void 0:d.accessToken,partner_id:(u=a.credentials)==null?void 0:u.partnerId,partner_key:(f=a.credentials)==null?void 0:f.partnerKey,fetch_all:"true",order_status:n,...i}})},getOrders:async(a,n={})=>{var o,d;return Dr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,fetch_all:"true",fetch_all_statuses:"true",...n}})},updateStock:async(a,n,i)=>Dr("shopee").put(`/products/${n}/stock`,{shop_id:a.shopId,access_token:a.credentials.accessToken,stock:i}),testConnection:async a=>{var n;try{const o=await Dr("shopee",1e4).get("/auth/status",{params:{shop_id:a.shopId}});return{success:o.connected||o.success,data:o}}catch(i){return(n=a.credentials)!=null&&n.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:i.message}}}},EP={getAuthUrl:async a=>{var n,i;try{const o=Dr("lazada"),u=`${dA?"https://pos-inventory-system-gamma.vercel.app":window.location.origin}/marketplace/callback?platform=lazada&store_id=${a.id}`;return await o.post("/auth-url",{app_key:((n=a.credentials)==null?void 0:n.appKey)||"",store_id:a.id,redirect_url:u})}catch{const d=(i=a.credentials)==null?void 0:i.appKey;return{url:`https://auth.lazada.com/oauth/authorize?response_type=code&force_auth=true&redirect_uri=${encodeURIComponent(`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=lazada&store_id=${a.id}`)}&client_id=${d}&country=id`}}},getToken:async(a,n)=>Dr("lazada").post("/token?action=get_token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>Dr("lazada").post("/token?action=refresh_token",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),syncProducts:async a=>{var n,i,o,d,u,f,h;try{const m=await Dr("lazada").get("/products",{params:{app_key:(n=a.credentials)==null?void 0:n.appKey,app_secret:(i=a.credentials)==null?void 0:i.appSecret,access_token:(o=a.credentials)==null?void 0:o.accessToken,fetch_all:"true"}}),x=((u=(d=m==null?void 0:m.data)==null?void 0:d.response)==null?void 0:u.item)||(m==null?void 0:m.products)||[],b=((h=(f=m==null?void 0:m.data)==null?void 0:f.response)==null?void 0:h.total_count)||(m==null?void 0:m.count)||x.length;return console.log("Lazada syncProducts result:",{itemCount:x.length,totalCount:b}),{success:m.success!==!1,data:x,count:b}}catch(p){throw new Error(`Sync produk Lazada gagal: ${p.message}`)}},getProducts:async(a,n={})=>{var o,d,u;return Dr("lazada").get("/products",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(u=a.credentials)==null?void 0:u.accessToken,...n}})},syncOrders:async(a,n={})=>{var i,o,d,u,f,h,p,m,x;try{const y=await Dr("lazada",12e4).get("/orders",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,fetch_all:"true",...n}}),w=((f=(u=y==null?void 0:y.data)==null?void 0:u.response)==null?void 0:f.order_list)||(y==null?void 0:y.orders)||[],v=((p=(h=y==null?void 0:y.data)==null?void 0:h.response)==null?void 0:p.total_count)||(y==null?void 0:y.count)||w.length,A=((x=(m=y==null?void 0:y.data)==null?void 0:m.response)==null?void 0:x.status_summary)||(y==null?void 0:y.statusSummary)||{};return console.log("Lazada syncOrders result:",{orderCount:w.length,totalCount:v,statusSummary:A}),{success:y.success!==!1,data:w,count:v,statusSummary:A}}catch(b){throw new Error(`Sync order Lazada gagal: ${b.message}`)}},getOrdersByStatus:async(a,n,i={})=>{var d,u,f;return Dr("lazada",12e4).get("/orders",{params:{app_key:(d=a.credentials)==null?void 0:d.appKey,app_secret:(u=a.credentials)==null?void 0:u.appSecret,access_token:(f=a.credentials)==null?void 0:f.accessToken,order_status:n,fetch_all:"true",...i}})},getOrders:async(a,n={})=>{var o,d,u;return Dr("lazada").get("/orders",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(u=a.credentials)==null?void 0:u.accessToken,...n}})},updateStock:async(a,n,i)=>Dr("lazada").put("/products/stock",{access_token:a.credentials.accessToken,sku:n,quantity:i}),testConnection:async a=>{var n,i,o,d,u;try{if((n=a.credentials)!=null&&n.accessToken){const h=await Dr("lazada",1e4).get("/products",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,limit:"1"}});return{success:h.success!==!1,data:h}}return{success:!1,error:"No access token"}}catch(f){return(u=a.credentials)!=null&&u.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:f.message}}}},CP={getAuthUrl:async a=>{const n=a.credentials.fsId,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tokopedia&store_id=${a.id}`);return{url:`https://accounts.tokopedia.com/authorize?response_type=code&client_id=${a.credentials.clientId}&redirect_uri=${o}&state=${n}`}},getToken:async(a,n)=>Dr("tokopedia").post("/auth/token",{code:n,client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,fs_id:a.credentials.fsId}),refreshToken:async a=>Dr("tokopedia").post("/auth/refresh",{client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>Dr("tokopedia").get("/shop/info",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}}),syncProducts:async a=>Dr("tokopedia").post("/products/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>Dr("tokopedia").get("/products",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>Dr("tokopedia").post("/orders/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>Dr("tokopedia").get("/orders",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>Dr("tokopedia").put("/products/stock",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,product_id:n,stock:i}),testConnection:async a=>{try{return{success:!0,data:await Dr("tokopedia",1e4).get("/auth/status",{params:{fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},IP={getAuthUrl:async a=>{const n=a.credentials.appKey,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tiktok&store_id=${a.id}`);return{url:`https://auth.tiktok-shops.com/oauth/authorize?app_key=${n}&redirect_uri=${o}&state=tiktok_auth`}},getToken:async(a,n)=>Dr("tiktok").post("/auth/token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>Dr("tiktok").post("/auth/refresh",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>Dr("tiktok").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>Dr("tiktok").post("/products/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>Dr("tiktok").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>Dr("tiktok").post("/orders/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>Dr("tiktok").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>Dr("tiktok").put("/products/stock",{shop_id:a.shopId,access_token:a.credentials.accessToken,product_id:n,stock:i}),testConnection:async a=>{try{return{success:!0,data:await Dr("tiktok",1e4).get("/auth/status",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},un={getApi:a=>{switch(a){case"shopee":return SP;case"lazada":return EP;case"tokopedia":return CP;case"tiktok":return IP;default:return null}},getAuthUrl:async a=>{const n=un.getApi(a.platform);return n?n.getAuthUrl(a):{error:"Platform tidak didukung"}},getToken:async(a,n)=>{const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getToken(a,n)},refreshToken:async a=>{const n=un.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");return n.refreshToken(a)},testConnection:async a=>{if(a.platform==="manual")return{success:!0,data:{message:"Toko manual tidak memerlukan koneksi"}};const n=un.getApi(a.platform);return n?n.testConnection(a):{success:!1,error:"Platform tidak didukung"}},syncProducts:async a=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const n=un.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");try{const i=await n.syncProducts(a);return{success:!0,data:i.products||i.data||[],count:i.total||i.count||0}}catch(i){throw new Error(`Gagal sync produk: ${i.message}`)}},syncOrders:async(a,n={})=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");try{const o=await i.syncOrders(a,n);return{success:!0,data:o.orders||o.data||[],count:o.total||o.count||0}}catch(o){throw new Error(`Gagal sync order: ${o.message}`)}},fullSync:async(a,n=null)=>{var o,d;const i={products:{success:!1,count:0,data:[],error:null},orders:{success:!1,count:0,data:[],error:null}};if(a.platform==="manual")return{success:!0,message:"Toko manual tidak memerlukan sinkronisasi",results:i};n&&n("Sinkronisasi produk...");try{const u=await un.syncProducts(a);i.products={success:!0,count:u.count||((o=u.data)==null?void 0:o.length)||0,data:u.data||[]}}catch(u){i.products={success:!1,error:u.message,data:[]}}n&&n("Sinkronisasi pesanan...");try{const u=await un.syncOrders(a);i.orders={success:!0,count:u.count||((d=u.data)==null?void 0:d.length)||0,data:u.data||[]}}catch(u){i.orders={success:!1,error:u.message,data:[]}}return{success:i.products.success||i.orders.success,results:i}},syncAllStores:async(a,n=null)=>{const i=[],o=a.filter(d=>d.isActive&&d.platform!=="manual");for(let d=0;d<o.length;d++){const u=o[d];n&&n({current:d+1,total:o.length,store:u.shopName,status:"syncing"});try{const f=await un.fullSync(u);i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:f.success,results:f.results})}catch(f){i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:!1,error:f.message})}}return i},updateStock:async(a,n,i)=>{if(a.platform==="manual")return{success:!0,message:"Stok lokal diperbarui"};const o=un.getApi(a.platform);if(!o)throw new Error("Platform tidak didukung");return o.updateStock(a,n,i)},getProducts:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getProducts(a,n)},getOrders:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getOrders(a,n)},getOrdersByStatus:async(a,n,i={})=>{if(a.platform==="manual")return{data:{response:{order_list:[]}}};const o=un.getApi(a.platform);if(!o||!o.getOrdersByStatus)throw new Error("Platform tidak mendukung getOrdersByStatus");return o.getOrdersByStatus(a,n,i)}};function BP(){var w;const[a]=zE(),n=ko(),[i,o]=ie.useState("processing"),[d,u]=ie.useState("Memproses authorization..."),[f,h]=ie.useState(null),{stores:p,updateStoreCredentials:m,updateStore:x}=So();ie.useEffect(()=>{(async()=>{const A=a.get("code"),j=a.get("platform")||"shopee",E=a.get("store_id"),k=a.get("shop_id"),N=a.get("error"),B=a.get("error_description"),I=localStorage.getItem("pendingOAuthStoreId"),D=localStorage.getItem("pendingOAuthPlatform")||j;if(N){o("error"),u(`Error: ${B||N}`),localStorage.removeItem("pendingOAuthStoreId"),localStorage.removeItem("pendingOAuthPlatform");return}if(!A){o("error"),u("Authorization code tidak ditemukan di URL");return}let T=null;const M=E||I;if(M&&(T=p.find(F=>F.id===parseInt(M))),!T&&k&&(T=p.find(F=>{var P;return F.shopId===k||((P=F.credentials)==null?void 0:P.shopId)===k})),T||(T=p.find(F=>F.platform===D&&!F.isConnected)),localStorage.removeItem("pendingOAuthStoreId"),localStorage.removeItem("pendingOAuthPlatform"),!T){o("error"),u("Toko tidak ditemukan. Silakan coba hubungkan kembali dari halaman Integrasi.");return}const Q=va[j]||va.manual;try{u(`Menukar code untuk access token ${Q.name}...`);const F=await un.getToken(T,A),P=F.data||F,L=P.access_token?P:P.data||{};L&&L.access_token?(m(T.id,{accessToken:L.access_token,refreshToken:L.refresh_token||""}),x(T.id,{isConnected:!0,shopId:L.shop_id||k||T.shopId,tokenExpiry:L.expire_in?new Date(Date.now()+L.expire_in*1e3).toISOString():null}),h({...L,platform:j,storeName:T.shopName}),o("success"),u(`${Q.name} berhasil terhubung! Token telah disimpan.`),setTimeout(()=>{n("/marketplace/integration")},3e3)):(o("error"),u((P==null?void 0:P.message)||(P==null?void 0:P.error)||(F==null?void 0:F.error)||"Gagal mendapatkan access token"))}catch(F){o("error"),u(`Error: ${F.message}`)}})()},[a,n,p,m,x]);const b=a.get("platform")||"shopee",y=va[b]||va.manual;return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center",children:[i==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`w-16 h-16 ${y.bgLight} rounded-full flex items-center justify-center mx-auto mb-4`,children:l.jsx(V0,{className:`w-10 h-10 ${y.textColor} animate-spin`})}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Memproses ",y.name,"..."]}),l.jsx("p",{className:"text-gray-600",children:d})]}),i==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Y0,{className:"w-10 h-10 text-green-500"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Berhasil!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:d}),f&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left text-sm mb-4",children:[l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Platform:"}),l.jsxs("span",{className:`ml-2 ${y.textColor}`,children:[y.icon," ",y.name]})]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Toko:"})," ",f.storeName]}),f.shop_id&&l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Shop ID:"})," ",f.shop_id]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Access Token:"})," ",(w=f.access_token)==null?void 0:w.substring(0,20),"..."]}),f.expire_in&&l.jsxs("p",{children:[l.jsx("strong",{children:"Expires In:"})," ",Math.floor(f.expire_in/3600)," jam"]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Anda akan dialihkan ke halaman Integrasi dalam beberapa detik..."}),l.jsx("button",{onClick:()=>n("/marketplace/integration"),className:`mt-4 px-6 py-2 ${y.bgColor} text-white rounded-lg hover:opacity-90`,children:"Lanjutkan ke Integrasi"})]}),i==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ky,{className:"w-10 h-10 text-red-500"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Gagal"}),l.jsx("p",{className:"text-gray-600 mb-4",children:d}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:()=>n("/marketplace/integration"),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Kembali"}),l.jsx("button",{onClick:()=>window.location.reload(),className:`px-6 py-2 ${y.bgColor} text-white rounded-lg hover:opacity-90`,children:"Coba Lagi"})]})]})]})})}const Vm=({platform:a,size:n=24})=>{const i=va[a]||va.manual;return i.logo?l.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):l.jsx("span",{className:"text-xl",children:i.icon||""})};function DP(){const a=ko(),[n,i]=ie.useState(!1),[o,d]=ie.useState(!1),[u,f]=ie.useState(!1),[h,p]=ie.useState(!1),[m,x]=ie.useState(null),[b,y]=ie.useState(""),[w,v]=ie.useState("all"),[A,j]=ie.useState({type:"",text:""}),[E,k]=ie.useState(null),[N,B]=ie.useState(null),{user:I}=Di(),{importShopeeProducts:D}=Ws(),{stores:T,addStore:M,updateStore:Q,removeStore:F,toggleStoreActive:P,updateStoreSync:L,updateStoreCredentials:_,getSummary:H}=So(),Y=H(),de=T.filter(te=>{var Oe,Ue;const Be=te.shopName.toLowerCase().includes(b.toLowerCase())||((Oe=te.shopId)==null?void 0:Oe.includes(b))||((Ue=te.ownerName)==null?void 0:Ue.toLowerCase().includes(b.toLowerCase())),Se=w==="all"||te.platform===w;return Be&&Se}),$=te=>{if(!confirm(`Hapus toko "${te.shopName}"?

Data integrasi akan dihapus permanen.`))return;F(te.id).success&&(j({type:"success",text:"Toko berhasil dihapus"}),setTimeout(()=>j({type:"",text:""}),3e3))},q=te=>{P(te.id)},re=te=>{x(te),d(!0)},ce=async te=>{var Be,Se,Oe;if(te.platform==="manual"){j({type:"info",text:"Toko manual tidak memerlukan koneksi OAuth"}),setTimeout(()=>j({type:"",text:""}),3e3);return}if(te.platform==="shopee"&&!((Be=te.credentials)!=null&&Be.partnerId)){j({type:"warning",text:"Partner ID belum dikonfigurasi. Klik Edit untuk memasukkan kredensial Shopee."}),setTimeout(()=>j({type:"",text:""}),5e3);return}if((te.platform==="lazada"||te.platform==="tiktok")&&!((Se=te.credentials)!=null&&Se.appKey)){j({type:"warning",text:"App Key belum dikonfigurasi. Klik Edit untuk memasukkan kredensial."}),setTimeout(()=>j({type:"",text:""}),5e3);return}if(te.platform==="tokopedia"&&!((Oe=te.credentials)!=null&&Oe.clientId)){j({type:"warning",text:"Client ID belum dikonfigurasi. Klik Edit untuk memasukkan kredensial Tokopedia."}),setTimeout(()=>j({type:"",text:""}),5e3);return}B(te.id);try{const Ue=await un.getAuthUrl(te);if(Ue.url)localStorage.setItem("pendingOAuthStoreId",te.id.toString()),localStorage.setItem("pendingOAuthPlatform",te.platform),window.location.href=Ue.url,j({type:"info",text:"Mengalihkan ke halaman otorisasi..."});else throw new Error("Gagal mendapatkan URL otorisasi")}catch(Ue){j({type:"error",text:`Gagal koneksi: ${Ue.message}`})}finally{B(null),setTimeout(()=>j({type:"",text:""}),5e3)}},J=async te=>{var Be;if(te.platform==="manual"){j({type:"success",text:"Toko manual selalu tersedia"}),setTimeout(()=>j({type:"",text:""}),3e3);return}if(!((Be=te.credentials)!=null&&Be.accessToken)){j({type:"warning",text:"Belum ada access token. Hubungkan toko terlebih dahulu."}),setTimeout(()=>j({type:"",text:""}),3e3);return}B(te.id);try{const Se=await un.testConnection(te);Se.success?(Q(te.id,{isConnected:!0}),j({type:"success",text:`Koneksi ke ${te.shopName} berhasil!`})):(Q(te.id,{isConnected:!1}),j({type:"error",text:`Koneksi gagal: ${Se.error}`}))}catch(Se){j({type:"error",text:`Gagal test koneksi: ${Se.message}`})}finally{B(null),setTimeout(()=>j({type:"",text:""}),5e3)}},oe=async te=>{var Be,Se,Oe,Ue,be,$e,Fe,Ke,Je,rt,ae,fe,Me,Le,Xe,ze;if(te.platform==="manual"){j({type:"info",text:"Toko manual tidak memerlukan sinkronisasi"}),setTimeout(()=>j({type:"",text:""}),3e3);return}if(!((Be=te.credentials)!=null&&Be.accessToken)){j({type:"warning",text:"Belum ada access token. Klik ikon WiFi untuk menghubungkan toko terlebih dahulu."}),setTimeout(()=>j({type:"",text:""}),5e3);return}k(te.id),j({type:"info",text:`Menyinkronkan ${te.shopName}...`});try{const qe=await un.fullSync(te);let ht=null;if(te.platform==="shopee"&&((Ue=(Oe=(Se=qe.results)==null?void 0:Se.products)==null?void 0:Oe.data)==null?void 0:Ue.length)>0&&(ht=D(qe.results.products.data),console.log("Import result:",ht)),L(te.id,{productCount:(($e=(be=qe.results)==null?void 0:be.products)==null?void 0:$e.count)||0,orderCount:((Ke=(Fe=qe.results)==null?void 0:Fe.orders)==null?void 0:Ke.count)||0}),qe.success){let vt=` Sync ${te.shopName} berhasil! Produk: ${((rt=(Je=qe.results)==null?void 0:Je.products)==null?void 0:rt.count)||0}, Order: ${((fe=(ae=qe.results)==null?void 0:ae.orders)==null?void 0:fe.count)||0}`;ht&&(vt+=` | Diimpor: ${ht.imported}, Diupdate: ${ht.updated}, Dilewati: ${ht.skipped}`),j({type:"success",text:vt})}else{const vt=(Le=(Me=qe.results)==null?void 0:Me.products)==null?void 0:Le.error,dt=(ze=(Xe=qe.results)==null?void 0:Xe.orders)==null?void 0:ze.error;j({type:"error",text:`Sync gagal: ${vt||dt||"Unknown error"}`})}}catch(qe){j({type:"error",text:`Gagal sync: ${qe.message}`})}finally{k(null),setTimeout(()=>j({type:"",text:""}),8e3)}},ue=()=>{f(!0)},he=te=>{x({platform:te}),p(!0)},Re=te=>te?new Date(te).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Integrasi Marketplace"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola semua toko marketplace Anda dalam satu tempat"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>a("/marketplace/products"),className:"btn btn-outline inline-flex items-center gap-2",children:[l.jsx(en,{size:18}),"Lihat Produk"]}),l.jsxs("button",{onClick:()=>a("/marketplace/orders"),className:"btn btn-outline inline-flex items-center gap-2",children:[l.jsx(vo,{size:18}),"Lihat Pesanan"]}),l.jsxs("button",{onClick:ue,className:"btn btn-outline inline-flex items-center gap-2",disabled:T.filter(te=>te.isActive&&te.platform!=="manual").length===0,children:[l.jsx(x1,{size:18}),"Sync Semua"]}),l.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(Os,{size:20}),"Tambah Toko"]})]})]}),A.text&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${A.type==="success"?"bg-green-50 text-green-800 border border-green-200":A.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:[A.type==="success"?l.jsx(D1,{size:18}):l.jsx(yc,{size:18}),A.text]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[l.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(v1,{className:"text-blue-600",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.totalStores}),l.jsx("p",{className:"text-sm text-gray-500",children:"Total Toko"})]})]})}),Object.entries(va).map(([te,Be])=>l.jsx("div",{className:`bg-white rounded-xl p-4 shadow-sm border ${Be.borderColor} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>he(te),title:`Klik untuk panduan setup ${Be.name}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${Be.bgLight} rounded-lg flex items-center justify-center text-xl`,children:Be.icon}),l.jsxs("div",{children:[l.jsx("p",{className:`text-2xl font-bold ${Be.textColor}`,children:Y.byPlatform[te]||0}),l.jsx("p",{className:"text-sm text-gray-500",children:Be.name})]})]})},te))]}),l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Cari toko...",value:b,onChange:te=>y(te.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_m,{size:18,className:"text-gray-400"}),l.jsxs("select",{value:w,onChange:te=>v(te.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"Semua Platform"}),Object.entries(va).map(([te,Be])=>l.jsxs("option",{value:te,children:[Be.icon," ",Be.name]},te))]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marketplace"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Toko"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Toko"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Sync"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:de.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center text-gray-500",children:[l.jsx(v1,{className:"mx-auto mb-3 text-gray-300",size:48}),l.jsx("p",{className:"font-medium",children:"Belum ada toko terdaftar"}),l.jsx("p",{className:"text-sm",children:'Klik "Tambah Toko" untuk memulai integrasi'})]})}):de.map(te=>{const Be=va[te.platform]||va.manual,Se=E===te.id,Oe=N===te.id;return l.jsxs("tr",{className:te.isActive?"hover:bg-gray-50":"bg-gray-50 opacity-60",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium ${Be.bgLight} ${Be.textColor}`,children:[l.jsx(Vm,{platform:te.platform,size:20}),Be.name]})})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("p",{className:"font-medium text-gray-900",children:te.shopName}),te.ownerName&&l.jsx("p",{className:"text-xs text-gray-500",children:te.ownerName})]}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:te.shopId||"-"})}),l.jsx("td",{className:"px-4 py-4 text-center",children:l.jsx("span",{className:"text-sm font-medium",children:te.productCount||0})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center justify-center gap-2",children:te.platform==="manual"?l.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Manual"]}):te.isConnected?l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Terhubung"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-400 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full"}),"Belum Terhubung"]})})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:Re(te.lastSync)}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[te.platform!=="manual"&&l.jsx("button",{onClick:()=>oe(te),disabled:Se||!te.isActive,className:"p-2 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Sync Data",children:Se?l.jsx(V0,{size:16,className:"text-green-600 animate-spin"}):l.jsx(x1,{size:16,className:"text-green-600"})}),te.platform!=="manual"&&!te.isConnected&&l.jsx("button",{onClick:()=>ce(te),disabled:Oe,className:"p-2 hover:bg-purple-50 rounded-lg transition-colors",title:"Hubungkan Toko",children:Oe?l.jsx(V0,{size:16,className:"text-purple-600 animate-spin"}):l.jsx(au,{size:16,className:"text-purple-600"})}),te.platform!=="manual"&&te.isConnected&&l.jsx("button",{onClick:()=>J(te),disabled:Oe,className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Test Koneksi",children:l.jsx(dT,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>re(te),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Toko",children:l.jsx(Om,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>q(te),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:te.isActive?"Nonaktifkan":"Aktifkan",children:te.isActive?l.jsx(YD,{size:16,className:"text-yellow-600"}):l.jsx(VD,{size:16,className:"text-green-600"})}),l.jsx("button",{onClick:()=>$(te),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus Toko",children:l.jsx(Vn,{size:16,className:"text-red-600"})})]})})]},te.id)})})]})}),de.length>0&&l.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t text-sm text-gray-500",children:["Menampilkan ",de.length," dari ",T.length," toko"]})]}),n&&l.jsx(TP,{onClose:()=>i(!1),onSuccess:te=>{j({type:"success",text:te}),setTimeout(()=>j({type:"",text:""}),3e3)},userId:I==null?void 0:I.id}),o&&m&&l.jsx(RP,{store:m,onClose:()=>{d(!1),x(null)},onSuccess:te=>{j({type:"success",text:te}),setTimeout(()=>j({type:"",text:""}),3e3)}}),u&&l.jsx(MP,{stores:T,onClose:()=>f(!1),onComplete:te=>{const Be=te.filter(Se=>Se.success).length;j({type:Be>0?"success":"error",text:`Sync selesai: ${Be}/${te.length} toko berhasil`}),setTimeout(()=>j({type:"",text:""}),5e3)},updateStoreSync:L}),h&&m&&l.jsx(FP,{platform:m.platform,onClose:()=>{p(!1),x(null)}})]})}function TP({onClose:a,onSuccess:n,userId:i}){var A;const{addStore:o}=So(),[d,u]=ie.useState(1),[f,h]=ie.useState(null),[p,m]=ie.useState({shopName:"",shopId:"",ownerName:"",partnerId:"",partnerKey:"",accessToken:"",refreshToken:"",appKey:"",appSecret:"",fsId:"",clientId:"",clientSecret:"",notes:""}),[x,b]=ie.useState(""),y=j=>{h(j),u(2)},w=j=>{if(j.preventDefault(),b(""),!p.shopName.trim()){b("Nama toko harus diisi");return}const E=o({platform:f,shopName:p.shopName.trim(),shopId:p.shopId.trim(),ownerName:p.ownerName.trim(),partnerId:p.partnerId,partnerKey:p.partnerKey,accessToken:p.accessToken,refreshToken:p.refreshToken,appKey:p.appKey,appSecret:p.appSecret,fsId:p.fsId,clientId:p.clientId,clientSecret:p.clientSecret,notes:p.notes,userId:i});if(!E.success){b(E.error);return}n(`Toko "${p.shopName}" berhasil ditambahkan`),a()},v=()=>{switch(f){case"shopee":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner ID"}),l.jsx("input",{type:"text",value:p.partnerId,onChange:j=>m({...p,partnerId:j.target.value}),className:"input",placeholder:"2014001"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID *"}),l.jsx("input",{type:"text",value:p.shopId,onChange:j=>m({...p,shopId:j.target.value}),className:"input",placeholder:"669903315"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Key"}),l.jsx("input",{type:"password",value:p.partnerKey,onChange:j=>m({...p,partnerKey:j.target.value}),className:"input",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:j=>m({...p,accessToken:j.target.value}),className:"input",placeholder:"Opsional - bisa diisi nanti"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Refresh Token"}),l.jsx("input",{type:"password",value:p.refreshToken,onChange:j=>m({...p,refreshToken:j.target.value}),className:"input",placeholder:"Opsional - bisa diisi nanti"})]})]});case"lazada":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:j=>m({...p,shopId:j.target.value}),className:"input",placeholder:"400626654256"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:p.appKey,onChange:j=>m({...p,appKey:j.target.value}),className:"input",placeholder:"App Key dari Lazada"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:p.appSecret,onChange:j=>m({...p,appSecret:j.target.value}),className:"input",placeholder:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:j=>m({...p,accessToken:j.target.value}),className:"input",placeholder:"Opsional"})]})]});case"tokopedia":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:j=>m({...p,shopId:j.target.value}),className:"input",placeholder:"7494509580045224114"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"FS ID"}),l.jsx("input",{type:"text",value:p.fsId,onChange:j=>m({...p,fsId:j.target.value}),className:"input",placeholder:"Fulfillment Service ID"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client ID"}),l.jsx("input",{type:"text",value:p.clientId,onChange:j=>m({...p,clientId:j.target.value}),className:"input",placeholder:"Client ID"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Secret"}),l.jsx("input",{type:"password",value:p.clientSecret,onChange:j=>m({...p,clientSecret:j.target.value}),className:"input",placeholder:""})]})]})]});case"tiktok":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:j=>m({...p,shopId:j.target.value}),className:"input",placeholder:"TikTok Shop ID"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:p.appKey,onChange:j=>m({...p,appKey:j.target.value}),className:"input",placeholder:"App Key"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:p.appSecret,onChange:j=>m({...p,appSecret:j.target.value}),className:"input",placeholder:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:j=>m({...p,accessToken:j.target.value}),className:"input",placeholder:"Opsional"})]})]});case"manual":return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),l.jsx("textarea",{value:p.notes,onChange:j=>m({...p,notes:j.target.value}),className:"input",rows:"3",placeholder:"Catatan untuk toko ini..."})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Os,{className:"text-blue-600",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Tambah Toko Baru"}),l.jsx("p",{className:"text-sm text-gray-500",children:d===1?"Pilih platform marketplace":`Konfigurasi ${(A=va[f])==null?void 0:A.name}`})]})]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsx("div",{className:"p-6",children:d===1?l.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(va).map(([j,E])=>l.jsxs("button",{onClick:()=>y(j),className:`p-4 rounded-xl border-2 hover:border-blue-500 transition-all flex flex-col items-center gap-2 ${E.borderColor} hover:shadow-md`,children:[l.jsx("span",{className:"text-3xl",children:E.icon}),l.jsx("span",{className:`font-semibold ${E.textColor}`,children:E.name})]},j))}):l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[x&&l.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[l.jsx(yc,{size:18}),x]}),l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${va[f].bgLight} ${va[f].textColor}`,children:[l.jsx("span",{children:va[f].icon}),l.jsx("span",{className:"font-medium",children:va[f].name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Panggilan Toko *"}),l.jsx("input",{type:"text",value:p.shopName,onChange:j=>m({...p,shopName:j.target.value}),className:"input",placeholder:"Contoh: Toko Utama Shopee",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Pemilik"}),l.jsx("input",{type:"text",value:p.ownerName,onChange:j=>m({...p,ownerName:j.target.value}),className:"input",placeholder:"Nama pemilik toko"})]}),v(),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>u(1),className:"flex-1 btn btn-secondary",children:"Kembali"}),l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Tambah Toko"})]})]})})]})})}function RP({store:a,onClose:n,onSuccess:i}){var y,w,v,A,j,E,k,N,B;const{updateStore:o,updateStoreCredentials:d}=So(),u=va[a.platform]||va.manual,[f,h]=ie.useState({shopName:a.shopName||"",shopId:a.shopId||"",ownerName:a.ownerName||"",notes:a.notes||"",partnerId:((y=a.credentials)==null?void 0:y.partnerId)||"",partnerKey:((w=a.credentials)==null?void 0:w.partnerKey)||"",accessToken:((v=a.credentials)==null?void 0:v.accessToken)||"",refreshToken:((A=a.credentials)==null?void 0:A.refreshToken)||"",appKey:((j=a.credentials)==null?void 0:j.appKey)||"",appSecret:((E=a.credentials)==null?void 0:E.appSecret)||"",fsId:((k=a.credentials)==null?void 0:k.fsId)||"",clientId:((N=a.credentials)==null?void 0:N.clientId)||"",clientSecret:((B=a.credentials)==null?void 0:B.clientSecret)||""}),[p,m]=ie.useState(""),x=I=>{if(I.preventDefault(),m(""),!f.shopName.trim()){m("Nama toko harus diisi");return}o(a.id,{shopName:f.shopName.trim(),shopId:f.shopId.trim(),ownerName:f.ownerName.trim(),notes:f.notes,credentials:{partnerId:f.partnerId,partnerKey:f.partnerKey,accessToken:f.accessToken,refreshToken:f.refreshToken,appKey:f.appKey,appSecret:f.appSecret,fsId:f.fsId,clientId:f.clientId,clientSecret:f.clientSecret}}),i(`Toko "${f.shopName}" berhasil diperbarui`),n()},b=()=>{switch(a.platform){case"shopee":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner ID"}),l.jsx("input",{type:"text",value:f.partnerId,onChange:I=>h({...f,partnerId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Key"}),l.jsx("input",{type:"password",value:f.partnerKey,onChange:I=>h({...f,partnerKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Refresh Token"}),l.jsx("input",{type:"password",value:f.refreshToken,onChange:I=>h({...f,refreshToken:I.target.value}),className:"input"})]})]});case"lazada":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:f.appKey,onChange:I=>h({...f,appKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:f.appSecret,onChange:I=>h({...f,appSecret:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]})]});case"tokopedia":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"FS ID"}),l.jsx("input",{type:"text",value:f.fsId,onChange:I=>h({...f,fsId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client ID"}),l.jsx("input",{type:"text",value:f.clientId,onChange:I=>h({...f,clientId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Secret"}),l.jsx("input",{type:"password",value:f.clientSecret,onChange:I=>h({...f,clientSecret:I.target.value}),className:"input"})]})]})]});case"tiktok":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:f.appKey,onChange:I=>h({...f,appKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:f.appSecret,onChange:I=>h({...f,appSecret:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${u.bgLight} rounded-lg flex items-center justify-center overflow-hidden`,children:l.jsx(Vm,{platform:a.platform,size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Toko"}),l.jsx("p",{className:"text-sm text-gray-500",children:u.name})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[p&&l.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[l.jsx(yc,{size:18}),p]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Panggilan Toko *"}),l.jsx("input",{type:"text",value:f.shopName,onChange:I=>h({...f,shopName:I.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Pemilik"}),l.jsx("input",{type:"text",value:f.ownerName,onChange:I=>h({...f,ownerName:I.target.value}),className:"input"})]}),b(),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),l.jsx("textarea",{value:f.notes,onChange:I=>h({...f,notes:I.target.value}),className:"input",rows:"2"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"}),l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan Perubahan"})]})]})]})})}function MP({stores:a,onClose:n,onComplete:i,updateStoreSync:o}){const[d,u]=ie.useState(!1),[f,h]=ie.useState({current:0,total:0,store:"",status:""}),[p,m]=ie.useState([]),[x,b]=ie.useState(!1),y=a.filter(v=>v.isActive&&v.platform!=="manual"),w=async()=>{u(!0),m([]);const v=await un.syncAllStores(y,A=>{h(A)});v.forEach(A=>{var j,E,k,N;A.success&&o(A.storeId,{productCount:((E=(j=A.results)==null?void 0:j.products)==null?void 0:E.count)||0,orderCount:((N=(k=A.results)==null?void 0:k.orders)==null?void 0:N.count)||0})}),m(v),b(!0),u(!1),i(v)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(x1,{className:"text-green-600",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Sinkronisasi Semua Toko"}),l.jsxs("p",{className:"text-sm text-gray-500",children:[y.length," toko aktif"]})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[!d&&!x&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(md,{size:20,className:"text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-blue-800",children:"Proses ini akan menyinkronkan produk dan pesanan dari semua toko marketplace yang aktif."}),l.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Estimasi waktu: ~",y.length*30," detik"]})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Toko yang akan disinkronkan:"}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:y.map(v=>{const A=va[v.platform];return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{children:A==null?void 0:A.icon}),l.jsx("span",{className:"text-sm",children:v.shopName})]},v.id)})})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"}),l.jsxs("button",{onClick:w,disabled:y.length===0,className:"flex-1 btn btn-primary inline-flex items-center justify-center gap-2",children:[l.jsx(tT,{size:18}),"Mulai Sync"]})]})]}),d&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(V0,{size:48,className:"mx-auto text-blue-600 animate-spin mb-4"}),l.jsx("p",{className:"text-lg font-medium",children:"Sinkronisasi berlangsung..."}),l.jsxs("p",{className:"text-gray-500 mt-1",children:[f.current,"/",f.total," - ",f.store]}),l.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 rounded-full h-2 transition-all",style:{width:`${f.current/f.total*100}%`}})})]}),x&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center py-4",children:[l.jsx(Y0,{size:48,className:"mx-auto text-green-600 mb-2"}),l.jsx("p",{className:"text-lg font-medium",children:"Sinkronisasi Selesai!"})]}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.map((v,A)=>{var E,k,N,B;const j=va[v.platform];return l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${v.success?"bg-green-50":"bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:j==null?void 0:j.icon}),l.jsx("span",{className:"text-sm font-medium",children:v.storeName})]}),l.jsx("div",{className:"flex items-center gap-2",children:v.success?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-xs text-gray-600",children:[((k=(E=v.results)==null?void 0:E.products)==null?void 0:k.count)||0," produk, ",((B=(N=v.results)==null?void 0:N.orders)==null?void 0:B.count)||0," order"]}),l.jsx(Y0,{size:16,className:"text-green-600"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-red-600",children:v.error}),l.jsx(ky,{size:16,className:"text-red-600"})]})})]},A)})}),l.jsx("button",{onClick:n,className:"w-full btn btn-primary",children:"Tutup"})]})]})]})})}function FP({platform:a,onClose:n}){const i=va[a]||va.manual,o={shopee:{title:"Cara Menghubungkan Shopee",steps:[{step:1,title:"Daftar Shopee Partner",description:"Kunjungi https://partner.shopee.co.id dan daftar sebagai partner untuk mendapatkan Partner ID dan Partner Key.",link:"https://partner.shopee.co.id"},{step:2,title:"Buat Aplikasi",description:"Di dashboard partner, buat aplikasi baru dan catat App Key (Partner ID) dan App Secret (Partner Key)."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Partner ID, Shop ID, dan Partner Key di form tambah toko."},{step:4,title:"Otorisasi Toko",description:'Klik tombol "Hubungkan" untuk membuka halaman otorisasi Shopee dan izinkan akses ke toko Anda.'},{step:5,title:"Sync Data",description:"Setelah terhubung, klik tombol sync untuk mengambil data produk dan pesanan dari Shopee."}]},lazada:{title:"Cara Menghubungkan Lazada",steps:[{step:1,title:"Daftar Lazada Open Platform",description:"Kunjungi https://open.lazada.com dan daftar sebagai developer.",link:"https://open.lazada.com"},{step:2,title:"Buat Aplikasi",description:"Buat aplikasi baru di dashboard dan dapatkan App Key dan App Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Shop ID, App Key, dan App Secret di form tambah toko."},{step:4,title:"Otorisasi Seller",description:'Klik "Hubungkan" untuk login ke akun seller Lazada Anda dan izinkan akses.'},{step:5,title:"Sync Data",description:"Setelah terhubung, sinkronkan produk dan pesanan dari Lazada."}]},tokopedia:{title:"Cara Menghubungkan Tokopedia",steps:[{step:1,title:"Daftar Tokopedia Mitra",description:"Kunjungi https://developer.tokopedia.com dan daftar sebagai mitra/partner.",link:"https://developer.tokopedia.com"},{step:2,title:"Dapatkan Kredensial",description:"Setelah disetujui, Anda akan mendapat FS ID, Client ID, dan Client Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan semua kredensial di form tambah toko beserta Shop ID."},{step:4,title:"Otorisasi Toko",description:'Klik "Hubungkan" untuk mengotorisasi akses ke toko Tokopedia Anda.'},{step:5,title:"Sync Data",description:"Mulai sinkronisasi data produk dan pesanan."}]},tiktok:{title:"Cara Menghubungkan TikTok Shop",steps:[{step:1,title:"Daftar TikTok Shop Partner",description:"Kunjungi https://partner.tiktokshop.com dan daftar sebagai partner.",link:"https://partner.tiktokshop.com"},{step:2,title:"Buat Aplikasi",description:"Buat aplikasi dan dapatkan App Key serta App Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Shop ID, App Key, dan App Secret di form tambah toko."},{step:4,title:"Otorisasi Toko",description:'Klik "Hubungkan" untuk login ke TikTok Shop dan izinkan akses.'},{step:5,title:"Sync Data",description:"Sinkronkan data produk dan pesanan dari TikTok Shop."}]},manual:{title:"Toko Manual",steps:[{step:1,title:"Untuk Marketplace Lain",description:"Gunakan opsi ini untuk mencatat toko dari marketplace yang belum terintegrasi otomatis."},{step:2,title:"Input Manual",description:"Anda perlu menginput produk dan pesanan secara manual untuk toko ini."},{step:3,title:"Kelola Data",description:"Data toko manual dikelola terpisah dan tidak tersinkronisasi dengan marketplace."}]}},d=o[a]||o.manual;return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${i.bgLight} rounded-lg flex items-center justify-center overflow-hidden`,children:l.jsx(Vm,{platform:a,size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:d.title}),l.jsx("p",{className:"text-sm text-gray-500",children:"Panduan langkah demi langkah"})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[d.steps.map((u,f)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full ${i.bgLight} ${i.textColor} flex items-center justify-center font-bold`,children:u.step}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description}),u.link&&l.jsxs("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 text-sm ${i.textColor} hover:underline mt-2`,children:[l.jsx(h3,{size:14}),"Kunjungi"]})]})]},f)),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(yc,{size:18,className:"text-yellow-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-yellow-800",children:[l.jsx("p",{className:"font-medium",children:"Catatan Penting:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[l.jsx("li",{children:"Proses approval bisa memakan waktu 1-7 hari kerja"}),l.jsx("li",{children:"Pastikan toko Anda aktif dan memiliki izin usaha"}),l.jsx("li",{children:"Access token perlu diperbarui secara berkala"})]})]})]})}),l.jsx("button",{onClick:n,className:"w-full btn btn-primary mt-4",children:"Mengerti"})]})]})})}function PP(){const a=ko(),[n,i]=ie.useState(""),[o,d]=ie.useState("all"),[u,f]=ie.useState("all"),[h,p]=ie.useState(1),[m,x]=ie.useState(20),[b,y]=ie.useState(!1),[w,v]=ie.useState(""),{transactions:A,addTransaction:j}=xo(),{stores:E,shopeeConfig:k}=So(),N=ie.useMemo(()=>A.filter(H=>H.source==="shopee"||H.source==="lazada"||H.source==="tokopedia"||H.source==="tiktok"||H.marketplaceSource),[A]),B=ie.useMemo(()=>N.filter(H=>{var q,re;const Y=!n||((q=H.id)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((re=H.transactionCode)==null?void 0:re.toLowerCase().includes(n.toLowerCase()));let de=o==="all";if(!de&&o!=="all"){const ce=E.find(J=>J.id===parseInt(o));ce&&(de=H.source===ce.platform||H.marketplaceStoreId===ce.id)}const $=u==="all"||H.status===u;return Y&&de&&$}),[N,n,o,u,E]),I=Math.ceil(B.length/m),D=B.slice((h-1)*m,h*m),T=N.length,M=N.filter(H=>H.status==="pending").length,Q=N.filter(H=>H.status==="completed").length,F=N.reduce((H,Y)=>H+(Y.total||0),0),P=async()=>{var H,Y,de;y(!0),v("Menyinkronkan pesanan...");try{const $=E.filter(re=>re.platform==="shopee"&&re.isActive);if($.length===0){v("Tidak ada toko Shopee yang aktif"),alert("Tidak ada toko Shopee yang aktif. Silakan hubungkan toko dulu.");return}let q=0;for(const re of $)try{const ce=((H=re.credentials)==null?void 0:H.partnerId)||re.partnerId,J=((Y=re.credentials)==null?void 0:Y.partnerKey)||re.partnerKey,oe=((de=re.credentials)==null?void 0:de.accessToken)||re.accessToken,ue=re.shopId;if(console.log("Syncing store:",re.shopName,"Shop ID:",ue,"Has credentials:",!!ce,!!J,!!oe),!ce||!J||!oe){console.warn(`Missing credentials for ${re.shopName}. Please reconnect the store.`);continue}const{data:he,error:Re}=await Cr.functions.invoke("shopee-api",{body:{action:"getOrders",shopId:ue==null?void 0:ue.toString(),accessToken:oe,partnerId:ce==null?void 0:ce.toString(),partnerKey:J}});if(console.log("Sync result for",re.shopName,":",he,Re),Re){console.error(`Error syncing ${re.shopName}:`,Re);continue}he!=null&&he.orders&&he.orders.forEach(te=>{var Se;A.find(Oe=>Oe.id===te.order_sn||Oe.transactionCode===te.order_sn)||(j({id:te.order_sn,transactionCode:te.order_sn,source:"shopee",marketplaceSource:"shopee",marketplaceStoreId:re.id,storeName:re.shopName,customer:te.buyer_username||"Pembeli Shopee",total:te.total_amount||0,status:((Se=te.order_status)==null?void 0:Se.toLowerCase())||"pending",date:te.create_time?new Date(te.create_time*1e3).toISOString():new Date().toISOString(),items:te.item_list||[]}),q++)})}catch(ce){console.error(`Error syncing store ${re.shopName}:`,ce)}v(`Berhasil sync ${q} pesanan baru!`),alert(`Sinkronisasi pesanan berhasil! ${q} pesanan baru.`)}catch($){v("Gagal sinkronisasi: "+$.message),alert("Gagal sinkronisasi: "+$.message)}finally{y(!1)}},L=H=>{const Y={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",void:"bg-gray-100 text-gray-800"},de={pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",completed:"Selesai",cancelled:"Dibatalkan",void:"Void"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y[H]||"bg-gray-100 text-gray-800"}`,children:de[H]||H})},_=H=>{const Y=va[H]||va.manual;return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${Y.bgLight} ${Y.textColor}`,children:Y.name})};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>a("/marketplace/integration"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(ly,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pesanan Marketplace"}),l.jsx("p",{className:"text-gray-600",children:"Kelola pesanan dari semua toko"})]})]}),l.jsxs("button",{onClick:P,disabled:b,className:"btn btn-success flex items-center gap-2",children:[l.jsx(x1,{size:20,className:b?"animate-spin":""}),"Sync Pesanan"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(vo,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pesanan"}),l.jsx("p",{className:"text-2xl font-bold",children:T})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:l.jsx(dy,{className:"text-yellow-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Menunggu"}),l.jsx("p",{className:"text-2xl font-bold",children:M})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(D1,{className:"text-green-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),l.jsx("p",{className:"text-2xl font-bold",children:Q})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(v1,{className:"text-purple-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pendapatan"}),l.jsxs("p",{className:"text-xl font-bold",children:["Rp ",F.toLocaleString("id-ID")]})]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:n,onChange:H=>{i(H.target.value),p(1)},placeholder:"Cari nomor pesanan...",className:"w-full pl-10 input"})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsx(_m,{size:20})}),l.jsxs("select",{value:o,onChange:H=>{d(H.target.value),p(1)},className:"input w-full md:w-64",children:[l.jsx("option",{value:"all",children:"Semua Toko"}),E.filter(H=>H.isActive).map(H=>l.jsxs("option",{value:H.id,children:[H.shopName," (",H.platform,")"]},H.id))]}),l.jsxs("select",{value:u,onChange:H=>{f(H.target.value),p(1)},className:"input w-full md:w-48",children:[l.jsx("option",{value:"all",children:"Semua Status"}),l.jsx("option",{value:"pending",children:"Menunggu"}),l.jsx("option",{value:"processing",children:"Diproses"}),l.jsx("option",{value:"shipped",children:"Dikirim"}),l.jsx("option",{value:"completed",children:"Selesai"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Per halaman:"}),l.jsxs("select",{value:m,onChange:H=>{x(parseInt(H.target.value)),p(1)},className:"input w-20",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Platform"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center",children:[l.jsx(vo,{className:"mx-auto text-gray-300 mb-4",size:48}),l.jsx("p",{className:"text-gray-500",children:"Tidak ada pesanan marketplace."})]})}):D.map(H=>{var Y;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"font-medium text-gray-900",children:H.transactionCode||H.id})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"text-sm text-gray-600",children:new Date(H.date).toLocaleDateString("id-ID")})}),l.jsx("td",{className:"px-4 py-3",children:_(H.source)}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"text-sm text-gray-900",children:((Y=H.customer)==null?void 0:Y.name)||"-"})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:"font-medium",children:["Rp ",(H.total||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:L(H.status)}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("button",{className:"text-primary hover:text-blue-700",children:l.jsx(uy,{size:18})})})]},H.id)})})]})}),I>1&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-gray-50",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",(h-1)*m+1," - ",Math.min(h*m,B.length)," dari ",B.length," pesanan"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(H=>Math.max(1,H-1)),disabled:h===1,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Sebelumnya"}),l.jsxs("span",{className:"px-3 py-1 text-sm",children:["Halaman ",h," dari ",I]}),l.jsx("button",{onClick:()=>p(H=>Math.min(I,H+1)),disabled:h===I,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function _P(){const a=ko(),[n,i]=ie.useState(""),[o,d]=ie.useState("all"),[u,f]=ie.useState("all"),[h,p]=ie.useState(1),[m,x]=ie.useState(20),[b,y]=ie.useState([]),[w,v]=ie.useState(!1),{products:A,importShopeeProducts:j}=Ws(),{stores:E}=So(),k=ie.useMemo(()=>A.filter(_=>_.source==="shopee"||_.source==="lazada"||_.source==="tokopedia"||_.source==="tiktok"||_.shopeeItemId||_.marketplaceSource),[A]),N=ie.useMemo(()=>k.filter(_=>{var $,q,re;const H=!n||(($=_.name)==null?void 0:$.toLowerCase().includes(n.toLowerCase()))||((q=_.sku)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((re=_.code)==null?void 0:re.toLowerCase().includes(n.toLowerCase()));let Y=o==="all";if(!Y&&o!=="all"){const ce=E.find(J=>J.id===parseInt(o));ce&&(Y=_.shopName===ce.shopName||_.storeName===ce.shopName||_.source===ce.platform&&_.shopId===ce.shopId||_.marketplaceStoreId===ce.id||_.shop_name===ce.shopName)}let de=u==="all";return u==="imported"?de=_.imported===!0||_.isImported===!0:u==="not-imported"&&(de=!_.imported&&!_.isImported),H&&Y&&de}),[k,n,o,u,E]),B=Math.ceil(N.length/m),I=N.slice((h-1)*m,h*m),D=k.length,T=k.filter(_=>_.imported||_.isImported).length,M=E.filter(_=>_.isActive&&_.isConnected).length,Q=async()=>{v(!0);try{await new Promise(_=>setTimeout(_,2e3)),alert("Sinkronisasi produk berhasil!")}catch(_){alert("Gagal sinkronisasi: "+_.message)}finally{v(!1)}},F=()=>{b.length===I.length?y([]):y(I.map(_=>_.id))},P=_=>{b.includes(_)?y(b.filter(H=>H!==_)):y([...b,_])},L=_=>{const H=_.source||"shopee",Y=va[H]||va.manual;return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${Y.bgLight} ${Y.textColor}`,children:Y.name})};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>a("/marketplace/integration"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(ly,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Produk Marketplace"}),l.jsx("p",{className:"text-gray-600",children:"Lihat dan impor produk dari semua toko"})]})]}),l.jsxs("button",{onClick:Q,disabled:w,className:"btn btn-success flex items-center gap-2",children:[l.jsx(x1,{size:20,className:w?"animate-spin":""}),"Sync Produk"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(en,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),l.jsx("p",{className:"text-2xl font-bold",children:D})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Y0,{className:"text-green-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Sudah Diimpor"}),l.jsx("p",{className:"text-2xl font-bold",children:T})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(v1,{className:"text-purple-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toko Terhubung"}),l.jsx("p",{className:"text-2xl font-bold",children:M})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Zo,{className:"text-orange-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Dipilih"}),l.jsx("p",{className:"text-2xl font-bold",children:b.length})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:n,onChange:_=>{i(_.target.value),p(1)},placeholder:"Cari nama produk atau SKU...",className:"w-full pl-10 input"})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsx(_m,{size:20})}),l.jsxs("select",{value:o,onChange:_=>{d(_.target.value),p(1)},className:"input w-full md:w-64",children:[l.jsx("option",{value:"all",children:"Semua Toko"}),E.filter(_=>_.isActive).map(_=>l.jsxs("option",{value:_.id,children:[_.shopName," (",_.platform,")"]},_.id))]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Per halaman:"}),l.jsxs("select",{value:m,onChange:_=>{x(parseInt(_.target.value)),p(1)},className:"input w-20",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t",children:[l.jsx("button",{onClick:F,className:"text-primary hover:underline text-sm",children:b.length===I.length?"Batal Pilih":"Pilih Halaman Ini"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsxs("button",{onClick:()=>y([]),className:"text-gray-500 hover:text-gray-700 text-sm",children:["Batal Pilih (",b.length,")"]})]})]}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:b.length===I.length&&I.length>0,onChange:F,className:"rounded"})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Toko"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center",children:[l.jsx(en,{className:"mx-auto text-gray-300 mb-4",size:48}),l.jsx("p",{className:"text-gray-500",children:"Tidak ada produk yang cocok dengan pencarian."})]})}):I.map(_=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"checkbox",checked:b.includes(_.id),onChange:()=>P(_.id),className:"rounded"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[_.image?l.jsx("img",{src:_.image,alt:_.name,className:"w-12 h-12 object-cover rounded-lg"}):l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(en,{className:"text-gray-400",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:_.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",_.shopeeItemId||_.id]})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:"text-sm font-mono",children:_.sku||"-"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[L(_),l.jsx("span",{className:"text-sm text-gray-600",children:_.shopName||_.shop_name||"-"})]})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:"font-medium",children:["Rp ",(_.price||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`font-medium ${_.stock===0?"text-red-600":_.stock<10?"text-orange-600":"text-gray-900"}`,children:_.stock||0})}),l.jsx("td",{className:"px-4 py-3 text-center",children:_.imported||_.isImported?l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[l.jsx(D1,{size:14}),"Diimpor"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-400 text-sm",children:[l.jsx(dy,{size:14}),"Belum"]})})]},_.id))})]})}),B>1&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-gray-50",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",(h-1)*m+1," - ",Math.min(h*m,N.length)," dari ",N.length," produk"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(_=>Math.max(1,_-1)),disabled:h===1,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Sebelumnya"}),l.jsxs("span",{className:"px-3 py-1 text-sm",children:["Halaman ",h," dari ",B]}),l.jsx("button",{onClick:()=>p(_=>Math.min(B,_+1)),disabled:h===B,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function OP(){const{isAuthenticated:a}=Di();return l.jsx(PE,{children:l.jsx(BD,{children:l.jsxs(mg,{children:[l.jsx(dn,{path:"/login",element:a?l.jsx(th,{to:"/"}):l.jsx(mT,{})}),l.jsx(dn,{path:"/marketplace/callback",element:l.jsx(BP,{})}),l.jsx(dn,{path:"/*",element:a?l.jsx(pT,{children:l.jsxs(mg,{children:[l.jsx(dn,{path:"/",element:l.jsx(vT,{})}),!P1&&l.jsx(dn,{path:"/pos",element:l.jsx(gT,{})}),P1&&l.jsx(dn,{path:"/scanner",element:l.jsx(KM,{})}),l.jsx(dn,{path:"/marketplace",element:l.jsx(th,{to:"/marketplace/integration",replace:!0})}),l.jsx(dn,{path:"/marketplace/integration",element:l.jsx(DP,{})}),l.jsx(dn,{path:"/marketplace/orders",element:l.jsx(PP,{})}),l.jsx(dn,{path:"/marketplace/products",element:l.jsx(_P,{})}),l.jsx(dn,{path:"/products",element:l.jsx(pM,{})}),l.jsx(dn,{path:"/stock",element:l.jsx(bM,{})}),l.jsx(dn,{path:"/purchases",element:l.jsx(NM,{})}),l.jsx(dn,{path:"/sales",element:l.jsx(CM,{})}),l.jsx(dn,{path:"/customers",element:l.jsx(BM,{})}),l.jsx(dn,{path:"/reports",element:l.jsx(RM,{})}),l.jsx(dn,{path:"/settings",element:l.jsx(qM,{})})]})}):l.jsx(th,{to:"/login"})})]})})})}const a6=hl("App",{web:()=>Mu(()=>import("./web-CZfoLnI5.js"),[]).then(a=>new a.AppWeb)});var k3;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(k3||(k3={}));var s6;(function(a){a.None="NONE",a.Slide="SLIDE",a.Fade="FADE"})(s6||(s6={}));const n6=hl("StatusBar"),UP=hl("SplashScreen",{web:()=>Mu(()=>import("./web-B_1xzF7T.js"),[]).then(a=>new a.SplashScreenWeb)}),zP=async()=>{try{await UP.hide(),await n6.setStyle({style:k3.Dark}),await n6.setBackgroundColor({color:"#1f2937"})}catch{console.log("Running in web mode")}},LP=async()=>{console.log("Initializing realtime sync...");try{await Ws.getState().initRealtime(),await m1.getState().initRealtime(),await xo.getState().initRealtime(),console.log("Realtime sync initialized!")}catch(a){console.log("Realtime sync error (offline mode):",a)}};a6.addListener("backButton",({canGoBack:a})=>{a?window.history.back():a6.exitApp()});zP();LP();Xh.createRoot(document.getElementById("root")).render(l.jsx(C3.StrictMode,{children:l.jsx(OP,{})}));export{Db as B,Oh as C,ic as E,Rb as L,_5 as W};
