function v6(a,n){for(var i=0;i<n.length;i++){const o=n[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in a)){const u=Object.getOwnPropertyDescriptor(o,d);u&&Object.defineProperty(a,d,u.get?u:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(d){if(d.ep)return;d.ep=!0;const u=i(d);fetch(d.href,u)}})();var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function mc(a){if(a.__esModule)return a;var n=a.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var d=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(i,o,d.get?d:{enumerable:!0,get:function(){return a[o]}})}),i}var g6={exports:{}},mu={},b6={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=Symbol.for("react.element"),Bj=Symbol.for("react.portal"),Dj=Symbol.for("react.fragment"),Tj=Symbol.for("react.strict_mode"),Rj=Symbol.for("react.profiler"),Mj=Symbol.for("react.provider"),_j=Symbol.for("react.context"),Fj=Symbol.for("react.forward_ref"),Pj=Symbol.for("react.suspense"),Oj=Symbol.for("react.memo"),Uj=Symbol.for("react.lazy"),ug=Symbol.iterator;function zj(a){return a===null||typeof a!="object"?null:(a=ug&&a[ug]||a["@@iterator"],typeof a=="function"?a:null)}var y6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w6=Object.assign,A6={};function xc(a,n,i){this.props=a,this.context=n,this.refs=A6,this.updater=i||y6}xc.prototype.isReactComponent={};xc.prototype.setState=function(a,n){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,n,"setState")};xc.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function k6(){}k6.prototype=xc.prototype;function M3(a,n,i){this.props=a,this.context=n,this.refs=A6,this.updater=i||y6}var _3=M3.prototype=new k6;_3.constructor=M3;w6(_3,xc.prototype);_3.isPureReactComponent=!0;var fg=Array.isArray,j6=Object.prototype.hasOwnProperty,F3={current:null},N6={key:!0,ref:!0,__self:!0,__source:!0};function S6(a,n,i){var o,d={},u=null,f=null;if(n!=null)for(o in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(u=""+n.key),n)j6.call(n,o)&&!N6.hasOwnProperty(o)&&(d[o]=n[o]);var h=arguments.length-2;if(h===1)d.children=i;else if(1<h){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];d.children=p}if(a&&a.defaultProps)for(o in h=a.defaultProps,h)d[o]===void 0&&(d[o]=h[o]);return{$$typeof:r2,type:a,key:u,ref:f,props:d,_owner:F3.current}}function Lj(a,n){return{$$typeof:r2,type:a.type,key:n,ref:a.ref,props:a.props,_owner:a._owner}}function P3(a){return typeof a=="object"&&a!==null&&a.$$typeof===r2}function Qj(a){var n={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(i){return n[i]})}var hg=/\/+/g;function Ff(a,n){return typeof a=="object"&&a!==null&&a.key!=null?Qj(""+a.key):n.toString(36)}function nd(a,n,i,o,d){var u=typeof a;(u==="undefined"||u==="boolean")&&(a=null);var f=!1;if(a===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(a.$$typeof){case r2:case Bj:f=!0}}if(f)return f=a,d=d(f),a=o===""?"."+Ff(f,0):o,fg(d)?(i="",a!=null&&(i=a.replace(hg,"$&/")+"/"),nd(d,n,i,"",function(m){return m})):d!=null&&(P3(d)&&(d=Lj(d,i+(!d.key||f&&f.key===d.key?"":(""+d.key).replace(hg,"$&/")+"/")+a)),n.push(d)),1;if(f=0,o=o===""?".":o+":",fg(a))for(var h=0;h<a.length;h++){u=a[h];var p=o+Ff(u,h);f+=nd(u,n,i,p,d)}else if(p=zj(a),typeof p=="function")for(a=p.call(a),h=0;!(u=a.next()).done;)u=u.value,p=o+Ff(u,h++),f+=nd(u,n,i,p,d);else if(u==="object")throw n=String(a),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function B2(a,n,i){if(a==null)return a;var o=[],d=0;return nd(a,o,"","",function(u){return n.call(i,u,d++)}),o}function Hj(a){if(a._status===-1){var n=a._result;n=n(),n.then(function(i){(a._status===0||a._status===-1)&&(a._status=1,a._result=i)},function(i){(a._status===0||a._status===-1)&&(a._status=2,a._result=i)}),a._status===-1&&(a._status=0,a._result=n)}if(a._status===1)return a._result.default;throw a._result}var Jn={current:null},id={transition:null},$j={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:id,ReactCurrentOwner:F3};function E6(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:B2,forEach:function(a,n,i){B2(a,function(){n.apply(this,arguments)},i)},count:function(a){var n=0;return B2(a,function(){n++}),n},toArray:function(a){return B2(a,function(n){return n})||[]},only:function(a){if(!P3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Lr.Component=xc;Lr.Fragment=Dj;Lr.Profiler=Rj;Lr.PureComponent=M3;Lr.StrictMode=Tj;Lr.Suspense=Pj;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$j;Lr.act=E6;Lr.cloneElement=function(a,n,i){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var o=w6({},a.props),d=a.key,u=a.ref,f=a._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,f=F3.current),n.key!==void 0&&(d=""+n.key),a.type&&a.type.defaultProps)var h=a.type.defaultProps;for(p in n)j6.call(n,p)&&!N6.hasOwnProperty(p)&&(o[p]=n[p]===void 0&&h!==void 0?h[p]:n[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){h=Array(p);for(var m=0;m<p;m++)h[m]=arguments[m+2];o.children=h}return{$$typeof:r2,type:a.type,key:d,ref:u,props:o,_owner:f}};Lr.createContext=function(a){return a={$$typeof:_j,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:Mj,_context:a},a.Consumer=a};Lr.createElement=S6;Lr.createFactory=function(a){var n=S6.bind(null,a);return n.type=a,n};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(a){return{$$typeof:Fj,render:a}};Lr.isValidElement=P3;Lr.lazy=function(a){return{$$typeof:Uj,_payload:{_status:-1,_result:a},_init:Hj}};Lr.memo=function(a,n){return{$$typeof:Oj,type:a,compare:n===void 0?null:n}};Lr.startTransition=function(a){var n=id.transition;id.transition={};try{a()}finally{id.transition=n}};Lr.unstable_act=E6;Lr.useCallback=function(a,n){return Jn.current.useCallback(a,n)};Lr.useContext=function(a){return Jn.current.useContext(a)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(a){return Jn.current.useDeferredValue(a)};Lr.useEffect=function(a,n){return Jn.current.useEffect(a,n)};Lr.useId=function(){return Jn.current.useId()};Lr.useImperativeHandle=function(a,n,i){return Jn.current.useImperativeHandle(a,n,i)};Lr.useInsertionEffect=function(a,n){return Jn.current.useInsertionEffect(a,n)};Lr.useLayoutEffect=function(a,n){return Jn.current.useLayoutEffect(a,n)};Lr.useMemo=function(a,n){return Jn.current.useMemo(a,n)};Lr.useReducer=function(a,n,i){return Jn.current.useReducer(a,n,i)};Lr.useRef=function(a){return Jn.current.useRef(a)};Lr.useState=function(a){return Jn.current.useState(a)};Lr.useSyncExternalStore=function(a,n,i){return Jn.current.useSyncExternalStore(a,n,i)};Lr.useTransition=function(){return Jn.current.useTransition()};Lr.version="18.3.1";b6.exports=Lr;var ne=b6.exports;const xu=pu(ne),qj=v6({__proto__:null,default:xu},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj=ne,Vj=Symbol.for("react.element"),Yj=Symbol.for("react.fragment"),Kj=Object.prototype.hasOwnProperty,Wj=Gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jj={key:!0,ref:!0,__self:!0,__source:!0};function C6(a,n,i){var o,d={},u=null,f=null;i!==void 0&&(u=""+i),n.key!==void 0&&(u=""+n.key),n.ref!==void 0&&(f=n.ref);for(o in n)Kj.call(n,o)&&!Jj.hasOwnProperty(o)&&(d[o]=n[o]);if(a&&a.defaultProps)for(o in n=a.defaultProps,n)d[o]===void 0&&(d[o]=n[o]);return{$$typeof:Vj,type:a,key:u,ref:f,props:d,_owner:Wj.current}}mu.Fragment=Yj;mu.jsx=C6;mu.jsxs=C6;g6.exports=mu;var l=g6.exports,op={},I6={exports:{}},Ni={},B6={exports:{}},D6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function n(H,se){var ue=H.length;H.push(se);e:for(;0<ue;){var U=ue-1>>>1,W=H[U];if(0<d(W,se))H[U]=se,H[ue]=W,ue=U;else break e}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var se=H[0],ue=H.pop();if(ue!==se){H[0]=ue;e:for(var U=0,W=H.length,re=W>>>1;U<re;){var ie=2*(U+1)-1,be=H[ie],K=ie+1,ke=H[K];if(0>d(be,ue))K<W&&0>d(ke,be)?(H[U]=ke,H[K]=ue,U=K):(H[U]=be,H[ie]=ue,U=ie);else if(K<W&&0>d(ke,ue))H[U]=ke,H[K]=ue,U=K;else break e}}return se}function d(H,se){var ue=H.sortIndex-se.sortIndex;return ue!==0?ue:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],m=[],x=1,y=null,w=3,v=!1,g=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var se=i(m);se!==null;){if(se.callback===null)o(m);else if(se.startTime<=H)o(m),se.sortIndex=se.expirationTime,n(p,se);else break;se=i(m)}}function B(H){if(A=!1,N(H),!g)if(i(p)!==null)g=!0,fe(I);else{var se=i(m);se!==null&&V(B,se.startTime-H)}}function I(H,se){g=!1,A&&(A=!1,E(R),R=-1),v=!0;var ue=w;try{for(N(se),y=i(p);y!==null&&(!(y.expirationTime>se)||H&&!F());){var U=y.callback;if(typeof U=="function"){y.callback=null,w=y.priorityLevel;var W=U(y.expirationTime<=se);se=a.unstable_now(),typeof W=="function"?y.callback=W:y===i(p)&&o(p),N(se)}else o(p);y=i(p)}if(y!==null)var re=!0;else{var ie=i(m);ie!==null&&V(B,ie.startTime-se),re=!1}return re}finally{y=null,w=ue,v=!1}}var D=!1,T=null,R=-1,$=5,_=-1;function F(){return!(a.unstable_now()-_<$)}function Q(){if(T!==null){var H=a.unstable_now();_=H;var se=!0;try{se=T(!0,H)}finally{se?L():(D=!1,T=null)}}else D=!1}var L;if(typeof j=="function")L=function(){j(Q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=Q,L=function(){le.postMessage(null)}}else L=function(){k(Q,0)};function fe(H){T=H,D||(D=!0,L())}function V(H,se){R=k(function(){H(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_continueExecution=function(){g||v||(g=!0,fe(I))},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(H){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ue=w;w=se;try{return H()}finally{w=ue}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=w;w=H;try{return se()}finally{w=ue}},a.unstable_scheduleCallback=function(H,se,ue){var U=a.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,H){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ue+W,H={id:x++,callback:se,priorityLevel:H,startTime:ue,expirationTime:W,sortIndex:-1},ue>U?(H.sortIndex=ue,n(m,H),i(p)===null&&H===i(m)&&(A?(E(R),R=-1):A=!0,V(B,ue-U))):(H.sortIndex=W,n(p,H),g||v||(g=!0,fe(I))),H},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(H){var se=w;return function(){var ue=w;w=se;try{return H.apply(this,arguments)}finally{w=ue}}}})(D6);B6.exports=D6;var Xj=B6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=ne,ji=Xj;function ht(a){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+a,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T6=new Set,I0={};function dl(a,n){ec(a,n),ec(a+"Capture",n)}function ec(a,n){for(I0[a]=n,a=0;a<n.length;a++)T6.add(n[a])}var M1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},mg={};function tN(a){return lp.call(mg,a)?!0:lp.call(pg,a)?!1:eN.test(a)?mg[a]=!0:(pg[a]=!0,!1)}function rN(a,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function aN(a,n,i,o){if(n===null||typeof n>"u"||rN(a,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Xn(a,n,i,o,d,u,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=a,this.type=n,this.sanitizeURL=u,this.removeEmptyString=f}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){In[a]=new Xn(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var n=a[0];In[n]=new Xn(n,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){In[a]=new Xn(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){In[a]=new Xn(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){In[a]=new Xn(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){In[a]=new Xn(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){In[a]=new Xn(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){In[a]=new Xn(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){In[a]=new Xn(a,5,!1,a.toLowerCase(),null,!1,!1)});var O3=/[\-:]([a-z])/g;function U3(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var n=a.replace(O3,U3);In[n]=new Xn(n,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var n=a.replace(O3,U3);In[n]=new Xn(n,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var n=a.replace(O3,U3);In[n]=new Xn(n,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){In[a]=new Xn(a,1,!1,a.toLowerCase(),null,!1,!1)});In.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){In[a]=new Xn(a,1,!1,a.toLowerCase(),null,!0,!0)});function z3(a,n,i,o){var d=In.hasOwnProperty(n)?In[n]:null;(d!==null?d.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(aN(n,i,d,o)&&(i=null),o||d===null?tN(n)&&(i===null?a.removeAttribute(n):a.setAttribute(n,""+i)):d.mustUseProperty?a[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,o=d.attributeNamespace,i===null?a.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?a.setAttributeNS(o,n,i):a.setAttribute(n,i))))}var U1=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D2=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),L3=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),R6=Symbol.for("react.provider"),M6=Symbol.for("react.context"),Q3=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),H3=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),_6=Symbol.for("react.offscreen"),xg=Symbol.iterator;function t0(a){return a===null||typeof a!="object"?null:(a=xg&&a[xg]||a["@@iterator"],typeof a=="function"?a:null)}var Es=Object.assign,Pf;function u0(a){if(Pf===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Pf=n&&n[1]||""}return`
`+Pf+a}var Of=!1;function Uf(a,n){if(!a||Of)return"";Of=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var o=m}Reflect.construct(a,[],n)}else{try{n.call()}catch(m){o=m}a.call(n.prototype)}else{try{throw Error()}catch(m){o=m}a()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var d=m.stack.split(`
`),u=o.stack.split(`
`),f=d.length-1,h=u.length-1;1<=f&&0<=h&&d[f]!==u[h];)h--;for(;1<=f&&0<=h;f--,h--)if(d[f]!==u[h]){if(f!==1||h!==1)do if(f--,h--,0>h||d[f]!==u[h]){var p=`
`+d[f].replace(" at new "," at ");return a.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",a.displayName)),p}while(1<=f&&0<=h);break}}}finally{Of=!1,Error.prepareStackTrace=i}return(a=a?a.displayName||a.name:"")?u0(a):""}function sN(a){switch(a.tag){case 5:return u0(a.type);case 16:return u0("Lazy");case 13:return u0("Suspense");case 19:return u0("SuspenseList");case 0:case 2:case 15:return a=Uf(a.type,!1),a;case 11:return a=Uf(a.type.render,!1),a;case 1:return a=Uf(a.type,!0),a;default:return""}}function fp(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Tl:return"Fragment";case Dl:return"Portal";case cp:return"Profiler";case L3:return"StrictMode";case dp:return"Suspense";case up:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case M6:return(a.displayName||"Context")+".Consumer";case R6:return(a._context.displayName||"Context")+".Provider";case Q3:var n=a.render;return a=a.displayName,a||(a=n.displayName||n.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case H3:return n=a.displayName||null,n!==null?n:fp(a.type)||"Memo";case K1:n=a._payload,a=a._init;try{return fp(a(n))}catch{}}return null}function nN(a){var n=a.type;switch(a.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=n.render,a=a.displayName||a.name||"",n.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(n);case 8:return n===L3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function xo(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function F6(a){var n=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function iN(a){var n=F6(a)?"checked":"value",i=Object.getOwnPropertyDescriptor(a.constructor.prototype,n),o=""+a[n];if(!a.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,u=i.set;return Object.defineProperty(a,n,{configurable:!0,get:function(){return d.call(this)},set:function(f){o=""+f,u.call(this,f)}}),Object.defineProperty(a,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){a._valueTracker=null,delete a[n]}}}}function T2(a){a._valueTracker||(a._valueTracker=iN(a))}function P6(a){if(!a)return!1;var n=a._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return a&&(o=F6(a)?a.checked?"true":"false":a.value),a=o,a!==i?(n.setValue(a),!0):!1}function Nd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function hp(a,n){var i=n.checked;return Es({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??a._wrapperState.initialChecked})}function vg(a,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=xo(n.value!=null?n.value:i),a._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function O6(a,n){n=n.checked,n!=null&&z3(a,"checked",n,!1)}function pp(a,n){O6(a,n);var i=xo(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+i):a.value!==""+i&&(a.value=""+i);else if(o==="submit"||o==="reset"){a.removeAttribute("value");return}n.hasOwnProperty("value")?mp(a,n.type,i):n.hasOwnProperty("defaultValue")&&mp(a,n.type,xo(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(a.defaultChecked=!!n.defaultChecked)}function gg(a,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+a._wrapperState.initialValue,i||n===a.value||(a.value=n),a.defaultValue=n}i=a.name,i!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,i!==""&&(a.name=i)}function mp(a,n,i){(n!=="number"||Nd(a.ownerDocument)!==a)&&(i==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+i&&(a.defaultValue=""+i))}var f0=Array.isArray;function $l(a,n,i,o){if(a=a.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<a.length;i++)d=n.hasOwnProperty("$"+a[i].value),a[i].selected!==d&&(a[i].selected=d),d&&o&&(a[i].defaultSelected=!0)}else{for(i=""+xo(i),n=null,d=0;d<a.length;d++){if(a[d].value===i){a[d].selected=!0,o&&(a[d].defaultSelected=!0);return}n!==null||a[d].disabled||(n=a[d])}n!==null&&(n.selected=!0)}}function xp(a,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ht(91));return Es({},n,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function bg(a,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ht(92));if(f0(i)){if(1<i.length)throw Error(ht(93));i=i[0]}n=i}n==null&&(n=""),i=n}a._wrapperState={initialValue:xo(i)}}function U6(a,n){var i=xo(n.value),o=xo(n.defaultValue);i!=null&&(i=""+i,i!==a.value&&(a.value=i),n.defaultValue==null&&a.defaultValue!==i&&(a.defaultValue=i)),o!=null&&(a.defaultValue=""+o)}function yg(a){var n=a.textContent;n===a._wrapperState.initialValue&&n!==""&&n!==null&&(a.value=n)}function z6(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(a,n){return a==null||a==="http://www.w3.org/1999/xhtml"?z6(n):a==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var R2,L6=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,d){MSApp.execUnsafeLocalFunction(function(){return a(n,i,o,d)})}:a}(function(a,n){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=n;else{for(R2=R2||document.createElement("div"),R2.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=R2.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;n.firstChild;)a.appendChild(n.firstChild)}});function B0(a,n){if(n){var i=a.firstChild;if(i&&i===a.lastChild&&i.nodeType===3){i.nodeValue=n;return}}a.textContent=n}var y0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oN=["Webkit","ms","Moz","O"];Object.keys(y0).forEach(function(a){oN.forEach(function(n){n=n+a.charAt(0).toUpperCase()+a.substring(1),y0[n]=y0[a]})});function Q6(a,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||y0.hasOwnProperty(a)&&y0[a]?(""+n).trim():n+"px"}function H6(a,n){a=a.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=Q6(i,n[i],o);i==="float"&&(i="cssFloat"),o?a.setProperty(i,d):a[i]=d}}var lN=Es({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(a,n){if(n){if(lN[a]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ht(137,a));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ht(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ht(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ht(62))}}function bp(a,n){if(a.indexOf("-")===-1)return typeof n.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function $3(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wp=null,ql=null,Gl=null;function wg(a){if(a=n2(a)){if(typeof wp!="function")throw Error(ht(280));var n=a.stateNode;n&&(n=wu(n),wp(a.stateNode,a.type,n))}}function $6(a){ql?Gl?Gl.push(a):Gl=[a]:ql=a}function q6(){if(ql){var a=ql,n=Gl;if(Gl=ql=null,wg(a),n)for(a=0;a<n.length;a++)wg(n[a])}}function G6(a,n){return a(n)}function V6(){}var zf=!1;function Y6(a,n,i){if(zf)return a(n,i);zf=!0;try{return G6(a,n,i)}finally{zf=!1,(ql!==null||Gl!==null)&&(V6(),q6())}}function D0(a,n){var i=a.stateNode;if(i===null)return null;var o=wu(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(a=a.type,o=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!o;break e;default:a=!1}if(a)return null;if(i&&typeof i!="function")throw Error(ht(231,n,typeof i));return i}var Ap=!1;if(M1)try{var r0={};Object.defineProperty(r0,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{Ap=!1}function cN(a,n,i,o,d,u,f,h,p){var m=Array.prototype.slice.call(arguments,3);try{n.apply(i,m)}catch(x){this.onError(x)}}var w0=!1,Sd=null,Ed=!1,kp=null,dN={onError:function(a){w0=!0,Sd=a}};function uN(a,n,i,o,d,u,f,h,p){w0=!1,Sd=null,cN.apply(dN,arguments)}function fN(a,n,i,o,d,u,f,h,p){if(uN.apply(this,arguments),w0){if(w0){var m=Sd;w0=!1,Sd=null}else throw Error(ht(198));Ed||(Ed=!0,kp=m)}}function ul(a){var n=a,i=a;if(a.alternate)for(;n.return;)n=n.return;else{a=n;do n=a,n.flags&4098&&(i=n.return),a=n.return;while(a)}return n.tag===3?i:null}function K6(a){if(a.tag===13){var n=a.memoizedState;if(n===null&&(a=a.alternate,a!==null&&(n=a.memoizedState)),n!==null)return n.dehydrated}return null}function Ag(a){if(ul(a)!==a)throw Error(ht(188))}function hN(a){var n=a.alternate;if(!n){if(n=ul(a),n===null)throw Error(ht(188));return n!==a?null:a}for(var i=a,o=n;;){var d=i.return;if(d===null)break;var u=d.alternate;if(u===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===u.child){for(u=d.child;u;){if(u===i)return Ag(d),a;if(u===o)return Ag(d),n;u=u.sibling}throw Error(ht(188))}if(i.return!==o.return)i=d,o=u;else{for(var f=!1,h=d.child;h;){if(h===i){f=!0,i=d,o=u;break}if(h===o){f=!0,o=d,i=u;break}h=h.sibling}if(!f){for(h=u.child;h;){if(h===i){f=!0,i=u,o=d;break}if(h===o){f=!0,o=u,i=d;break}h=h.sibling}if(!f)throw Error(ht(189))}}if(i.alternate!==o)throw Error(ht(190))}if(i.tag!==3)throw Error(ht(188));return i.stateNode.current===i?a:n}function W6(a){return a=hN(a),a!==null?J6(a):null}function J6(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var n=J6(a);if(n!==null)return n;a=a.sibling}return null}var X6=ji.unstable_scheduleCallback,kg=ji.unstable_cancelCallback,pN=ji.unstable_shouldYield,mN=ji.unstable_requestPaint,Us=ji.unstable_now,xN=ji.unstable_getCurrentPriorityLevel,q3=ji.unstable_ImmediatePriority,Z6=ji.unstable_UserBlockingPriority,Cd=ji.unstable_NormalPriority,vN=ji.unstable_LowPriority,e8=ji.unstable_IdlePriority,vu=null,v1=null;function gN(a){if(v1&&typeof v1.onCommitFiberRoot=="function")try{v1.onCommitFiberRoot(vu,a,void 0,(a.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:wN,bN=Math.log,yN=Math.LN2;function wN(a){return a>>>=0,a===0?32:31-(bN(a)/yN|0)|0}var M2=64,_2=4194304;function h0(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Id(a,n){var i=a.pendingLanes;if(i===0)return 0;var o=0,d=a.suspendedLanes,u=a.pingedLanes,f=i&268435455;if(f!==0){var h=f&~d;h!==0?o=h0(h):(u&=f,u!==0&&(o=h0(u)))}else f=i&~d,f!==0?o=h0(f):u!==0&&(o=h0(u));if(o===0)return 0;if(n!==0&&n!==o&&!(n&d)&&(d=o&-o,u=n&-n,d>=u||d===16&&(u&4194240)!==0))return n;if(o&4&&(o|=i&16),n=a.entangledLanes,n!==0)for(a=a.entanglements,n&=o;0<n;)i=31-Wi(n),d=1<<i,o|=a[i],n&=~d;return o}function AN(a,n){switch(a){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kN(a,n){for(var i=a.suspendedLanes,o=a.pingedLanes,d=a.expirationTimes,u=a.pendingLanes;0<u;){var f=31-Wi(u),h=1<<f,p=d[f];p===-1?(!(h&i)||h&o)&&(d[f]=AN(h,n)):p<=n&&(a.expiredLanes|=h),u&=~h}}function jp(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function t8(){var a=M2;return M2<<=1,!(M2&4194240)&&(M2=64),a}function Lf(a){for(var n=[],i=0;31>i;i++)n.push(a);return n}function a2(a,n,i){a.pendingLanes|=n,n!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,n=31-Wi(n),a[n]=i}function jN(a,n){var i=a.pendingLanes&~n;a.pendingLanes=n,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=n,a.mutableReadLanes&=n,a.entangledLanes&=n,n=a.entanglements;var o=a.eventTimes;for(a=a.expirationTimes;0<i;){var d=31-Wi(i),u=1<<d;n[d]=0,o[d]=-1,a[d]=-1,i&=~u}}function G3(a,n){var i=a.entangledLanes|=n;for(a=a.entanglements;i;){var o=31-Wi(i),d=1<<o;d&n|a[o]&n&&(a[o]|=n),i&=~d}}var Ea=0;function r8(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var a8,V3,s8,n8,i8,Np=!1,F2=[],no=null,io=null,oo=null,T0=new Map,R0=new Map,J1=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(a,n){switch(a){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":T0.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":R0.delete(n.pointerId)}}function a0(a,n,i,o,d,u){return a===null||a.nativeEvent!==u?(a={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[d]},n!==null&&(n=n2(n),n!==null&&V3(n)),a):(a.eventSystemFlags|=o,n=a.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),a)}function SN(a,n,i,o,d){switch(n){case"focusin":return no=a0(no,a,n,i,o,d),!0;case"dragenter":return io=a0(io,a,n,i,o,d),!0;case"mouseover":return oo=a0(oo,a,n,i,o,d),!0;case"pointerover":var u=d.pointerId;return T0.set(u,a0(T0.get(u)||null,a,n,i,o,d)),!0;case"gotpointercapture":return u=d.pointerId,R0.set(u,a0(R0.get(u)||null,a,n,i,o,d)),!0}return!1}function o8(a){var n=Go(a.target);if(n!==null){var i=ul(n);if(i!==null){if(n=i.tag,n===13){if(n=K6(i),n!==null){a.blockedOn=n,i8(a.priority,function(){s8(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){a.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}a.blockedOn=null}function od(a){if(a.blockedOn!==null)return!1;for(var n=a.targetContainers;0<n.length;){var i=Sp(a.domEventName,a.eventSystemFlags,n[0],a.nativeEvent);if(i===null){i=a.nativeEvent;var o=new i.constructor(i.type,i);yp=o,i.target.dispatchEvent(o),yp=null}else return n=n2(i),n!==null&&V3(n),a.blockedOn=i,!1;n.shift()}return!0}function Ng(a,n,i){od(a)&&i.delete(n)}function EN(){Np=!1,no!==null&&od(no)&&(no=null),io!==null&&od(io)&&(io=null),oo!==null&&od(oo)&&(oo=null),T0.forEach(Ng),R0.forEach(Ng)}function s0(a,n){a.blockedOn===n&&(a.blockedOn=null,Np||(Np=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,EN)))}function M0(a){function n(d){return s0(d,a)}if(0<F2.length){s0(F2[0],a);for(var i=1;i<F2.length;i++){var o=F2[i];o.blockedOn===a&&(o.blockedOn=null)}}for(no!==null&&s0(no,a),io!==null&&s0(io,a),oo!==null&&s0(oo,a),T0.forEach(n),R0.forEach(n),i=0;i<J1.length;i++)o=J1[i],o.blockedOn===a&&(o.blockedOn=null);for(;0<J1.length&&(i=J1[0],i.blockedOn===null);)o8(i),i.blockedOn===null&&J1.shift()}var Vl=U1.ReactCurrentBatchConfig,Bd=!0;function CN(a,n,i,o){var d=Ea,u=Vl.transition;Vl.transition=null;try{Ea=1,Y3(a,n,i,o)}finally{Ea=d,Vl.transition=u}}function IN(a,n,i,o){var d=Ea,u=Vl.transition;Vl.transition=null;try{Ea=4,Y3(a,n,i,o)}finally{Ea=d,Vl.transition=u}}function Y3(a,n,i,o){if(Bd){var d=Sp(a,n,i,o);if(d===null)Jf(a,n,o,Dd,i),jg(a,o);else if(SN(d,a,n,i,o))o.stopPropagation();else if(jg(a,o),n&4&&-1<NN.indexOf(a)){for(;d!==null;){var u=n2(d);if(u!==null&&a8(u),u=Sp(a,n,i,o),u===null&&Jf(a,n,o,Dd,i),u===d)break;d=u}d!==null&&o.stopPropagation()}else Jf(a,n,o,null,i)}}var Dd=null;function Sp(a,n,i,o){if(Dd=null,a=$3(o),a=Go(a),a!==null)if(n=ul(a),n===null)a=null;else if(i=n.tag,i===13){if(a=K6(n),a!==null)return a;a=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;a=null}else n!==a&&(a=null);return Dd=a,null}function l8(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xN()){case q3:return 1;case Z6:return 4;case Cd:case vN:return 16;case e8:return 536870912;default:return 16}default:return 16}}var ro=null,K3=null,ld=null;function c8(){if(ld)return ld;var a,n=K3,i=n.length,o,d="value"in ro?ro.value:ro.textContent,u=d.length;for(a=0;a<i&&n[a]===d[a];a++);var f=i-a;for(o=1;o<=f&&n[i-o]===d[u-o];o++);return ld=d.slice(a,1<o?1-o:void 0)}function cd(a){var n=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&n===13&&(a=13)):a=n,a===10&&(a=13),32<=a||a===13?a:0}function P2(){return!0}function Sg(){return!1}function Si(a){function n(i,o,d,u,f){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var h in a)a.hasOwnProperty(h)&&(i=a[h],this[h]=i?i(u):u[h]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?P2:Sg,this.isPropagationStopped=Sg,this}return Es(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=P2)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=P2)},persist:function(){},isPersistent:P2}),n}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W3=Si(vc),s2=Es({},vc,{view:0,detail:0}),BN=Si(s2),Qf,Hf,n0,gu=Es({},s2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J3,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==n0&&(n0&&a.type==="mousemove"?(Qf=a.screenX-n0.screenX,Hf=a.screenY-n0.screenY):Hf=Qf=0,n0=a),Qf)},movementY:function(a){return"movementY"in a?a.movementY:Hf}}),Eg=Si(gu),DN=Es({},gu,{dataTransfer:0}),TN=Si(DN),RN=Es({},s2,{relatedTarget:0}),$f=Si(RN),MN=Es({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),_N=Si(MN),FN=Es({},vc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),PN=Si(FN),ON=Es({},vc,{data:0}),Cg=Si(ON),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QN(a){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(a):(a=LN[a])?!!n[a]:!1}function J3(){return QN}var HN=Es({},s2,{key:function(a){if(a.key){var n=UN[a.key]||a.key;if(n!=="Unidentified")return n}return a.type==="keypress"?(a=cd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J3,charCode:function(a){return a.type==="keypress"?cd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$N=Si(HN),qN=Es({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=Si(qN),GN=Es({},s2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J3}),VN=Si(GN),YN=Es({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=Si(YN),WN=Es({},gu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),JN=Si(WN),XN=[9,13,27,32],X3=M1&&"CompositionEvent"in window,A0=null;M1&&"documentMode"in document&&(A0=document.documentMode);var ZN=M1&&"TextEvent"in window&&!A0,d8=M1&&(!X3||A0&&8<A0&&11>=A0),Bg=" ",Dg=!1;function u8(a,n){switch(a){case"keyup":return XN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f8(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Rl=!1;function eS(a,n){switch(a){case"compositionend":return f8(n);case"keypress":return n.which!==32?null:(Dg=!0,Bg);case"textInput":return a=n.data,a===Bg&&Dg?null:a;default:return null}}function tS(a,n){if(Rl)return a==="compositionend"||!X3&&u8(a,n)?(a=c8(),ld=K3=ro=null,Rl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return d8&&n.locale!=="ko"?null:n.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n==="input"?!!rS[a.type]:n==="textarea"}function h8(a,n,i,o){$6(o),n=Td(n,"onChange"),0<n.length&&(i=new W3("onChange","change",null,i,o),a.push({event:i,listeners:n}))}var k0=null,_0=null;function aS(a){j8(a,0)}function bu(a){var n=Fl(a);if(P6(n))return a}function sS(a,n){if(a==="change")return n}var p8=!1;if(M1){var qf;if(M1){var Gf="oninput"in document;if(!Gf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Gf=typeof Rg.oninput=="function"}qf=Gf}else qf=!1;p8=qf&&(!document.documentMode||9<document.documentMode)}function Mg(){k0&&(k0.detachEvent("onpropertychange",m8),_0=k0=null)}function m8(a){if(a.propertyName==="value"&&bu(_0)){var n=[];h8(n,_0,a,$3(a)),Y6(aS,n)}}function nS(a,n,i){a==="focusin"?(Mg(),k0=n,_0=i,k0.attachEvent("onpropertychange",m8)):a==="focusout"&&Mg()}function iS(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bu(_0)}function oS(a,n){if(a==="click")return bu(n)}function lS(a,n){if(a==="input"||a==="change")return bu(n)}function cS(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var Xi=typeof Object.is=="function"?Object.is:cS;function F0(a,n){if(Xi(a,n))return!0;if(typeof a!="object"||a===null||typeof n!="object"||n===null)return!1;var i=Object.keys(a),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!lp.call(n,d)||!Xi(a[d],n[d]))return!1}return!0}function _g(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Fg(a,n){var i=_g(a);a=0;for(var o;i;){if(i.nodeType===3){if(o=a+i.textContent.length,a<=n&&o>=n)return{node:i,offset:n-a};a=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=_g(i)}}function x8(a,n){return a&&n?a===n?!0:a&&a.nodeType===3?!1:n&&n.nodeType===3?x8(a,n.parentNode):"contains"in a?a.contains(n):a.compareDocumentPosition?!!(a.compareDocumentPosition(n)&16):!1:!1}function v8(){for(var a=window,n=Nd();n instanceof a.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)a=n.contentWindow;else break;n=Nd(a.document)}return n}function Z3(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n&&(n==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||n==="textarea"||a.contentEditable==="true")}function dS(a){var n=v8(),i=a.focusedElem,o=a.selectionRange;if(n!==i&&i&&i.ownerDocument&&x8(i.ownerDocument.documentElement,i)){if(o!==null&&Z3(i)){if(n=o.start,a=o.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=i.textContent.length,u=Math.min(o.start,d);o=o.end===void 0?u:Math.min(o.end,d),!a.extend&&u>o&&(d=o,o=u,u=d),d=Fg(i,u);var f=Fg(i,o);d&&f&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==f.node||a.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),u>o?(a.addRange(n),a.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uS=M1&&"documentMode"in document&&11>=document.documentMode,Ml=null,Ep=null,j0=null,Cp=!1;function Pg(a,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Cp||Ml==null||Ml!==Nd(o)||(o=Ml,"selectionStart"in o&&Z3(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),j0&&F0(j0,o)||(j0=o,o=Td(Ep,"onSelect"),0<o.length&&(n=new W3("onSelect","select",null,n,i),a.push({event:n,listeners:o}),n.target=Ml)))}function O2(a,n){var i={};return i[a.toLowerCase()]=n.toLowerCase(),i["Webkit"+a]="webkit"+n,i["Moz"+a]="moz"+n,i}var _l={animationend:O2("Animation","AnimationEnd"),animationiteration:O2("Animation","AnimationIteration"),animationstart:O2("Animation","AnimationStart"),transitionend:O2("Transition","TransitionEnd")},Vf={},g8={};M1&&(g8=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function yu(a){if(Vf[a])return Vf[a];if(!_l[a])return a;var n=_l[a],i;for(i in n)if(n.hasOwnProperty(i)&&i in g8)return Vf[a]=n[i];return a}var b8=yu("animationend"),y8=yu("animationiteration"),w8=yu("animationstart"),A8=yu("transitionend"),k8=new Map,Og="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(a,n){k8.set(a,n),dl(n,[a])}for(var Yf=0;Yf<Og.length;Yf++){var Kf=Og[Yf],fS=Kf.toLowerCase(),hS=Kf[0].toUpperCase()+Kf.slice(1);wo(fS,"on"+hS)}wo(b8,"onAnimationEnd");wo(y8,"onAnimationIteration");wo(w8,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(A8,"onTransitionEnd");ec("onMouseEnter",["mouseout","mouseover"]);ec("onMouseLeave",["mouseout","mouseover"]);ec("onPointerEnter",["pointerout","pointerover"]);ec("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("cancel close invalid load scroll toggle".split(" ").concat(p0));function Ug(a,n,i){var o=a.type||"unknown-event";a.currentTarget=i,fN(o,n,void 0,a),a.currentTarget=null}function j8(a,n){n=(n&4)!==0;for(var i=0;i<a.length;i++){var o=a[i],d=o.event;o=o.listeners;e:{var u=void 0;if(n)for(var f=o.length-1;0<=f;f--){var h=o[f],p=h.instance,m=h.currentTarget;if(h=h.listener,p!==u&&d.isPropagationStopped())break e;Ug(d,h,m),u=p}else for(f=0;f<o.length;f++){if(h=o[f],p=h.instance,m=h.currentTarget,h=h.listener,p!==u&&d.isPropagationStopped())break e;Ug(d,h,m),u=p}}}if(Ed)throw a=kp,Ed=!1,kp=null,a}function ss(a,n){var i=n[Rp];i===void 0&&(i=n[Rp]=new Set);var o=a+"__bubble";i.has(o)||(N8(n,a,2,!1),i.add(o))}function Wf(a,n,i){var o=0;n&&(o|=4),N8(i,a,o,n)}var U2="_reactListening"+Math.random().toString(36).slice(2);function P0(a){if(!a[U2]){a[U2]=!0,T6.forEach(function(i){i!=="selectionchange"&&(pS.has(i)||Wf(i,!1,a),Wf(i,!0,a))});var n=a.nodeType===9?a:a.ownerDocument;n===null||n[U2]||(n[U2]=!0,Wf("selectionchange",!1,n))}}function N8(a,n,i,o){switch(l8(n)){case 1:var d=CN;break;case 4:d=IN;break;default:d=Y3}i=d.bind(null,n,i,a),d=void 0,!Ap||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?a.addEventListener(n,i,{capture:!0,passive:d}):a.addEventListener(n,i,!0):d!==void 0?a.addEventListener(n,i,{passive:d}):a.addEventListener(n,i,!1)}function Jf(a,n,i,o,d){var u=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var h=o.stateNode.containerInfo;if(h===d||h.nodeType===8&&h.parentNode===d)break;if(f===4)for(f=o.return;f!==null;){var p=f.tag;if((p===3||p===4)&&(p=f.stateNode.containerInfo,p===d||p.nodeType===8&&p.parentNode===d))return;f=f.return}for(;h!==null;){if(f=Go(h),f===null)return;if(p=f.tag,p===5||p===6){o=u=f;continue e}h=h.parentNode}}o=o.return}Y6(function(){var m=u,x=$3(i),y=[];e:{var w=k8.get(a);if(w!==void 0){var v=W3,g=a;switch(a){case"keypress":if(cd(i)===0)break e;case"keydown":case"keyup":v=$N;break;case"focusin":g="focus",v=$f;break;case"focusout":g="blur",v=$f;break;case"beforeblur":case"afterblur":v=$f;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=TN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=VN;break;case b8:case y8:case w8:v=_N;break;case A8:v=KN;break;case"scroll":v=BN;break;case"wheel":v=JN;break;case"copy":case"cut":case"paste":v=PN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ig}var A=(n&4)!==0,k=!A&&a==="scroll",E=A?w!==null?w+"Capture":null:w;A=[];for(var j=m,N;j!==null;){N=j;var B=N.stateNode;if(N.tag===5&&B!==null&&(N=B,E!==null&&(B=D0(j,E),B!=null&&A.push(O0(j,B,N)))),k)break;j=j.return}0<A.length&&(w=new v(w,g,null,i,x),y.push({event:w,listeners:A}))}}if(!(n&7)){e:{if(w=a==="mouseover"||a==="pointerover",v=a==="mouseout"||a==="pointerout",w&&i!==yp&&(g=i.relatedTarget||i.fromElement)&&(Go(g)||g[_1]))break e;if((v||w)&&(w=x.window===x?x:(w=x.ownerDocument)?w.defaultView||w.parentWindow:window,v?(g=i.relatedTarget||i.toElement,v=m,g=g?Go(g):null,g!==null&&(k=ul(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=m),v!==g)){if(A=Eg,B="onMouseLeave",E="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(A=Ig,B="onPointerLeave",E="onPointerEnter",j="pointer"),k=v==null?w:Fl(v),N=g==null?w:Fl(g),w=new A(B,j+"leave",v,i,x),w.target=k,w.relatedTarget=N,B=null,Go(x)===m&&(A=new A(E,j+"enter",g,i,x),A.target=N,A.relatedTarget=k,B=A),k=B,v&&g)t:{for(A=v,E=g,j=0,N=A;N;N=jl(N))j++;for(N=0,B=E;B;B=jl(B))N++;for(;0<j-N;)A=jl(A),j--;for(;0<N-j;)E=jl(E),N--;for(;j--;){if(A===E||E!==null&&A===E.alternate)break t;A=jl(A),E=jl(E)}A=null}else A=null;v!==null&&zg(y,w,v,A,!1),g!==null&&k!==null&&zg(y,k,g,A,!0)}}e:{if(w=m?Fl(m):window,v=w.nodeName&&w.nodeName.toLowerCase(),v==="select"||v==="input"&&w.type==="file")var I=sS;else if(Tg(w))if(p8)I=lS;else{I=iS;var D=nS}else(v=w.nodeName)&&v.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(I=oS);if(I&&(I=I(a,m))){h8(y,I,i,x);break e}D&&D(a,w,m),a==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&mp(w,"number",w.value)}switch(D=m?Fl(m):window,a){case"focusin":(Tg(D)||D.contentEditable==="true")&&(Ml=D,Ep=m,j0=null);break;case"focusout":j0=Ep=Ml=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Pg(y,i,x);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Pg(y,i,x)}var T;if(X3)e:{switch(a){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Rl?u8(a,i)&&(R="onCompositionEnd"):a==="keydown"&&i.keyCode===229&&(R="onCompositionStart");R&&(d8&&i.locale!=="ko"&&(Rl||R!=="onCompositionStart"?R==="onCompositionEnd"&&Rl&&(T=c8()):(ro=x,K3="value"in ro?ro.value:ro.textContent,Rl=!0)),D=Td(m,R),0<D.length&&(R=new Cg(R,a,null,i,x),y.push({event:R,listeners:D}),T?R.data=T:(T=f8(i),T!==null&&(R.data=T)))),(T=ZN?eS(a,i):tS(a,i))&&(m=Td(m,"onBeforeInput"),0<m.length&&(x=new Cg("onBeforeInput","beforeinput",null,i,x),y.push({event:x,listeners:m}),x.data=T))}j8(y,n)})}function O0(a,n,i){return{instance:a,listener:n,currentTarget:i}}function Td(a,n){for(var i=n+"Capture",o=[];a!==null;){var d=a,u=d.stateNode;d.tag===5&&u!==null&&(d=u,u=D0(a,i),u!=null&&o.unshift(O0(a,u,d)),u=D0(a,n),u!=null&&o.push(O0(a,u,d))),a=a.return}return o}function jl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function zg(a,n,i,o,d){for(var u=n._reactName,f=[];i!==null&&i!==o;){var h=i,p=h.alternate,m=h.stateNode;if(p!==null&&p===o)break;h.tag===5&&m!==null&&(h=m,d?(p=D0(i,u),p!=null&&f.unshift(O0(i,p,h))):d||(p=D0(i,u),p!=null&&f.push(O0(i,p,h)))),i=i.return}f.length!==0&&a.push({event:n,listeners:f})}var mS=/\r\n?/g,xS=/\u0000|\uFFFD/g;function Lg(a){return(typeof a=="string"?a:""+a).replace(mS,`
`).replace(xS,"")}function z2(a,n,i){if(n=Lg(n),Lg(a)!==n&&i)throw Error(ht(425))}function Rd(){}var Ip=null,Bp=null;function Dp(a,n){return a==="textarea"||a==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(a){return Qg.resolve(null).then(a).catch(bS)}:Tp;function bS(a){setTimeout(function(){throw a})}function Xf(a,n){var i=n,o=0;do{var d=i.nextSibling;if(a.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){a.removeChild(d),M0(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);M0(n)}function lo(a){for(;a!=null;a=a.nextSibling){var n=a.nodeType;if(n===1||n===3)break;if(n===8){if(n=a.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return a}function Hg(a){a=a.previousSibling;for(var n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return a;n--}else i==="/$"&&n++}a=a.previousSibling}return null}var gc=Math.random().toString(36).slice(2),m1="__reactFiber$"+gc,U0="__reactProps$"+gc,_1="__reactContainer$"+gc,Rp="__reactEvents$"+gc,yS="__reactListeners$"+gc,wS="__reactHandles$"+gc;function Go(a){var n=a[m1];if(n)return n;for(var i=a.parentNode;i;){if(n=i[_1]||i[m1]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(a=Hg(a);a!==null;){if(i=a[m1])return i;a=Hg(a)}return n}a=i,i=a.parentNode}return null}function n2(a){return a=a[m1]||a[_1],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Fl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ht(33))}function wu(a){return a[U0]||null}var Mp=[],Pl=-1;function Ao(a){return{current:a}}function ns(a){0>Pl||(a.current=Mp[Pl],Mp[Pl]=null,Pl--)}function Ya(a,n){Pl++,Mp[Pl]=a.current,a.current=n}var vo={},Ln=Ao(vo),oi=Ao(!1),sl=vo;function tc(a,n){var i=a.type.contextTypes;if(!i)return vo;var o=a.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var d={},u;for(u in i)d[u]=n[u];return o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=n,a.__reactInternalMemoizedMaskedChildContext=d),d}function li(a){return a=a.childContextTypes,a!=null}function Md(){ns(oi),ns(Ln)}function $g(a,n,i){if(Ln.current!==vo)throw Error(ht(168));Ya(Ln,n),Ya(oi,i)}function S8(a,n,i){var o=a.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in n))throw Error(ht(108,nN(a)||"Unknown",d));return Es({},i,o)}function _d(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||vo,sl=Ln.current,Ya(Ln,a),Ya(oi,oi.current),!0}function qg(a,n,i){var o=a.stateNode;if(!o)throw Error(ht(169));i?(a=S8(a,n,sl),o.__reactInternalMemoizedMergedChildContext=a,ns(oi),ns(Ln),Ya(Ln,a)):ns(oi),Ya(oi,i)}var I1=null,Au=!1,Zf=!1;function E8(a){I1===null?I1=[a]:I1.push(a)}function AS(a){Au=!0,E8(a)}function ko(){if(!Zf&&I1!==null){Zf=!0;var a=0,n=Ea;try{var i=I1;for(Ea=1;a<i.length;a++){var o=i[a];do o=o(!0);while(o!==null)}I1=null,Au=!1}catch(d){throw I1!==null&&(I1=I1.slice(a+1)),X6(q3,ko),d}finally{Ea=n,Zf=!1}}return null}var Ol=[],Ul=0,Fd=null,Pd=0,Ii=[],Bi=0,nl=null,B1=1,D1="";function Uo(a,n){Ol[Ul++]=Pd,Ol[Ul++]=Fd,Fd=a,Pd=n}function C8(a,n,i){Ii[Bi++]=B1,Ii[Bi++]=D1,Ii[Bi++]=nl,nl=a;var o=B1;a=D1;var d=32-Wi(o)-1;o&=~(1<<d),i+=1;var u=32-Wi(n)+d;if(30<u){var f=d-d%5;u=(o&(1<<f)-1).toString(32),o>>=f,d-=f,B1=1<<32-Wi(n)+d|i<<d|o,D1=u+a}else B1=1<<u|i<<d|o,D1=a}function em(a){a.return!==null&&(Uo(a,1),C8(a,1,0))}function tm(a){for(;a===Fd;)Fd=Ol[--Ul],Ol[Ul]=null,Pd=Ol[--Ul],Ol[Ul]=null;for(;a===nl;)nl=Ii[--Bi],Ii[Bi]=null,D1=Ii[--Bi],Ii[Bi]=null,B1=Ii[--Bi],Ii[Bi]=null}var Ai=null,wi=null,hs=!1,Ki=null;function I8(a,n){var i=Di(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=a,n=a.deletions,n===null?(a.deletions=[i],a.flags|=16):n.push(i)}function Gg(a,n){switch(a.tag){case 5:var i=a.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(a.stateNode=n,Ai=a,wi=lo(n.firstChild),!0):!1;case 6:return n=a.pendingProps===""||n.nodeType!==3?null:n,n!==null?(a.stateNode=n,Ai=a,wi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=nl!==null?{id:B1,overflow:D1}:null,a.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Di(18,null,null,0),i.stateNode=n,i.return=a,a.child=i,Ai=a,wi=null,!0):!1;default:return!1}}function _p(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Fp(a){if(hs){var n=wi;if(n){var i=n;if(!Gg(a,n)){if(_p(a))throw Error(ht(418));n=lo(i.nextSibling);var o=Ai;n&&Gg(a,n)?I8(o,i):(a.flags=a.flags&-4097|2,hs=!1,Ai=a)}}else{if(_p(a))throw Error(ht(418));a.flags=a.flags&-4097|2,hs=!1,Ai=a}}}function Vg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ai=a}function L2(a){if(a!==Ai)return!1;if(!hs)return Vg(a),hs=!0,!1;var n;if((n=a.tag!==3)&&!(n=a.tag!==5)&&(n=a.type,n=n!=="head"&&n!=="body"&&!Dp(a.type,a.memoizedProps)),n&&(n=wi)){if(_p(a))throw B8(),Error(ht(418));for(;n;)I8(a,n),n=lo(n.nextSibling)}if(Vg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ht(317));e:{for(a=a.nextSibling,n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="/$"){if(n===0){wi=lo(a.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}a=a.nextSibling}wi=null}}else wi=Ai?lo(a.stateNode.nextSibling):null;return!0}function B8(){for(var a=wi;a;)a=lo(a.nextSibling)}function rc(){wi=Ai=null,hs=!1}function rm(a){Ki===null?Ki=[a]:Ki.push(a)}var kS=U1.ReactCurrentBatchConfig;function i0(a,n,i){if(a=i.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ht(309));var o=i.stateNode}if(!o)throw Error(ht(147,a));var d=o,u=""+a;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(f){var h=d.refs;f===null?delete h[u]:h[u]=f},n._stringRef=u,n)}if(typeof a!="string")throw Error(ht(284));if(!i._owner)throw Error(ht(290,a))}return a}function Q2(a,n){throw a=Object.prototype.toString.call(n),Error(ht(31,a==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":a))}function Yg(a){var n=a._init;return n(a._payload)}function D8(a){function n(E,j){if(a){var N=E.deletions;N===null?(E.deletions=[j],E.flags|=16):N.push(j)}}function i(E,j){if(!a)return null;for(;j!==null;)n(E,j),j=j.sibling;return null}function o(E,j){for(E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function d(E,j){return E=ho(E,j),E.index=0,E.sibling=null,E}function u(E,j,N){return E.index=N,a?(N=E.alternate,N!==null?(N=N.index,N<j?(E.flags|=2,j):N):(E.flags|=2,j)):(E.flags|=1048576,j)}function f(E){return a&&E.alternate===null&&(E.flags|=2),E}function h(E,j,N,B){return j===null||j.tag!==6?(j=ih(N,E.mode,B),j.return=E,j):(j=d(j,N),j.return=E,j)}function p(E,j,N,B){var I=N.type;return I===Tl?x(E,j,N.props.children,B,N.key):j!==null&&(j.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===K1&&Yg(I)===j.type)?(B=d(j,N.props),B.ref=i0(E,j,N),B.return=E,B):(B=xd(N.type,N.key,N.props,null,E.mode,B),B.ref=i0(E,j,N),B.return=E,B)}function m(E,j,N,B){return j===null||j.tag!==4||j.stateNode.containerInfo!==N.containerInfo||j.stateNode.implementation!==N.implementation?(j=oh(N,E.mode,B),j.return=E,j):(j=d(j,N.children||[]),j.return=E,j)}function x(E,j,N,B,I){return j===null||j.tag!==7?(j=el(N,E.mode,B,I),j.return=E,j):(j=d(j,N),j.return=E,j)}function y(E,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ih(""+j,E.mode,N),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case D2:return N=xd(j.type,j.key,j.props,null,E.mode,N),N.ref=i0(E,null,j),N.return=E,N;case Dl:return j=oh(j,E.mode,N),j.return=E,j;case K1:var B=j._init;return y(E,B(j._payload),N)}if(f0(j)||t0(j))return j=el(j,E.mode,N,null),j.return=E,j;Q2(E,j)}return null}function w(E,j,N,B){var I=j!==null?j.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return I!==null?null:h(E,j,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D2:return N.key===I?p(E,j,N,B):null;case Dl:return N.key===I?m(E,j,N,B):null;case K1:return I=N._init,w(E,j,I(N._payload),B)}if(f0(N)||t0(N))return I!==null?null:x(E,j,N,B,null);Q2(E,N)}return null}function v(E,j,N,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return E=E.get(N)||null,h(j,E,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D2:return E=E.get(B.key===null?N:B.key)||null,p(j,E,B,I);case Dl:return E=E.get(B.key===null?N:B.key)||null,m(j,E,B,I);case K1:var D=B._init;return v(E,j,N,D(B._payload),I)}if(f0(B)||t0(B))return E=E.get(N)||null,x(j,E,B,I,null);Q2(j,B)}return null}function g(E,j,N,B){for(var I=null,D=null,T=j,R=j=0,$=null;T!==null&&R<N.length;R++){T.index>R?($=T,T=null):$=T.sibling;var _=w(E,T,N[R],B);if(_===null){T===null&&(T=$);break}a&&T&&_.alternate===null&&n(E,T),j=u(_,j,R),D===null?I=_:D.sibling=_,D=_,T=$}if(R===N.length)return i(E,T),hs&&Uo(E,R),I;if(T===null){for(;R<N.length;R++)T=y(E,N[R],B),T!==null&&(j=u(T,j,R),D===null?I=T:D.sibling=T,D=T);return hs&&Uo(E,R),I}for(T=o(E,T);R<N.length;R++)$=v(T,E,R,N[R],B),$!==null&&(a&&$.alternate!==null&&T.delete($.key===null?R:$.key),j=u($,j,R),D===null?I=$:D.sibling=$,D=$);return a&&T.forEach(function(F){return n(E,F)}),hs&&Uo(E,R),I}function A(E,j,N,B){var I=t0(N);if(typeof I!="function")throw Error(ht(150));if(N=I.call(N),N==null)throw Error(ht(151));for(var D=I=null,T=j,R=j=0,$=null,_=N.next();T!==null&&!_.done;R++,_=N.next()){T.index>R?($=T,T=null):$=T.sibling;var F=w(E,T,_.value,B);if(F===null){T===null&&(T=$);break}a&&T&&F.alternate===null&&n(E,T),j=u(F,j,R),D===null?I=F:D.sibling=F,D=F,T=$}if(_.done)return i(E,T),hs&&Uo(E,R),I;if(T===null){for(;!_.done;R++,_=N.next())_=y(E,_.value,B),_!==null&&(j=u(_,j,R),D===null?I=_:D.sibling=_,D=_);return hs&&Uo(E,R),I}for(T=o(E,T);!_.done;R++,_=N.next())_=v(T,E,R,_.value,B),_!==null&&(a&&_.alternate!==null&&T.delete(_.key===null?R:_.key),j=u(_,j,R),D===null?I=_:D.sibling=_,D=_);return a&&T.forEach(function(Q){return n(E,Q)}),hs&&Uo(E,R),I}function k(E,j,N,B){if(typeof N=="object"&&N!==null&&N.type===Tl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case D2:e:{for(var I=N.key,D=j;D!==null;){if(D.key===I){if(I=N.type,I===Tl){if(D.tag===7){i(E,D.sibling),j=d(D,N.props.children),j.return=E,E=j;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===K1&&Yg(I)===D.type){i(E,D.sibling),j=d(D,N.props),j.ref=i0(E,D,N),j.return=E,E=j;break e}i(E,D);break}else n(E,D);D=D.sibling}N.type===Tl?(j=el(N.props.children,E.mode,B,N.key),j.return=E,E=j):(B=xd(N.type,N.key,N.props,null,E.mode,B),B.ref=i0(E,j,N),B.return=E,E=B)}return f(E);case Dl:e:{for(D=N.key;j!==null;){if(j.key===D)if(j.tag===4&&j.stateNode.containerInfo===N.containerInfo&&j.stateNode.implementation===N.implementation){i(E,j.sibling),j=d(j,N.children||[]),j.return=E,E=j;break e}else{i(E,j);break}else n(E,j);j=j.sibling}j=oh(N,E.mode,B),j.return=E,E=j}return f(E);case K1:return D=N._init,k(E,j,D(N._payload),B)}if(f0(N))return g(E,j,N,B);if(t0(N))return A(E,j,N,B);Q2(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,j!==null&&j.tag===6?(i(E,j.sibling),j=d(j,N),j.return=E,E=j):(i(E,j),j=ih(N,E.mode,B),j.return=E,E=j),f(E)):i(E,j)}return k}var ac=D8(!0),T8=D8(!1),Od=Ao(null),Ud=null,zl=null,am=null;function sm(){am=zl=Ud=null}function nm(a){var n=Od.current;ns(Od),a._currentValue=n}function Pp(a,n,i){for(;a!==null;){var o=a.alternate;if((a.childLanes&n)!==n?(a.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),a===i)break;a=a.return}}function Yl(a,n){Ud=a,am=zl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&n&&(ni=!0),a.firstContext=null)}function Ri(a){var n=a._currentValue;if(am!==a)if(a={context:a,memoizedValue:n,next:null},zl===null){if(Ud===null)throw Error(ht(308));zl=a,Ud.dependencies={lanes:0,firstContext:a}}else zl=zl.next=a;return n}var Vo=null;function im(a){Vo===null?Vo=[a]:Vo.push(a)}function R8(a,n,i,o){var d=n.interleaved;return d===null?(i.next=i,im(n)):(i.next=d.next,d.next=i),n.interleaved=i,F1(a,o)}function F1(a,n){a.lanes|=n;var i=a.alternate;for(i!==null&&(i.lanes|=n),i=a,a=a.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),i=a,a=a.return;return i.tag===3?i.stateNode:null}var W1=!1;function om(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M8(a,n){a=a.updateQueue,n.updateQueue===a&&(n.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function R1(a,n){return{eventTime:a,lane:n,tag:0,payload:null,callback:null,next:null}}function co(a,n,i){var o=a.updateQueue;if(o===null)return null;if(o=o.shared,la&2){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,F1(a,i)}return d=o.interleaved,d===null?(n.next=n,im(o)):(n.next=d.next,d.next=n),o.interleaved=n,F1(a,i)}function dd(a,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,G3(a,i)}}function Kg(a,n){var i=a.updateQueue,o=a.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var f={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?d=u=f:u=u.next=f,i=i.next}while(i!==null);u===null?d=u=n:u=u.next=n}else d=u=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:u,shared:o.shared,effects:o.effects},a.updateQueue=i;return}a=i.lastBaseUpdate,a===null?i.firstBaseUpdate=n:a.next=n,i.lastBaseUpdate=n}function zd(a,n,i,o){var d=a.updateQueue;W1=!1;var u=d.firstBaseUpdate,f=d.lastBaseUpdate,h=d.shared.pending;if(h!==null){d.shared.pending=null;var p=h,m=p.next;p.next=null,f===null?u=m:f.next=m,f=p;var x=a.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==f&&(h===null?x.firstBaseUpdate=m:h.next=m,x.lastBaseUpdate=p))}if(u!==null){var y=d.baseState;f=0,x=m=p=null,h=u;do{var w=h.lane,v=h.eventTime;if((o&w)===w){x!==null&&(x=x.next={eventTime:v,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var g=a,A=h;switch(w=n,v=i,A.tag){case 1:if(g=A.payload,typeof g=="function"){y=g.call(v,y,w);break e}y=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=A.payload,w=typeof g=="function"?g.call(v,y,w):g,w==null)break e;y=Es({},y,w);break e;case 2:W1=!0}}h.callback!==null&&h.lane!==0&&(a.flags|=64,w=d.effects,w===null?d.effects=[h]:w.push(h))}else v={eventTime:v,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(m=x=v,p=y):x=x.next=v,f|=w;if(h=h.next,h===null){if(h=d.shared.pending,h===null)break;w=h,h=w.next,w.next=null,d.lastBaseUpdate=w,d.shared.pending=null}}while(!0);if(x===null&&(p=y),d.baseState=p,d.firstBaseUpdate=m,d.lastBaseUpdate=x,n=d.shared.interleaved,n!==null){d=n;do f|=d.lane,d=d.next;while(d!==n)}else u===null&&(d.shared.lanes=0);ol|=f,a.lanes=f,a.memoizedState=y}}function Wg(a,n,i){if(a=n.effects,n.effects=null,a!==null)for(n=0;n<a.length;n++){var o=a[n],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(ht(191,d));d.call(o)}}}var i2={},g1=Ao(i2),z0=Ao(i2),L0=Ao(i2);function Yo(a){if(a===i2)throw Error(ht(174));return a}function lm(a,n){switch(Ya(L0,n),Ya(z0,a),Ya(g1,i2),a=n.nodeType,a){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:vp(null,"");break;default:a=a===8?n.parentNode:n,n=a.namespaceURI||null,a=a.tagName,n=vp(n,a)}ns(g1),Ya(g1,n)}function sc(){ns(g1),ns(z0),ns(L0)}function _8(a){Yo(L0.current);var n=Yo(g1.current),i=vp(n,a.type);n!==i&&(Ya(z0,a),Ya(g1,i))}function cm(a){z0.current===a&&(ns(g1),ns(z0))}var Ns=Ao(0);function Ld(a){for(var n=a;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var eh=[];function dm(){for(var a=0;a<eh.length;a++)eh[a]._workInProgressVersionPrimary=null;eh.length=0}var ud=U1.ReactCurrentDispatcher,th=U1.ReactCurrentBatchConfig,il=0,Ss=null,tn=null,hn=null,Qd=!1,N0=!1,Q0=0,jS=0;function _n(){throw Error(ht(321))}function um(a,n){if(n===null)return!1;for(var i=0;i<n.length&&i<a.length;i++)if(!Xi(a[i],n[i]))return!1;return!0}function fm(a,n,i,o,d,u){if(il=u,Ss=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ud.current=a===null||a.memoizedState===null?CS:IS,a=i(o,d),N0){u=0;do{if(N0=!1,Q0=0,25<=u)throw Error(ht(301));u+=1,hn=tn=null,n.updateQueue=null,ud.current=BS,a=i(o,d)}while(N0)}if(ud.current=Hd,n=tn!==null&&tn.next!==null,il=0,hn=tn=Ss=null,Qd=!1,n)throw Error(ht(300));return a}function hm(){var a=Q0!==0;return Q0=0,a}function h1(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ss.memoizedState=hn=a:hn=hn.next=a,hn}function Mi(){if(tn===null){var a=Ss.alternate;a=a!==null?a.memoizedState:null}else a=tn.next;var n=hn===null?Ss.memoizedState:hn.next;if(n!==null)hn=n,tn=a;else{if(a===null)throw Error(ht(310));tn=a,a={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},hn===null?Ss.memoizedState=hn=a:hn=hn.next=a}return hn}function H0(a,n){return typeof n=="function"?n(a):n}function rh(a){var n=Mi(),i=n.queue;if(i===null)throw Error(ht(311));i.lastRenderedReducer=a;var o=tn,d=o.baseQueue,u=i.pending;if(u!==null){if(d!==null){var f=d.next;d.next=u.next,u.next=f}o.baseQueue=d=u,i.pending=null}if(d!==null){u=d.next,o=o.baseState;var h=f=null,p=null,m=u;do{var x=m.lane;if((il&x)===x)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:a(o,m.action);else{var y={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(h=p=y,f=o):p=p.next=y,Ss.lanes|=x,ol|=x}m=m.next}while(m!==null&&m!==u);p===null?f=o:p.next=h,Xi(o,n.memoizedState)||(ni=!0),n.memoizedState=o,n.baseState=f,n.baseQueue=p,i.lastRenderedState=o}if(a=i.interleaved,a!==null){d=a;do u=d.lane,Ss.lanes|=u,ol|=u,d=d.next;while(d!==a)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function ah(a){var n=Mi(),i=n.queue;if(i===null)throw Error(ht(311));i.lastRenderedReducer=a;var o=i.dispatch,d=i.pending,u=n.memoizedState;if(d!==null){i.pending=null;var f=d=d.next;do u=a(u,f.action),f=f.next;while(f!==d);Xi(u,n.memoizedState)||(ni=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),i.lastRenderedState=u}return[u,o]}function F8(){}function P8(a,n){var i=Ss,o=Mi(),d=n(),u=!Xi(o.memoizedState,d);if(u&&(o.memoizedState=d,ni=!0),o=o.queue,pm(z8.bind(null,i,o,a),[a]),o.getSnapshot!==n||u||hn!==null&&hn.memoizedState.tag&1){if(i.flags|=2048,$0(9,U8.bind(null,i,o,d,n),void 0,null),mn===null)throw Error(ht(349));il&30||O8(i,n,d)}return d}function O8(a,n,i){a.flags|=16384,a={getSnapshot:n,value:i},n=Ss.updateQueue,n===null?(n={lastEffect:null,stores:null},Ss.updateQueue=n,n.stores=[a]):(i=n.stores,i===null?n.stores=[a]:i.push(a))}function U8(a,n,i,o){n.value=i,n.getSnapshot=o,L8(n)&&Q8(a)}function z8(a,n,i){return i(function(){L8(n)&&Q8(a)})}function L8(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!Xi(a,i)}catch{return!0}}function Q8(a){var n=F1(a,1);n!==null&&Ji(n,a,1,-1)}function Jg(a){var n=h1();return typeof a=="function"&&(a=a()),n.memoizedState=n.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:a},n.queue=a,a=a.dispatch=ES.bind(null,Ss,a),[n.memoizedState,a]}function $0(a,n,i,o){return a={tag:a,create:n,destroy:i,deps:o,next:null},n=Ss.updateQueue,n===null?(n={lastEffect:null,stores:null},Ss.updateQueue=n,n.lastEffect=a.next=a):(i=n.lastEffect,i===null?n.lastEffect=a.next=a:(o=i.next,i.next=a,a.next=o,n.lastEffect=a)),a}function H8(){return Mi().memoizedState}function fd(a,n,i,o){var d=h1();Ss.flags|=a,d.memoizedState=$0(1|n,i,void 0,o===void 0?null:o)}function ku(a,n,i,o){var d=Mi();o=o===void 0?null:o;var u=void 0;if(tn!==null){var f=tn.memoizedState;if(u=f.destroy,o!==null&&um(o,f.deps)){d.memoizedState=$0(n,i,u,o);return}}Ss.flags|=a,d.memoizedState=$0(1|n,i,u,o)}function Xg(a,n){return fd(8390656,8,a,n)}function pm(a,n){return ku(2048,8,a,n)}function $8(a,n){return ku(4,2,a,n)}function q8(a,n){return ku(4,4,a,n)}function G8(a,n){if(typeof n=="function")return a=a(),n(a),function(){n(null)};if(n!=null)return a=a(),n.current=a,function(){n.current=null}}function V8(a,n,i){return i=i!=null?i.concat([a]):null,ku(4,4,G8.bind(null,n,a),i)}function mm(){}function Y8(a,n){var i=Mi();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&um(n,o[1])?o[0]:(i.memoizedState=[a,n],a)}function K8(a,n){var i=Mi();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&um(n,o[1])?o[0]:(a=a(),i.memoizedState=[a,n],a)}function W8(a,n,i){return il&21?(Xi(i,n)||(i=t8(),Ss.lanes|=i,ol|=i,a.baseState=!0),n):(a.baseState&&(a.baseState=!1,ni=!0),a.memoizedState=i)}function NS(a,n){var i=Ea;Ea=i!==0&&4>i?i:4,a(!0);var o=th.transition;th.transition={};try{a(!1),n()}finally{Ea=i,th.transition=o}}function J8(){return Mi().memoizedState}function SS(a,n,i){var o=fo(a);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},X8(a))Z8(n,i);else if(i=R8(a,n,i,o),i!==null){var d=Wn();Ji(i,a,o,d),ey(i,n,o)}}function ES(a,n,i){var o=fo(a),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(X8(a))Z8(n,d);else{var u=a.alternate;if(a.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var f=n.lastRenderedState,h=u(f,i);if(d.hasEagerState=!0,d.eagerState=h,Xi(h,f)){var p=n.interleaved;p===null?(d.next=d,im(n)):(d.next=p.next,p.next=d),n.interleaved=d;return}}catch{}finally{}i=R8(a,n,d,o),i!==null&&(d=Wn(),Ji(i,a,o,d),ey(i,n,o))}}function X8(a){var n=a.alternate;return a===Ss||n!==null&&n===Ss}function Z8(a,n){N0=Qd=!0;var i=a.pending;i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n}function ey(a,n,i){if(i&4194240){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,G3(a,i)}}var Hd={readContext:Ri,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},CS={readContext:Ri,useCallback:function(a,n){return h1().memoizedState=[a,n===void 0?null:n],a},useContext:Ri,useEffect:Xg,useImperativeHandle:function(a,n,i){return i=i!=null?i.concat([a]):null,fd(4194308,4,G8.bind(null,n,a),i)},useLayoutEffect:function(a,n){return fd(4194308,4,a,n)},useInsertionEffect:function(a,n){return fd(4,2,a,n)},useMemo:function(a,n){var i=h1();return n=n===void 0?null:n,a=a(),i.memoizedState=[a,n],a},useReducer:function(a,n,i){var o=h1();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:n},o.queue=a,a=a.dispatch=SS.bind(null,Ss,a),[o.memoizedState,a]},useRef:function(a){var n=h1();return a={current:a},n.memoizedState=a},useState:Jg,useDebugValue:mm,useDeferredValue:function(a){return h1().memoizedState=a},useTransition:function(){var a=Jg(!1),n=a[0];return a=NS.bind(null,a[1]),h1().memoizedState=a,[n,a]},useMutableSource:function(){},useSyncExternalStore:function(a,n,i){var o=Ss,d=h1();if(hs){if(i===void 0)throw Error(ht(407));i=i()}else{if(i=n(),mn===null)throw Error(ht(349));il&30||O8(o,n,i)}d.memoizedState=i;var u={value:i,getSnapshot:n};return d.queue=u,Xg(z8.bind(null,o,u,a),[a]),o.flags|=2048,$0(9,U8.bind(null,o,u,i,n),void 0,null),i},useId:function(){var a=h1(),n=mn.identifierPrefix;if(hs){var i=D1,o=B1;i=(o&~(1<<32-Wi(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=Q0++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=jS++,n=":"+n+"r"+i.toString(32)+":";return a.memoizedState=n},unstable_isNewReconciler:!1},IS={readContext:Ri,useCallback:Y8,useContext:Ri,useEffect:pm,useImperativeHandle:V8,useInsertionEffect:$8,useLayoutEffect:q8,useMemo:K8,useReducer:rh,useRef:H8,useState:function(){return rh(H0)},useDebugValue:mm,useDeferredValue:function(a){var n=Mi();return W8(n,tn.memoizedState,a)},useTransition:function(){var a=rh(H0)[0],n=Mi().memoizedState;return[a,n]},useMutableSource:F8,useSyncExternalStore:P8,useId:J8,unstable_isNewReconciler:!1},BS={readContext:Ri,useCallback:Y8,useContext:Ri,useEffect:pm,useImperativeHandle:V8,useInsertionEffect:$8,useLayoutEffect:q8,useMemo:K8,useReducer:ah,useRef:H8,useState:function(){return ah(H0)},useDebugValue:mm,useDeferredValue:function(a){var n=Mi();return tn===null?n.memoizedState=a:W8(n,tn.memoizedState,a)},useTransition:function(){var a=ah(H0)[0],n=Mi().memoizedState;return[a,n]},useMutableSource:F8,useSyncExternalStore:P8,useId:J8,unstable_isNewReconciler:!1};function qi(a,n){if(a&&a.defaultProps){n=Es({},n),a=a.defaultProps;for(var i in a)n[i]===void 0&&(n[i]=a[i]);return n}return n}function Op(a,n,i,o){n=a.memoizedState,i=i(o,n),i=i==null?n:Es({},n,i),a.memoizedState=i,a.lanes===0&&(a.updateQueue.baseState=i)}var ju={isMounted:function(a){return(a=a._reactInternals)?ul(a)===a:!1},enqueueSetState:function(a,n,i){a=a._reactInternals;var o=Wn(),d=fo(a),u=R1(o,d);u.payload=n,i!=null&&(u.callback=i),n=co(a,u,d),n!==null&&(Ji(n,a,d,o),dd(n,a,d))},enqueueReplaceState:function(a,n,i){a=a._reactInternals;var o=Wn(),d=fo(a),u=R1(o,d);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=co(a,u,d),n!==null&&(Ji(n,a,d,o),dd(n,a,d))},enqueueForceUpdate:function(a,n){a=a._reactInternals;var i=Wn(),o=fo(a),d=R1(i,o);d.tag=2,n!=null&&(d.callback=n),n=co(a,d,o),n!==null&&(Ji(n,a,o,i),dd(n,a,o))}};function Zg(a,n,i,o,d,u,f){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(o,u,f):n.prototype&&n.prototype.isPureReactComponent?!F0(i,o)||!F0(d,u):!0}function ty(a,n,i){var o=!1,d=vo,u=n.contextType;return typeof u=="object"&&u!==null?u=Ri(u):(d=li(n)?sl:Ln.current,o=n.contextTypes,u=(o=o!=null)?tc(a,d):vo),n=new n(i,u),a.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ju,a.stateNode=n,n._reactInternals=a,o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=u),n}function e4(a,n,i,o){a=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==a&&ju.enqueueReplaceState(n,n.state,null)}function Up(a,n,i,o){var d=a.stateNode;d.props=i,d.state=a.memoizedState,d.refs={},om(a);var u=n.contextType;typeof u=="object"&&u!==null?d.context=Ri(u):(u=li(n)?sl:Ln.current,d.context=tc(a,u)),d.state=a.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Op(a,n,u,i),d.state=a.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&ju.enqueueReplaceState(d,d.state,null),zd(a,i,d,o),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308)}function nc(a,n){try{var i="",o=n;do i+=sN(o),o=o.return;while(o);var d=i}catch(u){d=`
Error generating stack: `+u.message+`
`+u.stack}return{value:a,source:n,stack:d,digest:null}}function sh(a,n,i){return{value:a,source:null,stack:i??null,digest:n??null}}function zp(a,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var DS=typeof WeakMap=="function"?WeakMap:Map;function ry(a,n,i){i=R1(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){qd||(qd=!0,Wp=o),zp(a,n)},i}function ay(a,n,i){i=R1(-1,i),i.tag=3;var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;i.payload=function(){return o(d)},i.callback=function(){zp(a,n)}}var u=a.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){zp(a,n),typeof o!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),i}function t4(a,n,i){var o=a.pingCache;if(o===null){o=a.pingCache=new DS;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(d.add(i),a=qS.bind(null,a,n,i),n.then(a,a))}function r4(a){do{var n;if((n=a.tag===13)&&(n=a.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return a;a=a.return}while(a!==null);return null}function a4(a,n,i,o,d){return a.mode&1?(a.flags|=65536,a.lanes=d,a):(a===n?a.flags|=65536:(a.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=R1(-1,1),n.tag=2,co(i,n,1))),i.lanes|=1),a)}var TS=U1.ReactCurrentOwner,ni=!1;function Kn(a,n,i,o){n.child=a===null?T8(n,null,i,o):ac(n,a.child,i,o)}function s4(a,n,i,o,d){i=i.render;var u=n.ref;return Yl(n,d),o=fm(a,n,i,o,u,d),i=hm(),a!==null&&!ni?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~d,P1(a,n,d)):(hs&&i&&em(n),n.flags|=1,Kn(a,n,o,d),n.child)}function n4(a,n,i,o,d){if(a===null){var u=i.type;return typeof u=="function"&&!km(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=u,sy(a,n,u,o,d)):(a=xd(i.type,null,o,n,n.mode,d),a.ref=n.ref,a.return=n,n.child=a)}if(u=a.child,!(a.lanes&d)){var f=u.memoizedProps;if(i=i.compare,i=i!==null?i:F0,i(f,o)&&a.ref===n.ref)return P1(a,n,d)}return n.flags|=1,a=ho(u,o),a.ref=n.ref,a.return=n,n.child=a}function sy(a,n,i,o,d){if(a!==null){var u=a.memoizedProps;if(F0(u,o)&&a.ref===n.ref)if(ni=!1,n.pendingProps=o=u,(a.lanes&d)!==0)a.flags&131072&&(ni=!0);else return n.lanes=a.lanes,P1(a,n,d)}return Lp(a,n,i,o,d)}function ny(a,n,i){var o=n.pendingProps,d=o.children,u=a!==null?a.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ya(Ql,bi),bi|=i;else{if(!(i&1073741824))return a=u!==null?u.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:a,cachePool:null,transitions:null},n.updateQueue=null,Ya(Ql,bi),bi|=a,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:i,Ya(Ql,bi),bi|=o}else u!==null?(o=u.baseLanes|i,n.memoizedState=null):o=i,Ya(Ql,bi),bi|=o;return Kn(a,n,d,i),n.child}function iy(a,n){var i=n.ref;(a===null&&i!==null||a!==null&&a.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Lp(a,n,i,o,d){var u=li(i)?sl:Ln.current;return u=tc(n,u),Yl(n,d),i=fm(a,n,i,o,u,d),o=hm(),a!==null&&!ni?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~d,P1(a,n,d)):(hs&&o&&em(n),n.flags|=1,Kn(a,n,i,d),n.child)}function i4(a,n,i,o,d){if(li(i)){var u=!0;_d(n)}else u=!1;if(Yl(n,d),n.stateNode===null)hd(a,n),ty(n,i,o),Up(n,i,o,d),o=!0;else if(a===null){var f=n.stateNode,h=n.memoizedProps;f.props=h;var p=f.context,m=i.contextType;typeof m=="object"&&m!==null?m=Ri(m):(m=li(i)?sl:Ln.current,m=tc(n,m));var x=i.getDerivedStateFromProps,y=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function";y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==o||p!==m)&&e4(n,f,o,m),W1=!1;var w=n.memoizedState;f.state=w,zd(n,o,f,d),p=n.memoizedState,h!==o||w!==p||oi.current||W1?(typeof x=="function"&&(Op(n,i,x,o),p=n.memoizedState),(h=W1||Zg(n,i,h,o,w,p,m))?(y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=p),f.props=o,f.state=p,f.context=m,o=h):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,M8(a,n),h=n.memoizedProps,m=n.type===n.elementType?h:qi(n.type,h),f.props=m,y=n.pendingProps,w=f.context,p=i.contextType,typeof p=="object"&&p!==null?p=Ri(p):(p=li(i)?sl:Ln.current,p=tc(n,p));var v=i.getDerivedStateFromProps;(x=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==y||w!==p)&&e4(n,f,o,p),W1=!1,w=n.memoizedState,f.state=w,zd(n,o,f,d);var g=n.memoizedState;h!==y||w!==g||oi.current||W1?(typeof v=="function"&&(Op(n,i,v,o),g=n.memoizedState),(m=W1||Zg(n,i,m,o,w,g,p)||!1)?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,g,p),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,g,p)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&w===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&w===a.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=g),f.props=o,f.state=g,f.context=p,o=m):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&w===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&w===a.memoizedState||(n.flags|=1024),o=!1)}return Qp(a,n,i,o,u,d)}function Qp(a,n,i,o,d,u){iy(a,n);var f=(n.flags&128)!==0;if(!o&&!f)return d&&qg(n,i,!1),P1(a,n,u);o=n.stateNode,TS.current=n;var h=f&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,a!==null&&f?(n.child=ac(n,a.child,null,u),n.child=ac(n,null,h,u)):Kn(a,n,h,u),n.memoizedState=o.state,d&&qg(n,i,!0),n.child}function oy(a){var n=a.stateNode;n.pendingContext?$g(a,n.pendingContext,n.pendingContext!==n.context):n.context&&$g(a,n.context,!1),lm(a,n.containerInfo)}function o4(a,n,i,o,d){return rc(),rm(d),n.flags|=256,Kn(a,n,i,o),n.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function $p(a){return{baseLanes:a,cachePool:null,transitions:null}}function ly(a,n,i){var o=n.pendingProps,d=Ns.current,u=!1,f=(n.flags&128)!==0,h;if((h=f)||(h=a!==null&&a.memoizedState===null?!1:(d&2)!==0),h?(u=!0,n.flags&=-129):(a===null||a.memoizedState!==null)&&(d|=1),Ya(Ns,d&1),a===null)return Fp(n),a=n.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(n.mode&1?a.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=o.children,a=o.fallback,u?(o=n.mode,u=n.child,f={mode:"hidden",children:f},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=Eu(f,o,0,null),a=el(a,o,i,null),u.return=n,a.return=n,u.sibling=a,n.child=u,n.child.memoizedState=$p(i),n.memoizedState=Hp,a):xm(n,f));if(d=a.memoizedState,d!==null&&(h=d.dehydrated,h!==null))return RS(a,n,f,o,h,d,i);if(u){u=o.fallback,f=n.mode,d=a.child,h=d.sibling;var p={mode:"hidden",children:o.children};return!(f&1)&&n.child!==d?(o=n.child,o.childLanes=0,o.pendingProps=p,n.deletions=null):(o=ho(d,p),o.subtreeFlags=d.subtreeFlags&14680064),h!==null?u=ho(h,u):(u=el(u,f,i,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,f=a.child.memoizedState,f=f===null?$p(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=a.childLanes&~i,n.memoizedState=Hp,o}return u=a.child,a=u.sibling,o=ho(u,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=i),o.return=n,o.sibling=null,a!==null&&(i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)),n.child=o,n.memoizedState=null,o}function xm(a,n){return n=Eu({mode:"visible",children:n},a.mode,0,null),n.return=a,a.child=n}function H2(a,n,i,o){return o!==null&&rm(o),ac(n,a.child,null,i),a=xm(n,n.pendingProps.children),a.flags|=2,n.memoizedState=null,a}function RS(a,n,i,o,d,u,f){if(i)return n.flags&256?(n.flags&=-257,o=sh(Error(ht(422))),H2(a,n,f,o)):n.memoizedState!==null?(n.child=a.child,n.flags|=128,null):(u=o.fallback,d=n.mode,o=Eu({mode:"visible",children:o.children},d,0,null),u=el(u,d,f,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,n.mode&1&&ac(n,a.child,null,f),n.child.memoizedState=$p(f),n.memoizedState=Hp,u);if(!(n.mode&1))return H2(a,n,f,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var h=o.dgst;return o=h,u=Error(ht(419)),o=sh(u,o,void 0),H2(a,n,f,o)}if(h=(f&a.childLanes)!==0,ni||h){if(o=mn,o!==null){switch(f&-f){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(o.suspendedLanes|f)?0:d,d!==0&&d!==u.retryLane&&(u.retryLane=d,F1(a,d),Ji(o,a,d,-1))}return Am(),o=sh(Error(ht(421))),H2(a,n,f,o)}return d.data==="$?"?(n.flags|=128,n.child=a.child,n=GS.bind(null,a),d._reactRetry=n,null):(a=u.treeContext,wi=lo(d.nextSibling),Ai=n,hs=!0,Ki=null,a!==null&&(Ii[Bi++]=B1,Ii[Bi++]=D1,Ii[Bi++]=nl,B1=a.id,D1=a.overflow,nl=n),n=xm(n,o.children),n.flags|=4096,n)}function l4(a,n,i){a.lanes|=n;var o=a.alternate;o!==null&&(o.lanes|=n),Pp(a.return,n,i)}function nh(a,n,i,o,d){var u=a.memoizedState;u===null?a.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=i,u.tailMode=d)}function cy(a,n,i){var o=n.pendingProps,d=o.revealOrder,u=o.tail;if(Kn(a,n,o.children,i),o=Ns.current,o&2)o=o&1|2,n.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=n.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&l4(a,i,n);else if(a.tag===19)l4(a,i,n);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o&=1}if(Ya(Ns,o),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)a=i.alternate,a!==null&&Ld(a)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),nh(n,!1,d,i,u);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(a=d.alternate,a!==null&&Ld(a)===null){n.child=d;break}a=d.sibling,d.sibling=i,i=d,d=a}nh(n,!0,i,null,u);break;case"together":nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hd(a,n){!(n.mode&1)&&a!==null&&(a.alternate=null,n.alternate=null,n.flags|=2)}function P1(a,n,i){if(a!==null&&(n.dependencies=a.dependencies),ol|=n.lanes,!(i&n.childLanes))return null;if(a!==null&&n.child!==a.child)throw Error(ht(153));if(n.child!==null){for(a=n.child,i=ho(a,a.pendingProps),n.child=i,i.return=n;a.sibling!==null;)a=a.sibling,i=i.sibling=ho(a,a.pendingProps),i.return=n;i.sibling=null}return n.child}function MS(a,n,i){switch(n.tag){case 3:oy(n),rc();break;case 5:_8(n);break;case 1:li(n.type)&&_d(n);break;case 4:lm(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,d=n.memoizedProps.value;Ya(Od,o._currentValue),o._currentValue=d;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Ya(Ns,Ns.current&1),n.flags|=128,null):i&n.child.childLanes?ly(a,n,i):(Ya(Ns,Ns.current&1),a=P1(a,n,i),a!==null?a.sibling:null);Ya(Ns,Ns.current&1);break;case 19:if(o=(i&n.childLanes)!==0,a.flags&128){if(o)return cy(a,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ya(Ns,Ns.current),o)break;return null;case 22:case 23:return n.lanes=0,ny(a,n,i)}return P1(a,n,i)}var dy,qp,uy,fy;dy=function(a,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)a.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};qp=function(){};uy=function(a,n,i,o){var d=a.memoizedProps;if(d!==o){a=n.stateNode,Yo(g1.current);var u=null;switch(i){case"input":d=hp(a,d),o=hp(a,o),u=[];break;case"select":d=Es({},d,{value:void 0}),o=Es({},o,{value:void 0}),u=[];break;case"textarea":d=xp(a,d),o=xp(a,o),u=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(a.onclick=Rd)}gp(i,o);var f;i=null;for(m in d)if(!o.hasOwnProperty(m)&&d.hasOwnProperty(m)&&d[m]!=null)if(m==="style"){var h=d[m];for(f in h)h.hasOwnProperty(f)&&(i||(i={}),i[f]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(I0.hasOwnProperty(m)?u||(u=[]):(u=u||[]).push(m,null));for(m in o){var p=o[m];if(h=d!=null?d[m]:void 0,o.hasOwnProperty(m)&&p!==h&&(p!=null||h!=null))if(m==="style")if(h){for(f in h)!h.hasOwnProperty(f)||p&&p.hasOwnProperty(f)||(i||(i={}),i[f]="");for(f in p)p.hasOwnProperty(f)&&h[f]!==p[f]&&(i||(i={}),i[f]=p[f])}else i||(u||(u=[]),u.push(m,i)),i=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(u=u||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(u=u||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(I0.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&ss("scroll",a),u||h===p||(u=[])):(u=u||[]).push(m,p))}i&&(u=u||[]).push("style",i);var m=u;(n.updateQueue=m)&&(n.flags|=4)}};fy=function(a,n,i,o){i!==o&&(n.flags|=4)};function o0(a,n){if(!hs)switch(a.tailMode){case"hidden":n=a.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?a.tail=null:i.sibling=null;break;case"collapsed":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||a.tail===null?a.tail=null:a.tail.sibling=null:o.sibling=null}}function Fn(a){var n=a.alternate!==null&&a.alternate.child===a.child,i=0,o=0;if(n)for(var d=a.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=a,d=d.sibling;else for(d=a.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=a,d=d.sibling;return a.subtreeFlags|=o,a.childLanes=i,n}function _S(a,n,i){var o=n.pendingProps;switch(tm(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(n),null;case 1:return li(n.type)&&Md(),Fn(n),null;case 3:return o=n.stateNode,sc(),ns(oi),ns(Ln),dm(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(L2(n)?n.flags|=4:a===null||a.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ki!==null&&(Zp(Ki),Ki=null))),qp(a,n),Fn(n),null;case 5:cm(n);var d=Yo(L0.current);if(i=n.type,a!==null&&n.stateNode!=null)uy(a,n,i,o,d),a.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(ht(166));return Fn(n),null}if(a=Yo(g1.current),L2(n)){o=n.stateNode,i=n.type;var u=n.memoizedProps;switch(o[m1]=n,o[U0]=u,a=(n.mode&1)!==0,i){case"dialog":ss("cancel",o),ss("close",o);break;case"iframe":case"object":case"embed":ss("load",o);break;case"video":case"audio":for(d=0;d<p0.length;d++)ss(p0[d],o);break;case"source":ss("error",o);break;case"img":case"image":case"link":ss("error",o),ss("load",o);break;case"details":ss("toggle",o);break;case"input":vg(o,u),ss("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},ss("invalid",o);break;case"textarea":bg(o,u),ss("invalid",o)}gp(i,u),d=null;for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];f==="children"?typeof h=="string"?o.textContent!==h&&(u.suppressHydrationWarning!==!0&&z2(o.textContent,h,a),d=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(u.suppressHydrationWarning!==!0&&z2(o.textContent,h,a),d=["children",""+h]):I0.hasOwnProperty(f)&&h!=null&&f==="onScroll"&&ss("scroll",o)}switch(i){case"input":T2(o),gg(o,u,!0);break;case"textarea":T2(o),yg(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Rd)}o=d,n.updateQueue=o,o!==null&&(n.flags|=4)}else{f=d.nodeType===9?d:d.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=z6(i)),a==="http://www.w3.org/1999/xhtml"?i==="script"?(a=f.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof o.is=="string"?a=f.createElement(i,{is:o.is}):(a=f.createElement(i),i==="select"&&(f=a,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):a=f.createElementNS(a,i),a[m1]=n,a[U0]=o,dy(a,n,!1,!1),n.stateNode=a;e:{switch(f=bp(i,o),i){case"dialog":ss("cancel",a),ss("close",a),d=o;break;case"iframe":case"object":case"embed":ss("load",a),d=o;break;case"video":case"audio":for(d=0;d<p0.length;d++)ss(p0[d],a);d=o;break;case"source":ss("error",a),d=o;break;case"img":case"image":case"link":ss("error",a),ss("load",a),d=o;break;case"details":ss("toggle",a),d=o;break;case"input":vg(a,o),d=hp(a,o),ss("invalid",a);break;case"option":d=o;break;case"select":a._wrapperState={wasMultiple:!!o.multiple},d=Es({},o,{value:void 0}),ss("invalid",a);break;case"textarea":bg(a,o),d=xp(a,o),ss("invalid",a);break;default:d=o}gp(i,d),h=d;for(u in h)if(h.hasOwnProperty(u)){var p=h[u];u==="style"?H6(a,p):u==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&L6(a,p)):u==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&B0(a,p):typeof p=="number"&&B0(a,""+p):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(I0.hasOwnProperty(u)?p!=null&&u==="onScroll"&&ss("scroll",a):p!=null&&z3(a,u,p,f))}switch(i){case"input":T2(a),gg(a,o,!1);break;case"textarea":T2(a),yg(a);break;case"option":o.value!=null&&a.setAttribute("value",""+xo(o.value));break;case"select":a.multiple=!!o.multiple,u=o.value,u!=null?$l(a,!!o.multiple,u,!1):o.defaultValue!=null&&$l(a,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(a.onclick=Rd)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Fn(n),null;case 6:if(a&&n.stateNode!=null)fy(a,n,a.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(ht(166));if(i=Yo(L0.current),Yo(g1.current),L2(n)){if(o=n.stateNode,i=n.memoizedProps,o[m1]=n,(u=o.nodeValue!==i)&&(a=Ai,a!==null))switch(a.tag){case 3:z2(o.nodeValue,i,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&z2(o.nodeValue,i,(a.mode&1)!==0)}u&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[m1]=n,n.stateNode=o}return Fn(n),null;case 13:if(ns(Ns),o=n.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(hs&&wi!==null&&n.mode&1&&!(n.flags&128))B8(),rc(),n.flags|=98560,u=!1;else if(u=L2(n),o!==null&&o.dehydrated!==null){if(a===null){if(!u)throw Error(ht(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ht(317));u[m1]=n}else rc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Fn(n),u=!1}else Ki!==null&&(Zp(Ki),Ki=null),u=!0;if(!u)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(o=o!==null,o!==(a!==null&&a.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(a===null||Ns.current&1?rn===0&&(rn=3):Am())),n.updateQueue!==null&&(n.flags|=4),Fn(n),null);case 4:return sc(),qp(a,n),a===null&&P0(n.stateNode.containerInfo),Fn(n),null;case 10:return nm(n.type._context),Fn(n),null;case 17:return li(n.type)&&Md(),Fn(n),null;case 19:if(ns(Ns),u=n.memoizedState,u===null)return Fn(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)o0(u,!1);else{if(rn!==0||a!==null&&a.flags&128)for(a=n.child;a!==null;){if(f=Ld(a),f!==null){for(n.flags|=128,o0(u,!1),o=f.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)u=i,a=o,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=a,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,a=f.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i=i.sibling;return Ya(Ns,Ns.current&1|2),n.child}a=a.sibling}u.tail!==null&&Us()>ic&&(n.flags|=128,o=!0,o0(u,!1),n.lanes=4194304)}else{if(!o)if(a=Ld(f),a!==null){if(n.flags|=128,o=!0,i=a.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),o0(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!hs)return Fn(n),null}else 2*Us()-u.renderingStartTime>ic&&i!==1073741824&&(n.flags|=128,o=!0,o0(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(i=u.last,i!==null?i.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Us(),n.sibling=null,i=Ns.current,Ya(Ns,o?i&1|2:i&1),n):(Fn(n),null);case 22:case 23:return wm(),o=n.memoizedState!==null,a!==null&&a.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?bi&1073741824&&(Fn(n),n.subtreeFlags&6&&(n.flags|=8192)):Fn(n),null;case 24:return null;case 25:return null}throw Error(ht(156,n.tag))}function FS(a,n){switch(tm(n),n.tag){case 1:return li(n.type)&&Md(),a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 3:return sc(),ns(oi),ns(Ln),dm(),a=n.flags,a&65536&&!(a&128)?(n.flags=a&-65537|128,n):null;case 5:return cm(n),null;case 13:if(ns(Ns),a=n.memoizedState,a!==null&&a.dehydrated!==null){if(n.alternate===null)throw Error(ht(340));rc()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 19:return ns(Ns),null;case 4:return sc(),null;case 10:return nm(n.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var $2=!1,Pn=!1,PS=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Ll(a,n){var i=a.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Bs(a,n,o)}else i.current=null}function Gp(a,n,i){try{i()}catch(o){Bs(a,n,o)}}var c4=!1;function OS(a,n){if(Ip=Bd,a=v8(),Z3(a)){if("selectionStart"in a)var i={start:a.selectionStart,end:a.selectionEnd};else e:{i=(i=a.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var f=0,h=-1,p=-1,m=0,x=0,y=a,w=null;t:for(;;){for(var v;y!==i||d!==0&&y.nodeType!==3||(h=f+d),y!==u||o!==0&&y.nodeType!==3||(p=f+o),y.nodeType===3&&(f+=y.nodeValue.length),(v=y.firstChild)!==null;)w=y,y=v;for(;;){if(y===a)break t;if(w===i&&++m===d&&(h=f),w===u&&++x===o&&(p=f),(v=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=v}i=h===-1||p===-1?null:{start:h,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(Bp={focusedElem:a,selectionRange:i},Bd=!1,Ft=n;Ft!==null;)if(n=Ft,a=n.child,(n.subtreeFlags&1028)!==0&&a!==null)a.return=n,Ft=a;else for(;Ft!==null;){n=Ft;try{var g=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var A=g.memoizedProps,k=g.memoizedState,E=n.stateNode,j=E.getSnapshotBeforeUpdate(n.elementType===n.type?A:qi(n.type,A),k);E.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(B){Bs(n,n.return,B)}if(a=n.sibling,a!==null){a.return=n.return,Ft=a;break}Ft=n.return}return g=c4,c4=!1,g}function S0(a,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var u=d.destroy;d.destroy=void 0,u!==void 0&&Gp(n,i,u)}d=d.next}while(d!==o)}}function Nu(a,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&a)===a){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function Vp(a){var n=a.ref;if(n!==null){var i=a.stateNode;switch(a.tag){case 5:a=i;break;default:a=i}typeof n=="function"?n(a):n.current=a}}function hy(a){var n=a.alternate;n!==null&&(a.alternate=null,hy(n)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(n=a.stateNode,n!==null&&(delete n[m1],delete n[U0],delete n[Rp],delete n[yS],delete n[wS])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function py(a){return a.tag===5||a.tag===3||a.tag===4}function d4(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||py(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yp(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(a,n):i.insertBefore(a,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(a,i)):(n=i,n.appendChild(a)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Rd));else if(o!==4&&(a=a.child,a!==null))for(Yp(a,n,i),a=a.sibling;a!==null;)Yp(a,n,i),a=a.sibling}function Kp(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.insertBefore(a,n):i.appendChild(a);else if(o!==4&&(a=a.child,a!==null))for(Kp(a,n,i),a=a.sibling;a!==null;)Kp(a,n,i),a=a.sibling}var Nn=null,Vi=!1;function Y1(a,n,i){for(i=i.child;i!==null;)my(a,n,i),i=i.sibling}function my(a,n,i){if(v1&&typeof v1.onCommitFiberUnmount=="function")try{v1.onCommitFiberUnmount(vu,i)}catch{}switch(i.tag){case 5:Pn||Ll(i,n);case 6:var o=Nn,d=Vi;Nn=null,Y1(a,n,i),Nn=o,Vi=d,Nn!==null&&(Vi?(a=Nn,i=i.stateNode,a.nodeType===8?a.parentNode.removeChild(i):a.removeChild(i)):Nn.removeChild(i.stateNode));break;case 18:Nn!==null&&(Vi?(a=Nn,i=i.stateNode,a.nodeType===8?Xf(a.parentNode,i):a.nodeType===1&&Xf(a,i),M0(a)):Xf(Nn,i.stateNode));break;case 4:o=Nn,d=Vi,Nn=i.stateNode.containerInfo,Vi=!0,Y1(a,n,i),Nn=o,Vi=d;break;case 0:case 11:case 14:case 15:if(!Pn&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var u=d,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&Gp(i,n,f),d=d.next}while(d!==o)}Y1(a,n,i);break;case 1:if(!Pn&&(Ll(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){Bs(i,n,h)}Y1(a,n,i);break;case 21:Y1(a,n,i);break;case 22:i.mode&1?(Pn=(o=Pn)||i.memoizedState!==null,Y1(a,n,i),Pn=o):Y1(a,n,i);break;default:Y1(a,n,i)}}function u4(a){var n=a.updateQueue;if(n!==null){a.updateQueue=null;var i=a.stateNode;i===null&&(i=a.stateNode=new PS),n.forEach(function(o){var d=VS.bind(null,a,o);i.has(o)||(i.add(o),o.then(d,d))})}}function Hi(a,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var u=a,f=n,h=f;e:for(;h!==null;){switch(h.tag){case 5:Nn=h.stateNode,Vi=!1;break e;case 3:Nn=h.stateNode.containerInfo,Vi=!0;break e;case 4:Nn=h.stateNode.containerInfo,Vi=!0;break e}h=h.return}if(Nn===null)throw Error(ht(160));my(u,f,d),Nn=null,Vi=!1;var p=d.alternate;p!==null&&(p.return=null),d.return=null}catch(m){Bs(d,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xy(n,a),n=n.sibling}function xy(a,n){var i=a.alternate,o=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Hi(n,a),u1(a),o&4){try{S0(3,a,a.return),Nu(3,a)}catch(A){Bs(a,a.return,A)}try{S0(5,a,a.return)}catch(A){Bs(a,a.return,A)}}break;case 1:Hi(n,a),u1(a),o&512&&i!==null&&Ll(i,i.return);break;case 5:if(Hi(n,a),u1(a),o&512&&i!==null&&Ll(i,i.return),a.flags&32){var d=a.stateNode;try{B0(d,"")}catch(A){Bs(a,a.return,A)}}if(o&4&&(d=a.stateNode,d!=null)){var u=a.memoizedProps,f=i!==null?i.memoizedProps:u,h=a.type,p=a.updateQueue;if(a.updateQueue=null,p!==null)try{h==="input"&&u.type==="radio"&&u.name!=null&&O6(d,u),bp(h,f);var m=bp(h,u);for(f=0;f<p.length;f+=2){var x=p[f],y=p[f+1];x==="style"?H6(d,y):x==="dangerouslySetInnerHTML"?L6(d,y):x==="children"?B0(d,y):z3(d,x,y,m)}switch(h){case"input":pp(d,u);break;case"textarea":U6(d,u);break;case"select":var w=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!u.multiple;var v=u.value;v!=null?$l(d,!!u.multiple,v,!1):w!==!!u.multiple&&(u.defaultValue!=null?$l(d,!!u.multiple,u.defaultValue,!0):$l(d,!!u.multiple,u.multiple?[]:"",!1))}d[U0]=u}catch(A){Bs(a,a.return,A)}}break;case 6:if(Hi(n,a),u1(a),o&4){if(a.stateNode===null)throw Error(ht(162));d=a.stateNode,u=a.memoizedProps;try{d.nodeValue=u}catch(A){Bs(a,a.return,A)}}break;case 3:if(Hi(n,a),u1(a),o&4&&i!==null&&i.memoizedState.isDehydrated)try{M0(n.containerInfo)}catch(A){Bs(a,a.return,A)}break;case 4:Hi(n,a),u1(a);break;case 13:Hi(n,a),u1(a),d=a.child,d.flags&8192&&(u=d.memoizedState!==null,d.stateNode.isHidden=u,!u||d.alternate!==null&&d.alternate.memoizedState!==null||(bm=Us())),o&4&&u4(a);break;case 22:if(x=i!==null&&i.memoizedState!==null,a.mode&1?(Pn=(m=Pn)||x,Hi(n,a),Pn=m):Hi(n,a),u1(a),o&8192){if(m=a.memoizedState!==null,(a.stateNode.isHidden=m)&&!x&&a.mode&1)for(Ft=a,x=a.child;x!==null;){for(y=Ft=x;Ft!==null;){switch(w=Ft,v=w.child,w.tag){case 0:case 11:case 14:case 15:S0(4,w,w.return);break;case 1:Ll(w,w.return);var g=w.stateNode;if(typeof g.componentWillUnmount=="function"){o=w,i=w.return;try{n=o,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(A){Bs(o,i,A)}}break;case 5:Ll(w,w.return);break;case 22:if(w.memoizedState!==null){h4(y);continue}}v!==null?(v.return=w,Ft=v):h4(y)}x=x.sibling}e:for(x=null,y=a;;){if(y.tag===5){if(x===null){x=y;try{d=y.stateNode,m?(u=d.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(h=y.stateNode,p=y.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=Q6("display",f))}catch(A){Bs(a,a.return,A)}}}else if(y.tag===6){if(x===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(A){Bs(a,a.return,A)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===a)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;x===y&&(x=null),y=y.return}x===y&&(x=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Hi(n,a),u1(a),o&4&&u4(a);break;case 21:break;default:Hi(n,a),u1(a)}}function u1(a){var n=a.flags;if(n&2){try{e:{for(var i=a.return;i!==null;){if(py(i)){var o=i;break e}i=i.return}throw Error(ht(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(B0(d,""),o.flags&=-33);var u=d4(a);Kp(a,u,d);break;case 3:case 4:var f=o.stateNode.containerInfo,h=d4(a);Yp(a,h,f);break;default:throw Error(ht(161))}}catch(p){Bs(a,a.return,p)}a.flags&=-3}n&4096&&(a.flags&=-4097)}function US(a,n,i){Ft=a,vy(a)}function vy(a,n,i){for(var o=(a.mode&1)!==0;Ft!==null;){var d=Ft,u=d.child;if(d.tag===22&&o){var f=d.memoizedState!==null||$2;if(!f){var h=d.alternate,p=h!==null&&h.memoizedState!==null||Pn;h=$2;var m=Pn;if($2=f,(Pn=p)&&!m)for(Ft=d;Ft!==null;)f=Ft,p=f.child,f.tag===22&&f.memoizedState!==null?p4(d):p!==null?(p.return=f,Ft=p):p4(d);for(;u!==null;)Ft=u,vy(u),u=u.sibling;Ft=d,$2=h,Pn=m}f4(a)}else d.subtreeFlags&8772&&u!==null?(u.return=d,Ft=u):f4(a)}}function f4(a){for(;Ft!==null;){var n=Ft;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Pn||Nu(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Pn)if(i===null)o.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:qi(n.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&Wg(n,u,o);break;case 3:var f=n.updateQueue;if(f!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Wg(n,f,i)}break;case 5:var h=n.stateNode;if(i===null&&n.flags&4){i=h;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var y=x.dehydrated;y!==null&&M0(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}Pn||n.flags&512&&Vp(n)}catch(w){Bs(n,n.return,w)}}if(n===a){Ft=null;break}if(i=n.sibling,i!==null){i.return=n.return,Ft=i;break}Ft=n.return}}function h4(a){for(;Ft!==null;){var n=Ft;if(n===a){Ft=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Ft=i;break}Ft=n.return}}function p4(a){for(;Ft!==null;){var n=Ft;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Nu(4,n)}catch(p){Bs(n,i,p)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var d=n.return;try{o.componentDidMount()}catch(p){Bs(n,d,p)}}var u=n.return;try{Vp(n)}catch(p){Bs(n,u,p)}break;case 5:var f=n.return;try{Vp(n)}catch(p){Bs(n,f,p)}}}catch(p){Bs(n,n.return,p)}if(n===a){Ft=null;break}var h=n.sibling;if(h!==null){h.return=n.return,Ft=h;break}Ft=n.return}}var zS=Math.ceil,$d=U1.ReactCurrentDispatcher,vm=U1.ReactCurrentOwner,Ti=U1.ReactCurrentBatchConfig,la=0,mn=null,Xs=null,En=0,bi=0,Ql=Ao(0),rn=0,q0=null,ol=0,Su=0,gm=0,E0=null,ri=null,bm=0,ic=1/0,C1=null,qd=!1,Wp=null,uo=null,q2=!1,ao=null,Gd=0,C0=0,Jp=null,pd=-1,md=0;function Wn(){return la&6?Us():pd!==-1?pd:pd=Us()}function fo(a){return a.mode&1?la&2&&En!==0?En&-En:kS.transition!==null?(md===0&&(md=t8()),md):(a=Ea,a!==0||(a=window.event,a=a===void 0?16:l8(a.type)),a):1}function Ji(a,n,i,o){if(50<C0)throw C0=0,Jp=null,Error(ht(185));a2(a,i,o),(!(la&2)||a!==mn)&&(a===mn&&(!(la&2)&&(Su|=i),rn===4&&X1(a,En)),ci(a,o),i===1&&la===0&&!(n.mode&1)&&(ic=Us()+500,Au&&ko()))}function ci(a,n){var i=a.callbackNode;kN(a,n);var o=Id(a,a===mn?En:0);if(o===0)i!==null&&kg(i),a.callbackNode=null,a.callbackPriority=0;else if(n=o&-o,a.callbackPriority!==n){if(i!=null&&kg(i),n===1)a.tag===0?AS(m4.bind(null,a)):E8(m4.bind(null,a)),gS(function(){!(la&6)&&ko()}),i=null;else{switch(r8(o)){case 1:i=q3;break;case 4:i=Z6;break;case 16:i=Cd;break;case 536870912:i=e8;break;default:i=Cd}i=Ny(i,gy.bind(null,a))}a.callbackPriority=n,a.callbackNode=i}}function gy(a,n){if(pd=-1,md=0,la&6)throw Error(ht(327));var i=a.callbackNode;if(Kl()&&a.callbackNode!==i)return null;var o=Id(a,a===mn?En:0);if(o===0)return null;if(o&30||o&a.expiredLanes||n)n=Vd(a,o);else{n=o;var d=la;la|=2;var u=yy();(mn!==a||En!==n)&&(C1=null,ic=Us()+500,Zo(a,n));do try{HS();break}catch(h){by(a,h)}while(!0);sm(),$d.current=u,la=d,Xs!==null?n=0:(mn=null,En=0,n=rn)}if(n!==0){if(n===2&&(d=jp(a),d!==0&&(o=d,n=Xp(a,d))),n===1)throw i=q0,Zo(a,0),X1(a,o),ci(a,Us()),i;if(n===6)X1(a,o);else{if(d=a.current.alternate,!(o&30)&&!LS(d)&&(n=Vd(a,o),n===2&&(u=jp(a),u!==0&&(o=u,n=Xp(a,u))),n===1))throw i=q0,Zo(a,0),X1(a,o),ci(a,Us()),i;switch(a.finishedWork=d,a.finishedLanes=o,n){case 0:case 1:throw Error(ht(345));case 2:zo(a,ri,C1);break;case 3:if(X1(a,o),(o&130023424)===o&&(n=bm+500-Us(),10<n)){if(Id(a,0)!==0)break;if(d=a.suspendedLanes,(d&o)!==o){Wn(),a.pingedLanes|=a.suspendedLanes&d;break}a.timeoutHandle=Tp(zo.bind(null,a,ri,C1),n);break}zo(a,ri,C1);break;case 4:if(X1(a,o),(o&4194240)===o)break;for(n=a.eventTimes,d=-1;0<o;){var f=31-Wi(o);u=1<<f,f=n[f],f>d&&(d=f),o&=~u}if(o=d,o=Us()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*zS(o/1960))-o,10<o){a.timeoutHandle=Tp(zo.bind(null,a,ri,C1),o);break}zo(a,ri,C1);break;case 5:zo(a,ri,C1);break;default:throw Error(ht(329))}}}return ci(a,Us()),a.callbackNode===i?gy.bind(null,a):null}function Xp(a,n){var i=E0;return a.current.memoizedState.isDehydrated&&(Zo(a,n).flags|=256),a=Vd(a,n),a!==2&&(n=ri,ri=i,n!==null&&Zp(n)),a}function Zp(a){ri===null?ri=a:ri.push.apply(ri,a)}function LS(a){for(var n=a;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],u=d.getSnapshot;d=d.value;try{if(!Xi(u(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function X1(a,n){for(n&=~gm,n&=~Su,a.suspendedLanes|=n,a.pingedLanes&=~n,a=a.expirationTimes;0<n;){var i=31-Wi(n),o=1<<i;a[i]=-1,n&=~o}}function m4(a){if(la&6)throw Error(ht(327));Kl();var n=Id(a,0);if(!(n&1))return ci(a,Us()),null;var i=Vd(a,n);if(a.tag!==0&&i===2){var o=jp(a);o!==0&&(n=o,i=Xp(a,o))}if(i===1)throw i=q0,Zo(a,0),X1(a,n),ci(a,Us()),i;if(i===6)throw Error(ht(345));return a.finishedWork=a.current.alternate,a.finishedLanes=n,zo(a,ri,C1),ci(a,Us()),null}function ym(a,n){var i=la;la|=1;try{return a(n)}finally{la=i,la===0&&(ic=Us()+500,Au&&ko())}}function ll(a){ao!==null&&ao.tag===0&&!(la&6)&&Kl();var n=la;la|=1;var i=Ti.transition,o=Ea;try{if(Ti.transition=null,Ea=1,a)return a()}finally{Ea=o,Ti.transition=i,la=n,!(la&6)&&ko()}}function wm(){bi=Ql.current,ns(Ql)}function Zo(a,n){a.finishedWork=null,a.finishedLanes=0;var i=a.timeoutHandle;if(i!==-1&&(a.timeoutHandle=-1,vS(i)),Xs!==null)for(i=Xs.return;i!==null;){var o=i;switch(tm(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Md();break;case 3:sc(),ns(oi),ns(Ln),dm();break;case 5:cm(o);break;case 4:sc();break;case 13:ns(Ns);break;case 19:ns(Ns);break;case 10:nm(o.type._context);break;case 22:case 23:wm()}i=i.return}if(mn=a,Xs=a=ho(a.current,null),En=bi=n,rn=0,q0=null,gm=Su=ol=0,ri=E0=null,Vo!==null){for(n=0;n<Vo.length;n++)if(i=Vo[n],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,u=i.pending;if(u!==null){var f=u.next;u.next=d,o.next=f}i.pending=o}Vo=null}return a}function by(a,n){do{var i=Xs;try{if(sm(),ud.current=Hd,Qd){for(var o=Ss.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Qd=!1}if(il=0,hn=tn=Ss=null,N0=!1,Q0=0,vm.current=null,i===null||i.return===null){rn=1,q0=n,Xs=null;break}e:{var u=a,f=i.return,h=i,p=n;if(n=En,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,x=h,y=x.tag;if(!(x.mode&1)&&(y===0||y===11||y===15)){var w=x.alternate;w?(x.updateQueue=w.updateQueue,x.memoizedState=w.memoizedState,x.lanes=w.lanes):(x.updateQueue=null,x.memoizedState=null)}var v=r4(f);if(v!==null){v.flags&=-257,a4(v,f,h,u,n),v.mode&1&&t4(u,m,n),n=v,p=m;var g=n.updateQueue;if(g===null){var A=new Set;A.add(p),n.updateQueue=A}else g.add(p);break e}else{if(!(n&1)){t4(u,m,n),Am();break e}p=Error(ht(426))}}else if(hs&&h.mode&1){var k=r4(f);if(k!==null){!(k.flags&65536)&&(k.flags|=256),a4(k,f,h,u,n),rm(nc(p,h));break e}}u=p=nc(p,h),rn!==4&&(rn=2),E0===null?E0=[u]:E0.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var E=ry(u,p,n);Kg(u,E);break e;case 1:h=p;var j=u.type,N=u.stateNode;if(!(u.flags&128)&&(typeof j.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(uo===null||!uo.has(N)))){u.flags|=65536,n&=-n,u.lanes|=n;var B=ay(u,h,n);Kg(u,B);break e}}u=u.return}while(u!==null)}Ay(i)}catch(I){n=I,Xs===i&&i!==null&&(Xs=i=i.return);continue}break}while(!0)}function yy(){var a=$d.current;return $d.current=Hd,a===null?Hd:a}function Am(){(rn===0||rn===3||rn===2)&&(rn=4),mn===null||!(ol&268435455)&&!(Su&268435455)||X1(mn,En)}function Vd(a,n){var i=la;la|=2;var o=yy();(mn!==a||En!==n)&&(C1=null,Zo(a,n));do try{QS();break}catch(d){by(a,d)}while(!0);if(sm(),la=i,$d.current=o,Xs!==null)throw Error(ht(261));return mn=null,En=0,rn}function QS(){for(;Xs!==null;)wy(Xs)}function HS(){for(;Xs!==null&&!pN();)wy(Xs)}function wy(a){var n=jy(a.alternate,a,bi);a.memoizedProps=a.pendingProps,n===null?Ay(a):Xs=n,vm.current=null}function Ay(a){var n=a;do{var i=n.alternate;if(a=n.return,n.flags&32768){if(i=FS(i,n),i!==null){i.flags&=32767,Xs=i;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{rn=6,Xs=null;return}}else if(i=_S(i,n,bi),i!==null){Xs=i;return}if(n=n.sibling,n!==null){Xs=n;return}Xs=n=a}while(n!==null);rn===0&&(rn=5)}function zo(a,n,i){var o=Ea,d=Ti.transition;try{Ti.transition=null,Ea=1,$S(a,n,i,o)}finally{Ti.transition=d,Ea=o}return null}function $S(a,n,i,o){do Kl();while(ao!==null);if(la&6)throw Error(ht(327));i=a.finishedWork;var d=a.finishedLanes;if(i===null)return null;if(a.finishedWork=null,a.finishedLanes=0,i===a.current)throw Error(ht(177));a.callbackNode=null,a.callbackPriority=0;var u=i.lanes|i.childLanes;if(jN(a,u),a===mn&&(Xs=mn=null,En=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||q2||(q2=!0,Ny(Cd,function(){return Kl(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=Ti.transition,Ti.transition=null;var f=Ea;Ea=1;var h=la;la|=4,vm.current=null,OS(a,i),xy(i,a),dS(Bp),Bd=!!Ip,Bp=Ip=null,a.current=i,US(i),mN(),la=h,Ea=f,Ti.transition=u}else a.current=i;if(q2&&(q2=!1,ao=a,Gd=d),u=a.pendingLanes,u===0&&(uo=null),gN(i.stateNode),ci(a,Us()),n!==null)for(o=a.onRecoverableError,i=0;i<n.length;i++)d=n[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(qd)throw qd=!1,a=Wp,Wp=null,a;return Gd&1&&a.tag!==0&&Kl(),u=a.pendingLanes,u&1?a===Jp?C0++:(C0=0,Jp=a):C0=0,ko(),null}function Kl(){if(ao!==null){var a=r8(Gd),n=Ti.transition,i=Ea;try{if(Ti.transition=null,Ea=16>a?16:a,ao===null)var o=!1;else{if(a=ao,ao=null,Gd=0,la&6)throw Error(ht(331));var d=la;for(la|=4,Ft=a.current;Ft!==null;){var u=Ft,f=u.child;if(Ft.flags&16){var h=u.deletions;if(h!==null){for(var p=0;p<h.length;p++){var m=h[p];for(Ft=m;Ft!==null;){var x=Ft;switch(x.tag){case 0:case 11:case 15:S0(8,x,u)}var y=x.child;if(y!==null)y.return=x,Ft=y;else for(;Ft!==null;){x=Ft;var w=x.sibling,v=x.return;if(hy(x),x===m){Ft=null;break}if(w!==null){w.return=v,Ft=w;break}Ft=v}}}var g=u.alternate;if(g!==null){var A=g.child;if(A!==null){g.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}Ft=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,Ft=f;else e:for(;Ft!==null;){if(u=Ft,u.flags&2048)switch(u.tag){case 0:case 11:case 15:S0(9,u,u.return)}var E=u.sibling;if(E!==null){E.return=u.return,Ft=E;break e}Ft=u.return}}var j=a.current;for(Ft=j;Ft!==null;){f=Ft;var N=f.child;if(f.subtreeFlags&2064&&N!==null)N.return=f,Ft=N;else e:for(f=j;Ft!==null;){if(h=Ft,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Nu(9,h)}}catch(I){Bs(h,h.return,I)}if(h===f){Ft=null;break e}var B=h.sibling;if(B!==null){B.return=h.return,Ft=B;break e}Ft=h.return}}if(la=d,ko(),v1&&typeof v1.onPostCommitFiberRoot=="function")try{v1.onPostCommitFiberRoot(vu,a)}catch{}o=!0}return o}finally{Ea=i,Ti.transition=n}}return!1}function x4(a,n,i){n=nc(i,n),n=ry(a,n,1),a=co(a,n,1),n=Wn(),a!==null&&(a2(a,1,n),ci(a,n))}function Bs(a,n,i){if(a.tag===3)x4(a,a,i);else for(;n!==null;){if(n.tag===3){x4(n,a,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(uo===null||!uo.has(o))){a=nc(i,a),a=ay(n,a,1),n=co(n,a,1),a=Wn(),n!==null&&(a2(n,1,a),ci(n,a));break}}n=n.return}}function qS(a,n,i){var o=a.pingCache;o!==null&&o.delete(n),n=Wn(),a.pingedLanes|=a.suspendedLanes&i,mn===a&&(En&i)===i&&(rn===4||rn===3&&(En&130023424)===En&&500>Us()-bm?Zo(a,0):gm|=i),ci(a,n)}function ky(a,n){n===0&&(a.mode&1?(n=_2,_2<<=1,!(_2&130023424)&&(_2=4194304)):n=1);var i=Wn();a=F1(a,n),a!==null&&(a2(a,n,i),ci(a,i))}function GS(a){var n=a.memoizedState,i=0;n!==null&&(i=n.retryLane),ky(a,i)}function VS(a,n){var i=0;switch(a.tag){case 13:var o=a.stateNode,d=a.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=a.stateNode;break;default:throw Error(ht(314))}o!==null&&o.delete(n),ky(a,i)}var jy;jy=function(a,n,i){if(a!==null)if(a.memoizedProps!==n.pendingProps||oi.current)ni=!0;else{if(!(a.lanes&i)&&!(n.flags&128))return ni=!1,MS(a,n,i);ni=!!(a.flags&131072)}else ni=!1,hs&&n.flags&1048576&&C8(n,Pd,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;hd(a,n),a=n.pendingProps;var d=tc(n,Ln.current);Yl(n,i),d=fm(null,n,o,a,d,i);var u=hm();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,li(o)?(u=!0,_d(n)):u=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,om(n),d.updater=ju,n.stateNode=d,d._reactInternals=n,Up(n,o,a,i),n=Qp(null,n,o,!0,u,i)):(n.tag=0,hs&&u&&em(n),Kn(null,n,d,i),n=n.child),n;case 16:o=n.elementType;e:{switch(hd(a,n),a=n.pendingProps,d=o._init,o=d(o._payload),n.type=o,d=n.tag=KS(o),a=qi(o,a),d){case 0:n=Lp(null,n,o,a,i);break e;case 1:n=i4(null,n,o,a,i);break e;case 11:n=s4(null,n,o,a,i);break e;case 14:n=n4(null,n,o,qi(o.type,a),i);break e}throw Error(ht(306,o,""))}return n;case 0:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:qi(o,d),Lp(a,n,o,d,i);case 1:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:qi(o,d),i4(a,n,o,d,i);case 3:e:{if(oy(n),a===null)throw Error(ht(387));o=n.pendingProps,u=n.memoizedState,d=u.element,M8(a,n),zd(n,o,null,i);var f=n.memoizedState;if(o=f.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){d=nc(Error(ht(423)),n),n=o4(a,n,o,i,d);break e}else if(o!==d){d=nc(Error(ht(424)),n),n=o4(a,n,o,i,d);break e}else for(wi=lo(n.stateNode.containerInfo.firstChild),Ai=n,hs=!0,Ki=null,i=T8(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(rc(),o===d){n=P1(a,n,i);break e}Kn(a,n,o,i)}n=n.child}return n;case 5:return _8(n),a===null&&Fp(n),o=n.type,d=n.pendingProps,u=a!==null?a.memoizedProps:null,f=d.children,Dp(o,d)?f=null:u!==null&&Dp(o,u)&&(n.flags|=32),iy(a,n),Kn(a,n,f,i),n.child;case 6:return a===null&&Fp(n),null;case 13:return ly(a,n,i);case 4:return lm(n,n.stateNode.containerInfo),o=n.pendingProps,a===null?n.child=ac(n,null,o,i):Kn(a,n,o,i),n.child;case 11:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:qi(o,d),s4(a,n,o,d,i);case 7:return Kn(a,n,n.pendingProps,i),n.child;case 8:return Kn(a,n,n.pendingProps.children,i),n.child;case 12:return Kn(a,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,d=n.pendingProps,u=n.memoizedProps,f=d.value,Ya(Od,o._currentValue),o._currentValue=f,u!==null)if(Xi(u.value,f)){if(u.children===d.children&&!oi.current){n=P1(a,n,i);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var h=u.dependencies;if(h!==null){f=u.child;for(var p=h.firstContext;p!==null;){if(p.context===o){if(u.tag===1){p=R1(-1,i&-i),p.tag=2;var m=u.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?p.next=p:(p.next=x.next,x.next=p),m.pending=p}}u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),Pp(u.return,i,n),h.lanes|=i;break}p=p.next}}else if(u.tag===10)f=u.type===n.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(ht(341));f.lanes|=i,h=f.alternate,h!==null&&(h.lanes|=i),Pp(f,i,n),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===n){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}Kn(a,n,d.children,i),n=n.child}return n;case 9:return d=n.type,o=n.pendingProps.children,Yl(n,i),d=Ri(d),o=o(d),n.flags|=1,Kn(a,n,o,i),n.child;case 14:return o=n.type,d=qi(o,n.pendingProps),d=qi(o.type,d),n4(a,n,o,d,i);case 15:return sy(a,n,n.type,n.pendingProps,i);case 17:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:qi(o,d),hd(a,n),n.tag=1,li(o)?(a=!0,_d(n)):a=!1,Yl(n,i),ty(n,o,d),Up(n,o,d,i),Qp(null,n,o,!0,a,i);case 19:return cy(a,n,i);case 22:return ny(a,n,i)}throw Error(ht(156,n.tag))};function Ny(a,n){return X6(a,n)}function YS(a,n,i,o){this.tag=a,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(a,n,i,o){return new YS(a,n,i,o)}function km(a){return a=a.prototype,!(!a||!a.isReactComponent)}function KS(a){if(typeof a=="function")return km(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Q3)return 11;if(a===H3)return 14}return 2}function ho(a,n){var i=a.alternate;return i===null?(i=Di(a.tag,n,a.key,a.mode),i.elementType=a.elementType,i.type=a.type,i.stateNode=a.stateNode,i.alternate=a,a.alternate=i):(i.pendingProps=n,i.type=a.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=a.flags&14680064,i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=a.sibling,i.index=a.index,i.ref=a.ref,i}function xd(a,n,i,o,d,u){var f=2;if(o=a,typeof a=="function")km(a)&&(f=1);else if(typeof a=="string")f=5;else e:switch(a){case Tl:return el(i.children,d,u,n);case L3:f=8,d|=8;break;case cp:return a=Di(12,i,n,d|2),a.elementType=cp,a.lanes=u,a;case dp:return a=Di(13,i,n,d),a.elementType=dp,a.lanes=u,a;case up:return a=Di(19,i,n,d),a.elementType=up,a.lanes=u,a;case _6:return Eu(i,d,u,n);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R6:f=10;break e;case M6:f=9;break e;case Q3:f=11;break e;case H3:f=14;break e;case K1:f=16,o=null;break e}throw Error(ht(130,a==null?a:typeof a,""))}return n=Di(f,i,n,d),n.elementType=a,n.type=o,n.lanes=u,n}function el(a,n,i,o){return a=Di(7,a,o,n),a.lanes=i,a}function Eu(a,n,i,o){return a=Di(22,a,o,n),a.elementType=_6,a.lanes=i,a.stateNode={isHidden:!1},a}function ih(a,n,i){return a=Di(6,a,null,n),a.lanes=i,a}function oh(a,n,i){return n=Di(4,a.children!==null?a.children:[],a.key,n),n.lanes=i,n.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},n}function WS(a,n,i,o,d){this.tag=n,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lf(0),this.expirationTimes=Lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lf(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function jm(a,n,i,o,d,u,f,h,p){return a=new WS(a,n,i,h,p),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Di(3,null,null,n),a.current=u,u.stateNode=a,u.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(u),a}function JS(a,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:o==null?null:""+o,children:a,containerInfo:n,implementation:i}}function Sy(a){if(!a)return vo;a=a._reactInternals;e:{if(ul(a)!==a||a.tag!==1)throw Error(ht(170));var n=a;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(li(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ht(171))}if(a.tag===1){var i=a.type;if(li(i))return S8(a,i,n)}return n}function Ey(a,n,i,o,d,u,f,h,p){return a=jm(i,o,!0,a,d,u,f,h,p),a.context=Sy(null),i=a.current,o=Wn(),d=fo(i),u=R1(o,d),u.callback=n??null,co(i,u,d),a.current.lanes=d,a2(a,d,o),ci(a,o),a}function Cu(a,n,i,o){var d=n.current,u=Wn(),f=fo(d);return i=Sy(i),n.context===null?n.context=i:n.pendingContext=i,n=R1(u,f),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=co(d,n,f),a!==null&&(Ji(a,d,f,u),dd(a,d,f)),f}function Yd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function v4(a,n){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var i=a.retryLane;a.retryLane=i!==0&&i<n?i:n}}function Nm(a,n){v4(a,n),(a=a.alternate)&&v4(a,n)}function XS(){return null}var Cy=typeof reportError=="function"?reportError:function(a){console.error(a)};function Sm(a){this._internalRoot=a}Iu.prototype.render=Sm.prototype.render=function(a){var n=this._internalRoot;if(n===null)throw Error(ht(409));Cu(a,n,null,null)};Iu.prototype.unmount=Sm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var n=a.containerInfo;ll(function(){Cu(null,a,null,null)}),n[_1]=null}};function Iu(a){this._internalRoot=a}Iu.prototype.unstable_scheduleHydration=function(a){if(a){var n=n8();a={blockedOn:null,target:a,priority:n};for(var i=0;i<J1.length&&n!==0&&n<J1[i].priority;i++);J1.splice(i,0,a),i===0&&o8(a)}};function Em(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function g4(){}function ZS(a,n,i,o,d){if(d){if(typeof o=="function"){var u=o;o=function(){var m=Yd(f);u.call(m)}}var f=Ey(n,o,a,0,null,!1,!1,"",g4);return a._reactRootContainer=f,a[_1]=f.current,P0(a.nodeType===8?a.parentNode:a),ll(),f}for(;d=a.lastChild;)a.removeChild(d);if(typeof o=="function"){var h=o;o=function(){var m=Yd(p);h.call(m)}}var p=jm(a,0,!1,null,null,!1,!1,"",g4);return a._reactRootContainer=p,a[_1]=p.current,P0(a.nodeType===8?a.parentNode:a),ll(function(){Cu(n,p,i,o)}),p}function Du(a,n,i,o,d){var u=i._reactRootContainer;if(u){var f=u;if(typeof d=="function"){var h=d;d=function(){var p=Yd(f);h.call(p)}}Cu(n,f,a,d)}else f=ZS(i,n,a,d,o);return Yd(f)}a8=function(a){switch(a.tag){case 3:var n=a.stateNode;if(n.current.memoizedState.isDehydrated){var i=h0(n.pendingLanes);i!==0&&(G3(n,i|1),ci(n,Us()),!(la&6)&&(ic=Us()+500,ko()))}break;case 13:ll(function(){var o=F1(a,1);if(o!==null){var d=Wn();Ji(o,a,1,d)}}),Nm(a,1)}};V3=function(a){if(a.tag===13){var n=F1(a,134217728);if(n!==null){var i=Wn();Ji(n,a,134217728,i)}Nm(a,134217728)}};s8=function(a){if(a.tag===13){var n=fo(a),i=F1(a,n);if(i!==null){var o=Wn();Ji(i,a,n,o)}Nm(a,n)}};n8=function(){return Ea};i8=function(a,n){var i=Ea;try{return Ea=a,n()}finally{Ea=i}};wp=function(a,n,i){switch(n){case"input":if(pp(a,i),n=i.name,i.type==="radio"&&n!=null){for(i=a;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==a&&o.form===a.form){var d=wu(o);if(!d)throw Error(ht(90));P6(o),pp(o,d)}}}break;case"textarea":U6(a,i);break;case"select":n=i.value,n!=null&&$l(a,!!i.multiple,n,!1)}};G6=ym;V6=ll;var eE={usingClientEntryPoint:!1,Events:[n2,Fl,wu,$6,q6,ym]},l0={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tE={bundleType:l0.bundleType,version:l0.version,rendererPackageName:l0.rendererPackageName,rendererConfig:l0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U1.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=W6(a),a===null?null:a.stateNode},findFiberByHostInstance:l0.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G2.isDisabled&&G2.supportsFiber)try{vu=G2.inject(tE),v1=G2}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eE;Ni.createPortal=function(a,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(n))throw Error(ht(200));return JS(a,n,null,i)};Ni.createRoot=function(a,n){if(!Em(a))throw Error(ht(299));var i=!1,o="",d=Cy;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=jm(a,1,!1,null,null,i,!1,o,d),a[_1]=n.current,P0(a.nodeType===8?a.parentNode:a),new Sm(n)};Ni.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var n=a._reactInternals;if(n===void 0)throw typeof a.render=="function"?Error(ht(188)):(a=Object.keys(a).join(","),Error(ht(268,a)));return a=W6(n),a=a===null?null:a.stateNode,a};Ni.flushSync=function(a){return ll(a)};Ni.hydrate=function(a,n,i){if(!Bu(n))throw Error(ht(200));return Du(null,a,n,!0,i)};Ni.hydrateRoot=function(a,n,i){if(!Em(a))throw Error(ht(405));var o=i!=null&&i.hydratedSources||null,d=!1,u="",f=Cy;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),n=Ey(n,null,a,1,i??null,d,!1,u,f),a[_1]=n.current,P0(a),o)for(a=0;a<o.length;a++)i=o[a],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new Iu(n)};Ni.render=function(a,n,i){if(!Bu(n))throw Error(ht(200));return Du(null,a,n,!1,i)};Ni.unmountComponentAtNode=function(a){if(!Bu(a))throw Error(ht(40));return a._reactRootContainer?(ll(function(){Du(null,null,a,!1,function(){a._reactRootContainer=null,a[_1]=null})}),!0):!1};Ni.unstable_batchedUpdates=ym;Ni.unstable_renderSubtreeIntoContainer=function(a,n,i,o){if(!Bu(i))throw Error(ht(200));if(a==null||a._reactInternals===void 0)throw Error(ht(38));return Du(a,n,i,!1,o)};Ni.version="18.3.1-next-f1338f8080-20240426";function Iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iy)}catch(a){console.error(a)}}Iy(),I6.exports=Ni;var rE=I6.exports,b4=rE;op.createRoot=b4.createRoot,op.hydrateRoot=b4.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G0(){return G0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},G0.apply(this,arguments)}var so;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(so||(so={}));const y4="popstate";function aE(a){a===void 0&&(a={});function n(o,d){let{pathname:u,search:f,hash:h}=o.location;return e3("",{pathname:u,search:f,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:Kd(d)}return nE(n,i,null,a)}function Ls(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Cm(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function sE(){return Math.random().toString(36).substr(2,8)}function w4(a,n){return{usr:a.state,key:a.key,idx:n}}function e3(a,n,i,o){return i===void 0&&(i=null),G0({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?bc(n):n,{state:i,key:n&&n.key||o||sE()})}function Kd(a){let{pathname:n="/",search:i="",hash:o=""}=a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function bc(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substr(i),a=a.substr(0,i));let o=a.indexOf("?");o>=0&&(n.search=a.substr(o),a=a.substr(0,o)),a&&(n.pathname=a)}return n}function nE(a,n,i,o){o===void 0&&(o={});let{window:d=document.defaultView,v5Compat:u=!1}=o,f=d.history,h=so.Pop,p=null,m=x();m==null&&(m=0,f.replaceState(G0({},f.state,{idx:m}),""));function x(){return(f.state||{idx:null}).idx}function y(){h=so.Pop;let k=x(),E=k==null?null:k-m;m=k,p&&p({action:h,location:A.location,delta:E})}function w(k,E){h=so.Push;let j=e3(A.location,k,E);m=x()+1;let N=w4(j,m),B=A.createHref(j);try{f.pushState(N,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;d.location.assign(B)}u&&p&&p({action:h,location:A.location,delta:1})}function v(k,E){h=so.Replace;let j=e3(A.location,k,E);m=x();let N=w4(j,m),B=A.createHref(j);f.replaceState(N,"",B),u&&p&&p({action:h,location:A.location,delta:0})}function g(k){let E=d.location.origin!=="null"?d.location.origin:d.location.href,j=typeof k=="string"?k:Kd(k);return j=j.replace(/ $/,"%20"),Ls(E,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,E)}let A={get action(){return h},get location(){return a(d,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(y4,y),p=k,()=>{d.removeEventListener(y4,y),p=null}},createHref(k){return n(d,k)},createURL:g,encodeLocation(k){let E=g(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:v,go(k){return f.go(k)}};return A}var A4;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(A4||(A4={}));function iE(a,n,i){return i===void 0&&(i="/"),oE(a,n,i)}function oE(a,n,i,o){let d=typeof n=="string"?bc(n):n,u=Im(d.pathname||"/",i);if(u==null)return null;let f=By(a);lE(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=yE(u);h=vE(f[p],m)}return h}function By(a,n,i,o){n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o="");let d=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ls(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let m=po([o,p.relativePath]),x=i.concat(p);u.children&&u.children.length>0&&(Ls(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),By(u.children,n,x,m)),!(u.path==null&&!u.index)&&n.push({path:m,score:mE(m,u.index),routesMeta:x})};return a.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))d(u,f);else for(let p of Dy(u.path))d(u,f,p)}),n}function Dy(a){let n=a.split("/");if(n.length===0)return[];let[i,...o]=n,d=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return d?[u,""]:[u];let f=Dy(o.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),d&&h.push(...f),h.map(p=>a.startsWith("/")&&p===""?"/":p)}function lE(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:xE(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const cE=/^:[\w-]+$/,dE=3,uE=2,fE=1,hE=10,pE=-2,k4=a=>a==="*";function mE(a,n){let i=a.split("/"),o=i.length;return i.some(k4)&&(o+=pE),n&&(o+=uE),i.filter(d=>!k4(d)).reduce((d,u)=>d+(cE.test(u)?dE:u===""?fE:hE),o)}function xE(a,n){return a.length===n.length&&a.slice(0,-1).every((o,d)=>o===n[d])?a[a.length-1]-n[n.length-1]:0}function vE(a,n,i){let{routesMeta:o}=a,d={},u="/",f=[];for(let h=0;h<o.length;++h){let p=o[h],m=h===o.length-1,x=u==="/"?n:n.slice(u.length)||"/",y=gE({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),w=p.route;if(!y)return null;Object.assign(d,y.params),f.push({params:d,pathname:po([u,y.pathname]),pathnameBase:NE(po([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=po([u,y.pathnameBase]))}return f}function gE(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,o]=bE(a.path,a.caseSensitive,a.end),d=n.match(i);if(!d)return null;let u=d[0],f=u.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:o.reduce((m,x,y)=>{let{paramName:w,isOptional:v}=x;if(w==="*"){let A=h[y]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const g=h[y];return v&&!g?m[w]=void 0:m[w]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:a}}function bE(a,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),Cm(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],d="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),d+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":a!==""&&a!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),o]}function yE(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Cm(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function Im(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=a.charAt(i);return o&&o!=="/"?null:a.slice(i)||"/"}const wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AE=a=>wE.test(a);function kE(a,n){n===void 0&&(n="/");let{pathname:i,search:o="",hash:d=""}=typeof a=="string"?bc(a):a,u;if(i)if(AE(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Cm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+i))}i.startsWith("/")?u=j4(i.substring(1),"/"):u=j4(i,n)}else u=n;return{pathname:u,search:SE(o),hash:EE(d)}}function j4(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function lh(a,n,i,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jE(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Bm(a,n){let i=jE(a);return n?i.map((o,d)=>d===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function Dm(a,n,i,o){o===void 0&&(o=!1);let d;typeof a=="string"?d=bc(a):(d=G0({},a),Ls(!d.pathname||!d.pathname.includes("?"),lh("?","pathname","search",d)),Ls(!d.pathname||!d.pathname.includes("#"),lh("#","pathname","hash",d)),Ls(!d.search||!d.search.includes("#"),lh("#","search","hash",d)));let u=a===""||d.pathname==="",f=u?"/":d.pathname,h;if(f==null)h=i;else{let y=n.length-1;if(!o&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),y-=1;d.pathname=w.join("/")}h=y>=0?n[y]:"/"}let p=kE(d,h),m=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}const po=a=>a.join("/").replace(/\/\/+/g,"/"),NE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),SE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,EE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function CE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Ty=["post","put","patch","delete"];new Set(Ty);const IE=["get",...Ty];new Set(IE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V0(){return V0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},V0.apply(this,arguments)}const Tm=ne.createContext(null),BE=ne.createContext(null),jo=ne.createContext(null),Tu=ne.createContext(null),No=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),Ry=ne.createContext(null);function DE(a,n){let{relative:i}=n===void 0?{}:n;yc()||Ls(!1);let{basename:o,navigator:d}=ne.useContext(jo),{hash:u,pathname:f,search:h}=_y(a,{relative:i}),p=f;return o!=="/"&&(p=f==="/"?o:po([o,f])),d.createHref({pathname:p,search:h,hash:u})}function yc(){return ne.useContext(Tu)!=null}function fl(){return yc()||Ls(!1),ne.useContext(Tu).location}function My(a){ne.useContext(jo).static||ne.useLayoutEffect(a)}function So(){let{isDataRoute:a}=ne.useContext(No);return a?$E():TE()}function TE(){yc()||Ls(!1);let a=ne.useContext(Tm),{basename:n,future:i,navigator:o}=ne.useContext(jo),{matches:d}=ne.useContext(No),{pathname:u}=fl(),f=JSON.stringify(Bm(d,i.v7_relativeSplatPath)),h=ne.useRef(!1);return My(()=>{h.current=!0}),ne.useCallback(function(m,x){if(x===void 0&&(x={}),!h.current)return;if(typeof m=="number"){o.go(m);return}let y=Dm(m,JSON.parse(f),u,x.relative==="path");a==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:po([n,y.pathname])),(x.replace?o.replace:o.push)(y,x.state,x)},[n,o,f,u,a])}function _y(a,n){let{relative:i}=n===void 0?{}:n,{future:o}=ne.useContext(jo),{matches:d}=ne.useContext(No),{pathname:u}=fl(),f=JSON.stringify(Bm(d,o.v7_relativeSplatPath));return ne.useMemo(()=>Dm(a,JSON.parse(f),u,i==="path"),[a,f,u,i])}function RE(a,n){return ME(a,n)}function ME(a,n,i,o){yc()||Ls(!1);let{navigator:d}=ne.useContext(jo),{matches:u}=ne.useContext(No),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=fl(),x;if(n){var y;let k=typeof n=="string"?bc(n):n;p==="/"||(y=k.pathname)!=null&&y.startsWith(p)||Ls(!1),x=k}else x=m;let w=x.pathname||"/",v=w;if(p!=="/"){let k=p.replace(/^\//,"").split("/");v="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let g=iE(a,{pathname:v}),A=UE(g&&g.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:po([p,d.encodeLocation?d.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:po([p,d.encodeLocation?d.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,i,o);return n&&A?ne.createElement(Tu.Provider,{value:{location:V0({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:so.Pop}},A):A}function _E(){let a=HE(),n=CE(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},n),i?ne.createElement("pre",{style:d},i):null,null)}const FE=ne.createElement(_E,null);class PE extends ne.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?ne.createElement(No.Provider,{value:this.props.routeContext},ne.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OE(a){let{routeContext:n,match:i,children:o}=a,d=ne.useContext(Tm);return d&&d.static&&d.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=i.route.id),ne.createElement(No.Provider,{value:n},o)}function UE(a,n,i,o){var d;if(n===void 0&&(n=[]),i===void 0&&(i=null),o===void 0&&(o=null),a==null){var u;if(!i)return null;if(i.errors)a=i.matches;else if((u=o)!=null&&u.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let f=a,h=(d=i)==null?void 0:d.errors;if(h!=null){let x=f.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);x>=0||Ls(!1),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,m=-1;if(i&&o&&o.v7_partialHydration)for(let x=0;x<f.length;x++){let y=f[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=x),y.route.id){let{loaderData:w,errors:v}=i,g=y.route.loader&&w[y.route.id]===void 0&&(!v||v[y.route.id]===void 0);if(y.route.lazy||g){p=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((x,y,w)=>{let v,g=!1,A=null,k=null;i&&(v=h&&y.route.id?h[y.route.id]:void 0,A=y.route.errorElement||FE,p&&(m<0&&w===0?(qE("route-fallback"),g=!0,k=null):m===w&&(g=!0,k=y.route.hydrateFallbackElement||null)));let E=n.concat(f.slice(0,w+1)),j=()=>{let N;return v?N=A:g?N=k:y.route.Component?N=ne.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=x,ne.createElement(OE,{match:y,routeContext:{outlet:x,matches:E,isDataRoute:i!=null},children:N})};return i&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?ne.createElement(PE,{location:i.location,revalidation:i.revalidation,component:A,error:v,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}var Fy=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(Fy||{}),Py=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(Py||{});function zE(a){let n=ne.useContext(Tm);return n||Ls(!1),n}function LE(a){let n=ne.useContext(BE);return n||Ls(!1),n}function QE(a){let n=ne.useContext(No);return n||Ls(!1),n}function Oy(a){let n=QE(),i=n.matches[n.matches.length-1];return i.route.id||Ls(!1),i.route.id}function HE(){var a;let n=ne.useContext(Ry),i=LE(),o=Oy();return n!==void 0?n:(a=i.errors)==null?void 0:a[o]}function $E(){let{router:a}=zE(Fy.UseNavigateStable),n=Oy(Py.UseNavigateStable),i=ne.useRef(!1);return My(()=>{i.current=!0}),ne.useCallback(function(d,u){u===void 0&&(u={}),i.current&&(typeof d=="number"?a.navigate(d):a.navigate(d,V0({fromRouteId:n},u)))},[a,n])}const N4={};function qE(a,n,i){N4[a]||(N4[a]=!0)}function GE(a,n){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function ch(a){let{to:n,replace:i,state:o,relative:d}=a;yc()||Ls(!1);let{future:u,static:f}=ne.useContext(jo),{matches:h}=ne.useContext(No),{pathname:p}=fl(),m=So(),x=Dm(n,Bm(h,u.v7_relativeSplatPath),p,d==="path"),y=JSON.stringify(x);return ne.useEffect(()=>m(JSON.parse(y),{replace:i,state:o,relative:d}),[m,y,d,i,o]),null}function fn(a){Ls(!1)}function VE(a){let{basename:n="/",children:i=null,location:o,navigationType:d=so.Pop,navigator:u,static:f=!1,future:h}=a;yc()&&Ls(!1);let p=n.replace(/^\/*/,"/"),m=ne.useMemo(()=>({basename:p,navigator:u,static:f,future:V0({v7_relativeSplatPath:!1},h)}),[p,h,u,f]);typeof o=="string"&&(o=bc(o));let{pathname:x="/",search:y="",hash:w="",state:v=null,key:g="default"}=o,A=ne.useMemo(()=>{let k=Im(x,p);return k==null?null:{location:{pathname:k,search:y,hash:w,state:v,key:g},navigationType:d}},[p,x,y,w,v,g,d]);return A==null?null:ne.createElement(jo.Provider,{value:m},ne.createElement(Tu.Provider,{children:i,value:A}))}function S4(a){let{children:n,location:i}=a;return RE(t3(n),i)}new Promise(()=>{});function t3(a,n){n===void 0&&(n=[]);let i=[];return ne.Children.forEach(a,(o,d)=>{if(!ne.isValidElement(o))return;let u=[...n,d];if(o.type===ne.Fragment){i.push.apply(i,t3(o.props.children,u));return}o.type!==fn&&Ls(!1),!o.props.index||!o.props.children||Ls(!1);let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=t3(o.props.children,u)),i.push(f)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r3(){return r3=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},r3.apply(this,arguments)}function YE(a,n){if(a==null)return{};var i={},o=Object.keys(a),d,u;for(u=0;u<o.length;u++)d=o[u],!(n.indexOf(d)>=0)&&(i[d]=a[d]);return i}function KE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function WE(a,n){return a.button===0&&(!n||n==="_self")&&!KE(a)}function a3(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,i)=>{let o=a[i];return n.concat(Array.isArray(o)?o.map(d=>[i,d]):[[i,o]])},[]))}function JE(a,n){let i=a3(a);return n&&n.forEach((o,d)=>{i.has(d)||n.getAll(d).forEach(u=>{i.append(d,u)})}),i}const XE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZE="6";try{window.__reactRouterVersion=ZE}catch{}const eC="startTransition",E4=qj[eC];function tC(a){let{basename:n,children:i,future:o,window:d}=a,u=ne.useRef();u.current==null&&(u.current=aE({window:d,v5Compat:!0}));let f=u.current,[h,p]=ne.useState({action:f.action,location:f.location}),{v7_startTransition:m}=o||{},x=ne.useCallback(y=>{m&&E4?E4(()=>p(y)):p(y)},[p,m]);return ne.useLayoutEffect(()=>f.listen(x),[f,x]),ne.useEffect(()=>GE(o),[o]),ne.createElement(VE,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:f,future:o})}const rC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z1=ne.forwardRef(function(n,i){let{onClick:o,relative:d,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:x,viewTransition:y}=n,w=YE(n,XE),{basename:v}=ne.useContext(jo),g,A=!1;if(typeof m=="string"&&aC.test(m)&&(g=m,rC))try{let N=new URL(window.location.href),B=m.startsWith("//")?new URL(N.protocol+m):new URL(m),I=Im(B.pathname,v);B.origin===N.origin&&I!=null?m=I+B.search+B.hash:A=!0}catch{}let k=DE(m,{relative:d}),E=sC(m,{replace:f,state:h,target:p,preventScrollReset:x,relative:d,viewTransition:y});function j(N){o&&o(N),N.defaultPrevented||E(N)}return ne.createElement("a",r3({},w,{href:g||k,onClick:A||u?o:j,ref:i,target:p}))});var C4;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(C4||(C4={}));var I4;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(I4||(I4={}));function sC(a,n){let{target:i,replace:o,state:d,preventScrollReset:u,relative:f,viewTransition:h}=n===void 0?{}:n,p=So(),m=fl(),x=_y(a,{relative:f});return ne.useCallback(y=>{if(WE(y,i)){y.preventDefault();let w=o!==void 0?o:Kd(m)===Kd(x);p(a,{replace:w,state:d,preventScrollReset:u,relative:f,viewTransition:h})}},[m,p,x,o,d,i,a,u,f,h])}function nC(a){let n=ne.useRef(a3(a)),i=ne.useRef(!1),o=fl(),d=ne.useMemo(()=>JE(o.search,i.current?null:n.current),[o.search]),u=So(),f=ne.useCallback((h,p)=>{const m=a3(typeof h=="function"?h(d):h);i.current=!0,u("?"+m,p)},[u,d]);return[d,f]}const iC={},B4=a=>{let n;const i=new Set,o=(x,y)=>{const w=typeof x=="function"?x(n):x;if(!Object.is(w,n)){const v=n;n=y??(typeof w!="object"||w===null)?w:Object.assign({},n,w),i.forEach(g=>g(n,v))}},d=()=>n,p={setState:o,getState:d,getInitialState:()=>m,subscribe:x=>(i.add(x),()=>i.delete(x)),destroy:()=>{(iC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=n=a(o,d,p);return p},oC=a=>a?B4(a):B4;var Uy={exports:{}},zy={},Ly={exports:{}},Qy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=ne;function lC(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var cC=typeof Object.is=="function"?Object.is:lC,dC=oc.useState,uC=oc.useEffect,fC=oc.useLayoutEffect,hC=oc.useDebugValue;function pC(a,n){var i=n(),o=dC({inst:{value:i,getSnapshot:n}}),d=o[0].inst,u=o[1];return fC(function(){d.value=i,d.getSnapshot=n,dh(d)&&u({inst:d})},[a,i,n]),uC(function(){return dh(d)&&u({inst:d}),a(function(){dh(d)&&u({inst:d})})},[a]),hC(i),i}function dh(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!cC(a,i)}catch{return!0}}function mC(a,n){return n()}var xC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mC:pC;Qy.useSyncExternalStore=oc.useSyncExternalStore!==void 0?oc.useSyncExternalStore:xC;Ly.exports=Qy;var vC=Ly.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=ne,gC=vC;function bC(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var yC=typeof Object.is=="function"?Object.is:bC,wC=gC.useSyncExternalStore,AC=Ru.useRef,kC=Ru.useEffect,jC=Ru.useMemo,NC=Ru.useDebugValue;zy.useSyncExternalStoreWithSelector=function(a,n,i,o,d){var u=AC(null);if(u.current===null){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=jC(function(){function p(v){if(!m){if(m=!0,x=v,v=o(v),d!==void 0&&f.hasValue){var g=f.value;if(d(g,v))return y=g}return y=v}if(g=y,yC(x,v))return g;var A=o(v);return d!==void 0&&d(g,A)?(x=v,g):(x=v,y=A)}var m=!1,x,y,w=i===void 0?null:i;return[function(){return p(n())},w===null?void 0:function(){return p(w())}]},[n,i,o,d]);var h=wC(a,u[0],u[1]);return kC(function(){f.hasValue=!0,f.value=h},[h]),NC(h),h};Uy.exports=zy;var SC=Uy.exports;const EC=pu(SC),Hy={},{useDebugValue:CC}=xu,{useSyncExternalStoreWithSelector:IC}=EC;let D4=!1;const BC=a=>a;function DC(a,n=BC,i){(Hy?"production":void 0)!=="production"&&i&&!D4&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),D4=!0);const o=IC(a.subscribe,a.getState,a.getServerState||a.getInitialState,n,i);return CC(o),o}const T4=a=>{(Hy?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof a=="function"?oC(a):a,i=(o,d)=>DC(n,o,d);return Object.assign(i,n),i},z1=a=>a?T4(a):T4,TC={};function RC(a,n){let i;try{i=a()}catch{return}return{getItem:d=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),h=(u=i.getItem(d))!=null?u:null;return h instanceof Promise?h.then(f):f(h)},setItem:(d,u)=>i.setItem(d,JSON.stringify(u,void 0)),removeItem:d=>i.removeItem(d)}}const Y0=a=>n=>{try{const i=a(n);return i instanceof Promise?i:{then(o){return Y0(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return Y0(o)(i)}}}},MC=(a,n)=>(i,o,d)=>{let u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,E)=>({...E,...k}),...n},f=!1;const h=new Set,p=new Set;let m;try{m=u.getStorage()}catch{}if(!m)return a((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...k)},o,d);const x=Y0(u.serialize),y=()=>{const k=u.partialize({...o()});let E;const j=x({state:k,version:u.version}).then(N=>m.setItem(u.name,N)).catch(N=>{E=N});if(E)throw E;return j},w=d.setState;d.setState=(k,E)=>{w(k,E),y()};const v=a((...k)=>{i(...k),y()},o,d);let g;const A=()=>{var k;if(!m)return;f=!1,h.forEach(j=>j(o()));const E=((k=u.onRehydrateStorage)==null?void 0:k.call(u,o()))||void 0;return Y0(m.getItem.bind(m))(u.name).then(j=>{if(j)return u.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==u.version){if(u.migrate)return u.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var N;return g=u.merge(j,(N=o())!=null?N:v),i(g,!0),y()}).then(()=>{E==null||E(g,void 0),f=!0,p.forEach(j=>j(g))}).catch(j=>{E==null||E(void 0,j)})};return d.persist={setOptions:k=>{u={...u,...k},k.getStorage&&(m=k.getStorage())},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:k=>(h.add(k),()=>{h.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},A(),g||v},_C=(a,n)=>(i,o,d)=>{let u={storage:RC(()=>localStorage),partialize:A=>A,version:0,merge:(A,k)=>({...k,...A}),...n},f=!1;const h=new Set,p=new Set;let m=u.storage;if(!m)return a((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...A)},o,d);const x=()=>{const A=u.partialize({...o()});return m.setItem(u.name,{state:A,version:u.version})},y=d.setState;d.setState=(A,k)=>{y(A,k),x()};const w=a((...A)=>{i(...A),x()},o,d);d.getInitialState=()=>w;let v;const g=()=>{var A,k;if(!m)return;f=!1,h.forEach(j=>{var N;return j((N=o())!=null?N:w)});const E=((k=u.onRehydrateStorage)==null?void 0:k.call(u,(A=o())!=null?A:w))||void 0;return Y0(m.getItem.bind(m))(u.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==u.version){if(u.migrate)return[!0,u.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var N;const[B,I]=j;if(v=u.merge(I,(N=o())!=null?N:w),i(v,!0),B)return x()}).then(()=>{E==null||E(v,void 0),v=o(),f=!0,p.forEach(j=>j(v))}).catch(j=>{E==null||E(void 0,j)})};return d.persist={setOptions:A=>{u={...u,...A},A.storage&&(m=A.storage)},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>g(),hasHydrated:()=>f,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},u.skipHydration||g(),v||w},FC=(a,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((TC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),MC(a,n)):_C(a,n),L1=FC;var $y={exports:{}};function PC(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uh={exports:{}};const OC={},UC=Object.freeze(Object.defineProperty({__proto__:null,default:OC},Symbol.toStringTag,{value:"Module"})),zC=mc(UC);var R4;function Xr(){return R4||(R4=1,function(a,n){(function(i,o){a.exports=o()})(vr,function(){var i=i||function(o,d){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof vr<"u"&&vr.crypto&&(u=vr.crypto),!u&&typeof PC=="function")try{u=zC}catch{}var f=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function j(){}return function(N){var B;return j.prototype=N,B=new j,j.prototype=null,B}}(),p={},m=p.lib={},x=m.Base=function(){return{extend:function(j){var N=h(this);return j&&N.mixIn(j),(!N.hasOwnProperty("init")||this.init===N.init)&&(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var j=this.extend();return j.init.apply(j,arguments),j},init:function(){},mixIn:function(j){for(var N in j)j.hasOwnProperty(N)&&(this[N]=j[N]);j.hasOwnProperty("toString")&&(this.toString=j.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=m.WordArray=x.extend({init:function(j,N){j=this.words=j||[],N!=d?this.sigBytes=N:this.sigBytes=j.length*4},toString:function(j){return(j||v).stringify(this)},concat:function(j){var N=this.words,B=j.words,I=this.sigBytes,D=j.sigBytes;if(this.clamp(),I%4)for(var T=0;T<D;T++){var R=B[T>>>2]>>>24-T%4*8&255;N[I+T>>>2]|=R<<24-(I+T)%4*8}else for(var $=0;$<D;$+=4)N[I+$>>>2]=B[$>>>2];return this.sigBytes+=D,this},clamp:function(){var j=this.words,N=this.sigBytes;j[N>>>2]&=4294967295<<32-N%4*8,j.length=o.ceil(N/4)},clone:function(){var j=x.clone.call(this);return j.words=this.words.slice(0),j},random:function(j){for(var N=[],B=0;B<j;B+=4)N.push(f());return new y.init(N,j)}}),w=p.enc={},v=w.Hex={stringify:function(j){for(var N=j.words,B=j.sigBytes,I=[],D=0;D<B;D++){var T=N[D>>>2]>>>24-D%4*8&255;I.push((T>>>4).toString(16)),I.push((T&15).toString(16))}return I.join("")},parse:function(j){for(var N=j.length,B=[],I=0;I<N;I+=2)B[I>>>3]|=parseInt(j.substr(I,2),16)<<24-I%8*4;return new y.init(B,N/2)}},g=w.Latin1={stringify:function(j){for(var N=j.words,B=j.sigBytes,I=[],D=0;D<B;D++){var T=N[D>>>2]>>>24-D%4*8&255;I.push(String.fromCharCode(T))}return I.join("")},parse:function(j){for(var N=j.length,B=[],I=0;I<N;I++)B[I>>>2]|=(j.charCodeAt(I)&255)<<24-I%4*8;return new y.init(B,N)}},A=w.Utf8={stringify:function(j){try{return decodeURIComponent(escape(g.stringify(j)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(j){return g.parse(unescape(encodeURIComponent(j)))}},k=m.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(j){typeof j=="string"&&(j=A.parse(j)),this._data.concat(j),this._nDataBytes+=j.sigBytes},_process:function(j){var N,B=this._data,I=B.words,D=B.sigBytes,T=this.blockSize,R=T*4,$=D/R;j?$=o.ceil($):$=o.max(($|0)-this._minBufferSize,0);var _=$*T,F=o.min(_*4,D);if(_){for(var Q=0;Q<_;Q+=T)this._doProcessBlock(I,Q);N=I.splice(0,_),B.sigBytes-=F}return new y.init(N,F)},clone:function(){var j=x.clone.call(this);return j._data=this._data.clone(),j},_minBufferSize:0});m.Hasher=k.extend({cfg:x.extend(),init:function(j){this.cfg=this.cfg.extend(j),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(j){return this._append(j),this._process(),this},finalize:function(j){j&&this._append(j);var N=this._doFinalize();return N},blockSize:16,_createHelper:function(j){return function(N,B){return new j.init(B).finalize(N)}},_createHmacHelper:function(j){return function(N,B){return new E.HMAC.init(j,B).finalize(N)}}});var E=p.algo={};return p}(Math);return i})}(uh)),uh.exports}var fh={exports:{}},M4;function Mu(){return M4||(M4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.Base,h=u.WordArray,p=d.x64={};p.Word=f.extend({init:function(m,x){this.high=m,this.low=x}}),p.WordArray=f.extend({init:function(m,x){m=this.words=m||[],x!=o?this.sigBytes=x:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,x=m.length,y=[],w=0;w<x;w++){var v=m[w];y.push(v.high),y.push(v.low)}return h.create(y,this.sigBytes)},clone:function(){for(var m=f.clone.call(this),x=m.words=this.words.slice(0),y=x.length,w=0;w<y;w++)x[w]=x[w].clone();return m}})}(),i})}(fh)),fh.exports}var hh={exports:{}},_4;function LC(){return _4||(_4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(){if(typeof ArrayBuffer=="function"){var o=i,d=o.lib,u=d.WordArray,f=u.init,h=u.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var m=p.byteLength,x=[],y=0;y<m;y++)x[y>>>2]|=p[y]<<24-y%4*8;f.call(this,x,m)}else f.apply(this,arguments)};h.prototype=u}}(),i.lib.WordArray})}(hh)),hh.exports}var ph={exports:{}},F4;function QC(){return F4||(F4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Utf16=f.Utf16BE={stringify:function(p){for(var m=p.words,x=p.sigBytes,y=[],w=0;w<x;w+=2){var v=m[w>>>2]>>>16-w%4*8&65535;y.push(String.fromCharCode(v))}return y.join("")},parse:function(p){for(var m=p.length,x=[],y=0;y<m;y++)x[y>>>1]|=p.charCodeAt(y)<<16-y%2*16;return u.create(x,m*2)}},f.Utf16LE={stringify:function(p){for(var m=p.words,x=p.sigBytes,y=[],w=0;w<x;w+=2){var v=h(m[w>>>2]>>>16-w%4*8&65535);y.push(String.fromCharCode(v))}return y.join("")},parse:function(p){for(var m=p.length,x=[],y=0;y<m;y++)x[y>>>1]|=h(p.charCodeAt(y)<<16-y%2*16);return u.create(x,m*2)}};function h(p){return p<<8&4278255360|p>>>8&16711935}}(),i.enc.Utf16})}(ph)),ph.exports}var mh={exports:{}},P4;function hl(){return P4||(P4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Base64={stringify:function(p){var m=p.words,x=p.sigBytes,y=this._map;p.clamp();for(var w=[],v=0;v<x;v+=3)for(var g=m[v>>>2]>>>24-v%4*8&255,A=m[v+1>>>2]>>>24-(v+1)%4*8&255,k=m[v+2>>>2]>>>24-(v+2)%4*8&255,E=g<<16|A<<8|k,j=0;j<4&&v+j*.75<x;j++)w.push(y.charAt(E>>>6*(3-j)&63));var N=y.charAt(64);if(N)for(;w.length%4;)w.push(N);return w.join("")},parse:function(p){var m=p.length,x=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var w=0;w<x.length;w++)y[x.charCodeAt(w)]=w}var v=x.charAt(64);if(v){var g=p.indexOf(v);g!==-1&&(m=g)}return h(p,m,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(p,m,x){for(var y=[],w=0,v=0;v<m;v++)if(v%4){var g=x[p.charCodeAt(v-1)]<<v%4*2,A=x[p.charCodeAt(v)]>>>6-v%4*2,k=g|A;y[w>>>2]|=k<<24-w%4*8,w++}return u.create(y,w)}}(),i.enc.Base64})}(mh)),mh.exports}var xh={exports:{}},O4;function HC(){return O4||(O4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Base64url={stringify:function(p,m){m===void 0&&(m=!0);var x=p.words,y=p.sigBytes,w=m?this._safe_map:this._map;p.clamp();for(var v=[],g=0;g<y;g+=3)for(var A=x[g>>>2]>>>24-g%4*8&255,k=x[g+1>>>2]>>>24-(g+1)%4*8&255,E=x[g+2>>>2]>>>24-(g+2)%4*8&255,j=A<<16|k<<8|E,N=0;N<4&&g+N*.75<y;N++)v.push(w.charAt(j>>>6*(3-N)&63));var B=w.charAt(64);if(B)for(;v.length%4;)v.push(B);return v.join("")},parse:function(p,m){m===void 0&&(m=!0);var x=p.length,y=m?this._safe_map:this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var v=0;v<y.length;v++)w[y.charCodeAt(v)]=v}var g=y.charAt(64);if(g){var A=p.indexOf(g);A!==-1&&(x=A)}return h(p,x,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(p,m,x){for(var y=[],w=0,v=0;v<m;v++)if(v%4){var g=x[p.charCodeAt(v-1)]<<v%4*2,A=x[p.charCodeAt(v)]>>>6-v%4*2,k=g|A;y[w>>>2]|=k<<24-w%4*8,w++}return u.create(y,w)}}(),i.enc.Base64url})}(xh)),xh.exports}var vh={exports:{}},U4;function pl(){return U4||(U4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=[];(function(){for(var A=0;A<64;A++)m[A]=o.abs(o.sin(A+1))*4294967296|0})();var x=p.MD5=h.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(A,k){for(var E=0;E<16;E++){var j=k+E,N=A[j];A[j]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var B=this._hash.words,I=A[k+0],D=A[k+1],T=A[k+2],R=A[k+3],$=A[k+4],_=A[k+5],F=A[k+6],Q=A[k+7],L=A[k+8],X=A[k+9],le=A[k+10],fe=A[k+11],V=A[k+12],H=A[k+13],se=A[k+14],ue=A[k+15],U=B[0],W=B[1],re=B[2],ie=B[3];U=y(U,W,re,ie,I,7,m[0]),ie=y(ie,U,W,re,D,12,m[1]),re=y(re,ie,U,W,T,17,m[2]),W=y(W,re,ie,U,R,22,m[3]),U=y(U,W,re,ie,$,7,m[4]),ie=y(ie,U,W,re,_,12,m[5]),re=y(re,ie,U,W,F,17,m[6]),W=y(W,re,ie,U,Q,22,m[7]),U=y(U,W,re,ie,L,7,m[8]),ie=y(ie,U,W,re,X,12,m[9]),re=y(re,ie,U,W,le,17,m[10]),W=y(W,re,ie,U,fe,22,m[11]),U=y(U,W,re,ie,V,7,m[12]),ie=y(ie,U,W,re,H,12,m[13]),re=y(re,ie,U,W,se,17,m[14]),W=y(W,re,ie,U,ue,22,m[15]),U=w(U,W,re,ie,D,5,m[16]),ie=w(ie,U,W,re,F,9,m[17]),re=w(re,ie,U,W,fe,14,m[18]),W=w(W,re,ie,U,I,20,m[19]),U=w(U,W,re,ie,_,5,m[20]),ie=w(ie,U,W,re,le,9,m[21]),re=w(re,ie,U,W,ue,14,m[22]),W=w(W,re,ie,U,$,20,m[23]),U=w(U,W,re,ie,X,5,m[24]),ie=w(ie,U,W,re,se,9,m[25]),re=w(re,ie,U,W,R,14,m[26]),W=w(W,re,ie,U,L,20,m[27]),U=w(U,W,re,ie,H,5,m[28]),ie=w(ie,U,W,re,T,9,m[29]),re=w(re,ie,U,W,Q,14,m[30]),W=w(W,re,ie,U,V,20,m[31]),U=v(U,W,re,ie,_,4,m[32]),ie=v(ie,U,W,re,L,11,m[33]),re=v(re,ie,U,W,fe,16,m[34]),W=v(W,re,ie,U,se,23,m[35]),U=v(U,W,re,ie,D,4,m[36]),ie=v(ie,U,W,re,$,11,m[37]),re=v(re,ie,U,W,Q,16,m[38]),W=v(W,re,ie,U,le,23,m[39]),U=v(U,W,re,ie,H,4,m[40]),ie=v(ie,U,W,re,I,11,m[41]),re=v(re,ie,U,W,R,16,m[42]),W=v(W,re,ie,U,F,23,m[43]),U=v(U,W,re,ie,X,4,m[44]),ie=v(ie,U,W,re,V,11,m[45]),re=v(re,ie,U,W,ue,16,m[46]),W=v(W,re,ie,U,T,23,m[47]),U=g(U,W,re,ie,I,6,m[48]),ie=g(ie,U,W,re,Q,10,m[49]),re=g(re,ie,U,W,se,15,m[50]),W=g(W,re,ie,U,_,21,m[51]),U=g(U,W,re,ie,V,6,m[52]),ie=g(ie,U,W,re,R,10,m[53]),re=g(re,ie,U,W,le,15,m[54]),W=g(W,re,ie,U,D,21,m[55]),U=g(U,W,re,ie,L,6,m[56]),ie=g(ie,U,W,re,ue,10,m[57]),re=g(re,ie,U,W,F,15,m[58]),W=g(W,re,ie,U,H,21,m[59]),U=g(U,W,re,ie,$,6,m[60]),ie=g(ie,U,W,re,fe,10,m[61]),re=g(re,ie,U,W,T,15,m[62]),W=g(W,re,ie,U,X,21,m[63]),B[0]=B[0]+U|0,B[1]=B[1]+W|0,B[2]=B[2]+re|0,B[3]=B[3]+ie|0},_doFinalize:function(){var A=this._data,k=A.words,E=this._nDataBytes*8,j=A.sigBytes*8;k[j>>>5]|=128<<24-j%32;var N=o.floor(E/4294967296),B=E;k[(j+64>>>9<<4)+15]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k[(j+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,A.sigBytes=(k.length+1)*4,this._process();for(var I=this._hash,D=I.words,T=0;T<4;T++){var R=D[T];D[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return I},clone:function(){var A=h.clone.call(this);return A._hash=this._hash.clone(),A}});function y(A,k,E,j,N,B,I){var D=A+(k&E|~k&j)+N+I;return(D<<B|D>>>32-B)+k}function w(A,k,E,j,N,B,I){var D=A+(k&j|E&~j)+N+I;return(D<<B|D>>>32-B)+k}function v(A,k,E,j,N,B,I){var D=A+(k^E^j)+N+I;return(D<<B|D>>>32-B)+k}function g(A,k,E,j,N,B,I){var D=A+(E^(k|~j))+N+I;return(D<<B|D>>>32-B)+k}d.MD5=h._createHelper(x),d.HmacMD5=h._createHmacHelper(x)}(Math),i.MD5})}(vh)),vh.exports}var gh={exports:{}},z4;function qy(){return z4||(z4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=d.Hasher,h=o.algo,p=[],m=h.SHA1=f.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,y){for(var w=this._hash.words,v=w[0],g=w[1],A=w[2],k=w[3],E=w[4],j=0;j<80;j++){if(j<16)p[j]=x[y+j]|0;else{var N=p[j-3]^p[j-8]^p[j-14]^p[j-16];p[j]=N<<1|N>>>31}var B=(v<<5|v>>>27)+E+p[j];j<20?B+=(g&A|~g&k)+1518500249:j<40?B+=(g^A^k)+1859775393:j<60?B+=(g&A|g&k|A&k)-1894007588:B+=(g^A^k)-899497514,E=k,k=A,A=g<<30|g>>>2,g=v,v=B}w[0]=w[0]+v|0,w[1]=w[1]+g|0,w[2]=w[2]+A|0,w[3]=w[3]+k|0,w[4]=w[4]+E|0},_doFinalize:function(){var x=this._data,y=x.words,w=this._nDataBytes*8,v=x.sigBytes*8;return y[v>>>5]|=128<<24-v%32,y[(v+64>>>9<<4)+14]=Math.floor(w/4294967296),y[(v+64>>>9<<4)+15]=w,x.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var x=f.clone.call(this);return x._hash=this._hash.clone(),x}});o.SHA1=f._createHelper(m),o.HmacSHA1=f._createHmacHelper(m)}(),i.SHA1})}(gh)),gh.exports}var bh={exports:{}},L4;function Rm(){return L4||(L4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=[],x=[];(function(){function v(E){for(var j=o.sqrt(E),N=2;N<=j;N++)if(!(E%N))return!1;return!0}function g(E){return(E-(E|0))*4294967296|0}for(var A=2,k=0;k<64;)v(A)&&(k<8&&(m[k]=g(o.pow(A,1/2))),x[k]=g(o.pow(A,1/3)),k++),A++})();var y=[],w=p.SHA256=h.extend({_doReset:function(){this._hash=new f.init(m.slice(0))},_doProcessBlock:function(v,g){for(var A=this._hash.words,k=A[0],E=A[1],j=A[2],N=A[3],B=A[4],I=A[5],D=A[6],T=A[7],R=0;R<64;R++){if(R<16)y[R]=v[g+R]|0;else{var $=y[R-15],_=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,F=y[R-2],Q=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;y[R]=_+y[R-7]+Q+y[R-16]}var L=B&I^~B&D,X=k&E^k&j^E&j,le=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),fe=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),V=T+fe+L+x[R]+y[R],H=le+X;T=D,D=I,I=B,B=N+V|0,N=j,j=E,E=k,k=V+H|0}A[0]=A[0]+k|0,A[1]=A[1]+E|0,A[2]=A[2]+j|0,A[3]=A[3]+N|0,A[4]=A[4]+B|0,A[5]=A[5]+I|0,A[6]=A[6]+D|0,A[7]=A[7]+T|0},_doFinalize:function(){var v=this._data,g=v.words,A=this._nDataBytes*8,k=v.sigBytes*8;return g[k>>>5]|=128<<24-k%32,g[(k+64>>>9<<4)+14]=o.floor(A/4294967296),g[(k+64>>>9<<4)+15]=A,v.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var v=h.clone.call(this);return v._hash=this._hash.clone(),v}});d.SHA256=h._createHelper(w),d.HmacSHA256=h._createHmacHelper(w)}(Math),i.SHA256})}(bh)),bh.exports}var yh={exports:{}},Q4;function $C(){return Q4||(Q4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),Rm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.algo,h=f.SHA256,p=f.SHA224=h.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=h._doFinalize.call(this);return m.sigBytes-=4,m}});o.SHA224=h._createHelper(p),o.HmacSHA224=h._createHmacHelper(p)}(),i.SHA224})}(yh)),yh.exports}var wh={exports:{}},H4;function Gy(){return H4||(H4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),Mu())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Hasher,f=o.x64,h=f.Word,p=f.WordArray,m=o.algo;function x(){return h.create.apply(h,arguments)}var y=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],w=[];(function(){for(var g=0;g<80;g++)w[g]=x()})();var v=m.SHA512=u.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(g,A){for(var k=this._hash.words,E=k[0],j=k[1],N=k[2],B=k[3],I=k[4],D=k[5],T=k[6],R=k[7],$=E.high,_=E.low,F=j.high,Q=j.low,L=N.high,X=N.low,le=B.high,fe=B.low,V=I.high,H=I.low,se=D.high,ue=D.low,U=T.high,W=T.low,re=R.high,ie=R.low,be=$,K=_,ke=F,je=Q,Qe=L,ze=X,tt=le,Ze=fe,Re=V,He=H,Ue=se,ye=ue,Ye=U,Ae=W,Le=re,he=ie,Pe=0;Pe<80;Pe++){var Me,$e,rt=w[Pe];if(Pe<16)$e=rt.high=g[A+Pe*2]|0,Me=rt.low=g[A+Pe*2+1]|0;else{var pt=w[Pe-15],ut=pt.high,bt=pt.low,It=(ut>>>1|bt<<31)^(ut>>>8|bt<<24)^ut>>>7,St=(bt>>>1|ut<<31)^(bt>>>8|ut<<24)^(bt>>>7|ut<<25),de=w[Pe-2],Ee=de.high,at=de.low,ot=(Ee>>>19|at<<13)^(Ee<<3|at>>>29)^Ee>>>6,Et=(at>>>19|Ee<<13)^(at<<3|Ee>>>29)^(at>>>6|Ee<<26),yt=w[Pe-7],P=yt.high,G=yt.low,q=w[Pe-16],te=q.high,ce=q.low;Me=St+G,$e=It+P+(Me>>>0<St>>>0?1:0),Me=Me+Et,$e=$e+ot+(Me>>>0<Et>>>0?1:0),Me=Me+ce,$e=$e+te+(Me>>>0<ce>>>0?1:0),rt.high=$e,rt.low=Me}var ge=Re&Ue^~Re&Ye,ae=He&ye^~He&Ae,Ce=be&ke^be&Qe^ke&Qe,Z=K&je^K&ze^je&ze,xe=(be>>>28|K<<4)^(be<<30|K>>>2)^(be<<25|K>>>7),me=(K>>>28|be<<4)^(K<<30|be>>>2)^(K<<25|be>>>7),Ne=(Re>>>14|He<<18)^(Re>>>18|He<<14)^(Re<<23|He>>>9),oe=(He>>>14|Re<<18)^(He>>>18|Re<<14)^(He<<23|Re>>>9),we=y[Pe],Be=we.high,pe=we.low,Ie=he+oe,Se=Le+Ne+(Ie>>>0<he>>>0?1:0),Ie=Ie+ae,Se=Se+ge+(Ie>>>0<ae>>>0?1:0),Ie=Ie+pe,Se=Se+Be+(Ie>>>0<pe>>>0?1:0),Ie=Ie+Me,Se=Se+$e+(Ie>>>0<Me>>>0?1:0),Te=me+Z,Ve=xe+Ce+(Te>>>0<me>>>0?1:0);Le=Ye,he=Ae,Ye=Ue,Ae=ye,Ue=Re,ye=He,He=Ze+Ie|0,Re=tt+Se+(He>>>0<Ze>>>0?1:0)|0,tt=Qe,Ze=ze,Qe=ke,ze=je,ke=be,je=K,K=Ie+Te|0,be=Se+Ve+(K>>>0<Ie>>>0?1:0)|0}_=E.low=_+K,E.high=$+be+(_>>>0<K>>>0?1:0),Q=j.low=Q+je,j.high=F+ke+(Q>>>0<je>>>0?1:0),X=N.low=X+ze,N.high=L+Qe+(X>>>0<ze>>>0?1:0),fe=B.low=fe+Ze,B.high=le+tt+(fe>>>0<Ze>>>0?1:0),H=I.low=H+He,I.high=V+Re+(H>>>0<He>>>0?1:0),ue=D.low=ue+ye,D.high=se+Ue+(ue>>>0<ye>>>0?1:0),W=T.low=W+Ae,T.high=U+Ye+(W>>>0<Ae>>>0?1:0),ie=R.low=ie+he,R.high=re+Le+(ie>>>0<he>>>0?1:0)},_doFinalize:function(){var g=this._data,A=g.words,k=this._nDataBytes*8,E=g.sigBytes*8;A[E>>>5]|=128<<24-E%32,A[(E+128>>>10<<5)+30]=Math.floor(k/4294967296),A[(E+128>>>10<<5)+31]=k,g.sigBytes=A.length*4,this._process();var j=this._hash.toX32();return j},clone:function(){var g=u.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});o.SHA512=u._createHelper(v),o.HmacSHA512=u._createHmacHelper(v)}(),i.SHA512})}(wh)),wh.exports}var Ah={exports:{}},$4;function qC(){return $4||($4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),Mu(),Gy())})(vr,function(i){return function(){var o=i,d=o.x64,u=d.Word,f=d.WordArray,h=o.algo,p=h.SHA512,m=h.SHA384=p.extend({_doReset:function(){this._hash=new f.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var x=p._doFinalize.call(this);return x.sigBytes-=16,x}});o.SHA384=p._createHelper(m),o.HmacSHA384=p._createHmacHelper(m)}(),i.SHA384})}(Ah)),Ah.exports}var kh={exports:{}},q4;function GC(){return q4||(q4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),Mu())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.x64,m=p.Word,x=d.algo,y=[],w=[],v=[];(function(){for(var k=1,E=0,j=0;j<24;j++){y[k+5*E]=(j+1)*(j+2)/2%64;var N=E%5,B=(2*k+3*E)%5;k=N,E=B}for(var k=0;k<5;k++)for(var E=0;E<5;E++)w[k+5*E]=E+(2*k+3*E)%5*5;for(var I=1,D=0;D<24;D++){for(var T=0,R=0,$=0;$<7;$++){if(I&1){var _=(1<<$)-1;_<32?R^=1<<_:T^=1<<_-32}I&128?I=I<<1^113:I<<=1}v[D]=m.create(T,R)}})();var g=[];(function(){for(var k=0;k<25;k++)g[k]=m.create()})();var A=x.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var k=this._state=[],E=0;E<25;E++)k[E]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(k,E){for(var j=this._state,N=this.blockSize/2,B=0;B<N;B++){var I=k[E+2*B],D=k[E+2*B+1];I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var T=j[B];T.high^=D,T.low^=I}for(var R=0;R<24;R++){for(var $=0;$<5;$++){for(var _=0,F=0,Q=0;Q<5;Q++){var T=j[$+5*Q];_^=T.high,F^=T.low}var L=g[$];L.high=_,L.low=F}for(var $=0;$<5;$++)for(var X=g[($+4)%5],le=g[($+1)%5],fe=le.high,V=le.low,_=X.high^(fe<<1|V>>>31),F=X.low^(V<<1|fe>>>31),Q=0;Q<5;Q++){var T=j[$+5*Q];T.high^=_,T.low^=F}for(var H=1;H<25;H++){var _,F,T=j[H],se=T.high,ue=T.low,U=y[H];U<32?(_=se<<U|ue>>>32-U,F=ue<<U|se>>>32-U):(_=ue<<U-32|se>>>64-U,F=se<<U-32|ue>>>64-U);var W=g[w[H]];W.high=_,W.low=F}var re=g[0],ie=j[0];re.high=ie.high,re.low=ie.low;for(var $=0;$<5;$++)for(var Q=0;Q<5;Q++){var H=$+5*Q,T=j[H],be=g[H],K=g[($+1)%5+5*Q],ke=g[($+2)%5+5*Q];T.high=be.high^~K.high&ke.high,T.low=be.low^~K.low&ke.low}var T=j[0],je=v[R];T.high^=je.high,T.low^=je.low}},_doFinalize:function(){var k=this._data,E=k.words;this._nDataBytes*8;var j=k.sigBytes*8,N=this.blockSize*32;E[j>>>5]|=1<<24-j%32,E[(o.ceil((j+1)/N)*N>>>5)-1]|=128,k.sigBytes=E.length*4,this._process();for(var B=this._state,I=this.cfg.outputLength/8,D=I/8,T=[],R=0;R<D;R++){var $=B[R],_=$.high,F=$.low;_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,T.push(F),T.push(_)}return new f.init(T,I)},clone:function(){for(var k=h.clone.call(this),E=k._state=this._state.slice(0),j=0;j<25;j++)E[j]=E[j].clone();return k}});d.SHA3=h._createHelper(A),d.HmacSHA3=h._createHmacHelper(A)}(Math),i.SHA3})}(kh)),kh.exports}var jh={exports:{}},G4;function VC(){return G4||(G4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),w=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=f.create([0,1518500249,1859775393,2400959708,2840853838]),g=f.create([1352829926,1548603684,1836072691,2053994217,0]),A=p.RIPEMD160=h.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,T){for(var R=0;R<16;R++){var $=T+R,_=D[$];D[$]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var F=this._hash.words,Q=v.words,L=g.words,X=m.words,le=x.words,fe=y.words,V=w.words,H,se,ue,U,W,re,ie,be,K,ke;re=H=F[0],ie=se=F[1],be=ue=F[2],K=U=F[3],ke=W=F[4];for(var je,R=0;R<80;R+=1)je=H+D[T+X[R]]|0,R<16?je+=k(se,ue,U)+Q[0]:R<32?je+=E(se,ue,U)+Q[1]:R<48?je+=j(se,ue,U)+Q[2]:R<64?je+=N(se,ue,U)+Q[3]:je+=B(se,ue,U)+Q[4],je=je|0,je=I(je,fe[R]),je=je+W|0,H=W,W=U,U=I(ue,10),ue=se,se=je,je=re+D[T+le[R]]|0,R<16?je+=B(ie,be,K)+L[0]:R<32?je+=N(ie,be,K)+L[1]:R<48?je+=j(ie,be,K)+L[2]:R<64?je+=E(ie,be,K)+L[3]:je+=k(ie,be,K)+L[4],je=je|0,je=I(je,V[R]),je=je+ke|0,re=ke,ke=K,K=I(be,10),be=ie,ie=je;je=F[1]+ue+K|0,F[1]=F[2]+U+ke|0,F[2]=F[3]+W+re|0,F[3]=F[4]+H+ie|0,F[4]=F[0]+se+be|0,F[0]=je},_doFinalize:function(){var D=this._data,T=D.words,R=this._nDataBytes*8,$=D.sigBytes*8;T[$>>>5]|=128<<24-$%32,T[($+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,D.sigBytes=(T.length+1)*4,this._process();for(var _=this._hash,F=_.words,Q=0;Q<5;Q++){var L=F[Q];F[Q]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return _},clone:function(){var D=h.clone.call(this);return D._hash=this._hash.clone(),D}});function k(D,T,R){return D^T^R}function E(D,T,R){return D&T|~D&R}function j(D,T,R){return(D|~T)^R}function N(D,T,R){return D&R|T&~R}function B(D,T,R){return D^(T|~R)}function I(D,T){return D<<T|D>>>32-T}d.RIPEMD160=h._createHelper(A),d.HmacRIPEMD160=h._createHmacHelper(A)}(),i.RIPEMD160})}(jh)),jh.exports}var Nh={exports:{}},V4;function Mm(){return V4||(V4=1,function(a,n){(function(i,o){a.exports=o(Xr())})(vr,function(i){(function(){var o=i,d=o.lib,u=d.Base,f=o.enc,h=f.Utf8,p=o.algo;p.HMAC=u.extend({init:function(m,x){m=this._hasher=new m.init,typeof x=="string"&&(x=h.parse(x));var y=m.blockSize,w=y*4;x.sigBytes>w&&(x=m.finalize(x)),x.clamp();for(var v=this._oKey=x.clone(),g=this._iKey=x.clone(),A=v.words,k=g.words,E=0;E<y;E++)A[E]^=1549556828,k[E]^=909522486;v.sigBytes=g.sigBytes=w,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var x=this._hasher,y=x.finalize(m);x.reset();var w=x.finalize(this._oKey.clone().concat(y));return w}})})()})}(Nh)),Nh.exports}var Sh={exports:{}},Y4;function YC(){return Y4||(Y4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),Rm(),Mm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Base,f=d.WordArray,h=o.algo,p=h.SHA256,m=h.HMAC,x=h.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,w){for(var v=this.cfg,g=m.create(v.hasher,y),A=f.create(),k=f.create([1]),E=A.words,j=k.words,N=v.keySize,B=v.iterations;E.length<N;){var I=g.update(w).finalize(k);g.reset();for(var D=I.words,T=D.length,R=I,$=1;$<B;$++){R=g.finalize(R),g.reset();for(var _=R.words,F=0;F<T;F++)D[F]^=_[F]}A.concat(I),j[0]++}return A.sigBytes=N*4,A}});o.PBKDF2=function(y,w,v){return x.create(v).compute(y,w)}}(),i.PBKDF2})}(Sh)),Sh.exports}var Eh={exports:{}},K4;function Eo(){return K4||(K4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),qy(),Mm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Base,f=d.WordArray,h=o.algo,p=h.MD5,m=h.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,y){for(var w,v=this.cfg,g=v.hasher.create(),A=f.create(),k=A.words,E=v.keySize,j=v.iterations;k.length<E;){w&&g.update(w),w=g.update(x).finalize(y),g.reset();for(var N=1;N<j;N++)w=g.finalize(w),g.reset();A.concat(w)}return A.sigBytes=E*4,A}});o.EvpKDF=function(x,y,w){return m.create(w).compute(x,y)}}(),i.EvpKDF})}(Eh)),Eh.exports}var Ch={exports:{}},W4;function vn(){return W4||(W4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),Eo())})(vr,function(i){i.lib.Cipher||function(o){var d=i,u=d.lib,f=u.Base,h=u.WordArray,p=u.BufferedBlockAlgorithm,m=d.enc;m.Utf8;var x=m.Base64,y=d.algo,w=y.EvpKDF,v=u.Cipher=p.extend({cfg:f.extend(),createEncryptor:function(_,F){return this.create(this._ENC_XFORM_MODE,_,F)},createDecryptor:function(_,F){return this.create(this._DEC_XFORM_MODE,_,F)},init:function(_,F,Q){this.cfg=this.cfg.extend(Q),this._xformMode=_,this._key=F,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(_){return this._append(_),this._process()},finalize:function(_){_&&this._append(_);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function _(F){return typeof F=="string"?$:D}return function(F){return{encrypt:function(Q,L,X){return _(L).encrypt(F,Q,L,X)},decrypt:function(Q,L,X){return _(L).decrypt(F,Q,L,X)}}}}()});u.StreamCipher=v.extend({_doFinalize:function(){var _=this._process(!0);return _},blockSize:1});var g=d.mode={},A=u.BlockCipherMode=f.extend({createEncryptor:function(_,F){return this.Encryptor.create(_,F)},createDecryptor:function(_,F){return this.Decryptor.create(_,F)},init:function(_,F){this._cipher=_,this._iv=F}}),k=g.CBC=function(){var _=A.extend();_.Encryptor=_.extend({processBlock:function(Q,L){var X=this._cipher,le=X.blockSize;F.call(this,Q,L,le),X.encryptBlock(Q,L),this._prevBlock=Q.slice(L,L+le)}}),_.Decryptor=_.extend({processBlock:function(Q,L){var X=this._cipher,le=X.blockSize,fe=Q.slice(L,L+le);X.decryptBlock(Q,L),F.call(this,Q,L,le),this._prevBlock=fe}});function F(Q,L,X){var le,fe=this._iv;fe?(le=fe,this._iv=o):le=this._prevBlock;for(var V=0;V<X;V++)Q[L+V]^=le[V]}return _}(),E=d.pad={},j=E.Pkcs7={pad:function(_,F){for(var Q=F*4,L=Q-_.sigBytes%Q,X=L<<24|L<<16|L<<8|L,le=[],fe=0;fe<L;fe+=4)le.push(X);var V=h.create(le,L);_.concat(V)},unpad:function(_){var F=_.words[_.sigBytes-1>>>2]&255;_.sigBytes-=F}};u.BlockCipher=v.extend({cfg:v.cfg.extend({mode:k,padding:j}),reset:function(){var _;v.reset.call(this);var F=this.cfg,Q=F.iv,L=F.mode;this._xformMode==this._ENC_XFORM_MODE?_=L.createEncryptor:(_=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==_?this._mode.init(this,Q&&Q.words):(this._mode=_.call(L,this,Q&&Q.words),this._mode.__creator=_)},_doProcessBlock:function(_,F){this._mode.processBlock(_,F)},_doFinalize:function(){var _,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),_=this._process(!0)):(_=this._process(!0),F.unpad(_)),_},blockSize:128/32});var N=u.CipherParams=f.extend({init:function(_){this.mixIn(_)},toString:function(_){return(_||this.formatter).stringify(this)}}),B=d.format={},I=B.OpenSSL={stringify:function(_){var F,Q=_.ciphertext,L=_.salt;return L?F=h.create([1398893684,1701076831]).concat(L).concat(Q):F=Q,F.toString(x)},parse:function(_){var F,Q=x.parse(_),L=Q.words;return L[0]==1398893684&&L[1]==1701076831&&(F=h.create(L.slice(2,4)),L.splice(0,4),Q.sigBytes-=16),N.create({ciphertext:Q,salt:F})}},D=u.SerializableCipher=f.extend({cfg:f.extend({format:I}),encrypt:function(_,F,Q,L){L=this.cfg.extend(L);var X=_.createEncryptor(Q,L),le=X.finalize(F),fe=X.cfg;return N.create({ciphertext:le,key:Q,iv:fe.iv,algorithm:_,mode:fe.mode,padding:fe.padding,blockSize:_.blockSize,formatter:L.format})},decrypt:function(_,F,Q,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var X=_.createDecryptor(Q,L).finalize(F.ciphertext);return X},_parse:function(_,F){return typeof _=="string"?F.parse(_,this):_}}),T=d.kdf={},R=T.OpenSSL={execute:function(_,F,Q,L,X){if(L||(L=h.random(64/8)),X)var le=w.create({keySize:F+Q,hasher:X}).compute(_,L);else var le=w.create({keySize:F+Q}).compute(_,L);var fe=h.create(le.words.slice(F),Q*4);return le.sigBytes=F*4,N.create({key:le,iv:fe,salt:L})}},$=u.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:R}),encrypt:function(_,F,Q,L){L=this.cfg.extend(L);var X=L.kdf.execute(Q,_.keySize,_.ivSize,L.salt,L.hasher);L.iv=X.iv;var le=D.encrypt.call(this,_,F,X.key,L);return le.mixIn(X),le},decrypt:function(_,F,Q,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var X=L.kdf.execute(Q,_.keySize,_.ivSize,F.salt,L.hasher);L.iv=X.iv;var le=D.decrypt.call(this,_,F,X.key,L);return le}})}()})}(Ch)),Ch.exports}var Ih={exports:{}},J4;function KC(){return J4||(J4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.mode.CFB=function(){var o=i.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize;d.call(this,u,f,p,h),this._prevBlock=u.slice(f,f+p)}}),o.Decryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=u.slice(f,f+p);d.call(this,u,f,p,h),this._prevBlock=m}});function d(u,f,h,p){var m,x=this._iv;x?(m=x.slice(0),this._iv=void 0):m=this._prevBlock,p.encryptBlock(m,0);for(var y=0;y<h;y++)u[f+y]^=m[y]}return o}(),i.mode.CFB})}(Ih)),Ih.exports}var Bh={exports:{}},X4;function WC(){return X4||(X4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.mode.CTR=function(){var o=i.lib.BlockCipherMode.extend(),d=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._counter;m&&(x=this._counter=m.slice(0),this._iv=void 0);var y=x.slice(0);h.encryptBlock(y,0),x[p-1]=x[p-1]+1|0;for(var w=0;w<p;w++)u[f+w]^=y[w]}});return o.Decryptor=d,o}(),i.mode.CTR})}(Bh)),Bh.exports}var Dh={exports:{}},Z4;function JC(){return Z4||(Z4=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var o=i.lib.BlockCipherMode.extend();function d(h){if((h>>24&255)===255){var p=h>>16&255,m=h>>8&255,x=h&255;p===255?(p=0,m===255?(m=0,x===255?x=0:++x):++m):++p,h=0,h+=p<<16,h+=m<<8,h+=x}else h+=1<<24;return h}function u(h){return(h[0]=d(h[0]))===0&&(h[1]=d(h[1])),h}var f=o.Encryptor=o.extend({processBlock:function(h,p){var m=this._cipher,x=m.blockSize,y=this._iv,w=this._counter;y&&(w=this._counter=y.slice(0),this._iv=void 0),u(w);var v=w.slice(0);m.encryptBlock(v,0);for(var g=0;g<x;g++)h[p+g]^=v[g]}});return o.Decryptor=f,o}(),i.mode.CTRGladman})}(Dh)),Dh.exports}var Th={exports:{}},eb;function XC(){return eb||(eb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.mode.OFB=function(){var o=i.lib.BlockCipherMode.extend(),d=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._keystream;m&&(x=this._keystream=m.slice(0),this._iv=void 0),h.encryptBlock(x,0);for(var y=0;y<p;y++)u[f+y]^=x[y]}});return o.Decryptor=d,o}(),i.mode.OFB})}(Th)),Th.exports}var Rh={exports:{}},tb;function ZC(){return tb||(tb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.mode.ECB=function(){var o=i.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(d,u){this._cipher.encryptBlock(d,u)}}),o.Decryptor=o.extend({processBlock:function(d,u){this._cipher.decryptBlock(d,u)}}),o}(),i.mode.ECB})}(Rh)),Rh.exports}var Mh={exports:{}},rb;function eI(){return rb||(rb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.pad.AnsiX923={pad:function(o,d){var u=o.sigBytes,f=d*4,h=f-u%f,p=u+h-1;o.clamp(),o.words[p>>>2]|=h<<24-p%4*8,o.sigBytes+=h},unpad:function(o){var d=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=d}},i.pad.Ansix923})}(Mh)),Mh.exports}var _h={exports:{}},ab;function tI(){return ab||(ab=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.pad.Iso10126={pad:function(o,d){var u=d*4,f=u-o.sigBytes%u;o.concat(i.lib.WordArray.random(f-1)).concat(i.lib.WordArray.create([f<<24],1))},unpad:function(o){var d=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=d}},i.pad.Iso10126})}(_h)),_h.exports}var Fh={exports:{}},sb;function rI(){return sb||(sb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.pad.Iso97971={pad:function(o,d){o.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(o,d)},unpad:function(o){i.pad.ZeroPadding.unpad(o),o.sigBytes--}},i.pad.Iso97971})}(Fh)),Fh.exports}var Ph={exports:{}},nb;function aI(){return nb||(nb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.pad.ZeroPadding={pad:function(o,d){var u=d*4;o.clamp(),o.sigBytes+=u-(o.sigBytes%u||u)},unpad:function(o){for(var d=o.words,u=o.sigBytes-1,u=o.sigBytes-1;u>=0;u--)if(d[u>>>2]>>>24-u%4*8&255){o.sigBytes=u+1;break}}},i.pad.ZeroPadding})}(Ph)),Ph.exports}var Oh={exports:{}},ib;function sI(){return ib||(ib=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(Oh)),Oh.exports}var Uh={exports:{}},ob;function nI(){return ob||(ob=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),vn())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.CipherParams,h=d.enc,p=h.Hex,m=d.format;m.Hex={stringify:function(x){return x.ciphertext.toString(p)},parse:function(x){var y=p.parse(x);return f.create({ciphertext:y})}}}(),i.format.Hex})}(Uh)),Uh.exports}var zh={exports:{}},lb;function iI(){return lb||(lb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),hl(),pl(),Eo(),vn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.BlockCipher,f=o.algo,h=[],p=[],m=[],x=[],y=[],w=[],v=[],g=[],A=[],k=[];(function(){for(var N=[],B=0;B<256;B++)B<128?N[B]=B<<1:N[B]=B<<1^283;for(var I=0,D=0,B=0;B<256;B++){var T=D^D<<1^D<<2^D<<3^D<<4;T=T>>>8^T&255^99,h[I]=T,p[T]=I;var R=N[I],$=N[R],_=N[$],F=N[T]*257^T*16843008;m[I]=F<<24|F>>>8,x[I]=F<<16|F>>>16,y[I]=F<<8|F>>>24,w[I]=F;var F=_*16843009^$*65537^R*257^I*16843008;v[T]=F<<24|F>>>8,g[T]=F<<16|F>>>16,A[T]=F<<8|F>>>24,k[T]=F,I?(I=R^N[N[N[_^R]]],D^=N[N[D]]):I=D=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],j=f.AES=u.extend({_doReset:function(){var N;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,I=B.words,D=B.sigBytes/4,T=this._nRounds=D+6,R=(T+1)*4,$=this._keySchedule=[],_=0;_<R;_++)_<D?$[_]=I[_]:(N=$[_-1],_%D?D>6&&_%D==4&&(N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255]):(N=N<<8|N>>>24,N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255],N^=E[_/D|0]<<24),$[_]=$[_-D]^N);for(var F=this._invKeySchedule=[],Q=0;Q<R;Q++){var _=R-Q;if(Q%4)var N=$[_];else var N=$[_-4];Q<4||_<=4?F[Q]=N:F[Q]=v[h[N>>>24]]^g[h[N>>>16&255]]^A[h[N>>>8&255]]^k[h[N&255]]}}},encryptBlock:function(N,B){this._doCryptBlock(N,B,this._keySchedule,m,x,y,w,h)},decryptBlock:function(N,B){var I=N[B+1];N[B+1]=N[B+3],N[B+3]=I,this._doCryptBlock(N,B,this._invKeySchedule,v,g,A,k,p);var I=N[B+1];N[B+1]=N[B+3],N[B+3]=I},_doCryptBlock:function(N,B,I,D,T,R,$,_){for(var F=this._nRounds,Q=N[B]^I[0],L=N[B+1]^I[1],X=N[B+2]^I[2],le=N[B+3]^I[3],fe=4,V=1;V<F;V++){var H=D[Q>>>24]^T[L>>>16&255]^R[X>>>8&255]^$[le&255]^I[fe++],se=D[L>>>24]^T[X>>>16&255]^R[le>>>8&255]^$[Q&255]^I[fe++],ue=D[X>>>24]^T[le>>>16&255]^R[Q>>>8&255]^$[L&255]^I[fe++],U=D[le>>>24]^T[Q>>>16&255]^R[L>>>8&255]^$[X&255]^I[fe++];Q=H,L=se,X=ue,le=U}var H=(_[Q>>>24]<<24|_[L>>>16&255]<<16|_[X>>>8&255]<<8|_[le&255])^I[fe++],se=(_[L>>>24]<<24|_[X>>>16&255]<<16|_[le>>>8&255]<<8|_[Q&255])^I[fe++],ue=(_[X>>>24]<<24|_[le>>>16&255]<<16|_[Q>>>8&255]<<8|_[L&255])^I[fe++],U=(_[le>>>24]<<24|_[Q>>>16&255]<<16|_[L>>>8&255]<<8|_[X&255])^I[fe++];N[B]=H,N[B+1]=se,N[B+2]=ue,N[B+3]=U},keySize:256/32});o.AES=u._createHelper(j)}(),i.AES})}(zh)),zh.exports}var Lh={exports:{}},cb;function oI(){return cb||(cb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),hl(),pl(),Eo(),vn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=d.BlockCipher,h=o.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],v=h.DES=f.extend({_doReset:function(){for(var E=this._key,j=E.words,N=[],B=0;B<56;B++){var I=p[B]-1;N[B]=j[I>>>5]>>>31-I%32&1}for(var D=this._subKeys=[],T=0;T<16;T++){for(var R=D[T]=[],$=x[T],B=0;B<24;B++)R[B/6|0]|=N[(m[B]-1+$)%28]<<31-B%6,R[4+(B/6|0)]|=N[28+(m[B+24]-1+$)%28]<<31-B%6;R[0]=R[0]<<1|R[0]>>>31;for(var B=1;B<7;B++)R[B]=R[B]>>>(B-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var _=this._invSubKeys=[],B=0;B<16;B++)_[B]=D[15-B]},encryptBlock:function(E,j){this._doCryptBlock(E,j,this._subKeys)},decryptBlock:function(E,j){this._doCryptBlock(E,j,this._invSubKeys)},_doCryptBlock:function(E,j,N){this._lBlock=E[j],this._rBlock=E[j+1],g.call(this,4,252645135),g.call(this,16,65535),A.call(this,2,858993459),A.call(this,8,16711935),g.call(this,1,1431655765);for(var B=0;B<16;B++){for(var I=N[B],D=this._lBlock,T=this._rBlock,R=0,$=0;$<8;$++)R|=y[$][((T^I[$])&w[$])>>>0];this._lBlock=T,this._rBlock=D^R}var _=this._lBlock;this._lBlock=this._rBlock,this._rBlock=_,g.call(this,1,1431655765),A.call(this,8,16711935),A.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),E[j]=this._lBlock,E[j+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(E,j){var N=(this._lBlock>>>E^this._rBlock)&j;this._rBlock^=N,this._lBlock^=N<<E}function A(E,j){var N=(this._rBlock>>>E^this._lBlock)&j;this._lBlock^=N,this._rBlock^=N<<E}o.DES=f._createHelper(v);var k=h.TripleDES=f.extend({_doReset:function(){var E=this._key,j=E.words;if(j.length!==2&&j.length!==4&&j.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var N=j.slice(0,2),B=j.length<4?j.slice(0,2):j.slice(2,4),I=j.length<6?j.slice(0,2):j.slice(4,6);this._des1=v.createEncryptor(u.create(N)),this._des2=v.createEncryptor(u.create(B)),this._des3=v.createEncryptor(u.create(I))},encryptBlock:function(E,j){this._des1.encryptBlock(E,j),this._des2.decryptBlock(E,j),this._des3.encryptBlock(E,j)},decryptBlock:function(E,j){this._des3.decryptBlock(E,j),this._des2.encryptBlock(E,j),this._des1.decryptBlock(E,j)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=f._createHelper(k)}(),i.TripleDES})}(Lh)),Lh.exports}var Qh={exports:{}},db;function lI(){return db||(db=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),hl(),pl(),Eo(),vn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=f.RC4=u.extend({_doReset:function(){for(var x=this._key,y=x.words,w=x.sigBytes,v=this._S=[],g=0;g<256;g++)v[g]=g;for(var g=0,A=0;g<256;g++){var k=g%w,E=y[k>>>2]>>>24-k%4*8&255;A=(A+v[g]+E)%256;var j=v[g];v[g]=v[A],v[A]=j}this._i=this._j=0},_doProcessBlock:function(x,y){x[y]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var x=this._S,y=this._i,w=this._j,v=0,g=0;g<4;g++){y=(y+1)%256,w=(w+x[y])%256;var A=x[y];x[y]=x[w],x[w]=A,v|=x[(x[y]+x[w])%256]<<24-g*8}return this._i=y,this._j=w,v}o.RC4=u._createHelper(h);var m=f.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)p.call(this)}});o.RC4Drop=u._createHelper(m)}(),i.RC4})}(Qh)),Qh.exports}var Hh={exports:{}},ub;function cI(){return ub||(ub=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),hl(),pl(),Eo(),vn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.Rabbit=u.extend({_doReset:function(){for(var w=this._key.words,v=this.cfg.iv,g=0;g<4;g++)w[g]=(w[g]<<8|w[g]>>>24)&16711935|(w[g]<<24|w[g]>>>8)&4278255360;var A=this._X=[w[0],w[3]<<16|w[2]>>>16,w[1],w[0]<<16|w[3]>>>16,w[2],w[1]<<16|w[0]>>>16,w[3],w[2]<<16|w[1]>>>16],k=this._C=[w[2]<<16|w[2]>>>16,w[0]&4294901760|w[1]&65535,w[3]<<16|w[3]>>>16,w[1]&4294901760|w[2]&65535,w[0]<<16|w[0]>>>16,w[2]&4294901760|w[3]&65535,w[1]<<16|w[1]>>>16,w[3]&4294901760|w[0]&65535];this._b=0;for(var g=0;g<4;g++)y.call(this);for(var g=0;g<8;g++)k[g]^=A[g+4&7];if(v){var E=v.words,j=E[0],N=E[1],B=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D=B>>>16|I&4294901760,T=I<<16|B&65535;k[0]^=B,k[1]^=D,k[2]^=I,k[3]^=T,k[4]^=B,k[5]^=D,k[6]^=I,k[7]^=T;for(var g=0;g<4;g++)y.call(this)}},_doProcessBlock:function(w,v){var g=this._X;y.call(this),h[0]=g[0]^g[5]>>>16^g[3]<<16,h[1]=g[2]^g[7]>>>16^g[5]<<16,h[2]=g[4]^g[1]>>>16^g[7]<<16,h[3]=g[6]^g[3]>>>16^g[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,w[v+A]^=h[A]},blockSize:128/32,ivSize:64/32});function y(){for(var w=this._X,v=this._C,g=0;g<8;g++)p[g]=v[g];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<p[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<p[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<p[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<p[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<p[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<p[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<p[6]>>>0?1:0)|0,this._b=v[7]>>>0<p[7]>>>0?1:0;for(var g=0;g<8;g++){var A=w[g]+v[g],k=A&65535,E=A>>>16,j=((k*k>>>17)+k*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[g]=j^N}w[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,w[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,w[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,w[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,w[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,w[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,w[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,w[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.Rabbit=u._createHelper(x)}(),i.Rabbit})}(Hh)),Hh.exports}var $h={exports:{}},fb;function dI(){return fb||(fb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),hl(),pl(),Eo(),vn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.RabbitLegacy=u.extend({_doReset:function(){var w=this._key.words,v=this.cfg.iv,g=this._X=[w[0],w[3]<<16|w[2]>>>16,w[1],w[0]<<16|w[3]>>>16,w[2],w[1]<<16|w[0]>>>16,w[3],w[2]<<16|w[1]>>>16],A=this._C=[w[2]<<16|w[2]>>>16,w[0]&4294901760|w[1]&65535,w[3]<<16|w[3]>>>16,w[1]&4294901760|w[2]&65535,w[0]<<16|w[0]>>>16,w[2]&4294901760|w[3]&65535,w[1]<<16|w[1]>>>16,w[3]&4294901760|w[0]&65535];this._b=0;for(var k=0;k<4;k++)y.call(this);for(var k=0;k<8;k++)A[k]^=g[k+4&7];if(v){var E=v.words,j=E[0],N=E[1],B=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D=B>>>16|I&4294901760,T=I<<16|B&65535;A[0]^=B,A[1]^=D,A[2]^=I,A[3]^=T,A[4]^=B,A[5]^=D,A[6]^=I,A[7]^=T;for(var k=0;k<4;k++)y.call(this)}},_doProcessBlock:function(w,v){var g=this._X;y.call(this),h[0]=g[0]^g[5]>>>16^g[3]<<16,h[1]=g[2]^g[7]>>>16^g[5]<<16,h[2]=g[4]^g[1]>>>16^g[7]<<16,h[3]=g[6]^g[3]>>>16^g[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,w[v+A]^=h[A]},blockSize:128/32,ivSize:64/32});function y(){for(var w=this._X,v=this._C,g=0;g<8;g++)p[g]=v[g];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<p[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<p[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<p[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<p[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<p[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<p[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<p[6]>>>0?1:0)|0,this._b=v[7]>>>0<p[7]>>>0?1:0;for(var g=0;g<8;g++){var A=w[g]+v[g],k=A&65535,E=A>>>16,j=((k*k>>>17)+k*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[g]=j^N}w[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,w[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,w[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,w[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,w[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,w[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,w[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,w[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.RabbitLegacy=u._createHelper(x)}(),i.RabbitLegacy})}($h)),$h.exports}var qh={exports:{}},hb;function uI(){return hb||(hb=1,function(a,n){(function(i,o,d){a.exports=o(Xr(),hl(),pl(),Eo(),vn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.BlockCipher,f=o.algo;const h=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function y(k,E){let j=E>>24&255,N=E>>16&255,B=E>>8&255,I=E&255,D=k.sbox[0][j]+k.sbox[1][N];return D=D^k.sbox[2][B],D=D+k.sbox[3][I],D}function w(k,E,j){let N=E,B=j,I;for(let D=0;D<h;++D)N=N^k.pbox[D],B=y(k,N)^B,I=N,N=B,B=I;return I=N,N=B,B=I,B=B^k.pbox[h],N=N^k.pbox[h+1],{left:N,right:B}}function v(k,E,j){let N=E,B=j,I;for(let D=h+1;D>1;--D)N=N^k.pbox[D],B=y(k,N)^B,I=N,N=B,B=I;return I=N,N=B,B=I,B=B^k.pbox[1],N=N^k.pbox[0],{left:N,right:B}}function g(k,E,j){for(let T=0;T<4;T++){k.sbox[T]=[];for(let R=0;R<256;R++)k.sbox[T][R]=m[T][R]}let N=0;for(let T=0;T<h+2;T++)k.pbox[T]=p[T]^E[N],N++,N>=j&&(N=0);let B=0,I=0,D=0;for(let T=0;T<h+2;T+=2)D=w(k,B,I),B=D.left,I=D.right,k.pbox[T]=B,k.pbox[T+1]=I;for(let T=0;T<4;T++)for(let R=0;R<256;R+=2)D=w(k,B,I),B=D.left,I=D.right,k.sbox[T][R]=B,k.sbox[T][R+1]=I;return!0}var A=f.Blowfish=u.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var k=this._keyPriorReset=this._key,E=k.words,j=k.sigBytes/4;g(x,E,j)}},encryptBlock:function(k,E){var j=w(x,k[E],k[E+1]);k[E]=j.left,k[E+1]=j.right},decryptBlock:function(k,E){var j=v(x,k[E],k[E+1]);k[E]=j.left,k[E+1]=j.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=u._createHelper(A)}(),i.Blowfish})}(qh)),qh.exports}(function(a,n){(function(i,o,d){a.exports=o(Xr(),Mu(),LC(),QC(),hl(),HC(),pl(),qy(),Rm(),$C(),Gy(),qC(),GC(),VC(),Mm(),YC(),Eo(),vn(),KC(),WC(),JC(),XC(),ZC(),eI(),tI(),rI(),aI(),sI(),nI(),iI(),oI(),lI(),cI(),dI(),uI())})(vr,function(i){return i})})($y);var fI=$y.exports;const hI=pu(fI),x1=z1(L1((a,n)=>({logs:[],addLog:(i,o,d=null,u=null)=>{const f={id:`LOG${Date.now()}`,timestamp:new Date().toISOString(),action:i,details:o,userId:d,userName:u,ipAddress:null};return a(h=>({logs:[f,...h.logs].slice(0,5e3)})),f},getLogsByAction:i=>n().logs.filter(o=>o.action===i),getLogsByUser:i=>n().logs.filter(o=>o.userId===i),getLogsByDateRange:(i,o)=>{const d=new Date(i);d.setHours(0,0,0,0);const u=new Date(o);return u.setHours(23,59,59,999),n().logs.filter(f=>{const h=new Date(f.timestamp);return h>=d&&h<=u})},getRecentLogs:(i=50)=>n().logs.slice(0,i),clearOldLogs:(i=30)=>{const o=new Date;o.setDate(o.getDate()-i),a(d=>({logs:d.logs.filter(u=>new Date(u.timestamp)>o)}))},exportLogs:(i=null,o=null)=>{let d=n().logs;return i&&o&&(d=n().getLogsByDateRange(i,o)),JSON.stringify(d,null,2)}}),{name:"audit-storage"})),Ci={LOGIN:"login",LOGOUT:"logout",LOGIN_FAILED:"login_failed",TRANSACTION_CREATE:"transaction_create",TRANSACTION_VOID:"transaction_void",PRODUCT_ADD:"product_add",PRODUCT_EDIT:"product_edit",PRODUCT_DELETE:"product_delete",STOCK_ADJUST:"stock_adjust",STOCK_PURCHASE:"stock_purchase",STOCK_OPNAME:"stock_opname"},m0=a=>hI.SHA256(a).toString(),pb=(a,n)=>m0(a)===n||a===n,Vy={all:"Semua Akses",pos:"Kasir (POS)",products:"Kelola Produk",products_view:"Lihat Produk",stock:"Kelola Stok",customers:"Kelola Pelanggan",customers_view:"Lihat Pelanggan",sales:"Lihat Penjualan",purchases:"Pembelian & Supplier",reports:"Laporan",marketplace:"Marketplace (Shopee)",settings:"Pengaturan"},Ei=z1(L1((a,n)=>({user:null,isAuthenticated:!1,users:[{id:1,username:"admin",password:m0("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}},{id:2,username:"kasir",password:m0("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}}],login:(i,o)=>{const d=n().users,u=d.find(h=>h.username===i&&pb(o,h.password)&&h.isActive!==!1);if(u){const{password:h,...p}=u;return a({user:p,isAuthenticated:!0}),x1.getState().addLog(Ci.LOGIN,{username:u.username,role:u.role},u.id,u.name),{success:!0}}x1.getState().addLog(Ci.LOGIN_FAILED,{username:i,reason:"Invalid credentials"},null,null);const f=d.find(h=>h.username===i&&pb(o,h.password));return f&&!f.isActive?{success:!1,error:"Akun tidak aktif. Hubungi administrator."}:{success:!1,error:"Username atau password salah"}},logout:()=>{const i=n().user;i&&x1.getState().addLog(Ci.LOGOUT,{username:i.username},i.id,i.name),a({user:null,isAuthenticated:!1})},addUser:i=>{const o=n().users;if(o.some(u=>u.username.toLowerCase()===i.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const d={id:Date.now(),username:i.username,password:m0(i.password),name:i.name,role:i.role||"cashier",permissions:i.permissions||["pos","products_view"],isActive:!0,createdAt:new Date().toISOString(),marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}};return a({users:[...o,d]}),{success:!0,user:d}},updateUser:(i,o)=>{const d=n().users,u=n().user,f=d.find(p=>p.id===i);if((f==null?void 0:f.id)===1&&(u==null?void 0:u.id)!==1)return{success:!1,error:"Tidak bisa mengedit admin utama"};if(o.username&&d.find(m=>m.id!==i&&m.username.toLowerCase()===o.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const h=d.map(p=>p.id===i?{...p,...o,updatedAt:new Date().toISOString()}:p);if(a({users:h}),(u==null?void 0:u.id)===i){const p=h.find(y=>y.id===i),{password:m,...x}=p;a({user:x})}return{success:!0}},deleteUser:i=>{const o=n().users,d=n().user;return(d==null?void 0:d.id)===i?{success:!1,error:"Tidak bisa menghapus akun sendiri"}:i===1?{success:!1,error:"Tidak bisa menghapus admin utama"}:(a({users:o.filter(u=>u.id!==i)}),{success:!0})},toggleUserActive:i=>{const o=n().users,d=n().user;if((d==null?void 0:d.id)===i)return{success:!1,error:"Tidak bisa menonaktifkan akun sendiri"};if(i===1)return{success:!1,error:"Tidak bisa menonaktifkan admin utama"};const u=o.map(f=>f.id===i?{...f,isActive:!f.isActive}:f);return a({users:u}),{success:!0}},changePassword:(i,o)=>{const u=n().users.map(f=>f.username===i?{...f,password:m0(o)}:f);a({users:u})},updateMarketplaceCredentials:(i,o,d)=>{const u=n().users,f=n().user,h=u.map(p=>{var m;return p.id===i?{...p,marketplaceCredentials:{...p.marketplaceCredentials,[o]:{...(m=p.marketplaceCredentials)==null?void 0:m[o],...d}}}:p});if(a({users:h}),(f==null?void 0:f.id)===i){const p=h.find(y=>y.id===i),{password:m,...x}=p;a({user:x})}return{success:!0}},getMyMarketplaceCredentials:i=>{var f;const o=n().user;if(!o)return null;const u=n().users.find(h=>h.id===o.id);return((f=u==null?void 0:u.marketplaceCredentials)==null?void 0:f[i])||null},getUserById:i=>n().users.find(d=>d.id===i),hasPermission:i=>{const o=n();return o.user?o.user.permissions.includes("all")?!0:o.user.permissions.includes(i):!1},isAdmin:()=>{var o,d,u;const i=n();return((o=i.user)==null?void 0:o.role)==="admin"||((u=(d=i.user)==null?void 0:d.permissions)==null?void 0:u.includes("all"))}}),{name:"auth-storage"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var lc;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(lc||(lc={}));class Gh extends Error{constructor(n,i,o){super(n),this.message=n,this.code=i,this.data=o}}const pI=a=>{var n,i;return a!=null&&a.androidBridge?"android":!((i=(n=a==null?void 0:a.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},mI=a=>{const n=a.CapacitorCustomPlatform||null,i=a.Capacitor||{},o=i.Plugins=i.Plugins||{},d=()=>n!==null?n.name:pI(a),u=()=>d()!=="web",f=y=>{const w=m.get(y);return!!(w!=null&&w.platforms.has(d())||h(y))},h=y=>{var w;return(w=i.PluginHeaders)===null||w===void 0?void 0:w.find(v=>v.name===y)},p=y=>a.console.error(y),m=new Map,x=(y,w={})=>{const v=m.get(y);if(v)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),v.proxy;const g=d(),A=h(y);let k;const E=async()=>(!k&&g in w?k=typeof w[g]=="function"?k=await w[g]():k=w[g]:n!==null&&!k&&"web"in w&&(k=typeof w.web=="function"?k=await w.web():k=w.web),k),j=(R,$)=>{var _,F;if(A){const Q=A==null?void 0:A.methods.find(L=>$===L.name);if(Q)return Q.rtype==="promise"?L=>i.nativePromise(y,$.toString(),L):(L,X)=>i.nativeCallback(y,$.toString(),L,X);if(R)return(_=R[$])===null||_===void 0?void 0:_.bind(R)}else{if(R)return(F=R[$])===null||F===void 0?void 0:F.bind(R);throw new Gh(`"${y}" plugin is not implemented on ${g}`,lc.Unimplemented)}},N=R=>{let $;const _=(...F)=>{const Q=E().then(L=>{const X=j(L,R);if(X){const le=X(...F);return $=le==null?void 0:le.remove,le}else throw new Gh(`"${y}.${R}()" is not implemented on ${g}`,lc.Unimplemented)});return R==="addListener"&&(Q.remove=async()=>$()),Q};return _.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:R,writable:!1,configurable:!1}),_},B=N("addListener"),I=N("removeListener"),D=(R,$)=>{const _=B({eventName:R},$),F=async()=>{const L=await _;I({eventName:R,callbackId:L},$)},Q=new Promise(L=>_.then(()=>L({remove:F})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},Q},T=new Proxy({},{get(R,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?D:B;case"removeListener":return I;default:return N($)}}});return o[y]=T,m.set(y,{name:y,proxy:T,platforms:new Set([...Object.keys(w),...A?[g]:[]])}),T};return i.convertFileSrc||(i.convertFileSrc=y=>y),i.getPlatform=d,i.handleError=p,i.isNativePlatform=u,i.isPluginAvailable=f,i.registerPlugin=x,i.Exception=Gh,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},xI=a=>a.Capacitor=mI(a),go=xI(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ml=go.registerPlugin;class Yy{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,i){let o=!1;this.listeners[n]||(this.listeners[n]=[],o=!0),this.listeners[n].push(i);const u=this.windowListeners[n];u&&!u.registered&&this.addWindowListener(u),o&&this.sendRetainedArgumentsForEvent(n);const f=async()=>this.removeListener(n,i);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i,o){const d=this.listeners[n];if(!d){if(o){let u=this.retainedEventArguments[n];u||(u=[]),u.push(i),this.retainedEventArguments[n]=u}return}d.forEach(u=>u(i))}hasListeners(n){var i;return!!(!((i=this.listeners[n])===null||i===void 0)&&i.length)}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:o=>{this.notifyListeners(i,o)}}}unimplemented(n="not implemented"){return new go.Exception(n,lc.Unimplemented)}unavailable(n="not available"){return new go.Exception(n,lc.Unavailable)}async removeListener(n,i){const o=this.listeners[n];if(!o)return;const d=o.indexOf(i);this.listeners[n].splice(d,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const i=this.retainedEventArguments[n];i&&(delete this.retainedEventArguments[n],i.forEach(o=>{this.notifyListeners(n,o)}))}}const mb=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),xb=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class vI extends Yy{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(o=>{if(o.length<=0)return;let[d,u]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");d=xb(d).trim(),u=xb(u).trim(),i[d]=u}),i}async setCookie(n){try{const i=mb(n.key),o=mb(n.value),d=`; expires=${(n.expires||"").replace("expires=","")}`,u=(n.path||"/").replace("path=",""),f=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${o||""}${d}; path=${u}; ${f};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}ml("CapacitorCookies",{web:()=>new vI});const gI=async a=>new Promise((n,i)=>{const o=new FileReader;o.onload=()=>{const d=o.result;n(d.indexOf(",")>=0?d.split(",")[1]:d)},o.onerror=d=>i(d),o.readAsDataURL(a)}),bI=(a={})=>{const n=Object.keys(a);return Object.keys(a).map(d=>d.toLocaleLowerCase()).reduce((d,u,f)=>(d[u]=a[n[f]],d),{})},yI=(a,n=!0)=>a?Object.entries(a).reduce((o,d)=>{const[u,f]=d;let h,p;return Array.isArray(f)?(p="",f.forEach(m=>{h=n?encodeURIComponent(m):m,p+=`${u}=${h}&`}),p.slice(0,-1)):(h=n?encodeURIComponent(f):f,p=`${u}=${h}`),`${o}&${p}`},"").substr(1):null,wI=(a,n={})=>{const i=Object.assign({method:a.method||"GET",headers:a.headers},n),d=bI(a.headers)["content-type"]||"";if(typeof a.data=="string")i.body=a.data;else if(d.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[f,h]of Object.entries(a.data||{}))u.set(f,h);i.body=u.toString()}else if(d.includes("multipart/form-data")||a.data instanceof FormData){const u=new FormData;if(a.data instanceof FormData)a.data.forEach((h,p)=>{u.append(p,h)});else for(const h of Object.keys(a.data))u.append(h,a.data[h]);i.body=u;const f=new Headers(i.headers);f.delete("content-type"),i.headers=f}else(d.includes("application/json")||typeof a.data=="object")&&(i.body=JSON.stringify(a.data));return i};class AI extends Yy{async request(n){const i=wI(n,n.webFetchExtra),o=yI(n.params,n.shouldEncodeUrlParams),d=o?`${n.url}?${o}`:n.url,u=await fetch(d,i),f=u.headers.get("content-type")||"";let{responseType:h="text"}=u.ok?n:{};f.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await u.blob(),p=await gI(m);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const x={};return u.headers.forEach((y,w)=>{x[w]=y}),{data:p,headers:x,status:u.status,url:u.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}ml("CapacitorHttp",{web:()=>new AI});go.isNativePlatform();const O1=go.getPlatform()==="android";go.getPlatform();go.getPlatform();go.getPlatform();var _m={},Wd={},s3=function(a,n){return s3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d])},s3(a,n)};function Ky(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s3(a,n);function i(){this.constructor=a}a.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Jd=function(){return Jd=Object.assign||function(n){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},Jd.apply(this,arguments)};function wc(a,n){var i={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(a);d<o.length;d++)n.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(a,o[d])&&(i[o[d]]=a[o[d]]);return i}function Wy(a,n,i,o){var d=arguments.length,u=d<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,i):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,i,o);else for(var h=a.length-1;h>=0;h--)(f=a[h])&&(u=(d<3?f(u):d>3?f(n,i,u):f(n,i))||u);return d>3&&u&&Object.defineProperty(n,i,u),u}function Jy(a,n){return function(i,o){n(i,o,a)}}function Xy(a,n,i,o,d,u){function f(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var h=o.kind,p=h==="getter"?"get":h==="setter"?"set":"value",m=!n&&a?o.static?a:a.prototype:null,x=n||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),y,w=!1,v=i.length-1;v>=0;v--){var g={};for(var A in o)g[A]=A==="access"?{}:o[A];for(var A in o.access)g.access[A]=o.access[A];g.addInitializer=function(E){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(E||null))};var k=(0,i[v])(h==="accessor"?{get:x.get,set:x.set}:x[p],g);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(y=f(k.get))&&(x.get=y),(y=f(k.set))&&(x.set=y),(y=f(k.init))&&d.unshift(y)}else(y=f(k))&&(h==="field"?d.unshift(y):x[p]=y)}m&&Object.defineProperty(m,o.name,x),w=!0}function Zy(a,n,i){for(var o=arguments.length>2,d=0;d<n.length;d++)i=o?n[d].call(a,i):n[d].call(a);return o?i:void 0}function e5(a){return typeof a=="symbol"?a:"".concat(a)}function t5(a,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function r5(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function Ot(a,n,i,o){function d(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(x){try{m(o.next(x))}catch(y){f(y)}}function p(x){try{m(o.throw(x))}catch(y){f(y)}}function m(x){x.done?u(x.value):d(x.value).then(h,p)}m((o=o.apply(a,n||[])).next())})}function a5(a,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,d,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(m){return function(x){return p([m,x])}}function p(m){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(o=1,d&&(u=m[0]&2?d.return:m[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,m[1])).done)return u;switch(d=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,d=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(a,i)}catch(x){m=[6,x],d=0}finally{o=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var _u=Object.create?function(a,n,i,o){o===void 0&&(o=i);var d=Object.getOwnPropertyDescriptor(n,i);(!d||("get"in d?!n.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(a,o,d)}:function(a,n,i,o){o===void 0&&(o=i),a[o]=n[i]};function s5(a,n){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&_u(n,a,i)}function Xd(a){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&a[n],o=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fm(a,n){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var o=i.call(a),d,u=[],f;try{for(;(n===void 0||n-- >0)&&!(d=o.next()).done;)u.push(d.value)}catch(h){f={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(f)throw f.error}}return u}function n5(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(Fm(arguments[n]));return a}function i5(){for(var a=0,n=0,i=arguments.length;n<i;n++)a+=arguments[n].length;for(var o=Array(a),d=0,n=0;n<i;n++)for(var u=arguments[n],f=0,h=u.length;f<h;f++,d++)o[d]=u[f];return o}function o5(a,n,i){if(i||arguments.length===2)for(var o=0,d=n.length,u;o<d;o++)(u||!(o in n))&&(u||(u=Array.prototype.slice.call(n,0,o)),u[o]=n[o]);return a.concat(u||Array.prototype.slice.call(n))}function cc(a){return this instanceof cc?(this.v=a,this):new cc(a)}function l5(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(a,n||[]),d,u=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),d[Symbol.asyncIterator]=function(){return this},d;function f(v){return function(g){return Promise.resolve(g).then(v,y)}}function h(v,g){o[v]&&(d[v]=function(A){return new Promise(function(k,E){u.push([v,A,k,E])>1||p(v,A)})},g&&(d[v]=g(d[v])))}function p(v,g){try{m(o[v](g))}catch(A){w(u[0][3],A)}}function m(v){v.value instanceof cc?Promise.resolve(v.value.v).then(x,y):w(u[0][2],v)}function x(v){p("next",v)}function y(v){p("throw",v)}function w(v,g){v(g),u.shift(),u.length&&p(u[0][0],u[0][1])}}function c5(a){var n,i;return n={},o("next"),o("throw",function(d){throw d}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(d,u){n[d]=a[d]?function(f){return(i=!i)?{value:cc(a[d](f)),done:!1}:u?u(f):f}:u}}function d5(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],i;return n?n.call(a):(a=typeof Xd=="function"?Xd(a):a[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=a[u]&&function(f){return new Promise(function(h,p){f=a[u](f),d(h,p,f.done,f.value)})}}function d(u,f,h,p){Promise.resolve(p).then(function(m){u({value:m,done:h})},f)}}function u5(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var kI=Object.create?function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}:function(a,n){a.default=n},n3=function(a){return n3=Object.getOwnPropertyNames||function(n){var i=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[i.length]=o);return i},n3(a)};function f5(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var i=n3(a),o=0;o<i.length;o++)i[o]!=="default"&&_u(n,a,i[o]);return kI(n,a),n}function h5(a){return a&&a.__esModule?a:{default:a}}function p5(a,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!o:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(a):o?o.value:n.get(a)}function m5(a,n,i,o,d){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!d:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?d.call(a,i):d?d.value=i:n.set(a,i),i}function x5(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function v5(a,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var o,d;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose],i&&(d=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");d&&(o=function(){try{d.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:o,async:i})}else i&&a.stack.push({async:!0});return n}var jI=typeof SuppressedError=="function"?SuppressedError:function(a,n,i){var o=new Error(i);return o.name="SuppressedError",o.error=a,o.suppressed=n,o};function g5(a){function n(u){a.error=a.hasError?new jI(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var i,o=0;function d(){for(;i=a.stack.pop();)try{if(!i.async&&o===1)return o=0,a.stack.push(i),Promise.resolve().then(d);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(u).then(d,function(f){return n(f),d()})}else o|=1}catch(f){n(f)}if(o===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return d()}function b5(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,d,u,f){return o?n?".jsx":".js":d&&(!u||!f)?i:d+u+"."+f.toLowerCase()+"js"}):a}const NI={__extends:Ky,__assign:Jd,__rest:wc,__decorate:Wy,__param:Jy,__esDecorate:Xy,__runInitializers:Zy,__propKey:e5,__setFunctionName:t5,__metadata:r5,__awaiter:Ot,__generator:a5,__createBinding:_u,__exportStar:s5,__values:Xd,__read:Fm,__spread:n5,__spreadArrays:i5,__spreadArray:o5,__await:cc,__asyncGenerator:l5,__asyncDelegator:c5,__asyncValues:d5,__makeTemplateObject:u5,__importStar:f5,__importDefault:h5,__classPrivateFieldGet:p5,__classPrivateFieldSet:m5,__classPrivateFieldIn:x5,__addDisposableResource:v5,__disposeResources:g5,__rewriteRelativeImportExtension:b5},SI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:v5,get __assign(){return Jd},__asyncDelegator:c5,__asyncGenerator:l5,__asyncValues:d5,__await:cc,__awaiter:Ot,__classPrivateFieldGet:p5,__classPrivateFieldIn:x5,__classPrivateFieldSet:m5,__createBinding:_u,__decorate:Wy,__disposeResources:g5,__esDecorate:Xy,__exportStar:s5,__extends:Ky,__generator:a5,__importDefault:h5,__importStar:f5,__makeTemplateObject:u5,__metadata:r5,__param:Jy,__propKey:e5,__read:Fm,__rest:wc,__rewriteRelativeImportExtension:b5,__runInitializers:Zy,__setFunctionName:t5,__spread:n5,__spreadArray:o5,__spreadArrays:i5,__values:Xd,default:NI},Symbol.toStringTag,{value:"Module"})),EI=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);let Fu=class extends Error{constructor(n,i="FunctionsError",o){super(n),this.name=i,this.context=o}},y5=class extends Fu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},i3=class extends Fu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},o3=class extends Fu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Zd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Zd||(Zd={}));class CI{constructor(n,{headers:i={},customFetch:o,region:d=Zd.Any}={}){this.url=n,this.headers=i,this.region=d,this.fetch=EI(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Ot(this,arguments,void 0,function*(i,o={}){var d;let u,f;try{const{headers:h,method:p,body:m,signal:x,timeout:y}=o;let w={},{region:v}=o;v||(v=this.region);const g=new URL(`${this.url}/${i}`);v&&v!=="any"&&(w["x-region"]=v,g.searchParams.set("forceFunctionRegion",v));let A;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",A=m):typeof m=="string"?(w["Content-Type"]="text/plain",A=m):typeof FormData<"u"&&m instanceof FormData?A=m:(w["Content-Type"]="application/json",A=JSON.stringify(m)):A=m;let k=x;y&&(f=new AbortController,u=setTimeout(()=>f.abort(),y),x?(k=f.signal,x.addEventListener("abort",()=>f.abort())):k=f.signal);const E=yield this.fetch(g.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:A,signal:k}).catch(I=>{throw new y5(I)}),j=E.headers.get("x-relay-error");if(j&&j==="true")throw new i3(E);if(!E.ok)throw new o3(E);let N=((d=E.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),B;return N==="application/json"?B=yield E.json():N==="application/octet-stream"||N==="application/pdf"?B=yield E.blob():N==="text/event-stream"?B=E:N==="multipart/form-data"?B=yield E.formData():B=yield E.text(),{data:B,error:null,response:E}}catch(h){return{data:null,error:h,response:h instanceof o3||h instanceof i3?h.context:void 0}}finally{u&&clearTimeout(u)}})}}const II=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Zd},FunctionsClient:CI,FunctionsError:Fu,FunctionsFetchError:y5,FunctionsHttpError:o3,FunctionsRelayError:i3},Symbol.toStringTag,{value:"Module"})),w5=mc(II);var On={};const Ac=mc(SI);var V2={},Y2={},K2={},W2={},J2={},X2={},vb;function A5(){if(vb)return X2;vb=1,Object.defineProperty(X2,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return X2.default=a,X2}var gb;function k5(){if(gb)return J2;gb=1,Object.defineProperty(J2,"__esModule",{value:!0});const n=Ac.__importDefault(A5());let i=class{constructor(d){var u,f;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(u=d.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=d.signal,this.isMaybeSingle=(f=d.isMaybeSingle)!==null&&f!==void 0?f:!1,d.fetch?this.fetch=d.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,u){return this.headers=new Headers(this.headers),this.headers.set(d,u),this}then(d,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,x,y,w;let v=null,g=null,A=null,k=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?g=I:g=JSON.parse(I))}const N=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&B&&B.length>1&&(A=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,A=null,k=406,E="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const N=await p.text();try{v=JSON.parse(N),Array.isArray(v)&&p.status===404&&(g=[],v=null,k=200,E="OK")}catch{p.status===404&&N===""?(k=204,E="No Content"):v={message:N}}if(v&&this.isMaybeSingle&&(!((w=v==null?void 0:v.details)===null||w===void 0)&&w.includes("0 rows"))&&(v=null,k=200,E="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:g,count:A,status:k,statusText:E}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,x,y,w,v,g;let A="";const k=p==null?void 0:p.cause;if(k){const E=(m=k==null?void 0:k.message)!==null&&m!==void 0?m:"",j=(x=k==null?void 0:k.code)!==null&&x!==void 0?x:"";A=`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,A+=`

Caused by: ${(w=k==null?void 0:k.name)!==null&&w!==void 0?w:"Error"}: ${E}`,j&&(A+=` (${j})`),k!=null&&k.stack&&(A+=`
${k.stack}`)}else A=(v=p==null?void 0:p.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(d,u)}returns(){return this}overrideTypes(){return this}};return J2.default=i,J2}var bb;function j5(){if(bb)return W2;bb=1,Object.defineProperty(W2,"__esModule",{value:!0});const n=Ac.__importDefault(k5());let i=class extends n.default{select(d){let u=!1;const f=(d??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:u=!0,nullsFirst:f,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${d}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${d}`),this}range(d,u,{foreignTable:f,referencedTable:h=f}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${d}`),this.url.searchParams.set(m,`${u-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:u=!1,settings:f=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var x;const y=[d?"analyze":null,u?"verbose":null,f?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}};return W2.default=i,W2}var yb;function Pm(){if(yb)return K2;yb=1,Object.defineProperty(K2,"__esModule",{value:!0});const n=Ac.__importDefault(j5()),i=new RegExp("[,()]");let o=class extends n.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}regexMatch(u,f){return this.url.searchParams.append(u,`match.${f}`),this}regexIMatch(u,f){return this.url.searchParams.append(u,`imatch.${f}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}isDistinct(u,f){return this.url.searchParams.append(u,`isdistinct.${f}`),this}in(u,f){const h=Array.from(new Set(f)).map(p=>typeof p=="string"&&i.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${m}fts${x}.${f}`),this}match(u){return Object.entries(u).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(u,f,h){return this.url.searchParams.append(u,`not.${f}.${h}`),this}or(u,{foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,f,h){return this.url.searchParams.append(u,`${f}.${h}`),this}};return K2.default=o,K2}var wb;function N5(){if(wb)return Y2;wb=1,Object.defineProperty(Y2,"__esModule",{value:!0});const n=Ac.__importDefault(Pm());let i=class{constructor(d,{headers:u={},schema:f,fetch:h}){this.url=d,this.headers=new Headers(u),this.schema=f,this.fetch=h}select(d,u){const{head:f=!1,count:h}=u??{},p=f?"HEAD":"GET";let m=!1;const x=(d??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:u,defaultToNull:f=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const m=d.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(d,{onConflict:u,ignoreDuplicates:f=!1,count:h,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const y=d.reduce((w,v)=>w.concat(Object.keys(v)),[]);if(y.length>0){const w=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(d,{count:u}={}){var f;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:d}={}){var u;const f="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Y2.default=i,Y2}var Ab;function BI(){if(Ab)return V2;Ab=1,Object.defineProperty(V2,"__esModule",{value:!0});const a=Ac,n=a.__importDefault(N5()),i=a.__importDefault(Pm());let o=class S5{constructor(u,{headers:f={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(f),this.schemaName=h,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new S5(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:h=!1,get:p=!1,count:m}={}){var x;let y;const w=new URL(`${this.url}/rpc/${u}`);let v;h||p?(y=h?"HEAD":"GET",Object.entries(f).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{w.searchParams.append(A,k)})):(y="POST",v=f);const g=new Headers(this.headers);return m&&g.set("Prefer",`count=${m}`),new i.default({method:y,url:w,headers:g,schema:this.schemaName,body:v,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return V2.default=o,V2}Object.defineProperty(On,"__esModule",{value:!0});On.PostgrestError=On.PostgrestBuilder=On.PostgrestTransformBuilder=On.PostgrestFilterBuilder=On.PostgrestQueryBuilder=On.PostgrestClient=void 0;const kc=Ac,E5=kc.__importDefault(BI());On.PostgrestClient=E5.default;const C5=kc.__importDefault(N5());On.PostgrestQueryBuilder=C5.default;const I5=kc.__importDefault(Pm());On.PostgrestFilterBuilder=I5.default;const B5=kc.__importDefault(j5());On.PostgrestTransformBuilder=B5.default;const D5=kc.__importDefault(k5());On.PostgrestBuilder=D5.default;const T5=kc.__importDefault(A5());On.PostgrestError=T5.default;On.default={PostgrestClient:E5.default,PostgrestQueryBuilder:C5.default,PostgrestFilterBuilder:I5.default,PostgrestTransformBuilder:B5.default,PostgrestBuilder:D5.default,PostgrestError:T5.default};class R5{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,d=parseInt(o.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const o=this.getWebSocketConstructor();return new o(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const DI="2.86.2",TI=`realtime-js/${DI}`,M5="1.0.0",RI="2.0.0",kb=M5,l3=1e4,MI=1e3,_I=100;var $o;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})($o||($o={}));var Ws;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ws||(Ws={}));var Yi;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Yi||(Yi={}));var c3;(function(a){a.websocket="websocket"})(c3||(c3={}));var qo;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(qo||(qo={}));class FI{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let o=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,o;const d=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var i,o;const d=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,o){var d,u;const f=n.topic,h=(d=n.ref)!==null&&d!==void 0?d:"",p=(u=n.join_ref)!==null&&u!==void 0?u:"",m=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},y=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+f.length+m.length+y.length,v=new ArrayBuffer(this.HEADER_LENGTH+w);let g=new DataView(v),A=0;g.setUint8(A++,this.KINDS.userBroadcastPush),g.setUint8(A++,p.length),g.setUint8(A++,h.length),g.setUint8(A++,f.length),g.setUint8(A++,m.length),g.setUint8(A++,y.length),g.setUint8(A++,i),Array.from(p,E=>g.setUint8(A++,E.charCodeAt(0))),Array.from(h,E=>g.setUint8(A++,E.charCodeAt(0))),Array.from(f,E=>g.setUint8(A++,E.charCodeAt(0))),Array.from(m,E=>g.setUint8(A++,E.charCodeAt(0))),Array.from(y,E=>g.setUint8(A++,E.charCodeAt(0)));var k=new Uint8Array(v.byteLength+o.byteLength);return k.set(new Uint8Array(v),0),k.set(new Uint8Array(o),v.byteLength),k.buffer}decode(n,i){if(this._isArrayBuffer(n)){let o=this._binaryDecode(n);return i(o)}if(typeof n=="string"){const o=JSON.parse(n),[d,u,f,h,p]=o;return i({join_ref:d,ref:u,topic:f,event:h,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),o=i.getUint8(0),d=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,d)}}_decodeUserBroadcast(n,i,o){const d=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let p=this.HEADER_LENGTH+4;const m=o.decode(n.slice(p,p+d));p=p+d;const x=o.decode(n.slice(p,p+u));p=p+u;const y=o.decode(n.slice(p,p+f));p=p+f;const w=n.slice(p,n.byteLength),v=h===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,g={type:this.BROADCAST_EVENT,event:x,payload:v};return f>0&&(g.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([o])=>i.includes(o)))}}class _5{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Va;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Va||(Va={}));const jb=(a,n,i={})=>{var o;const d=(o=i.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=PI(f,a,n,d),u),{}):{}},PI=(a,n,i,o)=>{const d=n.find(h=>h.name===a),u=d==null?void 0:d.type,f=i[a];return u&&!o.includes(u)?F5(u,f):d3(f)},F5=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return LI(n,i)}switch(a){case Va.bool:return OI(n);case Va.float4:case Va.float8:case Va.int2:case Va.int4:case Va.int8:case Va.numeric:case Va.oid:return UI(n);case Va.json:case Va.jsonb:return zI(n);case Va.timestamp:return QI(n);case Va.abstime:case Va.date:case Va.daterange:case Va.int4range:case Va.int8range:case Va.money:case Va.reltime:case Va.text:case Va.time:case Va.timestamptz:case Va.timetz:case Va.tsrange:case Va.tstzrange:return d3(n);default:return d3(n)}},d3=a=>a,OI=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},UI=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},zI=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},LI=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,o=a[i];if(a[0]==="{"&&o==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>F5(n,h))}return a},QI=a=>typeof a=="string"?a.replace(" ","T"):a,P5=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Vh{constructor(n,i,o={},d=l3){this.channel=n,this.event=i,this.payload=o,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var o;return this._hasReceived(n)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var u3;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(u3||(u3={}));let O5=class vd{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},d=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vd.syncState(this.state,d,u,f),this.pendingDiffs.forEach(p=>{this.state=vd.syncDiff(this.state,p,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},d=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=vd.syncDiff(this.state,d,u,f),h())}),this.onJoin((d,u,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:u,newPresences:f})}),this.onLeave((d,u,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,o,d){const u=this.cloneDeep(n),f=this.transformState(i),h={},p={};return this.map(u,(m,x)=>{f[m]||(p[m]=x)}),this.map(f,(m,x)=>{const y=u[m];if(y){const w=x.map(k=>k.presence_ref),v=y.map(k=>k.presence_ref),g=x.filter(k=>v.indexOf(k.presence_ref)<0),A=y.filter(k=>w.indexOf(k.presence_ref)<0);g.length>0&&(h[m]=g),A.length>0&&(p[m]=A)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:p},o,d)}static syncDiff(n,i,o,d){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),d||(d=()=>{}),this.map(u,(h,p)=>{var m;const x=(m=n[h])!==null&&m!==void 0?m:[];if(n[h]=this.cloneDeep(p),x.length>0){const y=n[h].map(v=>v.presence_ref),w=x.filter(v=>y.indexOf(v.presence_ref)<0);n[h].unshift(...w)}o(h,x,p)}),this.map(f,(h,p)=>{let m=n[h];if(!m)return;const x=p.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),n[h]=m,d(h,m,p),m.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(o=>i(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,o)=>{const d=n[o];return"metas"in d?i[o]=d.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[o]=d,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var f3;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(f3||(f3={}));var Wl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Wl||(Wl={}));var p1;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(p1||(p1={}));const HI=Ws;let U5=class z5{constructor(n,i={config:{}},o){var d,u;if(this.topic=n,this.params=i,this.socket=o,this.bindings={},this.state=Ws.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Vh(this,Yi.join,this.params,this.timeout),this.rejoinTimer=new _5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ws.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ws.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ws.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yi.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new O5(this),this.broadcastEndpointURL=P5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var o,d,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ws.closed){const{config:{broadcast:f,presence:h,private:p}}=this.params,m=(d=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(v=>v.filter))!==null&&d!==void 0?d:[],x=!!this.bindings[Wl.PRESENCE]&&this.bindings[Wl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},w={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(v=>n==null?void 0:n(p1.CHANNEL_ERROR,v)),this._onClose(()=>n==null?void 0:n(p1.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:v})=>{var g;if(this.socket.setAuth(),v===void 0){n==null||n(p1.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,k=(g=A==null?void 0:A.length)!==null&&g!==void 0?g:0,E=[];for(let j=0;j<k;j++){const N=A[j],{filter:{event:B,schema:I,table:D,filter:T}}=N,R=v&&v[j];if(R&&R.event===B&&R.schema===I&&R.table===D&&R.filter===T)E.push(Object.assign(Object.assign({},N),{id:R.id}));else{this.unsubscribe(),this.state=Ws.errored,n==null||n(p1.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(p1.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ws.errored,n==null||n(p1.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(p1.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,o){return this.state===Ws.joined&&n===Wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,o)}async httpSend(n,i,o={}){var d;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var o,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((d=m.body)===null||d===void 0?void 0:d.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,p;const m=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ws.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yi.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(d=>{o=new Vh(this,Yi.leave,{},n),o.receive("ok",()=>{i(),d("ok")}).receive("timeout",()=>{i(),d("timed out")}).receive("error",()=>{d("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ws.closed,this.bindings={}}async _fetchWithTimeout(n,i,o){const d=new AbortController,u=setTimeout(()=>d.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:d.signal}));return clearTimeout(u),f}_push(n,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Vh(this,n,i,o);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>_I){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,o){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,o){var d,u;const f=n.toLocaleLowerCase(),{close:h,error:p,leave:m,join:x}=Yi;if(o&&[h,p,m,x].indexOf(f)>=0&&o!==this._joinRef())return;let w=this._onMessage(f,i,o);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(v=>{var g,A,k;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((k=(A=v.filter)===null||A===void 0?void 0:A.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(v=>v.callback(w,o)):(u=this.bindings[f])===null||u===void 0||u.filter(v=>{var g,A,k,E,j,N;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in v){const B=v.id,I=(g=v.filter)===null||g===void 0?void 0:g.event;return B&&((A=i.ids)===null||A===void 0?void 0:A.includes(B))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((k=i.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const B=(j=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return B==="*"||B===((N=i==null?void 0:i.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===f}).map(v=>{if(typeof w=="object"&&"ids"in w){const g=w.data,{schema:A,table:k,commit_timestamp:E,type:j,errors:N}=g;w=Object.assign(Object.assign({},{schema:A,table:k,commit_timestamp:E,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(g))}v.callback(w,o)})}_isClosed(){return this.state===Ws.closed}_isJoined(){return this.state===Ws.joined}_isJoining(){return this.state===Ws.joining}_isLeaving(){return this.state===Ws.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,o){const d=n.toLocaleLowerCase(),u={type:d,filter:i,callback:o};return this.bindings[d]?this.bindings[d].push(u):this.bindings[d]=[u],this}_off(n,i){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(d=>{var u;return!(((u=d.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&z5.isEqual(d.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const o in n)if(n[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Yi.close,{},n)}_onError(n){this._on(Yi.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ws.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=jb(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=jb(n.columns,n.old_record)),i}};const Yh=()=>{},Z2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$I=[1e3,2e3,5e3,1e4],qI=1e4,GI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let VI=class{constructor(n,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=l3,this.transport=null,this.heartbeatIntervalMs=Z2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yh,this.ref=0,this.reconnectTimer=null,this.vsn=kb,this.logger=Yh,this.conn=null,this.sendBuffer=[],this.serializer=new FI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...u)=>d(...u):(...u)=>fetch(...u),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${c3.websocket}`,this.httpEndpoint=P5(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R5.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,o){this.logger(n,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case $o.connecting:return qo.Connecting;case $o.open:return qo.Open;case $o.closing:return qo.Closing;default:return qo.Closed}}isConnected(){return this.connectionState()===qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const o=`realtime:${n}`,d=this.getChannels().find(u=>u.topic===o);if(d)return d;{const u=new U5(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:o,payload:d,ref:u}=n,f=()=>{this.encode(n,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${i} ${o} (${u})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(MI,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Z2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:d,payload:u,ref:f}=i,h=f?`(${f})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${d} ${h}`.trim(),u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(d,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$o.open||this.conn.readyState===$o.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Yi.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const o=n.match(/\?/)?"&":"?",d=new URLSearchParams(i);return`${n}${o}${d}`}_workerObjectUrl(n){let i;if(n)i=n;else{const o=new Blob([GI],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const d={access_token:i,version:TI};i&&o.updateJoinPayload(d),o.joinedOnce&&o._isJoined()&&o._push(Yi.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(i)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new _5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Z2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,o,d,u,f,h,p,m,x,y,w,v;switch(this.transport=(i=n==null?void 0:n.transport)!==null&&i!==void 0?i:null,this.timeout=(o=n==null?void 0:n.timeout)!==null&&o!==void 0?o:l3,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:Z2.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n==null?void 0:n.heartbeatCallback)!==null&&h!==void 0?h:Yh,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:kb,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n==null?void 0:n.reconnectAfterMs)!==null&&m!==void 0?m:g=>$I[g-1]||qI,this.vsn){case M5:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:(g,A)=>A(JSON.stringify(g)),this.decode=(y=n==null?void 0:n.decode)!==null&&y!==void 0?y:(g,A)=>A(JSON.parse(g));break;case RI:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(v=n==null?void 0:n.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}};const YI=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:HI,get REALTIME_LISTEN_TYPES(){return Wl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return f3},get REALTIME_PRESENCE_LISTEN_EVENTS(){return u3},get REALTIME_SUBSCRIBE_STATES(){return p1},RealtimeChannel:U5,RealtimeClient:VI,RealtimePresence:O5,WebSocketFactory:R5},Symbol.toStringTag,{value:"Module"})),L5=mc(YI);class o2 extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function fs(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Q5 extends o2{constructor(n,i,o){super(n),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eu extends o2{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const Om=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),KI=()=>Response,h3=a=>{if(Array.isArray(a))return a.map(i=>h3(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,o])=>{const d=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[d]=h3(o)}),n},WI=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},JI=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),Kh=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},XI=(a,n,i)=>Ot(void 0,void 0,void 0,function*(){const o=yield KI();a instanceof o&&!(i!=null&&i.noResolveJson)?a.json().then(d=>{const u=a.status||500,f=(d==null?void 0:d.statusCode)||u+"";n(new Q5(Kh(d),u,f))}).catch(d=>{n(new eu(Kh(d),d))}):n(new eu(Kh(a),a))}),ZI=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!o?d:(WI(o)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(o)):d.body=o,n!=null&&n.duplex&&(d.duplex=n.duplex),Object.assign(Object.assign({},d),i))};function l2(a,n,i,o,d,u){return Ot(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,ZI(n,o,d,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>XI(p,h,o))})})}function K0(a,n,i,o){return Ot(this,void 0,void 0,function*(){return l2(a,"GET",n,i,o)})}function Gi(a,n,i,o,d){return Ot(this,void 0,void 0,function*(){return l2(a,"POST",n,o,d,i)})}function p3(a,n,i,o,d){return Ot(this,void 0,void 0,function*(){return l2(a,"PUT",n,o,d,i)})}function eB(a,n,i,o){return Ot(this,void 0,void 0,function*(){return l2(a,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Um(a,n,i,o,d){return Ot(this,void 0,void 0,function*(){return l2(a,"DELETE",n,o,d,i)})}class tB{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return Ot(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fs(n))return{data:null,error:n};throw n}})}}var H5;class rB{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[H5]="BlobDownloadBuilder",this.promise=null}asStream(){return new tB(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ot(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fs(n))return{data:null,error:n};throw n}})}}H5=Symbol.toStringTag;const aB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sB{constructor(n,i={},o,d){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=o,this.fetch=Om(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,o,d){return Ot(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},Nb),d);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),d!=null&&d.headers&&(h=Object.assign(Object.assign({},h),d.headers));const m=this._removeEmptyFolders(i),x=this._getFinalPath(m),y=yield(n=="PUT"?p3:Gi)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:h},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(fs(u))return{data:null,error:u};throw u}})}upload(n,i,o){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,o)})}uploadToSignedUrl(n,i,o,d){return Ot(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",i);try{let p;const m=Object.assign({upsert:Nb.upsert},d),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield p3(this.fetch,h.toString(),p,{headers:x});return{data:{path:u,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(fs(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,i){return Ot(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const d=Object.assign({},this.headers);i!=null&&i.upsert&&(d["x-upsert"]="true");const u=yield Gi(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:d}),f=new URL(this.url+u.url),h=f.searchParams.get("token");if(!h)throw new o2("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:h},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fs(o))return{data:null,error:o};throw o}})}update(n,i,o){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,o)})}move(n,i,o){return Ot(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(fs(d))return{data:null,error:d};throw d}})}copy(n,i,o){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Gi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(fs(d))return{data:null,error:d};throw d}})}createSignedUrl(n,i,o){return Ot(this,void 0,void 0,function*(){try{let d=this._getFinalPath(n),u=yield Gi(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(fs(d))return{data:null,error:d};throw d}})}createSignedUrls(n,i,o){return Ot(this,void 0,void 0,function*(){try{const d=yield Gi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(fs(d))return{data:null,error:d};throw d}})}download(n,i){const d=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=u?`?${u}`:"",h=this._getFinalPath(n),p=()=>K0(this.fetch,`${this.url}/${d}/${h}${f}`,{headers:this.headers,noResolveJson:!0});return new rB(p,this.shouldThrowOnError)}info(n){return Ot(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const o=yield K0(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:h3(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fs(o))return{data:null,error:o};throw o}})}exists(n){return Ot(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield eB(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fs(o)&&o instanceof eu){const d=o.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,i){const o=this._getFinalPath(n),d=[],u=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&d.push(u);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});p!==""&&d.push(p);let m=d.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${m}`)}}}remove(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}list(n,i,o){return Ot(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},aB),i),{prefix:n||""});return{data:yield Gi(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},o),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(fs(d))return{data:null,error:d};throw d}})}listV2(n,i){return Ot(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield Gi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fs(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const $5="2.86.2",q5={"X-Client-Info":`storage-js/${$5}`};class nB{constructor(n,i={},o,d){this.shouldThrowOnError=!1;const u=new URL(n);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q5),i),this.fetch=Om(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return Ot(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield K0(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}getBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}createBucket(n){return Ot(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(fs(d))return{data:null,error:d};throw d}})}updateBucket(n,i){return Ot(this,void 0,void 0,function*(){try{return{data:yield p3(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fs(o))return{data:null,error:o};throw o}})}emptyBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var W0=class extends Error{constructor(a,n){var i;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((i=n.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iB(a,n,i){const o=new URL(n,a);if(i)for(const[d,u]of Object.entries(i))u!==void 0&&o.searchParams.set(d,u);return o.toString()}async function oB(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function lB(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:d,body:u,headers:f}){const h=iB(a.baseUrl,o,d),p=await oB(a.auth),m=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...p,...f},body:u?JSON.stringify(u):void 0}),x=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),w=y&&x?JSON.parse(x):x;if(!m.ok){const v=y?w:void 0,g=v==null?void 0:v.error;throw new W0((g==null?void 0:g.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:v})}return{status:m.status,headers:m.headers,data:w}}}}function ed(a){return a.join("")}var cB=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:ed(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ed(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ed(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ed(a.namespace)}`}),!0}catch(n){if(n instanceof W0&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof W0&&i.status===409)return;throw i}}};function Nl(a){return a.join("")}var dB=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nl(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nl(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nl(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nl(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nl(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nl(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof W0&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof W0&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},uB=class{constructor(a){var o;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=lB({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(o=a.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new cB(this.client,n),this.tableOps=new dB(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class G5{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q5),i),this.fetch=Om(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}listBuckets(n){return Ot(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&i.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&i.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&i.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&i.set("sortOrder",n.sortOrder),n!=null&&n.search&&i.set("search",n.search);const o=i.toString(),d=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield K0(this.fetch,d,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}from(n){if(!JI(n))throw new o2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new uB({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>Ot(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const zm={"X-Client-Info":`storage-js/${$5}`,"Content-Type":"application/json"};class Lm extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ai(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class gd extends Lm{constructor(n,i,o){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V5 extends Lm{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var m3;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(m3||(m3={}));const Pu=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),fB=()=>Response,Y5=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},hB=a=>Array.from(new Float32Array(a)),pB=(a,n)=>{if(n!==void 0&&a.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${a.float32.length}`)},Sb=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),mB=(a,n,i)=>Ot(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(i!=null&&i.noResolveJson)){const d=a.status||500,u=a;if(typeof u.json=="function")u.json().then(f=>{const h=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new gd(Sb(f),d,h))}).catch(()=>{const f=d+"",h=u.statusText||`HTTP ${d} error`;n(new gd(h,d,f))});else{const f=d+"",h=u.statusText||`HTTP ${d} error`;n(new gd(h,d,f))}}else n(new V5(Sb(a),a))}),xB=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return o?(Y5(o)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(o)):d.body=o,Object.assign(Object.assign({},d),i)):d};function vB(a,n,i,o,d,u){return Ot(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,xB(n,o,d,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>mB(p,h,o))})})}function yi(a,n,i,o,d){return Ot(this,void 0,void 0,function*(){return vB(a,"POST",n,o,d,i)})}class K5{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zm),i),this.fetch=Pu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return Ot(this,void 0,void 0,function*(){try{return{data:(yield yi(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}getIndex(n,i){return Ot(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ai(o))return{data:null,error:o};throw o}})}listIndexes(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return Ot(this,void 0,void 0,function*(){try{return{data:(yield yi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ai(o))return{data:null,error:o};throw o}})}}class W5{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zm),i),this.fetch=Pu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return Ot(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield yi(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}getVectors(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}listVectors(n){return Ot(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield yi(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}queryVectors(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}deleteVectors(n){return Ot(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield yi(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}}class J5{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zm),i),this.fetch=Pu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:(yield yi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}getBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}listBuckets(){return Ot(this,arguments,void 0,function*(n={}){try{return{data:yield yi(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}deleteBucket(n){return Ot(this,void 0,void 0,function*(){try{return{data:(yield yi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ai(i))return{data:null,error:i};throw i}})}}class X5 extends J5{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new Z5(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ot(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ot(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ot(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ot(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class Z5 extends K5{constructor(n,i,o,d){super(n,i,d),this.vectorBucketName=o}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ot(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ot(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ot(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ot(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new ew(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class ew extends W5{constructor(n,i,o,d,u){super(n,i,u),this.vectorBucketName=o,this.indexName=d}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ot(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ot(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ot(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ot(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ot(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gB extends nB{constructor(n,i={},o,d){super(n,i,o,d)}from(n){return new sB(this.url,this.headers,n,this.fetch)}get vectors(){return new X5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new G5(this.url+"/iceberg",this.headers,this.fetch)}}const bB=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:G5,StorageApiError:Q5,StorageClient:gB,StorageError:o2,StorageUnknownError:eu,StorageVectorsApiError:gd,StorageVectorsClient:X5,StorageVectorsError:Lm,get StorageVectorsErrorCode(){return m3},StorageVectorsUnknownError:V5,VectorBucketApi:J5,VectorBucketScope:Z5,VectorDataApi:W5,VectorIndexApi:K5,VectorIndexScope:ew,isPlainObject:Y5,isStorageError:fs,isStorageVectorsError:ai,normalizeToFloat32:hB,resolveFetch:Pu,resolveResponse:fB,validateVectorDimension:pB},Symbol.toStringTag,{value:"Module"})),yB=mc(bB);var tw={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.version=void 0;Ou.version="2.86.2";(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const n=Ou;let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${n.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})(tw);var rw={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const n=d=>d?(...u)=>d(...u):(...u)=>fetch(...u);a.resolveFetch=n;const i=()=>Headers;a.resolveHeadersConstructor=i;const o=(d,u,f)=>{const h=(0,a.resolveFetch)(f),p=(0,a.resolveHeadersConstructor)();return async(m,x)=>{var y;const w=(y=await u())!==null&&y!==void 0?y:d;let v=new p(x==null?void 0:x.headers);return v.has("apikey")||v.set("apikey",d),v.has("Authorization")||v.set("Authorization",`Bearer ${w}`),h(m,Object.assign(Object.assign({},x),{headers:v}))}};a.fetchWithAuth=o})(rw);var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.isBrowser=void 0;Co.uuid=wB;Co.ensureTrailingSlash=aw;Co.applySettingDefaults=kB;Co.validateSupabaseUrl=jB;function wB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var n=Math.random()*16|0,i=a=="x"?n:n&3|8;return i.toString(16)})}function aw(a){return a.endsWith("/")?a:a+"/"}const AB=()=>typeof window<"u";Co.isBrowser=AB;function kB(a,n){var i,o;const{db:d,auth:u,realtime:f,global:h}=a,{db:p,auth:m,realtime:x,global:y}=n,w={db:Object.assign(Object.assign({},p),d),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(i=y==null?void 0:y.headers)!==null&&i!==void 0?i:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function jB(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Uu={};const sw="2.86.2",Il=30*1e3,x3=3,Wh=x3*Il,NB="http://localhost:9999",SB="supabase.auth.token",EB={"X-Client-Info":`gotrue-js/${sw}`},v3="X-Supabase-Api-Version",nw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IB=10*60*1e3;let dc=class extends Error{constructor(n,i,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}};function Lt(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let iw=class extends dc{constructor(n,i,o){super(n,i,o),this.name="AuthApiError",this.status=i,this.code=o}};function ow(a){return Lt(a)&&a.name==="AuthApiError"}let eo=class extends dc{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}},Q1=class extends dc{constructor(n,i,o,d){super(n,o,d),this.name=i,this.status=o}},ei=class extends Q1{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lw(a){return Lt(a)&&a.name==="AuthSessionMissingError"}let Lo=class extends Q1{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},x0=class extends Q1{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},v0=class extends Q1{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function cw(a){return Lt(a)&&a.name==="AuthImplicitGrantRedirectError"}let g3=class extends Q1{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tu=class extends Q1{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}};function bd(a){return Lt(a)&&a.name==="AuthRetryableFetchError"}let b3=class extends Q1{constructor(n,i,o){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}};function BB(a){return Lt(a)&&a.name==="AuthWeakPasswordError"}let ru=class extends Q1{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eb=` 	
\r=`.split(""),DB=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Eb.length;n+=1)a[Eb[n].charCodeAt(0)]=-2;for(let n=0;n<au.length;n+=1)a[au[n].charCodeAt(0)]=n;return a})();function Cb(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(au[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(au[o]),n.queuedBits-=6}}function dw(a,n,i){const o=DB[a];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Ib(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},u=f=>{MB(f,o,i)};for(let f=0;f<a.length;f+=1)dw(a.charCodeAt(f),d,u);return n.join("")}function TB(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function RB(a,n){for(let i=0;i<a.length;i+=1){let o=a.charCodeAt(i);if(o>55295&&o<=56319){const d=(o-55296)*1024&65535;o=(a.charCodeAt(i+1)-56320&65535|d)+65536,i+=1}TB(o,n)}}function MB(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let o=1;o<6;o+=1)if(!(a>>7-o&1)){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Jl(a){const n=[],i={queue:0,queuedBits:0},o=d=>{n.push(d)};for(let d=0;d<a.length;d+=1)dw(a.charCodeAt(d),i,o);return new Uint8Array(n)}function _B(a){const n=[];return RB(a,i=>n.push(i)),new Uint8Array(n)}function Ko(a){const n=[],i={queue:0,queuedBits:0},o=d=>{n.push(d)};return a.forEach(d=>Cb(d,i,o)),Cb(null,i,o),n.join("")}function FB(a){return Math.round(Date.now()/1e3)+a}function PB(){return Symbol("auth-callback")}const jn=()=>typeof window<"u"&&typeof document<"u",Po={tested:!1,writable:!1},uw=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Po.tested)return Po.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable};function OB(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((d,u)=>{n[u]=d})}catch{}return i.searchParams.forEach((o,d)=>{n[d]=o}),n}const fw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),UB=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Bl=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},Oo=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},kn=async(a,n)=>{await a.removeItem(n)};class zu{constructor(){this.promise=new zu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}zu.promiseConstructor=Promise;function Jh(a){const n=a.split(".");if(n.length!==3)throw new ru("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!CB.test(n[o]))throw new ru("JWT not in base64url format");return{header:JSON.parse(Ib(n[0])),payload:JSON.parse(Ib(n[1])),signature:Jl(n[2]),raw:{header:n[0],payload:n[1]}}}async function zB(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function LB(a,n){return new Promise((o,d)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){o(f);return}}catch(f){if(!n(u,f)){d(f);return}}})()})}function QB(a){return("0"+a.toString(16)).substr(-2)}function HB(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let d="";for(let u=0;u<56;u++)d+=i.charAt(Math.floor(Math.random()*o));return d}return crypto.getRandomValues(n),Array.from(n,QB).join("")}async function $B(a){const i=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",i),d=new Uint8Array(o);return Array.from(d).map(u=>String.fromCharCode(u)).join("")}async function qB(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await $B(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sl(a,n,i=!1){const o=HB();let d=o;i&&(d+="/PASSWORD_RECOVERY"),await Bl(a,`${n}-code-verifier`,d);const u=await qB(o);return[u,o===u?"plain":"s256"]}const GB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VB(a){const n=a.headers.get(v3);if(!n||!n.match(GB))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function YB(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function KB(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function El(a){if(!WB.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xh(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JB(a,n){return new Proxy(a,{get:(i,o,d)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,d)}return!n.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,o,d)}})}function Bb(a){return JSON.parse(JSON.stringify(a))}const Qo=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),XB=[502,503,504];async function Db(a){var n;if(!UB(a))throw new tu(Qo(a),0);if(XB.includes(a.status))throw new tu(Qo(a),a.status);let i;try{i=await a.json()}catch(u){throw new eo(Qo(u),u)}let o;const d=VB(a);if(d&&d.getTime()>=nw["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new b3(Qo(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new ei}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new b3(Qo(i),a.status,i.weak_password.reasons);throw new iw(Qo(i),a.status||500,o)}const ZB=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(o),Object.assign(Object.assign({},d),i))};async function er(a,n,i,o){var d;const u=Object.assign({},o==null?void 0:o.headers);u[v3]||(u[v3]=nw["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(d=o==null?void 0:o.query)!==null&&d!==void 0?d:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await eD(a,n,i+h,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function eD(a,n,i,o,d,u){const f=ZB(n,o,d,u);let h;try{h=await a(i,Object.assign({},f))}catch(p){throw console.error(p),new tu(Qo(p),0)}if(h.ok||await Db(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(p){await Db(p)}}function $i(a){var n;let i=null;aD(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=FB(a.expires_in)));const o=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:o},error:null}}function Tb(a){const n=$i(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(n.data.weak_password=a.weak_password),n}function to(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function tD(a){return{data:a,error:null}}function rD(a){const{action_link:n,email_otp:i,hashed_token:o,redirect_to:d,verification_type:u}=a,f=wc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:o,redirect_to:d,verification_type:u},p=Object.assign({},f);return{data:{properties:h,user:p},error:null}}function Rb(a){return a}function aD(a){return a.access_token&&a.refresh_token&&a.expires_in}const yd=["global","local","others"];let Qm=class{constructor({url:n="",headers:i={},fetch:o}){this.url=n,this.headers=i,this.fetch=fw(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=yd[0]){if(yd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yd.join(", ")}`);try{return await er(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,i={}){try{return await er(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:to})}catch(o){if(Lt(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:i}=n,o=wc(n,["options"]),d=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(d.new_email=o==null?void 0:o.newEmail,delete d.newEmail),await er(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:rD,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Lt(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await er(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:to})}catch(i){if(Lt(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,o,d,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await er(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:Rb});if(x.error)throw x.error;const y=await x.json(),w=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,v=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return v.length>0&&(v.forEach(g=>{const A=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(g.split(";")[1].split("=")[1]);m[`${k}Page`]=A}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Lt(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){El(n);try{return await er(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:to})}catch(i){if(Lt(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){El(n);try{return await er(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:to})}catch(o){if(Lt(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,i=!1){El(n);try{return await er(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:to})}catch(o){if(Lt(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){El(n.userId);try{const{data:i,error:o}=await er(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:i,error:o}}catch(i){if(Lt(i))return{data:null,error:i};throw i}}async _deleteFactor(n){El(n.userId),El(n.id);try{return{data:await er(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,o,d,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await er(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:Rb});if(x.error)throw x.error;const y=await x.json(),w=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,v=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return v.length>0&&(v.forEach(g=>{const A=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(g.split(";")[1].split("=")[1]);m[`${k}Page`]=A}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Lt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Lt(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await er(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Lt(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await er(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Lt(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(n){try{return await er(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Lt(i))return{data:null,error:i};throw i}}};function Mb(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Ho={debug:!!(globalThis&&uw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let hw=class extends Hm{};class sD extends Hm{}async function pw(a,n,i){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async d=>{if(d){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await i()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}else{if(n===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new hw(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Ho.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const _b={};async function nD(a,n,i){var o;const d=(o=_b[a])!==null&&o!==void 0?o:Promise.resolve(),u=Promise.race([d.catch(()=>null),n>=0?new Promise((f,h)=>{setTimeout(()=>{h(new sD(`Acquring process lock with name "${a}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await i());return _b[a]=u.catch(async f=>{if(f&&f.isAcquireTimeout)return await d,null;throw f}),await u}function iD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mw(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function oD(a){return parseInt(a,16)}function lD(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function cD(a){var n;const{chainId:i,domain:o,expirationTime:d,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:p,resources:m,scheme:x,uri:y,version:w}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const v=mw(a.address),g=x?`${x}://${o}`:o,A=a.statement?`${a.statement}
`:"",k=`${g} wants you to sign in with your Ethereum account:
${v}

${A}`;let E=`URI: ${y}
Version: ${w}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(d&&(E+=`
Expiration Time: ${d.toISOString()}`),h&&(E+=`
Not Before: ${h.toISOString()}`),p&&(E+=`
Request ID: ${p}`),m){let j=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);j+=`
- ${N}`}E+=j}return`${k}
${E}`}class Js extends Error{constructor({message:n,code:i,cause:o,name:d}){var u;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=d??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class su extends Js{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function dD({error:a,options:n}){var i,o,d;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Js({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Js({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Js({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((d=u.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Js({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Js({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Js({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Js({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Js({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(xw(f)){if(u.rp.id!==f)return new Js({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Js({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Js({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Js({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Js({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function uD({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Js({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Js({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const o=window.location.hostname;if(xw(o)){if(i.rpId!==o)return new Js({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Js({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Js({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Js({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class fD{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const hD=new fD;function pD(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:o}=a,d=wc(a,["challenge","user","excludeCredentials"]),u=Jl(n).buffer,f=Object.assign(Object.assign({},i),{id:Jl(i.id).buffer}),h=Object.assign(Object.assign({},d),{challenge:u,user:f});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Jl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function mD(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,o=wc(a,["challenge","allowCredentials"]),d=Jl(n).buffer,u=Object.assign(Object.assign({},o),{challenge:d});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Jl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function xD(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Ko(new Uint8Array(a.response.attestationObject)),clientDataJSON:Ko(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function vD(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,o=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Ko(new Uint8Array(d.authenticatorData)),clientDataJSON:Ko(new Uint8Array(d.clientDataJSON)),signature:Ko(new Uint8Array(d.signature)),userHandle:d.userHandle?Ko(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function xw(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Fb(){var a,n;return!!(jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function gD(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new su("Browser returned unexpected credential type",n)}:{data:null,error:new su("Empty credential response",n)}}catch(n){return{data:null,error:dD({error:n,options:a})}}}async function bD(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new su("Browser returned unexpected credential type",n)}:{data:null,error:new su("Empty credential response",n)}}catch(n){return{data:null,error:uD({error:n,options:a})}}}const yD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nu(...a){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),i=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),o={};for(const d of a)if(d)for(const u in d){const f=d[u];if(f!==void 0)if(Array.isArray(f))o[u]=f;else if(i(f))o[u]=f;else if(n(f)){const h=o[u];n(h)?o[u]=nu(h,f):o[u]=nu(f)}else o[u]=f}return o}function AD(a,n){return nu(yD,a,n||{})}function kD(a,n){return nu(wD,a,n||{})}class jD{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:o,signal:d},u){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:h};const p=d??hD.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=AD(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:y}=await gD({publicKey:m,signal:p});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}case"request":{const m=kD(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:y}=await bD(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:p}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}}}catch(f){return Lt(f)?{data:null,error:f}:{data:null,error:new eo("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!i)return{data:null,error:new dc("rpId is required for WebAuthn authentication")};try{if(!Fb())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:o},signal:d},{request:u});if(!f)return{data:null,error:h};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:o,credential_response:p.credential_response}})}catch(f){return Lt(f)?{data:null,error:f}:{data:null,error:new eo("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!i)return{data:null,error:new dc("rpId is required for WebAuthn registration")};try{if(!Fb())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var y;return(y=x.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:d},{create:u});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(f){return Lt(f)?{data:null,error:f}:{data:null,error:new eo("Unexpected error in register",f)}}}}iD();const ND={url:NB,storageKey:SB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pb(a,n,i){return await i()}const Cl={};let $m=class y3{get jwks(){var n,i;return(i=(n=Cl[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Cl[this.storageKey]=Object.assign(Object.assign({},Cl[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Cl[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Cl[this.storageKey]=Object.assign(Object.assign({},Cl[this.storageKey]),{cachedAt:n})}constructor(n){var i,o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},ND),n);if(this.storageKey=u.storageKey,this.instanceID=(i=y3.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,y3.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&jn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Qm({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=fw(u.fetch),this.lock=u.lock||Pb,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:jn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=pw:this.lock=Pb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:uw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mb(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Mb(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sw}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},o="none";if(jn()&&(i=OB(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),jn()&&this.detectSessionInUrl&&o!=="none"){const{data:d,error:u}=await this._getSessionFromURL(i,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),cw(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:h}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Lt(i)?this._returnResult({error:i}):this._returnResult({error:new eo("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,o,d;try{const u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:$i}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(Lt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,o,d;try{let u;if("email"in n){const{email:x,password:y,options:w}=n;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Sl(this.storage,this.storageKey)),u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:y,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:v,code_challenge_method:g},xform:$i})}else if("phone"in n){const{phone:x,password:y,options:w}=n;u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(d=w==null?void 0:w.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:$i})}else throw new x0("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await kn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tb})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tb})}else throw new x0("You must provide either an email or phone number and a password");const{data:o,error:d}=i;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!o||!o.session||!o.user){const u=new Lo;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:d})}catch(i){if(Lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,o,d,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,o,d,u,f,h,p,m,x,y,w;let v,g;if("message"in n)v=n.message,g=n.signature;else{const{chain:A,wallet:k,statement:E,options:j}=n;let N;if(jn())if(typeof k=="object")N=k;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")N=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const B=new URL((i=j==null?void 0:j.url)!==null&&i!==void 0?i:window.location.href),I=await N.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=mw(I[0]);let T=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!T){const $=await N.request({method:"eth_chainId"});T=oD($)}const R={domain:B.host,address:D,statement:E,uri:B.href,version:"1",chainId:T,nonce:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=j==null?void 0:j.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=j==null?void 0:j.signInWithEthereum)===null||x===void 0?void 0:x.resources};v=cD(R),g=await N.request({method:"personal_sign",params:[lD(v),D]})}try{const{data:A,error:k}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:g},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:$i});if(k)throw k;if(!A||!A.session||!A.user){const E=new Lo;return this._returnResult({data:{user:null,session:null},error:E})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:k})}catch(A){if(Lt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var i,o,d,u,f,h,p,m,x,y,w,v;let g,A;if("message"in n)g=n.message,A=n.signature;else{const{chain:k,wallet:E,statement:j,options:N}=n;let B;if(jn())if(typeof E=="object")B=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))B=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=E}const I=new URL((i=N==null?void 0:N.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const D=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),j?{statement:j}:null));let T;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")T=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)T=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),A=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${I.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(d=(o=N==null?void 0:N.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(x=N==null?void 0:N.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const D=await B.signMessage(new TextEncoder().encode(g),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=D}}try{const{data:k,error:E}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ko(A)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:$i});if(E)throw E;if(!k||!k.session||!k.user){const j=new Lo;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(Lt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(n){const i=await Oo(this.storage,`${this.storageKey}-code-verifier`),[o,d]=(i??"").split("/");try{const{data:u,error:f}=await er(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:$i});if(await kn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new Lo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:d??null}),error:f})}catch(u){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:o,token:d,access_token:u,nonce:f}=n,h=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:d,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:$i}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const x=new Lo;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(i){if(Lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,o,d,u,f;try{if("email"in n){const{email:h,options:p}=n;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Sl(this.storage,this.storageKey));const{error:y}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in n){const{phone:h,options:p}=n,{data:m,error:x}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(d=p==null?void 0:p.data)!==null&&d!==void 0?d:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x})}throw new x0("You must provide either an email or phone number.")}catch(h){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,o;try{let d,u;"options"in n&&(d=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:h}=await er(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:d,xform:$i});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(d){if(Lt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var i,o,d,u,f;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Sl(this.storage,this.storageKey));const m=await er(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:tD});return!((u=m.data)===null||u===void 0)&&u.url&&jn()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)throw o;if(!i)throw new ei;const{error:d}=await er(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(Lt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:o,type:d,options:u}=n,{error:f}=await er(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:o,type:d,options:u}=n,{data:f,error:h}=await er(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new x0("You must provide either an email or phone number and a type")}catch(i){if(Lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Oo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Wh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Oo(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Xh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=JB(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:to}):await this._useSession(async i=>{var o,d,u;const{data:f,error:h}=i;if(h)throw h;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0,xform:to})})}catch(i){if(Lt(i))return lw(i)&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async o=>{const{data:d,error:u}=o;if(u)throw u;if(!d.session)throw new ei;const f=d.session;let h=null,p=null;this.flowType==="pkce"&&n.email!=null&&([h,p]=await Sl(this.storage,this.storageKey));const{data:m,error:x}=await er(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:p}),jwt:f.access_token,xform:to});if(x)throw x;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ei;const i=Date.now()/1e3;let o=i,d=!0,u=null;const{payload:f}=Jh(n.access_token);if(f.exp&&(o=f.exp,d=o<=i),d){const{data:h,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(Lt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var o;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new ei;const{data:d,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!jn())throw new v0("No browser detected.");if(n.error||n.error_description||n.error_code)throw new v0(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new g3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new v0("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new g3("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(n.code);if(N)throw N;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:d,access_token:u,refresh_token:f,expires_in:h,expires_at:p,token_type:m}=n;if(!u||!h||!f||!m)throw new v0("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let w=x+y;p&&(w=parseInt(p));const v=w-x;v*1e3<=Il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${y}s`);const g=w-y;x-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,w,x):x-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,w,x);const{data:A,error:k}=await this._getUser(u);if(k)throw k;const E={provider_token:o,provider_refresh_token:d,access_token:u,expires_in:y,expires_at:w,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(o){if(Lt(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Oo(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({error:u});const f=(o=d.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(ow(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=PB(),o={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async i=>{var o,d;try{const{data:{session:u},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let o=null,d=null;this.flowType==="pkce"&&([o,d]=await Sl(this.storage,this.storageKey,!0));try{return await er(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:d,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:o,error:d}=await this._useSession(async u=>{var f,h,p,m,x;const{data:y,error:w}=u;if(w)throw w;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await er(this.fetch,"GET",v,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(d)throw d;return jn()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:n.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Lt(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var o;try{const{error:d,data:{session:u}}=i;if(d)throw d;const{options:f,provider:h,token:p,access_token:m,nonce:x}=n,y=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:p,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$i}),{data:w,error:v}=y;return v?this._returnResult({data:{user:null,session:null},error:v}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Lo}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:v}))}catch(d){if(await kn(this.storage,`${this.storageKey}-code-verifier`),Lt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var o,d;const{data:u,error:f}=i;if(f)throw f;return await er(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await LB(async d=>(d>0&&await zB(200*Math.pow(2,d-1)),this._debug(i,"refreshing attempt",d),await er(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:$i})),(d,u)=>{const f=200*Math.pow(2,d);return u&&bd(u)&&Date.now()+f-o<Il})}catch(o){if(this._debug(i,"error",o),Lt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",o),jn()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const d=await Oo(this.storage,this.storageKey);if(d&&this.userStorage){let f=await Oo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Bl(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Xh()}else if(d&&!d.user&&!d.user){const f=await Oo(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(d.user=f.user,await kn(this.storage,this.storageKey+"-user"),await Bl(this.storage,this.storageKey,d)):d.user=Xh()}if(this._debug(o,"session from storage",d),!this._isValidSession(d)){this._debug(o,"session is not valid"),d!==null&&await this._removeSession();return}const u=((i=d.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Wh;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Wh}s`),u){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),bd(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(d.access_token);!h&&(f!=null&&f.user)?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(o,"error",d),console.error(d);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var i,o;if(!n)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new zu;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new ei;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(d,"error",u),Lt(u)){const f={data:null,error:u};return bd(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,i,o=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(p){u.push(p)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await kn(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Bl(this.userStorage,this.storageKey+"-user",{user:i.user});const d=Object.assign({},i);delete d.user;const u=Bb(d);await Bl(this.storage,this.storageKey,u)}else{const d=Bb(i);await Bl(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kn(this.storage,this.storageKey),await kn(this.storage,this.storageKey+"-code-verifier"),await kn(this.storage,this.storageKey+"-user"),this.userStorage&&await kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Il);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((o.expires_at*1e3-n)/Il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Il}ms, refresh threshold is ${x3} ticks`),d<=x3&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Hm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,o){const d=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&d.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&d.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await Sl(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(h.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);d.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&d.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;return u?this._returnResult({data:null,error:u}):await er(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var o,d;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:m}=await er(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&p.type==="totp"&&(!((d=p==null?void 0:p.totp)===null||d===void 0)&&d.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?xD(n.webauthn.credential_response):vD(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:p}=await er(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await er(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:pD(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mD(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const d={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i==null?void 0:i.factors)!==null&&n!==void 0?n:[])d.all.push(u),u.status==="verified"&&d[u.factor_type].push(u);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:o},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Jh(o.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;return d?this._returnResult({data:null,error:d}):o?await er(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ei})})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new ei});const f=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&jn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(Lt(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new ei});const f=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&jn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(Lt(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await er(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new ei})})}catch(n){if(Lt(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;return d?this._returnResult({data:null,error:d}):o?(await er(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(i){if(Lt(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let o=i.keys.find(h=>h.kid===n);if(o)return o;const d=Date.now();if(o=this.jwks.keys.find(h=>h.kid===n),o&&this.jwks_cached_at+IB>d)return o;const{data:u,error:f}=await er(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=d,o=u.keys.find(h=>h.kid===n),!o)?null:o}async getClaims(n,i={}){try{let o=n;if(!o){const{data:v,error:g}=await this.getSession();if(g||!v.session)return this._returnResult({data:null,error:g});o=v.session.access_token}const{header:d,payload:u,signature:f,raw:{header:h,payload:p}}=Jh(o);i!=null&&i.allowExpired||YB(u.exp);const m=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:v}=await this.getUser(o);if(v)throw v;return{data:{claims:u,header:d,signature:f},error:null}}const x=KB(d.alg),y=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,f,_B(`${h}.${p}`)))throw new ru("Invalid JWT signature");return{data:{claims:u,header:d,signature:f},error:null}}catch(o){if(Lt(o))return this._returnResult({data:null,error:o});throw o}}};$m.nextInstanceID={};const SD=Qm,ED=$m,CD=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:SD,AuthApiError:iw,AuthClient:ED,AuthError:dc,AuthImplicitGrantRedirectError:v0,AuthInvalidCredentialsError:x0,AuthInvalidJwtError:ru,AuthInvalidTokenResponseError:Lo,AuthPKCEGrantCodeExchangeError:g3,AuthRetryableFetchError:tu,AuthSessionMissingError:ei,AuthUnknownError:eo,AuthWeakPasswordError:b3,CustomAuthError:Q1,GoTrueAdminApi:Qm,GoTrueClient:$m,NavigatorLockAcquireTimeoutError:hw,SIGN_OUT_SCOPES:yd,isAuthApiError:ow,isAuthError:Lt,isAuthImplicitGrantRedirectError:cw,isAuthRetryableFetchError:bd,isAuthSessionMissingError:lw,isAuthWeakPasswordError:BB,lockInternals:Ho,navigatorLock:pw,processLock:nD},Symbol.toStringTag,{value:"Module"})),vw=mc(CD);Object.defineProperty(Uu,"__esModule",{value:!0});Uu.SupabaseAuthClient=void 0;const ID=vw;class BD extends ID.AuthClient{constructor(n){super(n)}}Uu.SupabaseAuthClient=BD;Object.defineProperty(Wd,"__esModule",{value:!0});const DD=w5,TD=On,RD=L5,MD=yB,td=tw,_D=rw,Ob=Co,FD=Uu;let PD=class{constructor(n,i,o){var d,u,f;this.supabaseUrl=n,this.supabaseKey=i;const h=(0,Ob.validateSupabaseUrl)(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:td.DEFAULT_DB_OPTIONS,realtime:td.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},td.DEFAULT_AUTH_OPTIONS),{storageKey:p}),global:td.DEFAULT_GLOBAL_OPTIONS},x=(0,Ob.applySettingDefaults)(o??{},m);this.storageKey=(d=x.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=(0,_D.fetchWithAuth)(i,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new TD.PostgrestClient(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new MD.StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new DD.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,o)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:d,userStorage:u,storageKey:f,flowType:h,lock:p,debug:m,throwOnError:x},y,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FD.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:f,autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:d,userStorage:u,flowType:h,lock:p,debug:m,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new RD.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,i,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Wd.default=PD;(function(a){var n=vr&&vr.__createBinding||(Object.create?function(x,y,w,v){v===void 0&&(v=w);var g=Object.getOwnPropertyDescriptor(y,w);(!g||("get"in g?!y.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(x,v,g)}:function(x,y,w,v){v===void 0&&(v=w),x[v]=y[w]}),i=vr&&vr.__exportStar||function(x,y){for(var w in x)w!=="default"&&!Object.prototype.hasOwnProperty.call(y,w)&&n(y,x,w)},o=vr&&vr.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const d=o(Wd);i(vw,a);var u=On;Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var f=w5;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),i(L5,a);var h=Wd;Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return o(h).default}});const p=(x,y,w)=>new d.default(x,y,w);a.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const y=x.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(_m);const gw=pu(_m),OD=v6({__proto__:null,default:gw},[_m]),{PostgrestError:UD,FunctionsHttpError:zD,FunctionsFetchError:LD,FunctionsRelayError:QD,FunctionsError:HD,FunctionRegion:$D,SupabaseClient:qD,createClient:bw,GoTrueAdminApi:GD,GoTrueClient:VD,AuthAdminApi:YD,AuthClient:KD,navigatorLock:WD,NavigatorLockAcquireTimeoutError:JD,lockInternals:XD,processLock:ZD,SIGN_OUT_SCOPES:eT,AuthError:tT,AuthApiError:rT,AuthUnknownError:aT,CustomAuthError:sT,AuthSessionMissingError:nT,AuthInvalidTokenResponseError:iT,AuthInvalidCredentialsError:oT,AuthImplicitGrantRedirectError:lT,AuthPKCEGrantCodeExchangeError:cT,AuthRetryableFetchError:dT,AuthWeakPasswordError:uT,AuthInvalidJwtError:fT,isAuthError:hT,isAuthApiError:pT,isAuthSessionMissingError:mT,isAuthImplicitGrantRedirectError:xT,isAuthRetryableFetchError:vT,isAuthWeakPasswordError:gT,RealtimePresence:bT,RealtimeChannel:yT,RealtimeClient:wT,REALTIME_LISTEN_TYPES:AT,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:kT,REALTIME_PRESENCE_LISTEN_EVENTS:jT,REALTIME_SUBSCRIBE_STATES:NT,REALTIME_CHANNEL_STATES:ST}=gw||OD,ET=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:YD,AuthApiError:rT,AuthClient:KD,AuthError:tT,AuthImplicitGrantRedirectError:lT,AuthInvalidCredentialsError:oT,AuthInvalidJwtError:fT,AuthInvalidTokenResponseError:iT,AuthPKCEGrantCodeExchangeError:cT,AuthRetryableFetchError:dT,AuthSessionMissingError:nT,AuthUnknownError:aT,AuthWeakPasswordError:uT,CustomAuthError:sT,FunctionRegion:$D,FunctionsError:HD,FunctionsFetchError:LD,FunctionsHttpError:zD,FunctionsRelayError:QD,GoTrueAdminApi:GD,GoTrueClient:VD,NavigatorLockAcquireTimeoutError:JD,PostgrestError:UD,REALTIME_CHANNEL_STATES:ST,REALTIME_LISTEN_TYPES:AT,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:kT,REALTIME_PRESENCE_LISTEN_EVENTS:jT,REALTIME_SUBSCRIBE_STATES:NT,RealtimeChannel:yT,RealtimeClient:wT,RealtimePresence:bT,SIGN_OUT_SCOPES:eT,SupabaseClient:qD,createClient:bw,isAuthApiError:pT,isAuthError:hT,isAuthImplicitGrantRedirectError:xT,isAuthRetryableFetchError:vT,isAuthSessionMissingError:mT,isAuthWeakPasswordError:gT,lockInternals:XD,navigatorLock:WD,processLock:ZD},Symbol.toStringTag,{value:"Module"})),wd="https://naydyhkqodppdhzwkctr.supabase.co",CT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c",zr=()=>wd==null?void 0:wd.startsWith("http");let w3=null;zr()?(w3=bw(wd,CT,{realtime:{params:{eventsPerSecond:10}}}),console.log(" Supabase client initialized")):(console.log(" Supabase not configured - running in local-only mode"),w3={from:()=>({select:()=>Promise.resolve({data:null,error:null}),insert:()=>Promise.resolve({data:null,error:null}),update:()=>Promise.resolve({data:null,error:null}),upsert:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({data:null,error:null})}),channel:()=>({on:()=>({subscribe:()=>{}}),subscribe:()=>{}})});const kr=w3,IT=Object.freeze(Object.defineProperty({__proto__:null,isSupabaseConfigured:zr,supabase:kr},Symbol.toStringTag,{value:"Module"})),BT=[],is=z1(L1((a,n)=>({products:BT,categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling"],units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!1,isSyncing:!1,setProducts:i=>a({products:i}),setCategories:i=>a({categories:i}),setUnits:i=>a({units:i}),setStockHistory:i=>a({stockHistory:i}),initRealtime:async()=>{if(!zr()){console.log("Supabase not configured, using local storage only");return}try{await n().fetchProducts(),await n().fetchCategories(),await n().fetchUnits(),a({isOnline:!0}),kr.channel("products-channel").on("postgres_changes",{event:"*",schema:"public",table:"products"},i=>{console.log("Product change:",i),i.eventType==="INSERT"?a(o=>({products:[...o.products.filter(d=>d.id!==i.new.id),Zh(i.new)]})):i.eventType==="UPDATE"?a(o=>({products:o.products.map(d=>d.id===i.new.id?Zh(i.new):d)})):i.eventType==="DELETE"&&a(o=>({products:o.products.filter(d=>d.id!==i.old.id)}))}).on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>{n().fetchCategories()}).on("postgres_changes",{event:"*",schema:"public",table:"units"},()=>{n().fetchUnits()}).subscribe()}catch(i){console.error("Realtime init error:",i),a({isOnline:!1})}},fetchProducts:async()=>{if(!zr())return;a({isSyncing:!0});const{data:i,error:o}=await kr.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});a(!o&&i?{products:i.map(Zh),isSyncing:!1}:{isSyncing:!1})},fetchCategories:async()=>{if(!zr())return;const{data:i,error:o}=await kr.from("categories").select("name").order("name");!o&&i&&a({categories:i.map(d=>d.name)})},fetchUnits:async()=>{if(!zr())return;const{data:i,error:o}=await kr.from("units").select("name").order("name");!o&&i&&a({units:i.map(d=>d.name)})},syncLocalToCloud:async()=>{if(!zr())return console.error("Supabase not configured"),{success:!1,error:"Supabase belum dikonfigurasi"};const i=n().products;if(i.length===0)return{success:!0,count:0,message:"Tidak ada produk lokal"};a({isSyncing:!0});let o=0,d=0,u=null;try{for(let p=0;p<i.length;p+=50){const m=i.slice(p,p+50).map(y=>{const w=g=>{if(g==null||g==="")return 0;const A=Number(g);return isNaN(A)?0:A},v=g=>g==null?"":String(g).trim();return{id:String(y.id),code:v(y.code),sku:v(y.sku),barcode:v(y.barcode),name:v(y.name)||"Unnamed Product",description:v(y.description),category:v(y.category),unit:v(y.unit)||"pcs",price:w(y.price),cost:w(y.cost),stock:w(y.stock),min_stock:w(y.minStock),max_stock:w(y.maxStock),image_url:v(y.image),parent_id:y.parentId?String(y.parentId):null,variant_name:v(y.variantName),variants:y.variants||[],source:v(y.source)||"manual",is_active:!0,updated_at:new Date().toISOString()}}),{error:x}=await kr.from("products").upsert(m,{onConflict:"id"});x?(console.error("Error syncing batch:",x),u=x.message||JSON.stringify(x),d+=m.length):o+=m.length}a({isSyncing:!1});let h=`Sync Selesai. Berhasil: ${o}, Gagal: ${d} produk`;return d>0&&u&&(h+=`
Error Terakhir: ${u}`),{success:!0,count:o,failed:d,message:h}}catch(f){return a({isSyncing:!1}),console.error("Sync error:",f),{success:!1,error:f.message}}},addProduct:async(i,o=null,d=null)=>{const u={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),code:i.code||`PRD${String(n().products.length+1).padStart(3,"0")}`};if(zr()){const{error:f}=await kr.from("products").insert({id:u.id,code:u.code,sku:u.sku,barcode:u.barcode,name:u.name,description:u.description,category:u.category,unit:u.unit,price:u.price||0,cost:u.cost||0,stock:u.stock||0,min_stock:u.minStock||0,max_stock:u.maxStock||0,image_url:u.image,parent_id:u.parentId,variant_name:u.variantName,source:u.source||"manual",is_active:!0});if(f)return console.error(" Error adding product to Supabase:",f),{success:!1,error:f.message};console.log(" Product added to Supabase (central hub)")}return a(f=>({products:[...f.products,u]})),console.log(" Product cached in localStorage"),x1.getState().addLog(Ci.PRODUCT_ADD,{productId:u.id,productCode:u.code,productName:u.name,category:u.category,price:u.price,stock:u.stock},o,d),{success:!0}},updateProduct:async(i,o,d=null,u=null)=>{const f=n().products.find(h=>h.id===i);if(zr()){const{error:h}=await kr.from("products").update({code:o.code,sku:o.sku,barcode:o.barcode,name:o.name,description:o.description,category:o.category,unit:o.unit,price:o.price,cost:o.cost,stock:o.stock,min_stock:o.minStock,max_stock:o.maxStock,image_url:o.image,updated_at:new Date().toISOString()}).eq("id",i);if(h)return console.error(" Error updating product in Supabase:",h),{success:!1,error:h.message};console.log(" Product updated in Supabase (central hub)")}return a(h=>({products:h.products.map(p=>p.id===i?{...p,...o}:p)})),console.log(" Product cache updated in localStorage"),x1.getState().addLog(Ci.PRODUCT_EDIT,{productId:i,productName:o.name||(f==null?void 0:f.name),changes:Object.keys(o).filter(h=>f&&o[h]!==f[h])},d,u),{success:!0}},deleteProduct:async(i,o=null,d=null)=>{const u=n().products.find(f=>f.id===i);if(zr()){const{error:f}=await kr.from("products").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",i);if(f)return console.error(" Error deleting product from Supabase:",f),{success:!1,error:f.message};console.log(" Product deleted from Supabase (central hub)")}return a(f=>({products:f.products.filter(h=>h.id!==i)})),console.log(" Product removed from localStorage cache"),x1.getState().addLog(Ci.PRODUCT_DELETE,{productId:i,productCode:u==null?void 0:u.code,productName:u==null?void 0:u.name},o,d),{success:!0}},addCategory:async i=>{a(o=>({categories:[...o.categories,i]})),zr()&&await kr.from("categories").insert({name:i})},removeCategory:async i=>{a(o=>({categories:o.categories.filter(d=>d!==i)})),zr()&&await kr.from("categories").delete().eq("name",i)},addUnit:async i=>{a(o=>({units:[...o.units,i]})),zr()&&await kr.from("units").insert({name:i})},removeUnit:async i=>{a(o=>({units:o.units.filter(d=>d!==i)})),zr()&&await kr.from("units").delete().eq("name",i)},updateStock:async(i,o,d="set",u="adjustment",f="",h=null)=>{const p=n().products.find(g=>g.id===i);if(!p)return{success:!1,error:"Product not found"};const m=p.stock;let x=m;d==="add"?x+=o:d==="subtract"?x-=o:x=o,x=Math.max(0,x);const y=x-m,w={id:Date.now(),productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:x,change:y,type:u,note:f,userId:h,createdAt:new Date().toISOString()};a(g=>({products:g.products.map(A=>A.id===i?{...A,stock:x}:A),stockHistory:[w,...g.stockHistory].slice(0,1e3)}));const v=u==="purchase"?Ci.STOCK_PURCHASE:u==="adjustment"?Ci.STOCK_ADJUST:u==="opname"?Ci.STOCK_OPNAME:Ci.STOCK_ADJUST;return x1.getState().addLog(v,{productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:x,change:y,reason:u,note:f},h,null),zr()&&(await kr.from("products").update({stock:x}).eq("id",i),await kr.from("stock_history").insert({product_id:i,old_stock:m,new_stock:x,change:y,type:u,note:f,user_id:h}).catch(()=>{})),{success:!0,oldStock:m,newStock:x,change:y}},bulkUpdateStock:async(i,o="sync_marketplace",d=null)=>{const u=[];for(const{productId:f,newStock:h,note:p}of i){const m=await n().updateStock(f,h,"set",o,p,d);u.push({productId:f,...m})}return u},getProductStockHistory:i=>n().stockHistory.filter(o=>o.productId===i),getStockHistoryByType:i=>n().stockHistory.filter(o=>o.type===i),getStockHistoryByDateRange:(i,o)=>{const d=new Date(i).getTime(),u=new Date(o).getTime();return n().stockHistory.filter(f=>{const h=new Date(f.createdAt).getTime();return h>=d&&h<=u})},clearOldStockHistory:(i=90)=>{const o=new Date;o.setDate(o.getDate()-i);const d=o.getTime();a(u=>({stockHistory:u.stockHistory.filter(f=>new Date(f.createdAt).getTime()>=d)}))},getProductByBarcode:i=>n().products.find(o=>o.barcode===i),getLowStockProducts:()=>n().products.filter(i=>i.stock<=i.minStock),importShopeeProducts:i=>{var w;const o=n().products;let d=0,u=0,f=0;const h=[];let p=0,m=0;const x=new Set(o.filter(v=>v.sku&&v.sku.trim()!=="").map(v=>v.sku.trim().toLowerCase()));console.log("=== SHOPEE SYNC START ==="),console.log(`Total Shopee items to process: ${i.length}`),console.log(`Existing SKUs in database: ${x.size}`),i.length>0&&console.log("First Shopee Item sample:",{item_id:i[0].item_id,item_name:i[0].item_name,has_model:i[0].has_model,models_count:((w=i[0].models)==null?void 0:w.length)||0}),i.forEach(v=>{var A,k,E,j,N,B,I,D,T,R,$,_,F,Q,L,X,le,fe,V,H;if(v.has_model&&v.models&&v.models.length>=1)d===0&&u===0&&console.log("Model Structure Debug:",JSON.stringify(v.models[0],null,2)),v.models.forEach((se,ue)=>{var Qe,ze,tt,Ze,Re,He,Ue,ye,Ye,Ae,Le,he,Pe,Me;const U=`shopee_${v.item_id}_${se.model_id}`,W=o.findIndex($e=>$e.id===U),re=se.model_name||(se.tier_index&&v.tier_variation?v.tier_variation.map(($e,rt)=>{var pt,ut,bt;return((bt=(ut=$e.option_list)==null?void 0:ut[(pt=se.tier_index)==null?void 0:pt[rt]])==null?void 0:bt.option)||""}).filter(Boolean).join(" - "):""),ie=se.model_sku&&se.model_sku.trim()||"";if(ie||p++,W<0&&ie&&x.has(ie.toLowerCase())){h.push({item_id:v.item_id,model_id:se.model_id,name:`${v.item_name} - ${re}`,sku:ie,reason:"Duplicate SKU"}),f++;return}m++;const be=se.current_price||((Qe=se.price_info)==null?void 0:Qe.current_price)||((ze=se.price_info)==null?void 0:ze.original_price)||se.original_price||se.price||Array.isArray(se.price_info)&&((tt=se.price_info[0])==null?void 0:tt.current_price)||0,K=se.stock||((He=(Re=(Ze=se.stock_info_v2)==null?void 0:Ze.seller_stock)==null?void 0:Re[0])==null?void 0:He.stock)||((ye=(Ue=se.stock_info_v2)==null?void 0:Ue.summary_info)==null?void 0:ye.total_available_stock)||((Ye=se.stock_info)==null?void 0:Ye.current_stock)||se.normal_stock||0,ke=se.model_image_url||((Le=(Ae=v.image)==null?void 0:Ae.image_url_list)==null?void 0:Le[0])||"";d===0&&u===0&&ue===0&&console.log("Variant Debug:",{item_id:v.item_id,model_id:se.model_id,model_name:re,model_sku:ie,price:be,stock:K});const je={id:U,shopeeItemId:v.item_id,shopeeModelId:se.model_id,shopeeShopId:v.shop_id,code:`SHP${String(v.item_id).slice(-4)}${String(se.model_id).slice(-2)}`,sku:ie||"",barcode:"",name:re?`${v.item_name} - ${re}`:v.item_name,parentName:v.item_name,variantName:re,description:v.description||"",category:"Shopee",categoryId:v.category_id,unit:"pcs",price:be,originalPrice:((he=se.price_info)==null?void 0:he.original_price)||0,cost:0,stock:K,minStock:5,maxStock:100,image:ke,images:((Pe=v.image)==null?void 0:Pe.image_url_list)||[],source:"shopee",shopeeStatus:v.item_status||"NORMAL",hasModel:!0,isVariant:!0,parentItemId:v.item_id,condition:v.condition||"NEW",weight:v.weight,dimension:v.dimension,brand:((Me=v.brand)==null?void 0:Me.original_brand_name)||"",createdTime:v.create_time?new Date(v.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};W>=0?(o[W]={...o[W],...je,id:o[W].id,source:"shopee"},u++):(o.push(je),d++,ie&&x.add(ie.toLowerCase()))});else{const se=`shopee_${v.item_id}`,ue=o.findIndex(K=>K.shopeeItemId===v.item_id||K.id===se),U=v.item_sku&&v.item_sku.trim()||v.model_sku&&v.model_sku.trim()||v.models&&v.models.length>0&&((k=(A=v.models[0])==null?void 0:A.model_sku)==null?void 0:k.trim())||"";if(U||p++,ue<0&&U&&x.has(U.toLowerCase())){h.push({item_id:v.item_id,name:v.item_name,sku:U,reason:"Duplicate SKU"}),f++;return}const W=v.current_price||Array.isArray(v.price_info)&&((E=v.price_info[0])==null?void 0:E.current_price)||((j=v.price_info)==null?void 0:j.current_price)||v.models&&v.models.length>0&&((B=(N=v.models[0])==null?void 0:N.price_info)==null?void 0:B.current_price)||0,re=v.current_stock||((D=(I=v.stock_info_v2)==null?void 0:I.summary_info)==null?void 0:D.total_available_stock)||v.models&&v.models.length>0&&(($=(R=(T=v.models[0])==null?void 0:T.stock_info_v2)==null?void 0:R.summary_info)==null?void 0:$.total_available_stock)||((_=v.stock_info)==null?void 0:_.current_stock)||0,ie=((Q=(F=v.image)==null?void 0:F.image_url_list)==null?void 0:Q[0])||(typeof v.image=="string"?v.image:"")||"",be={id:se,shopeeItemId:v.item_id,shopeeShopId:v.shop_id,code:`SHP${String(v.item_id).slice(-6)}`,sku:U||"",barcode:"",name:v.item_name||`Shopee Product ${v.item_id}`,description:v.description||"",category:"Shopee",categoryId:v.category_id,unit:"pcs",price:W,originalPrice:Array.isArray(v.price_info)?(L=v.price_info[0])==null?void 0:L.original_price:((X=v.price_info)==null?void 0:X.original_price)||0,cost:0,stock:re,minStock:5,maxStock:100,image:ie,images:((le=v.image)==null?void 0:le.image_url_list)||[],source:"shopee",shopeeStatus:v.item_status||"NORMAL",shopeeModelId:(V=(fe=v.models)==null?void 0:fe[0])==null?void 0:V.model_id,hasModel:v.has_model||!1,isVariant:!1,condition:v.condition||"NEW",weight:v.weight,dimension:v.dimension,brand:((H=v.brand)==null?void 0:H.original_brand_name)||"",createdTime:v.create_time?new Date(v.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};ue>=0?(o[ue]={...o[ue],...be,id:o[ue].id,source:"shopee"},u++):(o.push(be),d++,U&&x.add(U.toLowerCase()))}}),a({products:[...o]});const y=n().categories;return y.includes("Shopee")||a({categories:[...y,"Shopee"]}),console.log("=== SHOPEE SYNC COMPLETE ==="),console.log(`Total items from Shopee API: ${i.length}`),console.log(`Variants processed: ${m}`),console.log(`Products imported: ${d}`),console.log(`Products updated: ${u}`),console.log(`Products skipped: ${f}`),console.log(`Products without SKU: ${p}`),console.log(`Final product count: ${o.length}`),h.length>0&&(console.log(`
=== SKIPPED PRODUCTS DETAILS ===`),console.log(`Total skipped: ${h.length}`),h.slice(0,10).forEach((v,g)=>{console.log(`${g+1}. ${v.name} (SKU: ${v.sku}) - ${v.reason}`)}),h.length>10&&console.log(`... and ${h.length-10} more`)),console.log(`===========================
`),{imported:d,updated:u,skipped:f,total:i.length,productsWithoutSku:p,variantsProcessed:m}},clearShopeeProducts:()=>{const i=n().products.filter(o=>o.source!=="shopee");return a({products:i}),i.length},getProductsBySource:i=>n().products.filter(o=>o.source===i)}),{name:"product-storage"}));function Zh(a){return{id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category,unit:a.unit,price:parseFloat(a.price)||0,cost:parseFloat(a.cost)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,parentId:a.parent_id,variantName:a.variant_name,variants:a.variants||[],source:a.source||"manual",createdAt:a.created_at,updatedAt:a.updated_at}}const DT="00000000-0000-0000-0000-000000000001",TT=[{id:DT,name:"Walk-in Customer",phone:"",email:"",type:"walk-in",points:0,totalSpent:0,customPrices:{}}],_i=z1(L1((a,n)=>({customers:TT,isOnline:!1,setCustomers:i=>a({customers:i}),initRealtime:async()=>{if(zr())try{await n().fetchCustomers(),a({isOnline:!0}),kr.channel("customers-channel").on("postgres_changes",{event:"*",schema:"public",table:"customers"},i=>{i.eventType==="INSERT"?a(o=>({customers:[...o.customers.filter(d=>d.id!==i.new.id),ep(i.new)]})):i.eventType==="UPDATE"?a(o=>({customers:o.customers.map(d=>d.id===i.new.id?ep(i.new):d)})):i.eventType==="DELETE"&&a(o=>({customers:o.customers.filter(d=>d.id!==i.old.id)}))}).subscribe()}catch(i){console.error("Customer realtime error:",i)}},fetchCustomers:async()=>{if(!zr())return;const{data:i,error:o}=await kr.from("customers").select("*").order("name");!o&&i&&a({customers:i.map(ep)})},addCustomer:async i=>{const o={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),points:0,totalSpent:0,type:i.type||"member"};a(d=>({customers:[...d.customers,o]})),zr()&&await kr.from("customers").insert({id:o.id,name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type,points:0,total_spent:0,custom_prices:{}})},updateCustomer:async(i,o)=>{a(d=>({customers:d.customers.map(u=>u.id===i?{...u,...o}:u)})),zr()&&await kr.from("customers").update({name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type}).eq("id",i)},deleteCustomer:async i=>{a(o=>({customers:o.customers.filter(d=>d.id!==i)})),zr()&&await kr.from("customers").delete().eq("id",i)},addPoints:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=d.points+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:u}:h)})),zr()&&await kr.from("customers").update({points:u}).eq("id",i)},redeemPoints:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=Math.max(0,d.points-o);a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:u}:h)})),zr()&&await kr.from("customers").update({points:u}).eq("id",i)},addTransaction:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=d.totalSpent+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,totalSpent:u}:h)})),zr()&&await kr.from("customers").update({total_spent:u}).eq("id",i)},setCustomPrice:async(i,o,d)=>{const u=n().customers.find(h=>h.id===i);if(!u)return;const f={...u.customPrices,[o]:d};a(h=>({customers:h.customers.map(p=>p.id===i?{...p,customPrices:f}:p)})),zr()&&await kr.from("customers").update({custom_prices:f}).eq("id",i)},removeCustomPrice:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u={...d.customPrices};delete u[o],a(f=>({customers:f.customers.map(h=>h.id===i?{...h,customPrices:u}:h)})),zr()&&await kr.from("customers").update({custom_prices:u}).eq("id",i)}}),{name:"customer-storage"}));function ep(a){return{id:a.id,name:a.name,phone:a.phone||"",email:a.email||"",address:a.address||"",type:a.type||"member",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,customPrices:a.custom_prices||{}}}const ki=z1(L1((a,n)=>({transactions:[],isOnline:!1,setTransactions:i=>a({transactions:i}),initRealtime:async()=>{if(zr())try{await n().fetchTransactions(),a({isOnline:!0}),kr.channel("transactions-channel").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},i=>{i.eventType==="INSERT"?a(o=>({transactions:[tp(i.new),...o.transactions.filter(d=>d.id!==i.new.id)]})):i.eventType==="UPDATE"&&a(o=>({transactions:o.transactions.map(d=>d.id===i.new.id?tp(i.new):d)}))}).subscribe()}catch(i){console.error("Transaction realtime error:",i)}},fetchTransactions:async()=>{if(!zr())return;const{data:i,error:o}=await kr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);!o&&i&&a({transactions:i.map(tp)})},addTransaction:async i=>{var u,f;const o=`TRX${Date.now()}`,d={...i,id:crypto.randomUUID?crypto.randomUUID():o,transactionCode:o,date:new Date().toISOString(),status:"completed",source:i.source||"pos"};return a(h=>({transactions:[d,...h.transactions]})),x1.getState().addLog(Ci.TRANSACTION_CREATE,{transactionId:d.id,transactionCode:o,total:i.total,itemCount:((u=i.items)==null?void 0:u.length)||0,paymentMethod:i.paymentMethod,source:d.source},i.cashierId||null,i.cashierName||null),zr()&&await kr.from("transactions").insert({id:d.id,transaction_code:o,customer_id:(f=i.customer)==null?void 0:f.id,items:i.items,subtotal:i.subtotal,discount:i.discount,tax:i.tax,total:i.total,payment_method:i.paymentMethod,cash_amount:i.cashAmount,change_amount:i.change,status:"completed",cashier_name:i.cashierName}),d},voidTransaction:async(i,o,d=null,u=null,f=null)=>{var m;const h=n().transactions.find(x=>x.id===i),p=new Date().toISOString();if(a(x=>({transactions:x.transactions.map(y=>y.id===i?{...y,status:"void",voidReason:o,voidDate:p}:y)})),x1.getState().addLog(Ci.TRANSACTION_VOID,{transactionId:i,transactionCode:h==null?void 0:h.transactionCode,originalTotal:h==null?void 0:h.total,reason:o,itemsRestored:((m=h==null?void 0:h.items)==null?void 0:m.length)||0},u,f),d&&h&&h.items)for(const x of h.items)await d(x.id,x.quantity,"add","return",`Void transaksi: ${i} - ${o}`,u);return zr()&&await kr.from("transactions").update({status:"void",void_reason:o,void_date:p}).eq("id",i),{success:!0,transaction:h}},getTransactionsByDate:(i,o)=>n().transactions.filter(d=>{const u=new Date(d.date);return u>=i&&u<=o}),getTodayTransactions:()=>{const i=new Date;return i.setHours(0,0,0,0),n().transactions.filter(o=>{const d=new Date(o.date);return d.setHours(0,0,0,0),d.getTime()===i.getTime()&&o.status==="completed"})},getTodaySales:()=>n().getTodayTransactions().reduce((o,d)=>o+d.total,0),getTransactionCount:()=>n().transactions.filter(i=>i.status==="completed").length,updateTransaction:(i,o)=>{a(d=>({transactions:d.transactions.map(u=>u.id===i?{...u,...o}:u)}))},clearMarketplaceTransactions:()=>{a(i=>({transactions:i.transactions.filter(o=>o.source!=="shopee"&&o.source!=="lazada"&&o.source!=="tokopedia"&&o.source!=="tiktok"&&!o.marketplaceSource)}))}}),{name:"transaction-storage"}));function tp(a){return{id:a.id,transactionCode:a.transaction_code,customerId:a.customer_id,items:a.items||[],subtotal:parseFloat(a.subtotal)||0,discount:parseFloat(a.discount)||0,tax:parseFloat(a.tax)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.cash_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status,voidReason:a.void_reason,voidDate:a.void_date,cashierName:a.cashier_name,source:a.source||"pos",date:a.created_at}}const RT=a=>({id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category_id,unit:a.unit_id,cost:parseFloat(a.cost_price)||0,price:parseFloat(a.selling_price)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,shopeeItemId:a.shopee_item_id,shopeeModelId:a.shopee_model_id,source:a.source||"local",isVariant:a.is_variant||!1,parentId:a.parent_product_id,variantName:a.variant_name,isActive:a.is_active,createdAt:a.created_at,updatedAt:a.updated_at}),MT=a=>({id:a.id,code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,type:a.customer_type||"walk-in",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,createdAt:a.created_at,updatedAt:a.updated_at}),_T=a=>({id:a.id,transactionCode:a.transaction_code,date:a.transaction_date,customerId:a.customer_id,subtotal:parseFloat(a.subtotal)||0,discountType:a.discount_type,discountValue:parseFloat(a.discount_value)||0,discount:parseFloat(a.discount_amount)||0,taxPercent:parseFloat(a.tax_percent)||11,tax:parseFloat(a.tax_amount)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.payment_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status||"completed",voidReason:a.void_reason,notes:a.notes,cashierId:a.cashier_id,cashierName:a.cashier_name,source:a.source||"pos",createdAt:a.created_at});function FT(){const a=ne.useRef(!1),n=ne.useRef(null),[i,o]=ne.useState({isOnline:!1,isSyncing:!1,lastSync:null,mode:"polling"});return ne.useEffect(()=>{if(!zr()||a.current)return;a.current=!0;const d=async()=>{console.log(" Initializing cloud sync (polling mode)..."),o(f=>({...f,isSyncing:!0}));try{await u(),o({isOnline:!0,isSyncing:!1,lastSync:new Date().toISOString(),mode:"polling"}),n.current=setInterval(async()=>{o(f=>({...f,isSyncing:!0})),await u(),o(f=>({...f,isSyncing:!1,lastSync:new Date().toISOString()}))},6e4),console.log(" Cloud sync active - polling every 60s")}catch(f){console.error(" Sync error:",f.message),o(h=>({...h,isSyncing:!1,isOnline:!1}))}},u=async()=>{try{const{data:f,error:h}=await kr.from("products").select("*").eq("is_active",!0);if(!h&&f&&f.length>0){const p=is.getState().products,m=new Map(p.map(g=>[g.id,g])),x=new Map(p.filter(g=>g.sku).map(g=>[g.sku,g])),y=new Map(p.filter(g=>g.code).map(g=>[g.code,g]));let w=0;const v=[...p];f.forEach(g=>{const A=RT(g),k=m.has(g.id),E=g.sku&&x.has(g.sku),j=g.code&&y.has(g.code);!k&&!E&&!j&&(v.push(A),w++)}),w>0&&(is.setState({products:v}),console.log(` Products: +${w} new from cloud (total: ${v.length})`))}}catch(f){console.warn(" Products sync:",f.message)}try{const{data:f,error:h}=await kr.from("customers").select("*");if(!h&&f&&f.length>0){const p=_i.getState().customers,m=new Map(p.map(w=>[w.id,w]));let x=0;const y=[...p];f.forEach(w=>{m.has(w.id)||(y.push(MT(w)),x++)}),x>0&&(_i.setState({customers:y}),console.log(` Customers: +${x} new from cloud`))}}catch(f){console.warn(" Customers sync:",f.message)}try{const{data:f,error:h}=await kr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);if(!h&&f&&f.length>0){const p=ki.getState().transactions,m=new Map(p.filter(v=>v.transactionCode).map(v=>[v.transactionCode,v])),x=new Map(p.map(v=>[v.id,v]));let y=0;const w=[...p];f.forEach(v=>{const g=v.transaction_code&&m.has(v.transaction_code),A=x.has(v.id);!g&&!A&&(w.push(_T(v)),y++)}),y>0&&(w.sort((v,g)=>new Date(g.date||g.createdAt)-new Date(v.date||v.createdAt)),ki.setState({transactions:w}),console.log(` Transactions: +${y} new from cloud`))}}catch(f){console.warn(" Transactions sync:",f.message)}console.log(" Sync complete - local data preserved")};return d(),()=>{n.current&&clearInterval(n.current)}},[]),i}function PT({children:a}){const n=FT();return ne.useEffect(()=>{window.__syncStatus=n},[n]),a}const OT="modulepreload",UT=function(a){return"/"+a},Ub={},bo=function(n,i,o){let d=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));d=Promise.allSettled(i.map(p=>{if(p=UT(p),p in Ub)return;Ub[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":OT,m||(y.as="script"),y.crossOrigin="",y.href=p,h&&y.setAttribute("nonce",h),document.head.appendChild(y),m)return new Promise((w,v)=>{y.addEventListener("load",w),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return d.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})},ga={shopee:{name:"Shopee",color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-600",bgLight:"bg-orange-50",borderColor:"border-orange-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#EE4D2D"/>
      <path d="M24 12C20.13 12 17 15.13 17 19V20H15C14.45 20 14 20.45 14 21V35C14 35.55 14.45 36 15 36H33C33.55 36 34 35.55 34 35V21C34 20.45 33.55 20 33 20H31V19C31 15.13 27.87 12 24 12ZM24 14C26.76 14 29 16.24 29 19V20H19V19C19 16.24 21.24 14 24 14ZM24 24C25.1 24 26 24.9 26 26C26 26.74 25.6 27.39 25 27.73V30C25 30.55 24.55 31 24 31C23.45 31 23 30.55 23 30V27.73C22.4 27.39 22 26.74 22 26C22 24.9 22.9 24 24 24Z" fill="white"/>
    </svg>`},lazada:{name:"Lazada",color:"purple",bgColor:"bg-purple-500",textColor:"text-purple-600",bgLight:"bg-purple-50",borderColor:"border-purple-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0F146D"/>
      <path d="M24 36L21.6 33.8C14.4 27.3 10 23.3 10 18.5C10 14.5 13.2 11.3 17.2 11.3C19.5 11.3 21.7 12.4 23.1 14.1L24 15.2L24.9 14.1C26.3 12.4 28.5 11.3 30.8 11.3C34.8 11.3 38 14.5 38 18.5C38 23.3 33.6 27.3 26.4 33.8L24 36Z" fill="#F85606"/>
    </svg>`},tokopedia:{name:"Tokopedia",color:"green",bgColor:"bg-green-500",textColor:"text-green-600",bgLight:"bg-green-50",borderColor:"border-green-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="12" fill="white"/>
      <circle cx="24" cy="24" r="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="4" fill="white"/>
    </svg>`},tiktok:{name:"TikTok Shop",color:"black",bgColor:"bg-gray-900",textColor:"text-gray-900",bgLight:"bg-gray-50",borderColor:"border-gray-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#000000"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="white"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#25F4EE" transform="translate(-1, -1)"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#FE2C55" transform="translate(1, 1)"/>
    </svg>`},manual:{name:"Manual / Lainnya",color:"blue",bgColor:"bg-blue-500",textColor:"text-blue-600",bgLight:"bg-blue-50",borderColor:"border-blue-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3B82F6"/>
      <path d="M14 14H26V18H18V30H14V14ZM20 20H34V34H20V20ZM24 24V30H30V24H24Z" fill="white"/>
    </svg>`}},H1=z1(L1((a,n)=>({stores:[],activeStoreId:null,allProducts:[],allOrders:[],loading:{stores:!1,products:!1,orders:!1,sync:!1},addStore:i=>{var f;const o=n().stores;if(o.some(h=>h.platform===i.platform&&h.shopId===i.shopId&&i.shopId))return{success:!1,error:"Toko sudah terdaftar"};const u={id:Date.now(),platform:i.platform,shopId:i.shopId||"",shopName:i.shopName||`Toko ${((f=ga[i.platform])==null?void 0:f.name)||i.platform}`,ownerName:i.ownerName||"",credentials:{partnerId:i.partnerId||"",partnerKey:i.partnerKey||"",accessToken:i.accessToken||"",refreshToken:i.refreshToken||"",appKey:i.appKey||"",appSecret:i.appSecret||"",fsId:i.fsId||"",clientId:i.clientId||"",clientSecret:i.clientSecret||""},isConnected:!!i.accessToken,isActive:!0,lastSync:null,tokenExpiry:null,productCount:0,orderCount:0,createdAt:new Date().toISOString(),createdBy:i.userId||null,notes:i.notes||""};return a({stores:[...o,u]}),{success:!0,store:u}},updateStore:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,...o,credentials:o.credentials?{...u.credentials,...o.credentials}:u.credentials,updatedAt:new Date().toISOString()}:u);return a({stores:d}),{success:!0}},updateStoreCredentials:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,credentials:{...u.credentials,...o},isConnected:!!o.accessToken||u.isConnected,updatedAt:new Date().toISOString()}:u);return a({stores:d}),{success:!0}},updateStoreSync:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,lastSync:new Date().toISOString(),productCount:o.productCount??u.productCount,orderCount:o.orderCount??u.orderCount,isConnected:!0}:u);a({stores:d})},removeStore:i=>{const o=n().stores.filter(u=>u.id!==i),d=n().activeStoreId;return a({stores:o,activeStoreId:d===i?null:d}),{success:!0}},toggleStoreActive:i=>{const o=n().stores.map(d=>d.id===i?{...d,isActive:!d.isActive}:d);a({stores:o})},setActiveStore:i=>{a({activeStoreId:i})},getStoreById:i=>n().stores.find(o=>o.id===i),getStoresByPlatform:i=>n().stores.filter(o=>o.platform===i),getStoresByUser:i=>n().stores.filter(o=>o.createdBy===i),getActiveStores:()=>n().stores.filter(i=>i.isActive),getConnectedStores:()=>n().stores.filter(i=>i.isConnected),getSummary:()=>{const i=n().stores;return{totalStores:i.length,activeStores:i.filter(o=>o.isActive).length,connectedStores:i.filter(o=>o.isConnected).length,byPlatform:{shopee:i.filter(o=>o.platform==="shopee").length,lazada:i.filter(o=>o.platform==="lazada").length,tokopedia:i.filter(o=>o.platform==="tokopedia").length,tiktok:i.filter(o=>o.platform==="tiktok").length,manual:i.filter(o=>o.platform==="manual").length},totalProducts:i.reduce((o,d)=>o+(d.productCount||0),0),totalOrders:i.reduce((o,d)=>o+(d.orderCount||0),0)}},setLoading:(i,o)=>a({loading:{...n().loading,[i]:o}}),clearAllStores:()=>a({stores:[],activeStoreId:null,allProducts:[],allOrders:[]}),isConnected:!1,shopInfo:null,lastSync:null,products:[],orders:[],summary:null,setConnected:(i,o=null)=>a({isConnected:i,shopInfo:o}),disconnect:()=>a({isConnected:!1,shopInfo:null,products:[],orders:[],summary:null,lastSync:null})}),{name:"marketplace-stores-storage",partialize:a=>({stores:a.stores,activeStoreId:a.activeStoreId})}));class zT{constructor(){this.isRunning=!1,this.lastSyncTime=null,this.syncInterval=null}isAutoSyncEnabled(){return localStorage.getItem("autoSyncEnabled")==="true"}toggleAutoSync(n){localStorage.setItem("autoSyncEnabled",n.toString()),n?this.startPeriodicSync():this.stopPeriodicSync()}async runAutoSync(){if(this.isRunning)return console.log("Auto sync already running, skipping..."),{success:!1,message:"Auto sync sedang berjalan"};if(!this.isAutoSyncEnabled())return console.log("Auto sync is disabled"),{success:!1,message:"Auto sync dinonaktifkan"};this.isRunning=!0,console.log(" Starting auto sync...");const n={products:{success:!1,imported:0,updated:0,error:null},orders:{success:!1,synced:0,error:null},cloud:{success:!1,synced:0,error:null}};try{console.log(" Syncing products from marketplace...");const i=is.getState(),o=H1.getState();if(localStorage.getItem("shopee_access_token"))try{const d=await o.syncShopeeProducts();n.products={success:!0,imported:d.imported||0,updated:d.updated||0,error:null},console.log(` Shopee products synced: ${d.imported} imported, ${d.updated} updated`)}catch(d){n.products.error=d.message,console.error(" Shopee product sync failed:",d)}if(localStorage.getItem("lazada_access_token"))try{const d=await o.syncLazadaProducts();n.products.success?(n.products.imported+=d.imported||0,n.products.updated+=d.updated||0):n.products={success:!0,imported:d.imported||0,updated:d.updated||0,error:null},console.log(` Lazada products synced: ${d.imported} imported, ${d.updated} updated`)}catch(d){console.error(" Lazada product sync failed:",d)}if(console.log(" Syncing orders from marketplace..."),localStorage.getItem("shopee_access_token"))try{const d=await this.syncShopeeOrders();n.orders={success:!0,synced:d.length||0,error:null},console.log(` Shopee orders synced: ${d.length} orders`)}catch(d){n.orders.error=d.message,console.error(" Shopee order sync failed:",d)}console.log(" Syncing to cloud...");try{const d=await i.syncLocalToCloud();n.cloud={success:d.success,synced:d.count||0,error:d.error||null},console.log(` Cloud sync completed: ${d.count} products`)}catch(d){n.cloud.error=d.message,console.error(" Cloud sync failed:",d)}return this.lastSyncTime=new Date().toISOString(),localStorage.setItem("lastAutoSyncTime",this.lastSyncTime),this.showSyncNotification(n),{success:!0,results:n}}catch(i){return console.error(" Auto sync failed:",i),{success:!1,error:i.message}}finally{this.isRunning=!1,console.log(" Auto sync completed")}}async syncShopeeOrders(){var f;const n=localStorage.getItem("shopee_partner_id"),i=localStorage.getItem("shopee_partner_key"),o=localStorage.getItem("shopee_shop_id"),d=localStorage.getItem("shopee_access_token");if(!n||!i||!o||!d)throw new Error("Shopee not configured");const{shopeeApi:u}=await bo(async()=>{const{shopeeApi:h}=await Promise.resolve().then(()=>WF);return{shopeeApi:h}},void 0);try{const h=await u.getOrderList({partner_id:n,partner_key:i,access_token:d,shop_id:o,time_range_field:"create_time",time_from:Math.floor((Date.now()-6048e5)/1e3),time_to:Math.floor(Date.now()/1e3),page_size:100,order_status:"ALL"}),p=((f=h==null?void 0:h.response)==null?void 0:f.order_list)||[];return console.log(`Found ${p.length} Shopee orders to sync`),p}catch(h){throw console.error("Error syncing Shopee orders:",h),h}}showSyncNotification(n){const{products:i,orders:o,cloud:d}=n;let u=` Auto Sync Selesai!

`;i.success?u+=` Produk: ${i.imported} baru, ${i.updated} update
`:i.error&&(u+=` Produk: Gagal (${i.error})
`),o.success?u+=` Pesanan: ${o.synced} disinkron
`:o.error&&(u+=` Pesanan: Gagal (${o.error})
`),d.success?u+=` Cloud: ${d.synced} produk di-backup
`:d.error&&(u+=` Cloud: Gagal (${d.error})
`),typeof window<"u"&&("Notification"in window&&Notification.permission==="granted"?new Notification("Auto Sync POS System",{body:u.replace(/\n/g," "),icon:"/favicon.ico"}):console.log(u))}async initializeOnAppStart(){if(console.log(" Initializing auto sync service..."),typeof window<"u"&&"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission(),this.isAutoSyncEnabled()){const n=localStorage.getItem("lastAutoSyncTime"),i=new Date,o=30*60*1e3;!n||i-new Date(n)>o?setTimeout(()=>{this.runAutoSync()},5e3):console.log(" Auto sync skipped (too soon since last sync)"),this.startPeriodicSync()}}startPeriodicSync(){this.stopPeriodicSync(),this.syncInterval=setInterval(()=>{console.log(" Running periodic auto sync..."),this.runAutoSync()},60*60*1e3),console.log(" Periodic auto sync started (every 1 hour)")}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null,console.log(" Periodic auto sync stopped"))}getLastSyncInfo(){return{lastSyncTime:this.lastSyncTime||localStorage.getItem("lastAutoSyncTime"),isEnabled:this.isAutoSyncEnabled(),isRunning:this.isRunning}}}const Lu=new zT,LT=()=>Lu.initializeOnAppStart(),QT=()=>Lu.runAutoSync(),HT=a=>Lu.toggleAutoSync(a),rp=()=>Lu.getLastSyncInfo();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),jt=(a,n)=>{const i=ne.forwardRef(({color:o="currentColor",size:d=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:h="",children:p,...m},x)=>ne.createElement("svg",{ref:x,...$T,width:d,height:d,stroke:o,strokeWidth:f?Number(u)*24/Number(d):u,className:["lucide",`lucide-${qT(a)}`,h].join(" "),...m},[...n.map(([y,w])=>ne.createElement(y,w)),...Array.isArray(p)?p:[p]]));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=jt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=jt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=jt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=jt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=jt("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=jt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=jt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=jt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=jt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=jt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=jt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=jt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=jt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=jt("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=jt("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=jt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=jt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=jt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=jt("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=jt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=jt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=jt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=jt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=jt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=jt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=jt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=jt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=jt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=jt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=jt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=jt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=jt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=jt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=jt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=jt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=jt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=jt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=jt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=jt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=jt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=jt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=jt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=jt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=jt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),AR=[{path:"/",icon:Cw,label:"Dashboard",permission:"all"},{path:"/pos",icon:yo,label:"POS / Kasir",permission:"pos",webOnly:!0},{path:"/scanner",icon:Bw,label:"Remote Scanner",permission:"pos",androidOnly:!0},{path:"/products",icon:zs,label:"Master Produk",permission:"products"},{path:"/marketplace/integration",icon:y1,label:"Marketplace",permission:"marketplace"},{path:"/stock",icon:Rw,label:"Stok",permission:"stock"},{path:"/purchases",icon:j3,label:"Pembelian",permission:"purchase"},{path:"/sales",icon:Km,label:"Penjualan",permission:"sales"},{path:"/customers",icon:Tw,label:"Pelanggan",permission:"customers"},{path:"/reports",icon:jw,label:"Laporan",permission:"reports"},{path:"/settings",icon:Dw,label:"Pengaturan",permission:"settings"}],Lb=AR.filter(a=>!(a.webOnly&&O1||a.androidOnly&&!O1)),kR=[{path:"/",icon:Cw,label:"Home"},{path:"/pos",icon:yo,label:"Kasir",webOnly:!0},{path:"/scanner",icon:Bw,label:"Scanner",androidOnly:!0},{path:"/products",icon:zs,label:"Master Produk"},{path:"/stock",icon:Rw,label:"Stok"}],jR=kR.filter(a=>!(a.webOnly&&O1||a.androidOnly&&!O1));function NR({children:a}){var E;const[n,i]=ne.useState(!1),[o,d]=ne.useState({isOnline:!1,isSyncing:!1}),[u,f]=ne.useState(!1),h=fl(),{user:p,logout:m}=Ei(),{products:x}=is(),y=x.filter(j=>j.stock<=(j.minStock||5)&&j.stock>0),w=x.filter(j=>j.stock===0),v=y.length+w.length;ne.useEffect(()=>{const j=N=>{N.clientX<=10&&!n&&i(!0)};return"ontouchstart"in window||document.addEventListener("mousemove",j),()=>{document.removeEventListener("mousemove",j)}},[n]),ne.useEffect(()=>{const j=setInterval(()=>{window.__syncStatus&&d(window.__syncStatus)},1e3);return()=>clearInterval(j)},[]);const g=()=>{confirm("Apakah Anda yakin ingin keluar?")&&m()},A=j=>p?p.permissions.includes("all")?!0:p.permissions.includes(j)||p.permissions.includes(`${j}_view`):!1,k=()=>i(!1);return l.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[l.jsxs("header",{className:"bg-dark text-white px-3 py-2.5 flex items-center justify-between z-40 safe-area-top",children:[l.jsx("button",{onClick:()=>i(!0),className:"p-2 -ml-2 rounded-full hover:bg-gray-700 active:bg-gray-600",children:l.jsx(zb,{size:24})}),l.jsx("h1",{className:"text-base sm:text-lg font-semibold truncate flex-1 mx-2",children:((E=Lb.find(j=>j.path===h.pathname))==null?void 0:E.label)||"POS System"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!u),className:"p-2 rounded-full hover:bg-gray-700 active:bg-gray-600 relative",children:[l.jsx(qm,{size:20}),v>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:v>9?"9+":v})]}),u&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[l.jsx("div",{className:"p-3 border-b bg-gray-50",children:l.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifikasi"})}),v===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Tidak ada notifikasi"}):l.jsxs("div",{className:"divide-y",children:[w.length>0&&l.jsxs("div",{className:"p-3 bg-red-50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[l.jsx(iu,{size:16}),l.jsxs("span",{children:["Stok Habis (",w.length,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[w.slice(0,5).map(j=>l.jsxs("div",{className:"text-sm text-red-600",children:[" ",j.name]},j.id)),w.length>5&&l.jsxs("div",{className:"text-xs text-red-500",children:["...dan ",w.length-5," produk lainnya"]})]})]}),y.length>0&&l.jsxs("div",{className:"p-3 bg-yellow-50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 font-medium mb-2",children:[l.jsx(iu,{size:16}),l.jsxs("span",{children:["Stok Menipis (",y.length,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[y.slice(0,5).map(j=>l.jsxs("div",{className:"text-sm text-yellow-600",children:[" ",j.name," (sisa: ",j.stock,")"]},j.id)),y.length>5&&l.jsxs("div",{className:"text-xs text-yellow-500",children:["...dan ",y.length-5," produk lainnya"]})]})]}),l.jsx(Z1,{to:"/stock",onClick:()=>f(!1),className:"block p-3 text-center text-primary hover:bg-gray-50 text-sm font-medium",children:"Lihat Semua Stok "})]})]})]})]}),l.jsx("div",{className:"flex items-center gap-1",title:o.isSyncing?"Syncing...":o.isOnline?`Cloud Sync Active${o.lastSync?` - Last: ${new Date(o.lastSync).toLocaleTimeString()}`:""}`:zr()?"Connecting to cloud...":"Offline Mode",children:o.isSyncing?l.jsx(ii,{size:20,className:"text-yellow-400 animate-spin"}):o.isOnline?l.jsx(ou,{size:20,className:"text-green-400"}):zr()?l.jsx(ou,{size:20,className:"text-yellow-400 animate-pulse"}):l.jsx(XT,{size:20,className:"text-gray-400"})})]})]}),n&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:k}),l.jsxs("aside",{className:`fixed top-0 left-0 h-full w-[85vw] max-w-xs bg-dark text-white z-50 transform transition-transform duration-300 ease-out flex flex-col ${n?"translate-x-0":"-translate-x-full"}`,children:[l.jsx("div",{className:"p-4 border-b border-gray-700 safe-area-top flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-bold",children:"POS System"}),l.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-gray-700",children:l.jsx(Zs,{size:20})})]})}),l.jsx("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:l.jsx(e2,{size:20})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:p==null?void 0:p.name}),l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:p==null?void 0:p.role})]})]})}),l.jsx("nav",{className:"flex-1 p-2 overflow-y-auto min-h-0",children:Lb.map(j=>{if(!A(j.permission))return null;const N=j.icon,B=h.pathname===j.path;return l.jsxs(Z1,{to:j.path,onClick:k,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${B?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 active:bg-gray-600"}`,children:[l.jsx(N,{size:20}),l.jsx("span",{className:"flex-1 text-sm",children:j.label}),l.jsx(Gm,{size:16,className:"text-gray-500"})]},j.path)})}),l.jsx("div",{className:"p-3 border-t border-gray-700 safe-area-bottom flex-shrink-0",children:l.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-300 hover:bg-red-600 hover:text-white active:bg-red-700 transition-colors",children:[l.jsx(cR,{size:20}),l.jsx("span",{className:"text-sm",children:"Logout"})]})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-16",children:a}),l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 safe-area-bottom",children:l.jsxs("div",{className:"flex justify-around items-center h-14",children:[jR.map(j=>{if(!A(j.permission||"all"))return null;const N=j.icon,B=h.pathname===j.path;return l.jsxs(Z1,{to:j.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${B?"text-primary":"text-gray-500 active:text-gray-700"}`,children:[l.jsx(N,{size:20,strokeWidth:B?2.5:2}),l.jsx("span",{className:`text-[10px] mt-0.5 leading-tight ${B?"font-medium":""}`,children:j.label})]},j.path)}),l.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center flex-1 h-full text-gray-500 active:text-gray-700",children:[l.jsx(zb,{size:20}),l.jsx("span",{className:"text-[10px] mt-0.5 leading-tight",children:"Lainnya"})]})]})})]})}function SR(){const[a,n]=ne.useState(""),[i,o]=ne.useState(""),[d,u]=ne.useState(!1),[f,h]=ne.useState(""),p=So(),{login:m}=Ei(),x=async y=>{y.preventDefault(),u(!0),h(""),setTimeout(()=>{const w=m(a,i);w.success||w===!0?p("/"):h(w.error||"Username atau password salah"),u(!1)},500)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(yo,{size:40,className:"text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"POS System"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Sistem Manajemen Stok & Kasir"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),l.jsx("input",{type:"text",value:a,onChange:y=>n(y.target.value),className:"input",placeholder:"Masukkan username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:i,onChange:y=>o(y.target.value),className:"input",placeholder:"Masukkan password",required:!0})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full btn btn-primary flex items-center justify-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Z0,{size:20,className:"animate-spin"}),l.jsx("span",{children:"Loading..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(lR,{size:20}),l.jsx("span",{children:"Login"})]})})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Login:"}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[l.jsx("p",{children:" Admin: admin / admin123"}),l.jsx("p",{children:" Kasir: kasir / kasir123"})]})]})]}),l.jsx("p",{className:"text-center text-white mt-6 text-sm",children:" 2025 POS System. All rights reserved."})]})})}const Qu=z1(L1((a,n)=>({storeInfo:{name:"TOKO SEJAHTERA",address:"Jl. Merdeka No. 123, Jakarta",phone:"(021) 1234-5678",email:"info@tokosejahtera.com",logo:null},stockSettings:{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30},whatsappNumber:"",whatsappMessage:"Halo, saya ingin bertanya tentang produk di toko Anda.",updateStoreInfo:i=>{a(o=>({storeInfo:{...o.storeInfo,...i}}))},setLogo:i=>{a(o=>({storeInfo:{...o.storeInfo,logo:i}}))},updateStockSettings:i=>{a(o=>({stockSettings:{...o.stockSettings,...i}}))},updateWhatsApp:(i,o)=>{a({whatsappNumber:i,whatsappMessage:o||n().whatsappMessage})},getMarketplaceStock:i=>{const{bufferPercent:o,minBuffer:d}=n().stockSettings,u=Math.max(Math.ceil(i*(o/100)),d);return Math.max(0,i-u)},getWhatsAppLink:i=>{const o=n().whatsappNumber.replace(/\D/g,""),d=encodeURIComponent(i||n().whatsappMessage);return o?`https://wa.me/${o}?text=${d}`:null}}),{name:"settings-storage"})),ER=({platform:a,size:n=24})=>{const i=ga[a]||ga.manual;return i.logo?l.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):l.jsx("span",{className:"text-xl",children:i.icon||""})};function CR(){const{products:a,getLowStockProducts:n}=is(),{transactions:i,getTodaySales:o,getTodayTransactions:d}=ki(),{customers:u}=_i(),{whatsappNumber:f,getWhatsAppLink:h}=Qu(),{stores:p,getSummary:m}=H1(),[x,y]=ne.useState(!1),[w,v]=ne.useState([]),g=o(),A=d(),k=n();m();const E=A.reduce((I,D)=>{if(D.status!=="completed")return I;const T=(D.items||[]).reduce((R,$)=>{const _=a.find(Q=>Q.id===$.id),F=(_==null?void 0:_.cost)||0;return R+($.price-F)*$.quantity},0);return I+T},0),j=a.filter(I=>I.stock===0);ne.useEffect(()=>{(j.length>0||k.length>0)&&y(!0)},[j.length,k.length]);const N=[{title:"Penjualan Hari Ini",value:`Rp ${g.toLocaleString("id-ID")}`,icon:c2,color:"bg-green-500",trend:"+12.5%",trendUp:!0},{title:"Transaksi Hari Ini",value:A.length,icon:yo,color:"bg-blue-500",trend:"+8.2%",trendUp:!0},{title:"Total Produk",value:a.length,icon:zs,color:"bg-purple-500",trend:"+3",trendUp:!0},{title:"Total Pelanggan",value:u.length,icon:Tw,color:"bg-orange-500",trend:"+15",trendUp:!0}],B=[{label:"Transaksi Baru",path:"/pos",color:"bg-primary",icon:yo},{label:"Tambah Produk",path:"/products",color:"bg-success",icon:zs},{label:"Cek Stok",path:"/stock",color:"bg-warning",icon:zs},{label:"Barang Masuk",path:"/purchases",color:"bg-info",icon:Km}];return l.jsxs("div",{className:"p-6 space-y-6",children:[x&&(j.length>0||k.length>0)&&l.jsxs("div",{className:`${j.length>0?"bg-red-500":"bg-orange-500"} text-white p-4 rounded-xl flex items-center justify-between animate-pulse`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qm,{size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:j.length>0?` ${j.length} produk HABIS!`:` ${k.length} produk stok menipis`}),l.jsx("p",{className:"text-sm opacity-90",children:j.length>0?"Segera lakukan restock untuk produk yang sudah habis":"Beberapa produk mendekati batas minimum stok"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Z1,{to:"/stock",className:"bg-white text-gray-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100",children:"Lihat Detail"}),l.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:l.jsx(Zs,{size:20})})]})]}),f&&l.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors z-50 flex items-center gap-2",title:"Hubungi Customer Service",children:l.jsx(A3,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Selamat datang di sistem POS & Inventory Management"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((I,D)=>{const T=I.icon;return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:I.title}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:I.value}),l.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[I.trendUp?l.jsx(VT,{size:16,className:"text-green-600"}):l.jsx(GT,{size:16,className:"text-red-600"}),l.jsx("span",{className:`text-sm font-medium ${I.trendUp?"text-green-600":"text-red-600"}`,children:I.trend}),l.jsx("span",{className:"text-sm text-gray-500",children:"vs kemarin"})]})]}),l.jsx("div",{className:`${I.color} p-3 rounded-xl`,children:l.jsx(T,{size:24,className:"text-white"})})]})},D)})}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.map((I,D)=>{const T=I.icon;return l.jsxs(Z1,{to:I.path,className:`${I.color} text-white p-6 rounded-xl hover:opacity-90 transition-opacity`,children:[l.jsx(T,{size:32,className:"mb-3"}),l.jsx("p",{className:"font-semibold",children:I.label})]},D)})})]}),p.length>0&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(y1,{className:"text-primary",size:24}),"Marketplace Terhubung"]}),l.jsx(Z1,{to:"/marketplace/integration",className:"text-primary hover:underline text-sm",children:"Kelola Toko"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.filter(I=>I.isActive).slice(0,4).map(I=>{const D=ga[I.platform]||ga.manual;return l.jsxs("div",{className:`${D.bgLight} ${D.borderColor} border rounded-lg p-4`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ER,{platform:I.platform,size:28}),l.jsx("span",{className:`text-sm font-medium ${D.textColor}`,children:D.name})]}),l.jsx("p",{className:"font-semibold text-gray-900 truncate",children:I.shopName}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-600",children:[l.jsxs("span",{children:[I.productCount||0," produk"]}),I.isConnected&&l.jsx("span",{className:"text-green-600",children:" Online"})]})]},I.id)})}),p.length>4&&l.jsxs("p",{className:"text-center text-sm text-gray-500 mt-3",children:["+",p.length-4," toko lainnya"]})]}),l.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm",children:"Estimasi Profit Hari Ini"}),l.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["Rp ",E.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Dari ",A.filter(I=>I.status==="completed").length," transaksi selesai"]})]}),l.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:l.jsx(Iw,{size:32})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(iu,{className:"text-warning",size:24}),"Stok Menipis"]}),l.jsx(Z1,{to:"/stock",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),k.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Semua stok aman"}):l.jsx("div",{className:"space-y-3",children:k.slice(0,5).map(I=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:I.name}),l.jsx("p",{className:"text-sm text-gray-600",children:I.code})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-orange-600",children:[I.stock," ",I.unit]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",I.minStock]})]})]},I.id))})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Transaksi Terbaru"}),l.jsx(Z1,{to:"/sales",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),A.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada transaksi hari ini"}):l.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(I=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:I.id}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(I.date).toLocaleTimeString("id-ID")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-green-600",children:["Rp ",I.total.toLocaleString("id-ID")]}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:I.paymentMethod})]})]},I.id))})]})]})]})}const S3=z1(L1((a,n)=>({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash",addToCart:(i,o=1)=>{const d=n().cartItems.find(u=>u.id===i.id);if(d){if(d.quantity+o>d.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:u.cartItems.map(f=>f.id===i.id?{...f,quantity:f.quantity+o}:f)}))}else{if(o>i.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:[...u.cartItems,{...i,quantity:o}]}))}},removeFromCart:i=>{a(o=>({cartItems:o.cartItems.filter(d=>d.id!==i)}))},updateQuantity:(i,o)=>{if(o<=0){n().removeFromCart(i);return}const d=n().cartItems.find(u=>u.id===i);if(d&&o>d.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:u.cartItems.map(f=>f.id===i?{...f,quantity:o}:f)}))},updateItemDiscount:(i,o)=>{a(d=>({cartItems:d.cartItems.map(u=>u.id===i?{...u,itemDiscount:o}:u)}))},setDiscount:(i,o="percent")=>{a({discount:i,discountType:o})},setCustomer:i=>{a({selectedCustomer:i})},setPaymentMethod:i=>{a({paymentMethod:i})},getSubtotal:()=>n().cartItems.reduce((i,o)=>{const d=o.price*o.quantity,u=o.itemDiscount||0;return i+(d-u)},0),getDiscount:()=>{const i=n().getSubtotal(),{discount:o,discountType:d}=n();return d==="percent"?i*o/100:o},getTax:()=>{const i=n().getSubtotal(),o=n().getDiscount();return(i-o)*.11},getTotal:()=>{const i=n().getSubtotal(),o=n().getDiscount(),d=n().getTax();return i-o+d},clearCart:()=>{a({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash"})},holdTransaction:()=>{const i=n(),o={id:Date.now(),cartItems:i.cartItems,selectedCustomer:i.selectedCustomer,discount:i.discount,discountType:i.discountType,timestamp:new Date().toISOString()};return localStorage.setItem(`held_${o.id}`,JSON.stringify(o)),n().clearCart(),o.id}}),{name:"cart-storage"}));function IR(){const[a,n]=ne.useState(""),[i,o]=ne.useState(!1),[d,u]=ne.useState(!1),[f,h]=ne.useState(!1),[p,m]=ne.useState(null),[x,y]=ne.useState(""),[w,v]=ne.useState(!1),[g,A]=ne.useState(null),[k,E]=ne.useState(!1),j=ne.useRef(null),{products:N,updateStock:B}=is(),{cartItems:I,addToCart:D,removeFromCart:T,updateQuantity:R,updateItemDiscount:$,setDiscount:_,setCustomer:F,setPaymentMethod:Q,selectedCustomer:L,discount:X,discountType:le,paymentMethod:fe,getSubtotal:V,getDiscount:H,getTax:se,getTotal:ue,clearCart:U,holdTransaction:W}=S3(),{customers:re}=_i(),{addTransaction:ie}=ki(),{storeInfo:be}=Qu(),{user:K}=Ei();ne.useEffect(()=>{if(!w)return;const Ae=kr.channel("barcode-scans").on("postgres_changes",{event:"INSERT",schema:"public",table:"barcode_scans"},async Le=>{const he=Le.new;if(!he.processed){const Pe=N.find(Me=>Me.barcode===he.barcode||Me.code===he.barcode||Me.sku===he.barcode);if(Pe){if(Pe.stock>0){D(Pe),A({barcode:he.barcode,product:Pe.name,device:he.device_name,time:new Date().toLocaleTimeString()});try{const Me=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp2LdV1PU2V4jZ+jnIxvVEJIX3mOnaCXhWlNOT9Wd46hpJuGZkQwPFd0j6OlloBcOiotUXORpqmhimE/LzNTdJOnq6OKXzgoLVJ1k6mupYlaPyctUneVq7CnilY4Ji5VeZitsKmIUjYmL1h8m6+xqYdNMyYwW4CfsrOpg0gvJjFehKKzsqV9QysmM2OIpbSypXY+JyU2aI2otbKicDkkJDlukqu2sqBqNSMjPHOWrre0nWQxIiJAfpqxuLSZXSwgIkWDn7S4tJRVKR4hSoiltbi0kE4lHSBOjqm3uLSMRyIbIFOTrLi4tIY/HxofWJivuLi0gDgdGR5dnbG4uLR5MRoYHmKhsri4tHIrFxYeZ6WzuLhzLA==");Me.volume=.3,Me.play()}catch{}}}else A({barcode:he.barcode,product:null,device:he.device_name,time:new Date().toLocaleTimeString(),error:"Produk tidak ditemukan"});await kr.from("barcode_scans").update({processed:!0,processed_at:new Date().toISOString()}).eq("id",he.id)}}).subscribe();return()=>{kr.removeChannel(Ae)}},[w,N,D]);const ke=N.filter(Ae=>{var Le;return Ae.name.toLowerCase().includes(a.toLowerCase())||Ae.code.toLowerCase().includes(a.toLowerCase())||((Le=Ae.barcode)==null?void 0:Le.includes(a))}),je=Ae=>{var Le;Ae.stock>0?(D(Ae),n(""),(Le=j.current)==null||Le.focus()):alert("Stok habis!")},Qe=()=>{if(I.length===0){alert("Cart masih kosong!");return}u(!0)},ze=async()=>{const Ae=ue(),Le=parseFloat(x)||0;if(fe==="cash"&&Le<Ae){alert("Jumlah uang tidak cukup!");return}E(!0);try{const he={items:I,customer:L,subtotal:V(),discount:H(),tax:se(),total:Ae,paymentMethod:fe,cashAmount:fe==="cash"?Le:Ae,change:fe==="cash"?Le-Ae:0,cashierName:(K==null?void 0:K.name)||"Kasir",cashierId:K==null?void 0:K.id};for(const Me of I)await B(Me.id,Me.quantity,"subtract","sale","Penjualan",K==null?void 0:K.id);const Pe=await ie(he);m(Pe),u(!1),h(!0),U(),y("")}catch(he){console.error("Transaction error:",he),alert("Gagal memproses transaksi: "+he.message)}finally{E(!1)}},tt=()=>{window.print(),h(!1)},Ze=()=>{if(I.length===0){alert("Cart masih kosong!");return}const Ae=W();alert(`Transaksi disimpan dengan ID: ${Ae}`)},Re=()=>{confirm("Batalkan transaksi ini?")&&U()},He=V(),Ue=H(),ye=se(),Ye=ue();return l.jsxs("div",{className:"h-screen flex bg-gray-50",children:[g&&l.jsxs("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg animate-pulse ${g.error?"bg-red-500":"bg-green-500"} text-white max-w-sm`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[g.error?l.jsx(Zs,{className:"flex-shrink-0",size:24}):l.jsx(b1,{className:"flex-shrink-0",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:g.error||g.product}),l.jsxs("p",{className:"text-sm opacity-90",children:[g.barcode,"  ",g.device]})]})]}),l.jsx("button",{onClick:()=>A(null),className:"absolute top-1 right-1 p-1 hover:bg-white/20 rounded",children:l.jsx(Zs,{size:16})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b p-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{ref:j,type:"text",value:a,onChange:Ae=>n(Ae.target.value),placeholder:"Cari produk (nama, kode, atau scan barcode)...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),l.jsxs("button",{onClick:()=>v(!w),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${w?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Aktifkan untuk menerima scan dari HP Android",children:[w?l.jsx(du,{size:20}):l.jsx(Mw,{size:20}),l.jsx("span",{className:"hidden lg:inline",children:w?"Scanner Aktif":"Remote Scan"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(e2,{size:20}),L?L.name:"Pilih Pelanggan"]})]}),w&&l.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-lg px-4 py-2 flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"relative flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),l.jsx("span",{className:"text-green-700 font-medium",children:"Menunggu scan dari Android..."})]}),l.jsx("p",{className:"text-green-600 text-sm ml-auto",children:'Buka "Remote Scanner" di HP untuk scan barcode'})]})]}),l.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[a&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ke.map(Ae=>l.jsxs("button",{onClick:()=>je(Ae),className:`p-4 rounded-lg border-2 text-left transition-all hover:shadow-lg ${Ae.stock>0?"border-gray-200 hover:border-primary bg-white":"border-red-200 bg-red-50 cursor-not-allowed opacity-50"}`,disabled:Ae.stock===0,children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:Ae.name}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Ae.code}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-lg font-bold text-primary",children:["Rp ",Ae.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:`text-sm ${Ae.stock>10?"text-green-600":"text-orange-600"}`,children:["Stock: ",Ae.stock]})]})]},Ae.id))}),!a&&l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Zi,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Cari atau scan produk untuk memulai transaksi"})]})})]})]}),l.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Keranjang"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[I.length," item"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:I.length===0?l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(k3,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Keranjang kosong"})]})}):I.map(Ae=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:Ae.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Rp ",Ae.price.toLocaleString("id-ID")," x ",Ae.quantity]})]}),l.jsx("button",{onClick:()=>T(Ae.id),className:"text-red-600 hover:bg-red-100 p-1 rounded",children:l.jsx(zn,{size:16})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>R(Ae.id,Ae.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300",children:l.jsx(dR,{size:16})}),l.jsx("span",{className:"w-12 text-center font-semibold",children:Ae.quantity}),l.jsx("button",{onClick:()=>R(Ae.id,Ae.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-primary text-white rounded hover:bg-blue-600",disabled:Ae.quantity>=Ae.stock,children:l.jsx(Qs,{size:16})})]}),l.jsxs("p",{className:"font-bold text-gray-900",children:["Rp ",(Ae.price*Ae.quantity).toLocaleString("id-ID")]})]})]},Ae.id))}),l.jsxs("div",{className:"p-4 border-t space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["Rp ",He.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Diskon"}),l.jsxs("span",{className:"text-red-600",children:["- Rp ",Ue.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Pajak (11%)"}),l.jsxs("span",{children:["Rp ",ye.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xl font-bold pt-3 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary",children:["Rp ",Ye.toLocaleString("id-ID")]})]})]}),l.jsxs("div",{className:"p-4 border-t space-y-2",children:[l.jsxs("button",{onClick:Qe,disabled:I.length===0,className:"w-full btn btn-success py-4 text-lg font-bold",children:[l.jsx(b1,{size:24}),"BAYAR"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:Ze,className:"btn btn-warning",children:[l.jsx(uR,{size:18}),"Hold"]}),l.jsxs("button",{onClick:Re,className:"btn btn-danger",children:[l.jsx(Zs,{size:18}),"Void"]}),l.jsxs("button",{className:"btn btn-secondary",children:[l.jsx(Iw,{size:18}),"Diskon"]})]})]})]}),i&&l.jsx(ap,{onClose:()=>o(!1),title:"Pilih Pelanggan",children:l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:re.map(Ae=>l.jsxs("button",{onClick:()=>{F(Ae),o(!1)},className:`w-full p-3 rounded-lg border-2 text-left hover:border-primary transition-colors ${(L==null?void 0:L.id)===Ae.id?"border-primary bg-blue-50":"border-gray-200"}`,children:[l.jsx("p",{className:"font-semibold",children:Ae.name}),l.jsx("p",{className:"text-sm text-gray-600",children:Ae.phone}),Ae.type!=="walk-in"&&l.jsxs("p",{className:"text-xs text-primary mt-1",children:["Poin: ",Ae.points]})]},Ae.id))})}),d&&l.jsx(ap,{onClose:()=>u(!1),title:"Pembayaran",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-3xl font-bold text-center text-primary mb-6",children:["Rp ",Ye.toLocaleString("id-ID")]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metode Pembayaran"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"cash",label:"Tunai",icon:c2},{id:"card",label:"Kartu",icon:tR},{id:"ewallet",label:"E-Wallet",icon:xR},{id:"transfer",label:"Transfer",icon:yR}].map(Ae=>{const Le=Ae.icon;return l.jsxs("button",{onClick:()=>Q(Ae.id),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-2 ${fe===Ae.id?"border-primary bg-blue-50":"border-gray-200 hover:border-primary"}`,children:[l.jsx(Le,{size:24}),l.jsx("span",{className:"text-sm font-medium",children:Ae.label})]},Ae.id)})})]}),fe==="cash"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah Uang"}),l.jsx("input",{type:"number",value:x,onChange:Ae=>y(Ae.target.value),placeholder:"0",className:"input text-xl text-right",autoFocus:!0}),x&&l.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:"Kembalian:"}),l.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",Math.max(0,parseFloat(x)-Ye).toLocaleString("id-ID")]})]})}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[5e4,1e5,2e5].map(Ae=>l.jsx("button",{onClick:()=>y(Ae.toString()),className:"btn btn-outline",children:Ae.toLocaleString("id-ID")},Ae))})]}),l.jsx("button",{onClick:ze,disabled:k,className:"w-full btn btn-success py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:k?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Memproses..."]}):l.jsxs(l.Fragment,{children:[l.jsx(b1,{size:20}),"Selesaikan Transaksi"]})})]})}),f&&p&&l.jsxs(ap,{onClose:()=>h(!1),title:"Struk Pembayaran",children:[l.jsxs("div",{id:"receipt",className:"space-y-4",children:[l.jsxs("div",{className:"text-center border-b pb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:(be==null?void 0:be.name)||"TOKO SAYA"}),l.jsx("p",{className:"text-sm text-gray-600",children:(be==null?void 0:be.address)||"Alamat Toko"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Telp: ",(be==null?void 0:be.phone)||"-"]})]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"No. Transaksi:"}),l.jsx("span",{className:"font-semibold",children:p.id})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tanggal:"}),l.jsx("span",{children:new Date(p.date).toLocaleString("id-ID")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Kasir:"}),l.jsx("span",{children:p.cashierName})]})]}),l.jsx("div",{className:"border-t border-b py-3 space-y-2",children:p.items.map((Ae,Le)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:Ae.name}),l.jsxs("span",{children:["Rp ",(Ae.price*Ae.quantity).toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[Ae.quantity," x Rp ",Ae.price.toLocaleString("id-ID")]})]},Le))}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["Rp ",p.subtotal.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Diskon:"}),l.jsxs("span",{children:["- Rp ",p.discount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Pajak (11%):"}),l.jsxs("span",{children:["Rp ",p.tax.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["Rp ",p.total.toLocaleString("id-ID")]})]}),p.paymentMethod==="cash"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Bayar:"}),l.jsxs("span",{children:["Rp ",p.cashAmount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Kembali:"}),l.jsxs("span",{children:["Rp ",p.change.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-gray-600 pt-4 border-t",children:[l.jsx("p",{children:"Terima kasih atas kunjungan Anda"}),l.jsx("p",{children:"Barang yang sudah dibeli tidak dapat ditukar"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-6",children:[l.jsxs("button",{onClick:tt,className:"flex-1 btn btn-primary",children:[l.jsx(d2,{size:20}),"Print Struk"]}),l.jsx("button",{onClick:()=>h(!1),className:"flex-1 btn btn-secondary",children:"Tutup"})]})]})]})}function ap({children:a,onClose:n,title:i}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:i}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),l.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:a})]})})}var Sn;(function(a){a.Aztec="AZTEC",a.Codabar="CODABAR",a.Code39="CODE_39",a.Code93="CODE_93",a.Code128="CODE_128",a.DataMatrix="DATA_MATRIX",a.Ean8="EAN_8",a.Ean13="EAN_13",a.Itf="ITF",a.Pdf417="PDF_417",a.QrCode="QR_CODE",a.UpcA="UPC_A",a.UpcE="UPC_E"})(Sn||(Sn={}));var Qb;(function(a){a.CalendarEvent="CALENDAR_EVENT",a.ContactInfo="CONTACT_INFO",a.DriversLicense="DRIVERS_LICENSE",a.Email="EMAIL",a.Geo="GEO",a.Isbn="ISBN",a.Phone="PHONE",a.Product="PRODUCT",a.Sms="SMS",a.Text="TEXT",a.Url="URL",a.Wifi="WIFI",a.Unknown="UNKNOWN"})(Qb||(Qb={}));var Hb;(function(a){a[a["640x480"]=0]="640x480",a[a["1280x720"]=1]="1280x720",a[a["1920x1080"]=2]="1920x1080",a[a["3840x2160"]=3]="3840x2160"})(Hb||(Hb={}));var $b;(function(a){a.Front="FRONT",a.Back="BACK"})($b||($b={}));var qb;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.PENDING=1]="PENDING",a[a.DOWNLOADING=2]="DOWNLOADING",a[a.CANCELED=3]="CANCELED",a[a.COMPLETED=4]="COMPLETED",a[a.FAILED=5]="FAILED",a[a.INSTALLING=6]="INSTALLING",a[a.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(qb||(qb={}));var Gb;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Gb||(Gb={}));var Vb;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Vb||(Vb={}));var Yb;(function(a){a[a.FAX=0]="FAX",a[a.HOME=1]="HOME",a[a.MOBILE=2]="MOBILE",a[a.UNKNOWN=3]="UNKNOWN",a[a.WORK=4]="WORK"})(Yb||(Yb={}));var Kb;(function(a){a[a.OPEN=1]="OPEN",a[a.WEP=2]="WEP",a[a.WPA=3]="WPA"})(Kb||(Kb={}));const ti=ml("BarcodeScanner",{web:()=>bo(()=>import("./web-CGiEcC7r.js"),[]).then(a=>new a.BarcodeScannerWeb)});function BR({onScan:a,onClose:n}){const[i,o]=ne.useState(!1),[d,u]=ne.useState(!1),[f,h]=ne.useState(null);ne.useEffect(()=>(y(),()=>{w()}),[]);const p=async()=>{const{camera:A}=await ti.requestPermissions();return A==="granted"||A==="limited"},m=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const A=document.getElementById("root");A&&(A.style.visibility="hidden")},x=()=>{document.body.style.background="",document.documentElement.style.background="";const A=document.getElementById("root");A&&(A.style.visibility="visible")},y=async()=>{try{if(h(null),!O1){h("Barcode scanner hanya tersedia di aplikasi Android");return}if(!await p()){h("Izin kamera diperlukan untuk scan barcode");return}m(),o(!0),await ti.addListener("barcodeScanned",async k=>{k.barcode&&k.barcode.rawValue&&(await w(),a(k.barcode.rawValue))}),await ti.startScan({formats:[Sn.Ean13,Sn.Ean8,Sn.Code128,Sn.Code39,Sn.Code93,Sn.QrCode,Sn.UpcA,Sn.UpcE],lensFacing:"back"})}catch(A){console.error("Scan error:",A),h("Gagal memulai scanner: "+A.message),x(),o(!1)}},w=async()=>{try{await ti.stopScan(),await ti.removeAllListeners(),d&&await ti.toggleTorch()}catch(A){console.error("Stop scan error:",A)}finally{x(),o(!1),u(!1)}},v=async()=>{try{await ti.toggleTorch(),u(!d)}catch(A){console.error("Torch error:",A)}},g=async()=>{await w(),n()};return f?l.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:f}),l.jsx("button",{onClick:g,className:"btn btn-primary",children:"Tutup"})]})}):l.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent",pointerEvents:"auto"},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-blue-500 rounded-tl-xl"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-blue-500 rounded-tr-xl"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-blue-500 rounded-bl-xl"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-blue-500 rounded-br-xl"}),l.jsx("div",{className:"absolute left-4 right-4 h-1 bg-blue-500 rounded scanning-line"})]})}),l.jsxs("div",{className:"absolute top-16 left-0 right-0 text-center pointer-events-none",children:[l.jsx("p",{className:"text-white text-xl font-semibold drop-shadow-lg",children:"Arahkan kamera ke barcode"}),l.jsx("p",{className:"text-gray-200 text-sm mt-2 drop-shadow",children:"Scan akan otomatis berjalan"})]}),l.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[l.jsx("button",{onClick:v,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:d?l.jsx(Nw,{size:28,className:"text-yellow-400"}):l.jsx(Sw,{size:28,className:"text-white"})}),l.jsx("button",{onClick:g,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:l.jsx(Zs,{size:30,className:"text-white"})})]}),!i&&l.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Memulai kamera..."})]})}),l.jsx("style",{children:`
        .scanning-line {
          animation: scan 2s ease-in-out infinite;
        }
        @keyframes scan {
          0%, 100% { top: 10%; }
          50% { top: 85%; }
        }
      `})]})}var ee=null,t=0,r=[],e={};const Jo=Math.abs,xr=Math.ceil,Wb=Math.floor,pn=Math.log,di=Math.pow,E1=Math.round,uu=Math.sqrt;function s(a){if(arguments.length){if(!(a instanceof Array)){a=new Array(+arguments[0]);for(var n=0,i=a.length;n<i;n++)a[n]=null}}else{for(var n=t-1;n>=0&&r[n]!==1/0;n--);if(n<0)throw new Error("array-marker-not-found");a=r.splice(n+1,t-1-n),t=n}return a.b=a,a.o=0,a}function Ge(){for(var a=t-1;a>=0&&r[a]!==1/0;a-=2)if(r[a-1]===1/0)throw new Error("dict-malformed-stack");if(a<0)throw new Error("dict-marker-not-found");for(var n=new Map,i=a+1;i<t;i+=2){var o=r[i],d=typeof o;if(d=="number"||d=="string")n.set(o,r[i+1]);else if(o instanceof Uint8Array)n.set(Cn(o),r[i+1]);else throw new Error("dict-not-a-valid-key("+o+")")}return t=a,n}function J(a){var n=typeof a;if(n==="number")return new Uint8Array(a);n!=="string"&&(a=""+a);for(var i=new Uint8Array(a.length),o=0,d=a.length;o<d;o++)i[o]=a.charCodeAt(o);return i}function Sa(a,n){if(t<a)throw new Error("roll: --stack-underflow--");if(n){if(n<0)var i=r.splice(t-a,-n);else var i=r.splice(t-a,a-n);r.splice.apply(r,[t-i.length,0].concat(i))}}function Cn(a){return a instanceof Uint8Array?String.fromCharCode.apply(null,a):""+a}function _r(a,n){if(typeof a=="string"&&(a=J(a)),n instanceof Uint8Array)for(var i=0,o=n.length;i<o;i++)a[i]=n[i];else for(var i=0,o=n.length;i<o;i++)a[i]=n.charCodeAt(i);return n.length<a.length?a.subarray(0,n.length):a}function uc(a,n){for(var i=0,o=n.length;i<o;i++)a[i]=n[i];return a.length=n.length,a}function Fe(a){return a instanceof Uint8Array?Wb(String.fromCharCode.apply(null,a).replace(/\0+$/,"")):Wb(""+a)}function $t(a,n,i){return _r(a,(~~n).toString(i).toUpperCase())}function c(a,n){return a instanceof Uint8Array?a[n]:typeof a=="string"?a.charCodeAt(n):a instanceof Array?a.b[a.o+n]:(n instanceof Uint8Array&&(n=Cn(n)),a instanceof Map?a.get(n):a[n])}function b(a,n,i){if(a instanceof Uint8Array)a[n]=i;else if(a instanceof Array)a.b[a.o+n]=i;else if(typeof a=="object")n instanceof Uint8Array?a.set(Cn(n),i):a.set(n,i);else throw new Error("put-not-writable-"+typeof a)}function C(a,n,i){if(a instanceof Uint8Array)return a.subarray(n,n+i);if(a instanceof Array){var o=new Array(i);return o.b=a.b,o.o=a.o+n,o}return a.substr(n,i)}function M(a,n,i){if(a instanceof Uint8Array)if(typeof i=="string")for(var o=0,d=i.length;o<d;o++)a[n+o]=i.charCodeAt(o);else for(var o=i.length-1;o>=0;o--)a[n+o]=i[o];else if(a instanceof Array)for(var u=a.b,f=n+a.o,h=i.b,p=i.o,o=0,d=i.length;o<d;o++)u[f+o]=h[p+o];else throw new Error("putinterval-not-writable-"+typeof a)}function an(a){if(a==null)return"nulltype";var n=typeof a;return n=="number"?a%1?"realtype":"integertype":n=="boolean"?"booleantype":n=="string"||a instanceof Uint8Array?"stringtype":n=="function"?"operatortype":a instanceof Array?"arraytype":"dicttype"}function c0(a,n){a instanceof Uint8Array||(a=J(a));var i=0,o=a.length,d=n.length;if(d==1){var u=n instanceof Uint8Array?n[0]:n.charCodeAt(0);i=a[0]==u?1:o}else if(n.length<=o)for(n instanceof Uint8Array||(n=J(n));i<d&&a[i]==n[i];i++);i==d?(r[t++]=a.subarray(d),r[t++]=a.subarray(0,d),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function Rt(a,n){a instanceof Uint8Array||(a=J(a));var i=a.length;if(n.length==1)for(var o=1,d=n instanceof Uint8Array?n[0]:n.charCodeAt(0),u=0;u<i&&a[u]!=d;u++);else{n instanceof Uint8Array||(n=J(n));for(var o=n.length,d=n[0],u=0;u<i&&a[u]!=d;u++);for(;u<i;){for(var f=1;f<o&&a[u+f]===n[f];f++);if(f===o)break;for(u++;u<i&&a[u]!=d;u++);}}u<i?(r[t++]=a.subarray(u+o),r[t++]=a.subarray(u,u+o),r[t++]=a.subarray(0,u),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function ve(a,n){if(a instanceof Uint8Array)for(var i=0,o=a.length;i<o&&(r[t++]=a[i],!(n&&n()));i++);else if(a instanceof Array)for(var d=a.b,i=a.o,o=a.o+a.length;i<o&&(r[t++]=d[i],!(n&&n()));i++);else if(typeof a=="string")for(var i=0,o=a.length;i<o&&(r[t++]=a.charCodeAt(i),!(n&&n()));i++);else if(a instanceof Map)for(var u=a.keys(),i=0,o=a.size;i<o;i++){var f=u.next().value;if(r[t++]=f,r[t++]=a.get(f),n&&n())break}else for(var f in a)if(r[t++]=f,r[t++]=a[f],n&&n())break}function rl(){for(;t>0&&r[--t]!==1/0;);}function va(){for(var a=t-1;a>=0&&r[a]!==1/0;a--);return t-a-1}function O(a){for(var n=0,i=a.length,o=a.b,d=a.o;n<i;n++)r[t++]=o[d+n]}function Yt(a){for(var n=0,i=a.length,o=a.b,d=a.o+i-1;n<i;n++)o[d-n]=r[--t];r[t++]=a}function Y(a,n){if(typeof a=="string"&&typeof n=="string")return a==n;if(a instanceof Uint8Array&&n instanceof Uint8Array){if(a.length!=n.length)return!1;for(var i=0,o=a.length;i<o;i++)if(a[i]!=n[i])return!1;return!0}return(a instanceof Uint8Array&&typeof n=="string"||n instanceof Uint8Array&&typeof a=="string")&&(a instanceof Uint8Array?a=Cn(a):n=Cn(n)),a==n}function _e(a,n){return!Y(a,n)}function xn(a,n){return a instanceof Uint8Array&&(a=Cn(a)),n instanceof Uint8Array&&(n=Cn(n)),a<n}function fc(a,n){return a instanceof Uint8Array&&(a=Cn(a)),n instanceof Uint8Array&&(n=Cn(n)),a<=n}function T1(a,n){return a instanceof Uint8Array&&(a=Cn(a)),n instanceof Uint8Array&&(n=Cn(n)),a>n}function Yn(a,n){return a instanceof Uint8Array&&(a=Cn(a)),n instanceof Uint8Array&&(n=Cn(n)),a>=n}function mo(a,n){return typeof a=="boolean"?a&&n:a&n}function DR(a,n){return typeof a=="boolean"?a||n:a|n}function ps(a,n){return typeof a=="boolean"?a!=n:a^n}var S=function(a){return n=>(n|0)==n?n:(a[0]=n,a[0])}(new Float32Array(1));function z(){var a=r[--t],n=r[--t];if(typeof a=="string"||a instanceof Uint8Array)throw new Error(Cn(n)+": "+Cn(a));throw r[t++]=a,Cn(n)+`
Additional information: `+i(a);function i(o){if(o instanceof Array){let d="";for(let u=o.o,f=o.o+o.length;u<f;u++)d+=" "+i(o.b[u]);return"["+d.substr(1)+"]"}else{if(o instanceof Uint8Array)return String.fromCharCode.apply(String,o);if(o instanceof Map){let d="";for(const[u,f]of o)d+=" "+i(u)+" "+i(f);return"<<"+d.substr(1)+">>"}else if(o&&typeof o=="object"){let d="";for(let u in o)d+=" "+i(u)+" "+i(o[u]);return"<<"+d.substr(1)+">>"}else return""+o}}}function Xe(){var a=r[--t],n=r[t-1];if(n instanceof Uint8Array&&(n=Cn(n)),typeof n=="string"){let f=n.trim().split(/ +/g);r[t-1]=n=new Map;for(let h=0;h<f.length;h++){let p=f[h].split("=");p.length==1?n.set(p[0],!0):n.set(p[0],p[1])}}for(var i in a){var o;if(n.has(i)){o=n.get(i);var d=a[i],u=typeof d;if(d==null||u=="number"){if(!isFinite(+o))throw new Error("bwipp.invalidOptionType: "+i+": not a realtype: "+o);typeof o=="string"&&(o=+o,n.set(i,o))}else if(u=="boolean"){if(o!==!0&&o!==!1){if(o==null||(o|0)===o)o=!!o;else if(o=="true")o=!0;else if(o=="false")o=!1;else throw new Error("bwipp.invalidOptionType: "+i+": not a booleantype: "+o);n.set(i,o)}}else if(u=="string"||d instanceof Uint8Array){if(typeof o=="number")o=""+o,n.set(i,o);else if((i==="extratext"||i==="alttext")&&typeof o=="string")o=J(o),n.set(i,o);else if(typeof o!="string"&&!(o instanceof Uint8Array))throw new Error("bwipp.invalidOptionType: "+i+": not a stringtype: "+o)}a[i]=o}}}function os(){var a=e;e=Object.assign({},e),e.fncvals=r[--t],e.barcode=r[--t];var n="parse";e[n]=c(e.fncvals,n),delete e.fncvals[n];var i="parsefnc";e[i]=c(e.fncvals,i),delete e.fncvals[i];var o="parseonly",d=c(e.fncvals,o)!==void 0;e[o]=d,delete e.fncvals[o];var u="eci",f=c(e.fncvals,u)!==void 0;e[u]=f,delete e.fncvals[u],r[t++]=1/0;var h=s(["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","","","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US"]);r[t++]=0;for(var p=0,m=h.length;p<m;p++){var x=r[--t];r[t++]=c(h,p),r[t++]=x,r[t++]=x+1}for(t--,e.ctrl=Ge(),e.msg=s(e.barcode.length),e.j=0,r[t++]=e.barcode;;){Rt(r[--t],"^");var y=r[--t],w=r[--t];r[t++]=y,r[t++]=w.length,r[t++]=e.msg,r[t++]=e.j;var v=1/0,g=w;r[t++]=v,ve(g);var A=s(),k=r[--t];if(M(r[--t],k,A),e.j=S(r[--t]+e.j),r[--t]){t--;for(var E=0;E<1;E++){if(!e.parse&&!e.parsefnc){b(e.msg,e.j,94),e.j=e.j+1;break}if(b(e.msg,e.j,94),e.j=e.j+1,e.parse){var j=r[t-1];if(j.length>=3){var N=r[t-1],B=C(N,0,3),I=e.ctrl,D=c(I,B)!==void 0;if(r[t++]=I,r[t++]=B,D){e.j=e.j-1;var T=r[--t];b(e.msg,e.j,c(r[--t],T)),e.j=e.j+1;var R=r[--t];r[t++]=C(R,3,R.length-3);break}else t-=2}var $=r[t-1];if($.length>=2){var _=r[t-1],F=C(_,0,2),Q=e.ctrl,L=c(Q,F)!==void 0;if(r[t++]=Q,r[t++]=F,L){e.j=e.j-1;var X=r[--t];b(e.msg,e.j,c(r[--t],X)),e.j=e.j+1;var le=r[--t];r[t++]=C(le,2,le.length-2);break}else t-=2}var fe=r[t-1];if(fe.length>=3){var V=r[t-1],H=C(V,0,3);r[t++]=!0;for(var se=0,ue=H.length;se<ue;se++){var U=c(H,se);(U<48||U>57)&&(r[t-1]=!1)}if(r[--t]){var W=r[t-1],re=Fe(C(W,0,3));r[t++]=re,re>255&&(t-=2,r[t++]="bwipp.invalidOrdinal#282",r[t++]="Ordinal must be 000 to 255",z()),e.j=e.j-1,b(e.msg,e.j,r[--t]),e.j=e.j+1;var ie=r[--t];r[t++]=C(ie,3,ie.length-3)}}}if(e.parseonly||!e.parsefnc||c(e.msg,e.j-1)!=94)break;e.j=e.j-1;var be=r[t-1];be.length<1&&(t--,r[t++]="bwipp.truncatedCaret#301",r[t++]="Caret character truncated",z());var K=r[t-1];if(c(K,0)==94){b(e.msg,e.j,94),e.j=e.j+1;var ke=r[--t];r[t++]=C(ke,1,ke.length-1);break}var je=r[t-1];je.length<3&&(t--,r[t++]="bwipp.truncatedFNC#311",r[t++]="Function character truncated",z());var Qe=r[t-1];if(Y(C(Qe,0,3),"ECI")&&e.eci){var ze=r[t-1];ze.length<9&&(t--,r[t++]="bwipp.truncatedECI#316",r[t++]="ECI truncated",z());var tt=r[t-1],Ze=C(tt,3,6);r[t++]=Ze;for(var Re=0,He=Ze.length;Re<He;Re++){var Ue=c(Ze,Re);(Ue<48||Ue>57)&&(t-=2,r[t++]="bwipp.invalidECI#322",r[t++]="ECI must be 000000 to 999999",z())}var ye=r[--t];r[t++]=0,ve(ye,function(){var St=r[--t],de=r[--t];r[t++]=S(de-(St-48))*10}),b(e.msg,e.j,~~(r[--t]/10)-1e6),e.j=e.j+1;var Ye=r[--t];r[t++]=C(Ye,9,Ye.length-9);break}var Ae=r[t-1];Ae.length<4&&(t--,r[t++]="bwipp.truncatedFNC#333",r[t++]="Function character truncated",z());var Le=r[t-1],he=C(Le,0,4),Pe=c(e.fncvals,he)!==void 0;if(r[t++]=he,!Pe){var Me=r[--t],$e=J(Me.length+28);M($e,28,Me),M($e,0,"Unknown function character: "),r[t-1]=$e;var rt=r[--t];r[t++]="bwipp.unknownFNC#339",r[t++]=rt,z()}b(e.msg,e.j,c(e.fncvals,r[--t])),e.j=e.j+1;var pt=r[--t];r[t++]=C(pt,4,pt.length-4);break}}else break}if(!e.parseonly)r[t++]=C(e.msg,0,e.j);else{r[t++]=J(e.j);for(var ut=0,bt=e.j-1;ut<=bt;ut+=1){var It=r[t-1];b(It,ut,c(e.msg,ut))}}e=a}function Ds(){var a=e;e=Object.assign({},e);var n=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),i=s([n]),o=s([]),d=new Map([["parts",i],["dlpkey",o]]),u=s(["lintcsum","lintgcppos2"]),f=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",u]]),h=s([f]),p=s(["255","37"]),m=s(["22","10","21"]),x=s(["235"]),y=s([m,x]),w=new Map([["parts",h],["ex",p],["dlpkey",y]]),v=s(["lintcsum","lintgcppos2"]),g=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",v]]),A=s([g]),k=s(["01","03"]),E=s(["37"]),j=s([E]),N=s([j]),B=new Map([["parts",A],["ex",k],["req",N]]),I=s(["lintcsum","lintgcppos2"]),D=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",I]]),T=s([D]),R=s(["01","02","37"]),$=new Map([["parts",T],["ex",R],["dlattr",!1]]),_=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),F=new Map([["parts",s([_])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),Q=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),L=new Map([["parts",s([Q])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),X=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),le=s([s([s(["8020"])])]),fe=new Map([["parts",s([X])],["req",le]]),V=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),H=new Map([["parts",s([V])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),se=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),ue=new Map([["parts",s([se])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["255"]),s(["8006"]),s(["8026"])])])]]),U=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s([])]]),W=new Map([["parts",s([U])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),re=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),ie=new Map([["parts",s([re])],["ex",s(["235"])],["req",s([s([s(["01"]),s(["03"]),s(["8006"])])])],["dlattr",!1]]),be=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),K=new Map([["parts",s([be])],["req",s([s([s(["01"])])])],["dlattr",!1]]),ke=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),je=new Map([["parts",s([ke])],["req",s([s([s(["01"])])])],["dlattr",!1]]),Qe=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),ze=new Map([["parts",s([Qe])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),tt=new Map([["cset","N"],["min",1],["max",6],["opt",!1],["linters",s([])]]),Ze=new Map([["parts",s([tt])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Re=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),He=new Map([["parts",s([Re])],["req",s([s([s(["01"])])])]]),Ue=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),ye=new Map([["parts",s([Ue])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["21"])])])]]),Ye=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Ae=new Map([["parts",s([Ye])],["req",s([s([s(["01"]),s(["8006"])])])]]),Le=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),he=new Map([["cset","X"],["min",1],["max",17],["opt",!0],["linters",s([])]]),Pe=new Map([["parts",s([Le,he])],["dlpkey",s([])]]),Me=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),$e=new Map([["parts",s([Me])],["req",s([s([s(["414"])])])],["dlattr",!1]]),rt=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),pt=new Map([["cset","N"],["min",1],["max",12],["opt",!0],["linters",s([])]]),ut=new Map([["parts",s([rt,pt])],["ex",s(["01","02","415","8006","8020","8026"])],["dlpkey",s([])]]),bt=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),It=new Map([["parts",s([bt])],["req",s([s([s(["01"]),s(["02"])])])]]),St=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),de=new Map([["parts",s([St])],["ex",s(["310n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ee=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),at=new Map([["parts",s([Ee])],["ex",s(["311n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ot=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Et=new Map([["parts",s([ot])],["ex",s(["312n"])],["req",s([s([s(["01"]),s(["02"])])])]]),yt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),P=new Map([["parts",s([yt])],["ex",s(["313n"])],["req",s([s([s(["01"]),s(["02"])])])]]),G=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),q=new Map([["parts",s([G])],["ex",s(["314n"])],["req",s([s([s(["01"]),s(["02"])])])]]),te=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ce=new Map([["parts",s([te])],["ex",s(["315n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ae=new Map([["parts",s([ge])],["ex",s(["316n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ce=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Z=new Map([["parts",s([Ce])],["ex",s(["320n"])],["req",s([s([s(["01"]),s(["02"])])])]]),xe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),me=new Map([["parts",s([xe])],["ex",s(["321n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ne=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),oe=new Map([["parts",s([Ne])],["ex",s(["322n"])],["req",s([s([s(["01"]),s(["02"])])])]]),we=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Be=new Map([["parts",s([we])],["ex",s(["323n"])],["req",s([s([s(["01"]),s(["02"])])])]]),pe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ie=new Map([["parts",s([pe])],["ex",s(["324n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Se=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Te=new Map([["parts",s([Se])],["ex",s(["325n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ve=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),qe=new Map([["parts",s([Ve])],["ex",s(["326n"])],["req",s([s([s(["01"]),s(["02"])])])]]),et=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ct=new Map([["parts",s([et])],["ex",s(["327n"])],["req",s([s([s(["01"]),s(["02"])])])]]),lt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),De=new Map([["parts",s([lt])],["ex",s(["328n"])],["req",s([s([s(["01"]),s(["02"])])])]]),We=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ke=new Map([["parts",s([We])],["ex",s(["329n"])],["req",s([s([s(["01"]),s(["02"])])])]]),st=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),gt=new Map([["parts",s([st])],["ex",s(["330n"])],["req",s([s([s(["00"]),s(["01"])])])]]),wt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),vt=new Map([["parts",s([wt])],["ex",s(["331n"])],["req",s([s([s(["00"]),s(["01"])])])]]),kt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),dt=new Map([["parts",s([kt])],["ex",s(["332n"])],["req",s([s([s(["00"]),s(["01"])])])]]),_t=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nt=new Map([["parts",s([_t])],["ex",s(["333n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Qt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ht=new Map([["parts",s([Qt])],["ex",s(["334n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ut=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),sr=new Map([["parts",s([Ut])],["ex",s(["335n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Cr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nr=new Map([["parts",s([Cr])],["ex",s(["336n"])],["req",s([s([s(["00"]),s(["01"])])])]]),gr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ar=new Map([["parts",s([gr])],["ex",s(["337n"])],["req",s([s([s(["01"])])])]]),Br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Zt=new Map([["parts",s([Br])],["ex",s(["340n"])],["req",s([s([s(["00"]),s(["01"])])])]]),dr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Kt=new Map([["parts",s([dr])],["ex",s(["341n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ur=new Map([["parts",s([Jt])],["ex",s(["342n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Tr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Fr=new Map([["parts",s([Tr])],["ex",s(["343n"])],["req",s([s([s(["00"]),s(["01"])])])]]),fa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Tt=new Map([["parts",s([fa])],["ex",s(["344n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Gt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),tr=new Map([["parts",s([Gt])],["ex",s(["345n"])],["req",s([s([s(["00"]),s(["01"])])])]]),br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ir=new Map([["parts",s([br])],["ex",s(["346n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Dr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),or=new Map([["parts",s([Dr])],["ex",s(["347n"])],["req",s([s([s(["00"]),s(["01"])])])]]),zt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),yr=new Map([["parts",s([zt])],["ex",s(["348n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ra=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ha=new Map([["parts",s([ra])],["ex",s(["349n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Aa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Qr=new Map([["parts",s([Aa])],["ex",s(["350n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ca=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ba=new Map([["parts",s([Ca])],["ex",s(["351n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ma=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ca=new Map([["parts",s([Ma])],["ex",s(["352n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ka=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ia=new Map([["parts",s([ka])],["ex",s(["353n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ja=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Qa=new Map([["parts",s([ja])],["ex",s(["354n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ha=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ka=new Map([["parts",s([Ha])],["ex",s(["355n"])],["req",s([s([s(["00"]),s(["01"])])])]]),xs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ba=new Map([["parts",s([xs])],["ex",s(["356n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ts=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),$a=new Map([["parts",s([Ts])],["ex",s(["357n"])],["req",s([s([s(["01"]),s(["02"])])])]]),$s=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),_a=new Map([["parts",s([$s])],["ex",s(["360n"])],["req",s([s([s(["01"]),s(["02"])])])]]),vs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Rs=new Map([["parts",s([vs])],["ex",s(["361n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ms=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Wa=new Map([["parts",s([Ms])],["ex",s(["362n"])],["req",s([s([s(["00"]),s(["01"])])])]]),qs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ja=new Map([["parts",s([qs])],["ex",s(["363n"])],["req",s([s([s(["00"]),s(["01"])])])]]),gs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Fa=new Map([["parts",s([gs])],["ex",s(["364n"])],["req",s([s([s(["01"]),s(["02"])])])]]),gn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),qa=new Map([["parts",s([gn])],["ex",s(["365n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Bn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Da=new Map([["parts",s([Bn])],["ex",s(["366n"])],["req",s([s([s(["01"]),s(["02"])])])]]),en=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Pa=new Map([["parts",s([en])],["ex",s(["367n"])],["req",s([s([s(["00"]),s(["01"])])])]]),sn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ls=new Map([["parts",s([sn])],["ex",s(["368n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Xt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Zr=new Map([["parts",s([Xt])],["ex",s(["369n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Na=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),Oa=new Map([["parts",s([Na])],["req",s([s([s(["00"])]),s([s(["02"]),s(["8026"])])])]]),bs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Hr=new Map([["parts",s([bs])],["ex",s(["390n","391n","394n","8111"])],["req",s([s([s(["255"]),s(["8020"])])])]]),cs=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),ys=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ua=new Map([["parts",s([cs,ys])],["ex",s(["391n"])],["req",s([s([s(["8020"])])])]]),Dn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ta=new Map([["parts",s([Dn])],["ex",s(["392n","393n"])],["req",s([s([s(["01"])]),s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),hi=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),Gs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ra=new Map([["parts",s([hi,Gs])],["ex",s(["393n"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),Tn=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),Xa=new Map([["parts",s([Tn])],["ex",s(["394n","8111"])],["req",s([s([s(["255"])])])]]),Rn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ws=new Map([["parts",s([Rn])],["ex",s(["392n","393n","395n","8005"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),nn=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),on=new Map([["parts",s([nn])]]),Zn=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),Ct=new Map([["parts",s([Zn])],["dlpkey",s([])]]),Yr=new Map([["cset","N"],["min",17],["max",17],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),aa=new Map([["parts",s([Yr])],["dlpkey",s([])]]),za=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),da=new Map([["parts",s([za])],["req",s([s([s(["00"])])])]]),Za=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),As=new Map([["parts",s([Za])]]),bn=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),mt=new Map([["parts",s([bn])],["dlpkey",s([s(["254"]),s(["7040"])])]]),Bt=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),hr=new Map([["parts",s([Bt])],["req",s([s([s(["8020"])])])],["dlpkey",s([s(["8020"])])]]),lr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),fr=new Map([["parts",s([lr])]]),Rr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),cr=new Map([["parts",s([Rr])],["dlpkey",s([s(["7040"])])]]),sa=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),$r=new Map([["parts",s([sa])],["ex",s(["421"])]]),qr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Gr=new Map([["cset","X"],["min",1],["max",9],["opt",!1],["linters",s([])]]),Kr=new Map([["parts",s([qr,Gr])],["ex",s(["4307"])]]),pa=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),ea=new Map([["parts",s([pa])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Vr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),na=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Mr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Pr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),La=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ya=new Map([["parts",s([Vr,na,Mr,Pr,La])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),ds=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Cs=new Map([["parts",s([ds])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),ln=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),_s=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),rr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),wr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Er=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ta=new Map([["parts",s([ln,_s,rr,wr,Er])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),Or=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),ia=new Map([["parts",s([Or])],["req",s([s([s(["01"]),s(["02"])])])]]),Wr=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),es=new Map([["parts",s([Wr])],["req",s([s([s(["01"]),s(["02"])]),s([s(["422"])])])]]),ts=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),Vs=new Map([["parts",s([ts])],["req",s([s([s(["00"])])])]]),yn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Mn=new Map([["parts",s([yn])],["req",s([s([s(["00"])])])]]),Qn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Hn=new Map([["parts",s([Qn])],["req",s([s([s(["4302"])])])]]),wn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),pi=new Map([["parts",s([wn])],["req",s([s([s(["00"])])])]]),$n=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),mi=new Map([["parts",s([$n])],["req",s([s([s(["00"])])])]]),t1=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),xi=new Map([["parts",s([t1])],["req",s([s([s(["00"])])])]]),r1=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlatitude"])]]),a1=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlongitude"])]]),Je=new Map([["parts",s([r1,a1])],["req",s([s([s(["00"])])])]]),Nt=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),pr=new Map([["parts",s([Nt])],["req",s([s([s(["00"])])])]]),Nr=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),ma=new Map([["parts",s([Nr])],["req",s([s([s(["00"])])])]]),rs=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),as=new Map([["parts",s([rs])],["req",s([s([s(["4312"])])])]]),Is=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),cn=new Map([["parts",s([Is])],["req",s([s([s(["00"])])])]]),An=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),Fi=new Map([["parts",s([An])],["req",s([s([s(["00"])])])]]),Pi=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),qn=new Map([["parts",s([Pi])],["req",s([s([s(["00"])])])]]),Oi=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Io=new Map([["parts",s([Oi])],["req",s([s([s(["00"])])])]]),q1=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),xt=new Map([["parts",s([q1])],["req",s([s([s(["00"])])])]]),qt=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintyesno"])]]),Ur=new Map([["parts",s([qt])],["req",s([s([s(["00"])])])]]),ft=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),Pt=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Vt=new Map([["parts",s([ft,Pt])],["req",s([s([s(["00"])])])]]),Wt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Jr=new Map([["parts",s([Wt])],["req",s([s([s(["00"])])])]]),wa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),xa=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),us=new Map([["parts",s([wa,xa])],["ex",s(["4331"])],["req",s([s([s(["00"])])])]]),Ys=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),dn=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),un=new Map([["parts",s([Ys,dn])],["ex",s(["4330"])],["req",s([s([s(["00"])])])]]),Gn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),w1=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),s1=new Map([["parts",s([Gn,w1])],["ex",s(["4333"])],["req",s([s([s(["00"])])])]]),Ui=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),A1=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),n1=new Map([["parts",s([Ui,A1])],["ex",s(["4332"])],["req",s([s([s(["00"])])])]]),G1=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s([])]]),k1=new Map([["parts",s([G1])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Cc=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Ic=new Map([["parts",s([Cc])],["req",s([s([s(["01"]),s(["02"])])])]]),vl=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Bo=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Bc=new Map([["parts",s([vl,Bo])],["req",s([s([s(["01"]),s(["02"])])])]]),Dc=new Map([["cset","N"],["min",1],["max",4],["opt",!1],["linters",s([])]]),Tc=new Map([["parts",s([Dc])],["req",s([s([s(["01"])]),s([s(["10"])])])]]),Rc=new Map([["cset","X"],["min",1],["max",12],["opt",!1],["linters",s([])]]),Mc=new Map([["parts",s([Rc])],["req",s([s([s(["01"]),s(["02"])])])]]),_c=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Fc=new Map([["parts",s([_c])],["req",s([s([s(["01"]),s(["02"])])])]]),Pc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Oc=new Map([["cset","N"],["min",6],["max",6],["opt",!0],["linters",s(["lintyymmdd"])]]),Uc=new Map([["parts",s([Pc,Oc])],["req",s([s([s(["01"]),s(["02"])])])]]),gl=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),Do=new Map([["parts",s([gl])],["req",s([s([s(["01"]),s(["02"])])])]]),zc=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),Lc=new Map([["parts",s([zc])],["req",s([s([s(["01"]),s(["02"])])])]]),bl=new Map([["cset","X"],["min",1],["max",2],["opt",!1],["linters",s([])]]),To=new Map([["parts",s([bl])],["req",s([s([s(["01"]),s(["02"])])])]]),Qc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Hc=new Map([["cset","N"],["min",4],["max",4],["opt",!0],["linters",s(["linthhmi"])]]),yl=new Map([["parts",s([Qc,Hc])],["req",s([s([s(["01"]),s(["02"])])])]]),Ro=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),$c=new Map([["parts",s([Ro])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["416"])])])]]),qc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),wl=new Map([["parts",s([qc])],["req",s([s([s(["01"]),s(["8006"])])])]]),Mo=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Gc=new Map([["parts",s([Mo])],["req",s([s([s(["7021"])])])]]),Al=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),V1=new Map([["parts",s([Al])]]),_o=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166999"])]]),Vc=new Map([["cset","X"],["min",1],["max",27],["opt",!1],["linters",s([])]]),Vn=new Map([["parts",s([_o,Vc])],["req",s([s([s(["01"]),s(["02"])])])]]),Yc=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),Xu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),Zu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),w2=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s(["lintimporteridx"])]]),Kc=new Map([["parts",s([Yc,Xu,Zu,w2])],["dlattr",!1]]),ef=new Map([["cset","X"],["min",1],["max",4],["opt",!1],["linters",s(["lintpackagetype"])]]),tf=new Map([["parts",s([ef])],["req",s([s([s(["00"])])])],["dlattr",!1]]),A2=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),zi=new Map([["parts",s([A2])],["req",s([s([s(["01"])])])]]),rf=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s([])]]),af=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),vi=new Map([["parts",s([rf,af])],["req",s([s([s(["01"]),s(["8004"])])])]]),Wc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),sf=new Map([["parts",s([Wc])],["req",s([s([s(["01"]),s(["8006"])])])]]),nf=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["lintmediatype"])]]),k2=new Map([["parts",s([nf])],["req",s([s([s(["8017"]),s(["8018"])])])]]),Jc=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),of=new Map([["parts",s([Jc])],["req",s([s([s(["8017"]),s(["8018"])])])]]),lf=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),BA=new Map([["parts",s([lf])],["ex",s(["7251"])],["req",s([s([s(["8018"])])])]]),DA=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),TA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),RA=new Map([["parts",s([DA,TA])],["ex",s(["7250"])],["req",s([s([s(["8018"])])])]]),MA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintiso5218"])]]),_A=new Map([["parts",s([MA])],["req",s([s([s(["8018"])])])]]),FA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),ix=new Map([["parts",s([FA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),PA=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),OA=new Map([["parts",s([PA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),UA=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s(["lintpcenc"])]]),zA=new Map([["parts",s([UA])],["req",s([s([s(["8017"]),s(["8018"])])])]]),LA=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),QA=new Map([["parts",s([LA])],["req",s([s([s(["8018"])])])]]),HA=new Map([["cset","X"],["min",3],["max",3],["opt",!1],["linters",s(["lintposinseqslash"])]]),$A=new Map([["parts",s([HA])],["req",s([s([s(["8018","7259"])])])]]),qA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),GA=new Map([["parts",s([qA])],["ex",s(["7256"])],["req",s([s([s(["8018"])])])]]),VA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintnonzero"])]]),YA=new Map([["cset","N"],["min",5],["max",5],["opt",!1],["linters",s(["lintnonzero"])]]),KA=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintnonzero"])]]),WA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintwinding"])]]),JA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),XA=new Map([["parts",s([VA,YA,KA,WA,JA])],["req",s([s([s(["01"])])])]]),ZA=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),e9=new Map([["parts",s([ZA])]]),t9=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintzero"])]]),r9=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),a9=new Map([["cset","X"],["min",1],["max",16],["opt",!0],["linters",s([])]]),s9=new Map([["parts",s([t9,r9,a9])],["dlpkey",s([])]]),n9=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),i9=new Map([["parts",s([n9])],["dlpkey",s([s(["7040"])])]]),o9=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),l9=new Map([["parts",s([o9])],["req",s([s([s(["01"]),s(["02"])])])]]),c9=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),d9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),u9=new Map([["parts",s([c9,d9])],["ex",s(["01","37"])],["dlpkey",s([s(["22","10","21"])])]]),f9=new Map([["cset","X"],["min",1],["max",34],["opt",!1],["linters",s(["lintiban"])]]),h9=new Map([["parts",s([f9])],["req",s([s([s(["415"])])])]]),p9=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),m9=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["linthh"])]]),x9=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintmi"])]]),v9=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintss"])]]),g9=new Map([["parts",s([p9,m9,x9,v9])],["req",s([s([s(["01"]),s(["02"])])])]]),b9=new Map([["cset","X"],["min",1],["max",50],["opt",!1],["linters",s([])]]),y9=new Map([["parts",s([b9])],["req",s([s([s(["00"]),s(["01"])])])]]),w9=new Map([["cset","Y"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),A9=new Map([["parts",s([w9])],["dlpkey",s([s(["8011"])])]]),k9=new Map([["cset","N"],["min",1],["max",12],["opt",!1],["linters",s(["lintnozeroprefix"])]]),j9=new Map([["parts",s([k9])],["req",s([s([s(["8010"])])])],["dlattr",!1]]),N9=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),S9=new Map([["parts",s([N9])],["req",s([s([s(["01"]),s(["8006"])])])]]),E9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1"])]]),C9=new Map([["parts",s([E9])],["dlpkey",s([])]]),I9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1","linthasnondigit"])]]),B9=new Map([["parts",s([I9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),D9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),T9=new Map([["parts",s([D9])],["ex",s(["8018"])],["dlpkey",s([s(["8019"])])]]),R9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),M9=new Map([["parts",s([R9])],["ex",s(["8017"])],["dlpkey",s([s(["8019"])])]]),_9=new Map([["cset","N"],["min",1],["max",10],["opt",!1],["linters",s([])]]),F9=new Map([["parts",s([_9])],["req",s([s([s(["8017"]),s(["8018"])])])],["dlattr",!1]]),P9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),O9=new Map([["parts",s([P9])],["req",s([s([s(["415"])])])],["dlattr",!1]]),U9=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),z9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),L9=new Map([["parts",s([U9,z9])],["ex",s(["02","8006"])],["req",s([s([s(["37"])])])]]),Q9=new Map([["cset","Z"],["min",1],["max",90],["opt",!1],["linters",s([])]]),H9=new Map([["parts",s([Q9])],["req",s([s([s(["00"]),s(["01","21"]),s(["253"]),s(["255"]),s(["8003"]),s(["8004"]),s(["8006","21"]),s(["8010","8011"]),s(["8017"]),s(["8018"])])])]]),$9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponcode"])]]),q9=new Map([["parts",s([$9])]]),G9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),V9=new Map([["parts",s([G9])],["req",s([s([s(["255"])])])]]),Y9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponposoffer"])]]),K9=new Map([["parts",s([Y9])]]),W9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s([])]]),J9=new Map([["parts",s([W9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),X9=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Z9=new Map([["parts",s([X9])]]),e7=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s([])]]),j1=new Map([["parts",s([e7])]]),t7=new Map([["00",d],["01",w],["02",B],["03",$],["10",F],["11",L],["12",fe],["13",H],["15",H],["16",H],["17",ue],["20",W],["21",ie],["22",K],["235",je],["240",ze],["241",ze],["242",Ze],["243",He],["250",ye],["251",Ae],["253",Pe],["254",$e],["255",ut],["30",It],["3100",de],["3101",de],["3102",de],["3103",de],["3104",de],["3105",de],["3110",at],["3111",at],["3112",at],["3113",at],["3114",at],["3115",at],["3120",Et],["3121",Et],["3122",Et],["3123",Et],["3124",Et],["3125",Et],["3130",P],["3131",P],["3132",P],["3133",P],["3134",P],["3135",P],["3140",q],["3141",q],["3142",q],["3143",q],["3144",q],["3145",q],["3150",ce],["3151",ce],["3152",ce],["3153",ce],["3154",ce],["3155",ce],["3160",ae],["3161",ae],["3162",ae],["3163",ae],["3164",ae],["3165",ae],["3200",Z],["3201",Z],["3202",Z],["3203",Z],["3204",Z],["3205",Z],["3210",me],["3211",me],["3212",me],["3213",me],["3214",me],["3215",me],["3220",oe],["3221",oe],["3222",oe],["3223",oe],["3224",oe],["3225",oe],["3230",Be],["3231",Be],["3232",Be],["3233",Be],["3234",Be],["3235",Be],["3240",Ie],["3241",Ie],["3242",Ie],["3243",Ie],["3244",Ie],["3245",Ie],["3250",Te],["3251",Te],["3252",Te],["3253",Te],["3254",Te],["3255",Te],["3260",qe],["3261",qe],["3262",qe],["3263",qe],["3264",qe],["3265",qe],["3270",ct],["3271",ct],["3272",ct],["3273",ct],["3274",ct],["3275",ct],["3280",De],["3281",De],["3282",De],["3283",De],["3284",De],["3285",De],["3290",Ke],["3291",Ke],["3292",Ke],["3293",Ke],["3294",Ke],["3295",Ke],["3300",gt],["3301",gt],["3302",gt],["3303",gt],["3304",gt],["3305",gt],["3310",vt],["3311",vt],["3312",vt],["3313",vt],["3314",vt],["3315",vt],["3320",dt],["3321",dt],["3322",dt],["3323",dt],["3324",dt],["3325",dt],["3330",nt],["3331",nt],["3332",nt],["3333",nt],["3334",nt],["3335",nt],["3340",Ht],["3341",Ht],["3342",Ht],["3343",Ht],["3344",Ht],["3345",Ht],["3350",sr],["3351",sr],["3352",sr],["3353",sr],["3354",sr],["3355",sr],["3360",nr],["3361",nr],["3362",nr],["3363",nr],["3364",nr],["3365",nr],["3370",ar],["3371",ar],["3372",ar],["3373",ar],["3374",ar],["3375",ar],["3400",Zt],["3401",Zt],["3402",Zt],["3403",Zt],["3404",Zt],["3405",Zt],["3410",Kt],["3411",Kt],["3412",Kt],["3413",Kt],["3414",Kt],["3415",Kt],["3420",ur],["3421",ur],["3422",ur],["3423",ur],["3424",ur],["3425",ur],["3430",Fr],["3431",Fr],["3432",Fr],["3433",Fr],["3434",Fr],["3435",Fr],["3440",Tt],["3441",Tt],["3442",Tt],["3443",Tt],["3444",Tt],["3445",Tt],["3450",tr],["3451",tr],["3452",tr],["3453",tr],["3454",tr],["3455",tr],["3460",ir],["3461",ir],["3462",ir],["3463",ir],["3464",ir],["3465",ir],["3470",or],["3471",or],["3472",or],["3473",or],["3474",or],["3475",or],["3480",yr],["3481",yr],["3482",yr],["3483",yr],["3484",yr],["3485",yr],["3490",ha],["3491",ha],["3492",ha],["3493",ha],["3494",ha],["3495",ha],["3500",Qr],["3501",Qr],["3502",Qr],["3503",Qr],["3504",Qr],["3505",Qr],["3510",ba],["3511",ba],["3512",ba],["3513",ba],["3514",ba],["3515",ba],["3520",ca],["3521",ca],["3522",ca],["3523",ca],["3524",ca],["3525",ca],["3530",Ia],["3531",Ia],["3532",Ia],["3533",Ia],["3534",Ia],["3535",Ia],["3540",Qa],["3541",Qa],["3542",Qa],["3543",Qa],["3544",Qa],["3545",Qa],["3550",Ka],["3551",Ka],["3552",Ka],["3553",Ka],["3554",Ka],["3555",Ka],["3560",Ba],["3561",Ba],["3562",Ba],["3563",Ba],["3564",Ba],["3565",Ba],["3570",$a],["3571",$a],["3572",$a],["3573",$a],["3574",$a],["3575",$a],["3600",_a],["3601",_a],["3602",_a],["3603",_a],["3604",_a],["3605",_a],["3610",Rs],["3611",Rs],["3612",Rs],["3613",Rs],["3614",Rs],["3615",Rs],["3620",Wa],["3621",Wa],["3622",Wa],["3623",Wa],["3624",Wa],["3625",Wa],["3630",Ja],["3631",Ja],["3632",Ja],["3633",Ja],["3634",Ja],["3635",Ja],["3640",Fa],["3641",Fa],["3642",Fa],["3643",Fa],["3644",Fa],["3645",Fa],["3650",qa],["3651",qa],["3652",qa],["3653",qa],["3654",qa],["3655",qa],["3660",Da],["3661",Da],["3662",Da],["3663",Da],["3664",Da],["3665",Da],["3670",Pa],["3671",Pa],["3672",Pa],["3673",Pa],["3674",Pa],["3675",Pa],["3680",ls],["3681",ls],["3682",ls],["3683",ls],["3684",ls],["3685",ls],["3690",Zr],["3691",Zr],["3692",Zr],["3693",Zr],["3694",Zr],["3695",Zr],["37",Oa],["3900",Hr],["3901",Hr],["3902",Hr],["3903",Hr],["3904",Hr],["3905",Hr],["3906",Hr],["3907",Hr],["3908",Hr],["3909",Hr],["3910",Ua],["3911",Ua],["3912",Ua],["3913",Ua],["3914",Ua],["3915",Ua],["3916",Ua],["3917",Ua],["3918",Ua],["3919",Ua],["3920",Ta],["3921",Ta],["3922",Ta],["3923",Ta],["3924",Ta],["3925",Ta],["3926",Ta],["3927",Ta],["3928",Ta],["3929",Ta],["3930",Ra],["3931",Ra],["3932",Ra],["3933",Ra],["3934",Ra],["3935",Ra],["3936",Ra],["3937",Ra],["3938",Ra],["3939",Ra],["3940",Xa],["3941",Xa],["3942",Xa],["3943",Xa],["3950",ws],["3951",ws],["3952",ws],["3953",ws],["3954",ws],["3955",ws],["400",on],["401",Ct],["402",aa],["403",da],["410",As],["411",As],["412",As],["413",As],["414",mt],["415",hr],["416",fr],["417",cr],["420",$r],["421",Kr],["422",ea],["423",ya],["424",Cs],["425",ta],["426",ia],["427",es],["4300",Vs],["4301",Vs],["4302",Mn],["4303",Hn],["4304",pi],["4305",pi],["4306",pi],["4307",mi],["4308",xi],["4309",Je],["4310",pr],["4311",pr],["4312",ma],["4313",as],["4314",cn],["4315",cn],["4316",cn],["4317",Fi],["4318",qn],["4319",Io],["4320",xt],["4321",Ur],["4322",Ur],["4323",Ur],["4324",Vt],["4325",Vt],["4326",Jr],["4330",us],["4331",un],["4332",s1],["4333",n1],["7001",k1],["7002",Ic],["7003",Bc],["7004",Tc],["7005",Mc],["7006",Fc],["7007",Uc],["7008",Do],["7009",Lc],["7010",To],["7011",yl],["7020",$c],["7021",wl],["7022",Gc],["7023",V1],["7030",Vn],["7031",Vn],["7032",Vn],["7033",Vn],["7034",Vn],["7035",Vn],["7036",Vn],["7037",Vn],["7038",Vn],["7039",Vn],["7040",Kc],["7041",tf],["710",zi],["711",zi],["712",zi],["713",zi],["714",zi],["715",zi],["716",zi],["7230",vi],["7231",vi],["7232",vi],["7233",vi],["7234",vi],["7235",vi],["7236",vi],["7237",vi],["7238",vi],["7239",vi],["7240",sf],["7241",k2],["7242",of],["7250",BA],["7251",RA],["7252",_A],["7253",ix],["7254",ix],["7255",OA],["7256",zA],["7257",QA],["7258",$A],["7259",GA],["8001",XA],["8002",e9],["8003",s9],["8004",i9],["8005",l9],["8006",u9],["8007",h9],["8008",g9],["8009",y9],["8010",A9],["8011",j9],["8012",S9],["8013",C9],["8014",B9],["8017",T9],["8018",M9],["8019",F9],["8020",O9],["8026",L9],["8030",H9],["8110",q9],["8111",V9],["8112",K9],["8200",J9],["90",Z9],["91",j1],["92",j1],["93",j1],["94",j1],["95",j1],["96",j1],["97",j1],["98",j1],["99",j1]]);if(e.gs1syntax=t7,Y(r[--t],"ai")){c0(r[--t],"("),r[--t]||(t--,r[t++]="bwipp.GS1aiMissingOpenParen#2494",r[t++]="AIs must start with '('",z()),r[t-1]=1/0;var r7=r[--t],a7=r[--t];for(r[t++]=r7,r[t++]=a7;;){var s7=r[t-1];if(s7.length==0){t--;break}Rt(r[--t],")"),r[--t]||(rl(),r[t++]="bwipp.GS1aiMissingCloseParen#2500",r[t++]="AIs must end with ')'",z());var n7=r[--t];r[t-1]=n7;var i7=r[--t],o7=r[--t];if(r[t++]=i7,Rt(o7,"("),r[--t]){var l7=r[--t];r[t-1]=l7;var c7=r[--t],d7=r[--t];r[t++]=c7,r[t++]=d7}else r[t++]=""}var ox=va();if(r[t++]=ox,ox>0)for(var lx=r[--t],cf=lx,u7=~~(lx/2)+1;cf>=u7;cf-=1)Sa(cf,-1);else t--;Yt(s(~~(va()/2))),e.ais=r[--t],Yt(s(va())),r[t++]=1/0;var f7=r[--t],h7=r[--t];r[t++]=f7,ve(h7,function(){var it=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);r[t++]=it,os()}),e.vals=s(),t--}else{if(c0(r[--t],"http://"),r[--t]||(c0(r[--t],"HTTP://"),r[--t]||(c0(r[--t],"https://"),r[--t]||(c0(r[--t],"HTTPS://"),r[--t]||(t--,r[t++]="bwipp.GS1dlURIbadScheme#2519",r[t++]="Scheme must be http:// HTTP:// https:// or HTTPS://",z())))),t--,Rt(r[--t],"/"),r[--t]||(t--,r[t++]="bwipp.GS1dlMissingDomainOrPathInfo#2525",r[t++]="URI must contain a domain and path info",z()),t-=2,Rt(r[--t],"#"),r[--t]){var p7=r[--t];r[t-1]=p7;var m7=r[--t];r[t-1]=m7}if(Rt(r[--t],"?"),!r[--t]){var x7=r[--t];r[t++]="",r[t++]=null,r[t++]=x7}for(e.pp=r[--t],t--,e.qp=r[--t],r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=e.pp;;){if(Rt(r[--t],"/"),!r[--t]){t--;break}var v7=r[--t];r[t-1]=v7.length+1;var g7=r[--t],b7=r[--t],y7=r[t-1];r[t++]=S(g7+y7),r[t++]=b7}Yt(s(va()-1)),e.pipos=r[--t],t-=2,e.pipos.length<=1&&(r[t++]="bwipp.GS1dlNoAIinfo#2550",r[t++]="The path was too short to contain AI info",z()),r[t++]=!1;for(var Xc=e.pipos.length-2;Xc>=0;Xc-=2){var cx=c(e.pipos,Xc),dx=C(e.pp,cx,S(c(e.pipos,Xc+1)-cx)-1),w7=c(e.gs1syntax,dx)!==void 0;if(r[t++]=Xc,r[t++]=dx,w7){var A7=c(c(e.gs1syntax,r[--t]),"dlpkey")!==void 0;if(A7){var k7=r[--t];r[t-1]=k7,r[t++]=!0;break}}else t--;t--}r[--t]||(r[t++]="bwipp.GS1dlNoAIinfo#2569",r[t++]="The path does not contain a valid primary key",z());var ux=c(e.pipos,r[--t]);for(e.pp=C(e.pp,ux,S(e.pp.length-ux)),e.uriunescape=function(){for(e.qq=r[--t],e.in=r[--t],e.out=J(e.in.length),r[t++]=0,r[t++]=0;;){var it=r[t-2];if(it>=e.in.length)break;var Dt=r[t-2],Ar=c(e.in,Dt);if(r[t++]=Ar,Ar==43&&e.qq){t--;var mr=r[--t];b(e.out,mr,32);var Ir=r[--t];r[t++]=Ir+1,r[t++]=mr+1}else{var oa=r[t-1],ua=r[t-3];if(oa==37&&ua<e.in.length-2){t--;var ks=r[t-2],Ga=C(e.in,ks+1,2);r[t++]=0;for(var js=0,Fs=Ga.length;js<Fs;js++){var Ps=c(Ga,js);if(r[t++]=Ps,Ps>=48&&Ps<=57){var Ks=r[--t];r[t++]=Ks-48}else{var gi=r[t-1];if(gi>=65&&gi<=70){var N1=r[--t];r[t++]=N1-55}else{var Li=r[t-1];if(Li>=97&&Li<=102){var S1=r[--t];r[t++]=S1-87}else t-=2,r[t++]="bwipp.GS1dlBadHexCharacter#2590",r[t++]="Invalid hex character",z()}}var i1=r[--t],o1=r[--t];r[t++]=S(i1+o1*16)}var l1=r[--t],c1=r[--t];b(e.out,c1,l1);var e0=r[--t];r[t++]=e0+3,r[t++]=c1+1}else{var kl=r[--t],Qi=r[--t];b(e.out,Qi,kl);var d1=r[--t];r[t++]=d1+1,r[t++]=Qi+1}}}e.out=C(e.out,0,r[--t]),r[t-1]=e.out},e.isvaliddlpkeyseq=function(){e.in=r[--t],r[t++]=!1,ve(c(c(e.gs1syntax,c(e.in,0)),"dlpkey"),function(){for(e.seq=r[--t],e.i=1,e.j=0;!(e.i>=e.in.length||e.j>=e.seq.length);)Y(c(e.in,e.i),c(e.seq,e.j))&&(e.i=e.i+1),e.j=e.j+1;if(e.i==e.in.length)return r[t-1]=!0,!0})},e.ais=s(99),e.vals=s(99),r[t++]=0,r[t++]=e.pp;;){if(Rt(r[--t],"/"),r[--t]){var j7=r[--t];t--;var N7=r[--t],S7=r[t-1];if(b(e.ais,S7,j7),Rt(N7,"/"),r[--t]){var E7=r[--t];r[t-1]=E7}else{var C7=r[--t];r[t++]="",r[t++]=C7}var I7=r[--t],B7=r[t-2];r[t++]=e.vals,r[t++]=B7,r[t++]=I7,r[t++]=!1,e.uriunescape();var D7=r[--t],T7=r[--t];b(r[--t],T7,D7)}else{t--;break}var R7=r[--t],M7=r[--t];r[t++]=M7+1,r[t++]=R7}var df=r[--t];for(e.plen=df,r[t++]=df,df>1&&(r[t++]=C(e.ais,0,e.plen),e.isvaliddlpkeyseq(),r[--t]||(t--,r[t++]="bwipp.GS1dlBadPathInfo#2645",r[t++]="The AIs in the path are not a valid key-qualifier sequence for the key",z())),r[t++]=e.qp;;){var _7=r[t-1];if(_7.length==0){t--;break}if(Rt(r[--t],"&"),r[--t]){var F7=r[--t];r[t-1]=F7}else{var P7=r[--t];r[t++]="",r[t++]=P7}if(Rt(r[--t],"="),r[--t]){var O7=r[t-1];if(r[t++]=!0,ve(O7,function(){var it=r[--t],Dt=r[--t];r[t++]=Dt&&it>=48&&it<=57}),r[--t]){var U7=r[--t];t--;var z7=r[--t],fx=r[t-2];b(e.ais,fx,U7),r[t++]=e.vals,r[t++]=fx,r[t++]=z7,r[t++]=!0,e.uriunescape();var L7=r[--t],Q7=r[--t];b(r[--t],Q7,L7);var H7=r[--t],$7=r[--t];r[t++]=$7+1,r[t++]=H7}else t-=3}else t--}for(var q7=r[t-1],hx=C(e.ais,e.plen,S(q7-e.plen)),uf=0,G7=hx.length;uf<G7;uf++){var px=c(hx,uf),V7=c(e.gs1syntax,px)!==void 0;if(r[t++]=px,V7){var Y7=r[t-1],mx=c(e.gs1syntax,Y7),K7=c(mx,"dlattr")!==void 0;if(r[t++]=mx,r[t++]="dlattr",K7){var W7=r[--t],J7=c(r[--t],W7);r[t++]=J7}else t-=2,r[t++]=!0}else r[t++]=e.dontlint;if(!r[--t]){var xx=r[t-1],vx=xx.length,j2=J(vx+46);M(j2,0,"AI ("),M(j2,4,xx),M(j2,vx+4,") is not a valid GS1 DL URI data attribute"),r[t++]=j2;var X7=r[--t];r[t-1]=X7;var Z7=r[--t];r[t++]="bwipp.GS1dlInvalidDataAttribute#2679",r[t++]=Z7,z()}t--}for(var ek=r[t-1],gx=C(e.ais,e.plen,S(ek-e.plen)),ff=0,tk=gx.length;ff<tk;ff++){r[t++]=c(gx,ff);for(var hf=e.plen;hf>=1;hf-=1){var rk=r[t-1];r[t++]=hf,r[t++]=rk,r[t++]=1/0,O(C(e.ais,0,e.plen)),Sa(va()+3,-2);var ak=r[--t],sk=r[--t];r[t++]=ak,Sa(sk,1);var nk=s();if(r[t++]=nk,e.isvaliddlpkeyseq(),r[--t]){var ik=r[--t];r[t-1]=ik;var bx=r[t-1],yx=bx.length,N2=J(yx+50);M(N2,0,"AI ("),M(N2,4,bx),M(N2,yx+4,") from query params should be in the path info"),r[t++]=N2;var ok=r[--t];r[t-1]=ok;var lk=r[--t];r[t++]="bwipp.GS1dlAttributeMustBeQualifier#2696",r[t++]=lk,z()}}t--}var wx=r[--t];e.ais=C(e.ais,0,wx),e.vals=C(e.vals,0,wx);for(var S2=0,ck=e.ais.length-1;S2<=ck;S2+=1){if(r[t++]=S2,Y(c(e.ais,S2),"01")){var dk=r[t-1],Ax=c(e.vals,dk),pf=Ax.length;if(r[t++]=Ax,pf==8||pf==12||pf==13){var kx=_r(J(14),"00000000000000");r[t++]=kx,r[t++]=kx;var jx=r[t-3];M(r[t-1],14-jx.length,jx);var uk=r[t-2];t-=3;var fk=r[t-1];b(e.vals,fk,uk)}else t--}t--}}r[t++]=1/0;for(var Nx=s(["00","01","02","03","04","11","12","13","14","15","16","17","18","19","20","31","32","33","34","35","36","41"]),mf=0,hk=Nx.length;mf<hk;mf++){var Sx=c(Nx,mf);r[t++]=Sx,r[t++]=Sx}e.aifixed=Ge(),r[t++]=1/0;for(var Ex=e.ais,xf=0,pk=Ex.length;xf<pk;xf++){var Cx=c(Ex,xf);if(r[t++]=!0,r[t++]=Cx,Cx.length>=2){var mk=c(e.aifixed,C(r[--t],0,2))!==void 0;mk&&(r[t-1]=!1)}else t--}e.fncs=s(),r[t++]=1/0,r[t++]=0;for(var vf=0,xk=82;vf<xk;vf++){var Ix=r[--t];r[t++]=c(`!"%&'()*+,-./0123456789:;<=>?ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz`,vf),r[t++]=Ix,r[t++]=Ix+1}t--,e.cset82=Ge(),r[t++]=1/0,r[t++]=0;for(var gf=0,vk=39;gf<vk;gf++){var Bx=r[--t];r[t++]=c("#-/0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",gf),r[t++]=Bx,r[t++]=Bx+1}t--,e.cset39=Ge(),r[t++]=1/0,r[t++]=0;for(var bf=0,gk=32;bf<gk;bf++){var Dx=r[--t];r[t++]=c("23456789ABCDEFGHJKLMNPQRSTUVWXYZ",bf),r[t++]=Dx,r[t++]=Dx+1}t--,e.cset32=Ge(),r[t++]=1/0,r[t++]=0;for(var yf=0,bk=64;yf<bk;yf++){var Tx=r[--t];r[t++]=c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",yf),r[t++]=Tx,r[t++]=Tx+1}t--,e.cset64=Ge(),e.lintnumeric=function(){var it=r[--t];if(r[t++]=!0,ve(it,function(){var Dt=r[--t];if(Dt<48||Dt>57)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1notNumeric#2770",r[t++]="Not numeric",r[t++]=!1,!0},e.lintcset82=function(){var it=r[--t];if(r[t++]=!0,ve(it,function(){var Dt=c(e.cset82,r[--t])!==void 0;if(!Dt)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET82character#2775",r[t++]="Invalid CSET 82 character",r[t++]=!1,!0},e.lintcset39=function(){var it=r[--t];if(r[t++]=!0,ve(it,function(){var Dt=c(e.cset39,r[--t])!==void 0;if(!Dt)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET39character#2780",r[t++]="Invalid CSET 39 character",r[t++]=!1,!0},e.lintcset64=function(){var it=r[t-1];if(Rt(it,"="),r[--t]){var Dt=r[--t];r[t-1]=Dt;var Ar=r[--t];r[t++]=Ar.length%3,r[t++]=Ar;var mr=r[t-2],Ir=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Ir,r[t++]=mr,r[t++]=!1,mr==1&&Y(Ir,"=")&&(r[t-1]=!0);var oa=r[t-2],ua=r[t-3];if(oa==2&&ua.length==0&&(r[t-1]=!0),!r[--t])return t-=5,r[t++]="bwipp.GS1badCSET64padding#2789",r[t++]="Invalid CSET 64 padding",r[t++]=!1,!0;t-=2;var ks=r[--t],Ga=r[--t];r[t++]=ks,r[t++]=Ga}t--;var js=r[--t];if(r[t++]=!0,ve(js,function(){var Fs=c(e.cset64,r[--t])!==void 0;if(!Fs)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET64character#2795",r[t++]="Invalid CSET 64 character",r[t++]=!1,!0},e.lintgcppos1=function(){var it=r[t-1];if(it.length<2)return t-=2,r[t++]="bwipp.GS1gcpTooShort#2799",r[t++]="Value is too short to contain a GS1 Company Prefix",r[t++]=!1,!0;var Dt=r[--t],Ar=c(Dt,0),mr=c(Dt,1);if(Ar<48||Ar>57||mr<48||mr>57)return t--,r[t++]="bwipp.GS1badGCP#2802",r[t++]="Non-numeric GS1 Company Prefix",r[t++]=!1,!0},e.lintgcppos2=function(){var it=r[t-1];if(it.length<1)return t-=2,r[t++]="bwipp.GS1valueTooShortForOffsetGCP#2807",r[t++]="Value is too short to contain an offset GS1 Company Prefix",r[t++]=!1,!0;var Dt=r[--t];r[t++]=C(Dt,1,Dt.length-1),e.lintgcppos1()},e.lintimporteridx=function(){if(Rt("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r[--t]),!r[--t])return t-=2,r[t++]="bwipp.GS1badImporterIndex#2813",r[t++]="Invalid importer index",r[t++]=!1,!0;t-=3},e.lintcsum=function(){r[t++]=1/0;var it=r[--t],Dt=r[--t],Ar=Dt.length%2==0?3:1;r[t++]=it,r[t++]=Ar,ve(Dt,function(){var js=r[--t],Fs=r[--t];r[t++]=(js-48)*Fs,r[t++]=4-Fs}),t--;var mr=va()+1;r[t++]=0;for(var Ir=0,oa=mr-1;Ir<oa;Ir++){var ua=r[--t],ks=r[--t];r[t++]=S(ks+ua)}var Ga=r[--t];if(r[t-1]=Ga,r[--t]%10!=0)return t--,r[t++]="bwipp.GS1badChecksum#2822",r[t++]="Bad checksum",r[t++]=!1,!0},e.lintcsumalpha=function(){var it=r[t-1];if(it.length<2)return t-=2,r[t++]="bwipp.GS1alphaTooShort#2826",r[t++]="Alphanumeric string is too short to check",r[t++]=!1,!0;var Dt=r[t-1];r[t++]=Dt.length-2;var Ar=1/0,mr=C(Dt,0,Dt.length-2);r[t++]=Ar,ve(mr,function(){var Qi=r[t-1],d1=c(e.cset82,Qi)!==void 0;if(d1){var Fo=c(e.cset82,r[--t]);r[t++]=Fo}else return r[t++]=-1,!0});var Ir=r[t-1];if(Ir==-1)return rl(),t-=3,r[t++]="bwipp.GS1UnknownCSET82Character#2832",r[t++]="Unknown CSET 82 character",r[t++]=!1,!0;Yt(s(va()));var oa=r[--t];r[t-1]=oa;var ua=r[t-2],ks=C(r[t-3],ua,2);r[t-3]=r[t-1],t-=2;var Ga=1/0,js=ks;r[t++]=Ga,ve(js,function(){var Qi=r[t-1],d1=c(e.cset32,Qi)!==void 0;if(d1){var Fo=c(e.cset32,r[--t]);r[t++]=Fo}else return r[t++]=-1,!0});var Fs=r[t-1];if(Fs==-1)return rl(),t-=2,r[t++]="bwipp.GS1UnknownCSET32Character#2838",r[t++]="Unknown CSET 32 character",r[t++]=!1,!0;Yt(s(va()));var Ps=r[--t];r[t-1]=Ps;var Ks=r[--t],gi=r[--t],N1=s([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83]),Li=gi.length;if(r[t++]=S((c(Ks,0)<<5)+c(Ks,1)),r[t++]=gi,r[t++]=N1,r[t++]=Li,Li>N1.length)return t-=5,r[t++]="bwipp.GS1alphaTooLong#2843",r[t++]="Alphanumeric string is too long to check",r[t++]=!1,!0;for(var S1=r[--t],i1=C(r[--t],0,S1),o1=0,l1=i1.length;o1<l1;o1++){var c1=r[--t];r[t++]=c(i1,o1),r[t++]=c1}var e0=r[--t];r[t++]=0,ve(e0,function(){var Qi=r[t-3],d1=r[t-1],Fo=r[t-2];t-=3,r[t++]=S(Fo+Qi*d1)});var kl=r[--t];if(r[--t]!=kl%1021)return t--,r[t++]="bwipp.GS1badAlphaCheckCharacters#2846",r[t++]="Bad alphanumeric check characters",r[t++]=!1,!0},r[t++]=1/0;for(var Rx=s(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]),wf=0,yk=Rx.length;wf<yk;wf++){var Mx=c(Rx,wf);r[t++]=Mx,r[t++]=Mx}e.iso3166=Ge(),e.lintiso3166=function(){var it=c(e.iso3166,r[--t])!==void 0;if(!it)return t--,r[t++]="bwipp.GS1UnknownCountry#2873",r[t++]="Unknown country code",r[t++]=!1,!0},e.lintiso3166999=function(){var it=r[t-1];if(_e(it,"999")){var Dt=c(e.iso3166,r[--t])!==void 0;if(!Dt)return t--,r[t++]="bwipp.GS1UnknownCountryOr999#2878",r[t++]="Unknown country code or not 999",r[t++]=!1,!0}else t--},r[t++]=1/0;for(var _x=s(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]),Af=0,wk=_x.length;Af<wk;Af++){var Fx=c(_x,Af);r[t++]=Fx,r[t++]=Fx}e.iso3166alpha2=Ge(),e.lintiso3166alpha2=function(){var it=c(e.iso3166alpha2,r[--t])!==void 0;if(!it)return t--,r[t++]="bwipp.GS1UnknownCountryAlpha#2914",r[t++]="Unknown country alpha code",r[t++]=!1,!0},r[t++]=1/0;for(var Px=s(["008","012","032","036","044","048","050","051","052","060","064","068","072","084","090","096","104","108","116","124","132","136","144","152","156","170","174","188","191","192","203","208","214","222","230","232","238","242","262","270","292","320","324","328","332","340","344","348","352","356","360","364","368","376","388","392","396","398","400","404","408","410","414","417","418","422","426","430","434","446","454","458","462","480","484","496","498","504","512","516","524","532","533","548","554","558","566","578","586","590","598","600","604","608","634","643","646","654","682","690","694","702","704","706","710","728","748","752","756","760","764","776","780","784","788","800","807","818","826","834","840","858","860","882","886","901","925","927","928","929","930","931","932","933","934","936","938","940","941","943","944","946","947","948","949","950","951","952","953","955","956","957","958","959","960","961","962","963","964","965","967","968","969","970","971","972","973","975","976","977","978","979","980","981","984","985","986","990","994","997","999"]),kf=0,Ak=Px.length;kf<Ak;kf++){var Ox=c(Px,kf);r[t++]=Ox,r[t++]=Ox}e.iso4217=Ge(),e.lintiso4217=function(){var it=c(e.iso4217,r[--t])!==void 0;if(!it)return t--,r[t++]="bwipp.GS1UnknownCurrency#2945",r[t++]="Unknown currency code",r[t++]=!1,!0},e.lintiso5218=function(){var it=r[--t];if(_e(it,"0")&&_e(it,"1")&&_e(it,"2")&&_e(it,"9"))return t--,r[t++]="bwipp.GS1biologicalSexCode#2950",r[t++]="Invalid biological sex code",r[t++]=!1,!0},e.lintiban=function(){var it=r[t-1];if(it.length<=4)return t-=2,r[t++]="bwipp.GS1tooShort#2955",r[t++]="IBAN too short",r[t++]=!1,!0;var Dt=r[t-1];if(r[t++]=!0,ve(Dt,function(){var Ps=J(1);r[t++]=Ps,r[t++]=Ps,r[t++]=0,Sa(4,-1);var Ks=r[--t],gi=r[--t];if(b(r[--t],gi,Ks),Rt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r[--t]),!r[--t])return t-=2,r[t++]=!1,!0;t-=3}),!r[--t])return t--,r[t++]="bwipp.GS1badIBANcharacter#2962",r[t++]="Invalid IBAN character",r[t++]=!1,!0;var Ar=r[t-1],mr=1/0,Ir=Ar;r[t++]=mr;var oa=1/0,ua=Ir;r[t++]=oa,ve(ua),Sa(va(),-4),Yt(s(va()));var ks=r[--t];r[t-1]=ks,ve(r[--t],function(){var Ps=r[--t]-48;if(r[t++]=Ps,Ps>9){var Ks=r[--t]-7;r[t++]=~~(Ks/10),r[t++]=Ks%10}}),Yt(s(va()));var Ga=r[--t];r[t-1]=Ga;var js=r[--t];if(r[t++]=0,ve(js,function(){var Ps=r[--t],Ks=r[--t];r[t++]=S(Ps+Ks*10)%97}),r[--t]!=1)return t-=2,r[t++]="bwipp.GS1badIBANchecksum#2967",r[t++]="IBAN checksum incorrect",r[t++]=!1,!0;var Fs=C(r[--t],0,2);r[t++]=Fs,e.lintiso3166alpha2()},e.lintzero=function(){if(_e(r[--t],"0"))return t--,r[t++]="bwipp.GS1zeroRequired#2972",r[t++]="Zero is required",r[t++]=!1,!0},e.lintnonzero=function(){var it=r[--t];if(r[t++]=!1,ve(it,function(){r[--t]!=48&&(r[t-1]=!0)}),!r[--t])return t--,r[t++]="bwipp.GS1zeroNotPermitted#2977",r[t++]="Zero not permitted",r[t++]=!1,!0},e.lintnozeroprefix=function(){var it=r[--t];if(it.length>1&&c(it,0)==48)return t--,r[t++]="bwipp.GS1badZeroPrefix#2982",r[t++]="Zero prefix is not permitted",r[t++]=!1,!0},e.linthasnondigit=function(){var it=r[--t];if(r[t++]=!1,ve(it,function(){var Dt=r[--t];if(Dt<48||Dt>57)return r[t-1]=!0,!0}),!r[--t])return r[t++]="bwipp.GS1requiresNonDigit#2988",r[t++]="A non-digit character is required",r[t++]=!1,!0},e.linthyphen=function(){if(_e(r[--t],"-"))return t--,r[t++]="bwipp.GS1hyphenRequired#2992",r[t++]="A hyphen is required",r[t++]=!1,!0},e.lintyyyymmd0=function(){var it=r[t-1],Dt=Fe(C(it,4,2));if(Dt<1||Dt>12)return t--,r[t++]="bwipp.GS1badMonth#2996",r[t++]="Invalid month",r[t++]=!1,!0;var Ar=r[t-1],mr=Fe(C(Ar,0,4));r[t++]=mr%400==0||mr%4==0&&mr%100!=0,r[t++]=1/0,r[t++]=31,Sa(3,-1);var Ir=r[--t]?29:28;r[t++]=Ir,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var oa=s(),ua=r[--t];if(c(oa,Fe(C(ua,4,2))-1)<Fe(C(ua,6,2)))return t--,r[t++]="bwipp.GS1badDay#3000",r[t++]="Invalid day of month",r[t++]=!1,!0},e.lintyyyymmdd=function(){var it=r[t-1];if(it.length!=8)return t--,r[t++]="bwipp.GS1badDateLength#3004",r[t++]="Invalid length for yyyymmdd date",r[t++]=!1,!0;var Dt=r[t-1];if(Fe(C(Dt,6,2))<1)return t--,r[t++]="bwipp.GS1badDay#3005",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyyyymmd0()},e.lintyymmd0=function(){var it=r[t-1],Dt=Fe(C(it,0,2)),Ar=Dt-21;r[t++]=Dt,r[t++]=Ar,Ar>=51?r[t-1]="19":r[--t]<=-50?r[t++]="21":r[t++]="20";var mr=r[--t];r[t-1]=mr;var Ir=J(8);r[t++]=Ir,r[t++]=Ir,r[t++]=0,Sa(4,-1);var oa=r[--t],ua=r[--t];M(r[--t],ua,oa);var ks=r[t-1];r[t++]=ks,r[t++]=2,Sa(4,-1);var Ga=r[--t],js=r[--t];M(r[--t],js,Ga),e.lintyyyymmd0()},e.lintyymmdd=function(){var it=r[t-1];if(it.length!=6)return t--,r[t++]="bwipp.GS1badDateLength#3017",r[t++]="Invalid length for yymmdd date",r[t++]=!1,!0;var Dt=r[t-1];if(Fe(C(Dt,4,2))<1)return t--,r[t++]="bwipp.GS1badDay#3018",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyymmd0()},e.linthh=function(){if(Fe(C(r[--t],0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3023",r[t++]="Invalid hour of day",r[t++]=!1,!0},e.lintmi=function(){if(Fe(C(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3027",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintss=function(){if(Fe(C(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badSecond#3031",r[t++]="Invalid second in the minute",r[t++]=!1,!0},e.linthhmi=function(){var it=r[t-1];if(Fe(C(it,0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3035",r[t++]="Invalid hour of day",r[t++]=!1,!0;if(Fe(C(r[--t],2,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3036",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintmmoptss=function(){var it=r[t-1],Dt=it.length;if(Dt!=2&&Dt!=4)return t--,r[t++]="bwipp.GS1badTimeLength#3041",r[t++]="Invalid length for optional minutes and seconds",r[t++]=!1,!0;var Ar=r[t-1];if(Fe(C(Ar,0,2))>59)return t-=2,r[t++]="bwipp.GS1badMinute#3043",r[t++]="Invalid minute in the hour",r[t++]=!1,!0;var mr=r[t-1];if(mr.length>=4){var Ir=r[t-1];if(Fe(C(Ir,2,2))>59)return t-=2,r[t++]="bwipp.GS1badSecond#3045",r[t++]="Invalid second in the minute",r[t++]=!1,!0}t--},e.lintyesno=function(){var it=r[--t];if(_e(it,"0")&&_e(it,"1"))return t--,r[t++]="bwipp.GS1badBoolean#3052",r[t++]="Neither 0 nor 1 for yes or no",r[t++]=!1,!0},e.lintwinding=function(){var it=r[--t];if(_e(it,"0")&&_e(it,"1")&&_e(it,"9"))return t--,r[t++]="bwipp.GS1badWinding#3058",r[t++]="Invalid winding direction",r[t++]=!1,!0},e.lintpieceoftotal=function(){var it=r[t-1];if(it.length%2!=0)return t-=2,r[t++]="bwipp.GS1badPieceTotalLength#3063",r[t++]="Invalid piece/total length",r[t++]=!1,!0;var Dt=r[t-1],Ar=Fe(C(Dt,0,~~(Dt.length/2)));if(r[t++]=Ar,Ar==0)return t-=3,r[t++]="bwipp.GS1badPieceNumber#3065",r[t++]="Invalid piece number",r[t++]=!1,!0;var mr=r[--t],Ir=r[--t],oa=~~(Ir.length/2),ua=Fe(C(Ir,oa,oa));if(r[t++]=mr,r[t++]=ua,ua==0)return t-=3,r[t++]="bwipp.GS1badPieceTotal#3067",r[t++]="Invalid total number",r[t++]=!1,!0;var ks=r[--t];if(T1(r[--t],ks))return t--,r[t++]="bwipp.GS1pieceExceedsTotal#3068",r[t++]="Piece number exceeds total",r[t++]=!1,!0},e.lintposinseqslash=function(){if(Rt(r[--t],"/"),!r[--t])return t--,r[t++]="bwipp.invalidPosInSeqFormat#3073",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var it=r[--t];r[t-1]=it;var Dt=r[t-1];if(Dt.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3077",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var Ar=r[t-2];if(Ar.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3080",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var mr=r[t-1];if(r[t++]=!0,ve(mr,function(){var Ga=r[--t];if(Ga<48||Ga>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.positionNotNumeric#3085",r[t++]="Position is not numeric",r[t++]=!1,!0;var Ir=r[t-2];if(r[t++]=!0,ve(Ir,function(){var Ga=r[--t];if(Ga<48||Ga>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.endNotNumeric#3089",r[t++]="End is not numeric",r[t++]=!1,!0;var oa=r[t-1];if(c(oa,0)==48)return t-=2,r[t++]="bwipp.positionZeroPrefix#3090",r[t++]="Position cannot have zero prefix",r[t++]=!1,!0;var ua=r[t-2];if(c(ua,0)==48)return t-=2,r[t++]="bwipp.endZeroPrefix#3091",r[t++]="End cannot have zero prefix",r[t++]=!1,!0;var ks=r[--t];if(Fe(r[--t])<Fe(ks))return r[t++]="bwipp.positionExceedsEnd#3093",r[t++]="Position exceeds end",r[t++]=!1,!0},e.lintpcenc=function(){for(;;){if(Rt(r[--t],"%"),!r[--t]){t--;break}t-=2;var it=r[t-1];if(it.length<2){t-=2,r[t++]="bwipp.GS1badPercentEscape#3099",r[t++]="Invalid % escape",r[t++]=!1;break}var Dt=r[t-1],Ar=C(Dt,0,2);r[t++]=!0;for(var mr=0,Ir=Ar.length;mr<Ir;mr++){var oa=J(1);if(b(oa,0,c(Ar,mr)),Rt("0123456789ABCDEFabcdef",oa),!r[--t]){t-=2,r[t++]=!1;break}t-=3}if(!r[--t]){t-=2,r[t++]="bwipp.GS1badPercentChars#3106",r[t++]="Invalid characters for percent encoding",r[t++]=!1;break}}},e.lintcouponcode=function(){var it=r[t-1];if(r[t++]=!0,ve(it,function(){var dg=r[--t];if(dg<48||dg>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3114",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Dt=r[t-1];if(Dt.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortGCPVLI#3118",r[t++]="Coupon too short: Missing GCP VLI",r[t++]=!1,!0;var Ar=r[t-1],mr=Fe(C(Ar,0,1));if(r[t++]=mr,mr>6)return t-=2,r[t++]="bwipp.GS1couponBadGCPVLI#3121",r[t++]="Coupon GCP length indicator must be 0-6",r[t++]=!1,!0;var Ir=r[--t],oa=r[t-1];if(r[t++]=Ir+6+1,Ir+6+1>oa.length)return t-=3,r[t++]="bwipp.GS1couponTooShortGCP#3125",r[t++]="Coupon too short: GCP truncated",r[t++]=!1,!0;var ua=r[--t],ks=r[--t],Ga=C(ks,ua,S(ks.length-ua));if(r[t++]=Ga,Ga.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3131",r[t++]="Coupon too short: Offer Code truncated",r[t++]=!1,!0;var js=r[--t],Fs=C(js,6,js.length-6);if(r[t++]=Fs,Fs.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueVLI#3137",r[t++]="Coupon too short: Missing Save Value VLI",r[t++]=!1,!0;var Ps=r[t-1],Ks=Fe(C(Ps,0,1));if(r[t++]=Ks,Ks<1||Ks>5)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueVLI#3140",r[t++]="Coupon Save Value length indicator must be 1-5",r[t++]=!1,!0;var gi=r[--t],N1=r[t-1];if(r[t++]=gi+1,gi+1>N1.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSaveValue#3144",r[t++]="Coupon too short: Save Value truncated",r[t++]=!1,!0;var Li=r[--t],S1=r[--t],i1=C(S1,Li,S(S1.length-Li));if(r[t++]=i1,i1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementVLI#3150",r[t++]="Coupon too short: Missing 1st Purchase Requirement VLI",r[t++]=!1,!0;var o1=r[t-1],l1=Fe(C(o1,0,1));if(r[t++]=l1,l1<1||l1>5)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementVLI#3153",r[t++]="Coupon 1st Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var c1=r[--t],e0=r[t-1];if(r[t++]=c1+1,c1+1>e0.length)return t-=3,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirement#3157",r[t++]="Coupon too short: 1st Purchase Requirement truncated",r[t++]=!1,!0;var kl=r[--t],Qi=r[--t],d1=C(Qi,kl,S(Qi.length-kl));if(r[t++]=d1,d1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementCode#3163",r[t++]="Coupon too short: Missing 1st Purchase Requirement Code",r[t++]=!1,!0;var Fo=r[t-1],Vx=Fe(C(Fo,0,1));if(Vx>4&&Vx!=9)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementCode#3166",r[t++]="Coupon 1st Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Yx=r[--t],Kx=C(Yx,1,Yx.length-1);if(r[t++]=Kx,Kx.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseFamilyCode#3172",r[t++]="Coupon too short: 1st Purchase Family Code truncated",r[t++]=!1,!0;var Wx=r[--t],Jx=C(Wx,3,Wx.length-3);if(r[t++]=Jx,Jx.length>=1){var Fk=r[t-1];if(Fe(C(Fk,0,1))==1){var Xx=r[--t],Zx=C(Xx,1,Xx.length-1);if(r[t++]=Zx,Zx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortAdditionalPurchaseRulesCode#3182",r[t++]="Coupon too short: Missing Additional Purchase Rules Code",r[t++]=!1,!0;var Pk=r[t-1];if(Fe(C(Pk,0,1))>3)return t-=2,r[t++]="bwipp.GS1couponBadAdditionalPurchaseRulesCode#3185",r[t++]="Coupon Additional Purchase Rules Code must be 0-3",r[t++]=!1,!0;var ev=r[--t],tv=C(ev,1,ev.length-1);if(r[t++]=tv,tv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementVLI#3191",r[t++]="Coupon too short: Missing 2nd Purchase Requirement VLI",r[t++]=!1,!0;var Ok=r[t-1],Ef=Fe(C(Ok,0,1));if(r[t++]=Ef,Ef<1||Ef>5)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementVLI#3194",r[t++]="Coupon 2nd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var rv=r[--t],Uk=r[t-1];if(r[t++]=rv+1,rv+1>Uk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirement#3198",r[t++]="Coupon too short: 2nd Purchase Requirement truncated",r[t++]=!1,!0;var av=r[--t],sv=r[--t],nv=C(sv,av,S(sv.length-av));if(r[t++]=nv,nv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementCode#3204",r[t++]="Coupon too short: Missing 2nd Purchase Requirement Code",r[t++]=!1,!0;var zk=r[t-1],iv=Fe(C(zk,0,1));if(iv>4&&iv!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementCode#3207",r[t++]="Coupon 2nd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var ov=r[--t],lv=C(ov,1,ov.length-1);if(r[t++]=lv,lv.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseFamilyCode#3213",r[t++]="Coupon too short: 2nd Purchase Family Code truncated",r[t++]=!1,!0;var cv=r[--t],dv=C(cv,3,cv.length-3);if(r[t++]=dv,dv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCPVLI#3219",r[t++]="Coupon too short: Missing 2nd Purchase GCP VLI",r[t++]=!1,!0;var Lk=r[t-1],Cf=Fe(C(Lk,0,1));if(r[t++]=Cf,Cf>6&&Cf!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseGCPVLI#3222",r[t++]="Coupon 2nd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Qk=r[t-1];if(Qk!=9){var Hk=r[--t];r[t++]=Hk+6}else r[t-1]=0;var uv=r[--t],$k=r[t-1];if(r[t++]=uv+1,uv+1>$k.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCP#3226",r[t++]="Coupon too short: 2nd Purchase GCP truncated",r[t++]=!1,!0;var fv=r[--t],hv=r[--t];r[t++]=C(hv,fv,S(hv.length-fv))}}var qk=r[t-1];if(qk.length>=1){var Gk=r[t-1];if(Fe(C(Gk,0,1))==2){var pv=r[--t],mv=C(pv,1,pv.length-1);if(r[t++]=mv,mv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementVLI#3238",r[t++]="Coupon too short: Missing 3rd Purchase Requirement VLI",r[t++]=!1,!0;var Vk=r[t-1],If=Fe(C(Vk,0,1));if(r[t++]=If,If<1||If>5)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementVLI#3241",r[t++]="Coupon 3rd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var xv=r[--t],Yk=r[t-1];if(r[t++]=xv+1,xv+1>Yk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirement#3245",r[t++]="Coupon too short: 3rd Purchase Requirement truncated",r[t++]=!1,!0;var vv=r[--t],gv=r[--t],bv=C(gv,vv,S(gv.length-vv));if(r[t++]=bv,bv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementCode#3251",r[t++]="Coupon too short: Missing 3rd Purchase Requirement Code",r[t++]=!1,!0;var Kk=r[t-1],yv=Fe(C(Kk,0,1));if(yv>4&&yv!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementCode#3254",r[t++]="Coupon 3rd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var wv=r[--t],Av=C(wv,1,wv.length-1);if(r[t++]=Av,Av.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseFamilyCode#3260",r[t++]="Coupon too short: 3rd Purchase Family Code truncated",r[t++]=!1,!0;var kv=r[--t],jv=C(kv,3,kv.length-3);if(r[t++]=jv,jv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCPVLI#3266",r[t++]="Coupon too short: Missing 3rd Purchase GCP VLI",r[t++]=!1,!0;var Wk=r[t-1],Bf=Fe(C(Wk,0,1));if(r[t++]=Bf,Bf>6&&Bf!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseGCPVLI#3269",r[t++]="Coupon 3rd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Jk=r[t-1];if(Jk!=9){var Xk=r[--t];r[t++]=Xk+6}else r[t-1]=0;var Nv=r[--t],Zk=r[t-1];if(r[t++]=Nv+1,Nv+1>Zk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCP#3273",r[t++]="Coupon too short: 3rd Purchase GCP truncated",r[t++]=!1,!0;var Sv=r[--t],Ev=r[--t];r[t++]=C(Ev,Sv,S(Ev.length-Sv))}}e.couponexpire=-1;var ej=r[t-1];if(ej.length>=1){var tj=r[t-1];if(Fe(C(tj,0,1))==3){var Cv=r[--t],Iv=C(Cv,1,Cv.length-1);if(r[t++]=Iv,Iv.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortExpirationDate#3286",r[t++]="Coupon too short: Expiration date",r[t++]=!1,!0;var rj=r[t-1],Bv=Fe(C(rj,2,2));if(Bv<1||Bv>12)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadMonth#3288",r[t++]="Invalid month in expiration date",r[t++]=!1,!0;var aj=r[t-1],Dv=Fe(C(aj,0,2)),Tv=Dv-21;if(r[t++]=Dv,r[t++]=Tv,Tv>=51){t--;var sj=r[--t];r[t++]=sj+1900}else if(r[--t]<=-50){var nj=r[--t];r[t++]=nj+2100}else{var ij=r[--t];r[t++]=ij+2e3}var Df=r[--t];r[t++]=Df%400==0||Df%4==0&&Df%100!=0,r[t++]=1/0,r[t++]=31,Sa(3,-1);var oj=r[--t]?29:28;r[t++]=oj,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var lj=s(),Rv=r[t-1],Mv=Fe(C(Rv,4,2));if(c(lj,Fe(C(Rv,2,2))-1)<Mv||Mv<1)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadDay#3295",r[t++]="Invalid day of month in expiration date",r[t++]=!1,!0;var Tf=r[--t];e.couponexpire=Fe(C(Tf,0,6)),r[t++]=C(Tf,6,Tf.length-6)}}var cj=r[t-1];if(cj.length>=1){var dj=r[t-1];if(Fe(C(dj,0,1))==4){var _v=r[--t],Fv=C(_v,1,_v.length-1);if(r[t++]=Fv,Fv.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortStartDate#3307",r[t++]="Coupon too short: Start date",r[t++]=!1,!0;var uj=r[t-1],Pv=Fe(C(uj,2,2));if(Pv<1||Pv>12)return t-=2,r[t++]="bwipp.GS1couponStartDateBadMonth#3309",r[t++]="Invalid month in start date",r[t++]=!1,!0;var fj=r[t-1],Ov=Fe(C(fj,0,2)),Uv=Ov-21;if(r[t++]=Ov,r[t++]=Uv,Uv>=51){t--;var hj=r[--t];r[t++]=hj+1900}else if(r[--t]<=-50){var pj=r[--t];r[t++]=pj+2100}else{var mj=r[--t];r[t++]=mj+2e3}var Rf=r[--t];r[t++]=Rf%400==0||Rf%4==0&&Rf%100!=0,r[t++]=1/0,r[t++]=31,Sa(3,-1);var xj=r[--t]?29:28;r[t++]=xj,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var vj=s(),zv=r[t-1],Lv=Fe(C(zv,4,2));if(c(vj,Fe(C(zv,2,2))-1)<Lv||Lv<1)return t-=2,r[t++]="bwipp.GS1couponStartDateBadDay#3316",r[t++]="Invalid day of month in start date",r[t++]=!1,!0;var Qv=r[--t];if(e.couponstart=Fe(C(Qv,0,6)),r[t++]=Qv,e.couponexpire!=-1&&e.couponexpire<e.couponstart)return t-=2,r[t++]="bwipp.GS1couponExpireDateBeforeStartDate#3319",r[t++]="Coupon expires before it starts",r[t++]=!1,!0;var Hv=r[--t];r[t++]=C(Hv,6,Hv.length-6)}}var gj=r[t-1];if(gj.length>=1){var bj=r[t-1];if(Fe(C(bj,0,1))==5){var $v=r[--t],qv=C($v,1,$v.length-1);if(r[t++]=qv,qv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSerialNumberVLI#3331",r[t++]="Coupon too short: Missing Serial Number VLI",r[t++]=!1,!0;var Gv=r[t-1],Vv=C(Gv,0,1);if(r[t++]=Fe(Vv)+6+1,Fe(Vv)+6+1>Gv.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSerialNumber#3335",r[t++]="Coupon too short: Serial Number truncated",r[t++]=!1,!0;var Yv=r[--t],Kv=r[--t];r[t++]=C(Kv,Yv,S(Kv.length-Yv))}}var yj=r[t-1];if(yj.length>=1){var wj=r[t-1];if(Fe(C(wj,0,1))==6){var Wv=r[--t],Jv=C(Wv,1,Wv.length-1);if(r[t++]=Jv,Jv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLNVLI#3347",r[t++]="Coupon too short: Missing Retailer GCP/GLN VLI",r[t++]=!1,!0;var Aj=r[t-1],Mf=Fe(C(Aj,0,1));if(r[t++]=Mf,Mf<1||Mf>7)return t-=2,r[t++]="bwipp.GS1couponBadRetailerGCPGLNVLI#3350",r[t++]="Coupon Retailer GCP/GLN length indicator must be 1-7",r[t++]=!1,!0;var Xv=r[--t],kj=r[t-1];if(r[t++]=Xv+6+1,Xv+6+1>kj.length)return t-=3,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLN#3354",r[t++]="Coupon too short: Retailer GCP/GLN truncated",r[t++]=!1,!0;var Zv=r[--t],eg=r[--t];r[t++]=C(eg,Zv,S(eg.length-Zv))}}var jj=r[t-1];if(jj.length>=1){var Nj=r[t-1];if(Fe(C(Nj,0,1))==9){var tg=r[--t],rg=C(tg,1,tg.length-1);if(r[t++]=rg,rg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueCode#3366",r[t++]="Coupon too short: Missing Save Value Code",r[t++]=!1,!0;var Sj=r[t-1],_f=Fe(C(Sj,0,1));if(_f>6||_f==3||_f==4)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueCode#3369",r[t++]="Coupon Save Value Code must be 0,1,2,5 or 6",r[t++]=!1,!0;var ag=r[--t],sg=C(ag,1,ag.length-1);if(r[t++]=sg,sg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueAppliesToItem#3375",r[t++]="Coupon too short: Missing Save Value Applies to Item",r[t++]=!1,!0;var Ej=r[t-1];if(Fe(C(Ej,0,1))>2)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueAppliesToItem#3378",r[t++]="Coupon Save Value Applies to Item must be 0-2",r[t++]=!1,!0;var ng=r[--t],ig=C(ng,1,ng.length-1);if(r[t++]=ig,ig.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortStoreCouponFlag#3384",r[t++]="Coupon too short: Missing Store Coupon Flag",r[t++]=!1,!0;var og=r[--t],lg=C(og,1,og.length-1);if(r[t++]=lg,lg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortDontMultiplyFlag#3390",r[t++]="Coupon too short: Missing Don't Multiply Flag",r[t++]=!1,!0;var Cj=r[t-1];if(Fe(C(Cj,0,1))>1)return t-=2,r[t++]="bwipp.GS1couponBadDontMultiplyFlag#3393",r[t++]="Don't Multiply Flag must be 0 or 1",r[t++]=!1,!0;var cg=r[--t];r[t++]=C(cg,1,cg.length-1)}}var Ij=r[t-1];if(Ij.length!=0)return t-=2,r[t++]="bwipp.GS1couponUnrecognisedOptionalField#3400",r[t++]="Coupon fields must be 1,2,3,4,5,6 or 9, increasing order",r[t++]=!1,!0;t--},e.lintcouponposoffer=function(){var it=r[t-1];if(r[t++]=!0,ve(it,function(){var c1=r[--t];if(c1<48||c1>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3409",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Dt=r[t-1];if(Dt.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFormatCode#3412",r[t++]="Coupon too short: Missing Format Code",r[t++]=!1,!0;var Ar=r[t-1],mr=C(Ar,0,1);if(_e(mr,"0")&&_e(mr,"1"))return t-=2,r[t++]="bwipp.GS1couponBadFormatCode#3415",r[t++]="Coupon format must be 0 or 1",r[t++]=!1,!0;var Ir=r[--t],oa=C(Ir,1,Ir.length-1);if(r[t++]=oa,oa.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFunderVLI#3420",r[t++]="Coupon too short: Missing Funder VLI",r[t++]=!1,!0;var ua=r[t-1],ks=Fe(C(ua,0,1));if(r[t++]=ks,ks>6)return t-=3,r[t++]="bwipp.GS1couponBadFunderVLI#3423",r[t++]="Coupon Funder length indicator must be 0-6",r[t++]=!1,!0;var Ga=r[--t],js=r[t-1];if(r[t++]=Ga+6+1,Ga+6+1>js.length)return t-=3,r[t++]="bwipp.GS1couponTooShortFunder#3427",r[t++]="Coupon too short: Truncated Funder ID",r[t++]=!1,!0;var Fs=r[--t],Ps=r[--t],Ks=C(Ps,Fs,S(Ps.length-Fs));if(r[t++]=Ks,Ks.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3432",r[t++]="Coupon too short: Truncated Offer Code",r[t++]=!1,!0;var gi=r[--t],N1=C(gi,6,gi.length-6);if(r[t++]=N1,N1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSnVLI#3437",r[t++]="Coupon too short: Missing SN VLI",r[t++]=!1,!0;var Li=r[t-1],S1=C(Li,0,1);if(r[t++]=Fe(S1)+6+1,Fe(S1)+6+1>Li.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSn#3442",r[t++]="Coupon too short: Truncated SN",r[t++]=!1,!0;var i1=r[--t],o1=r[--t],l1=C(o1,i1,S(o1.length-i1));if(r[t++]=l1,l1.length!=0)return t-=2,r[t++]="bwipp.GS1couponTooLong#3446",r[t++]="Coupon too long",r[t++]=!1,!0;t--},e.lintlatitude=function(){var it=r[t-1];if(it.length!=10)return t--,r[t++]="bwipp.GS1badLatitudeLength#3453",r[t++]="Invalid length for a latitude",r[t++]=!1,!0;if(Fe(r[--t])>Fe("1800000000"))return t--,r[t++]="bwipp.GS1badLatitude#3457",r[t++]="Invalid value for latitude",r[t++]=!1,!0},e.lintlongitude=function(){var it=r[t-1];if(it.length!=10)return t--,r[t++]="bwipp.GS1badLongitudeLength#3462",r[t++]="Invalid length for a longitude",r[t++]=!1,!0;if(Fe(r[--t])>Fe("3600000000"))return t--,r[t++]="bwipp.GS1badLongitude#3467",r[t++]="Invalid value for longitude",r[t++]=!1,!0},r[t++]=1/0;for(var Ux=s(["01","02","03","04","05","06","07","08","09","10","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99"]),jf=0,kk=Ux.length;jf<kk;jf++){var zx=c(Ux,jf);r[t++]=zx,r[t++]=zx}e.aidcmediatype=Ge(),e.lintmediatype=function(){var it=c(e.aidcmediatype,r[--t])!==void 0;if(!it)return t--,r[t++]="bwipp.GS1UnknownMediaType#3479",r[t++]="Unknown AIDC media type",r[t++]=!1,!0},r[t++]=1/0;for(var Lx=s(["1A","1B","1D","1F","1G","1W","200","201","202","203","204","205","206","210","211","212","2C","3A","3H","43","44","4A","4B","4C","4D","4F","4G","4H","5H","5L","5M","6H","6P","7A","7B","8","8A","8B","8C","9","AA","AB","AC","AD","AF","AG","AH","AI","AJ","AL","AM","AP","APE/AT","AV","B4","BB","BC","BD","BE","BF","BG","BGE","BH","BI","BJ","BK","BL","BM","BME","BN","BO","BP","BQ","BR","BRI","BS","BT","BU","BV","BW","BX","BY","BZ","CA","CB","CBL","CC","CCE","CD","CE","CF","CG","CH","CI","CJ","CK","CL","CM","CN","CO","CP","CQ","CR","CS","CT","CU","CV","CW","CX","CY","CZ","DA","DB","DC","DG","DH","DI","DJ","DK","DL","DM","DN","DP","DPE","DR","DS","DT","DU","DV","DW","DX","DY","E1","E2","E3","EC","ED","EE","EF","EG","EH","EI","EN","FB","FC","FD","FE","FI","FL","FO","FOB","FP","FPE","FR","FT","FW","FX","GB","GI","GL","GR","GU","GY","GZ","HA","HB","HC","HG","HN","HR","IA","IB","IC","ID","IE","IF","IG","IH","IK","IL","IN","IZ","JB","JC","JG","JR","JT","JY","KG","KI","LAB","LE","LG","LT","LU","LV","LZ","MA","MB","MC","ME","MPE","MR","MS","MT","MW","MX","NA","NE","NF","NG","NS","NT","NU","NV","OA","OB","OC","OD","OE","OF","OK","OPE","OT","OU","P2","PA","PAE","PB","PC","PD","PE","PF","PG","PH","PI","PJ","PK","PL","PLP","PN","PO","POP","PP","PPE","PR","PT","PU","PUE","PV","PX","PY","PZ","QA","QB","QC","QD","QF","QG","QH","QJ","QK","QL","QM","QN","QP","QQ","QR","QS","RB1","RB2","RB3","RCB","RD","RG","RJ","RK","RL","RO","RT","RZ","S1","SA","SB","SC","SD","SE","SEC","SH","SI","SK","SL","SM","SO","SP","SS","ST","STL","SU","SV","SW","SX","SY","SZ","T1","TB","TC","TD","TE","TEV","TG","THE","TI","TK","TL","TN","TO","TR","TRE","TS","TT","TTE","TU","TV","TW","TWE","TY","TZ","UC","UN","UUE","VA","VG","VI","VK","VL","VN","VO","VP","VQ","VR","VS","VY","WA","WB","WC","WD","WF","WG","WH","WJ","WK","WL","WM","WN","WP","WQ","WR","WRP","WS","WT","WU","WV","WW","WX","WY","WZ","X11","X12","X15","X16","X17","X18","X19","X20","X3","XA","XB","XC","XD","XF","XG","XH","XJ","XK","YA","YB","YC","YD","YF","YG","YH","YJ","YK","YL","YM","YN","YP","YQ","YR","YS","YT","YV","YW","YX","YY","YZ","ZA","ZB","ZC","ZD","ZF","ZG","ZH","ZJ","ZK","ZL","ZM","ZN","ZP","ZQ","ZR","ZS","ZT","ZU","ZV","ZW","ZX","ZY","ZZ"]),Nf=0,jk=Lx.length;Nf<jk;Nf++){var Qx=c(Lx,Nf);r[t++]=Qx,r[t++]=Qx}if(e.packagetype=Ge(),e.lintpackagetype=function(){var it=c(e.packagetype,r[--t])!==void 0;if(!it)return t--,r[t++]="bwipp.GS1unknownPackageType#3523",r[t++]="Unknown package type",r[t++]=!1,!0},!e.dontlint){r[t++]=!0;for(var E2=0,Nk=e.vals.length-1;E2<=Nk;E2+=1){e.ai=c(e.ais,E2),e.val=c(e.vals,E2);var Sk=c(e.gs1syntax,e.ai)!==void 0;if(Sk){var Hx=c(c(e.gs1syntax,e.ai),"parts");if(r[t++]=Hx,r[t++]=0,ve(Hx,function(){var it=r[t-1];if(c(it,"opt"))r[t-1]=0;else{var Dt=c(r[--t],"min");r[t++]=Dt}var Ar=r[--t],mr=r[--t];r[t++]=S(mr+Ar)}),r[--t]>e.val.length){t--,r[t++]="bwipp.GS1valueTooShort#3537",r[t++]="Too short",r[t++]=!1;break}var Ek=r[t-1];if(r[t++]=0,ve(Ek,function(){var it=c(r[--t],"max"),Dt=r[--t];r[t++]=S(Dt+it)}),r[--t]<e.val.length){t--,r[t++]="bwipp.GS1valueTooLong#3540",r[t++]="Too long",r[t++]=!1;break}ve(r[--t],function(){e.props=r[--t];var it=c(e.props,"max"),Dt=e.val,Ar=Dt.length;if(it>Dt.length){var mr=Ar;Ar=it,it=mr}e.eval=C(e.val,0,it);var Ir=e.eval.length;if(e.val=C(e.val,Ir,e.val.length-Ir),e.eval.length==0){if(!c(e.props,"opt"))return t--,r[t++]="bwipp.GS1valueTooShort#3549",r[t++]="Too short",r[t++]=!1,!0}else{if(e.eval.length<c(e.props,"min"))return t--,r[t++]="bwipp.GS1valueTooShort#3553",r[t++]="Too short",r[t++]=!1,!0;var oa=new Map([["N","lintnumeric"],["X","lintcset82"],["Y","lintcset39"],["Z","lintcset64"]]);if(r[t++]=e.eval,e[c(oa,c(e.props,"cset"))]()===!0)return!0;ve(c(e.props,"linters"),function(){var ua=e[r[--t]];if(r[t++]=e.eval,ua()===!0)return!0})}});var Ck=r[t-1];if(!Ck)break;if(e.val.length!=0){t--,r[t++]="bwipp.GS1valueTooLong#3562",r[t++]="Too long",r[t++]=!1;break}}else{t--,r[t++]="bwipp.GS1unknownAI#3565",r[t++]="Unrecognised AI",r[t++]=!1;break}}if(!r[--t]){var $x=r[--t],Zc=J($x.length+e.ai.length+5);M(Zc,0,"AI "),M(Zc,3,e.ai),M(Zc,3+e.ai.length,": "),M(Zc,5+e.ai.length,$x),r[t++]=Zc,z()}e.aiexists=function(){e.this=r[--t],e.patt=r[--t];for(var it=0;it<1;it++){var Dt=c(e.aivals,e.patt)!==void 0;if(Dt){r[t++]=!0;break}if(e.patt.length==4){if(Y(C(e.patt,3,1),"n")){var Ar=Y(C(e.patt,2,1),"n")?2:3;e.pfxlen=Ar;var mr=e.ais;r[t++]=!1;for(var Ir=0,oa=mr.length;Ir<oa;Ir++){var ua=c(mr,Ir);r[t++]=ua,_e(ua,e.this)&&ua.length==4?Y(C(r[--t],0,e.pfxlen),C(e.patt,0,e.pfxlen))&&(r[t-1]=!0):t--}break}r[t++]=!1;break}r[t++]=!1;break}},e.vals,e.aivals=new Map;for(var C2=0,Ik=e.vals.length-1;C2<=Ik;C2+=1){e.ai=c(e.ais,C2),e.val=c(e.vals,C2);var Bk=c(e.aivals,e.ai)!==void 0;if(Bk){if(_e(c(e.aivals,e.ai),e.val)){var I2=J(e.ai.length+40);M(I2,0,"Repeated AIs ("),M(I2,14,e.ai),M(I2,14+e.ai.length,") must have the same value"),r[t++]="bwipp.GS1repeatedDifferingAIs#3615",r[t++]=I2,z()}}else b(e.aivals,e.ai,e.val)}for(var Sf=0,Dk=e.vals.length-1;Sf<=Dk;Sf+=1){e.ai=c(e.ais,Sf);var qx=c(e.gs1syntax,e.ai),Tk=c(qx,"ex")!==void 0;if(r[t++]=qx,r[t++]="ex",Tk){var Rk=r[--t];ve(c(r[--t],Rk),function(){if(e.patt=r[--t],r[t++]=e.patt,r[t++]=e.ai,e.aiexists(),r[--t]){var it=J(e.ai.length+e.patt.length+36);M(it,0,"AIs ("),M(it,5,e.ai),M(it,5+e.ai.length,") and ("),M(it,12+e.ai.length,e.patt),M(it,12+e.ai.length+e.patt.length,") are mutually exclusive"),r[t++]="bwipp.GS1exclusiveAIs#3635",r[t++]=it,z()}})}else t-=2;if(e.lintreqs){var Gx=c(e.gs1syntax,e.ai),Mk=c(Gx,"req")!==void 0;if(r[t++]=Gx,r[t++]="req",Mk){var _k=r[--t];ve(c(r[--t],_k),function(){var it=r[--t];if(r[t++]=!1,ve(it,function(){var Fs=r[--t];if(r[t++]=!0,ve(Fs,function(){r[t++]=e.ai,e.aiexists(),r[--t]||(r[t-1]=!1)}),r[--t])return r[t-1]=!0,!0}),!r[--t]){r[t++]=1/0,ve(c(c(e.gs1syntax,e.ai),"req"),function(){ve(r[--t],function(){ve(r[--t],function(){r[t++]="+"}),r[t-1]=" OR "}),r[t-1]=" WITH "}),t--;var Dt=s();r[t++]=Dt,r[t++]=0;for(var Ar=0,mr=Dt.length;Ar<mr;Ar++){var Ir=r[--t];r[t++]=S(Ir+c(Dt,Ar).length)}var oa=e.ai.length+49;r[t++]=oa,r[t++]=oa;var ua=r[t-3],ks=J(S(r[t-1]+ua)),Ga=r[t-2];t-=3,r[t++]=ks,r[t++]=Ga,Sa(3,-1),ve(r[--t],function(){var Fs=r[--t],Ps=r[--t],Ks=r[t-1];M(Ks,Ps,Fs),r[t++]=S(Fs.length+Ps)}),t--;var js=r[--t];M(js,0,"One of more requisite AIs for AI ("),M(js,34,e.ai),M(js,34+e.ai.length,") are missing: "),r[t++]="bwipp.GS1missingAIs#3662",r[t++]=js,z()}})}else t-=2}}}r[t++]=e.ais,r[t++]=e.vals,r[t++]=e.fncs,e=a}function u2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=5&&(r[t++]="bwipp.ean5badLength#4997",r[t++]="EAN-5 add-on must be 5 digits",z()),ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.ean5badCharacter#5001",r[t++]="EAN-5 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["11000","10100","10010","10001","01100","00110","00011","01010","01001","00101"]),e.checksum=0;for(var n=0;n<=4;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar*3+e.checksum):e.checksum=S(e.barchar*9+e.checksum);e.checksum=e.checksum%10,e.mirrormap=c(e.mirrormaps,e.checksum),e.sbs=J(31),e.txt=s(5);for(var i=0;i<=4;i+=1){if(e.i=i,e.i==0?M(e.sbs,0,c(e.encs,10)):M(e.sbs,(e.i-1)*6+7,c(e.encs,11)),Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=J(e.enclen);for(var o=0,d=e.enclen-1;o<=d;o+=1)e.j=o,e.char=c(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,e.i*6+3,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var u=e.sbs,f=0,h=u.length;f<h;f++)r[t++]=c(u,f)-48;var p=s();r[t++]=1/0;for(var m=0;m<16;m++)r[t++]=e.height;var x=s();r[t++]=1/0;for(var y=0;y<16;y++)r[t++]=0;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=p,r[t++]="bhs",r[t++]=x,r[t++]="bbs",r[t++]=w,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var v=Ge();r[t++]=v,e.dontdraw||Mt(),e=a}function f2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=2&&(r[t++]="bwipp.ean2badLength#5142",r[t++]="EAN-2 add-on must be 2 digits",z()),ve(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.ean2badCharacter#5146",r[t++]="EAN-2 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["00","01","10","11"]),e.mirrormap=c(e.mirrormaps,Fe(C(e.barcode,0,2))%4),e.sbs=J(13),e.txt=s(2);for(var n=0;n<=1;n+=1){if(e.i=n,e.i==0?M(e.sbs,0,c(e.encs,10)):M(e.sbs,(e.i-1)*6+7,c(e.encs,11)),Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=J(e.enclen);for(var i=0,o=e.enclen-1;i<=o;i+=1)e.j=i,e.char=c(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,e.i*6+3,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var d=e.sbs,u=0,f=d.length;u<f;u++)r[t++]=c(d,u)-48;var h=s();r[t++]=1/0;for(var p=0;p<12;p++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0;x<12;x++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=h,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var w=Ge();r[t++]=w,e.dontdraw||Mt(),e=a}function h2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-11,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=12&&e.barcode.length!=13&&(r[t++]="bwipp.ean13badLength#5286",r[t++]="EAN-13 must be 12 or 13 digits",z()),ve(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.ean13badCharacter#5290",r[t++]="EAN-13 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean13badAddOnLength#5294",r[t++]="Add-on for EAN-13 must be 2 or 5 digits",z()),e.pad=J(13),e.checksum=0;for(var n=0;n<=11;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==13&&c(e.barcode,12)!=e.checksum+48&&(r[t++]="bwipp.ean13badCheckDigit#5312",r[t++]="Incorrect EAN-13 check digit provided",z()),M(e.pad,0,e.barcode),b(e.pad,12,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.mirrormaps=s(["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"]),e.sbs=J(59),e.txt=s(13),M(e.sbs,0,c(e.encs,10)),e.mirrormap=c(e.mirrormaps,c(e.barcode,0)-48),b(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize]));for(var i=1;i<=6;i+=1){if(e.i=i,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=J(e.enclen);for(var o=0,d=e.enclen-1;o<=d;o+=1)e.j=o,e.char=c(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,(e.i-1)*4+3,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+15+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}M(e.sbs,6*4+3,c(e.encs,11));for(var u=7;u<=12;u+=1)e.i=u,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,(e.i-1)*4+8,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+19+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,56,c(e.encs,12)),r[t++]=1/0;for(var f=e.sbs,h=0,p=f.length;h<p;h++)r[t++]=c(f,h)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var m=0;m<12;m++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var x=0;x<12;x++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var y=0;y<12;y++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var w=0;w<12;w++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var v=0;v<30;v++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var g=0;g<30;g++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var A=r[--t];r[t++]=S(A-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var k=_e(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=k,e.addopts=Ge(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,f2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,u2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=11,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var E=Ge();r[t++]=E,e.dontdraw||Mt(),e=a}function Wm(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=4,e.textyoffset=-4,e.height=1,e.permitaddon=!1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.ean8badLength#5507",r[t++]="EAN-8 must be 7 or 8 digits",z()),ve(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.ean8badCharacter#5511",r[t++]="EAN-8 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean8badAddOnLength#5515",r[t++]="Add-on for EAN-8 must be 2 or 5 digits",z()),!e.permitaddon&&e.addon.length!=0&&(r[t++]="bwipp.ean8badAddOnLength#5518",r[t++]='Non-standard use of add-on for EAN-8 requires "permitaddon" option',z()),e.pad=J(8),e.checksum=0;for(var n=0;n<=6;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2!=0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&c(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.ean8badCheckDigit#5536",r[t++]="Incorrect EAN-8 check digit provided",z()),M(e.pad,0,e.barcode),b(e.pad,7,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=J(43),e.txt=s(8),M(e.sbs,0,c(e.encs,10));for(var i=0;i<=3;i+=1)e.i=i,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+3,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,4*4+3,c(e.encs,11));for(var o=4;o<=7;o+=1)e.i=o,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+8,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset+4,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,40,c(e.encs,12)),r[t++]=1/0;for(var d=e.sbs,u=0,f=d.length;u<f;u++)r[t++]=c(d,u)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var h=0;h<8;h++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var p=0;p<8;p++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var m=0;m<8;m++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var x=0;x<8;x++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var y=0;y<22;y++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var w=0;w<22;w++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var v=r[--t];r[t++]=S(v-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=67+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var g=_e(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=g,e.addopts=Ge(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,f2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,u2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardleftpos",r[t++]=7,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=7,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var A=Ge();r[t++]=A,e.dontdraw||Mt(),e=a}function Fw(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==7||e.barcode.length==8){ve(e.barcode,function(){var $=r[--t];($<48||$>57)&&(r[t++]="bwipp.upcAupcEbadCharacter#5714",r[t++]="UPC-E must contain only digits",z())});var n=c(e.barcode,0);n!=48&&n!=49&&(r[t++]="bwipp.upcAupcEbadNumberSystem#5718",r[t++]="UPC-E must have number system 0 or 1",z());for(var i=0;i<1;i++){var o=e.barcode.length==8?12:11;if(e.upcacode=J(o),c(e.barcode,6)-48<=2){M(e.upcacode,0,C(e.barcode,0,3)),M(e.upcacode,3,C(e.barcode,6,1)),M(e.upcacode,4,"0000"),M(e.upcacode,8,C(e.barcode,3,3));break}if(c(e.barcode,6)-48==3){M(e.upcacode,0,C(e.barcode,0,4)),M(e.upcacode,4,"00000"),M(e.upcacode,9,C(e.barcode,4,2));break}if(c(e.barcode,6)-48==4){M(e.upcacode,0,C(e.barcode,0,5)),M(e.upcacode,5,"00000"),M(e.upcacode,10,C(e.barcode,5,1));break}if(c(e.barcode,6)-48>=5){M(e.upcacode,0,C(e.barcode,0,6)),M(e.upcacode,6,"0000"),M(e.upcacode,10,C(e.barcode,6,1));break}}e.barcode.length==8&&M(e.upcacode,11,C(e.barcode,7,1)),e.barcode=e.upcacode}e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.upcAbadLength#5756",r[t++]="UPC-A must be 11 or 12 digits",z());for(var d=e.barcode,u=0,f=d.length;u<f;u++){var h=c(d,u);(h<48||h>57)&&(r[t++]="bwipp.upcAbadCharacter#5760",r[t++]="UPC-A must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcAbadAddOnLength#5764",r[t++]="Add-on for UPC-A must be 2 or 5 digits",z()),e.pad=J(12),e.checksum=0;for(var p=0;p<=10;p+=1)e.i=p,e.barchar=c(e.barcode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&c(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.upcAbadCheckDigit#5782",r[t++]="Incorrect UPC check digit provided",z()),M(e.pad,0,e.barcode),b(e.pad,11,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=J(59),e.txt=s(12),M(e.sbs,0,c(e.encs,10));for(var m=0;m<=5;m+=1)e.i=m,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+3,e.enc),e.i==0?b(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])):b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,6*4+3,c(e.encs,11));for(var x=6;x<=11;x+=1)e.i=x,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+8,e.enc),e.i==11?b(e.txt,11,s([C(e.barcode,11,1),e.textxoffset+107,e.textyoffset,e.textfont,e.textsize-2])):b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset+17,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,56,c(e.encs,12)),r[t++]=1/0;for(var y=e.sbs,w=0,v=y.length;w<v;w++)r[t++]=c(y,w)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0;for(var g=0;g<4;g++)r[t++]=e.height;for(var A=0;A<10;A++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var k=0;k<10;k++)r[t++]=S(e.height-.075);for(var E=0;E<4;E++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var j=0;j<10;j++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var N=0;N<10;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<30;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<30;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var T=_e(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=T,e.addopts=Ge(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,f2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,u2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var R=Ge();r[t++]=R,e.dontdraw||Mt(),e=a}function Pw(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==11||e.barcode.length==12){ve(e.barcode,function(){var $=r[--t];($<48||$>57)&&(r[t++]="bwipp.upcEupcAbadCharacter#5967",r[t++]="UPC-A must contain only digits",z())});for(var n=0;n<1;n++){var i=e.barcode.length==12?8:7;if(e.upcecode=J(i),c(e.barcode,3)-48<=2&&Y(C(e.barcode,4,4),"0000")){M(e.upcecode,0,C(e.barcode,0,3)),M(e.upcecode,3,C(e.barcode,8,3)),M(e.upcecode,6,C(e.barcode,3,1));break}if(Y(C(e.barcode,4,5),"00000")){M(e.upcecode,0,C(e.barcode,0,4)),M(e.upcecode,4,C(e.barcode,9,2)),M(e.upcecode,6,"3");break}if(Y(C(e.barcode,5,5),"00000")){M(e.upcecode,0,C(e.barcode,0,5)),M(e.upcecode,5,C(e.barcode,10,1)),M(e.upcecode,6,"4");break}if(c(e.barcode,10)-48>=5&&Y(C(e.barcode,6,4),"0000")){M(e.upcecode,0,C(e.barcode,0,6)),M(e.upcecode,6,C(e.barcode,10,1));break}r[t++]="bwipp.upcEupcAnotCompressible#5995",r[t++]="UPC-A cannot be converted to a UPC-E",z()}e.barcode.length==12&&M(e.upcecode,7,C(e.barcode,11,1)),e.barcode=e.upcecode}e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.upcEbadLength#6005",r[t++]="UPC-E must be 7 or 8 digits",z());for(var o=e.barcode,d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.upcEbadCharacter#6009",r[t++]="UPC-E must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcEbadAddOnLength#6013",r[t++]="Add-on for UPC-E must be 2 or 5 digits",z());var h=c(e.barcode,0);h!=48&&h!=49&&(r[t++]="bwipp.upcEbadNumberSystem#6018",r[t++]="UPC-E must have number system 0 or 1",z()),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","111111"]),e.barchars="0123456789",e.mirrormaps=s(["000111","001011","001101","001110","010011","011001","011100","010101","010110","011010"]);for(var p=0;p<1;p++){if(e.upcacode=J(11),c(e.barcode,6)-48<=2){M(e.upcacode,0,C(e.barcode,0,3)),M(e.upcacode,3,C(e.barcode,6,1)),M(e.upcacode,4,"0000"),M(e.upcacode,8,C(e.barcode,3,3));break}if(c(e.barcode,6)-48==3){M(e.upcacode,0,C(e.barcode,0,4)),M(e.upcacode,4,"00000"),M(e.upcacode,9,C(e.barcode,4,2));break}if(c(e.barcode,6)-48==4){M(e.upcacode,0,C(e.barcode,0,5)),M(e.upcacode,5,"00000"),M(e.upcacode,10,C(e.barcode,5,1));break}if(c(e.barcode,6)-48>=5){M(e.upcacode,0,C(e.barcode,0,6)),M(e.upcacode,6,"0000"),M(e.upcacode,10,C(e.barcode,6,1));break}}e.checksum=0;for(var m=0;m<=10;m+=1)e.i=m,e.barchar=c(e.upcacode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&c(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.upcEbadCheckDigit#6080",r[t++]="Incorrect UPC check digit provided",z()),e.pad=J(8),M(e.pad,0,e.barcode),b(e.pad,7,e.checksum+48),e.barcode=e.pad,e.txt=s(8),b(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),e.mirrormap=c(e.mirrormaps,e.checksum),c(e.barcode,0)==48){e.invt=J(e.mirrormap.length);for(var x=0,y=e.mirrormap.length-1;x<=y;x+=1)e.i=x,c(e.mirrormap,e.i)==48?b(e.invt,e.i,49):b(e.invt,e.i,48);e.mirrormap=e.invt}e.sbs=J(33),M(e.sbs,0,c(e.encs,10));for(var w=1;w<=6;w+=1){if(e.i=w,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=J(e.enclen);for(var v=0,g=e.enclen-1;v<=g;v+=1)e.j=v,e.char=c(e.enc,e.j),b(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,(e.i-1)*4+3,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}b(e.txt,7,s([C(e.barcode,7,1),6*7+21+e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),M(e.sbs,27,c(e.encs,11)),r[t++]=1/0;for(var A=e.sbs,k=0,E=A.length;k<E;k++)r[t++]=c(A,k)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var j=0;j<12;j++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var N=0;N<12;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<17;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<17;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=51+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var T=_e(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=T,e.addopts=Ge(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,f2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,u2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var R=Ge();r[t++]=R,e.dontdraw||Mt(),e=a}function TR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.isbntextfont="OCR-A",e.isbntextsize=8,e.isbntextxoffset=null,e.isbntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.isbnBadLength#6249",r[t++]="ISBN-13 must be 15 or 17 characters including dashes. ISBN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.isbnBadAddOnLength#6252",r[t++]="Add-on for ISBN must be 2 or 5 digits",z()),e.barcode.length>=15){var n=C(e.barcode,0,4);_e(n,"978-")&&_e(n,"979-")&&(r[t++]="bwipp.isbn13badPrefix#6256",r[t++]="ISBN-13 prefix must be 978- or 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var i=C(e.barcode,5,9),o=0,d=i.length;o<d;o++){var u=c(i,o);r[t++]=u,u==45&&(e.wasdash&&(r[t++]="bwipp.isbn13adjacentDashes#6263",r[t++]="ISBN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var f=r[--t];f>=48&&f<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn13numDashesDigits#6274",r[t++]="Incorrect number of dashes and digits for ISBN-13",z());var h=c(e.barcode,14);if((h<48||h>57)&&(r[t++]="bwipp.isbn13character15#6277",r[t++]="ISBN-13 character 15 must be a digit",z()),e.barcode.length==17){_e(C(e.barcode,15,1),"-")&&(r[t++]="bwipp.isbn13character16#6281",r[t++]="ISBN-13 penultimate character must be a dash",z());var p=c(e.barcode,16);(p<48||p>57)&&(r[t++]="bwipp.isbn13character17#6284",r[t++]="ISBN-13 final character must be a digit",z())}}else{var m=c(e.barcode,0);(m<48||m>57)&&(r[t++]="bwipp.isbn10FirstDigit#6289",r[t++]="ISBN-10 first character must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var x=C(e.barcode,1,9),y=0,w=x.length;y<w;y++){var v=c(x,y);r[t++]=v,v==45&&(e.wasdash&&(r[t++]="bwipp.isbn10adjacentDashes#6296",r[t++]="ISBN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var g=r[--t];g>=48&&g<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn10numDashesDigits#6307",r[t++]="Incorrect number of dashes and digits for ISBN-10",z());var A=c(e.barcode,10);if((A<48||A>57)&&(r[t++]="bwipp.isbn10character11#6310",r[t++]="ISBN-10 character 11 must be a digit",z()),e.barcode.length==13){_e(C(e.barcode,11,1),"-")&&(r[t++]="bwipp.isbn10character12#6314",r[t++]="ISBN-10 penultimate character must be a dash",z());var k=c(e.barcode,12);(k<48||k>57)&&k!=88&&(r[t++]="bwipp.isbn10character13#6317",r[t++]="ISBN-10 final character must be a digit or X",z())}}if(e.isbntxt=e.barcode,e.isbntxt.length<=13){for(e.isbn=J(10),e.checksum=0,e.i=0,e.n=0;e.isbnchar=c(e.isbntxt,e.i)-48,e.isbnchar!=-3&&(b(e.isbn,e.n,e.isbnchar+48),e.n<9&&(e.checksum=S(e.checksum+(10-e.n)*e.isbnchar)),e.n=e.n+1),e.i=e.i+1,e.i!=e.isbntxt.length;);var E=(11-e.checksum%11)%11;r[t++]="checksum",r[t++]=E,E==10&&(r[t-1]=40);var j=r[--t];e[r[--t]]=j+48,e.isbn=C(e.isbn,0,9),e.isbntxt.length==13&&c(e.isbntxt,12)!=e.checksum&&(r[t++]="bwipp.isbn10badCheckDigit#6345",r[t++]="Incorrect ISBN-10 check digit provided",z())}if(!e.legacy||e.isbntxt.length>=15){for(e.isbntxt.length<=13&&(e.pad=J(15),M(e.pad,0,"978-"),M(e.pad,4,C(e.isbntxt,0,11)),e.isbntxt=e.pad),e.isbn=J(13),e.checksum=0,e.i=0,e.n=0;;){if(e.isbnchar=c(e.isbntxt,e.i)-48,e.isbnchar!=-3){if(b(e.isbn,e.n,e.isbnchar+48),e.n<12){if(r[t++]="checksum",r[t++]=e.isbnchar,e.n%2!=0){var N=r[--t];r[t++]=N*3}var B=r[--t];e[r[--t]]=S(B+e.checksum)}e.n=e.n+1}if(e.i=e.i+1,e.i==e.isbntxt.length)break}e.checksum=(10-e.checksum%10)%10+48,e.isbn=C(e.isbn,0,12),e.isbntxt.length==17&&c(e.isbntxt,16)!=e.checksum&&(r[t++]="bwipp.isbn13badCheckDigit#6380",r[t++]="Incorrect ISBN-13 check digit provided",z())}var I=e.isbn.length==12?22:18;if(e.pad=J(I),M(e.pad,0,"ISBN "),M(e.pad,5,e.isbntxt),b(e.pad,e.pad.length-2,45),b(e.pad,e.pad.length-1,e.checksum),e.isbntxt=e.pad,e.barcode=J(12),e.isbn.length==9?(M(e.barcode,0,"978"),M(e.barcode,3,e.isbn)):M(e.barcode,0,e.isbn),e.addon.length!=0){var D=J(12+e.addon.length+1);M(D,0,e.barcode),M(D,12," "),M(D,13,e.addon),e.barcode=D}b(e.options,"dontdraw",!0),b(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,h2();var T=r[--t];if(e[r[--t]]=T,e.includetext){if(e.isbntextxoffset==null){r[t++]="isbntextxoffset",e.isbn.length==9?r[t++]=-1:r[t++]=-12;var R=r[--t];e[r[--t]]=R}e.isbntextyoffset==null&&(e.isbntextyoffset=e.height*72+3);var $=c(e.args,"txt")!==void 0;$?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function RR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.ismntextfont="OCR-A",e.ismntextsize=8,e.ismntextxoffset=null,e.ismntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.ismnBadLength#6499",r[t++]="ISMN-13 must be 15 or 17 characters including dashes. ISMN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ismnBadAddOnLength#6502",r[t++]="Add-on for ISMN must be 2 or 5 digits",z()),e.barcode.length>=15){_e(C(e.barcode,0,4),"979-")&&(r[t++]="bwipp.ismn13badPrefix#6506",r[t++]="ISMN-13 prefix must be 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var n=C(e.barcode,5,9),i=0,o=n.length;i<o;i++){var d=c(n,i);r[t++]=d,d==45&&(e.wasdash&&(r[t++]="bwipp.ismn13adjacentDashes#6513",r[t++]="ISMN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var u=r[--t];u>=48&&u<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.ismn13numDashesDigits#6524",r[t++]="Incorrect number of dashes and digits for ISMN-13",z());var f=c(e.barcode,14);if((f<48||f>57)&&(r[t++]="bwipp.ismn13character15#6527",r[t++]="ISMN-13 character 15 must be a digit",z()),e.barcode.length==17){_e(C(e.barcode,15,1),"-")&&(r[t++]="bwipp.ismn13character16#6531",r[t++]="ISMN-13 penultimate character must be a dash",z());var h=c(e.barcode,16);(h<48||h>57)&&(r[t++]="bwipp.ismn13character17#6534",r[t++]="ISMN-13 final character must be a digit",z())}}else{_e(C(e.barcode,0,2),"M-")&&(r[t++]="bwipp.ismn10badPrefix#6539",r[t++]="ISMN-10 prefix must be M-",z());var p=c(e.barcode,2);(p<48||p>57)&&(r[t++]="bwipp.ismn10character3#6542",r[t++]="ISMN-10 character 3 must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var m=C(e.barcode,3,7),x=0,y=m.length;x<y;x++){var w=c(m,x);r[t++]=w,w==45&&(e.wasdash&&(r[t++]="bwipp.ismn10adjacentDashes#6549",r[t++]="ISMN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var v=r[--t];v>=48&&v<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=1||e.numdigit!=6)&&(r[t++]="bwipp.ismn10numDashesDigits#6560",r[t++]="Incorrect number of dashes and digits for ISMN-10",z());var g=c(e.barcode,10);if((g<48||g>57)&&(r[t++]="bwipp.ismn10character11#6563",r[t++]="ISMN-10 character 11 must be a digit",z()),e.barcode.length==13){var A=C(e.barcode,11,1);_e(A,"-")&&(r[t++]="bwipp.ismn10character12#6567",r[t++]="ISMN-10 penultimate character must be a dash",z());var k=c(e.barcode,12);(k<48||k>57)&&k!=88&&(r[t++]="bwipp.ismn10character13#6570",r[t++]="ISMN-10 final character must be a digit or X",z())}}for(e.ismntxt=e.barcode,e.legacytxt="",e.ismntxt.length<=13&&(e.legacytxt=e.ismntxt,e.pad=J(e.ismntxt.length+4),M(e.pad,0,"979-0-"),M(e.pad,6,C(e.ismntxt,2,e.ismntxt.length-2)),e.ismntxt=e.pad),e.ismn=J(13),e.checksum=0,e.i=0,e.n=0;e.ismnchar=c(e.ismntxt,e.i)-48,e.ismnchar!=-3&&(b(e.ismn,e.n,e.ismnchar+48),e.n<12&&(e.n%2==0?e.checksum=e.ismnchar+e.checksum:e.checksum=e.ismnchar*3+e.checksum),e.n=e.n+1),e.i=e.i+1,e.i!=e.ismntxt.length;);if(e.checksum=(10-e.checksum%10)%10+48,e.barcode.length==13||e.barcode.length==17){var E=e.barcode;c(E,E.length-1)!=e.checksum&&(r[t++]="bwipp.ismnBadCheckDigit#6612",r[t++]="Incorrect ISMN check digit provided",z())}if(e.legacy&&e.legacytxt.length!=0?(e.ismntxt=e.legacytxt,e.pad=J(18)):e.pad=J(22),M(e.pad,0,"ISMN "),M(e.pad,5,e.ismntxt),b(e.pad,e.pad.length-2,45),b(e.pad,e.pad.length-1,e.checksum),e.ismntxt=e.pad,e.barcode=C(e.ismn,0,12),e.addon.length!=0){var j=J(12+e.addon.length+1);M(j,0,e.barcode),M(j,12," "),M(j,13,e.addon),e.barcode=j}b(e.options,"dontdraw",!0),b(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,h2();var N=r[--t];if(e[r[--t]]=N,e.includetext){if(e.ismntextxoffset==null){r[t++]="ismntextxoffset",e.ismntxt.length==18?r[t++]=-1:r[t++]=-12;var B=r[--t];e[r[--t]]=B}e.ismntextyoffset==null&&(e.ismntextyoffset=e.height*72+3);var I=c(e.args,"txt")!==void 0;I?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function MR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.issntextfont="OCR-A",e.issntextsize=8,e.issntextxoffset=null,e.issntextyoffset=null,e.height=1,e.addongap=12,r[t++]=e,Xe(),e.options=r[--t],e.issntxt=r[--t],Rt(e.issntxt," "),r[--t]?(e.issntxt=r[--t],t--,e.seqvar=r[--t]):(t--,e.seqvar="00"),Rt(e.seqvar," "),r[--t]?(e.seqvar=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.issntxt.length!=8&&e.issntxt.length!=9&&(r[t++]="bwipp.issnBadLength#6736",r[t++]="ISSN must be 8 or 9 characters including dash, in the format XXXX-XXXX",z());for(var n=C(e.issntxt,0,4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.issnFirstThroughFourthNotNumeric#6740",r[t++]="ISSN first four characters must be numeral characters",z())}_e(C(e.issntxt,4,1),"-")&&(r[t++]="bwipp.issnNeedsDash#6744",r[t++]="ISSN fifth character must be a dash",z());for(var u=C(e.issntxt,5,3),f=0,h=u.length;f<h;f++){var p=c(u,f);(p<48||p>57)&&(r[t++]="bwipp.issnSixthThroughEighthNotNumeric#6748",r[t++]="ISSN sixth through eighth characters must be numerals",z())}if(e.issntxt.length==9){var m=c(e.issntxt,8);(m<48||m>57)&&m!=88&&(r[t++]="bwipp.issnNinthCharacterBadFormat#6753",r[t++]="ISSN ninth character must be a number or the character X",z())}for(e.seqvar.length!=2&&(r[t++]="bwipp.issnBadSequenceVariantLength#6757",r[t++]="Sequence variant for ISSN must be 2 digits",z()),ve(e.seqvar,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.issnSequenceVariantBadCharacter#6761",r[t++]="Sequence variant for ISSN must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.issnBadAddOnLength#6765",r[t++]="Add-on for ISSN must be 2 or 5 digits",z()),e.issn=J(8),e.checksum=0,e.i=0,e.n=0;e.issnchar=c(e.issntxt,e.i)-48,e.issnchar!=-3&&(b(e.issn,e.n,e.issnchar+48),e.n<7&&(e.checksum=S(e.checksum+e.issnchar*(8-e.n))),e.n=e.n+1),e.i=e.i+1,e.i!=e.issntxt.length;);e.checksum=(11-e.checksum%11)%11;var x=e.checksum+48;r[t++]="checksum",r[t++]=x,x==58&&(r[t-1]=88);var y=r[--t],w=r[--t];if(e[w]=y,e.issntxt.length==9&&c(e.issntxt,8)!=e.checksum&&(r[t++]="bwipp.issnBadCheckDigit#6788",r[t++]="Incorrect ISSN check digit provided",z()),e.pad=J(14),M(e.pad,0,"ISSN "),M(e.pad,5,e.issntxt),b(e.pad,13,e.checksum),e.issntxt=e.pad,e.barcode=C(e.issn,0,7),e.barcode=J(12),M(e.barcode,0,"977"),M(e.barcode,3,e.issn),M(e.barcode,10,e.seqvar),e.addon.length!=0){var v=J(12+e.addon.length+1);M(v,0,e.barcode),M(v,12," "),M(v,13,e.addon),e.barcode=v}b(e.options,"dontdraw",!0),b(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,h2();var g=r[--t];if(e[r[--t]]=g,e.includetext){e.issntextxoffset==null&&(e.issntextxoffset=10),e.issntextyoffset==null&&(e.issntextyoffset=e.height*72+3);var A=c(e.args,"txt")!==void 0;A?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function _R(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,e.barlen!=7&&e.barlen!=8&&(r[t++]="bwipp.MandSbadLength#6884",r[t++]="M&S barcode must be 7 or 8 characters",z()),e.barlen==7){var n=_r(J(8),"00000000");M(n,1,e.barcode),e.barcode=n}b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Wm();var i=r[--t];e[r[--t]]=i;var o=c(e.args,"bbs");b(o,10,c(o,2)),b(o,11,c(o,2));var d=c(e.args,"bhs");if(b(d,10,c(d,2)),b(d,11,c(d,2)),e.txt=c(e.args,"txt"),e.barlen==7){for(var u=0;u<=6;u+=1){var f=e.txt;M(c(c(f,u),0),0,c(c(f,u+1),0))}M(c(c(e.txt,7),0),0," ")}var h=s(10);M(h,0,e.txt),e.txt=h;var p=c(e.txt,0);b(e.txt,8,uc(s(p.length),p));var m=c(e.txt,0);b(e.txt,9,uc(s(m.length),m)),b(c(e.txt,8),0,"M"),b(c(e.txt,8),1,-12),b(c(e.txt,9),0,"S");var x=c(e.txt,9);b(x,1,69),b(e.args,"txt",e.txt),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function p2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.raw=!1,e.newencoder=!1,e.parse=!1,e.parsefnc=!1,e.suppressc=!1,e.unlatchextbeforec=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.sta=-1,e.stb=-2,e.stc=-3,e.swa=-4,e.swb=-5,e.swc=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10,e.sft=-11,e.stp=-12,e.lka=-13,e.lkc=-14;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3],["LNKA",e.lka],["LNKC",e.lkc]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];if(e[r[--t]]=i,e.msglen=e.msg.length,e.encoding="legacy",e.newencoder&&(e.encoding="new"),e.raw&&(e.encoding="raw"),Y(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j),e.text=""}else{e.text=J(e.msglen);for(var o=0,d=e.msglen-1;o<=d;o+=1){e.i=o;var u=c(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=u,u<0&&(r[t-1]=32);var f=r[--t],h=r[--t];b(r[--t],h,f)}}e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stb,e.stb,e.stb]),s([e.stc,e.stc,e.stc]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=c(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var y=c(e.encs,e.j);if(r[t++]=y,Y(an(y),"stringtype")){var w=c(r[--t],0);r[t++]=w}b(c(e.charvals,e.j),r[--t],e.i)}}if(Y(e.encoding,"legacy")){e.seta=c(e.charvals,0),b(e.seta,e.lka,c(e.seta,e.swb)),b(e.seta,e.lkc,c(e.seta,e.swc)),e.setb=c(e.charvals,1),b(e.setb,e.lka,c(e.setb,e.swc)),b(e.setb,e.lkc,c(e.setb,e.swa)),e.setc=c(e.charvals,2),b(e.setc,e.lka,c(e.setc,e.swa)),b(e.setc,e.lkc,c(e.setc,e.swb)),r[t++]=1/0;for(var v=0,g=e.msglen;v<g;v++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var A=0,k=e.msglen;A<k;A++)r[t++]=0;r[t++]=0,e.numEA=s();for(var E=e.msglen-1;E>=0;E-=1)e.i=E,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?b(e.numEA,e.i,c(e.numEA,e.i+1)+1):b(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var j=0,N=e.msglen-1;j<=N;j+=1){if(e.i=j,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var B=c(r[--t],e.i),I=S(B+e.i)==e.msglen?3:5;B<I?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var De=c(e.msg,e.p),We=c(e.setc,De)!==void 0;if(r[t++]=De,!We){t--;break}var Ke=r[t-1];if(Ke<=-1){var st=r[--t];if(st==e.fn1&&e.s%2==0)e.s=e.s+1;else break}else t--;e.s=e.s+1,e.p=e.p+1}r[t++]=e.s},e.enca=function(){b(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){b(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var De=r[t-1];if(_e(an(De),"arraytype")){var We=c(e.setc,r[--t]);r[t++]=We}else{O(r[--t]);var Ke=r[--t],st=r[--t];r[t++]=S(Ke-48+(st-48)*10)}b(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var De=r[--t],We=c(e.seta,De)!==void 0,Ke=c(e.setb,De)!==void 0;r[t++]=We&&!Ke},e.bnota=function(){var De=r[--t],We=c(e.setb,De)!==void 0,Ke=c(e.seta,De)!==void 0;r[t++]=We&&!Ke},r[t++]=1/0;for(var D=0,T=e.msg.length;D<T;D++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var R=0,$=e.msg.length;R<$;R++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var _=e.msg.length-1;_>=0;_-=1)e.i=_,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?b(e.nextanotb,e.i,0):b(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?b(e.nextbnota,e.i,0):b(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var De=r[--t];r[t++]=xn(c(e.nextanotb,De),c(e.nextbnota,De))},e.bbeforea=function(){var De=r[--t];r[t++]=xn(c(e.nextbnota,De),c(e.nextanotb,De))},e.cws=s(e.barcode.length*2+3),e.j=0,e.msglen>0?(r[t++]=0,e.numsscr()):r[t++]=-1,e.nums=r[--t];;){if(e.msglen==0){r[t++]=e.stb,e.enca(),e.cset="setb";break}if(e.msglen==2&&e.nums==2){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(e.nums>=4){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(r[t++]=0,e.abeforeb(),r[--t]){r[t++]=e.sta,e.enca(),e.cset="seta";break}r[t++]=e.stb,e.enca(),e.cset="setb";break}for(e.i=0;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t];;){if((Y(e.cset,"seta")||Y(e.cset,"setb"))&&e.nums>=4&&c(e.msg,e.i)!=e.fn1){if(e.nums%2==0){r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}else if(r[t++]=c(e.msg,e.i),Y(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.i,e.numsscr(),r[--t]>=4){r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}}r[t++]=Y(e.cset,"setb"),r[t++]=c(e.msg,e.i),e.anotb();var F=r[--t];if(r[--t]&&F){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta";break}r[t++]=Y(e.cset,"seta"),r[t++]=c(e.msg,e.i),e.bnota();var Q=r[--t];if(r[--t]&&Q){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb";break}if(Y(e.cset,"setc")&&e.nums<2&&(c(e.msg,e.i)>-1||c(e.msg,e.i)==e.fn4)){if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}if(Y(e.cset,"seta")){r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(Y(e.cset,"setb")){r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(Y(e.cset,"setc")){c(e.msg,e.i)<=-1?(r[t++]=c(e.msg,e.i),e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}break}e.cws=C(e.cws,0,e.j)}if(Y(e.encoding,"new")){r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=100,r[t++]=e.lkc,r[t++]=99,e.seta=Ge(),r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=99,r[t++]=e.lkc,r[t++]=101,e.setb=Ge(),r[t++]=1/0,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=101,r[t++]=e.lkc,r[t++]=100,e.setc=Ge(),e.latch_a0=s(["","e","e","ee","eee","eee"]),e.latch_b0=s(["d","","d","ddd","dd","ddd"]),e.latch_c0=s(["c","c","","eec","ddc","dddc"]),e.latch_a1=s(["ee","eee","eee","","e","e"]),e.latch_b1=s(["ddd","dd","ddd","d","","d"]),e.latch_c1=s(["eec","ddc","dddc","c","c",""]),r[t++]=1/0;for(var L=e.latch_a0,X=0,le=L.length;X<le;X++)r[t++]=c(L,X).length;e.latch_length_a0=s(),r[t++]=1/0;for(var fe=e.latch_a1,V=0,H=fe.length;V<H;V++)r[t++]=c(fe,V).length;e.latch_length_a1=s(),r[t++]=1/0;for(var se=e.latch_b0,ue=0,U=se.length;ue<U;ue++)r[t++]=c(se,ue).length;e.latch_length_b0=s(),r[t++]=1/0;for(var W=e.latch_b1,re=0,ie=W.length;re<ie;re++)r[t++]=c(W,re).length;e.latch_length_b1=s(),r[t++]=1/0;for(var be=e.latch_c0,K=0,ke=be.length;K<ke;K++)r[t++]=c(be,K).length;e.latch_length_c0=s(),r[t++]=1/0;for(var je=e.latch_c1,Qe=0,ze=je.length;Qe<ze;Qe++)r[t++]=c(je,Qe).length;e.latch_length_c1=s(),e.latch_sequence=s([e.latch_a0,e.latch_b0,e.latch_c0,e.latch_a1,e.latch_b1,e.latch_c1]);var tt=s([function(){e.enc_a0()},function(){e.enc_b0()},function(){e.enc_c()},function(){e.enc_a1()},function(){e.enc_b1()},function(){e.enc_c()}]);e.encode=tt,e.start_code=s([103,104,105]),e.state_priority=s([1,0,2,4,3,5]),e.start_state=s([0,1,2,0,1,2]),e.start_length=s([1,1,1,1,1,1]),r[t++]=1/0;for(var Ze=s([5,4,3,2,1,0]),Re=0,He=Ze.length;Re<He;Re++)r[t++]=c(e.state_priority,c(Ze,Re));e.reverse_priority=s(),r[t++]=1/0;for(var Ue=e.reverse_priority,ye=0,Ye=Ue.length;ye<Ye;ye++){var Ae=c(Ue,ye);r[t++]=Ae,r[t++]=c(e.latch_length_a0,Ae),r[t++]=Ae}e.prioritized_latch_length_a0=s(),r[t++]=1/0;for(var Le=e.reverse_priority,he=0,Pe=Le.length;he<Pe;he++){var Me=c(Le,he);r[t++]=Me,r[t++]=c(e.latch_length_a1,Me),r[t++]=Me}e.prioritized_latch_length_a1=s(),r[t++]=1/0;for(var $e=e.reverse_priority,rt=0,pt=$e.length;rt<pt;rt++){var ut=c($e,rt);r[t++]=ut,r[t++]=c(e.latch_length_b0,ut),r[t++]=ut}e.prioritized_latch_length_b0=s(),r[t++]=1/0;for(var bt=e.reverse_priority,It=0,St=bt.length;It<St;It++){var de=c(bt,It);r[t++]=de,r[t++]=c(e.latch_length_b1,de),r[t++]=de}e.prioritized_latch_length_b1=s(),r[t++]=1/0;for(var Ee=e.reverse_priority,at=0,ot=Ee.length;at<ot;at++){var Et=c(Ee,at);r[t++]=Et,r[t++]=c(e.latch_length_c0,Et),r[t++]=Et}e.prioritized_latch_length_c0=s(),r[t++]=1/0;for(var yt=e.reverse_priority,P=0,G=yt.length;P<G;P++){var q=c(yt,P);r[t++]=q,r[t++]=c(e.latch_length_c1,q),r[t++]=q}e.prioritized_latch_length_c1=s(),e.max_int=2147483647,e.can_a=function(){if(e.c>=0)r[t++]=!0;else{var De=c(e.seta,e.c)!==void 0;r[t++]=De}},e.can_b=function(){if(e.c>=0)r[t++]=!0;else{var De=c(e.setb,e.c)!==void 0;r[t++]=De}},e.can_c0=function(){if(e.num_digits>=2)r[t++]=!0;else{var De=c(e.setc,e.c)!==void 0;r[t++]=De}},e.can_c1=function(){if(e.num_digits>=2)r[t++]=!0;else{var De=c(e.setc,e.c)!==void 0;r[t++]=De}},e.suppressc&&(e.can_c0=function(){r[t++]=!1}),(e.suppressc||e.unlatchextbeforec)&&(e.can_c1=function(){r[t++]=!1}),e.out_a0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var De=r[--t];r[t++]=De+1}if((e.c&127)>=96){var We=r[--t];r[t++]=We+1}}},e.out_a1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var De=r[--t];r[t++]=De+1}if((e.c&127)>=96){var We=r[--t];r[t++]=We+1}}},e.out_b0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var De=r[--t];r[t++]=De+1}if((e.c&127)<32){var We=r[--t];r[t++]=We+1}}},e.out_b1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var De=r[--t];r[t++]=De+1}if((e.c&127)<32){var We=r[--t];r[t++]=We+1}}},e.map_ab=function(){var De=r[t-1];if(De<32){var We=r[--t];r[t++]=We+64}else{var Ke=r[--t];r[t++]=Ke-32}},e.enc_a0=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.seta,e.c);else{e.c>=128&&(r[t++]=101);var De=e.c&127;if(r[t++]=De,De>=96){var We=r[--t];r[t++]=98,r[t++]=We}e.map_ab()}var Ke=s();r[t++]=Ke},e.enc_a1=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.seta,e.c);else{e.c<128&&(r[t++]=101);var De=e.c&127;if(r[t++]=De,De>=96){var We=r[--t];r[t++]=98,r[t++]=We}e.map_ab()}var Ke=s();r[t++]=Ke},e.enc_b0=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.setb,e.c);else{e.c>=128&&(r[t++]=100);var De=e.c&127;if(r[t++]=De,De<32){var We=r[--t];r[t++]=98,r[t++]=We}e.map_ab()}var Ke=s();r[t++]=Ke},e.enc_b1=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.setb,e.c);else{e.c<128&&(r[t++]=100);var De=e.c&127;if(r[t++]=De,De<32){var We=r[--t];r[t++]=98,r[t++]=We}e.map_ab()}var Ke=s();r[t++]=Ke},e.enc_c=function(){r[t++]=1/0,e.c<0?r[t++]=c(e.setc,e.c):r[t++]=S((c(e.msg,e.n)-48)*10+(c(e.msg,e.n+1)-48));var De=s();r[t++]=De},e.get_best_prior_state=function(){var De=c(e.bln_0,r[--t]);e.len=S(r[--t]+De),e.o=r[--t];var We=c(e.bln_0,r[--t]),Ke=S(r[--t]+We);r[t++]=Ke,Ke<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var st=c(e.bln_0,r[--t]),gt=S(r[--t]+st);r[t++]=gt,gt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var wt=c(e.bln_0,r[--t]),vt=S(r[--t]+wt);r[t++]=vt,vt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var kt=c(e.bln_0,r[--t]),dt=S(r[--t]+kt);r[t++]=dt,dt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var _t=c(e.bln_0,r[--t]);S(r[--t]+_t)<e.len?e.o=r[--t]:t--,r[t++]=e.o},e.bln_0=e.start_length,e.bln_1=e.start_length,r[t++]=1/0;for(var te=0;te<4;te++)r[t++]=s([0,0,0,0,0,0]);e.bln=s(),e.bps_0=e.start_state,e.bps_1=e.start_state,r[t++]=1/0;for(var ce=0;ce<4;ce++)r[t++]=s([0,0,0,0,0,0]);e.bps=s(),r[t++]=1/0;for(var ge=0,ae=e.msg.length;ge<ae;ge++)r[t++]=s([0,0,0,0,0,0]);e.path=s(),e.make_tables=function(){e.num_digits=0;for(var De=0,We=e.msg.length-1;De<=We;De+=1){e.n=De,e.c=c(e.msg,e.n),r[t++]="num_digits",e.c>=48&&e.c<58?r[t++]=e.num_digits+1:r[t++]=0;var Ke=r[--t];e[r[--t]]=Ke,e.bln_2=e.bln_1,e.bln_1=e.bln_0,e.bln_0=c(e.bln,e.n&3),e.bps_2=e.bps_1,e.bps_1=e.bps_0,e.bps_0=c(e.bps,e.n&3),r[t++]="bps_c",e.num_digits>=2?r[t++]=e.bps_2:r[t++]=e.bps_1;var st=r[--t];e[r[--t]]=st,r[t++]="bln_c",e.num_digits>=2?r[t++]=e.bln_2:r[t++]=e.bln_1;var gt=r[--t];if(e[r[--t]]=gt,r[t++]=e.bln_0,r[t++]=0,e.can_a(),r[--t]){e.p=c(e.bps_1,0),b(c(e.path,e.n),0,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_a0,e.p)),e.out_a0();var wt=r[--t],vt=r[--t];r[t++]=S(vt+wt)}else r[t++]=e.max_int;var kt=r[--t],dt=r[--t];if(b(r[--t],dt,kt),r[t++]=e.bln_0,r[t++]=3,e.can_a(),r[--t]){e.p=c(e.bps_1,3),b(c(e.path,e.n),3,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_a1,e.p)),e.out_a1();var _t=r[--t],nt=r[--t];r[t++]=S(nt+_t)}else r[t++]=e.max_int;var Qt=r[--t],Ht=r[--t];if(b(r[--t],Ht,Qt),r[t++]=e.bln_0,r[t++]=1,e.can_b(),r[--t]){e.p=c(e.bps_1,1),b(c(e.path,e.n),1,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_b0,e.p)),e.out_b0();var Ut=r[--t],sr=r[--t];r[t++]=S(sr+Ut)}else r[t++]=e.max_int;var Cr=r[--t],nr=r[--t];if(b(r[--t],nr,Cr),r[t++]=e.bln_0,r[t++]=4,e.can_b(),r[--t]){e.p=c(e.bps_1,4),b(c(e.path,e.n),4,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_b1,e.p)),e.out_b1();var gr=r[--t],ar=r[--t];r[t++]=S(ar+gr)}else r[t++]=e.max_int;var Br=r[--t],Zt=r[--t];b(r[--t],Zt,Br),r[t++]=e.bln_0,r[t++]=2,e.can_c0(),r[--t]?(e.p=c(e.bps_c,2),b(c(e.path,e.n),2,e.p),r[t++]=S(c(e.bln_c,e.p)+c(e.latch_length_c0,e.p))+1):r[t++]=e.max_int;var dr=r[--t],Kt=r[--t];b(r[--t],Kt,dr),r[t++]=e.bln_0,r[t++]=5,e.can_c1(),r[--t]?(e.p=c(e.bps_c,5),b(c(e.path,e.n),5,e.p),r[t++]=S(c(e.bln_c,e.p)+c(e.latch_length_c1,e.p))+1):r[t++]=e.max_int;var Jt=r[--t],ur=r[--t];b(r[--t],ur,Jt),r[t++]=e.bps_0,r[t++]=0,O(e.prioritized_latch_length_a0),e.get_best_prior_state();var Tr=r[--t],Fr=r[--t];b(r[--t],Fr,Tr),r[t++]=e.bps_0,r[t++]=3,O(e.prioritized_latch_length_a1),e.get_best_prior_state();var fa=r[--t],Tt=r[--t];b(r[--t],Tt,fa),r[t++]=e.bps_0,r[t++]=1,O(e.prioritized_latch_length_b0),e.get_best_prior_state();var Gt=r[--t],tr=r[--t];b(r[--t],tr,Gt),r[t++]=e.bps_0,r[t++]=4,O(e.prioritized_latch_length_b1),e.get_best_prior_state();var br=r[--t],ir=r[--t];b(r[--t],ir,br),r[t++]=e.bps_0,r[t++]=2,O(e.prioritized_latch_length_c0),e.get_best_prior_state();var Dr=r[--t],or=r[--t];b(r[--t],or,Dr),r[t++]=e.bps_0,r[t++]=5,O(e.prioritized_latch_length_c1),e.get_best_prior_state();var zt=r[--t],yr=r[--t];b(r[--t],yr,zt)}},e.backtrack=function(){e.n=e.msg.length;for(var De=e.reverse_priority,We=0,Ke=De.length;We<Ke;We++){var st=c(De,We),gt=c(e.bln_0,st);r[t++]=st,r[t++]=gt,r[t++]=gt}t--,e.len=r[--t],e.state=r[--t];for(var wt=0;wt<5;wt++)xn(r[--t],e.len)?(e.len=r[--t],e.state=r[--t]):t-=2;for(r[t++]=s(e.len);!(e.n<=0);){e.prior_state=c(c(e.path,e.n-1),e.state),r[t++]=1/0,ve(c(c(e.latch_sequence,e.state),e.prior_state)),e.latch=s();var vt=(e.state==2||e.state==5)&&c(e.msg,e.n-1)>=48?2:1;if(e.n=e.n-vt,e.c=c(e.msg,e.n),r[t++]="enc",c(e.encode,e.state)()===!0)break;var kt=r[--t];e[r[--t]]=kt,e.len=S(e.len-e.latch.length-e.enc.length);var dt=r[--t],_t=e.len,nt=e.latch;M(dt,_t,nt),M(dt,S(_t+nt.length),e.enc),e.state=e.prior_state,r[t++]=dt}var Qt=r[t-1];b(Qt,0,c(e.start_code,e.state))},e.make_tables(),e.backtrack(),e.cws=r[--t]}e.j=e.cws.length;var Ce=s(e.j+2);M(Ce,0,e.cws),e.cws=Ce,e.csum=c(e.cws,0);for(var Z=1,xe=e.j-1;Z<=xe;Z+=1)e.i=Z,e.csum=S(e.csum+c(e.cws,e.i)*e.i);e.csum=e.csum%103,b(e.cws,e.j,e.csum),b(e.cws,e.j+1,106);var me=c(e.options,"debugcws")!==void 0;me&&(r[t++]="bwipp.debugcws#7483",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","2331112"]),e.sbs=J(e.cws.length*6+1);for(var Ne=0,oe=e.cws.length-1;Ne<=oe;Ne+=1)e.i=Ne,M(e.sbs,e.i*6,c(e.encs,c(e.cws,e.i)));r[t++]=1/0,r[t++]=1/0;for(var we=e.sbs,Be=0,pe=we.length;Be<pe;Be++)r[t++]=c(we,Be)-48;var Ie=s();r[t++]=1/0;for(var Se=0,Te=~~((e.sbs.length+1)/2);Se<Te;Se++)r[t++]=e.height;var Ve=s();r[t++]=1/0;for(var qe=0,et=~~((e.sbs.length+1)/2);qe<et;qe++)r[t++]=0;var ct=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ie,r[t++]="bhs",r[t++]=Ve,r[t++]="bbs",r[t++]=ct,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var lt=Ge();r[t++]=lt,e.dontdraw||Mt(),e=a}function E3(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=.5,e.linkagea=!1,e.linkagec=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.linkagea&&e.linkagec&&(r[t++]="bwipp.gs1128badLinkage#7580",r[t++]="linkagea and linkagec cannot be used together",z()),e.text=e.barcode,r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.c128=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.c128.length+e.ai.length+e.val.length);M(o,0,e.c128),r[t++]=o,r[t++]=o,r[t++]=e.c128.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.c128.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var y=s(),w=r[--t];if(M(r[--t],w,y),e.c128=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var v=s(e.c128.length+1);M(v,0,e.c128),b(v,e.c128.length,e.fnc1),e.c128=v}}for(e.barcode=J((e.c128.length+1)*5),e.i=0,e.j=0;e.i!=e.c128.length;){var g=c(e.c128,e.i);r[t++]=g,g==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}if(e.linkagea||e.linkagec){r[t++]=e.barcode,r[t++]=e.j,e.linkagea?r[t++]="^LNKA":r[t++]="^LNKC";var A=r[--t],k=r[--t];M(r[--t],k,A),e.j=e.j+5}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,b(e.options,"height",e.height),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,p2();var E=r[--t];e[r[--t]]=E,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function FR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=J(n.length),r[t++]=0,ve(n,function(){var k=r[t-1];if(k!=32){var E=r[--t],j=r[--t],N=r[t-1];b(N,j,E),r[t++]=j+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.ean14badLength#7695",r[t++]="EAN-14 must be 13 or 14 digits",z()),_e(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.ean14badAI#7698",r[t++]="EAN-14 must begin with (01) application identifier",z());for(var o=C(e.barcode,4,e.barcode.length-4),d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.ean14badCharacter#7702",r[t++]="EAN-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==18)c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.ean14badCheckDigit#7715",r[t++]="Incorrect EAN-14 check digit provided",z());else{var y=J(18);M(y,0,e.barcode),b(y,17,e.checksum+48),e.barcode=y;var w=e.hasspace?2:1,v=J(e.text.length+w);M(v,v.length-2," "),b(v,v.length-1,e.checksum+48),M(v,0,e.text),e.text=v}e.gtin=C(e.barcode,4,14),e.barcode=J(21),M(e.barcode,0,"^FNC101");var g=e.gtin;M(e.barcode,7,g),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,p2();var A=r[--t];e[r[--t]]=A,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function PR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=J(n.length),r[t++]=0,ve(n,function(){var k=r[t-1];if(k!=32){var E=r[--t],j=r[--t],N=r[t-1];b(N,j,E),r[t++]=j+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=21&&e.barcode.length!=22&&(r[t++]="bwipp.sscc18badLength#7799",r[t++]="SSCC-18 must be 17 or 18 digits",z()),_e(C(e.barcode,0,4),"(00)")&&(r[t++]="bwipp.sscc18badAI#7802",r[t++]="SSCC-18 must begin with (00) application identifier",z());for(var o=C(e.barcode,4,e.barcode.length-4),d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.sscc18badCharacter#7806",r[t++]="SSCC-18 must contain only digits",z())}e.checksum=0;for(var h=0;h<=16;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==22)c(e.barcode,21)!=e.checksum+48&&(r[t++]="bwipp.sscc18badCheckDigit#7819",r[t++]="Incorrect SSCC-18 check digit provided",z());else{var y=J(22);M(y,0,e.barcode),b(y,21,e.checksum+48),e.barcode=y;var w=e.hasspace?2:1,v=J(e.text.length+w);M(v,v.length-2," "),b(v,v.length-1,e.checksum+48),M(v,0,e.text),e.text=v}e.sscc=C(e.barcode,4,18),e.barcode=J(25),M(e.barcode,0,"^FNC100");var g=e.sscc;M(e.barcode,7,g),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,p2();var A=r[--t];e[r[--t]]=A,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function m2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.hidestars=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code39emptyData#7899",r[t++]="The data must not be empty",z()),e.encs=s(["1113313111","3113111131","1133111131","3133111111","1113311131","3113311111","1133311111","1113113131","3113113111","1133113111","3111131131","1131131131","3131131111","1111331131","3111331111","1131331111","1111133131","3111133111","1131133111","1111333111","3111111331","1131111331","3131111311","1111311331","3111311311","1131311311","1111113331","3111113311","1131113311","1111313311","3311111131","1331111131","3331111111","1311311131","3311311111","1331311111","1311113131","3311113111","1331113111","1313131111","1313111311","1311131311","1113131311","1311313111"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.code39badCharacter#7927",r[t++]="Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.code39badCheckDigit#7941",r[t++]="Incorrect Code 39 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0);var m=e.includecheck?3:2;e.sbs=J(S(e.barlen+m)*10);var x=e.includecheck?3:2;e.txt=s(S(e.barlen+x)),M(e.sbs,0,c(e.encs,43)),e.hidestars?b(e.txt,0,s(["",0,e.textyoffset,e.textfont,e.textsize])):b(e.txt,0,s(["*",0,e.textyoffset,e.textfont,e.textsize]));for(var y=0,w=e.barlen-1;y<=w;y+=1)e.i=y,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.sbs,e.i*10+10,c(e.encs,e.indx)),b(e.txt,e.i+1,s([C(e.barcode,e.i,1),(e.i+1)*16,e.textyoffset,e.textfont,e.textsize]));e.includecheck?(M(e.sbs,e.barlen*10+10,c(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen+1,s([C(e.barchars,e.checksum,1),(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])),M(e.sbs,e.barlen*10+20,c(e.encs,43)),e.hidestars?b(e.txt,e.barlen+2,s(["",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen+2,s(["*",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize]))):(M(e.sbs,e.barlen*10+10,c(e.encs,43)),e.hidestars?b(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen+1,s(["*",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize]))),r[t++]=1/0,r[t++]=1/0;for(var v=e.sbs,g=0,A=v.length;g<A;g++)r[t++]=c(v,g)-48;var k=s();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=e.height;var N=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var T=Ge();r[t++]=T,e.dontdraw||Mt(),e=a}function OR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,ve(e.barcode,function(){r[--t]>=128&&(r[t++]="bwipp.code39extBadCharacter#8061",r[t++]="Code 39 Extended must contain only ASCII characters",z())}),e.extencs=s(["%U","$A","$B","$C","$D","$E","$F","$G","$H","$I","$J","$K","$L","$M","$N","$O","$P","$Q","$R","$S","$T","$U","$V","$W","$X","$Y","$Z","%A","%B","%C","%D","%E"," ","/A","/B","/C","/D","/E","/F","/G","/H","/I","/J","/K","/L","-",".","/O","0","1","2","3","4","5","6","7","8","9","/Z","%F","%G","%H","%I","%J","%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","%K","%L","%M","%N","%O","%W","+A","+B","+C","+D","+E","+F","+G","+H","+I","+J","+K","+L","+M","+N","+O","+P","+Q","+R","+S","+T","+U","+V","+W","+X","+Y","+Z","%P","%Q","%R","%S","%T"]),e.newcode=J(e.barlen*2),e.newtext=J(e.barlen*2),e.j=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){e.i=o,e.extchar=c(e.extencs,c(e.barcode,e.i)),M(e.newcode,e.j,e.extchar);var u=c(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.j,r[t++]=u,(u<32||u==127)&&(r[t-1]=32);var f=r[--t],h=r[--t];b(r[--t],h,f),e.extchar.length!=1&&b(e.newtext,e.j+1,32),e.j=e.j+e.extchar.length}e.newcode=C(e.newcode,0,e.j),e.newtext=C(e.newtext,0,e.j),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,m2();var p=r[--t];if(e[r[--t]]=p,e.includetext){e.txt=c(e.args,"txt");for(var m=0,x=e.newtext.length-1;m<=x;m+=1)e.i=m,e.txtentry=c(e.txt,e.i+1),b(e.txtentry,0,C(e.newtext,e.i,1)),b(e.txt,e.i+1,e.txtentry);b(e.args,"txt",e.txt)}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function UR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=8&&e.barcode.length!=9&&(r[t++]="bwipp.code32badLength#8160",r[t++]="Italian Pharmacode must be 8 or 9 digits",z()),ve(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.code32badCharacter#8164",r[t++]="Italian Pharmacode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=7;n+=1){if(e.i=n,r[t++]=c(e.barcode,e.i)-48,e.i%2!=0){var i=r[--t];r[t++]=i*2}var o=r[t-1];if(o>9){var d=r[--t];r[t++]=d-9}e.checksum=S(r[--t]+e.checksum)}e.checksum=e.checksum%10,e.barcode.length==9&&c(e.barcode,8)!=e.checksum+48&&(r[t++]="bwipp.code32badCheckDigit#8178",r[t++]="Incorrect Italian Pharmacode check digit provided",z());var u=J(10);M(u,0,e.barcode),b(u,8,e.checksum+48),e.text=u,e.val=$t(J(6),Fe(e.text),32),e.barcode=J(6);for(var f=0;f<=5;f+=1)b(e.barcode,f,48);M(e.barcode,6-e.val.length,e.val);for(var h=0;h<=5;h+=1){var p=c(e.barcode,h);r[t++]=h,r[t++]=p,r[t++]=p;for(var m=0,x=4;m<x;m++){if(r[--t]>=c("AEIO",m)){var y=r[--t];r[t++]=y+1}var w=r[t-1];r[t++]=w}r[t-1]=e.barcode;var v=r[t-2],g=r[t-3];b(r[t-1],g,v),t-=3}M(e.text,1,C(e.text,0,9)),b(e.text,0,65),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,m2();var A=r[--t];e[r[--t]]=A,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function zR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,e.pzn8=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.pzn8?e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.pzn8badLength#8261",r[t++]="PZN8 must be 7 or 8 digits",z()):e.barcode.length!=6&&e.barcode.length!=7&&(r[t++]="bwipp.pzn7badLength#8265",r[t++]="PZN7 must be 6 or 7 digits",z()),ve(e.barcode,function(){var p=r[--t];(p<48||p>57)&&(r[t++]="bwipp.pznBadCharacter#8270",r[t++]="PZN must contain only digits",z())});var n=e.pzn8?9:8;e.msglen=n,e.checksum=0;for(var i=0,o=e.msglen-3;i<=o;i+=1){e.i=i;var d=e.pzn8?1:2;e.checksum=S((c(e.barcode,e.i)-48)*(e.i+d)+e.checksum)}e.checksum=e.checksum%11,e.checksum==10&&(r[t++]="bwipp.pznBadInputSequence#8284",r[t++]="Incorrect PZN input sequence provided",z()),e.barcode.length==e.msglen-1&&c(e.barcode,e.msglen-2)!=e.checksum+48&&(r[t++]="bwipp.pznBadCheckDigit#8288",r[t++]="Incorrect PZN check digit provided",z());var u=J(e.msglen);b(u,0,45),M(u,1,e.barcode),b(u,e.msglen-1,e.checksum+48),e.msg=u,b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.msg,r[t++]=e.options,m2();var f=r[--t];e[r[--t]]=f,e.text=J(e.msglen+5),M(e.text,0,"PZN - "),M(e.text,6,C(e.msg,1,e.msglen-1));var h=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]);b(e.args,"txt",h),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function Ow(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.encs=s(["131112","111213","111312","111411","121113","121212","121311","111114","131211","141111","211113","211212","211311","221112","221211","231111","112113","112212","112311","122112","132111","111123","111222","111321","121122","131121","212112","212211","211122","211221","221121","222111","112122","112221","122121","123111","121131","311112","311211","321111","112131","113121","211131","121221","312111","311121","122211","111141","1111411"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,c(e.barchars,n),n);e.sft1=-1,e.sft2=-2,e.sft3=-3,e.sft4=-4,b(e.charvals,e.sft1,43),b(e.charvals,e.sft2,44),b(e.charvals,e.sft3,45),b(e.charvals,e.sft4,46);var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["SFT$",e.sft1],["SFT%",e.sft2],["SFT/",e.sft3],["SFT+",e.sft4]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,ve(e.msg,function(){var D=c(e.charvals,r[--t])!==void 0;D||(r[t++]="bwipp.code93BadCharacter#8405",r[t++]="Code 93 must only contain digits, capital letters, spaces, the symbols -.$/+ and shift non-data characters",z())}),e.includecheck?e.sbs=J(e.msglen*6+25):e.sbs=J(e.msglen*6+13),e.txt=s(e.msglen),M(e.sbs,0,c(e.encs,47)),e.checksum1=0,e.checksum2=0;for(var d=0,u=e.msglen-1;d<=u;d+=1){e.i=d,e.indx=c(e.charvals,c(e.msg,e.i)),M(e.sbs,e.i*6+6,c(e.encs,e.indx));var f=c(e.msg,e.i);if(r[t++]="char",r[t++]=f,f<0)r[t-1]=" ";else{var h=J(1);r[t++]=h,r[t++]=h,r[t++]=0,Sa(4,-1);var p=r[--t],m=r[--t];b(r[--t],m,p)}var x=r[--t];e[r[--t]]=x,b(e.txt,e.i,s([e.char,e.i*9+9,e.textyoffset,e.textfont,e.textsize])),e.checksum1=S(e.checksum1+((e.msglen-e.i-1)%20+1)*e.indx),e.checksum2=S(e.checksum2+((e.msglen-e.i)%15+1)*e.indx)}e.includecheck?(e.checksum1=e.checksum1%47,e.checksum2=S(e.checksum2+e.checksum1)%47,M(e.sbs,e.msglen*6+6,c(e.encs,e.checksum1)),M(e.sbs,e.msglen*6+12,c(e.encs,e.checksum2)),M(e.sbs,e.msglen*6+18,c(e.encs,48))):M(e.sbs,e.msglen*6+6,c(e.encs,48)),r[t++]=1/0,r[t++]=1/0;for(var y=e.sbs,w=0,v=y.length;w<v;w++)r[t++]=c(y,w)-48;var g=s();r[t++]=1/0;for(var A=0,k=~~((e.sbs.length+1)/2);A<k;A++)r[t++]=e.height;var E=s();r[t++]=1/0;for(var j=0,N=~~((e.sbs.length+1)/2);j<N;j++)r[t++]=0;var B=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=g,r[t++]="bhs",r[t++]=E,r[t++]="bbs",r[t++]=B,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var I=Ge();r[t++]=I,e.dontdraw||Mt(),e=a}function LR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.extencs=s(["^SFT%U","^SFT$A","^SFT$B","^SFT$C","^SFT$D","^SFT$E","^SFT$F","^SFT$G","^SFT$H","^SFT$I","^SFT$J","^SFT$K","^SFT$L","^SFT$M","^SFT$N","^SFT$O","^SFT$P","^SFT$Q","^SFT$R","^SFT$S","^SFT$T","^SFT$U","^SFT$V","^SFT$W","^SFT$X","^SFT$Y","^SFT$Z","^SFT%A","^SFT%B","^SFT%C","^SFT%D","^SFT%E"," ","^SFT/A","^SFT/B","^SFT/C","$","%","^SFT/F","^SFT/G","^SFT/H","^SFT/I","^SFT/J","+","^SFT/L","-",".","/","0","1","2","3","4","5","6","7","8","9","^SFT/Z","^SFT%F","^SFT%G","^SFT%H","^SFT%I","^SFT%J","^SFT%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","^SFT%K","^SFT%L","^SFT%M","^SFT%N","^SFT%O","^SFT%W","^SFT+A","^SFT+B","^SFT+C","^SFT+D","^SFT+E","^SFT+F","^SFT+G","^SFT+H","^SFT+I","^SFT+J","^SFT+K","^SFT+L","^SFT+M","^SFT+N","^SFT+O","^SFT+P","^SFT+Q","^SFT+R","^SFT+S","^SFT+T","^SFT+U","^SFT+V","^SFT+W","^SFT+X","^SFT+Y","^SFT+Z","^SFT%P","^SFT%Q","^SFT%R","^SFT%S","^SFT%T"]),e.newcode=J(e.barlen*6),e.newtext=J(e.barlen*6),e.j=0,e.k=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){e.i=o;var u=c(e.barcode,e.i);r[t++]=u,u>127&&(t--,r[t++]="bwipp.code93extbadCharacter#8542",r[t++]="Code 93 Extended only support ASCII characters with values 0 to 127",z()),e.extchar=c(e.extencs,r[--t]),e.extlen=e.extchar.length,M(e.newcode,e.j,e.extchar);var f=c(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.k,r[t++]=f,(f<32||f==127)&&(r[t-1]=32);var h=r[--t],p=r[--t];b(r[--t],p,h),e.extlen!=1&&b(e.newtext,e.k+1,32),e.j=e.j+e.extlen;var m=e.extlen==1?1:2;e.k=e.k+m}e.newcode=C(e.newcode,0,e.j),e.newtext=C(e.newtext,0,e.k),b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,Ow();var x=r[--t];if(e[r[--t]]=x,e.includetext){e.txt=c(e.args,"txt");for(var y=0,w=e.newtext.length-1;y<=w;y+=1)e.i=y,e.txtentry=c(e.txt,e.i),b(e.txtentry,0,C(e.newtext,e.i,1)),b(e.txt,e.i,e.txtentry);b(e.args,"txt",e.txt)}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function Hu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.interleaved2of5badCharacter#8628",r[t++]="Interleaved 2 of 5 must contain only digits",z())}),e.barlen=e.barcode.length,(e.barlen%2==0&&e.includecheck||e.barlen%2!=0&&!e.includecheck)&&(e.pad=J(e.barlen+1),b(e.pad,0,48),M(e.pad,1,e.barcode),e.barcode=e.pad,e.barlen=e.barlen+1),e.includecheck){e.checksum=0;for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.i%2==0?e.checksum=e.checksum+(c(e.barcode,e.i)-48)*3:e.checksum=e.checksum+(c(e.barcode,e.i)-48);e.checksum=(10-e.checksum%10)%10,e.pad=J(e.barlen+1),M(e.pad,0,e.barcode),b(e.pad,e.barlen,e.checksum+48),e.barcode=e.pad,e.barlen=e.barlen+1}e.encs=s(["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121","1111","2111"]),e.barchars="0123456789",e.sbs=J(e.barlen*5+8),e.txt=s(e.barlen),M(e.sbs,0,c(e.encs,10));for(var o=0,d=e.barlen-1;o<=d;o+=2){e.i=o,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enca=c(e.encs,e.indx),Rt(e.barchars,C(e.barcode,e.i+1,1)),t--,e.indx=r[--t].length,t-=2,e.encb=c(e.encs,e.indx),e.intl=J(e.enca.length*2);for(var u=0,f=e.enca.length-1;u<=f;u+=1)e.j=u,e.achar=c(e.enca,e.j),e.bchar=c(e.encb,e.j),b(e.intl,e.j*2,e.achar),b(e.intl,e.j*2+1,e.bchar);M(e.sbs,e.i*5+4,e.intl),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*9+4,e.textyoffset,e.textfont,e.textsize])),e.includecheck&&!e.includecheckintext&&e.barlen-2==e.i?b(e.txt,e.i+1,s([" ",(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.i+1,s([C(e.barcode,e.i+1,1),(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize]))}M(e.sbs,e.barlen*5+4,c(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var h=e.sbs,p=0,m=h.length;p<m;p++)r[t++]=c(h,p)-48;var x=s();r[t++]=1/0;for(var y=0,w=~~((e.sbs.length+1)/2);y<w;y++)r[t++]=e.height;var v=s();r[t++]=1/0;for(var g=0,A=~~((e.sbs.length+1)/2);g<A;g++)r[t++]=0;var k=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=x,r[t++]="bhs",r[t++]=v,r[t++]="bbs",r[t++]=k,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="barratio",r[t++]=2,r[t++]="spaceratio",r[t++]=2,r[t++]="opt",r[t++]=e.options;var E=Ge();r[t++]=E,e.dontdraw||Mt(),e=a}function QR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!0,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-3.5,e.height=.5,e.showborder=!0,e.borderwidth=4,e.borderleft=10,e.borderright=10,e.bordertop=-.55,e.borderbottom=-.55,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=J(n.length),r[t++]=0,ve(n,function(){var E=r[t-1];if(E!=32){var j=r[--t],N=r[--t],B=r[t-1];b(B,N,j),r[t++]=N+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.itf14badLength#8796",r[t++]="ITF-14 must be 13 or 14 digits",z());for(var o=e.barcode,d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.itf14badCharacter#8800",r[t++]="ITF-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==14)c(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.itf14badCheckDigit#8813",r[t++]="Incorrect ITF-14 check digit provided",z());else{var y=J(14);M(y,0,e.barcode),b(y,13,e.checksum+48),e.barcode=y;var w=e.hasspace?2:1,v=J(e.text.length+w);M(v,v.length-2," "),b(v,v.length-1,e.checksum+48),M(v,0,e.text),e.text=v}var g=e.options;b(g,"dontdraw",!0),b(e.options,"showborder",e.showborder),b(e.options,"borderwidth",e.borderwidth),b(e.options,"borderleft",e.borderleft),b(e.options,"borderright",e.borderright);var A=e.options;b(A,"bordertop",e.bordertop),b(e.options,"borderbottom",e.borderbottom),b(e.options,"height",e.height),b(e.options,"textyoffset",e.textyoffset),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Hu();var k=r[--t];e[r[--t]]=k,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function HR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.identcodeBadLength#8891",r[t++]="Deutsche Post Identcode must be 11 or 12 digits",z()),ve(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.identcodeBadCharacter#8895",r[t++]="Deutsche Post Identcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=10;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var d=r[--t],u=r[--t];e[r[--t]]=S(u+d)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&c(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.identcodeBadCheckDigit#8908",r[t++]="Incorrect Deutsche Post Identcode check digit provided",z());var f=J(12);M(f,0,e.barcode),b(f,11,e.checksum+48),e.barcode=f,e.text=_r(J(16),"  .       .     "),M(e.text,0,C(e.barcode,0,2)),M(e.text,3,C(e.barcode,2,3)),M(e.text,7,C(e.barcode,5,3)),M(e.text,11,C(e.barcode,8,3)),M(e.text,15,C(e.barcode,11,1)),b(e.options,"dontdraw",!0),b(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Hu();var p=r[--t];e[r[--t]]=p;var m=e.textsize;b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function $R(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.leitcodeBadLength#8981",r[t++]="Deutsche Post Leitcode must be 13 or 14 digits",z()),ve(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.leitcodeBadCharacter#8985",r[t++]="Deutsche Post Leitcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=12;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var d=r[--t],u=r[--t];e[r[--t]]=S(u+d)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==14&&c(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.leitcodeBadCheckDigit#8998",r[t++]="Incorrect Deutsche Post Leitcode check digit provided",z());var f=J(14);M(f,0,e.barcode),b(f,13,e.checksum+48),e.barcode=f,e.text=_r(J(18),"     .   .   .    "),M(e.text,0,C(e.barcode,0,5)),M(e.text,6,C(e.barcode,5,3)),M(e.text,10,C(e.barcode,8,3)),M(e.text,14,C(e.barcode,11,2)),M(e.text,17,C(e.barcode,13,1)),b(e.options,"dontdraw",!0),b(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Hu();var p=r[--t];e[r[--t]]=p;var m=e.textsize;b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function x2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=33/72,e.linkage=!1,e.format="omni",e.barxmult=33,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databaromniBadLength#9070",r[t++]="GS1 DataBar Omnidirectional must be 13 or 14 digits",z()),_e(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databaromniBadAI#9073",r[t++]="GS1 DataBar Omnidirectional must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databaromniBadCharacter#9077",r[t++]="GS1 DataBar Omnidirectional must contain only digits",z())}e.barxmult<33&&(r[t++]="bwipp.databarStackedOmniBarXmult#9082",r[t++]="GS1 DataBar Stacked Omnidirectional must have a barxmult of at least 33",z()),_e(e.format,"omni")&&_e(e.format,"stacked")&&_e(e.format,"stackedomni")&&_e(e.format,"truncated")&&(r[t++]="bwipp.databaromniBadFormat#9086",r[t++]="Valid formats are omni, stacked, stackedomni and truncated",z()),Y(e.format,"truncated")&&(e.height=13/72),e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databaromniBadCheckDigit#9102",r[t++]="Incorrect GS1 DataBar Omnidirectional check digit provided",z());var m=J(18);M(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,e.txt=s(e.barcode.length);for(var x=0,y=e.barcode.length-1;x<=y;x+=1)e.i=x,b(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var yt=r[--t],P=r[--t],G=S(P-yt);if(yt<S(P-yt)){var q=G;G=yt,yt=q}r[t++]=G,r[t++]=1,r[t++]=1;for(var te=P,ce=yt+1;te>=ce;te-=1){var ge=r[--t],ae=r[t-1],Ce=r[t-2];if(r[t++]=ge*te,fc(ae,Ce)){var Z=r[--t],xe=r[--t];r[t++]=xe+1,r[t++]=~~(Z/xe)}}for(;;){var me=r[t-2],Ne=r[t-3];if(T1(me,Ne))break;var oe=r[--t],we=r[--t];r[t++]=we+1,r[t++]=~~(oe/we)}var Be=r[--t];r[t-1]=Be;var pe=r[--t];r[t-1]=pe},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var yt=0,P=e.el-2;yt<=P;yt+=1){e.bar=yt,e.ew=1;var G=e.bar;for(e.mask=e.mask|(G<0?1>>>-G:1<<G);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var q=r[--t];if(e[r[--t]]=q,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var te=r[--t],ce=r[--t];e[r[--t]]=S(ce-te)}if(S(e.el-e.bar)>2){e.lval=0;for(var ge=S(e.nm-e.ew-e.el+e.bar)+2,ae=e.mw+1;ge>=ae;ge-=1)r[t++]=S(e.nm-ge-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var Ce=e.bar;e.mask=e.mask&~(Ce<0?1>>>-Ce:1<<Ce)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),b(e.out,e.bar,e.ew)}b(e.out,e.el-1,e.nm),r[t++]=e.out},r[t++]=1/0;var w=e.linkage?1:0,v=C(e.barcode,4,13);r[t++]=w;for(var g=0,A=v.length;g<A;g++)r[t++]=c(v,g)-48;e.binval=s();for(var k=0;k<=12;k+=1){e.i=k;var E=e.binval,j=e.i;b(E,j+1,S(c(E,j+1)+c(e.binval,e.i)%4537077*10)),b(e.binval,e.i,~~(c(e.binval,e.i)/4537077))}e.right=c(e.binval,13)%4537077;var N=e.binval;b(N,13,~~(c(N,13)/4537077)),e.left=0,e.i=!0;for(var B=0;B<=13;B+=1){e.j=B;var I=c(e.binval,e.j);if(r[t++]=I,I==0&&e.i)t--;else{e.i=!1,r[t++]="left",r[t++]=e.left;var D=r[t-3],T=r[t-1];e[r[t-2]]=S(T+D*~~di(10,13-e.j)),t-=3}}for(e.d1=~~(e.left/1597),e.d2=e.left%1597,e.d3=~~(e.right/1597),e.d4=e.right%1597,e.tab164=s([160,0,12,4,8,1,161,1,960,161,10,6,6,3,80,10,2014,961,8,8,4,5,31,34,2714,2015,6,10,3,6,10,70,2840,2715,4,12,1,8,1,126]),e.tab154=s([335,0,5,10,2,7,4,84,1035,336,7,8,4,5,20,35,1515,1036,9,6,6,3,48,10,1596,1516,11,4,8,1,81,1]),e.i=0;;){if(e.d1<=c(e.tab164,e.i)){O(C(e.tab164,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=c(e.tab154,e.i)){O(C(e.tab154,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d3<=c(e.tab164,e.i)){O(C(e.tab164,e.i+1,7)),e.d3te=r[--t],e.d3to=r[--t],e.d3mwe=r[--t],e.d3mwo=r[--t],e.d3ele=r[--t],e.d3elo=r[--t],e.d3gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d4<=c(e.tab154,e.i)){O(C(e.tab154,e.i+1,7)),e.d4te=r[--t],e.d4to=r[--t],e.d4mwe=r[--t],e.d4mwo=r[--t],e.d4ele=r[--t],e.d4elo=r[--t],e.d4gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var R=r[--t];e[r[--t]]=R,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var $=r[--t];e[r[--t]]=$,r[t++]="d2wo",r[t++]=S(e.d2-e.d2gs)%e.d2to,r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d2we",r[t++]=~~(S(e.d2-e.d2gs)/e.d2to),r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d3wo",r[t++]=~~(S(e.d3-e.d3gs)/e.d3te),r[t++]=e.d3elo,r[t++]=e.d3mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d3we",r[t++]=S(e.d3-e.d3gs)%e.d3te,r[t++]=e.d3ele,r[t++]=e.d3mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,r[t++]="d4wo",r[t++]=S(e.d4-e.d4gs)%e.d4to,r[t++]=e.d4elo,r[t++]=e.d4mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var X=r[--t];e[r[--t]]=X,r[t++]="d4we",r[t++]=~~(S(e.d4-e.d4gs)/e.d4to),r[t++]=e.d4ele,r[t++]=e.d4mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var le=r[--t];e[r[--t]]=le,e.d1w=s(8);for(var fe=0;fe<=3;fe+=1)e.i=fe,b(e.d1w,e.i*2,c(e.d1wo,e.i)),b(e.d1w,e.i*2+1,c(e.d1we,e.i));e.d2w=s(8);for(var V=0;V<=3;V+=1)e.i=V,b(e.d2w,7-e.i*2,c(e.d2wo,e.i)),b(e.d2w,6-e.i*2,c(e.d2we,e.i));e.d3w=s(8);for(var H=0;H<=3;H+=1)e.i=H,b(e.d3w,7-e.i*2,c(e.d3wo,e.i)),b(e.d3w,6-e.i*2,c(e.d3we,e.i));e.d4w=s(8);for(var se=0;se<=3;se+=1)e.i=se,b(e.d4w,e.i*2,c(e.d4wo,e.i)),b(e.d4w,e.i*2+1,c(e.d4we,e.i));r[t++]=1/0,O(e.d1w),O(e.d2w),O(e.d3w),O(e.d4w),e.widths=s(),e.checkweights=s([1,3,9,27,2,6,18,54,58,72,24,8,29,36,12,4,74,51,17,32,37,65,48,16,64,34,23,69,49,68,46,59]),e.checkwidths=s([3,8,2,1,1,3,5,5,1,1,3,3,7,1,1,3,1,9,1,1,2,7,4,1,1,2,5,6,1,1,2,3,8,1,1,1,5,7,1,1,1,3,9,1,1]),e.checksum=0;for(var ue=0;ue<=31;ue+=1)e.i=ue,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweights,e.i));e.checksum=e.checksum%79,e.checksum>=8&&(e.checksum=e.checksum+1),e.checksum>=72&&(e.checksum=e.checksum+1),e.checklt=C(e.checkwidths,~~(e.checksum/9)*5,5),e.checkrtrev=C(e.checkwidths,e.checksum%9*5,5),e.checkrt=s(5);for(var U=0;U<=4;U+=1)e.i=U,b(e.checkrt,e.i,c(e.checkrtrev,4-e.i));if(Y(e.format,"omni")||Y(e.format,"truncated")){r[t++]=1/0,r[t++]=1,O(e.d1w),O(e.checklt),O(e.d2w),O(e.d4w),O(e.checkrt),O(e.d3w),r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var W=e.sbs;r[t++]=1/0;for(var re=0,ie=~~((e.sbs.length+1)/2);re<ie;re++)r[t++]=e.height;var be=s();r[t++]=1/0;for(var K=0,ke=~~((e.sbs.length+1)/2);K<ke;K++)r[t++]=0;var je=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=W,r[t++]="bhs",r[t++]=be,r[t++]="bbs",r[t++]=je,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Qe=Ge();r[t++]=Qe,e.dontdraw||Mt()}else{r[t++]=1/0,r[t++]=1,r[t++]=1,O(e.d1w),O(e.checklt),O(e.d2w),r[t++]=1,r[t++]=1,r[t++]=0,e.top=s(),r[t++]=1/0,r[t++]=1,r[t++]=1,O(e.d4w),O(e.checkrt),O(e.d3w),r[t++]=1,r[t++]=1,r[t++]=0,e.bot=s();for(var ze=0;ze<=24;ze+=2){e.i=ze;for(var tt=0,Ze=c(e.top,e.i);tt<Ze;tt++)r[t++]=0;for(var Re=0,He=c(e.top,e.i+1);Re<He;Re++)r[t++]=1}Yt(s(50)),e.top=r[--t];for(var Ue=0;Ue<=24;Ue+=2){e.i=Ue;for(var ye=0,Ye=c(e.bot,e.i);ye<Ye;ye++)r[t++]=1;for(var Ae=0,Le=c(e.bot,e.i+1);Ae<Le;Ae++)r[t++]=0}if(Yt(s(50)),e.bot=r[--t],Y(e.format,"stacked")){e.sep=s(50),b(e.sep,0,0);for(var he=1;he<=49;he+=1)e.i=he,Y(c(e.top,e.i),c(e.bot,e.i))?b(e.sep,e.i,1-c(e.top,e.i)):b(e.sep,e.i,1-c(e.sep,e.i-1));M(e.sep,0,s([0,0,0,0])),M(e.sep,46,s([0,0,0,0])),r[t++]=1/0;for(var Pe=0;Pe<5;Pe++)O(e.top);O(e.sep);for(var Me=0;Me<7;Me++)O(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}if(Y(e.format,"stackedomni")){r[t++]=1/0,ve(e.top,function(){var yt=r[--t];r[t++]=1-yt}),e.sep1=s(),M(e.sep1,0,s([0,0,0,0])),M(e.sep1,46,s([0,0,0,0]));for(var $e=18;$e<=30;$e+=1){if(e.i=$e,c(e.top,e.i)==0)if(c(e.top,e.i-1)==1)r[t++]=1;else{var rt=c(e.sep1,e.i-1)==0?1:0;r[t++]=rt}else r[t++]=0;b(e.sep1,e.i,r[--t])}r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var pt=0;pt<21;pt++)r[t++]=0,r[t++]=1;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.sep2=s(),r[t++]=1/0,ve(e.bot,function(){var yt=r[--t];r[t++]=1-yt}),e.sep3=s(),M(e.sep3,0,s([0,0,0,0])),M(e.sep3,46,s([0,0,0,0]));for(var ut=19;ut<=31;ut+=1){if(e.i=ut,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var bt=c(e.sep3,e.i-1)==0?1:0;r[t++]=bt}else r[t++]=0;b(e.sep3,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var It=0;It<=12;It+=1){var St=r[--t];r[t++]=St&&Y(c(e.bot,It+19),c(e.f3,It))}r[--t]&&M(e.sep3,19,s([0,0,0,0,0,0,0,0,0,0,1,0,0])),r[t++]=1/0;for(var de=0,Ee=e.barxmult;de<Ee;de++)O(e.top);O(e.sep1),O(e.sep2),O(e.sep3);for(var at=0,ot=e.barxmult;at<ot;at++)O(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}var Et=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",50],["pixy",e.pixy],["height",e.pixy/72],["width",50/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Et,e.dontdraw||At()}e=a}function Uw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedBadLength#9532",r[t++]="GS1 DataBar Stacked must be 13 or 14 digits",z()),_e(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedBadAI#9535",r[t++]="GS1 DataBar Stacked must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databarstackedBadCharacter#9539",r[t++]="GS1 DataBar Stacked must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedBadCheckDigit#9552",r[t++]="Incorrect GS1 DataBar Stacked check digit provided",z());var m=J(18);M(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,b(e.options,"dontdraw",!0),b(e.options,"format","stacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,x2();var x=r[--t];e[r[--t]]=x,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function zw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],_e(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedomniBadAI#9610",r[t++]="GS1 DataBar Stacked Omnidirectional must begin with (01) application identifier",z()),e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedomniBadLength#9613",r[t++]="GS1 DataBar Stacked Omnidirectional must be 13 or 14 digits",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databarstackedomniBadCharacter#9617",r[t++]="GS1 DataBar Stacked Omnidirectional must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedomniBadCheckDigit#9630",r[t++]="Incorrect GS1 DataBar Stacked Omnidirectional check digit provided",z());var m=J(18);M(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,b(e.options,"dontdraw",!0),b(e.options,"format","stackedomni"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,x2();var x=r[--t];e[r[--t]]=x,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function Lw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databartruncatedBadLength#9688",r[t++]="GS1 DataBar Truncated must be 13 or 14 digits",z()),_e(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databartruncatedBadAI#9691",r[t++]="GS1 DataBar Truncated must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databartruncatedBadCharacter#9695",r[t++]="GS1 DataBar Truncated must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databartruncatedBadCheckDigit#9708",r[t++]="Incorrect GS1 DataBar Truncated check digit provided",z());var m=J(18);M(m,0,e.barcode),b(m,17,e.checksum+48),e.barcode=m,b(e.options,"dontdraw",!0),b(e.options,"format","truncated"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,x2();var x=r[--t];e[r[--t]]=x,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function Qw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=10/72,e.linkage=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarlimitedBadLength#9771",r[t++]="GS1 DataBar Limited must be 13 or 14 digits",z()),_e(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarlimitedBadAI#9774",r[t++]="GS1 DataBar Limited must begin with (01) application identifier",z());var n=c(e.barcode,4);(n<48||n>49)&&(r[t++]="bwipp.databarlimitedBadStartDigit#9777",r[t++]="GS1 DataBar Limited must begin with 0 or 1",z());for(var i=C(e.barcode,5,e.barcode.length-5),o=0,d=i.length;o<d;o++){var u=c(i,o);(u<48||u>57)&&(r[t++]="bwipp.databarlimitedBadCharacter#9781",r[t++]="GS1 DataBar Limited must contain only digits",z())}e.checksum=0;for(var f=0;f<=12;f+=1){if(e.i=f,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var h=r[--t];r[t++]=h*3}var p=r[--t],m=r[--t];e[r[--t]]=S(m+p)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarlimitedBadCheckDigit#9794",r[t++]="Incorrect GS1 DataBar Limited check digit provided",z());var x=J(18);M(x,0,e.barcode),b(x,17,e.checksum+48),e.barcode=x,e.linkval=s([2,0,1,5,1,3,3,5,3,1,0,9,6]),r[t++]=1/0;for(var y=C(e.barcode,4,13),w=0,v=y.length;w<v;w++)r[t++]=c(y,w)-48;if(e.binval=s(),e.linkage)for(var g=0,A=e.binval.length-1;g<=A;g+=1)e.i=g,b(e.binval,e.i,S(c(e.binval,e.i)+c(e.linkval,e.i)));e.txt=s(e.barcode.length);for(var k=0,E=e.barcode.length-1;k<=E;k+=1)e.i=k,b(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var Ue=r[--t],ye=r[--t],Ye=S(ye-Ue);if(Ue<S(ye-Ue)){var Ae=Ye;Ye=Ue,Ue=Ae}r[t++]=Ye,r[t++]=1,r[t++]=1;for(var Le=ye,he=Ue+1;Le>=he;Le-=1){var Pe=r[--t],Me=r[t-1],$e=r[t-2];if(r[t++]=Pe*Le,fc(Me,$e)){var rt=r[--t],pt=r[--t];r[t++]=pt+1,r[t++]=~~(rt/pt)}}for(;;){var ut=r[t-2],bt=r[t-3];if(T1(ut,bt))break;var It=r[--t],St=r[--t];r[t++]=St+1,r[t++]=~~(It/St)}var de=r[--t];r[t-1]=de;var Ee=r[--t];r[t-1]=Ee},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var Ue=0,ye=e.el-2;Ue<=ye;Ue+=1){e.bar=Ue,e.ew=1;var Ye=e.bar;for(e.mask=e.mask|(Ye<0?1>>>-Ye:1<<Ye);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var Ae=r[--t];if(e[r[--t]]=Ae,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Le=r[--t],he=r[--t];e[r[--t]]=S(he-Le)}if(S(e.el-e.bar)>2){e.lval=0;for(var Pe=S(e.nm-e.ew-e.el+e.bar)+2,Me=e.mw+1;Pe>=Me;Pe-=1)r[t++]=S(e.nm-Pe-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var $e=e.bar;e.mask=e.mask&~($e<0?1>>>-$e:1<<$e)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),b(e.out,e.bar,e.ew)}b(e.out,e.el-1,e.nm),r[t++]=e.out};for(var j=0;j<=11;j+=1){e.i=j;var N=e.binval,B=e.i;b(N,B+1,S(c(N,B+1)+c(e.binval,e.i)%2013571*10)),b(e.binval,e.i,~~(c(e.binval,e.i)/2013571))}e.d2=c(e.binval,12)%2013571;var I=e.binval;b(I,12,~~(c(I,12)/2013571)),e.d1=0,e.i=!0;for(var D=0;D<=12;D+=1){e.j=D;var T=c(e.binval,e.j);if(r[t++]=T,T==0&&e.i)t--;else{e.i=!1,r[t++]="d1",r[t++]=e.d1;var R=r[t-3],$=r[t-1];e[r[t-2]]=S($+R*~~di(10,12-e.j)),t-=3}}for(e.tab267=s([183063,0,17,9,6,3,6538,28,820063,183064,13,13,5,4,875,728,1000775,820064,9,17,3,6,28,6454,1491020,1000776,15,11,5,4,2415,203,1979844,1491021,11,15,4,5,203,2408,1996938,1979845,19,7,8,1,17094,1,2013570,1996939,7,19,1,8,1,16632]),e.i=0;;){if(e.d1<=c(e.tab267,e.i)){O(C(e.tab267,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=c(e.tab267,e.i)){O(C(e.tab267,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d2wo",r[t++]=~~(S(e.d2-e.d2gs)/e.d2te),r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d2we",r[t++]=S(e.d2-e.d2gs)%e.d2te,r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,e.d1w=s(14);for(var X=0;X<=6;X+=1)e.i=X,b(e.d1w,e.i*2,c(e.d1wo,e.i)),b(e.d1w,e.i*2+1,c(e.d1we,e.i));e.d2w=s(14);for(var le=0;le<=6;le+=1)e.i=le,b(e.d2w,e.i*2,c(e.d2wo,e.i)),b(e.d2w,e.i*2+1,c(e.d2we,e.i));r[t++]=1/0,O(e.d1w),O(e.d2w),e.widths=s(),e.checkweights=s([1,3,9,27,81,65,17,51,64,14,42,37,22,66,20,60,2,6,18,54,73,41,34,13,39,28,84,74]),r[t++]=1/0;for(var fe=0;fe<=43;fe+=1)r[t++]=fe;r[t++]=45,r[t++]=52,r[t++]=57;for(var V=63;V<=66;V+=1)r[t++]=V;for(var H=73;H<=79;H+=1)r[t++]=H;r[t++]=82;for(var se=126;se<=130;se+=1)r[t++]=se;r[t++]=132;for(var ue=141;ue<=146;ue+=1)r[t++]=ue;for(var U=210;U<=217;U+=1)r[t++]=U;r[t++]=220;for(var W=316;W<=320;W+=1)r[t++]=W;r[t++]=322,r[t++]=323,r[t++]=326,r[t++]=337,e.checkseq=s(),e.checksum=0;for(var re=0;re<=27;re+=1)e.i=re,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweights,e.i));e.checksum=e.checksum%89,e.seq=c(e.checkseq,e.checksum),r[t++]="swidths",r[t++]=~~(e.seq/21),r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var ie=r[--t];e[r[--t]]=ie,r[t++]="bwidths",r[t++]=e.seq%21,r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var be=r[--t];e[r[--t]]=be,e.checkwidths=s([0,0,0,0,0,0,0,0,0,0,0,0,1,1]);for(var K=0;K<=5;K+=1)e.i=K,b(e.checkwidths,e.i*2,c(e.swidths,e.i)),b(e.checkwidths,e.i*2+1,c(e.bwidths,e.i));r[t++]=1/0,r[t++]=1,O(e.d1w),O(e.checkwidths),O(e.d2w),r[t++]=1,r[t++]=1,r[t++]=5,e.sbs=s(),r[t++]=1/0;var ke=e.sbs;r[t++]=1/0;for(var je=0,Qe=~~((e.sbs.length+1)/2);je<Qe;je++)r[t++]=e.height;var ze=s();r[t++]=1/0;for(var tt=0,Ze=~~((e.sbs.length+1)/2);tt<Ze;tt++)r[t++]=0;var Re=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ke,r[t++]="bhs",r[t++]=ze,r[t++]="bbs",r[t++]=Re,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var He=Ge();r[t++]=He,e.dontdraw||Mt(),e=a}function Jm(){var a=e;if(e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.height=34/72,e.format="expanded",e.segments=-1,e.linkage=!1,e.barxmult=34,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barxmult<34&&(r[t++]="bwipp.databarStackedOmniBarXmult#10075",r[t++]="GS1 DataBar Expanded Stacked must have a barxmult of at least 34",z()),_e(e.format,"expanded")&&_e(e.format,"expandedstacked")&&(r[t++]="bwipp.databarexpandedBadFormat#10079",r[t++]="Valid formats are expanded and expandedstacked",z()),e.segments==-1){var n=Y(e.format,"expandedstacked")?4:22;e.segments=n}else(e.segments<2||e.segments>22||e.segments%2!=0)&&(r[t++]="bwipp.gs1databarexpandedBadSegments#10086",r[t++]="The number of segments must be even from 2 to 22",z());for(r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t];;){if(e.ais.length==2&&Y(c(e.ais,0),"01")&&Y(c(e.ais,1),"3103")&&Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=32767){r[t++]="0100",r[t++]=!1;break}if(e.ais.length==2&&Y(c(e.ais,0),"01")&&Y(c(e.ais,1),"3202")&&Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=9999){r[t++]="0101",r[t++]=!1;break}if(e.ais.length==2&&Y(c(e.ais,0),"01")&&Y(c(e.ais,1),"3203")&&Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=22767){r[t++]="0101",r[t++]=!1;break}var i=e.ais.length;if(i==2||i==3){r[t++]="ai310x",r[t++]=!1;for(var o=3100;o<=3109;o+=1){var d=r[--t];r[t++]=d||Y($t(J(4),o,10),c(e.ais,1))}var u=r[--t];e[r[--t]]=u,r[t++]="ai320x",r[t++]=!1;for(var f=3200;f<=3209;f+=1){var h=r[--t];r[t++]=h||Y($t(J(4),f,10),c(e.ais,1))}var p=r[--t];if(e[r[--t]]=p,e.ais.length==3){var m=s(["11","13","15","17"]);r[t++]="aibad",r[t++]=!0;for(var x=0,y=m.length;x<y;x++){var w=r[--t];r[t++]=w&&_e(c(m,x),c(e.ais,2))}var v=r[--t];e[r[--t]]=v}else e.aibad=!1;if(Y(c(e.ais,0),"01")&&(e.ai310x||e.ai320x)&&!e.aibad){if(e.ais.length==3){var g=Fe(C(c(e.vals,2),2,2)),A=Fe(C(c(e.vals,2),4,2));if(Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=99999&&g>=1&&g<=12&&A>=0&&A<=31){if(e.ai310x&&Y(c(e.ais,2),"11")){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"11")){r[t++]="0111001",r[t++]=!1;break}if(e.ai310x&&Y(c(e.ais,2),"13")){r[t++]="0111010",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"13")){r[t++]="0111011",r[t++]=!1;break}if(e.ai310x&&Y(c(e.ais,2),"15")){r[t++]="0111100",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"15")){r[t++]="0111101",r[t++]=!1;break}if(e.ai310x&&Y(c(e.ais,2),"17")){r[t++]="0111110",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"17")){r[t++]="0111111",r[t++]=!1;break}}}else if(Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=99999){if(e.ai310x){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x){r[t++]="0111001",r[t++]=!1;break}}}}if(e.ais.length>=2){r[t++]="ai392x",r[t++]=!1;for(var k=3920;k<=3923;k+=1){var E=r[--t];r[t++]=E||Y($t(J(4),k,10),c(e.ais,1))}var j=r[--t];if(e[r[--t]]=j,Y(c(e.ais,0),"01")&&e.ai392x&&Y(C(c(e.vals,0),0,1),"9")){r[t++]="01100",r[t++]=!0;break}}if(e.ais.length>=2){r[t++]="ai393x",r[t++]=!1;for(var N=3930;N<=3933;N+=1){var B=r[--t];r[t++]=B||Y($t(J(4),N,10),c(e.ais,1))}var I=r[--t];if(e[r[--t]]=I,Y(c(e.ais,0),"01")&&e.ai393x&&Y(C(c(e.vals,0),0,1),"9")){r[t++]="01101",r[t++]=!0;break}}if(Y(c(e.ais,0),"01")){r[t++]="1",r[t++]=!0;break}r[t++]="00",r[t++]=!0;break}if(e.gpfallow=r[--t],e.method=r[--t],e.conv12to40=function(){var rr=_r(J(40),"0000000000000000000000000000000000000000"),wr=r[--t],Er=$t(J(10),Fe(C(wr,0,3)),2);M(C(rr,0,10),10-Er.length,Er);var ta=$t(J(10),Fe(C(wr,3,3)),2);M(C(rr,10,10),10-ta.length,ta);var Or=$t(J(10),Fe(C(wr,6,3)),2);M(C(rr,20,10),10-Or.length,Or);var ia=$t(J(10),Fe(C(wr,9,3)),2);M(C(rr,30,10),10-ia.length,ia),r[t++]=rr},e.conv13to44=function(){var rr=_r(J(44),"00000000000000000000000000000000000000000000"),wr=r[--t],Er=$t(J(4),Fe(C(wr,0,1)),2);M(C(rr,0,4),4-Er.length,Er),r[t++]=rr,r[t++]=rr,r[t++]=C(wr,1,12),e.conv12to40();var ta=r[--t];M(r[--t],4,ta)},e.tobin=function(){var rr=J(r[--t]);r[t++]=rr;for(var wr=0,Er=rr.length-1;wr<=Er;wr+=1){var ta=r[t-1];b(ta,wr,48)}var Or=r[t-1];r[t++]=Or;var ia=r[t-3],Wr=r[t-1];r[t-3]=r[t-2],t-=2;var es=$t(J(Wr.length),ia,2);M(Wr,Wr.length-es.length,es)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,Y(e.method,"00")&&(e.cdf=s([]),e.gpf=s([])),Y(e.method,"1")){r[t++]="cdf",r[t++]=C(c(e.vals,0),0,13),e.conv13to44();var D=r[--t];e[r[--t]]=D,r[t++]=1/0;for(var T=e.cdf,R=0,$=T.length;R<$;R++)r[t++]=c(T,R)-48;e.cdf=s(),e.gpf=s([]),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)}if(Y(e.method,"0100")){e.cdf=J(55),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var _=r[--t],F=r[--t];M(r[--t],F,_),r[t++]=e.cdf,r[t++]=40,r[t++]=Fe(c(e.vals,1)),r[t++]=15,e.tobin();var Q=r[--t],L=r[--t];M(r[--t],L,Q),r[t++]=1/0;for(var X=e.cdf,le=0,fe=X.length;le<fe;le++)r[t++]=c(X,le)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(Y(e.method,"0101")){e.cdf=J(55),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var V=r[--t],H=r[--t];M(r[--t],H,V),Y(c(e.ais,1),"3202")?(r[t++]=Fe(c(e.vals,1)),r[t++]=15,e.tobin()):(r[t++]=Fe(c(e.vals,1))+1e4,r[t++]=15,e.tobin()),M(e.cdf,40,r[--t]),r[t++]=1/0;for(var se=e.cdf,ue=0,U=se.length;ue<U;ue++)r[t++]=c(se,ue)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(e.method.length==7){e.cdf=J(76),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var W=r[--t],re=r[--t];M(r[--t],re,W);var ie=J(6);if(M(ie,0,C(c(e.ais,1),3,1)),M(ie,1,C(c(e.vals,1),1,5)),r[t++]=Fe(ie),r[t++]=20,e.tobin(),M(e.cdf,40,r[--t]),e.ais.length==3){var be=c(e.vals,2);r[t++]=Fe(C(be,0,2))*384+((Fe(C(be,2,2))-1)*32+Fe(C(be,4,2)))}else r[t++]=38400;r[t++]=16,e.tobin(),M(e.cdf,60,r[--t]),r[t++]=1/0;for(var K=e.cdf,ke=0,je=K.length;ke<je;ke++)r[t++]=c(K,ke)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(Y(e.method,"01100")){e.cdf=J(42),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var Qe=r[--t],ze=r[--t];M(r[--t],ze,Qe),r[t++]=e.cdf,r[t++]=40,r[t++]=Fe(C(c(e.ais,1),3,1)),r[t++]=2,e.tobin();var tt=r[--t],Ze=r[--t];M(r[--t],Ze,tt),r[t++]=1/0;for(var Re=e.cdf,He=0,Ue=Re.length;He<Ue;He++)r[t++]=c(Re,He)-48;e.cdf=s(),r[t++]=1/0,ve(c(e.vals,1)),e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=C(e.ais,2,e.ais.length-2),e.vals=C(e.vals,2,e.vals.length-2),e.fncs=C(e.fncs,2,e.fncs.length-2)}if(Y(e.method,"01101")){e.cdf=J(52),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var ye=r[--t],Ye=r[--t];M(r[--t],Ye,ye),r[t++]=e.cdf,r[t++]=40,r[t++]=Fe(C(c(e.ais,1),3,1)),r[t++]=2,e.tobin();var Ae=r[--t],Le=r[--t];M(r[--t],Le,Ae),r[t++]=e.cdf,r[t++]=42,r[t++]=Fe(C(c(e.vals,1),0,3)),r[t++]=10,e.tobin();var he=r[--t],Pe=r[--t];M(r[--t],Pe,he),r[t++]=1/0;for(var Me=e.cdf,$e=0,rt=Me.length;$e<rt;$e++)r[t++]=c(Me,$e)-48;e.cdf=s(),r[t++]=1/0;for(var pt=c(e.vals,1),ut=C(pt,3,pt.length-3),bt=0,It=ut.length;bt<It;bt++)r[t++]=c(ut,bt);e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=C(e.ais,2,e.ais.length-2),e.vals=C(e.vals,2,e.vals.length-2),e.fncs=C(e.fncs,2,e.fncs.length-2)}e.gpfallow?e.vlf=s(2):e.vlf=s([]),r[t++]=1/0;for(var St=0;St<=119;St+=1){var de=_r(J(2),"00"),Ee=$t(J(2),St,11);if(M(de,2-Ee.length,Ee),r[t++]=St,r[t++]=de,c(de,0)==65){var at=r[t-1];b(at,0,94)}var ot=r[t-1];if(c(ot,1)==65){var Et=r[t-1];b(Et,1,94)}var yt=r[--t],P=_r(J(7),"0000000"),G=$t(J(7),r[--t]+8,2);M(P,7-G.length,G),r[t++]=yt,r[t++]=P}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=Ge(),r[t++]=1/0;for(var q=48;q<=57;q+=1)r[t++]=q,r[t++]=q-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var te=65;te<=90;te+=1)r[t++]=te,r[t++]=te-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var ce=44;ce<=47;ce+=1)r[t++]=ce,r[t++]=ce+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=Ge(),r[t++]=1/0;for(var ge=48;ge<=57;ge+=1)r[t++]=ge,r[t++]=ge-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var ae=65;ae<=90;ae+=1)r[t++]=ae,r[t++]=ae-1,r[t++]=7,e.tobin();for(var Ce=97;Ce<=122;Ce+=1)r[t++]=Ce,r[t++]=Ce-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var Z=37;Z<=47;Z+=1)r[t++]=Z,r[t++]=Z+197,r[t++]=8,e.tobin();for(var xe=58;xe<=63;xe+=1)r[t++]=xe,r[t++]=xe+187,r[t++]=8,e.tobin();r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=Ge();for(var me=0,Ne=e.ais.length-1;me<=Ne;me+=1){e.i=me,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var oe=s(e.gpf.length+e.ai.length+e.val.length);M(oe,0,e.gpf),r[t++]=oe,r[t++]=oe,r[t++]=e.gpf.length;var we=1/0,Be=e.ai;r[t++]=we,ve(Be);var pe=s(),Ie=r[--t];M(r[--t],Ie,pe);var Se=r[t-1];r[t++]=Se,r[t++]=e.gpf.length+e.ai.length;var Te=1/0,Ve=e.val;r[t++]=Te,ve(Ve);var qe=s(),et=r[--t];if(M(r[--t],et,qe),e.gpf=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var ct=s(e.gpf.length+1);M(ct,0,e.gpf),b(ct,e.gpf.length,e.fnc1),e.gpf=ct}}e.rembits=function(){var rr=r[--t],wr=48,Er=~~xr(rr/12)*12;if(~~xr(rr/12)*12<48){var ta=wr;wr=Er,Er=ta}var Or=~~(Er/12);if(r[t++]=rr,r[t++]=Er,r[t++]=Or,Or%e.segments==1){var ia=r[--t];r[t-1]=(ia+1)*12}else t--;var Wr=r[--t],es=r[--t];r[t++]=S(Wr-es)},e.encode=function(){var rr=r[t-1];if(_e(rr,"raw")){var wr=r[--t],Er=c(wr,r[--t]);r[t++]=Er}else t--;var ta=r[t-1];ta.length+e.j>=252&&(t--,r[t++]="bwipp.gs1databarexpandedTooLong#10374",r[t++]="Maximum length exceeded",z()),r[t++]=1/0;var Or=r[--t],ia=r[--t];r[t++]=Or,ve(ia,function(){var es=r[--t];r[t++]=es-48});var Wr=s();M(e.gpfenc,e.j,Wr),e.j=Wr.length+e.j},r[t++]=1/0;for(var lt=0,De=e.gpf.length;lt<De;lt++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var We=0,Ke=e.gpf.length;We<Ke;We++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var st=0,gt=e.gpf.length;st<gt;st++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var wt=e.gpf.length-1;wt>=0;wt-=1){e.i=wt;var vt=_r(J(2),"00"),kt=c(e.gpf,e.i);r[t++]=c(e.gpf,e.i),r[t++]=vt,r[t++]=vt,r[t++]=0,r[t++]=kt,kt==e.fnc1&&(r[t-1]=94);var dt=r[--t],_t=r[--t];if(b(r[--t],_t,dt),e.i<e.gpf.length-1){var nt=r[t-1],Qt=c(e.gpf,e.i+1);r[t++]=nt,r[t++]=1,r[t++]=Qt,Qt==e.fnc1&&(r[t-1]=94);var Ht=r[--t],Ut=r[--t];b(r[--t],Ut,Ht)}var sr=c(e.numeric,r[--t])!==void 0;sr?b(e.numericruns,e.i,c(e.numericruns,e.i+2)+2):b(e.numericruns,e.i,0);var Cr=r[t-1],nr=c(e.alphanumeric,Cr)!==void 0;nr?b(e.alphanumericruns,e.i,c(e.alphanumericruns,e.i+1)+1):b(e.alphanumericruns,e.i,0);var gr=r[--t],ar=c(e.iso646,gr)!==void 0,Br=c(e.alphanumeric,gr)!==void 0;ar&&!Br?b(e.nextiso646only,e.i,0):b(e.nextiso646only,e.i,c(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(252),e.i=0,e.j=0,e.mode="numeric";e.i!=e.gpf.length;)for(;;){if(Y(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var Zt=J(2),dr=c(e.gpf,e.i);r[t++]=Zt,r[t++]=Zt,r[t++]=0,r[t++]=dr,dr==e.fnc1&&(r[t-1]=94);var Kt=r[--t],Jt=r[--t];b(r[--t],Jt,Kt);var ur=r[t-1],Tr=c(e.gpf,e.i+1);r[t++]=ur,r[t++]=1,r[t++]=Tr,Tr==e.fnc1&&(r[t-1]=94);var Fr=r[--t],fa=r[--t];b(r[--t],fa,Fr);var Tt=r[t-1],Gt=c(e.numeric,Tt)!==void 0;if(Gt){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var tr=c(e.gpf,e.i);if(tr<48||tr>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=13+e.method.length+e.vlf.length+e.cdf.length+e.j,e.rembits();var br=r[--t];if(e[r[--t]]=br,e.rem>=4&&e.rem<=6){var ir=C(_r(J(6),"000000"),0,e.rem),Dr=$t(J(4),c(e.gpf,e.i)-47,2);M(ir,4-Dr.length,Dr),r[t++]=ir,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var or=J(2);b(or,0,c(e.gpf,e.i)),b(or,1,94),r[t++]=or,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(Y(e.mode,"alphanumeric")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var zt=c(e.gpf,e.i),yr=c(e.iso646,zt)!==void 0,ra=c(e.alphanumeric,zt)!==void 0;if(yr&&!ra){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(c(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var ha=c(e.numericruns,e.i);if(ha>=4&&S(ha+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(Y(e.mode,"iso646")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(c(e.numericruns,e.i)>=4&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(c(e.alphanumericruns,e.i)>=5&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=C(e.gpfenc,0,e.j);var Aa=13+e.method.length+e.vlf.length+e.cdf.length+e.gpf.length;r[t++]=Aa,r[t++]=Aa,e.rembits();var Qr=r[--t];if(e.pad=s(Qr),r[t++]=Qr,e.vlf.length!=0){var Ca=r[--t],ba=~~(S(r[--t]+Ca)/12);b(e.vlf,0,ba%2);var Ma=ba<=14?0:1;b(e.vlf,1,Ma)}else t-=2;if(e.pad.length>0){for(var ca=0,ka=e.pad.length-1;ca<=ka;ca+=5){e.i=ca;var Ia=e.pad,ja=e.i,Qa=s([0,0,1,0,0]),Ha=e.pad,Ka=e.i,xs=5,Ba=Ha.length-Ka;if(Ha.length-Ka>5){var Ts=xs;xs=Ba,Ba=Ts}M(Ia,ja,C(Qa,0,Ba))}Y(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=C(s(),0,e.pad.length))}r[t++]=1/0;var $a=e.linkage?1:0;r[t++]=$a,ve(e.method,function(){var rr=r[--t];r[t++]=rr-48}),O(e.vlf),O(e.cdf),O(e.gpf),O(e.pad),e.binval=s(),e.datalen=~~(e.binval.length/12),e.ncr=function(){var rr=r[--t],wr=r[--t],Er=S(wr-rr);if(rr<S(wr-rr)){var ta=Er;Er=rr,rr=ta}r[t++]=Er,r[t++]=1,r[t++]=1;for(var Or=wr,ia=rr+1;Or>=ia;Or-=1){var Wr=r[--t],es=r[t-1],ts=r[t-2];if(r[t++]=Wr*Or,fc(es,ts)){var Vs=r[--t],yn=r[--t];r[t++]=yn+1,r[t++]=~~(Vs/yn)}}for(;;){var Mn=r[t-2],Qn=r[t-3];if(T1(Mn,Qn))break;var Hn=r[--t],wn=r[--t];r[t++]=wn+1,r[t++]=~~(Hn/wn)}var pi=r[--t];r[t-1]=pi;var $n=r[--t];r[t-1]=$n},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var rr=0,wr=e.el-2;rr<=wr;rr+=1){e.bar=rr,e.ew=1;var Er=e.bar;for(e.mask=e.mask|(Er<0?1>>>-Er:1<<Er);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var ta=r[--t];if(e[r[--t]]=ta,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Or=r[--t],ia=r[--t];e[r[--t]]=S(ia-Or)}if(S(e.el-e.bar)>2){e.lval=0;for(var Wr=S(e.nm-e.ew-e.el+e.bar)+2,es=e.mw+1;Wr>=es;Wr-=1)r[t++]=S(e.nm-Wr-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var ts=e.bar;e.mask=e.mask&~(ts<0?1>>>-ts:1<<ts)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),b(e.out,e.bar,e.ew)}b(e.out,e.el-1,e.nm),r[t++]=e.out},e.tab174=s([347,0,12,5,7,2,87,4,1387,348,10,7,5,4,52,20,2947,1388,8,9,4,5,30,52,3987,2948,6,11,3,6,10,104,4191,3988,4,13,1,8,1,204]),e.dxw=s(e.datalen);for(var $s=0,_a=e.datalen-1;$s<=_a;$s+=1){e.x=$s,e.d=C(e.binval,e.x*12,12),r[t++]="d",r[t++]=0;for(var vs=0;vs<=11;vs+=1){e.j=vs;var Rs=r[--t];r[t++]=S(Rs+~~di(2,11-e.j)*c(e.d,e.j))}var Ms=r[--t];for(e[r[--t]]=Ms,e.j=0;;){if(fc(e.d,c(e.tab174,e.j))){O(C(e.tab174,e.j+1,7)),e.dte=r[--t],e.dto=r[--t],e.dmwe=r[--t],e.dmwo=r[--t],e.dele=r[--t],e.delo=r[--t],e.dgs=r[--t];break}e.j=e.j+8}r[t++]="dwo",r[t++]=~~(S(e.d-e.dgs)/e.dte),r[t++]=e.delo,r[t++]=e.dmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var Wa=r[--t];e[r[--t]]=Wa,r[t++]="dwe",r[t++]=S(e.d-e.dgs)%e.dte,r[t++]=e.dele,r[t++]=e.dmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var qs=r[--t];if(e[r[--t]]=qs,e.dw=s(8),e.x%2==0)for(var Ja=0;Ja<=3;Ja+=1)e.j=Ja,b(e.dw,7-e.j*2,c(e.dwo,e.j)),b(e.dw,6-e.j*2,c(e.dwe,e.j));else for(var gs=0;gs<=3;gs+=1)e.j=gs,b(e.dw,e.j*2,c(e.dwo,e.j)),b(e.dw,e.j*2+1,c(e.dwe,e.j));b(e.dxw,e.x,e.dw)}e.finderwidths=s([1,8,4,1,1,1,1,4,8,1,3,6,4,1,1,1,1,4,6,3,3,4,6,1,1,1,1,6,4,3,3,2,8,1,1,1,1,8,2,3,2,6,5,1,1,1,1,5,6,2,2,2,9,1,1,1,1,9,2,2]),e.finderseq=s([s([0,1]),s([0,3,2]),s([0,5,2,7]),s([0,9,2,7,4]),s([0,9,2,7,6,11]),s([0,9,2,7,8,11,10]),s([0,1,2,3,4,5,6,7]),s([0,1,2,3,4,5,6,9,8]),s([0,1,2,3,4,5,6,9,10,11]),s([0,1,2,3,4,7,6,9,8,11,10])]),e.seq=c(e.finderseq,~~((e.datalen-2)/2)),e.fxw=s(e.seq.length);for(var Fa=0,gn=e.seq.length-1;Fa<=gn;Fa+=1)e.x=Fa,b(e.fxw,e.x,C(e.finderwidths,c(e.seq,e.x)*5,5));e.checkweights=s([-1,-1,-1,-1,-1,-1,-1,-1,77,96,32,81,27,9,3,1,20,60,180,118,143,7,21,63,205,209,140,117,39,13,145,189,193,157,49,147,19,57,171,91,132,44,85,169,197,136,186,62,185,133,188,142,4,12,36,108,50,87,29,80,97,173,128,113,150,28,84,41,123,158,52,156,166,196,206,139,187,203,138,46,76,17,51,153,37,111,122,155,146,119,110,107,106,176,129,43,16,48,144,10,30,90,59,177,164,125,112,178,200,137,116,109,70,210,208,202,184,130,179,115,190,204,68,93,31,151,191,134,148,22,66,198,172,94,71,2,40,154,192,64,162,54,18,6,120,149,25,75,14,42,126,167,175,199,207,69,23,78,26,79,103,98,83,38,114,131,182,124,159,53,88,170,127,183,61,161,55,165,73,8,24,72,5,15,89,100,174,58,160,194,135,45]),r[t++]=1/0,ve(e.seq,function(){O(C(e.checkweights,r[--t]*16,16))});var qa=s();e.checkweightseq=C(qa,8,qa.length-8),r[t++]=1/0;for(var Bn=e.dxw,Da=0,en=Bn.length;Da<en;Da++)O(c(Bn,Da));e.widths=s(),e.checksum=0;for(var Pa=0,sn=e.widths.length-1;Pa<=sn;Pa+=1)e.i=Pa,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweightseq,e.i));for(e.checksum=S(e.checksum%211+(e.datalen-3)*211),e.i=0;;){if(e.checksum<=c(e.tab174,e.i)){O(C(e.tab174,e.i+1,7)),e.cte=r[--t],e.cto=r[--t],e.cmwe=r[--t],e.cmwo=r[--t],e.cele=r[--t],e.celo=r[--t],e.cgs=r[--t];break}e.i=e.i+8}r[t++]="cwo",r[t++]=~~(S(e.checksum-e.cgs)/e.cte),r[t++]=e.celo,r[t++]=e.cmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var ls=r[--t];e[r[--t]]=ls,r[t++]="cwe",r[t++]=S(e.checksum-e.cgs)%e.cte,r[t++]=e.cele,r[t++]=e.cmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Xt=r[--t];e[r[--t]]=Xt,e.cw=s(8);for(var Zr=0;Zr<=3;Zr+=1)e.i=Zr,b(e.cw,e.i*2,c(e.cwo,e.i)),b(e.cw,e.i*2+1,c(e.cwe,e.i));var Na=s(22);b(Na,0,e.cw),M(Na,1,e.dxw),e.dxw=C(Na,0,e.datalen+1),e.datalen=e.dxw.length,e.rows=s(~~xr(e.datalen/e.segments)),e.numrows=e.rows.length;for(var Oa=0,bs=e.numrows-1;Oa<=bs;Oa+=1){e.r=Oa,r[t++]=1/0,e.segments%4!=0&&e.r%2==1&&(r[t++]=0),r[t++]=1,r[t++]=1;for(var Hr=0,cs=e.segments-1;Hr<=cs;Hr+=1)e.pos=Hr+e.r*e.segments,e.pos<e.datalen&&(O(c(e.dxw,e.pos)),e.pos%2==0&&O(c(e.fxw,~~(e.pos/2))));var ys=va()+2;r[t++]=1,r[t++]=1,Yt(s(ys)),b(e.rows,e.r,r[--t]),t--}if(_e(e.format,"expandedstacked")){var Ua=c(e.rows,0);e.sbs=C(Ua,1,Ua.length-1),r[t++]=1/0,r[t++]=1;for(var Dn=0,Ta=e.datalen-1;Dn<=Ta;Dn+=1)e.i=Dn,O(c(e.dxw,e.i)),e.i%2==0&&O(c(e.fxw,~~(e.i/2)));r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var hi=e.sbs;r[t++]=1/0;for(var Gs=0,Ra=~~((e.sbs.length+1)/2);Gs<Ra;Gs++)r[t++]=e.height;var Tn=s();r[t++]=1/0;for(var Xa=0,Rn=~~((e.sbs.length+1)/2);Xa<Rn;Xa++)r[t++]=0;var ws=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=hi,r[t++]="bhs",r[t++]=Tn,r[t++]="bbs",r[t++]=ws,r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=0,r[t++]="opt",r[t++]=e.options;var nn=Ge();r[t++]=nn,e.dontdraw||Mt()}else{e.seps=s(e.numrows);for(var on=0,Zn=e.numrows-1;on<=Zn;on+=1){e.r=on,e.row=c(e.rows,e.r),r[t++]=1/0;for(var Ct=0,Yr=e.row.length-1;Ct<=Yr;Ct+=2){e.i=Ct;for(var aa=0,za=c(e.row,e.i);aa<za;aa++)r[t++]=0;if(e.i<e.row.length-1)for(var da=0,Za=c(e.row,e.i+1);da<Za;da++)r[t++]=1}Yt(s(va())),e.row=r[--t],r[t-1]=1/0,ve(e.row,function(){var rr=r[--t];r[t++]=1-rr}),e.sep=s(),r[t++]=1/0;for(var As=19,bn=e.row.length-13;As<=bn;As+=98)r[t++]=As;for(var mt=68,Bt=e.row.length-13;mt<=Bt;mt+=98)r[t++]=mt;e.finderpos=s();for(var hr=e.finderpos,lr=0,fr=hr.length;lr<fr;lr++)for(var Rr=c(hr,lr),cr=Rr,sa=Rr+14;cr<=sa;cr+=1){if(e.i=cr,c(e.row,e.i)==0)if(c(e.row,e.i-1)==1)r[t++]=1;else{var $r=c(e.sep,e.i-1)==0?1:0;r[t++]=$r}else r[t++]=0;b(e.sep,e.i,r[--t])}if(M(e.sep,0,s([0,0,0,0])),M(e.sep,e.row.length-4,s([0,0,0,0])),e.segments%4==0&&e.r%2==1)if(c(e.rows,e.r).length!=c(e.rows,0).length&&e.finderpos.length%2==1)r[t++]=1/0,r[t++]=0,O(e.row),e.row=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s();else{for(var qr=e.row.length-1;qr>=0;qr-=1)r[t++]=c(e.row,qr);Yt(e.row),t--;for(var Gr=e.sep.length-1;Gr>=0;Gr-=1)r[t++]=c(e.sep,Gr);Yt(e.sep),t--}b(e.rows,e.r,e.row),b(e.seps,e.r,e.sep)}e.pixx=c(e.rows,0).length,r[t++]=1/0;for(var Kr=0,pa=e.pixx;Kr<pa;Kr++)r[t++]=0;var ea=s();M(ea,0,c(e.rows,e.numrows-1)),b(e.rows,e.numrows-1,ea),r[t++]=1/0;for(var Vr=0,na=e.pixx;Vr<na;Vr++)r[t++]=0;var Mr=s();M(Mr,0,c(e.seps,e.numrows-1)),b(e.seps,e.numrows-1,Mr),r[t++]=1/0;for(var Pr=0,La=~~(e.pixx/2)+1;Pr<La;Pr++)r[t++]=0,r[t++]=1;e.sep=C(s(),0,e.pixx),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.pixx-4,s([0,0,0,0])),r[t++]=1/0;for(var ya=0,ds=e.numrows-1;ya<=ds;ya+=1){e.r=ya,e.r!=0&&O(c(e.seps,e.r));for(var Cs=0,ln=e.barxmult;Cs<ln;Cs++)O(c(e.rows,e.r));e.r!=e.numrows-1&&(O(c(e.seps,e.r)),O(e.sep))}e.pixs=s();var _s=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",~~(e.pixs.length/e.pixx)],["height",~~(e.pixs.length/e.pixx)/72],["width",e.pixx/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=_s,e.dontdraw||At()}e=a}function Xm(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","expandedstacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Jm();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function qR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.coupontextfont="OCR-B",e.coupontextsize=9,e.coupontextxoffset=null,e.coupontextyoffset=null,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),t--,e.vals=r[--t],e.ais=r[--t],e.ais.length!=1&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11001",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),_e(c(e.ais,0),"8110")&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11004",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),e.val=c(e.vals,0),e.vli=c(e.val,0)-48,(e.vli<0||e.vli>6)&&(r[t++]="bwipp.gs1northamericancouponBadVLI#11011",r[t++]="The AI (8110) data should start with a Company Prefix length indicator in the range 0 to 6",z()),e.gcp=C(e.val,1,e.vli+6),e.cod=C(e.val,e.vli+7,6),e.coupontext=J(e.gcp.length+7),M(e.coupontext,0,e.gcp),M(e.coupontext,e.gcp.length,"-"),M(e.coupontext,e.gcp.length+1,e.cod),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xm();var n=r[--t];if(e[r[--t]]=n,e.includetext){e.coupontextxoffset==null&&(e.coupontextxoffset=0),e.coupontextyoffset==null&&(e.coupontextyoffset=c(e.args,"height")*72+3);var i=c(e.args,"txt")!==void 0;i?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),b(e.newtxt,e.newtxt.length-1,s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])),b(e.args,"txt",e.newtxt)):b(e.args,"txt",s([s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])]))}b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function GR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=8*2.835/72,e.nwidth=.5*2.835,e.wwidth=1.5*2.835,e.swidth=1*2.835,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>6)&&(r[t++]="bwipp.pharmacodeBadLength#11091",r[t++]="Pharmacode must be 1 to 6 digits",z()),ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.pharmacodeBadCharacter#11095",r[t++]="Pharmacode must contain only digits",z())});var n=Fe(e.barcode);(n<3||n>131070)&&(r[t++]="bwipp.pharmacodeBadValue#11099",r[t++]="Pharmacode value must be between 3 and 131070",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,b(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.barcode=$t(J(17),Fe(e.barcode)+1,2),e.barcode=C(e.barcode,1,e.barcode.length-1),e.barlen=e.barcode.length,e.sbs=s(e.barlen*2);for(var d=0,u=e.barlen-1;d<=u;d+=1)e.i=d,e.enc=C(e.barcode,e.i,1),Y(e.enc,"0")?b(e.sbs,e.i*2,e.nwidth):b(e.sbs,e.i*2,e.wwidth),b(e.sbs,e.i*2+1,e.swidth);r[t++]=1/0;var f=e.sbs;r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0,y=~~((e.sbs.length+1)/2);x<y;x++)r[t++]=0;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=w,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var v=Ge();r[t++]=v,e.dontdraw||Mt(),e=a}function Hw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.height=4,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>8)&&(r[t++]="bwipp.pharmacode2BadLength#11180",r[t++]="Two-track Pharmacode must be 1 to 6 digits",z()),ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.pharmacode2badCharacter#11184",r[t++]="Two-track Pharmacode must contain only digits",z())});var n=Fe(e.barcode);(n<4||n>64570080)&&(r[t++]="bwipp.pharmacode2badValue#11188",r[t++]="Two-track Pharmacode value must be between 4 and 64570080",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,b(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));for(e.encstr=J(16),e.sbs=s(32),e.bar=1/25.4*e.height,e.spc=1/25.4*72,e.i=15,e.val=Fe(e.barcode);e.val!=0;){var d=e.val%3;e.val=~~(S(e.val-c(s([3,1,2]),d))/3),b(e.encstr,e.i,c(s([2,0,1]),d)),e.i=e.i-1}e.encstr=C(e.encstr,e.i+1,15-e.i),e.bhs=s(e.encstr.length),e.bbs=s(e.encstr.length);for(var u=0,f=e.encstr.length-1;u<=f;u+=1){e.i=u;var h=c(e.encstr,e.i);b(e.bhs,e.i,e.bar*c(s([1,1,2]),h)),b(e.bbs,e.i,c(s([0,e.bar,0]),h))}r[t++]=1/0;var p=e.bhs,m=e.bbs;r[t++]=1/0;for(var x=0,y=e.encstr.length*2;x<y;x++)r[t++]=e.spc;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=p,r[t++]="bbs",r[t++]=m,r[t++]="sbs",r[t++]=w,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="textyoffset",r[t++]=4,r[t++]="opt",r[t++]=e.options;var v=Ge();r[t++]=v,e.dontdraw||Mt(),e=a}function Nc(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.version="industrial",r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code2of5emptyData#11287",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var _=r[--t];(_<48||_>57)&&(r[t++]="bwipp.code2of5badCharacter#11295",r[t++]="Code 25 must contain only digits",z())}),r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){if(e.i=o,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,S(e.barlen-e.i)%2!=0){var u=r[--t];r[t++]=u*3}var f=r[--t],h=r[--t];e[r[--t]]=S(h+f)}e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=e.checksum+48&&(r[t++]="bwipp.code2of5badCheckDigit#11309",r[t++]="Incorrect Code 25 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0);var p=new Map([["industrial",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","313111","31113"])],["iata",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","1111","311"])],["matrix",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","311111","31111"])],["coop",s(["331111","111331","113131","113311","131131","131311","133111","311131","311311","313111","3131","133"])],["datalogic",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","1111","311"])]]);e.versions=p;var m=c(e.versions,e.version)!==void 0;m||(r[t++]="bwipp.code2of5badVersion#11344",r[t++]="Unrecognised Code 25 version",z()),e.encs=c(e.versions,e.version),e.cs=c(e.encs,0).length,r[t++]="cw",r[t++]=0,ve(c(e.encs,0),function(){var _=r[--t],F=r[--t];r[t++]=S(F+(_-48))});var x=r[--t];e[r[--t]]=x,e.ss=c(e.encs,10).length,r[t++]="sw",r[t++]=0,ve(c(e.encs,10),function(){var _=r[--t],F=r[--t];r[t++]=S(F+(_-48))});var y=r[--t];if(e[r[--t]]=y,e.es=c(e.encs,11).length,e.barchars="0123456789",r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var w=r[--t];r[t++]=w+1}var v=J(S(r[--t]*e.cs+e.ss+e.es));if(e[r[--t]]=v,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var g=r[--t];r[t++]=g+1}var A=s(r[--t]);e[r[--t]]=A,M(e.sbs,0,c(e.encs,10));for(var k=0,E=e.barlen-1;k<=E;k+=1)e.i=k,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*e.cs+e.ss,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),S(e.i*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]));e.includecheck?(M(e.sbs,S(e.barlen*e.cs+e.ss),c(e.encs,e.checksum)),M(e.sbs,S(e.barlen*e.cs+e.cs+e.ss),c(e.encs,11)),e.includecheckintext?b(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]))):M(e.sbs,S(e.barlen*e.cs+e.ss),c(e.encs,11)),r[t++]=1/0,r[t++]=1/0,ve(e.sbs,function(){var _=r[--t];r[t++]=_-48});var j=s();r[t++]=1/0;for(var N=0,B=~~((e.sbs.length+1)/2);N<B;N++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,T=~~((e.sbs.length+1)/2);D<T;D++)r[t++]=0;var R=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=R,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var $=Ge();r[t++]=$,e.dontdraw||Mt(),e=a}function VR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","industrial"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Nc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function YR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","iata"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Nc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function KR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","matrix"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Nc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function WR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","coop"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Nc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function JR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"version","datalogic"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Nc();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function XR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code11emptyData#11692",r[t++]="The data must not be empty",z()),e.encs=s(["111131","311131","131131","331111","113131","313111","133111","111331","311311","311111","113111","113311"]),e.barchars="0123456789-",e.charvals=new Map;for(var n=0;n<=10;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.code11badCharacter#11714",r[t++]="Code 11 must contain only digits and dashes",z())}if(e.barlen=e.barcode.length,e.validatecheck){e.barlen==11&&(r[t++]="bwipp.code11badLength#11721",r[t++]="Code 11 cannot be 11 characters using check digits",z());var u=e.barlen<=10?1:2;e.barlen=e.barlen-u}if(r[t++]="numchecks",e.includecheck||e.validatecheck){var f=e.barlen>=10?2:1;r[t++]=f}else r[t++]=0;var h=r[--t];e[r[--t]]=h,e.checksum1=0,e.checksum2=0;for(var p=0,m=e.barlen-1;p<=m;p+=1)e.i=p,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.checksum1=S(e.checksum1+((e.barlen-e.i-1)%10+1)*e.indx),e.checksum2=S(e.checksum2+((e.barlen-e.i)%9+1)*e.indx);if(e.checksum1=e.checksum1%11,e.checksum2=S(e.checksum2+e.checksum1)%11,e.validatecheck){if(e.numchecks==1){var x=e.checksum1;c(e.barcode,e.barlen)!=c(e.barchars,x)&&(r[t++]="bwipp.code11badCheckDigit#11739",r[t++]="Incorrect Code 11 check digit provided",z())}else(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum1)||c(e.barcode,e.barlen+1)!=c(e.barchars,e.checksum2))&&(r[t++]="bwipp.code11badCheckDigits#11744",r[t++]="Incorrect Code 11 check digits provided",z());e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0}e.sbs=J(S(e.barlen+e.numchecks)*6+12),e.txt=s(S(e.barlen+e.numchecks)),M(e.sbs,0,c(e.encs,11)),e.xpos=8;for(var y=0,w=e.barlen-1;y<=w;y+=1){e.i=y,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.i*6+6,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var v=0;v<=5;v+=1)e.xpos=S(c(e.enc,v)-48+e.xpos)}if(e.includecheck)if(e.barlen>=10){if(M(e.sbs,e.barlen*6+6,c(e.encs,e.checksum1)),M(e.sbs,e.barlen*6+12,c(e.encs,e.checksum2)),e.includecheckintext){b(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,e.checksum1);for(var g=0;g<=5;g+=1)e.xpos=S(c(e.enc,g)-48+e.xpos);b(e.txt,e.barlen+1,s([C(e.barchars,e.checksum2,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else b(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),b(e.txt,e.barlen+1,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,e.barlen*6+18,c(e.encs,11))}else M(e.sbs,e.barlen*6+6,c(e.encs,e.checksum1)),e.includecheckintext?b(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),M(e.sbs,e.barlen*6+12,c(e.encs,11));else M(e.sbs,e.barlen*6+6,c(e.encs,11));r[t++]=1/0,r[t++]=1/0;for(var A=e.sbs,k=0,E=A.length;k<E;k++)r[t++]=c(A,k)-48;var j=s();r[t++]=1/0;for(var N=0,B=~~((e.sbs.length+1)/2);N<B;N++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,T=~~((e.sbs.length+1)/2);D<T;D++)r[t++]=0;var R=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=R,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var $=Ge();r[t++]=$,e.dontdraw||Mt(),e=a}function ZR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.includestartstop=!1,e.semi=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.bc412emptyData#11864",r[t++]="The data must not be empty",z()),e.semi&&(e.includestartstop=!0),e.barchars="0R9GLVHA8EZ4NTS1J2Q6C7DYKBUIX3FWP5M",e.charvals=new Map;for(var n=0;n<=34;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.bc412badCharacter#11884",r[t++]="BC412 must contain only digits and capital letters except O",z())}if(e.semi){e.validatecheck?(e.barcode.length<8||e.barcode.length>19)&&(r[t++]="bwipp.bc412semivalidateBadLength#11892",r[t++]="BC412 semi with check digit must be 8 to 19 characters long",z()):(e.barcode.length<7||e.barcode.length>18)&&(r[t++]="bwipp.bc412semiBadLength#11896",r[t++]="BC412 semi must be 7 to 18 characters long",z()),e.barlen=e.barcode.length,e.validatecheck||(e.barlen=e.barlen+1,e.sbarcode=J(e.barlen),b(e.sbarcode,0,c(e.barcode,0)),b(e.sbarcode,1,48),M(e.sbarcode,2,C(e.barcode,1,e.barlen-2)),e.barcode=e.sbarcode),e.sumodd=0,e.sumeven=0;for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,r[t++]=c(e.charvals,C(e.barcode,e.i,1)),e.i%2==0?e.sumodd=S(r[--t]+e.sumodd):e.sumeven=S(r[--t]+e.sumeven);e.checksum=S(e.sumodd%35+e.sumeven%35*2)%35,e.validatecheck?e.checksum!=0&&(r[t++]="bwipp.bc412semiBadCheckDigit#11922",r[t++]="Incorrect BC412 semi check digit provided",z()):(e.checksum=e.checksum*17%35,b(e.barcode,1,c(e.barchars,e.checksum)))}else{if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var h=r[--t];r[t++]=h-1}var p=r[--t];e[r[--t]]=p,e.checksum=0;for(var m=0,x=e.barlen-1;m<=x;m+=1)e.checksum=S(c(e.charvals,C(e.barcode,m,1))+e.checksum);e.checksum=e.checksum%35,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.bc412badCheckDigit#11939",r[t++]="Incorrect BC412 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0)}e.encs=s(["11111115","13111212","11131113","12111213","12121311","13131111","12111312","11131212","11121411","11151111","15111111","11111511","12131211","13121112","13111311","11111214","12121113","11111313","13111113","11121213","11141112","11121312","11141211","14121111","12121212","11131311","13121211","12111411","14111211","11111412","12111114","14111112","12141111","11121114","12131112","12","111"]),e.sbs=J((e.barlen+1)*8+5),e.includecheck?e.txt=s(e.barlen+1):e.txt=s(e.barlen),e.includestartstop?(M(e.sbs,0,c(e.encs,35)),e.pos=2,e.txtpos=3):(e.pos=0,e.txtpos=0);for(var y=0,w=e.barlen-1;y<=w;y+=1)e.i=y,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.sbs,e.pos,c(e.encs,e.indx)),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8;e.includecheck&&(M(e.sbs,e.pos,c(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s(["",e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8),e.includestartstop&&(M(e.sbs,e.pos,c(e.encs,36)),e.pos=e.pos+3),e.sbs=C(e.sbs,0,e.pos),r[t++]=1/0,r[t++]=1/0;for(var v=e.sbs,g=0,A=v.length;g<A;g++)r[t++]=c(v,g)-48;var k=s();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=e.height;var N=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var T=Ge();r[t++]=T,e.dontdraw||Mt(),e=a}function eM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.altstartstop=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<2||e.barcode.length<3&&e.validatecheck)&&(r[t++]="bwipp.rationalizedCodabarBadLength#12067",r[t++]="Codabar must be at least 2 characters in length excluding any check digit",z()),e.encs=s(["11111331","11113311","11131131","33111111","11311311","31111311","13111131","13113111","13311111","31131111","11133111","11331111","31113131","31311131","31313111","11313131","11331311","13131131","11131331","11133311"]),e.barcharsnormal="0123456789-$:/.+ABCD",e.barcharsalt="0123456789-$:/.+TN*E";var n=e.altstartstop?e.barcharsalt:e.barcharsnormal;e.barchars=n,e.charvals=new Map;for(var i=0;i<=19;i+=1)b(e.charvals,C(e.barchars,i,1),i);e.bodyvals=new Map;for(var o=0;o<=15;o+=1)b(e.bodyvals,C(e.barchars,o,1),o);e.ssvals=new Map;for(var d=16;d<=19;d+=1)b(e.ssvals,C(e.barchars,d,1),d);var u=c(e.ssvals,C(e.barcode,0,1))!==void 0,f=c(e.ssvals,C(e.barcode,e.barcode.length-1,1))!==void 0;(!u||!f)&&(e.altstartstop?(r[t++]="bwipp.rationalizedCodabarBadAltStartStop#12099",r[t++]="Codabar start and stop characters must be one of E N T or *",z()):(r[t++]="bwipp.rationalizedCodabarBadStartStop#12101",r[t++]="Codabar start and stop characters must be one of A B C or D",z()));for(var h=1,p=e.barcode.length-2;h<=p;h+=1){var m=c(e.bodyvals,C(e.barcode,h,1))!==void 0;m||(r[t++]="bwipp.rationalizedCodabarBadCharacter#12106",r[t++]="Codabar body must contain only digits and symbols - $ : / . +",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var x=r[--t];r[t++]=x-1}var y=r[--t];e[r[--t]]=y,e.checksum=0;for(var w=0,v=e.barlen-2;w<=v;w+=1)e.checksum=S(c(e.charvals,C(e.barcode,w,1))+e.checksum);var g=C(e.barcode,e.barcode.length-1,1);if(e.checksum=S(c(e.charvals,g)+e.checksum),e.checksum=(16-e.checksum%16)%16,e.validatecheck){c(e.barcode,e.barlen-1)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.rationalizedCodabarBadCheckDigit#12122",r[t++]="Incorrect Codabar check digit provided",z());var A=J(e.barlen);M(A,0,C(e.barcode,0,e.barlen-1)),M(A,e.barlen-1,C(e.barcode,e.barlen,1)),e.barcode=A,e.includecheck=!0}if(r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var k=r[--t];r[t++]=k+1}var E=J(r[--t]*8);if(e[r[--t]]=E,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var j=r[--t];r[t++]=j+1}var N=s(r[--t]);e[r[--t]]=N,e.xpos=0;for(var B=0,I=e.barlen-2;B<=I;B+=1){e.i=B,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.i*8,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var D=0;D<=7;D+=1)e.xpos=S(c(e.enc,D)-48+e.xpos)}if(e.includecheck){M(e.sbs,e.barlen*8-8,c(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen-1,s([C(e.barchars,e.checksum,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen-1,s([" ",e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var T=0;T<=7;T+=1)e.xpos=S(c(c(e.encs,e.checksum),T)-48+e.xpos);e.indx=c(e.charvals,C(e.barcode,e.barlen-1,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.barlen*8,e.enc),b(e.txt,e.barlen,s([C(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else e.indx=c(e.charvals,C(e.barcode,e.barlen-1,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.barlen*8-8,e.enc),b(e.txt,e.barlen-1,s([C(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0,ve(e.sbs,function(){var fe=r[--t];r[t++]=fe-48});var R=s();r[t++]=1/0;for(var $=0,_=~~((e.sbs.length+1)/2);$<_;$++)r[t++]=e.height;var F=s();r[t++]=1/0;for(var Q=0,L=~~((e.sbs.length+1)/2);Q<L;Q++)r[t++]=0;var X=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=R,r[t++]="bhs",r[t++]=F,r[t++]="bbs",r[t++]=X,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var le=Ge();r[t++]=le,e.dontdraw||Mt(),e=a}function tM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.15,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,ve(e.barcode,function(){var ye=r[--t];(ye<48||ye>57)&&(r[t++]="bwipp.onecodeBadCharacter#12232",r[t++]="The data must contain only digits",z())}),e.barlen!=20&&e.barlen!=25&&e.barlen!=29&&e.barlen!=31&&(r[t++]="bwipp.onecodeInvalidLength#12237",r[t++]="The data must be 20, 25, 29 or 31 digits",z()),r[t++]=1/0;var n=Y(C(e.barcode,5,1),"9")?14:11;r[t++]=2,r[t++]=2,r[t++]=5,r[t++]=5,r[t++]=n,r[t++]=n,r[t++]=20,r[t++]=20,r[t++]=25,r[t++]=25,r[t++]=29,r[t++]=29,e.txtdict=Ge(),e.txt=s(e.barlen+6),e.spacecnt=0;for(var i=0,o=e.barlen-1;i<=o;i+=1){e.i=i;var d=c(e.txtdict,e.i)!==void 0;d&&(b(e.txt,e.i+e.spacecnt,s([" ",0,0,"",0])),e.spacecnt=e.spacecnt+1),b(e.txt,e.i+e.spacecnt,s([C(e.barcode,e.i,1),0,0,"",0]))}e.txt=C(e.txt,0,e.barcode.length+e.spacecnt),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var ye=e.num.length-1;ye>=1;ye-=1){e.i=ye;var Ye=e.num,Ae=e.i;b(Ye,Ae-1,S(c(Ye,Ae-1)+~~(c(e.num,e.i)/e.base))),b(e.num,e.i,c(e.num,e.i)%e.base)}for(;!xn(c(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,O(e.num),e.num=s(),b(e.num,0,S(c(e.num,0)+~~(c(e.num,1)/e.base))),b(e.num,1,c(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var Le=e.num,he=0,Pe=Le.length;he<Pe;he++){var Me=c(Le,he);r[t++]=Me,Me==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var ye=r[--t],Ye=r[--t];if(e.offset=Jo(ye.length-Ye.length),ye.length<Ye.length){var Ae=ye;ye=Ye,Ye=Ae}e.a=ye,e.b=Ye;for(var Le=0,he=e.b.length-1;Le<=he;Le+=1){var Pe=e.a,Me=e.offset;b(Pe,Le+Me,S(c(Pe,Le+Me)+c(e.b,Le)))}r[t++]=e.a};var u=new Map([[20,s([0])],[25,s([1])],[29,s([1,0,0,0,0,1])],[31,s([1,0,0,0,1,0,0,0,0,1])]]);e.startvals=u,r[t++]="binval",r[t++]=c(e.startvals,e.barlen),r[t++]=1/0;for(var f=C(e.barcode,20,e.barlen-20),h=0,p=f.length;h<p;h++)r[t++]=c(f,h)-48;var m=s();r[t++]=m,e.bigadd();var x=r[--t];e[r[--t]]=x,r[t++]=1/0,O(e.binval),r[t++]=c(e.barcode,0)-48,e.binval=s(),r[t++]=1/0;for(var y=e.binval,w=0,v=y.length;w<v;w++)r[t++]=c(y,w)*5;var g=s();r[t++]="binval",r[t++]=g,r[t++]=s([c(e.barcode,1)-48]),e.bigadd(),r[t++]=10,e.normalize();var A=r[--t];e[r[--t]]=A,r[t++]=1/0,O(e.binval);for(var k=C(e.barcode,2,18),E=0,j=k.length;E<j;E++)r[t++]=c(k,E)-48;e.binval=s(),e.bytes=s(13);var N=e.binval;e.bintmp=uc(s(N.length),N);for(var B=12;B>=0;B-=1){e.i=B;for(var I=0,D=e.bintmp.length-2;I<=D;I+=1){e.j=I;var T=e.bintmp,R=e.j;b(T,R+1,S(c(T,R+1)+c(e.bintmp,e.j)%256*10)),b(e.bintmp,e.j,~~(c(e.bintmp,e.j)/256))}b(e.bytes,e.i,c(e.bintmp,e.bintmp.length-1)%256);var $=e.bintmp,_=e.bintmp;b($,_.length-1,~~(c($,_.length-1)/256))}e.fcs=2047,e.dat=c(e.bytes,0)<<5;for(var F=0;F<6;F++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1;for(var Q=1;Q<=12;Q+=1){e.dat=c(e.bytes,Q)<<3;for(var L=0;L<8;L++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1}e.codewords=s(10);for(var X=9;X>=0;X-=1){e.i=X;var le=e.i==9?636:1365;e.b=le;for(var fe=0,V=e.binval.length-2;fe<=V;fe+=1){e.j=fe;var H=e.binval,se=e.j;b(H,se+1,S(c(H,se+1)+c(e.binval,e.j)%e.b*10)),b(e.binval,e.j,~~(c(e.binval,e.j)/e.b))}b(e.codewords,e.i,c(e.binval,e.binval.length-1)%e.b);var ue=e.binval,U=e.binval;b(ue,U.length-1,~~(c(ue,U.length-1)/e.b))}b(e.codewords,9,c(e.codewords,9)*2),e.fcs&1024&&b(e.codewords,0,c(e.codewords,0)+659),e.tab513=s([31,7936,47,7808,55,7552,59,7040,61,6016,62,3968,79,7744,87,7488,91,6976,93,5952,94,3904,103,7360,107,6848,109,5824,110,3776,115,6592,117,5568,118,3520,121,5056,122,3008,124,1984,143,7712,151,7456,155,6944,157,5920,158,3872,167,7328,171,6816,173,5792,174,3744,179,6560,181,5536,182,3488,185,5024,186,2976,188,1952,199,7264,203,6752,205,5728,206,3680,211,6496,213,5472,214,3424,217,4960,218,2912,220,1888,227,6368,229,5344,230,3296,233,4832,234,2784,236,1760,241,4576,242,2528,244,1504,248,992,271,7696,279,7440,283,6928,285,5904,286,3856,295,7312,299,6800,301,5776,302,3728,307,6544,309,5520,310,3472,313,5008,314,2960,316,1936,327,7248,331,6736,333,5712,334,3664,339,6480,341,5456,342,3408,345,4944,346,2896,348,1872,355,6352,357,5328,358,3280,361,4816,362,2768,364,1744,369,4560,370,2512,372,1488,376,976,391,7216,395,6704,397,5680,398,3632,403,6448,405,5424,406,3376,409,4912,410,2864,412,1840,419,6320,421,5296,422,3248,425,4784,426,2736,428,1712,433,4528,434,2480,436,1456,440,944,451,6256,453,5232,454,3184,457,4720,458,2672,460,1648,465,4464,466,2416,468,1392,472,880,481,4336,482,2288,484,1264,488,752,527,7688,535,7432,539,6920,541,5896,542,3848,551,7304,555,6792,557,5768,558,3720,563,6536,565,5512,566,3464,569,5e3,570,2952,572,1928,583,7240,587,6728,589,5704,590,3656,595,6472,597,5448,598,3400,601,4936,602,2888,604,1864,611,6344,613,5320,614,3272,617,4808,618,2760,620,1736,625,4552,626,2504,628,1480,632,968,647,7208,651,6696,653,5672,654,3624,659,6440,661,5416,662,3368,665,4904,666,2856,668,1832,675,6312,677,5288,678,3240,681,4776,682,2728,684,1704,689,4520,690,2472,692,1448,696,936,707,6248,709,5224,710,3176,713,4712,714,2664,716,1640,721,4456,722,2408,724,1384,728,872,737,4328,738,2280,740,1256,775,7192,779,6680,781,5656,782,3608,787,6424,789,5400,790,3352,793,4888,794,2840,796,1816,803,6296,805,5272,806,3224,809,4760,810,2712,812,1688,817,4504,818,2456,820,1432,824,920,835,6232,837,5208,838,3160,841,4696,842,2648,844,1624,849,4440,850,2392,852,1368,865,4312,866,2264,868,1240,899,6200,901,5176,902,3128,905,4664,906,2616,908,1592,913,4408,914,2360,916,1336,929,4280,930,2232,932,1208,961,4216,962,2168,964,1144,1039,7684,1047,7428,1051,6916,1053,5892,1054,3844,1063,7300,1067,6788,1069,5764,1070,3716,1075,6532,1077,5508,1078,3460,1081,4996,1082,2948,1084,1924,1095,7236,1099,6724,1101,5700,1102,3652,1107,6468,1109,5444,1110,3396,1113,4932,1114,2884,1116,1860,1123,6340,1125,5316,1126,3268,1129,4804,1130,2756,1132,1732,1137,4548,1138,2500,1140,1476,1159,7204,1163,6692,1165,5668,1166,3620,1171,6436,1173,5412,1174,3364,1177,4900,1178,2852,1180,1828,1187,6308,1189,5284,1190,3236,1193,4772,1194,2724,1196,1700,1201,4516,1202,2468,1204,1444,1219,6244,1221,5220,1222,3172,1225,4708,1226,2660,1228,1636,1233,4452,1234,2404,1236,1380,1249,4324,1250,2276,1287,7188,1291,6676,1293,5652,1294,3604,1299,6420,1301,5396,1302,3348,1305,4884,1306,2836,1308,1812,1315,6292,1317,5268,1318,3220,1321,4756,1322,2708,1324,1684,1329,4500,1330,2452,1332,1428,1347,6228,1349,5204,1350,3156,1353,4692,1354,2644,1356,1620,1361,4436,1362,2388,1377,4308,1378,2260,1411,6196,1413,5172,1414,3124,1417,4660,1418,2612,1420,1588,1425,4404,1426,2356,1441,4276,1442,2228,1473,4212,1474,2164,1543,7180,1547,6668,1549,5644,1550,3596,1555,6412,1557,5388,1558,3340,1561,4876,1562,2828,1564,1804,1571,6284,1573,5260,1574,3212,1577,4748,1578,2700,1580,1676,1585,4492,1586,2444,1603,6220,1605,5196,1606,3148,1609,4684,1610,2636,1617,4428,1618,2380,1633,4300,1634,2252,1667,6188,1669,5164,1670,3116,1673,4652,1674,2604,1681,4396,1682,2348,1697,4268,1698,2220,1729,4204,1730,2156,1795,6172,1797,5148,1798,3100,1801,4636,1802,2588,1809,4380,1810,2332,1825,4252,1826,2204,1857,4188,1858,2140,1921,4156,1922,2108,2063,7682,2071,7426,2075,6914,2077,5890,2078,3842,2087,7298,2091,6786,2093,5762,2094,3714,2099,6530,2101,5506,2102,3458,2105,4994,2106,2946,2119,7234,2123,6722,2125,5698,2126,3650,2131,6466,2133,5442,2134,3394,2137,4930,2138,2882,2147,6338,2149,5314,2150,3266,2153,4802,2154,2754,2161,4546,2162,2498,2183,7202,2187,6690,2189,5666,2190,3618,2195,6434,2197,5410,2198,3362,2201,4898,2202,2850,2211,6306,2213,5282,2214,3234,2217,4770,2218,2722,2225,4514,2226,2466,2243,6242,2245,5218,2246,3170,2249,4706,2250,2658,2257,4450,2258,2402,2273,4322,2311,7186,2315,6674,2317,5650,2318,3602,2323,6418,2325,5394,2326,3346,2329,4882,2330,2834,2339,6290,2341,5266,2342,3218,2345,4754,2346,2706,2353,4498,2354,2450,2371,6226,2373,5202,2374,3154,2377,4690,2378,2642,2385,4434,2401,4306,2435,6194,2437,5170,2438,3122,2441,4658,2442,2610,2449,4402,2465,4274,2497,4210,2567,7178,2571,6666,2573,5642,2574,3594,2579,6410,2581,5386,2582,3338,2585,4874,2586,2826,2595,6282,2597,5258,2598,3210,2601,4746,2602,2698,2609,4490,2627,6218,2629,5194,2630,3146,2633,4682,2641,4426,2657,4298,2691,6186,2693,5162,2694,3114,2697,4650,2705,4394,2721,4266,2753,4202,2819,6170,2821,5146,2822,3098,2825,4634,2833,4378,2849,4250,2881,4186,2945,4154,3079,7174,3083,6662,3085,5638,3086,3590,3091,6406,3093,5382,3094,3334,3097,4870,3107,6278,3109,5254,3110,3206,3113,4742,3121,4486,3139,6214,3141,5190,3145,4678,3153,4422,3169,4294,3203,6182,3205,5158,3209,4646,3217,4390,3233,4262,3265,4198,3331,6166,3333,5142,3337,4630,3345,4374,3361,4246,3393,4182,3457,4150,3587,6158,3589,5134,3593,4622,3601,4366,3617,4238,3649,4174,3713,4142,3841,4126,4111,7681,4119,7425,4123,6913,4125,5889,4135,7297,4139,6785,4141,5761,4147,6529,4149,5505,4153,4993,4167,7233,4171,6721,4173,5697,4179,6465,4181,5441,4185,4929,4195,6337,4197,5313,4201,4801,4209,4545,4231,7201,4235,6689,4237,5665,4243,6433,4245,5409,4249,4897,4259,6305,4261,5281,4265,4769,4273,4513,4291,6241,4293,5217,4297,4705,4305,4449,4359,7185,4363,6673,4365,5649,4371,6417,4373,5393,4377,4881,4387,6289,4389,5265,4393,4753,4401,4497,4419,6225,4421,5201,4425,4689,4483,6193,4485,5169,4489,4657,4615,7177,4619,6665,4621,5641,4627,6409,4629,5385,4633,4873,4643,6281,4645,5257,4649,4745,4675,6217,4677,5193,4739,6185,4741,5161,4867,6169,4869,5145,5127,7173,5131,6661,5133,5637,5139,6405,5141,5381,5155,6277,5157,5253,5187,6213,5251,6181,5379,6165,5635,6157,6151,7171,6155,6659,6163,6403,6179,6275,6211,5189,4681,4433,4321,3142,2634,2386,2274,1612,1364,1252,856,744,496]),e.tab213=s([3,6144,5,5120,6,3072,9,4608,10,2560,12,1536,17,4352,18,2304,20,1280,24,768,33,4224,34,2176,36,1152,40,640,48,384,65,4160,66,2112,68,1088,72,576,80,320,96,192,129,4128,130,2080,132,1056,136,544,144,288,257,4112,258,2064,260,1040,264,528,513,4104,514,2056,516,1032,1025,4100,1026,2052,2049,4098,4097,2050,1028,520,272,160]),e.chars=s(10);for(var W=0;W<=9;W+=1){e.i=W;var re=c(e.codewords,e.i);if(r[t++]=re,re<=1286){var ie=c(e.tab513,r[--t]);r[t++]=ie}else{var be=c(e.tab213,r[--t]-1287);r[t++]=be}r[t++]=e.chars,r[t++]=e.i;var K=r[t-3],ke=r[t-1];b(r[t-2],ke,K),t-=3}for(var je=9;je>=0;je-=1)e.i=je,~~di(2,e.i)&e.fcs&&b(e.chars,e.i,c(e.chars,e.i)^8191);e.barmap=s([7,2,4,3,1,10,0,0,9,12,2,8,5,5,6,11,8,9,3,1,0,1,5,12,2,5,1,8,4,4,9,11,6,3,8,10,3,9,7,6,5,11,1,4,8,5,2,12,9,10,0,2,7,1,6,7,3,6,4,9,0,3,8,6,6,4,2,7,1,1,9,9,7,10,5,2,4,0,3,8,6,2,0,4,8,11,1,0,9,8,3,12,2,6,7,7,5,1,4,10,1,12,6,9,7,3,8,0,5,8,9,7,4,6,2,10,3,4,0,5,8,4,5,7,7,11,1,9,6,0,9,6,0,6,4,8,2,1,3,2,5,9,8,12,4,11,6,1,9,5,7,4,3,3,1,2,0,7,2,0,1,3,4,1,6,10,3,5,8,7,9,4,2,11,5,6,0,8,7,12,4,2,8,1,5,10,3,0,9,3,0,9,6,5,2,4,7,8,1,7,5,0,4,5,2,3,0,10,6,12,9,2,3,11,1,6,8,8,7,9,5,4,0,11,1,5,2,2,9,1,4,12,8,3,6,6,7,0,3,7,4,7,7,5,0,12,1,11,2,9,9,0,6,8,5,3,3,10,8,2]),e.bbs=s(65),e.bhs=s(65);for(var Qe=0;Qe<=64;Qe+=1)e.i=Qe,e.dec=(c(e.chars,c(e.barmap,e.i*4))&~~di(2,c(e.barmap,e.i*4+1)))!=0,e.asc=(c(e.chars,c(e.barmap,e.i*4+2))&~~di(2,c(e.barmap,e.i*4+3)))!=0,!e.dec&&!e.asc&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8)),!e.dec&&e.asc&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),e.dec&&!e.asc&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),e.dec&&e.asc&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var ze=e.bbs,tt=e.bhs;r[t++]=1/0;for(var Ze=0,Re=e.bhs.length-1;Ze<Re;Ze++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var He=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=ze,r[t++]="bhs",r[t++]=tt,r[t++]="sbs",r[t++]=He,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="left",r[t++]="textfont",r[t++]="OCR-B",r[t++]="textyoffset",r[t++]=1,r[t++]="textxoffset",r[t++]=-.3,r[t++]="opt",r[t++]=e.options;var Ue=Ge();r[t++]=Ue,e.dontdraw||Mt(),e=a}function rM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=5&&e.barlen!=9&&e.barlen!=11&&(r[t++]="bwipp.postnetBadLength#12597",r[t++]="USPS POSTNET must be 5, 9 or 11 digits excluding check digit",z()),ve(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.postnetBadCharacter#12601",r[t++]="USPS POSTNET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["55222","22255","22525","22552","25225","25252","25522","52225","52252","52522","5","5"]),e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1)e.i=o,e.checksum=S(e.checksum+(c(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.postnetBadCheckDigit#12625",r[t++]="Incorrect USPS POSTNET check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=c(e.encs,10),e.heights=s(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=c(e.encs,c(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.i*5+1,e.heights),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=c(e.encs,e.checksum),e.heights=s(e.enc.length);for(var y=0,w=e.enc.length-1;y<=w;y+=1)e.j=y,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?b(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,11),e.heights=s(e.enc.length);for(var v=0,g=e.enc.length-1;v<=g;v+=1)e.j=v,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var k=0,E=e.bhs.length;k<E;k++)r[t++]=0;var j=s();r[t++]=1/0;for(var N=0,B=e.bhs.length-1;N<B;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=Ge();r[t++]=D,e.dontdraw||Mt(),e=a}function aM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=11&&e.barlen!=13&&(r[t++]="bwipp.planetBadLength#12745",r[t++]="USPS PLANET must be 11 or 13 digits excluding check digit",z()),ve(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.planetBadCharacter#12749",r[t++]="USPS PLANET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["22555","55522","55252","55225","52552","52525","52255","25552","25525","25255","5","5"]),e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1)e.i=o,e.checksum=S(e.checksum+(c(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.planetBadCheckDigit#12774",r[t++]="Incorrect USPS PLANET check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=c(e.encs,10),e.heights=s(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=c(e.encs,c(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.i*5+1,e.heights),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=c(e.encs,e.checksum),e.heights=s(e.enc.length);for(var y=0,w=e.enc.length-1;y<=w;y+=1)e.j=y,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?b(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,11),e.heights=s(e.enc.length);for(var v=0,g=e.enc.length-1;v<=g;v+=1)e.j=v,b(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var k=0,E=e.bhs.length;k<E;k++)r[t++]=0;var j=s();r[t++]=1/0;for(var N=0,B=e.bhs.length-1;N<B;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=Ge();r[t++]=D,e.dontdraw||Mt(),e=a}function sM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.royalmailEmptyData#12889",r[t++]="The data must not be empty",z()),e.barchars="ZUVWXY501234B6789AHCDEFGNIJKLMTOPQRS",e.charvals=new Map;for(var n=0;n<=35;n+=1)b(e.charvals,C(e.barchars,n,1),n);e.encs=s(["3300","2211","2301","2310","3201","3210","1122","0033","0123","0132","1023","1032","1302","0213","0303","0312","1203","1212","1320","0231","0321","0330","1221","1230","3102","2013","2103","2112","3003","3012","3120","2031","2121","2130","3021","3030","2","3"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.royalmailBadCharacter#12915",r[t++]="RM4SCC must contain only capital letters and digits",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksumrow=0,e.checksumcol=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.checksumrow=e.checksumrow+~~(e.indx/6),e.checksumcol=S(e.checksumcol+e.indx%6);e.checksum=S(e.checksumrow%6*6+e.checksumcol%6),e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.royalmailBadCheckDigit#12932",r[t++]="Incorrect RM4SCC check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.encstr=J(e.barlen*4+6),e.txt=s(e.barlen+1),M(e.encstr,0,c(e.encs,36));for(var m=0,x=e.barlen-1;m<=x;m+=1)e.i=m,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.encstr,e.i*4+1,c(e.encs,e.indx)),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*4+1)*3.312,e.textyoffset,e.textfont,e.textsize]));M(e.encstr,e.barlen*4+1,c(e.encs,e.checksum)),e.includecheckintext?b(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.barlen,s([" ",(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])),M(e.encstr,e.barlen*4+5,c(e.encs,37)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var y=0,w=e.encstr.length-1;y<=w;y+=1)e.i=y,e.enc=C(e.encstr,e.i,1),Y(e.enc,"0")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8)),Y(e.enc,"1")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"2")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"3")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var v=e.bbs,g=e.bhs;r[t++]=1/0;for(var A=0,k=e.bhs.length-1;A<k;A++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var E=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=v,r[t++]="bhs",r[t++]=g,r[t++]="sbs",r[t++]=E,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var j=Ge();r[t++]=j,e.dontdraw||Mt(),e=a}function nM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,e.custinfoenc="character",r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],_e(e.custinfoenc,"character")&&_e(e.custinfoenc,"numeric")&&(r[t++]="bwipp.auspostBadCustinfoEncoding#13045",r[t++]="Customer information encoding must be either character or numeric",z()),e.encs=s(["000","001","002","010","011","012","020","021","022","100","101","102","110","111","112","120","121","122","200","201","202","210","211","212","220","221","222","300","301","302","310","311","312","320","321","322","023","030","031","032","033","103","113","123","130","131","132","133","203","213","223","230","231","232","233","303","313","323","330","331","332","333","003","013","00","01","02","10","11","12","20","21","22","30","13","3"]),e.barchars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz #";var n=new Map([["11",37],["45",37],["59",52],["62",67]]);e.fcclen=n,e.barlen=e.barcode.length,e.barlen<10&&(r[t++]="bwipp.auspostTooShort#13075",r[t++]="The data length must be at least 10",z()),e.txt=s(e.barlen-2),r[t++]=e.fcclen,e.barlen>=2?r[t++]=C(e.barcode,0,2):r[t++]="";var i=r[t-1],o=r[t-2],d=c(o,i)!==void 0;d||(t-=2,r[t++]="bwipp.auspostBadFCC#13082",r[t++]="Must begin with an FCC, either 11, 45, 59 or 62",z());var u=r[--t];e.encstr=J(c(r[--t],u)),r[t++]=!0;for(var f=0;f<1;f++){if(e.barlen<10){r[t-1]=!1;break}for(var h=C(e.barcode,2,8),p=0,m=h.length;p<m;p++){var x=c(h,p);if(x<48||x>57){r[t-1]=!1;break}}}r[--t]||(r[t++]="bwipp.auspostIncompleteDPID#13093",r[t++]="The DPID must be 8 digits",z());var y=Y(e.custinfoenc,"numeric")?2:3;(e.barlen-10)*y>e.encstr.length-22-14&&(r[t++]="bwipp.auspostTooLong#13099",r[t++]="The message is too long",z()),M(e.encstr,0,c(e.encs,74));for(var w=0;w<=1;w+=1)e.i=w,M(e.encstr,e.i*2+2,c(e.encs,Fe(C(e.barcode,e.i,1))+64));for(var v=2;v<=9;v+=1)e.i=v,M(e.encstr,e.i*2+2,c(e.encs,Fe(C(e.barcode,e.i,1))+64)),b(e.txt,e.i-2,s([C(e.barcode,e.i,1),((e.i-2)*2+6)*3.312,e.textyoffset,e.textfont,e.textsize]));if(Y(e.custinfoenc,"numeric")){for(var g=0,A=e.barlen-11;g<=A;g+=1){e.i=g;var k=c(e.barcode,e.i+10);r[t++]=e.encs,r[t++]=k,(k<48||k>57)&&(r[t++]="bwipp.auspostInvalidCustinfoDigit#13126",r[t++]="The customer information data contains a non-digit character",z());var E=r[--t];M(e.encstr,e.i*2+22,c(r[--t],E-48+64)),b(e.txt,e.i+8,s([C(e.barcode,e.i+10,1),(e.i*2+22)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.ciflen=(e.barlen-10)*2}else{for(var j=0,N=e.barlen-11;j<=N;j+=1)e.i=j,Rt(e.barchars,C(e.barcode,e.i+10,1)),r[--t]||(t--,r[t++]="bwipp.auspostInvalidCustinfoCharacter#13138",r[t++]="The customer information contains an invalid character",z()),e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.encstr,e.i*3+22,e.enc),b(e.txt,e.i+8,s([C(e.barcode,e.i+10,1),(e.i*3+22)*3.312,e.textyoffset,e.textfont,e.textsize]));e.ciflen=(e.barlen-10)*3}for(var B=22+e.ciflen,I=e.encstr.length-14;B<=I;B+=1)M(e.encstr,B,c(e.encs,75));e.rstable=s(64*64),r[t++]=e.rstable,r[t++]=0,r[t++]=1/0;for(var D=0;D<64;D++)r[t++]=0;var T=s(),R=r[--t];M(r[--t],R,T),r[t++]=e.rstable,r[t++]=64,r[t++]=1/0;for(var $=0;$<=63;$+=1)r[t++]=$;var _=s(),F=r[--t];M(r[--t],F,_),e.prev=1;for(var Q=0;Q<64;Q++){e.next=e.prev<<1,e.next&64&&(e.next=e.next^67);for(var L=0;L<=63;L+=1){e.j=L,e.nextcell=function(){r[t++]=e.rstable,r[t++]=64*e.next+e.j},e.nextcell();var X=r[--t];b(r[--t],X,c(e.rstable,64*e.prev+e.j)<<1),e.nextcell();var le=r[--t];if(c(r[--t],le)&64){e.nextcell(),e.nextcell();var fe=r[--t],V=c(r[--t],fe),H=r[--t];b(r[--t],H,V^67)}}e.prev=e.next}e.rscodes=s(~~((e.encstr.length-16)/3)+4),r[t++]=e.rscodes,r[t++]=0,r[t++]=1/0;for(var se=0;se<4;se++)r[t++]=0;var ue=s(),U=r[--t];M(r[--t],U,ue);for(var W=2,re=e.encstr.length-16;W<=re;W+=3)e.i=W,b(e.rscodes,e.rscodes.length-~~((e.i-2)/3)-1,Fe(C(e.encstr,e.i,1))*16+Fe(C(e.encstr,e.i+1,1))*4+Fe(C(e.encstr,e.i+2,1)));for(var ie=e.rscodes.length-5;ie>=0;ie-=1){e.i=ie;for(var be=0;be<=4;be+=1)e.j=be,b(e.rscodes,e.i+e.j,ps(c(e.rscodes,e.i+e.j),c(e.rstable,S(64*c(s([48,17,29,30,1]),e.j)+c(e.rscodes,e.i+4)))))}e.checkcode=_r(J(12),"000000000000");for(var K=0;K<=3;K+=1)e.i=K,e.enc=$t(J(3),c(e.rscodes,3-e.i),4),M(e.checkcode,e.i*3+(3-e.enc.length),e.enc);M(e.encstr,e.encstr.length-14,e.checkcode),M(e.encstr,e.encstr.length-2,c(e.encs,74)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var ke=0,je=e.encstr.length-1;ke<=je;ke+=1)e.i=ke,e.enc=C(e.encstr,e.i,1),Y(e.enc,"0")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8)),Y(e.enc,"1")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"2")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"3")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var Qe=e.bbs,ze=e.bhs;r[t++]=1/0;for(var tt=0,Ze=e.bhs.length-1;tt<Ze;tt++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Re=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Qe,r[t++]="bhs",r[t++]=ze,r[t++]="sbs",r[t++]=Re,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var He=Ge();r[t++]=He,e.dontdraw||Mt(),e=a}function iM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.kixEmptyData#13291",r[t++]="The data must not be empty",z()),e.encs=s(["0033","0123","0132","1023","1032","1122","0213","0303","0312","1203","1212","1302","0231","0321","0330","1221","1230","1320","2013","2103","2112","3003","3012","3102","2031","2121","2130","3021","3030","3120","2211","2301","2310","3201","3210","3300"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.charvals=new Map;for(var n=0;n<=35;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.kixBadCharacter#13316",r[t++]="KIX must contain only capital letters and digits",z())}e.barlen=e.barcode.length,e.encstr=J(e.barlen*4),e.txt=s(e.barlen);for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.encstr,e.i*4,c(e.encs,e.indx)),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*4*3.312,e.textyoffset,e.textfont,e.textsize]));e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var h=0,p=e.encstr.length-1;h<=p;h+=1)e.i=h,e.enc=C(e.encstr,e.i,1),Y(e.enc,"0")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8)),Y(e.enc,"1")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"2")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"3")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var m=e.bbs,x=e.bhs;r[t++]=1/0;for(var y=0,w=e.bhs.length-1;y<w;y++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var v=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=m,r[t++]="bhs",r[t++]=x,r[t++]="sbs",r[t++]=v,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var g=Ge();r[t++]=g,e.dontdraw||Mt(),e=a}function oM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.japanpostEmptyData#13415",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var v=r[--t];v>=48&&v<=57||v>=65&&v<=90||v==45||(r[t++]="bwipp.japanpostBadCharacter#13425",r[t++]="Japan Post must contain only digits, capital letters and the dash symbol",z())}),e.encs=s(["300","330","312","132","321","303","123","231","213","033","030","120","102","210","012","201","021","003","333","31","13"]),e.barchars="0123456789-ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.barlen=e.barcode.length,e.encstr=J(21*3+4),e.digits=s(20),e.txt=s(e.barlen+1),M(e.encstr,0,c(e.encs,19)),e.checksum=0,e.j=0,e.i=0,r[t++]=!0;for(var n=0,i=e.barlen-1;n<=i;n+=1){if(e.i=n,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.indx>=11&&e.indx<37){if(e.j>18){r[t-1]=!1;break}e.digit=~~((e.indx-1)/10)+10,M(e.encstr,e.j*3+2,c(e.encs,e.digit)),e.checksum=e.checksum+e.digit,b(e.digits,e.j,e.digit),e.j=e.j+1}if(e.j>19){r[t-1]=!1;break}e.digit=0,e.indx==37&&(e.digit=14),e.indx>=11&&e.indx<37&&(e.digit=(e.indx-1)%10),e.indx<11&&(e.digit=e.indx),M(e.encstr,e.j*3+2,c(e.encs,e.digit)),e.checksum=e.checksum+e.digit,b(e.digits,e.j,e.digit),b(e.txt,e.i,s([C(e.barcode,e.i,1),(e.j*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),e.j=e.j+1}r[--t]||(r[t++]="bwipp.japanpostTooLong#13489",r[t++]="The input is too long",z());for(var o=e.j,d=19;o<=d;o+=1)e.k=o,M(e.encstr,e.k*3+2,c(e.encs,14)),e.checksum=e.checksum+14,b(e.digits,e.k,14);e.checksum=19-e.checksum%19,M(e.encstr,2+20*3,c(e.encs,e.checksum)),M(e.encstr,2+21*3,c(e.encs,20)),e.checkdigit=" ",e.includecheckintext&&(e.checkdigit=C(e.barchars,e.checksum,1)),b(e.txt,e.i+1,s([e.checkdigit,(20*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),M(e.encstr,21*3+2,c(e.encs,20)),e.bbs=s(21*3+4),e.bhs=s(e.bbs.length);for(var u=0,f=e.bbs.length-1;u<=f;u+=1)e.i=u,e.enc=C(e.encstr,e.i,1),e.bunit=0,e.hunit=0,Y(e.enc,"0")&&(e.bunit=3,e.hunit=2),Y(e.enc,"1")&&(e.bunit=0,e.hunit=5),Y(e.enc,"2")&&(e.bunit=3,e.hunit=5),Y(e.enc,"3")&&(e.bunit=0,e.hunit=8),b(e.bbs,e.i,e.bunit*e.height/8),b(e.bhs,e.i,e.hunit*e.height/8);r[t++]=1/0;var h=e.bbs,p=e.bhs;r[t++]=1/0;for(var m=0,x=e.bhs.length-1;m<x;m++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=h,r[t++]="bhs",r[t++]=p,r[t++]="sbs",r[t++]=y,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var w=Ge();r[t++]=w,e.dontdraw||Mt(),e=a}function lM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.checktype="unset",e.badmod11=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],_e(e.checktype,"unset")&&!e.includecheck&&(r[t++]="bwipp.msiCheckTypeWithoutCheck#13606",r[t++]="checktype requires includecheck",z()),e.badmod11&&_e(e.checktype,"mod11")&&_e(e.checktype,"ncrmod11")&&_e(e.checktype,"mod1110")&&_e(e.checktype,"ncrmod1110")&&(r[t++]="bwipp.msiBadMod11Mismatch#13610",r[t++]="badmod11 requires checktype with mod11",z()),Y(e.checktype,"unset")&&(e.checktype="mod10"),ve(e.barcode,function(){var B=r[--t];(B<48||B>57)&&(r[t++]="bwipp.msiBadCharacter#13620",r[t++]="MSI must contain only digits",z())}),e.encs=s(["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221","21","121"]),e.barchars="0123456789",e.barlen=e.barcode.length,e.txtlen=e.barlen,e.mod10=function(){e.code=r[--t],r[t++]=0,r[t++]=0,ve(e.code,function(){var L=r[--t],X=r[--t],le=r[--t];r[t++]=S(L-48+X*10),r[t++]=le}),t--;var B=r[--t];for(r[t++]=B*2,r[t++]=0;;){var I=r[--t],D=r[--t],T=~~(D/10);if(r[t++]=S(I+D%10),r[t++]=T,T==0){t--;break}var R=r[--t],$=r[--t];r[t++]=R,r[t++]=$}r[t++]=0,r[t++]=0,ve(e.code,function(){var L=r[--t],X=r[--t],le=r[--t];r[t++]=S(X+(L-48)),r[t++]=le});var _=r[--t];r[t-1]=_;var F=r[--t],Q=J(e.code.length+1);M(Q,0,e.code),b(Q,e.code.length,(10-S(r[--t]+F)%10)%10+48),r[t++]=Q},e.mod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ve(e.code,function(){var X=r[--t],le=r[--t];r[t++]=X-48,r[t++]=le%6+2,r[t++]=le-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],T=r[t-3],R=r[t-1];t-=3,r[t++]=S(R+T*D)}var $=(11-r[--t]%11)%11;if(r[t++]=$,$==10)if(e.badmod11){t--;var _=J(e.code.length+2);M(_,0,e.code),M(_,e.code.length,"10"),r[t++]=_}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13657",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var F=J(e.code.length+1);M(F,0,e.code),r[t++]=F,r[t++]=F,r[t++]=e.code.length,Sa(4,-1);var Q=r[--t],L=r[--t];b(r[--t],L,Q+48)}},e.ncrmod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ve(e.code,function(){var X=r[--t],le=r[--t];r[t++]=X-48,r[t++]=le%8+2,r[t++]=le-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],T=r[t-3],R=r[t-1];t-=3,r[t++]=S(R+T*D)}var $=(11-r[--t]%11)%11;if(r[t++]=$,$==10)if(e.badmod11){t--;var _=J(e.code.length+2);M(_,0,e.code),M(_,e.code.length,"10"),r[t++]=_}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13673",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var F=J(e.code.length+1);M(F,0,e.code),r[t++]=F,r[t++]=F,r[t++]=e.code.length,Sa(4,-1);var Q=r[--t],L=r[--t];b(r[--t],L,Q+48)}};var n=new Map([["mod10",function(){e.mod10()}],["mod1010",function(){e.mod10(),e.mod10()}],["mod11",function(){e.mod11()}],["ncrmod11",function(){e.ncrmod11()}],["mod1110",function(){e.mod11(),e.mod10()}],["ncrmod1110",function(){e.ncrmod11(),e.mod10()}]]);if(e.checkfunc=n,e.includecheck){var i=e.checkfunc,o=e.checktype,d=c(i,o)!==void 0;r[t++]=i,r[t++]=o,d||(t-=2,r[t++]="bwipp.msiBadCharacter#13694",r[t++]="MSI checktype must be mod10, mod1010, mod11, ncrmod11, mod1110 or ncrmod1110",z());var u=r[--t],f=c(r[--t],u);if(r[t++]=e.barcode,f()===!0)return!0;e.barcode=r[--t],e.barlen=e.barcode.length,e.includecheckintext&&(e.txtlen=e.barlen)}e.sbs=J(e.barlen*8+5),e.txt=s(e.barlen),M(e.sbs,0,c(e.encs,10));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*8+2,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*12+3,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,e.barlen*8+2,c(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var m=e.sbs,x=0,y=m.length;x<y;x++)r[t++]=c(m,x)-48;var w=s();r[t++]=1/0;for(var v=0,g=~~((e.sbs.length+1)/2);v<g;v++)r[t++]=e.height;var A=s();r[t++]=1/0;for(var k=0,E=~~((e.sbs.length+1)/2);k<E;k++)r[t++]=0;var j=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=w,r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,e.includetext&&(r[t++]="txt",r[t++]=C(e.txt,0,e.txtlen)),r[t++]="opt",r[t++]=e.options;var N=Ge();r[t++]=N,e.dontdraw||Mt(),e=a}function cM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.unidirectional=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.plesseyEmptyData#13785",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEF",e.charvals=new Map;for(var n=0;n<=15;n+=1)b(e.charvals,C(e.barchars,n,1),n);e.encs=s(["14141414","32141414","14321414","32321414","14143214","32143214","14323214","32323214","14141432","32141432","14321432","32321432","14143232","32143232","14323232","32323232","32321432","541412323","323"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.plesseyBadCharacter#13809",r[t++]="Plessey must contain only digits and letters A B C D E F",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-2}var f=r[--t];e[r[--t]]=f,e.checkbits=s(e.barlen*4+8),M(e.checkbits,e.barlen*4,s([0,0,0,0,0,0,0,0]));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.checkbits,e.i*4,s([e.indx&1,e.indx>>>1&1,e.indx>>>2&1,e.indx>>>3]));e.checksalt=s([1,1,1,1,0,1,0,0,1]);for(var m=0,x=e.barlen*4-1;m<=x;m+=1)if(e.i=m,c(e.checkbits,e.i)==1)for(var y=0;y<=8;y+=1)e.j=y,b(e.checkbits,e.i+e.j,ps(c(e.checkbits,e.i+e.j),c(e.checksalt,e.j)));e.checkval=0;for(var w=0;w<=7;w+=1)e.i=w,e.checkval=S(e.checkval+~~di(2,e.i)*c(e.checkbits,S(e.barlen*4+e.i)));e.checksum1=e.checkval&15,e.checksum2=e.checkval>>>4,e.validatecheck&&((c(e.barcode,e.barlen)!=c(e.barchars,e.checksum1)||c(e.barcode,e.barlen+1)!=c(e.barchars,e.checksum2))&&(r[t++]="bwipp.plesseyBadCheckDigits#13848",r[t++]="Incorrect Plessey check digits provided",z()),e.barcode=C(e.barcode,0,e.barlen));var v=e.unidirectional?27:33;e.sbs=J(S(e.barlen*8+v)),e.txt=s(e.barlen+2),M(e.sbs,0,c(e.encs,16));for(var g=0,A=e.barlen-1;g<=A;g+=1)e.i=g,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.sbs,e.i*8+8,c(e.encs,e.indx)),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*20+20,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,e.barlen*8+8,c(e.encs,e.checksum1)),M(e.sbs,e.barlen*8+16,c(e.encs,e.checksum2)),e.includecheckintext?(b(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),b(e.txt,e.barlen+1,s([C(e.barchars,e.checksum2,1),(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize]))):(b(e.txt,e.barlen,s([" ",e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),b(e.txt,e.barlen+1,s([" ",(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize])));var k=e.unidirectional?18:17;M(e.sbs,e.barlen*8+24,c(e.encs,k)),r[t++]=1/0,r[t++]=1/0;for(var E=e.sbs,j=0,N=E.length;j<N;j++)r[t++]=c(E,j)-48;var B=s();r[t++]=1/0;for(var I=0,D=~~((e.sbs.length+1)/2);I<D;I++)r[t++]=e.height;var T=s();r[t++]=1/0;for(var R=0,$=~~((e.sbs.length+1)/2);R<$;R++)r[t++]=0;var _=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=B,r[t++]="bhs",r[t++]=T,r[t++]="bbs",r[t++]=_,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var F=Ge();r[t++]=F,e.dontdraw||Mt(),e=a}function $w(){var a=e;e=Object.assign({},e),e.numeric=!1,e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];for(e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.numeric&&e.barlen%2!=0&&(r[t++]="bwipp.telepenNumericOddLength#13955",r[t++]="Telepen Numeric must have an even length",z()),e.encs=s(["31313131","1131313111","33313111","1111313131","3111313111","11333131","13133131","111111313111","31333111","1131113131","33113131","1111333111","3111113131","1113133111","1311133111","111111113131","3131113111","11313331","333331","111131113111","31113331","1133113111","1313113111","1111113331","31131331","113111113111","3311113111","1111131331","311111113111","1113111331","1311111331","11111111113111","31313311","1131311131","33311131","1111313311","3111311131","11333311","13133311","111111311131","31331131","1131113311","33113311","1111331131","3111113311","1113131131","1311131131","111111113311","3131111131","1131131311","33131311","111131111131","3111131311","1133111131","1313111131","111111131311","3113111311","113111111131","3311111131","111113111311","311111111131","111311111311","131111111311","11111111111131","3131311111","11313133","333133","111131311111","31113133","1133311111","1313311111","1111113133","313333","113111311111","3311311111","11113333","311111311111","11131333","13111333","11111111311111","31311133","1131331111","33331111","1111311133","3111331111","11331133","13131133","111111331111","3113131111","1131111133","33111133","111113131111","3111111133","111311131111","131111131111","111111111133","31311313","113131111111","3331111111","1111311313","311131111111","11331313","13131313","11111131111111","3133111111","1131111313","33111313","111133111111","3111111313","111313111111","131113111111","111111111313","313111111111","1131131113","33131113","11113111111111","3111131113","113311111111","131311111111","111111131113","3113111113","11311111111111","331111111111","111113111113","31111111111111","111311111113","131111111113","1111111111111111"]),e.sbs=J(e.barlen*16+48),e.txt=s(e.barlen),e.enc=c(e.encs,95),M(e.sbs,0,e.enc),e.l=e.enc.length,e.checksum=0,e.i=0,e.j=0;e.i!=e.barlen;){if(e.numeric)if(c(e.barcode,e.i)>16){e.np=C(e.barcode,e.i,2);var o=c(e.np,0),d=c(e.np,1);if(o<48||o>57||(d<48||d>57)&&d!=88)r[t++]=-1;else{var u=c(e.np,1)-48;if(r[t++]=c(e.np,0)-48,r[t++]=u,u!=40){var f=r[--t],h=r[--t];r[t++]=S(f+h*10)+10}else t--;var p=r[--t];r[t++]=p+17}var m=r[t-1];m==-1&&(r[t++]="bwipp.telepenInvalidNumericCharacter#14021",r[t++]="Telepen Numeric may contain only digits, or X in even positions",z()),e.indx=r[--t],b(e.txt,e.j,s([e.np,e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+2}else e.indx=c(e.barcode,e.i),b(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;else e.indx=c(e.barcode,e.i),e.indx>127&&(r[t++]="bwipp.telepenInvalidAlphaCharacter#14034",r[t++]="Telepen Alpha characters must have ordinal values 0 to 127",z()),e.indx>=32&&e.indx<=126?b(e.txt,e.j,s([C(e.barcode,e.i,1),e.j*16+16,e.textyoffset,e.textfont,e.textsize])):b(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;e.checksum=S(e.checksum+e.indx),e.enc=c(e.encs,e.indx),M(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.j=e.j+1}e.checksum=(127-e.checksum%127)%127,e.enc=c(e.encs,e.checksum),M(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.enc=c(e.encs,122),M(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.sbs=C(e.sbs,0,e.l),e.txt=C(e.txt,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var x=e.sbs,y=0,w=x.length;y<w;y++)r[t++]=c(x,y)-48;var v=s();r[t++]=1/0;for(var g=0,A=~~((e.sbs.length+1)/2);g<A;g++)r[t++]=e.height;var k=s();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=0;var N=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=v,r[t++]="bhs",r[t++]=k,r[t++]="bbs",r[t++]=N,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var B=Ge();r[t++]=B,e.dontdraw||Mt(),e=a}function dM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"numeric",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$w();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function uM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.encoding="auto",e.version="a",e.checkoffset=0,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t];var n=r[--t];e.barcode=n,e.la0=-1,e.la1=-2,e.la2=-3,e.sf0=-4,e.sf1=-5,e.sf2=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10;var i=s([e.sf1,e.sf0,e.fn3]);e.charmapsnormal=s([s(["0","^","'"]),s(["1",";",27]),s(["2","<",28]),s(["3","=",29]),s(["4",">",30]),s(["5","?",31]),s(["6","@","!"]),s(["7","[",'"']),s(["8",92,"#"]),s(["9","]","&"]),s(["A","a",1]),s(["B","b",2]),s(["C","c",3]),s(["D","d",4]),s(["E","e",5]),s(["F","f",6]),s(["G","g",7]),s(["H","h",8]),s(["I","i",9]),s(["J","j",10]),s(["K","k",11]),s(["L","l",12]),s(["M","m",13]),s(["N","n",14]),s(["O","o",15]),s(["P","p",16]),s(["Q","q",17]),s(["R","r",18]),s(["S","s",19]),s(["T","t",20]),s(["U","u",21]),s(["V","v",22]),s(["W","w",23]),s(["X","x",24]),s(["Y","y",25]),s(["Z","z",26]),s(["-","_",40]),s([".","`",41]),s([" ",127,0]),s(["$","{","*"]),s(["/","|",","]),s(["+","}",":"]),s(["%","~",e.fn1]),s([e.la1,e.la0,e.fn2]),i,s([e.sf2,e.sf2,e.fn4])]),e.chapmapslimited=s([s(["0",-98,-98]),s(["1",-98,-98]),s(["2",-98,-98]),s(["3",-98,-98]),s(["4",-98,-98]),s(["5",-98,-98]),s(["6",-98,-98]),s(["7",-98,-98]),s(["8",-98,-98]),s(["9",-98,-98]),s(["A",-98,-98]),s(["B",-98,-98]),s(["C",-98,-98]),s(["D",-98,-98]),s(["E",-98,-98]),s(["F",-98,-98]),s(["G",-98,-98]),s(["H",-98,-98]),s(["I",-98,-98]),s(["J",-98,-98]),s(["K",-98,-98]),s(["L",-98,-98]),s(["M",-98,-98]),s(["N",-98,-98]),s(["O",-98,-98]),s(["P",-98,-98]),s(["Q",-98,-98]),s(["R",-98,-98]),s(["S",-98,-98]),s(["T",-98,-98]),s(["U",-98,-98]),s(["V",-98,-98]),s(["W",-98,-98]),s(["X",-98,-98]),s(["Y",-98,-98]),s(["Z",-98,-98]),s(["-",-98,-98]),s([".",-98,-98])]),_e(e.version,"a")&&_e(e.version,"b")&&_e(e.version,"limiteda")&&_e(e.version,"limitedb")&&(r[t++]="bwipp.posicodeInvalidVersion#14226",r[t++]="The version must be either a, b, limiteda or limitedb",z()),r[t++]="charmaps",Y(e.version,"a")||Y(e.version,"b")?r[t++]=e.charmapsnormal:r[t++]=e.chapmapslimited;var o=r[--t];e[r[--t]]=o,e.charmaps,e.charmaps,e.charmaps,e.charvals=s([new Map,new Map,new Map]);for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=2;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,Y(an(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}b(c(e.charvals,e.j),r[--t],e.i)}}if(e.set0=c(e.charvals,0),e.set1=c(e.charvals,1),e.set2=c(e.charvals,2),Y(e.version,"limiteda")||Y(e.version,"limitedb"))for(var m=0,x=e.barcode.length-1;m<=x;m+=1){var y=c(e.set0,c(C(e.barcode,m,1),0))!==void 0;y||(r[t++]="bwipp.posicodeBadCharacter#14252",r[t++]="Posicode limited must contain only digits, capital letters, and the symbols - and .",z())}if(e.raw&&(e.encoding="raw"),Y(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j),e.text=""}if(Y(e.encoding,"auto")){var w=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=w,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var v=r[--t];e[r[--t]]=v,e.msglen=e.msg.length,e.text=J(e.msglen);for(var g=0,A=e.msglen-1;g<=A;g+=1){e.i=g;var k=c(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=k,k<0&&(r[t-1]=32);var E=r[--t],j=r[--t];b(r[--t],j,E)}r[t++]=1/0;for(var N=0,B=e.msglen;N<B;N++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numEA=s();for(var T=e.msglen-1;T>=0;T-=1)e.i=T,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?b(e.numEA,e.i,c(e.numEA,e.i+1)+1):b(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var R=0,$=e.msglen-1;R<=$;R+=1){if(e.i=R,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var _=c(r[--t],e.i),F=S(_+e.i)==e.msglen?3:5;_<F?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}for(e.msg=e.msgtmp,e.msglen=e.msg.length,e.enc=function(){var rt=r[--t];b(e.cws,e.j,c(rt,r[--t])),e.j=e.j+1},e.cws=s(e.msglen*2),e.i=0,e.j=0,e.cset="set0";e.i!=e.msglen;)for(;;){e.char1=c(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=c(e.msg,e.i+1):r[t++]=-99;var Q=r[--t];e[r[--t]]=Q;var L=c(e[e.cset],e.char1)!==void 0;if(L){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var X=c(e.set2,e.char1)!==void 0;if(X){r[t++]=e.sf2,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set2,e.enc(),e.i=e.i+1;break}var le=c(e[e.cset],e.char2)!==void 0;if(le){Y(e.cset,"set0")?(r[t++]=e.sf1,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set1,e.enc()):(r[t++]=e.sf0,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set0,e.enc()),e.i=e.i+1;break}else{Y(e.cset,"set0")?(r[t++]=e.la1,r[t++]=e[e.cset],e.enc(),e.cset="set1"):(r[t++]=e.la0,r[t++]=e[e.cset],e.enc(),e.cset="set0");break}}e.cws=C(e.cws,0,e.j)}var fe=new Map([["a",s(["141112","131212","121312","111412","131113","121213","111313","121114","111214","111115","181111","171211","161311","151411","141511","131611","121711","111811","171112","161212","151312","141412","131512","121612","111712","161113","151213","141313","131413","121513","111613","151114","141214","131314","121414","111514","141115","131215","121315","111415","131116","121216","111316","121117","111217","111118","1<111112","111111111;1"])],["b",s(["151213","141313","131413","121513","141214","131314","121414","131215","121315","121216","191212","181312","171412","161512","151612","141712","131812","121912","181213","171313","161413","151513","141613","131713","121813","171214","161314","151414","141514","131614","121714","161215","151315","141415","131515","121615","151216","141316","131416","121516","141217","131317","121417","131218","121318","121219","1<121312","121212121<1"])],["limiteda",s(["111411","111312","111213","111114","121311","121212","121113","141111","131211","131112","171111","161211","151311","141411","131511","121611","111711","161112","151212","141312","131412","121512","111612","151113","141213","131313","121413","111513","141114","131214","121314","111414","131115","121215","111315","121116","111216","111117","151111","1"])],["limitedb",s(["121512","121413","121314","121215","131412","131313","131214","151212","141312","141213","181212","171312","161412","151512","141612","131712","121812","171213","161313","151413","141513","131613","121713","161214","151314","141414","131514","121614","151215","141315","131415","121515","141216","131316","121416","131217","121317","121218","141212","1"])]]);e.encmaps=fe,e.encs=c(e.encmaps,e.version),e.c2w=s([s([495,330,210,126,70,35,15,5]),s([165,120,84,56,35,20,10,4]),s([45,36,28,21,15,10,6,3]),s([9,8,7,6,5,4,3,2]),s([1,1,1,1,1,1,1,1])]),e.v=0;for(var V=e.cws,H=0,se=V.length;H<se;H++){e.cw=c(V,H);for(var ue=0;ue<6;ue++)(e.cw^e.v)&1&&(e.v=e.v^7682),e.v=e.v>>>1,e.cw=e.cw>>>1}for(e.v=e.v+e.checkoffset,Y(e.version,"limiteda")||Y(e.version,"limitedb")?(e.v=e.v&1023,e.v>824&&e.v<853&&(e.v=e.v+292)):e.v=(e.v&1023)+45,e.d=s([2,2,2,2,2,2]),e.r=0,e.c=0,e.w=0,e.sum=0;e.sum!=e.v;)e.t=S(e.sum+c(c(e.c2w,e.r),e.c)),e.t==e.v&&(e.w=e.w+1,b(e.d,e.r,e.w+2),e.sum=e.t),e.t>e.v&&(b(e.d,e.r,e.w+2),e.r=e.r+1,e.w=0),e.t<e.v&&(e.c=e.c+1,e.w=e.w+1,e.sum=e.t);r[t++]=20;for(var U=0;U<=4;U+=1){var W=r[--t];r[t++]=S(W-c(e.d,U))}if(b(e.d,5,r[--t]),Y(e.version,"b")||Y(e.version,"limitedb")){r[t++]=1/0;for(var re=e.d,ie=0,be=re.length;ie<be;ie++)r[t++]=c(re,ie)+1;e.d=s()}e.cbs=_r(J(12),"111111111111");for(var K=5;K>=0;K-=1)e.i=K,b(e.cbs,(5-e.i)*2+1,c(e.d,e.i)+47);e.sbs=J(e.cws.length*6+31);var ke=c(e.encs,e.encs.length-2);M(e.sbs,0,ke),e.j=ke.length;for(var je=0,Qe=e.cws.length-1;je<=Qe;je+=1)e.i=je,M(e.sbs,e.j,c(e.encs,c(e.cws,e.i))),e.j=e.j+6;M(e.sbs,e.j,e.cbs),e.j=e.j+12;var ze=c(e.encs,e.encs.length-1);M(e.sbs,e.j,ze),e.j=ze.length+e.j,e.sbs=C(e.sbs,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var tt=e.sbs,Ze=0,Re=tt.length;Ze<Re;Ze++)r[t++]=c(tt,Ze)-48;var He=s();r[t++]=1/0;for(var Ue=0,ye=~~((e.sbs.length+1)/2);Ue<ye;Ue++)r[t++]=e.height;var Ye=s();r[t++]=1/0;for(var Ae=0,Le=~~((e.sbs.length+1)/2);Ae<Le;Ae++)r[t++]=0;var he=s(),Pe=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]),Me=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]);r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=He,r[t++]="bhs",r[t++]=Ye,r[t++]="bbs",r[t++]=he,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=c(Pe,e.version),r[t++]="borderright",r[t++]=c(Me,e.version),r[t++]="opt",r[t++]=e.options;var $e=Ge();r[t++]=$e,e.dontdraw||Mt(),e=a}function qw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=8,e.rowheight=10,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],(e.columns<4||e.columns>62)&&(r[t++]="bwipp.codablockfBadColumns#14582",r[t++]="Codablock F must have 4 to 62 columns",z()),e.rows!=-1&&(e.rows<2||e.rows>44)&&(r[t++]="bwipp.codablockfBadRows#14586",r[t++]="Codablock F must have 2 to 44 rows",z()),e.rowheight<8&&(r[t++]="bwipp.codablockfBadRowHeight#14590",r[t++]="Codablock F must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.codablockfBadSepHeight#14594",r[t++]="Codablock F must have sepheight of at least 1",z()),r[t++]="c",e.columns>=4&&e.columns<=62?r[t++]=e.columns:r[t++]=8;var n=r[--t];e[r[--t]]=n,r[t++]="rows",e.rows>=2&&e.rows<=44?r[t++]=e.rows:r[t++]=-1;var i=r[--t];e[r[--t]]=i,e.swa=-1,e.swb=-2,e.swc=-3,e.sft=-4,e.fn1=-5,e.fn2=-6,e.fn3=-7,e.fn4=-8,e.sta=-9,e.stp=-10;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,e.msgtmp=s([]);for(var u=e.msg,f=0,h=u.length;f<h;f++)e.char=c(u,f),r[t++]=1/0,O(e.msgtmp),e.char<128?r[t++]=e.char:(r[t++]=e.fn4,r[t++]=e.char&127),e.msgtmp=s();e.kmsg=e.msg,e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=c(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var y=c(e.encs,e.j);if(r[t++]=y,Y(an(y),"stringtype")){var w=c(r[--t],0);r[t++]=w}b(c(e.charvals,e.j),r[--t],e.i)}}e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen||e.p!=0&&c(e.msg,e.p-1)==e.fn4);){var we=c(e.msg,e.p),Be=c(e.setc,we)!==void 0;if(r[t++]=we,!Be){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){b(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){b(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var we=r[t-1];if(_e(an(we),"arraytype")){var Be=c(e.setc,r[--t]);r[t++]=Be}else{O(r[--t]);var pe=r[--t],Ie=r[--t];r[t++]=S(pe-48+(Ie-48)*10)}b(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var we=r[--t],Be=c(e.seta,we)!==void 0,pe=c(e.setb,we)!==void 0;r[t++]=Be&&!pe},e.bnota=function(){var we=r[--t],Be=c(e.setb,we)!==void 0,pe=c(e.seta,we)!==void 0;r[t++]=Be&&!pe},r[t++]=1/0;for(var v=0,g=e.msg.length;v<g;v++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var A=0,k=e.msg.length;A<k;A++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var E=e.msg.length-1;E>=0;E-=1)e.i=E,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?b(e.nextanotb,e.i,0):b(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?b(e.nextbnota,e.i,0):b(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var we=r[--t];r[t++]=xn(c(e.nextanotb,we),c(e.nextbnota,we))},e.bbeforea=function(){var we=r[--t];r[t++]=xn(c(e.nextbnota,we),c(e.nextanotb,we))},e.padrow=function(){for(var we=0,Be=r[--t];we<Be;we++)for(;;){if(Y(e.cset,"seta")){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(Y(e.cset,"setb")){r[t++]=e.swc,e.encb(),e.cset="setc";break}if(Y(e.cset,"setc")){r[t++]=e.swb,e.encc(),e.cset="setb";break}}},e.encafitsrow=function(){if(e.rem<=2&&c(e.msg,e.i)==e.fn4){var we=e.rem==2&&c(e.msg,e.i+1)<=95;r[t++]=we,we&&(r[t++]=e.fn4,e.enca(),r[t++]=c(e.msg,e.i+1),e.enca(),e.i=e.i+2)}else r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1,r[t++]=!0},e.encbfitsrow=function(){if(e.rem<=2&&c(e.msg,e.i)==e.fn4){var we=e.rem==2&&c(e.msg,e.i+1)>=32;r[t++]=we,we&&(r[t++]=e.fn4,e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2)}else r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1,r[t++]=!0},e.cws=s((e.c+5)*44),e.i=0,e.j=0,e.r=1,e.lastrow=!1;!e.lastrow;){for(e.r>44&&(r[t++]="bwipp.codablockfTooBig#14803",r[t++]="Maximum length exceeded",z()),r[t++]=e.sta,e.enca(),e.i<e.msglen?(r[t++]=e.i,e.numsscr()):(r[t++]=-1,r[t++]=-1),e.nums=r[--t],e.nchars=r[--t];;){if(e.msglen==0){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.nums>=2){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.sft,e.enca(),e.cset="seta";break}r[t++]=e.swb,e.enca(),e.cset="setb";break}for(e.j=e.j+1,e.endofrow=!1;e.rem=S(e.c+3-e.j%(e.c+5)),!(e.i==e.msglen||e.endofrow);){r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t],r[t++]="remnums",e.nums>e.rem*2?r[t++]=e.rem*2:r[t++]=e.nums;var j=r[--t];for(e[r[--t]]=j;;){if((Y(e.cset,"seta")||Y(e.cset,"setb"))&&e.remnums>=4&&c(e.msg,e.i)!=e.fn1){if(e.remnums%2==0&&e.rem>=3){r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var N=0;N<2;N++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.remnums%2!=0&&e.rem>=4){r[t++]=c(e.msg,e.i),Y(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var B=0;B<2;B++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}r[t++]=Y(e.cset,"setb"),r[t++]=c(e.msg,e.i),e.anotb();var I=r[--t],D=r[--t];if(D&&I&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta",r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=Y(e.cset,"seta"),r[t++]=c(e.msg,e.i),e.bnota();var T=r[--t],R=r[--t];if(R&&T&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb",r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(Y(e.cset,"setc")&&e.remnums<2&&e.rem>=2){if(e.rem=e.rem-1,r[t++]=e.i,e.abeforeb(),r[--t]){if(r[t++]=e.swa,e.encc(),e.cset="seta",e.encafitsrow(),r[--t])break}else if(r[t++]=e.swb,e.encc(),e.cset="setb",e.encbfitsrow(),r[--t])break}var $=c(e.seta,c(e.msg,e.i))!==void 0;if(Y(e.cset,"seta")&&$&&e.rem>=1&&(e.encafitsrow(),r[--t]))break;var _=c(e.setb,c(e.msg,e.i))!==void 0;if(Y(e.cset,"setb")&&_&&e.rem>=1&&(e.encbfitsrow(),r[--t]))break;if(Y(e.cset,"setc")&&e.remnums>=2&&e.rem>=1){c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}e.endofrow=!0;break}}(e.r>=e.rows||e.rows==-1)&&e.r>1&&e.i==e.msglen&&e.rem>=2?(r[t++]=e.rem-2,e.padrow(),e.j=e.j+3,r[t++]=e.stp,e.enca(),e.lastrow=!0):(r[t++]=e.rem,e.padrow(),e.j=e.j+1,r[t++]=e.stp,e.enca(),e.r=e.r+1)}e.cws=C(e.cws,0,e.j),r[t++]=1/0;for(var F=64;F<=95;F+=1)r[t++]=F;for(var Q=0;Q<=15;Q+=1)r[t++]=Q;for(var L=26;L<=63;L+=1)r[t++]=L;e.abmap=s(),r[t++]=1/0;for(var X=0;X<=85;X+=1)r[t++]=X;e.cmap=s(),e.chkmsg=s(e.kmsg.length),e.j=0;for(var le=0,fe=e.kmsg.length-1;le<=fe;le+=1)e.i=le,e.char=c(e.kmsg,e.i),e.char>=0&&(b(e.chkmsg,e.j,e.char),e.j=e.j+1),e.char==e.fn1&&e.i!=0&&(b(e.chkmsg,e.j,29),e.j=e.j+1);e.t1=0,e.t2=0,e.k1=0,e.k2=0;for(var V=0,H=e.j-1;V<=H;V+=1)e.i=V,e.t1=c(e.chkmsg,e.i)*e.i%86,e.t2=S(e.t1+c(e.chkmsg,e.i))%86,e.k1=S(e.k1+e.t2)%86,e.k2=S(e.k2+e.t1)%86;r[t++]=e.cws,r[t++]=e.cws.length-4,_e(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var se=c(r[--t],e.k1),ue=r[--t];b(r[--t],ue,se),r[t++]=e.cws,r[t++]=e.cws.length-3,_e(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var U=c(r[--t],e.k2),W=r[--t];b(r[--t],W,U);var re=e.cws;r[t++]=re,r[t++]=2,c(re,1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var ie=c(r[--t],e.r-2),be=r[--t];b(r[--t],be,ie);for(var K=1,ke=e.r-1;K<=ke;K+=1){e.i=K;var je=e.cws,Qe=e.i,ze=e.c;r[t++]=je,r[t++]=Qe*(ze+5)+2,c(je,Qe*(ze+5)+2-1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var tt=c(r[--t],e.i+42),Ze=r[--t];b(r[--t],Ze,tt)}for(var Re=0,He=e.r-1;Re<=He;Re+=1){e.rcws=C(e.cws,Re*(e.c+5),e.c+4),e.csum=c(e.rcws,0);for(var Ue=1,ye=e.rcws.length-2;Ue<=ye;Ue+=1)e.i=Ue,e.csum=S(e.csum+c(e.rcws,e.i)*e.i);b(e.rcws,e.rcws.length-1,e.csum%103)}var Ye=c(e.options,"debugcws")!==void 0;Ye&&(r[t++]="bwipp.debugcws#15016",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","2331112"]),e.rowbits=s(e.r);for(var Ae=0,Le=e.r-1;Ae<=Le;Ae+=1){e.i=Ae,r[t++]=1/0;for(var he=C(e.cws,e.i*(e.c+5),e.c+5),Pe=0,Me=he.length;Pe<Me;Pe++)ve(c(e.encs,c(he,Pe)),function(){var we=r[--t];r[t++]=we-48});e.sbs=s(),r[t++]=1/0;var $e=e.sbs;r[t++]=0;for(var rt=0,pt=$e.length;rt<pt;rt++)for(var ut=r[t-1],bt=ut==1?0:1,It=0,St=c($e,rt);It<St;It++)r[t++]=bt;Yt(s(va()-1));var de=r[--t];r[t-1]=de;var Ee=r[--t];r[t-1]=Ee,r[t++]=e.rowbits,r[t++]=e.i;var at=r[t-3],ot=r[t-1];b(r[t-2],ot,at),t-=3}e.symwid=e.c*11+57,r[t++]=1/0;for(var Et=0,yt=e.symwid*e.sepheight;Et<yt;Et++)r[t++]=1;for(var P=0,G=e.r-2;P<=G;P+=1){e.i=P;for(var q=0,te=e.rowheight;q<te;q++)O(c(e.rowbits,e.i));for(var ce=0,ge=e.sepheight;ce<ge;ce++){r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0;for(var ae=0,Ce=e.symwid-24;ae<Ce;ae++)r[t++]=1;r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=1}}for(var Z=0,xe=e.rowheight;Z<xe;Z++)O(c(e.rowbits,e.r-1));for(var me=0,Ne=e.symwid*e.sepheight;me<Ne;me++)r[t++]=1;e.pixs=s();var oe=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.symwid],["pixy",~~(e.pixs.length/e.symwid)],["height",~~(e.pixs.length/e.symwid)/72],["width",e.symwid/72],["opt",e.options]]);r[t++]=oe,e.dontdraw||At(),e=a}function fM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.rows=0,e.rowheight=8,e.sepheight=1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>16)&&(r[t++]="bwipp.code16kBadRows#15133",r[t++]="Code 16K must have 2 to 16 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code16kBadRowHeight#15137",r[t++]="Code 16K must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code16kBadSepHeight#15141",r[t++]="Code 16K must have sepheight of at least 1",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code16kBadSAM#15152",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.sam!=-1&&(e.rows=16),e.swa=-1,e.swb=-2,e.swc=-3,e.sa1=-4,e.sb1=-5,e.sc1=-6,e.sa2=-7,e.sb2=-8,e.sc2=-9,e.pad=-10,e.sb3=-11,e.sc3=-12,e.fn1=-13,e.fn2=-14,e.fn3=-15,e.fn4=-16,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sb1,e.sa1,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.pad,e.pad,e.pad]),s([e.sb2,e.sa2,e.sb1]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3])]),e.charvals=s([new Map,new Map,new Map]);for(var o=0,d=e.charmaps.length-1;o<=d;o+=1){e.i=o,e.encs=c(e.charmaps,e.i);for(var u=0;u<=2;u+=1){e.j=u;var f=c(e.encs,e.j);if(r[t++]=f,Y(an(f),"stringtype")){var h=c(r[--t],0);r[t++]=h}b(c(e.charvals,e.j),r[--t],e.i)}}if(e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var p=C(e.barcode,e.i+1,3);r[t++]=p,r[t++]=!1;for(var m=0,x=p.length;m<x;m++){var y=c(p,m);(y<48||y>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Fe(r[--t]),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.code16kBadRawFormat#15241",r[t++]="raw data must be formatted as ^NNN",z()),e.cws=C(e.cws,0,e.j)}else{var w=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=w,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var v=r[--t];e[r[--t]]=v,e.msglen=e.msg.length,r[t++]=1/0;for(var g=0,A=e.msglen;g<A;g++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var k=0,E=e.msglen;k<E;k++)r[t++]=0;r[t++]=0,e.numEA=s();for(var j=e.msglen-1;j>=0;j-=1)e.i=j,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?b(e.numEA,e.i,c(e.numEA,e.i+1)+1):b(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var N=0,B=e.msglen-1;N<=B;N+=1){if(e.i=N,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var I=c(r[--t],e.i),D=S(I+e.i)==e.msglen?3:5;I<D?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var zt=c(e.msg,e.p),yr=c(e.setc,zt)!==void 0;if(r[t++]=zt,!yr){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){b(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){b(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var zt=r[t-1];if(_e(an(zt),"arraytype")){var yr=c(e.setc,r[--t]);r[t++]=yr}else{O(r[--t]);var ra=r[--t],ha=r[--t];r[t++]=S(ra-48+(ha-48)*10)}b(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var zt=r[--t],yr=c(e.seta,zt)!==void 0,ra=c(e.setb,zt)!==void 0;r[t++]=yr&&!ra},e.bnota=function(){var zt=r[--t],yr=c(e.setb,zt)!==void 0,ra=c(e.seta,zt)!==void 0;r[t++]=yr&&!ra},r[t++]=1/0;for(var T=0,R=e.msg.length;T<R;T++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var $=0,_=e.msg.length;$<_;$++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var F=e.msg.length-1;F>=0;F-=1)e.i=F,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?b(e.nextanotb,e.i,0):b(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?b(e.nextbnota,e.i,0):b(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var zt=r[--t];r[t++]=xn(c(e.nextanotb,zt),c(e.nextbnota,zt))},e.bbeforea=function(){var zt=r[--t];r[t++]=xn(c(e.nextbnota,zt),c(e.nextanotb,zt))},e.cws=s(e.barcode.length*2+3),e.i=0,e.j=0;;){if(e.sam!=-1){b(e.cws,0,~~(e.sam/10)-1),b(e.cws,1,e.sam%10-1),e.j=2,e.cset="setb",e.mode=7;break}if(e.msglen==0){e.cset="setb",e.mode=1;break}if(e.msglen>=2){r[t++]=c(e.msg,0)==e.fn1,r[t++]=1,e.numsscr();var Q=r[--t];r[t-1]=Q;var L=r[--t],X=r[--t];if(X&&L>=2){e.cset="setc",e.mode=4,e.i=1;break}}if(c(e.msg,0)==e.fn1){e.cset="setb",e.mode=3,e.i=1;break}if(e.msglen>=2){r[t++]=0,e.numsscr();var le=r[--t];r[t-1]=le;var fe=r[--t];if(fe>=2&&fe%2==0){e.cset="setc",e.mode=2;break}r[t++]=0,e.numsscr();var V=r[--t];r[t-1]=V;var H=r[--t];if(H>=3&&H%2==1){r[t++]=c(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var se=c(e.setb,c(e.msg,0))!==void 0;r[t++]=se,r[t++]=1,e.numsscr();var ue=r[--t];r[t-1]=ue;var U=r[--t],W=r[--t];if(W&&U>=2&&U%2==0){r[t++]=c(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var re=c(e.setb,c(e.msg,0))!==void 0;r[t++]=re,r[t++]=1,e.numsscr();var ie=r[--t];r[t-1]=ie;var be=r[--t],K=r[--t];if(K&&be>=3&&be%2==1){r[t++]=c(e.msg,0),e.encb(),r[t++]=c(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}var ke=c(e.setb,c(e.msg,0))!==void 0,je=c(e.setb,c(e.msg,1))!==void 0;r[t++]=ke&&je,r[t++]=2,e.numsscr();var Qe=r[--t];r[t-1]=Qe;var ze=r[--t],tt=r[--t];if(tt&&ze>=2&&ze%2==0){r[t++]=c(e.msg,0),e.encb(),r[t++]=c(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}}if(r[t++]=0,e.abeforeb(),r[--t]){e.cset="seta",e.mode=0;break}e.cset="setb",e.mode=1;break}for(;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t];;){if(Y(e.cset,"seta")){if(e.i<e.msglen-1){r[t++]=c(e.msg,e.i),e.bnota(),r[t++]=e.i+1,e.abeforeb();var Ze=r[--t];if(r[--t]&&Ze){r[t++]=e.sb1,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=c(e.msg,e.i),e.bnota(),r[t++]=c(e.msg,e.i+1),e.bnota();var Re=r[--t],He=r[--t];r[t++]=mo(He,Re),r[t++]=e.i+2,e.abeforeb();var Ue=r[--t];if(r[--t]&&Ue){r[t++]=e.sb2,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(r[t++]=c(e.msg,e.i),e.bnota(),r[--t]){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.i<e.msglen-4){var ye=c(e.seta,c(e.msg,e.i+4))!==void 0;if(e.nums==4&&ye){r[t++]=e.sc2,e.enca();for(var Ye=0;Ye<2;Ye++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var Ae=c(e.seta,c(e.msg,e.i+6))!==void 0;if(e.nums==6&&Ae){r[t++]=e.sc3,e.enca();for(var Le=0;Le<3;Le++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.enca(),e.cset="setc";break}r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(Y(e.cset,"setb")){if(e.i<e.msglen-1){r[t++]=c(e.msg,e.i),e.anotb(),r[t++]=e.i+1,e.bbeforea();var he=r[--t];if(r[--t]&&he){r[t++]=e.sa1,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=c(e.msg,e.i),e.anotb(),r[t++]=c(e.msg,e.i+1),e.anotb();var Pe=r[--t],Me=r[--t];r[t++]=mo(Me,Pe),r[t++]=e.i+2,e.bbeforea();var $e=r[--t];if(r[--t]&&$e){r[t++]=e.sa2,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),r[t++]=c(e.msg,e.i+1),e.enca(),e.i=e.i+2;break}}if(r[t++]=c(e.msg,e.i),e.anotb(),r[--t]){r[t++]=e.swa,e.encb(),e.cset="seta";break}if(e.i<e.msglen-4){var rt=c(e.setb,c(e.msg,e.i+4))!==void 0;if(e.nums==4&&rt){r[t++]=e.sc2,e.encb();for(var pt=0;pt<2;pt++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var ut=c(e.setb,c(e.msg,e.i+6))!==void 0;if(e.nums==6&&ut){r[t++]=e.sc3,e.encb();for(var bt=0;bt<3;bt++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.encb(),e.cset="setc";break}r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(Y(e.cset,"setc")){if(e.nums>=2){c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.i<e.msglen-1){var It=c(e.setb,c(e.msg,e.i))!==void 0;r[t++]=It,r[t++]=e.i+1,e.numsscr();var St=r[--t];r[t-1]=St;var de=r[--t],Ee=r[--t];if(Ee&&de>=2&&de%2==0){r[t++]=e.sb1,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-1){var at=c(e.setb,c(e.msg,e.i))!==void 0;r[t++]=at,r[t++]=e.i+1,e.numsscr();var ot=r[--t];r[t-1]=ot;var Et=r[--t],yt=r[--t];if(yt&&Et>=3&&Et%2==1){r[t++]=e.sb2,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-2){var P=c(e.setb,c(e.msg,e.i))!==void 0,G=c(e.setb,c(e.msg,e.i+1))!==void 0;r[t++]=P&&G,r[t++]=e.i+2,e.numsscr();var q=r[--t];r[t-1]=q;var te=r[--t],ce=r[--t];if(ce&&te>=2&&te%2==0){r[t++]=e.sb2,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-3){var ge=c(e.setb,c(e.msg,e.i))!==void 0,ae=c(e.setb,c(e.msg,e.i+1))!==void 0;r[t++]=ge&&ae,r[t++]=e.i+2,e.numsscr();var Ce=r[--t];r[t-1]=Ce;var Z=r[--t],xe=r[--t];if(xe&&Z>=3&&Z%2==1){r[t++]=e.sb3,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),r[t++]=c(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(e.i<e.msglen-3){var me=c(e.setb,c(e.msg,e.i))!==void 0,Ne=c(e.setb,c(e.msg,e.i+1))!==void 0,oe=c(e.setb,c(e.msg,e.i+2))!==void 0;r[t++]=me&&Ne&&oe,r[t++]=e.i+3,e.numsscr();var we=r[--t];r[t-1]=we;var Be=r[--t],pe=r[--t];if(pe&&Be>=2&&Be%2==0){r[t++]=e.sb3,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),r[t++]=c(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}break}e.cws=C(e.cws,0,e.j)}e.metrics=s([s([2,7]),s([3,12]),s([4,17]),s([5,22]),s([6,27]),s([7,32]),s([8,37]),s([9,42]),s([10,47]),s([11,52]),s([12,57]),s([13,62]),s([14,67]),s([15,72]),s([16,77])]),e.urows=e.rows;for(var Ie=e.metrics,Se=0,Te=Ie.length;Se<Te&&(e.m=c(Ie,Se),e.r=c(e.m,0),e.dcws=c(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Se++);e.okay||(r[t++]="bwipp.code16kNoValidSymbol#15731",r[t++]="Maximum length exceeded or data too large for given options",z()),r[t++]=1/0,O(e.cws);for(var Ve=0,qe=S(e.dcws-e.cws.length);Ve<qe;Ve++)r[t++]=103;e.cws=s(),r[t++]=1/0,r[t++]=S((e.r-2)*7+e.mode),O(e.cws),e.cws=s(),r[t++]=0;for(var et=0,ct=e.dcws;et<=ct;et+=1){var lt=r[--t];r[t++]=S(lt+(et+2)*c(e.cws,et))}e.c1=r[--t]%107,r[t++]=0;for(var De=0,We=e.dcws;De<=We;De+=1){var Ke=r[--t];r[t++]=S(Ke+(De+1)*c(e.cws,De))}e.c2=S(r[--t]+e.c1*(e.dcws+2))%107,r[t++]=1/0,O(e.cws),r[t++]=e.c1,r[t++]=e.c2,e.cws=s();var st=c(e.options,"debugcws")!==void 0;st&&(r[t++]="bwipp.debugcws#15747",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","211133"]),e.startencs=s(["3211","2221","2122","1411","1132","1231","1114","3112","3211","2221","2122","1411","1132","1231","1114","3112"]),e.stopencsodd=s(["3211","2221","2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411"]),e.stopencseven=s(["2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411","3211","2221"]),e.sam==-1||~~(e.sam/10)%2==1?e.stopencs=e.stopencsodd:e.stopencs=e.stopencseven,e.rowbits=s(e.r);for(var gt=0,wt=e.r-1;gt<=wt;gt+=1){e.i=gt,r[t++]=1/0,r[t++]=10,ve(c(e.startencs,e.i),function(){var zt=r[--t];r[t++]=zt-48});var vt=C(e.cws,e.i*5,5);r[t++]=1;for(var kt=0,dt=vt.length;kt<dt;kt++)ve(c(e.encs,c(vt,kt)),function(){var zt=r[--t];r[t++]=zt-48});ve(c(e.stopencs,e.i),function(){var zt=r[--t];r[t++]=zt-48}),r[t++]=1,e.sbs=s(),r[t++]=1/0;var _t=e.sbs;r[t++]=1;for(var nt=0,Qt=_t.length;nt<Qt;nt++)for(var Ht=r[t-1],Ut=Ht==0?1:0,sr=0,Cr=c(_t,nt);sr<Cr;sr++)r[t++]=Ut;Yt(s(va()-1));var nr=r[--t];r[t-1]=nr;var gr=r[--t];r[t-1]=gr,r[t++]=e.rowbits,r[t++]=e.i;var ar=r[t-3],Br=r[t-1];b(r[t-2],Br,ar),t-=3}r[t++]=1/0;for(var Zt=0,dr=81*e.sepheight;Zt<dr;Zt++)r[t++]=1;for(var Kt=0,Jt=e.r-2;Kt<=Jt;Kt+=1){e.i=Kt;for(var ur=0,Tr=e.rowheight;ur<Tr;ur++)O(c(e.rowbits,e.i));for(var Fr=0,fa=e.sepheight;Fr<fa;Fr++){for(var Tt=0;Tt<10;Tt++)r[t++]=0;for(var Gt=0;Gt<70;Gt++)r[t++]=1;r[t++]=0}}for(var tr=0,br=e.rowheight;tr<br;tr++)O(c(e.rowbits,e.r-1));for(var ir=0,Dr=81*e.sepheight;ir<Dr;ir++)r[t++]=1;e.pixs=s();var or=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=or,e.dontdraw||At(),e=a}function hM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.append=!1,e.rows=0,e.rowheight=8,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>8)&&(r[t++]="bwipp.code49badRows#15885",r[t++]="Code 49 must have 2 to 8 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code49badRowHeight#15889",r[t++]="Code 49 must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code49badSepHeight#15893",r[t++]="Code 49 must have sepheight of at least 1",z()),e.append&&e.sam!=-1&&(r[t++]="bwipp.code49samAndAppend#15897",r[t++]="sam and append cannot be specified together",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code49badSAM#15908",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.s1=-1,e.s2=-2,e.fn1=-3,e.fn2=-4,e.fn3=-5,e.ns=-6;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,ve(e.msg,function(){r[--t]>127&&(r[t++]="bwipp.code49badCharacter#15931",r[t++]="Code 49 can only support ASCII characters with values 0 to 127",z())}),e.charmap=s(["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%",e.s1,e.s2,e.fn1,e.fn2,e.fn3,e.ns]),e.charvals=new Map;for(var u=0;u<=48;u+=1){e.i=u;var f=c(e.charmap,e.i);if(r[t++]=f,Y(an(f),"stringtype")){var h=c(r[--t],0);r[t++]=h}b(e.charvals,r[--t],e.i)}e.combos=s(["1 ","1A","1B","1C","1D","1E","1F","1G","1H","1I","1J","1K","1L","1M","1N","1O","1P","1Q","1R","1S","1T","1U","1V","1W","1X","1Y","1Z","11","12","13","14","15","  ","16","17","18"," $"," %","19","10","1-","1.","1$"," +","1/"," -"," ."," /"," 0"," 1"," 2"," 3"," 4"," 5"," 6"," 7"," 8"," 9","1+","21","22","23","24","25","26"," A"," B"," C"," D"," E"," F"," G"," H"," I"," J"," K"," L"," M"," N"," O"," P"," Q"," R"," S"," T"," U"," V"," W"," X"," Y"," Z","27","28","29","20","2-","2.","2A","2B","2C","2D","2E","2F","2G","2H","2I","2J","2K","2L","2M","2N","2O","2P","2Q","2R","2S","2T","2U","2V","2W","2X","2Y","2Z","2$","2/","2+","2%","2 "]);for(var p=0;p<=127;p+=1){e.i=p;var m=c(e.combos,e.i);e.c1=c(m,0),e.c2=c(m,1),e.c1==49&&b(e.charvals,e.i,s([c(e.charvals,e.s1),c(e.charvals,e.c2)])),e.c1==50&&b(e.charvals,e.i,s([c(e.charvals,e.s2),c(e.charvals,e.c2)]))}e.encodealpha=function(){var Te=c(e.charvals,r[--t]);r[t++]=Te,_e(an(Te),"arraytype")&&Yt(s(1));var Ve=r[--t];M(e.cws,e.j,Ve),e.j=Ve.length+e.j},e.base48=function(){var Te=r[--t];r[t++]=0,ve(Te,function(){var vt=r[--t],kt=r[--t];r[t++]=S(vt-48+kt*10)}),r[t++]=1/0;var Ve=r[t-2],qe=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Ve;for(var et=0,ct=qe-1;et<ct;et++){var lt=r[--t];r[t++]=lt%48,r[t++]=~~(lt/48)}var De=s(),We=1/0,Ke=De;r[t++]=We,r[t++]=Ke;for(var st=Ke.length-1;st>=0;st-=1){var gt=r[--t];r[t++]=c(gt,st),r[t++]=gt}t--;var wt=s();M(e.cws,e.j,wt),e.j=wt.length+e.j},e.encodenumeric=function(){e.nums=r[--t];var Te=e.nums.length,Ve=Te%5;if(r[t++]="pre",r[t++]=Te,r[t++]=Ve,Ve!=2){var qe=r[--t],et=r[--t];r[t++]=S(et-qe)}else{var ct=r[--t],lt=r[--t];r[t++]=S(lt-ct)-5}var De=r[--t];e[r[--t]]=De;for(var We=0,Ke=e.pre-1;We<=Ke;We+=5)r[t++]=3,r[t++]=C(e.nums,We,5),e.base48();e.nums=C(e.nums,e.pre,S(e.nums.length-e.pre));var st=e.nums.length;r[t++]=st,st==1&&(r[t++]=c(e.nums,e.i),e.encodealpha());var gt=r[t-1];gt==3&&(r[t++]=2,r[t++]=e.nums,e.base48());var wt=r[t-1];if(wt==4){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,O(e.nums);var vt=s();r[t++]=vt,e.base48()}if(r[--t]==7){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,O(C(e.nums,0,4));var kt=s();r[t++]=kt,e.base48(),r[t++]=2,r[t++]=C(e.nums,4,3),e.base48()}},r[t++]=1/0;for(var x=0,y=e.msglen;x<y;x++)r[t++]=0;r[t++]=0,e.numericruns=s();for(var w=e.msglen-1;w>=0;w-=1){e.i=w;var v=c(e.msg,e.i);v>=48&&v<=57?b(e.numericruns,e.i,c(e.numericruns,e.i+1)+1):b(e.numericruns,e.i,0)}for(e.cws=s(e.msglen*2+1),e.samval=s([12,22,13,23,33,14,24,34,44,15,25,35,45,55,16,26,36,46,56,66,17,27,37,47,57,67,77,18,28,38,48,58,68,78,88,19,29,39,49,59,69,79,89,99]);;){if(e.append){e.mode=1,e.method="alpha",e.i=0,e.j=0;break}if(e.sam!=-1){e.mode=3,r[t++]=e.cws,r[t++]=0;for(var g=0;g<=43;g+=1)r[t++]=g,c(e.samval,g)!=e.sam&&t--;var A=r[--t],k=r[--t];b(r[--t],k,A+1),e.method="alpha",e.i=0,e.j=1;break}if(c(e.numericruns,0)>=5){e.mode=2,e.method="numeric",e.i=0,e.j=0;break}var E=c(e.charvals,c(e.msg,0));if(r[t++]=E,_e(an(E),"arraytype")){t--,e.mode=0,e.method="alpha",e.i=0,e.j=0;break}var j=c(r[--t],0)==43?4:5;e.mode=j,b(e.cws,0,c(c(e.charvals,c(e.msg,0)),1)),e.method="alpha",e.i=1,e.j=1;break}for(;e.i!=e.msglen;)for(;;){if(Y(e.method,"alpha")){if(c(e.numericruns,e.i)>=5){r[t++]=e.ns,e.encodealpha(),e.method="numeric";break}r[t++]=c(e.msg,e.i),e.encodealpha(),e.i=e.i+1;break}if(Y(e.method,"numeric")){if(c(e.numericruns,e.i)<5){r[t++]=e.ns,e.encodealpha(),e.method="alpha";break}r[t++]=C(e.msg,e.i,c(e.numericruns,e.i)),e.encodenumeric(),e.i=S(e.i+c(e.numericruns,e.i));break}}e.cws=C(e.cws,0,e.j),e.metrics=s([s([2,9]),s([3,16]),s([4,23]),s([5,30]),s([6,37]),s([7,42]),s([8,49])]),e.urows=e.rows;for(var N=e.metrics,B=0,I=N.length;B<I&&(e.m=c(N,B),e.r=c(e.m,0),e.dcws=c(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);B++);e.okay||(r[t++]="bwipp.code49noValidSymbol#16125",r[t++]="Maximum length exceeded",z()),r[t++]=1/0,O(e.cws);for(var D=0,T=S(e.dcws-e.cws.length);D<T;D++)r[t++]=48;e.cws=s(),e.ccs=s(e.r*8),e.j=0;for(var R=0,$=e.r-2;R<=$;R+=1){e.i=R,e.cc=C(e.cws,e.j,7),M(e.ccs,e.i*8,e.cc);var _=e.cc;r[t++]=e.ccs,r[t++]=e.i*8+7,r[t++]=0;for(var F=0,Q=_.length;F<Q;F++){var L=r[--t];r[t++]=S(L+c(_,F))}var X=r[--t],le=r[--t];b(r[--t],le,X%49),e.j=e.j+7}e.j<e.dcws&&M(e.ccs,e.ccs.length-8,C(e.cws,e.j,S(e.dcws-e.j))),e.cr7=S((e.r-2)*7+e.mode),b(e.ccs,e.ccs.length-2,e.cr7);var fe=s([1,9,31,26,2,12,17,23,37,18,22,6,27,44,15,43,39,11,13,5,41,33,36,8,4,32,3,19,40,25,29,10,24,30]);r[t++]=fe,r[t++]=fe,r[t++]=1/0;var V=r[--t],H=C(r[--t],0,32);r[t++]=V,r[t++]=20,O(H),e.weightx=s();var se=r[t-1];r[t++]=se,r[t++]=1/0;var ue=r[--t],U=C(r[--t],1,32);r[t++]=ue,r[t++]=16,O(U),e.weighty=s(),r[t++]=1/0;var W=r[--t],re=C(r[--t],2,32);if(r[t++]=W,r[t++]=38,O(re),e.weightz=s(),e.calccheck=function(){e.weights=r[--t],e.score=0;for(var Te=0,Ve=~~((e.r-1)*8/2)-1;Te<=Ve;Te+=1)e.i=Te,e.score=S((c(e.ccs,e.i*2)*49+c(e.ccs,e.i*2+1))*c(e.weights,e.i+1)+e.score);r[t++]=e.score},e.lastrow=C(e.ccs,e.ccs.length-8,8),e.r>=7){r[t++]=e.cr7*c(e.weightz,0),r[t++]=e.weightz,e.calccheck();var ie=r[--t],be=S(r[--t]+ie)%2401;r[t++]=~~(be/49),r[t++]=be%49,Yt(s(2)),r[t++]=e.lastrow,r[t++]=0;var K=r[t-3],ke=r[t-1];M(r[t-2],ke,K),t-=3}e.wr1=S(c(e.lastrow,0)*49+c(e.lastrow,1)),r[t++]=e.cr7*c(e.weighty,0),r[t++]=e.weighty,e.calccheck();var je=r[--t],Qe=S(r[--t]+je+e.wr1*c(e.weighty,e.r*4-3))%2401;e.wr2=Qe,r[t++]=~~(Qe/49),r[t++]=Qe%49,Yt(s(2)),r[t++]=e.lastrow,r[t++]=2;var ze=r[t-3],tt=r[t-1];M(r[t-2],tt,ze),t-=3,r[t++]=e.cr7*c(e.weightx,0),r[t++]=e.weightx,e.calccheck();var Ze=r[--t],Re=S(r[--t]+Ze+e.wr1*c(e.weightx,e.r*4-3)+e.wr2*c(e.weightx,e.r*4-2))%2401;r[t++]=~~(Re/49),r[t++]=Re%49,Yt(s(2)),r[t++]=e.lastrow,r[t++]=4;var He=r[t-3],Ue=r[t-1];M(r[t-2],Ue,He),t-=3;var ye=C(e.ccs,e.ccs.length-8,7);r[t++]=0;for(var Ye=0,Ae=ye.length;Ye<Ae;Ye++){var Le=r[--t];r[t++]=S(Le+c(ye,Ye))}b(e.ccs,e.ccs.length-1,r[--t]%49);var he=c(e.options,"debugcws")!==void 0;he&&(r[t++]="bwipp.debugcws#16196",r[t++]=e.ccs,z()),e.patterns=s([s(["11521132","25112131","14212132","25121221","14221222","12412132","23321221","12421222","21521221","15112222","15121312","13312222","24221311","13321312","11512222","22421311","11521312","25112311","14212312","23312311","12412312","21512311","16121131","14321131","12521131","15212131","15221221","13412131","13421221","11612131","16112221","16121311","14312221","14321311","12512221","12521311","15212311","13412311","11612311","11131135","31131133","51131131","21122134","41122132","21131224","41131222","11113135","31113133","51113131","11122225","31122223","51122221","11131315","31131313","51131311","21113224","41113222","21122314","41122312","11113315","31113313","51113311","12131134","32131132","21231133","41231131","22122133","42122131","11222134","22131223","42131221","11231224","31231222","12113134","32113132","12122224","32122222","12131314","32131312","21231313","41231311","22113223","42113221","11213224","22122313","42122311","11222314","31222312","12113314","32113312","21213313","41213311","13131133","33131131","22231132","11331133","31331131","23122132","12222133","23131222","12231223","32231221","21331222","13113133","33113131","13122223","33122221","11313133","13131313","33131311","11322223","22231312","11331313","31331311","23113222","12213223","23122312","12222313","32222311","21322312","13113313","33113311","22213312","11313313","31313311","14131132","23231131","12331132","21431131","24122131","13222132","24131221","13231222","11422132","22331221","11431222","14113132","14122222","12313132","14131312","12322222","23231311","12331312","21431311","24113221","13213222","24122311","13222312","11413222","22322311","11422312","14113312","23213311","12313312","21413311","15131131","13331131","14222131","14231221","12422131","12431221","15113131","15122221","13313131","15131311","13322221","11513131","13331311","11522221","14213221","14222311","12413221","12422311","15113311","13313311","11513311","11141134","31141132","21132133","41132131","21141223","41141221","11123134","31123132","11132224","31132222","11141314","31141312","21114133","41114131","21123223","41123221","21132313","41132311","11114224","31114222","11123314","31123312","21114313","41114311","12141133","32141131","21241132","22132132","11232133","22141222","11241223","31241221","12123133","32123131","12132223","32132221","12141313","32141311","21241312","22114132","11214133","22123222","11223223","22132312","11232313","31232311","12114223","32114221","12123313","32123311","21223312","22114312","11214313","31214311","13141132","22241131","11341132","23132131","12232132","23141221","12241222","21341221","13123132","13132222","11323132","13141312","11332222","22241311","11341312","23114131","12214132","23123221","12223222","23132311","12232312","21332311","13114222","13123312","11314222","22223311","11323312","23114311","12214312","21314311","14141131","12341131","13232131","13241221","11432131","14123131","14132221","12323131","14141311","12332221","12341311","13214131","13223221","11414131","13232311","11423221","11432311","14114221","14123311","12314221","12323311","13214311","11414311","11151133","31151131","21142132","21151222","11133133","31133131","11142223","31142221","11151313","31151311","21124132","21133222","21142312","11115133","31115131","11124223","31124221","11133313","31133311","21115222","21124312","12151132","21251131","22142131","11242132","22151221","11251222","12133132","12142222","12151312","21251311","22124131","11224132","22133221","11233222","22142311","11242312","12115132","12124222","12133312","21233311","22115221","11215222","22124311","11224312","13151131","12242131","12251221","13133131","13142221","11333131","13151311","11342221","12224131","12233221","12242311","13115131","13124221","11315131","13133311","11324221","11333311","12215221","12224311","11161132","21152131","21161221","11143132","11152222","11161312","21134131","21143221","21152311","11125132","11134222","11143312","21116131","21125221","21134311","12161131","11252131","12143131","12152221","12161311","11234131","11243221","11252311","12125131","12134221","12143311","11216131","11225221","11234311","11111236","31111234","51111232","21111325","41111323","61111321","11111416","31111414","51111412","31211143","51211141","12111235","32111233","52111231","21211234","41211232","22111324","42111322","11211325","31211323","51211321","12111415","32111413","52111411","21211414","41211412","12211144","32211142","21311143","41311141","13111234","33111232","22211233","42211231","11311234","31311232","23111323","43111321","12211324","32211322","21311323","41311321","13111414","33111412","22211413","42211411","11311414","31311412","13211143","33211141","22311142","11411143","31411141","14111233","34111231","23211232","12311233","32311231","21411232","24111322","13211323","33211321","22311322","11411323","31411321","14111413","34111411","23211412","12311413","32311411","21411412","14211142","23311141","12411142","21511141","15111232","24211231","13311232","22411231","11511232","25111321","14211322","23311321","12411322","21511321","15111412","24211411","13311412","22411411","11511412","15211141","13411141","11611141","16111231","14311231","12511231","15211321","13411321","11611321","16111411","14311411","12511411","21121144","41121142","11112145","31112143","51112141","11121235","31121233","51121231","21112234","41112232","21121324","41121322","11112325","31112323","51112321","11121415","31121413","51121411","21112414","41112412","22121143","42121141","11221144","31221142","12112144","32112142","12121234","32121232","21221233","41221231","22112233","42112231","11212234","22121323","42121321","11221324","31221322","12112324","32112322","12121414","32121412","21221413","41221411","22112413","42112411","11212414","31212412","23121142","12221143","32221141","21321142","13112143","33112141","13121233","33121231","11312143","22221232","11321233","31321231","23112232","12212233","23121322","12221323","32221321","21321322","13112323","33112321","13121413","33121411","11312323","22221412","11321413","31321411","23112412","12212413","32212411","21312412","24121141","13221142","22321141","11421142","14112142","14121232","12312142","23221231","12321232","21421231","24112231","13212232","24121321","13221322","11412232","22321321","11421322","14112322","14121412","12312322","23221411","12321412","21421411","24112411","13212412","22312411","11412412","14221141","12421141","15112141","15121231","13312141","13321231","11512141","11521231","14212231","14221321","12412231","12421321","15112321","15121411","13312321","13321411","11512321","11521411","14212411","12412411","21131143","41131141","11122144","31122142","11131234","31131232","21113143","41113141","21122233","41122231","21131323","41131321","11113234","31113232","11122324","31122322","11131414","31131412","21113323","41113321","21122413","41122411","11113414","31113412","22131142","11231143","31231141","12122143","32122141","12131233","32131231","21231232","22113142","11213143","22122232","11222233","22131322","11231323","31231321","12113233","32113231","12122323","32122321","12131413","32131411","21231412","22113322","11213323","22122412","11222413","31222411","12113413","32113411","21213412","23131141","12231142","21331141","13122142","13131232","11322142","22231231","11331232","23113141","12213142","23122231","12222232","23131321","12231322","21331321","13113232","13122322","11313232","13131412","11322322","22231411","11331412","23113321","12213322","23122411","12222412","21322411","13113412","22213411","11313412","13231141","11431141","14122141","14131231","12322141","12331231","13213141","13222231","11413141","13231321","11422231","11431321","14113231","14122321","12313231","14131411","12322321","12331411","13213321","13222411","11413321","11422411","14113411","12313411","21141142","11132143","31132141","11141233","31141231","21123142","21132232","21141322","11114143","31114141","11123233","31123231","11132323","31132321","11141413","31141411","21114232","21123322","21132412","11114323","31114321","11123413","31123411","22141141","11241142","12132142","12141232","21241231","22123141","11223142","22132231","11232232","22141321","11241322","12114142","12123232","12132322","12141412","21241411","22114231","11214232","22123321","11223322","22132411","11232412","12114322","12123412","21223411","12241141","13132141","13141231","11332141","11341231","12223141","12232231","12241321","13114141","13123231","11314141","13132321","11323231","13141411","11332321","11341411","12214231","12223321","12232411","13114321","13123411","11314321","11323411","21151141","11142142","11151232","21133141","21142231","21151321","11124142","11133232","11142322","11151412","21115141","21124231","21133321","21142411","11115232","11124322","11133412","11251141","12142141","12151231","11233141","11242231","11251321","12124141","12133231","12142321","12151411","11215141","11224231","11233321","11242411","12115231","12124321","12133411","11152141","11161231","11134141","11143231","11152321","11161411","11116141","11125231","11134321","11143411","21111244","41111242","11111335","31111333","51111331","21111424","41111422","11111515","31111513","51111511","21211153","41211151","22111243","42111241","11211244","31211242","12111334","32111332","21211333","41211331","22111423","42111421","11211424","31211422","12111514","32111512","21211513","41211511","22211152","11311153","31311151","23111242","12211243","32211241","21311242","13111333","33111331","22211332","11311333","31311331","23111422","12211423","32211421","21311422","13111513","33111511","22211512","11311513","31311511","23211151","12311152","21411151","24111241","13211242","22311241","11411242","14111332","23211331","12311332","21411331","24111421","13211422","22311421","11411422","14111512","23211511","12311512","21411511","13311151","11511151","14211241","12411241","15111331","13311331","11511331","14211421","12411421","15111511","13311511","11511511","31121152","21112153","41112151","21121243","41121241","11112244","31112242","11121334","31121332","21112333","41112331","21121423","41121421","11112424","31112422","11121514","31121512","21112513","41112511","12121153","32121151","21221152","22112152","11212153","22121242","11221243","31221241","12112243","32112241","12121333","32121331","21221332","22112332","11212333","22121422","11221423","31221421","12112423","32112421","12121513","32121511","21221512","22112512","11212513","31212511","13121152","22221151","11321152","23112151","12212152","23121241","12221242","21321241","13112242","13121332","11312242","22221331","11321332","23112331","12212332","23121421","12221422","21321421","13112422","13121512","11312422","22221511","11321512","23112511","12212512","21312511","14121151","12321151","13212151","13221241","11412151","11421241","14112241","14121331","12312241","12321331","13212331","13221421","11412331","11421421","14112421","14121511","12312421","12321511","13212511","11412511","11131153","31131151","21122152","21131242","11113153","31113151","11122243","31122241","11131333","31131331","21113242","21122332","21131422","11113333","31113331","11122423","31122421","11131513","31131511","21113422","21122512","12131152","21231151","22122151","11222152","22131241","11231242","12113152","12122242","12131332","21231331","22113241","11213242","22122331","11222332","22131421","11231422","12113332","12122422","12131512","21231511","22113421","11213422","22122511","11222512","13131151","11331151","12222151","12231241","13113151","13122241","11313151","13131331","11322241","11331331","12213241","12222331","12231421","13113331","13122421","11313331","13131511","11322421","11331511","12213421","12222511","11141152","21132151","21141241","11123152","11132242","11141332","21114151","21123241","21132331","21141421","11114242","11123332","11132422","11141512","21114331","21123421","21132511","12141151","11232151","11241241","12123151","12132241","12141331","11214151","11223241","11232331","11241421","12114241","12123331","12132421","12141511","11214331","11223421","11232511","11151151","11133151","11142241","11151331","11115151","11124241","11133331","11142421","11151511","11111254","31111252","21111343","41111341","11111434","31111432","21111523","41111521","11111614","31111612","31211161","12111253","32111251","21211252","22111342","11211343","31211341","12111433","32111431","21211432","22111522","11211523","31211521","12111613","32111611","21211612","12211162","21311161","13111252","22211251","11311252","23111341","12211342","21311341","13111432","22211431","11311432","23111521","12211522","21311521","13111612","22211611","11311612","13211161","11411161","14111251","12311251","13211341","11411341","14111431","12311431","13211521","11411521","14111611","12311611","21121162","11112163","31112161","11121253","31121251","21112252","21121342","11112343","31112341","11121433","31121431","21112432","21121522","11112523","31112521","11121613","31121611","22121161","11221162","12112162","12121252","21221251","22112251","11212252","22121341","11221342","12112342","12121432","21221431","22112431","11212432","22121521","11221522","12112522","12121612","21221611","12221161","13112161","13121251","11312161","11321251","32121115","52121113","21221116","41221114","61221112","22112116","42112114","31212115","51212113","13121116","33121114","22221115","42221113","11321116","31321114","51321112","23112115","43112113","12212116","32212114","52212112","21312115","41312113","61312111","14121115","34121113","23221114","43221112","12321115","32321113","52321111","21421114","41421112","24112114","13212115","33212113","22312114","42312112","11412115","31412113","51412111","15121114","24221113","13321114","33321112","22421113","42421111","11521114","31521112","25112113","14212114","34212112","23312113","43312111","12412114","32412112","21512113","41512111","16121113","25221112","14321113","34321111","23421112","12521113","32521111","15212113","24312112","13412113","33412111","22512112","11612113","31612111","31131115","51131113","21122116","41122114","61122112","31113115","51113113","12131116","32131114","52131112","21231115","41231113","61231111","22122115","42122113","11222116","31222114","51222112","12113116","32113114","52113112","21213115","41213113","61213111","13131115","33131113","22231114","42231112","11331115","31331113","51331111","23122114","43122112","12222115","32222113","52222111","21322114","41322112","13113115","33113113","22213114","42213112","11313115","31313113","51313111","14131114","34131112","23231113","43231111","12331114","32331112","21431113","41431111","24122113","13222114","33222112","22322113","42322111","11422114","31422112","14113114","34113112","23213113","43213111","12313114","32313112","21413113","41413111","15131113","24231112","13331113","33331111","22431112","25122112","14222113","34222111","23322112","12422113","32422111","21522112","15113113","24213112","13313113","33313111","22413112","11513113","31513111","16131112","25231111","14331112","23431111","15222112","24322111","13422112","22522111","16113112","25213111","14313112","23413111","12513112","21613111","11141116","31141114","51141112","21132115","41132113","61132111","11123116","31123114","51123112","21114115","41114113","61114111","12141115","32141113","52141111","21241114","41241112","22132114","42132112","11232115","31232113","51232111","12123115","32123113","52123111","21223114","41223112","22114114","42114112","11214115","31214113","51214111","13141114","33141112","22241113","42241111","11341114","31341112","23132113","43132111","12232114","32232112","21332113","41332111","13123114","33123112","22223113","42223111","11323114","31323112","23114113","43114111","12214114","32214112","21314113","41314111","14141113","34141111","23241112","12341113","32341111","24132112","13232113","33232111","22332112","11432113","31432111","14123113","34123111","23223112","12323113","32323111","21423112","24114112","13214113","33214111","22314112","11414113","31414111","15141112","24241111","13341112","25132111","14232112","23332111","12432112","15123112","24223111","13323112","22423111","11523112","25114111","14214112","23314111","12414112","21514111","16141111","14341111","15232111","13432111","16123111","14323111","12523111","15214111","13414111","11614111","11151115","31151113","51151111","21142114","41142112","11133115","31133113","51133111","21124114","41124112","11115115","31115113","51115111","12151114","32151112","21251113","41251111","22142113","42142111","11242114","31242112","12133114","32133112","21233113","41233111","22124113","42124111","11224114","31224112","12115114","32115112","21215113","41215111","13151113","33151111","22251112","23142112","12242113","32242111","21342112","13133113","33133111","22233112","11333113","31333111","23124112","12224113","32224111","21324112","13115113","33115111","22215112","11315113","31315111","14151112","23251111","24142111","13242112","22342111","14133112","23233111","12333112","21433111","24124111","13224112","22324111","11424112","14115112","23215111","12315112","21415111","15151111","14242111","15133111","13333111","14224111","12424111","15115111","13315111","11515111","11161114","31161112","21152113","41152111","11143114","31143112","21134113","41134111","11125114","31125112","21116113","41116111","12161113","32161111","22152112","11252113","31252111","12143113","32143111","21243112","22134112","11234113","31234111","12125113","32125111","21225112","22116112","11216113","31216111","13161112","23152111","12252112","13143112","22243111","11343112","23134111","12234112","21334111","13125112","22225111","11325112","23116111","12216112","21316111","14161111","13252111","14143111","12343111","13234111","11434111","14125111","12325111","13216111","11416111","31111216","51111214","31211125","51211123","32111215","52111213","21211216","41211214","61211212","12211126","32211124","52211122","21311125","41311123","61311121","13111216","33111214","22211215","42211213","11311216","31311214","51311212","13211125","33211123","22311124","42311122","11411125","31411123","51411121","14111215","34111213","23211214","43211212","12311215","32311213","52311211","21411214","41411212","14211124","34211122","23311123","43311121","12411124","32411122","21511123","41511121","15111214","24211213","13311214","33311212","22411213","42411211","11511214","31511212","15211123","24311122","13411123","33411121","22511122","11611123","31611121","16111213","25211212","14311213","34311211","23411212","12511213","32511211","21611212","21121126","41121124","61121122","31112125","51112123","31121215","51121213","21112216","41112214","61112212","22121125","42121123","11221126","31221124","51221122","12112126","32112124","52112122","12121216","32121214","52121212","21221215","41221213","61221211","22112215","42112213","11212216","31212214","51212212","23121124","43121122","12221125","32221123","52221121","21321124","41321122","13112125","33112123","13121215","33121213","11312125","22221214","42221212","11321215","31321213","51321211","23112214","43112212","12212215","32212213","52212211","21312214","41312212","24121123","13221124","33221122","22321123","42321121","11421124","31421122","14112124","34112122","14121214","34121212","12312124","23221213","43221211","12321214","32321212","21421213","41421211","24112213","13212214","33212212","22312213","42312211","11412214","31412212","25121122","14221123","34221121","23321122","12421123","32421121","21521122","15112123","15121213","13312123","24221212","13321213","33321211","11512123","22421212","11521213","31521211","25112212","14212213","34212211","23312212","12412213","32412211","21512212","15221122","24321121","13421122","22521121","16112122","16121212","14312122","25221211","14321212","12512122","23421211","12521212","15212212","24312211","13412212","22512211","11612212","21131125","41131123","61131121","11122126","31122124","51122122","11131216","31131214","51131212","21113125","41113123","61113121","21122215","41122213","61122211","11113216","31113214","51113212","22131124","42131122","11231125","31231123","51231121","12122125","32122123","52122121","12131215","32131213","52131211","21231214","41231212","22113124","42113122","11213125","22122214","42122212","11222215","31222213","51222211","12113215","32113213","52113211","21213214","41213212","23131123","43131121","12231124","32231122","21331123","41331121","13122124","33122122","13131214","33131212","11322124","22231213","42231211","11331214","31331212","23113123","43113121","12213124","23122213","43122211","12222214","32222212","21322213","41322211","13113214","33113212","22213213","42213211","11313214","31313212","24131122","13231123","33231121","22331122","11431123","31431121","14122123","34122121","14131213","34131211","12322123","23231212","12331213","32331211","21431212","24113122","13213123","24122212","13222213","33222211","11413123","22322212","11422213","31422211","14113213","34113211","23213212","12313213","32313211","21413212","25131121","14231122","23331121","12431122","15122122","15131212","13322122","24231211","13331212","11522122","22431211","25113121","14213122","25122211","14222212","12413122","23322211","12422212","21522211","15113212","24213211","13313212","22413211","11513212","15231121","13431121","16122121","16131211","14322121","14331211","12522121","15213121","15222211","13413121","13422211","11613121","16113211","14313211","12513211","21141124","41141122","11132125","31132123","51132121","11141215","31141213","51141211","21123124","41123122","21132214","41132212","11114125","31114123","51114121","11123215","31123213","51123211","21114214","41114212","22141123","42141121","11241124","31241122","12132124","32132122","12141214","32141212","21241213","41241211","22123123","42123121","11223124","22132213","42132211","11232214","31232212","12114124","32114122","12123214","32123212","21223213","41223211","22114213","42114211","11214214","31214212","23141122","12241123","32241121","21341122","13132123","33132121","13141213","33141211","11332123","22241212","11341213","31341211","23123122","12223123","23132212","12232213","32232211","21332212","13114123","33114121","13123213","33123211","11314123","22223212","11323213","31323211","23114212","12214213","32214211","21314212","24141121","13241122","22341121","14132122","14141212","12332122","23241211","12341212","24123121","13223122","24132211","13232212","11423122","22332211","11432212","14114122","14123212","12314122","23223211","12323212","21423211","24114211","13214212","22314211","11414212","14241121","15132121","15141211","13332121","13341211","14223121","14232211","12423121","12432211","15114121","15123211","13314121","13323211","11514121","11523211","14214211","12414211","21151123","41151121","11142124","31142122","11151214","31151212","21133123","41133121","21142213","41142211","11124124","31124122","11133214","31133212","21115123","41115121","21124213","41124211","11115214","31115212","22151122","11251123","31251121","12142123","32142121","12151213","32151211","21251212","22133122","11233123","22142212","11242213","31242211","12124123","32124121","12133213","32133211","21233212","22115122","11215123","22124212","11224213","31224211","12115213","32115211","21215212","23151121","12251122","13142122","13151212","11342122","22251211","23133121","12233122","23142211","12242212","21342211","13124122","13133212","11324122","22233211","11333212","23115121","12215122","23124211","12224212","21324211","13115212","22215211","11315212","13251121","14142121","14151211","12342121","13233121","13242211","11433121","14124121","14133211","12324121","12333211","13215121","13224211","11415121","11424211","14115211","12315211","21161122","11152123","31152121","11161213","31161211","21143122","21152212","11134123","31134121","11143213","31143211","21125122","21134212","11116123","31116121","11125213","31125211","22161121","12152122","12161212","22143121","11243122","22152211","11252212","12134122","12143212","21243211","22125121","11225122","22134211","11234212","12116122","12125212","21225211","13152121","13161211","12243121","12252211","13134121","13143211","11334121","11343211","12225121","12234211","13116121","13125211","11316121","11325211","21111226","41111224","61111222","31111315","51111313","21211135","41211133","61211131","22111225","42111223","11211226","31211224","51211222","12111316","32111314","52111312","21211315","41211313","61211311","22211134","42211132","11311135","31311133","51311131","23111224","43111222","12211225","32211223","52211221","21311224","41311222","13111315","33111313","22211314","42211312","11311315","31311313","51311311","23211133","43211131","12311134","32311132","21411133","41411131","24111223","13211224","33211222","22311223","42311221","11411224","31411222","14111314","34111312","23211313","43211311","12311314","32311312","21411313","41411311","24211132","13311133","33311131","22411132","11511133","31511131","25111222","14211223","34211221","23311222","12411223","32411221","21511222","15111313","24211312","13311313","33311311","22411312","11511313","31511311","25211131","14311132","23411131","12511132","21611131","15211222","24311221","13411222","22511221","11611222","16111312","25211311","14311312","23411311","12511312","21611311","31121134","51121132","21112135","41112133","61112131","21121225","41121223","61121221","11112226","31112224","51112222","11121316","31121314","51121312","21112315","41112313","61112311","12121135","32121133","52121131","21221134","41221132","22112134","42112132","11212135","22121224","42121222","11221225","31221223","51221221","12112225","32112223","52112221","12121315","32121313","52121311","21221314","41221312","22112314","42112312","11212315","31212313","51212311","13121134","33121132","22221133","42221131","11321134","31321132","23112133","43112131","12212134","23121223","43121221","12221224","32221222","21321223","41321221","13112224","33112222","13121314","33121312","11312224","22221313","42221311","11321314","31321312","23112313","43112311","12212314","32212312","21312313","41312311","14121133","34121131","23221132","12321133","32321131","21421132","24112132","13212133","24121222","13221223","33221221","11412133","22321222","11421223","31421221","14112223","34112221","14121313","34121311","12312223","23221312","12321313","32321311","21421312","24112312","13212313","33212311","22312312","11412313","31412311","15121132","24221131","13321132","22421131"]),s(["22121116","42121114","31221115","51221113","32112115","52112113","21212116","41212114","61212112","23121115","43121113","12221116","32221114","52221112","21321115","41321113","61321111","13112116","33112114","22212115","42212113","11312116","31312114","51312112","24121114","13221115","33221113","22321114","42321112","11421115","31421113","51421111","14112115","34112113","23212114","43212112","12312115","32312113","52312111","21412114","41412112","25121113","14221114","34221112","23321113","43321111","12421114","32421112","21521113","41521111","15112114","24212113","13312114","33312112","22412113","42412111","11512114","31512112","15221113","24321112","13421113","33421111","22521112","16112113","25212112","14312113","34312111","23412112","12512113","32512111","21612112","21131116","41131114","61131112","31122115","51122113","21113116","41113114","61113112","22131115","42131113","11231116","31231114","51231112","12122116","32122114","52122112","21222115","41222113","61222111","22113115","42113113","11213116","31213114","51213112","23131114","43131112","12231115","32231113","52231111","21331114","41331112","13122115","33122113","22222114","42222112","11322115","31322113","51322111","23113114","43113112","12213115","32213113","52213111","21313114","41313112","24131113","13231114","33231112","22331113","42331111","11431114","31431112","14122114","34122112","23222113","43222111","12322114","32322112","21422113","41422111","24113113","13213114","33213112","22313113","42313111","11413114","31413112","25131112","14231113","34231111","23331112","12431113","32431111","15122113","24222112","13322113","33322111","22422112","11522113","31522111","25113112","14213113","34213111","23313112","12413113","32413111","21513112","15231112","24331111","13431112","16122112","25222111","14322112","23422111","12522112","15213112","24313111","13413112","22513111","11613112","21141115","41141113","61141111","11132116","31132114","51132112","21123115","41123113","61123111","11114116","31114114","51114112","22141114","42141112","11241115","31241113","51241111","12132115","32132113","52132111","21232114","41232112","22123114","42123112","11223115","31223113","51223111","12114115","32114113","52114111","21214114","41214112","23141113","43141111","12241114","32241112","21341113","41341111","13132114","33132112","22232113","42232111","11332114","31332112","23123113","43123111","12223114","32223112","21323113","41323111","13114114","33114112","22214113","42214111","11314114","31314112","24141112","13241113","33241111","22341112","14132113","34132111","23232112","12332113","32332111","21432112","24123112","13223113","33223111","22323112","11423113","31423111","14114113","34114111","23214112","12314113","32314111","21414112","25141111","14241112","23341111","15132112","24232111","13332112","22432111","25123111","14223112","23323111","12423112","21523111","15114112","24214111","13314112","22414111","11514112","15241111","16132111","14332111","15223111","13423111","16114111","14314111","12514111","21151114","41151112","11142115","31142113","51142111","21133114","41133112","11124115","31124113","51124111","21115114","41115112","22151113","42151111","11251114","31251112","12142114","32142112","21242113","41242111","22133113","42133111","11233114","31233112","12124114","32124112","21224113","41224111","22115113","42115111","11215114","31215112","23151112","12251113","32251111","13142113","33142111","22242112","11342113","31342111","23133112","12233113","32233111","21333112","13124113","33124111","22224112","11324113","31324111","23115112","12215113","32215111","21315112","24151111","13251112","14142112","23242111","12342112","24133111","13233112","22333111","11433112","14124112","23224111","12324112","21424111","24115111","13215112","22315111","11415112","14251111","15142111","13342111","14233111","12433111","15124111","13324111","11524111","14215111","12415111","21161113","41161111","11152114","31152112","21143113","41143111","11134114","31134112","21125113","41125111","11116114","31116112","22161112","12152113","32152111","21252112","22143112","11243113","31243111","12134113","32134111","21234112","22125112","11225113","31225111","12116113","32116111","21216112","23161111","13152112","22252111","23143111","12243112","21343111","13134112","22234111","11334112","23125111","12225112","21325111","13116112","22216111","11316112","14152111","13243111","14134111","12334111","13225111","11425111","14116111","12316111","41111215","61111213","21211126","41211124","61211122","22111216","42111214","31211215","51211213","22211125","42211123","11311126","31311124","51311122","23111215","43111213","12211216","32211214","52211212","21311215","41311213","61311211","23211124","43211122","12311125","32311123","52311121","21411124","41411122","24111214","13211215","33211213","22311214","42311212","11411215","31411213","51411211","24211123","13311124","33311122","22411123","42411121","11511124","31511122","25111213","14211214","34211212","23311213","43311211","12411214","32411212","21511213","41511211","25211122","14311123","34311121","23411122","12511123","32511121","21611122","15211213","24311212","13411213","33411211","22511212","11611213","31611211","31121125","51121123","21112126","41112124","61112122","21121216","41121214","61121212","31112215","51112213","12121126","32121124","52121122","21221125","41221123","61221121","22112125","42112123","11212126","22121215","42121213","11221216","31221214","51221212","12112216","32112214","52112212","21212215","41212213","61212211","13121125","33121123","22221124","42221122","11321125","31321123","51321121","23112124","43112122","12212125","23121214","43121212","12221215","32221213","52221211","21321214","41321212","13112215","33112213","22212214","42212212","11312215","31312213","51312211","14121124","34121122","23221123","43221121","12321124","32321122","21421123","41421121","24112123","13212124","24121213","13221214","33221212","11412124","22321213","42321211","11421214","31421212","14112214","34112212","23212213","43212211","12312214","32312212","21412213","41412211","15121123","24221122","13321123","33321121","22421122","11521123","31521121","25112122","14212123","25121212","14221213","34221211","12412123","23321212","12421213","32421211","21521212","15112213","24212212","13312213","33312211","22412212","11512213","31512211","16121122","25221121","14321122","23421121","12521122","15212122","15221212","13412122","24321211","13421212","11612122","22521211","16112212","25212211","14312212","23412211","12512212","21612211","11131126","31131124","51131122","21122125","41122123","61122121","21131215","41131213","61131211","11113126","31113124","51113122","11122216","31122214","51122212","21113215","41113213","61113211","12131125","32131123","52131121","21231124","41231122","22122124","42122122","11222125","22131214","42131212","11231215","31231213","51231211","12113125","32113123","52113121","12122215","32122213","52122211","21222214","41222212","22113214","42113212","11213215","31213213","51213211","13131124","33131122","22231123","42231121","11331124","31331122","23122123","43122121","12222124","23131213","43131211","12231214","32231212","21331213","41331211","13113124","33113122","13122214","33122212","11313124","22222213","42222211","11322214","31322212","23113213","43113211","12213214","32213212","21313213","41313211","14131123","34131121","23231122","12331123","32331121","21431122","24122122","13222123","24131212","13231213","33231211","11422123","22331212","11431213","31431211","14113123","34113121","14122213","34122211","12313123","23222212","12322213","32322211","21422212","24113212","13213213","33213211","22313212","11413213","31413211","15131122","24231121","13331122","22431121","25122121","14222122","25131211","14231212","12422122","23331211","12431212","15113122","15122212","13313122","24222211","13322212","11513122","22422211","11522212","25113211","14213212","23313211","12413212","21513211","16131121","14331121","15222121","15231211","13422121","13431211","16113121","16122211","14313121","14322211","12513121","12522211","15213211","13413211","11613211","11141125","31141123","51141121","21132124","41132122","21141214","41141212","11123125","31123123","51123121","11132215","31132213","51132211","21114124","41114122","21123214","41123212","11114215","31114213","51114211","12141124","32141122","21241123","41241121","22132123","42132121","11232124","22141213","42141211","11241214","31241212","12123124","32123122","12132214","32132212","21232213","41232211","22114123","42114121","11214124","22123213","42123211","11223214","31223212","12114214","32114212","21214213","41214211","13141123","33141121","22241122","11341123","31341121","23132122","12232123","23141212","12241213","32241211","21341212","13123123","33123121","13132213","33132211","11323123","22232212","11332213","31332211","23114122","12214123","23123212","12223213","32223211","21323212","13114213","33114211","22214212","11314213","31314211","14141122","23241121","12341122","24132121","13232122","24141211","13241212","11432122","22341211","14123122","14132212","12323122","23232211","12332212","21432211","24114121","13214122","24123211","13223212","11414122","22323211","11423212","14114212","23214211","12314212","21414211","15141121","13341121","14232121","14241211","12432121","15123121","15132211","13323121","13332211","11523121","14214121","14223211","12414121","12423211","15114211","13314211","11514211","11151124","31151122","21142123","41142121","21151213","41151211","11133124","31133122","11142214","31142212","21124123","41124121","21133213","41133211","11115124","31115122","11124214","31124212","21115213","41115211","12151123","32151121","21251122","22142122","11242123","22151212","11251213","31251211","12133123","32133121","12142213","32142211","21242212","22124122","11224123","22133212","11233213","31233211","12115123","32115121","12124213","32124211","21224212","22115212","11215213","31215211","13151122","22251121","23142121","12242122","23151211","12251212","13133122","13142212","11333122","22242211","11342212","23124121","12224122","23133211","12233212","21333211","13115122","13124212","11315122","22224211","11324212","23115211","12215212","21315211","14151121","13242121","13251211","14133121","14142211","12333121","12342211","13224121","13233211","11424121","11433211","14115121","14124211","12315121","12324211","13215211","11415211","11161123","31161121","21152122","21161212","11143123","31143121","11152213","31152211","21134122","21143212","11125123","31125121","11134213","31134211","21116122","21125212","12161122","22152121","11252122","22161211","12143122","12152212","21252211","22134121","11234122","22143211","11243212","12125122","12134212","21234211","22116121","11216122","22125211","11225212","13161121","12252121","13143121","13152211","11343121","12234121","12243211","13125121","13134211","11325121","11334211","12216121","12225211","31111225","51111223","21111316","41111314","61111312","31211134","51211132","12111226","32111224","52111222","21211225","41211223","61211221","22111315","42111313","11211316","31211314","51211312","12211135","32211133","52211131","21311134","41311132","13111225","33111223","22211224","42211222","11311225","31311223","51311221","23111314","43111312","12211315","32211313","52211311","21311314","41311312","13211134","33211132","22311133","42311131","11411134","31411132","14111224","34111222","23211223","43211221","12311224","32311222","21411223","41411221","24111313","13211314","33211312","22311313","42311311","11411314","31411312","14211133","34211131","23311132","12411133","32411131","21511132","15111223","24211222","13311223","33311221","22411222","11511223","31511221","25111312","14211313","34211311","23311312","12411313","32411311","21511312","15211132","24311131","13411132","22511131","11611132","16111222","25211221","14311222","23411221","12511222","21611221","15211312","24311311","13411312","22511311","11611312","21121135","41121133","61121131","11112136","31112134","51112132","11121226","31121224","51121222","21112225","41112223","61112221","21121315","41121313","61121311","11112316","31112314","51112312","22121134","42121132","11221135","31221133","51221131","12112135","32112133","52112131","12121225","32121223","52121221","21221224","41221222","22112224","42112222","11212225","22121314","42121312","11221315","31221313","51221311","12112315","32112313","52112311","21212314","41212312","23121133","43121131","12221134","32221132","21321133","41321131","13112134","33112132","13121224","33121222","11312134","22221223","42221221","11321224","31321222","23112223","43112221","12212224","23121313","43121311","12221314","32221312","21321313","41321311","13112314","33112312","22212313","42212311","11312314","31312312","24121132","13221133","33221131","22321132","11421133","31421131","14112133","34112131","14121223","34121221","12312133","23221222","12321223","32321221","21421222","24112222","13212223","24121312","13221313","33221311","11412223","22321312","11421313","31421311","14112313","34112311","23212312","12312313","32312311","21412312","25121131","14221132","23321131","12421132","21521131","15112132","15121222","13312132","24221221","13321222","11512132","22421221","11521222","25112221","14212222","25121311","14221312","12412222","23321311","12421312","21521311","15112312","24212311","13312312","22412311","11512312","15221131","13421131","16112131","16121221","14312131","14321221","12512131","12521221","15212221","15221311","13412221","13421311","11612221","16112311","14312311","12512311","21131134","41131132","11122135","31122133","51122131","11131225","31131223","51131221","21113134","41113132","21122224","41122222","21131314","41131312","11113225","31113223","51113221","11122315","31122313","51122311","21113314","41113312","22131133","42131131","11231134","31231132","12122134","32122132","12131224","32131222","21231223","41231221","22113133","42113131","11213134","22122223","42122221","11222224","22131313","42131311","11231314","31231312","12113224","32113222","12122314","32122312","21222313","41222311","22113313","42113311","11213314","31213312","23131132","12231133","32231131","21331132","13122133","33122131","13131223","33131221","11322133","22231222","11331223","31331221","23113132","12213133","23122222","12222223","23131312","12231313","32231311","21331312","13113223","33113221","13122313","33122311","11313223","22222312","11322313","31322311","23113312","12213313","32213311","21313312","24131131","13231132","22331131","11431132","14122132","14131222","12322132","23231221","12331222","21431221","24113131","13213132","24122221","13222222","24131311","11413132","13231312","11422222","22331311","11431312","14113222","14122312","12313222","23222311","12322312","21422311","24113311","13213312","22313311","11413312","14231131","12431131","15122131","15131221","13322131","13331221","11522131","14213131","14222221","12413131","14231311","12422221","12431311","15113221","15122311","13313221","13322311","11513221","11522311","14213311","12413311","21141133","41141131","11132134","31132132","11141224","31141222","21123133","41123131","21132223","41132221","21141313","41141311","11114134","31114132","11123224","31123222","11132314","31132312","21114223","41114221","21123313","41123311","11114314","31114312","22141132","11241133","31241131","12132133","32132131","12141223","32141221","21241222","22123132","11223133","22132222","11232223","22141312","11241313","31241311","12114133","32114131","12123223","32123221","12132313","32132311","21232312","22114222","11214223","22123312","11223313","31223311","12114313","32114311","21214312","23141131","12241132","21341131","13132132","13141222","11332132","22241221","11341222","23123131","12223132","23132221","12232222","23141311","12241312","21341311","13114132","13123222","11314132","13132312","11323222","22232311","11332312","23114221","12214222","23123311","12223312","21323311","13114312","22214311","11314312","13241131","14132131","14141221","12332131","12341221","13223131","13232221","11423131","13241311","11432221","14114131","14123221","12314131","14132311","12323221","12332311","13214221","13223311","11414221","11423311","14114311","12314311","21151132","11142133","31142131","11151223","31151221","21133132","21142222","21151312","11124133","31124131","11133223","31133221","11142313","31142311","21115132","21124222","21133312","11115223","31115221","11124313","31124311","22151131","11251132","12142132","12151222","21251221","22133131","11233132","22142221","11242222","22151311","11251312","12124132","12133222","12142312","21242311","22115131","11215132","22124221","11224222","22133311","11233312","12115222","12124312","21224311","12251131","13142131","13151221","11342131","12233131","12242221","12251311","13124131","13133221","11324131","13142311","11333221","11342311","12215131","12224221","12233311","13115221","13124311","11315221","11324311","21161131","11152132","11161222","21143131","21152221","21161311","11134132","11143222","11152312","21125131","21134221","21143311","11116132","11125222","11134312","12152131","12161221","11243131","11252221","12134131","12143221","12152311","11225131","11234221","11243311","12116131","12125221","12134311","21111235","41111233","61111231","11111326","31111324","51111322","21111415","41111413","61111411","21211144","41211142","22111234","42111232","11211235","31211233","51211231","12111325","32111323","52111321","21211324","41211322","22111414","42111412","11211415","31211413","51211411","22211143","42211141","11311144","31311142","23111233","43111231","12211234","32211232","21311233","41311231","13111324","33111322","22211323","42211321","11311324","31311322","23111413","43111411","12211414","32211412","21311413","41311411","23211142","12311143","32311141","21411142","24111232","13211233","33211231","22311232","11411233","31411231","14111323","34111321","23211322","12311323","32311321","21411322","24111412","13211413","33211411","22311412","11411413","31411411","24211141","13311142","22411141","11511142","25111231","14211232","23311231","12411232","21511231","15111322","24211321","13311322","22411321","11511322","25111411","14211412","23311411","12411412","21511411","14311141","12511141","15211231","13411231","11611231","16111321","14311321","12511321","15211411","13411411","11611411","31121143","51121141","21112144","41112142","21121234","41121232","11112235","31112233","51112231","11121325","31121323","51121321","21112324","41112322","21121414","41121412","11112415","31112413","51112411","12121144","32121142","21221143","41221141","22112143","42112141","11212144","22121233","42121231","11221234","31221232","12112234","32112232","12121324","32121322","21221323","41221321","22112323","42112321","11212324","22121413","42121411","11221414","31221412","12112414","32112412","21212413","41212411","13121143","33121141","22221142","11321143","31321141","23112142","12212143","23121232","12221233","32221231","21321232","13112233","33112231","13121323","33121321","11312233","22221322","11321323","31321321","23112322","12212323","23121412","12221413","32221411","21321412","13112413","33112411","22212412","11312413","31312411","14121142","23221141","12321142","21421141","24112141","13212142","24121231","13221232","11412142","22321231","11421232","14112232","14121322","12312232","23221321","12321322","21421321","24112321","13212322","24121411","13221412","11412322","22321411","11421412","14112412","23212411","12312412","21412411","15121141","13321141","11521141","14212141","14221231","12412141","12421231","15112231","15121321","13312231","13321321","11512231","11521321","14212321","14221411","12412321","12421411","15112411","13312411","11512411","11131144","31131142","21122143","41122141","21131233","41131231","11113144","31113142","11122234","31122232","11131324","31131322","21113233","41113231","21122323","41122321","21131413","41131411","11113324","31113322","11122414","31122412","21113413","41113411","12131143","32131141","21231142","22122142","11222143","22131232","11231233","31231231","12113143","32113141","12122233","32122231","12131323","32131321","21231322","22113232","11213233","22122322","11222323","22131412","11231413","31231411","12113323","32113321","12122413","32122411","21222412","22113412","11213413","31213411","13131142","22231141","11331142","23122141","12222142","23131231","12231232","21331231","13113142","13122232","11313142","13131322","11322232","22231321","11331322","23113231","12213232","23122321","12222322","23131411","12231412","21331411","13113322","13122412","11313322","22222411","11322412","23113411","12213412","21313411","14131141","12331141","13222141","13231231","11422141","11431231","14113141","14122231","12313141","14131321","12322231","12331321","13213231","13222321","11413231","13231411","11422321","11431411","14113321","14122411","12313321","12322411","13213411","11413411","11141143","31141141","21132142","21141232","11123143","31123141","11132233","31132231","11141323","31141321","21114142","21123232","21132322","21141412","11114233","31114231","11123323","31123321","11132413","31132411","21114322","21123412","12141142","21241141","22132141","11232142","22141231","11241232","12123142","12132232","12141322","21241321","22114141","11214142","22123231","11223232","22132321","11232322","22141411","11241412","12114232","12123322","12132412","21232411","22114321","11214322","22123411","11223412","13141141","11341141","12232141","12241231","13123141","13132231","11323141","13141321","11332231","11341321","12214141","12223231","12232321","12241411","13114231","13123321","11314231","13132411","11323321","11332411","12214321","12223411","11151142","21142141","21151231","11133142","11142232","11151322","21124141","21133231","21142321","21151411","11115142","11124232","11133322","11142412","21115231","21124321","21133411","12151141","11242141","11251231","12133141","12142231","12151321","11224141","11233231","11242321","11251411","12115141","12124231","12133321","12142411","11215231","11224321","11233411","11161141","11143141","11152231","11161321","11125141","11134231","11143321","11152411","11111245","31111243","51111241","21111334","41111332","11111425","31111423","51111421","21111514","41111512","31211152","12111244","32111242","21211243","41211241","22111333","42111331","11211334","31211332","12111424","32111422","21211423","41211421","22111513","42111511","11211514","31211512","12211153","32211151","21311152","13111243","33111241","22211242","11311243","31311241","23111332","12211333","32211331","21311332","13111423","33111421","22211422","11311423","31311421","23111512","12211513","32211511","21311512","13211152","22311151","11411152","14111242","23211241","12311242","21411241","24111331","13211332","22311331","11411332","14111422","23211421","12311422","21411421","24111511","13211512","22311511","11411512","14211151","12411151","15111241","13311241","11511241","14211331","12411331","15111421","13311421","11511421","14211511","12411511","21121153","41121151","11112154","31112152","11121244","31121242","21112243","41112241","21121333","41121331","11112334","31112332","11121424","31121422","21112423","41112421","21121513","41121511","11112514","31112512","22121152","11221153","31221151","12112153","32112151","12121243","32121241","21221242","22112242","11212243","22121332","11221333","31221331","12112333","32112331","12121423","32121421","21221422","22112422","11212423","22121512","11221513","31221511","12112513","32112511","21212512","23121151","12221152","21321151","13112152","13121242","11312152","22221241","11321242","23112241","12212242","23121331","12221332","21321331","13112332","13121422","11312332","22221421","11321422","23112421","12212422","23121511","12221512","21321511","13112512","22212511","11312512","13221151","11421151","14112151","14121241","12312151","12321241","13212241","13221331","11412241","11421331","14112331","14121421","12312331","12321421","13212421","13221511","11412421","11421511","14112511","12312511","21131152","11122153","31122151","11131243","31131241","21113152","21122242","21131332","11113243","31113241","11122333","31122331","11131423","31131421","21113332","21122422","21131512","11113423","31113421","11122513","31122511","22131151","11231152","12122152","12131242","21231241","22113151","11213152","22122241","11222242","22131331","11231332","12113242","12122332","12131422","21231421","22113331","11213332","22122421","11222422","22131511","11231512","12113422","12122512","21222511","12231151","13122151","13131241","11322151","11331241","12213151","12222241","12231331","13113241","13122331","11313241","13131421","11322331","11331421","12213331","12222421","12231511","13113421","13122511","11313421","11322511","21141151","11132152","11141242","21123151","21132241","21141331","11114152","11123242","11132332","11141422","21114241","21123331","21132421","21141511","11114332","11123422","11132512","11241151","12132151","12141241","11223151","11232241","11241331","12114151","12123241","12132331","12141421","11214241","11223331","11232421","11241511","12114331","12123421","12132511","11142151","11151241","11124151","11133241","11142331","11151421","11115241","11124331","11133421","11142511","21111253","41111251","11111344","31111342","21111433","41111431","11111524","31111522","21111613","41111611","21211162","22111252","11211253","31211251","12111343","32111341","21211342","22111432","11211433","31211431","12111523","32111521","21211522","22111612","11211613","31211611","22211161","11311162","23111251","12211252","21311251","13111342","22211341","11311342","23111431","12211432","21311431","13111522","22211521","11311522","23111611","12211612","21311611","12311161","13211251","11411251","14111341","12311341","13211431","11411431","14111521","12311521","13211611","11411611","31121161","21112162","21121252","11112253","31112251","11121343","31121341","21112342","21121432","11112433","31112431","11121523","31121521","21112522","21121612","12121162","21221161","22112161","11212162","22121251","11221252","12112252","12121342","21221341","22112341","11212342","22121431","11221432","12112432","12121522","21221521","22112521","11212522","22121611","11221612","13121161","11321161","12212161","12221251","13112251","13121341","11312251","11321341","12212341","12221431","13112431","13121521","11312431","11321521","12212521","12221611","11131162","21122161","21131251","11113162"])]),e.parity=s(["1001","0101","1100","0011","1010","0110","1111","0000"]),e.rowbits=s(e.r);for(var Pe=0,Me=e.r-1;Pe<=Me;Pe+=1){e.i=Pe,r[t++]="p",e.i!=e.r-1?r[t++]=c(e.parity,e.i):r[t++]="0000";var $e=r[--t];e[r[--t]]=$e,e.ccrow=C(e.ccs,e.i*8,8),r[t++]=1/0;for(var rt=0;rt<=7;rt+=2){O(C(e.ccrow,rt,2));var pt=r[--t],ut=r[--t];r[t++]=S(pt+ut*49)}e.scrow=s(),r[t++]=1/0,r[t++]=10,r[t++]=1,r[t++]=1;for(var bt=0;bt<=3;bt+=1)e.j=bt,ve(c(c(e.patterns,c(e.p,e.j)-48),c(e.scrow,e.j)),function(){var Te=r[--t];r[t++]=Te-48});r[t++]=4,r[t++]=1,e.sbs=s(),r[t++]=1/0;var It=e.sbs;r[t++]=1;for(var St=0,de=It.length;St<de;St++)for(var Ee=r[t-1],at=Ee==0?1:0,ot=0,Et=c(It,St);ot<Et;ot++)r[t++]=at;Yt(s(va()-1));var yt=r[--t];r[t-1]=yt;var P=r[--t];r[t-1]=P,r[t++]=e.rowbits,r[t++]=e.i;var G=r[t-3],q=r[t-1];b(r[t-2],q,G),t-=3}r[t++]=1/0;for(var te=0,ce=81*e.sepheight;te<ce;te++)r[t++]=1;for(var ge=0,ae=e.r-2;ge<=ae;ge+=1){e.i=ge;for(var Ce=0,Z=e.rowheight;Ce<Z;Ce++)O(c(e.rowbits,e.i));for(var xe=0,me=e.sepheight;xe<me;xe++){for(var Ne=0;Ne<10;Ne++)r[t++]=0;for(var oe=0;oe<70;oe++)r[t++]=1;r[t++]=0}}for(var we=0,Be=e.rowheight;we<Be;we++)O(c(e.rowbits,e.r-1));for(var pe=0,Ie=81*e.sepheight;pe<Ie;pe++)r[t++]=1;e.pixs=s();var Se=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=Se,e.dontdraw||At(),e=a}function pM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.3,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var g=r[--t];(g<48||g>57)&&(r[t++]="bwipp.flattermarkenBadCharacter#17258",r[t++]="Flattermarken must contain only digits",z())}),e.encs=s(["0018","0117","0216","0315","0414","0513","0612","0711","0810","0900"]),e.barchars="1234567890",e.barlen=e.barcode.length,e.sbs=J(e.barlen*4),e.txt=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,Rt(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4,e.enc),b(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*9,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0;for(var o=e.sbs,d=0,u=o.length;d<u;d++)r[t++]=c(o,d)-48;var f=s();r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0,y=~~((e.sbs.length+1)/2);x<y;x++)r[t++]=0;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=w,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options;var v=Ge();r[t++]=v,e.dontdraw||Mt(),e=a}function mM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],ve(e.barcode,function(){var m=r[--t];(m<49||m>57)&&(r[t++]="bwipp.rawBadCharacter#17344",r[t++]="Raw must contain only digits 1 to 9",z())}),r[t++]=1/0,r[t++]=1/0,ve(e.barcode,function(){var m=r[--t];r[t++]=m-48});var n=s();r[t++]=1/0;for(var i=0,o=~~((e.barcode.length+1)/2);i<o;i++)r[t++]=e.height;var d=s();r[t++]=1/0;for(var u=0,f=~~((e.barcode.length+1)/2);u<f;u++)r[t++]=0;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=n,r[t++]="bhs",r[t++]=d,r[t++]="bbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=Ge();r[t++]=p,e.dontdraw||Mt(),e=a}function xM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.175,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.daftEmptyData#17397",r[t++]="The data must not be empty",z()),ve(e.barcode,function(){var m=r[--t];m!=68&&m!=65&&m!=70&&m!=84&&(r[t++]="bwipp.daftBadCharacter#17402",r[t++]="DAFT must contain only characters D, A, F and T",z())}),e.barlen=e.barcode.length,e.bbs=s(e.barlen),e.bhs=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.enc=C(e.barcode,e.i,1),Y(e.enc,"D")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"A")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,5*e.height/8)),Y(e.enc,"F")&&(b(e.bbs,e.i,0*e.height/8),b(e.bhs,e.i,8*e.height/8)),Y(e.enc,"T")&&(b(e.bbs,e.i,3*e.height/8),b(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var o=e.bbs,d=e.bhs;r[t++]=1/0;for(var u=0,f=e.bhs.length-1;u<f;u++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=o,r[t++]="bhs",r[t++]=d,r[t++]="sbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=Ge();r[t++]=p,e.dontdraw||Mt(),e=a}function vM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.fimasbs=s([2.25,2.25,2.25,11.25,2.25,11.25,2.25,2.25,2.25]),r[t++]=1/0;for(var n=0,i=~~(e.fimasbs.length/2)+1;n<i;n++)r[t++]=.625;e.fimabhs=s(),r[t++]=1/0;for(var o=0,d=~~(e.fimasbs.length/2)+1;o<d;o++)r[t++]=0;e.fimabbs=s(),e.fimbsbs=s([2.25,6.75,2.25,2.25,2.25,6.25,2.25,2.25,2.25,6.75,2.25]),r[t++]=1/0;for(var u=0,f=~~(e.fimbsbs.length/2)+1;u<f;u++)r[t++]=.625;e.fimbbhs=s(),r[t++]=1/0;for(var h=0,p=~~(e.fimbsbs.length/2)+1;h<p;h++)r[t++]=0;e.fimbbbs=s(),e.fimcsbs=s([2.25,2.25,2.25,6.75,2.25,6.75,2.25,6.75,2.25,2.25,2.25]),r[t++]=1/0;for(var m=0,x=~~(e.fimcsbs.length/2)+1;m<x;m++)r[t++]=.625;e.fimcbhs=s(),r[t++]=1/0;for(var y=0,w=~~(e.fimcsbs.length/2)+1;y<w;y++)r[t++]=0;e.fimcbbs=s(),e.fimdsbs=s([2.25,2.25,2.25,2.25,2.25,6.75,2.25,6.75,2.25,2.25,2.25,2.25,2.25]),r[t++]=1/0;for(var v=0,g=~~(e.fimdsbs.length/2)+1;v<g;v++)r[t++]=.625;e.fimdbhs=s(),r[t++]=1/0;for(var A=0,k=~~(e.fimdsbs.length/2)+1;A<k;A++)r[t++]=0;e.fimdbbs=s(),e.fimesbs=s([2.25,6.75,2.25,15.75,2.25,6.75,2.25]),r[t++]=1/0;for(var E=0,j=~~(e.fimesbs.length/2)+1;E<j;E++)r[t++]=.625;e.fimebhs=s(),r[t++]=1/0;for(var N=0,B=~~(e.fimesbs.length/2)+1;N<B;N++)r[t++]=0;e.fimebbs=s(),r[t++]=1/0;for(var I=0;I<100;I++)r[t++]=1,r[t++]=1;r[t++]=1,e.zebrasbs=s(),r[t++]=1/0;for(var D=0,T=~~(e.zebrasbs.length/2)+1;D<T;D++)r[t++]=1;e.zebrabhs=s(),r[t++]=1/0;for(var R=0,$=~~(e.zebrasbs.length/2)+1;R<$;R++)r[t++]=0;e.zebrabbs=s(),e.checksize=199,r[t++]=1/0;for(var _=e.checksize,F=0,Q=~~(_*_/2);F<Q;F++)r[t++]=1,r[t++]=0;r[t++]=1,e.checkpixs=s();var L=new Map([["renlinear",Mt],["renmatrix",At]]);e.renmap=L;var X=new Map([["fima",function(){var H=new Map([["ren","renlinear"],["sbs",e.fimasbs],["bhs",e.fimabhs],["bbs",e.fimabbs]]);r[t++]=H}],["fimb",function(){var H=new Map([["ren","renlinear"],["sbs",e.fimbsbs],["bhs",e.fimbbhs],["bbs",e.fimbbbs]]);r[t++]=H}],["fimc",function(){var H=new Map([["ren","renlinear"],["sbs",e.fimcsbs],["bhs",e.fimcbhs],["bbs",e.fimcbbs]]);r[t++]=H}],["fimd",function(){var H=new Map([["ren","renlinear"],["sbs",e.fimdsbs],["bhs",e.fimdbhs],["bbs",e.fimdbbs]]);r[t++]=H}],["fime",function(){var H=new Map([["ren","renlinear"],["sbs",e.fimesbs],["bhs",e.fimebhs],["bbs",e.fimebbs]]);r[t++]=H}],["zebra",function(){var H=new Map([["ren","renlinear"],["sbs",e.zebrasbs],["bhs",e.zebrabhs],["bbs",e.zebrabbs]]);r[t++]=H}],["check",function(){var H=new Map([["ren","renmatrix"],["pixs",e.checkpixs],["pixx",e.checksize],["pixy",e.checksize],["height",e.checksize/72],["width",e.checksize/72]]);r[t++]=H}]]);e.symbols=X;var le=c(e.symbols,e.barcode)!==void 0;if(le||(r[t++]="bwipp.symbolUnknownSymbol#17531",r[t++]="Unknown symbol name provided",z()),c(e.symbols,e.barcode)()===!0)return!0;var fe=r[t-1];if(b(fe,"opt",e.options),!e.dontdraw){var V=r[t-1];if(c(e.renmap,c(V,"ren"))()===!0)return!0}e=a}function $u(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.compact=!1,e.eclevel=-1,e.fixedeclevel=!1,e.columns=0,e.rows=0,e.rowmult=3,e.ccc=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.pdf417emptyData#17591",r[t++]="The data must not be empty",z()),e.eclevel!=-1&&(e.eclevel<0||e.eclevel>8)&&(r[t++]="bwipp.pdf417InvalidErrorCorrectionLevel#17595",r[t++]="Valid error correction levels are 0 to 8",z()),e.ccc&&e.raw&&(r[t++]="bwipp.pdf417cccAndRaw#17599",r[t++]="Cannot combine ccc and raw",z()),e.ccc&&e.compact&&(r[t++]="bwipp.pdf417cccAndCompact#17603",r[t++]="Cannot combine ccc and compact",z()),e.rows!=0&&(e.rows<3||e.rows>90)&&(r[t++]="bwipp.pdf417invalidRows#17607",r[t++]="There must be between 3 and 90 rows",z()),e.columns!=0&&(e.columns<1||e.columns>30)&&(r[t++]="bwipp.pdf417invalidColumns#17611",r[t++]="There must be between 1 and 30 columns",z()),e.rowmult<=0&&(r[t++]="bwipp.pdf417badRowMult#17615",r[t++]="The row multiplier must be greater than zero",z()),e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var n=0,i=e.charmaps.length-1;n<=i;n+=1){e.i=n,e.encs=c(e.charmaps,e.i);for(var o=0;o<=3;o+=1){e.j=o;var d=c(e.encs,e.j);if(r[t++]=d,Y(an(d),"stringtype")){var u=c(r[--t],0);r[t++]=u}var f=r[--t];b(c(e.charvals,e.j),f,e.i),b(e.alltext,f,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,e.latchcws=Ge(),e.raw){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var h=C(e.barcode,e.i+1,3);r[t++]=h,r[t++]=!1;for(var p=0,m=h.length;p<m;p++){var x=c(h,p);(x<48||x>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Fe(r[--t]),b(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.pdf417badRawFormat#17727",r[t++]="raw data must be formatted as ^NNN",z()),e.datcws=C(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var me=0,Ne=~~(e.inlen/6)-1;me<=Ne;me+=1){e.k=me,r[t++]=1/0,O(C(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,O(e.msbs);var oe=r[--t],we=r[--t],Be=r[--t];r[t++]=S(oe+we*256+Be*65536);for(var pe=0;pe<3;pe++){var Ie=r[--t];r[t++]=Ie%900,r[t++]=~~(Ie/900)}e.mscs=s(),r[t++]=1/0,O(C(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,O(e.lsbs);var Se=r[--t],Te=r[--t],Ve=r[--t];r[t++]=S(Se+Te*256+Ve*65536);for(var qe=0;qe<3;qe++){var et=r[--t];r[t++]=et%900,r[t++]=~~(et/900)}e.lscs=s();var ct=c(e.lscs,0),lt=c(e.mscs,0);b(e.out,e.k*5+4,S(ct+lt*316)%900);var De=c(e.lscs,1),We=c(e.mscs,0),Ke=c(e.mscs,1);b(e.out,e.k*5+3,S(~~((ct+lt*316)/900)+De+We*641+Ke*316)%900);var st=c(e.lscs,2),gt=c(e.mscs,0),wt=c(e.mscs,1),vt=c(e.mscs,2);b(e.out,e.k*5+2,S(~~((~~((ct+lt*316)/900)+De+We*641+Ke*316)/900)+st+gt*20+wt*641+vt*316)%900);var kt=c(e.lscs,3),dt=c(e.mscs,1),_t=c(e.mscs,2);b(e.out,e.k*5+1,S(~~((~~((~~((ct+lt*316)/900)+De+We*641+Ke*316)/900)+st+gt*20+wt*641+vt*316)/900)+kt+dt*20+_t*641)%900),b(e.out,e.k*5,S(~~((~~((~~((~~((ct+lt*316)/900)+De+We*641+Ke*316)/900)+st+gt*20+wt*641+vt*316)/900)+kt+dt*20+_t*641)/900)+c(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,O(C(e.in,e.inlen-e.rem,e.rem));var nt=s(),Qt=r[--t];M(r[--t],Qt,nt)}r[t++]=e.out},e.ccc){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),b(e.datcws,0,920);var y=e.barlen%6==0?924:901;b(e.datcws,1,y),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ve(e.barcode);var w=s();r[t++]=w,e.encb();var v=r[--t],g=r[--t];M(r[--t],g,v)}if(!e.raw&&!e.ccc){var A=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=A,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var k=r[--t];e[r[--t]]=k,e.msglen=e.msg.length,r[t++]=1/0;for(var E=0,j=e.msglen;E<j;E++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var N=0,B=e.msglen;N<B;N++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var T=0,R=e.msglen;T<R;T++)r[t++]=0;r[t++]=0,e.iseci=s();for(var $=e.msglen-1;$>=0;$-=1){e.i=$;var _=c(e.msg,e.i);_>=48&&_<=57&&b(e.numdigits,e.i,c(e.numdigits,e.i+1)+1);var F=c(e.alltext,c(e.msg,e.i))!==void 0;F&&c(e.numdigits,e.i)<13&&b(e.numtext,e.i,c(e.numtext,e.i+1)+1),c(e.msg,e.i)>=0&&c(e.numtext,e.i)<5&&c(e.numdigits,e.i)<13&&b(e.numbytes,e.i,c(e.numbytes,e.i+1)+1),b(e.iseci,e.i,c(e.msg,e.i)<=-1e6)}for(e.numdigits=C(e.numdigits,0,e.msglen),e.numtext=C(e.numtext,0,e.msglen),e.numbytes=C(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.T,e.p=0;e.p!=e.msglen;)if(c(e.iseci,e.p)){if(e.eci=c(e.msg,e.p),r[t++]=1/0,O(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var Q=e.eci<=-1000900?3:2;r[t++]=Q}var L=r[--t],X=r[--t];e[r[--t]]=S(X+L)}else if(e.n=c(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,O(e.seq),r[t++]=e.nl,r[t++]=1/0,O(C(e.msg,e.p,e.n));var le=s();r[t++]=le,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=c(e.numtext,e.p),e.t>=5){r[t++]=1/0,O(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,O(C(e.msg,e.p,e.t));var fe=s();r[t++]=fe,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=c(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,O(e.seq),r[t++]=e.bs,r[t++]=s([c(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,O(e.seq);var V=e.b%6!=0?e.bl:e.bl6;r[t++]=V,r[t++]=1/0,O(C(e.msg,e.p,e.b));var H=s();r[t++]=H,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}for(e.enca=function(){var me=c(c(e.charvals,e.A),r[--t]);r[t++]=me},e.encl=function(){var me=c(c(e.charvals,e.L),r[--t]);r[t++]=me},e.encm=function(){var me=c(c(e.charvals,e.M),r[--t]);r[t++]=me},e.encp=function(){var me=c(c(e.charvals,e.P),r[--t]);r[t++]=me},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){b(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),b(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ve(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var gt=s([e.A,e.L,e.M,e.P]),wt=0,vt=gt.length;wt<vt;wt++){e.x=c(gt,wt);for(var kt=s([e.A,e.L,e.M,e.P]),dt=0,_t=kt.length;dt<_t;dt++)if(e.y=c(kt,dt),e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y)){b(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.x)),O(c(c(e.latseq,e.x),e.y));var nt=s(),Qt=r[--t];b(r[--t],Qt,nt),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var Ht=s([e.A,e.L,e.M,e.P]),Ut=0,sr=Ht.length;Ut<sr;Ut++)for(e.x=c(Ht,Ut);;){var Cr=c(c(e.charvals,e.x),e.char)!==void 0;if(!Cr)break;if(e.cost=c(e.curlen,e.x)+1,e.cost<c(e.nxtlen,e.x)){b(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(c(e.curseq,e.x)),r[t++]=e.char;var nr=s(),gr=r[--t];b(r[--t],gr,nr)}for(var ar=s([e.A,e.L,e.M,e.P]),Br=0,Zt=ar.length;Br<Zt;Br++)if(e.y=c(ar,Br),_e(e.x,e.y)&&(e.cost=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x))+1,e.cost<c(e.nxtlen,e.y))){b(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.y));var dr=e.x==e.A?e.as:e.ps;r[t++]=dr,r[t++]=e.char;var Kt=s(),Jt=r[--t];b(r[--t],Jt,Kt)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var me=s([e.A,e.L,e.M,e.P]),Ne=0,oe=me.length;Ne<oe;Ne++)e.k=c(me,Ne),c(e.curlen,e.k)<e.minseq&&(e.minseq=c(e.curlen,e.k),e.txtseq=c(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=c(e.txtseq,e.k),r[t++]=e.char,e[c(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=c(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var we=r[--t];e[r[--t]]=we,e.submode=e.A}else{e.nextecitext=!1;for(var Be=e.i+1,pe=e.seq.length-1;Be<=pe;Be+=1){if(e.ti=Be,_e(an(c(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(c(c(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Ie=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Ie){r[t++]="pad",r[t++]=e.ll,e.enca();var Se=r[--t];e[r[--t]]=Se,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var Te=r[--t];e[r[--t]]=Te,e.submode=e.M}}else if(e.submode==e.M){var Ve=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Ve){r[t++]="pad",r[t++]=e.ll,e.encm();var qe=r[--t];e[r[--t]]=qe,e.submode=e.L}else{var et=c(c(e.charvals,e.P),c(c(e.seq,e.ti),0))!==void 0;if(et){r[t++]="pad",r[t++]=e.pl,e.encm();var ct=r[--t];e[r[--t]]=ct,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var lt=r[--t];e[r[--t]]=lt,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var De=r[--t];e[r[--t]]=De,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[c(e.textencfuncs,e.submode)]()===!0)return!0;var We=r[--t];e[r[--t]]=We}}r[t++]=1/0,O(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var Ke=0,st=e.out.length-1;Ke<=st;Ke+=1)e.k=Ke,b(e.out,e.k,S(c(e.text,e.k*2)*30+c(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var me=0,Ne=e.in.length-1;me<=Ne;me+=44){e.k=me,r[t++]=1/0;var oe=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=oe,oe>44&&(r[t-1]=44);for(var we=r[--t],Be=r[--t],pe=C(r[--t],Be,we),Ie=0,Se=pe.length;Ie<Se;Ie++)r[t++]=c(pe,Ie)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+c(e.gmod,0)),e.gmod=C(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,O(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,O(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,O(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,O(e.out),O(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var me=-c(r[--t],0)-1e6;if(r[t++]=me,me<=899){var Ne=r[--t];r[t++]=927,r[t++]=Ne,Yt(s(2))}else{var oe=r[t-1];if(oe<=810899){var we=r[--t];r[t++]=926,r[t++]=~~(we/900)-1,r[t++]=we%900,Yt(s(3))}else{var Be=r[t-1];if(Be<=811799){var pe=r[--t];r[t++]=925,r[t++]=pe-810900,Yt(s(2))}else r[t++]="bwipp.pdf417badECI#18089",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var me=r[--t];M(e.datcws,e.j,me),e.j=me.length+e.j},e.state=e.T,e.submode=e.A,e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=c(e.seq,e.i),Y(an(e.chars),"arraytype"))if(c(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[c(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([c(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=c(e.seq,e.i),e.encb(),e.addtocws());e.i=e.i+1}e.datcws=C(e.datcws,0,e.j)}e.m=e.datcws.length,e.m>926&&(r[t++]="bwipp.pdf417dataTooLong#18129",r[t++]="The data is too long",z()),e.eclevel==-1&&(e.m<=40&&(e.eclevel=2),e.m>=41&&e.m<=160&&(e.eclevel=3),e.m>=161&&e.m<=320&&(e.eclevel=4),e.m>=321&&(e.eclevel=5)),e.fixedeclevel||(e.maxeclevel=~~(pn(927-e.m)/pn(2))-1,e.eclevel>e.maxeclevel&&(e.eclevel=e.maxeclevel)),e.k=~~di(2,e.eclevel+1),e.columns==0&&(e.columns=~~E1(uu((e.m+e.k)/3))),r[t++]="c",e.columns>=1?r[t++]=e.columns:r[t++]=1;var se=r[--t];if(e[r[--t]]=se,e.r=~~xr((e.m+e.k+1)/e.columns),e.r<e.rows&&e.rows<=90&&(e.r=e.rows),e.r<3&&(e.r=3),e.r>90&&(r[t++]="bwipp.pdf417insufficientCapacity#18158",r[t++]="Insufficient capacity in the symbol",z()),!e.fixedeclevel){var ue=e.c,U=e.r,W=e.m,re=8,ie=~~(pn(S(ue*U-1-W))/pn(2))-1;if(~~(pn(S(ue*U-1-W))/pn(2))-1>8){var be=re;re=ie,ie=be}e.maxeclevel=ie,e.maxeclevel>e.eclevel&&(e.eclevel=e.maxeclevel,e.k=~~di(2,e.eclevel+1))}e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),b(e.cws,0,e.n),M(e.cws,1,e.datcws),r[t++]=e.cws,r[t++]=e.m+1,r[t++]=1/0;for(var K=0,ke=S(e.n-e.m)-1;K<ke;K++)r[t++]=900;var je=s(),Qe=r[--t];M(r[--t],Qe,je),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var ze=0,tt=e.k;ze<tt;ze++)r[t++]=0;r[t++]=0;var Ze=s(),Re=r[--t];M(r[--t],Re,Ze),r[t++]=1/0,r[t++]=1;for(var He=0;He<928;He++){var Ue=r[t-1];r[t++]=Ue*3%929}e.rsalog=s(),e.rslog=s(929);for(var ye=1;ye<=928;ye+=1)b(e.rslog,c(e.rsalog,ye),ye);e.rsprod=function(){var me=r[t-1],Ne=r[t-2];if(me!=0&&Ne!=0){var oe=c(e.rslog,r[--t]),we=c(e.rsalog,S(oe+c(e.rslog,r[--t]))%928);r[t++]=we}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Ye=0,Ae=e.k;Ye<Ae;Ye++)r[t++]=0;e.coeffs=s();for(var Le=1,he=e.k;Le<=he;Le+=1){e.i=Le,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var Pe=e.i-1;Pe>=1;Pe-=1){e.j=Pe,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Me=r[--t],$e=r[--t],rt=r[--t];b(r[--t],rt,S($e+Me)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var pt=r[--t],ut=r[--t];b(r[--t],ut,pt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var bt=e.coeffs.length-1;bt>=0;bt-=2){var It=e.coeffs;b(It,bt,929-c(It,bt))}for(var St=0,de=e.n-1;St<=de;St+=1){e.t=S(c(e.cws,St)+c(e.cws,e.n))%929;for(var Ee=0,at=e.k-1;Ee<=at;Ee+=1)e.j=Ee,b(e.cws,S(e.n+e.j),S(c(e.cws,S(e.n+e.j)+1)+(929-e.t*c(e.coeffs,e.k-e.j-1)%929))%929)}for(var ot=e.n,Et=S(e.n+e.k);ot<=Et;ot+=1)b(e.cws,ot,(929-c(e.cws,ot))%929);e.cws=C(e.cws,0,e.cws.length-1);var yt=c(e.options,"debugcws")!==void 0;yt&&(r[t++]="bwipp.debugcws#18221",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.cwtobits=function(){var me=c(e.clusters,r[--t]);e.v=c(me,r[--t]),r[t++]=1/0;for(var Ne=0;Ne<17;Ne++)r[t++]=0;for(var oe=$t(J(17),e.v,2),we=0,Be=oe.length;we<Be;we++)r[t++]=c(oe,we)-48;var pe=s();r[t++]=C(pe,pe.length-17,17)},e.compact?e.rwid=17*e.c+17+17+1:e.rwid=17*e.c+17+17+17+18,e.pixs=s(e.rwid*e.r*e.rowmult);for(var P=0,G=e.r-1;P<=G;P+=1){e.i=P,e.i%3==0&&(e.lcw=~~(e.i/3)*30+~~((e.r-1)/3),e.rcw=S(~~(e.i/3)*30+e.c)-1),e.i%3==1&&(e.lcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3,e.rcw=~~(e.i/3)*30+~~((e.r-1)/3)),e.i%3==2&&(e.lcw=S(~~(e.i/3)*30+e.c)-1,e.rcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3),r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=e.lcw,r[t++]=e.i%3,e.cwtobits(),O(r[--t]);for(var q=C(e.cws,e.c*e.i,e.c),te=0,ce=q.length;te<ce;te++)r[t++]=c(q,te),r[t++]=e.i%3,e.cwtobits(),O(r[--t]);e.compact||(r[t++]=e.rcw,r[t++]=e.i%3,e.cwtobits(),O(r[--t]),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0),r[t++]=1;var ge=s();r[t++]=ge;for(var ae=0,Ce=e.rowmult-1;ae<=Ce;ae+=1){var Z=r[t-1];M(e.pixs,(ae+e.i*e.rowmult)*e.rwid,Z)}t--}var xe=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",2],["borderright",2],["bordertop",2],["borderbottom",2],["opt",e.options]]);r[t++]=xe,e.dontdraw||At(),e=a}function gM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"compact",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$u();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function fu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.columns=0,e.rows=0,e.rowmult=2,e.cca=!1,e.ccb=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.micropdf417emptyData#18631",r[t++]="The data must not be empty",z()),e.rowmult<=0&&(r[t++]="bwipp.micropdf417badRowMult#18635",r[t++]="The row multiplier must be greater than zero",z()),(e.cca&&e.ccb||e.cca&&e.raw||e.ccb&&e.raw)&&(r[t++]="bwipp.micropdf417ccaAndCcb#18639",r[t++]="Cannot combine cca, ccb and raw",z()),_e(e.version,"unset"))if(Rt(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Yt(s(2)),ve(r[--t],function(){var pe=r[t-1];r[t++]=!0,pe.length==0&&(r[t-1]=!1);var Ie=r[--t],Se=r[--t];r[t++]=Ie,ve(Se,function(){var Te=r[--t];(Te<48||Te>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.micropdf417BadVersionBadRowOrColumn#18653",r[t++]="version must be formatted as RxC",z())}),e.rows=Fe(r[--t]),e.columns=Fe(r[--t])}else t--,r[t++]="bwipp.micropdf417badVersionFormat#18659",r[t++]="version must be formatted as RxC",z();e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.m05=-12,e.m06=-13,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=3;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,Y(an(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}var m=r[--t];b(c(e.charvals,e.j),m,e.i),b(e.alltext,m,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),e.raw||e.cca){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var x=C(e.barcode,e.i+1,3);r[t++]=x,r[t++]=!1;for(var y=0,w=x.length;y<w;y++){var v=c(x,y);(v<48||v>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Fe(r[--t]),b(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.micropdf417badCcaRawFormat#18771",r[t++]="cca and raw data must be formatted as ^NNN",z()),e.datcws=C(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var pe=0,Ie=~~(e.inlen/6)-1;pe<=Ie;pe+=1){e.k=pe,r[t++]=1/0,O(C(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,O(e.msbs);var Se=r[--t],Te=r[--t],Ve=r[--t];r[t++]=S(Se+Te*256+Ve*65536);for(var qe=0;qe<3;qe++){var et=r[--t];r[t++]=et%900,r[t++]=~~(et/900)}e.mscs=s(),r[t++]=1/0,O(C(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,O(e.lsbs);var ct=r[--t],lt=r[--t],De=r[--t];r[t++]=S(ct+lt*256+De*65536);for(var We=0;We<3;We++){var Ke=r[--t];r[t++]=Ke%900,r[t++]=~~(Ke/900)}e.lscs=s();var st=c(e.lscs,0),gt=c(e.mscs,0);b(e.out,e.k*5+4,S(st+gt*316)%900);var wt=c(e.lscs,1),vt=c(e.mscs,0),kt=c(e.mscs,1);b(e.out,e.k*5+3,S(~~((st+gt*316)/900)+wt+vt*641+kt*316)%900);var dt=c(e.lscs,2),_t=c(e.mscs,0),nt=c(e.mscs,1),Qt=c(e.mscs,2);b(e.out,e.k*5+2,S(~~((~~((st+gt*316)/900)+wt+vt*641+kt*316)/900)+dt+_t*20+nt*641+Qt*316)%900);var Ht=c(e.lscs,3),Ut=c(e.mscs,1),sr=c(e.mscs,2);b(e.out,e.k*5+1,S(~~((~~((~~((st+gt*316)/900)+wt+vt*641+kt*316)/900)+dt+_t*20+nt*641+Qt*316)/900)+Ht+Ut*20+sr*641)%900),b(e.out,e.k*5,S(~~((~~((~~((~~((st+gt*316)/900)+wt+vt*641+kt*316)/900)+dt+_t*20+nt*641+Qt*316)/900)+Ht+Ut*20+sr*641)/900)+c(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,O(C(e.in,e.inlen-e.rem,e.rem));var Cr=s(),nr=r[--t];M(r[--t],nr,Cr)}r[t++]=e.out},e.ccb){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),b(e.datcws,0,920);var g=e.barlen%6==0?924:901;b(e.datcws,1,g),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ve(e.barcode);var A=s();r[t++]=A,e.encb();var k=r[--t],E=r[--t];M(r[--t],E,k)}if(!e.raw&&!e.cca&&!e.ccb){var j=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=j,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var N=r[--t];if(e[r[--t]]=N,e.msglen=e.msg.length,e.msglen>=9){O(C(e.msg,0,7));var B=r[--t];r[t-1]=B==29;var I=r[--t],D=r[--t],T=r[--t],R=r[--t],$=r[--t],_=r[--t];if(I&&D==48&&T==30&&R==62&&$==41&&_==91){O(C(e.msg,e.msglen-2,2));var F=r[--t],Q=r[--t];F==4&&Q==30&&(c(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,O(C(e.msg,7,e.msg.length-9)),e.msg=s()):c(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,O(C(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var L=0,X=e.msglen;L<X;L++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var le=0,fe=e.msglen;le<fe;le++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var V=0,H=e.msglen;V<H;V++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var se=0,ue=e.msglen;se<ue;se++)r[t++]=0;e.iseci=s();for(var U=e.msglen-1;U>=0;U-=1){e.i=U;var W=c(e.msg,e.i);W>=48&&W<=57&&b(e.numdigits,e.i,c(e.numdigits,e.i+1)+1);var re=c(e.alltext,c(e.msg,e.i))!==void 0;re&&c(e.numdigits,e.i)<13&&b(e.numtext,e.i,c(e.numtext,e.i+1)+1),c(e.msg,e.i)>=0&&c(e.numtext,e.i)<5&&c(e.numdigits,e.i)<13&&b(e.numbytes,e.i,c(e.numbytes,e.i+1)+1),b(e.iseci,e.i,c(e.msg,e.i)<=-1e6)}for(e.numdigits=C(e.numdigits,0,e.msglen),e.numtext=C(e.numtext,0,e.msglen),e.numbytes=C(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.B,e.p=0;e.p!=e.msglen;){var ie=c(e.msg,e.p);if(e.p==0&&(ie==e.m05||ie==e.m06)){r[t++]=1/0,O(e.seq);var be=c(e.msg,e.p)==e.m05?e.m05:e.m06;r[t++]=be,e.seq=s(),e.p=e.p+1,e.seqlen=e.seqlen+1}else if(c(e.iseci,e.p)){if(e.eci=c(e.msg,e.p),r[t++]=1/0,O(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var K=e.eci<=-1000900?3:2;r[t++]=K}var ke=r[--t],je=r[--t];e[r[--t]]=S(je+ke)}else if(e.n=c(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,O(e.seq),r[t++]=e.nl,r[t++]=1/0,O(C(e.msg,e.p,e.n));var Qe=s();r[t++]=Qe,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=c(e.numtext,e.p),e.t>=5){r[t++]=1/0,O(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,O(C(e.msg,e.p,e.t));var ze=s();r[t++]=ze,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=c(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,O(e.seq),r[t++]=e.bs,r[t++]=s([c(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,O(e.seq);var tt=e.b%6!=0?e.bl:e.bl6;r[t++]=tt,r[t++]=1/0,O(C(e.msg,e.p,e.b));var Ze=s();r[t++]=Ze,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}}for(r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,r[t++]=e.m05,r[t++]=916,r[t++]=e.m06,r[t++]=917,e.latchcws=Ge(),e.enca=function(){var pe=c(c(e.charvals,e.A),r[--t]);r[t++]=pe},e.encl=function(){var pe=c(c(e.charvals,e.L),r[--t]);r[t++]=pe},e.encm=function(){var pe=c(c(e.charvals,e.M),r[--t]);r[t++]=pe},e.encp=function(){var pe=c(c(e.charvals,e.P),r[--t]);r[t++]=pe},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){b(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),b(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ve(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var _t=s([e.A,e.L,e.M,e.P]),nt=0,Qt=_t.length;nt<Qt;nt++){e.x=c(_t,nt);for(var Ht=s([e.A,e.L,e.M,e.P]),Ut=0,sr=Ht.length;Ut<sr;Ut++)if(e.y=c(Ht,Ut),e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y)){b(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.x)),O(c(c(e.latseq,e.x),e.y));var Cr=s(),nr=r[--t];b(r[--t],nr,Cr),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var gr=s([e.A,e.L,e.M,e.P]),ar=0,Br=gr.length;ar<Br;ar++)for(e.x=c(gr,ar);;){var Zt=c(c(e.charvals,e.x),e.char)!==void 0;if(!Zt)break;if(e.cost=c(e.curlen,e.x)+1,e.cost<c(e.nxtlen,e.x)){b(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(c(e.curseq,e.x)),r[t++]=e.char;var dr=s(),Kt=r[--t];b(r[--t],Kt,dr)}for(var Jt=s([e.A,e.L,e.M,e.P]),ur=0,Tr=Jt.length;ur<Tr;ur++)if(e.y=c(Jt,ur),_e(e.x,e.y)&&(e.cost=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x))+1,e.cost<c(e.nxtlen,e.y))){b(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.y));var Fr=e.x==e.A?e.as:e.ps;r[t++]=Fr,r[t++]=e.char;var fa=s(),Tt=r[--t];b(r[--t],Tt,fa)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var pe=s([e.A,e.L,e.M,e.P]),Ie=0,Se=pe.length;Ie<Se;Ie++)e.k=c(pe,Ie),c(e.curlen,e.k)<e.minseq&&(e.minseq=c(e.curlen,e.k),e.txtseq=c(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=c(e.txtseq,e.k),r[t++]=e.char,e[c(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=c(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var Te=r[--t];e[r[--t]]=Te,e.submode=e.A}else{e.nextecitext=!1;for(var Ve=e.i+1,qe=e.seq.length-1;Ve<=qe;Ve+=1){if(e.ti=Ve,_e(an(c(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(c(c(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var et=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(et){r[t++]="pad",r[t++]=e.ll,e.enca();var ct=r[--t];e[r[--t]]=ct,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var lt=r[--t];e[r[--t]]=lt,e.submode=e.M}}else if(e.submode==e.M){var De=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(De){r[t++]="pad",r[t++]=e.ll,e.encm();var We=r[--t];e[r[--t]]=We,e.submode=e.L}else{var Ke=c(c(e.charvals,e.P),c(c(e.seq,e.ti),0))!==void 0;if(Ke){r[t++]="pad",r[t++]=e.pl,e.encm();var st=r[--t];e[r[--t]]=st,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var gt=r[--t];e[r[--t]]=gt,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var wt=r[--t];e[r[--t]]=wt,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[c(e.textencfuncs,e.submode)]()===!0)return!0;var vt=r[--t];e[r[--t]]=vt}}r[t++]=1/0,O(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var kt=0,dt=e.out.length-1;kt<=dt;kt+=1)e.k=kt,b(e.out,e.k,S(c(e.text,e.k*2)*30+c(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var pe=0,Ie=e.in.length-1;pe<=Ie;pe+=44){e.k=pe,r[t++]=1/0;var Se=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=Se,Se>44&&(r[t-1]=44);for(var Te=r[--t],Ve=r[--t],qe=C(r[--t],Ve,Te),et=0,ct=qe.length;et<ct;et++)r[t++]=c(qe,et)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+c(e.gmod,0)),e.gmod=C(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,O(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,O(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,O(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,O(e.out),O(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var pe=-c(r[--t],0)-1e6;if(r[t++]=pe,pe<=899){var Ie=r[--t];r[t++]=927,r[t++]=Ie,Yt(s(2))}else{var Se=r[t-1];if(Se<=810899){var Te=r[--t];r[t++]=926,r[t++]=~~(Te/900)-1,r[t++]=Te%900,Yt(s(3))}else{var Ve=r[t-1];if(Ve<=811799){var qe=r[--t];r[t++]=925,r[t++]=qe-810900,Yt(s(2))}else r[t++]="bwipp.pdf417badECI#19167",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var pe=r[--t];M(e.datcws,e.j,pe),e.j=pe.length+e.j},e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=c(e.seq,e.i),Y(an(e.chars),"arraytype"))if(c(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[c(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([c(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=c(e.seq,e.i),e.encb(),e.addtocws()),e.chars==e.m05&&(e.i+1<e.seq.length&&c(e.seq,e.i+1)==e.nl&&(e.i=e.i+1),e.state=e.N),e.chars==e.m06&&(e.i+1<e.seq.length&&c(e.seq,e.i+1)==e.tl&&(e.i=e.i+1),e.state=e.T,e.submode=e.M);e.i=e.i+1}e.datcws=C(e.datcws,0,e.j)}e.ccametrics=s([s([2,5,4,39,0,19]),s([2,6,4,1,0,33]),s([2,7,5,32,0,12]),s([2,8,5,8,0,40]),s([2,9,6,14,0,46]),s([2,10,6,43,0,23]),s([2,12,7,20,0,52]),s([3,4,4,11,43,23]),s([3,5,5,1,33,13]),s([3,6,6,5,37,17]),s([3,7,7,15,47,27]),s([3,8,7,21,1,33]),s([4,3,4,40,20,52]),s([4,4,5,43,23,3]),s([4,5,6,46,26,6]),s([4,6,7,34,14,46]),s([4,7,8,29,9,41])]),e.nonccametrics=s([s([1,11,7,1,0,9]),s([1,14,7,8,0,8]),s([1,17,7,36,0,36]),s([1,20,8,19,0,19]),s([1,24,8,9,0,17]),s([1,28,8,25,0,33]),s([2,8,8,1,0,1]),s([2,11,9,1,0,9]),s([2,14,9,8,0,8]),s([2,17,10,36,0,36]),s([2,20,11,19,0,19]),s([2,23,13,9,0,17]),s([2,26,15,27,0,35]),s([3,6,12,1,1,1]),s([3,8,14,7,7,7]),s([3,10,16,15,15,15]),s([3,12,18,25,25,25]),s([3,15,21,37,37,37]),s([3,20,26,1,17,33]),s([3,26,32,1,9,17]),s([3,32,38,21,29,37]),s([3,38,44,15,31,47]),s([3,44,50,1,25,49]),s([4,4,8,47,19,43]),s([4,6,12,1,1,1]),s([4,8,14,7,7,7]),s([4,10,16,15,15,15]),s([4,12,18,25,25,25]),s([4,15,21,37,37,37]),s([4,20,26,1,17,33]),s([4,26,32,1,9,17]),s([4,32,38,21,29,37]),s([4,38,44,15,31,47]),s([4,44,50,1,25,49])]),r[t++]="metrics",e.cca?r[t++]=e.ccametrics:r[t++]=e.nonccametrics;var Re=r[--t];e[r[--t]]=Re,e.urows=e.rows,e.ucols=e.columns,ve(e.metrics,function(){if(e.m=r[--t],e.c=c(e.m,0),e.r=c(e.m,1),e.k=c(e.m,2),e.rapl=c(e.m,3),e.rapc=c(e.m,4),e.rapr=c(e.m,5),e.ncws=S(e.r*e.c-e.k),e.okay=!0,e.datcws.length>e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.c&&(e.okay=!1),e.okay)return!0}),e.okay||(r[t++]="bwipp.micropdf417noValidSymbol#19306",r[t++]="Maximum length exceeded or invalid size",z()),e.m=e.datcws.length,e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),M(e.cws,0,e.datcws),r[t++]=e.cws,r[t++]=e.m,r[t++]=1/0;for(var He=0,Ue=S(e.n-e.m);He<Ue;He++)r[t++]=900;var ye=s(),Ye=r[--t];M(r[--t],Ye,ye),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Ae=0,Le=e.k;Ae<Le;Ae++)r[t++]=0;r[t++]=0;var he=s(),Pe=r[--t];M(r[--t],Pe,he),r[t++]=1/0,r[t++]=1;for(var Me=0;Me<928;Me++){var $e=r[t-1];r[t++]=$e*3%929}e.rsalog=s(),e.rslog=s(929);for(var rt=1;rt<=928;rt+=1)b(e.rslog,c(e.rsalog,rt),rt);e.rsprod=function(){var pe=r[t-1],Ie=r[t-2];if(pe!=0&&Ie!=0){var Se=c(e.rslog,r[--t]),Te=c(e.rsalog,S(Se+c(e.rslog,r[--t]))%928);r[t++]=Te}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var pt=0,ut=e.k;pt<ut;pt++)r[t++]=0;e.coeffs=s();for(var bt=1,It=e.k;bt<=It;bt+=1){e.i=bt,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var St=e.i-1;St>=1;St-=1){e.j=St,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var de=r[--t],Ee=r[--t],at=r[--t];b(r[--t],at,S(Ee+de)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var ot=r[--t],Et=r[--t];b(r[--t],Et,ot)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var yt=e.coeffs.length-1;yt>=0;yt-=2){var P=e.coeffs;b(P,yt,929-c(P,yt))}for(var G=0,q=e.n-1;G<=q;G+=1){e.t=S(c(e.cws,G)+c(e.cws,e.n))%929;for(var te=0,ce=e.k-1;te<=ce;te+=1)e.j=te,b(e.cws,S(e.n+e.j),S(c(e.cws,S(e.n+e.j)+1)+(929-e.t*c(e.coeffs,S(e.k-e.j)-1)%929))%929)}for(var ge=e.n,ae=S(e.n+e.k);ge<=ae;ge+=1)b(e.cws,ge,(929-c(e.cws,ge))%929);e.cws=C(e.cws,0,e.cws.length-1);var Ce=c(e.options,"debugcws")!==void 0;Ce&&(r[t++]="bwipp.debugcws#19360",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.raps=s([s([802,930,946,818,882,890,826,954,922,986,970,906,778,794,786,914,978,982,980,916,948,932,934,942,940,936,808,812,814,806,822,950,918,790,788,820,884,868,870,878,876,872,840,856,860,862,846,844,836,838,834,866]),s([718,590,622,558,550,566,534,530,538,570,562,546,610,626,634,762,754,758,630,628,612,614,582,578,706,738,742,740,748,620,556,552,616,744,712,716,708,710,646,654,652,668,664,696,688,656,720,592,600,604,732,734])]),e.cwtobits=function(){var pe=c(e.clusters,r[--t]);e.v=c(pe,r[--t]),r[t++]=1/0;for(var Ie=0;Ie<17;Ie++)r[t++]=0;for(var Se=$t(J(17),e.v,2),Te=0,Ve=Se.length;Te<Ve;Te++)r[t++]=c(Se,Te)-48;var qe=s();r[t++]=C(qe,qe.length-17,17)},e.raptobits=function(){var pe=c(e.raps,r[--t]);e.v=c(pe,r[--t]),r[t++]=1/0;for(var Ie=0;Ie<10;Ie++)r[t++]=0;for(var Se=$t(J(10),e.v,2),Te=0,Ve=Se.length;Te<Ve;Te++)r[t++]=c(Se,Te)-48;var qe=s();r[t++]=C(qe,qe.length-10,10)},e.rwid=c(s([38,55,82,99]),e.c-1),e.c==3&&e.cca&&(e.rwid=72),e.pixs=s(e.rwid*e.r*e.rowmult);for(var Z=0,xe=e.r-1;Z<=xe;Z+=1){e.i=Z,e.clst=(S(e.i+e.rapl)-1)%3,r[t++]=1/0,e.c==1&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==2&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*2+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==3&&(e.cca||(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),r[t++]=c(e.cws,e.i*3),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*3+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*3+2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==4&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4+2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4+3),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),r[t++]=1;var me=s();r[t++]=me;for(var Ne=0,oe=e.rowmult-1;Ne<=oe;Ne+=1){var we=r[t-1];M(e.pixs,(Ne+e.i*e.rowmult)*e.rwid,we)}t--}var Be=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Be,e.dontdraw||At(),e=a}function $1(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.columns=0,e.rows=0,e.format="unset",e.version="unset",e.parse=!1,e.parsefnc=!1,e.c40headerlength=-1,e.raw=!1,e.dmre=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.datamatrixEmptyData#19750",r[t++]="The data must not be empty",z()),_e(e.version,"unset")&&(e.rows!=0||e.columns!=0)&&(r[t++]="bwipp.datamatrixVersionRowsCols#19754",r[t++]="rows and columns must not be given if version is specified",z()),_e(e.version,"unset"))if(Rt(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Yt(s(2)),ve(r[--t],function(){var ft=r[t-1];r[t++]=!0,ft.length==0&&(r[t-1]=!1);var Pt=r[--t],Vt=r[--t];r[t++]=Pt,ve(Vt,function(){var Wt=r[--t];(Wt<48||Wt>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.datamatrixVersionBadRowOrColumn#19768",r[t++]="version must be formatted as RxC",z())}),e.rows=Fe(r[--t]),e.columns=Fe(r[--t]),r[t++]="format",e.rows==e.columns?r[t++]="square":r[t++]="rectangle";var d=r[--t];e[r[--t]]=d}else t--,r[t++]="bwipp.datamatrixVersionFormat#19775",r[t++]="version must be formatted as RxC",z();else if(Y(e.format,"unset")){r[t++]="format",e.dmre?r[t++]="rectangle":r[t++]="square";var u=r[--t];e[r[--t]]=u}_e(e.format,"square")&&_e(e.format,"rectangle")&&(r[t++]="bwipp.datamatrixInvalidFormat#19784",r[t++]="The format must be either square or rectangle",z()),e.metrics=s([s([10,10,1,1,5,1,0]),s([12,12,1,1,7,1,0]),s([14,14,1,1,10,1,0]),s([16,16,1,1,12,1,0]),s([18,18,1,1,14,1,0]),s([20,20,1,1,18,1,0]),s([22,22,1,1,20,1,0]),s([24,24,1,1,24,1,0]),s([26,26,1,1,28,1,0]),s([32,32,2,2,36,1,0]),s([36,36,2,2,42,1,0]),s([40,40,2,2,48,1,0]),s([44,44,2,2,56,1,0]),s([48,48,2,2,68,1,0]),s([52,52,2,2,84,2,0]),s([64,64,4,4,112,2,0]),s([72,72,4,4,144,4,0]),s([80,80,4,4,192,4,0]),s([88,88,4,4,224,4,0]),s([96,96,4,4,272,4,0]),s([104,104,4,4,336,6,0]),s([120,120,6,6,408,6,0]),s([132,132,6,6,496,8,0]),s([144,144,6,6,620,10,0]),s([8,18,1,1,7,1,0]),s([8,32,1,2,11,1,0]),s([8,48,1,2,15,1,1]),s([8,64,1,4,18,1,1]),s([8,80,1,4,22,1,1]),s([8,96,1,4,28,1,1]),s([8,120,1,6,32,1,1]),s([8,144,1,6,36,1,1]),s([12,26,1,1,14,1,0]),s([12,36,1,2,18,1,0]),s([12,64,1,4,27,1,1]),s([12,88,1,4,36,1,1]),s([16,36,1,2,24,1,0]),s([16,48,1,2,28,1,0]),s([16,64,1,4,36,1,1]),s([20,36,1,2,28,1,1]),s([20,44,1,2,34,1,1]),s([20,64,1,4,42,1,1]),s([22,48,1,2,38,1,1]),s([24,48,1,2,41,1,1]),s([24,64,1,4,46,1,1]),s([26,40,1,2,38,1,1]),s([26,48,1,2,42,1,1]),s([26,64,1,4,50,1,1])]),e.urows=e.rows,e.ucols=e.columns,e.fullcws=s([]);for(var f=e.metrics,h=0,p=f.length;h<p;h++)e.m=c(f,h),e.rows=c(e.m,0),e.cols=c(e.m,1),e.regh=c(e.m,2),e.regv=c(e.m,3),e.rscw=c(e.m,4),e.rsbl=c(e.m,5),e.doly=c(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),Y(e.format,"square")&&_e(e.rows,e.cols)&&(e.okay=!1),Y(e.format,"rectangle")&&Y(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),e.okay&&(r[t++]=1/0,O(e.fullcws),r[t++]=e.ncws,e.fullcws=s());r[t++]=1/0;for(var m=0;m<1558;m++)r[t++]=1e4;e.numremcws=s();for(var x=e.fullcws,y=0,w=x.length;y<w;y++)b(e.numremcws,c(x,y)-1,1);for(var v=1556;v>=0;v-=1)e.i=v,c(e.numremcws,e.i)!=1&&b(e.numremcws,e.i,c(e.numremcws,e.i+1)+1);e.fnc1=-1,e.prog=-2,e.m05=-3,e.m06=-4,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lE=-9,e.unl=-10,e.sapp=-11,e.usft=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.unlcw=254,r[t++]=1/0;for(var g=0;g<=128;g+=1)r[t++]=g,r[t++]=g+1;r[t++]=e.pad,r[t++]=129;for(var A=0;A<=99;A+=1){var k=$t(J(2),A,10),E=_r(J(2),"00");M(E,2-k.length,k),r[t++]=E,r[t++]=A+130}var j=s([e.lC,e.lB,e.fnc1,e.sapp,e.prog,e.usft,e.m05,e.m06,e.lX,e.lT,e.lE,e.eci]);r[t++]=229;for(var N=0,B=j.length;N<B;N++){var I=r[--t]+1;r[t++]=c(j,N),r[t++]=I,r[t++]=I}t--,e.Avals=Ge(),r[t++]=1/0;for(var D=e.Avals,T=D.size,R=D.keys(),$=0;$<T;$++){var _=R.next().value;r[t++]=_;var F=1/0,Q=D.get(_);r[t++]=F,r[t++]=Q;var L=s();r[t++]=L}e.Avals=Ge(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var X=48;X<=57;X+=1)r[t++]=X,r[t++]=X-44;for(var le=65;le<=90;le+=1)r[t++]=le,r[t++]=le-51;e.CNvals=Ge(),r[t++]=1/0;for(var fe=0;fe<=31;fe+=1)r[t++]=fe,r[t++]=fe;e.C1vals=Ge(),r[t++]=1/0;for(var V=33;V<=47;V+=1)r[t++]=V,r[t++]=V-33;for(var H=58;H<=64;H+=1)r[t++]=H,r[t++]=H-43;for(var se=91;se<=95;se+=1)r[t++]=se,r[t++]=se-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.C2vals=Ge(),r[t++]=1/0;for(var ue=96;ue<=127;ue+=1)r[t++]=ue,r[t++]=ue-96;e.C3vals=Ge(),r[t++]=1/0;for(var U=e.CNvals,W=U.size,re=U.keys(),ie=0;ie<W;ie++){var be=re.next().value;r[t++]=be;var K=1/0,ke=U.get(be);r[t++]=K,r[t++]=ke;var je=s();r[t++]=je}for(var Qe=e.C1vals,ze=Qe.size,tt=Qe.keys(),Ze=0;Ze<ze;Ze++){var Re=tt.next().value;r[t++]=Re;var He=1/0,Ue=Qe.get(Re);r[t++]=He,r[t++]=c(e.CNvals,e.sft1),r[t++]=Ue;var ye=s();r[t++]=ye}for(var Ye=e.C2vals,Ae=Ye.size,Le=Ye.keys(),he=0;he<Ae;he++){var Pe=Le.next().value;r[t++]=Pe;var Me=1/0,$e=Ye.get(Pe);r[t++]=Me,r[t++]=c(e.CNvals,e.sft2),r[t++]=$e;var rt=s();r[t++]=rt}for(var pt=e.C3vals,ut=pt.size,bt=pt.keys(),It=0;It<ut;It++){var St=bt.next().value;r[t++]=St;var de=1/0,Ee=pt.get(St);r[t++]=de,r[t++]=c(e.CNvals,e.sft3),r[t++]=Ee;var at=s();r[t++]=at}e.Cvals=Ge(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var ot=48;ot<=57;ot+=1)r[t++]=ot,r[t++]=ot-44;for(var Et=97;Et<=122;Et+=1)r[t++]=Et,r[t++]=Et-83;e.TNvals=Ge(),r[t++]=1/0;for(var yt=0;yt<=31;yt+=1)r[t++]=yt,r[t++]=yt;e.T1vals=Ge(),r[t++]=1/0;for(var P=33;P<=47;P+=1)r[t++]=P,r[t++]=P-33;for(var G=58;G<=64;G+=1)r[t++]=G,r[t++]=G-43;for(var q=91;q<=95;q+=1)r[t++]=q,r[t++]=q-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.T2vals=Ge(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var te=65;te<=90;te+=1)r[t++]=te,r[t++]=te-64;for(var ce=123;ce<=127;ce+=1)r[t++]=ce,r[t++]=ce-96;e.T3vals=Ge(),r[t++]=1/0;for(var ge=e.TNvals,ae=ge.size,Ce=ge.keys(),Z=0;Z<ae;Z++){var xe=Ce.next().value;r[t++]=xe;var me=1/0,Ne=ge.get(xe);r[t++]=me,r[t++]=Ne;var oe=s();r[t++]=oe}for(var we=e.T1vals,Be=we.size,pe=we.keys(),Ie=0;Ie<Be;Ie++){var Se=pe.next().value;r[t++]=Se;var Te=1/0,Ve=we.get(Se);r[t++]=Te,r[t++]=c(e.TNvals,e.sft1),r[t++]=Ve;var qe=s();r[t++]=qe}for(var et=e.T2vals,ct=et.size,lt=et.keys(),De=0;De<ct;De++){var We=lt.next().value;r[t++]=We;var Ke=1/0,st=et.get(We);r[t++]=Ke,r[t++]=c(e.TNvals,e.sft2),r[t++]=st;var gt=s();r[t++]=gt}for(var wt=e.T3vals,vt=wt.size,kt=wt.keys(),dt=0;dt<vt;dt++){var _t=kt.next().value;r[t++]=_t;var nt=1/0,Qt=wt.get(_t);r[t++]=nt,r[t++]=c(e.TNvals,e.sft3),r[t++]=Qt;var Ht=s();r[t++]=Ht}e.Tvals=Ge();for(var Ut=128;Ut<=255;Ut+=1){e.i=Ut,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,O(c(e.Avals,e.usft)),O(c(e.Avals,e.i-128));var sr=s(),Cr=r[--t];b(r[--t],Cr,sr),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Cvals,e.usft)),O(c(e.Cvals,e.i-128));var nr=s(),gr=r[--t];b(r[--t],gr,nr),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Tvals,e.usft)),O(c(e.Tvals,e.i-128));var ar=s(),Br=r[--t];b(r[--t],Br,ar)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Zt=48;Zt<=57;Zt+=1)r[t++]=Zt,r[t++]=Zt-44;for(var dr=65;dr<=90;dr+=1)r[t++]=dr,r[t++]=dr-51;e.Xvals=Ge(),r[t++]=1/0;for(var Kt=e.Xvals,Jt=Kt.size,ur=Kt.keys(),Tr=0;Tr<Jt;Tr++){var Fr=ur.next().value;r[t++]=Fr;var fa=1/0,Tt=Kt.get(Fr);r[t++]=fa,r[t++]=Tt;var Gt=s();r[t++]=Gt}e.Xvals=Ge(),r[t++]=1/0;for(var tr=64;tr<=94;tr+=1)r[t++]=tr,r[t++]=tr-64;r[t++]=e.unl,r[t++]=31;for(var br=32;br<=63;br+=1)r[t++]=br,r[t++]=br;e.Evals=Ge(),r[t++]=1/0;for(var ir=e.Evals,Dr=ir.size,or=ir.keys(),zt=0;zt<Dr;zt++){var yr=or.next().value;r[t++]=yr;var ra=1/0,ha=ir.get(yr);r[t++]=ra,r[t++]=ha;var Aa=s();r[t++]=Aa}e.Evals=Ge(),r[t++]=1/0;for(var Qr=0;Qr<=255;Qr+=1)r[t++]=Qr,r[t++]=Qr;e.Bvals=Ge(),r[t++]=1/0;for(var Ca=e.Bvals,ba=Ca.size,Ma=Ca.keys(),ca=0;ca<ba;ca++){var ka=Ma.next().value;r[t++]=ka;var Ia=1/0,ja=Ca.get(ka);r[t++]=Ia,r[t++]=ja;var Qa=s();r[t++]=Qa}if(e.Bvals=Ge(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,e.Evals,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.E=4,e.B=5,e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),b(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j)}else{var Ha=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["PROG",e.prog]]);e.fncvals=Ha,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var Ka=r[--t];if(e[r[--t]]=Ka,e.msglen=e.msg.length,e.msglen>=9){O(C(e.msg,0,7));var xs=r[--t];r[t-1]=xs==29;var Ba=r[--t],Ts=r[--t],$a=r[--t],$s=r[--t],_a=r[--t],vs=r[--t];if(Ba&&Ts==48&&$a==30&&$s==62&&_a==41&&vs==91){O(C(e.msg,e.msglen-2,2));var Rs=r[--t],Ms=r[--t];Rs==4&&Ms==30&&(c(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,O(C(e.msg,7,e.msg.length-9)),e.msg=s()):c(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,O(C(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var Wa=0,qs=e.msglen;Wa<qs;Wa++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var Ja=0,gs=e.msglen;Ja<gs;Ja++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Fa=0,gn=e.msglen;Fa<gn;Fa++)r[t++]=0;r[t++]=9999,e.nextNonX=s(),r[t++]=1/0;for(var qa=0,Bn=e.msglen;qa<Bn;qa++)r[t++]=!1;r[t++]=!1,e.isECI=s();for(var Da=e.msglen-1;Da>=0;Da-=1){e.i=Da,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&b(e.numD,e.i,c(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?b(e.nextXterm,e.i,0):b(e.nextXterm,e.i,c(e.nextXterm,e.i+1)+1);var en=c(e.Xvals,e.barchar)!==void 0;en?b(e.nextNonX,e.i,c(e.nextNonX,e.i+1)+1):b(e.nextNonX,e.i,0),b(e.isECI,e.i,e.barchar<=-1e6)}r[t++]=1/0;for(var Pa=e.nextXterm,sn=0,ls=Pa.length;sn<ls;sn++){var Xt=c(Pa,sn);r[t++]=Xt,Xt>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var Zr=e.nextNonX,Na=0,Oa=Zr.length;Na<Oa;Na++){var bs=c(Zr,Na);r[t++]=bs,bs>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var ft=c(e.CNvals,e.char)!==void 0;r[t++]=ft},e.isT=function(){var ft=c(e.TNvals,e.char)!==void 0;r[t++]=ft},e.isX=function(){var ft=c(e.Xvals,e.char)!==void 0;r[t++]=ft},e.isE=function(){var ft=c(e.Evals,e.char)!==void 0;r[t++]=ft},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var ft=r[--t];r[t++]=xn(c(e.nextXterm,ft),c(e.nextNonX,ft))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.ec=2,e.bc=2.25,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.ec=1,e.bc=1.25),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.E&&(e.ec=0),e.mode==e.B&&(e.bc=0);for(var ft=0;ft<1;ft++){if(c(e.isECI,e.i)){r[t++]=e.A;break}if(e.c40headerlength!=-1&&e.i<e.c40headerlength){r[t++]=e.C;break}for(e.k=0;;){if(e.i+e.k==e.msglen){for(var Pt=s(["ac","cc","tc","xc","ec","bc"]),Vt=0,Wt=Pt.length;Vt<Wt;Vt++){var Jr=c(Pt,Vt);e[Jr]=xr(e[Jr])}var wa=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var xa=0,us=wa.length;xa<us;xa++){var Ys=r[--t];r[t++]=Ys&&e.ac<=c(wa,xa)}if(r[--t]){r[t++]=e.A;break}var dn=s([e.ac,e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var un=0,Gn=dn.length;un<Gn;un++){var w1=r[--t];r[t++]=w1&&e.bc<c(dn,un)}if(r[--t]){r[t++]=e.B;break}var s1=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Ui=0,A1=s1.length;Ui<A1;Ui++){var n1=r[--t];r[t++]=n1&&e.ec<c(s1,Ui)}if(r[--t]){r[t++]=e.E;break}var G1=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var k1=0,Cc=G1.length;k1<Cc;k1++){var Ic=r[--t];r[t++]=Ic&&e.tc<c(G1,k1)}if(r[--t]){r[t++]=e.T;break}var vl=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Bo=0,Bc=vl.length;Bo<Bc;Bo++){var Dc=r[--t];r[t++]=Dc&&e.xc<c(vl,Bo)}if(r[--t]){r[t++]=e.X;break}r[t++]=e.C;break}if(e.char=c(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Tc=r[--t];r[t++]=S(Tc+1/2)}else if(e.isEA(),r[--t]){var Rc=r[--t];r[t++]=xr(Rc)+2}else{var Mc=r[--t];r[t++]=xr(Mc)+1}var _c=r[--t];if(e[r[--t]]=_c,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var Fc=r[--t];r[t++]=S(Fc+.6666667)}else if(e.isEA(),r[--t]){var Pc=r[--t];r[t++]=S(Pc+2.6666667)}else{var Oc=r[--t];r[t++]=S(Oc+1.3333334)}var Uc=r[--t];if(e[r[--t]]=Uc,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var gl=r[--t];r[t++]=S(gl+.6666667)}else if(e.isEA(),r[--t]){var Do=r[--t];r[t++]=S(Do+2.6666667)}else{var zc=r[--t];r[t++]=S(zc+1.3333334)}var Lc=r[--t];if(e[r[--t]]=Lc,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var bl=r[--t];r[t++]=S(bl+.6666667)}else if(e.isEA(),r[--t]){var To=r[--t];r[t++]=S(To+4.3333334)}else{var Qc=r[--t];r[t++]=S(Qc+3.3333334)}var Hc=r[--t];if(e[r[--t]]=Hc,r[t++]="ec",r[t++]=e.ec,e.isE(),r[--t]){var yl=r[--t];r[t++]=S(yl+3/4)}else if(e.isEA(),r[--t]){var Ro=r[--t];r[t++]=S(Ro+17/4)}else{var $c=r[--t];r[t++]=S($c+13/4)}var qc=r[--t];if(e[r[--t]]=qc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var wl=r[--t];r[t++]=wl+4}else{var Mo=r[--t];r[t++]=Mo+1}var Gc=r[--t];if(e[r[--t]]=Gc,e.k>=4){var Al=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var V1=0,_o=Al.length;V1<_o;V1++){var Vc=r[--t];r[t++]=Vc&&e.ac+1<=c(Al,V1)}if(r[--t]){r[t++]=e.A;break}if(e.bc+1<=e.ac){r[t++]=e.B;break}var Vn=s([e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var Yc=0,Xu=Vn.length;Yc<Xu;Yc++){var Zu=r[--t];r[t++]=Zu&&e.bc+1<c(Vn,Yc)}if(r[--t]){r[t++]=e.B;break}var w2=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Kc=0,ef=w2.length;Kc<ef;Kc++){var tf=r[--t];r[t++]=tf&&e.ec+1<c(w2,Kc)}if(r[--t]){r[t++]=e.E;break}var A2=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var zi=0,rf=A2.length;zi<rf;zi++){var af=r[--t];r[t++]=af&&e.tc+1<c(A2,zi)}if(r[--t]){r[t++]=e.T;break}var vi=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Wc=0,sf=vi.length;Wc<sf;Wc++){var nf=r[--t];r[t++]=nf&&e.xc+1<c(vi,Wc)}if(r[--t]){r[t++]=e.X;break}var k2=s([e.ac,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Jc=0,of=k2.length;Jc<of;Jc++){var lf=r[--t];r[t++]=lf&&e.cc+1<c(k2,Jc)}if(r[--t]){if(e.cc<e.xc){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}}e.k=e.k+1}}},e.addtocws=function(){var ft=r[--t];M(e.cws,e.j,ft),e.j=ft.length+e.j},e.ECItocws=function(){var ft=-r[--t]-1e6;if(r[t++]=ft,ft<=126){var Pt=r[--t];r[t++]=Pt+1,Yt(s(1))}else{var Vt=r[t-1];if(Vt<=16382){var Wt=r[--t]-127;r[t++]=~~(Wt/254)+128,r[t++]=Wt%254+1,Yt(s(2))}else{var Jr=r[--t]-16383;r[t++]=~~(Jr/64516)+192,r[t++]=~~(Jr/254)%254+1,r[t++]=Jr%254+1,Yt(s(3))}}},e.encA=function(){for(var ft=0;ft<1;ft++){if(c(e.isECI,e.i)){r[t++]=c(e.Avals,e.eci),e.addtocws(),r[t++]=c(e.msg,e.i),e.ECItocws(),e.addtocws(),e.i=e.i+1;break}if(c(e.numD,e.i)>=2){var Pt=J(2);b(Pt,0,c(e.msg,e.i)),b(Pt,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Pt),e.addtocws(),e.i=e.i+2;break}r[t++]="newmode",e.lookup();var Vt=r[--t];if(e[r[--t]]=Vt,e.newmode!=e.mode){r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var ft=0,Pt=e.in.length-1;ft<=Pt;ft+=3){var Vt=C(e.in,ft,3);r[t++]=0;for(var Wt=0,Jr=Vt.length;Wt<Jr;Wt++){var wa=r[--t];r[t++]=S(wa+c(Vt,Wt))*40}var xa=~~(r[--t]/40)+1;r[t++]=~~(xa/256),r[t++]=xa%256}Yt(s(va()));var us=r[--t];r[t-1]=us},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2500),e.done=!1;e.i!=e.msglen;){var ft=c(c(e.encvals,e.mode),c(e.msg,e.i))!==void 0;if(!ft)break;if(e.p%3==0){if(e.p>0){r[t++]="newmode",e.lookup();var Pt=r[--t];if(e[r[--t]]=Pt,_e(e.newmode,e.mode)){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.newmode!=e.A&&(r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws()),e.mode=e.newmode,e.done=!0;break}}if(e.msglen-e.i<=3){e.remcws=c(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Vt=C(e.msg,e.i,e.msglen-e.i),Wt=0,Jr=Vt.length;Wt<Jr;Wt++){var wa=c(Vt,Wt),xa=c(c(e.encvals,e.mode),wa)!==void 0;r[t++]=wa,xa?O(c(c(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals);var us=s();r[t++]=us,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals),O(c(c(e.encvals,e.mode),e.sft1));var Ys=s();r[t++]=Ys,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}}}var dn=c(c(e.encvals,e.mode),c(e.msg,e.i));M(e.ctxvals,e.p,dn),e.p=dn.length+e.p,e.i=e.i+1}if(!e.done){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-c(c(e.encvals,e.mode),c(e.msg,e.i)).length;r[t++]=1/0,O(C(e.ctxvals,0,e.p));var un=s();if(r[t++]=un,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!c(e.isECI,e.i))if(c(e.numD,e.i)>=2){var Gn=J(2);b(Gn,0,c(e.msg,e.i)),b(Gn,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Gn),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.Evalstocws=function(){e.in=r[--t],e.inlen=e.in.length,e.outlen=~~xr(e.in.length/4*3),r[t++]=1/0,O(e.in),r[t++]=0,r[t++]=0,r[t++]=0,e.in=s(),r[t++]=1/0;for(var ft=0,Pt=e.inlen-1;ft<=Pt;ft+=4){var Vt=C(e.in,ft,4);r[t++]=0;for(var Wt=0,Jr=Vt.length;Wt<Jr;Wt++){var wa=r[--t];r[t++]=DR(wa,c(Vt,Wt))<<6}var xa=r[--t]>>>6;r[t++]=xa>>>16&255,r[t++]=xa>>>8&255,r[t++]=xa&255}Yt(s(va()));var us=r[--t];r[t-1]=us;var Ys=C(r[--t],0,e.outlen);r[t++]=Ys},e.encE=function(){for(e.p=0,e.edifactvals=s(2100);e.i!=e.msglen;){var ft=c(e.Evals,c(e.msg,e.i))!==void 0;if(!ft)break;if(e.p%4==0){if(e.msglen-e.i<=2){e.remcws=c(e.numremcws,e.j+~~(e.p/4)*3),r[t++]=1/0;for(var Pt=C(e.msg,e.i,e.msglen-e.i),Vt=0,Wt=Pt.length;Vt<Wt;Vt++)O(c(e.Avals,c(Pt,Vt)));if(e.remvals=s(),(e.remcws==1||e.remcws==2)&&e.remvals.length<=e.remcws){r[t++]=C(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),r[t++]=e.remvals,e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}if(e.lookup(),r[--t]!=e.mode)break}var Jr=c(e.Evals,c(e.msg,e.i));M(e.edifactvals,e.p,Jr),e.p=Jr.length+e.p,e.i=e.i+1}if(e.mode!=e.A){if(e.remcws=c(e.numremcws,e.j+~~(e.p/4)*3-1)-1,e.p%4!=0||e.i!=e.msglen||e.remcws>=3){var wa=c(e.Evals,e.unl);M(e.edifactvals,e.p,wa),e.p=wa.length+e.p}if(r[t++]=C(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!c(e.isECI,e.i))if(c(e.numD,e.i)>=2){var xa=J(2);b(xa,0,c(e.msg,e.i)),b(xa,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,xa),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encB=function(){for(e.p=0,e.bvals=s(1558);!(e.i==e.msglen||(e.lookup(),r[--t]!=e.mode));)b(e.bvals,e.p,c(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=c(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),O(C(e.bvals,0,e.p)),e.bvals=s();for(var ft=0,Pt=e.bvals.length-1;ft<=Pt;ft+=1){e.p=ft;var Vt=S((e.j+e.p+1)*149%255+1+c(e.bvals,e.p));if(r[t++]=Vt,Vt>=256){var Wt=r[--t];r[t++]=Wt-256}b(e.bvals,e.p,r[--t])}r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1558),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[c(s(["encA","encCTX","encCTX","encCTX","encE","encB"]),e.mode)]()===!0););e.cws=C(e.cws,0,e.j)}if(e.datlen=e.cws.length,e.remcws=c(e.numremcws,e.j-1)-1,e.remcws>0){r[t++]=1/0,O(e.cws);for(var Hr=0,cs=e.remcws;Hr<cs;Hr++)r[t++]=129;e.cws=s();for(var ys=e.datlen+1,Ua=S(e.datlen+e.remcws)-1;ys<=Ua;ys+=1){e.i=ys;var Dn=(e.i+1)*149%253+1+129;if(r[t++]=Dn,Dn>254){var Ta=r[--t];r[t++]=Ta-254}b(e.cws,e.i,r[--t])}}var hi=c(e.options,"debugcws")!==void 0;hi&&(r[t++]="bwipp.debugcws#20411",r[t++]=e.cws,z());for(var Gs=e.metrics,Ra=0,Tn=Gs.length;Ra<Tn&&(e.m=c(Gs,Ra),e.rows=c(e.m,0),e.cols=c(e.m,1),e.regh=c(e.m,2),e.regv=c(e.m,3),e.rscw=c(e.m,4),e.rsbl=c(e.m,5),e.doly=c(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.rrows=~~(e.mrows/e.regh),e.rcols=~~(e.mcols/e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.cws.length!=e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),Y(e.format,"square")&&_e(e.rows,e.cols)&&(e.okay=!1),Y(e.format,"rectangle")&&Y(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),!e.okay);Ra++);e.okay||(r[t++]="bwipp.datamatrixNoValidSymbol#20439",r[t++]="Maximum length exceeded or invalid size",z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Xa=0,Rn=e.rsbl-1;Xa<=Rn;Xa+=1){e.i=Xa,e.cws.length!=1558?e.cwbsize=~~(e.cws.length/e.rsbl):e.i<=7?e.cwbsize=156:e.cwbsize=155,e.cwb=s(e.cwbsize);for(var ws=0,nn=e.cwbsize-1;ws<=nn;ws+=1)e.j=ws,b(e.cwb,e.j,c(e.cws,S(e.j*e.rsbl+e.i)));b(e.cwbs,e.i,e.cwb),r[t++]=e.ecbs,r[t++]=e.i,r[t++]=1/0;for(var on=0,Zn=~~(e.rscw/e.rsbl);on<Zn;on++)r[t++]=0;var Ct=s(),Yr=r[--t];b(r[--t],Yr,Ct)}r[t++]=1/0,r[t++]=1;for(var aa=0;aa<255;aa++){var za=r[t-1],da=za*2;if(r[t++]=da,da>=256){var Za=r[--t];r[t++]=Za^301}}e.rsalog=s(),e.rslog=s(256);for(var As=1;As<=255;As+=1)b(e.rslog,c(e.rsalog,As),As);e.rsprod=function(){var ft=r[t-1],Pt=r[t-2];if(ft!=0&&Pt!=0){var Vt=c(e.rslog,r[--t]),Wt=c(e.rsalog,S(Vt+c(e.rslog,r[--t]))%255);r[t++]=Wt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var bn=0,mt=~~(e.rscw/e.rsbl);bn<mt;bn++)r[t++]=0;e.coeffs=s();for(var Bt=1,hr=~~(e.rscw/e.rsbl);Bt<=hr;Bt+=1){e.i=Bt,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var lr=e.i-1;lr>=1;lr-=1){e.j=lr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var fr=r[--t],Rr=r[--t],cr=r[--t];b(r[--t],cr,ps(Rr,fr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var sa=r[--t],$r=r[--t];b(r[--t],$r,sa)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var qr=0,Gr=e.cwbs.length-1;qr<=Gr;qr+=1){e.i=qr,e.cwb=c(e.cwbs,e.i),e.ecb=c(e.ecbs,e.i);for(var Kr=0,pa=e.cwb.length-1;Kr<=pa;Kr+=1){e.t=ps(c(e.cwb,Kr),c(e.ecb,0));for(var ea=e.ecb.length-1;ea>=0;ea-=1){e.j=ea,e.p=e.ecb.length-e.j-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=c(e.coeffs,e.j),e.rsprod();var Vr=r[--t],na=r[--t];b(r[--t],na,Vr),e.j>0&&b(e.ecb,e.p,ps(c(e.ecb,e.p+1),c(e.ecb,e.p)))}}}e.ncws==1558&&(r[t++]=1/0,O(C(e.ecbs,8,2)),O(C(e.ecbs,0,8)),e.ecbs=s()),r[t++]=1/0,O(e.cws);for(var Mr=0,Pr=e.rscw;Mr<Pr;Mr++)r[t++]=0;e.cws=s();for(var La=0,ya=e.rscw-1;La<=ya;La+=1)e.i=La,b(e.cws,S(e.ncws+e.i),c(c(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));e.module=function(){Sa(4,-1);var ft=_r(J(8),"00000000");r[t++]=ft,r[t++]=ft;var Pt=$t(J(8),r[t-3],2);M(r[t-1],8-Pt.length,Pt),r[t-3]=r[t-2],t-=2;for(var Vt=7;Vt>=0;Vt-=1){var Wt=r[--t];r[t++]=c(Wt,Vt)-48,r[t++]=Wt}t--,Sa(11,-3),ve(r[--t],function(){if(r[--t]()===!0)return!0;var Jr=r[t-2];if(Jr<0){var wa=r[--t],xa=r[--t];r[t++]=S(xa+e.mrows),r[t++]=S(wa+(4-(e.mrows+4)%8))}var us=r[t-1];if(us<0){var Ys=r[--t],dn=r[--t];r[t++]=S(dn+(4-(e.mcols+4)%8)),r[t++]=S(Ys+e.mcols)}var un=r[t-2];if(un>=e.mrows){var Gn=r[--t],w1=r[--t];r[t++]=S(w1-e.mrows),r[t++]=Gn}var s1=r[--t],Ui=r[--t];r[t++]=e.mmat,r[t++]=S(s1+Ui*e.mcols),Sa(5,-1);var A1=r[--t],n1=r[--t];b(r[--t],n1,A1)})};var ds=s([function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt-2,r[t++]=ft-2},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt-2,r[t++]=ft-1},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt-1,r[t++]=ft-2},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt-1,r[t++]=ft-1},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt-1,r[t++]=ft},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt,r[t++]=ft-2},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt,r[t++]=ft-1},function(){var ft=r[t-1],Pt=r[t-2];r[t++]=Pt,r[t++]=ft}]);e.dmn=ds;var Cs=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=1},function(){r[t++]=e.mrows-1,r[t++]=2},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc1=Cs;var ln=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-4},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc2=ln;var _s=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc3=_s;var rr=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=e.mcols-1},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-3},function(){r[t++]=1,r[t++]=e.mcols-2},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc4=rr,r[t++]=1/0;for(var wr=0,Er=e.mrows*e.mcols;wr<Er;wr++)r[t++]=-1;e.mmat=s();for(var ta=e.cws.length-1;ta>=0;ta-=1)r[t++]=c(e.cws,ta);for(r[t++]=4,r[t++]=0;;){var Or=r[t-1],ia=r[t-2];Or==0&&ia==e.mrows&&(r[t++]=e.dmc1,e.module());var Wr=r[t-1],es=r[t-2];Wr==0&&es==e.mrows-2&&e.mcols%4!=0&&(r[t++]=e.dmc2,e.module());var ts=r[t-1],Vs=r[t-2];ts==0&&Vs==e.mrows-2&&e.mcols%8==4&&(r[t++]=e.dmc3,e.module());var yn=r[t-1],Mn=r[t-2];for(yn==2&&Mn==e.mrows+4&&e.mcols%8==0&&(r[t++]=e.dmc4,e.module());;){var Qn=r[t-1],Hn=r[t-2];if(Qn>=0&&Hn<e.mrows){var wn=r[t-1],pi=r[t-2];c(e.mmat,S(wn+pi*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var $n=r[--t],mi=r[--t];if(r[t++]=mi-2,r[t++]=$n+2,!($n+2<e.mcols&&mi-2>=0))break}var t1=r[--t],xi=r[--t];for(r[t++]=xi+1,r[t++]=t1+3;;){var r1=r[t-1],a1=r[t-2];if(r1<e.mcols&&a1>=0){var Je=r[t-1],Nt=r[t-2];c(e.mmat,S(Je+Nt*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var pr=r[--t],Nr=r[--t];if(r[t++]=Nr+2,r[t++]=pr-2,!(pr-2>=0&&Nr+2<e.mrows))break}var ma=r[--t],rs=r[--t];if(r[t++]=rs+3,r[t++]=ma+1,!(ma+1<e.mcols||rs+3<e.mrows)){t-=2;break}}c(e.mmat,e.mrows*e.mcols-1)==-1&&(M(e.mmat,e.mrows*(e.mcols-1)-2,s([1,0])),M(e.mmat,e.mrows*e.mcols-2,s([0,1]))),e.pixs=s(e.rows*e.cols),e.cwpos=0;for(var as=0,Is=e.rows-1;as<=Is;as+=1){if(e.i=as,e.i%(e.rrows+2)==0){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var cn=0,An=~~(e.cols/2);cn<An;cn++)r[t++]=1,r[t++]=0;var Fi=s(),Pi=r[--t];M(r[--t],Pi,Fi)}if(e.i%(e.rrows+2)==e.rrows+1){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var qn=0,Oi=e.cols;qn<Oi;qn++)r[t++]=1;var Io=s(),q1=r[--t];M(r[--t],q1,Io)}if(e.i%(e.rrows+2)!=0&&e.i%(e.rrows+2)!=e.rrows+1)for(var xt=0,qt=e.cols-1;xt<=qt;xt+=1)e.j=xt,e.j%(e.rcols+2)==0&&b(e.pixs,S(e.i*e.cols+e.j),1),e.j%(e.rcols+2)==e.rcols+1&&b(e.pixs,S(e.i*e.cols+e.j),e.i%2),e.j%(e.rcols+2)!=0&&e.j%(e.rcols+2)!=e.rcols+1&&(b(e.pixs,S(e.i*e.cols+e.j),c(e.mmat,e.cwpos)),e.cwpos=e.cwpos+1)}var Ur=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ur,e.dontdraw||At(),e=a}function bM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function yM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"dmre",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function wM(){var a=e;e=Object.assign({},e),e.type="unset",e.parse=!1,e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse;var o=e.type;_e(o,"7")&&_e(o,"9")&&_e(o,"29")&&(r[t++]="bwipp.mailmarkBadType#20820",r[t++]="Royal Mail Mailmark type must be 7, 9 or 29",z());var d=new Map([["7","24x24"],["9","32x32"],["29","16x48"]]);e.version=c(d,e.type);var u=new Map([["7","square"],["9","square"],["29","rectangle"]]);e.format=c(u,e.type),e.barcode.length<45&&(r[t++]="bwipp.mailmarkBadLength#20836",r[t++]="Royal Mail Mailmark must contain at least 45 characters of Mailmark formatted data, including any required space padding",z()),_e(C(e.barcode,0,4),"JGB ")&&(r[t++]="bwipp.mailmarkBadIndicator#20839",r[t++]="Royal Mail Mailmark must begin with JGB<space> identifier",z()),b(e.options,"dontdraw",!0),b(e.options,"version",e.version),b(e.options,"format",e.format),b(e.options,"c40headerlength",45),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var f=r[--t];e[r[--t]]=f,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function xl(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="unset",e.version="unset",e.eclevel="unset",e.fixedeclevel=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,e.suppresskanjimode=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.qrcodeEmptyData#20904",r[t++]="The data must not be empty",z()),_e(e.version,"unset")?Y(e.format,"unset")&&(r[t++]="full",Y(C(e.version,0,1),"M")&&(r[t-1]="micro"),Y(C(e.version,0,1),"R")&&(r[t-1]="rmqr"),e.format=r[--t]):Y(e.format,"unset")&&(e.format="full"),_e(e.format,"full")&&_e(e.format,"micro")&&_e(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeInvalidFormat#20920",r[t++]="The format must be either full, micro or rmqr",z()),Y(e.format,"rmqr")&&Y(e.version,"unset")&&(r[t++]="bwipp.qrcodeRMQRwithoutVersion#20924",r[t++]="A version must be provided for RMQR",z()),Y(e.eclevel,"unset")){r[t++]="eclevel",_e(e.format,"micro")?r[t++]="M":r[t++]="L";var n=r[--t];e[r[--t]]=n}if(_e(e.eclevel,"L")&&_e(e.eclevel,"M")&&_e(e.eclevel,"Q")&&_e(e.eclevel,"H")&&(r[t++]="bwipp.qrcodeInvalidEClevel#20931",r[t++]="Error correction level must be either L, M, Q, or H",z()),e.mask!=-1&&Y(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeRMQRmask#20935",r[t++]="A mask cannot be supplied for RMQR",z()),e.mask!=-1){var i=Y(e.format,"full")?8:4;(e.mask<1||e.mask>i)&&(r[t++]="bwipp.qrcodeBadMask#20940",r[t++]="An invalid mask was supplied",z())}e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var d=r[--t];if(e[r[--t]]=d,e.msglen=e.msg.length,e.fnc1first=!1,e.msglen>0&&c(e.msg,0)==e.fn1){e.fnc1first=!0,r[t++]=1/0;for(var u=C(e.msg,1,e.msglen-1),f=0,h=u.length;f<h;f++){var p=c(u,f);if(r[t++]=p,p==37){var m=r[t-1];r[t++]=m}}e.msg=s(),e.msglen=e.msg.length}var x=s(["v1to9","v10to26","v27to40","vM1","vM2","vM3","vM4","vR7x43","vR7x59","vR7x77","vR7x99","vR7x139","vR9x43","vR9x59","vR9x77","vR9x99","vR9x139","vR11x27","vR11x43","vR11x59","vR11x77","vR11x99","vR11x139","vR13x27","vR13x43","vR13x59","vR13x77","vR13x99","vR13x139","vR15x43","vR15x59","vR15x77","vR15x99","vR15x139","vR17x43","vR17x59","vR17x77","vR17x99","vR17x139"]);r[t++]=0;for(var y=0,w=x.length;y<w;y++){var v=r[--t];e[c(x,y)]=v,r[t++]=v+1}t--,e.N=0,e.A=1,e.B=2,e.K=3,e.E=4,r[t++]=1/0,r[t++]=1/0;for(var g=48;g<=57;g+=1)r[t++]=g;for(var A=s(),k=0,E=A.length;k<E;k++)r[t++]=c(A,k),r[t++]=-1;e.Nexcl=Ge(),r[t++]=1/0,r[t++]=1/0,r[t++]=32,r[t++]=36,r[t++]=37,r[t++]=42,r[t++]=43,r[t++]=45,r[t++]=46,r[t++]=47,r[t++]=58;for(var j=65;j<=90;j+=1)r[t++]=j;r[t++]=e.fn1;for(var N=s(),B=0,I=N.length;B<I;B++)r[t++]=c(N,B),r[t++]=-1;e.Aexcl=Ge(),r[t++]=1/0,r[t++]=1/0;for(var D=129;D<=159;D+=1)r[t++]=D;for(var T=224;T<=235;T+=1)r[t++]=T;for(var R=s(),$=0,_=R.length;$<_;$++)r[t++]=c(R,$),r[t++]=-1;e.Kexcl=Ge(),r[t++]=1/0,r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["",-1,-1,-1,-1]),r[t++]=s(["0","1",-1,-1,-1]),r[t++]=s(["00","01","10","11",-1]),r[t++]=s(["000","001","010","011",-1]);for(var F=0;F<32;F++)r[t++]=s(["001","010","011","100","111"]);e.mids=s(),e.cclens=s([s([10,9,8,8]),s([12,11,16,10]),s([14,13,16,12]),s([3,-1,-1,-1]),s([4,3,-1,-1]),s([5,4,4,3]),s([6,5,5,4]),s([4,3,3,2]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([4,4,3,2]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([5,5,4,3]),s([6,6,5,5]),s([7,6,6,5]),s([7,7,6,6]),s([8,7,7,6]),s([8,8,7,7]),s([7,6,6,5]),s([7,7,6,5]),s([8,7,7,6]),s([8,7,7,6]),s([9,8,7,7]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([8,8,7,6]),s([9,8,8,7])]),r[t++]=1/0;for(var Q=0;Q<3;Q++)r[t++]=4;r[t++]=3,r[t++]=5,r[t++]=7,r[t++]=9;for(var L=0;L<32;L++)r[t++]=3;e.termlens=s(),e.padstrs=s(["11101100","00010001"]),e.charmap="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.charvals=new Map;for(var X=0;X<=44;X+=1)b(e.charvals,c(e.charmap,X),X);e.tobin=function(){var Je=J(r[--t]);r[t++]=Je;for(var Nt=0,pr=Je.length-1;Nt<=pr;Nt+=1){var Nr=r[t-1];b(Nr,Nt,48)}var ma=r[t-1];r[t++]=ma;var rs=r[t-3],as=r[t-1];r[t-3]=r[t-2],t-=2;var Is=$t(J(as.length),rs,2);M(as,as.length-Is.length,Is)},e.encA=function(){for(e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ve(e.in,function(){var Nt=r[t-1];Nt==e.fn1&&(r[t-1]=37)}),e.in=s()),e.out=J(~~(e.in.length*11/2)+1),e.k=0,e.m=0;e.k!=e.in.length;){e.k<e.in.length-1?(r[t++]=S(c(e.charvals,c(e.in,e.k))*45+c(e.charvals,c(e.in,e.k+1))),r[t++]=11,e.tobin(),e.k=e.k+2):(r[t++]=c(e.charvals,c(e.in,e.k)),r[t++]=6,e.tobin(),e.k=e.k+1);var Je=r[--t];M(e.out,e.m,Je),e.m=Je.length+e.m}r[t++]=C(e.out,0,e.m)},e.encN=function(){for(e.in=r[--t],e.out=J(~~(e.in.length*10/3)+1),e.k=0,e.m=0;e.k!=e.in.length;){if(e.k<e.in.length-2){var Je=C(e.in,e.k,3);r[t++]=0;for(var Nt=0,pr=Je.length;Nt<pr;Nt++){var Nr=r[--t];r[t++]=S(c(Je,Nt)+(Nr*10-48))}r[t++]=10,e.tobin(),e.k=e.k+3}else if(e.k==e.in.length-2){var ma=C(e.in,e.k,2);r[t++]=0;for(var rs=0,as=ma.length;rs<as;rs++){var Is=r[--t];r[t++]=S(c(ma,rs)+(Is*10-48))}r[t++]=7,e.tobin(),e.k=e.k+2}else{var cn=C(e.in,e.k,1);r[t++]=0;for(var An=0,Fi=cn.length;An<Fi;An++){var Pi=r[--t];r[t++]=S(c(cn,An)+(Pi*10-48))}r[t++]=4,e.tobin(),e.k=e.k+1}var qn=r[--t];M(e.out,e.m,qn),e.m=qn.length+e.m}r[t++]=C(e.out,0,e.m)},e.encB=function(){e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ve(e.in,function(){var ma=r[t-1];ma==e.fn1&&(r[t-1]=29)}),e.in=s()),e.out=J(e.in.length*8);for(var Je=0,Nt=e.in.length-1;Je<=Nt;Je+=1){e.k=Je,r[t++]=Fe(c(e.in,e.k)),r[t++]=8,e.tobin(),r[t++]=e.out,r[t++]=e.k*8;var pr=r[t-3],Nr=r[t-1];M(r[t-2],Nr,pr),t-=3}r[t++]=e.out},e.encK=function(){for(e.in=r[--t],e.out=J(~~(e.in.length/2)*13),e.k=0,e.m=0;e.k!=e.in.length;){var Je=S(c(e.in,e.k)*256+c(e.in,e.k+1));r[t++]=Je,Je<57408?r[t++]=33088:r[t++]=49472;var Nt=r[--t],pr=S(r[--t]-Nt);r[t++]=S((pr>>>8)*192+(pr&255)),r[t++]=13,e.tobin();var Nr=r[--t];M(e.out,e.m,Nr),e.m=Nr.length+e.m,e.k=e.k+2}r[t++]=e.out},e.encE=function(){var Je=-c(r[--t],0)-1e6;if(r[t++]=Je,Je<=127)r[t++]=8,e.tobin();else{var Nt=r[t-1];if(Nt<=16383){var pr=r[--t];r[t++]=pr+32768,r[t++]=16,e.tobin()}else{var Nr=r[--t];r[t++]=Nr+12582912,r[t++]=24,e.tobin()}}},e.encfuncs=s(["encN","encA","encB","encK","encE"]),e.addtobits=function(){var Je=r[--t];M(e.bits,e.j,Je),e.j=Je.length+e.j},r[t++]=1/0;for(var le=0,fe=e.msglen;le<fe;le++)r[t++]=0;r[t++]=0,e.numNs=s(),r[t++]=1/0;for(var V=0,H=e.msglen;V<H;V++)r[t++]=0;r[t++]=0,e.numAs=s(),r[t++]=1/0;for(var se=0,ue=e.msglen;se<ue;se++)r[t++]=0;r[t++]=0,e.numAorNs=s(),r[t++]=1/0;for(var U=0,W=e.msglen;U<W;U++)r[t++]=0;r[t++]=0,e.numBs=s(),r[t++]=1/0;for(var re=0,ie=e.msglen;re<ie;re++)r[t++]=0;r[t++]=0,e.numKs=s(),r[t++]=1/0;for(var be=0,K=e.msglen;be<K;be++)r[t++]=0;r[t++]=9999,e.nextNs=s(),r[t++]=1/0;for(var ke=0,je=e.msglen;ke<je;ke++)r[t++]=0;r[t++]=9999,e.nextBs=s(),r[t++]=1/0;for(var Qe=0,ze=e.msglen;Qe<ze;Qe++)r[t++]=0;r[t++]=9999,e.nextAs=s(),r[t++]=1/0;for(var tt=0,Ze=e.msglen;tt<Ze;tt++)r[t++]=0;r[t++]=9999,e.nextKs=s(),e.isECI=s(e.msglen);for(var Re=e.msglen-1;Re>=0;Re-=1){e.i=Re,e.barchar=c(e.msg,e.i);var He=c(e.Kexcl,e.barchar)!==void 0;if(He&&!e.suppresskanjimode){e.i+1<e.msglen?r[t++]=S(e.barchar*256+c(e.msg,e.i+1)):r[t++]=0;var Ue=r[--t],ye=Ue&255;(Ue>=33088&&Ue<=40956||Ue>=57408&&Ue<=60351)&&ye>=64&&ye<=252&&ye!=127?(b(e.nextKs,e.i,0),b(e.numKs,e.i,c(e.numKs,e.i+2)+1)):b(e.nextKs,e.i,c(e.nextKs,e.i+1)+1)}else b(e.nextKs,e.i,c(e.nextKs,e.i+1)+1);var Ye=c(e.Nexcl,e.barchar)!==void 0;Ye?(b(e.nextNs,e.i,0),b(e.numNs,e.i,c(e.numNs,e.i+1)+1),b(e.numAorNs,e.i,c(e.numAorNs,e.i+1)+1)):b(e.nextNs,e.i,c(e.nextNs,e.i+1)+1);var Ae=c(e.Aexcl,e.barchar)!==void 0;Ae?(b(e.nextAs,e.i,0),b(e.numAs,e.i,c(e.numAs,e.i+1)+1),b(e.numAorNs,e.i,c(e.numAorNs,e.i+1)+1)):b(e.nextAs,e.i,c(e.nextAs,e.i+1)+1),b(e.isECI,e.i,e.barchar<=-1e6)}for(var Le=0,he=e.msglen-1;Le<=he;Le+=1)e.i=Le,c(e.numKs,e.i)>0&&(b(e.numKs,e.i+1,0),b(e.nextKs,e.i+1,c(e.nextKs,e.i+1)+1));for(var Pe=e.msglen-1;Pe>=0;Pe-=1)e.i=Pe,S(c(e.numNs,e.i)+(c(e.numAs,e.i)+c(e.numKs,e.i)))==0&&!c(e.isECI,e.i)?(b(e.nextBs,e.i,0),b(e.numBs,e.i,c(e.numBs,e.i+1)+1)):b(e.nextBs,e.i,c(e.nextBs,e.i+1)+1);e.KbeforeB=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numK,Je)&&c(e.nextBs,S(e.numK*2+e.i))==0},e.KbeforeA=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numK,Je)&&c(e.nextAs,S(e.numK*2+e.i))==0},e.KbeforeN=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numK,Je)&&c(e.nextNs,S(e.numK*2+e.i))==0},e.KbeforeE=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numK,Je)&&S(e.numK*2+e.i)==e.msglen},e.AbeforeK=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numA,Je)&&c(e.nextKs,S(e.numA+e.i))==0},e.AbeforeB=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numA,Je)&&c(e.nextBs,S(e.numA+e.i))==0},e.AbeforeN=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numA,Je)&&c(e.nextNs,S(e.numA+e.i))==0},e.AbeforeE=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numA,Je)&&S(e.numA+e.i)==e.msglen},e.NbeforeK=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numN,Je)&&c(e.nextKs,S(e.numN+e.i))==0},e.NbeforeB=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numN,Je)&&c(e.nextBs,S(e.numN+e.i))==0},e.NbeforeA=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numN,Je)&&c(e.nextAs,S(e.numN+e.i))==0},e.NbeforeE=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numN,Je)&&S(e.numN+e.i)==e.msglen},e.AorNbeforeB=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numAorN,Je)&&c(e.nextBs,S(e.numAorN+e.i))==0},e.AorNbeforeE=function(){var Je=c(r[--t],e.ver);r[t++]=Yn(e.numAorN,Je)&&S(e.numAorN+e.i)==e.msglen},e.nextNslt=function(){if(c(e.nextNs,e.i)>=e.msglen)r[t-1]=!0;else{var Je=c(r[--t],e.ver);r[t++]=xn(c(e.numNs,S(c(e.nextNs,e.i)+e.i)),Je)}},r[t++]=1/0,r[t++]="full",r[t++]=1/0;for(var Me=0;Me<=9;Me+=1)r[t++]=$t(J(2),Me,10),r[t++]=e.v1to9;for(var $e=10;$e<=26;$e+=1)r[t++]=$t(J(2),$e,10),r[t++]=e.v10to26;for(var rt=27;rt<=40;rt+=1)r[t++]=$t(J(2),rt,10),r[t++]=e.v27to40;var pt=Ge(),ut=new Map([["M1",e.vM1],["M2",e.vM2],["M3",e.vM3],["M4",e.vM4]]),bt=new Map([["R7x43",e.vR7x43],["R7x59",e.vR7x59],["R7x77",e.vR7x77],["R7x99",e.vR7x99],["R7x139",e.vR7x139],["R9x43",e.vR9x43],["R9x59",e.vR9x59],["R9x77",e.vR9x77],["R9x99",e.vR9x99],["R9x139",e.vR9x139],["R11x27",e.vR11x27],["R11x43",e.vR11x43],["R11x59",e.vR11x59],["R11x77",e.vR11x77],["R11x99",e.vR11x99],["R11x139",e.vR11x139],["R13x27",e.vR13x27],["R13x43",e.vR13x43],["R13x59",e.vR13x59],["R13x77",e.vR13x77],["R13x99",e.vR13x99],["R13x139",e.vR13x139],["R15x43",e.vR15x43],["R15x59",e.vR15x59],["R15x77",e.vR15x77],["R15x99",e.vR15x99],["R15x139",e.vR15x139],["R17x43",e.vR17x43],["R17x59",e.vR17x59],["R17x77",e.vR17x77],["R17x99",e.vR17x99],["R17x139",e.vR17x139]]);if(r[t++]=pt,r[t++]="micro",r[t++]=ut,r[t++]="rmqr",r[t++]=bt,e.versetmap=Ge(),e.versetfull=s([e.v1to9,e.v10to26,e.v27to40]),e.versetmicro=s([e.vM1,e.vM2,e.vM3,e.vM4]),_e(e.version,"unset")){var It=c(e.versetmap,e.format),St=e.version,de=c(It,St)!==void 0;r[t++]=It,r[t++]=St,de||(t-=2,Y(e.format,"full")?(r[t++]="bwipp.qrcodeInvalidFullVersion#21296",r[t++]="Valid versions for QR Code symbols are 1 to 40",z()):Y(e.format,"micro")?(r[t++]="bwipp.qrcodeInvalidMicroVersion#21299",r[t++]="Valid versions for Micro QR Code symbols are M1 to M4",z()):(r[t++]="bwipp.qrcodeInvalidRMQRversion#21301",r[t++]="Invalid version for an RMQR symbol",z()));var Ee=r[--t],at=c(r[--t],Ee),ot=1/0,Et=at;r[t++]=ot,r[t++]=Et,e.verset=s()}else Y(e.format,"full")&&(e.verset=e.versetfull),Y(e.format,"micro")&&(e.verset=e.versetmicro);r[t++]=1/0;for(var yt=0;yt<39;yt++)r[t++]=-1;e.msgbits=s(),e.e=1e4,e.mode0forceKB=s([1,1,1,e.e,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceA=s([1,1,1,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceN=s([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0NbeforeB=s([4,4,5,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeBKbeforeB=s([9,12,13,e.e,e.e,4,6,4,5,6,6,6,5,6,6,6,7,4,6,6,6,7,7,5,6,6,7,7,7,6,6,7,7,7,6,7,7,7,8]),e.modeBKbeforeA=s([8,10,11,e.e,e.e,4,5,4,5,5,6,6,5,5,6,6,6,4,5,6,6,6,6,5,6,6,6,6,7,6,6,6,6,7,6,6,6,7,7]),e.modeBKbeforeN=s([8,9,11,e.e,e.e,3,5,3,4,5,5,5,4,5,5,5,6,3,5,5,5,6,6,4,5,5,6,6,6,5,5,6,6,7,5,6,6,6,7]),e.modeBKbeforeE=s([5,5,6,e.e,e.e,2,3,2,3,3,3,3,3,3,3,3,4,2,3,3,3,4,4,3,3,3,4,4,4,3,3,4,4,4,3,4,4,4,4]),e.modeBAbeforeK=s([11,12,14,e.e,e.e,5,7,5,6,7,8,8,6,7,8,8,8,6,7,8,8,8,8,6,8,8,8,8,9,8,8,8,8,9,8,8,8,9,9]),e.modeBAbeforeB=s([11,15,16,e.e,e.e,6,7,6,7,7,8,8,7,7,8,8,8,6,7,8,8,8,9,7,8,8,8,9,9,8,8,9,9,9,8,8,9,9,10]),e.modeBAbeforeN=s([12,13,15,e.e,e.e,6,8,6,7,8,8,8,7,8,8,8,9,6,8,8,8,9,9,7,8,8,9,9,10,8,9,9,9,10,8,9,9,10,10]),e.modeBAbeforeE=s([6,7,8,e.e,e.e,3,4,3,4,4,4,4,4,4,4,4,5,4,4,4,4,5,5,4,4,4,5,5,5,4,5,5,5,5,4,5,5,5,5]),e.modeBNbeforeK=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5]),e.modeBNbeforeB=s([6,8,9,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,6]),e.modeBNbeforeA=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,4,4,5,5,5,5,4,5,5,5,5,5,5,5,5,5,6,5,5,5,5,6]),e.modeBNbeforeE=s([3,4,4,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeANbeforeA=s([13,15,17,e.e,5,7,9,7,8,9,9,9,8,9,9,9,11,7,9,9,9,11,11,8,9,9,10,11,11,9,10,11,11,11,9,11,11,11,11]),e.modeANbeforeB=s([13,17,18,e.e,e.e,7,9,7,8,9,9,9,8,9,9,9,10,7,9,9,9,10,11,8,9,9,9,11,11,9,9,11,11,11,9,10,11,11,11]),e.modeANbeforeE=s([7,8,9,e.e,3,4,5,4,5,5,5,5,5,5,5,5,6,4,5,5,5,6,6,5,5,5,5,6,6,5,5,6,6,6,5,6,6,6,6]);for(var P=e.verset,G=0,q=P.length;G<q;G++){for(e.ver=c(P,G),e.mode=-1,e.seq=s([]),e.i=0;!(e.i>=e.msglen);){if(e.numK=c(e.numKs,e.i),e.numB=c(e.numBs,e.i),e.numA=c(e.numAs,e.i),e.numN=c(e.numNs,e.i),e.numAorN=c(e.numAorNs,e.i),e.eci=c(e.isECI,e.i),Y(e.ver,e.vM1)&&e.numA>=1){e.seq=-1;break}if(Y(e.ver,e.vM1)&&e.numB>=1){e.seq=-1;break}if(Y(e.ver,e.vM1)&&e.numK>=1){e.seq=-1;break}if(Y(e.ver,e.vM1)&&e.eci){e.seq=-1;break}if(Y(e.ver,e.vM2)&&e.numB>=1){e.seq=-1;break}if(Y(e.ver,e.vM2)&&e.numK>=1){e.seq=-1;break}if(Y(e.ver,e.vM2)&&e.eci){e.seq=-1;break}if(Y(e.ver,e.vM3)&&e.eci){e.seq=-1;break}if(Y(e.ver,e.vM4)&&e.eci){e.seq=-1;break}for(;;){if(e.eci){r[t++]=e.E;break}if(e.mode==-1){if(r[t++]=e.mode0forceKB,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(e.numK>=1){r[t++]=e.B;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceKB,e.NbeforeB(),r[--t]){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeE,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceN,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AorNbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.mode0forceA,e.AorNbeforeE(),r[--t]){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.B){if(r[t++]=e.modeBKbeforeB,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeA,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeN,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBAbeforeK,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeB,e.AbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeN,e.AbeforeN(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeE(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBNbeforeK,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}r[t++]=e.modeBAbeforeE,e.AorNbeforeE();var te=r[--t];if(te&&fc(e.numAorN,c(e.modeBAbeforeN,e.ver))&&(r[t++]=e.modeBNbeforeA,e.nextNslt(),r[--t])){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.A){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(e.numA>=1||e.numN>=1){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.N){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}r[t++]=e.B;break}if(e.mode==e.K){if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}if(e.numK>=1){r[t++]=e.K;break}r[t++]=e.B;break}}var ce=r[t-1];ce==e.K&&e.fnc1first&&(r[t-1]=e.B);var ge=r[t-1];if(ge==e.mode){t--;var ae=e.mode==e.K?2:1;e.dat=C(e.msg,e.i,ae),r[t++]=1/0,O(e.seq),r[t++]=1/0;var Ce=r[--t],Z=r[--t];r[t++]=Ce,O(Z),O(e.dat);var xe=s();r[t++]=xe,e.seq=s()}else e.mode=r[--t],e.mode==e.K&&(r[t++]=e.K,r[t++]=C(e.msg,e.i,e.numK*2)),e.mode==e.B&&(r[t++]=e.B,r[t++]=C(e.msg,e.i,e.numB)),e.mode==e.A&&(r[t++]=e.A,r[t++]=C(e.msg,e.i,e.numA)),e.mode==e.N&&(r[t++]=e.N,r[t++]=C(e.msg,e.i,e.numN)),e.mode==e.E&&(e.mode=-1,r[t++]=e.E,r[t++]=C(e.msg,e.i,1)),e.dat=r[--t],e.sw=r[--t],r[t++]=1/0,O(e.seq),r[t++]=e.sw,r[t++]=e.dat,e.seq=s();e.i=e.i+e.dat.length}for(;e.seq!=-1;){e.bits=J(23648),e.j=0,e.fnc1first&&(xn(e.ver,e.vR7x43)?r[t++]="0101":r[t++]="101",e.addtobits()),e.abort=!1;for(var me=0,Ne=e.seq.length-1;me<=Ne;me+=2){if(e.i=me,e.mode=c(e.seq,e.i),r[t++]=c(c(e.mids,e.ver),e.mode),e.addtobits(),e.chars=c(e.seq,e.i+1),r[t++]="charslen",r[t++]=e.chars.length,e.mode==e.K){var oe=r[--t];r[t++]=~~(oe/2)}var we=r[--t];if(e[r[--t]]=we,e.mode!=e.E){if(e.cclen=c(c(e.cclens,e.ver),e.mode),e.charslen>=~~di(2,e.cclen)){e.abort=!0;break}r[t++]=e.charslen,r[t++]=e.cclen,e.tobin(),e.addtobits()}if(r[t++]=e.chars,e[c(e.encfuncs,e.mode)]()===!0)break;e.addtobits()}if(e.abort)break;e.bits=C(e.bits,0,e.j),b(e.msgbits,e.ver,e.bits);break}}e.metrics=s([s(["micro","M1",e.vM1,11,11,98,99,36,s([2,99,99,99]),s([1,0,-1,-1,-1,-1,-1,-1])]),s(["micro","M2",e.vM2,13,13,98,99,80,s([5,6,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M3",e.vM3,15,15,98,99,132,s([6,8,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M4",e.vM4,17,17,98,99,192,s([8,10,14,99]),s([1,0,1,0,1,0,-1,-1])]),s(["full","1",e.v1to9,21,21,98,99,208,s([7,10,13,17]),s([1,0,1,0,1,0,1,0])]),s(["full","2",e.v1to9,25,25,18,99,359,s([10,16,22,28]),s([1,0,1,0,1,0,1,0])]),s(["full","3",e.v1to9,29,29,22,99,567,s([15,26,36,44]),s([1,0,1,0,2,0,2,0])]),s(["full","4",e.v1to9,33,33,26,99,807,s([20,36,52,64]),s([1,0,2,0,2,0,4,0])]),s(["full","5",e.v1to9,37,37,30,99,1079,s([26,48,72,88]),s([1,0,2,0,2,2,2,2])]),s(["full","6",e.v1to9,41,41,34,99,1383,s([36,64,96,112]),s([2,0,4,0,4,0,4,0])]),s(["full","7",e.v1to9,45,45,22,38,1568,s([40,72,108,130]),s([2,0,4,0,2,4,4,1])]),s(["full","8",e.v1to9,49,49,24,42,1936,s([48,88,132,156]),s([2,0,2,2,4,2,4,2])]),s(["full","9",e.v1to9,53,53,26,46,2336,s([60,110,160,192]),s([2,0,3,2,4,4,4,4])]),s(["full","10",e.v10to26,57,57,28,50,2768,s([72,130,192,224]),s([2,2,4,1,6,2,6,2])]),s(["full","11",e.v10to26,61,61,30,54,3232,s([80,150,224,264]),s([4,0,1,4,4,4,3,8])]),s(["full","12",e.v10to26,65,65,32,58,3728,s([96,176,260,308]),s([2,2,6,2,4,6,7,4])]),s(["full","13",e.v10to26,69,69,34,62,4256,s([104,198,288,352]),s([4,0,8,1,8,4,12,4])]),s(["full","14",e.v10to26,73,73,26,46,4651,s([120,216,320,384]),s([3,1,4,5,11,5,11,5])]),s(["full","15",e.v10to26,77,77,26,48,5243,s([132,240,360,432]),s([5,1,5,5,5,7,11,7])]),s(["full","16",e.v10to26,81,81,26,50,5867,s([144,280,408,480]),s([5,1,7,3,15,2,3,13])]),s(["full","17",e.v10to26,85,85,30,54,6523,s([168,308,448,532]),s([1,5,10,1,1,15,2,17])]),s(["full","18",e.v10to26,89,89,30,56,7211,s([180,338,504,588]),s([5,1,9,4,17,1,2,19])]),s(["full","19",e.v10to26,93,93,30,58,7931,s([196,364,546,650]),s([3,4,3,11,17,4,9,16])]),s(["full","20",e.v10to26,97,97,34,62,8683,s([224,416,600,700]),s([3,5,3,13,15,5,15,10])]),s(["full","21",e.v10to26,101,101,28,50,9252,s([224,442,644,750]),s([4,4,17,0,17,6,19,6])]),s(["full","22",e.v10to26,105,105,26,50,10068,s([252,476,690,816]),s([2,7,17,0,7,16,34,0])]),s(["full","23",e.v10to26,109,109,30,54,10916,s([270,504,750,900]),s([4,5,4,14,11,14,16,14])]),s(["full","24",e.v10to26,113,113,28,54,11796,s([300,560,810,960]),s([6,4,6,14,11,16,30,2])]),s(["full","25",e.v10to26,117,117,32,58,12708,s([312,588,870,1050]),s([8,4,8,13,7,22,22,13])]),s(["full","26",e.v10to26,121,121,30,58,13652,s([336,644,952,1110]),s([10,2,19,4,28,6,33,4])]),s(["full","27",e.v27to40,125,125,34,62,14628,s([360,700,1020,1200]),s([8,4,22,3,8,26,12,28])]),s(["full","28",e.v27to40,129,129,26,50,15371,s([390,728,1050,1260]),s([3,10,3,23,4,31,11,31])]),s(["full","29",e.v27to40,133,133,30,54,16411,s([420,784,1140,1350]),s([7,7,21,7,1,37,19,26])]),s(["full","30",e.v27to40,137,137,26,52,17483,s([450,812,1200,1440]),s([5,10,19,10,15,25,23,25])]),s(["full","31",e.v27to40,141,141,30,56,18587,s([480,868,1290,1530]),s([13,3,2,29,42,1,23,28])]),s(["full","32",e.v27to40,145,145,34,60,19723,s([510,924,1350,1620]),s([17,0,10,23,10,35,19,35])]),s(["full","33",e.v27to40,149,149,30,58,20891,s([540,980,1440,1710]),s([17,1,14,21,29,19,11,46])]),s(["full","34",e.v27to40,153,153,34,62,22091,s([570,1036,1530,1800]),s([13,6,14,23,44,7,59,1])]),s(["full","35",e.v27to40,157,157,30,54,23008,s([570,1064,1590,1890]),s([12,7,12,26,39,14,22,41])]),s(["full","36",e.v27to40,161,161,24,50,24272,s([600,1120,1680,1980]),s([6,14,6,34,46,10,2,64])]),s(["full","37",e.v27to40,165,165,28,54,25568,s([630,1204,1770,2100]),s([17,4,29,14,49,10,24,46])]),s(["full","38",e.v27to40,169,169,32,58,26896,s([660,1260,1860,2220]),s([4,18,13,32,48,14,42,32])]),s(["full","39",e.v27to40,173,173,26,54,28256,s([720,1316,1950,2310]),s([20,4,40,7,43,22,10,67])]),s(["full","40",e.v27to40,177,177,30,58,29648,s([750,1372,2040,2430]),s([19,6,18,31,34,34,20,61])]),s(["rmqr","R7x43",e.vR7x43,7,43,22,99,104,s([99,7,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x59",e.vR7x59,7,59,20,40,171,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x77",e.vR7x77,7,77,26,52,261,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x99",e.vR7x99,7,99,24,50,358,s([99,16,99,30]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x139",e.vR7x139,7,139,28,56,545,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x43",e.vR9x43,9,43,22,99,170,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x59",e.vR9x59,9,59,20,40,267,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x77",e.vR9x77,9,77,26,52,393,s([99,18,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R9x99",e.vR9x99,9,99,24,50,532,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x139",e.vR9x139,9,139,28,56,797,s([99,36,99,66]),s([-1,-1,1,1,-1,-1,3,0])]),s(["rmqr","R11x27",e.vR11x27,11,27,98,99,122,s([99,8,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x43",e.vR11x43,11,43,22,99,249,s([99,12,99,20]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x59",e.vR11x59,11,59,20,40,376,s([99,16,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x77",e.vR11x77,11,77,26,52,538,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x99",e.vR11x99,11,99,24,50,719,s([99,32,99,60]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R11x139",e.vR11x139,11,139,28,56,1062,s([99,48,99,90]),s([-1,-1,2,0,-1,-1,3,0])]),s(["rmqr","R13x27",e.vR13x27,13,27,98,99,172,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x43",e.vR13x43,13,43,22,99,329,s([99,14,99,28]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x59",e.vR13x59,13,59,20,40,486,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R13x77",e.vR13x77,13,77,26,52,684,s([99,32,99,56]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R13x99",e.vR13x99,13,99,24,50,907,s([99,40,99,78]),s([-1,-1,1,1,-1,-1,1,2])]),s(["rmqr","R13x139",e.vR13x139,13,139,28,56,1328,s([99,60,99,112]),s([-1,-1,2,1,-1,-1,2,2])]),s(["rmqr","R15x43",e.vR15x43,15,43,22,99,409,s([99,18,99,36]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R15x59",e.vR15x59,15,59,20,40,596,s([99,26,99,48]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R15x77",e.vR15x77,15,77,26,52,830,s([99,36,99,72]),s([-1,-1,1,1,-1,-1,2,1])]),s(["rmqr","R15x99",e.vR15x99,15,99,24,50,1095,s([99,48,99,88]),s([-1,-1,2,0,-1,-1,4,0])]),s(["rmqr","R15x139",e.vR15x139,15,139,28,56,1594,s([99,72,99,130]),s([-1,-1,2,1,-1,-1,1,4])]),s(["rmqr","R17x43",e.vR17x43,17,43,22,99,489,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R17x59",e.vR17x59,17,59,20,40,706,s([99,32,99,60]),s([-1,-1,2,0,-1,-1,2,0])]),s(["rmqr","R17x77",e.vR17x77,17,77,26,52,976,s([99,44,99,84]),s([-1,-1,2,0,-1,-1,1,2])]),s(["rmqr","R17x99",e.vR17x99,17,99,24,50,1283,s([99,60,99,104]),s([-1,-1,2,1,-1,-1,4,0])]),s(["rmqr","R17x139",e.vR17x139,17,139,28,56,1860,s([99,80,99,156]),s([-1,-1,4,0,-1,-1,2,4])])]),r[t++]="eclval",Rt("LMQH",e.eclevel),t--;var Be=r[--t];r[t-1]=Be.length;var pe=r[--t];r[t-1]=pe;var Ie=r[--t];e[r[--t]]=Ie;for(var Se=0,Te=e.metrics.length-1;Se<=Te;Se+=1){e.i=Se,e.m=c(e.metrics,e.i),e.frmt=c(e.m,0),e.vers=c(e.m,1),e.vergrp=c(e.m,2),e.verind=e.i-44,e.rows=c(e.m,3),e.cols=c(e.m,4),e.asp2=c(e.m,5),e.asp3=c(e.m,6),e.nmod=c(e.m,7),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.lc4b=!1,(Y(e.vers,"M1")||Y(e.vers,"M3"))&&(e.ncws=e.ncws+1,e.rbit=0,e.lc4b=!0),e.ecws=c(c(e.m,8),e.eclval),e.dcws=S(e.ncws-e.ecws);var Ve=e.lc4b?4:0;if(e.dmod=S(e.dcws*8-Ve),e.ecb1=c(c(e.m,9),e.eclval*2),e.ecb2=c(c(e.m,9),e.eclval*2+1),e.okay=!0,_e(e.format,e.frmt)&&(e.okay=!1),Y(e.frmt,"micro")&&e.fnc1first&&(e.okay=!1),_e(e.version,"unset")&&_e(e.version,e.vers)&&(e.okay=!1),(e.ecb1==-1||e.ecb2==-1)&&(e.okay=!1),e.verbits=c(e.msgbits,e.vergrp),(e.verbits==-1||e.verbits.length>e.dmod)&&(e.okay=!1),e.term=C("000000000",0,c(e.termlens,e.vergrp)),e.okay)break}if(e.okay||(r[t++]="bwipp.qrcodeNoValidSymbol#21607",r[t++]="Maximum length exceeded or invalid content",z()),e.format=e.frmt,e.version=e.vers,e.msgbits=e.verbits,!e.fixedeclevel)for(var qe=e.eclval+1;qe<=3;qe+=1){e.eclval_=qe,e.ecws_=c(c(e.m,8),e.eclval_),e.dcws_=S(e.ncws-e.ecws_);var et=e.lc4b?4:0;e.dmod_=S(e.dcws_*8-et),e.ecb1_=c(c(e.m,9),e.eclval_*2),e.ecb2_=c(c(e.m,9),e.eclval_*2+1),e.okay=!0,(e.ecb1_==-1||e.ecb2_==-1)&&(e.okay=!1),e.msgbits.length>e.dmod_&&(e.okay=!1),e.okay&&(e.eclval=e.eclval_,e.dcws=e.dcws_,e.dmod=e.dmod_,e.ecb1=e.ecb1_,e.ecb2=e.ecb2_)}e.dcpb=~~(e.dcws/S(e.ecb1+e.ecb2)),e.ecpb=~~(e.ncws/S(e.ecb1+e.ecb2))-e.dcpb;var ct=e.term,lt=e.dmod,De=e.msgbits,We=e.term,Ke=We.length,st=S(lt-De.length);if(S(lt-De.length)>We.length){var gt=Ke;Ke=st,st=gt}e.term=C(ct,0,st);var wt=J(e.msgbits.length+e.term.length);M(wt,0,e.msgbits),M(wt,e.msgbits.length,e.term),e.msgbits=wt,e.pad=J(e.dmod);for(var vt=0,kt=e.pad.length-1;vt<=kt;vt+=1)b(e.pad,vt,48);M(e.pad,0,e.msgbits),e.padnum=0;for(var dt=e.lc4b?5:1,_t=~~(xr(e.msgbits.length/8)*8),nt=S(e.dmod-dt);_t<=nt;_t+=8)M(e.pad,_t,c(e.padstrs,e.padnum)),e.padnum=(e.padnum+1)%2;e.cws=s(e.dcws);for(var Qt=0,Ht=e.cws.length-1;Qt<=Ht;Qt+=1){e.c=Qt,e.bpcw=8,e.lc4b&&e.c==e.cws.length-1&&(e.bpcw=4),e.cwb=C(e.pad,e.c*8,e.bpcw),e.cw=0;for(var Ut=0,sr=e.bpcw-1;Ut<=sr;Ut+=1)e.i=Ut,e.cw=S(e.cw+~~di(2,e.bpcw-e.i-1)*(c(e.cwb,e.i)-48));b(e.cws,e.c,e.cw)}if(e.lc4b){var Cr=e.cws,nr=e.cws;b(Cr,nr.length-1,c(Cr,nr.length-1)<<4)}var gr=c(e.options,"debugcws")!==void 0;gr&&(r[t++]="bwipp.debugcws#21674",r[t++]=e.cws,z()),r[t++]=1/0,r[t++]=1;for(var ar=0;ar<255;ar++){var Br=r[t-1],Zt=Br*2;if(r[t++]=Zt,Zt>=256){var dr=r[--t];r[t++]=dr^285}}e.rsalog=s(),e.rslog=s(256);for(var Kt=1;Kt<=255;Kt+=1)b(e.rslog,c(e.rsalog,Kt),Kt);e.rsprod=function(){var Je=r[t-1],Nt=r[t-2];if(Je!=0&&Nt!=0){var pr=c(e.rslog,r[--t]),Nr=c(e.rsalog,S(pr+c(e.rslog,r[--t]))%255);r[t++]=Nr}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Jt=0,ur=e.ecpb;Jt<ur;Jt++)r[t++]=0;e.coeffs=s();for(var Tr=0,Fr=e.ecpb-1;Tr<=Fr;Tr+=1){e.i=Tr,b(e.coeffs,e.i+1,c(e.coeffs,e.i));for(var fa=e.i;fa>=1;fa-=1){e.j=fa,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Tt=r[--t],Gt=r[--t],tr=r[--t];b(r[--t],tr,ps(Gt,Tt))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var br=r[--t],ir=r[--t];b(r[--t],ir,br)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1),e.rscodes=function(){e.rscws=r[--t],e.rsnd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Je=0,Nt=e.ecpb;Je<Nt;Je++)r[t++]=0;e.rscws=s();for(var pr=0,Nr=e.rsnd-1;pr<=Nr;pr+=1){e.m=pr,e.k=c(e.rscws,e.m);for(var ma=0,rs=e.ecpb-1;ma<=rs;ma+=1){e.j=ma,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=c(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var as=r[--t],Is=r[--t];b(r[--t],Is,ps(as,c(e.rscws,e.m+e.j+1)))}}r[t++]=C(e.rscws,e.rsnd,e.ecpb)},e.dcwsb=s(S(e.ecb1+e.ecb2)),e.ecwsb=s(S(e.ecb1+e.ecb2));for(var Dr=0,or=e.ecb1-1;Dr<=or;Dr+=1){e.i=Dr,b(e.dcwsb,e.i,C(e.cws,e.i*e.dcpb,e.dcpb)),r[t++]=e.ecwsb,r[t++]=e.i,r[t++]=c(e.dcwsb,e.i),e.rscodes();var zt=r[--t],yr=r[--t];b(r[--t],yr,zt)}for(var ra=0,ha=e.ecb2-1;ra<=ha;ra+=1){e.i=ra,b(e.dcwsb,S(e.ecb1+e.i),C(e.cws,S(e.ecb1*e.dcpb+e.i*(e.dcpb+1)),e.dcpb+1)),r[t++]=e.ecwsb,r[t++]=S(e.ecb1+e.i),r[t++]=c(e.dcwsb,S(e.ecb1+e.i)),e.rscodes();var Aa=r[--t],Qr=r[--t];b(r[--t],Qr,Aa)}e.cws=s(e.ncws),e.cw=0;for(var Ca=0,ba=e.dcpb;Ca<=ba;Ca+=1){e.i=Ca;for(var Ma=0,ca=S(e.ecb1+e.ecb2)-1;Ma<=ca;Ma+=1)e.j=Ma,e.i<c(e.dcwsb,e.j).length&&(b(e.cws,e.cw,c(c(e.dcwsb,e.j),e.i)),e.cw=e.cw+1)}for(var ka=0,Ia=e.ecpb-1;ka<=Ia;ka+=1){e.i=ka;for(var ja=0,Qa=S(e.ecb1+e.ecb2)-1;ja<=Qa;ja+=1)e.j=ja,b(e.cws,e.cw,c(c(e.ecwsb,e.j),e.i)),e.cw=e.cw+1}if(e.rbit>0&&(e.pad=s(e.cws.length+1),M(e.pad,0,e.cws),b(e.pad,e.pad.length-1,0),e.cws=e.pad),e.lc4b){var Ha=e.cws,Ka=e.dcws;b(Ha,Ka-1,c(Ha,Ka-1)>>>4);for(var xs=e.dcws-1,Ba=e.ncws-2;xs<=Ba;xs+=1)e.i=xs,b(e.cws,e.i,(c(e.cws,e.i)&15)<<4),b(e.cws,e.i,c(e.cws,e.i+1)>>>4&15|c(e.cws,e.i));b(e.cws,e.ncws-1,(c(e.cws,e.ncws-1)&15)<<4)}var Ts=c(e.options,"debugecc")!==void 0;Ts&&(r[t++]="bwipp.debugecc#21776",r[t++]=e.cws,z()),r[t++]=1/0;for(var $a=0,$s=e.rows*e.cols;$a<$s;$a++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Je=r[--t],Nt=r[--t];r[t++]=S(Nt+Je*e.cols)},Y(e.format,"full"))for(var _a=8,vs=e.cols-9;_a<=vs;_a+=1){e.i=_a,r[t++]=e.pixs,r[t++]=e.i,r[t++]=6,e.qmv();var Rs=r[--t];b(r[--t],Rs,(e.i+1)%2),r[t++]=e.pixs,r[t++]=6,r[t++]=e.i,e.qmv();var Ms=r[--t];b(r[--t],Ms,(e.i+1)%2)}if(Y(e.format,"micro"))for(var Wa=8,qs=e.cols-1;Wa<=qs;Wa+=1){e.i=Wa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var Ja=r[--t];b(r[--t],Ja,(e.i+1)%2),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var gs=r[--t];b(r[--t],gs,(e.i+1)%2)}if(Y(e.format,"rmqr")){for(var Fa=3,gn=e.cols-4;Fa<=gn;Fa+=1){e.i=Fa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var qa=r[--t];b(r[--t],qa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var Bn=r[--t];b(r[--t],Bn,(e.i+1)%2)}for(var Da=3,en=e.rows-4;Da<=en;Da+=1){e.i=Da,r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var Pa=r[--t];b(r[--t],Pa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var sn=r[--t];b(r[--t],sn,(e.i+1)%2)}for(var ls=e.asp2-1,Xt=S(e.asp3-e.asp2),Zr=e.cols-13;Xt<0?ls>=Zr:ls<=Zr;ls+=Xt){e.i=ls;for(var Na=3,Oa=e.rows-4;Na<=Oa;Na+=1){e.j=Na,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var bs=r[--t];b(r[--t],bs,(e.j+1)%2)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fsubpat=s([s([1,1,1,1,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,0,1,0,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,1,1,1,1,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fcorpat=s([s([1,1,1,9,9,9,9,9]),s([1,0,9,9,9,9,9,9]),s([1,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fnullpat=s([s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]);var Hr=new Map([["full",s([e.fpat,e.fpat,e.fpat,e.fnullpat])],["micro",s([e.fpat,e.fnullpat,e.fnullpat,e.fnullpat])],["rmqr",s([e.fpat,e.fcorpat,e.fcorpat,e.fsubpat])]]);e.fpatmap=Hr,e.fpats=c(e.fpatmap,e.format);for(var cs=0;cs<=7;cs+=1){e.y=cs;for(var ys=0;ys<=7;ys+=1){if(e.x=ys,e.fpb0=c(c(c(e.fpats,0),e.y),e.x),e.fpb1=c(c(c(e.fpats,1),e.y),e.x),e.fpb2=c(c(c(e.fpats,2),e.y),e.x),e.fpb3=c(c(c(e.fpats,3),e.y),e.x),e.fpb0!=9&&e.y<e.rows){r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Ua=r[--t];b(r[--t],Ua,e.fpb0)}if(e.fpb1!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=e.y,e.qmv();var Dn=r[--t];b(r[--t],Dn,e.fpb1)}if(e.fpb2!=9){r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.rows-e.y)-1,e.qmv();var Ta=r[--t];b(r[--t],Ta,e.fpb2)}if(e.fpb3!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=S(e.rows-e.y)-1,e.qmv();var hi=r[--t];b(r[--t],hi,e.fpb3)}}}if(e.algnpatfull=s([s([1,1,1,1,1]),s([1,0,0,0,1]),s([1,0,1,0,1]),s([1,0,0,0,1]),s([1,1,1,1,1])]),e.algnpatrmqr=s([s([1,1,1,9,9]),s([1,0,1,9,9]),s([1,1,1,9,9]),s([9,9,9,9,9]),s([9,9,9,9,9])]),e.putalgnpat=function(){e.py=r[--t],e.px=r[--t];for(var Je=0;Je<=4;Je+=1){e.pb=Je;for(var Nt=0;Nt<=4;Nt+=1)if(e.pa=Nt,e.algnb=c(c(e.algnpat,e.pb),e.pa),e.algnb!=9){r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.qmv();var pr=r[--t];b(r[--t],pr,e.algnb)}}},Y(e.format,"full")){e.algnpat=e.algnpatfull;for(var Gs=e.asp2-2,Ra=S(e.asp3-e.asp2),Tn=e.cols-13;Ra<0?Gs>=Tn:Gs<=Tn;Gs+=Ra)e.i=Gs,r[t++]=e.i,r[t++]=4,e.putalgnpat(),r[t++]=4,r[t++]=e.i,e.putalgnpat();for(var Xa=e.asp2-2,Rn=S(e.asp3-e.asp2),ws=e.cols-9;Rn<0?Xa>=ws:Xa<=ws;Xa+=Rn){e.x=Xa;for(var nn=e.asp2-2,on=S(e.asp3-e.asp2),Zn=e.rows-9;on<0?nn>=Zn:nn<=Zn;nn+=on)e.y=nn,r[t++]=e.x,r[t++]=e.y,e.putalgnpat()}}if(Y(e.format,"rmqr")){e.algnpat=e.algnpatrmqr;for(var Ct=e.asp2-2,Yr=S(e.asp3-e.asp2),aa=e.cols-13;Yr<0?Ct>=aa:Ct<=aa;Ct+=Yr)e.i=Ct,r[t++]=e.i,r[t++]=0,e.putalgnpat(),r[t++]=e.i,r[t++]=e.rows-3,e.putalgnpat()}e.formatmapmicro=s([s([s([1,8])]),s([s([2,8])]),s([s([3,8])]),s([s([4,8])]),s([s([5,8])]),s([s([6,8])]),s([s([7,8])]),s([s([8,8])]),s([s([8,7])]),s([s([8,6])]),s([s([8,5])]),s([s([8,4])]),s([s([8,3])]),s([s([8,2])]),s([s([8,1])])]);var za=new Map([["full",s([s([s([0,8]),s([8,e.cols-1])]),s([s([1,8]),s([8,e.cols-2])]),s([s([2,8]),s([8,e.cols-3])]),s([s([3,8]),s([8,e.cols-4])]),s([s([4,8]),s([8,e.cols-5])]),s([s([5,8]),s([8,e.cols-6])]),s([s([7,8]),s([8,e.cols-7])]),s([s([8,8]),s([e.cols-8,8])]),s([s([8,7]),s([e.cols-7,8])]),s([s([8,5]),s([e.cols-6,8])]),s([s([8,4]),s([e.cols-5,8])]),s([s([8,3]),s([e.cols-4,8])]),s([s([8,2]),s([e.cols-3,8])]),s([s([8,1]),s([e.cols-2,8])]),s([s([8,0]),s([e.cols-1,8])])])],["micro",e.formatmapmicro],["rmqr",s([s([s([11,3]),s([e.cols-3,e.rows-6])]),s([s([11,2]),s([e.cols-4,e.rows-6])]),s([s([11,1]),s([e.cols-5,e.rows-6])]),s([s([10,5]),s([e.cols-6,e.rows-2])]),s([s([10,4]),s([e.cols-6,e.rows-3])]),s([s([10,3]),s([e.cols-6,e.rows-4])]),s([s([10,2]),s([e.cols-6,e.rows-5])]),s([s([10,1]),s([e.cols-6,e.rows-6])]),s([s([9,5]),s([e.cols-7,e.rows-2])]),s([s([9,4]),s([e.cols-7,e.rows-3])]),s([s([9,3]),s([e.cols-7,e.rows-4])]),s([s([9,2]),s([e.cols-7,e.rows-5])]),s([s([9,1]),s([e.cols-7,e.rows-6])]),s([s([8,5]),s([e.cols-8,e.rows-2])]),s([s([8,4]),s([e.cols-8,e.rows-3])]),s([s([8,3]),s([e.cols-8,e.rows-4])]),s([s([8,2]),s([e.cols-8,e.rows-5])]),s([s([8,1]),s([e.cols-8,e.rows-6])])])]]);e.formatmap=c(za,e.format),ve(e.formatmap,function(){ve(r[--t],function(){O(r[--t]),e.qmv(),b(e.pixs,r[--t],1)})}),Y(e.format,"full")&&e.cols>=45?e.versionmap=s([s([s([e.cols-9,5]),s([5,e.cols-9])]),s([s([e.cols-10,5]),s([5,e.cols-10])]),s([s([e.cols-11,5]),s([5,e.cols-11])]),s([s([e.cols-9,4]),s([4,e.cols-9])]),s([s([e.cols-10,4]),s([4,e.cols-10])]),s([s([e.cols-11,4]),s([4,e.cols-11])]),s([s([e.cols-9,3]),s([3,e.cols-9])]),s([s([e.cols-10,3]),s([3,e.cols-10])]),s([s([e.cols-11,3]),s([3,e.cols-11])]),s([s([e.cols-9,2]),s([2,e.cols-9])]),s([s([e.cols-10,2]),s([2,e.cols-10])]),s([s([e.cols-11,2]),s([2,e.cols-11])]),s([s([e.cols-9,1]),s([1,e.cols-9])]),s([s([e.cols-10,1]),s([1,e.cols-10])]),s([s([e.cols-11,1]),s([1,e.cols-11])]),s([s([e.cols-9,0]),s([0,e.cols-9])]),s([s([e.cols-10,0]),s([0,e.cols-10])]),s([s([e.cols-11,0]),s([0,e.cols-11])])]):e.versionmap=s([]);for(var da=e.versionmap,Za=0,As=da.length;Za<As;Za++)ve(c(da,Za),function(){O(r[--t]),e.qmv(),b(e.pixs,r[--t],0)});if(Y(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.rows-8,e.qmv();var bn=r[--t];b(r[--t],bn,0)}var mt=s([function(){var Je=r[--t],Nt=r[--t];r[t++]=S(Nt+Je)%2},function(){var Je=r[--t];r[t-1]=Je;var Nt=r[--t];r[t++]=Nt%2},function(){t--;var Je=r[--t];r[t++]=Je%3},function(){var Je=r[--t],Nt=r[--t];r[t++]=S(Nt+Je)%3},function(){var Je=r[--t],Nt=r[--t];r[t++]=(~~(Je/2)+~~(Nt/3))%2},function(){var Je=r[--t],Nt=r[--t]*Je;r[t++]=S(Nt%2+Nt%3)},function(){var Je=r[--t],Nt=r[--t]*Je;r[t++]=S(Nt%2+Nt%3)%2},function(){var Je=r[--t],Nt=r[--t];r[t++]=S(Nt*Je%3+(Nt+Je)%2)%2}]),Bt=s([function(){var Je=r[--t];r[t-1]=Je;var Nt=r[--t];r[t++]=Nt%2},function(){var Je=r[--t],Nt=r[--t];r[t++]=(~~(Je/2)+~~(Nt/3))%2},function(){var Je=r[--t],Nt=r[--t]*Je;r[t++]=S(Nt%2+Nt%3)%2},function(){var Je=r[--t],Nt=r[--t];r[t++]=S(Nt*Je%3+(Nt+Je)%2)%2}]),hr=s([function(){var Je=r[--t],Nt=r[--t];r[t++]=(~~(Je/2)+~~(Nt/3))%2}]),lr=new Map([["full",mt],["micro",Bt],["rmqr",hr]]);e.maskfuncs=c(lr,e.format),e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var fr=0,Rr=e.masks.length-1;fr<=Rr;fr+=1){e.m=fr,e.mask=s(e.rows*e.cols);for(var cr=0,sa=e.rows-1;cr<=sa;cr+=1){e.j=cr;for(var $r=0,qr=e.cols-1;$r<=qr&&(e.i=$r,r[t++]=e.i,r[t++]=e.j,c(e.maskfuncs,e.m)()!==!0);$r+=1){var Gr=r[--t];r[t++]=Gr==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Kr=r[--t],pa=c(r[--t],Kr),ea=r[--t],Vr=ea&&pa==-1?1:0;r[t++]=Vr,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var na=r[t-3],Mr=r[t-1];b(r[t-2],Mr,na),t-=3}}b(e.masks,e.m,e.mask)}var Pr=_e(e.format,"rmqr")?1:2;for(e.posx=S(e.cols-Pr),e.posy=e.rows-1,e.dir=-1,e.col=1,e.num=0;!(e.posx<0);){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var La=r[--t];if(c(r[--t],La)==-1){var ya=c(e.cws,~~(e.num/8)),ds=-(7-e.num%8);r[t++]=(ds<0?ya>>>-ds:ya<<ds)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Cs=r[t-3],ln=r[t-1];b(r[t-2],ln,Cs),t-=3,e.num=e.num+1}e.col==1?(e.col=0,e.posx=e.posx-1):(e.col=1,e.posx=e.posx+1,e.posy=S(e.posy+e.dir),(e.posy<0||e.posy>=e.rows)&&(e.dir=e.dir*-1,e.posy=S(e.posy+e.dir),e.posx=e.posx-2,Y(e.format,"full")&&e.posx==6&&(e.posx=e.posx-1)))}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ve(e.scrle,function(){var Fi=r[t-1];if(Fi>=5){var Pi=r[--t],qn=S(r[--t]+Pi)-2;r[t++]=qn,r[t++]=qn}t--});var Je=r[--t];e[r[--t]]=Je,e.scr3=0;for(var Nt=3,pr=e.scrle.length-3;Nt<=pr;Nt+=2)if(e.j=Nt,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var Nr=C(e.scrle,e.j-2,5),ma=0,rs=Nr.length;ma<rs;ma++)r[t++]=c(Nr,ma)==e.fact;var as=r[--t],Is=r[--t];r[t-1]=mo(Is,as);var cn=r[--t],An=r[--t];r[--t]&&An&&cn&&(e.j==3||e.j+4>=e.scrle.length||c(e.scrle,e.j-3)>=4||c(e.scrle,e.j+3)>=4)&&(e.scr3=e.scr3+40)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0,e.rle=s(e.cols+1),e.lastpairs=s(e.cols),e.thispairs=s(e.cols),e.colsadd1=e.cols+1;for(var Je=0,Nt=e.cols-1;Je<=Nt;Je+=1){e.i=Je,r[t++]=1/0;var pr=e.cols;r[t++]=0,r[t++]=0;for(var Nr=e.i,ma=pr,rs=pr*pr-1;ma<0?Nr>=rs:Nr<=rs;Nr+=ma){var as=c(e.sym,Nr),Is=r[--t];if(r[t++]=as,Y(Is,as)){var cn=r[--t],An=r[--t];r[t++]=An+1,r[t++]=cn}else{var Fi=r[--t];r[t++]=1,r[t++]=Fi}}t--;var Pi=va()+2;Yt(C(e.rle,0,Pi-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=C(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var qn=e.symrow;r[t++]=0,r[t++]=0;for(var Oi=0,Io=qn.length;Oi<Io;Oi++){var q1=c(qn,Oi),xt=r[--t];if(r[t++]=q1,Y(xt,q1)){var qt=r[--t],Ur=r[--t];r[t++]=Ur+1,r[t++]=qt}else{var ft=r[--t];r[t++]=1,r[t++]=ft}}t--;var Pt=va()+2;Yt(C(e.rle,0,Pt-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var Vt=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=Vt;var Wt=c(e.symrow,0)==1?0:1,Jr=e.symrow;r[t++]=Wt;for(var wa=0,xa=Jr.length;wa<xa;wa++){var us=c(Jr,wa),Ys=r[--t];r[t++]=S(Ys+us),r[t++]=us}if(t--,Yt(e.thispairs),t--,e.i>0){r[t++]=1/0,O(e.lastpairs),O(e.thispairs),r[t++]=e.n2;for(var dn=0,un=e.cols;dn<un;dn++){var Gn=r[--t],w1=r[--t];r[t++]=Gn,r[t++]=w1;var s1=r[t-1-e.colsadd1];if(!(S(r[--t]+s1)&3)){var Ui=r[--t];r[t++]=Ui+3}}e.n2=r[--t],rl()}}r[t++]="dark",r[t++]=0,ve(e.sym,function(){var G1=r[--t],k1=r[--t];r[t++]=S(k1+G1)});var A1=r[--t];e[r[--t]]=A1;var n1=e.cols;e.n4=~~(Jo(e.dark*100/(n1*n1)-50)/5)*10,r[t++]=S(e.n1+e.n2+e.n3+e.n4)},e.evalmicro=function(){e.sym=r[--t],e.dkrhs=0,e.dkbot=0;for(var Je=1,Nt=e.cols-1;Je<=Nt;Je+=1){e.i=Je,r[t++]="dkrhs",r[t++]=e.dkrhs,r[t++]=e.sym,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var pr=r[--t],Nr=c(r[--t],pr),ma=r[--t];e[r[--t]]=S(ma+Nr),r[t++]="dkbot",r[t++]=e.dkbot,r[t++]=e.sym,r[t++]=e.i,r[t++]=e.cols-1,e.qmv();var rs=r[--t],as=c(r[--t],rs),Is=r[--t];e[r[--t]]=S(Is+as)}e.dkrhs<=e.dkbot?r[t++]=-(e.dkrhs*16+e.dkbot):r[t++]=-(e.dkbot*16+e.dkrhs)},e.bestscore=999999999;for(var _s=0,rr=e.masks.length-1;_s<=rr;_s+=1){e.m=_s,e.masksym=s(e.rows*e.cols);for(var wr=0,Er=e.rows*e.cols-1;wr<=Er;wr+=1)e.i=wr,b(e.masksym,e.i,ps(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(Y(e.format,"full")?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t]):(r[t++]=e.masksym,e.evalmicro(),e.score=r[--t]),e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,Y(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.cols-8,e.qmv();var ta=r[--t];b(r[--t],ta,1)}if(e.fmtvalsfull=s([21522,20773,24188,23371,17913,16590,20375,19104,30660,29427,32170,30877,26159,25368,27713,26998,5769,5054,7399,6608,1890,597,3340,2107,13663,12392,16177,14854,9396,8579,11994,11245]),e.fmtvalsmicro=s([17477,16754,20011,19228,21934,20633,24512,23287,26515,25252,28157,26826,30328,29519,31766,31009,1758,1001,3248,2439,5941,4610,7515,6252,9480,8255,12134,10833,13539,12756,16013,15290]),e.fmtvalsrmqr1=s([129714,124311,121821,115960,112748,108361,104707,99878,98062,90155,89697,82244,81360,74485,72895,66458,61898,61167,53413,53120,45844,44081,37499,36190,29814,27475,21785,19004,13992,10637,6087,2274,258919,257090,250376,249133,242105,241308,233686,233459,227035,223742,219060,215185,209925,207648,202090,199247,194591,190266,186736,181845,178881,173540,170926,165003,163235,156294,154828,148457,147325,139352,138770,131383]),e.fmtvalsrmqr2=s([133755,136542,142100,144433,149669,153472,158154,161519,167879,168162,175784,176525,183577,184892,191606,193363,196867,204326,204908,212809,213981,220408,221874,228759,230591,236442,239056,244469,247393,252228,255758,260139,942,7307,8897,15844,16752,24149,24607,32570,34322,39223,42877,47192,50380,56297,58787,64134,67798,71667,76217,79516,84488,87341,93031,95298,101738,102991,109573,111392,118708,118929,126683,127486]),Y(e.format,"full")){e.ecid=c(s([1,0,3,2]),e.eclval),e.fmtval=c(e.fmtvalsfull,(e.ecid<<3)+e.bestmaskval);for(var Or=0,ia=e.formatmap.length-1;Or<=ia;Or+=1)e.i=Or,ve(c(e.formatmap,e.i),function(){var Je=r[--t];r[t++]=e.pixs,O(Je),e.qmv();var Nt=e.fmtval,pr=-(14-e.i),Nr=r[--t];b(r[--t],Nr,(pr<0?Nt>>>-pr:Nt<<pr)&1)})}if(Y(e.format,"micro")){e.symid=c(c(s([s([0]),s([1,2]),s([3,4]),s([5,6,7])]),~~((e.cols-11)/2)),e.eclval),e.fmtval=c(e.fmtvalsmicro,(e.symid<<2)+e.bestmaskval);for(var Wr=0,es=e.formatmap.length-1;Wr<=es;Wr+=1){e.i=Wr,r[t++]=e.pixs,O(c(c(e.formatmap,e.i),0)),e.qmv();var ts=e.fmtval,Vs=-(14-e.i),yn=r[--t];b(r[--t],yn,(Vs<0?ts>>>-Vs:ts<<Vs)&1)}}if(Y(e.format,"rmqr")){e.fmtvalu=(c(s([-1,0,-1,1]),e.eclval)<<5)+e.verind,e.fmtval1=c(e.fmtvalsrmqr1,e.fmtvalu),e.fmtval2=c(e.fmtvalsrmqr2,e.fmtvalu);for(var Mn=0,Qn=e.formatmap.length-1;Mn<=Qn;Mn+=1){e.i=Mn,r[t++]=e.pixs,O(c(c(e.formatmap,e.i),0)),e.qmv();var Hn=e.fmtval1,wn=-(17-e.i),pi=r[--t];b(r[--t],pi,(wn<0?Hn>>>-wn:Hn<<wn)&1),r[t++]=e.pixs,O(c(c(e.formatmap,e.i),1)),e.qmv();var $n=e.fmtval2,mi=-(17-e.i),t1=r[--t];b(r[--t],t1,(mi<0?$n>>>-mi:$n<<mi)&1)}}if(e.vervals=s([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Y(e.format,"full")&&e.cols>=45){e.verval=c(e.vervals,~~((e.cols-17)/4)-7);for(var xi=0,r1=e.versionmap.length-1;xi<=r1;xi+=1)e.i=xi,ve(c(e.versionmap,e.i),function(){var Je=r[--t];r[t++]=e.pixs,ve(Je),e.qmv();var Nt=e.verval,pr=-(17-e.i),Nr=r[--t];b(r[--t],Nr,(pr<0?Nt>>>-pr:Nt<<pr)&1)})}r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows*2/72,r[t++]="width",r[t++]=e.cols*2/72,r[t++]="borderleft",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderright",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="bordertop",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderbottom",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="opt",r[t++]=e.options;var a1=Ge();r[t++]=a1,e.dontdraw||At(),e=a}function AM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.barcode.length>997&&(r[t++]="bwipp.swissqrcodeBadLength#22347",r[t++]="Swiss QR Code input must not exceed 997 digits",z()),b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,xl();var o=r[--t];if(e[r[--t]]=o,b(e.args,"opt",e.options),r[t++]=e.args,!e.dontdraw){ee.save();var d=ee.currpos();ee.translate(d.x,d.y);var u=72/25.4;ee.scale(u,u),ee.save(),ee.newpath(),ee.moveto(0,0),ee.lineto(46,0),ee.lineto(46,46),ee.lineto(0,46),ee.closepath(),ee.moveto(19.5,19.5),ee.lineto(19.5,26.5),ee.lineto(26.5,26.5),ee.lineto(26.5,19.5),ee.closepath(),ee.clip(),ee.save(),ee.moveto(0,0);var f=46/c(e.args,"pixx")/2;ee.scale(f,f),At(),ee.restore(),ee.restore(),ee.translate(19.5,19.5);var h=7/83;ee.scale(h,h),ee.newpath(),ee.moveto(6,6),ee.lineto(6,77),ee.lineto(77,77),ee.lineto(77,6),ee.closepath(),ee.moveto(49,18),ee.lineto(49,34),ee.lineto(65,34),ee.lineto(65,49),ee.lineto(49,49),ee.lineto(49,65),ee.lineto(34,65),ee.lineto(34,49),ee.lineto(18,49),ee.lineto(18,34),ee.lineto(34,34),ee.lineto(34,18),ee.closepath(),ee.setrgbcolor(0,0,0),ee.fill(),ee.restore()}e=a}function kM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","micro"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,xl();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function jM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","rmqr"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,xl();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function NM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.mode=-1,e.sam=-1,e.parse=!1,e.parsefnc=!1,e.legacyencoder=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.maxicodeEmptyData#22566",r[t++]="The data must not be empty",z()),e.mode!=-1&&(e.mode<2||e.mode>6)&&(r[t++]="bwipp.maxicodeBadMode#22570",r[t++]="Mode must be 2 to 6",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>88){r[t-1]=!1;break}var o=e.sam%10;if(o<2||o>8){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.maxicodeBadSAM#22581",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 8 symbols',z())}e.encoding="new",e.legacyencoder&&(e.encoding="legacy");var d=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=d,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var u=r[--t];if(e[r[--t]]=u,e.msglen=e.msg.length,e.mode==2||e.mode==3){e.barcode=J(e.msglen),e.barlen=e.msglen;for(var f=0,h=e.msglen-1;f<=h;f+=1){if(e.i=f,c(e.msg,e.i)<0){e.barlen=e.i;break}b(e.barcode,e.i,c(e.msg,e.i))}if(e.difflen=e.msglen-e.barlen,e.fid="",e.barlen>=9){var p=e.barcode,m=c(p,7),x=c(p,8);Y(C(p,0,7),"[)>01")&&m>=48&&m<=57&&x>=48&&x<=57&&(e.fid=C(e.barcode,0,9),e.barcode=C(e.barcode,9,e.barlen-9))}if(Rt(e.barcode,""),r[--t])if(e.pcode=r[--t],t--,e.mode==2){r[t++]=!0;for(var y=0;y<1;y++){var w=e.pcode.length;if(w>9||w==0){r[t-1]=!1;break}ve(e.pcode,function(){var Ct=r[--t];if(Ct<48||Ct>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode2PostCode#22635",r[t++]="A mode 2 postcode must not be empty or exceed 9 digits",z())}else{r[t++]=!0;for(var v=0;v<1;v++){var g=e.pcode.length;if(g>6||g==0){r[t-1]=!1;break}ve(e.pcode,function(){var Ct=r[--t];if(!(Ct==32||Ct>=34&&Ct<=58||Ct>=65&&Ct<=90))return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode3PostCode#22649",r[t++]="A mode 3 postcode must not be empty or exceed 6 characters",z())}else t--,r[t++]="bwipp.maxicodeExpectedPostCode#22653",r[t++]="Expected postcode followed by group separator character",z();if(Rt(r[--t],""),r[--t]){e.ccode=r[--t],r[t-1]=!0;for(var A=0;A<1;A++){if(e.ccode.length!=3){r[t-1]=!1;break}ve(e.ccode,function(){var Ct=r[--t];if(Ct<48||Ct>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadCountryCode#22663",r[t++]="Country code must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedCountryCode#22666",r[t++]="Expected country code followed by group separator character",z();if(Rt(r[--t],""),r[--t]){e.scode=r[--t],r[t-1]=!0;for(var k=0;k<1;k++){if(e.scode.length!=3){r[t-1]=!1;break}ve(e.scode,function(){var Ct=r[--t];if(Ct<48||Ct>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadServiceClass#22676",r[t++]="Service class must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedServiceClass#22679",r[t++]="Expected service class followed by group separator character",z();e.barcode=r[--t];var E=J(e.barcode.length+e.fid.length);M(E,0,e.fid),M(E,e.fid.length,e.barcode),e.barcode=E,e.barlen=e.barcode.length,r[t++]=1/0;for(var j=e.barcode,N=0,B=j.length;N<B;N++)r[t++]=c(j,N);O(C(e.msg,e.msglen-e.difflen,e.difflen)),e.msg=s(),e.msglen=e.msg.length}e.eci=-1,e.pad=-2,e.ns=-3,e.la=-4,e.lb=-5,e.sa=-6,e.sb=-7,e.sc=-8,e.sd=-9,e.se=-10,e.sa2=-11,e.sa3=-12,e.lkc=-13,e.lkd=-14,e.lke=-15,e.pd2=-16,e.pd3=-17,e.charmaps=s([s([13,"`",192,224,0]),s(["A","a",193,225,1]),s(["B","b",194,226,2]),s(["C","c",195,227,3]),s(["D","d",196,228,4]),s(["E","e",197,229,5]),s(["F","f",198,230,6]),s(["G","g",199,231,7]),s(["H","h",200,232,8]),s(["I","i",201,233,9]),s(["J","j",202,234,10]),s(["K","k",203,235,11]),s(["L","l",204,236,12]),s(["M","m",205,237,13]),s(["N","n",206,238,14]),s(["O","o",207,239,15]),s(["P","p",208,240,16]),s(["Q","q",209,241,17]),s(["R","r",210,242,18]),s(["S","s",211,243,19]),s(["T","t",212,244,20]),s(["U","u",213,245,21]),s(["V","v",214,246,22]),s(["W","w",215,247,23]),s(["X","x",216,248,24]),s(["Y","y",217,249,25]),s(["Z","z",218,250,26]),s([e.eci,e.eci,e.eci,e.eci,e.eci]),s([28,28,28,28,e.pad]),s([29,29,29,29,e.pd2]),s([30,30,30,30,27]),s([e.ns,e.ns,e.ns,e.ns,e.ns]),s([" ","{",219,251,28]),s([e.pad,e.pad,220,252,29]),s(['"',"}",221,253,30]),s(["#","~",222,254,31]),s(["$",127,223,255,159]),s(["%",";",170,161,160]),s(["&","<",172,168,162]),s(["'","=",177,171,163]),s([40,">",178,175,164]),s([41,"?",179,176,165]),s(["*","[",181,180,166]),s(["+",92,185,183,167]),s([",","]",186,184,169]),s(["-","^",188,187,173]),s([".","_",189,191,174]),s(["/"," ",190,138,182]),s(["0",",",128,139,149]),s(["1",".",129,140,150]),s(["2","/",130,141,151]),s(["3",":",131,142,152]),s(["4","@",132,143,153]),s(["5","!",133,144,154]),s(["6","|",134,145,155]),s(["7",e.pd2,135,146,156]),s(["8",e.sa2,136,147,157]),s(["9",e.sa3,137,148,158]),s([":",e.pd3,e.la,e.la,e.la]),s([e.sb,e.sa," "," "," "]),s([e.sc,e.sc,e.lkc,e.sc,e.sc]),s([e.sd,e.sd,e.sd,e.lkd,e.sd]),s([e.se,e.se,e.se,e.se,e.lke]),s([e.lb,e.la,e.lb,e.lb,e.lb])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var I=0,D=e.charmaps.length-1;I<=D;I+=1){e.i=I,e.encs=c(e.charmaps,e.i);for(var T=0;T<=4;T+=1){e.j=T;var R=c(e.encs,e.j);if(r[t++]=R,Y(an(R),"stringtype")){var $=c(r[--t],0);r[t++]=$}b(c(e.charvals,e.j),r[--t],e.i)}}if(e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.setd=c(e.charvals,3),e.sete=c(e.charvals,4),r[t++]="maxlen",e.mode==5)r[t++]=77;else{var _=e.mode<=3?84:93;r[t++]=_}var F=r[--t];if(e[r[--t]]=F,Y(e.encoding,"legacy")){r[t++]=1/0;for(var Q=0,L=e.msglen+1;Q<L;Q++)r[t++]=0;e.nseq=s();for(var X=e.msglen-1;X>=0;X-=1){e.i=X;var le=c(e.msg,e.i);le>=48&&le<=57?b(e.nseq,e.i,c(e.nseq,e.i+1)+1):b(e.nseq,e.i,0)}for(e.nseq=C(e.nseq,0,e.msglen),e.prefixinset=function(){for(r[t++]=0;;){var Ct=r[t-1],Yr=r[t-2];if(Ct>=Yr.length)break;var aa=r[t-1],za=r[t-2],da=r[t-3],Za=c(da,c(za,aa))!==void 0;if(Za){var As=r[--t];r[t++]=As+1}else break}var bn=r[--t];r[t-1]=bn;var mt=r[--t];r[t-1]=mt},e.enc=function(){var Ct=r[--t];b(e.out,e.j,c(Ct,r[--t])),e.j=e.j+1},e.out=s(144),e.i=0,e.j=0,e.cset="seta";;){if(e.i==e.msglen){_e(e.cset,"seta")&&_e(e.cset,"setb")&&e.out.length<e.maxlen&&(r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta");break}for(;;){if(c(e.msg,e.i)<=-1e6){r[t++]=e.eci,r[t++]=e[e.cset],e.enc();var fe=-c(e.msg,e.i)-1e6;if(r[t++]=fe,fe<=31){var V=r[--t];r[t++]=V&63,Yt(s(1))}else{var H=r[t-1];if(H<=1023){var se=r[--t];r[t++]=se>>>6&31|32,r[t++]=se&63,Yt(s(2))}else{var ue=r[t-1];if(ue<=32767){var U=r[--t];r[t++]=U>>>12&47|48,r[t++]=U>>>6&63,r[t++]=U&63,Yt(s(3))}else{var W=r[--t];r[t++]=W>>>18&55|56,r[t++]=W>>>12&63,r[t++]=W>>>6&63,r[t++]=W&63,Yt(s(4))}}}var re=r[--t];M(e.out,e.j,re),e.j=re.length+e.j,e.i=e.i+1;break}if(c(e.nseq,e.i)>=9){var ie=C(e.msg,e.i,9);r[t++]=0;for(var be=0,K=ie.length;be<K;be++){var ke=r[--t];r[t++]=S(ke+(c(ie,be)-48))*10}var je=r[--t];r[t++]=~~(je/10);for(var Qe=0;Qe<4;Qe++){var ze=r[--t];r[t++]=ze&63,r[t++]=ze>>>6}r[t++]=c(e[e.cset],e.ns);for(var tt=0;tt<=10;tt+=2){var Ze=r[t-1-tt];r[t++]=Ze}Yt(s(6)),Sa(7,1);for(var Re=0;Re<6;Re++)t--;M(e.out,e.j,r[--t]),e.i=e.i+9,e.j=e.j+6;break}e.char1=c(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=c(e.msg,e.i+1):r[t++]=-99;var He=r[--t];e[r[--t]]=He,r[t++]="char3",e.i+2<e.msglen?r[t++]=c(e.msg,e.i+2):r[t++]=-99;var Ue=r[--t];e[r[--t]]=Ue;var ye=c(e[e.cset],e.char1)!==void 0;if(ye){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var Ye=c(e.setb,e.char1)!==void 0;if(Y(e.cset,"seta")&&Ye){var Ae=c(e.setb,e.char2)!==void 0;Ae?(r[t++]=e.lb,r[t++]=e.seta,e.enc(),e.cset="setb"):(r[t++]=e.sb,r[t++]=e.seta,e.enc(),r[t++]=e.char1,r[t++]=e.setb,e.enc(),e.i=e.i+1);break}var Le=c(e.seta,e.char1)!==void 0;if(Y(e.cset,"setb")&&Le){var he=e.seta,Pe=e.msg,Me=e.i,$e=e.msglen,rt=e.i,pt=$e-rt,ut=4;if(4>$e-rt){var bt=pt;pt=ut,ut=bt}r[t++]="p",r[t++]=he,r[t++]=C(Pe,Me,ut),e.prefixinset();var It=r[--t];e[r[--t]]=It,e.p==1&&(r[t++]=e.sa,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sa2,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sa3,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),r[t++]=e.char3,r[t++]=e.seta,e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.la,r[t++]=e.setb,e.enc(),e.cset="seta");break}var St=c(e.seta,e.char1)!==void 0;if(St){r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta";break}var de=c(e.setb,e.char1)!==void 0;if(de){r[t++]=e.lb,r[t++]=e[e.cset],e.enc(),e.cset="setb";break}var Ee=c(e.setc,e.char1)!==void 0;Ee&&(e.setx="setc",e.sx=e.sc,e.lkx=e.lkc);var at=c(e.setd,e.char1)!==void 0;at&&(e.setx="setd",e.sx=e.sd,e.lkx=e.lkd);var ot=c(e.sete,e.char1)!==void 0;ot&&(e.setx="sete",e.sx=e.se,e.lkx=e.lke);var Et=e[e.setx],yt=e.msg,P=e.i,G=e.msglen,q=e.i,te=G-q,ce=4;if(4>G-q){var bt=te;te=ce,ce=bt}r[t++]="p",r[t++]=Et,r[t++]=C(yt,P,ce),e.prefixinset();var ge=r[--t];e[r[--t]]=ge,e.p==1&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char3,r[t++]=e[e.setx],e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.lkx,r[t++]=e[e.setx],e.enc(),e.cset=e.setx);break}}e.encmsg=C(e.out,0,e.j),e.padval=c(e[e.cset],e.pad)}if(Y(e.encoding,"new")){e.haveb=!1,e.havec=!1,e.haved=!1,e.havee=!1,e.havei=!1;for(var ae=0,Ce=e.msglen-1;ae<=Ce;ae+=1)if(e.c=c(e.msg,ae),e.c<=-1e6)e.havei=!0;else if((e.c<28||e.c>30)&&e.c!=32){var Z=c(e.setb,e.c)!==void 0;Z&&(e.haveb=!0);var xe=c(e.setc,e.c)!==void 0;xe&&(e.havec=!0);var me=c(e.setd,e.c)!==void 0;me&&(e.haved=!0);var Ne=c(e.sete,e.c)!==void 0;Ne&&(e.havee=!0)}r[t++]=1/0,r[t++]=0,e.haveb&&(r[t++]=1),e.havee&&(r[t++]=4),e.havec&&(r[t++]=2),e.haved&&(r[t++]=3),e.priority=s(),e.priority_rest=C(e.priority,1,e.priority.length-1),e.latch_sequence=s([s([s([]),s([63]),s([58]),s([58]),s([58])]),s([s([63]),s([]),s([63]),s([63]),s([63])]),s([s([60,60]),s([60,60]),s([]),s([60,60]),s([60,60])]),s([s([61,61]),s([61,61]),s([61,61]),s([]),s([61,61])]),s([s([62,62]),s([62,62]),s([62,62]),s([62,62]),s([])])]),e.latch_length=s([s([0,1,1,1,1]),s([1,0,1,1,1]),s([2,2,0,2,2]),s([2,2,2,0,2]),s([2,2,2,2,0])]),e.max_int=2147483647,r[t++]=1/0;for(var oe=0;oe<16;oe++)r[t++]=s([0,0,0,0,0]);e.best_length=s(),r[t++]=1/0;for(var we=0;we<16;we++)r[t++]=s([0,0,0,0,0]);e.best_origin=s(),r[t++]=1/0;for(var Be=0,pe=e.msglen;Be<pe;Be++){r[t++]=1/0;for(var Ie=0;Ie<5;Ie++)r[t++]=0;var Se=s();r[t++]=Se}e.prior_code_set=s(),r[t++]=1/0;for(var Te=0,Ve=e.msglen;Te<Ve;Te++){r[t++]=1/0;for(var qe=0;qe<5;qe++)r[t++]=0;var et=s();r[t++]=et}if(e.path_op=s(),e.out_eci=function(){var Ct=-e.c-1e6;if(r[t++]=Ct,Ct<1024){var Yr=r[--t]<32?2:3;r[t++]=Yr}else{var aa=r[--t]<32768?4:5;r[t++]=aa}},e.enc_eci=function(){var Ct=-e.c-1e6;if(r[t++]=Ct,Ct>=32){var Yr=r[t-1];if(Yr<1024){var aa=r[--t];r[t++]=aa>>>6|32,r[t++]=aa&63}else{var za=r[t-1];if(za<32768){var da=r[--t];r[t++]=da>>>12|48,r[t++]=da>>>6&63,r[t++]=da&63}else{var Za=r[--t];r[t++]=Za>>>18|56,r[t++]=Za>>>12&63,r[t++]=Za>>>6&63,r[t++]=Za&63}}}},e.enc_ns=function(){var Ct=C(e.msg,e.n,9);r[t++]=0;for(var Yr=0,aa=Ct.length;Yr<aa;Yr++){var za=r[--t];r[t++]=S(c(Ct,Yr)-48+za*10)}var da=r[--t];r[t++]=da>>>24,r[t++]=da>>>18&63,r[t++]=da>>>12&63,r[t++]=da>>>6&63,r[t++]=da&63},e.enc_sha2=function(){r[t++]=c(e.seta,e.c),r[t++]=c(e.seta,c(e.msg,e.n+1))},e.enc_sha3=function(){r[t++]=c(e.seta,e.c),r[t++]=c(e.seta,c(e.msg,e.n+1)),r[t++]=c(e.seta,c(e.msg,e.n+2))},r[t++]=1/0,e.havei){var ct=new Map([["can",function(){r[t++]=e.c<=-1e6}],["intake",1],["output",function(){e.out_eci()}],["sets",31],["enc",function(){r[t++]=27,e.enc_eci()}]]);r[t++]=ct}var lt=new Map([["can",function(){r[t++]=e.digits>=9}],["intake",9],["output",function(){r[t++]=6}],["sets",31],["enc",function(){r[t++]=31,e.enc_ns()}]]),De=new Map([["can",function(){var Ct=c(e.seta,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=1}],["sets",1],["enc",function(){r[t++]=c(e.seta,e.c)}]]);if(r[t++]=lt,r[t++]=De,e.haveb){var We=new Map([["can",function(){var Ct=c(e.setb,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=1}],["sets",2],["enc",function(){r[t++]=c(e.setb,e.c)}]]);r[t++]=We}if(e.havec){var Ke=new Map([["can",function(){var Ct=c(e.setc,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=1}],["sets",4],["enc",function(){r[t++]=c(e.setc,e.c)}]]);r[t++]=Ke}if(e.haved){var st=new Map([["can",function(){var Ct=c(e.setd,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=1}],["sets",8],["enc",function(){r[t++]=c(e.setd,e.c)}]]);r[t++]=st}if(e.havee){var gt=new Map([["can",function(){var Ct=c(e.sete,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=1}],["sets",16],["enc",function(){r[t++]=c(e.sete,e.c)}]]);r[t++]=gt}var wt=new Map([["can",function(){r[t++]=e.num_a>=1}],["intake",1],["output",function(){r[t++]=2}],["sets",2],["enc",function(){r[t++]=59,r[t++]=c(e.seta,e.c)}]]),vt=new Map([["can",function(){r[t++]=e.num_a>=2}],["intake",2],["output",function(){r[t++]=3}],["sets",2],["enc",function(){r[t++]=56,e.enc_sha2()}]]),kt=new Map([["can",function(){r[t++]=e.num_a>=3}],["intake",3],["output",function(){r[t++]=4}],["sets",2],["enc",function(){r[t++]=57,e.enc_sha3()}]]);if(r[t++]=wt,r[t++]=vt,r[t++]=kt,e.haveb){var dt=new Map([["can",function(){var Ct=c(e.setb,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=2}],["sets",1],["enc",function(){r[t++]=59,r[t++]=c(e.setb,e.c)}]]);r[t++]=dt}if(e.havec){var _t=new Map([["can",function(){var Ct=c(e.setc,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=2}],["sets",27],["enc",function(){r[t++]=60,r[t++]=c(e.setc,e.c)}]]);r[t++]=_t}if(e.haved){var nt=new Map([["can",function(){var Ct=c(e.setd,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=2}],["sets",23],["enc",function(){r[t++]=61,r[t++]=c(e.setd,e.c)}]]);r[t++]=nt}if(e.havee){var Qt=new Map([["can",function(){var Ct=c(e.sete,e.c)!==void 0;r[t++]=Ct}],["intake",1],["output",function(){r[t++]=2}],["sets",15],["enc",function(){r[t++]=62,r[t++]=c(e.sete,e.c)}]]);r[t++]=Qt}e.op_tab=s();var Ht=e.op_tab;r[t++]=0;for(var Ut=0,sr=Ht.length;Ut<sr;Ut++){var Cr=r[--t];b(c(Ht,Ut),"idx",Cr),r[t++]=Cr+1}r[t-1]=1/0;for(var nr=s([1,2,4,8,16]),gr=0,ar=nr.length;gr<ar;gr++){e.n=c(nr,gr),r[t++]=1/0;for(var Br=e.op_tab,Zt=0,dr=Br.length;Zt<dr;Zt++){var Kt=c(Br,Zt);r[t++]=Kt,mo(c(Kt,"sets"),e.n)==0&&t--}var Jt=s();r[t++]=Jt}e.code_set_operations=s(),e.get_best_length=function(){e.latch_length_s=c(e.latch_length,e.state),r[t++]=e.max_int,ve(c(e.code_set_operations,e.state),function(){if(e.op=r[--t],c(e.op,"can")()===!0)return!0;if(r[--t]){if(e.m=S(e.n-c(e.op,"intake"))&15,e.org=c(c(e.best_origin,e.m),e.state),r[t++]=S(c(c(e.best_length,e.m),e.org)+c(e.latch_length_s,e.org)),c(e.op,"output")()===!0)return!0;var Ct=r[--t],Yr=r[--t],aa=r[t-1];if(r[t++]=S(Yr+Ct),aa>S(Yr+Ct)){var za=r[--t],da=r[--t];b(e.path_op_0,e.state,c(e.op,"idx")),b(e.prior_code_set_0,e.state,e.org),r[t++]=za,r[t++]=da}t--}})},e.get_best_origin=function(){e.latch_length_s=c(e.latch_length,e.state),e.orglen=S(c(e.best_length_0,0)+c(e.latch_length_s,0));var Ct=e.priority_rest;r[t++]=0;for(var Yr=0,aa=Ct.length;Yr<aa;Yr++){e.p=c(Ct,Yr);var za=S(c(e.best_length_0,e.p)+c(e.latch_length_s,e.p));r[t++]=za,za<e.orglen?(e.orglen=r[--t],r[t-1]=e.p):t--}},e.digits=0,e.num_a=0;for(var ur=0,Tr=e.msglen-1;ur<=Tr;ur+=1){e.n=ur,e.c=c(e.msg,e.n),r[t++]="digits",e.c>=48&&e.c<58?r[t++]=e.digits+1:r[t++]=0;var Fr=r[--t];e[r[--t]]=Fr;var fa=c(e.seta,e.c)!==void 0;r[t++]="num_a",fa?r[t++]=e.num_a+1:r[t++]=0;var Tt=r[--t];e[r[--t]]=Tt,e.path_op_0=c(e.path_op,e.n),e.prior_code_set_0=c(e.prior_code_set,e.n),e.best_length_0=c(e.best_length,e.n&15),e.best_origin_0=c(e.best_origin,e.n&15);for(var Gt=e.priority,tr=0,br=Gt.length;tr<br;tr++){e.state=c(Gt,tr),r[t++]=e.best_length_0,r[t++]=e.state,e.get_best_length();var ir=r[--t],Dr=r[--t];b(r[--t],Dr,ir)}for(var or=e.priority,zt=0,yr=or.length;zt<yr;zt++){e.state=c(or,zt),r[t++]=e.best_origin_0,r[t++]=e.state,e.get_best_origin();var ra=r[--t],ha=r[--t];b(r[--t],ha,ra)}}e.n=e.msglen;var Aa=e.priority;r[t++]=0,r[t++]=e.max_int;for(var Qr=0,Ca=Aa.length;Qr<Ca;Qr++){var ba=c(Aa,Qr),Ma=c(e.best_length_0,ba),ca=r[t-1];r[t++]=ba,r[t++]=Ma,xn(Ma,ca)&&Sa(4,2),t-=2}e.j=r[--t],e.state=r[--t],e.pad_code=s([33,33,0,0,28]),r[t++]="final_code_set",c(e.pad_code,e.state)==0?r[t++]=0:r[t++]=e.state;var ka=r[--t];if(e[r[--t]]=ka,c(e.pad_code,e.state)==0&&xn(e.j,e.maxlen)){var Ia=s(e.j+1);b(Ia,e.j,58),r[t++]=Ia}else r[t++]=s(e.j);for(e.padval=c(e.pad_code,e.final_code_set),e.len=e.j;!(e.n<=0||(e.pcs=c(c(e.prior_code_set,e.n-1),e.state),e.op_idx=c(c(e.path_op,e.n-1),e.state),e.op=c(e.op_tab,e.op_idx),e.n=S(e.n-c(e.op,"intake")),e.c=c(e.msg,e.n),e.enc=c(e.op,"enc"),r[t++]=1/0,e.enc()===!0));){e.output=s(),e.latch=c(c(e.latch_sequence,e.state),e.pcs),e.len=S(e.len-e.latch.length-e.output.length);var ja=r[--t],Qa=e.len,Ha=e.latch;M(ja,Qa,Ha),M(ja,S(Qa+Ha.length),e.output),e.state=e.pcs,r[t++]=ja}e.encmsg=r[--t]}r[t++]="sami",e.sam!=-1?r[t++]=s([c(e.seta,e.pad),(~~(e.sam/10)-1)*8+(e.sam%10-1)]):r[t++]=s([]);var Ka=r[--t];if(e[r[--t]]=Ka,r[t++]=1/0,O(e.sami),O(e.encmsg),e.encmsg=s(),e.mode==2||e.mode==3){e.encmsg.length>84&&(r[t++]="bwipp.maxicodeMode23TooLong#23176",r[t++]="The secondary message is too long",z());var xs=_r(J(4),"0000"),Ba=$t(J(4),~~e.mode,2);M(xs,4-Ba.length,Ba),e.mdb=xs;var Ts=_r(J(10),"0000000000"),$a=$t(J(10),Fe(e.ccode),2);M(Ts,10-$a.length,$a),e.ccb=Ts;var $s=_r(J(10),"0000000000"),_a=$t(J(10),Fe(e.scode),2);if(M($s,10-_a.length,_a),e.scb=$s,e.pcb=_r(J(36),"000000000000000000000000000000000000"),e.mode==2){if(Y(e.ccode,"840")&&e.pcode.length==5){var vs=_r(J(9),"     0000");M(vs,0,e.pcode),e.pcode=vs}var Rs=$t(J(6),e.pcode.length,2);M(e.pcb,6-Rs.length,Rs);var Ms=$t(J(30),Fe(e.pcode),2);M(e.pcb,36-Ms.length,Ms)}else{r[t++]=1/0;var Wa=_r(J(6),"      ");r[t++]=Wa,r[t++]=Wa,r[t++]=0,e.pcode.length>6?r[t++]=C(e.pcode,0,6):r[t++]=e.pcode;var qs=r[--t],Ja=r[--t];M(r[--t],Ja,qs),ve(r[--t],function(){var Ct=c(e.seta,r[--t]);r[t++]=Ct}),e.pccw=s();for(var gs=0;gs<=5;gs+=1){e.i=gs;var Fa=$t(J(6),c(e.pccw,e.i),2);M(e.pcb,6*e.i+6-Fa.length,Fa)}}e.scm=J(60),M(e.scm,2,e.mdb),M(e.scm,38,C(e.pcb,0,4)),M(e.scm,30,C(e.pcb,4,6)),M(e.scm,24,C(e.pcb,10,6)),M(e.scm,18,C(e.pcb,16,6)),M(e.scm,12,C(e.pcb,22,6)),M(e.scm,6,C(e.pcb,28,6)),M(e.scm,0,C(e.pcb,34,2)),M(e.scm,52,C(e.ccb,0,2)),M(e.scm,42,C(e.ccb,2,6)),M(e.scm,36,C(e.ccb,8,2)),M(e.scm,54,C(e.scb,0,6)),M(e.scm,48,C(e.scb,6,4)),e.pri=s([0,0,0,0,0,0,0,0,0,0]);for(var gn=0;gn<=59;gn+=1)e.i=gn,e.ps=~~(e.i/6),e.ep=~~di(2,5-e.i%6)*(c(e.scm,e.i)-48),b(e.pri,e.ps,S(c(e.pri,e.ps)+e.ep));r[t++]=1/0;for(var qa=0;qa<84;qa++)r[t++]=e.padval;e.sec=s(),M(e.sec,0,e.encmsg)}if(e.mode==4||e.mode==5||e.mode==6||e.mode==-1){if(e.mode==-1){var Bn=e.encmsg.length<=77?5:4;e.mode=Bn}r[t++]=1/0;for(var Da=e.mode==5?78:94,en=0,Pa=Da;en<Pa;en++)r[t++]=e.padval;e.cws=s(),e.encmsg.length>e.cws.length-1&&(r[t++]="bwipp.maxicodeMode56TooLong#23243",r[t++]="The message is too long",z()),b(e.cws,0,e.mode),M(e.cws,1,e.encmsg),e.pri=C(e.cws,0,10),e.sec=C(e.cws,10,e.cws.length-10)}r[t++]=1/0,r[t++]=1;for(var sn=0;sn<63;sn++){var ls=r[t-1],Xt=ls*2;if(r[t++]=Xt,Xt>=64){var Zr=r[--t];r[t++]=Zr^67}}e.rsalog=s(),e.rslog=s(64);for(var Na=1;Na<=63;Na+=1)b(e.rslog,c(e.rsalog,Na),Na);e.rsprod=function(){var Ct=r[t-1],Yr=r[t-2];if(Ct!=0&&Yr!=0){var aa=c(e.rslog,r[--t]),za=c(e.rsalog,S(aa+c(e.rslog,r[--t]))%63);r[t++]=za}else t-=2,r[t++]=0},e.rscodes=function(){e.rsnum=r[--t],e.cwb=r[--t],r[t++]=1/0,r[t++]=1;for(var Ct=0,Yr=e.rsnum;Ct<Yr;Ct++)r[t++]=0;e.coeffs=s();for(var aa=1,za=e.rsnum;aa<=za;aa+=1){e.i=aa,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var da=e.i-1;da>=1;da-=1){e.j=da,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Za=r[--t],As=r[--t],bn=r[--t];b(r[--t],bn,ps(As,Za))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var mt=r[--t],Bt=r[--t];b(r[--t],Bt,mt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1),r[t++]=1/0;for(var hr=0,lr=e.rsnum;hr<lr;hr++)r[t++]=0;e.ecb=s();for(var fr=0,Rr=e.cwb.length-1;fr<=Rr;fr+=1){e.t=ps(c(e.cwb,fr),c(e.ecb,0));for(var cr=e.ecb.length-1;cr>=0;cr-=1){e.i=cr,e.p=e.ecb.length-e.i-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=c(e.coeffs,e.i),e.rsprod();var sa=r[--t],$r=r[--t];b(r[--t],$r,sa),e.i>0&&b(e.ecb,e.p,ps(c(e.ecb,e.p+1),c(e.ecb,e.p)))}}r[t++]=e.ecb},r[t++]=1/0;for(var Oa=0,bs=e.sec.length-1;Oa<=bs;Oa+=2)r[t++]=c(e.sec,Oa);e.seco=s(),r[t++]=1/0;for(var Hr=1,cs=e.sec.length-1;Hr<=cs;Hr+=2)r[t++]=c(e.sec,Hr);e.sece=s();var ys=e.sec.length==84?20:28;e.scodes=ys,r[t++]="secochk",r[t++]=e.seco,r[t++]=e.scodes,e.rscodes();var Ua=r[--t];e[r[--t]]=Ua,r[t++]="secechk",r[t++]=e.sece,r[t++]=e.scodes,e.rscodes();var Dn=r[--t];e[r[--t]]=Dn,r[t++]=1/0;for(var Ta=0,hi=e.scodes-1;Ta<=hi;Ta+=1)r[t++]=c(e.secochk,Ta),r[t++]=c(e.secechk,Ta);e.secchk=s(),r[t++]=1/0,O(e.pri),r[t++]=e.pri,r[t++]=10,e.rscodes(),O(r[--t]),O(e.sec),O(e.secchk),e.codewords=s();var Gs=c(e.options,"debugcws")!==void 0;Gs&&(r[t++]="bwipp.debugcws#23325",r[t++]=e.codewords,z()),r[t++]=1/0;for(var Ra=0;Ra<864;Ra++)r[t++]=0;e.mods=s();for(var Tn=0;Tn<=143;Tn+=1){e.i=Tn,r[t++]=1/0;for(var Xa=$t(J(6),c(e.codewords,e.i),2),Rn=0,ws=Xa.length;Rn<ws;Rn++)r[t++]=c(Xa,Rn)-48;e.cw=s(),M(e.mods,6*e.i+(6-e.cw.length),e.cw)}e.modmap=s([469,529,286,316,347,346,673,672,703,702,647,676,283,282,313,312,370,610,618,379,378,409,408,439,705,704,559,589,588,619,458,518,640,701,675,674,285,284,315,314,310,340,531,289,288,319,349,348,456,486,517,516,471,470,369,368,399,398,429,428,549,548,579,578,609,608,649,648,679,678,709,708,639,638,669,668,699,698,279,278,309,308,339,338,381,380,411,410,441,440,561,560,591,590,621,620,547,546,577,576,607,606,367,366,397,396,427,426,291,290,321,320,351,350,651,650,681,680,711,710,1,0,31,30,61,60,3,2,33,32,63,62,5,4,35,34,65,64,7,6,37,36,67,66,9,8,39,38,69,68,11,10,41,40,71,70,13,12,43,42,73,72,15,14,45,44,75,74,17,16,47,46,77,76,19,18,49,48,79,78,21,20,51,50,81,80,23,22,53,52,83,82,25,24,55,54,85,84,27,26,57,56,87,86,117,116,147,146,177,176,115,114,145,144,175,174,113,112,143,142,173,172,111,110,141,140,171,170,109,108,139,138,169,168,107,106,137,136,167,166,105,104,135,134,165,164,103,102,133,132,163,162,101,100,131,130,161,160,99,98,129,128,159,158,97,96,127,126,157,156,95,94,125,124,155,154,93,92,123,122,153,152,91,90,121,120,151,150,181,180,211,210,241,240,183,182,213,212,243,242,185,184,215,214,245,244,187,186,217,216,247,246,189,188,219,218,249,248,191,190,221,220,251,250,193,192,223,222,253,252,195,194,225,224,255,254,197,196,227,226,257,256,199,198,229,228,259,258,201,200,231,230,261,260,203,202,233,232,263,262,205,204,235,234,265,264,207,206,237,236,267,266,297,296,327,326,357,356,295,294,325,324,355,354,293,292,323,322,353,352,277,276,307,306,337,336,275,274,305,304,335,334,273,272,303,302,333,332,271,270,301,300,331,330,361,360,391,390,421,420,363,362,393,392,423,422,365,364,395,394,425,424,383,382,413,412,443,442,385,384,415,414,445,444,387,386,417,416,447,446,477,476,507,506,537,536,475,474,505,504,535,534,473,472,503,502,533,532,455,454,485,484,515,514,453,452,483,482,513,512,451,450,481,480,511,510,541,540,571,570,601,600,543,542,573,572,603,602,545,544,575,574,605,604,563,562,593,592,623,622,565,564,595,594,625,624,567,566,597,596,627,626,657,656,687,686,717,716,655,654,685,684,715,714,653,652,683,682,713,712,637,636,667,666,697,696,635,634,665,664,695,694,633,632,663,662,693,692,631,630,661,660,691,690,721,720,751,750,781,780,723,722,753,752,783,782,725,724,755,754,785,784,727,726,757,756,787,786,729,728,759,758,789,788,731,730,761,760,791,790,733,732,763,762,793,792,735,734,765,764,795,794,737,736,767,766,797,796,739,738,769,768,799,798,741,740,771,770,801,800,743,742,773,772,803,802,745,744,775,774,805,804,747,746,777,776,807,806,837,836,867,866,897,896,835,834,865,864,895,894,833,832,863,862,893,892,831,830,861,860,891,890,829,828,859,858,889,888,827,826,857,856,887,886,825,824,855,854,885,884,823,822,853,852,883,882,821,820,851,850,881,880,819,818,849,848,879,878,817,816,847,846,877,876,815,814,845,844,875,874,813,812,843,842,873,872,811,810,841,840,871,870,901,900,931,930,961,960,903,902,933,932,963,962,905,904,935,934,965,964,907,906,937,936,967,966,909,908,939,938,969,968,911,910,941,940,971,970,913,912,943,942,973,972,915,914,945,944,975,974,917,916,947,946,977,976,919,918,949,948,979,978,921,920,951,950,981,980,923,922,953,952,983,982,925,924,955,954,985,984,927,926,957,956,987,986,58,89,88,118,149,148,178,209,208,238,269,268,298,329,328,358,389,388,418,449,448,478,509,508,538,569,568,598,629,628,658,689,688,718,749,748,778,809,808,838,869,868,898,929,928,958,989,988]),e.pixs=s(864),e.j=0;for(var nn=0,on=e.mods.length-1;nn<=on;nn+=1)e.i=nn,c(e.mods,e.i)==1&&(b(e.pixs,e.j,c(e.modmap,e.i)),e.j=e.j+1);r[t++]=1/0,O(C(e.pixs,0,e.j)),r[t++]=28,r[t++]=29,r[t++]=280,r[t++]=281,r[t++]=311,r[t++]=457,r[t++]=488,r[t++]=500,r[t++]=530,r[t++]=670,r[t++]=700,r[t++]=677,r[t++]=707,e.pixs=s();var Zn=new Map([["ren","renmaximatrix"],["pixs",e.pixs],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Zn,e.dontdraw||i_(),e=a}function qu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="full",e.readerinit=!1,e.layers=-1,e.eclevel=23,e.ecaddchars=3,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.aztecEmptyData#23462",r[t++]="The data must not be empty",z()),(e.eclevel<5||e.eclevel>95)&&(r[t++]="bwipp.aztecInvalidEClevel#23466",r[t++]="The EC percentage must be from 5 to 95",z()),e.ecaddchars<3&&(r[t++]="bwipp.aztecInvalidECaddChars#23470",r[t++]="The number of additional EC codewords must be 3 or more",z()),_e(e.format,"full")&&_e(e.format,"compact")&&_e(e.format,"rune")&&(r[t++]="bwipp.aztecInvalidFormat#23474",r[t++]="The format must be either full, compact or rune",z()),Y(e.format,"full")&&(e.readerinit&&(e.layers<1||e.layers>22)&&(r[t++]="bwipp.aztecFullInitInvalidLayers#23479",r[t++]="Full-range symbols for reader programming must specify from 1 to 22 layers",z()),e.layers!=-1&&(e.layers<1||e.layers>32)&&(r[t++]="bwipp.aztecFullInvalidLayers#23482",r[t++]="Layers for full-range symbols must be from 1 to 32",z())),Y(e.format,"compact")&&(e.readerinit&&(e.layers!=-1&&e.layers!=1&&(r[t++]="bwipp.aztecCompactInitInvalidLayers#23489",r[t++]="Compact symbols for reader programming must have 1 layer",z()),e.layers=1),e.layers!=-1&&(e.layers<1||e.layers>4)&&(r[t++]="bwipp.aztecCompactInvalidLayers#23494",r[t++]="Layers for compact symbols must be from 1 to 4",z())),Y(e.format,"rune")){e.layers!=-1&&(r[t++]="bwipp.aztecRuneInvalidLayers#23500",r[t++]="It is not valid to specify layers for runes",z()),e.readerinit&&(r[t++]="bwipp.aztecRuneReaderInit#23503",r[t++]="Reader initialisation is not compactible with Aztec Runes",z()),e.barcode.length==0&&(r[t++]="bwipp.aztecRuneNotNumeric#23506",r[t++]="Aztec runes must be numeric",z()),ve(e.barcode,function(){var ce=r[--t];(ce<48||ce>57)&&(r[t++]="bwipp.aztecRuneNotNumeric#23510",r[t++]="Aztec runes must be numeric",z())});var n=Fe(e.barcode);(n<0||n>255)&&(r[t++]="bwipp.aztecRuneInvalid#23514",r[t++]="Aztec runes must be 0 to 255",z())}e.fn1=-1;var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,e.U=0,e.L=1,e.M=2,e.P=3,e.D=4,e.B=5,e.lu=-2,e.ll=-3,e.lm=-4,e.lp=-5,e.ld=-6,e.su=-7,e.sp=-8,e.sb=-9,e.fl=-10,e.p2=-11,e.p3=-12,e.p4=-13,e.p5=-14,e.charmaps=s([s([e.sp,e.sp,e.sp,e.fl,e.sp]),s([32,32,32,13,32]),s(["A","a",1,e.p2,"0"]),s(["B","b",2,e.p3,"1"]),s(["C","c",3,e.p4,"2"]),s(["D","d",4,e.p5,"3"]),s(["E","e",5,"!","4"]),s(["F","f",6,'"',"5"]),s(["G","g",7,"#","6"]),s(["H","h",8,"$","7"]),s(["I","i",9,"%","8"]),s(["J","j",10,"&","9"]),s(["K","k",11,"'",","]),s(["L","l",12,40,"."]),s(["M","m",13,41,e.lu]),s(["N","n",27,"*",e.su]),s(["O","o",28,"+",-99]),s(["P","p",29,",",-99]),s(["Q","q",30,"-",-99]),s(["R","r",31,".",-99]),s(["S","s","@","/",-99]),s(["T","t",92,":",-99]),s(["U","u","^",";",-99]),s(["V","v","_","<",-99]),s(["W","w","`","=",-99]),s(["X","x","|",">",-99]),s(["Y","y","~","?",-99]),s(["Z","z",127,"[",-99]),s([e.ll,e.su,e.ll,"]",-99]),s([e.lm,e.lm,e.lu,"{",-99]),s([e.ld,e.ld,e.lp,"}",-99]),s([e.sb,e.sb,e.sb,e.lu,-99])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=4;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,Y(an(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}b(c(e.charvals,e.j),r[--t],e.i)}}var m=new Map([[`\r
`,e.p2],[". ",e.p3],[", ",e.p4],[": ",e.p5]]);if(e.pcomp=m,e.e=1e6,e.latlen=s([s([0,5,5,10,5,10]),s([9,0,5,10,5,10]),s([5,5,0,5,10,10]),s([5,10,10,0,10,15]),s([4,9,9,14,0,14]),s([0,0,0,0,0,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.ld,e.lu]),s([]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.lu]),s([e.ll]),s([]),s([e.lp]),s([e.lu,e.ld]),s([e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([]),s([e.lu,e.ld]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([e.lu,e.lm,e.lp]),s([]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.ll]),s([e.lm]),s([]),s([]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,5,e.e]),s([5,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,e.e,e.e]),s([4,e.e,e.e,4,e.e])]),e.msgbits="",_e(e.format,"rune")&&e.raw&&(e.msgbits=e.barcode),_e(e.format,"rune")&&!e.raw){e.charsize=function(){var ce=r[t-1];if(ce>=0){t--;var ge=c(s([5,5,5,5,4,8]),r[--t]);r[t++]=ge}else{var ae=r[--t];r[t-1]=ae;var Ce=r[t-1];if(Ce==e.fn1)r[t-1]=8;else{var Z=-r[--t]-1e6;r[t++]=Z,Z==0&&(r[t-1]=1);var xe=r[--t];r[t++]=(~~(pn(xe)/pn(10))+1)*4+8}}},e.curlen=s([0,e.e,e.e,e.e,e.e,e.e]),e.curseq=s([s([]),s([]),s([]),s([]),s([]),s([])]),e.backto=e.U,e.lastchar="",ve(e.msg,function(){for(e.char=r[--t];;){e.imp=!1;for(var ce=s([e.U,e.L,e.M,e.P,e.D,e.B]),ge=0,ae=ce.length;ge<ae;ge++){e.x=c(ce,ge);for(var Ce=s([e.U,e.L,e.M,e.P,e.D,e.B]),Z=0,xe=Ce.length;Z<xe;Z++)if(e.y=c(Ce,Z),(e.x!=e.B||e.y==e.backto)&&(e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y))){b(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.x)),O(c(c(e.latseq,e.x),e.y));var me=s(),Ne=r[--t];if(b(r[--t],Ne,me),e.y==e.B){r[t++]="backto",e.x==e.P||e.x==e.D?r[t++]=e.U:r[t++]=e.x;var oe=r[--t];e[r[--t]]=oe}e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e,e.e,e.e]),e.nxtseq=s(6);for(var we=s([e.U,e.L,e.M,e.P,e.D,e.B]),Be=0,pe=we.length;Be<pe;Be++)for(e.x=c(we,Be);;){if(e.char>=0){if(e.x!=e.B){var Ie=c(c(e.charvals,e.x),e.char)!==void 0;if(!Ie)break}}else if(e.x!=e.P)break;r[t++]="cost",r[t++]=c(e.curlen,e.x),r[t++]=e.x,r[t++]=e.char,e.charsize();var Se=r[--t],Te=r[--t];if(e[r[--t]]=S(Te+Se),e.cost<c(e.nxtlen,e.x)){b(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(c(e.curseq,e.x)),r[t++]=e.char;var Ve=s(),qe=r[--t];b(r[--t],qe,Ve)}if(e.x==e.B)break;for(var et=s([e.U,e.L,e.M,e.P,e.D]),ct=0,lt=et.length;ct<lt;ct++)if(e.y=c(et,ct),_e(e.x,e.y)){r[t++]="cost",r[t++]=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x)),r[t++]=e.x,r[t++]=e.char,e.charsize();var De=r[--t],We=r[--t];if(e[r[--t]]=S(We+De),e.cost<c(e.nxtlen,e.y)){b(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.y));var Ke=e.x==e.U?e.su:e.sp;r[t++]=Ke,r[t++]=e.char;var st=s(),gt=r[--t];b(r[--t],gt,st)}}break}if(e.lastchar.length!=0&&e.char>=0){var wt=J(2);b(wt,0,e.lastchar),b(wt,1,e.char),e.pchars=wt;var vt=c(e.pcomp,e.pchars)!==void 0;if(vt){for(var kt=s([e.U,e.L,e.M,e.P,e.D]),dt=0,_t=kt.length;dt<_t;dt++)if(e.i=c(kt,dt),e.inP=!0,e.i==e.M?e.lastchar==13&&(e.inP=!1):e.i==e.D&&(e.lastchar==44||e.lastchar==46)&&(e.inP=!1),e.inP&&xn(c(e.curlen,e.i),c(e.nxtlen,e.i))){e.curseqi=c(e.curseq,e.i),e.lastld=!1,e.lastsp=!1,e.lastidx=-1;for(var nt=e.curseqi.length-1;nt>=0;nt-=1)if(e.idx=nt,e.ch=c(e.curseqi,e.idx),e.lastidx==-1)Y(e.ch,e.lastchar)&&(e.lastidx=e.idx,e.idx>0&&c(e.curseqi,e.idx-1)==e.sp&&(e.lastsp=!0));else{if(e.ch==e.sb){e.lastidx=-1;break}if(e.ch<0&&e.ch>=e.ld){e.i==e.P?e.ch==e.ld&&(e.lastld=!0):e.ch!=e.lp&&(e.inP=e.lastsp);break}}if(e.inP&&e.lastidx>=0)if(b(e.nxtlen,e.i,c(e.curlen,e.i)),e.lastidx<e.curseqi.length-1)if(e.i==e.P){e.lastld&&b(e.nxtlen,e.i,c(e.nxtlen,e.i)+1),r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi),Sa(e.curseqi.length-e.lastidx,-1),r[t-1]=c(e.pcomp,e.pchars);var Qt=s(),Ht=r[--t];b(r[--t],Ht,Qt)}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi);var Ut=s(),sr=r[--t];b(r[--t],sr,Ut),b(c(e.nxtseq,e.i),e.lastidx,c(e.pcomp,e.pchars))}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi),r[t-1]=c(e.pcomp,e.pchars);var Cr=s(),nr=r[--t];b(r[--t],nr,Cr)}}}}_e(c(e.nxtseq,e.B),null)&&(e.numbytes=0,ve(c(e.nxtseq,e.B),function(){r[--t]==e.sb?r[t++]=0:r[t++]=e.numbytes+1,e.numbytes=r[--t]}),e.numbytes==32&&b(e.nxtlen,e.B,c(e.nxtlen,e.B)+11)),e.curlen=e.nxtlen,e.curseq=e.nxtseq,r[t++]="lastchar",e.char>=0?r[t++]=e.char:r[t++]="";var gr=r[--t];e[r[--t]]=gr}),e.minseq=e.e;for(var x=s([e.U,e.L,e.M,e.P,e.D,e.B]),y=0,w=x.length;y<w;y++)e.i=c(x,y),c(e.curlen,e.i)<e.minseq&&(e.minseq=c(e.curlen,e.i),e.seq=c(e.curseq,e.i));for(e.tobin=function(){var ce=J(r[--t]);r[t++]=ce;for(var ge=0,ae=ce.length-1;ge<=ae;ge+=1){var Ce=r[t-1];b(Ce,ge,48)}var Z=r[t-1];r[t++]=Z;var xe=r[t-3],me=r[t-1];r[t-3]=r[t-2],t-=2;var Ne=$t(J(me.length),xe,2);M(me,me.length-Ne.length,Ne)},e.encu=function(){var ce=c(c(e.charvals,e.U),r[--t]);r[t++]=ce,r[t++]=5,e.tobin()},e.encl=function(){var ce=c(c(e.charvals,e.L),r[--t]);r[t++]=ce,r[t++]=5,e.tobin()},e.encm=function(){var ce=c(c(e.charvals,e.M),r[--t]);r[t++]=ce,r[t++]=5,e.tobin()},e.encd=function(){var ce=c(c(e.charvals,e.D),r[--t]);r[t++]=ce,r[t++]=4,e.tobin()},e.encp=function(){var ce=r[t-1];if(ce==e.fn1)r[t-1]="00000000";else{var ge=r[t-1];if(ge<=-1e6){var ae=-r[--t]-1e6;r[t++]=ae,r[t++]=ae,ae==0&&(r[t-1]=1);var Ce=~~(pn(r[--t])/pn(10)),Z=J((Ce+1)*4+8);M(Z,0,"00000"),r[t++]=Ce,r[t++]=Z,r[t++]=Z,r[t++]=Ce+1,r[t++]=3,e.tobin();var xe=r[--t];if(M(r[--t],5,xe),Sa(3,1),r[t++]=-1,r[t++]=0,t<3)throw"--stack-underflow--";t-=3;for(var me=r[t],Ne=r[t+1],oe=r[t+2];Ne<0?me>=oe:me<=oe;me+=Ne){var we=r[--t],Be=r[t-1];r[t++]=~~(we/10),r[t++]=Be,r[t++]=me*4+8,r[t++]=we%10+2,r[t++]=4,e.tobin();var pe=r[--t],Ie=r[--t];M(r[--t],Ie,pe)}t--}else{var Se=c(c(e.charvals,e.P),r[--t]);r[t++]=Se,r[t++]=5,e.tobin()}}},e.encfuncs=s(["encu","encl","encm","encp","encd"]),e.addtomsgbits=function(){e.v=r[--t],M(e.msgbits,e.j,e.v),e.j=e.j+e.v.length},e.state=e.U,e.msgbits=J(e.minseq),e.i=0,e.j=0;!(e.i>=e.seq.length);)if(e.state!=e.B){if(e.char=c(e.seq,e.i),r[t++]=e.char,e[c(e.encfuncs,e.state)]()===!0)break;e.addtomsgbits(),e.i=e.i+1,(e.char==e.su||e.char==e.sp)&&(r[t++]=c(e.seq,e.i),e.char==e.su?e.encu():e.encp(),e.addtomsgbits(),e.i=e.i+1),e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M),e.char==e.lp&&(e.state=e.P),e.char==e.ld&&(e.state=e.D),e.char==e.sb&&(e.state=e.B)}else{for(e.numbytes=0;!(e.i+e.numbytes>=e.seq.length||c(e.seq,e.i+e.numbytes)<0);)e.numbytes=e.numbytes+1;e.numbytes<=31?(r[t++]=e.numbytes,r[t++]=5,e.tobin(),e.addtomsgbits()):(r[t++]=0,r[t++]=5,e.tobin(),e.addtomsgbits(),r[t++]=e.numbytes-31,r[t++]=11,e.tobin(),e.addtomsgbits());for(var v=0,g=e.numbytes;v<g;v++)r[t++]=c(e.seq,e.i),r[t++]=8,e.tobin(),e.addtomsgbits(),e.i=e.i+1;e.i<e.seq.length&&(e.char=c(e.seq,e.i),e.i=e.i+1,e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M))}e.msgbits=C(e.msgbits,0,e.j)}e.metrics=s([s(["rune",0,0,0,6]),s(["compact",1,1,17,6]),s(["full",1,1,21,6]),s(["compact",2,0,40,6]),s(["full",2,1,48,6]),s(["compact",3,0,51,8]),s(["full",3,1,60,8]),s(["compact",4,0,76,8]),s(["full",4,1,88,8]),s(["full",5,1,120,8]),s(["full",6,1,156,8]),s(["full",7,1,196,8]),s(["full",8,1,240,8]),s(["full",9,1,230,10]),s(["full",10,1,272,10]),s(["full",11,1,316,10]),s(["full",12,1,364,10]),s(["full",13,1,416,10]),s(["full",14,1,470,10]),s(["full",15,1,528,10]),s(["full",16,1,588,10]),s(["full",17,1,652,10]),s(["full",18,1,720,10]),s(["full",19,1,790,10]),s(["full",20,1,864,10]),s(["full",21,1,940,10]),s(["full",22,1,1020,10]),s(["full",23,0,920,12]),s(["full",24,0,992,12]),s(["full",25,0,1066,12]),s(["full",26,0,1144,12]),s(["full",27,0,1224,12]),s(["full",28,0,1306,12]),s(["full",29,0,1392,12]),s(["full",30,0,1480,12]),s(["full",31,0,1570,12]),s(["full",32,0,1664,12])]);for(var A=e.metrics,k=0,E=A.length;k<E&&(e.m=c(A,k),e.frmt=c(e.m,0),e.mlyr=c(e.m,1),e.icap=c(e.m,2),e.ncws=c(e.m,3),e.bpcw=c(e.m,4),e.numecw=~~xr(S(e.ncws*e.eclevel/100+e.ecaddchars)),e.msgbits.length==0&&(e.numecw=0),e.numdcw=S(e.ncws-e.numecw),e.okay=!0,_e(e.format,e.frmt)&&(e.okay=!1),e.readerinit&&e.icap!=1&&(e.okay=!1),e.layers!=-1&&e.layers!=e.mlyr&&(e.okay=!1),~~xr(e.msgbits.length/e.bpcw)>e.numdcw&&(e.okay=!1),!e.okay);k++);for(e.okay||(r[t++]="bwipp.aztecNoValidSymbol#23967",r[t++]="Maximum length exceeded",z()),e.layers=e.mlyr,e.allzero=function(){var ce=r[--t];r[t++]=Y(ce,C("000000000000",0,ce.length))},e.allones=function(){var ce=r[--t];r[t++]=Y(ce,C("111111111111",0,ce.length))},e.cws=s(e.ncws),e.m=0,e.c=0;!(e.msgbits.length<=e.m);){if(e.msgbits.length-e.m>=e.bpcw){e.cwb=C(e.msgbits,e.m,e.bpcw-1),e.cwf=C(e.msgbits,S(e.m+e.bpcw)-1,1),r[t++]=e.cwb,e.allzero(),r[--t]&&(e.cwf="1",e.m=e.m-1),r[t++]=e.cwb,e.allones(),r[--t]&&(e.cwf="0",e.m=e.m-1);var j=J(12);M(j,0,e.cwb),M(j,e.bpcw-1,e.cwf),e.cwb=C(j,0,e.bpcw)}else{e.cwb=C(e.msgbits,e.m,e.msgbits.length-e.m);var N=_r(J(12),"111111111111");M(N,0,e.cwb),e.cwb=C(N,0,e.bpcw),r[t++]=e.cwb,e.allones(),r[--t]&&M(e.cwb,e.cwb.length-1,"0")}e.cw=0;for(var B=0,I=e.bpcw-1;B<=I;B+=1)e.i=B,e.cw=S(e.cw+~~di(2,S(e.bpcw-e.i)-1)*(c(e.cwb,e.i)-48));b(e.cws,e.c,e.cw),e.m=S(e.m+e.bpcw),e.c=e.c+1}e.cws=C(e.cws,0,e.c);var D=c(e.options,"debugcws")!==void 0;if(D&&(r[t++]="bwipp.debugcws#24006",r[t++]=e.cws,z()),e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var ce=0,ge=e.rsgf-1;ce<ge;ce++){var ae=r[t-1],Ce=ae*2;if(r[t++]=Ce,Ce>=e.rsgf){var Z=r[--t];r[t++]=ps(Z,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var xe=1,me=e.rsgf-1;xe<=me;xe+=1)b(e.rslog,c(e.rsalog,xe),xe);e.rsprod=function(){var vt=r[t-1],kt=r[t-2];if(vt!=0&&kt!=0){var dt=c(e.rslog,r[--t]),_t=c(e.rsalog,S(dt+c(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=_t}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Ne=0,oe=e.rsnc;Ne<oe;Ne++)r[t++]=0;e.coeffs=s();for(var we=1,Be=e.rsnc;we<=Be;we+=1){e.i=we,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var pe=e.i-1;pe>=1;pe-=1){e.j=pe,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ie=r[--t],Se=r[--t],Te=r[--t];b(r[--t],Te,ps(Se,Ie))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ve=r[--t],qe=r[--t];b(r[--t],qe,Ve)}e.nd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var et=0,ct=e.rsnc;et<ct;et++)r[t++]=0;r[t++]=0,e.rscws=s();for(var lt=0,De=e.nd-1;lt<=De;lt+=1){e.k=ps(c(e.rscws,lt),c(e.rscws,e.nd));for(var We=0,Ke=e.rsnc-1;We<=Ke;We+=1){e.j=We,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=c(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=c(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var st=r[--t],gt=r[--t],wt=r[--t];b(r[--t],wt,ps(gt,st))}}r[t++]=C(e.rscws,0,e.rscws.length-1)},Y(e.format,"full")){e.mode=(e.layers-1<<11)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|1024),e.mode=s([(e.mode&61440)>>>12,(e.mode&3840)>>>8,(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=6,r[t++]=16,r[t++]=19,e.rscodes();var T=r[--t];e[r[--t]]=T}if(Y(e.format,"compact")){e.mode=(e.layers-1<<6)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|32),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var R=r[--t];e[r[--t]]=R}if(Y(e.format,"rune")){e.mode=Fe(e.barcode),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var $=r[--t];e[r[--t]]=$,r[t++]=1/0;for(var _=e.mode,F=0,Q=_.length;F<Q;F++)r[t++]=c(_,F)^10;e.mode=s()}e.modebits=J(e.mode.length*4);for(var L=0,X=e.modebits.length-1;L<=X;L+=1)M(e.modebits,L,"0");for(var le=0,fe=e.mode.length-1;le<=fe;le+=1){e.i=le;var V=$t(J(4),c(e.mode,e.i),2);M(e.modebits,4-V.length+4*e.i,V)}e.rsparams=s([s([]),s([]),s([]),s([]),s([]),s([]),s([64,67]),s([]),s([256,301]),s([]),s([1024,1033]),s([]),s([4096,4201])]),r[t++]="cws",r[t++]=e.cws,r[t++]=S(e.ncws-e.cws.length),O(c(e.rsparams,e.bpcw)),e.rscodes();var H=r[--t];e[r[--t]]=H,Y(e.format,"full")?e.databits=J(S(e.layers*e.layers*16+e.layers*112)):e.databits=J(S(e.layers*e.layers*16+e.layers*88));for(var se=0,ue=e.databits.length-1;se<=ue;se+=1)M(e.databits,se,"0");for(var U=0,W=e.ncws-1;U<=W;U+=1){e.i=U;var re=$t(J(e.bpcw),c(e.cws,e.i),2);M(e.databits,S(e.bpcw-re.length+e.bpcw*e.i+(e.databits.length-e.ncws*e.bpcw)),re)}e.cmv=function(){var ce=r[--t],ge=r[--t];r[t++]=S(ge-ce*e.size+e.mid)},e.lmv=function(){e.lbit=r[--t],e.llyr=r[--t],e.lwid=S(e.fw+e.llyr*4),e.ldir=~~(~~(e.lbit/2)/e.lwid),e.ldir==0&&(r[t++]=S(-~~((e.lwid-1)/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==1&&(r[t++]=S(~~(e.fw/2)+e.llyr*2+e.lbit%2),r[t++]=S(~~((e.lwid-1)/2)-1-~~(e.lbit/2)%e.lwid),e.cmv()),e.ldir==2&&(r[t++]=-S(-~~(e.lwid/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=-S(~~(e.fw/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==3&&(r[t++]=-S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),r[t++]=-S(~~(e.lwid/2)-1-~~(e.lbit/2)%e.lwid),e.cmv())},Y(e.format,"full")?e.fw=12:e.fw=9,e.size=S(e.fw+e.layers*4)+2,r[t++]=1/0;for(var ie=0,be=e.size*e.size;ie<be;ie++)r[t++]=-1;e.pixs=s(),e.mid=S(~~((e.size-1)/2)*e.size+~~((e.size-1)/2)),e.i=0;for(var K=1,ke=e.layers;K<=ke;K+=1){e.layer=K;for(var je=0,Qe=(e.fw+e.layer*4)*8-1;je<=Qe;je+=1){e.pos=je,r[t++]=e.pixs,r[t++]=e.layer,r[t++]=e.pos,e.lmv();var ze=r[--t];b(r[--t],ze,c(e.databits,e.databits.length-e.i-1)-48),e.i=e.i+1}}if(Y(e.format,"full")){e.fw=13,e.size=S(e.fw+e.layers*4+2+~~((e.layers+10.5)/7.5-1)*2),e.mid=~~(e.size*e.size/2),r[t++]=1/0;for(var tt=0,Ze=e.size*e.size;tt<Ze;tt++)r[t++]=-2;e.npixs=s();for(var Re=0,He=~~(e.size/2);Re<=He;Re+=16){e.i=Re;for(var Ue=0,ye=e.size-1;Ue<=ye;Ue+=1){e.j=Ue,r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=e.i,e.cmv();var Ye=r[--t];M(r[--t],Ye,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=-e.i,e.cmv();var Ae=r[--t];M(r[--t],Ae,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var Le=r[--t];M(r[--t],Le,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var he=r[--t];M(r[--t],he,s([(~~(e.size/2)+e.j+e.i+1)%2]))}}e.j=0;for(var Pe=0,Me=e.npixs.length-1;Pe<=Me;Pe+=1)e.i=Pe,c(e.npixs,e.i)==-2&&(b(e.npixs,e.i,c(e.pixs,e.j)),e.j=e.j+1);e.pixs=e.npixs}e.fw=~~(e.fw/2);for(var $e=-e.fw,rt=e.fw;$e<=rt;$e+=1){e.i=$e;for(var pt=-e.fw,ut=e.fw;pt<=ut;pt+=1){e.j=pt,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.cmv(),Jo(e.i)>Jo(e.j)?r[t++]=Jo(e.i):r[t++]=Jo(e.j);var bt=r[--t],It=r[--t];b(r[--t],It,(bt+1)%2)}}for(var St=s([s([-(e.fw+1),e.fw,1]),s([-(e.fw+1),e.fw+1,1]),s([-e.fw,e.fw+1,1]),s([e.fw+1,e.fw+1,1]),s([e.fw+1,e.fw,1]),s([e.fw+1,-e.fw,1]),s([e.fw,e.fw+1,0]),s([e.fw+1,-(e.fw+1),0]),s([e.fw,-(e.fw+1),0]),s([-e.fw,-(e.fw+1),0]),s([-(e.fw+1),-(e.fw+1),0]),s([-(e.fw+1),-e.fw,0])]),de=0,Ee=St.length;de<Ee;de++){r[t++]=e.pixs,O(c(St,de)),Sa(3,1),e.cmv();var at=r[--t],ot=r[--t];b(r[--t],at,ot)}e.modemapfull=s([s([-5,7]),s([-4,7]),s([-3,7]),s([-2,7]),s([-1,7]),s([1,7]),s([2,7]),s([3,7]),s([4,7]),s([5,7]),s([7,5]),s([7,4]),s([7,3]),s([7,2]),s([7,1]),s([7,-1]),s([7,-2]),s([7,-3]),s([7,-4]),s([7,-5]),s([5,-7]),s([4,-7]),s([3,-7]),s([2,-7]),s([1,-7]),s([-1,-7]),s([-2,-7]),s([-3,-7]),s([-4,-7]),s([-5,-7]),s([-7,-5]),s([-7,-4]),s([-7,-3]),s([-7,-2]),s([-7,-1]),s([-7,1]),s([-7,2]),s([-7,3]),s([-7,4]),s([-7,5])]),e.modemapcompact=s([s([-3,5]),s([-2,5]),s([-1,5]),s([0,5]),s([1,5]),s([2,5]),s([3,5]),s([5,3]),s([5,2]),s([5,1]),s([5,0]),s([5,-1]),s([5,-2]),s([5,-3]),s([3,-5]),s([2,-5]),s([1,-5]),s([0,-5]),s([-1,-5]),s([-2,-5]),s([-3,-5]),s([-5,-3]),s([-5,-2]),s([-5,-1]),s([-5,0]),s([-5,1]),s([-5,2]),s([-5,3])]),r[t++]="modemap",Y(e.format,"full")?r[t++]=e.modemapfull:r[t++]=e.modemapcompact;var Et=r[--t];e[r[--t]]=Et;for(var yt=0,P=e.modemap.length-1;yt<=P;yt+=1){r[t++]=yt,r[t++]=e.pixs,O(c(e.modemap,yt)),e.cmv();var G=r[--t],q=r[--t];b(q,G,c(e.modebits,r[--t])-48)}var te=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["opt",e.options]]);r[t++]=te,e.dontdraw||At(),e=a}function SM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","compact"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,qu();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function EM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],b(e.options,"dontdraw",!0),b(e.options,"format","rune"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,qu();var n=r[--t];e[r[--t]]=n,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function CM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.parse=!1,e.parsefnc=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=s(["unset","T-16","T-32","T-48","S-10","S-20","S-30","A","B","C","D","E","F","G","H"]);r[t++]=!1;for(var i=0,o=n.length;i<o;i++){var d=r[--t];r[t++]=d||Y(c(n,i),e.version)}r[--t]||(r[t++]="bwipp.codeoneBadVersion#24394",r[t++]="version must be A to H, T-16, T-32, T-48, S-10, S-20 or S-30",z()),e.stype=Y(C(e.version,0,1),"S"),e.ttype=Y(C(e.version,0,1),"T"),e.stypevals=s(["1","1010","1100100","1111101000","10011100010000","11000011010100000","11110100001001000000","100110001001011010000000","101111101011110000100000000","111011100110101100101000000000","1001010100000010111110010000000000","1011101001000011101101110100000000000","1110100011010100101001010001000000000000","10010001100001001110011100101010000000000000","10110101111001100010000011110100100000000000000","11100011010111111010100100110001101000000000000000","100011100001101111001001101111110000010000000000000000","101100011010001010111100001011101100010100000000000000000"]),e.stypemetrics=s([s(["S-10",8,11,10,4,4,1,99,99,99]),s(["S-20",8,21,20,8,8,1,99,99,99]),s(["S-30",8,31,30,12,12,1,99,99,99])]),e.nonstypemetrics=s([s(["A",16,18,16,10,10,1,4,99,6]),s(["B",22,22,20,19,16,1,4,99,8]),s(["C",28,32,28,44,26,1,4,22,11]),s(["D",40,42,36,91,44,1,4,16,16]),s(["E",52,54,48,182,70,1,4,22,22]),s(["F",70,76,68,370,140,2,4,22,31]),s(["G",104,98,88,732,280,4,6,21,47]),s(["H",148,134,120,1480,560,8,6,20,69]),s(["T-16",16,17,16,10,10,1,99,99,99]),s(["T-32",16,33,32,24,16,1,99,99,99]),s(["T-48",16,49,48,38,22,1,99,99,99])]),e.fnc1=-1,e.fnc3=-2,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lD=-9,e.unl=-10,e.fnc2=-11,e.fnc4=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.fnc1lD=-18,e.unlcw=255,r[t++]=1/0;for(var u=0;u<=128;u+=1)r[t++]=u,r[t++]=u+1;r[t++]=e.pad,r[t++]=129;for(var f=0;f<=99;f+=1){var h=$t(J(2),f,10),p=_r(J(2),"00");M(p,2-h.length,h),r[t++]=p,r[t++]=f+130}var m=s([e.lC,e.lB,e.fnc1,e.fnc2,e.fnc3,e.fnc4,e.fnc1lD]);r[t++]=229;for(var x=0,y=m.length;x<y;x++){var w=r[--t]+1;r[t++]=c(m,x),r[t++]=w,r[t++]=w}r[t-1]=e.lX,r[t++]=238,r[t++]=e.lT,r[t++]=239,e.Avals=Ge(),r[t++]=1/0;for(var v=e.Avals,g=v.size,A=v.keys(),k=0;k<g;k++){var E=A.next().value;r[t++]=E;var j=1/0,N=v.get(E);r[t++]=j,r[t++]=N;var B=s();r[t++]=B}e.Avals=Ge(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var I=48;I<=57;I+=1)r[t++]=I,r[t++]=I-44;for(var D=65;D<=90;D+=1)r[t++]=D,r[t++]=D-51;e.CNvals=Ge(),r[t++]=1/0;for(var T=0;T<=31;T+=1)r[t++]=T,r[t++]=T;e.C1vals=Ge(),r[t++]=1/0;for(var R=33;R<=47;R+=1)r[t++]=R,r[t++]=R-33;for(var $=58;$<=64;$+=1)r[t++]=$,r[t++]=$-43;for(var _=91;_<=95;_+=1)r[t++]=_,r[t++]=_-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.C2vals=Ge(),r[t++]=1/0;for(var F=96;F<=127;F+=1)r[t++]=F,r[t++]=F-96;e.C3vals=Ge(),r[t++]=1/0;for(var Q=e.CNvals,L=Q.size,X=Q.keys(),le=0;le<L;le++){var fe=X.next().value;r[t++]=fe;var V=1/0,H=Q.get(fe);r[t++]=V,r[t++]=H;var se=s();r[t++]=se}for(var ue=e.C1vals,U=ue.size,W=ue.keys(),re=0;re<U;re++){var ie=W.next().value;r[t++]=ie;var be=1/0,K=ue.get(ie);r[t++]=be,r[t++]=c(e.CNvals,e.sft1),r[t++]=K;var ke=s();r[t++]=ke}for(var je=e.C2vals,Qe=je.size,ze=je.keys(),tt=0;tt<Qe;tt++){var Ze=ze.next().value;r[t++]=Ze;var Re=1/0,He=je.get(Ze);r[t++]=Re,r[t++]=c(e.CNvals,e.sft2),r[t++]=He;var Ue=s();r[t++]=Ue}for(var ye=e.C3vals,Ye=ye.size,Ae=ye.keys(),Le=0;Le<Ye;Le++){var he=Ae.next().value;r[t++]=he;var Pe=1/0,Me=ye.get(he);r[t++]=Pe,r[t++]=c(e.CNvals,e.sft3),r[t++]=Me;var $e=s();r[t++]=$e}e.Cvals=Ge(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var rt=48;rt<=57;rt+=1)r[t++]=rt,r[t++]=rt-44;for(var pt=97;pt<=122;pt+=1)r[t++]=pt,r[t++]=pt-83;e.TNvals=Ge(),r[t++]=1/0;for(var ut=0;ut<=31;ut+=1)r[t++]=ut,r[t++]=ut;e.T1vals=Ge(),r[t++]=1/0;for(var bt=33;bt<=47;bt+=1)r[t++]=bt,r[t++]=bt-33;for(var It=58;It<=64;It+=1)r[t++]=It,r[t++]=It-43;for(var St=91;St<=95;St+=1)r[t++]=St,r[t++]=St-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.T2vals=Ge(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var de=65;de<=90;de+=1)r[t++]=de,r[t++]=de-64;for(var Ee=123;Ee<=127;Ee+=1)r[t++]=Ee,r[t++]=Ee-96;e.T3vals=Ge(),r[t++]=1/0;for(var at=e.TNvals,ot=at.size,Et=at.keys(),yt=0;yt<ot;yt++){var P=Et.next().value;r[t++]=P;var G=1/0,q=at.get(P);r[t++]=G,r[t++]=q;var te=s();r[t++]=te}for(var ce=e.T1vals,ge=ce.size,ae=ce.keys(),Ce=0;Ce<ge;Ce++){var Z=ae.next().value;r[t++]=Z;var xe=1/0,me=ce.get(Z);r[t++]=xe,r[t++]=c(e.TNvals,e.sft1),r[t++]=me;var Ne=s();r[t++]=Ne}for(var oe=e.T2vals,we=oe.size,Be=oe.keys(),pe=0;pe<we;pe++){var Ie=Be.next().value;r[t++]=Ie;var Se=1/0,Te=oe.get(Ie);r[t++]=Se,r[t++]=c(e.TNvals,e.sft2),r[t++]=Te;var Ve=s();r[t++]=Ve}for(var qe=e.T3vals,et=qe.size,ct=qe.keys(),lt=0;lt<et;lt++){var De=ct.next().value;r[t++]=De;var We=1/0,Ke=qe.get(De);r[t++]=We,r[t++]=c(e.TNvals,e.sft3),r[t++]=Ke;var st=s();r[t++]=st}e.Tvals=Ge();for(var gt=128;gt<=255;gt+=1){e.i=gt,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,O(c(e.Avals,e.fnc4)),O(c(e.Avals,e.i-128));var wt=s(),vt=r[--t];b(r[--t],vt,wt),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Cvals,e.fnc4)),O(c(e.Cvals,e.i-128));var kt=s(),dt=r[--t];b(r[--t],dt,kt),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Tvals,e.fnc4)),O(c(e.Tvals,e.i-128));var _t=s(),nt=r[--t];b(r[--t],nt,_t)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Qt=48;Qt<=57;Qt+=1)r[t++]=Qt,r[t++]=Qt-44;for(var Ht=65;Ht<=90;Ht+=1)r[t++]=Ht,r[t++]=Ht-51;e.Xvals=Ge(),r[t++]=1/0;for(var Ut=e.Xvals,sr=Ut.size,Cr=Ut.keys(),nr=0;nr<sr;nr++){var gr=Cr.next().value;r[t++]=gr;var ar=1/0,Br=Ut.get(gr);r[t++]=ar,r[t++]=Br;var Zt=s();r[t++]=Zt}e.Xvals=Ge(),r[t++]=1/0;for(var dr=0;dr<=255;dr+=1)r[t++]=dr,r[t++]=dr;e.Bvals=Ge(),r[t++]=1/0;for(var Kt=e.Bvals,Jt=Kt.size,ur=Kt.keys(),Tr=0;Tr<Jt;Tr++){var Fr=ur.next().value;r[t++]=Fr;var fa=1/0,Tt=Kt.get(Fr);r[t++]=fa,r[t++]=Tt;var Gt=s();r[t++]=Gt}if(e.Bvals=Ge(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,-1,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.D=4,e.B=5,e.stype){ve(e.barcode,function(){var xt=r[--t];(xt<48||xt>57)&&(r[t++]="bwipp.codeoneStypeNonDigit#24564",r[t++]="S-Type symbols can only contain digits",z())}),e.barlen=e.barcode.length,e.barlen>18&&(r[t++]="bwipp.codeoneStypeTooLong#24570",r[t++]="Maximum length exceeded",z()),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var xt=e.num.length-1;xt>=1;xt-=1){e.i=xt;var qt=e.num,Ur=e.i;b(qt,Ur-1,S(c(qt,Ur-1)+~~(c(e.num,e.i)/e.base))),b(e.num,e.i,c(e.num,e.i)%e.base)}for(;!xn(c(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,O(e.num),e.num=s(),b(e.num,0,S(c(e.num,0)+~~(c(e.num,1)/e.base))),b(e.num,1,c(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var ft=e.num,Pt=0,Vt=ft.length;Pt<Vt;Pt++){var Wt=c(ft,Pt);r[t++]=Wt,Wt==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var xt=r[--t],qt=r[--t];if(e.offset=Jo(xt.length-qt.length),xt.length<qt.length){var Ur=xt;xt=qt,qt=Ur}e.a=xt,e.b=qt;for(var ft=0,Pt=e.b.length-1;ft<=Pt;ft+=1){var Vt=e.a,Wt=e.offset;b(Vt,ft+Wt,S(c(Vt,ft+Wt)+c(e.b,ft)))}r[t++]=e.a},e.barlen=e.barcode.length,e.v=s([1]);for(var tr=0,br=e.barlen-1;tr<=br;tr+=1){e.i=tr,r[t++]=1/0,ve(c(e.stypevals,e.i),function(){var xt=r[--t];r[t++]=(xt-48)*(c(e.barcode,e.barlen-e.i-1)-48)});var ir=s();r[t++]=ir,r[t++]=e.v,e.bigadd(),e.v=r[--t]}r[t++]="v",r[t++]=e.v,r[t++]=2,e.normalize();var Dr=r[--t];e[r[--t]]=Dr,r[t++]=1/0;for(var or=0,zt=(5-e.v.length%5)%5;or<zt;or++)r[t++]=0;O(e.v),e.v=s(),e.cws=s(~~(e.v.length/5));for(var yr=0,ra=e.cws.length-1;yr<=ra;yr+=1){e.i=yr;var ha=C(e.v,e.i*5,5);r[t++]=0;for(var Aa=0,Qr=ha.length;Aa<Qr;Aa++){var Ca=r[--t];r[t++]=S(Ca+c(ha,Aa))*2}b(e.cws,e.i,~~(r[--t]/2))}e.metrics=e.stypemetrics}else{var ba=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["FNC3",e.fnc3]]);e.fncvals=ba,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var Ma=r[--t];e[r[--t]]=Ma,e.msglen=e.msg.length,e.eciesc=92;var ca=e.msg;r[t++]="numecis",r[t++]=0;for(var ka=0,Ia=ca.length;ka<Ia;ka++)if(c(ca,ka)<=-1e6){var ja=r[--t];r[t++]=ja+1}var Qa=r[--t];if(e[r[--t]]=Qa,e.numecis>0){e.msgtmp=s(S(e.msg.length*2+e.numecis*6)+2),b(e.msgtmp,0,e.pad),b(e.msgtmp,1,e.eciesc),e.j=2;for(var Ha=0,Ka=e.msg.length-1;Ha<=Ka;Ha+=1){var xs=c(e.msg,Ha);if(r[t++]=xs,xs<=-1e6){for(var Ba=C($t(J(7),-r[--t],10),1,6),Ts=0,$a=Ba.length;Ts<$a;Ts++)r[t++]=c(Ba,Ts);Yt(s(6)),M(e.msgtmp,e.j+1,r[--t]),b(e.msgtmp,e.j,e.eciesc),e.j=e.j+7}else{var $s=r[t-1];$s!=e.eciesc?(b(e.msgtmp,e.j,r[--t]),e.j=e.j+1):(t--,b(e.msgtmp,e.j,e.eciesc),b(e.msgtmp,e.j+1,e.eciesc),e.j=e.j+2)}}e.msg=C(e.msgtmp,0,e.j),e.msglen=e.msg.length}e.metrics=e.nonstypemetrics,e.fullcws=s([]);for(var _a=e.metrics,vs=0,Rs=_a.length;vs<Rs;vs++)e.m=c(_a,vs),e.vers=c(e.m,0),e.dcws=c(e.m,4),e.okay=!0,Y(e.version,"unset")?e.vers.length!=1&&(e.okay=!1):_e(e.version,e.vers)&&(e.okay=!1),e.okay&&(r[t++]=1/0,O(e.fullcws),r[t++]=e.dcws,e.fullcws=s());r[t++]=1/0;for(var Ms=0;Ms<1480;Ms++)r[t++]=1e4;e.numremcws=s();for(var Wa=e.fullcws,qs=0,Ja=Wa.length;qs<Ja;qs++)b(e.numremcws,c(Wa,qs)-1,1);for(var gs=1478;gs>=0;gs-=1)e.i=gs,c(e.numremcws,e.i)!=1&&b(e.numremcws,e.i,c(e.numremcws,e.i+1)+1);r[t++]=1/0;for(var Fa=0,gn=e.msglen;Fa<gn;Fa++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var qa=0,Bn=e.msglen;qa<Bn;qa++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Da=0,en=e.msglen;Da<en;Da++)r[t++]=0;r[t++]=9999,e.nextNonX=s();for(var Pa=e.msglen-1;Pa>=0;Pa-=1){e.i=Pa,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&b(e.numD,e.i,c(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?b(e.nextXterm,e.i,0):b(e.nextXterm,e.i,c(e.nextXterm,e.i+1)+1);var sn=c(e.Xvals,e.barchar)!==void 0;sn?b(e.nextNonX,e.i,c(e.nextNonX,e.i+1)+1):b(e.nextNonX,e.i,0)}r[t++]=1/0;for(var ls=e.nextXterm,Xt=0,Zr=ls.length;Xt<Zr;Xt++){var Na=c(ls,Xt);r[t++]=Na,Na>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var Oa=e.nextNonX,bs=0,Hr=Oa.length;bs<Hr;bs++){var cs=c(Oa,bs);r[t++]=cs,cs>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var xt=c(e.CNvals,e.char)!==void 0;r[t++]=xt},e.isT=function(){var xt=c(e.TNvals,e.char)!==void 0;r[t++]=xt},e.isX=function(){var xt=c(e.Xvals,e.char)!==void 0;r[t++]=xt},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var xt=r[--t];r[t++]=xn(c(e.nextXterm,xt),c(e.nextNonX,xt))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.bc=3,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.bc=2),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.B&&(e.bc=0);for(var xt=0;xt<1;xt++)for(e.k=0;;){if(e.i+e.k==e.msglen){var qt=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Ur=0,ft=qt.length;Ur<ft;Ur++){var Pt=r[--t];r[t++]=Pt&&e.bc<=xr(c(qt,Ur))}if(r[--t]){r[t++]=e.B;break}var Vt=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Wt=0,Jr=Vt.length;Wt<Jr;Wt++){var wa=r[--t];r[t++]=wa&&e.ac<=xr(c(Vt,Wt))}if(r[--t]){r[t++]=e.A;break}var xa=s([e.tc,e.xc]);r[t++]=!0;for(var us=0,Ys=xa.length;us<Ys;us++){var dn=r[--t];r[t++]=dn&&xr(e.cc)<=xr(c(xa,us))}if(r[--t]){r[t++]=e.C;break}var un=s([e.xc]);r[t++]=!0;for(var Gn=0,w1=un.length;Gn<w1;Gn++){var s1=r[--t];r[t++]=s1&&xr(e.tc)<=xr(c(un,Gn))}if(r[--t]){r[t++]=e.T;break}r[t++]=e.X;break}if(e.char=c(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Ui=r[--t];r[t++]=S(Ui+1/2)}else if(e.isEA(),r[--t]){var A1=r[--t];r[t++]=xr(A1)+2}else{var n1=r[--t];r[t++]=xr(n1)+1}var G1=r[--t];if(e[r[--t]]=G1,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var k1=r[--t];r[t++]=S(k1+.6666667)}else if(e.isEA(),r[--t]){var Cc=r[--t];r[t++]=S(Cc+2.6666667)}else{var Ic=r[--t];r[t++]=S(Ic+1.3333334)}var vl=r[--t];if(e[r[--t]]=vl,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var Bo=r[--t];r[t++]=S(Bo+.6666667)}else if(e.isEA(),r[--t]){var Bc=r[--t];r[t++]=S(Bc+2.6666667)}else{var Dc=r[--t];r[t++]=S(Dc+1.3333334)}var Tc=r[--t];if(e[r[--t]]=Tc,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var Rc=r[--t];r[t++]=S(Rc+.6666667)}else if(e.isEA(),r[--t]){var Mc=r[--t];r[t++]=S(Mc+4.3333334)}else{var _c=r[--t];r[t++]=S(_c+3.3333334)}var Fc=r[--t];if(e[r[--t]]=Fc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var Pc=r[--t];r[t++]=Pc+3}else{var Oc=r[--t];r[t++]=Oc+1}var Uc=r[--t];if(e[r[--t]]=Uc,e.k>=3){var gl=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Do=0,zc=gl.length;Do<zc;Do++){var Lc=r[--t];r[t++]=Lc&&e.bc+1<=xr(c(gl,Do))}if(r[--t]){r[t++]=e.B;break}var bl=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var To=0,Qc=bl.length;To<Qc;To++){var Hc=r[--t];r[t++]=Hc&&e.ac+1<=xr(c(bl,To))}if(r[--t]){r[t++]=e.A;break}var yl=s([e.ac,e.cc,e.xc,e.bc]);r[t++]=!0;for(var Ro=0,$c=yl.length;Ro<$c;Ro++){var qc=r[--t];r[t++]=qc&&xr(e.tc)+1<=xr(c(yl,Ro))}if(r[--t]){r[t++]=e.T;break}var wl=s([e.ac,e.tc]);r[t++]=!0;for(var Mo=0,Gc=wl.length;Mo<Gc;Mo++){var Al=r[--t];r[t++]=Al&&xr(e.cc)+1<=xr(c(wl,Mo))}if(r[--t]){if(xr(e.cc)<xr(e.xc)){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}var V1=s([e.ac,e.cc,e.tc,e.bc]);r[t++]=!0;for(var _o=0,Vc=V1.length;_o<Vc;_o++){var Vn=r[--t];r[t++]=Vn&&xr(e.xc)+1<=xr(c(V1,_o))}if(r[--t]){r[t++]=e.X;break}}e.k=e.k+1}},e.addtocws=function(){var xt=r[t-1];xt.length+e.j>1480&&(t--,r[t++]="bwipp.codeoneTooLong#24766",r[t++]="Maximum length exceeded",z());var qt=r[--t];M(e.cws,e.j,qt),e.j=qt.length+e.j},e.tobin=function(){var xt=J(r[--t]);r[t++]=xt;for(var qt=0,Ur=xt.length-1;qt<=Ur;qt+=1){var ft=r[t-1];b(ft,qt,48)}var Pt=r[t-1];r[t++]=Pt;var Vt=r[t-3],Wt=r[t-1];r[t-3]=r[t-2],t-=2;var Jr=$t(J(Wt.length),Vt,2);M(Wt,Wt.length-Jr.length,Jr),r[t++]=1/0;var wa=r[--t],xa=r[--t];r[t++]=wa,ve(xa,function(){var Ys=r[--t];r[t++]=Ys-48});var us=s();r[t++]=us},e.encA=function(){for(var xt=0;xt<1;xt++){if(c(e.numD,e.i)>=21){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}var qt=c(e.numD,e.i);if(qt>=13&&S(qt+e.i)==e.msglen){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}if(c(e.numD,e.i)>=2){var Ur=J(2);b(Ur,0,c(e.msg,e.i)),b(Ur,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Ur),e.addtocws(),e.i=e.i+2;break}if(c(e.msg,e.i)==e.fnc1){if(c(e.numD,e.i+1)>=15){r[t++]=c(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}var ft=c(e.numD,e.i+1);if(ft>=7&&S(ft+e.i)+1==e.msglen){r[t++]=c(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}}r[t++]="newmode",e.lookup();var Pt=r[--t];if(e[r[--t]]=Pt,e.newmode!=e.mode){r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lD,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var xt=0,qt=e.in.length-1;xt<=qt;xt+=3){var Ur=C(e.in,xt,3);r[t++]=0;for(var ft=0,Pt=Ur.length;ft<Pt;ft++){var Vt=r[--t];r[t++]=S(Vt+c(Ur,ft))*40}var Wt=~~(r[--t]/40)+1;r[t++]=~~(Wt/256),r[t++]=Wt%256}Yt(s(va()));var Jr=r[--t];r[t-1]=Jr},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2220);e.i!=e.msglen;){if(e.p%3==0){if(c(e.numD,e.i)>=12){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}var xt=c(e.numD,e.i);if(xt>=8&&S(xt+e.i)==e.msglen){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.mode==e.X){var qt=c(e.Xvals,c(e.msg,e.i))!==void 0;if(!qt){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),(c(e.numremcws,e.j)!=1||c(e.msg,e.i)>127)&&(r[t++]=s([e.unlcw]),e.addtocws()),e.mode=e.A;break}if(e.i+1<e.msglen){var Ur=c(e.Xvals,c(e.msg,e.i+1))!==void 0;if(!Ur)break;if(e.i+2<e.msglen){var ft=c(e.Xvals,c(e.msg,e.i+2))!==void 0;if(!ft)break}}}else if(e.lookup(),r[--t]!=e.mode){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.msglen-e.i<=3){e.remcws=c(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Pt=C(e.msg,e.i,e.msglen-e.i),Vt=0,Wt=Pt.length;Vt<Wt;Vt++){var Jr=c(Pt,Vt),wa=c(c(e.encvals,e.mode),Jr)!==void 0;r[t++]=Jr,wa?O(c(c(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals);var xa=s();r[t++]=xa,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals),O(c(c(e.encvals,e.mode),e.sft1));var us=s();r[t++]=us,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}}var Ys=c(c(e.encvals,e.mode),c(e.msg,e.i));M(e.ctxvals,e.p,Ys),e.p=Ys.length+e.p,e.i=e.i+1}if(e.mode!=e.A){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-c(c(e.encvals,e.mode),c(e.msg,e.i)).length;r[t++]=1/0,O(C(e.ctxvals,0,e.p));var dn=s();if(r[t++]=dn,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen)if(c(e.numD,e.i)>=2){var un=J(2);b(un,0,c(e.msg,e.i)),b(un,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,un),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encD=function(){for(;;){if(c(e.numD,e.i)<3){if(e.Drem=(8-e.Dbits.length%8)%8,e.remcws=c(e.numremcws,e.j+~~(e.Dbits.length/8)),(c(e.numremcws,e.j+~~(e.Dbits.length/8)-1)-1==0&&e.Drem==0||e.remcws==1&&e.Drem!=0)&&e.i==e.msglen){(e.Drem==4||e.Drem==6)&&(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),(e.Drem==2||e.Drem==6)&&(r[t++]=1/0,O(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s());break}if((e.i==e.msglen-1&&c(e.numD,e.i)==1||e.i==e.msglen-2&&c(e.numD,e.i)==2)&&e.remcws==1&&e.Drem==0)break;e.i==e.msglen-1&&c(e.numD,e.i)==1&&e.remcws==1&&(e.Drem==4||e.Drem==6)||(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s(),e.Drem=(8-e.Dbits.length%8)%8),(e.Drem==4||e.Drem==6)&&(c(e.numD,e.i)>=1?(r[t++]=1/0,O(e.Dbits),r[t++]=c(e.msg,e.i)-48+1,r[t++]=4,e.tobin(),O(r[--t]),e.Dbits=s(),e.i=e.i+1):(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),e.Drem=e.Drem-4),e.Drem==2&&(r[t++]=1/0,O(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s(),e.Drem=0);break}r[t++]=1/0,O(e.Dbits);var xt=C(e.msg,e.i,3);r[t++]=0;for(var qt=0,Ur=xt.length;qt<Ur;qt++){var ft=r[--t];r[t++]=S(ft+(c(xt,qt)-48))*10}var Pt=r[--t];r[t++]=~~(Pt/10)+1,r[t++]=10,e.tobin(),O(r[--t]),e.Dbits=s(),e.i=e.i+3}r[t++]=1/0;for(var Vt=0,Wt=e.Dbits.length-1;Vt<=Wt;Vt+=8){var Jr=C(e.Dbits,Vt,8);r[t++]=0;for(var wa=0,xa=Jr.length;wa<xa;wa++){var us=r[--t];r[t++]=S(us+c(Jr,wa))*2}var Ys=r[--t];r[t++]=~~(Ys/2)}Yt(s(va()));var dn=r[--t];r[t-1]=dn,e.addtocws(),e.mode=e.A},e.encB=function(){for(e.p=0,e.bvals=s(1480);!(e.i==e.msglen||c(e.msg,e.i)<0||(e.lookup(),r[--t]!=e.mode));)b(e.bvals,e.p,c(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=c(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),O(C(e.bvals,0,e.p)),e.bvals=s(),r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1480),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[c(s(["encA","encCTX","encCTX","encCTX","encD","encB"]),e.mode)]()===!0););e.cws=C(e.cws,0,e.j)}for(var ys=e.metrics,Ua=0,Dn=ys.length;Ua<Dn&&(e.m=c(ys,Ua),e.vers=c(e.m,0),e.rows=c(e.m,1),e.cols=c(e.m,2),e.dcol=c(e.m,3),e.dcws=c(e.m,4),e.rscw=c(e.m,5),e.rsbl=c(e.m,6),e.riso=c(e.m,7),e.risi=c(e.m,8),e.risl=c(e.m,9),e.dcpb=~~(e.dcws/e.rsbl),e.ecpb=~~(e.rscw/e.rsbl),e.okay=!0,_e(e.version,"unset")&&_e(e.version,e.vers)&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Ua++);if(e.okay||(r[t++]="bwipp.codeoneNoValidSymbol#25082",r[t++]="Maximum length exceeded",z()),e.stype){r[t++]=1/0;for(var Gs=0,Ra=S(e.dcws-e.cws.length);Gs<Ra;Gs++)r[t++]=0;O(e.cws),e.cws=s()}else{r[t++]=1/0,O(e.cws);for(var Ta=0,hi=S(e.dcws-e.cws.length);Ta<hi;Ta++)r[t++]=129;e.cws=s()}var Tn=c(e.options,"debugcws")!==void 0;Tn&&(r[t++]="bwipp.debugcws#25092",r[t++]=e.cws,z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Xa=0,Rn=e.rsbl-1;Xa<=Rn;Xa+=1){e.i=Xa,e.cwb=s(e.dcpb);for(var ws=0,nn=e.dcpb-1;ws<=nn;ws+=1)e.j=ws,b(e.cwb,e.j,c(e.cws,S(e.j*e.rsbl+e.i)));b(e.cwbs,e.i,e.cwb)}var on=e.stype?32:256;e.gf=on,e["gf-1"]=e.gf-1;var Zn=e.stype?37:301;e.pm=Zn,r[t++]=1/0,r[t++]=1;for(var Ct=0,Yr=e["gf-1"];Ct<Yr;Ct++){var aa=r[t-1],za=aa*2;if(r[t++]=za,za>=e.gf){var da=r[--t];r[t++]=da^e.pm}}e.rsalog=s(),e.rslog=s(e.gf);for(var Za=1,As=e["gf-1"];Za<=As;Za+=1)b(e.rslog,c(e.rsalog,Za),Za);e.rsprod=function(){var xt=r[t-1],qt=r[t-2];if(xt!=0&&qt!=0){var Ur=c(e.rslog,r[--t]),ft=c(e.rsalog,S(Ur+c(e.rslog,r[--t]))%e["gf-1"]);r[t++]=ft}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var bn=0,mt=e.ecpb;bn<mt;bn++)r[t++]=0;e.coeffs=s();for(var Bt=0,hr=e.ecpb-1;Bt<=hr;Bt+=1){e.i=Bt,b(e.coeffs,e.i+1,c(e.coeffs,e.i));for(var lr=e.i;lr>=1;lr-=1){e.j=lr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var fr=r[--t],Rr=r[--t],cr=r[--t];b(r[--t],cr,ps(Rr,fr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var sa=r[--t],$r=r[--t];b(r[--t],$r,sa)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var qr=0,Gr=e.cwbs.length-1;qr<=Gr;qr+=1){e.i=qr,r[t++]=1/0,O(c(e.cwbs,e.i));for(var Kr=0,pa=e.ecpb;Kr<pa;Kr++)r[t++]=0;e.rscws=s();for(var ea=0,Vr=e.dcpb-1;ea<=Vr;ea+=1){e.m=ea,e.k=c(e.rscws,e.m);for(var na=0,Mr=e.ecpb-1;na<=Mr;na+=1){e.j=na,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=c(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var Pr=r[--t],La=r[--t];b(r[--t],La,ps(Pr,c(e.rscws,e.m+e.j+1)))}}b(e.ecbs,e.i,C(e.rscws,e.dcpb,e.ecpb))}r[t++]=1/0,O(e.cws);for(var ya=0,ds=e.rscw;ya<ds;ya++)r[t++]=0;e.cws=s();for(var Cs=0,ln=e.rscw-1;Cs<=ln;Cs+=1)e.i=Cs,b(e.cws,S(e.dcws+e.i),c(c(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));var _s=e.stype?5:8;e.mmat=s(S(e.dcws+e.rscw)*_s),e.r=0,e.c=0;for(var rr=e.stype?2:1,wr=0,Er=rr,ta=e.cws.length-1;Er<0?wr>=ta:wr<=ta;wr+=Er){if(e.i=wr,e.stype){var Vs=_r(J(5),"00000"),yn=$t(J(5),c(e.cws,e.i),2);M(Vs,5-yn.length,yn);var Mn=1/0,Qn=Vs;r[t++]=Mn,ve(Qn,function(){var xt=r[--t];r[t++]=xt-48}),e.c1=s();var Hn=_r(J(5),"00000"),wn=$t(J(5),c(e.cws,e.i+1),2);M(Hn,5-wn.length,wn);var pi=1/0,$n=Hn;r[t++]=pi,ve($n,function(){var xt=r[--t];r[t++]=xt-48}),e.c2=s(),r[t++]=1/0,O(C(e.c1,0,3)),O(C(e.c2,0,2)),e.top=s(),r[t++]=1/0,O(C(e.c1,3,2)),O(C(e.c2,2,3)),e.bot=s()}else{var Or=_r(J(8),"00000000"),ia=$t(J(8),c(e.cws,e.i),2);M(Or,8-ia.length,ia);var Wr=1/0,es=Or;r[t++]=Wr,ve(es,function(){var xt=r[--t];r[t++]=xt-48});var ts=s();e.top=C(ts,0,4),e.bot=C(ts,4,4)}M(e.mmat,S(e.r*e.dcol+e.c),e.top),M(e.mmat,S((e.r+1)*e.dcol+e.c),e.bot),e.c=e.c+e.top.length,e.c==e.dcol&&(e.c=0,e.r=e.r+2)}e.mmv=function(){var xt=r[--t],qt=r[--t];r[t++]=S(qt+xt*e.cols)},r[t++]=1/0;for(var mi=0,t1=e.rows*e.cols;mi<t1;mi++)r[t++]=-1;e.pixs=s();var xi=s([function(){for(var xt=0,qt=e.cols;xt<qt;xt++)r[t++]=0},function(){for(var xt=0,qt=e.cols;xt<qt;xt++)r[t++]=1},function(){r[t++]=0;for(var xt=0,qt=e.cols-2;xt<qt;xt++)r[t++]=1;r[t++]=0},function(){r[t++]=0,r[t++]=1;for(var xt=0,qt=e.cols-4;xt<qt;xt++)r[t++]=0;r[t++]=1,r[t++]=0},function(){for(var xt=0,qt=~~((e.cols-1)/2);xt<qt;xt++)r[t++]=-1;r[t++]=1;for(var Ur=0,ft=~~((e.cols-1)/2);Ur<ft;Ur++)r[t++]=-1},function(){for(var xt=0,qt=~~((e.cols-1)/2);xt<qt;xt++)r[t++]=-1;r[t++]=0;for(var Ur=0,ft=~~((e.cols-1)/2);Ur<ft;Ur++)r[t++]=-1},function(){r[t++]=1;for(var xt=0,qt=e.cols-2;xt<qt;xt++)r[t++]=0;r[t++]=1},function(){r[t++]=1,r[t++]=0;for(var xt=0,qt=e.cols-4;xt<qt;xt++)r[t++]=1;r[t++]=0,r[t++]=1}]);e.artifact=xi;var r1=new Map([["A","121343"],["B","12134343"],["C","12121343"],["D","1213434343"],["E","1212134343"],["F","1212121343"],["G","121213434343"],["H","121212134343"],["S","56661278"],["T","5666666666127878"]]);e.cpatmap=r1,e.cpat=c(e.cpatmap,C(e.vers,0,1)),r[t++]=e.pixs,r[t++]=0,r[t++]=~~(S(e.rows-e.cpat.length)/2),e.mmv(),r[t++]=1/0,ve(e.cpat,function(){if(c(e.artifact,r[--t]-49)()===!0)return!0});var a1=s(),Je=r[--t];M(r[--t],Je,a1);for(var Nt=0,pr=e.risl-1;Nt<=pr;Nt+=1){e.i=Nt;for(var Nr=e.riso,ma=e.risi,rs=e.cols-1;ma<0?Nr>=rs:Nr<=rs;Nr+=ma){e.j=Nr;var as=e.i%12==0?1:0,Is=s([1,as]);r[t++]=Is,r[t++]=Is,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.mmv();var cn=r[t-3],An=r[t-1];if(M(r[t-2],An,cn),t-=3,e.i!=e.risl-1){r[t++]=e.pixs,r[t++]=S(e.cols-e.j)-2,r[t++]=S(e.rows-e.i)-1,e.mmv();var Fi=r[t-3],Pi=r[t-1];M(r[t-2],Pi,Fi),t-=3}else t--}}var qn=new Map([["A",s([s([12,5])])],["B",s([s([16,7])])],["C",s([s([26,12])])],["D",s([])],["E",s([s([26,23])])],["F",s([s([26,32]),s([70,32]),s([26,34]),s([70,34])])],["G",s([s([27,48]),s([69,48])])],["H",s([s([26,70]),s([66,70]),s([106,70]),s([26,72]),s([66,72]),s([106,72])])],["S-10",s([])],["S-20",s([s([10,4])])],["S-30",s([s([15,4]),s([15,6])])],["T-16",s([s([8,10])])],["T-32",s([s([16,10]),s([16,12])])],["T-48",s([s([24,10]),s([24,12]),s([24,14])])]]);e.blackdotmap=qn,ve(c(e.blackdotmap,e.vers),function(){var xt=r[--t];r[t++]=e.pixs,O(xt),e.mmv();var qt=r[--t];b(r[--t],qt,1)}),e.j=0;for(var Oi=0,Io=e.pixs.length-1;Oi<=Io;Oi+=1)e.i=Oi,c(e.pixs,e.i)==-1&&(b(e.pixs,e.i,c(e.mmat,e.j)),e.j=e.j+1);r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows/72*2,r[t++]="width",r[t++]=e.cols/72*2,(e.stype||e.ttype)&&(r[t++]="borderleft",r[t++]=1,r[t++]="borderright",r[t++]=1,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=1),r[t++]="opt",r[t++]=e.options;var q1=Ge();r[t++]=q1,e.dontdraw||At(),e=a}function IM(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.eclevel="L2",e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hanxinEmptyData#25328",r[t++]="The data must not be empty",z()),_e(e.version,"unset")){var n=e.version.length,i=n>=1&&n<=2;if(r[t++]=i,i){t--;var o=e.version;r[t++]=!0;for(var d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t-1]=!1)}var h=r[t-1];if(h){t--;var p=Fe(e.version);r[t++]=p>=1&&p<=84}}r[--t]||(r[t++]="bwipp.hanxinInvalidVersion#25339",r[t++]="Valid versions are 1 to 84",z())}var m=e.eclevel.length==2;if(r[t++]=m,m){t--;var x=Y(C(e.eclevel,0,1),"L");if(r[t++]=x,x){t--;var y=c(e.eclevel,1)-48;r[t++]=y>=1&&y<=4}}r[--t]||(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25349",r[t++]="Valid error correction levels are L1 to L4",z()),e.mask!=-1&&(e.mask<1||e.mask>4)&&(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25354",r[t++]="The valid masks are 1 to 4",z());var w=new Map([["parse",e.parse],["parsefnc",e.parsefnc]]);e.fncvals=w,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var v=r[--t];e[r[--t]]=v,e.msglen=e.msg.length,e.tobin=function(){var Tt=J(r[--t]);r[t++]=Tt;for(var Gt=0,tr=Tt.length-1;Gt<=tr;Gt+=1){var br=r[t-1];b(br,Gt,48)}var ir=r[t-1];r[t++]=ir;var Dr=r[t-3],or=r[t-1];r[t-3]=r[t-2],t-=2;var zt=$t(J(or.length),Dr,2);M(or,or.length-zt.length,zt)},e.bits=J(17+e.msglen*8),M(e.bits,0,"0011"),r[t++]=e.bits,r[t++]=4,r[t++]=e.msglen,r[t++]=13,e.tobin();var g=r[--t],A=r[--t];M(r[--t],A,g);for(var k=0,E=e.msglen-1;k<=E;k+=1){e.i=k,r[t++]=e.bits,r[t++]=17+e.i*8,r[t++]=c(e.msg,e.i),r[t++]=8,e.tobin();var j=r[--t],N=r[--t];M(r[--t],N,j)}e.metrics=s([s(["1",23,-1,0,205,s([1,21,4]),s([0,-1,-1]),s([0,-1,-1]),s([1,17,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,13,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,9,16]),s([0,-1,-1]),s([0,-1,-1])]),s(["2",25,-1,0,301,s([1,31,6]),s([0,-1,-1]),s([0,-1,-1]),s([1,25,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,19,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,15,22]),s([0,-1,-1]),s([0,-1,-1])]),s(["3",27,-1,0,405,s([1,42,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,34,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["4",29,14,1,439,s([1,46,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,38,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,30,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,22,32]),s([0,-1,-1]),s([0,-1,-1])]),s(["5",31,16,1,555,s([1,57,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,49,20]),s([0,-1,-1]),s([0,-1,-1]),s([1,37,32]),s([0,-1,-1]),s([0,-1,-1]),s([1,14,20]),s([1,13,22]),s([0,-1,-1])]),s(["6",33,16,1,675,s([1,70,14]),s([0,-1,-1]),s([0,-1,-1]),s([1,58,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,24,20]),s([1,22,18]),s([0,-1,-1]),s([1,16,24]),s([1,18,26]),s([0,-1,-1])]),s(["7",35,17,1,805,s([1,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,22]),s([1,28,24]),s([0,-1,-1]),s([2,14,20]),s([1,12,20]),s([0,-1,-1])]),s(["8",37,18,1,943,s([1,99,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,40,18]),s([1,41,18]),s([0,-1,-1]),s([1,31,26]),s([1,32,28]),s([0,-1,-1]),s([2,16,24]),s([1,15,22]),s([0,-1,-1])]),s(["9",39,19,1,1089,s([1,114,22]),s([0,-1,-1]),s([0,-1,-1]),s([2,48,20]),s([0,-1,-1]),s([0,-1,-1]),s([2,24,20]),s([1,26,22]),s([0,-1,-1]),s([2,18,28]),s([1,18,26]),s([0,-1,-1])]),s(["10",41,20,1,1243,s([1,131,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,52,22]),s([1,57,24]),s([0,-1,-1]),s([2,27,24]),s([1,29,24]),s([0,-1,-1]),s([2,21,32]),s([1,19,30]),s([0,-1,-1])]),s(["11",43,14,2,1289,s([1,135,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,56,24]),s([1,57,24]),s([0,-1,-1]),s([2,28,24]),s([1,31,26]),s([0,-1,-1]),s([2,22,32]),s([1,21,32]),s([0,-1,-1])]),s(["12",45,15,2,1455,s([1,153,28]),s([0,-1,-1]),s([0,-1,-1]),s([1,62,26]),s([1,65,28]),s([0,-1,-1]),s([2,32,28]),s([1,33,28]),s([0,-1,-1]),s([3,17,26]),s([1,22,30]),s([0,-1,-1])]),s(["13",47,16,2,1629,s([1,86,16]),s([1,85,16]),s([0,-1,-1]),s([1,71,30]),s([1,72,30]),s([0,-1,-1]),s([2,37,32]),s([1,35,30]),s([0,-1,-1]),s([3,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["14",49,16,2,1805,s([1,94,18]),s([1,95,18]),s([0,-1,-1]),s([2,51,22]),s([1,55,24]),s([0,-1,-1]),s([3,30,26]),s([1,31,26]),s([0,-1,-1]),s([4,18,28]),s([1,17,24]),s([0,-1,-1])]),s(["15",51,17,2,1995,s([1,104,20]),s([1,105,20]),s([0,-1,-1]),s([2,57,24]),s([1,61,26]),s([0,-1,-1]),s([3,33,28]),s([1,36,30]),s([0,-1,-1]),s([4,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["16",53,17,2,2187,s([1,115,22]),s([1,114,22]),s([0,-1,-1]),s([2,65,28]),s([1,61,26]),s([0,-1,-1]),s([3,38,32]),s([1,33,30]),s([0,-1,-1]),s([5,19,28]),s([1,14,24]),s([0,-1,-1])]),s(["17",55,18,2,2393,s([1,126,24]),s([1,125,24]),s([0,-1,-1]),s([2,70,30]),s([1,69,30]),s([0,-1,-1]),s([4,33,28]),s([1,29,26]),s([0,-1,-1]),s([5,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["18",57,19,2,2607,s([1,136,26]),s([1,137,26]),s([0,-1,-1]),s([3,56,24]),s([1,59,26]),s([0,-1,-1]),s([5,35,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,18,28]),s([1,21,28]),s([0,-1,-1])]),s(["19",59,20,2,2829,s([1,148,28]),s([1,149,28]),s([0,-1,-1]),s([3,61,26]),s([1,64,28]),s([0,-1,-1]),s([7,24,20]),s([1,23,22]),s([0,-1,-1]),s([6,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["20",61,20,2,3053,s([3,107,20]),s([0,-1,-1]),s([0,-1,-1]),s([3,65,28]),s([1,72,30]),s([0,-1,-1]),s([7,26,22]),s([1,23,22]),s([0,-1,-1]),s([7,19,28]),s([1,20,32]),s([0,-1,-1])]),s(["21",63,21,2,3291,s([3,115,22]),s([0,-1,-1]),s([0,-1,-1]),s([4,56,24]),s([1,63,28]),s([0,-1,-1]),s([7,28,24]),s([1,25,22]),s([0,-1,-1]),s([8,18,28]),s([1,21,22]),s([0,-1,-1])]),s(["22",65,16,3,3383,s([2,116,22]),s([1,122,24]),s([0,-1,-1]),s([4,56,24]),s([1,72,30]),s([0,-1,-1]),s([7,28,24]),s([1,32,26]),s([0,-1,-1]),s([8,18,28]),s([1,24,30]),s([0,-1,-1])]),s(["23",67,17,3,3631,s([3,127,24]),s([0,-1,-1]),s([0,-1,-1]),s([5,51,22]),s([1,62,26]),s([0,-1,-1]),s([7,30,26]),s([1,35,26]),s([0,-1,-1]),s([8,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["24",69,17,3,3887,s([2,135,26]),s([1,137,26]),s([0,-1,-1]),s([5,56,24]),s([1,59,26]),s([0,-1,-1]),s([7,33,28]),s([1,30,28]),s([0,-1,-1]),s([11,16,24]),s([1,19,26]),s([0,-1,-1])]),s(["25",71,18,3,4151,s([3,105,20]),s([1,121,22]),s([0,-1,-1]),s([5,61,26]),s([1,57,26]),s([0,-1,-1]),s([9,28,24]),s([1,28,22]),s([0,-1,-1]),s([10,19,28]),s([1,18,30]),s([0,-1,-1])]),s(["26",73,18,3,4423,s([2,157,30]),s([1,150,28]),s([0,-1,-1]),s([5,65,28]),s([1,61,26]),s([0,-1,-1]),s([8,33,28]),s([1,34,30]),s([0,-1,-1]),s([10,19,28]),s([2,15,26]),s([0,-1,-1])]),s(["27",75,19,3,4703,s([3,126,24]),s([1,115,22]),s([0,-1,-1]),s([7,51,22]),s([1,54,22]),s([0,-1,-1]),s([8,35,30]),s([1,37,30]),s([0,-1,-1]),s([15,15,22]),s([1,10,22]),s([0,-1,-1])]),s(["28",77,19,3,4991,s([4,105,20]),s([1,103,20]),s([0,-1,-1]),s([7,56,24]),s([1,45,18]),s([0,-1,-1]),s([10,31,26]),s([1,27,26]),s([0,-1,-1]),s([10,17,26]),s([3,20,28]),s([1,21,28])]),s(["29",79,20,3,5287,s([3,139,26]),s([1,137,28]),s([0,-1,-1]),s([6,66,28]),s([1,66,30]),s([0,-1,-1]),s([9,36,30]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["30",81,20,3,5591,s([6,84,16]),s([1,82,16]),s([0,-1,-1]),s([6,70,30]),s([1,68,30]),s([0,-1,-1]),s([7,35,30]),s([3,33,28]),s([1,32,28]),s([13,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["31",83,21,3,5903,s([5,105,20]),s([1,94,18]),s([0,-1,-1]),s([6,74,32]),s([1,71,30]),s([0,-1,-1]),s([11,33,28]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["32",85,17,4,6033,s([4,127,24]),s([1,126,24]),s([0,-1,-1]),s([7,66,28]),s([1,66,30]),s([0,-1,-1]),s([12,30,24]),s([1,24,28]),s([1,24,30]),s([15,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["33",87,17,4,6353,s([7,84,16]),s([1,78,16]),s([0,-1,-1]),s([7,70,30]),s([1,66,28]),s([0,-1,-1]),s([12,33,28]),s([1,32,30]),s([0,-1,-1]),s([14,21,32]),s([1,24,28]),s([0,-1,-1])]),s(["34",89,18,4,6689,s([5,117,22]),s([1,117,24]),s([0,-1,-1]),s([8,66,28]),s([1,58,26]),s([0,-1,-1]),s([11,38,32]),s([1,34,32]),s([0,-1,-1]),s([15,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["35",91,18,4,7025,s([4,148,28]),s([1,146,28]),s([0,-1,-1]),s([8,68,30]),s([1,70,24]),s([0,-1,-1]),s([10,36,32]),s([3,38,28]),s([0,-1,-1]),s([16,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["36",93,19,4,7377,s([4,126,24]),s([2,135,26]),s([0,-1,-1]),s([8,70,28]),s([2,43,26]),s([0,-1,-1]),s([13,32,28]),s([2,41,30]),s([0,-1,-1]),s([17,19,28]),s([3,15,26]),s([0,-1,-1])]),s(["37",95,19,4,7729,s([5,136,26]),s([1,132,24]),s([0,-1,-1]),s([5,67,30]),s([4,68,28]),s([1,69,28]),s([14,35,30]),s([1,32,24]),s([0,-1,-1]),s([18,18,26]),s([3,16,28]),s([1,14,28])]),s(["38",97,19,4,8089,s([3,142,26]),s([3,141,28]),s([0,-1,-1]),s([8,70,30]),s([1,73,32]),s([1,74,32]),s([12,34,30]),s([3,34,26]),s([1,35,28]),s([18,21,32]),s([1,27,30]),s([0,-1,-1])]),s(["39",99,20,4,8465,s([5,116,22]),s([2,103,20]),s([1,102,20]),s([9,74,32]),s([1,74,30]),s([0,-1,-1]),s([14,34,28]),s([2,32,32]),s([1,32,30]),s([19,21,32]),s([1,25,26]),s([0,-1,-1])]),s(["40",101,20,4,8841,s([7,116,22]),s([1,117,22]),s([0,-1,-1]),s([11,65,28]),s([1,58,24]),s([0,-1,-1]),s([15,38,32]),s([1,27,28]),s([0,-1,-1]),s([20,20,30]),s([1,20,32]),s([1,21,32])]),s(["41",103,17,5,9009,s([6,136,26]),s([1,130,24]),s([0,-1,-1]),s([11,66,28]),s([1,62,30]),s([0,-1,-1]),s([14,34,28]),s([3,34,32]),s([1,30,30]),s([18,20,30]),s([3,20,28]),s([2,15,26])]),s(["42",105,17,5,9401,s([5,105,20]),s([2,115,22]),s([2,116,22]),s([10,75,32]),s([1,73,32]),s([0,-1,-1]),s([16,38,32]),s([1,27,28]),s([0,-1,-1]),s([22,19,28]),s([2,16,30]),s([1,19,30])]),s(["43",107,18,5,9799,s([6,147,28]),s([1,146,28]),s([0,-1,-1]),s([11,66,28]),s([2,65,30]),s([0,-1,-1]),s([18,33,28]),s([2,33,30]),s([0,-1,-1]),s([22,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["44",109,18,5,10207,s([6,116,22]),s([3,125,24]),s([0,-1,-1]),s([11,75,32]),s([1,68,30]),s([0,-1,-1]),s([13,35,28]),s([6,34,32]),s([1,30,30]),s([23,21,32]),s([1,26,30]),s([0,-1,-1])]),s(["45",111,18,5,10623,s([7,105,20]),s([4,95,18]),s([0,-1,-1]),s([12,67,28]),s([1,63,30]),s([1,62,32]),s([21,31,26]),s([2,33,32]),s([0,-1,-1]),s([23,21,32]),s([2,24,30]),s([0,-1,-1])]),s(["46",113,19,5,11045,s([10,116,22]),s([0,-1,-1]),s([0,-1,-1]),s([12,74,32]),s([1,78,30]),s([0,-1,-1]),s([18,37,32]),s([1,39,30]),s([1,41,28]),s([25,21,32]),s([1,27,28]),s([0,-1,-1])]),s(["47",115,19,5,11477,s([5,126,24]),s([4,115,22]),s([1,114,22]),s([12,67,28]),s([2,66,32]),s([1,68,30]),s([21,35,30]),s([1,39,30]),s([0,-1,-1]),s([26,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["48",117,19,5,11917,s([9,126,24]),s([1,117,22]),s([0,-1,-1]),s([13,75,32]),s([1,68,30]),s([0,-1,-1]),s([20,35,30]),s([3,35,28]),s([0,-1,-1]),s([27,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["49",119,17,6,12111,s([9,126,24]),s([1,137,26]),s([0,-1,-1]),s([13,71,30]),s([2,68,32]),s([0,-1,-1]),s([20,37,32]),s([1,39,28]),s([1,38,28]),s([24,20,32]),s([5,25,28]),s([0,-1,-1])]),s(["50",121,17,6,12559,s([8,147,28]),s([1,141,28]),s([0,-1,-1]),s([10,73,32]),s([4,74,30]),s([1,73,30]),s([16,36,32]),s([6,39,30]),s([1,37,30]),s([27,21,32]),s([3,20,26]),s([0,-1,-1])]),s(["51",123,18,6,13025,s([9,137,26]),s([1,135,26]),s([0,-1,-1]),s([12,70,30]),s([4,75,32]),s([0,-1,-1]),s([24,35,30]),s([1,40,28]),s([0,-1,-1]),s([23,20,32]),s([8,24,30]),s([0,-1,-1])]),s(["52",125,18,6,13489,s([14,95,18]),s([1,86,18]),s([0,-1,-1]),s([13,73,32]),s([3,77,30]),s([0,-1,-1]),s([24,35,30]),s([2,35,28]),s([0,-1,-1]),s([26,21,32]),s([5,21,30]),s([1,23,30])]),s(["53",127,18,6,13961,s([9,147,28]),s([1,142,28]),s([0,-1,-1]),s([10,73,30]),s([6,70,32]),s([1,71,32]),s([25,35,30]),s([2,34,26]),s([0,-1,-1]),s([29,21,32]),s([4,22,30]),s([0,-1,-1])]),s(["54",129,18,6,14441,s([11,126,24]),s([1,131,24]),s([0,-1,-1]),s([16,74,32]),s([1,79,30]),s([0,-1,-1]),s([25,38,32]),s([1,25,30]),s([0,-1,-1]),s([33,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["55",131,19,6,14939,s([14,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,65,28]),s([1,72,28]),s([0,-1,-1]),s([24,37,32]),s([2,40,30]),s([1,41,30]),s([31,21,32]),s([4,24,32]),s([0,-1,-1])]),s(["56",133,19,6,15435,s([10,147,28]),s([1,151,28]),s([0,-1,-1]),s([15,71,30]),s([3,71,32]),s([1,73,32]),s([24,37,32]),s([3,38,30]),s([1,39,30]),s([36,19,30]),s([3,29,26]),s([0,-1,-1])]),s(["57",135,19,6,15939,s([15,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,70,30]),s([1,64,28]),s([0,-1,-1]),s([27,38,32]),s([2,25,26]),s([0,-1,-1]),s([38,20,30]),s([2,18,28]),s([0,-1,-1])]),s(["58",137,17,7,16171,s([14,105,20]),s([1,113,22]),s([1,114,22]),s([17,67,30]),s([3,92,32]),s([0,-1,-1]),s([30,35,30]),s([1,41,30]),s([0,-1,-1]),s([36,21,32]),s([1,26,30]),s([1,27,30])]),s(["59",139,17,7,16691,s([11,146,28]),s([1,146,26]),s([0,-1,-1]),s([20,70,30]),s([1,60,26]),s([0,-1,-1]),s([29,38,32]),s([1,24,32]),s([0,-1,-1]),s([40,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["60",141,18,7,17215,s([3,137,26]),s([1,136,26]),s([10,126,24]),s([22,65,28]),s([1,75,30]),s([0,-1,-1]),s([30,37,32]),s([1,51,30]),s([0,-1,-1]),s([42,20,30]),s([1,21,30]),s([0,-1,-1])]),s(["61",143,18,7,17751,s([12,126,24]),s([2,118,22]),s([1,116,22]),s([19,74,32]),s([1,74,30]),s([1,72,28]),s([30,38,32]),s([2,29,30]),s([0,-1,-1]),s([39,20,32]),s([2,37,26]),s([1,38,26])]),s(["62",145,18,7,18295,s([12,126,24]),s([3,136,26]),s([0,-1,-1]),s([21,70,30]),s([2,65,28]),s([0,-1,-1]),s([34,35,30]),s([1,44,32]),s([0,-1,-1]),s([42,20,30]),s([2,19,28]),s([2,18,28])]),s(["63",147,18,7,18847,s([12,126,24]),s([3,117,22]),s([1,116,22]),s([25,61,26]),s([2,62,28]),s([0,-1,-1]),s([34,35,30]),s([1,40,32]),s([1,41,32]),s([45,20,30]),s([1,20,32]),s([1,21,32])]),s(["64",149,19,7,19403,s([15,105,20]),s([2,115,22]),s([2,116,22]),s([25,65,28]),s([1,72,28]),s([0,-1,-1]),s([18,35,30]),s([17,37,32]),s([1,50,32]),s([42,20,30]),s([6,19,28]),s([1,15,28])]),s(["65",151,19,7,19971,s([19,105,20]),s([1,101,20]),s([0,-1,-1]),s([33,51,22]),s([1,65,22]),s([0,-1,-1]),s([40,33,28]),s([1,28,28]),s([0,-1,-1]),s([49,20,30]),s([1,18,28]),s([0,-1,-1])]),s(["66",153,17,8,20229,s([18,105,20]),s([2,117,22]),s([0,-1,-1]),s([26,65,28]),s([1,80,30]),s([0,-1,-1]),s([35,35,30]),s([3,35,28]),s([1,36,28]),s([52,18,28]),s([2,38,30]),s([0,-1,-1])]),s(["67",155,17,8,20805,s([26,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([26,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([45,31,26]),s([1,9,26]),s([0,-1,-1]),s([52,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["68",157,17,8,21389,s([16,126,24]),s([1,114,22]),s([1,115,22]),s([23,70,30]),s([3,65,28]),s([1,66,28]),s([40,35,30]),s([1,43,30]),s([0,-1,-1]),s([46,20,30]),s([7,19,28]),s([1,16,28])]),s(["69",159,18,8,21993,s([19,116,22]),s([1,105,22]),s([0,-1,-1]),s([20,70,30]),s([7,66,28]),s([1,63,28]),s([40,35,30]),s([1,42,32]),s([1,43,32]),s([54,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["70",161,18,8,22593,s([17,126,24]),s([2,115,22]),s([0,-1,-1]),s([24,70,30]),s([4,74,32]),s([0,-1,-1]),s([48,31,26]),s([2,18,26]),s([0,-1,-1]),s([54,19,28]),s([6,15,26]),s([1,14,26])]),s(["71",163,18,8,23201,s([29,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([29,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,34,30]),s([3,36,30]),s([38,33,28]),s([58,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["72",165,18,8,23817,s([16,147,28]),s([1,149,28]),s([0,-1,-1]),s([31,66,28]),s([1,37,26]),s([0,-1,-1]),s([48,33,28]),s([1,23,26]),s([0,-1,-1]),s([53,20,30]),s([6,19,28]),s([1,17,28])]),s(["73",167,19,8,24453,s([20,115,22]),s([2,134,24]),s([0,-1,-1]),s([29,66,28]),s([2,56,26]),s([2,57,26]),s([45,36,30]),s([2,15,28]),s([0,-1,-1]),s([59,20,30]),s([2,21,32]),s([0,-1,-1])]),s(["74",169,19,8,25085,s([17,147,28]),s([1,134,26]),s([0,-1,-1]),s([26,70,30]),s([5,75,32]),s([0,-1,-1]),s([47,35,30]),s([1,48,32]),s([0,-1,-1]),s([64,18,28]),s([2,33,30]),s([1,35,30])]),s(["75",171,17,9,25373,s([22,115,22]),s([1,133,24]),s([0,-1,-1]),s([33,65,28]),s([1,74,28]),s([0,-1,-1]),s([43,36,30]),s([5,27,28]),s([1,30,28]),s([57,20,30]),s([5,21,32]),s([1,24,32])]),s(["76",173,17,9,26021,s([18,136,26]),s([2,142,26]),s([0,-1,-1]),s([33,66,28]),s([2,49,26]),s([0,-1,-1]),s([48,35,30]),s([2,38,28]),s([0,-1,-1]),s([64,20,30]),s([1,20,32]),s([0,-1,-1])]),s(["77",175,17,9,26677,s([19,126,24]),s([2,135,26]),s([1,136,26]),s([32,66,28]),s([2,55,26]),s([2,56,26]),s([49,36,30]),s([2,18,32]),s([0,-1,-1]),s([65,18,28]),s([5,27,30]),s([1,29,30])]),s(["78",177,18,9,27335,s([20,137,26]),s([1,130,26]),s([0,-1,-1]),s([30,75,32]),s([2,71,32]),s([0,-1,-1]),s([46,35,30]),s([6,39,32]),s([0,-1,-1]),s([3,12,30]),s([70,19,28]),s([0,-1,-1])]),s(["79",179,18,9,28007,s([20,147,28]),s([0,-1,-1]),s([0,-1,-1]),s([35,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([49,35,30]),s([5,35,28]),s([0,-1,-1]),s([70,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["80",181,18,9,28687,s([21,136,26]),s([1,155,28]),s([0,-1,-1]),s([34,70,30]),s([1,64,28]),s([1,65,28]),s([54,35,30]),s([1,45,30]),s([0,-1,-1]),s([68,20,30]),s([3,18,28]),s([1,19,28])]),s(["81",183,18,9,29375,s([19,126,24]),s([5,115,22]),s([1,114,22]),s([33,70,30]),s([3,65,28]),s([1,64,28]),s([52,35,30]),s([3,41,32]),s([1,40,32]),s([67,20,30]),s([5,21,32]),s([1,24,32])]),s(["82",185,18,9,30071,s([2,150,28]),s([21,136,26]),s([0,-1,-1]),s([32,70,30]),s([6,65,28]),s([0,-1,-1]),s([52,38,32]),s([2,27,32]),s([0,-1,-1]),s([73,20,30]),s([2,22,32]),s([0,-1,-1])]),s(["83",187,17,10,30387,s([21,126,24]),s([4,136,26]),s([0,-1,-1]),s([30,74,32]),s([6,73,30]),s([0,-1,-1]),s([54,35,30]),s([4,40,32]),s([0,-1,-1]),s([75,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["84",189,17,10,31091,s([30,105,20]),s([1,114,22]),s([0,-1,-1]),s([3,45,22]),s([55,47,20]),s([0,-1,-1]),s([2,26,26]),s([62,33,28]),s([0,-1,-1]),s([79,18,28]),s([4,33,30]),s([0,-1,-1])])]),e.eclval=c(e.eclevel,1)-49;for(var B=e.metrics,I=0,D=B.length;I<D;I++){e.m=c(B,I),e.vers=c(e.m,0),e.size=c(e.m,1),e.alnk=c(e.m,2),e.alnn=c(e.m,3),e.alnr=S(e.size-e.alnk*e.alnn),e.nmod=c(e.m,4),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.ecbs=C(e.m,5+e.eclval*3,3);var T=e.ecbs;r[t++]="ecws",r[t++]=0;for(var R=0,$=T.length;R<$;R++){var _=c(T,R),F=r[--t];r[t++]=S(F+c(_,0)*c(_,2))}var Q=r[--t];if(e[r[--t]]=Q,e.dcws=S(e.ncws-e.ecws),e.dmod=e.dcws*8,e.okay=!0,_e(e.version,"unset")&&_e(e.version,e.vers)&&(e.okay=!1),e.bits.length>e.dmod&&(e.okay=!1),e.okay)break}e.okay||(r[t++]="bwipp.hanxinNoValidSymbol#25749",r[t++]="Maximum length exceeded or invalid content",z()),e.version=e.vers,e.msgbits=e.bits,e.e1nb=c(c(e.ecbs,0),0),e.e2nb=c(c(e.ecbs,1),0),e.e3nb=c(c(e.ecbs,2),0),e.e1dcws=c(c(e.ecbs,0),1),e.e2dcws=c(c(e.ecbs,1),1),e.e3dcws=c(c(e.ecbs,2),1),e.e1ecws=c(c(e.ecbs,0),2),e.e2ecws=c(c(e.ecbs,1),2),e.e3ecws=c(c(e.ecbs,2),2),e.pad=J(e.dmod);for(var L=0,X=e.pad.length-1;L<=X;L+=1)b(e.pad,L,48);M(e.pad,0,e.msgbits),e.cws=s(e.dcws);for(var le=0,fe=e.cws.length-1;le<=fe;le+=1){e.c=le,e.cwb=C(e.pad,e.c*8,8),e.cw=0;for(var V=0;V<=7;V+=1)e.i=V,e.cw=S(e.cw+~~di(2,8-e.i-1)*(c(e.cwb,e.i)-48));b(e.cws,e.c,e.cw)}e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var Tt=0,Gt=e.rsgf-1;Tt<Gt;Tt++){var tr=r[t-1],br=tr*2;if(r[t++]=br,br>=e.rsgf){var ir=r[--t];r[t++]=ps(ir,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var Dr=1,or=e.rsgf-1;Dr<=or;Dr+=1)b(e.rslog,c(e.rsalog,Dr),Dr);e.rsprod=function(){var $a=r[t-1],$s=r[t-2];if($a!=0&&$s!=0){var _a=c(e.rslog,r[--t]),vs=c(e.rsalog,S(_a+c(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=vs}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var zt=0,yr=e.rsnc;zt<yr;zt++)r[t++]=0;e.coeffs=s();for(var ra=1,ha=e.rsnc;ra<=ha;ra+=1){e.i=ra,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var Aa=e.i-1;Aa>=1;Aa-=1){e.j=Aa,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Qr=r[--t],Ca=r[--t],ba=r[--t];b(r[--t],ba,ps(Ca,Qr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ma=r[--t],ca=r[--t];b(r[--t],ca,Ma)}e.nd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var ka=0,Ia=e.rsnc;ka<Ia;ka++)r[t++]=0;r[t++]=0,e.rscws=s();for(var ja=0,Qa=e.nd-1;ja<=Qa;ja+=1){e.k=ps(c(e.rscws,ja),c(e.rscws,e.nd));for(var Ha=0,Ka=e.rsnc-1;Ha<=Ka;Ha+=1){e.j=Ha,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=c(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=c(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var xs=r[--t],Ba=r[--t],Ts=r[--t];b(r[--t],Ts,ps(Ba,xs))}}r[t++]=C(e.rscws,0,e.rscws.length-1)},e.dcwsb=s(S(e.e1nb+e.e2nb+e.e3nb)),e.ecwsb=s(e.dcwsb.length),e.in=0,e.out=0;for(var H=0,se=e.e1nb;H<se;H++){r[t++]=C(e.cws,e.in,e.e1dcws),r[t++]=e.e1ecws,r[t++]=256,r[t++]=355,e.rscodes();var ue=r[--t];b(e.dcwsb,e.out,C(ue,0,e.e1dcws)),b(e.ecwsb,e.out,C(ue,e.e1dcws,e.e1ecws)),e.in=S(e.in+e.e1dcws),e.out=e.out+1}for(var U=0,W=e.e2nb;U<W;U++){r[t++]=C(e.cws,e.in,e.e2dcws),r[t++]=e.e2ecws,r[t++]=256,r[t++]=355,e.rscodes();var re=r[--t];b(e.dcwsb,e.out,C(re,0,e.e2dcws)),b(e.ecwsb,e.out,C(re,e.e2dcws,e.e2ecws)),e.in=S(e.in+e.e2dcws),e.out=e.out+1}for(var ie=0,be=e.e3nb;ie<be;ie++){r[t++]=C(e.cws,e.in,e.e3dcws),r[t++]=e.e3ecws,r[t++]=256,r[t++]=355,e.rscodes();var K=r[--t];b(e.dcwsb,e.out,C(K,0,e.e3dcws)),b(e.ecwsb,e.out,C(K,e.e3dcws,e.e3ecws)),e.in=S(e.in+e.e3dcws),e.out=e.out+1}e.cws=s(e.ncws),e.cw=0;for(var ke=0,je=e.dcwsb.length-1;ke<=je;ke+=1){e.i=ke;var Qe=c(e.dcwsb,e.i);M(e.cws,e.cw,Qe),e.cw=Qe.length+e.cw;var ze=c(e.ecwsb,e.i);M(e.cws,e.cw,ze),e.cw=ze.length+e.cw}r[t++]=1/0;var tt=e.ncws,Ze=12,Re=tt-1;if(tt-1>12){var He=Ze;Ze=Re,Re=He}for(var Ue=0,ye=Re;Ue<=ye;Ue+=1)for(var Ye=Ue,Ae=e.ncws-1;Ye<=Ae;Ye+=13)if(r[t++]=Ye,Ye<e.ncws){var Le=c(e.cws,r[--t]);r[t++]=Le}else t--;e.cws=s(),e.rbit>0&&(e.pad=s(e.cws.length+1),M(e.pad,0,e.cws),b(e.pad,e.pad.length-1,0),e.cws=e.pad);var he=c(e.options,"debugcws")!==void 0;he&&(r[t++]="bwipp.debugcws#25872",r[t++]=e.cws,z()),r[t++]=1/0;for(var Pe=0,Me=e.size*e.size;Pe<Me;Pe++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Tt=r[--t],Gt=r[--t];r[t++]=S(Gt+Tt*e.size)},e.alnn!=0){for(e.trmv=function(){var Tt=r[--t],Gt=r[--t];r[t++]=S(Tt*e.size+e.size-1-Gt)},e.aplot=function(){var Tt=r[t-2],Gt=r[t-3],tr=r[t-1];t-=3,r[t++]=tr,r[t++]=Gt,r[t++]=Tt,r[t++]=tr,r[t++]=Tt,r[t++]=Gt,e.trmv();var br=r[--t];r[t++]=e.pixs,r[t++]=br;var ir=r[t-3],Dr=r[t-1];b(r[t-2],Dr,ir),t-=3,e.trmv();var or=r[--t];r[t++]=e.pixs,r[t++]=or;var zt=r[t-3],yr=r[t-1];b(r[t-2],yr,zt),t-=3},e.i=0,e.stag=0;!(e.i>=e.size);){for(var $e=0,rt=e.size-1;$e<=rt;$e+=1)if(e.j=$e,S(e.j+e.alnr)<e.size?r[t++]=(~~(e.j/e.alnk)+e.stag)%2==0&&!(e.i==0&&e.j<e.alnk)||e.j%e.alnk==0:r[t++]=S(e.alnn+e.stag)%2==0,r[--t]){r[t++]=e.j,r[t++]=e.i,r[t++]=1,e.aplot();var pt=e.j,ut=e.i;r[t++]=pt+1,r[t++]=ut+1,ut+1<e.size&&pt+1<e.size?(r[t++]=0,e.aplot()):t-=2}S(e.i+e.alnr)==e.size?e.i=S(e.i+e.alnr)-1:e.i=S(e.i+e.alnk),e.stag=1-e.stag}for(var bt=e.alnk,It=e.alnk,St=e.size-2;It<0?bt>=St:bt<=St;bt+=It){if(e.i=bt,~~(e.i/e.alnk)%2!=0){r[t++]=e.pixs,r[t++]=0,r[t++]=e.i-1,e.trmv();var de=r[--t];b(r[--t],de,0),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i+1,e.trmv();var Ee=r[--t];b(r[--t],Ee,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i-1,e.trmv();var at=r[--t];b(r[--t],at,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.trmv();var ot=r[--t];b(r[--t],ot,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i+1,e.trmv();var Et=r[--t];b(r[--t],Et,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=0,e.trmv();var yt=r[--t];b(r[--t],yt,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=0,e.trmv();var P=r[--t];b(r[--t],P,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=1,e.trmv();var G=r[--t];b(r[--t],G,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=1,e.trmv();var q=r[--t];b(r[--t],q,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=1,e.trmv();var te=r[--t];b(r[--t],te,0)}r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var ce=r[--t];if(c(r[--t],ce)!=1){r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var ge=r[--t];b(r[--t],ge,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i-1,e.trmv();var ae=r[--t];b(r[--t],ae,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i,e.trmv();var Ce=r[--t];b(r[--t],Ce,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i+1,e.trmv();var Z=r[--t];b(r[--t],Z,0),r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i+1,e.trmv();var xe=r[--t];b(r[--t],xe,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-1,e.trmv();var me=r[--t];b(r[--t],me,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-2,e.trmv();var Ne=r[--t];b(r[--t],Ne,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.size-2,e.trmv();var oe=r[--t];b(r[--t],oe,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-2,e.trmv();var we=r[--t];b(r[--t],we,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-1,e.trmv();var Be=r[--t];b(r[--t],Be,0)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,0,0]),s([1,0,1,1,1,1,1,0]),s([1,0,1,0,0,0,0,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fpat2=s([s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([0,0,0,0,1,0,1,0]),s([1,1,1,1,1,0,1,0]),s([0,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]);for(var pe=0,Ie=e.fpat.length-1;pe<=Ie;pe+=1){e.y=pe;for(var Se=0,Te=c(e.fpat,0).length-1;Se<=Te;Se+=1){e.x=Se,e.fpb=c(c(e.fpat,e.y),e.x),e.fpb2=c(c(e.fpat2,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Ve=r[--t];b(r[--t],Ve,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=e.y,e.qmv();var qe=r[--t];b(r[--t],qe,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=S(e.size-e.y)-1,e.qmv();var et=r[--t];b(r[--t],et,e.fpb),r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.size-e.y)-1,e.qmv();var ct=r[--t];b(r[--t],ct,e.fpb2)}}e.functionmap=s([s([s([0,8]),s([e.size-1,e.size-9])]),s([s([1,8]),s([e.size-2,e.size-9])]),s([s([2,8]),s([e.size-3,e.size-9])]),s([s([3,8]),s([e.size-4,e.size-9])]),s([s([4,8]),s([e.size-5,e.size-9])]),s([s([5,8]),s([e.size-6,e.size-9])]),s([s([6,8]),s([e.size-7,e.size-9])]),s([s([7,8]),s([e.size-8,e.size-9])]),s([s([8,8]),s([e.size-9,e.size-9])]),s([s([8,7]),s([e.size-9,e.size-8])]),s([s([8,6]),s([e.size-9,e.size-7])]),s([s([8,5]),s([e.size-9,e.size-6])]),s([s([8,4]),s([e.size-9,e.size-5])]),s([s([8,3]),s([e.size-9,e.size-4])]),s([s([8,2]),s([e.size-9,e.size-3])]),s([s([8,1]),s([e.size-9,e.size-2])]),s([s([8,0]),s([e.size-9,e.size-1])]),s([s([e.size-9,0]),s([8,e.size-1])]),s([s([e.size-9,1]),s([8,e.size-2])]),s([s([e.size-9,2]),s([8,e.size-3])]),s([s([e.size-9,3]),s([8,e.size-4])]),s([s([e.size-9,4]),s([8,e.size-5])]),s([s([e.size-9,5]),s([8,e.size-6])]),s([s([e.size-9,6]),s([8,e.size-7])]),s([s([e.size-9,7]),s([8,e.size-8])]),s([s([e.size-9,8]),s([8,e.size-9])]),s([s([e.size-8,8]),s([7,e.size-9])]),s([s([e.size-7,8]),s([6,e.size-9])]),s([s([e.size-6,8]),s([5,e.size-9])]),s([s([e.size-5,8]),s([4,e.size-9])]),s([s([e.size-4,8]),s([3,e.size-9])]),s([s([e.size-3,8]),s([2,e.size-9])]),s([s([e.size-2,8]),s([1,e.size-9])]),s([s([e.size-1,8]),s([0,e.size-9])])]);for(var lt=e.functionmap,De=0,We=lt.length;De<We;De++)ve(c(lt,De),function(){O(r[--t]),e.qmv(),b(e.pixs,r[--t],0)});var Ke=s([function(){t-=2,r[t++]=1},function(){var Tt=r[--t],Gt=r[--t];r[t++]=S(Gt+Tt)%2},function(){var Tt=r[--t],Gt=r[--t];r[t++]=S((Tt+Gt)%3+Gt%3)%2},function(){var Tt=r[--t],Gt=r[--t];r[t++]=S(Gt%Tt+(Tt%Gt+(Tt%3+Gt%3)))%2}]);e.maskfuncs=Ke,e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var st=0,gt=e.masks.length-1;st<=gt;st+=1){e.m=st,e.mask=s(e.size*e.size);for(var wt=0,vt=e.size-1;wt<=vt;wt+=1){e.j=wt;for(var kt=0,dt=e.size-1;kt<=dt&&(e.i=kt,r[t++]=e.i+1,r[t++]=e.j+1,c(e.maskfuncs,e.m)()!==!0);kt+=1){var _t=r[--t];r[t++]=_t==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var nt=r[--t],Qt=c(r[--t],nt),Ht=r[--t],Ut=Ht&&Qt==-1?1:0;r[t++]=Ut,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var sr=r[t-3],Cr=r[t-1];b(r[t-2],Cr,sr),t-=3}}b(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.num=0;e.posy!=e.size;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var nr=r[--t];if(c(r[--t],nr)==-1){var gr=c(e.cws,~~(e.num/8)),ar=-(7-e.num%8);r[t++]=(ar<0?gr>>>-ar:gr<<ar)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Br=r[t-3],Zt=r[t-1];b(r[t-2],Zt,Br),t-=3,e.num=e.num+1}e.posx=e.posx+1,e.posx==e.size&&(e.posx=0,e.posy=e.posy+1)}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ve(e.scrle,function(){var ka=r[t-1];if(ka>=3){var Ia=r[--t],ja=S(r[--t]+Ia*4);r[t++]=ja,r[t++]=ja}t--});var Tt=r[--t];e[r[--t]]=Tt,e.scr3=0;for(var Gt=5,tr=e.scrle.length-1;Gt<=tr;Gt+=2)if(e.j=Gt,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var br=C(e.scrle,e.j-4,4),ir=0,Dr=br.length;ir<Dr;ir++)r[t++]=c(br,ir)==e.fact;var or=r[--t],zt=r[--t],yr=r[--t];r[--t]&&yr&&zt&&or&&(e.j==5||e.j+2>=e.scrle.length||c(e.scrle,e.j-5)>=3||c(e.scrle,e.j+1)>=3)&&(e.scr3=e.scr3+50)}for(var ra=1,ha=e.scrle.length-5;ra<=ha;ra+=2)if(e.j=ra,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var Aa=C(e.scrle,e.j+1,4),Qr=0,Ca=Aa.length;Qr<Ca;Qr++)r[t++]=c(Aa,Qr)==e.fact;var ba=r[--t],Ma=r[--t],ca=r[--t];r[--t]&&ca&&Ma&&ba&&(e.j==1||e.j+6>=e.scrle.length||c(e.scrle,e.j-1)>=3||c(e.scrle,e.j+5)>=3)&&(e.scr3=e.scr3+50)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n3=0,e.rle=s(e.size+1),e.lastpairs=s(e.size),e.thispairs=s(e.size),e.sizeadd1=e.size+1;for(var Tt=0,Gt=e.size-1;Tt<=Gt;Tt+=1){e.i=Tt,r[t++]=1/0;var tr=e.size;r[t++]=0,r[t++]=0;for(var br=e.i,ir=tr,Dr=tr*tr-1;ir<0?br>=Dr:br<=Dr;br+=ir){var or=c(e.sym,br),zt=r[--t];if(r[t++]=or,Y(zt,or)){var yr=r[--t],ra=r[--t];r[t++]=ra+1,r[t++]=yr}else{var ha=r[--t];r[t++]=1,r[t++]=ha}}t--;var Aa=va()+2;Yt(C(e.rle,0,Aa-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=C(e.sym,e.i*e.size,e.size),r[t++]=1/0;var Qr=e.symrow;r[t++]=0,r[t++]=0;for(var Ca=0,ba=Qr.length;Ca<ba;Ca++){var Ma=c(Qr,Ca),ca=r[--t];if(r[t++]=Ma,Y(ca,Ma)){var ka=r[--t],Ia=r[--t];r[t++]=Ia+1,r[t++]=ka}else{var ja=r[--t];r[t++]=1,r[t++]=ja}}t--;var Qa=va()+2;Yt(C(e.rle,0,Qa-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}r[t++]=S(e.n1+e.n3)},e.bestscore=999999999;for(var dr=0,Kt=e.masks.length-1;dr<=Kt;dr+=1){e.m=dr,e.masksym=s(e.size*e.size);for(var Jt=0,ur=e.size*e.size-1;Jt<=ur;Jt+=1)e.i=Jt,b(e.masksym,e.i,ps(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}e.pixs=e.bestsym,e.funval=((~~((e.size-21)/2)+20)*4+e.eclval)*4+e.bestmaskval,r[t++]=s([(e.funval&3840)>>>8,(e.funval&240)>>>4,e.funval&15]),r[t++]=4,r[t++]=16,r[t++]=19,e.rscodes(),e.funvals=r[--t],r[t++]=1/0,ve(e.funvals,function(){r[t++]=4,e.tobin(),ve(r[--t],function(){var Tt=r[--t];r[t++]=Tt-48})}),r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,e.funbits=s();for(var Tr=0,Fr=e.functionmap.length-1;Tr<=Fr;Tr+=1)e.i=Tr,ve(c(e.functionmap,e.i),function(){var Tt=r[--t];r[t++]=e.pixs,O(Tt),e.qmv();var Gt=r[--t];b(r[--t],Gt,c(e.funbits,e.i))});var fa=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=fa,e.dontdraw||At(),e=a}function Gw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.ratio=-1,e.parse=!1,e.parsefnc=!1,e.raw=!1,e.fast=!1,e.mask=-1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.rows!=-1&&e.rows<5&&(r[t++]="bwipp.dotcodeBadRows#26228",r[t++]="There must be at least 5 rows",z()),e.columns!=-1&&e.columns<5&&(r[t++]="bwipp.dotcodeBadColumns#26234",r[t++]="There must be at least 5 columns",z()),e.rows!=-1&&e.columns!=-1&&(e.rows+e.columns)%2!=1&&(r[t++]="bwipp.dotcodeRowsColumnsBadParity#26239",r[t++]="Sum of rows and columns must be odd",z()),e.ratio==-1&&e.rows==-1&&e.columns==-1&&(e.ratio=3/2),e.ratio!=-1&&e.ratio<=0&&(r[t++]="bwipp.dotcodeRatio#26248",r[t++]="The ratio must be greater than 0",z()),e.mask!=-1&&(e.mask<0||e.mask>3)&&(r[t++]="bwipp.dotcodeBadMask#26254",r[t++]="Valid mask values are 0 to 3",z()),e.laa=-1,e.lab=-2,e.lac=-3,e.bin=-4,e.sfa=-5,e.sfb=-6,e.sb2=-7,e.sb3=-8,e.sb4=-9,e.sb5=-10,e.sb6=-11,e.sfc=-12,e.sc2=-13,e.sc3=-14,e.sc4=-15,e.sc5=-16,e.sc6=-17,e.sc7=-18,e.bsa=-19,e.bsb=-20,e.tma=-21,e.tmb=-22,e.tmc=-23,e.tms=-24,e.fn1=-25,e.fn2=-26,e.fn3=-27,e.crl=-28,e.aim=-29,e.m05=-30,e.m06=-31,e.m12=-32,e.mac=-33;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,e.msglen=e.msg.length;var o=e.msg;r[t++]="numecis",r[t++]=0;for(var d=0,u=o.length;d<u;d++)if(c(o,d)<=-1e6){var f=r[--t];r[t++]=f+1}var h=r[--t];e[r[--t]]=h,e.msgtmp=s(S(e.msg.length+e.numecis*6)),e.j=0;for(var p=0,m=e.msg.length-1;p<=m;p+=1){var x=c(e.msg,p);if(r[t++]=x,x<=-1e6){for(var y=C($t(J(7),-r[--t],10),1,6),w=0,v=y.length;w<v;w++)r[t++]=c(y,w);Yt(s(6)),M(e.msgtmp,e.j+1,r[--t]),b(e.msgtmp,e.j,e.fn2),e.j=e.j+7}else b(e.msgtmp,e.j,r[--t]),e.j=e.j+1}e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.sfb,e.crl,"96"]),s([e.sb2,9,"97"]),s([e.sb3,28,"98"]),s([e.sb4,29,"99"]),s([e.sb5,30,e.aim]),s([e.sb6,e.sfa,e.laa]),s([e.lab,e.laa,e.sfb]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3]),s([e.sc4,e.sc4,e.sb4]),s([e.lac,e.lac,e.lab]),s([e.fn1,e.fn1,e.fn1]),s([e.fn2,e.fn2,e.fn2]),s([e.fn3,e.fn3,e.fn3]),s([e.bsa,e.bsa,e.bsa]),s([e.bsb,e.bsb,e.bsb]),s([e.bin,e.bin,e.bin])]),e.charvals=s([new Map,new Map,new Map]);for(var g=0,A=e.charmaps.length-1;g<=A;g+=1){e.i=g,e.encs=c(e.charmaps,e.i);for(var k=0;k<=2;k+=1){e.j=k;var E=c(e.encs,e.j);if(r[t++]=E,Y(an(E),"stringtype")){var j=c(r[--t],0);r[t++]=j}b(c(e.charvals,e.j),r[--t],e.i)}}e.Avals=c(e.charvals,0),e.Bvals=c(e.charvals,1),b(e.Bvals,e.m05,97),b(e.Bvals,e.m06,98),b(e.Bvals,e.m12,99),b(e.Bvals,e.mac,100),e.Cvals=c(e.charvals,2),r[t++]=1/0;var N=s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7,e.tma,e.tmb,e.tmc,e.tms]);r[t++]=102;for(var B=0,I=N.length;B<I;B++){var D=r[--t]+1;r[t++]=c(N,B),r[t++]=D,r[t++]=D}t--,e.BINvals=Ge(),e.A=0,e.B=1,e.C=2,e.BIN=3,r[t++]=1/0;for(var T=0,R=e.msglen+1;T<R;T++)r[t++]=0;e.nDigits=s(),r[t++]=1/0;for(var $=0,_=e.msglen+1;$<_;$++)r[t++]=!1;e.SeventeenTen=s(),r[t++]=1/0;for(var F=0,Q=e.msglen+1;F<Q;F++)r[t++]=!1;e.ECI=s(),r[t++]=1/0;for(var L=0,X=e.msglen+1;L<X;L++)r[t++]=!1;e.DatumA=s(),r[t++]=1/0;for(var le=0,fe=e.msglen+1;le<fe;le++)r[t++]=!1;e.DatumB=s(),r[t++]=1/0;for(var V=0,H=e.msglen+1;V<H;V++)r[t++]=!1;e.DatumC=s(),r[t++]=1/0;for(var se=0,ue=e.msglen+8;se<ue;se++)r[t++]=!1;e.Binary=s(),r[t++]=1/0;for(var U=0,W=e.msglen+1;U<W;U++)r[t++]=0;e.AheadC=s(),r[t++]=1/0;for(var re=0,ie=e.msglen+1;re<ie;re++)r[t++]=0;e.TryC=s(),r[t++]=1/0;for(var be=0,K=e.msglen+1;be<K;be++)r[t++]=0;e.AheadA=s(),r[t++]=1/0;for(var ke=0,je=e.msglen+1;ke<je;ke++)r[t++]=0;e.AheadB=s(),r[t++]=1/0;for(var Qe=0,ze=e.msglen+1;Qe<ze;Qe++)r[t++]=0;e.UntilEndSeg=s();for(var tt=e.msglen-1;tt>=0;tt-=1){e.i=tt,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&b(e.nDigits,e.i,c(e.nDigits,e.i+1)+1);var Ze=c(e.Avals,e.barchar)!==void 0;Ze&&b(e.DatumA,e.i,!0);var Re=c(e.Bvals,e.barchar)!==void 0;if(Re&&b(e.DatumB,e.i,!0),e.CRLF=!1,e.barchar==13&&e.i<e.msglen-1&&c(e.msg,e.i+1)==10&&(e.CRLF=!0),e.CRLF&&b(e.DatumB,e.i,!0),c(e.nDigits,e.i)>=2&&b(e.DatumC,e.i,!0),e.barchar<0&&b(e.DatumC,e.i,!0),e.barchar>=128&&b(e.Binary,e.i,!0),c(e.nDigits,e.i)>=10){r[t++]=1/0,O(C(e.msg,e.i,10));for(var He=0;He<1;He++){if(r[--t]!=48){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}if(t-=6,r[--t]!=55){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}r[t++]=!0}r[t++]=e.SeventeenTen,r[t++]=e.i;var Ue=r[t-3],ye=r[t-1];b(r[t-2],ye,Ue),t-=3,rl()}if(c(e.nDigits,e.i+1)>=6&&c(e.msg,e.i)==e.fn2&&b(e.ECI,e.i,!0),e.barchar<0&&e.barchar!=e.fn3?b(e.AheadC,e.i,c(e.AheadC,e.i+1)+1):c(e.nDigits,e.i)<=1?b(e.AheadC,e.i,0):b(e.AheadC,e.i,c(e.AheadC,e.i+2)+1),c(e.nDigits,e.i)>0&&T1(c(e.AheadC,e.i),c(e.AheadC,e.i+1))&&b(e.TryC,e.i,c(e.AheadC,e.i)),c(e.DatumA,e.i)&&c(e.TryC,e.i)<2&&e.barchar!=e.fn3&&b(e.AheadA,e.i,c(e.AheadA,e.i+1)+1),c(e.DatumB,e.i)&&c(e.TryC,e.i)<2&&e.barchar!=e.fn3){if(r[t++]=e.AheadB,r[t++]=e.i,r[t++]=e.AheadB,r[t++]=e.i+1,e.CRLF){var Ye=r[--t];r[t++]=Ye+1}var Ae=r[--t],Le=c(r[--t],Ae),he=r[--t];b(r[--t],he,Le+1)}e.barchar!=e.fn3&&b(e.UntilEndSeg,e.i,c(e.UntilEndSeg,e.i+1)+1)}for(e.addtocws=function(){var xe=r[--t];M(e.cws,e.j,xe),e.j=xe.length+e.j},e.base259to103=function(){e.in=r[--t],e.inlen=e.in.length,r[t++]=1/0;for(var xe=0,me=5-e.inlen;xe<me;xe++)r[t++]=0;O(e.in),e.in=s(),e.out=s(6),r[t++]=1/0,O(C(e.in,0,2)),e.msbs=s(),r[t++]=1/0,O(e.msbs);var Ne=r[--t],oe=r[--t];r[t++]=S(Ne+oe*259);for(var we=0;we<2;we++){var Be=r[--t];r[t++]=Be%103,r[t++]=~~(Be/103)}e.mscs=s(),r[t++]=1/0,O(C(e.in,2,3)),e.lsbs=s(),r[t++]=1/0,O(e.lsbs);var pe=r[--t],Ie=r[--t],Se=r[--t];r[t++]=S(pe+Ie*259+Se*67081);for(var Te=0;Te<3;Te++){var Ve=r[--t];r[t++]=Ve%103,r[t++]=~~(Ve/103)}e.lscs=s();var qe=c(e.lscs,0),et=c(e.mscs,0);b(e.out,5,S(qe+et*42)%103);var ct=c(e.lscs,1),lt=c(e.mscs,0),De=c(e.mscs,1);b(e.out,4,S(~~((qe+et*42)/103)+ct+lt*68+De*42)%103);var We=c(e.lscs,2),Ke=c(e.mscs,0),st=c(e.mscs,1),gt=c(e.mscs,2);b(e.out,3,S(~~((~~((qe+et*42)/103)+ct+lt*68+De*42)/103)+We+Ke*92+st*68+gt*42)%103);var wt=c(e.lscs,3),vt=c(e.mscs,0),kt=c(e.mscs,1),dt=c(e.mscs,2);b(e.out,2,S(~~((~~((~~((qe+et*42)/103)+ct+lt*68+De*42)/103)+We+Ke*92+st*68+gt*42)/103)+wt+vt*15+kt*92+dt*68)%103);var _t=c(e.mscs,1),nt=c(e.mscs,2);b(e.out,1,S(~~((~~((~~((~~((qe+et*42)/103)+ct+lt*68+De*42)/103)+We+Ke*92+st*68+gt*42)/103)+wt+vt*15+kt*92+dt*68)/103)+_t*15+nt*92)%103),b(e.out,0,S(~~((~~((~~((~~((~~((qe+et*42)/103)+ct+lt*68+De*42)/103)+We+Ke*92+st*68+gt*42)/103)+wt+vt*15+kt*92+dt*68)/103)+_t*15+nt*92)/103)+c(e.mscs,2)*15)%103),r[t++]=C(e.out,6-e.inlen-1,e.inlen+1)},e.finaliseBIN=function(){e.bpos!=0&&(r[t++]=C(e.bvals,0,e.bpos),e.base259to103(),O(r[--t]),e.bpos=0)},e.addtobin=function(){b(e.bvals,e.bpos,r[--t]),e.bpos=e.bpos+1,e.bpos==5&&e.finaliseBIN()},e.ECIabc=function(){var xe=C(e.msg,e.i+1,6);r[t++]=0;for(var me=0,Ne=xe.length;me<Ne;me++){var oe=r[--t];r[t++]=S(oe+(c(xe,me)-48))*10}var we=~~(r[--t]/10);if(r[t++]=we,we>=40){var Be=r[--t]-40,pe=Be%12769;r[t++]=~~(Be/12769)+40,r[t++]=~~(pe/113),r[t++]=pe%113}},e.ECIbin=function(){r[t++]=1/0;var xe=C(e.msg,e.i+1,6);r[t++]=0;for(var me=0,Ne=xe.length;me<Ne;me++){var oe=r[--t];r[t++]=S(oe+(c(xe,me)-48))*10}var we=~~(r[--t]/10);if(r[t++]=we,we>=65536){var Be=r[--t],pe=Be%65536;r[t++]=258,r[t++]=~~(Be/65536),r[t++]=~~(pe/256),r[t++]=pe%256}else{var Ie=r[t-1];if(Ie>=256){var Se=r[--t];r[t++]=257,r[t++]=~~(Se/256),r[t++]=Se%256}else{var Te=r[--t];r[t++]=256,r[t++]=Te}}for(var Ve=s(),qe=0,et=Ve.length;qe<et;qe++)r[t++]=c(Ve,qe),e.addtobin()},e.encC=function(){for(var xe=0;xe<1;xe++){if(e.i==e.segstart){for(var me=0;me<1;me++){if(e.i>e.segend-7){r[t++]=0;break}if(c(e.msg,e.segstart)!=91){r[t++]=0;break}if(c(e.msg,e.segstart+1)!=41){r[t++]=0;break}if(c(e.msg,e.segstart+2)!=62){r[t++]=0;break}if(c(e.msg,e.segstart+3)!=30){r[t++]=0;break}var Ne=c(e.msg,e.segstart+4);if(Ne<48||Ne>57){r[t++]=0;break}var oe=c(e.msg,e.segstart+5);if(oe<48||oe>57){r[t++]=0;break}if(c(e.msg,e.segend-1)!=4){r[t++]=0;break}var we=S((c(e.msg,e.segstart+4)-48)*10+(c(e.msg,e.segstart+5)-48));if(r[t++]=we,we!=5&&we!=6&&we!=12){r[t-1]=e.mac;break}if(c(e.msg,e.segstart+6)!=29){r[t-1]=0;break}if(c(e.msg,e.segend-2)!=30){r[t-1]=0;break}var Be=r[t-1];if(Be==5){r[t-1]=e.m05;break}if(r[--t]==6){r[t++]=e.m06;break}r[t++]=e.m12;break}if(e.inmac=r[--t],e.inmac!=0){r[t++]=s([c(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B,r[t++]=s([c(e.Bvals,e.inmac)]),e.addtocws(),e.inmac==e.mac?(r[t++]=s([c(e.Bvals,c(e.msg,e.segstart+4))]),e.addtocws(),r[t++]=s([c(e.Bvals,c(e.msg,e.segstart+5))]),e.addtocws(),e.i=e.i+6):e.i=e.i+7;break}}if(e.i==e.segstart&&(c(e.nDigits,e.i)>=2&&(r[t++]=s([c(e.Cvals,e.fn1)]),e.addtocws()),c(e.msg,e.i)==e.fn1&&c(e.nDigits,e.i+1)>=2&&(e.i=e.i+1)),c(e.SeventeenTen,e.i)){r[t++]=s([c(e.Cvals,e.aim),S((c(e.msg,e.i+2)-48)*10+(c(e.msg,e.i+3)-48)),S((c(e.msg,e.i+4)-48)*10+(c(e.msg,e.i+5)-48)),S((c(e.msg,e.i+6)-48)*10+(c(e.msg,e.i+7)-48))]),e.addtocws(),e.i=e.i+10;break}if(c(e.DatumC,e.i)){var pe=c(e.msg,e.i);if(pe==e.fn1||pe==e.fn2||pe==e.fn3){if(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var Ie=s();r[t++]=Ie,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.segstart!=e.i){e.i=e.i+1,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2;break}if(c(e.Binary,e.i)){if(c(e.nDigits,e.i+1)>0){c(e.msg,e.i)<160?(r[t++]=s([c(e.Cvals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Cvals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Cvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.m=c(e.AheadA,e.i),e.n=c(e.AheadB,e.i),T1(e.m,e.n)){r[t++]=s([c(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}if(e.i==e.segstart){var Se=c(e.msg,e.i);if(Se==9||Se==28||Se==29||Se==30){r[t++]=s([c(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}}if(e.n>4){r[t++]=s([c(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([c(e.Cvals,c(s([e.sfb,e.sb2,e.sb3,e.sb4]),e.n-1))]),e.addtocws();for(var Te=0,Ve=e.n;Te<Ve;Te++)c(e.msg,e.i)==13?(r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encB=function(){for(var xe=0;xe<1;xe++){if(e.n=c(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([c(e.Bvals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.Bvals,c(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,Ne=e.n;me<Ne;me++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.DatumB,e.i)){var oe=c(e.msg,e.i);if(oe==e.fn1||oe==e.fn2||oe==e.fn3){if(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var we=s();r[t++]=we,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}if(c(e.msg,e.i)==13&&e.i<e.msglen-1&&c(e.msg,e.i+1)==10){r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2;break}r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(c(e.Binary,e.i)){if(c(e.DatumB,e.i+1)){c(e.msg,e.i)<160?(r[t++]=s([c(e.Bvals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Bvals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Bvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(c(e.AheadA,e.i)==1){r[t++]=s([c(e.Bvals,e.sfa),c(e.Avals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}r[t++]=s([c(e.Bvals,e.laa)]),e.addtocws(),e.mode=e.A;break}},e.encA=function(){for(var xe=0;xe<1;xe++){if(e.n=c(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([c(e.Avals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.Avals,c(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,Ne=e.n;me<Ne;me++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.DatumA,e.i)){var oe=c(e.msg,e.i);if(oe==e.fn1||oe==e.fn2||oe==e.fn3){if(r[t++]=s([c(e.Avals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var we=s();r[t++]=we,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([c(e.Avals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(c(e.Binary,e.i)){if(c(e.DatumA,e.i+1)){c(e.msg,e.i)<160?(r[t++]=s([c(e.Avals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Avals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Avals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.n=c(e.AheadB,e.i),e.n>6){r[t++]=s([c(e.Avals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([c(e.Avals,c(s([e.sfb,e.sb2,e.sb3,e.sb4,e.sb5,e.sb6]),e.n-1))]),e.addtocws();for(var Be=0,pe=e.n;Be<pe;Be++)c(e.msg,e.i)==13?(r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encBIN=function(){for(var xe=0;xe<1;xe++){if(e.n=c(e.TryC,e.i),e.n>=2){r[t++]=1/0,e.finaliseBIN();var me=s();if(r[t++]=me,e.addtocws(),e.n>7){r[t++]=s([c(e.BINvals,e.tmc)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.BINvals,c(s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7]),e.n-2))]),e.addtocws();for(var Ne=0,oe=e.n;Ne<oe;Ne++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.ECI,e.i)&&c(e.Binary,e.i+7)){r[t++]=1/0,e.ECIbin();var we=s();if(r[t++]=we,e.addtocws(),e.i=e.i+7,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Be=s();r[t++]=Be,e.addtocws()}break}if(c(e.msg,e.i)>=0&&(c(e.Binary,e.i)||c(e.Binary,e.i+1)||c(e.Binary,e.i+2)||c(e.Binary,e.i+3)||c(e.ECI,e.i+1)&&c(e.Binary,e.i+8))){r[t++]=1/0,r[t++]=c(e.msg,e.i),e.addtobin();var pe=s();if(r[t++]=pe,e.addtocws(),e.i=e.i+1,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Ie=s();r[t++]=Ie,e.addtocws()}break}r[t++]=1/0,e.finaliseBIN();var Se=s();if(r[t++]=Se,e.addtocws(),e.i!=e.msglen-1){if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){r[t++]=s([c(e.BINvals,e.tms)]),e.addtocws(),e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}T1(c(e.AheadA,e.i),c(e.AheadB,e.i))?(r[t++]=s([c(e.BINvals,e.tma)]),e.addtocws(),e.mode=e.A):(r[t++]=s([c(e.BINvals,e.tmb)]),e.addtocws(),e.mode=e.B);break}break}},e.cws=s(e.msglen*2+1),e.mode=e.C,e.bvals=s(5),e.bpos=0,e.inmac=0,e.segstart=0,e.segend=c(e.UntilEndSeg,0),e.i=0,e.j=0;!(e.i>=e.msglen||e.inmac!=0&&(e.inmac!=e.mac&&e.i==e.segend-2&&(e.i=e.i+2,e.i>=e.msglen)||e.inmac==e.mac&&e.i==e.segend-1&&(e.i=e.i+1,e.i>=e.msglen))||e[c(s(["encA","encB","encC","encBIN"]),e.mode)]()===!0););if(e.cws=C(e.cws,0,e.j),e.nd=e.cws.length,e.minarea=((e.nd+3+~~(e.nd/2))*9+2)*2,e.ratio!=-1)e.hgt=uu(e.minarea/e.ratio),e.wid=uu(e.minarea*e.ratio),e.h=~~e.hgt,e.w=~~e.wid,(e.h+e.w)%2==1?e.h*e.w<e.minarea&&(e.h=e.h+1,e.w=e.w+1):e.hgt*e.w<e.wid*e.h?(e.w=e.w+1,e.h*e.w<e.minarea&&(e.w=e.w-1,e.h=e.h+1,e.h*e.w<e.minarea&&(e.w=e.w+2))):(e.h=e.h+1,e.h*e.w<e.minarea&&(e.h=e.h-1,e.w=e.w+1,e.h*e.w<e.minarea&&(e.h=e.h+2))),e.rows=e.h,e.columns=e.w;else{if(e.columns==-1){var Pe=~~((e.minarea+e.rows-1)/e.rows);if(r[t++]="columns",r[t++]=Pe,(Pe+e.rows)%2==0){var Me=r[--t];r[t++]=Me+1}var $e=r[--t];e[r[--t]]=$e}if(e.rows==-1){var rt=~~((e.minarea+e.columns-1)/e.columns);if(r[t++]="rows",r[t++]=rt,(rt+e.columns)%2==0){var pt=r[--t];r[t++]=pt+1}var ut=r[--t];e[r[--t]]=ut}}for(e.ndots=~~(e.rows*e.columns/2);;){var bt=e.nd+1;if((bt+(~~(bt/2)+3))*9+2>e.ndots)break;e.nd=e.nd+1}if(e.nc=~~(e.nd/2)+3,e.nw=e.nd+e.nc,e.rembits=e.ndots-(e.nw*9+2),e.nd>e.cws.length){r[t++]=1/0,O(e.cws);var It=e.mode==e.BIN?109:106;r[t++]=It;for(var St=0,de=e.nd-e.cws.length-1;St<de;St++)r[t++]=106;e.cws=s()}var Ee=c(e.options,"debugcws")!==void 0;Ee&&(r[t++]="bwipp.debugcws#26927",r[t++]=e.cws,z()),e.nw*9>e.ndots-2&&(r[t++]="bwipp.dotcodeTooLong#26931",r[t++]="Maximum length exceeded",z()),e.encs=s(["101010101","010101011","010101101","010110101","011010101","101010110","101011010","101101010","110101010","010101110","010110110","010111010","011010110","011011010","011101010","100101011","100101101","100110101","101001011","101001101","101010011","101011001","101100101","101101001","110010101","110100101","110101001","001010111","001011011","001011101","001101011","001101101","001110101","010010111","010011011","010011101","010100111","010110011","010111001","011001011","011001101","011010011","011011001","011100101","011101001","100101110","100110110","100111010","101001110","101011100","101100110","101101100","101110010","101110100","110010110","110011010","110100110","110101100","110110010","110110100","111001010","111010010","111010100","001011110","001101110","001110110","001111010","010011110","010111100","011001110","011011100","011100110","011101100","011110010","011110100","100010111","100011011","100011101","100100111","100110011","100111001","101000111","101100011","101110001","110001011","110001101","110010011","110011001","110100011","110110001","111000101","111001001","111010001","000101111","000110111","000111011","000111101","001001111","001100111","001110011","001111001","010001111","011000111","011100011","011110001","100011110","100111100","101111000","110001110","110011100","110111000","111000110","111001100"]),e.rows%2==0?e.sixedges=s([s([e.columns-1,e.rows-2]),s([0,e.rows-2]),s([e.columns-2,e.rows-1]),s([1,e.rows-1]),s([e.columns-1,0]),s([0,0])]):e.sixedges=s([s([e.columns-2,0]),s([e.columns-2,e.rows-1]),s([e.columns-1,1]),s([e.columns-1,e.rows-2]),s([0,0]),s([0,e.rows-1])]),e.dmv=function(){var xe=r[--t],me=r[--t];r[t++]=S(me+xe*e.columns)},e.outline=s(e.rows*e.columns);for(var at=0,ot=e.rows-1;at<=ot;at+=1){e.y=at;for(var Et=0,yt=e.columns-1;Et<=yt;Et+=1){e.x=Et,r[t++]=e.outline,r[t++]=e.x,r[t++]=e.y,e.dmv();var P=r[--t];b(r[--t],P,(e.x+e.y)%2-1)}}for(var G=e.sixedges,q=0,te=G.length;q<te;q++){r[t++]=e.outline,O(c(G,q)),e.dmv();var ce=r[--t];b(r[--t],ce,1)}e.clearcol=function(){e.x=r[--t],r[t++]=!0;for(var xe=e.x&1,me=e.rows-1;xe<=me;xe+=2)if(r[t++]=e.x,r[t++]=xe,e.dmv(),c(e.sym,r[--t])==1){r[t-1]=!1;break}},e.clearrow=function(){e.y=r[--t],r[t++]=!0;for(var xe=e.y&1,me=e.columns-1;xe<=me;xe+=2)if(r[t++]=xe,r[t++]=e.y,e.dmv(),c(e.sym,r[--t])==1){r[t-1]=!1;break}},e.evalsymbol=function(){e.sym=r[--t],e.worst=9999999;for(var xe=s([s(["x",0]),s(["x",1]),s(["y",0]),s(["y",1])]),me=0,Ne=xe.length;me<Ne;me++){O(c(xe,me)),e.fl=r[--t],e.dir=r[--t],e.sum=0,e.first=-1,e.last=-1;for(var oe=Y(e.dir,"x")?e.columns:e.rows,we=0,Be=oe-1;we<=Be;we+=1){e[e.dir]=we;var pe=e.sym,Ie=e[e.dir],Se=Y(e.dir,"x")?e.rows:e.columns,Te=(Se-1)*e.fl;if(Y(e.dir,"y")){var Ve=Te;Te=Ie,Ie=Ve}r[t++]=pe,r[t++]=Ie,r[t++]=Te,e.dmv();var qe=r[--t];c(r[--t],qe)==1&&(e.first==-1&&(e.first=e[e.dir]),e.last=e[e.dir],e.sum=e.sum+1)}var et=Y(e.dir,"x")?e.rows:e.columns,ct=S(e.sum+e.last-e.first)*et;r[t++]=ct,ct<e.worst?e.worst=r[--t]:t--}if(e.pen=0,e.rows%2==1||e.rows<=12){e.sum=0,e.p=0;for(var lt=1,De=e.columns-2;lt<=De;lt+=1)if(r[t++]=lt,e.clearcol(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.rows:r[t++]=e.p*e.rows;var We=r[--t];e[r[--t]]=We}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}if(e.rows%2==0||e.columns<=12){e.sum=0,e.p=0;for(var Ke=1,st=e.rows-2;Ke<=st;Ke+=1)if(r[t++]=Ke,e.clearrow(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.columns:r[t++]=e.p*e.columns;var gt=r[--t];e[r[--t]]=gt}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}r[t++]=1/0;for(var wt=0,vt=(e.columns+4)*2;wt<vt;wt++)r[t++]=0;for(var kt=0,dt=e.columns,_t=e.sym.length-1;dt<0?kt>=_t:kt<=_t;kt+=dt)r[t++]=0,r[t++]=0,O(C(e.sym,kt,e.columns)),r[t++]=0,r[t++]=0;for(var nt=0,Qt=(e.columns+4)*2;nt<Qt;nt++)r[t++]=0;e.symp=s(),e.columns=e.columns+4,e.rows=e.rows+4,e.sum=0;for(var Ht=2,Ut=e.rows-3;Ht<=Ut;Ht+=1){e.y=Ht;for(var sr=(e.y&1)+2,Cr=e.columns-3;sr<=Cr;sr+=2){e.x=sr;for(var nr=0;nr<1;nr++){r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y-1,e.dmv();var gr=r[--t];if(c(r[--t],gr)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y-1,e.dmv();var ar=r[--t];if(c(r[--t],ar)==1)break;r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y+1,e.dmv();var Br=r[--t];if(c(r[--t],Br)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y+1,e.dmv();var Zt=r[--t];if(c(r[--t],Zt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y,e.dmv();var dr=r[--t];if(c(r[--t],dr)==0){e.sum=e.sum+1;break}r[t++]=e.symp,r[t++]=e.x-2,r[t++]=e.y,e.dmv();var Kt=r[--t];if(c(r[--t],Kt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y-2,e.dmv();var Jt=r[--t];if(c(r[--t],Jt)==1)break;r[t++]=e.symp,r[t++]=e.x+2,r[t++]=e.y,e.dmv();var ur=r[--t];if(c(r[--t],ur)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y+2,e.dmv();var Tr=r[--t];if(c(r[--t],Tr)==1)break;e.sum=e.sum+1}}}e.columns=e.columns-4,e.rows=e.rows-4,e.worst==0?r[t++]=-99999:r[t++]=S(e.worst-e.sum*e.sum-e.pen)},r[t++]=1/0,r[t++]=1;for(var ge=0;ge<112;ge++){var ae=r[t-1];r[t++]=ae*3%113}e.rsalog=s(),e.step=~~(e.nw/112)+1,e.offset=function(){var xe=r[--t];r[t++]=S(xe*e.step+e.start)},e.bestscore=-99999999,r[t++]="masks",e.mask!=-1?r[t++]=s([e.mask]):e.fast?r[t++]=s([3,2,1,0]):r[t++]=s([0,1,2,3]);var Ce=r[--t];e[r[--t]]=Ce,e.litmasks=s(4),ve(e.masks,function(){e.mask=r[--t],r[t++]=1/0;var xe=e.cws;r[t++]=e.mask,r[t++]=c(s([0,3,7,17]),e.mask),r[t++]=0;for(var me=0,Ne=xe.length;me<Ne;me++){var oe=r[--t],we=r[--t];r[t++]=S(c(xe,me)+oe)%113,r[t++]=we,r[t++]=S(oe+we)}t-=2;for(var Be=0,pe=e.nc;Be<pe;Be++)r[t++]=0;e.rscws=s();for(var Ie=0,Se=e.step-1;Ie<=Se;Ie+=1){e.start=Ie,e.ND=~~((e.nd+1-e.start+e.step-1)/e.step),e.NW=~~((e.nw+1-e.start+e.step-1)/e.step),e.NC=e.NW-e.ND,r[t++]=1/0,r[t++]=1;for(var Te=0,Ve=e.NC;Te<Ve;Te++)r[t++]=0;e.coeffs=s();for(var qe=1,et=e.NC;qe<=et;qe+=1){e.i=qe;for(var ct=e.NC;ct>=1;ct-=1)e.j=ct,b(e.coeffs,e.j,S(c(e.coeffs,e.j)+113-c(e.rsalog,e.i)*c(e.coeffs,e.j-1)%113)%113)}for(var lt=0,De=e.ND-1;lt<=De;lt+=1){r[t++]="t",r[t++]=e.rscws,r[t++]=lt,e.offset();var We=r[--t],Ke=c(r[--t],We);r[t++]=Ke,r[t++]=e.rscws,r[t++]=e.ND,e.offset();var st=r[--t],gt=c(r[--t],st),wt=r[--t];e[r[--t]]=S(wt+gt)%113;for(var vt=0,kt=e.NC-2;vt<=kt;vt+=1){e.j=vt,r[t++]=e.rscws,r[t++]=e.ND+e.j,e.offset(),r[t++]=e.rscws,r[t++]=e.ND+e.j+1,e.offset();var dt=r[--t],_t=c(r[--t],dt),nt=r[--t];b(r[--t],nt,S(_t+113-e.t*c(e.coeffs,e.j+1)%113)%113)}r[t++]=e.rscws,r[t++]=e.ND+e.NC-1,e.offset();var Qt=r[--t];b(r[--t],Qt,(113-e.t*c(e.coeffs,e.NC)%113)%113)}for(var Ht=e.ND,Ut=e.NW-1;Ht<=Ut;Ht+=1){r[t++]=Ht,r[t++]=e.rscws,r[t++]=Ht,e.offset(),r[t++]=113,r[t++]=e.rscws,Sa(5,-1),e.offset();var sr=r[--t],Cr=c(r[--t],sr),nr=r[--t],gr=r[--t];b(r[--t],gr,S(nr-Cr)%113)}}e.bits=J(e.ndots),M(e.bits,0,c(s(["00","01","10","11"]),e.mask));for(var ar=1,Br=e.nw;ar<=Br;ar+=1)e.i=ar,M(e.bits,(e.i-1)*9+2,c(e.encs,c(e.rscws,e.i)));e.rembits>0&&M(e.bits,e.nw*9+2,C("11111111111111111",0,e.rembits));var Zt=e.outline;e.pixs=uc(s(Zt.length),Zt),e.posx=0,r[t++]="posy",e.rows%2==0?r[t++]=0:r[t++]=e.rows-1;var dr=r[--t];e[r[--t]]=dr;for(var Kt=C(e.bits,0,e.bits.length-6),Jt=0,ur=Kt.length;Jt<ur;Jt++){for(r[t++]=c(Kt,Jt);;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Tr=r[--t];if(c(r[--t],Tr)==-1)break;e.rows%2==0?(e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)):(e.posx=e.posx+1,e.posx==e.columns&&(e.posx=0,e.posy=e.posy-1))}r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Fr=r[t-3],fa=r[t-1];b(r[t-2],fa,Fr-48),t-=3}for(var Tt=0;Tt<=5;Tt+=1){e.i=Tt,r[t++]=e.pixs,O(c(e.sixedges,e.i)),e.dmv();var Gt=r[--t];b(r[--t],Gt,c(e.bits,e.bits.length-6+e.i)-48)}r[t++]="score",r[t++]=e.pixs,e.evalsymbol();var tr=r[--t];if(e[r[--t]]=tr,e.score>e.bestscore&&(e.bestsym=e.pixs,e.bestscore=e.score,e.fast&&e.bestscore>~~(e.rows*e.columns/2)))return!0;var br=e.pixs;e.litmask=uc(s(br.length),br);for(var ir=0;ir<=5;ir+=1){e.i=ir,r[t++]=e.litmask,O(c(e.sixedges,e.i)),e.dmv();var Dr=r[--t];b(r[--t],Dr,1)}if(b(e.litmasks,e.mask,e.litmask),e.fast){r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var or=r[--t];if(e[r[--t]]=or,T1(e.score,e.bestscore)&&(e.bestsym=e.litmask,e.bestscore=e.score,e.bestscore>~~(e.rows*e.columns/2)))return!0}}),e.pixs=e.bestsym,!e.fast&&e.bestscore<=~~(e.rows*e.columns/2)&&(e.bestscore=-99999999,ve(e.masks,function(){e.litmask=c(e.litmasks,r[--t]),r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var xe=r[--t];e[r[--t]]=xe,e.score>e.bestscore&&(e.bestsym=e.litmask,e.bestscore=e.score)}),e.pixs=e.bestsym);var Z=new Map([["ren","renmatrix"],["dotty",!0],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows*2/72],["width",e.columns*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=Z,e.dontdraw||At(),e=a}function BM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.eclevel="EC2",e.parse=!1,e.parsefnc=!1,e.start=257,e.link1=0,e.raw=!1,e.rev=2,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=e.rev;n!=1&&n!=2&&(r[t++]="bwipp.ultracodeInvalidRevision#27328",r[t++]="Valid revisions are 1 and 2",z());var i=e.eclevel.length==3;if(r[t++]=i,i){t--;var o=Y(C(e.eclevel,0,2),"EC");if(r[t++]=o,o){t--;var d=c(e.eclevel,2)-48,u=e.rev==2?1:0;r[t++]=d>=u&&d<=5}}if(r[--t]||(r[t++]="bwipp.ultracodeInvalidErrorCorrectionLevel#27337",r[t++]="Valid error correction levels are EC1 to EC5, and EC0 for legacy revision 1",z()),e.raw){for(e.dcws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),b(e.dcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.dcws=C(e.dcws,0,e.j)}else{e.fn1=-1,e.fn3=-2;var f=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=f,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var h=r[--t];e[r[--t]]=h,e.msglen=e.msg.length,e.scr=s([]),e.scp=s([]),r[t++]=1/0,O(e.scr),O(e.scp),ve(e.msg,function(){var Te=r[t-1];Te==e.fn1&&(r[t-1]=268);var Ve=r[t-1];Ve==e.fn3&&(r[t-1]=269)}),e.dcws=s()}var p=c(e.options,"debugcws")!==void 0;if(p&&(r[t++]="bwipp.debugcws#27381",r[t++]=e.dcws,z()),e.mcc=e.dcws.length+3,e.eclval=c(e.eclevel,2)-48,e.eclval!=0){if(r[t++]="qcc",r[t++]=c(s([0,1,2,4,6,8]),e.eclval),r[t++]=~~(e.mcc/25),e.mcc%25!=0){var m=r[--t];r[t++]=m+1}var x=r[--t],y=r[--t];e[r[--t]]=y*x+5}else e.qcc=3;e.acc=e.qcc-3+78*e.link1,e.tcc=e.mcc+e.qcc,e.metrics=s([s([2,7,37,5]),s([3,36,84,13]),s([4,85,161,22]),s([5,142,282,29])]);for(var w=e.metrics,v=0,g=w.length;v<g&&(e.m=c(w,v),e.rows=c(e.m,0),e.minc=c(e.m,1),e.maxc=c(e.m,2),e.mcol=c(e.m,3),e.okay=!0,(e.tcc<e.minc||e.tcc>e.maxc)&&(e.okay=!1),!e.okay);v++);e.okay||(r[t++]="bwipp.ultracodeNoValidSymbol#27417",r[t++]="Maximum length exceeded or invalid content",z());for(var A=e.mcol;A<=61;A+=1){if(e.columns=A,r[t++]=e.columns,e.columns>=15){var k=r[--t];r[t++]=k-1}if(e.columns>=31){var E=r[--t];r[t++]=E-1}if(e.columns>=47){var j=r[--t];r[t++]=j-1}var N=S(r[--t]*e.rows-3-e.tcc);if(r[t++]=N,N>=0){e.pads=r[--t];break}t--}e.dcc=S(e.columns-e.mcol),r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,r[t++]=e.acc,O(e.dcws);for(var B=0,I=e.qcc;B<I;B++)r[t++]=0;r[t++]=0,e.rsseq=s(),r[t++]=1/0,r[t++]=1;for(var D=0;D<282;D++){var T=r[t-1];r[t++]=T*3%283}e.rsalog=s(),e.rslog=s(283);for(var R=1;R<=282;R+=1)b(e.rslog,c(e.rsalog,R),R);e.rsprod=function(){var Te=r[t-1],Ve=r[t-2];if(Te!=0&&Ve!=0){var qe=c(e.rslog,r[--t]),et=c(e.rsalog,S(qe+c(e.rslog,r[--t]))%282);r[t++]=et}else t-=2,r[t++]=0},e.n=e.mcc,e.k=e.qcc,r[t++]=1/0,r[t++]=1;for(var $=0,_=e.k;$<_;$++)r[t++]=0;e.coeffs=s();for(var F=1,Q=e.k;F<=Q;F+=1){e.i=F,b(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var L=e.i-1;L>=1;L-=1){e.j=L,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var X=r[--t],le=r[--t],fe=r[--t];b(r[--t],fe,S(le+X)%283)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var V=r[--t],H=r[--t];b(r[--t],H,V)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var se=e.coeffs.length-1;se>=0;se-=2){var ue=e.coeffs;b(ue,se,283-c(ue,se))}for(var U=0,W=e.n-1;U<=W;U+=1){e.t=S(c(e.rsseq,U)+c(e.rsseq,e.n))%283;for(var re=0,ie=e.k-1;re<=ie;re+=1)e.j=re,b(e.rsseq,e.n+e.j,S(c(e.rsseq,e.n+e.j+1)+(283-e.t*c(e.coeffs,e.k-e.j-1)%283))%283)}for(var be=e.n,K=e.n+e.k;be<=K;be+=1)b(e.rsseq,be,(283-c(e.rsseq,be))%283);e.ecws=C(e.rsseq,e.n,e.k);var ke=c(e.options,"debugecc")!==void 0;ke&&(r[t++]="bwipp.debugecc#27487",r[t++]=e.ecws,z()),e.tiles=s([13135,13136,13153,13156,13163,13165,13513,13515,13516,13531,13535,13536,13561,13563,13565,13613,13615,13616,13631,13635,13636,13651,13653,13656,15135,15136,15153,15163,15165,15313,15315,15316,15351,15353,15356,15361,15363,15365,15613,15615,15616,15631,15635,15636,15651,15653,15656,16135,16136,16153,16156,16165,16313,16315,16316,16351,16353,16356,16361,16363,16365,16513,16515,16516,16531,16535,16536,16561,16563,16565,31315,31316,31351,31356,31361,31365,31513,31515,31516,31531,31535,31536,31561,31563,31565,31613,31615,31631,31635,31636,31651,31653,31656,35131,35135,35136,35151,35153,35156,35161,35163,35165,35315,35316,35351,35356,35361,35365,35613,35615,35616,35631,35635,35636,35651,35653,35656,36131,36135,36136,36151,36153,36156,36163,36165,36315,36316,36351,36356,36361,36365,36513,36515,36516,36531,36535,36536,36561,36563,36565,51313,51315,51316,51351,51353,51356,51361,51363,51365,51513,51516,51531,51536,51561,51563,51613,51615,51616,51631,51635,51636,51651,51653,51656,53131,53135,53136,53151,53153,53156,53161,53163,53165,53513,53516,53531,53536,53561,53563,53613,53615,53616,53631,53635,53636,53651,53653,53656,56131,56135,56136,56151,56153,56156,56161,56163,56165,56313,56315,56316,56351,56353,56356,56361,56363,56365,56513,56516,56531,56536,56561,56563,61313,61315,61316,61351,61353,61356,61361,61363,61365,61513,61515,61516,61531,61535,61536,61561,61563,61565,61615,61631,61635,61651,61653,63131,63135,63136,63151,63153,63156,63161,63163,63165,63513,63515,63516,63531,63535,63536,63561,63563,63565,63613,63615,63631,63635,63651,63653,65131,65135,65136,65151,65153,65156,65161,65163,65165,65313,65315,65316,65351,65353,65356,65361,65363,65365,65613,65615,65631,65635,65651,65653,56565,51515]),e.dccurev1=s([51363,51563,51653,53153,53163,53513,53563,53613,53653,56153,56163,56313,56353,56363,56513,56563,51316,51356,51536,51616,53156,53516,53536,53616,53636,53656,56136,56156,56316,56356,56516,56536]),e.dcclrev1=s([61351,61361,61531,61561,61631,61651,63131,63151,63161,63531,63561,63631,65131,65161,65351,65631,31351,31361,31531,31561,31631,31651,35131,35151,35161,35361,35631,35651,36131,36151,36351,36531]),e.dccurev2=s([15316,16316,13516,16516,13616,15616,13136,15136,16136,13536,16536,13636,13156,16156,15356,13656,15313,16313,13513,16513,13613,15613,13153,15153,16153,16353,13653,15653,13163,15163,15363,13563]),e.dcclrev2=s([36315,36515,35615,35135,36135,31535,36535,31635,35635,35165,36165,31365,35365,36365,31565,36565,61315,65315,63515,61615,65135,61535,63535,61635,63635,65635,63165,65165,61365,65365,61565,63565]),r[t++]="dccu",e.rev==1?r[t++]=e.dccurev1:r[t++]=e.dccurev2;var je=r[--t];e[r[--t]]=je,r[t++]="dccl",e.rev==1?r[t++]=e.dcclrev1:r[t++]=e.dcclrev2;var Qe=r[--t];e[r[--t]]=Qe,e.rows=e.rows*6+1,e.columns=e.columns+6,r[t++]=1/0;for(var ze=0,tt=e.rows*e.columns;ze<tt;ze++)r[t++]=-1;e.pixs=s(),e.qmv=function(){var Te=r[--t],Ve=r[--t];r[t++]=S(Ve+Te*e.columns)};for(var Ze=0,Re=e.columns-1;Ze<=Re;Ze+=1){e.i=Ze;for(var He=0,Ue=e.rows-1;He<=Ue;He+=6)if(e.j=He,e.i>=5){r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var ye=r[--t];b(r[--t],ye,e.i%2*9)}r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var Ye=r[--t];b(r[--t],Ye,9),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var Ae=r[--t];b(r[--t],Ae,9)}for(var Le=1,he=e.rows-2;Le<=he;Le+=1){e.i=Le;for(var Pe=3,Me=e.columns-1;Pe<=Me;Pe+=16){e.j=Pe,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.qmv();var $e=r[--t];b(r[--t],$e,(1-e.i%2)*9)}r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var rt=r[--t];b(r[--t],rt,9),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.qmv();var pt=r[--t];b(r[--t],pt,(1-e.i%2)*9),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var ut=r[--t];b(r[--t],ut,0),r[t++]=e.pixs,r[t++]=3,r[t++]=e.i,e.qmv();var bt=r[--t];b(r[--t],bt,9),r[t++]=e.pixs,r[t++]=4,r[t++]=e.i,e.qmv();var It=r[--t];b(r[--t],It,0),r[t++]=e.pixs,r[t++]=e.columns-1,r[t++]=e.i,e.qmv();var St=r[--t];b(r[--t],St,9)}e.i=~~(e.rows/2)-5,r[t++]=1/0;for(var de=$t(J(5),c(e.dccu,e.dcc),10),Ee=0,at=de.length;Ee<at;Ee++)r[t++]=c(de,Ee)-48;var ot=$t(J(5),c(e.dccl,e.dcc),10);r[t++]=0;for(var Et=0,yt=ot.length;Et<yt;Et++)r[t++]=c(ot,Et)-48;for(var P=s(),G=0,q=P.length;G<q;G++){r[t++]=c(P,G),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var te=r[t-3],ce=r[t-1];b(r[t-2],ce,te),t-=3,e.i=e.i+1}r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,O(e.ecws),r[t++]=e.tcc,r[t++]=283,r[t++]=e.acc,O(e.dcws);for(var ge=0,ae=e.pads;ge<ae;ge++)r[t++]=284;r[t++]=e.qcc,e.tileseq=s(),e.x=5,e.y=1;for(var Ce=e.tileseq,Z=0,xe=Ce.length;Z<xe;Z++){for(var me=$t(J(5),c(e.tiles,c(Ce,Z)),10),Ne=0,oe=me.length;Ne<oe;Ne++){r[t++]=c(me,Ne),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var we=r[t-3],Be=r[t-1];b(r[t-2],Be,we-48),t-=3,e.y=e.y+1}if(e.y!=e.rows-1)e.y=e.y+1;else{e.x=e.x+1,e.y=1,r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var pe=r[--t];c(r[--t],pe)!=-1&&(e.x=e.x+1)}}var Ie=new Map([[0,"FFFFFF"],[9,"000000"],[1,"00FFFF"],[3,"FF00FF"],[5,"FFFF00"],[6,"00FF00"]]);e.colormap=Ie;var Se=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows/72*2],["width",e.columns/72*2],["colormap",e.colormap],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Se,e.dontdraw||At(),e=a}function DM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.slave=!1,e.colors=16,e.eclevel=6,e.raw=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.databpm=~~E1(pn(e.colors)/pn(2));var n=e.colors;r[t++]="metabpm",r[t++]=n,n>8&&(r[t-1]=8);var i=r[--t];e[r[--t]]=~~E1(pn(i)/pn(2)),e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,os();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,e.addtobits=function(){var mt=r[--t];M(e.bits,e.j,mt),e.j=mt.length+e.j},e.tofixedbits=function(){var mt=_r(J(13),"0000000000000");r[t++]=mt,r[t++]=mt,Sa(4,-1);var Bt=$t(J(13),r[--t],2),hr=r[--t],lr=r[--t],fr=r[--t];M(hr,S(fr-Bt.length),Bt),r[t++]=C(lr,0,fr)};var u=e.msglen<=15?4:17;e.bits=J(7+u+e.msglen*8+12),e.j=0,r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="00",e.addtobits(),e.msglen<=15?(r[t++]=e.msglen,r[t++]=4,e.tofixedbits(),e.addtobits()):(r[t++]="0000",e.addtobits(),r[t++]=e.msglen-16,r[t++]=13,e.tofixedbits(),e.addtobits());for(var f=0,h=e.msglen-1;f<=h;f+=1)r[t++]=c(e.msg,f),r[t++]=8,e.tofixedbits(),e.addtobits();if(r[t++]=28,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="11",e.addtobits(),e.diffside=21,e.sameshape=!1,e.sameecc=!1,e.hasslaves=!1,e.metrics=function(){e.mc=r[--t],e.mr=r[--t];var mt=e.mc,Bt=e.mr,hr=e.mc,lr=e.mr,fr=e.colors,Rr=64;if(64>fr){var cr=fr;fr=Rr,Rr=cr}var sa=e.slave?7:17;if(r[t++]=mt*Bt,r[t++]=((~~((hr-25)/16)+2)*(~~((lr-25)/16)+2)-4)*7,r[t++]=Rr*2,r[t++]=sa*4,e.slave){if(r[t++]=3,!e.sameshape){var Vr=r[--t];r[t++]=Vr+5}if(e.hasslaves){var na=r[--t];r[t++]=na+3}if(!e.sameecc){var Mr=e.mr,Pr=e.mc;if(xn(Mr,Pr)){var cr=Pr;Pr=Mr,Mr=cr}var La=r[--t];r[t++]=S(La+c(s([10,12,14,14,16,16,16,16]),~~((Mr-21)/16)))}var ya=~~xr(r[--t]*2/e.metabpm);e.nummetabits=ya*e.metabpm,r[t++]=ya}else{var $r=Y(e.mr,e.mc)?0:1;e.metass=$r;var qr=e.mr,Gr=e.mc;if(xn(qr,Gr)){var cr=Gr;Gr=qr,qr=cr}e.metavf=c(s([0,1,2,2,3,3,3,3]),~~((qr-21)/16)),r[t++]="metavlen",e.metass==0?r[t++]=s([2,2,3,4]):r[t++]=s([4,6,8,10]);var Kr=c(r[--t],e.metavf);if(e[r[--t]]=Kr,e.metaelen=e.metavf*2+10,r[t++]=S(7+e.metavlen+e.metaelen),e.hasslaves){var pa=r[--t];r[t++]=pa+4}var ea=~~xr(r[--t]*2/e.metabpm);e.nummetabits=ea*e.metabpm+6,r[t++]=ea+6}var ds=r[--t];e.nummetamodules=ds;var Cs=r[--t],ln=r[--t],_s=r[--t];e.numdatamodules=S(r[--t]-(_s+(ln+(Cs+ds)))),e.numdatabits=e.numdatamodules*e.databpm},e.coderate=c(s([.67,.63,.57,.55,.5,.43,.34,.25,.2,.17,.14]),e.eclevel),e.grosslen=~~xr(e.bits.length/e.coderate),e.snapsize=function(){var mt=~~xr(r[--t])-18;r[t++]=mt,mt<0&&(r[t-1]=0);var Bt=r[--t];r[t++]=~~(Bt/4)*4+21},e.rows==-1&&e.columns==-1){r[t++]="size",r[t++]=uu(e.grosslen),e.snapsize();var p=r[--t];for(e[r[--t]]=p;r[t++]=e.size,r[t++]=e.size,e.metrics(),!(e.grosslen<=e.numdatabits);)e.size=e.size+4;e.rows=e.size,e.columns=e.size}else{if(e.columns==-1&&e.rows!=-1){r[t++]="columns",r[t++]=e.grosslen/e.rows,e.snapsize();var m=r[--t];for(e[r[--t]]=m;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.columns=e.columns+4}if(e.rows==-1&&e.columns!=-1){r[t++]="rows",r[t++]=e.grosslen/e.columns,e.snapsize();var x=r[--t];for(e[r[--t]]=x;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.rows=e.rows+4}e.rows!=-1&&e.columns!=-1&&(r[t++]=e.rows,r[t++]=e.columns,e.metrics())}e.C=e.numdatabits,e.cols=e.columns,(e.rows>145||e.cols>145)&&(r[t++]="bwipp.jabcodeNoValidSymbol#27844",r[t++]="Maximum length exceeded or invalid content",z()),e.min=e.C;for(var y=3;y<=8;y+=1){e.i=y;for(var w=e.i+1;w<=9;w+=1)e.j=w,e.dist=~~(e.C/e.j)*e.j-~~(e.C/e.j)*e.i-e.bits.length,e.dist<e.min&&e.dist>=0&&(e.datawc=e.i,e.datawr=e.j,e.min=e.dist)}e.tmpbits=J(~~(e.C/e.datawr)*e.datawr-~~(e.C/e.datawr)*e.datawc),M(e.tmpbits,0,e.bits);for(var v=e.bits.length,g=e.tmpbits.length-1;v<=g;v+=1){var A=c(e.tmpbits,v-1);if(r[t++]=v,r[t++]=A,A%2==0){var k=r[--t];r[t++]=k+1}else{var E=r[--t];r[t++]=E-1}r[t++]=e.tmpbits;var j=r[t-2],N=r[t-3];b(r[t-1],N,j),t-=3}e.bits=e.tmpbits,e.m0=22610,e.m1=-3027,e.m2=19605,e.m3=32557,e.lcg64_temper=function(){e.p00=e.m0*e.s0,e.p01=e.m0*e.s1,e.p02=e.m0*e.s2,e.p03=e.m0*e.s3,e.p10=e.m1*e.s0,e.p11=e.m1*e.s1,e.p12=e.m1*e.s2,e.p13=e.m1*e.s3,e.p20=e.m2*e.s0,e.p21=e.m2*e.s1,e.p22=e.m2*e.s2,e.p23=e.m2*e.s3,e.p30=e.m3*e.s0,e.p31=e.m3*e.s1,e.p32=e.m3*e.s2,e.p33=e.m3*e.s3,e.s3=e.p33%65536+1,e.s2=e.p32%65536+~~(e.p33/65536)+e.p23%65536,e.s1=e.p31%65536+~~(e.p32/65536)+(e.p22%65536+~~(e.p23/65536))+e.p13%65536,e.s0=e.p30%65536+~~(e.p31/65536)+(e.p21%65536+~~(e.p22/65536))+(e.p12%65536+~~(e.p13/65536))+e.p03%65536,e.s3=e.s3+65536,e.s2=e.s2+65535,e.s1=e.s1+65535,e.s0=e.s0+65535,e.s2=~~(e.s3/65536)+e.s2,e.s3=e.s3%65536,e.s1=~~(e.s2/65536)+e.s1,e.s2=e.s2%65536,e.s0=~~(e.s1/65536)+e.s0,e.s1=e.s1%65536,e.s0=e.s0%65536;var mt=((e.s0-32768)*65536+e.s1^2147483648)&4294967295,Bt=mt^mt>>>11,hr=Bt^Bt<<7&-1658038656,lr=(hr^hr<<15&-272236544)&4294967295;r[t++]=lr^lr>>>18},e.createMatrixA=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var mt=r[--t];e[r[--t]]=mt,e.offset=~~xr(e.Pg_sub_block/32),e.effwidth=e.offset*32,e.matrixA=s(e.offset*e.nb_pcb);for(var Bt=0,hr=e.offset*e.nb_pcb-1;Bt<=hr;Bt+=1)b(e.matrixA,Bt,0);e.permutation=s(e.Pg_sub_block);for(var lr=0,fr=e.Pg_sub_block-1;lr<=fr;lr+=1)b(e.permutation,lr,lr);for(var Rr=0,cr=~~(e.Pg_sub_block/e.wr)-1;Rr<=cr;Rr+=1){e.i=Rr;for(var sa=0,$r=e.wr-1;sa<=$r;sa+=1){e.j=sa;var qr=e.matrixA,Gr=e.i,Kr=e.effwidth,pa=e.wr,ea=e.j,Vr=31-S(e.i*(e.effwidth+e.wr)+e.j)%32;b(qr,~~(S(Gr*(Kr+pa)+ea)/32),c(qr,~~(S(Gr*(Kr+pa)+ea)/32))|(Vr<0?1>>>-Vr:1<<Vr))}}e.s0=0,e.s1=0,e.s2=11,e.s3=64569;for(var na=1,Mr=e.wc-1;na<=Mr;na+=1){e.i=na,e.off_index=~~(e.Pg_sub_block/e.wr)*e.i;for(var Pr=0,La=e.Pg_sub_block-1;Pr<=La;Pr+=1){e.j=Pr,e.lcg64_temper();var ya=r[t-1];if(ya<0){var ds=r[--t];r[t++]=(ds^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));for(var Cs=0,ln=~~(e.Pg_sub_block/e.wr)-1;Cs<=ln;Cs+=1){e.k=Cs;var _s=e.matrixA,rr=e.off_index,wr=e.k,Er=e.offset,ta=e.j,Or=c(e.matrixA,~~(c(e.permutation,e.pos)/32)+e.k*e.offset),ia=-(31-c(e.permutation,e.pos)%32),Wr=31-e.j%32;b(_s,(rr+wr)*Er+~~(ta/32),c(_s,(rr+wr)*Er+~~(ta/32))|(Wr<0?((ia<0?Or>>>-ia:Or<<ia)&1)>>>-Wr:((ia<0?Or>>>-ia:Or<<ia)&1)<<Wr))}var es=e.permutation,ts=e.Pg_sub_block,Vs=e.j;b(es,ts-1-Vs,c(e.permutation,e.pos)),b(e.permutation,e.pos,c(es,ts-1-Vs))}}},e.createMetadataMatrixA=function(){e.nb_pcb=~~(e.Pg_sub_block/2),e.offset=~~xr(e.Pg_sub_block/32),e.matrixA=s(e.offset*e.nb_pcb);for(var mt=0,Bt=e.offset*e.nb_pcb-1;mt<=Bt;mt+=1)b(e.matrixA,mt,0);e.permutation=s(e.Pg_sub_block);for(var hr=0,lr=e.Pg_sub_block-1;hr<=lr;hr+=1)b(e.permutation,hr,hr);e.s0=0,e.s1=0,e.s2=0,e.s3=38545,e.nb_once=~~(~~(e.nb_pcb/e.wc*e.Pg_sub_block+3)/e.nb_pcb);for(var fr=0,Rr=e.nb_pcb-1;fr<=Rr;fr+=1){e.i=fr;for(var cr=0,sa=e.nb_once-1;cr<=sa;cr+=1){e.j=cr,e.lcg64_temper();var $r=r[t-1];if($r<0){var qr=r[--t];r[t++]=(qr^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));var Gr=e.matrixA,Kr=e.i,pa=e.offset,ea=c(e.permutation,e.pos),Vr=31-c(e.permutation,e.pos)%32;b(Gr,Kr*pa+~~(ea/32),c(Gr,Kr*pa+~~(ea/32))|(Vr<0?1>>>-Vr:1<<Vr));var na=e.permutation,Mr=e.Pg_sub_block,Pr=e.j;b(na,Mr-1-Pr,c(e.permutation,e.pos)),b(e.permutation,e.pos,c(na,Mr-1-Pr))}}},e.GaussJordan=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var mt=r[--t];e[r[--t]]=mt,e.offset=~~xr(e.Pg_sub_block/32);var Bt=e.matrixA;e.matrixH=uc(s(Bt.length),Bt),r[t++]=1/0;for(var hr=0,lr=e.Pg_sub_block;hr<lr;hr++)r[t++]=0;e.column_arrangement=s(),r[t++]=1/0;for(var fr=0,Rr=e.Pg_sub_block;fr<Rr;fr++)r[t++]=!1;e.processed_column=s(),r[t++]=1/0;for(var cr=0,sa=e.nb_pcb;cr<sa;cr++)r[t++]=0;e.zero_lines_nb=s(),r[t++]=1/0;for(var $r=0,qr=e.Pg_sub_block*2;$r<qr;$r++)r[t++]=0;e.swap_col=s(),e.zero_lines=0,e.loop0=0;for(var Gr=0,Kr=e.nb_pcb-1;Gr<=Kr;Gr+=1){e.i=Gr,e.pivot_column=e.Pg_sub_block+1;for(var pa=0,ea=e.Pg_sub_block-1;pa<=ea;pa+=1){e.j=pa;var Vr=c(e.matrixH,~~((e.offset*32*e.i+e.j)/32)),na=-(31-(e.offset*32*e.i+e.j)%32);if(((na<0?Vr>>>-na:Vr<<na)&1)==1){e.pivot_column=e.j;break}}if(e.pivot_column<e.Pg_sub_block){b(e.processed_column,e.pivot_column,!0),b(e.column_arrangement,e.pivot_column,e.i),e.pivot_column>=e.nb_pcb&&(b(e.swap_col,e.loop0*2,e.pivot_column),e.loop0=e.loop0+1),e.off_index=~~(e.pivot_column/32),e.off_index1=e.pivot_column%32;for(var Mr=0,Pr=e.nb_pcb-1;Mr<=Pr;Mr+=1)if(e.j=Mr,e.i!=e.j){var La=c(e.matrixH,e.off_index+e.j*e.offset),ya=-(31-e.off_index1);if(((ya<0?La>>>-ya:La<<ya)&1)==1)for(var ds=0,Cs=e.offset-1;ds<=Cs;ds+=1){e.k=ds;var ln=e.matrixH,_s=e.offset,rr=e.j,wr=e.k;b(ln,_s*rr+wr,ps(c(ln,_s*rr+wr),c(e.matrixH,e.offset*e.i+e.k)))}}}else b(e.zero_lines_nb,e.zero_lines,e.i),e.zero_lines=e.zero_lines+1}e.matrix_rank=e.nb_pcb-e.zero_lines,e.loop2=0;for(var Er=e.matrix_rank,ta=e.nb_pcb-1;Er<=ta;Er+=1)if(e.i=Er,c(e.column_arrangement,e.i)>0){for(var Or=0,ia=e.nb_pcb-1;Or<=ia;Or+=1)if(e.j=Or,!c(e.processed_column,e.j)){b(e.column_arrangement,e.j,c(e.column_arrangement,e.i)),b(e.column_arrangement,e.i,0),b(e.processed_column,e.j,!0),b(e.processed_column,e.i,!1),b(e.swap_col,e.loop0*2,e.i),b(e.swap_col,e.loop0*2+1,e.j),b(e.column_arrangement,e.i,e.j),e.loop0=e.loop0+1,e.loop2=e.loop2+1;break}}e.loop1=0;for(var Wr=0,es=e.nb_pcb-1;Wr<=es;Wr+=1)e.kl=Wr,!c(e.processed_column,e.kl)&&e.loop1<e.loop0-e.loop2&&(b(e.column_arrangement,e.kl,c(e.column_arrangement,c(e.swap_col,e.loop1*2))),b(e.processed_column,e.kl,!0),b(e.swap_col,e.loop1*2+1,e.kl),e.loop1=e.loop1+1);e.loop1=0;for(var ts=0,Vs=e.nb_pcb-1;ts<=Vs;ts+=1)e.kl=ts,c(e.processed_column,e.kl)||(b(e.column_arrangement,e.kl,c(e.zero_lines_nb,e.loop1)),e.loop1=e.loop1+1);for(var yn=0,Mn=e.nb_pcb-1;yn<=Mn;yn+=1){e.i=yn;for(var Qn=0,Hn=e.offset-1;Qn<=Hn;Qn+=1)e.j=Qn,b(e.matrixA,e.i*e.offset+e.j,c(e.matrixH,S(c(e.column_arrangement,e.i)*e.offset+e.j)))}e.tmp=0;for(var wn=0,pi=e.loop0-1;wn<=pi;wn+=1){e.i=wn;for(var $n=0,mi=e.nb_pcb-1;$n<=mi;$n+=1){e.j=$n;var t1=c(e.matrixA,~~(c(e.swap_col,e.i*2)/32)+e.j*e.offset),xi=-(31-c(e.swap_col,e.i*2)%32);e.tmp=(-((xi<0?t1>>>-xi:t1<<xi)&1)^e.tmp)&1^e.tmp;var r1=e.matrixA,a1=c(e.swap_col,e.i*2),Je=e.j,Nt=e.offset,pr=c(e.matrixA,~~(c(e.swap_col,e.i*2+1)/32)+e.j*e.offset),Nr=-(31-c(e.swap_col,e.i*2+1)%32),ma=31-c(e.swap_col,e.i*2)%32;b(r1,~~(a1/32)+Je*Nt,c(r1,~~(a1/32)+Je*Nt)^(-((Nr<0?pr>>>-Nr:pr<<Nr)&1)^c(e.matrixA,~~(c(e.swap_col,e.i*2)/32)+e.j*e.offset))&(ma<0?1>>>-ma:1<<ma));var rs=e.matrixA,as=c(e.swap_col,e.i*2+1),Is=e.j,cn=e.offset,An=31-c(e.swap_col,e.i*2+1)%32;b(rs,~~(as/32)+Is*cn,c(rs,~~(as/32)+Is*cn)^(-(e.tmp&1)^c(e.matrixA,~~(c(e.swap_col,e.i*2+1)/32)+e.j*e.offset))&(An<0?1>>>-An:1<<An))}}},e.createGeneratorMatrix=function(){e.pn=e.Pg_sub_block-e.matrix_rank,e.offset=~~xr(e.pn/32),e.effwidth=e.offset*32,e.offset_cap=~~xr(e.Pg_sub_block/32),e.G=s(e.offset*e.Pg_sub_block);for(var mt=0,Bt=e.offset*e.Pg_sub_block-1;mt<=Bt;mt+=1)b(e.G,mt,0);for(var hr=0,lr=e.pn-1;hr<=lr;hr+=1){e.i=hr;var fr=e.G,Rr=e.Pg_sub_block,cr=e.pn,sa=e.i,$r=e.offset,qr=e.i,Gr=31-e.i%32;b(fr,(Rr-cr+sa)*$r+~~(qr/32),c(fr,(Rr-cr+sa)*$r+~~(qr/32))|(Gr<0?1>>>-Gr:1<<Gr))}e.matrix_index=e.Pg_sub_block-e.pn,e.loop0=0;for(var Kr=0,pa=(e.Pg_sub_block-e.pn)*e.effwidth-1;Kr<=pa;Kr+=1)if(e.i=Kr,e.matrix_index>=e.Pg_sub_block&&(e.loop0=e.loop0+1,e.matrix_index=e.Pg_sub_block-e.pn),e.i%e.effwidth<e.pn){var ea=e.G,Vr=e.i,na=c(e.matrixA,~~(e.matrix_index/32)+e.offset_cap*e.loop0),Mr=-(31-e.matrix_index%32),Pr=31-e.i%32;b(ea,~~(Vr/32),c(ea,~~(Vr/32))^(-((Mr<0?na>>>-Mr:na<<Mr)&1)^c(e.G,~~(e.i/32)))&(Pr<0?1>>>-Pr:1<<Pr)),e.matrix_index=e.matrix_index+1}},e.ldpc=function(){e.wr=r[--t],e.wc=r[--t],r[t++]=1/0;var mt=r[--t],Bt=r[--t];if(r[t++]=mt,ve(Bt,function(){var ds=r[--t];r[t++]=ds-48}),e.data=s(),e.Pn=e.data.length,e.wr!=-1){if(e.Pg=~~(xr(xr(e.Pn*e.wr/S(e.wr-e.wc))/e.wr)*e.wr),e.nb_sub_blocks=~~(e.Pg/2700)+1,e.Pg_sub_block=~~(~~(e.Pg/e.nb_sub_blocks)/e.wr)*e.wr,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.nb_sub_blocks=~~(e.Pg/e.Pg_sub_block),r[t++]="encoding_iterations",r[t++]=~~(e.Pg/e.Pg_sub_block),e.Pn_sub_block*e.nb_sub_blocks<e.Pn){var hr=r[--t];r[t++]=hr-1}var lr=r[--t];e[r[--t]]=lr,e.createMatrixA()}else e.Pg=e.Pn*2,e.nb_sub_blocks=1,e.Pg_sub_block=e.Pg,e.Pn_sub_block=e.Pn,e.encoding_iterations=1,e.createMetadataMatrixA();e.GaussJordan(),e.createGeneratorMatrix(),e.ecc_encoded_data=s(e.Pg),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var fr=0,Rr=e.encoding_iterations-1;fr<=Rr;fr+=1){e.iter=fr;for(var cr=0,sa=e.Pg_sub_block-1;cr<=sa;cr+=1){e.i=cr,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var $r=e.iter*e.Pn_sub_block,qr=(e.iter+1)*e.Pn_sub_block-1;$r<=qr;$r+=1){var Gr=c(e.G,e.offset_index+~~(e.loop0/32)),Kr=-(31-e.loop0%32);e.temp=c(e.data,$r)&((Kr<0?Gr>>>-Kr:Gr<<Kr)&1)^e.temp,e.loop0=e.loop0+1}b(e.ecc_encoded_data,e.i+e.iter*e.Pg_sub_block,e.temp)}}if(e.encoding_iterations!=e.nb_sub_blocks){e.start=e.encoding_iterations*e.Pn_sub_block,e.last_index=e.encoding_iterations*e.Pg_sub_block,e.Pg_sub_block=e.Pg-e.encoding_iterations*e.Pg_sub_block,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.createMatrixA(),e.GaussJordan(),e.createGeneratorMatrix(),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var pa=0,ea=e.Pg_sub_block-1;pa<=ea;pa+=1){e.i=pa,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Vr=e.start,na=e.Pn-1;Vr<=na;Vr+=1){var Mr=c(e.G,e.offset_index+~~(e.loop0/32)),Pr=-(31-e.loop0%32);e.temp=c(e.data,Vr)&((Pr<0?Mr>>>-Pr:Mr<<Pr)&1)^e.temp,e.loop0=e.loop0+1}b(e.ecc_encoded_data,e.i+e.last_index,e.temp)}}e.out=J(e.Pg);for(var La=0,ya=e.Pg-1;La<=ya;La+=1)b(e.out,La,c(e.ecc_encoded_data,La)+48);r[t++]=e.out},r[t++]="bits",r[t++]=e.bits,r[t++]=e.datawc,r[t++]=e.datawr,e.ldpc();var B=r[--t];e[r[--t]]=B,e.s0=0,e.s1=0,e.s2=3,e.s3=30151;for(var I=e.bits.length-1;I>=1;I-=1){e.l=I,e.lcg64_temper();var D=r[t-1];if(D<0){var T=r[--t];r[t++]=(T^2147483648)+2147483648}e.r=~~(r[--t]/4294967296*(e.l+1)),b(e.bits,e.l,c(e.bits,e.r)),b(e.bits,e.r,c(e.bits,e.l))}e.tmpbits=J(e.C),M(e.tmpbits,0,e.bits),e.j=e.bits.length;for(var R=0,$=~~((S(e.C-e.j)+1)/2);R<$;R++)b(e.tmpbits,e.j,48),e.j+1<e.C&&b(e.tmpbits,e.j+1,49),e.j=e.j+2;if(e.bits=e.tmpbits,e.colors==4)e.bi=0,e.gi=1,e.mi=2,e.yi=3,e.ki=4,e.wi=5,r[t++]=1/0,r[t++]=e.bi,r[t++]="0000FF",r[t++]=e.gi,r[t++]="00FF00",r[t++]=e.mi,r[t++]="FF00FF",r[t++]=e.yi,r[t++]="FFFF00",r[t++]=e.ki,r[t++]="000000",r[t++]=e.wi,r[t++]="FFFFFF",e.palette=Ge(),e.metacolorindex=s([e.bi,e.gi,e.mi,e.yi]),e.palettelayout=s([e.bi,e.gi,e.mi,e.yi]);else{var _=new Map([[8,s([2,2,2])],[16,s([4,2,2])],[32,s([4,4,2])],[64,s([4,4,4])],[128,s([8,4,4])],[256,s([8,8,4])]]);e.rgbres=c(_,e.colors),r[t++]="rvals",r[t++]=c(e.rgbres,0),r[t++]=1/0;var F=r[--t],Q=r[--t]-1;r[t++]=F,r[t++]=Q;for(var L=0,X=Q;L<=X;L+=1){var le=r[--t];r[t++]=~~E1(L*(255/le)),r[t++]=le}t--;var fe=s();e[r[--t]]=fe,r[t++]="gvals",r[t++]=c(e.rgbres,1),r[t++]=1/0;var V=r[--t],H=r[--t]-1;r[t++]=V,r[t++]=H;for(var se=0,ue=H;se<=ue;se+=1){var U=r[--t];r[t++]=~~E1(se*(255/U)),r[t++]=U}t--;var W=s();e[r[--t]]=W,r[t++]="bvals",r[t++]=c(e.rgbres,2),r[t++]=1/0;var re=r[--t],ie=r[--t]-1;r[t++]=re,r[t++]=ie;for(var be=0,K=ie;be<=K;be+=1){var ke=r[--t];r[t++]=~~E1(be*(255/ke)),r[t++]=ke}t--;var je=s();e[r[--t]]=je,e.colors,e.palette=new Map;var Qe=e.colors,ze=64;if(64>Qe){var tt=Qe;Qe=ze,ze=tt}e.palettelayout=s(ze),e.i=0,e.j=8,ve(e.rvals,function(){e.r=r[--t],ve(e.gvals,function(){e.g=r[--t],ve(e.bvals,function(){e.b=r[--t];var mt=_r(J(6),"000000"),Bt=$t(J(6),e.r<<16|e.g<<8|e.b,16);M(mt,6-Bt.length,Bt),r[t++]=mt,r[t++]=!1,Y(mt,"000000")&&(e.ki=e.i,r[t-1]=!0);var hr=r[t-2];Y(hr,"0000FF")&&(e.bi=e.i,r[t-1]=!0);var lr=r[t-2];Y(lr,"00FF00")&&(e.gi=e.i,r[t-1]=!0);var fr=r[t-2];Y(fr,"00FFFF")&&(e.ci=e.i,r[t-1]=!0);var Rr=r[t-2];Y(Rr,"FF0000")&&(e.ri=e.i,r[t-1]=!0);var cr=r[t-2];Y(cr,"FF00FF")&&(e.mi=e.i,r[t-1]=!0);var sa=r[t-2];Y(sa,"FFFF00")&&(e.yi=e.i,r[t-1]=!0);var $r=r[t-2];Y($r,"FFFFFF")&&(e.wi=e.i,r[t-1]=!0),r[--t]||(e.colors<=64||e.colors==128&&(e.r==0||e.r==73||e.r==182||e.r==255)||e.colors==256&&(e.r==0||e.r==73||e.r==182||e.r==255)&&(e.g==0||e.g==73||e.g==182||e.g==255))&&(b(e.palettelayout,e.j,e.i),e.j=e.j+1),b(e.palette,e.i,r[--t]),e.i=e.i+1})})}),M(e.palettelayout,0,s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])),e.metacolorindex=s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])}r[t++]=1/0;for(var Ze=0,Re=e.rows*e.cols;Ze<Re;Ze++)r[t++]=-1;e.pixs=s(),e.jmv=function(){var mt=r[--t],Bt=r[--t];r[t++]=S(Bt+mt*e.cols)},e.slave?(e.fpat=s([s([0,0,0,0,0]),s([0,2,2,0,0]),s([0,2,1,2,0]),s([0,0,2,2,0]),s([0,0,0,0,0])]),e.fmap=s([s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi])])):(e.fpat=s([s([1,1,1,0,0]),s([1,2,2,0,0]),s([1,2,1,2,1]),s([0,0,2,2,1]),s([0,0,1,1,1])]),e.fmap=s([s([-1,e.bi,e.yi]),s([-1,e.yi,e.bi]),s([-1,e.gi,e.mi]),s([-1,e.mi,e.gi])]));for(var He=0;He<=4;He+=1){e.y=He;for(var Ue=0;Ue<=4;Ue+=1){e.x=Ue,e.fpb=c(c(e.fpat,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=e.y+1,e.jmv();var ye=r[--t];b(r[--t],ye,c(c(e.fmap,0),e.fpb)),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=S(e.rows-e.y)-2,e.jmv();var Ye=r[--t];b(r[--t],Ye,c(c(e.fmap,1),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=e.y+1,e.jmv();var Ae=r[--t];b(r[--t],Ae,c(c(e.fmap,2),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=S(e.rows-e.y)-2,e.jmv();var Le=r[--t];b(r[--t],Le,c(c(e.fmap,3),e.fpb))}}if(e.algnpat0=s([s([e.ki,e.ki,-1]),s([e.ki,e.wi,e.ki]),s([-1,e.ki,e.ki])]),e.algnpat1=s([s([-1,e.ki,e.ki]),s([e.ki,e.wi,e.ki]),s([e.ki,e.ki,-1])]),e.num=~~E1(e.cols/16)-1,e.algnrpos=s([3,17]),e.num>0){r[t++]=1/0;for(var he=0,Pe=e.num;he<=Pe;he+=1)r[t++]=~~(he*((e.cols-7)/e.num))+3;e.algnrpos=s()}if(e.num=~~E1(e.rows/16)-1,e.algncpos=s([3,17]),e.num>0){r[t++]=1/0;for(var Me=0,$e=e.num;Me<=$e;Me+=1)r[t++]=~~(Me*((e.rows-7)/e.num))+3;e.algncpos=s()}e.putalgnpat=function(){e.pp=r[--t],e.py=r[--t],e.px=r[--t];for(var mt=0;mt<=2;mt+=1){e.pb=mt;for(var Bt=0;Bt<=2;Bt+=1){e.pa=Bt,r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.jmv();var hr=r[--t];b(r[--t],hr,c(c(e.pp,e.pb),e.pa))}}};for(var rt=0,pt=e.algncpos.length-1;rt<=pt;rt+=1){e.j=rt,e.y=c(e.algncpos,e.j);for(var ut=0,bt=e.algnrpos.length-1;ut<=bt;ut+=1){e.i=ut,e.x=c(e.algnrpos,e.i),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.jmv();var It=r[--t];c(r[--t],It)==-1&&(r[t++]=e.x-1,r[t++]=e.y-1,(e.i+e.j)%2==0?r[t++]=e.algnpat0:r[t++]=e.algnpat1,e.putalgnpat())}}if(e.slave){r[t++]=1/0;for(var at=1;at<=19;at+=1)e.i=at,r[t++]=s([0,e.i]),r[t++]=s([1,e.i]);for(var ot=5;ot<=12;ot+=1)e.i=ot,r[t++]=s([2,e.i]),r[t++]=s([3,e.i]);e.metadatamap=s(),r[t++]=1/0;for(var Et=5;Et<=12;Et+=1){var yt=1/0,P=Et;r[t++]=yt,r[t++]=4,r[t++]=P;var G=s();r[t++]=G}for(var q=12;q>=5;q-=1){var te=1/0,ce=q;r[t++]=te,r[t++]=5,r[t++]=ce;var ge=s();r[t++]=ge}for(var ae=5;ae<=12;ae+=1){var Ce=1/0,Z=ae;r[t++]=Ce,r[t++]=6,r[t++]=Z;var xe=s();r[t++]=xe}for(var me=12;me>=5;me-=1){var Ne=1/0,oe=me;r[t++]=Ne,r[t++]=7,r[t++]=oe;var we=s();r[t++]=we}e.palettemap1=s(),r[t++]=1/0;for(var Be=e.palettemap1,pe=0,Ie=Be.length;pe<Ie;pe++){var Se=1/0,Te=c(Be,pe);r[t++]=Se,O(Te);var Ve=r[--t],qe=r[--t];r[t++]=-qe,r[t++]=-Ve;var et=s();r[t++]=et}e.palettemap2=s()}else{for(var St=s([s([6,1]),s([6,2]),s([6,3]),s([6,4]),s([6,5]),s([6,6]),s([5,6]),s([4,6]),s([3,6]),s([2,6]),s([1,6]),s([7,1]),s([7,2]),s([7,3]),s([7,4]),s([7,5]),s([7,6]),s([7,7]),s([6,7]),s([5,7]),s([4,7]),s([3,7]),s([2,7]),s([1,7]),s([8,1]),s([8,2]),s([8,3]),s([8,4]),s([8,5]),s([8,6]),s([8,7]),s([8,8]),s([7,8]),s([6,8]),s([5,8]),s([4,8]),s([3,8]),s([2,8]),s([1,8]),s([9,1]),s([9,2]),s([9,3]),s([9,4]),s([9,5])]),de=0,Ee=St.length;de<Ee;de++)O(c(St,de)),e.y=r[--t],e.x=r[--t],r[t++]=s([e.x,e.y]),r[t++]=s([-e.x,e.y]),r[t++]=s([-e.x,-e.y]),r[t++]=s([e.x,-e.y]);Yt(s(176)),e.metadatamap=r[--t],e.palettemap1=s([s([4,1]),s([4,2]),s([5,1]),s([5,2]),s([2,4]),s([2,5]),s([1,4]),s([1,5]),s([-2,1]),s([-2,2]),s([-1,1]),s([-1,2]),s([-4,4]),s([-4,5]),s([-5,4]),s([-5,5])]),e.palettemap2=s([s([-4,-5]),s([-4,-4]),s([-5,-5]),s([-5,-4]),s([-2,-2]),s([-2,-1]),s([-1,-2]),s([-1,-1]),s([2,-5]),s([2,-4]),s([1,-5]),s([1,-4]),s([4,-2]),s([4,-1]),s([5,-2]),s([5,-1])])}for(var ct=e.metadatamap,lt=0,De=ct.length;lt<De;lt++){var We=c(ct,lt),Ke=c(We,0);if(r[t++]=We,r[t++]=Ke,Ke<0){var st=r[--t],gt=r[t-1];b(gt,0,S(st+e.cols)-1)}else t--;var wt=r[t-1],vt=c(wt,1);if(r[t++]=vt,vt<0){var kt=r[--t],dt=r[t-1];b(dt,1,S(kt+e.rows)-1)}else t--;t--}for(var _t=e.palettemap1,nt=0,Qt=_t.length;nt<Qt;nt++){var Ht=c(_t,nt),Ut=c(Ht,0);if(r[t++]=Ht,r[t++]=Ut,Ut<0){var sr=r[--t],Cr=r[t-1];b(Cr,0,S(sr+e.cols)-1)}else t--;var nr=r[t-1],gr=c(nr,1);if(r[t++]=gr,gr<0){var ar=r[--t],Br=r[t-1];b(Br,1,S(ar+e.rows)-1)}else t--;t--}for(var Zt=e.palettemap2,dr=0,Kt=Zt.length;dr<Kt;dr++){var Jt=c(Zt,dr),ur=c(Jt,0);if(r[t++]=Jt,r[t++]=ur,ur<0){var Tr=r[--t],Fr=r[t-1];b(Fr,0,S(Tr+e.cols)-1)}else t--;var fa=r[t-1],Tt=c(fa,1);if(r[t++]=Tt,Tt<0){var Gt=r[--t],tr=r[t-1];b(tr,1,S(Gt+e.rows)-1)}else t--;t--}for(var br=0,ir=e.nummetamodules-1;br<=ir;br+=1){r[t++]=e.pixs,O(c(e.metadatamap,br)),e.jmv();var Dr=r[--t];b(r[--t],Dr,0)}if(e.slave)e.i=0;else{var or=e.colors,zt=16;if(16>or){var tt=or;or=zt,zt=tt}for(var yr=0,ra=zt-1;yr<=ra;yr+=1){e.i=yr;var ha=c(e.palettelayout,e.i);r[t++]=ha,r[t++]=e.pixs,r[t++]=ha,O(c(e.palettemap1,e.i)),e.jmv();var Aa=r[--t],Qr=r[--t];b(r[--t],Aa,Qr);var Ca=r[--t];r[t++]=e.pixs,r[t++]=Ca,O(c(e.palettemap2,e.i)),e.jmv();var ba=r[--t],Ma=r[--t];b(r[--t],ba,Ma)}e.i=16}e.j=e.nummetamodules;for(var ca=e.i,ka=e.palettelayout.length-1;ca<=ka;ca+=2){e.i=ca;var Ia=c(e.palettelayout,e.i);r[t++]=Ia,r[t++]=e.pixs,r[t++]=Ia,O(c(e.metadatamap,e.j)),e.jmv();var ja=r[--t],Qa=r[--t];b(r[--t],ja,Qa);var Ha=r[--t];r[t++]=e.pixs,r[t++]=Ha,O(c(e.metadatamap,e.j+2)),e.jmv();var Ka=r[--t],xs=r[--t];b(r[--t],Ka,xs);var Ba=c(e.palettelayout,e.i+1);r[t++]=Ba,r[t++]=e.pixs,r[t++]=Ba,O(c(e.metadatamap,e.j+1)),e.jmv();var Ts=r[--t],$a=r[--t];b(r[--t],Ts,$a);var $s=r[--t];r[t++]=e.pixs,r[t++]=$s,O(c(e.metadatamap,e.j+3)),e.jmv();var _a=r[--t],vs=r[--t];b(r[--t],_a,vs),e.j=e.j+4}var Rs=s([function(){var mt=r[--t],Bt=r[--t];r[t++]=S(Bt+mt)%e.colors},function(){t--;var mt=r[--t];r[t++]=mt%e.colors},function(){var mt=r[--t];r[t-1]=mt;var Bt=r[--t];r[t++]=Bt%e.colors},function(){var mt=r[--t],Bt=r[--t];r[t++]=(~~(mt/3)+~~(Bt/2))%e.colors},function(){var mt=r[--t],Bt=r[--t];r[t++]=(~~(mt/2)+~~(Bt/3))%e.colors},function(){var mt=r[--t],Bt=S(r[--t]+mt);r[t++]=(~~(Bt/2)+~~(Bt/3))%e.colors},function(){var mt=r[--t],Bt=r[--t];r[t++]=S(mt*(Bt*Bt)%7+(mt+Bt*Bt)*2%19)%e.colors},function(){var mt=r[--t],Bt=r[--t];r[t++]=S(Bt*(mt*mt)%5+(mt*mt+Bt*2)%13)%e.colors}]);e.maskfuncs=Rs,e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask)]),e.bestmaskval=e.mask),e.masks=s(e.maskfuncs.length);for(var Ms=0,Wa=e.masks.length-1;Ms<=Wa;Ms+=1){e.m=Ms,e.mask=s(e.rows*e.cols);for(var qs=0,Ja=e.rows-1;qs<=Ja;qs+=1){e.j=qs;for(var gs=0,Fa=e.cols-1;gs<=Fa;gs+=1){e.i=gs,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.jmv();var gn=r[--t];if(c(r[--t],gn)==-1){if(r[t++]=e.i,r[t++]=e.j,c(e.maskfuncs,e.m)()===!0)break}else r[t++]=0;r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.jmv();var qa=r[t-3],Bn=r[t-1];b(r[t-2],Bn,qa),t-=3}}b(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.i=0;e.posx!=e.cols;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Da=r[--t];if(c(r[--t],Da)==-1){var en=C(e.bits,e.i,e.databpm);r[t++]=0;for(var Pa=0,sn=en.length;Pa<sn;Pa++){var ls=r[--t];r[t++]=S(ls+(c(en,Pa)-48))*2}var Xt=r[--t];r[t++]=~~(Xt/2),r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Zr=r[t-3],Na=r[t-1];b(r[t-2],Na,Zr),t-=3,e.i=e.i+e.databpm}e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)}e.evalrle=function(){e.scrle=r[--t],e.scr1=0,e.scr3=0;for(var mt=0,Bt=e.scrle.length-2;mt<=Bt;mt+=2)if(e.j=mt,c(e.scrle,e.j+1)!=-1){var hr=c(e.scrle,e.j);if(r[t++]=hr,hr>=5?e.scr1=S(r[--t]-2+e.scr1):t--,e.j>=4&&e.j<=e.scrle.length-5){var lr=C(e.scrle,e.j-4,10);r[t++]=lr;for(var fr=0,Rr=lr.length;fr<Rr;fr++)r[t++]=c(lr,fr)==1;t--;for(var cr=0;cr<4;cr++){var sa=r[--t];r[t-1]=sa;var $r=r[--t],qr=r[--t];r[t++]=mo(qr,$r)}if(r[--t]){r[t++]=1/0;var Gr=r[--t],Kr=r[--t];r[t++]=Gr,O(Kr);var pa=r[t-1],ea=r[t-3],Vr=r[t-5],na=r[t-7],Mr=r[t-9];if(Y(Mr,Vr)&&Y(Mr,pa)&&Y(na,ea)){var Pr=r[--t],La=r[--t],ya=r[--t];e.c4=ya,e.c5=Pr,r[t++]=ya,r[t++]=La,(e.c4==e.bi&&e.c5==e.yi||e.c4==e.yi&&e.c5==e.bi||e.c4==e.gi&&e.c5==e.mi||e.c4==e.mi&&e.c5==e.gi)&&(e.scr3=e.scr3+100)}rl()}else t--}}r[t++]=e.scr1,r[t++]=e.scr3},e.evalmask=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0;var mt=e.rows,Bt=e.cols;if(mt<Bt){var hr=Bt;Bt=mt,mt=hr}e.rle=s(mt*2+2),e.lastpairs=s(e.cols),e.thispairs=s(e.cols);for(var lr=0,fr=e.cols-1;lr<=fr;lr+=1){e.i=lr,r[t++]=1/0,r[t++]=0,r[t++]=-1;for(var Rr=e.i,cr=e.cols,sa=e.rows*e.cols-1;cr<0?Rr>=sa:Rr<=sa;Rr+=cr){var $r=c(e.sym,Rr),qr=r[t-1];if(r[t++]=$r,Y(qr,$r)){t--;var Gr=r[--t],Kr=r[--t];r[t++]=Kr+1,r[t++]=Gr}else{var pa=r[--t];r[t++]=1,r[t++]=pa}}var ea=va()+2;Yt(C(e.rle,0,ea-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}for(var Vr=0,na=e.rows-1;Vr<=na;Vr+=1){e.i=Vr,e.symrow=C(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Mr=e.symrow;r[t++]=0,r[t++]=-1;for(var Pr=0,La=Mr.length;Pr<La;Pr++){var ya=c(Mr,Pr),ds=r[t-1];if(r[t++]=ya,Y(ds,ya)){t--;var Cs=r[--t],ln=r[--t];r[t++]=ln+1,r[t++]=Cs}else{var _s=r[--t];r[t++]=1,r[t++]=_s}}var rr=va()+2;Yt(C(e.rle,0,rr-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var wr=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=wr;var Er=e.symrow;r[t++]=-1;for(var ta=0,Or=Er.length;ta<Or;ta++){var ia=c(Er,ta),Wr=r[--t];if(r[t++]=ia,r[t++]=Wr,_e(ia,Wr)){t--;var es=r[--t];r[t++]=-1,r[t++]=es}}if(t--,Yt(e.thispairs),t--,e.i>0){r[t++]=1/0,O(e.lastpairs),O(e.thispairs),r[t++]=e.n2;for(var ts=0,Vs=e.cols;ts<Vs;ts++){var yn=r[--t],Mn=r[--t];if(r[t++]=yn,r[t++]=Mn,Mn!=-1){var Qn=r[t-1-(e.cols+1)];if(Y(r[--t],Qn)){var Hn=r[--t];r[t++]=Hn+3}}else t--}e.n2=r[--t],rl()}}r[t++]=S(e.n1+e.n2+e.n3)},e.bestscore=999999999;for(var Oa=0,bs=e.masks.length-1;Oa<=bs;Oa+=1){e.m=Oa,e.masksym=s(e.rows*e.cols);for(var Hr=0,cs=e.rows*e.cols-1;Hr<=cs;Hr+=1)e.i=Hr,b(e.masksym,e.i,ps(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalmask(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,e.metamask=e.bestmaskval,e.addtometapart=function(){var mt=r[--t];M(e.metapart,e.p,mt),e.p=mt.length+e.p},e.addtometabits=function(){var mt=r[--t];M(e.metabits,e.q,mt),e.q=mt.length+e.q},e.metapart=J(40),e.metabits=J(e.nummetabits),e.p=0,e.q=0,!e.slave)r[t++]=~~E1(pn(e.colors)/pn(2))-1,r[t++]=3,e.tofixedbits(),e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,r[t++]=e.metass,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=e.metavf,r[t++]=2,e.tofixedbits(),e.addtometapart(),r[t++]=e.metamask,r[t++]=3,e.tofixedbits(),e.addtometapart(),e.hasslaves?r[t++]="1":r[t++]="0",e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.metass==0?(r[t++]=S(~~((e.cols-17)/4)-c(s([0,4,8,16]),e.metavf))-1,r[t++]=e.metavlen,e.tofixedbits(),e.addtometapart()):(r[t++]=~~((e.cols-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart(),r[t++]=~~((e.rows-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart()),r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),e.hasslaves&&(r[t++]=0,r[t++]=4,e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0;else{var ys=e.sameshape?0:1;r[t++]=ys,r[t++]=1,e.tofixedbits(),e.addtometapart();var Ua=e.sameecc?0:1;r[t++]=Ua,r[t++]=1,e.tofixedbits(),e.addtometapart();var Dn=e.hasslaves?1:0;r[t++]=Dn,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameshape||(r[t++]=~~((e.diffside-17)/4)-1,r[t++]=5,e.tofixedbits(),e.addtometapart()),e.hasslaves&&(r[t++]=0,r[t++]=3,e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameecc||(r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0}for(var Ta=e.q,hi=e.nummetabits-1;Ta<=hi;Ta+=1)b(e.metabits,Ta,48);if(e.i=0,e.j=0,!e.slave){for(var Gs=C(e.metabits,e.i,6),Ra=0,Tn=Gs.length;Ra<Tn;Ra++){r[t++]=c(Gs,Ra),e.colors==4?r[t++]=s([e.bi,e.yi]):r[t++]=s([e.ki,e.wi]);var Xa=r[--t],Rn=c(Xa,r[--t]-48);r[t++]=Rn,r[t++]=e.pixs,O(c(e.metadatamap,e.j)),e.jmv();var ws=r[t-3],nn=r[t-1];b(r[t-2],nn,ws),t-=3,e.j=e.j+1}e.i=e.i+6}for(var on=0,Zn=~~(S(e.nummetabits-e.i)/e.metabpm);on<Zn;on++){var Ct=C(e.metabits,e.i,e.metabpm);r[t++]=0;for(var Yr=0,aa=Ct.length;Yr<aa;Yr++){var za=r[--t];r[t++]=S(za+(c(Ct,Yr)-48))*2}var da=c(e.metacolorindex,~~(r[--t]/2));r[t++]=da,r[t++]=e.pixs,O(c(e.metadatamap,e.j)),e.jmv();var Za=r[t-3],As=r[t-1];b(r[t-2],As,Za),t-=3,e.i=S(e.i+e.metabpm),e.j=e.j+1}var bn=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["colormap",e.palette],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=bn,e.dontdraw||At(),e=a}function ms(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!1,e.dontdraw=!1,e.ccversion="a",e.cccolumns=-1,e.lintype="",e.linwidth=-1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],_e(e.ccversion,"a")&&_e(e.ccversion,"b")&&_e(e.ccversion,"c")&&(r[t++]="bwipp.gs1ccBadCCversion#28834",r[t++]="ccversion must be a, b or c",z()),e.cccolumns>30&&(r[t++]="bwipp.gs1ccColumnsTooBig#28838",r[t++]="The maximum number of composite component columns is 30",z());var n=new Map([["ean13",4],["upca",4],["ean8",3],["upce",2],["gs1-128",4],["databaromni",4],["databarstacked",2],["databarstackedomni",2],["databartruncated",4],["databarlimited",3],["databarexpanded",4],["databarexpandedstacked",4]]);if(e.lintypecccolumns=n,e.lintype.length!=0){var i=c(e.lintypecccolumns,e.lintype)!==void 0;i||(r[t++]="bwipp.gs1ccBadLinType#28860",r[t++]="The lintype is not recognised",z())}for(e.cccolumns==-1&&(Y(e.lintype,"gs1-128")&&Y(e.ccversion,"c")?(e.linwidth<0&&(r[t++]="bwipp.gs1ccMissingLinWidth#28868",r[t++]="linwidth must be set for a GS1-128 with a CC-C composite component",z()),e.linwidth<68&&(r[t++]="bwipp.gs1ccMinimumLinWidth#28871",r[t++]="Minimum linwidth for a GS1-128 with a CC-C composite component is 68",z()),e.linwidth==68?r[t++]=1:r[t++]=~~((e.linwidth-52)/17)):e.lintype.length!=0?r[t++]=c(e.lintypecccolumns,e.lintype):r[t++]=2,e.cccolumns=r[--t]),r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.isupper=function(){var Xt=r[--t];r[t++]=Xt>=65&&Xt<=90},e.isnum0=function(){var Xt=r[--t];r[t++]=Xt>=48&&Xt<=57},e.isnum1=function(){var Xt=r[--t];r[t++]=Xt>=49&&Xt<=57};;){if(e.ais.length>=1&&(Y(c(e.ais,0),"10")||Y(c(e.ais,0),"11")||Y(c(e.ais,0),"17"))){r[t++]=-1,r[t++]="10";break}if(e.ais.length>=1&&Y(c(e.ais,0),"90")){if(e.v=c(e.vals,0),e.v.length>=1&&(r[t++]=c(e.v,0),e.isupper(),r[--t])){r[t++]=0,r[t++]="11";break}if(e.v.length>=2){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isupper();var o=r[--t];if(r[--t]&&o){r[t++]=1,r[t++]="11";break}}if(e.v.length>=3){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isnum0();var d=r[--t],u=r[--t];r[t++]=mo(u,d),r[t++]=c(e.v,2),e.isupper();var f=r[--t];if(r[--t]&&f){r[t++]=2,r[t++]="11";break}}if(e.v.length>=4){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isnum0();var h=r[--t],p=r[--t];r[t++]=mo(p,h),r[t++]=c(e.v,2),e.isnum0();var m=r[--t],x=r[--t];r[t++]=mo(x,m),r[t++]=c(e.v,3),e.isupper();var y=r[--t];if(r[--t]&&y){r[t++]=3,r[t++]="11";break}}}r[t++]=-1,r[t++]="0";break}e.method=r[--t],e.npre=r[--t],e.tobin=function(){var Xt=J(r[--t]);r[t++]=Xt;for(var Zr=0,Na=Xt.length-1;Zr<=Na;Zr+=1){var Oa=r[t-1];b(Oa,Zr,48)}var bs=r[t-1];r[t++]=bs;var Hr=r[t-3],cs=r[t-1];r[t-3]=r[t-2],t-=2;var ys=$t(J(cs.length),Hr,2);M(cs,cs.length-ys.length,ys)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,r[t++]=1/0;for(var w=65;w<=90;w+=1)r[t++]=w,r[t++]=w-65,r[t++]=5,e.tobin();for(var v=48;v<=57;v+=1)r[t++]=v,r[t++]=v+4,r[t++]=6,e.tobin();r[t++]=e.fnc1,r[t++]="11111",e.alpha=Ge(),r[t++]=1/0;for(var g=0;g<=119;g+=1){var A=_r(J(2),"00"),k=$t(J(2),g,11);if(M(A,2-k.length,k),r[t++]=g,r[t++]=A,c(A,0)==65){var E=r[t-1];b(E,0,94)}var j=r[t-1];if(c(j,1)==65){var N=r[t-1];b(N,1,94)}var B=r[--t],I=_r(J(7),"0000000"),D=$t(J(7),r[--t]+8,2);M(I,7-D.length,D),r[t++]=B,r[t++]=I}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=Ge(),r[t++]=1/0;for(var T=48;T<=57;T+=1)r[t++]=T,r[t++]=T-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var R=65;R<=90;R+=1)r[t++]=R,r[t++]=R-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var $=44;$<=47;$+=1)r[t++]=$,r[t++]=$+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=Ge(),r[t++]=1/0;for(var _=48;_<=57;_+=1)r[t++]=_,r[t++]=_-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var F=65;F<=90;F+=1)r[t++]=F,r[t++]=F-1,r[t++]=7,e.tobin();for(var Q=97;Q<=122;Q+=1)r[t++]=Q,r[t++]=Q-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var L=37;L<=47;L+=1)r[t++]=L,r[t++]=L+197,r[t++]=8,e.tobin();for(var X=58;X<=63;X+=1)r[t++]=X,r[t++]=X+187,r[t++]=8,e.tobin();if(r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=Ge(),Y(e.method,"10")){if(Y(c(e.ais,0),"11")||Y(c(e.ais,0),"17")){var le=c(e.vals,0),fe=_r(J(16),"0000000000000000"),V=$t(J(16),Fe(C(le,0,2))*384+((Fe(C(le,2,2))-1)*32+Fe(C(le,4,2))),2);M(fe,16-V.length,V),r[t++]=fe,r[t++]=1/0,r[t++]=1,r[t++]=0,Sa(4,-1),ve(r[--t],function(){var Xt=r[--t];r[t++]=Xt-48});var H=Y(c(e.ais,0),"11")?0:1;r[t++]=H,e.cdf=s(),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)}else e.cdf=s([1,0,1,1]);e.ais.length!=0?Y(c(e.ais,0),"10")?(r[t++]=1/0,ve(c(e.vals,0)),e.gpf=s(),e.ais.length>1&&(r[t++]=1/0,O(e.gpf),r[t++]=e.fnc1,e.gpf=s()),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)):e.gpf=s([e.fnc1]):(r[t++]=1/0,O(e.cdf),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.cdf=s(),e.gpf=s([])),e.mode="numeric"}if(Y(e.method,"11")){e.cdf=s([1,1]),e.ai90=c(e.vals,0),e.npre+1!=e.ai90.length?r[t++]=C(e.ai90,e.npre+1,S(e.ai90.length-e.npre)-1):r[t++]="",e.ai90rem=r[--t],r[t++]="nalpha",r[t++]=0,ve(e.ai90rem,function(){var Xt=r[--t];if(Xt>=65&&Xt<=90){var Zr=r[--t];r[t++]=Zr+1}});var se=r[--t];e[r[--t]]=se,r[t++]="nnums",r[t++]=0,ve(e.ai90rem,function(){var Xt=r[--t];if(Xt>=48&&Xt<=57){var Zr=r[--t];r[t++]=Zr+1}});var ue=r[--t];e[r[--t]]=ue,r[t++]="mode",T1(e.nalpha,e.nnums)?r[t++]="alpha":e.nalpha==0?r[t++]="numeric":r[t++]="alphanumeric";var U=r[--t];e[r[--t]]=U,S(e.nalpha+e.nnums)!=e.ai90rem.length&&(e.mode="alphanumeric"),r[t++]=1/0,O(e.cdf),Y(e.mode,"alphanumeric")&&(r[t++]=0),Y(e.mode,"numeric")&&(r[t++]=1,r[t++]=0),Y(e.mode,"alpha")&&(r[t++]=1,r[t++]=1),e.cdf=s(),r[t++]="ais1",e.ais.length>1?r[t++]=c(e.ais,1):r[t++]=-1;var W=r[--t];e[r[--t]]=W,r[t++]="vals1",e.vals.length>1?r[t++]=c(e.vals,1):r[t++]=-1;var re=r[--t];e[r[--t]]=re,Y(e.ais1,"21")||Y(e.ais1,"8004")?(r[t++]=1/0,O(e.cdf),Y(e.ais1,"21")?(r[t++]=1,r[t++]=0):(r[t++]=1,r[t++]=1),e.cdf=s()):(r[t++]=1/0,O(e.cdf),r[t++]=0,e.cdf=s()),r[t++]="nval",e.npre!=0?r[t++]=Fe(C(e.ai90,0,e.npre)):r[t++]=0;var ie=r[--t];if(e[r[--t]]=ie,Rt("BDHIJKLNPQRSTVXZ",C(e.ai90,e.npre,1)),r[--t]){var be=r[--t];r[t-1]=be.length;var K=r[--t];r[t-1]=K,e.aval=r[--t]}else t--,e.aval=-1;if(e.nval<31&&e.aval!=-1){var ke=_r(J(5),"00000"),je=$t(J(5),e.nval,2);M(ke,5-je.length,je);var Qe=1/0,ze=ke;r[t++]=Qe,ve(ze,function(){var Xt=r[--t];r[t++]=Xt-48}),e.nbits=s();var tt=_r(J(4),"0000"),Ze=$t(J(4),e.aval,2);M(tt,4-Ze.length,Ze);var Re=1/0,He=tt;r[t++]=Re,ve(He,function(){var Xt=r[--t];r[t++]=Xt-48}),e.abits=s(),r[t++]=1/0,O(e.cdf),O(e.nbits),O(e.abits),e.cdf=s()}else{var Ue=_r(J(10),"0000000000"),ye=$t(J(10),e.nval,2);M(Ue,10-ye.length,ye);var Ye=1/0,Ae=Ue;r[t++]=Ye,ve(Ae,function(){var Xt=r[--t];r[t++]=Xt-48}),e.nbits=s();var Le=_r(J(5),"00000"),he=$t(J(5),c(e.ai90,e.npre)-65,2);M(Le,5-he.length,he);var Pe=1/0,Me=Le;r[t++]=Pe,ve(Me,function(){var Xt=r[--t];r[t++]=Xt-48}),e.abits=s(),r[t++]=1/0,O(e.cdf),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,O(e.nbits),O(e.abits),e.cdf=s()}if(_e(e.mode,"alpha"))r[t++]=1/0,ve(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.gpf=s();else{r[t++]=1/0,ve(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.in=s(),e.out=s(e.in.length*6),e.j=0;for(var $e=0,rt=e.in.length-1;$e<=rt;$e+=1){var pt=c(e.alpha,c(e.in,$e));r[t++]=pt;var ut=1/0,bt=pt;r[t++]=ut,ve(bt,function(){var Xt=r[--t];r[t++]=Xt-48}),M(e.out,e.j,s()),e.j=r[--t].length+e.j}r[t++]=1/0,O(e.cdf),O(C(e.out,0,e.j)),e.cdf=s(),e.gpf=s([]),e.ais.length>1&&(e.mode="numeric")}e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(Y(e.ais1,"21")||Y(e.ais1,"8004"))&&(r[t++]=1/0,O(e.gpf),ve(e.vals1),e.gpf=s(),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(r[t++]=1/0,O(e.gpf),r[t++]=e.fnc1,e.gpf=s()))}Y(e.method,"0")&&(e.cdf=s([0]),e.gpf=s([]),e.mode="numeric");for(var It=0,St=e.ais.length-1;It<=St;It+=1){e.i=It,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var de=s(e.gpf.length+e.ai.length+e.val.length);M(de,0,e.gpf),r[t++]=de,r[t++]=de,r[t++]=e.gpf.length;var Ee=1/0,at=e.ai;r[t++]=Ee,ve(at);var ot=s(),Et=r[--t];M(r[--t],Et,ot);var yt=r[t-1];r[t++]=yt,r[t++]=e.gpf.length+e.ai.length;var P=1/0,G=e.val;r[t++]=P,ve(G);var q=s(),te=r[--t];if(M(r[--t],te,q),e.gpf=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var ce=s(e.gpf.length+1);M(ce,0,e.gpf),b(ce,e.gpf.length,e.fnc1),e.gpf=ce}}var ge=new Map([["a",s([s([167,138,118,108,88,78,59]),s([167,138,118,98,78]),s([197,167,138,108,78])])],["b",s([s([336,296,256,208,160,104,56]),s([768,648,536,416,304,208,152,112,72,32]),s([1184,1016,840,672,496,352,264,208,152,96,56])])]]);e.bitcapsmaps=ge,e.rembits=function(){if(e.used=r[--t],_e(e.ccversion,"c")){e.bitcaps=c(c(e.bitcapsmaps,e.ccversion),e.cccolumns-2),r[t++]=-1,ve(e.bitcaps,function(){var cs=r[t-1];if(Yn(cs,e.used)){var ys=r[--t],Ua=r[--t];r[t++]=ys,r[t++]=Ua}t--});var Xt=r[t-1];if(Xt!=-1){var Zr=r[--t];r[t++]=S(Zr-e.used)}}else{var Na=new Map([["c",-1]]);c(Na,e.ccversion);var Oa=~~xr(e.used/8);for(e.m=~~(Oa/6)*5+Oa%6,e.m<=40&&(r[t++]=8),e.m>=41&&e.m<=160&&(r[t++]=16),e.m>=161&&e.m<=320&&(r[t++]=32),e.m>=321&&e.m<=833&&(r[t++]=64),e.m>=834&&(r[t++]=32),e.eccws=r[--t],e.m=S(e.m+e.eccws)+3,e.cccolumns>30&&(e.cccolumns=30);!(~~xr(e.m/e.cccolumns)<=30||e.cccolumns>=30);)e.cccolumns=e.cccolumns+1;e.r=~~xr(e.m/e.cccolumns),e.r<3&&(e.r=3);var bs=S(e.cccolumns*e.r-e.eccws)-3;e.tgt=S(~~(bs/5)*6+bs%5)*8,e.used<=8304?r[t++]=S(e.tgt-e.used):r[t++]=-1}var Hr=r[t-1];Hr==-1&&(t--,Y(e.ccversion,"a")?e.ccversion="b":Y(e.ccversion,"b")&&Y(e.lintype,"gs1-128")?(e.ccversion="c",e.cccolumns=~~((e.linwidth-52)/17)):e.ccversion=-1,r[t++]=e.used,e.rembits())},e.encode=function(){var Xt=r[t-1];if(_e(Xt,"raw")){var Zr=r[--t],Na=c(Zr,r[--t]);r[t++]=Na}else t--;r[t++]=1/0;var Oa=r[--t],bs=r[--t];r[t++]=Oa,ve(bs,function(){var cs=r[--t];r[t++]=cs-48});var Hr=s();M(e.gpfenc,e.j,Hr),e.j=Hr.length+e.j},r[t++]=1/0;for(var ae=0,Ce=e.gpf.length;ae<Ce;ae++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var Z=0,xe=e.gpf.length;Z<xe;Z++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var me=0,Ne=e.gpf.length;me<Ne;me++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var oe=e.gpf.length-1;oe>=0;oe-=1){e.i=oe;var we=_r(J(2),"00"),Be=c(e.gpf,e.i);r[t++]=c(e.gpf,e.i),r[t++]=we,r[t++]=we,r[t++]=0,r[t++]=Be,Be==e.fnc1&&(r[t-1]=94);var pe=r[--t],Ie=r[--t];if(b(r[--t],Ie,pe),e.i<e.gpf.length-1){var Se=r[t-1],Te=c(e.gpf,e.i+1);r[t++]=Se,r[t++]=1,r[t++]=Te,Te==e.fnc1&&(r[t-1]=94);var Ve=r[--t],qe=r[--t];b(r[--t],qe,Ve)}var et=c(e.numeric,r[--t])!==void 0;et?b(e.numericruns,e.i,c(e.numericruns,e.i+2)+2):b(e.numericruns,e.i,0);var ct=r[t-1],lt=c(e.alphanumeric,ct)!==void 0;lt?b(e.alphanumericruns,e.i,c(e.alphanumericruns,e.i+1)+1):b(e.alphanumericruns,e.i,0);var De=r[--t],We=c(e.iso646,De)!==void 0,Ke=c(e.alphanumeric,De)!==void 0;We&&!Ke?b(e.nextiso646only,e.i,0):b(e.nextiso646only,e.i,c(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(8304),e.i=0,e.j=0;e.i!=e.gpf.length;)for(;;){if(Y(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var st=J(2),gt=c(e.gpf,e.i);r[t++]=st,r[t++]=st,r[t++]=0,r[t++]=gt,gt==e.fnc1&&(r[t-1]=94);var wt=r[--t],vt=r[--t];b(r[--t],vt,wt);var kt=r[t-1],dt=c(e.gpf,e.i+1);r[t++]=kt,r[t++]=1,r[t++]=dt,dt==e.fnc1&&(r[t-1]=94);var _t=r[--t],nt=r[--t];b(r[--t],nt,_t);var Qt=r[t-1],Ht=c(e.numeric,Qt)!==void 0;if(Ht){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var Ut=c(e.gpf,e.i);if(Ut<48||Ut>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=e.cdf.length+e.j,e.rembits();var sr=r[--t];if(e[r[--t]]=sr,e.rem>=4&&e.rem<=6){var Cr=C(_r(J(6),"000000"),0,e.rem),nr=$t(J(4),c(e.gpf,e.i)-47,2);M(Cr,4-nr.length,nr),r[t++]=Cr,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var gr=J(2);b(gr,0,c(e.gpf,e.i)),b(gr,1,94),r[t++]=gr,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(Y(e.mode,"alphanumeric")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var ar=c(e.gpf,e.i),Br=c(e.iso646,ar)!==void 0,Zt=c(e.alphanumeric,ar)!==void 0;if(Br&&!Zt){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(c(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var dr=c(e.numericruns,e.i);if(dr>=4&&S(dr+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(Y(e.mode,"iso646")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(c(e.numericruns,e.i)>=4&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(c(e.alphanumericruns,e.i)>=5&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=C(e.gpfenc,0,e.j),r[t++]="pad",r[t++]=e.cdf.length+e.gpf.length,e.rembits();var Kt=s(r[--t]);if(e[r[--t]]=Kt,e.pad.length>0){for(var Jt=0,ur=e.pad.length-1;Jt<=ur;Jt+=5){e.i=Jt;var Tr=e.pad,Fr=e.i,fa=s([0,0,1,0,0]),Tt=e.pad,Gt=e.i,tr=5,br=Tt.length-Gt;if(Tt.length-Gt>5){var ir=tr;tr=br,br=ir}M(Tr,Fr,C(fa,0,br))}Y(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=C(s(),0,e.pad.length)),Y(e.mode,"alpha")&&(r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=C(s(),0,e.pad.length))}r[t++]=1/0,O(e.cdf),O(e.gpf),O(e.pad),e.bits=s(),r[t++]=1/0,r[t++]=s([0,0,0,0,0,0,1]);for(var Dr=0;Dr<68;Dr++)r[t++]=s(7);e.pwr928=s();for(var or=1;or<=68;or+=1){e.j=or,e.v=0;for(var zt=6;zt>=1;zt-=1)e.i=zt,e.v=S(c(c(e.pwr928,e.j-1),e.i)*2+~~(e.v/928)),b(c(e.pwr928,e.j),e.i,e.v%928);b(c(e.pwr928,e.j),0,S(c(c(e.pwr928,e.j-1),0)*2+~~(e.v/928)))}if(e.ccversion=="a"){r[t++]=1/0;for(var yr=0;yr<28;yr++)r[t++]=0;for(e.cws=s(),e.b=0,e.c=0;e.b!=e.bits.length;){var ra=e.bits,ha=e.b,Aa=e.bits,Qr=e.b,Ca=Aa.length-Qr,ba=69;if(69>Aa.length-Qr){var ir=Ca;Ca=ba,ba=ir}e.bs=C(ra,ha,ba),e.bsl=e.bs.length,e.cs=C(e.cws,e.c,~~(e.bsl/10)+1),e.csl=e.cs.length;for(var Ma=0,ca=e.bsl-1;Ma<=ca;Ma+=1){e.i=Ma;for(var ka=0,Ia=e.csl-1;ka<=Ia;ka+=1){e.j=ka;var ja=e.cs,Qa=e.j;b(ja,Qa,S(c(ja,Qa)+c(c(e.pwr928,e.i),e.j+7-e.csl)*c(e.bs,e.bsl-e.i-1)))}}for(var Ha=e.csl-1;Ha>=1;Ha-=1){e.i=Ha;var Ka=e.cs,xs=e.i;b(Ka,xs-1,S(c(Ka,xs-1)+~~(c(e.cs,e.i)/928)));var Ba=e.cs,Ts=e.i;b(Ba,Ts,c(Ba,Ts)%928)}e.b=e.b+e.bsl,e.c=e.c+e.csl}e.cws=C(e.cws,0,e.c),e.barcode=J(e.cws.length*4);for(var $a=0,$s=e.cws.length-1;$a<=$s;$a+=1){e.i=$a;var _a=_r(J(4),"^000"),vs=$t(J(4),c(e.cws,e.i),10);M(_a,4-vs.length,vs),M(e.barcode,e.i*4,_a)}delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"cca",!0),b(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,fu();var Rs=r[--t];e[r[--t]]=Rs}if(e.ccversion=="b"){e.barcode=J(~~(e.bits.length/8));for(var Ms=0,Wa=e.barcode.length-1;Ms<=Wa;Ms+=1){e.i=Ms;var qs=C(e.bits,e.i*8,8);r[t++]=0;for(var Ja=0,gs=qs.length;Ja<gs;Ja++){var Fa=r[--t];r[t++]=S(Fa+c(qs,Ja))*2}b(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"ccb",!0),b(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,fu();var gn=r[--t];e[r[--t]]=gn}if(e.ccversion=="c"){e.barcode=J(~~(e.bits.length/8));for(var qa=0,Bn=e.barcode.length-1;qa<=Bn;qa+=1){e.i=qa;var Da=C(e.bits,e.i*8,8);r[t++]=0;for(var en=0,Pa=Da.length;en<Pa;en++){var sn=r[--t];r[t++]=S(sn+c(Da,en))*2}b(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"ccc",!0),b(e.options,"columns",e.cccolumns),b(e.options,"eclevel",~~(pn(e.eccws)/pn(2))-1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$u();var ls=r[--t];e[r[--t]]=ls}r[t++]=e.args,e.dontdraw||At(),e=a}function TM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29501",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","ean13"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,h2(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var se=r[--t],ue=r[--t];r[t++]=S(ue+Fe(se))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var y=0,w=e.ccpixx-97;y<w;y++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var v=0,g=e.diff;v<g;v++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<93;T++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var R=71;R>=0;R-=1){e.y=R,O(e.linpad),r[t++]=0;for(var $=0,_=e.sbs.length-1;$<=_;$+=1)if(e.i=$,e.i%2==0){var F=c(e.bbs,~~(e.i/2))*72;if(F>e.y||S(F+c(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,L=Fe(c(e.sbs,e.i));Q<L;Q++)r[t++]=0;else for(var X=0,le=Fe(c(e.sbs,e.i));X<le;X++)r[t++]=1}else for(var fe=0,V=Fe(c(e.sbs,e.i));fe<V;fe++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var H=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=H,e.dontdraw||(ee.save(),At(),ee.restore())}else{ee.save(),Mt();var i=ee.currpos();ee.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var o=r[--t];ee.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<93;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=Ge();r[t++]=p,At(),ee.restore()}e=a}function RM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29664",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","ean8"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Wm(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var U=r[--t],W=r[--t];r[t++]=S(W+Fe(U))});var x=r[--t];e[r[--t]]=x;var y=e.comp;r[t++]="compsym",r[t++]=y,r[t++]=e.options,ms();var w=r[--t];e[r[--t]]=w,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var v=0,g=e.ccpixx-69;v<g;v++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var A=0,k=e.diff;A<k;A++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var E=0,j=e.ccpixx,N=e.ccpixs.length-1;j<0?E>=N:E<=N;E+=j)e.i=E,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var B=0;B<2;B++){O(e.linpad),r[t++]=0,r[t++]=1;for(var I=0;I<65;I++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=1,r[t++]=0;for(var T=0;T<65;T++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var R=0;R<2;R++){O(e.linpad),r[t++]=0,r[t++]=1;for(var $=0;$<65;$++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var _=71;_>=0;_-=1){e.y=_,O(e.linpad),r[t++]=0;for(var F=0,Q=e.sbs.length-1;F<=Q;F+=1)if(e.i=F,e.i%2==0){var L=c(e.bbs,~~(e.i/2))*72;if(L>e.y||S(L+c(e.bhs,~~(e.i/2))*72)<e.y)for(var X=0,le=Fe(c(e.sbs,e.i));X<le;X++)r[t++]=0;else for(var fe=0,V=Fe(c(e.sbs,e.i));fe<V;fe++)r[t++]=1}else for(var H=0,se=Fe(c(e.sbs,e.i));H<se;H++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var ue=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=ue,e.dontdraw||(ee.save(),At(),ee.restore())}else{ee.save(),Mt();var i=ee.currpos();r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ms();var o=r[--t];ee.rmoveto(70-c(o,"pixx"),78),r[t++]=o,At();var d=r[--t];ee.moveto(r[--t]-1,d+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var u=0;u<65;u++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var f=0;f<65;f++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var h=0;h<65;h++)r[t++]=0;r[t++]=1,r[t++]=0;var p=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=p,r[t++]="pixx",r[t++]=69,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=69/72,r[t++]="opt",r[t++]=e.options;var m=Ge();r[t++]=m,At(),ee.restore()}e=a}function MM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29830",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","ean13"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Fw(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var se=r[--t],ue=r[--t];r[t++]=S(ue+Fe(se))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var y=0,w=e.ccpixx-97;y<w;y++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var v=0,g=e.diff;v<g;v++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<93;T++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var R=71;R>=0;R-=1){e.y=R,O(e.linpad),r[t++]=0;for(var $=0,_=e.sbs.length-1;$<=_;$+=1)if(e.i=$,e.i%2==0){var F=c(e.bbs,~~(e.i/2))*72;if(F>e.y||S(F+c(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,L=Fe(c(e.sbs,e.i));Q<L;Q++)r[t++]=0;else for(var X=0,le=Fe(c(e.sbs,e.i));X<le;X++)r[t++]=1}else for(var fe=0,V=Fe(c(e.sbs,e.i));fe<V;fe++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var H=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=H,e.dontdraw||(ee.save(),At(),ee.restore())}else{ee.save(),Mt();var i=ee.currpos();ee.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var o=r[--t];ee.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<93;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=Ge();r[t++]=p,At(),ee.restore()}e=a}function _M(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29993",r[t++]="A Composite Component must be provided following a pipe character",z()),b(e.options,"lintype","upce"),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Pw(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ve(e.sbs,function(){var se=r[--t],ue=r[--t];r[t++]=S(ue+Fe(se))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var y=0,w=e.ccpixx-53;y<w;y++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var v=0,g=e.diff;v<g;v++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<49;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<49;I++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<49;T++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var R=71;R>=0;R-=1){e.y=R,O(e.linpad),r[t++]=0;for(var $=0,_=e.sbs.length-1;$<=_;$+=1)if(e.i=$,e.i%2==0){var F=c(e.bbs,~~(e.i/2))*72;if(F>e.y||S(F+c(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,L=Fe(c(e.sbs,e.i));Q<L;Q++)r[t++]=0;else for(var X=0,le=Fe(c(e.sbs,e.i));X<le;X++)r[t++]=1}else for(var fe=0,V=Fe(c(e.sbs,e.i));fe<V;fe++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var H=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=H,e.dontdraw||(ee.save(),At(),ee.restore())}else{ee.save(),Mt();var i=ee.currpos();ee.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var o=r[--t];ee.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<49;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<49;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<49;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=53,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=53/72,r[t++]="opt",r[t++]=e.options;var p=Ge();r[t++]=p,At(),ee.restore()}e=a}function FM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30156",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databaromni"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,x2();var i=r[--t];if(e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),e.sepfinder=function(){e.fp=r[--t];for(var v=e.fp,g=e.fp+12;v<=g;v+=1){if(e.i=v,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var A=c(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var k=0;k<=12;k+=1){var E=r[--t];r[t++]=E&&Y(c(e.bot,S(k+e.fp)),c(e.f3,k))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var v=r[--t],g=r[t-1],A=g==1?0:1,k=0,E=v;k<E;k++)r[t++]=A}),Yt(s(va()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var v=r[--t];r[t++]=1-v}),e.sep=s(),M(e.sep,0,s([0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var f=r[--t];e[r[--t]]=f,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var v=r[--t],g=r[t-1],A=g==0?1:0,k=0,E=Fe(v);k<E;k++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var x=0,y=e.linheight;x<y;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var w=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=w,e.dontdraw||(ee.save(),At(),ee.restore())}else{var o=ee.currpos();ee.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var d=r[--t];ee.moveto(r[--t],S(d+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,At(),ee.restore()}e=a}function PM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30317",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databarstacked"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Uw();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):At(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,j=e.fp+12;E<=j;E+=1){if(e.i=E,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var N=c(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&Y(c(e.bot,S(B+e.fp)),c(e.f3,B))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);if(e.sep=s(),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var m=r[--t];e[r[--t]]=m,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,y=e.ccpixx,w=e.ccpixs.length-1;y<0?x>=w:x<=w;x+=y)e.i=x,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx));O(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var v=0,g=e.linwidth,A=e.linpixs.length-1;g<0?v>=A:v<=A;v+=g)e.i=v,O(C(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var k=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=k,e.dontdraw||(ee.save(),At(),ee.restore())}else{var f=ee.currpos();ee.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var h=r[--t];ee.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,At(),ee.restore()}e=a}function OM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30474",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databarstackedomni"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,zw();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):At(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,j=e.fp+12;E<=j;E+=1){if(e.i=E,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var N=c(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&Y(c(e.bot,S(B+e.fp)),c(e.f3,B))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);if(e.sep=s(),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var m=r[--t];e[r[--t]]=m,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,y=e.ccpixx,w=e.ccpixs.length-1;y<0?x>=w:x<=w;x+=y)e.i=x,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx));O(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var v=0,g=e.linwidth,A=e.linpixs.length-1;g<0?v>=A:v<=A;v+=g)e.i=v,O(C(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var k=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=k,e.dontdraw||(ee.save(),At(),ee.restore())}else{var f=ee.currpos();ee.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var h=r[--t];ee.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,At(),ee.restore()}e=a}function UM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30632",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databartruncated"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Lw();var i=r[--t];if(e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),e.sepfinder=function(){e.fp=r[--t];for(var v=e.fp,g=e.fp+12;v<=g;v+=1){if(e.i=v,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var A=c(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;b(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var k=0;k<=12;k+=1){var E=r[--t];r[t++]=E&&Y(c(e.bot,S(k+e.fp)),c(e.f3,k))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var v=r[--t],g=r[t-1],A=g==1?0:1,k=0,E=v;k<E;k++)r[t++]=A}),Yt(s(va()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var v=r[--t];r[t++]=1-v}),e.sep=s(),M(e.sep,0,s([0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var f=r[--t];e[r[--t]]=f,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var v=r[--t],g=r[t-1],A=g==0?1:0,k=0,E=Fe(v);k<E;k++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var x=0,y=e.linheight;x<y;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var w=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=w,e.dontdraw||(ee.save(),At(),ee.restore())}else{var o=ee.currpos();ee.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var d=r[--t];ee.moveto(r[--t],S(d+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,At(),ee.restore()}e=a}function zM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30794",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databarlimited"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Qw();var i=r[--t];e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),r[t++]=1/0,r[t++]=1,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==0?1:0,$=0,_=D;$<_;$++)r[t++]=R}),Yt(s(va()-1)),e.sep=r[--t],t-=2,M(e.sep,0,s([0,0,0]));var o=e.sep;if(M(e.sep,o.length-9,s([0,0,0,0,0,0,0,0,0])),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var x=r[--t];if(e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==0?1:0,$=0,_=Fe(D);$<_;$++)r[t++]=R}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.ccpixx==72){r[t++]=1/0;for(var y=0,w=e.ccpixx,v=e.ccpixs.length-1;w<0?y>=v:y<=v;y+=w)e.i=y,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;O(e.sep);for(var g=0,A=e.linheight;g<A;g++)O(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length}else{r[t++]=1/0;for(var k=0,E=e.ccpixx,j=e.ccpixs.length-1;E<0?k>=j:k<=j;k+=E)e.i=k,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var N=0,B=e.linheight;N<B;N++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+6}e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(ee.save(),At(),ee.restore())}else{var d=ee.currpos(),u=e.comp;r[t++]=d.x,r[t++]=d.y,r[t++]=u,r[t++]=e.options,ms();var f=r[--t];ee.rmoveto(72-c(f,"pixx"),e.linheight+1),r[t++]=f,At();var h=r[--t];ee.moveto(r[--t],S(h+e.linheight));var p=e.options,m=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",p]]);r[t++]=m,At(),ee.restore()}e=a}function LM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30946",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databarexpanded"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Jm();var i=r[--t];e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Mt(),e.sepfinder=function(){e.fp=r[--t];for(var D=e.fp,T=e.fp+12;D<=T;D+=1){if(e.i=D,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var R=c(e.sep,e.i-1)==0?1:0;r[t++]=R}else r[t++]=0;b(e.sep,e.i,r[--t])}},r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==1?0:1,$=0,_=D;$<_;$++)r[t++]=R}),Yt(s(va()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ve(e.bot,function(){var D=r[--t];r[t++]=1-D}),e.sep=s(),M(e.sep,0,s([0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var o=18,d=e.bot.length-13;o<=d;o+=98)r[t++]=o;for(var u=69,f=e.bot.length-13;u<=f;u+=98)r[t++]=u;for(var h=s(),p=0,m=h.length;p<m;p++)r[t++]=c(h,p),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var v=r[--t];e[r[--t]]=v,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ve(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==0?1:0,$=0,_=Fe(D);$<_;$++)r[t++]=R}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.diff=S(e.linpixs.length-e.ccpixx),r[t++]=1/0;for(var g=0,A=e.diff-2;g<A;g++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var k=0,E=e.ccpixx,j=e.ccpixs.length-1;E<0?k>=j:k<=j;k+=E)e.i=k,r[t++]=0,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.sep);for(var N=0,B=e.linheight;N<B;N++)O(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length,e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(ee.save(),At(),ee.restore())}else{var x=ee.currpos();ee.rmoveto(1,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var y=r[--t];ee.moveto(r[--t],S(y+e.linheight));var w=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=w,At(),ee.restore()}e=a}function QM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31106",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"lintype","databarexpandedstacked"),b(e.options,"linkage",!0),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,r[t++]=e.linear,r[t++]=e.options,Xm();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):At(),e.sepfinder=function(){e.fp=r[--t];for(var _=e.fp,F=e.fp+12;_<=F;_+=1){if(e.i=_,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var Q=c(e.sep,e.i-1)==0?1:0;r[t++]=Q}else r[t++]=0;b(e.sep,e.i,r[--t])}},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);e.sep=s(),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var f=19,h=e.bot.length-13;f<=h;f+=98)r[t++]=f;for(var p=70,m=e.bot.length-13;p<=m;p+=98)r[t++]=p;for(var x=s(),y=0,w=x.length;y<w;y++)r[t++]=c(x,y),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,ms();var E=r[--t];e[r[--t]]=E,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.pixx=e.sep.length,r[t++]=1/0;for(var j=0,N=~~((S(e.pixx-e.ccpixx)+1)/2);j<N;j++)r[t++]=0;e.cclpad=s(),r[t++]=1/0;for(var B=0,I=~~(S(e.pixx-e.ccpixx)/2);B<I;B++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var D=0,T=e.ccpixx,R=e.ccpixs.length-1;T<0?D>=R:D<=R;D+=T)e.i=D,O(e.cclpad),O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.sep),O(e.linpixs),e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var $=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=$,e.dontdraw||(ee.save(),At(),ee.restore())}else{var v=ee.currpos(),g=c(e.bot,0)==0?2:0;ee.rmoveto(g,e.linheight+1),r[t++]=v.x,r[t++]=v.y,r[t++]=e.comp,r[t++]=e.options,ms(),At();var A=r[--t];ee.moveto(r[--t],S(A+e.linheight));var k=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=k,At(),ee.restore()}e=a}function HM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31259",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||ee.save(),b(e.options,"inkspreadv",0),b(e.options,"dontdraw",!0),b(e.options,"dontlint",!0);var n=J(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Ds(),t-=3,b(e.options,"linkagea",!0),r[t++]=e.linear,r[t++]=1/0,ve(e.options);var i=Ge();r[t++]=i,E3();var o=c(r[--t],"sbs");r[t++]=0,ve(o,function(){var F=r[--t],Q=r[--t];r[t++]=S(Q+F)}),e.linwidth=r[--t],b(e.options,"lintype","gs1-128"),b(e.options,"linwidth",e.linwidth),r[t++]=e.comp,r[t++]=1/0,ve(e.options);var d=Ge();r[t++]=d,ms(),e.compsym=r[--t],c(e.compsym,"pixx")==99?r[t++]="a":r[t++]="c",e.linktype=r[--t],b(e.compsym,"borderbottom",0),Y(e.linktype,"a")?(b(e.options,"linkagea",!0),b(e.options,"linkagec",!1)):(b(e.options,"linkagea",!1),b(e.options,"linkagec",!0));var u=e.linear;r[t++]=u,r[t++]=1/0,ve(e.options);var f=Ge();r[t++]=f,E3();var h=r[--t];if(e.linsbs=c(h,"sbs"),e.linheight=c(c(h,"bhs"),0)*72,r[t++]=h,e.usematrix?t--:Mt(),r[t++]=1/0,r[t++]=1,ve(e.linsbs,function(){for(var F=r[--t],Q=r[t-1],L=Q==0?1:0,X=0,le=F;X<le;X++)r[t++]=L}),Yt(s(va()-1)),e.sep=r[--t],t-=2,Y(e.linktype,"a")){if(e.s=~~((e.linwidth-2)/11),e.p=~~((e.s-9)/2),r[t++]="x",r[t++]=(e.s-e.p-1)*11+10,e.p==0){var p=r[--t];r[t++]=p+2}var m=r[--t];e[r[--t]]=m-99}else e.x=-7;if(e.usematrix){if(e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,ve(e.linsbs,function(){for(var F=r[--t],Q=r[t-1],L=Q==1?0:1,X=0,le=F;X<le;X++)r[t++]=L}),e.linpixs=s(),e.x>0){r[t++]=1/0;for(var v=0,g=e.x;v<g;v++)r[t++]=0;e.cclpad=s(),e.linlpad=s(0)}else{e.cclpad=s(0),r[t++]=1/0;for(var A=0,k=-e.x;A<k;A++)r[t++]=0;e.linlpad=s()}if(e.diff=S(e.linwidth-(e.ccpixx+e.x)),e.diff>0){r[t++]=1/0;for(var E=0,j=e.diff;E<j;E++)r[t++]=0;e.ccrpad=s(),e.linrpad=s(0)}else{e.ccrpad=s(0),r[t++]=1/0;for(var N=0,B=-e.diff;N<B;N++)r[t++]=0;e.linrpad=s()}e.linheight=~~e.linheight,r[t++]=1/0;for(var I=0,D=e.ccpixx,T=e.ccpixs.length-1;D<0?I>=T:I<=T;I+=D)e.i=I,O(e.cclpad),O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.linlpad),O(e.sep),O(e.linrpad);for(var R=0,$=e.linheight;R<$;R++)O(e.linlpad),O(e.linpixs),O(e.linrpad);e.pixs=s(),e.pixx=S(e.cclpad.length+e.ccpixx+e.ccrpad.length),e.pixy=~~(e.pixs.length/e.pixx);var _=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=_,e.dontdraw||(ee.save(),At(),ee.restore())}else{var x=ee.currpos();ee.rmoveto(e.x,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.compsym,At();var y=r[--t];ee.moveto(r[--t],S(y+e.linheight));var w=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=w,At(),ee.restore()}e=a}function $M(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.gssep=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);M(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var y=s(),w=r[--t];if(M(r[--t],w,y),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var v=s(e.dmtx.length+1);M(v,0,e.dmtx),r[t++]=v,r[t++]=v,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var g=r[--t],A=r[--t];b(r[--t],A,g),e.dmtx=r[--t]}}for(e.barcode=J((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var k=c(e.dmtx,e.i);r[t++]=k,k==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var E=r[--t];e[r[--t]]=E,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function qM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.gssep=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);M(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var y=s(),w=r[--t];if(M(r[--t],w,y),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var v=s(e.dmtx.length+1);M(v,0,e.dmtx),r[t++]=v,r[t++]=v,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var g=r[--t],A=r[--t];b(r[--t],A,g),e.dmtx=r[--t]}}for(e.barcode=J((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var k=c(e.dmtx,e.i);r[t++]=k,k==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),b(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var E=r[--t];e[r[--t]]=E,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function GM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Ds(),t--,e.val=c(r[--t],0),e.key=c(r[--t],0),e.hri=J(e.key.length+e.val.length+2),b(e.hri,0,40),M(e.hri,1,e.key),b(e.hri,e.key.length+1,41),M(e.hri,e.key.length+2,e.val),delete e.options.parse,b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var o=r[--t];e[r[--t]]=o,b(e.args,"opt",e.options),b(e.args,"alttext",e.hri),b(e.args,"textyoffset",-1),b(e.args,"textfont","OCR-B"),b(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||At(),e=a}function VM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.qrc=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.qrc.length+e.ai.length+e.val.length);M(o,0,e.qrc),r[t++]=o,r[t++]=o,r[t++]=e.qrc.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.qrc.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var y=s(),w=r[--t];if(M(r[--t],w,y),e.qrc=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var v=s(e.qrc.length+1);M(v,0,e.qrc),b(v,e.qrc.length,e.fnc1),e.qrc=v}}for(e.barcode=J((e.qrc.length+1)*5),e.i=0,e.j=0;e.i!=e.qrc.length;){var g=c(e.qrc,e.i);r[t++]=g,g==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,xl();var A=r[--t];e[r[--t]]=A,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function YM(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,os();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Ds(),t--,e.val=c(r[--t],0),e.key=c(r[--t],0),e.hri=J(e.key.length+e.val.length+2),b(e.hri,0,40),M(e.hri,1,e.key),b(e.hri,e.key.length+1,41),M(e.hri,e.key.length+2,e.val),delete e.options.parse,b(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,xl();var o=r[--t];e[r[--t]]=o,b(e.args,"opt",e.options),b(e.args,"alttext",e.hri),b(e.args,"textyoffset",-4),b(e.args,"textfont","OCR-B"),b(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||At(),e=a}function KM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Ds(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);M(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ve(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ve(x);var y=s(),w=r[--t];if(M(r[--t],w,y),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var v=s(e.dmtx.length+1);M(v,0,e.dmtx),b(v,e.dmtx.length,e.fnc1),e.dmtx=v}}for(e.barcode=J((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var g=c(e.dmtx,e.i);r[t++]=g,g==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):b(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,b(e.options,"dontdraw",!0),b(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Gw();var A=r[--t];e[r[--t]]=A,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function WM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode39emptyData#31945",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccode39badCharacter#31960",r[t++]="HIBC Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode39badCheckDigit#31974",r[t++]="Incorrect HIBC Code 39 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),e.text=J(e.barlen+4),b(e.text,0,42),M(e.text,1,e.barcode);var x=c(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var y=r[--t],w=r[--t];b(r[--t],w,y),b(e.text,e.barlen+3,42),b(e.options,"dontdraw",!0),b(e.options,"includecheck",!1),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,m2();var v=r[--t];e[r[--t]]=v,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function JM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode128emptyData#32049",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccode128badCharacter#32064",r[t++]="HIBC Code 128 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode128badCheckDigit#32078",r[t++]="Incorrect HIBC Code 128 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),e.text=J(e.barlen+4),b(e.text,0,42),M(e.text,1,e.barcode);var x=c(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var y=r[--t],w=r[--t];b(r[--t],w,y),b(e.text,e.barlen+3,42),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,p2();var v=r[--t];e[r[--t]]=v,b(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),b(e.args,"textxalign","center"),b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Mt(),e=a}function XM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixEmptyData#32148",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcdatamatrixBadCharacter#32163",r[t++]="HIBC Data Matrix must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixBadCheckDigit#32177",r[t++]="Incorrect HIBC Data Matrix check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=e.barlen,x=J(m+2);M(x,1,e.barcode),e.barcode=x,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var y=r[--t],w=r[--t];e[w]=y,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function ZM(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixrectangularEmptyData#32239",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcdatamatrixrectangularBadCharacter#32254",r[t++]="HIBC Data Matrix Rectangular must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixrectangularBadCheckDigit#32268",r[t++]="Incorrect HIBC Data Matrix Rectangular check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=e.barlen,x=J(m+2);M(x,1,e.barcode),e.barcode=x,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),b(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$1();var y=r[--t];e[r[--t]]=y,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function e_(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcpdf417EmptyData#32332",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcpdf417BadCharacter#32347",r[t++]="HIBC PDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcpdf417BadCheckDigit#32361",r[t++]="Incorrect HIBC PDF417 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"columns",e.columns);var x=e.options;b(x,"validatecheck",!1);var y=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=y,$u();var w=r[--t];e[r[--t]]=w,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function t_(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcmicropdf417EmptyData#32425",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcmicropdf417BadCharacter#32440",r[t++]="HIBC MicroPDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcmicropdf417BadCheckDigit#32454",r[t++]="Incorrect HIBC MicroPDF417 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum));var x=e.options;b(x,"dontdraw",!0),b(e.options,"columns",e.columns),b(e.options,"validatecheck",!1);var y=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=y,fu();var w=r[--t];e[r[--t]]=w,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function r_(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcqrcodeEmptyData#32517",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcqrcodeBadCharacter#32532",r[t++]="HIBC QR Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcqrcodeBadCheckDigit#32546",r[t++]="Incorrect HIBC QR Code check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,xl();var x=r[--t],y=r[--t];e[y]=x,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function a_(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccodablockfEmptyData#32608",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccodablockfBadCharacter#32623",r[t++]="HIBC Codablock F must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccodablockfBadCheckDigit#32637",r[t++]="Incorrect HIBC Codablock F check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,qw();var x=r[--t],y=r[--t];e[y]=x,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function s_(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,Xe(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcazteccodeEmptyData#32699",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)b(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcazteccodeBadCharacter#32714",r[t++]="HIBC Aztec Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcazteccodeBadCheckDigit#32728",r[t++]="Incorrect HIBC Aztec Code check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=J(e.barlen+2);M(m,1,e.barcode),e.barcode=m,b(e.barcode,0,43),b(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),b(e.options,"dontdraw",!0),b(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,qu();var x=r[--t],y=r[--t];e[y]=x,b(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||At(),e=a}function n_(){var a=e;e=Object.assign({},e),e.options=r[--t],e.barcode=r[--t],e.dontdraw=!1,e.shortfinder=!1,e.includetext=!1,e.includecheck=!1,e.height=1,ve(e.options,function(){var E=r[--t];e[r[--t]]=E}),e.height=+e.height,(e.barcode.length<2||e.barcode.length>7)&&(r[t++]="bwipp.channelcodeBadLength#32803",r[t++]="Channel Code must be 2 to 7 digits",z()),ve(e.barcode,function(){var E=r[--t];(E<48||E>57)&&(r[t++]="bwipp.channelcodeBadCharacter#32807",r[t++]="Channel Code must contain only digits",z())}),Fe(e.barcode)>c(s([26,292,3493,44072,576688,7742862]),e.barcode.length-2)&&(r[t++]="bwipp.channelcodeTooBig#32811",r[t++]="The Channel Code value is too big for the number of channels",z()),e.nextb=function(){var E=r[t-1],j=S(c(e.s,E)+(c(e.b,E-1)+(c(e.b,E-2)+c(e.s,E-1))))>4?1:2;if(r[t++]=j,E<e.chan+2)for(var N=r[t-1],B=r[t-3],I=N,D=B;I<=D;I+=1){var T=r[t-2];b(e.b,T,I);var R=r[t-3],$=r[t-4];r[t++]=S(R-I)+1,r[t++]=$,r[t++]=T+1,e.nexts()}else{var _=r[t-1],F=r[t-3];if(fc(_,F)){var Q=r[t-2],L=r[t-3];if(b(e.b,Q,L),e.value==e.target){r[t++]=1/0;for(var X=3;X<=10;X+=1)r[t++]=c(e.s,X),r[t++]=c(e.b,X);e.out=C(s(),0,e.chan*2)}e.value=e.value+1}}t-=4},e.nexts=function(){var E=r[t-1];if(E<e.chan+2)r[t++]=1;else{var j=r[t-2];r[t++]=j}for(var N=r[--t],B=r[t-2],I=N,D=B;I<=D;I+=1){var T=r[t-1];b(e.s,T,I);var R=r[t-2],$=r[t-3];r[t++]=S(R-I)+1,r[t++]=$,r[t++]=T,e.nextb()}t-=3},e.encode=function(){e.chan=r[--t],e.target=r[--t],e.value=0,e.out=-1,e.b=s([1,1,1,0,0,0,0,0,0,0,0]),e.s=s([0,1,1,0,0,0,0,0,0,0,0]);var E=e.chan;r[t++]=E,r[t++]=E,r[t++]=3,e.nexts(),r[t++]=e.out},e.barlen=e.barcode.length,r[t++]="finder",e.shortfinder?r[t++]=s([1,1,1,1,1]):r[t++]=s([1,1,1,1,1,1,1,1,1]);var n=r[--t];e[r[--t]]=n,r[t++]="data",r[t++]=Fe(e.barcode),r[t++]=e.barlen+1,e.encode();var i=r[--t];if(e[r[--t]]=i,e.check=s([]),e.includecheck){e.mod23=c(s([s([]),s([]),s([13,12,4,9,3,1]),s([13,2,12,3,18,16,4,1]),s([11,16,17,8,20,4,10,2,5,1]),s([1,4,16,18,3,12,2,8,9,13,6,1]),s([20,16,22,13,15,12,5,4,8,9,21,3,7,1]),s([2,6,18,8,1,3,9,4,12,13,16,2,6,18,8,1])]),e.barlen),r[t++]=0;for(var o=0,d=e.data.length-1;o<=d;o+=1){var u=r[--t];r[t++]=S(u+(c(e.data,o)-1)*c(e.mod23,o))}var f=r[--t];r[t++]=f%23,r[t++]=3,e.encode(),e.check=r[--t]}r[t++]=1/0,O(e.finder),O(e.data),O(e.check),e.sbs=s(),e.txt=s(e.barlen);for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,b(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));r[t++]=1/0;var m=e.sbs;r[t++]=1/0;for(var x=0,y=~~((e.sbs.length+1)/2);x<y;x++)r[t++]=e.height;var w=s();r[t++]=1/0;for(var v=0,g=~~((e.sbs.length+1)/2);v<g;v++)r[t++]=0;var A=s();r[t++]="ren",r[t++]=Mt,r[t++]="sbs",r[t++]=m,r[t++]="bhs",r[t++]=w,r[t++]="bbs",r[t++]=A,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var k=Ge();r[t++]=k,e.dontdraw||Mt(),e=a}function Mt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.sbs=s([]),e.bhs=s([]),e.bbs=s([]),e.txt=s([]),e.barcolor="unset",e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.bordercolor="unset",e.inkspread=0,e.width=0,e.barratio=1,e.spaceratio=1,e.showborder=!1,e.showbearer=!1,e.borderleft=10,e.borderright=10,e.bordertop=1,e.borderbottom=1,e.borderwidth=.5,e.guardwhitespace=!1,e.guardleftpos=0,e.guardleftypos=0,e.guardrightpos=0,e.guardrightypos=0,e.guardwidth=7,e.guardheight=7,ve(r[--t],function(){var Kt=r[--t];e[r[--t]]=Kt}),r[t++]=e.opt,delete e.opt,r[t++]=e,Xe(),t--,_e(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",d="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=d,r[t++]=d,r[t++]=u,r[t++]=u;var f=c(Ge(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33005",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(_e(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",y="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=y,r[t++]=y;var w=c(Ge(),e.textyalign)!==void 0;w||(r[t++]="bwipp.renmatrixBadTextyalign#33011",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var v="forward",g="backward",A="upward",k="downward";r[t++]=v,r[t++]=v,r[t++]=g,r[t++]=g,r[t++]=A,r[t++]=A,r[t++]=k,r[t++]=k;var E=c(Ge(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33016",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33020",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var j="offleft",N="left",B="center",I="right",D="offright";r[t++]=j,r[t++]=j,r[t++]=N,r[t++]=N,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var T=c(Ge(),e.extratextxalign)!==void 0;T||(r[t++]="bwipp.renmatrixBadExtratextxalign#33024",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var R="above",$="top",_="center",F="bottom",Q="below";r[t++]=R,r[t++]=R,r[t++]=$,r[t++]=$,r[t++]=_,r[t++]=_,r[t++]=F,r[t++]=F,r[t++]=Q,r[t++]=Q;var L=c(Ge(),e.extratextyalign)!==void 0;L||(r[t++]="bwipp.renmatrixBadExtratextyalign#33028",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var X="forward",le="backward",fe="upward",V="downward";r[t++]=X,r[t++]=X,r[t++]=le,r[t++]=le,r[t++]=fe,r[t++]=fe,r[t++]=V,r[t++]=V;var H=c(Ge(),e.extratextdirection)!==void 0;H||(r[t++]="bwipp.renmatrixBadExtratextdirection#33032",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33036",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.bars=s(~~((e.sbs.length+1)/2)),e.pixx=0,e.pixy=0;for(var se=0,ue=~~((e.sbs.length+1)/2)*2-2;se<=ue;se+=1)e.i=se,e.i%2==0?(e.d=S(c(e.sbs,e.i)*e.barratio-e.barratio)+1,c(e.sbs,e.i)!=0?(e.h=c(e.bhs,~~(e.i/2))*72,e.c=S(e.d/2+e.pixx),e.y=c(e.bbs,~~(e.i/2))*72,e.w=S(e.d-e.inkspread),b(e.bars,~~(e.i/2),s([e.h,e.c,e.y,e.w])),S(e.h+e.y)>e.pixy&&(e.pixy=S(e.h+e.y))):b(e.bars,~~(e.i/2),-1)):e.d=S(c(e.sbs,e.i)*e.spaceratio-e.spaceratio)+1,e.pixx=S(e.pixx+e.d);ee.save();var U=ee.currpos();if(ee.translate(U.x,U.y),e.width!=0&&ee.scale(e.width*72/e.pixx,1),e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.showbearer){ee.save(),ee.newpath(),O(e.bl);var W=r[--t];ee.moveto(r[--t],W),O(e.br);var re=r[--t];ee.lineto(r[--t],re),O(e.tl);var ie=r[--t];ee.moveto(r[--t],ie),O(e.tr);var be=r[--t];ee.lineto(r[--t],be),_e(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(S(e.borderwidth-e.inkspread*2)),ee.stroke(),ee.restore()}else if(e.showborder){ee.save(),ee.newpath(),O(e.bl);var K=r[--t];ee.moveto(r[--t],K);for(var ke=s([e.br,e.tr,e.tl]),je=0,Qe=ke.length;je<Qe;je++){O(c(ke,je));var ze=r[--t];ee.lineto(r[--t],ze)}ee.closepath(),_e(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(e.borderwidth),ee.stroke(),ee.restore()}ee.save(),_e(e.barcolor,"unset")&&ee.setcolor(e.barcolor);for(var tt=e.bars,Ze=0,Re=tt.length;Ze<Re;Ze++){var He=c(tt,Ze);if(r[t++]=He,He!=-1){O(r[--t]),ee.newpath(),ee.setlinewidth(r[--t]);var Ue=r[--t];ee.moveto(r[--t],Ue),ee.rlineto(0,r[--t]),ee.stroke()}else t--}ee.restore();var ye=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),Ye=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),Ae=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),Le=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),he=new Map([["forward",ye],["backward",Ye],["upward",Ae],["downward",Le]]);if(e.positions=he,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Kt=c(e.positions,r[--t]);r[t++]=Kt,r[t++]=Kt,Sa(4,-1);var Jt=r[t-1];Y(Jt,"center")&&(r[t-1]="xcenter");var ur=r[--t];if(c(r[--t],ur)()===!0)return!0;var Tr=r[--t],Fr=r[--t];r[t++]=Tr,r[t++]=Fr,Sa(3,-1);var fa=r[t-1];Y(fa,"center")&&(r[t-1]="ycenter");var Tt=r[--t];if(c(r[--t],Tt)()===!0)return!0},e.includetext)if(_e(e.textcolor,"unset")&&ee.setcolor(e.textcolor),Y(e.textxalign,"unset")&&Y(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Pe=e.txt,Me=0,$e=Pe.length;Me<$e;Me++){O(c(Pe,Me));var rt=r[t-1],pt=r[t-2];if(rt!=e.s||_e(pt,e.fn)){var ut=r[t-1];ut<=0&&(t-=5,r[t++]="bwipp.renlinearFontTooSmall#33178",r[t++]="The font size is too small",z());var bt=r[--t],It=r[--t];e.s=bt,e.fn=It,ee.selectfont(It,bt)}else t-=2;var St=r[--t];ee.moveto(r[--t],St),ee.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var de=e.txt,Ee=0,at=de.length;Ee<at;Ee++)ve(c(c(de,Ee),0));e.txt=s(),e.tstr=J(e.txt.length);for(var ot=0,Et=e.txt.length-1;ot<=Et;ot+=1)b(e.tstr,ot,c(e.txt,ot))}else{e.tstr=e.alttext;for(var yt=0,P=e.alttext.length-1;yt<=P;yt+=1){if(r[t++]=yt,Rt(e.alttextsubspace,C(e.alttext,yt,1)),r[--t]){t--,t--;var G=r[t-2];b(e.alttext,G,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33206",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;Rt(r[--t],e.alttextsplit),r[--t];){var q=r[--t];r[t-1]=q;var te=r[--t],ce=r[--t];r[t++]=te,r[t++]=ce}e.textlines=s()}else e.textlines=s([e.tstr]);if(ee.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var ge=ee.pathbbox();ee.restore(),r[t++]=ge.ury}e.textascent=r[--t];var ae=e.textlines;r[t++]="textwidth",r[t++]=0;for(var Ce=0,Z=ae.length;Ce<Z;Ce++){var xe=ee.stringwidth(c(ae,Ce)),me=r[--t],Ne=xe.w;if(me<xe.w){var oe=Ne;Ne=me,me=oe}r[t++]=me}var we=r[--t];e[r[--t]]=S(we+(e.tstr.length-1)*e.textgaps);var Be=e.textlines.length;if(e.textheight=S(Be*e.textascent+(Be-1)*e.textlinegaps),Y(e.textxalign,"unset")&&(e.textxalign="center"),Y(e.textyalign,"unset")&&(e.textyalign="below"),Y(e.textxalign,"justify"))if(_e(e.textdirection,"forward")&&_e(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33243",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",Y(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var pe=r[--t];e[r[--t]]=pe}else e.textgaps=0,e.textxalign="center";if(Y(e.textyalign,"justify"))if(_e(e.textdirection,"upward")&&_e(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33256",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",Y(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ie=r[--t];e[r[--t]]=Ie}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Se=r[--t];ee.moveto(r[--t],Se),ee.rmoveto(e.textxoffset,e.textyoffset),ee.save();var Te=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(c(Te,e.textdirection));var Ve=ee.currpos();ee.translate(Ve.x,Ve.y);for(var qe=0,et=e.textlines.length-1;qe<=et;qe+=1){e.i=qe,ee.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var ct=e.textlines;ee.show(c(ct,ct.length-e.i-1),e.textgaps,0)}ee.restore()}if(e.guardwhitespace&&(ee.selectfont("OCR-B",e.guardheight*2),e.guardleftpos!=0&&(ee.moveto(-e.guardleftpos-2,S(e.guardleftypos-e.guardheight/2-1.25)),ee.show("<",0,0)),e.guardrightpos!=0&&(ee.moveto(S(e.guardrightpos+e.pixx-e.guardwidth)+1,S(e.guardrightypos-e.guardheight/2-1.25)),ee.show(">",0,0))),e.extratext.length!=0){for(var lt=0,De=e.extratext.length-1;lt<=De;lt+=1){if(r[t++]=lt,Rt(e.extratextsubspace,C(e.extratext,lt,1)),r[--t]){t--,t--;var We=r[t-2];b(e.extratext,We,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33309",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;Rt(r[--t],e.extratextsplit),r[--t];){var Ke=r[--t];r[t-1]=Ke;var st=r[--t],gt=r[--t];r[t++]=st,r[t++]=gt}e.textlines=s()}else e.textlines=s([e.extratext]);_e(e.extratextcolor,"unset")&&ee.setcolor(e.extratextcolor),ee.selectfont(e.extratextfont,e.extratextsize),ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var wt=ee.pathbbox();ee.restore(),e.textascent=wt.ury;var vt=e.textlines;r[t++]="textwidth",r[t++]=0;for(var kt=0,dt=vt.length;kt<dt;kt++){var _t=ee.stringwidth(c(vt,kt)),nt=r[--t],Qt=_t.w;if(nt<_t.w){var oe=Qt;Qt=nt,nt=oe}r[t++]=nt}var Ht=r[--t];e[r[--t]]=S(Ht+(e.extratext.length-1)*e.extratextgaps);var Ut=e.textlines.length;if(e.textheight=S(Ut*e.textascent+(Ut-1)*e.extratextlinegaps),Y(e.extratextxalign,"justify"))if(_e(e.extratextdirection,"forward")&&_e(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33340",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",Y(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var sr=r[--t];e[r[--t]]=sr}else e.extratextgaps=0,e.extratextxalign="center";if(Y(e.extratextyalign,"justify"))if(_e(e.extratextdirection,"upward")&&_e(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33353",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",Y(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var Cr=r[--t];e[r[--t]]=Cr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var nr=r[--t];ee.moveto(r[--t],nr),ee.rmoveto(e.extratextxoffset,e.extratextyoffset),ee.save();var gr=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(c(gr,e.extratextdirection));var ar=ee.currpos();ee.translate(ar.x,ar.y);for(var Br=0,Zt=e.textlines.length-1;Br<=Zt;Br+=1){e.i=Br,ee.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var dr=e.textlines;ee.show(c(dr,dr.length-e.i-1),e.extratextgaps,0)}ee.restore()}ee.restore(),e=a}function At(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.width=1,e.height=1,e.barcolor="unset",e.bordercolor="unset",e.colormap="unset",e.dotty=!1,e.inkspread=0,e.inkspreadh=null,e.inkspreadv=null,e.txt=s([]),e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ve(r[--t],function(){var Jt=r[--t];e[r[--t]]=Jt}),r[t++]=e.opt,delete e.opt,r[t++]=e,Xe(),t--,e.inkspreadh==null&&(e.inkspreadh=e.inkspread),e.inkspreadv==null&&(e.inkspreadv=e.inkspread),_e(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",d="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=d,r[t++]=d,r[t++]=u,r[t++]=u;var f=c(Ge(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33458",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(_e(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",y="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=y,r[t++]=y;var w=c(Ge(),e.textyalign)!==void 0;w||(r[t++]="bwipp.renmatrixBadTextyalign#33464",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var v="forward",g="backward",A="upward",k="downward";r[t++]=v,r[t++]=v,r[t++]=g,r[t++]=g,r[t++]=A,r[t++]=A,r[t++]=k,r[t++]=k;var E=c(Ge(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33469",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33473",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var j="offleft",N="left",B="center",I="right",D="offright";r[t++]=j,r[t++]=j,r[t++]=N,r[t++]=N,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var T=c(Ge(),e.extratextxalign)!==void 0;T||(r[t++]="bwipp.renmatrixBadExtratextxalign#33477",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var R="above",$="top",_="center",F="bottom",Q="below";r[t++]=R,r[t++]=R,r[t++]=$,r[t++]=$,r[t++]=_,r[t++]=_,r[t++]=F,r[t++]=F,r[t++]=Q,r[t++]=Q;var L=c(Ge(),e.extratextyalign)!==void 0;L||(r[t++]="bwipp.renmatrixBadExtratextyalign#33481",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var X="forward",le="backward",fe="upward",V="downward";r[t++]=X,r[t++]=X,r[t++]=le,r[t++]=le,r[t++]=fe,r[t++]=fe,r[t++]=V,r[t++]=V;var H=c(Ge(),e.extratextdirection)!==void 0;H||(r[t++]="bwipp.renmatrixBadExtratextdirection#33485",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33489",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.xyget=function(){var Jt=r[--t],ur=c(e.pixs,S(r[--t]+Jt*e.pixx));r[t++]=ur},e.drawlayerdots=function(){e.pixsorig=e.pixs,e.pixs=r[--t],ee.newpath();for(var Jt=0,ur=e.pixs.length-1;Jt<=ur;Jt+=1)e.x=Jt%e.pixx,e.y=~~(Jt/e.pixx),r[t++]=e.x,r[t++]=e.y,e.xyget(),r[--t]==1&&(ee.moveto(S(e.x+.5),S(e.pixy-e.y-.5)),ee.arc(S(e.x+.5),S(e.pixy-e.y-.5),S(.5-e.inkspread),0,360,1));ee.fill(),e.pixs=e.pixsorig},ee.save();var se=ee.currpos();if(ee.translate(se.x,se.y),e.inkspread=e.inkspread/2,e.inkspreadh=e.inkspreadh/2,e.inkspreadv=e.inkspreadv/2,ee.scale(e.width/e.pixx*72,e.height/e.pixy*72),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([S(-e.borderleft+e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.tr=s([S(e.pixx+e.borderright-e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.bl=s([S(-e.borderleft+e.inkspread),S(-e.borderbottom+e.inkspread)]),e.br=s([S(e.pixx+e.borderright-e.inkspread),S(-e.borderbottom+e.inkspread)])),e.showborder){ee.save(),ee.newpath(),O(e.bl);var ue=r[--t];ee.moveto(r[--t],ue);for(var U=s([e.br,e.tr,e.tl]),W=0,re=U.length;W<re;W++){O(c(U,W));var ie=r[--t];ee.lineto(r[--t],ie)}ee.closepath(),_e(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(S(e.borderwidth-e.inkspread*2)),ee.stroke(),ee.restore()}if(Y(e.colormap,"unset")){var be=new Map([[1,e.barcolor]]);e.colormap=be}for(var K=e.colormap,ke=K.size,je=K.keys(),Qe=0;Qe<ke;Qe++){var ze=je.next().value,tt=K.get(ze);r[t++]=ze,r[t++]=tt,_e(tt,"unset")?ee.setcolor(r[--t]):t--,e.key=r[--t],r[t++]=1/0;for(var Ze=e.pixs,Re=0,He=Ze.length;Re<He;Re++){var Ue=Y(c(Ze,Re),e.key)?1:0;r[t++]=Ue}var ye=s();r[t++]=ye,e.dotty?e.drawlayerdots():ee.drawlayer(r[--t],e.pixx,e.pixy,e.inkspreadh,e.inkspreadv)}var Ye=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=e.pixy+e.nudge}]]),Ae=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),Le=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=e.pixy+e.nudge}]]),he=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),Pe=new Map([["forward",Ye],["backward",Ae],["upward",Le],["downward",he]]);if(e.positions=Pe,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Jt=c(e.positions,r[--t]);r[t++]=Jt,r[t++]=Jt,Sa(4,-1);var ur=r[t-1];Y(ur,"center")&&(r[t-1]="xcenter");var Tr=r[--t];if(c(r[--t],Tr)()===!0)return!0;var Fr=r[--t],fa=r[--t];r[t++]=Fr,r[t++]=fa,Sa(3,-1);var Tt=r[t-1];Y(Tt,"center")&&(r[t-1]="ycenter");var Gt=r[--t];if(c(r[--t],Gt)()===!0)return!0},e.includetext)if(_e(e.textcolor,"unset")&&ee.setcolor(e.textcolor),Y(e.textxalign,"unset")&&Y(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Me=e.txt,$e=0,rt=Me.length;$e<rt;$e++){O(c(Me,$e));var pt=r[t-1],ut=r[t-2];if(pt!=e.s||_e(ut,e.fn)){var bt=r[t-1];bt<=0&&(t-=5,r[t++]="bwipp.renmatrixFontTooSmall#33793",r[t++]="The font size is too small",z());var It=r[--t],St=r[--t];e.s=It,e.fn=St,ee.selectfont(St,It)}else t-=2;var de=r[--t];ee.moveto(r[--t],de),ee.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var Ee=e.txt,at=0,ot=Ee.length;at<ot;at++)ve(c(c(Ee,at),0));e.txt=s(),e.tstr=J(e.txt.length);for(var Et=0,yt=e.txt.length-1;Et<=yt;Et+=1)b(e.tstr,Et,c(e.txt,Et))}else{e.tstr=e.alttext;for(var P=0,G=e.alttext.length-1;P<=G;P+=1){if(r[t++]=P,Rt(e.alttextsubspace,C(e.alttext,P,1)),r[--t]){t--,t--;var q=r[t-2];b(e.alttext,q,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33821",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;Rt(r[--t],e.alttextsplit),r[--t];){var te=r[--t];r[t-1]=te;var ce=r[--t],ge=r[--t];r[t++]=ce,r[t++]=ge}e.textlines=s()}else e.textlines=s([e.tstr]);if(ee.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var ae=ee.pathbbox();ee.restore(),r[t++]=ae.ury}e.textascent=r[--t];var Ce=e.textlines;r[t++]="textwidth",r[t++]=0;for(var Z=0,xe=Ce.length;Z<xe;Z++){var me=ee.stringwidth(c(Ce,Z)),Ne=r[--t],oe=me.w;if(Ne<me.w){var we=oe;oe=Ne,Ne=we}r[t++]=Ne}var Be=r[--t];e[r[--t]]=S(Be+(e.tstr.length-1)*e.textgaps);var pe=e.textlines.length;if(e.textheight=S(pe*e.textascent+(pe-1)*e.textlinegaps),Y(e.textxalign,"unset")&&(e.textxalign="center"),Y(e.textyalign,"unset")&&(e.textyalign="below"),Y(e.textxalign,"justify"))if(_e(e.textdirection,"forward")&&_e(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33858",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",Y(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var Ie=r[--t];e[r[--t]]=Ie}else e.textgaps=0,e.textxalign="center";if(Y(e.textyalign,"justify"))if(_e(e.textdirection,"upward")&&_e(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33871",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",Y(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Se=r[--t];e[r[--t]]=Se}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Te=r[--t];ee.moveto(r[--t],Te),ee.rmoveto(e.textxoffset,e.textyoffset),ee.save();var Ve=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(c(Ve,e.textdirection));var qe=ee.currpos();ee.translate(qe.x,qe.y);for(var et=0,ct=e.textlines.length-1;et<=ct;et+=1){e.i=et,ee.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var lt=e.textlines;ee.show(c(lt,lt.length-e.i-1),e.textgaps,0)}ee.restore()}if(e.extratext.length!=0){for(var De=0,We=e.extratext.length-1;De<=We;De+=1){if(r[t++]=De,Rt(e.extratextsubspace,C(e.extratext,De,1)),r[--t]){t--,t--;var Ke=r[t-2];b(e.extratext,Ke,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33911",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;Rt(r[--t],e.extratextsplit),r[--t];){var st=r[--t];r[t-1]=st;var gt=r[--t],wt=r[--t];r[t++]=gt,r[t++]=wt}e.textlines=s()}else e.textlines=s([e.extratext]);_e(e.extratextcolor,"unset")&&ee.setcolor(e.extratextcolor),ee.selectfont(e.extratextfont,e.extratextsize),ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var vt=ee.pathbbox();ee.restore(),e.textascent=vt.ury;var kt=e.textlines;r[t++]="textwidth",r[t++]=0;for(var dt=0,_t=kt.length;dt<_t;dt++){var nt=ee.stringwidth(c(kt,dt)),Qt=r[--t],Ht=nt.w;if(Qt<nt.w){var we=Ht;Ht=Qt,Qt=we}r[t++]=Qt}var Ut=r[--t];e[r[--t]]=S(Ut+(e.extratext.length-1)*e.extratextgaps);var sr=e.textlines.length;if(e.textheight=S(sr*e.textascent+(sr-1)*e.extratextlinegaps),Y(e.extratextxalign,"justify"))if(_e(e.extratextdirection,"forward")&&_e(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33942",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",Y(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var Cr=r[--t];e[r[--t]]=Cr}else e.extratextgaps=0,e.extratextxalign="center";if(Y(e.extratextyalign,"justify"))if(_e(e.extratextdirection,"upward")&&_e(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33955",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",Y(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var nr=r[--t];e[r[--t]]=nr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var gr=r[--t];ee.moveto(r[--t],gr),ee.rmoveto(e.extratextxoffset,e.extratextyoffset),ee.save();var ar=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(c(ar,e.extratextdirection));var Br=ee.currpos();ee.translate(Br.x,Br.y);for(var Zt=0,dr=e.textlines.length-1;Zt<=dr;Zt+=1){e.i=Zt,ee.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var Kt=e.textlines;ee.show(c(Kt,Kt.length-e.i-1),e.extratextgaps,0)}ee.restore()}ee.restore(),e=a}function i_(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.barcolor="unset",e.bordercolor="unset",e.inkspread=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ve(r[--t],function(){var f=r[--t];e[r[--t]]=f}),r[t++]=e.opt,delete e.opt,r[t++]=e,Xe(),t--,ee.save(),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.tr=s([S(30+e.borderright+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(30+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([-e.borderleft+e.inkspread,29+e.bordertop-e.inkspread]),e.tr=s([30+e.borderright-e.inkspread,29+e.bordertop-e.inkspread]),e.bl=s([-e.borderleft+e.inkspread,-e.borderbottom+e.inkspread]),e.br=s([30+e.borderright-e.inkspread,-e.borderbottom+e.inkspread])),e.showborder){ee.save(),ee.newpath(),O(e.bl);var n=r[--t];ee.moveto(r[--t],n);for(var i=s([e.br,e.tr,e.tl]),o=0,d=i.length;o<d;o++){O(c(i,o));var u=r[--t];ee.lineto(r[--t],u)}ee.closepath(),_e(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(S(e.borderwidth-e.inkspread*2)),ee.stroke(),ee.restore()}_e(e.barcolor,"unset")&&ee.setcolor(e.barcolor),ee.showmaxicode(e.pixs),ee.restore(),e=a}function Vw(a,n,i,o,d){if(typeof i!="string")throw new Error("bwipp.typeError: barcode text not a string ("+i+")");if(o=o||{},typeof o=="string"){var u=o.split(" ");o={};for(var f=0;f<u.length;f++)if(u[f]){var h=u[f].indexOf("=");h==-1?u[f][0]=="!"?o[u[f].substr(1)]=!1:o[u[f]]=!0:o[u[f].substr(0,h)]=u[f].substr(h+1)}}else if(typeof o!="object"||o.constructor!==Object)throw new Error("bwipp.typeError: options not an object");if(o.binarytext){if(/[\u0100-\uffff]/.test(i))throw new Error("bwip-js: 16-bit chars not allowed with binarytext")}else/[\u0080-\uffff]/.test(i)&&(i=unescape(encodeURIComponent(i)));var p=new Map;for(var m in o)o.hasOwnProperty(m)&&p.set(m,o[m]);return ee=a,r=[i,p],t=2,e={bwipjs_rawstack:o.dontdraw||d?[]:!1},n(),e.bwipjs_rawstack?e.bwipjs_rawstack:!0}function Gu(a){if(!a)throw new Error("bwipp.undefinedEncoder: bcid is not defined");switch(a.replace(/-/g,"_")){case"auspost":return nM;case"azteccode":return qu;case"azteccodecompact":return SM;case"aztecrune":return EM;case"bc412":return ZR;case"channelcode":return n_;case"codablockf":return qw;case"code11":return XR;case"code128":return p2;case"code16k":return fM;case"code2of5":return Nc;case"code32":return UR;case"code39":return m2;case"code39ext":return OR;case"code49":return hM;case"code93":return Ow;case"code93ext":return LR;case"codeone":return CM;case"coop2of5":return WR;case"daft":return xM;case"databarexpanded":return Jm;case"databarexpandedcomposite":return LM;case"databarexpandedstacked":return Xm;case"databarexpandedstackedcomposite":return QM;case"databarlimited":return Qw;case"databarlimitedcomposite":return zM;case"databaromni":return x2;case"databaromnicomposite":return FM;case"databarstacked":return Uw;case"databarstackedcomposite":return PM;case"databarstackedomni":return zw;case"databarstackedomnicomposite":return OM;case"databartruncated":return Lw;case"databartruncatedcomposite":return UM;case"datalogic2of5":return JR;case"datamatrix":return $1;case"datamatrixrectangular":return bM;case"datamatrixrectangularextension":return yM;case"dotcode":return Gw;case"ean13":return h2;case"ean13composite":return TM;case"ean14":return FR;case"ean2":return f2;case"ean5":return u2;case"ean8":return Wm;case"ean8composite":return RM;case"flattermarken":return pM;case"gs1_128":return E3;case"gs1_128composite":return HM;case"gs1_cc":return ms;case"gs1datamatrix":return $M;case"gs1datamatrixrectangular":return qM;case"gs1dldatamatrix":return GM;case"gs1dlqrcode":return YM;case"gs1dotcode":return KM;case"gs1northamericancoupon":return qR;case"gs1qrcode":return VM;case"hanxin":return IM;case"hibcazteccode":return s_;case"hibccodablockf":return a_;case"hibccode128":return JM;case"hibccode39":return WM;case"hibcdatamatrix":return XM;case"hibcdatamatrixrectangular":return ZM;case"hibcmicropdf417":return t_;case"hibcpdf417":return e_;case"hibcqrcode":return r_;case"iata2of5":return YR;case"identcode":return HR;case"industrial2of5":return VR;case"interleaved2of5":return Hu;case"isbn":return TR;case"ismn":return RR;case"issn":return MR;case"itf14":return QR;case"jabcode":return DM;case"japanpost":return oM;case"kix":return iM;case"leitcode":return $R;case"mailmark":return wM;case"mands":return _R;case"matrix2of5":return KR;case"maxicode":return NM;case"micropdf417":return fu;case"microqrcode":return kM;case"msi":return lM;case"onecode":return tM;case"pdf417":return $u;case"pdf417compact":return gM;case"pharmacode":return GR;case"pharmacode2":return Hw;case"planet":return aM;case"plessey":return cM;case"posicode":return uM;case"postnet":return rM;case"pzn":return zR;case"qrcode":return xl;case"rationalizedCodabar":return eM;case"raw":return mM;case"rectangularmicroqrcode":return jM;case"royalmail":return sM;case"sscc18":return PR;case"swissqrcode":return AM;case"symbol":return vM;case"telepen":return $w;case"telepennumeric":return dM;case"ultracode":return BM;case"upca":return Fw;case"upcacomposite":return MM;case"upce":return Pw;case"upcecomposite":return _M}throw new Error("bwipp.unknownEncoder: unknown encoder name: "+a)}var o_="2025-10-24";const l_="4.8.0 (2025-11-11)";function Hl(a){return a&&/HTMLCanvasElement|OffscreenCanvas/.test(Object.getPrototypeOf(a).constructor.name)}function c_(a,n){if(typeof n=="string"||Hl(n)){let i=a;a=n,n=i}return d_(Gu(n.bcid),n,a)}function d_(a,n,i){if(typeof n=="string"){var o=document.getElementById(n)||document.querySelector(n);if(!Hl(o))throw new Error("bwipjs: `"+n+"`: not a canvas");n=i,i=b0(o)}else if(Hl(n)){var o=n;n=i,i=b0(o)}else if(typeof i=="string"){var o=document.getElementById(i)||document.querySelector(i);if(!Hl(o))throw new Error("bwipjs: `"+i+"`: not a canvas");i=b0(o)}else if(Hl(i))i=b0(i);else if(!i||typeof i!="object"||!i.init)throw new Error("bwipjs: not a canvas or drawing object");return Zm(a,n,i)}function u_(a){return Zm(Gu(a.bcid),a,Jw())}function Yw(a){var n=a.scale||2,i=+a.scaleX||n,o=+a.scaleY||i;if(a.paddingleft=w(a.paddingleft,a.paddingwidth,a.padding,i),a.paddingright=w(a.paddingright,a.paddingwidth,a.padding,i),a.paddingtop=w(a.paddingtop,a.paddingheight,a.padding,o),a.paddingbottom=w(a.paddingbottom,a.paddingheight,a.padding,o),a.backgroundcolor){var d=""+a.backgroundcolor;if(/^[0-9a-fA-F]{8}$/.test(d)){var u=parseInt(d.substr(0,2),16)/255,f=parseInt(d.substr(2,2),16)/255,h=parseInt(d.substr(4,2),16)/255,p=parseInt(d.substr(6,2),16)/255,m=Math.floor((1-u)*(1-p)*255).toString(16),x=Math.floor((1-f)*(1-p)*255).toString(16),y=Math.floor((1-h)*(1-p)*255).toString(16);a.backgroundcolor=(m.length==1?"0":"")+m+(x.length==1?"0":"")+x+(y.length==1?"0":"")+y}else if(d[0]=="#"&&(d=d.substr(1)),/^[0-9a-fA-F]{6}$/.test(d))a.backgroundcolor=d;else if(/^[0-9a-fA-F]{3}$/.test(d))a.backgroundcolor=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];else throw new Error("bwip-js: invalid backgroundcolor: "+a.backgroundcolor)}return a;function w(v,g,A,k){return v!=null?(v=v>>>0,v*k>>>0):g!=null?(g=g>>>0,g*k>>>0):(A=A>>>0,A*k>>>0||0)}}var f_={bcid:1,text:1,scale:1,scaleX:1,scaleY:1,rotate:1,padding:1,paddingwidth:1,paddingheight:1,paddingtop:1,paddingleft:1,paddingright:1,paddingbottom:1,backgroundcolor:1};function h_(a,n){return Zm(Gu(a.bcid),a,n)}function Zm(a,n,i){var o=n.text;if(!o)throw new ReferenceError("bwip-js: bar code text not specified.");Yw(n),i.setopts&&i.setopts(n);var d=n.scale||2,u=+n.scaleX||d,f=+n.scaleY||u;n.rotate;var h=new Kw(i),p={};for(var m in n)f_[m]||(p[m]=n[m]);return p.alttext&&(p.includetext=!0),+p.height&&a!=Hw&&(p.height=p.height/25.4||.5),+p.width&&(p.width=p.width/25.4||0),h.scale(u,f),Vw(h,a,o,p),h.render()}function p_(a,n,i){arguments.length==1&&(i=a,a=i.bcid,n=i.text);var o=Ww();o.setopts(i);for(var d=new Kw(o),u=Vw(d,Gu(a),n,i,!0),f={pixs:1,pixx:1,pixy:1,sbs:1,bbs:1,bhs:1,width:1,height:1},h=0;h<u.length;h++){var p=u[h];if(p instanceof Map){for(var m={},x=p.keys(),y=p.size,w=0;w<y;w++){var v=x.next().value;if(f[v]){var g=p.get(v);g instanceof Array?m[v]=g.b.slice(g.o,g.o+g.length):m[v]=g}}u[h]=m}else u.splice(h--,1)}return u}var Kw=function(){var a=Math.floor,n=Math.round,i=Math.ceil,o=Math.min,d=Math.max;function u(f){if(this.constructor!==u)return new u(f);this.gstk=[],this.cmds=[],this.drawing=f,this.reset(),this.minx=this.miny=1/0,this.maxx=this.maxy=-1/0}return u.prototype.reset=function(){this.g_m0=1,this.g_m1=0,this.g_m2=0,this.g_m3=1,this.g_m4=0,this.g_m5=0,this.g_tsx=1,this.g_tsy=1,this.g_rot=0,this.g_posx=0,this.g_posy=0,this.g_penw=1,this.g_path=[],this.g_font=null,this.g_rgb=[0,0,0],this.g_clip=!1},u.prototype.save=function(){var f={};for(var h in this)h.indexOf("g_")==0&&(f[h]=p(this[h]));this.gstk.push(f);function p(m){if(m instanceof Array){for(var x=[],y=0;y<m.length;y++)x[y]=p(m[y]);return x}if(m instanceof Object){var x={};for(var w in m)x[w]=p(m[w]);return x}return m}},u.prototype.restore=function(){if(!this.gstk.length)throw new Error("grestore: stack underflow");var f=this.gstk.pop(),h=this;this.g_clip&&!f.g_clip&&this.cmds.push(function(){h.drawing.unclip()});for(var p in f)this[p]=f[p]},u.prototype.currpos=function(){return{x:(this.g_posx-this.g_m4)/this.g_tsx,y:(this.g_posy-this.g_m5)/this.g_tsy}},u.prototype.currfont=function(){return this.g_font},u.prototype.rotate=function(f){this.g_rot+=f;var h=n(Math.cos(f*Math.PI/180)),p=n(Math.sin(f*Math.PI/180)),m=this.g_m0*h+this.g_m2*p,x=this.g_m1*h+this.g_m3*p,y=this.g_m0*-p+this.g_m2*h,w=this.g_m1*-p+this.g_m3*h;this.g_m0=m,this.g_m1=x,this.g_m2=y,this.g_m3=w},u.prototype.translate=function(f,h){this.g_m4+=this.g_tsx*f,this.g_m5+=this.g_tsy*h},u.prototype.scale=function(f,h){var p=this.g_tsx,m=this.g_tsy;this.g_tsx*=f,this.g_tsy*=h;var x=this.drawing.scale(this.g_tsx,this.g_tsy);x&&x[0]&&x[1]&&(this.g_tsx=x[0],this.g_tsy=x[1]),this.g_m0*=this.g_tsx/p,this.g_m1*=this.g_tsx/p,this.g_m2*=this.g_tsy/m,this.g_m3*=this.g_tsy/m},u.prototype.setlinewidth=function(f){this.g_penw=f},u.prototype.selectfont=function(f,h){this.g_font={FontName:this.jsstring(f),FontSize:+h}},u.prototype.getfont=function(){return this.g_font.FontName},u.prototype.jsstring=function(f){return f instanceof Uint8Array?String.fromCharCode.apply(null,f):""+f},u.prototype.setcolor=function(f){if(f instanceof Uint8Array&&(f=this.jsstring(f)),!!f){if(!/^(?:#?[0-9a-fA-F]{3}(?:[0-9a-fA-F]{3})?|[0-9a-fA-F]{8})$/.test(f))throw new Error("bwip-js: invalid color: "+f);if(f[0]=="#"&&(f=f.substr(1)),f.length==3){var h=parseInt(f[0],16),p=parseInt(f[1],16),m=parseInt(f[2],16);this.g_rgb=[h<<4|h,p<<4|p,m<<4|m]}else if(f.length==6){var h=parseInt(f.substr(0,2),16),p=parseInt(f.substr(2,2),16),m=parseInt(f.substr(4,2),16);this.g_rgb=[h,p,m]}else{var x=parseInt(f.substr(0,2),16)/255,y=parseInt(f.substr(2,2),16)/255,w=parseInt(f.substr(4,2),16)/255,v=parseInt(f.substr(6,2),16)/255,h=n((1-x)*(1-v)*255),p=n((1-y)*(1-v)*255),m=n((1-w)*(1-v)*255);this.g_rgb=[h,p,m]}}},u.prototype.setrgbcolor=function(f,h,p){this.g_rgb=[f,h,p]},u.prototype.getRGB=function(){var f=this.g_rgb[0].toString(16),h=this.g_rgb[1].toString(16),p=this.g_rgb[2].toString(16);return"00".substr(f.length)+f+"00".substr(h.length)+h+"00".substr(p.length)+p},u.prototype.newpath=function(){this.g_path=[]},u.prototype.closepath=function(){var f=this.g_path,h=f.length;if(h){for(var p=h-1;p>=0&&f[p].op=="l";p--);if(p++,p<h-1){for(var m=[],x=1/0,y=1/0,w=-1/0,v=-1/0,g=p;g<h;g++){var A=f[g];m.push([A.x0,A.y0]),x>A.x0&&(x=A.x0),w<A.x0&&(w=A.x0),y>A.y0&&(y=A.y0),v<A.y0&&(v=A.y0)}var A=f[h-1],k=f[p];(A.x1!=k.x0||A.y1!=k.y0)&&(m.push([A.x1,A.y1]),x>A.x1&&(x=A.x1),w<A.x1&&(w=A.x1),y>A.y1&&(y=A.y1),v<A.y1&&(v=A.y1)),f.splice(p,h-p,{op:"p",x0:x,y0:y,x1:w,y1:v,poly:m})}else f.push({op:"c"})}},u.prototype.moveto=function(f,h){this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.rmoveto=function(f,h){this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.lineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),y=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:y})},u.prototype.rlineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),y=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:y})},u.prototype.arc=function(f,h,p,m,x,y){if(m!=x){if(m!=0&&m!=360||x!=0&&x!=360)throw new Error("arc: not a full circle ("+m+","+x+")");var w=this.g_m0*f+this.g_m2*h+this.g_m4,v=this.g_m1*f+this.g_m3*h+this.g_m5,g=p*this.g_tsx,A=p*this.g_tsy;this.g_path.push({op:"e",x0:w-g,y0:v-A,x1:w+g,y1:v+A,x:w,y:v,rx:g,ry:A,sa:m,ea:x,ccw:y})}},u.prototype.stringwidth=function(f){var h=this.g_tsx,p=this.g_tsy,m=+this.g_font.FontSize||10;f=this.toUCS2(this.jsstring(f));var x=this.drawing.measure(f,this.g_font.FontName,m*h,m*p);return{w:x.width/h,h:(x.ascent+x.descent)/p,a:x.ascent/p,d:x.descent/p}},u.prototype.charpath=function(f,h){var p=this.stringwidth(f);this.rlineto(0,p.a),this.rlineto(p.w,0),this.rlineto(0,-p.h)},u.prototype.pathbbox=function(){if(!this.g_path.length)throw new Error("pathbbox: --nocurrentpoint--");for(var f=this.g_path,h=1/0,p=1/0,m=-1/0,x=-1/0,y=0;y<f.length;y++){var w=f[y];w.op!="c"&&(w.x0<w.x1?(h>w.x0&&(h=w.x0),m<w.x1&&(m=w.x1)):(h>w.x1&&(h=w.x1),m<w.x0&&(m=w.x0)),w.y0<w.y1?(p>w.y0&&(p=w.y0),x<w.y1&&(x=w.y1)):(p>w.y1&&(p=w.y1),x<w.y0&&(x=w.y0)))}var v={llx:(h-this.g_m4)/this.g_tsx,lly:(p-this.g_m5)/this.g_tsy,urx:(m-this.g_m4)/this.g_tsx,ury:(x-this.g_m5)/this.g_tsy};return v},u.prototype.transform=function(f){for(var h=this.minx,p=this.maxy,m=0;m<f.length;m++){var x=f[m];x[0]=x[0]-h,x[1]=p-x[1]}},u.prototype.stroke=function(){var f=this.g_tsx,h=this.g_tsy,p=this.g_path,m=this.getRGB();this.g_path=[];for(var x=a(this.g_penw*f+.66),y=a(this.g_penw*h+.66),w=0;w<p.length;w++){var v=p[w];if(v.op=="l"){if(v.x0!=v.x1&&v.y0!=v.y1)throw new Error("stroke: --not-orthogonal--");var g=v.x0,A=v.y0,k=v.x1,E=v.y1,j=x/2,N=y/2;if(g>k){var B=g;g=k,k=B}if(A>E){var B=A;A=E,E=B}g==k?this.bbox(g-j,A,g+x-j-1,E):this.bbox(g,A-y+N+1,k,E+N)}else if(v.op=="p"){var I=1/0,D=1/0,T=-1/0,R=-1/0,$=v.poly;if($.length!=4)throw new Error("stroke: --not-a-rect--");for(var w=0,_=$.length-1;w<$.length;_=w++){var F=$[_][0],Q=$[_][1],L=$[w][0],X=$[w][1];if(L!=F&&X!=Q)throw new Error("stroke: --not-orthogonal--");L<I&&(I=L),L>T&&(T=L),X<D&&(D=X),X>R&&(R=X)}var j=i(x/2),N=i(y/2);this.bbox(I-j,D-N,T+j,R+N)}else throw new Error("stroke: --not-a-line--")}var le=this;this.cmds.push(function(){for(var fe=i(x/2),V=i(y/2),H=x-fe,se=y-V,ue=0;ue<p.length;ue++){var U=p[ue];if(U.op=="l"){var W=[[U.x0,U.y0],[U.x1,U.y1]];le.transform(W),le.drawing.line(W[0][0],W[0][1],W[1][0],W[1][1],U.x0==U.x1?x:y,m),le.fill(m)}else{var W=U.poly;le.transform(W);var re=o(W[0][0],W[2][0]),ie=d(W[0][0],W[2][0]),be=o(W[0][1],W[2][1]),K=d(W[0][1],W[2][1]);le.drawing.polygon([[re-fe,be-V],[re-fe,K+V+1],[ie+fe+1,K+V+1],[ie+fe+1,be-V]]),le.drawing.polygon([[re+H,be+se],[ie-H+1,be+se],[ie-H+1,K-se+1],[re+H,K-se+1]]),le.drawing.fill(m)}}})},u.prototype.fill=function(){var f=this.g_path,h=this.getRGB();this.g_path=[];for(var p=0;p<f.length;p++){var m=f[p];if(m.op=="p"){for(var x=1/0,y=1/0,w=-1/0,v=-1/0,g=m.poly,A=0;A<g.length;A++){var k=g[A][0],E=g[A][1];k<x&&(x=k),k>w&&(w=k),E<y&&(y=E),E>v&&(v=E)}this.bbox(x,y+1,w-1,v)}else if(m.op=="e")this.bbox(m.x-m.rx,m.y-m.ry,m.x+m.rx,m.y+m.ry);else throw new Error("fill: --not-a-polygon--")}var j=this;this.cmds.push(function(){for(var N=0;N<f.length;N++){var B=f[N];if(B.op=="p"){var I=B.poly;j.transform(I),j.drawing.polygon(I)}else if(B.op=="e"){var I=[[B.x,B.y]];j.transform(I),j.drawing.ellipse(I[0][0],I[0][1],B.rx,B.ry,B.ccw)}}j.drawing.fill(h)})},u.prototype.clip=function(){var f=this.g_path;this.g_path=[],this.g_clip=!0;var h=this;this.cmds.push(function(){for(var p=[],m=0;m<f.length;m++){var x=f[m];if(x.op=="p"){var y=x.poly;h.transform(y),p.push(y)}else throw new Error("clip: only polygon regions supported")}h.drawing.clip(p)})},u.prototype.drawlayer=function(f,h,p){let m=m_(f,h,p);this.newpath();for(let x=0,y=m.length;x<y;x++){let w=m[x];this.moveto(w[0][0],w[0][1]);for(let v=1,g=w.length;v<g;v++){let A=w[v];this.lineto(A[0],A[1])}this.closepath()}this.fill()},u.prototype.showmaxicode=function(f){var h=this.g_tsx,p=this.g_tsy,m=this.getRGB(),x=1.04*h*100,y=x/30|0;x-(y*30-1)>9&&y++;var w,v,g,A;g=h/2|0,A=p/2|0,w=y-g,w&1&&w--,v=(4*p|0)-A;var k=w/2-1,E=(k+1)/2|0,j=v-2-2*E;this.bbox(0,0,y*30-g,p*3*32+p*4-A);var N=this;this.cmds.push(function(){for(var B=0;B<f.length;B++){var I=f[B],T=I%30,R=I/30|0;T*=y,T+=R&1?y:y/2,T=T|0,R=33-R,R*=p*3,R+=p*2-v/2,R=R|0;var D=[[T-.5,R--]];R-=E-1,D.push([T-1-k,R--]),R-=j,D.push([T-1-k,R--]),R-=E-1,D.push([T-.5,R++]),R+=E-1,D.push([T+k,R++]),R+=j,D.push([T+k,R++]),N.transform(D),N.drawing.hexagon(D,m)}N.drawing.fill(m);var T=14*y+y/2+.01|0,R=(12*4+3)*p-E/2+.01|0;N.drawing.ellipse(T,R,.5774*3.5*h+.01|0,.5774*3.5*p+.01|0,!0),N.drawing.ellipse(T,R,1.3359*3.5*h+.01|0,1.3359*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(T,R,2.1058*3.5*h+.01|0,2.1058*3.5*p+.01|0,!0),N.drawing.ellipse(T,R,2.8644*3.5*h+.01|0,2.8644*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(T,R,3.6229*3.5*h+.01|0,3.6229*3.5*p+.01|0,!0),N.drawing.ellipse(T,R,4.3814*3.5*h+.01|0,4.3814*3.5*p+.01|0,!1),N.drawing.fill(m)})},u.prototype.toUCS2=function(f){return f.replace(/[\xc0-\xdf][\x80-\xbf]|[\xe0-\xff][\x80-\xbf]{2}/g,function(h){var p;return h.length==2?p=(h.charCodeAt(0)&31)<<6|h.charCodeAt(1)&63:p=(h.charCodeAt(0)&15)<<12|(h.charCodeAt(1)&63)<<6|h.charCodeAt(2)&63,String.fromCharCode(p)})},u.prototype.show=function(f,h,p){if(f.length){var m=this.g_rot,x=m==90||m==270?this.g_tsy:this.g_tsx,y=m==90||m==270?this.g_tsx:this.g_tsy,w=this.g_font.FontName||"OCR-B",v=this.g_font.FontSize||10,g=v*x,A=v*y,k=this.g_posx,E=this.g_posy,j=this.getRGB();h=x*h||0,p=y*p||0,f=this.toUCS2(this.jsstring(f));var N=this.drawing.measure(f,w,g,A),B=N.width+(f.length-1)*h;m==90?this.bbox(k-p+N.descent-1,E,k-p-N.ascent,E+B-1):m==180?this.bbox(k,E-p+N.descent-1,k-B+1,E-p-N.ascent):m==270?this.bbox(k+p-N.descent+1,E,k+p+N.ascent,E-B+1):(m=0,this.bbox(k,E+p-N.descent+1,k+B-1,E+p+N.ascent),this.g_posx+=B);var I=this;I.cmds.push(function(){var D=k-I.minx,T=I.maxy-E;I.drawing.text(D,T,f,j,{name:w,width:g,height:A,rotate:m,dx:h})})}},u.prototype.bbox=function(f,h,p,m){if(f>p){var x=f;f=p,p=x}if(h>m){var x=h;h=m,m=x}f=a(f),h=a(h),p=i(p),m=i(m),this.minx>f&&(this.minx=f),this.maxx<p&&(this.maxx=p),this.miny>h&&(this.miny=h),this.maxy<m&&(this.maxy=m)},u.prototype.render=function(){if(this.minx===1/0)return!1;this.drawing.init(this.maxx-this.minx+1,this.maxy-this.miny+1,this.g_tsx,this.g_tsy);for(var f=0,h=this.cmds.length;f<h;f++)this.cmds[f]();return this.drawing.end()},u}();function m_(a,n,i,o,d){let u=0,f=0,h=new Array(i+1),p=0;for(let w=i-1;w>=0;w--){let v=new Uint8Array(n);for(let g=0;g<n;g++)v[g]=a[p+g]?1:0;h[w]=v,p+=n}h[-1]=[],h[i]=[];let m=[];for(let w=0;w<i;w++){let v=0;for(let g=0;g<n;g++)!(v&9)&&h[w][g]==1?m.push(x(g,w,[])):(v&5)==1&&h[w][g]==0&&m.push(y(g,w,[])),v=h[w][g]}return m;function x(w,v,g){g.push([w+u,v+f]);let A=2;for(;;){if(h[v][w]&A)return g.pop(),g;h[v][w]|=A,A==2?h[v][w+1]&1?(h[v-1][w+1]&1&&(g.push([w+1-u,v+f,"H"]),A=16),w++):(g.push([w+1-u,v+f,"H"]),A=4):A==4?h[v+1][w]&1?(h[v+1][w+1]&1&&(g.push([w+1-u,v+1-f,"V"]),A=2),v++):(g.push([w+1-u,v+1-f,"V"]),A=8):A==8?h[v][w-1]&1?(h[v+1][w-1]&1&&(g.push([w+u,v+1-f,"H"]),A=4),w--):(g.push([w+u,v+1-f,"H"]),A=16):h[v-1][w]&1?(h[v-1][w-1]&1&&(g.push([w+u,v+f,"V"]),A=8),v--):(g.push([w+u,v+f,"V"]),A=2)}}function y(w,v,g){g.push([w-u,v-f]);let A=2;for(;;){if(h[v][w]&A)return g.pop(),g;h[v][w]|=A,A==2?h[v+1][w]&1?(g.push([w-u,v+1+f]),A=4):(h[v+1][w-1]&1||(g.push([w-u,v+1+f]),A=16),v++):A==4?h[v][w+1]&1?(g.push([w+1+u,v+1+f]),A=8):(h[v+1][w+1]&1||(g.push([w+1+u,v+1+f]),A=2),w++):A==8?h[v-1][w]&1?(g.push([w+1+u,v-f]),A=16):(h[v-1][w+1]&1||(g.push([w+1+u,v-f]),A=4),v--):h[v][w-1]&1?(g.push([w-u,v-f]),A=2):(h[v-1][w-1]&1||(g.push([w-u,v-f]),A=8),w--)}}}function Ww(){var a=0,n=0,i=0,o=0,d=0,u=0,f=0,h=0,p,m,x,y,w,v,g,A,k,E,j,N;return{setopts(_){p=_},scale:function(_,F){return p.bcid=="swissqrcode"?[_,F]:[_|0||1,F|0||1]},measure:function(_,F,Q,L){Q=Q|0,L=L|0;for(var X=si.lookup(F),le=0,fe=0,V=0,H=0,se=_.length;H<se;H++){var ue=_.charCodeAt(H),U=si.getglyph(X,ue,Q,L);fe=Math.max(fe,U.top),V=Math.max(V,U.height-U.top),H==se-1?le+=U.left+U.width:le+=U.advance}return{width:le,ascent:fe,descent:V}},init:function(_,F){var Q=p.paddingleft,L=p.paddingright,X=p.paddingtop,le=p.paddingbottom,fe=p.rotate||"N";if(_+=Q+L,F+=X+le,+p.sizelimit&&+p.sizelimit<_*F)throw new Error("Image size over limit");switch(fe){case"R":n=-1,i=1,d=1;break;case"I":a=-1,i=1,u=-1,h=1;break;case"L":n=1,d=-1,h=1;break;default:a=u=1;break}var V=fe=="L"||fe=="R";y=V?F:_,w=V?_:F,v=Q,g=X,j=[],j.min=1/0,N=null,A=k=E=0;var H=this.image(y,w);m=H.buffer,x=H.ispng?1:0},line:function(_,F,Q,L,X,le){if(_=_|0,F=F|0,Q=Q|0,L=L|0,X=Math.round(X)||1,L<F){var fe=F;F=L,L=fe}if(Q<_){var fe=_;_=Q,Q=fe}A=parseInt(le.substr(0,2),16),k=parseInt(le.substr(2,2),16),E=parseInt(le.substr(4,2),16);var V=X/2|0;_==Q?(_=_-X+V,Q=Q+V-1):(F=F-V,L=L+X-V-1);for(var H=F;H<=L;H++)for(var se=_;se<=Q;se++)B(se,H,255)},polygon:function(_){for(var F=_.length,Q=F-1,L=0;L<F;Q=L++)if(_[Q][0]==_[L][0]){var X=_[Q][0]|0,le=_[Q][1]|0,fe=_[L][1]|0;if(le>fe)for(var V=fe+1;V<le;V++)I(X,V);else for(var V=le+1;V<fe;V++)I(X,V)}else{var X=_[Q][0]|0,H=_[L][0]|0,le=_[Q][1]|0;if(X<H){var se=_[Q==0?F-1:Q-1][1],ue=_[L==F-1?0:L+1][1];se>le&&I(X,le),ue>le&&I(H,le)}else{var se=_[L==F-1?0:L+1][1],ue=_[Q==0?F-1:Q-1][1];se>le&&I(H,le),ue>le&&I(X,le)}}},hexagon:function(_,F){var Q=_[0][0]|0,L=_[0][1]|0,X=_[1][1]-_[0][1]|0,le=_[2][1]-_[1][1]-1|0,fe=_[2][0]|0,V=_[4][0]|0;A=parseInt(F.substr(0,2),16),k=parseInt(F.substr(2,2),16),E=parseInt(F.substr(4,2),16),D(Q,Q+1,L++);for(var H=1;H<X;H++)D(Q-2*H,Q+1+2*H,L++);for(var H=0;H<=le;H++)D(fe,V,L++);for(var H=X-1;H>=1;H--)D(Q-2*H,Q+1+2*H,L++);D(Q,Q+1,L)},ellipse:function(_,F,Q,L,X){R(_-Q|0,F-L|0,_+Q|0,F+L|0)},fill:function(_){A=parseInt(_.substr(0,2),16),k=parseInt(_.substr(2,2),16),E=parseInt(_.substr(4,2),16),T(),j=[],j.min=1/0},clip:function(_){N||(N=[],N.min=1/0);var F=j;j=N;for(var Q=0,L=_.length;Q<L;Q++)this.polygon(_[Q]);j=F},unclip:function(){N=null},text:function(_,F,Q,L,X){_=_|0,F=F|0,A=parseInt(L.substr(0,2),16),k=parseInt(L.substr(2,2),16),E=parseInt(L.substr(4,2),16);var le=si.lookup(X.name),fe=X.width|0,V=X.height|0,H=X.dx|0,se=0,ue=0,U=0,W=0;switch(X.rotate){case 90:ue=1,U=-1;break;case 180:se=-1,W=-1;break;case 270:ue=-1,U=1;break;default:se=1,W=1;break}for(var re=0,ie=0;ie<Q.length;ie++){for(var be=Q.charCodeAt(ie),K=si.getglyph(le,be,fe,V),ke=-K.top,je=K.left,Qe=K.width,ze=K.height,tt=K.bytes,Ze=K.offset,Re=0;Re<Qe;Re++)for(var He=0;He<ze;He++){var Ue=tt[Ze+He*Qe+Re];if(Ue){var ye=re+je+Re,Ye=ke+He,Ae=se*ye+ue*Ye,Le=U*ye+W*Ye;B(_+Ae,F+Le,Ue)}}re+=K.advance+H}},end:function(){}};function B(_,F,Q){if(!(N&&$(_,F))){_+=v,F+=g;var L=a*_+n*F+i*(y-1)+o*(w-1),X=d*_+u*F+f*(y-1)+h*(w-1),le=(X*y+L)*4+(X+1)*x,fe=m[le+3]/255,V=Q/255,H=(1-V)*fe,se=V+H;m[le+0]=(A*V+m[le+0]*H)/se|0,m[le+1]=(k*V+m[le+1]*H)/se|0,m[le+2]=(E*V+m[le+2]*H)/se|0,m[le+3]=255*se|0}}function I(_,F){j.min>F&&(j.min=F),j[F]?j[F].push(_):j[F]=[_]}function D(_,F,Q){for(;_<=F;)B(_++,Q,255)}function T(){for(var _=j.min,F=j.length-1,Q=_;Q<=F;Q++){var L=j[Q];if(L){L.sort(function(se,ue){return se-ue});for(var X=!1,le=0,fe=0,V=L.length;fe<V;fe++){var H=L[fe];X?D(le,H-1,Q):le=H,X=!X}}}}function R(_,F,Q,L,X){_=_|0,F=F|0,Q=Q|0,L=L|0;var le=Math.abs(Q-_),fe=Math.abs(L-F),V=fe&1,H=4*(1-le)*fe*fe,se=4*(V+1)*le*le,ue=H+se+V*le*le,U,W=[],re=[];W.min=re.min=1/0,_>Q&&(_=Q,Q+=le),F>L&&(F=L),F+=(fe+1)/2|0,L=F-V,le*=8*le,V=8*fe*fe;do ke(re,Q,F),K(W,_,F),K(W,_,L),ke(re,Q,L),U=2*ue,U>=H&&(_++,Q--,H+=V,ue+=H),U<=se&&(F++,L--,se+=le,ue+=se);while(_<=Q);for(;F-L<fe;)ke(re,Q+1,F),K(W,_-1,F++),K(W,_-1,L),ke(re,Q+1,L--);for(var ie=W.min,be=W.length-1;ie<=be;ie++)I(W[ie],ie);for(var ie=re.min,be=re.length-1;ie<=be;ie++)I(re[ie]+1,ie);function K(je,Qe,ze){je.min>ze&&(je.min=ze);var tt=je[ze];(tt==null||tt>Qe)&&(je[ze]=Qe)}function ke(je,Qe,ze){je.min>ze&&(je.min=ze);var tt=je[ze];(tt==null||tt<Qe)&&(je[ze]=Qe)}}function $(_,F){var Q=N[F];if(!Q)return!0;Q.sorted||(Q.sort(function(V,H){return V-H}),Q.sorted=!0);for(var L=!1,X=0,le=Q.length;X<le;X++){var fe=Q[X];if(fe>_)return!L;if(fe==_)return L;L=!L}return!0}}function b0(a,n){Hl(n)&&(a=n);var i,o=a.getContext("2d",{willReadFrequently:!0}),d=Ww();d.image=h,d.end=p;var u,f=d.setopts;return d.setopts=function(m){u=m,f&&f.call(d,m)},d;function h(m,x){return a.width=m,a.height=x,o.setTransform(1,0,0,1,0,0),/^[0-9a-fA-F]{6}$/.test(""+u.backgroundcolor)?(o.fillStyle="#"+u.backgroundcolor,o.fillRect(0,0,m,x)):o.clearRect(0,0,m,x),i=o.getImageData(0,0,m,x),{buffer:i.data,ispng:!1}}function p(){return o.putImageData(i,0,0),a}}function Jw(){var a=0,n=0,i=0,o=0,d=0,u=0,f=0,h=0,p,m="",x,y="",w=[],v={},g,A,k=.55228475-45e-5,E,j,N,B;return{setopts(D){p=D},scale(D,T){g=D,A=T},measure(D,T,R,$){R=R|0,$=$|0;for(var _=si.lookup(T),F=0,Q=0,L=0,X=0,le=D.length;X<le;X++){var fe=D.charCodeAt(X),V=si.getglyph(_,fe,R,$);V&&(Q=Math.max(Q,V.top),L=Math.max(L,V.height-V.top),X==le-1?F+=V.left+V.width:F+=V.advance)}return{width:F,ascent:Q,descent:L}},init(D,T){var R=p.paddingleft,$=p.paddingright,_=p.paddingtop,F=p.paddingbottom,Q=p.rotate||"N";switch(D+=R+$,T+=_+F,Q){case"R":n=-1,i=1,d=1;break;case"I":a=-1,i=1,u=-1,h=1;break;case"L":n=1,d=-1,h=1;break;default:a=u=1;break}var L=Q=="L"||Q=="R";E=L?T:D,j=L?D:T,N=R,B=_},line(D,T,R,$,_,F){if(D=D|0,T=T|0,R=R|0,$=$|0,_=Math.round(_)||1,_&1){if(D==R){let L=g&1?-.5:.5;D+=L,R+=L}if(T==$){let L=A&1?-.5:.5;T+=L,$+=L}}D==R?T++:T==$&&D++;var Q=""+_+"#"+F;v[Q]||(v[Q]='<path stroke="#'+F+'" stroke-width="'+_+'" d="'),v[Q]+="M"+I(D,T)+"L"+I(R,$)},polygon(D){x||(x='<path d="'),x+="M"+I(D[0][0],D[0][1]);for(var T=1,R=D.length;T<R;T++){var $=D[T];x+="L"+I($[0],$[1])}x+="Z"},hexagon(D,T){this.polygon(D)},ellipse(D,T,R,$,_){x||(x='<path d="');var F=R*k,Q=$*k;x+="M"+I(D-R,T)+"C"+I(D-R,T-Q)+" "+I(D-F,T-$)+" "+I(D,T-$)+"C"+I(D+F,T-$)+" "+I(D+R,T-Q)+" "+I(D+R,T)+"C"+I(D+R,T+Q)+" "+I(D+F,T+$)+" "+I(D,T+$)+"C"+I(D-F,T+$)+" "+I(D-R,T+Q)+" "+I(D-R,T)+"Z"},fill(D){x&&(m+=x+'" fill="#'+D+'" fill-rule="evenodd"'+(y?' clip-path="url(#'+y+')"':"")+` />
`,x=null)},clip:function(D){var T='<clipPath id="clip'+w.length+'"><path d="';for(let F=0;F<D.length;F++){let Q=D[F];T+="M"+I(Q[0][0],Q[0][1]);for(var R=1,$=Q.length;R<$;R++){var _=Q[R];T+="L"+I(_[0],_[1])}T+="Z"}T+='" clip-rule="nonzero" /></clipPath>',y="clip"+w.length,w.push(T)},unclip:function(){y=""},text(D,T,R,$,_){D=D|0,T=T|0;for(var F=D,Q=T,L=si.lookup(_.name),X=_.width|0,le=_.height|0,fe=_.dx|0,V="",H=0;H<R.length;H++){var se=R.charCodeAt(H),ue=si.getpaths(L,se,X,le);if(ue){if(ue.length){for(var U=0,W=ue.length;U<W;U++){let re=ue[U];re.type=="M"||re.type=="L"?V+=re.type+I(re.x+D,T-re.y):re.type=="Q"?V+=re.type+I(re.cx+D,T-re.cy)+" "+I(re.x+D,T-re.y):re.type=="C"&&(V+=re.type+I(re.cx1+D,T-re.cy1)+" "+I(re.cx2+D,T-re.cy2)+" "+I(re.x+D,T-re.y))}V+="Z"}D+=si.getglyph(L,se,X,le).advance+fe}}V&&(_.rotate?m+='<path d="'+V+'" fill="#'+$+'" transform="rotate(-'+_.rotate+" "+I(F,Q)+`)" />
`:m+='<path d="'+V+'" fill="#'+$+`" />
`)},end(){var D="";for(var T in v)D+=v[T]+`" />
`;var R=p.backgroundcolor;return'<svg viewBox="0 0 '+E+" "+j+`" xmlns="http://www.w3.org/2000/svg">
`+(w.length?"<defs>"+w.join("")+"</defs>":"")+(/^[0-9A-Fa-f]{6}$/.test(""+R)?'<rect width="100%" height="100%" fill="#'+R+`" />
`:"")+D+m+`</svg>
`}};function I(D,T){D+=N,T+=B;var R=a*D+n*T+i*(E-1)+o*(j-1),$=d*D+u*T+f*(E-1)+h*(j-1);return""+((R|0)==R?R:R.toFixed(2))+" "+(($|0)==$?$:$.toFixed(2))}}var si=function(){var a=[],n={},i={},o={},d=0;return o.next=o,o.prev=o,{lookup:f,monochrome:h,getglyph:p,getpaths:m,loadFont:u};function u(x){var y=100,w=100,v=null;if(arguments.length==2)v=arguments[1];else if(arguments.length==3)y=w=+arguments[1]||100,v=arguments[2];else if(arguments.length==4)w=+arguments[1]||100,y=+arguments[2]||100,v=arguments[3];else throw new Error("bwipjs: loadFont: invalid number of arguments");var g=rd.InitFont(v_(v));g.bwipjs_name=x,g.bwipjs_multx=y,g.bwipjs_multy=w;var A=a.push(g)-1;return n[x.toUpperCase()]=A,A}function f(x){var y=n[x.toUpperCase()];return y===void 0?1:y}function h(x){if(x)throw new Error("bwipjs: monochrome fonts not implemented")}function p(x,y,w,v){x=x|0,y=y|0,w=+w,v=+v,(!w||w<8)&&(w=8),(!v||v<8)&&(v=w),(x<0||x>=a.length)&&(x=1),(!y||y<32)&&(y=32);var g=""+x+"c"+y+"w"+w+"h"+v,k=i[g];if(k){k.prev.next=k.next,k.next.prev=k.prev;var j=o;return j.next.prev=k,k.next=j.next,k.prev=j,j.next=k,k}var A=a[x],k=rd.GetGlyph(A,y,w*A.bwipjs_multx/100,v*A.bwipjs_multy/100)||rd.GetGlyph(A,0,w*A.bwipjs_multx/100,v*A.bwipjs_multy/100);if(k.bytes=k.pixels,k.cachekey=g,k.offset=0,d>250){var j=o,E=j.prev;E.prev.next=j,j.prev=E.prev,E.next=E.prev=null,delete i[E.cachekey]}else d++;i[g]=k;var j=o;return j.next.prev=k,k.next=j.next,k.prev=j,j.next=k,k}function m(x,y,w,v){x=x|0,y=y|0,w=+w,v=+v,(!w||w<8)&&(w=8),(!v||v<8)&&(v=w),(x<0||x>=a.length)&&(x=1),(!y||y<32)&&(y=32);var g=a[x];return rd.GetPaths(g,y,w*g.bwipjs_multx/100,v*g.bwipjs_multy/100)}}();function x_(){return si.loadFont.apply(si,Array.prototype.slice.call(arguments))}var rd=function(){var a=1,n=2,i=3,o=4,d=0,u=3,f=1,h=10,p=Math.floor,m=Math.ceil,x=Math.sqrt,y=Math.abs;function w(P){for(var G=[],q=0;q<P;q++)G.push({});return G}function v(P){return P[P.cursor++]||0}function g(P){return P[P.cursor]}function A(P,G){P.cursor=G>P.length||G<0?P.length:G}function k(P,G){A(P,P.cursor+G)}function E(P,G){for(var q=0,te=0;te<G;te++)q=q<<8|v(P);return q}function j(){return{length:0}}function N(P,G,q){if(G<0||q<0||G>P.length||q>P.length-G)return j();var te=P.subarray(G,G+q);return te.cursor=0,te}function B(P){var G=P.cursor,q=E(P,2);if(q){var te=v(P);k(P,te*q),k(P,E(P,te)-1)}return N(P,G,P.cursor-G)}function I(P){var G=v(P);return G>=32&&G<=246?G-139:G>=247&&G<=250?(G-247)*256+v(P)+108:G>=251&&G<=254?-(G-251)*256-v(P)-108:G==28?E(P,2):G==29?E(P,4):0}function D(P){var G=g(P);if(G==30)for(k(P,1);P.cursor<P.length;){var q=v(P);if((q&15)==15||q>>4==15)break}else I(P)}function T(P,G){for(A(P,0);P.cursor<P.length;){for(var q=P.cursor,te,ce;g(P)>=28;)D(P);if(te=P.cursor,ce=v(P),ce==12&&(ce=v(P)|256),ce==G)return N(P,q,te-q)}return N(P,0,0)}function R(P,G,q,te){for(var ce=T(P,G),ge=0;ge<q&&ce.cursor<ce.length;ge++)te[ge]=I(ce)}function $(P,G,q){var te=T(P,G);return te.cursor<te.length&&(q=I(te)),q}function _(P){return A(P,0),E(P,2)}function F(P,G){var q,te,ce,ge;return A(P,0),q=E(P,2),te=v(P),k(P,G*te),ce=E(P,te),ge=E(P,te),N(P,2+(q+1)*te+ce,ge-ce)}function Q(P){return P&32768?(4294901760|P)>>0:P}function L(P,G){return P[G]*256+P[G+1]}function X(P,G){var q=P[G]*256+P[G+1];return q&32768?(4294901760|q)>>0:q}function le(P,G){return(P[G]<<24)+(P[G+1]<<16)+(P[G+2]<<8)+P[G+3]}function fe(P,G,q){for(var te=L(P,G+4),ce=G+12,ge=0;ge<te;++ge){var ae=ce+16*ge;if(P[ae]==q[0]&&P[ae+1]==q[1]&&P[ae+2]==q[2]&&P[ae+3]==q[3])return le(P,ae+8)}return 0}function V(P,G){var q=[0,0];if(R(G,18,2,q),!q[1]||!q[0])return j();var te=N(P,q[1],q[0]),ce=$(te,19,0);return ce?(A(P,q[1]+ce),B(P)):j()}function H(P,G,q){var te,ce,ge,ae;if(P.data=G,P.fontstart=q,P.cff=j(),te=fe(G,q,[99,109,97,112]),P.loca=fe(G,q,[108,111,99,97]),P.head=fe(G,q,[104,101,97,100]),P.glyf=fe(G,q,[103,108,121,102]),P.hhea=fe(G,q,[104,104,101,97]),P.hmtx=fe(G,q,[104,109,116,120]),P.kern=fe(G,q,[107,101,114,110]),!te||!P.head||!P.hhea||!P.hmtx)return 0;if(P.glyf){if(!P.loca)return 0}else{var Ce,Z,xe,me,Ne=2,oe=0,we=0,Be=0;if(me=fe(G,q,[67,70,70,32]),!me||(P.fontdicts=j(),P.fdselect=j(),P.cff=G.subarray(me),P.cff.cursor=0,Ce=P.cff,k(Ce,2),A(Ce,v(Ce)),B(Ce),xe=B(Ce),Z=F(xe,0),B(Ce),P.gsubrs=B(Ce),oe=$(Z,17,oe),Ne=$(Z,262,Ne),we=$(Z,292,we),Be=$(Z,293,Be),P.subrs=V(Ce,Z),Ne!=2)||oe==0)return 0;if(we){if(!Be)return 0;A(Ce,we),P.fontdicts=B(Ce),P.fdselect=N(Ce,Be,Ce.length-Be)}A(Ce,oe),P.charstrings=B(Ce)}for(ce=fe(G,q,[109,97,120,112]),ce?P.numGlyphs=L(G,ce+4):P.numGlyphs=65535,ae=L(G,te+2),P.index_map=0,ge=0;ge<ae;++ge){var pe=te+4+8*ge;switch(L(G,pe)){case u:switch(L(G,pe+2)){case f:case h:P.index_map=te+le(G,pe+4);break}break;case d:P.index_map=te+le(G,pe+4);break}}return P.index_map==0?0:(P.indexToLocFormat=L(G,P.head+50),1)}function se(P,G){var q=P.data,te=P.index_map,ce=L(q,te+0);if(ce==0){var ge=L(q,te+2);return G<ge-6?q[te+6+G]:0}else if(ce==6){var ae=L(q,te+6),Ce=L(q,te+8);return G>=ae&&G<ae+Ce?L(q,te+10+(G-ae)*2):0}else{if(ce==2)return 0;if(ce==4){var Z=L(q,te+6)>>1,xe=L(q,te+8)>>1,me=L(q,te+10),Ne=L(q,te+12)>>1,oe=te+14,we=oe;if(G>65535)return 0;for(G>=L(q,we+Ne*2)&&(we+=Ne*2),we-=2;me;){xe>>=1;var Be=L(q,we+xe*2);G>Be&&(we+=xe*2),--me}we+=2;var pe,Ie,Se=we-oe>>>1;return Ie=L(q,te+14+Z*2+2+2*Se),G<Ie?0:(pe=L(q,te+14+Z*6+2+2*Se),pe==0?G+X(q,te+14+Z*4+2+2*Se):L(q,pe+(G-Ie)*2+te+14+Z*6+2+2*Se))}else if(ce==12||ce==13){for(var Te=le(q,te+12),Ve=0,qe=Te;Ve<qe;){var et=Ve+(qe-Ve>>1),ct=le(q,te+16+et*12),lt=le(q,te+16+et*12+4);if(G<ct)qe=et;else if(G>lt)Ve=et+1;else{var De=le(q,te+16+et*12+8);return ce==12?De+G-ct:De}}return 0}}return 0}function ue(P,G,q,te,ce,ge){P.type=G,P.x=q,P.y=te,P.cx=ce,P.cy=ge}function U(P,G){var q,te;return G>=P.numGlyphs||P.indexToLocFormat>=2?-1:(P.indexToLocFormat==0?(q=P.glyf+L(P.data,P.loca+G*2)*2,te=P.glyf+L(P.data,P.loca+G*2+2)*2):(q=P.glyf+le(P.data,P.loca+G*4),te=P.glyf+le(P.data,P.loca+G*4+4)),q==te?-1:q)}function W(P,G,q){if(P.cff.length)ye(P,G,q);else{var te=U(P,G);if(te<0)return 0;q.x0=X(P.data,te+2),q.y0=X(P.data,te+4),q.x1=X(P.data,te+6),q.y1=X(P.data,te+8)}return 1}function re(P,G,q,te,ce,ge,ae,Ce,Z,xe){return te?(q&&ue(P[G++],i,Z+ae>>1,xe+Ce>>1,Z,xe),ue(P[G++],i,ce,ge,ae,Ce)):q?ue(P[G++],i,ce,ge,Z,xe):ue(P[G++],n,ce,ge,0,0),G}function ie(P,G){var q=P.data,te=U(P,G);if(te<0)return null;var ce=[],ge=X(q,te);if(ge>0){var ae=0,Ce,Z,xe=0,me,Ne,oe,we=0,Be,pe=0,Ie,Se,Te,Ve,qe,et,ct,lt,De=te+10,We=L(q,te+10+ge*2),Ke=q.subarray(te+10+ge*2+2+We),st=0;for(Ne=1+L(q,De+ge*2-2),me=Ne+2*ge,ce=w(me),oe=0,Ce=0,Be=me-Ne,Z=0;Z<Ne;++Z)Ce==0?(ae=Ke[st++],ae&8&&(Ce=Ke[st++])):--Ce,ce[Be+Z].type=ae;for(Ie=0,Z=0;Z<Ne;++Z){if(ae=ce[Be+Z].type,ae&2){var gt=Ke[st++];Ie+=ae&16?gt:-gt}else ae&16||(Ie=Ie+Q(Ke[st]*256+Ke[st+1]),st+=2);ce[Be+Z].x=Ie}for(Se=0,Z=0;Z<Ne;++Z){if(ae=ce[Be+Z].type,ae&4){var wt=Ke[st++];Se+=ae&32?wt:-wt}else ae&32||(Se=Se+Q(Ke[st]*256+Ke[st+1]),st+=2);ce[Be+Z].y=Se}var vt=0;for(qe=et=Te=Ve=ct=lt=0,Z=0;Z<Ne;++Z)ae=ce[Be+Z].type,Ie=ce[Be+Z].x,Se=ce[Be+Z].y,oe==Z?(Z!=0&&(vt=re(ce,vt,we,pe,qe,et,ct,lt,Te,Ve)),pe=!(ae&1),pe?(ct=Ie,lt=Se,ce[Be+Z+1].type&1?(qe=ce[Be+Z+1].x,et=ce[Be+Z+1].y,++Z):(qe=Ie+ce[Be+Z+1].x>>1,et=Se+ce[Be+Z+1].y>>1)):(qe=Ie,et=Se),ue(ce[vt++],a,qe,et,0,0),we=0,oe=1+L(q,De+xe*2),++xe):ae&1?(we?ue(ce[vt++],i,Ie,Se,Te,Ve):ue(ce[vt++],n,Ie,Se,0,0),we=0):(we&&ue(ce[vt++],i,Te+Ie>>1,Ve+Se>>1,Te,Ve),Te=Ie,Ve=Se,we=1);ce.length=re(ce,vt,we,pe,qe,et,ct,lt,Te,Ve)}else if(ge==-1)for(var kt=1,dt=te+10;kt;){var ae,_t,nt=[1,0,0,1,0,0];ae=X(q,dt),dt+=2,_t=X(q,dt),dt+=2,ae&2&&(ae&1?(nt[4]=X(q,dt),dt+=2,nt[5]=X(q,dt),dt+=2):(nt[4]=v(q),dt+=1,nt[5]=v(q),dt+=1)),ae&8?(nt[0]=nt[3]=X(q,dt)/16384,dt+=2,nt[1]=nt[2]=0):ae&64?(nt[0]=X(q,dt)/16384,dt+=2,nt[1]=nt[2]=0,nt[3]=X(q,dt)/16384,dt+=2):ae&128&&(nt[0]=X(q,dt)/16384,dt+=2,nt[1]=X(q,dt)/16384,dt+=2,nt[2]=X(q,dt)/16384,dt+=2,nt[3]=X(q,dt)/16384,dt+=2);var me=x(nt[0]*nt[0]+nt[1]*nt[1]),Ne=x(nt[2]*nt[2]+nt[3]*nt[3]),Qt=Ye(P,_t);if(Qt.length>0){for(var Z=0,Ht=Qt.length;Z<Ht;++Z){var Ut=Qt[Z],Ie,Se;Ie=Ut.x,Se=Ut.y,Ut.x=p(me*(nt[0]*Ie+nt[2]*Se+nt[4])),Ut.y=p(Ne*(nt[1]*Ie+nt[3]*Se+nt[5])),Ie=Ut.cx,Se=Ut.cy,Ut.cx=p(me*(nt[0]*Ie+nt[2]*Se+nt[4])),Ut.cy=p(Ne*(nt[1]*Ie+nt[3]*Se+nt[5]))}ce=ce.concat(Qt)}kt=ae&32}return ce}function be(P,G,q){(G>P.max_x||!P.started)&&(P.max_x=G),(q>P.max_y||!P.started)&&(P.max_y=q),(G<P.min_x||!P.started)&&(P.min_x=G),(q<P.min_y||!P.started)&&(P.min_y=q),P.started=1}function K(P,G,q,te,ce,ge,ae,Ce){be(P,q,te),G==o&&(be(P,ce,ge),be(P,ae,Ce));var Z={};ue(Z,G,q,te,ce,ge),Z.cx1=ae,Z.cy1=Ce,P.vertices.push(Z)}function ke(P){(P.first_x!=P.x||P.first_y!=P.y)&&K(P,n,P.first_x,P.first_y,0,0,0,0)}function je(P,G,q){ke(P),P.first_x=P.x=P.x+G,P.first_y=P.y=P.y+q,K(P,a,P.x,P.y,0,0,0,0)}function Qe(P,G,q){P.x+=G,P.y+=q,K(P,n,P.x,P.y,0,0,0,0)}function ze(P,G,q,te,ce,ge,ae){var Ce=P.x+G,Z=P.y+q,xe=Ce+te,me=Z+ce;P.x=xe+ge,P.y=me+ae,K(P,o,P.x,P.y,Ce,Z,xe,me)}function tt(P,G){var q=_(P),te=107;return q>=33900?te=32768:q>=1240&&(te=1131),G+=te,G<0||G>=q?j():F(P,G)}function Ze(P,G){var q=P.fdselect,te,ce,ge,ae,Ce,Z=-1,xe;if(A(q,0),Ce=v(q),Ce==0)k(q,G),Z=v(q);else if(Ce==3)for(te=E(q,2),ce=E(q,2),xe=0;xe<te;xe++){if(ae=v(q),ge=E(q,2),G>=ce&&G<ge){Z=ae;break}ce=ge}return V(P.cff,F(P.fontdicts,Z))}function Re(P,G,q){var te=1,ce=0,ge=0,ae=0,Ce,Z,xe,me=0,Ne,oe=[],we=[],Be=P.subrs,pe,Ie;for(pe=F(P.charstrings,G);pe.cursor<pe.length;){switch(Z=0,Ne=1,xe=v(pe),xe){case 19:case 20:te&&(ce+=ae/2|0),te=0,k(pe,(ce+7)/8|0);break;case 1:case 3:case 18:case 23:ce+=ae/2|0;break;case 21:if(te=0,ae<2)return 0;je(q,oe[ae-2],oe[ae-1]);break;case 4:if(te=0,ae<1)return 0;je(q,0,oe[ae-1]);break;case 22:if(te=0,ae<1)return 0;je(q,oe[ae-1],0);break;case 5:if(ae<2)return 0;for(;Z+1<ae;Z+=2)Qe(q,oe[Z],oe[Z+1]);break;case 7:if(ae<1)return 0;for(;!(Z>=ae||(Qe(q,0,oe[Z]),Z++,Z>=ae));)Qe(q,oe[Z],0),Z++;break;case 6:if(ae<1)return 0;for(;!(Z>=ae||(Qe(q,oe[Z],0),Z++,Z>=ae));)Qe(q,0,oe[Z]),Z++;break;case 31:if(ae<4)return 0;for(;!(Z+3>=ae||(ze(q,oe[Z],0,oe[Z+1],oe[Z+2],ae-Z==5?oe[Z+4]:0,oe[Z+3]),Z+=4,Z+3>=ae));)ze(q,0,oe[Z],oe[Z+1],oe[Z+2],oe[Z+3],ae-Z==5?oe[Z+4]:0),Z+=4;break;case 30:if(ae<4)return 0;for(;!(Z+3>=ae||(ze(q,0,oe[Z],oe[Z+1],oe[Z+2],oe[Z+3],ae-Z==5?oe[Z+4]:0),Z+=4,Z+3>=ae));)ze(q,oe[Z],0,oe[Z+1],oe[Z+2],ae-Z==5?oe[Z+4]:0,oe[Z+3]),Z+=4;break;case 8:if(ae<6)return 0;for(;Z+5<ae;Z+=6)ze(q,oe[Z],oe[Z+1],oe[Z+2],oe[Z+3],oe[Z+4],oe[Z+5]);break;case 24:if(ae<8)return 0;for(;Z+5<ae-2;Z+=6)ze(q,oe[Z],oe[Z+1],oe[Z+2],oe[Z+3],oe[Z+4],oe[Z+5]);if(Z+1>=ae)return 0;Qe(q,oe[Z],oe[Z+1]);break;case 25:if(ae<8)return 0;for(;Z+1<ae-6;Z+=2)Qe(q,oe[Z],oe[Z+1]);if(Z+5>=ae)return 0;ze(q,oe[Z],oe[Z+1],oe[Z+2],oe[Z+3],oe[Z+4],oe[Z+5]);break;case 26:case 27:if(ae<4)return 0;for(Ie=0,ae&1&&(Ie=oe[Z],Z++);Z+3<ae;Z+=4)xe==27?ze(q,oe[Z],Ie,oe[Z+1],oe[Z+2],oe[Z+3],0):ze(q,Ie,oe[Z],oe[Z+1],oe[Z+2],0,oe[Z+3]),Ie=0;break;case 10:me||(P.fdselect.length&&(Be=Ze(P,G)),me=1);case 29:if(ae<1||(Ce=oe[--ae]|0,ge>=10)||(we[ge++]=pe,pe=tt(xe==10?Be:P.gsubrs,Ce),pe.length==0))return 0;pe.cursor=0,Ne=0;break;case 11:if(ge<=0)return 0;pe=we[--ge],Ne=0;break;case 14:return ke(q),1;case 12:var Se,Te,Ve,qe,et,ct,lt,De,We,Ke,st,gt,wt,vt,kt=v(pe);switch(kt){case 34:if(ae<7)return 0;Se=oe[0],Te=oe[1],De=oe[2],Ve=oe[3],qe=oe[4],et=oe[5],ct=oe[6],ze(q,Se,0,Te,De,Ve,0),ze(q,qe,0,et,-De,ct,0);break;case 35:if(ae<13)return 0;Se=oe[0],lt=oe[1],Te=oe[2],De=oe[3],Ve=oe[4],We=oe[5],qe=oe[6],Ke=oe[7],et=oe[8],st=oe[9],ct=oe[10],gt=oe[11],ze(q,Se,lt,Te,De,Ve,We),ze(q,qe,Ke,et,st,ct,gt);break;case 36:if(ae<9)return 0;Se=oe[0],lt=oe[1],Te=oe[2],De=oe[3],Ve=oe[4],qe=oe[5],et=oe[6],st=oe[7],ct=oe[8],ze(q,Se,lt,Te,De,Ve,0),ze(q,qe,0,et,st,ct,-(lt+De+st));break;case 37:if(ae<11)return 0;Se=oe[0],lt=oe[1],Te=oe[2],De=oe[3],Ve=oe[4],We=oe[5],qe=oe[6],Ke=oe[7],et=oe[8],st=oe[9],ct=gt=oe[10],wt=Se+Te+Ve+qe+et,vt=lt+De+We+Ke+st,y(wt)>y(vt)?gt=-vt:ct=-wt,ze(q,Se,lt,Te,De,Ve,We),ze(q,qe,Ke,et,st,ct,gt);break;default:return 0}break;default:if(xe!=255&&xe!=28&&(xe<32||xe>254)||(xe==255?Ie=(E(pe,4)|0)/65536:(k(pe,-1),Ie=(I(pe)<<16|0)>>16),ae>=48))return 0;oe[ae++]=Ie,Ne=0;break}Ne&&(ae=0)}return 0}function He(){return{started:0,first_x:0,first_y:0,x:0,y:0,min_x:0,max_x:0,min_y:0,max_y:0,vertices:[]}}function Ue(P,G){var q=He();return Re(P,G,q)?q.vertices:null}function ye(P,G,q){var te=He(),ce=Re(P,G,te);return q.x0=ce?te.min_x:0,q.y0=ce?te.min_y:0,q.x1=ce?te.max_x:0,q.y1=ce?te.max_y:0,ce&&te.vertices?te.vertices.length:0}function Ye(P,G){return P.cff.length?Ue(P,G):ie(P,G)}function Ae(P,G){var q=L(P.data,P.hhea+34);return G<q?{advanceWidth:X(P.data,P.hmtx+4*G),leftSideBearing:X(P.data,P.hmtx+4*G+2)}:{advanceWidth:X(P.data,P.hmtx+4*(q-1)),leftSideBearing:X(P.data,P.hmtx+4*q+2*(G-q))}}function Le(P){return{ascent:X(P.data,P.hhea+4),descent:X(P.data,P.hhea+6),linegap:X(P.data,P.hhea+8)}}function he(P,G,q,te,ce,ge){var ae={};return W(P,G,ae)?{x0:p(ae.x0*q+ce),y0:p(-ae.y1*te+ge),x1:m(ae.x1*q+ce),y1:m(-ae.y0*te+ge)}:{x0:0,y0:0,x1:0,y1:0}}function Pe(P,G,q){var te=(P.x1-P.x0)/(P.y1-P.y0);return{fdx:te,fdy:te!=0?1/te:0,fx:P.x0+te*(q-P.y0)-(G|0),direction:P.invert?1:-1,sy:P.y0,ey:P.y1,next:0}}function Me(P,G,q,te,ce,ge,ae){G=G|0,ce!=ae&&(ce>q.ey||ae<q.sy||(ce<q.sy&&(te+=(ge-te)*(q.sy-ce)/(ae-ce),ce=q.sy),ae>q.ey&&(ge+=(ge-te)*(q.ey-ae)/(ae-ce),ae=q.ey),te<=G&&ge<=G?P[G]+=q.direction*(ae-ce):te>=G+1&&ge>=G+1||(P[G]+=q.direction*(ae-ce)*(1-(te-G+(ge-G))/2))))}function $e(P,G,q,te,ce){for(var ge=ce+1;te;){if(te.fdx==0){var ae=te.fx;ae<q&&(ae>=0?(Me(P,ae,te,ae,ce,ae,ge),Me(G,ae+1,te,ae,ce,ae,ge)):Me(G,0,te,ae,ce,ae,ge))}else{var ae=te.fx,Ce=te.fdx,Z=ae+Ce,xe,me,Ne,oe,we=te.fdy;if(te.sy>ce?(xe=ae+Ce*(te.sy-ce),Ne=te.sy):(xe=ae,Ne=ce),te.ey<ge?(me=ae+Ce*(te.ey-ce),oe=te.ey):(me=Z,oe=ge),xe>=0&&me>=0&&xe<q&&me<q)if((xe|0)==(me|0)){var Be=oe-Ne,pe=xe|0;P[pe]+=te.direction*(1-(xe-pe+(me-pe))/2)*Be,G[pe+1]+=te.direction*Be}else{var Ie,pe,Se,Te,Ve,qe,et,ct;for(xe>me&&(Ne=ge-(Ne-ce),oe=ge-(oe-ce),Ie=Ne,Ne=oe,oe=Ie,Ie=me,me=xe,xe=Ie,Ce=-Ce,we=-we,Ie=ae,ae=Z,Z=Ie),Se=xe|0,Te=me|0,Ve=(Se+1-ae)*we+ce,et=te.direction,ct=et*(Ve-Ne),P[Se]+=ct*(1-(xe-Se+(Se+1-Se))/2),qe=et*we,pe=Se+1;pe<Te;++pe)P[pe]+=ct+qe/2,ct+=qe;Ve+=we*(Te-(Se+1)),P[Te]+=ct+et*(1-(Te-Te+(me-Te))/2)*(oe-Ve),G[Te+1]+=et*(oe-Ne)}else for(var pe=0;pe<q;++pe){var lt=ce,Se=pe,Te=pe+1,De=Z,We=ge,Ke=(pe-ae)/Ce+ce,st=(pe+1-ae)/Ce+ce;ae<Se&&De>Te?(Me(P,pe,te,ae,lt,Se,Ke),Me(P,pe,te,Se,Ke,Te,st),Me(P,pe,te,Te,st,De,We)):De<Se&&ae>Te?(Me(P,pe,te,ae,lt,Te,st),Me(P,pe,te,Te,st,Se,Ke),Me(P,pe,te,Se,Ke,De,We)):ae<Se&&De>Se||De<Se&&ae>Se?(Me(P,pe,te,ae,lt,Se,Ke),Me(P,pe,te,Se,Ke,De,We)):ae<Te&&De>Te||De<Te&&ae>Te?(Me(P,pe,te,ae,lt,Te,st),Me(P,pe,te,Te,st,De,We)):Me(P,pe,te,ae,lt,De,We)}}te=te.next}}function rt(P,G,q,te,ce,ge){ce|=0,ge|=0;var ae=null,Ce,Z=ge,xe=0,me,Ne=new Float32Array(P.w*2+1),oe=Ne.subarray(P.w),we=0;for(G[q].y0=ge+P.h+1;xe<P.h;){var Be=Z+0,pe=Z+1,Ie=ae;if(Ne.fill)Ne.fill(0);else for(var Se=0,Te=Ne.length;Se<Te;Se++)Ne[Se]=0;for(;Ie;)Ce=Ie,Ie=Ce.next,Ce.ey<=Be&&(Ce.direction=0);for(;G[we].y0<=pe;)G[we].y0!=G[we].y1&&(Ce=Pe(G[we],ce,Be),Ce.next=ae,ae=Ce),++we;ae&&$e(Ne,oe,P.w,ae,Be);for(var me=0,Ve=0;me<P.w;++me){var qe,et;Ve+=oe[me],qe=Ne[me]+Ve,qe=y(qe)*255+.5,et=qe>>>0,et>255&&(et=255),P.pixels[xe*P.stride+me]=et}for(Ie=ae;Ie;)Ce=Ie,Ce.fx+=Ce.fdx,Ie=Ce.next;++Z,++xe}}function pt(P,G){for(var q=1;q<G;++q){for(var te=P[q],ce=q;ce>0&&te.y0<P[ce-1].y0;)P[ce]=P[ce-1],--ce;q!=ce&&(P[ce]=te)}}function ut(P,G,q){for(;q>12;){var te,ce,ge,ae,Ce,Z=q>>1,xe=P[G].y0<P[G+Z].y0,me=P[G+Z].y0<P[G+q-1].y0;for(xe!=me&&(ce=P[G].y0<P[G+q-11].y0,Ce=ce==me?0:q-1,te=P[G+Ce],P[G+Ce]=P[G+Z],P[G+Z]=te),te=P[G],P[G]=P[G+Z],P[G+Z]=te,ge=1,ae=q-1;;){for(;P[G+ge].y0<P[G].y0;++ge);for(;P[G].y0<P[G+ae].y0;--ae);if(ge>=ae)break;te=P[G+ge],P[G+ge]=P[G+ae],P[G+ae]=te,++ge,--ae}ae<q-ge?(ut(P,G,ae),G+=ge,q-=ge):(ut(P,G+ge,q-ge),q=ae)}}function bt(P,G){ut(P,0,G),pt(P,G)}function It(P,G,q,te,ce,ge,ae,Ce,Z,xe){var me=-ce,Ne,oe,we,Be,pe,Ie,Se=1;for(oe=0,we=0;we<q.length;++we)oe+=q[we];for(Ne=w(oe+1),oe=0,Ie=0,we=0;we<q.length;++we){var Te=Ie;for(Ie+=q[we],Be=q[we]-1,pe=0;pe<q[we];Be=pe++){var Ve=pe,qe=Be;G[Te+Be].y!=G[Te+pe].y&&(Ne[oe].invert=0,G[Te+Be].y>G[Te+pe].y&&(Ne[oe].invert=1,Ve=Be,qe=pe),Ne[oe].x0=G[Te+Ve].x*te+ge,Ne[oe].y0=(G[Te+Ve].y*me+ae)*Se,Ne[oe].x1=G[Te+qe].x*te+ge,Ne[oe].y1=(G[Te+qe].y*me+ae)*Se,++oe)}}bt(Ne,oe),rt(P,Ne,oe,Se,Ce,Z)}function St(P,G,q,te,ce,ge,ae,Ce,Z){var xe=(G+2*te+ge)/4,me=(q+2*ce+ae)/4,Ne=(G+ge)/2-xe,oe=(q+ae)/2-me;return Z>16||(Ne*Ne+oe*oe>Ce?(St(P,G,q,(G+te)/2,(q+ce)/2,xe,me,Ce,Z+1),St(P,xe,me,(te+ge)/2,(ce+ae)/2,ge,ae,Ce,Z+1)):P.push({x:ge,y:ae})),1}function de(P,G,q,te,ce,ge,ae,Ce,Z,xe,me){var Ne=te-G,oe=ce-q,we=ge-te,Be=ae-ce,pe=Ce-ge,Ie=Z-ae,Se=Ce-G,Te=Z-q,Ve=x(Ne*Ne+oe*oe)+x(we*we+Be*Be)+x(pe*pe+Ie*Ie),qe=x(Se*Se+Te*Te),et=Ve*Ve-qe*qe;if(!(me>16))if(et>xe){var ct=(G+te)/2,lt=(q+ce)/2,De=(te+ge)/2,We=(ce+ae)/2,Ke=(ge+Ce)/2,st=(ae+Z)/2,gt=(ct+De)/2,wt=(lt+We)/2,vt=(De+Ke)/2,kt=(We+st)/2,dt=(gt+vt)/2,_t=(wt+kt)/2;de(P,G,q,ct,lt,gt,wt,dt,_t,xe,me+1),de(P,dt,_t,vt,kt,Ke,st,Ce,Z,xe,me+1)}else P.push({x:Ce,y:Z})}function Ee(P,G,q){for(var te=[],ce=G*G,ge=-1,ae=0,Ce=0,Z=0,xe=0,me=P.length;xe<me;++xe)switch(P[xe].type){case a:ge>=0&&(q[ge]=te.length-ae),++ge,ae=te.length,Ce=P[xe].x,Z=P[xe].y,te.push({x:Ce,y:Z});break;case n:Ce=P[xe].x,Z=P[xe].y,te.push({x:Ce,y:Z});break;case i:St(te,Ce,Z,P[xe].cx,P[xe].cy,P[xe].x,P[xe].y,ce,0),Ce=P[xe].x,Z=P[xe].y;break;case o:de(te,Ce,Z,P[xe].cx,P[xe].cy,P[xe].cx1,P[xe].cy1,P[xe].x,P[xe].y,ce,0),Ce=P[xe].x,Z=P[xe].y;break}return q[ge]=te.length-ae,te}function at(P,G,q,te,ce,ge,ae,Ce,Z,xe){Ce|=0,Z|=0;var me=te>ce?ce:te,Ne=[],oe=Ee(q,G/me,Ne);oe&&It(P,oe,Ne,te,ce,ge,ae,Ce,Z)}function ot(P){var G={};if(!H(G,P,0))return null;var q=Le(G);return G.ascent=q.ascent,G.descent=q.descent,G.linegap=q.linegap,G}function Et(P,G,q,te){te=te||q;var ce=q/P.ascent,ge=te/P.ascent,ae=se(P,G);if(!ae&&G)return null;var Ce=Ye(P,ae),Z=he(P,ae,ce,ge,0,0),xe=Z.x1-Z.x0,me=Z.y1-Z.y0,Ne=null;if(xe&&me){var oe={pixels:Ne=new Uint8Array(xe*me),w:xe,h:me,stride:xe};at(oe,.35,Ce,ce,ge,0,0,Z.x0,Z.y0)}var we=Ae(P,ae);return{glyph:ae,pixels:Ne,width:xe,height:me,top:-Z.y0,left:Z.x0,advance:p(we.advanceWidth*ce)}}function yt(P,G,q,te){te=te||q;var ce=q/P.ascent,ge=te/P.ascent,ae=se(P,G);if(!ae&&G)return null;var Ce=Ye(P,ae),Z=Ae(P,ae),xe=0,me=0,Ne=[];if(Ce)for(var oe=0,we=Ce.length;oe<we;oe++){var Be=Ce[oe],pe;if(Be.type==a)pe={type:"M",x:Be.x*ce,y:Be.y*ge};else if(Be.type==n)pe={type:"L",x:Be.x*ce,y:Be.y*ge};else if(Be.type==i)pe={type:"Q",x:Be.x*ce,y:Be.y*ge,cx:Be.cx*ce,cy:Be.cy*ge};else if(Be.type==o)pe={type:"C",x:Be.x*ce,y:Be.y*ge,cx1:Be.cx*ce,cy1:Be.cy*ge,cx2:Be.cx1*ce,cy2:Be.cy1*ge};else continue;pe.y>xe&&(xe=pe.y),pe.y<me&&(me=pe.y),Ne.push(pe)}return Ne.advance=Z.advanceWidth*ce,Ne.ascent=xe,Ne.descent=me,Ne}return{InitFont:ot,GetGlyph:Et,GetPaths:yt}}();function v_(a){if(typeof a=="string"){for(var n=/[^A-Za-z0-9+\/=\s]/.test(a),i=n?a:atob(a),o=i.length,d=new Uint8Array(o),u=0;u<o;u++)d[u]=i.charCodeAt(u);return d}else{if(a instanceof Uint8Array)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a)}throw new ReferenceError("data must be a binary or base64 encoded string or Uint8Array")}si.loadFont("OCR-A",100,100,"AAEAAAAPAIAAAwBwRkZUTXxHoksAADPIAAAAHEdERUYAmQAGAAAyIAAAACBHUE9TuP+4/gAAM5gAAAAwR1NVQuq3l/0AADJAAAABWE9TLzKDm4kvAAABeAAAAGBjbWFwO6GiGgAAArgAAAFaZ2FzcP//AAMAADIYAAAACGdseWYfHUemAAAE8AAAKUBoZWFkFeCL3QAAAPwAAAA2aGhlYQcqAgQAAAE0AAAAJGhtdHgagBVHAAAB2AAAAOBsb2NhH+IWRAAABBQAAADabWF4cACxAF0AAAFYAAAAIG5hbWUIp3NfAAAuMAAAAoJwb3N0oJoboAAAMLQAAAFkAAEAAAACAAAhYPsHXw889QALA+gAAAAA2gMjvQAAAADaAyO9AD7/LAJ8BFIAAAAIAAIAAAAAAAAAAQAABFL/LABaAtMAAAAAAnwAAQAAAAAAAAAAAAAAAAAAAAQAAQAAAGwAWgADAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAtMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAACMAACoAAAAAAAAAAABQZkVkAEAAICWgAyD/OABaBFIA1AAAAAEAAAAAAjgDDAAAACAAAQLTAAAAAAAAAtMAAALTAAAA9gBJAEkASQBJAEkA3QDdAKwASQBJAKwASQDdAEkASQBJAEkASQBhAEkASQBJAEkASQDdAKwASQBJAEkASQBJAEYASQBJAEkASQBJAEkASQBJAHoASQBJAEkASQBJAEkASQBJAEkASQBJAEkASQBJAEkASABJAEkASQBIAEkAegBJAEkASQBJAEkAYQBJAEkAegB6AEkAegBBAEkASQBJAEkASQBJAEkASQBJAD4ASQBJAEkASQEPAEkASQBxAHEAcQE3AFcA7QBxAQMA1ABxAAAAAwAAAAMAAAAcAAEAAAAAAFQAAwABAAAAHAAEADgAAAAKAAgAAgACAH4kQiUCJaD//wAAACAkQCUCJaD////j3CLbY9rGAAEAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAFIApgDoAS4BigGqAdYCAgJKAnQCkAKsAsYC5AMIAzIDYAOcA8gD+gQmBFIEggSuBNwFDAU0BVwFhAXEBhIGPgZwBqgG5AcKBy4HageWB8QH7gggCDoIZgiICMoI8glMCYIJwAnmChAKNAp0Cq4K1gr6CyYLRAtwC5QLrgvODBYMdAysDRANag2eDhYOSA6EDsYO+A8iD2YPmA/yEFgQvBDqETQRbhGgEcwSDhJEEnoSqBLiEwITPBNyE5ITthPeE+wT+hQUFEYUaBSIFKAAAAACAPYAAAGNAwwADwAfAAA3NTQ2OwEyFh0BFAYrASImETQ2OwEyFh0BAxQGIyImJ/YeFTEVHh4VMRUeHhUxFB8ZHhQVHAIzKhUdHRUqFR4eArwUHhwTA/6BFR0dFQAAAAABAEkBqAI7AwwAEwAAEychFQYHBiMiJjUnIwcOASMiJidKAQHyJgsMKBQgKHIqAxwSExwDAsJKSrkvMhoS09YRGBgRAAIASQB/AjsDDAA9AEEAABM0NjsBNSMiJjQ2OwE1NDYyFh0BMzU0NjIWHQEzMhYUBisBFTMyFhUUBisBFRQGIiY9ASMVFAYiJj0BIyImNzM1I0kdFTExFR0dFTEdKh5hHiodMRUeHhUxMRUeHhUxHSoeYR4qHTEVHchhYQFcFB5vHiodeBQeHhR4eBQeHhR4HSoebx4UFR53FR4eFXd3FR4eFXceR28AAAEASQAAAjsDDAAxAAA2NDYzITUhIiY9ATQ2OwE1NDYzMhYdATMyFhQGIyEVITIWHQEUBisBFRQGIyImPQEjIkkdFQFb/qUVHR0VlB4VFB6UFR4eFf6lAVsVHh4VlB4UFR6UFccqHkQeFaoVHXgUHh4UeB0qHkQeFaoVHXcVHh4VdwAAAAMASQAAAjsDDAAPAB8ALwAANzQ3ATYzMhYVFAcBBiMiJhE1NDY7ATIWHQEUBisBIiYBNTQ2OwEyFh0BFAYrASImSQoBjQ4aFR4L/nMOGhUdHRVjFR4eFWMVHQEpHhVjFR4eFWMVHocUCwH+Ex0VEg3+AhMdAhNVFB4eFFUVHh79w1QVHh4VVBUeHgAAAwBJAAACOwK3AC4ANgBBAAA3NTQ/AScmPQE0NjsBMhYdARQPARc3NjMyFhUUDgIHFxYVFAYjIi8BBwYrASImNxQWOwE3JwcRFzc1NCYrASIGFUkRXGANWT5gPlkRfWszDxIVHhAPIQI0Dh4VFw43Sg8RYj5ZZR4UTzhrTlVvHhRgFB6XRRgPT2YPFEU+WVk+RRkOa3IsDB4VDRoOGAI4EBIVHhA7PwxZPhUdMHJCASpbXi4UHh0VAAEA3QFUAaYDDAARAAATETQ2OwEyFhcUBg8BDgEjIibdHhVjFRwCMhoZBRoSFR4BhgFUFB4dFQawVVURFR0AAAABAN0AAAHZAwwAGwAAEzU0PwE2MzIWFRQPAQYdARQfARYVFAYjIi8BJt0rdRAYFR8MdRYWdQodFRgQdSsBJsBFOJYTHhQOEpUdIsAiHZUPEBUeE5Y4AAAAAQCsAAABpgMMABsAADc0PwE2PQE0LwEmNTQ2MzIfARYdARQPAQYjIiasCnUWFnUKHRUYEHUrK3UQGBUdMxAPlR0iwCIdlQ8RFB4TljhFwEU4lhMeAAAAAAEASQBVAjsCtwAzAAA3ND8BJyY1NDYzMh8BNTQ2MzIWHQE3NjMyFhUUDwEXFhUUBiMiLwEVFAYjIiY9AQcGIyImSRGZmREdFRMOcx4VFB5zDRQVHhKZmRIeFRQNcx4UFR5zDhMVHdwYD4ODDxgVHQxikRUdHRWRYgwdFRcQg4MQFxUdDGKRFR0dFZFiDB0AAAEASQCNAjsCfwAdAAASNDY7ATU0NjMyFh0BMzIWFAYrARUUBiMiJj0BIyJJHRWUHhUUHpQVHh4VlB4UFR6UFQFxKh6UFB4eFJQeKh2UFR4eFZQAAAEArAAAAdcBZAAQAAASNDY7ATIWHQEUBiImPQEjIqwdFccVHR0qHpQVARwqHh4V/hUeHhXMAAAAAQBJASkCOwG5AA8AABM1NDYzITIWHQEUBiMhIiZJHRUBjRUeHhX+cxUdAVwqFR4eFSoVHh4AAAABAN0AfwGmATkADwAANzU0NjsBMhYdARQGKwEiJt0eFWMVHh4VYxUeslUVHR0VVRUeHgAAAQBJAAACOwMMAA8AADc0NwE2MzIWFRQHAQYjIiZJBgGNDx0VHgf+cw8dFR0zDQwCpxkeFAwO/VkZHgAAAgBJAAACOwMMAA8AEwAANxE0NjMhMhYVERQGIyEiJjchESFJPCkBKCg9PSj+2Ck8ZQEo/thlAkIpPDwp/b4pPDwpAkIAAAAAAQBJAAACOwMMABwAADc0NjsBESMiJjU0NjsBETM1NDYyFh0BFAYjISImSR0VlJQVHR0V+WIdKh4eFf5zFR0zFB4CQh4VFB79WcwVHh4V/hUeHgAAAQBJAAACOwMMAB4AADMRNDYzITUhIiY1NDYzITIWHQEUBiMhFSEyFhUUBiNJPCkBKP6lFR0dFQFbKD08Kf7YAVoVHh4VAVQpO+8eFRQePCnvKDzvHhQVHgAAAAABAEkAAAI7AwwAKgAANzQ2MyE1NCYrASImNDY7ATI2PQEhIiY1NDYzITIWHQEUBxYdARQGIyEiJkkdFQFbHxTFFR0dFcUVHv6lFR0dFQFbKD0oKD0o/qUVHTMUHrwUHx0qHh4UvB4VFB48Kbw6Kys6vCk8HgAAAAABAGEAAAIiAwwAHQAAExE0NjIWFREzETQ2MzIWFREyFhQGIxUUBiMiJj0BYR4qHcUeFRQeFR0dFR4UFR4A/wHbFB4eFP6KASEVHR0V/t8eKh3MFR4eFcwAAQBJAAACOwMMACIAADc0NjMyHwEzNSERITIWFRQGKwEVMzIWHQEUBisBIi4CJyZJHRUMCFrt/tYBXBUeHhX3xSg9PSjjFCkaLAkeXRUdBCbvAbgeFBUe7j0o7yk8CgsVBA0AAAIASQAAAjsDDAAXABsAADcRNDY7ATIWFRQGIxEhMhYdARQGIyEiJjchNSFJHRUyFR0dFQFbFR4eFf5zFR1kASn+1zMCpxQeHhQVHv69HhX+FR4eR5oAAAABAEkAAAI7AwwAGwAAEzU0NjMhERQPARUUBiMiJj0BND8BNSEOASMiJkkdFQHAErUeFBUeErX+1wMcExUdAq8rFB7+zxcQmucVHh4V/hcQmrUSGB0AAAAAAwBJAAACOwMMABcAGwAfAAA3NTQ2MxE0NjsBMhYVETIWHQEUBiMhIiY3ITUhNzM1I0k7KRwVxxUcKD09KP7XKTtkASn+12RhYWXvKTwBIRUdHRX+3z0o7yk8PCnvZe4AAgBJAAACOwMMABcAGwAAExE0NjMhMhYVERQGKwEiJjU0NjMRISImNyE1IUkdFQGNFR4eFTIVHR0V/qUVHWQBKf7XAdsA/xQeHhT9WRUeHhUUHgFDHkeaAAIA3QB/AaYCjQAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm3R4VYxUeHhVjFR4eFWMVHh4VYxUeslUVHR0VVRUeHgFoVRUeHhVVFR0dAAAAAgCsAAAB1wK3ABAAIAAAEjQ2OwEyFh0BFAYiJj0BIyIDNTQ2OwEyFh0BFAYrASImrB0VxxUdHSoelBUdHRVkFB4eFGQVHQEcKh4eFf4VHh4VzAExVRUdHRVVFR4eAAAAAQBJAFUCOwK3ABYAABM1NDclNjMyFhUUBw0BFhUUBiMiJyUmSRgBjQsPFR4Z/pkBZxkeFQ8L/nMYAXArHQ/pBx0VHBDT0xAcFR0H6Q8AAAACAEkA/wI7AjgACwAXAAASNDYzITIWFAYjISImNDYzITIWFAYjISJJHRUBjRUeHhX+cxUdHRUBjRUeHhX+cxUBHCoeHiod8SoeHiodAAAAAAEASQBVAjsCtwAWAAA3NDctASY1NDYzMhcFFh0BFAcFBiMiJkkYAWj+mBgdFQ8LAY0ZFP5uCw8VHYcdD9PTDx0VHQfpEBwqHQzsBx0AAAAAAgBJAAACOwMMAB4AKAAAEzQ3ATYyHwEWHQEUBwUVFAYiJj0BNDclNScFBiMiJhM0NjIWFRQGIiZJEQEqDyQPYxIS/ugeKh0RARkx/vcPEhUdYx0qHh4qHQHbGA4A/wwMVQ8XVRcQ7z4VHR0VVRkO7yYq4wwe/m0UHh4UFR4eAAACAEkAAAI7AwwALQA4AAA3NTQ2OwEyFhURFBYyNjURNCYrASIGBwYjIiY1NDc2OwEyFhURFAYjIicGIyImNxQWMjY9ASMiBhVJWD1kFB4dKB0uH48ZLQwOHxUdNjdEj0lpWT05Kiw4PVhlHCgdMRQclrc+WB4V/uYUHR0UAcQgLSMXGx4VJDEyakj+PD1ZJydYPhQdHRToHRQAAAACAEYAAAI8AwwAFQAYAAA3Ez4BMhYXExQGIyImLwEjBw4BIyImNzMDRssFGiIcBMofFREaBSffJwUbERUfqqNSMwK1EBQUEP1LFR4UEIaGEBQe8QEWAAAAAwBJAAACOwMMAA4AGAAiAAAzESEyFh0BFAcWHQEUBiMnMzI2PQE0JisBNTMyNj0BNCYrAUkBKFJ4RkZ4UsPDKTw8KcPDKTw8KcMDDHhSJVk+PlklUnhlPSglKTxlPCglKD0AAAEASQAAAjsDDAAlAAATND8BPgE7ATIWFRQGKwEiDwEGFB8BFjsBMhYVFAYrASImJyYnJkkYZRBLLboVHh4Vuh8NZw0NZw0fuhUeHhW6LEkSShwYAYY1MswkLx4UFR4cyxw8HMscHhQVHjAkjT4zAAACAEkAAAI7AwwAGwAoAAA3NDY7AREjIiY1NDY7ATIWHwEWFA8BDgErASImNzMyPwE2NTQvASYrAUkdFTExFR0dFbosSRJmGRllEEstuhUdyCQfDWcODmcNHyQzFB4CQh4VFB4wJMs0ZjTMJC8eRxzLIhgeHMscAAABAEkAAAI7AwwAGQAAMxEhMhYVFAYjIRUzMhYUBisBFSEyFhUUBiNJAb8VHh4V/qaUFB4eFJQBWhUeHhUDDB4UFR7uHiod7x4UFR4AAQBJAAACOwMMABYAADcRITIWFRQGIyEVMzIWFAYrAREUBiImSQG/FR4eFf6m9xUdHRX3HiodMwLZHhQVHpodKh7+ixUeHgAAAQBJAAACOwMMACoAADcRND8BNjsBMhYVFAYrASIPAQYVERQWOwEyNj0BIyImNDY7ARUUBisBIiZJKogtS5UVHh4VlRkPiBUeFMMUH2MVHR0VyFo+wz9YmAEPRTawOh4UFR4Urhwi/vEVHh4VZx0qHsw+WlkAAAAAAQBJAAACOwMMABsAADcRNDYyFhURIRE0NjIWFREUBiImNREhERQGIiZJHSoeASgdKh4eKh3+2B4qHTMCpxQeHhT+3wEhFB4eFP1ZFR4eFQEh/t8VHh4AAAEASQAAAjsDDAAfAAA3NDY7AREjIiY1NDYzITIWFRQGKwERMzIWFRQGIyEiJkkdFZSUFR0dFQGNFR4eFZSUFR4eFf5zFR0zFB4CQh4VFB4eFBUe/b4eFBUeHgAAAQB6AAACCQMMABsAADc1NDYyFh0BFBY7ATI2NRE0NjIWFREUBisBIiZ6HiodHhVfFR4dKh5aPl8+WpeaFR4eFZoVHR4UAkMUHh4U/b0+WVkAAAAAAQBJAAACOwMMAB4AADcRNDYyFh0BATYzMhYVFAcJARYVFAYjIicBFRQGIiZJHSoeATkPEhUeEv6gAWASHhUSD/7HHiodMwKnFB4eFOYBDAweFBgP/tP+0w8XFR4MAQzlFR4eAAEASQAAAjsDDAAOAAAzETQ2MhYVESEyFhUUBiNJHSoeAVoVHh4VAtoUHh4U/YseFBUeAAABAEkAAAI7AwwAGwAANxEzFzczERQGIiY1EQcVFAYjIiY9AScRFAYiJkl+e3p/HiodYh4UFR5hHiodMwLZr6/9JxUeHhUCTowaFR4eFRqK/bQVHh4AAAAAAQBJAAACOwMMABEAADcRMwERNDYyFhURIwERFAYiJkmFAQgdKh6G/vkeKh0zAtn9pgIoFB4eFP0mAlj92xUeHgAAAAACAEkAAAI7AwwAFgApAAATND8BPgEzMhYfARYUDwEOASMiJi8BJjcGFB8BFjMyPwE2NTQvASYjIgdJGGsQPyYnPxBrGRlrED8nJj8QaxhyDQ1sCBIUCGsODmwIExEJAYY1MtcfKSkf1zRmNNcfKSkf1y5zHDwc1hEQ1yIYHhzVEhIAAAACAEkAAAI7AwwADwAZAAA3ESEyFh0BFAYrARUUBiImEzMyNj0BNCYrAUkBWj5aWj71HiodZfUUHx8U9TMC2Vk+tD5a9hUeHgFwHhW0FB4AAAIASQAAAjsDDAAhAEAAADcRND8BNjMyFhURFA4FBxczMhYVFAYrAScHBiMiJjcUOwE3JyY1NDYzMh4DFz4ENRE0JisBBwYVSUbhIC8ySggUDiMOLAUYQRUeHhWGJUsiLTJIZRUIbCUDHhUNFA8IDAIEHw4UCQ0KB+giewEaXj2+Hkky/uYXKSUZIg0kBD0eFBUeXkAeSTIWXF4HCxUeCxoRJAQEGQ0aHBEBGgkMwx4wAAAAAAIASQAAAjsDDAAZACMAADcRITIWHQEUBisBExYVFAYjIicDIxEUBiImEzMyNj0BNCYrAUkBWj5aWz06ywceFR0P6UUeKh1l9RQfHxT1MwLZWj40Plr+pA4LFR4ZAY/+ixUeHgHvHxQ0FR4AAAEASQAAAjsDDAAsAAA3NDYyFhUUFjsBMjUBJj0BNDY7ATIWFRQGIiY1NCYrASIdAgEWFQ4BKwEiJkkdKh4UDvkN/ooXQy75N1EeKh0VDvkMAXQZAkEv+TdQhxUeHhUOFA0B4iAmAy1CUDcVHh4VDRUKAwT+Ih4oL0NQAAABAEkAAAI7AwwAGAAAEzUhFRQGIiY9ASMRFAYjIiY1ESMVFAYiJkkB8h4qHWIeFBUeYR4qHQKFh4cVHh4VIv2MFR4eFQJ0IhUeHgAAAQBJAAACOwMMABsAADcRNDYyFhURFBY7ATI2NRE0NjIWFREUBisBIiZJHSoeHhTDFB8dKh5aPsM+WZcCQxQeHhT9vRUdHhQCQxQeHhT9vT5ZWQAAAQBJAAACOwMMABUAABM1NDYyFh0BGwE1NDYyFh0BAwYjIidJHSoelJQdKh7KDSIjDQIltRQeHhSh/oYBeqEUHh4UtP36ICAAAQBJAAACOwMMACsAADcRNDYyFhURFzM+ATcRNDYzMhYVER4BFzM3ETQ2MhYVEQcGKwEiJwYrASInSR0qHhwpAhQGHhUUHgYUAikdHSoeOQ8dYiASFR5hHg96AmAUHh4U/bswAyYKAUMVHR0V/r0KJgMwAkUUHh4U/aBhGSMjGQABAEkAAAI7AwwAIwAANzQ3EwMmNTQ2MzIXGwE2MzIWFRQHAxMWFRQGIyInCwEGIyImSQa4uAYdFR0Pm5oPHRUeB7i4Bx4VHQ+amw8dFR0zDQwBOgE6DA4UHhn++AEIGR4UDA7+xv7GDgsVHhkBCP74GR4AAAEASQAAAjsDDAAZAAATNTQ2MhYdARc3NTQ2MhYdAQcRFAYjIiY1EUkdKh6Ukx4qHsceFBUeAnNnFB4eFES+vkQUHh4UZ/7+vhUeHhUBQgAAAQBIAAACOwMMABMAADcBISImNTQ2MyEVASEyFhUUBiMhSAFo/ssVHR0VAcD+mAE1FR4eFf5BQAJnHhUUHkD9mR4UFR4AAAAAAgBJAAACOwMMABcAGwAANxE0NjMhMhYVFAYrAREzMhYVFAYjISImNzMRI0kdFQGNFR4eFcbGFR4eFf5zFR1kMDAzAqcUHh4UFR79vh4UFR4eRwJCAAAAAAEASQAAAjsDDAAPAAATNDYzMhcBFhUUBiMiJwEmSR0VHQ8BjQceFR0P/nMGAtoUHhn9WQ4LFR4ZAqcMAAIASQAAAjsDDAAXABsAADc0NjsBESMiJjU0NjMhMhYVERQGIyEiJiUzESNJHRXGxhUdHRUBjRUeHhX+cxUdAV0wMDMUHgJCHhUUHh4U/VkVHh5HAkIAAAABAEgAfwI7AmIAFAAANxM2MzIXExYVFAYjIi8BBwYjIiY1SM0NIB4OyAUeFRsOnZ4OGxUdvgGJGxv+gAwJFR4V7OwVHhUAAAABAEn/mwI7AAAADQAAFzQ2MyEyFhUUBiMhIiZJHRUBjRUeHhX+cxUdMhQeHhQVHh4AAAAAAQB6AagCCQMMABAAABM0NjsBMhcTFhUUBiMiJwEmeh4VYxoOywYeFRAQ/tYSAtoUHhP++gsNFR4MAP8PAAAAAAIASQAAAjsCOAAmADQAADc1NDY7ATIXNC4FKwEiJjQ2OwEyFhcTFAYjIiY1BwYrASImNxQWOwE3NTQmKwEiBhVJWD3BGBQBAQMGCxEMuhUdHRW6PVcCDR8VFB1KCg+VPVhlHBSHax8SwRMdljg+WAcHIQ8cDRAGHSoeVTz+ixUdHhQrB1g+FB0/LBIdHRQAAAIASQAAAjsDDAApAEMAADcRNDYyFh0BNjsBMh4FFxYdARQOBA8BBisBIi4BJxUUBiImNxQfARY7ATI+ATc2PQE0LgEnJisBIg8BBhVJHSoeRENLDRgYDhgHGwE1BA4HGgURESk4Sx02HRceKh1lEVYMFEsOFh4CEg0fARUUSxQMVhEzAqcUHh4U4kADCwUTBRcBLkTOEBsaDxoGDw4kFhcVDxUeHsIXDkoMDB4BDhfODhQaARMMSgsaAAAAAQBJAAACOwI4ACYAADc1NDc+AzsBMhYUBisBIg8BBh0BFB8BFjsBMhYVFAYrASIvASZJNAszITof0xUeHhXTFAxWERFWDBTTFR4eFdM5KVY04HhFLQkxGxkeKh0MSgsaeBcPSQweFBUeJEotAAAAAAIASQAAAjsDDAAtAEgAADc1NDY3Njc2OwEyHgQXNTQ2MhYVERQGIiY9AQ4CKwEiLgcnJjcUHgIXFjsBMj8BNj0BNC8BJisBIg4BBwYVSSonBQMpOEsQHhMeCB8CHSoeHiodFx02HksLExMOEQoRBhMCNGUMDRgEDxFLEg5WEhJWDBRLDhcaBBK1zjA7IAQCJAcHFAYcAecUHh4U/VkVHh4VEBYXFgIGBQoGDgURAitHDBYMEwMMDEoNGHgVEEoMDRoDEBYAAAAAAgBJAAACOwI4ADQAQQAANzU0PgE3NjsBMh4GHwEWHQEUBiMhFRQeAhcWMyEyFhUUBiMhIi4HJyY3ITU0JisBIg4BBwYVSSAaHyk4fQoTFAwUBxQECws1HhX+pgwNGAQPEQEFFR4eFf77CxMTDhEKEQYTAjRlASg8Gn0OFh4CEbXOIzwYGiQCBgQMBBECCgouRHwVHh8MFgwTAwweFBUeAgYFCgYOBRECK8tKGjYMHgEOFwAAAQBhAAACIQMMACQAABI0NjsBNTQ2OwEyFhUUBisBIgYdATMyFhQGKwERFAYiJjURIyJhHRUxaEp5FR0dFXkgLWMUHh4UYx0qHjEVAfAqHiJKaB4UFR4tICIeKh3+YBUeHhUBoAAAAAACAEn/LAI7AjgAQgBZAAA3NTQ+CDc2OwEyHgQXNTQ2MhYVERQOBA8BBisBIiY0NjsBMj4BNzY9AQ4CKwEiLgMvASY3FBY7ATI/ATY9ATQvASYrASIOAQcGFUkDAwsEEAQVAxcBKThLEB4THggfAh0qHgQOBxoFEREpONMVHh4V0w4XHAMSFx42HUsPHxIeBxARNGQ7G0sUDFYSElYMFEsPFxgGEuCjCxYQFAoTBhIDEwEkBwcUBhwBEhUeHhX93BAbGg8aBg8OJB0qHg4aAw4XjRUYFwcGFQUPDi1FGzYMSg4XThUQSgwOGAQSFAAAAAABAEkAAAI6AwwAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMCpxQeHhT3PRhVPP6MFR4dFAFzExxp/skVHh4AAgB6AAACCQM2ABoAKgAANzQ2OwERIyImNDY7ATIWFREzMhYVFAYjISImEzU0NjsBMhYdARQGKwEiJnoeFWNjFR4eFZUUHmIVHh4V/tcVHmMeFTIUHh4UMhUeMxQeAW4dKh4eFf5gHhQVHh4CvCoVHR0VKhUeHgAAAgB6/ywCCQM2AB8ALwAAFzQ2MzIeAjsBMjY1ESMiJjQ2OwEyFhURFAYrASImJxM1NDY7ATIWHQEUBisBIiZ6HhUUGAkZFWIUH5UVHh4VxhUeWT5iOFYI+B4VMRUeHhUxFR5NFR4bHxsdFAIRHSoeHhX9vT5YSjUDLyoVHR0VKhUeHgAAAQBJAAACOwMMAB8AADcRNDYyFhURJTYzMhYVFA8BFxYVFAYjIiclBxUUBiImSR0qHgEIDhIVHhLL/RIdFRMP/vcwHiodMwKnFB4eFP5x4QweFRcPrtgPFxUeDOMqkhUeHgAAAAEAegAAAgkDDAAbAAA3NDY7AREjIiY1NDY7ATIWFREzMhYVFAYjISImeh4VYmIVHh4VlRQeYhUeHhX+1xUeMxQeAkIeFRQeHhT9ix4UFR4eAAAAAAEAQQAAAkICOAAuAAA3ETQ2MzIWFzYzMhc3NjMyFhcTFAYjIiYnAyYrAQcRFAYjIiY1ETQrAQcRFAYiJkEdFRAbBSktPSQWISovSAEPHRUUHgEOAg8GRB4UFR4WCEseKh0zAdIVHhQPIzASG0Iv/m8VHh0UAY8TOv6aFR4eFQGKFkH+oRUeHgABAEkAAAI6AjgAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMB0hUeHhUiPRhVPP6MFR4dFAFzExxp/skVHh4AAgBJAAACOwI4ACYAQAAANzU0PgE3NjsBMh4FFxYdARQOBA8BBisBIi4EJyY3FB4CFxY7ATI+ATc2PQE0JisBIg4BBwYVSSAaHyk4fQ0YGA4YBxsBNQQOBxoFEREpOH0QHRQbCxsENGUMDRgEDxF9DhYeAhI8Gn0OFh4CEbXOIzwYGiQDCwUTBRcBLkTOEBsaDxoGDw4kBwcSCBgDK0cMFgwTAwwMHgEOF84aNgweAQ4XAAAAAgBJ/ywCOwJNACwASgAAFxE0NjIWHQE+CDsBMh4BFx4EHQEUDwEGKwEiLgEnFRQGIiYTFB4CFx4CFxY7ATI/ATY9ATQvASYrASIPAQYVSR0qHgITBhIKEg8TFQsVHTcbGQIwDB0KNVYpORUfNyAVHiodZQoKFQMHGBQJDhUVFAxXERFXDBQVFQ5aDqICvRQeHhQbAhQFEQYNBQcCGBUXAikPJiYXoUQuSiQYHBfYFR0dAZIMFQsSAwcZFAgODEoNGKEYDUsMDlsLFwAAAgBJ/ywCOwI4AC0ASAAANzU0Njc2NzY7ATIeBBc1NDYyFhURFAYiJj0BDgIrASIuBycmNxQeAhcWOwEyPwE2PQE0LwEmKwEiDgEHBhVJKicFAyk4SxAeEx4IHwIdKh4eKh0XHTYeSwsTEw4RChEGEwI0ZQwNGAQPEUsSDlYSElYMFEsOFxoEErXOMDsgBAIkBwcUBhwBEhUeHhX9WRUdHRXlFhcWAgYFCgYOBRECK0cMFgwTAwwMSg0YeBUQSgwNGgMQFgAAAAABAEkAAAI7AjgAHwAANxE0NjIWHQE3NjsBMhYdARQGIiY9ATQmKwEHERQGIiZJHSoedwsSYz1ZHiodHRRRph4qHTMB0hUeHhU7ZghZPRwVHR0VHBQdj/7vFR4eAAEASQAAAjoCOAA0AAA3NDYzMhYXHgE7ATI2NTQnJS4BNTQ3NjsBMhcWFRQGIyImKwEiBhUUFwUeAR0BDgErASInJkkcFRImCQIUBMsYGx3+6yIqJSY11kswCh4VEi0T1g0PEAEWJjUBWj+9ST4TXRUdHQMBCSAWIg14D0MnMyQmPw0RFR4rEgsSBngRTS4CP1k1EAABAEkAAAI7AuIAKgAAEjQ2OwE1NDYyFh0BMzIWFAYrAREUFjsBMj4CMzIWHQEOASsBIiY1ESMiSR0VMR0qHsUVHR0VxRwUZBQZCRkUFR4KVTdkPVgxFQHwKh53FR4eFXceKh3+wxQdGx8bHhUINEtZPQE9AAEASQAAAjsCOAAgAAATNDYzMhYVEx4BOwE3ETQ2MhYVERQGIiY9AQcGKwEiJidJHRUUHg0CGxRHpB0qHh4qHWEmKzk8WAICBRUeHRT+jRQbaAE4FR4eFf4uFR4eFSM+GFU7AAABAEkAAAI7AjgAGgAAEzU0NjIWHQEbATU0NjIWHQEUBwMGKwEiJwMmSR0qHpOVHSoeBacNIT8hDacEAbBVFR4eFUr+rQFTShUeHhVVCgr+gh4eAX4IAAAAAQA+AAACRQI4ACsAABM0NjMyFhcTFzc1NDYzMhYdARc3Ez4BMhYdAQMHDgErASIvAQcGKwEiJi8BPh4VFB0BCiBCHhUUHkIgCgEdKB8LMwUbETEdDzc4Dx0xERsFNAIEFR8dFP7dbHJyFB4eFHJybAEjFB0eFAL+yqoQFBlfXxkUELYAAQBJAAACOwI4ACMAADc0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiMiJkkKraEMHhUXEJWUEBcVHgyhrQseFRgPn6APGBUdMxMN0MIPERUeE7OzEx4VEQ/C0A4SFR4SwcESHgAAAQBJ/ywCOwI4ACMAABY0NjsBNyMiJwMmPQE0NjIWHQETMxM1NDYyFh0BFAcBBisBIkkdFWdDFSIMlQQdKh6DIIQeKh4F/vwNIogVtyoemR8BUwgMVRUeHhVK/tQBLEoVHh4VVQoK/a4eAAAAAQBJAAACOwI4ABwAADc1NDcBISImNDYzITIWHQEUBwEhMhYVFAYjISImSQ8BYP7bFR0dFQF1FR4Q/qEBPBUeHhX+cxUdMyoXDQFSHSoeHhUqFRD+rx4UFR4eAAABAEkAAAI7AwwAKgAAEjQ2OwEyNj0BNDY7ATIWFRQGKwEVFAcWHQEzMhYVFAYrASImPQE0JisBIkkdFWEWHT0olBUeHhWUJyeUFR4eFZQoPR4VYRUBcSoeHRW8KTweFBUevDksLDm8HhQVHjwpvBQfAAAAAAIBDwAAAXQDDAAIABEAACURMxEUBiMiJhkBNDYzMhYVEQEPZR4UFR4eFRQeMwEh/t8VHh4BmwEhFB4eFP7fAAABAEkAAAI7AwwAKgAANzQ2OwE1NDcmPQEjIiY1NDY7ATIWHQEUFjsBMhYUBisBIgYdARQGKwEiJkkdFZQnJ5QVHR0VlCk8HRViFR4eFWIVHTwplBUdMxQevDksLDm8HhUUHjwpvBQeHiodHxS8KTweAAAAAAEASQGqAjsDCwAmAAATNTQ2MzIWHQEUFjI2PQE0NjIWHQEUBiMiJyY9ATQmIgYdARQGIiZJXTw6WB0oHR0qHlw9PCssHSgcHiodAgVvQVZYPzQUHx8UbxUeHhVvQVUrLj00FB4eFG8VHR0AAAEAcQAAAmMDDAATAAAzETQ2MhYdATMRIREUBiImPQEjEXEdKh5hASweKh1iATEVHh4VzAKn/s8VHh4VzP1ZAAABAHEAAAJjAwwAFQAANxEhETQ2MhYVERQGIiY1ESERFAYiJnEBjR0qHh4qHf7YHiodMwGGASEUHh4U/VkVHh4VASH+3xUeHgABAHEAAAJjAwwAGAAAExE0NjIWFREhETQ2MhYVESMRFAYjIiY1EXEdKh4BKB0qHsceFBUeAVQBhhQeHhT+3wEhFB4eFP56/t8VHh4VASEAAAEBN/+bAZwEUgADAAAFETMRATdlZQS3+0kAAAABAFf/5wJ8AyUAAwAAFxEhEVcCJRkDPvzCAAAAAQDtAAAB5gD6AA8AADc1NDY7ATIWHQEUBisBIibtHRWVFR0dFZUVHTOUFR4eFZQVHh4AAAEAcQAAAmMDDAAeAAATNDcBNjIfARYdARQHBRUUBiImPQE0NyU1JwUGIyImcREBKg8kD2MSEv7oHiodEQEZMf73DxIVHQHbGA4A/wwMVQ8XVRcQ7+cVHh4V/hkO7yYq4wweAAABAQMBqAHRAwwAEwAAATQ2OwEyFhUUBhUDFAYiJjU0NjUBAyAVYxQiATMfKCEBAtoUHhoSAQQB/wAUHhoSAQQBAAAAAAEA1AAAAf8BZAAUAAATNTQ2OwEyFh0BFAYrASImPQEjIibUHRXHFR0dFTIVHWMVHQEHKhUeHhX+FR4eFaEeAAABAHEBVAJjAbkACwAAEjQ2MyEyFhQGIyEicR0VAY0VHh4V/nMVAXEqHh4qHQAAAAAAAA4ArgABAAAAAAAAAFYArgABAAAAAAABAAQBDwABAAAAAAACAAcBJAABAAAAAAADACEBcAABAAAAAAAEAAUBngABAAAAAAAFAAoBugABAAAAAAAGAAQBzwADAAEECQAAAKwAAAADAAEECQABAAgBBQADAAEECQACAA4BFAADAAEECQADAEIBLAADAAEECQAEAAoBkgADAAEECQAFABQBpAADAAEECQAGAAgBxQBNAGEAdAB0AGgAZQB3ACAAUwBrAGEAbABhACAAKAAyADAAMQAxAC0AMQAyACkAOwAgAGIAYQBzAGUAZAAgAG8AbgAgAGMAbwBkAGUAIABiAHkAIABSAGkAYwBoAGEAcgBkACAAQgAuACAAVwBhAGwAZQBzACAAKAAxADkAOAA4AC0AOAA5ACkAIABhAG4AZAAgAFQAbwByACAATABpAGwAbABxAHYAaQBzAHQAAE1hdHRoZXcgU2thbGEgKDIwMTEtMTIpOyBiYXNlZCBvbiBjb2RlIGJ5IFJpY2hhcmQgQi4gV2FsZXMgKDE5ODgtODkpIGFuZCBUb3IgTGlsbHF2aXN0AABPAEMAUgBBAABPQ1JBAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABGAG8AbgB0AEYAbwByAGcAZQAgADIALgAwACAAOgAgAE8AQwBSACAAQQAgADoAIAAyADcALQA5AC0AMgAwADEAMgAARm9udEZvcmdlIDIuMCA6IE9DUiBBIDogMjctOS0yMDEyAABPAEMAUgAgAEEAAE9DUiBBAABWAGUAcgBzAGkAbwBuACAAMgAgAABWZXJzaW9uIDIgAABPAEMAUgBBAABPQ1JBAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAbAAAAAEAAgADAAQABQAGAAcACAAJALcACwAMAA0ADgAPABAAEQASABMAFAAVABYAFwAYABkAGgAbABwAHQAeAB8AIAAhACIAIwAkACUAJgAnACgAKQAqACsALAAtAC4ALwAwADEAMgAzADQANQA2ADcAOAA5ADoAOwA8AD0APgA/AEAAQQBCALYARABFAEYARwBIAEkASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEBAgEDAQQBBQEGAQcBCAEJAQoBCwd1bmkyNDQwB3VuaTI0NDEHdW5pMjQ0MghTRjExMDAwMAtibGFja3NxdWFyZQpwZXJpb2QuYWx0DHF1ZXN0aW9uLmFsdA9xdW90ZXNpbmdsZS5hbHQJY29tbWEuYWx0Cmh5cGhlbi5hbHQAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQADAGsAAQAEAAAAAgAAAAEAAAAKAEQAogACREZMVAAObGF0bgAkAAQAAAAA//8ABgAAAAEAAgADAAQABQAEAAAAAP//AAYAAAABAAIAAwAEAAUABmFhbHQAJnNzMDEALHNzMDIAMnNzMDMAOHNzMDQAPnNzMDUARAAAAAEAAAAeAAEAAQAcAAEAAgAaAAEAAwAYAAEABAAWAAEABQAAAQAAAAEBAAABAgAAAQMAAAEEAAYADgAWAB4AJgAuADYAAwAAAAEAMAABAAAAAQBkAAEAAAABAGgAAQAAAAEAbAABAAAAAQBwAAEAAAABAHQAAQAuAAUAEAAWABwAIgAoAAIACgBpAAIADwBqAAIAEABrAAIAEQBnAAIAIgBoAAEABQAKAA8AEAARACIAAQAGAFYAAQABABEAAQAGAEYAAQABACIAAQAGAF8AAQABAAoAAQAGAFsAAQABAA8AAQAGAFsAAQABABAAAQAAAAoALAAuAAJERkxUAA5sYXRuABgABAAAAAD//wAAAAQAAAAA//8AAAAAAAAAAAABAAAAAMw9os8AAAAA1gbbzAAAAADaAyOv");si.loadFont("OCR-B",96,100,"AAEAAAAPAIAAAwBwRkZUTXxHn14AADmUAAAAHEdERUYAkwAEAAA4IAAAACBHUE9TuP+4/gAAOWQAAAAwR1NVQnZYZVQAADhAAAABJE9TLzJa+GPlAAABeAAAAGBjbWFwzJGg2QAAA2QAAAFCZ2FzcP//AAMAADgYAAAACGdseWbm+CwyAAAFeAAALwRoZWFkFgqHXQAAAPwAAAA2aGhlYQeFAeAAAAE0AAAAJGhtdHgIFCYVAAAB2AAAAYpsb2NhZAZYlAAABKgAAADObWF4cACtAGkAAAFYAAAAIG5hbWWukZg3AAA0fAAAAnlwb3N0tfQXywAANvgAAAEdAAEAAAACAADO4NltXw889QALA+gAAAAA2gMiKgAAAADaAyIqAA7/GQLWAwsAAAAIAAIAAAAAAAAAAQAABFL+sABaAtMAAP/9AtYAAQAAAAAAAAAAAAAAAAAAAF8AAQAAAGYAZgAFAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAsMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAAK8AAABoAAAAAAAAAABQZkVkAEAAIAB+AyD/OABaBFIBUAAAAAEAAAAAAiAC+QAAACAAAQLTAAAAAAAAAtMAAALTAAAC0wD1AtMAdALTAEQCvwA/Ar8APwLTAEQC0wDnAtMA0wLTAIgC0wBEAtMARALTAHIC0wBEAtMAxALTAIACvwA/AskAXgK/AFACvwA/Ar8APwK/AFkCvwA/Ar8APwK/AD8CvwA/AtMA1gLTAG8C0wBBAtMARALTAEEC0wBgAtMARAK/AEUCvwA/Ar8AbwK/AHICvwBtAr8AoAK/AEcCvwBbAr8AeAK/AFACvwBNAr8AWwK/AD8CvwBNAr8AQgK/AFsCvwBBAr8AZwK/AGECvwA/Ar8ATQK/AD4CvwA/Ar8AUwK/AFYCvwBbAtMApQLTAIAC0wBVAtMARALTAEQC0wC2Ar8ATQK/AEoCvwB1Ar8APwK/AE0CvwBhAr8AQgK/AGoCyQCDAskAZwK/AHsCyQDLAr8APwK/AE0CvwA/Ar8ASgK/AD8CvwCaAr8AZwK/AE0CvwBNAr8AQgK/AEECvwBhAr8APwK/AGEC0wBEAQwARABSAnICBgG2AA4AAAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAAB+//8AAAAg////4wABAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALABiAMYBUAG6AkICYgKMArQC8gMaAzoDVgNwA5QEEgQ2BIgE2AUSBVYFngXSBjQGegaoBtwHDAcyB1oHxAhUCIQI2glACXgJrAnaCjQKYgqYCswLAgskC2QLlgvuDB4MgAzODUQNbA2eDcgOEg5ODoAOsg7WDvoPHA9ED2APgg/eECoQaBCyEPgRLBGUEdISAhJOEoASqBLyEygTVhOiE+gUIhSYFN4VGBVGFYYVvBXyFiAWbBaEFs4XDhcmF0QXaheCAAAAAgD1/7wBfQL9AA8AGwAAFzU0NjsBMhYdARQGKwEiJhMRNDYyFhURFAYiJvUbEi4SGxsSLhIbFxskGxomGhcuEhsbEi4SGxsBcgGHExobEv55EhsaAAAAAAIAdAHHAgkC/QASACMAABM1NDY7ATIXFhUwFQ8BDgEjIiYlNTQ2OwEyFxYdAQcOASMiJnQbEh0SDg4BHQIZEhEcASQbEhcRDg4ZBBYREhsB9NwSGw0MDwEC5BAXGxLcExoNDBAE5RAUGwAAAAIARP/4Ai4DAABEAEgAADc0NjsBNyMiJjQ2OwE3PgEzMhcWFQczNzYzMhYdAQcXHgEVFAYrAQczMhYUBisBBw4BIyImPQE3IwcOASMiJyY1NycuATczNyNEGhMVJicSGxoTOygDGRASDQ4liCgNHxIbIwUQFxsSFCUlExobEjopAxoPEhskhykDGRASDQ4mBRIXnoglh/4TGqcaJhqxDhUODhCosSMaEwqcAQMZERIbpxskG7YOFRsSCqK2DxQODRGsAQIaPqcAAwA///sCHwL9AEcAWABfAAA3JjU0NjMyFxYXFhczNScuAScuAjU0NzY/ATU0NjIWHQEXFhcxFhUUBiMiJyYvARUXFhcWFx4BFRQHBg8BFRQGIiY9ASMmJxMGFRQXFhcWFxYXHgIfATUTNzY1NC8BQQIbEhYVFwwYLQUEIS4cGyIWNjZSBBoiGgRpOAkbEhcOITUGBCwcHR8fHjc3UwQaIhoFlSi8YwMECAgFBgwMChwCB1YGZWQHoAUMExodIQYNBNwBChEPDyQ2IkwqKwoBCRMaGxIJAQ5SDA4SGhMsCwHFAQ4MDBYVPytNMDENAQYSGxoTBw1kAcoORQsKCggHBQUGBgUKAQKq/iABFEo8JAIAAAAABQA///gCHwMAAA0AHAAoADcARwAAJSIVFBcWHwEzMjc2NTQHJjU0NzYzMhcWFAcGIyIDIhUUFzsBMjc2NTQHJjU0NzYzMhcWFAcGIyICJjU0NwE2MzIWFRQHAQYjAaIhBQUOAQgRCQl6HyAfNzogICAgOjiuIxgBChEJB3wgISA6Nx8fHx83OycbBgGMDRQSGwb+exAYtTIPDxABAhAPEjKVKDg5KyspKXIqKQKuMikIEA8SMpUoODkrKykqcikp/hQbEw0JAq0MGxIMCv1dFwAAAAADAET/9wIuAwAAQgBOAFwAADc0PwEnJjU0NzYzMhcWFRQHDgEHDgIPARc3NjU0NjIWFRQPARcWFx4BFxYVFAYjIicmJyYnJicmJyYvAQcGKwEuATcUFzMyPwEnBwYHBhMUHwE3Njc2NTQnJiMiRF8EA0Q1NVhKNTQJChQYFxY+BASXBBUcJBs3AgICBwcHAwMbEgYFBgQDBAUCAQUGAQMEPlEGYnVafwYwKAShBRwPEBwwAwRMHiAcGyJozXJUAwRdVVQwMCgmRBsaGyMXGBMuAwPSCDRFExscEnxTAwIFCAgKCQgIEhsCAgEBBQUCAQcIAgICJwFyYnkCFwLhBB0bGwFXOEQEAzYlJx0eDgwAAAEA5wGIAY0C/QASAAATNDY7AR4BFTAVBwMGKwEiJyYn5xsSURAXARUIJCISDQ0BAtATGgIZDwEB/twlCwoRAAABANP/+AHpAwAAGQAAEzU2NzYzMhYVFAcGBwYHFRQXFhUUBiMiJybTA80LDhIbFE4sLQGoFBsSDgvQAXMG8I8IGhMXDjNKS20FvmsOGBMaB4wAAAABAIj/+AGfAwAAGAAANzQ3NjU0LwEmJyY1NDYzMhcWFRQHBiMiJogUqakBBwYGGxIOC9HRCw4SGyUYDm7AwnMBAgwMChIbCJDv7I4HGwAAAAEARACeAi4ChQAqAAATNDc2Mxc1NDYyFh0BNzE2MzIWFRQPARcWFRQGIyIvAQcGIyImNTQ/AScmRA4OEZsbJBuNBggSGyB6UAUaExQMV3AMFBMaCV6MHwG+Eg8OM54TGhsSni4DGxIgCymICwwTGguWlgsbEg0Ofy4MAAABAEQAagIuAo0AGwAAEjQ2OwE1NDYyFh0BMzIWFAYrARUUBiImPQEjIkQbEpsaJhqbEhsbEpsbJBubEgFpJhq3ExobErcbJBu4EhsaE7gAAAEAcv9NAeYAygASAAAXNDcTNjsBMhYdARQHAwYrASImcgWyDBVvEhsN/gwUHBMahgwKAS4MGhMfEwz++w0aAAABAEQBQQIuAbcADwAAEzU0NjMhMhYdARQGIyEiJkQaEwGQExoaE/5wExoBbhwTGhsSHBIbGgAAAAEAxP/7Aa0AtgAPAAA3NTQ2OwEyFh0BFAYrASImxBsSjxIbGxKPEhsoYRIbGhNhExobAAABAID/+AHyAwAAEwAANzQ3MwE+ATMyFhUUByMBDgEjIiaAAwEBGAQYDRIbAwH+6AQYDRIbJQoHAq4MEBsSCgf9UgwQGgAAAAACAD//+AIfAv8AJQBUAAAFIyYnLgEnJicmNTQ2Nz4BNz4CMzIeARceARceARUUDgUDFRQWFxYXHgE7ATI2Nz4BNz4BPQE0JicmJyYnJicmJyYnLgEjIg4CBw4BBw4BATMEOywsNA8QBQUDBgYVEhIySC4tSDITEhUGBgMEDRQmMEbFBQkIEBA4KBUcLA0OEgQFAwEBAQMDBQUICAsMDg8nGBknHhcICAoCAgMIARMSOy8vMC9AOVEvMEEhICYYGCYgIUIvL1I4KEFMOTYkFgGwUi1AJSUXGB8XFhUxHyA0Hy4fJRwdEBEXFw4ODw8ICQoLFB0SESkXFi8AAAABAF7/+wGMAv0AFQAAEiY1ND8BNjsBMhYVERQGIiY1EQcGI3gaDbcNECASGxskG4kNEQIJGxIVCp0LGxL9WBIbGhMCYXULAAABAFAABgILAwAANwAAEiY1NDc2MzIXFhUUBw4BBw4BBw4BBwYHBgcVITIWFAYjISImPQE0NzY3Njc2NzY1NCcmIyIHBiNrGxNbcVs9Pg0NISAgISMmIhgYCwsCASgTGhsS/qoSGwoRLy9EXhkcJSM0Wj4LDwJyGxEZDTw6OV0lIiMsGxsYFxkaGhkgHysFGyQbGxIVTiI8LzAuPyQkKDUhICwIAAEAP//4AhYC/AA3AAA3JjU0NjMyFxYzMjc2NzU0JyYnJiMiJjU0PwEhIiY0NjMhMhYdARQPARcWFxYdAQYHBiMiJyYnJlQVGxIGC0BGTDQ1BCAeLCs1ERoJuP7nEhsaEwFhEhsOoQhVNjUFUE5wHBwcIyMeEBgTGwQdJidKCjMkIw8OGxMSCswbJhobEiQQDrECFjs7WRBtQEADAwcIAAABAD//+wIfAv0AKAAANiY9ATQ3Ez4BMzIWFRQHAzM1NDYyFxYdATMyFhQGKwEVFAcGIiY9ASNaGwXVBBYMEhoFyMMaIg0OOhMaGxI6Dg0iGvWpGhMrCAsBzwsPGxIKCf5GeRIbDg0SeRskG4ESDQ4bEoEAAAIAWf/4AfcC/AAqAC0AABYmNDYzMjc2NTQnJiMiByMiJj0BEz4BMyEyFhQGKwEHMzIXFhUUBwYHBiMSIjN0GxsSyjsSIi1xHyAEEhsOAhkSARwTGhsS8ggTf01OFxgkYL4YAQEIGicacSIfSSU1AxkSAwD/EhgbJBydQUB+NS4vIVoBrQAAAAACAD//+AIfAv0AHwAvAAA3Jic1NDc2Nz4BNzYzMhYVFAcGDwE3NjMyFxYVFAcGIgMGFRQXFjMyNzY1NCcmIyKFQwNFHCgnNjILFBEaC3E1BwsdHm1BQkRE0AYoKilDQikrJyZJRzlBawx9ci80NT85DRsSEQ6ATQoCBkRFdGlCQgFkK0xEKCcoKENOKisAAAABAD//+wIfAvwAHwAAEiY0NjMhMhYVFAcGBwYHBhUUBiImNTQ3Njc2NzY/ASFaGxoTAYYTGjsSNDQWQRoiGkwXNDURGAkC/q8CoRsmGhsSTFkcQUIpeMETGxoU2o0pRUYaKBQHAAAAAAMAP//3Ah8DAAAVACQAQgAAEwYVFBYXHgEXOwE2NzY3PgE1NCcmIhMGFRQXFjsBMjc2NTQvAQMmNTQ/AScmNTQ3NjMyFxYVFAcGDwEXFhUUBgcjIuEmEhUUGxwCAhwODhQUEiYlUimXLSpAFDUmJ5ICrUWOBgZsQD9PTkBAHB0zBgaOdFIqZwKSFCYZJhAPEA4NCAgPECcZJhQU/s9PXjgfHyMjMF9OAv67Olx5YgQEQmtJLzAwMEg7KSghBARieU96BwACAD//+wIfAwAADwAtAAATBhUUFxYzMjc2NTQnJiMiAyY1NDc2MzIXFhUUBwYHBgcGIyImNDc2PwEHBiMixSwqKER3FQoqKUM/bURIRmJlRUYVFSZTeA0PERoOX0QFChogagJ1MENBKShJIShLLC3+tENlaEtLRkZyRzk5QpFvDBomDltuCgIEAAAAAAIA1v/7AZwCEAAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm1hsSbBIbGxJsEhsbEmwSGxoTbBMaKFATGhsSUBIbGgF+UBMaGxJQEhsaAAAAAgBv/1IBswIQABIAIgAAFzQ/ATM2OwEyFhUUBwMGKwEiJhM1NDY7ATIWHQEUBisBIiZvA3wBCR9vEhsBzA4RKxIbexsSbBIbGhNsExqBDAf9GRsSDgP+9Q0aAidQExobElASGxoAAAABAEEARQIuArMAHQAAEy4BJyYnLgE1NDcBMDE2MzIWFRQHDQEWFRQGIyInTwEGAQECAQIOAZkLDhIbDf6hAV8NGxIOCwFcAQUBAgMECAcREAEPCBsSFwnq6g4SEhsIAAACAEQA3QIuAhsACwAXAAA2NDYzITIWFAYjISImNDYzITIWFAYjISJEGxIBkBIbGhP+cBMaGhMBkBMaGxL+cBL3JhobJBv+JhobJBsAAQBBAEUCLgKzABcAAAkBBiMiJjU0Ny0BJjU0NjMyFzAxARYVFAIg/mcLDhIbDQFf/qENGxIOCwGZDgFc/vEIGxISDurqCRcSGwj+8RAREgACAGD/vAH1AwEAOQBLAAATNTQ2NzYzMhcWHQEOAQcGBwYHBhUUBwYiJjU0NzY3Njc2NzY3NjU0JyMiJyYrAgYdARQHBiMiJyYTNTQ2OwEyFh0BFAcGKwEiJyZgPi8vNlA6OQEsHwcUFgkJDg0kGwoKCwwUFQgSEBFTAQUICgQDAW4NDRMSDQ2UGxIuEhsODRIuEg0OAjQMPFsVFTAwWAIxZCMIExQOCwsUDw8dFRoYFw4OFBUKEyIiG0IVAQIOUgkUDw4ODv3MMRUdHRUxFA8PDw8AAAIARP/yAi4DBABKAGUAADc1NDcyHwE3NjMyFxYVERY7ATY3Njc+AT0BNCYnLgEnJicmKwEGBw4BIyInJj0BNjc2NzMyFhcWFx4BHQEUBwYHBiMiLwEHBisBJjcUFxYXHgEXMzI3Njc9AiYnJiMiBwYHDgEVRIgvJwUCDhkSDQ4CHAETDQwEBQMDBQUXEBEbGyMJggsCGRETDQ0MPT9eCTpZGxsREQ0KCiMmNzYdAwQrPQiMWgEBBQQYEwYcEQ8NDRcXHBALCgMEAtIB7wIdAwUYDw8T/vk2AQwNFhUmHZgqPyYlNBcYDAwGVxIYDg8VB1ItLgMqIyM1NXBGfFsxMCInJgQDKAXWGw8QFBUVAREQHQGMARoTFAwMFhQiGAAAAAIARf/1AhoC9gAZABwAABYmPQETPgE7ATIWFxMUBwYjIiYvASMHDgEjEwMzYBufBBgOQg0XA6MODhIPGQMtyywDGQ+9T54LHRUOAp4OFREM/U0TDw8VD8PDDxUCov6qAAMAPwAGAh8C/QAhACsAOQAANiY1ETQ3NjsBMhcWFxYXHgEVFA8BFx4BHQEUBgcGBwYrARMVNzI9ASYnJiMDFRcyPQEmJyYnJicmI1obDQ0TpyQVFR4dFiwyOgQEIicnJCUvLz6nLXqyASspQZaWiAMODRgYGRkkBh0VApIWDw4BAgcIDRxiOVo4BAQeWDACMlkfHwsLAVr1AXwBPh0cATrVAWMLIRUWCwoDBAABAG//8gHwAwsARQAAEyYnNTQ2NzY3Njc2NzMyFxYXFRQHBiMiJyYnJicwMSYrAQYRFR4BFxYXFhceATMyNzY3PgEzMhcWHQEGBwYjIicmJyYnJnYGAQ0QERkYJyQvBTsuLQ0NDRITCQsICQsVHQWBAQQFBAoJDg4tHBwTFgQDGRASDQ0KLS09MiUoGBkREQD/NT8OQGw0MyUkFhYCJiY9ChQPDw0NFRYKEgf+6RIlOiMkGhoXFxoPDxoSFw8PFAo8JiYVFSQkMzMAAAACAHIABgIFAv4AFAAhAAA3JjURNDc2MzIXFhcWFRQHBgcGIyITJxE3Njc2NTQnJicmgA4NDRNmQ0M1RUhGayJLEkUGBmU5OyEgMysVDxUCkxQPDyssTmiFi19eFwcCkQH91AELQUB1UkFAKyQAAAAAAQBtAAYCEwL7ACIAADYmNRE0NzYzITIXFhQGIyEVMzIXFhQHBisBFSEyFxYUBiMhiBsNDRMBTBMNDRsS/uHvEg0ODQ0T7wEfEw0NGxL+tAYdFQKRFQ8ODg8qHdQPDykPDvUODyodAAABAKD/9QICAvoAHgAANyY1ETQ3NjMhMhcWFAYrARUzMhcWFAcGKwERFAcGIq4ODQ0TAQgTDQ0bEtuuEg0ODg0Srg4NJAQPFQKgFA8PDg8qHdQPDygPD/7KFQ8PAAEAR//xAg4DCAA+AAA3Jj0BNDc2NzYzMhcWFxYVFAYjIicmIyIHBgcGFRQXHgEzMj8BNSMiJyY0NjsBMhYVERQHDgEHDgEHBiMiJyZeFxcXLEZeExNYNwsbEhQOK0M+Kh8PEBwSTDUuMgNyEgwNGhGfEhsHCBIREhEQLC5sQivEV2MDYVNUME8DEEgOExQdETYxJD4+SWlYODoUAckODykdHRX+6Q4LDA4ICAYFDk0wAAAAAAEAW//1AgIDBAAdAAAWJjURNDc2MhYVETMRNDc2MhYVERQGIiY1ESMRFAZ2Gw4NJBvzDg0kGxskG/MbCx0VAqoVDw8dFv7lARsVDw8dFv1WFR0dFQEt/tMVHQAAAQB4AAYB5gL6ACMAADcmNDc2OwERIyInJjQ3NjsBMhcWFAcGKwERMzIXFhQHBiMhIoYODQ0TYEwSDQ4NDRPsEw0NDg0STGATDQ0ODRL+7BIVDykPDgIsDw8oDw8PDygPD/3UDg8pDw8AAAAAAQBQ//ABpQMHACMAADYmNTQzMhcWHQEGFRQXFjMyNzY1ETQ2MhYVERQXFBUUBiMiJ4Y2MBMMDQIcGiAeFRcbJBsBZ0EpJyBXN04ODxUKDAQpGhoYGS0CJBUdHRX95wMFBAJMchcAAAABAE3/9QIfAwcAHwAANyY1ETQ2MhYVEQE2MhYUBwMBFhUUBwYjIicBERQHBiJbDhskGwEUDiQbDvwBEw4ODRITDf7VDg0kBA8VAq0VHR0U/ucBOw8dKRD+3P6+ERIVDw8OAVv+yRQPDwAAAAABAFsACwIfAwcAEwAANyY1ETQ2MhYVESEyFxYUBwYjISJpDhskGwE9Ew0NDg0S/pYSGg8UApkUHR0U/ZkPDygPDwAAAAEAP//1Ah8DBAAoAAAWJjURNDY7ATIXFhcbAT4BOwEyFxYVERQGIiY1EQMGBwYjIiYnAxEUBlobGxJNDgwLBE1NAxgOTRINDhskG2wGCwoPDhcEbRsLHRUCqhYdCgsO/uUBGw4VDw8V/VYVHR0UAmv+cxAKChQPAY79lRQdAAAAAQBN//UCEQMIAB8AADcmNRE0NjsBMhYXExE0NjIWFREUBwYrASInAxEUBwYiWw4bEiUMFwXwGyQbDg0SJhwM7w4NJAQPFQKtFR0PDf3JAiMUHR0V/VMVDw8bAjf93xQPDwAAAAIAQv/yAhwDBwAeADkAADYmPQE0PgE3Njc2MzIXFhceAR0BFAYHBgcGIyInJicSBh0BFBYXFhcWMjc2Nz4BNTQmJyYnJiIHBgdkIhEmHRsoJy81LS4eHiEhHR4uLTY1LS4eLBESEREdHkgeHREREhERER0eSh8dEKuLRwM2bWcnJxcYIiE4OItJA0eLOjkjIyMjOQGdYSwELmItLx4fHx4vLWMtMWQtLR0dHh4vAAAAAgBb//UCHwL8ABUAHwAANyY1ETQ3NjsBMhcWFRQHBisBERQGIhMVMzI3NTQnJiNpDg0NE6hoQ0QmPYx7GyQ/e5AFKSdFBA8VAqEVDw85OWxRNVj+6BYdAqP1dAdEGxsAAgBB//UCHwMIACMAQwAANyY9ATQ3Njc2OwEyFxYXHgEVFA8BFxYVFAYjIi8BBwYjIicmEgYdARAzMj8BJyY1NDc2MzIfATc2NTQnJicmIyIHBgdfHh4ZMzFBCDYrKxsbHTACQwocEhYKOAQ1Oz03OTIMhSAeBGAKDQwRFwpRAxQPDyEiLiUbGw3DUYMDgk1BLy8fHzU1gUeMZAJfDxEUHg5SBC4uLwGzTS0D/tgZA4sPEBQPDw52CkFLRjs8KSkWFSUAAAIAZ//1AggC+AAkADEAABYmNRE0NzY7ARYXFhcWFxYHBgcGDwETFhUUBwYjIicDIxEUBwYTFTcyNzY3NjU0JyYjghsNDROfKiMkHx4REQEBICFCBYoFDg0SFgueWw4NG242GhoKCiUiOAsdFQKeFg8OAQoLFRUnJjRfOjobAv77ChEUDw8NAT7+6BUPDwKk9QIaGRwcLDAWFgAAAAEAYf/wAf0DBwBRAAA3Jic1NDYzMhYXFhcWMzI3NjU0JyYnLgEnLgInJicmJyYnJjU0NzY3MzIXFhcWFRQHBiInJicmJyYjIgcGFRQXFhcWFx4BFx4CFRQGBwYjIqU6ChsSERoCBiEfKTAlJAcHDg0WEw45IhoaDxAQDwgHPDxPBkcyNBECDQ0mCwwJCgobMC0jJBUTJBAjIyceHSEXZksSEkkiMk0IFB0YEi0YGCAcOxgUEw4OEQoIHxUQERARFxcdHCNSNTYCJydDCAQUDw4NDhUYChoZGSotGBgUCxITFxcWLUQpVXQOAwAAAQA///UCHwL4ABgAABMmNDc2MyEyFxYUBwYrAREUBwYiJjURIyJNDg0NEwGGEw0NDg0SmA0NIhqYEgKiDyoPDg8PKQ8P/ZQUDw8dFQJsAAABAE3/8gIRAwgAIAAANyY1ETQ2MhYVERQXFjMyNzY1ETQ2MhYVERQHBgcGIicmZRgbJBsyHzc+JCYbJBsYGCw1ojUscDY9AfMVHR0V/g1RJhcmJkEB8xUdHRX+Dj02NiAoKCAAAQA+//UCIAMGABgAADcDNDc2MzIWFxsBPgEzMhcWFQMOASsBIibjpQ4OEg8ZA5iXBhcPEg4OpwMYDkIOGhkCvBQODxUO/YACgA8UDw8T/UQPFRYAAQA///QCHwMFAC8AADcmAzU0NjIXFhcSHwE3NjsBMhcWHwE3NhM0NjMyFh0BAgMOAQcjIi8BBwYrASInJn4xDhskDQ0BCxgDPwsdEQ4LDAQ+AxkKHBIRHA4yAxkQBTQNPj8KIBsRDAwb9AHFAhQbDg8U/r+4GfUhCgsO6xjBATEUHR0TAv5G/wAOFgEw6/giCwsAAAEAU//1AgsDBgAlAAAWJj0BNDcTAyY1NDYzMhcbATYzMhcWFRQHAxMWFRQGIyInCwEGI24bBaCaBRsSFAyJgRMVEg0OBZqgBRsSFQ2NhxIWCx0VAQ8KAUYBMgwOFh0N/u0BBRsPDxUODP7O/roKDxUdDQEj/ukaAAEAVv/0AggC+QAeAAATJjU0NjMyFxsBMz4BMzIXFhUUBxUDERQGIiY1EQMwWwUbEhkPhIQBAxgMEg0OBakaIhqpArAIDxUdG/7rARULEA8PFA8IAf6l/tEUHR0UAS8BWwAAAAABAFsABgICAv4AHgAANyY1NDcBIyInJjQ3NjMhMhcWFRQHASEyFxYUBiMhImkOBQEL4BINDg0NEwEoEg0OBf73AQMTDQ0bEv6zEhUPFA4KAkkPDykPDw8QFA0K/bcPDyodAAAAAQCl//gCHQMAABUAADcRNDYzITIWFAYrAREzMhYUBiMhIialGxIBHhIbGhPx8RIbGxL+4hIbJQKuEhsbJBv9rBskGxsAAAAAAQCA//gB8gMAABQAABM0NjMyFhcBMDMWFRQGIyInATAjJoAbEgwZBAEYAQMbEh4L/ugBAwLTExoQDP1SBwoSGxwCrgcAAAAAAQBV//gBzQMAABUAADY0NjsBESMiJjQ2MyEyFhURFAYjISJVGxLx8RMaGxIBHhIbGxL+4hITJBsCVBskGxsS/VISGwABAEQBdAIuAvsAGAAAEzU0NxM2NzIXEzAxFhUUBiMiLwEHBiMiJkQHzg8QGAnNCBsSEw2pqAwTEhsBoQoOCwErCgEM/swLDhIbDbKyDRoAAAEARP8ZAi7/kAAPAAAXNDYzITIWHQEUBiMhIiY1RBsSAZASGxsS/nASG50TGhsSHRIbGhMAAAAAAQC2AgcBuQMAABIAAAEnJjU0PwE2MzIfAhYUBwYjIgFvqRALDw0XDgoDnwsLDRURAhGODRUQDRIQCQKmDh4NDwAAAAACAE3/7wH6AiAADQA/AAAlIhUUFxYXMzI/ATUjJgcmNTQ3Njc2NzY3PgE7AScmJyYjIgcGIyImNTQ3NjMyFxYVERQGIiY9AQcGIyIjJiMmAVixHRodCFZGAQUr7zQNDBkaHR0pKUQyBgEGGRo5PC4MEBMaEU9TWzU8GyQbCERPAgYFBD/3YCEVFQJ6ATAC1C9FKh8fExMMDQYGBAY/GRonCRoTFg06MjpY/sUSHBoTEwc9AQUAAAAAAgBK//ACHwMFAB4AMgAAFiY1ETQ2MhYdATc2MzIXHgEXFRQHBiMiJyYvARUUBjcVFhcWMzI3Nj0BJicmIyIHBg8BZRsbJBsIQkoYIE9fATo5aBEIRDsIGxsUKysxJSFAAiUlNxsdQCUBDRsTArcSGxoT+QY2CBV/XweBVVMBBzAGDhMa0gExJSUXLYgJQDIzDh9NAQAAAAABAHX/7gHwAhoAKgAANyY1NDc2MzIXFhcWFxUUBiMiJyYjIgcGFRQzMjc2Nz4BMzIWHQEGBwYjIuVwNTVjExQwIyMLGRMfDAw+JRg9bBIPMQsDGRASGg4yNDwwBz7NeElHAwYbGyoLExokIw0fgsoEDCsOFRsSCzckJQAAAgA///ECEwMFAB4AMQAANyY1NDc2NzYzMh8BNTQ2MhYVERQGIiYvAQcGIyInJhMGFRQXFjMyNzY3PQImJyYjImwtLy5RHBhKRggbJBsbJBoBAQc/TxocVUA/IiI9HB5MGRUpKTAoVEpvZkVEFwg1BvgSGxoT/UkUGhoRCgYxBhQBnCxuTzs8DiBQAYUBLyMjAAAAAAIATf/xAhECIAAkAC0AADcmNTQ3NjczMhcWFRQGIyEXFhcWMzI3Njc2MzIWFRQHBiMiJyYTByEnJicmIyJ2KT49ZgZoOjsbEv7EAQclJEMREh4UDBITGy0tPzMmTA8CAQQBCxwcPGNgSmhzTUwCR0dzEhwGSyssAwQVDRoTKxQVDRoBOgcGPBwdAAAAAQBh//MB/QMCACMAABImNDY7ATU0MzIWFAYjIgcGBwYdATMyFhQGKwETFAYiJjUDI3saGxJxzhIbGxIsICAJBHwSGxsSfAYaIhoFcQG7GyQbDt8bJBsPECINNw4bJBv+ZhIcGxMBmgACAEL/QgIGAhsANABJAAA3JjU0NzYzMhcWHwE3PgEzMhYVERUWHQEUBwYjIicmJyMmNTQ2MzIXFhcWMzI3Nj0BBwYjIhMGFRQXFjMyNjc2NzY/AT0BJicjIns5OjlmDwg/MgcBARsREhsBOzxhTjAwFQEDGxIUEBEKFkVbGAoIPlJfCCAfHjocMRISDAsPAStVDUJbR2t4S0sBBikGChEYGxP+UQEJDBdeNzcTEzEHCxMaFRgFCjgXLDsHNwF8L09CLC0UFBMQEBkCVgF3BgAAAQBq//MB9AMFACkAABYmNRE0NjIWHQE3NjMyFxYXFh0BFAYiJjURNCc0Jy4CIyIHBg8BERQGhRsbJBsIOUo4KioPChskGwEEBBAdFTEgHxoBGw0aFAK3ExobEvUHMSMjNyVb/RIcHBIBCxsRERUXGRMhHzMB/tQSHAAAAAIAg//zAZQDBQAQACAAABImNDY7ATIWFREUBiImNREjNiY9ATQ2OwEyFh0BFAYrAZ4bGhO0ExobJBuHeBsbEi0SGxsSLQGoGyQbGhP+SxMaGxIBiNUaEy4TGhoTLhMaAAIAZ/9JAZQDBAAPADQAAAAmPQE0NjsBMhYdARQGKwEDIj0BNDc2MzIXFjMyNzY3NjURIyImNDY7ATIWFREUBwYHBgcGASgbGxItEhsbEi10Xw4PFQQQEAoICD0UCmUSGxoTkhMaERMdHSciAnwaEy4TGhoTLhMa/M0uCREKCwECAQQtFkkBdBskGxsS/lJVJCUbGgYFAAAAAQB7//MCBQMFACEAABYmNRE0NjIWFREzNzM2MzIWFRQPARcWFRQGIyIvASMVFAaWGxskGwq7AQ0REhsOqssMGxIVC9kKGw0aFAK3ExobEv6Asg4cEhQNpOUOERIcDfTUEhsAAAEAy//5AfADBQAYAAA3JjUTNDYzMhYVAxQXFhcWMzIWFAYjIicm9CkGGhMSGwcQES8PQBIbGxJTMC48N28B9RMbGxP+Cj8iJAcCGyQbDQ4AAQA///MCHwIbADIAABYmNRE0NjMyHwE3NjMyHwE3NjMyFhURFAYiJjURJiMiBwYVERQGIiY1ESYjIgcGFREUBlobGxIXDgMEIig4JAMEKTQ2RxskGwIhHxUUGiIaAiAgFRQbDRsTAckTGxUEAxktBQUtTzX+ihIcGxMBbzEvLif+5BIcGxMBbzEwLib+5BIcAAAAAAEATf/zAhECGwAjAAAWJjURNDYyFh0BNzYzMhcWHQEUBiImNRE0JyYjIgcGBxURFAZoGxskGwhDWGUxMRskGxcXPzsoKBgbDRwSAckSGxoSFAc9Q0N3/RIcGxMA/08oKiopOwH+7xIcAAAAAAIAP//wAh8CIAAPABsAADcmNTQ3NjMyFxYVFAcGIyIDBhQXFjI3NjQnJiKAQUFAb2xCQkJBbW4BJycmkiYnJyeQPk96e09PT1B6eU9PAaA2pjU1NTWmNjYAAAAAAgBK/0gCHwIbABUAMwAANxcWMzI3NjU0JyYjIgciIzEGBwYHFQImNRE0NjIWHQE3NjMyFxYXFhUUBwYrASYvARUUBqQBPlQPFWohIUQDBAMDLyUlFUAaGyQbCD5LGSFWLS09PGkRRjoIGssBgAUdlVQ2NwEDJCMvAf4BGxICdRMbGhMLBzQIFkZHb3dNTQQxB7cTGgAAAAACAD//SAITAhsAHAAvAAA3JjU0NzYzMh8BNTQ2MhYVERQGIiY9AQcGIyInJhMGFRQXFjMyNzY3PQImJyYjIm0uryEZSz4IGyQbGiYaCD5OHBtTPT8jIzwZIEIjFygpMSNQRmvmLAg0BwsSGxsT/YsTGhsStgc0BxMBoCiBSzY4DR1VAX0BMiQlAAAAAAEAmv/zAg4CGwAnAAAWJjURNDYzMhYdATc2MzIWFxQGIiYnNCcjIicmIgcGKwEGBwYdARQGtRsbEhMaCDdPPE8BGyQaASMBAgQFBwcGAwE3ICIbDRwSAckSGxkTCwc0TTgTGxoSIggBAgIBCTg3QOUTGwAAAQBn//AB/QIgAFEAADcmNTQ2MzIXFhcWMzI3NjU0JyYnJicuAicuAScmJyYnJjU0NzY7ARYXFhcWFRQGIyImJyYnIyIHBgcGFRQXFhceARcWFxYXFhcWFRQHBgcjImwFGxITEhUJITIwIyYPDgwKFgs5GhkaGRISCQgHBzg4Uh02LC0MAhsSEBkDCEAZGxMUEhQ+Dx8gIhwdDxAREQcHOjxYCYVFCA8TGhUYBBESEyYTDg0EBQYDDwgJCQ8ODg8OFhUZTiUmAxsbLwkDEhsTDiIEAwIODxswEgQHCAsKCQwLEREWFx1SJygCAAABAE3/8wHjAqYAMQAAEiY0NjsBNzQ2MhYVBzMyFhQGKwEHFBUWFx4COwEyNzYzMhYVFAcGIyInJicmPQE3I2gbGxJSARkkGAKWEhsbEpcDAQMEDRsUAhAcGw0SGyMlNCofLxQUA1ABshslG2wUGRsSbBwkHO0aDQwTExENCgobEiAQEQwTLi9MDOsAAAEATf/wAhECGAAoAAA3Jj0BNDYzMhYdARQXFhczMjc2NzERNDYyFhURFAYiJj0BBwYrASYnJlcKGxESHBUVQwU7KCYVGyQbGyQbCEFYBEgwMYEmS/gSHBwS6lwrLQIsKz8BChMbHBL+NxIcGhMSBzsBJyYAAQBC//MCHAIYAB0AABMmNTQ2MzIXEzMTMDU+ATMyFhUUBzEDDgErASImJ0UDGxIfC5EKkQMZDhIbA54DGQ1GDhcEAdsGCRMbH/5eAaIBDBIcEgkG/jYMEhENAAABAEH/8wIeAhgAKAAANwM0NzYzMhYXEzc+ATsBMh8BEz4BMzIXFh0BAw4BKwEiLwEHBisBIiZ4Nw4OEhEZAiorAxcPLCAKKikDGRESDg44AhkRMCAJMTELHTERGhsBzxMNDhcR/qSWDRMglgFcEBgNDRAE/jEQGB+wryAYAAAAAAEAYf/zAf0CGAAjAAAWJjU0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiN8GwiMgQcbEhcJdXUNExIbB4KMCRsSGAmAgQwUDRwSDg3OxgwOExsMtbUMHBIODMbODg0SHAy/vwwAAAEAP/9JAh8CGAAjAAAWJjU0NjsBMj8BAyY1NDYzMhcbATYzMhYVFAcBMDEGBwYjIidTFBsSEBYHa78GGxITDaicDhQSGwX+zQ0dHSMNDrEZEBMaEMsBVAkNExsM/tcBKQwbEw0K/bccEhMDAAEAYQAEAgUCBwAcAAA2Jj0BNDcBIyImNDYzITIWHQEUBxUBITIWFAYjIXsaDAEU6hIbGhMBKhMaDf7zAQQSGxoT/rYEGxIjDw4BPBomGhoTKBEMAf7KGyQbAAAAAQBE//gCLgMAADQAABI0NjMyNzY9ATQ3Njc2MzIWFAYrASIHBgcGFRQPARcWFRQXFhcWMzIWFAYjIicmNTQnJiMiRBsSVhcRJiE0NmESGxoTIjUdHxEUMQUEMgcIGhd4EhsbEpAtVRYYUBMBaCYbGxQ9CmM1Lg0OGyQbBgYYGkl7JQMFMWE3Hh8RDhskGxsznzsXGAAAAAABAQz/ZAFmAwAACwAABRE0NjIWFREUBiImAQwbJBsaJhpvA0ITGhsS/L4SGxoAAAABAET/+AIuAwAAMwAANjQ2OwEyNzY3NjU0PwEnJjU0JyYnJiMiJjQ2MzIXFhcWFRQXFjsBMhYUBiMiBhUUBwYjIkQbEiE9HyIOCjIEBTENDScVYRMaGxJhNjQhJRIXUgQSGxsSUC9UK5ISEiYaCQkgGUhhMQUDJXs1HyELBxomGg4NLjNlRhUbHCQaLzufMxsAAAAAAQBSAhwCIALNACsAABM1Njc2MzIzFjMWFxYzMjc+ATMyFhUUBxUOASMiIyYjJicmIyIHMQ4BIyImUgonJzACBQQDLj4rICAIAxoPEhsCCkwwAgUEAy4+KiAgCQMZEBIbAlUKMB8fAQUvIicPFRsSAwUBMD8BBDAhJg8VGwAAAAABAnIB9QLWAq8ACwAAATU0NjIWHQEUBiImAnIeKB4eKB4CJ1YVHR4UVhQeHQAAAAABAgYB9QKgAq8ADwAAATQ2MzIfARYVFAYjIi8BJgIGHhQbCTwIHhQTET0HAn0VHQ5fDQ4UHg9eCwAAAAACAbYCVALWAwIACwAXAAABNTQ2MhYdARQGIiY3NTQ2MhYdARQGIiYBth4oHh0qHbweKB4dKh0ChkoVHR4UShQeHRVKFB4eFEoUHh4AAQAO/4cAcgK1AAsAABcRNDYyFhURFAYiJg4eKB4dKh1HAsoUHh4U/TYUHh4AAAAAAAAOAK4AAQAAAAAAAABDAIgAAQAAAAAAAQAEANYAAQAAAAAAAgAHAOsAAQAAAAAAAwApAUcAAQAAAAAABAANAY0AAQAAAAAABQAKAbEAAQAAAAAABgAEAcYAAwABBAkAAACGAAAAAwABBAkAAQAIAMwAAwABBAkAAgAOANsAAwABBAkAAwBSAPMAAwABBAkABAAaAXEAAwABBAkABQAUAZsAAwABBAkABgAIAbwATQBhAHQAdABoAGUAdwAgAFMAawBhAGwAYQAgACgAMgAwADEAMQApADsAIABiAGEAcwBlAGQAIABvAG4AIABjAG8AZABlACAAYgB5ACAATgBvAHIAYgBlAHIAdAAgAFMAYwBoAHcAYQByAHoAIAAoADEAOQA4ADYALAAgADIAMAAxADEAKQAATWF0dGhldyBTa2FsYSAoMjAxMSk7IGJhc2VkIG9uIGNvZGUgYnkgTm9yYmVydCBTY2h3YXJ6ICgxOTg2LCAyMDExKQAATwBDAFIAQgAAT0NSQgAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABPAEMAUgAgAEIAIABSAGUAZwB1AGwAYQByACAAOgAgADIANwAtADkALQAyADAAMQAyAABGb250Rm9yZ2UgMi4wIDogT0NSIEIgUmVndWxhciA6IDI3LTktMjAxMgAATwBDAFIAIABCACAAUgBlAGcAdQBsAGEAcgAAT0NSIEIgUmVndWxhcgAAVgBlAHIAcwBpAG8AbgAgADIAIAAAVmVyc2lvbiAyIAAATwBDAFIAQgAAT0NSQgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAAAAQACAAMABAAFAAYABwAIAAkAtwALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAtgBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQECAQMBBAEFD3F1b3Rlc2luZ2xlLmFsdAlncmF2ZS5hbHQMcXVvdGVkYmwuYWx0B2Jhci5hbHQAAAAAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQABAGUAAQAEAAAAAgAAAAEAAAAKAEAAjgACREZMVAAObGF0bgAiAAQAAAAA//8ABQAAAAEAAgADAAQABAAAAAD//wAFAAAAAQACAAMABAAFYWFsdAAgc3MwMQAmc3MwMgAsc3MwMwAyc3MwNAA4AAAAAQAAABgAAQABABYAAQACABQAAQADABIAAQAEAAABAAAAAQEAAAECAAABAwAFAAwAFAAcACQALAADAAAAAQAoAAEAAAABAFIAAQAAAAEAVgABAAAAAQBaAAEAAAABAF4AAQAmAAQADgAUABoAIAACAAUAZAACAAoAYgACAEMAYwACAF8AZQABAAQABQAKAEMAXwABAAYAIAABAAEAQwABAAYAXwABAAEABQABAAYAWAABAAEACgABAAYABgABAAEAXwABAAAACgAsAC4AAkRGTFQADmxhdG4AGAAEAAAAAP//AAAABAAAAAD//wAAAAAAAAAAAAEAAAAAzD2izwAAAADWBtqRAAAAANoDIf0=");const g_={toCanvas:c_,toSVG:u_,render:h_,raw:p_,drawingCanvas:b0,drawingSVG:Jw,fixupOptions:Yw,loadFont:x_,FontLib:si,BWIPJS_VERSION:l_,BWIPP_VERSION:o_};function b_({value:a,format:n="code128",width:i=2,height:o=50,showText:d=!0}){const u=ne.useRef(null),[f,h]=ne.useState(null),[p,m]=ne.useState(!1);ne.useEffect(()=>{if(!(!a||!u.current))try{const v={code128:"code128",code39:"code39",ean13:"ean13",ean8:"ean8",upca:"upca",upce:"upce",qrcode:"qrcode",datamatrix:"datamatrix"}[n.toLowerCase()]||"code128";g_.toCanvas(u.current,{bcid:v,text:a,scale:3,height:o/3,includetext:d,textxalign:"center",textsize:10,textfont:"Helvetica",paddingwidth:10,paddingheight:10,backgroundcolor:"ffffff"}),h(null)}catch(w){console.error("Barcode generation error:",w),h("Gagal generate barcode: "+w.message)}},[a,n,i,o,d]);const x=()=>{if(!u.current)return;const w=document.createElement("a");w.download=`barcode-${a}.png`,w.href=u.current.toDataURL("image/png"),w.click()},y=async()=>{try{await navigator.clipboard.writeText(a),m(!0),setTimeout(()=>m(!1),2e3)}catch(w){console.error("Copy error:",w)}};return a?f?l.jsx("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 text-center text-sm",children:f}):l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:l.jsx("canvas",{ref:u})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:y,className:"btn btn-sm btn-outline flex items-center gap-1",children:[p?l.jsx(b1,{size:16,className:"text-green-600"}):l.jsx(eR,{size:16}),p?"Copied!":"Copy"]}),l.jsxs("button",{onClick:x,className:"btn btn-sm btn-primary flex items-center gap-1",children:[l.jsx(tl,{size:16}),"Download"]})]})]}):l.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center text-gray-500",children:"Masukkan kode untuk generate barcode"})}function Xw(a,n){return function(){return a.apply(n,arguments)}}const{toString:y_}=Object.prototype,{getPrototypeOf:ex}=Object,{iterator:Vu,toStringTag:Zw}=Symbol,Yu=(a=>n=>{const i=y_.call(n);return a[i]||(a[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),e1=a=>(a=a.toLowerCase(),n=>Yu(n)===a),Ku=a=>n=>typeof n===a,{isArray:Sc}=Array,hc=Ku("undefined");function v2(a){return a!==null&&!hc(a)&&a.constructor!==null&&!hc(a.constructor)&&ui(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const eA=e1("ArrayBuffer");function w_(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&eA(a.buffer),n}const A_=Ku("string"),ui=Ku("function"),tA=Ku("number"),g2=a=>a!==null&&typeof a=="object",k_=a=>a===!0||a===!1,Ad=a=>{if(Yu(a)!=="object")return!1;const n=ex(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Zw in a)&&!(Vu in a)},j_=a=>{if(!g2(a)||v2(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},N_=e1("Date"),S_=e1("File"),E_=e1("Blob"),C_=e1("FileList"),I_=a=>g2(a)&&ui(a.pipe),B_=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||ui(a.append)&&((n=Yu(a))==="formdata"||n==="object"&&ui(a.toString)&&a.toString()==="[object FormData]"))},D_=e1("URLSearchParams"),[T_,R_,M_,__]=["ReadableStream","Request","Response","Headers"].map(e1),F_=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function b2(a,n,{allOwnKeys:i=!1}={}){if(a===null||typeof a>"u")return;let o,d;if(typeof a!="object"&&(a=[a]),Sc(a))for(o=0,d=a.length;o<d;o++)n.call(null,a[o],o,a);else{if(v2(a))return;const u=i?Object.getOwnPropertyNames(a):Object.keys(a),f=u.length;let h;for(o=0;o<f;o++)h=u[o],n.call(null,a[h],h,a)}}function rA(a,n){if(v2(a))return null;n=n.toLowerCase();const i=Object.keys(a);let o=i.length,d;for(;o-- >0;)if(d=i[o],n===d.toLowerCase())return d;return null}const Xo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aA=a=>!hc(a)&&a!==Xo;function C3(){const{caseless:a,skipUndefined:n}=aA(this)&&this||{},i={},o=(d,u)=>{const f=a&&rA(i,u)||u;Ad(i[f])&&Ad(d)?i[f]=C3(i[f],d):Ad(d)?i[f]=C3({},d):Sc(d)?i[f]=d.slice():(!n||!hc(d))&&(i[f]=d)};for(let d=0,u=arguments.length;d<u;d++)arguments[d]&&b2(arguments[d],o);return i}const P_=(a,n,i,{allOwnKeys:o}={})=>(b2(n,(d,u)=>{i&&ui(d)?a[u]=Xw(d,i):a[u]=d},{allOwnKeys:o}),a),O_=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),U_=(a,n,i,o)=>{a.prototype=Object.create(n.prototype,o),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),i&&Object.assign(a.prototype,i)},z_=(a,n,i,o)=>{let d,u,f;const h={};if(n=n||{},a==null)return n;do{for(d=Object.getOwnPropertyNames(a),u=d.length;u-- >0;)f=d[u],(!o||o(f,a,n))&&!h[f]&&(n[f]=a[f],h[f]=!0);a=i!==!1&&ex(a)}while(a&&(!i||i(a,n))&&a!==Object.prototype);return n},L_=(a,n,i)=>{a=String(a),(i===void 0||i>a.length)&&(i=a.length),i-=n.length;const o=a.indexOf(n,i);return o!==-1&&o===i},Q_=a=>{if(!a)return null;if(Sc(a))return a;let n=a.length;if(!tA(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=a[n];return i},H_=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&ex(Uint8Array)),$_=(a,n)=>{const o=(a&&a[Vu]).call(a);let d;for(;(d=o.next())&&!d.done;){const u=d.value;n.call(a,u[0],u[1])}},q_=(a,n)=>{let i;const o=[];for(;(i=a.exec(n))!==null;)o.push(i);return o},G_=e1("HTMLFormElement"),V_=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),Jb=(({hasOwnProperty:a})=>(n,i)=>a.call(n,i))(Object.prototype),Y_=e1("RegExp"),sA=(a,n)=>{const i=Object.getOwnPropertyDescriptors(a),o={};b2(i,(d,u)=>{let f;(f=n(d,u,a))!==!1&&(o[u]=f||d)}),Object.defineProperties(a,o)},K_=a=>{sA(a,(n,i)=>{if(ui(a)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=a[i];if(ui(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},W_=(a,n)=>{const i={},o=d=>{d.forEach(u=>{i[u]=!0})};return Sc(a)?o(a):o(String(a).split(n)),i},J_=()=>{},X_=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function Z_(a){return!!(a&&ui(a.append)&&a[Zw]==="FormData"&&a[Vu])}const eF=a=>{const n=new Array(10),i=(o,d)=>{if(g2(o)){if(n.indexOf(o)>=0)return;if(v2(o))return o;if(!("toJSON"in o)){n[d]=o;const u=Sc(o)?[]:{};return b2(o,(f,h)=>{const p=i(f,d+1);!hc(p)&&(u[h]=p)}),n[d]=void 0,u}}return o};return i(a,0)},tF=e1("AsyncFunction"),rF=a=>a&&(g2(a)||ui(a))&&ui(a.then)&&ui(a.catch),nA=((a,n)=>a?setImmediate:n?((i,o)=>(Xo.addEventListener("message",({source:d,data:u})=>{d===Xo&&u===i&&o.length&&o.shift()()},!1),d=>{o.push(d),Xo.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",ui(Xo.postMessage)),aF=typeof queueMicrotask<"u"?queueMicrotask.bind(Xo):typeof process<"u"&&process.nextTick||nA,sF=a=>a!=null&&ui(a[Vu]),Oe={isArray:Sc,isArrayBuffer:eA,isBuffer:v2,isFormData:B_,isArrayBufferView:w_,isString:A_,isNumber:tA,isBoolean:k_,isObject:g2,isPlainObject:Ad,isEmptyObject:j_,isReadableStream:T_,isRequest:R_,isResponse:M_,isHeaders:__,isUndefined:hc,isDate:N_,isFile:S_,isBlob:E_,isRegExp:Y_,isFunction:ui,isStream:I_,isURLSearchParams:D_,isTypedArray:H_,isFileList:C_,forEach:b2,merge:C3,extend:P_,trim:F_,stripBOM:O_,inherits:U_,toFlatObject:z_,kindOf:Yu,kindOfTest:e1,endsWith:L_,toArray:Q_,forEachEntry:$_,matchAll:q_,isHTMLForm:G_,hasOwnProperty:Jb,hasOwnProp:Jb,reduceDescriptors:sA,freezeMethods:K_,toObjectSet:W_,toCamelCase:V_,noop:J_,toFiniteNumber:X_,findKey:rA,global:Xo,isContextDefined:aA,isSpecCompliantForm:Z_,toJSONObject:eF,isAsyncFn:tF,isThenable:rF,setImmediate:nA,asap:aF,isIterable:sF};function Sr(a,n,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}Oe.inherits(Sr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const iA=Sr.prototype,oA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{oA[a]={value:a}});Object.defineProperties(Sr,oA);Object.defineProperty(iA,"isAxiosError",{value:!0});Sr.from=(a,n,i,o,d,u)=>{const f=Object.create(iA);Oe.toFlatObject(a,f,function(x){return x!==Error.prototype},m=>m!=="isAxiosError");const h=a&&a.message?a.message:"Error",p=n==null&&a?a.code:n;return Sr.call(f,h,p,i,o,d),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",u&&Object.assign(f,u),f};const nF=null;function I3(a){return Oe.isPlainObject(a)||Oe.isArray(a)}function lA(a){return Oe.endsWith(a,"[]")?a.slice(0,-2):a}function Xb(a,n,i){return a?a.concat(n).map(function(d,u){return d=lA(d),!i&&u?"["+d+"]":d}).join(i?".":""):n}function iF(a){return Oe.isArray(a)&&!a.some(I3)}const oF=Oe.toFlatObject(Oe,{},null,function(n){return/^is[A-Z]/.test(n)});function Wu(a,n,i){if(!Oe.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,i=Oe.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!Oe.isUndefined(k[A])});const o=i.metaTokens,d=i.visitor||x,u=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(n);if(!Oe.isFunction(d))throw new TypeError("visitor must be a function");function m(g){if(g===null)return"";if(Oe.isDate(g))return g.toISOString();if(Oe.isBoolean(g))return g.toString();if(!p&&Oe.isBlob(g))throw new Sr("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(g)||Oe.isTypedArray(g)?p&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function x(g,A,k){let E=g;if(g&&!k&&typeof g=="object"){if(Oe.endsWith(A,"{}"))A=o?A:A.slice(0,-2),g=JSON.stringify(g);else if(Oe.isArray(g)&&iF(g)||(Oe.isFileList(g)||Oe.endsWith(A,"[]"))&&(E=Oe.toArray(g)))return A=lA(A),E.forEach(function(N,B){!(Oe.isUndefined(N)||N===null)&&n.append(f===!0?Xb([A],B,u):f===null?A:A+"[]",m(N))}),!1}return I3(g)?!0:(n.append(Xb(k,A,u),m(g)),!1)}const y=[],w=Object.assign(oF,{defaultVisitor:x,convertValue:m,isVisitable:I3});function v(g,A){if(!Oe.isUndefined(g)){if(y.indexOf(g)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(g),Oe.forEach(g,function(E,j){(!(Oe.isUndefined(E)||E===null)&&d.call(n,E,Oe.isString(j)?j.trim():j,A,w))===!0&&v(E,A?A.concat(j):[j])}),y.pop()}}if(!Oe.isObject(a))throw new TypeError("data must be an object");return v(a),n}function Zb(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function tx(a,n){this._pairs=[],a&&Wu(a,this,n)}const cA=tx.prototype;cA.append=function(n,i){this._pairs.push([n,i])};cA.toString=function(n){const i=n?function(o){return n.call(this,o,Zb)}:Zb;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function lF(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dA(a,n,i){if(!n)return a;const o=i&&i.encode||lF;Oe.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let u;if(d?u=d(n,i):u=Oe.isURLSearchParams(n)?n.toString():new tx(n,i).toString(o),u){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+u}return a}class e6{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Oe.forEach(this.handlers,function(o){o!==null&&n(o)})}}const uA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cF=typeof URLSearchParams<"u"?URLSearchParams:tx,dF=typeof FormData<"u"?FormData:null,uF=typeof Blob<"u"?Blob:null,fF={isBrowser:!0,classes:{URLSearchParams:cF,FormData:dF,Blob:uF},protocols:["http","https","file","blob","url","data"]},rx=typeof window<"u"&&typeof document<"u",B3=typeof navigator=="object"&&navigator||void 0,hF=rx&&(!B3||["ReactNative","NativeScript","NS"].indexOf(B3.product)<0),pF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mF=rx&&window.location.href||"http://localhost",xF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rx,hasStandardBrowserEnv:hF,hasStandardBrowserWebWorkerEnv:pF,navigator:B3,origin:mF},Symbol.toStringTag,{value:"Module"})),Un={...xF,...fF};function vF(a,n){return Wu(a,new Un.classes.URLSearchParams,{visitor:function(i,o,d,u){return Un.isNode&&Oe.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...n})}function gF(a){return Oe.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function bF(a){const n={},i=Object.keys(a);let o;const d=i.length;let u;for(o=0;o<d;o++)u=i[o],n[u]=a[u];return n}function fA(a){function n(i,o,d,u){let f=i[u++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=u>=i.length;return f=!f&&Oe.isArray(d)?d.length:f,p?(Oe.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!h):((!d[f]||!Oe.isObject(d[f]))&&(d[f]=[]),n(i,o,d[f],u)&&Oe.isArray(d[f])&&(d[f]=bF(d[f])),!h)}if(Oe.isFormData(a)&&Oe.isFunction(a.entries)){const i={};return Oe.forEachEntry(a,(o,d)=>{n(gF(o),d,i,0)}),i}return null}function yF(a,n,i){if(Oe.isString(a))try{return(n||JSON.parse)(a),Oe.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(a)}const y2={transitional:uA,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,u=Oe.isObject(n);if(u&&Oe.isHTMLForm(n)&&(n=new FormData(n)),Oe.isFormData(n))return d?JSON.stringify(fA(n)):n;if(Oe.isArrayBuffer(n)||Oe.isBuffer(n)||Oe.isStream(n)||Oe.isFile(n)||Oe.isBlob(n)||Oe.isReadableStream(n))return n;if(Oe.isArrayBufferView(n))return n.buffer;if(Oe.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return vF(n,this.formSerializer).toString();if((h=Oe.isFileList(n))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Wu(h?{"files[]":n}:n,p&&new p,this.formSerializer)}}return u||d?(i.setContentType("application/json",!1),yF(n)):n}],transformResponse:[function(n){const i=this.transitional||y2.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(Oe.isResponse(n)||Oe.isReadableStream(n))return n;if(n&&Oe.isString(n)&&(o&&!this.responseType||d)){const f=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(n,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?Sr.from(h,Sr.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],a=>{y2.headers[a]={}});const wF=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AF=a=>{const n={};let i,o,d;return a&&a.split(`
`).forEach(function(f){d=f.indexOf(":"),i=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!i||n[i]&&wF[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},t6=Symbol("internals");function d0(a){return a&&String(a).trim().toLowerCase()}function kd(a){return a===!1||a==null?a:Oe.isArray(a)?a.map(kd):String(a)}function kF(a){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(a);)n[o[1]]=o[2];return n}const jF=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function sp(a,n,i,o,d){if(Oe.isFunction(o))return o.call(this,n,i);if(d&&(n=i),!!Oe.isString(n)){if(Oe.isString(o))return n.indexOf(o)!==-1;if(Oe.isRegExp(o))return o.test(n)}}function NF(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function SF(a,n){const i=Oe.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(a,o+i,{value:function(d,u,f){return this[o].call(this,n,d,u,f)},configurable:!0})})}let fi=class{constructor(n){n&&this.set(n)}set(n,i,o){const d=this;function u(h,p,m){const x=d0(p);if(!x)throw new Error("header name must be a non-empty string");const y=Oe.findKey(d,x);(!y||d[y]===void 0||m===!0||m===void 0&&d[y]!==!1)&&(d[y||p]=kd(h))}const f=(h,p)=>Oe.forEach(h,(m,x)=>u(m,x,p));if(Oe.isPlainObject(n)||n instanceof this.constructor)f(n,i);else if(Oe.isString(n)&&(n=n.trim())&&!jF(n))f(AF(n),i);else if(Oe.isObject(n)&&Oe.isIterable(n)){let h={},p,m;for(const x of n){if(!Oe.isArray(x))throw TypeError("Object iterator must return a key-value pair");h[m=x[0]]=(p=h[m])?Oe.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}f(h,i)}else n!=null&&u(i,n,o);return this}get(n,i){if(n=d0(n),n){const o=Oe.findKey(this,n);if(o){const d=this[o];if(!i)return d;if(i===!0)return kF(d);if(Oe.isFunction(i))return i.call(this,d,o);if(Oe.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=d0(n),n){const o=Oe.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||sp(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let d=!1;function u(f){if(f=d0(f),f){const h=Oe.findKey(o,f);h&&(!i||sp(o,o[h],h,i))&&(delete o[h],d=!0)}}return Oe.isArray(n)?n.forEach(u):u(n),d}clear(n){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const u=i[o];(!n||sp(this,this[u],u,n,!0))&&(delete this[u],d=!0)}return d}normalize(n){const i=this,o={};return Oe.forEach(this,(d,u)=>{const f=Oe.findKey(o,u);if(f){i[f]=kd(d),delete i[u];return}const h=n?NF(u):String(u).trim();h!==u&&delete i[u],i[h]=kd(d),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return Oe.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=n&&Oe.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(d=>o.set(d)),o}static accessor(n){const o=(this[t6]=this[t6]={accessors:{}}).accessors,d=this.prototype;function u(f){const h=d0(f);o[h]||(SF(d,f),o[h]=!0)}return Oe.isArray(n)?n.forEach(u):u(n),this}};fi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(fi.prototype,({value:a},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(o){this[i]=o}}});Oe.freezeMethods(fi);function np(a,n){const i=this||y2,o=n||i,d=fi.from(o.headers);let u=o.data;return Oe.forEach(a,function(h){u=h.call(i,u,d.normalize(),n?n.status:void 0)}),d.normalize(),u}function hA(a){return!!(a&&a.__CANCEL__)}function Ec(a,n,i){Sr.call(this,a??"canceled",Sr.ERR_CANCELED,n,i),this.name="CanceledError"}Oe.inherits(Ec,Sr,{__CANCEL__:!0});function pA(a,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?a(i):n(new Sr("Request failed with status code "+i.status,[Sr.ERR_BAD_REQUEST,Sr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function EF(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function CF(a,n){a=a||10;const i=new Array(a),o=new Array(a);let d=0,u=0,f;return n=n!==void 0?n:1e3,function(p){const m=Date.now(),x=o[u];f||(f=m),i[d]=p,o[d]=m;let y=u,w=0;for(;y!==d;)w+=i[y++],y=y%a;if(d=(d+1)%a,d===u&&(u=(u+1)%a),m-f<n)return;const v=x&&m-x;return v?Math.round(w*1e3/v):void 0}}function IF(a,n){let i=0,o=1e3/n,d,u;const f=(m,x=Date.now())=>{i=x,d=null,u&&(clearTimeout(u),u=null),a(...m)};return[(...m)=>{const x=Date.now(),y=x-i;y>=o?f(m,x):(d=m,u||(u=setTimeout(()=>{u=null,f(d)},o-y)))},()=>d&&f(d)]}const hu=(a,n,i=3)=>{let o=0;const d=CF(50,250);return IF(u=>{const f=u.loaded,h=u.lengthComputable?u.total:void 0,p=f-o,m=d(p),x=f<=h;o=f;const y={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&x?(h-f)/m:void 0,event:u,lengthComputable:h!=null,[n?"download":"upload"]:!0};a(y)},i)},r6=(a,n)=>{const i=a!=null;return[o=>n[0]({lengthComputable:i,total:a,loaded:o}),n[1]]},a6=a=>(...n)=>Oe.asap(()=>a(...n)),BF=Un.hasStandardBrowserEnv?((a,n)=>i=>(i=new URL(i,Un.origin),a.protocol===i.protocol&&a.host===i.host&&(n||a.port===i.port)))(new URL(Un.origin),Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent)):()=>!0,DF=Un.hasStandardBrowserEnv?{write(a,n,i,o,d,u,f){if(typeof document>"u")return;const h=[`${a}=${encodeURIComponent(n)}`];Oe.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),Oe.isString(o)&&h.push(`path=${o}`),Oe.isString(d)&&h.push(`domain=${d}`),u===!0&&h.push("secure"),Oe.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(a){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function TF(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function RF(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function mA(a,n,i){let o=!TF(n);return a&&(o||i==!1)?RF(a,n):n}const s6=a=>a instanceof fi?{...a}:a;function cl(a,n){n=n||{};const i={};function o(m,x,y,w){return Oe.isPlainObject(m)&&Oe.isPlainObject(x)?Oe.merge.call({caseless:w},m,x):Oe.isPlainObject(x)?Oe.merge({},x):Oe.isArray(x)?x.slice():x}function d(m,x,y,w){if(Oe.isUndefined(x)){if(!Oe.isUndefined(m))return o(void 0,m,y,w)}else return o(m,x,y,w)}function u(m,x){if(!Oe.isUndefined(x))return o(void 0,x)}function f(m,x){if(Oe.isUndefined(x)){if(!Oe.isUndefined(m))return o(void 0,m)}else return o(void 0,x)}function h(m,x,y){if(y in n)return o(m,x);if(y in a)return o(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(m,x,y)=>d(s6(m),s6(x),y,!0)};return Oe.forEach(Object.keys({...a,...n}),function(x){const y=p[x]||d,w=y(a[x],n[x],x);Oe.isUndefined(w)&&y!==h||(i[x]=w)}),i}const xA=a=>{const n=cl({},a);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:u,headers:f,auth:h}=n;if(n.headers=f=fi.from(f),n.url=dA(mA(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Oe.isFormData(i)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Oe.isFunction(i.getHeaders)){const p=i.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([x,y])=>{m.includes(x.toLowerCase())&&f.set(x,y)})}}if(Un.hasStandardBrowserEnv&&(o&&Oe.isFunction(o)&&(o=o(n)),o||o!==!1&&BF(n.url))){const p=d&&u&&DF.read(u);p&&f.set(d,p)}return n},MF=typeof XMLHttpRequest<"u",_F=MF&&function(a){return new Promise(function(i,o){const d=xA(a);let u=d.data;const f=fi.from(d.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=d,x,y,w,v,g;function A(){v&&v(),g&&g(),d.cancelToken&&d.cancelToken.unsubscribe(x),d.signal&&d.signal.removeEventListener("abort",x)}let k=new XMLHttpRequest;k.open(d.method.toUpperCase(),d.url,!0),k.timeout=d.timeout;function E(){if(!k)return;const N=fi.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:N,config:a,request:k};pA(function(T){i(T),A()},function(T){o(T),A()},I),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(o(new Sr("Request aborted",Sr.ECONNABORTED,a,k)),k=null)},k.onerror=function(B){const I=B&&B.message?B.message:"Network Error",D=new Sr(I,Sr.ERR_NETWORK,a,k);D.event=B||null,o(D),k=null},k.ontimeout=function(){let B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const I=d.transitional||uA;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),o(new Sr(B,I.clarifyTimeoutError?Sr.ETIMEDOUT:Sr.ECONNABORTED,a,k)),k=null},u===void 0&&f.setContentType(null),"setRequestHeader"in k&&Oe.forEach(f.toJSON(),function(B,I){k.setRequestHeader(I,B)}),Oe.isUndefined(d.withCredentials)||(k.withCredentials=!!d.withCredentials),h&&h!=="json"&&(k.responseType=d.responseType),m&&([w,g]=hu(m,!0),k.addEventListener("progress",w)),p&&k.upload&&([y,v]=hu(p),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",v)),(d.cancelToken||d.signal)&&(x=N=>{k&&(o(!N||N.type?new Ec(null,a,k):N),k.abort(),k=null)},d.cancelToken&&d.cancelToken.subscribe(x),d.signal&&(d.signal.aborted?x():d.signal.addEventListener("abort",x)));const j=EF(d.url);if(j&&Un.protocols.indexOf(j)===-1){o(new Sr("Unsupported protocol "+j+":",Sr.ERR_BAD_REQUEST,a));return}k.send(u||null)})},FF=(a,n)=>{const{length:i}=a=a?a.filter(Boolean):[];if(n||i){let o=new AbortController,d;const u=function(m){if(!d){d=!0,h();const x=m instanceof Error?m:this.reason;o.abort(x instanceof Sr?x:new Ec(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{f=null,u(new Sr(`timeout ${n} of ms exceeded`,Sr.ETIMEDOUT))},n);const h=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),a=null)};a.forEach(m=>m.addEventListener("abort",u));const{signal:p}=o;return p.unsubscribe=()=>Oe.asap(h),p}},PF=function*(a,n){let i=a.byteLength;if(i<n){yield a;return}let o=0,d;for(;o<i;)d=o+n,yield a.slice(o,d),o=d},OF=async function*(a,n){for await(const i of UF(a))yield*PF(i,n)},UF=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},n6=(a,n,i,o)=>{const d=OF(a,n);let u=0,f,h=p=>{f||(f=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:x}=await d.next();if(m){h(),p.close();return}let y=x.byteLength;if(i){let w=u+=y;i(w)}p.enqueue(new Uint8Array(x))}catch(m){throw h(m),m}},cancel(p){return h(p),d.return()}},{highWaterMark:2})},i6=64*1024,{isFunction:ad}=Oe,zF=(({Request:a,Response:n})=>({Request:a,Response:n}))(Oe.global),{ReadableStream:o6,TextEncoder:l6}=Oe.global,c6=(a,...n)=>{try{return!!a(...n)}catch{return!1}},LF=a=>{a=Oe.merge.call({skipUndefined:!0},zF,a);const{fetch:n,Request:i,Response:o}=a,d=n?ad(n):typeof fetch=="function",u=ad(i),f=ad(o);if(!d)return!1;const h=d&&ad(o6),p=d&&(typeof l6=="function"?(g=>A=>g.encode(A))(new l6):async g=>new Uint8Array(await new i(g).arrayBuffer())),m=u&&h&&c6(()=>{let g=!1;const A=new i(Un.origin,{body:new o6,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!A}),x=f&&h&&c6(()=>Oe.isReadableStream(new o("").body)),y={stream:x&&(g=>g.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!y[g]&&(y[g]=(A,k)=>{let E=A&&A[g];if(E)return E.call(A);throw new Sr(`Response type '${g}' is not supported`,Sr.ERR_NOT_SUPPORT,k)})});const w=async g=>{if(g==null)return 0;if(Oe.isBlob(g))return g.size;if(Oe.isSpecCompliantForm(g))return(await new i(Un.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(g)||Oe.isArrayBuffer(g))return g.byteLength;if(Oe.isURLSearchParams(g)&&(g=g+""),Oe.isString(g))return(await p(g)).byteLength},v=async(g,A)=>{const k=Oe.toFiniteNumber(g.getContentLength());return k??w(A)};return async g=>{let{url:A,method:k,data:E,signal:j,cancelToken:N,timeout:B,onDownloadProgress:I,onUploadProgress:D,responseType:T,headers:R,withCredentials:$="same-origin",fetchOptions:_}=xA(g),F=n||fetch;T=T?(T+"").toLowerCase():"text";let Q=FF([j,N&&N.toAbortSignal()],B),L=null;const X=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let le;try{if(D&&m&&k!=="get"&&k!=="head"&&(le=await v(R,E))!==0){let U=new i(A,{method:"POST",body:E,duplex:"half"}),W;if(Oe.isFormData(E)&&(W=U.headers.get("content-type"))&&R.setContentType(W),U.body){const[re,ie]=r6(le,hu(a6(D)));E=n6(U.body,i6,re,ie)}}Oe.isString($)||($=$?"include":"omit");const fe=u&&"credentials"in i.prototype,V={..._,signal:Q,method:k.toUpperCase(),headers:R.normalize().toJSON(),body:E,duplex:"half",credentials:fe?$:void 0};L=u&&new i(A,V);let H=await(u?F(L,_):F(A,V));const se=x&&(T==="stream"||T==="response");if(x&&(I||se&&X)){const U={};["status","statusText","headers"].forEach(be=>{U[be]=H[be]});const W=Oe.toFiniteNumber(H.headers.get("content-length")),[re,ie]=I&&r6(W,hu(a6(I),!0))||[];H=new o(n6(H.body,i6,re,()=>{ie&&ie(),X&&X()}),U)}T=T||"text";let ue=await y[Oe.findKey(y,T)||"text"](H,g);return!se&&X&&X(),await new Promise((U,W)=>{pA(U,W,{data:ue,headers:fi.from(H.headers),status:H.status,statusText:H.statusText,config:g,request:L})})}catch(fe){throw X&&X(),fe&&fe.name==="TypeError"&&/Load failed|fetch/i.test(fe.message)?Object.assign(new Sr("Network Error",Sr.ERR_NETWORK,g,L),{cause:fe.cause||fe}):Sr.from(fe,fe&&fe.code,g,L)}}},QF=new Map,vA=a=>{let n=a&&a.env||{};const{fetch:i,Request:o,Response:d}=n,u=[o,d,i];let f=u.length,h=f,p,m,x=QF;for(;h--;)p=u[h],m=x.get(p),m===void 0&&x.set(p,m=h?new Map:LF(n)),x=m;return m};vA();const ax={http:nF,xhr:_F,fetch:{get:vA}};Oe.forEach(ax,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const d6=a=>`- ${a}`,HF=a=>Oe.isFunction(a)||a===null||a===!1;function $F(a,n){a=Oe.isArray(a)?a:[a];const{length:i}=a;let o,d;const u={};for(let f=0;f<i;f++){o=a[f];let h;if(d=o,!HF(o)&&(d=ax[(h=String(o)).toLowerCase()],d===void 0))throw new Sr(`Unknown adapter '${h}'`);if(d&&(Oe.isFunction(d)||(d=d.get(n))))break;u[h||"#"+f]=d}if(!d){const f=Object.entries(u).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(d6).join(`
`):" "+d6(f[0]):"as no adapter specified";throw new Sr("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d}const gA={getAdapter:$F,adapters:ax};function ip(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Ec(null,a)}function u6(a){return ip(a),a.headers=fi.from(a.headers),a.data=np.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),gA.getAdapter(a.adapter||y2.adapter,a)(a).then(function(o){return ip(a),o.data=np.call(a,a.transformResponse,o),o.headers=fi.from(o.headers),o},function(o){return hA(o)||(ip(a),o&&o.response&&(o.response.data=np.call(a,a.transformResponse,o.response),o.response.headers=fi.from(o.response.headers))),Promise.reject(o)})}const bA="1.13.2",Ju={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{Ju[a]=function(o){return typeof o===a||"a"+(n<1?"n ":" ")+a}});const f6={};Ju.transitional=function(n,i,o){function d(u,f){return"[Axios v"+bA+"] Transitional option '"+u+"'"+f+(o?". "+o:"")}return(u,f,h)=>{if(n===!1)throw new Sr(d(f," has been removed"+(i?" in "+i:"")),Sr.ERR_DEPRECATED);return i&&!f6[f]&&(f6[f]=!0,console.warn(d(f," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(u,f,h):!0}};Ju.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function qF(a,n,i){if(typeof a!="object")throw new Sr("options must be an object",Sr.ERR_BAD_OPTION_VALUE);const o=Object.keys(a);let d=o.length;for(;d-- >0;){const u=o[d],f=n[u];if(f){const h=a[u],p=h===void 0||f(h,u,a);if(p!==!0)throw new Sr("option "+u+" must be "+p,Sr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Sr("Unknown option "+u,Sr.ERR_BAD_OPTION)}}const jd={assertOptions:qF,validators:Ju},f1=jd.validators;let al=class{constructor(n){this.defaults=n||{},this.interceptors={request:new e6,response:new e6}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const u=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=cl(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:u}=i;o!==void 0&&jd.assertOptions(o,{silentJSONParsing:f1.transitional(f1.boolean),forcedJSONParsing:f1.transitional(f1.boolean),clarifyTimeoutError:f1.transitional(f1.boolean)},!1),d!=null&&(Oe.isFunction(d)?i.paramsSerializer={serialize:d}:jd.assertOptions(d,{encode:f1.function,serialize:f1.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),jd.assertOptions(i,{baseUrl:f1.spelling("baseURL"),withXsrfToken:f1.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&Oe.merge(u.common,u[i.method]);u&&Oe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete u[g]}),i.headers=fi.concat(f,u);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(i)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let x,y=0,w;if(!p){const g=[u6.bind(this),void 0];for(g.unshift(...h),g.push(...m),w=g.length,x=Promise.resolve(i);y<w;)x=x.then(g[y++],g[y++]);return x}w=h.length;let v=i;for(;y<w;){const g=h[y++],A=h[y++];try{v=g(v)}catch(k){A.call(this,k);break}}try{x=u6.call(this,v)}catch(g){return Promise.reject(g)}for(y=0,w=m.length;y<w;)x=x.then(m[y++],m[y++]);return x}getUri(n){n=cl(this.defaults,n);const i=mA(n.baseURL,n.url,n.allowAbsoluteUrls);return dA(i,n.params,n.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(n){al.prototype[n]=function(i,o){return this.request(cl(o||{},{method:n,url:i,data:(o||{}).data}))}});Oe.forEach(["post","put","patch"],function(n){function i(o){return function(u,f,h){return this.request(cl(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}al.prototype[n]=i(),al.prototype[n+"Form"]=i(!0)});let GF=class yA{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(d=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](d);o._listeners=null}),this.promise.then=d=>{let u;const f=new Promise(h=>{o.subscribe(h),u=h}).then(d);return f.cancel=function(){o.unsubscribe(u)},f},n(function(u,f,h){o.reason||(o.reason=new Ec(u,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new yA(function(d){n=d}),cancel:n}}};function VF(a){return function(i){return a.apply(null,i)}}function YF(a){return Oe.isObject(a)&&a.isAxiosError===!0}const D3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(D3).forEach(([a,n])=>{D3[n]=a});function wA(a){const n=new al(a),i=Xw(al.prototype.request,n);return Oe.extend(i,al.prototype,n,{allOwnKeys:!0}),Oe.extend(i,n,null,{allOwnKeys:!0}),i.create=function(d){return wA(cl(a,d))},i}const Hs=wA(y2);Hs.Axios=al;Hs.CanceledError=Ec;Hs.CancelToken=GF;Hs.isCancel=hA;Hs.VERSION=bA;Hs.toFormData=Wu;Hs.AxiosError=Sr;Hs.Cancel=Hs.CanceledError;Hs.all=function(n){return Promise.all(n)};Hs.spread=VF;Hs.isAxiosError=YF;Hs.mergeConfig=cl;Hs.AxiosHeaders=fi;Hs.formToJSON=a=>fA(Oe.isHTMLForm(a)?new FormData(a):a);Hs.getAdapter=gA.getAdapter;Hs.HttpStatusCode=D3;Hs.default=Hs;const{Axios:mO,AxiosError:xO,CanceledError:vO,isCancel:gO,CancelToken:bO,VERSION:yO,all:wO,Cancel:AO,isAxiosError:kO,spread:jO,toFormData:NO,AxiosHeaders:SO,HttpStatusCode:EO,formToJSON:CO,getAdapter:IO,mergeConfig:BO}=Hs,pc=!0,sd="https://pos-inventory-system-gamma.vercel.app/api",KF={shopee:`${sd}/shopee`,lazada:`${sd}/lazada`,tokopedia:`${sd}/tokopedia`,tiktok:`${sd}/tiktok`},jr=(a,n=6e4)=>{const i=Hs.create({baseURL:KF[a],timeout:n,headers:{"Content-Type":"application/json"}});return i.interceptors.response.use(o=>o.data,o=>{var u,f;const d=((f=(u=o.response)==null?void 0:u.data)==null?void 0:f.message)||o.message||"Terjadi kesalahan";return Promise.reject(new Error(d))}),i},t2={getAuthUrl:async a=>{var n,i;try{const o=jr("shopee"),u=`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=shopee&store_id=${a.id}`,f=pc?"/auth-url":"/auth/shopee/url";return await o.post(f,{partner_id:((n=a.credentials)==null?void 0:n.partnerId)||"",partner_key:((i=a.credentials)==null?void 0:i.partnerKey)||"",shop_id:a.shopId||"",redirect_url:u})}catch(o){throw new Error(`Gagal mendapatkan Auth URL: ${o.message}`)}},getToken:async(a,n)=>jr("shopee").post("/token?action=get_token",{code:n,shop_id:a.shopId,partner_id:a.credentials.partnerId,partner_key:a.credentials.partnerKey}),refreshToken:async a=>jr("shopee").post("/auth/shopee/refresh",{shop_id:a.shopId,partner_id:a.credentials.partnerId,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>jr("shopee").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>{var n,i,o,d,u,f,h,p,m;try{const y=await jr("shopee",18e4).get("/products",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),w=((u=(d=y==null?void 0:y.data)==null?void 0:d.response)==null?void 0:u.item)||((f=y==null?void 0:y.response)==null?void 0:f.item)||(y==null?void 0:y.products)||[],v=((p=(h=y==null?void 0:y.data)==null?void 0:h.response)==null?void 0:p.total_count)||((m=y==null?void 0:y.response)==null?void 0:m.total_count)||(y==null?void 0:y.count)||w.length;return console.log("Shopee syncProducts result:",{itemCount:w.length,totalCount:v,rawResult:y}),{success:y.success!==!1,data:w,count:v}}catch(x){throw new Error(`Sync produk gagal: ${x.message}`)}},getProducts:async(a,n={})=>{var o,d;return jr("shopee").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,...n}})},syncOrders:async(a,n={})=>{var i,o,d,u,f,h,p,m,x,y,w,v;try{const A=await jr("shopee",12e4).get("/orders",{params:{shop_id:a.shopId,access_token:(i=a.credentials)==null?void 0:i.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,fetch_all:"true",...n}}),k=((f=(u=A==null?void 0:A.data)==null?void 0:u.response)==null?void 0:f.order_list)||((h=A==null?void 0:A.response)==null?void 0:h.order_list)||(A==null?void 0:A.orders)||[],E=((m=(p=A==null?void 0:A.data)==null?void 0:p.response)==null?void 0:m.total_count)||((x=A==null?void 0:A.response)==null?void 0:x.total_count)||(A==null?void 0:A.count)||k.length,j=((w=(y=A==null?void 0:A.data)==null?void 0:y.response)==null?void 0:w.status_summary)||((v=A==null?void 0:A.response)==null?void 0:v.status_summary)||{};return console.log("Shopee syncOrders result:",{orderCount:k.length,totalCount:E,statusSummary:j}),{success:A.success!==!1,data:k,count:E,statusSummary:j}}catch(g){throw new Error(`Sync order gagal: ${g.message}`)}},syncReturns:async a=>{var n,i,o,d,u,f;try{const p=await jr("shopee",6e4).get("/returns",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),m=(p==null?void 0:p.returns)||((u=(d=p==null?void 0:p.data)==null?void 0:d.response)==null?void 0:u.return_list)||((f=p==null?void 0:p.response)==null?void 0:f.return_list)||[],x=(p==null?void 0:p.count)||m.length;return console.log("Shopee syncReturns result:",{returnCount:m.length,totalCount:x}),{success:p.success!==!1,data:m,count:x}}catch(h){return console.error("Sync returns error:",h),{success:!1,data:[],count:0,error:h.message}}},getOrdersByStatus:async(a,n,i={})=>{var d,u,f;return jr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:(d=a.credentials)==null?void 0:d.accessToken,partner_id:(u=a.credentials)==null?void 0:u.partnerId,partner_key:(f=a.credentials)==null?void 0:f.partnerKey,fetch_all:"true",order_status:n,...i}})},getOrders:async(a,n={})=>{var o,d;return jr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,fetch_all:"true",fetch_all_statuses:"true",...n}})},updateStock:async(a,n,i)=>jr("shopee").put(`/products/${n}/stock`,{shop_id:a.shopId,access_token:a.credentials.accessToken,stock:i}),updateProduct:async(a,n,i,o)=>{var d,u,f;try{const h=jr("shopee"),p=pc?"/update-product":"/products/update",m={shop_id:a.shopId,partner_id:(d=a.credentials)==null?void 0:d.partnerId,partner_key:(u=a.credentials)==null?void 0:u.partnerKey,access_token:(f=a.credentials)==null?void 0:f.accessToken,item_id:n,model_id:i||null,action:"update_all",...o},x=await h.post(p,m);return{success:x.success!==!1,data:x}}catch(h){throw new Error(`Update produk Shopee gagal: ${h.message}`)}},testConnection:async a=>{var n;try{const o=await jr("shopee",1e4).get("/auth/status",{params:{shop_id:a.shopId}});return{success:o.connected||o.success,data:o}}catch(i){return(n=a.credentials)!=null&&n.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:i.message}}}},sx={getAuthUrl:async a=>{var n,i;try{const o=jr("lazada"),u=`${pc?"https://pos-inventory-system-gamma.vercel.app":window.location.origin}/marketplace/callback?platform=lazada&store_id=${a.id}`;return await o.post("/auth-url",{app_key:((n=a.credentials)==null?void 0:n.appKey)||"",store_id:a.id,redirect_url:u})}catch{const d=(i=a.credentials)==null?void 0:i.appKey;return{url:`https://auth.lazada.com/oauth/authorize?response_type=code&force_auth=true&redirect_uri=${encodeURIComponent(`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=lazada&store_id=${a.id}`)}&client_id=${d}&country=id`}}},getToken:async(a,n)=>jr("lazada").post("/token?action=get_token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>jr("lazada").post("/token?action=refresh_token",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),syncProducts:async a=>{var n,i,o,d,u,f,h;try{const m=await jr("lazada",18e4).get("/products",{params:{app_key:(n=a.credentials)==null?void 0:n.appKey,app_secret:(i=a.credentials)==null?void 0:i.appSecret,access_token:(o=a.credentials)==null?void 0:o.accessToken,fetch_all:"true"}}),x=((u=(d=m==null?void 0:m.data)==null?void 0:d.response)==null?void 0:u.item)||(m==null?void 0:m.products)||[],y=((h=(f=m==null?void 0:m.data)==null?void 0:f.response)==null?void 0:h.total_count)||(m==null?void 0:m.count)||x.length;return console.log("Lazada syncProducts result:",{itemCount:x.length,totalCount:y}),{success:m.success!==!1,data:x,count:y}}catch(p){throw new Error(`Sync produk Lazada gagal: ${p.message}`)}},getProducts:async(a,n={})=>{var o,d,u;return jr("lazada").get("/products",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(u=a.credentials)==null?void 0:u.accessToken,...n}})},syncOrders:async(a,n={})=>{var i,o,d,u,f,h,p,m,x;try{const w=await jr("lazada",12e4).get("/orders",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,fetch_all:"true",...n}}),v=((f=(u=w==null?void 0:w.data)==null?void 0:u.response)==null?void 0:f.order_list)||(w==null?void 0:w.orders)||[],g=((p=(h=w==null?void 0:w.data)==null?void 0:h.response)==null?void 0:p.total_count)||(w==null?void 0:w.count)||v.length,A=((x=(m=w==null?void 0:w.data)==null?void 0:m.response)==null?void 0:x.status_summary)||(w==null?void 0:w.statusSummary)||{};return console.log("Lazada syncOrders result:",{orderCount:v.length,totalCount:g,statusSummary:A}),{success:w.success!==!1,data:v,count:g,statusSummary:A}}catch(y){throw new Error(`Sync order Lazada gagal: ${y.message}`)}},getOrdersByStatus:async(a,n,i={})=>{var d,u,f;return jr("lazada",12e4).get("/orders",{params:{app_key:(d=a.credentials)==null?void 0:d.appKey,app_secret:(u=a.credentials)==null?void 0:u.appSecret,access_token:(f=a.credentials)==null?void 0:f.accessToken,order_status:n,fetch_all:"true",...i}})},getOrders:async(a,n={})=>{var o,d,u;return jr("lazada").get("/orders",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(u=a.credentials)==null?void 0:u.accessToken,...n}})},updateStock:async(a,n,i)=>jr("lazada").put("/products/stock",{access_token:a.credentials.accessToken,sku:n,quantity:i}),updateProduct:async(a,n,i,o)=>{var d,u,f;try{const h=jr("lazada"),p=pc?"/update-product":"/products/update",m={app_key:(d=a.credentials)==null?void 0:d.appKey,app_secret:(u=a.credentials)==null?void 0:u.appSecret,access_token:(f=a.credentials)==null?void 0:f.accessToken,item_id:n,sku_id:i||null,...o},x=await h.post(p,m);return{success:x.success!==!1,data:x}}catch(h){throw new Error(`Update produk Lazada gagal: ${h.message}`)}},testConnection:async a=>{var n,i,o,d,u;try{if((n=a.credentials)!=null&&n.accessToken){const h=await jr("lazada",1e4).get("/products",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,limit:"1"}});return{success:h.success!==!1,data:h}}return{success:!1,error:"No access token"}}catch(f){return(u=a.credentials)!=null&&u.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:f.message}}}},AA={getAuthUrl:async a=>{const n=a.credentials.fsId,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tokopedia&store_id=${a.id}`);return{url:`https://accounts.tokopedia.com/authorize?response_type=code&client_id=${a.credentials.clientId}&redirect_uri=${o}&state=${n}`}},getToken:async(a,n)=>jr("tokopedia").post("/auth/token",{code:n,client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,fs_id:a.credentials.fsId}),refreshToken:async a=>jr("tokopedia").post("/auth/refresh",{client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>jr("tokopedia").get("/shop/info",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}}),syncProducts:async a=>jr("tokopedia").post("/products/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>jr("tokopedia").get("/products",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>jr("tokopedia").post("/orders/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>jr("tokopedia").get("/orders",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>jr("tokopedia").put("/products/stock",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,product_id:n,stock:i}),updateProduct:async(a,n,i)=>{var o,d;try{const u=jr("tokopedia"),f=pc?"/update-product":"/products/update",h={shop_id:a.shopId,fs_id:(o=a.credentials)==null?void 0:o.fsId,access_token:(d=a.credentials)==null?void 0:d.accessToken,product_id:n,...i},p=await u.post(f,h);return{success:p.success!==!1,data:p}}catch(u){throw new Error(`Update produk Tokopedia gagal: ${u.message}`)}},testConnection:async a=>{try{return{success:!0,data:await jr("tokopedia",1e4).get("/auth/status",{params:{fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},kA={getAuthUrl:async a=>{const n=a.credentials.appKey,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tiktok&store_id=${a.id}`);return{url:`https://auth.tiktok-shops.com/oauth/authorize?app_key=${n}&redirect_uri=${o}&state=tiktok_auth`}},getToken:async(a,n)=>jr("tiktok").post("/auth/token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>jr("tiktok").post("/auth/refresh",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>jr("tiktok").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>jr("tiktok").post("/products/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>jr("tiktok").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>jr("tiktok").post("/orders/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>jr("tiktok").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>jr("tiktok").put("/products/stock",{shop_id:a.shopId,access_token:a.credentials.accessToken,product_id:n,stock:i}),updateProduct:async(a,n,i)=>{var o;try{const d=jr("tiktok"),u=pc?"/update-product":"/products/update",f={shop_id:a.shopId,access_token:(o=a.credentials)==null?void 0:o.accessToken,product_id:n,...i},h=await d.post(u,f);return{success:h.success!==!1,data:h}}catch(d){throw new Error(`Update produk TikTok gagal: ${d.message}`)}},testConnection:async a=>{try{return{success:!0,data:await jr("tiktok",1e4).get("/auth/status",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},Os={getApi:a=>{switch(a){case"shopee":return t2;case"lazada":return sx;case"tokopedia":return AA;case"tiktok":return kA;default:return null}},getAuthUrl:async a=>{const n=Os.getApi(a.platform);return n?n.getAuthUrl(a):{error:"Platform tidak didukung"}},getToken:async(a,n)=>{const i=Os.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getToken(a,n)},refreshToken:async a=>{const n=Os.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");return n.refreshToken(a)},testConnection:async a=>{if(a.platform==="manual")return{success:!0,data:{message:"Toko manual tidak memerlukan koneksi"}};const n=Os.getApi(a.platform);return n?n.testConnection(a):{success:!1,error:"Platform tidak didukung"}},syncProducts:async a=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const n=Os.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");try{const i=await n.syncProducts(a);return{success:!0,data:i.products||i.data||[],count:i.total||i.count||0}}catch(i){throw new Error(`Gagal sync produk: ${i.message}`)}},syncOrders:async(a,n={})=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const i=Os.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");try{const o=await i.syncOrders(a,n);return{success:!0,data:o.orders||o.data||[],count:o.total||o.count||0}}catch(o){throw new Error(`Gagal sync order: ${o.message}`)}},fullSync:async(a,n=null)=>{var o,d;const i={products:{success:!1,count:0,data:[],error:null},orders:{success:!1,count:0,data:[],error:null}};if(a.platform==="manual")return{success:!0,message:"Toko manual tidak memerlukan sinkronisasi",results:i};n&&n("Sinkronisasi produk...");try{const u=await Os.syncProducts(a);i.products={success:!0,count:u.count||((o=u.data)==null?void 0:o.length)||0,data:u.data||[]}}catch(u){i.products={success:!1,error:u.message,data:[]}}n&&n("Sinkronisasi pesanan...");try{const u=await Os.syncOrders(a);i.orders={success:!0,count:u.count||((d=u.data)==null?void 0:d.length)||0,data:u.data||[]}}catch(u){i.orders={success:!1,error:u.message,data:[]}}return{success:i.products.success||i.orders.success,results:i}},syncAllStores:async(a,n=null)=>{const i=[],o=a.filter(d=>d.isActive&&d.platform!=="manual");for(let d=0;d<o.length;d++){const u=o[d];n&&n({current:d+1,total:o.length,store:u.shopName,status:"syncing"});try{const f=await Os.fullSync(u);i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:f.success,results:f.results})}catch(f){i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:!1,error:f.message})}}return i},updateStock:async(a,n,i)=>{if(a.platform==="manual")return{success:!0,message:"Stok lokal diperbarui"};const o=Os.getApi(a.platform);if(!o)throw new Error("Platform tidak didukung");return o.updateStock(a,n,i)},updateProduct:async(a,n,i,o)=>{if(a.platform==="manual")return{success:!0,message:"Produk lokal diperbarui"};const d=Os.getApi(a.platform);if(!d||!d.updateProduct)throw new Error("Platform tidak mendukung update produk");return d.updateProduct(a,n,i,o)},getProducts:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=Os.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getProducts(a,n)},getOrders:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=Os.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getOrders(a,n)},getOrdersByStatus:async(a,n,i={})=>{if(a.platform==="manual")return{data:{response:{order_list:[]}}};const o=Os.getApi(a.platform);if(!o||!o.getOrdersByStatus)throw new Error("Platform tidak mendukung getOrdersByStatus");return o.getOrdersByStatus(a,n,i)}},WF=Object.freeze(Object.defineProperty({__proto__:null,lazadaApi:sx,marketplaceService:Os,shopeeApi:t2,tiktokApi:kA,tokopediaApi:AA},Symbol.toStringTag,{value:"Module"})),Xl=()=>`SJA${Math.floor(1e5+Math.random()*9e5)}`,Zl=()=>Math.floor(1e8+Math.random()*9e8).toString();function JF(){const[a,n]=ne.useState(""),[i,o]=ne.useState("all"),[d,u]=ne.useState("all"),[f,h]=ne.useState(!1),[p,m]=ne.useState(null),[x,y]=ne.useState(!1),[w,v]=ne.useState(!1),[g,A]=ne.useState(!1),[k,E]=ne.useState(!1),[j,N]=ne.useState(null),[B,I]=ne.useState({}),[D,T]=ne.useState(!1),[R,$]=ne.useState([]),[_,F]=ne.useState(!1),[Q,L]=ne.useState(1),[X,le]=ne.useState(20),{products:fe,categories:V,addProduct:H,updateProduct:se,deleteProduct:ue,syncLocalToCloud:U,isSyncing:W}=is(),{user:re}=Ei(),ie=async()=>{if(confirm("Upload semua data produk lokal ke Cloud (Supabase)? Data di cloud dengan ID sama akan di-update.")){const de=await U();de.success?alert(de.message):alert("Gagal sync: "+de.error)}},be=()=>{const de=`nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
Contoh Produk,SKU001,123456789,Makanan,pcs,15000,10000,100,10,Deskripsi produk
`,Ee=new Blob([de],{type:"text/csv;charset=utf-8;"}),at=document.createElement("a");at.href=URL.createObjectURL(Ee),at.download="template-import-produk.csv",at.click()},K=de=>{const Ee=de.target.files[0];if(!Ee)return;const at=new FileReader;at.onload=ot=>{try{const yt=ot.target.result.split(`
`).filter(q=>q.trim()),P=yt[0].split(",").map(q=>q.trim().toLowerCase()),G=[];for(let q=1;q<yt.length;q++){const te=yt[q].split(",").map(ce=>ce.trim());if(te.length>=2){const ce={name:te[P.indexOf("nama")]||te[0],sku:te[P.indexOf("sku")]||Xl(),barcode:te[P.indexOf("barcode")]||Zl(),category:te[P.indexOf("kategori")]||"Lainnya",unit:te[P.indexOf("satuan")]||"pcs",price:parseFloat(te[P.indexOf("harga_jual")])||0,cost:parseFloat(te[P.indexOf("harga_beli")])||0,stock:parseInt(te[P.indexOf("stok")])||0,minStock:parseInt(te[P.indexOf("stok_minimum")])||5,description:te[P.indexOf("deskripsi")]||""};G.push(ce)}}$(G),T(!0)}catch(Et){alert("Format file tidak valid: "+Et.message)}},at.readAsText(Ee),de.target.value=""},ke=async()=>{F(!0);let de=0;try{for(const Ee of R)await H({...Ee,code:`PRD${String(fe.length+de+1).padStart(3,"0")}`,source:"local"},re==null?void 0:re.id,re==null?void 0:re.name),de++;alert(`Berhasil import ${de} produk!`),T(!1),$([])}catch(Ee){alert("Gagal import: "+Ee.message)}finally{F(!1)}},je=()=>{let de=`kode,nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
`;fe.forEach(ot=>{de+=`${ot.code||""},${ot.name||""},${ot.sku||""},${ot.barcode||""},${ot.category||""},${ot.unit||""},${ot.price||0},${ot.cost||0},${ot.stock||0},${ot.minStock||0},"${(ot.description||"").replace(/"/g,'""')}"
`});const Ee=new Blob([de],{type:"text/csv;charset=utf-8;"}),at=document.createElement("a");at.href=URL.createObjectURL(Ee),at.download=`produk-export-${new Date().toISOString().split("T")[0]}.csv`,at.click()},Qe=de=>{A(!1),n(de);const Ee=fe.find(at=>at.barcode===de);Ee?alert(`Produk ditemukan: ${Ee.name}`):confirm(`Barcode ${de} tidak ditemukan. Buat produk baru?`)&&(m(null),h(!0))},ze=de=>{N(de),E(!0)},Ze=fe.filter(de=>{const Ee=de.name.toLowerCase().includes(a.toLowerCase())||de.sku&&de.sku.toLowerCase().includes(a.toLowerCase())||de.code&&de.code.toLowerCase().includes(a.toLowerCase()),at=i==="all"||de.category===i;let ot=d==="all";return d==="local"?ot=!["shopee","lazada","tokopedia","tiktok"].includes(de.source):d==="marketplace"?ot=["shopee","lazada","tokopedia","tiktok"].includes(de.source):d==="shopee"?ot=de.source==="shopee":d==="lazada"?ot=de.source==="lazada":d==="tokopedia"?ot=de.source==="tokopedia":d==="tiktok"&&(ot=de.source==="tiktok"),Ee&&at&&ot}).reduce((de,Ee)=>{if(Ee.variants&&Array.isArray(Ee.variants)&&Ee.variants.length>0)return de[Ee.id]={parent:Ee,variants:Ee.variants.map(ot=>({...ot,id:ot.id||ot.modelId||`${Ee.id}-${ot.sku||Math.random()}`,variantName:ot.name||ot.variantName,source:Ee.source,category:Ee.category,sku:ot.sku||ot.modelSku,price:ot.price,stock:ot.stock,image:ot.image||Ee.image}))},de;const at=Ee.parentId||Ee.parentName||Ee.id;return de[at]||(de[at]={parent:null,variants:[]}),Ee.isVariant&&(Ee.parentId||Ee.parentName)?(de[at].variants.push(Ee),de[at].parent||(de[at].parent={id:at,name:Ee.parentName||Ee.name.split(" - ")[0],image:Ee.image,category:Ee.category,source:Ee.source,sku:Ee.sku?Ee.sku.split("-")[0]:"",shopeeItemId:Ee.shopeeItemId})):de[at].parent=Ee,de},{}),Re=Object.entries(Ze).map(([de,Ee])=>{if(Ee.variants.length>0){const ot=Ee.variants.reduce((P,G)=>P+(G.stock||0),0),Et=Math.min(...Ee.variants.map(P=>P.price||0)),yt=Math.max(...Ee.variants.map(P=>P.price||0));return{...Ee.parent,isGrouped:!0,variantCount:Ee.variants.length,variants:Ee.variants,totalStock:ot,priceRange:Et===yt?Et:{min:Et,max:yt}}}return{...Ee.parent,isGrouped:!1,variants:[]}}),He=Re.length,Ue=Math.ceil(He/X),ye=(Q-1)*X,Ye=ye+X,Ae=Re.slice(ye,Ye),Le=de=>Ee=>{de(Ee),L(1)},he=de=>{I(Ee=>({...Ee,[de]:!Ee[de]}))},Pe=fe.filter(de=>de.source==="shopee").length,Me=fe.filter(de=>de.source==="lazada").length,$e=fe.filter(de=>de.source==="tokopedia").length,rt=fe.filter(de=>de.source==="tiktok").length,pt=Pe+Me+$e+rt,ut=fe.filter(de=>!["shopee","lazada","tokopedia","tiktok"].includes(de.source)).length,bt=de=>{p?(se(p.id,de),h(!1),m(null)):H(de)},It=de=>{m(de),h(!0)},St=de=>{confirm("Hapus produk ini?")&&ue(de)};return l.jsxs("div",{className:"p-6 space-y-6",children:[g&&O1&&l.jsx(BR,{onScan:Qe,onClose:()=>A(!1)}),k&&j&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Barcode Produk"}),l.jsx("button",{onClick:()=>E(!1),className:"text-gray-500",children:l.jsx(Zs,{size:24})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("p",{className:"font-medium",children:j.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",j.sku]})]}),l.jsx(b_,{value:j.barcode||j.sku,format:"code128"})]})}),D&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Preview Import"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:[R.length," produk akan diimport"]})]}),l.jsx("button",{onClick:()=>T(!1),className:"text-gray-500",children:l.jsx(Zs,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"#"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Nama"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Harga"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Stok"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map((de,Ee)=>{var at;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:Ee+1}),l.jsx("td",{className:"px-3 py-2 text-sm font-medium",children:de.name}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:de.sku}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:de.category}),l.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["Rp ",(at=de.price)==null?void 0:at.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-2 text-sm text-right",children:de.stock})]},Ee)})})]})}),l.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[l.jsx("button",{onClick:()=>T(!1),className:"btn btn-secondary flex-1",children:"Batal"}),l.jsx("button",{onClick:ke,disabled:_,className:"btn btn-success flex-1 disabled:opacity-50",children:_?"Memproses...":`Import ${R.length} Produk`})]})]})}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Master Produk"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Database produk lokal & Marketplace (tersimpan di perangkat)"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:ie,disabled:W,className:"btn btn-outline flex items-center gap-1 text-blue-600 border-blue-200 hover:bg-blue-50",title:"Upload data lokal ke Cloud",children:[l.jsx(ou,{size:18,className:W?"animate-bounce":""}),l.jsx("span",{className:"hidden md:inline",children:W?"Syncing...":"Sync Cloud"})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("button",{onClick:je,className:"btn btn-outline flex items-center gap-1",title:"Export ke CSV",children:[l.jsx(tl,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Export"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",id:"csv-import",accept:".csv",onChange:K,className:"hidden"}),l.jsxs("label",{htmlFor:"csv-import",className:"btn btn-outline flex items-center gap-1 cursor-pointer",title:"Import dari CSV",children:[l.jsx(cu,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Import"})]})]}),l.jsx("button",{onClick:be,className:"btn btn-outline flex items-center gap-1",title:"Download Template CSV",children:l.jsx(aR,{size:18})})]}),O1&&l.jsxs("button",{onClick:()=>A(!0),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(JT,{size:20}),"Scan"]}),l.jsxs("button",{onClick:()=>{m(null),h(!0)},className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Qs,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Tambah"})," Produk"]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a,onChange:de=>{n(de.target.value),L(1)},placeholder:"Cari produk (SKU, nama, barcode)...",className:"w-full pl-10 input"})]}),l.jsxs("select",{value:i,onChange:de=>Le(o)(de.target.value),className:"input w-full md:w-48",children:[l.jsx("option",{value:"all",children:"Semua Kategori"}),V.map(de=>l.jsx("option",{value:de,children:de},de))]}),l.jsxs("select",{value:d,onChange:de=>Le(u)(de.target.value),className:"input w-full md:w-52",children:[l.jsxs("option",{value:"all",children:["Semua (",fe.length,")"]}),l.jsxs("option",{value:"local",children:["Lokal (",ut,")"]}),l.jsxs("option",{value:"marketplace",children:["Marketplace (",pt,")"]}),Pe>0&&l.jsxs("option",{value:"shopee",children:[" Shopee (",Pe,")"]}),Me>0&&l.jsxs("option",{value:"lazada",children:[" Lazada (",Me,")"]}),$e>0&&l.jsxs("option",{value:"tokopedia",children:[" Tokopedia (",$e,")"]}),rt>0&&l.jsxs("option",{value:"tiktok",children:[" TikTok (",rt,")"]})]})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-14",children:"Foto"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-24",children:"SKU"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-20",children:"Kategori"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-16",children:"Tipe"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Modal"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Harga"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Margin"}),l.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-16",children:"Stok"}),l.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Status"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-16",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ae.map(de=>l.jsxs(l.Fragment,{children:[l.jsxs("tr",{className:`hover:bg-gray-50 ${de.isGrouped?"bg-blue-50/30":""}`,children:[l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[de.isGrouped?l.jsx("button",{onClick:()=>he(de.id),className:"p-1 hover:bg-blue-100 rounded transition-colors",title:B[de.id]?"Tutup varian":"Lihat varian",children:B[de.id]?l.jsx(yw,{size:18,className:"text-blue-600"}):l.jsx(Gm,{size:18,className:"text-blue-600"})}):l.jsx("div",{className:"w-6"}),l.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:[de.image?l.jsx("img",{src:de.image,alt:de.name,className:"w-full h-full object-cover",onError:Ee=>{Ee.target.style.display="none",Ee.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${de.image?"hidden":"flex"}`,children:l.jsx(lu,{size:16})})]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:de.sku||de.code,children:de.isGrouped?l.jsxs("span",{className:"text-gray-400 italic text-xs",children:[de.variantCount," varian"]}):l.jsx("span",{className:"truncate block",children:de.sku||(de.source==="shopee"?"-":de.code)})}),l.jsx("td",{className:"px-2 py-2",onClick:()=>de.isGrouped&&he(de.id),children:l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:de.name}),de.source==="shopee"&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(y1,{size:10}),"Shopee"]}),de.isGrouped&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:[de.variantCount," Varian"]}),!de.isGrouped&&l.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),It(de)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Produk",children:[l.jsx(Wo,{size:12}),"Edit"]})]})})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge badge-info text-xs",children:de.category})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:`badge text-xs ${de.isPackage?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:de.isPackage?"Paket":"Satuan"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600",children:de.isGrouped?"-":`Rp ${(de.costPrice||de.cost||0).toLocaleString("id-ID")}`}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold",children:de.isGrouped?typeof de.priceRange=="object"?l.jsxs("span",{className:"text-sm",children:["Rp ",de.priceRange.min.toLocaleString("id-ID")," - ",de.priceRange.max.toLocaleString("id-ID")]}):`Rp ${(de.priceRange||0).toLocaleString("id-ID")}`:`Rp ${(de.price||0).toLocaleString("id-ID")}`}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:de.isGrouped?l.jsx("span",{className:"text-gray-400",children:"-"}):l.jsxs("div",{children:[l.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",((de.price||0)-(de.costPrice||de.cost||0)).toLocaleString("id-ID")]}),(de.costPrice||de.cost)>0&&l.jsxs("p",{className:"text-xs text-gray-500",children:[(((de.price||0)-(de.costPrice||de.cost))/(de.costPrice||de.cost)*100).toFixed(1),"%"]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:l.jsx("span",{className:`font-semibold text-xs ${(de.isGrouped?de.totalStock:de.stock)<=(de.minStock||5)?"text-red-600":(de.isGrouped?de.totalStock:de.stock)<=(de.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:de.isGrouped?de.totalStock:de.stock||0})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:(de.isGrouped?de.totalStock:de.stock)<=(de.minStock||5)?l.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):l.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[de.barcode&&!de.isGrouped&&l.jsx("button",{onClick:()=>ze(de),className:"text-purple-600 hover:text-purple-700 p-1",title:"Lihat Barcode",children:l.jsx(pR,{size:14})}),!de.isGrouped&&l.jsx("button",{onClick:()=>It(de),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Produk",children:l.jsx(Wo,{size:14})}),de.source!=="shopee"&&!de.isGrouped&&l.jsx("button",{onClick:()=>St(de.id),className:"text-red-600 hover:text-red-700 p-1",title:"Hapus Produk",children:l.jsx(zn,{size:14})}),de.source==="shopee"&&l.jsx("a",{href:`https://shopee.co.id/product/${de.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 p-1",title:"Lihat di Shopee",children:l.jsx(X0,{size:14})})]})})]},de.id),de.isGrouped&&B[de.id]&&de.variants.map((Ee,at)=>l.jsxs("tr",{className:"bg-blue-50/50 hover:bg-blue-100/70 border-l-4 border-blue-300",children:[l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"flex items-center gap-1 pl-7",children:l.jsxs("div",{className:"w-8 h-8 rounded overflow-hidden bg-white border-2 border-blue-200 flex items-center justify-center",children:[Ee.image?l.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-full h-full object-cover",onError:ot=>{ot.target.style.display="none",ot.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${Ee.image?"hidden":"flex"}`,children:l.jsx(lu,{size:12})})]})})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:Ee.sku,children:l.jsx("span",{className:"bg-white px-1.5 py-0.5 rounded border border-blue-200",children:Ee.sku||"-"})}),l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-400 text-sm font-bold",children:""}),l.jsx("p",{className:"text-sm font-medium text-gray-800",children:Ee.variantName||Ee.name}),l.jsxs("span",{className:"text-xs text-gray-500 bg-white px-1.5 py-0.5 rounded border border-blue-200",children:["Varian ",at+1]}),l.jsxs("button",{onClick:()=>It(Ee),className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-blue-600 bg-white hover:bg-blue-50 rounded border border-blue-200",title:"Edit Varian",children:[l.jsx(Wo,{size:10}),"Edit"]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge badge-info text-xs",children:Ee.category})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge bg-gray-100 text-gray-600 text-xs",children:"Varian"})}),l.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600 text-xs",children:["Rp ",(Ee.costPrice||Ee.cost||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold text-xs",children:["Rp ",(Ee.price||0).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("span",{className:"font-semibold text-green-600 text-xs",children:["Rp ",((Ee.price||0)-(Ee.costPrice||Ee.cost||0)).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:l.jsx("span",{className:`font-semibold text-xs ${Ee.stock<=(Ee.minStock||5)?"text-red-600":Ee.stock<=(Ee.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:Ee.stock||0})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:Ee.stock<=(Ee.minStock||5)?l.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):l.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx("button",{onClick:()=>It(Ee),className:"text-blue-500 hover:text-blue-600 p-1",title:"Edit Varian",children:l.jsx(Wo,{size:14})}),Ee.source==="shopee"&&l.jsx("a",{href:`https://shopee.co.id/product/${Ee.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 p-1",title:"Lihat di Shopee",children:l.jsx(X0,{size:14})})]})})]},Ee.id))]}))})]})}),Ue>1&&l.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan ",l.jsx("span",{className:"font-medium",children:ye+1})," - ",l.jsx("span",{className:"font-medium",children:Math.min(Ye,He)})," dari ",l.jsx("span",{className:"font-medium",children:He})," produk"]}),l.jsxs("select",{value:X,onChange:de=>{le(Number(de.target.value)),L(1)},className:"input py-1 px-2 text-sm",children:[l.jsx("option",{value:10,children:"10 per halaman"}),l.jsx("option",{value:20,children:"20 per halaman"}),l.jsx("option",{value:50,children:"50 per halaman"}),l.jsx("option",{value:100,children:"100 per halaman"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>L(1),disabled:Q===1,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pertama"}),l.jsx("button",{onClick:()=>L(de=>Math.max(1,de-1)),disabled:Q===1,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:" Prev"}),l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ue)},(de,Ee)=>{let at;return Ue<=5||Q<=3?at=Ee+1:Q>=Ue-2?at=Ue-4+Ee:at=Q-2+Ee,l.jsx("button",{onClick:()=>L(at),className:`px-3 py-1 text-sm border rounded ${Q===at?"bg-primary text-white border-primary":"hover:bg-gray-50"}`,children:at},at)})}),l.jsx("button",{onClick:()=>L(de=>Math.min(Ue,de+1)),disabled:Q===Ue,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "}),l.jsx("button",{onClick:()=>L(Ue),disabled:Q===Ue,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Terakhir"})]})]})]}),f&&l.jsx(XF,{product:p,categories:V,onClose:()=>{h(!1),m(null)},onSubmit:bt,onManageCategories:()=>y(!0),onManageUnits:()=>v(!0)}),x&&l.jsx(ZF,{categories:V,onClose:()=>y(!1)}),w&&l.jsx(eP,{onClose:()=>v(!1)})]})}function XF({product:a,categories:n,onClose:i,onSubmit:o,onManageCategories:d,onManageUnits:u}){const{products:f,units:h}=is(),[p,m]=ne.useState(!1),[x,y]=ne.useState(!1),[w,v]=ne.useState(null),[g,A]=ne.useState(a||{sku:Xl(),name:"",category:n[0],costPrice:"",price:"",stock:"",minStock:"",unit:"pcs",barcode:Zl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),[k,E]=ne.useState(!1),[j,N]=ne.useState(""),[B,I]=ne.useState(!1),D=V=>V.replace(/\b\w/g,H=>H.toUpperCase()),T=V=>V.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),R=V=>parseInt(V.toString().replace(/\D/g,""))||0,$=(V,H)=>{const se=V.target.files[0];if(se){const ue=new FileReader;ue.onloadend=()=>{const U=[...g.photos||[]];U[H]=ue.result,A({...g,photos:U})},ue.readAsDataURL(se)}},_=V=>{const H=[...g.photos||[]];H[V]=null,A({...g,photos:H})},F=async V=>{V.preventDefault();const H=g.hasVariants&&g.variants?g.variants.reduce((K,ke)=>K+parseInt(ke.stock||0),0):0,se=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((K,ke)=>{const je=parseInt(ke.stock||0),Qe=parseFloat(ke.costPrice||0);return K+je*Qe},0)/(H||1):0,ue=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((K,ke)=>{const je=parseInt(ke.stock||0),Qe=parseFloat(ke.price||0);return K+je*Qe},0)/(H||1):0;let U=parseFloat(g.costPrice)||0,W=parseFloat(g.price)||0,re=parseInt(g.stock)||0,ie=parseInt(g.minStock)||0;g.isPackage&&g.packageItems&&g.packageItems.length>0&&(U=g.packageItems.reduce((K,ke)=>{const je=f.find(Qe=>Qe.id===ke.id);return K+((je==null?void 0:je.costPrice)||0)*ke.qty},0)),g.hasVariants&&g.variants&&g.variants.length>0&&(re=H,U=se,W=ue,ie=fe);const be={...g,costPrice:U,price:W,stock:re,minStock:ie};if(p&&a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)){y(!0);const K=a.source.charAt(0).toUpperCase()+a.source.slice(1);v({type:"info",text:`Menyinkronkan ke ${K}...`}),console.log(" Starting marketplace sync...",{platform:a.source,productId:a.shopeeItemId||a.lazadaItemId||a.tokopediaProductId||a.tiktokProductId,updates:{name:g.name,price:W,stock:re,sku:g.sku}});try{let ke=null;const je=JSON.parse(localStorage.getItem("marketplace_stores")||"[]");if(console.log(" Checking marketplace_stores array:",je),ke=je.find(Re=>Re.platform===a.source&&Re.isActive),!ke&&a.source==="shopee"){console.log(" Trying to read Shopee from localStorage with user-specific keys...");const{user:Re}=Ei.getState(),He=(Re==null?void 0:Re.id)||"default",Ue=he=>`${he}_user_${He}`,ye=localStorage.getItem(Ue("shopee_partner_id")),Ye=localStorage.getItem(Ue("shopee_partner_key")),Ae=localStorage.getItem(Ue("shopee_shop_id")),Le=localStorage.getItem(Ue("shopee_access_token"));if(console.log(" User ID:",He),console.log(" Shopee credentials from localStorage:",{partnerId:ye?` ${ye}`:" Not found",partnerKey:Ye?" Found":" Not found",shopId:Ae?` ${Ae}`:" Not found",accessToken:Le?" Found":" Not found"}),ye&&Ye&&Ae&&Le)ke={platform:"shopee",shopId:Ae,shopName:(Re==null?void 0:Re.name)||"Shopee Store",isActive:!0,credentials:{partnerId:ye,partnerKey:Ye,accessToken:Le}},console.log(" Successfully built store object from localStorage:",ke);else{console.error(" Missing Shopee credentials in localStorage with user-specific keys"),console.log(" Trying to read Shopee from Supabase...");try{const{createClient:he}=await bo(async()=>{const{createClient:$e}=await Promise.resolve().then(()=>ET);return{createClient:$e}},void 0),Pe="https://naydyhkqodppdhzwkctr.supabase.co",Me="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c";if(Pe&&Me&&Pe!=="your-supabase-url"){const $e=he(Pe,Me),{data:rt,error:pt}=await $e.from("shopee_tokens").select("*").limit(1).maybeSingle();!pt&&rt?(ke={platform:"shopee",shopId:rt.shop_id,shopName:(Re==null?void 0:Re.name)||"Shopee Store",isActive:!0,credentials:{partnerId:rt.partner_id,partnerKey:rt.partner_key,accessToken:rt.access_token}},console.log(" Successfully built store object from Supabase:",ke)):pt?console.error(" Failed to get Shopee credentials from Supabase:",pt.message):console.warn(" No Shopee credentials found in Supabase")}}catch(he){console.error(" Error reading from Supabase:",he.message)}}}if(console.log(" Final store data:",ke?"Found":"Not found",ke),!ke){const Re=`Toko ${K} tidak ditemukan atau tidak aktif`;y(!1),v({type:"error",text:` ${Re}`}),alert(` Gagal Update ke ${K}

${Re}

Silakan cek koneksi marketplace di Pengaturan.`),setTimeout(()=>v(null),5e3),o(be);return}const Qe={name:g.name,price:W,stock:re,sku:g.sku};let ze,tt;a.source==="shopee"?(ze=a.shopeeItemId,tt=a.shopeeModelId):a.source==="lazada"?(ze=a.lazadaItemId,tt=a.lazadaSkuId):a.source==="tokopedia"?(ze=a.tokopediaProductId,tt=null):a.source==="tiktok"&&(ze=a.tiktokProductId,tt=null),console.log(" Calling marketplace API...",{productId:ze,variantId:tt,updates:Qe});const Ze=await Os.updateProduct(ke,ze,tt,Qe);if(console.log(" API Response:",Ze),y(!1),Ze.success){const Re=` Berhasil update ke ${K}!`;v({type:"success",text:Re}),alert(`${Re}

 Nama: ${g.name}
 Harga: Rp ${W.toLocaleString("id-ID")}
 Stok: ${re}
 SKU: ${g.sku}`)}else{const Re=Ze.error||"Unknown error";v({type:"error",text:` Gagal update: ${Re}`}),alert(` Gagal Update ke ${K}

${Re}

Data lokal tetap tersimpan.`)}}catch(ke){console.error(" Marketplace sync error:",ke),y(!1);const je=ke.message||"Unknown error";v({type:"error",text:` Gagal update: ${je}`}),alert(` Gagal Update ke ${K}

${je}

Data lokal tetap tersimpan.`)}setTimeout(()=>v(null),1e4)}o(be),a||(A({sku:Xl(),name:"",category:n[0]||"",costPrice:"",price:"",stock:"",minStock:"",unit:h[0]||"pcs",barcode:Zl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),N(""))},Q=g.isPackage&&g.packageItems?g.packageItems.reduce((V,H)=>{const se=f.find(ue=>ue.id===H.id);return V+((se==null?void 0:se.costPrice)||0)*H.qty},0):0,L=g.hasVariants&&g.variants?g.variants.reduce((V,H)=>V+parseInt(H.stock||0),0):0,X=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((V,H)=>V+parseFloat(H.costPrice||0)*parseInt(H.stock||0),0)/L:0,le=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((V,H)=>V+parseFloat(H.price||0)*parseInt(H.stock||0),0)/L:0,fe=g.hasVariants&&g.variants&&g.variants.length>0?g.variants.reduce((V,H)=>V+parseInt(H.minStock||0),0):0;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Produk":"Tambah Produk Baru"}),(a==null?void 0:a.source)==="shopee"&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(y1,{size:12}),"Shopee"]})]}),l.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),w&&l.jsx("div",{className:`mx-6 mt-4 p-3 rounded-lg text-sm ${w.type==="success"?"bg-green-50 text-green-800 border border-green-200":w.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:w.text}),a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)&&l.jsxs("div",{className:"mx-6 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:V=>m(V.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cu,{size:18,className:"text-blue-600"}),l.jsxs("span",{className:"font-medium text-blue-800",children:["Update juga ke ",a.source.charAt(0).toUpperCase()+a.source.slice(1)]})]})]}),l.jsx("p",{className:"text-xs text-blue-600 mt-2 ml-8",children:"Nama, harga, stok, dan SKU akan diperbarui di marketplace saat menyimpan"})]}),l.jsxs("form",{onSubmit:F,className:"p-6 space-y-4 overflow-y-auto flex-1",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Produk *"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:g.sku,onChange:V=>A({...g,sku:V.target.value}),className:"input flex-1",placeholder:"SJA123456",required:!0}),l.jsx("button",{type:"button",onClick:()=>A({...g,sku:Xl()}),className:"btn btn-secondary",title:"Generate SKU",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: SJA + 6 angka"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:g.barcode,onChange:V=>A({...g,barcode:V.target.value}),className:"input flex-1",placeholder:"123456789"}),l.jsx("button",{type:"button",onClick:()=>A({...g,barcode:Zl()}),className:"btn btn-secondary",title:"Generate Barcode",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 digit angka"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Produk *"}),l.jsx("input",{type:"text",value:g.name,onChange:V=>A({...g,name:D(V.target.value)}),className:"input",placeholder:"Nama Lengkap Produk",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Produk *"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",checked:!g.isPackage,onChange:()=>A({...g,isPackage:!1,packageItems:[]}),className:"w-4 h-4"}),l.jsx("span",{children:"Produk Satuan"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",checked:g.isPackage,onChange:()=>A({...g,isPackage:!0}),className:"w-4 h-4"}),l.jsx("span",{children:"Produk Paket"})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.isPackage?"Paket berisi beberapa produk bundling":"Produk dijual satuan"})]}),g.isPackage&&l.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Isi Paket Bundling"}),l.jsxs("button",{type:"button",onClick:()=>E(!k),className:"btn btn-primary btn-sm",children:[l.jsx(Qs,{size:16}),"Tambah Produk"]})]}),k&&l.jsxs("div",{className:"mb-4 bg-white rounded-lg p-3 border",children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",value:j,onChange:V=>N(V.target.value),placeholder:"Cari produk untuk ditambahkan ke paket...",className:"input w-full pl-10 text-sm"})]}),l.jsx("div",{className:"overflow-x-auto max-h-64 overflow-y-auto border rounded",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"SKU"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Nama Produk"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Modal"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Jual"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y",children:f.filter(V=>!V.isPackage&&V.id!==(a==null?void 0:a.id)).filter(V=>!j||V.name.toLowerCase().includes(j.toLowerCase())||V.sku&&V.sku.toLowerCase().includes(j.toLowerCase())||V.code&&V.code.toLowerCase().includes(j.toLowerCase())).map(V=>{var se;const H=(se=g.packageItems)==null?void 0:se.find(ue=>ue.id===V.id);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:V.sku||V.code}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:V.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Stok: ",V.stock," ",V.unit]})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:"text-xs badge badge-info",children:V.category})}),l.jsxs("td",{className:"px-3 py-2 text-right text-gray-600",children:["Rp ",(V.costPrice||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-3 py-2 text-right font-semibold",children:["Rp ",V.price.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-2",children:H?l.jsx("input",{type:"number",min:"1",value:H.qty,onChange:ue=>{const U=g.packageItems.map(W=>W.id===V.id?{...W,qty:parseInt(ue.target.value)||1}:W);A({...g,packageItems:U})},className:"input input-sm w-16 text-center",onClick:ue=>ue.stopPropagation()}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),l.jsx("td",{className:"px-3 py-2 text-center",children:H?l.jsx("button",{type:"button",onClick:()=>{A({...g,packageItems:g.packageItems.filter(ue=>ue.id!==V.id)})},className:"text-red-600 hover:text-red-700",title:"Hapus dari paket",children:l.jsx(zn,{size:16})}):l.jsx("button",{type:"button",onClick:()=>{A({...g,packageItems:[...g.packageItems||[],{id:V.id,name:V.name,sku:V.sku||V.code,costPrice:V.costPrice||0,price:V.price,qty:1}]})},className:"text-green-600 hover:text-green-700",title:"Tambah ke paket",children:l.jsx(Qs,{size:16})})})]},V.id)})})]})})]}),g.packageItems&&g.packageItems.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-purple-900",children:["Produk dalam Paket (",g.packageItems.length,"):"]}),g.packageItems.map((V,H)=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:V.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[V.sku,"  ",V.qty,"x"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right text-sm",children:[l.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",((V.costPrice||0)*V.qty).toLocaleString("id-ID")]}),l.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",(V.price*V.qty).toLocaleString("id-ID")]})]}),l.jsx("button",{type:"button",onClick:()=>{A({...g,packageItems:g.packageItems.filter((se,ue)=>ue!==H)})},className:"text-red-600 hover:text-red-700",children:l.jsx(Zs,{size:16})})]})]},V.id)),l.jsxs("div",{className:"bg-purple-100 p-4 rounded border border-purple-300 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-purple-900",children:"Total Modal Paket:"}),l.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["Rp ",Q.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-purple-900",children:"Total Nilai Jual:"}),l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["Rp ",g.packageItems.reduce((V,H)=>V+H.price*H.qty,0).toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-purple-300",children:[l.jsx("span",{className:"font-bold text-purple-900",children:"Margin Paket:"}),l.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",(g.packageItems.reduce((V,H)=>V+H.price*H.qty,0)-Q).toLocaleString("id-ID")]})]}),l.jsx("p",{className:"text-xs text-purple-700 mt-2",children:" Anda bisa set harga jual paket berbeda dari total nilai produk"})]})]}):l.jsxs("div",{className:"text-center py-6 text-gray-500",children:[l.jsx(zs,{size:48,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"Belum ada produk dalam paket"}),l.jsx("p",{className:"text-xs",children:'Klik "Tambah Produk" untuk memulai'})]})]}),l.jsxs("div",{className:"border-2 border-dashed border-indigo-300 rounded-lg p-4 bg-indigo-50",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"hasVariants",checked:g.hasVariants,onChange:V=>{A({...g,hasVariants:V.target.checked,variants:V.target.checked?g.variants:[]})},className:"w-4 h-4"}),l.jsx("label",{htmlFor:"hasVariants",className:"font-semibold text-indigo-900",children:"Produk Memiliki Varian"})]})}),g.hasVariants&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{type:"button",onClick:()=>I(!0),className:"btn btn-primary btn-sm",children:[l.jsx(Qs,{size:16}),"Tambah Varian"]}),g.variants&&g.variants.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-indigo-900",children:["Varian Tersedia (",g.variants.length,"):"]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:g.variants.map((V,H)=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:V.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",V.sku,"  Barcode: ",V.barcode]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right text-sm",children:[l.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",V.costPrice.toLocaleString("id-ID")]}),l.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",V.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs text-blue-600",children:["Stok: ",V.stock]})]}),l.jsx("button",{type:"button",onClick:()=>{A({...g,variants:g.variants.filter((se,ue)=>ue!==H)})},className:"text-red-600 hover:text-red-700",children:l.jsx(Zs,{size:16})})]})]},H))}),l.jsx("div",{className:"bg-indigo-100 p-4 rounded border border-indigo-300",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-indigo-900",children:"Total Stok Semua Varian:"}),l.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[g.variants.reduce((V,H)=>V+parseInt(H.stock||0),0)," pcs"]})]})})]}):l.jsxs("div",{className:"text-center py-6 text-gray-500 bg-white rounded border border-dashed",children:[l.jsx(zs,{size:48,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"Belum ada varian"}),l.jsx("p",{className:"text-xs",children:'Klik "Tambah Varian" untuk memulai'})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Foto Produk (Maksimal 3)"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[0,1,2].map(V=>{var H;return l.jsx("div",{className:"relative",children:(H=g.photos)!=null&&H[V]?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:g.photos[V],alt:`Foto ${V+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-300"}),l.jsx("button",{type:"button",onClick:()=>_(V),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Zs,{size:16})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(lu,{size:32,className:"text-gray-400 mb-2"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Upload Foto ",V+1]}),l.jsx("input",{type:"file",accept:"image/*",onChange:se=>$(se,V),className:"hidden"})]})},V)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Kategori *"}),l.jsx("button",{type:"button",onClick:d,className:"text-xs text-primary hover:underline",children:"Kelola Kategori"})]}),l.jsx("select",{value:g.category,onChange:V=>A({...g,category:V.target.value}),className:"input",required:!0,children:n.map(V=>l.jsx("option",{value:V,children:V},V))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Satuan *"}),l.jsx("button",{type:"button",onClick:u,className:"text-xs text-primary hover:underline",children:"Kelola Satuan"})]}),l.jsxs("select",{value:g.unit,onChange:V=>A({...g,unit:V.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"pcs",children:"Pcs"}),l.jsx("option",{value:"kg",children:"Kg"}),l.jsx("option",{value:"liter",children:"Liter"}),l.jsx("option",{value:"box",children:"Box"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"lusin",children:"Lusin"}),l.jsx("option",{value:"gross",children:"Gross"}),l.jsx("option",{value:"roll",children:"Roll"}),l.jsx("option",{value:"porsi",children:"Porsi"}),l.jsx("option",{value:"gelas",children:"Gelas"}),l.jsx("option",{value:"paket",children:"Paket"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal *",g.isPackage&&l.jsx("span",{className:"text-purple-600 text-xs ml-2",children:"(Otomatis dari isi paket)"}),g.hasVariants&&g.variants&&g.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:g.isPackage?T(Q):g.hasVariants&&g.variants&&g.variants.length>0?T(Math.round(X)):T(g.costPrice||""),onChange:V=>A({...g,costPrice:R(V.target.value)}),className:"input pl-10",placeholder:"0",disabled:g.isPackage||g.hasVariants&&g.variants&&g.variants.length>0,required:!0})]}),!g.isPackage&&!g.hasVariants&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Harga beli/modal produk"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual *",g.isPackage&&g.costPrice&&l.jsxs("span",{className:"text-green-600 text-xs ml-2",children:["(Margin: Rp ",(parseFloat(g.price||0)-Q).toLocaleString("id-ID"),")"]}),g.hasVariants&&g.variants&&g.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:g.hasVariants&&g.variants&&g.variants.length>0?T(Math.round(le)):T(g.price||""),onChange:V=>A({...g,price:R(V.target.value)}),className:"input pl-10",placeholder:"0",disabled:g.hasVariants&&g.variants&&g.variants.length>0,required:!0})]}),!g.isPackage&&!g.hasVariants&&g.costPrice&&g.price&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Margin: Rp ",(parseFloat(g.price)-parseFloat(g.costPrice)).toLocaleString("id-ID")," ","(",((parseFloat(g.price)-parseFloat(g.costPrice))/parseFloat(g.costPrice)*100).toFixed(1),"%)"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok *",g.hasVariants&&g.variants&&g.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),l.jsx("input",{type:"number",value:g.hasVariants&&g.variants&&g.variants.length>0?L:g.stock,onChange:V=>{g.hasVariants&&g.variants&&g.variants.length>0||A({...g,stock:V.target.value})},className:`input ${g.hasVariants&&g.variants&&g.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:g.hasVariants&&g.variants&&g.variants.length>0,required:!(g.hasVariants&&g.variants&&g.variants.length>0)})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Minimum *",g.hasVariants&&g.variants&&g.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),l.jsx("input",{type:"number",value:g.hasVariants&&g.variants&&g.variants.length>0?fe:g.minStock,onChange:V=>{g.hasVariants&&g.variants&&g.variants.length>0||A({...g,minStock:V.target.value})},className:`input ${g.hasVariants&&g.variants&&g.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:g.hasVariants&&g.variants&&g.variants.length>0,required:!(g.hasVariants&&g.variants&&g.variants.length>0)})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary flex items-center justify-center gap-2",disabled:x,children:x?l.jsxs(l.Fragment,{children:[l.jsx(ii,{size:18,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[p&&a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)&&l.jsx(cu,{size:18}),a?"Update Produk":"Simpan Produk",p&&a&&["shopee","lazada","tokopedia","tiktok"].includes(a.source)&&" + Sync"]})}),l.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]}),B&&l.jsx(tP,{productName:g.name||"Produk Baru",onClose:()=>I(!1),onAdd:V=>{A({...g,variants:[...g.variants||[],V]}),alert("Varian berhasil ditambahkan!")}})]})})}function ZF({categories:a,onClose:n}){const[i,o]=ne.useState(a),[d,u]=ne.useState(""),{addCategory:f,removeCategory:h}=is(),p=()=>{d.trim()&&(f(d.trim()),o([...i,d.trim()]),u(""))},m=x=>{confirm(`Hapus kategori "${x}"?`)&&(h(x),o(i.filter(y=>y!==x)))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Kategori"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Nama kategori baru...",className:"input flex-1"}),l.jsx("button",{onClick:p,className:"btn btn-primary",children:l.jsx(Qs,{size:20})})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:i.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:x}),l.jsx("button",{onClick:()=>m(x),className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:18})})]},x))}),l.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function eP({onClose:a}){const{units:n,addUnit:i,removeUnit:o}=is(),[d,u]=ne.useState(""),f=()=>{d.trim()&&!n.includes(d.trim())&&(i(d.trim()),u(""))},h=p=>{confirm(`Hapus satuan "${p}"?`)&&o(p)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Satuan"}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:p=>u(p.target.value),onKeyPress:p=>p.key==="Enter"&&f(),placeholder:"Nama satuan baru...",className:"input flex-1"}),l.jsx("button",{onClick:f,className:"btn btn-primary",children:l.jsx(Qs,{size:20})})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:p}),l.jsx("button",{onClick:()=>h(p),className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:16})})]},p))})}),l.jsx("button",{onClick:a,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function tP({onClose:a,onAdd:n,productName:i}){const[o,d]=ne.useState({name:"",sku:Xl(),barcode:Zl(),costPrice:"",price:"",stock:"",minStock:""}),u=f=>{f.preventDefault(),n({...o,costPrice:parseFloat(o.costPrice)||0,price:parseFloat(o.price)||0,stock:parseInt(o.stock)||0,minStock:parseInt(o.minStock)||0}),d({name:"",sku:Xl(),barcode:Zl(),costPrice:"",price:"",stock:"",minStock:""})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Tambah Varian Produk"}),l.jsx("p",{className:"text-sm text-gray-600",children:i})]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nama Varian ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:o.name,onChange:f=>d({...o,name:capitalizeWords(f.target.value)}),placeholder:"Contoh: Hitam - XL, Rasa Coklat, 500ml",className:"input",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tips: Gabungkan warna/ukuran/rasa dalam satu nama varian"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Varian"}),l.jsx("input",{type:"text",value:o.sku,onChange:f=>d({...o,sku:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),l.jsx("input",{type:"text",value:o.barcode,onChange:f=>d({...o,barcode:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:formatRupiah(o.costPrice||""),onChange:f=>d({...o,costPrice:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:formatRupiah(o.price||""),onChange:f=>d({...o,price:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Awal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:o.stock,onChange:f=>d({...o,stock:f.target.value}),className:"input",placeholder:"0",required:!0,min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stok Minimum"}),l.jsx("input",{type:"number",value:o.minStock,onChange:f=>d({...o,minStock:f.target.value}),className:"input",placeholder:"0",min:"0"})]})]}),o.costPrice&&o.price&&l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-blue-900",children:"Margin Varian:"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rp ",(parseFloat(o.price)-parseFloat(o.costPrice)).toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[((parseFloat(o.price)-parseFloat(o.costPrice))/parseFloat(o.costPrice)*100).toFixed(1),"%"]})]})]})}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:a,className:"btn btn-secondary flex-1",children:"Batal"}),l.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",children:[l.jsx(Qs,{size:20}),"Tambah Varian"]})]})]})]})})}function rP(){const[a,n]=ne.useState("overview"),{products:i,updateStock:o,getLowStockProducts:d,stockHistory:u}=is(),{user:f}=Ei(),h=d(),p=i.reduce((x,y)=>x+y.price*y.stock,0),m=[{id:"overview",label:"Overview"},{id:"adjustment",label:"Penyesuaian Stok"},{id:"history",label:"Riwayat Stok"},{id:"opname",label:"Stock Opname"},{id:"transfer",label:"Transfer Stok"}];return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Stok"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor dan kelola stok barang"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Item"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:i.length})]}),l.jsx(zs,{className:"text-primary",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Stok"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",(p/1e6).toFixed(1),"M"]})]}),l.jsx(c2,{className:"text-success",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Stok Rendah"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:h.length})]}),l.jsx(iu,{className:"text-warning",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Stok"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:i.reduce((x,y)=>x+y.stock,0)})]}),l.jsx(zs,{className:"text-info",size:40})]})})]}),l.jsx("div",{className:"border-b",children:l.jsx("div",{className:"flex gap-4",children:m.map(x=>l.jsx("button",{onClick:()=>n(x.id),className:`px-4 py-2 font-medium border-b-2 transition-colors ${a===x.id?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"}`,children:x.label},x.id))})}),a==="overview"&&l.jsx(aP,{products:i}),a==="adjustment"&&l.jsx(sP,{products:i,updateStock:o,user:f}),a==="history"&&l.jsx(nP,{stockHistory:u||[]}),a==="opname"&&l.jsx(iP,{products:i}),a==="transfer"&&l.jsx(oP,{products:i})]})}function aP({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Stok Produk"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min Stok"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:a.map(n=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("p",{className:"font-medium",children:n.name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.code})]}),l.jsx("td",{className:"px-6 py-4",children:n.category}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:[n.stock," ",n.unit]}),l.jsxs("td",{className:"px-6 py-4 text-right text-gray-600",children:[n.minStock," ",n.unit]}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:["Rp ",(n.price*n.stock).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 text-center",children:n.stock<=n.minStock?l.jsx("span",{className:"badge badge-danger",children:"Rendah"}):n.stock<=n.minStock*2?l.jsx("span",{className:"badge badge-warning",children:"Perhatian"}):l.jsx("span",{className:"badge badge-success",children:"Aman"})})]},n.id))})]})})]})}function sP({products:a,updateStock:n,user:i}){const[o,d]=ne.useState(""),[u,f]=ne.useState(""),[h,p]=ne.useState("add"),[m,x]=ne.useState(""),[y,w]=ne.useState("adjustment"),v=[{value:"adjustment",label:"Penyesuaian Manual"},{value:"purchase",label:"Pembelian/Restock"},{value:"return",label:"Retur Barang"},{value:"damage",label:"Barang Rusak/Expired"},{value:"sync_marketplace",label:"Sinkronisasi Marketplace"}],g=A=>{var k;A.preventDefault(),!(!o||!u)&&(n(o,parseInt(u),h,y,m||((k=v.find(E=>E.value===y))==null?void 0:k.label),i==null?void 0:i.id),alert("Stok berhasil disesuaikan"),d(""),f(""),x(""))};return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Penyesuaian Stok Manual"}),l.jsxs("form",{onSubmit:g,className:"space-y-4 max-w-2xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pilih Produk"}),l.jsxs("select",{value:o,onChange:A=>d(A.target.value),className:"input",required:!0,children:[l.jsx("option",{value:"",children:"-- Pilih Produk --"}),a.map(A=>l.jsxs("option",{value:A.id,children:[A.name," - Stok: ",A.stock," ",A.unit]},A.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operasi"}),l.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"input",children:[l.jsx("option",{value:"add",children:"Tambah Stok"}),l.jsx("option",{value:"subtract",children:"Kurangi Stok"}),l.jsx("option",{value:"set",children:"Set Stok"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah"}),l.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"input",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Penyesuaian"}),l.jsx("select",{value:y,onChange:A=>w(A.target.value),className:"input",children:v.map(A=>l.jsx("option",{value:A.value,children:A.label},A.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan (Opsional)"}),l.jsx("textarea",{value:m,onChange:A=>x(A.target.value),className:"input",rows:"3",placeholder:"Catatan tambahan..."})]}),l.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(ii,{size:20}),"Sesuaikan Stok"]})]})]})}function nP({stockHistory:a}){const[n,i]=ne.useState("all"),[o,d]=ne.useState(""),u={sale:{label:"Penjualan",color:"text-red-600 bg-red-50"},purchase:{label:"Pembelian",color:"text-green-600 bg-green-50"},adjustment:{label:"Penyesuaian",color:"text-blue-600 bg-blue-50"},sync_marketplace:{label:"Sync Marketplace",color:"text-purple-600 bg-purple-50"},return:{label:"Retur",color:"text-orange-600 bg-orange-50"},damage:{label:"Rusak/Expired",color:"text-gray-600 bg-gray-100"}},f=a.filter(h=>{var x,y;const p=n==="all"||h.type===n,m=!o||((x=h.productName)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))||((y=h.productSku)==null?void 0:y.toLowerCase().includes(o.toLowerCase()));return p&&m});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(nR,{size:20}),"Riwayat Perubahan Stok"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," total records"]})]}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("input",{type:"text",placeholder:"Cari produk...",value:o,onChange:h=>d(h.target.value),className:"input flex-1 max-w-xs"}),l.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"input",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"sale",children:"Penjualan"}),l.jsx("option",{value:"purchase",children:"Pembelian"}),l.jsx("option",{value:"adjustment",children:"Penyesuaian"}),l.jsx("option",{value:"sync_marketplace",children:"Sync Marketplace"}),l.jsx("option",{value:"return",children:"Retur"})]})]}),f.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada riwayat perubahan stok"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Waktu"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Lama"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Perubahan"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Baru"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catatan"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:f.slice(0,100).map(h=>{const p=u[h.type]||{label:h.type,color:"text-gray-600 bg-gray-50"};return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(h.createdAt).toLocaleString("id-ID")}),l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("p",{className:"font-medium text-gray-900",children:h.productName}),l.jsx("p",{className:"text-xs text-gray-500",children:h.productSku})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.color}`,children:p.label})}),l.jsx("td",{className:"px-4 py-3 text-right text-sm",children:h.oldStock}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`font-medium ${h.change>0?"text-green-600":h.change<0?"text-red-600":"text-gray-600"}`,children:[h.change>0?"+":"",h.change]})}),l.jsx("td",{className:"px-4 py-3 text-right font-medium",children:h.newStock}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:h.note||"-"})]},h.id)})})]})})]})}function iP({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stock Opname"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur stock opname untuk penghitungan fisik stok akan segera hadir."}),l.jsx("button",{className:"btn btn-primary",children:"Mulai Stock Opname"})]})}function oP({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transfer Stok Antar Gudang"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur transfer stok untuk multi-gudang akan segera hadir."}),l.jsx("button",{className:"btn btn-primary",children:"Transfer Stok"})]})}const T3=z1(L1(a=>({suppliers:[],purchases:[],addSupplier:n=>{a(i=>({suppliers:[...i.suppliers,{...n,id:Date.now()}]}))},updateSupplier:(n,i)=>{a(o=>({suppliers:o.suppliers.map(d=>d.id===n?{...d,...i}:d)}))},deleteSupplier:n=>{a(i=>({suppliers:i.suppliers.filter(o=>o.id!==n)}))},addPurchase:n=>{a(i=>({purchases:[...i.purchases,{...n,id:`PO${String(i.purchases.length+1).padStart(3,"0")}`}]}))},updatePurchase:(n,i)=>{a(o=>({purchases:o.purchases.map(d=>d.id===n?{...d,...i}:d)}))},deletePurchase:n=>{a(i=>({purchases:i.purchases.filter(o=>o.id!==n)}))}}),{name:"purchase-storage"}));function lP(){const[a,n]=ne.useState(!1),[i,o]=ne.useState(!1),[d,u]=ne.useState(null),{purchases:f,suppliers:h,addPurchase:p,updatePurchase:m,deletePurchase:x,addSupplier:y}=T3(),{products:w,updateStock:v}=is(),{user:g}=Ei(),A=()=>{u(null),n(!0)},k=I=>{u(I),n(!0)},E=I=>{confirm("Hapus pembelian ini?")&&x(I)},j=I=>{d?m(d.id,I):(p(I),I.items.forEach(D=>{w.find(R=>R.id===D.productId)&&v(D.productId,D.qty,"add","purchase",`PO: ${I.poNumber||"Manual"}`,g==null?void 0:g.id)})),n(!1),u(null)},N=I=>({pending:"badge badge-warning",received:"badge badge-success",partial:"badge badge-info",cancelled:"badge badge-danger"})[I]||"badge",B=I=>({pending:"Pending",received:"Diterima",partial:"Sebagian",cancelled:"Dibatalkan"})[I]||I;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pembelian"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola pembelian barang dari supplier"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(j3,{size:20}),"Kelola Supplier"]}),l.jsxs("button",{onClick:A,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Qs,{size:20}),"Buat Purchase Order"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchase Order"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:f.filter(I=>I.status==="pending").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Diterima"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:f.filter(I=>I.status==="received").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Supplier"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:h.length})]})]}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:f.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[l.jsx(zs,{size:48,className:"mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg font-medium",children:"Belum ada purchase order"}),l.jsx("p",{className:"text-sm mt-1",children:'Klik "Buat Purchase Order" untuk menambah pembelian baru'})]})}):f.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:I.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(I.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(j3,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium",children:I.supplierName})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zs,{size:16,className:"text-gray-400"}),l.jsxs("span",{children:[I.items.length," item"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-primary",children:["Rp ",I.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:N(I.status),children:B(I.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>k(I),className:"text-primary hover:text-blue-700",children:l.jsx(Wo,{size:18})}),l.jsx("button",{onClick:()=>E(I.id),className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:18})})]})]},I.id))})]})})}),a&&l.jsx(cP,{purchase:d,suppliers:h,products:w,onClose:()=>{n(!1),u(null)},onSubmit:j}),i&&l.jsx(dP,{suppliers:h,onClose:()=>o(!1),onAdd:y})]})}function cP({purchase:a,suppliers:n,products:i,onClose:o,onSubmit:d}){const[u,f]=ne.useState(a||{supplier:null,items:[],date:new Date().toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ne.useState(""),[m,x]=ne.useState(1),[y,w]=ne.useState(!1),v=ne.useRef(null);ne.useEffect(()=>{function I(D){v.current&&!v.current.contains(D.target)&&w(!1)}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const g=i.filter(I=>h&&(I.name.toLowerCase().includes(h.toLowerCase())||I.sku&&I.sku.toLowerCase().includes(h.toLowerCase()))),A=I=>{if(!I)return;const D=u.items.find(T=>T.productId===I.id);f(D?{...u,items:u.items.map(T=>T.productId===I.id?{...T,qty:T.qty+m}:T)}:{...u,items:[...u.items,{productId:I.id,name:I.name,sku:I.sku,costPrice:I.costPrice||0,qty:m}]}),p(""),w(!1),x(1)},k=(I,D)=>{f({...u,items:u.items.map(T=>T.productId===I?{...T,qty:parseInt(D)||1}:T)})},E=(I,D)=>{f({...u,items:u.items.map(T=>T.productId===I?{...T,costPrice:parseFloat(D)||0}:T)})},j=I=>{f({...u,items:u.items.filter(D=>D.productId!==I)})},N=()=>u.items.reduce((I,D)=>I+D.costPrice*D.qty,0),B=I=>{if(I.preventDefault(),!u.supplier){alert("Pilih supplier terlebih dahulu");return}if(u.items.length===0){alert("Tambahkan minimal 1 produk");return}const D=n.find(T=>T.id===parseInt(u.supplier));d({...u,supplierName:(D==null?void 0:D.name)||"",total:N()})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Purchase Order":"Buat Purchase Order Baru"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qs,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:B,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supplier *"}),l.jsxs("select",{value:u.supplier||"",onChange:I=>f({...u,supplier:I.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"",children:"Pilih Supplier"}),n.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal *"}),l.jsx("input",{type:"date",value:u.date,onChange:I=>f({...u,date:I.target.value}),className:"input",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tambah Produk"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 relative",ref:v,children:[l.jsx("input",{type:"text",value:h,onChange:I=>{p(I.target.value),w(!0)},onFocus:()=>w(!0),placeholder:"Cari produk (nama atau SKU)...",className:"input"}),y&&g.length>0&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:g.map(I=>{var D;return l.jsxs("button",{type:"button",onClick:()=>A(I),className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b last:border-b-0",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",I.sku," | Modal: Rp ",(D=I.costPrice)==null?void 0:D.toLocaleString("id-ID")]})]},I.id)})})]}),l.jsx("input",{type:"number",value:m,onChange:I=>x(parseInt(I.target.value)||1),min:"1",className:"input w-24",placeholder:"Qty"})]})]}),u.items.length>0&&l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:u.items.map(I=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsx("div",{className:"text-xs text-gray-500",children:I.sku})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:I.qty,onChange:D=>k(I.productId,D.target.value),className:"input-sm w-20 text-center",min:"1"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:I.costPrice,onChange:D=>E(I.productId,D.target.value),className:"input-sm w-32 text-right",min:"0",step:"100"})}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",(I.costPrice*I.qty).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>j(I.productId),className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:16})})})]},I.productId))}),l.jsx("tfoot",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"3",className:"px-4 py-3 text-right font-bold",children:"TOTAL:"}),l.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-primary",children:["Rp ",N().toLocaleString("id-ID")]}),l.jsx("td",{})]})})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),l.jsx("textarea",{value:u.notes,onChange:I=>f({...u,notes:I.target.value}),className:"input",rows:"2",placeholder:"Catatan tambahan..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:u.status,onChange:I=>f({...u,status:I.target.value}),className:"input",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"partial",children:"Sebagian Diterima"}),l.jsx("option",{value:"received",children:"Diterima"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]})]}),l.jsxs("div",{className:"flex gap-3 p-6 border-t",children:[l.jsx("button",{type:"button",onClick:B,className:"flex-1 btn btn-primary",children:a?"Update Purchase Order":"Buat Purchase Order"}),l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})})}function dP({suppliers:a,onClose:n,onAdd:i}){const[o,d]=ne.useState(!1),[u,f]=ne.useState({name:"",contact:"",email:"",address:""}),h=p=>{p.preventDefault(),i(u),f({name:"",contact:"",email:"",address:""}),d(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Supplier"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qs,{size:24,className:"rotate-45"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:o?l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Supplier *"}),l.jsx("input",{type:"text",value:u.name,onChange:p=>f({...u,name:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kontak *"}),l.jsx("input",{type:"text",value:u.contact,onChange:p=>f({...u,contact:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:p=>f({...u,email:p.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),l.jsx("textarea",{value:u.address,onChange:p=>f({...u,address:p.target.value}),className:"input",rows:"2"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan"}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 btn btn-secondary",children:"Batal"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>d(!0),className:"w-full btn btn-primary flex items-center justify-center gap-2",children:[l.jsx(Qs,{size:20}),"Tambah Supplier Baru"]}),l.jsx("div",{className:"space-y-3",children:a.map(p=>l.jsxs("div",{className:"card",children:[l.jsx("h4",{className:"font-bold text-lg",children:p.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",p.contact," |  ",p.email]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[" ",p.address]})]},p.id))})]})}),l.jsx("div",{className:"p-6 border-t",children:l.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Tutup"})})]})})}function uP(){const[a,n]=ne.useState(!1),[i,o]=ne.useState(null),[d,u]=ne.useState([{id:"SO001",date:"2025-12-06",customer:{id:2,name:"Budi Santoso"},items:[{id:1,name:"Indomie Goreng",sku:"SJA123456",costPrice:2500,price:3e3,minPrice:2875,qty:100,isPackage:!1},{id:2,name:"Aqua 600ml",sku:"SJA234567",costPrice:3e3,price:3500,minPrice:3450,qty:50,isPackage:!1}],subtotal:475e3,discount:25e3,total:45e4,status:"pending",dueDate:"2025-12-13",notes:"Pengiriman ke alamat kantor"}]),{products:f}=is(),{customers:h}=_i(),{storeInfo:p}=Qu(),m=()=>{o(null),n(!0)},x=A=>{o(A),n(!0)},y=A=>{confirm("Hapus sales order ini?")&&u(d.filter(k=>k.id!==A))},w=A=>{const k=window.open("","","width=800,height=600"),E=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice - ${A.id}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 40px; }
          .invoice-header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .logo-section { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px; }
          .logo { width: 80px; height: 80px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border-radius: 12px; display: flex; align-items: center; justify-center; box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3); overflow: hidden; }
          .logo img { width: 100%; height: 100%; object-fit: contain; }
          .logo svg { width: 50px; height: 50px; color: white; }
          .company-info { text-align: center; }
          .company-info h2 { font-size: 24px; color: #1e293b; font-weight: bold; margin-bottom: 4px; }
          .company-info p { font-size: 13px; color: #64748b; line-height: 1.5; }
          .invoice-header h1 { font-size: 28px; color: #2563eb; margin-bottom: 5px; }
          .invoice-header p { color: #666; }
          .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }
          .info-section h3 { font-size: 14px; color: #666; margin-bottom: 8px; }
          .info-section p { font-size: 16px; margin-bottom: 4px; }
          .invoice-id { font-size: 20px; font-weight: bold; color: #2563eb; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th { background: #f3f4f6; padding: 12px; text-align: left; font-size: 12px; color: #666; text-transform: uppercase; border-bottom: 2px solid #e5e7eb; }
          td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
          .text-right { text-align: right; }
          .text-center { text-align: center; }
          .total-section { margin-top: 20px; float: right; width: 300px; }
          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }
          .total-row.grand { font-size: 18px; font-weight: bold; border-top: 2px solid #333; padding-top: 12px; margin-top: 8px; }
          .notes { margin-top: 40px; padding: 15px; background: #f9fafb; border-left: 4px solid #2563eb; }
          .notes h4 { font-size: 14px; margin-bottom: 8px; }
          .footer { margin-top: 60px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 20px; }
          @media print {
            body { padding: 20px; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="invoice-header">
          <div class="logo-section">
            <div class="logo">
              ${p.logo?`<img src="${p.logo}" alt="Logo" />`:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 7h-9"></path>
                  <path d="M14 17H5"></path>
                  <circle cx="17" cy="17" r="3"></circle>
                  <circle cx="7" cy="7" r="3"></circle>
                </svg>`}
            </div>
            <div class="company-info">
              <h2>${p.name}</h2>
              <p>${p.address}<br/>
              Telp: ${p.phone} | Email: ${p.email}</p>
            </div>
          </div>
          <h1>INVOICE</h1>
          <p>Sales Order</p>
        </div>
        
        <div class="invoice-info">
          <div class="info-section">
            <h3>Invoice No:</h3>
            <p class="invoice-id">${A.id}</p>
            <h3 style="margin-top: 15px;">Tanggal:</h3>
            <p>${new Date(A.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
          <div class="info-section" style="text-align: right;">
            <h3>Pelanggan:</h3>
            <p style="font-weight: bold; font-size: 18px;">${A.customer.name}</p>
            <h3 style="margin-top: 15px;">Jatuh Tempo:</h3>
            <p>${new Date(A.dueDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 50px;">No</th>
              <th>SKU</th>
              <th>Nama Produk</th>
              <th class="text-center" style="width: 80px;">Qty</th>
              <th class="text-right" style="width: 150px;">Harga</th>
              <th class="text-right" style="width: 150px;">Subtotal</th>
            </tr>
          </thead>
          <tbody>
            ${A.items.map((j,N)=>`
              <tr>
                <td class="text-center">${N+1}</td>
                <td style="font-family: monospace; font-size: 12px;">${j.sku}</td>
                <td>${j.name}${j.isPackage?' <span style="background: #dbeafe; color: #1e40af; padding: 2px 6px; border-radius: 4px; font-size: 10px;">PAKET</span>':""}</td>
                <td class="text-center">${j.qty}</td>
                <td class="text-right">Rp ${j.price.toLocaleString("id-ID")}</td>
                <td class="text-right" style="font-weight: bold;">Rp ${(j.price*j.qty).toLocaleString("id-ID")}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="total-section">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>Rp ${A.subtotal.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row">
            <span>Diskon:</span>
            <span style="color: #ef4444;">- Rp ${A.discount.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row grand">
            <span>TOTAL:</span>
            <span style="color: #16a34a;">Rp ${A.total.toLocaleString("id-ID")}</span>
          </div>
        </div>

        <div style="clear: both;"></div>

        ${A.notes?`
          <div class="notes">
            <h4>Catatan:</h4>
            <p>${A.notes}</p>
          </div>
        `:""}

        <div class="footer">
          <p>Terima kasih atas kepercayaan Anda!</p>
          <p style="margin-top: 5px;">Dicetak pada: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 250);
          }
        <\/script>
      </body>
      </html>
    `;k.document.write(E),k.document.close()},v=A=>({pending:"badge badge-warning",confirmed:"badge badge-info",processing:"badge badge-info",delivered:"badge badge-success",cancelled:"badge badge-danger"})[A]||"badge",g=A=>({pending:"Pending",confirmed:"Dikonfirmasi",processing:"Diproses",delivered:"Terkirim",cancelled:"Dibatalkan"})[A]||A;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Penjualan Member"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola sales order dan penjualan ke pelanggan member"})]}),l.jsxs("button",{onClick:m,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Qs,{size:20}),"Buat Sales Order"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales Order"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:d.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:d.filter(A=>A.status==="pending").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Diproses"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-info",children:d.filter(A=>A.status==="processing").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:d.filter(A=>A.status==="delivered").length})]})]}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. SO"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jatuh Tempo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:d.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:A.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(A.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(e2,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium",children:A.customer.name})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zs,{size:16,className:"text-gray-400"}),l.jsxs("span",{children:[A.items.length," item"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-green-600",children:["Rp ",A.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(WT,{size:16,className:"text-gray-400"}),l.jsx("span",{children:new Date(A.dueDate).toLocaleDateString("id-ID")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:v(A.status),children:g(A.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>w(A),className:"text-green-600 hover:text-green-700",title:"Print Invoice",children:l.jsx(d2,{size:18})}),l.jsx("button",{onClick:()=>x(A),className:"text-primary hover:text-blue-700",children:l.jsx(Wo,{size:18})}),l.jsx("button",{onClick:()=>y(A.id),className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:18})})]})]},A.id))})]})})}),a&&l.jsx(fP,{sale:i,products:f,customers:h.filter(A=>A.type!=="walk-in"),onClose:()=>{n(!1),o(null)},onSubmit:A=>{i?(u(d.map(k=>k.id===A.id?A:k)),n(!1),o(null)):u([...d,{...A,id:`SO${String(d.length+1).padStart(3,"0")}`}])}})]})}function fP({sale:a,products:n,customers:i,onClose:o,onSubmit:d}){var _;const[u,f]=ne.useState(a||{orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ne.useState(""),[m,x]=ne.useState(1),[y,w]=ne.useState(""),[v,g]=ne.useState(!1),A=ne.useRef(null);ne.useEffect(()=>{function F(Q){A.current&&!A.current.contains(Q.target)&&g(!1)}return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const k=n.filter(F=>{var Q;return y&&(F.name.toLowerCase().includes(y.toLowerCase())||F.sku&&F.sku.toLowerCase().includes(y.toLowerCase())||F.code&&F.code.toLowerCase().includes(y.toLowerCase())||((Q=F.barcode)==null?void 0:Q.includes(y)))}),E=(F,Q)=>Q&&Q.customPrices&&Q.customPrices[F.id]?Q.customPrices[F.id]:F.price,j=F=>{if(!F)return;if(u.items.find(L=>L.id===F.id))f({...u,items:u.items.map(L=>L.id===F.id?{...L,qty:L.qty+m}:L)});else{const L=F.costPrice||0,X=Math.ceil(L*1.15),le=E(F,u.customer);f({...u,items:[...u.items,{id:F.id,name:F.name,sku:F.sku||F.code,costPrice:L,price:le,minPrice:X,qty:m,isPackage:F.isPackage}]})}w(""),g(!1),x(1)},N=(F,Q)=>{f({...u,items:u.items.map(L=>L.id===F?Q<L.minPrice?(alert(`Harga tidak boleh kurang dari Rp ${L.minPrice.toLocaleString("id-ID")} (Modal + 15%)`),L):{...L,price:parseFloat(Q)||L.price}:L)})},B=(F,Q)=>{f({...u,items:u.items.map(L=>L.id===F?{...L,qty:parseInt(Q)||1}:L)})},I=F=>{f({...u,items:u.items.filter(Q=>Q.id!==F)})},D=u.items.reduce((F,Q)=>F+Q.price*Q.qty,0),T=u.discount||0,R=D-T,$=F=>{if(F.preventDefault(),!u.customer||u.items.length===0){alert("Pilih customer dan tambahkan minimal 1 produk");return}d({...u,subtotal:D,total:R}),a||(f({orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],status:"pending",notes:""}),w(""),x(1))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Sales Order":"Buat Sales Order Baru"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qs,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:$,className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)] space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pelanggan Member *"}),l.jsxs("select",{value:((_=u.customer)==null?void 0:_.id)||"",onChange:F=>{const Q=i.find(L=>L.id===parseInt(F.target.value));f({...u,customer:Q})},className:"input",required:!0,children:[l.jsx("option",{value:"",children:"-- Pilih Pelanggan --"}),i.map(F=>l.jsxs("option",{value:F.id,children:[F.name," (",F.type.toUpperCase(),")"]},F.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Pesanan"}),l.jsx("input",{type:"text",value:u.orderNumber,onChange:F=>f({...u,orderNumber:F.target.value}),placeholder:"Contoh: PO-2025-001",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:u.status,onChange:F=>f({...u,status:F.target.value}),className:"input",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),l.jsx("option",{value:"processing",children:"Diproses"}),l.jsx("option",{value:"delivered",children:"Terkirim"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal Order"}),l.jsx("input",{type:"date",value:u.date,onChange:F=>f({...u,date:F.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jatuh Tempo"}),l.jsx("input",{type:"date",value:u.dueDate,onChange:F=>f({...u,dueDate:F.target.value}),className:"input",required:!0})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Tambah Produk"}),l.jsxs("div",{className:"flex gap-2 relative",ref:A,children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",size:20}),l.jsx("input",{type:"text",value:y,onChange:F=>{w(F.target.value),g(!0)},onFocus:()=>y&&g(!0),placeholder:"Cari produk (nama, kode, atau barcode)...",className:"input w-full pl-10"}),v&&k.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",children:k.map(F=>l.jsx("button",{type:"button",onClick:()=>j(F),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:F.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:F.sku||F.code}),l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("p",{className:"text-xs text-gray-500",children:F.category}),F.isPackage&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]})]}),l.jsxs("div",{className:"text-right ml-4",children:[l.jsxs("p",{className:"font-semibold text-primary",children:["Rp ",F.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Stok: ",F.stock," ",F.unit]})]})]})},F.id))}),v&&y&&k.length===0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-50",children:l.jsx("p",{className:"text-gray-500 text-center",children:"Produk tidak ditemukan"})})]}),l.jsx("input",{type:"number",value:m,onChange:F=>x(parseInt(F.target.value)||1),min:"1",placeholder:"Qty",className:"input w-20 text-center"})]}),y&&l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Ketik untuk mencari, klik produk untuk menambahkan"})]}),u.items.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-3",children:["Items (",u.items.length,")"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Produk"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Satuan"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Subtotal"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:u.items.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:F.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:F.sku}),F.isPackage&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: Rp ",F.minPrice.toLocaleString("id-ID")," (Modal + 15%)"]})]})}),l.jsx("td",{className:"px-3 py-3 text-center",children:l.jsx("input",{type:"number",min:"1",value:F.qty,onChange:Q=>B(F.id,Q.target.value),className:"input input-sm w-20 text-center"})}),l.jsx("td",{className:"px-3 py-3",children:l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("input",{type:"number",min:F.minPrice,value:F.price,onChange:Q=>N(F.id,Q.target.value),className:"input input-sm w-32 text-right"}),F.price<F.minPrice&&l.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"})]})}),l.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:["Rp ",(F.price*F.qty).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>I(F.id),className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:18})})})]},F.id))})]})}),l.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),l.jsxs("span",{className:"font-semibold",children:["Rp ",D.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Diskon:"}),l.jsx("input",{type:"number",value:u.discount||0,onChange:F=>f({...u,discount:parseInt(F.target.value)||0}),className:"input w-32 text-right",min:"0"})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t border-blue-200",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{className:"text-primary",children:["Rp ",R.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),l.jsx("textarea",{value:u.notes,onChange:F=>f({...u,notes:F.target.value}),className:"input",rows:"3",placeholder:"Catatan pengiriman, alamat, dll..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsxs("button",{type:"submit",className:"flex-1 btn btn-primary",children:[a?"Update":"Simpan"," Sales Order"]}),l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function hP(){const[a,n]=ne.useState(""),[i,o]=ne.useState("all"),[d,u]=ne.useState(!1),[f,h]=ne.useState(null),[p,m]=ne.useState(!1),[x,y]=ne.useState(null),{customers:w,addCustomer:v,updateCustomer:g,deleteCustomer:A}=_i(),k=w.filter(j=>{const N=j.name.toLowerCase().includes(a.toLowerCase())||j.phone.includes(a),B=i==="all"||j.type===i;return N&&B}),E=j=>{f?g(f.id,j):v(j),u(!1),h(null)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Pelanggan"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola data pelanggan dan program loyalty"})]}),l.jsxs("button",{onClick:()=>{h(null),u(!0)},className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Qs,{size:20}),"Tambah Pelanggan"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pelanggan"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:w.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Member"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:w.filter(j=>j.type==="member").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"VIP"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:w.filter(j=>j.type==="vip").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:w.reduce((j,N)=>j+N.points,0).toLocaleString("id-ID")})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a,onChange:j=>n(j.target.value),placeholder:"Cari pelanggan...",className:"w-full pl-10 input"})]}),l.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"input w-48",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"walk-in",children:"Walk-in"}),l.jsx("option",{value:"member",children:"Member"}),l.jsx("option",{value:"vip",children:"VIP"})]})]})}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kontak"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Points"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Belanja"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:k.map(j=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[j.type==="vip"&&l.jsx(vR,{className:"text-yellow-500",size:16}),l.jsx("span",{className:"font-medium",children:j.name})]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("p",{className:"text-sm",children:j.phone}),l.jsx("p",{className:"text-xs text-gray-600",children:j.email})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`badge ${j.type==="vip"?"badge-warning":j.type==="member"?"badge-info":"bg-gray-100 text-gray-800"}`,children:j.type.toUpperCase()})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(sR,{size:16,className:"text-primary"}),l.jsx("span",{className:"font-semibold",children:j.points})]})}),l.jsxs("td",{className:"px-6 py-4 font-semibold",children:["Rp ",j.totalSpent.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[(j.type==="member"||j.type==="vip")&&l.jsx("button",{onClick:()=>{y(j),m(!0)},className:"text-green-600 hover:text-green-700 mr-3",title:"Atur Harga Khusus",children:l.jsx(c2,{size:18})}),l.jsx("button",{onClick:()=>{h(j),u(!0)},className:"text-primary hover:text-blue-700 mr-3",children:l.jsx(Wo,{size:18})}),j.type!=="walk-in"&&l.jsx("button",{onClick:()=>{confirm("Hapus pelanggan ini?")&&A(j.id)},className:"text-red-600 hover:text-red-700",children:l.jsx(zn,{size:18})})]})]},j.id))})]})})}),d&&l.jsx(pP,{customer:f,onClose:()=>{u(!1),h(null)},onSubmit:E}),p&&x&&l.jsx(mP,{customer:x,onClose:()=>{m(!1),y(null)}})]})}function pP({customer:a,onClose:n,onSubmit:i}){const[o,d]=ne.useState(a||{name:"",phone:"",email:"",type:"member"}),u=p=>p?p.replace(/\b\w/g,m=>m.toUpperCase()):"",f=p=>{p.persist&&p.persist();const{name:m,value:x}=p.target;d(y=>({...y,[m]:x}))},h=p=>{p.preventDefault();const m={...o,name:u(o.name.trim())};i(m)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Pelanggan":"Tambah Pelanggan Baru"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qs,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: Budi Santoso",autoComplete:"off",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Telepon / WhatsApp *"}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: 081234567890",inputMode:"tel",autoComplete:"off",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:f,onInput:f,className:"input w-full",placeholder:"email@contoh.com",autoComplete:"off"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Pelanggan *"}),l.jsxs("select",{name:"type",value:o.type,onChange:f,className:"input w-full",required:!0,children:[l.jsx("option",{value:"member",children:"Member"}),l.jsx("option",{value:"vip",children:"VIP"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a?"Update":"Simpan"}),l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function mP({customer:a,onClose:n}){const[i,o]=ne.useState(""),[d,u]=ne.useState(a.customPrices||{}),{products:f}=is(),{setCustomPrice:h,removeCustomPrice:p}=_i(),m=f.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.sku.toLowerCase().includes(i.toLowerCase())),x=(v,g)=>{const A=parseFloat(g);if(g===""||isNaN(A)){const k={...d};delete k[v],u(k)}else u({...d,[v]:A})},y=()=>{Object.entries(d).forEach(([v,g])=>{h(a.id,parseInt(v),g)}),Object.keys(a.customPrices||{}).forEach(v=>{d[v]||p(a.id,parseInt(v))}),n()},w=v=>v.costPrice*1.15;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold",children:["Atur Harga Khusus - ",a.name]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kosongkan harga untuk menggunakan harga default produk"})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Qs,{size:24,className:"rotate-45"})})]}),l.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),placeholder:"Cari produk...",className:"w-full pl-10 input"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Default"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min. Harga (15%)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Harga Khusus"})]})}),l.jsx("tbody",{className:"divide-y",children:m.map(v=>{const g=d[v.id],A=w(v),k=g!==void 0,E=!g||g>=A;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:v.sku}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:v.name}),l.jsx("td",{className:"px-4 py-3 text-sm",children:v.category}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["Rp ",v.costPrice.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:["Rp ",v.price.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-semibold",children:["Rp ",A.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("input",{type:"number",value:g||"",onChange:j=>x(v.id,j.target.value),placeholder:"Default",className:`input-sm w-32 text-right ${E?k?"border-green-500 bg-green-50":"":"border-red-500 bg-red-50"}`,min:0,step:100}),!E&&l.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"}),k&&E&&l.jsx("span",{className:"text-xs text-green-600",children:" Aktif"})]})})]},v.id)})})]})}),l.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-900",children:[l.jsx("strong",{children:Object.keys(d).length})," produk dengan harga khusus"]})}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:y,className:"flex-1 btn btn-primary",children:"Simpan Harga Khusus"}),l.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function xP(){const[a,n]=ne.useState("transactions"),[i,o]=ne.useState("today"),[d,u]=ne.useState(""),[f,h]=ne.useState(""),{transactions:p,getTodaySales:m,voidTransaction:x}=ki(),{products:y,stockHistory:w,updateStock:v}=is(),{stores:g}=H1(),{user:A}=Ei(),k=[{id:"transactions",label:"Transaksi Kasir"},{id:"sales",label:"Laporan Penjualan"},{id:"stock",label:"Laporan Stok"},{id:"products",label:"Produk Terlaris"},{id:"profit",label:"Laba Rugi"},{id:"source",label:"Omzet per Sumber"}],E=(B,I="date")=>{const D=new Date;return D.setHours(0,0,0,0),B.filter(T=>{const R=new Date(T[I]);if(i==="custom"&&d&&f){const $=new Date(d),_=new Date(f);return _.setHours(23,59,59,999),R>=$&&R<=_}if(i==="today"){const $=new Date(R);return $.setHours(0,0,0,0),$.getTime()===D.getTime()}else if(i==="week"){const $=new Date(D);return $.setDate($.getDate()-7),R>=$}else if(i==="month"){const $=new Date(D);return $.setMonth($.getMonth()-1),R>=$}else if(i==="year"){const $=new Date(D.getFullYear(),0,1);return R>=$}return!0})},j=()=>{let B="";const I=E(p);a==="transactions"||a==="sales"?(B=`ID,Tanggal,Pelanggan,Items,Subtotal,Diskon,Pajak,Total,Pembayaran,Status
`,I.forEach(R=>{var $;B+=`${R.id},${new Date(R.date).toLocaleString("id-ID")},${(($=R.customer)==null?void 0:$.name)||"-"},${R.items.length},${R.subtotal},${R.discount},${R.tax},${R.total},${R.paymentMethod},${R.status}
`})):a==="stock"&&(B=`Kode,Nama,Kategori,Stok,Min Stok,Harga,HPP,Nilai Stok
`,y.forEach(R=>{B+=`${R.code},${R.name},${R.category},${R.stock},${R.minStock},${R.price},${R.cost||0},${R.price*R.stock}
`}));const D=new Blob([B],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(D),T.download=`laporan-${a}-${new Date().toISOString().split("T")[0]}.csv`,T.click()},N=()=>{window.print()};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Laporan & Analytics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor performa bisnis Anda"})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("select",{value:a,onChange:B=>n(B.target.value),className:"input flex-1",children:k.map(B=>l.jsx("option",{value:B.id,children:B.label},B.id))}),l.jsxs("select",{value:i,onChange:B=>o(B.target.value),className:"input",children:[l.jsx("option",{value:"today",children:"Hari Ini"}),l.jsx("option",{value:"week",children:"7 Hari Terakhir"}),l.jsx("option",{value:"month",children:"30 Hari Terakhir"}),l.jsx("option",{value:"year",children:"Tahun Ini"}),l.jsx("option",{value:"custom",children:"Periode Custom"})]}),i==="custom"&&l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"date",value:d,onChange:B=>u(B.target.value),className:"input"}),l.jsx("input",{type:"date",value:f,onChange:B=>h(B.target.value),className:"input"})]}),l.jsxs("button",{onClick:j,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(tl,{size:20}),"Export CSV"]}),l.jsxs("button",{onClick:N,className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(d2,{size:20}),"Print"]})]})}),a==="transactions"&&l.jsx(vP,{transactions:p,voidTransaction:x,updateStock:v,user:A,dateRange:i,customStartDate:d,customEndDate:f}),a==="sales"&&l.jsx(gP,{transactions:p,dateRange:i,customStartDate:d,customEndDate:f}),a==="stock"&&l.jsx(bP,{products:y,stockHistory:w}),a==="products"&&l.jsx(yP,{transactions:p,dateRange:i,customStartDate:d,customEndDate:f}),a==="profit"&&l.jsx(wP,{transactions:p,products:y,dateRange:i,customStartDate:d,customEndDate:f}),a==="source"&&l.jsx(AP,{transactions:p,stores:g,dateRange:i,customStartDate:d,customEndDate:f})]})}function vP({transactions:a,voidTransaction:n,updateStock:i,user:o,dateRange:d,customStartDate:u,customEndDate:f}){const[h,p]=ne.useState(""),[m,x]=ne.useState(!1),[y,w]=ne.useState(null),[v,g]=ne.useState(""),[A,k]=ne.useState(!1),[E,j]=ne.useState(null),N=R=>{j(R),g(""),k(!0)},B=async()=>{if(!v.trim()){alert("Masukkan alasan void transaksi");return}await n(E.id,v,i,o==null?void 0:o.id,o==null?void 0:o.name),k(!1),j(null),g(""),alert("Transaksi berhasil di-void dan stok telah dikembalikan")},I=a.filter(R=>{const $=R.id.toLowerCase().includes(h.toLowerCase()),_=new Date(R.date),F=new Date;F.setHours(0,0,0,0);let Q=!0;if(d==="custom"&&u&&f){const L=new Date(u),X=new Date(f);X.setHours(23,59,59,999),Q=_>=L&&_<=X}else if(d==="today"){const L=new Date(_);L.setHours(0,0,0,0),Q=L.getTime()===F.getTime()}else if(d==="week"){const L=new Date(F);L.setDate(L.getDate()-7),Q=_>=L}else if(d==="month"){const L=new Date(F);L.setMonth(L.getMonth()-1),Q=_>=L}return $&&Q}),D=I.filter(R=>R.status==="completed").reduce((R,$)=>R+$.total,0),T=R=>{w(R),x(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:I.filter(R=>R.status==="completed").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",D.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Transaksi Void"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:I.filter(R=>R.status==="void").length})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:h,onChange:R=>p(R.target.value),placeholder:"Cari ID transaksi...",className:"w-full pl-10 input"})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("h3",{className:"text-lg font-bold mb-4 px-6 pt-6",children:"Riwayat Transaksi Kasir"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pembayaran"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:I.map(R=>{var $;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:R.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(R.date).toLocaleString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(($=R.customer)==null?void 0:$.name)||"-"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[R.items.length," item"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold",children:["Rp ",R.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:R.paymentMethod}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.status==="completed"?l.jsx("span",{className:"badge badge-success",children:"Selesai"}):l.jsx("span",{className:"badge badge-danger",children:"Void"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>T(R),className:"text-primary hover:text-blue-700",title:"Lihat Detail",children:l.jsx(kw,{size:18})}),R.status==="completed"&&l.jsx("button",{onClick:()=>N(R),className:"text-red-500 hover:text-red-700",title:"Void Transaksi",children:l.jsx(YT,{size:18})}),l.jsx("button",{className:"text-gray-600 hover:text-gray-700",title:"Print",children:l.jsx(d2,{size:18})})]})]},R.id)})})]})})]})]}),A&&E&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Void Transaksi"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Void transaksi ",l.jsx("strong",{children:E.id})," senilai ",l.jsxs("strong",{children:["Rp ",E.total.toLocaleString("id-ID")]}),"?"]}),l.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded mb-4",children:" Stok produk akan dikembalikan otomatis"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alasan Void *"}),l.jsx("textarea",{value:v,onChange:R=>g(R.target.value),placeholder:"Masukkan alasan void...",className:"input w-full",rows:3,required:!0})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>k(!1),className:"btn btn-secondary flex-1",children:"Batal"}),l.jsx("button",{onClick:B,className:"btn btn-danger flex-1",children:"Konfirmasi Void"})]})]})}),m&&y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Detail Transaksi"}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)] space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"ID Transaksi"}),l.jsx("p",{className:"font-semibold",children:y.id})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Tanggal"}),l.jsx("p",{className:"font-semibold",children:new Date(y.date).toLocaleString("id-ID")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Kasir"}),l.jsx("p",{className:"font-semibold",children:y.cashier})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Metode Pembayaran"}),l.jsx("p",{className:"font-semibold capitalize",children:y.paymentMethod})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Items"}),l.jsx("div",{className:"space-y-2",children:y.items.map((R,$)=>l.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:R.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[R.quantity," x Rp ",R.price.toLocaleString("id-ID")]})]}),l.jsxs("p",{className:"font-semibold",children:["Rp ",(R.price*R.quantity).toLocaleString("id-ID")]})]},$))})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Subtotal"}),l.jsxs("span",{children:["Rp ",y.subtotal.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Diskon"}),l.jsxs("span",{children:["- Rp ",y.discount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Pajak"}),l.jsxs("span",{children:["Rp ",y.tax.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary",children:["Rp ",y.total.toLocaleString("id-ID")]})]}),y.paymentMethod==="cash"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Bayar"}),l.jsxs("span",{children:["Rp ",y.cashAmount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Kembali"}),l.jsxs("span",{className:"text-green-600",children:["Rp ",y.change.toLocaleString("id-ID")]})]})]})]})]})]})})]})}function gP({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const u=(m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(y=>{const w=new Date(y.date);if(n==="custom"&&i&&o){const v=new Date(i),g=new Date(o);return g.setHours(23,59,59,999),w>=v&&w<=g}if(n==="today"){const v=new Date(w);return v.setHours(0,0,0,0),v.getTime()===x.getTime()}else if(n==="week"){const v=new Date(x);return v.setDate(v.getDate()-7),w>=v}else if(n==="month"){const v=new Date(x);return v.setMonth(v.getMonth()-1),w>=v}return!0})})(a).filter(m=>m.status==="completed"),f=u.reduce((m,x)=>m+x.total,0),h=u.reduce((m,x)=>m+x.tax,0),p=u.reduce((m,x)=>m+x.discount,0);return u.length>0&&f/u.length,l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:u.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",f.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pajak"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",h.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Diskon"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-red-600",children:["Rp ",p.toLocaleString("id-ID")]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Penjualan"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Diskon"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pajak"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),l.jsx("tbody",{className:"divide-y",children:u.slice(0,10).map(m=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(m.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:m.id}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.subtotal.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600",children:["- Rp ",m.discount.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.tax.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold",children:["Rp ",m.total.toLocaleString("id-ID")]})]},m.id))})]})})]})]})}function bP({products:a,stockHistory:n}){const[i,o]=ne.useState("name"),[d,u]=ne.useState("all"),f=a.reduce((v,g)=>v+g.price*g.stock,0),h=a.reduce((v,g)=>v+(g.cost||0)*g.stock,0),p=a.filter(v=>v.stock<=v.minStock).length,m=a.filter(v=>v.stock===0).length,x=a.reduce((v,g)=>v+g.stock,0);let y=[...a];d==="low"?y=y.filter(v=>v.stock<=v.minStock&&v.stock>0):d==="out"?y=y.filter(v=>v.stock===0):d==="normal"&&(y=y.filter(v=>v.stock>v.minStock)),i==="stock-asc"?y.sort((v,g)=>v.stock-g.stock):i==="stock-desc"?y.sort((v,g)=>g.stock-v.stock):i==="value-desc"?y.sort((v,g)=>g.price*g.stock-v.price*v.stock):y.sort((v,g)=>v.name.localeCompare(g.name));const w=(n||[]).slice(0,10);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:a.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Unit"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:x.toLocaleString("id-ID")})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Jual"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",(f/1e6).toFixed(1),"M"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Modal (HPP)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:["Rp ",(h/1e6).toFixed(1),"M"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Stok Bermasalah"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:p+m}),l.jsxs("p",{className:"text-xs text-gray-500",children:[m," habis, ",p," rendah"]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("select",{value:d,onChange:v=>u(v.target.value),className:"input",children:[l.jsx("option",{value:"all",children:"Semua Status"}),l.jsx("option",{value:"normal",children:"Stok Normal"}),l.jsx("option",{value:"low",children:"Stok Rendah"}),l.jsx("option",{value:"out",children:"Stok Habis"})]}),l.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"input",children:[l.jsx("option",{value:"name",children:"Urut: Nama A-Z"}),l.jsx("option",{value:"stock-asc",children:"Urut: Stok Terendah"}),l.jsx("option",{value:"stock-desc",children:"Urut: Stok Tertinggi"}),l.jsx("option",{value:"value-desc",children:"Urut: Nilai Tertinggi"})]})]})}),l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detail Stok Produk (",y.length," produk)"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Jual"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:y.slice(0,50).map(v=>l.jsxs("tr",{className:`hover:bg-gray-50 ${v.stock===0?"bg-red-50":v.stock<=v.minStock?"bg-orange-50":""}`,children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("p",{className:"font-medium",children:v.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[v.code," ",v.sku?` ${v.sku}`:""]})]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[v.stock," ",v.unit]}),l.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:v.minStock}),l.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",(v.price||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["Rp ",(v.cost||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",((v.price||0)*v.stock).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-center",children:v.stock===0?l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"HABIS"}):v.stock<=v.minStock?l.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:"Rendah"}):l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Normal"})})]},v.id))})]})}),y.length>50&&l.jsxs("p",{className:"text-center text-gray-500 py-4 text-sm",children:["Menampilkan 50 dari ",y.length," produk"]})]}),w.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Perubahan Stok Terakhir"}),l.jsx("div",{className:"space-y-2",children:w.map(v=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:v.productName}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.createdAt).toLocaleString("id-ID")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:`font-bold ${v.change>0?"text-green-600":v.change<0?"text-red-600":""}`,children:[v.change>0?"+":"",v.change]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[v.oldStock,"  ",v.newStock]})]})]},v.id))})]})]})}function yP({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const d=m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(y=>{const w=new Date(y.date);if(n==="custom"&&i&&o){const v=new Date(i),g=new Date(o);return g.setHours(23,59,59,999),w>=v&&w<=g}if(n==="today"){const v=new Date(w);return v.setHours(0,0,0,0),v.getTime()===x.getTime()}else if(n==="week"){const v=new Date(x);return v.setDate(v.getDate()-7),w>=v}else if(n==="month"){const v=new Date(x);return v.setMonth(v.getMonth()-1),w>=v}return!0})},u={};d(a).filter(m=>m.status==="completed").forEach(m=>{m.items.forEach(x=>{u[x.id]||(u[x.id]={name:x.name,quantity:0,revenue:0}),u[x.id].quantity+=x.quantity,u[x.id].revenue+=x.price*x.quantity})});const f=Object.values(u).sort((m,x)=>x.quantity-m.quantity).slice(0,10),h=f.reduce((m,x)=>m+x.quantity,0),p=f.reduce((m,x)=>m+x.revenue,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk Terjual"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:[h," items"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue (Top 10)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata per Produk"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",f.length>0?(p/f.length).toLocaleString("id-ID"):0]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Top 10 Produk Terlaris"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ranking"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty Terjual"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Revenue"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% dari Total"})]})}),l.jsx("tbody",{className:"divide-y",children:f.map((m,x)=>{const y=p>0?(m.revenue/p*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${x===0?"bg-yellow-400 text-white":x===1?"bg-gray-400 text-white":x===2?"bg-orange-400 text-white":"bg-gray-200 text-gray-700"}`,children:x+1})}),l.jsx("td",{className:"px-6 py-4 font-medium",children:m.name}),l.jsx("td",{className:"px-6 py-4 text-right font-semibold",children:m.quantity}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:["Rp ",m.revenue.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${y}%`}})}),l.jsxs("span",{className:"text-sm",children:[y,"%"]})]})})]},x)})})]})}),f.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data penjualan untuk periode ini"})]})]})}function wP({transactions:a,products:n,dateRange:i,customStartDate:o,customEndDate:d}){const f=(j=>{const N=new Date;return N.setHours(0,0,0,0),j.filter(B=>{const I=new Date(B.date);if(i==="custom"&&o&&d){const D=new Date(o),T=new Date(d);return T.setHours(23,59,59,999),I>=D&&I<=T}if(i==="today"){const D=new Date(I);return D.setHours(0,0,0,0),D.getTime()===N.getTime()}else if(i==="week"){const D=new Date(N);return D.setDate(D.getDate()-7),I>=D}else if(i==="month"){const D=new Date(N);return D.setMonth(D.getMonth()-1),I>=D}else if(i==="year"){const D=new Date(N.getFullYear(),0,1);return I>=D}return!0})})(a).filter(j=>j.status==="completed"),h={};n.forEach(j=>{h[j.id]=j.cost||0});const p={};let m=0,x=0,y=0,w=0;f.forEach(j=>{y+=j.discount||0,w+=j.tax||0,j.items.forEach(N=>{const B=h[N.id]||N.cost||0,I=N.price*N.quantity,D=B*N.quantity,T=I-D;m+=I,x+=D,p[N.id]||(p[N.id]={name:N.name,quantity:0,revenue:0,cogs:0,profit:0}),p[N.id].quantity+=N.quantity,p[N.id].revenue+=I,p[N.id].cogs+=D,p[N.id].profit+=T})});const v=m-x,g=v-y+w,A=m>0?(v/m*100).toFixed(1):0,k=m>0?(g/m*100).toFixed(1):0,E=Object.values(p).sort((j,N)=>N.profit-j.profit).slice(0,10);return l.jsxs("div",{className:"space-y-6 print:space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Pendapatan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",m.toLocaleString("id-ID")]})]}),l.jsx(c2,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"HPP (COGS)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",x.toLocaleString("id-ID")]})]}),l.jsx(zs,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Laba Kotor"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",v.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",A,"%"]})]}),l.jsx(Km,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Laba Bersih"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",g.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",k,"%"]})]}),l.jsx(KT,{size:40,className:"opacity-80"})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Laba Rugi"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between py-2 border-b",children:[l.jsx("span",{className:"font-medium",children:"Total Pendapatan (Revenue)"}),l.jsxs("span",{className:"font-bold text-blue-600",children:["Rp ",m.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[l.jsx("span",{children:"(-) Harga Pokok Penjualan (HPP)"}),l.jsxs("span",{children:["Rp ",x.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b bg-green-50 px-2 rounded",children:[l.jsx("span",{className:"font-medium text-green-700",children:"= Laba Kotor (Gross Profit)"}),l.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",v.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[l.jsx("span",{children:"(-) Total Diskon"}),l.jsxs("span",{children:["Rp ",y.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b",children:[l.jsx("span",{children:"(+) PPN yang Dipungut"}),l.jsxs("span",{children:["Rp ",w.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-3 bg-purple-50 px-2 rounded text-lg",children:[l.jsx("span",{className:"font-bold text-purple-700",children:"= Laba Bersih (Net Profit)"}),l.jsxs("span",{className:"font-bold text-purple-600",children:["Rp ",g.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Profit per Produk (Top 10)"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Profit"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margin"})]})}),l.jsx("tbody",{className:"divide-y",children:E.map((j,N)=>{const B=j.revenue>0?(j.profit/j.revenue*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium",children:j.name}),l.jsx("td",{className:"px-4 py-3 text-right",children:j.quantity}),l.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",j.revenue.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right text-red-600",children:["Rp ",j.cogs.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:["Rp ",j.profit.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${B>=30?"bg-green-100 text-green-700":B>=15?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[B,"%"]})})]},N)})})]})}),E.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data transaksi untuk periode ini"})]}),l.jsx("div",{className:"card bg-blue-50 border border-blue-200",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:" Tips:"})," Pastikan HPP (Harga Pokok Penjualan) di setiap produk sudah diisi dengan benar untuk mendapatkan laporan laba rugi yang akurat. Anda dapat mengisi HPP di menu Produk."]})})]})}function AP({transactions:a,stores:n,dateRange:i,customStartDate:o,customEndDate:d}){const f=(x=>{const y=new Date;return y.setHours(0,0,0,0),x.filter(w=>{const v=new Date(w.date);if(i==="custom"&&o&&d){const g=new Date(o),A=new Date(d);return A.setHours(23,59,59,999),v>=g&&v<=A}if(i==="today"){const g=new Date(v);return g.setHours(0,0,0,0),g.getTime()===y.getTime()}else if(i==="week"){const g=new Date(y);return g.setDate(g.getDate()-7),v>=g}else if(i==="month"){const g=new Date(y);return g.setMonth(g.getMonth()-1),v>=g}return!0})})(a).filter(x=>x.status==="completed"),h={pos:{label:"POS (Kasir)",color:"bg-blue-500",transactions:0,revenue:0},shopee:{label:"Shopee",color:"bg-orange-500",transactions:0,revenue:0},lazada:{label:"Lazada",color:"bg-purple-500",transactions:0,revenue:0},tokopedia:{label:"Tokopedia",color:"bg-green-500",transactions:0,revenue:0},tiktok:{label:"TikTok Shop",color:"bg-gray-800",transactions:0,revenue:0}};f.forEach(x=>{const y=x.source||"pos";h[y]?(h[y].transactions+=1,h[y].revenue+=x.total):(h.pos.transactions+=1,h.pos.revenue+=x.total)});const p=Object.values(h).reduce((x,y)=>x+y.revenue,0),m=Object.values(h).reduce((x,y)=>x+y.transactions,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Omzet Semua Sumber"}),l.jsxs("p",{className:"text-3xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:m})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).map(([x,y])=>{const w=p>0?(y.revenue/p*100).toFixed(1):0;return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:`w-4 h-4 rounded ${y.color}`}),l.jsx("h4",{className:"font-bold",children:y.label})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Transaksi"}),l.jsx("span",{className:"font-medium",children:y.transactions})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Omzet"}),l.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",y.revenue.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Kontribusi"}),l.jsxs("span",{className:"font-medium",children:[w,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:l.jsx("div",{className:`${y.color} h-2 rounded-full transition-all`,style:{width:`${w}%`}})})]})]},x)})}),n&&n.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Toko Marketplace Terhubung"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${x.isConnected?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"font-medium",children:x.shopName})]}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:x.platform}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",x.lastSync?new Date(x.lastSync).toLocaleString("id-ID"):"Never"]})]},x.id))})]}),l.jsx("div",{className:"card bg-yellow-50 border border-yellow-200",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:" Info:"})," Data marketplace akan otomatis ter-update ketika Anda melakukan sinkronisasi dari halaman Marketplace Integration. Pastikan semua toko sudah terhubung untuk laporan yang akurat."]})})]})}const jA=a=>{const n={code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:typeof a.category=="string"?a.category:null,unit:typeof a.unit=="string"?a.unit:"pcs",cost:a.cost||0,price:a.price||0,stock:a.stock||0,min_stock:a.minStock||0,max_stock:a.maxStock||0,image_url:a.image,source:a.source||"local",is_active:a.isActive!==!1,has_variants:a.hasVariants||!1,variants:a.variants||[]};return a.parentId&&(n.parent_id=a.parentId),a.variantName&&(n.variant_name=a.variantName),n},NA=a=>({code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,customer_type:a.type||"member",points:a.points||0,total_spent:a.totalSpent||0}),SA=a=>{var n;return{transaction_code:a.transactionCode||`TRX${Date.now()}`,transaction_date:a.date||new Date().toISOString(),customer_id:a.customerId||((n=a.customer)==null?void 0:n.id),subtotal:a.subtotal||0,discount_type:a.discountType,discount_value:a.discountValue||0,discount_amount:a.discount||0,tax_percent:a.taxPercent||11,tax_amount:a.tax||0,total:a.total||0,payment_method:a.paymentMethod||"cash",payment_amount:a.cashAmount||0,change_amount:a.change||0,status:a.status||"completed",void_reason:a.voidReason,notes:a.notes,cashier_id:a.cashierId,cashier_name:a.cashierName,source:a.source||"pos",marketplace_order_id:a.marketplaceOrderId}},EA=async()=>{if(!zr())return{isConfigured:!1,isOnline:!1,message:"Supabase belum dikonfigurasi"};try{const{count:a,error:n}=await kr.from("products").select("*",{count:"exact",head:!0});if(n)throw n;return{isConfigured:!0,isOnline:!0,productCount:a,message:"Terhubung ke Supabase"}}catch(a){return{isConfigured:!0,isOnline:!1,message:"Gagal terhubung ke Supabase: "+a.message}}},CA=async(a,n,i)=>{if(!zr())return{error:"Supabase not configured"};const o={products:0,customers:0,transactions:0,errors:[]};for(const d of a)try{const{error:u}=await kr.from("products").upsert(jA(d),{onConflict:"code"});u?o.errors.push(`Product ${d.name}: ${u.message}`):o.products++}catch(u){o.errors.push(`Product ${d.name}: ${u.message}`)}for(const d of n)if(d.type!=="walk-in")try{const{error:u}=await kr.from("customers").upsert(NA(d),{onConflict:"code"});u?o.errors.push(`Customer ${d.name}: ${u.message}`):o.customers++}catch(u){o.errors.push(`Customer ${d.name}: ${u.message}`)}for(const d of i)try{const{error:u}=await kr.from("transactions").upsert(SA(d),{onConflict:"transaction_code"});u?o.errors.push(`Transaction ${d.transactionCode}: ${u.message}`):o.transactions++}catch(u){o.errors.push(`Transaction ${d.transactionCode}: ${u.message}`)}return{data:o,error:null}},IA=async()=>{if(!zr())return{data:null,error:"Supabase not configured"};const a={products:0,customers:0,transactions:0,errors:[]};try{const{error:n,count:i}=await kr.from("transactions").delete().neq("id",0);n?a.errors.push(`Transactions: ${n.message}`):a.transactions=i||0;const{error:o,count:d}=await kr.from("customers").delete().neq("id",0);o?a.errors.push(`Customers: ${o.message}`):a.customers=d||0;const{error:u,count:f}=await kr.from("products").delete().neq("id",0);return u?a.errors.push(`Products: ${u.message}`):a.products=f||0,{data:a,error:a.errors.length>0?a.errors.join(", "):null}}catch(n){return{data:null,error:n.message}}},kP=Object.freeze(Object.defineProperty({__proto__:null,deleteAllSupabaseData:IA,getSyncStatus:EA,syncLocalToSupabase:CA,transformCustomerToDB:NA,transformProductToDB:jA,transformTransactionToDB:SA},Symbol.toStringTag,{value:"Module"}));function jP(){const[a,n]=ne.useState(!1),[i,o]=ne.useState(!1),[d,u]=ne.useState("add"),[f,h]=ne.useState(null),[p,m]=ne.useState(!1),[x,y]=ne.useState(!1),[w,v]=ne.useState(null),{users:g,user:A,addUser:k,updateUser:E,deleteUser:j,toggleUserActive:N,isAdmin:B}=Ei(),{storeInfo:I,updateStoreInfo:D,setLogo:T,stockSettings:R,updateStockSettings:$,whatsappNumber:_,whatsappMessage:F,updateWhatsApp:Q}=Qu(),{products:L}=is(),{customers:X}=_i(),{transactions:le}=ki(),{purchases:fe,suppliers:V}=T3(),{cartItems:H}=S3(),{logs:se,clearOldLogs:ue,exportLogs:U}=x1(),[W,re]=ne.useState(I),[ie,be]=ne.useState(R||{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30}),[K,ke]=ne.useState({number:_||"",message:F||"Halo, saya ingin bertanya tentang produk di toko Anda."});ne.useEffect(()=>{const he=rp();m(he.isEnabled),v(he)},[]);const je=he=>{m(he),HT(he),v(rp()),alert(he?" Auto Sync diaktifkan! Sinkronisasi akan berjalan otomatis saat login dan setiap 1 jam.":" Auto Sync dinonaktifkan.")},Qe=async()=>{y(!0);try{const he=await QT();he.success?(alert(" Sinkronisasi manual berhasil!"),v(rp())):alert(" Sinkronisasi gagal: "+(he.error||"Unknown error"))}catch(he){alert(" Sinkronisasi gagal: "+he.message)}finally{y(!1)}},ze=()=>{const he={version:"1.0",timestamp:new Date().toISOString(),data:{products:L,customers:X,transactions:le,purchases:fe,suppliers:V,settings:I,users:g,cart:H}},Pe=JSON.stringify(he,null,2),Me=new Blob([Pe],{type:"application/json"}),$e=URL.createObjectURL(Me),rt=document.createElement("a");rt.href=$e,rt.download=`backup-pos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL($e),alert("Backup database berhasil diunduh!")},tt=he=>{const Pe=he.target.files[0];if(!Pe)return;if(!confirm("Restore database akan mengganti semua data yang ada. Lanjutkan?")){he.target.value="";return}const Me=new FileReader;Me.onload=$e=>{var rt,pt;try{const ut=JSON.parse($e.target.result);if(!ut.version||!ut.data)throw new Error("Format backup tidak valid");localStorage.setItem("product-storage",JSON.stringify({state:{products:ut.data.products,categories:(pt=(rt=ut.data.products)==null?void 0:rt[0])!=null&&pt.category?[...new Set(ut.data.products.map(bt=>bt.category))]:[]}})),localStorage.setItem("customer-storage",JSON.stringify({state:{customers:ut.data.customers}})),localStorage.setItem("transaction-storage",JSON.stringify({state:{transactions:ut.data.transactions}})),localStorage.setItem("purchase-storage",JSON.stringify({state:{purchases:ut.data.purchases,suppliers:ut.data.suppliers}})),localStorage.setItem("settings-storage",JSON.stringify({state:{storeInfo:ut.data.settings}})),localStorage.setItem("auth-storage",JSON.stringify({state:{users:ut.data.users,isAuthenticated:!0}})),alert("Restore database berhasil! Halaman akan di-refresh."),window.location.reload()}catch(ut){alert("Error restore database: "+ut.message)}},Me.readAsText(Pe),he.target.value=""},Ze=async()=>{if(confirm(` PERINGATAN!

Ini akan menghapus SEMUA data:
- Produk (Lokal & Supabase)
- Customer (Lokal & Supabase)
- Transaksi (Lokal & Supabase)
- Pembelian
- Supplier
- Settings
- Cache Shopee

Data TIDAK BISA dikembalikan!
Lanjutkan?`)&&confirm("Konfirmasi sekali lagi: Anda yakin ingin menghapus SEMUA database LOKAL dan SUPABASE?")){if(zr())try{alert(" Menghapus data di Supabase...");const he=await IA();if(he.error){if(console.error("Error deleting Supabase data:",he.error),!confirm(` Gagal menghapus data Supabase: ${he.error}

Lanjutkan hapus data lokal?`))return}else console.log("Supabase data deleted:",he.data)}catch(he){if(console.error("Error deleting Supabase data:",he),!confirm(` Gagal menghapus data Supabase: ${he.message}

Lanjutkan hapus data lokal?`))return}is.setState({products:[],categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis"]}),_i.setState({customers:[{id:1,name:"Walk-in Customer",phone:"-",email:"-",address:"-",type:"walk-in",points:0,totalSpent:0,customPrices:{}}]}),ki.setState({transactions:[]}),T3.setState({purchases:[],suppliers:[]}),S3.setState({items:[],discount:0,discountType:"percent",paymentMethod:"cash",customerId:null}),localStorage.removeItem("product-storage"),localStorage.removeItem("customer-storage"),localStorage.removeItem("transaction-storage"),localStorage.removeItem("purchase-storage"),localStorage.removeItem("settings-storage"),localStorage.removeItem("cart-storage"),localStorage.removeItem("shopee_products_cache"),localStorage.removeItem("shopee_orders_cache"),localStorage.removeItem("shopee_returns_cache"),localStorage.removeItem("shopee_last_sync"),alert(" Semua database (lokal & Supabase) berhasil dihapus! Halaman akan di-refresh."),window.location.reload(!0)}},Re=he=>{const Pe=he.target.files[0];if(Pe&&Pe.type.startsWith("image/")){const Me=new FileReader;Me.onloadend=()=>{T(Me.result),re({...W,logo:Me.result})},Me.readAsDataURL(Pe)}},He=()=>{D(W),alert("Informasi toko berhasil disimpan!")},Ue=he=>{h(he),n(!0)},ye=()=>{u("add"),h(null),o(!0)},Ye=he=>{u("edit"),h(he),o(!0)},Ae=he=>{if(!confirm(`Hapus user "${he.name}"?

Data user akan dihapus permanen.`))return;const Pe=j(he.id);Pe.success||alert(Pe.error)},Le=he=>{const Pe=he.isActive?"nonaktifkan":"aktifkan";if(!confirm(`${Pe.charAt(0).toUpperCase()+Pe.slice(1)} user "${he.name}"?`))return;const Me=N(he.id);Me.success||alert(Me.error)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pengaturan"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Konfigurasi sistem dan preferensi"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(y1,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Informasi Toko"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo Toko"}),l.jsxs("div",{className:"flex items-center gap-4",children:[W.logo?l.jsx("div",{className:"relative w-24 h-24 rounded-lg border-2 border-gray-200 overflow-hidden",children:l.jsx("img",{src:W.logo,alt:"Logo",className:"w-full h-full object-contain"})}):l.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:l.jsx(lu,{className:"text-gray-400",size:32})}),l.jsxs("div",{children:[l.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:Re,className:"hidden"}),l.jsxs("label",{htmlFor:"logo-upload",className:"btn btn-secondary cursor-pointer inline-flex items-center gap-2",children:[l.jsx(cu,{size:16}),"Pilih Logo"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG maksimal 2MB"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Toko"}),l.jsx("input",{type:"text",value:W.name,onChange:he=>re({...W,name:he.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),l.jsx("textarea",{className:"input",rows:"2",value:W.address,onChange:he=>re({...W,address:he.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telepon"}),l.jsx("input",{type:"tel",value:W.phone,onChange:he=>re({...W,phone:he.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:W.email,onChange:he=>re({...W,email:he.target.value}),className:"input"})]}),l.jsx("button",{onClick:He,className:"btn btn-primary",children:"Simpan Informasi"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(zs,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Stok Marketplace"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx(g0,{size:14,className:"inline mr-1"}),"Buffer stok mencegah overselling di marketplace dengan menyisihkan sejumlah stok sebagai cadangan."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Buffer Stok (%)"}),l.jsx("input",{type:"number",min:"0",max:"50",value:ie.bufferPercent,onChange:he=>be({...ie,bufferPercent:parseInt(he.target.value)||0}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Persentase stok yang dicadangkan (default: 10%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Minimum Buffer (pcs)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:ie.minBuffer,onChange:he=>be({...ie,minBuffer:parseInt(he.target.value)||0}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal stok cadangan walaupun % rendah (default: 3 pcs)"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:ie.enableAutoSync,onChange:he=>be({...ie,enableAutoSync:he.target.checked}),className:"w-4 h-4"}),l.jsx("span",{children:"Auto-sync stok ke marketplace"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interval Sync (menit)"}),l.jsx("input",{type:"number",min:"5",max:"120",value:ie.syncInterval,onChange:he=>be({...ie,syncInterval:parseInt(he.target.value)||30}),className:"input",disabled:!ie.enableAutoSync})]}),l.jsx("button",{onClick:()=>{$(ie),alert("Pengaturan stok marketplace berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan Stok"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(A3,{className:"text-green-500",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"WhatsApp Customer Service"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-green-800",children:[l.jsx(g0,{size:14,className:"inline mr-1"}),"Tambahkan nomor WhatsApp CS untuk tombol kontak cepat di dashboard dan struk."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nomor WhatsApp"}),l.jsx("input",{type:"tel",placeholder:"6281234567890",value:K.number,onChange:he=>ke({...K,number:he.target.value}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 628xxx (tanpa + atau 0 di depan)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pesan Default"}),l.jsx("textarea",{rows:"3",placeholder:"Halo, saya ingin bertanya...",value:K.message,onChange:he=>ke({...K,message:he.target.value}),className:"input"})]}),K.number&&l.jsx("div",{className:"flex gap-2",children:l.jsxs("a",{href:`https://wa.me/${K.number.replace(/\\D/g,"")}?text=${encodeURIComponent(K.message)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success flex items-center gap-2",children:[l.jsx(A3,{size:16}),"Test WhatsApp"]})}),l.jsx("button",{onClick:()=>{Q(K.number,K.message),alert("Pengaturan WhatsApp berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan WhatsApp"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(ii,{className:"text-blue-500",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Auto Sync Marketplace"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx(g0,{size:14,className:"inline mr-1"}),"Sinkronisasi otomatis produk dan pesanan dari marketplace (Shopee, Lazada) ke sistem lokal dan cloud."]})}),w&&l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${w.isEnabled?"bg-green-500":"bg-gray-400"}`}),l.jsxs("span",{children:["Status: ",w.isEnabled?"Aktif":"Nonaktif"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Aw,{size:14,className:"text-gray-500"}),l.jsx("span",{children:w.lastSyncTime?`Last: ${new Date(w.lastSyncTime).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:"Belum pernah sync"})]}),l.jsx("div",{className:"flex items-center gap-2",children:w.isRunning?l.jsxs(l.Fragment,{children:[l.jsx(ii,{size:14,className:"text-blue-500 animate-spin"}),l.jsx("span",{children:"Sedang berjalan..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(b1,{size:14,className:"text-green-500"}),l.jsx("span",{children:"Siap"})]})})]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:he=>je(he.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500",disabled:x}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-medium",children:"Aktifkan Auto Sync"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sync otomatis saat login dan setiap 1 jam. Sinkronisasi produk, pesanan, dan backup cloud."})]})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Qe,disabled:x||!p,className:"btn btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?l.jsxs(l.Fragment,{children:[l.jsx(ii,{size:16,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ii,{size:16}),"Sync Sekarang"]})}),!p&&l.jsx("span",{className:"text-sm text-gray-500 self-center",children:"Aktifkan Auto Sync terlebih dahulu"})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Marketplace Terhubung:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[localStorage.getItem("shopee_access_token")&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(k3,{size:12}),"Shopee"]}),localStorage.getItem("lazada_access_token")&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:[l.jsx(k3,{size:12}),"Lazada"]}),!localStorage.getItem("shopee_access_token")&&!localStorage.getItem("lazada_access_token")&&l.jsx("span",{className:"text-xs text-gray-500 italic",children:"Belum ada marketplace yang terhubung. Hubungkan marketplace di menu Integration."})]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Dw,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Pajak"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Aktifkan Pajak PPN"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Persentase PPN (%)"}),l.jsx("input",{type:"number",defaultValue:"11",className:"input"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Tampilkan harga sudah termasuk pajak"})]})}),l.jsx("button",{className:"btn btn-primary",children:"Simpan"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(d2,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Printer"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Printer"}),l.jsxs("select",{className:"input",children:[l.jsx("option",{children:"Thermal Printer (Default)"}),l.jsx("option",{children:"HP LaserJet"}),l.jsx("option",{children:"Canon Pixma"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ukuran Kertas"}),l.jsxs("select",{className:"input",children:[l.jsx("option",{children:"58mm (Thermal)"}),l.jsx("option",{children:"80mm (Thermal)"}),l.jsx("option",{children:"A4"})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Cetak otomatis setelah transaksi"})]})}),l.jsx("button",{className:"btn btn-secondary",children:"Test Print"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(qm,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Notifikasi"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Alert stok menipis"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Alert produk mendekati expired"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Notifikasi email harian"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Notifikasi WhatsApp"})]}),l.jsx("button",{className:"btn btn-primary mt-4",children:"Simpan"})]})]}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(e2,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Manajemen Pengguna"})]}),B()&&l.jsxs("button",{onClick:ye,className:"btn btn-primary btn-sm inline-flex items-center gap-2",children:[l.jsx(Qs,{size:16}),"Tambah User"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:g.length}),l.jsx("p",{className:"text-xs text-blue-600",children:"Total User"})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:g.filter(he=>he.isActive!==!1).length}),l.jsx("p",{className:"text-xs text-green-600",children:"User Aktif"})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:g.filter(he=>he.role==="admin").length}),l.jsx("p",{className:"text-xs text-purple-600",children:"Admin"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:g.filter(he=>{var Pe,Me;return(Me=(Pe=he.marketplaceCredentials)==null?void 0:Pe.shopee)==null?void 0:Me.isConnected}).length}),l.jsx("p",{className:"text-xs text-orange-600",children:"Terhubung Shopee"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marketplace"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:g.map(he=>{var Pe,Me;return l.jsxs("tr",{className:he.isActive===!1?"bg-gray-50 opacity-60":"",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${he.role==="admin"?"bg-purple-500":"bg-blue-500"}`,children:he.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:he.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["@",he.username]})]}),(A==null?void 0:A.id)===he.id&&l.jsx("span",{className:"badge badge-info text-xs",children:"Anda"})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`badge ${he.role==="admin"?"badge-danger":"badge-info"}`,children:he.role==="admin"?"Admin":"Kasir"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[he.permissions.includes("all")?l.jsx("span",{className:"badge badge-success text-xs",children:"Semua Akses"}):he.permissions.slice(0,3).map($e=>l.jsx("span",{className:"badge badge-secondary text-xs",children:Vy[$e]||$e},$e)),!he.permissions.includes("all")&&he.permissions.length>3&&l.jsxs("span",{className:"badge badge-secondary text-xs",children:["+",he.permissions.length-3]})]})}),l.jsx("td",{className:"px-4 py-4",children:(Me=(Pe=he.marketplaceCredentials)==null?void 0:Pe.shopee)!=null&&Me.isConnected?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-700",children:"Shopee"})]}):l.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`badge ${he.isActive!==!1?"badge-success":"badge-danger"}`,children:he.isActive!==!1?"Aktif":"Nonaktif"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>Ue(he),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ganti Password",children:l.jsx(Ew,{size:16,className:"text-gray-600"})}),B()&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Ye(he),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User",children:l.jsx(Ym,{size:16,className:"text-blue-600"})}),he.id!==1&&he.id!==(A==null?void 0:A.id)&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Le(he),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:he.isActive!==!1?"Nonaktifkan":"Aktifkan",children:he.isActive!==!1?l.jsx(bR,{size:16,className:"text-yellow-600"}):l.jsx(gR,{size:16,className:"text-green-600"})}),l.jsx("button",{onClick:()=>Ae(he),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus User",children:l.jsx(zn,{size:16,className:"text-red-600"})})]})]})]})})]},he.id)})})]})})]}),B()&&l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jw,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Audit Log"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>{confirm("Hapus log lama (lebih dari 30 hari)?")&&(ue(30),alert("Log lama berhasil dihapus"))},className:"btn btn-secondary text-sm",children:[l.jsx(zn,{size:16}),"Clear Old"]}),l.jsxs("button",{onClick:()=>{const he=U(),Pe=new Blob([he],{type:"application/json"}),Me=URL.createObjectURL(Pe),$e=document.createElement("a");$e.href=Me,$e.download=`audit-log-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(Me)},className:"btn btn-primary text-sm",children:[l.jsx(tl,{size:16}),"Export"]})]})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Log aktivitas sistem (total: ",se.length,")"]}),l.jsx("div",{className:"max-h-80 overflow-y-auto border rounded-lg",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Waktu"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Aksi"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"User"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Detail"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[se.slice(0,50).map(he=>{var Pe,Me,$e;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 whitespace-nowrap",children:new Date(he.timestamp).toLocaleString("id-ID")}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${he.action.includes("login")?"bg-blue-100 text-blue-800":he.action.includes("transaction")?"bg-green-100 text-green-800":he.action.includes("stock")?"bg-yellow-100 text-yellow-800":he.action.includes("product")?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:he.action.replace("_"," ").toUpperCase()})}),l.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:he.userName||"-"}),l.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 max-w-xs truncate",title:JSON.stringify(he.details),children:((Pe=he.details)==null?void 0:Pe.productName)||((Me=he.details)==null?void 0:Me.transactionId)||(($e=he.details)==null?void 0:$e.username)||JSON.stringify(he.details).slice(0,50)})]},he.id)}),se.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500",children:"Belum ada log aktivitas"})})]})]})})]}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(rR,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Backup & Restore Database"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:l.jsx(tl,{className:"text-primary",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Backup Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download semua data sistem (produk, customer, transaksi, dll) dalam format JSON"}),l.jsxs("button",{onClick:ze,className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(tl,{size:20}),"Download Backup"]})]})]})}),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-warning transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:l.jsx(N3,{className:"text-warning",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Restore Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload file backup untuk mengembalikan data sistem"}),l.jsx("input",{type:"file",id:"restore-upload",accept:".json",onChange:tt,className:"hidden"}),l.jsxs("label",{htmlFor:"restore-upload",className:"btn btn-warning inline-flex items-center gap-2 cursor-pointer",children:[l.jsx(N3,{size:20}),"Upload Backup"]})]})]})}),l.jsx("div",{className:"border-2 border-dashed border-red-300 rounded-lg p-6 text-center hover:border-red-500 transition-colors md:col-span-2",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:l.jsx(zn,{className:"text-danger",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-red-700",children:"Hapus Seluruh Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Menghapus SEMUA data sistem. Data tidak bisa dikembalikan!"}),l.jsxs("button",{onClick:Ze,className:"btn btn-danger inline-flex items-center gap-2",children:[l.jsx(zn,{size:20}),"Hapus Semua Data"]})]})]})})]}),l.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-yellow-600 font-bold",children:""}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-yellow-800 mb-1",children:"Peringatan"}),l.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[l.jsx("li",{children:" Backup database secara rutin untuk keamanan data"}),l.jsx("li",{children:" Restore akan mengganti semua data yang ada saat ini"}),l.jsx("li",{children:" Pastikan file backup valid sebelum melakukan restore"}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Hapus Database akan menghapus SEMUA data tanpa bisa dikembalikan!"})]}),l.jsx("li",{children:" Sistem akan refresh otomatis setelah restore/clear berhasil"})]})]})]})})]}),l.jsx(EP,{products:L,customers:X,transactions:le}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(g0,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Tentang Aplikasi"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(y1,{className:"text-white",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"POS & Inventory System"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-primary/10 text-primary text-sm font-medium rounded-full",children:[l.jsx(ZT,{size:14}),"Versi 1.0.0"]})]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Aplikasi Point of Sale dan Manajemen Inventori lengkap dengan fitur kasir, manajemen produk, pelacakan stok, laporan penjualan, dan sinkronisasi real-time. Dirancang untuk memudahkan pengelolaan bisnis retail Anda."}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Manajemen Produk & Kategori"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Transaksi Penjualan (Kasir)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Pelacakan Stok Real-time"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Laporan Penjualan & Analitik"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Sinkronisasi Cloud (Supabase)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Scan Barcode (Android)"]})]})]}),l.jsxs("div",{className:"md:w-72 bg-white rounded-xl p-5 shadow-sm",children:[l.jsxs("h5",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(e2,{size:18,className:"text-primary"}),"Pengembang"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Nama"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"DedyChen"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),l.jsxs("a",{href:"https://wa.me/6281213821828",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-green-600 font-semibold hover:text-green-700 transition-colors",children:[l.jsx(fR,{size:16}),"0812-1382-1828"]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100",children:l.jsxs("a",{href:"https://wa.me/6281213821828?text=Halo%20DedyChen,%20saya%20ingin%20bertanya%20tentang%20aplikasi%20POS",target:"_blank",rel:"noopener noreferrer",className:"w-full btn bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Hubungi via WhatsApp"]})})]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center text-sm text-gray-500",children:l.jsx("p",{children:" 2024 POS & Inventory System. Dikembangkan dengan  oleh DedyChen"})})]})]})]}),a&&l.jsx(NP,{user:f,onClose:()=>{n(!1),h(null)}}),i&&l.jsx(SP,{mode:d,user:f,onClose:()=>{o(!1),h(null)}})]})}function NP({user:a,onClose:n}){const[i,o]=ne.useState({newPassword:"",confirmPassword:""}),[d,u]=ne.useState(""),[f,h]=ne.useState(!1),{changePassword:p}=Ei(),m=x=>{if(x.preventDefault(),u(""),i.newPassword.length<4){u("Password minimal 4 karakter");return}if(i.newPassword!==i.confirmPassword){u("Password tidak cocok");return}p(a.username,i.newPassword),h(!0),setTimeout(()=>{n()},1500)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ew,{className:"text-primary",size:24}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Ganti Password"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["User: ",a.name]})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),f?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:"Password Berhasil Diubah!"}),l.jsxs("p",{className:"text-gray-600",children:["Password untuk ",a.name," telah diperbarui"]})]}):l.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:d}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password Baru *"}),l.jsx("input",{type:"password",value:i.newPassword,onChange:x=>o({...i,newPassword:x.target.value}),className:"input",placeholder:"Masukkan password baru",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 4 karakter"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password *"}),l.jsx("input",{type:"password",value:i.confirmPassword,onChange:x=>o({...i,confirmPassword:x.target.value}),className:"input",placeholder:"Ketik ulang password baru",required:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Ubah Password"}),l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function SP({mode:a,user:n,onClose:i}){const{addUser:o,updateUser:d}=Ei(),[u,f]=ne.useState(""),[h,p]=ne.useState(!1),m=["pos","products","products_view","stock","customers","customers_view","sales","purchases","reports","marketplace","settings"],[x,y]=ne.useState({username:(n==null?void 0:n.username)||"",password:"",confirmPassword:"",name:(n==null?void 0:n.name)||"",role:(n==null?void 0:n.role)||"cashier",permissions:(n==null?void 0:n.permissions)||["pos","products_view"],isActive:(n==null?void 0:n.isActive)!==!1}),w=g=>{if(g==="all")y({...x,permissions:x.permissions.includes("all")?[]:["all"]});else{const A=x.permissions.filter(k=>k!=="all");A.includes(g)?y({...x,permissions:A.filter(k=>k!==g)}):y({...x,permissions:[...A,g]})}},v=g=>{if(g.preventDefault(),f(""),!x.username.trim()){f("Username harus diisi");return}if(!x.name.trim()){f("Nama harus diisi");return}if(a==="add"){if(!x.password){f("Password harus diisi");return}if(x.password.length<4){f("Password minimal 4 karakter");return}if(x.password!==x.confirmPassword){f("Konfirmasi password tidak cocok");return}}if(x.permissions.length===0){f("Pilih minimal 1 permission");return}if(a==="add"){const A=o({username:x.username.trim().toLowerCase(),password:x.password,name:x.name.trim(),role:x.role,permissions:x.permissions});if(!A.success){f(A.error);return}}else{const A={username:x.username.trim().toLowerCase(),name:x.name.trim(),role:x.role,permissions:x.permissions,isActive:x.isActive};if(x.password){if(x.password.length<4){f("Password minimal 4 karakter");return}if(x.password!==x.confirmPassword){f("Konfirmasi password tidak cocok");return}A.password=x.password}const k=d(n.id,A);if(!k.success){f(k.error);return}}p(!0),setTimeout(()=>i(),1500)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${a==="add"?"bg-green-100":"bg-blue-100"}`,children:a==="add"?l.jsx(Qs,{className:"text-green-600",size:24}):l.jsx(Ym,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:a==="add"?"Tambah User Baru":"Edit User"}),a==="edit"&&l.jsxs("p",{className:"text-sm text-gray-600",children:["@",n.username]})]})]}),l.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Zs,{size:24})})]}),h?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(b1,{className:"text-green-600",size:32})}),l.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:a==="add"?"User Berhasil Ditambahkan!":"User Berhasil Diperbarui!"})]}):l.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[u&&l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2",children:[l.jsx(jc,{size:18}),u]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),l.jsx("input",{type:"text",value:x.username,onChange:g=>y({...x,username:g.target.value}),className:"input",placeholder:"username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",value:x.name,onChange:g=>y({...x,name:g.target.value}),className:"input",placeholder:"Nama Lengkap",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",a==="add"?"*":"(kosongkan jika tidak diubah)"]}),l.jsx("input",{type:"password",value:x.password,onChange:g=>y({...x,password:g.target.value}),className:"input",placeholder:"",required:a==="add"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password"}),l.jsx("input",{type:"password",value:x.confirmPassword,onChange:g=>y({...x,confirmPassword:g.target.value}),className:"input",placeholder:"",required:a==="add"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role *"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"role",value:"cashier",checked:x.role==="cashier",onChange:()=>y({...x,role:"cashier"}),className:"w-4 h-4"}),l.jsx("span",{className:"badge badge-info",children:"Kasir"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"role",value:"admin",checked:x.role==="admin",onChange:()=>y({...x,role:"admin",permissions:["all"]}),className:"w-4 h-4"}),l.jsx("span",{className:"badge badge-danger",children:"Admin"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:[l.jsx(mR,{size:16,className:"inline mr-1"}),"Permissions *"]}),l.jsxs("div",{className:"border rounded-lg p-4 space-y-3 max-h-48 overflow-y-auto",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[l.jsx("input",{type:"checkbox",checked:x.permissions.includes("all"),onChange:()=>w("all"),className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-green-700",children:" Semua Akses (Admin)"})]}),l.jsx("hr",{}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(g=>l.jsxs("label",{className:`flex items-center gap-2 cursor-pointer p-2 rounded transition-colors ${x.permissions.includes("all")?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:x.permissions.includes("all")||x.permissions.includes(g),onChange:()=>!x.permissions.includes("all")&&w(g),disabled:x.permissions.includes("all"),className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:Vy[g]||g})]},g))})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.permissions.includes("all")?"User memiliki akses ke semua fitur":`${x.permissions.length} permission dipilih`})]}),a==="edit"&&(n==null?void 0:n.id)!==1&&l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:x.isActive,onChange:g=>y({...x,isActive:g.target.checked}),className:"w-4 h-4"}),l.jsx("span",{children:"User Aktif"})]}),l.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"User nonaktif tidak bisa login"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a==="add"?"Tambah User":"Simpan Perubahan"}),l.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function EP({products:a,customers:n,transactions:i}){var y,w;const[o,d]=ne.useState({isConfigured:!1,isOnline:!1,message:"Memeriksa..."}),[u,f]=ne.useState(!1),[h,p]=ne.useState(null);ne.useEffect(()=>{m()},[]);const m=async()=>{const v=await EA();d(v)},x=async()=>{if(confirm(`Upload semua data lokal ke Supabase?

Data di cloud akan di-update/ditambahkan.`)){f(!0),p(null);try{const v=await CA(a,n,i);p(v.data)}catch(v){p({errors:[v.message]})}f(!1),await m()}};return l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ou,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Sinkronisasi Cloud (Supabase)"})]}),l.jsxs("button",{onClick:m,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[l.jsx(ii,{size:16}),"Refresh Status"]})]}),l.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-center gap-3 ${o.isOnline?"bg-green-50 border border-green-200":o.isConfigured?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[o.isOnline?l.jsx(b1,{className:"text-green-600",size:24}):l.jsx(jc,{className:o.isConfigured?"text-yellow-600":"text-gray-400",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold ${o.isOnline?"text-green-700":o.isConfigured?"text-yellow-700":"text-gray-600"}`,children:o.isOnline?" Terhubung ke Supabase":o.message}),o.productCount!==void 0&&l.jsxs("p",{className:"text-sm text-gray-600",children:[o.productCount," produk di cloud"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:a.length}),l.jsx("p",{className:"text-sm text-blue-600",children:"Produk Lokal"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:n.length}),l.jsx("p",{className:"text-sm text-purple-600",children:"Customer Lokal"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:i.length}),l.jsx("p",{className:"text-sm text-green-600",children:"Transaksi Lokal"})]})]}),l.jsx("button",{onClick:x,disabled:!o.isOnline||u,className:`btn w-full flex items-center justify-center gap-2 ${o.isOnline?"btn-primary":"btn-secondary opacity-50 cursor-not-allowed"}`,children:u?l.jsxs(l.Fragment,{children:[l.jsx(ii,{size:20,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[l.jsx(N3,{size:20}),"Upload Data Lokal ke Cloud"]})}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg ${(y=h.errors)!=null&&y.length?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:((w=h.errors)==null?void 0:w.length)>0?l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-red-700 mb-2",children:"Beberapa error terjadi:"}),l.jsxs("ul",{className:"text-sm text-red-600 list-disc list-inside",children:[h.errors.slice(0,5).map((v,g)=>l.jsx("li",{children:v},g)),h.errors.length>5&&l.jsxs("li",{children:["...dan ",h.errors.length-5," error lainnya"]})]})]}):l.jsxs("div",{className:"text-green-700",children:[l.jsx("p",{className:"font-semibold mb-1",children:" Sinkronisasi berhasil!"}),l.jsxs("p",{className:"text-sm",children:[h.products," produk, ",h.customers," customer, ",h.transactions," transaksi ter-sync"]})]})}),!zr()&&l.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 p-4 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("strong",{children:"Belum terkonfigurasi:"})," Tambahkan VITE_SUPABASE_URL dan VITE_SUPABASE_ANON_KEY di file .env"]})})]})}const h6=ml("Device",{web:()=>bo(()=>import("./web-DIAUBCx7.js"),[]).then(a=>new a.DeviceWeb)});function CP(){const[a,n]=ne.useState(!1),[i,o]=ne.useState(!1),[d,u]=ne.useState(!1),[f,h]=ne.useState(null),[p,m]=ne.useState(0),[x,y]=ne.useState({id:"",name:""}),[w,v]=ne.useState(""),[g,A]=ne.useState(null),{products:k}=is();ne.useEffect(()=>{const R=`scan-${Date.now()}`;return v(R),h6.getInfo().then($=>{h6.getId().then(_=>{y({id:_.identifier||_.uuid||"unknown",name:`${$.manufacturer} ${$.model}`})})}),E(),()=>{D()}},[]);const E=async()=>{try{const{error:R}=await kr.from("barcode_scans").select("id").limit(1);u(!R)}catch{u(!1)}},j=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const R=document.getElementById("root");R&&(R.style.visibility="hidden")},N=()=>{document.body.style.background="",document.documentElement.style.background="";const R=document.getElementById("root");R&&(R.style.visibility="visible")},B=async R=>{try{const{error:$}=await kr.from("barcode_scans").insert({barcode:R,device_id:x.id,device_name:x.name,session_id:w,processed:!1});if($)throw $;const _=k.find(F=>F.barcode===R||F.code===R||F.sku===R);return h({barcode:R,product:_?_.name:null,time:new Date().toLocaleTimeString()}),m(F=>F+1),!0}catch($){return console.error("Error sending scan:",$),A("Gagal mengirim scan ke server"),!1}},I=async()=>{try{A(null);const{camera:R}=await ti.requestPermissions();if(R!=="granted"&&R!=="limited"){A("Izin kamera diperlukan");return}j(),n(!0),await ti.addListener("barcodeScanned",async $=>{var _;(_=$.barcode)!=null&&_.rawValue&&(navigator.vibrate&&navigator.vibrate(100),await B($.barcode.rawValue))}),await ti.startScan({formats:[Sn.Ean13,Sn.Ean8,Sn.Code128,Sn.Code39,Sn.QrCode,Sn.UpcA,Sn.UpcE],lensFacing:"back"})}catch(R){console.error("Scan error:",R),A("Gagal memulai scanner: "+R.message),N(),n(!1)}},D=async()=>{try{await ti.stopScan(),await ti.removeAllListeners(),i&&await ti.toggleTorch()}catch(R){console.error("Stop scan error:",R)}finally{N(),n(!1),o(!1)}},T=async()=>{try{await ti.toggleTorch(),o(!i)}catch(R){console.error("Torch error:",R)}};return a?l.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent"},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-green-500 rounded-tl-xl"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-green-500 rounded-tr-xl"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-green-500 rounded-bl-xl"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-green-500 rounded-br-xl"}),l.jsx("div",{className:"absolute left-4 right-4 h-1 bg-green-500 rounded scanning-line"})]})}),l.jsxs("div",{className:"absolute top-4 left-0 right-0 text-center pointer-events-none safe-area-top",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/60 backdrop-blur px-4 py-2 rounded-full",children:[l.jsx(du,{className:"text-green-400",size:18}),l.jsx("span",{className:"text-white font-medium",children:"Mode Remote Scanner"})]}),l.jsx("p",{className:"text-gray-200 text-sm mt-2",children:"Scan untuk kirim ke Kasir Web"})]}),f&&l.jsx("div",{className:"absolute top-24 left-4 right-4 pointer-events-none",children:l.jsxs("div",{className:"bg-green-500/90 backdrop-blur rounded-xl p-3 flex items-center gap-3",children:[l.jsx(J0,{className:"text-white flex-shrink-0",size:24}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:f.product||f.barcode}),l.jsxs("p",{className:"text-green-100 text-sm",children:["Terkirim ke Web  ",f.time]})]}),l.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:l.jsx("span",{className:"text-white font-bold",children:p})})]})}),l.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[l.jsx("button",{onClick:T,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40",children:i?l.jsx(Nw,{size:28,className:"text-yellow-400"}):l.jsx(Sw,{size:28,className:"text-white"})}),l.jsx("button",{onClick:D,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40",children:l.jsx(Zs,{size:30,className:"text-white"})})]}),l.jsx("style",{children:`
          .scanning-line {
            animation: scan 2s ease-in-out infinite;
          }
          @keyframes scan {
            0%, 100% { top: 10%; }
            50% { top: 85%; }
          }
        `})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 text-white p-6 rounded-b-3xl",children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Remote Scanner"}),l.jsx("p",{className:"text-green-100",children:"Scan barcode untuk kasir di Web"}),l.jsx("div",{className:"mt-4 flex items-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx(du,{size:20,className:"text-green-300"}),l.jsx("span",{className:"text-green-200",children:"Terhubung ke server"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Mw,{size:20,className:"text-red-300"}),l.jsx("span",{className:"text-red-200",children:"Tidak terhubung"})]})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[g&&l.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl",children:g}),l.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Cara Penggunaan:"}),l.jsxs("ol",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"1"}),l.jsxs("span",{children:["Buka halaman ",l.jsx("strong",{children:"Kasir/POS"})," di komputer Web"]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"2"}),l.jsxs("span",{children:["Tekan tombol ",l.jsx("strong",{children:'"Mulai Scan"'})," di bawah"]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"3"}),l.jsx("span",{children:"Arahkan kamera ke barcode produk"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"4"}),l.jsx("span",{children:"Produk otomatis masuk ke keranjang di Web!"})]})]})]}),p>0&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zs,{className:"text-green-600",size:24}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-green-900",children:[p," produk di-scan"]}),f&&l.jsxs("p",{className:"text-sm text-green-700",children:["Terakhir: ",f.product||f.barcode]})]})]}),l.jsx("button",{onClick:()=>{m(0),h(null)},className:"text-green-600 text-sm underline",children:"Reset"})]})}),l.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Device:"})," ",x.name||"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Session:"})," ",w]})]}),l.jsxs("button",{onClick:I,disabled:!d,className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 shadow-lg transition-all mt-4 ${d?"bg-green-500 text-white active:scale-95":"bg-gray-300 text-gray-500"}`,children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),d?"Mulai Scan":"Tidak Terhubung"]})]})]})}function IP(){var v;const[a]=nC(),n=So(),[i,o]=ne.useState("processing"),[d,u]=ne.useState("Memproses authorization..."),[f,h]=ne.useState(null),{stores:p,updateStoreCredentials:m,updateStore:x}=H1();ne.useEffect(()=>{(async()=>{const A=a.get("code"),k=a.get("platform")||"shopee",E=a.get("store_id"),j=a.get("shop_id"),N=a.get("error"),B=a.get("error_description"),I=localStorage.getItem("pendingOAuthStoreId"),D=localStorage.getItem("pendingOAuthPlatform")||k;if(N){o("error"),u(`Error: ${B||N}`),localStorage.removeItem("pendingOAuthStoreId"),localStorage.removeItem("pendingOAuthPlatform");return}if(!A){o("error"),u("Authorization code tidak ditemukan di URL");return}let T=null;const R=E||I;if(R&&(T=p.find(_=>_.id===parseInt(R))),!T&&j&&(T=p.find(_=>{var F;return _.shopId===j||((F=_.credentials)==null?void 0:F.shopId)===j})),T||(T=p.find(_=>_.platform===D&&!_.isConnected)),localStorage.removeItem("pendingOAuthStoreId"),localStorage.removeItem("pendingOAuthPlatform"),!T){o("error"),u("Toko tidak ditemukan. Silakan coba hubungkan kembali dari halaman Integrasi.");return}const $=ga[k]||ga.manual;try{u(`Menukar code untuk access token ${$.name}...`);const _=await Os.getToken(T,A),F=_.data||_,Q=F.access_token?F:F.data||{};Q&&Q.access_token?(m(T.id,{accessToken:Q.access_token,refreshToken:Q.refresh_token||""}),x(T.id,{isConnected:!0,shopId:Q.shop_id||j||T.shopId,tokenExpiry:Q.expire_in?new Date(Date.now()+Q.expire_in*1e3).toISOString():null}),h({...Q,platform:k,storeName:T.shopName}),o("success"),u(`${$.name} berhasil terhubung! Token telah disimpan.`),setTimeout(()=>{n("/marketplace/integration")},3e3)):(o("error"),u((F==null?void 0:F.message)||(F==null?void 0:F.error)||(_==null?void 0:_.error)||"Gagal mendapatkan access token"))}catch(_){o("error"),u(`Error: ${_.message}`)}})()},[a,n,p,m,x]);const y=a.get("platform")||"shopee",w=ga[y]||ga.manual;return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center",children:[i==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`w-16 h-16 ${w.bgLight} rounded-full flex items-center justify-center mx-auto mb-4`,children:l.jsx(Z0,{className:`w-10 h-10 ${w.textColor} animate-spin`})}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Memproses ",w.name,"..."]}),l.jsx("p",{className:"text-gray-600",children:d})]}),i==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(J0,{className:"w-10 h-10 text-green-500"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Berhasil!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:d}),f&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left text-sm mb-4",children:[l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Platform:"}),l.jsxs("span",{className:`ml-2 ${w.textColor}`,children:[w.icon," ",w.name]})]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Toko:"})," ",f.storeName]}),f.shop_id&&l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Shop ID:"})," ",f.shop_id]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Access Token:"})," ",(v=f.access_token)==null?void 0:v.substring(0,20),"..."]}),f.expire_in&&l.jsxs("p",{children:[l.jsx("strong",{children:"Expires In:"})," ",Math.floor(f.expire_in/3600)," jam"]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Anda akan dialihkan ke halaman Integrasi dalam beberapa detik..."}),l.jsx("button",{onClick:()=>n("/marketplace/integration"),className:`mt-4 px-6 py-2 ${w.bgColor} text-white rounded-lg hover:opacity-90`,children:"Lanjutkan ke Integrasi"})]}),i==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(_w,{className:"w-10 h-10 text-red-500"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Gagal"}),l.jsx("p",{className:"text-gray-600 mb-4",children:d}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:()=>n("/marketplace/integration"),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Kembali"}),l.jsx("button",{onClick:()=>window.location.reload(),className:`px-6 py-2 ${w.bgColor} text-white rounded-lg hover:opacity-90`,children:"Coba Lagi"})]})]})]})})}const nx=({platform:a,size:n=24})=>{const i=ga[a]||ga.manual;return i.logo?l.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):l.jsx("span",{className:"text-xl",children:i.icon||""})};function BP(){const a=So(),[n,i]=ne.useState(!1),[o,d]=ne.useState(!1),[u,f]=ne.useState(!1),[h,p]=ne.useState(!1),[m,x]=ne.useState(null),[y,w]=ne.useState(""),[v,g]=ne.useState("all"),[A,k]=ne.useState({type:"",text:""}),[E,j]=ne.useState(null),[N,B]=ne.useState(null),{user:I}=Ei(),{importShopeeProducts:D}=is(),{stores:T,addStore:R,updateStore:$,removeStore:_,toggleStoreActive:F,updateStoreSync:Q,updateStoreCredentials:L,getSummary:X}=H1(),le=X(),fe=T.filter(K=>{var Qe,ze;const ke=K.shopName.toLowerCase().includes(y.toLowerCase())||((Qe=K.shopId)==null?void 0:Qe.includes(y))||((ze=K.ownerName)==null?void 0:ze.toLowerCase().includes(y.toLowerCase())),je=v==="all"||K.platform===v;return ke&&je}),V=K=>{if(!confirm(`Hapus toko "${K.shopName}"?

Data integrasi akan dihapus permanen.`))return;_(K.id).success&&(k({type:"success",text:"Toko berhasil dihapus"}),setTimeout(()=>k({type:"",text:""}),3e3))},H=K=>{F(K.id)},se=K=>{x(K),d(!0)},ue=async K=>{var ke,je,Qe;if(K.platform==="manual"){k({type:"info",text:"Toko manual tidak memerlukan koneksi OAuth"}),setTimeout(()=>k({type:"",text:""}),3e3);return}if(K.platform==="shopee"&&!((ke=K.credentials)!=null&&ke.partnerId)){k({type:"warning",text:"Partner ID belum dikonfigurasi. Klik Edit untuk memasukkan kredensial Shopee."}),setTimeout(()=>k({type:"",text:""}),5e3);return}if((K.platform==="lazada"||K.platform==="tiktok")&&!((je=K.credentials)!=null&&je.appKey)){k({type:"warning",text:"App Key belum dikonfigurasi. Klik Edit untuk memasukkan kredensial."}),setTimeout(()=>k({type:"",text:""}),5e3);return}if(K.platform==="tokopedia"&&!((Qe=K.credentials)!=null&&Qe.clientId)){k({type:"warning",text:"Client ID belum dikonfigurasi. Klik Edit untuk memasukkan kredensial Tokopedia."}),setTimeout(()=>k({type:"",text:""}),5e3);return}B(K.id);try{const ze=await Os.getAuthUrl(K);if(ze.url)localStorage.setItem("pendingOAuthStoreId",K.id.toString()),localStorage.setItem("pendingOAuthPlatform",K.platform),window.location.href=ze.url,k({type:"info",text:"Mengalihkan ke halaman otorisasi..."});else throw new Error("Gagal mendapatkan URL otorisasi")}catch(ze){k({type:"error",text:`Gagal koneksi: ${ze.message}`})}finally{B(null),setTimeout(()=>k({type:"",text:""}),5e3)}},U=async K=>{var ke;if(K.platform==="manual"){k({type:"success",text:"Toko manual selalu tersedia"}),setTimeout(()=>k({type:"",text:""}),3e3);return}if(!((ke=K.credentials)!=null&&ke.accessToken)){k({type:"warning",text:"Belum ada access token. Hubungkan toko terlebih dahulu."}),setTimeout(()=>k({type:"",text:""}),3e3);return}B(K.id);try{const je=await Os.testConnection(K);je.success?($(K.id,{isConnected:!0}),k({type:"success",text:`Koneksi ke ${K.shopName} berhasil!`})):($(K.id,{isConnected:!1}),k({type:"error",text:`Koneksi gagal: ${je.error}`}))}catch(je){k({type:"error",text:`Gagal test koneksi: ${je.message}`})}finally{B(null),setTimeout(()=>k({type:"",text:""}),5e3)}},W=async K=>{var ke,je,Qe,ze,tt,Ze,Re,He,Ue,ye,Ye,Ae,Le,he,Pe,Me;if(K.platform==="manual"){k({type:"info",text:"Toko manual tidak memerlukan sinkronisasi"}),setTimeout(()=>k({type:"",text:""}),3e3);return}if(!((ke=K.credentials)!=null&&ke.accessToken)){k({type:"warning",text:"Belum ada access token. Klik ikon WiFi untuk menghubungkan toko terlebih dahulu."}),setTimeout(()=>k({type:"",text:""}),5e3);return}j(K.id),k({type:"info",text:`Menyinkronkan ${K.shopName}...`});try{const $e=await Os.fullSync(K);let rt=null;if(K.platform==="shopee"&&((ze=(Qe=(je=$e.results)==null?void 0:je.products)==null?void 0:Qe.data)==null?void 0:ze.length)>0&&(rt=D($e.results.products.data),console.log("Import result:",rt)),Q(K.id,{productCount:((Ze=(tt=$e.results)==null?void 0:tt.products)==null?void 0:Ze.count)||0,orderCount:((He=(Re=$e.results)==null?void 0:Re.orders)==null?void 0:He.count)||0}),$e.success){let pt=` Sync ${K.shopName} berhasil!
`;pt+=` Produk: ${((ye=(Ue=$e.results)==null?void 0:Ue.products)==null?void 0:ye.count)||0},  Order: ${((Ae=(Ye=$e.results)==null?void 0:Ye.orders)==null?void 0:Ae.count)||0}`,rt&&(pt+=`
 ${rt.imported} baru, ${rt.updated} diperbarui`,rt.skipped>0&&(pt+=`
 ${rt.skipped} dilewati (SKU duplikat)`),rt.productsWithoutSku>0&&(pt+=`
 ${rt.productsWithoutSku} produk tanpa SKU`),rt.variantsProcessed>0&&(pt+=`
 ${rt.variantsProcessed} varian diproses`),pt+=`

 Cek console browser (F12) untuk detail lengkap`),k({type:"success",text:pt})}else{const pt=(he=(Le=$e.results)==null?void 0:Le.products)==null?void 0:he.error,ut=(Me=(Pe=$e.results)==null?void 0:Pe.orders)==null?void 0:Me.error;k({type:"error",text:`Sync gagal: ${pt||ut||"Unknown error"}`})}}catch($e){k({type:"error",text:`Gagal sync: ${$e.message}`})}finally{j(null),setTimeout(()=>k({type:"",text:""}),8e3)}},re=()=>{f(!0)},ie=K=>{x({platform:K}),p(!0)},be=K=>K?new Date(K).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Integrasi Marketplace"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola semua toko marketplace Anda dalam satu tempat"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>a("/marketplace/products"),className:"btn btn-outline inline-flex items-center gap-2",children:[l.jsx(zs,{size:18}),"Lihat Produk"]}),l.jsxs("button",{onClick:()=>a("/marketplace/orders"),className:"btn btn-outline inline-flex items-center gap-2",children:[l.jsx(yo,{size:18}),"Lihat Pesanan"]}),l.jsxs("button",{onClick:re,className:"btn btn-outline inline-flex items-center gap-2",disabled:T.filter(K=>K.isActive&&K.platform!=="manual").length===0,children:[l.jsx(ii,{size:18}),"Sync Semua"]}),l.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(Qs,{size:20}),"Tambah Toko"]})]})]}),A.text&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${A.type==="success"?"bg-green-50 text-green-800 border border-green-200":A.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:[A.type==="success"?l.jsx(b1,{size:18}):l.jsx(jc,{size:18}),A.text]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[l.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(y1,{className:"text-blue-600",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:le.totalStores}),l.jsx("p",{className:"text-sm text-gray-500",children:"Total Toko"})]})]})}),Object.entries(ga).map(([K,ke])=>l.jsx("div",{className:`bg-white rounded-xl p-4 shadow-sm border ${ke.borderColor} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>ie(K),title:`Klik untuk panduan setup ${ke.name}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${ke.bgLight} rounded-lg flex items-center justify-center text-xl`,children:ke.icon}),l.jsxs("div",{children:[l.jsx("p",{className:`text-2xl font-bold ${ke.textColor}`,children:le.byPlatform[K]||0}),l.jsx("p",{className:"text-sm text-gray-500",children:ke.name})]})]})},K))]}),l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Cari toko...",value:y,onChange:K=>w(K.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vm,{size:18,className:"text-gray-400"}),l.jsxs("select",{value:v,onChange:K=>g(K.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"Semua Platform"}),Object.entries(ga).map(([K,ke])=>l.jsxs("option",{value:K,children:[ke.icon," ",ke.name]},K))]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marketplace"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Toko"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Toko"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Sync"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:fe.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center text-gray-500",children:[l.jsx(y1,{className:"mx-auto mb-3 text-gray-300",size:48}),l.jsx("p",{className:"font-medium",children:"Belum ada toko terdaftar"}),l.jsx("p",{className:"text-sm",children:'Klik "Tambah Toko" untuk memulai integrasi'})]})}):fe.map(K=>{const ke=ga[K.platform]||ga.manual,je=E===K.id,Qe=N===K.id;return l.jsxs("tr",{className:K.isActive?"hover:bg-gray-50":"bg-gray-50 opacity-60",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium ${ke.bgLight} ${ke.textColor}`,children:[l.jsx(nx,{platform:K.platform,size:20}),ke.name]})})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("p",{className:"font-medium text-gray-900",children:K.shopName}),K.ownerName&&l.jsx("p",{className:"text-xs text-gray-500",children:K.ownerName})]}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:K.shopId||"-"})}),l.jsx("td",{className:"px-4 py-4 text-center",children:l.jsx("span",{className:"text-sm font-medium",children:K.productCount||0})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center justify-center gap-2",children:K.platform==="manual"?l.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Manual"]}):K.isConnected?l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Terhubung"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-400 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full"}),"Belum Terhubung"]})})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:be(K.lastSync)}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[K.platform!=="manual"&&l.jsx("button",{onClick:()=>W(K),disabled:je||!K.isActive,className:"p-2 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Sync Data",children:je?l.jsx(Z0,{size:16,className:"text-green-600 animate-spin"}):l.jsx(ii,{size:16,className:"text-green-600"})}),K.platform!=="manual"&&!K.isConnected&&l.jsx("button",{onClick:()=>ue(K),disabled:Qe,className:"p-2 hover:bg-purple-50 rounded-lg transition-colors",title:"Hubungkan Toko",children:Qe?l.jsx(Z0,{size:16,className:"text-purple-600 animate-spin"}):l.jsx(du,{size:16,className:"text-purple-600"})}),K.platform!=="manual"&&K.isConnected&&l.jsx("button",{onClick:()=>U(K),disabled:Qe,className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Test Koneksi",children:l.jsx(wR,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>se(K),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Toko",children:l.jsx(Ym,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>H(K),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:K.isActive?"Nonaktifkan":"Aktifkan",children:K.isActive?l.jsx(iR,{size:16,className:"text-yellow-600"}):l.jsx(oR,{size:16,className:"text-green-600"})}),l.jsx("button",{onClick:()=>V(K),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus Toko",children:l.jsx(zn,{size:16,className:"text-red-600"})})]})})]},K.id)})})]})}),fe.length>0&&l.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t text-sm text-gray-500",children:["Menampilkan ",fe.length," dari ",T.length," toko"]})]}),n&&l.jsx(DP,{onClose:()=>i(!1),onSuccess:K=>{k({type:"success",text:K}),setTimeout(()=>k({type:"",text:""}),3e3)},userId:I==null?void 0:I.id}),o&&m&&l.jsx(TP,{store:m,onClose:()=>{d(!1),x(null)},onSuccess:K=>{k({type:"success",text:K}),setTimeout(()=>k({type:"",text:""}),3e3)}}),u&&l.jsx(RP,{stores:T,onClose:()=>f(!1),onComplete:K=>{const ke=K.filter(je=>je.success).length;k({type:ke>0?"success":"error",text:`Sync selesai: ${ke}/${K.length} toko berhasil`}),setTimeout(()=>k({type:"",text:""}),5e3)},updateStoreSync:Q}),h&&m&&l.jsx(MP,{platform:m.platform,onClose:()=>{p(!1),x(null)}})]})}function DP({onClose:a,onSuccess:n,userId:i}){var A;const{addStore:o}=H1(),[d,u]=ne.useState(1),[f,h]=ne.useState(null),[p,m]=ne.useState({shopName:"",shopId:"",ownerName:"",partnerId:"",partnerKey:"",accessToken:"",refreshToken:"",appKey:"",appSecret:"",fsId:"",clientId:"",clientSecret:"",notes:""}),[x,y]=ne.useState(""),w=k=>{h(k),u(2)},v=k=>{if(k.preventDefault(),y(""),!p.shopName.trim()){y("Nama toko harus diisi");return}const E=o({platform:f,shopName:p.shopName.trim(),shopId:p.shopId.trim(),ownerName:p.ownerName.trim(),partnerId:p.partnerId,partnerKey:p.partnerKey,accessToken:p.accessToken,refreshToken:p.refreshToken,appKey:p.appKey,appSecret:p.appSecret,fsId:p.fsId,clientId:p.clientId,clientSecret:p.clientSecret,notes:p.notes,userId:i});if(!E.success){y(E.error);return}n(`Toko "${p.shopName}" berhasil ditambahkan`),a()},g=()=>{switch(f){case"shopee":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner ID"}),l.jsx("input",{type:"text",value:p.partnerId,onChange:k=>m({...p,partnerId:k.target.value}),className:"input",placeholder:"2014001"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID *"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"669903315"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Key"}),l.jsx("input",{type:"password",value:p.partnerKey,onChange:k=>m({...p,partnerKey:k.target.value}),className:"input",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:k=>m({...p,accessToken:k.target.value}),className:"input",placeholder:"Opsional - bisa diisi nanti"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Refresh Token"}),l.jsx("input",{type:"password",value:p.refreshToken,onChange:k=>m({...p,refreshToken:k.target.value}),className:"input",placeholder:"Opsional - bisa diisi nanti"})]})]});case"lazada":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"400626654256"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:p.appKey,onChange:k=>m({...p,appKey:k.target.value}),className:"input",placeholder:"App Key dari Lazada"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:p.appSecret,onChange:k=>m({...p,appSecret:k.target.value}),className:"input",placeholder:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:k=>m({...p,accessToken:k.target.value}),className:"input",placeholder:"Opsional"})]})]});case"tokopedia":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"7494509580045224114"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"FS ID"}),l.jsx("input",{type:"text",value:p.fsId,onChange:k=>m({...p,fsId:k.target.value}),className:"input",placeholder:"Fulfillment Service ID"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client ID"}),l.jsx("input",{type:"text",value:p.clientId,onChange:k=>m({...p,clientId:k.target.value}),className:"input",placeholder:"Client ID"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Secret"}),l.jsx("input",{type:"password",value:p.clientSecret,onChange:k=>m({...p,clientSecret:k.target.value}),className:"input",placeholder:""})]})]})]});case"tiktok":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"TikTok Shop ID"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:p.appKey,onChange:k=>m({...p,appKey:k.target.value}),className:"input",placeholder:"App Key"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:p.appSecret,onChange:k=>m({...p,appSecret:k.target.value}),className:"input",placeholder:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:k=>m({...p,accessToken:k.target.value}),className:"input",placeholder:"Opsional"})]})]});case"manual":return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),l.jsx("textarea",{value:p.notes,onChange:k=>m({...p,notes:k.target.value}),className:"input",rows:"3",placeholder:"Catatan untuk toko ini..."})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Qs,{className:"text-blue-600",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Tambah Toko Baru"}),l.jsx("p",{className:"text-sm text-gray-500",children:d===1?"Pilih platform marketplace":`Konfigurasi ${(A=ga[f])==null?void 0:A.name}`})]})]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsx("div",{className:"p-6",children:d===1?l.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(ga).map(([k,E])=>l.jsxs("button",{onClick:()=>w(k),className:`p-4 rounded-xl border-2 hover:border-blue-500 transition-all flex flex-col items-center gap-2 ${E.borderColor} hover:shadow-md`,children:[l.jsx("span",{className:"text-3xl",children:E.icon}),l.jsx("span",{className:`font-semibold ${E.textColor}`,children:E.name})]},k))}):l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x&&l.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[l.jsx(jc,{size:18}),x]}),l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${ga[f].bgLight} ${ga[f].textColor}`,children:[l.jsx("span",{children:ga[f].icon}),l.jsx("span",{className:"font-medium",children:ga[f].name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Panggilan Toko *"}),l.jsx("input",{type:"text",value:p.shopName,onChange:k=>m({...p,shopName:k.target.value}),className:"input",placeholder:"Contoh: Toko Utama Shopee",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Pemilik"}),l.jsx("input",{type:"text",value:p.ownerName,onChange:k=>m({...p,ownerName:k.target.value}),className:"input",placeholder:"Nama pemilik toko"})]}),g(),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>u(1),className:"flex-1 btn btn-secondary",children:"Kembali"}),l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Tambah Toko"})]})]})})]})})}function TP({store:a,onClose:n,onSuccess:i}){var w,v,g,A,k,E,j,N,B;const{updateStore:o,updateStoreCredentials:d}=H1(),u=ga[a.platform]||ga.manual,[f,h]=ne.useState({shopName:a.shopName||"",shopId:a.shopId||"",ownerName:a.ownerName||"",notes:a.notes||"",partnerId:((w=a.credentials)==null?void 0:w.partnerId)||"",partnerKey:((v=a.credentials)==null?void 0:v.partnerKey)||"",accessToken:((g=a.credentials)==null?void 0:g.accessToken)||"",refreshToken:((A=a.credentials)==null?void 0:A.refreshToken)||"",appKey:((k=a.credentials)==null?void 0:k.appKey)||"",appSecret:((E=a.credentials)==null?void 0:E.appSecret)||"",fsId:((j=a.credentials)==null?void 0:j.fsId)||"",clientId:((N=a.credentials)==null?void 0:N.clientId)||"",clientSecret:((B=a.credentials)==null?void 0:B.clientSecret)||""}),[p,m]=ne.useState(""),x=I=>{if(I.preventDefault(),m(""),!f.shopName.trim()){m("Nama toko harus diisi");return}o(a.id,{shopName:f.shopName.trim(),shopId:f.shopId.trim(),ownerName:f.ownerName.trim(),notes:f.notes,credentials:{partnerId:f.partnerId,partnerKey:f.partnerKey,accessToken:f.accessToken,refreshToken:f.refreshToken,appKey:f.appKey,appSecret:f.appSecret,fsId:f.fsId,clientId:f.clientId,clientSecret:f.clientSecret}}),i(`Toko "${f.shopName}" berhasil diperbarui`),n()},y=()=>{switch(a.platform){case"shopee":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner ID"}),l.jsx("input",{type:"text",value:f.partnerId,onChange:I=>h({...f,partnerId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Key"}),l.jsx("input",{type:"password",value:f.partnerKey,onChange:I=>h({...f,partnerKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Refresh Token"}),l.jsx("input",{type:"password",value:f.refreshToken,onChange:I=>h({...f,refreshToken:I.target.value}),className:"input"})]})]});case"lazada":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:f.appKey,onChange:I=>h({...f,appKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:f.appSecret,onChange:I=>h({...f,appSecret:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]})]});case"tokopedia":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"FS ID"}),l.jsx("input",{type:"text",value:f.fsId,onChange:I=>h({...f,fsId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client ID"}),l.jsx("input",{type:"text",value:f.clientId,onChange:I=>h({...f,clientId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Secret"}),l.jsx("input",{type:"password",value:f.clientSecret,onChange:I=>h({...f,clientSecret:I.target.value}),className:"input"})]})]})]});case"tiktok":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:f.appKey,onChange:I=>h({...f,appKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:f.appSecret,onChange:I=>h({...f,appSecret:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${u.bgLight} rounded-lg flex items-center justify-center overflow-hidden`,children:l.jsx(nx,{platform:a.platform,size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Toko"}),l.jsx("p",{className:"text-sm text-gray-500",children:u.name})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[p&&l.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[l.jsx(jc,{size:18}),p]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Panggilan Toko *"}),l.jsx("input",{type:"text",value:f.shopName,onChange:I=>h({...f,shopName:I.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Pemilik"}),l.jsx("input",{type:"text",value:f.ownerName,onChange:I=>h({...f,ownerName:I.target.value}),className:"input"})]}),y(),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),l.jsx("textarea",{value:f.notes,onChange:I=>h({...f,notes:I.target.value}),className:"input",rows:"2"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"}),l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan Perubahan"})]})]})]})})}function RP({stores:a,onClose:n,onComplete:i,updateStoreSync:o}){const[d,u]=ne.useState(!1),[f,h]=ne.useState({current:0,total:0,store:"",status:""}),[p,m]=ne.useState([]),[x,y]=ne.useState(!1),w=a.filter(g=>g.isActive&&g.platform!=="manual"),v=async()=>{u(!0),m([]);const g=await Os.syncAllStores(w,A=>{h(A)});g.forEach(A=>{var k,E,j,N;A.success&&o(A.storeId,{productCount:((E=(k=A.results)==null?void 0:k.products)==null?void 0:E.count)||0,orderCount:((N=(j=A.results)==null?void 0:j.orders)==null?void 0:N.count)||0})}),m(g),y(!0),u(!1),i(g)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(ii,{className:"text-green-600",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Sinkronisasi Semua Toko"}),l.jsxs("p",{className:"text-sm text-gray-500",children:[w.length," toko aktif"]})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[!d&&!x&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(g0,{size:20,className:"text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-blue-800",children:"Proses ini akan menyinkronkan produk dan pesanan dari semua toko marketplace yang aktif."}),l.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Estimasi waktu: ~",w.length*30," detik"]})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Toko yang akan disinkronkan:"}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:w.map(g=>{const A=ga[g.platform];return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{children:A==null?void 0:A.icon}),l.jsx("span",{className:"text-sm",children:g.shopName})]},g.id)})})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"}),l.jsxs("button",{onClick:v,disabled:w.length===0,className:"flex-1 btn btn-primary inline-flex items-center justify-center gap-2",children:[l.jsx(hR,{size:18}),"Mulai Sync"]})]})]}),d&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Z0,{size:48,className:"mx-auto text-blue-600 animate-spin mb-4"}),l.jsx("p",{className:"text-lg font-medium",children:"Sinkronisasi berlangsung..."}),l.jsxs("p",{className:"text-gray-500 mt-1",children:[f.current,"/",f.total," - ",f.store]}),l.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 rounded-full h-2 transition-all",style:{width:`${f.current/f.total*100}%`}})})]}),x&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center py-4",children:[l.jsx(J0,{size:48,className:"mx-auto text-green-600 mb-2"}),l.jsx("p",{className:"text-lg font-medium",children:"Sinkronisasi Selesai!"})]}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.map((g,A)=>{var E,j,N,B;const k=ga[g.platform];return l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${g.success?"bg-green-50":"bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:k==null?void 0:k.icon}),l.jsx("span",{className:"text-sm font-medium",children:g.storeName})]}),l.jsx("div",{className:"flex items-center gap-2",children:g.success?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-xs text-gray-600",children:[((j=(E=g.results)==null?void 0:E.products)==null?void 0:j.count)||0," produk, ",((B=(N=g.results)==null?void 0:N.orders)==null?void 0:B.count)||0," order"]}),l.jsx(J0,{size:16,className:"text-green-600"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-red-600",children:g.error}),l.jsx(_w,{size:16,className:"text-red-600"})]})})]},A)})}),l.jsx("button",{onClick:n,className:"w-full btn btn-primary",children:"Tutup"})]})]})]})})}function MP({platform:a,onClose:n}){const i=ga[a]||ga.manual,o={shopee:{title:"Cara Menghubungkan Shopee",steps:[{step:1,title:"Daftar Shopee Partner",description:"Kunjungi https://partner.shopee.co.id dan daftar sebagai partner untuk mendapatkan Partner ID dan Partner Key.",link:"https://partner.shopee.co.id"},{step:2,title:"Buat Aplikasi",description:"Di dashboard partner, buat aplikasi baru dan catat App Key (Partner ID) dan App Secret (Partner Key)."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Partner ID, Shop ID, dan Partner Key di form tambah toko."},{step:4,title:"Otorisasi Toko",description:'Klik tombol "Hubungkan" untuk membuka halaman otorisasi Shopee dan izinkan akses ke toko Anda.'},{step:5,title:"Sync Data",description:"Setelah terhubung, klik tombol sync untuk mengambil data produk dan pesanan dari Shopee."}]},lazada:{title:"Cara Menghubungkan Lazada",steps:[{step:1,title:"Daftar Lazada Open Platform",description:"Kunjungi https://open.lazada.com dan daftar sebagai developer.",link:"https://open.lazada.com"},{step:2,title:"Buat Aplikasi",description:"Buat aplikasi baru di dashboard dan dapatkan App Key dan App Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Shop ID, App Key, dan App Secret di form tambah toko."},{step:4,title:"Otorisasi Seller",description:'Klik "Hubungkan" untuk login ke akun seller Lazada Anda dan izinkan akses.'},{step:5,title:"Sync Data",description:"Setelah terhubung, sinkronkan produk dan pesanan dari Lazada."}]},tokopedia:{title:"Cara Menghubungkan Tokopedia",steps:[{step:1,title:"Daftar Tokopedia Mitra",description:"Kunjungi https://developer.tokopedia.com dan daftar sebagai mitra/partner.",link:"https://developer.tokopedia.com"},{step:2,title:"Dapatkan Kredensial",description:"Setelah disetujui, Anda akan mendapat FS ID, Client ID, dan Client Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan semua kredensial di form tambah toko beserta Shop ID."},{step:4,title:"Otorisasi Toko",description:'Klik "Hubungkan" untuk mengotorisasi akses ke toko Tokopedia Anda.'},{step:5,title:"Sync Data",description:"Mulai sinkronisasi data produk dan pesanan."}]},tiktok:{title:"Cara Menghubungkan TikTok Shop",steps:[{step:1,title:"Daftar TikTok Shop Partner",description:"Kunjungi https://partner.tiktokshop.com dan daftar sebagai partner.",link:"https://partner.tiktokshop.com"},{step:2,title:"Buat Aplikasi",description:"Buat aplikasi dan dapatkan App Key serta App Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Shop ID, App Key, dan App Secret di form tambah toko."},{step:4,title:"Otorisasi Toko",description:'Klik "Hubungkan" untuk login ke TikTok Shop dan izinkan akses.'},{step:5,title:"Sync Data",description:"Sinkronkan data produk dan pesanan dari TikTok Shop."}]},manual:{title:"Toko Manual",steps:[{step:1,title:"Untuk Marketplace Lain",description:"Gunakan opsi ini untuk mencatat toko dari marketplace yang belum terintegrasi otomatis."},{step:2,title:"Input Manual",description:"Anda perlu menginput produk dan pesanan secara manual untuk toko ini."},{step:3,title:"Kelola Data",description:"Data toko manual dikelola terpisah dan tidak tersinkronisasi dengan marketplace."}]}},d=o[a]||o.manual;return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${i.bgLight} rounded-lg flex items-center justify-center overflow-hidden`,children:l.jsx(nx,{platform:a,size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:d.title}),l.jsx("p",{className:"text-sm text-gray-500",children:"Panduan langkah demi langkah"})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[d.steps.map((u,f)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full ${i.bgLight} ${i.textColor} flex items-center justify-center font-bold`,children:u.step}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description}),u.link&&l.jsxs("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 text-sm ${i.textColor} hover:underline mt-2`,children:[l.jsx(X0,{size:14}),"Kunjungi"]})]})]},f)),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(jc,{size:18,className:"text-yellow-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-yellow-800",children:[l.jsx("p",{className:"font-medium",children:"Catatan Penting:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[l.jsx("li",{children:"Proses approval bisa memakan waktu 1-7 hari kerja"}),l.jsx("li",{children:"Pastikan toko Anda aktif dan memiliki izin usaha"}),l.jsx("li",{children:"Access token perlu diperbarui secara berkala"})]})]})]})}),l.jsx("button",{onClick:n,className:"w-full btn btn-primary mt-4",children:"Mengerti"})]})]})})}function _P(){const a=So(),[n,i]=ne.useState(""),[o,d]=ne.useState("all"),[u,f]=ne.useState("all"),[h,p]=ne.useState(1),[m,x]=ne.useState(20),[y,w]=ne.useState(!1),[v,g]=ne.useState(""),{transactions:A,addTransaction:k,updateTransaction:E,clearMarketplaceTransactions:j}=ki(),{stores:N,shopeeConfig:B}=H1(),I=ne.useMemo(()=>A.filter(U=>U.source==="shopee"||U.source==="lazada"||U.source==="tokopedia"||U.source==="tiktok"||U.marketplaceSource),[A]),D=ne.useMemo(()=>I.filter(U=>{var be,K,ke;const W=!n||((be=U.id)==null?void 0:be.toLowerCase().includes(n.toLowerCase()))||((K=U.transactionCode)==null?void 0:K.toLowerCase().includes(n.toLowerCase()))||((ke=U.customer)==null?void 0:ke.toLowerCase().includes(n.toLowerCase()));let re=o==="all";if(!re&&o!=="all"){const je=N.find(Qe=>Qe.id===parseInt(o));je&&(re=U.source===je.platform||U.marketplaceStoreId===je.id)}let ie=u==="all";return ie||(u==="unpaid"?ie=U.status==="pending"||U.shopeeStatus==="UNPAID":u==="ready_to_ship"?ie=U.status==="ready_to_ship"||U.shopeeStatus==="READY_TO_SHIP"||U.shopeeStatus==="PROCESSED":u==="shipped"?ie=U.status==="shipped"||U.shopeeStatus==="SHIPPED":u==="completed"?ie=U.status==="completed"||U.shopeeStatus==="COMPLETED":u==="cancelled"?ie=U.status==="cancelled"||U.status==="return"||U.isReturn===!0||U.shopeeStatus==="CANCELLED"||U.shopeeStatus==="IN_CANCEL"||U.shopeeStatus==="TO_RETURN"||U.shopeeStatus==="RETURN"||U.shopeeStatus==="REQUESTED"||U.shopeeStatus==="ACCEPTED"||U.shopeeStatus==="JUDGING"||U.shopeeStatus==="REFUND_PAID"||U.shopeeStatus==="PROCESSING":ie=U.status===u),W&&re&&ie}),[I,n,o,u,N]),T=Math.ceil(D.length/m),R=D.slice((h-1)*m,h*m);console.log("All marketplace orders status:",I.map(U=>({id:U.shopeeOrderId||U.id,status:U.status,shopeeStatus:U.shopeeStatus})).slice(0,10));const $=I.length,_=I.filter(U=>U.status==="pending"||U.shopeeStatus==="UNPAID").length,F=I.filter(U=>U.status==="ready_to_ship"||U.status==="processing"||U.shopeeStatus==="READY_TO_SHIP"||U.shopeeStatus==="PROCESSED").length,Q=I.filter(U=>U.status==="shipped"||U.shopeeStatus==="SHIPPED").length,L=I.filter(U=>U.status==="completed"||U.shopeeStatus==="COMPLETED").length,X=I.filter(U=>U.status==="cancelled"||U.status==="return"||U.isReturn===!0||U.shopeeStatus==="CANCELLED"||U.shopeeStatus==="IN_CANCEL"||U.shopeeStatus==="TO_RETURN"||U.shopeeStatus==="RETURN"||U.shopeeStatus==="REQUESTED"||U.shopeeStatus==="ACCEPTED"||U.shopeeStatus==="JUDGING"||U.shopeeStatus==="REFUND_PAID"||U.shopeeStatus==="PROCESSING").length,le=I.reduce((U,W)=>U+(W.total||0),0),fe=[{key:"all",label:"Semua",count:$},{key:"unpaid",label:"Belum Bayar",count:_},{key:"ready_to_ship",label:"Perlu Dikirim",count:F},{key:"shipped",label:"Dikirim",count:Q},{key:"completed",label:"Selesai",count:L},{key:"cancelled",label:"Pengembalian/Pembatalan",count:X}],V=async()=>{var U,W,re,ie,be,K;w(!0),g("Menyinkronkan pesanan...");try{const ke=N.filter(Ze=>Ze.platform==="shopee"&&Ze.isActive&&Ze.isConnected);if(ke.length===0){g("Tidak ada toko Shopee yang aktif"),alert("Tidak ada toko Shopee yang terhubung. Silakan hubungkan toko dulu."),w(!1);return}let je=0,Qe=0;const ze=[];for(const Ze of ke){try{console.log(`Syncing orders from ${Ze.shopName} (${Ze.platform})...`);const Re=await t2.syncOrders(Ze);if(console.log("Shopee syncOrders result:",Re),console.log("Orders count:",(U=Re.data)==null?void 0:U.length),(W=Re.data)!=null&&W[0]&&(console.log("First order ALL FIELDS:",JSON.stringify(Re.data[0],null,2)),console.log("Order keys:",Object.keys(Re.data[0]))),Re.success&&Re.data&&Re.data.length>0)for(const He of Re.data){const ye=ki.getState().transactions.find(Le=>Le.id===He.order_sn||Le.transactionCode===He.order_sn||Le.shopeeOrderId===He.order_sn),Ye={UNPAID:"pending",READY_TO_SHIP:"ready_to_ship",PROCESSED:"processing",SHIPPED:"shipped",COMPLETED:"completed",IN_CANCEL:"cancelled",CANCELLED:"cancelled",INVOICE_PENDING:"pending"},Ae={id:He.order_sn,transactionCode:He.order_sn,shopeeOrderId:He.order_sn,source:"shopee",marketplaceSource:"shopee",marketplaceStoreId:Ze.id,storeName:Ze.shopName,customer:He.buyer_username||He.buyer_user_id||"Pembeli Shopee",total:He.total_amount||He.escrow_amount||He.actual_shipping_fee||0,subtotal:He.total_amount||0,shippingFee:He.actual_shipping_fee||He.estimated_shipping_fee||0,status:Ye[He.order_status]||((re=He.order_status)==null?void 0:re.toLowerCase())||"pending",shopeeStatus:He.order_status,date:He.create_time?new Date(He.create_time*1e3).toISOString():new Date().toISOString(),paymentMethod:He.payment_method||"Shopee",items:((ie=He.item_list)==null?void 0:ie.map(Le=>{var he;return{name:Le.item_name,sku:Le.item_sku||Le.model_sku,quantity:Le.model_quantity_purchased||1,price:Le.model_discounted_price||Le.model_original_price||0,image:((he=Le.image_info)==null?void 0:he.image_url)||""}}))||[],createdAt:new Date().toISOString()};ye?(E(ye.id,Ae),Qe++):(k(Ae),je++)}}catch(Re){console.error(`Error syncing orders from ${Ze.shopName}:`,Re),ze.push(`${Ze.shopName}: ${Re.message}`)}try{console.log(`Syncing returns from ${Ze.shopName}...`);const Re=await t2.syncReturns(Ze);if(console.log("Shopee syncReturns full result:",JSON.stringify(Re,null,2)),console.log("Returns data length:",(be=Re==null?void 0:Re.data)==null?void 0:be.length),Re.success&&Re.data&&Re.data.length>0){console.log("Processing",Re.data.length,"returns...");let He=0;for(const Ue of Re.data){console.log("Processing return:",Ue.return_sn,Ue.status);const Ye=ki.getState().transactions.find(he=>he.returnSn===Ue.return_sn||he.id===`RET${Ue.return_sn}`),Ae={REQUESTED:"return_requested",ACCEPTED:"return_accepted",CANCELLED:"return_cancelled",JUDGING:"return_judging",REFUND_PAID:"refund_paid",CLOSED:"return_closed",PROCESSING:"return_processing"},Le={id:`RET${Ue.return_sn}`,transactionCode:Ue.order_sn||`RET${Ue.return_sn}`,returnSn:Ue.return_sn,shopeeOrderId:Ue.order_sn,source:"shopee",marketplaceSource:"shopee",marketplaceStoreId:Ze.id,storeName:Ze.shopName,customer:Ue.buyer_username||Ue.buyer_user_id||"Pembeli Shopee",total:-(Ue.refund_amount||Ue.amount||0),status:Ae[Ue.status]||"return",shopeeStatus:Ue.status,returnReason:Ue.reason||Ue.text_reason,returnType:Ue.return_type,isReturn:!0,date:Ue.create_time?new Date(Ue.create_time*1e3).toISOString():new Date().toISOString(),items:((K=Ue.item)==null?void 0:K.map(he=>({name:he.name||he.item_name,sku:he.item_sku||he.model_sku,quantity:he.amount||1,price:he.item_price||0})))||[],createdAt:new Date().toISOString()};Ye?E(Ye.id,Le):(k(Le),He++)}He>0&&console.log(`Added ${He} returns from ${Ze.shopName}`)}}catch(Re){console.error(`Error syncing returns from ${Ze.shopName}:`,Re)}}const tt=[];je>0&&tt.push(`${je} pesanan baru`),Qe>0&&tt.push(`${Qe} pesanan diperbarui`),tt.length>0?(g(`Berhasil: ${tt.join(", ")}`),alert(`Sinkronisasi berhasil!
${tt.join(`
`)}`)):ze.length>0?(g("Sync selesai dengan error"),alert(`Sinkronisasi selesai dengan error:
${ze.join(`
`)}`)):(g("Tidak ada pesanan baru"),alert("Sinkronisasi selesai. Tidak ada pesanan baru."))}catch(ke){g("Gagal sinkronisasi: "+ke.message),alert("Gagal sinkronisasi: "+ke.message)}finally{w(!1)}},H=async()=>{confirm(`Hapus semua data pesanan marketplace dan sync ulang dari Shopee?

Ini akan menghapus semua pesanan marketplace yang tersimpan lokal.`)&&(j(),g("Data pesanan marketplace dihapus. Memulai sync ulang..."),setTimeout(()=>{V()},500))},se=(U,W)=>{const re=W||U,ie={pending:"bg-yellow-100 text-yellow-800",ready_to_ship:"bg-orange-100 text-orange-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",void:"bg-gray-100 text-gray-800",return:"bg-pink-100 text-pink-800",return_requested:"bg-pink-100 text-pink-800",return_accepted:"bg-pink-100 text-pink-800",return_judging:"bg-yellow-100 text-yellow-800",refund_paid:"bg-green-100 text-green-800",return_closed:"bg-gray-100 text-gray-800",return_processing:"bg-blue-100 text-blue-800",UNPAID:"bg-yellow-100 text-yellow-800",READY_TO_SHIP:"bg-orange-100 text-orange-800",PROCESSED:"bg-blue-100 text-blue-800",SHIPPED:"bg-purple-100 text-purple-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800",IN_CANCEL:"bg-red-100 text-red-800",TO_RETURN:"bg-pink-100 text-pink-800",RETURN:"bg-pink-100 text-pink-800",REQUESTED:"bg-pink-100 text-pink-800",ACCEPTED:"bg-pink-100 text-pink-800",JUDGING:"bg-yellow-100 text-yellow-800",REFUND_PAID:"bg-green-100 text-green-800",PROCESSING:"bg-blue-100 text-blue-800",CLOSED:"bg-gray-100 text-gray-800"},be={pending:"Belum Bayar",ready_to_ship:"Perlu Dikirim",processing:"Diproses",shipped:"Sudah Kirim",completed:"Pesanan Diterima",cancelled:"Dibatalkan",void:"Void",return:"Pengembalian",return_requested:"Pengajuan Pengembalian",return_accepted:"Pengembalian Diterima",return_judging:"Dalam Pengecekan",refund_paid:"Dana Dikembalikan",return_closed:"Pengembalian Ditutup",return_processing:"Sedang Diproses",UNPAID:"Belum Bayar",READY_TO_SHIP:"Perlu Dikirim",PROCESSED:"Diproses",SHIPPED:"Sudah Kirim",COMPLETED:"Pesanan Diterima",CANCELLED:"Dibatalkan",IN_CANCEL:"Dalam Pembatalan",TO_RETURN:"Pengajuan Pengembalian",RETURN:"Pengembalian",REQUESTED:"Pengajuan Pengembalian",ACCEPTED:"Pengembalian Diterima",JUDGING:"Dalam Pengecekan",REFUND_PAID:"Dana Dikembalikan",PROCESSING:"Sedang Diproses",CLOSED:"Ditutup"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ie[re]||"bg-gray-100 text-gray-800"}`,children:be[re]||re})},ue=U=>{const W=ga[U]||ga.manual;return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${W.bgLight} ${W.textColor}`,children:W.name})};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>a("/marketplace/integration"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(ww,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pesanan Marketplace"}),l.jsx("p",{className:"text-gray-600",children:"Kelola pesanan dari semua toko"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:H,disabled:y,className:"btn btn-outline flex items-center gap-2 text-sm",title:"Hapus semua data pesanan marketplace dan sync ulang",children:[l.jsx(zn,{size:18}),"Re-Sync"]}),l.jsxs("button",{onClick:V,disabled:y,className:"btn btn-success flex items-center gap-2",children:[l.jsx(ii,{size:20,className:y?"animate-spin":""}),"Sync Pesanan"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(yo,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pesanan"}),l.jsx("p",{className:"text-2xl font-bold",children:$})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(zs,{className:"text-orange-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Perlu Dikirim"}),l.jsx("p",{className:"text-2xl font-bold",children:F})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(b1,{className:"text-green-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),l.jsx("p",{className:"text-2xl font-bold",children:L})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(y1,{className:"text-purple-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pendapatan"}),l.jsxs("p",{className:"text-xl font-bold",children:["Rp ",le.toLocaleString("id-ID")]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:l.jsx("div",{className:"flex overflow-x-auto border-b",children:fe.map(U=>l.jsxs("button",{onClick:()=>{f(U.key),p(1)},className:`flex-shrink-0 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${u===U.key?"border-orange-500 text-orange-600 bg-orange-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[U.label,U.count>0&&l.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${u===U.key?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:U.count})]},U.key))})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:n,onChange:U=>{i(U.target.value),p(1)},placeholder:"Cari nomor pesanan...",className:"w-full pl-10 input"})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsx(Vm,{size:20})}),l.jsxs("select",{value:o,onChange:U=>{d(U.target.value),p(1)},className:"input w-full md:w-64",children:[l.jsx("option",{value:"all",children:"Semua Toko"}),N.filter(U=>U.isActive).map(U=>l.jsxs("option",{value:U.id,children:[U.shopName," (",U.platform,")"]},U.id))]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Per halaman:"}),l.jsxs("select",{value:m,onChange:U=>{x(parseInt(U.target.value)),p(1)},className:"input w-20",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Platform"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"8",className:"px-4 py-12 text-center",children:[l.jsx(yo,{className:"mx-auto text-gray-300 mb-4",size:48}),l.jsx("p",{className:"text-gray-500",children:"Tidak ada pesanan marketplace."})]})}):R.map(U=>{var W;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:U.shopeeOrderId||U.transactionCode||U.id}),U.source==="shopee"&&U.shopeeOrderId&&l.jsxs("a",{href:`https://seller.shopee.co.id/portal/sale/order/${U.shopeeOrderId}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-500 hover:text-orange-700 flex items-center gap-1 mt-1",children:[l.jsx(X0,{size:12}),"Buka di Shopee"]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"text-sm text-gray-600",children:new Date(U.date).toLocaleDateString("id-ID")})}),l.jsx("td",{className:"px-4 py-3",children:ue(U.source)}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"text-sm text-gray-900",children:typeof U.customer=="string"?U.customer:((W=U.customer)==null?void 0:W.name)||U.buyerUsername||"-"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"text-sm",children:U.items&&U.items.length>0?l.jsxs("div",{className:"space-y-1",children:[U.items.slice(0,2).map((re,ie)=>l.jsxs("div",{className:"text-gray-700",children:[l.jsx("span",{className:"font-medium",children:re.name||re.item_name||"-"}),l.jsxs("span",{className:"text-gray-500 ml-1",children:["x",re.quantity||re.model_quantity_purchased||1]}),(re.sku||re.item_sku||re.model_sku)&&l.jsxs("span",{className:"text-gray-400 text-xs ml-1",children:["(",re.sku||re.item_sku||re.model_sku,")"]})]},ie)),U.items.length>2&&l.jsxs("span",{className:"text-gray-400 text-xs",children:["+",U.items.length-2," produk lainnya"]})]}):l.jsx("span",{className:"text-gray-400",children:"-"})})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:"font-medium",children:["Rp ",(U.total||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:se(U.status,U.shopeeStatus)}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{className:"text-primary hover:text-blue-700",title:"Lihat detail",children:l.jsx(kw,{size:18})}),U.source==="shopee"&&U.shopeeOrderId&&l.jsx("a",{href:`https://seller.shopee.co.id/portal/sale/order/${U.shopeeOrderId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-700",title:"Buka di Shopee Seller",children:l.jsx(X0,{size:18})})]})})]},U.id)})})]})}),T>1&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-gray-50",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",(h-1)*m+1," - ",Math.min(h*m,D.length)," dari ",D.length," pesanan"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(U=>Math.max(1,U-1)),disabled:h===1,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Sebelumnya"}),l.jsxs("span",{className:"px-3 py-1 text-sm",children:["Halaman ",h," dari ",T]}),l.jsx("button",{onClick:()=>p(U=>Math.min(T,U+1)),disabled:h===T,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function FP(){const a=So(),[n,i]=ne.useState(""),[o,d]=ne.useState("all"),[u,f]=ne.useState("all"),[h,p]=ne.useState(1),[m,x]=ne.useState(20),[y,w]=ne.useState([]),[v,g]=ne.useState(!1),[A,k]=ne.useState([]),{products:E,importShopeeProducts:j,addProduct:N,updateProduct:B}=is(),{stores:I,updateStore:D}=H1(),T=ne.useMemo(()=>E.filter(H=>H.source==="shopee"||H.source==="lazada"||H.source==="tokopedia"||H.source==="tiktok"||H.shopeeItemId||H.marketplaceSource),[E]),R=ne.useMemo(()=>T.filter(H=>{var W,re,ie;const se=!n||((W=H.name)==null?void 0:W.toLowerCase().includes(n.toLowerCase()))||((re=H.sku)==null?void 0:re.toLowerCase().includes(n.toLowerCase()))||((ie=H.code)==null?void 0:ie.toLowerCase().includes(n.toLowerCase()));let ue=o==="all";if(!ue&&o!=="all"){const be=I.find(K=>K.id===parseInt(o));be&&(ue=H.shopName===be.shopName||H.storeName===be.shopName||H.source===be.platform&&H.shopId===be.shopId||H.marketplaceStoreId===be.id||H.shop_name===be.shopName)}let U=u==="all";return u==="imported"?U=H.imported===!0||H.isImported===!0:u==="not-imported"&&(U=!H.imported&&!H.isImported),se&&ue&&U}),[T,n,o,u,I]),$=Math.ceil(R.length/m),_=R.slice((h-1)*m,h*m),F=T.length,Q=T.filter(H=>H.imported||H.isImported).length,L=I.filter(H=>H.isActive&&H.isConnected).length,X=async()=>{var re;g(!0);const H=I.filter(ie=>ie.isActive&&ie.isConnected);if(H.length===0){alert("Tidak ada toko yang terhubung. Silakan hubungkan toko terlebih dahulu."),g(!1);return}let se=0,ue=0,U=0,W=[];try{for(const be of H)try{console.log(`Syncing products from ${be.shopName} (${be.platform})...`);let K;if(be.platform==="shopee")K=await t2.syncProducts(be);else if(be.platform==="lazada")K=await sx.syncProducts(be);else{console.log(`Platform ${be.platform} not yet implemented for sync`);continue}if(console.log(`API returned ${((re=K==null?void 0:K.data)==null?void 0:re.length)||0} products from ${be.shopName}`),K.success&&K.data&&K.data.length>0){const ke=K.data.map(ye=>{var Pe,Me,$e,rt,pt,ut,bt,It,St,de,Ee,at,ot,Et,yt;ye.models&&ye.models.length>0&&console.log("Product with models:",ye.item_name,ye.models);const Ye=((Pe=ye.models)==null?void 0:Pe.map(P=>{var ge,ae,Ce,Z,xe,me,Ne,oe,we,Be,pe,Ie,Se,Te,Ve;P.price_info&&console.log("Model price_info detail:",P.model_name,JSON.stringify(P.price_info));const G=Array.isArray(P.price_info)?P.price_info[0]:P.price_info,q=P.current_price||(G==null?void 0:G.current_price)||(G==null?void 0:G.original_price)||P.original_price||P.price||0,te=P.stock||P.current_stock||((Ce=(ae=(ge=P.stock_info_v2)==null?void 0:ge.seller_stock)==null?void 0:ae[0])==null?void 0:Ce.stock)||((xe=(Z=P.stock_info_v2)==null?void 0:Z.summary_info)==null?void 0:xe.total_available_stock)||((me=P.stock_info)==null?void 0:me.current_stock)||0,ce=((Ne=P.image)==null?void 0:Ne.image_url)||((oe=P.image)==null?void 0:oe.url)||P.image_url||((Be=(we=P.images)==null?void 0:we[0])==null?void 0:Be.url)||((pe=P.images)==null?void 0:pe[0])||((Se=(Ie=ye.image)==null?void 0:Ie.image_url_list)==null?void 0:Se[0])||((Ve=(Te=ye.image)==null?void 0:Te.url_list)==null?void 0:Ve[0])||"";return{modelId:P.model_id,name:P.model_name||P.name||"",sku:P.model_sku||"",price:q,stock:te,image:ce}}))||[],Ae={};be.platform==="shopee"?(Ae.shopeeItemId=ye.item_id,Ae.shopeeModelId=ye.model_id):be.platform==="lazada"?(Ae.lazadaItemId=ye.item_id||ye.ItemId,Ae.lazadaSkuId=ye.sku_id||ye.SkuId):be.platform==="tokopedia"?Ae.tokopediaProductId=ye.product_id||ye.id:be.platform==="tiktok"&&(Ae.tiktokProductId=ye.product_id||ye.id);const Le=ye.category_name||((Me=ye.category)==null?void 0:Me.name)||((rt=($e=ye.categories)==null?void 0:$e[0])==null?void 0:rt.name)||ye.category_path||"Marketplace",he=((ut=(pt=ye.image)==null?void 0:pt.image_url_list)==null?void 0:ut[0])||((It=(bt=ye.image)==null?void 0:bt.url_list)==null?void 0:It[0])||((de=(St=ye.images)==null?void 0:St[0])==null?void 0:de.url)||((Ee=ye.images)==null?void 0:Ee[0])||ye.image_url||ye.image||"";return{id:Date.now()+Math.random(),code:`MKT${ye.item_id||ye.id||Date.now()}`,sku:ye.item_sku||ye.model_sku||ye.sku||"",barcode:ye.item_sku||"",name:ye.item_name||ye.name||"Unknown Product",description:ye.description||"",category:Le,unit:"pcs",cost:0,price:ye.current_price||((ot=(at=ye.price_info)==null?void 0:at[0])==null?void 0:ot.current_price)||ye.price||0,stock:ye.current_stock||((yt=(Et=ye.stock_info_v2)==null?void 0:Et.summary_info)==null?void 0:yt.total_available_stock)||ye.stock||0,minStock:5,image:he,source:be.platform,shopId:be.shopId,shopName:be.shopName,...Ae,marketplaceStoreId:be.id,hasVariants:Ye.length>1,variants:Ye,imported:!1,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}),je=ke.filter(ye=>ye.hasVariants);console.log(`Products with variants: ${je.length} of ${ke.length}`),console.log(`Processing ${ke.length} products from ${be.shopName}...`);const Qe=[],{categories:ze,addCategory:tt}=is.getState();[...new Set(ke.map(ye=>ye.category))].forEach(ye=>{ye&&ye!=="Marketplace"&&!ze.includes(ye)&&(tt(ye),console.log(`Added new category from marketplace: ${ye}`))}),console.log(" BigSeller-style sync: Marketplace  Supabase  localStorage");const{supabase:Re,isSupabaseConfigured:He}=await bo(async()=>{const{supabase:ye,isSupabaseConfigured:Ye}=await Promise.resolve().then(()=>IT);return{supabase:ye,isSupabaseConfigured:Ye}},void 0),{transformProductToDB:Ue}=await bo(async()=>{const{transformProductToDB:ye}=await Promise.resolve().then(()=>kP);return{transformProductToDB:ye}},void 0);for(const ye of ke)try{if(He()){const Le=Ue(ye),{data:he}=await Re.from("products").select("id").eq("sku",ye.sku).eq("source",be.platform).maybeSingle();if(he){const{error:Pe}=await Re.from("products").update({...Le,updated_at:new Date().toISOString()}).eq("id",he.id);Pe?console.error(" Supabase update error:",Pe):(ue++,console.log(` Updated in Supabase: ${ye.name}`))}else{const{error:Pe}=await Re.from("products").insert(Le);Pe?console.error(" Supabase insert error:",Pe):(se++,console.log(` Added to Supabase: ${ye.name}`))}}const Ae=is.getState().products.find(Le=>Le.source===be.platform&&Le.sku===ye.sku);Ae?B(Ae.id,{name:ye.name,category:ye.category,price:ye.price,stock:ye.stock,image:ye.image||Ae.image,variants:ye.variants||Ae.variants,updatedAt:ye.updatedAt}):N(ye)}catch(Ye){console.error(`Error syncing product ${ye.name}:`,Ye)}Qe.length>0&&console.warn(`Skipped/Updated ${Qe.length} products (duplicates):`,Qe),console.log(`Sync summary for ${be.shopName}: ${se} added, ${ue} updated, ${U} skipped (no changes)`),D(be.id,{lastSync:new Date().toISOString(),productCount:K.count||K.data.length})}}catch(K){console.error(`Error syncing ${be.shopName}:`,K),W.push(`${be.shopName}: ${K.message}`)}const ie=[];se>0&&ie.push(` ${se} produk baru ditambahkan`),ue>0&&ie.push(` ${ue} produk diperbarui`),U>0,ie.length>0?alert(`Sinkronisasi berhasil!

${ie.join(`
`)}

 Produk duplikat tidak akan ditambahkan lagi ke database lokal.`):W.length>0?alert(`Sinkronisasi selesai dengan error:
${W.join(`
`)}`):alert("Sinkronisasi selesai. Tidak ada perubahan.")}catch(ie){alert("Gagal sinkronisasi: "+ie.message)}finally{g(!1)}},le=()=>{y.length===_.length?w([]):w(_.map(H=>H.id))},fe=H=>{y.includes(H)?w(y.filter(se=>se!==H)):w([...y,H])},V=H=>{const se=H.source||"shopee",ue=ga[se]||ga.manual;return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${ue.bgLight} ${ue.textColor}`,children:ue.name})};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>a("/marketplace/integration"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(ww,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Produk Marketplace"}),l.jsx("p",{className:"text-gray-600",children:"Lihat dan impor produk dari semua toko"})]})]}),l.jsxs("button",{onClick:X,disabled:v,className:"btn btn-success flex items-center gap-2",children:[l.jsx(ii,{size:20,className:v?"animate-spin":""}),"Sync Produk"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(zs,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),l.jsx("p",{className:"text-2xl font-bold",children:F})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(J0,{className:"text-green-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Sudah Diimpor"}),l.jsx("p",{className:"text-2xl font-bold",children:Q})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(y1,{className:"text-purple-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toko Terhubung"}),l.jsx("p",{className:"text-2xl font-bold",children:L})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(tl,{className:"text-orange-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Dipilih"}),l.jsx("p",{className:"text-2xl font-bold",children:y.length})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:n,onChange:H=>{i(H.target.value),p(1)},placeholder:"Cari nama produk atau SKU...",className:"w-full pl-10 input"})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsx(Vm,{size:20})}),l.jsxs("select",{value:o,onChange:H=>{d(H.target.value),p(1)},className:"input w-full md:w-64",children:[l.jsx("option",{value:"all",children:"Semua Toko"}),I.filter(H=>H.isActive).map(H=>l.jsxs("option",{value:H.id,children:[H.shopName," (",H.platform,")"]},H.id))]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Per halaman:"}),l.jsxs("select",{value:m,onChange:H=>{x(parseInt(H.target.value)),p(1)},className:"input w-20",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t",children:[l.jsx("button",{onClick:le,className:"text-primary hover:underline text-sm",children:y.length===_.length?"Batal Pilih":"Pilih Halaman Ini"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsxs("button",{onClick:()=>w([]),className:"text-gray-500 hover:text-gray-700 text-sm",children:["Batal Pilih (",y.length,")"]})]})]}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:y.length===_.length&&_.length>0,onChange:le,className:"rounded"})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Toko"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center",children:[l.jsx(zs,{className:"mx-auto text-gray-300 mb-4",size:48}),l.jsx("p",{className:"text-gray-500",children:"Tidak ada produk yang cocok dengan pencarian."})]})}):_.map(H=>{var se,ue;return l.jsxs(xu.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"checkbox",checked:y.includes(H.id),onChange:()=>fe(H.id),className:"rounded"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[H.image?l.jsx("img",{src:H.image,alt:H.name,className:"w-12 h-12 object-cover rounded-lg"}):l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(zs,{className:"text-gray-400",size:20})}),l.jsxs("div",{children:[l.jsxs("div",{className:`font-medium text-gray-900 line-clamp-2 ${H.hasVariants?"cursor-pointer hover:text-primary flex items-center gap-1":""}`,onClick:()=>{H.hasVariants&&k(U=>U.includes(H.id)?U.filter(W=>W!==H.id):[...U,H.id])},children:[H.hasVariants&&(A.includes(H.id)?l.jsx(yw,{size:16,className:"text-primary flex-shrink-0"}):l.jsx(Gm,{size:16,className:"text-gray-400 flex-shrink-0"})),H.name,H.hasVariants&&l.jsxs("span",{className:"ml-1 text-xs bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded",children:[(se=H.variants)==null?void 0:se.length," varian"]})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",H.shopeeItemId||H.id]})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:"text-sm font-mono",children:H.sku||"-"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[V(H),l.jsx("span",{className:"text-sm text-gray-600",children:H.shopName||H.shop_name||"-"})]})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:"font-medium",children:["Rp ",(H.price||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`font-medium ${H.stock===0?"text-red-600":H.stock<10?"text-orange-600":"text-gray-900"}`,children:H.stock||0})}),l.jsx("td",{className:"px-4 py-3 text-center",children:H.imported||H.isImported?l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[l.jsx(b1,{size:14}),"Diimpor"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-400 text-sm",children:[l.jsx(Aw,{size:14}),"Belum"]})})]}),H.hasVariants&&A.includes(H.id)&&((ue=H.variants)==null?void 0:ue.map((U,W)=>l.jsxs("tr",{className:"bg-blue-50/50",children:[l.jsx("td",{className:"px-4 py-2"}),l.jsx("td",{className:"px-4 py-2 pl-12",children:l.jsxs("div",{className:"flex items-center gap-3",children:[U.image||H.image?l.jsx("img",{src:U.image||H.image,alt:U.name,className:"w-10 h-10 object-cover rounded-lg border border-blue-200"}):l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center border border-blue-200",children:l.jsx(zs,{className:"text-blue-400",size:16})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),l.jsx("span",{className:"text-sm text-gray-700 font-medium",children:U.name||`Varian ${W+1}`})]})]})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:"text-sm font-mono text-gray-600",children:U.sku||"-"})}),l.jsx("td",{className:"px-4 py-2"}),l.jsx("td",{className:"px-4 py-2 text-right",children:l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Rp ",(U.price||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-2 text-right",children:l.jsx("span",{className:`text-sm font-medium ${U.stock===0?"text-red-600":U.stock<10?"text-orange-600":"text-gray-700"}`,children:U.stock||0})}),l.jsx("td",{className:"px-4 py-2"})]},`${H.id}-var-${W}`)))]},H.id)})})]})}),$>1&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-gray-50",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",(h-1)*m+1," - ",Math.min(h*m,R.length)," dari ",R.length," produk"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(H=>Math.max(1,H-1)),disabled:h===1,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Sebelumnya"}),l.jsxs("span",{className:"px-3 py-1 text-sm",children:["Halaman ",h," dari ",$]}),l.jsx("button",{onClick:()=>p(H=>Math.min($,H+1)),disabled:h===$,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function PP(){const{isAuthenticated:a}=Ei();return ne.useEffect(()=>{a&&(console.log(" App started - initializing auto-sync..."),LT())},[a]),l.jsx(tC,{children:l.jsx(PT,{children:l.jsxs(S4,{children:[l.jsx(fn,{path:"/login",element:a?l.jsx(ch,{to:"/"}):l.jsx(SR,{})}),l.jsx(fn,{path:"/marketplace/callback",element:l.jsx(IP,{})}),l.jsx(fn,{path:"/*",element:a?l.jsx(NR,{children:l.jsxs(S4,{children:[l.jsx(fn,{path:"/",element:l.jsx(CR,{})}),!O1&&l.jsx(fn,{path:"/pos",element:l.jsx(IR,{})}),O1&&l.jsx(fn,{path:"/scanner",element:l.jsx(CP,{})}),l.jsx(fn,{path:"/marketplace",element:l.jsx(ch,{to:"/marketplace/integration",replace:!0})}),l.jsx(fn,{path:"/marketplace/integration",element:l.jsx(BP,{})}),l.jsx(fn,{path:"/marketplace/orders",element:l.jsx(_P,{})}),l.jsx(fn,{path:"/marketplace/products",element:l.jsx(FP,{})}),l.jsx(fn,{path:"/products",element:l.jsx(JF,{})}),l.jsx(fn,{path:"/stock",element:l.jsx(rP,{})}),l.jsx(fn,{path:"/purchases",element:l.jsx(lP,{})}),l.jsx(fn,{path:"/sales",element:l.jsx(uP,{})}),l.jsx(fn,{path:"/customers",element:l.jsx(hP,{})}),l.jsx(fn,{path:"/reports",element:l.jsx(xP,{})}),l.jsx(fn,{path:"/settings",element:l.jsx(jP,{})})]})}):l.jsx(ch,{to:"/login"})})]})})})}const p6=ml("App",{web:()=>bo(()=>import("./web-C1GapxXX.js"),[]).then(a=>new a.AppWeb)});var R3;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(R3||(R3={}));var m6;(function(a){a.None="NONE",a.Slide="SLIDE",a.Fade="FADE"})(m6||(m6={}));const x6=ml("StatusBar"),OP=ml("SplashScreen",{web:()=>bo(()=>import("./web-6h3jXQWE.js"),[]).then(a=>new a.SplashScreenWeb)});async function UP(){console.log(" Starting to seed dummy data...");const a=is.getState(),n=_i.getState(),i=ki.getState();console.log(" Adding dummy products...");const o=[{code:"PRD001",sku:"SNACK-001",barcode:"8991234567890",name:"Chitato Rasa Sapi Panggang",description:"Keripik kentang rasa sapi panggang 68g",category:"Snack",unit:"pcs",price:12e3,cost:9e3,stock:50,minStock:10,maxStock:100,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",source:"manual"},{code:"PRD002",sku:"DRINK-001",barcode:"8992234567891",name:"Coca Cola 330ml",description:"Minuman berkarbonasi kaleng 330ml",category:"Minuman",unit:"pcs",price:8e3,cost:6e3,stock:100,minStock:20,maxStock:200,image:"https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400",source:"manual"},{code:"PRD003",sku:"FOOD-001",barcode:"8993234567892",name:"Indomie Goreng",description:"Mi instan goreng original 85g",category:"Makanan",unit:"pcs",price:3500,cost:2800,stock:200,minStock:50,maxStock:500,image:"https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400",source:"manual"},{code:"PRD004",sku:"SNACK-002",barcode:"8994234567893",name:"Oreo Original",description:"Biskuit sandwich cokelat 137g",category:"Snack",unit:"pcs",price:1e4,cost:7500,stock:75,minStock:15,maxStock:150,image:"https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400",source:"manual"},{code:"PRD005",sku:"DRINK-002",barcode:"8995234567894",name:"Aqua Botol 600ml",description:"Air mineral dalam kemasan 600ml",category:"Minuman",unit:"pcs",price:4e3,cost:3e3,stock:150,minStock:30,maxStock:300,image:"https://images.unsplash.com/photo-1548839140-29a749e1cf4d?w=400",source:"manual"},{code:"PRD006",sku:"FOOD-002",barcode:"8996234567895",name:"Beras Premium 5kg",description:"Beras putih premium kualitas terbaik",category:"Sembako",unit:"kg",price:75e3,cost:65e3,stock:30,minStock:5,maxStock:50,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",source:"manual"},{code:"PRD007",sku:"SNACK-003",barcode:"8997234567896",name:"Taro Net 160g",description:"Keripik kentang berbagai rasa 160g",category:"Snack",unit:"pcs",price:15e3,cost:11e3,stock:40,minStock:10,maxStock:80,image:"https://images.unsplash.com/photo-1600952841320-db92ec4047ca?w=400",source:"manual"},{code:"PRD008",sku:"DRINK-003",barcode:"8998234567897",name:"Teh Botol Sosro 450ml",description:"Minuman teh dalam botol 450ml",category:"Minuman",unit:"pcs",price:5e3,cost:3500,stock:120,minStock:25,maxStock:250,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=400",source:"manual"},{code:"PRD009",sku:"ELEC-001",barcode:"8999234567898",name:"Baterai AA Alkaline",description:"Baterai alkaline AA isi 4pcs",category:"Elektronik",unit:"pack",price:18e3,cost:14e3,stock:25,minStock:5,maxStock:50,image:"https://images.unsplash.com/photo-1583863788434-e58a36330cf0?w=400",source:"manual"},{code:"PRD010",sku:"STAT-001",barcode:"8990234567899",name:"Pulpen Standard Hitam",description:"Pulpen tinta hitam standard isi 12pcs",category:"Alat Tulis",unit:"pack",price:25e3,cost:2e4,stock:15,minStock:3,maxStock:30,image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?w=400",source:"manual"}],d=[];for(const m of o)try{const x=await a.addProduct(m);x.success&&(d.push(x.product),console.log(` Added product: ${m.name}`))}catch(x){console.error(` Failed to add product ${m.name}:`,x)}console.log(" Adding dummy customers...");const u=[{name:"Budi Santoso",phone:"081234567890",email:"budi.santoso@email.com",address:"Jl. Merdeka No. 123, Jakarta Pusat",type:"regular",points:150,totalSpent:5e5},{name:"Siti Nurhaliza",phone:"081234567891",email:"siti.nur@email.com",address:"Jl. Sudirman No. 45, Jakarta Selatan",type:"member",points:350,totalSpent:12e5},{name:"Ahmad Wijaya",phone:"081234567892",email:"ahmad.w@email.com",address:"Jl. Gatot Subroto No. 78, Jakarta Barat",type:"regular",points:80,totalSpent:3e5},{name:"Dewi Lestari",phone:"081234567893",email:"dewi.lestari@email.com",address:"Jl. Thamrin No. 90, Jakarta Pusat",type:"vip",points:500,totalSpent:25e5},{name:"Rudi Hermawan",phone:"081234567894",email:"rudi.h@email.com",address:"Jl. Kuningan No. 12, Jakarta Selatan",type:"regular",points:120,totalSpent:45e4}],f=[];for(const m of u)try{const x=await n.addCustomer(m);x.success&&(f.push(x.customer),console.log(` Added customer: ${m.name}`))}catch(x){console.error(` Failed to add customer ${m.name}:`,x)}if(console.log(" Adding dummy transactions..."),d.length===0||f.length===0)return console.error(" Cannot create transactions: No products or customers available"),{success:!1,message:"Failed to seed data: No products or customers"};const h=[{items:[{productId:d[0].id,name:d[0].name,price:d[0].price,quantity:3,subtotal:d[0].price*3},{productId:d[1].id,name:d[1].name,price:d[1].price,quantity:5,subtotal:d[1].price*5}],customerId:f[0].id,customerName:f[0].name,subtotal:d[0].price*3+d[1].price*5,discount:5e3,tax:0,paymentMethod:"cash",cashReceived:1e5,createdAt:new Date().toISOString()},{items:[{productId:d[2].id,name:d[2].name,price:d[2].price,quantity:10,subtotal:d[2].price*10},{productId:d[4].id,name:d[4].name,price:d[4].price,quantity:6,subtotal:d[4].price*6}],customerId:f[1].id,customerName:f[1].name,subtotal:d[2].price*10+d[4].price*6,discount:0,tax:0,paymentMethod:"qris",cashReceived:0,createdAt:new Date().toISOString()},{items:[{productId:d[5].id,name:d[5].name,price:d[5].price,quantity:1,subtotal:d[5].price*1},{productId:d[3].id,name:d[3].name,price:d[3].price,quantity:4,subtotal:d[3].price*4}],customerId:f[2].id,customerName:f[2].name,subtotal:d[5].price*1+d[3].price*4,discount:1e4,tax:0,paymentMethod:"debit",cashReceived:0,createdAt:new Date(Date.now()-24*60*60*1e3).toISOString()},{items:[{productId:d[6].id,name:d[6].name,price:d[6].price,quantity:2,subtotal:d[6].price*2},{productId:d[7].id,name:d[7].name,price:d[7].price,quantity:8,subtotal:d[7].price*8},{productId:d[1].id,name:d[1].name,price:d[1].price,quantity:3,subtotal:d[1].price*3}],customerId:f[3].id,customerName:f[3].name,subtotal:d[6].price*2+d[7].price*8+d[1].price*3,discount:0,tax:0,paymentMethod:"cash",cashReceived:1e5,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{items:[{productId:d[8].id,name:d[8].name,price:d[8].price,quantity:2,subtotal:d[8].price*2},{productId:d[9].id,name:d[9].name,price:d[9].price,quantity:1,subtotal:d[9].price*1}],customerId:f[4].id,customerName:f[4].name,subtotal:d[8].price*2+d[9].price*1,discount:3e3,tax:0,paymentMethod:"transfer",cashReceived:0,createdAt:new Date(Date.now()-3*24*60*60*1e3).toISOString()}],p=[];for(const m of h)try{const x=m.subtotal-m.discount+m.tax,y=m.paymentMethod==="cash"?m.cashReceived-x:0,w={...m,total:x,change:y,invoiceNumber:`INV-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`},v=await i.addTransaction(w);if(v.success){p.push(v.transaction),console.log(` Added transaction: ${w.invoiceNumber}`);for(const g of m.items){const A=d.find(k=>k.id===g.productId);A&&await a.updateProduct(A.id,{stock:A.stock-g.quantity})}}}catch(x){console.error(" Failed to add transaction:",x)}return console.log(" Dummy data seeding completed!"),console.log(` Products added: ${d.length}`),console.log(` Customers added: ${f.length}`),console.log(` Transactions added: ${p.length}`),{success:!0,data:{products:d,customers:f,transactions:p},message:`Successfully seeded ${d.length} products, ${f.length} customers, and ${p.length} transactions`}}async function zP(){console.log(" Clearing dummy data...");const a=is.getState(),n=_i.getState(),i=ki.getState(),o=i.transactions||[];for(const f of o)await i.deleteTransaction(f.id);const d=n.customers||[];for(const f of d)f.type!=="walk-in"&&await n.deleteCustomer(f.id);const u=a.products||[];for(const f of u)await a.deleteProduct(f.id);return console.log(" Dummy data cleared!"),{success:!0,message:"All dummy data has been cleared"}}typeof window<"u"&&(window.seedDummyData=UP,window.clearDummyData=zP,console.log(" Dummy data functions available:"),console.log("   - window.seedDummyData() - Add dummy data"),console.log("   - window.clearDummyData() - Clear all dummy data"));const LP=async()=>{try{await OP.hide(),await x6.setStyle({style:R3.Dark}),await x6.setBackgroundColor({color:"#1f2937"})}catch{console.log("Running in web mode")}},QP=async()=>{console.log("Initializing realtime sync...");try{await is.getState().initRealtime(),await _i.getState().initRealtime(),await ki.getState().initRealtime(),console.log(" Realtime sync initialized!")}catch(a){console.warn(" Realtime sync not available (offline mode or Supabase issue):",a.message)}};p6.addListener("backButton",({canGoBack:a})=>{a?window.history.back():p6.exitApp()});LP();QP();op.createRoot(document.getElementById("root")).render(l.jsx(xu.StrictMode,{children:l.jsx(PP,{})}));export{Qb as B,Gh as C,lc as E,$b as L,Yy as W};
