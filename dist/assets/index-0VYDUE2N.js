function AC(s,n){for(var i=0;i<n.length;i++){const o=n[i];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in s)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function kC(s){if(s.__esModule)return s;var n=s.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(o){var l=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:function(){return s[o]}})}),i}var g5={exports:{}},Wu={},b5={exports:{}},Hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=Symbol.for("react.element"),jC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),CC=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),BC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),MC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),Mg=Symbol.iterator;function RC(s){return s===null||typeof s!="object"?null:(s=Mg&&s[Mg]||s["@@iterator"],typeof s=="function"?s:null)}var y5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w5=Object.assign,A5={};function Ic(s,n,i){this.props=s,this.context=n,this.refs=A5,this.updater=i||y5}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(s,n){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,n,"setState")};Ic.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function k5(){}k5.prototype=Ic.prototype;function Sm(s,n,i){this.props=s,this.context=n,this.refs=A5,this.updater=i||y5}var Em=Sm.prototype=new k5;Em.constructor=Sm;w5(Em,Ic.prototype);Em.isPureReactComponent=!0;var Fg=Array.isArray,j5=Object.prototype.hasOwnProperty,Im={current:null},N5={key:!0,ref:!0,__self:!0,__source:!0};function C5(s,n,i){var o,l={},u=null,f=null;if(n!=null)for(o in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(u=""+n.key),n)j5.call(n,o)&&!N5.hasOwnProperty(o)&&(l[o]=n[o]);var h=arguments.length-2;if(h===1)l.children=i;else if(1<h){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];l.children=p}if(s&&s.defaultProps)for(o in h=s.defaultProps,h)l[o]===void 0&&(l[o]=h[o]);return{$$typeof:T2,type:s,key:u,ref:f,props:l,_owner:Im.current}}function TC(s,n){return{$$typeof:T2,type:s.type,key:n,ref:s.ref,props:s.props,_owner:s._owner}}function Bm(s){return typeof s=="object"&&s!==null&&s.$$typeof===T2}function _C(s){var n={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(i){return n[i]})}var Rg=/\/+/g;function jh(s,n){return typeof s=="object"&&s!==null&&s.key!=null?_C(""+s.key):n.toString(36)}function _d(s,n,i,o,l){var u=typeof s;(u==="undefined"||u==="boolean")&&(s=null);var f=!1;if(s===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(s.$$typeof){case T2:case jC:f=!0}}if(f)return f=s,l=l(f),s=o===""?"."+jh(f,0):o,Fg(l)?(i="",s!=null&&(i=s.replace(Rg,"$&/")+"/"),_d(l,n,i,"",function(m){return m})):l!=null&&(Bm(l)&&(l=TC(l,i+(!l.key||f&&f.key===l.key?"":(""+l.key).replace(Rg,"$&/")+"/")+s)),n.push(l)),1;if(f=0,o=o===""?".":o+":",Fg(s))for(var h=0;h<s.length;h++){u=s[h];var p=o+jh(u,h);f+=_d(u,n,i,p,l)}else if(p=RC(s),typeof p=="function")for(s=p.call(s),h=0;!(u=s.next()).done;)u=u.value,p=o+jh(u,h++),f+=_d(u,n,i,p,l);else if(u==="object")throw n=String(s),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function pd(s,n,i){if(s==null)return s;var o=[],l=0;return _d(s,o,"","",function(u){return n.call(i,u,l++)}),o}function PC(s){if(s._status===-1){var n=s._result;n=n(),n.then(function(i){(s._status===0||s._status===-1)&&(s._status=1,s._result=i)},function(i){(s._status===0||s._status===-1)&&(s._status=2,s._result=i)}),s._status===-1&&(s._status=0,s._result=n)}if(s._status===1)return s._result.default;throw s._result}var i1={current:null},Pd={transition:null},UC={ReactCurrentDispatcher:i1,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:Im};function S5(){throw Error("act(...) is not supported in production builds of React.")}Hr.Children={map:pd,forEach:function(s,n,i){pd(s,function(){n.apply(this,arguments)},i)},count:function(s){var n=0;return pd(s,function(){n++}),n},toArray:function(s){return pd(s,function(n){return n})||[]},only:function(s){if(!Bm(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};Hr.Component=Ic;Hr.Fragment=NC;Hr.Profiler=SC;Hr.PureComponent=Sm;Hr.StrictMode=CC;Hr.Suspense=DC;Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;Hr.act=S5;Hr.cloneElement=function(s,n,i){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var o=w5({},s.props),l=s.key,u=s.ref,f=s._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,f=Im.current),n.key!==void 0&&(l=""+n.key),s.type&&s.type.defaultProps)var h=s.type.defaultProps;for(p in n)j5.call(n,p)&&!N5.hasOwnProperty(p)&&(o[p]=n[p]===void 0&&h!==void 0?h[p]:n[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){h=Array(p);for(var m=0;m<p;m++)h[m]=arguments[m+2];o.children=h}return{$$typeof:T2,type:s.type,key:l,ref:u,props:o,_owner:f}};Hr.createContext=function(s){return s={$$typeof:IC,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:EC,_context:s},s.Consumer=s};Hr.createElement=C5;Hr.createFactory=function(s){var n=C5.bind(null,s);return n.type=s,n};Hr.createRef=function(){return{current:null}};Hr.forwardRef=function(s){return{$$typeof:BC,render:s}};Hr.isValidElement=Bm;Hr.lazy=function(s){return{$$typeof:FC,_payload:{_status:-1,_result:s},_init:PC}};Hr.memo=function(s,n){return{$$typeof:MC,type:s,compare:n===void 0?null:n}};Hr.startTransition=function(s){var n=Pd.transition;Pd.transition={};try{s()}finally{Pd.transition=n}};Hr.unstable_act=S5;Hr.useCallback=function(s,n){return i1.current.useCallback(s,n)};Hr.useContext=function(s){return i1.current.useContext(s)};Hr.useDebugValue=function(){};Hr.useDeferredValue=function(s){return i1.current.useDeferredValue(s)};Hr.useEffect=function(s,n){return i1.current.useEffect(s,n)};Hr.useId=function(){return i1.current.useId()};Hr.useImperativeHandle=function(s,n,i){return i1.current.useImperativeHandle(s,n,i)};Hr.useInsertionEffect=function(s,n){return i1.current.useInsertionEffect(s,n)};Hr.useLayoutEffect=function(s,n){return i1.current.useLayoutEffect(s,n)};Hr.useMemo=function(s,n){return i1.current.useMemo(s,n)};Hr.useReducer=function(s,n,i){return i1.current.useReducer(s,n,i)};Hr.useRef=function(s){return i1.current.useRef(s)};Hr.useState=function(s){return i1.current.useState(s)};Hr.useSyncExternalStore=function(s,n,i){return i1.current.useSyncExternalStore(s,n,i)};Hr.useTransition=function(){return i1.current.useTransition()};Hr.version="18.3.1";b5.exports=Hr;var ae=b5.exports;const Dm=Cm(ae),OC=AC({__proto__:null,default:Dm},[ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=ae,LC=Symbol.for("react.element"),QC=Symbol.for("react.fragment"),HC=Object.prototype.hasOwnProperty,GC=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qC={key:!0,ref:!0,__self:!0,__source:!0};function E5(s,n,i){var o,l={},u=null,f=null;i!==void 0&&(u=""+i),n.key!==void 0&&(u=""+n.key),n.ref!==void 0&&(f=n.ref);for(o in n)HC.call(n,o)&&!qC.hasOwnProperty(o)&&(l[o]=n[o]);if(s&&s.defaultProps)for(o in n=s.defaultProps,n)l[o]===void 0&&(l[o]=n[o]);return{$$typeof:LC,type:s,key:u,ref:f,props:l,_owner:GC.current}}Wu.Fragment=QC;Wu.jsx=E5;Wu.jsxs=E5;g5.exports=Wu;var c=g5.exports,Xp={},I5={exports:{}},R1={},B5={exports:{}},D5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function n(Y,ie){var de=Y.length;Y.push(ie);e:for(;0<de;){var re=de-1>>>1,ne=Y[re];if(0<l(ne,ie))Y[re]=ie,Y[de]=ne,de=re;else break e}}function i(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var ie=Y[0],de=Y.pop();if(de!==ie){Y[0]=de;e:for(var re=0,ne=Y.length,le=ne>>>1;re<le;){var ue=2*(re+1)-1,Me=Y[ue],pe=ue+1,Fe=Y[pe];if(0>l(Me,de))pe<ne&&0>l(Fe,Me)?(Y[re]=Fe,Y[pe]=de,re=pe):(Y[re]=Me,Y[ue]=de,re=ue);else if(pe<ne&&0>l(Fe,de))Y[re]=Fe,Y[pe]=de,re=pe;else break e}}return ie}function l(Y,ie){var de=Y.sortIndex-ie.sortIndex;return de!==0?de:Y.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();s.unstable_now=function(){return f.now()-h}}var p=[],m=[],x=1,b=null,v=3,w=!1,y=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Y){for(var ie=i(m);ie!==null;){if(ie.callback===null)o(m);else if(ie.startTime<=Y)o(m),ie.sortIndex=ie.expirationTime,n(p,ie);else break;ie=i(m)}}function I(Y){if(A=!1,N(Y),!y)if(i(p)!==null)y=!0,oe(M);else{var ie=i(m);ie!==null&&V(I,ie.startTime-Y)}}function M(Y,ie){y=!1,A&&(A=!1,E(D),D=-1),w=!0;var de=v;try{for(N(ie),b=i(p);b!==null&&(!(b.expirationTime>ie)||Y&&!_());){var re=b.callback;if(typeof re=="function"){b.callback=null,v=b.priorityLevel;var ne=re(b.expirationTime<=ie);ie=s.unstable_now(),typeof ne=="function"?b.callback=ne:b===i(p)&&o(p),N(ie)}else o(p);b=i(p)}if(b!==null)var le=!0;else{var ue=i(m);ue!==null&&V(I,ue.startTime-ie),le=!1}return le}finally{b=null,v=de,w=!1}}var B=!1,F=null,D=-1,H=5,T=-1;function _(){return!(s.unstable_now()-T<H)}function L(){if(F!==null){var Y=s.unstable_now();T=Y;var ie=!0;try{ie=F(!0,Y)}finally{ie?z():(B=!1,F=null)}}else B=!1}var z;if(typeof j=="function")z=function(){j(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=L,z=function(){K.postMessage(null)}}else z=function(){k(L,0)};function oe(Y){F=Y,B||(B=!0,z())}function V(Y,ie){D=k(function(){Y(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_continueExecution=function(){y||w||(y=!0,oe(M))},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return i(p)},s.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var de=v;v=ie;try{return Y()}finally{v=de}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=v;v=Y;try{return ie()}finally{v=de}},s.unstable_scheduleCallback=function(Y,ie,de){var re=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?re+de:re):de=re,Y){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=de+ne,Y={id:x++,callback:ie,priorityLevel:Y,startTime:de,expirationTime:ne,sortIndex:-1},de>re?(Y.sortIndex=de,n(m,Y),i(p)===null&&Y===i(m)&&(A?(E(D),D=-1):A=!0,V(I,de-re))):(Y.sortIndex=ne,n(p,Y),y||w||(y=!0,oe(M))),Y},s.unstable_shouldYield=_,s.unstable_wrapCallback=function(Y){var ie=v;return function(){var de=v;v=ie;try{return Y.apply(this,arguments)}finally{v=de}}}})(D5);B5.exports=D5;var YC=B5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=ae,M1=YC;function lt(s){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+s,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M5=new Set,X0={};function yl(s,n){cc(s,n),cc(s+"Capture",n)}function cc(s,n){for(X0[s]=n,s=0;s<n.length;s++)M5.add(n[s])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=Object.prototype.hasOwnProperty,$C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tg={},_g={};function WC(s){return Zp.call(_g,s)?!0:Zp.call(Tg,s)?!1:$C.test(s)?_g[s]=!0:(Tg[s]=!0,!1)}function KC(s,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function JC(s,n,i,o){if(n===null||typeof n>"u"||KC(s,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function o1(s,n,i,o,l,u,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=s,this.type=n,this.sanitizeURL=u,this.removeEmptyString=f}var Fa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){Fa[s]=new o1(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var n=s[0];Fa[n]=new o1(n,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){Fa[s]=new o1(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){Fa[s]=new o1(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){Fa[s]=new o1(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){Fa[s]=new o1(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){Fa[s]=new o1(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){Fa[s]=new o1(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){Fa[s]=new o1(s,5,!1,s.toLowerCase(),null,!1,!1)});var Mm=/[\-:]([a-z])/g;function Fm(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var n=s.replace(Mm,Fm);Fa[n]=new o1(n,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var n=s.replace(Mm,Fm);Fa[n]=new o1(n,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var n=s.replace(Mm,Fm);Fa[n]=new o1(n,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){Fa[s]=new o1(s,1,!1,s.toLowerCase(),null,!1,!1)});Fa.xlinkHref=new o1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){Fa[s]=new o1(s,1,!1,s.toLowerCase(),null,!0,!0)});function Rm(s,n,i,o){var l=Fa.hasOwnProperty(n)?Fa[n]:null;(l!==null?l.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(JC(n,i,l,o)&&(i=null),o||l===null?WC(n)&&(i===null?s.removeAttribute(n):s.setAttribute(n,""+i)):l.mustUseProperty?s[l.propertyName]=i===null?l.type===3?!1:"":i:(n=l.attributeName,o=l.attributeNamespace,i===null?s.removeAttribute(n):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,o?s.setAttributeNS(o,n,i):s.setAttribute(n,i))))}var Ki=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Ol=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),e3=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),t3=Symbol.for("react.suspense"),r3=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),T5=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function v0(s){return s===null||typeof s!="object"?null:(s=Pg&&s[Pg]||s["@@iterator"],typeof s=="function"?s:null)}var Mn=Object.assign,Nh;function M0(s){if(Nh===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Nh=n&&n[1]||""}return`
`+Nh+s}var Ch=!1;function Sh(s,n){if(!s||Ch)return"";Ch=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var o=m}Reflect.construct(s,[],n)}else{try{n.call()}catch(m){o=m}s.call(n.prototype)}else{try{throw Error()}catch(m){o=m}s()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),u=o.stack.split(`
`),f=l.length-1,h=u.length-1;1<=f&&0<=h&&l[f]!==u[h];)h--;for(;1<=f&&0<=h;f--,h--)if(l[f]!==u[h]){if(f!==1||h!==1)do if(f--,h--,0>h||l[f]!==u[h]){var p=`
`+l[f].replace(" at new "," at ");return s.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",s.displayName)),p}while(1<=f&&0<=h);break}}}finally{Ch=!1,Error.prepareStackTrace=i}return(s=s?s.displayName||s.name:"")?M0(s):""}function XC(s){switch(s.tag){case 5:return M0(s.type);case 16:return M0("Lazy");case 13:return M0("Suspense");case 19:return M0("SuspenseList");case 0:case 2:case 15:return s=Sh(s.type,!1),s;case 11:return s=Sh(s.type.render,!1),s;case 1:return s=Sh(s.type,!0),s;default:return""}}function s3(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Ol:return"Fragment";case Ul:return"Portal";case e3:return"Profiler";case Tm:return"StrictMode";case t3:return"Suspense";case r3:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R5:return(s.displayName||"Context")+".Consumer";case F5:return(s._context.displayName||"Context")+".Provider";case _m:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Pm:return n=s.displayName||null,n!==null?n:s3(s.type)||"Memo";case io:n=s._payload,s=s._init;try{return s3(s(n))}catch{}}return null}function ZC(s){var n=s.type;switch(s.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=n.render,s=s.displayName||s.name||"",n.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s3(n);case 8:return n===Tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Bo(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _5(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eS(s){var n=_5(s)?"checked":"value",i=Object.getOwnPropertyDescriptor(s.constructor.prototype,n),o=""+s[n];if(!s.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,u=i.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return l.call(this)},set:function(f){o=""+f,u.call(this,f)}}),Object.defineProperty(s,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function xd(s){s._valueTracker||(s._valueTracker=eS(s))}function P5(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return s&&(o=_5(s)?s.checked?"true":"false":s.value),s=o,s!==i?(n.setValue(s),!0):!1}function Zd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function n3(s,n){var i=n.checked;return Mn({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??s._wrapperState.initialChecked})}function Ug(s,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=Bo(n.value!=null?n.value:i),s._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function U5(s,n){n=n.checked,n!=null&&Rm(s,"checked",n,!1)}function a3(s,n){U5(s,n);var i=Bo(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+i):s.value!==""+i&&(s.value=""+i);else if(o==="submit"||o==="reset"){s.removeAttribute("value");return}n.hasOwnProperty("value")?i3(s,n.type,i):n.hasOwnProperty("defaultValue")&&i3(s,n.type,Bo(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(s.defaultChecked=!!n.defaultChecked)}function Og(s,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+s._wrapperState.initialValue,i||n===s.value||(s.value=n),s.defaultValue=n}i=s.name,i!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,i!==""&&(s.name=i)}function i3(s,n,i){(n!=="number"||Zd(s.ownerDocument)!==s)&&(i==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+i&&(s.defaultValue=""+i))}var F0=Array.isArray;function Xl(s,n,i,o){if(s=s.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<s.length;i++)l=n.hasOwnProperty("$"+s[i].value),s[i].selected!==l&&(s[i].selected=l),l&&o&&(s[i].defaultSelected=!0)}else{for(i=""+Bo(i),n=null,l=0;l<s.length;l++){if(s[l].value===i){s[l].selected=!0,o&&(s[l].defaultSelected=!0);return}n!==null||s[l].disabled||(n=s[l])}n!==null&&(n.selected=!0)}}function o3(s,n){if(n.dangerouslySetInnerHTML!=null)throw Error(lt(91));return Mn({},n,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function zg(s,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(lt(92));if(F0(i)){if(1<i.length)throw Error(lt(93));i=i[0]}n=i}n==null&&(n=""),i=n}s._wrapperState={initialValue:Bo(i)}}function O5(s,n){var i=Bo(n.value),o=Bo(n.defaultValue);i!=null&&(i=""+i,i!==s.value&&(s.value=i),n.defaultValue==null&&s.defaultValue!==i&&(s.defaultValue=i)),o!=null&&(s.defaultValue=""+o)}function Lg(s){var n=s.textContent;n===s._wrapperState.initialValue&&n!==""&&n!==null&&(s.value=n)}function z5(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l3(s,n){return s==null||s==="http://www.w3.org/1999/xhtml"?z5(n):s==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vd,L5=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,l){MSApp.execUnsafeLocalFunction(function(){return s(n,i,o,l)})}:s}(function(s,n){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=n;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=vd.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;n.firstChild;)s.appendChild(n.firstChild)}});function Z0(s,n){if(n){var i=s.firstChild;if(i&&i===s.lastChild&&i.nodeType===3){i.nodeValue=n;return}}s.textContent=n}var P0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tS=["Webkit","ms","Moz","O"];Object.keys(P0).forEach(function(s){tS.forEach(function(n){n=n+s.charAt(0).toUpperCase()+s.substring(1),P0[n]=P0[s]})});function Q5(s,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||P0.hasOwnProperty(s)&&P0[s]?(""+n).trim():n+"px"}function H5(s,n){s=s.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,l=Q5(i,n[i],o);i==="float"&&(i="cssFloat"),o?s.setProperty(i,l):s[i]=l}}var rS=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c3(s,n){if(n){if(rS[s]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(lt(137,s));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(lt(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(lt(61))}if(n.style!=null&&typeof n.style!="object")throw Error(lt(62))}}function d3(s,n){if(s.indexOf("-")===-1)return typeof n.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u3=null;function Um(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var f3=null,Zl=null,ec=null;function Qg(s){if(s=U2(s)){if(typeof f3!="function")throw Error(lt(280));var n=s.stateNode;n&&(n=ef(n),f3(s.stateNode,s.type,n))}}function G5(s){Zl?ec?ec.push(s):ec=[s]:Zl=s}function q5(){if(Zl){var s=Zl,n=ec;if(ec=Zl=null,Qg(s),n)for(s=0;s<n.length;s++)Qg(n[s])}}function Y5(s,n){return s(n)}function V5(){}var Eh=!1;function $5(s,n,i){if(Eh)return s(n,i);Eh=!0;try{return Y5(s,n,i)}finally{Eh=!1,(Zl!==null||ec!==null)&&(V5(),q5())}}function e2(s,n){var i=s.stateNode;if(i===null)return null;var o=ef(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(s=s.type,o=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!o;break e;default:s=!1}if(s)return null;if(i&&typeof i!="function")throw Error(lt(231,n,typeof i));return i}var h3=!1;if(Gi)try{var g0={};Object.defineProperty(g0,"passive",{get:function(){h3=!0}}),window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{h3=!1}function sS(s,n,i,o,l,u,f,h,p){var m=Array.prototype.slice.call(arguments,3);try{n.apply(i,m)}catch(x){this.onError(x)}}var U0=!1,eu=null,tu=!1,p3=null,nS={onError:function(s){U0=!0,eu=s}};function aS(s,n,i,o,l,u,f,h,p){U0=!1,eu=null,sS.apply(nS,arguments)}function iS(s,n,i,o,l,u,f,h,p){if(aS.apply(this,arguments),U0){if(U0){var m=eu;U0=!1,eu=null}else throw Error(lt(198));tu||(tu=!0,p3=m)}}function wl(s){var n=s,i=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,n.flags&4098&&(i=n.return),s=n.return;while(s)}return n.tag===3?i:null}function W5(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function Hg(s){if(wl(s)!==s)throw Error(lt(188))}function oS(s){var n=s.alternate;if(!n){if(n=wl(s),n===null)throw Error(lt(188));return n!==s?null:s}for(var i=s,o=n;;){var l=i.return;if(l===null)break;var u=l.alternate;if(u===null){if(o=l.return,o!==null){i=o;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===i)return Hg(l),s;if(u===o)return Hg(l),n;u=u.sibling}throw Error(lt(188))}if(i.return!==o.return)i=l,o=u;else{for(var f=!1,h=l.child;h;){if(h===i){f=!0,i=l,o=u;break}if(h===o){f=!0,o=l,i=u;break}h=h.sibling}if(!f){for(h=u.child;h;){if(h===i){f=!0,i=u,o=l;break}if(h===o){f=!0,o=u,i=l;break}h=h.sibling}if(!f)throw Error(lt(189))}}if(i.alternate!==o)throw Error(lt(190))}if(i.tag!==3)throw Error(lt(188));return i.stateNode.current===i?s:n}function K5(s){return s=oS(s),s!==null?J5(s):null}function J5(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var n=J5(s);if(n!==null)return n;s=s.sibling}return null}var X5=M1.unstable_scheduleCallback,Gg=M1.unstable_cancelCallback,lS=M1.unstable_shouldYield,cS=M1.unstable_requestPaint,qn=M1.unstable_now,dS=M1.unstable_getCurrentPriorityLevel,Om=M1.unstable_ImmediatePriority,Z5=M1.unstable_UserBlockingPriority,ru=M1.unstable_NormalPriority,uS=M1.unstable_LowPriority,ey=M1.unstable_IdlePriority,Ku=null,ji=null;function fS(s){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Ku,s,void 0,(s.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:mS,hS=Math.log,pS=Math.LN2;function mS(s){return s>>>=0,s===0?32:31-(hS(s)/pS|0)|0}var gd=64,bd=4194304;function R0(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function su(s,n){var i=s.pendingLanes;if(i===0)return 0;var o=0,l=s.suspendedLanes,u=s.pingedLanes,f=i&268435455;if(f!==0){var h=f&~l;h!==0?o=R0(h):(u&=f,u!==0&&(o=R0(u)))}else f=i&~l,f!==0?o=R0(f):u!==0&&(o=R0(u));if(o===0)return 0;if(n!==0&&n!==o&&!(n&l)&&(l=o&-o,u=n&-n,l>=u||l===16&&(u&4194240)!==0))return n;if(o&4&&(o|=i&16),n=s.entangledLanes,n!==0)for(s=s.entanglements,n&=o;0<n;)i=31-ni(n),l=1<<i,o|=s[i],n&=~l;return o}function xS(s,n){switch(s){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vS(s,n){for(var i=s.suspendedLanes,o=s.pingedLanes,l=s.expirationTimes,u=s.pendingLanes;0<u;){var f=31-ni(u),h=1<<f,p=l[f];p===-1?(!(h&i)||h&o)&&(l[f]=xS(h,n)):p<=n&&(s.expiredLanes|=h),u&=~h}}function m3(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ty(){var s=gd;return gd<<=1,!(gd&4194240)&&(gd=64),s}function Ih(s){for(var n=[],i=0;31>i;i++)n.push(s);return n}function _2(s,n,i){s.pendingLanes|=n,n!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,n=31-ni(n),s[n]=i}function gS(s,n){var i=s.pendingLanes&~n;s.pendingLanes=n,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=n,s.mutableReadLanes&=n,s.entangledLanes&=n,n=s.entanglements;var o=s.eventTimes;for(s=s.expirationTimes;0<i;){var l=31-ni(i),u=1<<l;n[l]=0,o[l]=-1,s[l]=-1,i&=~u}}function zm(s,n){var i=s.entangledLanes|=n;for(s=s.entanglements;i;){var o=31-ni(i),l=1<<o;l&n|s[o]&n&&(s[o]|=n),i&=~l}}var Is=0;function ry(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var sy,Lm,ny,ay,iy,x3=!1,yd=[],xo=null,vo=null,go=null,t2=new Map,r2=new Map,lo=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qg(s,n){switch(s){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":t2.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":r2.delete(n.pointerId)}}function b0(s,n,i,o,l,u){return s===null||s.nativeEvent!==u?(s={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[l]},n!==null&&(n=U2(n),n!==null&&Lm(n)),s):(s.eventSystemFlags|=o,n=s.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),s)}function yS(s,n,i,o,l){switch(n){case"focusin":return xo=b0(xo,s,n,i,o,l),!0;case"dragenter":return vo=b0(vo,s,n,i,o,l),!0;case"mouseover":return go=b0(go,s,n,i,o,l),!0;case"pointerover":var u=l.pointerId;return t2.set(u,b0(t2.get(u)||null,s,n,i,o,l)),!0;case"gotpointercapture":return u=l.pointerId,r2.set(u,b0(r2.get(u)||null,s,n,i,o,l)),!0}return!1}function oy(s){var n=tl(s.target);if(n!==null){var i=wl(n);if(i!==null){if(n=i.tag,n===13){if(n=W5(i),n!==null){s.blockedOn=n,iy(s.priority,function(){ny(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){s.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ud(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var i=v3(s.domEventName,s.eventSystemFlags,n[0],s.nativeEvent);if(i===null){i=s.nativeEvent;var o=new i.constructor(i.type,i);u3=o,i.target.dispatchEvent(o),u3=null}else return n=U2(i),n!==null&&Lm(n),s.blockedOn=i,!1;n.shift()}return!0}function Yg(s,n,i){Ud(s)&&i.delete(n)}function wS(){x3=!1,xo!==null&&Ud(xo)&&(xo=null),vo!==null&&Ud(vo)&&(vo=null),go!==null&&Ud(go)&&(go=null),t2.forEach(Yg),r2.forEach(Yg)}function y0(s,n){s.blockedOn===n&&(s.blockedOn=null,x3||(x3=!0,M1.unstable_scheduleCallback(M1.unstable_NormalPriority,wS)))}function s2(s){function n(l){return y0(l,s)}if(0<yd.length){y0(yd[0],s);for(var i=1;i<yd.length;i++){var o=yd[i];o.blockedOn===s&&(o.blockedOn=null)}}for(xo!==null&&y0(xo,s),vo!==null&&y0(vo,s),go!==null&&y0(go,s),t2.forEach(n),r2.forEach(n),i=0;i<lo.length;i++)o=lo[i],o.blockedOn===s&&(o.blockedOn=null);for(;0<lo.length&&(i=lo[0],i.blockedOn===null);)oy(i),i.blockedOn===null&&lo.shift()}var tc=Ki.ReactCurrentBatchConfig,nu=!0;function AS(s,n,i,o){var l=Is,u=tc.transition;tc.transition=null;try{Is=1,Qm(s,n,i,o)}finally{Is=l,tc.transition=u}}function kS(s,n,i,o){var l=Is,u=tc.transition;tc.transition=null;try{Is=4,Qm(s,n,i,o)}finally{Is=l,tc.transition=u}}function Qm(s,n,i,o){if(nu){var l=v3(s,n,i,o);if(l===null)Oh(s,n,o,au,i),qg(s,o);else if(yS(l,s,n,i,o))o.stopPropagation();else if(qg(s,o),n&4&&-1<bS.indexOf(s)){for(;l!==null;){var u=U2(l);if(u!==null&&sy(u),u=v3(s,n,i,o),u===null&&Oh(s,n,o,au,i),u===l)break;l=u}l!==null&&o.stopPropagation()}else Oh(s,n,o,null,i)}}var au=null;function v3(s,n,i,o){if(au=null,s=Um(o),s=tl(s),s!==null)if(n=wl(s),n===null)s=null;else if(i=n.tag,i===13){if(s=W5(n),s!==null)return s;s=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null);return au=s,null}function ly(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dS()){case Om:return 1;case Z5:return 4;case ru:case uS:return 16;case ey:return 536870912;default:return 16}default:return 16}}var uo=null,Hm=null,Od=null;function cy(){if(Od)return Od;var s,n=Hm,i=n.length,o,l="value"in uo?uo.value:uo.textContent,u=l.length;for(s=0;s<i&&n[s]===l[s];s++);var f=i-s;for(o=1;o<=f&&n[i-o]===l[u-o];o++);return Od=l.slice(s,1<o?1-o:void 0)}function zd(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function wd(){return!0}function Vg(){return!1}function T1(s){function n(i,o,l,u,f){this._reactName=i,this._targetInst=l,this.type=o,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var h in s)s.hasOwnProperty(h)&&(i=s[h],this[h]=i?i(u):u[h]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?wd:Vg,this.isPropagationStopped=Vg,this}return Mn(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),n}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=T1(Bc),P2=Mn({},Bc,{view:0,detail:0}),jS=T1(P2),Bh,Dh,w0,Ju=Mn({},P2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==w0&&(w0&&s.type==="mousemove"?(Bh=s.screenX-w0.screenX,Dh=s.screenY-w0.screenY):Dh=Bh=0,w0=s),Bh)},movementY:function(s){return"movementY"in s?s.movementY:Dh}}),$g=T1(Ju),NS=Mn({},Ju,{dataTransfer:0}),CS=T1(NS),SS=Mn({},P2,{relatedTarget:0}),Mh=T1(SS),ES=Mn({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),IS=T1(ES),BS=Mn({},Bc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),DS=T1(BS),MS=Mn({},Bc,{data:0}),Wg=T1(MS),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=TS[s])?!!n[s]:!1}function qm(){return _S}var PS=Mn({},P2,{key:function(s){if(s.key){var n=FS[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=zd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?RS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(s){return s.type==="keypress"?zd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),US=T1(PS),OS=Mn({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=T1(OS),zS=Mn({},P2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),LS=T1(zS),QS=Mn({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),HS=T1(QS),GS=Mn({},Ju,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qS=T1(GS),YS=[9,13,27,32],Ym=Gi&&"CompositionEvent"in window,O0=null;Gi&&"documentMode"in document&&(O0=document.documentMode);var VS=Gi&&"TextEvent"in window&&!O0,dy=Gi&&(!Ym||O0&&8<O0&&11>=O0),Jg=" ",Xg=!1;function uy(s,n){switch(s){case"keyup":return YS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zl=!1;function $S(s,n){switch(s){case"compositionend":return fy(n);case"keypress":return n.which!==32?null:(Xg=!0,Jg);case"textInput":return s=n.data,s===Jg&&Xg?null:s;default:return null}}function WS(s,n){if(zl)return s==="compositionend"||!Ym&&uy(s,n)?(s=cy(),Od=Hm=uo=null,zl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dy&&n.locale!=="ko"?null:n.data;default:return null}}var KS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!KS[s.type]:n==="textarea"}function hy(s,n,i,o){G5(o),n=iu(n,"onChange"),0<n.length&&(i=new Gm("onChange","change",null,i,o),s.push({event:i,listeners:n}))}var z0=null,n2=null;function JS(s){jy(s,0)}function Xu(s){var n=Hl(s);if(P5(n))return s}function XS(s,n){if(s==="change")return n}var py=!1;if(Gi){var Fh;if(Gi){var Rh="oninput"in document;if(!Rh){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),Rh=typeof eb.oninput=="function"}Fh=Rh}else Fh=!1;py=Fh&&(!document.documentMode||9<document.documentMode)}function tb(){z0&&(z0.detachEvent("onpropertychange",my),n2=z0=null)}function my(s){if(s.propertyName==="value"&&Xu(n2)){var n=[];hy(n,n2,s,Um(s)),$5(JS,n)}}function ZS(s,n,i){s==="focusin"?(tb(),z0=n,n2=i,z0.attachEvent("onpropertychange",my)):s==="focusout"&&tb()}function eE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xu(n2)}function tE(s,n){if(s==="click")return Xu(n)}function rE(s,n){if(s==="input"||s==="change")return Xu(n)}function sE(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var oi=typeof Object.is=="function"?Object.is:sE;function a2(s,n){if(oi(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var i=Object.keys(s),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var l=i[o];if(!Zp.call(n,l)||!oi(s[l],n[l]))return!1}return!0}function rb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sb(s,n){var i=rb(s);s=0;for(var o;i;){if(i.nodeType===3){if(o=s+i.textContent.length,s<=n&&o>=n)return{node:i,offset:n-s};s=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rb(i)}}function xy(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?xy(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function vy(){for(var s=window,n=Zd();n instanceof s.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)s=n.contentWindow;else break;n=Zd(s.document)}return n}function Vm(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}function nE(s){var n=vy(),i=s.focusedElem,o=s.selectionRange;if(n!==i&&i&&i.ownerDocument&&xy(i.ownerDocument.documentElement,i)){if(o!==null&&Vm(i)){if(n=o.start,s=o.end,s===void 0&&(s=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(s,i.value.length);else if(s=(n=i.ownerDocument||document)&&n.defaultView||window,s.getSelection){s=s.getSelection();var l=i.textContent.length,u=Math.min(o.start,l);o=o.end===void 0?u:Math.min(o.end,l),!s.extend&&u>o&&(l=o,o=u,u=l),l=sb(i,u);var f=sb(i,o);l&&f&&(s.rangeCount!==1||s.anchorNode!==l.node||s.anchorOffset!==l.offset||s.focusNode!==f.node||s.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),s.removeAllRanges(),u>o?(s.addRange(n),s.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),s.addRange(n)))}}for(n=[],s=i;s=s.parentNode;)s.nodeType===1&&n.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)s=n[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var aE=Gi&&"documentMode"in document&&11>=document.documentMode,Ll=null,g3=null,L0=null,b3=!1;function nb(s,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;b3||Ll==null||Ll!==Zd(o)||(o=Ll,"selectionStart"in o&&Vm(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),L0&&a2(L0,o)||(L0=o,o=iu(g3,"onSelect"),0<o.length&&(n=new Gm("onSelect","select",null,n,i),s.push({event:n,listeners:o}),n.target=Ll)))}function Ad(s,n){var i={};return i[s.toLowerCase()]=n.toLowerCase(),i["Webkit"+s]="webkit"+n,i["Moz"+s]="moz"+n,i}var Ql={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionend:Ad("Transition","TransitionEnd")},Th={},gy={};Gi&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function Zu(s){if(Th[s])return Th[s];if(!Ql[s])return s;var n=Ql[s],i;for(i in n)if(n.hasOwnProperty(i)&&i in gy)return Th[s]=n[i];return s}var by=Zu("animationend"),yy=Zu("animationiteration"),wy=Zu("animationstart"),Ay=Zu("transitionend"),ky=new Map,ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(s,n){ky.set(s,n),yl(n,[s])}for(var _h=0;_h<ab.length;_h++){var Ph=ab[_h],iE=Ph.toLowerCase(),oE=Ph[0].toUpperCase()+Ph.slice(1);Po(iE,"on"+oE)}Po(by,"onAnimationEnd");Po(yy,"onAnimationIteration");Po(wy,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(Ay,"onTransitionEnd");cc("onMouseEnter",["mouseout","mouseover"]);cc("onMouseLeave",["mouseout","mouseover"]);cc("onPointerEnter",["pointerout","pointerover"]);cc("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("cancel close invalid load scroll toggle".split(" ").concat(T0));function ib(s,n,i){var o=s.type||"unknown-event";s.currentTarget=i,iS(o,n,void 0,s),s.currentTarget=null}function jy(s,n){n=(n&4)!==0;for(var i=0;i<s.length;i++){var o=s[i],l=o.event;o=o.listeners;e:{var u=void 0;if(n)for(var f=o.length-1;0<=f;f--){var h=o[f],p=h.instance,m=h.currentTarget;if(h=h.listener,p!==u&&l.isPropagationStopped())break e;ib(l,h,m),u=p}else for(f=0;f<o.length;f++){if(h=o[f],p=h.instance,m=h.currentTarget,h=h.listener,p!==u&&l.isPropagationStopped())break e;ib(l,h,m),u=p}}}if(tu)throw s=p3,tu=!1,p3=null,s}function dn(s,n){var i=n[j3];i===void 0&&(i=n[j3]=new Set);var o=s+"__bubble";i.has(o)||(Ny(n,s,2,!1),i.add(o))}function Uh(s,n,i){var o=0;n&&(o|=4),Ny(i,s,o,n)}var kd="_reactListening"+Math.random().toString(36).slice(2);function i2(s){if(!s[kd]){s[kd]=!0,M5.forEach(function(i){i!=="selectionchange"&&(lE.has(i)||Uh(i,!1,s),Uh(i,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[kd]||(n[kd]=!0,Uh("selectionchange",!1,n))}}function Ny(s,n,i,o){switch(ly(n)){case 1:var l=AS;break;case 4:l=kS;break;default:l=Qm}i=l.bind(null,n,i,s),l=void 0,!h3||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),o?l!==void 0?s.addEventListener(n,i,{capture:!0,passive:l}):s.addEventListener(n,i,!0):l!==void 0?s.addEventListener(n,i,{passive:l}):s.addEventListener(n,i,!1)}function Oh(s,n,i,o,l){var u=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var h=o.stateNode.containerInfo;if(h===l||h.nodeType===8&&h.parentNode===l)break;if(f===4)for(f=o.return;f!==null;){var p=f.tag;if((p===3||p===4)&&(p=f.stateNode.containerInfo,p===l||p.nodeType===8&&p.parentNode===l))return;f=f.return}for(;h!==null;){if(f=tl(h),f===null)return;if(p=f.tag,p===5||p===6){o=u=f;continue e}h=h.parentNode}}o=o.return}$5(function(){var m=u,x=Um(i),b=[];e:{var v=ky.get(s);if(v!==void 0){var w=Gm,y=s;switch(s){case"keypress":if(zd(i)===0)break e;case"keydown":case"keyup":w=US;break;case"focusin":y="focus",w=Mh;break;case"focusout":y="blur",w=Mh;break;case"beforeblur":case"afterblur":w=Mh;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=$g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=CS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=LS;break;case by:case yy:case wy:w=IS;break;case Ay:w=HS;break;case"scroll":w=jS;break;case"wheel":w=qS;break;case"copy":case"cut":case"paste":w=DS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Kg}var A=(n&4)!==0,k=!A&&s==="scroll",E=A?v!==null?v+"Capture":null:v;A=[];for(var j=m,N;j!==null;){N=j;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,E!==null&&(I=e2(j,E),I!=null&&A.push(o2(j,I,N)))),k)break;j=j.return}0<A.length&&(v=new w(v,y,null,i,x),b.push({event:v,listeners:A}))}}if(!(n&7)){e:{if(v=s==="mouseover"||s==="pointerover",w=s==="mouseout"||s==="pointerout",v&&i!==u3&&(y=i.relatedTarget||i.fromElement)&&(tl(y)||y[qi]))break e;if((w||v)&&(v=x.window===x?x:(v=x.ownerDocument)?v.defaultView||v.parentWindow:window,w?(y=i.relatedTarget||i.toElement,w=m,y=y?tl(y):null,y!==null&&(k=wl(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=m),w!==y)){if(A=$g,I="onMouseLeave",E="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(A=Kg,I="onPointerLeave",E="onPointerEnter",j="pointer"),k=w==null?v:Hl(w),N=y==null?v:Hl(y),v=new A(I,j+"leave",w,i,x),v.target=k,v.relatedTarget=N,I=null,tl(x)===m&&(A=new A(E,j+"enter",y,i,x),A.target=N,A.relatedTarget=k,I=A),k=I,w&&y)t:{for(A=w,E=y,j=0,N=A;N;N=_l(N))j++;for(N=0,I=E;I;I=_l(I))N++;for(;0<j-N;)A=_l(A),j--;for(;0<N-j;)E=_l(E),N--;for(;j--;){if(A===E||E!==null&&A===E.alternate)break t;A=_l(A),E=_l(E)}A=null}else A=null;w!==null&&ob(b,v,w,A,!1),y!==null&&k!==null&&ob(b,k,y,A,!0)}}e:{if(v=m?Hl(m):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var M=XS;else if(Zg(v))if(py)M=rE;else{M=eE;var B=ZS}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(M=tE);if(M&&(M=M(s,m))){hy(b,M,i,x);break e}B&&B(s,v,m),s==="focusout"&&(B=v._wrapperState)&&B.controlled&&v.type==="number"&&i3(v,"number",v.value)}switch(B=m?Hl(m):window,s){case"focusin":(Zg(B)||B.contentEditable==="true")&&(Ll=B,g3=m,L0=null);break;case"focusout":L0=g3=Ll=null;break;case"mousedown":b3=!0;break;case"contextmenu":case"mouseup":case"dragend":b3=!1,nb(b,i,x);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":nb(b,i,x)}var F;if(Ym)e:{switch(s){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else zl?uy(s,i)&&(D="onCompositionEnd"):s==="keydown"&&i.keyCode===229&&(D="onCompositionStart");D&&(dy&&i.locale!=="ko"&&(zl||D!=="onCompositionStart"?D==="onCompositionEnd"&&zl&&(F=cy()):(uo=x,Hm="value"in uo?uo.value:uo.textContent,zl=!0)),B=iu(m,D),0<B.length&&(D=new Wg(D,s,null,i,x),b.push({event:D,listeners:B}),F?D.data=F:(F=fy(i),F!==null&&(D.data=F)))),(F=VS?$S(s,i):WS(s,i))&&(m=iu(m,"onBeforeInput"),0<m.length&&(x=new Wg("onBeforeInput","beforeinput",null,i,x),b.push({event:x,listeners:m}),x.data=F))}jy(b,n)})}function o2(s,n,i){return{instance:s,listener:n,currentTarget:i}}function iu(s,n){for(var i=n+"Capture",o=[];s!==null;){var l=s,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=e2(s,i),u!=null&&o.unshift(o2(s,u,l)),u=e2(s,n),u!=null&&o.push(o2(s,u,l))),s=s.return}return o}function _l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ob(s,n,i,o,l){for(var u=n._reactName,f=[];i!==null&&i!==o;){var h=i,p=h.alternate,m=h.stateNode;if(p!==null&&p===o)break;h.tag===5&&m!==null&&(h=m,l?(p=e2(i,u),p!=null&&f.unshift(o2(i,p,h))):l||(p=e2(i,u),p!=null&&f.push(o2(i,p,h)))),i=i.return}f.length!==0&&s.push({event:n,listeners:f})}var cE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function lb(s){return(typeof s=="string"?s:""+s).replace(cE,`
`).replace(dE,"")}function jd(s,n,i){if(n=lb(n),lb(s)!==n&&i)throw Error(lt(425))}function ou(){}var y3=null,w3=null;function A3(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var k3=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,cb=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof cb<"u"?function(s){return cb.resolve(null).then(s).catch(hE)}:k3;function hE(s){setTimeout(function(){throw s})}function zh(s,n){var i=n,o=0;do{var l=i.nextSibling;if(s.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(o===0){s.removeChild(l),s2(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=l}while(i);s2(n)}function bo(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return s}function db(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var i=s.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return s;n--}else i==="/$"&&n++}s=s.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),ki="__reactFiber$"+Dc,l2="__reactProps$"+Dc,qi="__reactContainer$"+Dc,j3="__reactEvents$"+Dc,pE="__reactListeners$"+Dc,mE="__reactHandles$"+Dc;function tl(s){var n=s[ki];if(n)return n;for(var i=s.parentNode;i;){if(n=i[qi]||i[ki]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(s=db(s);s!==null;){if(i=s[ki])return i;s=db(s)}return n}s=i,i=s.parentNode}return null}function U2(s){return s=s[ki]||s[qi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Hl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(lt(33))}function ef(s){return s[l2]||null}var N3=[],Gl=-1;function Uo(s){return{current:s}}function un(s){0>Gl||(s.current=N3[Gl],N3[Gl]=null,Gl--)}function Zs(s,n){Gl++,N3[Gl]=s.current,s.current=n}var Do={},$a=Uo(Do),p1=Uo(!1),ul=Do;function dc(s,n){var i=s.type.contextTypes;if(!i)return Do;var o=s.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in i)l[u]=n[u];return o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=n,s.__reactInternalMemoizedMaskedChildContext=l),l}function m1(s){return s=s.childContextTypes,s!=null}function lu(){un(p1),un($a)}function ub(s,n,i){if($a.current!==Do)throw Error(lt(168));Zs($a,n),Zs(p1,i)}function Cy(s,n,i){var o=s.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var l in o)if(!(l in n))throw Error(lt(108,ZC(s)||"Unknown",l));return Mn({},i,o)}function cu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Do,ul=$a.current,Zs($a,s),Zs(p1,p1.current),!0}function fb(s,n,i){var o=s.stateNode;if(!o)throw Error(lt(169));i?(s=Cy(s,n,ul),o.__reactInternalMemoizedMergedChildContext=s,un(p1),un($a),Zs($a,s)):un(p1),Zs(p1,i)}var Pi=null,tf=!1,Lh=!1;function Sy(s){Pi===null?Pi=[s]:Pi.push(s)}function xE(s){tf=!0,Sy(s)}function Oo(){if(!Lh&&Pi!==null){Lh=!0;var s=0,n=Is;try{var i=Pi;for(Is=1;s<i.length;s++){var o=i[s];do o=o(!0);while(o!==null)}Pi=null,tf=!1}catch(l){throw Pi!==null&&(Pi=Pi.slice(s+1)),X5(Om,Oo),l}finally{Is=n,Lh=!1}}return null}var ql=[],Yl=0,du=null,uu=0,_1=[],P1=0,fl=null,Ui=1,Oi="";function Jo(s,n){ql[Yl++]=uu,ql[Yl++]=du,du=s,uu=n}function Ey(s,n,i){_1[P1++]=Ui,_1[P1++]=Oi,_1[P1++]=fl,fl=s;var o=Ui;s=Oi;var l=32-ni(o)-1;o&=~(1<<l),i+=1;var u=32-ni(n)+l;if(30<u){var f=l-l%5;u=(o&(1<<f)-1).toString(32),o>>=f,l-=f,Ui=1<<32-ni(n)+l|i<<l|o,Oi=u+s}else Ui=1<<u|i<<l|o,Oi=s}function $m(s){s.return!==null&&(Jo(s,1),Ey(s,1,0))}function Wm(s){for(;s===du;)du=ql[--Yl],ql[Yl]=null,uu=ql[--Yl],ql[Yl]=null;for(;s===fl;)fl=_1[--P1],_1[P1]=null,Oi=_1[--P1],_1[P1]=null,Ui=_1[--P1],_1[P1]=null}var D1=null,B1=null,gn=!1,ti=null;function Iy(s,n){var i=U1(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=s,n=s.deletions,n===null?(s.deletions=[i],s.flags|=16):n.push(i)}function hb(s,n){switch(s.tag){case 5:var i=s.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(s.stateNode=n,D1=s,B1=bo(n.firstChild),!0):!1;case 6:return n=s.pendingProps===""||n.nodeType!==3?null:n,n!==null?(s.stateNode=n,D1=s,B1=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=fl!==null?{id:Ui,overflow:Oi}:null,s.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=U1(18,null,null,0),i.stateNode=n,i.return=s,s.child=i,D1=s,B1=null,!0):!1;default:return!1}}function C3(s){return(s.mode&1)!==0&&(s.flags&128)===0}function S3(s){if(gn){var n=B1;if(n){var i=n;if(!hb(s,n)){if(C3(s))throw Error(lt(418));n=bo(i.nextSibling);var o=D1;n&&hb(s,n)?Iy(o,i):(s.flags=s.flags&-4097|2,gn=!1,D1=s)}}else{if(C3(s))throw Error(lt(418));s.flags=s.flags&-4097|2,gn=!1,D1=s}}}function pb(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;D1=s}function Nd(s){if(s!==D1)return!1;if(!gn)return pb(s),gn=!0,!1;var n;if((n=s.tag!==3)&&!(n=s.tag!==5)&&(n=s.type,n=n!=="head"&&n!=="body"&&!A3(s.type,s.memoizedProps)),n&&(n=B1)){if(C3(s))throw By(),Error(lt(418));for(;n;)Iy(s,n),n=bo(n.nextSibling)}if(pb(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(lt(317));e:{for(s=s.nextSibling,n=0;s;){if(s.nodeType===8){var i=s.data;if(i==="/$"){if(n===0){B1=bo(s.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}s=s.nextSibling}B1=null}}else B1=D1?bo(s.stateNode.nextSibling):null;return!0}function By(){for(var s=B1;s;)s=bo(s.nextSibling)}function uc(){B1=D1=null,gn=!1}function Km(s){ti===null?ti=[s]:ti.push(s)}var vE=Ki.ReactCurrentBatchConfig;function A0(s,n,i){if(s=i.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(lt(309));var o=i.stateNode}if(!o)throw Error(lt(147,s));var l=o,u=""+s;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(f){var h=l.refs;f===null?delete h[u]:h[u]=f},n._stringRef=u,n)}if(typeof s!="string")throw Error(lt(284));if(!i._owner)throw Error(lt(290,s))}return s}function Cd(s,n){throw s=Object.prototype.toString.call(n),Error(lt(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s))}function mb(s){var n=s._init;return n(s._payload)}function Dy(s){function n(E,j){if(s){var N=E.deletions;N===null?(E.deletions=[j],E.flags|=16):N.push(j)}}function i(E,j){if(!s)return null;for(;j!==null;)n(E,j),j=j.sibling;return null}function o(E,j){for(E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function l(E,j){return E=ko(E,j),E.index=0,E.sibling=null,E}function u(E,j,N){return E.index=N,s?(N=E.alternate,N!==null?(N=N.index,N<j?(E.flags|=2,j):N):(E.flags|=2,j)):(E.flags|=1048576,j)}function f(E){return s&&E.alternate===null&&(E.flags|=2),E}function h(E,j,N,I){return j===null||j.tag!==6?(j=$h(N,E.mode,I),j.return=E,j):(j=l(j,N),j.return=E,j)}function p(E,j,N,I){var M=N.type;return M===Ol?x(E,j,N.props.children,I,N.key):j!==null&&(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===io&&mb(M)===j.type)?(I=l(j,N.props),I.ref=A0(E,j,N),I.return=E,I):(I=Vd(N.type,N.key,N.props,null,E.mode,I),I.ref=A0(E,j,N),I.return=E,I)}function m(E,j,N,I){return j===null||j.tag!==4||j.stateNode.containerInfo!==N.containerInfo||j.stateNode.implementation!==N.implementation?(j=Wh(N,E.mode,I),j.return=E,j):(j=l(j,N.children||[]),j.return=E,j)}function x(E,j,N,I,M){return j===null||j.tag!==7?(j=ll(N,E.mode,I,M),j.return=E,j):(j=l(j,N),j.return=E,j)}function b(E,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return j=$h(""+j,E.mode,N),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case md:return N=Vd(j.type,j.key,j.props,null,E.mode,N),N.ref=A0(E,null,j),N.return=E,N;case Ul:return j=Wh(j,E.mode,N),j.return=E,j;case io:var I=j._init;return b(E,I(j._payload),N)}if(F0(j)||v0(j))return j=ll(j,E.mode,N,null),j.return=E,j;Cd(E,j)}return null}function v(E,j,N,I){var M=j!==null?j.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return M!==null?null:h(E,j,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case md:return N.key===M?p(E,j,N,I):null;case Ul:return N.key===M?m(E,j,N,I):null;case io:return M=N._init,v(E,j,M(N._payload),I)}if(F0(N)||v0(N))return M!==null?null:x(E,j,N,I,null);Cd(E,N)}return null}function w(E,j,N,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(N)||null,h(j,E,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case md:return E=E.get(I.key===null?N:I.key)||null,p(j,E,I,M);case Ul:return E=E.get(I.key===null?N:I.key)||null,m(j,E,I,M);case io:var B=I._init;return w(E,j,N,B(I._payload),M)}if(F0(I)||v0(I))return E=E.get(N)||null,x(j,E,I,M,null);Cd(j,I)}return null}function y(E,j,N,I){for(var M=null,B=null,F=j,D=j=0,H=null;F!==null&&D<N.length;D++){F.index>D?(H=F,F=null):H=F.sibling;var T=v(E,F,N[D],I);if(T===null){F===null&&(F=H);break}s&&F&&T.alternate===null&&n(E,F),j=u(T,j,D),B===null?M=T:B.sibling=T,B=T,F=H}if(D===N.length)return i(E,F),gn&&Jo(E,D),M;if(F===null){for(;D<N.length;D++)F=b(E,N[D],I),F!==null&&(j=u(F,j,D),B===null?M=F:B.sibling=F,B=F);return gn&&Jo(E,D),M}for(F=o(E,F);D<N.length;D++)H=w(F,E,D,N[D],I),H!==null&&(s&&H.alternate!==null&&F.delete(H.key===null?D:H.key),j=u(H,j,D),B===null?M=H:B.sibling=H,B=H);return s&&F.forEach(function(_){return n(E,_)}),gn&&Jo(E,D),M}function A(E,j,N,I){var M=v0(N);if(typeof M!="function")throw Error(lt(150));if(N=M.call(N),N==null)throw Error(lt(151));for(var B=M=null,F=j,D=j=0,H=null,T=N.next();F!==null&&!T.done;D++,T=N.next()){F.index>D?(H=F,F=null):H=F.sibling;var _=v(E,F,T.value,I);if(_===null){F===null&&(F=H);break}s&&F&&_.alternate===null&&n(E,F),j=u(_,j,D),B===null?M=_:B.sibling=_,B=_,F=H}if(T.done)return i(E,F),gn&&Jo(E,D),M;if(F===null){for(;!T.done;D++,T=N.next())T=b(E,T.value,I),T!==null&&(j=u(T,j,D),B===null?M=T:B.sibling=T,B=T);return gn&&Jo(E,D),M}for(F=o(E,F);!T.done;D++,T=N.next())T=w(F,E,D,T.value,I),T!==null&&(s&&T.alternate!==null&&F.delete(T.key===null?D:T.key),j=u(T,j,D),B===null?M=T:B.sibling=T,B=T);return s&&F.forEach(function(L){return n(E,L)}),gn&&Jo(E,D),M}function k(E,j,N,I){if(typeof N=="object"&&N!==null&&N.type===Ol&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case md:e:{for(var M=N.key,B=j;B!==null;){if(B.key===M){if(M=N.type,M===Ol){if(B.tag===7){i(E,B.sibling),j=l(B,N.props.children),j.return=E,E=j;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===io&&mb(M)===B.type){i(E,B.sibling),j=l(B,N.props),j.ref=A0(E,B,N),j.return=E,E=j;break e}i(E,B);break}else n(E,B);B=B.sibling}N.type===Ol?(j=ll(N.props.children,E.mode,I,N.key),j.return=E,E=j):(I=Vd(N.type,N.key,N.props,null,E.mode,I),I.ref=A0(E,j,N),I.return=E,E=I)}return f(E);case Ul:e:{for(B=N.key;j!==null;){if(j.key===B)if(j.tag===4&&j.stateNode.containerInfo===N.containerInfo&&j.stateNode.implementation===N.implementation){i(E,j.sibling),j=l(j,N.children||[]),j.return=E,E=j;break e}else{i(E,j);break}else n(E,j);j=j.sibling}j=Wh(N,E.mode,I),j.return=E,E=j}return f(E);case io:return B=N._init,k(E,j,B(N._payload),I)}if(F0(N))return y(E,j,N,I);if(v0(N))return A(E,j,N,I);Cd(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,j!==null&&j.tag===6?(i(E,j.sibling),j=l(j,N),j.return=E,E=j):(i(E,j),j=$h(N,E.mode,I),j.return=E,E=j),f(E)):i(E,j)}return k}var fc=Dy(!0),My=Dy(!1),fu=Uo(null),hu=null,Vl=null,Jm=null;function Xm(){Jm=Vl=hu=null}function Zm(s){var n=fu.current;un(fu),s._currentValue=n}function E3(s,n,i){for(;s!==null;){var o=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),s===i)break;s=s.return}}function rc(s,n){hu=s,Jm=Vl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&n&&(f1=!0),s.firstContext=null)}function L1(s){var n=s._currentValue;if(Jm!==s)if(s={context:s,memoizedValue:n,next:null},Vl===null){if(hu===null)throw Error(lt(308));Vl=s,hu.dependencies={lanes:0,firstContext:s}}else Vl=Vl.next=s;return n}var rl=null;function ex(s){rl===null?rl=[s]:rl.push(s)}function Fy(s,n,i,o){var l=n.interleaved;return l===null?(i.next=i,ex(n)):(i.next=l.next,l.next=i),n.interleaved=i,Yi(s,o)}function Yi(s,n){s.lanes|=n;var i=s.alternate;for(i!==null&&(i.lanes|=n),i=s,s=s.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),i=s,s=s.return;return i.tag===3?i.stateNode:null}var oo=!1;function tx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ry(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,n){return{eventTime:s,lane:n,tag:0,payload:null,callback:null,next:null}}function yo(s,n,i){var o=s.updateQueue;if(o===null)return null;if(o=o.shared,ds&2){var l=o.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),o.pending=n,Yi(s,i)}return l=o.interleaved,l===null?(n.next=n,ex(o)):(n.next=l.next,l.next=n),o.interleaved=n,Yi(s,i)}function Ld(s,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=s.pendingLanes,i|=o,n.lanes=i,zm(s,i)}}function xb(s,n){var i=s.updateQueue,o=s.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var l=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var f={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?l=u=f:u=u.next=f,i=i.next}while(i!==null);u===null?l=u=n:u=u.next=n}else l=u=n;i={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:o.shared,effects:o.effects},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=n:s.next=n,i.lastBaseUpdate=n}function pu(s,n,i,o){var l=s.updateQueue;oo=!1;var u=l.firstBaseUpdate,f=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var p=h,m=p.next;p.next=null,f===null?u=m:f.next=m,f=p;var x=s.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==f&&(h===null?x.firstBaseUpdate=m:h.next=m,x.lastBaseUpdate=p))}if(u!==null){var b=l.baseState;f=0,x=m=p=null,h=u;do{var v=h.lane,w=h.eventTime;if((o&v)===v){x!==null&&(x=x.next={eventTime:w,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var y=s,A=h;switch(v=n,w=i,A.tag){case 1:if(y=A.payload,typeof y=="function"){b=y.call(w,b,v);break e}b=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=A.payload,v=typeof y=="function"?y.call(w,b,v):y,v==null)break e;b=Mn({},b,v);break e;case 2:oo=!0}}h.callback!==null&&h.lane!==0&&(s.flags|=64,v=l.effects,v===null?l.effects=[h]:v.push(h))}else w={eventTime:w,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(m=x=w,p=b):x=x.next=w,f|=v;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;v=h,h=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(x===null&&(p=b),l.baseState=p,l.firstBaseUpdate=m,l.lastBaseUpdate=x,n=l.shared.interleaved,n!==null){l=n;do f|=l.lane,l=l.next;while(l!==n)}else u===null&&(l.shared.lanes=0);pl|=f,s.lanes=f,s.memoizedState=b}}function vb(s,n,i){if(s=n.effects,n.effects=null,s!==null)for(n=0;n<s.length;n++){var o=s[n],l=o.callback;if(l!==null){if(o.callback=null,o=i,typeof l!="function")throw Error(lt(191,l));l.call(o)}}}var O2={},Ni=Uo(O2),c2=Uo(O2),d2=Uo(O2);function sl(s){if(s===O2)throw Error(lt(174));return s}function rx(s,n){switch(Zs(d2,n),Zs(c2,s),Zs(Ni,O2),s=n.nodeType,s){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:l3(null,"");break;default:s=s===8?n.parentNode:n,n=s.namespaceURI||null,s=s.tagName,n=l3(n,s)}un(Ni),Zs(Ni,n)}function hc(){un(Ni),un(c2),un(d2)}function Ty(s){sl(d2.current);var n=sl(Ni.current),i=l3(n,s.type);n!==i&&(Zs(c2,s),Zs(Ni,i))}function sx(s){c2.current===s&&(un(Ni),un(c2))}var Bn=Uo(0);function mu(s){for(var n=s;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qh=[];function nx(){for(var s=0;s<Qh.length;s++)Qh[s]._workInProgressVersionPrimary=null;Qh.length=0}var Qd=Ki.ReactCurrentDispatcher,Hh=Ki.ReactCurrentBatchConfig,hl=0,Dn=null,sa=null,va=null,xu=!1,Q0=!1,u2=0,gE=0;function La(){throw Error(lt(321))}function ax(s,n){if(n===null)return!1;for(var i=0;i<n.length&&i<s.length;i++)if(!oi(s[i],n[i]))return!1;return!0}function ix(s,n,i,o,l,u){if(hl=u,Dn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Qd.current=s===null||s.memoizedState===null?AE:kE,s=i(o,l),Q0){u=0;do{if(Q0=!1,u2=0,25<=u)throw Error(lt(301));u+=1,va=sa=null,n.updateQueue=null,Qd.current=jE,s=i(o,l)}while(Q0)}if(Qd.current=vu,n=sa!==null&&sa.next!==null,hl=0,va=sa=Dn=null,xu=!1,n)throw Error(lt(300));return s}function ox(){var s=u2!==0;return u2=0,s}function Ai(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return va===null?Dn.memoizedState=va=s:va=va.next=s,va}function Q1(){if(sa===null){var s=Dn.alternate;s=s!==null?s.memoizedState:null}else s=sa.next;var n=va===null?Dn.memoizedState:va.next;if(n!==null)va=n,sa=s;else{if(s===null)throw Error(lt(310));sa=s,s={memoizedState:sa.memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},va===null?Dn.memoizedState=va=s:va=va.next=s}return va}function f2(s,n){return typeof n=="function"?n(s):n}function Gh(s){var n=Q1(),i=n.queue;if(i===null)throw Error(lt(311));i.lastRenderedReducer=s;var o=sa,l=o.baseQueue,u=i.pending;if(u!==null){if(l!==null){var f=l.next;l.next=u.next,u.next=f}o.baseQueue=l=u,i.pending=null}if(l!==null){u=l.next,o=o.baseState;var h=f=null,p=null,m=u;do{var x=m.lane;if((hl&x)===x)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:s(o,m.action);else{var b={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(h=p=b,f=o):p=p.next=b,Dn.lanes|=x,pl|=x}m=m.next}while(m!==null&&m!==u);p===null?f=o:p.next=h,oi(o,n.memoizedState)||(f1=!0),n.memoizedState=o,n.baseState=f,n.baseQueue=p,i.lastRenderedState=o}if(s=i.interleaved,s!==null){l=s;do u=l.lane,Dn.lanes|=u,pl|=u,l=l.next;while(l!==s)}else l===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function qh(s){var n=Q1(),i=n.queue;if(i===null)throw Error(lt(311));i.lastRenderedReducer=s;var o=i.dispatch,l=i.pending,u=n.memoizedState;if(l!==null){i.pending=null;var f=l=l.next;do u=s(u,f.action),f=f.next;while(f!==l);oi(u,n.memoizedState)||(f1=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),i.lastRenderedState=u}return[u,o]}function _y(){}function Py(s,n){var i=Dn,o=Q1(),l=n(),u=!oi(o.memoizedState,l);if(u&&(o.memoizedState=l,f1=!0),o=o.queue,lx(zy.bind(null,i,o,s),[s]),o.getSnapshot!==n||u||va!==null&&va.memoizedState.tag&1){if(i.flags|=2048,h2(9,Oy.bind(null,i,o,l,n),void 0,null),ya===null)throw Error(lt(349));hl&30||Uy(i,n,l)}return l}function Uy(s,n,i){s.flags|=16384,s={getSnapshot:n,value:i},n=Dn.updateQueue,n===null?(n={lastEffect:null,stores:null},Dn.updateQueue=n,n.stores=[s]):(i=n.stores,i===null?n.stores=[s]:i.push(s))}function Oy(s,n,i,o){n.value=i,n.getSnapshot=o,Ly(n)&&Qy(s)}function zy(s,n,i){return i(function(){Ly(n)&&Qy(s)})}function Ly(s){var n=s.getSnapshot;s=s.value;try{var i=n();return!oi(s,i)}catch{return!0}}function Qy(s){var n=Yi(s,1);n!==null&&ai(n,s,1,-1)}function gb(s){var n=Ai();return typeof s=="function"&&(s=s()),n.memoizedState=n.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f2,lastRenderedState:s},n.queue=s,s=s.dispatch=wE.bind(null,Dn,s),[n.memoizedState,s]}function h2(s,n,i,o){return s={tag:s,create:n,destroy:i,deps:o,next:null},n=Dn.updateQueue,n===null?(n={lastEffect:null,stores:null},Dn.updateQueue=n,n.lastEffect=s.next=s):(i=n.lastEffect,i===null?n.lastEffect=s.next=s:(o=i.next,i.next=s,s.next=o,n.lastEffect=s)),s}function Hy(){return Q1().memoizedState}function Hd(s,n,i,o){var l=Ai();Dn.flags|=s,l.memoizedState=h2(1|n,i,void 0,o===void 0?null:o)}function rf(s,n,i,o){var l=Q1();o=o===void 0?null:o;var u=void 0;if(sa!==null){var f=sa.memoizedState;if(u=f.destroy,o!==null&&ax(o,f.deps)){l.memoizedState=h2(n,i,u,o);return}}Dn.flags|=s,l.memoizedState=h2(1|n,i,u,o)}function bb(s,n){return Hd(8390656,8,s,n)}function lx(s,n){return rf(2048,8,s,n)}function Gy(s,n){return rf(4,2,s,n)}function qy(s,n){return rf(4,4,s,n)}function Yy(s,n){if(typeof n=="function")return s=s(),n(s),function(){n(null)};if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function Vy(s,n,i){return i=i!=null?i.concat([s]):null,rf(4,4,Yy.bind(null,n,s),i)}function cx(){}function $y(s,n){var i=Q1();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&ax(n,o[1])?o[0]:(i.memoizedState=[s,n],s)}function Wy(s,n){var i=Q1();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&ax(n,o[1])?o[0]:(s=s(),i.memoizedState=[s,n],s)}function Ky(s,n,i){return hl&21?(oi(i,n)||(i=ty(),Dn.lanes|=i,pl|=i,s.baseState=!0),n):(s.baseState&&(s.baseState=!1,f1=!0),s.memoizedState=i)}function bE(s,n){var i=Is;Is=i!==0&&4>i?i:4,s(!0);var o=Hh.transition;Hh.transition={};try{s(!1),n()}finally{Is=i,Hh.transition=o}}function Jy(){return Q1().memoizedState}function yE(s,n,i){var o=Ao(s);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Xy(s))Zy(n,i);else if(i=Fy(s,n,i,o),i!==null){var l=n1();ai(i,s,o,l),ew(i,n,o)}}function wE(s,n,i){var o=Ao(s),l={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xy(s))Zy(n,l);else{var u=s.alternate;if(s.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var f=n.lastRenderedState,h=u(f,i);if(l.hasEagerState=!0,l.eagerState=h,oi(h,f)){var p=n.interleaved;p===null?(l.next=l,ex(n)):(l.next=p.next,p.next=l),n.interleaved=l;return}}catch{}finally{}i=Fy(s,n,l,o),i!==null&&(l=n1(),ai(i,s,o,l),ew(i,n,o))}}function Xy(s){var n=s.alternate;return s===Dn||n!==null&&n===Dn}function Zy(s,n){Q0=xu=!0;var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}function ew(s,n,i){if(i&4194240){var o=n.lanes;o&=s.pendingLanes,i|=o,n.lanes=i,zm(s,i)}}var vu={readContext:L1,useCallback:La,useContext:La,useEffect:La,useImperativeHandle:La,useInsertionEffect:La,useLayoutEffect:La,useMemo:La,useReducer:La,useRef:La,useState:La,useDebugValue:La,useDeferredValue:La,useTransition:La,useMutableSource:La,useSyncExternalStore:La,useId:La,unstable_isNewReconciler:!1},AE={readContext:L1,useCallback:function(s,n){return Ai().memoizedState=[s,n===void 0?null:n],s},useContext:L1,useEffect:bb,useImperativeHandle:function(s,n,i){return i=i!=null?i.concat([s]):null,Hd(4194308,4,Yy.bind(null,n,s),i)},useLayoutEffect:function(s,n){return Hd(4194308,4,s,n)},useInsertionEffect:function(s,n){return Hd(4,2,s,n)},useMemo:function(s,n){var i=Ai();return n=n===void 0?null:n,s=s(),i.memoizedState=[s,n],s},useReducer:function(s,n,i){var o=Ai();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:n},o.queue=s,s=s.dispatch=yE.bind(null,Dn,s),[o.memoizedState,s]},useRef:function(s){var n=Ai();return s={current:s},n.memoizedState=s},useState:gb,useDebugValue:cx,useDeferredValue:function(s){return Ai().memoizedState=s},useTransition:function(){var s=gb(!1),n=s[0];return s=bE.bind(null,s[1]),Ai().memoizedState=s,[n,s]},useMutableSource:function(){},useSyncExternalStore:function(s,n,i){var o=Dn,l=Ai();if(gn){if(i===void 0)throw Error(lt(407));i=i()}else{if(i=n(),ya===null)throw Error(lt(349));hl&30||Uy(o,n,i)}l.memoizedState=i;var u={value:i,getSnapshot:n};return l.queue=u,bb(zy.bind(null,o,u,s),[s]),o.flags|=2048,h2(9,Oy.bind(null,o,u,i,n),void 0,null),i},useId:function(){var s=Ai(),n=ya.identifierPrefix;if(gn){var i=Oi,o=Ui;i=(o&~(1<<32-ni(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=u2++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=gE++,n=":"+n+"r"+i.toString(32)+":";return s.memoizedState=n},unstable_isNewReconciler:!1},kE={readContext:L1,useCallback:$y,useContext:L1,useEffect:lx,useImperativeHandle:Vy,useInsertionEffect:Gy,useLayoutEffect:qy,useMemo:Wy,useReducer:Gh,useRef:Hy,useState:function(){return Gh(f2)},useDebugValue:cx,useDeferredValue:function(s){var n=Q1();return Ky(n,sa.memoizedState,s)},useTransition:function(){var s=Gh(f2)[0],n=Q1().memoizedState;return[s,n]},useMutableSource:_y,useSyncExternalStore:Py,useId:Jy,unstable_isNewReconciler:!1},jE={readContext:L1,useCallback:$y,useContext:L1,useEffect:lx,useImperativeHandle:Vy,useInsertionEffect:Gy,useLayoutEffect:qy,useMemo:Wy,useReducer:qh,useRef:Hy,useState:function(){return qh(f2)},useDebugValue:cx,useDeferredValue:function(s){var n=Q1();return sa===null?n.memoizedState=s:Ky(n,sa.memoizedState,s)},useTransition:function(){var s=qh(f2)[0],n=Q1().memoizedState;return[s,n]},useMutableSource:_y,useSyncExternalStore:Py,useId:Jy,unstable_isNewReconciler:!1};function X1(s,n){if(s&&s.defaultProps){n=Mn({},n),s=s.defaultProps;for(var i in s)n[i]===void 0&&(n[i]=s[i]);return n}return n}function I3(s,n,i,o){n=s.memoizedState,i=i(o,n),i=i==null?n:Mn({},n,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}var sf={isMounted:function(s){return(s=s._reactInternals)?wl(s)===s:!1},enqueueSetState:function(s,n,i){s=s._reactInternals;var o=n1(),l=Ao(s),u=Qi(o,l);u.payload=n,i!=null&&(u.callback=i),n=yo(s,u,l),n!==null&&(ai(n,s,l,o),Ld(n,s,l))},enqueueReplaceState:function(s,n,i){s=s._reactInternals;var o=n1(),l=Ao(s),u=Qi(o,l);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=yo(s,u,l),n!==null&&(ai(n,s,l,o),Ld(n,s,l))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var i=n1(),o=Ao(s),l=Qi(i,o);l.tag=2,n!=null&&(l.callback=n),n=yo(s,l,o),n!==null&&(ai(n,s,o,i),Ld(n,s,o))}};function yb(s,n,i,o,l,u,f){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(o,u,f):n.prototype&&n.prototype.isPureReactComponent?!a2(i,o)||!a2(l,u):!0}function tw(s,n,i){var o=!1,l=Do,u=n.contextType;return typeof u=="object"&&u!==null?u=L1(u):(l=m1(n)?ul:$a.current,o=n.contextTypes,u=(o=o!=null)?dc(s,l):Do),n=new n(i,u),s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=sf,s.stateNode=n,n._reactInternals=s,o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=u),n}function wb(s,n,i,o){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==s&&sf.enqueueReplaceState(n,n.state,null)}function B3(s,n,i,o){var l=s.stateNode;l.props=i,l.state=s.memoizedState,l.refs={},tx(s);var u=n.contextType;typeof u=="object"&&u!==null?l.context=L1(u):(u=m1(n)?ul:$a.current,l.context=dc(s,u)),l.state=s.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(I3(s,n,u,i),l.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&sf.enqueueReplaceState(l,l.state,null),pu(s,i,l,o),l.state=s.memoizedState),typeof l.componentDidMount=="function"&&(s.flags|=4194308)}function pc(s,n){try{var i="",o=n;do i+=XC(o),o=o.return;while(o);var l=i}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:s,source:n,stack:l,digest:null}}function Yh(s,n,i){return{value:s,source:null,stack:i??null,digest:n??null}}function D3(s,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function rw(s,n,i){i=Qi(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){bu||(bu=!0,L3=o),D3(s,n)},i}function sw(s,n,i){i=Qi(-1,i),i.tag=3;var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var l=n.value;i.payload=function(){return o(l)},i.callback=function(){D3(s,n)}}var u=s.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){D3(s,n),typeof o!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),i}function Ab(s,n,i){var o=s.pingCache;if(o===null){o=s.pingCache=new NE;var l=new Set;o.set(n,l)}else l=o.get(n),l===void 0&&(l=new Set,o.set(n,l));l.has(i)||(l.add(i),s=OE.bind(null,s,n,i),n.then(s,s))}function kb(s){do{var n;if((n=s.tag===13)&&(n=s.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return s;s=s.return}while(s!==null);return null}function jb(s,n,i,o,l){return s.mode&1?(s.flags|=65536,s.lanes=l,s):(s===n?s.flags|=65536:(s.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Qi(-1,1),n.tag=2,yo(i,n,1))),i.lanes|=1),s)}var CE=Ki.ReactCurrentOwner,f1=!1;function r1(s,n,i,o){n.child=s===null?My(n,null,i,o):fc(n,s.child,i,o)}function Nb(s,n,i,o,l){i=i.render;var u=n.ref;return rc(n,l),o=ix(s,n,i,o,u,l),i=ox(),s!==null&&!f1?(n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~l,Vi(s,n,l)):(gn&&i&&$m(n),n.flags|=1,r1(s,n,o,l),n.child)}function Cb(s,n,i,o,l){if(s===null){var u=i.type;return typeof u=="function"&&!vx(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=u,nw(s,n,u,o,l)):(s=Vd(i.type,null,o,n,n.mode,l),s.ref=n.ref,s.return=n,n.child=s)}if(u=s.child,!(s.lanes&l)){var f=u.memoizedProps;if(i=i.compare,i=i!==null?i:a2,i(f,o)&&s.ref===n.ref)return Vi(s,n,l)}return n.flags|=1,s=ko(u,o),s.ref=n.ref,s.return=n,n.child=s}function nw(s,n,i,o,l){if(s!==null){var u=s.memoizedProps;if(a2(u,o)&&s.ref===n.ref)if(f1=!1,n.pendingProps=o=u,(s.lanes&l)!==0)s.flags&131072&&(f1=!0);else return n.lanes=s.lanes,Vi(s,n,l)}return M3(s,n,i,o,l)}function aw(s,n,i){var o=n.pendingProps,l=o.children,u=s!==null?s.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zs(Wl,I1),I1|=i;else{if(!(i&1073741824))return s=u!==null?u.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:s,cachePool:null,transitions:null},n.updateQueue=null,Zs(Wl,I1),I1|=s,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:i,Zs(Wl,I1),I1|=o}else u!==null?(o=u.baseLanes|i,n.memoizedState=null):o=i,Zs(Wl,I1),I1|=o;return r1(s,n,l,i),n.child}function iw(s,n){var i=n.ref;(s===null&&i!==null||s!==null&&s.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function M3(s,n,i,o,l){var u=m1(i)?ul:$a.current;return u=dc(n,u),rc(n,l),i=ix(s,n,i,o,u,l),o=ox(),s!==null&&!f1?(n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~l,Vi(s,n,l)):(gn&&o&&$m(n),n.flags|=1,r1(s,n,i,l),n.child)}function Sb(s,n,i,o,l){if(m1(i)){var u=!0;cu(n)}else u=!1;if(rc(n,l),n.stateNode===null)Gd(s,n),tw(n,i,o),B3(n,i,o,l),o=!0;else if(s===null){var f=n.stateNode,h=n.memoizedProps;f.props=h;var p=f.context,m=i.contextType;typeof m=="object"&&m!==null?m=L1(m):(m=m1(i)?ul:$a.current,m=dc(n,m));var x=i.getDerivedStateFromProps,b=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function";b||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==o||p!==m)&&wb(n,f,o,m),oo=!1;var v=n.memoizedState;f.state=v,pu(n,o,f,l),p=n.memoizedState,h!==o||v!==p||p1.current||oo?(typeof x=="function"&&(I3(n,i,x,o),p=n.memoizedState),(h=oo||yb(n,i,h,o,v,p,m))?(b||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=p),f.props=o,f.state=p,f.context=m,o=h):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ry(s,n),h=n.memoizedProps,m=n.type===n.elementType?h:X1(n.type,h),f.props=m,b=n.pendingProps,v=f.context,p=i.contextType,typeof p=="object"&&p!==null?p=L1(p):(p=m1(i)?ul:$a.current,p=dc(n,p));var w=i.getDerivedStateFromProps;(x=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==b||v!==p)&&wb(n,f,o,p),oo=!1,v=n.memoizedState,f.state=v,pu(n,o,f,l);var y=n.memoizedState;h!==b||v!==y||p1.current||oo?(typeof w=="function"&&(I3(n,i,w,o),y=n.memoizedState),(m=oo||yb(n,i,m,o,v,y,p)||!1)?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,y,p),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,y,p)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===s.memoizedProps&&v===s.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===s.memoizedProps&&v===s.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=y),f.props=o,f.state=y,f.context=p,o=m):(typeof f.componentDidUpdate!="function"||h===s.memoizedProps&&v===s.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===s.memoizedProps&&v===s.memoizedState||(n.flags|=1024),o=!1)}return F3(s,n,i,o,u,l)}function F3(s,n,i,o,l,u){iw(s,n);var f=(n.flags&128)!==0;if(!o&&!f)return l&&fb(n,i,!1),Vi(s,n,u);o=n.stateNode,CE.current=n;var h=f&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,s!==null&&f?(n.child=fc(n,s.child,null,u),n.child=fc(n,null,h,u)):r1(s,n,h,u),n.memoizedState=o.state,l&&fb(n,i,!0),n.child}function ow(s){var n=s.stateNode;n.pendingContext?ub(s,n.pendingContext,n.pendingContext!==n.context):n.context&&ub(s,n.context,!1),rx(s,n.containerInfo)}function Eb(s,n,i,o,l){return uc(),Km(l),n.flags|=256,r1(s,n,i,o),n.child}var R3={dehydrated:null,treeContext:null,retryLane:0};function T3(s){return{baseLanes:s,cachePool:null,transitions:null}}function lw(s,n,i){var o=n.pendingProps,l=Bn.current,u=!1,f=(n.flags&128)!==0,h;if((h=f)||(h=s!==null&&s.memoizedState===null?!1:(l&2)!==0),h?(u=!0,n.flags&=-129):(s===null||s.memoizedState!==null)&&(l|=1),Zs(Bn,l&1),s===null)return S3(n),s=n.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(n.mode&1?s.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=o.children,s=o.fallback,u?(o=n.mode,u=n.child,f={mode:"hidden",children:f},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=of(f,o,0,null),s=ll(s,o,i,null),u.return=n,s.return=n,u.sibling=s,n.child=u,n.child.memoizedState=T3(i),n.memoizedState=R3,s):dx(n,f));if(l=s.memoizedState,l!==null&&(h=l.dehydrated,h!==null))return SE(s,n,f,o,h,l,i);if(u){u=o.fallback,f=n.mode,l=s.child,h=l.sibling;var p={mode:"hidden",children:o.children};return!(f&1)&&n.child!==l?(o=n.child,o.childLanes=0,o.pendingProps=p,n.deletions=null):(o=ko(l,p),o.subtreeFlags=l.subtreeFlags&14680064),h!==null?u=ko(h,u):(u=ll(u,f,i,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,f=s.child.memoizedState,f=f===null?T3(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=s.childLanes&~i,n.memoizedState=R3,o}return u=s.child,s=u.sibling,o=ko(u,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=i),o.return=n,o.sibling=null,s!==null&&(i=n.deletions,i===null?(n.deletions=[s],n.flags|=16):i.push(s)),n.child=o,n.memoizedState=null,o}function dx(s,n){return n=of({mode:"visible",children:n},s.mode,0,null),n.return=s,s.child=n}function Sd(s,n,i,o){return o!==null&&Km(o),fc(n,s.child,null,i),s=dx(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function SE(s,n,i,o,l,u,f){if(i)return n.flags&256?(n.flags&=-257,o=Yh(Error(lt(422))),Sd(s,n,f,o)):n.memoizedState!==null?(n.child=s.child,n.flags|=128,null):(u=o.fallback,l=n.mode,o=of({mode:"visible",children:o.children},l,0,null),u=ll(u,l,f,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,n.mode&1&&fc(n,s.child,null,f),n.child.memoizedState=T3(f),n.memoizedState=R3,u);if(!(n.mode&1))return Sd(s,n,f,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var h=o.dgst;return o=h,u=Error(lt(419)),o=Yh(u,o,void 0),Sd(s,n,f,o)}if(h=(f&s.childLanes)!==0,f1||h){if(o=ya,o!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|f)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Yi(s,l),ai(o,s,l,-1))}return xx(),o=Yh(Error(lt(421))),Sd(s,n,f,o)}return l.data==="$?"?(n.flags|=128,n.child=s.child,n=zE.bind(null,s),l._reactRetry=n,null):(s=u.treeContext,B1=bo(l.nextSibling),D1=n,gn=!0,ti=null,s!==null&&(_1[P1++]=Ui,_1[P1++]=Oi,_1[P1++]=fl,Ui=s.id,Oi=s.overflow,fl=n),n=dx(n,o.children),n.flags|=4096,n)}function Ib(s,n,i){s.lanes|=n;var o=s.alternate;o!==null&&(o.lanes|=n),E3(s.return,n,i)}function Vh(s,n,i,o,l){var u=s.memoizedState;u===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:l}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=i,u.tailMode=l)}function cw(s,n,i){var o=n.pendingProps,l=o.revealOrder,u=o.tail;if(r1(s,n,o.children,i),o=Bn.current,o&2)o=o&1|2,n.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ib(s,i,n);else if(s.tag===19)Ib(s,i,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o&=1}if(Zs(Bn,o),!(n.mode&1))n.memoizedState=null;else switch(l){case"forwards":for(i=n.child,l=null;i!==null;)s=i.alternate,s!==null&&mu(s)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),Vh(n,!1,l,i,u);break;case"backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(s=l.alternate,s!==null&&mu(s)===null){n.child=l;break}s=l.sibling,l.sibling=i,i=l,l=s}Vh(n,!0,i,null,u);break;case"together":Vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gd(s,n){!(n.mode&1)&&s!==null&&(s.alternate=null,n.alternate=null,n.flags|=2)}function Vi(s,n,i){if(s!==null&&(n.dependencies=s.dependencies),pl|=n.lanes,!(i&n.childLanes))return null;if(s!==null&&n.child!==s.child)throw Error(lt(153));if(n.child!==null){for(s=n.child,i=ko(s,s.pendingProps),n.child=i,i.return=n;s.sibling!==null;)s=s.sibling,i=i.sibling=ko(s,s.pendingProps),i.return=n;i.sibling=null}return n.child}function EE(s,n,i){switch(n.tag){case 3:ow(n),uc();break;case 5:Ty(n);break;case 1:m1(n.type)&&cu(n);break;case 4:rx(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,l=n.memoizedProps.value;Zs(fu,o._currentValue),o._currentValue=l;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Zs(Bn,Bn.current&1),n.flags|=128,null):i&n.child.childLanes?lw(s,n,i):(Zs(Bn,Bn.current&1),s=Vi(s,n,i),s!==null?s.sibling:null);Zs(Bn,Bn.current&1);break;case 19:if(o=(i&n.childLanes)!==0,s.flags&128){if(o)return cw(s,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Zs(Bn,Bn.current),o)break;return null;case 22:case 23:return n.lanes=0,aw(s,n,i)}return Vi(s,n,i)}var dw,_3,uw,fw;dw=function(s,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};_3=function(){};uw=function(s,n,i,o){var l=s.memoizedProps;if(l!==o){s=n.stateNode,sl(Ni.current);var u=null;switch(i){case"input":l=n3(s,l),o=n3(s,o),u=[];break;case"select":l=Mn({},l,{value:void 0}),o=Mn({},o,{value:void 0}),u=[];break;case"textarea":l=o3(s,l),o=o3(s,o),u=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(s.onclick=ou)}c3(i,o);var f;i=null;for(m in l)if(!o.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var h=l[m];for(f in h)h.hasOwnProperty(f)&&(i||(i={}),i[f]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(X0.hasOwnProperty(m)?u||(u=[]):(u=u||[]).push(m,null));for(m in o){var p=o[m];if(h=l!=null?l[m]:void 0,o.hasOwnProperty(m)&&p!==h&&(p!=null||h!=null))if(m==="style")if(h){for(f in h)!h.hasOwnProperty(f)||p&&p.hasOwnProperty(f)||(i||(i={}),i[f]="");for(f in p)p.hasOwnProperty(f)&&h[f]!==p[f]&&(i||(i={}),i[f]=p[f])}else i||(u||(u=[]),u.push(m,i)),i=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(u=u||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(u=u||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(X0.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&dn("scroll",s),u||h===p||(u=[])):(u=u||[]).push(m,p))}i&&(u=u||[]).push("style",i);var m=u;(n.updateQueue=m)&&(n.flags|=4)}};fw=function(s,n,i,o){i!==o&&(n.flags|=4)};function k0(s,n){if(!gn)switch(s.tailMode){case"hidden":n=s.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:o.sibling=null}}function Qa(s){var n=s.alternate!==null&&s.alternate.child===s.child,i=0,o=0;if(n)for(var l=s.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=s,l=l.sibling;else for(l=s.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=s,l=l.sibling;return s.subtreeFlags|=o,s.childLanes=i,n}function IE(s,n,i){var o=n.pendingProps;switch(Wm(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(n),null;case 1:return m1(n.type)&&lu(),Qa(n),null;case 3:return o=n.stateNode,hc(),un(p1),un($a),nx(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Nd(n)?n.flags|=4:s===null||s.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,ti!==null&&(G3(ti),ti=null))),_3(s,n),Qa(n),null;case 5:sx(n);var l=sl(d2.current);if(i=n.type,s!==null&&n.stateNode!=null)uw(s,n,i,o,l),s.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(lt(166));return Qa(n),null}if(s=sl(Ni.current),Nd(n)){o=n.stateNode,i=n.type;var u=n.memoizedProps;switch(o[ki]=n,o[l2]=u,s=(n.mode&1)!==0,i){case"dialog":dn("cancel",o),dn("close",o);break;case"iframe":case"object":case"embed":dn("load",o);break;case"video":case"audio":for(l=0;l<T0.length;l++)dn(T0[l],o);break;case"source":dn("error",o);break;case"img":case"image":case"link":dn("error",o),dn("load",o);break;case"details":dn("toggle",o);break;case"input":Ug(o,u),dn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},dn("invalid",o);break;case"textarea":zg(o,u),dn("invalid",o)}c3(i,u),l=null;for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];f==="children"?typeof h=="string"?o.textContent!==h&&(u.suppressHydrationWarning!==!0&&jd(o.textContent,h,s),l=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(u.suppressHydrationWarning!==!0&&jd(o.textContent,h,s),l=["children",""+h]):X0.hasOwnProperty(f)&&h!=null&&f==="onScroll"&&dn("scroll",o)}switch(i){case"input":xd(o),Og(o,u,!0);break;case"textarea":xd(o),Lg(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=ou)}o=l,n.updateQueue=o,o!==null&&(n.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=z5(i)),s==="http://www.w3.org/1999/xhtml"?i==="script"?(s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof o.is=="string"?s=f.createElement(i,{is:o.is}):(s=f.createElement(i),i==="select"&&(f=s,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):s=f.createElementNS(s,i),s[ki]=n,s[l2]=o,dw(s,n,!1,!1),n.stateNode=s;e:{switch(f=d3(i,o),i){case"dialog":dn("cancel",s),dn("close",s),l=o;break;case"iframe":case"object":case"embed":dn("load",s),l=o;break;case"video":case"audio":for(l=0;l<T0.length;l++)dn(T0[l],s);l=o;break;case"source":dn("error",s),l=o;break;case"img":case"image":case"link":dn("error",s),dn("load",s),l=o;break;case"details":dn("toggle",s),l=o;break;case"input":Ug(s,o),l=n3(s,o),dn("invalid",s);break;case"option":l=o;break;case"select":s._wrapperState={wasMultiple:!!o.multiple},l=Mn({},o,{value:void 0}),dn("invalid",s);break;case"textarea":zg(s,o),l=o3(s,o),dn("invalid",s);break;default:l=o}c3(i,l),h=l;for(u in h)if(h.hasOwnProperty(u)){var p=h[u];u==="style"?H5(s,p):u==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&L5(s,p)):u==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&Z0(s,p):typeof p=="number"&&Z0(s,""+p):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(X0.hasOwnProperty(u)?p!=null&&u==="onScroll"&&dn("scroll",s):p!=null&&Rm(s,u,p,f))}switch(i){case"input":xd(s),Og(s,o,!1);break;case"textarea":xd(s),Lg(s);break;case"option":o.value!=null&&s.setAttribute("value",""+Bo(o.value));break;case"select":s.multiple=!!o.multiple,u=o.value,u!=null?Xl(s,!!o.multiple,u,!1):o.defaultValue!=null&&Xl(s,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(s.onclick=ou)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Qa(n),null;case 6:if(s&&n.stateNode!=null)fw(s,n,s.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(lt(166));if(i=sl(d2.current),sl(Ni.current),Nd(n)){if(o=n.stateNode,i=n.memoizedProps,o[ki]=n,(u=o.nodeValue!==i)&&(s=D1,s!==null))switch(s.tag){case 3:jd(o.nodeValue,i,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&jd(o.nodeValue,i,(s.mode&1)!==0)}u&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[ki]=n,n.stateNode=o}return Qa(n),null;case 13:if(un(Bn),o=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(gn&&B1!==null&&n.mode&1&&!(n.flags&128))By(),uc(),n.flags|=98560,u=!1;else if(u=Nd(n),o!==null&&o.dehydrated!==null){if(s===null){if(!u)throw Error(lt(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(lt(317));u[ki]=n}else uc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Qa(n),u=!1}else ti!==null&&(G3(ti),ti=null),u=!0;if(!u)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(o=o!==null,o!==(s!==null&&s.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(s===null||Bn.current&1?ia===0&&(ia=3):xx())),n.updateQueue!==null&&(n.flags|=4),Qa(n),null);case 4:return hc(),_3(s,n),s===null&&i2(n.stateNode.containerInfo),Qa(n),null;case 10:return Zm(n.type._context),Qa(n),null;case 17:return m1(n.type)&&lu(),Qa(n),null;case 19:if(un(Bn),u=n.memoizedState,u===null)return Qa(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)k0(u,!1);else{if(ia!==0||s!==null&&s.flags&128)for(s=n.child;s!==null;){if(f=mu(s),f!==null){for(n.flags|=128,k0(u,!1),o=f.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)u=i,s=o,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=s,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,s=f.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i=i.sibling;return Zs(Bn,Bn.current&1|2),n.child}s=s.sibling}u.tail!==null&&qn()>mc&&(n.flags|=128,o=!0,k0(u,!1),n.lanes=4194304)}else{if(!o)if(s=mu(f),s!==null){if(n.flags|=128,o=!0,i=s.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),k0(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!gn)return Qa(n),null}else 2*qn()-u.renderingStartTime>mc&&i!==1073741824&&(n.flags|=128,o=!0,k0(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(i=u.last,i!==null?i.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=qn(),n.sibling=null,i=Bn.current,Zs(Bn,o?i&1|2:i&1),n):(Qa(n),null);case 22:case 23:return mx(),o=n.memoizedState!==null,s!==null&&s.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?I1&1073741824&&(Qa(n),n.subtreeFlags&6&&(n.flags|=8192)):Qa(n),null;case 24:return null;case 25:return null}throw Error(lt(156,n.tag))}function BE(s,n){switch(Wm(n),n.tag){case 1:return m1(n.type)&&lu(),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return hc(),un(p1),un($a),nx(),s=n.flags,s&65536&&!(s&128)?(n.flags=s&-65537|128,n):null;case 5:return sx(n),null;case 13:if(un(Bn),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(lt(340));uc()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return un(Bn),null;case 4:return hc(),null;case 10:return Zm(n.type._context),null;case 22:case 23:return mx(),null;case 24:return null;default:return null}}var Ed=!1,qa=!1,DE=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function $l(s,n){var i=s.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Tn(s,n,o)}else i.current=null}function P3(s,n,i){try{i()}catch(o){Tn(s,n,o)}}var Bb=!1;function ME(s,n){if(y3=nu,s=vy(),Vm(s)){if("selectionStart"in s)var i={start:s.selectionStart,end:s.selectionEnd};else e:{i=(i=s.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var l=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var f=0,h=-1,p=-1,m=0,x=0,b=s,v=null;t:for(;;){for(var w;b!==i||l!==0&&b.nodeType!==3||(h=f+l),b!==u||o!==0&&b.nodeType!==3||(p=f+o),b.nodeType===3&&(f+=b.nodeValue.length),(w=b.firstChild)!==null;)v=b,b=w;for(;;){if(b===s)break t;if(v===i&&++m===l&&(h=f),v===u&&++x===o&&(p=f),(w=b.nextSibling)!==null)break;b=v,v=b.parentNode}b=w}i=h===-1||p===-1?null:{start:h,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(w3={focusedElem:s,selectionRange:i},nu=!1,Pt=n;Pt!==null;)if(n=Pt,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,Pt=s;else for(;Pt!==null;){n=Pt;try{var y=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var A=y.memoizedProps,k=y.memoizedState,E=n.stateNode,j=E.getSnapshotBeforeUpdate(n.elementType===n.type?A:X1(n.type,A),k);E.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(I){Tn(n,n.return,I)}if(s=n.sibling,s!==null){s.return=n.return,Pt=s;break}Pt=n.return}return y=Bb,Bb=!1,y}function H0(s,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var u=l.destroy;l.destroy=void 0,u!==void 0&&P3(n,i,u)}l=l.next}while(l!==o)}}function nf(s,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&s)===s){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function U3(s){var n=s.ref;if(n!==null){var i=s.stateNode;switch(s.tag){case 5:s=i;break;default:s=i}typeof n=="function"?n(s):n.current=s}}function hw(s){var n=s.alternate;n!==null&&(s.alternate=null,hw(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&(delete n[ki],delete n[l2],delete n[j3],delete n[pE],delete n[mE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function pw(s){return s.tag===5||s.tag===3||s.tag===4}function Db(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function O3(s,n,i){var o=s.tag;if(o===5||o===6)s=s.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(s,n):i.insertBefore(s,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(s,i)):(n=i,n.appendChild(s)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ou));else if(o!==4&&(s=s.child,s!==null))for(O3(s,n,i),s=s.sibling;s!==null;)O3(s,n,i),s=s.sibling}function z3(s,n,i){var o=s.tag;if(o===5||o===6)s=s.stateNode,n?i.insertBefore(s,n):i.appendChild(s);else if(o!==4&&(s=s.child,s!==null))for(z3(s,n,i),s=s.sibling;s!==null;)z3(s,n,i),s=s.sibling}var Ea=null,ei=!1;function ro(s,n,i){for(i=i.child;i!==null;)mw(s,n,i),i=i.sibling}function mw(s,n,i){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Ku,i)}catch{}switch(i.tag){case 5:qa||$l(i,n);case 6:var o=Ea,l=ei;Ea=null,ro(s,n,i),Ea=o,ei=l,Ea!==null&&(ei?(s=Ea,i=i.stateNode,s.nodeType===8?s.parentNode.removeChild(i):s.removeChild(i)):Ea.removeChild(i.stateNode));break;case 18:Ea!==null&&(ei?(s=Ea,i=i.stateNode,s.nodeType===8?zh(s.parentNode,i):s.nodeType===1&&zh(s,i),s2(s)):zh(Ea,i.stateNode));break;case 4:o=Ea,l=ei,Ea=i.stateNode.containerInfo,ei=!0,ro(s,n,i),Ea=o,ei=l;break;case 0:case 11:case 14:case 15:if(!qa&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var u=l,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&P3(i,n,f),l=l.next}while(l!==o)}ro(s,n,i);break;case 1:if(!qa&&($l(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){Tn(i,n,h)}ro(s,n,i);break;case 21:ro(s,n,i);break;case 22:i.mode&1?(qa=(o=qa)||i.memoizedState!==null,ro(s,n,i),qa=o):ro(s,n,i);break;default:ro(s,n,i)}}function Mb(s){var n=s.updateQueue;if(n!==null){s.updateQueue=null;var i=s.stateNode;i===null&&(i=s.stateNode=new DE),n.forEach(function(o){var l=LE.bind(null,s,o);i.has(o)||(i.add(o),o.then(l,l))})}}function J1(s,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];try{var u=s,f=n,h=f;e:for(;h!==null;){switch(h.tag){case 5:Ea=h.stateNode,ei=!1;break e;case 3:Ea=h.stateNode.containerInfo,ei=!0;break e;case 4:Ea=h.stateNode.containerInfo,ei=!0;break e}h=h.return}if(Ea===null)throw Error(lt(160));mw(u,f,l),Ea=null,ei=!1;var p=l.alternate;p!==null&&(p.return=null),l.return=null}catch(m){Tn(l,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xw(n,s),n=n.sibling}function xw(s,n){var i=s.alternate,o=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(J1(n,s),yi(s),o&4){try{H0(3,s,s.return),nf(3,s)}catch(A){Tn(s,s.return,A)}try{H0(5,s,s.return)}catch(A){Tn(s,s.return,A)}}break;case 1:J1(n,s),yi(s),o&512&&i!==null&&$l(i,i.return);break;case 5:if(J1(n,s),yi(s),o&512&&i!==null&&$l(i,i.return),s.flags&32){var l=s.stateNode;try{Z0(l,"")}catch(A){Tn(s,s.return,A)}}if(o&4&&(l=s.stateNode,l!=null)){var u=s.memoizedProps,f=i!==null?i.memoizedProps:u,h=s.type,p=s.updateQueue;if(s.updateQueue=null,p!==null)try{h==="input"&&u.type==="radio"&&u.name!=null&&U5(l,u),d3(h,f);var m=d3(h,u);for(f=0;f<p.length;f+=2){var x=p[f],b=p[f+1];x==="style"?H5(l,b):x==="dangerouslySetInnerHTML"?L5(l,b):x==="children"?Z0(l,b):Rm(l,x,b,m)}switch(h){case"input":a3(l,u);break;case"textarea":O5(l,u);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var w=u.value;w!=null?Xl(l,!!u.multiple,w,!1):v!==!!u.multiple&&(u.defaultValue!=null?Xl(l,!!u.multiple,u.defaultValue,!0):Xl(l,!!u.multiple,u.multiple?[]:"",!1))}l[l2]=u}catch(A){Tn(s,s.return,A)}}break;case 6:if(J1(n,s),yi(s),o&4){if(s.stateNode===null)throw Error(lt(162));l=s.stateNode,u=s.memoizedProps;try{l.nodeValue=u}catch(A){Tn(s,s.return,A)}}break;case 3:if(J1(n,s),yi(s),o&4&&i!==null&&i.memoizedState.isDehydrated)try{s2(n.containerInfo)}catch(A){Tn(s,s.return,A)}break;case 4:J1(n,s),yi(s);break;case 13:J1(n,s),yi(s),l=s.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(hx=qn())),o&4&&Mb(s);break;case 22:if(x=i!==null&&i.memoizedState!==null,s.mode&1?(qa=(m=qa)||x,J1(n,s),qa=m):J1(n,s),yi(s),o&8192){if(m=s.memoizedState!==null,(s.stateNode.isHidden=m)&&!x&&s.mode&1)for(Pt=s,x=s.child;x!==null;){for(b=Pt=x;Pt!==null;){switch(v=Pt,w=v.child,v.tag){case 0:case 11:case 14:case 15:H0(4,v,v.return);break;case 1:$l(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){o=v,i=v.return;try{n=o,y.props=n.memoizedProps,y.state=n.memoizedState,y.componentWillUnmount()}catch(A){Tn(o,i,A)}}break;case 5:$l(v,v.return);break;case 22:if(v.memoizedState!==null){Rb(b);continue}}w!==null?(w.return=v,Pt=w):Rb(b)}x=x.sibling}e:for(x=null,b=s;;){if(b.tag===5){if(x===null){x=b;try{l=b.stateNode,m?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(h=b.stateNode,p=b.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=Q5("display",f))}catch(A){Tn(s,s.return,A)}}}else if(b.tag===6){if(x===null)try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(A){Tn(s,s.return,A)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===s)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;x===b&&(x=null),b=b.return}x===b&&(x=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:J1(n,s),yi(s),o&4&&Mb(s);break;case 21:break;default:J1(n,s),yi(s)}}function yi(s){var n=s.flags;if(n&2){try{e:{for(var i=s.return;i!==null;){if(pw(i)){var o=i;break e}i=i.return}throw Error(lt(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(Z0(l,""),o.flags&=-33);var u=Db(s);z3(s,u,l);break;case 3:case 4:var f=o.stateNode.containerInfo,h=Db(s);O3(s,h,f);break;default:throw Error(lt(161))}}catch(p){Tn(s,s.return,p)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function FE(s,n,i){Pt=s,vw(s)}function vw(s,n,i){for(var o=(s.mode&1)!==0;Pt!==null;){var l=Pt,u=l.child;if(l.tag===22&&o){var f=l.memoizedState!==null||Ed;if(!f){var h=l.alternate,p=h!==null&&h.memoizedState!==null||qa;h=Ed;var m=qa;if(Ed=f,(qa=p)&&!m)for(Pt=l;Pt!==null;)f=Pt,p=f.child,f.tag===22&&f.memoizedState!==null?Tb(l):p!==null?(p.return=f,Pt=p):Tb(l);for(;u!==null;)Pt=u,vw(u),u=u.sibling;Pt=l,Ed=h,qa=m}Fb(s)}else l.subtreeFlags&8772&&u!==null?(u.return=l,Pt=u):Fb(s)}}function Fb(s){for(;Pt!==null;){var n=Pt;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:qa||nf(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!qa)if(i===null)o.componentDidMount();else{var l=n.elementType===n.type?i.memoizedProps:X1(n.type,i.memoizedProps);o.componentDidUpdate(l,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&vb(n,u,o);break;case 3:var f=n.updateQueue;if(f!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}vb(n,f,i)}break;case 5:var h=n.stateNode;if(i===null&&n.flags&4){i=h;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var b=x.dehydrated;b!==null&&s2(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}qa||n.flags&512&&U3(n)}catch(v){Tn(n,n.return,v)}}if(n===s){Pt=null;break}if(i=n.sibling,i!==null){i.return=n.return,Pt=i;break}Pt=n.return}}function Rb(s){for(;Pt!==null;){var n=Pt;if(n===s){Pt=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Pt=i;break}Pt=n.return}}function Tb(s){for(;Pt!==null;){var n=Pt;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{nf(4,n)}catch(p){Tn(n,i,p)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var l=n.return;try{o.componentDidMount()}catch(p){Tn(n,l,p)}}var u=n.return;try{U3(n)}catch(p){Tn(n,u,p)}break;case 5:var f=n.return;try{U3(n)}catch(p){Tn(n,f,p)}}}catch(p){Tn(n,n.return,p)}if(n===s){Pt=null;break}var h=n.sibling;if(h!==null){h.return=n.return,Pt=h;break}Pt=n.return}}var RE=Math.ceil,gu=Ki.ReactCurrentDispatcher,ux=Ki.ReactCurrentOwner,z1=Ki.ReactCurrentBatchConfig,ds=0,ya=null,ea=null,Da=0,I1=0,Wl=Uo(0),ia=0,p2=null,pl=0,af=0,fx=0,G0=null,d1=null,hx=0,mc=1/0,_i=null,bu=!1,L3=null,wo=null,Id=!1,fo=null,yu=0,q0=0,Q3=null,qd=-1,Yd=0;function n1(){return ds&6?qn():qd!==-1?qd:qd=qn()}function Ao(s){return s.mode&1?ds&2&&Da!==0?Da&-Da:vE.transition!==null?(Yd===0&&(Yd=ty()),Yd):(s=Is,s!==0||(s=window.event,s=s===void 0?16:ly(s.type)),s):1}function ai(s,n,i,o){if(50<q0)throw q0=0,Q3=null,Error(lt(185));_2(s,i,o),(!(ds&2)||s!==ya)&&(s===ya&&(!(ds&2)&&(af|=i),ia===4&&co(s,Da)),x1(s,o),i===1&&ds===0&&!(n.mode&1)&&(mc=qn()+500,tf&&Oo()))}function x1(s,n){var i=s.callbackNode;vS(s,n);var o=su(s,s===ya?Da:0);if(o===0)i!==null&&Gg(i),s.callbackNode=null,s.callbackPriority=0;else if(n=o&-o,s.callbackPriority!==n){if(i!=null&&Gg(i),n===1)s.tag===0?xE(_b.bind(null,s)):Sy(_b.bind(null,s)),fE(function(){!(ds&6)&&Oo()}),i=null;else{switch(ry(o)){case 1:i=Om;break;case 4:i=Z5;break;case 16:i=ru;break;case 536870912:i=ey;break;default:i=ru}i=Nw(i,gw.bind(null,s))}s.callbackPriority=n,s.callbackNode=i}}function gw(s,n){if(qd=-1,Yd=0,ds&6)throw Error(lt(327));var i=s.callbackNode;if(sc()&&s.callbackNode!==i)return null;var o=su(s,s===ya?Da:0);if(o===0)return null;if(o&30||o&s.expiredLanes||n)n=wu(s,o);else{n=o;var l=ds;ds|=2;var u=yw();(ya!==s||Da!==n)&&(_i=null,mc=qn()+500,ol(s,n));do try{PE();break}catch(h){bw(s,h)}while(!0);Xm(),gu.current=u,ds=l,ea!==null?n=0:(ya=null,Da=0,n=ia)}if(n!==0){if(n===2&&(l=m3(s),l!==0&&(o=l,n=H3(s,l))),n===1)throw i=p2,ol(s,0),co(s,o),x1(s,qn()),i;if(n===6)co(s,o);else{if(l=s.current.alternate,!(o&30)&&!TE(l)&&(n=wu(s,o),n===2&&(u=m3(s),u!==0&&(o=u,n=H3(s,u))),n===1))throw i=p2,ol(s,0),co(s,o),x1(s,qn()),i;switch(s.finishedWork=l,s.finishedLanes=o,n){case 0:case 1:throw Error(lt(345));case 2:Xo(s,d1,_i);break;case 3:if(co(s,o),(o&130023424)===o&&(n=hx+500-qn(),10<n)){if(su(s,0)!==0)break;if(l=s.suspendedLanes,(l&o)!==o){n1(),s.pingedLanes|=s.suspendedLanes&l;break}s.timeoutHandle=k3(Xo.bind(null,s,d1,_i),n);break}Xo(s,d1,_i);break;case 4:if(co(s,o),(o&4194240)===o)break;for(n=s.eventTimes,l=-1;0<o;){var f=31-ni(o);u=1<<f,f=n[f],f>l&&(l=f),o&=~u}if(o=l,o=qn()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*RE(o/1960))-o,10<o){s.timeoutHandle=k3(Xo.bind(null,s,d1,_i),o);break}Xo(s,d1,_i);break;case 5:Xo(s,d1,_i);break;default:throw Error(lt(329))}}}return x1(s,qn()),s.callbackNode===i?gw.bind(null,s):null}function H3(s,n){var i=G0;return s.current.memoizedState.isDehydrated&&(ol(s,n).flags|=256),s=wu(s,n),s!==2&&(n=d1,d1=i,n!==null&&G3(n)),s}function G3(s){d1===null?d1=s:d1.push.apply(d1,s)}function TE(s){for(var n=s;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var l=i[o],u=l.getSnapshot;l=l.value;try{if(!oi(u(),l))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function co(s,n){for(n&=~fx,n&=~af,s.suspendedLanes|=n,s.pingedLanes&=~n,s=s.expirationTimes;0<n;){var i=31-ni(n),o=1<<i;s[i]=-1,n&=~o}}function _b(s){if(ds&6)throw Error(lt(327));sc();var n=su(s,0);if(!(n&1))return x1(s,qn()),null;var i=wu(s,n);if(s.tag!==0&&i===2){var o=m3(s);o!==0&&(n=o,i=H3(s,o))}if(i===1)throw i=p2,ol(s,0),co(s,n),x1(s,qn()),i;if(i===6)throw Error(lt(345));return s.finishedWork=s.current.alternate,s.finishedLanes=n,Xo(s,d1,_i),x1(s,qn()),null}function px(s,n){var i=ds;ds|=1;try{return s(n)}finally{ds=i,ds===0&&(mc=qn()+500,tf&&Oo())}}function ml(s){fo!==null&&fo.tag===0&&!(ds&6)&&sc();var n=ds;ds|=1;var i=z1.transition,o=Is;try{if(z1.transition=null,Is=1,s)return s()}finally{Is=o,z1.transition=i,ds=n,!(ds&6)&&Oo()}}function mx(){I1=Wl.current,un(Wl)}function ol(s,n){s.finishedWork=null,s.finishedLanes=0;var i=s.timeoutHandle;if(i!==-1&&(s.timeoutHandle=-1,uE(i)),ea!==null)for(i=ea.return;i!==null;){var o=i;switch(Wm(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&lu();break;case 3:hc(),un(p1),un($a),nx();break;case 5:sx(o);break;case 4:hc();break;case 13:un(Bn);break;case 19:un(Bn);break;case 10:Zm(o.type._context);break;case 22:case 23:mx()}i=i.return}if(ya=s,ea=s=ko(s.current,null),Da=I1=n,ia=0,p2=null,fx=af=pl=0,d1=G0=null,rl!==null){for(n=0;n<rl.length;n++)if(i=rl[n],o=i.interleaved,o!==null){i.interleaved=null;var l=o.next,u=i.pending;if(u!==null){var f=u.next;u.next=l,o.next=f}i.pending=o}rl=null}return s}function bw(s,n){do{var i=ea;try{if(Xm(),Qd.current=vu,xu){for(var o=Dn.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}xu=!1}if(hl=0,va=sa=Dn=null,Q0=!1,u2=0,ux.current=null,i===null||i.return===null){ia=1,p2=n,ea=null;break}e:{var u=s,f=i.return,h=i,p=n;if(n=Da,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,x=h,b=x.tag;if(!(x.mode&1)&&(b===0||b===11||b===15)){var v=x.alternate;v?(x.updateQueue=v.updateQueue,x.memoizedState=v.memoizedState,x.lanes=v.lanes):(x.updateQueue=null,x.memoizedState=null)}var w=kb(f);if(w!==null){w.flags&=-257,jb(w,f,h,u,n),w.mode&1&&Ab(u,m,n),n=w,p=m;var y=n.updateQueue;if(y===null){var A=new Set;A.add(p),n.updateQueue=A}else y.add(p);break e}else{if(!(n&1)){Ab(u,m,n),xx();break e}p=Error(lt(426))}}else if(gn&&h.mode&1){var k=kb(f);if(k!==null){!(k.flags&65536)&&(k.flags|=256),jb(k,f,h,u,n),Km(pc(p,h));break e}}u=p=pc(p,h),ia!==4&&(ia=2),G0===null?G0=[u]:G0.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var E=rw(u,p,n);xb(u,E);break e;case 1:h=p;var j=u.type,N=u.stateNode;if(!(u.flags&128)&&(typeof j.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wo===null||!wo.has(N)))){u.flags|=65536,n&=-n,u.lanes|=n;var I=sw(u,h,n);xb(u,I);break e}}u=u.return}while(u!==null)}Aw(i)}catch(M){n=M,ea===i&&i!==null&&(ea=i=i.return);continue}break}while(!0)}function yw(){var s=gu.current;return gu.current=vu,s===null?vu:s}function xx(){(ia===0||ia===3||ia===2)&&(ia=4),ya===null||!(pl&268435455)&&!(af&268435455)||co(ya,Da)}function wu(s,n){var i=ds;ds|=2;var o=yw();(ya!==s||Da!==n)&&(_i=null,ol(s,n));do try{_E();break}catch(l){bw(s,l)}while(!0);if(Xm(),ds=i,gu.current=o,ea!==null)throw Error(lt(261));return ya=null,Da=0,ia}function _E(){for(;ea!==null;)ww(ea)}function PE(){for(;ea!==null&&!lS();)ww(ea)}function ww(s){var n=jw(s.alternate,s,I1);s.memoizedProps=s.pendingProps,n===null?Aw(s):ea=n,ux.current=null}function Aw(s){var n=s;do{var i=n.alternate;if(s=n.return,n.flags&32768){if(i=BE(i,n),i!==null){i.flags&=32767,ea=i;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ia=6,ea=null;return}}else if(i=IE(i,n,I1),i!==null){ea=i;return}if(n=n.sibling,n!==null){ea=n;return}ea=n=s}while(n!==null);ia===0&&(ia=5)}function Xo(s,n,i){var o=Is,l=z1.transition;try{z1.transition=null,Is=1,UE(s,n,i,o)}finally{z1.transition=l,Is=o}return null}function UE(s,n,i,o){do sc();while(fo!==null);if(ds&6)throw Error(lt(327));i=s.finishedWork;var l=s.finishedLanes;if(i===null)return null;if(s.finishedWork=null,s.finishedLanes=0,i===s.current)throw Error(lt(177));s.callbackNode=null,s.callbackPriority=0;var u=i.lanes|i.childLanes;if(gS(s,u),s===ya&&(ea=ya=null,Da=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Id||(Id=!0,Nw(ru,function(){return sc(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=z1.transition,z1.transition=null;var f=Is;Is=1;var h=ds;ds|=4,ux.current=null,ME(s,i),xw(i,s),nE(w3),nu=!!y3,w3=y3=null,s.current=i,FE(i),cS(),ds=h,Is=f,z1.transition=u}else s.current=i;if(Id&&(Id=!1,fo=s,yu=l),u=s.pendingLanes,u===0&&(wo=null),fS(i.stateNode),x1(s,qn()),n!==null)for(o=s.onRecoverableError,i=0;i<n.length;i++)l=n[i],o(l.value,{componentStack:l.stack,digest:l.digest});if(bu)throw bu=!1,s=L3,L3=null,s;return yu&1&&s.tag!==0&&sc(),u=s.pendingLanes,u&1?s===Q3?q0++:(q0=0,Q3=s):q0=0,Oo(),null}function sc(){if(fo!==null){var s=ry(yu),n=z1.transition,i=Is;try{if(z1.transition=null,Is=16>s?16:s,fo===null)var o=!1;else{if(s=fo,fo=null,yu=0,ds&6)throw Error(lt(331));var l=ds;for(ds|=4,Pt=s.current;Pt!==null;){var u=Pt,f=u.child;if(Pt.flags&16){var h=u.deletions;if(h!==null){for(var p=0;p<h.length;p++){var m=h[p];for(Pt=m;Pt!==null;){var x=Pt;switch(x.tag){case 0:case 11:case 15:H0(8,x,u)}var b=x.child;if(b!==null)b.return=x,Pt=b;else for(;Pt!==null;){x=Pt;var v=x.sibling,w=x.return;if(hw(x),x===m){Pt=null;break}if(v!==null){v.return=w,Pt=v;break}Pt=w}}}var y=u.alternate;if(y!==null){var A=y.child;if(A!==null){y.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}Pt=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,Pt=f;else e:for(;Pt!==null;){if(u=Pt,u.flags&2048)switch(u.tag){case 0:case 11:case 15:H0(9,u,u.return)}var E=u.sibling;if(E!==null){E.return=u.return,Pt=E;break e}Pt=u.return}}var j=s.current;for(Pt=j;Pt!==null;){f=Pt;var N=f.child;if(f.subtreeFlags&2064&&N!==null)N.return=f,Pt=N;else e:for(f=j;Pt!==null;){if(h=Pt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:nf(9,h)}}catch(M){Tn(h,h.return,M)}if(h===f){Pt=null;break e}var I=h.sibling;if(I!==null){I.return=h.return,Pt=I;break e}Pt=h.return}}if(ds=l,Oo(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Ku,s)}catch{}o=!0}return o}finally{Is=i,z1.transition=n}}return!1}function Pb(s,n,i){n=pc(i,n),n=rw(s,n,1),s=yo(s,n,1),n=n1(),s!==null&&(_2(s,1,n),x1(s,n))}function Tn(s,n,i){if(s.tag===3)Pb(s,s,i);else for(;n!==null;){if(n.tag===3){Pb(n,s,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wo===null||!wo.has(o))){s=pc(i,s),s=sw(n,s,1),n=yo(n,s,1),s=n1(),n!==null&&(_2(n,1,s),x1(n,s));break}}n=n.return}}function OE(s,n,i){var o=s.pingCache;o!==null&&o.delete(n),n=n1(),s.pingedLanes|=s.suspendedLanes&i,ya===s&&(Da&i)===i&&(ia===4||ia===3&&(Da&130023424)===Da&&500>qn()-hx?ol(s,0):fx|=i),x1(s,n)}function kw(s,n){n===0&&(s.mode&1?(n=bd,bd<<=1,!(bd&130023424)&&(bd=4194304)):n=1);var i=n1();s=Yi(s,n),s!==null&&(_2(s,n,i),x1(s,i))}function zE(s){var n=s.memoizedState,i=0;n!==null&&(i=n.retryLane),kw(s,i)}function LE(s,n){var i=0;switch(s.tag){case 13:var o=s.stateNode,l=s.memoizedState;l!==null&&(i=l.retryLane);break;case 19:o=s.stateNode;break;default:throw Error(lt(314))}o!==null&&o.delete(n),kw(s,i)}var jw;jw=function(s,n,i){if(s!==null)if(s.memoizedProps!==n.pendingProps||p1.current)f1=!0;else{if(!(s.lanes&i)&&!(n.flags&128))return f1=!1,EE(s,n,i);f1=!!(s.flags&131072)}else f1=!1,gn&&n.flags&1048576&&Ey(n,uu,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Gd(s,n),s=n.pendingProps;var l=dc(n,$a.current);rc(n,i),l=ix(null,n,o,s,l,i);var u=ox();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,m1(o)?(u=!0,cu(n)):u=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,tx(n),l.updater=sf,n.stateNode=l,l._reactInternals=n,B3(n,o,s,i),n=F3(null,n,o,!0,u,i)):(n.tag=0,gn&&u&&$m(n),r1(null,n,l,i),n=n.child),n;case 16:o=n.elementType;e:{switch(Gd(s,n),s=n.pendingProps,l=o._init,o=l(o._payload),n.type=o,l=n.tag=HE(o),s=X1(o,s),l){case 0:n=M3(null,n,o,s,i);break e;case 1:n=Sb(null,n,o,s,i);break e;case 11:n=Nb(null,n,o,s,i);break e;case 14:n=Cb(null,n,o,X1(o.type,s),i);break e}throw Error(lt(306,o,""))}return n;case 0:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:X1(o,l),M3(s,n,o,l,i);case 1:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:X1(o,l),Sb(s,n,o,l,i);case 3:e:{if(ow(n),s===null)throw Error(lt(387));o=n.pendingProps,u=n.memoizedState,l=u.element,Ry(s,n),pu(n,o,null,i);var f=n.memoizedState;if(o=f.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){l=pc(Error(lt(423)),n),n=Eb(s,n,o,i,l);break e}else if(o!==l){l=pc(Error(lt(424)),n),n=Eb(s,n,o,i,l);break e}else for(B1=bo(n.stateNode.containerInfo.firstChild),D1=n,gn=!0,ti=null,i=My(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(uc(),o===l){n=Vi(s,n,i);break e}r1(s,n,o,i)}n=n.child}return n;case 5:return Ty(n),s===null&&S3(n),o=n.type,l=n.pendingProps,u=s!==null?s.memoizedProps:null,f=l.children,A3(o,l)?f=null:u!==null&&A3(o,u)&&(n.flags|=32),iw(s,n),r1(s,n,f,i),n.child;case 6:return s===null&&S3(n),null;case 13:return lw(s,n,i);case 4:return rx(n,n.stateNode.containerInfo),o=n.pendingProps,s===null?n.child=fc(n,null,o,i):r1(s,n,o,i),n.child;case 11:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:X1(o,l),Nb(s,n,o,l,i);case 7:return r1(s,n,n.pendingProps,i),n.child;case 8:return r1(s,n,n.pendingProps.children,i),n.child;case 12:return r1(s,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,l=n.pendingProps,u=n.memoizedProps,f=l.value,Zs(fu,o._currentValue),o._currentValue=f,u!==null)if(oi(u.value,f)){if(u.children===l.children&&!p1.current){n=Vi(s,n,i);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var h=u.dependencies;if(h!==null){f=u.child;for(var p=h.firstContext;p!==null;){if(p.context===o){if(u.tag===1){p=Qi(-1,i&-i),p.tag=2;var m=u.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?p.next=p:(p.next=x.next,x.next=p),m.pending=p}}u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),E3(u.return,i,n),h.lanes|=i;break}p=p.next}}else if(u.tag===10)f=u.type===n.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(lt(341));f.lanes|=i,h=f.alternate,h!==null&&(h.lanes|=i),E3(f,i,n),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===n){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}r1(s,n,l.children,i),n=n.child}return n;case 9:return l=n.type,o=n.pendingProps.children,rc(n,i),l=L1(l),o=o(l),n.flags|=1,r1(s,n,o,i),n.child;case 14:return o=n.type,l=X1(o,n.pendingProps),l=X1(o.type,l),Cb(s,n,o,l,i);case 15:return nw(s,n,n.type,n.pendingProps,i);case 17:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:X1(o,l),Gd(s,n),n.tag=1,m1(o)?(s=!0,cu(n)):s=!1,rc(n,i),tw(n,o,l),B3(n,o,l,i),F3(null,n,o,!0,s,i);case 19:return cw(s,n,i);case 22:return aw(s,n,i)}throw Error(lt(156,n.tag))};function Nw(s,n){return X5(s,n)}function QE(s,n,i,o){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function U1(s,n,i,o){return new QE(s,n,i,o)}function vx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function HE(s){if(typeof s=="function")return vx(s)?1:0;if(s!=null){if(s=s.$$typeof,s===_m)return 11;if(s===Pm)return 14}return 2}function ko(s,n){var i=s.alternate;return i===null?(i=U1(s.tag,n,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=n,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&14680064,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,n=s.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i}function Vd(s,n,i,o,l,u){var f=2;if(o=s,typeof s=="function")vx(s)&&(f=1);else if(typeof s=="string")f=5;else e:switch(s){case Ol:return ll(i.children,l,u,n);case Tm:f=8,l|=8;break;case e3:return s=U1(12,i,n,l|2),s.elementType=e3,s.lanes=u,s;case t3:return s=U1(13,i,n,l),s.elementType=t3,s.lanes=u,s;case r3:return s=U1(19,i,n,l),s.elementType=r3,s.lanes=u,s;case T5:return of(i,l,u,n);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F5:f=10;break e;case R5:f=9;break e;case _m:f=11;break e;case Pm:f=14;break e;case io:f=16,o=null;break e}throw Error(lt(130,s==null?s:typeof s,""))}return n=U1(f,i,n,l),n.elementType=s,n.type=o,n.lanes=u,n}function ll(s,n,i,o){return s=U1(7,s,o,n),s.lanes=i,s}function of(s,n,i,o){return s=U1(22,s,o,n),s.elementType=T5,s.lanes=i,s.stateNode={isHidden:!1},s}function $h(s,n,i){return s=U1(6,s,null,n),s.lanes=i,s}function Wh(s,n,i){return n=U1(4,s.children!==null?s.children:[],s.key,n),n.lanes=i,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}function GE(s,n,i,o,l){this.tag=n,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function gx(s,n,i,o,l,u,f,h,p){return s=new GE(s,n,i,h,p),n===1?(n=1,u===!0&&(n|=8)):n=0,u=U1(3,null,null,n),s.current=u,u.stateNode=s,u.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},tx(u),s}function qE(s,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:o==null?null:""+o,children:s,containerInfo:n,implementation:i}}function Cw(s){if(!s)return Do;s=s._reactInternals;e:{if(wl(s)!==s||s.tag!==1)throw Error(lt(170));var n=s;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(m1(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(lt(171))}if(s.tag===1){var i=s.type;if(m1(i))return Cy(s,i,n)}return n}function Sw(s,n,i,o,l,u,f,h,p){return s=gx(i,o,!0,s,l,u,f,h,p),s.context=Cw(null),i=s.current,o=n1(),l=Ao(i),u=Qi(o,l),u.callback=n??null,yo(i,u,l),s.current.lanes=l,_2(s,l,o),x1(s,o),s}function lf(s,n,i,o){var l=n.current,u=n1(),f=Ao(l);return i=Cw(i),n.context===null?n.context=i:n.pendingContext=i,n=Qi(u,f),n.payload={element:s},o=o===void 0?null:o,o!==null&&(n.callback=o),s=yo(l,n,f),s!==null&&(ai(s,l,f,u),Ld(s,l,f)),f}function Au(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ub(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<n?i:n}}function bx(s,n){Ub(s,n),(s=s.alternate)&&Ub(s,n)}function YE(){return null}var Ew=typeof reportError=="function"?reportError:function(s){console.error(s)};function yx(s){this._internalRoot=s}cf.prototype.render=yx.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(lt(409));lf(s,n,null,null)};cf.prototype.unmount=yx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;ml(function(){lf(null,s,null,null)}),n[qi]=null}};function cf(s){this._internalRoot=s}cf.prototype.unstable_scheduleHydration=function(s){if(s){var n=ay();s={blockedOn:null,target:s,priority:n};for(var i=0;i<lo.length&&n!==0&&n<lo[i].priority;i++);lo.splice(i,0,s),i===0&&oy(s)}};function wx(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function df(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function VE(s,n,i,o,l){if(l){if(typeof o=="function"){var u=o;o=function(){var m=Au(f);u.call(m)}}var f=Sw(n,o,s,0,null,!1,!1,"",Ob);return s._reactRootContainer=f,s[qi]=f.current,i2(s.nodeType===8?s.parentNode:s),ml(),f}for(;l=s.lastChild;)s.removeChild(l);if(typeof o=="function"){var h=o;o=function(){var m=Au(p);h.call(m)}}var p=gx(s,0,!1,null,null,!1,!1,"",Ob);return s._reactRootContainer=p,s[qi]=p.current,i2(s.nodeType===8?s.parentNode:s),ml(function(){lf(n,p,i,o)}),p}function uf(s,n,i,o,l){var u=i._reactRootContainer;if(u){var f=u;if(typeof l=="function"){var h=l;l=function(){var p=Au(f);h.call(p)}}lf(n,f,s,l)}else f=VE(i,n,s,l,o);return Au(f)}sy=function(s){switch(s.tag){case 3:var n=s.stateNode;if(n.current.memoizedState.isDehydrated){var i=R0(n.pendingLanes);i!==0&&(zm(n,i|1),x1(n,qn()),!(ds&6)&&(mc=qn()+500,Oo()))}break;case 13:ml(function(){var o=Yi(s,1);if(o!==null){var l=n1();ai(o,s,1,l)}}),bx(s,1)}};Lm=function(s){if(s.tag===13){var n=Yi(s,134217728);if(n!==null){var i=n1();ai(n,s,134217728,i)}bx(s,134217728)}};ny=function(s){if(s.tag===13){var n=Ao(s),i=Yi(s,n);if(i!==null){var o=n1();ai(i,s,n,o)}bx(s,n)}};ay=function(){return Is};iy=function(s,n){var i=Is;try{return Is=s,n()}finally{Is=i}};f3=function(s,n,i){switch(n){case"input":if(a3(s,i),n=i.name,i.type==="radio"&&n!=null){for(i=s;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==s&&o.form===s.form){var l=ef(o);if(!l)throw Error(lt(90));P5(o),a3(o,l)}}}break;case"textarea":O5(s,i);break;case"select":n=i.value,n!=null&&Xl(s,!!i.multiple,n,!1)}};Y5=px;V5=ml;var $E={usingClientEntryPoint:!1,Events:[U2,Hl,ef,G5,q5,px]},j0={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WE={bundleType:j0.bundleType,version:j0.version,rendererPackageName:j0.rendererPackageName,rendererConfig:j0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=K5(s),s===null?null:s.stateNode},findFiberByHostInstance:j0.findFiberByHostInstance||YE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Ku=Bd.inject(WE),ji=Bd}catch{}}R1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$E;R1.createPortal=function(s,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(n))throw Error(lt(200));return qE(s,n,null,i)};R1.createRoot=function(s,n){if(!wx(s))throw Error(lt(299));var i=!1,o="",l=Ew;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=gx(s,1,!1,null,null,i,!1,o,l),s[qi]=n.current,i2(s.nodeType===8?s.parentNode:s),new yx(n)};R1.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(lt(188)):(s=Object.keys(s).join(","),Error(lt(268,s)));return s=K5(n),s=s===null?null:s.stateNode,s};R1.flushSync=function(s){return ml(s)};R1.hydrate=function(s,n,i){if(!df(n))throw Error(lt(200));return uf(null,s,n,!0,i)};R1.hydrateRoot=function(s,n,i){if(!wx(s))throw Error(lt(405));var o=i!=null&&i.hydratedSources||null,l=!1,u="",f=Ew;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),n=Sw(n,null,s,1,i??null,l,!1,u,f),s[qi]=n.current,i2(s),o)for(s=0;s<o.length;s++)i=o[s],l=i._getVersion,l=l(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,l]:n.mutableSourceEagerHydrationData.push(i,l);return new cf(n)};R1.render=function(s,n,i){if(!df(n))throw Error(lt(200));return uf(null,s,n,!1,i)};R1.unmountComponentAtNode=function(s){if(!df(s))throw Error(lt(40));return s._reactRootContainer?(ml(function(){uf(null,null,s,!1,function(){s._reactRootContainer=null,s[qi]=null})}),!0):!1};R1.unstable_batchedUpdates=px;R1.unstable_renderSubtreeIntoContainer=function(s,n,i,o){if(!df(i))throw Error(lt(200));if(s==null||s._reactInternals===void 0)throw Error(lt(38));return uf(s,n,i,!1,o)};R1.version="18.3.1-next-f1338f8080-20240426";function Iw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iw)}catch(s){console.error(s)}}Iw(),I5.exports=R1;var KE=I5.exports,zb=KE;Xp.createRoot=zb.createRoot,Xp.hydrateRoot=zb.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m2(){return m2=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},m2.apply(this,arguments)}var ho;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(ho||(ho={}));const Lb="popstate";function JE(s){s===void 0&&(s={});function n(o,l){let{pathname:u,search:f,hash:h}=o.location;return q3("",{pathname:u,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(o,l){return typeof l=="string"?l:ku(l)}return ZE(n,i,null,s)}function Yn(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function Ax(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function XE(){return Math.random().toString(36).substr(2,8)}function Qb(s,n){return{usr:s.state,key:s.key,idx:n}}function q3(s,n,i,o){return i===void 0&&(i=null),m2({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof n=="string"?Mc(n):n,{state:i,key:n&&n.key||o||XE()})}function ku(s){let{pathname:n="/",search:i="",hash:o=""}=s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Mc(s){let n={};if(s){let i=s.indexOf("#");i>=0&&(n.hash=s.substr(i),s=s.substr(0,i));let o=s.indexOf("?");o>=0&&(n.search=s.substr(o),s=s.substr(0,o)),s&&(n.pathname=s)}return n}function ZE(s,n,i,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,f=l.history,h=ho.Pop,p=null,m=x();m==null&&(m=0,f.replaceState(m2({},f.state,{idx:m}),""));function x(){return(f.state||{idx:null}).idx}function b(){h=ho.Pop;let k=x(),E=k==null?null:k-m;m=k,p&&p({action:h,location:A.location,delta:E})}function v(k,E){h=ho.Push;let j=q3(A.location,k,E);m=x()+1;let N=Qb(j,m),I=A.createHref(j);try{f.pushState(N,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;l.location.assign(I)}u&&p&&p({action:h,location:A.location,delta:1})}function w(k,E){h=ho.Replace;let j=q3(A.location,k,E);m=x();let N=Qb(j,m),I=A.createHref(j);f.replaceState(N,"",I),u&&p&&p({action:h,location:A.location,delta:0})}function y(k){let E=l.location.origin!=="null"?l.location.origin:l.location.href,j=typeof k=="string"?k:ku(k);return j=j.replace(/ $/,"%20"),Yn(E,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,E)}let A={get action(){return h},get location(){return s(l,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Lb,b),p=k,()=>{l.removeEventListener(Lb,b),p=null}},createHref(k){return n(l,k)},createURL:y,encodeLocation(k){let E=y(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:w,go(k){return f.go(k)}};return A}var Hb;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Hb||(Hb={}));function eI(s,n,i){return i===void 0&&(i="/"),tI(s,n,i)}function tI(s,n,i,o){let l=typeof n=="string"?Mc(n):n,u=kx(l.pathname||"/",i);if(u==null)return null;let f=Bw(s);rI(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=pI(u);h=uI(f[p],m)}return h}function Bw(s,n,i,o){n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o="");let l=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Yn(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let m=jo([o,p.relativePath]),x=i.concat(p);u.children&&u.children.length>0&&(Yn(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Bw(u.children,n,x,m)),!(u.path==null&&!u.index)&&n.push({path:m,score:cI(m,u.index),routesMeta:x})};return s.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let p of Dw(u.path))l(u,f,p)}),n}function Dw(s){let n=s.split("/");if(n.length===0)return[];let[i,...o]=n,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let f=Dw(o.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...f),h.map(p=>s.startsWith("/")&&p===""?"/":p)}function rI(s){s.sort((n,i)=>n.score!==i.score?i.score-n.score:dI(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const sI=/^:[\w-]+$/,nI=3,aI=2,iI=1,oI=10,lI=-2,Gb=s=>s==="*";function cI(s,n){let i=s.split("/"),o=i.length;return i.some(Gb)&&(o+=lI),n&&(o+=aI),i.filter(l=>!Gb(l)).reduce((l,u)=>l+(sI.test(u)?nI:u===""?iI:oI),o)}function dI(s,n){return s.length===n.length&&s.slice(0,-1).every((o,l)=>o===n[l])?s[s.length-1]-n[n.length-1]:0}function uI(s,n,i){let{routesMeta:o}=s,l={},u="/",f=[];for(let h=0;h<o.length;++h){let p=o[h],m=h===o.length-1,x=u==="/"?n:n.slice(u.length)||"/",b=fI({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),v=p.route;if(!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:jo([u,b.pathname]),pathnameBase:bI(jo([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=jo([u,b.pathnameBase]))}return f}function fI(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=hI(s.path,s.caseSensitive,s.end),l=n.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((m,x,b)=>{let{paramName:v,isOptional:w}=x;if(v==="*"){let A=h[b]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const y=h[b];return w&&!y?m[v]=void 0:m[v]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:s}}function hI(s,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),Ax(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),o]}function pI(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ax(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),s}}function kx(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}const mI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xI=s=>mI.test(s);function vI(s,n){n===void 0&&(n="/");let{pathname:i,search:o="",hash:l=""}=typeof s=="string"?Mc(s):s,u;if(i)if(xI(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Ax(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+i))}i.startsWith("/")?u=qb(i.substring(1),"/"):u=qb(i,n)}else u=n;return{pathname:u,search:yI(o),hash:wI(l)}}function qb(s,n){let i=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Kh(s,n,i,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gI(s){return s.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function jx(s,n){let i=gI(s);return n?i.map((o,l)=>l===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function Nx(s,n,i,o){o===void 0&&(o=!1);let l;typeof s=="string"?l=Mc(s):(l=m2({},s),Yn(!l.pathname||!l.pathname.includes("?"),Kh("?","pathname","search",l)),Yn(!l.pathname||!l.pathname.includes("#"),Kh("#","pathname","hash",l)),Yn(!l.search||!l.search.includes("#"),Kh("#","search","hash",l)));let u=s===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=i;else{let b=n.length-1;if(!o&&f.startsWith("..")){let v=f.split("/");for(;v[0]==="..";)v.shift(),b-=1;l.pathname=v.join("/")}h=b>=0?n[b]:"/"}let p=vI(l,h),m=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}const jo=s=>s.join("/").replace(/\/\/+/g,"/"),bI=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,wI=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function AI(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Mw=["post","put","patch","delete"];new Set(Mw);const kI=["get",...Mw];new Set(kI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x2(){return x2=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},x2.apply(this,arguments)}const Cx=ae.createContext(null),jI=ae.createContext(null),zo=ae.createContext(null),ff=ae.createContext(null),Lo=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),Fw=ae.createContext(null);function NI(s,n){let{relative:i}=n===void 0?{}:n;Fc()||Yn(!1);let{basename:o,navigator:l}=ae.useContext(zo),{hash:u,pathname:f,search:h}=Tw(s,{relative:i}),p=f;return o!=="/"&&(p=f==="/"?o:jo([o,f])),l.createHref({pathname:p,search:h,hash:u})}function Fc(){return ae.useContext(ff)!=null}function Rc(){return Fc()||Yn(!1),ae.useContext(ff).location}function Rw(s){ae.useContext(zo).static||ae.useLayoutEffect(s)}function Sx(){let{isDataRoute:s}=ae.useContext(Lo);return s?UI():CI()}function CI(){Fc()||Yn(!1);let s=ae.useContext(Cx),{basename:n,future:i,navigator:o}=ae.useContext(zo),{matches:l}=ae.useContext(Lo),{pathname:u}=Rc(),f=JSON.stringify(jx(l,i.v7_relativeSplatPath)),h=ae.useRef(!1);return Rw(()=>{h.current=!0}),ae.useCallback(function(m,x){if(x===void 0&&(x={}),!h.current)return;if(typeof m=="number"){o.go(m);return}let b=Nx(m,JSON.parse(f),u,x.relative==="path");s==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:jo([n,b.pathname])),(x.replace?o.replace:o.push)(b,x.state,x)},[n,o,f,u,s])}function Tw(s,n){let{relative:i}=n===void 0?{}:n,{future:o}=ae.useContext(zo),{matches:l}=ae.useContext(Lo),{pathname:u}=Rc(),f=JSON.stringify(jx(l,o.v7_relativeSplatPath));return ae.useMemo(()=>Nx(s,JSON.parse(f),u,i==="path"),[s,f,u,i])}function SI(s,n){return EI(s,n)}function EI(s,n,i,o){Fc()||Yn(!1);let{navigator:l}=ae.useContext(zo),{matches:u}=ae.useContext(Lo),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=Rc(),x;if(n){var b;let k=typeof n=="string"?Mc(n):n;p==="/"||(b=k.pathname)!=null&&b.startsWith(p)||Yn(!1),x=k}else x=m;let v=x.pathname||"/",w=v;if(p!=="/"){let k=p.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=eI(s,{pathname:w}),A=FI(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:jo([p,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:jo([p,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,i,o);return n&&A?ae.createElement(ff.Provider,{value:{location:x2({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:ho.Pop}},A):A}function II(){let s=PI(),n=AI(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},n),i?ae.createElement("pre",{style:l},i):null,null)}const BI=ae.createElement(II,null);class DI extends ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?ae.createElement(Lo.Provider,{value:this.props.routeContext},ae.createElement(Fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MI(s){let{routeContext:n,match:i,children:o}=s,l=ae.useContext(Cx);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),ae.createElement(Lo.Provider,{value:n},o)}function FI(s,n,i,o){var l;if(n===void 0&&(n=[]),i===void 0&&(i=null),o===void 0&&(o=null),s==null){var u;if(!i)return null;if(i.errors)s=i.matches;else if((u=o)!=null&&u.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let f=s,h=(l=i)==null?void 0:l.errors;if(h!=null){let x=f.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);x>=0||Yn(!1),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,m=-1;if(i&&o&&o.v7_partialHydration)for(let x=0;x<f.length;x++){let b=f[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:v,errors:w}=i,y=b.route.loader&&v[b.route.id]===void 0&&(!w||w[b.route.id]===void 0);if(b.route.lazy||y){p=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((x,b,v)=>{let w,y=!1,A=null,k=null;i&&(w=h&&b.route.id?h[b.route.id]:void 0,A=b.route.errorElement||BI,p&&(m<0&&v===0?(OI("route-fallback"),y=!0,k=null):m===v&&(y=!0,k=b.route.hydrateFallbackElement||null)));let E=n.concat(f.slice(0,v+1)),j=()=>{let N;return w?N=A:y?N=k:b.route.Component?N=ae.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=x,ae.createElement(MI,{match:b,routeContext:{outlet:x,matches:E,isDataRoute:i!=null},children:N})};return i&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?ae.createElement(DI,{location:i.location,revalidation:i.revalidation,component:A,error:w,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}var _w=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(_w||{}),Pw=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Pw||{});function RI(s){let n=ae.useContext(Cx);return n||Yn(!1),n}function TI(s){let n=ae.useContext(jI);return n||Yn(!1),n}function _I(s){let n=ae.useContext(Lo);return n||Yn(!1),n}function Uw(s){let n=_I(),i=n.matches[n.matches.length-1];return i.route.id||Yn(!1),i.route.id}function PI(){var s;let n=ae.useContext(Fw),i=TI(),o=Uw();return n!==void 0?n:(s=i.errors)==null?void 0:s[o]}function UI(){let{router:s}=RI(_w.UseNavigateStable),n=Uw(Pw.UseNavigateStable),i=ae.useRef(!1);return Rw(()=>{i.current=!0}),ae.useCallback(function(l,u){u===void 0&&(u={}),i.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,x2({fromRouteId:n},u)))},[s,n])}const Yb={};function OI(s,n,i){Yb[s]||(Yb[s]=!0)}function zI(s,n){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Vb(s){let{to:n,replace:i,state:o,relative:l}=s;Fc()||Yn(!1);let{future:u,static:f}=ae.useContext(zo),{matches:h}=ae.useContext(Lo),{pathname:p}=Rc(),m=Sx(),x=Nx(n,jx(h,u.v7_relativeSplatPath),p,l==="path"),b=JSON.stringify(x);return ae.useEffect(()=>m(JSON.parse(b),{replace:i,state:o,relative:l}),[m,b,l,i,o]),null}function Ha(s){Yn(!1)}function LI(s){let{basename:n="/",children:i=null,location:o,navigationType:l=ho.Pop,navigator:u,static:f=!1,future:h}=s;Fc()&&Yn(!1);let p=n.replace(/^\/*/,"/"),m=ae.useMemo(()=>({basename:p,navigator:u,static:f,future:x2({v7_relativeSplatPath:!1},h)}),[p,h,u,f]);typeof o=="string"&&(o=Mc(o));let{pathname:x="/",search:b="",hash:v="",state:w=null,key:y="default"}=o,A=ae.useMemo(()=>{let k=kx(x,p);return k==null?null:{location:{pathname:k,search:b,hash:v,state:w,key:y},navigationType:l}},[p,x,b,v,w,y,l]);return A==null?null:ae.createElement(zo.Provider,{value:m},ae.createElement(ff.Provider,{children:i,value:A}))}function $b(s){let{children:n,location:i}=s;return SI(Y3(n),i)}new Promise(()=>{});function Y3(s,n){n===void 0&&(n=[]);let i=[];return ae.Children.forEach(s,(o,l)=>{if(!ae.isValidElement(o))return;let u=[...n,l];if(o.type===ae.Fragment){i.push.apply(i,Y3(o.props.children,u));return}o.type!==Ha&&Yn(!1),!o.props.index||!o.props.children||Yn(!1);let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Y3(o.props.children,u)),i.push(f)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V3(){return V3=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},V3.apply(this,arguments)}function QI(s,n){if(s==null)return{};var i={},o=Object.keys(s),l,u;for(u=0;u<o.length;u++)l=o[u],!(n.indexOf(l)>=0)&&(i[l]=s[l]);return i}function HI(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function GI(s,n){return s.button===0&&(!n||n==="_self")&&!HI(s)}const qI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YI="6";try{window.__reactRouterVersion=YI}catch{}const VI="startTransition",Wb=OC[VI];function $I(s){let{basename:n,children:i,future:o,window:l}=s,u=ae.useRef();u.current==null&&(u.current=JE({window:l,v5Compat:!0}));let f=u.current,[h,p]=ae.useState({action:f.action,location:f.location}),{v7_startTransition:m}=o||{},x=ae.useCallback(b=>{m&&Wb?Wb(()=>p(b)):p(b)},[p,m]);return ae.useLayoutEffect(()=>f.listen(x),[f,x]),ae.useEffect(()=>zI(o),[o]),ae.createElement(LI,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:f,future:o})}const WI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z1=ae.forwardRef(function(n,i){let{onClick:o,relative:l,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:x,viewTransition:b}=n,v=QI(n,qI),{basename:w}=ae.useContext(zo),y,A=!1;if(typeof m=="string"&&KI.test(m)&&(y=m,WI))try{let N=new URL(window.location.href),I=m.startsWith("//")?new URL(N.protocol+m):new URL(m),M=kx(I.pathname,w);I.origin===N.origin&&M!=null?m=M+I.search+I.hash:A=!0}catch{}let k=NI(m,{relative:l}),E=JI(m,{replace:f,state:h,target:p,preventScrollReset:x,relative:l,viewTransition:b});function j(N){o&&o(N),N.defaultPrevented||E(N)}return ae.createElement("a",V3({},v,{href:y||k,onClick:A||u?o:j,ref:i,target:p}))});var Kb;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Kb||(Kb={}));var Jb;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Jb||(Jb={}));function JI(s,n){let{target:i,replace:o,state:l,preventScrollReset:u,relative:f,viewTransition:h}=n===void 0?{}:n,p=Sx(),m=Rc(),x=Tw(s,{relative:f});return ae.useCallback(b=>{if(GI(b,i)){b.preventDefault();let v=o!==void 0?o:ku(m)===ku(x);p(s,{replace:v,state:l,preventScrollReset:u,relative:f,viewTransition:h})}},[m,p,x,o,l,i,s,u,f,h])}const XI={},Xb=s=>{let n;const i=new Set,o=(x,b)=>{const v=typeof x=="function"?x(n):x;if(!Object.is(v,n)){const w=n;n=b??(typeof v!="object"||v===null)?v:Object.assign({},n,v),i.forEach(y=>y(n,w))}},l=()=>n,p={setState:o,getState:l,getInitialState:()=>m,subscribe:x=>(i.add(x),()=>i.delete(x)),destroy:()=>{(XI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=n=s(o,l,p);return p},ZI=s=>s?Xb(s):Xb;var Ow={exports:{}},zw={},Lw={exports:{}},Qw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=ae;function eB(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var tB=typeof Object.is=="function"?Object.is:eB,rB=xc.useState,sB=xc.useEffect,nB=xc.useLayoutEffect,aB=xc.useDebugValue;function iB(s,n){var i=n(),o=rB({inst:{value:i,getSnapshot:n}}),l=o[0].inst,u=o[1];return nB(function(){l.value=i,l.getSnapshot=n,Jh(l)&&u({inst:l})},[s,i,n]),sB(function(){return Jh(l)&&u({inst:l}),s(function(){Jh(l)&&u({inst:l})})},[s]),aB(i),i}function Jh(s){var n=s.getSnapshot;s=s.value;try{var i=n();return!tB(s,i)}catch{return!0}}function oB(s,n){return n()}var lB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oB:iB;Qw.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:lB;Lw.exports=Qw;var cB=Lw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=ae,dB=cB;function uB(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var fB=typeof Object.is=="function"?Object.is:uB,hB=dB.useSyncExternalStore,pB=hf.useRef,mB=hf.useEffect,xB=hf.useMemo,vB=hf.useDebugValue;zw.useSyncExternalStoreWithSelector=function(s,n,i,o,l){var u=pB(null);if(u.current===null){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=xB(function(){function p(w){if(!m){if(m=!0,x=w,w=o(w),l!==void 0&&f.hasValue){var y=f.value;if(l(y,w))return b=y}return b=w}if(y=b,fB(x,w))return y;var A=o(w);return l!==void 0&&l(y,A)?(x=w,y):(x=w,b=A)}var m=!1,x,b,v=i===void 0?null:i;return[function(){return p(n())},v===null?void 0:function(){return p(v())}]},[n,i,o,l]);var h=hB(s,u[0],u[1]);return mB(function(){f.hasValue=!0,f.value=h},[h]),vB(h),h};Ow.exports=zw;var gB=Ow.exports;const bB=Cm(gB),Hw={},{useDebugValue:yB}=Dm,{useSyncExternalStoreWithSelector:wB}=bB;let Zb=!1;const AB=s=>s;function kB(s,n=AB,i){(Hw?"production":void 0)!=="production"&&i&&!Zb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Zb=!0);const o=wB(s.subscribe,s.getState,s.getServerState||s.getInitialState,n,i);return yB(o),o}const e6=s=>{(Hw?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof s=="function"?ZI(s):s,i=(o,l)=>kB(n,o,l);return Object.assign(i,n),i},y1=s=>s?e6(s):e6,jB={};function NB(s,n){let i;try{i=s()}catch{return}return{getItem:l=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),h=(u=i.getItem(l))!=null?u:null;return h instanceof Promise?h.then(f):f(h)},setItem:(l,u)=>i.setItem(l,JSON.stringify(u,void 0)),removeItem:l=>i.removeItem(l)}}const v2=s=>n=>{try{const i=s(n);return i instanceof Promise?i:{then(o){return v2(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return v2(o)(i)}}}},CB=(s,n)=>(i,o,l)=>{let u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,E)=>({...E,...k}),...n},f=!1;const h=new Set,p=new Set;let m;try{m=u.getStorage()}catch{}if(!m)return s((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...k)},o,l);const x=v2(u.serialize),b=()=>{const k=u.partialize({...o()});let E;const j=x({state:k,version:u.version}).then(N=>m.setItem(u.name,N)).catch(N=>{E=N});if(E)throw E;return j},v=l.setState;l.setState=(k,E)=>{v(k,E),b()};const w=s((...k)=>{i(...k),b()},o,l);let y;const A=()=>{var k;if(!m)return;f=!1,h.forEach(j=>j(o()));const E=((k=u.onRehydrateStorage)==null?void 0:k.call(u,o()))||void 0;return v2(m.getItem.bind(m))(u.name).then(j=>{if(j)return u.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==u.version){if(u.migrate)return u.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var N;return y=u.merge(j,(N=o())!=null?N:w),i(y,!0),b()}).then(()=>{E==null||E(y,void 0),f=!0,p.forEach(j=>j(y))}).catch(j=>{E==null||E(void 0,j)})};return l.persist={setOptions:k=>{u={...u,...k},k.getStorage&&(m=k.getStorage())},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:k=>(h.add(k),()=>{h.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},A(),y||w},SB=(s,n)=>(i,o,l)=>{let u={storage:NB(()=>localStorage),partialize:A=>A,version:0,merge:(A,k)=>({...k,...A}),...n},f=!1;const h=new Set,p=new Set;let m=u.storage;if(!m)return s((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...A)},o,l);const x=()=>{const A=u.partialize({...o()});return m.setItem(u.name,{state:A,version:u.version})},b=l.setState;l.setState=(A,k)=>{b(A,k),x()};const v=s((...A)=>{i(...A),x()},o,l);l.getInitialState=()=>v;let w;const y=()=>{var A,k;if(!m)return;f=!1,h.forEach(j=>{var N;return j((N=o())!=null?N:v)});const E=((k=u.onRehydrateStorage)==null?void 0:k.call(u,(A=o())!=null?A:v))||void 0;return v2(m.getItem.bind(m))(u.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==u.version){if(u.migrate)return[!0,u.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var N;const[I,M]=j;if(w=u.merge(M,(N=o())!=null?N:v),i(w,!0),I)return x()}).then(()=>{E==null||E(w,void 0),w=o(),f=!0,p.forEach(j=>j(w))}).catch(j=>{E==null||E(void 0,j)})};return l.persist={setOptions:A=>{u={...u,...A},A.storage&&(m=A.storage)},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>y(),hasHydrated:()=>f,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},u.skipHydration||y(),w||v},EB=(s,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((jB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),CB(s,n)):SB(s,n),w1=EB;var Gw={exports:{}};function IB(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xh={exports:{}};const BB={},DB=Object.freeze(Object.defineProperty({__proto__:null,default:BB},Symbol.toStringTag,{value:"Module"})),MB=kC(DB);var t6;function es(){return t6||(t6=1,function(s,n){(function(i,o){s.exports=o()})(Dr,function(){var i=i||function(o,l){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof Dr<"u"&&Dr.crypto&&(u=Dr.crypto),!u&&typeof IB=="function")try{u=MB}catch{}var f=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function j(){}return function(N){var I;return j.prototype=N,I=new j,j.prototype=null,I}}(),p={},m=p.lib={},x=m.Base=function(){return{extend:function(j){var N=h(this);return j&&N.mixIn(j),(!N.hasOwnProperty("init")||this.init===N.init)&&(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var j=this.extend();return j.init.apply(j,arguments),j},init:function(){},mixIn:function(j){for(var N in j)j.hasOwnProperty(N)&&(this[N]=j[N]);j.hasOwnProperty("toString")&&(this.toString=j.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),b=m.WordArray=x.extend({init:function(j,N){j=this.words=j||[],N!=l?this.sigBytes=N:this.sigBytes=j.length*4},toString:function(j){return(j||w).stringify(this)},concat:function(j){var N=this.words,I=j.words,M=this.sigBytes,B=j.sigBytes;if(this.clamp(),M%4)for(var F=0;F<B;F++){var D=I[F>>>2]>>>24-F%4*8&255;N[M+F>>>2]|=D<<24-(M+F)%4*8}else for(var H=0;H<B;H+=4)N[M+H>>>2]=I[H>>>2];return this.sigBytes+=B,this},clamp:function(){var j=this.words,N=this.sigBytes;j[N>>>2]&=4294967295<<32-N%4*8,j.length=o.ceil(N/4)},clone:function(){var j=x.clone.call(this);return j.words=this.words.slice(0),j},random:function(j){for(var N=[],I=0;I<j;I+=4)N.push(f());return new b.init(N,j)}}),v=p.enc={},w=v.Hex={stringify:function(j){for(var N=j.words,I=j.sigBytes,M=[],B=0;B<I;B++){var F=N[B>>>2]>>>24-B%4*8&255;M.push((F>>>4).toString(16)),M.push((F&15).toString(16))}return M.join("")},parse:function(j){for(var N=j.length,I=[],M=0;M<N;M+=2)I[M>>>3]|=parseInt(j.substr(M,2),16)<<24-M%8*4;return new b.init(I,N/2)}},y=v.Latin1={stringify:function(j){for(var N=j.words,I=j.sigBytes,M=[],B=0;B<I;B++){var F=N[B>>>2]>>>24-B%4*8&255;M.push(String.fromCharCode(F))}return M.join("")},parse:function(j){for(var N=j.length,I=[],M=0;M<N;M++)I[M>>>2]|=(j.charCodeAt(M)&255)<<24-M%4*8;return new b.init(I,N)}},A=v.Utf8={stringify:function(j){try{return decodeURIComponent(escape(y.stringify(j)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(j){return y.parse(unescape(encodeURIComponent(j)))}},k=m.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(j){typeof j=="string"&&(j=A.parse(j)),this._data.concat(j),this._nDataBytes+=j.sigBytes},_process:function(j){var N,I=this._data,M=I.words,B=I.sigBytes,F=this.blockSize,D=F*4,H=B/D;j?H=o.ceil(H):H=o.max((H|0)-this._minBufferSize,0);var T=H*F,_=o.min(T*4,B);if(T){for(var L=0;L<T;L+=F)this._doProcessBlock(M,L);N=M.splice(0,T),I.sigBytes-=_}return new b.init(N,_)},clone:function(){var j=x.clone.call(this);return j._data=this._data.clone(),j},_minBufferSize:0});m.Hasher=k.extend({cfg:x.extend(),init:function(j){this.cfg=this.cfg.extend(j),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(j){return this._append(j),this._process(),this},finalize:function(j){j&&this._append(j);var N=this._doFinalize();return N},blockSize:16,_createHelper:function(j){return function(N,I){return new j.init(I).finalize(N)}},_createHmacHelper:function(j){return function(N,I){return new E.HMAC.init(j,I).finalize(N)}}});var E=p.algo={};return p}(Math);return i})}(Xh)),Xh.exports}var Zh={exports:{}},r6;function pf(){return r6||(r6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(o){var l=i,u=l.lib,f=u.Base,h=u.WordArray,p=l.x64={};p.Word=f.extend({init:function(m,x){this.high=m,this.low=x}}),p.WordArray=f.extend({init:function(m,x){m=this.words=m||[],x!=o?this.sigBytes=x:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,x=m.length,b=[],v=0;v<x;v++){var w=m[v];b.push(w.high),b.push(w.low)}return h.create(b,this.sigBytes)},clone:function(){for(var m=f.clone.call(this),x=m.words=this.words.slice(0),b=x.length,v=0;v<b;v++)x[v]=x[v].clone();return m}})}(),i})}(Zh)),Zh.exports}var ep={exports:{}},s6;function FB(){return s6||(s6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(){if(typeof ArrayBuffer=="function"){var o=i,l=o.lib,u=l.WordArray,f=u.init,h=u.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var m=p.byteLength,x=[],b=0;b<m;b++)x[b>>>2]|=p[b]<<24-b%4*8;f.call(this,x,m)}else f.apply(this,arguments)};h.prototype=u}}(),i.lib.WordArray})}(ep)),ep.exports}var tp={exports:{}},n6;function RB(){return n6||(n6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.WordArray,f=o.enc;f.Utf16=f.Utf16BE={stringify:function(p){for(var m=p.words,x=p.sigBytes,b=[],v=0;v<x;v+=2){var w=m[v>>>2]>>>16-v%4*8&65535;b.push(String.fromCharCode(w))}return b.join("")},parse:function(p){for(var m=p.length,x=[],b=0;b<m;b++)x[b>>>1]|=p.charCodeAt(b)<<16-b%2*16;return u.create(x,m*2)}},f.Utf16LE={stringify:function(p){for(var m=p.words,x=p.sigBytes,b=[],v=0;v<x;v+=2){var w=h(m[v>>>2]>>>16-v%4*8&65535);b.push(String.fromCharCode(w))}return b.join("")},parse:function(p){for(var m=p.length,x=[],b=0;b<m;b++)x[b>>>1]|=h(p.charCodeAt(b)<<16-b%2*16);return u.create(x,m*2)}};function h(p){return p<<8&4278255360|p>>>8&16711935}}(),i.enc.Utf16})}(tp)),tp.exports}var rp={exports:{}},a6;function Al(){return a6||(a6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.WordArray,f=o.enc;f.Base64={stringify:function(p){var m=p.words,x=p.sigBytes,b=this._map;p.clamp();for(var v=[],w=0;w<x;w+=3)for(var y=m[w>>>2]>>>24-w%4*8&255,A=m[w+1>>>2]>>>24-(w+1)%4*8&255,k=m[w+2>>>2]>>>24-(w+2)%4*8&255,E=y<<16|A<<8|k,j=0;j<4&&w+j*.75<x;j++)v.push(b.charAt(E>>>6*(3-j)&63));var N=b.charAt(64);if(N)for(;v.length%4;)v.push(N);return v.join("")},parse:function(p){var m=p.length,x=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var v=0;v<x.length;v++)b[x.charCodeAt(v)]=v}var w=x.charAt(64);if(w){var y=p.indexOf(w);y!==-1&&(m=y)}return h(p,m,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(p,m,x){for(var b=[],v=0,w=0;w<m;w++)if(w%4){var y=x[p.charCodeAt(w-1)]<<w%4*2,A=x[p.charCodeAt(w)]>>>6-w%4*2,k=y|A;b[v>>>2]|=k<<24-v%4*8,v++}return u.create(b,v)}}(),i.enc.Base64})}(rp)),rp.exports}var sp={exports:{}},i6;function TB(){return i6||(i6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.WordArray,f=o.enc;f.Base64url={stringify:function(p,m){m===void 0&&(m=!0);var x=p.words,b=p.sigBytes,v=m?this._safe_map:this._map;p.clamp();for(var w=[],y=0;y<b;y+=3)for(var A=x[y>>>2]>>>24-y%4*8&255,k=x[y+1>>>2]>>>24-(y+1)%4*8&255,E=x[y+2>>>2]>>>24-(y+2)%4*8&255,j=A<<16|k<<8|E,N=0;N<4&&y+N*.75<b;N++)w.push(v.charAt(j>>>6*(3-N)&63));var I=v.charAt(64);if(I)for(;w.length%4;)w.push(I);return w.join("")},parse:function(p,m){m===void 0&&(m=!0);var x=p.length,b=m?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var w=0;w<b.length;w++)v[b.charCodeAt(w)]=w}var y=b.charAt(64);if(y){var A=p.indexOf(y);A!==-1&&(x=A)}return h(p,x,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(p,m,x){for(var b=[],v=0,w=0;w<m;w++)if(w%4){var y=x[p.charCodeAt(w-1)]<<w%4*2,A=x[p.charCodeAt(w)]>>>6-w%4*2,k=y|A;b[v>>>2]|=k<<24-v%4*8,v++}return u.create(b,v)}}(),i.enc.Base64url})}(sp)),sp.exports}var np={exports:{}},o6;function kl(){return o6||(o6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(o){var l=i,u=l.lib,f=u.WordArray,h=u.Hasher,p=l.algo,m=[];(function(){for(var A=0;A<64;A++)m[A]=o.abs(o.sin(A+1))*4294967296|0})();var x=p.MD5=h.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(A,k){for(var E=0;E<16;E++){var j=k+E,N=A[j];A[j]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var I=this._hash.words,M=A[k+0],B=A[k+1],F=A[k+2],D=A[k+3],H=A[k+4],T=A[k+5],_=A[k+6],L=A[k+7],z=A[k+8],G=A[k+9],K=A[k+10],oe=A[k+11],V=A[k+12],Y=A[k+13],ie=A[k+14],de=A[k+15],re=I[0],ne=I[1],le=I[2],ue=I[3];re=b(re,ne,le,ue,M,7,m[0]),ue=b(ue,re,ne,le,B,12,m[1]),le=b(le,ue,re,ne,F,17,m[2]),ne=b(ne,le,ue,re,D,22,m[3]),re=b(re,ne,le,ue,H,7,m[4]),ue=b(ue,re,ne,le,T,12,m[5]),le=b(le,ue,re,ne,_,17,m[6]),ne=b(ne,le,ue,re,L,22,m[7]),re=b(re,ne,le,ue,z,7,m[8]),ue=b(ue,re,ne,le,G,12,m[9]),le=b(le,ue,re,ne,K,17,m[10]),ne=b(ne,le,ue,re,oe,22,m[11]),re=b(re,ne,le,ue,V,7,m[12]),ue=b(ue,re,ne,le,Y,12,m[13]),le=b(le,ue,re,ne,ie,17,m[14]),ne=b(ne,le,ue,re,de,22,m[15]),re=v(re,ne,le,ue,B,5,m[16]),ue=v(ue,re,ne,le,_,9,m[17]),le=v(le,ue,re,ne,oe,14,m[18]),ne=v(ne,le,ue,re,M,20,m[19]),re=v(re,ne,le,ue,T,5,m[20]),ue=v(ue,re,ne,le,K,9,m[21]),le=v(le,ue,re,ne,de,14,m[22]),ne=v(ne,le,ue,re,H,20,m[23]),re=v(re,ne,le,ue,G,5,m[24]),ue=v(ue,re,ne,le,ie,9,m[25]),le=v(le,ue,re,ne,D,14,m[26]),ne=v(ne,le,ue,re,z,20,m[27]),re=v(re,ne,le,ue,Y,5,m[28]),ue=v(ue,re,ne,le,F,9,m[29]),le=v(le,ue,re,ne,L,14,m[30]),ne=v(ne,le,ue,re,V,20,m[31]),re=w(re,ne,le,ue,T,4,m[32]),ue=w(ue,re,ne,le,z,11,m[33]),le=w(le,ue,re,ne,oe,16,m[34]),ne=w(ne,le,ue,re,ie,23,m[35]),re=w(re,ne,le,ue,B,4,m[36]),ue=w(ue,re,ne,le,H,11,m[37]),le=w(le,ue,re,ne,L,16,m[38]),ne=w(ne,le,ue,re,K,23,m[39]),re=w(re,ne,le,ue,Y,4,m[40]),ue=w(ue,re,ne,le,M,11,m[41]),le=w(le,ue,re,ne,D,16,m[42]),ne=w(ne,le,ue,re,_,23,m[43]),re=w(re,ne,le,ue,G,4,m[44]),ue=w(ue,re,ne,le,V,11,m[45]),le=w(le,ue,re,ne,de,16,m[46]),ne=w(ne,le,ue,re,F,23,m[47]),re=y(re,ne,le,ue,M,6,m[48]),ue=y(ue,re,ne,le,L,10,m[49]),le=y(le,ue,re,ne,ie,15,m[50]),ne=y(ne,le,ue,re,T,21,m[51]),re=y(re,ne,le,ue,V,6,m[52]),ue=y(ue,re,ne,le,D,10,m[53]),le=y(le,ue,re,ne,K,15,m[54]),ne=y(ne,le,ue,re,B,21,m[55]),re=y(re,ne,le,ue,z,6,m[56]),ue=y(ue,re,ne,le,de,10,m[57]),le=y(le,ue,re,ne,_,15,m[58]),ne=y(ne,le,ue,re,Y,21,m[59]),re=y(re,ne,le,ue,H,6,m[60]),ue=y(ue,re,ne,le,oe,10,m[61]),le=y(le,ue,re,ne,F,15,m[62]),ne=y(ne,le,ue,re,G,21,m[63]),I[0]=I[0]+re|0,I[1]=I[1]+ne|0,I[2]=I[2]+le|0,I[3]=I[3]+ue|0},_doFinalize:function(){var A=this._data,k=A.words,E=this._nDataBytes*8,j=A.sigBytes*8;k[j>>>5]|=128<<24-j%32;var N=o.floor(E/4294967296),I=E;k[(j+64>>>9<<4)+15]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k[(j+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,A.sigBytes=(k.length+1)*4,this._process();for(var M=this._hash,B=M.words,F=0;F<4;F++){var D=B[F];B[F]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return M},clone:function(){var A=h.clone.call(this);return A._hash=this._hash.clone(),A}});function b(A,k,E,j,N,I,M){var B=A+(k&E|~k&j)+N+M;return(B<<I|B>>>32-I)+k}function v(A,k,E,j,N,I,M){var B=A+(k&j|E&~j)+N+M;return(B<<I|B>>>32-I)+k}function w(A,k,E,j,N,I,M){var B=A+(k^E^j)+N+M;return(B<<I|B>>>32-I)+k}function y(A,k,E,j,N,I,M){var B=A+(E^(k|~j))+N+M;return(B<<I|B>>>32-I)+k}l.MD5=h._createHelper(x),l.HmacMD5=h._createHmacHelper(x)}(Math),i.MD5})}(np)),np.exports}var ap={exports:{}},l6;function qw(){return l6||(l6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.WordArray,f=l.Hasher,h=o.algo,p=[],m=h.SHA1=f.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,b){for(var v=this._hash.words,w=v[0],y=v[1],A=v[2],k=v[3],E=v[4],j=0;j<80;j++){if(j<16)p[j]=x[b+j]|0;else{var N=p[j-3]^p[j-8]^p[j-14]^p[j-16];p[j]=N<<1|N>>>31}var I=(w<<5|w>>>27)+E+p[j];j<20?I+=(y&A|~y&k)+1518500249:j<40?I+=(y^A^k)+1859775393:j<60?I+=(y&A|y&k|A&k)-1894007588:I+=(y^A^k)-899497514,E=k,k=A,A=y<<30|y>>>2,y=w,w=I}v[0]=v[0]+w|0,v[1]=v[1]+y|0,v[2]=v[2]+A|0,v[3]=v[3]+k|0,v[4]=v[4]+E|0},_doFinalize:function(){var x=this._data,b=x.words,v=this._nDataBytes*8,w=x.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=Math.floor(v/4294967296),b[(w+64>>>9<<4)+15]=v,x.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var x=f.clone.call(this);return x._hash=this._hash.clone(),x}});o.SHA1=f._createHelper(m),o.HmacSHA1=f._createHmacHelper(m)}(),i.SHA1})}(ap)),ap.exports}var ip={exports:{}},c6;function Ex(){return c6||(c6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){return function(o){var l=i,u=l.lib,f=u.WordArray,h=u.Hasher,p=l.algo,m=[],x=[];(function(){function w(E){for(var j=o.sqrt(E),N=2;N<=j;N++)if(!(E%N))return!1;return!0}function y(E){return(E-(E|0))*4294967296|0}for(var A=2,k=0;k<64;)w(A)&&(k<8&&(m[k]=y(o.pow(A,1/2))),x[k]=y(o.pow(A,1/3)),k++),A++})();var b=[],v=p.SHA256=h.extend({_doReset:function(){this._hash=new f.init(m.slice(0))},_doProcessBlock:function(w,y){for(var A=this._hash.words,k=A[0],E=A[1],j=A[2],N=A[3],I=A[4],M=A[5],B=A[6],F=A[7],D=0;D<64;D++){if(D<16)b[D]=w[y+D]|0;else{var H=b[D-15],T=(H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3,_=b[D-2],L=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;b[D]=T+b[D-7]+L+b[D-16]}var z=I&M^~I&B,G=k&E^k&j^E&j,K=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),oe=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),V=F+oe+z+x[D]+b[D],Y=K+G;F=B,B=M,M=I,I=N+V|0,N=j,j=E,E=k,k=V+Y|0}A[0]=A[0]+k|0,A[1]=A[1]+E|0,A[2]=A[2]+j|0,A[3]=A[3]+N|0,A[4]=A[4]+I|0,A[5]=A[5]+M|0,A[6]=A[6]+B|0,A[7]=A[7]+F|0},_doFinalize:function(){var w=this._data,y=w.words,A=this._nDataBytes*8,k=w.sigBytes*8;return y[k>>>5]|=128<<24-k%32,y[(k+64>>>9<<4)+14]=o.floor(A/4294967296),y[(k+64>>>9<<4)+15]=A,w.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var w=h.clone.call(this);return w._hash=this._hash.clone(),w}});l.SHA256=h._createHelper(v),l.HmacSHA256=h._createHmacHelper(v)}(Math),i.SHA256})}(ip)),ip.exports}var op={exports:{}},d6;function _B(){return d6||(d6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Ex())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.WordArray,f=o.algo,h=f.SHA256,p=f.SHA224=h.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=h._doFinalize.call(this);return m.sigBytes-=4,m}});o.SHA224=h._createHelper(p),o.HmacSHA224=h._createHmacHelper(p)}(),i.SHA224})}(op)),op.exports}var lp={exports:{}},u6;function Yw(){return u6||(u6=1,function(s,n){(function(i,o,l){s.exports=o(es(),pf())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.Hasher,f=o.x64,h=f.Word,p=f.WordArray,m=o.algo;function x(){return h.create.apply(h,arguments)}var b=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],v=[];(function(){for(var y=0;y<80;y++)v[y]=x()})();var w=m.SHA512=u.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(y,A){for(var k=this._hash.words,E=k[0],j=k[1],N=k[2],I=k[3],M=k[4],B=k[5],F=k[6],D=k[7],H=E.high,T=E.low,_=j.high,L=j.low,z=N.high,G=N.low,K=I.high,oe=I.low,V=M.high,Y=M.low,ie=B.high,de=B.low,re=F.high,ne=F.low,le=D.high,ue=D.low,Me=H,pe=T,Fe=_,Ce=L,ve=z,Be=G,Ue=K,Xe=oe,Re=V,Ge=Y,Oe=ie,Le=de,rt=re,Se=ne,qe=le,We=ue,Ke=0;Ke<80;Ke++){var Te,He,st=v[Ke];if(Ke<16)He=st.high=y[A+Ke*2]|0,Te=st.low=y[A+Ke*2+1]|0;else{var gt=v[Ke-15],ht=gt.high,bt=gt.low,Et=(ht>>>1|bt<<31)^(ht>>>8|bt<<24)^ht>>>7,kt=(bt>>>1|ht<<31)^(bt>>>8|ht<<24)^(bt>>>7|ht<<25),wt=v[Ke-2],Mt=wt.high,It=wt.low,zt=(Mt>>>19|It<<13)^(Mt<<3|It>>>29)^Mt>>>6,Bt=(It>>>19|Mt<<13)^(It<<3|Mt>>>29)^(It>>>6|Mt<<26),jt=v[Ke-7],U=jt.high,$=jt.low,P=v[Ke-16],q=P.high,X=P.low;Te=kt+$,He=Et+U+(Te>>>0<kt>>>0?1:0),Te=Te+Bt,He=He+zt+(Te>>>0<Bt>>>0?1:0),Te=Te+X,He=He+q+(Te>>>0<X>>>0?1:0),st.high=He,st.low=Te}var ce=Re&Oe^~Re&rt,te=Ge&Le^~Ge&Se,ye=Me&Fe^Me&ve^Fe&ve,J=pe&Ce^pe&Be^Ce&Be,me=(Me>>>28|pe<<4)^(Me<<30|pe>>>2)^(Me<<25|pe>>>7),fe=(pe>>>28|Me<<4)^(pe<<30|Me>>>2)^(pe<<25|Me>>>7),be=(Re>>>14|Ge<<18)^(Re>>>18|Ge<<14)^(Re<<23|Ge>>>9),se=(Ge>>>14|Re<<18)^(Ge>>>18|Re<<14)^(Ge<<23|Re>>>9),ge=b[Ke],je=ge.high,he=ge.low,ke=We+se,we=qe+be+(ke>>>0<We>>>0?1:0),ke=ke+te,we=we+ce+(ke>>>0<te>>>0?1:0),ke=ke+he,we=we+je+(ke>>>0<he>>>0?1:0),ke=ke+Te,we=we+He+(ke>>>0<Te>>>0?1:0),Ne=fe+J,ze=me+ye+(Ne>>>0<fe>>>0?1:0);qe=rt,We=Se,rt=Oe,Se=Le,Oe=Re,Le=Ge,Ge=Xe+ke|0,Re=Ue+we+(Ge>>>0<Xe>>>0?1:0)|0,Ue=ve,Xe=Be,ve=Fe,Be=Ce,Fe=Me,Ce=pe,pe=ke+Ne|0,Me=we+ze+(pe>>>0<ke>>>0?1:0)|0}T=E.low=T+pe,E.high=H+Me+(T>>>0<pe>>>0?1:0),L=j.low=L+Ce,j.high=_+Fe+(L>>>0<Ce>>>0?1:0),G=N.low=G+Be,N.high=z+ve+(G>>>0<Be>>>0?1:0),oe=I.low=oe+Xe,I.high=K+Ue+(oe>>>0<Xe>>>0?1:0),Y=M.low=Y+Ge,M.high=V+Re+(Y>>>0<Ge>>>0?1:0),de=B.low=de+Le,B.high=ie+Oe+(de>>>0<Le>>>0?1:0),ne=F.low=ne+Se,F.high=re+rt+(ne>>>0<Se>>>0?1:0),ue=D.low=ue+We,D.high=le+qe+(ue>>>0<We>>>0?1:0)},_doFinalize:function(){var y=this._data,A=y.words,k=this._nDataBytes*8,E=y.sigBytes*8;A[E>>>5]|=128<<24-E%32,A[(E+128>>>10<<5)+30]=Math.floor(k/4294967296),A[(E+128>>>10<<5)+31]=k,y.sigBytes=A.length*4,this._process();var j=this._hash.toX32();return j},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:1024/32});o.SHA512=u._createHelper(w),o.HmacSHA512=u._createHmacHelper(w)}(),i.SHA512})}(lp)),lp.exports}var cp={exports:{}},f6;function PB(){return f6||(f6=1,function(s,n){(function(i,o,l){s.exports=o(es(),pf(),Yw())})(Dr,function(i){return function(){var o=i,l=o.x64,u=l.Word,f=l.WordArray,h=o.algo,p=h.SHA512,m=h.SHA384=p.extend({_doReset:function(){this._hash=new f.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var x=p._doFinalize.call(this);return x.sigBytes-=16,x}});o.SHA384=p._createHelper(m),o.HmacSHA384=p._createHmacHelper(m)}(),i.SHA384})}(cp)),cp.exports}var dp={exports:{}},h6;function UB(){return h6||(h6=1,function(s,n){(function(i,o,l){s.exports=o(es(),pf())})(Dr,function(i){return function(o){var l=i,u=l.lib,f=u.WordArray,h=u.Hasher,p=l.x64,m=p.Word,x=l.algo,b=[],v=[],w=[];(function(){for(var k=1,E=0,j=0;j<24;j++){b[k+5*E]=(j+1)*(j+2)/2%64;var N=E%5,I=(2*k+3*E)%5;k=N,E=I}for(var k=0;k<5;k++)for(var E=0;E<5;E++)v[k+5*E]=E+(2*k+3*E)%5*5;for(var M=1,B=0;B<24;B++){for(var F=0,D=0,H=0;H<7;H++){if(M&1){var T=(1<<H)-1;T<32?D^=1<<T:F^=1<<T-32}M&128?M=M<<1^113:M<<=1}w[B]=m.create(F,D)}})();var y=[];(function(){for(var k=0;k<25;k++)y[k]=m.create()})();var A=x.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var k=this._state=[],E=0;E<25;E++)k[E]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(k,E){for(var j=this._state,N=this.blockSize/2,I=0;I<N;I++){var M=k[E+2*I],B=k[E+2*I+1];M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var F=j[I];F.high^=B,F.low^=M}for(var D=0;D<24;D++){for(var H=0;H<5;H++){for(var T=0,_=0,L=0;L<5;L++){var F=j[H+5*L];T^=F.high,_^=F.low}var z=y[H];z.high=T,z.low=_}for(var H=0;H<5;H++)for(var G=y[(H+4)%5],K=y[(H+1)%5],oe=K.high,V=K.low,T=G.high^(oe<<1|V>>>31),_=G.low^(V<<1|oe>>>31),L=0;L<5;L++){var F=j[H+5*L];F.high^=T,F.low^=_}for(var Y=1;Y<25;Y++){var T,_,F=j[Y],ie=F.high,de=F.low,re=b[Y];re<32?(T=ie<<re|de>>>32-re,_=de<<re|ie>>>32-re):(T=de<<re-32|ie>>>64-re,_=ie<<re-32|de>>>64-re);var ne=y[v[Y]];ne.high=T,ne.low=_}var le=y[0],ue=j[0];le.high=ue.high,le.low=ue.low;for(var H=0;H<5;H++)for(var L=0;L<5;L++){var Y=H+5*L,F=j[Y],Me=y[Y],pe=y[(H+1)%5+5*L],Fe=y[(H+2)%5+5*L];F.high=Me.high^~pe.high&Fe.high,F.low=Me.low^~pe.low&Fe.low}var F=j[0],Ce=w[D];F.high^=Ce.high,F.low^=Ce.low}},_doFinalize:function(){var k=this._data,E=k.words;this._nDataBytes*8;var j=k.sigBytes*8,N=this.blockSize*32;E[j>>>5]|=1<<24-j%32,E[(o.ceil((j+1)/N)*N>>>5)-1]|=128,k.sigBytes=E.length*4,this._process();for(var I=this._state,M=this.cfg.outputLength/8,B=M/8,F=[],D=0;D<B;D++){var H=I[D],T=H.high,_=H.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,F.push(_),F.push(T)}return new f.init(F,M)},clone:function(){for(var k=h.clone.call(this),E=k._state=this._state.slice(0),j=0;j<25;j++)E[j]=E[j].clone();return k}});l.SHA3=h._createHelper(A),l.HmacSHA3=h._createHmacHelper(A)}(Math),i.SHA3})}(dp)),dp.exports}var up={exports:{}},p6;function OB(){return p6||(p6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(o){var l=i,u=l.lib,f=u.WordArray,h=u.Hasher,p=l.algo,m=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=f.create([0,1518500249,1859775393,2400959708,2840853838]),y=f.create([1352829926,1548603684,1836072691,2053994217,0]),A=p.RIPEMD160=h.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,F){for(var D=0;D<16;D++){var H=F+D,T=B[H];B[H]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var _=this._hash.words,L=w.words,z=y.words,G=m.words,K=x.words,oe=b.words,V=v.words,Y,ie,de,re,ne,le,ue,Me,pe,Fe;le=Y=_[0],ue=ie=_[1],Me=de=_[2],pe=re=_[3],Fe=ne=_[4];for(var Ce,D=0;D<80;D+=1)Ce=Y+B[F+G[D]]|0,D<16?Ce+=k(ie,de,re)+L[0]:D<32?Ce+=E(ie,de,re)+L[1]:D<48?Ce+=j(ie,de,re)+L[2]:D<64?Ce+=N(ie,de,re)+L[3]:Ce+=I(ie,de,re)+L[4],Ce=Ce|0,Ce=M(Ce,oe[D]),Ce=Ce+ne|0,Y=ne,ne=re,re=M(de,10),de=ie,ie=Ce,Ce=le+B[F+K[D]]|0,D<16?Ce+=I(ue,Me,pe)+z[0]:D<32?Ce+=N(ue,Me,pe)+z[1]:D<48?Ce+=j(ue,Me,pe)+z[2]:D<64?Ce+=E(ue,Me,pe)+z[3]:Ce+=k(ue,Me,pe)+z[4],Ce=Ce|0,Ce=M(Ce,V[D]),Ce=Ce+Fe|0,le=Fe,Fe=pe,pe=M(Me,10),Me=ue,ue=Ce;Ce=_[1]+de+pe|0,_[1]=_[2]+re+Fe|0,_[2]=_[3]+ne+le|0,_[3]=_[4]+Y+ue|0,_[4]=_[0]+ie+Me|0,_[0]=Ce},_doFinalize:function(){var B=this._data,F=B.words,D=this._nDataBytes*8,H=B.sigBytes*8;F[H>>>5]|=128<<24-H%32,F[(H+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,B.sigBytes=(F.length+1)*4,this._process();for(var T=this._hash,_=T.words,L=0;L<5;L++){var z=_[L];_[L]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return T},clone:function(){var B=h.clone.call(this);return B._hash=this._hash.clone(),B}});function k(B,F,D){return B^F^D}function E(B,F,D){return B&F|~B&D}function j(B,F,D){return(B|~F)^D}function N(B,F,D){return B&D|F&~D}function I(B,F,D){return B^(F|~D)}function M(B,F){return B<<F|B>>>32-F}l.RIPEMD160=h._createHelper(A),l.HmacRIPEMD160=h._createHmacHelper(A)}(),i.RIPEMD160})}(up)),up.exports}var fp={exports:{}},m6;function Ix(){return m6||(m6=1,function(s,n){(function(i,o){s.exports=o(es())})(Dr,function(i){(function(){var o=i,l=o.lib,u=l.Base,f=o.enc,h=f.Utf8,p=o.algo;p.HMAC=u.extend({init:function(m,x){m=this._hasher=new m.init,typeof x=="string"&&(x=h.parse(x));var b=m.blockSize,v=b*4;x.sigBytes>v&&(x=m.finalize(x)),x.clamp();for(var w=this._oKey=x.clone(),y=this._iKey=x.clone(),A=w.words,k=y.words,E=0;E<b;E++)A[E]^=1549556828,k[E]^=909522486;w.sigBytes=y.sigBytes=v,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var x=this._hasher,b=x.finalize(m);x.reset();var v=x.finalize(this._oKey.clone().concat(b));return v}})})()})}(fp)),fp.exports}var hp={exports:{}},x6;function zB(){return x6||(x6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Ex(),Ix())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.Base,f=l.WordArray,h=o.algo,p=h.SHA256,m=h.HMAC,x=h.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,v){for(var w=this.cfg,y=m.create(w.hasher,b),A=f.create(),k=f.create([1]),E=A.words,j=k.words,N=w.keySize,I=w.iterations;E.length<N;){var M=y.update(v).finalize(k);y.reset();for(var B=M.words,F=B.length,D=M,H=1;H<I;H++){D=y.finalize(D),y.reset();for(var T=D.words,_=0;_<F;_++)B[_]^=T[_]}A.concat(M),j[0]++}return A.sigBytes=N*4,A}});o.PBKDF2=function(b,v,w){return x.create(w).compute(b,v)}}(),i.PBKDF2})}(hp)),hp.exports}var pp={exports:{}},v6;function Qo(){return v6||(v6=1,function(s,n){(function(i,o,l){s.exports=o(es(),qw(),Ix())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.Base,f=l.WordArray,h=o.algo,p=h.MD5,m=h.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,b){for(var v,w=this.cfg,y=w.hasher.create(),A=f.create(),k=A.words,E=w.keySize,j=w.iterations;k.length<E;){v&&y.update(v),v=y.update(x).finalize(b),y.reset();for(var N=1;N<j;N++)v=y.finalize(v),y.reset();A.concat(v)}return A.sigBytes=E*4,A}});o.EvpKDF=function(x,b,v){return m.create(v).compute(x,b)}}(),i.EvpKDF})}(pp)),pp.exports}var mp={exports:{}},g6;function Aa(){return g6||(g6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Qo())})(Dr,function(i){i.lib.Cipher||function(o){var l=i,u=l.lib,f=u.Base,h=u.WordArray,p=u.BufferedBlockAlgorithm,m=l.enc;m.Utf8;var x=m.Base64,b=l.algo,v=b.EvpKDF,w=u.Cipher=p.extend({cfg:f.extend(),createEncryptor:function(T,_){return this.create(this._ENC_XFORM_MODE,T,_)},createDecryptor:function(T,_){return this.create(this._DEC_XFORM_MODE,T,_)},init:function(T,_,L){this.cfg=this.cfg.extend(L),this._xformMode=T,this._key=_,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var _=this._doFinalize();return _},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(_){return typeof _=="string"?H:B}return function(_){return{encrypt:function(L,z,G){return T(z).encrypt(_,L,z,G)},decrypt:function(L,z,G){return T(z).decrypt(_,L,z,G)}}}}()});u.StreamCipher=w.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var y=l.mode={},A=u.BlockCipherMode=f.extend({createEncryptor:function(T,_){return this.Encryptor.create(T,_)},createDecryptor:function(T,_){return this.Decryptor.create(T,_)},init:function(T,_){this._cipher=T,this._iv=_}}),k=y.CBC=function(){var T=A.extend();T.Encryptor=T.extend({processBlock:function(L,z){var G=this._cipher,K=G.blockSize;_.call(this,L,z,K),G.encryptBlock(L,z),this._prevBlock=L.slice(z,z+K)}}),T.Decryptor=T.extend({processBlock:function(L,z){var G=this._cipher,K=G.blockSize,oe=L.slice(z,z+K);G.decryptBlock(L,z),_.call(this,L,z,K),this._prevBlock=oe}});function _(L,z,G){var K,oe=this._iv;oe?(K=oe,this._iv=o):K=this._prevBlock;for(var V=0;V<G;V++)L[z+V]^=K[V]}return T}(),E=l.pad={},j=E.Pkcs7={pad:function(T,_){for(var L=_*4,z=L-T.sigBytes%L,G=z<<24|z<<16|z<<8|z,K=[],oe=0;oe<z;oe+=4)K.push(G);var V=h.create(K,z);T.concat(V)},unpad:function(T){var _=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=_}};u.BlockCipher=w.extend({cfg:w.cfg.extend({mode:k,padding:j}),reset:function(){var T;w.reset.call(this);var _=this.cfg,L=_.iv,z=_.mode;this._xformMode==this._ENC_XFORM_MODE?T=z.createEncryptor:(T=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,L&&L.words):(this._mode=T.call(z,this,L&&L.words),this._mode.__creator=T)},_doProcessBlock:function(T,_){this._mode.processBlock(T,_)},_doFinalize:function(){var T,_=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(_.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),_.unpad(T)),T},blockSize:128/32});var N=u.CipherParams=f.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),I=l.format={},M=I.OpenSSL={stringify:function(T){var _,L=T.ciphertext,z=T.salt;return z?_=h.create([1398893684,1701076831]).concat(z).concat(L):_=L,_.toString(x)},parse:function(T){var _,L=x.parse(T),z=L.words;return z[0]==1398893684&&z[1]==1701076831&&(_=h.create(z.slice(2,4)),z.splice(0,4),L.sigBytes-=16),N.create({ciphertext:L,salt:_})}},B=u.SerializableCipher=f.extend({cfg:f.extend({format:M}),encrypt:function(T,_,L,z){z=this.cfg.extend(z);var G=T.createEncryptor(L,z),K=G.finalize(_),oe=G.cfg;return N.create({ciphertext:K,key:L,iv:oe.iv,algorithm:T,mode:oe.mode,padding:oe.padding,blockSize:T.blockSize,formatter:z.format})},decrypt:function(T,_,L,z){z=this.cfg.extend(z),_=this._parse(_,z.format);var G=T.createDecryptor(L,z).finalize(_.ciphertext);return G},_parse:function(T,_){return typeof T=="string"?_.parse(T,this):T}}),F=l.kdf={},D=F.OpenSSL={execute:function(T,_,L,z,G){if(z||(z=h.random(64/8)),G)var K=v.create({keySize:_+L,hasher:G}).compute(T,z);else var K=v.create({keySize:_+L}).compute(T,z);var oe=h.create(K.words.slice(_),L*4);return K.sigBytes=_*4,N.create({key:K,iv:oe,salt:z})}},H=u.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:D}),encrypt:function(T,_,L,z){z=this.cfg.extend(z);var G=z.kdf.execute(L,T.keySize,T.ivSize,z.salt,z.hasher);z.iv=G.iv;var K=B.encrypt.call(this,T,_,G.key,z);return K.mixIn(G),K},decrypt:function(T,_,L,z){z=this.cfg.extend(z),_=this._parse(_,z.format);var G=z.kdf.execute(L,T.keySize,T.ivSize,_.salt,z.hasher);z.iv=G.iv;var K=B.decrypt.call(this,T,_,G.key,z);return K}})}()})}(mp)),mp.exports}var xp={exports:{}},b6;function LB(){return b6||(b6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.mode.CFB=function(){var o=i.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize;l.call(this,u,f,p,h),this._prevBlock=u.slice(f,f+p)}}),o.Decryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=u.slice(f,f+p);l.call(this,u,f,p,h),this._prevBlock=m}});function l(u,f,h,p){var m,x=this._iv;x?(m=x.slice(0),this._iv=void 0):m=this._prevBlock,p.encryptBlock(m,0);for(var b=0;b<h;b++)u[f+b]^=m[b]}return o}(),i.mode.CFB})}(xp)),xp.exports}var vp={exports:{}},y6;function QB(){return y6||(y6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.mode.CTR=function(){var o=i.lib.BlockCipherMode.extend(),l=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._counter;m&&(x=this._counter=m.slice(0),this._iv=void 0);var b=x.slice(0);h.encryptBlock(b,0),x[p-1]=x[p-1]+1|0;for(var v=0;v<p;v++)u[f+v]^=b[v]}});return o.Decryptor=l,o}(),i.mode.CTR})}(vp)),vp.exports}var gp={exports:{}},w6;function HB(){return w6||(w6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var o=i.lib.BlockCipherMode.extend();function l(h){if((h>>24&255)===255){var p=h>>16&255,m=h>>8&255,x=h&255;p===255?(p=0,m===255?(m=0,x===255?x=0:++x):++m):++p,h=0,h+=p<<16,h+=m<<8,h+=x}else h+=1<<24;return h}function u(h){return(h[0]=l(h[0]))===0&&(h[1]=l(h[1])),h}var f=o.Encryptor=o.extend({processBlock:function(h,p){var m=this._cipher,x=m.blockSize,b=this._iv,v=this._counter;b&&(v=this._counter=b.slice(0),this._iv=void 0),u(v);var w=v.slice(0);m.encryptBlock(w,0);for(var y=0;y<x;y++)h[p+y]^=w[y]}});return o.Decryptor=f,o}(),i.mode.CTRGladman})}(gp)),gp.exports}var bp={exports:{}},A6;function GB(){return A6||(A6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.mode.OFB=function(){var o=i.lib.BlockCipherMode.extend(),l=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._keystream;m&&(x=this._keystream=m.slice(0),this._iv=void 0),h.encryptBlock(x,0);for(var b=0;b<p;b++)u[f+b]^=x[b]}});return o.Decryptor=l,o}(),i.mode.OFB})}(bp)),bp.exports}var yp={exports:{}},k6;function qB(){return k6||(k6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.mode.ECB=function(){var o=i.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(l,u){this._cipher.encryptBlock(l,u)}}),o.Decryptor=o.extend({processBlock:function(l,u){this._cipher.decryptBlock(l,u)}}),o}(),i.mode.ECB})}(yp)),yp.exports}var wp={exports:{}},j6;function YB(){return j6||(j6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.pad.AnsiX923={pad:function(o,l){var u=o.sigBytes,f=l*4,h=f-u%f,p=u+h-1;o.clamp(),o.words[p>>>2]|=h<<24-p%4*8,o.sigBytes+=h},unpad:function(o){var l=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=l}},i.pad.Ansix923})}(wp)),wp.exports}var Ap={exports:{}},N6;function VB(){return N6||(N6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.pad.Iso10126={pad:function(o,l){var u=l*4,f=u-o.sigBytes%u;o.concat(i.lib.WordArray.random(f-1)).concat(i.lib.WordArray.create([f<<24],1))},unpad:function(o){var l=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=l}},i.pad.Iso10126})}(Ap)),Ap.exports}var kp={exports:{}},C6;function $B(){return C6||(C6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.pad.Iso97971={pad:function(o,l){o.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(o,l)},unpad:function(o){i.pad.ZeroPadding.unpad(o),o.sigBytes--}},i.pad.Iso97971})}(kp)),kp.exports}var jp={exports:{}},S6;function WB(){return S6||(S6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.pad.ZeroPadding={pad:function(o,l){var u=l*4;o.clamp(),o.sigBytes+=u-(o.sigBytes%u||u)},unpad:function(o){for(var l=o.words,u=o.sigBytes-1,u=o.sigBytes-1;u>=0;u--)if(l[u>>>2]>>>24-u%4*8&255){o.sigBytes=u+1;break}}},i.pad.ZeroPadding})}(jp)),jp.exports}var Np={exports:{}},E6;function KB(){return E6||(E6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(Np)),Np.exports}var Cp={exports:{}},I6;function JB(){return I6||(I6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Aa())})(Dr,function(i){return function(o){var l=i,u=l.lib,f=u.CipherParams,h=l.enc,p=h.Hex,m=l.format;m.Hex={stringify:function(x){return x.ciphertext.toString(p)},parse:function(x){var b=p.parse(x);return f.create({ciphertext:b})}}}(),i.format.Hex})}(Cp)),Cp.exports}var Sp={exports:{}},B6;function XB(){return B6||(B6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Al(),kl(),Qo(),Aa())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.BlockCipher,f=o.algo,h=[],p=[],m=[],x=[],b=[],v=[],w=[],y=[],A=[],k=[];(function(){for(var N=[],I=0;I<256;I++)I<128?N[I]=I<<1:N[I]=I<<1^283;for(var M=0,B=0,I=0;I<256;I++){var F=B^B<<1^B<<2^B<<3^B<<4;F=F>>>8^F&255^99,h[M]=F,p[F]=M;var D=N[M],H=N[D],T=N[H],_=N[F]*257^F*16843008;m[M]=_<<24|_>>>8,x[M]=_<<16|_>>>16,b[M]=_<<8|_>>>24,v[M]=_;var _=T*16843009^H*65537^D*257^M*16843008;w[F]=_<<24|_>>>8,y[F]=_<<16|_>>>16,A[F]=_<<8|_>>>24,k[F]=_,M?(M=D^N[N[N[T^D]]],B^=N[N[B]]):M=B=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],j=f.AES=u.extend({_doReset:function(){var N;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,M=I.words,B=I.sigBytes/4,F=this._nRounds=B+6,D=(F+1)*4,H=this._keySchedule=[],T=0;T<D;T++)T<B?H[T]=M[T]:(N=H[T-1],T%B?B>6&&T%B==4&&(N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255]):(N=N<<8|N>>>24,N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255],N^=E[T/B|0]<<24),H[T]=H[T-B]^N);for(var _=this._invKeySchedule=[],L=0;L<D;L++){var T=D-L;if(L%4)var N=H[T];else var N=H[T-4];L<4||T<=4?_[L]=N:_[L]=w[h[N>>>24]]^y[h[N>>>16&255]]^A[h[N>>>8&255]]^k[h[N&255]]}}},encryptBlock:function(N,I){this._doCryptBlock(N,I,this._keySchedule,m,x,b,v,h)},decryptBlock:function(N,I){var M=N[I+1];N[I+1]=N[I+3],N[I+3]=M,this._doCryptBlock(N,I,this._invKeySchedule,w,y,A,k,p);var M=N[I+1];N[I+1]=N[I+3],N[I+3]=M},_doCryptBlock:function(N,I,M,B,F,D,H,T){for(var _=this._nRounds,L=N[I]^M[0],z=N[I+1]^M[1],G=N[I+2]^M[2],K=N[I+3]^M[3],oe=4,V=1;V<_;V++){var Y=B[L>>>24]^F[z>>>16&255]^D[G>>>8&255]^H[K&255]^M[oe++],ie=B[z>>>24]^F[G>>>16&255]^D[K>>>8&255]^H[L&255]^M[oe++],de=B[G>>>24]^F[K>>>16&255]^D[L>>>8&255]^H[z&255]^M[oe++],re=B[K>>>24]^F[L>>>16&255]^D[z>>>8&255]^H[G&255]^M[oe++];L=Y,z=ie,G=de,K=re}var Y=(T[L>>>24]<<24|T[z>>>16&255]<<16|T[G>>>8&255]<<8|T[K&255])^M[oe++],ie=(T[z>>>24]<<24|T[G>>>16&255]<<16|T[K>>>8&255]<<8|T[L&255])^M[oe++],de=(T[G>>>24]<<24|T[K>>>16&255]<<16|T[L>>>8&255]<<8|T[z&255])^M[oe++],re=(T[K>>>24]<<24|T[L>>>16&255]<<16|T[z>>>8&255]<<8|T[G&255])^M[oe++];N[I]=Y,N[I+1]=ie,N[I+2]=de,N[I+3]=re},keySize:256/32});o.AES=u._createHelper(j)}(),i.AES})}(Sp)),Sp.exports}var Ep={exports:{}},D6;function ZB(){return D6||(D6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Al(),kl(),Qo(),Aa())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.WordArray,f=l.BlockCipher,h=o.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],w=h.DES=f.extend({_doReset:function(){for(var E=this._key,j=E.words,N=[],I=0;I<56;I++){var M=p[I]-1;N[I]=j[M>>>5]>>>31-M%32&1}for(var B=this._subKeys=[],F=0;F<16;F++){for(var D=B[F]=[],H=x[F],I=0;I<24;I++)D[I/6|0]|=N[(m[I]-1+H)%28]<<31-I%6,D[4+(I/6|0)]|=N[28+(m[I+24]-1+H)%28]<<31-I%6;D[0]=D[0]<<1|D[0]>>>31;for(var I=1;I<7;I++)D[I]=D[I]>>>(I-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var T=this._invSubKeys=[],I=0;I<16;I++)T[I]=B[15-I]},encryptBlock:function(E,j){this._doCryptBlock(E,j,this._subKeys)},decryptBlock:function(E,j){this._doCryptBlock(E,j,this._invSubKeys)},_doCryptBlock:function(E,j,N){this._lBlock=E[j],this._rBlock=E[j+1],y.call(this,4,252645135),y.call(this,16,65535),A.call(this,2,858993459),A.call(this,8,16711935),y.call(this,1,1431655765);for(var I=0;I<16;I++){for(var M=N[I],B=this._lBlock,F=this._rBlock,D=0,H=0;H<8;H++)D|=b[H][((F^M[H])&v[H])>>>0];this._lBlock=F,this._rBlock=B^D}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,y.call(this,1,1431655765),A.call(this,8,16711935),A.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),E[j]=this._lBlock,E[j+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function y(E,j){var N=(this._lBlock>>>E^this._rBlock)&j;this._rBlock^=N,this._lBlock^=N<<E}function A(E,j){var N=(this._rBlock>>>E^this._lBlock)&j;this._lBlock^=N,this._rBlock^=N<<E}o.DES=f._createHelper(w);var k=h.TripleDES=f.extend({_doReset:function(){var E=this._key,j=E.words;if(j.length!==2&&j.length!==4&&j.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var N=j.slice(0,2),I=j.length<4?j.slice(0,2):j.slice(2,4),M=j.length<6?j.slice(0,2):j.slice(4,6);this._des1=w.createEncryptor(u.create(N)),this._des2=w.createEncryptor(u.create(I)),this._des3=w.createEncryptor(u.create(M))},encryptBlock:function(E,j){this._des1.encryptBlock(E,j),this._des2.decryptBlock(E,j),this._des3.encryptBlock(E,j)},decryptBlock:function(E,j){this._des3.decryptBlock(E,j),this._des2.encryptBlock(E,j),this._des1.decryptBlock(E,j)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=f._createHelper(k)}(),i.TripleDES})}(Ep)),Ep.exports}var Ip={exports:{}},M6;function eD(){return M6||(M6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Al(),kl(),Qo(),Aa())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.StreamCipher,f=o.algo,h=f.RC4=u.extend({_doReset:function(){for(var x=this._key,b=x.words,v=x.sigBytes,w=this._S=[],y=0;y<256;y++)w[y]=y;for(var y=0,A=0;y<256;y++){var k=y%v,E=b[k>>>2]>>>24-k%4*8&255;A=(A+w[y]+E)%256;var j=w[y];w[y]=w[A],w[A]=j}this._i=this._j=0},_doProcessBlock:function(x,b){x[b]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var x=this._S,b=this._i,v=this._j,w=0,y=0;y<4;y++){b=(b+1)%256,v=(v+x[b])%256;var A=x[b];x[b]=x[v],x[v]=A,w|=x[(x[b]+x[v])%256]<<24-y*8}return this._i=b,this._j=v,w}o.RC4=u._createHelper(h);var m=f.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)p.call(this)}});o.RC4Drop=u._createHelper(m)}(),i.RC4})}(Ip)),Ip.exports}var Bp={exports:{}},F6;function tD(){return F6||(F6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Al(),kl(),Qo(),Aa())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.Rabbit=u.extend({_doReset:function(){for(var v=this._key.words,w=this.cfg.iv,y=0;y<4;y++)v[y]=(v[y]<<8|v[y]>>>24)&16711935|(v[y]<<24|v[y]>>>8)&4278255360;var A=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],k=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var y=0;y<4;y++)b.call(this);for(var y=0;y<8;y++)k[y]^=A[y+4&7];if(w){var E=w.words,j=E[0],N=E[1],I=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,M=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,B=I>>>16|M&4294901760,F=M<<16|I&65535;k[0]^=I,k[1]^=B,k[2]^=M,k[3]^=F,k[4]^=I,k[5]^=B,k[6]^=M,k[7]^=F;for(var y=0;y<4;y++)b.call(this)}},_doProcessBlock:function(v,w){var y=this._X;b.call(this),h[0]=y[0]^y[5]>>>16^y[3]<<16,h[1]=y[2]^y[7]>>>16^y[5]<<16,h[2]=y[4]^y[1]>>>16^y[7]<<16,h[3]=y[6]^y[3]>>>16^y[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,v[w+A]^=h[A]},blockSize:128/32,ivSize:64/32});function b(){for(var v=this._X,w=this._C,y=0;y<8;y++)p[y]=w[y];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<p[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<p[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<p[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<p[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<p[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<p[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<p[6]>>>0?1:0)|0,this._b=w[7]>>>0<p[7]>>>0?1:0;for(var y=0;y<8;y++){var A=v[y]+w[y],k=A&65535,E=A>>>16,j=((k*k>>>17)+k*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[y]=j^N}v[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,v[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,v[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,v[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,v[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,v[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,v[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,v[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.Rabbit=u._createHelper(x)}(),i.Rabbit})}(Bp)),Bp.exports}var Dp={exports:{}},R6;function rD(){return R6||(R6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Al(),kl(),Qo(),Aa())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.RabbitLegacy=u.extend({_doReset:function(){var v=this._key.words,w=this.cfg.iv,y=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],A=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var k=0;k<4;k++)b.call(this);for(var k=0;k<8;k++)A[k]^=y[k+4&7];if(w){var E=w.words,j=E[0],N=E[1],I=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,M=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,B=I>>>16|M&4294901760,F=M<<16|I&65535;A[0]^=I,A[1]^=B,A[2]^=M,A[3]^=F,A[4]^=I,A[5]^=B,A[6]^=M,A[7]^=F;for(var k=0;k<4;k++)b.call(this)}},_doProcessBlock:function(v,w){var y=this._X;b.call(this),h[0]=y[0]^y[5]>>>16^y[3]<<16,h[1]=y[2]^y[7]>>>16^y[5]<<16,h[2]=y[4]^y[1]>>>16^y[7]<<16,h[3]=y[6]^y[3]>>>16^y[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,v[w+A]^=h[A]},blockSize:128/32,ivSize:64/32});function b(){for(var v=this._X,w=this._C,y=0;y<8;y++)p[y]=w[y];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<p[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<p[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<p[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<p[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<p[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<p[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<p[6]>>>0?1:0)|0,this._b=w[7]>>>0<p[7]>>>0?1:0;for(var y=0;y<8;y++){var A=v[y]+w[y],k=A&65535,E=A>>>16,j=((k*k>>>17)+k*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[y]=j^N}v[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,v[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,v[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,v[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,v[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,v[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,v[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,v[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.RabbitLegacy=u._createHelper(x)}(),i.RabbitLegacy})}(Dp)),Dp.exports}var Mp={exports:{}},T6;function sD(){return T6||(T6=1,function(s,n){(function(i,o,l){s.exports=o(es(),Al(),kl(),Qo(),Aa())})(Dr,function(i){return function(){var o=i,l=o.lib,u=l.BlockCipher,f=o.algo;const h=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function b(k,E){let j=E>>24&255,N=E>>16&255,I=E>>8&255,M=E&255,B=k.sbox[0][j]+k.sbox[1][N];return B=B^k.sbox[2][I],B=B+k.sbox[3][M],B}function v(k,E,j){let N=E,I=j,M;for(let B=0;B<h;++B)N=N^k.pbox[B],I=b(k,N)^I,M=N,N=I,I=M;return M=N,N=I,I=M,I=I^k.pbox[h],N=N^k.pbox[h+1],{left:N,right:I}}function w(k,E,j){let N=E,I=j,M;for(let B=h+1;B>1;--B)N=N^k.pbox[B],I=b(k,N)^I,M=N,N=I,I=M;return M=N,N=I,I=M,I=I^k.pbox[1],N=N^k.pbox[0],{left:N,right:I}}function y(k,E,j){for(let F=0;F<4;F++){k.sbox[F]=[];for(let D=0;D<256;D++)k.sbox[F][D]=m[F][D]}let N=0;for(let F=0;F<h+2;F++)k.pbox[F]=p[F]^E[N],N++,N>=j&&(N=0);let I=0,M=0,B=0;for(let F=0;F<h+2;F+=2)B=v(k,I,M),I=B.left,M=B.right,k.pbox[F]=I,k.pbox[F+1]=M;for(let F=0;F<4;F++)for(let D=0;D<256;D+=2)B=v(k,I,M),I=B.left,M=B.right,k.sbox[F][D]=I,k.sbox[F][D+1]=M;return!0}var A=f.Blowfish=u.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var k=this._keyPriorReset=this._key,E=k.words,j=k.sigBytes/4;y(x,E,j)}},encryptBlock:function(k,E){var j=v(x,k[E],k[E+1]);k[E]=j.left,k[E+1]=j.right},decryptBlock:function(k,E){var j=w(x,k[E],k[E+1]);k[E]=j.left,k[E+1]=j.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=u._createHelper(A)}(),i.Blowfish})}(Mp)),Mp.exports}(function(s,n){(function(i,o,l){s.exports=o(es(),pf(),FB(),RB(),Al(),TB(),kl(),qw(),Ex(),_B(),Yw(),PB(),UB(),OB(),Ix(),zB(),Qo(),Aa(),LB(),QB(),HB(),GB(),qB(),YB(),VB(),$B(),WB(),KB(),JB(),XB(),ZB(),eD(),tD(),rD(),sD())})(Dr,function(i){return i})})(Gw);var nD=Gw.exports;const aD=Cm(nD),Fp=y1(w1((s,n)=>({logs:[],addLog:(i,o,l=null,u=null)=>{const f={id:`LOG${Date.now()}`,timestamp:new Date().toISOString(),action:i,details:o,userId:l,userName:u,ipAddress:null};return s(h=>({logs:[f,...h.logs].slice(0,5e3)})),f},getLogsByAction:i=>n().logs.filter(o=>o.action===i),getLogsByUser:i=>n().logs.filter(o=>o.userId===i),getLogsByDateRange:(i,o)=>{const l=new Date(i);l.setHours(0,0,0,0);const u=new Date(o);return u.setHours(23,59,59,999),n().logs.filter(f=>{const h=new Date(f.timestamp);return h>=l&&h<=u})},getRecentLogs:(i=50)=>n().logs.slice(0,i),clearOldLogs:(i=30)=>{const o=new Date;o.setDate(o.getDate()-i),s(l=>({logs:l.logs.filter(u=>new Date(u.timestamp)>o)}))},exportLogs:(i=null,o=null)=>{let l=n().logs;return i&&o&&(l=n().getLogsByDateRange(i,o)),JSON.stringify(l,null,2)}}),{name:"audit-storage"})),Rp={LOGIN:"login",LOGOUT:"logout",LOGIN_FAILED:"login_failed"},iD=()=>{};var _6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft=function(s,n){if(!s)throw Tc(n)},Tc=function(s){return new Error("Firebase Database ("+Vw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(s){const n=[];let i=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?n[i++]=l:l<2048?(n[i++]=l>>6|192,n[i++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),n[i++]=l>>18|240,n[i++]=l>>12&63|128,n[i++]=l>>6&63|128,n[i++]=l&63|128):(n[i++]=l>>12|224,n[i++]=l>>6&63|128,n[i++]=l&63|128)}return n},oD=function(s){const n=[];let i=0,o=0;for(;i<s.length;){const l=s[i++];if(l<128)n[o++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];n[o++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],f=s[i++],h=s[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;n[o++]=String.fromCharCode(55296+(p>>10)),n[o++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],f=s[i++];n[o++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return n.join("")},Bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,h=f?s[l+1]:0,p=l+2<s.length,m=p?s[l+2]:0,x=u>>2,b=(u&3)<<4|h>>4;let v=(h&15)<<2|m>>6,w=m&63;p||(w=64,f||(v=64)),o.push(i[x],i[b],i[v],i[w])}return o.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray($w(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):oD(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const i=n?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],h=l<s.length?i[s.charAt(l)]:0;++l;const m=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||h==null||m==null||b==null)throw new lD;const v=u<<2|h>>4;if(o.push(v),m!==64){const w=h<<4&240|m>>2;if(o.push(w),b!==64){const y=m<<6&192|b;o.push(y)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class lD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(s){const n=$w(s);return Bx.encodeByteArray(n,!0)},ju=function(s){return Ww(s).replace(/\./g,"")},$3=function(s){try{return Bx.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(s){return Kw(void 0,s)}function Kw(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const i=n;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const i in n)!n.hasOwnProperty(i)||!dD(i)||(s[i]=Kw(s[i],n[i]));return s}function dD(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=()=>uD().__FIREBASE_DEFAULTS__,hD=()=>{if(typeof process>"u"||typeof _6>"u")return;const s=_6.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pD=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&$3(s[1]);return n&&JSON.parse(n)},Jw=()=>{try{return iD()||fD()||hD()||pD()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},mD=s=>{var n,i;return(i=(n=Jw())==null?void 0:n.emulatorHosts)==null?void 0:i[s]},xD=s=>{const n=mD(s);if(!n)return;const i=n.lastIndexOf(":");if(i<=0||i+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const o=parseInt(n.substring(i+1),10);return n[0]==="["?[n.substring(1,i-1),o]:[n.substring(0,i),o]},Xw=()=>{var s;return(s=Jw())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}wrapCallback(n){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(i):n(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vD(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=n||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ju(JSON.stringify(i)),ju(JSON.stringify(f)),""].join(".")}const Y0={};function bD(){const s={prod:[],emulator:[]};for(const n of Object.keys(Y0))Y0[n]?s.emulator.push(n):s.prod.push(n);return s}function yD(s){let n=document.getElementById(s),i=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),i=!0),{created:i,element:n}}let P6=!1;function wD(s,n){if(typeof window>"u"||typeof document>"u"||!Dx(window.location.host)||Y0[s]===n||Y0[s]||P6)return;Y0[s]=n;function i(v){return`__firebase__banner__${v}`}const o="__firebase__banner",u=bD().prod.length>0;function f(){const v=document.getElementById(o);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{P6=!0,f()},v}function x(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=yD(o),w=i("text"),y=document.getElementById(w)||document.createElement("span"),A=i("learnmore"),k=document.getElementById(A)||document.createElement("a"),E=i("preprendIcon"),j=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;h(N),x(k,A);const I=m();p(j,E),N.append(j,y,k,I),document.body.appendChild(N)}u?(y.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(AD())}function kD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jD(){return Vw.NODE_ADMIN===!0}function ND(){try{return typeof indexedDB=="object"}catch{return!1}}function CD(){return new Promise((s,n)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;n(((u=l.error)==null?void 0:u.message)||"")}}catch(i){n(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="FirebaseError";class L2 extends Error{constructor(n,i,o){super(i),this.code=n,this.customData=o,this.name=SD,Object.setPrototypeOf(this,L2.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eA.prototype.create)}}class eA{constructor(n,i,o){this.service=n,this.serviceName=i,this.errors=o}create(n,...i){const o=i[0]||{},l=`${this.service}/${n}`,u=this.errors[n],f=u?ED(u,o):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new L2(l,h,o)}}function ED(s,n){return s.replace(ID,(i,o)=>{const l=n[o];return l!=null?String(l):`<${o}?>`})}const ID=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s){return JSON.parse(s)}function aa(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(s){let n={},i={},o={},l="";try{const u=s.split(".");n=g2($3(u[0])||""),i=g2($3(u[1])||""),l=u[2],o=i.d||{},delete i.d}catch{}return{header:n,claims:i,data:o,signature:l}},BD=function(s){const n=tA(s),i=n.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},DD=function(s){const n=tA(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function vc(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function U6(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Nu(s,n,i){const o={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=n.call(i,s[l],l,s));return o}function Cu(s,n){if(s===n)return!0;const i=Object.keys(s),o=Object.keys(n);for(const l of i){if(!o.includes(l))return!1;const u=s[l],f=n[l];if(O6(u)&&O6(f)){if(!Cu(u,f))return!1}else if(u!==f)return!1}for(const l of o)if(!i.includes(l))return!1;return!0}function O6(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(s){const n=[];for(const[i,o]of Object.entries(s))Array.isArray(o)?o.forEach(l=>{n.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,i){i||(i=0);const o=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)o[b]=n.charCodeAt(i)<<24|n.charCodeAt(i+1)<<16|n.charCodeAt(i+2)<<8|n.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)o[b]=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],i+=4;for(let b=16;b<80;b++){const v=o[b-3]^o[b-8]^o[b-14]^o[b-16];o[b]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,x;for(let b=0;b<80;b++){b<40?b<20?(m=h^u&(f^h),x=1518500249):(m=u^f^h,x=1859775393):b<60?(m=u&f|h&(u|f),x=2400959708):(m=u^f^h,x=3395469782);const v=(l<<5|l>>>27)+m+p+x+o[b]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,i){if(n==null)return;i===void 0&&(i=n.length);const o=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=o;)this.compress_(n,l),l+=this.blockSize;if(typeof n=="string"){for(;l<i;)if(u[f]=n.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=n[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const n=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)n[o]=this.chain_[l]>>u&255,++o;return n}}function mf(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=function(s){const n=[];let i=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);if(l>=55296&&l<=56319){const u=l-55296;o++,ft(o<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(o)-56320;l=65536+(u<<10)+f}l<128?n[i++]=l:l<2048?(n[i++]=l>>6|192,n[i++]=l&63|128):l<65536?(n[i++]=l>>12|224,n[i++]=l>>6&63|128,n[i++]=l&63|128):(n[i++]=l>>18|240,n[i++]=l>>12&63|128,n[i++]=l>>6&63|128,n[i++]=l&63|128)}return n},xf=function(s){let n=0;for(let i=0;i<s.length;i++){const o=s.charCodeAt(i);o<128?n++:o<2048?n+=2:o>=55296&&o<=56319?(n+=4,i++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(s){return s&&s._delegate?s._delegate:s}class b2{constructor(n,i,o){this.name=n,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(n,i){this.name=n,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const i=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(i)){const o=new z2;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(n){const i=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),o=(n==null?void 0:n.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(PD(n))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});o.resolve(u)}catch{}}}}clearInstance(n=Zo){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Zo){return this.instances.has(n)}getOptions(n=Zo){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:i={}}=n,o=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);o===h&&f.resolve(l)}return l}onInit(n,i){const o=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(o)??new Set;l.add(n),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&n(u,o),()=>{l.delete(n)}}invokeOnInitCallbacks(n,i){const o=this.onInitCallbacks.get(i);if(o)for(const l of o)try{l(n,i)}catch{}}getOrInitializeService({instanceIdentifier:n,options:i={}}){let o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:_D(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null}normalizeInstanceIdentifier(n=Zo){return this.component?this.component.multipleInstances?n:Zo:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _D(s){return s===Zo?void 0:s}function PD(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const i=this.getProvider(n.name);if(i.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);i.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const i=new TD(n,this);return this.providers.set(n,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Js||(Js={}));const OD={debug:Js.DEBUG,verbose:Js.VERBOSE,info:Js.INFO,warn:Js.WARN,error:Js.ERROR,silent:Js.SILENT},zD=Js.INFO,LD={[Js.DEBUG]:"log",[Js.VERBOSE]:"log",[Js.INFO]:"info",[Js.WARN]:"warn",[Js.ERROR]:"error"},QD=(s,n,...i)=>{if(n<s.logLevel)return;const o=new Date().toISOString(),l=LD[n];if(l)console[l](`[${o}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class rA{constructor(n){this.name=n,this._logLevel=zD,this._logHandler=QD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Js))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?OD[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Js.DEBUG,...n),this._logHandler(this,Js.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Js.VERBOSE,...n),this._logHandler(this,Js.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Js.INFO,...n),this._logHandler(this,Js.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Js.WARN,...n),this._logHandler(this,Js.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Js.ERROR,...n),this._logHandler(this,Js.ERROR,...n)}}const HD=(s,n)=>n.some(i=>s instanceof i);let z6,L6;function GD(){return z6||(z6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qD(){return L6||(L6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,W3=new WeakMap,nA=new WeakMap,Tp=new WeakMap,Mx=new WeakMap;function YD(s){const n=new Promise((i,o)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(No(s.result)),l()},f=()=>{o(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return n.then(i=>{i instanceof IDBCursor&&sA.set(i,s)}).catch(()=>{}),Mx.set(n,s),n}function VD(s){if(W3.has(s))return;const n=new Promise((i,o)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});W3.set(s,n)}let K3={get(s,n,i){if(s instanceof IDBTransaction){if(n==="done")return W3.get(s);if(n==="objectStoreNames")return s.objectStoreNames||nA.get(s);if(n==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return No(s[n])},set(s,n,i){return s[n]=i,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function $D(s){K3=s(K3)}function WD(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...i){const o=s.call(_p(this),n,...i);return nA.set(o,n.sort?n.sort():[n]),No(o)}:qD().includes(s)?function(...n){return s.apply(_p(this),n),No(sA.get(this))}:function(...n){return No(s.apply(_p(this),n))}}function KD(s){return typeof s=="function"?WD(s):(s instanceof IDBTransaction&&VD(s),HD(s,GD())?new Proxy(s,K3):s)}function No(s){if(s instanceof IDBRequest)return YD(s);if(Tp.has(s))return Tp.get(s);const n=KD(s);return n!==s&&(Tp.set(s,n),Mx.set(n,s)),n}const _p=s=>Mx.get(s);function JD(s,n,{blocked:i,upgrade:o,blocking:l,terminated:u}={}){const f=indexedDB.open(s,n),h=No(f);return o&&f.addEventListener("upgradeneeded",p=>{o(No(f.result),p.oldVersion,p.newVersion,No(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const XD=["get","getKey","getAll","getAllKeys","count"],ZD=["put","add","delete","clear"],Pp=new Map;function Q6(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Pp.get(n))return Pp.get(n);const i=n.replace(/FromIndex$/,""),o=n!==i,l=ZD.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(l||XD.includes(i)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return o&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),l&&p.done]))[0]};return Pp.set(n,u),u}$D(s=>({...s,get:(n,i,o)=>Q6(n,i)||s.get(n,i,o),has:(n,i)=>!!Q6(n,i)||s.has(n,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tM(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function tM(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const J3="@firebase/app",H6="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new rA("@firebase/app"),rM="@firebase/app-compat",sM="@firebase/analytics-compat",nM="@firebase/analytics",aM="@firebase/app-check-compat",iM="@firebase/app-check",oM="@firebase/auth",lM="@firebase/auth-compat",cM="@firebase/database",dM="@firebase/data-connect",uM="@firebase/database-compat",fM="@firebase/functions",hM="@firebase/functions-compat",pM="@firebase/installations",mM="@firebase/installations-compat",xM="@firebase/messaging",vM="@firebase/messaging-compat",gM="@firebase/performance",bM="@firebase/performance-compat",yM="@firebase/remote-config",wM="@firebase/remote-config-compat",AM="@firebase/storage",kM="@firebase/storage-compat",jM="@firebase/firestore",NM="@firebase/ai",CM="@firebase/firestore-compat",SM="firebase",EM="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="[DEFAULT]",IM={[J3]:"fire-core",[rM]:"fire-core-compat",[nM]:"fire-analytics",[sM]:"fire-analytics-compat",[iM]:"fire-app-check",[aM]:"fire-app-check-compat",[oM]:"fire-auth",[lM]:"fire-auth-compat",[cM]:"fire-rtdb",[dM]:"fire-data-connect",[uM]:"fire-rtdb-compat",[fM]:"fire-fn",[hM]:"fire-fn-compat",[pM]:"fire-iid",[mM]:"fire-iid-compat",[xM]:"fire-fcm",[vM]:"fire-fcm-compat",[gM]:"fire-perf",[bM]:"fire-perf-compat",[yM]:"fire-rc",[wM]:"fire-rc-compat",[AM]:"fire-gcs",[kM]:"fire-gcs-compat",[jM]:"fire-fst",[CM]:"fire-fst-compat",[NM]:"fire-vertex","fire-js":"fire-js",[SM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,BM=new Map,Z3=new Map;function G6(s,n){try{s.container.addComponent(n)}catch(i){$i.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,i)}}function Eu(s){const n=s.name;if(Z3.has(n))return $i.debug(`There were multiple attempts to register component ${n}.`),!1;Z3.set(n,s);for(const i of Su.values())G6(i,s);for(const i of BM.values())G6(i,s);return!0}function DM(s,n){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(n)}function MM(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new eA("app","Firebase",FM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(n,i,o){this._isDeleted=!1,this._options={...n},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new b2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=EM;function aA(s,n={}){let i=s;typeof n!="object"&&(n={name:n});const o={name:X3,automaticDataCollectionEnabled:!0,...n},l=o.name;if(typeof l!="string"||!l)throw Co.create("bad-app-name",{appName:String(l)});if(i||(i=Xw()),!i)throw Co.create("no-options");const u=Su.get(l);if(u){if(Cu(i,u.options)&&Cu(o,u.config))return u;throw Co.create("duplicate-app",{appName:l})}const f=new UD(l);for(const p of Z3.values())f.addComponent(p);const h=new RM(i,o,f);return Su.set(l,h),h}function _M(s=X3){const n=Su.get(s);if(!n&&s===X3&&Xw())return aA();if(!n)throw Co.create("no-app",{appName:s});return n}function nc(s,n,i){let o=IM[s]??s;i&&(o+=`-${i}`);const l=o.match(/\s|\//),u=n.match(/\s|\//);if(l||u){const f=[`Unable to register library "${o}" with version "${n}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${n}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}Eu(new b2(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebase-heartbeat-database",UM=1,y2="firebase-heartbeat-store";let Up=null;function iA(){return Up||(Up=JD(PM,UM,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(y2)}catch(i){console.warn(i)}}}}).catch(s=>{throw Co.create("idb-open",{originalErrorMessage:s.message})})),Up}async function OM(s){try{const i=(await iA()).transaction(y2),o=await i.objectStore(y2).get(oA(s));return await i.done,o}catch(n){if(n instanceof L2)$i.warn(n.message);else{const i=Co.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});$i.warn(i.message)}}}async function q6(s,n){try{const o=(await iA()).transaction(y2,"readwrite");await o.objectStore(y2).put(n,oA(s)),await o.done}catch(i){if(i instanceof L2)$i.warn(i.message);else{const o=Co.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});$i.warn(o.message)}}}function oA(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1024,LM=30;class QM{constructor(n){this.container=n,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GM(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var n,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Y6();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>LM){const f=qM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){$i.warn(o)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Y6(),{heartbeatsToSend:o,unsentEntries:l}=HM(this._heartbeatsCache.heartbeats),u=ju(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return $i.warn(i),""}}}function Y6(){return new Date().toISOString().substring(0,10)}function HM(s,n=zM){const i=[];let o=s.slice();for(const l of s){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),V6(i)>n){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),V6(i)>n){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class GM{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ND()?CD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OM(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const o=await this.read();return q6(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const o=await this.read();return q6(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function V6(s){return ju(JSON.stringify({version:2,heartbeats:s})).length}function qM(s){if(s.length===0)return-1;let n=0,i=s[0].date;for(let o=1;o<s.length;o++)s[o].date<i&&(i=s[o].date,n=o);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(s){Eu(new b2("platform-logger",n=>new eM(n),"PRIVATE")),Eu(new b2("heartbeat",n=>new QM(n),"PRIVATE")),nc(J3,H6,s),nc(J3,H6,"esm2020"),nc("fire-js","")}YM("");var VM="firebase",$M="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nc(VM,$M,"app");var $6={};const W6="@firebase/database",K6="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lA="";function WM(s){lA=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,i){i==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),aa(i))}get(n){const i=this.domStorage_.getItem(this.prefixedName_(n));return i==null?null:g2(i)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,i){i==null?delete this.cache_[n]:this.cache_[n]=i}get(n){return Ei(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new KM(n)}}catch{}return new JM},nl=cA("localStorage"),XM=cA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new rA("@firebase/database"),ZM=function(){let s=1;return function(){return s++}}(),dA=function(s){const n=RD(s),i=new FD;i.update(n);const o=i.digest();return Bx.encodeByteArray(o)},Q2=function(...s){let n="";for(let i=0;i<s.length;i++){const o=s[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?n+=Q2.apply(null,o):typeof o=="object"?n+=aa(o):n+=o,n+=" "}return n};let V0=null,J6=!0;const eF=function(s,n){ft(!0,"Can't turn on custom loggers persistently."),ac.logLevel=Js.VERBOSE,V0=ac.log.bind(ac)},Ba=function(...s){if(J6===!0&&(J6=!1,V0===null&&XM.get("logging_enabled")===!0&&eF()),V0){const n=Q2.apply(null,s);V0(n)}},H2=function(s){return function(...n){Ba(s,...n)}},em=function(...s){const n="FIREBASE INTERNAL ERROR: "+Q2(...s);ac.error(n)},Wi=function(...s){const n=`FIREBASE FATAL ERROR: ${Q2(...s)}`;throw ac.error(n),new Error(n)},a1=function(...s){const n="FIREBASE WARNING: "+Q2(...s);ac.warn(n)},tF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&a1("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Fx=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},rF=function(s){if(document.readyState==="complete")s();else{let n=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},gc="[MIN_NAME]",xl="[MAX_NAME]",Nl=function(s,n){if(s===n)return 0;if(s===gc||n===xl)return-1;if(n===gc||s===xl)return 1;{const i=X6(s),o=X6(n);return i!==null?o!==null?i-o===0?s.length-n.length:i-o:-1:o!==null?1:s<n?-1:1}},sF=function(s,n){return s===n?0:s<n?-1:1},N0=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+aa(n))},Rx=function(s){if(typeof s!="object"||s===null)return aa(s);const n=[];for(const o in s)n.push(o);n.sort();let i="{";for(let o=0;o<n.length;o++)o!==0&&(i+=","),i+=aa(n[o]),i+=":",i+=Rx(s[n[o]]);return i+="}",i},uA=function(s,n){const i=s.length;if(i<=n)return[s];const o=[];for(let l=0;l<i;l+=n)l+n>i?o.push(s.substring(l,i)):o.push(s.substring(l,l+n));return o};function Ra(s,n){for(const i in s)s.hasOwnProperty(i)&&n(i,s[i])}const fA=function(s){ft(!Fx(s),"Invalid JSON number");const n=11,i=52,o=(1<<n-1)-1;let l,u,f,h,p;s===0?(u=0,f=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(s)/Math.LN2),o),u=h+o,f=Math.round(s*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-o-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=n;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const x=m.join("");let b="";for(p=0;p<64;p+=8){let v=parseInt(x.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),b=b+v}return b.toLowerCase()},nF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iF(s,n){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const o=new Error(s+" at "+n._path.toString()+": "+i);return o.code=s.toUpperCase(),o}const oF=new RegExp("^-?(0*)\\d{1,10}$"),lF=-2147483648,cF=2147483647,X6=function(s){if(oF.test(s)){const n=Number(s);if(n>=lF&&n<=cF)return n}return null},_c=function(s){try{s()}catch(n){setTimeout(()=>{const i=n.stack||"";throw a1("Exception was thrown by user callback.",i),n},Math.floor(0))}},dF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$0=function(s,n){const i=setTimeout(s,n);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(n,i){this.appCheckProvider=i,this.appName=n.name,MM(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(i,o):i(null)},0)})}addTokenChangeListener(n){var i;(i=this.appCheckProvider)==null||i.get().then(o=>o.addTokenListener(n))}notifyForInvalidToken(){a1(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(n,i,o){this.appName_=n,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ba("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(i,o):i(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(i=>i.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(i=>i.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',a1(n)}}class $d{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}$d.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="5",hA="v",pA="s",mA="r",xA="f",vA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gA="ls",bA="p",tm="ac",yA="websocket",wA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(n,i,o,l,u=!1,f="",h=!1,p=!1,m=null){this.secure=i,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&nl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${i}`}}function hF(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function kA(s,n,i){ft(typeof n=="string","typeof type must == string"),ft(typeof i=="object","typeof params must == object");let o;if(n===yA)o=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===wA)o=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);hF(s)&&(i.ns=s.namespace);const l=[];return Ra(i,(u,f)=>{l.push(u+"="+f)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.counters_={}}incrementCounter(n,i=1){Ei(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=i}get(){return cD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op={},zp={};function _x(s){const n=s.toString();return Op[n]||(Op[n]=new pF),Op[n]}function mF(s,n){const i=s.toString();return zp[i]||(zp[i]=n()),zp[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,i){this.closeAfterResponse=n,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,i){for(this.pendingResponses[n]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&_c(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="start",vF="close",gF="pLPCommand",bF="pRTLPCB",jA="id",NA="pw",CA="ser",yF="cb",wF="seg",AF="ts",kF="d",jF="dframe",SA=1870,EA=30,NF=SA-EA,CF=25e3,SF=3e4;class Kl{constructor(n,i,o,l,u,f,h){this.connId=n,this.repoInfo=i,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=H2(n),this.stats_=_x(i),this.urlFn=p=>(this.appCheckToken&&(p[tm]=this.appCheckToken),kA(i,wA,p))}open(n,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new xF(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(SF)),rF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Px((...u)=>{const[f,h,p,m,x]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Z6)this.id=h,this.password=p;else if(f===vF)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[Z6]="t",o[CA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[yF]=this.scriptTagHolder.uniqueCallbackIdentifier),o[hA]=Tx,this.transportSessionId&&(o[pA]=this.transportSessionId),this.lastSessionId&&(o[gA]=this.lastSessionId),this.applicationId&&(o[bA]=this.applicationId),this.appCheckToken&&(o[tm]=this.appCheckToken),typeof location<"u"&&location.hostname&&vA.test(location.hostname)&&(o[mA]=xA);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kl.forceAllow_=!0}static forceDisallow(){Kl.forceDisallow_=!0}static isAvailable(){return Kl.forceAllow_?!0:!Kl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nF()&&!aF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const i=aa(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Ww(i),l=uA(o,NF);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(n,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[jF]="t",o[jA]=n,o[NA]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const i=aa(n).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Px{constructor(n,i,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZM(),window[gF+this.uniqueCallbackIdentifier]=n,window[bF+this.uniqueCallbackIdentifier]=i,this.myIFrame=Px.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){Ba("frame writing exception"),h.stack&&Ba(h.stack),Ba(h)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ba("No IE domain setting required")}catch{const o=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,i){for(this.myID=n,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[jA]=this.myID,n[NA]=this.myPW,n[CA]=this.currentSerial;let i=this.urlFn(n),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EA+o.length<=SA;){const f=this.pendingSegs.shift();o=o+"&"+wF+l+"="+f.seg+"&"+AF+l+"="+f.ts+"&"+kF+l+"="+f.d,l++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(n,i,o){this.pendingSegs.push({seg:n,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(n,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(o,Math.floor(CF)),u=()=>{clearTimeout(l),o()};this.addTag(n,u)}addTag(n,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=n,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{Ba("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=16384,IF=45e3;let Iu=null;typeof MozWebSocket<"u"?Iu=MozWebSocket:typeof WebSocket<"u"&&(Iu=WebSocket);class ri{constructor(n,i,o,l,u,f,h){this.connId=n,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=H2(this.connId),this.stats_=_x(i),this.connURL=ri.connectionURL_(i,f,h,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,o,l,u){const f={};return f[hA]=Tx,typeof location<"u"&&location.hostname&&vA.test(location.hostname)&&(f[mA]=xA),i&&(f[pA]=i),o&&(f[gA]=o),l&&(f[tm]=l),u&&(f[bA]=u),kA(n,yA,f)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nl.set("previous_websocket_failure",!0);try{let o;jD(),this.mySock=new Iu(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){ri.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(n=!0)}return!n&&Iu!==null&&!ri.forceDisallow_}static previouslyFailed(){return nl.isInMemoryStorage||nl.get("previous_websocket_failure")===!0}markConnectionHealthy(){nl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=g2(i);this.onMessage(o)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(ft(this.frames===null,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(n){this.resetKeepAlive();const i=aa(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=uA(i,EF);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(IF))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ri.responsesRequiredToBeHealthy=2;ri.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{static get ALL_TRANSPORTS(){return[Kl,ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const i=ri&&ri.isAvailable();let o=i&&!ri.previouslyFailed();if(n.webSocketOnly&&(i||a1("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ri];else{const l=this.transports_=[];for(const u of w2.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);w2.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}w2.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=6e4,DF=5e3,MF=10*1024,FF=100*1024,Lp="t",e8="d",RF="s",t8="r",TF="e",r8="o",s8="a",n8="n",a8="p",_F="h";class PF{constructor(n,i,o,l,u,f,h,p,m,x){this.id=n,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=H2("c:"+this.id+":"),this.transportManager_=new w2(i),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const l=n.healthyTimeout||0;l>0&&(this.healthyTimeout_=$0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return i=>{n===this.conn_?this.onConnectionLost_(i):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return i=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(i):n===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(n){const i={t:"d",d:n};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Lp in n){const i=n[Lp];i===s8?this.upgradeIfSecondaryHealthy_():i===t8?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===r8&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const i=N0("t",n),o=N0("d",n);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:a8,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:s8,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:n8,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const i=N0("t",n),o=N0("d",n);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const i=N0(Lp,n);if(e8 in n){const o=n[e8];if(i===_F){const l={...o};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===n8){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===RF?this.onConnectionShutdown_(o):i===t8?this.onReset_(o):i===TF?em("Server Error: "+o):i===r8?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):em("Unknown control packet command: "+i)}}onHandshake_(n){const i=n.ts,o=n.v,l=n.h;this.sessionId=n.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Tx!==o&&a1("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),$0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BF))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,i){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:a8,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{put(n,i,o,l){}merge(n,i,o,l){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,i,o){}onDisconnectMerge(n,i,o){}onDisconnectCancel(n,i){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(n){this.allowedEvents_=n,this.listeners_={},ft(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...i){if(Array.isArray(this.listeners_[n])){const o=[...this.listeners_[n]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,i)}}on(n,i,o){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:i,context:o});const l=this.getInitialEvent(n);l&&i.apply(o,l)}off(n,i,o){this.validateEventType_(n);const l=this.listeners_[n]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!o||o===l[u].context)){l.splice(u,1);return}}validateEventType_(n){ft(this.allowedEvents_.find(i=>i===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends BA{static getInstance(){return new Bu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return ft(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=32,o8=768;class _s{constructor(n,i){if(i===void 0){this.pieces_=n.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=i}toString(){let n="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(n+="/"+this.pieces_[i]);return n||"/"}}function ps(){return new _s("")}function _r(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Mo(s){return s.pieces_.length-s.pieceNum_}function Xs(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new _s(s.pieces_,n)}function Ux(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function UF(s){let n="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[i])));return n||"/"}function A2(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function DA(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)n.push(s.pieces_[i]);return new _s(n,0)}function _n(s,n){const i=[];for(let o=s.pieceNum_;o<s.pieces_.length;o++)i.push(s.pieces_[o]);if(n instanceof _s)for(let o=n.pieceNum_;o<n.pieces_.length;o++)i.push(n.pieces_[o]);else{const o=n.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&i.push(o[l])}return new _s(i,0)}function Qr(s){return s.pieceNum_>=s.pieces_.length}function s1(s,n){const i=_r(s),o=_r(n);if(i===null)return n;if(i===o)return s1(Xs(s),Xs(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function OF(s,n){const i=A2(s,0),o=A2(n,0);for(let l=0;l<i.length&&l<o.length;l++){const u=Nl(i[l],o[l]);if(u!==0)return u}return i.length===o.length?0:i.length<o.length?-1:1}function Ox(s,n){if(Mo(s)!==Mo(n))return!1;for(let i=s.pieceNum_,o=n.pieceNum_;i<=s.pieces_.length;i++,o++)if(s.pieces_[i]!==n.pieces_[o])return!1;return!0}function O1(s,n){let i=s.pieceNum_,o=n.pieceNum_;if(Mo(s)>Mo(n))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==n.pieces_[o])return!1;++i,++o}return!0}class zF{constructor(n,i){this.errorPrefix_=i,this.parts_=A2(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=xf(this.parts_[o]);MA(this)}}function LF(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=xf(n),MA(s)}function QF(s){const n=s.parts_.pop();s.byteLength_-=xf(n),s.parts_.length>0&&(s.byteLength_-=1)}function MA(s){if(s.byteLength_>o8)throw new Error(s.errorPrefix_+"has a key path longer than "+o8+" bytes ("+s.byteLength_+").");if(s.parts_.length>i8)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+i8+") or object contains a cycle "+el(s))}function el(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends BA{static getInstance(){return new zx}constructor(){super(["visible"]);let n,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[n];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(n){return ft(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=1e3,HF=60*5*1e3,l8=30*1e3,GF=1.3,qF=3e4,YF="server_kill",c8=3;class Hi extends IA{constructor(n,i,o,l,u,f,h,p){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Hi.nextPersistentConnectionId_++,this.log_=H2("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=C0,this.maxReconnectDelay_=HF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zx.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Bu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,o){const l=++this.requestNumber_,u={r:l,a:n,b:i};this.log_(aa(u)),ft(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),o&&(this.requestCBHash_[l]=o)}get(n){this.initConnection_();const i=new z2,l={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(n,i,o,l){this.initConnection_();const u=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),ft(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ft(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:n,tag:o};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(n){const i=n.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const u={p:o},f="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,m=h.s;Hi.warnOnListenWarnings_(p,i),(this.listens.get(o)&&this.listens.get(o).get(l))===n&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(o,l),n.onComplete&&n.onComplete(m,p))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Ei(n,"w")){const o=vc(n,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();a1(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||DD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=l8)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=BD(n)?"auth":"gauth",o={cred:n};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const u=l.s,f=l.d||"error";this.authToken_===n&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,o=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(n,i){const o=n._path.toString(),l=n._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),ft(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,n._queryObject,i)}sendUnlisten_(n,i,o,l){this.log_("Unlisten on "+n+" for "+i);const u={p:n},f="n";l&&(u.q=o,u.t=l),this.sendRequest(f,u)}onDisconnectPut(n,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:o})}onDisconnectMerge(n,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:o})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,o,l){const u={p:i,d:o};this.log_("onDisconnect "+n,u),this.sendRequest(n,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(n,i,o,l){this.putInternal("p",n,i,o,l)}merge(n,i,o,l){this.putInternal("m",n,i,o,l)}putInternal(n,i,o,l,u){this.initConnection_();const f={p:i,d:o};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:n,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,l=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const u=o.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+aa(n));const i=n.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):em("Unrecognized action received from server: "+aa(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){ft(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=C0,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=C0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qF&&(this.reconnectDelay_=C0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Hi.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,o())},m=function(b){ft(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:p,sendRequest:m};const x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,v]=await Promise.all([this.authTokenProvider_.getToken(x),this.appCheckTokenProvider_.getToken(x)]);f?Ba("getToken() completed but was canceled"):(Ba("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=v&&v.token,h=new PF(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,o,w=>{a1(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(YF)},u))}catch(b){this.log_("Failed to get token: "+b),f||(this.repoInfo_.nodeAdmin&&a1(b),p())}}}interrupt(n){Ba("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ba("Resuming connection for reason: "+n),delete this.interruptReasons_[n],U6(this.interruptReasons_)&&(this.reconnectDelay_=C0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let o;i?o=i.map(u=>Rx(u)).join("$"):o="default";const l=this.removeListen_(n,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(n,i){const o=new _s(n).toString();let l;if(this.listens.has(o)){const u=this.listens.get(o);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(n,i){Ba("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=c8&&(this.reconnectDelay_=l8,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ba("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=c8&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";n["sdk."+i+"."+lA.replace(/\./g,"-")]=1,Zw()?n["framework.cordova"]=1:kD()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Bu.getInstance().currentlyOnline();return U6(this.interruptReasons_)&&n}}Hi.nextPersistentConnectionId_=0;Hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(n,i){this.name=n,this.node=i}static Wrap(n,i){return new Pr(n,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,i){const o=new Pr(gc,n),l=new Pr(gc,i);return this.compare(o,l)!==0}minPost(){return Pr.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;class FA extends vf{static get __EMPTY_NODE(){return Dd}static set __EMPTY_NODE(n){Dd=n}compare(n,i){return Nl(n.name,i.name)}isDefinedOn(n){throw Tc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,i){return!1}minPost(){return Pr.MIN}maxPost(){return new Pr(xl,Dd)}makePost(n,i){return ft(typeof n=="string","KeyIndex indexValue must always be a string."),new Pr(n,Dd)}toString(){return".key"}}const ic=new FA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(n,i,o,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=i?o(n.key,i):1,l&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(n.key,n.value):i={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ga{constructor(n,i,o,l,u){this.key=n,this.value=i,this.color=o??ga.RED,this.left=l??h1.EMPTY_NODE,this.right=u??h1.EMPTY_NODE}copy(n,i,o,l,u){return new ga(n??this.key,i??this.value,o??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,o){let l=this;const u=o(n,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(n,i,o),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(n,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return h1.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let o,l;if(o=this,i(n,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(n,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(n,o.key)===0){if(o.right.isEmpty())return h1.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(n,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ga.RED=!0;ga.BLACK=!1;class VF{copy(n,i,o,l,u){return this}insert(n,i,o){return new ga(n,i,null)}remove(n,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class h1{constructor(n,i=h1.EMPTY_NODE){this.comparator_=n,this.root_=i}insert(n,i){return new h1(this.comparator_,this.root_.insert(n,i,this.comparator_).copy(null,null,ga.BLACK,null,null))}remove(n){return new h1(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ga.BLACK,null,null))}get(n){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(n,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(n){let i,o=this.root_,l=null;for(;!o.isEmpty();)if(i=this.comparator_(n,o.key),i===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Md(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,i){return new Md(this.root_,n,this.comparator_,!1,i)}getReverseIteratorFrom(n,i){return new Md(this.root_,n,this.comparator_,!0,i)}getReverseIterator(n){return new Md(this.root_,null,this.comparator_,!0,n)}}h1.EMPTY_NODE=new VF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(s,n){return Nl(s.name,n.name)}function Lx(s,n){return Nl(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm;function WF(s){rm=s}const RA=function(s){return typeof s=="number"?"number:"+fA(s):"string:"+s},TA=function(s){if(s.isLeafNode()){const n=s.val();ft(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Ei(n,".sv"),"Priority must be a string or number.")}else ft(s===rm||s.isEmpty(),"priority of unexpected type.");ft(s===rm||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d8;class xa{static set __childrenNodeConstructor(n){d8=n}static get __childrenNodeConstructor(){return d8}constructor(n,i=xa.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,ft(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new xa(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:xa.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Qr(n)?this:_r(n)===".priority"?this.priorityNode_:xa.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:xa.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const o=_r(n);return o===null?i:i.isEmpty()&&o!==".priority"?this:(ft(o!==".priority"||Mo(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,xa.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xs(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+RA(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",i==="number"?n+=fA(this.value_):n+=this.value_,this.lazyHash_=dA(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===xa.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof xa.__childrenNodeConstructor?-1:(ft(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,o=typeof this.value_,l=xa.VALUE_TYPE_ORDER.indexOf(i),u=xa.VALUE_TYPE_ORDER.indexOf(o);return ft(l>=0,"Unknown leaf type: "+i),ft(u>=0,"Unknown leaf type: "+o),l===u?o==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}xa.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _A,PA;function KF(s){_A=s}function JF(s){PA=s}class XF extends vf{compare(n,i){const o=n.node.getPriority(),l=i.node.getPriority(),u=o.compareTo(l);return u===0?Nl(n.name,i.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,i){return!n.getPriority().equals(i.getPriority())}minPost(){return Pr.MIN}maxPost(){return new Pr(xl,new xa("[PRIORITY-POST]",PA))}makePost(n,i){const o=_A(n);return new Pr(i,new xa("[PRIORITY-POST]",o))}toString(){return".priority"}}const Pn=new XF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=Math.log(2);class eR{constructor(n){const i=u=>parseInt(Math.log(u)/ZF,10),o=u=>parseInt(Array(u+1).join("1"),2);this.count=i(n+1),this.current_=this.count-1;const l=o(this.count);this.bits_=n+1&l}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Du=function(s,n,i,o){s.sort(n);const l=function(p,m){const x=m-p;let b,v;if(x===0)return null;if(x===1)return b=s[p],v=i?i(b):b,new ga(v,b.node,ga.BLACK,null,null);{const w=parseInt(x/2,10)+p,y=l(p,w),A=l(w+1,m);return b=s[w],v=i?i(b):b,new ga(v,b.node,ga.BLACK,y,A)}},u=function(p){let m=null,x=null,b=s.length;const v=function(y,A){const k=b-y,E=b;b-=y;const j=l(k+1,E),N=s[k],I=i?i(N):N;w(new ga(I,N.node,A,null,j))},w=function(y){m?(m.left=y,m=y):(x=y,m=y)};for(let y=0;y<p.count;++y){const A=p.nextBitIsOne(),k=Math.pow(2,p.count-(y+1));A?v(k,ga.BLACK):(v(k,ga.BLACK),v(k,ga.RED))}return x},f=new eR(s.length),h=u(f);return new h1(o||n,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp;const Pl={};class zi{static get Default(){return ft(Pl&&Pn,"ChildrenNode.ts has not been loaded"),Qp=Qp||new zi({".priority":Pl},{".priority":Pn}),Qp}constructor(n,i){this.indexes_=n,this.indexSet_=i}get(n){const i=vc(this.indexes_,n);if(!i)throw new Error("No index defined for "+n);return i instanceof h1?i:null}hasIndex(n){return Ei(this.indexSet_,n.toString())}addIndex(n,i){ft(n!==ic,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const u=i.getIterator(Pr.Wrap);let f=u.getNext();for(;f;)l=l||n.isDefinedOn(f.node),o.push(f),f=u.getNext();let h;l?h=Du(o,n.getCompare()):h=Pl;const p=n.toString(),m={...this.indexSet_};m[p]=n;const x={...this.indexes_};return x[p]=h,new zi(x,m)}addToIndexes(n,i){const o=Nu(this.indexes_,(l,u)=>{const f=vc(this.indexSet_,u);if(ft(f,"Missing index implementation for "+u),l===Pl)if(f.isDefinedOn(n.node)){const h=[],p=i.getIterator(Pr.Wrap);let m=p.getNext();for(;m;)m.name!==n.name&&h.push(m),m=p.getNext();return h.push(n),Du(h,f.getCompare())}else return Pl;else{const h=i.get(n.name);let p=l;return h&&(p=p.remove(new Pr(n.name,h))),p.insert(n,n.node)}});return new zi(o,this.indexSet_)}removeFromIndexes(n,i){const o=Nu(this.indexes_,l=>{if(l===Pl)return l;{const u=i.get(n.name);return u?l.remove(new Pr(n.name,u)):l}});return new zi(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S0;class sr{static get EMPTY_NODE(){return S0||(S0=new sr(new h1(Lx),null,zi.Default))}constructor(n,i,o){this.children_=n,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&TA(this.priorityNode_),this.children_.isEmpty()&&ft(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||S0}updatePriority(n){return this.children_.isEmpty()?this:new sr(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const i=this.children_.get(n);return i===null?S0:i}}getChild(n){const i=_r(n);return i===null?this:this.getImmediateChild(i).getChild(Xs(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(ft(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{const o=new Pr(n,i);let l,u;i.isEmpty()?(l=this.children_.remove(n),u=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(n,i),u=this.indexMap_.addToIndexes(o,this.children_));const f=l.isEmpty()?S0:this.priorityNode_;return new sr(l,f,u)}}updateChild(n,i){const o=_r(n);if(o===null)return i;{ft(_r(n)!==".priority"||Mo(n)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Xs(n),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let o=0,l=0,u=!0;if(this.forEachChild(Pn,(f,h)=>{i[f]=h.val(n),o++,u&&sr.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!n&&u&&l<2*o){const f=[];for(const h in i)f[h]=i[h];return f}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+RA(this.getPriority().val())+":"),this.forEachChild(Pn,(i,o)=>{const l=o.hash();l!==""&&(n+=":"+i+":"+l)}),this.lazyHash_=n===""?"":dA(n)}return this.lazyHash_}getPredecessorChildName(n,i,o){const l=this.resolveIndex_(o);if(l){const u=l.getPredecessorKey(new Pr(n,i));return u?u.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new Pr(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new Pr(i,this.children_.get(i)):null}forEachChild(n,i){const o=this.resolveIndex_(n);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(n,l=>l);{const l=this.children_.getIteratorFrom(n.name,Pr.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,n)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(n,l=>l);{const l=this.children_.getReverseIteratorFrom(n.name,Pr.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,n)>0;)l.getNext(),u=l.peek();return l}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===G2?-1:0}withIndex(n){if(n===ic||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new sr(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===ic||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(Pn),l=i.getIterator(Pn);let u=o.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=o.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===ic?null:this.indexMap_.get(n.toString())}}sr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tR extends sr{constructor(){super(new h1(Lx),sr.EMPTY_NODE,zi.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return sr.EMPTY_NODE}isEmpty(){return!1}}const G2=new tR;Object.defineProperties(Pr,{MIN:{value:new Pr(gc,sr.EMPTY_NODE)},MAX:{value:new Pr(xl,G2)}});FA.__EMPTY_NODE=sr.EMPTY_NODE;xa.__childrenNodeConstructor=sr;WF(G2);JF(G2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=!0;function na(s,n=null){if(s===null)return sr.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),ft(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new xa(i,na(n))}if(!(s instanceof Array)&&rR){const i=[];let o=!1;if(Ra(s,(f,h)=>{if(f.substring(0,1)!=="."){const p=na(h);p.isEmpty()||(o=o||!p.getPriority().isEmpty(),i.push(new Pr(f,p)))}}),i.length===0)return sr.EMPTY_NODE;const u=Du(i,$F,f=>f.name,Lx);if(o){const f=Du(i,Pn.getCompare());return new sr(u,na(n),new zi({".priority":f},{".priority":Pn}))}else return new sr(u,na(n),zi.Default)}else{let i=sr.EMPTY_NODE;return Ra(s,(o,l)=>{if(Ei(s,o)&&o.substring(0,1)!=="."){const u=na(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(o,u))}}),i.updatePriority(na(n))}}KF(na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends vf{constructor(n){super(),this.indexPath_=n,ft(!Qr(n)&&_r(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,i){const o=this.extractChild(n.node),l=this.extractChild(i.node),u=o.compareTo(l);return u===0?Nl(n.name,i.name):u}makePost(n,i){const o=na(n),l=sr.EMPTY_NODE.updateChild(this.indexPath_,o);return new Pr(i,l)}maxPost(){const n=sr.EMPTY_NODE.updateChild(this.indexPath_,G2);return new Pr(xl,n)}toString(){return A2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends vf{compare(n,i){const o=n.node.compareTo(i.node);return o===0?Nl(n.name,i.name):o}isDefinedOn(n){return!0}indexedValueChanged(n,i){return!n.equals(i)}minPost(){return Pr.MIN}maxPost(){return Pr.MAX}makePost(n,i){const o=na(n);return new Pr(i,o)}toString(){return".value"}}const aR=new nR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(s){return{type:"value",snapshotNode:s}}function bc(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function k2(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function j2(s,n,i){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:i}}function iR(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(n){this.index_=n}updateChild(n,i,o,l,u,f){ft(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=n.getImmediateChild(i);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?n.hasChild(i)?f.trackChildChange(k2(i,h)):ft(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(bc(i,o)):f.trackChildChange(j2(i,o,h))),n.isLeafNode()&&o.isEmpty())?n:n.updateImmediateChild(i,o).withIndex(this.index_)}updateFullNode(n,i,o){return o!=null&&(n.isLeafNode()||n.forEachChild(Pn,(l,u)=>{i.hasChild(l)||o.trackChildChange(k2(l,u))}),i.isLeafNode()||i.forEachChild(Pn,(l,u)=>{if(n.hasChild(l)){const f=n.getImmediateChild(l);f.equals(u)||o.trackChildChange(j2(l,u,f))}else o.trackChildChange(bc(l,u))})),i.withIndex(this.index_)}updatePriority(n,i){return n.isEmpty()?sr.EMPTY_NODE:n.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(n){this.indexedFilter_=new Qx(n.getIndex()),this.index_=n.getIndex(),this.startPost_=N2.getStartPost_(n),this.endPost_=N2.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,o=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return i&&o}updateChild(n,i,o,l,u,f){return this.matches(new Pr(i,o))||(o=sr.EMPTY_NODE),this.indexedFilter_.updateChild(n,i,o,l,u,f)}updateFullNode(n,i,o){i.isLeafNode()&&(i=sr.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(sr.EMPTY_NODE);const u=this;return i.forEachChild(Pn,(f,h)=>{u.matches(new Pr(f,h))||(l=l.updateImmediateChild(f,sr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,l,o)}updatePriority(n,i){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const i=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),i)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const i=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),i)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(n){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=i=>{const o=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new N2(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,i,o,l,u,f){return this.rangedFilter_.matches(new Pr(i,o))||(o=sr.EMPTY_NODE),n.getImmediateChild(i).equals(o)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,i,o,l,u,f):this.fullLimitUpdateChild_(n,i,o,u,f)}updateFullNode(n,i,o){let l;if(i.isLeafNode()||i.isEmpty())l=sr.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=sr.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(sr.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,sr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,l,o)}updatePriority(n,i){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,i,o,l,u){let f;if(this.reverse_){const b=this.index_.getCompare();f=(v,w)=>b(w,v)}else f=this.index_.getCompare();const h=n;ft(h.numChildren()===this.limit_,"");const p=new Pr(i,o),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),x=this.rangedFilter_.matches(p);if(h.hasChild(i)){const b=h.getImmediateChild(i);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===i||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const w=v==null?1:f(v,p);if(x&&!o.isEmpty()&&w>=0)return u!=null&&u.trackChildChange(j2(i,o,b)),h.updateImmediateChild(i,o);{u!=null&&u.trackChildChange(k2(i,b));const A=h.updateImmediateChild(i,sr.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(bc(v.name,v.node)),A.updateImmediateChild(v.name,v.node)):A}}else return o.isEmpty()?n:x&&f(m,p)>=0?(u!=null&&(u.trackChildChange(k2(m.name,m.node)),u.trackChildChange(bc(i,o))),h.updateImmediateChild(i,o).updateImmediateChild(m.name,sr.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ft(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ft(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gc}hasEnd(){return this.endSet_}getIndexEndValue(){return ft(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ft(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ft(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pn}copy(){const n=new Hx;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function lR(s){return s.loadsAllData()?new Qx(s.getIndex()):s.hasLimit()?new oR(s):new N2(s)}function u8(s){const n={};if(s.isDefault())return n;let i;if(s.index_===Pn?i="$priority":s.index_===aR?i="$value":s.index_===ic?i="$key":(ft(s.index_ instanceof sR,"Unrecognized index type!"),i=s.index_.toString()),n.orderBy=aa(i),s.startSet_){const o=s.startAfterSet_?"startAfter":"startAt";n[o]=aa(s.indexStartValue_),s.startNameSet_&&(n[o]+=","+aa(s.indexStartName_))}if(s.endSet_){const o=s.endBeforeSet_?"endBefore":"endAt";n[o]=aa(s.indexEndValue_),s.endNameSet_&&(n[o]+=","+aa(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function f8(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),n.vf=i}return s.index_!==Pn&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends IA{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,i){return i!==void 0?"tag$"+i:(ft(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,i,o,l){super(),this.repoInfo_=n,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=H2("p:rest:"),this.listens_={}}listen(n,i,o,l){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const f=Mu.getListenId_(n,o),h={};this.listens_[f]=h;const p=u8(n._queryParams);this.restRequest_(u+".json",p,(m,x)=>{let b=x;if(m===404&&(b=null,m=null),m===null&&this.onDataUpdate_(u,b,!1,o),vc(this.listens_,f)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(n,i){const o=Mu.getListenId_(n,i);delete this.listens_[o]}get(n){const i=u8(n._queryParams),o=n._path.toString(),l=new z2;return this.restRequest_(o+".json",i,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(n){}restRequest_(n,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+MD(i);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=g2(h.responseText)}catch{a1("Failed to parse JSON response for "+f+": "+h.responseText)}o(null,p)}else h.status!==401&&h.status!==404&&a1("Got unsuccessful REST response for "+f+" Status: "+h.status),o(h.status);o=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.rootNode_=sr.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,i){this.rootNode_=this.rootNode_.updateChild(n,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(){return{value:null,children:new Map}}function OA(s,n,i){if(Qr(n))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,i);else{const o=_r(n);s.children.has(o)||s.children.set(o,Fu());const l=s.children.get(o);n=Xs(n),OA(l,n,i)}}function sm(s,n,i){s.value!==null?i(n,s.value):dR(s,(o,l)=>{const u=new _s(n.toString()+"/"+o);sm(l,u,i)})}function dR(s,n){s.children.forEach((i,o)=>{n(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),i={...n};return this.last_&&Ra(this.last_,(o,l)=>{i[o]=i[o]-l}),this.last_=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=10*1e3,fR=30*1e3,hR=5*60*1e3;class pR{constructor(n,i){this.server_=i,this.statsToReport_={},this.statsListener_=new uR(n);const o=h8+(fR-h8)*Math.random();$0(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const n=this.statsListener_.get(),i={};let o=!1;Ra(n,(l,u)=>{u>0&&Ei(this.statsToReport_,l)&&(i[l]=u,o=!0)}),o&&this.server_.reportStats(i),$0(this.reportStats_.bind(this),Math.floor(Math.random()*2*hR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(si||(si={}));function Gx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yx(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(n,i,o){this.path=n,this.affectedTree=i,this.revert=o,this.type=si.ACK_USER_WRITE,this.source=Gx()}operationForChild(n){if(Qr(this.path)){if(this.affectedTree.value!=null)return ft(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new _s(n));return new Ru(ps(),i,this.revert)}}else return ft(_r(this.path)===n,"operationForChild called for unrelated child."),new Ru(Xs(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(n,i){this.source=n,this.path=i,this.type=si.LISTEN_COMPLETE}operationForChild(n){return Qr(this.path)?new C2(this.source,ps()):new C2(this.source,Xs(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(n,i,o){this.source=n,this.path=i,this.snap=o,this.type=si.OVERWRITE}operationForChild(n){return Qr(this.path)?new vl(this.source,ps(),this.snap.getImmediateChild(n)):new vl(this.source,Xs(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(n,i,o){this.source=n,this.path=i,this.children=o,this.type=si.MERGE}operationForChild(n){if(Qr(this.path)){const i=this.children.subtree(new _s(n));return i.isEmpty()?null:i.value?new vl(this.source,ps(),i.value):new yc(this.source,ps(),i)}else return ft(_r(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new yc(this.source,Xs(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(n,i,o){this.node_=n,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Qr(n))return this.isFullyInitialized()&&!this.filtered_;const i=_r(n);return this.isCompleteForChild(i)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function xR(s,n,i,o){const l=[],u=[];return n.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(iR(f.childName,f.snapshotNode))}),E0(s,l,"child_removed",n,o,i),E0(s,l,"child_added",n,o,i),E0(s,l,"child_moved",u,o,i),E0(s,l,"child_changed",n,o,i),E0(s,l,"value",n,o,i),l}function E0(s,n,i,o,l,u){const f=o.filter(h=>h.type===i);f.sort((h,p)=>gR(s,h,p)),f.forEach(h=>{const p=vR(s,h,u);l.forEach(m=>{m.respondsTo(h.type)&&n.push(m.createEvent(p,s.query_))})})}function vR(s,n,i){return n.type==="value"||n.type==="child_removed"||(n.prevName=i.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function gR(s,n,i){if(n.childName==null||i.childName==null)throw Tc("Should only compare child_ events.");const o=new Pr(n.childName,n.snapshotNode),l=new Pr(i.childName,i.snapshotNode);return s.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(s,n){return{eventCache:s,serverCache:n}}function W0(s,n,i,o){return gf(new Fo(n,i,o),s.serverCache)}function zA(s,n,i,o){return gf(s.eventCache,new Fo(n,i,o))}function Tu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function gl(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp;const bR=()=>(Hp||(Hp=new h1(sF)),Hp);class Ks{static fromObject(n){let i=new Ks(null);return Ra(n,(o,l)=>{i=i.set(new _s(o),l)}),i}constructor(n,i=bR()){this.value=n,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,i){if(this.value!=null&&i(this.value))return{path:ps(),value:this.value};if(Qr(n))return null;{const o=_r(n),l=this.children.get(o);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Xs(n),i);return u!=null?{path:_n(new _s(o),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Qr(n))return this;{const i=_r(n),o=this.children.get(i);return o!==null?o.subtree(Xs(n)):new Ks(null)}}set(n,i){if(Qr(n))return new Ks(i,this.children);{const o=_r(n),u=(this.children.get(o)||new Ks(null)).set(Xs(n),i),f=this.children.insert(o,u);return new Ks(this.value,f)}}remove(n){if(Qr(n))return this.children.isEmpty()?new Ks(null):new Ks(null,this.children);{const i=_r(n),o=this.children.get(i);if(o){const l=o.remove(Xs(n));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new Ks(null):new Ks(this.value,u)}else return this}}get(n){if(Qr(n))return this.value;{const i=_r(n),o=this.children.get(i);return o?o.get(Xs(n)):null}}setTree(n,i){if(Qr(n))return i;{const o=_r(n),u=(this.children.get(o)||new Ks(null)).setTree(Xs(n),i);let f;return u.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,u),new Ks(this.value,f)}}fold(n){return this.fold_(ps(),n)}fold_(n,i){const o={};return this.children.inorderTraversal((l,u)=>{o[l]=u.fold_(_n(n,l),i)}),i(n,this.value,o)}findOnPath(n,i){return this.findOnPath_(n,ps(),i)}findOnPath_(n,i,o){const l=this.value?o(i,this.value):!1;if(l)return l;if(Qr(n))return null;{const u=_r(n),f=this.children.get(u);return f?f.findOnPath_(Xs(n),_n(i,u),o):null}}foreachOnPath(n,i){return this.foreachOnPath_(n,ps(),i)}foreachOnPath_(n,i,o){if(Qr(n))return this;{this.value&&o(i,this.value);const l=_r(n),u=this.children.get(l);return u?u.foreachOnPath_(Xs(n),_n(i,l),o):new Ks(null)}}foreach(n){this.foreach_(ps(),n)}foreach_(n,i){this.children.inorderTraversal((o,l)=>{l.foreach_(_n(n,o),i)}),this.value&&i(n,this.value)}foreachChild(n){this.children.inorderTraversal((i,o)=>{o.value&&n(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(n){this.writeTree_=n}static empty(){return new ii(new Ks(null))}}function K0(s,n,i){if(Qr(n))return new ii(new Ks(i));{const o=s.writeTree_.findRootMostValueAndPath(n);if(o!=null){const l=o.path;let u=o.value;const f=s1(l,n);return u=u.updateChild(f,i),new ii(s.writeTree_.set(l,u))}else{const l=new Ks(i),u=s.writeTree_.setTree(n,l);return new ii(u)}}}function nm(s,n,i){let o=s;return Ra(i,(l,u)=>{o=K0(o,_n(n,l),u)}),o}function p8(s,n){if(Qr(n))return ii.empty();{const i=s.writeTree_.setTree(n,new Ks(null));return new ii(i)}}function am(s,n){return Cl(s,n)!=null}function Cl(s,n){const i=s.writeTree_.findRootMostValueAndPath(n);return i!=null?s.writeTree_.get(i.path).getChild(s1(i.path,n)):null}function m8(s){const n=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Pn,(o,l)=>{n.push(new Pr(o,l))}):s.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&n.push(new Pr(o,l.value))}),n}function So(s,n){if(Qr(n))return s;{const i=Cl(s,n);return i!=null?new ii(new Ks(i)):new ii(s.writeTree_.subtree(n))}}function im(s){return s.writeTree_.isEmpty()}function wc(s,n){return LA(ps(),s.writeTree_,n)}function LA(s,n,i){if(n.value!=null)return i.updateChild(s,n.value);{let o=null;return n.children.inorderTraversal((l,u)=>{l===".priority"?(ft(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):i=LA(_n(s,l),u,i)}),!i.getChild(s).isEmpty()&&o!==null&&(i=i.updateChild(_n(s,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(s,n){return qA(n,s)}function yR(s,n,i,o,l){ft(o>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:n,snap:i,writeId:o,visible:l}),l&&(s.visibleWrites=K0(s.visibleWrites,n,i)),s.lastWriteId=o}function wR(s,n,i,o){ft(o>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:n,children:i,writeId:o,visible:!0}),s.visibleWrites=nm(s.visibleWrites,n,i),s.lastWriteId=o}function AR(s,n){for(let i=0;i<s.allWrites.length;i++){const o=s.allWrites[i];if(o.writeId===n)return o}return null}function kR(s,n){const i=s.allWrites.findIndex(h=>h.writeId===n);ft(i>=0,"removeWrite called with nonexistent writeId.");const o=s.allWrites[i];s.allWrites.splice(i,1);let l=o.visible,u=!1,f=s.allWrites.length-1;for(;l&&f>=0;){const h=s.allWrites[f];h.visible&&(f>=i&&jR(h,o.path)?l=!1:O1(o.path,h.path)&&(u=!0)),f--}if(l){if(u)return NR(s),!0;if(o.snap)s.visibleWrites=p8(s.visibleWrites,o.path);else{const h=o.children;Ra(h,p=>{s.visibleWrites=p8(s.visibleWrites,_n(o.path,p))})}return!0}else return!1}function jR(s,n){if(s.snap)return O1(s.path,n);for(const i in s.children)if(s.children.hasOwnProperty(i)&&O1(_n(s.path,i),n))return!0;return!1}function NR(s){s.visibleWrites=QA(s.allWrites,CR,ps()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function CR(s){return s.visible}function QA(s,n,i){let o=ii.empty();for(let l=0;l<s.length;++l){const u=s[l];if(n(u)){const f=u.path;let h;if(u.snap)O1(i,f)?(h=s1(i,f),o=K0(o,h,u.snap)):O1(f,i)&&(h=s1(f,i),o=K0(o,ps(),u.snap.getChild(h)));else if(u.children){if(O1(i,f))h=s1(i,f),o=nm(o,h,u.children);else if(O1(f,i))if(h=s1(f,i),Qr(h))o=nm(o,ps(),u.children);else{const p=vc(u.children,_r(h));if(p){const m=p.getChild(Xs(h));o=K0(o,ps(),m)}}}else throw Tc("WriteRecord should have .snap or .children")}}return o}function HA(s,n,i,o,l){if(!o&&!l){const u=Cl(s.visibleWrites,n);if(u!=null)return u;{const f=So(s.visibleWrites,n);if(im(f))return i;if(i==null&&!am(f,ps()))return null;{const h=i||sr.EMPTY_NODE;return wc(f,h)}}}else{const u=So(s.visibleWrites,n);if(!l&&im(u))return i;if(!l&&i==null&&!am(u,ps()))return null;{const f=function(m){return(m.visible||l)&&(!o||!~o.indexOf(m.writeId))&&(O1(m.path,n)||O1(n,m.path))},h=QA(s.allWrites,f,n),p=i||sr.EMPTY_NODE;return wc(h,p)}}}function SR(s,n,i){let o=sr.EMPTY_NODE;const l=Cl(s.visibleWrites,n);if(l)return l.isLeafNode()||l.forEachChild(Pn,(u,f)=>{o=o.updateImmediateChild(u,f)}),o;if(i){const u=So(s.visibleWrites,n);return i.forEachChild(Pn,(f,h)=>{const p=wc(So(u,new _s(f)),h);o=o.updateImmediateChild(f,p)}),m8(u).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const u=So(s.visibleWrites,n);return m8(u).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function ER(s,n,i,o,l){ft(o||l,"Either existingEventSnap or existingServerSnap must exist");const u=_n(n,i);if(am(s.visibleWrites,u))return null;{const f=So(s.visibleWrites,u);return im(f)?l.getChild(i):wc(f,l.getChild(i))}}function IR(s,n,i,o){const l=_n(n,i),u=Cl(s.visibleWrites,l);if(u!=null)return u;if(o.isCompleteForChild(i)){const f=So(s.visibleWrites,l);return wc(f,o.getNode().getImmediateChild(i))}else return null}function BR(s,n){return Cl(s.visibleWrites,n)}function DR(s,n,i,o,l,u,f){let h;const p=So(s.visibleWrites,n),m=Cl(p,ps());if(m!=null)h=m;else if(i!=null)h=wc(p,i);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const x=[],b=f.getCompare(),v=u?h.getReverseIteratorFrom(o,f):h.getIteratorFrom(o,f);let w=v.getNext();for(;w&&x.length<l;)b(w,o)!==0&&x.push(w),w=v.getNext();return x}else return[]}function MR(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function _u(s,n,i,o){return HA(s.writeTree,s.treePath,n,i,o)}function Vx(s,n){return SR(s.writeTree,s.treePath,n)}function x8(s,n,i,o){return ER(s.writeTree,s.treePath,n,i,o)}function Pu(s,n){return BR(s.writeTree,_n(s.treePath,n))}function FR(s,n,i,o,l,u){return DR(s.writeTree,s.treePath,n,i,o,l,u)}function $x(s,n,i){return IR(s.writeTree,s.treePath,n,i)}function GA(s,n){return qA(_n(s.treePath,n),s.writeTree)}function qA(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changeMap=new Map}trackChildChange(n){const i=n.type,o=n.childName;ft(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),ft(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(o,j2(o,n.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(o,k2(o,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(o,bc(o,n.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(o,j2(o,n.snapshotNode,l.oldSnap));else throw Tc("Illegal combination of changes: "+n+" occurred after "+l)}else this.changeMap.set(o,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{getCompleteChild(n){return null}getChildAfterChild(n,i,o){return null}}const YA=new TR;class Wx{constructor(n,i,o=null){this.writes_=n,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(n){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(n))return i.getNode().getImmediateChild(n);{const o=this.optCompleteServerCache_!=null?new Fo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $x(this.writes_,n,o)}}getChildAfterChild(n,i,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gl(this.viewCache_),u=FR(this.writes_,l,i,1,o,n);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(s){return{filter:s}}function PR(s,n){ft(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ft(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function UR(s,n,i,o,l){const u=new RR;let f,h;if(i.type===si.OVERWRITE){const m=i;m.source.fromUser?f=om(s,n,m.path,m.snap,o,l,u):(ft(m.source.fromServer,"Unknown source."),h=m.source.tagged||n.serverCache.isFiltered()&&!Qr(m.path),f=Uu(s,n,m.path,m.snap,o,l,h,u))}else if(i.type===si.MERGE){const m=i;m.source.fromUser?f=zR(s,n,m.path,m.children,o,l,u):(ft(m.source.fromServer,"Unknown source."),h=m.source.tagged||n.serverCache.isFiltered(),f=lm(s,n,m.path,m.children,o,l,h,u))}else if(i.type===si.ACK_USER_WRITE){const m=i;m.revert?f=HR(s,n,m.path,o,l,u):f=LR(s,n,m.path,m.affectedTree,o,l,u)}else if(i.type===si.LISTEN_COMPLETE)f=QR(s,n,i.path,o,u);else throw Tc("Unknown operation type: "+i.type);const p=u.getChanges();return OR(n,f,p),{viewCache:f,changes:p}}function OR(s,n,i){const o=n.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=Tu(s);(i.length>0||!s.eventCache.isFullyInitialized()||l&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&i.push(UA(Tu(n)))}}function VA(s,n,i,o,l,u){const f=n.eventCache;if(Pu(o,i)!=null)return n;{let h,p;if(Qr(i))if(ft(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const m=gl(n),x=m instanceof sr?m:sr.EMPTY_NODE,b=Vx(o,x);h=s.filter.updateFullNode(n.eventCache.getNode(),b,u)}else{const m=_u(o,gl(n));h=s.filter.updateFullNode(n.eventCache.getNode(),m,u)}else{const m=_r(i);if(m===".priority"){ft(Mo(i)===1,"Can't have a priority with additional path components");const x=f.getNode();p=n.serverCache.getNode();const b=x8(o,i,x,p);b!=null?h=s.filter.updatePriority(x,b):h=f.getNode()}else{const x=Xs(i);let b;if(f.isCompleteForChild(m)){p=n.serverCache.getNode();const v=x8(o,i,f.getNode(),p);v!=null?b=f.getNode().getImmediateChild(m).updateChild(x,v):b=f.getNode().getImmediateChild(m)}else b=$x(o,m,n.serverCache);b!=null?h=s.filter.updateChild(f.getNode(),m,b,x,l,u):h=f.getNode()}}return W0(n,h,f.isFullyInitialized()||Qr(i),s.filter.filtersNodes())}}function Uu(s,n,i,o,l,u,f,h){const p=n.serverCache;let m;const x=f?s.filter:s.filter.getIndexedFilter();if(Qr(i))m=x.updateFullNode(p.getNode(),o,null);else if(x.filtersNodes()&&!p.isFiltered()){const w=p.getNode().updateChild(i,o);m=x.updateFullNode(p.getNode(),w,null)}else{const w=_r(i);if(!p.isCompleteForPath(i)&&Mo(i)>1)return n;const y=Xs(i),k=p.getNode().getImmediateChild(w).updateChild(y,o);w===".priority"?m=x.updatePriority(p.getNode(),k):m=x.updateChild(p.getNode(),w,k,y,YA,null)}const b=zA(n,m,p.isFullyInitialized()||Qr(i),x.filtersNodes()),v=new Wx(l,b,u);return VA(s,b,i,l,v,h)}function om(s,n,i,o,l,u,f){const h=n.eventCache;let p,m;const x=new Wx(l,n,u);if(Qr(i))m=s.filter.updateFullNode(n.eventCache.getNode(),o,f),p=W0(n,m,!0,s.filter.filtersNodes());else{const b=_r(i);if(b===".priority")m=s.filter.updatePriority(n.eventCache.getNode(),o),p=W0(n,m,h.isFullyInitialized(),h.isFiltered());else{const v=Xs(i),w=h.getNode().getImmediateChild(b);let y;if(Qr(v))y=o;else{const A=x.getCompleteChild(b);A!=null?Ux(v)===".priority"&&A.getChild(DA(v)).isEmpty()?y=A:y=A.updateChild(v,o):y=sr.EMPTY_NODE}if(w.equals(y))p=n;else{const A=s.filter.updateChild(h.getNode(),b,y,v,x,f);p=W0(n,A,h.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function v8(s,n){return s.eventCache.isCompleteForChild(n)}function zR(s,n,i,o,l,u,f){let h=n;return o.foreach((p,m)=>{const x=_n(i,p);v8(n,_r(x))&&(h=om(s,h,x,m,l,u,f))}),o.foreach((p,m)=>{const x=_n(i,p);v8(n,_r(x))||(h=om(s,h,x,m,l,u,f))}),h}function g8(s,n,i){return i.foreach((o,l)=>{n=n.updateChild(o,l)}),n}function lm(s,n,i,o,l,u,f,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,m;Qr(i)?m=o:m=new Ks(null).setTree(i,o);const x=n.serverCache.getNode();return m.children.inorderTraversal((b,v)=>{if(x.hasChild(b)){const w=n.serverCache.getNode().getImmediateChild(b),y=g8(s,w,v);p=Uu(s,p,new _s(b),y,l,u,f,h)}}),m.children.inorderTraversal((b,v)=>{const w=!n.serverCache.isCompleteForChild(b)&&v.value===null;if(!x.hasChild(b)&&!w){const y=n.serverCache.getNode().getImmediateChild(b),A=g8(s,y,v);p=Uu(s,p,new _s(b),A,l,u,f,h)}}),p}function LR(s,n,i,o,l,u,f){if(Pu(l,i)!=null)return n;const h=n.serverCache.isFiltered(),p=n.serverCache;if(o.value!=null){if(Qr(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Uu(s,n,i,p.getNode().getChild(i),l,u,h,f);if(Qr(i)){let m=new Ks(null);return p.getNode().forEachChild(ic,(x,b)=>{m=m.set(new _s(x),b)}),lm(s,n,i,m,l,u,h,f)}else return n}else{let m=new Ks(null);return o.foreach((x,b)=>{const v=_n(i,x);p.isCompleteForPath(v)&&(m=m.set(x,p.getNode().getChild(v)))}),lm(s,n,i,m,l,u,h,f)}}function QR(s,n,i,o,l){const u=n.serverCache,f=zA(n,u.getNode(),u.isFullyInitialized()||Qr(i),u.isFiltered());return VA(s,f,i,o,YA,l)}function HR(s,n,i,o,l,u){let f;if(Pu(o,i)!=null)return n;{const h=new Wx(o,n,l),p=n.eventCache.getNode();let m;if(Qr(i)||_r(i)===".priority"){let x;if(n.serverCache.isFullyInitialized())x=_u(o,gl(n));else{const b=n.serverCache.getNode();ft(b instanceof sr,"serverChildren would be complete if leaf node"),x=Vx(o,b)}x=x,m=s.filter.updateFullNode(p,x,u)}else{const x=_r(i);let b=$x(o,x,n.serverCache);b==null&&n.serverCache.isCompleteForChild(x)&&(b=p.getImmediateChild(x)),b!=null?m=s.filter.updateChild(p,x,b,Xs(i),h,u):n.eventCache.getNode().hasChild(x)?m=s.filter.updateChild(p,x,sr.EMPTY_NODE,Xs(i),h,u):m=p,m.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=_u(o,gl(n)),f.isLeafNode()&&(m=s.filter.updateFullNode(m,f,u)))}return f=n.serverCache.isFullyInitialized()||Pu(o,ps())!=null,W0(n,m,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(n,i){this.query_=n,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Qx(o.getIndex()),u=lR(o);this.processor_=_R(u);const f=i.serverCache,h=i.eventCache,p=l.updateFullNode(sr.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(sr.EMPTY_NODE,h.getNode(),null),x=new Fo(p,f.isFullyInitialized(),l.filtersNodes()),b=new Fo(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=gf(b,x),this.eventGenerator_=new mR(this.query_)}get query(){return this.query_}}function qR(s){return s.viewCache_.serverCache.getNode()}function YR(s){return Tu(s.viewCache_)}function VR(s,n){const i=gl(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!Qr(n)&&!i.getImmediateChild(_r(n)).isEmpty())?i.getChild(n):null}function b8(s){return s.eventRegistrations_.length===0}function $R(s,n){s.eventRegistrations_.push(n)}function y8(s,n,i){const o=[];if(i){ft(n==null,"A cancel should cancel all event registrations.");const l=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&o.push(f)})}if(n){let l=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(n))l.push(f);else if(n.hasAnyCallback()){l=l.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=l}else s.eventRegistrations_=[];return o}function w8(s,n,i,o){n.type===si.MERGE&&n.source.queryId!==null&&(ft(gl(s.viewCache_),"We should always have a full cache before handling merges"),ft(Tu(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,u=UR(s.processor_,l,n,i,o);return PR(s.processor_,u.viewCache),ft(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,$A(s,u.changes,u.viewCache.eventCache.getNode(),null)}function WR(s,n){const i=s.viewCache_.eventCache,o=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Pn,(u,f)=>{o.push(bc(u,f))}),i.isFullyInitialized()&&o.push(UA(i.getNode())),$A(s,o,i.getNode(),n)}function $A(s,n,i,o){const l=o?[o]:s.eventRegistrations_;return xR(s.eventGenerator_,n,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou;class WA{constructor(){this.views=new Map}}function KR(s){ft(!Ou,"__referenceConstructor has already been defined"),Ou=s}function JR(){return ft(Ou,"Reference.ts has not been loaded"),Ou}function XR(s){return s.views.size===0}function Kx(s,n,i,o){const l=n.source.queryId;if(l!==null){const u=s.views.get(l);return ft(u!=null,"SyncTree gave us an op for an invalid query."),w8(u,n,i,o)}else{let u=[];for(const f of s.views.values())u=u.concat(w8(f,n,i,o));return u}}function KA(s,n,i,o,l){const u=n._queryIdentifier,f=s.views.get(u);if(!f){let h=_u(i,l?o:null),p=!1;h?p=!0:o instanceof sr?(h=Vx(i,o),p=!1):(h=sr.EMPTY_NODE,p=!1);const m=gf(new Fo(h,p,!1),new Fo(o,l,!1));return new GR(n,m)}return f}function ZR(s,n,i,o,l,u){const f=KA(s,n,o,l,u);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,f),$R(f,i),WR(f,i)}function eT(s,n,i,o){const l=n._queryIdentifier,u=[];let f=[];const h=Ro(s);if(l==="default")for(const[p,m]of s.views.entries())f=f.concat(y8(m,i,o)),b8(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=s.views.get(l);p&&(f=f.concat(y8(p,i,o)),b8(p)&&(s.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Ro(s)&&u.push(new(JR())(n._repo,n._path)),{removed:u,events:f}}function JA(s){const n=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||n.push(i);return n}function Eo(s,n){let i=null;for(const o of s.views.values())i=i||VR(o,n);return i}function XA(s,n){if(n._queryParams.loadsAllData())return yf(s);{const o=n._queryIdentifier;return s.views.get(o)}}function ZA(s,n){return XA(s,n)!=null}function Ro(s){return yf(s)!=null}function yf(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;function tT(s){ft(!zu,"__referenceConstructor has already been defined"),zu=s}function rT(){return ft(zu,"Reference.ts has not been loaded"),zu}let sT=1;class A8{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ks(null),this.pendingWriteTree_=MR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e9(s,n,i,o,l){return yR(s.pendingWriteTree_,n,i,o,l),l?Pc(s,new vl(Gx(),n,i)):[]}function nT(s,n,i,o){wR(s.pendingWriteTree_,n,i,o);const l=Ks.fromObject(i);return Pc(s,new yc(Gx(),n,l))}function po(s,n,i=!1){const o=AR(s.pendingWriteTree_,n);if(kR(s.pendingWriteTree_,n)){let u=new Ks(null);return o.snap!=null?u=u.set(ps(),!0):Ra(o.children,f=>{u=u.set(new _s(f),!0)}),Pc(s,new Ru(o.path,u,i))}else return[]}function q2(s,n,i){return Pc(s,new vl(qx(),n,i))}function aT(s,n,i){const o=Ks.fromObject(i);return Pc(s,new yc(qx(),n,o))}function iT(s,n){return Pc(s,new C2(qx(),n))}function oT(s,n,i){const o=Xx(s,i);if(o){const l=Zx(o),u=l.path,f=l.queryId,h=s1(u,n),p=new C2(Yx(f),h);return ev(s,u,p)}else return[]}function Lu(s,n,i,o,l=!1){const u=n._path,f=s.syncPointTree_.get(u);let h=[];if(f&&(n._queryIdentifier==="default"||ZA(f,n))){const p=eT(f,n,i,o);XR(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const x=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(u,(v,w)=>Ro(w));if(x&&!b){const v=s.syncPointTree_.subtree(u);if(!v.isEmpty()){const w=dT(v);for(let y=0;y<w.length;++y){const A=w[y],k=A.query,E=n9(s,A);s.listenProvider_.startListening(J0(k),S2(s,k),E.hashFn,E.onComplete)}}}!b&&m.length>0&&!o&&(x?s.listenProvider_.stopListening(J0(n),null):m.forEach(v=>{const w=s.queryToTagMap.get(wf(v));s.listenProvider_.stopListening(J0(v),w)}))}uT(s,m)}return h}function t9(s,n,i,o){const l=Xx(s,o);if(l!=null){const u=Zx(l),f=u.path,h=u.queryId,p=s1(f,n),m=new vl(Yx(h),p,i);return ev(s,f,m)}else return[]}function lT(s,n,i,o){const l=Xx(s,o);if(l){const u=Zx(l),f=u.path,h=u.queryId,p=s1(f,n),m=Ks.fromObject(i),x=new yc(Yx(h),p,m);return ev(s,f,x)}else return[]}function cm(s,n,i,o=!1){const l=n._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(l,(v,w)=>{const y=s1(v,l);u=u||Eo(w,y),f=f||Ro(w)});let h=s.syncPointTree_.get(l);h?(f=f||Ro(h),u=u||Eo(h,ps())):(h=new WA,s.syncPointTree_=s.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=sr.EMPTY_NODE,s.syncPointTree_.subtree(l).foreachChild((w,y)=>{const A=Eo(y,ps());A&&(u=u.updateImmediateChild(w,A))}));const m=ZA(h,n);if(!m&&!n._queryParams.loadsAllData()){const v=wf(n);ft(!s.queryToTagMap.has(v),"View does not exist, but we have a tag");const w=fT();s.queryToTagMap.set(v,w),s.tagToQueryMap.set(w,v)}const x=bf(s.pendingWriteTree_,l);let b=ZR(h,n,i,x,u,p);if(!m&&!f&&!o){const v=XA(h,n);b=b.concat(hT(s,n,v))}return b}function Jx(s,n,i){const l=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(n,(f,h)=>{const p=s1(f,n),m=Eo(h,p);if(m)return m});return HA(l,n,u,i,!0)}function cT(s,n){const i=n._path;let o=null;s.syncPointTree_.foreachOnPath(i,(m,x)=>{const b=s1(m,i);o=o||Eo(x,b)});let l=s.syncPointTree_.get(i);l?o=o||Eo(l,ps()):(l=new WA,s.syncPointTree_=s.syncPointTree_.set(i,l));const u=o!=null,f=u?new Fo(o,!0,!1):null,h=bf(s.pendingWriteTree_,n._path),p=KA(l,n,h,u?f.getNode():sr.EMPTY_NODE,u);return YR(p)}function Pc(s,n){return r9(n,s.syncPointTree_,null,bf(s.pendingWriteTree_,ps()))}function r9(s,n,i,o){if(Qr(s.path))return s9(s,n,i,o);{const l=n.get(ps());i==null&&l!=null&&(i=Eo(l,ps()));let u=[];const f=_r(s.path),h=s.operationForChild(f),p=n.children.get(f);if(p&&h){const m=i?i.getImmediateChild(f):null,x=GA(o,f);u=u.concat(r9(h,p,m,x))}return l&&(u=u.concat(Kx(l,s,o,i))),u}}function s9(s,n,i,o){const l=n.get(ps());i==null&&l!=null&&(i=Eo(l,ps()));let u=[];return n.children.inorderTraversal((f,h)=>{const p=i?i.getImmediateChild(f):null,m=GA(o,f),x=s.operationForChild(f);x&&(u=u.concat(s9(x,h,p,m)))}),l&&(u=u.concat(Kx(l,s,o,i))),u}function n9(s,n){const i=n.query,o=S2(s,i);return{hashFn:()=>(qR(n)||sr.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?oT(s,i._path,o):iT(s,i._path);{const u=iF(l,i);return Lu(s,i,null,u)}}}}function S2(s,n){const i=wf(n);return s.queryToTagMap.get(i)}function wf(s){return s._path.toString()+"$"+s._queryIdentifier}function Xx(s,n){return s.tagToQueryMap.get(n)}function Zx(s){const n=s.indexOf("$");return ft(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new _s(s.substr(0,n))}}function ev(s,n,i){const o=s.syncPointTree_.get(n);ft(o,"Missing sync point for query tag that we're tracking");const l=bf(s.pendingWriteTree_,n);return Kx(o,i,l,null)}function dT(s){return s.fold((n,i,o)=>{if(i&&Ro(i))return[yf(i)];{let l=[];return i&&(l=JA(i)),Ra(o,(u,f)=>{l=l.concat(f)}),l}})}function J0(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(rT())(s._repo,s._path):s}function uT(s,n){for(let i=0;i<n.length;++i){const o=n[i];if(!o._queryParams.loadsAllData()){const l=wf(o),u=s.queryToTagMap.get(l);s.queryToTagMap.delete(l),s.tagToQueryMap.delete(u)}}}function fT(){return sT++}function hT(s,n,i){const o=n._path,l=S2(s,n),u=n9(s,i),f=s.listenProvider_.startListening(J0(n),l,u.hashFn,u.onComplete),h=s.syncPointTree_.subtree(o);if(l)ft(!Ro(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,x,b)=>{if(!Qr(m)&&x&&Ro(x))return[yf(x).query];{let v=[];return x&&(v=v.concat(JA(x).map(w=>w.query))),Ra(b,(w,y)=>{v=v.concat(y)}),v}});for(let m=0;m<p.length;++m){const x=p[m];s.listenProvider_.stopListening(J0(x),S2(s,x))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(n){this.node_=n}getImmediateChild(n){const i=this.node_.getImmediateChild(n);return new tv(i)}node(){return this.node_}}class rv{constructor(n,i){this.syncTree_=n,this.path_=i}getImmediateChild(n){const i=_n(this.path_,n);return new rv(this.syncTree_,i)}node(){return Jx(this.syncTree_,this.path_)}}const pT=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},k8=function(s,n,i){if(!s||typeof s!="object")return s;if(ft(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return mT(s[".sv"],n,i);if(typeof s[".sv"]=="object")return xT(s[".sv"],n);ft(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},mT=function(s,n,i){switch(s){case"timestamp":return i.timestamp;default:ft(!1,"Unexpected server value: "+s)}},xT=function(s,n,i){s.hasOwnProperty("increment")||ft(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const o=s.increment;typeof o!="number"&&ft(!1,"Unexpected increment value: "+o);const l=n.node();if(ft(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const f=l.getValue();return typeof f!="number"?o:f+o},a9=function(s,n,i,o){return sv(n,new rv(i,s),o)},i9=function(s,n,i){return sv(s,new tv(n),i)};function sv(s,n,i){const o=s.getPriority().val(),l=k8(o,n.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,h=k8(f.getValue(),n,i);return h!==f.getValue()||l!==f.getPriority().val()?new xa(h,na(l)):s}else{const f=s;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new xa(l))),f.forEachChild(Pn,(h,p)=>{const m=sv(p,n.getImmediateChild(h),i);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(n="",i=null,o={children:{},childCount:0}){this.name=n,this.parent=i,this.node=o}}function av(s,n){let i=n instanceof _s?n:new _s(n),o=s,l=_r(i);for(;l!==null;){const u=vc(o.node.children,l)||{children:{},childCount:0};o=new nv(l,o,u),i=Xs(i),l=_r(i)}return o}function Uc(s){return s.node.value}function o9(s,n){s.node.value=n,dm(s)}function l9(s){return s.node.childCount>0}function vT(s){return Uc(s)===void 0&&!l9(s)}function Af(s,n){Ra(s.node.children,(i,o)=>{n(new nv(i,s,o))})}function c9(s,n,i,o){i&&n(s),Af(s,l=>{c9(l,n,!0)})}function gT(s,n,i){let o=s.parent;for(;o!==null;){if(n(o))return!0;o=o.parent}return!1}function Y2(s){return new _s(s.parent===null?s.name:Y2(s.parent)+"/"+s.name)}function dm(s){s.parent!==null&&bT(s.parent,s.name,s)}function bT(s,n,i){const o=vT(i),l=Ei(s.node.children,n);o&&l?(delete s.node.children[n],s.node.childCount--,dm(s)):!o&&!l&&(s.node.children[n]=i.node,s.node.childCount++,dm(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=/[\[\].#$\/\u0000-\u001F\u007F]/,wT=/[\[\].#$\u0000-\u001F\u007F]/,Gp=10*1024*1024,iv=function(s){return typeof s=="string"&&s.length!==0&&!yT.test(s)},d9=function(s){return typeof s=="string"&&s.length!==0&&!wT.test(s)},AT=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),d9(s)},kT=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Fx(s)||s&&typeof s=="object"&&Ei(s,".sv")},u9=function(s,n,i,o){o&&n===void 0||kf(mf(s,"value"),n,i)},kf=function(s,n,i){const o=i instanceof _s?new zF(i,s):i;if(n===void 0)throw new Error(s+"contains undefined "+el(o));if(typeof n=="function")throw new Error(s+"contains a function "+el(o)+" with contents = "+n.toString());if(Fx(n))throw new Error(s+"contains "+n.toString()+" "+el(o));if(typeof n=="string"&&n.length>Gp/3&&xf(n)>Gp)throw new Error(s+"contains a string greater than "+Gp+" utf8 bytes "+el(o)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let l=!1,u=!1;if(Ra(n,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!iv(f)))throw new Error(s+" contains an invalid key ("+f+") "+el(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);LF(o,f),kf(s,h,o),QF(o)}),l&&u)throw new Error(s+' contains ".value" child '+el(o)+" in addition to actual children.")}},jT=function(s,n){let i,o;for(i=0;i<n.length;i++){o=n[i];const u=A2(o);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!iv(u[f]))throw new Error(s+"contains an invalid key ("+u[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(OF);let l=null;for(i=0;i<n.length;i++){if(o=n[i],l!==null&&O1(l,o))throw new Error(s+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},NT=function(s,n,i,o){const l=mf(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(l+" must be an object containing the children to replace.");const u=[];Ra(n,(f,h)=>{const p=new _s(f);if(kf(l,h,_n(i,p)),Ux(p)===".priority"&&!kT(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),jT(l,u)},f9=function(s,n,i,o){if(!d9(i))throw new Error(mf(s,n)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CT=function(s,n,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),f9(s,n,i)},ov=function(s,n){if(_r(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},ST=function(s,n){const i=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!iv(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!AT(i))throw new Error(mf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jf(s,n){let i=null;for(let o=0;o<n.length;o++){const l=n[o],u=l.getPath();i!==null&&!Ox(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&s.eventLists_.push(i)}function h9(s,n,i){jf(s,i),p9(s,o=>Ox(o,n))}function H1(s,n,i){jf(s,i),p9(s,o=>O1(o,n)||O1(n,o))}function p9(s,n){s.recursionDepth_++;let i=!0;for(let o=0;o<s.eventLists_.length;o++){const l=s.eventLists_[o];if(l){const u=l.path;n(u)?(IT(s.eventLists_[o]),s.eventLists_[o]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function IT(s){for(let n=0;n<s.events.length;n++){const i=s.events[n];if(i!==null){s.events[n]=null;const o=i.getEventRunner();V0&&Ba("event: "+i.toString()),_c(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="repo_interrupt",DT=25;class MT{constructor(n,i,o,l){this.repoInfo_=n,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ET,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fu(),this.transactionQueueTree_=new nv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FT(s,n,i){if(s.stats_=_x(s.repoInfo_),s.forceRestClient_||dF())s.server_=new Mu(s.repoInfo_,(o,l,u,f)=>{j8(s,o,l,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>N8(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{aa(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}s.persistentConnection_=new Hi(s.repoInfo_,n,(o,l,u,f)=>{j8(s,o,l,u,f)},o=>{N8(s,o)},o=>{RT(s,o)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(o=>{s.server_.refreshAuthToken(o)}),s.appCheckProvider_.addTokenChangeListener(o=>{s.server_.refreshAppCheckToken(o.token)}),s.statsReporter_=mF(s.repoInfo_,()=>new pR(s.stats_,s.server_)),s.infoData_=new cR,s.infoSyncTree_=new A8({startListening:(o,l,u,f)=>{let h=[];const p=s.infoData_.getNode(o._path);return p.isEmpty()||(h=q2(s.infoSyncTree_,o._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),lv(s,"connected",!1),s.serverSyncTree_=new A8({startListening:(o,l,u,f)=>(s.server_.listen(o,u,l,(h,p)=>{const m=f(h,p);H1(s.eventQueue_,o._path,m)}),[]),stopListening:(o,l)=>{s.server_.unlisten(o,l)}})}function m9(s){const i=s.infoData_.getNode(new _s(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Nf(s){return pT({timestamp:m9(s)})}function j8(s,n,i,o,l){s.dataUpdateCount++;const u=new _s(n);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,i):i;let f=[];if(l)if(o){const p=Nu(i,m=>na(m));f=lT(s.serverSyncTree_,u,p,l)}else{const p=na(i);f=t9(s.serverSyncTree_,u,p,l)}else if(o){const p=Nu(i,m=>na(m));f=aT(s.serverSyncTree_,u,p)}else{const p=na(i);f=q2(s.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=Ac(s,u)),H1(s.eventQueue_,h,f)}function N8(s,n){lv(s,"connected",n),n===!1&&UT(s)}function RT(s,n){Ra(n,(i,o)=>{lv(s,i,o)})}function lv(s,n,i){const o=new _s("/.info/"+n),l=na(i);s.infoData_.updateSnapshot(o,l);const u=q2(s.infoSyncTree_,o,l);H1(s.eventQueue_,o,u)}function cv(s){return s.nextWriteId_++}function TT(s,n,i){const o=cT(s.serverSyncTree_,n);return o!=null?Promise.resolve(o):s.server_.get(n).then(l=>{const u=na(l).withIndex(n._queryParams.getIndex());cm(s.serverSyncTree_,n,i,!0);let f;if(n._queryParams.loadsAllData())f=q2(s.serverSyncTree_,n._path,u);else{const h=S2(s.serverSyncTree_,n);f=t9(s.serverSyncTree_,n._path,u,h)}return H1(s.eventQueue_,n._path,f),Lu(s.serverSyncTree_,n,i,null,!0),u},l=>(V2(s,"get for query "+aa(n)+" failed: "+l),Promise.reject(new Error(l))))}function _T(s,n,i,o,l){V2(s,"set",{path:n.toString(),value:i,priority:o});const u=Nf(s),f=na(i,o),h=Jx(s.serverSyncTree_,n),p=i9(f,h,u),m=cv(s),x=e9(s.serverSyncTree_,n,p,m,!0);jf(s.eventQueue_,x),s.server_.put(n.toString(),f.val(!0),(v,w)=>{const y=v==="ok";y||a1("set at "+n+" failed: "+v);const A=po(s.serverSyncTree_,m,!y);H1(s.eventQueue_,n,A),um(s,l,v,w)});const b=uv(s,n);Ac(s,b),H1(s.eventQueue_,b,[])}function PT(s,n,i,o){V2(s,"update",{path:n.toString(),value:i});let l=!0;const u=Nf(s),f={};if(Ra(i,(h,p)=>{l=!1,f[h]=a9(_n(n,h),na(p),s.serverSyncTree_,u)}),l)Ba("update() called with empty data.  Don't do anything."),um(s,o,"ok",void 0);else{const h=cv(s),p=nT(s.serverSyncTree_,n,f,h);jf(s.eventQueue_,p),s.server_.merge(n.toString(),i,(m,x)=>{const b=m==="ok";b||a1("update at "+n+" failed: "+m);const v=po(s.serverSyncTree_,h,!b),w=v.length>0?Ac(s,n):n;H1(s.eventQueue_,w,v),um(s,o,m,x)}),Ra(i,m=>{const x=uv(s,_n(n,m));Ac(s,x)}),H1(s.eventQueue_,n,[])}}function UT(s){V2(s,"onDisconnectEvents");const n=Nf(s),i=Fu();sm(s.onDisconnect_,ps(),(l,u)=>{const f=a9(l,u,s.serverSyncTree_,n);OA(i,l,f)});let o=[];sm(i,ps(),(l,u)=>{o=o.concat(q2(s.serverSyncTree_,l,u));const f=uv(s,l);Ac(s,f)}),s.onDisconnect_=Fu(),H1(s.eventQueue_,ps(),o)}function OT(s,n,i){let o;_r(n._path)===".info"?o=cm(s.infoSyncTree_,n,i):o=cm(s.serverSyncTree_,n,i),h9(s.eventQueue_,n._path,o)}function zT(s,n,i){let o;_r(n._path)===".info"?o=Lu(s.infoSyncTree_,n,i):o=Lu(s.serverSyncTree_,n,i),h9(s.eventQueue_,n._path,o)}function LT(s){s.persistentConnection_&&s.persistentConnection_.interrupt(BT)}function V2(s,...n){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),Ba(i,...n)}function um(s,n,i,o){n&&_c(()=>{if(i==="ok")n(null);else{const l=(i||"error").toUpperCase();let u=l;o&&(u+=": "+o);const f=new Error(u);f.code=l,n(f)}})}function x9(s,n,i){return Jx(s.serverSyncTree_,n,i)||sr.EMPTY_NODE}function dv(s,n=s.transactionQueueTree_){if(n||Cf(s,n),Uc(n)){const i=g9(s,n);ft(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&QT(s,Y2(n),i)}else l9(n)&&Af(n,i=>{dv(s,i)})}function QT(s,n,i){const o=i.map(m=>m.currentWriteId),l=x9(s,n,o);let u=l;const f=l.hash();for(let m=0;m<i.length;m++){const x=i[m];ft(x.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const b=s1(n,x.path);u=u.updateChild(b,x.currentOutputSnapshotRaw)}const h=u.val(!0),p=n;s.server_.put(p.toString(),h,m=>{V2(s,"transaction put response",{path:p.toString(),status:m});let x=[];if(m==="ok"){const b=[];for(let v=0;v<i.length;v++)i[v].status=2,x=x.concat(po(s.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&b.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();Cf(s,av(s.transactionQueueTree_,n)),dv(s,s.transactionQueueTree_),H1(s.eventQueue_,n,x);for(let v=0;v<b.length;v++)_c(b[v])}else{if(m==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{a1("transaction at "+p.toString()+" failed: "+m);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=m}Ac(s,n)}},f)}function Ac(s,n){const i=v9(s,n),o=Y2(i),l=g9(s,i);return HT(s,l,o),o}function HT(s,n,i){if(n.length===0)return;const o=[];let l=[];const f=n.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<n.length;h++){const p=n[h],m=s1(i,p.path);let x=!1,b;if(ft(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)x=!0,b=p.abortReason,l=l.concat(po(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=DT)x=!0,b="maxretry",l=l.concat(po(s.serverSyncTree_,p.currentWriteId,!0));else{const v=x9(s,p.path,f);p.currentInputSnapshot=v;const w=n[h].update(v.val());if(w!==void 0){kf("transaction failed: Data returned ",w,p.path);let y=na(w);typeof w=="object"&&w!=null&&Ei(w,".priority")||(y=y.updatePriority(v.getPriority()));const k=p.currentWriteId,E=Nf(s),j=i9(y,v,E);p.currentOutputSnapshotRaw=y,p.currentOutputSnapshotResolved=j,p.currentWriteId=cv(s),f.splice(f.indexOf(k),1),l=l.concat(e9(s.serverSyncTree_,p.path,j,p.currentWriteId,p.applyLocally)),l=l.concat(po(s.serverSyncTree_,k,!0))}else x=!0,b="nodata",l=l.concat(po(s.serverSyncTree_,p.currentWriteId,!0))}H1(s.eventQueue_,i,l),l=[],x&&(n[h].status=2,function(v){setTimeout(v,Math.floor(0))}(n[h].unwatcher),n[h].onComplete&&(b==="nodata"?o.push(()=>n[h].onComplete(null,!1,n[h].currentInputSnapshot)):o.push(()=>n[h].onComplete(new Error(b),!1,null))))}Cf(s,s.transactionQueueTree_);for(let h=0;h<o.length;h++)_c(o[h]);dv(s,s.transactionQueueTree_)}function v9(s,n){let i,o=s.transactionQueueTree_;for(i=_r(n);i!==null&&Uc(o)===void 0;)o=av(o,i),n=Xs(n),i=_r(n);return o}function g9(s,n){const i=[];return b9(s,n,i),i.sort((o,l)=>o.order-l.order),i}function b9(s,n,i){const o=Uc(n);if(o)for(let l=0;l<o.length;l++)i.push(o[l]);Af(n,l=>{b9(s,l,i)})}function Cf(s,n){const i=Uc(n);if(i){let o=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[o]=i[l],o++);i.length=o,o9(n,i.length>0?i:void 0)}Af(n,o=>{Cf(s,o)})}function uv(s,n){const i=Y2(v9(s,n)),o=av(s.transactionQueueTree_,n);return gT(o,l=>{qp(s,l)}),qp(s,o),c9(o,l=>{qp(s,l)}),i}function qp(s,n){const i=Uc(n);if(i){const o=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(ft(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(ft(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(po(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&o.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?o9(n,void 0):i.length=u+1,H1(s.eventQueue_,Y2(n),l);for(let f=0;f<o.length;f++)_c(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s){let n="";const i=s.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let l=i[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}n+="/"+l}return n}function qT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):a1(`Invalid query segment '${i}' in query '${s}'`)}return n}const C8=function(s,n){const i=YT(s),o=i.namespace;i.domain==="firebase.com"&&Wi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&Wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||tF();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new AA(i.host,i.secure,o,l,n,"",o!==i.subdomain),path:new _s(i.pathString)}},YT=function(s){let n="",i="",o="",l="",u="",f=!0,h="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(h=s.substring(0,m-1),s=s.substring(m+2));let x=s.indexOf("/");x===-1&&(x=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),n=s.substring(0,Math.min(x,b)),x<b&&(l=GT(s.substring(x,b)));const v=qT(s.substring(Math.min(s.length,b)));m=n.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(n.substring(m+1),10)):m=n.length;const w=n.slice(0,m);if(w.toLowerCase()==="localhost")i="localhost";else if(w.split(".").length<=2)i=w;else{const y=n.indexOf(".");o=n.substring(0,y).toLowerCase(),i=n.substring(y+1),u=o}"ns"in v&&(u=v.ns)}return{host:n,port:p,domain:i,subdomain:o,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",VT=function(){let s=0;const n=[];return function(i){const o=i===s;s=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=S8.charAt(i%64),i=Math.floor(i/64);ft(i===0,"Cannot push at time == 0");let f=u.join("");if(o){for(l=11;l>=0&&n[l]===63;l--)n[l]=0;n[l]++}else for(l=0;l<12;l++)n[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=S8.charAt(n[l]);return ft(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(n,i,o,l){this.eventType=n,this.eventRegistration=i,this.snapshot=o,this.prevName=l}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+aa(this.snapshot.exportVal())}}class WT{constructor(n,i,o){this.eventRegistration=n,this.error=i,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(n,i){this.snapshotCallback=n,this.cancelCallback=i}onValue(n,i){this.snapshotCallback.call(null,n,i)}onCancel(n){return ft(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(n,i,o,l){this._repo=n,this._path=i,this._queryParams=o,this._orderByCalled=l}get key(){return Qr(this._path)?null:Ux(this._path)}get ref(){return new Ji(this._repo,this._path)}get _queryIdentifier(){const n=f8(this._queryParams),i=Rx(n);return i==="{}"?"default":i}get _queryObject(){return f8(this._queryParams)}isEqual(n){if(n=jl(n),!(n instanceof fv))return!1;const i=this._repo===n._repo,o=Ox(this._path,n._path),l=this._queryIdentifier===n._queryIdentifier;return i&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+UF(this._path)}}class Ji extends fv{constructor(n,i){super(n,i,new Hx,!1)}get parent(){const n=DA(this._path);return n===null?null:new Ji(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class E2{constructor(n,i,o){this._node=n,this.ref=i,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const i=new _s(n),o=I2(this.ref,n);return new E2(this._node.getChild(i),o,Pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>n(new E2(l,I2(this.ref,o),Pn)))}hasChild(n){const i=new _s(n);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function so(s,n){return s=jl(s),s._checkNotDeleted("ref"),n!==void 0?I2(s._root,n):s._root}function I2(s,n){return s=jl(s),_r(s._path)===null?CT("child","path",n):f9("child","path",n),new Ji(s._repo,_n(s._path,n))}function w9(s,n){s=jl(s),ov("push",s._path),u9("push",n,s._path,!0);const i=m9(s._repo),o=VT(i),l=I2(s,o),u=I2(s,o);let f;return f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function A9(s){return ov("remove",s._path),Qu(s,null)}function Qu(s,n){s=jl(s),ov("set",s._path),u9("set",n,s._path,!1);const i=new z2;return _T(s._repo,s._path,n,null,i.wrapCallback(()=>{})),i.promise}function k9(s,n){NT("update",n,s._path);const i=new z2;return PT(s._repo,s._path,n,i.wrapCallback(()=>{})),i.promise}function j9(s){s=jl(s);const n=new y9(()=>{}),i=new Sf(n);return TT(s._repo,s,i).then(o=>new E2(o,new Ji(s._repo,s._path),s._queryParams.getIndex()))}class Sf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,i){const o=i._queryParams.getIndex();return new $T("value",this,new E2(n.snapshotNode,new Ji(i._repo,i._path),o))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,i){return this.callbackContext.hasCancelCallback?new WT(this,n,i):null}matches(n){return n instanceof Sf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function KT(s,n,i,o,l){const u=new y9(i,void 0),f=new Sf(u);return OT(s._repo,s,f),()=>zT(s._repo,s,f)}function N9(s,n,i,o){return KT(s,"value",n)}KR(Ji);tT(Ji);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="FIREBASE_DATABASE_EMULATOR_HOST",fm={};let XT=!1;function ZT(s,n,i,o){const l=n.lastIndexOf(":"),u=n.substring(0,l),f=Dx(u);s.repoInfo_=new AA(n,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),o&&(s.authTokenProvider_=o)}function e_(s,n,i,o,l){let u=o||s.options.databaseURL;u===void 0&&(s.options.projectId||Wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ba("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=C8(u,l),h=f.repoInfo,p;typeof process<"u"&&$6&&(p=$6[JT]),p?(u=`http://${p}?ns=${h.namespace}`,f=C8(u,l),h=f.repoInfo):f.repoInfo.secure;const m=new fF(s.name,s.options,n);ST("Invalid Firebase Database URL",f),Qr(f.path)||Wi("Database URL must point to the root of a Firebase Database (not including a child path).");const x=r_(h,s,m,new uF(s,i));return new s_(x,s)}function t_(s,n){const i=fm[n];(!i||i[s.key]!==s)&&Wi(`Database ${n}(${s.repoInfo_}) has already been deleted.`),LT(s),delete i[s.key]}function r_(s,n,i,o){let l=fm[n.name];l||(l={},fm[n.name]=l);let u=l[s.toURLString()];return u&&Wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new MT(s,XT,i,o),l[s.toURLString()]=u,u}let s_=class{constructor(n,i){this._repoInternal=n,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(FT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ji(this._repo,ps())),this._rootInternal}_delete(){return this._rootInternal!==null&&(t_(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Wi("Cannot call "+n+" on a deleted database.")}};function n_(s=_M(),n){const i=DM(s,"database").getImmediate({identifier:n});if(!i._instanceStarted){const o=xD("database");o&&a_(i,...o)}return i}function a_(s,n,i,o={}){s=jl(s),s._checkNotDeleted("useEmulator");const l=`${n}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(l===s._repoInternal.repoInfo_.host&&Cu(o,u.repoInfo_.emulatorOptions))return;Wi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&Wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new $d($d.OWNER);else if(o.mockUserToken){const h=typeof o.mockUserToken=="string"?o.mockUserToken:gD(o.mockUserToken,s.app.options.projectId);f=new $d(h)}Dx(n)&&(vD(n),wD("Database",!0)),ZT(u,l,o,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(s){WM(TM),Eu(new b2("database",(n,{instanceIdentifier:i})=>{const o=n.getProvider("app").getImmediate(),l=n.getProvider("auth-internal"),u=n.getProvider("app-check-internal");return e_(o,l,u,i)},"PUBLIC").setMultipleInstances(!0)),nc(W6,K6,s),nc(W6,K6,"esm2020")}Hi.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Hi.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};i_();const o_={apiKey:"AIzaSyDdPSX6rrF2AwX9FXTFv3NBvTnodN7jgTE",authDomain:"pos-inventory-5eb73.firebaseapp.com",databaseURL:"https://pos-inventory-5eb73-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"pos-inventory-5eb73",storageBucket:"pos-inventory-5eb73.firebasestorage.app",messagingSenderId:"208477913648",appId:"1:208477913648:web:9d9b8d675b478f1b9e63f5",measurementId:"G-J0WGXMCT2L"},l_=aA(o_),no=n_(l_),Qt={set:async(s,n)=>{try{return await Qu(so(no,s),n),console.log(` Firebase: Data saved to ${s}`),{success:!0}}catch(i){return console.error(` Firebase: Error saving to ${s}:`,i),{success:!1,error:i.message||i.toString()}}},get:async s=>{try{const n=await j9(so(no,s));return n.exists()?{success:!0,data:n.val()}:{success:!0,data:null}}catch(n){return console.error(` Firebase: Error reading ${s}:`,n),{success:!1,error:n}}},onValue:(s,n)=>{const i=so(no,s);return N9(i,o=>{const l=o.val();n(l)})},push:async(s,n)=>{try{const i=w9(so(no,s));return await Qu(i,n),console.log(` Firebase: Item pushed to ${s}`),{success:!0,id:i.key}}catch(i){return console.error(` Firebase: Error pushing to ${s}:`,i),{success:!1,error:i}}},update:async(s,n)=>{try{return await k9(so(no,s),n),console.log(` Firebase: Data updated at ${s}`),{success:!0}}catch(i){return console.error(` Firebase: Error updating ${s}:`,i),{success:!1,error:i}}},remove:async s=>{try{return await A9(so(no,s)),console.log(` Firebase: Data removed from ${s}`),{success:!0}}catch(n){return console.error(` Firebase: Error removing ${s}:`,n),{success:!1,error:n}}},ref:s=>so(no,s)},c_=Object.freeze(Object.defineProperty({__proto__:null,database:no,firebaseDB:Qt,get:j9,onValue:N9,push:w9,ref:so,remove:A9,set:Qu,update:k9},Symbol.toStringTag,{value:"Module"})),Yp=async s=>{try{await Qt.set(`app_users/${s.id}`,{id:s.id,username:s.username,password_hash:s.password,name:s.name,role:s.role,permissions:s.permissions,is_active:s.isActive,created_at:s.createdAt,updated_at:s.updatedAt||new Date().toISOString()}),console.log(" User synced to Firebase:",s.username)}catch(n){console.error(" User sync error:",n.message)}},ao=s=>aD.SHA256(s).toString(),E8=(s,n)=>ao(s)===n||s===n,d_={all:"Semua Akses",pos:"Kasir (POS)",products:"Kelola Produk",products_view:"Lihat Produk",stock:"Kelola Stok",customers:"Kelola Pelanggan",customers_view:"Lihat Pelanggan",sales:"Lihat Penjualan",purchases:"Pembelian & Supplier",reports:"Laporan",marketplace:"Marketplace (Shopee)",settings:"Pengaturan"},A1=y1(w1((s,n)=>({user:null,isAuthenticated:!1,users:[{id:1,username:"admin",password:ao("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}},{id:2,username:"kasir",password:ao("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}}],login:(i,o)=>{const l=n().users,u=l.find(h=>h.username===i&&E8(o,h.password)&&h.isActive!==!1);if(u){const{password:h,...p}=u;return s({user:p,isAuthenticated:!0}),Fp.getState().addLog(Rp.LOGIN,{username:u.username,role:u.role},u.id,u.name),{success:!0}}Fp.getState().addLog(Rp.LOGIN_FAILED,{username:i,reason:"Invalid credentials"},null,null);const f=l.find(h=>h.username===i&&E8(o,h.password));return f&&!f.isActive?{success:!1,error:"Akun tidak aktif. Hubungi administrator."}:{success:!1,error:"Username atau password salah"}},logout:()=>{const i=n().user;i&&Fp.getState().addLog(Rp.LOGOUT,{username:i.username},i.id,i.name),s({user:null,isAuthenticated:!1})},addUser:async i=>{const o=n().users;if(o.some(u=>u.username.toLowerCase()===i.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const l={id:Date.now(),username:i.username,password:ao(i.password),name:i.name,role:i.role||"cashier",permissions:i.permissions||["pos","products_view"],isActive:!0,createdAt:new Date().toISOString(),marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}};return s({users:[...o,l]}),await Yp(l),{success:!0,user:l}},updateUser:async(i,o)=>{const l=n().users,u=n().user,f=l.find(m=>m.id===i);if((f==null?void 0:f.id)===1&&(u==null?void 0:u.id)!==1)return{success:!1,error:"Tidak bisa mengedit admin utama"};if(o.username&&l.find(x=>x.id!==i&&x.username.toLowerCase()===o.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};o.password&&(o.password=ao(o.password));const h=l.map(m=>m.id===i?{...m,...o,updatedAt:new Date().toISOString()}:m);if(s({users:h}),(u==null?void 0:u.id)===i){const m=h.find(v=>v.id===i),{password:x,...b}=m;s({user:b})}const p=h.find(m=>m.id===i);return p&&await Yp(p),{success:!0}},deleteUser:i=>{const o=n().users,l=n().user;return(l==null?void 0:l.id)===i?{success:!1,error:"Tidak bisa menghapus akun sendiri"}:i===1?{success:!1,error:"Tidak bisa menghapus admin utama"}:(s({users:o.filter(u=>u.id!==i)}),{success:!0})},toggleUserActive:i=>{const o=n().users,l=n().user;if((l==null?void 0:l.id)===i)return{success:!1,error:"Tidak bisa menonaktifkan akun sendiri"};if(i===1)return{success:!1,error:"Tidak bisa menonaktifkan admin utama"};const u=o.map(f=>f.id===i?{...f,isActive:!f.isActive}:f);return s({users:u}),{success:!0}},changePassword:async(i,o)=>{const u=n().users.map(h=>h.username===i?{...h,password:ao(o),updatedAt:new Date().toISOString()}:h);s({users:u});const f=u.find(h=>h.username===i);f&&await Yp(f)},updateMarketplaceCredentials:(i,o,l)=>{const u=n().users,f=n().user,h=u.map(p=>{var m;return p.id===i?{...p,marketplaceCredentials:{...p.marketplaceCredentials,[o]:{...(m=p.marketplaceCredentials)==null?void 0:m[o],...l}}}:p});if(s({users:h}),(f==null?void 0:f.id)===i){const p=h.find(b=>b.id===i),{password:m,...x}=p;s({user:x})}return{success:!0}},getMyMarketplaceCredentials:i=>{var f;const o=n().user;if(!o)return null;const u=n().users.find(h=>h.id===o.id);return((f=u==null?void 0:u.marketplaceCredentials)==null?void 0:f[i])||null},getUserById:i=>n().users.find(l=>l.id===i),hasPermission:i=>{const o=n();return o.user?o.user.permissions.includes("all")?!0:o.user.permissions.includes(i):!1},isAdmin:()=>{var o,l,u;const i=n();return((o=i.user)==null?void 0:o.role)==="admin"||((u=(l=i.user)==null?void 0:l.permissions)==null?void 0:u.includes("all"))},resetToDefaultAdmin:()=>{const i={id:1,username:"admin",password:ao("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z"},o={id:2,username:"kasir",password:ao("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z"};return s({users:[i,o],user:{...i,password:void 0},isAuthenticated:!0}),{success:!0}}}),{name:"auth-storage"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var kc;(function(s){s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE"})(kc||(kc={}));class Vp extends Error{constructor(n,i,o){super(n),this.message=n,this.code=i,this.data=o}}const u_=s=>{var n,i;return s!=null&&s.androidBridge?"android":!((i=(n=s==null?void 0:s.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},f_=s=>{const n=s.CapacitorCustomPlatform||null,i=s.Capacitor||{},o=i.Plugins=i.Plugins||{},l=()=>n!==null?n.name:u_(s),u=()=>l()!=="web",f=b=>{const v=m.get(b);return!!(v!=null&&v.platforms.has(l())||h(b))},h=b=>{var v;return(v=i.PluginHeaders)===null||v===void 0?void 0:v.find(w=>w.name===b)},p=b=>s.console.error(b),m=new Map,x=(b,v={})=>{const w=m.get(b);if(w)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),w.proxy;const y=l(),A=h(b);let k;const E=async()=>(!k&&y in v?k=typeof v[y]=="function"?k=await v[y]():k=v[y]:n!==null&&!k&&"web"in v&&(k=typeof v.web=="function"?k=await v.web():k=v.web),k),j=(D,H)=>{var T,_;if(A){const L=A==null?void 0:A.methods.find(z=>H===z.name);if(L)return L.rtype==="promise"?z=>i.nativePromise(b,H.toString(),z):(z,G)=>i.nativeCallback(b,H.toString(),z,G);if(D)return(T=D[H])===null||T===void 0?void 0:T.bind(D)}else{if(D)return(_=D[H])===null||_===void 0?void 0:_.bind(D);throw new Vp(`"${b}" plugin is not implemented on ${y}`,kc.Unimplemented)}},N=D=>{let H;const T=(..._)=>{const L=E().then(z=>{const G=j(z,D);if(G){const K=G(..._);return H=K==null?void 0:K.remove,K}else throw new Vp(`"${b}.${D}()" is not implemented on ${y}`,kc.Unimplemented)});return D==="addListener"&&(L.remove=async()=>H()),L};return T.toString=()=>`${D.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:D,writable:!1,configurable:!1}),T},I=N("addListener"),M=N("removeListener"),B=(D,H)=>{const T=I({eventName:D},H),_=async()=>{const z=await T;M({eventName:D,callbackId:z},H)},L=new Promise(z=>T.then(()=>z({remove:_})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await _()},L},F=new Proxy({},{get(D,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?B:I;case"removeListener":return M;default:return N(H)}}});return o[b]=F,m.set(b,{name:b,proxy:F,platforms:new Set([...Object.keys(v),...A?[y]:[]])}),F};return i.convertFileSrc||(i.convertFileSrc=b=>b),i.getPlatform=l,i.handleError=p,i.isNativePlatform=u,i.isPluginAvailable=f,i.registerPlugin=x,i.Exception=Vp,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},h_=s=>s.Capacitor=f_(s),To=h_(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Sl=To.registerPlugin;class C9{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,i){let o=!1;this.listeners[n]||(this.listeners[n]=[],o=!0),this.listeners[n].push(i);const u=this.windowListeners[n];u&&!u.registered&&this.addWindowListener(u),o&&this.sendRetainedArgumentsForEvent(n);const f=async()=>this.removeListener(n,i);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i,o){const l=this.listeners[n];if(!l){if(o){let u=this.retainedEventArguments[n];u||(u=[]),u.push(i),this.retainedEventArguments[n]=u}return}l.forEach(u=>u(i))}hasListeners(n){var i;return!!(!((i=this.listeners[n])===null||i===void 0)&&i.length)}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:o=>{this.notifyListeners(i,o)}}}unimplemented(n="not implemented"){return new To.Exception(n,kc.Unimplemented)}unavailable(n="not available"){return new To.Exception(n,kc.Unavailable)}async removeListener(n,i){const o=this.listeners[n];if(!o)return;const l=o.indexOf(i);this.listeners[n].splice(l,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const i=this.retainedEventArguments[n];i&&(delete this.retainedEventArguments[n],i.forEach(o=>{this.notifyListeners(n,o)}))}}const I8=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),B8=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p_ extends C9{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(o=>{if(o.length<=0)return;let[l,u]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=B8(l).trim(),u=B8(u).trim(),i[l]=u}),i}async setCookie(n){try{const i=I8(n.key),o=I8(n.value),l=`; expires=${(n.expires||"").replace("expires=","")}`,u=(n.path||"/").replace("path=",""),f=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${o||""}${l}; path=${u}; ${f};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}Sl("CapacitorCookies",{web:()=>new p_});const m_=async s=>new Promise((n,i)=>{const o=new FileReader;o.onload=()=>{const l=o.result;n(l.indexOf(",")>=0?l.split(",")[1]:l)},o.onerror=l=>i(l),o.readAsDataURL(s)}),x_=(s={})=>{const n=Object.keys(s);return Object.keys(s).map(l=>l.toLocaleLowerCase()).reduce((l,u,f)=>(l[u]=s[n[f]],l),{})},v_=(s,n=!0)=>s?Object.entries(s).reduce((o,l)=>{const[u,f]=l;let h,p;return Array.isArray(f)?(p="",f.forEach(m=>{h=n?encodeURIComponent(m):m,p+=`${u}=${h}&`}),p.slice(0,-1)):(h=n?encodeURIComponent(f):f,p=`${u}=${h}`),`${o}&${p}`},"").substr(1):null,g_=(s,n={})=>{const i=Object.assign({method:s.method||"GET",headers:s.headers},n),l=x_(s.headers)["content-type"]||"";if(typeof s.data=="string")i.body=s.data;else if(l.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[f,h]of Object.entries(s.data||{}))u.set(f,h);i.body=u.toString()}else if(l.includes("multipart/form-data")||s.data instanceof FormData){const u=new FormData;if(s.data instanceof FormData)s.data.forEach((h,p)=>{u.append(p,h)});else for(const h of Object.keys(s.data))u.append(h,s.data[h]);i.body=u;const f=new Headers(i.headers);f.delete("content-type"),i.headers=f}else(l.includes("application/json")||typeof s.data=="object")&&(i.body=JSON.stringify(s.data));return i};class b_ extends C9{async request(n){const i=g_(n,n.webFetchExtra),o=v_(n.params,n.shouldEncodeUrlParams),l=o?`${n.url}?${o}`:n.url,u=await fetch(l,i),f=u.headers.get("content-type")||"";let{responseType:h="text"}=u.ok?n:{};f.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await u.blob(),p=await m_(m);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const x={};return u.headers.forEach((b,v)=>{x[v]=b}),{data:p,headers:x,status:u.status,url:u.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}Sl("CapacitorHttp",{web:()=>new b_});To.isNativePlatform();const Nt=To.getPlatform()==="android";To.getPlatform();To.getPlatform();To.getPlatform();const y_=async(s,n)=>{try{if(s.includes(n))return{success:!1,error:"Category already exists"};const i=[...s,n],o=await Qt.set("categories",i);return o.success?(console.log(" Category added to Firebase:",n),{success:!0,categories:i}):(console.error(" Firebase set failed:",o.error),{success:!1,error:o.error||"Firebase save failed"})}catch(i){return console.error(" addCategory error:",i),{success:!1,error:i.message||"Unknown error"}}},w_=async(s,n)=>{try{console.log(" removeCategoryFromFirebase called for:",n),console.log(" Current categories:",s);const i=s.filter(l=>l!==n);console.log(" New categories after filter:",i);const o=await Qt.set("categories",i);return console.log(" Firebase set result:",o),o.success?(console.log(" Category removed from Firebase:",n),{success:!0,categories:i}):(console.error(" Firebase set failed:",o.error),{success:!1,error:o.error||"Firebase save failed"})}catch(i){return console.error(" removeCategory error:",i),{success:!1,error:i.message||"Unknown error"}}},la=y1(w1((s,n)=>({products:[],categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling","Marketplace"],units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!0,isSyncing:!1,setProducts:i=>s({products:i}),setCategories:i=>s({categories:i}),setUnits:i=>s({units:i}),setStockHistory:i=>s({stockHistory:i}),addCategory:async i=>{const o=await y_(n().categories,i);return o.success&&s({categories:o.categories}),o},removeCategory:async i=>{const o=await w_(n().categories,i);return o.success&&s({categories:o.categories}),o},addProduct:async i=>{const o={...i,id:i.id||(crypto.randomUUID?crypto.randomUUID():Date.now().toString()),code:i.code||`PRD${String(n().products.length+1).padStart(3,"0")}`,cost:i.cost||i.costPrice||0,costPrice:i.costPrice||i.cost||0,price:i.price||i.sellingPrice||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(" Adding product to Firebase:",o.name);const l=await Qt.set(`products/${o.id}`,o);return l.success?(console.log(" Product added to Firebase"),{success:!0,product:o}):(console.error(" Failed to add product:",l.error),{success:!1,error:l.error})},updateProduct:async(i,o)=>{const l={...o,cost:o.cost||o.costPrice||0,costPrice:o.costPrice||o.cost||0,price:o.price||o.sellingPrice||0,updatedAt:new Date().toISOString()};console.log(" Updating product in Firebase:",i);const u=await Qt.update(`products/${i}`,l);return u.success?(console.log(" Product updated in Firebase"),{success:!0}):(console.error(" Failed to update product:",u.error),{success:!1,error:u.error})},deleteProduct:async i=>{console.log(" Deleting product from Firebase:",i);const o=await Qt.remove(`products/${i}`);return o.success?(console.log(" Product deleted from Firebase"),{success:!0}):(console.error(" Failed to delete product:",o.error),{success:!1,error:o.error})},addCategory:i=>{s(o=>({categories:[...o.categories,i]}))},removeCategory:i=>{s(o=>({categories:o.categories.filter(l=>l!==i)}))},addUnit:i=>{s(o=>({units:[...o.units,i]}))},removeUnit:i=>{s(o=>({units:o.units.filter(l=>l!==i)}))},updateStock:async(i,o,l="set",u="adjustment",f="")=>{const h=n().products.find(w=>w.id===i);if(!h)return{success:!1,error:"Product not found"};const p=h.stock||0;let m=p;l==="add"?m+=o:l==="subtract"?m-=o:m=o,m=Math.max(0,m);const x=m-p,b={id:Date.now().toString(),productId:i,productName:h.name,productSku:h.sku||h.code,oldStock:p,newStock:m,change:x,type:u,note:f,createdAt:new Date().toISOString()},v=await Qt.update(`products/${i}`,{stock:m,updatedAt:new Date().toISOString()});return s(w=>({products:w.products.map(y=>y.id===i?{...y,stock:m,updatedAt:new Date().toISOString()}:y),stockHistory:[b,...w.stockHistory].slice(0,1e3)})),v.success?{success:!0,oldStock:p,newStock:m,change:x}:(console.warn("Firebase update failed but local state updated"),{success:!0,oldStock:p,newStock:m,change:x})},updateDamagedStock:async(i,o,l="add",u="")=>{const f=n().products.find(b=>b.id===i);if(!f)return{success:!1,error:"Product not found"};const h=f.damagedStock||0;let p=h;l==="add"?p+=o:l==="subtract"?p-=o:p=o,p=Math.max(0,p);const m={id:Date.now().toString(),productId:i,productName:f.name,productSku:f.sku||f.code,oldStock:h,newStock:p,change:p-h,type:"damaged_return",note:u,createdAt:new Date().toISOString()};return(await Qt.update(`products/${i}`,{damagedStock:p,updatedAt:new Date().toISOString()})).success?(s(b=>({products:b.products.map(v=>v.id===i?{...v,damagedStock:p}:v),stockHistory:[m,...b.stockHistory].slice(0,1e3)})),{success:!0,oldDamagedStock:h,newDamagedStock:p}):{success:!1,error:"Failed to update damaged stock"}},bulkUpdateStock:async(i,o="sync_marketplace")=>{const l=[];for(const{productId:u,newStock:f,note:h}of i){const p=await n().updateStock(u,f,"set",o,h);l.push({productId:u,...p})}return l},getProductByBarcode:i=>n().products.find(o=>o.barcode===i),getLowStockProducts:()=>n().products.filter(i=>(i.stock||0)<=(i.minStock||5)),getProductStockHistory:i=>n().stockHistory.filter(o=>o.productId===i),importShopeeProducts:async i=>{var f,h,p,m;let o=0,l=0;const u=n().products;for(const x of i){const b=`shopee_${x.item_id}`,v=u.findIndex(y=>y.id===b),w={id:b,shopeeItemId:x.item_id,code:`SHP${String(x.item_id).slice(-6)}`,sku:x.item_sku||"",name:x.item_name||`Shopee Product ${x.item_id}`,description:x.description||"",category:"Marketplace",unit:"pcs",price:((f=x.price_info)==null?void 0:f.current_price)||0,cost:0,costPrice:0,stock:((h=x.stock_info)==null?void 0:h.current_stock)||0,minStock:5,image:((m=(p=x.image)==null?void 0:p.image_url_list)==null?void 0:m[0])||"",source:"shopee",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Qt.set(`products/${b}`,w),v>=0?l++:o++}return{imported:o,updated:l,total:i.length}},clearShopeeProducts:async()=>{const i=n().products.filter(o=>o.source==="shopee");for(const o of i)await Qt.remove(`products/${o.id}`);return i.length}}),{name:"product-storage"})),F1=y1(w1((s,n)=>({customers:[],setCustomers:i=>s({customers:i}),addCustomer:async i=>{const o={...i,id:i.id||(crypto.randomUUID?crypto.randomUUID():Date.now().toString()),totalPurchases:0,totalSpent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(" Adding customer to Firebase:",o.name);const l=await Qt.set(`customers/${o.id}`,o);return l.success?(console.log(" Customer added to Firebase"),{success:!0,customer:o}):(console.error(" Failed to add customer:",l.error),{success:!1,error:l.error})},updateCustomer:async(i,o)=>{const l={...o,updatedAt:new Date().toISOString()};console.log(" Updating customer in Firebase:",i);const u=await Qt.update(`customers/${i}`,l);return u.success?(console.log(" Customer updated in Firebase"),{success:!0}):(console.error(" Failed to update customer:",u.error),{success:!1,error:u.error})},deleteCustomer:async i=>{console.log(" Deleting customer from Firebase:",i);const o=await Qt.remove(`customers/${i}`);return o.success?(console.log(" Customer deleted from Firebase"),{success:!0}):(console.error(" Failed to delete customer:",o.error),{success:!1,error:o.error})},updateCustomerStats:async(i,o)=>{const l=n().customers.find(f=>f.id===i);if(!l)return;const u={totalPurchases:(l.totalPurchases||0)+1,totalSpent:(l.totalSpent||0)+o,lastPurchase:new Date().toISOString(),updatedAt:new Date().toISOString()};await Qt.update(`customers/${i}`,u)},getCustomerByPhone:i=>n().customers.find(o=>o.phone===i),getCustomerById:i=>n().customers.find(o=>o.id===i),setCustomPrice:async(i,o,l)=>{const u=n().customers.find(p=>p.id===i);if(!u)return{success:!1,error:"Customer not found"};const f={...u.customPrices||{},[o]:l};console.log(" Setting custom price for customer:",i,"product:",o,"price:",l);const h=await Qt.update(`customers/${i}`,{customPrices:f,updatedAt:new Date().toISOString()});return h.success?(console.log(" Custom price saved"),{success:!0}):(console.error(" Failed to save custom price:",h.error),{success:!1,error:h.error})},removeCustomPrice:async(i,o)=>{const l=n().customers.find(h=>h.id===i);if(!l)return{success:!1,error:"Customer not found"};const u={...l.customPrices||{}};delete u[o],console.log(" Removing custom price for customer:",i,"product:",o);const f=await Qt.update(`customers/${i}`,{customPrices:u,updatedAt:new Date().toISOString()});return f.success?(console.log(" Custom price removed"),{success:!0}):(console.error(" Failed to remove custom price:",f.error),{success:!1,error:f.error})},saveCustomPrices:async(i,o)=>{if(!n().customers.find(f=>f.id===i))return{success:!1,error:"Customer not found"};console.log(" Saving all custom prices for customer:",i);const u=await Qt.update(`customers/${i}`,{customPrices:o,updatedAt:new Date().toISOString()});return u.success?(console.log(" All custom prices saved"),{success:!0}):(console.error(" Failed to save custom prices:",u.error),{success:!1,error:u.error})}}),{name:"customer-storage"})),Ci=y1(w1((s,n)=>({transactions:[],isOnline:!0,setTransactions:i=>s({transactions:i}),generateTransactionId:()=>{const i=new Date,o=String(i.getDate()).padStart(2,"0"),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getFullYear()).slice(-2),f=String(i.getHours()).padStart(2,"0"),h=String(i.getMinutes()).padStart(2,"0"),p=`${o}${l}${u}-${f}${h}`,m=n().transactions||[],x=`${o}${l}${u}`,b=m.filter(w=>w.id?w.id.startsWith(x):!1),v=String(b.length+1).padStart(4,"0");return`${p}-${v}`},addTransaction:async i=>{const o=n().generateTransactionId(),l={...i,id:i.id||o,status:i.status||"completed",date:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(" Adding transaction to Firebase:",l.id);const u=await Qt.set(`transactions/${l.id}`,l);return u.success?(console.log(" Transaction added to Firebase"),{success:!0,transaction:l}):(console.error(" Failed to add transaction:",u.error),{success:!1,error:u.error})},updateTransaction:async(i,o)=>{const l={...o,updatedAt:new Date().toISOString()};console.log(" Updating transaction in Firebase:",i);const u=await Qt.update(`transactions/${i}`,l);return u.success?(console.log(" Transaction updated in Firebase"),{success:!0}):(console.error(" Failed to update transaction:",u.error),{success:!1,error:u.error})},deleteTransaction:async i=>{console.log(" Deleting transaction from Firebase:",i);const o=await Qt.remove(`transactions/${i}`);return o.success?(console.log(" Transaction deleted from Firebase"),{success:!0}):(console.error(" Failed to delete transaction:",o.error),{success:!1,error:o.error})},getTransactionsByDateRange:(i,o)=>{const l=new Date(i).getTime(),u=new Date(o).getTime();return n().transactions.filter(f=>{const h=new Date(f.createdAt).getTime();return h>=l&&h<=u})},getTodayTransactions:()=>{const i=new Date;i.setHours(0,0,0,0);const o=new Date(i);return o.setDate(o.getDate()+1),n().transactions.filter(l=>{const u=new Date(l.createdAt);return u>=i&&u<o})},getTodaySales:()=>n().getTodayTransactions().filter(o=>o.status==="completed").reduce((o,l)=>o+(l.total||0),0),getTransactionById:i=>n().transactions.find(o=>o.id===i)}),{name:"transaction-storage"})),B2=y1(w1((s,n)=>({suppliers:[],purchases:[],setSuppliers:i=>s({suppliers:i}),setPurchases:i=>s({purchases:i}),addSupplier:async i=>{const o={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),createdAt:new Date().toISOString()};console.log(" Adding supplier to Firebase:",o);const l=await Qt.set(`suppliers/${o.id}`,o);console.log(" Firebase result:",l),s(u=>({suppliers:[...u.suppliers,o]}))},updateSupplier:async(i,o)=>{await Qt.update(`suppliers/${i}`,o)},deleteSupplier:async i=>{await Qt.remove(`suppliers/${i}`)},addPurchase:async i=>{const o=n().purchases.length,l={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),purchaseNumber:`PO${String(o+1).padStart(3,"0")}`,createdAt:new Date().toISOString()};console.log(" Adding purchase to Firebase:",l),await Qt.set(`purchases/${l.id}`,l)},updatePurchase:async(i,o)=>{await Qt.update(`purchases/${i}`,o)},deletePurchase:async i=>{await Qt.remove(`purchases/${i}`)}}),{name:"purchase-storage"})),jc=y1(w1((s,n)=>({salesOrders:[],setSalesOrders:i=>s({salesOrders:i}),addSalesOrder:async i=>{const o=new Date,l=o.toISOString().slice(2,10).replace(/-/g,""),u=o.toTimeString().slice(0,5).replace(":",""),f=String(Math.floor(Math.random()*1e3)).padStart(3,"0"),h=`SO-${l}-${u}-${f}`,p={...i,id:h,orderNumber:i.orderNumber||h,createdAt:o.toISOString()};try{await Qt.set(`salesOrders/${p.id}`,p),console.log(" Sales order added to Firebase:",p.orderNumber)}catch(m){console.error(" Error adding sales order to Firebase:",m.message)}return s(m=>({salesOrders:[...m.salesOrders,p]})),p},updateSalesOrder:async(i,o)=>{s(l=>({salesOrders:l.salesOrders.map(u=>u.id===i?{...u,...o}:u)}));try{await Qt.update(`salesOrders/${i}`,o),console.log(" Sales order updated in Firebase")}catch(l){console.error(" Error updating sales order:",l.message)}},deleteSalesOrder:async i=>{s(o=>({salesOrders:o.salesOrders.filter(l=>l.id!==i)}));try{await Qt.remove(`salesOrders/${i}`),console.log(" Sales order deleted from Firebase")}catch(o){console.error(" Error deleting sales order:",o.message)}},updateStatus:async(i,o)=>{s(l=>({salesOrders:l.salesOrders.map(u=>u.id===i?{...u,status:o}:u)}));try{await Qt.update(`salesOrders/${i}`,{status:o})}catch(l){console.error(" Error updating status:",l.message)}}}),{name:"sales-order-storage"})),hv=y1(w1((s,n)=>({expenses:[],setExpenses:i=>s({expenses:i}),addExpense:async i=>{const o={...i,id:i.id||(crypto.randomUUID?crypto.randomUUID():Date.now().toString()),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(" Adding expense to Firebase:",o.description);const l=await Qt.set(`expenses/${o.id}`,o);return l.success?(console.log(" Expense added to Firebase"),{success:!0,expense:o}):(console.error(" Failed to add expense:",l.error),{success:!1,error:l.error})},updateExpense:async(i,o)=>{const l={...o,updatedAt:new Date().toISOString()};console.log(" Updating expense in Firebase:",i);const u=await Qt.update(`expenses/${i}`,l);return u.success?(console.log(" Expense updated in Firebase"),{success:!0}):(console.error(" Failed to update expense:",u.error),{success:!1,error:u.error})},deleteExpense:async i=>{console.log(" Deleting expense from Firebase:",i);const o=await Qt.remove(`expenses/${i}`);return o.success?(console.log(" Expense deleted from Firebase"),s(l=>({expenses:l.expenses.filter(u=>u.id!==i)})),{success:!0}):(console.error(" Failed to delete expense:",o.error),{success:!1,error:o.error})},getExpensesByDateRange:(i,o)=>{const l=new Date(i).getTime(),u=new Date(o).getTime();return n().expenses.filter(f=>{const h=new Date(f.date||f.createdAt).getTime();return h>=l&&h<=u})},getTodayExpenses:()=>{const i=new Date;i.setHours(0,0,0,0);const o=new Date(i);return o.setDate(o.getDate()+1),n().expenses.filter(l=>{const u=new Date(l.date||l.createdAt);return u>=i&&u<o})},getTodayTotal:()=>n().getTodayExpenses().reduce((o,l)=>o+(l.amount||0),0),getExpensesByCategory:i=>n().expenses.filter(o=>o.category===i),getExpenseById:i=>n().expenses.find(o=>o.id===i)}),{name:"expense-storage"})),pv=y1(w1((s,n)=>({debts:[],setDebts:i=>s({debts:i}),addDebt:async i=>{const o={...i,id:i.id||(crypto.randomUUID?crypto.randomUUID():Date.now().toString()),paidAmount:i.paidAmount||0,status:i.status||"unpaid",payments:i.payments||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(" Adding debt to Firebase:",o.description);const l=await Qt.set(`debts/${o.id}`,o);return l.success?(console.log(" Debt added to Firebase"),{success:!0,debt:o}):(console.error(" Failed to add debt:",l.error),{success:!1,error:l.error})},updateDebt:async(i,o)=>{const l={...o,updatedAt:new Date().toISOString()};console.log(" Updating debt in Firebase:",i);const u=await Qt.update(`debts/${i}`,l);return u.success?(console.log(" Debt updated in Firebase"),{success:!0}):(console.error(" Failed to update debt:",u.error),{success:!1,error:u.error})},deleteDebt:async i=>{console.log(" Deleting debt from Firebase:",i);const o=await Qt.remove(`debts/${i}`);return o.success?(console.log(" Debt deleted from Firebase"),s(l=>({debts:l.debts.filter(u=>u.id!==i)})),{success:!0}):(console.error(" Failed to delete debt:",o.error),{success:!1,error:o.error})},addPayment:async(i,o)=>{const l=n().debts.find(v=>v.id===i);if(!l)return{success:!1,error:"Debt not found"};const u={id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),amount:o.amount,date:o.date||new Date().toISOString(),note:o.note||"",createdAt:new Date().toISOString()},f=[...l.payments||[],u],h=f.reduce((v,w)=>v+(w.amount||0),0),p=l.amount-h;let m="unpaid";h>=l.amount?m="paid":h>0&&(m="partial");const x={payments:f,paidAmount:h,status:m,updatedAt:new Date().toISOString()};console.log(" Adding payment to debt:",i);const b=await Qt.update(`debts/${i}`,x);return b.success?(console.log(" Payment added to debt"),{success:!0,remaining:p}):(console.error(" Failed to add payment:",b.error),{success:!1,error:b.error})},getDebtsByType:i=>n().debts.filter(o=>o.type===i),getPayables:()=>n().debts.filter(i=>i.type==="payable"),getReceivables:()=>n().debts.filter(i=>i.type==="receivable"),getUnpaidDebts:()=>n().debts.filter(i=>i.status!=="paid"),getTotalPayables:()=>n().getPayables().reduce((o,l)=>o+((l.amount||0)-(l.paidAmount||0)),0),getTotalReceivables:()=>n().getReceivables().reduce((o,l)=>o+((l.amount||0)-(l.paidAmount||0)),0),getDebtById:i=>n().debts.find(o=>o.id===i),getDebtsByDateRange:(i,o)=>{const l=new Date(i).getTime(),u=new Date(o).getTime();return n().debts.filter(f=>{const h=new Date(f.dueDate||f.createdAt).getTime();return h>=l&&h<=u})},getOverdueDebts:()=>{const i=new Date;return i.setHours(0,0,0,0),n().debts.filter(o=>o.status==="paid"||!o.dueDate?!1:new Date(o.dueDate)<i)}}),{name:"debt-storage"}));function A_(){const[s,n]=ae.useState({isConnected:!1,isSyncing:!1,lastSync:null}),i=ae.useRef([]),o=ae.useRef(!1),l=la(v=>v.setProducts),u=F1(v=>v.setCustomers),f=Ci(v=>v.setTransactions),{setSuppliers:h,setPurchases:p}=B2(),m=jc(v=>v.setSalesOrders),x=hv(v=>v.setExpenses),b=pv(v=>v.setDebts);return ae.useEffect(()=>{if(o.current)return;o.current=!0;const v=localStorage.getItem("restore-timestamp");if(v){const B=parseInt(v,10),F=Date.now(),D=5*60*1e3;if(F-B<D){console.log(" Skipping Firebase sync - data restored from backup within last 5 minutes"),n({isConnected:!0,isSyncing:!1,lastSync:new Date().toISOString()});return}else localStorage.removeItem("restore-timestamp"),console.log(" Restore protection expired, resuming Firebase sync")}console.log(" Initializing Firebase Realtime Sync..."),n(B=>({...B,isSyncing:!0}));const w=Qt.onValue("products",B=>{const F=localStorage.getItem("restore-timestamp");if(F&&Date.now()-parseInt(F,10)<5*60*1e3){console.log(" Firebase: Skipping products sync - restore protection active");return}if(B){const D=Object.entries(B).map(([H,T])=>({...T,id:H,cost:T.cost||T.costPrice||0,costPrice:T.costPrice||T.cost||0,price:T.price||T.sellingPrice||0}));console.log(` Firebase: ${D.length} products synced`),D.length>0?l(D):console.log(" Firebase: Empty products array, keeping local data")}else console.log(" Firebase: No products in Firebase, keeping local data")});i.current.push(w);const y=Qt.onValue("categories",B=>{B&&Array.isArray(B)&&B.length>0?(console.log(` Firebase: ${B.length} categories synced`),setCategories(B)):console.log(" Firebase: No categories, keeping local defaults")});i.current.push(y);const A=Qt.onValue("customers",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} customers synced`),D.length>0&&u(D)}});i.current.push(A);const k=Qt.onValue("transactions",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} transactions synced`),D.length>0&&f(D)}});i.current.push(k);const E=Qt.onValue("suppliers",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} suppliers synced`),D.length>0&&h(D)}});i.current.push(E);const j=Qt.onValue("purchases",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} purchases synced`),D.length>0&&p(D)}});i.current.push(j);const N=Qt.onValue("salesOrders",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} sales orders synced`),D.length>0&&m(D)}});i.current.push(N);const I=Qt.onValue("expenses",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} expenses synced`),D.length>0&&x(D)}});i.current.push(I);const M=Qt.onValue("debts",B=>{const F=localStorage.getItem("restore-timestamp");if(!(F&&Date.now()-parseInt(F,10)<5*60*1e3)&&B){const D=Object.entries(B).map(([H,T])=>({...T,id:H}));console.log(` Firebase: ${D.length} debts synced`),D.length>0&&b(D)}});return i.current.push(M),n({isConnected:!0,isSyncing:!1,lastSync:new Date().toISOString()}),console.log(" Firebase Realtime Sync initialized!"),()=>{i.current.forEach(B=>{typeof B=="function"&&B()})}},[l,u,f,h,p,m,x,b]),s}async function k_(){var s,n,i,o,l,u,f;console.log(" Starting migration to Firebase...");try{const h=JSON.parse(localStorage.getItem("product-storage")||"{}"),p=JSON.parse(localStorage.getItem("customer-storage")||"{}"),m=JSON.parse(localStorage.getItem("transaction-storage")||"{}"),x=JSON.parse(localStorage.getItem("purchase-storage")||"{}"),b=JSON.parse(localStorage.getItem("sales-order-storage")||"{}"),v=((s=h.state)==null?void 0:s.products)||[],w=((n=h.state)==null?void 0:n.categories)||[],y=((i=p.state)==null?void 0:i.customers)||[],A=((o=m.state)==null?void 0:o.transactions)||[],k=((l=x.state)==null?void 0:l.suppliers)||[],E=((u=x.state)==null?void 0:u.purchases)||[],j=((f=b.state)==null?void 0:f.salesOrders)||[];let N=0;if(w.length>0){console.log(` Uploading ${w.length} categories...`),console.log(" Categories to upload:",w);const I=await Qt.set("categories",w);I.success?(N+=w.length,console.log(` Categories uploaded successfully: ${w.length}`)):console.error(" Failed to upload categories:",I.error)}else console.log(" No categories found in localStorage");if(v.length>0){console.log(` Uploading ${v.length} products...`);for(const I of v){const M={...I,cost:I.cost||I.costPrice||0,costPrice:I.costPrice||I.cost||0,price:I.price||I.sellingPrice||0};await Qt.set(`products/${I.id}`,M)}N+=v.length,console.log(` Products uploaded: ${v.length}`)}if(y.length>0){console.log(` Uploading ${y.length} customers...`);for(const I of y)await Qt.set(`customers/${I.id}`,I);N+=y.length,console.log(` Customers uploaded: ${y.length}`)}if(A.length>0){console.log(` Uploading ${A.length} transactions...`);for(const I of A)await Qt.set(`transactions/${I.id}`,I);N+=A.length,console.log(` Transactions uploaded: ${A.length}`)}if(k.length>0){console.log(` Uploading ${k.length} suppliers...`);for(const I of k)await Qt.set(`suppliers/${I.id}`,I);N+=k.length,console.log(` Suppliers uploaded: ${k.length}`)}if(E.length>0){console.log(` Uploading ${E.length} purchases...`);for(const I of E)await Qt.set(`purchases/${I.id}`,I);N+=E.length,console.log(` Purchases uploaded: ${E.length}`)}if(j.length>0){console.log(` Uploading ${j.length} sales orders...`);for(const I of j)await Qt.set(`salesOrders/${I.id}`,I);N+=j.length,console.log(` Sales Orders uploaded: ${j.length}`)}return console.log(` Migration complete! Total items uploaded: ${N}`),{success:!0,count:N}}catch(h){return console.error(" Migration failed:",h),{success:!1,error:h.message}}}function j_(){var s,n,i;console.log(" Fixing localStorage data...");try{const o=JSON.parse(localStorage.getItem("product-storage")||"{}"),l=((s=o.state)==null?void 0:s.products)||[];if(console.log(` Found ${l.length} products`),l.length>0){console.log("First product before fix:",l[0]),console.log("First product price:",(n=l[0])==null?void 0:n.price);const u=l.map(f=>({...f,cost:f.cost||f.costPrice||0,costPrice:f.costPrice||f.cost||0,price:f.price||f.sellingPrice||0,stock:f.stock||0,minStock:f.minStock||f.min_stock||5}));return o.state.products=u,localStorage.setItem("product-storage",JSON.stringify(o)),console.log("First product after fix:",u[0]),console.log("First product price after fix:",(i=u[0])==null?void 0:i.price),console.log(" Fixed! Reload the page to see changes."),{success:!0,count:u.length}}return{success:!0,count:0}}catch(o){return console.error(" Fix failed:",o),{success:!1,error:o.message}}}async function N_(){var s;console.log(" Uploading categories to Firebase...");try{const i=((s=JSON.parse(localStorage.getItem("product-storage")||"{}").state)==null?void 0:s.categories)||[];if(i.length>0){console.log(" Categories found:",i);const o=await Qt.set("categories",i);return o.success?(console.log(` ${i.length} categories uploaded to Firebase`),{success:!0,count:i.length,categories:i}):(console.error(" Failed to upload categories:",o.error),{success:!1,error:o.error})}else return console.log(" No categories in localStorage"),{success:!1,error:"No categories found"}}catch(n){return console.error(" Error uploading categories:",n),{success:!1,error:n.message}}}typeof window<"u"&&(window.migrateToFirebase=k_,window.fixLocalStorageData=j_,window.uploadCategoriesToFirebase=N_);function C_({children:s}){const n=A_();return ae.useEffect(()=>{window.__firebaseSyncStatus=n},[n]),s}function S_(){var s,n;console.log(" Force reloading all stores from localStorage...");try{const i=JSON.parse(localStorage.getItem("product-storage")||"{}"),o=JSON.parse(localStorage.getItem("customer-storage")||"{}"),l=JSON.parse(localStorage.getItem("transaction-storage")||"{}"),u=JSON.parse(localStorage.getItem("purchase-storage")||"{}"),f=(n=(s=i.state)==null?void 0:s.products)==null?void 0:n[0];console.log("First product from localStorage:",f),console.log("First product price:",f==null?void 0:f.price),console.log(" Data verified. Reloading page..."),window.location.reload()}catch(i){console.error(" Force reload failed:",i)}}typeof window<"u"&&(window.forceReloadStores=S_);async function E_(){console.log(" Starting to seed dummy data...");const s=la.getState(),n=F1.getState(),i=Ci.getState();console.log(" Adding dummy products...");const o=[{code:"PRD001",sku:"SNACK-001",barcode:"8991234567890",name:"Chitato Rasa Sapi Panggang",description:"Keripik kentang rasa sapi panggang 68g",category:"Snack",unit:"pcs",price:12e3,cost:9e3,stock:50,minStock:10,maxStock:100,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",source:"manual"},{code:"PRD002",sku:"DRINK-001",barcode:"8992234567891",name:"Coca Cola 330ml",description:"Minuman berkarbonasi kaleng 330ml",category:"Minuman",unit:"pcs",price:8e3,cost:6e3,stock:100,minStock:20,maxStock:200,image:"https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400",source:"manual"},{code:"PRD003",sku:"FOOD-001",barcode:"8993234567892",name:"Indomie Goreng",description:"Mi instan goreng original 85g",category:"Makanan",unit:"pcs",price:3500,cost:2800,stock:200,minStock:50,maxStock:500,image:"https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400",source:"manual"},{code:"PRD004",sku:"SNACK-002",barcode:"8994234567893",name:"Oreo Original",description:"Biskuit sandwich cokelat 137g",category:"Snack",unit:"pcs",price:1e4,cost:7500,stock:75,minStock:15,maxStock:150,image:"https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400",source:"manual"},{code:"PRD005",sku:"DRINK-002",barcode:"8995234567894",name:"Aqua Botol 600ml",description:"Air mineral dalam kemasan 600ml",category:"Minuman",unit:"pcs",price:4e3,cost:3e3,stock:150,minStock:30,maxStock:300,image:"https://images.unsplash.com/photo-1548839140-29a749e1cf4d?w=400",source:"manual"},{code:"PRD006",sku:"FOOD-002",barcode:"8996234567895",name:"Beras Premium 5kg",description:"Beras putih premium kualitas terbaik",category:"Sembako",unit:"kg",price:75e3,cost:65e3,stock:30,minStock:5,maxStock:50,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",source:"manual"},{code:"PRD007",sku:"SNACK-003",barcode:"8997234567896",name:"Taro Net 160g",description:"Keripik kentang berbagai rasa 160g",category:"Snack",unit:"pcs",price:15e3,cost:11e3,stock:40,minStock:10,maxStock:80,image:"https://images.unsplash.com/photo-1600952841320-db92ec4047ca?w=400",source:"manual"},{code:"PRD008",sku:"DRINK-003",barcode:"8998234567897",name:"Teh Botol Sosro 450ml",description:"Minuman teh dalam botol 450ml",category:"Minuman",unit:"pcs",price:5e3,cost:3500,stock:120,minStock:25,maxStock:250,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=400",source:"manual"},{code:"PRD009",sku:"ELEC-001",barcode:"8999234567898",name:"Baterai AA Alkaline",description:"Baterai alkaline AA isi 4pcs",category:"Elektronik",unit:"pack",price:18e3,cost:14e3,stock:25,minStock:5,maxStock:50,image:"https://images.unsplash.com/photo-1583863788434-e58a36330cf0?w=400",source:"manual"},{code:"PRD010",sku:"STAT-001",barcode:"8990234567899",name:"Pulpen Standard Hitam",description:"Pulpen tinta hitam standard isi 12pcs",category:"Alat Tulis",unit:"pack",price:25e3,cost:2e4,stock:15,minStock:3,maxStock:30,image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?w=400",source:"manual"}],l=[];for(const m of o)try{const x=await s.addProduct(m);x.success&&(l.push(x.product),console.log(` Added product: ${m.name}`))}catch(x){console.error(` Failed to add product ${m.name}:`,x)}console.log(" Adding dummy customers...");const u=[{name:"Budi Santoso",phone:"081234567890",email:"budi.santoso@email.com",address:"Jl. Merdeka No. 123, Jakarta Pusat",type:"regular",points:150,totalSpent:5e5},{name:"Siti Nurhaliza",phone:"081234567891",email:"siti.nur@email.com",address:"Jl. Sudirman No. 45, Jakarta Selatan",type:"member",points:350,totalSpent:12e5},{name:"Ahmad Wijaya",phone:"081234567892",email:"ahmad.w@email.com",address:"Jl. Gatot Subroto No. 78, Jakarta Barat",type:"regular",points:80,totalSpent:3e5},{name:"Dewi Lestari",phone:"081234567893",email:"dewi.lestari@email.com",address:"Jl. Thamrin No. 90, Jakarta Pusat",type:"vip",points:500,totalSpent:25e5},{name:"Rudi Hermawan",phone:"081234567894",email:"rudi.h@email.com",address:"Jl. Kuningan No. 12, Jakarta Selatan",type:"regular",points:120,totalSpent:45e4}],f=[];for(const m of u)try{const x=await n.addCustomer(m);x.success&&(f.push(x.customer),console.log(` Added customer: ${m.name}`))}catch(x){console.error(` Failed to add customer ${m.name}:`,x)}if(console.log(" Adding dummy transactions..."),l.length===0||f.length===0)return console.error(" Cannot create transactions: No products or customers available"),{success:!1,message:"Failed to seed data: No products or customers"};const h=[{items:[{productId:l[0].id,name:l[0].name,price:l[0].price,quantity:3,subtotal:l[0].price*3},{productId:l[1].id,name:l[1].name,price:l[1].price,quantity:5,subtotal:l[1].price*5}],customerId:f[0].id,customerName:f[0].name,subtotal:l[0].price*3+l[1].price*5,discount:5e3,tax:0,paymentMethod:"cash",cashReceived:1e5,createdAt:new Date().toISOString()},{items:[{productId:l[2].id,name:l[2].name,price:l[2].price,quantity:10,subtotal:l[2].price*10},{productId:l[4].id,name:l[4].name,price:l[4].price,quantity:6,subtotal:l[4].price*6}],customerId:f[1].id,customerName:f[1].name,subtotal:l[2].price*10+l[4].price*6,discount:0,tax:0,paymentMethod:"qris",cashReceived:0,createdAt:new Date().toISOString()},{items:[{productId:l[5].id,name:l[5].name,price:l[5].price,quantity:1,subtotal:l[5].price*1},{productId:l[3].id,name:l[3].name,price:l[3].price,quantity:4,subtotal:l[3].price*4}],customerId:f[2].id,customerName:f[2].name,subtotal:l[5].price*1+l[3].price*4,discount:1e4,tax:0,paymentMethod:"debit",cashReceived:0,createdAt:new Date(Date.now()-24*60*60*1e3).toISOString()},{items:[{productId:l[6].id,name:l[6].name,price:l[6].price,quantity:2,subtotal:l[6].price*2},{productId:l[7].id,name:l[7].name,price:l[7].price,quantity:8,subtotal:l[7].price*8},{productId:l[1].id,name:l[1].name,price:l[1].price,quantity:3,subtotal:l[1].price*3}],customerId:f[3].id,customerName:f[3].name,subtotal:l[6].price*2+l[7].price*8+l[1].price*3,discount:0,tax:0,paymentMethod:"cash",cashReceived:1e5,createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{items:[{productId:l[8].id,name:l[8].name,price:l[8].price,quantity:2,subtotal:l[8].price*2},{productId:l[9].id,name:l[9].name,price:l[9].price,quantity:1,subtotal:l[9].price*1}],customerId:f[4].id,customerName:f[4].name,subtotal:l[8].price*2+l[9].price*1,discount:3e3,tax:0,paymentMethod:"transfer",cashReceived:0,createdAt:new Date(Date.now()-3*24*60*60*1e3).toISOString()}],p=[];for(const m of h)try{const x=m.subtotal-m.discount+m.tax,b=m.paymentMethod==="cash"?m.cashReceived-x:0,v={...m,total:x,change:b,invoiceNumber:`INV-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`},w=await i.addTransaction(v);if(w.success){p.push(w.transaction),console.log(` Added transaction: ${v.invoiceNumber}`);for(const y of m.items){const A=l.find(k=>k.id===y.productId);A&&await s.updateProduct(A.id,{stock:A.stock-y.quantity})}}}catch(x){console.error(" Failed to add transaction:",x)}return console.log(" Dummy data seeding completed!"),console.log(` Products added: ${l.length}`),console.log(` Customers added: ${f.length}`),console.log(` Transactions added: ${p.length}`),{success:!0,data:{products:l,customers:f,transactions:p},message:`Successfully seeded ${l.length} products, ${f.length} customers, and ${p.length} transactions`}}async function I_(){console.log(" Clearing dummy data...");const s=la.getState(),n=F1.getState(),i=Ci.getState(),o=i.transactions||[];for(const f of o)await i.deleteTransaction(f.id);const l=n.customers||[];for(const f of l)f.type!=="walk-in"&&await n.deleteCustomer(f.id);const u=s.products||[];for(const f of u)await s.deleteProduct(f.id);return console.log(" Dummy data cleared!"),{success:!0,message:"All dummy data has been cleared"}}typeof window<"u"&&(window.seedDummyData=E_,window.clearDummyData=I_,console.log(" Dummy data functions available:"),console.log("   - window.seedDummyData() - Add dummy data"),console.log("   - window.clearDummyData() - Clear all dummy data"));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ct=(s,n)=>{const i=ae.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:h="",children:p,...m},x)=>ae.createElement("svg",{ref:x,...B_,width:l,height:l,stroke:o,strokeWidth:f?Number(u)*24/Number(l):u,className:["lucide",`lucide-${D_(s)}`,h].join(" "),...m},[...n.map(([b,v])=>ae.createElement(b,v)),...Array.isArray(p)?p:[p]]));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Ct("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Ct("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Ct("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=Ct("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Ct("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Ct("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Ct("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ct("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ct("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Ct("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ct("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Ct("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=Ct("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Ct("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ct("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Ct("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Ct("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Ct("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ct("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Ct("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ct("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ct("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ct("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Ct("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ct("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Ct("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Ct("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Ct("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Ct("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Ct("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ct("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Ct("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Ct("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=Ct("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=Ct("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ct("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Ct("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=Ct("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Ct("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=Ct("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sP=[{path:"/",icon:M9,label:"Dashboard",permission:"all"},{path:"/pos",icon:M2,label:"POS / Kasir",permission:"pos",webOnly:!0},{path:"/scanner",icon:vv,label:"Remote Scanner",permission:"pos",androidOnly:!0},{path:"/products",icon:Va,label:"Master Produk",permission:"products"},{path:"/stock",icon:vm,label:"Stok",permission:"stock"},{path:"/purchases",icon:R2,label:"Pembelian",permission:"purchase"},{path:"/sales",icon:F2,label:"Penjualan",permission:"sales"},{path:"/returns",icon:F9,label:"Barang Retur",permission:"sales"},{path:"/customers",icon:qu,label:"Pelanggan",permission:"customers"},{path:"/expenses",icon:gv,label:"Pengeluaran",permission:"reports"},{path:"/debts",icon:mv,label:"Hutang Piutang",permission:"reports"},{path:"/reports",icon:I9,label:"Laporan",permission:"reports"},{path:"/settings",icon:J_,label:"Pengaturan",permission:"settings"}],L8=sP.filter(s=>!(s.webOnly&&Nt||s.androidOnly&&!Nt)),nP=[{path:"/",icon:M9,label:"Home"},{path:"/pos",icon:M2,label:"Kasir",webOnly:!0},{path:"/scanner",icon:vv,label:"Scanner",androidOnly:!0},{path:"/products",icon:Va,label:"Produk"},{path:"/sales",icon:F2,label:"Penjualan"}],aP=nP.filter(s=>!(s.webOnly&&Nt||s.androidOnly&&!Nt));function iP({children:s}){var N;const[n,i]=ae.useState(!Nt&&window.innerWidth>=768),[o,l]=ae.useState({isOnline:!1,isSyncing:!1}),[u,f]=ae.useState(!1),[h,p]=ae.useState(window.innerWidth<768),m=Rc(),{user:x,logout:b}=A1(),{products:v}=la();ae.useEffect(()=>{const I=()=>{const M=window.innerWidth<768;p(M),!M&&!Nt&&i(!0)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const w=v.filter(I=>I.stock<=(I.minStock||5)&&I.stock>0),y=v.filter(I=>I.stock===0),A=w.length+y.length;ae.useEffect(()=>{const I=M=>{M.clientX<=10&&!n&&i(!0)};return"ontouchstart"in window||document.addEventListener("mousemove",I),()=>{document.removeEventListener("mousemove",I)}},[n]),ae.useEffect(()=>{const I=setInterval(()=>{window.__syncStatus&&l(window.__syncStatus)},1e3);return()=>clearInterval(I)},[]);const k=()=>{confirm("Apakah Anda yakin ingin keluar?")&&b()},E=I=>x?x.permissions.includes("all")?!0:x.permissions.includes(I)||x.permissions.includes(`${I}_view`):!1,j=()=>i(!1);return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[c.jsxs("header",{className:"bg-dark text-white px-3 py-2.5 flex items-center justify-between z-40 safe-area-top",children:[c.jsx("button",{onClick:()=>i(!0),className:"p-2 -ml-2 rounded-full hover:bg-gray-700 active:bg-gray-600",children:c.jsx(U8,{size:24})}),c.jsx("h1",{className:"text-base sm:text-lg font-semibold truncate flex-1 mx-2",children:((N=L8.find(I=>I.path===m.pathname))==null?void 0:N.label)||"POS System"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>f(!u),className:"p-2 rounded-full hover:bg-gray-700 active:bg-gray-600 relative",children:[c.jsx(hm,{size:20}),A>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:A>9?"9+":A})]}),u&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),c.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[c.jsx("div",{className:"p-3 border-b bg-gray-50",children:c.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifikasi"})}),A===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"Tidak ada notifikasi"}):c.jsxs("div",{className:"divide-y",children:[y.length>0&&c.jsxs("div",{className:"p-3 bg-red-50",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[c.jsx(D2,{size:16}),c.jsxs("span",{children:["Stok Habis (",y.length,")"]})]}),c.jsxs("div",{className:"space-y-1",children:[y.slice(0,5).map(I=>c.jsxs("div",{className:"text-sm text-red-600",children:[" ",I.name]},I.id)),y.length>5&&c.jsxs("div",{className:"text-xs text-red-500",children:["...dan ",y.length-5," produk lainnya"]})]})]}),w.length>0&&c.jsxs("div",{className:"p-3 bg-yellow-50",children:[c.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 font-medium mb-2",children:[c.jsx(D2,{size:16}),c.jsxs("span",{children:["Stok Menipis (",w.length,")"]})]}),c.jsxs("div",{className:"space-y-1",children:[w.slice(0,5).map(I=>c.jsxs("div",{className:"text-sm text-yellow-600",children:[" ",I.name," (sisa: ",I.stock,")"]},I.id)),w.length>5&&c.jsxs("div",{className:"text-xs text-yellow-500",children:["...dan ",w.length-5," produk lainnya"]})]})]}),c.jsx(Z1,{to:"/stock",onClick:()=>f(!1),className:"block p-3 text-center text-primary hover:bg-gray-50 text-sm font-medium",children:"Lihat Semua Stok "})]})]})]})]}),c.jsx("div",{className:"flex items-center gap-1",title:o.isSyncing?"Syncing...":o.isOnline?`Cloud Sync Active${o.lastSync?` - Last: ${new Date(o.lastSync).toLocaleTimeString()}`:""}`:"Connecting to cloud...",children:o.isSyncing?c.jsx(_o,{size:20,className:"text-yellow-400 animate-spin"}):o.isOnline?c.jsx(pm,{size:20,className:"text-green-400"}):c.jsx(pm,{size:20,className:"text-yellow-400 animate-pulse"})})]})]}),n&&h&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:j}),c.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-dark text-white z-50 transform transition-transform duration-300 ease-out flex flex-col ${h?"w-[85vw] max-w-xs":"w-64"} ${n?"translate-x-0":"-translate-x-full"}`,children:[c.jsx("div",{className:"p-4 border-b border-gray-700 safe-area-top flex-shrink-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-xl font-bold",children:"POS System"}),c.jsx("button",{onClick:j,className:"p-2 rounded-full hover:bg-gray-700",children:c.jsx(fn,{size:20})})]})}),c.jsx("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:c.jsx($2,{size:20})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm",children:x==null?void 0:x.name}),c.jsx("p",{className:"text-xs text-gray-400 capitalize",children:x==null?void 0:x.role})]})]})}),c.jsx("nav",{className:"flex-1 p-2 overflow-y-auto min-h-0",children:L8.map(I=>{if(!E(I.permission))return null;const M=I.icon,B=m.pathname===I.path;return c.jsxs(Z1,{to:I.path,onClick:j,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${B?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 active:bg-gray-600"}`,children:[c.jsx(M,{size:20}),c.jsx("span",{className:"flex-1 text-sm",children:I.label}),c.jsx(E9,{size:16,className:"text-gray-500"})]},I.path)})}),c.jsx("div",{className:"p-3 border-t border-gray-700 safe-area-bottom flex-shrink-0",children:c.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-300 hover:bg-red-600 hover:text-white active:bg-red-700 transition-colors",children:[c.jsx(Y_,{size:20}),c.jsx("span",{className:"text-sm",children:"Logout"})]})})]}),c.jsx("main",{className:`flex-1 overflow-y-auto ${Nt?"pb-20":"pb-16"} ${n&&!h?"ml-64":""} transition-all duration-300`,children:s}),c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 safe-area-bottom shadow-lg",children:c.jsxs("div",{className:`flex justify-around items-center ${Nt?"h-16":"h-14"}`,children:[aP.map(I=>{if(!E(I.permission||"all"))return null;const M=I.icon,B=m.pathname===I.path;return c.jsxs(Z1,{to:I.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-all active:scale-95 ${B?"text-primary":"text-gray-500 active:text-primary/70"}`,children:[c.jsx("div",{className:`${B?"bg-primary/10 px-4 py-1 rounded-full":""}`,children:c.jsx(M,{size:Nt?24:20,strokeWidth:B?2.5:2})}),c.jsx("span",{className:`${Nt?"text-xs":"text-[10px]"} mt-0.5 leading-tight ${B?"font-semibold":""}`,children:I.label})]},I.path)}),c.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center flex-1 h-full text-gray-500 active:text-primary/70 active:scale-95",children:[c.jsx(U8,{size:Nt?24:20}),c.jsx("span",{className:`${Nt?"text-xs":"text-[10px]"} mt-0.5 leading-tight`,children:"Lainnya"})]})]})})]})}function oP(){const[s,n]=ae.useState(""),[i,o]=ae.useState(""),[l,u]=ae.useState(!1),[f,h]=ae.useState(""),p=Sx(),{login:m}=A1(),x=async b=>{b.preventDefault(),u(!0),h(""),setTimeout(()=>{const v=m(s,i);v.success||v===!0?p("/"):h(v.error||"Username atau password salah"),u(!1)},500)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(M2,{size:40,className:"text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"POS System"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Sistem Manajemen Stok & Kasir"})]}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&c.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),c.jsx("input",{type:"text",value:s,onChange:b=>n(b.target.value),className:"input",placeholder:"Masukkan username",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsx("input",{type:"password",value:i,onChange:b=>o(b.target.value),className:"input",placeholder:"Masukkan password",required:!0})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full btn btn-primary flex items-center justify-center gap-2",children:l?c.jsxs(c.Fragment,{children:[c.jsx(G_,{size:20,className:"animate-spin"}),c.jsx("span",{children:"Loading..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(q_,{size:20}),c.jsx("span",{children:"Login"})]})})]}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Login:"}),c.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[c.jsx("p",{children:" Admin: admin / admin123"}),c.jsx("p",{children:" Kasir: kasir / kasir123"})]})]})]}),c.jsx("p",{className:"text-center text-white mt-6 text-sm",children:" 2025 POS System. All rights reserved."})]})})}const Df=y1(w1((s,n)=>({storeInfo:{name:"TOKO SEJAHTERA",address:"Jl. Merdeka No. 123, Jakarta",phone:"(021) 1234-5678",email:"info@tokosejahtera.com",logo:null,taxPercent:11,receiptFooter:""},stockSettings:{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30},whatsappNumber:"",whatsappMessage:"Halo, saya ingin bertanya tentang produk di toko Anda.",updateStoreInfo:async i=>{s(o=>({storeInfo:{...o.storeInfo,...i}}));try{const o={...n().storeInfo,...i};await Qt.set("settings/default",{store_name:o.name||"",store_address:o.address||"",store_phone:o.phone||"",store_email:o.email||"",logo_url:o.logo||"",tax_percent:o.taxPercent||11,receipt_footer:o.receiptFooter||"",updated_at:new Date().toISOString()}),console.log(" Settings saved to Firebase")}catch(o){console.error(" Error saving settings to Firebase:",o.message)}},setLogo:i=>{s(o=>({storeInfo:{...o.storeInfo,logo:i}}))},updateStockSettings:i=>{s(o=>({stockSettings:{...o.stockSettings,...i}}))},updateWhatsApp:(i,o)=>{s({whatsappNumber:i,whatsappMessage:o||n().whatsappMessage})},getMarketplaceStock:i=>{const{bufferPercent:o,minBuffer:l}=n().stockSettings,u=Math.max(Math.ceil(i*(o/100)),l);return Math.max(0,i-u)},getWhatsAppLink:i=>{const o=n().whatsappNumber.replace(/\D/g,""),l=encodeURIComponent(i||n().whatsappMessage);return o?`https://wa.me/${o}?text=${l}`:null}}),{name:"settings-storage"}));function lP(){const{products:s,getLowStockProducts:n}=la(),{transactions:i,getTodaySales:o,getTodayTransactions:l}=Ci(),{customers:u}=F1(),{whatsappNumber:f,getWhatsAppLink:h}=Df(),[p,m]=ae.useState(!1),[x,b]=ae.useState([]),v=o(),w=l(),y=n(),A=w.reduce((N,I)=>{if(I.status!=="completed")return N;const M=(I.items||[]).reduce((B,F)=>{const D=s.find(T=>T.id===F.id),H=(D==null?void 0:D.cost)||0;return B+(F.price-H)*F.quantity},0);return N+M},0),k=s.filter(N=>N.stock===0);ae.useEffect(()=>{(k.length>0||y.length>0)&&m(!0)},[k.length,y.length]);const E=[{title:"Penjualan Hari Ini",value:`Rp ${v.toLocaleString("id-ID")}`,icon:Si,color:"bg-green-500",trend:"+12.5%",trendUp:!0},{title:"Transaksi Hari Ini",value:w.length,icon:M2,color:"bg-blue-500",trend:"+8.2%",trendUp:!0},{title:"Total Produk",value:s.length,icon:Va,color:"bg-purple-500",trend:"+3",trendUp:!0},{title:"Total Pelanggan",value:u.length,icon:qu,color:"bg-orange-500",trend:"+15",trendUp:!0}],j=Nt?[{label:"Scanner",path:"/scanner",color:"bg-primary",icon:vv},{label:"Produk",path:"/products",color:"bg-success",icon:Va},{label:"Stok",path:"/stock",color:"bg-warning",icon:vm},{label:"Pembelian",path:"/purchases",color:"bg-info",icon:R2},{label:"Pelanggan",path:"/customers",color:"bg-purple-500",icon:qu},{label:"Laporan",path:"/reports",color:"bg-pink-500",icon:I9}]:[{label:"Transaksi Baru",path:"/pos",color:"bg-primary",icon:M2},{label:"Tambah Produk",path:"/products",color:"bg-success",icon:Va},{label:"Cek Stok",path:"/stock",color:"bg-warning",icon:vm},{label:"Barang Masuk",path:"/purchases",color:"bg-info",icon:R2}];return Nt?c.jsxs("div",{className:"p-4 space-y-4",children:[p&&(k.length>0||y.length>0)&&c.jsxs("div",{className:`${k.length>0?"bg-red-500":"bg-orange-500"} text-white p-3 rounded-xl flex items-center justify-between`,children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(hm,{size:20}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"font-bold text-sm",children:k.length>0?` ${k.length} produk HABIS!`:` ${y.length} stok menipis`})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Z1,{to:"/stock",className:"bg-white text-gray-900 px-3 py-1.5 rounded-lg text-xs font-medium",children:"Lihat"}),c.jsx("button",{onClick:()=>m(!1),className:"p-1.5 hover:bg-white/20 rounded-lg",children:c.jsx(fn,{size:18})})]})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Selamat datang di POS System"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map((N,I)=>{const M=N.icon;return c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:`${N.color} p-2 rounded-lg`,children:c.jsx(M,{size:18,className:"text-white"})}),c.jsxs("div",{className:"flex items-center gap-0.5",children:[N.trendUp?c.jsx(R8,{size:14,className:"text-green-600"}):c.jsx(M8,{size:14,className:"text-red-600"}),c.jsx("span",{className:`text-xs font-medium ${N.trendUp?"text-green-600":"text-red-600"}`,children:N.trend})]})]}),c.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:N.title}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",children:N.value})]},I)})}),c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[c.jsx("h2",{className:"text-lg font-bold mb-3",children:"Menu Cepat"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:j.map((N,I)=>{const M=N.icon;return c.jsxs(Z1,{to:N.path,className:`${N.color} text-white p-4 rounded-xl active:scale-95 transition-transform flex flex-col items-center justify-center`,children:[c.jsx(M,{size:28,className:"mb-2"}),c.jsx("p",{className:"font-medium text-xs text-center",children:N.label})]},I)})})]}),c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-green-100 text-xs",children:"Profit Hari Ini"}),c.jsxs("h3",{className:"text-2xl font-bold",children:["Rp ",A.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-green-100 text-xs mt-1",children:[w.filter(N=>N.status==="completed").length," transaksi"]})]}),c.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:c.jsx(xm,{size:24})})]})}),y.length>0&&c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[c.jsx(D2,{className:"text-warning",size:20}),"Stok Menipis"]}),c.jsx(Z1,{to:"/stock",className:"text-primary text-sm font-medium",children:"Lihat "})]}),c.jsxs("div",{className:"space-y-2",children:[y.slice(0,3).map(N=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded-lg",children:[c.jsx("p",{className:"font-medium text-gray-900 text-sm truncate flex-1",children:N.name}),c.jsxs("p",{className:"font-bold text-orange-600 text-sm ml-2",children:[N.stock," ",N.unit]})]},N.id)),y.length>3&&c.jsxs("p",{className:"text-center text-xs text-gray-500",children:["+",y.length-3," lainnya"]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-bold",children:"Transaksi Terbaru"}),c.jsx(Z1,{to:"/sales",className:"text-primary text-sm font-medium",children:"Lihat "})]}),w.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"Belum ada transaksi"}):c.jsx("div",{className:"space-y-2",children:w.slice(0,3).map(N=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 text-sm",children:N.id}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(N.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("p",{className:"font-bold text-green-600 text-sm",children:["Rp ",N.total.toLocaleString("id-ID")]})]},N.id))})]}),f&&c.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-20 right-4 bg-green-500 text-white p-3 rounded-full shadow-lg z-30",children:c.jsx(mm,{size:24})})]}):c.jsxs("div",{className:"p-6 space-y-6",children:[p&&(k.length>0||y.length>0)&&c.jsxs("div",{className:`${k.length>0?"bg-red-500":"bg-orange-500"} text-white p-4 rounded-xl flex items-center justify-between animate-pulse`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(hm,{size:24}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:k.length>0?` ${k.length} produk HABIS!`:` ${y.length} produk stok menipis`}),c.jsx("p",{className:"text-sm opacity-90",children:k.length>0?"Segera lakukan restock untuk produk yang sudah habis":"Beberapa produk mendekati batas minimum stok"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Z1,{to:"/stock",className:"bg-white text-gray-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100",children:"Lihat Detail"}),c.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:c.jsx(fn,{size:20})})]})]}),f&&c.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors z-50 flex items-center gap-2",title:"Hubungi Customer Service",children:c.jsx(mm,{size:24})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Selamat datang di sistem POS & Inventory Management"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map((N,I)=>{const M=N.icon;return c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:N.title}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:N.value}),c.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[N.trendUp?c.jsx(R8,{size:16,className:"text-green-600"}):c.jsx(M8,{size:16,className:"text-red-600"}),c.jsx("span",{className:`text-sm font-medium ${N.trendUp?"text-green-600":"text-red-600"}`,children:N.trend}),c.jsx("span",{className:"text-sm text-gray-500",children:"vs kemarin"})]})]}),c.jsx("div",{className:`${N.color} p-3 rounded-xl`,children:c.jsx(M,{size:24,className:"text-white"})})]})},I)})}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map((N,I)=>{const M=N.icon;return c.jsxs(Z1,{to:N.path,className:`${N.color} text-white p-6 rounded-xl hover:opacity-90 transition-opacity`,children:[c.jsx(M,{size:32,className:"mb-3"}),c.jsx("p",{className:"font-semibold",children:N.label})]},I)})})]}),c.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-green-100 text-sm",children:"Estimasi Profit Hari Ini"}),c.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["Rp ",A.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Dari ",w.filter(N=>N.status==="completed").length," transaksi selesai"]})]}),c.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:c.jsx(xm,{size:32})})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(D2,{className:"text-warning",size:24}),"Stok Menipis"]}),c.jsx(Z1,{to:"/stock",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),y.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"Semua stok aman"}):c.jsx("div",{className:"space-y-3",children:y.slice(0,5).map(N=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:N.name}),c.jsx("p",{className:"text-sm text-gray-600",children:N.code})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-bold text-orange-600",children:[N.stock," ",N.unit]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",N.minStock]})]})]},N.id))})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Transaksi Terbaru"}),c.jsx(Z1,{to:"/sales",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),w.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada transaksi hari ini"}):c.jsx("div",{className:"space-y-3",children:w.slice(0,5).map(N=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:N.id}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(N.date).toLocaleTimeString("id-ID")})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-bold text-green-600",children:["Rp ",N.total.toLocaleString("id-ID")]}),c.jsx("p",{className:"text-xs text-gray-500 capitalize",children:N.paymentMethod})]})]},N.id))})]})]})]})}const bm=y1(w1((s,n)=>({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash",addToCart:(i,o=1)=>{const l=n().cartItems.find(u=>u.id===i.id);if(l){if(l.quantity+o>l.stock){alert("Stok tidak mencukupi!");return}s(u=>({cartItems:u.cartItems.map(f=>f.id===i.id?{...f,quantity:f.quantity+o}:f)}))}else{if(o>i.stock){alert("Stok tidak mencukupi!");return}s(u=>({cartItems:[...u.cartItems,{...i,quantity:o}]}))}},removeFromCart:i=>{s(o=>({cartItems:o.cartItems.filter(l=>l.id!==i)}))},updateQuantity:(i,o)=>{if(o<=0){n().removeFromCart(i);return}const l=n().cartItems.find(u=>u.id===i);if(l&&o>l.stock){alert("Stok tidak mencukupi!");return}s(u=>({cartItems:u.cartItems.map(f=>f.id===i?{...f,quantity:o}:f)}))},updateItemDiscount:(i,o)=>{s(l=>({cartItems:l.cartItems.map(u=>u.id===i?{...u,itemDiscount:o}:u)}))},setDiscount:(i,o="percent")=>{s({discount:i,discountType:o})},setCustomer:i=>{s({selectedCustomer:i})},setPaymentMethod:i=>{s({paymentMethod:i})},getSubtotal:()=>n().cartItems.reduce((i,o)=>{const l=o.price*o.quantity,u=o.itemDiscount||0;return i+(l-u)},0),getDiscount:()=>{const i=n().getSubtotal(),{discount:o,discountType:l}=n();return l==="percent"?i*o/100:o},getTax:()=>{const i=n().getSubtotal(),o=n().getDiscount();return(i-o)*.11},getTotal:()=>{const i=n().getSubtotal(),o=n().getDiscount(),l=n().getTax();return i-o+l},clearCart:()=>{s({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash"})},holdTransaction:()=>{const i=n(),o={id:Date.now(),cartItems:i.cartItems,selectedCustomer:i.selectedCustomer,discount:i.discount,discountType:i.discountType,timestamp:new Date().toISOString()};return localStorage.setItem(`held_${o.id}`,JSON.stringify(o)),n().clearCart(),o.id}}),{name:"cart-storage"}));function cP(){const[s,n]=ae.useState(""),[i,o]=ae.useState(!1),[l,u]=ae.useState(!1),[f,h]=ae.useState(!1),[p,m]=ae.useState(null),[x,b]=ae.useState(""),[v,w]=ae.useState(!1),[y,A]=ae.useState(null),[k,E]=ae.useState(!1),j=ae.useRef(null),{products:N,updateStock:I}=la(),{cartItems:M,addToCart:B,removeFromCart:F,updateQuantity:D,updateItemDiscount:H,setDiscount:T,setCustomer:_,setPaymentMethod:L,selectedCustomer:z,discount:G,discountType:K,paymentMethod:oe,getSubtotal:V,getDiscount:Y,getTax:ie,getTotal:de,clearCart:re,holdTransaction:ne}=bm(),{customers:le}=F1(),{addTransaction:ue}=Ci(),{storeInfo:Me}=Df(),{user:pe}=A1();ae.useEffect(()=>{if(!v)return;const Se=Qt.onValue("barcode_scans",async qe=>{if(!qe)return;const Ke=Object.entries(qe).map(([Te,He])=>({...He,id:Te})).filter(Te=>!Te.processed);for(const Te of Ke){const He=N.find(st=>st.barcode===Te.barcode||st.code===Te.barcode||st.sku===Te.barcode);if(He){if(He.stock>0){B(He),A({barcode:Te.barcode,product:He.name,device:Te.device_name,time:new Date().toLocaleTimeString()});try{const st=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp2LdV1PU2V4jZ+jnIxvVEJIX3mOnaCXhWlNOT9Wd46hpJuGZkQwPFd0j6OlloBcOiotUXORpqmhimE/LzNTdJOnq6OKXzgoLVJ1k6mupYlaPyctUneVq7CnilY4Ji5VeZitsKmIUjYmL1h8m6+xqYdNMyYwW4CfsrOpg0gvJjFehKKzsqV9QysmM2OIpbSypXY+JyU2aI2otbKicDkkJDlukqu2sqBqNSMjPHOWrre0nWQxIiJAfpqxuLSZXSwgIkWDn7S4tJRVKR4hSoiltbi0kE4lHSBOjqm3uLSMRyIbIFOTrLi4tIY/HxofWJivuLi0gDgdGR5dnbG4uLR5MRoYHmKhsri4tHIrFxYeZ6WzuLhzLA==");st.volume=.3,st.play()}catch{}}}else A({barcode:Te.barcode,product:null,device:Te.device_name,time:new Date().toLocaleTimeString(),error:"Produk tidak ditemukan"});await Qt.update(`barcode_scans/${Te.id}`,{processed:!0,processed_at:new Date().toISOString()})}});return()=>{typeof Se=="function"&&Se()}},[v,N,B]);const Fe=(N||[]).filter(Se=>{var qe;return Se.name.toLowerCase().includes(s.toLowerCase())||Se.code.toLowerCase().includes(s.toLowerCase())||((qe=Se.barcode)==null?void 0:qe.includes(s))}),Ce=Se=>{var qe;Se.stock>0?(B(Se),n(""),(qe=j.current)==null||qe.focus()):alert("Stok habis!")},ve=()=>{if(M.length===0){alert("Cart masih kosong!");return}u(!0)},Be=async()=>{const Se=de(),qe=parseFloat(x)||0;if(oe==="cash"&&qe<Se){alert("Jumlah uang tidak cukup!");return}E(!0);try{const We={items:M,customer:z,subtotal:V(),discount:Y(),tax:ie(),total:Se,paymentMethod:oe,cashAmount:oe==="cash"?qe:Se,change:oe==="cash"?qe-Se:0,cashierName:(pe==null?void 0:pe.name)||"Kasir",cashierId:pe==null?void 0:pe.id};for(const Te of M)try{await I(Te.id,Te.quantity,"subtract","sale","Penjualan",pe==null?void 0:pe.id)}catch(He){console.warn("Stock update error for item:",Te.id,He)}const Ke=await ue(We);m(We),u(!1),h(!0),re(),b("")}catch(We){console.error("Transaction error:",We),alert("Gagal memproses transaksi: "+((We==null?void 0:We.message)||"Unknown error"))}finally{E(!1)}},Ue=()=>{window.print(),h(!1)},Xe=()=>{if(M.length===0){alert("Cart masih kosong!");return}const Se=ne();alert(`Transaksi disimpan dengan ID: ${Se}`)},Re=()=>{confirm("Batalkan transaksi ini?")&&re()},Ge=V(),Oe=Y(),Le=ie(),rt=de();return c.jsxs("div",{className:"h-screen flex bg-gray-50",children:[y&&c.jsxs("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg animate-pulse ${y.error?"bg-red-500":"bg-green-500"} text-white max-w-sm`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[y.error?c.jsx(fn,{className:"flex-shrink-0",size:24}):c.jsx(Wd,{className:"flex-shrink-0",size:24}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:y.error||y.product}),c.jsxs("p",{className:"text-sm opacity-90",children:[y.barcode,"  ",y.device]})]})]}),c.jsx("button",{onClick:()=>A(null),className:"absolute top-1 right-1 p-1 hover:bg-white/20 rounded",children:c.jsx(fn,{size:16})})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"bg-white border-b p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{ref:j,type:"text",value:s,onChange:Se=>n(Se.target.value),placeholder:"Cari produk (nama, kode, atau scan barcode)...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),c.jsxs("button",{onClick:()=>w(!v),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${v?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Aktifkan untuk menerima scan dari HP Android",children:[v?c.jsx(gm,{size:20}):c.jsx(R9,{size:20}),c.jsx("span",{className:"hidden lg:inline",children:v?"Scanner Aktif":"Remote Scan"})]}),c.jsxs("button",{onClick:()=>o(!0),className:"btn btn-outline flex items-center gap-2",children:[c.jsx($2,{size:20}),z?z.name:"Pilih Pelanggan"]})]}),v&&c.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-lg px-4 py-2 flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),c.jsx("span",{className:"text-green-700 font-medium",children:"Menunggu scan dari Android..."})]}),c.jsx("p",{className:"text-green-600 text-sm ml-auto",children:'Buka "Remote Scanner" di HP untuk scan barcode'})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[s&&c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Fe.map(Se=>c.jsxs("button",{onClick:()=>Ce(Se),className:`p-4 rounded-lg border-2 text-left transition-all hover:shadow-lg ${Se.stock>0?"border-gray-200 hover:border-primary bg-white":"border-red-200 bg-red-50 cursor-not-allowed opacity-50"}`,disabled:Se.stock===0,children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:Se.name}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Se.code}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-lg font-bold text-primary",children:["Rp ",(Se.price||0).toLocaleString("id-ID")]}),c.jsxs("p",{className:`text-sm ${Se.stock>10?"text-green-600":"text-orange-600"}`,children:["Stock: ",Se.stock]})]})]},Se.id))}),!s&&c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:c.jsxs("div",{className:"text-center",children:[c.jsx(li,{size:64,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Cari atau scan produk untuk memulai transaksi"})]})})]})]}),c.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Keranjang"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[M.length," item"]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:M.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:c.jsxs("div",{className:"text-center",children:[c.jsx(X_,{size:64,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Keranjang kosong"})]})}):(M||[]).map(Se=>c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:Se.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Rp ",(Se.price||0).toLocaleString("id-ID")," x ",Se.quantity]})]}),c.jsx("button",{onClick:()=>F(Se.id),className:"text-red-600 hover:bg-red-100 p-1 rounded",children:c.jsx(Ta,{size:16})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>D(Se.id,Se.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300",children:c.jsx(V_,{size:16})}),c.jsx("span",{className:"w-12 text-center font-semibold",children:Se.quantity}),c.jsx("button",{onClick:()=>D(Se.id,Se.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-primary text-white rounded hover:bg-blue-600",disabled:Se.quantity>=Se.stock,children:c.jsx(ta,{size:16})})]}),c.jsxs("p",{className:"font-bold text-gray-900",children:["Rp ",((Se.price||0)*(Se.quantity||0)).toLocaleString("id-ID")]})]})]},Se.id))}),c.jsxs("div",{className:"p-4 border-t space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:["Rp ",(Ge||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Diskon"}),c.jsxs("span",{className:"text-red-600",children:["- Rp ",(Oe||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Pajak (11%)"}),c.jsxs("span",{children:["Rp ",(Le||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xl font-bold pt-3 border-t",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{className:"text-primary",children:["Rp ",(rt||0).toLocaleString("id-ID")]})]})]}),c.jsxs("div",{className:"p-4 border-t space-y-2",children:[c.jsxs("button",{onClick:ve,disabled:M.length===0,className:"w-full btn btn-success py-4 text-lg font-bold",children:[c.jsx(Wd,{size:24}),"BAYAR"]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:Xe,className:"btn btn-warning",children:[c.jsx($_,{size:18}),"Hold"]}),c.jsxs("button",{onClick:Re,className:"btn btn-danger",children:[c.jsx(fn,{size:18}),"Void"]}),c.jsxs("button",{className:"btn btn-secondary",children:[c.jsx(xm,{size:18}),"Diskon"]})]})]})]}),i&&c.jsx($p,{onClose:()=>o(!1),title:"Pilih Pelanggan",children:c.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:(le||[]).map(Se=>c.jsxs("button",{onClick:()=>{_(Se),o(!1)},className:`w-full p-3 rounded-lg border-2 text-left hover:border-primary transition-colors ${(z==null?void 0:z.id)===Se.id?"border-primary bg-blue-50":"border-gray-200"}`,children:[c.jsx("p",{className:"font-semibold",children:Se.name}),c.jsx("p",{className:"text-sm text-gray-600",children:Se.phone}),Se.type!=="walk-in"&&c.jsxs("p",{className:"text-xs text-primary mt-1",children:["Poin: ",Se.points]})]},Se.id))})}),l&&c.jsx($p,{onClose:()=>u(!1),title:"Pembayaran",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-3xl font-bold text-center text-primary mb-6",children:["Rp ",(rt||0).toLocaleString("id-ID")]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metode Pembayaran"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"cash",label:"Tunai",icon:Si},{id:"card",label:"Kartu",icon:mv},{id:"ewallet",label:"E-Wallet",icon:Z_},{id:"transfer",label:"Transfer",icon:gv}].map(Se=>{const qe=Se.icon;return c.jsxs("button",{onClick:()=>L(Se.id),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-2 ${oe===Se.id?"border-primary bg-blue-50":"border-gray-200 hover:border-primary"}`,children:[c.jsx(qe,{size:24}),c.jsx("span",{className:"text-sm font-medium",children:Se.label})]},Se.id)})})]}),oe==="cash"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah Uang"}),c.jsx("input",{type:"number",value:x,onChange:Se=>b(Se.target.value),placeholder:"0",className:"input text-xl text-right",autoFocus:!0}),x&&c.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-medium",children:"Kembalian:"}),c.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",Math.max(0,parseFloat(x)-rt).toLocaleString("id-ID")]})]})}),c.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[5e4,1e5,2e5].map(Se=>c.jsx("button",{onClick:()=>b(Se.toString()),className:"btn btn-outline",children:Se.toLocaleString("id-ID")},Se))})]}),c.jsx("button",{onClick:Be,disabled:k,className:"w-full btn btn-success py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Memproses..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Wd,{size:20}),"Selesaikan Transaksi"]})})]})}),f&&p&&c.jsxs($p,{onClose:()=>h(!1),title:"Struk Pembayaran",children:[c.jsxs("div",{id:"receipt",className:"space-y-4",children:[c.jsxs("div",{className:"text-center border-b pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold",children:(Me==null?void 0:Me.name)||"TOKO SAYA"}),c.jsx("p",{className:"text-sm text-gray-600",children:(Me==null?void 0:Me.address)||"Alamat Toko"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Telp: ",(Me==null?void 0:Me.phone)||"-"]})]}),c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"No. Transaksi:"}),c.jsx("span",{className:"font-semibold",children:p.id})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Tanggal:"}),c.jsx("span",{children:p!=null&&p.date?new Date(p.date).toLocaleString("id-ID"):new Date().toLocaleString("id-ID")})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Kasir:"}),c.jsx("span",{children:p.cashierName})]})]}),c.jsx("div",{className:"border-t border-b py-3 space-y-2",children:((p==null?void 0:p.items)||[]).map((Se,qe)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-medium",children:Se.name}),c.jsxs("span",{children:["Rp ",((Se.price||0)*(Se.quantity||0)).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[Se.quantity," x Rp ",(Se.price||0).toLocaleString("id-ID")]})]},qe))}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsxs("span",{children:["Rp ",((p==null?void 0:p.subtotal)||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Diskon:"}),c.jsxs("span",{children:["- Rp ",((p==null?void 0:p.discount)||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Pajak (11%):"}),c.jsxs("span",{children:["Rp ",((p==null?void 0:p.tax)||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{children:["Rp ",((p==null?void 0:p.total)||0).toLocaleString("id-ID")]})]}),p.paymentMethod==="cash"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Bayar:"}),c.jsxs("span",{children:["Rp ",((p==null?void 0:p.cashAmount)||0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between font-semibold",children:[c.jsx("span",{children:"Kembali:"}),c.jsxs("span",{children:["Rp ",((p==null?void 0:p.change)||0).toLocaleString("id-ID")]})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-600 pt-4 border-t",children:[c.jsx("p",{children:"Terima kasih atas kunjungan Anda"}),c.jsx("p",{children:"Barang yang sudah dibeli tidak dapat ditukar"})]})]}),c.jsxs("div",{className:"flex gap-2 mt-6",children:[c.jsxs("button",{onClick:Ue,className:"flex-1 btn btn-primary",children:[c.jsx(If,{size:20}),"Print Struk"]}),c.jsx("button",{onClick:()=>h(!1),className:"flex-1 btn btn-secondary",children:"Tutup"})]})]})]})}function $p({children:s,onClose:n,title:i}){return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:i}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:s})]})})}class dP extends ae.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.error("POS Error:",n,i)}render(){var n;return this.state.hasError?c.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Terjadi Kesalahan"}),c.jsx("p",{className:"text-gray-600 mb-4",children:((n=this.state.error)==null?void 0:n.message)||"Unknown error"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Muat Ulang Halaman"})]})}):this.props.children}}function uP(){return c.jsx(dP,{children:c.jsx(cP,{})})}const fP="modulepreload",hP=function(s){return"/"+s},Q8={},zc=function(n,i,o){let l=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=Promise.allSettled(i.map(p=>{if(p=hP(p),p in Q8)return;Q8[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":fP,m||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((v,w)=>{b.addEventListener("load",v),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};var Ia;(function(s){s.Aztec="AZTEC",s.Codabar="CODABAR",s.Code39="CODE_39",s.Code93="CODE_93",s.Code128="CODE_128",s.DataMatrix="DATA_MATRIX",s.Ean8="EAN_8",s.Ean13="EAN_13",s.Itf="ITF",s.Pdf417="PDF_417",s.QrCode="QR_CODE",s.UpcA="UPC_A",s.UpcE="UPC_E"})(Ia||(Ia={}));var H8;(function(s){s.CalendarEvent="CALENDAR_EVENT",s.ContactInfo="CONTACT_INFO",s.DriversLicense="DRIVERS_LICENSE",s.Email="EMAIL",s.Geo="GEO",s.Isbn="ISBN",s.Phone="PHONE",s.Product="PRODUCT",s.Sms="SMS",s.Text="TEXT",s.Url="URL",s.Wifi="WIFI",s.Unknown="UNKNOWN"})(H8||(H8={}));var G8;(function(s){s[s["640x480"]=0]="640x480",s[s["1280x720"]=1]="1280x720",s[s["1920x1080"]=2]="1920x1080",s[s["3840x2160"]=3]="3840x2160"})(G8||(G8={}));var q8;(function(s){s.Front="FRONT",s.Back="BACK"})(q8||(q8={}));var Y8;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.PENDING=1]="PENDING",s[s.DOWNLOADING=2]="DOWNLOADING",s[s.CANCELED=3]="CANCELED",s[s.COMPLETED=4]="COMPLETED",s[s.FAILED=5]="FAILED",s[s.INSTALLING=6]="INSTALLING",s[s.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(Y8||(Y8={}));var V8;(function(s){s[s.HOME=0]="HOME",s[s.UNKNOWN=1]="UNKNOWN",s[s.WORK=2]="WORK"})(V8||(V8={}));var $8;(function(s){s[s.HOME=0]="HOME",s[s.UNKNOWN=1]="UNKNOWN",s[s.WORK=2]="WORK"})($8||($8={}));var W8;(function(s){s[s.FAX=0]="FAX",s[s.HOME=1]="HOME",s[s.MOBILE=2]="MOBILE",s[s.UNKNOWN=3]="UNKNOWN",s[s.WORK=4]="WORK"})(W8||(W8={}));var K8;(function(s){s[s.OPEN=1]="OPEN",s[s.WEP=2]="WEP",s[s.WPA=3]="WPA"})(K8||(K8={}));const c1=Sl("BarcodeScanner",{web:()=>zc(()=>import("./web-TswEoeCK.js"),[]).then(s=>new s.BarcodeScannerWeb)});function pP({onScan:s,onClose:n}){const[i,o]=ae.useState(!1),[l,u]=ae.useState(!1),[f,h]=ae.useState(null);ae.useEffect(()=>(b(),()=>{v()}),[]);const p=async()=>{const{camera:A}=await c1.requestPermissions();return A==="granted"||A==="limited"},m=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const A=document.getElementById("root");A&&(A.style.visibility="hidden")},x=()=>{document.body.style.background="",document.documentElement.style.background="";const A=document.getElementById("root");A&&(A.style.visibility="visible")},b=async()=>{try{if(h(null),!Nt){h("Barcode scanner hanya tersedia di aplikasi Android");return}if(!await p()){h("Izin kamera diperlukan untuk scan barcode");return}m(),o(!0),await c1.addListener("barcodeScanned",async k=>{k.barcode&&k.barcode.rawValue&&(await v(),s(k.barcode.rawValue))}),await c1.startScan({formats:[Ia.Ean13,Ia.Ean8,Ia.Code128,Ia.Code39,Ia.Code93,Ia.QrCode,Ia.UpcA,Ia.UpcE],lensFacing:"back"})}catch(A){console.error("Scan error:",A),h("Gagal memulai scanner: "+A.message),x(),o(!1)}},v=async()=>{try{await c1.stopScan(),await c1.removeAllListeners(),l&&await c1.toggleTorch()}catch(A){console.error("Stop scan error:",A)}finally{x(),o(!1),u(!1)}},w=async()=>{try{await c1.toggleTorch(),u(!l)}catch(A){console.error("Torch error:",A)}},y=async()=>{await v(),n()};return f?c.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm text-center",children:[c.jsx("p",{className:"text-red-600 mb-4",children:f}),c.jsx("button",{onClick:y,className:"btn btn-primary",children:"Tutup"})]})}):c.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent",pointerEvents:"auto"},children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:c.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[c.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-blue-500 rounded-tl-xl"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-blue-500 rounded-tr-xl"}),c.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-blue-500 rounded-bl-xl"}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-blue-500 rounded-br-xl"}),c.jsx("div",{className:"absolute left-4 right-4 h-1 bg-blue-500 rounded scanning-line"})]})}),c.jsxs("div",{className:"absolute top-16 left-0 right-0 text-center pointer-events-none",children:[c.jsx("p",{className:"text-white text-xl font-semibold drop-shadow-lg",children:"Arahkan kamera ke barcode"}),c.jsx("p",{className:"text-gray-200 text-sm mt-2 drop-shadow",children:"Scan akan otomatis berjalan"})]}),c.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[c.jsx("button",{onClick:w,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:l?c.jsx(B9,{size:28,className:"text-yellow-400"}):c.jsx(D9,{size:28,className:"text-white"})}),c.jsx("button",{onClick:y,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:c.jsx(fn,{size:30,className:"text-white"})})]}),!i&&c.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-white text-lg",children:"Memulai kamera..."})]})}),c.jsx("style",{children:`
        .scanning-line {
          animation: scan 2s ease-in-out infinite;
        }
        @keyframes scan {
          0%, 100% { top: 10%; }
          50% { top: 85%; }
        }
      `})]})}var ee=null,t=0,r=[],e={};const al=Math.abs,vr=Math.ceil,J8=Math.floor,ba=Math.log,v1=Math.pow,Ti=Math.round,Yu=Math.sqrt;function a(s){if(arguments.length){if(!(s instanceof Array)){s=new Array(+arguments[0]);for(var n=0,i=s.length;n<i;n++)s[n]=null}}else{for(var n=t-1;n>=0&&r[n]!==1/0;n--);if(n<0)throw new Error("array-marker-not-found");s=r.splice(n+1,t-1-n),t=n}return s.b=s,s.o=0,s}function Pe(){for(var s=t-1;s>=0&&r[s]!==1/0;s-=2)if(r[s-1]===1/0)throw new Error("dict-malformed-stack");if(s<0)throw new Error("dict-marker-not-found");for(var n=new Map,i=s+1;i<t;i+=2){var o=r[i],l=typeof o;if(l=="number"||l=="string")n.set(o,r[i+1]);else if(o instanceof Uint8Array)n.set(Ma(o),r[i+1]);else throw new Error("dict-not-a-valid-key("+o+")")}return t=s,n}function Z(s){var n=typeof s;if(n==="number")return new Uint8Array(s);n!=="string"&&(s=""+s);for(var i=new Uint8Array(s.length),o=0,l=s.length;o<l;o++)i[o]=s.charCodeAt(o);return i}function Es(s,n){if(t<s)throw new Error("roll: --stack-underflow--");if(n){if(n<0)var i=r.splice(t-s,-n);else var i=r.splice(t-s,s-n);r.splice.apply(r,[t-i.length,0].concat(i))}}function Ma(s){return s instanceof Uint8Array?String.fromCharCode.apply(null,s):""+s}function Tr(s,n){if(typeof s=="string"&&(s=Z(s)),n instanceof Uint8Array)for(var i=0,o=n.length;i<o;i++)s[i]=n[i];else for(var i=0,o=n.length;i<o;i++)s[i]=n.charCodeAt(i);return n.length<s.length?s.subarray(0,n.length):s}function Nc(s,n){for(var i=0,o=n.length;i<o;i++)s[i]=n[i];return s.length=n.length,s}function Ie(s){return s instanceof Uint8Array?J8(String.fromCharCode.apply(null,s).replace(/\0+$/,"")):J8(""+s)}function qt(s,n,i){return Tr(s,(~~n).toString(i).toUpperCase())}function d(s,n){return s instanceof Uint8Array?s[n]:typeof s=="string"?s.charCodeAt(n):s instanceof Array?s.b[s.o+n]:(n instanceof Uint8Array&&(n=Ma(n)),s instanceof Map?s.get(n):s[n])}function g(s,n,i){if(s instanceof Uint8Array)s[n]=i;else if(s instanceof Array)s.b[s.o+n]=i;else if(typeof s=="object")n instanceof Uint8Array?s.set(Ma(n),i):s.set(n,i);else throw new Error("put-not-writable-"+typeof s)}function S(s,n,i){if(s instanceof Uint8Array)return s.subarray(n,n+i);if(s instanceof Array){var o=new Array(i);return o.b=s.b,o.o=s.o+n,o}return s.substr(n,i)}function R(s,n,i){if(s instanceof Uint8Array)if(typeof i=="string")for(var o=0,l=i.length;o<l;o++)s[n+o]=i.charCodeAt(o);else for(var o=i.length-1;o>=0;o--)s[n+o]=i[o];else if(s instanceof Array)for(var u=s.b,f=n+s.o,h=i.b,p=i.o,o=0,l=i.length;o<l;o++)u[f+o]=h[p+o];else throw new Error("putinterval-not-writable-"+typeof s)}function oa(s){if(s==null)return"nulltype";var n=typeof s;return n=="number"?s%1?"realtype":"integertype":n=="boolean"?"booleantype":n=="string"||s instanceof Uint8Array?"stringtype":n=="function"?"operatortype":s instanceof Array?"arraytype":"dicttype"}function I0(s,n){s instanceof Uint8Array||(s=Z(s));var i=0,o=s.length,l=n.length;if(l==1){var u=n instanceof Uint8Array?n[0]:n.charCodeAt(0);i=s[0]==u?1:o}else if(n.length<=o)for(n instanceof Uint8Array||(n=Z(n));i<l&&s[i]==n[i];i++);i==l?(r[t++]=s.subarray(l),r[t++]=s.subarray(0,l),r[t++]=!0):(r[t++]=s,r[t++]=!1)}function Rt(s,n){s instanceof Uint8Array||(s=Z(s));var i=s.length;if(n.length==1)for(var o=1,l=n instanceof Uint8Array?n[0]:n.charCodeAt(0),u=0;u<i&&s[u]!=l;u++);else{n instanceof Uint8Array||(n=Z(n));for(var o=n.length,l=n[0],u=0;u<i&&s[u]!=l;u++);for(;u<i;){for(var f=1;f<o&&s[u+f]===n[f];f++);if(f===o)break;for(u++;u<i&&s[u]!=l;u++);}}u<i?(r[t++]=s.subarray(u+o),r[t++]=s.subarray(u,u+o),r[t++]=s.subarray(0,u),r[t++]=!0):(r[t++]=s,r[t++]=!1)}function xe(s,n){if(s instanceof Uint8Array)for(var i=0,o=s.length;i<o&&(r[t++]=s[i],!(n&&n()));i++);else if(s instanceof Array)for(var l=s.b,i=s.o,o=s.o+s.length;i<o&&(r[t++]=l[i],!(n&&n()));i++);else if(typeof s=="string")for(var i=0,o=s.length;i<o&&(r[t++]=s.charCodeAt(i),!(n&&n()));i++);else if(s instanceof Map)for(var u=s.keys(),i=0,o=s.size;i<o;i++){var f=u.next().value;if(r[t++]=f,r[t++]=s.get(f),n&&n())break}else for(var f in s)if(r[t++]=f,r[t++]=s[f],n&&n())break}function cl(){for(;t>0&&r[--t]!==1/0;);}function ys(){for(var s=t-1;s>=0&&r[s]!==1/0;s--);return t-s-1}function O(s){for(var n=0,i=s.length,o=s.b,l=s.o;n<i;n++)r[t++]=o[l+n]}function Wt(s){for(var n=0,i=s.length,o=s.b,l=s.o+i-1;n<i;n++)o[l-n]=r[--t];r[t++]=s}function W(s,n){if(typeof s=="string"&&typeof n=="string")return s==n;if(s instanceof Uint8Array&&n instanceof Uint8Array){if(s.length!=n.length)return!1;for(var i=0,o=s.length;i<o;i++)if(s[i]!=n[i])return!1;return!0}return(s instanceof Uint8Array&&typeof n=="string"||n instanceof Uint8Array&&typeof s=="string")&&(s instanceof Uint8Array?s=Ma(s):n=Ma(n)),s==n}function Ee(s,n){return!W(s,n)}function wa(s,n){return s instanceof Uint8Array&&(s=Ma(s)),n instanceof Uint8Array&&(n=Ma(n)),s<n}function Cc(s,n){return s instanceof Uint8Array&&(s=Ma(s)),n instanceof Uint8Array&&(n=Ma(n)),s<=n}function Li(s,n){return s instanceof Uint8Array&&(s=Ma(s)),n instanceof Uint8Array&&(n=Ma(n)),s>n}function t1(s,n){return s instanceof Uint8Array&&(s=Ma(s)),n instanceof Uint8Array&&(n=Ma(n)),s>=n}function Io(s,n){return typeof s=="boolean"?s&&n:s&n}function mP(s,n){return typeof s=="boolean"?s||n:s|n}function bn(s,n){return typeof s=="boolean"?s!=n:s^n}var C=function(s){return n=>(n|0)==n?n:(s[0]=n,s[0])}(new Float32Array(1));function Q(){var s=r[--t],n=r[--t];if(typeof s=="string"||s instanceof Uint8Array)throw new Error(Ma(n)+": "+Ma(s));throw r[t++]=s,Ma(n)+`
Additional information: `+i(s);function i(o){if(o instanceof Array){let l="";for(let u=o.o,f=o.o+o.length;u<f;u++)l+=" "+i(o.b[u]);return"["+l.substr(1)+"]"}else{if(o instanceof Uint8Array)return String.fromCharCode.apply(String,o);if(o instanceof Map){let l="";for(const[u,f]of o)l+=" "+i(u)+" "+i(f);return"<<"+l.substr(1)+">>"}else if(o&&typeof o=="object"){let l="";for(let u in o)l+=" "+i(u)+" "+i(o[u]);return"<<"+l.substr(1)+">>"}else return""+o}}}function $e(){var s=r[--t],n=r[t-1];if(n instanceof Uint8Array&&(n=Ma(n)),typeof n=="string"){let f=n.trim().split(/ +/g);r[t-1]=n=new Map;for(let h=0;h<f.length;h++){let p=f[h].split("=");p.length==1?n.set(p[0],!0):n.set(p[0],p[1])}}for(var i in s){var o;if(n.has(i)){o=n.get(i);var l=s[i],u=typeof l;if(l==null||u=="number"){if(!isFinite(+o))throw new Error("bwipp.invalidOptionType: "+i+": not a realtype: "+o);typeof o=="string"&&(o=+o,n.set(i,o))}else if(u=="boolean"){if(o!==!0&&o!==!1){if(o==null||(o|0)===o)o=!!o;else if(o=="true")o=!0;else if(o=="false")o=!1;else throw new Error("bwipp.invalidOptionType: "+i+": not a booleantype: "+o);n.set(i,o)}}else if(u=="string"||l instanceof Uint8Array){if(typeof o=="number")o=""+o,n.set(i,o);else if((i==="extratext"||i==="alttext")&&typeof o=="string")o=Z(o),n.set(i,o);else if(typeof o!="string"&&!(o instanceof Uint8Array))throw new Error("bwipp.invalidOptionType: "+i+": not a stringtype: "+o)}s[i]=o}}}function hn(){var s=e;e=Object.assign({},e),e.fncvals=r[--t],e.barcode=r[--t];var n="parse";e[n]=d(e.fncvals,n),delete e.fncvals[n];var i="parsefnc";e[i]=d(e.fncvals,i),delete e.fncvals[i];var o="parseonly",l=d(e.fncvals,o)!==void 0;e[o]=l,delete e.fncvals[o];var u="eci",f=d(e.fncvals,u)!==void 0;e[u]=f,delete e.fncvals[u],r[t++]=1/0;var h=a(["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","","","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US"]);r[t++]=0;for(var p=0,m=h.length;p<m;p++){var x=r[--t];r[t++]=d(h,p),r[t++]=x,r[t++]=x+1}for(t--,e.ctrl=Pe(),e.msg=a(e.barcode.length),e.j=0,r[t++]=e.barcode;;){Rt(r[--t],"^");var b=r[--t],v=r[--t];r[t++]=b,r[t++]=v.length,r[t++]=e.msg,r[t++]=e.j;var w=1/0,y=v;r[t++]=w,xe(y);var A=a(),k=r[--t];if(R(r[--t],k,A),e.j=C(r[--t]+e.j),r[--t]){t--;for(var E=0;E<1;E++){if(!e.parse&&!e.parsefnc){g(e.msg,e.j,94),e.j=e.j+1;break}if(g(e.msg,e.j,94),e.j=e.j+1,e.parse){var j=r[t-1];if(j.length>=3){var N=r[t-1],I=S(N,0,3),M=e.ctrl,B=d(M,I)!==void 0;if(r[t++]=M,r[t++]=I,B){e.j=e.j-1;var F=r[--t];g(e.msg,e.j,d(r[--t],F)),e.j=e.j+1;var D=r[--t];r[t++]=S(D,3,D.length-3);break}else t-=2}var H=r[t-1];if(H.length>=2){var T=r[t-1],_=S(T,0,2),L=e.ctrl,z=d(L,_)!==void 0;if(r[t++]=L,r[t++]=_,z){e.j=e.j-1;var G=r[--t];g(e.msg,e.j,d(r[--t],G)),e.j=e.j+1;var K=r[--t];r[t++]=S(K,2,K.length-2);break}else t-=2}var oe=r[t-1];if(oe.length>=3){var V=r[t-1],Y=S(V,0,3);r[t++]=!0;for(var ie=0,de=Y.length;ie<de;ie++){var re=d(Y,ie);(re<48||re>57)&&(r[t-1]=!1)}if(r[--t]){var ne=r[t-1],le=Ie(S(ne,0,3));r[t++]=le,le>255&&(t-=2,r[t++]="bwipp.invalidOrdinal#282",r[t++]="Ordinal must be 000 to 255",Q()),e.j=e.j-1,g(e.msg,e.j,r[--t]),e.j=e.j+1;var ue=r[--t];r[t++]=S(ue,3,ue.length-3)}}}if(e.parseonly||!e.parsefnc||d(e.msg,e.j-1)!=94)break;e.j=e.j-1;var Me=r[t-1];Me.length<1&&(t--,r[t++]="bwipp.truncatedCaret#301",r[t++]="Caret character truncated",Q());var pe=r[t-1];if(d(pe,0)==94){g(e.msg,e.j,94),e.j=e.j+1;var Fe=r[--t];r[t++]=S(Fe,1,Fe.length-1);break}var Ce=r[t-1];Ce.length<3&&(t--,r[t++]="bwipp.truncatedFNC#311",r[t++]="Function character truncated",Q());var ve=r[t-1];if(W(S(ve,0,3),"ECI")&&e.eci){var Be=r[t-1];Be.length<9&&(t--,r[t++]="bwipp.truncatedECI#316",r[t++]="ECI truncated",Q());var Ue=r[t-1],Xe=S(Ue,3,6);r[t++]=Xe;for(var Re=0,Ge=Xe.length;Re<Ge;Re++){var Oe=d(Xe,Re);(Oe<48||Oe>57)&&(t-=2,r[t++]="bwipp.invalidECI#322",r[t++]="ECI must be 000000 to 999999",Q())}var Le=r[--t];r[t++]=0,xe(Le,function(){var kt=r[--t],wt=r[--t];r[t++]=C(wt-(kt-48))*10}),g(e.msg,e.j,~~(r[--t]/10)-1e6),e.j=e.j+1;var rt=r[--t];r[t++]=S(rt,9,rt.length-9);break}var Se=r[t-1];Se.length<4&&(t--,r[t++]="bwipp.truncatedFNC#333",r[t++]="Function character truncated",Q());var qe=r[t-1],We=S(qe,0,4),Ke=d(e.fncvals,We)!==void 0;if(r[t++]=We,!Ke){var Te=r[--t],He=Z(Te.length+28);R(He,28,Te),R(He,0,"Unknown function character: "),r[t-1]=He;var st=r[--t];r[t++]="bwipp.unknownFNC#339",r[t++]=st,Q()}g(e.msg,e.j,d(e.fncvals,r[--t])),e.j=e.j+1;var gt=r[--t];r[t++]=S(gt,4,gt.length-4);break}}else break}if(!e.parseonly)r[t++]=S(e.msg,0,e.j);else{r[t++]=Z(e.j);for(var ht=0,bt=e.j-1;ht<=bt;ht+=1){var Et=r[t-1];g(Et,ht,d(e.msg,ht))}}e=s}function Un(){var s=e;e=Object.assign({},e);var n=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",a(["lintcsum","lintgcppos2"])]]),i=a([n]),o=a([]),l=new Map([["parts",i],["dlpkey",o]]),u=a(["lintcsum","lintgcppos2"]),f=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",u]]),h=a([f]),p=a(["255","37"]),m=a(["22","10","21"]),x=a(["235"]),b=a([m,x]),v=new Map([["parts",h],["ex",p],["dlpkey",b]]),w=a(["lintcsum","lintgcppos2"]),y=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",w]]),A=a([y]),k=a(["01","03"]),E=a(["37"]),j=a([E]),N=a([j]),I=new Map([["parts",A],["ex",k],["req",N]]),M=a(["lintcsum","lintgcppos2"]),B=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",M]]),F=a([B]),D=a(["01","02","37"]),H=new Map([["parts",F],["ex",D],["dlattr",!1]]),T=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),_=new Map([["parts",a([T])],["req",a([a([a(["01"]),a(["02"]),a(["03"]),a(["8006"]),a(["8026"])])])]]),L=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmd0"])]]),z=new Map([["parts",a([L])],["req",a([a([a(["01"]),a(["02"]),a(["03"]),a(["8006"]),a(["8026"])])])]]),G=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmd0"])]]),K=a([a([a(["8020"])])]),oe=new Map([["parts",a([G])],["req",K]]),V=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmd0"])]]),Y=new Map([["parts",a([V])],["req",a([a([a(["01"]),a(["02"]),a(["03"]),a(["8006"]),a(["8026"])])])]]),ie=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmd0"])]]),de=new Map([["parts",a([ie])],["req",a([a([a(["01"]),a(["02"]),a(["03"]),a(["255"]),a(["8006"]),a(["8026"])])])]]),re=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",a([])]]),ne=new Map([["parts",a([re])],["req",a([a([a(["01"]),a(["02"]),a(["8006"]),a(["8026"])])])]]),le=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),ue=new Map([["parts",a([le])],["ex",a(["235"])],["req",a([a([a(["01"]),a(["03"]),a(["8006"])])])],["dlattr",!1]]),Me=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),pe=new Map([["parts",a([Me])],["req",a([a([a(["01"])])])],["dlattr",!1]]),Fe=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",a([])]]),Ce=new Map([["parts",a([Fe])],["req",a([a([a(["01"])])])],["dlattr",!1]]),ve=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),Be=new Map([["parts",a([ve])],["req",a([a([a(["01"]),a(["02"]),a(["8006"]),a(["8026"])])])]]),Ue=new Map([["cset","N"],["min",1],["max",6],["opt",!1],["linters",a([])]]),Xe=new Map([["parts",a([Ue])],["req",a([a([a(["01"]),a(["02"]),a(["8006"]),a(["8026"])])])]]),Re=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),Ge=new Map([["parts",a([Re])],["req",a([a([a(["01"])])])]]),Oe=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),Le=new Map([["parts",a([Oe])],["req",a([a([a(["01"]),a(["8006"])]),a([a(["21"])])])]]),rt=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),Se=new Map([["parts",a([rt])],["req",a([a([a(["01"]),a(["8006"])])])]]),qe=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),We=new Map([["cset","X"],["min",1],["max",17],["opt",!0],["linters",a([])]]),Ke=new Map([["parts",a([qe,We])],["dlpkey",a([])]]),Te=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),He=new Map([["parts",a([Te])],["req",a([a([a(["414"])])])],["dlattr",!1]]),st=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),gt=new Map([["cset","N"],["min",1],["max",12],["opt",!0],["linters",a([])]]),ht=new Map([["parts",a([st,gt])],["ex",a(["01","02","415","8006","8020","8026"])],["dlpkey",a([])]]),bt=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",a([])]]),Et=new Map([["parts",a([bt])],["req",a([a([a(["01"]),a(["02"])])])]]),kt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),wt=new Map([["parts",a([kt])],["ex",a(["310n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Mt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),It=new Map([["parts",a([Mt])],["ex",a(["311n"])],["req",a([a([a(["01"]),a(["02"])])])]]),zt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Bt=new Map([["parts",a([zt])],["ex",a(["312n"])],["req",a([a([a(["01"]),a(["02"])])])]]),jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),U=new Map([["parts",a([jt])],["ex",a(["313n"])],["req",a([a([a(["01"]),a(["02"])])])]]),$=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),P=new Map([["parts",a([$])],["ex",a(["314n"])],["req",a([a([a(["01"]),a(["02"])])])]]),q=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),X=new Map([["parts",a([q])],["ex",a(["315n"])],["req",a([a([a(["01"]),a(["02"])])])]]),ce=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),te=new Map([["parts",a([ce])],["ex",a(["316n"])],["req",a([a([a(["01"]),a(["02"])])])]]),ye=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),J=new Map([["parts",a([ye])],["ex",a(["320n"])],["req",a([a([a(["01"]),a(["02"])])])]]),me=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),fe=new Map([["parts",a([me])],["ex",a(["321n"])],["req",a([a([a(["01"]),a(["02"])])])]]),be=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),se=new Map([["parts",a([be])],["ex",a(["322n"])],["req",a([a([a(["01"]),a(["02"])])])]]),ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),je=new Map([["parts",a([ge])],["ex",a(["323n"])],["req",a([a([a(["01"]),a(["02"])])])]]),he=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ke=new Map([["parts",a([he])],["ex",a(["324n"])],["req",a([a([a(["01"]),a(["02"])])])]]),we=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ne=new Map([["parts",a([we])],["ex",a(["325n"])],["req",a([a([a(["01"]),a(["02"])])])]]),ze=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),_e=new Map([["parts",a([ze])],["ex",a(["326n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Je=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),at=new Map([["parts",a([Je])],["ex",a(["327n"])],["req",a([a([a(["01"]),a(["02"])])])]]),nt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ae=new Map([["parts",a([nt])],["ex",a(["328n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Ye=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Qe=new Map([["parts",a([Ye])],["ex",a(["329n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Ze=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),pt=new Map([["parts",a([Ze])],["ex",a(["330n"])],["req",a([a([a(["00"]),a(["01"])])])]]),mt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ut=new Map([["parts",a([mt])],["ex",a(["331n"])],["req",a([a([a(["00"]),a(["01"])])])]]),vt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),it=new Map([["parts",a([vt])],["ex",a(["332n"])],["req",a([a([a(["00"]),a(["01"])])])]]),_t=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),et=new Map([["parts",a([_t])],["ex",a(["333n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Ht=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Gt=new Map([["parts",a([Ht])],["ex",a(["334n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Ot=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ar=new Map([["parts",a([Ot])],["ex",a(["335n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Sr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ir=new Map([["parts",a([Sr])],["ex",a(["336n"])],["req",a([a([a(["00"]),a(["01"])])])]]),gr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),nr=new Map([["parts",a([gr])],["ex",a(["337n"])],["req",a([a([a(["01"])])])]]),Ir=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),er=new Map([["parts",a([Ir])],["ex",a(["340n"])],["req",a([a([a(["00"]),a(["01"])])])]]),ur=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Kt=new Map([["parts",a([ur])],["ex",a(["341n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Xt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),fr=new Map([["parts",a([Xt])],["ex",a(["342n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Mr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ur=new Map([["parts",a([Mr])],["ex",a(["343n"])],["req",a([a([a(["00"]),a(["01"])])])]]),ms=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ft=new Map([["parts",a([ms])],["ex",a(["344n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Vt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),tr=new Map([["parts",a([Vt])],["ex",a(["345n"])],["req",a([a([a(["00"]),a(["01"])])])]]),br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),or=new Map([["parts",a([br])],["ex",a(["346n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),lr=new Map([["parts",a([Br])],["ex",a(["347n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Lt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),yr=new Map([["parts",a([Lt])],["ex",a(["348n"])],["req",a([a([a(["00"]),a(["01"])])])]]),ns=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),xs=new Map([["parts",a([ns])],["ex",a(["349n"])],["req",a([a([a(["00"]),a(["01"])])])]]),js=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Gr=new Map([["parts",a([js])],["ex",a(["350n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Bs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ws=new Map([["parts",a([Bs])],["ex",a(["351n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Ps=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),us=new Map([["parts",a([Ps])],["ex",a(["352n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Ns=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ds=new Map([["parts",a([Ns])],["ex",a(["353n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Cs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),qs=new Map([["parts",a([Cs])],["ex",a(["354n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Ys=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),en=new Map([["parts",a([Ys])],["ex",a(["355n"])],["req",a([a([a(["00"]),a(["01"])])])]]),wn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ms=new Map([["parts",a([wn])],["ex",a(["356n"])],["req",a([a([a(["01"]),a(["02"])])])]]),On=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Vs=new Map([["parts",a([On])],["ex",a(["357n"])],["req",a([a([a(["01"]),a(["02"])])])]]),$n=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Us=new Map([["parts",a([$n])],["ex",a(["360n"])],["req",a([a([a(["01"]),a(["02"])])])]]),An=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),zn=new Map([["parts",a([An])],["ex",a(["361n"])],["req",a([a([a(["01"]),a(["02"])])])]]),Ln=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),tn=new Map([["parts",a([Ln])],["ex",a(["362n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Wn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),rn=new Map([["parts",a([Wn])],["ex",a(["363n"])],["req",a([a([a(["00"]),a(["01"])])])]]),kn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Os=new Map([["parts",a([kn])],["ex",a(["364n"])],["req",a([a([a(["01"]),a(["02"])])])]]),ka=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),$s=new Map([["parts",a([ka])],["ex",a(["365n"])],["req",a([a([a(["01"]),a(["02"])])])]]),_a=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Fs=new Map([["parts",a([_a])],["ex",a(["366n"])],["req",a([a([a(["01"]),a(["02"])])])]]),ra=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),zs=new Map([["parts",a([ra])],["ex",a(["367n"])],["req",a([a([a(["00"]),a(["01"])])])]]),ca=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),pn=new Map([["parts",a([ca])],["ex",a(["368n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Zt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ts=new Map([["parts",a([Zt])],["ex",a(["369n"])],["req",a([a([a(["00"]),a(["01"])])])]]),Ss=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",a([])]]),Ls=new Map([["parts",a([Ss])],["req",a([a([a(["00"])]),a([a(["02"]),a(["8026"])])])]]),jn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",a([])]]),qr=new Map([["parts",a([jn])],["ex",a(["390n","391n","394n","8111"])],["req",a([a([a(["255"]),a(["8020"])])])]]),mn=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso4217"])]]),Nn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",a([])]]),Qs=new Map([["parts",a([mn,Nn])],["ex",a(["391n"])],["req",a([a([a(["8020"])])])]]),Pa=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",a([])]]),Rs=new Map([["parts",a([Pa])],["ex",a(["392n","393n"])],["req",a([a([a(["01"])]),a([a(["30"]),a(["31nn"]),a(["32nn"]),a(["35nn"]),a(["36nn"])])])]]),k1=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso4217"])]]),Kn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",a([])]]),Ts=new Map([["parts",a([k1,Kn])],["ex",a(["393n"])],["req",a([a([a(["30"]),a(["31nn"]),a(["32nn"]),a(["35nn"]),a(["36nn"])])])]]),Ua=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a([])]]),sn=new Map([["parts",a([Ua])],["ex",a(["394n","8111"])],["req",a([a([a(["255"])])])]]),Oa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Cn=new Map([["parts",a([Oa])],["ex",a(["392n","393n","395n","8005"])],["req",a([a([a(["30"]),a(["31nn"]),a(["32nn"]),a(["35nn"]),a(["36nn"])])])]]),da=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),ua=new Map([["parts",a([da])]]),l1=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a(["lintgcppos1"])]]),At=new Map([["parts",a([l1])],["dlpkey",a([])]]),Kr=new Map([["cset","N"],["min",17],["max",17],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),as=new Map([["parts",a([Kr])],["dlpkey",a([])]]),Hs=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),fs=new Map([["parts",a([Hs])],["req",a([a([a(["00"])])])]]),nn=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),Sn=new Map([["parts",a([nn])]]),ja=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),ct=new Map([["parts",a([ja])],["dlpkey",a([a(["254"]),a(["7040"])])]]),St=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),pr=new Map([["parts",a([St])],["req",a([a([a(["8020"])])])],["dlpkey",a([a(["8020"])])]]),cr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),hr=new Map([["parts",a([cr])]]),Fr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),dr=new Map([["parts",a([Fr])],["dlpkey",a([a(["7040"])])]]),is=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),Yr=new Map([["parts",a([is])],["ex",a(["421"])]]),Vr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166"])]]),$r=new Map([["cset","X"],["min",1],["max",9],["opt",!1],["linters",a([])]]),Jr=new Map([["parts",a([Vr,$r])],["ex",a(["4307"])]]),vs=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166"])]]),rs=new Map([["parts",a([vs])],["ex",a(["426"])],["req",a([a([a(["01"]),a(["02"]),a(["8006"]),a(["8026"])])])]]),Wr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166"])]]),os=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),Rr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),Or=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),Gs=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),As=new Map([["parts",a([Wr,os,Rr,Or,Gs])],["ex",a(["426"])],["req",a([a([a(["01"]),a(["02"])])])]]),xn=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166"])]]),Fn=new Map([["parts",a([xn])],["ex",a(["426"])],["req",a([a([a(["01"]),a(["02"])])])]]),fa=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166"])]]),Qn=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),rr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),wr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),Cr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",a(["lintiso3166"])]]),ss=new Map([["parts",a([fa,Qn,rr,wr,Cr])],["ex",a(["426"])],["req",a([a([a(["01"]),a(["02"])])])]]),zr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166"])]]),ls=new Map([["parts",a([zr])],["req",a([a([a(["01"]),a(["02"])])])]]),Xr=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",a([])]]),an=new Map([["parts",a([Xr])],["req",a([a([a(["01"]),a(["02"])]),a([a(["422"])])])]]),on=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",a(["lintpcenc"])]]),Jn=new Map([["parts",a([on])],["req",a([a([a(["00"])])])]]),Na=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),za=new Map([["parts",a([Na])],["req",a([a([a(["00"])])])]]),Wa=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),Ka=new Map([["parts",a([Wa])],["req",a([a([a(["4302"])])])]]),Ca=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),j1=new Map([["parts",a([Ca])],["req",a([a([a(["00"])])])]]),Ja=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",a(["lintiso3166alpha2"])]]),N1=new Map([["parts",a([Ja])],["req",a([a([a(["00"])])])]]),di=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),C1=new Map([["parts",a([di])],["req",a([a([a(["00"])])])]]),ui=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",a(["lintlatitude"])]]),fi=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",a(["lintlongitude"])]]),Ve=new Map([["parts",a([ui,fi])],["req",a([a([a(["00"])])])]]),yt=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",a(["lintpcenc"])]]),mr=new Map([["parts",a([yt])],["req",a([a([a(["00"])])])]]),jr=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),gs=new Map([["parts",a([jr])],["req",a([a([a(["00"])])])]]),ln=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),cn=new Map([["parts",a([ln])],["req",a([a([a(["4312"])])])]]),Rn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),ha=new Map([["parts",a([Rn])],["req",a([a([a(["00"])])])]]),Sa=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",a(["lintiso3166alpha2"])]]),G1=new Map([["parts",a([Sa])],["req",a([a([a(["00"])])])]]),q1=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),Xa=new Map([["parts",a([q1])],["req",a([a([a(["00"])])])]]),Y1=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),Ho=new Map([["parts",a([Y1])],["req",a([a([a(["00"])])])]]),Zi=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",a(["lintpcenc"])]]),dt=new Map([["parts",a([Zi])],["req",a([a([a(["00"])])])]]),Yt=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",a(["lintyesno"])]]),Lr=new Map([["parts",a([Yt])],["req",a([a([a(["00"])])])]]),ot=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmd0"])]]),Ut=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a(["linthhmi"])]]),$t=new Map([["parts",a([ot,Ut])],["req",a([a([a(["00"])])])]]),Jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmdd"])]]),Zr=new Map([["parts",a([Jt])],["req",a([a([a(["00"])])])]]),ks=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),bs=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",a(["linthyphen"])]]),vn=new Map([["parts",a([ks,bs])],["ex",a(["4331"])],["req",a([a([a(["00"])])])]]),Xn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),pa=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",a(["linthyphen"])]]),ma=new Map([["parts",a([Xn,pa])],["ex",a(["4330"])],["req",a([a([a(["00"])])])]]),Za=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Ii=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",a(["linthyphen"])]]),hi=new Map([["parts",a([Za,Ii])],["ex",a(["4333"])],["req",a([a([a(["00"])])])]]),V1=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),Bi=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",a(["linthyphen"])]]),pi=new Map([["parts",a([V1,Bi])],["ex",a(["4332"])],["req",a([a([a(["00"])])])]]),eo=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a([])]]),Di=new Map([["parts",a([eo])],["req",a([a([a(["01"]),a(["02"]),a(["8006"]),a(["8026"])])])]]),Gc=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),qc=new Map([["parts",a([Gc])],["req",a([a([a(["01"]),a(["02"])])])]]),Il=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmdd"])]]),Go=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a(["linthhmi"])]]),Yc=new Map([["parts",a([Il,Go])],["req",a([a([a(["01"]),a(["02"])])])]]),Vc=new Map([["cset","N"],["min",1],["max",4],["opt",!1],["linters",a([])]]),$c=new Map([["parts",a([Vc])],["req",a([a([a(["01"])]),a([a(["10"])])])]]),Wc=new Map([["cset","X"],["min",1],["max",12],["opt",!1],["linters",a([])]]),Kc=new Map([["parts",a([Wc])],["req",a([a([a(["01"]),a(["02"])])])]]),Jc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmdd"])]]),Xc=new Map([["parts",a([Jc])],["req",a([a([a(["01"]),a(["02"])])])]]),Zc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmdd"])]]),e0=new Map([["cset","N"],["min",6],["max",6],["opt",!0],["linters",a(["lintyymmdd"])]]),t0=new Map([["parts",a([Zc,e0])],["req",a([a([a(["01"]),a(["02"])])])]]),Bl=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",a([])]]),qo=new Map([["parts",a([Bl])],["req",a([a([a(["01"]),a(["02"])])])]]),r0=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",a([])]]),s0=new Map([["parts",a([r0])],["req",a([a([a(["01"]),a(["02"])])])]]),Dl=new Map([["cset","X"],["min",1],["max",2],["opt",!1],["linters",a([])]]),Yo=new Map([["parts",a([Dl])],["req",a([a([a(["01"]),a(["02"])])])]]),n0=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmdd"])]]),a0=new Map([["cset","N"],["min",4],["max",4],["opt",!0],["linters",a(["linthhmi"])]]),Ml=new Map([["parts",a([n0,a0])],["req",a([a([a(["01"]),a(["02"])])])]]),Vo=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),i0=new Map([["parts",a([Vo])],["req",a([a([a(["01"]),a(["8006"])]),a([a(["416"])])])]]),o0=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),Fl=new Map([["parts",a([o0])],["req",a([a([a(["01"]),a(["8006"])])])]]),$o=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),l0=new Map([["parts",a([$o])],["req",a([a([a(["7021"])])])]]),Rl=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a(["lintgcppos1"])]]),to=new Map([["parts",a([Rl])]]),Wo=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintiso3166999"])]]),c0=new Map([["cset","X"],["min",1],["max",27],["opt",!1],["linters",a([])]]),e1=new Map([["parts",a([Wo,c0])],["req",a([a([a(["01"]),a(["02"])])])]]),d0=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",a([])]]),Lf=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",a([])]]),Qf=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",a([])]]),ad=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",a(["lintimporteridx"])]]),u0=new Map([["parts",a([d0,Lf,Qf,ad])],["dlattr",!1]]),Hf=new Map([["cset","X"],["min",1],["max",4],["opt",!1],["linters",a(["lintpackagetype"])]]),Gf=new Map([["parts",a([Hf])],["req",a([a([a(["00"])])])],["dlattr",!1]]),id=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),$1=new Map([["parts",a([id])],["req",a([a([a(["01"])])])]]),qf=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",a([])]]),Yf=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",a([])]]),S1=new Map([["parts",a([qf,Yf])],["req",a([a([a(["01"]),a(["8004"])])])]]),f0=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),Vf=new Map([["parts",a([f0])],["req",a([a([a(["01"]),a(["8006"])])])]]),$f=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",a(["lintmediatype"])]]),od=new Map([["parts",a([$f])],["req",a([a([a(["8017"]),a(["8018"])])])]]),h0=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",a([])]]),Wf=new Map([["parts",a([h0])],["req",a([a([a(["8017"]),a(["8018"])])])]]),Kf=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",a(["lintyyyymmdd"])]]),A7=new Map([["parts",a([Kf])],["ex",a(["7251"])],["req",a([a([a(["8018"])])])]]),k7=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",a(["lintyyyymmdd"])]]),j7=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a(["linthhmi"])]]),N7=new Map([["parts",a([k7,j7])],["ex",a(["7250"])],["req",a([a([a(["8018"])])])]]),C7=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",a(["lintiso5218"])]]),S7=new Map([["parts",a([C7])],["req",a([a([a(["8018"])])])]]),E7=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",a(["lintpcenc"])]]),Sv=new Map([["parts",a([E7])],["ex",a(["7256","7259"])],["req",a([a([a(["8017"]),a(["8018"])])])]]),I7=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",a([])]]),B7=new Map([["parts",a([I7])],["ex",a(["7256","7259"])],["req",a([a([a(["8017"]),a(["8018"])])])]]),D7=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",a(["lintpcenc"])]]),M7=new Map([["parts",a([D7])],["req",a([a([a(["8017"]),a(["8018"])])])]]),F7=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintpcenc"])]]),R7=new Map([["parts",a([F7])],["req",a([a([a(["8018"])])])]]),T7=new Map([["cset","X"],["min",3],["max",3],["opt",!1],["linters",a(["lintposinseqslash"])]]),_7=new Map([["parts",a([T7])],["req",a([a([a(["8018","7259"])])])]]),P7=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",a(["lintpcenc"])]]),U7=new Map([["parts",a([P7])],["ex",a(["7256"])],["req",a([a([a(["8018"])])])]]),O7=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a(["lintnonzero"])]]),z7=new Map([["cset","N"],["min",5],["max",5],["opt",!1],["linters",a(["lintnonzero"])]]),L7=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",a(["lintnonzero"])]]),Q7=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",a(["lintwinding"])]]),H7=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",a([])]]),G7=new Map([["parts",a([O7,z7,L7,Q7,H7])],["req",a([a([a(["01"])])])]]),q7=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),Y7=new Map([["parts",a([q7])]]),V7=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",a(["lintzero"])]]),$7=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),W7=new Map([["cset","X"],["min",1],["max",16],["opt",!0],["linters",a([])]]),K7=new Map([["parts",a([V7,$7,W7])],["dlpkey",a([])]]),J7=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a(["lintgcppos1"])]]),X7=new Map([["parts",a([J7])],["dlpkey",a([a(["7040"])])]]),Z7=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a([])]]),ek=new Map([["parts",a([Z7])],["req",a([a([a(["01"]),a(["02"])])])]]),tk=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",a(["lintcsum","lintgcppos2"])]]),rk=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a(["lintpieceoftotal"])]]),sk=new Map([["parts",a([tk,rk])],["ex",a(["01","37"])],["dlpkey",a([a(["22","10","21"])])]]),nk=new Map([["cset","X"],["min",1],["max",34],["opt",!1],["linters",a(["lintiban"])]]),ak=new Map([["parts",a([nk])],["req",a([a([a(["415"])])])]]),ik=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",a(["lintyymmdd"])]]),ok=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",a(["linthh"])]]),lk=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",a(["lintmi"])]]),ck=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",a(["lintss"])]]),dk=new Map([["parts",a([ik,ok,lk,ck])],["req",a([a([a(["01"]),a(["02"])])])]]),uk=new Map([["cset","X"],["min",1],["max",50],["opt",!1],["linters",a([])]]),fk=new Map([["parts",a([uk])],["req",a([a([a(["00"]),a(["01"])])])]]),hk=new Map([["cset","Y"],["min",1],["max",30],["opt",!1],["linters",a(["lintgcppos1"])]]),pk=new Map([["parts",a([hk])],["dlpkey",a([a(["8011"])])]]),mk=new Map([["cset","N"],["min",1],["max",12],["opt",!1],["linters",a(["lintnozeroprefix"])]]),xk=new Map([["parts",a([mk])],["req",a([a([a(["8010"])])])],["dlattr",!1]]),vk=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",a([])]]),gk=new Map([["parts",a([vk])],["req",a([a([a(["01"]),a(["8006"])])])]]),bk=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",a(["lintcsumalpha","lintgcppos1"])]]),yk=new Map([["parts",a([bk])],["dlpkey",a([])]]),wk=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",a(["lintcsumalpha","lintgcppos1","linthasnondigit"])]]),Ak=new Map([["parts",a([wk])],["req",a([a([a(["01"])])])],["dlattr",!1]]),kk=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),jk=new Map([["parts",a([kk])],["ex",a(["8018"])],["dlpkey",a([a(["8019"])])]]),Nk=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",a(["lintcsum","lintgcppos1"])]]),Ck=new Map([["parts",a([Nk])],["ex",a(["8017"])],["dlpkey",a([a(["8019"])])]]),Sk=new Map([["cset","N"],["min",1],["max",10],["opt",!1],["linters",a([])]]),Ek=new Map([["parts",a([Sk])],["req",a([a([a(["8017"]),a(["8018"])])])],["dlattr",!1]]),Ik=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",a([])]]),Bk=new Map([["parts",a([Ik])],["req",a([a([a(["415"])])])],["dlattr",!1]]),Dk=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",a(["lintcsum","lintgcppos2"])]]),Mk=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a(["lintpieceoftotal"])]]),Fk=new Map([["parts",a([Dk,Mk])],["ex",a(["02","8006"])],["req",a([a([a(["37"])])])]]),Rk=new Map([["cset","Z"],["min",1],["max",90],["opt",!1],["linters",a([])]]),Tk=new Map([["parts",a([Rk])],["req",a([a([a(["00"]),a(["01","21"]),a(["253"]),a(["255"]),a(["8003"]),a(["8004"]),a(["8006","21"]),a(["8010","8011"]),a(["8017"]),a(["8018"])])])]]),_k=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintcouponcode"])]]),Pk=new Map([["parts",a([_k])]]),Uk=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",a([])]]),Ok=new Map([["parts",a([Uk])],["req",a([a([a(["255"])])])]]),zk=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a(["lintcouponposoffer"])]]),Lk=new Map([["parts",a([zk])]]),Qk=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",a([])]]),Hk=new Map([["parts",a([Qk])],["req",a([a([a(["01"])])])],["dlattr",!1]]),Gk=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",a([])]]),qk=new Map([["parts",a([Gk])]]),Yk=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",a([])]]),Mi=new Map([["parts",a([Yk])]]),Vk=new Map([["00",l],["01",v],["02",I],["03",H],["10",_],["11",z],["12",oe],["13",Y],["15",Y],["16",Y],["17",de],["20",ne],["21",ue],["22",pe],["235",Ce],["240",Be],["241",Be],["242",Xe],["243",Ge],["250",Le],["251",Se],["253",Ke],["254",He],["255",ht],["30",Et],["3100",wt],["3101",wt],["3102",wt],["3103",wt],["3104",wt],["3105",wt],["3110",It],["3111",It],["3112",It],["3113",It],["3114",It],["3115",It],["3120",Bt],["3121",Bt],["3122",Bt],["3123",Bt],["3124",Bt],["3125",Bt],["3130",U],["3131",U],["3132",U],["3133",U],["3134",U],["3135",U],["3140",P],["3141",P],["3142",P],["3143",P],["3144",P],["3145",P],["3150",X],["3151",X],["3152",X],["3153",X],["3154",X],["3155",X],["3160",te],["3161",te],["3162",te],["3163",te],["3164",te],["3165",te],["3200",J],["3201",J],["3202",J],["3203",J],["3204",J],["3205",J],["3210",fe],["3211",fe],["3212",fe],["3213",fe],["3214",fe],["3215",fe],["3220",se],["3221",se],["3222",se],["3223",se],["3224",se],["3225",se],["3230",je],["3231",je],["3232",je],["3233",je],["3234",je],["3235",je],["3240",ke],["3241",ke],["3242",ke],["3243",ke],["3244",ke],["3245",ke],["3250",Ne],["3251",Ne],["3252",Ne],["3253",Ne],["3254",Ne],["3255",Ne],["3260",_e],["3261",_e],["3262",_e],["3263",_e],["3264",_e],["3265",_e],["3270",at],["3271",at],["3272",at],["3273",at],["3274",at],["3275",at],["3280",Ae],["3281",Ae],["3282",Ae],["3283",Ae],["3284",Ae],["3285",Ae],["3290",Qe],["3291",Qe],["3292",Qe],["3293",Qe],["3294",Qe],["3295",Qe],["3300",pt],["3301",pt],["3302",pt],["3303",pt],["3304",pt],["3305",pt],["3310",ut],["3311",ut],["3312",ut],["3313",ut],["3314",ut],["3315",ut],["3320",it],["3321",it],["3322",it],["3323",it],["3324",it],["3325",it],["3330",et],["3331",et],["3332",et],["3333",et],["3334",et],["3335",et],["3340",Gt],["3341",Gt],["3342",Gt],["3343",Gt],["3344",Gt],["3345",Gt],["3350",ar],["3351",ar],["3352",ar],["3353",ar],["3354",ar],["3355",ar],["3360",ir],["3361",ir],["3362",ir],["3363",ir],["3364",ir],["3365",ir],["3370",nr],["3371",nr],["3372",nr],["3373",nr],["3374",nr],["3375",nr],["3400",er],["3401",er],["3402",er],["3403",er],["3404",er],["3405",er],["3410",Kt],["3411",Kt],["3412",Kt],["3413",Kt],["3414",Kt],["3415",Kt],["3420",fr],["3421",fr],["3422",fr],["3423",fr],["3424",fr],["3425",fr],["3430",Ur],["3431",Ur],["3432",Ur],["3433",Ur],["3434",Ur],["3435",Ur],["3440",Ft],["3441",Ft],["3442",Ft],["3443",Ft],["3444",Ft],["3445",Ft],["3450",tr],["3451",tr],["3452",tr],["3453",tr],["3454",tr],["3455",tr],["3460",or],["3461",or],["3462",or],["3463",or],["3464",or],["3465",or],["3470",lr],["3471",lr],["3472",lr],["3473",lr],["3474",lr],["3475",lr],["3480",yr],["3481",yr],["3482",yr],["3483",yr],["3484",yr],["3485",yr],["3490",xs],["3491",xs],["3492",xs],["3493",xs],["3494",xs],["3495",xs],["3500",Gr],["3501",Gr],["3502",Gr],["3503",Gr],["3504",Gr],["3505",Gr],["3510",ws],["3511",ws],["3512",ws],["3513",ws],["3514",ws],["3515",ws],["3520",us],["3521",us],["3522",us],["3523",us],["3524",us],["3525",us],["3530",Ds],["3531",Ds],["3532",Ds],["3533",Ds],["3534",Ds],["3535",Ds],["3540",qs],["3541",qs],["3542",qs],["3543",qs],["3544",qs],["3545",qs],["3550",en],["3551",en],["3552",en],["3553",en],["3554",en],["3555",en],["3560",Ms],["3561",Ms],["3562",Ms],["3563",Ms],["3564",Ms],["3565",Ms],["3570",Vs],["3571",Vs],["3572",Vs],["3573",Vs],["3574",Vs],["3575",Vs],["3600",Us],["3601",Us],["3602",Us],["3603",Us],["3604",Us],["3605",Us],["3610",zn],["3611",zn],["3612",zn],["3613",zn],["3614",zn],["3615",zn],["3620",tn],["3621",tn],["3622",tn],["3623",tn],["3624",tn],["3625",tn],["3630",rn],["3631",rn],["3632",rn],["3633",rn],["3634",rn],["3635",rn],["3640",Os],["3641",Os],["3642",Os],["3643",Os],["3644",Os],["3645",Os],["3650",$s],["3651",$s],["3652",$s],["3653",$s],["3654",$s],["3655",$s],["3660",Fs],["3661",Fs],["3662",Fs],["3663",Fs],["3664",Fs],["3665",Fs],["3670",zs],["3671",zs],["3672",zs],["3673",zs],["3674",zs],["3675",zs],["3680",pn],["3681",pn],["3682",pn],["3683",pn],["3684",pn],["3685",pn],["3690",ts],["3691",ts],["3692",ts],["3693",ts],["3694",ts],["3695",ts],["37",Ls],["3900",qr],["3901",qr],["3902",qr],["3903",qr],["3904",qr],["3905",qr],["3906",qr],["3907",qr],["3908",qr],["3909",qr],["3910",Qs],["3911",Qs],["3912",Qs],["3913",Qs],["3914",Qs],["3915",Qs],["3916",Qs],["3917",Qs],["3918",Qs],["3919",Qs],["3920",Rs],["3921",Rs],["3922",Rs],["3923",Rs],["3924",Rs],["3925",Rs],["3926",Rs],["3927",Rs],["3928",Rs],["3929",Rs],["3930",Ts],["3931",Ts],["3932",Ts],["3933",Ts],["3934",Ts],["3935",Ts],["3936",Ts],["3937",Ts],["3938",Ts],["3939",Ts],["3940",sn],["3941",sn],["3942",sn],["3943",sn],["3950",Cn],["3951",Cn],["3952",Cn],["3953",Cn],["3954",Cn],["3955",Cn],["400",ua],["401",At],["402",as],["403",fs],["410",Sn],["411",Sn],["412",Sn],["413",Sn],["414",ct],["415",pr],["416",hr],["417",dr],["420",Yr],["421",Jr],["422",rs],["423",As],["424",Fn],["425",ss],["426",ls],["427",an],["4300",Jn],["4301",Jn],["4302",za],["4303",Ka],["4304",j1],["4305",j1],["4306",j1],["4307",N1],["4308",C1],["4309",Ve],["4310",mr],["4311",mr],["4312",gs],["4313",cn],["4314",ha],["4315",ha],["4316",ha],["4317",G1],["4318",Xa],["4319",Ho],["4320",dt],["4321",Lr],["4322",Lr],["4323",Lr],["4324",$t],["4325",$t],["4326",Zr],["4330",vn],["4331",ma],["4332",hi],["4333",pi],["7001",Di],["7002",qc],["7003",Yc],["7004",$c],["7005",Kc],["7006",Xc],["7007",t0],["7008",qo],["7009",s0],["7010",Yo],["7011",Ml],["7020",i0],["7021",Fl],["7022",l0],["7023",to],["7030",e1],["7031",e1],["7032",e1],["7033",e1],["7034",e1],["7035",e1],["7036",e1],["7037",e1],["7038",e1],["7039",e1],["7040",u0],["7041",Gf],["710",$1],["711",$1],["712",$1],["713",$1],["714",$1],["715",$1],["716",$1],["7230",S1],["7231",S1],["7232",S1],["7233",S1],["7234",S1],["7235",S1],["7236",S1],["7237",S1],["7238",S1],["7239",S1],["7240",Vf],["7241",od],["7242",Wf],["7250",A7],["7251",N7],["7252",S7],["7253",Sv],["7254",Sv],["7255",B7],["7256",M7],["7257",R7],["7258",_7],["7259",U7],["8001",G7],["8002",Y7],["8003",K7],["8004",X7],["8005",ek],["8006",sk],["8007",ak],["8008",dk],["8009",fk],["8010",pk],["8011",xk],["8012",gk],["8013",yk],["8014",Ak],["8017",jk],["8018",Ck],["8019",Ek],["8020",Bk],["8026",Fk],["8030",Tk],["8110",Pk],["8111",Ok],["8112",Lk],["8200",Hk],["90",qk],["91",Mi],["92",Mi],["93",Mi],["94",Mi],["95",Mi],["96",Mi],["97",Mi],["98",Mi],["99",Mi]]);if(e.gs1syntax=Vk,W(r[--t],"ai")){I0(r[--t],"("),r[--t]||(t--,r[t++]="bwipp.GS1aiMissingOpenParen#2494",r[t++]="AIs must start with '('",Q()),r[t-1]=1/0;var $k=r[--t],Wk=r[--t];for(r[t++]=$k,r[t++]=Wk;;){var Kk=r[t-1];if(Kk.length==0){t--;break}Rt(r[--t],")"),r[--t]||(cl(),r[t++]="bwipp.GS1aiMissingCloseParen#2500",r[t++]="AIs must end with ')'",Q());var Jk=r[--t];r[t-1]=Jk;var Xk=r[--t],Zk=r[--t];if(r[t++]=Xk,Rt(Zk,"("),r[--t]){var ej=r[--t];r[t-1]=ej;var tj=r[--t],rj=r[--t];r[t++]=tj,r[t++]=rj}else r[t++]=""}var Ev=ys();if(r[t++]=Ev,Ev>0)for(var Iv=r[--t],Jf=Iv,sj=~~(Iv/2)+1;Jf>=sj;Jf-=1)Es(Jf,-1);else t--;Wt(a(~~(ys()/2))),e.ais=r[--t],Wt(a(ys())),r[t++]=1/0;var nj=r[--t],aj=r[--t];r[t++]=nj,xe(aj,function(){var tt=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);r[t++]=tt,hn()}),e.vals=a(),t--}else{if(I0(r[--t],"http://"),r[--t]||(I0(r[--t],"HTTP://"),r[--t]||(I0(r[--t],"https://"),r[--t]||(I0(r[--t],"HTTPS://"),r[--t]||(t--,r[t++]="bwipp.GS1dlURIbadScheme#2519",r[t++]="Scheme must be http:// HTTP:// https:// or HTTPS://",Q())))),t--,Rt(r[--t],"/"),r[--t]||(t--,r[t++]="bwipp.GS1dlMissingDomainOrPathInfo#2525",r[t++]="URI must contain a domain and path info",Q()),t-=2,Rt(r[--t],"#"),r[--t]){var ij=r[--t];r[t-1]=ij;var oj=r[--t];r[t-1]=oj}if(Rt(r[--t],"?"),!r[--t]){var lj=r[--t];r[t++]="",r[t++]=null,r[t++]=lj}for(e.pp=r[--t],t--,e.qp=r[--t],r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=e.pp;;){if(Rt(r[--t],"/"),!r[--t]){t--;break}var cj=r[--t];r[t-1]=cj.length+1;var dj=r[--t],uj=r[--t],fj=r[t-1];r[t++]=C(dj+fj),r[t++]=uj}Wt(a(ys()-1)),e.pipos=r[--t],t-=2,e.pipos.length<=1&&(r[t++]="bwipp.GS1dlNoAIinfo#2550",r[t++]="The path was too short to contain AI info",Q()),r[t++]=!1;for(var p0=e.pipos.length-2;p0>=0;p0-=2){var Bv=d(e.pipos,p0),Dv=S(e.pp,Bv,C(d(e.pipos,p0+1)-Bv)-1),hj=d(e.gs1syntax,Dv)!==void 0;if(r[t++]=p0,r[t++]=Dv,hj){var pj=d(d(e.gs1syntax,r[--t]),"dlpkey")!==void 0;if(pj){var mj=r[--t];r[t-1]=mj,r[t++]=!0;break}}else t--;t--}r[--t]||(r[t++]="bwipp.GS1dlNoAIinfo#2569",r[t++]="The path does not contain a valid primary key",Q());var Mv=d(e.pipos,r[--t]);for(e.pp=S(e.pp,Mv,C(e.pp.length-Mv)),e.uriunescape=function(){for(e.qq=r[--t],e.in=r[--t],e.out=Z(e.in.length),r[t++]=0,r[t++]=0;;){var tt=r[t-2];if(tt>=e.in.length)break;var Dt=r[t-2],Ar=d(e.in,Dt);if(r[t++]=Ar,Ar==43&&e.qq){t--;var xr=r[--t];g(e.out,xr,32);var Er=r[--t];r[t++]=Er+1,r[t++]=xr+1}else{var cs=r[t-1],hs=r[t-3];if(cs==37&&hs<e.in.length-2){t--;var En=r[t-2],Ws=S(e.in,En+1,2);r[t++]=0;for(var In=0,Hn=Ws.length;In<Hn;In++){var Gn=d(Ws,In);if(r[t++]=Gn,Gn>=48&&Gn<=57){var Zn=r[--t];r[t++]=Zn-48}else{var E1=r[t-1];if(E1>=65&&E1<=70){var Fi=r[--t];r[t++]=Fi-55}else{var W1=r[t-1];if(W1>=97&&W1<=102){var Ri=r[--t];r[t++]=Ri-87}else t-=2,r[t++]="bwipp.GS1dlBadHexCharacter#2590",r[t++]="Invalid hex character",Q()}}var mi=r[--t],xi=r[--t];r[t++]=C(mi+xi*16)}var vi=r[--t],gi=r[--t];g(e.out,gi,vi);var x0=r[--t];r[t++]=x0+3,r[t++]=gi+1}else{var Tl=r[--t],K1=r[--t];g(e.out,K1,Tl);var bi=r[--t];r[t++]=bi+1,r[t++]=K1+1}}}e.out=S(e.out,0,r[--t]),r[t-1]=e.out},e.isvaliddlpkeyseq=function(){e.in=r[--t],r[t++]=!1,xe(d(d(e.gs1syntax,d(e.in,0)),"dlpkey"),function(){for(e.seq=r[--t],e.i=1,e.j=0;!(e.i>=e.in.length||e.j>=e.seq.length);)W(d(e.in,e.i),d(e.seq,e.j))&&(e.i=e.i+1),e.j=e.j+1;if(e.i==e.in.length)return r[t-1]=!0,!0})},e.ais=a(99),e.vals=a(99),r[t++]=0,r[t++]=e.pp;;){if(Rt(r[--t],"/"),r[--t]){var xj=r[--t];t--;var vj=r[--t],gj=r[t-1];if(g(e.ais,gj,xj),Rt(vj,"/"),r[--t]){var bj=r[--t];r[t-1]=bj}else{var yj=r[--t];r[t++]="",r[t++]=yj}var wj=r[--t],Aj=r[t-2];r[t++]=e.vals,r[t++]=Aj,r[t++]=wj,r[t++]=!1,e.uriunescape();var kj=r[--t],jj=r[--t];g(r[--t],jj,kj)}else{t--;break}var Nj=r[--t],Cj=r[--t];r[t++]=Cj+1,r[t++]=Nj}var Xf=r[--t];for(e.plen=Xf,r[t++]=Xf,Xf>1&&(r[t++]=S(e.ais,0,e.plen),e.isvaliddlpkeyseq(),r[--t]||(t--,r[t++]="bwipp.GS1dlBadPathInfo#2645",r[t++]="The AIs in the path are not a valid key-qualifier sequence for the key",Q())),r[t++]=e.qp;;){var Sj=r[t-1];if(Sj.length==0){t--;break}if(Rt(r[--t],"&"),r[--t]){var Ej=r[--t];r[t-1]=Ej}else{var Ij=r[--t];r[t++]="",r[t++]=Ij}if(Rt(r[--t],"="),r[--t]){var Bj=r[t-1];if(r[t++]=!0,xe(Bj,function(){var tt=r[--t],Dt=r[--t];r[t++]=Dt&&tt>=48&&tt<=57}),r[--t]){var Dj=r[--t];t--;var Mj=r[--t],Fv=r[t-2];g(e.ais,Fv,Dj),r[t++]=e.vals,r[t++]=Fv,r[t++]=Mj,r[t++]=!0,e.uriunescape();var Fj=r[--t],Rj=r[--t];g(r[--t],Rj,Fj);var Tj=r[--t],_j=r[--t];r[t++]=_j+1,r[t++]=Tj}else t-=3}else t--}for(var Pj=r[t-1],Rv=S(e.ais,e.plen,C(Pj-e.plen)),Zf=0,Uj=Rv.length;Zf<Uj;Zf++){var Tv=d(Rv,Zf),Oj=d(e.gs1syntax,Tv)!==void 0;if(r[t++]=Tv,Oj){var zj=r[t-1],_v=d(e.gs1syntax,zj),Lj=d(_v,"dlattr")!==void 0;if(r[t++]=_v,r[t++]="dlattr",Lj){var Qj=r[--t],Hj=d(r[--t],Qj);r[t++]=Hj}else t-=2,r[t++]=!0}else r[t++]=e.dontlint;if(!r[--t]){var Pv=r[t-1],Uv=Pv.length,ld=Z(Uv+46);R(ld,0,"AI ("),R(ld,4,Pv),R(ld,Uv+4,") is not a valid GS1 DL URI data attribute"),r[t++]=ld;var Gj=r[--t];r[t-1]=Gj;var qj=r[--t];r[t++]="bwipp.GS1dlInvalidDataAttribute#2679",r[t++]=qj,Q()}t--}for(var Yj=r[t-1],Ov=S(e.ais,e.plen,C(Yj-e.plen)),eh=0,Vj=Ov.length;eh<Vj;eh++){r[t++]=d(Ov,eh);for(var th=e.plen;th>=1;th-=1){var $j=r[t-1];r[t++]=th,r[t++]=$j,r[t++]=1/0,O(S(e.ais,0,e.plen)),Es(ys()+3,-2);var Wj=r[--t],Kj=r[--t];r[t++]=Wj,Es(Kj,1);var Jj=a();if(r[t++]=Jj,e.isvaliddlpkeyseq(),r[--t]){var Xj=r[--t];r[t-1]=Xj;var zv=r[t-1],Lv=zv.length,cd=Z(Lv+50);R(cd,0,"AI ("),R(cd,4,zv),R(cd,Lv+4,") from query params should be in the path info"),r[t++]=cd;var Zj=r[--t];r[t-1]=Zj;var eN=r[--t];r[t++]="bwipp.GS1dlAttributeMustBeQualifier#2696",r[t++]=eN,Q()}}t--}var Qv=r[--t];e.ais=S(e.ais,0,Qv),e.vals=S(e.vals,0,Qv);for(var dd=0,tN=e.ais.length-1;dd<=tN;dd+=1){if(r[t++]=dd,W(d(e.ais,dd),"01")){var rN=r[t-1],Hv=d(e.vals,rN),rh=Hv.length;if(r[t++]=Hv,rh==8||rh==12||rh==13){var Gv=Tr(Z(14),"00000000000000");r[t++]=Gv,r[t++]=Gv;var qv=r[t-3];R(r[t-1],14-qv.length,qv);var sN=r[t-2];t-=3;var nN=r[t-1];g(e.vals,nN,sN)}else t--}t--}}r[t++]=1/0;for(var Yv=a(["00","01","02","03","04","11","12","13","14","15","16","17","18","19","20","31","32","33","34","35","36","41"]),sh=0,aN=Yv.length;sh<aN;sh++){var Vv=d(Yv,sh);r[t++]=Vv,r[t++]=Vv}e.aifixed=Pe(),r[t++]=1/0;for(var $v=e.ais,nh=0,iN=$v.length;nh<iN;nh++){var Wv=d($v,nh);if(r[t++]=!0,r[t++]=Wv,Wv.length>=2){var oN=d(e.aifixed,S(r[--t],0,2))!==void 0;oN&&(r[t-1]=!1)}else t--}e.fncs=a(),r[t++]=1/0,r[t++]=0;for(var ah=0,lN=82;ah<lN;ah++){var Kv=r[--t];r[t++]=d(`!"%&'()*+,-./0123456789:;<=>?ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz`,ah),r[t++]=Kv,r[t++]=Kv+1}t--,e.cset82=Pe(),r[t++]=1/0,r[t++]=0;for(var ih=0,cN=39;ih<cN;ih++){var Jv=r[--t];r[t++]=d("#-/0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",ih),r[t++]=Jv,r[t++]=Jv+1}t--,e.cset39=Pe(),r[t++]=1/0,r[t++]=0;for(var oh=0,dN=32;oh<dN;oh++){var Xv=r[--t];r[t++]=d("23456789ABCDEFGHJKLMNPQRSTUVWXYZ",oh),r[t++]=Xv,r[t++]=Xv+1}t--,e.cset32=Pe(),r[t++]=1/0,r[t++]=0;for(var lh=0,uN=64;lh<uN;lh++){var Zv=r[--t];r[t++]=d("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",lh),r[t++]=Zv,r[t++]=Zv+1}t--,e.cset64=Pe(),e.lintnumeric=function(){var tt=r[--t];if(r[t++]=!0,xe(tt,function(){var Dt=r[--t];if(Dt<48||Dt>57)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1notNumeric#2770",r[t++]="Not numeric",r[t++]=!1,!0},e.lintcset82=function(){var tt=r[--t];if(r[t++]=!0,xe(tt,function(){var Dt=d(e.cset82,r[--t])!==void 0;if(!Dt)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET82character#2775",r[t++]="Invalid CSET 82 character",r[t++]=!1,!0},e.lintcset39=function(){var tt=r[--t];if(r[t++]=!0,xe(tt,function(){var Dt=d(e.cset39,r[--t])!==void 0;if(!Dt)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET39character#2780",r[t++]="Invalid CSET 39 character",r[t++]=!1,!0},e.lintcset64=function(){var tt=r[t-1];if(Rt(tt,"="),r[--t]){var Dt=r[--t];r[t-1]=Dt;var Ar=r[--t];r[t++]=Ar.length%3,r[t++]=Ar;var xr=r[t-2],Er=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Er,r[t++]=xr,r[t++]=!1,xr==1&&W(Er,"=")&&(r[t-1]=!0);var cs=r[t-2],hs=r[t-3];if(cs==2&&hs.length==0&&(r[t-1]=!0),!r[--t])return t-=5,r[t++]="bwipp.GS1badCSET64padding#2789",r[t++]="Invalid CSET 64 padding",r[t++]=!1,!0;t-=2;var En=r[--t],Ws=r[--t];r[t++]=En,r[t++]=Ws}t--;var In=r[--t];if(r[t++]=!0,xe(In,function(){var Hn=d(e.cset64,r[--t])!==void 0;if(!Hn)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET64character#2795",r[t++]="Invalid CSET 64 character",r[t++]=!1,!0},e.lintgcppos1=function(){var tt=r[t-1];if(tt.length<2)return t-=2,r[t++]="bwipp.GS1gcpTooShort#2799",r[t++]="Value is too short to contain a GS1 Company Prefix",r[t++]=!1,!0;var Dt=r[--t],Ar=d(Dt,0),xr=d(Dt,1);if(Ar<48||Ar>57||xr<48||xr>57)return t--,r[t++]="bwipp.GS1badGCP#2802",r[t++]="Non-numeric GS1 Company Prefix",r[t++]=!1,!0},e.lintgcppos2=function(){var tt=r[t-1];if(tt.length<1)return t-=2,r[t++]="bwipp.GS1valueTooShortForOffsetGCP#2807",r[t++]="Value is too short to contain an offset GS1 Company Prefix",r[t++]=!1,!0;var Dt=r[--t];r[t++]=S(Dt,1,Dt.length-1),e.lintgcppos1()},e.lintimporteridx=function(){if(Rt("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r[--t]),!r[--t])return t-=2,r[t++]="bwipp.GS1badImporterIndex#2813",r[t++]="Invalid importer index",r[t++]=!1,!0;t-=3},e.lintcsum=function(){r[t++]=1/0;var tt=r[--t],Dt=r[--t],Ar=Dt.length%2==0?3:1;r[t++]=tt,r[t++]=Ar,xe(Dt,function(){var In=r[--t],Hn=r[--t];r[t++]=(In-48)*Hn,r[t++]=4-Hn}),t--;var xr=ys()+1;r[t++]=0;for(var Er=0,cs=xr-1;Er<cs;Er++){var hs=r[--t],En=r[--t];r[t++]=C(En+hs)}var Ws=r[--t];if(r[t-1]=Ws,r[--t]%10!=0)return t--,r[t++]="bwipp.GS1badChecksum#2822",r[t++]="Bad checksum",r[t++]=!1,!0},e.lintcsumalpha=function(){var tt=r[t-1];if(tt.length<2)return t-=2,r[t++]="bwipp.GS1alphaTooShort#2826",r[t++]="Alphanumeric string is too short to check",r[t++]=!1,!0;var Dt=r[t-1];r[t++]=Dt.length-2;var Ar=1/0,xr=S(Dt,0,Dt.length-2);r[t++]=Ar,xe(xr,function(){var K1=r[t-1],bi=d(e.cset82,K1)!==void 0;if(bi){var Ko=d(e.cset82,r[--t]);r[t++]=Ko}else return r[t++]=-1,!0});var Er=r[t-1];if(Er==-1)return cl(),t-=3,r[t++]="bwipp.GS1UnknownCSET82Character#2832",r[t++]="Unknown CSET 82 character",r[t++]=!1,!0;Wt(a(ys()));var cs=r[--t];r[t-1]=cs;var hs=r[t-2],En=S(r[t-3],hs,2);r[t-3]=r[t-1],t-=2;var Ws=1/0,In=En;r[t++]=Ws,xe(In,function(){var K1=r[t-1],bi=d(e.cset32,K1)!==void 0;if(bi){var Ko=d(e.cset32,r[--t]);r[t++]=Ko}else return r[t++]=-1,!0});var Hn=r[t-1];if(Hn==-1)return cl(),t-=2,r[t++]="bwipp.GS1UnknownCSET32Character#2838",r[t++]="Unknown CSET 32 character",r[t++]=!1,!0;Wt(a(ys()));var Gn=r[--t];r[t-1]=Gn;var Zn=r[--t],E1=r[--t],Fi=a([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83]),W1=E1.length;if(r[t++]=C((d(Zn,0)<<5)+d(Zn,1)),r[t++]=E1,r[t++]=Fi,r[t++]=W1,W1>Fi.length)return t-=5,r[t++]="bwipp.GS1alphaTooLong#2843",r[t++]="Alphanumeric string is too long to check",r[t++]=!1,!0;for(var Ri=r[--t],mi=S(r[--t],0,Ri),xi=0,vi=mi.length;xi<vi;xi++){var gi=r[--t];r[t++]=d(mi,xi),r[t++]=gi}var x0=r[--t];r[t++]=0,xe(x0,function(){var K1=r[t-3],bi=r[t-1],Ko=r[t-2];t-=3,r[t++]=C(Ko+K1*bi)});var Tl=r[--t];if(r[--t]!=Tl%1021)return t--,r[t++]="bwipp.GS1badAlphaCheckCharacters#2846",r[t++]="Bad alphanumeric check characters",r[t++]=!1,!0},r[t++]=1/0;for(var e4=a(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]),ch=0,fN=e4.length;ch<fN;ch++){var t4=d(e4,ch);r[t++]=t4,r[t++]=t4}e.iso3166=Pe(),e.lintiso3166=function(){var tt=d(e.iso3166,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCountry#2873",r[t++]="Unknown country code",r[t++]=!1,!0},e.lintiso3166999=function(){var tt=r[t-1];if(Ee(tt,"999")){var Dt=d(e.iso3166,r[--t])!==void 0;if(!Dt)return t--,r[t++]="bwipp.GS1UnknownCountryOr999#2878",r[t++]="Unknown country code or not 999",r[t++]=!1,!0}else t--},r[t++]=1/0;for(var r4=a(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]),dh=0,hN=r4.length;dh<hN;dh++){var s4=d(r4,dh);r[t++]=s4,r[t++]=s4}e.iso3166alpha2=Pe(),e.lintiso3166alpha2=function(){var tt=d(e.iso3166alpha2,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCountryAlpha#2914",r[t++]="Unknown country alpha code",r[t++]=!1,!0},r[t++]=1/0;for(var n4=a(["008","012","032","036","044","048","050","051","052","060","064","068","072","084","090","096","104","108","116","124","132","136","144","152","156","170","174","188","191","192","203","208","214","222","230","232","238","242","262","270","292","320","324","328","332","340","344","348","352","356","360","364","368","376","388","392","396","398","400","404","408","410","414","417","418","422","426","430","434","446","454","458","462","480","484","496","498","504","512","516","524","532","533","548","554","558","566","578","586","590","598","600","604","608","634","643","646","654","682","690","694","702","704","706","710","728","748","752","756","760","764","776","780","784","788","800","807","818","826","834","840","858","860","882","886","901","925","927","928","929","930","931","932","933","934","936","938","940","941","943","944","946","947","948","949","950","951","952","953","955","956","957","958","959","960","961","962","963","964","965","967","968","969","970","971","972","973","975","976","977","978","979","980","981","984","985","986","990","994","997","999"]),uh=0,pN=n4.length;uh<pN;uh++){var a4=d(n4,uh);r[t++]=a4,r[t++]=a4}e.iso4217=Pe(),e.lintiso4217=function(){var tt=d(e.iso4217,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownCurrency#2945",r[t++]="Unknown currency code",r[t++]=!1,!0},e.lintiso5218=function(){var tt=r[--t];if(Ee(tt,"0")&&Ee(tt,"1")&&Ee(tt,"2")&&Ee(tt,"9"))return t--,r[t++]="bwipp.GS1biologicalSexCode#2950",r[t++]="Invalid biological sex code",r[t++]=!1,!0},e.lintiban=function(){var tt=r[t-1];if(tt.length<=4)return t-=2,r[t++]="bwipp.GS1tooShort#2955",r[t++]="IBAN too short",r[t++]=!1,!0;var Dt=r[t-1];if(r[t++]=!0,xe(Dt,function(){var Gn=Z(1);r[t++]=Gn,r[t++]=Gn,r[t++]=0,Es(4,-1);var Zn=r[--t],E1=r[--t];if(g(r[--t],E1,Zn),Rt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r[--t]),!r[--t])return t-=2,r[t++]=!1,!0;t-=3}),!r[--t])return t--,r[t++]="bwipp.GS1badIBANcharacter#2962",r[t++]="Invalid IBAN character",r[t++]=!1,!0;var Ar=r[t-1],xr=1/0,Er=Ar;r[t++]=xr;var cs=1/0,hs=Er;r[t++]=cs,xe(hs),Es(ys(),-4),Wt(a(ys()));var En=r[--t];r[t-1]=En,xe(r[--t],function(){var Gn=r[--t]-48;if(r[t++]=Gn,Gn>9){var Zn=r[--t]-7;r[t++]=~~(Zn/10),r[t++]=Zn%10}}),Wt(a(ys()));var Ws=r[--t];r[t-1]=Ws;var In=r[--t];if(r[t++]=0,xe(In,function(){var Gn=r[--t],Zn=r[--t];r[t++]=C(Gn+Zn*10)%97}),r[--t]!=1)return t-=2,r[t++]="bwipp.GS1badIBANchecksum#2967",r[t++]="IBAN checksum incorrect",r[t++]=!1,!0;var Hn=S(r[--t],0,2);r[t++]=Hn,e.lintiso3166alpha2()},e.lintzero=function(){if(Ee(r[--t],"0"))return t--,r[t++]="bwipp.GS1zeroRequired#2972",r[t++]="Zero is required",r[t++]=!1,!0},e.lintnonzero=function(){var tt=r[--t];if(r[t++]=!1,xe(tt,function(){r[--t]!=48&&(r[t-1]=!0)}),!r[--t])return t--,r[t++]="bwipp.GS1zeroNotPermitted#2977",r[t++]="Zero not permitted",r[t++]=!1,!0},e.lintnozeroprefix=function(){var tt=r[--t];if(tt.length>1&&d(tt,0)==48)return t--,r[t++]="bwipp.GS1badZeroPrefix#2982",r[t++]="Zero prefix is not permitted",r[t++]=!1,!0},e.linthasnondigit=function(){var tt=r[--t];if(r[t++]=!1,xe(tt,function(){var Dt=r[--t];if(Dt<48||Dt>57)return r[t-1]=!0,!0}),!r[--t])return r[t++]="bwipp.GS1requiresNonDigit#2988",r[t++]="A non-digit character is required",r[t++]=!1,!0},e.linthyphen=function(){if(Ee(r[--t],"-"))return t--,r[t++]="bwipp.GS1hyphenRequired#2992",r[t++]="A hyphen is required",r[t++]=!1,!0},e.lintyyyymmd0=function(){var tt=r[t-1],Dt=Ie(S(tt,4,2));if(Dt<1||Dt>12)return t--,r[t++]="bwipp.GS1badMonth#2996",r[t++]="Invalid month",r[t++]=!1,!0;var Ar=r[t-1],xr=Ie(S(Ar,0,4));r[t++]=xr%400==0||xr%4==0&&xr%100!=0,r[t++]=1/0,r[t++]=31,Es(3,-1);var Er=r[--t]?29:28;r[t++]=Er,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var cs=a(),hs=r[--t];if(d(cs,Ie(S(hs,4,2))-1)<Ie(S(hs,6,2)))return t--,r[t++]="bwipp.GS1badDay#3000",r[t++]="Invalid day of month",r[t++]=!1,!0},e.lintyyyymmdd=function(){var tt=r[t-1];if(tt.length!=8)return t--,r[t++]="bwipp.GS1badDateLength#3004",r[t++]="Invalid length for yyyymmdd date",r[t++]=!1,!0;var Dt=r[t-1];if(Ie(S(Dt,6,2))<1)return t--,r[t++]="bwipp.GS1badDay#3005",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyyyymmd0()},e.lintyymmd0=function(){var tt=r[t-1],Dt=Ie(S(tt,0,2)),Ar=Dt-21;r[t++]=Dt,r[t++]=Ar,Ar>=51?r[t-1]="19":r[--t]<=-50?r[t++]="21":r[t++]="20";var xr=r[--t];r[t-1]=xr;var Er=Z(8);r[t++]=Er,r[t++]=Er,r[t++]=0,Es(4,-1);var cs=r[--t],hs=r[--t];R(r[--t],hs,cs);var En=r[t-1];r[t++]=En,r[t++]=2,Es(4,-1);var Ws=r[--t],In=r[--t];R(r[--t],In,Ws),e.lintyyyymmd0()},e.lintyymmdd=function(){var tt=r[t-1];if(tt.length!=6)return t--,r[t++]="bwipp.GS1badDateLength#3017",r[t++]="Invalid length for yymmdd date",r[t++]=!1,!0;var Dt=r[t-1];if(Ie(S(Dt,4,2))<1)return t--,r[t++]="bwipp.GS1badDay#3018",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyymmd0()},e.linthh=function(){if(Ie(S(r[--t],0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3023",r[t++]="Invalid hour of day",r[t++]=!1,!0},e.lintmi=function(){if(Ie(S(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3027",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintss=function(){if(Ie(S(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badSecond#3031",r[t++]="Invalid second in the minute",r[t++]=!1,!0},e.linthhmi=function(){var tt=r[t-1];if(Ie(S(tt,0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3035",r[t++]="Invalid hour of day",r[t++]=!1,!0;if(Ie(S(r[--t],2,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3036",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintmmoptss=function(){var tt=r[t-1],Dt=tt.length;if(Dt!=2&&Dt!=4)return t--,r[t++]="bwipp.GS1badTimeLength#3041",r[t++]="Invalid length for optional minutes and seconds",r[t++]=!1,!0;var Ar=r[t-1];if(Ie(S(Ar,0,2))>59)return t-=2,r[t++]="bwipp.GS1badMinute#3043",r[t++]="Invalid minute in the hour",r[t++]=!1,!0;var xr=r[t-1];if(xr.length>=4){var Er=r[t-1];if(Ie(S(Er,2,2))>59)return t-=2,r[t++]="bwipp.GS1badSecond#3045",r[t++]="Invalid second in the minute",r[t++]=!1,!0}t--},e.lintyesno=function(){var tt=r[--t];if(Ee(tt,"0")&&Ee(tt,"1"))return t--,r[t++]="bwipp.GS1badBoolean#3052",r[t++]="Neither 0 nor 1 for yes or no",r[t++]=!1,!0},e.lintwinding=function(){var tt=r[--t];if(Ee(tt,"0")&&Ee(tt,"1")&&Ee(tt,"9"))return t--,r[t++]="bwipp.GS1badWinding#3058",r[t++]="Invalid winding direction",r[t++]=!1,!0},e.lintpieceoftotal=function(){var tt=r[t-1];if(tt.length%2!=0)return t-=2,r[t++]="bwipp.GS1badPieceTotalLength#3063",r[t++]="Invalid piece/total length",r[t++]=!1,!0;var Dt=r[t-1],Ar=Ie(S(Dt,0,~~(Dt.length/2)));if(r[t++]=Ar,Ar==0)return t-=3,r[t++]="bwipp.GS1badPieceNumber#3065",r[t++]="Invalid piece number",r[t++]=!1,!0;var xr=r[--t],Er=r[--t],cs=~~(Er.length/2),hs=Ie(S(Er,cs,cs));if(r[t++]=xr,r[t++]=hs,hs==0)return t-=3,r[t++]="bwipp.GS1badPieceTotal#3067",r[t++]="Invalid total number",r[t++]=!1,!0;var En=r[--t];if(Li(r[--t],En))return t--,r[t++]="bwipp.GS1pieceExceedsTotal#3068",r[t++]="Piece number exceeds total",r[t++]=!1,!0},e.lintposinseqslash=function(){if(Rt(r[--t],"/"),!r[--t])return t--,r[t++]="bwipp.invalidPosInSeqFormat#3073",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var tt=r[--t];r[t-1]=tt;var Dt=r[t-1];if(Dt.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3077",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var Ar=r[t-2];if(Ar.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3080",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var xr=r[t-1];if(r[t++]=!0,xe(xr,function(){var Ws=r[--t];if(Ws<48||Ws>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.positionNotNumeric#3085",r[t++]="Position is not numeric",r[t++]=!1,!0;var Er=r[t-2];if(r[t++]=!0,xe(Er,function(){var Ws=r[--t];if(Ws<48||Ws>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.endNotNumeric#3089",r[t++]="End is not numeric",r[t++]=!1,!0;var cs=r[t-1];if(d(cs,0)==48)return t-=2,r[t++]="bwipp.positionZeroPrefix#3090",r[t++]="Position cannot have zero prefix",r[t++]=!1,!0;var hs=r[t-2];if(d(hs,0)==48)return t-=2,r[t++]="bwipp.endZeroPrefix#3091",r[t++]="End cannot have zero prefix",r[t++]=!1,!0;var En=r[--t];if(Ie(r[--t])<Ie(En))return r[t++]="bwipp.positionExceedsEnd#3093",r[t++]="Position exceeds end",r[t++]=!1,!0},e.lintpcenc=function(){for(;;){if(Rt(r[--t],"%"),!r[--t]){t--;break}t-=2;var tt=r[t-1];if(tt.length<2){t-=2,r[t++]="bwipp.GS1badPercentEscape#3099",r[t++]="Invalid % escape",r[t++]=!1;break}var Dt=r[t-1],Ar=S(Dt,0,2);r[t++]=!0;for(var xr=0,Er=Ar.length;xr<Er;xr++){var cs=Z(1);if(g(cs,0,d(Ar,xr)),Rt("0123456789ABCDEFabcdef",cs),!r[--t]){t-=2,r[t++]=!1;break}t-=3}if(!r[--t]){t-=2,r[t++]="bwipp.GS1badPercentChars#3106",r[t++]="Invalid characters for percent encoding",r[t++]=!1;break}}},e.lintcouponcode=function(){var tt=r[t-1];if(r[t++]=!0,xe(tt,function(){var Dg=r[--t];if(Dg<48||Dg>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3114",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Dt=r[t-1];if(Dt.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortGCPVLI#3118",r[t++]="Coupon too short: Missing GCP VLI",r[t++]=!1,!0;var Ar=r[t-1],xr=Ie(S(Ar,0,1));if(r[t++]=xr,xr>6)return t-=2,r[t++]="bwipp.GS1couponBadGCPVLI#3121",r[t++]="Coupon GCP length indicator must be 0-6",r[t++]=!1,!0;var Er=r[--t],cs=r[t-1];if(r[t++]=Er+6+1,Er+6+1>cs.length)return t-=3,r[t++]="bwipp.GS1couponTooShortGCP#3125",r[t++]="Coupon too short: GCP truncated",r[t++]=!1,!0;var hs=r[--t],En=r[--t],Ws=S(En,hs,C(En.length-hs));if(r[t++]=Ws,Ws.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3131",r[t++]="Coupon too short: Offer Code truncated",r[t++]=!1,!0;var In=r[--t],Hn=S(In,6,In.length-6);if(r[t++]=Hn,Hn.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueVLI#3137",r[t++]="Coupon too short: Missing Save Value VLI",r[t++]=!1,!0;var Gn=r[t-1],Zn=Ie(S(Gn,0,1));if(r[t++]=Zn,Zn<1||Zn>5)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueVLI#3140",r[t++]="Coupon Save Value length indicator must be 1-5",r[t++]=!1,!0;var E1=r[--t],Fi=r[t-1];if(r[t++]=E1+1,E1+1>Fi.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSaveValue#3144",r[t++]="Coupon too short: Save Value truncated",r[t++]=!1,!0;var W1=r[--t],Ri=r[--t],mi=S(Ri,W1,C(Ri.length-W1));if(r[t++]=mi,mi.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementVLI#3150",r[t++]="Coupon too short: Missing 1st Purchase Requirement VLI",r[t++]=!1,!0;var xi=r[t-1],vi=Ie(S(xi,0,1));if(r[t++]=vi,vi<1||vi>5)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementVLI#3153",r[t++]="Coupon 1st Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var gi=r[--t],x0=r[t-1];if(r[t++]=gi+1,gi+1>x0.length)return t-=3,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirement#3157",r[t++]="Coupon too short: 1st Purchase Requirement truncated",r[t++]=!1,!0;var Tl=r[--t],K1=r[--t],bi=S(K1,Tl,C(K1.length-Tl));if(r[t++]=bi,bi.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementCode#3163",r[t++]="Coupon too short: Missing 1st Purchase Requirement Code",r[t++]=!1,!0;var Ko=r[t-1],p4=Ie(S(Ko,0,1));if(p4>4&&p4!=9)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementCode#3166",r[t++]="Coupon 1st Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var m4=r[--t],x4=S(m4,1,m4.length-1);if(r[t++]=x4,x4.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseFamilyCode#3172",r[t++]="Coupon too short: 1st Purchase Family Code truncated",r[t++]=!1,!0;var v4=r[--t],g4=S(v4,3,v4.length-3);if(r[t++]=g4,g4.length>=1){var EN=r[t-1];if(Ie(S(EN,0,1))==1){var b4=r[--t],y4=S(b4,1,b4.length-1);if(r[t++]=y4,y4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortAdditionalPurchaseRulesCode#3182",r[t++]="Coupon too short: Missing Additional Purchase Rules Code",r[t++]=!1,!0;var IN=r[t-1];if(Ie(S(IN,0,1))>3)return t-=2,r[t++]="bwipp.GS1couponBadAdditionalPurchaseRulesCode#3185",r[t++]="Coupon Additional Purchase Rules Code must be 0-3",r[t++]=!1,!0;var w4=r[--t],A4=S(w4,1,w4.length-1);if(r[t++]=A4,A4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementVLI#3191",r[t++]="Coupon too short: Missing 2nd Purchase Requirement VLI",r[t++]=!1,!0;var BN=r[t-1],mh=Ie(S(BN,0,1));if(r[t++]=mh,mh<1||mh>5)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementVLI#3194",r[t++]="Coupon 2nd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var k4=r[--t],DN=r[t-1];if(r[t++]=k4+1,k4+1>DN.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirement#3198",r[t++]="Coupon too short: 2nd Purchase Requirement truncated",r[t++]=!1,!0;var j4=r[--t],N4=r[--t],C4=S(N4,j4,C(N4.length-j4));if(r[t++]=C4,C4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementCode#3204",r[t++]="Coupon too short: Missing 2nd Purchase Requirement Code",r[t++]=!1,!0;var MN=r[t-1],S4=Ie(S(MN,0,1));if(S4>4&&S4!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementCode#3207",r[t++]="Coupon 2nd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var E4=r[--t],I4=S(E4,1,E4.length-1);if(r[t++]=I4,I4.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseFamilyCode#3213",r[t++]="Coupon too short: 2nd Purchase Family Code truncated",r[t++]=!1,!0;var B4=r[--t],D4=S(B4,3,B4.length-3);if(r[t++]=D4,D4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCPVLI#3219",r[t++]="Coupon too short: Missing 2nd Purchase GCP VLI",r[t++]=!1,!0;var FN=r[t-1],xh=Ie(S(FN,0,1));if(r[t++]=xh,xh>6&&xh!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseGCPVLI#3222",r[t++]="Coupon 2nd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var RN=r[t-1];if(RN!=9){var TN=r[--t];r[t++]=TN+6}else r[t-1]=0;var M4=r[--t],_N=r[t-1];if(r[t++]=M4+1,M4+1>_N.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCP#3226",r[t++]="Coupon too short: 2nd Purchase GCP truncated",r[t++]=!1,!0;var F4=r[--t],R4=r[--t];r[t++]=S(R4,F4,C(R4.length-F4))}}var PN=r[t-1];if(PN.length>=1){var UN=r[t-1];if(Ie(S(UN,0,1))==2){var T4=r[--t],_4=S(T4,1,T4.length-1);if(r[t++]=_4,_4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementVLI#3238",r[t++]="Coupon too short: Missing 3rd Purchase Requirement VLI",r[t++]=!1,!0;var ON=r[t-1],vh=Ie(S(ON,0,1));if(r[t++]=vh,vh<1||vh>5)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementVLI#3241",r[t++]="Coupon 3rd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var P4=r[--t],zN=r[t-1];if(r[t++]=P4+1,P4+1>zN.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirement#3245",r[t++]="Coupon too short: 3rd Purchase Requirement truncated",r[t++]=!1,!0;var U4=r[--t],O4=r[--t],z4=S(O4,U4,C(O4.length-U4));if(r[t++]=z4,z4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementCode#3251",r[t++]="Coupon too short: Missing 3rd Purchase Requirement Code",r[t++]=!1,!0;var LN=r[t-1],L4=Ie(S(LN,0,1));if(L4>4&&L4!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementCode#3254",r[t++]="Coupon 3rd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Q4=r[--t],H4=S(Q4,1,Q4.length-1);if(r[t++]=H4,H4.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseFamilyCode#3260",r[t++]="Coupon too short: 3rd Purchase Family Code truncated",r[t++]=!1,!0;var G4=r[--t],q4=S(G4,3,G4.length-3);if(r[t++]=q4,q4.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCPVLI#3266",r[t++]="Coupon too short: Missing 3rd Purchase GCP VLI",r[t++]=!1,!0;var QN=r[t-1],gh=Ie(S(QN,0,1));if(r[t++]=gh,gh>6&&gh!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseGCPVLI#3269",r[t++]="Coupon 3rd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var HN=r[t-1];if(HN!=9){var GN=r[--t];r[t++]=GN+6}else r[t-1]=0;var Y4=r[--t],qN=r[t-1];if(r[t++]=Y4+1,Y4+1>qN.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCP#3273",r[t++]="Coupon too short: 3rd Purchase GCP truncated",r[t++]=!1,!0;var V4=r[--t],$4=r[--t];r[t++]=S($4,V4,C($4.length-V4))}}e.couponexpire=-1;var YN=r[t-1];if(YN.length>=1){var VN=r[t-1];if(Ie(S(VN,0,1))==3){var W4=r[--t],K4=S(W4,1,W4.length-1);if(r[t++]=K4,K4.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortExpirationDate#3286",r[t++]="Coupon too short: Expiration date",r[t++]=!1,!0;var $N=r[t-1],J4=Ie(S($N,2,2));if(J4<1||J4>12)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadMonth#3288",r[t++]="Invalid month in expiration date",r[t++]=!1,!0;var WN=r[t-1],X4=Ie(S(WN,0,2)),Z4=X4-21;if(r[t++]=X4,r[t++]=Z4,Z4>=51){t--;var KN=r[--t];r[t++]=KN+1900}else if(r[--t]<=-50){var JN=r[--t];r[t++]=JN+2100}else{var XN=r[--t];r[t++]=XN+2e3}var bh=r[--t];r[t++]=bh%400==0||bh%4==0&&bh%100!=0,r[t++]=1/0,r[t++]=31,Es(3,-1);var ZN=r[--t]?29:28;r[t++]=ZN,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var eC=a(),eg=r[t-1],tg=Ie(S(eg,4,2));if(d(eC,Ie(S(eg,2,2))-1)<tg||tg<1)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadDay#3295",r[t++]="Invalid day of month in expiration date",r[t++]=!1,!0;var yh=r[--t];e.couponexpire=Ie(S(yh,0,6)),r[t++]=S(yh,6,yh.length-6)}}var tC=r[t-1];if(tC.length>=1){var rC=r[t-1];if(Ie(S(rC,0,1))==4){var rg=r[--t],sg=S(rg,1,rg.length-1);if(r[t++]=sg,sg.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortStartDate#3307",r[t++]="Coupon too short: Start date",r[t++]=!1,!0;var sC=r[t-1],ng=Ie(S(sC,2,2));if(ng<1||ng>12)return t-=2,r[t++]="bwipp.GS1couponStartDateBadMonth#3309",r[t++]="Invalid month in start date",r[t++]=!1,!0;var nC=r[t-1],ag=Ie(S(nC,0,2)),ig=ag-21;if(r[t++]=ag,r[t++]=ig,ig>=51){t--;var aC=r[--t];r[t++]=aC+1900}else if(r[--t]<=-50){var iC=r[--t];r[t++]=iC+2100}else{var oC=r[--t];r[t++]=oC+2e3}var wh=r[--t];r[t++]=wh%400==0||wh%4==0&&wh%100!=0,r[t++]=1/0,r[t++]=31,Es(3,-1);var lC=r[--t]?29:28;r[t++]=lC,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var cC=a(),og=r[t-1],lg=Ie(S(og,4,2));if(d(cC,Ie(S(og,2,2))-1)<lg||lg<1)return t-=2,r[t++]="bwipp.GS1couponStartDateBadDay#3316",r[t++]="Invalid day of month in start date",r[t++]=!1,!0;var cg=r[--t];if(e.couponstart=Ie(S(cg,0,6)),r[t++]=cg,e.couponexpire!=-1&&e.couponexpire<e.couponstart)return t-=2,r[t++]="bwipp.GS1couponExpireDateBeforeStartDate#3319",r[t++]="Coupon expires before it starts",r[t++]=!1,!0;var dg=r[--t];r[t++]=S(dg,6,dg.length-6)}}var dC=r[t-1];if(dC.length>=1){var uC=r[t-1];if(Ie(S(uC,0,1))==5){var ug=r[--t],fg=S(ug,1,ug.length-1);if(r[t++]=fg,fg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSerialNumberVLI#3331",r[t++]="Coupon too short: Missing Serial Number VLI",r[t++]=!1,!0;var hg=r[t-1],pg=S(hg,0,1);if(r[t++]=Ie(pg)+6+1,Ie(pg)+6+1>hg.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSerialNumber#3335",r[t++]="Coupon too short: Serial Number truncated",r[t++]=!1,!0;var mg=r[--t],xg=r[--t];r[t++]=S(xg,mg,C(xg.length-mg))}}var fC=r[t-1];if(fC.length>=1){var hC=r[t-1];if(Ie(S(hC,0,1))==6){var vg=r[--t],gg=S(vg,1,vg.length-1);if(r[t++]=gg,gg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLNVLI#3347",r[t++]="Coupon too short: Missing Retailer GCP/GLN VLI",r[t++]=!1,!0;var pC=r[t-1],Ah=Ie(S(pC,0,1));if(r[t++]=Ah,Ah<1||Ah>7)return t-=2,r[t++]="bwipp.GS1couponBadRetailerGCPGLNVLI#3350",r[t++]="Coupon Retailer GCP/GLN length indicator must be 1-7",r[t++]=!1,!0;var bg=r[--t],mC=r[t-1];if(r[t++]=bg+6+1,bg+6+1>mC.length)return t-=3,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLN#3354",r[t++]="Coupon too short: Retailer GCP/GLN truncated",r[t++]=!1,!0;var yg=r[--t],wg=r[--t];r[t++]=S(wg,yg,C(wg.length-yg))}}var xC=r[t-1];if(xC.length>=1){var vC=r[t-1];if(Ie(S(vC,0,1))==9){var Ag=r[--t],kg=S(Ag,1,Ag.length-1);if(r[t++]=kg,kg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueCode#3366",r[t++]="Coupon too short: Missing Save Value Code",r[t++]=!1,!0;var gC=r[t-1],kh=Ie(S(gC,0,1));if(kh>6||kh==3||kh==4)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueCode#3369",r[t++]="Coupon Save Value Code must be 0,1,2,5 or 6",r[t++]=!1,!0;var jg=r[--t],Ng=S(jg,1,jg.length-1);if(r[t++]=Ng,Ng.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueAppliesToItem#3375",r[t++]="Coupon too short: Missing Save Value Applies to Item",r[t++]=!1,!0;var bC=r[t-1];if(Ie(S(bC,0,1))>2)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueAppliesToItem#3378",r[t++]="Coupon Save Value Applies to Item must be 0-2",r[t++]=!1,!0;var Cg=r[--t],Sg=S(Cg,1,Cg.length-1);if(r[t++]=Sg,Sg.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortStoreCouponFlag#3384",r[t++]="Coupon too short: Missing Store Coupon Flag",r[t++]=!1,!0;var Eg=r[--t],Ig=S(Eg,1,Eg.length-1);if(r[t++]=Ig,Ig.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortDontMultiplyFlag#3390",r[t++]="Coupon too short: Missing Don't Multiply Flag",r[t++]=!1,!0;var yC=r[t-1];if(Ie(S(yC,0,1))>1)return t-=2,r[t++]="bwipp.GS1couponBadDontMultiplyFlag#3393",r[t++]="Don't Multiply Flag must be 0 or 1",r[t++]=!1,!0;var Bg=r[--t];r[t++]=S(Bg,1,Bg.length-1)}}var wC=r[t-1];if(wC.length!=0)return t-=2,r[t++]="bwipp.GS1couponUnrecognisedOptionalField#3400",r[t++]="Coupon fields must be 1,2,3,4,5,6 or 9, increasing order",r[t++]=!1,!0;t--},e.lintcouponposoffer=function(){var tt=r[t-1];if(r[t++]=!0,xe(tt,function(){var gi=r[--t];if(gi<48||gi>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3409",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Dt=r[t-1];if(Dt.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFormatCode#3412",r[t++]="Coupon too short: Missing Format Code",r[t++]=!1,!0;var Ar=r[t-1],xr=S(Ar,0,1);if(Ee(xr,"0")&&Ee(xr,"1"))return t-=2,r[t++]="bwipp.GS1couponBadFormatCode#3415",r[t++]="Coupon format must be 0 or 1",r[t++]=!1,!0;var Er=r[--t],cs=S(Er,1,Er.length-1);if(r[t++]=cs,cs.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFunderVLI#3420",r[t++]="Coupon too short: Missing Funder VLI",r[t++]=!1,!0;var hs=r[t-1],En=Ie(S(hs,0,1));if(r[t++]=En,En>6)return t-=3,r[t++]="bwipp.GS1couponBadFunderVLI#3423",r[t++]="Coupon Funder length indicator must be 0-6",r[t++]=!1,!0;var Ws=r[--t],In=r[t-1];if(r[t++]=Ws+6+1,Ws+6+1>In.length)return t-=3,r[t++]="bwipp.GS1couponTooShortFunder#3427",r[t++]="Coupon too short: Truncated Funder ID",r[t++]=!1,!0;var Hn=r[--t],Gn=r[--t],Zn=S(Gn,Hn,C(Gn.length-Hn));if(r[t++]=Zn,Zn.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3432",r[t++]="Coupon too short: Truncated Offer Code",r[t++]=!1,!0;var E1=r[--t],Fi=S(E1,6,E1.length-6);if(r[t++]=Fi,Fi.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSnVLI#3437",r[t++]="Coupon too short: Missing SN VLI",r[t++]=!1,!0;var W1=r[t-1],Ri=S(W1,0,1);if(r[t++]=Ie(Ri)+6+1,Ie(Ri)+6+1>W1.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSn#3442",r[t++]="Coupon too short: Truncated SN",r[t++]=!1,!0;var mi=r[--t],xi=r[--t],vi=S(xi,mi,C(xi.length-mi));if(r[t++]=vi,vi.length!=0)return t-=2,r[t++]="bwipp.GS1couponTooLong#3446",r[t++]="Coupon too long",r[t++]=!1,!0;t--},e.lintlatitude=function(){var tt=r[t-1];if(tt.length!=10)return t--,r[t++]="bwipp.GS1badLatitudeLength#3453",r[t++]="Invalid length for a latitude",r[t++]=!1,!0;if(Ie(r[--t])>Ie("1800000000"))return t--,r[t++]="bwipp.GS1badLatitude#3457",r[t++]="Invalid value for latitude",r[t++]=!1,!0},e.lintlongitude=function(){var tt=r[t-1];if(tt.length!=10)return t--,r[t++]="bwipp.GS1badLongitudeLength#3462",r[t++]="Invalid length for a longitude",r[t++]=!1,!0;if(Ie(r[--t])>Ie("3600000000"))return t--,r[t++]="bwipp.GS1badLongitude#3467",r[t++]="Invalid value for longitude",r[t++]=!1,!0},r[t++]=1/0;for(var i4=a(["01","02","03","04","05","06","07","08","09","10","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99"]),fh=0,mN=i4.length;fh<mN;fh++){var o4=d(i4,fh);r[t++]=o4,r[t++]=o4}e.aidcmediatype=Pe(),e.lintmediatype=function(){var tt=d(e.aidcmediatype,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1UnknownMediaType#3479",r[t++]="Unknown AIDC media type",r[t++]=!1,!0},r[t++]=1/0;for(var l4=a(["1A","1B","1D","1F","1G","1W","200","201","202","203","204","205","206","210","211","212","2C","3A","3H","43","44","4A","4B","4C","4D","4F","4G","4H","5H","5L","5M","6H","6P","7A","7B","8","8A","8B","8C","9","AA","AB","AC","AD","AF","AG","AH","AI","AJ","AL","AM","AP","APE/AT","AV","B4","BB","BC","BD","BE","BF","BG","BGE","BH","BI","BJ","BK","BL","BM","BME","BN","BO","BP","BQ","BR","BRI","BS","BT","BU","BV","BW","BX","BY","BZ","CA","CB","CBL","CC","CCE","CD","CE","CF","CG","CH","CI","CJ","CK","CL","CM","CN","CO","CP","CQ","CR","CS","CT","CU","CV","CW","CX","CY","CZ","DA","DB","DC","DG","DH","DI","DJ","DK","DL","DM","DN","DP","DPE","DR","DS","DT","DU","DV","DW","DX","DY","E1","E2","E3","EC","ED","EE","EF","EG","EH","EI","EN","FB","FC","FD","FE","FI","FL","FO","FOB","FP","FPE","FR","FT","FW","FX","GB","GI","GL","GR","GU","GY","GZ","HA","HB","HC","HG","HN","HR","IA","IB","IC","ID","IE","IF","IG","IH","IK","IL","IN","IZ","JB","JC","JG","JR","JT","JY","KG","KI","LAB","LE","LG","LT","LU","LV","LZ","MA","MB","MC","ME","MPE","MR","MS","MT","MW","MX","NA","NE","NF","NG","NS","NT","NU","NV","OA","OB","OC","OD","OE","OF","OK","OPE","OT","OU","P2","PA","PAE","PB","PC","PD","PE","PF","PG","PH","PI","PJ","PK","PL","PLP","PN","PO","POP","PP","PPE","PR","PT","PU","PUE","PV","PX","PY","PZ","QA","QB","QC","QD","QF","QG","QH","QJ","QK","QL","QM","QN","QP","QQ","QR","QS","RB1","RB2","RB3","RCB","RD","RG","RJ","RK","RL","RO","RT","RZ","S1","SA","SB","SC","SD","SE","SEC","SH","SI","SK","SL","SM","SO","SP","SS","ST","STL","SU","SV","SW","SX","SY","SZ","T1","TB","TC","TD","TE","TEV","TG","THE","TI","TK","TL","TN","TO","TR","TRE","TS","TT","TTE","TU","TV","TW","TWE","TY","TZ","UC","UN","UUE","VA","VG","VI","VK","VL","VN","VO","VP","VQ","VR","VS","VY","WA","WB","WC","WD","WF","WG","WH","WJ","WK","WL","WM","WN","WP","WQ","WR","WRP","WS","WT","WU","WV","WW","WX","WY","WZ","X11","X12","X15","X16","X17","X18","X19","X20","X3","XA","XB","XC","XD","XF","XG","XH","XJ","XK","YA","YB","YC","YD","YF","YG","YH","YJ","YK","YL","YM","YN","YP","YQ","YR","YS","YT","YV","YW","YX","YY","YZ","ZA","ZB","ZC","ZD","ZF","ZG","ZH","ZJ","ZK","ZL","ZM","ZN","ZP","ZQ","ZR","ZS","ZT","ZU","ZV","ZW","ZX","ZY","ZZ"]),hh=0,xN=l4.length;hh<xN;hh++){var c4=d(l4,hh);r[t++]=c4,r[t++]=c4}if(e.packagetype=Pe(),e.lintpackagetype=function(){var tt=d(e.packagetype,r[--t])!==void 0;if(!tt)return t--,r[t++]="bwipp.GS1unknownPackageType#3523",r[t++]="Unknown package type",r[t++]=!1,!0},!e.dontlint){r[t++]=!0;for(var ud=0,vN=e.vals.length-1;ud<=vN;ud+=1){e.ai=d(e.ais,ud),e.val=d(e.vals,ud);var gN=d(e.gs1syntax,e.ai)!==void 0;if(gN){var d4=d(d(e.gs1syntax,e.ai),"parts");if(r[t++]=d4,r[t++]=0,xe(d4,function(){var tt=r[t-1];if(d(tt,"opt"))r[t-1]=0;else{var Dt=d(r[--t],"min");r[t++]=Dt}var Ar=r[--t],xr=r[--t];r[t++]=C(xr+Ar)}),r[--t]>e.val.length){t--,r[t++]="bwipp.GS1valueTooShort#3537",r[t++]="Too short",r[t++]=!1;break}var bN=r[t-1];if(r[t++]=0,xe(bN,function(){var tt=d(r[--t],"max"),Dt=r[--t];r[t++]=C(Dt+tt)}),r[--t]<e.val.length){t--,r[t++]="bwipp.GS1valueTooLong#3540",r[t++]="Too long",r[t++]=!1;break}xe(r[--t],function(){e.props=r[--t];var tt=d(e.props,"max"),Dt=e.val,Ar=Dt.length;if(tt>Dt.length){var xr=Ar;Ar=tt,tt=xr}e.eval=S(e.val,0,tt);var Er=e.eval.length;if(e.val=S(e.val,Er,e.val.length-Er),e.eval.length==0){if(!d(e.props,"opt"))return t--,r[t++]="bwipp.GS1valueTooShort#3549",r[t++]="Too short",r[t++]=!1,!0}else{if(e.eval.length<d(e.props,"min"))return t--,r[t++]="bwipp.GS1valueTooShort#3553",r[t++]="Too short",r[t++]=!1,!0;var cs=new Map([["N","lintnumeric"],["X","lintcset82"],["Y","lintcset39"],["Z","lintcset64"]]);if(r[t++]=e.eval,e[d(cs,d(e.props,"cset"))]()===!0)return!0;xe(d(e.props,"linters"),function(){var hs=e[r[--t]];if(r[t++]=e.eval,hs()===!0)return!0})}});var yN=r[t-1];if(!yN)break;if(e.val.length!=0){t--,r[t++]="bwipp.GS1valueTooLong#3562",r[t++]="Too long",r[t++]=!1;break}}else{t--,r[t++]="bwipp.GS1unknownAI#3565",r[t++]="Unrecognised AI",r[t++]=!1;break}}if(!r[--t]){var u4=r[--t],m0=Z(u4.length+e.ai.length+5);R(m0,0,"AI "),R(m0,3,e.ai),R(m0,3+e.ai.length,": "),R(m0,5+e.ai.length,u4),r[t++]=m0,Q()}e.aiexists=function(){e.this=r[--t],e.patt=r[--t];for(var tt=0;tt<1;tt++){var Dt=d(e.aivals,e.patt)!==void 0;if(Dt){r[t++]=!0;break}if(e.patt.length==4){if(W(S(e.patt,3,1),"n")){var Ar=W(S(e.patt,2,1),"n")?2:3;e.pfxlen=Ar;var xr=e.ais;r[t++]=!1;for(var Er=0,cs=xr.length;Er<cs;Er++){var hs=d(xr,Er);r[t++]=hs,Ee(hs,e.this)&&hs.length==4?W(S(r[--t],0,e.pfxlen),S(e.patt,0,e.pfxlen))&&(r[t-1]=!0):t--}break}r[t++]=!1;break}r[t++]=!1;break}},e.vals,e.aivals=new Map;for(var fd=0,wN=e.vals.length-1;fd<=wN;fd+=1){e.ai=d(e.ais,fd),e.val=d(e.vals,fd);var AN=d(e.aivals,e.ai)!==void 0;if(AN){if(Ee(d(e.aivals,e.ai),e.val)){var hd=Z(e.ai.length+40);R(hd,0,"Repeated AIs ("),R(hd,14,e.ai),R(hd,14+e.ai.length,") must have the same value"),r[t++]="bwipp.GS1repeatedDifferingAIs#3615",r[t++]=hd,Q()}}else g(e.aivals,e.ai,e.val)}for(var ph=0,kN=e.vals.length-1;ph<=kN;ph+=1){e.ai=d(e.ais,ph);var f4=d(e.gs1syntax,e.ai),jN=d(f4,"ex")!==void 0;if(r[t++]=f4,r[t++]="ex",jN){var NN=r[--t];xe(d(r[--t],NN),function(){if(e.patt=r[--t],r[t++]=e.patt,r[t++]=e.ai,e.aiexists(),r[--t]){var tt=Z(e.ai.length+e.patt.length+36);R(tt,0,"AIs ("),R(tt,5,e.ai),R(tt,5+e.ai.length,") and ("),R(tt,12+e.ai.length,e.patt),R(tt,12+e.ai.length+e.patt.length,") are mutually exclusive"),r[t++]="bwipp.GS1exclusiveAIs#3635",r[t++]=tt,Q()}})}else t-=2;if(e.lintreqs){var h4=d(e.gs1syntax,e.ai),CN=d(h4,"req")!==void 0;if(r[t++]=h4,r[t++]="req",CN){var SN=r[--t];xe(d(r[--t],SN),function(){var tt=r[--t];if(r[t++]=!1,xe(tt,function(){var Hn=r[--t];if(r[t++]=!0,xe(Hn,function(){r[t++]=e.ai,e.aiexists(),r[--t]||(r[t-1]=!1)}),r[--t])return r[t-1]=!0,!0}),!r[--t]){r[t++]=1/0,xe(d(d(e.gs1syntax,e.ai),"req"),function(){xe(r[--t],function(){xe(r[--t],function(){r[t++]="+"}),r[t-1]=" OR "}),r[t-1]=" WITH "}),t--;var Dt=a();r[t++]=Dt,r[t++]=0;for(var Ar=0,xr=Dt.length;Ar<xr;Ar++){var Er=r[--t];r[t++]=C(Er+d(Dt,Ar).length)}var cs=e.ai.length+49;r[t++]=cs,r[t++]=cs;var hs=r[t-3],En=Z(C(r[t-1]+hs)),Ws=r[t-2];t-=3,r[t++]=En,r[t++]=Ws,Es(3,-1),xe(r[--t],function(){var Hn=r[--t],Gn=r[--t],Zn=r[t-1];R(Zn,Gn,Hn),r[t++]=C(Hn.length+Gn)}),t--;var In=r[--t];R(In,0,"One of more requisite AIs for AI ("),R(In,34,e.ai),R(In,34+e.ai.length,") are missing: "),r[t++]="bwipp.GS1missingAIs#3662",r[t++]=In,Q()}})}else t-=2}}}r[t++]=e.ais,r[t++]=e.vals,r[t++]=e.fncs,e=s}function W2(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=5&&(r[t++]="bwipp.ean5badLength#4997",r[t++]="EAN-5 add-on must be 5 digits",Q()),xe(e.barcode,function(){var y=r[--t];(y<48||y>57)&&(r[t++]="bwipp.ean5badCharacter#5001",r[t++]="EAN-5 add-on must contain only digits",Q())}),e.encs=a(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=a(["11000","10100","10010","10001","01100","00110","00011","01010","01001","00101"]),e.checksum=0;for(var n=0;n<=4;n+=1)e.i=n,e.barchar=d(e.barcode,e.i)-48,e.i%2==0?e.checksum=C(e.barchar*3+e.checksum):e.checksum=C(e.barchar*9+e.checksum);e.checksum=e.checksum%10,e.mirrormap=d(e.mirrormaps,e.checksum),e.sbs=Z(31),e.txt=a(5);for(var i=0;i<=4;i+=1){if(e.i=i,e.i==0?R(e.sbs,0,d(e.encs,10)):R(e.sbs,(e.i-1)*6+7,d(e.encs,11)),Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),d(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=Z(e.enclen);for(var o=0,l=e.enclen-1;o<=l;o+=1)e.j=o,e.char=d(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,e.i*6+3,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var u=e.sbs,f=0,h=u.length;f<h;f++)r[t++]=d(u,f)-48;var p=a();r[t++]=1/0;for(var m=0;m<16;m++)r[t++]=e.height;var x=a();r[t++]=1/0;for(var b=0;b<16;b++)r[t++]=0;var v=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=p,r[t++]="bhs",r[t++]=x,r[t++]="bbs",r[t++]=v,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var w=Pe();r[t++]=w,e.dontdraw||Tt(),e=s}function K2(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=2&&(r[t++]="bwipp.ean2badLength#5142",r[t++]="EAN-2 add-on must be 2 digits",Q()),xe(e.barcode,function(){var w=r[--t];(w<48||w>57)&&(r[t++]="bwipp.ean2badCharacter#5146",r[t++]="EAN-2 add-on must contain only digits",Q())}),e.encs=a(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=a(["00","01","10","11"]),e.mirrormap=d(e.mirrormaps,Ie(S(e.barcode,0,2))%4),e.sbs=Z(13),e.txt=a(2);for(var n=0;n<=1;n+=1){if(e.i=n,e.i==0?R(e.sbs,0,d(e.encs,10)):R(e.sbs,(e.i-1)*6+7,d(e.encs,11)),Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),d(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=Z(e.enclen);for(var i=0,o=e.enclen-1;i<=o;i+=1)e.j=i,e.char=d(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,e.i*6+3,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var l=e.sbs,u=0,f=l.length;u<f;u++)r[t++]=d(l,u)-48;var h=a();r[t++]=1/0;for(var p=0;p<12;p++)r[t++]=e.height;var m=a();r[t++]=1/0;for(var x=0;x<12;x++)r[t++]=0;var b=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=h,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=b,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var v=Pe();r[t++]=v,e.dontdraw||Tt(),e=s}function J2(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-11,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=12&&e.barcode.length!=13&&(r[t++]="bwipp.ean13badLength#5286",r[t++]="EAN-13 must be 12 or 13 digits",Q()),xe(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.ean13badCharacter#5290",r[t++]="EAN-13 must contain only digits",Q())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean13badAddOnLength#5294",r[t++]="Add-on for EAN-13 must be 2 or 5 digits",Q()),e.pad=Z(13),e.checksum=0;for(var n=0;n<=11;n+=1)e.i=n,e.barchar=d(e.barcode,e.i)-48,e.i%2==0?e.checksum=C(e.barchar+e.checksum):e.checksum=C(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==13&&d(e.barcode,12)!=e.checksum+48&&(r[t++]="bwipp.ean13badCheckDigit#5312",r[t++]="Incorrect EAN-13 check digit provided",Q()),R(e.pad,0,e.barcode),g(e.pad,12,e.checksum+48),e.barcode=e.pad,e.encs=a(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.mirrormaps=a(["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"]),e.sbs=Z(59),e.txt=a(13),R(e.sbs,0,d(e.encs,10)),e.mirrormap=d(e.mirrormaps,d(e.barcode,0)-48),g(e.txt,0,a([S(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize]));for(var i=1;i<=6;i+=1){if(e.i=i,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),d(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=Z(e.enclen);for(var o=0,l=e.enclen-1;o<=l;o+=1)e.j=o,e.char=d(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,(e.i-1)*4+3,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i-1)*7+15+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}R(e.sbs,6*4+3,d(e.encs,11));for(var u=7;u<=12;u+=1)e.i=u,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,(e.i-1)*4+8,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i-1)*7+19+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,56,d(e.encs,12)),r[t++]=1/0;for(var f=e.sbs,h=0,p=f.length;h<p;h++)r[t++]=d(f,h)-48;if(e.sbs=a(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var m=0;m<12;m++)r[t++]=C(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var x=0;x<12;x++)r[t++]=C(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=a(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var b=0;b<12;b++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var v=0;v<12;v++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=a()}else{r[t++]=1/0;for(var w=0;w<30;w++)r[t++]=e.height;e.bhs=a(),r[t++]=1/0;for(var y=0;y<30;y++)r[t++]=0;e.bbs=a(),e.txt=a([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var A=r[--t];r[t++]=C(A-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var k=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=k,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,K2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,W2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(d(e.addcode,"sbs")),e.sbs=a(),r[t++]=1/0,O(e.bhs),O(d(e.addcode,"bhs")),e.bhs=a(),r[t++]=1/0,O(e.bbs),O(d(e.addcode,"bbs")),e.bbs=a(),r[t++]=1/0,O(e.txt),O(d(e.addcode,"txt")),e.txt=a(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=11,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var E=Pe();r[t++]=E,e.dontdraw||Tt(),e=s}function bv(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=4,e.textyoffset=-4,e.height=1,e.permitaddon=!1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.ean8badLength#5507",r[t++]="EAN-8 must be 7 or 8 digits",Q()),xe(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.ean8badCharacter#5511",r[t++]="EAN-8 must contain only digits",Q())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean8badAddOnLength#5515",r[t++]="Add-on for EAN-8 must be 2 or 5 digits",Q()),!e.permitaddon&&e.addon.length!=0&&(r[t++]="bwipp.ean8badAddOnLength#5518",r[t++]='Non-standard use of add-on for EAN-8 requires "permitaddon" option',Q()),e.pad=Z(8),e.checksum=0;for(var n=0;n<=6;n+=1)e.i=n,e.barchar=d(e.barcode,e.i)-48,e.i%2!=0?e.checksum=C(e.barchar+e.checksum):e.checksum=C(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&d(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.ean8badCheckDigit#5536",r[t++]="Incorrect EAN-8 check digit provided",Q()),R(e.pad,0,e.barcode),g(e.pad,7,e.checksum+48),e.barcode=e.pad,e.encs=a(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=Z(43),e.txt=a(8),R(e.sbs,0,d(e.encs,10));for(var i=0;i<=3;i+=1)e.i=i,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*4+3,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*7+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,4*4+3,d(e.encs,11));for(var o=4;o<=7;o+=1)e.i=o,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*4+8,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*7+e.textxoffset+4,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,40,d(e.encs,12)),r[t++]=1/0;for(var l=e.sbs,u=0,f=l.length;u<f;u++)r[t++]=d(l,u)-48;if(e.sbs=a(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var h=0;h<8;h++)r[t++]=C(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var p=0;p<8;p++)r[t++]=C(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=a(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var m=0;m<8;m++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var x=0;x<8;x++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=a()}else{r[t++]=1/0;for(var b=0;b<22;b++)r[t++]=e.height;e.bhs=a(),r[t++]=1/0;for(var v=0;v<22;v++)r[t++]=0;e.bbs=a(),e.txt=a([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var w=r[--t];r[t++]=C(w-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=67+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var y=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=y,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,K2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,W2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(d(e.addcode,"sbs")),e.sbs=a(),r[t++]=1/0,O(e.bhs),O(d(e.addcode,"bhs")),e.bhs=a(),r[t++]=1/0,O(e.bbs),O(d(e.addcode,"bbs")),e.bbs=a(),r[t++]=1/0,O(e.txt),O(d(e.addcode,"txt")),e.txt=a(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardleftpos",r[t++]=7,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=7,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var A=Pe();r[t++]=A,e.dontdraw||Tt(),e=s}function T9(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==7||e.barcode.length==8){xe(e.barcode,function(){var H=r[--t];(H<48||H>57)&&(r[t++]="bwipp.upcAupcEbadCharacter#5714",r[t++]="UPC-E must contain only digits",Q())});var n=d(e.barcode,0);n!=48&&n!=49&&(r[t++]="bwipp.upcAupcEbadNumberSystem#5718",r[t++]="UPC-E must have number system 0 or 1",Q());for(var i=0;i<1;i++){var o=e.barcode.length==8?12:11;if(e.upcacode=Z(o),d(e.barcode,6)-48<=2){R(e.upcacode,0,S(e.barcode,0,3)),R(e.upcacode,3,S(e.barcode,6,1)),R(e.upcacode,4,"0000"),R(e.upcacode,8,S(e.barcode,3,3));break}if(d(e.barcode,6)-48==3){R(e.upcacode,0,S(e.barcode,0,4)),R(e.upcacode,4,"00000"),R(e.upcacode,9,S(e.barcode,4,2));break}if(d(e.barcode,6)-48==4){R(e.upcacode,0,S(e.barcode,0,5)),R(e.upcacode,5,"00000"),R(e.upcacode,10,S(e.barcode,5,1));break}if(d(e.barcode,6)-48>=5){R(e.upcacode,0,S(e.barcode,0,6)),R(e.upcacode,6,"0000"),R(e.upcacode,10,S(e.barcode,6,1));break}}e.barcode.length==8&&R(e.upcacode,11,S(e.barcode,7,1)),e.barcode=e.upcacode}e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.upcAbadLength#5756",r[t++]="UPC-A must be 11 or 12 digits",Q());for(var l=e.barcode,u=0,f=l.length;u<f;u++){var h=d(l,u);(h<48||h>57)&&(r[t++]="bwipp.upcAbadCharacter#5760",r[t++]="UPC-A must contain only digits",Q())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcAbadAddOnLength#5764",r[t++]="Add-on for UPC-A must be 2 or 5 digits",Q()),e.pad=Z(12),e.checksum=0;for(var p=0;p<=10;p+=1)e.i=p,e.barchar=d(e.barcode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&d(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.upcAbadCheckDigit#5782",r[t++]="Incorrect UPC check digit provided",Q()),R(e.pad,0,e.barcode),g(e.pad,11,e.checksum+48),e.barcode=e.pad,e.encs=a(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=Z(59),e.txt=a(12),R(e.sbs,0,d(e.encs,10));for(var m=0;m<=5;m+=1)e.i=m,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*4+3,e.enc),e.i==0?g(e.txt,0,a([S(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])):g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,6*4+3,d(e.encs,11));for(var x=6;x<=11;x+=1)e.i=x,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*4+8,e.enc),e.i==11?g(e.txt,11,a([S(e.barcode,11,1),e.textxoffset+107,e.textyoffset,e.textfont,e.textsize-2])):g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*7+e.textxoffset+17,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,56,d(e.encs,12)),r[t++]=1/0;for(var b=e.sbs,v=0,w=b.length;v<w;v++)r[t++]=d(b,v)-48;if(e.sbs=a(),e.includetext){r[t++]=1/0;for(var y=0;y<4;y++)r[t++]=e.height;for(var A=0;A<10;A++)r[t++]=C(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var k=0;k<10;k++)r[t++]=C(e.height-.075);for(var E=0;E<4;E++)r[t++]=e.height;e.bhs=a(),r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var j=0;j<10;j++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var N=0;N<10;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=a()}else{r[t++]=1/0;for(var I=0;I<30;I++)r[t++]=e.height;e.bhs=a(),r[t++]=1/0;for(var M=0;M<30;M++)r[t++]=0;e.bbs=a(),e.txt=a([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var B=r[--t];r[t++]=C(B-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var F=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=F,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,K2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,W2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(d(e.addcode,"sbs")),e.sbs=a(),r[t++]=1/0,O(e.bhs),O(d(e.addcode,"bhs")),e.bhs=a(),r[t++]=1/0,O(e.bbs),O(d(e.addcode,"bbs")),e.bbs=a(),r[t++]=1/0,O(e.txt),O(d(e.addcode,"txt")),e.txt=a(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var D=Pe();r[t++]=D,e.dontdraw||Tt(),e=s}function _9(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==11||e.barcode.length==12){xe(e.barcode,function(){var H=r[--t];(H<48||H>57)&&(r[t++]="bwipp.upcEupcAbadCharacter#5967",r[t++]="UPC-A must contain only digits",Q())});for(var n=0;n<1;n++){var i=e.barcode.length==12?8:7;if(e.upcecode=Z(i),d(e.barcode,3)-48<=2&&W(S(e.barcode,4,4),"0000")){R(e.upcecode,0,S(e.barcode,0,3)),R(e.upcecode,3,S(e.barcode,8,3)),R(e.upcecode,6,S(e.barcode,3,1));break}if(W(S(e.barcode,4,5),"00000")){R(e.upcecode,0,S(e.barcode,0,4)),R(e.upcecode,4,S(e.barcode,9,2)),R(e.upcecode,6,"3");break}if(W(S(e.barcode,5,5),"00000")){R(e.upcecode,0,S(e.barcode,0,5)),R(e.upcecode,5,S(e.barcode,10,1)),R(e.upcecode,6,"4");break}if(d(e.barcode,10)-48>=5&&W(S(e.barcode,6,4),"0000")){R(e.upcecode,0,S(e.barcode,0,6)),R(e.upcecode,6,S(e.barcode,10,1));break}r[t++]="bwipp.upcEupcAnotCompressible#5995",r[t++]="UPC-A cannot be converted to a UPC-E",Q()}e.barcode.length==12&&R(e.upcecode,7,S(e.barcode,11,1)),e.barcode=e.upcecode}e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.upcEbadLength#6005",r[t++]="UPC-E must be 7 or 8 digits",Q());for(var o=e.barcode,l=0,u=o.length;l<u;l++){var f=d(o,l);(f<48||f>57)&&(r[t++]="bwipp.upcEbadCharacter#6009",r[t++]="UPC-E must contain only digits",Q())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcEbadAddOnLength#6013",r[t++]="Add-on for UPC-E must be 2 or 5 digits",Q());var h=d(e.barcode,0);h!=48&&h!=49&&(r[t++]="bwipp.upcEbadNumberSystem#6018",r[t++]="UPC-E must have number system 0 or 1",Q()),e.encs=a(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","111111"]),e.barchars="0123456789",e.mirrormaps=a(["000111","001011","001101","001110","010011","011001","011100","010101","010110","011010"]);for(var p=0;p<1;p++){if(e.upcacode=Z(11),d(e.barcode,6)-48<=2){R(e.upcacode,0,S(e.barcode,0,3)),R(e.upcacode,3,S(e.barcode,6,1)),R(e.upcacode,4,"0000"),R(e.upcacode,8,S(e.barcode,3,3));break}if(d(e.barcode,6)-48==3){R(e.upcacode,0,S(e.barcode,0,4)),R(e.upcacode,4,"00000"),R(e.upcacode,9,S(e.barcode,4,2));break}if(d(e.barcode,6)-48==4){R(e.upcacode,0,S(e.barcode,0,5)),R(e.upcacode,5,"00000"),R(e.upcacode,10,S(e.barcode,5,1));break}if(d(e.barcode,6)-48>=5){R(e.upcacode,0,S(e.barcode,0,6)),R(e.upcacode,6,"0000"),R(e.upcacode,10,S(e.barcode,6,1));break}}e.checksum=0;for(var m=0;m<=10;m+=1)e.i=m,e.barchar=d(e.upcacode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&d(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.upcEbadCheckDigit#6080",r[t++]="Incorrect UPC check digit provided",Q()),e.pad=Z(8),R(e.pad,0,e.barcode),g(e.pad,7,e.checksum+48),e.barcode=e.pad,e.txt=a(8),g(e.txt,0,a([S(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),e.mirrormap=d(e.mirrormaps,e.checksum),d(e.barcode,0)==48){e.invt=Z(e.mirrormap.length);for(var x=0,b=e.mirrormap.length-1;x<=b;x+=1)e.i=x,d(e.mirrormap,e.i)==48?g(e.invt,e.i,49):g(e.invt,e.i,48);e.mirrormap=e.invt}e.sbs=Z(33),R(e.sbs,0,d(e.encs,10));for(var v=1;v<=6;v+=1){if(e.i=v,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),d(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=Z(e.enclen);for(var w=0,y=e.enclen-1;w<=y;w+=1)e.j=w,e.char=d(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}R(e.sbs,(e.i-1)*4+3,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i-1)*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}g(e.txt,7,a([S(e.barcode,7,1),6*7+21+e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),R(e.sbs,27,d(e.encs,11)),r[t++]=1/0;for(var A=e.sbs,k=0,E=A.length;k<E;k++)r[t++]=d(A,k)-48;if(e.sbs=a(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var j=0;j<12;j++)r[t++]=C(e.height-.075);r[t++]=e.height,r[t++]=e.height,r[t++]=e.height,e.bhs=a(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var N=0;N<12;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=a()}else{r[t++]=1/0;for(var I=0;I<17;I++)r[t++]=e.height;e.bhs=a(),r[t++]=1/0;for(var M=0;M<17;M++)r[t++]=0;e.bbs=a(),e.txt=a([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var B=r[--t];r[t++]=C(B-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=51+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var F=Ee(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=F,e.addopts=Pe(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,K2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,W2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(d(e.addcode,"sbs")),e.sbs=a(),r[t++]=1/0,O(e.bhs),O(d(e.addcode,"bhs")),e.bhs=a(),r[t++]=1/0,O(e.bbs),O(d(e.addcode,"bbs")),e.bbs=a(),r[t++]=1/0,O(e.txt),O(d(e.addcode,"txt")),e.txt=a(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var D=Pe();r[t++]=D,e.dontdraw||Tt(),e=s}function xP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.isbntextfont="OCR-A",e.isbntextsize=8,e.isbntextxoffset=null,e.isbntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.isbnBadLength#6249",r[t++]="ISBN-13 must be 15 or 17 characters including dashes. ISBN-10 must be 11 or 13 characters including dashes",Q()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.isbnBadAddOnLength#6252",r[t++]="Add-on for ISBN must be 2 or 5 digits",Q()),e.barcode.length>=15){var n=S(e.barcode,0,4);Ee(n,"978-")&&Ee(n,"979-")&&(r[t++]="bwipp.isbn13badPrefix#6256",r[t++]="ISBN-13 prefix must be 978- or 979-",Q()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var i=S(e.barcode,5,9),o=0,l=i.length;o<l;o++){var u=d(i,o);r[t++]=u,u==45&&(e.wasdash&&(r[t++]="bwipp.isbn13adjacentDashes#6263",r[t++]="ISBN-13 does not permit adjacent dashes",Q()),e.wasdash=!0,e.numdash=e.numdash+1);var f=r[--t];f>=48&&f<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn13numDashesDigits#6274",r[t++]="Incorrect number of dashes and digits for ISBN-13",Q());var h=d(e.barcode,14);if((h<48||h>57)&&(r[t++]="bwipp.isbn13character15#6277",r[t++]="ISBN-13 character 15 must be a digit",Q()),e.barcode.length==17){Ee(S(e.barcode,15,1),"-")&&(r[t++]="bwipp.isbn13character16#6281",r[t++]="ISBN-13 penultimate character must be a dash",Q());var p=d(e.barcode,16);(p<48||p>57)&&(r[t++]="bwipp.isbn13character17#6284",r[t++]="ISBN-13 final character must be a digit",Q())}}else{var m=d(e.barcode,0);(m<48||m>57)&&(r[t++]="bwipp.isbn10FirstDigit#6289",r[t++]="ISBN-10 first character must be a digit",Q()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var x=S(e.barcode,1,9),b=0,v=x.length;b<v;b++){var w=d(x,b);r[t++]=w,w==45&&(e.wasdash&&(r[t++]="bwipp.isbn10adjacentDashes#6296",r[t++]="ISBN-10 does not permit adjacent dashes",Q()),e.wasdash=!0,e.numdash=e.numdash+1);var y=r[--t];y>=48&&y<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn10numDashesDigits#6307",r[t++]="Incorrect number of dashes and digits for ISBN-10",Q());var A=d(e.barcode,10);if((A<48||A>57)&&(r[t++]="bwipp.isbn10character11#6310",r[t++]="ISBN-10 character 11 must be a digit",Q()),e.barcode.length==13){Ee(S(e.barcode,11,1),"-")&&(r[t++]="bwipp.isbn10character12#6314",r[t++]="ISBN-10 penultimate character must be a dash",Q());var k=d(e.barcode,12);(k<48||k>57)&&k!=88&&(r[t++]="bwipp.isbn10character13#6317",r[t++]="ISBN-10 final character must be a digit or X",Q())}}if(e.isbntxt=e.barcode,e.isbntxt.length<=13){for(e.isbn=Z(10),e.checksum=0,e.i=0,e.n=0;e.isbnchar=d(e.isbntxt,e.i)-48,e.isbnchar!=-3&&(g(e.isbn,e.n,e.isbnchar+48),e.n<9&&(e.checksum=C(e.checksum+(10-e.n)*e.isbnchar)),e.n=e.n+1),e.i=e.i+1,e.i!=e.isbntxt.length;);var E=(11-e.checksum%11)%11;r[t++]="checksum",r[t++]=E,E==10&&(r[t-1]=40);var j=r[--t];e[r[--t]]=j+48,e.isbn=S(e.isbn,0,9),e.isbntxt.length==13&&d(e.isbntxt,12)!=e.checksum&&(r[t++]="bwipp.isbn10badCheckDigit#6345",r[t++]="Incorrect ISBN-10 check digit provided",Q())}if(!e.legacy||e.isbntxt.length>=15){for(e.isbntxt.length<=13&&(e.pad=Z(15),R(e.pad,0,"978-"),R(e.pad,4,S(e.isbntxt,0,11)),e.isbntxt=e.pad),e.isbn=Z(13),e.checksum=0,e.i=0,e.n=0;;){if(e.isbnchar=d(e.isbntxt,e.i)-48,e.isbnchar!=-3){if(g(e.isbn,e.n,e.isbnchar+48),e.n<12){if(r[t++]="checksum",r[t++]=e.isbnchar,e.n%2!=0){var N=r[--t];r[t++]=N*3}var I=r[--t];e[r[--t]]=C(I+e.checksum)}e.n=e.n+1}if(e.i=e.i+1,e.i==e.isbntxt.length)break}e.checksum=(10-e.checksum%10)%10+48,e.isbn=S(e.isbn,0,12),e.isbntxt.length==17&&d(e.isbntxt,16)!=e.checksum&&(r[t++]="bwipp.isbn13badCheckDigit#6380",r[t++]="Incorrect ISBN-13 check digit provided",Q())}var M=e.isbn.length==12?22:18;if(e.pad=Z(M),R(e.pad,0,"ISBN "),R(e.pad,5,e.isbntxt),g(e.pad,e.pad.length-2,45),g(e.pad,e.pad.length-1,e.checksum),e.isbntxt=e.pad,e.barcode=Z(12),e.isbn.length==9?(R(e.barcode,0,"978"),R(e.barcode,3,e.isbn)):R(e.barcode,0,e.isbn),e.addon.length!=0){var B=Z(12+e.addon.length+1);R(B,0,e.barcode),R(B,12," "),R(B,13,e.addon),e.barcode=B}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,J2();var F=r[--t];if(e[r[--t]]=F,e.includetext){if(e.isbntextxoffset==null){r[t++]="isbntextxoffset",e.isbn.length==9?r[t++]=-1:r[t++]=-12;var D=r[--t];e[r[--t]]=D}e.isbntextyoffset==null&&(e.isbntextyoffset=e.height*72+3);var H=d(e.args,"txt")!==void 0;H?(e.txt=d(e.args,"txt"),e.newtxt=a(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,a([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",a([a([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function vP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.ismntextfont="OCR-A",e.ismntextsize=8,e.ismntextxoffset=null,e.ismntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Rt(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.ismnBadLength#6499",r[t++]="ISMN-13 must be 15 or 17 characters including dashes. ISMN-10 must be 11 or 13 characters including dashes",Q()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ismnBadAddOnLength#6502",r[t++]="Add-on for ISMN must be 2 or 5 digits",Q()),e.barcode.length>=15){Ee(S(e.barcode,0,4),"979-")&&(r[t++]="bwipp.ismn13badPrefix#6506",r[t++]="ISMN-13 prefix must be 979-",Q()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var n=S(e.barcode,5,9),i=0,o=n.length;i<o;i++){var l=d(n,i);r[t++]=l,l==45&&(e.wasdash&&(r[t++]="bwipp.ismn13adjacentDashes#6513",r[t++]="ISMN-13 does not permit adjacent dashes",Q()),e.wasdash=!0,e.numdash=e.numdash+1);var u=r[--t];u>=48&&u<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.ismn13numDashesDigits#6524",r[t++]="Incorrect number of dashes and digits for ISMN-13",Q());var f=d(e.barcode,14);if((f<48||f>57)&&(r[t++]="bwipp.ismn13character15#6527",r[t++]="ISMN-13 character 15 must be a digit",Q()),e.barcode.length==17){Ee(S(e.barcode,15,1),"-")&&(r[t++]="bwipp.ismn13character16#6531",r[t++]="ISMN-13 penultimate character must be a dash",Q());var h=d(e.barcode,16);(h<48||h>57)&&(r[t++]="bwipp.ismn13character17#6534",r[t++]="ISMN-13 final character must be a digit",Q())}}else{Ee(S(e.barcode,0,2),"M-")&&(r[t++]="bwipp.ismn10badPrefix#6539",r[t++]="ISMN-10 prefix must be M-",Q());var p=d(e.barcode,2);(p<48||p>57)&&(r[t++]="bwipp.ismn10character3#6542",r[t++]="ISMN-10 character 3 must be a digit",Q()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var m=S(e.barcode,3,7),x=0,b=m.length;x<b;x++){var v=d(m,x);r[t++]=v,v==45&&(e.wasdash&&(r[t++]="bwipp.ismn10adjacentDashes#6549",r[t++]="ISMN-10 does not permit adjacent dashes",Q()),e.wasdash=!0,e.numdash=e.numdash+1);var w=r[--t];w>=48&&w<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=1||e.numdigit!=6)&&(r[t++]="bwipp.ismn10numDashesDigits#6560",r[t++]="Incorrect number of dashes and digits for ISMN-10",Q());var y=d(e.barcode,10);if((y<48||y>57)&&(r[t++]="bwipp.ismn10character11#6563",r[t++]="ISMN-10 character 11 must be a digit",Q()),e.barcode.length==13){var A=S(e.barcode,11,1);Ee(A,"-")&&(r[t++]="bwipp.ismn10character12#6567",r[t++]="ISMN-10 penultimate character must be a dash",Q());var k=d(e.barcode,12);(k<48||k>57)&&k!=88&&(r[t++]="bwipp.ismn10character13#6570",r[t++]="ISMN-10 final character must be a digit or X",Q())}}for(e.ismntxt=e.barcode,e.legacytxt="",e.ismntxt.length<=13&&(e.legacytxt=e.ismntxt,e.pad=Z(e.ismntxt.length+4),R(e.pad,0,"979-0-"),R(e.pad,6,S(e.ismntxt,2,e.ismntxt.length-2)),e.ismntxt=e.pad),e.ismn=Z(13),e.checksum=0,e.i=0,e.n=0;e.ismnchar=d(e.ismntxt,e.i)-48,e.ismnchar!=-3&&(g(e.ismn,e.n,e.ismnchar+48),e.n<12&&(e.n%2==0?e.checksum=e.ismnchar+e.checksum:e.checksum=e.ismnchar*3+e.checksum),e.n=e.n+1),e.i=e.i+1,e.i!=e.ismntxt.length;);if(e.checksum=(10-e.checksum%10)%10+48,e.barcode.length==13||e.barcode.length==17){var E=e.barcode;d(E,E.length-1)!=e.checksum&&(r[t++]="bwipp.ismnBadCheckDigit#6612",r[t++]="Incorrect ISMN check digit provided",Q())}if(e.legacy&&e.legacytxt.length!=0?(e.ismntxt=e.legacytxt,e.pad=Z(18)):e.pad=Z(22),R(e.pad,0,"ISMN "),R(e.pad,5,e.ismntxt),g(e.pad,e.pad.length-2,45),g(e.pad,e.pad.length-1,e.checksum),e.ismntxt=e.pad,e.barcode=S(e.ismn,0,12),e.addon.length!=0){var j=Z(12+e.addon.length+1);R(j,0,e.barcode),R(j,12," "),R(j,13,e.addon),e.barcode=j}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,J2();var N=r[--t];if(e[r[--t]]=N,e.includetext){if(e.ismntextxoffset==null){r[t++]="ismntextxoffset",e.ismntxt.length==18?r[t++]=-1:r[t++]=-12;var I=r[--t];e[r[--t]]=I}e.ismntextyoffset==null&&(e.ismntextyoffset=e.height*72+3);var M=d(e.args,"txt")!==void 0;M?(e.txt=d(e.args,"txt"),e.newtxt=a(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,a([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",a([a([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function gP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.issntextfont="OCR-A",e.issntextsize=8,e.issntextxoffset=null,e.issntextyoffset=null,e.height=1,e.addongap=12,r[t++]=e,$e(),e.options=r[--t],e.issntxt=r[--t],Rt(e.issntxt," "),r[--t]?(e.issntxt=r[--t],t--,e.seqvar=r[--t]):(t--,e.seqvar="00"),Rt(e.seqvar," "),r[--t]?(e.seqvar=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.issntxt.length!=8&&e.issntxt.length!=9&&(r[t++]="bwipp.issnBadLength#6736",r[t++]="ISSN must be 8 or 9 characters including dash, in the format XXXX-XXXX",Q());for(var n=S(e.issntxt,0,4),i=0,o=n.length;i<o;i++){var l=d(n,i);(l<48||l>57)&&(r[t++]="bwipp.issnFirstThroughFourthNotNumeric#6740",r[t++]="ISSN first four characters must be numeral characters",Q())}Ee(S(e.issntxt,4,1),"-")&&(r[t++]="bwipp.issnNeedsDash#6744",r[t++]="ISSN fifth character must be a dash",Q());for(var u=S(e.issntxt,5,3),f=0,h=u.length;f<h;f++){var p=d(u,f);(p<48||p>57)&&(r[t++]="bwipp.issnSixthThroughEighthNotNumeric#6748",r[t++]="ISSN sixth through eighth characters must be numerals",Q())}if(e.issntxt.length==9){var m=d(e.issntxt,8);(m<48||m>57)&&m!=88&&(r[t++]="bwipp.issnNinthCharacterBadFormat#6753",r[t++]="ISSN ninth character must be a number or the character X",Q())}for(e.seqvar.length!=2&&(r[t++]="bwipp.issnBadSequenceVariantLength#6757",r[t++]="Sequence variant for ISSN must be 2 digits",Q()),xe(e.seqvar,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.issnSequenceVariantBadCharacter#6761",r[t++]="Sequence variant for ISSN must contain only digits",Q())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.issnBadAddOnLength#6765",r[t++]="Add-on for ISSN must be 2 or 5 digits",Q()),e.issn=Z(8),e.checksum=0,e.i=0,e.n=0;e.issnchar=d(e.issntxt,e.i)-48,e.issnchar!=-3&&(g(e.issn,e.n,e.issnchar+48),e.n<7&&(e.checksum=C(e.checksum+e.issnchar*(8-e.n))),e.n=e.n+1),e.i=e.i+1,e.i!=e.issntxt.length;);e.checksum=(11-e.checksum%11)%11;var x=e.checksum+48;r[t++]="checksum",r[t++]=x,x==58&&(r[t-1]=88);var b=r[--t],v=r[--t];if(e[v]=b,e.issntxt.length==9&&d(e.issntxt,8)!=e.checksum&&(r[t++]="bwipp.issnBadCheckDigit#6788",r[t++]="Incorrect ISSN check digit provided",Q()),e.pad=Z(14),R(e.pad,0,"ISSN "),R(e.pad,5,e.issntxt),g(e.pad,13,e.checksum),e.issntxt=e.pad,e.barcode=S(e.issn,0,7),e.barcode=Z(12),R(e.barcode,0,"977"),R(e.barcode,3,e.issn),R(e.barcode,10,e.seqvar),e.addon.length!=0){var w=Z(12+e.addon.length+1);R(w,0,e.barcode),R(w,12," "),R(w,13,e.addon),e.barcode=w}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,J2();var y=r[--t];if(e[r[--t]]=y,e.includetext){e.issntextxoffset==null&&(e.issntextxoffset=10),e.issntextyoffset==null&&(e.issntextyoffset=e.height*72+3);var A=d(e.args,"txt")!==void 0;A?(e.txt=d(e.args,"txt"),e.newtxt=a(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,a([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",a([a([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function bP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,e.barlen!=7&&e.barlen!=8&&(r[t++]="bwipp.MandSbadLength#6884",r[t++]="M&S barcode must be 7 or 8 characters",Q()),e.barlen==7){var n=Tr(Z(8),"00000000");R(n,1,e.barcode),e.barcode=n}g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,bv();var i=r[--t];e[r[--t]]=i;var o=d(e.args,"bbs");g(o,10,d(o,2)),g(o,11,d(o,2));var l=d(e.args,"bhs");if(g(l,10,d(l,2)),g(l,11,d(l,2)),e.txt=d(e.args,"txt"),e.barlen==7){for(var u=0;u<=6;u+=1){var f=e.txt;R(d(d(f,u),0),0,d(d(f,u+1),0))}R(d(d(e.txt,7),0),0," ")}var h=a(10);R(h,0,e.txt),e.txt=h;var p=d(e.txt,0);g(e.txt,8,Nc(a(p.length),p));var m=d(e.txt,0);g(e.txt,9,Nc(a(m.length),m)),g(d(e.txt,8),0,"M"),g(d(e.txt,8),1,-12),g(d(e.txt,9),0,"S");var x=d(e.txt,9);g(x,1,69),g(e.args,"txt",e.txt),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function X2(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.raw=!1,e.newencoder=!1,e.parse=!1,e.parsefnc=!1,e.suppressc=!1,e.unlatchextbeforec=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.sta=-1,e.stb=-2,e.stc=-3,e.swa=-4,e.swb=-5,e.swc=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10,e.sft=-11,e.stp=-12,e.lka=-13,e.lkc=-14;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3],["LNKA",e.lka],["LNKC",e.lkc]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];if(e[r[--t]]=i,e.msglen=e.msg.length,e.encoding="legacy",e.newencoder&&(e.encoding="new"),e.raw&&(e.encoding="raw"),W(e.encoding,"raw")){for(e.cws=a(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ie(S(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=S(e.cws,0,e.j),e.text=""}else{e.text=Z(e.msglen);for(var o=0,l=e.msglen-1;o<=l;o+=1){e.i=o;var u=d(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=u,u<0&&(r[t-1]=32);var f=r[--t],h=r[--t];g(r[--t],h,f)}}e.charmaps=a([a([32,32,"00"]),a(["!","!","01"]),a(['"','"',"02"]),a(["#","#","03"]),a(["$","$","04"]),a(["%","%","05"]),a(["&","&","06"]),a(["'","'","07"]),a([40,40,"08"]),a([41,41,"09"]),a(["*","*","10"]),a(["+","+","11"]),a([",",",","12"]),a(["-","-","13"]),a([".",".","14"]),a(["/","/","15"]),a(["0","0","16"]),a(["1","1","17"]),a(["2","2","18"]),a(["3","3","19"]),a(["4","4","20"]),a(["5","5","21"]),a(["6","6","22"]),a(["7","7","23"]),a(["8","8","24"]),a(["9","9","25"]),a([":",":","26"]),a([";",";","27"]),a(["<","<","28"]),a(["=","=","29"]),a([">",">","30"]),a(["?","?","31"]),a(["@","@","32"]),a(["A","A","33"]),a(["B","B","34"]),a(["C","C","35"]),a(["D","D","36"]),a(["E","E","37"]),a(["F","F","38"]),a(["G","G","39"]),a(["H","H","40"]),a(["I","I","41"]),a(["J","J","42"]),a(["K","K","43"]),a(["L","L","44"]),a(["M","M","45"]),a(["N","N","46"]),a(["O","O","47"]),a(["P","P","48"]),a(["Q","Q","49"]),a(["R","R","50"]),a(["S","S","51"]),a(["T","T","52"]),a(["U","U","53"]),a(["V","V","54"]),a(["W","W","55"]),a(["X","X","56"]),a(["Y","Y","57"]),a(["Z","Z","58"]),a(["[","[","59"]),a([92,92,"60"]),a(["]","]","61"]),a(["^","^","62"]),a(["_","_","63"]),a([0,"`","64"]),a([1,"a","65"]),a([2,"b","66"]),a([3,"c","67"]),a([4,"d","68"]),a([5,"e","69"]),a([6,"f","70"]),a([7,"g","71"]),a([8,"h","72"]),a([9,"i","73"]),a([10,"j","74"]),a([11,"k","75"]),a([12,"l","76"]),a([13,"m","77"]),a([14,"n","78"]),a([15,"o","79"]),a([16,"p","80"]),a([17,"q","81"]),a([18,"r","82"]),a([19,"s","83"]),a([20,"t","84"]),a([21,"u","85"]),a([22,"v","86"]),a([23,"w","87"]),a([24,"x","88"]),a([25,"y","89"]),a([26,"z","90"]),a([27,"{","91"]),a([28,"|","92"]),a([29,"}","93"]),a([30,"~","94"]),a([31,127,"95"]),a([e.fn3,e.fn3,"96"]),a([e.fn2,e.fn2,"97"]),a([e.sft,e.sft,"98"]),a([e.swc,e.swc,"99"]),a([e.swb,e.fn4,e.swb]),a([e.fn4,e.swa,e.swa]),a([e.fn1,e.fn1,e.fn1]),a([e.sta,e.sta,e.sta]),a([e.stb,e.stb,e.stb]),a([e.stc,e.stc,e.stc]),a([e.stp,e.stp,e.stp])]),e.charvals=a([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=d(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var b=d(e.encs,e.j);if(r[t++]=b,W(oa(b),"stringtype")){var v=d(r[--t],0);r[t++]=v}g(d(e.charvals,e.j),r[--t],e.i)}}if(W(e.encoding,"legacy")){e.seta=d(e.charvals,0),g(e.seta,e.lka,d(e.seta,e.swb)),g(e.seta,e.lkc,d(e.seta,e.swc)),e.setb=d(e.charvals,1),g(e.setb,e.lka,d(e.setb,e.swc)),g(e.setb,e.lkc,d(e.setb,e.swa)),e.setc=d(e.charvals,2),g(e.setc,e.lka,d(e.setc,e.swa)),g(e.setc,e.lkc,d(e.setc,e.swb)),r[t++]=1/0;for(var w=0,y=e.msglen;w<y;w++)r[t++]=0;r[t++]=0,e.numSA=a(),r[t++]=1/0;for(var A=0,k=e.msglen;A<k;A++)r[t++]=0;r[t++]=0,e.numEA=a();for(var E=e.msglen-1;E>=0;E-=1)e.i=E,d(e.msg,e.i)>=0&&(d(e.msg,e.i)>=128?g(e.numEA,e.i,d(e.numEA,e.i+1)+1):g(e.numSA,e.i,d(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=a([]);for(var j=0,N=e.msglen-1;j<=N;j+=1){if(e.i=j,e.c=d(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var I=d(r[--t],e.i),M=C(I+e.i)==e.msglen?3:5;I<M?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=a()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=a(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=a()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var Ae=d(e.msg,e.p),Ye=d(e.setc,Ae)!==void 0;if(r[t++]=Ae,!Ye){t--;break}var Qe=r[t-1];if(Qe<=-1){var Ze=r[--t];if(Ze==e.fn1&&e.s%2==0)e.s=e.s+1;else break}else t--;e.s=e.s+1,e.p=e.p+1}r[t++]=e.s},e.enca=function(){g(e.cws,e.j,d(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,d(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var Ae=r[t-1];if(Ee(oa(Ae),"arraytype")){var Ye=d(e.setc,r[--t]);r[t++]=Ye}else{O(r[--t]);var Qe=r[--t],Ze=r[--t];r[t++]=C(Qe-48+(Ze-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var Ae=r[--t],Ye=d(e.seta,Ae)!==void 0,Qe=d(e.setb,Ae)!==void 0;r[t++]=Ye&&!Qe},e.bnota=function(){var Ae=r[--t],Ye=d(e.setb,Ae)!==void 0,Qe=d(e.seta,Ae)!==void 0;r[t++]=Ye&&!Qe},r[t++]=1/0;for(var B=0,F=e.msg.length;B<F;B++)r[t++]=0;r[t++]=9999,e.nextanotb=a(),r[t++]=1/0;for(var D=0,H=e.msg.length;D<H;D++)r[t++]=0;r[t++]=9999,e.nextbnota=a();for(var T=e.msg.length-1;T>=0;T-=1)e.i=T,r[t++]=d(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,d(e.nextanotb,e.i+1)+1),r[t++]=d(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,d(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var Ae=r[--t];r[t++]=wa(d(e.nextanotb,Ae),d(e.nextbnota,Ae))},e.bbeforea=function(){var Ae=r[--t];r[t++]=wa(d(e.nextbnota,Ae),d(e.nextanotb,Ae))},e.cws=a(e.barcode.length*2+3),e.j=0,e.msglen>0?(r[t++]=0,e.numsscr()):r[t++]=-1,e.nums=r[--t];;){if(e.msglen==0){r[t++]=e.stb,e.enca(),e.cset="setb";break}if(e.msglen==2&&e.nums==2){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(e.nums>=4){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(r[t++]=0,e.abeforeb(),r[--t]){r[t++]=e.sta,e.enca(),e.cset="seta";break}r[t++]=e.stb,e.enca(),e.cset="setb";break}for(e.i=0;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t];;){if((W(e.cset,"seta")||W(e.cset,"setb"))&&e.nums>=4&&d(e.msg,e.i)!=e.fn1){if(e.nums%2==0){r[t++]=e.swc,W(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}else if(r[t++]=d(e.msg,e.i),W(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.i,e.numsscr(),r[--t]>=4){r[t++]=e.swc,W(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}}r[t++]=W(e.cset,"setb"),r[t++]=d(e.msg,e.i),e.anotb();var _=r[--t];if(r[--t]&&_){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta";break}r[t++]=W(e.cset,"seta"),r[t++]=d(e.msg,e.i),e.bnota();var L=r[--t];if(r[--t]&&L){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb";break}if(W(e.cset,"setc")&&e.nums<2&&(d(e.msg,e.i)>-1||d(e.msg,e.i)==e.fn4)){if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}if(W(e.cset,"seta")){r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(W(e.cset,"setb")){r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(W(e.cset,"setc")){d(e.msg,e.i)<=-1?(r[t++]=d(e.msg,e.i),e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}break}e.cws=S(e.cws,0,e.j)}if(W(e.encoding,"new")){r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=100,r[t++]=e.lkc,r[t++]=99,e.seta=Pe(),r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=99,r[t++]=e.lkc,r[t++]=101,e.setb=Pe(),r[t++]=1/0,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=101,r[t++]=e.lkc,r[t++]=100,e.setc=Pe(),e.latch_a0=a(["","e","e","ee","eee","eee"]),e.latch_b0=a(["d","","d","ddd","dd","ddd"]),e.latch_c0=a(["c","c","","eec","ddc","dddc"]),e.latch_a1=a(["ee","eee","eee","","e","e"]),e.latch_b1=a(["ddd","dd","ddd","d","","d"]),e.latch_c1=a(["eec","ddc","dddc","c","c",""]),r[t++]=1/0;for(var z=e.latch_a0,G=0,K=z.length;G<K;G++)r[t++]=d(z,G).length;e.latch_length_a0=a(),r[t++]=1/0;for(var oe=e.latch_a1,V=0,Y=oe.length;V<Y;V++)r[t++]=d(oe,V).length;e.latch_length_a1=a(),r[t++]=1/0;for(var ie=e.latch_b0,de=0,re=ie.length;de<re;de++)r[t++]=d(ie,de).length;e.latch_length_b0=a(),r[t++]=1/0;for(var ne=e.latch_b1,le=0,ue=ne.length;le<ue;le++)r[t++]=d(ne,le).length;e.latch_length_b1=a(),r[t++]=1/0;for(var Me=e.latch_c0,pe=0,Fe=Me.length;pe<Fe;pe++)r[t++]=d(Me,pe).length;e.latch_length_c0=a(),r[t++]=1/0;for(var Ce=e.latch_c1,ve=0,Be=Ce.length;ve<Be;ve++)r[t++]=d(Ce,ve).length;e.latch_length_c1=a(),e.latch_sequence=a([e.latch_a0,e.latch_b0,e.latch_c0,e.latch_a1,e.latch_b1,e.latch_c1]);var Ue=a([function(){e.enc_a0()},function(){e.enc_b0()},function(){e.enc_c()},function(){e.enc_a1()},function(){e.enc_b1()},function(){e.enc_c()}]);e.encode=Ue,e.start_code=a([103,104,105]),e.state_priority=a([1,0,2,4,3,5]),e.start_state=a([0,1,2,0,1,2]),e.start_length=a([1,1,1,1,1,1]),r[t++]=1/0;for(var Xe=a([5,4,3,2,1,0]),Re=0,Ge=Xe.length;Re<Ge;Re++)r[t++]=d(e.state_priority,d(Xe,Re));e.reverse_priority=a(),r[t++]=1/0;for(var Oe=e.reverse_priority,Le=0,rt=Oe.length;Le<rt;Le++){var Se=d(Oe,Le);r[t++]=Se,r[t++]=d(e.latch_length_a0,Se),r[t++]=Se}e.prioritized_latch_length_a0=a(),r[t++]=1/0;for(var qe=e.reverse_priority,We=0,Ke=qe.length;We<Ke;We++){var Te=d(qe,We);r[t++]=Te,r[t++]=d(e.latch_length_a1,Te),r[t++]=Te}e.prioritized_latch_length_a1=a(),r[t++]=1/0;for(var He=e.reverse_priority,st=0,gt=He.length;st<gt;st++){var ht=d(He,st);r[t++]=ht,r[t++]=d(e.latch_length_b0,ht),r[t++]=ht}e.prioritized_latch_length_b0=a(),r[t++]=1/0;for(var bt=e.reverse_priority,Et=0,kt=bt.length;Et<kt;Et++){var wt=d(bt,Et);r[t++]=wt,r[t++]=d(e.latch_length_b1,wt),r[t++]=wt}e.prioritized_latch_length_b1=a(),r[t++]=1/0;for(var Mt=e.reverse_priority,It=0,zt=Mt.length;It<zt;It++){var Bt=d(Mt,It);r[t++]=Bt,r[t++]=d(e.latch_length_c0,Bt),r[t++]=Bt}e.prioritized_latch_length_c0=a(),r[t++]=1/0;for(var jt=e.reverse_priority,U=0,$=jt.length;U<$;U++){var P=d(jt,U);r[t++]=P,r[t++]=d(e.latch_length_c1,P),r[t++]=P}e.prioritized_latch_length_c1=a(),e.max_int=2147483647,e.can_a=function(){if(e.c>=0)r[t++]=!0;else{var Ae=d(e.seta,e.c)!==void 0;r[t++]=Ae}},e.can_b=function(){if(e.c>=0)r[t++]=!0;else{var Ae=d(e.setb,e.c)!==void 0;r[t++]=Ae}},e.can_c0=function(){if(e.num_digits>=2)r[t++]=!0;else{var Ae=d(e.setc,e.c)!==void 0;r[t++]=Ae}},e.can_c1=function(){if(e.num_digits>=2)r[t++]=!0;else{var Ae=d(e.setc,e.c)!==void 0;r[t++]=Ae}},e.suppressc&&(e.can_c0=function(){r[t++]=!1}),(e.suppressc||e.unlatchextbeforec)&&(e.can_c1=function(){r[t++]=!1}),e.out_a0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var Ae=r[--t];r[t++]=Ae+1}if((e.c&127)>=96){var Ye=r[--t];r[t++]=Ye+1}}},e.out_a1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var Ae=r[--t];r[t++]=Ae+1}if((e.c&127)>=96){var Ye=r[--t];r[t++]=Ye+1}}},e.out_b0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var Ae=r[--t];r[t++]=Ae+1}if((e.c&127)<32){var Ye=r[--t];r[t++]=Ye+1}}},e.out_b1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var Ae=r[--t];r[t++]=Ae+1}if((e.c&127)<32){var Ye=r[--t];r[t++]=Ye+1}}},e.map_ab=function(){var Ae=r[t-1];if(Ae<32){var Ye=r[--t];r[t++]=Ye+64}else{var Qe=r[--t];r[t++]=Qe-32}},e.enc_a0=function(){if(r[t++]=1/0,e.c<0)r[t++]=d(e.seta,e.c);else{e.c>=128&&(r[t++]=101);var Ae=e.c&127;if(r[t++]=Ae,Ae>=96){var Ye=r[--t];r[t++]=98,r[t++]=Ye}e.map_ab()}var Qe=a();r[t++]=Qe},e.enc_a1=function(){if(r[t++]=1/0,e.c<0)r[t++]=d(e.seta,e.c);else{e.c<128&&(r[t++]=101);var Ae=e.c&127;if(r[t++]=Ae,Ae>=96){var Ye=r[--t];r[t++]=98,r[t++]=Ye}e.map_ab()}var Qe=a();r[t++]=Qe},e.enc_b0=function(){if(r[t++]=1/0,e.c<0)r[t++]=d(e.setb,e.c);else{e.c>=128&&(r[t++]=100);var Ae=e.c&127;if(r[t++]=Ae,Ae<32){var Ye=r[--t];r[t++]=98,r[t++]=Ye}e.map_ab()}var Qe=a();r[t++]=Qe},e.enc_b1=function(){if(r[t++]=1/0,e.c<0)r[t++]=d(e.setb,e.c);else{e.c<128&&(r[t++]=100);var Ae=e.c&127;if(r[t++]=Ae,Ae<32){var Ye=r[--t];r[t++]=98,r[t++]=Ye}e.map_ab()}var Qe=a();r[t++]=Qe},e.enc_c=function(){r[t++]=1/0,e.c<0?r[t++]=d(e.setc,e.c):r[t++]=C((d(e.msg,e.n)-48)*10+(d(e.msg,e.n+1)-48));var Ae=a();r[t++]=Ae},e.get_best_prior_state=function(){var Ae=d(e.bln_0,r[--t]);e.len=C(r[--t]+Ae),e.o=r[--t];var Ye=d(e.bln_0,r[--t]),Qe=C(r[--t]+Ye);r[t++]=Qe,Qe<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var Ze=d(e.bln_0,r[--t]),pt=C(r[--t]+Ze);r[t++]=pt,pt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var mt=d(e.bln_0,r[--t]),ut=C(r[--t]+mt);r[t++]=ut,ut<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var vt=d(e.bln_0,r[--t]),it=C(r[--t]+vt);r[t++]=it,it<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var _t=d(e.bln_0,r[--t]);C(r[--t]+_t)<e.len?e.o=r[--t]:t--,r[t++]=e.o},e.bln_0=e.start_length,e.bln_1=e.start_length,r[t++]=1/0;for(var q=0;q<4;q++)r[t++]=a([0,0,0,0,0,0]);e.bln=a(),e.bps_0=e.start_state,e.bps_1=e.start_state,r[t++]=1/0;for(var X=0;X<4;X++)r[t++]=a([0,0,0,0,0,0]);e.bps=a(),r[t++]=1/0;for(var ce=0,te=e.msg.length;ce<te;ce++)r[t++]=a([0,0,0,0,0,0]);e.path=a(),e.make_tables=function(){e.num_digits=0;for(var Ae=0,Ye=e.msg.length-1;Ae<=Ye;Ae+=1){e.n=Ae,e.c=d(e.msg,e.n),r[t++]="num_digits",e.c>=48&&e.c<58?r[t++]=e.num_digits+1:r[t++]=0;var Qe=r[--t];e[r[--t]]=Qe,e.bln_2=e.bln_1,e.bln_1=e.bln_0,e.bln_0=d(e.bln,e.n&3),e.bps_2=e.bps_1,e.bps_1=e.bps_0,e.bps_0=d(e.bps,e.n&3),r[t++]="bps_c",e.num_digits>=2?r[t++]=e.bps_2:r[t++]=e.bps_1;var Ze=r[--t];e[r[--t]]=Ze,r[t++]="bln_c",e.num_digits>=2?r[t++]=e.bln_2:r[t++]=e.bln_1;var pt=r[--t];if(e[r[--t]]=pt,r[t++]=e.bln_0,r[t++]=0,e.can_a(),r[--t]){e.p=d(e.bps_1,0),g(d(e.path,e.n),0,e.p),r[t++]=C(d(e.bln_1,e.p)+d(e.latch_length_a0,e.p)),e.out_a0();var mt=r[--t],ut=r[--t];r[t++]=C(ut+mt)}else r[t++]=e.max_int;var vt=r[--t],it=r[--t];if(g(r[--t],it,vt),r[t++]=e.bln_0,r[t++]=3,e.can_a(),r[--t]){e.p=d(e.bps_1,3),g(d(e.path,e.n),3,e.p),r[t++]=C(d(e.bln_1,e.p)+d(e.latch_length_a1,e.p)),e.out_a1();var _t=r[--t],et=r[--t];r[t++]=C(et+_t)}else r[t++]=e.max_int;var Ht=r[--t],Gt=r[--t];if(g(r[--t],Gt,Ht),r[t++]=e.bln_0,r[t++]=1,e.can_b(),r[--t]){e.p=d(e.bps_1,1),g(d(e.path,e.n),1,e.p),r[t++]=C(d(e.bln_1,e.p)+d(e.latch_length_b0,e.p)),e.out_b0();var Ot=r[--t],ar=r[--t];r[t++]=C(ar+Ot)}else r[t++]=e.max_int;var Sr=r[--t],ir=r[--t];if(g(r[--t],ir,Sr),r[t++]=e.bln_0,r[t++]=4,e.can_b(),r[--t]){e.p=d(e.bps_1,4),g(d(e.path,e.n),4,e.p),r[t++]=C(d(e.bln_1,e.p)+d(e.latch_length_b1,e.p)),e.out_b1();var gr=r[--t],nr=r[--t];r[t++]=C(nr+gr)}else r[t++]=e.max_int;var Ir=r[--t],er=r[--t];g(r[--t],er,Ir),r[t++]=e.bln_0,r[t++]=2,e.can_c0(),r[--t]?(e.p=d(e.bps_c,2),g(d(e.path,e.n),2,e.p),r[t++]=C(d(e.bln_c,e.p)+d(e.latch_length_c0,e.p))+1):r[t++]=e.max_int;var ur=r[--t],Kt=r[--t];g(r[--t],Kt,ur),r[t++]=e.bln_0,r[t++]=5,e.can_c1(),r[--t]?(e.p=d(e.bps_c,5),g(d(e.path,e.n),5,e.p),r[t++]=C(d(e.bln_c,e.p)+d(e.latch_length_c1,e.p))+1):r[t++]=e.max_int;var Xt=r[--t],fr=r[--t];g(r[--t],fr,Xt),r[t++]=e.bps_0,r[t++]=0,O(e.prioritized_latch_length_a0),e.get_best_prior_state();var Mr=r[--t],Ur=r[--t];g(r[--t],Ur,Mr),r[t++]=e.bps_0,r[t++]=3,O(e.prioritized_latch_length_a1),e.get_best_prior_state();var ms=r[--t],Ft=r[--t];g(r[--t],Ft,ms),r[t++]=e.bps_0,r[t++]=1,O(e.prioritized_latch_length_b0),e.get_best_prior_state();var Vt=r[--t],tr=r[--t];g(r[--t],tr,Vt),r[t++]=e.bps_0,r[t++]=4,O(e.prioritized_latch_length_b1),e.get_best_prior_state();var br=r[--t],or=r[--t];g(r[--t],or,br),r[t++]=e.bps_0,r[t++]=2,O(e.prioritized_latch_length_c0),e.get_best_prior_state();var Br=r[--t],lr=r[--t];g(r[--t],lr,Br),r[t++]=e.bps_0,r[t++]=5,O(e.prioritized_latch_length_c1),e.get_best_prior_state();var Lt=r[--t],yr=r[--t];g(r[--t],yr,Lt)}},e.backtrack=function(){e.n=e.msg.length;for(var Ae=e.reverse_priority,Ye=0,Qe=Ae.length;Ye<Qe;Ye++){var Ze=d(Ae,Ye),pt=d(e.bln_0,Ze);r[t++]=Ze,r[t++]=pt,r[t++]=pt}t--,e.len=r[--t],e.state=r[--t];for(var mt=0;mt<5;mt++)wa(r[--t],e.len)?(e.len=r[--t],e.state=r[--t]):t-=2;for(r[t++]=a(e.len);!(e.n<=0);){e.prior_state=d(d(e.path,e.n-1),e.state),r[t++]=1/0,xe(d(d(e.latch_sequence,e.state),e.prior_state)),e.latch=a();var ut=(e.state==2||e.state==5)&&d(e.msg,e.n-1)>=48?2:1;if(e.n=e.n-ut,e.c=d(e.msg,e.n),r[t++]="enc",d(e.encode,e.state)()===!0)break;var vt=r[--t];e[r[--t]]=vt,e.len=C(e.len-e.latch.length-e.enc.length);var it=r[--t],_t=e.len,et=e.latch;R(it,_t,et),R(it,C(_t+et.length),e.enc),e.state=e.prior_state,r[t++]=it}var Ht=r[t-1];g(Ht,0,d(e.start_code,e.state))},e.make_tables(),e.backtrack(),e.cws=r[--t]}e.j=e.cws.length;var ye=a(e.j+2);R(ye,0,e.cws),e.cws=ye,e.csum=d(e.cws,0);for(var J=1,me=e.j-1;J<=me;J+=1)e.i=J,e.csum=C(e.csum+d(e.cws,e.i)*e.i);e.csum=e.csum%103,g(e.cws,e.j,e.csum),g(e.cws,e.j+1,106);var fe=d(e.options,"debugcws")!==void 0;fe&&(r[t++]="bwipp.debugcws#7483",r[t++]=e.cws,Q()),e.encs=a(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","2331112"]),e.sbs=Z(e.cws.length*6+1);for(var be=0,se=e.cws.length-1;be<=se;be+=1)e.i=be,R(e.sbs,e.i*6,d(e.encs,d(e.cws,e.i)));r[t++]=1/0,r[t++]=1/0;for(var ge=e.sbs,je=0,he=ge.length;je<he;je++)r[t++]=d(ge,je)-48;var ke=a();r[t++]=1/0;for(var we=0,Ne=~~((e.sbs.length+1)/2);we<Ne;we++)r[t++]=e.height;var ze=a();r[t++]=1/0;for(var _e=0,Je=~~((e.sbs.length+1)/2);_e<Je;_e++)r[t++]=0;var at=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ke,r[t++]="bhs",r[t++]=ze,r[t++]="bbs",r[t++]=at,r[t++]="txt",r[t++]=a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var nt=Pe();r[t++]=nt,e.dontdraw||Tt(),e=s}function ym(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=.5,e.linkagea=!1,e.linkagec=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.linkagea&&e.linkagec&&(r[t++]="bwipp.gs1128badLinkage#7580",r[t++]="linkagea and linkagec cannot be used together",Q()),e.text=e.barcode,r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.c128=a([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var o=a(e.c128.length+e.ai.length+e.val.length);R(o,0,e.c128),r[t++]=o,r[t++]=o,r[t++]=e.c128.length;var l=1/0,u=e.ai;r[t++]=l,xe(u);var f=a(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.c128.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,xe(x);var b=a(),v=r[--t];if(R(r[--t],v,b),e.c128=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var w=a(e.c128.length+1);R(w,0,e.c128),g(w,e.c128.length,e.fnc1),e.c128=w}}for(e.barcode=Z((e.c128.length+1)*5),e.i=0,e.j=0;e.i!=e.c128.length;){var y=d(e.c128,e.i);r[t++]=y,y==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}if(e.linkagea||e.linkagec){r[t++]=e.barcode,r[t++]=e.j,e.linkagea?r[t++]="^LNKA":r[t++]="^LNKC";var A=r[--t],k=r[--t];R(r[--t],k,A),e.j=e.j+5}e.barcode=S(e.barcode,0,e.j),delete e.options.parse,g(e.options,"height",e.height),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,X2();var E=r[--t];e[r[--t]]=E,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function yP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=Z(n.length),r[t++]=0,xe(n,function(){var k=r[t-1];if(k!=32){var E=r[--t],j=r[--t],N=r[t-1];g(N,j,E),r[t++]=j+1}else t--});var i=r[--t];e.barcode=S(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.ean14badLength#7695",r[t++]="EAN-14 must be 13 or 14 digits",Q()),Ee(S(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.ean14badAI#7698",r[t++]="EAN-14 must begin with (01) application identifier",Q());for(var o=S(e.barcode,4,e.barcode.length-4),l=0,u=o.length;l<u;l++){var f=d(o,l);(f<48||f>57)&&(r[t++]="bwipp.ean14badCharacter#7702",r[t++]="EAN-14 must contain only digits",Q())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=C(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==18)d(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.ean14badCheckDigit#7715",r[t++]="Incorrect EAN-14 check digit provided",Q());else{var b=Z(18);R(b,0,e.barcode),g(b,17,e.checksum+48),e.barcode=b;var v=e.hasspace?2:1,w=Z(e.text.length+v);R(w,w.length-2," "),g(w,w.length-1,e.checksum+48),R(w,0,e.text),e.text=w}e.gtin=S(e.barcode,4,14),e.barcode=Z(21),R(e.barcode,0,"^FNC101");var y=e.gtin;R(e.barcode,7,y),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,X2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function wP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=Z(n.length),r[t++]=0,xe(n,function(){var k=r[t-1];if(k!=32){var E=r[--t],j=r[--t],N=r[t-1];g(N,j,E),r[t++]=j+1}else t--});var i=r[--t];e.barcode=S(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=21&&e.barcode.length!=22&&(r[t++]="bwipp.sscc18badLength#7799",r[t++]="SSCC-18 must be 17 or 18 digits",Q()),Ee(S(e.barcode,0,4),"(00)")&&(r[t++]="bwipp.sscc18badAI#7802",r[t++]="SSCC-18 must begin with (00) application identifier",Q());for(var o=S(e.barcode,4,e.barcode.length-4),l=0,u=o.length;l<u;l++){var f=d(o,l);(f<48||f>57)&&(r[t++]="bwipp.sscc18badCharacter#7806",r[t++]="SSCC-18 must contain only digits",Q())}e.checksum=0;for(var h=0;h<=16;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=C(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==22)d(e.barcode,21)!=e.checksum+48&&(r[t++]="bwipp.sscc18badCheckDigit#7819",r[t++]="Incorrect SSCC-18 check digit provided",Q());else{var b=Z(22);R(b,0,e.barcode),g(b,21,e.checksum+48),e.barcode=b;var v=e.hasspace?2:1,w=Z(e.text.length+v);R(w,w.length-2," "),g(w,w.length-1,e.checksum+48),R(w,0,e.text),e.text=w}e.sscc=S(e.barcode,4,18),e.barcode=Z(25),R(e.barcode,0,"^FNC100");var y=e.sscc;R(e.barcode,7,y),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,X2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function Z2(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.hidestars=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code39emptyData#7899",r[t++]="The data must not be empty",Q()),e.encs=a(["1113313111","3113111131","1133111131","3133111111","1113311131","3113311111","1133311111","1113113131","3113113111","1133113111","3111131131","1131131131","3131131111","1111331131","3111331111","1131331111","1111133131","3111133111","1131133111","1111333111","3111111331","1131111331","3131111311","1111311331","3111311311","1131311311","1111113331","3111113311","1131113311","1111313311","3311111131","1331111131","3331111111","1311311131","3311311111","1331311111","1311113131","3311113111","1331113111","1313131111","1313111311","1311131311","1113131311","1311313111"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.code39badCharacter#7927",r[t++]="Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.code39badCheckDigit#7941",r[t++]="Incorrect Code 39 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen),e.includecheck=!0);var m=e.includecheck?3:2;e.sbs=Z(C(e.barlen+m)*10);var x=e.includecheck?3:2;e.txt=a(C(e.barlen+x)),R(e.sbs,0,d(e.encs,43)),e.hidestars?g(e.txt,0,a(["",0,e.textyoffset,e.textfont,e.textsize])):g(e.txt,0,a(["*",0,e.textyoffset,e.textfont,e.textsize]));for(var b=0,v=e.barlen-1;b<=v;b+=1)e.i=b,e.indx=d(e.charvals,S(e.barcode,e.i,1)),R(e.sbs,e.i*10+10,d(e.encs,e.indx)),g(e.txt,e.i+1,a([S(e.barcode,e.i,1),(e.i+1)*16,e.textyoffset,e.textfont,e.textsize]));e.includecheck?(R(e.sbs,e.barlen*10+10,d(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen+1,a([S(e.barchars,e.checksum,1),(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+1,a(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])),R(e.sbs,e.barlen*10+20,d(e.encs,43)),e.hidestars?g(e.txt,e.barlen+2,a(["",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+2,a(["*",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize]))):(R(e.sbs,e.barlen*10+10,d(e.encs,43)),e.hidestars?g(e.txt,e.barlen+1,a(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+1,a(["*",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize]))),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,y=0,A=w.length;y<A;y++)r[t++]=d(w,y)-48;var k=a();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=e.height;var N=a();r[t++]=1/0;for(var I=0,M=~~((e.sbs.length+1)/2);I<M;I++)r[t++]=0;var B=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=B,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var F=Pe();r[t++]=F,e.dontdraw||Tt(),e=s}function AP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,xe(e.barcode,function(){r[--t]>=128&&(r[t++]="bwipp.code39extBadCharacter#8061",r[t++]="Code 39 Extended must contain only ASCII characters",Q())}),e.extencs=a(["%U","$A","$B","$C","$D","$E","$F","$G","$H","$I","$J","$K","$L","$M","$N","$O","$P","$Q","$R","$S","$T","$U","$V","$W","$X","$Y","$Z","%A","%B","%C","%D","%E"," ","/A","/B","/C","/D","/E","/F","/G","/H","/I","/J","/K","/L","-",".","/O","0","1","2","3","4","5","6","7","8","9","/Z","%F","%G","%H","%I","%J","%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","%K","%L","%M","%N","%O","%W","+A","+B","+C","+D","+E","+F","+G","+H","+I","+J","+K","+L","+M","+N","+O","+P","+Q","+R","+S","+T","+U","+V","+W","+X","+Y","+Z","%P","%Q","%R","%S","%T"]),e.newcode=Z(e.barlen*2),e.newtext=Z(e.barlen*2),e.j=0;for(var o=0,l=e.barlen-1;o<=l;o+=1){e.i=o,e.extchar=d(e.extencs,d(e.barcode,e.i)),R(e.newcode,e.j,e.extchar);var u=d(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.j,r[t++]=u,(u<32||u==127)&&(r[t-1]=32);var f=r[--t],h=r[--t];g(r[--t],h,f),e.extchar.length!=1&&g(e.newtext,e.j+1,32),e.j=e.j+e.extchar.length}e.newcode=S(e.newcode,0,e.j),e.newtext=S(e.newtext,0,e.j),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,Z2();var p=r[--t];if(e[r[--t]]=p,e.includetext){e.txt=d(e.args,"txt");for(var m=0,x=e.newtext.length-1;m<=x;m+=1)e.i=m,e.txtentry=d(e.txt,e.i+1),g(e.txtentry,0,S(e.newtext,e.i,1)),g(e.txt,e.i+1,e.txtentry);g(e.args,"txt",e.txt)}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function kP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=8&&e.barcode.length!=9&&(r[t++]="bwipp.code32badLength#8160",r[t++]="Italian Pharmacode must be 8 or 9 digits",Q()),xe(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.code32badCharacter#8164",r[t++]="Italian Pharmacode must contain only digits",Q())}),e.checksum=0;for(var n=0;n<=7;n+=1){if(e.i=n,r[t++]=d(e.barcode,e.i)-48,e.i%2!=0){var i=r[--t];r[t++]=i*2}var o=r[t-1];if(o>9){var l=r[--t];r[t++]=l-9}e.checksum=C(r[--t]+e.checksum)}e.checksum=e.checksum%10,e.barcode.length==9&&d(e.barcode,8)!=e.checksum+48&&(r[t++]="bwipp.code32badCheckDigit#8178",r[t++]="Incorrect Italian Pharmacode check digit provided",Q());var u=Z(10);R(u,0,e.barcode),g(u,8,e.checksum+48),e.text=u,e.val=qt(Z(6),Ie(e.text),32),e.barcode=Z(6);for(var f=0;f<=5;f+=1)g(e.barcode,f,48);R(e.barcode,6-e.val.length,e.val);for(var h=0;h<=5;h+=1){var p=d(e.barcode,h);r[t++]=h,r[t++]=p,r[t++]=p;for(var m=0,x=4;m<x;m++){if(r[--t]>=d("AEIO",m)){var b=r[--t];r[t++]=b+1}var v=r[t-1];r[t++]=v}r[t-1]=e.barcode;var w=r[t-2],y=r[t-3];g(r[t-1],y,w),t-=3}R(e.text,1,S(e.text,0,9)),g(e.text,0,65),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Z2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function jP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,e.pzn8=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.pzn8?e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.pzn8badLength#8261",r[t++]="PZN8 must be 7 or 8 digits",Q()):e.barcode.length!=6&&e.barcode.length!=7&&(r[t++]="bwipp.pzn7badLength#8265",r[t++]="PZN7 must be 6 or 7 digits",Q()),xe(e.barcode,function(){var p=r[--t];(p<48||p>57)&&(r[t++]="bwipp.pznBadCharacter#8270",r[t++]="PZN must contain only digits",Q())});var n=e.pzn8?9:8;e.msglen=n,e.checksum=0;for(var i=0,o=e.msglen-3;i<=o;i+=1){e.i=i;var l=e.pzn8?1:2;e.checksum=C((d(e.barcode,e.i)-48)*(e.i+l)+e.checksum)}e.checksum=e.checksum%11,e.checksum==10&&(r[t++]="bwipp.pznBadInputSequence#8284",r[t++]="Incorrect PZN input sequence provided",Q()),e.barcode.length==e.msglen-1&&d(e.barcode,e.msglen-2)!=e.checksum+48&&(r[t++]="bwipp.pznBadCheckDigit#8288",r[t++]="Incorrect PZN check digit provided",Q());var u=Z(e.msglen);g(u,0,45),R(u,1,e.barcode),g(u,e.msglen-1,e.checksum+48),e.msg=u,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.msg,r[t++]=e.options,Z2();var f=r[--t];e[r[--t]]=f,e.text=Z(e.msglen+5),R(e.text,0,"PZN - "),R(e.text,6,S(e.msg,1,e.msglen-1));var h=a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]);g(e.args,"txt",h),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function P9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.encs=a(["131112","111213","111312","111411","121113","121212","121311","111114","131211","141111","211113","211212","211311","221112","221211","231111","112113","112212","112311","122112","132111","111123","111222","111321","121122","131121","212112","212211","211122","211221","221121","222111","112122","112221","122121","123111","121131","311112","311211","321111","112131","113121","211131","121221","312111","311121","122211","111141","1111411"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,d(e.barchars,n),n);e.sft1=-1,e.sft2=-2,e.sft3=-3,e.sft4=-4,g(e.charvals,e.sft1,43),g(e.charvals,e.sft2,44),g(e.charvals,e.sft3,45),g(e.charvals,e.sft4,46);var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["SFT$",e.sft1],["SFT%",e.sft2],["SFT/",e.sft3],["SFT+",e.sft4]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,xe(e.msg,function(){var B=d(e.charvals,r[--t])!==void 0;B||(r[t++]="bwipp.code93BadCharacter#8405",r[t++]="Code 93 must only contain digits, capital letters, spaces, the symbols -.$/+ and shift non-data characters",Q())}),e.includecheck?e.sbs=Z(e.msglen*6+25):e.sbs=Z(e.msglen*6+13),e.txt=a(e.msglen),R(e.sbs,0,d(e.encs,47)),e.checksum1=0,e.checksum2=0;for(var l=0,u=e.msglen-1;l<=u;l+=1){e.i=l,e.indx=d(e.charvals,d(e.msg,e.i)),R(e.sbs,e.i*6+6,d(e.encs,e.indx));var f=d(e.msg,e.i);if(r[t++]="char",r[t++]=f,f<0)r[t-1]=" ";else{var h=Z(1);r[t++]=h,r[t++]=h,r[t++]=0,Es(4,-1);var p=r[--t],m=r[--t];g(r[--t],m,p)}var x=r[--t];e[r[--t]]=x,g(e.txt,e.i,a([e.char,e.i*9+9,e.textyoffset,e.textfont,e.textsize])),e.checksum1=C(e.checksum1+((e.msglen-e.i-1)%20+1)*e.indx),e.checksum2=C(e.checksum2+((e.msglen-e.i)%15+1)*e.indx)}e.includecheck?(e.checksum1=e.checksum1%47,e.checksum2=C(e.checksum2+e.checksum1)%47,R(e.sbs,e.msglen*6+6,d(e.encs,e.checksum1)),R(e.sbs,e.msglen*6+12,d(e.encs,e.checksum2)),R(e.sbs,e.msglen*6+18,d(e.encs,48))):R(e.sbs,e.msglen*6+6,d(e.encs,48)),r[t++]=1/0,r[t++]=1/0;for(var b=e.sbs,v=0,w=b.length;v<w;v++)r[t++]=d(b,v)-48;var y=a();r[t++]=1/0;for(var A=0,k=~~((e.sbs.length+1)/2);A<k;A++)r[t++]=e.height;var E=a();r[t++]=1/0;for(var j=0,N=~~((e.sbs.length+1)/2);j<N;j++)r[t++]=0;var I=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=y,r[t++]="bhs",r[t++]=E,r[t++]="bbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var M=Pe();r[t++]=M,e.dontdraw||Tt(),e=s}function NP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.extencs=a(["^SFT%U","^SFT$A","^SFT$B","^SFT$C","^SFT$D","^SFT$E","^SFT$F","^SFT$G","^SFT$H","^SFT$I","^SFT$J","^SFT$K","^SFT$L","^SFT$M","^SFT$N","^SFT$O","^SFT$P","^SFT$Q","^SFT$R","^SFT$S","^SFT$T","^SFT$U","^SFT$V","^SFT$W","^SFT$X","^SFT$Y","^SFT$Z","^SFT%A","^SFT%B","^SFT%C","^SFT%D","^SFT%E"," ","^SFT/A","^SFT/B","^SFT/C","$","%","^SFT/F","^SFT/G","^SFT/H","^SFT/I","^SFT/J","+","^SFT/L","-",".","/","0","1","2","3","4","5","6","7","8","9","^SFT/Z","^SFT%F","^SFT%G","^SFT%H","^SFT%I","^SFT%J","^SFT%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","^SFT%K","^SFT%L","^SFT%M","^SFT%N","^SFT%O","^SFT%W","^SFT+A","^SFT+B","^SFT+C","^SFT+D","^SFT+E","^SFT+F","^SFT+G","^SFT+H","^SFT+I","^SFT+J","^SFT+K","^SFT+L","^SFT+M","^SFT+N","^SFT+O","^SFT+P","^SFT+Q","^SFT+R","^SFT+S","^SFT+T","^SFT+U","^SFT+V","^SFT+W","^SFT+X","^SFT+Y","^SFT+Z","^SFT%P","^SFT%Q","^SFT%R","^SFT%S","^SFT%T"]),e.newcode=Z(e.barlen*6),e.newtext=Z(e.barlen*6),e.j=0,e.k=0;for(var o=0,l=e.barlen-1;o<=l;o+=1){e.i=o;var u=d(e.barcode,e.i);r[t++]=u,u>127&&(t--,r[t++]="bwipp.code93extbadCharacter#8542",r[t++]="Code 93 Extended only support ASCII characters with values 0 to 127",Q()),e.extchar=d(e.extencs,r[--t]),e.extlen=e.extchar.length,R(e.newcode,e.j,e.extchar);var f=d(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.k,r[t++]=f,(f<32||f==127)&&(r[t-1]=32);var h=r[--t],p=r[--t];g(r[--t],p,h),e.extlen!=1&&g(e.newtext,e.k+1,32),e.j=e.j+e.extlen;var m=e.extlen==1?1:2;e.k=e.k+m}e.newcode=S(e.newcode,0,e.j),e.newtext=S(e.newtext,0,e.k),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,P9();var x=r[--t];if(e[r[--t]]=x,e.includetext){e.txt=d(e.args,"txt");for(var b=0,v=e.newtext.length-1;b<=v;b+=1)e.i=b,e.txtentry=d(e.txt,e.i),g(e.txtentry,0,S(e.newtext,e.i,1)),g(e.txt,e.i,e.txtentry);g(e.args,"txt",e.txt)}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function Mf(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],xe(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.interleaved2of5badCharacter#8628",r[t++]="Interleaved 2 of 5 must contain only digits",Q())}),e.barlen=e.barcode.length,(e.barlen%2==0&&e.includecheck||e.barlen%2!=0&&!e.includecheck)&&(e.pad=Z(e.barlen+1),g(e.pad,0,48),R(e.pad,1,e.barcode),e.barcode=e.pad,e.barlen=e.barlen+1),e.includecheck){e.checksum=0;for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.i%2==0?e.checksum=e.checksum+(d(e.barcode,e.i)-48)*3:e.checksum=e.checksum+(d(e.barcode,e.i)-48);e.checksum=(10-e.checksum%10)%10,e.pad=Z(e.barlen+1),R(e.pad,0,e.barcode),g(e.pad,e.barlen,e.checksum+48),e.barcode=e.pad,e.barlen=e.barlen+1}e.encs=a(["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121","1111","2111"]),e.barchars="0123456789",e.sbs=Z(e.barlen*5+8),e.txt=a(e.barlen),R(e.sbs,0,d(e.encs,10));for(var o=0,l=e.barlen-1;o<=l;o+=2){e.i=o,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enca=d(e.encs,e.indx),Rt(e.barchars,S(e.barcode,e.i+1,1)),t--,e.indx=r[--t].length,t-=2,e.encb=d(e.encs,e.indx),e.intl=Z(e.enca.length*2);for(var u=0,f=e.enca.length-1;u<=f;u+=1)e.j=u,e.achar=d(e.enca,e.j),e.bchar=d(e.encb,e.j),g(e.intl,e.j*2,e.achar),g(e.intl,e.j*2+1,e.bchar);R(e.sbs,e.i*5+4,e.intl),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*9+4,e.textyoffset,e.textfont,e.textsize])),e.includecheck&&!e.includecheckintext&&e.barlen-2==e.i?g(e.txt,e.i+1,a([" ",(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.i+1,a([S(e.barcode,e.i+1,1),(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize]))}R(e.sbs,e.barlen*5+4,d(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var h=e.sbs,p=0,m=h.length;p<m;p++)r[t++]=d(h,p)-48;var x=a();r[t++]=1/0;for(var b=0,v=~~((e.sbs.length+1)/2);b<v;b++)r[t++]=e.height;var w=a();r[t++]=1/0;for(var y=0,A=~~((e.sbs.length+1)/2);y<A;y++)r[t++]=0;var k=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=x,r[t++]="bhs",r[t++]=w,r[t++]="bbs",r[t++]=k,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="barratio",r[t++]=2,r[t++]="spaceratio",r[t++]=2,r[t++]="opt",r[t++]=e.options;var E=Pe();r[t++]=E,e.dontdraw||Tt(),e=s}function CP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!0,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-3.5,e.height=.5,e.showborder=!0,e.borderwidth=4,e.borderleft=10,e.borderright=10,e.bordertop=-.55,e.borderbottom=-.55,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=Z(n.length),r[t++]=0,xe(n,function(){var E=r[t-1];if(E!=32){var j=r[--t],N=r[--t],I=r[t-1];g(I,N,j),r[t++]=N+1}else t--});var i=r[--t];e.barcode=S(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.itf14badLength#8796",r[t++]="ITF-14 must be 13 or 14 digits",Q());for(var o=e.barcode,l=0,u=o.length;l<u;l++){var f=d(o,l);(f<48||f>57)&&(r[t++]="bwipp.itf14badCharacter#8800",r[t++]="ITF-14 must contain only digits",Q())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=C(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==14)d(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.itf14badCheckDigit#8813",r[t++]="Incorrect ITF-14 check digit provided",Q());else{var b=Z(14);R(b,0,e.barcode),g(b,13,e.checksum+48),e.barcode=b;var v=e.hasspace?2:1,w=Z(e.text.length+v);R(w,w.length-2," "),g(w,w.length-1,e.checksum+48),R(w,0,e.text),e.text=w}var y=e.options;g(y,"dontdraw",!0),g(e.options,"showborder",e.showborder),g(e.options,"borderwidth",e.borderwidth),g(e.options,"borderleft",e.borderleft),g(e.options,"borderright",e.borderright);var A=e.options;g(A,"bordertop",e.bordertop),g(e.options,"borderbottom",e.borderbottom),g(e.options,"height",e.height),g(e.options,"textyoffset",e.textyoffset),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Mf();var k=r[--t];e[r[--t]]=k,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function SP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.identcodeBadLength#8891",r[t++]="Deutsche Post Identcode must be 11 or 12 digits",Q()),xe(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.identcodeBadCharacter#8895",r[t++]="Deutsche Post Identcode must contain only digits",Q())}),e.checksum=0;for(var n=0;n<=10;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var l=r[--t],u=r[--t];e[r[--t]]=C(u+l)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&d(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.identcodeBadCheckDigit#8908",r[t++]="Incorrect Deutsche Post Identcode check digit provided",Q());var f=Z(12);R(f,0,e.barcode),g(f,11,e.checksum+48),e.barcode=f,e.text=Tr(Z(16),"  .       .     "),R(e.text,0,S(e.barcode,0,2)),R(e.text,3,S(e.barcode,2,3)),R(e.text,7,S(e.barcode,5,3)),R(e.text,11,S(e.barcode,8,3)),R(e.text,15,S(e.barcode,11,1)),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Mf();var p=r[--t];e[r[--t]]=p;var m=e.textsize;g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function EP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.leitcodeBadLength#8981",r[t++]="Deutsche Post Leitcode must be 13 or 14 digits",Q()),xe(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.leitcodeBadCharacter#8985",r[t++]="Deutsche Post Leitcode must contain only digits",Q())}),e.checksum=0;for(var n=0;n<=12;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var l=r[--t],u=r[--t];e[r[--t]]=C(u+l)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==14&&d(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.leitcodeBadCheckDigit#8998",r[t++]="Incorrect Deutsche Post Leitcode check digit provided",Q());var f=Z(14);R(f,0,e.barcode),g(f,13,e.checksum+48),e.barcode=f,e.text=Tr(Z(18),"     .   .   .    "),R(e.text,0,S(e.barcode,0,5)),R(e.text,6,S(e.barcode,5,3)),R(e.text,10,S(e.barcode,8,3)),R(e.text,14,S(e.barcode,11,2)),R(e.text,17,S(e.barcode,13,1)),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Mf();var p=r[--t];e[r[--t]]=p;var m=e.textsize;g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function ed(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.height=33/72,e.linkage=!1,e.format="omni",e.barxmult=33,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databaromniBadLength#9070",r[t++]="GS1 DataBar Omnidirectional must be 13 or 14 digits",Q()),Ee(S(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databaromniBadAI#9073",r[t++]="GS1 DataBar Omnidirectional must begin with (01) application identifier",Q());for(var n=S(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var l=d(n,i);(l<48||l>57)&&(r[t++]="bwipp.databaromniBadCharacter#9077",r[t++]="GS1 DataBar Omnidirectional must contain only digits",Q())}e.barxmult<33&&(r[t++]="bwipp.databarStackedOmniBarXmult#9082",r[t++]="GS1 DataBar Stacked Omnidirectional must have a barxmult of at least 33",Q()),Ee(e.format,"omni")&&Ee(e.format,"stacked")&&Ee(e.format,"stackedomni")&&Ee(e.format,"truncated")&&(r[t++]="bwipp.databaromniBadFormat#9086",r[t++]="Valid formats are omni, stacked, stackedomni and truncated",Q()),W(e.format,"truncated")&&(e.height=13/72),e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=C(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&d(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databaromniBadCheckDigit#9102",r[t++]="Incorrect GS1 DataBar Omnidirectional check digit provided",Q());var m=Z(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,e.txt=a(e.barcode.length);for(var x=0,b=e.barcode.length-1;x<=b;x+=1)e.i=x,g(e.txt,e.i,a([S(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var jt=r[--t],U=r[--t],$=C(U-jt);if(jt<C(U-jt)){var P=$;$=jt,jt=P}r[t++]=$,r[t++]=1,r[t++]=1;for(var q=U,X=jt+1;q>=X;q-=1){var ce=r[--t],te=r[t-1],ye=r[t-2];if(r[t++]=ce*q,Cc(te,ye)){var J=r[--t],me=r[--t];r[t++]=me+1,r[t++]=~~(J/me)}}for(;;){var fe=r[t-2],be=r[t-3];if(Li(fe,be))break;var se=r[--t],ge=r[--t];r[t++]=ge+1,r[t++]=~~(se/ge)}var je=r[--t];r[t-1]=je;var he=r[--t];r[t-1]=he},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=a(e.el),e.mask=0;for(var jt=0,U=e.el-2;jt<=U;jt+=1){e.bar=jt,e.ew=1;var $=e.bar;for(e.mask=e.mask|($<0?1>>>-$:1<<$);;){r[t++]="sval",r[t++]=C(e.nm-e.ew)-1,r[t++]=C(e.el-e.bar)-2,e.ncr();var P=r[--t];if(e[r[--t]]=P,e.oe&&e.mask==0&&C(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=C(e.nm-e.ew-e.el+e.bar),r[t++]=C(e.el-e.bar)-2,e.ncr();var q=r[--t],X=r[--t];e[r[--t]]=C(X-q)}if(C(e.el-e.bar)>2){e.lval=0;for(var ce=C(e.nm-e.ew-e.el+e.bar)+2,te=e.mw+1;ce>=te;ce-=1)r[t++]=C(e.nm-ce-e.ew)-1,r[t++]=C(e.el-e.bar)-3,e.ncr(),e.lval=C(r[--t]+e.lval);e.sval=C(e.sval-e.lval*(e.el-e.bar-1))}else C(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=C(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var ye=e.bar;e.mask=e.mask&~(ye<0?1>>>-ye:1<<ye)}e.val=C(e.val+e.sval),e.nm=C(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out},r[t++]=1/0;var v=e.linkage?1:0,w=S(e.barcode,4,13);r[t++]=v;for(var y=0,A=w.length;y<A;y++)r[t++]=d(w,y)-48;e.binval=a();for(var k=0;k<=12;k+=1){e.i=k;var E=e.binval,j=e.i;g(E,j+1,C(d(E,j+1)+d(e.binval,e.i)%4537077*10)),g(e.binval,e.i,~~(d(e.binval,e.i)/4537077))}e.right=d(e.binval,13)%4537077;var N=e.binval;g(N,13,~~(d(N,13)/4537077)),e.left=0,e.i=!0;for(var I=0;I<=13;I+=1){e.j=I;var M=d(e.binval,e.j);if(r[t++]=M,M==0&&e.i)t--;else{e.i=!1,r[t++]="left",r[t++]=e.left;var B=r[t-3],F=r[t-1];e[r[t-2]]=C(F+B*~~v1(10,13-e.j)),t-=3}}for(e.d1=~~(e.left/1597),e.d2=e.left%1597,e.d3=~~(e.right/1597),e.d4=e.right%1597,e.tab164=a([160,0,12,4,8,1,161,1,960,161,10,6,6,3,80,10,2014,961,8,8,4,5,31,34,2714,2015,6,10,3,6,10,70,2840,2715,4,12,1,8,1,126]),e.tab154=a([335,0,5,10,2,7,4,84,1035,336,7,8,4,5,20,35,1515,1036,9,6,6,3,48,10,1596,1516,11,4,8,1,81,1]),e.i=0;;){if(e.d1<=d(e.tab164,e.i)){O(S(e.tab164,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=d(e.tab154,e.i)){O(S(e.tab154,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d3<=d(e.tab164,e.i)){O(S(e.tab164,e.i+1,7)),e.d3te=r[--t],e.d3to=r[--t],e.d3mwe=r[--t],e.d3mwo=r[--t],e.d3ele=r[--t],e.d3elo=r[--t],e.d3gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d4<=d(e.tab154,e.i)){O(S(e.tab154,e.i+1,7)),e.d4te=r[--t],e.d4to=r[--t],e.d4mwe=r[--t],e.d4mwo=r[--t],e.d4ele=r[--t],e.d4elo=r[--t],e.d4gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(C(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var D=r[--t];e[r[--t]]=D,r[t++]="d1we",r[t++]=C(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var H=r[--t];e[r[--t]]=H,r[t++]="d2wo",r[t++]=C(e.d2-e.d2gs)%e.d2to,r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var T=r[--t];e[r[--t]]=T,r[t++]="d2we",r[t++]=~~(C(e.d2-e.d2gs)/e.d2to),r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d3wo",r[t++]=~~(C(e.d3-e.d3gs)/e.d3te),r[t++]=e.d3elo,r[t++]=e.d3mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,r[t++]="d3we",r[t++]=C(e.d3-e.d3gs)%e.d3te,r[t++]=e.d3ele,r[t++]=e.d3mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var z=r[--t];e[r[--t]]=z,r[t++]="d4wo",r[t++]=C(e.d4-e.d4gs)%e.d4to,r[t++]=e.d4elo,r[t++]=e.d4mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var G=r[--t];e[r[--t]]=G,r[t++]="d4we",r[t++]=~~(C(e.d4-e.d4gs)/e.d4to),r[t++]=e.d4ele,r[t++]=e.d4mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var K=r[--t];e[r[--t]]=K,e.d1w=a(8);for(var oe=0;oe<=3;oe+=1)e.i=oe,g(e.d1w,e.i*2,d(e.d1wo,e.i)),g(e.d1w,e.i*2+1,d(e.d1we,e.i));e.d2w=a(8);for(var V=0;V<=3;V+=1)e.i=V,g(e.d2w,7-e.i*2,d(e.d2wo,e.i)),g(e.d2w,6-e.i*2,d(e.d2we,e.i));e.d3w=a(8);for(var Y=0;Y<=3;Y+=1)e.i=Y,g(e.d3w,7-e.i*2,d(e.d3wo,e.i)),g(e.d3w,6-e.i*2,d(e.d3we,e.i));e.d4w=a(8);for(var ie=0;ie<=3;ie+=1)e.i=ie,g(e.d4w,e.i*2,d(e.d4wo,e.i)),g(e.d4w,e.i*2+1,d(e.d4we,e.i));r[t++]=1/0,O(e.d1w),O(e.d2w),O(e.d3w),O(e.d4w),e.widths=a(),e.checkweights=a([1,3,9,27,2,6,18,54,58,72,24,8,29,36,12,4,74,51,17,32,37,65,48,16,64,34,23,69,49,68,46,59]),e.checkwidths=a([3,8,2,1,1,3,5,5,1,1,3,3,7,1,1,3,1,9,1,1,2,7,4,1,1,2,5,6,1,1,2,3,8,1,1,1,5,7,1,1,1,3,9,1,1]),e.checksum=0;for(var de=0;de<=31;de+=1)e.i=de,e.checksum=C(e.checksum+d(e.widths,e.i)*d(e.checkweights,e.i));e.checksum=e.checksum%79,e.checksum>=8&&(e.checksum=e.checksum+1),e.checksum>=72&&(e.checksum=e.checksum+1),e.checklt=S(e.checkwidths,~~(e.checksum/9)*5,5),e.checkrtrev=S(e.checkwidths,e.checksum%9*5,5),e.checkrt=a(5);for(var re=0;re<=4;re+=1)e.i=re,g(e.checkrt,e.i,d(e.checkrtrev,4-e.i));if(W(e.format,"omni")||W(e.format,"truncated")){r[t++]=1/0,r[t++]=1,O(e.d1w),O(e.checklt),O(e.d2w),O(e.d4w),O(e.checkrt),O(e.d3w),r[t++]=1,r[t++]=1,e.sbs=a(),r[t++]=1/0;var ne=e.sbs;r[t++]=1/0;for(var le=0,ue=~~((e.sbs.length+1)/2);le<ue;le++)r[t++]=e.height;var Me=a();r[t++]=1/0;for(var pe=0,Fe=~~((e.sbs.length+1)/2);pe<Fe;pe++)r[t++]=0;var Ce=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ne,r[t++]="bhs",r[t++]=Me,r[t++]="bbs",r[t++]=Ce,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var ve=Pe();r[t++]=ve,e.dontdraw||Tt()}else{r[t++]=1/0,r[t++]=1,r[t++]=1,O(e.d1w),O(e.checklt),O(e.d2w),r[t++]=1,r[t++]=1,r[t++]=0,e.top=a(),r[t++]=1/0,r[t++]=1,r[t++]=1,O(e.d4w),O(e.checkrt),O(e.d3w),r[t++]=1,r[t++]=1,r[t++]=0,e.bot=a();for(var Be=0;Be<=24;Be+=2){e.i=Be;for(var Ue=0,Xe=d(e.top,e.i);Ue<Xe;Ue++)r[t++]=0;for(var Re=0,Ge=d(e.top,e.i+1);Re<Ge;Re++)r[t++]=1}Wt(a(50)),e.top=r[--t];for(var Oe=0;Oe<=24;Oe+=2){e.i=Oe;for(var Le=0,rt=d(e.bot,e.i);Le<rt;Le++)r[t++]=1;for(var Se=0,qe=d(e.bot,e.i+1);Se<qe;Se++)r[t++]=0}if(Wt(a(50)),e.bot=r[--t],W(e.format,"stacked")){e.sep=a(50),g(e.sep,0,0);for(var We=1;We<=49;We+=1)e.i=We,W(d(e.top,e.i),d(e.bot,e.i))?g(e.sep,e.i,1-d(e.top,e.i)):g(e.sep,e.i,1-d(e.sep,e.i-1));R(e.sep,0,a([0,0,0,0])),R(e.sep,46,a([0,0,0,0])),r[t++]=1/0;for(var Ke=0;Ke<5;Ke++)O(e.top);O(e.sep);for(var Te=0;Te<7;Te++)O(e.bot);e.pixs=a(),e.pixy=~~(e.pixs.length/50)}if(W(e.format,"stackedomni")){r[t++]=1/0,xe(e.top,function(){var jt=r[--t];r[t++]=1-jt}),e.sep1=a(),R(e.sep1,0,a([0,0,0,0])),R(e.sep1,46,a([0,0,0,0]));for(var He=18;He<=30;He+=1){if(e.i=He,d(e.top,e.i)==0)if(d(e.top,e.i-1)==1)r[t++]=1;else{var st=d(e.sep1,e.i-1)==0?1:0;r[t++]=st}else r[t++]=0;g(e.sep1,e.i,r[--t])}r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var gt=0;gt<21;gt++)r[t++]=0,r[t++]=1;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.sep2=a(),r[t++]=1/0,xe(e.bot,function(){var jt=r[--t];r[t++]=1-jt}),e.sep3=a(),R(e.sep3,0,a([0,0,0,0])),R(e.sep3,46,a([0,0,0,0]));for(var ht=19;ht<=31;ht+=1){if(e.i=ht,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var bt=d(e.sep3,e.i-1)==0?1:0;r[t++]=bt}else r[t++]=0;g(e.sep3,e.i,r[--t])}e.f3=a([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var Et=0;Et<=12;Et+=1){var kt=r[--t];r[t++]=kt&&W(d(e.bot,Et+19),d(e.f3,Et))}r[--t]&&R(e.sep3,19,a([0,0,0,0,0,0,0,0,0,0,1,0,0])),r[t++]=1/0;for(var wt=0,Mt=e.barxmult;wt<Mt;wt++)O(e.top);O(e.sep1),O(e.sep2),O(e.sep3);for(var It=0,zt=e.barxmult;It<zt;It++)O(e.bot);e.pixs=a(),e.pixy=~~(e.pixs.length/50)}var Bt=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",50],["pixy",e.pixy],["height",e.pixy/72],["width",50/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Bt,e.dontdraw||xt()}e=s}function U9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedBadLength#9532",r[t++]="GS1 DataBar Stacked must be 13 or 14 digits",Q()),Ee(S(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedBadAI#9535",r[t++]="GS1 DataBar Stacked must begin with (01) application identifier",Q());for(var n=S(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var l=d(n,i);(l<48||l>57)&&(r[t++]="bwipp.databarstackedBadCharacter#9539",r[t++]="GS1 DataBar Stacked must contain only digits",Q())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=C(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&d(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedBadCheckDigit#9552",r[t++]="Incorrect GS1 DataBar Stacked check digit provided",Q());var m=Z(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","stacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ed();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function O9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Ee(S(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedomniBadAI#9610",r[t++]="GS1 DataBar Stacked Omnidirectional must begin with (01) application identifier",Q()),e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedomniBadLength#9613",r[t++]="GS1 DataBar Stacked Omnidirectional must be 13 or 14 digits",Q());for(var n=S(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var l=d(n,i);(l<48||l>57)&&(r[t++]="bwipp.databarstackedomniBadCharacter#9617",r[t++]="GS1 DataBar Stacked Omnidirectional must contain only digits",Q())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=C(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&d(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedomniBadCheckDigit#9630",r[t++]="Incorrect GS1 DataBar Stacked Omnidirectional check digit provided",Q());var m=Z(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","stackedomni"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ed();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function z9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databartruncatedBadLength#9688",r[t++]="GS1 DataBar Truncated must be 13 or 14 digits",Q()),Ee(S(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databartruncatedBadAI#9691",r[t++]="GS1 DataBar Truncated must begin with (01) application identifier",Q());for(var n=S(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var l=d(n,i);(l<48||l>57)&&(r[t++]="bwipp.databartruncatedBadCharacter#9695",r[t++]="GS1 DataBar Truncated must contain only digits",Q())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=C(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&d(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databartruncatedBadCheckDigit#9708",r[t++]="Incorrect GS1 DataBar Truncated check digit provided",Q());var m=Z(18);R(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","truncated"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,ed();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function L9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.height=10/72,e.linkage=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarlimitedBadLength#9771",r[t++]="GS1 DataBar Limited must be 13 or 14 digits",Q()),Ee(S(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarlimitedBadAI#9774",r[t++]="GS1 DataBar Limited must begin with (01) application identifier",Q());var n=d(e.barcode,4);(n<48||n>49)&&(r[t++]="bwipp.databarlimitedBadStartDigit#9777",r[t++]="GS1 DataBar Limited must begin with 0 or 1",Q());for(var i=S(e.barcode,5,e.barcode.length-5),o=0,l=i.length;o<l;o++){var u=d(i,o);(u<48||u>57)&&(r[t++]="bwipp.databarlimitedBadCharacter#9781",r[t++]="GS1 DataBar Limited must contain only digits",Q())}e.checksum=0;for(var f=0;f<=12;f+=1){if(e.i=f,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i+4)-48,e.i%2==0){var h=r[--t];r[t++]=h*3}var p=r[--t],m=r[--t];e[r[--t]]=C(m+p)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&d(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarlimitedBadCheckDigit#9794",r[t++]="Incorrect GS1 DataBar Limited check digit provided",Q());var x=Z(18);R(x,0,e.barcode),g(x,17,e.checksum+48),e.barcode=x,e.linkval=a([2,0,1,5,1,3,3,5,3,1,0,9,6]),r[t++]=1/0;for(var b=S(e.barcode,4,13),v=0,w=b.length;v<w;v++)r[t++]=d(b,v)-48;if(e.binval=a(),e.linkage)for(var y=0,A=e.binval.length-1;y<=A;y+=1)e.i=y,g(e.binval,e.i,C(d(e.binval,e.i)+d(e.linkval,e.i)));e.txt=a(e.barcode.length);for(var k=0,E=e.barcode.length-1;k<=E;k+=1)e.i=k,g(e.txt,e.i,a([S(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var Oe=r[--t],Le=r[--t],rt=C(Le-Oe);if(Oe<C(Le-Oe)){var Se=rt;rt=Oe,Oe=Se}r[t++]=rt,r[t++]=1,r[t++]=1;for(var qe=Le,We=Oe+1;qe>=We;qe-=1){var Ke=r[--t],Te=r[t-1],He=r[t-2];if(r[t++]=Ke*qe,Cc(Te,He)){var st=r[--t],gt=r[--t];r[t++]=gt+1,r[t++]=~~(st/gt)}}for(;;){var ht=r[t-2],bt=r[t-3];if(Li(ht,bt))break;var Et=r[--t],kt=r[--t];r[t++]=kt+1,r[t++]=~~(Et/kt)}var wt=r[--t];r[t-1]=wt;var Mt=r[--t];r[t-1]=Mt},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=a(e.el),e.mask=0;for(var Oe=0,Le=e.el-2;Oe<=Le;Oe+=1){e.bar=Oe,e.ew=1;var rt=e.bar;for(e.mask=e.mask|(rt<0?1>>>-rt:1<<rt);;){r[t++]="sval",r[t++]=C(e.nm-e.ew)-1,r[t++]=C(e.el-e.bar)-2,e.ncr();var Se=r[--t];if(e[r[--t]]=Se,e.oe&&e.mask==0&&C(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=C(e.nm-e.ew-e.el+e.bar),r[t++]=C(e.el-e.bar)-2,e.ncr();var qe=r[--t],We=r[--t];e[r[--t]]=C(We-qe)}if(C(e.el-e.bar)>2){e.lval=0;for(var Ke=C(e.nm-e.ew-e.el+e.bar)+2,Te=e.mw+1;Ke>=Te;Ke-=1)r[t++]=C(e.nm-Ke-e.ew)-1,r[t++]=C(e.el-e.bar)-3,e.ncr(),e.lval=C(r[--t]+e.lval);e.sval=C(e.sval-e.lval*(e.el-e.bar-1))}else C(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=C(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var He=e.bar;e.mask=e.mask&~(He<0?1>>>-He:1<<He)}e.val=C(e.val+e.sval),e.nm=C(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out};for(var j=0;j<=11;j+=1){e.i=j;var N=e.binval,I=e.i;g(N,I+1,C(d(N,I+1)+d(e.binval,e.i)%2013571*10)),g(e.binval,e.i,~~(d(e.binval,e.i)/2013571))}e.d2=d(e.binval,12)%2013571;var M=e.binval;g(M,12,~~(d(M,12)/2013571)),e.d1=0,e.i=!0;for(var B=0;B<=12;B+=1){e.j=B;var F=d(e.binval,e.j);if(r[t++]=F,F==0&&e.i)t--;else{e.i=!1,r[t++]="d1",r[t++]=e.d1;var D=r[t-3],H=r[t-1];e[r[t-2]]=C(H+D*~~v1(10,12-e.j)),t-=3}}for(e.tab267=a([183063,0,17,9,6,3,6538,28,820063,183064,13,13,5,4,875,728,1000775,820064,9,17,3,6,28,6454,1491020,1000776,15,11,5,4,2415,203,1979844,1491021,11,15,4,5,203,2408,1996938,1979845,19,7,8,1,17094,1,2013570,1996939,7,19,1,8,1,16632]),e.i=0;;){if(e.d1<=d(e.tab267,e.i)){O(S(e.tab267,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=d(e.tab267,e.i)){O(S(e.tab267,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(C(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var T=r[--t];e[r[--t]]=T,r[t++]="d1we",r[t++]=C(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d2wo",r[t++]=~~(C(e.d2-e.d2gs)/e.d2te),r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var L=r[--t];e[r[--t]]=L,r[t++]="d2we",r[t++]=C(e.d2-e.d2gs)%e.d2te,r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var z=r[--t];e[r[--t]]=z,e.d1w=a(14);for(var G=0;G<=6;G+=1)e.i=G,g(e.d1w,e.i*2,d(e.d1wo,e.i)),g(e.d1w,e.i*2+1,d(e.d1we,e.i));e.d2w=a(14);for(var K=0;K<=6;K+=1)e.i=K,g(e.d2w,e.i*2,d(e.d2wo,e.i)),g(e.d2w,e.i*2+1,d(e.d2we,e.i));r[t++]=1/0,O(e.d1w),O(e.d2w),e.widths=a(),e.checkweights=a([1,3,9,27,81,65,17,51,64,14,42,37,22,66,20,60,2,6,18,54,73,41,34,13,39,28,84,74]),r[t++]=1/0;for(var oe=0;oe<=43;oe+=1)r[t++]=oe;r[t++]=45,r[t++]=52,r[t++]=57;for(var V=63;V<=66;V+=1)r[t++]=V;for(var Y=73;Y<=79;Y+=1)r[t++]=Y;r[t++]=82;for(var ie=126;ie<=130;ie+=1)r[t++]=ie;r[t++]=132;for(var de=141;de<=146;de+=1)r[t++]=de;for(var re=210;re<=217;re+=1)r[t++]=re;r[t++]=220;for(var ne=316;ne<=320;ne+=1)r[t++]=ne;r[t++]=322,r[t++]=323,r[t++]=326,r[t++]=337,e.checkseq=a(),e.checksum=0;for(var le=0;le<=27;le+=1)e.i=le,e.checksum=C(e.checksum+d(e.widths,e.i)*d(e.checkweights,e.i));e.checksum=e.checksum%89,e.seq=d(e.checkseq,e.checksum),r[t++]="swidths",r[t++]=~~(e.seq/21),r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var ue=r[--t];e[r[--t]]=ue,r[t++]="bwidths",r[t++]=e.seq%21,r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var Me=r[--t];e[r[--t]]=Me,e.checkwidths=a([0,0,0,0,0,0,0,0,0,0,0,0,1,1]);for(var pe=0;pe<=5;pe+=1)e.i=pe,g(e.checkwidths,e.i*2,d(e.swidths,e.i)),g(e.checkwidths,e.i*2+1,d(e.bwidths,e.i));r[t++]=1/0,r[t++]=1,O(e.d1w),O(e.checkwidths),O(e.d2w),r[t++]=1,r[t++]=1,r[t++]=5,e.sbs=a(),r[t++]=1/0;var Fe=e.sbs;r[t++]=1/0;for(var Ce=0,ve=~~((e.sbs.length+1)/2);Ce<ve;Ce++)r[t++]=e.height;var Be=a();r[t++]=1/0;for(var Ue=0,Xe=~~((e.sbs.length+1)/2);Ue<Xe;Ue++)r[t++]=0;var Re=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Fe,r[t++]="bhs",r[t++]=Be,r[t++]="bbs",r[t++]=Re,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Ge=Pe();r[t++]=Ge,e.dontdraw||Tt(),e=s}function yv(){var s=e;if(e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.height=34/72,e.format="expanded",e.segments=-1,e.linkage=!1,e.barxmult=34,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barxmult<34&&(r[t++]="bwipp.databarStackedOmniBarXmult#10075",r[t++]="GS1 DataBar Expanded Stacked must have a barxmult of at least 34",Q()),Ee(e.format,"expanded")&&Ee(e.format,"expandedstacked")&&(r[t++]="bwipp.databarexpandedBadFormat#10079",r[t++]="Valid formats are expanded and expandedstacked",Q()),e.segments==-1){var n=W(e.format,"expandedstacked")?4:22;e.segments=n}else(e.segments<2||e.segments>22||e.segments%2!=0)&&(r[t++]="bwipp.gs1databarexpandedBadSegments#10086",r[t++]="The number of segments must be even from 2 to 22",Q());for(r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t];;){if(e.ais.length==2&&W(d(e.ais,0),"01")&&W(d(e.ais,1),"3103")&&W(S(d(e.vals,0),0,1),"9")&&Ie(d(e.vals,1))<=32767){r[t++]="0100",r[t++]=!1;break}if(e.ais.length==2&&W(d(e.ais,0),"01")&&W(d(e.ais,1),"3202")&&W(S(d(e.vals,0),0,1),"9")&&Ie(d(e.vals,1))<=9999){r[t++]="0101",r[t++]=!1;break}if(e.ais.length==2&&W(d(e.ais,0),"01")&&W(d(e.ais,1),"3203")&&W(S(d(e.vals,0),0,1),"9")&&Ie(d(e.vals,1))<=22767){r[t++]="0101",r[t++]=!1;break}var i=e.ais.length;if(i==2||i==3){r[t++]="ai310x",r[t++]=!1;for(var o=3100;o<=3109;o+=1){var l=r[--t];r[t++]=l||W(qt(Z(4),o,10),d(e.ais,1))}var u=r[--t];e[r[--t]]=u,r[t++]="ai320x",r[t++]=!1;for(var f=3200;f<=3209;f+=1){var h=r[--t];r[t++]=h||W(qt(Z(4),f,10),d(e.ais,1))}var p=r[--t];if(e[r[--t]]=p,e.ais.length==3){var m=a(["11","13","15","17"]);r[t++]="aibad",r[t++]=!0;for(var x=0,b=m.length;x<b;x++){var v=r[--t];r[t++]=v&&Ee(d(m,x),d(e.ais,2))}var w=r[--t];e[r[--t]]=w}else e.aibad=!1;if(W(d(e.ais,0),"01")&&(e.ai310x||e.ai320x)&&!e.aibad){if(e.ais.length==3){var y=Ie(S(d(e.vals,2),2,2)),A=Ie(S(d(e.vals,2),4,2));if(W(S(d(e.vals,0),0,1),"9")&&Ie(d(e.vals,1))<=99999&&y>=1&&y<=12&&A>=0&&A<=31){if(e.ai310x&&W(d(e.ais,2),"11")){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x&&W(d(e.ais,2),"11")){r[t++]="0111001",r[t++]=!1;break}if(e.ai310x&&W(d(e.ais,2),"13")){r[t++]="0111010",r[t++]=!1;break}if(e.ai320x&&W(d(e.ais,2),"13")){r[t++]="0111011",r[t++]=!1;break}if(e.ai310x&&W(d(e.ais,2),"15")){r[t++]="0111100",r[t++]=!1;break}if(e.ai320x&&W(d(e.ais,2),"15")){r[t++]="0111101",r[t++]=!1;break}if(e.ai310x&&W(d(e.ais,2),"17")){r[t++]="0111110",r[t++]=!1;break}if(e.ai320x&&W(d(e.ais,2),"17")){r[t++]="0111111",r[t++]=!1;break}}}else if(W(S(d(e.vals,0),0,1),"9")&&Ie(d(e.vals,1))<=99999){if(e.ai310x){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x){r[t++]="0111001",r[t++]=!1;break}}}}if(e.ais.length>=2){r[t++]="ai392x",r[t++]=!1;for(var k=3920;k<=3923;k+=1){var E=r[--t];r[t++]=E||W(qt(Z(4),k,10),d(e.ais,1))}var j=r[--t];if(e[r[--t]]=j,W(d(e.ais,0),"01")&&e.ai392x&&W(S(d(e.vals,0),0,1),"9")){r[t++]="01100",r[t++]=!0;break}}if(e.ais.length>=2){r[t++]="ai393x",r[t++]=!1;for(var N=3930;N<=3933;N+=1){var I=r[--t];r[t++]=I||W(qt(Z(4),N,10),d(e.ais,1))}var M=r[--t];if(e[r[--t]]=M,W(d(e.ais,0),"01")&&e.ai393x&&W(S(d(e.vals,0),0,1),"9")){r[t++]="01101",r[t++]=!0;break}}if(W(d(e.ais,0),"01")){r[t++]="1",r[t++]=!0;break}r[t++]="00",r[t++]=!0;break}if(e.gpfallow=r[--t],e.method=r[--t],e.conv12to40=function(){var rr=Tr(Z(40),"0000000000000000000000000000000000000000"),wr=r[--t],Cr=qt(Z(10),Ie(S(wr,0,3)),2);R(S(rr,0,10),10-Cr.length,Cr);var ss=qt(Z(10),Ie(S(wr,3,3)),2);R(S(rr,10,10),10-ss.length,ss);var zr=qt(Z(10),Ie(S(wr,6,3)),2);R(S(rr,20,10),10-zr.length,zr);var ls=qt(Z(10),Ie(S(wr,9,3)),2);R(S(rr,30,10),10-ls.length,ls),r[t++]=rr},e.conv13to44=function(){var rr=Tr(Z(44),"00000000000000000000000000000000000000000000"),wr=r[--t],Cr=qt(Z(4),Ie(S(wr,0,1)),2);R(S(rr,0,4),4-Cr.length,Cr),r[t++]=rr,r[t++]=rr,r[t++]=S(wr,1,12),e.conv12to40();var ss=r[--t];R(r[--t],4,ss)},e.tobin=function(){var rr=Z(r[--t]);r[t++]=rr;for(var wr=0,Cr=rr.length-1;wr<=Cr;wr+=1){var ss=r[t-1];g(ss,wr,48)}var zr=r[t-1];r[t++]=zr;var ls=r[t-3],Xr=r[t-1];r[t-3]=r[t-2],t-=2;var an=qt(Z(Xr.length),ls,2);R(Xr,Xr.length-an.length,an)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,W(e.method,"00")&&(e.cdf=a([]),e.gpf=a([])),W(e.method,"1")){r[t++]="cdf",r[t++]=S(d(e.vals,0),0,13),e.conv13to44();var B=r[--t];e[r[--t]]=B,r[t++]=1/0;for(var F=e.cdf,D=0,H=F.length;D<H;D++)r[t++]=d(F,D)-48;e.cdf=a(),e.gpf=a([]),e.ais=S(e.ais,1,e.ais.length-1),e.vals=S(e.vals,1,e.vals.length-1),e.fncs=S(e.fncs,1,e.fncs.length-1)}if(W(e.method,"0100")){e.cdf=Z(55),r[t++]=e.cdf,r[t++]=0,r[t++]=S(d(e.vals,0),1,12),e.conv12to40();var T=r[--t],_=r[--t];R(r[--t],_,T),r[t++]=e.cdf,r[t++]=40,r[t++]=Ie(d(e.vals,1)),r[t++]=15,e.tobin();var L=r[--t],z=r[--t];R(r[--t],z,L),r[t++]=1/0;for(var G=e.cdf,K=0,oe=G.length;K<oe;K++)r[t++]=d(G,K)-48;e.cdf=a(),e.gpf=a([]),e.ais=a([]),e.vals=a([]),e.fncs=a([])}if(W(e.method,"0101")){e.cdf=Z(55),r[t++]=e.cdf,r[t++]=0,r[t++]=S(d(e.vals,0),1,12),e.conv12to40();var V=r[--t],Y=r[--t];R(r[--t],Y,V),W(d(e.ais,1),"3202")?(r[t++]=Ie(d(e.vals,1)),r[t++]=15,e.tobin()):(r[t++]=Ie(d(e.vals,1))+1e4,r[t++]=15,e.tobin()),R(e.cdf,40,r[--t]),r[t++]=1/0;for(var ie=e.cdf,de=0,re=ie.length;de<re;de++)r[t++]=d(ie,de)-48;e.cdf=a(),e.gpf=a([]),e.ais=a([]),e.vals=a([]),e.fncs=a([])}if(e.method.length==7){e.cdf=Z(76),r[t++]=e.cdf,r[t++]=0,r[t++]=S(d(e.vals,0),1,12),e.conv12to40();var ne=r[--t],le=r[--t];R(r[--t],le,ne);var ue=Z(6);if(R(ue,0,S(d(e.ais,1),3,1)),R(ue,1,S(d(e.vals,1),1,5)),r[t++]=Ie(ue),r[t++]=20,e.tobin(),R(e.cdf,40,r[--t]),e.ais.length==3){var Me=d(e.vals,2);r[t++]=Ie(S(Me,0,2))*384+((Ie(S(Me,2,2))-1)*32+Ie(S(Me,4,2)))}else r[t++]=38400;r[t++]=16,e.tobin(),R(e.cdf,60,r[--t]),r[t++]=1/0;for(var pe=e.cdf,Fe=0,Ce=pe.length;Fe<Ce;Fe++)r[t++]=d(pe,Fe)-48;e.cdf=a(),e.gpf=a([]),e.ais=a([]),e.vals=a([]),e.fncs=a([])}if(W(e.method,"01100")){e.cdf=Z(42),r[t++]=e.cdf,r[t++]=0,r[t++]=S(d(e.vals,0),1,12),e.conv12to40();var ve=r[--t],Be=r[--t];R(r[--t],Be,ve),r[t++]=e.cdf,r[t++]=40,r[t++]=Ie(S(d(e.ais,1),3,1)),r[t++]=2,e.tobin();var Ue=r[--t],Xe=r[--t];R(r[--t],Xe,Ue),r[t++]=1/0;for(var Re=e.cdf,Ge=0,Oe=Re.length;Ge<Oe;Ge++)r[t++]=d(Re,Ge)-48;e.cdf=a(),r[t++]=1/0,xe(d(e.vals,1)),e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=a(),e.ais=S(e.ais,2,e.ais.length-2),e.vals=S(e.vals,2,e.vals.length-2),e.fncs=S(e.fncs,2,e.fncs.length-2)}if(W(e.method,"01101")){e.cdf=Z(52),r[t++]=e.cdf,r[t++]=0,r[t++]=S(d(e.vals,0),1,12),e.conv12to40();var Le=r[--t],rt=r[--t];R(r[--t],rt,Le),r[t++]=e.cdf,r[t++]=40,r[t++]=Ie(S(d(e.ais,1),3,1)),r[t++]=2,e.tobin();var Se=r[--t],qe=r[--t];R(r[--t],qe,Se),r[t++]=e.cdf,r[t++]=42,r[t++]=Ie(S(d(e.vals,1),0,3)),r[t++]=10,e.tobin();var We=r[--t],Ke=r[--t];R(r[--t],Ke,We),r[t++]=1/0;for(var Te=e.cdf,He=0,st=Te.length;He<st;He++)r[t++]=d(Te,He)-48;e.cdf=a(),r[t++]=1/0;for(var gt=d(e.vals,1),ht=S(gt,3,gt.length-3),bt=0,Et=ht.length;bt<Et;bt++)r[t++]=d(ht,bt);e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=a(),e.ais=S(e.ais,2,e.ais.length-2),e.vals=S(e.vals,2,e.vals.length-2),e.fncs=S(e.fncs,2,e.fncs.length-2)}e.gpfallow?e.vlf=a(2):e.vlf=a([]),r[t++]=1/0;for(var kt=0;kt<=119;kt+=1){var wt=Tr(Z(2),"00"),Mt=qt(Z(2),kt,11);if(R(wt,2-Mt.length,Mt),r[t++]=kt,r[t++]=wt,d(wt,0)==65){var It=r[t-1];g(It,0,94)}var zt=r[t-1];if(d(zt,1)==65){var Bt=r[t-1];g(Bt,1,94)}var jt=r[--t],U=Tr(Z(7),"0000000"),$=qt(Z(7),r[--t]+8,2);R(U,7-$.length,$),r[t++]=jt,r[t++]=U}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=Pe(),r[t++]=1/0;for(var P=48;P<=57;P+=1)r[t++]=P,r[t++]=P-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var q=65;q<=90;q+=1)r[t++]=q,r[t++]=q-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var X=44;X<=47;X+=1)r[t++]=X,r[t++]=X+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=Pe(),r[t++]=1/0;for(var ce=48;ce<=57;ce+=1)r[t++]=ce,r[t++]=ce-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var te=65;te<=90;te+=1)r[t++]=te,r[t++]=te-1,r[t++]=7,e.tobin();for(var ye=97;ye<=122;ye+=1)r[t++]=ye,r[t++]=ye-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var J=37;J<=47;J+=1)r[t++]=J,r[t++]=J+197,r[t++]=8,e.tobin();for(var me=58;me<=63;me+=1)r[t++]=me,r[t++]=me+187,r[t++]=8,e.tobin();r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=Pe();for(var fe=0,be=e.ais.length-1;fe<=be;fe+=1){e.i=fe,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var se=a(e.gpf.length+e.ai.length+e.val.length);R(se,0,e.gpf),r[t++]=se,r[t++]=se,r[t++]=e.gpf.length;var ge=1/0,je=e.ai;r[t++]=ge,xe(je);var he=a(),ke=r[--t];R(r[--t],ke,he);var we=r[t-1];r[t++]=we,r[t++]=e.gpf.length+e.ai.length;var Ne=1/0,ze=e.val;r[t++]=Ne,xe(ze);var _e=a(),Je=r[--t];if(R(r[--t],Je,_e),e.gpf=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var at=a(e.gpf.length+1);R(at,0,e.gpf),g(at,e.gpf.length,e.fnc1),e.gpf=at}}e.rembits=function(){var rr=r[--t],wr=48,Cr=~~vr(rr/12)*12;if(~~vr(rr/12)*12<48){var ss=wr;wr=Cr,Cr=ss}var zr=~~(Cr/12);if(r[t++]=rr,r[t++]=Cr,r[t++]=zr,zr%e.segments==1){var ls=r[--t];r[t-1]=(ls+1)*12}else t--;var Xr=r[--t],an=r[--t];r[t++]=C(Xr-an)},e.encode=function(){var rr=r[t-1];if(Ee(rr,"raw")){var wr=r[--t],Cr=d(wr,r[--t]);r[t++]=Cr}else t--;var ss=r[t-1];ss.length+e.j>=252&&(t--,r[t++]="bwipp.gs1databarexpandedTooLong#10374",r[t++]="Maximum length exceeded",Q()),r[t++]=1/0;var zr=r[--t],ls=r[--t];r[t++]=zr,xe(ls,function(){var an=r[--t];r[t++]=an-48});var Xr=a();R(e.gpfenc,e.j,Xr),e.j=Xr.length+e.j},r[t++]=1/0;for(var nt=0,Ae=e.gpf.length;nt<Ae;nt++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=a(),r[t++]=1/0;for(var Ye=0,Qe=e.gpf.length;Ye<Qe;Ye++)r[t++]=0;r[t++]=0,e.alphanumericruns=a(),r[t++]=1/0;for(var Ze=0,pt=e.gpf.length;Ze<pt;Ze++)r[t++]=0;r[t++]=9999,e.nextiso646only=a();for(var mt=e.gpf.length-1;mt>=0;mt-=1){e.i=mt;var ut=Tr(Z(2),"00"),vt=d(e.gpf,e.i);r[t++]=d(e.gpf,e.i),r[t++]=ut,r[t++]=ut,r[t++]=0,r[t++]=vt,vt==e.fnc1&&(r[t-1]=94);var it=r[--t],_t=r[--t];if(g(r[--t],_t,it),e.i<e.gpf.length-1){var et=r[t-1],Ht=d(e.gpf,e.i+1);r[t++]=et,r[t++]=1,r[t++]=Ht,Ht==e.fnc1&&(r[t-1]=94);var Gt=r[--t],Ot=r[--t];g(r[--t],Ot,Gt)}var ar=d(e.numeric,r[--t])!==void 0;ar?g(e.numericruns,e.i,d(e.numericruns,e.i+2)+2):g(e.numericruns,e.i,0);var Sr=r[t-1],ir=d(e.alphanumeric,Sr)!==void 0;ir?g(e.alphanumericruns,e.i,d(e.alphanumericruns,e.i+1)+1):g(e.alphanumericruns,e.i,0);var gr=r[--t],nr=d(e.iso646,gr)!==void 0,Ir=d(e.alphanumeric,gr)!==void 0;nr&&!Ir?g(e.nextiso646only,e.i,0):g(e.nextiso646only,e.i,d(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=a(252),e.i=0,e.j=0,e.mode="numeric";e.i!=e.gpf.length;)for(;;){if(W(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var er=Z(2),ur=d(e.gpf,e.i);r[t++]=er,r[t++]=er,r[t++]=0,r[t++]=ur,ur==e.fnc1&&(r[t-1]=94);var Kt=r[--t],Xt=r[--t];g(r[--t],Xt,Kt);var fr=r[t-1],Mr=d(e.gpf,e.i+1);r[t++]=fr,r[t++]=1,r[t++]=Mr,Mr==e.fnc1&&(r[t-1]=94);var Ur=r[--t],ms=r[--t];g(r[--t],ms,Ur);var Ft=r[t-1],Vt=d(e.numeric,Ft)!==void 0;if(Vt){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var tr=d(e.gpf,e.i);if(tr<48||tr>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=13+e.method.length+e.vlf.length+e.cdf.length+e.j,e.rembits();var br=r[--t];if(e[r[--t]]=br,e.rem>=4&&e.rem<=6){var or=S(Tr(Z(6),"000000"),0,e.rem),Br=qt(Z(4),d(e.gpf,e.i)-47,2);R(or,4-Br.length,Br),r[t++]=or,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var lr=Z(2);g(lr,0,d(e.gpf,e.i)),g(lr,1,94),r[t++]=lr,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(W(e.mode,"alphanumeric")){if(d(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var Lt=d(e.gpf,e.i),yr=d(e.iso646,Lt)!==void 0,ns=d(e.alphanumeric,Lt)!==void 0;if(yr&&!ns){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(d(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var xs=d(e.numericruns,e.i);if(xs>=4&&C(xs+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=d(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(W(e.mode,"iso646")){if(d(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(d(e.numericruns,e.i)>=4&&d(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(d(e.alphanumericruns,e.i)>=5&&d(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=d(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=S(e.gpfenc,0,e.j);var js=13+e.method.length+e.vlf.length+e.cdf.length+e.gpf.length;r[t++]=js,r[t++]=js,e.rembits();var Gr=r[--t];if(e.pad=a(Gr),r[t++]=Gr,e.vlf.length!=0){var Bs=r[--t],ws=~~(C(r[--t]+Bs)/12);g(e.vlf,0,ws%2);var Ps=ws<=14?0:1;g(e.vlf,1,Ps)}else t-=2;if(e.pad.length>0){for(var us=0,Ns=e.pad.length-1;us<=Ns;us+=5){e.i=us;var Ds=e.pad,Cs=e.i,qs=a([0,0,1,0,0]),Ys=e.pad,en=e.i,wn=5,Ms=Ys.length-en;if(Ys.length-en>5){var On=wn;wn=Ms,Ms=On}R(Ds,Cs,S(qs,0,Ms))}W(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=S(a(),0,e.pad.length))}r[t++]=1/0;var Vs=e.linkage?1:0;r[t++]=Vs,xe(e.method,function(){var rr=r[--t];r[t++]=rr-48}),O(e.vlf),O(e.cdf),O(e.gpf),O(e.pad),e.binval=a(),e.datalen=~~(e.binval.length/12),e.ncr=function(){var rr=r[--t],wr=r[--t],Cr=C(wr-rr);if(rr<C(wr-rr)){var ss=Cr;Cr=rr,rr=ss}r[t++]=Cr,r[t++]=1,r[t++]=1;for(var zr=wr,ls=rr+1;zr>=ls;zr-=1){var Xr=r[--t],an=r[t-1],on=r[t-2];if(r[t++]=Xr*zr,Cc(an,on)){var Jn=r[--t],Na=r[--t];r[t++]=Na+1,r[t++]=~~(Jn/Na)}}for(;;){var za=r[t-2],Wa=r[t-3];if(Li(za,Wa))break;var Ka=r[--t],Ca=r[--t];r[t++]=Ca+1,r[t++]=~~(Ka/Ca)}var j1=r[--t];r[t-1]=j1;var Ja=r[--t];r[t-1]=Ja},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=a(e.el),e.mask=0;for(var rr=0,wr=e.el-2;rr<=wr;rr+=1){e.bar=rr,e.ew=1;var Cr=e.bar;for(e.mask=e.mask|(Cr<0?1>>>-Cr:1<<Cr);;){r[t++]="sval",r[t++]=C(e.nm-e.ew)-1,r[t++]=C(e.el-e.bar)-2,e.ncr();var ss=r[--t];if(e[r[--t]]=ss,e.oe&&e.mask==0&&C(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=C(e.nm-e.ew-e.el+e.bar),r[t++]=C(e.el-e.bar)-2,e.ncr();var zr=r[--t],ls=r[--t];e[r[--t]]=C(ls-zr)}if(C(e.el-e.bar)>2){e.lval=0;for(var Xr=C(e.nm-e.ew-e.el+e.bar)+2,an=e.mw+1;Xr>=an;Xr-=1)r[t++]=C(e.nm-Xr-e.ew)-1,r[t++]=C(e.el-e.bar)-3,e.ncr(),e.lval=C(r[--t]+e.lval);e.sval=C(e.sval-e.lval*(e.el-e.bar-1))}else C(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=C(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var on=e.bar;e.mask=e.mask&~(on<0?1>>>-on:1<<on)}e.val=C(e.val+e.sval),e.nm=C(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out},e.tab174=a([347,0,12,5,7,2,87,4,1387,348,10,7,5,4,52,20,2947,1388,8,9,4,5,30,52,3987,2948,6,11,3,6,10,104,4191,3988,4,13,1,8,1,204]),e.dxw=a(e.datalen);for(var $n=0,Us=e.datalen-1;$n<=Us;$n+=1){e.x=$n,e.d=S(e.binval,e.x*12,12),r[t++]="d",r[t++]=0;for(var An=0;An<=11;An+=1){e.j=An;var zn=r[--t];r[t++]=C(zn+~~v1(2,11-e.j)*d(e.d,e.j))}var Ln=r[--t];for(e[r[--t]]=Ln,e.j=0;;){if(Cc(e.d,d(e.tab174,e.j))){O(S(e.tab174,e.j+1,7)),e.dte=r[--t],e.dto=r[--t],e.dmwe=r[--t],e.dmwo=r[--t],e.dele=r[--t],e.delo=r[--t],e.dgs=r[--t];break}e.j=e.j+8}r[t++]="dwo",r[t++]=~~(C(e.d-e.dgs)/e.dte),r[t++]=e.delo,r[t++]=e.dmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var tn=r[--t];e[r[--t]]=tn,r[t++]="dwe",r[t++]=C(e.d-e.dgs)%e.dte,r[t++]=e.dele,r[t++]=e.dmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Wn=r[--t];if(e[r[--t]]=Wn,e.dw=a(8),e.x%2==0)for(var rn=0;rn<=3;rn+=1)e.j=rn,g(e.dw,7-e.j*2,d(e.dwo,e.j)),g(e.dw,6-e.j*2,d(e.dwe,e.j));else for(var kn=0;kn<=3;kn+=1)e.j=kn,g(e.dw,e.j*2,d(e.dwo,e.j)),g(e.dw,e.j*2+1,d(e.dwe,e.j));g(e.dxw,e.x,e.dw)}e.finderwidths=a([1,8,4,1,1,1,1,4,8,1,3,6,4,1,1,1,1,4,6,3,3,4,6,1,1,1,1,6,4,3,3,2,8,1,1,1,1,8,2,3,2,6,5,1,1,1,1,5,6,2,2,2,9,1,1,1,1,9,2,2]),e.finderseq=a([a([0,1]),a([0,3,2]),a([0,5,2,7]),a([0,9,2,7,4]),a([0,9,2,7,6,11]),a([0,9,2,7,8,11,10]),a([0,1,2,3,4,5,6,7]),a([0,1,2,3,4,5,6,9,8]),a([0,1,2,3,4,5,6,9,10,11]),a([0,1,2,3,4,7,6,9,8,11,10])]),e.seq=d(e.finderseq,~~((e.datalen-2)/2)),e.fxw=a(e.seq.length);for(var Os=0,ka=e.seq.length-1;Os<=ka;Os+=1)e.x=Os,g(e.fxw,e.x,S(e.finderwidths,d(e.seq,e.x)*5,5));e.checkweights=a([-1,-1,-1,-1,-1,-1,-1,-1,77,96,32,81,27,9,3,1,20,60,180,118,143,7,21,63,205,209,140,117,39,13,145,189,193,157,49,147,19,57,171,91,132,44,85,169,197,136,186,62,185,133,188,142,4,12,36,108,50,87,29,80,97,173,128,113,150,28,84,41,123,158,52,156,166,196,206,139,187,203,138,46,76,17,51,153,37,111,122,155,146,119,110,107,106,176,129,43,16,48,144,10,30,90,59,177,164,125,112,178,200,137,116,109,70,210,208,202,184,130,179,115,190,204,68,93,31,151,191,134,148,22,66,198,172,94,71,2,40,154,192,64,162,54,18,6,120,149,25,75,14,42,126,167,175,199,207,69,23,78,26,79,103,98,83,38,114,131,182,124,159,53,88,170,127,183,61,161,55,165,73,8,24,72,5,15,89,100,174,58,160,194,135,45]),r[t++]=1/0,xe(e.seq,function(){O(S(e.checkweights,r[--t]*16,16))});var $s=a();e.checkweightseq=S($s,8,$s.length-8),r[t++]=1/0;for(var _a=e.dxw,Fs=0,ra=_a.length;Fs<ra;Fs++)O(d(_a,Fs));e.widths=a(),e.checksum=0;for(var zs=0,ca=e.widths.length-1;zs<=ca;zs+=1)e.i=zs,e.checksum=C(e.checksum+d(e.widths,e.i)*d(e.checkweightseq,e.i));for(e.checksum=C(e.checksum%211+(e.datalen-3)*211),e.i=0;;){if(e.checksum<=d(e.tab174,e.i)){O(S(e.tab174,e.i+1,7)),e.cte=r[--t],e.cto=r[--t],e.cmwe=r[--t],e.cmwo=r[--t],e.cele=r[--t],e.celo=r[--t],e.cgs=r[--t];break}e.i=e.i+8}r[t++]="cwo",r[t++]=~~(C(e.checksum-e.cgs)/e.cte),r[t++]=e.celo,r[t++]=e.cmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var pn=r[--t];e[r[--t]]=pn,r[t++]="cwe",r[t++]=C(e.checksum-e.cgs)%e.cte,r[t++]=e.cele,r[t++]=e.cmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Zt=r[--t];e[r[--t]]=Zt,e.cw=a(8);for(var ts=0;ts<=3;ts+=1)e.i=ts,g(e.cw,e.i*2,d(e.cwo,e.i)),g(e.cw,e.i*2+1,d(e.cwe,e.i));var Ss=a(22);g(Ss,0,e.cw),R(Ss,1,e.dxw),e.dxw=S(Ss,0,e.datalen+1),e.datalen=e.dxw.length,e.rows=a(~~vr(e.datalen/e.segments)),e.numrows=e.rows.length;for(var Ls=0,jn=e.numrows-1;Ls<=jn;Ls+=1){e.r=Ls,r[t++]=1/0,e.segments%4!=0&&e.r%2==1&&(r[t++]=0),r[t++]=1,r[t++]=1;for(var qr=0,mn=e.segments-1;qr<=mn;qr+=1)e.pos=qr+e.r*e.segments,e.pos<e.datalen&&(O(d(e.dxw,e.pos)),e.pos%2==0&&O(d(e.fxw,~~(e.pos/2))));var Nn=ys()+2;r[t++]=1,r[t++]=1,Wt(a(Nn)),g(e.rows,e.r,r[--t]),t--}if(Ee(e.format,"expandedstacked")){var Qs=d(e.rows,0);e.sbs=S(Qs,1,Qs.length-1),r[t++]=1/0,r[t++]=1;for(var Pa=0,Rs=e.datalen-1;Pa<=Rs;Pa+=1)e.i=Pa,O(d(e.dxw,e.i)),e.i%2==0&&O(d(e.fxw,~~(e.i/2)));r[t++]=1,r[t++]=1,e.sbs=a(),r[t++]=1/0;var k1=e.sbs;r[t++]=1/0;for(var Kn=0,Ts=~~((e.sbs.length+1)/2);Kn<Ts;Kn++)r[t++]=e.height;var Ua=a();r[t++]=1/0;for(var sn=0,Oa=~~((e.sbs.length+1)/2);sn<Oa;sn++)r[t++]=0;var Cn=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k1,r[t++]="bhs",r[t++]=Ua,r[t++]="bbs",r[t++]=Cn,r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=0,r[t++]="opt",r[t++]=e.options;var da=Pe();r[t++]=da,e.dontdraw||Tt()}else{e.seps=a(e.numrows);for(var ua=0,l1=e.numrows-1;ua<=l1;ua+=1){e.r=ua,e.row=d(e.rows,e.r),r[t++]=1/0;for(var At=0,Kr=e.row.length-1;At<=Kr;At+=2){e.i=At;for(var as=0,Hs=d(e.row,e.i);as<Hs;as++)r[t++]=0;if(e.i<e.row.length-1)for(var fs=0,nn=d(e.row,e.i+1);fs<nn;fs++)r[t++]=1}Wt(a(ys())),e.row=r[--t],r[t-1]=1/0,xe(e.row,function(){var rr=r[--t];r[t++]=1-rr}),e.sep=a(),r[t++]=1/0;for(var Sn=19,ja=e.row.length-13;Sn<=ja;Sn+=98)r[t++]=Sn;for(var ct=68,St=e.row.length-13;ct<=St;ct+=98)r[t++]=ct;e.finderpos=a();for(var pr=e.finderpos,cr=0,hr=pr.length;cr<hr;cr++)for(var Fr=d(pr,cr),dr=Fr,is=Fr+14;dr<=is;dr+=1){if(e.i=dr,d(e.row,e.i)==0)if(d(e.row,e.i-1)==1)r[t++]=1;else{var Yr=d(e.sep,e.i-1)==0?1:0;r[t++]=Yr}else r[t++]=0;g(e.sep,e.i,r[--t])}if(R(e.sep,0,a([0,0,0,0])),R(e.sep,e.row.length-4,a([0,0,0,0])),e.segments%4==0&&e.r%2==1)if(d(e.rows,e.r).length!=d(e.rows,0).length&&e.finderpos.length%2==1)r[t++]=1/0,r[t++]=0,O(e.row),e.row=a(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=a();else{for(var Vr=e.row.length-1;Vr>=0;Vr-=1)r[t++]=d(e.row,Vr);Wt(e.row),t--;for(var $r=e.sep.length-1;$r>=0;$r-=1)r[t++]=d(e.sep,$r);Wt(e.sep),t--}g(e.rows,e.r,e.row),g(e.seps,e.r,e.sep)}e.pixx=d(e.rows,0).length,r[t++]=1/0;for(var Jr=0,vs=e.pixx;Jr<vs;Jr++)r[t++]=0;var rs=a();R(rs,0,d(e.rows,e.numrows-1)),g(e.rows,e.numrows-1,rs),r[t++]=1/0;for(var Wr=0,os=e.pixx;Wr<os;Wr++)r[t++]=0;var Rr=a();R(Rr,0,d(e.seps,e.numrows-1)),g(e.seps,e.numrows-1,Rr),r[t++]=1/0;for(var Or=0,Gs=~~(e.pixx/2)+1;Or<Gs;Or++)r[t++]=0,r[t++]=1;e.sep=S(a(),0,e.pixx),R(e.sep,0,a([0,0,0,0])),R(e.sep,e.pixx-4,a([0,0,0,0])),r[t++]=1/0;for(var As=0,xn=e.numrows-1;As<=xn;As+=1){e.r=As,e.r!=0&&O(d(e.seps,e.r));for(var Fn=0,fa=e.barxmult;Fn<fa;Fn++)O(d(e.rows,e.r));e.r!=e.numrows-1&&(O(d(e.seps,e.r)),O(e.sep))}e.pixs=a();var Qn=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",~~(e.pixs.length/e.pixx)],["height",~~(e.pixs.length/e.pixx)/72],["width",e.pixx/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Qn,e.dontdraw||xt()}e=s}function wv(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","expandedstacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,yv();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function IP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.coupontextfont="OCR-B",e.coupontextsize=9,e.coupontextxoffset=null,e.coupontextyoffset=null,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Un(),t--,e.vals=r[--t],e.ais=r[--t],e.ais.length!=1&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11001",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",Q()),Ee(d(e.ais,0),"8110")&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11004",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",Q()),e.val=d(e.vals,0),e.vli=d(e.val,0)-48,(e.vli<0||e.vli>6)&&(r[t++]="bwipp.gs1northamericancouponBadVLI#11011",r[t++]="The AI (8110) data should start with a Company Prefix length indicator in the range 0 to 6",Q()),e.gcp=S(e.val,1,e.vli+6),e.cod=S(e.val,e.vli+7,6),e.coupontext=Z(e.gcp.length+7),R(e.coupontext,0,e.gcp),R(e.coupontext,e.gcp.length,"-"),R(e.coupontext,e.gcp.length+1,e.cod),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,wv();var n=r[--t];if(e[r[--t]]=n,e.includetext){e.coupontextxoffset==null&&(e.coupontextxoffset=0),e.coupontextyoffset==null&&(e.coupontextyoffset=d(e.args,"height")*72+3);var i=d(e.args,"txt")!==void 0;i?(e.txt=d(e.args,"txt"),e.newtxt=a(e.txt.length+1),R(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,a([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",a([a([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function BP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.height=8*2.835/72,e.nwidth=.5*2.835,e.wwidth=1.5*2.835,e.swidth=1*2.835,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>6)&&(r[t++]="bwipp.pharmacodeBadLength#11091",r[t++]="Pharmacode must be 1 to 6 digits",Q()),xe(e.barcode,function(){var y=r[--t];(y<48||y>57)&&(r[t++]="bwipp.pharmacodeBadCharacter#11095",r[t++]="Pharmacode must contain only digits",Q())});var n=Ie(e.barcode);(n<3||n>131070)&&(r[t++]="bwipp.pharmacodeBadValue#11099",r[t++]="Pharmacode value must be between 3 and 131070",Q()),e.txt=a(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,g(e.txt,e.i,a([S(e.barcode,e.i,1),0,0,"",0]));e.barcode=qt(Z(17),Ie(e.barcode)+1,2),e.barcode=S(e.barcode,1,e.barcode.length-1),e.barlen=e.barcode.length,e.sbs=a(e.barlen*2);for(var l=0,u=e.barlen-1;l<=u;l+=1)e.i=l,e.enc=S(e.barcode,e.i,1),W(e.enc,"0")?g(e.sbs,e.i*2,e.nwidth):g(e.sbs,e.i*2,e.wwidth),g(e.sbs,e.i*2+1,e.swidth);r[t++]=1/0;var f=e.sbs;r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=a();r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=0;var v=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=v,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var w=Pe();r[t++]=w,e.dontdraw||Tt(),e=s}function Q9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.height=4,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>8)&&(r[t++]="bwipp.pharmacode2BadLength#11180",r[t++]="Two-track Pharmacode must be 1 to 6 digits",Q()),xe(e.barcode,function(){var y=r[--t];(y<48||y>57)&&(r[t++]="bwipp.pharmacode2badCharacter#11184",r[t++]="Two-track Pharmacode must contain only digits",Q())});var n=Ie(e.barcode);(n<4||n>64570080)&&(r[t++]="bwipp.pharmacode2badValue#11188",r[t++]="Two-track Pharmacode value must be between 4 and 64570080",Q()),e.txt=a(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,g(e.txt,e.i,a([S(e.barcode,e.i,1),0,0,"",0]));for(e.encstr=Z(16),e.sbs=a(32),e.bar=1/25.4*e.height,e.spc=1/25.4*72,e.i=15,e.val=Ie(e.barcode);e.val!=0;){var l=e.val%3;e.val=~~(C(e.val-d(a([3,1,2]),l))/3),g(e.encstr,e.i,d(a([2,0,1]),l)),e.i=e.i-1}e.encstr=S(e.encstr,e.i+1,15-e.i),e.bhs=a(e.encstr.length),e.bbs=a(e.encstr.length);for(var u=0,f=e.encstr.length-1;u<=f;u+=1){e.i=u;var h=d(e.encstr,e.i);g(e.bhs,e.i,e.bar*d(a([1,1,2]),h)),g(e.bbs,e.i,d(a([0,e.bar,0]),h))}r[t++]=1/0;var p=e.bhs,m=e.bbs;r[t++]=1/0;for(var x=0,b=e.encstr.length*2;x<b;x++)r[t++]=e.spc;var v=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=p,r[t++]="bbs",r[t++]=m,r[t++]="sbs",r[t++]=v,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="textyoffset",r[t++]=4,r[t++]="opt",r[t++]=e.options;var w=Pe();r[t++]=w,e.dontdraw||Tt(),e=s}function Lc(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.version="industrial",r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code2of5emptyData#11287",r[t++]="The data must not be empty",Q()),xe(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.code2of5badCharacter#11295",r[t++]="Code 25 must contain only digits",Q())}),r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.checksum=0;for(var o=0,l=e.barlen-1;o<=l;o+=1){if(e.i=o,r[t++]="checksum",r[t++]=e.checksum,r[t++]=d(e.barcode,e.i)-48,C(e.barlen-e.i)%2!=0){var u=r[--t];r[t++]=u*3}var f=r[--t],h=r[--t];e[r[--t]]=C(h+f)}e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(d(e.barcode,e.barlen)!=e.checksum+48&&(r[t++]="bwipp.code2of5badCheckDigit#11309",r[t++]="Incorrect Code 25 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen),e.includecheck=!0);var p=new Map([["industrial",a(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","313111","31113"])],["iata",a(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","1111","311"])],["matrix",a(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","311111","31111"])],["coop",a(["331111","111331","113131","113311","131131","131311","133111","311131","311311","313111","3131","133"])],["datalogic",a(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","1111","311"])]]);e.versions=p;var m=d(e.versions,e.version)!==void 0;m||(r[t++]="bwipp.code2of5badVersion#11344",r[t++]="Unrecognised Code 25 version",Q()),e.encs=d(e.versions,e.version),e.cs=d(e.encs,0).length,r[t++]="cw",r[t++]=0,xe(d(e.encs,0),function(){var T=r[--t],_=r[--t];r[t++]=C(_+(T-48))});var x=r[--t];e[r[--t]]=x,e.ss=d(e.encs,10).length,r[t++]="sw",r[t++]=0,xe(d(e.encs,10),function(){var T=r[--t],_=r[--t];r[t++]=C(_+(T-48))});var b=r[--t];if(e[r[--t]]=b,e.es=d(e.encs,11).length,e.barchars="0123456789",r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var v=r[--t];r[t++]=v+1}var w=Z(C(r[--t]*e.cs+e.ss+e.es));if(e[r[--t]]=w,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var y=r[--t];r[t++]=y+1}var A=a(r[--t]);e[r[--t]]=A,R(e.sbs,0,d(e.encs,10));for(var k=0,E=e.barlen-1;k<=E;k+=1)e.i=k,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*e.cs+e.ss,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),C(e.i*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]));e.includecheck?(R(e.sbs,C(e.barlen*e.cs+e.ss),d(e.encs,e.checksum)),R(e.sbs,C(e.barlen*e.cs+e.cs+e.ss),d(e.encs,11)),e.includecheckintext?g(e.txt,e.barlen,a([S(e.barchars,e.checksum,1),C(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,a([" ",C(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]))):R(e.sbs,C(e.barlen*e.cs+e.ss),d(e.encs,11)),r[t++]=1/0,r[t++]=1/0,xe(e.sbs,function(){var T=r[--t];r[t++]=T-48});var j=a();r[t++]=1/0;for(var N=0,I=~~((e.sbs.length+1)/2);N<I;N++)r[t++]=e.height;var M=a();r[t++]=1/0;for(var B=0,F=~~((e.sbs.length+1)/2);B<F;B++)r[t++]=0;var D=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=M,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var H=Pe();r[t++]=H,e.dontdraw||Tt(),e=s}function DP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","industrial"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Lc();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function MP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","iata"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Lc();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function FP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","matrix"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Lc();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function RP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","coop"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Lc();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function TP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","datalogic"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Lc();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function _P(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code11emptyData#11692",r[t++]="The data must not be empty",Q()),e.encs=a(["111131","311131","131131","331111","113131","313111","133111","111331","311311","311111","113111","113311"]),e.barchars="0123456789-",e.charvals=new Map;for(var n=0;n<=10;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.code11badCharacter#11714",r[t++]="Code 11 must contain only digits and dashes",Q())}if(e.barlen=e.barcode.length,e.validatecheck){e.barlen==11&&(r[t++]="bwipp.code11badLength#11721",r[t++]="Code 11 cannot be 11 characters using check digits",Q());var u=e.barlen<=10?1:2;e.barlen=e.barlen-u}if(r[t++]="numchecks",e.includecheck||e.validatecheck){var f=e.barlen>=10?2:1;r[t++]=f}else r[t++]=0;var h=r[--t];e[r[--t]]=h,e.checksum1=0,e.checksum2=0;for(var p=0,m=e.barlen-1;p<=m;p+=1)e.i=p,e.indx=d(e.charvals,S(e.barcode,e.i,1)),e.checksum1=C(e.checksum1+((e.barlen-e.i-1)%10+1)*e.indx),e.checksum2=C(e.checksum2+((e.barlen-e.i)%9+1)*e.indx);if(e.checksum1=e.checksum1%11,e.checksum2=C(e.checksum2+e.checksum1)%11,e.validatecheck){if(e.numchecks==1){var x=e.checksum1;d(e.barcode,e.barlen)!=d(e.barchars,x)&&(r[t++]="bwipp.code11badCheckDigit#11739",r[t++]="Incorrect Code 11 check digit provided",Q())}else(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum1)||d(e.barcode,e.barlen+1)!=d(e.barchars,e.checksum2))&&(r[t++]="bwipp.code11badCheckDigits#11744",r[t++]="Incorrect Code 11 check digits provided",Q());e.barcode=S(e.barcode,0,e.barlen),e.includecheck=!0}e.sbs=Z(C(e.barlen+e.numchecks)*6+12),e.txt=a(C(e.barlen+e.numchecks)),R(e.sbs,0,d(e.encs,11)),e.xpos=8;for(var b=0,v=e.barlen-1;b<=v;b+=1){e.i=b,e.indx=d(e.charvals,S(e.barcode,e.i,1)),e.enc=d(e.encs,e.indx),R(e.sbs,e.i*6+6,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var w=0;w<=5;w+=1)e.xpos=C(d(e.enc,w)-48+e.xpos)}if(e.includecheck)if(e.barlen>=10){if(R(e.sbs,e.barlen*6+6,d(e.encs,e.checksum1)),R(e.sbs,e.barlen*6+12,d(e.encs,e.checksum2)),e.includecheckintext){g(e.txt,e.barlen,a([S(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])),e.enc=d(e.encs,e.checksum1);for(var y=0;y<=5;y+=1)e.xpos=C(d(e.enc,y)-48+e.xpos);g(e.txt,e.barlen+1,a([S(e.barchars,e.checksum2,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else g(e.txt,e.barlen,a(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,a(["",e.xpos,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*6+18,d(e.encs,11))}else R(e.sbs,e.barlen*6+6,d(e.encs,e.checksum1)),e.includecheckintext?g(e.txt,e.barlen,a([S(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,a(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),R(e.sbs,e.barlen*6+12,d(e.encs,11));else R(e.sbs,e.barlen*6+6,d(e.encs,11));r[t++]=1/0,r[t++]=1/0;for(var A=e.sbs,k=0,E=A.length;k<E;k++)r[t++]=d(A,k)-48;var j=a();r[t++]=1/0;for(var N=0,I=~~((e.sbs.length+1)/2);N<I;N++)r[t++]=e.height;var M=a();r[t++]=1/0;for(var B=0,F=~~((e.sbs.length+1)/2);B<F;B++)r[t++]=0;var D=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=M,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var H=Pe();r[t++]=H,e.dontdraw||Tt(),e=s}function PP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.includestartstop=!1,e.semi=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.bc412emptyData#11864",r[t++]="The data must not be empty",Q()),e.semi&&(e.includestartstop=!0),e.barchars="0R9GLVHA8EZ4NTS1J2Q6C7DYKBUIX3FWP5M",e.charvals=new Map;for(var n=0;n<=34;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.bc412badCharacter#11884",r[t++]="BC412 must contain only digits and capital letters except O",Q())}if(e.semi){e.validatecheck?(e.barcode.length<8||e.barcode.length>19)&&(r[t++]="bwipp.bc412semivalidateBadLength#11892",r[t++]="BC412 semi with check digit must be 8 to 19 characters long",Q()):(e.barcode.length<7||e.barcode.length>18)&&(r[t++]="bwipp.bc412semiBadLength#11896",r[t++]="BC412 semi must be 7 to 18 characters long",Q()),e.barlen=e.barcode.length,e.validatecheck||(e.barlen=e.barlen+1,e.sbarcode=Z(e.barlen),g(e.sbarcode,0,d(e.barcode,0)),g(e.sbarcode,1,48),R(e.sbarcode,2,S(e.barcode,1,e.barlen-2)),e.barcode=e.sbarcode),e.sumodd=0,e.sumeven=0;for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,r[t++]=d(e.charvals,S(e.barcode,e.i,1)),e.i%2==0?e.sumodd=C(r[--t]+e.sumodd):e.sumeven=C(r[--t]+e.sumeven);e.checksum=C(e.sumodd%35+e.sumeven%35*2)%35,e.validatecheck?e.checksum!=0&&(r[t++]="bwipp.bc412semiBadCheckDigit#11922",r[t++]="Incorrect BC412 semi check digit provided",Q()):(e.checksum=e.checksum*17%35,g(e.barcode,1,d(e.barchars,e.checksum)))}else{if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var h=r[--t];r[t++]=h-1}var p=r[--t];e[r[--t]]=p,e.checksum=0;for(var m=0,x=e.barlen-1;m<=x;m+=1)e.checksum=C(d(e.charvals,S(e.barcode,m,1))+e.checksum);e.checksum=e.checksum%35,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.bc412badCheckDigit#11939",r[t++]="Incorrect BC412 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen),e.includecheck=!0)}e.encs=a(["11111115","13111212","11131113","12111213","12121311","13131111","12111312","11131212","11121411","11151111","15111111","11111511","12131211","13121112","13111311","11111214","12121113","11111313","13111113","11121213","11141112","11121312","11141211","14121111","12121212","11131311","13121211","12111411","14111211","11111412","12111114","14111112","12141111","11121114","12131112","12","111"]),e.sbs=Z((e.barlen+1)*8+5),e.includecheck?e.txt=a(e.barlen+1):e.txt=a(e.barlen),e.includestartstop?(R(e.sbs,0,d(e.encs,35)),e.pos=2,e.txtpos=3):(e.pos=0,e.txtpos=0);for(var b=0,v=e.barlen-1;b<=v;b+=1)e.i=b,e.indx=d(e.charvals,S(e.barcode,e.i,1)),R(e.sbs,e.pos,d(e.encs,e.indx)),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8;e.includecheck&&(R(e.sbs,e.pos,d(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen,a([S(e.barchars,e.checksum,1),e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,a(["",e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8),e.includestartstop&&(R(e.sbs,e.pos,d(e.encs,36)),e.pos=e.pos+3),e.sbs=S(e.sbs,0,e.pos),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,y=0,A=w.length;y<A;y++)r[t++]=d(w,y)-48;var k=a();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=e.height;var N=a();r[t++]=1/0;for(var I=0,M=~~((e.sbs.length+1)/2);I<M;I++)r[t++]=0;var B=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=B,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var F=Pe();r[t++]=F,e.dontdraw||Tt(),e=s}function UP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.altstartstop=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<2||e.barcode.length<3&&e.validatecheck)&&(r[t++]="bwipp.rationalizedCodabarBadLength#12067",r[t++]="Codabar must be at least 2 characters in length excluding any check digit",Q()),e.encs=a(["11111331","11113311","11131131","33111111","11311311","31111311","13111131","13113111","13311111","31131111","11133111","11331111","31113131","31311131","31313111","11313131","11331311","13131131","11131331","11133311"]),e.barcharsnormal="0123456789-$:/.+ABCD",e.barcharsalt="0123456789-$:/.+TN*E";var n=e.altstartstop?e.barcharsalt:e.barcharsnormal;e.barchars=n,e.charvals=new Map;for(var i=0;i<=19;i+=1)g(e.charvals,S(e.barchars,i,1),i);e.bodyvals=new Map;for(var o=0;o<=15;o+=1)g(e.bodyvals,S(e.barchars,o,1),o);e.ssvals=new Map;for(var l=16;l<=19;l+=1)g(e.ssvals,S(e.barchars,l,1),l);var u=d(e.ssvals,S(e.barcode,0,1))!==void 0,f=d(e.ssvals,S(e.barcode,e.barcode.length-1,1))!==void 0;(!u||!f)&&(e.altstartstop?(r[t++]="bwipp.rationalizedCodabarBadAltStartStop#12099",r[t++]="Codabar start and stop characters must be one of E N T or *",Q()):(r[t++]="bwipp.rationalizedCodabarBadStartStop#12101",r[t++]="Codabar start and stop characters must be one of A B C or D",Q()));for(var h=1,p=e.barcode.length-2;h<=p;h+=1){var m=d(e.bodyvals,S(e.barcode,h,1))!==void 0;m||(r[t++]="bwipp.rationalizedCodabarBadCharacter#12106",r[t++]="Codabar body must contain only digits and symbols - $ : / . +",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var x=r[--t];r[t++]=x-1}var b=r[--t];e[r[--t]]=b,e.checksum=0;for(var v=0,w=e.barlen-2;v<=w;v+=1)e.checksum=C(d(e.charvals,S(e.barcode,v,1))+e.checksum);var y=S(e.barcode,e.barcode.length-1,1);if(e.checksum=C(d(e.charvals,y)+e.checksum),e.checksum=(16-e.checksum%16)%16,e.validatecheck){d(e.barcode,e.barlen-1)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.rationalizedCodabarBadCheckDigit#12122",r[t++]="Incorrect Codabar check digit provided",Q());var A=Z(e.barlen);R(A,0,S(e.barcode,0,e.barlen-1)),R(A,e.barlen-1,S(e.barcode,e.barlen,1)),e.barcode=A,e.includecheck=!0}if(r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var k=r[--t];r[t++]=k+1}var E=Z(r[--t]*8);if(e[r[--t]]=E,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var j=r[--t];r[t++]=j+1}var N=a(r[--t]);e[r[--t]]=N,e.xpos=0;for(var I=0,M=e.barlen-2;I<=M;I+=1){e.i=I,e.indx=d(e.charvals,S(e.barcode,e.i,1)),e.enc=d(e.encs,e.indx),R(e.sbs,e.i*8,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var B=0;B<=7;B+=1)e.xpos=C(d(e.enc,B)-48+e.xpos)}if(e.includecheck){R(e.sbs,e.barlen*8-8,d(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen-1,a([S(e.barchars,e.checksum,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen-1,a([" ",e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var F=0;F<=7;F+=1)e.xpos=C(d(d(e.encs,e.checksum),F)-48+e.xpos);e.indx=d(e.charvals,S(e.barcode,e.barlen-1,1)),e.enc=d(e.encs,e.indx),R(e.sbs,e.barlen*8,e.enc),g(e.txt,e.barlen,a([S(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else e.indx=d(e.charvals,S(e.barcode,e.barlen-1,1)),e.enc=d(e.encs,e.indx),R(e.sbs,e.barlen*8-8,e.enc),g(e.txt,e.barlen-1,a([S(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0,xe(e.sbs,function(){var oe=r[--t];r[t++]=oe-48});var D=a();r[t++]=1/0;for(var H=0,T=~~((e.sbs.length+1)/2);H<T;H++)r[t++]=e.height;var _=a();r[t++]=1/0;for(var L=0,z=~~((e.sbs.length+1)/2);L<z;L++)r[t++]=0;var G=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=D,r[t++]="bhs",r[t++]=_,r[t++]="bbs",r[t++]=G,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var K=Pe();r[t++]=K,e.dontdraw||Tt(),e=s}function OP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.15,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,xe(e.barcode,function(){var Le=r[--t];(Le<48||Le>57)&&(r[t++]="bwipp.onecodeBadCharacter#12232",r[t++]="The data must contain only digits",Q())}),e.barlen!=20&&e.barlen!=25&&e.barlen!=29&&e.barlen!=31&&(r[t++]="bwipp.onecodeInvalidLength#12237",r[t++]="The data must be 20, 25, 29 or 31 digits",Q()),r[t++]=1/0;var n=W(S(e.barcode,5,1),"9")?14:11;r[t++]=2,r[t++]=2,r[t++]=5,r[t++]=5,r[t++]=n,r[t++]=n,r[t++]=20,r[t++]=20,r[t++]=25,r[t++]=25,r[t++]=29,r[t++]=29,e.txtdict=Pe(),e.txt=a(e.barlen+6),e.spacecnt=0;for(var i=0,o=e.barlen-1;i<=o;i+=1){e.i=i;var l=d(e.txtdict,e.i)!==void 0;l&&(g(e.txt,e.i+e.spacecnt,a([" ",0,0,"",0])),e.spacecnt=e.spacecnt+1),g(e.txt,e.i+e.spacecnt,a([S(e.barcode,e.i,1),0,0,"",0]))}e.txt=S(e.txt,0,e.barcode.length+e.spacecnt),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var Le=e.num.length-1;Le>=1;Le-=1){e.i=Le;var rt=e.num,Se=e.i;g(rt,Se-1,C(d(rt,Se-1)+~~(d(e.num,e.i)/e.base))),g(e.num,e.i,d(e.num,e.i)%e.base)}for(;!wa(d(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,O(e.num),e.num=a(),g(e.num,0,C(d(e.num,0)+~~(d(e.num,1)/e.base))),g(e.num,1,d(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var qe=e.num,We=0,Ke=qe.length;We<Ke;We++){var Te=d(qe,We);r[t++]=Te,Te==0&&e.i?t--:e.i=!1}e.num=a(),e.num.length==0&&(e.num=a([0])),r[t++]=e.num},e.bigadd=function(){var Le=r[--t],rt=r[--t];if(e.offset=al(Le.length-rt.length),Le.length<rt.length){var Se=Le;Le=rt,rt=Se}e.a=Le,e.b=rt;for(var qe=0,We=e.b.length-1;qe<=We;qe+=1){var Ke=e.a,Te=e.offset;g(Ke,qe+Te,C(d(Ke,qe+Te)+d(e.b,qe)))}r[t++]=e.a};var u=new Map([[20,a([0])],[25,a([1])],[29,a([1,0,0,0,0,1])],[31,a([1,0,0,0,1,0,0,0,0,1])]]);e.startvals=u,r[t++]="binval",r[t++]=d(e.startvals,e.barlen),r[t++]=1/0;for(var f=S(e.barcode,20,e.barlen-20),h=0,p=f.length;h<p;h++)r[t++]=d(f,h)-48;var m=a();r[t++]=m,e.bigadd();var x=r[--t];e[r[--t]]=x,r[t++]=1/0,O(e.binval),r[t++]=d(e.barcode,0)-48,e.binval=a(),r[t++]=1/0;for(var b=e.binval,v=0,w=b.length;v<w;v++)r[t++]=d(b,v)*5;var y=a();r[t++]="binval",r[t++]=y,r[t++]=a([d(e.barcode,1)-48]),e.bigadd(),r[t++]=10,e.normalize();var A=r[--t];e[r[--t]]=A,r[t++]=1/0,O(e.binval);for(var k=S(e.barcode,2,18),E=0,j=k.length;E<j;E++)r[t++]=d(k,E)-48;e.binval=a(),e.bytes=a(13);var N=e.binval;e.bintmp=Nc(a(N.length),N);for(var I=12;I>=0;I-=1){e.i=I;for(var M=0,B=e.bintmp.length-2;M<=B;M+=1){e.j=M;var F=e.bintmp,D=e.j;g(F,D+1,C(d(F,D+1)+d(e.bintmp,e.j)%256*10)),g(e.bintmp,e.j,~~(d(e.bintmp,e.j)/256))}g(e.bytes,e.i,d(e.bintmp,e.bintmp.length-1)%256);var H=e.bintmp,T=e.bintmp;g(H,T.length-1,~~(d(H,T.length-1)/256))}e.fcs=2047,e.dat=d(e.bytes,0)<<5;for(var _=0;_<6;_++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1;for(var L=1;L<=12;L+=1){e.dat=d(e.bytes,L)<<3;for(var z=0;z<8;z++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1}e.codewords=a(10);for(var G=9;G>=0;G-=1){e.i=G;var K=e.i==9?636:1365;e.b=K;for(var oe=0,V=e.binval.length-2;oe<=V;oe+=1){e.j=oe;var Y=e.binval,ie=e.j;g(Y,ie+1,C(d(Y,ie+1)+d(e.binval,e.j)%e.b*10)),g(e.binval,e.j,~~(d(e.binval,e.j)/e.b))}g(e.codewords,e.i,d(e.binval,e.binval.length-1)%e.b);var de=e.binval,re=e.binval;g(de,re.length-1,~~(d(de,re.length-1)/e.b))}g(e.codewords,9,d(e.codewords,9)*2),e.fcs&1024&&g(e.codewords,0,d(e.codewords,0)+659),e.tab513=a([31,7936,47,7808,55,7552,59,7040,61,6016,62,3968,79,7744,87,7488,91,6976,93,5952,94,3904,103,7360,107,6848,109,5824,110,3776,115,6592,117,5568,118,3520,121,5056,122,3008,124,1984,143,7712,151,7456,155,6944,157,5920,158,3872,167,7328,171,6816,173,5792,174,3744,179,6560,181,5536,182,3488,185,5024,186,2976,188,1952,199,7264,203,6752,205,5728,206,3680,211,6496,213,5472,214,3424,217,4960,218,2912,220,1888,227,6368,229,5344,230,3296,233,4832,234,2784,236,1760,241,4576,242,2528,244,1504,248,992,271,7696,279,7440,283,6928,285,5904,286,3856,295,7312,299,6800,301,5776,302,3728,307,6544,309,5520,310,3472,313,5008,314,2960,316,1936,327,7248,331,6736,333,5712,334,3664,339,6480,341,5456,342,3408,345,4944,346,2896,348,1872,355,6352,357,5328,358,3280,361,4816,362,2768,364,1744,369,4560,370,2512,372,1488,376,976,391,7216,395,6704,397,5680,398,3632,403,6448,405,5424,406,3376,409,4912,410,2864,412,1840,419,6320,421,5296,422,3248,425,4784,426,2736,428,1712,433,4528,434,2480,436,1456,440,944,451,6256,453,5232,454,3184,457,4720,458,2672,460,1648,465,4464,466,2416,468,1392,472,880,481,4336,482,2288,484,1264,488,752,527,7688,535,7432,539,6920,541,5896,542,3848,551,7304,555,6792,557,5768,558,3720,563,6536,565,5512,566,3464,569,5e3,570,2952,572,1928,583,7240,587,6728,589,5704,590,3656,595,6472,597,5448,598,3400,601,4936,602,2888,604,1864,611,6344,613,5320,614,3272,617,4808,618,2760,620,1736,625,4552,626,2504,628,1480,632,968,647,7208,651,6696,653,5672,654,3624,659,6440,661,5416,662,3368,665,4904,666,2856,668,1832,675,6312,677,5288,678,3240,681,4776,682,2728,684,1704,689,4520,690,2472,692,1448,696,936,707,6248,709,5224,710,3176,713,4712,714,2664,716,1640,721,4456,722,2408,724,1384,728,872,737,4328,738,2280,740,1256,775,7192,779,6680,781,5656,782,3608,787,6424,789,5400,790,3352,793,4888,794,2840,796,1816,803,6296,805,5272,806,3224,809,4760,810,2712,812,1688,817,4504,818,2456,820,1432,824,920,835,6232,837,5208,838,3160,841,4696,842,2648,844,1624,849,4440,850,2392,852,1368,865,4312,866,2264,868,1240,899,6200,901,5176,902,3128,905,4664,906,2616,908,1592,913,4408,914,2360,916,1336,929,4280,930,2232,932,1208,961,4216,962,2168,964,1144,1039,7684,1047,7428,1051,6916,1053,5892,1054,3844,1063,7300,1067,6788,1069,5764,1070,3716,1075,6532,1077,5508,1078,3460,1081,4996,1082,2948,1084,1924,1095,7236,1099,6724,1101,5700,1102,3652,1107,6468,1109,5444,1110,3396,1113,4932,1114,2884,1116,1860,1123,6340,1125,5316,1126,3268,1129,4804,1130,2756,1132,1732,1137,4548,1138,2500,1140,1476,1159,7204,1163,6692,1165,5668,1166,3620,1171,6436,1173,5412,1174,3364,1177,4900,1178,2852,1180,1828,1187,6308,1189,5284,1190,3236,1193,4772,1194,2724,1196,1700,1201,4516,1202,2468,1204,1444,1219,6244,1221,5220,1222,3172,1225,4708,1226,2660,1228,1636,1233,4452,1234,2404,1236,1380,1249,4324,1250,2276,1287,7188,1291,6676,1293,5652,1294,3604,1299,6420,1301,5396,1302,3348,1305,4884,1306,2836,1308,1812,1315,6292,1317,5268,1318,3220,1321,4756,1322,2708,1324,1684,1329,4500,1330,2452,1332,1428,1347,6228,1349,5204,1350,3156,1353,4692,1354,2644,1356,1620,1361,4436,1362,2388,1377,4308,1378,2260,1411,6196,1413,5172,1414,3124,1417,4660,1418,2612,1420,1588,1425,4404,1426,2356,1441,4276,1442,2228,1473,4212,1474,2164,1543,7180,1547,6668,1549,5644,1550,3596,1555,6412,1557,5388,1558,3340,1561,4876,1562,2828,1564,1804,1571,6284,1573,5260,1574,3212,1577,4748,1578,2700,1580,1676,1585,4492,1586,2444,1603,6220,1605,5196,1606,3148,1609,4684,1610,2636,1617,4428,1618,2380,1633,4300,1634,2252,1667,6188,1669,5164,1670,3116,1673,4652,1674,2604,1681,4396,1682,2348,1697,4268,1698,2220,1729,4204,1730,2156,1795,6172,1797,5148,1798,3100,1801,4636,1802,2588,1809,4380,1810,2332,1825,4252,1826,2204,1857,4188,1858,2140,1921,4156,1922,2108,2063,7682,2071,7426,2075,6914,2077,5890,2078,3842,2087,7298,2091,6786,2093,5762,2094,3714,2099,6530,2101,5506,2102,3458,2105,4994,2106,2946,2119,7234,2123,6722,2125,5698,2126,3650,2131,6466,2133,5442,2134,3394,2137,4930,2138,2882,2147,6338,2149,5314,2150,3266,2153,4802,2154,2754,2161,4546,2162,2498,2183,7202,2187,6690,2189,5666,2190,3618,2195,6434,2197,5410,2198,3362,2201,4898,2202,2850,2211,6306,2213,5282,2214,3234,2217,4770,2218,2722,2225,4514,2226,2466,2243,6242,2245,5218,2246,3170,2249,4706,2250,2658,2257,4450,2258,2402,2273,4322,2311,7186,2315,6674,2317,5650,2318,3602,2323,6418,2325,5394,2326,3346,2329,4882,2330,2834,2339,6290,2341,5266,2342,3218,2345,4754,2346,2706,2353,4498,2354,2450,2371,6226,2373,5202,2374,3154,2377,4690,2378,2642,2385,4434,2401,4306,2435,6194,2437,5170,2438,3122,2441,4658,2442,2610,2449,4402,2465,4274,2497,4210,2567,7178,2571,6666,2573,5642,2574,3594,2579,6410,2581,5386,2582,3338,2585,4874,2586,2826,2595,6282,2597,5258,2598,3210,2601,4746,2602,2698,2609,4490,2627,6218,2629,5194,2630,3146,2633,4682,2641,4426,2657,4298,2691,6186,2693,5162,2694,3114,2697,4650,2705,4394,2721,4266,2753,4202,2819,6170,2821,5146,2822,3098,2825,4634,2833,4378,2849,4250,2881,4186,2945,4154,3079,7174,3083,6662,3085,5638,3086,3590,3091,6406,3093,5382,3094,3334,3097,4870,3107,6278,3109,5254,3110,3206,3113,4742,3121,4486,3139,6214,3141,5190,3145,4678,3153,4422,3169,4294,3203,6182,3205,5158,3209,4646,3217,4390,3233,4262,3265,4198,3331,6166,3333,5142,3337,4630,3345,4374,3361,4246,3393,4182,3457,4150,3587,6158,3589,5134,3593,4622,3601,4366,3617,4238,3649,4174,3713,4142,3841,4126,4111,7681,4119,7425,4123,6913,4125,5889,4135,7297,4139,6785,4141,5761,4147,6529,4149,5505,4153,4993,4167,7233,4171,6721,4173,5697,4179,6465,4181,5441,4185,4929,4195,6337,4197,5313,4201,4801,4209,4545,4231,7201,4235,6689,4237,5665,4243,6433,4245,5409,4249,4897,4259,6305,4261,5281,4265,4769,4273,4513,4291,6241,4293,5217,4297,4705,4305,4449,4359,7185,4363,6673,4365,5649,4371,6417,4373,5393,4377,4881,4387,6289,4389,5265,4393,4753,4401,4497,4419,6225,4421,5201,4425,4689,4483,6193,4485,5169,4489,4657,4615,7177,4619,6665,4621,5641,4627,6409,4629,5385,4633,4873,4643,6281,4645,5257,4649,4745,4675,6217,4677,5193,4739,6185,4741,5161,4867,6169,4869,5145,5127,7173,5131,6661,5133,5637,5139,6405,5141,5381,5155,6277,5157,5253,5187,6213,5251,6181,5379,6165,5635,6157,6151,7171,6155,6659,6163,6403,6179,6275,6211,5189,4681,4433,4321,3142,2634,2386,2274,1612,1364,1252,856,744,496]),e.tab213=a([3,6144,5,5120,6,3072,9,4608,10,2560,12,1536,17,4352,18,2304,20,1280,24,768,33,4224,34,2176,36,1152,40,640,48,384,65,4160,66,2112,68,1088,72,576,80,320,96,192,129,4128,130,2080,132,1056,136,544,144,288,257,4112,258,2064,260,1040,264,528,513,4104,514,2056,516,1032,1025,4100,1026,2052,2049,4098,4097,2050,1028,520,272,160]),e.chars=a(10);for(var ne=0;ne<=9;ne+=1){e.i=ne;var le=d(e.codewords,e.i);if(r[t++]=le,le<=1286){var ue=d(e.tab513,r[--t]);r[t++]=ue}else{var Me=d(e.tab213,r[--t]-1287);r[t++]=Me}r[t++]=e.chars,r[t++]=e.i;var pe=r[t-3],Fe=r[t-1];g(r[t-2],Fe,pe),t-=3}for(var Ce=9;Ce>=0;Ce-=1)e.i=Ce,~~v1(2,e.i)&e.fcs&&g(e.chars,e.i,d(e.chars,e.i)^8191);e.barmap=a([7,2,4,3,1,10,0,0,9,12,2,8,5,5,6,11,8,9,3,1,0,1,5,12,2,5,1,8,4,4,9,11,6,3,8,10,3,9,7,6,5,11,1,4,8,5,2,12,9,10,0,2,7,1,6,7,3,6,4,9,0,3,8,6,6,4,2,7,1,1,9,9,7,10,5,2,4,0,3,8,6,2,0,4,8,11,1,0,9,8,3,12,2,6,7,7,5,1,4,10,1,12,6,9,7,3,8,0,5,8,9,7,4,6,2,10,3,4,0,5,8,4,5,7,7,11,1,9,6,0,9,6,0,6,4,8,2,1,3,2,5,9,8,12,4,11,6,1,9,5,7,4,3,3,1,2,0,7,2,0,1,3,4,1,6,10,3,5,8,7,9,4,2,11,5,6,0,8,7,12,4,2,8,1,5,10,3,0,9,3,0,9,6,5,2,4,7,8,1,7,5,0,4,5,2,3,0,10,6,12,9,2,3,11,1,6,8,8,7,9,5,4,0,11,1,5,2,2,9,1,4,12,8,3,6,6,7,0,3,7,4,7,7,5,0,12,1,11,2,9,9,0,6,8,5,3,3,10,8,2]),e.bbs=a(65),e.bhs=a(65);for(var ve=0;ve<=64;ve+=1)e.i=ve,e.dec=(d(e.chars,d(e.barmap,e.i*4))&~~v1(2,d(e.barmap,e.i*4+1)))!=0,e.asc=(d(e.chars,d(e.barmap,e.i*4+2))&~~v1(2,d(e.barmap,e.i*4+3)))!=0,!e.dec&&!e.asc&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),!e.dec&&e.asc&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),e.dec&&!e.asc&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),e.dec&&e.asc&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var Be=e.bbs,Ue=e.bhs;r[t++]=1/0;for(var Xe=0,Re=e.bhs.length-1;Xe<Re;Xe++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Ge=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Be,r[t++]="bhs",r[t++]=Ue,r[t++]="sbs",r[t++]=Ge,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="left",r[t++]="textfont",r[t++]="OCR-B",r[t++]="textyoffset",r[t++]=1,r[t++]="textxoffset",r[t++]=-.3,r[t++]="opt",r[t++]=e.options;var Oe=Pe();r[t++]=Oe,e.dontdraw||Tt(),e=s}function zP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=5&&e.barlen!=9&&e.barlen!=11&&(r[t++]="bwipp.postnetBadLength#12597",r[t++]="USPS POSTNET must be 5, 9 or 11 digits excluding check digit",Q()),xe(e.barcode,function(){var F=r[--t];(F<48||F>57)&&(r[t++]="bwipp.postnetBadCharacter#12601",r[t++]="USPS POSTNET must contain only digits",Q())}),e.barchars="0123456789",e.encs=a(["55222","22255","22525","22552","25225","25252","25522","52225","52252","52522","5","5"]),e.checksum=0;for(var o=0,l=e.barlen-1;o<=l;o+=1)e.i=o,e.checksum=C(e.checksum+(d(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.postnetBadCheckDigit#12625",r[t++]="Incorrect USPS POSTNET check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen)),e.bhs=a(e.barlen*5+7),e.txt=a(e.barlen+1),e.enc=d(e.encs,10),e.heights=a(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=d(e.encs,d(e.barcode,e.i)-48),e.heights=a(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,e.i*5+1,e.heights),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=d(e.encs,e.checksum),e.heights=a(e.enc.length);for(var b=0,v=e.enc.length-1;b<=v;b+=1)e.j=b,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?g(e.txt,e.barlen,a([S(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,a([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=d(e.encs,11),e.heights=a(e.enc.length);for(var w=0,y=e.enc.length-1;w<=y;w+=1)e.j=w,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var k=0,E=e.bhs.length;k<E;k++)r[t++]=0;var j=a();r[t++]=1/0;for(var N=0,I=e.bhs.length-1;N<I;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var M=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,r[t++]="sbs",r[t++]=M,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var B=Pe();r[t++]=B,e.dontdraw||Tt(),e=s}function LP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=11&&e.barlen!=13&&(r[t++]="bwipp.planetBadLength#12745",r[t++]="USPS PLANET must be 11 or 13 digits excluding check digit",Q()),xe(e.barcode,function(){var F=r[--t];(F<48||F>57)&&(r[t++]="bwipp.planetBadCharacter#12749",r[t++]="USPS PLANET must contain only digits",Q())}),e.barchars="0123456789",e.encs=a(["22555","55522","55252","55225","52552","52525","52255","25552","25525","25255","5","5"]),e.checksum=0;for(var o=0,l=e.barlen-1;o<=l;o+=1)e.i=o,e.checksum=C(e.checksum+(d(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.planetBadCheckDigit#12774",r[t++]="Incorrect USPS PLANET check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen)),e.bhs=a(e.barlen*5+7),e.txt=a(e.barlen+1),e.enc=d(e.encs,10),e.heights=a(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=d(e.encs,d(e.barcode,e.i)-48),e.heights=a(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,e.i*5+1,e.heights),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=d(e.encs,e.checksum),e.heights=a(e.enc.length);for(var b=0,v=e.enc.length-1;b<=v;b+=1)e.j=b,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?g(e.txt,e.barlen,a([S(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,a([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=d(e.encs,11),e.heights=a(e.enc.length);for(var w=0,y=e.enc.length-1;w<=y;w+=1)e.j=w,g(e.heights,e.j,Ie(S(e.enc,e.j,1))*e.height/5);R(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var k=0,E=e.bhs.length;k<E;k++)r[t++]=0;var j=a();r[t++]=1/0;for(var N=0,I=e.bhs.length-1;N<I;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var M=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,r[t++]="sbs",r[t++]=M,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var B=Pe();r[t++]=B,e.dontdraw||Tt(),e=s}function QP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.royalmailEmptyData#12889",r[t++]="The data must not be empty",Q()),e.barchars="ZUVWXY501234B6789AHCDEFGNIJKLMTOPQRS",e.charvals=new Map;for(var n=0;n<=35;n+=1)g(e.charvals,S(e.barchars,n,1),n);e.encs=a(["3300","2211","2301","2310","3201","3210","1122","0033","0123","0132","1023","1032","1302","0213","0303","0312","1203","1212","1320","0231","0321","0330","1221","1230","3102","2013","2103","2112","3003","3012","3120","2031","2121","2130","3021","3030","2","3"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.royalmailBadCharacter#12915",r[t++]="RM4SCC must contain only capital letters and digits",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksumrow=0,e.checksumcol=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=d(e.charvals,S(e.barcode,e.i,1)),e.checksumrow=e.checksumrow+~~(e.indx/6),e.checksumcol=C(e.checksumcol+e.indx%6);e.checksum=C(e.checksumrow%6*6+e.checksumcol%6),e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.royalmailBadCheckDigit#12932",r[t++]="Incorrect RM4SCC check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen)),e.encstr=Z(e.barlen*4+6),e.txt=a(e.barlen+1),R(e.encstr,0,d(e.encs,36));for(var m=0,x=e.barlen-1;m<=x;m+=1)e.i=m,e.indx=d(e.charvals,S(e.barcode,e.i,1)),R(e.encstr,e.i*4+1,d(e.encs,e.indx)),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.i*4+1)*3.312,e.textyoffset,e.textfont,e.textsize]));R(e.encstr,e.barlen*4+1,d(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen,a([S(e.barchars,e.checksum,1),(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,a([" ",(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])),R(e.encstr,e.barlen*4+5,d(e.encs,37)),e.bbs=a(e.encstr.length),e.bhs=a(e.encstr.length);for(var b=0,v=e.encstr.length-1;b<=v;b+=1)e.i=b,e.enc=S(e.encstr,e.i,1),W(e.enc,"0")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),W(e.enc,"1")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"2")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"3")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var w=e.bbs,y=e.bhs;r[t++]=1/0;for(var A=0,k=e.bhs.length-1;A<k;A++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var E=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=w,r[t++]="bhs",r[t++]=y,r[t++]="sbs",r[t++]=E,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var j=Pe();r[t++]=j,e.dontdraw||Tt(),e=s}function HP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,e.custinfoenc="character",r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Ee(e.custinfoenc,"character")&&Ee(e.custinfoenc,"numeric")&&(r[t++]="bwipp.auspostBadCustinfoEncoding#13045",r[t++]="Customer information encoding must be either character or numeric",Q()),e.encs=a(["000","001","002","010","011","012","020","021","022","100","101","102","110","111","112","120","121","122","200","201","202","210","211","212","220","221","222","300","301","302","310","311","312","320","321","322","023","030","031","032","033","103","113","123","130","131","132","133","203","213","223","230","231","232","233","303","313","323","330","331","332","333","003","013","00","01","02","10","11","12","20","21","22","30","13","3"]),e.barchars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz #";var n=new Map([["11",37],["45",37],["59",52],["62",67]]);e.fcclen=n,e.barlen=e.barcode.length,e.barlen<10&&(r[t++]="bwipp.auspostTooShort#13075",r[t++]="The data length must be at least 10",Q()),e.txt=a(e.barlen-2),r[t++]=e.fcclen,e.barlen>=2?r[t++]=S(e.barcode,0,2):r[t++]="";var i=r[t-1],o=r[t-2],l=d(o,i)!==void 0;l||(t-=2,r[t++]="bwipp.auspostBadFCC#13082",r[t++]="Must begin with an FCC, either 11, 45, 59 or 62",Q());var u=r[--t];e.encstr=Z(d(r[--t],u)),r[t++]=!0;for(var f=0;f<1;f++){if(e.barlen<10){r[t-1]=!1;break}for(var h=S(e.barcode,2,8),p=0,m=h.length;p<m;p++){var x=d(h,p);if(x<48||x>57){r[t-1]=!1;break}}}r[--t]||(r[t++]="bwipp.auspostIncompleteDPID#13093",r[t++]="The DPID must be 8 digits",Q());var b=W(e.custinfoenc,"numeric")?2:3;(e.barlen-10)*b>e.encstr.length-22-14&&(r[t++]="bwipp.auspostTooLong#13099",r[t++]="The message is too long",Q()),R(e.encstr,0,d(e.encs,74));for(var v=0;v<=1;v+=1)e.i=v,R(e.encstr,e.i*2+2,d(e.encs,Ie(S(e.barcode,e.i,1))+64));for(var w=2;w<=9;w+=1)e.i=w,R(e.encstr,e.i*2+2,d(e.encs,Ie(S(e.barcode,e.i,1))+64)),g(e.txt,e.i-2,a([S(e.barcode,e.i,1),((e.i-2)*2+6)*3.312,e.textyoffset,e.textfont,e.textsize]));if(W(e.custinfoenc,"numeric")){for(var y=0,A=e.barlen-11;y<=A;y+=1){e.i=y;var k=d(e.barcode,e.i+10);r[t++]=e.encs,r[t++]=k,(k<48||k>57)&&(r[t++]="bwipp.auspostInvalidCustinfoDigit#13126",r[t++]="The customer information data contains a non-digit character",Q());var E=r[--t];R(e.encstr,e.i*2+22,d(r[--t],E-48+64)),g(e.txt,e.i+8,a([S(e.barcode,e.i+10,1),(e.i*2+22)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.ciflen=(e.barlen-10)*2}else{for(var j=0,N=e.barlen-11;j<=N;j+=1)e.i=j,Rt(e.barchars,S(e.barcode,e.i+10,1)),r[--t]||(t--,r[t++]="bwipp.auspostInvalidCustinfoCharacter#13138",r[t++]="The customer information contains an invalid character",Q()),e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.encstr,e.i*3+22,e.enc),g(e.txt,e.i+8,a([S(e.barcode,e.i+10,1),(e.i*3+22)*3.312,e.textyoffset,e.textfont,e.textsize]));e.ciflen=(e.barlen-10)*3}for(var I=22+e.ciflen,M=e.encstr.length-14;I<=M;I+=1)R(e.encstr,I,d(e.encs,75));e.rstable=a(64*64),r[t++]=e.rstable,r[t++]=0,r[t++]=1/0;for(var B=0;B<64;B++)r[t++]=0;var F=a(),D=r[--t];R(r[--t],D,F),r[t++]=e.rstable,r[t++]=64,r[t++]=1/0;for(var H=0;H<=63;H+=1)r[t++]=H;var T=a(),_=r[--t];R(r[--t],_,T),e.prev=1;for(var L=0;L<64;L++){e.next=e.prev<<1,e.next&64&&(e.next=e.next^67);for(var z=0;z<=63;z+=1){e.j=z,e.nextcell=function(){r[t++]=e.rstable,r[t++]=64*e.next+e.j},e.nextcell();var G=r[--t];g(r[--t],G,d(e.rstable,64*e.prev+e.j)<<1),e.nextcell();var K=r[--t];if(d(r[--t],K)&64){e.nextcell(),e.nextcell();var oe=r[--t],V=d(r[--t],oe),Y=r[--t];g(r[--t],Y,V^67)}}e.prev=e.next}e.rscodes=a(~~((e.encstr.length-16)/3)+4),r[t++]=e.rscodes,r[t++]=0,r[t++]=1/0;for(var ie=0;ie<4;ie++)r[t++]=0;var de=a(),re=r[--t];R(r[--t],re,de);for(var ne=2,le=e.encstr.length-16;ne<=le;ne+=3)e.i=ne,g(e.rscodes,e.rscodes.length-~~((e.i-2)/3)-1,Ie(S(e.encstr,e.i,1))*16+Ie(S(e.encstr,e.i+1,1))*4+Ie(S(e.encstr,e.i+2,1)));for(var ue=e.rscodes.length-5;ue>=0;ue-=1){e.i=ue;for(var Me=0;Me<=4;Me+=1)e.j=Me,g(e.rscodes,e.i+e.j,bn(d(e.rscodes,e.i+e.j),d(e.rstable,C(64*d(a([48,17,29,30,1]),e.j)+d(e.rscodes,e.i+4)))))}e.checkcode=Tr(Z(12),"000000000000");for(var pe=0;pe<=3;pe+=1)e.i=pe,e.enc=qt(Z(3),d(e.rscodes,3-e.i),4),R(e.checkcode,e.i*3+(3-e.enc.length),e.enc);R(e.encstr,e.encstr.length-14,e.checkcode),R(e.encstr,e.encstr.length-2,d(e.encs,74)),e.bbs=a(e.encstr.length),e.bhs=a(e.encstr.length);for(var Fe=0,Ce=e.encstr.length-1;Fe<=Ce;Fe+=1)e.i=Fe,e.enc=S(e.encstr,e.i,1),W(e.enc,"0")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8)),W(e.enc,"1")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"2")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"3")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var ve=e.bbs,Be=e.bhs;r[t++]=1/0;for(var Ue=0,Xe=e.bhs.length-1;Ue<Xe;Ue++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Re=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=ve,r[t++]="bhs",r[t++]=Be,r[t++]="sbs",r[t++]=Re,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Ge=Pe();r[t++]=Ge,e.dontdraw||Tt(),e=s}function GP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.kixEmptyData#13291",r[t++]="The data must not be empty",Q()),e.encs=a(["0033","0123","0132","1023","1032","1122","0213","0303","0312","1203","1212","1302","0231","0321","0330","1221","1230","1320","2013","2103","2112","3003","3012","3102","2031","2121","2130","3021","3030","3120","2211","2301","2310","3201","3210","3300"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.charvals=new Map;for(var n=0;n<=35;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.kixBadCharacter#13316",r[t++]="KIX must contain only capital letters and digits",Q())}e.barlen=e.barcode.length,e.encstr=Z(e.barlen*4),e.txt=a(e.barlen);for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,e.indx=d(e.charvals,S(e.barcode,e.i,1)),R(e.encstr,e.i*4,d(e.encs,e.indx)),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*4*3.312,e.textyoffset,e.textfont,e.textsize]));e.bbs=a(e.encstr.length),e.bhs=a(e.encstr.length);for(var h=0,p=e.encstr.length-1;h<=p;h+=1)e.i=h,e.enc=S(e.encstr,e.i,1),W(e.enc,"0")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),W(e.enc,"1")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"2")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"3")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var m=e.bbs,x=e.bhs;r[t++]=1/0;for(var b=0,v=e.bhs.length-1;b<v;b++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var w=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=m,r[t++]="bhs",r[t++]=x,r[t++]="sbs",r[t++]=w,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var y=Pe();r[t++]=y,e.dontdraw||Tt(),e=s}function qP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.japanpostEmptyData#13415",r[t++]="The data must not be empty",Q()),xe(e.barcode,function(){var w=r[--t];w>=48&&w<=57||w>=65&&w<=90||w==45||(r[t++]="bwipp.japanpostBadCharacter#13425",r[t++]="Japan Post must contain only digits, capital letters and the dash symbol",Q())}),e.encs=a(["300","330","312","132","321","303","123","231","213","033","030","120","102","210","012","201","021","003","333","31","13"]),e.barchars="0123456789-ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.barlen=e.barcode.length,e.encstr=Z(21*3+4),e.digits=a(20),e.txt=a(e.barlen+1),R(e.encstr,0,d(e.encs,19)),e.checksum=0,e.j=0,e.i=0,r[t++]=!0;for(var n=0,i=e.barlen-1;n<=i;n+=1){if(e.i=n,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.indx>=11&&e.indx<37){if(e.j>18){r[t-1]=!1;break}e.digit=~~((e.indx-1)/10)+10,R(e.encstr,e.j*3+2,d(e.encs,e.digit)),e.checksum=e.checksum+e.digit,g(e.digits,e.j,e.digit),e.j=e.j+1}if(e.j>19){r[t-1]=!1;break}e.digit=0,e.indx==37&&(e.digit=14),e.indx>=11&&e.indx<37&&(e.digit=(e.indx-1)%10),e.indx<11&&(e.digit=e.indx),R(e.encstr,e.j*3+2,d(e.encs,e.digit)),e.checksum=e.checksum+e.digit,g(e.digits,e.j,e.digit),g(e.txt,e.i,a([S(e.barcode,e.i,1),(e.j*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),e.j=e.j+1}r[--t]||(r[t++]="bwipp.japanpostTooLong#13489",r[t++]="The input is too long",Q());for(var o=e.j,l=19;o<=l;o+=1)e.k=o,R(e.encstr,e.k*3+2,d(e.encs,14)),e.checksum=e.checksum+14,g(e.digits,e.k,14);e.checksum=19-e.checksum%19,R(e.encstr,2+20*3,d(e.encs,e.checksum)),R(e.encstr,2+21*3,d(e.encs,20)),e.checkdigit=" ",e.includecheckintext&&(e.checkdigit=S(e.barchars,e.checksum,1)),g(e.txt,e.i+1,a([e.checkdigit,(20*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),R(e.encstr,21*3+2,d(e.encs,20)),e.bbs=a(21*3+4),e.bhs=a(e.bbs.length);for(var u=0,f=e.bbs.length-1;u<=f;u+=1)e.i=u,e.enc=S(e.encstr,e.i,1),e.bunit=0,e.hunit=0,W(e.enc,"0")&&(e.bunit=3,e.hunit=2),W(e.enc,"1")&&(e.bunit=0,e.hunit=5),W(e.enc,"2")&&(e.bunit=3,e.hunit=5),W(e.enc,"3")&&(e.bunit=0,e.hunit=8),g(e.bbs,e.i,e.bunit*e.height/8),g(e.bhs,e.i,e.hunit*e.height/8);r[t++]=1/0;var h=e.bbs,p=e.bhs;r[t++]=1/0;for(var m=0,x=e.bhs.length-1;m<x;m++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var b=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=h,r[t++]="bhs",r[t++]=p,r[t++]="sbs",r[t++]=b,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var v=Pe();r[t++]=v,e.dontdraw||Tt(),e=s}function YP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.checktype="unset",e.badmod11=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Ee(e.checktype,"unset")&&!e.includecheck&&(r[t++]="bwipp.msiCheckTypeWithoutCheck#13606",r[t++]="checktype requires includecheck",Q()),e.badmod11&&Ee(e.checktype,"mod11")&&Ee(e.checktype,"ncrmod11")&&Ee(e.checktype,"mod1110")&&Ee(e.checktype,"ncrmod1110")&&(r[t++]="bwipp.msiBadMod11Mismatch#13610",r[t++]="badmod11 requires checktype with mod11",Q()),W(e.checktype,"unset")&&(e.checktype="mod10"),xe(e.barcode,function(){var I=r[--t];(I<48||I>57)&&(r[t++]="bwipp.msiBadCharacter#13620",r[t++]="MSI must contain only digits",Q())}),e.encs=a(["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221","21","121"]),e.barchars="0123456789",e.barlen=e.barcode.length,e.txtlen=e.barlen,e.mod10=function(){e.code=r[--t],r[t++]=0,r[t++]=0,xe(e.code,function(){var z=r[--t],G=r[--t],K=r[--t];r[t++]=C(z-48+G*10),r[t++]=K}),t--;var I=r[--t];for(r[t++]=I*2,r[t++]=0;;){var M=r[--t],B=r[--t],F=~~(B/10);if(r[t++]=C(M+B%10),r[t++]=F,F==0){t--;break}var D=r[--t],H=r[--t];r[t++]=D,r[t++]=H}r[t++]=0,r[t++]=0,xe(e.code,function(){var z=r[--t],G=r[--t],K=r[--t];r[t++]=C(G+(z-48)),r[t++]=K});var T=r[--t];r[t-1]=T;var _=r[--t],L=Z(e.code.length+1);R(L,0,e.code),g(L,e.code.length,(10-C(r[--t]+_)%10)%10+48),r[t++]=L},e.mod11=function(){e.code=r[--t],r[t++]=e.code.length-1,xe(e.code,function(){var G=r[--t],K=r[--t];r[t++]=G-48,r[t++]=K%6+2,r[t++]=K-1}),r[t-1]=0;for(var I=0,M=e.code.length;I<M;I++){var B=r[t-2],F=r[t-3],D=r[t-1];t-=3,r[t++]=C(D+F*B)}var H=(11-r[--t]%11)%11;if(r[t++]=H,H==10)if(e.badmod11){t--;var T=Z(e.code.length+2);R(T,0,e.code),R(T,e.code.length,"10"),r[t++]=T}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13657",r[t++]="mod11 check digit is 10 but badmod11 not specified",Q();else{var _=Z(e.code.length+1);R(_,0,e.code),r[t++]=_,r[t++]=_,r[t++]=e.code.length,Es(4,-1);var L=r[--t],z=r[--t];g(r[--t],z,L+48)}},e.ncrmod11=function(){e.code=r[--t],r[t++]=e.code.length-1,xe(e.code,function(){var G=r[--t],K=r[--t];r[t++]=G-48,r[t++]=K%8+2,r[t++]=K-1}),r[t-1]=0;for(var I=0,M=e.code.length;I<M;I++){var B=r[t-2],F=r[t-3],D=r[t-1];t-=3,r[t++]=C(D+F*B)}var H=(11-r[--t]%11)%11;if(r[t++]=H,H==10)if(e.badmod11){t--;var T=Z(e.code.length+2);R(T,0,e.code),R(T,e.code.length,"10"),r[t++]=T}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13673",r[t++]="mod11 check digit is 10 but badmod11 not specified",Q();else{var _=Z(e.code.length+1);R(_,0,e.code),r[t++]=_,r[t++]=_,r[t++]=e.code.length,Es(4,-1);var L=r[--t],z=r[--t];g(r[--t],z,L+48)}};var n=new Map([["mod10",function(){e.mod10()}],["mod1010",function(){e.mod10(),e.mod10()}],["mod11",function(){e.mod11()}],["ncrmod11",function(){e.ncrmod11()}],["mod1110",function(){e.mod11(),e.mod10()}],["ncrmod1110",function(){e.ncrmod11(),e.mod10()}]]);if(e.checkfunc=n,e.includecheck){var i=e.checkfunc,o=e.checktype,l=d(i,o)!==void 0;r[t++]=i,r[t++]=o,l||(t-=2,r[t++]="bwipp.msiBadCharacter#13694",r[t++]="MSI checktype must be mod10, mod1010, mod11, ncrmod11, mod1110 or ncrmod1110",Q());var u=r[--t],f=d(r[--t],u);if(r[t++]=e.barcode,f()===!0)return!0;e.barcode=r[--t],e.barlen=e.barcode.length,e.includecheckintext&&(e.txtlen=e.barlen)}e.sbs=Z(e.barlen*8+5),e.txt=a(e.barlen),R(e.sbs,0,d(e.encs,10));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*8+2,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*12+3,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*8+2,d(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var m=e.sbs,x=0,b=m.length;x<b;x++)r[t++]=d(m,x)-48;var v=a();r[t++]=1/0;for(var w=0,y=~~((e.sbs.length+1)/2);w<y;w++)r[t++]=e.height;var A=a();r[t++]=1/0;for(var k=0,E=~~((e.sbs.length+1)/2);k<E;k++)r[t++]=0;var j=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=v,r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,e.includetext&&(r[t++]="txt",r[t++]=S(e.txt,0,e.txtlen)),r[t++]="opt",r[t++]=e.options;var N=Pe();r[t++]=N,e.dontdraw||Tt(),e=s}function VP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.unidirectional=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.plesseyEmptyData#13785",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEF",e.charvals=new Map;for(var n=0;n<=15;n+=1)g(e.charvals,S(e.barchars,n,1),n);e.encs=a(["14141414","32141414","14321414","32321414","14143214","32143214","14323214","32323214","14141432","32141432","14321432","32321432","14143232","32143232","14323232","32323232","32321432","541412323","323"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.plesseyBadCharacter#13809",r[t++]="Plessey must contain only digits and letters A B C D E F",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-2}var f=r[--t];e[r[--t]]=f,e.checkbits=a(e.barlen*4+8),R(e.checkbits,e.barlen*4,a([0,0,0,0,0,0,0,0]));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=d(e.charvals,S(e.barcode,e.i,1)),R(e.checkbits,e.i*4,a([e.indx&1,e.indx>>>1&1,e.indx>>>2&1,e.indx>>>3]));e.checksalt=a([1,1,1,1,0,1,0,0,1]);for(var m=0,x=e.barlen*4-1;m<=x;m+=1)if(e.i=m,d(e.checkbits,e.i)==1)for(var b=0;b<=8;b+=1)e.j=b,g(e.checkbits,e.i+e.j,bn(d(e.checkbits,e.i+e.j),d(e.checksalt,e.j)));e.checkval=0;for(var v=0;v<=7;v+=1)e.i=v,e.checkval=C(e.checkval+~~v1(2,e.i)*d(e.checkbits,C(e.barlen*4+e.i)));e.checksum1=e.checkval&15,e.checksum2=e.checkval>>>4,e.validatecheck&&((d(e.barcode,e.barlen)!=d(e.barchars,e.checksum1)||d(e.barcode,e.barlen+1)!=d(e.barchars,e.checksum2))&&(r[t++]="bwipp.plesseyBadCheckDigits#13848",r[t++]="Incorrect Plessey check digits provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var w=e.unidirectional?27:33;e.sbs=Z(C(e.barlen*8+w)),e.txt=a(e.barlen+2),R(e.sbs,0,d(e.encs,16));for(var y=0,A=e.barlen-1;y<=A;y+=1)e.i=y,e.indx=d(e.charvals,S(e.barcode,e.i,1)),R(e.sbs,e.i*8+8,d(e.encs,e.indx)),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*20+20,e.textyoffset,e.textfont,e.textsize]));R(e.sbs,e.barlen*8+8,d(e.encs,e.checksum1)),R(e.sbs,e.barlen*8+16,d(e.encs,e.checksum2)),e.includecheckintext?(g(e.txt,e.barlen,a([S(e.barchars,e.checksum1,1),e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,a([S(e.barchars,e.checksum2,1),(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize]))):(g(e.txt,e.barlen,a([" ",e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,a([" ",(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize])));var k=e.unidirectional?18:17;R(e.sbs,e.barlen*8+24,d(e.encs,k)),r[t++]=1/0,r[t++]=1/0;for(var E=e.sbs,j=0,N=E.length;j<N;j++)r[t++]=d(E,j)-48;var I=a();r[t++]=1/0;for(var M=0,B=~~((e.sbs.length+1)/2);M<B;M++)r[t++]=e.height;var F=a();r[t++]=1/0;for(var D=0,H=~~((e.sbs.length+1)/2);D<H;D++)r[t++]=0;var T=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=I,r[t++]="bhs",r[t++]=F,r[t++]="bbs",r[t++]=T,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var _=Pe();r[t++]=_,e.dontdraw||Tt(),e=s}function H9(){var s=e;e=Object.assign({},e),e.numeric=!1,e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];for(e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.numeric&&e.barlen%2!=0&&(r[t++]="bwipp.telepenNumericOddLength#13955",r[t++]="Telepen Numeric must have an even length",Q()),e.encs=a(["31313131","1131313111","33313111","1111313131","3111313111","11333131","13133131","111111313111","31333111","1131113131","33113131","1111333111","3111113131","1113133111","1311133111","111111113131","3131113111","11313331","333331","111131113111","31113331","1133113111","1313113111","1111113331","31131331","113111113111","3311113111","1111131331","311111113111","1113111331","1311111331","11111111113111","31313311","1131311131","33311131","1111313311","3111311131","11333311","13133311","111111311131","31331131","1131113311","33113311","1111331131","3111113311","1113131131","1311131131","111111113311","3131111131","1131131311","33131311","111131111131","3111131311","1133111131","1313111131","111111131311","3113111311","113111111131","3311111131","111113111311","311111111131","111311111311","131111111311","11111111111131","3131311111","11313133","333133","111131311111","31113133","1133311111","1313311111","1111113133","313333","113111311111","3311311111","11113333","311111311111","11131333","13111333","11111111311111","31311133","1131331111","33331111","1111311133","3111331111","11331133","13131133","111111331111","3113131111","1131111133","33111133","111113131111","3111111133","111311131111","131111131111","111111111133","31311313","113131111111","3331111111","1111311313","311131111111","11331313","13131313","11111131111111","3133111111","1131111313","33111313","111133111111","3111111313","111313111111","131113111111","111111111313","313111111111","1131131113","33131113","11113111111111","3111131113","113311111111","131311111111","111111131113","3113111113","11311111111111","331111111111","111113111113","31111111111111","111311111113","131111111113","1111111111111111"]),e.sbs=Z(e.barlen*16+48),e.txt=a(e.barlen),e.enc=d(e.encs,95),R(e.sbs,0,e.enc),e.l=e.enc.length,e.checksum=0,e.i=0,e.j=0;e.i!=e.barlen;){if(e.numeric)if(d(e.barcode,e.i)>16){e.np=S(e.barcode,e.i,2);var o=d(e.np,0),l=d(e.np,1);if(o<48||o>57||(l<48||l>57)&&l!=88)r[t++]=-1;else{var u=d(e.np,1)-48;if(r[t++]=d(e.np,0)-48,r[t++]=u,u!=40){var f=r[--t],h=r[--t];r[t++]=C(f+h*10)+10}else t--;var p=r[--t];r[t++]=p+17}var m=r[t-1];m==-1&&(r[t++]="bwipp.telepenInvalidNumericCharacter#14021",r[t++]="Telepen Numeric may contain only digits, or X in even positions",Q()),e.indx=r[--t],g(e.txt,e.j,a([e.np,e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+2}else e.indx=d(e.barcode,e.i),g(e.txt,e.j,a([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;else e.indx=d(e.barcode,e.i),e.indx>127&&(r[t++]="bwipp.telepenInvalidAlphaCharacter#14034",r[t++]="Telepen Alpha characters must have ordinal values 0 to 127",Q()),e.indx>=32&&e.indx<=126?g(e.txt,e.j,a([S(e.barcode,e.i,1),e.j*16+16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.j,a([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;e.checksum=C(e.checksum+e.indx),e.enc=d(e.encs,e.indx),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.j=e.j+1}e.checksum=(127-e.checksum%127)%127,e.enc=d(e.encs,e.checksum),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.enc=d(e.encs,122),R(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.sbs=S(e.sbs,0,e.l),e.txt=S(e.txt,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var x=e.sbs,b=0,v=x.length;b<v;b++)r[t++]=d(x,b)-48;var w=a();r[t++]=1/0;for(var y=0,A=~~((e.sbs.length+1)/2);y<A;y++)r[t++]=e.height;var k=a();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=0;var N=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=w,r[t++]="bhs",r[t++]=k,r[t++]="bbs",r[t++]=N,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var I=Pe();r[t++]=I,e.dontdraw||Tt(),e=s}function $P(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"numeric",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,H9();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function WP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.encoding="auto",e.version="a",e.checkoffset=0,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t];var n=r[--t];e.barcode=n,e.la0=-1,e.la1=-2,e.la2=-3,e.sf0=-4,e.sf1=-5,e.sf2=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10;var i=a([e.sf1,e.sf0,e.fn3]);e.charmapsnormal=a([a(["0","^","'"]),a(["1",";",27]),a(["2","<",28]),a(["3","=",29]),a(["4",">",30]),a(["5","?",31]),a(["6","@","!"]),a(["7","[",'"']),a(["8",92,"#"]),a(["9","]","&"]),a(["A","a",1]),a(["B","b",2]),a(["C","c",3]),a(["D","d",4]),a(["E","e",5]),a(["F","f",6]),a(["G","g",7]),a(["H","h",8]),a(["I","i",9]),a(["J","j",10]),a(["K","k",11]),a(["L","l",12]),a(["M","m",13]),a(["N","n",14]),a(["O","o",15]),a(["P","p",16]),a(["Q","q",17]),a(["R","r",18]),a(["S","s",19]),a(["T","t",20]),a(["U","u",21]),a(["V","v",22]),a(["W","w",23]),a(["X","x",24]),a(["Y","y",25]),a(["Z","z",26]),a(["-","_",40]),a([".","`",41]),a([" ",127,0]),a(["$","{","*"]),a(["/","|",","]),a(["+","}",":"]),a(["%","~",e.fn1]),a([e.la1,e.la0,e.fn2]),i,a([e.sf2,e.sf2,e.fn4])]),e.chapmapslimited=a([a(["0",-98,-98]),a(["1",-98,-98]),a(["2",-98,-98]),a(["3",-98,-98]),a(["4",-98,-98]),a(["5",-98,-98]),a(["6",-98,-98]),a(["7",-98,-98]),a(["8",-98,-98]),a(["9",-98,-98]),a(["A",-98,-98]),a(["B",-98,-98]),a(["C",-98,-98]),a(["D",-98,-98]),a(["E",-98,-98]),a(["F",-98,-98]),a(["G",-98,-98]),a(["H",-98,-98]),a(["I",-98,-98]),a(["J",-98,-98]),a(["K",-98,-98]),a(["L",-98,-98]),a(["M",-98,-98]),a(["N",-98,-98]),a(["O",-98,-98]),a(["P",-98,-98]),a(["Q",-98,-98]),a(["R",-98,-98]),a(["S",-98,-98]),a(["T",-98,-98]),a(["U",-98,-98]),a(["V",-98,-98]),a(["W",-98,-98]),a(["X",-98,-98]),a(["Y",-98,-98]),a(["Z",-98,-98]),a(["-",-98,-98]),a([".",-98,-98])]),Ee(e.version,"a")&&Ee(e.version,"b")&&Ee(e.version,"limiteda")&&Ee(e.version,"limitedb")&&(r[t++]="bwipp.posicodeInvalidVersion#14226",r[t++]="The version must be either a, b, limiteda or limitedb",Q()),r[t++]="charmaps",W(e.version,"a")||W(e.version,"b")?r[t++]=e.charmapsnormal:r[t++]=e.chapmapslimited;var o=r[--t];e[r[--t]]=o,e.charmaps,e.charmaps,e.charmaps,e.charvals=a([new Map,new Map,new Map]);for(var l=0,u=e.charmaps.length-1;l<=u;l+=1){e.i=l,e.encs=d(e.charmaps,e.i);for(var f=0;f<=2;f+=1){e.j=f;var h=d(e.encs,e.j);if(r[t++]=h,W(oa(h),"stringtype")){var p=d(r[--t],0);r[t++]=p}g(d(e.charvals,e.j),r[--t],e.i)}}if(e.set0=d(e.charvals,0),e.set1=d(e.charvals,1),e.set2=d(e.charvals,2),W(e.version,"limiteda")||W(e.version,"limitedb"))for(var m=0,x=e.barcode.length-1;m<=x;m+=1){var b=d(e.set0,d(S(e.barcode,m,1),0))!==void 0;b||(r[t++]="bwipp.posicodeBadCharacter#14252",r[t++]="Posicode limited must contain only digits, capital letters, and the symbols - and .",Q())}if(e.raw&&(e.encoding="raw"),W(e.encoding,"raw")){for(e.cws=a(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ie(S(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=S(e.cws,0,e.j),e.text=""}if(W(e.encoding,"auto")){var v=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=v,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,e.text=Z(e.msglen);for(var y=0,A=e.msglen-1;y<=A;y+=1){e.i=y;var k=d(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=k,k<0&&(r[t-1]=32);var E=r[--t],j=r[--t];g(r[--t],j,E)}r[t++]=1/0;for(var N=0,I=e.msglen;N<I;N++)r[t++]=0;r[t++]=0,e.numSA=a(),r[t++]=1/0;for(var M=0,B=e.msglen;M<B;M++)r[t++]=0;r[t++]=0,e.numEA=a();for(var F=e.msglen-1;F>=0;F-=1)e.i=F,d(e.msg,e.i)>=0&&(d(e.msg,e.i)>=128?g(e.numEA,e.i,d(e.numEA,e.i+1)+1):g(e.numSA,e.i,d(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=a([]);for(var D=0,H=e.msglen-1;D<=H;D+=1){if(e.i=D,e.c=d(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var T=d(r[--t],e.i),_=C(T+e.i)==e.msglen?3:5;T<_?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=a()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=a(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=a()}for(e.msg=e.msgtmp,e.msglen=e.msg.length,e.enc=function(){var st=r[--t];g(e.cws,e.j,d(st,r[--t])),e.j=e.j+1},e.cws=a(e.msglen*2),e.i=0,e.j=0,e.cset="set0";e.i!=e.msglen;)for(;;){e.char1=d(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=d(e.msg,e.i+1):r[t++]=-99;var L=r[--t];e[r[--t]]=L;var z=d(e[e.cset],e.char1)!==void 0;if(z){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var G=d(e.set2,e.char1)!==void 0;if(G){r[t++]=e.sf2,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set2,e.enc(),e.i=e.i+1;break}var K=d(e[e.cset],e.char2)!==void 0;if(K){W(e.cset,"set0")?(r[t++]=e.sf1,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set1,e.enc()):(r[t++]=e.sf0,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set0,e.enc()),e.i=e.i+1;break}else{W(e.cset,"set0")?(r[t++]=e.la1,r[t++]=e[e.cset],e.enc(),e.cset="set1"):(r[t++]=e.la0,r[t++]=e[e.cset],e.enc(),e.cset="set0");break}}e.cws=S(e.cws,0,e.j)}var oe=new Map([["a",a(["141112","131212","121312","111412","131113","121213","111313","121114","111214","111115","181111","171211","161311","151411","141511","131611","121711","111811","171112","161212","151312","141412","131512","121612","111712","161113","151213","141313","131413","121513","111613","151114","141214","131314","121414","111514","141115","131215","121315","111415","131116","121216","111316","121117","111217","111118","1<111112","111111111;1"])],["b",a(["151213","141313","131413","121513","141214","131314","121414","131215","121315","121216","191212","181312","171412","161512","151612","141712","131812","121912","181213","171313","161413","151513","141613","131713","121813","171214","161314","151414","141514","131614","121714","161215","151315","141415","131515","121615","151216","141316","131416","121516","141217","131317","121417","131218","121318","121219","1<121312","121212121<1"])],["limiteda",a(["111411","111312","111213","111114","121311","121212","121113","141111","131211","131112","171111","161211","151311","141411","131511","121611","111711","161112","151212","141312","131412","121512","111612","151113","141213","131313","121413","111513","141114","131214","121314","111414","131115","121215","111315","121116","111216","111117","151111","1"])],["limitedb",a(["121512","121413","121314","121215","131412","131313","131214","151212","141312","141213","181212","171312","161412","151512","141612","131712","121812","171213","161313","151413","141513","131613","121713","161214","151314","141414","131514","121614","151215","141315","131415","121515","141216","131316","121416","131217","121317","121218","141212","1"])]]);e.encmaps=oe,e.encs=d(e.encmaps,e.version),e.c2w=a([a([495,330,210,126,70,35,15,5]),a([165,120,84,56,35,20,10,4]),a([45,36,28,21,15,10,6,3]),a([9,8,7,6,5,4,3,2]),a([1,1,1,1,1,1,1,1])]),e.v=0;for(var V=e.cws,Y=0,ie=V.length;Y<ie;Y++){e.cw=d(V,Y);for(var de=0;de<6;de++)(e.cw^e.v)&1&&(e.v=e.v^7682),e.v=e.v>>>1,e.cw=e.cw>>>1}for(e.v=e.v+e.checkoffset,W(e.version,"limiteda")||W(e.version,"limitedb")?(e.v=e.v&1023,e.v>824&&e.v<853&&(e.v=e.v+292)):e.v=(e.v&1023)+45,e.d=a([2,2,2,2,2,2]),e.r=0,e.c=0,e.w=0,e.sum=0;e.sum!=e.v;)e.t=C(e.sum+d(d(e.c2w,e.r),e.c)),e.t==e.v&&(e.w=e.w+1,g(e.d,e.r,e.w+2),e.sum=e.t),e.t>e.v&&(g(e.d,e.r,e.w+2),e.r=e.r+1,e.w=0),e.t<e.v&&(e.c=e.c+1,e.w=e.w+1,e.sum=e.t);r[t++]=20;for(var re=0;re<=4;re+=1){var ne=r[--t];r[t++]=C(ne-d(e.d,re))}if(g(e.d,5,r[--t]),W(e.version,"b")||W(e.version,"limitedb")){r[t++]=1/0;for(var le=e.d,ue=0,Me=le.length;ue<Me;ue++)r[t++]=d(le,ue)+1;e.d=a()}e.cbs=Tr(Z(12),"111111111111");for(var pe=5;pe>=0;pe-=1)e.i=pe,g(e.cbs,(5-e.i)*2+1,d(e.d,e.i)+47);e.sbs=Z(e.cws.length*6+31);var Fe=d(e.encs,e.encs.length-2);R(e.sbs,0,Fe),e.j=Fe.length;for(var Ce=0,ve=e.cws.length-1;Ce<=ve;Ce+=1)e.i=Ce,R(e.sbs,e.j,d(e.encs,d(e.cws,e.i))),e.j=e.j+6;R(e.sbs,e.j,e.cbs),e.j=e.j+12;var Be=d(e.encs,e.encs.length-1);R(e.sbs,e.j,Be),e.j=Be.length+e.j,e.sbs=S(e.sbs,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var Ue=e.sbs,Xe=0,Re=Ue.length;Xe<Re;Xe++)r[t++]=d(Ue,Xe)-48;var Ge=a();r[t++]=1/0;for(var Oe=0,Le=~~((e.sbs.length+1)/2);Oe<Le;Oe++)r[t++]=e.height;var rt=a();r[t++]=1/0;for(var Se=0,qe=~~((e.sbs.length+1)/2);Se<qe;Se++)r[t++]=0;var We=a(),Ke=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]),Te=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]);r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ge,r[t++]="bhs",r[t++]=rt,r[t++]="bbs",r[t++]=We,r[t++]="txt",r[t++]=a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=d(Ke,e.version),r[t++]="borderright",r[t++]=d(Te,e.version),r[t++]="opt",r[t++]=e.options;var He=Pe();r[t++]=He,e.dontdraw||Tt(),e=s}function G9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=8,e.rowheight=10,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],(e.columns<4||e.columns>62)&&(r[t++]="bwipp.codablockfBadColumns#14582",r[t++]="Codablock F must have 4 to 62 columns",Q()),e.rows!=-1&&(e.rows<2||e.rows>44)&&(r[t++]="bwipp.codablockfBadRows#14586",r[t++]="Codablock F must have 2 to 44 rows",Q()),e.rowheight<8&&(r[t++]="bwipp.codablockfBadRowHeight#14590",r[t++]="Codablock F must have rowheight of at least 8",Q()),e.sepheight<1&&(r[t++]="bwipp.codablockfBadSepHeight#14594",r[t++]="Codablock F must have sepheight of at least 1",Q()),r[t++]="c",e.columns>=4&&e.columns<=62?r[t++]=e.columns:r[t++]=8;var n=r[--t];e[r[--t]]=n,r[t++]="rows",e.rows>=2&&e.rows<=44?r[t++]=e.rows:r[t++]=-1;var i=r[--t];e[r[--t]]=i,e.swa=-1,e.swb=-2,e.swc=-3,e.sft=-4,e.fn1=-5,e.fn2=-6,e.fn3=-7,e.fn4=-8,e.sta=-9,e.stp=-10;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var l=r[--t];e[r[--t]]=l,e.msglen=e.msg.length,e.msgtmp=a([]);for(var u=e.msg,f=0,h=u.length;f<h;f++)e.char=d(u,f),r[t++]=1/0,O(e.msgtmp),e.char<128?r[t++]=e.char:(r[t++]=e.fn4,r[t++]=e.char&127),e.msgtmp=a();e.kmsg=e.msg,e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=a([a([32,32,"00"]),a(["!","!","01"]),a(['"','"',"02"]),a(["#","#","03"]),a(["$","$","04"]),a(["%","%","05"]),a(["&","&","06"]),a(["'","'","07"]),a([40,40,"08"]),a([41,41,"09"]),a(["*","*","10"]),a(["+","+","11"]),a([",",",","12"]),a(["-","-","13"]),a([".",".","14"]),a(["/","/","15"]),a(["0","0","16"]),a(["1","1","17"]),a(["2","2","18"]),a(["3","3","19"]),a(["4","4","20"]),a(["5","5","21"]),a(["6","6","22"]),a(["7","7","23"]),a(["8","8","24"]),a(["9","9","25"]),a([":",":","26"]),a([";",";","27"]),a(["<","<","28"]),a(["=","=","29"]),a([">",">","30"]),a(["?","?","31"]),a(["@","@","32"]),a(["A","A","33"]),a(["B","B","34"]),a(["C","C","35"]),a(["D","D","36"]),a(["E","E","37"]),a(["F","F","38"]),a(["G","G","39"]),a(["H","H","40"]),a(["I","I","41"]),a(["J","J","42"]),a(["K","K","43"]),a(["L","L","44"]),a(["M","M","45"]),a(["N","N","46"]),a(["O","O","47"]),a(["P","P","48"]),a(["Q","Q","49"]),a(["R","R","50"]),a(["S","S","51"]),a(["T","T","52"]),a(["U","U","53"]),a(["V","V","54"]),a(["W","W","55"]),a(["X","X","56"]),a(["Y","Y","57"]),a(["Z","Z","58"]),a(["[","[","59"]),a([92,92,"60"]),a(["]","]","61"]),a(["^","^","62"]),a(["_","_","63"]),a([0,"`","64"]),a([1,"a","65"]),a([2,"b","66"]),a([3,"c","67"]),a([4,"d","68"]),a([5,"e","69"]),a([6,"f","70"]),a([7,"g","71"]),a([8,"h","72"]),a([9,"i","73"]),a([10,"j","74"]),a([11,"k","75"]),a([12,"l","76"]),a([13,"m","77"]),a([14,"n","78"]),a([15,"o","79"]),a([16,"p","80"]),a([17,"q","81"]),a([18,"r","82"]),a([19,"s","83"]),a([20,"t","84"]),a([21,"u","85"]),a([22,"v","86"]),a([23,"w","87"]),a([24,"x","88"]),a([25,"y","89"]),a([26,"z","90"]),a([27,"{","91"]),a([28,"|","92"]),a([29,"}","93"]),a([30,"~","94"]),a([31,127,"95"]),a([e.fn3,e.fn3,"96"]),a([e.fn2,e.fn2,"97"]),a([e.sft,e.sft,"98"]),a([e.swc,e.swc,"99"]),a([e.swb,e.fn4,e.swb]),a([e.fn4,e.swa,e.swa]),a([e.fn1,e.fn1,e.fn1]),a([e.sta,e.sta,e.sta]),a([e.stp,e.stp,e.stp])]),e.charvals=a([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=d(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var b=d(e.encs,e.j);if(r[t++]=b,W(oa(b),"stringtype")){var v=d(r[--t],0);r[t++]=v}g(d(e.charvals,e.j),r[--t],e.i)}}e.seta=d(e.charvals,0),e.setb=d(e.charvals,1),e.setc=d(e.charvals,2),e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen||e.p!=0&&d(e.msg,e.p-1)==e.fn4);){var ge=d(e.msg,e.p),je=d(e.setc,ge)!==void 0;if(r[t++]=ge,!je){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){g(e.cws,e.j,d(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,d(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var ge=r[t-1];if(Ee(oa(ge),"arraytype")){var je=d(e.setc,r[--t]);r[t++]=je}else{O(r[--t]);var he=r[--t],ke=r[--t];r[t++]=C(he-48+(ke-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var ge=r[--t],je=d(e.seta,ge)!==void 0,he=d(e.setb,ge)!==void 0;r[t++]=je&&!he},e.bnota=function(){var ge=r[--t],je=d(e.setb,ge)!==void 0,he=d(e.seta,ge)!==void 0;r[t++]=je&&!he},r[t++]=1/0;for(var w=0,y=e.msg.length;w<y;w++)r[t++]=0;r[t++]=9999,e.nextanotb=a(),r[t++]=1/0;for(var A=0,k=e.msg.length;A<k;A++)r[t++]=0;r[t++]=9999,e.nextbnota=a();for(var E=e.msg.length-1;E>=0;E-=1)e.i=E,r[t++]=d(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,d(e.nextanotb,e.i+1)+1),r[t++]=d(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,d(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var ge=r[--t];r[t++]=wa(d(e.nextanotb,ge),d(e.nextbnota,ge))},e.bbeforea=function(){var ge=r[--t];r[t++]=wa(d(e.nextbnota,ge),d(e.nextanotb,ge))},e.padrow=function(){for(var ge=0,je=r[--t];ge<je;ge++)for(;;){if(W(e.cset,"seta")){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(W(e.cset,"setb")){r[t++]=e.swc,e.encb(),e.cset="setc";break}if(W(e.cset,"setc")){r[t++]=e.swb,e.encc(),e.cset="setb";break}}},e.encafitsrow=function(){if(e.rem<=2&&d(e.msg,e.i)==e.fn4){var ge=e.rem==2&&d(e.msg,e.i+1)<=95;r[t++]=ge,ge&&(r[t++]=e.fn4,e.enca(),r[t++]=d(e.msg,e.i+1),e.enca(),e.i=e.i+2)}else r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1,r[t++]=!0},e.encbfitsrow=function(){if(e.rem<=2&&d(e.msg,e.i)==e.fn4){var ge=e.rem==2&&d(e.msg,e.i+1)>=32;r[t++]=ge,ge&&(r[t++]=e.fn4,e.encb(),r[t++]=d(e.msg,e.i+1),e.encb(),e.i=e.i+2)}else r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1,r[t++]=!0},e.cws=a((e.c+5)*44),e.i=0,e.j=0,e.r=1,e.lastrow=!1;!e.lastrow;){for(e.r>44&&(r[t++]="bwipp.codablockfTooBig#14803",r[t++]="Maximum length exceeded",Q()),r[t++]=e.sta,e.enca(),e.i<e.msglen?(r[t++]=e.i,e.numsscr()):(r[t++]=-1,r[t++]=-1),e.nums=r[--t],e.nchars=r[--t];;){if(e.msglen==0){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.nums>=2){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.sft,e.enca(),e.cset="seta";break}r[t++]=e.swb,e.enca(),e.cset="setb";break}for(e.j=e.j+1,e.endofrow=!1;e.rem=C(e.c+3-e.j%(e.c+5)),!(e.i==e.msglen||e.endofrow);){r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t],r[t++]="remnums",e.nums>e.rem*2?r[t++]=e.rem*2:r[t++]=e.nums;var j=r[--t];for(e[r[--t]]=j;;){if((W(e.cset,"seta")||W(e.cset,"setb"))&&e.remnums>=4&&d(e.msg,e.i)!=e.fn1){if(e.remnums%2==0&&e.rem>=3){r[t++]=e.swc,W(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var N=0;N<2;N++)d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.remnums%2!=0&&e.rem>=4){r[t++]=d(e.msg,e.i),W(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.swc,W(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var I=0;I<2;I++)d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}r[t++]=W(e.cset,"setb"),r[t++]=d(e.msg,e.i),e.anotb();var M=r[--t],B=r[--t];if(B&&M&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta",r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=W(e.cset,"seta"),r[t++]=d(e.msg,e.i),e.bnota();var F=r[--t],D=r[--t];if(D&&F&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb",r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(W(e.cset,"setc")&&e.remnums<2&&e.rem>=2){if(e.rem=e.rem-1,r[t++]=e.i,e.abeforeb(),r[--t]){if(r[t++]=e.swa,e.encc(),e.cset="seta",e.encafitsrow(),r[--t])break}else if(r[t++]=e.swb,e.encc(),e.cset="setb",e.encbfitsrow(),r[--t])break}var H=d(e.seta,d(e.msg,e.i))!==void 0;if(W(e.cset,"seta")&&H&&e.rem>=1&&(e.encafitsrow(),r[--t]))break;var T=d(e.setb,d(e.msg,e.i))!==void 0;if(W(e.cset,"setb")&&T&&e.rem>=1&&(e.encbfitsrow(),r[--t]))break;if(W(e.cset,"setc")&&e.remnums>=2&&e.rem>=1){d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}e.endofrow=!0;break}}(e.r>=e.rows||e.rows==-1)&&e.r>1&&e.i==e.msglen&&e.rem>=2?(r[t++]=e.rem-2,e.padrow(),e.j=e.j+3,r[t++]=e.stp,e.enca(),e.lastrow=!0):(r[t++]=e.rem,e.padrow(),e.j=e.j+1,r[t++]=e.stp,e.enca(),e.r=e.r+1)}e.cws=S(e.cws,0,e.j),r[t++]=1/0;for(var _=64;_<=95;_+=1)r[t++]=_;for(var L=0;L<=15;L+=1)r[t++]=L;for(var z=26;z<=63;z+=1)r[t++]=z;e.abmap=a(),r[t++]=1/0;for(var G=0;G<=85;G+=1)r[t++]=G;e.cmap=a(),e.chkmsg=a(e.kmsg.length),e.j=0;for(var K=0,oe=e.kmsg.length-1;K<=oe;K+=1)e.i=K,e.char=d(e.kmsg,e.i),e.char>=0&&(g(e.chkmsg,e.j,e.char),e.j=e.j+1),e.char==e.fn1&&e.i!=0&&(g(e.chkmsg,e.j,29),e.j=e.j+1);e.t1=0,e.t2=0,e.k1=0,e.k2=0;for(var V=0,Y=e.j-1;V<=Y;V+=1)e.i=V,e.t1=d(e.chkmsg,e.i)*e.i%86,e.t2=C(e.t1+d(e.chkmsg,e.i))%86,e.k1=C(e.k1+e.t2)%86,e.k2=C(e.k2+e.t1)%86;r[t++]=e.cws,r[t++]=e.cws.length-4,Ee(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var ie=d(r[--t],e.k1),de=r[--t];g(r[--t],de,ie),r[t++]=e.cws,r[t++]=e.cws.length-3,Ee(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var re=d(r[--t],e.k2),ne=r[--t];g(r[--t],ne,re);var le=e.cws;r[t++]=le,r[t++]=2,d(le,1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var ue=d(r[--t],e.r-2),Me=r[--t];g(r[--t],Me,ue);for(var pe=1,Fe=e.r-1;pe<=Fe;pe+=1){e.i=pe;var Ce=e.cws,ve=e.i,Be=e.c;r[t++]=Ce,r[t++]=ve*(Be+5)+2,d(Ce,ve*(Be+5)+2-1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var Ue=d(r[--t],e.i+42),Xe=r[--t];g(r[--t],Xe,Ue)}for(var Re=0,Ge=e.r-1;Re<=Ge;Re+=1){e.rcws=S(e.cws,Re*(e.c+5),e.c+4),e.csum=d(e.rcws,0);for(var Oe=1,Le=e.rcws.length-2;Oe<=Le;Oe+=1)e.i=Oe,e.csum=C(e.csum+d(e.rcws,e.i)*e.i);g(e.rcws,e.rcws.length-1,e.csum%103)}var rt=d(e.options,"debugcws")!==void 0;rt&&(r[t++]="bwipp.debugcws#15016",r[t++]=e.cws,Q()),e.encs=a(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","2331112"]),e.rowbits=a(e.r);for(var Se=0,qe=e.r-1;Se<=qe;Se+=1){e.i=Se,r[t++]=1/0;for(var We=S(e.cws,e.i*(e.c+5),e.c+5),Ke=0,Te=We.length;Ke<Te;Ke++)xe(d(e.encs,d(We,Ke)),function(){var ge=r[--t];r[t++]=ge-48});e.sbs=a(),r[t++]=1/0;var He=e.sbs;r[t++]=0;for(var st=0,gt=He.length;st<gt;st++)for(var ht=r[t-1],bt=ht==1?0:1,Et=0,kt=d(He,st);Et<kt;Et++)r[t++]=bt;Wt(a(ys()-1));var wt=r[--t];r[t-1]=wt;var Mt=r[--t];r[t-1]=Mt,r[t++]=e.rowbits,r[t++]=e.i;var It=r[t-3],zt=r[t-1];g(r[t-2],zt,It),t-=3}e.symwid=e.c*11+57,r[t++]=1/0;for(var Bt=0,jt=e.symwid*e.sepheight;Bt<jt;Bt++)r[t++]=1;for(var U=0,$=e.r-2;U<=$;U+=1){e.i=U;for(var P=0,q=e.rowheight;P<q;P++)O(d(e.rowbits,e.i));for(var X=0,ce=e.sepheight;X<ce;X++){r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0;for(var te=0,ye=e.symwid-24;te<ye;te++)r[t++]=1;r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=1}}for(var J=0,me=e.rowheight;J<me;J++)O(d(e.rowbits,e.r-1));for(var fe=0,be=e.symwid*e.sepheight;fe<be;fe++)r[t++]=1;e.pixs=a();var se=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.symwid],["pixy",~~(e.pixs.length/e.symwid)],["height",~~(e.pixs.length/e.symwid)/72],["width",e.symwid/72],["opt",e.options]]);r[t++]=se,e.dontdraw||xt(),e=s}function KP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.rows=0,e.rowheight=8,e.sepheight=1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>16)&&(r[t++]="bwipp.code16kBadRows#15133",r[t++]="Code 16K must have 2 to 16 rows",Q()),e.rowheight<8&&(r[t++]="bwipp.code16kBadRowHeight#15137",r[t++]="Code 16K must have rowheight of at least 8",Q()),e.sepheight<1&&(r[t++]="bwipp.code16kBadSepHeight#15141",r[t++]="Code 16K must have sepheight of at least 1",Q()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code16kBadSAM#15152",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',Q())}e.sam!=-1&&(e.rows=16),e.swa=-1,e.swb=-2,e.swc=-3,e.sa1=-4,e.sb1=-5,e.sc1=-6,e.sa2=-7,e.sb2=-8,e.sc2=-9,e.pad=-10,e.sb3=-11,e.sc3=-12,e.fn1=-13,e.fn2=-14,e.fn3=-15,e.fn4=-16,e.charmaps=a([a([32,32,"00"]),a(["!","!","01"]),a(['"','"',"02"]),a(["#","#","03"]),a(["$","$","04"]),a(["%","%","05"]),a(["&","&","06"]),a(["'","'","07"]),a([40,40,"08"]),a([41,41,"09"]),a(["*","*","10"]),a(["+","+","11"]),a([",",",","12"]),a(["-","-","13"]),a([".",".","14"]),a(["/","/","15"]),a(["0","0","16"]),a(["1","1","17"]),a(["2","2","18"]),a(["3","3","19"]),a(["4","4","20"]),a(["5","5","21"]),a(["6","6","22"]),a(["7","7","23"]),a(["8","8","24"]),a(["9","9","25"]),a([":",":","26"]),a([";",";","27"]),a(["<","<","28"]),a(["=","=","29"]),a([">",">","30"]),a(["?","?","31"]),a(["@","@","32"]),a(["A","A","33"]),a(["B","B","34"]),a(["C","C","35"]),a(["D","D","36"]),a(["E","E","37"]),a(["F","F","38"]),a(["G","G","39"]),a(["H","H","40"]),a(["I","I","41"]),a(["J","J","42"]),a(["K","K","43"]),a(["L","L","44"]),a(["M","M","45"]),a(["N","N","46"]),a(["O","O","47"]),a(["P","P","48"]),a(["Q","Q","49"]),a(["R","R","50"]),a(["S","S","51"]),a(["T","T","52"]),a(["U","U","53"]),a(["V","V","54"]),a(["W","W","55"]),a(["X","X","56"]),a(["Y","Y","57"]),a(["Z","Z","58"]),a(["[","[","59"]),a([92,92,"60"]),a(["]","]","61"]),a(["^","^","62"]),a(["_","_","63"]),a([0,"`","64"]),a([1,"a","65"]),a([2,"b","66"]),a([3,"c","67"]),a([4,"d","68"]),a([5,"e","69"]),a([6,"f","70"]),a([7,"g","71"]),a([8,"h","72"]),a([9,"i","73"]),a([10,"j","74"]),a([11,"k","75"]),a([12,"l","76"]),a([13,"m","77"]),a([14,"n","78"]),a([15,"o","79"]),a([16,"p","80"]),a([17,"q","81"]),a([18,"r","82"]),a([19,"s","83"]),a([20,"t","84"]),a([21,"u","85"]),a([22,"v","86"]),a([23,"w","87"]),a([24,"x","88"]),a([25,"y","89"]),a([26,"z","90"]),a([27,"{","91"]),a([28,"|","92"]),a([29,"}","93"]),a([30,"~","94"]),a([31,127,"95"]),a([e.fn3,e.fn3,"96"]),a([e.fn2,e.fn2,"97"]),a([e.sb1,e.sa1,"98"]),a([e.swc,e.swc,"99"]),a([e.swb,e.fn4,e.swb]),a([e.fn4,e.swa,e.swa]),a([e.fn1,e.fn1,e.fn1]),a([e.pad,e.pad,e.pad]),a([e.sb2,e.sa2,e.sb1]),a([e.sc2,e.sc2,e.sb2]),a([e.sc3,e.sc3,e.sb3])]),e.charvals=a([new Map,new Map,new Map]);for(var o=0,l=e.charmaps.length-1;o<=l;o+=1){e.i=o,e.encs=d(e.charmaps,e.i);for(var u=0;u<=2;u+=1){e.j=u;var f=d(e.encs,e.j);if(r[t++]=f,W(oa(f),"stringtype")){var h=d(r[--t],0);r[t++]=h}g(d(e.charvals,e.j),r[--t],e.i)}}if(e.seta=d(e.charvals,0),e.setb=d(e.charvals,1),e.setc=d(e.charvals,2),e.raw){for(e.cws=a(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||d(e.barcode,e.i)!=94);){var p=S(e.barcode,e.i+1,3);r[t++]=p,r[t++]=!1;for(var m=0,x=p.length;m<x;m++){var b=d(p,m);(b<48||b>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Ie(r[--t]),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.code16kBadRawFormat#15241",r[t++]="raw data must be formatted as ^NNN",Q()),e.cws=S(e.cws,0,e.j)}else{var v=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=v,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,r[t++]=1/0;for(var y=0,A=e.msglen;y<A;y++)r[t++]=0;r[t++]=0,e.numSA=a(),r[t++]=1/0;for(var k=0,E=e.msglen;k<E;k++)r[t++]=0;r[t++]=0,e.numEA=a();for(var j=e.msglen-1;j>=0;j-=1)e.i=j,d(e.msg,e.i)>=0&&(d(e.msg,e.i)>=128?g(e.numEA,e.i,d(e.numEA,e.i+1)+1):g(e.numSA,e.i,d(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=a([]);for(var N=0,I=e.msglen-1;N<=I;N+=1){if(e.i=N,e.c=d(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var M=d(r[--t],e.i),B=C(M+e.i)==e.msglen?3:5;M<B?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=a()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=a(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=a()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var Lt=d(e.msg,e.p),yr=d(e.setc,Lt)!==void 0;if(r[t++]=Lt,!yr){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){g(e.cws,e.j,d(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,d(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var Lt=r[t-1];if(Ee(oa(Lt),"arraytype")){var yr=d(e.setc,r[--t]);r[t++]=yr}else{O(r[--t]);var ns=r[--t],xs=r[--t];r[t++]=C(ns-48+(xs-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var Lt=r[--t],yr=d(e.seta,Lt)!==void 0,ns=d(e.setb,Lt)!==void 0;r[t++]=yr&&!ns},e.bnota=function(){var Lt=r[--t],yr=d(e.setb,Lt)!==void 0,ns=d(e.seta,Lt)!==void 0;r[t++]=yr&&!ns},r[t++]=1/0;for(var F=0,D=e.msg.length;F<D;F++)r[t++]=0;r[t++]=9999,e.nextanotb=a(),r[t++]=1/0;for(var H=0,T=e.msg.length;H<T;H++)r[t++]=0;r[t++]=9999,e.nextbnota=a();for(var _=e.msg.length-1;_>=0;_-=1)e.i=_,r[t++]=d(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,d(e.nextanotb,e.i+1)+1),r[t++]=d(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,d(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var Lt=r[--t];r[t++]=wa(d(e.nextanotb,Lt),d(e.nextbnota,Lt))},e.bbeforea=function(){var Lt=r[--t];r[t++]=wa(d(e.nextbnota,Lt),d(e.nextanotb,Lt))},e.cws=a(e.barcode.length*2+3),e.i=0,e.j=0;;){if(e.sam!=-1){g(e.cws,0,~~(e.sam/10)-1),g(e.cws,1,e.sam%10-1),e.j=2,e.cset="setb",e.mode=7;break}if(e.msglen==0){e.cset="setb",e.mode=1;break}if(e.msglen>=2){r[t++]=d(e.msg,0)==e.fn1,r[t++]=1,e.numsscr();var L=r[--t];r[t-1]=L;var z=r[--t],G=r[--t];if(G&&z>=2){e.cset="setc",e.mode=4,e.i=1;break}}if(d(e.msg,0)==e.fn1){e.cset="setb",e.mode=3,e.i=1;break}if(e.msglen>=2){r[t++]=0,e.numsscr();var K=r[--t];r[t-1]=K;var oe=r[--t];if(oe>=2&&oe%2==0){e.cset="setc",e.mode=2;break}r[t++]=0,e.numsscr();var V=r[--t];r[t-1]=V;var Y=r[--t];if(Y>=3&&Y%2==1){r[t++]=d(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var ie=d(e.setb,d(e.msg,0))!==void 0;r[t++]=ie,r[t++]=1,e.numsscr();var de=r[--t];r[t-1]=de;var re=r[--t],ne=r[--t];if(ne&&re>=2&&re%2==0){r[t++]=d(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var le=d(e.setb,d(e.msg,0))!==void 0;r[t++]=le,r[t++]=1,e.numsscr();var ue=r[--t];r[t-1]=ue;var Me=r[--t],pe=r[--t];if(pe&&Me>=3&&Me%2==1){r[t++]=d(e.msg,0),e.encb(),r[t++]=d(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}var Fe=d(e.setb,d(e.msg,0))!==void 0,Ce=d(e.setb,d(e.msg,1))!==void 0;r[t++]=Fe&&Ce,r[t++]=2,e.numsscr();var ve=r[--t];r[t-1]=ve;var Be=r[--t],Ue=r[--t];if(Ue&&Be>=2&&Be%2==0){r[t++]=d(e.msg,0),e.encb(),r[t++]=d(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}}if(r[t++]=0,e.abeforeb(),r[--t]){e.cset="seta",e.mode=0;break}e.cset="setb",e.mode=1;break}for(;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t];;){if(W(e.cset,"seta")){if(e.i<e.msglen-1){r[t++]=d(e.msg,e.i),e.bnota(),r[t++]=e.i+1,e.abeforeb();var Xe=r[--t];if(r[--t]&&Xe){r[t++]=e.sb1,e.enca(),r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=d(e.msg,e.i),e.bnota(),r[t++]=d(e.msg,e.i+1),e.bnota();var Re=r[--t],Ge=r[--t];r[t++]=Io(Ge,Re),r[t++]=e.i+2,e.abeforeb();var Oe=r[--t];if(r[--t]&&Oe){r[t++]=e.sb2,e.enca(),r[t++]=d(e.msg,e.i),e.encb(),r[t++]=d(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(r[t++]=d(e.msg,e.i),e.bnota(),r[--t]){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.i<e.msglen-4){var Le=d(e.seta,d(e.msg,e.i+4))!==void 0;if(e.nums==4&&Le){r[t++]=e.sc2,e.enca();for(var rt=0;rt<2;rt++)d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var Se=d(e.seta,d(e.msg,e.i+6))!==void 0;if(e.nums==6&&Se){r[t++]=e.sc3,e.enca();for(var qe=0;qe<3;qe++)d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.enca(),e.cset="setc";break}r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(W(e.cset,"setb")){if(e.i<e.msglen-1){r[t++]=d(e.msg,e.i),e.anotb(),r[t++]=e.i+1,e.bbeforea();var We=r[--t];if(r[--t]&&We){r[t++]=e.sa1,e.encb(),r[t++]=d(e.msg,e.i),e.enca(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=d(e.msg,e.i),e.anotb(),r[t++]=d(e.msg,e.i+1),e.anotb();var Ke=r[--t],Te=r[--t];r[t++]=Io(Te,Ke),r[t++]=e.i+2,e.bbeforea();var He=r[--t];if(r[--t]&&He){r[t++]=e.sa2,e.encb(),r[t++]=d(e.msg,e.i),e.enca(),r[t++]=d(e.msg,e.i+1),e.enca(),e.i=e.i+2;break}}if(r[t++]=d(e.msg,e.i),e.anotb(),r[--t]){r[t++]=e.swa,e.encb(),e.cset="seta";break}if(e.i<e.msglen-4){var st=d(e.setb,d(e.msg,e.i+4))!==void 0;if(e.nums==4&&st){r[t++]=e.sc2,e.encb();for(var gt=0;gt<2;gt++)d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var ht=d(e.setb,d(e.msg,e.i+6))!==void 0;if(e.nums==6&&ht){r[t++]=e.sc3,e.encb();for(var bt=0;bt<3;bt++)d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.encb(),e.cset="setc";break}r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(W(e.cset,"setc")){if(e.nums>=2){d(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=S(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.i<e.msglen-1){var Et=d(e.setb,d(e.msg,e.i))!==void 0;r[t++]=Et,r[t++]=e.i+1,e.numsscr();var kt=r[--t];r[t-1]=kt;var wt=r[--t],Mt=r[--t];if(Mt&&wt>=2&&wt%2==0){r[t++]=e.sb1,e.encc(),r[t++]=d(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-1){var It=d(e.setb,d(e.msg,e.i))!==void 0;r[t++]=It,r[t++]=e.i+1,e.numsscr();var zt=r[--t];r[t-1]=zt;var Bt=r[--t],jt=r[--t];if(jt&&Bt>=3&&Bt%2==1){r[t++]=e.sb2,e.encc(),r[t++]=d(e.msg,e.i),e.encb(),r[t++]=d(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-2){var U=d(e.setb,d(e.msg,e.i))!==void 0,$=d(e.setb,d(e.msg,e.i+1))!==void 0;r[t++]=U&&$,r[t++]=e.i+2,e.numsscr();var P=r[--t];r[t-1]=P;var q=r[--t],X=r[--t];if(X&&q>=2&&q%2==0){r[t++]=e.sb2,e.encc(),r[t++]=d(e.msg,e.i),e.encb(),r[t++]=d(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-3){var ce=d(e.setb,d(e.msg,e.i))!==void 0,te=d(e.setb,d(e.msg,e.i+1))!==void 0;r[t++]=ce&&te,r[t++]=e.i+2,e.numsscr();var ye=r[--t];r[t-1]=ye;var J=r[--t],me=r[--t];if(me&&J>=3&&J%2==1){r[t++]=e.sb3,e.encc(),r[t++]=d(e.msg,e.i),e.encb(),r[t++]=d(e.msg,e.i+1),e.encb(),r[t++]=d(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(e.i<e.msglen-3){var fe=d(e.setb,d(e.msg,e.i))!==void 0,be=d(e.setb,d(e.msg,e.i+1))!==void 0,se=d(e.setb,d(e.msg,e.i+2))!==void 0;r[t++]=fe&&be&&se,r[t++]=e.i+3,e.numsscr();var ge=r[--t];r[t-1]=ge;var je=r[--t],he=r[--t];if(he&&je>=2&&je%2==0){r[t++]=e.sb3,e.encc(),r[t++]=d(e.msg,e.i),e.encb(),r[t++]=d(e.msg,e.i+1),e.encb(),r[t++]=d(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}break}e.cws=S(e.cws,0,e.j)}e.metrics=a([a([2,7]),a([3,12]),a([4,17]),a([5,22]),a([6,27]),a([7,32]),a([8,37]),a([9,42]),a([10,47]),a([11,52]),a([12,57]),a([13,62]),a([14,67]),a([15,72]),a([16,77])]),e.urows=e.rows;for(var ke=e.metrics,we=0,Ne=ke.length;we<Ne&&(e.m=d(ke,we),e.r=d(e.m,0),e.dcws=d(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);we++);e.okay||(r[t++]="bwipp.code16kNoValidSymbol#15731",r[t++]="Maximum length exceeded or data too large for given options",Q()),r[t++]=1/0,O(e.cws);for(var ze=0,_e=C(e.dcws-e.cws.length);ze<_e;ze++)r[t++]=103;e.cws=a(),r[t++]=1/0,r[t++]=C((e.r-2)*7+e.mode),O(e.cws),e.cws=a(),r[t++]=0;for(var Je=0,at=e.dcws;Je<=at;Je+=1){var nt=r[--t];r[t++]=C(nt+(Je+2)*d(e.cws,Je))}e.c1=r[--t]%107,r[t++]=0;for(var Ae=0,Ye=e.dcws;Ae<=Ye;Ae+=1){var Qe=r[--t];r[t++]=C(Qe+(Ae+1)*d(e.cws,Ae))}e.c2=C(r[--t]+e.c1*(e.dcws+2))%107,r[t++]=1/0,O(e.cws),r[t++]=e.c1,r[t++]=e.c2,e.cws=a();var Ze=d(e.options,"debugcws")!==void 0;Ze&&(r[t++]="bwipp.debugcws#15747",r[t++]=e.cws,Q()),e.encs=a(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","211133"]),e.startencs=a(["3211","2221","2122","1411","1132","1231","1114","3112","3211","2221","2122","1411","1132","1231","1114","3112"]),e.stopencsodd=a(["3211","2221","2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411"]),e.stopencseven=a(["2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411","3211","2221"]),e.sam==-1||~~(e.sam/10)%2==1?e.stopencs=e.stopencsodd:e.stopencs=e.stopencseven,e.rowbits=a(e.r);for(var pt=0,mt=e.r-1;pt<=mt;pt+=1){e.i=pt,r[t++]=1/0,r[t++]=10,xe(d(e.startencs,e.i),function(){var Lt=r[--t];r[t++]=Lt-48});var ut=S(e.cws,e.i*5,5);r[t++]=1;for(var vt=0,it=ut.length;vt<it;vt++)xe(d(e.encs,d(ut,vt)),function(){var Lt=r[--t];r[t++]=Lt-48});xe(d(e.stopencs,e.i),function(){var Lt=r[--t];r[t++]=Lt-48}),r[t++]=1,e.sbs=a(),r[t++]=1/0;var _t=e.sbs;r[t++]=1;for(var et=0,Ht=_t.length;et<Ht;et++)for(var Gt=r[t-1],Ot=Gt==0?1:0,ar=0,Sr=d(_t,et);ar<Sr;ar++)r[t++]=Ot;Wt(a(ys()-1));var ir=r[--t];r[t-1]=ir;var gr=r[--t];r[t-1]=gr,r[t++]=e.rowbits,r[t++]=e.i;var nr=r[t-3],Ir=r[t-1];g(r[t-2],Ir,nr),t-=3}r[t++]=1/0;for(var er=0,ur=81*e.sepheight;er<ur;er++)r[t++]=1;for(var Kt=0,Xt=e.r-2;Kt<=Xt;Kt+=1){e.i=Kt;for(var fr=0,Mr=e.rowheight;fr<Mr;fr++)O(d(e.rowbits,e.i));for(var Ur=0,ms=e.sepheight;Ur<ms;Ur++){for(var Ft=0;Ft<10;Ft++)r[t++]=0;for(var Vt=0;Vt<70;Vt++)r[t++]=1;r[t++]=0}}for(var tr=0,br=e.rowheight;tr<br;tr++)O(d(e.rowbits,e.r-1));for(var or=0,Br=81*e.sepheight;or<Br;or++)r[t++]=1;e.pixs=a();var lr=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=lr,e.dontdraw||xt(),e=s}function JP(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.append=!1,e.rows=0,e.rowheight=8,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>8)&&(r[t++]="bwipp.code49badRows#15885",r[t++]="Code 49 must have 2 to 8 rows",Q()),e.rowheight<8&&(r[t++]="bwipp.code49badRowHeight#15889",r[t++]="Code 49 must have rowheight of at least 8",Q()),e.sepheight<1&&(r[t++]="bwipp.code49badSepHeight#15893",r[t++]="Code 49 must have sepheight of at least 1",Q()),e.append&&e.sam!=-1&&(r[t++]="bwipp.code49samAndAppend#15897",r[t++]="sam and append cannot be specified together",Q()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code49badSAM#15908",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',Q())}e.s1=-1,e.s2=-2,e.fn1=-3,e.fn2=-4,e.fn3=-5,e.ns=-6;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var l=r[--t];e[r[--t]]=l,e.msglen=e.msg.length,xe(e.msg,function(){r[--t]>127&&(r[t++]="bwipp.code49badCharacter#15931",r[t++]="Code 49 can only support ASCII characters with values 0 to 127",Q())}),e.charmap=a(["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%",e.s1,e.s2,e.fn1,e.fn2,e.fn3,e.ns]),e.charvals=new Map;for(var u=0;u<=48;u+=1){e.i=u;var f=d(e.charmap,e.i);if(r[t++]=f,W(oa(f),"stringtype")){var h=d(r[--t],0);r[t++]=h}g(e.charvals,r[--t],e.i)}e.combos=a(["1 ","1A","1B","1C","1D","1E","1F","1G","1H","1I","1J","1K","1L","1M","1N","1O","1P","1Q","1R","1S","1T","1U","1V","1W","1X","1Y","1Z","11","12","13","14","15","  ","16","17","18"," $"," %","19","10","1-","1.","1$"," +","1/"," -"," ."," /"," 0"," 1"," 2"," 3"," 4"," 5"," 6"," 7"," 8"," 9","1+","21","22","23","24","25","26"," A"," B"," C"," D"," E"," F"," G"," H"," I"," J"," K"," L"," M"," N"," O"," P"," Q"," R"," S"," T"," U"," V"," W"," X"," Y"," Z","27","28","29","20","2-","2.","2A","2B","2C","2D","2E","2F","2G","2H","2I","2J","2K","2L","2M","2N","2O","2P","2Q","2R","2S","2T","2U","2V","2W","2X","2Y","2Z","2$","2/","2+","2%","2 "]);for(var p=0;p<=127;p+=1){e.i=p;var m=d(e.combos,e.i);e.c1=d(m,0),e.c2=d(m,1),e.c1==49&&g(e.charvals,e.i,a([d(e.charvals,e.s1),d(e.charvals,e.c2)])),e.c1==50&&g(e.charvals,e.i,a([d(e.charvals,e.s2),d(e.charvals,e.c2)]))}e.encodealpha=function(){var Ne=d(e.charvals,r[--t]);r[t++]=Ne,Ee(oa(Ne),"arraytype")&&Wt(a(1));var ze=r[--t];R(e.cws,e.j,ze),e.j=ze.length+e.j},e.base48=function(){var Ne=r[--t];r[t++]=0,xe(Ne,function(){var ut=r[--t],vt=r[--t];r[t++]=C(ut-48+vt*10)}),r[t++]=1/0;var ze=r[t-2],_e=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=ze;for(var Je=0,at=_e-1;Je<at;Je++){var nt=r[--t];r[t++]=nt%48,r[t++]=~~(nt/48)}var Ae=a(),Ye=1/0,Qe=Ae;r[t++]=Ye,r[t++]=Qe;for(var Ze=Qe.length-1;Ze>=0;Ze-=1){var pt=r[--t];r[t++]=d(pt,Ze),r[t++]=pt}t--;var mt=a();R(e.cws,e.j,mt),e.j=mt.length+e.j},e.encodenumeric=function(){e.nums=r[--t];var Ne=e.nums.length,ze=Ne%5;if(r[t++]="pre",r[t++]=Ne,r[t++]=ze,ze!=2){var _e=r[--t],Je=r[--t];r[t++]=C(Je-_e)}else{var at=r[--t],nt=r[--t];r[t++]=C(nt-at)-5}var Ae=r[--t];e[r[--t]]=Ae;for(var Ye=0,Qe=e.pre-1;Ye<=Qe;Ye+=5)r[t++]=3,r[t++]=S(e.nums,Ye,5),e.base48();e.nums=S(e.nums,e.pre,C(e.nums.length-e.pre));var Ze=e.nums.length;r[t++]=Ze,Ze==1&&(r[t++]=d(e.nums,e.i),e.encodealpha());var pt=r[t-1];pt==3&&(r[t++]=2,r[t++]=e.nums,e.base48());var mt=r[t-1];if(mt==4){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,O(e.nums);var ut=a();r[t++]=ut,e.base48()}if(r[--t]==7){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,O(S(e.nums,0,4));var vt=a();r[t++]=vt,e.base48(),r[t++]=2,r[t++]=S(e.nums,4,3),e.base48()}},r[t++]=1/0;for(var x=0,b=e.msglen;x<b;x++)r[t++]=0;r[t++]=0,e.numericruns=a();for(var v=e.msglen-1;v>=0;v-=1){e.i=v;var w=d(e.msg,e.i);w>=48&&w<=57?g(e.numericruns,e.i,d(e.numericruns,e.i+1)+1):g(e.numericruns,e.i,0)}for(e.cws=a(e.msglen*2+1),e.samval=a([12,22,13,23,33,14,24,34,44,15,25,35,45,55,16,26,36,46,56,66,17,27,37,47,57,67,77,18,28,38,48,58,68,78,88,19,29,39,49,59,69,79,89,99]);;){if(e.append){e.mode=1,e.method="alpha",e.i=0,e.j=0;break}if(e.sam!=-1){e.mode=3,r[t++]=e.cws,r[t++]=0;for(var y=0;y<=43;y+=1)r[t++]=y,d(e.samval,y)!=e.sam&&t--;var A=r[--t],k=r[--t];g(r[--t],k,A+1),e.method="alpha",e.i=0,e.j=1;break}if(d(e.numericruns,0)>=5){e.mode=2,e.method="numeric",e.i=0,e.j=0;break}var E=d(e.charvals,d(e.msg,0));if(r[t++]=E,Ee(oa(E),"arraytype")){t--,e.mode=0,e.method="alpha",e.i=0,e.j=0;break}var j=d(r[--t],0)==43?4:5;e.mode=j,g(e.cws,0,d(d(e.charvals,d(e.msg,0)),1)),e.method="alpha",e.i=1,e.j=1;break}for(;e.i!=e.msglen;)for(;;){if(W(e.method,"alpha")){if(d(e.numericruns,e.i)>=5){r[t++]=e.ns,e.encodealpha(),e.method="numeric";break}r[t++]=d(e.msg,e.i),e.encodealpha(),e.i=e.i+1;break}if(W(e.method,"numeric")){if(d(e.numericruns,e.i)<5){r[t++]=e.ns,e.encodealpha(),e.method="alpha";break}r[t++]=S(e.msg,e.i,d(e.numericruns,e.i)),e.encodenumeric(),e.i=C(e.i+d(e.numericruns,e.i));break}}e.cws=S(e.cws,0,e.j),e.metrics=a([a([2,9]),a([3,16]),a([4,23]),a([5,30]),a([6,37]),a([7,42]),a([8,49])]),e.urows=e.rows;for(var N=e.metrics,I=0,M=N.length;I<M&&(e.m=d(N,I),e.r=d(e.m,0),e.dcws=d(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);I++);e.okay||(r[t++]="bwipp.code49noValidSymbol#16125",r[t++]="Maximum length exceeded",Q()),r[t++]=1/0,O(e.cws);for(var B=0,F=C(e.dcws-e.cws.length);B<F;B++)r[t++]=48;e.cws=a(),e.ccs=a(e.r*8),e.j=0;for(var D=0,H=e.r-2;D<=H;D+=1){e.i=D,e.cc=S(e.cws,e.j,7),R(e.ccs,e.i*8,e.cc);var T=e.cc;r[t++]=e.ccs,r[t++]=e.i*8+7,r[t++]=0;for(var _=0,L=T.length;_<L;_++){var z=r[--t];r[t++]=C(z+d(T,_))}var G=r[--t],K=r[--t];g(r[--t],K,G%49),e.j=e.j+7}e.j<e.dcws&&R(e.ccs,e.ccs.length-8,S(e.cws,e.j,C(e.dcws-e.j))),e.cr7=C((e.r-2)*7+e.mode),g(e.ccs,e.ccs.length-2,e.cr7);var oe=a([1,9,31,26,2,12,17,23,37,18,22,6,27,44,15,43,39,11,13,5,41,33,36,8,4,32,3,19,40,25,29,10,24,30]);r[t++]=oe,r[t++]=oe,r[t++]=1/0;var V=r[--t],Y=S(r[--t],0,32);r[t++]=V,r[t++]=20,O(Y),e.weightx=a();var ie=r[t-1];r[t++]=ie,r[t++]=1/0;var de=r[--t],re=S(r[--t],1,32);r[t++]=de,r[t++]=16,O(re),e.weighty=a(),r[t++]=1/0;var ne=r[--t],le=S(r[--t],2,32);if(r[t++]=ne,r[t++]=38,O(le),e.weightz=a(),e.calccheck=function(){e.weights=r[--t],e.score=0;for(var Ne=0,ze=~~((e.r-1)*8/2)-1;Ne<=ze;Ne+=1)e.i=Ne,e.score=C((d(e.ccs,e.i*2)*49+d(e.ccs,e.i*2+1))*d(e.weights,e.i+1)+e.score);r[t++]=e.score},e.lastrow=S(e.ccs,e.ccs.length-8,8),e.r>=7){r[t++]=e.cr7*d(e.weightz,0),r[t++]=e.weightz,e.calccheck();var ue=r[--t],Me=C(r[--t]+ue)%2401;r[t++]=~~(Me/49),r[t++]=Me%49,Wt(a(2)),r[t++]=e.lastrow,r[t++]=0;var pe=r[t-3],Fe=r[t-1];R(r[t-2],Fe,pe),t-=3}e.wr1=C(d(e.lastrow,0)*49+d(e.lastrow,1)),r[t++]=e.cr7*d(e.weighty,0),r[t++]=e.weighty,e.calccheck();var Ce=r[--t],ve=C(r[--t]+Ce+e.wr1*d(e.weighty,e.r*4-3))%2401;e.wr2=ve,r[t++]=~~(ve/49),r[t++]=ve%49,Wt(a(2)),r[t++]=e.lastrow,r[t++]=2;var Be=r[t-3],Ue=r[t-1];R(r[t-2],Ue,Be),t-=3,r[t++]=e.cr7*d(e.weightx,0),r[t++]=e.weightx,e.calccheck();var Xe=r[--t],Re=C(r[--t]+Xe+e.wr1*d(e.weightx,e.r*4-3)+e.wr2*d(e.weightx,e.r*4-2))%2401;r[t++]=~~(Re/49),r[t++]=Re%49,Wt(a(2)),r[t++]=e.lastrow,r[t++]=4;var Ge=r[t-3],Oe=r[t-1];R(r[t-2],Oe,Ge),t-=3;var Le=S(e.ccs,e.ccs.length-8,7);r[t++]=0;for(var rt=0,Se=Le.length;rt<Se;rt++){var qe=r[--t];r[t++]=C(qe+d(Le,rt))}g(e.ccs,e.ccs.length-1,r[--t]%49);var We=d(e.options,"debugcws")!==void 0;We&&(r[t++]="bwipp.debugcws#16196",r[t++]=e.ccs,Q()),e.patterns=a([a(["11521132","25112131","14212132","25121221","14221222","12412132","23321221","12421222","21521221","15112222","15121312","13312222","24221311","13321312","11512222","22421311","11521312","25112311","14212312","23312311","12412312","21512311","16121131","14321131","12521131","15212131","15221221","13412131","13421221","11612131","16112221","16121311","14312221","14321311","12512221","12521311","15212311","13412311","11612311","11131135","31131133","51131131","21122134","41122132","21131224","41131222","11113135","31113133","51113131","11122225","31122223","51122221","11131315","31131313","51131311","21113224","41113222","21122314","41122312","11113315","31113313","51113311","12131134","32131132","21231133","41231131","22122133","42122131","11222134","22131223","42131221","11231224","31231222","12113134","32113132","12122224","32122222","12131314","32131312","21231313","41231311","22113223","42113221","11213224","22122313","42122311","11222314","31222312","12113314","32113312","21213313","41213311","13131133","33131131","22231132","11331133","31331131","23122132","12222133","23131222","12231223","32231221","21331222","13113133","33113131","13122223","33122221","11313133","13131313","33131311","11322223","22231312","11331313","31331311","23113222","12213223","23122312","12222313","32222311","21322312","13113313","33113311","22213312","11313313","31313311","14131132","23231131","12331132","21431131","24122131","13222132","24131221","13231222","11422132","22331221","11431222","14113132","14122222","12313132","14131312","12322222","23231311","12331312","21431311","24113221","13213222","24122311","13222312","11413222","22322311","11422312","14113312","23213311","12313312","21413311","15131131","13331131","14222131","14231221","12422131","12431221","15113131","15122221","13313131","15131311","13322221","11513131","13331311","11522221","14213221","14222311","12413221","12422311","15113311","13313311","11513311","11141134","31141132","21132133","41132131","21141223","41141221","11123134","31123132","11132224","31132222","11141314","31141312","21114133","41114131","21123223","41123221","21132313","41132311","11114224","31114222","11123314","31123312","21114313","41114311","12141133","32141131","21241132","22132132","11232133","22141222","11241223","31241221","12123133","32123131","12132223","32132221","12141313","32141311","21241312","22114132","11214133","22123222","11223223","22132312","11232313","31232311","12114223","32114221","12123313","32123311","21223312","22114312","11214313","31214311","13141132","22241131","11341132","23132131","12232132","23141221","12241222","21341221","13123132","13132222","11323132","13141312","11332222","22241311","11341312","23114131","12214132","23123221","12223222","23132311","12232312","21332311","13114222","13123312","11314222","22223311","11323312","23114311","12214312","21314311","14141131","12341131","13232131","13241221","11432131","14123131","14132221","12323131","14141311","12332221","12341311","13214131","13223221","11414131","13232311","11423221","11432311","14114221","14123311","12314221","12323311","13214311","11414311","11151133","31151131","21142132","21151222","11133133","31133131","11142223","31142221","11151313","31151311","21124132","21133222","21142312","11115133","31115131","11124223","31124221","11133313","31133311","21115222","21124312","12151132","21251131","22142131","11242132","22151221","11251222","12133132","12142222","12151312","21251311","22124131","11224132","22133221","11233222","22142311","11242312","12115132","12124222","12133312","21233311","22115221","11215222","22124311","11224312","13151131","12242131","12251221","13133131","13142221","11333131","13151311","11342221","12224131","12233221","12242311","13115131","13124221","11315131","13133311","11324221","11333311","12215221","12224311","11161132","21152131","21161221","11143132","11152222","11161312","21134131","21143221","21152311","11125132","11134222","11143312","21116131","21125221","21134311","12161131","11252131","12143131","12152221","12161311","11234131","11243221","11252311","12125131","12134221","12143311","11216131","11225221","11234311","11111236","31111234","51111232","21111325","41111323","61111321","11111416","31111414","51111412","31211143","51211141","12111235","32111233","52111231","21211234","41211232","22111324","42111322","11211325","31211323","51211321","12111415","32111413","52111411","21211414","41211412","12211144","32211142","21311143","41311141","13111234","33111232","22211233","42211231","11311234","31311232","23111323","43111321","12211324","32211322","21311323","41311321","13111414","33111412","22211413","42211411","11311414","31311412","13211143","33211141","22311142","11411143","31411141","14111233","34111231","23211232","12311233","32311231","21411232","24111322","13211323","33211321","22311322","11411323","31411321","14111413","34111411","23211412","12311413","32311411","21411412","14211142","23311141","12411142","21511141","15111232","24211231","13311232","22411231","11511232","25111321","14211322","23311321","12411322","21511321","15111412","24211411","13311412","22411411","11511412","15211141","13411141","11611141","16111231","14311231","12511231","15211321","13411321","11611321","16111411","14311411","12511411","21121144","41121142","11112145","31112143","51112141","11121235","31121233","51121231","21112234","41112232","21121324","41121322","11112325","31112323","51112321","11121415","31121413","51121411","21112414","41112412","22121143","42121141","11221144","31221142","12112144","32112142","12121234","32121232","21221233","41221231","22112233","42112231","11212234","22121323","42121321","11221324","31221322","12112324","32112322","12121414","32121412","21221413","41221411","22112413","42112411","11212414","31212412","23121142","12221143","32221141","21321142","13112143","33112141","13121233","33121231","11312143","22221232","11321233","31321231","23112232","12212233","23121322","12221323","32221321","21321322","13112323","33112321","13121413","33121411","11312323","22221412","11321413","31321411","23112412","12212413","32212411","21312412","24121141","13221142","22321141","11421142","14112142","14121232","12312142","23221231","12321232","21421231","24112231","13212232","24121321","13221322","11412232","22321321","11421322","14112322","14121412","12312322","23221411","12321412","21421411","24112411","13212412","22312411","11412412","14221141","12421141","15112141","15121231","13312141","13321231","11512141","11521231","14212231","14221321","12412231","12421321","15112321","15121411","13312321","13321411","11512321","11521411","14212411","12412411","21131143","41131141","11122144","31122142","11131234","31131232","21113143","41113141","21122233","41122231","21131323","41131321","11113234","31113232","11122324","31122322","11131414","31131412","21113323","41113321","21122413","41122411","11113414","31113412","22131142","11231143","31231141","12122143","32122141","12131233","32131231","21231232","22113142","11213143","22122232","11222233","22131322","11231323","31231321","12113233","32113231","12122323","32122321","12131413","32131411","21231412","22113322","11213323","22122412","11222413","31222411","12113413","32113411","21213412","23131141","12231142","21331141","13122142","13131232","11322142","22231231","11331232","23113141","12213142","23122231","12222232","23131321","12231322","21331321","13113232","13122322","11313232","13131412","11322322","22231411","11331412","23113321","12213322","23122411","12222412","21322411","13113412","22213411","11313412","13231141","11431141","14122141","14131231","12322141","12331231","13213141","13222231","11413141","13231321","11422231","11431321","14113231","14122321","12313231","14131411","12322321","12331411","13213321","13222411","11413321","11422411","14113411","12313411","21141142","11132143","31132141","11141233","31141231","21123142","21132232","21141322","11114143","31114141","11123233","31123231","11132323","31132321","11141413","31141411","21114232","21123322","21132412","11114323","31114321","11123413","31123411","22141141","11241142","12132142","12141232","21241231","22123141","11223142","22132231","11232232","22141321","11241322","12114142","12123232","12132322","12141412","21241411","22114231","11214232","22123321","11223322","22132411","11232412","12114322","12123412","21223411","12241141","13132141","13141231","11332141","11341231","12223141","12232231","12241321","13114141","13123231","11314141","13132321","11323231","13141411","11332321","11341411","12214231","12223321","12232411","13114321","13123411","11314321","11323411","21151141","11142142","11151232","21133141","21142231","21151321","11124142","11133232","11142322","11151412","21115141","21124231","21133321","21142411","11115232","11124322","11133412","11251141","12142141","12151231","11233141","11242231","11251321","12124141","12133231","12142321","12151411","11215141","11224231","11233321","11242411","12115231","12124321","12133411","11152141","11161231","11134141","11143231","11152321","11161411","11116141","11125231","11134321","11143411","21111244","41111242","11111335","31111333","51111331","21111424","41111422","11111515","31111513","51111511","21211153","41211151","22111243","42111241","11211244","31211242","12111334","32111332","21211333","41211331","22111423","42111421","11211424","31211422","12111514","32111512","21211513","41211511","22211152","11311153","31311151","23111242","12211243","32211241","21311242","13111333","33111331","22211332","11311333","31311331","23111422","12211423","32211421","21311422","13111513","33111511","22211512","11311513","31311511","23211151","12311152","21411151","24111241","13211242","22311241","11411242","14111332","23211331","12311332","21411331","24111421","13211422","22311421","11411422","14111512","23211511","12311512","21411511","13311151","11511151","14211241","12411241","15111331","13311331","11511331","14211421","12411421","15111511","13311511","11511511","31121152","21112153","41112151","21121243","41121241","11112244","31112242","11121334","31121332","21112333","41112331","21121423","41121421","11112424","31112422","11121514","31121512","21112513","41112511","12121153","32121151","21221152","22112152","11212153","22121242","11221243","31221241","12112243","32112241","12121333","32121331","21221332","22112332","11212333","22121422","11221423","31221421","12112423","32112421","12121513","32121511","21221512","22112512","11212513","31212511","13121152","22221151","11321152","23112151","12212152","23121241","12221242","21321241","13112242","13121332","11312242","22221331","11321332","23112331","12212332","23121421","12221422","21321421","13112422","13121512","11312422","22221511","11321512","23112511","12212512","21312511","14121151","12321151","13212151","13221241","11412151","11421241","14112241","14121331","12312241","12321331","13212331","13221421","11412331","11421421","14112421","14121511","12312421","12321511","13212511","11412511","11131153","31131151","21122152","21131242","11113153","31113151","11122243","31122241","11131333","31131331","21113242","21122332","21131422","11113333","31113331","11122423","31122421","11131513","31131511","21113422","21122512","12131152","21231151","22122151","11222152","22131241","11231242","12113152","12122242","12131332","21231331","22113241","11213242","22122331","11222332","22131421","11231422","12113332","12122422","12131512","21231511","22113421","11213422","22122511","11222512","13131151","11331151","12222151","12231241","13113151","13122241","11313151","13131331","11322241","11331331","12213241","12222331","12231421","13113331","13122421","11313331","13131511","11322421","11331511","12213421","12222511","11141152","21132151","21141241","11123152","11132242","11141332","21114151","21123241","21132331","21141421","11114242","11123332","11132422","11141512","21114331","21123421","21132511","12141151","11232151","11241241","12123151","12132241","12141331","11214151","11223241","11232331","11241421","12114241","12123331","12132421","12141511","11214331","11223421","11232511","11151151","11133151","11142241","11151331","11115151","11124241","11133331","11142421","11151511","11111254","31111252","21111343","41111341","11111434","31111432","21111523","41111521","11111614","31111612","31211161","12111253","32111251","21211252","22111342","11211343","31211341","12111433","32111431","21211432","22111522","11211523","31211521","12111613","32111611","21211612","12211162","21311161","13111252","22211251","11311252","23111341","12211342","21311341","13111432","22211431","11311432","23111521","12211522","21311521","13111612","22211611","11311612","13211161","11411161","14111251","12311251","13211341","11411341","14111431","12311431","13211521","11411521","14111611","12311611","21121162","11112163","31112161","11121253","31121251","21112252","21121342","11112343","31112341","11121433","31121431","21112432","21121522","11112523","31112521","11121613","31121611","22121161","11221162","12112162","12121252","21221251","22112251","11212252","22121341","11221342","12112342","12121432","21221431","22112431","11212432","22121521","11221522","12112522","12121612","21221611","12221161","13112161","13121251","11312161","11321251","32121115","52121113","21221116","41221114","61221112","22112116","42112114","31212115","51212113","13121116","33121114","22221115","42221113","11321116","31321114","51321112","23112115","43112113","12212116","32212114","52212112","21312115","41312113","61312111","14121115","34121113","23221114","43221112","12321115","32321113","52321111","21421114","41421112","24112114","13212115","33212113","22312114","42312112","11412115","31412113","51412111","15121114","24221113","13321114","33321112","22421113","42421111","11521114","31521112","25112113","14212114","34212112","23312113","43312111","12412114","32412112","21512113","41512111","16121113","25221112","14321113","34321111","23421112","12521113","32521111","15212113","24312112","13412113","33412111","22512112","11612113","31612111","31131115","51131113","21122116","41122114","61122112","31113115","51113113","12131116","32131114","52131112","21231115","41231113","61231111","22122115","42122113","11222116","31222114","51222112","12113116","32113114","52113112","21213115","41213113","61213111","13131115","33131113","22231114","42231112","11331115","31331113","51331111","23122114","43122112","12222115","32222113","52222111","21322114","41322112","13113115","33113113","22213114","42213112","11313115","31313113","51313111","14131114","34131112","23231113","43231111","12331114","32331112","21431113","41431111","24122113","13222114","33222112","22322113","42322111","11422114","31422112","14113114","34113112","23213113","43213111","12313114","32313112","21413113","41413111","15131113","24231112","13331113","33331111","22431112","25122112","14222113","34222111","23322112","12422113","32422111","21522112","15113113","24213112","13313113","33313111","22413112","11513113","31513111","16131112","25231111","14331112","23431111","15222112","24322111","13422112","22522111","16113112","25213111","14313112","23413111","12513112","21613111","11141116","31141114","51141112","21132115","41132113","61132111","11123116","31123114","51123112","21114115","41114113","61114111","12141115","32141113","52141111","21241114","41241112","22132114","42132112","11232115","31232113","51232111","12123115","32123113","52123111","21223114","41223112","22114114","42114112","11214115","31214113","51214111","13141114","33141112","22241113","42241111","11341114","31341112","23132113","43132111","12232114","32232112","21332113","41332111","13123114","33123112","22223113","42223111","11323114","31323112","23114113","43114111","12214114","32214112","21314113","41314111","14141113","34141111","23241112","12341113","32341111","24132112","13232113","33232111","22332112","11432113","31432111","14123113","34123111","23223112","12323113","32323111","21423112","24114112","13214113","33214111","22314112","11414113","31414111","15141112","24241111","13341112","25132111","14232112","23332111","12432112","15123112","24223111","13323112","22423111","11523112","25114111","14214112","23314111","12414112","21514111","16141111","14341111","15232111","13432111","16123111","14323111","12523111","15214111","13414111","11614111","11151115","31151113","51151111","21142114","41142112","11133115","31133113","51133111","21124114","41124112","11115115","31115113","51115111","12151114","32151112","21251113","41251111","22142113","42142111","11242114","31242112","12133114","32133112","21233113","41233111","22124113","42124111","11224114","31224112","12115114","32115112","21215113","41215111","13151113","33151111","22251112","23142112","12242113","32242111","21342112","13133113","33133111","22233112","11333113","31333111","23124112","12224113","32224111","21324112","13115113","33115111","22215112","11315113","31315111","14151112","23251111","24142111","13242112","22342111","14133112","23233111","12333112","21433111","24124111","13224112","22324111","11424112","14115112","23215111","12315112","21415111","15151111","14242111","15133111","13333111","14224111","12424111","15115111","13315111","11515111","11161114","31161112","21152113","41152111","11143114","31143112","21134113","41134111","11125114","31125112","21116113","41116111","12161113","32161111","22152112","11252113","31252111","12143113","32143111","21243112","22134112","11234113","31234111","12125113","32125111","21225112","22116112","11216113","31216111","13161112","23152111","12252112","13143112","22243111","11343112","23134111","12234112","21334111","13125112","22225111","11325112","23116111","12216112","21316111","14161111","13252111","14143111","12343111","13234111","11434111","14125111","12325111","13216111","11416111","31111216","51111214","31211125","51211123","32111215","52111213","21211216","41211214","61211212","12211126","32211124","52211122","21311125","41311123","61311121","13111216","33111214","22211215","42211213","11311216","31311214","51311212","13211125","33211123","22311124","42311122","11411125","31411123","51411121","14111215","34111213","23211214","43211212","12311215","32311213","52311211","21411214","41411212","14211124","34211122","23311123","43311121","12411124","32411122","21511123","41511121","15111214","24211213","13311214","33311212","22411213","42411211","11511214","31511212","15211123","24311122","13411123","33411121","22511122","11611123","31611121","16111213","25211212","14311213","34311211","23411212","12511213","32511211","21611212","21121126","41121124","61121122","31112125","51112123","31121215","51121213","21112216","41112214","61112212","22121125","42121123","11221126","31221124","51221122","12112126","32112124","52112122","12121216","32121214","52121212","21221215","41221213","61221211","22112215","42112213","11212216","31212214","51212212","23121124","43121122","12221125","32221123","52221121","21321124","41321122","13112125","33112123","13121215","33121213","11312125","22221214","42221212","11321215","31321213","51321211","23112214","43112212","12212215","32212213","52212211","21312214","41312212","24121123","13221124","33221122","22321123","42321121","11421124","31421122","14112124","34112122","14121214","34121212","12312124","23221213","43221211","12321214","32321212","21421213","41421211","24112213","13212214","33212212","22312213","42312211","11412214","31412212","25121122","14221123","34221121","23321122","12421123","32421121","21521122","15112123","15121213","13312123","24221212","13321213","33321211","11512123","22421212","11521213","31521211","25112212","14212213","34212211","23312212","12412213","32412211","21512212","15221122","24321121","13421122","22521121","16112122","16121212","14312122","25221211","14321212","12512122","23421211","12521212","15212212","24312211","13412212","22512211","11612212","21131125","41131123","61131121","11122126","31122124","51122122","11131216","31131214","51131212","21113125","41113123","61113121","21122215","41122213","61122211","11113216","31113214","51113212","22131124","42131122","11231125","31231123","51231121","12122125","32122123","52122121","12131215","32131213","52131211","21231214","41231212","22113124","42113122","11213125","22122214","42122212","11222215","31222213","51222211","12113215","32113213","52113211","21213214","41213212","23131123","43131121","12231124","32231122","21331123","41331121","13122124","33122122","13131214","33131212","11322124","22231213","42231211","11331214","31331212","23113123","43113121","12213124","23122213","43122211","12222214","32222212","21322213","41322211","13113214","33113212","22213213","42213211","11313214","31313212","24131122","13231123","33231121","22331122","11431123","31431121","14122123","34122121","14131213","34131211","12322123","23231212","12331213","32331211","21431212","24113122","13213123","24122212","13222213","33222211","11413123","22322212","11422213","31422211","14113213","34113211","23213212","12313213","32313211","21413212","25131121","14231122","23331121","12431122","15122122","15131212","13322122","24231211","13331212","11522122","22431211","25113121","14213122","25122211","14222212","12413122","23322211","12422212","21522211","15113212","24213211","13313212","22413211","11513212","15231121","13431121","16122121","16131211","14322121","14331211","12522121","15213121","15222211","13413121","13422211","11613121","16113211","14313211","12513211","21141124","41141122","11132125","31132123","51132121","11141215","31141213","51141211","21123124","41123122","21132214","41132212","11114125","31114123","51114121","11123215","31123213","51123211","21114214","41114212","22141123","42141121","11241124","31241122","12132124","32132122","12141214","32141212","21241213","41241211","22123123","42123121","11223124","22132213","42132211","11232214","31232212","12114124","32114122","12123214","32123212","21223213","41223211","22114213","42114211","11214214","31214212","23141122","12241123","32241121","21341122","13132123","33132121","13141213","33141211","11332123","22241212","11341213","31341211","23123122","12223123","23132212","12232213","32232211","21332212","13114123","33114121","13123213","33123211","11314123","22223212","11323213","31323211","23114212","12214213","32214211","21314212","24141121","13241122","22341121","14132122","14141212","12332122","23241211","12341212","24123121","13223122","24132211","13232212","11423122","22332211","11432212","14114122","14123212","12314122","23223211","12323212","21423211","24114211","13214212","22314211","11414212","14241121","15132121","15141211","13332121","13341211","14223121","14232211","12423121","12432211","15114121","15123211","13314121","13323211","11514121","11523211","14214211","12414211","21151123","41151121","11142124","31142122","11151214","31151212","21133123","41133121","21142213","41142211","11124124","31124122","11133214","31133212","21115123","41115121","21124213","41124211","11115214","31115212","22151122","11251123","31251121","12142123","32142121","12151213","32151211","21251212","22133122","11233123","22142212","11242213","31242211","12124123","32124121","12133213","32133211","21233212","22115122","11215123","22124212","11224213","31224211","12115213","32115211","21215212","23151121","12251122","13142122","13151212","11342122","22251211","23133121","12233122","23142211","12242212","21342211","13124122","13133212","11324122","22233211","11333212","23115121","12215122","23124211","12224212","21324211","13115212","22215211","11315212","13251121","14142121","14151211","12342121","13233121","13242211","11433121","14124121","14133211","12324121","12333211","13215121","13224211","11415121","11424211","14115211","12315211","21161122","11152123","31152121","11161213","31161211","21143122","21152212","11134123","31134121","11143213","31143211","21125122","21134212","11116123","31116121","11125213","31125211","22161121","12152122","12161212","22143121","11243122","22152211","11252212","12134122","12143212","21243211","22125121","11225122","22134211","11234212","12116122","12125212","21225211","13152121","13161211","12243121","12252211","13134121","13143211","11334121","11343211","12225121","12234211","13116121","13125211","11316121","11325211","21111226","41111224","61111222","31111315","51111313","21211135","41211133","61211131","22111225","42111223","11211226","31211224","51211222","12111316","32111314","52111312","21211315","41211313","61211311","22211134","42211132","11311135","31311133","51311131","23111224","43111222","12211225","32211223","52211221","21311224","41311222","13111315","33111313","22211314","42211312","11311315","31311313","51311311","23211133","43211131","12311134","32311132","21411133","41411131","24111223","13211224","33211222","22311223","42311221","11411224","31411222","14111314","34111312","23211313","43211311","12311314","32311312","21411313","41411311","24211132","13311133","33311131","22411132","11511133","31511131","25111222","14211223","34211221","23311222","12411223","32411221","21511222","15111313","24211312","13311313","33311311","22411312","11511313","31511311","25211131","14311132","23411131","12511132","21611131","15211222","24311221","13411222","22511221","11611222","16111312","25211311","14311312","23411311","12511312","21611311","31121134","51121132","21112135","41112133","61112131","21121225","41121223","61121221","11112226","31112224","51112222","11121316","31121314","51121312","21112315","41112313","61112311","12121135","32121133","52121131","21221134","41221132","22112134","42112132","11212135","22121224","42121222","11221225","31221223","51221221","12112225","32112223","52112221","12121315","32121313","52121311","21221314","41221312","22112314","42112312","11212315","31212313","51212311","13121134","33121132","22221133","42221131","11321134","31321132","23112133","43112131","12212134","23121223","43121221","12221224","32221222","21321223","41321221","13112224","33112222","13121314","33121312","11312224","22221313","42221311","11321314","31321312","23112313","43112311","12212314","32212312","21312313","41312311","14121133","34121131","23221132","12321133","32321131","21421132","24112132","13212133","24121222","13221223","33221221","11412133","22321222","11421223","31421221","14112223","34112221","14121313","34121311","12312223","23221312","12321313","32321311","21421312","24112312","13212313","33212311","22312312","11412313","31412311","15121132","24221131","13321132","22421131"]),a(["22121116","42121114","31221115","51221113","32112115","52112113","21212116","41212114","61212112","23121115","43121113","12221116","32221114","52221112","21321115","41321113","61321111","13112116","33112114","22212115","42212113","11312116","31312114","51312112","24121114","13221115","33221113","22321114","42321112","11421115","31421113","51421111","14112115","34112113","23212114","43212112","12312115","32312113","52312111","21412114","41412112","25121113","14221114","34221112","23321113","43321111","12421114","32421112","21521113","41521111","15112114","24212113","13312114","33312112","22412113","42412111","11512114","31512112","15221113","24321112","13421113","33421111","22521112","16112113","25212112","14312113","34312111","23412112","12512113","32512111","21612112","21131116","41131114","61131112","31122115","51122113","21113116","41113114","61113112","22131115","42131113","11231116","31231114","51231112","12122116","32122114","52122112","21222115","41222113","61222111","22113115","42113113","11213116","31213114","51213112","23131114","43131112","12231115","32231113","52231111","21331114","41331112","13122115","33122113","22222114","42222112","11322115","31322113","51322111","23113114","43113112","12213115","32213113","52213111","21313114","41313112","24131113","13231114","33231112","22331113","42331111","11431114","31431112","14122114","34122112","23222113","43222111","12322114","32322112","21422113","41422111","24113113","13213114","33213112","22313113","42313111","11413114","31413112","25131112","14231113","34231111","23331112","12431113","32431111","15122113","24222112","13322113","33322111","22422112","11522113","31522111","25113112","14213113","34213111","23313112","12413113","32413111","21513112","15231112","24331111","13431112","16122112","25222111","14322112","23422111","12522112","15213112","24313111","13413112","22513111","11613112","21141115","41141113","61141111","11132116","31132114","51132112","21123115","41123113","61123111","11114116","31114114","51114112","22141114","42141112","11241115","31241113","51241111","12132115","32132113","52132111","21232114","41232112","22123114","42123112","11223115","31223113","51223111","12114115","32114113","52114111","21214114","41214112","23141113","43141111","12241114","32241112","21341113","41341111","13132114","33132112","22232113","42232111","11332114","31332112","23123113","43123111","12223114","32223112","21323113","41323111","13114114","33114112","22214113","42214111","11314114","31314112","24141112","13241113","33241111","22341112","14132113","34132111","23232112","12332113","32332111","21432112","24123112","13223113","33223111","22323112","11423113","31423111","14114113","34114111","23214112","12314113","32314111","21414112","25141111","14241112","23341111","15132112","24232111","13332112","22432111","25123111","14223112","23323111","12423112","21523111","15114112","24214111","13314112","22414111","11514112","15241111","16132111","14332111","15223111","13423111","16114111","14314111","12514111","21151114","41151112","11142115","31142113","51142111","21133114","41133112","11124115","31124113","51124111","21115114","41115112","22151113","42151111","11251114","31251112","12142114","32142112","21242113","41242111","22133113","42133111","11233114","31233112","12124114","32124112","21224113","41224111","22115113","42115111","11215114","31215112","23151112","12251113","32251111","13142113","33142111","22242112","11342113","31342111","23133112","12233113","32233111","21333112","13124113","33124111","22224112","11324113","31324111","23115112","12215113","32215111","21315112","24151111","13251112","14142112","23242111","12342112","24133111","13233112","22333111","11433112","14124112","23224111","12324112","21424111","24115111","13215112","22315111","11415112","14251111","15142111","13342111","14233111","12433111","15124111","13324111","11524111","14215111","12415111","21161113","41161111","11152114","31152112","21143113","41143111","11134114","31134112","21125113","41125111","11116114","31116112","22161112","12152113","32152111","21252112","22143112","11243113","31243111","12134113","32134111","21234112","22125112","11225113","31225111","12116113","32116111","21216112","23161111","13152112","22252111","23143111","12243112","21343111","13134112","22234111","11334112","23125111","12225112","21325111","13116112","22216111","11316112","14152111","13243111","14134111","12334111","13225111","11425111","14116111","12316111","41111215","61111213","21211126","41211124","61211122","22111216","42111214","31211215","51211213","22211125","42211123","11311126","31311124","51311122","23111215","43111213","12211216","32211214","52211212","21311215","41311213","61311211","23211124","43211122","12311125","32311123","52311121","21411124","41411122","24111214","13211215","33211213","22311214","42311212","11411215","31411213","51411211","24211123","13311124","33311122","22411123","42411121","11511124","31511122","25111213","14211214","34211212","23311213","43311211","12411214","32411212","21511213","41511211","25211122","14311123","34311121","23411122","12511123","32511121","21611122","15211213","24311212","13411213","33411211","22511212","11611213","31611211","31121125","51121123","21112126","41112124","61112122","21121216","41121214","61121212","31112215","51112213","12121126","32121124","52121122","21221125","41221123","61221121","22112125","42112123","11212126","22121215","42121213","11221216","31221214","51221212","12112216","32112214","52112212","21212215","41212213","61212211","13121125","33121123","22221124","42221122","11321125","31321123","51321121","23112124","43112122","12212125","23121214","43121212","12221215","32221213","52221211","21321214","41321212","13112215","33112213","22212214","42212212","11312215","31312213","51312211","14121124","34121122","23221123","43221121","12321124","32321122","21421123","41421121","24112123","13212124","24121213","13221214","33221212","11412124","22321213","42321211","11421214","31421212","14112214","34112212","23212213","43212211","12312214","32312212","21412213","41412211","15121123","24221122","13321123","33321121","22421122","11521123","31521121","25112122","14212123","25121212","14221213","34221211","12412123","23321212","12421213","32421211","21521212","15112213","24212212","13312213","33312211","22412212","11512213","31512211","16121122","25221121","14321122","23421121","12521122","15212122","15221212","13412122","24321211","13421212","11612122","22521211","16112212","25212211","14312212","23412211","12512212","21612211","11131126","31131124","51131122","21122125","41122123","61122121","21131215","41131213","61131211","11113126","31113124","51113122","11122216","31122214","51122212","21113215","41113213","61113211","12131125","32131123","52131121","21231124","41231122","22122124","42122122","11222125","22131214","42131212","11231215","31231213","51231211","12113125","32113123","52113121","12122215","32122213","52122211","21222214","41222212","22113214","42113212","11213215","31213213","51213211","13131124","33131122","22231123","42231121","11331124","31331122","23122123","43122121","12222124","23131213","43131211","12231214","32231212","21331213","41331211","13113124","33113122","13122214","33122212","11313124","22222213","42222211","11322214","31322212","23113213","43113211","12213214","32213212","21313213","41313211","14131123","34131121","23231122","12331123","32331121","21431122","24122122","13222123","24131212","13231213","33231211","11422123","22331212","11431213","31431211","14113123","34113121","14122213","34122211","12313123","23222212","12322213","32322211","21422212","24113212","13213213","33213211","22313212","11413213","31413211","15131122","24231121","13331122","22431121","25122121","14222122","25131211","14231212","12422122","23331211","12431212","15113122","15122212","13313122","24222211","13322212","11513122","22422211","11522212","25113211","14213212","23313211","12413212","21513211","16131121","14331121","15222121","15231211","13422121","13431211","16113121","16122211","14313121","14322211","12513121","12522211","15213211","13413211","11613211","11141125","31141123","51141121","21132124","41132122","21141214","41141212","11123125","31123123","51123121","11132215","31132213","51132211","21114124","41114122","21123214","41123212","11114215","31114213","51114211","12141124","32141122","21241123","41241121","22132123","42132121","11232124","22141213","42141211","11241214","31241212","12123124","32123122","12132214","32132212","21232213","41232211","22114123","42114121","11214124","22123213","42123211","11223214","31223212","12114214","32114212","21214213","41214211","13141123","33141121","22241122","11341123","31341121","23132122","12232123","23141212","12241213","32241211","21341212","13123123","33123121","13132213","33132211","11323123","22232212","11332213","31332211","23114122","12214123","23123212","12223213","32223211","21323212","13114213","33114211","22214212","11314213","31314211","14141122","23241121","12341122","24132121","13232122","24141211","13241212","11432122","22341211","14123122","14132212","12323122","23232211","12332212","21432211","24114121","13214122","24123211","13223212","11414122","22323211","11423212","14114212","23214211","12314212","21414211","15141121","13341121","14232121","14241211","12432121","15123121","15132211","13323121","13332211","11523121","14214121","14223211","12414121","12423211","15114211","13314211","11514211","11151124","31151122","21142123","41142121","21151213","41151211","11133124","31133122","11142214","31142212","21124123","41124121","21133213","41133211","11115124","31115122","11124214","31124212","21115213","41115211","12151123","32151121","21251122","22142122","11242123","22151212","11251213","31251211","12133123","32133121","12142213","32142211","21242212","22124122","11224123","22133212","11233213","31233211","12115123","32115121","12124213","32124211","21224212","22115212","11215213","31215211","13151122","22251121","23142121","12242122","23151211","12251212","13133122","13142212","11333122","22242211","11342212","23124121","12224122","23133211","12233212","21333211","13115122","13124212","11315122","22224211","11324212","23115211","12215212","21315211","14151121","13242121","13251211","14133121","14142211","12333121","12342211","13224121","13233211","11424121","11433211","14115121","14124211","12315121","12324211","13215211","11415211","11161123","31161121","21152122","21161212","11143123","31143121","11152213","31152211","21134122","21143212","11125123","31125121","11134213","31134211","21116122","21125212","12161122","22152121","11252122","22161211","12143122","12152212","21252211","22134121","11234122","22143211","11243212","12125122","12134212","21234211","22116121","11216122","22125211","11225212","13161121","12252121","13143121","13152211","11343121","12234121","12243211","13125121","13134211","11325121","11334211","12216121","12225211","31111225","51111223","21111316","41111314","61111312","31211134","51211132","12111226","32111224","52111222","21211225","41211223","61211221","22111315","42111313","11211316","31211314","51211312","12211135","32211133","52211131","21311134","41311132","13111225","33111223","22211224","42211222","11311225","31311223","51311221","23111314","43111312","12211315","32211313","52211311","21311314","41311312","13211134","33211132","22311133","42311131","11411134","31411132","14111224","34111222","23211223","43211221","12311224","32311222","21411223","41411221","24111313","13211314","33211312","22311313","42311311","11411314","31411312","14211133","34211131","23311132","12411133","32411131","21511132","15111223","24211222","13311223","33311221","22411222","11511223","31511221","25111312","14211313","34211311","23311312","12411313","32411311","21511312","15211132","24311131","13411132","22511131","11611132","16111222","25211221","14311222","23411221","12511222","21611221","15211312","24311311","13411312","22511311","11611312","21121135","41121133","61121131","11112136","31112134","51112132","11121226","31121224","51121222","21112225","41112223","61112221","21121315","41121313","61121311","11112316","31112314","51112312","22121134","42121132","11221135","31221133","51221131","12112135","32112133","52112131","12121225","32121223","52121221","21221224","41221222","22112224","42112222","11212225","22121314","42121312","11221315","31221313","51221311","12112315","32112313","52112311","21212314","41212312","23121133","43121131","12221134","32221132","21321133","41321131","13112134","33112132","13121224","33121222","11312134","22221223","42221221","11321224","31321222","23112223","43112221","12212224","23121313","43121311","12221314","32221312","21321313","41321311","13112314","33112312","22212313","42212311","11312314","31312312","24121132","13221133","33221131","22321132","11421133","31421131","14112133","34112131","14121223","34121221","12312133","23221222","12321223","32321221","21421222","24112222","13212223","24121312","13221313","33221311","11412223","22321312","11421313","31421311","14112313","34112311","23212312","12312313","32312311","21412312","25121131","14221132","23321131","12421132","21521131","15112132","15121222","13312132","24221221","13321222","11512132","22421221","11521222","25112221","14212222","25121311","14221312","12412222","23321311","12421312","21521311","15112312","24212311","13312312","22412311","11512312","15221131","13421131","16112131","16121221","14312131","14321221","12512131","12521221","15212221","15221311","13412221","13421311","11612221","16112311","14312311","12512311","21131134","41131132","11122135","31122133","51122131","11131225","31131223","51131221","21113134","41113132","21122224","41122222","21131314","41131312","11113225","31113223","51113221","11122315","31122313","51122311","21113314","41113312","22131133","42131131","11231134","31231132","12122134","32122132","12131224","32131222","21231223","41231221","22113133","42113131","11213134","22122223","42122221","11222224","22131313","42131311","11231314","31231312","12113224","32113222","12122314","32122312","21222313","41222311","22113313","42113311","11213314","31213312","23131132","12231133","32231131","21331132","13122133","33122131","13131223","33131221","11322133","22231222","11331223","31331221","23113132","12213133","23122222","12222223","23131312","12231313","32231311","21331312","13113223","33113221","13122313","33122311","11313223","22222312","11322313","31322311","23113312","12213313","32213311","21313312","24131131","13231132","22331131","11431132","14122132","14131222","12322132","23231221","12331222","21431221","24113131","13213132","24122221","13222222","24131311","11413132","13231312","11422222","22331311","11431312","14113222","14122312","12313222","23222311","12322312","21422311","24113311","13213312","22313311","11413312","14231131","12431131","15122131","15131221","13322131","13331221","11522131","14213131","14222221","12413131","14231311","12422221","12431311","15113221","15122311","13313221","13322311","11513221","11522311","14213311","12413311","21141133","41141131","11132134","31132132","11141224","31141222","21123133","41123131","21132223","41132221","21141313","41141311","11114134","31114132","11123224","31123222","11132314","31132312","21114223","41114221","21123313","41123311","11114314","31114312","22141132","11241133","31241131","12132133","32132131","12141223","32141221","21241222","22123132","11223133","22132222","11232223","22141312","11241313","31241311","12114133","32114131","12123223","32123221","12132313","32132311","21232312","22114222","11214223","22123312","11223313","31223311","12114313","32114311","21214312","23141131","12241132","21341131","13132132","13141222","11332132","22241221","11341222","23123131","12223132","23132221","12232222","23141311","12241312","21341311","13114132","13123222","11314132","13132312","11323222","22232311","11332312","23114221","12214222","23123311","12223312","21323311","13114312","22214311","11314312","13241131","14132131","14141221","12332131","12341221","13223131","13232221","11423131","13241311","11432221","14114131","14123221","12314131","14132311","12323221","12332311","13214221","13223311","11414221","11423311","14114311","12314311","21151132","11142133","31142131","11151223","31151221","21133132","21142222","21151312","11124133","31124131","11133223","31133221","11142313","31142311","21115132","21124222","21133312","11115223","31115221","11124313","31124311","22151131","11251132","12142132","12151222","21251221","22133131","11233132","22142221","11242222","22151311","11251312","12124132","12133222","12142312","21242311","22115131","11215132","22124221","11224222","22133311","11233312","12115222","12124312","21224311","12251131","13142131","13151221","11342131","12233131","12242221","12251311","13124131","13133221","11324131","13142311","11333221","11342311","12215131","12224221","12233311","13115221","13124311","11315221","11324311","21161131","11152132","11161222","21143131","21152221","21161311","11134132","11143222","11152312","21125131","21134221","21143311","11116132","11125222","11134312","12152131","12161221","11243131","11252221","12134131","12143221","12152311","11225131","11234221","11243311","12116131","12125221","12134311","21111235","41111233","61111231","11111326","31111324","51111322","21111415","41111413","61111411","21211144","41211142","22111234","42111232","11211235","31211233","51211231","12111325","32111323","52111321","21211324","41211322","22111414","42111412","11211415","31211413","51211411","22211143","42211141","11311144","31311142","23111233","43111231","12211234","32211232","21311233","41311231","13111324","33111322","22211323","42211321","11311324","31311322","23111413","43111411","12211414","32211412","21311413","41311411","23211142","12311143","32311141","21411142","24111232","13211233","33211231","22311232","11411233","31411231","14111323","34111321","23211322","12311323","32311321","21411322","24111412","13211413","33211411","22311412","11411413","31411411","24211141","13311142","22411141","11511142","25111231","14211232","23311231","12411232","21511231","15111322","24211321","13311322","22411321","11511322","25111411","14211412","23311411","12411412","21511411","14311141","12511141","15211231","13411231","11611231","16111321","14311321","12511321","15211411","13411411","11611411","31121143","51121141","21112144","41112142","21121234","41121232","11112235","31112233","51112231","11121325","31121323","51121321","21112324","41112322","21121414","41121412","11112415","31112413","51112411","12121144","32121142","21221143","41221141","22112143","42112141","11212144","22121233","42121231","11221234","31221232","12112234","32112232","12121324","32121322","21221323","41221321","22112323","42112321","11212324","22121413","42121411","11221414","31221412","12112414","32112412","21212413","41212411","13121143","33121141","22221142","11321143","31321141","23112142","12212143","23121232","12221233","32221231","21321232","13112233","33112231","13121323","33121321","11312233","22221322","11321323","31321321","23112322","12212323","23121412","12221413","32221411","21321412","13112413","33112411","22212412","11312413","31312411","14121142","23221141","12321142","21421141","24112141","13212142","24121231","13221232","11412142","22321231","11421232","14112232","14121322","12312232","23221321","12321322","21421321","24112321","13212322","24121411","13221412","11412322","22321411","11421412","14112412","23212411","12312412","21412411","15121141","13321141","11521141","14212141","14221231","12412141","12421231","15112231","15121321","13312231","13321321","11512231","11521321","14212321","14221411","12412321","12421411","15112411","13312411","11512411","11131144","31131142","21122143","41122141","21131233","41131231","11113144","31113142","11122234","31122232","11131324","31131322","21113233","41113231","21122323","41122321","21131413","41131411","11113324","31113322","11122414","31122412","21113413","41113411","12131143","32131141","21231142","22122142","11222143","22131232","11231233","31231231","12113143","32113141","12122233","32122231","12131323","32131321","21231322","22113232","11213233","22122322","11222323","22131412","11231413","31231411","12113323","32113321","12122413","32122411","21222412","22113412","11213413","31213411","13131142","22231141","11331142","23122141","12222142","23131231","12231232","21331231","13113142","13122232","11313142","13131322","11322232","22231321","11331322","23113231","12213232","23122321","12222322","23131411","12231412","21331411","13113322","13122412","11313322","22222411","11322412","23113411","12213412","21313411","14131141","12331141","13222141","13231231","11422141","11431231","14113141","14122231","12313141","14131321","12322231","12331321","13213231","13222321","11413231","13231411","11422321","11431411","14113321","14122411","12313321","12322411","13213411","11413411","11141143","31141141","21132142","21141232","11123143","31123141","11132233","31132231","11141323","31141321","21114142","21123232","21132322","21141412","11114233","31114231","11123323","31123321","11132413","31132411","21114322","21123412","12141142","21241141","22132141","11232142","22141231","11241232","12123142","12132232","12141322","21241321","22114141","11214142","22123231","11223232","22132321","11232322","22141411","11241412","12114232","12123322","12132412","21232411","22114321","11214322","22123411","11223412","13141141","11341141","12232141","12241231","13123141","13132231","11323141","13141321","11332231","11341321","12214141","12223231","12232321","12241411","13114231","13123321","11314231","13132411","11323321","11332411","12214321","12223411","11151142","21142141","21151231","11133142","11142232","11151322","21124141","21133231","21142321","21151411","11115142","11124232","11133322","11142412","21115231","21124321","21133411","12151141","11242141","11251231","12133141","12142231","12151321","11224141","11233231","11242321","11251411","12115141","12124231","12133321","12142411","11215231","11224321","11233411","11161141","11143141","11152231","11161321","11125141","11134231","11143321","11152411","11111245","31111243","51111241","21111334","41111332","11111425","31111423","51111421","21111514","41111512","31211152","12111244","32111242","21211243","41211241","22111333","42111331","11211334","31211332","12111424","32111422","21211423","41211421","22111513","42111511","11211514","31211512","12211153","32211151","21311152","13111243","33111241","22211242","11311243","31311241","23111332","12211333","32211331","21311332","13111423","33111421","22211422","11311423","31311421","23111512","12211513","32211511","21311512","13211152","22311151","11411152","14111242","23211241","12311242","21411241","24111331","13211332","22311331","11411332","14111422","23211421","12311422","21411421","24111511","13211512","22311511","11411512","14211151","12411151","15111241","13311241","11511241","14211331","12411331","15111421","13311421","11511421","14211511","12411511","21121153","41121151","11112154","31112152","11121244","31121242","21112243","41112241","21121333","41121331","11112334","31112332","11121424","31121422","21112423","41112421","21121513","41121511","11112514","31112512","22121152","11221153","31221151","12112153","32112151","12121243","32121241","21221242","22112242","11212243","22121332","11221333","31221331","12112333","32112331","12121423","32121421","21221422","22112422","11212423","22121512","11221513","31221511","12112513","32112511","21212512","23121151","12221152","21321151","13112152","13121242","11312152","22221241","11321242","23112241","12212242","23121331","12221332","21321331","13112332","13121422","11312332","22221421","11321422","23112421","12212422","23121511","12221512","21321511","13112512","22212511","11312512","13221151","11421151","14112151","14121241","12312151","12321241","13212241","13221331","11412241","11421331","14112331","14121421","12312331","12321421","13212421","13221511","11412421","11421511","14112511","12312511","21131152","11122153","31122151","11131243","31131241","21113152","21122242","21131332","11113243","31113241","11122333","31122331","11131423","31131421","21113332","21122422","21131512","11113423","31113421","11122513","31122511","22131151","11231152","12122152","12131242","21231241","22113151","11213152","22122241","11222242","22131331","11231332","12113242","12122332","12131422","21231421","22113331","11213332","22122421","11222422","22131511","11231512","12113422","12122512","21222511","12231151","13122151","13131241","11322151","11331241","12213151","12222241","12231331","13113241","13122331","11313241","13131421","11322331","11331421","12213331","12222421","12231511","13113421","13122511","11313421","11322511","21141151","11132152","11141242","21123151","21132241","21141331","11114152","11123242","11132332","11141422","21114241","21123331","21132421","21141511","11114332","11123422","11132512","11241151","12132151","12141241","11223151","11232241","11241331","12114151","12123241","12132331","12141421","11214241","11223331","11232421","11241511","12114331","12123421","12132511","11142151","11151241","11124151","11133241","11142331","11151421","11115241","11124331","11133421","11142511","21111253","41111251","11111344","31111342","21111433","41111431","11111524","31111522","21111613","41111611","21211162","22111252","11211253","31211251","12111343","32111341","21211342","22111432","11211433","31211431","12111523","32111521","21211522","22111612","11211613","31211611","22211161","11311162","23111251","12211252","21311251","13111342","22211341","11311342","23111431","12211432","21311431","13111522","22211521","11311522","23111611","12211612","21311611","12311161","13211251","11411251","14111341","12311341","13211431","11411431","14111521","12311521","13211611","11411611","31121161","21112162","21121252","11112253","31112251","11121343","31121341","21112342","21121432","11112433","31112431","11121523","31121521","21112522","21121612","12121162","21221161","22112161","11212162","22121251","11221252","12112252","12121342","21221341","22112341","11212342","22121431","11221432","12112432","12121522","21221521","22112521","11212522","22121611","11221612","13121161","11321161","12212161","12221251","13112251","13121341","11312251","11321341","12212341","12221431","13112431","13121521","11312431","11321521","12212521","12221611","11131162","21122161","21131251","11113162"])]),e.parity=a(["1001","0101","1100","0011","1010","0110","1111","0000"]),e.rowbits=a(e.r);for(var Ke=0,Te=e.r-1;Ke<=Te;Ke+=1){e.i=Ke,r[t++]="p",e.i!=e.r-1?r[t++]=d(e.parity,e.i):r[t++]="0000";var He=r[--t];e[r[--t]]=He,e.ccrow=S(e.ccs,e.i*8,8),r[t++]=1/0;for(var st=0;st<=7;st+=2){O(S(e.ccrow,st,2));var gt=r[--t],ht=r[--t];r[t++]=C(gt+ht*49)}e.scrow=a(),r[t++]=1/0,r[t++]=10,r[t++]=1,r[t++]=1;for(var bt=0;bt<=3;bt+=1)e.j=bt,xe(d(d(e.patterns,d(e.p,e.j)-48),d(e.scrow,e.j)),function(){var Ne=r[--t];r[t++]=Ne-48});r[t++]=4,r[t++]=1,e.sbs=a(),r[t++]=1/0;var Et=e.sbs;r[t++]=1;for(var kt=0,wt=Et.length;kt<wt;kt++)for(var Mt=r[t-1],It=Mt==0?1:0,zt=0,Bt=d(Et,kt);zt<Bt;zt++)r[t++]=It;Wt(a(ys()-1));var jt=r[--t];r[t-1]=jt;var U=r[--t];r[t-1]=U,r[t++]=e.rowbits,r[t++]=e.i;var $=r[t-3],P=r[t-1];g(r[t-2],P,$),t-=3}r[t++]=1/0;for(var q=0,X=81*e.sepheight;q<X;q++)r[t++]=1;for(var ce=0,te=e.r-2;ce<=te;ce+=1){e.i=ce;for(var ye=0,J=e.rowheight;ye<J;ye++)O(d(e.rowbits,e.i));for(var me=0,fe=e.sepheight;me<fe;me++){for(var be=0;be<10;be++)r[t++]=0;for(var se=0;se<70;se++)r[t++]=1;r[t++]=0}}for(var ge=0,je=e.rowheight;ge<je;ge++)O(d(e.rowbits,e.r-1));for(var he=0,ke=81*e.sepheight;he<ke;he++)r[t++]=1;e.pixs=a();var we=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=we,e.dontdraw||xt(),e=s}function XP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.3,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],xe(e.barcode,function(){var y=r[--t];(y<48||y>57)&&(r[t++]="bwipp.flattermarkenBadCharacter#17258",r[t++]="Flattermarken must contain only digits",Q())}),e.encs=a(["0018","0117","0216","0315","0414","0513","0612","0711","0810","0900"]),e.barchars="1234567890",e.barlen=e.barcode.length,e.sbs=Z(e.barlen*4),e.txt=a(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,Rt(e.barchars,S(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=d(e.encs,e.indx),R(e.sbs,e.i*4,e.enc),g(e.txt,e.i,a([S(e.barcode,e.i,1),e.i*9,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0;for(var o=e.sbs,l=0,u=o.length;l<u;l++)r[t++]=d(o,l)-48;var f=a();r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=a();r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=0;var v=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=v,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options;var w=Pe();r[t++]=w,e.dontdraw||Tt(),e=s}function ZP(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.height=1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],xe(e.barcode,function(){var m=r[--t];(m<49||m>57)&&(r[t++]="bwipp.rawBadCharacter#17344",r[t++]="Raw must contain only digits 1 to 9",Q())}),r[t++]=1/0,r[t++]=1/0,xe(e.barcode,function(){var m=r[--t];r[t++]=m-48});var n=a();r[t++]=1/0;for(var i=0,o=~~((e.barcode.length+1)/2);i<o;i++)r[t++]=e.height;var l=a();r[t++]=1/0;for(var u=0,f=~~((e.barcode.length+1)/2);u<f;u++)r[t++]=0;var h=a();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=n,r[t++]="bhs",r[t++]=l,r[t++]="bbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,e.dontdraw||Tt(),e=s}function eU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.175,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.daftEmptyData#17397",r[t++]="The data must not be empty",Q()),xe(e.barcode,function(){var m=r[--t];m!=68&&m!=65&&m!=70&&m!=84&&(r[t++]="bwipp.daftBadCharacter#17402",r[t++]="DAFT must contain only characters D, A, F and T",Q())}),e.barlen=e.barcode.length,e.bbs=a(e.barlen),e.bhs=a(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.enc=S(e.barcode,e.i,1),W(e.enc,"D")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"A")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),W(e.enc,"F")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8)),W(e.enc,"T")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var o=e.bbs,l=e.bhs;r[t++]=1/0;for(var u=0,f=e.bhs.length-1;u<f;u++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var h=a();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=o,r[t++]="bhs",r[t++]=l,r[t++]="sbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,e.dontdraw||Tt(),e=s}function tU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.fimasbs=a([2.25,2.25,2.25,11.25,2.25,11.25,2.25,2.25,2.25]),r[t++]=1/0;for(var n=0,i=~~(e.fimasbs.length/2)+1;n<i;n++)r[t++]=.625;e.fimabhs=a(),r[t++]=1/0;for(var o=0,l=~~(e.fimasbs.length/2)+1;o<l;o++)r[t++]=0;e.fimabbs=a(),e.fimbsbs=a([2.25,6.75,2.25,2.25,2.25,6.25,2.25,2.25,2.25,6.75,2.25]),r[t++]=1/0;for(var u=0,f=~~(e.fimbsbs.length/2)+1;u<f;u++)r[t++]=.625;e.fimbbhs=a(),r[t++]=1/0;for(var h=0,p=~~(e.fimbsbs.length/2)+1;h<p;h++)r[t++]=0;e.fimbbbs=a(),e.fimcsbs=a([2.25,2.25,2.25,6.75,2.25,6.75,2.25,6.75,2.25,2.25,2.25]),r[t++]=1/0;for(var m=0,x=~~(e.fimcsbs.length/2)+1;m<x;m++)r[t++]=.625;e.fimcbhs=a(),r[t++]=1/0;for(var b=0,v=~~(e.fimcsbs.length/2)+1;b<v;b++)r[t++]=0;e.fimcbbs=a(),e.fimdsbs=a([2.25,2.25,2.25,2.25,2.25,6.75,2.25,6.75,2.25,2.25,2.25,2.25,2.25]),r[t++]=1/0;for(var w=0,y=~~(e.fimdsbs.length/2)+1;w<y;w++)r[t++]=.625;e.fimdbhs=a(),r[t++]=1/0;for(var A=0,k=~~(e.fimdsbs.length/2)+1;A<k;A++)r[t++]=0;e.fimdbbs=a(),e.fimesbs=a([2.25,6.75,2.25,15.75,2.25,6.75,2.25]),r[t++]=1/0;for(var E=0,j=~~(e.fimesbs.length/2)+1;E<j;E++)r[t++]=.625;e.fimebhs=a(),r[t++]=1/0;for(var N=0,I=~~(e.fimesbs.length/2)+1;N<I;N++)r[t++]=0;e.fimebbs=a(),r[t++]=1/0;for(var M=0;M<100;M++)r[t++]=1,r[t++]=1;r[t++]=1,e.zebrasbs=a(),r[t++]=1/0;for(var B=0,F=~~(e.zebrasbs.length/2)+1;B<F;B++)r[t++]=1;e.zebrabhs=a(),r[t++]=1/0;for(var D=0,H=~~(e.zebrasbs.length/2)+1;D<H;D++)r[t++]=0;e.zebrabbs=a(),e.checksize=199,r[t++]=1/0;for(var T=e.checksize,_=0,L=~~(T*T/2);_<L;_++)r[t++]=1,r[t++]=0;r[t++]=1,e.checkpixs=a();var z=new Map([["renlinear",Tt],["renmatrix",xt]]);e.renmap=z;var G=new Map([["fima",function(){var Y=new Map([["ren","renlinear"],["sbs",e.fimasbs],["bhs",e.fimabhs],["bbs",e.fimabbs]]);r[t++]=Y}],["fimb",function(){var Y=new Map([["ren","renlinear"],["sbs",e.fimbsbs],["bhs",e.fimbbhs],["bbs",e.fimbbbs]]);r[t++]=Y}],["fimc",function(){var Y=new Map([["ren","renlinear"],["sbs",e.fimcsbs],["bhs",e.fimcbhs],["bbs",e.fimcbbs]]);r[t++]=Y}],["fimd",function(){var Y=new Map([["ren","renlinear"],["sbs",e.fimdsbs],["bhs",e.fimdbhs],["bbs",e.fimdbbs]]);r[t++]=Y}],["fime",function(){var Y=new Map([["ren","renlinear"],["sbs",e.fimesbs],["bhs",e.fimebhs],["bbs",e.fimebbs]]);r[t++]=Y}],["zebra",function(){var Y=new Map([["ren","renlinear"],["sbs",e.zebrasbs],["bhs",e.zebrabhs],["bbs",e.zebrabbs]]);r[t++]=Y}],["check",function(){var Y=new Map([["ren","renmatrix"],["pixs",e.checkpixs],["pixx",e.checksize],["pixy",e.checksize],["height",e.checksize/72],["width",e.checksize/72]]);r[t++]=Y}]]);e.symbols=G;var K=d(e.symbols,e.barcode)!==void 0;if(K||(r[t++]="bwipp.symbolUnknownSymbol#17531",r[t++]="Unknown symbol name provided",Q()),d(e.symbols,e.barcode)()===!0)return!0;var oe=r[t-1];if(g(oe,"opt",e.options),!e.dontdraw){var V=r[t-1];if(d(e.renmap,d(V,"ren"))()===!0)return!0}e=s}function Ff(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.compact=!1,e.eclevel=-1,e.fixedeclevel=!1,e.columns=0,e.rows=0,e.rowmult=3,e.ccc=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.pdf417emptyData#17591",r[t++]="The data must not be empty",Q()),e.eclevel!=-1&&(e.eclevel<0||e.eclevel>8)&&(r[t++]="bwipp.pdf417InvalidErrorCorrectionLevel#17595",r[t++]="Valid error correction levels are 0 to 8",Q()),e.ccc&&e.raw&&(r[t++]="bwipp.pdf417cccAndRaw#17599",r[t++]="Cannot combine ccc and raw",Q()),e.ccc&&e.compact&&(r[t++]="bwipp.pdf417cccAndCompact#17603",r[t++]="Cannot combine ccc and compact",Q()),e.rows!=0&&(e.rows<3||e.rows>90)&&(r[t++]="bwipp.pdf417invalidRows#17607",r[t++]="There must be between 3 and 90 rows",Q()),e.columns!=0&&(e.columns<1||e.columns>30)&&(r[t++]="bwipp.pdf417invalidColumns#17611",r[t++]="There must be between 1 and 30 columns",Q()),e.rowmult<=0&&(r[t++]="bwipp.pdf417badRowMult#17615",r[t++]="The row multiplier must be greater than zero",Q()),e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.charmaps=a([a(["A","a","0",";"]),a(["B","b","1","<"]),a(["C","c","2",">"]),a(["D","d","3","@"]),a(["E","e","4","["]),a(["F","f","5",92]),a(["G","g","6","]"]),a(["H","h","7","_"]),a(["I","i","8","`"]),a(["J","j","9","~"]),a(["K","k","&","!"]),a(["L","l",13,13]),a(["M","m",9,9]),a(["N","n",",",","]),a(["O","o",":",":"]),a(["P","p","#",10]),a(["Q","q","-","-"]),a(["R","r",".","."]),a(["S","s","$","$"]),a(["T","t","/","/"]),a(["U","u","+",'"']),a(["V","v","%","|"]),a(["W","w","*","*"]),a(["X","x","=",40]),a(["Y","y","^",41]),a(["Z","z",e.pl,"?"]),a([" "," "," ","{"]),a([e.ll,e.as,e.ll,"}"]),a([e.ml,e.ml,e.al,"'"]),a([e.ps,e.ps,e.ps,e.al])]),e.charvals=a([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var n=0,i=e.charmaps.length-1;n<=i;n+=1){e.i=n,e.encs=d(e.charmaps,e.i);for(var o=0;o<=3;o+=1){e.j=o;var l=d(e.encs,e.j);if(r[t++]=l,W(oa(l),"stringtype")){var u=d(r[--t],0);r[t++]=u}var f=r[--t];g(d(e.charvals,e.j),f,e.i),g(e.alltext,f,-1)}}if(e.e=1e4,e.latlen=a([a([0,1,1,2]),a([2,0,1,2]),a([1,1,0,1]),a([1,2,2,0])]),e.latseq=a([a([a([]),a([e.ll]),a([e.ml]),a([e.ml,e.pl])]),a([a([e.ml,e.al]),a([]),a([e.ml]),a([e.ml,e.pl])]),a([a([e.al]),a([e.ll]),a([]),a([e.pl])]),a([a([e.al]),a([e.al,e.ll]),a([e.al,e.ml]),a([])])]),e.shftlen=a([a([e.e,e.e,e.e,1]),a([1,e.e,e.e,1]),a([e.e,e.e,e.e,1]),a([e.e,e.e,e.e,e.e])]),r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,e.latchcws=Pe(),e.raw){for(e.datcws=a(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||d(e.barcode,e.i)!=94);){var h=S(e.barcode,e.i+1,3);r[t++]=h,r[t++]=!1;for(var p=0,m=h.length;p<m;p++){var x=d(h,p);(x<48||x>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Ie(r[--t]),g(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.pdf417badRawFormat#17727",r[t++]="raw data must be formatted as ^NNN",Q()),e.datcws=S(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=a(~~(e.inlen/6)*5+e.inlen%6);for(var fe=0,be=~~(e.inlen/6)-1;fe<=be;fe+=1){e.k=fe,r[t++]=1/0,O(S(e.in,e.k*6,3)),e.msbs=a(),r[t++]=1/0,O(e.msbs);var se=r[--t],ge=r[--t],je=r[--t];r[t++]=C(se+ge*256+je*65536);for(var he=0;he<3;he++){var ke=r[--t];r[t++]=ke%900,r[t++]=~~(ke/900)}e.mscs=a(),r[t++]=1/0,O(S(e.in,e.k*6+3,3)),e.lsbs=a(),r[t++]=1/0,O(e.lsbs);var we=r[--t],Ne=r[--t],ze=r[--t];r[t++]=C(we+Ne*256+ze*65536);for(var _e=0;_e<3;_e++){var Je=r[--t];r[t++]=Je%900,r[t++]=~~(Je/900)}e.lscs=a();var at=d(e.lscs,0),nt=d(e.mscs,0);g(e.out,e.k*5+4,C(at+nt*316)%900);var Ae=d(e.lscs,1),Ye=d(e.mscs,0),Qe=d(e.mscs,1);g(e.out,e.k*5+3,C(~~((at+nt*316)/900)+Ae+Ye*641+Qe*316)%900);var Ze=d(e.lscs,2),pt=d(e.mscs,0),mt=d(e.mscs,1),ut=d(e.mscs,2);g(e.out,e.k*5+2,C(~~((~~((at+nt*316)/900)+Ae+Ye*641+Qe*316)/900)+Ze+pt*20+mt*641+ut*316)%900);var vt=d(e.lscs,3),it=d(e.mscs,1),_t=d(e.mscs,2);g(e.out,e.k*5+1,C(~~((~~((~~((at+nt*316)/900)+Ae+Ye*641+Qe*316)/900)+Ze+pt*20+mt*641+ut*316)/900)+vt+it*20+_t*641)%900),g(e.out,e.k*5,C(~~((~~((~~((~~((at+nt*316)/900)+Ae+Ye*641+Qe*316)/900)+Ze+pt*20+mt*641+ut*316)/900)+vt+it*20+_t*641)/900)+d(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,O(S(e.in,e.inlen-e.rem,e.rem));var et=a(),Ht=r[--t];R(r[--t],Ht,et)}r[t++]=e.out},e.ccc){e.barlen=e.barcode.length,e.datcws=a(~~(e.barlen/6)*5+e.barlen%6+2),g(e.datcws,0,920);var b=e.barlen%6==0?924:901;g(e.datcws,1,b),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,xe(e.barcode);var v=a();r[t++]=v,e.encb();var w=r[--t],y=r[--t];R(r[--t],y,w)}if(!e.raw&&!e.ccc){var A=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=A,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var k=r[--t];e[r[--t]]=k,e.msglen=e.msg.length,r[t++]=1/0;for(var E=0,j=e.msglen;E<j;E++)r[t++]=0;r[t++]=0,e.numdigits=a(),r[t++]=1/0;for(var N=0,I=e.msglen;N<I;N++)r[t++]=0;r[t++]=0,e.numtext=a(),r[t++]=1/0;for(var M=0,B=e.msglen;M<B;M++)r[t++]=0;r[t++]=0,e.numbytes=a(),r[t++]=1/0;for(var F=0,D=e.msglen;F<D;F++)r[t++]=0;r[t++]=0,e.iseci=a();for(var H=e.msglen-1;H>=0;H-=1){e.i=H;var T=d(e.msg,e.i);T>=48&&T<=57&&g(e.numdigits,e.i,d(e.numdigits,e.i+1)+1);var _=d(e.alltext,d(e.msg,e.i))!==void 0;_&&d(e.numdigits,e.i)<13&&g(e.numtext,e.i,d(e.numtext,e.i+1)+1),d(e.msg,e.i)>=0&&d(e.numtext,e.i)<5&&d(e.numdigits,e.i)<13&&g(e.numbytes,e.i,d(e.numbytes,e.i+1)+1),g(e.iseci,e.i,d(e.msg,e.i)<=-1e6)}for(e.numdigits=S(e.numdigits,0,e.msglen),e.numtext=S(e.numtext,0,e.msglen),e.numbytes=S(e.numbytes,0,e.msglen),e.seq=a([]),e.seqlen=0,e.state=e.T,e.p=0;e.p!=e.msglen;)if(d(e.iseci,e.p)){if(e.eci=d(e.msg,e.p),r[t++]=1/0,O(e.seq),r[t++]=a([e.eci]),e.seq=a(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var L=e.eci<=-1000900?3:2;r[t++]=L}var z=r[--t],G=r[--t];e[r[--t]]=C(G+z)}else if(e.n=d(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,O(e.seq),r[t++]=e.nl,r[t++]=1/0,O(S(e.msg,e.p,e.n));var K=a();r[t++]=K,e.seq=a(),e.state=e.N,e.p=C(e.p+e.n),e.seqlen=C(e.seqlen+1+e.n)}else if(e.t=d(e.numtext,e.p),e.t>=5){r[t++]=1/0,O(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,O(S(e.msg,e.p,e.t));var oe=a();r[t++]=oe,e.seq=a(),e.state=e.T,e.p=C(e.p+e.t),e.seqlen=C(e.seqlen+1+e.t)}else if(e.b=d(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,O(e.seq),r[t++]=e.bs,r[t++]=a([d(e.msg,e.p)]),e.seq=a(),e.p=C(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,O(e.seq);var V=e.b%6!=0?e.bl:e.bl6;r[t++]=V,r[t++]=1/0,O(S(e.msg,e.p,e.b));var Y=a();r[t++]=Y,e.seq=a(),e.state=e.B,e.p=C(e.p+e.b),e.seqlen=C(e.seqlen+1+e.b)}for(e.enca=function(){var fe=d(d(e.charvals,e.A),r[--t]);r[t++]=fe},e.encl=function(){var fe=d(d(e.charvals,e.L),r[--t]);r[t++]=fe},e.encm=function(){var fe=d(d(e.charvals,e.M),r[--t]);r[t++]=fe},e.encp=function(){var fe=d(d(e.charvals,e.P),r[--t]);r[t++]=fe},e.textencfuncs=a(["enca","encl","encm","encp"]),e.addtotext=function(){g(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=a([e.e,e.e,e.e,e.e]),g(e.curlen,e.submode,0),e.curseq=a([a([]),a([]),a([]),a([])]),xe(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var pt=a([e.A,e.L,e.M,e.P]),mt=0,ut=pt.length;mt<ut;mt++){e.x=d(pt,mt);for(var vt=a([e.A,e.L,e.M,e.P]),it=0,_t=vt.length;it<_t;it++)if(e.y=d(vt,it),e.cost=C(d(e.curlen,e.x)+d(d(e.latlen,e.x),e.y)),e.cost<d(e.curlen,e.y)){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(d(e.curseq,e.x)),O(d(d(e.latseq,e.x),e.y));var et=a(),Ht=r[--t];g(r[--t],Ht,et),e.imp=!0}}if(!e.imp)break}e.nxtlen=a([e.e,e.e,e.e,e.e]),e.nxtseq=a(4);for(var Gt=a([e.A,e.L,e.M,e.P]),Ot=0,ar=Gt.length;Ot<ar;Ot++)for(e.x=d(Gt,Ot);;){var Sr=d(d(e.charvals,e.x),e.char)!==void 0;if(!Sr)break;if(e.cost=d(e.curlen,e.x)+1,e.cost<d(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(d(e.curseq,e.x)),r[t++]=e.char;var ir=a(),gr=r[--t];g(r[--t],gr,ir)}for(var nr=a([e.A,e.L,e.M,e.P]),Ir=0,er=nr.length;Ir<er;Ir++)if(e.y=d(nr,Ir),Ee(e.x,e.y)&&(e.cost=C(d(e.curlen,e.y)+d(d(e.shftlen,e.y),e.x))+1,e.cost<d(e.nxtlen,e.y))){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(d(e.curseq,e.y));var ur=e.x==e.A?e.as:e.ps;r[t++]=ur,r[t++]=e.char;var Kt=a(),Xt=r[--t];g(r[--t],Xt,Kt)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var fe=a([e.A,e.L,e.M,e.P]),be=0,se=fe.length;be<se;be++)e.k=d(fe,be),d(e.curlen,e.k)<e.minseq&&(e.minseq=d(e.curlen,e.k),e.txtseq=d(e.curseq,e.k));for(e.text=a(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=d(e.txtseq,e.k),r[t++]=e.char,e[d(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=d(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var ge=r[--t];e[r[--t]]=ge,e.submode=e.A}else{e.nextecitext=!1;for(var je=e.i+1,he=e.seq.length-1;je<=he;je+=1){if(e.ti=je,Ee(oa(d(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(d(d(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var ke=d(d(e.charvals,e.L),d(d(e.seq,e.ti),0))!==void 0;if(ke){r[t++]="pad",r[t++]=e.ll,e.enca();var we=r[--t];e[r[--t]]=we,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var Ne=r[--t];e[r[--t]]=Ne,e.submode=e.M}}else if(e.submode==e.M){var ze=d(d(e.charvals,e.L),d(d(e.seq,e.ti),0))!==void 0;if(ze){r[t++]="pad",r[t++]=e.ll,e.encm();var _e=r[--t];e[r[--t]]=_e,e.submode=e.L}else{var Je=d(d(e.charvals,e.P),d(d(e.seq,e.ti),0))!==void 0;if(Je){r[t++]="pad",r[t++]=e.pl,e.encm();var at=r[--t];e[r[--t]]=at,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var nt=r[--t];e[r[--t]]=nt,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var Ae=r[--t];e[r[--t]]=Ae,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[d(e.textencfuncs,e.submode)]()===!0)return!0;var Ye=r[--t];e[r[--t]]=Ye}}r[t++]=1/0,O(e.text),r[t++]=e.pad,e.text=a()}e.out=a(~~(e.text.length/2));for(var Qe=0,Ze=e.out.length-1;Qe<=Ze;Qe+=1)e.k=Qe,g(e.out,e.k,C(d(e.text,e.k*2)*30+d(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=a([]);for(var fe=0,be=e.in.length-1;fe<=be;fe+=44){e.k=fe,r[t++]=1/0;var se=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=se,se>44&&(r[t-1]=44);for(var ge=r[--t],je=r[--t],he=S(r[--t],je,ge),ke=0,we=he.length;ke<we;ke++)r[t++]=d(he,ke)-48;for(e.gmod=a(),e.cwn=a([]);;){for(e.dv=900,e.gmul=a([]),e.val=0;e.gmod.length!=0;)e.val=C(e.val*10+d(e.gmod,0)),e.gmod=S(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,O(e.gmul),r[t++]=0,e.gmul=a()):(r[t++]=1/0,O(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=a()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,O(e.cwn),e.cwn=a(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,O(e.out),O(e.cwn),e.out=a()}r[t++]=e.out},e.ence=function(){var fe=-d(r[--t],0)-1e6;if(r[t++]=fe,fe<=899){var be=r[--t];r[t++]=927,r[t++]=be,Wt(a(2))}else{var se=r[t-1];if(se<=810899){var ge=r[--t];r[t++]=926,r[t++]=~~(ge/900)-1,r[t++]=ge%900,Wt(a(3))}else{var je=r[t-1];if(je<=811799){var he=r[--t];r[t++]=925,r[t++]=he-810900,Wt(a(2))}else r[t++]="bwipp.pdf417badECI#18089",r[t++]="PDF417 supports ECIs 000000 to 811799",Q()}}},e.encfuncs=a(["enct","encn","encb"]),e.addtocws=function(){var fe=r[--t];R(e.datcws,e.j,fe),e.j=fe.length+e.j},e.state=e.T,e.submode=e.A,e.datcws=a(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=d(e.seq,e.i),W(oa(e.chars),"arraytype"))if(d(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[d(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=a([d(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=d(e.seq,e.i),e.encb(),e.addtocws());e.i=e.i+1}e.datcws=S(e.datcws,0,e.j)}e.m=e.datcws.length,e.m>926&&(r[t++]="bwipp.pdf417dataTooLong#18129",r[t++]="The data is too long",Q()),e.eclevel==-1&&(e.m<=40&&(e.eclevel=2),e.m>=41&&e.m<=160&&(e.eclevel=3),e.m>=161&&e.m<=320&&(e.eclevel=4),e.m>=321&&(e.eclevel=5)),e.fixedeclevel||(e.maxeclevel=~~(ba(927-e.m)/ba(2))-1,e.eclevel>e.maxeclevel&&(e.eclevel=e.maxeclevel)),e.k=~~v1(2,e.eclevel+1),e.columns==0&&(e.columns=~~Ti(Yu((e.m+e.k)/3))),r[t++]="c",e.columns>=1?r[t++]=e.columns:r[t++]=1;var ie=r[--t];if(e[r[--t]]=ie,e.r=~~vr((e.m+e.k+1)/e.columns),e.r<e.rows&&e.rows<=90&&(e.r=e.rows),e.r<3&&(e.r=3),e.r>90&&(r[t++]="bwipp.pdf417insufficientCapacity#18158",r[t++]="Insufficient capacity in the symbol",Q()),!e.fixedeclevel){var de=e.c,re=e.r,ne=e.m,le=8,ue=~~(ba(C(de*re-1-ne))/ba(2))-1;if(~~(ba(C(de*re-1-ne))/ba(2))-1>8){var Me=le;le=ue,ue=Me}e.maxeclevel=ue,e.maxeclevel>e.eclevel&&(e.eclevel=e.maxeclevel,e.k=~~v1(2,e.eclevel+1))}e.n=C(e.c*e.r-e.k),e.cws=a(e.c*e.r+1),g(e.cws,0,e.n),R(e.cws,1,e.datcws),r[t++]=e.cws,r[t++]=e.m+1,r[t++]=1/0;for(var pe=0,Fe=C(e.n-e.m)-1;pe<Fe;pe++)r[t++]=900;var Ce=a(),ve=r[--t];R(r[--t],ve,Ce),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Be=0,Ue=e.k;Be<Ue;Be++)r[t++]=0;r[t++]=0;var Xe=a(),Re=r[--t];R(r[--t],Re,Xe),r[t++]=1/0,r[t++]=1;for(var Ge=0;Ge<928;Ge++){var Oe=r[t-1];r[t++]=Oe*3%929}e.rsalog=a(),e.rslog=a(929);for(var Le=1;Le<=928;Le+=1)g(e.rslog,d(e.rsalog,Le),Le);e.rsprod=function(){var fe=r[t-1],be=r[t-2];if(fe!=0&&be!=0){var se=d(e.rslog,r[--t]),ge=d(e.rsalog,C(se+d(e.rslog,r[--t]))%928);r[t++]=ge}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var rt=0,Se=e.k;rt<Se;rt++)r[t++]=0;e.coeffs=a();for(var qe=1,We=e.k;qe<=We;qe+=1){e.i=qe,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var Ke=e.i-1;Ke>=1;Ke-=1){e.j=Ke,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var Te=r[--t],He=r[--t],st=r[--t];g(r[--t],st,C(He+Te)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var gt=r[--t],ht=r[--t];g(r[--t],ht,gt)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1);for(var bt=e.coeffs.length-1;bt>=0;bt-=2){var Et=e.coeffs;g(Et,bt,929-d(Et,bt))}for(var kt=0,wt=e.n-1;kt<=wt;kt+=1){e.t=C(d(e.cws,kt)+d(e.cws,e.n))%929;for(var Mt=0,It=e.k-1;Mt<=It;Mt+=1)e.j=Mt,g(e.cws,C(e.n+e.j),C(d(e.cws,C(e.n+e.j)+1)+(929-e.t*d(e.coeffs,e.k-e.j-1)%929))%929)}for(var zt=e.n,Bt=C(e.n+e.k);zt<=Bt;zt+=1)g(e.cws,zt,(929-d(e.cws,zt))%929);e.cws=S(e.cws,0,e.cws.length-1);var jt=d(e.options,"debugcws")!==void 0;jt&&(r[t++]="bwipp.debugcws#18221",r[t++]=e.cws,Q()),e.clusters=a([a([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),a([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),a([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.cwtobits=function(){var fe=d(e.clusters,r[--t]);e.v=d(fe,r[--t]),r[t++]=1/0;for(var be=0;be<17;be++)r[t++]=0;for(var se=qt(Z(17),e.v,2),ge=0,je=se.length;ge<je;ge++)r[t++]=d(se,ge)-48;var he=a();r[t++]=S(he,he.length-17,17)},e.compact?e.rwid=17*e.c+17+17+1:e.rwid=17*e.c+17+17+17+18,e.pixs=a(e.rwid*e.r*e.rowmult);for(var U=0,$=e.r-1;U<=$;U+=1){e.i=U,e.i%3==0&&(e.lcw=~~(e.i/3)*30+~~((e.r-1)/3),e.rcw=C(~~(e.i/3)*30+e.c)-1),e.i%3==1&&(e.lcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3,e.rcw=~~(e.i/3)*30+~~((e.r-1)/3)),e.i%3==2&&(e.lcw=C(~~(e.i/3)*30+e.c)-1,e.rcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3),r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=e.lcw,r[t++]=e.i%3,e.cwtobits(),O(r[--t]);for(var P=S(e.cws,e.c*e.i,e.c),q=0,X=P.length;q<X;q++)r[t++]=d(P,q),r[t++]=e.i%3,e.cwtobits(),O(r[--t]);e.compact||(r[t++]=e.rcw,r[t++]=e.i%3,e.cwtobits(),O(r[--t]),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0),r[t++]=1;var ce=a();r[t++]=ce;for(var te=0,ye=e.rowmult-1;te<=ye;te+=1){var J=r[t-1];R(e.pixs,(te+e.i*e.rowmult)*e.rwid,J)}t--}var me=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",2],["borderright",2],["bordertop",2],["borderbottom",2],["opt",e.options]]);r[t++]=me,e.dontdraw||xt(),e=s}function rU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"compact",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ff();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function Vu(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.columns=0,e.rows=0,e.rowmult=2,e.cca=!1,e.ccb=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.micropdf417emptyData#18631",r[t++]="The data must not be empty",Q()),e.rowmult<=0&&(r[t++]="bwipp.micropdf417badRowMult#18635",r[t++]="The row multiplier must be greater than zero",Q()),(e.cca&&e.ccb||e.cca&&e.raw||e.ccb&&e.raw)&&(r[t++]="bwipp.micropdf417ccaAndCcb#18639",r[t++]="Cannot combine cca, ccb and raw",Q()),Ee(e.version,"unset"))if(Rt(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Wt(a(2)),xe(r[--t],function(){var he=r[t-1];r[t++]=!0,he.length==0&&(r[t-1]=!1);var ke=r[--t],we=r[--t];r[t++]=ke,xe(we,function(){var Ne=r[--t];(Ne<48||Ne>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.micropdf417BadVersionBadRowOrColumn#18653",r[t++]="version must be formatted as RxC",Q())}),e.rows=Ie(r[--t]),e.columns=Ie(r[--t])}else t--,r[t++]="bwipp.micropdf417badVersionFormat#18659",r[t++]="version must be formatted as RxC",Q();e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.m05=-12,e.m06=-13,e.charmaps=a([a(["A","a","0",";"]),a(["B","b","1","<"]),a(["C","c","2",">"]),a(["D","d","3","@"]),a(["E","e","4","["]),a(["F","f","5",92]),a(["G","g","6","]"]),a(["H","h","7","_"]),a(["I","i","8","`"]),a(["J","j","9","~"]),a(["K","k","&","!"]),a(["L","l",13,13]),a(["M","m",9,9]),a(["N","n",",",","]),a(["O","o",":",":"]),a(["P","p","#",10]),a(["Q","q","-","-"]),a(["R","r",".","."]),a(["S","s","$","$"]),a(["T","t","/","/"]),a(["U","u","+",'"']),a(["V","v","%","|"]),a(["W","w","*","*"]),a(["X","x","=",40]),a(["Y","y","^",41]),a(["Z","z",e.pl,"?"]),a([" "," "," ","{"]),a([e.ll,e.as,e.ll,"}"]),a([e.ml,e.ml,e.al,"'"]),a([e.ps,e.ps,e.ps,e.al])]),e.charvals=a([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var l=0,u=e.charmaps.length-1;l<=u;l+=1){e.i=l,e.encs=d(e.charmaps,e.i);for(var f=0;f<=3;f+=1){e.j=f;var h=d(e.encs,e.j);if(r[t++]=h,W(oa(h),"stringtype")){var p=d(r[--t],0);r[t++]=p}var m=r[--t];g(d(e.charvals,e.j),m,e.i),g(e.alltext,m,-1)}}if(e.e=1e4,e.latlen=a([a([0,1,1,2]),a([2,0,1,2]),a([1,1,0,1]),a([1,2,2,0])]),e.latseq=a([a([a([]),a([e.ll]),a([e.ml]),a([e.ml,e.pl])]),a([a([e.ml,e.al]),a([]),a([e.ml]),a([e.ml,e.pl])]),a([a([e.al]),a([e.ll]),a([]),a([e.pl])]),a([a([e.al]),a([e.al,e.ll]),a([e.al,e.ml]),a([])])]),e.shftlen=a([a([e.e,e.e,e.e,1]),a([1,e.e,e.e,1]),a([e.e,e.e,e.e,1]),a([e.e,e.e,e.e,e.e])]),e.raw||e.cca){for(e.datcws=a(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||d(e.barcode,e.i)!=94);){var x=S(e.barcode,e.i+1,3);r[t++]=x,r[t++]=!1;for(var b=0,v=x.length;b<v;b++){var w=d(x,b);(w<48||w>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Ie(r[--t]),g(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.micropdf417badCcaRawFormat#18771",r[t++]="cca and raw data must be formatted as ^NNN",Q()),e.datcws=S(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=a(~~(e.inlen/6)*5+e.inlen%6);for(var he=0,ke=~~(e.inlen/6)-1;he<=ke;he+=1){e.k=he,r[t++]=1/0,O(S(e.in,e.k*6,3)),e.msbs=a(),r[t++]=1/0,O(e.msbs);var we=r[--t],Ne=r[--t],ze=r[--t];r[t++]=C(we+Ne*256+ze*65536);for(var _e=0;_e<3;_e++){var Je=r[--t];r[t++]=Je%900,r[t++]=~~(Je/900)}e.mscs=a(),r[t++]=1/0,O(S(e.in,e.k*6+3,3)),e.lsbs=a(),r[t++]=1/0,O(e.lsbs);var at=r[--t],nt=r[--t],Ae=r[--t];r[t++]=C(at+nt*256+Ae*65536);for(var Ye=0;Ye<3;Ye++){var Qe=r[--t];r[t++]=Qe%900,r[t++]=~~(Qe/900)}e.lscs=a();var Ze=d(e.lscs,0),pt=d(e.mscs,0);g(e.out,e.k*5+4,C(Ze+pt*316)%900);var mt=d(e.lscs,1),ut=d(e.mscs,0),vt=d(e.mscs,1);g(e.out,e.k*5+3,C(~~((Ze+pt*316)/900)+mt+ut*641+vt*316)%900);var it=d(e.lscs,2),_t=d(e.mscs,0),et=d(e.mscs,1),Ht=d(e.mscs,2);g(e.out,e.k*5+2,C(~~((~~((Ze+pt*316)/900)+mt+ut*641+vt*316)/900)+it+_t*20+et*641+Ht*316)%900);var Gt=d(e.lscs,3),Ot=d(e.mscs,1),ar=d(e.mscs,2);g(e.out,e.k*5+1,C(~~((~~((~~((Ze+pt*316)/900)+mt+ut*641+vt*316)/900)+it+_t*20+et*641+Ht*316)/900)+Gt+Ot*20+ar*641)%900),g(e.out,e.k*5,C(~~((~~((~~((~~((Ze+pt*316)/900)+mt+ut*641+vt*316)/900)+it+_t*20+et*641+Ht*316)/900)+Gt+Ot*20+ar*641)/900)+d(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,O(S(e.in,e.inlen-e.rem,e.rem));var Sr=a(),ir=r[--t];R(r[--t],ir,Sr)}r[t++]=e.out},e.ccb){e.barlen=e.barcode.length,e.datcws=a(~~(e.barlen/6)*5+e.barlen%6+2),g(e.datcws,0,920);var y=e.barlen%6==0?924:901;g(e.datcws,1,y),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,xe(e.barcode);var A=a();r[t++]=A,e.encb();var k=r[--t],E=r[--t];R(r[--t],E,k)}if(!e.raw&&!e.cca&&!e.ccb){var j=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=j,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var N=r[--t];if(e[r[--t]]=N,e.msglen=e.msg.length,e.msglen>=9){O(S(e.msg,0,7));var I=r[--t];r[t-1]=I==29;var M=r[--t],B=r[--t],F=r[--t],D=r[--t],H=r[--t],T=r[--t];if(M&&B==48&&F==30&&D==62&&H==41&&T==91){O(S(e.msg,e.msglen-2,2));var _=r[--t],L=r[--t];_==4&&L==30&&(d(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,O(S(e.msg,7,e.msg.length-9)),e.msg=a()):d(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,O(S(e.msg,7,e.msg.length-9)),e.msg=a()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var z=0,G=e.msglen;z<G;z++)r[t++]=0;r[t++]=0,e.numdigits=a(),r[t++]=1/0;for(var K=0,oe=e.msglen;K<oe;K++)r[t++]=0;r[t++]=0,e.numtext=a(),r[t++]=1/0;for(var V=0,Y=e.msglen;V<Y;V++)r[t++]=0;r[t++]=0,e.numbytes=a(),r[t++]=1/0;for(var ie=0,de=e.msglen;ie<de;ie++)r[t++]=0;e.iseci=a();for(var re=e.msglen-1;re>=0;re-=1){e.i=re;var ne=d(e.msg,e.i);ne>=48&&ne<=57&&g(e.numdigits,e.i,d(e.numdigits,e.i+1)+1);var le=d(e.alltext,d(e.msg,e.i))!==void 0;le&&d(e.numdigits,e.i)<13&&g(e.numtext,e.i,d(e.numtext,e.i+1)+1),d(e.msg,e.i)>=0&&d(e.numtext,e.i)<5&&d(e.numdigits,e.i)<13&&g(e.numbytes,e.i,d(e.numbytes,e.i+1)+1),g(e.iseci,e.i,d(e.msg,e.i)<=-1e6)}for(e.numdigits=S(e.numdigits,0,e.msglen),e.numtext=S(e.numtext,0,e.msglen),e.numbytes=S(e.numbytes,0,e.msglen),e.seq=a([]),e.seqlen=0,e.state=e.B,e.p=0;e.p!=e.msglen;){var ue=d(e.msg,e.p);if(e.p==0&&(ue==e.m05||ue==e.m06)){r[t++]=1/0,O(e.seq);var Me=d(e.msg,e.p)==e.m05?e.m05:e.m06;r[t++]=Me,e.seq=a(),e.p=e.p+1,e.seqlen=e.seqlen+1}else if(d(e.iseci,e.p)){if(e.eci=d(e.msg,e.p),r[t++]=1/0,O(e.seq),r[t++]=a([e.eci]),e.seq=a(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var pe=e.eci<=-1000900?3:2;r[t++]=pe}var Fe=r[--t],Ce=r[--t];e[r[--t]]=C(Ce+Fe)}else if(e.n=d(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,O(e.seq),r[t++]=e.nl,r[t++]=1/0,O(S(e.msg,e.p,e.n));var ve=a();r[t++]=ve,e.seq=a(),e.state=e.N,e.p=C(e.p+e.n),e.seqlen=C(e.seqlen+1+e.n)}else if(e.t=d(e.numtext,e.p),e.t>=5){r[t++]=1/0,O(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,O(S(e.msg,e.p,e.t));var Be=a();r[t++]=Be,e.seq=a(),e.state=e.T,e.p=C(e.p+e.t),e.seqlen=C(e.seqlen+1+e.t)}else if(e.b=d(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,O(e.seq),r[t++]=e.bs,r[t++]=a([d(e.msg,e.p)]),e.seq=a(),e.p=C(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,O(e.seq);var Ue=e.b%6!=0?e.bl:e.bl6;r[t++]=Ue,r[t++]=1/0,O(S(e.msg,e.p,e.b));var Xe=a();r[t++]=Xe,e.seq=a(),e.state=e.B,e.p=C(e.p+e.b),e.seqlen=C(e.seqlen+1+e.b)}}for(r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,r[t++]=e.m05,r[t++]=916,r[t++]=e.m06,r[t++]=917,e.latchcws=Pe(),e.enca=function(){var he=d(d(e.charvals,e.A),r[--t]);r[t++]=he},e.encl=function(){var he=d(d(e.charvals,e.L),r[--t]);r[t++]=he},e.encm=function(){var he=d(d(e.charvals,e.M),r[--t]);r[t++]=he},e.encp=function(){var he=d(d(e.charvals,e.P),r[--t]);r[t++]=he},e.textencfuncs=a(["enca","encl","encm","encp"]),e.addtotext=function(){g(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=a([e.e,e.e,e.e,e.e]),g(e.curlen,e.submode,0),e.curseq=a([a([]),a([]),a([]),a([])]),xe(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var _t=a([e.A,e.L,e.M,e.P]),et=0,Ht=_t.length;et<Ht;et++){e.x=d(_t,et);for(var Gt=a([e.A,e.L,e.M,e.P]),Ot=0,ar=Gt.length;Ot<ar;Ot++)if(e.y=d(Gt,Ot),e.cost=C(d(e.curlen,e.x)+d(d(e.latlen,e.x),e.y)),e.cost<d(e.curlen,e.y)){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(d(e.curseq,e.x)),O(d(d(e.latseq,e.x),e.y));var Sr=a(),ir=r[--t];g(r[--t],ir,Sr),e.imp=!0}}if(!e.imp)break}e.nxtlen=a([e.e,e.e,e.e,e.e]),e.nxtseq=a(4);for(var gr=a([e.A,e.L,e.M,e.P]),nr=0,Ir=gr.length;nr<Ir;nr++)for(e.x=d(gr,nr);;){var er=d(d(e.charvals,e.x),e.char)!==void 0;if(!er)break;if(e.cost=d(e.curlen,e.x)+1,e.cost<d(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(d(e.curseq,e.x)),r[t++]=e.char;var ur=a(),Kt=r[--t];g(r[--t],Kt,ur)}for(var Xt=a([e.A,e.L,e.M,e.P]),fr=0,Mr=Xt.length;fr<Mr;fr++)if(e.y=d(Xt,fr),Ee(e.x,e.y)&&(e.cost=C(d(e.curlen,e.y)+d(d(e.shftlen,e.y),e.x))+1,e.cost<d(e.nxtlen,e.y))){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(d(e.curseq,e.y));var Ur=e.x==e.A?e.as:e.ps;r[t++]=Ur,r[t++]=e.char;var ms=a(),Ft=r[--t];g(r[--t],Ft,ms)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var he=a([e.A,e.L,e.M,e.P]),ke=0,we=he.length;ke<we;ke++)e.k=d(he,ke),d(e.curlen,e.k)<e.minseq&&(e.minseq=d(e.curlen,e.k),e.txtseq=d(e.curseq,e.k));for(e.text=a(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=d(e.txtseq,e.k),r[t++]=e.char,e[d(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=d(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var Ne=r[--t];e[r[--t]]=Ne,e.submode=e.A}else{e.nextecitext=!1;for(var ze=e.i+1,_e=e.seq.length-1;ze<=_e;ze+=1){if(e.ti=ze,Ee(oa(d(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(d(d(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Je=d(d(e.charvals,e.L),d(d(e.seq,e.ti),0))!==void 0;if(Je){r[t++]="pad",r[t++]=e.ll,e.enca();var at=r[--t];e[r[--t]]=at,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var nt=r[--t];e[r[--t]]=nt,e.submode=e.M}}else if(e.submode==e.M){var Ae=d(d(e.charvals,e.L),d(d(e.seq,e.ti),0))!==void 0;if(Ae){r[t++]="pad",r[t++]=e.ll,e.encm();var Ye=r[--t];e[r[--t]]=Ye,e.submode=e.L}else{var Qe=d(d(e.charvals,e.P),d(d(e.seq,e.ti),0))!==void 0;if(Qe){r[t++]="pad",r[t++]=e.pl,e.encm();var Ze=r[--t];e[r[--t]]=Ze,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var pt=r[--t];e[r[--t]]=pt,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var mt=r[--t];e[r[--t]]=mt,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[d(e.textencfuncs,e.submode)]()===!0)return!0;var ut=r[--t];e[r[--t]]=ut}}r[t++]=1/0,O(e.text),r[t++]=e.pad,e.text=a()}e.out=a(~~(e.text.length/2));for(var vt=0,it=e.out.length-1;vt<=it;vt+=1)e.k=vt,g(e.out,e.k,C(d(e.text,e.k*2)*30+d(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=a([]);for(var he=0,ke=e.in.length-1;he<=ke;he+=44){e.k=he,r[t++]=1/0;var we=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=we,we>44&&(r[t-1]=44);for(var Ne=r[--t],ze=r[--t],_e=S(r[--t],ze,Ne),Je=0,at=_e.length;Je<at;Je++)r[t++]=d(_e,Je)-48;for(e.gmod=a(),e.cwn=a([]);;){for(e.dv=900,e.gmul=a([]),e.val=0;e.gmod.length!=0;)e.val=C(e.val*10+d(e.gmod,0)),e.gmod=S(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,O(e.gmul),r[t++]=0,e.gmul=a()):(r[t++]=1/0,O(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=a()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,O(e.cwn),e.cwn=a(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,O(e.out),O(e.cwn),e.out=a()}r[t++]=e.out},e.ence=function(){var he=-d(r[--t],0)-1e6;if(r[t++]=he,he<=899){var ke=r[--t];r[t++]=927,r[t++]=ke,Wt(a(2))}else{var we=r[t-1];if(we<=810899){var Ne=r[--t];r[t++]=926,r[t++]=~~(Ne/900)-1,r[t++]=Ne%900,Wt(a(3))}else{var ze=r[t-1];if(ze<=811799){var _e=r[--t];r[t++]=925,r[t++]=_e-810900,Wt(a(2))}else r[t++]="bwipp.pdf417badECI#19167",r[t++]="PDF417 supports ECIs 000000 to 811799",Q()}}},e.encfuncs=a(["enct","encn","encb"]),e.addtocws=function(){var he=r[--t];R(e.datcws,e.j,he),e.j=he.length+e.j},e.datcws=a(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=d(e.seq,e.i),W(oa(e.chars),"arraytype"))if(d(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[d(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=a([d(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=d(e.seq,e.i),e.encb(),e.addtocws()),e.chars==e.m05&&(e.i+1<e.seq.length&&d(e.seq,e.i+1)==e.nl&&(e.i=e.i+1),e.state=e.N),e.chars==e.m06&&(e.i+1<e.seq.length&&d(e.seq,e.i+1)==e.tl&&(e.i=e.i+1),e.state=e.T,e.submode=e.M);e.i=e.i+1}e.datcws=S(e.datcws,0,e.j)}e.ccametrics=a([a([2,5,4,39,0,19]),a([2,6,4,1,0,33]),a([2,7,5,32,0,12]),a([2,8,5,8,0,40]),a([2,9,6,14,0,46]),a([2,10,6,43,0,23]),a([2,12,7,20,0,52]),a([3,4,4,11,43,23]),a([3,5,5,1,33,13]),a([3,6,6,5,37,17]),a([3,7,7,15,47,27]),a([3,8,7,21,1,33]),a([4,3,4,40,20,52]),a([4,4,5,43,23,3]),a([4,5,6,46,26,6]),a([4,6,7,34,14,46]),a([4,7,8,29,9,41])]),e.nonccametrics=a([a([1,11,7,1,0,9]),a([1,14,7,8,0,8]),a([1,17,7,36,0,36]),a([1,20,8,19,0,19]),a([1,24,8,9,0,17]),a([1,28,8,25,0,33]),a([2,8,8,1,0,1]),a([2,11,9,1,0,9]),a([2,14,9,8,0,8]),a([2,17,10,36,0,36]),a([2,20,11,19,0,19]),a([2,23,13,9,0,17]),a([2,26,15,27,0,35]),a([3,6,12,1,1,1]),a([3,8,14,7,7,7]),a([3,10,16,15,15,15]),a([3,12,18,25,25,25]),a([3,15,21,37,37,37]),a([3,20,26,1,17,33]),a([3,26,32,1,9,17]),a([3,32,38,21,29,37]),a([3,38,44,15,31,47]),a([3,44,50,1,25,49]),a([4,4,8,47,19,43]),a([4,6,12,1,1,1]),a([4,8,14,7,7,7]),a([4,10,16,15,15,15]),a([4,12,18,25,25,25]),a([4,15,21,37,37,37]),a([4,20,26,1,17,33]),a([4,26,32,1,9,17]),a([4,32,38,21,29,37]),a([4,38,44,15,31,47]),a([4,44,50,1,25,49])]),r[t++]="metrics",e.cca?r[t++]=e.ccametrics:r[t++]=e.nonccametrics;var Re=r[--t];e[r[--t]]=Re,e.urows=e.rows,e.ucols=e.columns,xe(e.metrics,function(){if(e.m=r[--t],e.c=d(e.m,0),e.r=d(e.m,1),e.k=d(e.m,2),e.rapl=d(e.m,3),e.rapc=d(e.m,4),e.rapr=d(e.m,5),e.ncws=C(e.r*e.c-e.k),e.okay=!0,e.datcws.length>e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.c&&(e.okay=!1),e.okay)return!0}),e.okay||(r[t++]="bwipp.micropdf417noValidSymbol#19306",r[t++]="Maximum length exceeded or invalid size",Q()),e.m=e.datcws.length,e.n=C(e.c*e.r-e.k),e.cws=a(e.c*e.r+1),R(e.cws,0,e.datcws),r[t++]=e.cws,r[t++]=e.m,r[t++]=1/0;for(var Ge=0,Oe=C(e.n-e.m);Ge<Oe;Ge++)r[t++]=900;var Le=a(),rt=r[--t];R(r[--t],rt,Le),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Se=0,qe=e.k;Se<qe;Se++)r[t++]=0;r[t++]=0;var We=a(),Ke=r[--t];R(r[--t],Ke,We),r[t++]=1/0,r[t++]=1;for(var Te=0;Te<928;Te++){var He=r[t-1];r[t++]=He*3%929}e.rsalog=a(),e.rslog=a(929);for(var st=1;st<=928;st+=1)g(e.rslog,d(e.rsalog,st),st);e.rsprod=function(){var he=r[t-1],ke=r[t-2];if(he!=0&&ke!=0){var we=d(e.rslog,r[--t]),Ne=d(e.rsalog,C(we+d(e.rslog,r[--t]))%928);r[t++]=Ne}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var gt=0,ht=e.k;gt<ht;gt++)r[t++]=0;e.coeffs=a();for(var bt=1,Et=e.k;bt<=Et;bt+=1){e.i=bt,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var kt=e.i-1;kt>=1;kt-=1){e.j=kt,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var wt=r[--t],Mt=r[--t],It=r[--t];g(r[--t],It,C(Mt+wt)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var zt=r[--t],Bt=r[--t];g(r[--t],Bt,zt)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1);for(var jt=e.coeffs.length-1;jt>=0;jt-=2){var U=e.coeffs;g(U,jt,929-d(U,jt))}for(var $=0,P=e.n-1;$<=P;$+=1){e.t=C(d(e.cws,$)+d(e.cws,e.n))%929;for(var q=0,X=e.k-1;q<=X;q+=1)e.j=q,g(e.cws,C(e.n+e.j),C(d(e.cws,C(e.n+e.j)+1)+(929-e.t*d(e.coeffs,C(e.k-e.j)-1)%929))%929)}for(var ce=e.n,te=C(e.n+e.k);ce<=te;ce+=1)g(e.cws,ce,(929-d(e.cws,ce))%929);e.cws=S(e.cws,0,e.cws.length-1);var ye=d(e.options,"debugcws")!==void 0;ye&&(r[t++]="bwipp.debugcws#19360",r[t++]=e.cws,Q()),e.clusters=a([a([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),a([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),a([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.raps=a([a([802,930,946,818,882,890,826,954,922,986,970,906,778,794,786,914,978,982,980,916,948,932,934,942,940,936,808,812,814,806,822,950,918,790,788,820,884,868,870,878,876,872,840,856,860,862,846,844,836,838,834,866]),a([718,590,622,558,550,566,534,530,538,570,562,546,610,626,634,762,754,758,630,628,612,614,582,578,706,738,742,740,748,620,556,552,616,744,712,716,708,710,646,654,652,668,664,696,688,656,720,592,600,604,732,734])]),e.cwtobits=function(){var he=d(e.clusters,r[--t]);e.v=d(he,r[--t]),r[t++]=1/0;for(var ke=0;ke<17;ke++)r[t++]=0;for(var we=qt(Z(17),e.v,2),Ne=0,ze=we.length;Ne<ze;Ne++)r[t++]=d(we,Ne)-48;var _e=a();r[t++]=S(_e,_e.length-17,17)},e.raptobits=function(){var he=d(e.raps,r[--t]);e.v=d(he,r[--t]),r[t++]=1/0;for(var ke=0;ke<10;ke++)r[t++]=0;for(var we=qt(Z(10),e.v,2),Ne=0,ze=we.length;Ne<ze;Ne++)r[t++]=d(we,Ne)-48;var _e=a();r[t++]=S(_e,_e.length-10,10)},e.rwid=d(a([38,55,82,99]),e.c-1),e.c==3&&e.cca&&(e.rwid=72),e.pixs=a(e.rwid*e.r*e.rowmult);for(var J=0,me=e.r-1;J<=me;J+=1){e.i=J,e.clst=(C(e.i+e.rapl)-1)%3,r[t++]=1/0,e.c==1&&(r[t++]=(C(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=d(e.cws,e.i),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(C(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==2&&(r[t++]=(C(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=d(e.cws,e.i*2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=d(e.cws,e.i*2+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(C(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==3&&(e.cca||(r[t++]=(C(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),r[t++]=d(e.cws,e.i*3),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(C(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),O(r[--t]),r[t++]=d(e.cws,e.i*3+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=d(e.cws,e.i*3+2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(C(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==4&&(r[t++]=(C(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=d(e.cws,e.i*4),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=d(e.cws,e.i*4+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(C(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),O(r[--t]),r[t++]=d(e.cws,e.i*4+2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=d(e.cws,e.i*4+3),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(C(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),r[t++]=1;var fe=a();r[t++]=fe;for(var be=0,se=e.rowmult-1;be<=se;be+=1){var ge=r[t-1];R(e.pixs,(be+e.i*e.rowmult)*e.rwid,ge)}t--}var je=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=je,e.dontdraw||xt(),e=s}function Xi(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.columns=0,e.rows=0,e.format="unset",e.version="unset",e.parse=!1,e.parsefnc=!1,e.c40headerlength=-1,e.raw=!1,e.dmre=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.datamatrixEmptyData#19750",r[t++]="The data must not be empty",Q()),Ee(e.version,"unset")&&(e.rows!=0||e.columns!=0)&&(r[t++]="bwipp.datamatrixVersionRowsCols#19754",r[t++]="rows and columns must not be given if version is specified",Q()),Ee(e.version,"unset"))if(Rt(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Wt(a(2)),xe(r[--t],function(){var ot=r[t-1];r[t++]=!0,ot.length==0&&(r[t-1]=!1);var Ut=r[--t],$t=r[--t];r[t++]=Ut,xe($t,function(){var Jt=r[--t];(Jt<48||Jt>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.datamatrixVersionBadRowOrColumn#19768",r[t++]="version must be formatted as RxC",Q())}),e.rows=Ie(r[--t]),e.columns=Ie(r[--t]),r[t++]="format",e.rows==e.columns?r[t++]="square":r[t++]="rectangle";var l=r[--t];e[r[--t]]=l}else t--,r[t++]="bwipp.datamatrixVersionFormat#19775",r[t++]="version must be formatted as RxC",Q();else if(W(e.format,"unset")){r[t++]="format",e.dmre?r[t++]="rectangle":r[t++]="square";var u=r[--t];e[r[--t]]=u}Ee(e.format,"square")&&Ee(e.format,"rectangle")&&(r[t++]="bwipp.datamatrixInvalidFormat#19784",r[t++]="The format must be either square or rectangle",Q()),e.metrics=a([a([10,10,1,1,5,1,0]),a([12,12,1,1,7,1,0]),a([14,14,1,1,10,1,0]),a([16,16,1,1,12,1,0]),a([18,18,1,1,14,1,0]),a([20,20,1,1,18,1,0]),a([22,22,1,1,20,1,0]),a([24,24,1,1,24,1,0]),a([26,26,1,1,28,1,0]),a([32,32,2,2,36,1,0]),a([36,36,2,2,42,1,0]),a([40,40,2,2,48,1,0]),a([44,44,2,2,56,1,0]),a([48,48,2,2,68,1,0]),a([52,52,2,2,84,2,0]),a([64,64,4,4,112,2,0]),a([72,72,4,4,144,4,0]),a([80,80,4,4,192,4,0]),a([88,88,4,4,224,4,0]),a([96,96,4,4,272,4,0]),a([104,104,4,4,336,6,0]),a([120,120,6,6,408,6,0]),a([132,132,6,6,496,8,0]),a([144,144,6,6,620,10,0]),a([8,18,1,1,7,1,0]),a([8,32,1,2,11,1,0]),a([8,48,1,2,15,1,1]),a([8,64,1,4,18,1,1]),a([8,80,1,4,22,1,1]),a([8,96,1,4,28,1,1]),a([8,120,1,6,32,1,1]),a([8,144,1,6,36,1,1]),a([12,26,1,1,14,1,0]),a([12,36,1,2,18,1,0]),a([12,64,1,4,27,1,1]),a([12,88,1,4,36,1,1]),a([16,36,1,2,24,1,0]),a([16,48,1,2,28,1,0]),a([16,64,1,4,36,1,1]),a([20,36,1,2,28,1,1]),a([20,44,1,2,34,1,1]),a([20,64,1,4,42,1,1]),a([22,48,1,2,38,1,1]),a([24,48,1,2,41,1,1]),a([24,64,1,4,46,1,1]),a([26,40,1,2,38,1,1]),a([26,48,1,2,42,1,1]),a([26,64,1,4,50,1,1])]),e.urows=e.rows,e.ucols=e.columns,e.fullcws=a([]);for(var f=e.metrics,h=0,p=f.length;h<p;h++)e.m=d(f,h),e.rows=d(e.m,0),e.cols=d(e.m,1),e.regh=d(e.m,2),e.regv=d(e.m,3),e.rscw=d(e.m,4),e.rsbl=d(e.m,5),e.doly=d(e.m,6),e.mrows=C(e.rows-2*e.regh),e.mcols=C(e.cols-2*e.regv),e.ncws=C(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),W(e.format,"square")&&Ee(e.rows,e.cols)&&(e.okay=!1),W(e.format,"rectangle")&&W(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),e.okay&&(r[t++]=1/0,O(e.fullcws),r[t++]=e.ncws,e.fullcws=a());r[t++]=1/0;for(var m=0;m<1558;m++)r[t++]=1e4;e.numremcws=a();for(var x=e.fullcws,b=0,v=x.length;b<v;b++)g(e.numremcws,d(x,b)-1,1);for(var w=1556;w>=0;w-=1)e.i=w,d(e.numremcws,e.i)!=1&&g(e.numremcws,e.i,d(e.numremcws,e.i+1)+1);e.fnc1=-1,e.prog=-2,e.m05=-3,e.m06=-4,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lE=-9,e.unl=-10,e.sapp=-11,e.usft=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.unlcw=254,r[t++]=1/0;for(var y=0;y<=128;y+=1)r[t++]=y,r[t++]=y+1;r[t++]=e.pad,r[t++]=129;for(var A=0;A<=99;A+=1){var k=qt(Z(2),A,10),E=Tr(Z(2),"00");R(E,2-k.length,k),r[t++]=E,r[t++]=A+130}var j=a([e.lC,e.lB,e.fnc1,e.sapp,e.prog,e.usft,e.m05,e.m06,e.lX,e.lT,e.lE,e.eci]);r[t++]=229;for(var N=0,I=j.length;N<I;N++){var M=r[--t]+1;r[t++]=d(j,N),r[t++]=M,r[t++]=M}t--,e.Avals=Pe(),r[t++]=1/0;for(var B=e.Avals,F=B.size,D=B.keys(),H=0;H<F;H++){var T=D.next().value;r[t++]=T;var _=1/0,L=B.get(T);r[t++]=_,r[t++]=L;var z=a();r[t++]=z}e.Avals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var G=48;G<=57;G+=1)r[t++]=G,r[t++]=G-44;for(var K=65;K<=90;K+=1)r[t++]=K,r[t++]=K-51;e.CNvals=Pe(),r[t++]=1/0;for(var oe=0;oe<=31;oe+=1)r[t++]=oe,r[t++]=oe;e.C1vals=Pe(),r[t++]=1/0;for(var V=33;V<=47;V+=1)r[t++]=V,r[t++]=V-33;for(var Y=58;Y<=64;Y+=1)r[t++]=Y,r[t++]=Y-43;for(var ie=91;ie<=95;ie+=1)r[t++]=ie,r[t++]=ie-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.C2vals=Pe(),r[t++]=1/0;for(var de=96;de<=127;de+=1)r[t++]=de,r[t++]=de-96;e.C3vals=Pe(),r[t++]=1/0;for(var re=e.CNvals,ne=re.size,le=re.keys(),ue=0;ue<ne;ue++){var Me=le.next().value;r[t++]=Me;var pe=1/0,Fe=re.get(Me);r[t++]=pe,r[t++]=Fe;var Ce=a();r[t++]=Ce}for(var ve=e.C1vals,Be=ve.size,Ue=ve.keys(),Xe=0;Xe<Be;Xe++){var Re=Ue.next().value;r[t++]=Re;var Ge=1/0,Oe=ve.get(Re);r[t++]=Ge,r[t++]=d(e.CNvals,e.sft1),r[t++]=Oe;var Le=a();r[t++]=Le}for(var rt=e.C2vals,Se=rt.size,qe=rt.keys(),We=0;We<Se;We++){var Ke=qe.next().value;r[t++]=Ke;var Te=1/0,He=rt.get(Ke);r[t++]=Te,r[t++]=d(e.CNvals,e.sft2),r[t++]=He;var st=a();r[t++]=st}for(var gt=e.C3vals,ht=gt.size,bt=gt.keys(),Et=0;Et<ht;Et++){var kt=bt.next().value;r[t++]=kt;var wt=1/0,Mt=gt.get(kt);r[t++]=wt,r[t++]=d(e.CNvals,e.sft3),r[t++]=Mt;var It=a();r[t++]=It}e.Cvals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var zt=48;zt<=57;zt+=1)r[t++]=zt,r[t++]=zt-44;for(var Bt=97;Bt<=122;Bt+=1)r[t++]=Bt,r[t++]=Bt-83;e.TNvals=Pe(),r[t++]=1/0;for(var jt=0;jt<=31;jt+=1)r[t++]=jt,r[t++]=jt;e.T1vals=Pe(),r[t++]=1/0;for(var U=33;U<=47;U+=1)r[t++]=U,r[t++]=U-33;for(var $=58;$<=64;$+=1)r[t++]=$,r[t++]=$-43;for(var P=91;P<=95;P+=1)r[t++]=P,r[t++]=P-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.T2vals=Pe(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var q=65;q<=90;q+=1)r[t++]=q,r[t++]=q-64;for(var X=123;X<=127;X+=1)r[t++]=X,r[t++]=X-96;e.T3vals=Pe(),r[t++]=1/0;for(var ce=e.TNvals,te=ce.size,ye=ce.keys(),J=0;J<te;J++){var me=ye.next().value;r[t++]=me;var fe=1/0,be=ce.get(me);r[t++]=fe,r[t++]=be;var se=a();r[t++]=se}for(var ge=e.T1vals,je=ge.size,he=ge.keys(),ke=0;ke<je;ke++){var we=he.next().value;r[t++]=we;var Ne=1/0,ze=ge.get(we);r[t++]=Ne,r[t++]=d(e.TNvals,e.sft1),r[t++]=ze;var _e=a();r[t++]=_e}for(var Je=e.T2vals,at=Je.size,nt=Je.keys(),Ae=0;Ae<at;Ae++){var Ye=nt.next().value;r[t++]=Ye;var Qe=1/0,Ze=Je.get(Ye);r[t++]=Qe,r[t++]=d(e.TNvals,e.sft2),r[t++]=Ze;var pt=a();r[t++]=pt}for(var mt=e.T3vals,ut=mt.size,vt=mt.keys(),it=0;it<ut;it++){var _t=vt.next().value;r[t++]=_t;var et=1/0,Ht=mt.get(_t);r[t++]=et,r[t++]=d(e.TNvals,e.sft3),r[t++]=Ht;var Gt=a();r[t++]=Gt}e.Tvals=Pe();for(var Ot=128;Ot<=255;Ot+=1){e.i=Ot,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,O(d(e.Avals,e.usft)),O(d(e.Avals,e.i-128));var ar=a(),Sr=r[--t];g(r[--t],Sr,ar),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,O(d(e.Cvals,e.usft)),O(d(e.Cvals,e.i-128));var ir=a(),gr=r[--t];g(r[--t],gr,ir),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,O(d(e.Tvals,e.usft)),O(d(e.Tvals,e.i-128));var nr=a(),Ir=r[--t];g(r[--t],Ir,nr)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var er=48;er<=57;er+=1)r[t++]=er,r[t++]=er-44;for(var ur=65;ur<=90;ur+=1)r[t++]=ur,r[t++]=ur-51;e.Xvals=Pe(),r[t++]=1/0;for(var Kt=e.Xvals,Xt=Kt.size,fr=Kt.keys(),Mr=0;Mr<Xt;Mr++){var Ur=fr.next().value;r[t++]=Ur;var ms=1/0,Ft=Kt.get(Ur);r[t++]=ms,r[t++]=Ft;var Vt=a();r[t++]=Vt}e.Xvals=Pe(),r[t++]=1/0;for(var tr=64;tr<=94;tr+=1)r[t++]=tr,r[t++]=tr-64;r[t++]=e.unl,r[t++]=31;for(var br=32;br<=63;br+=1)r[t++]=br,r[t++]=br;e.Evals=Pe(),r[t++]=1/0;for(var or=e.Evals,Br=or.size,lr=or.keys(),Lt=0;Lt<Br;Lt++){var yr=lr.next().value;r[t++]=yr;var ns=1/0,xs=or.get(yr);r[t++]=ns,r[t++]=xs;var js=a();r[t++]=js}e.Evals=Pe(),r[t++]=1/0;for(var Gr=0;Gr<=255;Gr+=1)r[t++]=Gr,r[t++]=Gr;e.Bvals=Pe(),r[t++]=1/0;for(var Bs=e.Bvals,ws=Bs.size,Ps=Bs.keys(),us=0;us<ws;us++){var Ns=Ps.next().value;r[t++]=Ns;var Ds=1/0,Cs=Bs.get(Ns);r[t++]=Ds,r[t++]=Cs;var qs=a();r[t++]=qs}if(e.Bvals=Pe(),e.encvals=a([e.Avals,e.Cvals,e.Tvals,e.Xvals,e.Evals,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.E=4,e.B=5,e.raw){for(e.cws=a(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ie(S(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=S(e.cws,0,e.j)}else{var Ys=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["PROG",e.prog]]);e.fncvals=Ys,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var en=r[--t];if(e[r[--t]]=en,e.msglen=e.msg.length,e.msglen>=9){O(S(e.msg,0,7));var wn=r[--t];r[t-1]=wn==29;var Ms=r[--t],On=r[--t],Vs=r[--t],$n=r[--t],Us=r[--t],An=r[--t];if(Ms&&On==48&&Vs==30&&$n==62&&Us==41&&An==91){O(S(e.msg,e.msglen-2,2));var zn=r[--t],Ln=r[--t];zn==4&&Ln==30&&(d(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,O(S(e.msg,7,e.msg.length-9)),e.msg=a()):d(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,O(S(e.msg,7,e.msg.length-9)),e.msg=a()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var tn=0,Wn=e.msglen;tn<Wn;tn++)r[t++]=0;r[t++]=0,e.numD=a(),r[t++]=1/0;for(var rn=0,kn=e.msglen;rn<kn;rn++)r[t++]=0;r[t++]=9999,e.nextXterm=a(),r[t++]=1/0;for(var Os=0,ka=e.msglen;Os<ka;Os++)r[t++]=0;r[t++]=9999,e.nextNonX=a(),r[t++]=1/0;for(var $s=0,_a=e.msglen;$s<_a;$s++)r[t++]=!1;r[t++]=!1,e.isECI=a();for(var Fs=e.msglen-1;Fs>=0;Fs-=1){e.i=Fs,e.barchar=d(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.numD,e.i,d(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?g(e.nextXterm,e.i,0):g(e.nextXterm,e.i,d(e.nextXterm,e.i+1)+1);var ra=d(e.Xvals,e.barchar)!==void 0;ra?g(e.nextNonX,e.i,d(e.nextNonX,e.i+1)+1):g(e.nextNonX,e.i,0),g(e.isECI,e.i,e.barchar<=-1e6)}r[t++]=1/0;for(var zs=e.nextXterm,ca=0,pn=zs.length;ca<pn;ca++){var Zt=d(zs,ca);r[t++]=Zt,Zt>1e4&&(r[t-1]=1e4)}e.nextXterm=a(),r[t++]=1/0;for(var ts=e.nextNonX,Ss=0,Ls=ts.length;Ss<Ls;Ss++){var jn=d(ts,Ss);r[t++]=jn,jn>1e4&&(r[t-1]=1e4)}for(e.nextNonX=a(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var ot=d(e.CNvals,e.char)!==void 0;r[t++]=ot},e.isT=function(){var ot=d(e.TNvals,e.char)!==void 0;r[t++]=ot},e.isX=function(){var ot=d(e.Xvals,e.char)!==void 0;r[t++]=ot},e.isE=function(){var ot=d(e.Evals,e.char)!==void 0;r[t++]=ot},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var ot=r[--t];r[t++]=wa(d(e.nextXterm,ot),d(e.nextNonX,ot))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.ec=2,e.bc=2.25,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.ec=1,e.bc=1.25),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.E&&(e.ec=0),e.mode==e.B&&(e.bc=0);for(var ot=0;ot<1;ot++){if(d(e.isECI,e.i)){r[t++]=e.A;break}if(e.c40headerlength!=-1&&e.i<e.c40headerlength){r[t++]=e.C;break}for(e.k=0;;){if(e.i+e.k==e.msglen){for(var Ut=a(["ac","cc","tc","xc","ec","bc"]),$t=0,Jt=Ut.length;$t<Jt;$t++){var Zr=d(Ut,$t);e[Zr]=vr(e[Zr])}var ks=a([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var bs=0,vn=ks.length;bs<vn;bs++){var Xn=r[--t];r[t++]=Xn&&e.ac<=d(ks,bs)}if(r[--t]){r[t++]=e.A;break}var pa=a([e.ac,e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var ma=0,Za=pa.length;ma<Za;ma++){var Ii=r[--t];r[t++]=Ii&&e.bc<d(pa,ma)}if(r[--t]){r[t++]=e.B;break}var hi=a([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var V1=0,Bi=hi.length;V1<Bi;V1++){var pi=r[--t];r[t++]=pi&&e.ec<d(hi,V1)}if(r[--t]){r[t++]=e.E;break}var eo=a([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var Di=0,Gc=eo.length;Di<Gc;Di++){var qc=r[--t];r[t++]=qc&&e.tc<d(eo,Di)}if(r[--t]){r[t++]=e.T;break}var Il=a([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Go=0,Yc=Il.length;Go<Yc;Go++){var Vc=r[--t];r[t++]=Vc&&e.xc<d(Il,Go)}if(r[--t]){r[t++]=e.X;break}r[t++]=e.C;break}if(e.char=d(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var $c=r[--t];r[t++]=C($c+1/2)}else if(e.isEA(),r[--t]){var Wc=r[--t];r[t++]=vr(Wc)+2}else{var Kc=r[--t];r[t++]=vr(Kc)+1}var Jc=r[--t];if(e[r[--t]]=Jc,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var Xc=r[--t];r[t++]=C(Xc+.6666667)}else if(e.isEA(),r[--t]){var Zc=r[--t];r[t++]=C(Zc+2.6666667)}else{var e0=r[--t];r[t++]=C(e0+1.3333334)}var t0=r[--t];if(e[r[--t]]=t0,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var Bl=r[--t];r[t++]=C(Bl+.6666667)}else if(e.isEA(),r[--t]){var qo=r[--t];r[t++]=C(qo+2.6666667)}else{var r0=r[--t];r[t++]=C(r0+1.3333334)}var s0=r[--t];if(e[r[--t]]=s0,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var Dl=r[--t];r[t++]=C(Dl+.6666667)}else if(e.isEA(),r[--t]){var Yo=r[--t];r[t++]=C(Yo+4.3333334)}else{var n0=r[--t];r[t++]=C(n0+3.3333334)}var a0=r[--t];if(e[r[--t]]=a0,r[t++]="ec",r[t++]=e.ec,e.isE(),r[--t]){var Ml=r[--t];r[t++]=C(Ml+3/4)}else if(e.isEA(),r[--t]){var Vo=r[--t];r[t++]=C(Vo+17/4)}else{var i0=r[--t];r[t++]=C(i0+13/4)}var o0=r[--t];if(e[r[--t]]=o0,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var Fl=r[--t];r[t++]=Fl+4}else{var $o=r[--t];r[t++]=$o+1}var l0=r[--t];if(e[r[--t]]=l0,e.k>=4){var Rl=a([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var to=0,Wo=Rl.length;to<Wo;to++){var c0=r[--t];r[t++]=c0&&e.ac+1<=d(Rl,to)}if(r[--t]){r[t++]=e.A;break}if(e.bc+1<=e.ac){r[t++]=e.B;break}var e1=a([e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var d0=0,Lf=e1.length;d0<Lf;d0++){var Qf=r[--t];r[t++]=Qf&&e.bc+1<d(e1,d0)}if(r[--t]){r[t++]=e.B;break}var ad=a([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var u0=0,Hf=ad.length;u0<Hf;u0++){var Gf=r[--t];r[t++]=Gf&&e.ec+1<d(ad,u0)}if(r[--t]){r[t++]=e.E;break}var id=a([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var $1=0,qf=id.length;$1<qf;$1++){var Yf=r[--t];r[t++]=Yf&&e.tc+1<d(id,$1)}if(r[--t]){r[t++]=e.T;break}var S1=a([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var f0=0,Vf=S1.length;f0<Vf;f0++){var $f=r[--t];r[t++]=$f&&e.xc+1<d(S1,f0)}if(r[--t]){r[t++]=e.X;break}var od=a([e.ac,e.tc,e.ec,e.bc]);r[t++]=!0;for(var h0=0,Wf=od.length;h0<Wf;h0++){var Kf=r[--t];r[t++]=Kf&&e.cc+1<d(od,h0)}if(r[--t]){if(e.cc<e.xc){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}}e.k=e.k+1}}},e.addtocws=function(){var ot=r[--t];R(e.cws,e.j,ot),e.j=ot.length+e.j},e.ECItocws=function(){var ot=-r[--t]-1e6;if(r[t++]=ot,ot<=126){var Ut=r[--t];r[t++]=Ut+1,Wt(a(1))}else{var $t=r[t-1];if($t<=16382){var Jt=r[--t]-127;r[t++]=~~(Jt/254)+128,r[t++]=Jt%254+1,Wt(a(2))}else{var Zr=r[--t]-16383;r[t++]=~~(Zr/64516)+192,r[t++]=~~(Zr/254)%254+1,r[t++]=Zr%254+1,Wt(a(3))}}},e.encA=function(){for(var ot=0;ot<1;ot++){if(d(e.isECI,e.i)){r[t++]=d(e.Avals,e.eci),e.addtocws(),r[t++]=d(e.msg,e.i),e.ECItocws(),e.addtocws(),e.i=e.i+1;break}if(d(e.numD,e.i)>=2){var Ut=Z(2);g(Ut,0,d(e.msg,e.i)),g(Ut,1,d(e.msg,e.i+1)),r[t++]=d(e.Avals,Ut),e.addtocws(),e.i=e.i+2;break}r[t++]="newmode",e.lookup();var $t=r[--t];if(e[r[--t]]=$t,e.newmode!=e.mode){r[t++]=d(e.Avals,d(a([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var ot=0,Ut=e.in.length-1;ot<=Ut;ot+=3){var $t=S(e.in,ot,3);r[t++]=0;for(var Jt=0,Zr=$t.length;Jt<Zr;Jt++){var ks=r[--t];r[t++]=C(ks+d($t,Jt))*40}var bs=~~(r[--t]/40)+1;r[t++]=~~(bs/256),r[t++]=bs%256}Wt(a(ys()));var vn=r[--t];r[t-1]=vn},e.encCTX=function(){for(e.p=0,e.ctxvals=a(2500),e.done=!1;e.i!=e.msglen;){var ot=d(d(e.encvals,e.mode),d(e.msg,e.i))!==void 0;if(!ot)break;if(e.p%3==0){if(e.p>0){r[t++]="newmode",e.lookup();var Ut=r[--t];if(e[r[--t]]=Ut,Ee(e.newmode,e.mode)){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),e.newmode!=e.A&&(r[t++]=d(e.Avals,d(a([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws()),e.mode=e.newmode,e.done=!0;break}}if(e.msglen-e.i<=3){e.remcws=d(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var $t=S(e.msg,e.i,e.msglen-e.i),Jt=0,Zr=$t.length;Jt<Zr;Jt++){var ks=d($t,Jt),bs=d(d(e.encvals,e.mode),ks)!==void 0;r[t++]=ks,bs?O(d(d(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=a(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,O(S(e.ctxvals,0,e.p)),O(e.remvals);var vn=a();r[t++]=vn,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,O(S(e.ctxvals,0,e.p)),O(e.remvals),O(d(d(e.encvals,e.mode),e.sft1));var Xn=a();r[t++]=Xn,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}}}var pa=d(d(e.encvals,e.mode),d(e.msg,e.i));R(e.ctxvals,e.p,pa),e.p=pa.length+e.p,e.i=e.i+1}if(!e.done){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-d(d(e.encvals,e.mode),d(e.msg,e.i)).length;r[t++]=1/0,O(S(e.ctxvals,0,e.p));var ma=a();if(r[t++]=ma,e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!d(e.isECI,e.i))if(d(e.numD,e.i)>=2){var Za=Z(2);g(Za,0,d(e.msg,e.i)),g(Za,1,d(e.msg,e.i+1)),r[t++]=d(e.Avals,Za),e.addtocws(),e.i=e.i+2}else r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.Evalstocws=function(){e.in=r[--t],e.inlen=e.in.length,e.outlen=~~vr(e.in.length/4*3),r[t++]=1/0,O(e.in),r[t++]=0,r[t++]=0,r[t++]=0,e.in=a(),r[t++]=1/0;for(var ot=0,Ut=e.inlen-1;ot<=Ut;ot+=4){var $t=S(e.in,ot,4);r[t++]=0;for(var Jt=0,Zr=$t.length;Jt<Zr;Jt++){var ks=r[--t];r[t++]=mP(ks,d($t,Jt))<<6}var bs=r[--t]>>>6;r[t++]=bs>>>16&255,r[t++]=bs>>>8&255,r[t++]=bs&255}Wt(a(ys()));var vn=r[--t];r[t-1]=vn;var Xn=S(r[--t],0,e.outlen);r[t++]=Xn},e.encE=function(){for(e.p=0,e.edifactvals=a(2100);e.i!=e.msglen;){var ot=d(e.Evals,d(e.msg,e.i))!==void 0;if(!ot)break;if(e.p%4==0){if(e.msglen-e.i<=2){e.remcws=d(e.numremcws,e.j+~~(e.p/4)*3),r[t++]=1/0;for(var Ut=S(e.msg,e.i,e.msglen-e.i),$t=0,Jt=Ut.length;$t<Jt;$t++)O(d(e.Avals,d(Ut,$t)));if(e.remvals=a(),(e.remcws==1||e.remcws==2)&&e.remvals.length<=e.remcws){r[t++]=S(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),r[t++]=e.remvals,e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}if(e.lookup(),r[--t]!=e.mode)break}var Zr=d(e.Evals,d(e.msg,e.i));R(e.edifactvals,e.p,Zr),e.p=Zr.length+e.p,e.i=e.i+1}if(e.mode!=e.A){if(e.remcws=d(e.numremcws,e.j+~~(e.p/4)*3-1)-1,e.p%4!=0||e.i!=e.msglen||e.remcws>=3){var ks=d(e.Evals,e.unl);R(e.edifactvals,e.p,ks),e.p=ks.length+e.p}if(r[t++]=S(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!d(e.isECI,e.i))if(d(e.numD,e.i)>=2){var bs=Z(2);g(bs,0,d(e.msg,e.i)),g(bs,1,d(e.msg,e.i+1)),r[t++]=d(e.Avals,bs),e.addtocws(),e.i=e.i+2}else r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encB=function(){for(e.p=0,e.bvals=a(1558);!(e.i==e.msglen||(e.lookup(),r[--t]!=e.mode));)g(e.bvals,e.p,d(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=d(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),O(S(e.bvals,0,e.p)),e.bvals=a();for(var ot=0,Ut=e.bvals.length-1;ot<=Ut;ot+=1){e.p=ot;var $t=C((e.j+e.p+1)*149%255+1+d(e.bvals,e.p));if(r[t++]=$t,$t>=256){var Jt=r[--t];r[t++]=Jt-256}g(e.bvals,e.p,r[--t])}r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=a(1558),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[d(a(["encA","encCTX","encCTX","encCTX","encE","encB"]),e.mode)]()===!0););e.cws=S(e.cws,0,e.j)}if(e.datlen=e.cws.length,e.remcws=d(e.numremcws,e.j-1)-1,e.remcws>0){r[t++]=1/0,O(e.cws);for(var qr=0,mn=e.remcws;qr<mn;qr++)r[t++]=129;e.cws=a();for(var Nn=e.datlen+1,Qs=C(e.datlen+e.remcws)-1;Nn<=Qs;Nn+=1){e.i=Nn;var Pa=(e.i+1)*149%253+1+129;if(r[t++]=Pa,Pa>254){var Rs=r[--t];r[t++]=Rs-254}g(e.cws,e.i,r[--t])}}var k1=d(e.options,"debugcws")!==void 0;k1&&(r[t++]="bwipp.debugcws#20411",r[t++]=e.cws,Q());for(var Kn=e.metrics,Ts=0,Ua=Kn.length;Ts<Ua&&(e.m=d(Kn,Ts),e.rows=d(e.m,0),e.cols=d(e.m,1),e.regh=d(e.m,2),e.regv=d(e.m,3),e.rscw=d(e.m,4),e.rsbl=d(e.m,5),e.doly=d(e.m,6),e.mrows=C(e.rows-2*e.regh),e.mcols=C(e.cols-2*e.regv),e.rrows=~~(e.mrows/e.regh),e.rcols=~~(e.mcols/e.regv),e.ncws=C(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.cws.length!=e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),W(e.format,"square")&&Ee(e.rows,e.cols)&&(e.okay=!1),W(e.format,"rectangle")&&W(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),!e.okay);Ts++);e.okay||(r[t++]="bwipp.datamatrixNoValidSymbol#20439",r[t++]="Maximum length exceeded or invalid size",Q()),e.cwbs=a(e.rsbl),e.ecbs=a(e.rsbl);for(var sn=0,Oa=e.rsbl-1;sn<=Oa;sn+=1){e.i=sn,e.cws.length!=1558?e.cwbsize=~~(e.cws.length/e.rsbl):e.i<=7?e.cwbsize=156:e.cwbsize=155,e.cwb=a(e.cwbsize);for(var Cn=0,da=e.cwbsize-1;Cn<=da;Cn+=1)e.j=Cn,g(e.cwb,e.j,d(e.cws,C(e.j*e.rsbl+e.i)));g(e.cwbs,e.i,e.cwb),r[t++]=e.ecbs,r[t++]=e.i,r[t++]=1/0;for(var ua=0,l1=~~(e.rscw/e.rsbl);ua<l1;ua++)r[t++]=0;var At=a(),Kr=r[--t];g(r[--t],Kr,At)}r[t++]=1/0,r[t++]=1;for(var as=0;as<255;as++){var Hs=r[t-1],fs=Hs*2;if(r[t++]=fs,fs>=256){var nn=r[--t];r[t++]=nn^301}}e.rsalog=a(),e.rslog=a(256);for(var Sn=1;Sn<=255;Sn+=1)g(e.rslog,d(e.rsalog,Sn),Sn);e.rsprod=function(){var ot=r[t-1],Ut=r[t-2];if(ot!=0&&Ut!=0){var $t=d(e.rslog,r[--t]),Jt=d(e.rsalog,C($t+d(e.rslog,r[--t]))%255);r[t++]=Jt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var ja=0,ct=~~(e.rscw/e.rsbl);ja<ct;ja++)r[t++]=0;e.coeffs=a();for(var St=1,pr=~~(e.rscw/e.rsbl);St<=pr;St+=1){e.i=St,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var cr=e.i-1;cr>=1;cr-=1){e.j=cr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var hr=r[--t],Fr=r[--t],dr=r[--t];g(r[--t],dr,bn(Fr,hr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var is=r[--t],Yr=r[--t];g(r[--t],Yr,is)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1);for(var Vr=0,$r=e.cwbs.length-1;Vr<=$r;Vr+=1){e.i=Vr,e.cwb=d(e.cwbs,e.i),e.ecb=d(e.ecbs,e.i);for(var Jr=0,vs=e.cwb.length-1;Jr<=vs;Jr+=1){e.t=bn(d(e.cwb,Jr),d(e.ecb,0));for(var rs=e.ecb.length-1;rs>=0;rs-=1){e.j=rs,e.p=e.ecb.length-e.j-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=d(e.coeffs,e.j),e.rsprod();var Wr=r[--t],os=r[--t];g(r[--t],os,Wr),e.j>0&&g(e.ecb,e.p,bn(d(e.ecb,e.p+1),d(e.ecb,e.p)))}}}e.ncws==1558&&(r[t++]=1/0,O(S(e.ecbs,8,2)),O(S(e.ecbs,0,8)),e.ecbs=a()),r[t++]=1/0,O(e.cws);for(var Rr=0,Or=e.rscw;Rr<Or;Rr++)r[t++]=0;e.cws=a();for(var Gs=0,As=e.rscw-1;Gs<=As;Gs+=1)e.i=Gs,g(e.cws,C(e.ncws+e.i),d(d(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));e.module=function(){Es(4,-1);var ot=Tr(Z(8),"00000000");r[t++]=ot,r[t++]=ot;var Ut=qt(Z(8),r[t-3],2);R(r[t-1],8-Ut.length,Ut),r[t-3]=r[t-2],t-=2;for(var $t=7;$t>=0;$t-=1){var Jt=r[--t];r[t++]=d(Jt,$t)-48,r[t++]=Jt}t--,Es(11,-3),xe(r[--t],function(){if(r[--t]()===!0)return!0;var Zr=r[t-2];if(Zr<0){var ks=r[--t],bs=r[--t];r[t++]=C(bs+e.mrows),r[t++]=C(ks+(4-(e.mrows+4)%8))}var vn=r[t-1];if(vn<0){var Xn=r[--t],pa=r[--t];r[t++]=C(pa+(4-(e.mcols+4)%8)),r[t++]=C(Xn+e.mcols)}var ma=r[t-2];if(ma>=e.mrows){var Za=r[--t],Ii=r[--t];r[t++]=C(Ii-e.mrows),r[t++]=Za}var hi=r[--t],V1=r[--t];r[t++]=e.mmat,r[t++]=C(hi+V1*e.mcols),Es(5,-1);var Bi=r[--t],pi=r[--t];g(r[--t],pi,Bi)})};var xn=a([function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut-2,r[t++]=ot-2},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut-2,r[t++]=ot-1},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut-1,r[t++]=ot-2},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut-1,r[t++]=ot-1},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut-1,r[t++]=ot},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut,r[t++]=ot-2},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut,r[t++]=ot-1},function(){var ot=r[t-1],Ut=r[t-2];r[t++]=Ut,r[t++]=ot}]);e.dmn=xn;var Fn=a([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=1},function(){r[t++]=e.mrows-1,r[t++]=2},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc1=Fn;var fa=a([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-4},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc2=fa;var Qn=a([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc3=Qn;var rr=a([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=e.mcols-1},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-3},function(){r[t++]=1,r[t++]=e.mcols-2},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc4=rr,r[t++]=1/0;for(var wr=0,Cr=e.mrows*e.mcols;wr<Cr;wr++)r[t++]=-1;e.mmat=a();for(var ss=e.cws.length-1;ss>=0;ss-=1)r[t++]=d(e.cws,ss);for(r[t++]=4,r[t++]=0;;){var zr=r[t-1],ls=r[t-2];zr==0&&ls==e.mrows&&(r[t++]=e.dmc1,e.module());var Xr=r[t-1],an=r[t-2];Xr==0&&an==e.mrows-2&&e.mcols%4!=0&&(r[t++]=e.dmc2,e.module());var on=r[t-1],Jn=r[t-2];on==0&&Jn==e.mrows-2&&e.mcols%8==4&&(r[t++]=e.dmc3,e.module());var Na=r[t-1],za=r[t-2];for(Na==2&&za==e.mrows+4&&e.mcols%8==0&&(r[t++]=e.dmc4,e.module());;){var Wa=r[t-1],Ka=r[t-2];if(Wa>=0&&Ka<e.mrows){var Ca=r[t-1],j1=r[t-2];d(e.mmat,C(Ca+j1*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var Ja=r[--t],N1=r[--t];if(r[t++]=N1-2,r[t++]=Ja+2,!(Ja+2<e.mcols&&N1-2>=0))break}var di=r[--t],C1=r[--t];for(r[t++]=C1+1,r[t++]=di+3;;){var ui=r[t-1],fi=r[t-2];if(ui<e.mcols&&fi>=0){var Ve=r[t-1],yt=r[t-2];d(e.mmat,C(Ve+yt*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var mr=r[--t],jr=r[--t];if(r[t++]=jr+2,r[t++]=mr-2,!(mr-2>=0&&jr+2<e.mrows))break}var gs=r[--t],ln=r[--t];if(r[t++]=ln+3,r[t++]=gs+1,!(gs+1<e.mcols||ln+3<e.mrows)){t-=2;break}}d(e.mmat,e.mrows*e.mcols-1)==-1&&(R(e.mmat,e.mrows*(e.mcols-1)-2,a([1,0])),R(e.mmat,e.mrows*e.mcols-2,a([0,1]))),e.pixs=a(e.rows*e.cols),e.cwpos=0;for(var cn=0,Rn=e.rows-1;cn<=Rn;cn+=1){if(e.i=cn,e.i%(e.rrows+2)==0){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var ha=0,Sa=~~(e.cols/2);ha<Sa;ha++)r[t++]=1,r[t++]=0;var G1=a(),q1=r[--t];R(r[--t],q1,G1)}if(e.i%(e.rrows+2)==e.rrows+1){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var Xa=0,Y1=e.cols;Xa<Y1;Xa++)r[t++]=1;var Ho=a(),Zi=r[--t];R(r[--t],Zi,Ho)}if(e.i%(e.rrows+2)!=0&&e.i%(e.rrows+2)!=e.rrows+1)for(var dt=0,Yt=e.cols-1;dt<=Yt;dt+=1)e.j=dt,e.j%(e.rcols+2)==0&&g(e.pixs,C(e.i*e.cols+e.j),1),e.j%(e.rcols+2)==e.rcols+1&&g(e.pixs,C(e.i*e.cols+e.j),e.i%2),e.j%(e.rcols+2)!=0&&e.j%(e.rcols+2)!=e.rcols+1&&(g(e.pixs,C(e.i*e.cols+e.j),d(e.mmat,e.cwpos)),e.cwpos=e.cwpos+1)}var Lr=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Lr,e.dontdraw||xt(),e=s}function sU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function nU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"dmre",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function aU(){var s=e;e=Object.assign({},e),e.type="unset",e.parse=!1,e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse;var o=e.type;Ee(o,"7")&&Ee(o,"9")&&Ee(o,"29")&&(r[t++]="bwipp.mailmarkBadType#20820",r[t++]="Royal Mail Mailmark type must be 7, 9 or 29",Q());var l=new Map([["7","24x24"],["9","32x32"],["29","16x48"]]);e.version=d(l,e.type);var u=new Map([["7","square"],["9","square"],["29","rectangle"]]);e.format=d(u,e.type),e.barcode.length<45&&(r[t++]="bwipp.mailmarkBadLength#20836",r[t++]="Royal Mail Mailmark must contain at least 45 characters of Mailmark formatted data, including any required space padding",Q()),Ee(S(e.barcode,0,4),"JGB ")&&(r[t++]="bwipp.mailmarkBadIndicator#20839",r[t++]="Royal Mail Mailmark must begin with JGB<space> identifier",Q()),g(e.options,"dontdraw",!0),g(e.options,"version",e.version),g(e.options,"format",e.format),g(e.options,"c40headerlength",45),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var f=r[--t];e[r[--t]]=f,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function El(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="unset",e.version="unset",e.eclevel="unset",e.fixedeclevel=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,e.suppresskanjimode=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.qrcodeEmptyData#20904",r[t++]="The data must not be empty",Q()),Ee(e.version,"unset")?W(e.format,"unset")&&(r[t++]="full",W(S(e.version,0,1),"M")&&(r[t-1]="micro"),W(S(e.version,0,1),"R")&&(r[t-1]="rmqr"),e.format=r[--t]):W(e.format,"unset")&&(e.format="full"),Ee(e.format,"full")&&Ee(e.format,"micro")&&Ee(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeInvalidFormat#20920",r[t++]="The format must be either full, micro or rmqr",Q()),W(e.format,"rmqr")&&W(e.version,"unset")&&(r[t++]="bwipp.qrcodeRMQRwithoutVersion#20924",r[t++]="A version must be provided for RMQR",Q()),W(e.eclevel,"unset")){r[t++]="eclevel",Ee(e.format,"micro")?r[t++]="M":r[t++]="L";var n=r[--t];e[r[--t]]=n}if(Ee(e.eclevel,"L")&&Ee(e.eclevel,"M")&&Ee(e.eclevel,"Q")&&Ee(e.eclevel,"H")&&(r[t++]="bwipp.qrcodeInvalidEClevel#20931",r[t++]="Error correction level must be either L, M, Q, or H",Q()),e.mask!=-1&&W(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeRMQRmask#20935",r[t++]="A mask cannot be supplied for RMQR",Q()),e.mask!=-1){var i=W(e.format,"full")?8:4;(e.mask<1||e.mask>i)&&(r[t++]="bwipp.qrcodeBadMask#20940",r[t++]="An invalid mask was supplied",Q())}e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var l=r[--t];if(e[r[--t]]=l,e.msglen=e.msg.length,e.fnc1first=!1,e.msglen>0&&d(e.msg,0)==e.fn1){e.fnc1first=!0,r[t++]=1/0;for(var u=S(e.msg,1,e.msglen-1),f=0,h=u.length;f<h;f++){var p=d(u,f);if(r[t++]=p,p==37){var m=r[t-1];r[t++]=m}}e.msg=a(),e.msglen=e.msg.length}var x=a(["v1to9","v10to26","v27to40","vM1","vM2","vM3","vM4","vR7x43","vR7x59","vR7x77","vR7x99","vR7x139","vR9x43","vR9x59","vR9x77","vR9x99","vR9x139","vR11x27","vR11x43","vR11x59","vR11x77","vR11x99","vR11x139","vR13x27","vR13x43","vR13x59","vR13x77","vR13x99","vR13x139","vR15x43","vR15x59","vR15x77","vR15x99","vR15x139","vR17x43","vR17x59","vR17x77","vR17x99","vR17x139"]);r[t++]=0;for(var b=0,v=x.length;b<v;b++){var w=r[--t];e[d(x,b)]=w,r[t++]=w+1}t--,e.N=0,e.A=1,e.B=2,e.K=3,e.E=4,r[t++]=1/0,r[t++]=1/0;for(var y=48;y<=57;y+=1)r[t++]=y;for(var A=a(),k=0,E=A.length;k<E;k++)r[t++]=d(A,k),r[t++]=-1;e.Nexcl=Pe(),r[t++]=1/0,r[t++]=1/0,r[t++]=32,r[t++]=36,r[t++]=37,r[t++]=42,r[t++]=43,r[t++]=45,r[t++]=46,r[t++]=47,r[t++]=58;for(var j=65;j<=90;j+=1)r[t++]=j;r[t++]=e.fn1;for(var N=a(),I=0,M=N.length;I<M;I++)r[t++]=d(N,I),r[t++]=-1;e.Aexcl=Pe(),r[t++]=1/0,r[t++]=1/0;for(var B=129;B<=159;B+=1)r[t++]=B;for(var F=224;F<=235;F+=1)r[t++]=F;for(var D=a(),H=0,T=D.length;H<T;H++)r[t++]=d(D,H),r[t++]=-1;e.Kexcl=Pe(),r[t++]=1/0,r[t++]=a(["0001","0010","0100","1000","0111"]),r[t++]=a(["0001","0010","0100","1000","0111"]),r[t++]=a(["0001","0010","0100","1000","0111"]),r[t++]=a(["",-1,-1,-1,-1]),r[t++]=a(["0","1",-1,-1,-1]),r[t++]=a(["00","01","10","11",-1]),r[t++]=a(["000","001","010","011",-1]);for(var _=0;_<32;_++)r[t++]=a(["001","010","011","100","111"]);e.mids=a(),e.cclens=a([a([10,9,8,8]),a([12,11,16,10]),a([14,13,16,12]),a([3,-1,-1,-1]),a([4,3,-1,-1]),a([5,4,4,3]),a([6,5,5,4]),a([4,3,3,2]),a([5,5,4,3]),a([6,5,5,4]),a([7,6,5,5]),a([7,6,6,5]),a([5,5,4,3]),a([6,5,5,4]),a([7,6,5,5]),a([7,6,6,5]),a([8,7,6,6]),a([4,4,3,2]),a([6,5,5,4]),a([7,6,5,5]),a([7,6,6,5]),a([8,7,6,6]),a([8,7,7,6]),a([5,5,4,3]),a([6,6,5,5]),a([7,6,6,5]),a([7,7,6,6]),a([8,7,7,6]),a([8,8,7,7]),a([7,6,6,5]),a([7,7,6,5]),a([8,7,7,6]),a([8,7,7,6]),a([9,8,7,7]),a([7,6,6,5]),a([8,7,6,6]),a([8,7,7,6]),a([8,8,7,6]),a([9,8,8,7])]),r[t++]=1/0;for(var L=0;L<3;L++)r[t++]=4;r[t++]=3,r[t++]=5,r[t++]=7,r[t++]=9;for(var z=0;z<32;z++)r[t++]=3;e.termlens=a(),e.padstrs=a(["11101100","00010001"]),e.charmap="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.charvals=new Map;for(var G=0;G<=44;G+=1)g(e.charvals,d(e.charmap,G),G);e.tobin=function(){var Ve=Z(r[--t]);r[t++]=Ve;for(var yt=0,mr=Ve.length-1;yt<=mr;yt+=1){var jr=r[t-1];g(jr,yt,48)}var gs=r[t-1];r[t++]=gs;var ln=r[t-3],cn=r[t-1];r[t-3]=r[t-2],t-=2;var Rn=qt(Z(cn.length),ln,2);R(cn,cn.length-Rn.length,Rn)},e.encA=function(){for(e.in=r[--t],e.fnc1first&&(r[t++]=1/0,xe(e.in,function(){var yt=r[t-1];yt==e.fn1&&(r[t-1]=37)}),e.in=a()),e.out=Z(~~(e.in.length*11/2)+1),e.k=0,e.m=0;e.k!=e.in.length;){e.k<e.in.length-1?(r[t++]=C(d(e.charvals,d(e.in,e.k))*45+d(e.charvals,d(e.in,e.k+1))),r[t++]=11,e.tobin(),e.k=e.k+2):(r[t++]=d(e.charvals,d(e.in,e.k)),r[t++]=6,e.tobin(),e.k=e.k+1);var Ve=r[--t];R(e.out,e.m,Ve),e.m=Ve.length+e.m}r[t++]=S(e.out,0,e.m)},e.encN=function(){for(e.in=r[--t],e.out=Z(~~(e.in.length*10/3)+1),e.k=0,e.m=0;e.k!=e.in.length;){if(e.k<e.in.length-2){var Ve=S(e.in,e.k,3);r[t++]=0;for(var yt=0,mr=Ve.length;yt<mr;yt++){var jr=r[--t];r[t++]=C(d(Ve,yt)+(jr*10-48))}r[t++]=10,e.tobin(),e.k=e.k+3}else if(e.k==e.in.length-2){var gs=S(e.in,e.k,2);r[t++]=0;for(var ln=0,cn=gs.length;ln<cn;ln++){var Rn=r[--t];r[t++]=C(d(gs,ln)+(Rn*10-48))}r[t++]=7,e.tobin(),e.k=e.k+2}else{var ha=S(e.in,e.k,1);r[t++]=0;for(var Sa=0,G1=ha.length;Sa<G1;Sa++){var q1=r[--t];r[t++]=C(d(ha,Sa)+(q1*10-48))}r[t++]=4,e.tobin(),e.k=e.k+1}var Xa=r[--t];R(e.out,e.m,Xa),e.m=Xa.length+e.m}r[t++]=S(e.out,0,e.m)},e.encB=function(){e.in=r[--t],e.fnc1first&&(r[t++]=1/0,xe(e.in,function(){var gs=r[t-1];gs==e.fn1&&(r[t-1]=29)}),e.in=a()),e.out=Z(e.in.length*8);for(var Ve=0,yt=e.in.length-1;Ve<=yt;Ve+=1){e.k=Ve,r[t++]=Ie(d(e.in,e.k)),r[t++]=8,e.tobin(),r[t++]=e.out,r[t++]=e.k*8;var mr=r[t-3],jr=r[t-1];R(r[t-2],jr,mr),t-=3}r[t++]=e.out},e.encK=function(){for(e.in=r[--t],e.out=Z(~~(e.in.length/2)*13),e.k=0,e.m=0;e.k!=e.in.length;){var Ve=C(d(e.in,e.k)*256+d(e.in,e.k+1));r[t++]=Ve,Ve<57408?r[t++]=33088:r[t++]=49472;var yt=r[--t],mr=C(r[--t]-yt);r[t++]=C((mr>>>8)*192+(mr&255)),r[t++]=13,e.tobin();var jr=r[--t];R(e.out,e.m,jr),e.m=jr.length+e.m,e.k=e.k+2}r[t++]=e.out},e.encE=function(){var Ve=-d(r[--t],0)-1e6;if(r[t++]=Ve,Ve<=127)r[t++]=8,e.tobin();else{var yt=r[t-1];if(yt<=16383){var mr=r[--t];r[t++]=mr+32768,r[t++]=16,e.tobin()}else{var jr=r[--t];r[t++]=jr+12582912,r[t++]=24,e.tobin()}}},e.encfuncs=a(["encN","encA","encB","encK","encE"]),e.addtobits=function(){var Ve=r[--t];R(e.bits,e.j,Ve),e.j=Ve.length+e.j},r[t++]=1/0;for(var K=0,oe=e.msglen;K<oe;K++)r[t++]=0;r[t++]=0,e.numNs=a(),r[t++]=1/0;for(var V=0,Y=e.msglen;V<Y;V++)r[t++]=0;r[t++]=0,e.numAs=a(),r[t++]=1/0;for(var ie=0,de=e.msglen;ie<de;ie++)r[t++]=0;r[t++]=0,e.numAorNs=a(),r[t++]=1/0;for(var re=0,ne=e.msglen;re<ne;re++)r[t++]=0;r[t++]=0,e.numBs=a(),r[t++]=1/0;for(var le=0,ue=e.msglen;le<ue;le++)r[t++]=0;r[t++]=0,e.numKs=a(),r[t++]=1/0;for(var Me=0,pe=e.msglen;Me<pe;Me++)r[t++]=0;r[t++]=9999,e.nextNs=a(),r[t++]=1/0;for(var Fe=0,Ce=e.msglen;Fe<Ce;Fe++)r[t++]=0;r[t++]=9999,e.nextBs=a(),r[t++]=1/0;for(var ve=0,Be=e.msglen;ve<Be;ve++)r[t++]=0;r[t++]=9999,e.nextAs=a(),r[t++]=1/0;for(var Ue=0,Xe=e.msglen;Ue<Xe;Ue++)r[t++]=0;r[t++]=9999,e.nextKs=a(),e.isECI=a(e.msglen);for(var Re=e.msglen-1;Re>=0;Re-=1){e.i=Re,e.barchar=d(e.msg,e.i);var Ge=d(e.Kexcl,e.barchar)!==void 0;if(Ge&&!e.suppresskanjimode){e.i+1<e.msglen?r[t++]=C(e.barchar*256+d(e.msg,e.i+1)):r[t++]=0;var Oe=r[--t],Le=Oe&255;(Oe>=33088&&Oe<=40956||Oe>=57408&&Oe<=60351)&&Le>=64&&Le<=252&&Le!=127?(g(e.nextKs,e.i,0),g(e.numKs,e.i,d(e.numKs,e.i+2)+1)):g(e.nextKs,e.i,d(e.nextKs,e.i+1)+1)}else g(e.nextKs,e.i,d(e.nextKs,e.i+1)+1);var rt=d(e.Nexcl,e.barchar)!==void 0;rt?(g(e.nextNs,e.i,0),g(e.numNs,e.i,d(e.numNs,e.i+1)+1),g(e.numAorNs,e.i,d(e.numAorNs,e.i+1)+1)):g(e.nextNs,e.i,d(e.nextNs,e.i+1)+1);var Se=d(e.Aexcl,e.barchar)!==void 0;Se?(g(e.nextAs,e.i,0),g(e.numAs,e.i,d(e.numAs,e.i+1)+1),g(e.numAorNs,e.i,d(e.numAorNs,e.i+1)+1)):g(e.nextAs,e.i,d(e.nextAs,e.i+1)+1),g(e.isECI,e.i,e.barchar<=-1e6)}for(var qe=0,We=e.msglen-1;qe<=We;qe+=1)e.i=qe,d(e.numKs,e.i)>0&&(g(e.numKs,e.i+1,0),g(e.nextKs,e.i+1,d(e.nextKs,e.i+1)+1));for(var Ke=e.msglen-1;Ke>=0;Ke-=1)e.i=Ke,C(d(e.numNs,e.i)+(d(e.numAs,e.i)+d(e.numKs,e.i)))==0&&!d(e.isECI,e.i)?(g(e.nextBs,e.i,0),g(e.numBs,e.i,d(e.numBs,e.i+1)+1)):g(e.nextBs,e.i,d(e.nextBs,e.i+1)+1);e.KbeforeB=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numK,Ve)&&d(e.nextBs,C(e.numK*2+e.i))==0},e.KbeforeA=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numK,Ve)&&d(e.nextAs,C(e.numK*2+e.i))==0},e.KbeforeN=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numK,Ve)&&d(e.nextNs,C(e.numK*2+e.i))==0},e.KbeforeE=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numK,Ve)&&C(e.numK*2+e.i)==e.msglen},e.AbeforeK=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numA,Ve)&&d(e.nextKs,C(e.numA+e.i))==0},e.AbeforeB=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numA,Ve)&&d(e.nextBs,C(e.numA+e.i))==0},e.AbeforeN=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numA,Ve)&&d(e.nextNs,C(e.numA+e.i))==0},e.AbeforeE=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numA,Ve)&&C(e.numA+e.i)==e.msglen},e.NbeforeK=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numN,Ve)&&d(e.nextKs,C(e.numN+e.i))==0},e.NbeforeB=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numN,Ve)&&d(e.nextBs,C(e.numN+e.i))==0},e.NbeforeA=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numN,Ve)&&d(e.nextAs,C(e.numN+e.i))==0},e.NbeforeE=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numN,Ve)&&C(e.numN+e.i)==e.msglen},e.AorNbeforeB=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numAorN,Ve)&&d(e.nextBs,C(e.numAorN+e.i))==0},e.AorNbeforeE=function(){var Ve=d(r[--t],e.ver);r[t++]=t1(e.numAorN,Ve)&&C(e.numAorN+e.i)==e.msglen},e.nextNslt=function(){if(d(e.nextNs,e.i)>=e.msglen)r[t-1]=!0;else{var Ve=d(r[--t],e.ver);r[t++]=wa(d(e.numNs,C(d(e.nextNs,e.i)+e.i)),Ve)}},r[t++]=1/0,r[t++]="full",r[t++]=1/0;for(var Te=0;Te<=9;Te+=1)r[t++]=qt(Z(2),Te,10),r[t++]=e.v1to9;for(var He=10;He<=26;He+=1)r[t++]=qt(Z(2),He,10),r[t++]=e.v10to26;for(var st=27;st<=40;st+=1)r[t++]=qt(Z(2),st,10),r[t++]=e.v27to40;var gt=Pe(),ht=new Map([["M1",e.vM1],["M2",e.vM2],["M3",e.vM3],["M4",e.vM4]]),bt=new Map([["R7x43",e.vR7x43],["R7x59",e.vR7x59],["R7x77",e.vR7x77],["R7x99",e.vR7x99],["R7x139",e.vR7x139],["R9x43",e.vR9x43],["R9x59",e.vR9x59],["R9x77",e.vR9x77],["R9x99",e.vR9x99],["R9x139",e.vR9x139],["R11x27",e.vR11x27],["R11x43",e.vR11x43],["R11x59",e.vR11x59],["R11x77",e.vR11x77],["R11x99",e.vR11x99],["R11x139",e.vR11x139],["R13x27",e.vR13x27],["R13x43",e.vR13x43],["R13x59",e.vR13x59],["R13x77",e.vR13x77],["R13x99",e.vR13x99],["R13x139",e.vR13x139],["R15x43",e.vR15x43],["R15x59",e.vR15x59],["R15x77",e.vR15x77],["R15x99",e.vR15x99],["R15x139",e.vR15x139],["R17x43",e.vR17x43],["R17x59",e.vR17x59],["R17x77",e.vR17x77],["R17x99",e.vR17x99],["R17x139",e.vR17x139]]);if(r[t++]=gt,r[t++]="micro",r[t++]=ht,r[t++]="rmqr",r[t++]=bt,e.versetmap=Pe(),e.versetfull=a([e.v1to9,e.v10to26,e.v27to40]),e.versetmicro=a([e.vM1,e.vM2,e.vM3,e.vM4]),Ee(e.version,"unset")){var Et=d(e.versetmap,e.format),kt=e.version,wt=d(Et,kt)!==void 0;r[t++]=Et,r[t++]=kt,wt||(t-=2,W(e.format,"full")?(r[t++]="bwipp.qrcodeInvalidFullVersion#21296",r[t++]="Valid versions for QR Code symbols are 1 to 40",Q()):W(e.format,"micro")?(r[t++]="bwipp.qrcodeInvalidMicroVersion#21299",r[t++]="Valid versions for Micro QR Code symbols are M1 to M4",Q()):(r[t++]="bwipp.qrcodeInvalidRMQRversion#21301",r[t++]="Invalid version for an RMQR symbol",Q()));var Mt=r[--t],It=d(r[--t],Mt),zt=1/0,Bt=It;r[t++]=zt,r[t++]=Bt,e.verset=a()}else W(e.format,"full")&&(e.verset=e.versetfull),W(e.format,"micro")&&(e.verset=e.versetmicro);r[t++]=1/0;for(var jt=0;jt<39;jt++)r[t++]=-1;e.msgbits=a(),e.e=1e4,e.mode0forceKB=a([1,1,1,e.e,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceA=a([1,1,1,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceN=a([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0NbeforeB=a([4,4,5,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeBKbeforeB=a([9,12,13,e.e,e.e,4,6,4,5,6,6,6,5,6,6,6,7,4,6,6,6,7,7,5,6,6,7,7,7,6,6,7,7,7,6,7,7,7,8]),e.modeBKbeforeA=a([8,10,11,e.e,e.e,4,5,4,5,5,6,6,5,5,6,6,6,4,5,6,6,6,6,5,6,6,6,6,7,6,6,6,6,7,6,6,6,7,7]),e.modeBKbeforeN=a([8,9,11,e.e,e.e,3,5,3,4,5,5,5,4,5,5,5,6,3,5,5,5,6,6,4,5,5,6,6,6,5,5,6,6,7,5,6,6,6,7]),e.modeBKbeforeE=a([5,5,6,e.e,e.e,2,3,2,3,3,3,3,3,3,3,3,4,2,3,3,3,4,4,3,3,3,4,4,4,3,3,4,4,4,3,4,4,4,4]),e.modeBAbeforeK=a([11,12,14,e.e,e.e,5,7,5,6,7,8,8,6,7,8,8,8,6,7,8,8,8,8,6,8,8,8,8,9,8,8,8,8,9,8,8,8,9,9]),e.modeBAbeforeB=a([11,15,16,e.e,e.e,6,7,6,7,7,8,8,7,7,8,8,8,6,7,8,8,8,9,7,8,8,8,9,9,8,8,9,9,9,8,8,9,9,10]),e.modeBAbeforeN=a([12,13,15,e.e,e.e,6,8,6,7,8,8,8,7,8,8,8,9,6,8,8,8,9,9,7,8,8,9,9,10,8,9,9,9,10,8,9,9,10,10]),e.modeBAbeforeE=a([6,7,8,e.e,e.e,3,4,3,4,4,4,4,4,4,4,4,5,4,4,4,4,5,5,4,4,4,5,5,5,4,5,5,5,5,4,5,5,5,5]),e.modeBNbeforeK=a([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5]),e.modeBNbeforeB=a([6,8,9,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,6]),e.modeBNbeforeA=a([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,4,4,5,5,5,5,4,5,5,5,5,5,5,5,5,5,6,5,5,5,5,6]),e.modeBNbeforeE=a([3,4,4,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeANbeforeA=a([13,15,17,e.e,5,7,9,7,8,9,9,9,8,9,9,9,11,7,9,9,9,11,11,8,9,9,10,11,11,9,10,11,11,11,9,11,11,11,11]),e.modeANbeforeB=a([13,17,18,e.e,e.e,7,9,7,8,9,9,9,8,9,9,9,10,7,9,9,9,10,11,8,9,9,9,11,11,9,9,11,11,11,9,10,11,11,11]),e.modeANbeforeE=a([7,8,9,e.e,3,4,5,4,5,5,5,5,5,5,5,5,6,4,5,5,5,6,6,5,5,5,5,6,6,5,5,6,6,6,5,6,6,6,6]);for(var U=e.verset,$=0,P=U.length;$<P;$++){for(e.ver=d(U,$),e.mode=-1,e.seq=a([]),e.i=0;!(e.i>=e.msglen);){if(e.numK=d(e.numKs,e.i),e.numB=d(e.numBs,e.i),e.numA=d(e.numAs,e.i),e.numN=d(e.numNs,e.i),e.numAorN=d(e.numAorNs,e.i),e.eci=d(e.isECI,e.i),W(e.ver,e.vM1)&&e.numA>=1){e.seq=-1;break}if(W(e.ver,e.vM1)&&e.numB>=1){e.seq=-1;break}if(W(e.ver,e.vM1)&&e.numK>=1){e.seq=-1;break}if(W(e.ver,e.vM1)&&e.eci){e.seq=-1;break}if(W(e.ver,e.vM2)&&e.numB>=1){e.seq=-1;break}if(W(e.ver,e.vM2)&&e.numK>=1){e.seq=-1;break}if(W(e.ver,e.vM2)&&e.eci){e.seq=-1;break}if(W(e.ver,e.vM3)&&e.eci){e.seq=-1;break}if(W(e.ver,e.vM4)&&e.eci){e.seq=-1;break}for(;;){if(e.eci){r[t++]=e.E;break}if(e.mode==-1){if(r[t++]=e.mode0forceKB,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(e.numK>=1){r[t++]=e.B;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceKB,e.NbeforeB(),r[--t]){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeE,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceN,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AorNbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.mode0forceA,e.AorNbeforeE(),r[--t]){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.B){if(r[t++]=e.modeBKbeforeB,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeA,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeN,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBAbeforeK,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeB,e.AbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeN,e.AbeforeN(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeE(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBNbeforeK,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}r[t++]=e.modeBAbeforeE,e.AorNbeforeE();var q=r[--t];if(q&&Cc(e.numAorN,d(e.modeBAbeforeN,e.ver))&&(r[t++]=e.modeBNbeforeA,e.nextNslt(),r[--t])){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.A){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(e.numA>=1||e.numN>=1){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.N){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}r[t++]=e.B;break}if(e.mode==e.K){if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}if(e.numK>=1){r[t++]=e.K;break}r[t++]=e.B;break}}var X=r[t-1];X==e.K&&e.fnc1first&&(r[t-1]=e.B);var ce=r[t-1];if(ce==e.mode){t--;var te=e.mode==e.K?2:1;e.dat=S(e.msg,e.i,te),r[t++]=1/0,O(e.seq),r[t++]=1/0;var ye=r[--t],J=r[--t];r[t++]=ye,O(J),O(e.dat);var me=a();r[t++]=me,e.seq=a()}else e.mode=r[--t],e.mode==e.K&&(r[t++]=e.K,r[t++]=S(e.msg,e.i,e.numK*2)),e.mode==e.B&&(r[t++]=e.B,r[t++]=S(e.msg,e.i,e.numB)),e.mode==e.A&&(r[t++]=e.A,r[t++]=S(e.msg,e.i,e.numA)),e.mode==e.N&&(r[t++]=e.N,r[t++]=S(e.msg,e.i,e.numN)),e.mode==e.E&&(e.mode=-1,r[t++]=e.E,r[t++]=S(e.msg,e.i,1)),e.dat=r[--t],e.sw=r[--t],r[t++]=1/0,O(e.seq),r[t++]=e.sw,r[t++]=e.dat,e.seq=a();e.i=e.i+e.dat.length}for(;e.seq!=-1;){e.bits=Z(23648),e.j=0,e.fnc1first&&(wa(e.ver,e.vR7x43)?r[t++]="0101":r[t++]="101",e.addtobits()),e.abort=!1;for(var fe=0,be=e.seq.length-1;fe<=be;fe+=2){if(e.i=fe,e.mode=d(e.seq,e.i),r[t++]=d(d(e.mids,e.ver),e.mode),e.addtobits(),e.chars=d(e.seq,e.i+1),r[t++]="charslen",r[t++]=e.chars.length,e.mode==e.K){var se=r[--t];r[t++]=~~(se/2)}var ge=r[--t];if(e[r[--t]]=ge,e.mode!=e.E){if(e.cclen=d(d(e.cclens,e.ver),e.mode),e.charslen>=~~v1(2,e.cclen)){e.abort=!0;break}r[t++]=e.charslen,r[t++]=e.cclen,e.tobin(),e.addtobits()}if(r[t++]=e.chars,e[d(e.encfuncs,e.mode)]()===!0)break;e.addtobits()}if(e.abort)break;e.bits=S(e.bits,0,e.j),g(e.msgbits,e.ver,e.bits);break}}e.metrics=a([a(["micro","M1",e.vM1,11,11,98,99,36,a([2,99,99,99]),a([1,0,-1,-1,-1,-1,-1,-1])]),a(["micro","M2",e.vM2,13,13,98,99,80,a([5,6,99,99]),a([1,0,1,0,-1,-1,-1,-1])]),a(["micro","M3",e.vM3,15,15,98,99,132,a([6,8,99,99]),a([1,0,1,0,-1,-1,-1,-1])]),a(["micro","M4",e.vM4,17,17,98,99,192,a([8,10,14,99]),a([1,0,1,0,1,0,-1,-1])]),a(["full","1",e.v1to9,21,21,98,99,208,a([7,10,13,17]),a([1,0,1,0,1,0,1,0])]),a(["full","2",e.v1to9,25,25,18,99,359,a([10,16,22,28]),a([1,0,1,0,1,0,1,0])]),a(["full","3",e.v1to9,29,29,22,99,567,a([15,26,36,44]),a([1,0,1,0,2,0,2,0])]),a(["full","4",e.v1to9,33,33,26,99,807,a([20,36,52,64]),a([1,0,2,0,2,0,4,0])]),a(["full","5",e.v1to9,37,37,30,99,1079,a([26,48,72,88]),a([1,0,2,0,2,2,2,2])]),a(["full","6",e.v1to9,41,41,34,99,1383,a([36,64,96,112]),a([2,0,4,0,4,0,4,0])]),a(["full","7",e.v1to9,45,45,22,38,1568,a([40,72,108,130]),a([2,0,4,0,2,4,4,1])]),a(["full","8",e.v1to9,49,49,24,42,1936,a([48,88,132,156]),a([2,0,2,2,4,2,4,2])]),a(["full","9",e.v1to9,53,53,26,46,2336,a([60,110,160,192]),a([2,0,3,2,4,4,4,4])]),a(["full","10",e.v10to26,57,57,28,50,2768,a([72,130,192,224]),a([2,2,4,1,6,2,6,2])]),a(["full","11",e.v10to26,61,61,30,54,3232,a([80,150,224,264]),a([4,0,1,4,4,4,3,8])]),a(["full","12",e.v10to26,65,65,32,58,3728,a([96,176,260,308]),a([2,2,6,2,4,6,7,4])]),a(["full","13",e.v10to26,69,69,34,62,4256,a([104,198,288,352]),a([4,0,8,1,8,4,12,4])]),a(["full","14",e.v10to26,73,73,26,46,4651,a([120,216,320,384]),a([3,1,4,5,11,5,11,5])]),a(["full","15",e.v10to26,77,77,26,48,5243,a([132,240,360,432]),a([5,1,5,5,5,7,11,7])]),a(["full","16",e.v10to26,81,81,26,50,5867,a([144,280,408,480]),a([5,1,7,3,15,2,3,13])]),a(["full","17",e.v10to26,85,85,30,54,6523,a([168,308,448,532]),a([1,5,10,1,1,15,2,17])]),a(["full","18",e.v10to26,89,89,30,56,7211,a([180,338,504,588]),a([5,1,9,4,17,1,2,19])]),a(["full","19",e.v10to26,93,93,30,58,7931,a([196,364,546,650]),a([3,4,3,11,17,4,9,16])]),a(["full","20",e.v10to26,97,97,34,62,8683,a([224,416,600,700]),a([3,5,3,13,15,5,15,10])]),a(["full","21",e.v10to26,101,101,28,50,9252,a([224,442,644,750]),a([4,4,17,0,17,6,19,6])]),a(["full","22",e.v10to26,105,105,26,50,10068,a([252,476,690,816]),a([2,7,17,0,7,16,34,0])]),a(["full","23",e.v10to26,109,109,30,54,10916,a([270,504,750,900]),a([4,5,4,14,11,14,16,14])]),a(["full","24",e.v10to26,113,113,28,54,11796,a([300,560,810,960]),a([6,4,6,14,11,16,30,2])]),a(["full","25",e.v10to26,117,117,32,58,12708,a([312,588,870,1050]),a([8,4,8,13,7,22,22,13])]),a(["full","26",e.v10to26,121,121,30,58,13652,a([336,644,952,1110]),a([10,2,19,4,28,6,33,4])]),a(["full","27",e.v27to40,125,125,34,62,14628,a([360,700,1020,1200]),a([8,4,22,3,8,26,12,28])]),a(["full","28",e.v27to40,129,129,26,50,15371,a([390,728,1050,1260]),a([3,10,3,23,4,31,11,31])]),a(["full","29",e.v27to40,133,133,30,54,16411,a([420,784,1140,1350]),a([7,7,21,7,1,37,19,26])]),a(["full","30",e.v27to40,137,137,26,52,17483,a([450,812,1200,1440]),a([5,10,19,10,15,25,23,25])]),a(["full","31",e.v27to40,141,141,30,56,18587,a([480,868,1290,1530]),a([13,3,2,29,42,1,23,28])]),a(["full","32",e.v27to40,145,145,34,60,19723,a([510,924,1350,1620]),a([17,0,10,23,10,35,19,35])]),a(["full","33",e.v27to40,149,149,30,58,20891,a([540,980,1440,1710]),a([17,1,14,21,29,19,11,46])]),a(["full","34",e.v27to40,153,153,34,62,22091,a([570,1036,1530,1800]),a([13,6,14,23,44,7,59,1])]),a(["full","35",e.v27to40,157,157,30,54,23008,a([570,1064,1590,1890]),a([12,7,12,26,39,14,22,41])]),a(["full","36",e.v27to40,161,161,24,50,24272,a([600,1120,1680,1980]),a([6,14,6,34,46,10,2,64])]),a(["full","37",e.v27to40,165,165,28,54,25568,a([630,1204,1770,2100]),a([17,4,29,14,49,10,24,46])]),a(["full","38",e.v27to40,169,169,32,58,26896,a([660,1260,1860,2220]),a([4,18,13,32,48,14,42,32])]),a(["full","39",e.v27to40,173,173,26,54,28256,a([720,1316,1950,2310]),a([20,4,40,7,43,22,10,67])]),a(["full","40",e.v27to40,177,177,30,58,29648,a([750,1372,2040,2430]),a([19,6,18,31,34,34,20,61])]),a(["rmqr","R7x43",e.vR7x43,7,43,22,99,104,a([99,7,99,10]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R7x59",e.vR7x59,7,59,20,40,171,a([99,9,99,14]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R7x77",e.vR7x77,7,77,26,52,261,a([99,12,99,22]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R7x99",e.vR7x99,7,99,24,50,358,a([99,16,99,30]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R7x139",e.vR7x139,7,139,28,56,545,a([99,24,99,44]),a([-1,-1,1,0,-1,-1,2,0])]),a(["rmqr","R9x43",e.vR9x43,9,43,22,99,170,a([99,9,99,14]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R9x59",e.vR9x59,9,59,20,40,267,a([99,12,99,22]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R9x77",e.vR9x77,9,77,26,52,393,a([99,18,99,32]),a([-1,-1,1,0,-1,-1,1,1])]),a(["rmqr","R9x99",e.vR9x99,9,99,24,50,532,a([99,24,99,44]),a([-1,-1,1,0,-1,-1,2,0])]),a(["rmqr","R9x139",e.vR9x139,9,139,28,56,797,a([99,36,99,66]),a([-1,-1,1,1,-1,-1,3,0])]),a(["rmqr","R11x27",e.vR11x27,11,27,98,99,122,a([99,8,99,10]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R11x43",e.vR11x43,11,43,22,99,249,a([99,12,99,20]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R11x59",e.vR11x59,11,59,20,40,376,a([99,16,99,32]),a([-1,-1,1,0,-1,-1,1,1])]),a(["rmqr","R11x77",e.vR11x77,11,77,26,52,538,a([99,24,99,44]),a([-1,-1,1,0,-1,-1,1,1])]),a(["rmqr","R11x99",e.vR11x99,11,99,24,50,719,a([99,32,99,60]),a([-1,-1,1,1,-1,-1,1,1])]),a(["rmqr","R11x139",e.vR11x139,11,139,28,56,1062,a([99,48,99,90]),a([-1,-1,2,0,-1,-1,3,0])]),a(["rmqr","R13x27",e.vR13x27,13,27,98,99,172,a([99,9,99,14]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R13x43",e.vR13x43,13,43,22,99,329,a([99,14,99,28]),a([-1,-1,1,0,-1,-1,1,0])]),a(["rmqr","R13x59",e.vR13x59,13,59,20,40,486,a([99,22,99,40]),a([-1,-1,1,0,-1,-1,2,0])]),a(["rmqr","R13x77",e.vR13x77,13,77,26,52,684,a([99,32,99,56]),a([-1,-1,1,1,-1,-1,1,1])]),a(["rmqr","R13x99",e.vR13x99,13,99,24,50,907,a([99,40,99,78]),a([-1,-1,1,1,-1,-1,1,2])]),a(["rmqr","R13x139",e.vR13x139,13,139,28,56,1328,a([99,60,99,112]),a([-1,-1,2,1,-1,-1,2,2])]),a(["rmqr","R15x43",e.vR15x43,15,43,22,99,409,a([99,18,99,36]),a([-1,-1,1,0,-1,-1,1,1])]),a(["rmqr","R15x59",e.vR15x59,15,59,20,40,596,a([99,26,99,48]),a([-1,-1,1,0,-1,-1,2,0])]),a(["rmqr","R15x77",e.vR15x77,15,77,26,52,830,a([99,36,99,72]),a([-1,-1,1,1,-1,-1,2,1])]),a(["rmqr","R15x99",e.vR15x99,15,99,24,50,1095,a([99,48,99,88]),a([-1,-1,2,0,-1,-1,4,0])]),a(["rmqr","R15x139",e.vR15x139,15,139,28,56,1594,a([99,72,99,130]),a([-1,-1,2,1,-1,-1,1,4])]),a(["rmqr","R17x43",e.vR17x43,17,43,22,99,489,a([99,22,99,40]),a([-1,-1,1,0,-1,-1,1,1])]),a(["rmqr","R17x59",e.vR17x59,17,59,20,40,706,a([99,32,99,60]),a([-1,-1,2,0,-1,-1,2,0])]),a(["rmqr","R17x77",e.vR17x77,17,77,26,52,976,a([99,44,99,84]),a([-1,-1,2,0,-1,-1,1,2])]),a(["rmqr","R17x99",e.vR17x99,17,99,24,50,1283,a([99,60,99,104]),a([-1,-1,2,1,-1,-1,4,0])]),a(["rmqr","R17x139",e.vR17x139,17,139,28,56,1860,a([99,80,99,156]),a([-1,-1,4,0,-1,-1,2,4])])]),r[t++]="eclval",Rt("LMQH",e.eclevel),t--;var je=r[--t];r[t-1]=je.length;var he=r[--t];r[t-1]=he;var ke=r[--t];e[r[--t]]=ke;for(var we=0,Ne=e.metrics.length-1;we<=Ne;we+=1){e.i=we,e.m=d(e.metrics,e.i),e.frmt=d(e.m,0),e.vers=d(e.m,1),e.vergrp=d(e.m,2),e.verind=e.i-44,e.rows=d(e.m,3),e.cols=d(e.m,4),e.asp2=d(e.m,5),e.asp3=d(e.m,6),e.nmod=d(e.m,7),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.lc4b=!1,(W(e.vers,"M1")||W(e.vers,"M3"))&&(e.ncws=e.ncws+1,e.rbit=0,e.lc4b=!0),e.ecws=d(d(e.m,8),e.eclval),e.dcws=C(e.ncws-e.ecws);var ze=e.lc4b?4:0;if(e.dmod=C(e.dcws*8-ze),e.ecb1=d(d(e.m,9),e.eclval*2),e.ecb2=d(d(e.m,9),e.eclval*2+1),e.okay=!0,Ee(e.format,e.frmt)&&(e.okay=!1),W(e.frmt,"micro")&&e.fnc1first&&(e.okay=!1),Ee(e.version,"unset")&&Ee(e.version,e.vers)&&(e.okay=!1),(e.ecb1==-1||e.ecb2==-1)&&(e.okay=!1),e.verbits=d(e.msgbits,e.vergrp),(e.verbits==-1||e.verbits.length>e.dmod)&&(e.okay=!1),e.term=S("000000000",0,d(e.termlens,e.vergrp)),e.okay)break}if(e.okay||(r[t++]="bwipp.qrcodeNoValidSymbol#21607",r[t++]="Maximum length exceeded or invalid content",Q()),e.format=e.frmt,e.version=e.vers,e.msgbits=e.verbits,!e.fixedeclevel)for(var _e=e.eclval+1;_e<=3;_e+=1){e.eclval_=_e,e.ecws_=d(d(e.m,8),e.eclval_),e.dcws_=C(e.ncws-e.ecws_);var Je=e.lc4b?4:0;e.dmod_=C(e.dcws_*8-Je),e.ecb1_=d(d(e.m,9),e.eclval_*2),e.ecb2_=d(d(e.m,9),e.eclval_*2+1),e.okay=!0,(e.ecb1_==-1||e.ecb2_==-1)&&(e.okay=!1),e.msgbits.length>e.dmod_&&(e.okay=!1),e.okay&&(e.eclval=e.eclval_,e.dcws=e.dcws_,e.dmod=e.dmod_,e.ecb1=e.ecb1_,e.ecb2=e.ecb2_)}e.dcpb=~~(e.dcws/C(e.ecb1+e.ecb2)),e.ecpb=~~(e.ncws/C(e.ecb1+e.ecb2))-e.dcpb;var at=e.term,nt=e.dmod,Ae=e.msgbits,Ye=e.term,Qe=Ye.length,Ze=C(nt-Ae.length);if(C(nt-Ae.length)>Ye.length){var pt=Qe;Qe=Ze,Ze=pt}e.term=S(at,0,Ze);var mt=Z(e.msgbits.length+e.term.length);R(mt,0,e.msgbits),R(mt,e.msgbits.length,e.term),e.msgbits=mt,e.pad=Z(e.dmod);for(var ut=0,vt=e.pad.length-1;ut<=vt;ut+=1)g(e.pad,ut,48);R(e.pad,0,e.msgbits),e.padnum=0;for(var it=e.lc4b?5:1,_t=~~(vr(e.msgbits.length/8)*8),et=C(e.dmod-it);_t<=et;_t+=8)R(e.pad,_t,d(e.padstrs,e.padnum)),e.padnum=(e.padnum+1)%2;e.cws=a(e.dcws);for(var Ht=0,Gt=e.cws.length-1;Ht<=Gt;Ht+=1){e.c=Ht,e.bpcw=8,e.lc4b&&e.c==e.cws.length-1&&(e.bpcw=4),e.cwb=S(e.pad,e.c*8,e.bpcw),e.cw=0;for(var Ot=0,ar=e.bpcw-1;Ot<=ar;Ot+=1)e.i=Ot,e.cw=C(e.cw+~~v1(2,e.bpcw-e.i-1)*(d(e.cwb,e.i)-48));g(e.cws,e.c,e.cw)}if(e.lc4b){var Sr=e.cws,ir=e.cws;g(Sr,ir.length-1,d(Sr,ir.length-1)<<4)}var gr=d(e.options,"debugcws")!==void 0;gr&&(r[t++]="bwipp.debugcws#21674",r[t++]=e.cws,Q()),r[t++]=1/0,r[t++]=1;for(var nr=0;nr<255;nr++){var Ir=r[t-1],er=Ir*2;if(r[t++]=er,er>=256){var ur=r[--t];r[t++]=ur^285}}e.rsalog=a(),e.rslog=a(256);for(var Kt=1;Kt<=255;Kt+=1)g(e.rslog,d(e.rsalog,Kt),Kt);e.rsprod=function(){var Ve=r[t-1],yt=r[t-2];if(Ve!=0&&yt!=0){var mr=d(e.rslog,r[--t]),jr=d(e.rsalog,C(mr+d(e.rslog,r[--t]))%255);r[t++]=jr}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Xt=0,fr=e.ecpb;Xt<fr;Xt++)r[t++]=0;e.coeffs=a();for(var Mr=0,Ur=e.ecpb-1;Mr<=Ur;Mr+=1){e.i=Mr,g(e.coeffs,e.i+1,d(e.coeffs,e.i));for(var ms=e.i;ms>=1;ms-=1){e.j=ms,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var Ft=r[--t],Vt=r[--t],tr=r[--t];g(r[--t],tr,bn(Vt,Ft))}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var br=r[--t],or=r[--t];g(r[--t],or,br)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1),e.rscodes=function(){e.rscws=r[--t],e.rsnd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Ve=0,yt=e.ecpb;Ve<yt;Ve++)r[t++]=0;e.rscws=a();for(var mr=0,jr=e.rsnd-1;mr<=jr;mr+=1){e.m=mr,e.k=d(e.rscws,e.m);for(var gs=0,ln=e.ecpb-1;gs<=ln;gs+=1){e.j=gs,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=d(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var cn=r[--t],Rn=r[--t];g(r[--t],Rn,bn(cn,d(e.rscws,e.m+e.j+1)))}}r[t++]=S(e.rscws,e.rsnd,e.ecpb)},e.dcwsb=a(C(e.ecb1+e.ecb2)),e.ecwsb=a(C(e.ecb1+e.ecb2));for(var Br=0,lr=e.ecb1-1;Br<=lr;Br+=1){e.i=Br,g(e.dcwsb,e.i,S(e.cws,e.i*e.dcpb,e.dcpb)),r[t++]=e.ecwsb,r[t++]=e.i,r[t++]=d(e.dcwsb,e.i),e.rscodes();var Lt=r[--t],yr=r[--t];g(r[--t],yr,Lt)}for(var ns=0,xs=e.ecb2-1;ns<=xs;ns+=1){e.i=ns,g(e.dcwsb,C(e.ecb1+e.i),S(e.cws,C(e.ecb1*e.dcpb+e.i*(e.dcpb+1)),e.dcpb+1)),r[t++]=e.ecwsb,r[t++]=C(e.ecb1+e.i),r[t++]=d(e.dcwsb,C(e.ecb1+e.i)),e.rscodes();var js=r[--t],Gr=r[--t];g(r[--t],Gr,js)}e.cws=a(e.ncws),e.cw=0;for(var Bs=0,ws=e.dcpb;Bs<=ws;Bs+=1){e.i=Bs;for(var Ps=0,us=C(e.ecb1+e.ecb2)-1;Ps<=us;Ps+=1)e.j=Ps,e.i<d(e.dcwsb,e.j).length&&(g(e.cws,e.cw,d(d(e.dcwsb,e.j),e.i)),e.cw=e.cw+1)}for(var Ns=0,Ds=e.ecpb-1;Ns<=Ds;Ns+=1){e.i=Ns;for(var Cs=0,qs=C(e.ecb1+e.ecb2)-1;Cs<=qs;Cs+=1)e.j=Cs,g(e.cws,e.cw,d(d(e.ecwsb,e.j),e.i)),e.cw=e.cw+1}if(e.rbit>0&&(e.pad=a(e.cws.length+1),R(e.pad,0,e.cws),g(e.pad,e.pad.length-1,0),e.cws=e.pad),e.lc4b){var Ys=e.cws,en=e.dcws;g(Ys,en-1,d(Ys,en-1)>>>4);for(var wn=e.dcws-1,Ms=e.ncws-2;wn<=Ms;wn+=1)e.i=wn,g(e.cws,e.i,(d(e.cws,e.i)&15)<<4),g(e.cws,e.i,d(e.cws,e.i+1)>>>4&15|d(e.cws,e.i));g(e.cws,e.ncws-1,(d(e.cws,e.ncws-1)&15)<<4)}var On=d(e.options,"debugecc")!==void 0;On&&(r[t++]="bwipp.debugecc#21776",r[t++]=e.cws,Q()),r[t++]=1/0;for(var Vs=0,$n=e.rows*e.cols;Vs<$n;Vs++)r[t++]=-1;if(e.pixs=a(),e.qmv=function(){var Ve=r[--t],yt=r[--t];r[t++]=C(yt+Ve*e.cols)},W(e.format,"full"))for(var Us=8,An=e.cols-9;Us<=An;Us+=1){e.i=Us,r[t++]=e.pixs,r[t++]=e.i,r[t++]=6,e.qmv();var zn=r[--t];g(r[--t],zn,(e.i+1)%2),r[t++]=e.pixs,r[t++]=6,r[t++]=e.i,e.qmv();var Ln=r[--t];g(r[--t],Ln,(e.i+1)%2)}if(W(e.format,"micro"))for(var tn=8,Wn=e.cols-1;tn<=Wn;tn+=1){e.i=tn,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var rn=r[--t];g(r[--t],rn,(e.i+1)%2),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var kn=r[--t];g(r[--t],kn,(e.i+1)%2)}if(W(e.format,"rmqr")){for(var Os=3,ka=e.cols-4;Os<=ka;Os+=1){e.i=Os,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var $s=r[--t];g(r[--t],$s,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var _a=r[--t];g(r[--t],_a,(e.i+1)%2)}for(var Fs=3,ra=e.rows-4;Fs<=ra;Fs+=1){e.i=Fs,r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var zs=r[--t];g(r[--t],zs,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var ca=r[--t];g(r[--t],ca,(e.i+1)%2)}for(var pn=e.asp2-1,Zt=C(e.asp3-e.asp2),ts=e.cols-13;Zt<0?pn>=ts:pn<=ts;pn+=Zt){e.i=pn;for(var Ss=3,Ls=e.rows-4;Ss<=Ls;Ss+=1){e.j=Ss,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var jn=r[--t];g(r[--t],jn,(e.j+1)%2)}}}e.fpat=a([a([1,1,1,1,1,1,1,0]),a([1,0,0,0,0,0,1,0]),a([1,0,1,1,1,0,1,0]),a([1,0,1,1,1,0,1,0]),a([1,0,1,1,1,0,1,0]),a([1,0,0,0,0,0,1,0]),a([1,1,1,1,1,1,1,0]),a([0,0,0,0,0,0,0,0])]),e.fsubpat=a([a([1,1,1,1,1,9,9,9]),a([1,0,0,0,1,9,9,9]),a([1,0,1,0,1,9,9,9]),a([1,0,0,0,1,9,9,9]),a([1,1,1,1,1,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9])]),e.fcorpat=a([a([1,1,1,9,9,9,9,9]),a([1,0,9,9,9,9,9,9]),a([1,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9])]),e.fnullpat=a([a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9]),a([9,9,9,9,9,9,9,9])]);var qr=new Map([["full",a([e.fpat,e.fpat,e.fpat,e.fnullpat])],["micro",a([e.fpat,e.fnullpat,e.fnullpat,e.fnullpat])],["rmqr",a([e.fpat,e.fcorpat,e.fcorpat,e.fsubpat])]]);e.fpatmap=qr,e.fpats=d(e.fpatmap,e.format);for(var mn=0;mn<=7;mn+=1){e.y=mn;for(var Nn=0;Nn<=7;Nn+=1){if(e.x=Nn,e.fpb0=d(d(d(e.fpats,0),e.y),e.x),e.fpb1=d(d(d(e.fpats,1),e.y),e.x),e.fpb2=d(d(d(e.fpats,2),e.y),e.x),e.fpb3=d(d(d(e.fpats,3),e.y),e.x),e.fpb0!=9&&e.y<e.rows){r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Qs=r[--t];g(r[--t],Qs,e.fpb0)}if(e.fpb1!=9){r[t++]=e.pixs,r[t++]=C(e.cols-e.x)-1,r[t++]=e.y,e.qmv();var Pa=r[--t];g(r[--t],Pa,e.fpb1)}if(e.fpb2!=9){r[t++]=e.pixs,r[t++]=e.x,r[t++]=C(e.rows-e.y)-1,e.qmv();var Rs=r[--t];g(r[--t],Rs,e.fpb2)}if(e.fpb3!=9){r[t++]=e.pixs,r[t++]=C(e.cols-e.x)-1,r[t++]=C(e.rows-e.y)-1,e.qmv();var k1=r[--t];g(r[--t],k1,e.fpb3)}}}if(e.algnpatfull=a([a([1,1,1,1,1]),a([1,0,0,0,1]),a([1,0,1,0,1]),a([1,0,0,0,1]),a([1,1,1,1,1])]),e.algnpatrmqr=a([a([1,1,1,9,9]),a([1,0,1,9,9]),a([1,1,1,9,9]),a([9,9,9,9,9]),a([9,9,9,9,9])]),e.putalgnpat=function(){e.py=r[--t],e.px=r[--t];for(var Ve=0;Ve<=4;Ve+=1){e.pb=Ve;for(var yt=0;yt<=4;yt+=1)if(e.pa=yt,e.algnb=d(d(e.algnpat,e.pb),e.pa),e.algnb!=9){r[t++]=e.pixs,r[t++]=C(e.px+e.pa),r[t++]=C(e.py+e.pb),e.qmv();var mr=r[--t];g(r[--t],mr,e.algnb)}}},W(e.format,"full")){e.algnpat=e.algnpatfull;for(var Kn=e.asp2-2,Ts=C(e.asp3-e.asp2),Ua=e.cols-13;Ts<0?Kn>=Ua:Kn<=Ua;Kn+=Ts)e.i=Kn,r[t++]=e.i,r[t++]=4,e.putalgnpat(),r[t++]=4,r[t++]=e.i,e.putalgnpat();for(var sn=e.asp2-2,Oa=C(e.asp3-e.asp2),Cn=e.cols-9;Oa<0?sn>=Cn:sn<=Cn;sn+=Oa){e.x=sn;for(var da=e.asp2-2,ua=C(e.asp3-e.asp2),l1=e.rows-9;ua<0?da>=l1:da<=l1;da+=ua)e.y=da,r[t++]=e.x,r[t++]=e.y,e.putalgnpat()}}if(W(e.format,"rmqr")){e.algnpat=e.algnpatrmqr;for(var At=e.asp2-2,Kr=C(e.asp3-e.asp2),as=e.cols-13;Kr<0?At>=as:At<=as;At+=Kr)e.i=At,r[t++]=e.i,r[t++]=0,e.putalgnpat(),r[t++]=e.i,r[t++]=e.rows-3,e.putalgnpat()}e.formatmapmicro=a([a([a([1,8])]),a([a([2,8])]),a([a([3,8])]),a([a([4,8])]),a([a([5,8])]),a([a([6,8])]),a([a([7,8])]),a([a([8,8])]),a([a([8,7])]),a([a([8,6])]),a([a([8,5])]),a([a([8,4])]),a([a([8,3])]),a([a([8,2])]),a([a([8,1])])]);var Hs=new Map([["full",a([a([a([0,8]),a([8,e.cols-1])]),a([a([1,8]),a([8,e.cols-2])]),a([a([2,8]),a([8,e.cols-3])]),a([a([3,8]),a([8,e.cols-4])]),a([a([4,8]),a([8,e.cols-5])]),a([a([5,8]),a([8,e.cols-6])]),a([a([7,8]),a([8,e.cols-7])]),a([a([8,8]),a([e.cols-8,8])]),a([a([8,7]),a([e.cols-7,8])]),a([a([8,5]),a([e.cols-6,8])]),a([a([8,4]),a([e.cols-5,8])]),a([a([8,3]),a([e.cols-4,8])]),a([a([8,2]),a([e.cols-3,8])]),a([a([8,1]),a([e.cols-2,8])]),a([a([8,0]),a([e.cols-1,8])])])],["micro",e.formatmapmicro],["rmqr",a([a([a([11,3]),a([e.cols-3,e.rows-6])]),a([a([11,2]),a([e.cols-4,e.rows-6])]),a([a([11,1]),a([e.cols-5,e.rows-6])]),a([a([10,5]),a([e.cols-6,e.rows-2])]),a([a([10,4]),a([e.cols-6,e.rows-3])]),a([a([10,3]),a([e.cols-6,e.rows-4])]),a([a([10,2]),a([e.cols-6,e.rows-5])]),a([a([10,1]),a([e.cols-6,e.rows-6])]),a([a([9,5]),a([e.cols-7,e.rows-2])]),a([a([9,4]),a([e.cols-7,e.rows-3])]),a([a([9,3]),a([e.cols-7,e.rows-4])]),a([a([9,2]),a([e.cols-7,e.rows-5])]),a([a([9,1]),a([e.cols-7,e.rows-6])]),a([a([8,5]),a([e.cols-8,e.rows-2])]),a([a([8,4]),a([e.cols-8,e.rows-3])]),a([a([8,3]),a([e.cols-8,e.rows-4])]),a([a([8,2]),a([e.cols-8,e.rows-5])]),a([a([8,1]),a([e.cols-8,e.rows-6])])])]]);e.formatmap=d(Hs,e.format),xe(e.formatmap,function(){xe(r[--t],function(){O(r[--t]),e.qmv(),g(e.pixs,r[--t],1)})}),W(e.format,"full")&&e.cols>=45?e.versionmap=a([a([a([e.cols-9,5]),a([5,e.cols-9])]),a([a([e.cols-10,5]),a([5,e.cols-10])]),a([a([e.cols-11,5]),a([5,e.cols-11])]),a([a([e.cols-9,4]),a([4,e.cols-9])]),a([a([e.cols-10,4]),a([4,e.cols-10])]),a([a([e.cols-11,4]),a([4,e.cols-11])]),a([a([e.cols-9,3]),a([3,e.cols-9])]),a([a([e.cols-10,3]),a([3,e.cols-10])]),a([a([e.cols-11,3]),a([3,e.cols-11])]),a([a([e.cols-9,2]),a([2,e.cols-9])]),a([a([e.cols-10,2]),a([2,e.cols-10])]),a([a([e.cols-11,2]),a([2,e.cols-11])]),a([a([e.cols-9,1]),a([1,e.cols-9])]),a([a([e.cols-10,1]),a([1,e.cols-10])]),a([a([e.cols-11,1]),a([1,e.cols-11])]),a([a([e.cols-9,0]),a([0,e.cols-9])]),a([a([e.cols-10,0]),a([0,e.cols-10])]),a([a([e.cols-11,0]),a([0,e.cols-11])])]):e.versionmap=a([]);for(var fs=e.versionmap,nn=0,Sn=fs.length;nn<Sn;nn++)xe(d(fs,nn),function(){O(r[--t]),e.qmv(),g(e.pixs,r[--t],0)});if(W(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.rows-8,e.qmv();var ja=r[--t];g(r[--t],ja,0)}var ct=a([function(){var Ve=r[--t],yt=r[--t];r[t++]=C(yt+Ve)%2},function(){var Ve=r[--t];r[t-1]=Ve;var yt=r[--t];r[t++]=yt%2},function(){t--;var Ve=r[--t];r[t++]=Ve%3},function(){var Ve=r[--t],yt=r[--t];r[t++]=C(yt+Ve)%3},function(){var Ve=r[--t],yt=r[--t];r[t++]=(~~(Ve/2)+~~(yt/3))%2},function(){var Ve=r[--t],yt=r[--t]*Ve;r[t++]=C(yt%2+yt%3)},function(){var Ve=r[--t],yt=r[--t]*Ve;r[t++]=C(yt%2+yt%3)%2},function(){var Ve=r[--t],yt=r[--t];r[t++]=C(yt*Ve%3+(yt+Ve)%2)%2}]),St=a([function(){var Ve=r[--t];r[t-1]=Ve;var yt=r[--t];r[t++]=yt%2},function(){var Ve=r[--t],yt=r[--t];r[t++]=(~~(Ve/2)+~~(yt/3))%2},function(){var Ve=r[--t],yt=r[--t]*Ve;r[t++]=C(yt%2+yt%3)%2},function(){var Ve=r[--t],yt=r[--t];r[t++]=C(yt*Ve%3+(yt+Ve)%2)%2}]),pr=a([function(){var Ve=r[--t],yt=r[--t];r[t++]=(~~(Ve/2)+~~(yt/3))%2}]),cr=new Map([["full",ct],["micro",St],["rmqr",pr]]);e.maskfuncs=d(cr,e.format),e.mask!=-1&&(e.maskfuncs=a([d(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=a(e.maskfuncs.length);for(var hr=0,Fr=e.masks.length-1;hr<=Fr;hr+=1){e.m=hr,e.mask=a(e.rows*e.cols);for(var dr=0,is=e.rows-1;dr<=is;dr+=1){e.j=dr;for(var Yr=0,Vr=e.cols-1;Yr<=Vr&&(e.i=Yr,r[t++]=e.i,r[t++]=e.j,d(e.maskfuncs,e.m)()!==!0);Yr+=1){var $r=r[--t];r[t++]=$r==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Jr=r[--t],vs=d(r[--t],Jr),rs=r[--t],Wr=rs&&vs==-1?1:0;r[t++]=Wr,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var os=r[t-3],Rr=r[t-1];g(r[t-2],Rr,os),t-=3}}g(e.masks,e.m,e.mask)}var Or=Ee(e.format,"rmqr")?1:2;for(e.posx=C(e.cols-Or),e.posy=e.rows-1,e.dir=-1,e.col=1,e.num=0;!(e.posx<0);){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Gs=r[--t];if(d(r[--t],Gs)==-1){var As=d(e.cws,~~(e.num/8)),xn=-(7-e.num%8);r[t++]=(xn<0?As>>>-xn:As<<xn)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Fn=r[t-3],fa=r[t-1];g(r[t-2],fa,Fn),t-=3,e.num=e.num+1}e.col==1?(e.col=0,e.posx=e.posx-1):(e.col=1,e.posx=e.posx+1,e.posy=C(e.posy+e.dir),(e.posy<0||e.posy>=e.rows)&&(e.dir=e.dir*-1,e.posy=C(e.posy+e.dir),e.posx=e.posx-2,W(e.format,"full")&&e.posx==6&&(e.posx=e.posx-1)))}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,xe(e.scrle,function(){var G1=r[t-1];if(G1>=5){var q1=r[--t],Xa=C(r[--t]+q1)-2;r[t++]=Xa,r[t++]=Xa}t--});var Ve=r[--t];e[r[--t]]=Ve,e.scr3=0;for(var yt=3,mr=e.scrle.length-3;yt<=mr;yt+=2)if(e.j=yt,d(e.scrle,e.j)%3==0){e.fact=~~(d(e.scrle,e.j)/3);for(var jr=S(e.scrle,e.j-2,5),gs=0,ln=jr.length;gs<ln;gs++)r[t++]=d(jr,gs)==e.fact;var cn=r[--t],Rn=r[--t];r[t-1]=Io(Rn,cn);var ha=r[--t],Sa=r[--t];r[--t]&&Sa&&ha&&(e.j==3||e.j+4>=e.scrle.length||d(e.scrle,e.j-3)>=4||d(e.scrle,e.j+3)>=4)&&(e.scr3=e.scr3+40)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0,e.rle=a(e.cols+1),e.lastpairs=a(e.cols),e.thispairs=a(e.cols),e.colsadd1=e.cols+1;for(var Ve=0,yt=e.cols-1;Ve<=yt;Ve+=1){e.i=Ve,r[t++]=1/0;var mr=e.cols;r[t++]=0,r[t++]=0;for(var jr=e.i,gs=mr,ln=mr*mr-1;gs<0?jr>=ln:jr<=ln;jr+=gs){var cn=d(e.sym,jr),Rn=r[--t];if(r[t++]=cn,W(Rn,cn)){var ha=r[--t],Sa=r[--t];r[t++]=Sa+1,r[t++]=ha}else{var G1=r[--t];r[t++]=1,r[t++]=G1}}t--;var q1=ys()+2;Wt(S(e.rle,0,q1-2)),e.evalfulln1n3(),e.n3=C(r[--t]+e.n3),e.n1=C(r[--t]+e.n1),t--,e.symrow=S(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Xa=e.symrow;r[t++]=0,r[t++]=0;for(var Y1=0,Ho=Xa.length;Y1<Ho;Y1++){var Zi=d(Xa,Y1),dt=r[--t];if(r[t++]=Zi,W(dt,Zi)){var Yt=r[--t],Lr=r[--t];r[t++]=Lr+1,r[t++]=Yt}else{var ot=r[--t];r[t++]=1,r[t++]=ot}}t--;var Ut=ys()+2;Wt(S(e.rle,0,Ut-2)),e.evalfulln1n3(),e.n3=C(r[--t]+e.n3),e.n1=C(r[--t]+e.n1),t--;var $t=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=$t;var Jt=d(e.symrow,0)==1?0:1,Zr=e.symrow;r[t++]=Jt;for(var ks=0,bs=Zr.length;ks<bs;ks++){var vn=d(Zr,ks),Xn=r[--t];r[t++]=C(Xn+vn),r[t++]=vn}if(t--,Wt(e.thispairs),t--,e.i>0){r[t++]=1/0,O(e.lastpairs),O(e.thispairs),r[t++]=e.n2;for(var pa=0,ma=e.cols;pa<ma;pa++){var Za=r[--t],Ii=r[--t];r[t++]=Za,r[t++]=Ii;var hi=r[t-1-e.colsadd1];if(!(C(r[--t]+hi)&3)){var V1=r[--t];r[t++]=V1+3}}e.n2=r[--t],cl()}}r[t++]="dark",r[t++]=0,xe(e.sym,function(){var eo=r[--t],Di=r[--t];r[t++]=C(Di+eo)});var Bi=r[--t];e[r[--t]]=Bi;var pi=e.cols;e.n4=~~(al(e.dark*100/(pi*pi)-50)/5)*10,r[t++]=C(e.n1+e.n2+e.n3+e.n4)},e.evalmicro=function(){e.sym=r[--t],e.dkrhs=0,e.dkbot=0;for(var Ve=1,yt=e.cols-1;Ve<=yt;Ve+=1){e.i=Ve,r[t++]="dkrhs",r[t++]=e.dkrhs,r[t++]=e.sym,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var mr=r[--t],jr=d(r[--t],mr),gs=r[--t];e[r[--t]]=C(gs+jr),r[t++]="dkbot",r[t++]=e.dkbot,r[t++]=e.sym,r[t++]=e.i,r[t++]=e.cols-1,e.qmv();var ln=r[--t],cn=d(r[--t],ln),Rn=r[--t];e[r[--t]]=C(Rn+cn)}e.dkrhs<=e.dkbot?r[t++]=-(e.dkrhs*16+e.dkbot):r[t++]=-(e.dkbot*16+e.dkrhs)},e.bestscore=999999999;for(var Qn=0,rr=e.masks.length-1;Qn<=rr;Qn+=1){e.m=Qn,e.masksym=a(e.rows*e.cols);for(var wr=0,Cr=e.rows*e.cols-1;wr<=Cr;wr+=1)e.i=wr,g(e.masksym,e.i,bn(d(e.pixs,e.i),d(d(e.masks,e.m),e.i)));e.masks.length!=1?(W(e.format,"full")?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t]):(r[t++]=e.masksym,e.evalmicro(),e.score=r[--t]),e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,W(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.cols-8,e.qmv();var ss=r[--t];g(r[--t],ss,1)}if(e.fmtvalsfull=a([21522,20773,24188,23371,17913,16590,20375,19104,30660,29427,32170,30877,26159,25368,27713,26998,5769,5054,7399,6608,1890,597,3340,2107,13663,12392,16177,14854,9396,8579,11994,11245]),e.fmtvalsmicro=a([17477,16754,20011,19228,21934,20633,24512,23287,26515,25252,28157,26826,30328,29519,31766,31009,1758,1001,3248,2439,5941,4610,7515,6252,9480,8255,12134,10833,13539,12756,16013,15290]),e.fmtvalsrmqr1=a([129714,124311,121821,115960,112748,108361,104707,99878,98062,90155,89697,82244,81360,74485,72895,66458,61898,61167,53413,53120,45844,44081,37499,36190,29814,27475,21785,19004,13992,10637,6087,2274,258919,257090,250376,249133,242105,241308,233686,233459,227035,223742,219060,215185,209925,207648,202090,199247,194591,190266,186736,181845,178881,173540,170926,165003,163235,156294,154828,148457,147325,139352,138770,131383]),e.fmtvalsrmqr2=a([133755,136542,142100,144433,149669,153472,158154,161519,167879,168162,175784,176525,183577,184892,191606,193363,196867,204326,204908,212809,213981,220408,221874,228759,230591,236442,239056,244469,247393,252228,255758,260139,942,7307,8897,15844,16752,24149,24607,32570,34322,39223,42877,47192,50380,56297,58787,64134,67798,71667,76217,79516,84488,87341,93031,95298,101738,102991,109573,111392,118708,118929,126683,127486]),W(e.format,"full")){e.ecid=d(a([1,0,3,2]),e.eclval),e.fmtval=d(e.fmtvalsfull,(e.ecid<<3)+e.bestmaskval);for(var zr=0,ls=e.formatmap.length-1;zr<=ls;zr+=1)e.i=zr,xe(d(e.formatmap,e.i),function(){var Ve=r[--t];r[t++]=e.pixs,O(Ve),e.qmv();var yt=e.fmtval,mr=-(14-e.i),jr=r[--t];g(r[--t],jr,(mr<0?yt>>>-mr:yt<<mr)&1)})}if(W(e.format,"micro")){e.symid=d(d(a([a([0]),a([1,2]),a([3,4]),a([5,6,7])]),~~((e.cols-11)/2)),e.eclval),e.fmtval=d(e.fmtvalsmicro,(e.symid<<2)+e.bestmaskval);for(var Xr=0,an=e.formatmap.length-1;Xr<=an;Xr+=1){e.i=Xr,r[t++]=e.pixs,O(d(d(e.formatmap,e.i),0)),e.qmv();var on=e.fmtval,Jn=-(14-e.i),Na=r[--t];g(r[--t],Na,(Jn<0?on>>>-Jn:on<<Jn)&1)}}if(W(e.format,"rmqr")){e.fmtvalu=(d(a([-1,0,-1,1]),e.eclval)<<5)+e.verind,e.fmtval1=d(e.fmtvalsrmqr1,e.fmtvalu),e.fmtval2=d(e.fmtvalsrmqr2,e.fmtvalu);for(var za=0,Wa=e.formatmap.length-1;za<=Wa;za+=1){e.i=za,r[t++]=e.pixs,O(d(d(e.formatmap,e.i),0)),e.qmv();var Ka=e.fmtval1,Ca=-(17-e.i),j1=r[--t];g(r[--t],j1,(Ca<0?Ka>>>-Ca:Ka<<Ca)&1),r[t++]=e.pixs,O(d(d(e.formatmap,e.i),1)),e.qmv();var Ja=e.fmtval2,N1=-(17-e.i),di=r[--t];g(r[--t],di,(N1<0?Ja>>>-N1:Ja<<N1)&1)}}if(e.vervals=a([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),W(e.format,"full")&&e.cols>=45){e.verval=d(e.vervals,~~((e.cols-17)/4)-7);for(var C1=0,ui=e.versionmap.length-1;C1<=ui;C1+=1)e.i=C1,xe(d(e.versionmap,e.i),function(){var Ve=r[--t];r[t++]=e.pixs,xe(Ve),e.qmv();var yt=e.verval,mr=-(17-e.i),jr=r[--t];g(r[--t],jr,(mr<0?yt>>>-mr:yt<<mr)&1)})}r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows*2/72,r[t++]="width",r[t++]=e.cols*2/72,r[t++]="borderleft",W(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderright",W(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="bordertop",W(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderbottom",W(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="opt",r[t++]=e.options;var fi=Pe();r[t++]=fi,e.dontdraw||xt(),e=s}function iU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.barcode.length>997&&(r[t++]="bwipp.swissqrcodeBadLength#22347",r[t++]="Swiss QR Code input must not exceed 997 digits",Q()),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,El();var o=r[--t];if(e[r[--t]]=o,g(e.args,"opt",e.options),r[t++]=e.args,!e.dontdraw){ee.save();var l=ee.currpos();ee.translate(l.x,l.y);var u=72/25.4;ee.scale(u,u),ee.save(),ee.newpath(),ee.moveto(0,0),ee.lineto(46,0),ee.lineto(46,46),ee.lineto(0,46),ee.closepath(),ee.moveto(19.5,19.5),ee.lineto(19.5,26.5),ee.lineto(26.5,26.5),ee.lineto(26.5,19.5),ee.closepath(),ee.clip(),ee.save(),ee.moveto(0,0);var f=46/d(e.args,"pixx")/2;ee.scale(f,f),xt(),ee.restore(),ee.restore(),ee.translate(19.5,19.5);var h=7/83;ee.scale(h,h),ee.newpath(),ee.moveto(6,6),ee.lineto(6,77),ee.lineto(77,77),ee.lineto(77,6),ee.closepath(),ee.moveto(49,18),ee.lineto(49,34),ee.lineto(65,34),ee.lineto(65,49),ee.lineto(49,49),ee.lineto(49,65),ee.lineto(34,65),ee.lineto(34,49),ee.lineto(18,49),ee.lineto(18,34),ee.lineto(34,34),ee.lineto(34,18),ee.closepath(),ee.setrgbcolor(0,0,0),ee.fill(),ee.restore()}e=s}function oU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","micro"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,El();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function lU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rmqr"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,El();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function cU(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.mode=-1,e.sam=-1,e.parse=!1,e.parsefnc=!1,e.legacyencoder=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.maxicodeEmptyData#22566",r[t++]="The data must not be empty",Q()),e.mode!=-1&&(e.mode<2||e.mode>6)&&(r[t++]="bwipp.maxicodeBadMode#22570",r[t++]="Mode must be 2 to 6",Q()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>88){r[t-1]=!1;break}var o=e.sam%10;if(o<2||o>8){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.maxicodeBadSAM#22581",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 8 symbols',Q())}e.encoding="new",e.legacyencoder&&(e.encoding="legacy");var l=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=l,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var u=r[--t];if(e[r[--t]]=u,e.msglen=e.msg.length,e.mode==2||e.mode==3){e.barcode=Z(e.msglen),e.barlen=e.msglen;for(var f=0,h=e.msglen-1;f<=h;f+=1){if(e.i=f,d(e.msg,e.i)<0){e.barlen=e.i;break}g(e.barcode,e.i,d(e.msg,e.i))}if(e.difflen=e.msglen-e.barlen,e.fid="",e.barlen>=9){var p=e.barcode,m=d(p,7),x=d(p,8);W(S(p,0,7),"[)>01")&&m>=48&&m<=57&&x>=48&&x<=57&&(e.fid=S(e.barcode,0,9),e.barcode=S(e.barcode,9,e.barlen-9))}if(Rt(e.barcode,""),r[--t])if(e.pcode=r[--t],t--,e.mode==2){r[t++]=!0;for(var b=0;b<1;b++){var v=e.pcode.length;if(v>9||v==0){r[t-1]=!1;break}xe(e.pcode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode2PostCode#22635",r[t++]="A mode 2 postcode must not be empty or exceed 9 digits",Q())}else{r[t++]=!0;for(var w=0;w<1;w++){var y=e.pcode.length;if(y>6||y==0){r[t-1]=!1;break}xe(e.pcode,function(){var At=r[--t];if(!(At==32||At>=34&&At<=58||At>=65&&At<=90))return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode3PostCode#22649",r[t++]="A mode 3 postcode must not be empty or exceed 6 characters",Q())}else t--,r[t++]="bwipp.maxicodeExpectedPostCode#22653",r[t++]="Expected postcode followed by group separator character",Q();if(Rt(r[--t],""),r[--t]){e.ccode=r[--t],r[t-1]=!0;for(var A=0;A<1;A++){if(e.ccode.length!=3){r[t-1]=!1;break}xe(e.ccode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadCountryCode#22663",r[t++]="Country code must be three digits",Q())}else t--,r[t++]="bwipp.maxicodeExpectedCountryCode#22666",r[t++]="Expected country code followed by group separator character",Q();if(Rt(r[--t],""),r[--t]){e.scode=r[--t],r[t-1]=!0;for(var k=0;k<1;k++){if(e.scode.length!=3){r[t-1]=!1;break}xe(e.scode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadServiceClass#22676",r[t++]="Service class must be three digits",Q())}else t--,r[t++]="bwipp.maxicodeExpectedServiceClass#22679",r[t++]="Expected service class followed by group separator character",Q();e.barcode=r[--t];var E=Z(e.barcode.length+e.fid.length);R(E,0,e.fid),R(E,e.fid.length,e.barcode),e.barcode=E,e.barlen=e.barcode.length,r[t++]=1/0;for(var j=e.barcode,N=0,I=j.length;N<I;N++)r[t++]=d(j,N);O(S(e.msg,e.msglen-e.difflen,e.difflen)),e.msg=a(),e.msglen=e.msg.length}e.eci=-1,e.pad=-2,e.ns=-3,e.la=-4,e.lb=-5,e.sa=-6,e.sb=-7,e.sc=-8,e.sd=-9,e.se=-10,e.sa2=-11,e.sa3=-12,e.lkc=-13,e.lkd=-14,e.lke=-15,e.pd2=-16,e.pd3=-17,e.charmaps=a([a([13,"`",192,224,0]),a(["A","a",193,225,1]),a(["B","b",194,226,2]),a(["C","c",195,227,3]),a(["D","d",196,228,4]),a(["E","e",197,229,5]),a(["F","f",198,230,6]),a(["G","g",199,231,7]),a(["H","h",200,232,8]),a(["I","i",201,233,9]),a(["J","j",202,234,10]),a(["K","k",203,235,11]),a(["L","l",204,236,12]),a(["M","m",205,237,13]),a(["N","n",206,238,14]),a(["O","o",207,239,15]),a(["P","p",208,240,16]),a(["Q","q",209,241,17]),a(["R","r",210,242,18]),a(["S","s",211,243,19]),a(["T","t",212,244,20]),a(["U","u",213,245,21]),a(["V","v",214,246,22]),a(["W","w",215,247,23]),a(["X","x",216,248,24]),a(["Y","y",217,249,25]),a(["Z","z",218,250,26]),a([e.eci,e.eci,e.eci,e.eci,e.eci]),a([28,28,28,28,e.pad]),a([29,29,29,29,e.pd2]),a([30,30,30,30,27]),a([e.ns,e.ns,e.ns,e.ns,e.ns]),a([" ","{",219,251,28]),a([e.pad,e.pad,220,252,29]),a(['"',"}",221,253,30]),a(["#","~",222,254,31]),a(["$",127,223,255,159]),a(["%",";",170,161,160]),a(["&","<",172,168,162]),a(["'","=",177,171,163]),a([40,">",178,175,164]),a([41,"?",179,176,165]),a(["*","[",181,180,166]),a(["+",92,185,183,167]),a([",","]",186,184,169]),a(["-","^",188,187,173]),a([".","_",189,191,174]),a(["/"," ",190,138,182]),a(["0",",",128,139,149]),a(["1",".",129,140,150]),a(["2","/",130,141,151]),a(["3",":",131,142,152]),a(["4","@",132,143,153]),a(["5","!",133,144,154]),a(["6","|",134,145,155]),a(["7",e.pd2,135,146,156]),a(["8",e.sa2,136,147,157]),a(["9",e.sa3,137,148,158]),a([":",e.pd3,e.la,e.la,e.la]),a([e.sb,e.sa," "," "," "]),a([e.sc,e.sc,e.lkc,e.sc,e.sc]),a([e.sd,e.sd,e.sd,e.lkd,e.sd]),a([e.se,e.se,e.se,e.se,e.lke]),a([e.lb,e.la,e.lb,e.lb,e.lb])]),e.charvals=a([new Map,new Map,new Map,new Map,new Map]);for(var M=0,B=e.charmaps.length-1;M<=B;M+=1){e.i=M,e.encs=d(e.charmaps,e.i);for(var F=0;F<=4;F+=1){e.j=F;var D=d(e.encs,e.j);if(r[t++]=D,W(oa(D),"stringtype")){var H=d(r[--t],0);r[t++]=H}g(d(e.charvals,e.j),r[--t],e.i)}}if(e.seta=d(e.charvals,0),e.setb=d(e.charvals,1),e.setc=d(e.charvals,2),e.setd=d(e.charvals,3),e.sete=d(e.charvals,4),r[t++]="maxlen",e.mode==5)r[t++]=77;else{var T=e.mode<=3?84:93;r[t++]=T}var _=r[--t];if(e[r[--t]]=_,W(e.encoding,"legacy")){r[t++]=1/0;for(var L=0,z=e.msglen+1;L<z;L++)r[t++]=0;e.nseq=a();for(var G=e.msglen-1;G>=0;G-=1){e.i=G;var K=d(e.msg,e.i);K>=48&&K<=57?g(e.nseq,e.i,d(e.nseq,e.i+1)+1):g(e.nseq,e.i,0)}for(e.nseq=S(e.nseq,0,e.msglen),e.prefixinset=function(){for(r[t++]=0;;){var At=r[t-1],Kr=r[t-2];if(At>=Kr.length)break;var as=r[t-1],Hs=r[t-2],fs=r[t-3],nn=d(fs,d(Hs,as))!==void 0;if(nn){var Sn=r[--t];r[t++]=Sn+1}else break}var ja=r[--t];r[t-1]=ja;var ct=r[--t];r[t-1]=ct},e.enc=function(){var At=r[--t];g(e.out,e.j,d(At,r[--t])),e.j=e.j+1},e.out=a(144),e.i=0,e.j=0,e.cset="seta";;){if(e.i==e.msglen){Ee(e.cset,"seta")&&Ee(e.cset,"setb")&&e.out.length<e.maxlen&&(r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta");break}for(;;){if(d(e.msg,e.i)<=-1e6){r[t++]=e.eci,r[t++]=e[e.cset],e.enc();var oe=-d(e.msg,e.i)-1e6;if(r[t++]=oe,oe<=31){var V=r[--t];r[t++]=V&63,Wt(a(1))}else{var Y=r[t-1];if(Y<=1023){var ie=r[--t];r[t++]=ie>>>6&31|32,r[t++]=ie&63,Wt(a(2))}else{var de=r[t-1];if(de<=32767){var re=r[--t];r[t++]=re>>>12&47|48,r[t++]=re>>>6&63,r[t++]=re&63,Wt(a(3))}else{var ne=r[--t];r[t++]=ne>>>18&55|56,r[t++]=ne>>>12&63,r[t++]=ne>>>6&63,r[t++]=ne&63,Wt(a(4))}}}var le=r[--t];R(e.out,e.j,le),e.j=le.length+e.j,e.i=e.i+1;break}if(d(e.nseq,e.i)>=9){var ue=S(e.msg,e.i,9);r[t++]=0;for(var Me=0,pe=ue.length;Me<pe;Me++){var Fe=r[--t];r[t++]=C(Fe+(d(ue,Me)-48))*10}var Ce=r[--t];r[t++]=~~(Ce/10);for(var ve=0;ve<4;ve++){var Be=r[--t];r[t++]=Be&63,r[t++]=Be>>>6}r[t++]=d(e[e.cset],e.ns);for(var Ue=0;Ue<=10;Ue+=2){var Xe=r[t-1-Ue];r[t++]=Xe}Wt(a(6)),Es(7,1);for(var Re=0;Re<6;Re++)t--;R(e.out,e.j,r[--t]),e.i=e.i+9,e.j=e.j+6;break}e.char1=d(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=d(e.msg,e.i+1):r[t++]=-99;var Ge=r[--t];e[r[--t]]=Ge,r[t++]="char3",e.i+2<e.msglen?r[t++]=d(e.msg,e.i+2):r[t++]=-99;var Oe=r[--t];e[r[--t]]=Oe;var Le=d(e[e.cset],e.char1)!==void 0;if(Le){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var rt=d(e.setb,e.char1)!==void 0;if(W(e.cset,"seta")&&rt){var Se=d(e.setb,e.char2)!==void 0;Se?(r[t++]=e.lb,r[t++]=e.seta,e.enc(),e.cset="setb"):(r[t++]=e.sb,r[t++]=e.seta,e.enc(),r[t++]=e.char1,r[t++]=e.setb,e.enc(),e.i=e.i+1);break}var qe=d(e.seta,e.char1)!==void 0;if(W(e.cset,"setb")&&qe){var We=e.seta,Ke=e.msg,Te=e.i,He=e.msglen,st=e.i,gt=He-st,ht=4;if(4>He-st){var bt=gt;gt=ht,ht=bt}r[t++]="p",r[t++]=We,r[t++]=S(Ke,Te,ht),e.prefixinset();var Et=r[--t];e[r[--t]]=Et,e.p==1&&(r[t++]=e.sa,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sa2,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sa3,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),r[t++]=e.char3,r[t++]=e.seta,e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.la,r[t++]=e.setb,e.enc(),e.cset="seta");break}var kt=d(e.seta,e.char1)!==void 0;if(kt){r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta";break}var wt=d(e.setb,e.char1)!==void 0;if(wt){r[t++]=e.lb,r[t++]=e[e.cset],e.enc(),e.cset="setb";break}var Mt=d(e.setc,e.char1)!==void 0;Mt&&(e.setx="setc",e.sx=e.sc,e.lkx=e.lkc);var It=d(e.setd,e.char1)!==void 0;It&&(e.setx="setd",e.sx=e.sd,e.lkx=e.lkd);var zt=d(e.sete,e.char1)!==void 0;zt&&(e.setx="sete",e.sx=e.se,e.lkx=e.lke);var Bt=e[e.setx],jt=e.msg,U=e.i,$=e.msglen,P=e.i,q=$-P,X=4;if(4>$-P){var bt=q;q=X,X=bt}r[t++]="p",r[t++]=Bt,r[t++]=S(jt,U,X),e.prefixinset();var ce=r[--t];e[r[--t]]=ce,e.p==1&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char3,r[t++]=e[e.setx],e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.lkx,r[t++]=e[e.setx],e.enc(),e.cset=e.setx);break}}e.encmsg=S(e.out,0,e.j),e.padval=d(e[e.cset],e.pad)}if(W(e.encoding,"new")){e.haveb=!1,e.havec=!1,e.haved=!1,e.havee=!1,e.havei=!1;for(var te=0,ye=e.msglen-1;te<=ye;te+=1)if(e.c=d(e.msg,te),e.c<=-1e6)e.havei=!0;else if((e.c<28||e.c>30)&&e.c!=32){var J=d(e.setb,e.c)!==void 0;J&&(e.haveb=!0);var me=d(e.setc,e.c)!==void 0;me&&(e.havec=!0);var fe=d(e.setd,e.c)!==void 0;fe&&(e.haved=!0);var be=d(e.sete,e.c)!==void 0;be&&(e.havee=!0)}r[t++]=1/0,r[t++]=0,e.haveb&&(r[t++]=1),e.havee&&(r[t++]=4),e.havec&&(r[t++]=2),e.haved&&(r[t++]=3),e.priority=a(),e.priority_rest=S(e.priority,1,e.priority.length-1),e.latch_sequence=a([a([a([]),a([63]),a([58]),a([58]),a([58])]),a([a([63]),a([]),a([63]),a([63]),a([63])]),a([a([60,60]),a([60,60]),a([]),a([60,60]),a([60,60])]),a([a([61,61]),a([61,61]),a([61,61]),a([]),a([61,61])]),a([a([62,62]),a([62,62]),a([62,62]),a([62,62]),a([])])]),e.latch_length=a([a([0,1,1,1,1]),a([1,0,1,1,1]),a([2,2,0,2,2]),a([2,2,2,0,2]),a([2,2,2,2,0])]),e.max_int=2147483647,r[t++]=1/0;for(var se=0;se<16;se++)r[t++]=a([0,0,0,0,0]);e.best_length=a(),r[t++]=1/0;for(var ge=0;ge<16;ge++)r[t++]=a([0,0,0,0,0]);e.best_origin=a(),r[t++]=1/0;for(var je=0,he=e.msglen;je<he;je++){r[t++]=1/0;for(var ke=0;ke<5;ke++)r[t++]=0;var we=a();r[t++]=we}e.prior_code_set=a(),r[t++]=1/0;for(var Ne=0,ze=e.msglen;Ne<ze;Ne++){r[t++]=1/0;for(var _e=0;_e<5;_e++)r[t++]=0;var Je=a();r[t++]=Je}if(e.path_op=a(),e.out_eci=function(){var At=-e.c-1e6;if(r[t++]=At,At<1024){var Kr=r[--t]<32?2:3;r[t++]=Kr}else{var as=r[--t]<32768?4:5;r[t++]=as}},e.enc_eci=function(){var At=-e.c-1e6;if(r[t++]=At,At>=32){var Kr=r[t-1];if(Kr<1024){var as=r[--t];r[t++]=as>>>6|32,r[t++]=as&63}else{var Hs=r[t-1];if(Hs<32768){var fs=r[--t];r[t++]=fs>>>12|48,r[t++]=fs>>>6&63,r[t++]=fs&63}else{var nn=r[--t];r[t++]=nn>>>18|56,r[t++]=nn>>>12&63,r[t++]=nn>>>6&63,r[t++]=nn&63}}}},e.enc_ns=function(){var At=S(e.msg,e.n,9);r[t++]=0;for(var Kr=0,as=At.length;Kr<as;Kr++){var Hs=r[--t];r[t++]=C(d(At,Kr)-48+Hs*10)}var fs=r[--t];r[t++]=fs>>>24,r[t++]=fs>>>18&63,r[t++]=fs>>>12&63,r[t++]=fs>>>6&63,r[t++]=fs&63},e.enc_sha2=function(){r[t++]=d(e.seta,e.c),r[t++]=d(e.seta,d(e.msg,e.n+1))},e.enc_sha3=function(){r[t++]=d(e.seta,e.c),r[t++]=d(e.seta,d(e.msg,e.n+1)),r[t++]=d(e.seta,d(e.msg,e.n+2))},r[t++]=1/0,e.havei){var at=new Map([["can",function(){r[t++]=e.c<=-1e6}],["intake",1],["output",function(){e.out_eci()}],["sets",31],["enc",function(){r[t++]=27,e.enc_eci()}]]);r[t++]=at}var nt=new Map([["can",function(){r[t++]=e.digits>=9}],["intake",9],["output",function(){r[t++]=6}],["sets",31],["enc",function(){r[t++]=31,e.enc_ns()}]]),Ae=new Map([["can",function(){var At=d(e.seta,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",1],["enc",function(){r[t++]=d(e.seta,e.c)}]]);if(r[t++]=nt,r[t++]=Ae,e.haveb){var Ye=new Map([["can",function(){var At=d(e.setb,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",2],["enc",function(){r[t++]=d(e.setb,e.c)}]]);r[t++]=Ye}if(e.havec){var Qe=new Map([["can",function(){var At=d(e.setc,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",4],["enc",function(){r[t++]=d(e.setc,e.c)}]]);r[t++]=Qe}if(e.haved){var Ze=new Map([["can",function(){var At=d(e.setd,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",8],["enc",function(){r[t++]=d(e.setd,e.c)}]]);r[t++]=Ze}if(e.havee){var pt=new Map([["can",function(){var At=d(e.sete,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",16],["enc",function(){r[t++]=d(e.sete,e.c)}]]);r[t++]=pt}var mt=new Map([["can",function(){r[t++]=e.num_a>=1}],["intake",1],["output",function(){r[t++]=2}],["sets",2],["enc",function(){r[t++]=59,r[t++]=d(e.seta,e.c)}]]),ut=new Map([["can",function(){r[t++]=e.num_a>=2}],["intake",2],["output",function(){r[t++]=3}],["sets",2],["enc",function(){r[t++]=56,e.enc_sha2()}]]),vt=new Map([["can",function(){r[t++]=e.num_a>=3}],["intake",3],["output",function(){r[t++]=4}],["sets",2],["enc",function(){r[t++]=57,e.enc_sha3()}]]);if(r[t++]=mt,r[t++]=ut,r[t++]=vt,e.haveb){var it=new Map([["can",function(){var At=d(e.setb,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",1],["enc",function(){r[t++]=59,r[t++]=d(e.setb,e.c)}]]);r[t++]=it}if(e.havec){var _t=new Map([["can",function(){var At=d(e.setc,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",27],["enc",function(){r[t++]=60,r[t++]=d(e.setc,e.c)}]]);r[t++]=_t}if(e.haved){var et=new Map([["can",function(){var At=d(e.setd,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",23],["enc",function(){r[t++]=61,r[t++]=d(e.setd,e.c)}]]);r[t++]=et}if(e.havee){var Ht=new Map([["can",function(){var At=d(e.sete,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",15],["enc",function(){r[t++]=62,r[t++]=d(e.sete,e.c)}]]);r[t++]=Ht}e.op_tab=a();var Gt=e.op_tab;r[t++]=0;for(var Ot=0,ar=Gt.length;Ot<ar;Ot++){var Sr=r[--t];g(d(Gt,Ot),"idx",Sr),r[t++]=Sr+1}r[t-1]=1/0;for(var ir=a([1,2,4,8,16]),gr=0,nr=ir.length;gr<nr;gr++){e.n=d(ir,gr),r[t++]=1/0;for(var Ir=e.op_tab,er=0,ur=Ir.length;er<ur;er++){var Kt=d(Ir,er);r[t++]=Kt,Io(d(Kt,"sets"),e.n)==0&&t--}var Xt=a();r[t++]=Xt}e.code_set_operations=a(),e.get_best_length=function(){e.latch_length_s=d(e.latch_length,e.state),r[t++]=e.max_int,xe(d(e.code_set_operations,e.state),function(){if(e.op=r[--t],d(e.op,"can")()===!0)return!0;if(r[--t]){if(e.m=C(e.n-d(e.op,"intake"))&15,e.org=d(d(e.best_origin,e.m),e.state),r[t++]=C(d(d(e.best_length,e.m),e.org)+d(e.latch_length_s,e.org)),d(e.op,"output")()===!0)return!0;var At=r[--t],Kr=r[--t],as=r[t-1];if(r[t++]=C(Kr+At),as>C(Kr+At)){var Hs=r[--t],fs=r[--t];g(e.path_op_0,e.state,d(e.op,"idx")),g(e.prior_code_set_0,e.state,e.org),r[t++]=Hs,r[t++]=fs}t--}})},e.get_best_origin=function(){e.latch_length_s=d(e.latch_length,e.state),e.orglen=C(d(e.best_length_0,0)+d(e.latch_length_s,0));var At=e.priority_rest;r[t++]=0;for(var Kr=0,as=At.length;Kr<as;Kr++){e.p=d(At,Kr);var Hs=C(d(e.best_length_0,e.p)+d(e.latch_length_s,e.p));r[t++]=Hs,Hs<e.orglen?(e.orglen=r[--t],r[t-1]=e.p):t--}},e.digits=0,e.num_a=0;for(var fr=0,Mr=e.msglen-1;fr<=Mr;fr+=1){e.n=fr,e.c=d(e.msg,e.n),r[t++]="digits",e.c>=48&&e.c<58?r[t++]=e.digits+1:r[t++]=0;var Ur=r[--t];e[r[--t]]=Ur;var ms=d(e.seta,e.c)!==void 0;r[t++]="num_a",ms?r[t++]=e.num_a+1:r[t++]=0;var Ft=r[--t];e[r[--t]]=Ft,e.path_op_0=d(e.path_op,e.n),e.prior_code_set_0=d(e.prior_code_set,e.n),e.best_length_0=d(e.best_length,e.n&15),e.best_origin_0=d(e.best_origin,e.n&15);for(var Vt=e.priority,tr=0,br=Vt.length;tr<br;tr++){e.state=d(Vt,tr),r[t++]=e.best_length_0,r[t++]=e.state,e.get_best_length();var or=r[--t],Br=r[--t];g(r[--t],Br,or)}for(var lr=e.priority,Lt=0,yr=lr.length;Lt<yr;Lt++){e.state=d(lr,Lt),r[t++]=e.best_origin_0,r[t++]=e.state,e.get_best_origin();var ns=r[--t],xs=r[--t];g(r[--t],xs,ns)}}e.n=e.msglen;var js=e.priority;r[t++]=0,r[t++]=e.max_int;for(var Gr=0,Bs=js.length;Gr<Bs;Gr++){var ws=d(js,Gr),Ps=d(e.best_length_0,ws),us=r[t-1];r[t++]=ws,r[t++]=Ps,wa(Ps,us)&&Es(4,2),t-=2}e.j=r[--t],e.state=r[--t],e.pad_code=a([33,33,0,0,28]),r[t++]="final_code_set",d(e.pad_code,e.state)==0?r[t++]=0:r[t++]=e.state;var Ns=r[--t];if(e[r[--t]]=Ns,d(e.pad_code,e.state)==0&&wa(e.j,e.maxlen)){var Ds=a(e.j+1);g(Ds,e.j,58),r[t++]=Ds}else r[t++]=a(e.j);for(e.padval=d(e.pad_code,e.final_code_set),e.len=e.j;!(e.n<=0||(e.pcs=d(d(e.prior_code_set,e.n-1),e.state),e.op_idx=d(d(e.path_op,e.n-1),e.state),e.op=d(e.op_tab,e.op_idx),e.n=C(e.n-d(e.op,"intake")),e.c=d(e.msg,e.n),e.enc=d(e.op,"enc"),r[t++]=1/0,e.enc()===!0));){e.output=a(),e.latch=d(d(e.latch_sequence,e.state),e.pcs),e.len=C(e.len-e.latch.length-e.output.length);var Cs=r[--t],qs=e.len,Ys=e.latch;R(Cs,qs,Ys),R(Cs,C(qs+Ys.length),e.output),e.state=e.pcs,r[t++]=Cs}e.encmsg=r[--t]}r[t++]="sami",e.sam!=-1?r[t++]=a([d(e.seta,e.pad),(~~(e.sam/10)-1)*8+(e.sam%10-1)]):r[t++]=a([]);var en=r[--t];if(e[r[--t]]=en,r[t++]=1/0,O(e.sami),O(e.encmsg),e.encmsg=a(),e.mode==2||e.mode==3){e.encmsg.length>84&&(r[t++]="bwipp.maxicodeMode23TooLong#23176",r[t++]="The secondary message is too long",Q());var wn=Tr(Z(4),"0000"),Ms=qt(Z(4),~~e.mode,2);R(wn,4-Ms.length,Ms),e.mdb=wn;var On=Tr(Z(10),"0000000000"),Vs=qt(Z(10),Ie(e.ccode),2);R(On,10-Vs.length,Vs),e.ccb=On;var $n=Tr(Z(10),"0000000000"),Us=qt(Z(10),Ie(e.scode),2);if(R($n,10-Us.length,Us),e.scb=$n,e.pcb=Tr(Z(36),"000000000000000000000000000000000000"),e.mode==2){if(W(e.ccode,"840")&&e.pcode.length==5){var An=Tr(Z(9),"     0000");R(An,0,e.pcode),e.pcode=An}var zn=qt(Z(6),e.pcode.length,2);R(e.pcb,6-zn.length,zn);var Ln=qt(Z(30),Ie(e.pcode),2);R(e.pcb,36-Ln.length,Ln)}else{r[t++]=1/0;var tn=Tr(Z(6),"      ");r[t++]=tn,r[t++]=tn,r[t++]=0,e.pcode.length>6?r[t++]=S(e.pcode,0,6):r[t++]=e.pcode;var Wn=r[--t],rn=r[--t];R(r[--t],rn,Wn),xe(r[--t],function(){var At=d(e.seta,r[--t]);r[t++]=At}),e.pccw=a();for(var kn=0;kn<=5;kn+=1){e.i=kn;var Os=qt(Z(6),d(e.pccw,e.i),2);R(e.pcb,6*e.i+6-Os.length,Os)}}e.scm=Z(60),R(e.scm,2,e.mdb),R(e.scm,38,S(e.pcb,0,4)),R(e.scm,30,S(e.pcb,4,6)),R(e.scm,24,S(e.pcb,10,6)),R(e.scm,18,S(e.pcb,16,6)),R(e.scm,12,S(e.pcb,22,6)),R(e.scm,6,S(e.pcb,28,6)),R(e.scm,0,S(e.pcb,34,2)),R(e.scm,52,S(e.ccb,0,2)),R(e.scm,42,S(e.ccb,2,6)),R(e.scm,36,S(e.ccb,8,2)),R(e.scm,54,S(e.scb,0,6)),R(e.scm,48,S(e.scb,6,4)),e.pri=a([0,0,0,0,0,0,0,0,0,0]);for(var ka=0;ka<=59;ka+=1)e.i=ka,e.ps=~~(e.i/6),e.ep=~~v1(2,5-e.i%6)*(d(e.scm,e.i)-48),g(e.pri,e.ps,C(d(e.pri,e.ps)+e.ep));r[t++]=1/0;for(var $s=0;$s<84;$s++)r[t++]=e.padval;e.sec=a(),R(e.sec,0,e.encmsg)}if(e.mode==4||e.mode==5||e.mode==6||e.mode==-1){if(e.mode==-1){var _a=e.encmsg.length<=77?5:4;e.mode=_a}r[t++]=1/0;for(var Fs=e.mode==5?78:94,ra=0,zs=Fs;ra<zs;ra++)r[t++]=e.padval;e.cws=a(),e.encmsg.length>e.cws.length-1&&(r[t++]="bwipp.maxicodeMode56TooLong#23243",r[t++]="The message is too long",Q()),g(e.cws,0,e.mode),R(e.cws,1,e.encmsg),e.pri=S(e.cws,0,10),e.sec=S(e.cws,10,e.cws.length-10)}r[t++]=1/0,r[t++]=1;for(var ca=0;ca<63;ca++){var pn=r[t-1],Zt=pn*2;if(r[t++]=Zt,Zt>=64){var ts=r[--t];r[t++]=ts^67}}e.rsalog=a(),e.rslog=a(64);for(var Ss=1;Ss<=63;Ss+=1)g(e.rslog,d(e.rsalog,Ss),Ss);e.rsprod=function(){var At=r[t-1],Kr=r[t-2];if(At!=0&&Kr!=0){var as=d(e.rslog,r[--t]),Hs=d(e.rsalog,C(as+d(e.rslog,r[--t]))%63);r[t++]=Hs}else t-=2,r[t++]=0},e.rscodes=function(){e.rsnum=r[--t],e.cwb=r[--t],r[t++]=1/0,r[t++]=1;for(var At=0,Kr=e.rsnum;At<Kr;At++)r[t++]=0;e.coeffs=a();for(var as=1,Hs=e.rsnum;as<=Hs;as+=1){e.i=as,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var fs=e.i-1;fs>=1;fs-=1){e.j=fs,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var nn=r[--t],Sn=r[--t],ja=r[--t];g(r[--t],ja,bn(Sn,nn))}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var ct=r[--t],St=r[--t];g(r[--t],St,ct)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1),r[t++]=1/0;for(var pr=0,cr=e.rsnum;pr<cr;pr++)r[t++]=0;e.ecb=a();for(var hr=0,Fr=e.cwb.length-1;hr<=Fr;hr+=1){e.t=bn(d(e.cwb,hr),d(e.ecb,0));for(var dr=e.ecb.length-1;dr>=0;dr-=1){e.i=dr,e.p=e.ecb.length-e.i-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=d(e.coeffs,e.i),e.rsprod();var is=r[--t],Yr=r[--t];g(r[--t],Yr,is),e.i>0&&g(e.ecb,e.p,bn(d(e.ecb,e.p+1),d(e.ecb,e.p)))}}r[t++]=e.ecb},r[t++]=1/0;for(var Ls=0,jn=e.sec.length-1;Ls<=jn;Ls+=2)r[t++]=d(e.sec,Ls);e.seco=a(),r[t++]=1/0;for(var qr=1,mn=e.sec.length-1;qr<=mn;qr+=2)r[t++]=d(e.sec,qr);e.sece=a();var Nn=e.sec.length==84?20:28;e.scodes=Nn,r[t++]="secochk",r[t++]=e.seco,r[t++]=e.scodes,e.rscodes();var Qs=r[--t];e[r[--t]]=Qs,r[t++]="secechk",r[t++]=e.sece,r[t++]=e.scodes,e.rscodes();var Pa=r[--t];e[r[--t]]=Pa,r[t++]=1/0;for(var Rs=0,k1=e.scodes-1;Rs<=k1;Rs+=1)r[t++]=d(e.secochk,Rs),r[t++]=d(e.secechk,Rs);e.secchk=a(),r[t++]=1/0,O(e.pri),r[t++]=e.pri,r[t++]=10,e.rscodes(),O(r[--t]),O(e.sec),O(e.secchk),e.codewords=a();var Kn=d(e.options,"debugcws")!==void 0;Kn&&(r[t++]="bwipp.debugcws#23325",r[t++]=e.codewords,Q()),r[t++]=1/0;for(var Ts=0;Ts<864;Ts++)r[t++]=0;e.mods=a();for(var Ua=0;Ua<=143;Ua+=1){e.i=Ua,r[t++]=1/0;for(var sn=qt(Z(6),d(e.codewords,e.i),2),Oa=0,Cn=sn.length;Oa<Cn;Oa++)r[t++]=d(sn,Oa)-48;e.cw=a(),R(e.mods,6*e.i+(6-e.cw.length),e.cw)}e.modmap=a([469,529,286,316,347,346,673,672,703,702,647,676,283,282,313,312,370,610,618,379,378,409,408,439,705,704,559,589,588,619,458,518,640,701,675,674,285,284,315,314,310,340,531,289,288,319,349,348,456,486,517,516,471,470,369,368,399,398,429,428,549,548,579,578,609,608,649,648,679,678,709,708,639,638,669,668,699,698,279,278,309,308,339,338,381,380,411,410,441,440,561,560,591,590,621,620,547,546,577,576,607,606,367,366,397,396,427,426,291,290,321,320,351,350,651,650,681,680,711,710,1,0,31,30,61,60,3,2,33,32,63,62,5,4,35,34,65,64,7,6,37,36,67,66,9,8,39,38,69,68,11,10,41,40,71,70,13,12,43,42,73,72,15,14,45,44,75,74,17,16,47,46,77,76,19,18,49,48,79,78,21,20,51,50,81,80,23,22,53,52,83,82,25,24,55,54,85,84,27,26,57,56,87,86,117,116,147,146,177,176,115,114,145,144,175,174,113,112,143,142,173,172,111,110,141,140,171,170,109,108,139,138,169,168,107,106,137,136,167,166,105,104,135,134,165,164,103,102,133,132,163,162,101,100,131,130,161,160,99,98,129,128,159,158,97,96,127,126,157,156,95,94,125,124,155,154,93,92,123,122,153,152,91,90,121,120,151,150,181,180,211,210,241,240,183,182,213,212,243,242,185,184,215,214,245,244,187,186,217,216,247,246,189,188,219,218,249,248,191,190,221,220,251,250,193,192,223,222,253,252,195,194,225,224,255,254,197,196,227,226,257,256,199,198,229,228,259,258,201,200,231,230,261,260,203,202,233,232,263,262,205,204,235,234,265,264,207,206,237,236,267,266,297,296,327,326,357,356,295,294,325,324,355,354,293,292,323,322,353,352,277,276,307,306,337,336,275,274,305,304,335,334,273,272,303,302,333,332,271,270,301,300,331,330,361,360,391,390,421,420,363,362,393,392,423,422,365,364,395,394,425,424,383,382,413,412,443,442,385,384,415,414,445,444,387,386,417,416,447,446,477,476,507,506,537,536,475,474,505,504,535,534,473,472,503,502,533,532,455,454,485,484,515,514,453,452,483,482,513,512,451,450,481,480,511,510,541,540,571,570,601,600,543,542,573,572,603,602,545,544,575,574,605,604,563,562,593,592,623,622,565,564,595,594,625,624,567,566,597,596,627,626,657,656,687,686,717,716,655,654,685,684,715,714,653,652,683,682,713,712,637,636,667,666,697,696,635,634,665,664,695,694,633,632,663,662,693,692,631,630,661,660,691,690,721,720,751,750,781,780,723,722,753,752,783,782,725,724,755,754,785,784,727,726,757,756,787,786,729,728,759,758,789,788,731,730,761,760,791,790,733,732,763,762,793,792,735,734,765,764,795,794,737,736,767,766,797,796,739,738,769,768,799,798,741,740,771,770,801,800,743,742,773,772,803,802,745,744,775,774,805,804,747,746,777,776,807,806,837,836,867,866,897,896,835,834,865,864,895,894,833,832,863,862,893,892,831,830,861,860,891,890,829,828,859,858,889,888,827,826,857,856,887,886,825,824,855,854,885,884,823,822,853,852,883,882,821,820,851,850,881,880,819,818,849,848,879,878,817,816,847,846,877,876,815,814,845,844,875,874,813,812,843,842,873,872,811,810,841,840,871,870,901,900,931,930,961,960,903,902,933,932,963,962,905,904,935,934,965,964,907,906,937,936,967,966,909,908,939,938,969,968,911,910,941,940,971,970,913,912,943,942,973,972,915,914,945,944,975,974,917,916,947,946,977,976,919,918,949,948,979,978,921,920,951,950,981,980,923,922,953,952,983,982,925,924,955,954,985,984,927,926,957,956,987,986,58,89,88,118,149,148,178,209,208,238,269,268,298,329,328,358,389,388,418,449,448,478,509,508,538,569,568,598,629,628,658,689,688,718,749,748,778,809,808,838,869,868,898,929,928,958,989,988]),e.pixs=a(864),e.j=0;for(var da=0,ua=e.mods.length-1;da<=ua;da+=1)e.i=da,d(e.mods,e.i)==1&&(g(e.pixs,e.j,d(e.modmap,e.i)),e.j=e.j+1);r[t++]=1/0,O(S(e.pixs,0,e.j)),r[t++]=28,r[t++]=29,r[t++]=280,r[t++]=281,r[t++]=311,r[t++]=457,r[t++]=488,r[t++]=500,r[t++]=530,r[t++]=670,r[t++]=700,r[t++]=677,r[t++]=707,e.pixs=a();var l1=new Map([["ren","renmaximatrix"],["pixs",e.pixs],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=l1,e.dontdraw||GU(),e=s}function Rf(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="full",e.readerinit=!1,e.layers=-1,e.eclevel=23,e.ecaddchars=3,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.aztecEmptyData#23462",r[t++]="The data must not be empty",Q()),(e.eclevel<5||e.eclevel>95)&&(r[t++]="bwipp.aztecInvalidEClevel#23466",r[t++]="The EC percentage must be from 5 to 95",Q()),e.ecaddchars<3&&(r[t++]="bwipp.aztecInvalidECaddChars#23470",r[t++]="The number of additional EC codewords must be 3 or more",Q()),Ee(e.format,"full")&&Ee(e.format,"compact")&&Ee(e.format,"rune")&&(r[t++]="bwipp.aztecInvalidFormat#23474",r[t++]="The format must be either full, compact or rune",Q()),W(e.format,"full")&&(e.readerinit&&(e.layers<1||e.layers>22)&&(r[t++]="bwipp.aztecFullInitInvalidLayers#23479",r[t++]="Full-range symbols for reader programming must specify from 1 to 22 layers",Q()),e.layers!=-1&&(e.layers<1||e.layers>32)&&(r[t++]="bwipp.aztecFullInvalidLayers#23482",r[t++]="Layers for full-range symbols must be from 1 to 32",Q())),W(e.format,"compact")&&(e.readerinit&&(e.layers!=-1&&e.layers!=1&&(r[t++]="bwipp.aztecCompactInitInvalidLayers#23489",r[t++]="Compact symbols for reader programming must have 1 layer",Q()),e.layers=1),e.layers!=-1&&(e.layers<1||e.layers>4)&&(r[t++]="bwipp.aztecCompactInvalidLayers#23494",r[t++]="Layers for compact symbols must be from 1 to 4",Q())),W(e.format,"rune")){e.layers!=-1&&(r[t++]="bwipp.aztecRuneInvalidLayers#23500",r[t++]="It is not valid to specify layers for runes",Q()),e.readerinit&&(r[t++]="bwipp.aztecRuneReaderInit#23503",r[t++]="Reader initialisation is not compactible with Aztec Runes",Q()),e.barcode.length==0&&(r[t++]="bwipp.aztecRuneNotNumeric#23506",r[t++]="Aztec runes must be numeric",Q()),xe(e.barcode,function(){var X=r[--t];(X<48||X>57)&&(r[t++]="bwipp.aztecRuneNotNumeric#23510",r[t++]="Aztec runes must be numeric",Q())});var n=Ie(e.barcode);(n<0||n>255)&&(r[t++]="bwipp.aztecRuneInvalid#23514",r[t++]="Aztec runes must be 0 to 255",Q())}e.fn1=-1;var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,e.U=0,e.L=1,e.M=2,e.P=3,e.D=4,e.B=5,e.lu=-2,e.ll=-3,e.lm=-4,e.lp=-5,e.ld=-6,e.su=-7,e.sp=-8,e.sb=-9,e.fl=-10,e.p2=-11,e.p3=-12,e.p4=-13,e.p5=-14,e.charmaps=a([a([e.sp,e.sp,e.sp,e.fl,e.sp]),a([32,32,32,13,32]),a(["A","a",1,e.p2,"0"]),a(["B","b",2,e.p3,"1"]),a(["C","c",3,e.p4,"2"]),a(["D","d",4,e.p5,"3"]),a(["E","e",5,"!","4"]),a(["F","f",6,'"',"5"]),a(["G","g",7,"#","6"]),a(["H","h",8,"$","7"]),a(["I","i",9,"%","8"]),a(["J","j",10,"&","9"]),a(["K","k",11,"'",","]),a(["L","l",12,40,"."]),a(["M","m",13,41,e.lu]),a(["N","n",27,"*",e.su]),a(["O","o",28,"+",-99]),a(["P","p",29,",",-99]),a(["Q","q",30,"-",-99]),a(["R","r",31,".",-99]),a(["S","s","@","/",-99]),a(["T","t",92,":",-99]),a(["U","u","^",";",-99]),a(["V","v","_","<",-99]),a(["W","w","`","=",-99]),a(["X","x","|",">",-99]),a(["Y","y","~","?",-99]),a(["Z","z",127,"[",-99]),a([e.ll,e.su,e.ll,"]",-99]),a([e.lm,e.lm,e.lu,"{",-99]),a([e.ld,e.ld,e.lp,"}",-99]),a([e.sb,e.sb,e.sb,e.lu,-99])]),e.charvals=a([new Map,new Map,new Map,new Map,new Map]);for(var l=0,u=e.charmaps.length-1;l<=u;l+=1){e.i=l,e.encs=d(e.charmaps,e.i);for(var f=0;f<=4;f+=1){e.j=f;var h=d(e.encs,e.j);if(r[t++]=h,W(oa(h),"stringtype")){var p=d(r[--t],0);r[t++]=p}g(d(e.charvals,e.j),r[--t],e.i)}}var m=new Map([[`\r
`,e.p2],[". ",e.p3],[", ",e.p4],[": ",e.p5]]);if(e.pcomp=m,e.e=1e6,e.latlen=a([a([0,5,5,10,5,10]),a([9,0,5,10,5,10]),a([5,5,0,5,10,10]),a([5,10,10,0,10,15]),a([4,9,9,14,0,14]),a([0,0,0,0,0,0])]),e.latseq=a([a([a([]),a([e.ll]),a([e.lm]),a([e.lm,e.lp]),a([e.ld]),a([e.sb])]),a([a([e.ld,e.lu]),a([]),a([e.lm]),a([e.lm,e.lp]),a([e.ld]),a([e.sb])]),a([a([e.lu]),a([e.ll]),a([]),a([e.lp]),a([e.lu,e.ld]),a([e.sb])]),a([a([e.lu]),a([e.lu,e.ll]),a([e.lu,e.lm]),a([]),a([e.lu,e.ld]),a([e.lu,e.sb])]),a([a([e.lu]),a([e.lu,e.ll]),a([e.lu,e.lm]),a([e.lu,e.lm,e.lp]),a([]),a([e.lu,e.sb])]),a([a([e.lu]),a([e.ll]),a([e.lm]),a([]),a([]),a([])])]),e.shftlen=a([a([e.e,e.e,e.e,5,e.e]),a([5,e.e,e.e,5,e.e]),a([e.e,e.e,e.e,5,e.e]),a([e.e,e.e,e.e,e.e,e.e]),a([4,e.e,e.e,4,e.e])]),e.msgbits="",Ee(e.format,"rune")&&e.raw&&(e.msgbits=e.barcode),Ee(e.format,"rune")&&!e.raw){e.charsize=function(){var X=r[t-1];if(X>=0){t--;var ce=d(a([5,5,5,5,4,8]),r[--t]);r[t++]=ce}else{var te=r[--t];r[t-1]=te;var ye=r[t-1];if(ye==e.fn1)r[t-1]=8;else{var J=-r[--t]-1e6;r[t++]=J,J==0&&(r[t-1]=1);var me=r[--t];r[t++]=(~~(ba(me)/ba(10))+1)*4+8}}},e.curlen=a([0,e.e,e.e,e.e,e.e,e.e]),e.curseq=a([a([]),a([]),a([]),a([]),a([]),a([])]),e.backto=e.U,e.lastchar="",xe(e.msg,function(){for(e.char=r[--t];;){e.imp=!1;for(var X=a([e.U,e.L,e.M,e.P,e.D,e.B]),ce=0,te=X.length;ce<te;ce++){e.x=d(X,ce);for(var ye=a([e.U,e.L,e.M,e.P,e.D,e.B]),J=0,me=ye.length;J<me;J++)if(e.y=d(ye,J),(e.x!=e.B||e.y==e.backto)&&(e.cost=C(d(e.curlen,e.x)+d(d(e.latlen,e.x),e.y)),e.cost<d(e.curlen,e.y))){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(d(e.curseq,e.x)),O(d(d(e.latseq,e.x),e.y));var fe=a(),be=r[--t];if(g(r[--t],be,fe),e.y==e.B){r[t++]="backto",e.x==e.P||e.x==e.D?r[t++]=e.U:r[t++]=e.x;var se=r[--t];e[r[--t]]=se}e.imp=!0}}if(!e.imp)break}e.nxtlen=a([e.e,e.e,e.e,e.e,e.e,e.e]),e.nxtseq=a(6);for(var ge=a([e.U,e.L,e.M,e.P,e.D,e.B]),je=0,he=ge.length;je<he;je++)for(e.x=d(ge,je);;){if(e.char>=0){if(e.x!=e.B){var ke=d(d(e.charvals,e.x),e.char)!==void 0;if(!ke)break}}else if(e.x!=e.P)break;r[t++]="cost",r[t++]=d(e.curlen,e.x),r[t++]=e.x,r[t++]=e.char,e.charsize();var we=r[--t],Ne=r[--t];if(e[r[--t]]=C(Ne+we),e.cost<d(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(d(e.curseq,e.x)),r[t++]=e.char;var ze=a(),_e=r[--t];g(r[--t],_e,ze)}if(e.x==e.B)break;for(var Je=a([e.U,e.L,e.M,e.P,e.D]),at=0,nt=Je.length;at<nt;at++)if(e.y=d(Je,at),Ee(e.x,e.y)){r[t++]="cost",r[t++]=C(d(e.curlen,e.y)+d(d(e.shftlen,e.y),e.x)),r[t++]=e.x,r[t++]=e.char,e.charsize();var Ae=r[--t],Ye=r[--t];if(e[r[--t]]=C(Ye+Ae),e.cost<d(e.nxtlen,e.y)){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(d(e.curseq,e.y));var Qe=e.x==e.U?e.su:e.sp;r[t++]=Qe,r[t++]=e.char;var Ze=a(),pt=r[--t];g(r[--t],pt,Ze)}}break}if(e.lastchar.length!=0&&e.char>=0){var mt=Z(2);g(mt,0,e.lastchar),g(mt,1,e.char),e.pchars=mt;var ut=d(e.pcomp,e.pchars)!==void 0;if(ut){for(var vt=a([e.U,e.L,e.M,e.P,e.D]),it=0,_t=vt.length;it<_t;it++)if(e.i=d(vt,it),e.inP=!0,e.i==e.M?e.lastchar==13&&(e.inP=!1):e.i==e.D&&(e.lastchar==44||e.lastchar==46)&&(e.inP=!1),e.inP&&wa(d(e.curlen,e.i),d(e.nxtlen,e.i))){e.curseqi=d(e.curseq,e.i),e.lastld=!1,e.lastsp=!1,e.lastidx=-1;for(var et=e.curseqi.length-1;et>=0;et-=1)if(e.idx=et,e.ch=d(e.curseqi,e.idx),e.lastidx==-1)W(e.ch,e.lastchar)&&(e.lastidx=e.idx,e.idx>0&&d(e.curseqi,e.idx-1)==e.sp&&(e.lastsp=!0));else{if(e.ch==e.sb){e.lastidx=-1;break}if(e.ch<0&&e.ch>=e.ld){e.i==e.P?e.ch==e.ld&&(e.lastld=!0):e.ch!=e.lp&&(e.inP=e.lastsp);break}}if(e.inP&&e.lastidx>=0)if(g(e.nxtlen,e.i,d(e.curlen,e.i)),e.lastidx<e.curseqi.length-1)if(e.i==e.P){e.lastld&&g(e.nxtlen,e.i,d(e.nxtlen,e.i)+1),r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi),Es(e.curseqi.length-e.lastidx,-1),r[t-1]=d(e.pcomp,e.pchars);var Ht=a(),Gt=r[--t];g(r[--t],Gt,Ht)}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi);var Ot=a(),ar=r[--t];g(r[--t],ar,Ot),g(d(e.nxtseq,e.i),e.lastidx,d(e.pcomp,e.pchars))}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi),r[t-1]=d(e.pcomp,e.pchars);var Sr=a(),ir=r[--t];g(r[--t],ir,Sr)}}}}Ee(d(e.nxtseq,e.B),null)&&(e.numbytes=0,xe(d(e.nxtseq,e.B),function(){r[--t]==e.sb?r[t++]=0:r[t++]=e.numbytes+1,e.numbytes=r[--t]}),e.numbytes==32&&g(e.nxtlen,e.B,d(e.nxtlen,e.B)+11)),e.curlen=e.nxtlen,e.curseq=e.nxtseq,r[t++]="lastchar",e.char>=0?r[t++]=e.char:r[t++]="";var gr=r[--t];e[r[--t]]=gr}),e.minseq=e.e;for(var x=a([e.U,e.L,e.M,e.P,e.D,e.B]),b=0,v=x.length;b<v;b++)e.i=d(x,b),d(e.curlen,e.i)<e.minseq&&(e.minseq=d(e.curlen,e.i),e.seq=d(e.curseq,e.i));for(e.tobin=function(){var X=Z(r[--t]);r[t++]=X;for(var ce=0,te=X.length-1;ce<=te;ce+=1){var ye=r[t-1];g(ye,ce,48)}var J=r[t-1];r[t++]=J;var me=r[t-3],fe=r[t-1];r[t-3]=r[t-2],t-=2;var be=qt(Z(fe.length),me,2);R(fe,fe.length-be.length,be)},e.encu=function(){var X=d(d(e.charvals,e.U),r[--t]);r[t++]=X,r[t++]=5,e.tobin()},e.encl=function(){var X=d(d(e.charvals,e.L),r[--t]);r[t++]=X,r[t++]=5,e.tobin()},e.encm=function(){var X=d(d(e.charvals,e.M),r[--t]);r[t++]=X,r[t++]=5,e.tobin()},e.encd=function(){var X=d(d(e.charvals,e.D),r[--t]);r[t++]=X,r[t++]=4,e.tobin()},e.encp=function(){var X=r[t-1];if(X==e.fn1)r[t-1]="00000000";else{var ce=r[t-1];if(ce<=-1e6){var te=-r[--t]-1e6;r[t++]=te,r[t++]=te,te==0&&(r[t-1]=1);var ye=~~(ba(r[--t])/ba(10)),J=Z((ye+1)*4+8);R(J,0,"00000"),r[t++]=ye,r[t++]=J,r[t++]=J,r[t++]=ye+1,r[t++]=3,e.tobin();var me=r[--t];if(R(r[--t],5,me),Es(3,1),r[t++]=-1,r[t++]=0,t<3)throw"--stack-underflow--";t-=3;for(var fe=r[t],be=r[t+1],se=r[t+2];be<0?fe>=se:fe<=se;fe+=be){var ge=r[--t],je=r[t-1];r[t++]=~~(ge/10),r[t++]=je,r[t++]=fe*4+8,r[t++]=ge%10+2,r[t++]=4,e.tobin();var he=r[--t],ke=r[--t];R(r[--t],ke,he)}t--}else{var we=d(d(e.charvals,e.P),r[--t]);r[t++]=we,r[t++]=5,e.tobin()}}},e.encfuncs=a(["encu","encl","encm","encp","encd"]),e.addtomsgbits=function(){e.v=r[--t],R(e.msgbits,e.j,e.v),e.j=e.j+e.v.length},e.state=e.U,e.msgbits=Z(e.minseq),e.i=0,e.j=0;!(e.i>=e.seq.length);)if(e.state!=e.B){if(e.char=d(e.seq,e.i),r[t++]=e.char,e[d(e.encfuncs,e.state)]()===!0)break;e.addtomsgbits(),e.i=e.i+1,(e.char==e.su||e.char==e.sp)&&(r[t++]=d(e.seq,e.i),e.char==e.su?e.encu():e.encp(),e.addtomsgbits(),e.i=e.i+1),e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M),e.char==e.lp&&(e.state=e.P),e.char==e.ld&&(e.state=e.D),e.char==e.sb&&(e.state=e.B)}else{for(e.numbytes=0;!(e.i+e.numbytes>=e.seq.length||d(e.seq,e.i+e.numbytes)<0);)e.numbytes=e.numbytes+1;e.numbytes<=31?(r[t++]=e.numbytes,r[t++]=5,e.tobin(),e.addtomsgbits()):(r[t++]=0,r[t++]=5,e.tobin(),e.addtomsgbits(),r[t++]=e.numbytes-31,r[t++]=11,e.tobin(),e.addtomsgbits());for(var w=0,y=e.numbytes;w<y;w++)r[t++]=d(e.seq,e.i),r[t++]=8,e.tobin(),e.addtomsgbits(),e.i=e.i+1;e.i<e.seq.length&&(e.char=d(e.seq,e.i),e.i=e.i+1,e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M))}e.msgbits=S(e.msgbits,0,e.j)}e.metrics=a([a(["rune",0,0,0,6]),a(["compact",1,1,17,6]),a(["full",1,1,21,6]),a(["compact",2,0,40,6]),a(["full",2,1,48,6]),a(["compact",3,0,51,8]),a(["full",3,1,60,8]),a(["compact",4,0,76,8]),a(["full",4,1,88,8]),a(["full",5,1,120,8]),a(["full",6,1,156,8]),a(["full",7,1,196,8]),a(["full",8,1,240,8]),a(["full",9,1,230,10]),a(["full",10,1,272,10]),a(["full",11,1,316,10]),a(["full",12,1,364,10]),a(["full",13,1,416,10]),a(["full",14,1,470,10]),a(["full",15,1,528,10]),a(["full",16,1,588,10]),a(["full",17,1,652,10]),a(["full",18,1,720,10]),a(["full",19,1,790,10]),a(["full",20,1,864,10]),a(["full",21,1,940,10]),a(["full",22,1,1020,10]),a(["full",23,0,920,12]),a(["full",24,0,992,12]),a(["full",25,0,1066,12]),a(["full",26,0,1144,12]),a(["full",27,0,1224,12]),a(["full",28,0,1306,12]),a(["full",29,0,1392,12]),a(["full",30,0,1480,12]),a(["full",31,0,1570,12]),a(["full",32,0,1664,12])]);for(var A=e.metrics,k=0,E=A.length;k<E&&(e.m=d(A,k),e.frmt=d(e.m,0),e.mlyr=d(e.m,1),e.icap=d(e.m,2),e.ncws=d(e.m,3),e.bpcw=d(e.m,4),e.numecw=~~vr(C(e.ncws*e.eclevel/100+e.ecaddchars)),e.msgbits.length==0&&(e.numecw=0),e.numdcw=C(e.ncws-e.numecw),e.okay=!0,Ee(e.format,e.frmt)&&(e.okay=!1),e.readerinit&&e.icap!=1&&(e.okay=!1),e.layers!=-1&&e.layers!=e.mlyr&&(e.okay=!1),~~vr(e.msgbits.length/e.bpcw)>e.numdcw&&(e.okay=!1),!e.okay);k++);for(e.okay||(r[t++]="bwipp.aztecNoValidSymbol#23967",r[t++]="Maximum length exceeded",Q()),e.layers=e.mlyr,e.allzero=function(){var X=r[--t];r[t++]=W(X,S("000000000000",0,X.length))},e.allones=function(){var X=r[--t];r[t++]=W(X,S("111111111111",0,X.length))},e.cws=a(e.ncws),e.m=0,e.c=0;!(e.msgbits.length<=e.m);){if(e.msgbits.length-e.m>=e.bpcw){e.cwb=S(e.msgbits,e.m,e.bpcw-1),e.cwf=S(e.msgbits,C(e.m+e.bpcw)-1,1),r[t++]=e.cwb,e.allzero(),r[--t]&&(e.cwf="1",e.m=e.m-1),r[t++]=e.cwb,e.allones(),r[--t]&&(e.cwf="0",e.m=e.m-1);var j=Z(12);R(j,0,e.cwb),R(j,e.bpcw-1,e.cwf),e.cwb=S(j,0,e.bpcw)}else{e.cwb=S(e.msgbits,e.m,e.msgbits.length-e.m);var N=Tr(Z(12),"111111111111");R(N,0,e.cwb),e.cwb=S(N,0,e.bpcw),r[t++]=e.cwb,e.allones(),r[--t]&&R(e.cwb,e.cwb.length-1,"0")}e.cw=0;for(var I=0,M=e.bpcw-1;I<=M;I+=1)e.i=I,e.cw=C(e.cw+~~v1(2,C(e.bpcw-e.i)-1)*(d(e.cwb,e.i)-48));g(e.cws,e.c,e.cw),e.m=C(e.m+e.bpcw),e.c=e.c+1}e.cws=S(e.cws,0,e.c);var B=d(e.options,"debugcws")!==void 0;if(B&&(r[t++]="bwipp.debugcws#24006",r[t++]=e.cws,Q()),e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var X=0,ce=e.rsgf-1;X<ce;X++){var te=r[t-1],ye=te*2;if(r[t++]=ye,ye>=e.rsgf){var J=r[--t];r[t++]=bn(J,e.rspm)}}e.rsalog=a(),e.rslog=a(e.rsgf);for(var me=1,fe=e.rsgf-1;me<=fe;me+=1)g(e.rslog,d(e.rsalog,me),me);e.rsprod=function(){var ut=r[t-1],vt=r[t-2];if(ut!=0&&vt!=0){var it=d(e.rslog,r[--t]),_t=d(e.rsalog,C(it+d(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=_t}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var be=0,se=e.rsnc;be<se;be++)r[t++]=0;e.coeffs=a();for(var ge=1,je=e.rsnc;ge<=je;ge+=1){e.i=ge,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var he=e.i-1;he>=1;he-=1){e.j=he,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var ke=r[--t],we=r[--t],Ne=r[--t];g(r[--t],Ne,bn(we,ke))}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var ze=r[--t],_e=r[--t];g(r[--t],_e,ze)}e.nd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Je=0,at=e.rsnc;Je<at;Je++)r[t++]=0;r[t++]=0,e.rscws=a();for(var nt=0,Ae=e.nd-1;nt<=Ae;nt+=1){e.k=bn(d(e.rscws,nt),d(e.rscws,e.nd));for(var Ye=0,Qe=e.rsnc-1;Ye<=Qe;Ye+=1){e.j=Ye,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=d(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=d(e.coeffs,C(e.rsnc-e.j)-1),e.rsprod();var Ze=r[--t],pt=r[--t],mt=r[--t];g(r[--t],mt,bn(pt,Ze))}}r[t++]=S(e.rscws,0,e.rscws.length-1)},W(e.format,"full")){e.mode=(e.layers-1<<11)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|1024),e.mode=a([(e.mode&61440)>>>12,(e.mode&3840)>>>8,(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=6,r[t++]=16,r[t++]=19,e.rscodes();var F=r[--t];e[r[--t]]=F}if(W(e.format,"compact")){e.mode=(e.layers-1<<6)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|32),e.mode=a([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var D=r[--t];e[r[--t]]=D}if(W(e.format,"rune")){e.mode=Ie(e.barcode),e.mode=a([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var H=r[--t];e[r[--t]]=H,r[t++]=1/0;for(var T=e.mode,_=0,L=T.length;_<L;_++)r[t++]=d(T,_)^10;e.mode=a()}e.modebits=Z(e.mode.length*4);for(var z=0,G=e.modebits.length-1;z<=G;z+=1)R(e.modebits,z,"0");for(var K=0,oe=e.mode.length-1;K<=oe;K+=1){e.i=K;var V=qt(Z(4),d(e.mode,e.i),2);R(e.modebits,4-V.length+4*e.i,V)}e.rsparams=a([a([]),a([]),a([]),a([]),a([]),a([]),a([64,67]),a([]),a([256,301]),a([]),a([1024,1033]),a([]),a([4096,4201])]),r[t++]="cws",r[t++]=e.cws,r[t++]=C(e.ncws-e.cws.length),O(d(e.rsparams,e.bpcw)),e.rscodes();var Y=r[--t];e[r[--t]]=Y,W(e.format,"full")?e.databits=Z(C(e.layers*e.layers*16+e.layers*112)):e.databits=Z(C(e.layers*e.layers*16+e.layers*88));for(var ie=0,de=e.databits.length-1;ie<=de;ie+=1)R(e.databits,ie,"0");for(var re=0,ne=e.ncws-1;re<=ne;re+=1){e.i=re;var le=qt(Z(e.bpcw),d(e.cws,e.i),2);R(e.databits,C(e.bpcw-le.length+e.bpcw*e.i+(e.databits.length-e.ncws*e.bpcw)),le)}e.cmv=function(){var X=r[--t],ce=r[--t];r[t++]=C(ce-X*e.size+e.mid)},e.lmv=function(){e.lbit=r[--t],e.llyr=r[--t],e.lwid=C(e.fw+e.llyr*4),e.ldir=~~(~~(e.lbit/2)/e.lwid),e.ldir==0&&(r[t++]=C(-~~((e.lwid-1)/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=C(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==1&&(r[t++]=C(~~(e.fw/2)+e.llyr*2+e.lbit%2),r[t++]=C(~~((e.lwid-1)/2)-1-~~(e.lbit/2)%e.lwid),e.cmv()),e.ldir==2&&(r[t++]=-C(-~~(e.lwid/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=-C(~~(e.fw/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==3&&(r[t++]=-C(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),r[t++]=-C(~~(e.lwid/2)-1-~~(e.lbit/2)%e.lwid),e.cmv())},W(e.format,"full")?e.fw=12:e.fw=9,e.size=C(e.fw+e.layers*4)+2,r[t++]=1/0;for(var ue=0,Me=e.size*e.size;ue<Me;ue++)r[t++]=-1;e.pixs=a(),e.mid=C(~~((e.size-1)/2)*e.size+~~((e.size-1)/2)),e.i=0;for(var pe=1,Fe=e.layers;pe<=Fe;pe+=1){e.layer=pe;for(var Ce=0,ve=(e.fw+e.layer*4)*8-1;Ce<=ve;Ce+=1){e.pos=Ce,r[t++]=e.pixs,r[t++]=e.layer,r[t++]=e.pos,e.lmv();var Be=r[--t];g(r[--t],Be,d(e.databits,e.databits.length-e.i-1)-48),e.i=e.i+1}}if(W(e.format,"full")){e.fw=13,e.size=C(e.fw+e.layers*4+2+~~((e.layers+10.5)/7.5-1)*2),e.mid=~~(e.size*e.size/2),r[t++]=1/0;for(var Ue=0,Xe=e.size*e.size;Ue<Xe;Ue++)r[t++]=-2;e.npixs=a();for(var Re=0,Ge=~~(e.size/2);Re<=Ge;Re+=16){e.i=Re;for(var Oe=0,Le=e.size-1;Oe<=Le;Oe+=1){e.j=Oe,r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=e.i,e.cmv();var rt=r[--t];R(r[--t],rt,a([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=-e.i,e.cmv();var Se=r[--t];R(r[--t],Se,a([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var qe=r[--t];R(r[--t],qe,a([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var We=r[--t];R(r[--t],We,a([(~~(e.size/2)+e.j+e.i+1)%2]))}}e.j=0;for(var Ke=0,Te=e.npixs.length-1;Ke<=Te;Ke+=1)e.i=Ke,d(e.npixs,e.i)==-2&&(g(e.npixs,e.i,d(e.pixs,e.j)),e.j=e.j+1);e.pixs=e.npixs}e.fw=~~(e.fw/2);for(var He=-e.fw,st=e.fw;He<=st;He+=1){e.i=He;for(var gt=-e.fw,ht=e.fw;gt<=ht;gt+=1){e.j=gt,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.cmv(),al(e.i)>al(e.j)?r[t++]=al(e.i):r[t++]=al(e.j);var bt=r[--t],Et=r[--t];g(r[--t],Et,(bt+1)%2)}}for(var kt=a([a([-(e.fw+1),e.fw,1]),a([-(e.fw+1),e.fw+1,1]),a([-e.fw,e.fw+1,1]),a([e.fw+1,e.fw+1,1]),a([e.fw+1,e.fw,1]),a([e.fw+1,-e.fw,1]),a([e.fw,e.fw+1,0]),a([e.fw+1,-(e.fw+1),0]),a([e.fw,-(e.fw+1),0]),a([-e.fw,-(e.fw+1),0]),a([-(e.fw+1),-(e.fw+1),0]),a([-(e.fw+1),-e.fw,0])]),wt=0,Mt=kt.length;wt<Mt;wt++){r[t++]=e.pixs,O(d(kt,wt)),Es(3,1),e.cmv();var It=r[--t],zt=r[--t];g(r[--t],It,zt)}e.modemapfull=a([a([-5,7]),a([-4,7]),a([-3,7]),a([-2,7]),a([-1,7]),a([1,7]),a([2,7]),a([3,7]),a([4,7]),a([5,7]),a([7,5]),a([7,4]),a([7,3]),a([7,2]),a([7,1]),a([7,-1]),a([7,-2]),a([7,-3]),a([7,-4]),a([7,-5]),a([5,-7]),a([4,-7]),a([3,-7]),a([2,-7]),a([1,-7]),a([-1,-7]),a([-2,-7]),a([-3,-7]),a([-4,-7]),a([-5,-7]),a([-7,-5]),a([-7,-4]),a([-7,-3]),a([-7,-2]),a([-7,-1]),a([-7,1]),a([-7,2]),a([-7,3]),a([-7,4]),a([-7,5])]),e.modemapcompact=a([a([-3,5]),a([-2,5]),a([-1,5]),a([0,5]),a([1,5]),a([2,5]),a([3,5]),a([5,3]),a([5,2]),a([5,1]),a([5,0]),a([5,-1]),a([5,-2]),a([5,-3]),a([3,-5]),a([2,-5]),a([1,-5]),a([0,-5]),a([-1,-5]),a([-2,-5]),a([-3,-5]),a([-5,-3]),a([-5,-2]),a([-5,-1]),a([-5,0]),a([-5,1]),a([-5,2]),a([-5,3])]),r[t++]="modemap",W(e.format,"full")?r[t++]=e.modemapfull:r[t++]=e.modemapcompact;var Bt=r[--t];e[r[--t]]=Bt;for(var jt=0,U=e.modemap.length-1;jt<=U;jt+=1){r[t++]=jt,r[t++]=e.pixs,O(d(e.modemap,jt)),e.cmv();var $=r[--t],P=r[--t];g(P,$,d(e.modebits,r[--t])-48)}var q=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["opt",e.options]]);r[t++]=q,e.dontdraw||xt(),e=s}function dU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","compact"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Rf();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function uU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rune"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Rf();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function fU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.parse=!1,e.parsefnc=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=a(["unset","T-16","T-32","T-48","S-10","S-20","S-30","A","B","C","D","E","F","G","H"]);r[t++]=!1;for(var i=0,o=n.length;i<o;i++){var l=r[--t];r[t++]=l||W(d(n,i),e.version)}r[--t]||(r[t++]="bwipp.codeoneBadVersion#24394",r[t++]="version must be A to H, T-16, T-32, T-48, S-10, S-20 or S-30",Q()),e.stype=W(S(e.version,0,1),"S"),e.ttype=W(S(e.version,0,1),"T"),e.stypevals=a(["1","1010","1100100","1111101000","10011100010000","11000011010100000","11110100001001000000","100110001001011010000000","101111101011110000100000000","111011100110101100101000000000","1001010100000010111110010000000000","1011101001000011101101110100000000000","1110100011010100101001010001000000000000","10010001100001001110011100101010000000000000","10110101111001100010000011110100100000000000000","11100011010111111010100100110001101000000000000000","100011100001101111001001101111110000010000000000000000","101100011010001010111100001011101100010100000000000000000"]),e.stypemetrics=a([a(["S-10",8,11,10,4,4,1,99,99,99]),a(["S-20",8,21,20,8,8,1,99,99,99]),a(["S-30",8,31,30,12,12,1,99,99,99])]),e.nonstypemetrics=a([a(["A",16,18,16,10,10,1,4,99,6]),a(["B",22,22,20,19,16,1,4,99,8]),a(["C",28,32,28,44,26,1,4,22,11]),a(["D",40,42,36,91,44,1,4,16,16]),a(["E",52,54,48,182,70,1,4,22,22]),a(["F",70,76,68,370,140,2,4,22,31]),a(["G",104,98,88,732,280,4,6,21,47]),a(["H",148,134,120,1480,560,8,6,20,69]),a(["T-16",16,17,16,10,10,1,99,99,99]),a(["T-32",16,33,32,24,16,1,99,99,99]),a(["T-48",16,49,48,38,22,1,99,99,99])]),e.fnc1=-1,e.fnc3=-2,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lD=-9,e.unl=-10,e.fnc2=-11,e.fnc4=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.fnc1lD=-18,e.unlcw=255,r[t++]=1/0;for(var u=0;u<=128;u+=1)r[t++]=u,r[t++]=u+1;r[t++]=e.pad,r[t++]=129;for(var f=0;f<=99;f+=1){var h=qt(Z(2),f,10),p=Tr(Z(2),"00");R(p,2-h.length,h),r[t++]=p,r[t++]=f+130}var m=a([e.lC,e.lB,e.fnc1,e.fnc2,e.fnc3,e.fnc4,e.fnc1lD]);r[t++]=229;for(var x=0,b=m.length;x<b;x++){var v=r[--t]+1;r[t++]=d(m,x),r[t++]=v,r[t++]=v}r[t-1]=e.lX,r[t++]=238,r[t++]=e.lT,r[t++]=239,e.Avals=Pe(),r[t++]=1/0;for(var w=e.Avals,y=w.size,A=w.keys(),k=0;k<y;k++){var E=A.next().value;r[t++]=E;var j=1/0,N=w.get(E);r[t++]=j,r[t++]=N;var I=a();r[t++]=I}e.Avals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var M=48;M<=57;M+=1)r[t++]=M,r[t++]=M-44;for(var B=65;B<=90;B+=1)r[t++]=B,r[t++]=B-51;e.CNvals=Pe(),r[t++]=1/0;for(var F=0;F<=31;F+=1)r[t++]=F,r[t++]=F;e.C1vals=Pe(),r[t++]=1/0;for(var D=33;D<=47;D+=1)r[t++]=D,r[t++]=D-33;for(var H=58;H<=64;H+=1)r[t++]=H,r[t++]=H-43;for(var T=91;T<=95;T+=1)r[t++]=T,r[t++]=T-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.C2vals=Pe(),r[t++]=1/0;for(var _=96;_<=127;_+=1)r[t++]=_,r[t++]=_-96;e.C3vals=Pe(),r[t++]=1/0;for(var L=e.CNvals,z=L.size,G=L.keys(),K=0;K<z;K++){var oe=G.next().value;r[t++]=oe;var V=1/0,Y=L.get(oe);r[t++]=V,r[t++]=Y;var ie=a();r[t++]=ie}for(var de=e.C1vals,re=de.size,ne=de.keys(),le=0;le<re;le++){var ue=ne.next().value;r[t++]=ue;var Me=1/0,pe=de.get(ue);r[t++]=Me,r[t++]=d(e.CNvals,e.sft1),r[t++]=pe;var Fe=a();r[t++]=Fe}for(var Ce=e.C2vals,ve=Ce.size,Be=Ce.keys(),Ue=0;Ue<ve;Ue++){var Xe=Be.next().value;r[t++]=Xe;var Re=1/0,Ge=Ce.get(Xe);r[t++]=Re,r[t++]=d(e.CNvals,e.sft2),r[t++]=Ge;var Oe=a();r[t++]=Oe}for(var Le=e.C3vals,rt=Le.size,Se=Le.keys(),qe=0;qe<rt;qe++){var We=Se.next().value;r[t++]=We;var Ke=1/0,Te=Le.get(We);r[t++]=Ke,r[t++]=d(e.CNvals,e.sft3),r[t++]=Te;var He=a();r[t++]=He}e.Cvals=Pe(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var st=48;st<=57;st+=1)r[t++]=st,r[t++]=st-44;for(var gt=97;gt<=122;gt+=1)r[t++]=gt,r[t++]=gt-83;e.TNvals=Pe(),r[t++]=1/0;for(var ht=0;ht<=31;ht+=1)r[t++]=ht,r[t++]=ht;e.T1vals=Pe(),r[t++]=1/0;for(var bt=33;bt<=47;bt+=1)r[t++]=bt,r[t++]=bt-33;for(var Et=58;Et<=64;Et+=1)r[t++]=Et,r[t++]=Et-43;for(var kt=91;kt<=95;kt+=1)r[t++]=kt,r[t++]=kt-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.T2vals=Pe(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var wt=65;wt<=90;wt+=1)r[t++]=wt,r[t++]=wt-64;for(var Mt=123;Mt<=127;Mt+=1)r[t++]=Mt,r[t++]=Mt-96;e.T3vals=Pe(),r[t++]=1/0;for(var It=e.TNvals,zt=It.size,Bt=It.keys(),jt=0;jt<zt;jt++){var U=Bt.next().value;r[t++]=U;var $=1/0,P=It.get(U);r[t++]=$,r[t++]=P;var q=a();r[t++]=q}for(var X=e.T1vals,ce=X.size,te=X.keys(),ye=0;ye<ce;ye++){var J=te.next().value;r[t++]=J;var me=1/0,fe=X.get(J);r[t++]=me,r[t++]=d(e.TNvals,e.sft1),r[t++]=fe;var be=a();r[t++]=be}for(var se=e.T2vals,ge=se.size,je=se.keys(),he=0;he<ge;he++){var ke=je.next().value;r[t++]=ke;var we=1/0,Ne=se.get(ke);r[t++]=we,r[t++]=d(e.TNvals,e.sft2),r[t++]=Ne;var ze=a();r[t++]=ze}for(var _e=e.T3vals,Je=_e.size,at=_e.keys(),nt=0;nt<Je;nt++){var Ae=at.next().value;r[t++]=Ae;var Ye=1/0,Qe=_e.get(Ae);r[t++]=Ye,r[t++]=d(e.TNvals,e.sft3),r[t++]=Qe;var Ze=a();r[t++]=Ze}e.Tvals=Pe();for(var pt=128;pt<=255;pt+=1){e.i=pt,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,O(d(e.Avals,e.fnc4)),O(d(e.Avals,e.i-128));var mt=a(),ut=r[--t];g(r[--t],ut,mt),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,O(d(e.Cvals,e.fnc4)),O(d(e.Cvals,e.i-128));var vt=a(),it=r[--t];g(r[--t],it,vt),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,O(d(e.Tvals,e.fnc4)),O(d(e.Tvals,e.i-128));var _t=a(),et=r[--t];g(r[--t],et,_t)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Ht=48;Ht<=57;Ht+=1)r[t++]=Ht,r[t++]=Ht-44;for(var Gt=65;Gt<=90;Gt+=1)r[t++]=Gt,r[t++]=Gt-51;e.Xvals=Pe(),r[t++]=1/0;for(var Ot=e.Xvals,ar=Ot.size,Sr=Ot.keys(),ir=0;ir<ar;ir++){var gr=Sr.next().value;r[t++]=gr;var nr=1/0,Ir=Ot.get(gr);r[t++]=nr,r[t++]=Ir;var er=a();r[t++]=er}e.Xvals=Pe(),r[t++]=1/0;for(var ur=0;ur<=255;ur+=1)r[t++]=ur,r[t++]=ur;e.Bvals=Pe(),r[t++]=1/0;for(var Kt=e.Bvals,Xt=Kt.size,fr=Kt.keys(),Mr=0;Mr<Xt;Mr++){var Ur=fr.next().value;r[t++]=Ur;var ms=1/0,Ft=Kt.get(Ur);r[t++]=ms,r[t++]=Ft;var Vt=a();r[t++]=Vt}if(e.Bvals=Pe(),e.encvals=a([e.Avals,e.Cvals,e.Tvals,e.Xvals,-1,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.D=4,e.B=5,e.stype){xe(e.barcode,function(){var dt=r[--t];(dt<48||dt>57)&&(r[t++]="bwipp.codeoneStypeNonDigit#24564",r[t++]="S-Type symbols can only contain digits",Q())}),e.barlen=e.barcode.length,e.barlen>18&&(r[t++]="bwipp.codeoneStypeTooLong#24570",r[t++]="Maximum length exceeded",Q()),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var dt=e.num.length-1;dt>=1;dt-=1){e.i=dt;var Yt=e.num,Lr=e.i;g(Yt,Lr-1,C(d(Yt,Lr-1)+~~(d(e.num,e.i)/e.base))),g(e.num,e.i,d(e.num,e.i)%e.base)}for(;!wa(d(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,O(e.num),e.num=a(),g(e.num,0,C(d(e.num,0)+~~(d(e.num,1)/e.base))),g(e.num,1,d(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var ot=e.num,Ut=0,$t=ot.length;Ut<$t;Ut++){var Jt=d(ot,Ut);r[t++]=Jt,Jt==0&&e.i?t--:e.i=!1}e.num=a(),e.num.length==0&&(e.num=a([0])),r[t++]=e.num},e.bigadd=function(){var dt=r[--t],Yt=r[--t];if(e.offset=al(dt.length-Yt.length),dt.length<Yt.length){var Lr=dt;dt=Yt,Yt=Lr}e.a=dt,e.b=Yt;for(var ot=0,Ut=e.b.length-1;ot<=Ut;ot+=1){var $t=e.a,Jt=e.offset;g($t,ot+Jt,C(d($t,ot+Jt)+d(e.b,ot)))}r[t++]=e.a},e.barlen=e.barcode.length,e.v=a([1]);for(var tr=0,br=e.barlen-1;tr<=br;tr+=1){e.i=tr,r[t++]=1/0,xe(d(e.stypevals,e.i),function(){var dt=r[--t];r[t++]=(dt-48)*(d(e.barcode,e.barlen-e.i-1)-48)});var or=a();r[t++]=or,r[t++]=e.v,e.bigadd(),e.v=r[--t]}r[t++]="v",r[t++]=e.v,r[t++]=2,e.normalize();var Br=r[--t];e[r[--t]]=Br,r[t++]=1/0;for(var lr=0,Lt=(5-e.v.length%5)%5;lr<Lt;lr++)r[t++]=0;O(e.v),e.v=a(),e.cws=a(~~(e.v.length/5));for(var yr=0,ns=e.cws.length-1;yr<=ns;yr+=1){e.i=yr;var xs=S(e.v,e.i*5,5);r[t++]=0;for(var js=0,Gr=xs.length;js<Gr;js++){var Bs=r[--t];r[t++]=C(Bs+d(xs,js))*2}g(e.cws,e.i,~~(r[--t]/2))}e.metrics=e.stypemetrics}else{var ws=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["FNC3",e.fnc3]]);e.fncvals=ws,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var Ps=r[--t];e[r[--t]]=Ps,e.msglen=e.msg.length,e.eciesc=92;var us=e.msg;r[t++]="numecis",r[t++]=0;for(var Ns=0,Ds=us.length;Ns<Ds;Ns++)if(d(us,Ns)<=-1e6){var Cs=r[--t];r[t++]=Cs+1}var qs=r[--t];if(e[r[--t]]=qs,e.numecis>0){e.msgtmp=a(C(e.msg.length*2+e.numecis*6)+2),g(e.msgtmp,0,e.pad),g(e.msgtmp,1,e.eciesc),e.j=2;for(var Ys=0,en=e.msg.length-1;Ys<=en;Ys+=1){var wn=d(e.msg,Ys);if(r[t++]=wn,wn<=-1e6){for(var Ms=S(qt(Z(7),-r[--t],10),1,6),On=0,Vs=Ms.length;On<Vs;On++)r[t++]=d(Ms,On);Wt(a(6)),R(e.msgtmp,e.j+1,r[--t]),g(e.msgtmp,e.j,e.eciesc),e.j=e.j+7}else{var $n=r[t-1];$n!=e.eciesc?(g(e.msgtmp,e.j,r[--t]),e.j=e.j+1):(t--,g(e.msgtmp,e.j,e.eciesc),g(e.msgtmp,e.j+1,e.eciesc),e.j=e.j+2)}}e.msg=S(e.msgtmp,0,e.j),e.msglen=e.msg.length}e.metrics=e.nonstypemetrics,e.fullcws=a([]);for(var Us=e.metrics,An=0,zn=Us.length;An<zn;An++)e.m=d(Us,An),e.vers=d(e.m,0),e.dcws=d(e.m,4),e.okay=!0,W(e.version,"unset")?e.vers.length!=1&&(e.okay=!1):Ee(e.version,e.vers)&&(e.okay=!1),e.okay&&(r[t++]=1/0,O(e.fullcws),r[t++]=e.dcws,e.fullcws=a());r[t++]=1/0;for(var Ln=0;Ln<1480;Ln++)r[t++]=1e4;e.numremcws=a();for(var tn=e.fullcws,Wn=0,rn=tn.length;Wn<rn;Wn++)g(e.numremcws,d(tn,Wn)-1,1);for(var kn=1478;kn>=0;kn-=1)e.i=kn,d(e.numremcws,e.i)!=1&&g(e.numremcws,e.i,d(e.numremcws,e.i+1)+1);r[t++]=1/0;for(var Os=0,ka=e.msglen;Os<ka;Os++)r[t++]=0;r[t++]=0,e.numD=a(),r[t++]=1/0;for(var $s=0,_a=e.msglen;$s<_a;$s++)r[t++]=0;r[t++]=9999,e.nextXterm=a(),r[t++]=1/0;for(var Fs=0,ra=e.msglen;Fs<ra;Fs++)r[t++]=0;r[t++]=9999,e.nextNonX=a();for(var zs=e.msglen-1;zs>=0;zs-=1){e.i=zs,e.barchar=d(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.numD,e.i,d(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?g(e.nextXterm,e.i,0):g(e.nextXterm,e.i,d(e.nextXterm,e.i+1)+1);var ca=d(e.Xvals,e.barchar)!==void 0;ca?g(e.nextNonX,e.i,d(e.nextNonX,e.i+1)+1):g(e.nextNonX,e.i,0)}r[t++]=1/0;for(var pn=e.nextXterm,Zt=0,ts=pn.length;Zt<ts;Zt++){var Ss=d(pn,Zt);r[t++]=Ss,Ss>1e4&&(r[t-1]=1e4)}e.nextXterm=a(),r[t++]=1/0;for(var Ls=e.nextNonX,jn=0,qr=Ls.length;jn<qr;jn++){var mn=d(Ls,jn);r[t++]=mn,mn>1e4&&(r[t-1]=1e4)}for(e.nextNonX=a(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var dt=d(e.CNvals,e.char)!==void 0;r[t++]=dt},e.isT=function(){var dt=d(e.TNvals,e.char)!==void 0;r[t++]=dt},e.isX=function(){var dt=d(e.Xvals,e.char)!==void 0;r[t++]=dt},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var dt=r[--t];r[t++]=wa(d(e.nextXterm,dt),d(e.nextNonX,dt))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.bc=3,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.bc=2),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.B&&(e.bc=0);for(var dt=0;dt<1;dt++)for(e.k=0;;){if(e.i+e.k==e.msglen){var Yt=a([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Lr=0,ot=Yt.length;Lr<ot;Lr++){var Ut=r[--t];r[t++]=Ut&&e.bc<=vr(d(Yt,Lr))}if(r[--t]){r[t++]=e.B;break}var $t=a([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Jt=0,Zr=$t.length;Jt<Zr;Jt++){var ks=r[--t];r[t++]=ks&&e.ac<=vr(d($t,Jt))}if(r[--t]){r[t++]=e.A;break}var bs=a([e.tc,e.xc]);r[t++]=!0;for(var vn=0,Xn=bs.length;vn<Xn;vn++){var pa=r[--t];r[t++]=pa&&vr(e.cc)<=vr(d(bs,vn))}if(r[--t]){r[t++]=e.C;break}var ma=a([e.xc]);r[t++]=!0;for(var Za=0,Ii=ma.length;Za<Ii;Za++){var hi=r[--t];r[t++]=hi&&vr(e.tc)<=vr(d(ma,Za))}if(r[--t]){r[t++]=e.T;break}r[t++]=e.X;break}if(e.char=d(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var V1=r[--t];r[t++]=C(V1+1/2)}else if(e.isEA(),r[--t]){var Bi=r[--t];r[t++]=vr(Bi)+2}else{var pi=r[--t];r[t++]=vr(pi)+1}var eo=r[--t];if(e[r[--t]]=eo,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var Di=r[--t];r[t++]=C(Di+.6666667)}else if(e.isEA(),r[--t]){var Gc=r[--t];r[t++]=C(Gc+2.6666667)}else{var qc=r[--t];r[t++]=C(qc+1.3333334)}var Il=r[--t];if(e[r[--t]]=Il,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var Go=r[--t];r[t++]=C(Go+.6666667)}else if(e.isEA(),r[--t]){var Yc=r[--t];r[t++]=C(Yc+2.6666667)}else{var Vc=r[--t];r[t++]=C(Vc+1.3333334)}var $c=r[--t];if(e[r[--t]]=$c,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var Wc=r[--t];r[t++]=C(Wc+.6666667)}else if(e.isEA(),r[--t]){var Kc=r[--t];r[t++]=C(Kc+4.3333334)}else{var Jc=r[--t];r[t++]=C(Jc+3.3333334)}var Xc=r[--t];if(e[r[--t]]=Xc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var Zc=r[--t];r[t++]=Zc+3}else{var e0=r[--t];r[t++]=e0+1}var t0=r[--t];if(e[r[--t]]=t0,e.k>=3){var Bl=a([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var qo=0,r0=Bl.length;qo<r0;qo++){var s0=r[--t];r[t++]=s0&&e.bc+1<=vr(d(Bl,qo))}if(r[--t]){r[t++]=e.B;break}var Dl=a([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Yo=0,n0=Dl.length;Yo<n0;Yo++){var a0=r[--t];r[t++]=a0&&e.ac+1<=vr(d(Dl,Yo))}if(r[--t]){r[t++]=e.A;break}var Ml=a([e.ac,e.cc,e.xc,e.bc]);r[t++]=!0;for(var Vo=0,i0=Ml.length;Vo<i0;Vo++){var o0=r[--t];r[t++]=o0&&vr(e.tc)+1<=vr(d(Ml,Vo))}if(r[--t]){r[t++]=e.T;break}var Fl=a([e.ac,e.tc]);r[t++]=!0;for(var $o=0,l0=Fl.length;$o<l0;$o++){var Rl=r[--t];r[t++]=Rl&&vr(e.cc)+1<=vr(d(Fl,$o))}if(r[--t]){if(vr(e.cc)<vr(e.xc)){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}var to=a([e.ac,e.cc,e.tc,e.bc]);r[t++]=!0;for(var Wo=0,c0=to.length;Wo<c0;Wo++){var e1=r[--t];r[t++]=e1&&vr(e.xc)+1<=vr(d(to,Wo))}if(r[--t]){r[t++]=e.X;break}}e.k=e.k+1}},e.addtocws=function(){var dt=r[t-1];dt.length+e.j>1480&&(t--,r[t++]="bwipp.codeoneTooLong#24766",r[t++]="Maximum length exceeded",Q());var Yt=r[--t];R(e.cws,e.j,Yt),e.j=Yt.length+e.j},e.tobin=function(){var dt=Z(r[--t]);r[t++]=dt;for(var Yt=0,Lr=dt.length-1;Yt<=Lr;Yt+=1){var ot=r[t-1];g(ot,Yt,48)}var Ut=r[t-1];r[t++]=Ut;var $t=r[t-3],Jt=r[t-1];r[t-3]=r[t-2],t-=2;var Zr=qt(Z(Jt.length),$t,2);R(Jt,Jt.length-Zr.length,Zr),r[t++]=1/0;var ks=r[--t],bs=r[--t];r[t++]=ks,xe(bs,function(){var Xn=r[--t];r[t++]=Xn-48});var vn=a();r[t++]=vn},e.encA=function(){for(var dt=0;dt<1;dt++){if(d(e.numD,e.i)>=21){e.Dbits=a([1,1,1,1]),e.mode=e.D;break}var Yt=d(e.numD,e.i);if(Yt>=13&&C(Yt+e.i)==e.msglen){e.Dbits=a([1,1,1,1]),e.mode=e.D;break}if(d(e.numD,e.i)>=2){var Lr=Z(2);g(Lr,0,d(e.msg,e.i)),g(Lr,1,d(e.msg,e.i+1)),r[t++]=d(e.Avals,Lr),e.addtocws(),e.i=e.i+2;break}if(d(e.msg,e.i)==e.fnc1){if(d(e.numD,e.i+1)>=15){r[t++]=d(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=a([]),e.mode=e.D;break}var ot=d(e.numD,e.i+1);if(ot>=7&&C(ot+e.i)+1==e.msglen){r[t++]=d(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=a([]),e.mode=e.D;break}}r[t++]="newmode",e.lookup();var Ut=r[--t];if(e[r[--t]]=Ut,e.newmode!=e.mode){r[t++]=d(e.Avals,d(a([-1,e.lC,e.lT,e.lX,e.lD,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var dt=0,Yt=e.in.length-1;dt<=Yt;dt+=3){var Lr=S(e.in,dt,3);r[t++]=0;for(var ot=0,Ut=Lr.length;ot<Ut;ot++){var $t=r[--t];r[t++]=C($t+d(Lr,ot))*40}var Jt=~~(r[--t]/40)+1;r[t++]=~~(Jt/256),r[t++]=Jt%256}Wt(a(ys()));var Zr=r[--t];r[t-1]=Zr},e.encCTX=function(){for(e.p=0,e.ctxvals=a(2220);e.i!=e.msglen;){if(e.p%3==0){if(d(e.numD,e.i)>=12){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),e.mode=e.A;break}var dt=d(e.numD,e.i);if(dt>=8&&C(dt+e.i)==e.msglen){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.mode==e.X){var Yt=d(e.Xvals,d(e.msg,e.i))!==void 0;if(!Yt){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),(d(e.numremcws,e.j)!=1||d(e.msg,e.i)>127)&&(r[t++]=a([e.unlcw]),e.addtocws()),e.mode=e.A;break}if(e.i+1<e.msglen){var Lr=d(e.Xvals,d(e.msg,e.i+1))!==void 0;if(!Lr)break;if(e.i+2<e.msglen){var ot=d(e.Xvals,d(e.msg,e.i+2))!==void 0;if(!ot)break}}}else if(e.lookup(),r[--t]!=e.mode){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.msglen-e.i<=3){e.remcws=d(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Ut=S(e.msg,e.i,e.msglen-e.i),$t=0,Jt=Ut.length;$t<Jt;$t++){var Zr=d(Ut,$t),ks=d(d(e.encvals,e.mode),Zr)!==void 0;r[t++]=Zr,ks?O(d(d(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=a(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,O(S(e.ctxvals,0,e.p)),O(e.remvals);var bs=a();r[t++]=bs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,O(S(e.ctxvals,0,e.p)),O(e.remvals),O(d(d(e.encvals,e.mode),e.sft1));var vn=a();r[t++]=vn,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=S(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}}var Xn=d(d(e.encvals,e.mode),d(e.msg,e.i));R(e.ctxvals,e.p,Xn),e.p=Xn.length+e.p,e.i=e.i+1}if(e.mode!=e.A){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-d(d(e.encvals,e.mode),d(e.msg,e.i)).length;r[t++]=1/0,O(S(e.ctxvals,0,e.p));var pa=a();if(r[t++]=pa,e.CTXvalstocws(),e.addtocws(),r[t++]=a([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen)if(d(e.numD,e.i)>=2){var ma=Z(2);g(ma,0,d(e.msg,e.i)),g(ma,1,d(e.msg,e.i+1)),r[t++]=d(e.Avals,ma),e.addtocws(),e.i=e.i+2}else r[t++]=d(e.Avals,d(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encD=function(){for(;;){if(d(e.numD,e.i)<3){if(e.Drem=(8-e.Dbits.length%8)%8,e.remcws=d(e.numremcws,e.j+~~(e.Dbits.length/8)),(d(e.numremcws,e.j+~~(e.Dbits.length/8)-1)-1==0&&e.Drem==0||e.remcws==1&&e.Drem!=0)&&e.i==e.msglen){(e.Drem==4||e.Drem==6)&&(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=a()),(e.Drem==2||e.Drem==6)&&(r[t++]=1/0,O(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=a());break}if((e.i==e.msglen-1&&d(e.numD,e.i)==1||e.i==e.msglen-2&&d(e.numD,e.i)==2)&&e.remcws==1&&e.Drem==0)break;e.i==e.msglen-1&&d(e.numD,e.i)==1&&e.remcws==1&&(e.Drem==4||e.Drem==6)||(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=a(),e.Drem=(8-e.Dbits.length%8)%8),(e.Drem==4||e.Drem==6)&&(d(e.numD,e.i)>=1?(r[t++]=1/0,O(e.Dbits),r[t++]=d(e.msg,e.i)-48+1,r[t++]=4,e.tobin(),O(r[--t]),e.Dbits=a(),e.i=e.i+1):(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=a()),e.Drem=e.Drem-4),e.Drem==2&&(r[t++]=1/0,O(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=a(),e.Drem=0);break}r[t++]=1/0,O(e.Dbits);var dt=S(e.msg,e.i,3);r[t++]=0;for(var Yt=0,Lr=dt.length;Yt<Lr;Yt++){var ot=r[--t];r[t++]=C(ot+(d(dt,Yt)-48))*10}var Ut=r[--t];r[t++]=~~(Ut/10)+1,r[t++]=10,e.tobin(),O(r[--t]),e.Dbits=a(),e.i=e.i+3}r[t++]=1/0;for(var $t=0,Jt=e.Dbits.length-1;$t<=Jt;$t+=8){var Zr=S(e.Dbits,$t,8);r[t++]=0;for(var ks=0,bs=Zr.length;ks<bs;ks++){var vn=r[--t];r[t++]=C(vn+d(Zr,ks))*2}var Xn=r[--t];r[t++]=~~(Xn/2)}Wt(a(ys()));var pa=r[--t];r[t-1]=pa,e.addtocws(),e.mode=e.A},e.encB=function(){for(e.p=0,e.bvals=a(1480);!(e.i==e.msglen||d(e.msg,e.i)<0||(e.lookup(),r[--t]!=e.mode));)g(e.bvals,e.p,d(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=d(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),O(S(e.bvals,0,e.p)),e.bvals=a(),r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=a(1480),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[d(a(["encA","encCTX","encCTX","encCTX","encD","encB"]),e.mode)]()===!0););e.cws=S(e.cws,0,e.j)}for(var Nn=e.metrics,Qs=0,Pa=Nn.length;Qs<Pa&&(e.m=d(Nn,Qs),e.vers=d(e.m,0),e.rows=d(e.m,1),e.cols=d(e.m,2),e.dcol=d(e.m,3),e.dcws=d(e.m,4),e.rscw=d(e.m,5),e.rsbl=d(e.m,6),e.riso=d(e.m,7),e.risi=d(e.m,8),e.risl=d(e.m,9),e.dcpb=~~(e.dcws/e.rsbl),e.ecpb=~~(e.rscw/e.rsbl),e.okay=!0,Ee(e.version,"unset")&&Ee(e.version,e.vers)&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Qs++);if(e.okay||(r[t++]="bwipp.codeoneNoValidSymbol#25082",r[t++]="Maximum length exceeded",Q()),e.stype){r[t++]=1/0;for(var Kn=0,Ts=C(e.dcws-e.cws.length);Kn<Ts;Kn++)r[t++]=0;O(e.cws),e.cws=a()}else{r[t++]=1/0,O(e.cws);for(var Rs=0,k1=C(e.dcws-e.cws.length);Rs<k1;Rs++)r[t++]=129;e.cws=a()}var Ua=d(e.options,"debugcws")!==void 0;Ua&&(r[t++]="bwipp.debugcws#25092",r[t++]=e.cws,Q()),e.cwbs=a(e.rsbl),e.ecbs=a(e.rsbl);for(var sn=0,Oa=e.rsbl-1;sn<=Oa;sn+=1){e.i=sn,e.cwb=a(e.dcpb);for(var Cn=0,da=e.dcpb-1;Cn<=da;Cn+=1)e.j=Cn,g(e.cwb,e.j,d(e.cws,C(e.j*e.rsbl+e.i)));g(e.cwbs,e.i,e.cwb)}var ua=e.stype?32:256;e.gf=ua,e["gf-1"]=e.gf-1;var l1=e.stype?37:301;e.pm=l1,r[t++]=1/0,r[t++]=1;for(var At=0,Kr=e["gf-1"];At<Kr;At++){var as=r[t-1],Hs=as*2;if(r[t++]=Hs,Hs>=e.gf){var fs=r[--t];r[t++]=fs^e.pm}}e.rsalog=a(),e.rslog=a(e.gf);for(var nn=1,Sn=e["gf-1"];nn<=Sn;nn+=1)g(e.rslog,d(e.rsalog,nn),nn);e.rsprod=function(){var dt=r[t-1],Yt=r[t-2];if(dt!=0&&Yt!=0){var Lr=d(e.rslog,r[--t]),ot=d(e.rsalog,C(Lr+d(e.rslog,r[--t]))%e["gf-1"]);r[t++]=ot}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var ja=0,ct=e.ecpb;ja<ct;ja++)r[t++]=0;e.coeffs=a();for(var St=0,pr=e.ecpb-1;St<=pr;St+=1){e.i=St,g(e.coeffs,e.i+1,d(e.coeffs,e.i));for(var cr=e.i;cr>=1;cr-=1){e.j=cr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var hr=r[--t],Fr=r[--t],dr=r[--t];g(r[--t],dr,bn(Fr,hr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var is=r[--t],Yr=r[--t];g(r[--t],Yr,is)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1);for(var Vr=0,$r=e.cwbs.length-1;Vr<=$r;Vr+=1){e.i=Vr,r[t++]=1/0,O(d(e.cwbs,e.i));for(var Jr=0,vs=e.ecpb;Jr<vs;Jr++)r[t++]=0;e.rscws=a();for(var rs=0,Wr=e.dcpb-1;rs<=Wr;rs+=1){e.m=rs,e.k=d(e.rscws,e.m);for(var os=0,Rr=e.ecpb-1;os<=Rr;os+=1){e.j=os,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=d(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var Or=r[--t],Gs=r[--t];g(r[--t],Gs,bn(Or,d(e.rscws,e.m+e.j+1)))}}g(e.ecbs,e.i,S(e.rscws,e.dcpb,e.ecpb))}r[t++]=1/0,O(e.cws);for(var As=0,xn=e.rscw;As<xn;As++)r[t++]=0;e.cws=a();for(var Fn=0,fa=e.rscw-1;Fn<=fa;Fn+=1)e.i=Fn,g(e.cws,C(e.dcws+e.i),d(d(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));var Qn=e.stype?5:8;e.mmat=a(C(e.dcws+e.rscw)*Qn),e.r=0,e.c=0;for(var rr=e.stype?2:1,wr=0,Cr=rr,ss=e.cws.length-1;Cr<0?wr>=ss:wr<=ss;wr+=Cr){if(e.i=wr,e.stype){var Jn=Tr(Z(5),"00000"),Na=qt(Z(5),d(e.cws,e.i),2);R(Jn,5-Na.length,Na);var za=1/0,Wa=Jn;r[t++]=za,xe(Wa,function(){var dt=r[--t];r[t++]=dt-48}),e.c1=a();var Ka=Tr(Z(5),"00000"),Ca=qt(Z(5),d(e.cws,e.i+1),2);R(Ka,5-Ca.length,Ca);var j1=1/0,Ja=Ka;r[t++]=j1,xe(Ja,function(){var dt=r[--t];r[t++]=dt-48}),e.c2=a(),r[t++]=1/0,O(S(e.c1,0,3)),O(S(e.c2,0,2)),e.top=a(),r[t++]=1/0,O(S(e.c1,3,2)),O(S(e.c2,2,3)),e.bot=a()}else{var zr=Tr(Z(8),"00000000"),ls=qt(Z(8),d(e.cws,e.i),2);R(zr,8-ls.length,ls);var Xr=1/0,an=zr;r[t++]=Xr,xe(an,function(){var dt=r[--t];r[t++]=dt-48});var on=a();e.top=S(on,0,4),e.bot=S(on,4,4)}R(e.mmat,C(e.r*e.dcol+e.c),e.top),R(e.mmat,C((e.r+1)*e.dcol+e.c),e.bot),e.c=e.c+e.top.length,e.c==e.dcol&&(e.c=0,e.r=e.r+2)}e.mmv=function(){var dt=r[--t],Yt=r[--t];r[t++]=C(Yt+dt*e.cols)},r[t++]=1/0;for(var N1=0,di=e.rows*e.cols;N1<di;N1++)r[t++]=-1;e.pixs=a();var C1=a([function(){for(var dt=0,Yt=e.cols;dt<Yt;dt++)r[t++]=0},function(){for(var dt=0,Yt=e.cols;dt<Yt;dt++)r[t++]=1},function(){r[t++]=0;for(var dt=0,Yt=e.cols-2;dt<Yt;dt++)r[t++]=1;r[t++]=0},function(){r[t++]=0,r[t++]=1;for(var dt=0,Yt=e.cols-4;dt<Yt;dt++)r[t++]=0;r[t++]=1,r[t++]=0},function(){for(var dt=0,Yt=~~((e.cols-1)/2);dt<Yt;dt++)r[t++]=-1;r[t++]=1;for(var Lr=0,ot=~~((e.cols-1)/2);Lr<ot;Lr++)r[t++]=-1},function(){for(var dt=0,Yt=~~((e.cols-1)/2);dt<Yt;dt++)r[t++]=-1;r[t++]=0;for(var Lr=0,ot=~~((e.cols-1)/2);Lr<ot;Lr++)r[t++]=-1},function(){r[t++]=1;for(var dt=0,Yt=e.cols-2;dt<Yt;dt++)r[t++]=0;r[t++]=1},function(){r[t++]=1,r[t++]=0;for(var dt=0,Yt=e.cols-4;dt<Yt;dt++)r[t++]=1;r[t++]=0,r[t++]=1}]);e.artifact=C1;var ui=new Map([["A","121343"],["B","12134343"],["C","12121343"],["D","1213434343"],["E","1212134343"],["F","1212121343"],["G","121213434343"],["H","121212134343"],["S","56661278"],["T","5666666666127878"]]);e.cpatmap=ui,e.cpat=d(e.cpatmap,S(e.vers,0,1)),r[t++]=e.pixs,r[t++]=0,r[t++]=~~(C(e.rows-e.cpat.length)/2),e.mmv(),r[t++]=1/0,xe(e.cpat,function(){if(d(e.artifact,r[--t]-49)()===!0)return!0});var fi=a(),Ve=r[--t];R(r[--t],Ve,fi);for(var yt=0,mr=e.risl-1;yt<=mr;yt+=1){e.i=yt;for(var jr=e.riso,gs=e.risi,ln=e.cols-1;gs<0?jr>=ln:jr<=ln;jr+=gs){e.j=jr;var cn=e.i%12==0?1:0,Rn=a([1,cn]);r[t++]=Rn,r[t++]=Rn,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.mmv();var ha=r[t-3],Sa=r[t-1];if(R(r[t-2],Sa,ha),t-=3,e.i!=e.risl-1){r[t++]=e.pixs,r[t++]=C(e.cols-e.j)-2,r[t++]=C(e.rows-e.i)-1,e.mmv();var G1=r[t-3],q1=r[t-1];R(r[t-2],q1,G1),t-=3}else t--}}var Xa=new Map([["A",a([a([12,5])])],["B",a([a([16,7])])],["C",a([a([26,12])])],["D",a([])],["E",a([a([26,23])])],["F",a([a([26,32]),a([70,32]),a([26,34]),a([70,34])])],["G",a([a([27,48]),a([69,48])])],["H",a([a([26,70]),a([66,70]),a([106,70]),a([26,72]),a([66,72]),a([106,72])])],["S-10",a([])],["S-20",a([a([10,4])])],["S-30",a([a([15,4]),a([15,6])])],["T-16",a([a([8,10])])],["T-32",a([a([16,10]),a([16,12])])],["T-48",a([a([24,10]),a([24,12]),a([24,14])])]]);e.blackdotmap=Xa,xe(d(e.blackdotmap,e.vers),function(){var dt=r[--t];r[t++]=e.pixs,O(dt),e.mmv();var Yt=r[--t];g(r[--t],Yt,1)}),e.j=0;for(var Y1=0,Ho=e.pixs.length-1;Y1<=Ho;Y1+=1)e.i=Y1,d(e.pixs,e.i)==-1&&(g(e.pixs,e.i,d(e.mmat,e.j)),e.j=e.j+1);r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows/72*2,r[t++]="width",r[t++]=e.cols/72*2,(e.stype||e.ttype)&&(r[t++]="borderleft",r[t++]=1,r[t++]="borderright",r[t++]=1,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=1),r[t++]="opt",r[t++]=e.options;var Zi=Pe();r[t++]=Zi,e.dontdraw||xt(),e=s}function hU(){var s=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.eclevel="L2",e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hanxinEmptyData#25328",r[t++]="The data must not be empty",Q()),Ee(e.version,"unset")){var n=e.version.length,i=n>=1&&n<=2;if(r[t++]=i,i){t--;var o=e.version;r[t++]=!0;for(var l=0,u=o.length;l<u;l++){var f=d(o,l);(f<48||f>57)&&(r[t-1]=!1)}var h=r[t-1];if(h){t--;var p=Ie(e.version);r[t++]=p>=1&&p<=84}}r[--t]||(r[t++]="bwipp.hanxinInvalidVersion#25339",r[t++]="Valid versions are 1 to 84",Q())}var m=e.eclevel.length==2;if(r[t++]=m,m){t--;var x=W(S(e.eclevel,0,1),"L");if(r[t++]=x,x){t--;var b=d(e.eclevel,1)-48;r[t++]=b>=1&&b<=4}}r[--t]||(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25349",r[t++]="Valid error correction levels are L1 to L4",Q()),e.mask!=-1&&(e.mask<1||e.mask>4)&&(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25354",r[t++]="The valid masks are 1 to 4",Q());var v=new Map([["parse",e.parse],["parsefnc",e.parsefnc]]);e.fncvals=v,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,e.tobin=function(){var Ft=Z(r[--t]);r[t++]=Ft;for(var Vt=0,tr=Ft.length-1;Vt<=tr;Vt+=1){var br=r[t-1];g(br,Vt,48)}var or=r[t-1];r[t++]=or;var Br=r[t-3],lr=r[t-1];r[t-3]=r[t-2],t-=2;var Lt=qt(Z(lr.length),Br,2);R(lr,lr.length-Lt.length,Lt)},e.bits=Z(17+e.msglen*8),R(e.bits,0,"0011"),r[t++]=e.bits,r[t++]=4,r[t++]=e.msglen,r[t++]=13,e.tobin();var y=r[--t],A=r[--t];R(r[--t],A,y);for(var k=0,E=e.msglen-1;k<=E;k+=1){e.i=k,r[t++]=e.bits,r[t++]=17+e.i*8,r[t++]=d(e.msg,e.i),r[t++]=8,e.tobin();var j=r[--t],N=r[--t];R(r[--t],N,j)}e.metrics=a([a(["1",23,-1,0,205,a([1,21,4]),a([0,-1,-1]),a([0,-1,-1]),a([1,17,8]),a([0,-1,-1]),a([0,-1,-1]),a([1,13,12]),a([0,-1,-1]),a([0,-1,-1]),a([1,9,16]),a([0,-1,-1]),a([0,-1,-1])]),a(["2",25,-1,0,301,a([1,31,6]),a([0,-1,-1]),a([0,-1,-1]),a([1,25,12]),a([0,-1,-1]),a([0,-1,-1]),a([1,19,18]),a([0,-1,-1]),a([0,-1,-1]),a([1,15,22]),a([0,-1,-1]),a([0,-1,-1])]),a(["3",27,-1,0,405,a([1,42,8]),a([0,-1,-1]),a([0,-1,-1]),a([1,34,16]),a([0,-1,-1]),a([0,-1,-1]),a([1,26,24]),a([0,-1,-1]),a([0,-1,-1]),a([1,20,30]),a([0,-1,-1]),a([0,-1,-1])]),a(["4",29,14,1,439,a([1,46,8]),a([0,-1,-1]),a([0,-1,-1]),a([1,38,16]),a([0,-1,-1]),a([0,-1,-1]),a([1,30,24]),a([0,-1,-1]),a([0,-1,-1]),a([1,22,32]),a([0,-1,-1]),a([0,-1,-1])]),a(["5",31,16,1,555,a([1,57,12]),a([0,-1,-1]),a([0,-1,-1]),a([1,49,20]),a([0,-1,-1]),a([0,-1,-1]),a([1,37,32]),a([0,-1,-1]),a([0,-1,-1]),a([1,14,20]),a([1,13,22]),a([0,-1,-1])]),a(["6",33,16,1,675,a([1,70,14]),a([0,-1,-1]),a([0,-1,-1]),a([1,58,26]),a([0,-1,-1]),a([0,-1,-1]),a([1,24,20]),a([1,22,18]),a([0,-1,-1]),a([1,16,24]),a([1,18,26]),a([0,-1,-1])]),a(["7",35,17,1,805,a([1,84,16]),a([0,-1,-1]),a([0,-1,-1]),a([1,70,30]),a([0,-1,-1]),a([0,-1,-1]),a([1,26,22]),a([1,28,24]),a([0,-1,-1]),a([2,14,20]),a([1,12,20]),a([0,-1,-1])]),a(["8",37,18,1,943,a([1,99,18]),a([0,-1,-1]),a([0,-1,-1]),a([1,40,18]),a([1,41,18]),a([0,-1,-1]),a([1,31,26]),a([1,32,28]),a([0,-1,-1]),a([2,16,24]),a([1,15,22]),a([0,-1,-1])]),a(["9",39,19,1,1089,a([1,114,22]),a([0,-1,-1]),a([0,-1,-1]),a([2,48,20]),a([0,-1,-1]),a([0,-1,-1]),a([2,24,20]),a([1,26,22]),a([0,-1,-1]),a([2,18,28]),a([1,18,26]),a([0,-1,-1])]),a(["10",41,20,1,1243,a([1,131,24]),a([0,-1,-1]),a([0,-1,-1]),a([1,52,22]),a([1,57,24]),a([0,-1,-1]),a([2,27,24]),a([1,29,24]),a([0,-1,-1]),a([2,21,32]),a([1,19,30]),a([0,-1,-1])]),a(["11",43,14,2,1289,a([1,135,26]),a([0,-1,-1]),a([0,-1,-1]),a([1,56,24]),a([1,57,24]),a([0,-1,-1]),a([2,28,24]),a([1,31,26]),a([0,-1,-1]),a([2,22,32]),a([1,21,32]),a([0,-1,-1])]),a(["12",45,15,2,1455,a([1,153,28]),a([0,-1,-1]),a([0,-1,-1]),a([1,62,26]),a([1,65,28]),a([0,-1,-1]),a([2,32,28]),a([1,33,28]),a([0,-1,-1]),a([3,17,26]),a([1,22,30]),a([0,-1,-1])]),a(["13",47,16,2,1629,a([1,86,16]),a([1,85,16]),a([0,-1,-1]),a([1,71,30]),a([1,72,30]),a([0,-1,-1]),a([2,37,32]),a([1,35,30]),a([0,-1,-1]),a([3,20,30]),a([1,21,32]),a([0,-1,-1])]),a(["14",49,16,2,1805,a([1,94,18]),a([1,95,18]),a([0,-1,-1]),a([2,51,22]),a([1,55,24]),a([0,-1,-1]),a([3,30,26]),a([1,31,26]),a([0,-1,-1]),a([4,18,28]),a([1,17,24]),a([0,-1,-1])]),a(["15",51,17,2,1995,a([1,104,20]),a([1,105,20]),a([0,-1,-1]),a([2,57,24]),a([1,61,26]),a([0,-1,-1]),a([3,33,28]),a([1,36,30]),a([0,-1,-1]),a([4,20,30]),a([1,19,30]),a([0,-1,-1])]),a(["16",53,17,2,2187,a([1,115,22]),a([1,114,22]),a([0,-1,-1]),a([2,65,28]),a([1,61,26]),a([0,-1,-1]),a([3,38,32]),a([1,33,30]),a([0,-1,-1]),a([5,19,28]),a([1,14,24]),a([0,-1,-1])]),a(["17",55,18,2,2393,a([1,126,24]),a([1,125,24]),a([0,-1,-1]),a([2,70,30]),a([1,69,30]),a([0,-1,-1]),a([4,33,28]),a([1,29,26]),a([0,-1,-1]),a([5,20,30]),a([1,19,30]),a([0,-1,-1])]),a(["18",57,19,2,2607,a([1,136,26]),a([1,137,26]),a([0,-1,-1]),a([3,56,24]),a([1,59,26]),a([0,-1,-1]),a([5,35,30]),a([0,-1,-1]),a([0,-1,-1]),a([6,18,28]),a([1,21,28]),a([0,-1,-1])]),a(["19",59,20,2,2829,a([1,148,28]),a([1,149,28]),a([0,-1,-1]),a([3,61,26]),a([1,64,28]),a([0,-1,-1]),a([7,24,20]),a([1,23,22]),a([0,-1,-1]),a([6,20,30]),a([1,21,32]),a([0,-1,-1])]),a(["20",61,20,2,3053,a([3,107,20]),a([0,-1,-1]),a([0,-1,-1]),a([3,65,28]),a([1,72,30]),a([0,-1,-1]),a([7,26,22]),a([1,23,22]),a([0,-1,-1]),a([7,19,28]),a([1,20,32]),a([0,-1,-1])]),a(["21",63,21,2,3291,a([3,115,22]),a([0,-1,-1]),a([0,-1,-1]),a([4,56,24]),a([1,63,28]),a([0,-1,-1]),a([7,28,24]),a([1,25,22]),a([0,-1,-1]),a([8,18,28]),a([1,21,22]),a([0,-1,-1])]),a(["22",65,16,3,3383,a([2,116,22]),a([1,122,24]),a([0,-1,-1]),a([4,56,24]),a([1,72,30]),a([0,-1,-1]),a([7,28,24]),a([1,32,26]),a([0,-1,-1]),a([8,18,28]),a([1,24,30]),a([0,-1,-1])]),a(["23",67,17,3,3631,a([3,127,24]),a([0,-1,-1]),a([0,-1,-1]),a([5,51,22]),a([1,62,26]),a([0,-1,-1]),a([7,30,26]),a([1,35,26]),a([0,-1,-1]),a([8,20,30]),a([1,21,32]),a([0,-1,-1])]),a(["24",69,17,3,3887,a([2,135,26]),a([1,137,26]),a([0,-1,-1]),a([5,56,24]),a([1,59,26]),a([0,-1,-1]),a([7,33,28]),a([1,30,28]),a([0,-1,-1]),a([11,16,24]),a([1,19,26]),a([0,-1,-1])]),a(["25",71,18,3,4151,a([3,105,20]),a([1,121,22]),a([0,-1,-1]),a([5,61,26]),a([1,57,26]),a([0,-1,-1]),a([9,28,24]),a([1,28,22]),a([0,-1,-1]),a([10,19,28]),a([1,18,30]),a([0,-1,-1])]),a(["26",73,18,3,4423,a([2,157,30]),a([1,150,28]),a([0,-1,-1]),a([5,65,28]),a([1,61,26]),a([0,-1,-1]),a([8,33,28]),a([1,34,30]),a([0,-1,-1]),a([10,19,28]),a([2,15,26]),a([0,-1,-1])]),a(["27",75,19,3,4703,a([3,126,24]),a([1,115,22]),a([0,-1,-1]),a([7,51,22]),a([1,54,22]),a([0,-1,-1]),a([8,35,30]),a([1,37,30]),a([0,-1,-1]),a([15,15,22]),a([1,10,22]),a([0,-1,-1])]),a(["28",77,19,3,4991,a([4,105,20]),a([1,103,20]),a([0,-1,-1]),a([7,56,24]),a([1,45,18]),a([0,-1,-1]),a([10,31,26]),a([1,27,26]),a([0,-1,-1]),a([10,17,26]),a([3,20,28]),a([1,21,28])]),a(["29",79,20,3,5287,a([3,139,26]),a([1,137,28]),a([0,-1,-1]),a([6,66,28]),a([1,66,30]),a([0,-1,-1]),a([9,36,30]),a([1,34,32]),a([0,-1,-1]),a([13,19,28]),a([1,17,32]),a([0,-1,-1])]),a(["30",81,20,3,5591,a([6,84,16]),a([1,82,16]),a([0,-1,-1]),a([6,70,30]),a([1,68,30]),a([0,-1,-1]),a([7,35,30]),a([3,33,28]),a([1,32,28]),a([13,20,30]),a([1,20,28]),a([0,-1,-1])]),a(["31",83,21,3,5903,a([5,105,20]),a([1,94,18]),a([0,-1,-1]),a([6,74,32]),a([1,71,30]),a([0,-1,-1]),a([11,33,28]),a([1,34,32]),a([0,-1,-1]),a([13,19,28]),a([3,16,26]),a([0,-1,-1])]),a(["32",85,17,4,6033,a([4,127,24]),a([1,126,24]),a([0,-1,-1]),a([7,66,28]),a([1,66,30]),a([0,-1,-1]),a([12,30,24]),a([1,24,28]),a([1,24,30]),a([15,19,28]),a([1,17,32]),a([0,-1,-1])]),a(["33",87,17,4,6353,a([7,84,16]),a([1,78,16]),a([0,-1,-1]),a([7,70,30]),a([1,66,28]),a([0,-1,-1]),a([12,33,28]),a([1,32,30]),a([0,-1,-1]),a([14,21,32]),a([1,24,28]),a([0,-1,-1])]),a(["34",89,18,4,6689,a([5,117,22]),a([1,117,24]),a([0,-1,-1]),a([8,66,28]),a([1,58,26]),a([0,-1,-1]),a([11,38,32]),a([1,34,32]),a([0,-1,-1]),a([15,20,30]),a([2,17,26]),a([0,-1,-1])]),a(["35",91,18,4,7025,a([4,148,28]),a([1,146,28]),a([0,-1,-1]),a([8,68,30]),a([1,70,24]),a([0,-1,-1]),a([10,36,32]),a([3,38,28]),a([0,-1,-1]),a([16,19,28]),a([3,16,26]),a([0,-1,-1])]),a(["36",93,19,4,7377,a([4,126,24]),a([2,135,26]),a([0,-1,-1]),a([8,70,28]),a([2,43,26]),a([0,-1,-1]),a([13,32,28]),a([2,41,30]),a([0,-1,-1]),a([17,19,28]),a([3,15,26]),a([0,-1,-1])]),a(["37",95,19,4,7729,a([5,136,26]),a([1,132,24]),a([0,-1,-1]),a([5,67,30]),a([4,68,28]),a([1,69,28]),a([14,35,30]),a([1,32,24]),a([0,-1,-1]),a([18,18,26]),a([3,16,28]),a([1,14,28])]),a(["38",97,19,4,8089,a([3,142,26]),a([3,141,28]),a([0,-1,-1]),a([8,70,30]),a([1,73,32]),a([1,74,32]),a([12,34,30]),a([3,34,26]),a([1,35,28]),a([18,21,32]),a([1,27,30]),a([0,-1,-1])]),a(["39",99,20,4,8465,a([5,116,22]),a([2,103,20]),a([1,102,20]),a([9,74,32]),a([1,74,30]),a([0,-1,-1]),a([14,34,28]),a([2,32,32]),a([1,32,30]),a([19,21,32]),a([1,25,26]),a([0,-1,-1])]),a(["40",101,20,4,8841,a([7,116,22]),a([1,117,22]),a([0,-1,-1]),a([11,65,28]),a([1,58,24]),a([0,-1,-1]),a([15,38,32]),a([1,27,28]),a([0,-1,-1]),a([20,20,30]),a([1,20,32]),a([1,21,32])]),a(["41",103,17,5,9009,a([6,136,26]),a([1,130,24]),a([0,-1,-1]),a([11,66,28]),a([1,62,30]),a([0,-1,-1]),a([14,34,28]),a([3,34,32]),a([1,30,30]),a([18,20,30]),a([3,20,28]),a([2,15,26])]),a(["42",105,17,5,9401,a([5,105,20]),a([2,115,22]),a([2,116,22]),a([10,75,32]),a([1,73,32]),a([0,-1,-1]),a([16,38,32]),a([1,27,28]),a([0,-1,-1]),a([22,19,28]),a([2,16,30]),a([1,19,30])]),a(["43",107,18,5,9799,a([6,147,28]),a([1,146,28]),a([0,-1,-1]),a([11,66,28]),a([2,65,30]),a([0,-1,-1]),a([18,33,28]),a([2,33,30]),a([0,-1,-1]),a([22,21,32]),a([1,28,30]),a([0,-1,-1])]),a(["44",109,18,5,10207,a([6,116,22]),a([3,125,24]),a([0,-1,-1]),a([11,75,32]),a([1,68,30]),a([0,-1,-1]),a([13,35,28]),a([6,34,32]),a([1,30,30]),a([23,21,32]),a([1,26,30]),a([0,-1,-1])]),a(["45",111,18,5,10623,a([7,105,20]),a([4,95,18]),a([0,-1,-1]),a([12,67,28]),a([1,63,30]),a([1,62,32]),a([21,31,26]),a([2,33,32]),a([0,-1,-1]),a([23,21,32]),a([2,24,30]),a([0,-1,-1])]),a(["46",113,19,5,11045,a([10,116,22]),a([0,-1,-1]),a([0,-1,-1]),a([12,74,32]),a([1,78,30]),a([0,-1,-1]),a([18,37,32]),a([1,39,30]),a([1,41,28]),a([25,21,32]),a([1,27,28]),a([0,-1,-1])]),a(["47",115,19,5,11477,a([5,126,24]),a([4,115,22]),a([1,114,22]),a([12,67,28]),a([2,66,32]),a([1,68,30]),a([21,35,30]),a([1,39,30]),a([0,-1,-1]),a([26,21,32]),a([1,28,28]),a([0,-1,-1])]),a(["48",117,19,5,11917,a([9,126,24]),a([1,117,22]),a([0,-1,-1]),a([13,75,32]),a([1,68,30]),a([0,-1,-1]),a([20,35,30]),a([3,35,28]),a([0,-1,-1]),a([27,21,32]),a([1,28,30]),a([0,-1,-1])]),a(["49",119,17,6,12111,a([9,126,24]),a([1,137,26]),a([0,-1,-1]),a([13,71,30]),a([2,68,32]),a([0,-1,-1]),a([20,37,32]),a([1,39,28]),a([1,38,28]),a([24,20,32]),a([5,25,28]),a([0,-1,-1])]),a(["50",121,17,6,12559,a([8,147,28]),a([1,141,28]),a([0,-1,-1]),a([10,73,32]),a([4,74,30]),a([1,73,30]),a([16,36,32]),a([6,39,30]),a([1,37,30]),a([27,21,32]),a([3,20,26]),a([0,-1,-1])]),a(["51",123,18,6,13025,a([9,137,26]),a([1,135,26]),a([0,-1,-1]),a([12,70,30]),a([4,75,32]),a([0,-1,-1]),a([24,35,30]),a([1,40,28]),a([0,-1,-1]),a([23,20,32]),a([8,24,30]),a([0,-1,-1])]),a(["52",125,18,6,13489,a([14,95,18]),a([1,86,18]),a([0,-1,-1]),a([13,73,32]),a([3,77,30]),a([0,-1,-1]),a([24,35,30]),a([2,35,28]),a([0,-1,-1]),a([26,21,32]),a([5,21,30]),a([1,23,30])]),a(["53",127,18,6,13961,a([9,147,28]),a([1,142,28]),a([0,-1,-1]),a([10,73,30]),a([6,70,32]),a([1,71,32]),a([25,35,30]),a([2,34,26]),a([0,-1,-1]),a([29,21,32]),a([4,22,30]),a([0,-1,-1])]),a(["54",129,18,6,14441,a([11,126,24]),a([1,131,24]),a([0,-1,-1]),a([16,74,32]),a([1,79,30]),a([0,-1,-1]),a([25,38,32]),a([1,25,30]),a([0,-1,-1]),a([33,21,32]),a([1,28,28]),a([0,-1,-1])]),a(["55",131,19,6,14939,a([14,105,20]),a([1,99,18]),a([0,-1,-1]),a([19,65,28]),a([1,72,28]),a([0,-1,-1]),a([24,37,32]),a([2,40,30]),a([1,41,30]),a([31,21,32]),a([4,24,32]),a([0,-1,-1])]),a(["56",133,19,6,15435,a([10,147,28]),a([1,151,28]),a([0,-1,-1]),a([15,71,30]),a([3,71,32]),a([1,73,32]),a([24,37,32]),a([3,38,30]),a([1,39,30]),a([36,19,30]),a([3,29,26]),a([0,-1,-1])]),a(["57",135,19,6,15939,a([15,105,20]),a([1,99,18]),a([0,-1,-1]),a([19,70,30]),a([1,64,28]),a([0,-1,-1]),a([27,38,32]),a([2,25,26]),a([0,-1,-1]),a([38,20,30]),a([2,18,28]),a([0,-1,-1])]),a(["58",137,17,7,16171,a([14,105,20]),a([1,113,22]),a([1,114,22]),a([17,67,30]),a([3,92,32]),a([0,-1,-1]),a([30,35,30]),a([1,41,30]),a([0,-1,-1]),a([36,21,32]),a([1,26,30]),a([1,27,30])]),a(["59",139,17,7,16691,a([11,146,28]),a([1,146,26]),a([0,-1,-1]),a([20,70,30]),a([1,60,26]),a([0,-1,-1]),a([29,38,32]),a([1,24,32]),a([0,-1,-1]),a([40,20,30]),a([2,17,26]),a([0,-1,-1])]),a(["60",141,18,7,17215,a([3,137,26]),a([1,136,26]),a([10,126,24]),a([22,65,28]),a([1,75,30]),a([0,-1,-1]),a([30,37,32]),a([1,51,30]),a([0,-1,-1]),a([42,20,30]),a([1,21,30]),a([0,-1,-1])]),a(["61",143,18,7,17751,a([12,126,24]),a([2,118,22]),a([1,116,22]),a([19,74,32]),a([1,74,30]),a([1,72,28]),a([30,38,32]),a([2,29,30]),a([0,-1,-1]),a([39,20,32]),a([2,37,26]),a([1,38,26])]),a(["62",145,18,7,18295,a([12,126,24]),a([3,136,26]),a([0,-1,-1]),a([21,70,30]),a([2,65,28]),a([0,-1,-1]),a([34,35,30]),a([1,44,32]),a([0,-1,-1]),a([42,20,30]),a([2,19,28]),a([2,18,28])]),a(["63",147,18,7,18847,a([12,126,24]),a([3,117,22]),a([1,116,22]),a([25,61,26]),a([2,62,28]),a([0,-1,-1]),a([34,35,30]),a([1,40,32]),a([1,41,32]),a([45,20,30]),a([1,20,32]),a([1,21,32])]),a(["64",149,19,7,19403,a([15,105,20]),a([2,115,22]),a([2,116,22]),a([25,65,28]),a([1,72,28]),a([0,-1,-1]),a([18,35,30]),a([17,37,32]),a([1,50,32]),a([42,20,30]),a([6,19,28]),a([1,15,28])]),a(["65",151,19,7,19971,a([19,105,20]),a([1,101,20]),a([0,-1,-1]),a([33,51,22]),a([1,65,22]),a([0,-1,-1]),a([40,33,28]),a([1,28,28]),a([0,-1,-1]),a([49,20,30]),a([1,18,28]),a([0,-1,-1])]),a(["66",153,17,8,20229,a([18,105,20]),a([2,117,22]),a([0,-1,-1]),a([26,65,28]),a([1,80,30]),a([0,-1,-1]),a([35,35,30]),a([3,35,28]),a([1,36,28]),a([52,18,28]),a([2,38,30]),a([0,-1,-1])]),a(["67",155,17,8,20805,a([26,84,16]),a([0,-1,-1]),a([0,-1,-1]),a([26,70,30]),a([0,-1,-1]),a([0,-1,-1]),a([45,31,26]),a([1,9,26]),a([0,-1,-1]),a([52,20,30]),a([0,-1,-1]),a([0,-1,-1])]),a(["68",157,17,8,21389,a([16,126,24]),a([1,114,22]),a([1,115,22]),a([23,70,30]),a([3,65,28]),a([1,66,28]),a([40,35,30]),a([1,43,30]),a([0,-1,-1]),a([46,20,30]),a([7,19,28]),a([1,16,28])]),a(["69",159,18,8,21993,a([19,116,22]),a([1,105,22]),a([0,-1,-1]),a([20,70,30]),a([7,66,28]),a([1,63,28]),a([40,35,30]),a([1,42,32]),a([1,43,32]),a([54,20,30]),a([1,19,30]),a([0,-1,-1])]),a(["70",161,18,8,22593,a([17,126,24]),a([2,115,22]),a([0,-1,-1]),a([24,70,30]),a([4,74,32]),a([0,-1,-1]),a([48,31,26]),a([2,18,26]),a([0,-1,-1]),a([54,19,28]),a([6,15,26]),a([1,14,26])]),a(["71",163,18,8,23201,a([29,84,16]),a([0,-1,-1]),a([0,-1,-1]),a([29,70,30]),a([0,-1,-1]),a([0,-1,-1]),a([6,34,30]),a([3,36,30]),a([38,33,28]),a([58,20,30]),a([0,-1,-1]),a([0,-1,-1])]),a(["72",165,18,8,23817,a([16,147,28]),a([1,149,28]),a([0,-1,-1]),a([31,66,28]),a([1,37,26]),a([0,-1,-1]),a([48,33,28]),a([1,23,26]),a([0,-1,-1]),a([53,20,30]),a([6,19,28]),a([1,17,28])]),a(["73",167,19,8,24453,a([20,115,22]),a([2,134,24]),a([0,-1,-1]),a([29,66,28]),a([2,56,26]),a([2,57,26]),a([45,36,30]),a([2,15,28]),a([0,-1,-1]),a([59,20,30]),a([2,21,32]),a([0,-1,-1])]),a(["74",169,19,8,25085,a([17,147,28]),a([1,134,26]),a([0,-1,-1]),a([26,70,30]),a([5,75,32]),a([0,-1,-1]),a([47,35,30]),a([1,48,32]),a([0,-1,-1]),a([64,18,28]),a([2,33,30]),a([1,35,30])]),a(["75",171,17,9,25373,a([22,115,22]),a([1,133,24]),a([0,-1,-1]),a([33,65,28]),a([1,74,28]),a([0,-1,-1]),a([43,36,30]),a([5,27,28]),a([1,30,28]),a([57,20,30]),a([5,21,32]),a([1,24,32])]),a(["76",173,17,9,26021,a([18,136,26]),a([2,142,26]),a([0,-1,-1]),a([33,66,28]),a([2,49,26]),a([0,-1,-1]),a([48,35,30]),a([2,38,28]),a([0,-1,-1]),a([64,20,30]),a([1,20,32]),a([0,-1,-1])]),a(["77",175,17,9,26677,a([19,126,24]),a([2,135,26]),a([1,136,26]),a([32,66,28]),a([2,55,26]),a([2,56,26]),a([49,36,30]),a([2,18,32]),a([0,-1,-1]),a([65,18,28]),a([5,27,30]),a([1,29,30])]),a(["78",177,18,9,27335,a([20,137,26]),a([1,130,26]),a([0,-1,-1]),a([30,75,32]),a([2,71,32]),a([0,-1,-1]),a([46,35,30]),a([6,39,32]),a([0,-1,-1]),a([3,12,30]),a([70,19,28]),a([0,-1,-1])]),a(["79",179,18,9,28007,a([20,147,28]),a([0,-1,-1]),a([0,-1,-1]),a([35,70,30]),a([0,-1,-1]),a([0,-1,-1]),a([49,35,30]),a([5,35,28]),a([0,-1,-1]),a([70,20,30]),a([0,-1,-1]),a([0,-1,-1])]),a(["80",181,18,9,28687,a([21,136,26]),a([1,155,28]),a([0,-1,-1]),a([34,70,30]),a([1,64,28]),a([1,65,28]),a([54,35,30]),a([1,45,30]),a([0,-1,-1]),a([68,20,30]),a([3,18,28]),a([1,19,28])]),a(["81",183,18,9,29375,a([19,126,24]),a([5,115,22]),a([1,114,22]),a([33,70,30]),a([3,65,28]),a([1,64,28]),a([52,35,30]),a([3,41,32]),a([1,40,32]),a([67,20,30]),a([5,21,32]),a([1,24,32])]),a(["82",185,18,9,30071,a([2,150,28]),a([21,136,26]),a([0,-1,-1]),a([32,70,30]),a([6,65,28]),a([0,-1,-1]),a([52,38,32]),a([2,27,32]),a([0,-1,-1]),a([73,20,30]),a([2,22,32]),a([0,-1,-1])]),a(["83",187,17,10,30387,a([21,126,24]),a([4,136,26]),a([0,-1,-1]),a([30,74,32]),a([6,73,30]),a([0,-1,-1]),a([54,35,30]),a([4,40,32]),a([0,-1,-1]),a([75,20,30]),a([1,20,28]),a([0,-1,-1])]),a(["84",189,17,10,31091,a([30,105,20]),a([1,114,22]),a([0,-1,-1]),a([3,45,22]),a([55,47,20]),a([0,-1,-1]),a([2,26,26]),a([62,33,28]),a([0,-1,-1]),a([79,18,28]),a([4,33,30]),a([0,-1,-1])])]),e.eclval=d(e.eclevel,1)-49;for(var I=e.metrics,M=0,B=I.length;M<B;M++){e.m=d(I,M),e.vers=d(e.m,0),e.size=d(e.m,1),e.alnk=d(e.m,2),e.alnn=d(e.m,3),e.alnr=C(e.size-e.alnk*e.alnn),e.nmod=d(e.m,4),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.ecbs=S(e.m,5+e.eclval*3,3);var F=e.ecbs;r[t++]="ecws",r[t++]=0;for(var D=0,H=F.length;D<H;D++){var T=d(F,D),_=r[--t];r[t++]=C(_+d(T,0)*d(T,2))}var L=r[--t];if(e[r[--t]]=L,e.dcws=C(e.ncws-e.ecws),e.dmod=e.dcws*8,e.okay=!0,Ee(e.version,"unset")&&Ee(e.version,e.vers)&&(e.okay=!1),e.bits.length>e.dmod&&(e.okay=!1),e.okay)break}e.okay||(r[t++]="bwipp.hanxinNoValidSymbol#25749",r[t++]="Maximum length exceeded or invalid content",Q()),e.version=e.vers,e.msgbits=e.bits,e.e1nb=d(d(e.ecbs,0),0),e.e2nb=d(d(e.ecbs,1),0),e.e3nb=d(d(e.ecbs,2),0),e.e1dcws=d(d(e.ecbs,0),1),e.e2dcws=d(d(e.ecbs,1),1),e.e3dcws=d(d(e.ecbs,2),1),e.e1ecws=d(d(e.ecbs,0),2),e.e2ecws=d(d(e.ecbs,1),2),e.e3ecws=d(d(e.ecbs,2),2),e.pad=Z(e.dmod);for(var z=0,G=e.pad.length-1;z<=G;z+=1)g(e.pad,z,48);R(e.pad,0,e.msgbits),e.cws=a(e.dcws);for(var K=0,oe=e.cws.length-1;K<=oe;K+=1){e.c=K,e.cwb=S(e.pad,e.c*8,8),e.cw=0;for(var V=0;V<=7;V+=1)e.i=V,e.cw=C(e.cw+~~v1(2,8-e.i-1)*(d(e.cwb,e.i)-48));g(e.cws,e.c,e.cw)}e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var Ft=0,Vt=e.rsgf-1;Ft<Vt;Ft++){var tr=r[t-1],br=tr*2;if(r[t++]=br,br>=e.rsgf){var or=r[--t];r[t++]=bn(or,e.rspm)}}e.rsalog=a(),e.rslog=a(e.rsgf);for(var Br=1,lr=e.rsgf-1;Br<=lr;Br+=1)g(e.rslog,d(e.rsalog,Br),Br);e.rsprod=function(){var Vs=r[t-1],$n=r[t-2];if(Vs!=0&&$n!=0){var Us=d(e.rslog,r[--t]),An=d(e.rsalog,C(Us+d(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=An}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Lt=0,yr=e.rsnc;Lt<yr;Lt++)r[t++]=0;e.coeffs=a();for(var ns=1,xs=e.rsnc;ns<=xs;ns+=1){e.i=ns,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var js=e.i-1;js>=1;js-=1){e.j=js,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var Gr=r[--t],Bs=r[--t],ws=r[--t];g(r[--t],ws,bn(Bs,Gr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var Ps=r[--t],us=r[--t];g(r[--t],us,Ps)}e.nd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Ns=0,Ds=e.rsnc;Ns<Ds;Ns++)r[t++]=0;r[t++]=0,e.rscws=a();for(var Cs=0,qs=e.nd-1;Cs<=qs;Cs+=1){e.k=bn(d(e.rscws,Cs),d(e.rscws,e.nd));for(var Ys=0,en=e.rsnc-1;Ys<=en;Ys+=1){e.j=Ys,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=d(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=d(e.coeffs,C(e.rsnc-e.j)-1),e.rsprod();var wn=r[--t],Ms=r[--t],On=r[--t];g(r[--t],On,bn(Ms,wn))}}r[t++]=S(e.rscws,0,e.rscws.length-1)},e.dcwsb=a(C(e.e1nb+e.e2nb+e.e3nb)),e.ecwsb=a(e.dcwsb.length),e.in=0,e.out=0;for(var Y=0,ie=e.e1nb;Y<ie;Y++){r[t++]=S(e.cws,e.in,e.e1dcws),r[t++]=e.e1ecws,r[t++]=256,r[t++]=355,e.rscodes();var de=r[--t];g(e.dcwsb,e.out,S(de,0,e.e1dcws)),g(e.ecwsb,e.out,S(de,e.e1dcws,e.e1ecws)),e.in=C(e.in+e.e1dcws),e.out=e.out+1}for(var re=0,ne=e.e2nb;re<ne;re++){r[t++]=S(e.cws,e.in,e.e2dcws),r[t++]=e.e2ecws,r[t++]=256,r[t++]=355,e.rscodes();var le=r[--t];g(e.dcwsb,e.out,S(le,0,e.e2dcws)),g(e.ecwsb,e.out,S(le,e.e2dcws,e.e2ecws)),e.in=C(e.in+e.e2dcws),e.out=e.out+1}for(var ue=0,Me=e.e3nb;ue<Me;ue++){r[t++]=S(e.cws,e.in,e.e3dcws),r[t++]=e.e3ecws,r[t++]=256,r[t++]=355,e.rscodes();var pe=r[--t];g(e.dcwsb,e.out,S(pe,0,e.e3dcws)),g(e.ecwsb,e.out,S(pe,e.e3dcws,e.e3ecws)),e.in=C(e.in+e.e3dcws),e.out=e.out+1}e.cws=a(e.ncws),e.cw=0;for(var Fe=0,Ce=e.dcwsb.length-1;Fe<=Ce;Fe+=1){e.i=Fe;var ve=d(e.dcwsb,e.i);R(e.cws,e.cw,ve),e.cw=ve.length+e.cw;var Be=d(e.ecwsb,e.i);R(e.cws,e.cw,Be),e.cw=Be.length+e.cw}r[t++]=1/0;var Ue=e.ncws,Xe=12,Re=Ue-1;if(Ue-1>12){var Ge=Xe;Xe=Re,Re=Ge}for(var Oe=0,Le=Re;Oe<=Le;Oe+=1)for(var rt=Oe,Se=e.ncws-1;rt<=Se;rt+=13)if(r[t++]=rt,rt<e.ncws){var qe=d(e.cws,r[--t]);r[t++]=qe}else t--;e.cws=a(),e.rbit>0&&(e.pad=a(e.cws.length+1),R(e.pad,0,e.cws),g(e.pad,e.pad.length-1,0),e.cws=e.pad);var We=d(e.options,"debugcws")!==void 0;We&&(r[t++]="bwipp.debugcws#25872",r[t++]=e.cws,Q()),r[t++]=1/0;for(var Ke=0,Te=e.size*e.size;Ke<Te;Ke++)r[t++]=-1;if(e.pixs=a(),e.qmv=function(){var Ft=r[--t],Vt=r[--t];r[t++]=C(Vt+Ft*e.size)},e.alnn!=0){for(e.trmv=function(){var Ft=r[--t],Vt=r[--t];r[t++]=C(Ft*e.size+e.size-1-Vt)},e.aplot=function(){var Ft=r[t-2],Vt=r[t-3],tr=r[t-1];t-=3,r[t++]=tr,r[t++]=Vt,r[t++]=Ft,r[t++]=tr,r[t++]=Ft,r[t++]=Vt,e.trmv();var br=r[--t];r[t++]=e.pixs,r[t++]=br;var or=r[t-3],Br=r[t-1];g(r[t-2],Br,or),t-=3,e.trmv();var lr=r[--t];r[t++]=e.pixs,r[t++]=lr;var Lt=r[t-3],yr=r[t-1];g(r[t-2],yr,Lt),t-=3},e.i=0,e.stag=0;!(e.i>=e.size);){for(var He=0,st=e.size-1;He<=st;He+=1)if(e.j=He,C(e.j+e.alnr)<e.size?r[t++]=(~~(e.j/e.alnk)+e.stag)%2==0&&!(e.i==0&&e.j<e.alnk)||e.j%e.alnk==0:r[t++]=C(e.alnn+e.stag)%2==0,r[--t]){r[t++]=e.j,r[t++]=e.i,r[t++]=1,e.aplot();var gt=e.j,ht=e.i;r[t++]=gt+1,r[t++]=ht+1,ht+1<e.size&&gt+1<e.size?(r[t++]=0,e.aplot()):t-=2}C(e.i+e.alnr)==e.size?e.i=C(e.i+e.alnr)-1:e.i=C(e.i+e.alnk),e.stag=1-e.stag}for(var bt=e.alnk,Et=e.alnk,kt=e.size-2;Et<0?bt>=kt:bt<=kt;bt+=Et){if(e.i=bt,~~(e.i/e.alnk)%2!=0){r[t++]=e.pixs,r[t++]=0,r[t++]=e.i-1,e.trmv();var wt=r[--t];g(r[--t],wt,0),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i+1,e.trmv();var Mt=r[--t];g(r[--t],Mt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i-1,e.trmv();var It=r[--t];g(r[--t],It,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.trmv();var zt=r[--t];g(r[--t],zt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i+1,e.trmv();var Bt=r[--t];g(r[--t],Bt,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=0,e.trmv();var jt=r[--t];g(r[--t],jt,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=0,e.trmv();var U=r[--t];g(r[--t],U,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=1,e.trmv();var $=r[--t];g(r[--t],$,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=1,e.trmv();var P=r[--t];g(r[--t],P,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=1,e.trmv();var q=r[--t];g(r[--t],q,0)}r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var X=r[--t];if(d(r[--t],X)!=1){r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var ce=r[--t];g(r[--t],ce,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i-1,e.trmv();var te=r[--t];g(r[--t],te,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i,e.trmv();var ye=r[--t];g(r[--t],ye,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i+1,e.trmv();var J=r[--t];g(r[--t],J,0),r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i+1,e.trmv();var me=r[--t];g(r[--t],me,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-1,e.trmv();var fe=r[--t];g(r[--t],fe,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-2,e.trmv();var be=r[--t];g(r[--t],be,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.size-2,e.trmv();var se=r[--t];g(r[--t],se,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-2,e.trmv();var ge=r[--t];g(r[--t],ge,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-1,e.trmv();var je=r[--t];g(r[--t],je,0)}}}e.fpat=a([a([1,1,1,1,1,1,1,0]),a([1,0,0,0,0,0,0,0]),a([1,0,1,1,1,1,1,0]),a([1,0,1,0,0,0,0,0]),a([1,0,1,0,1,1,1,0]),a([1,0,1,0,1,1,1,0]),a([1,0,1,0,1,1,1,0]),a([0,0,0,0,0,0,0,0])]),e.fpat2=a([a([1,1,1,0,1,0,1,0]),a([1,1,1,0,1,0,1,0]),a([1,1,1,0,1,0,1,0]),a([0,0,0,0,1,0,1,0]),a([1,1,1,1,1,0,1,0]),a([0,0,0,0,0,0,1,0]),a([1,1,1,1,1,1,1,0]),a([0,0,0,0,0,0,0,0])]);for(var he=0,ke=e.fpat.length-1;he<=ke;he+=1){e.y=he;for(var we=0,Ne=d(e.fpat,0).length-1;we<=Ne;we+=1){e.x=we,e.fpb=d(d(e.fpat,e.y),e.x),e.fpb2=d(d(e.fpat2,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var ze=r[--t];g(r[--t],ze,e.fpb),r[t++]=e.pixs,r[t++]=C(e.size-e.x)-1,r[t++]=e.y,e.qmv();var _e=r[--t];g(r[--t],_e,e.fpb),r[t++]=e.pixs,r[t++]=C(e.size-e.x)-1,r[t++]=C(e.size-e.y)-1,e.qmv();var Je=r[--t];g(r[--t],Je,e.fpb),r[t++]=e.pixs,r[t++]=e.x,r[t++]=C(e.size-e.y)-1,e.qmv();var at=r[--t];g(r[--t],at,e.fpb2)}}e.functionmap=a([a([a([0,8]),a([e.size-1,e.size-9])]),a([a([1,8]),a([e.size-2,e.size-9])]),a([a([2,8]),a([e.size-3,e.size-9])]),a([a([3,8]),a([e.size-4,e.size-9])]),a([a([4,8]),a([e.size-5,e.size-9])]),a([a([5,8]),a([e.size-6,e.size-9])]),a([a([6,8]),a([e.size-7,e.size-9])]),a([a([7,8]),a([e.size-8,e.size-9])]),a([a([8,8]),a([e.size-9,e.size-9])]),a([a([8,7]),a([e.size-9,e.size-8])]),a([a([8,6]),a([e.size-9,e.size-7])]),a([a([8,5]),a([e.size-9,e.size-6])]),a([a([8,4]),a([e.size-9,e.size-5])]),a([a([8,3]),a([e.size-9,e.size-4])]),a([a([8,2]),a([e.size-9,e.size-3])]),a([a([8,1]),a([e.size-9,e.size-2])]),a([a([8,0]),a([e.size-9,e.size-1])]),a([a([e.size-9,0]),a([8,e.size-1])]),a([a([e.size-9,1]),a([8,e.size-2])]),a([a([e.size-9,2]),a([8,e.size-3])]),a([a([e.size-9,3]),a([8,e.size-4])]),a([a([e.size-9,4]),a([8,e.size-5])]),a([a([e.size-9,5]),a([8,e.size-6])]),a([a([e.size-9,6]),a([8,e.size-7])]),a([a([e.size-9,7]),a([8,e.size-8])]),a([a([e.size-9,8]),a([8,e.size-9])]),a([a([e.size-8,8]),a([7,e.size-9])]),a([a([e.size-7,8]),a([6,e.size-9])]),a([a([e.size-6,8]),a([5,e.size-9])]),a([a([e.size-5,8]),a([4,e.size-9])]),a([a([e.size-4,8]),a([3,e.size-9])]),a([a([e.size-3,8]),a([2,e.size-9])]),a([a([e.size-2,8]),a([1,e.size-9])]),a([a([e.size-1,8]),a([0,e.size-9])])]);for(var nt=e.functionmap,Ae=0,Ye=nt.length;Ae<Ye;Ae++)xe(d(nt,Ae),function(){O(r[--t]),e.qmv(),g(e.pixs,r[--t],0)});var Qe=a([function(){t-=2,r[t++]=1},function(){var Ft=r[--t],Vt=r[--t];r[t++]=C(Vt+Ft)%2},function(){var Ft=r[--t],Vt=r[--t];r[t++]=C((Ft+Vt)%3+Vt%3)%2},function(){var Ft=r[--t],Vt=r[--t];r[t++]=C(Vt%Ft+(Ft%Vt+(Ft%3+Vt%3)))%2}]);e.maskfuncs=Qe,e.mask!=-1&&(e.maskfuncs=a([d(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=a(e.maskfuncs.length);for(var Ze=0,pt=e.masks.length-1;Ze<=pt;Ze+=1){e.m=Ze,e.mask=a(e.size*e.size);for(var mt=0,ut=e.size-1;mt<=ut;mt+=1){e.j=mt;for(var vt=0,it=e.size-1;vt<=it&&(e.i=vt,r[t++]=e.i+1,r[t++]=e.j+1,d(e.maskfuncs,e.m)()!==!0);vt+=1){var _t=r[--t];r[t++]=_t==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var et=r[--t],Ht=d(r[--t],et),Gt=r[--t],Ot=Gt&&Ht==-1?1:0;r[t++]=Ot,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var ar=r[t-3],Sr=r[t-1];g(r[t-2],Sr,ar),t-=3}}g(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.num=0;e.posy!=e.size;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var ir=r[--t];if(d(r[--t],ir)==-1){var gr=d(e.cws,~~(e.num/8)),nr=-(7-e.num%8);r[t++]=(nr<0?gr>>>-nr:gr<<nr)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Ir=r[t-3],er=r[t-1];g(r[t-2],er,Ir),t-=3,e.num=e.num+1}e.posx=e.posx+1,e.posx==e.size&&(e.posx=0,e.posy=e.posy+1)}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,xe(e.scrle,function(){var Ns=r[t-1];if(Ns>=3){var Ds=r[--t],Cs=C(r[--t]+Ds*4);r[t++]=Cs,r[t++]=Cs}t--});var Ft=r[--t];e[r[--t]]=Ft,e.scr3=0;for(var Vt=5,tr=e.scrle.length-1;Vt<=tr;Vt+=2)if(e.j=Vt,d(e.scrle,e.j)%3==0){e.fact=~~(d(e.scrle,e.j)/3);for(var br=S(e.scrle,e.j-4,4),or=0,Br=br.length;or<Br;or++)r[t++]=d(br,or)==e.fact;var lr=r[--t],Lt=r[--t],yr=r[--t];r[--t]&&yr&&Lt&&lr&&(e.j==5||e.j+2>=e.scrle.length||d(e.scrle,e.j-5)>=3||d(e.scrle,e.j+1)>=3)&&(e.scr3=e.scr3+50)}for(var ns=1,xs=e.scrle.length-5;ns<=xs;ns+=2)if(e.j=ns,d(e.scrle,e.j)%3==0){e.fact=~~(d(e.scrle,e.j)/3);for(var js=S(e.scrle,e.j+1,4),Gr=0,Bs=js.length;Gr<Bs;Gr++)r[t++]=d(js,Gr)==e.fact;var ws=r[--t],Ps=r[--t],us=r[--t];r[--t]&&us&&Ps&&ws&&(e.j==1||e.j+6>=e.scrle.length||d(e.scrle,e.j-1)>=3||d(e.scrle,e.j+5)>=3)&&(e.scr3=e.scr3+50)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n3=0,e.rle=a(e.size+1),e.lastpairs=a(e.size),e.thispairs=a(e.size),e.sizeadd1=e.size+1;for(var Ft=0,Vt=e.size-1;Ft<=Vt;Ft+=1){e.i=Ft,r[t++]=1/0;var tr=e.size;r[t++]=0,r[t++]=0;for(var br=e.i,or=tr,Br=tr*tr-1;or<0?br>=Br:br<=Br;br+=or){var lr=d(e.sym,br),Lt=r[--t];if(r[t++]=lr,W(Lt,lr)){var yr=r[--t],ns=r[--t];r[t++]=ns+1,r[t++]=yr}else{var xs=r[--t];r[t++]=1,r[t++]=xs}}t--;var js=ys()+2;Wt(S(e.rle,0,js-2)),e.evalfulln1n3(),e.n3=C(r[--t]+e.n3),e.n1=C(r[--t]+e.n1),t--,e.symrow=S(e.sym,e.i*e.size,e.size),r[t++]=1/0;var Gr=e.symrow;r[t++]=0,r[t++]=0;for(var Bs=0,ws=Gr.length;Bs<ws;Bs++){var Ps=d(Gr,Bs),us=r[--t];if(r[t++]=Ps,W(us,Ps)){var Ns=r[--t],Ds=r[--t];r[t++]=Ds+1,r[t++]=Ns}else{var Cs=r[--t];r[t++]=1,r[t++]=Cs}}t--;var qs=ys()+2;Wt(S(e.rle,0,qs-2)),e.evalfulln1n3(),e.n3=C(r[--t]+e.n3),e.n1=C(r[--t]+e.n1),t--}r[t++]=C(e.n1+e.n3)},e.bestscore=999999999;for(var ur=0,Kt=e.masks.length-1;ur<=Kt;ur+=1){e.m=ur,e.masksym=a(e.size*e.size);for(var Xt=0,fr=e.size*e.size-1;Xt<=fr;Xt+=1)e.i=Xt,g(e.masksym,e.i,bn(d(e.pixs,e.i),d(d(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}e.pixs=e.bestsym,e.funval=((~~((e.size-21)/2)+20)*4+e.eclval)*4+e.bestmaskval,r[t++]=a([(e.funval&3840)>>>8,(e.funval&240)>>>4,e.funval&15]),r[t++]=4,r[t++]=16,r[t++]=19,e.rscodes(),e.funvals=r[--t],r[t++]=1/0,xe(e.funvals,function(){r[t++]=4,e.tobin(),xe(r[--t],function(){var Ft=r[--t];r[t++]=Ft-48})}),r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,e.funbits=a();for(var Mr=0,Ur=e.functionmap.length-1;Mr<=Ur;Mr+=1)e.i=Mr,xe(d(e.functionmap,e.i),function(){var Ft=r[--t];r[t++]=e.pixs,O(Ft),e.qmv();var Vt=r[--t];g(r[--t],Vt,d(e.funbits,e.i))});var ms=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=ms,e.dontdraw||xt(),e=s}function q9(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.ratio=-1,e.parse=!1,e.parsefnc=!1,e.raw=!1,e.fast=!1,e.mask=-1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.rows!=-1&&e.rows<5&&(r[t++]="bwipp.dotcodeBadRows#26228",r[t++]="There must be at least 5 rows",Q()),e.columns!=-1&&e.columns<5&&(r[t++]="bwipp.dotcodeBadColumns#26234",r[t++]="There must be at least 5 columns",Q()),e.rows!=-1&&e.columns!=-1&&(e.rows+e.columns)%2!=1&&(r[t++]="bwipp.dotcodeRowsColumnsBadParity#26239",r[t++]="Sum of rows and columns must be odd",Q()),e.ratio==-1&&e.rows==-1&&e.columns==-1&&(e.ratio=3/2),e.ratio!=-1&&e.ratio<=0&&(r[t++]="bwipp.dotcodeRatio#26248",r[t++]="The ratio must be greater than 0",Q()),e.mask!=-1&&(e.mask<0||e.mask>3)&&(r[t++]="bwipp.dotcodeBadMask#26254",r[t++]="Valid mask values are 0 to 3",Q()),e.laa=-1,e.lab=-2,e.lac=-3,e.bin=-4,e.sfa=-5,e.sfb=-6,e.sb2=-7,e.sb3=-8,e.sb4=-9,e.sb5=-10,e.sb6=-11,e.sfc=-12,e.sc2=-13,e.sc3=-14,e.sc4=-15,e.sc5=-16,e.sc6=-17,e.sc7=-18,e.bsa=-19,e.bsb=-20,e.tma=-21,e.tmb=-22,e.tmc=-23,e.tms=-24,e.fn1=-25,e.fn2=-26,e.fn3=-27,e.crl=-28,e.aim=-29,e.m05=-30,e.m06=-31,e.m12=-32,e.mac=-33;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,e.msglen=e.msg.length;var o=e.msg;r[t++]="numecis",r[t++]=0;for(var l=0,u=o.length;l<u;l++)if(d(o,l)<=-1e6){var f=r[--t];r[t++]=f+1}var h=r[--t];e[r[--t]]=h,e.msgtmp=a(C(e.msg.length+e.numecis*6)),e.j=0;for(var p=0,m=e.msg.length-1;p<=m;p+=1){var x=d(e.msg,p);if(r[t++]=x,x<=-1e6){for(var b=S(qt(Z(7),-r[--t],10),1,6),v=0,w=b.length;v<w;v++)r[t++]=d(b,v);Wt(a(6)),R(e.msgtmp,e.j+1,r[--t]),g(e.msgtmp,e.j,e.fn2),e.j=e.j+7}else g(e.msgtmp,e.j,r[--t]),e.j=e.j+1}e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=a([a([32,32,"00"]),a(["!","!","01"]),a(['"','"',"02"]),a(["#","#","03"]),a(["$","$","04"]),a(["%","%","05"]),a(["&","&","06"]),a(["'","'","07"]),a([40,40,"08"]),a([41,41,"09"]),a(["*","*","10"]),a(["+","+","11"]),a([",",",","12"]),a(["-","-","13"]),a([".",".","14"]),a(["/","/","15"]),a(["0","0","16"]),a(["1","1","17"]),a(["2","2","18"]),a(["3","3","19"]),a(["4","4","20"]),a(["5","5","21"]),a(["6","6","22"]),a(["7","7","23"]),a(["8","8","24"]),a(["9","9","25"]),a([":",":","26"]),a([";",";","27"]),a(["<","<","28"]),a(["=","=","29"]),a([">",">","30"]),a(["?","?","31"]),a(["@","@","32"]),a(["A","A","33"]),a(["B","B","34"]),a(["C","C","35"]),a(["D","D","36"]),a(["E","E","37"]),a(["F","F","38"]),a(["G","G","39"]),a(["H","H","40"]),a(["I","I","41"]),a(["J","J","42"]),a(["K","K","43"]),a(["L","L","44"]),a(["M","M","45"]),a(["N","N","46"]),a(["O","O","47"]),a(["P","P","48"]),a(["Q","Q","49"]),a(["R","R","50"]),a(["S","S","51"]),a(["T","T","52"]),a(["U","U","53"]),a(["V","V","54"]),a(["W","W","55"]),a(["X","X","56"]),a(["Y","Y","57"]),a(["Z","Z","58"]),a(["[","[","59"]),a([92,92,"60"]),a(["]","]","61"]),a(["^","^","62"]),a(["_","_","63"]),a([0,"`","64"]),a([1,"a","65"]),a([2,"b","66"]),a([3,"c","67"]),a([4,"d","68"]),a([5,"e","69"]),a([6,"f","70"]),a([7,"g","71"]),a([8,"h","72"]),a([9,"i","73"]),a([10,"j","74"]),a([11,"k","75"]),a([12,"l","76"]),a([13,"m","77"]),a([14,"n","78"]),a([15,"o","79"]),a([16,"p","80"]),a([17,"q","81"]),a([18,"r","82"]),a([19,"s","83"]),a([20,"t","84"]),a([21,"u","85"]),a([22,"v","86"]),a([23,"w","87"]),a([24,"x","88"]),a([25,"y","89"]),a([26,"z","90"]),a([27,"{","91"]),a([28,"|","92"]),a([29,"}","93"]),a([30,"~","94"]),a([31,127,"95"]),a([e.sfb,e.crl,"96"]),a([e.sb2,9,"97"]),a([e.sb3,28,"98"]),a([e.sb4,29,"99"]),a([e.sb5,30,e.aim]),a([e.sb6,e.sfa,e.laa]),a([e.lab,e.laa,e.sfb]),a([e.sc2,e.sc2,e.sb2]),a([e.sc3,e.sc3,e.sb3]),a([e.sc4,e.sc4,e.sb4]),a([e.lac,e.lac,e.lab]),a([e.fn1,e.fn1,e.fn1]),a([e.fn2,e.fn2,e.fn2]),a([e.fn3,e.fn3,e.fn3]),a([e.bsa,e.bsa,e.bsa]),a([e.bsb,e.bsb,e.bsb]),a([e.bin,e.bin,e.bin])]),e.charvals=a([new Map,new Map,new Map]);for(var y=0,A=e.charmaps.length-1;y<=A;y+=1){e.i=y,e.encs=d(e.charmaps,e.i);for(var k=0;k<=2;k+=1){e.j=k;var E=d(e.encs,e.j);if(r[t++]=E,W(oa(E),"stringtype")){var j=d(r[--t],0);r[t++]=j}g(d(e.charvals,e.j),r[--t],e.i)}}e.Avals=d(e.charvals,0),e.Bvals=d(e.charvals,1),g(e.Bvals,e.m05,97),g(e.Bvals,e.m06,98),g(e.Bvals,e.m12,99),g(e.Bvals,e.mac,100),e.Cvals=d(e.charvals,2),r[t++]=1/0;var N=a([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7,e.tma,e.tmb,e.tmc,e.tms]);r[t++]=102;for(var I=0,M=N.length;I<M;I++){var B=r[--t]+1;r[t++]=d(N,I),r[t++]=B,r[t++]=B}t--,e.BINvals=Pe(),e.A=0,e.B=1,e.C=2,e.BIN=3,r[t++]=1/0;for(var F=0,D=e.msglen+1;F<D;F++)r[t++]=0;e.nDigits=a(),r[t++]=1/0;for(var H=0,T=e.msglen+1;H<T;H++)r[t++]=!1;e.SeventeenTen=a(),r[t++]=1/0;for(var _=0,L=e.msglen+1;_<L;_++)r[t++]=!1;e.ECI=a(),r[t++]=1/0;for(var z=0,G=e.msglen+1;z<G;z++)r[t++]=!1;e.DatumA=a(),r[t++]=1/0;for(var K=0,oe=e.msglen+1;K<oe;K++)r[t++]=!1;e.DatumB=a(),r[t++]=1/0;for(var V=0,Y=e.msglen+1;V<Y;V++)r[t++]=!1;e.DatumC=a(),r[t++]=1/0;for(var ie=0,de=e.msglen+8;ie<de;ie++)r[t++]=!1;e.Binary=a(),r[t++]=1/0;for(var re=0,ne=e.msglen+1;re<ne;re++)r[t++]=0;e.AheadC=a(),r[t++]=1/0;for(var le=0,ue=e.msglen+1;le<ue;le++)r[t++]=0;e.TryC=a(),r[t++]=1/0;for(var Me=0,pe=e.msglen+1;Me<pe;Me++)r[t++]=0;e.AheadA=a(),r[t++]=1/0;for(var Fe=0,Ce=e.msglen+1;Fe<Ce;Fe++)r[t++]=0;e.AheadB=a(),r[t++]=1/0;for(var ve=0,Be=e.msglen+1;ve<Be;ve++)r[t++]=0;e.UntilEndSeg=a();for(var Ue=e.msglen-1;Ue>=0;Ue-=1){e.i=Ue,e.barchar=d(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.nDigits,e.i,d(e.nDigits,e.i+1)+1);var Xe=d(e.Avals,e.barchar)!==void 0;Xe&&g(e.DatumA,e.i,!0);var Re=d(e.Bvals,e.barchar)!==void 0;if(Re&&g(e.DatumB,e.i,!0),e.CRLF=!1,e.barchar==13&&e.i<e.msglen-1&&d(e.msg,e.i+1)==10&&(e.CRLF=!0),e.CRLF&&g(e.DatumB,e.i,!0),d(e.nDigits,e.i)>=2&&g(e.DatumC,e.i,!0),e.barchar<0&&g(e.DatumC,e.i,!0),e.barchar>=128&&g(e.Binary,e.i,!0),d(e.nDigits,e.i)>=10){r[t++]=1/0,O(S(e.msg,e.i,10));for(var Ge=0;Ge<1;Ge++){if(r[--t]!=48){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}if(t-=6,r[--t]!=55){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}r[t++]=!0}r[t++]=e.SeventeenTen,r[t++]=e.i;var Oe=r[t-3],Le=r[t-1];g(r[t-2],Le,Oe),t-=3,cl()}if(d(e.nDigits,e.i+1)>=6&&d(e.msg,e.i)==e.fn2&&g(e.ECI,e.i,!0),e.barchar<0&&e.barchar!=e.fn3?g(e.AheadC,e.i,d(e.AheadC,e.i+1)+1):d(e.nDigits,e.i)<=1?g(e.AheadC,e.i,0):g(e.AheadC,e.i,d(e.AheadC,e.i+2)+1),d(e.nDigits,e.i)>0&&Li(d(e.AheadC,e.i),d(e.AheadC,e.i+1))&&g(e.TryC,e.i,d(e.AheadC,e.i)),d(e.DatumA,e.i)&&d(e.TryC,e.i)<2&&e.barchar!=e.fn3&&g(e.AheadA,e.i,d(e.AheadA,e.i+1)+1),d(e.DatumB,e.i)&&d(e.TryC,e.i)<2&&e.barchar!=e.fn3){if(r[t++]=e.AheadB,r[t++]=e.i,r[t++]=e.AheadB,r[t++]=e.i+1,e.CRLF){var rt=r[--t];r[t++]=rt+1}var Se=r[--t],qe=d(r[--t],Se),We=r[--t];g(r[--t],We,qe+1)}e.barchar!=e.fn3&&g(e.UntilEndSeg,e.i,d(e.UntilEndSeg,e.i+1)+1)}for(e.addtocws=function(){var me=r[--t];R(e.cws,e.j,me),e.j=me.length+e.j},e.base259to103=function(){e.in=r[--t],e.inlen=e.in.length,r[t++]=1/0;for(var me=0,fe=5-e.inlen;me<fe;me++)r[t++]=0;O(e.in),e.in=a(),e.out=a(6),r[t++]=1/0,O(S(e.in,0,2)),e.msbs=a(),r[t++]=1/0,O(e.msbs);var be=r[--t],se=r[--t];r[t++]=C(be+se*259);for(var ge=0;ge<2;ge++){var je=r[--t];r[t++]=je%103,r[t++]=~~(je/103)}e.mscs=a(),r[t++]=1/0,O(S(e.in,2,3)),e.lsbs=a(),r[t++]=1/0,O(e.lsbs);var he=r[--t],ke=r[--t],we=r[--t];r[t++]=C(he+ke*259+we*67081);for(var Ne=0;Ne<3;Ne++){var ze=r[--t];r[t++]=ze%103,r[t++]=~~(ze/103)}e.lscs=a();var _e=d(e.lscs,0),Je=d(e.mscs,0);g(e.out,5,C(_e+Je*42)%103);var at=d(e.lscs,1),nt=d(e.mscs,0),Ae=d(e.mscs,1);g(e.out,4,C(~~((_e+Je*42)/103)+at+nt*68+Ae*42)%103);var Ye=d(e.lscs,2),Qe=d(e.mscs,0),Ze=d(e.mscs,1),pt=d(e.mscs,2);g(e.out,3,C(~~((~~((_e+Je*42)/103)+at+nt*68+Ae*42)/103)+Ye+Qe*92+Ze*68+pt*42)%103);var mt=d(e.lscs,3),ut=d(e.mscs,0),vt=d(e.mscs,1),it=d(e.mscs,2);g(e.out,2,C(~~((~~((~~((_e+Je*42)/103)+at+nt*68+Ae*42)/103)+Ye+Qe*92+Ze*68+pt*42)/103)+mt+ut*15+vt*92+it*68)%103);var _t=d(e.mscs,1),et=d(e.mscs,2);g(e.out,1,C(~~((~~((~~((~~((_e+Je*42)/103)+at+nt*68+Ae*42)/103)+Ye+Qe*92+Ze*68+pt*42)/103)+mt+ut*15+vt*92+it*68)/103)+_t*15+et*92)%103),g(e.out,0,C(~~((~~((~~((~~((~~((_e+Je*42)/103)+at+nt*68+Ae*42)/103)+Ye+Qe*92+Ze*68+pt*42)/103)+mt+ut*15+vt*92+it*68)/103)+_t*15+et*92)/103)+d(e.mscs,2)*15)%103),r[t++]=S(e.out,6-e.inlen-1,e.inlen+1)},e.finaliseBIN=function(){e.bpos!=0&&(r[t++]=S(e.bvals,0,e.bpos),e.base259to103(),O(r[--t]),e.bpos=0)},e.addtobin=function(){g(e.bvals,e.bpos,r[--t]),e.bpos=e.bpos+1,e.bpos==5&&e.finaliseBIN()},e.ECIabc=function(){var me=S(e.msg,e.i+1,6);r[t++]=0;for(var fe=0,be=me.length;fe<be;fe++){var se=r[--t];r[t++]=C(se+(d(me,fe)-48))*10}var ge=~~(r[--t]/10);if(r[t++]=ge,ge>=40){var je=r[--t]-40,he=je%12769;r[t++]=~~(je/12769)+40,r[t++]=~~(he/113),r[t++]=he%113}},e.ECIbin=function(){r[t++]=1/0;var me=S(e.msg,e.i+1,6);r[t++]=0;for(var fe=0,be=me.length;fe<be;fe++){var se=r[--t];r[t++]=C(se+(d(me,fe)-48))*10}var ge=~~(r[--t]/10);if(r[t++]=ge,ge>=65536){var je=r[--t],he=je%65536;r[t++]=258,r[t++]=~~(je/65536),r[t++]=~~(he/256),r[t++]=he%256}else{var ke=r[t-1];if(ke>=256){var we=r[--t];r[t++]=257,r[t++]=~~(we/256),r[t++]=we%256}else{var Ne=r[--t];r[t++]=256,r[t++]=Ne}}for(var ze=a(),_e=0,Je=ze.length;_e<Je;_e++)r[t++]=d(ze,_e),e.addtobin()},e.encC=function(){for(var me=0;me<1;me++){if(e.i==e.segstart){for(var fe=0;fe<1;fe++){if(e.i>e.segend-7){r[t++]=0;break}if(d(e.msg,e.segstart)!=91){r[t++]=0;break}if(d(e.msg,e.segstart+1)!=41){r[t++]=0;break}if(d(e.msg,e.segstart+2)!=62){r[t++]=0;break}if(d(e.msg,e.segstart+3)!=30){r[t++]=0;break}var be=d(e.msg,e.segstart+4);if(be<48||be>57){r[t++]=0;break}var se=d(e.msg,e.segstart+5);if(se<48||se>57){r[t++]=0;break}if(d(e.msg,e.segend-1)!=4){r[t++]=0;break}var ge=C((d(e.msg,e.segstart+4)-48)*10+(d(e.msg,e.segstart+5)-48));if(r[t++]=ge,ge!=5&&ge!=6&&ge!=12){r[t-1]=e.mac;break}if(d(e.msg,e.segstart+6)!=29){r[t-1]=0;break}if(d(e.msg,e.segend-2)!=30){r[t-1]=0;break}var je=r[t-1];if(je==5){r[t-1]=e.m05;break}if(r[--t]==6){r[t++]=e.m06;break}r[t++]=e.m12;break}if(e.inmac=r[--t],e.inmac!=0){r[t++]=a([d(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B,r[t++]=a([d(e.Bvals,e.inmac)]),e.addtocws(),e.inmac==e.mac?(r[t++]=a([d(e.Bvals,d(e.msg,e.segstart+4))]),e.addtocws(),r[t++]=a([d(e.Bvals,d(e.msg,e.segstart+5))]),e.addtocws(),e.i=e.i+6):e.i=e.i+7;break}}if(e.i==e.segstart&&(d(e.nDigits,e.i)>=2&&(r[t++]=a([d(e.Cvals,e.fn1)]),e.addtocws()),d(e.msg,e.i)==e.fn1&&d(e.nDigits,e.i+1)>=2&&(e.i=e.i+1)),d(e.SeventeenTen,e.i)){r[t++]=a([d(e.Cvals,e.aim),C((d(e.msg,e.i+2)-48)*10+(d(e.msg,e.i+3)-48)),C((d(e.msg,e.i+4)-48)*10+(d(e.msg,e.i+5)-48)),C((d(e.msg,e.i+6)-48)*10+(d(e.msg,e.i+7)-48))]),e.addtocws(),e.i=e.i+10;break}if(d(e.DatumC,e.i)){var he=d(e.msg,e.i);if(he==e.fn1||he==e.fn2||he==e.fn3){if(r[t++]=a([d(e.Cvals,d(e.msg,e.i))]),e.addtocws(),d(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var ke=a();r[t++]=ke,e.addtocws(),e.i=e.i+7;break}if(d(e.msg,e.i)==e.fn3&&e.segstart!=e.i){e.i=e.i+1,e.inmac=0,e.segstart=e.i,e.segend=C(e.i+d(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=a([C((d(e.msg,e.i)-48)*10+(d(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2;break}if(d(e.Binary,e.i)){if(d(e.nDigits,e.i+1)>0){d(e.msg,e.i)<160?(r[t++]=a([d(e.Cvals,e.bsa),d(e.Avals,d(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=a([d(e.Cvals,e.bsb),d(e.Bvals,d(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=a([d(e.Cvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.m=d(e.AheadA,e.i),e.n=d(e.AheadB,e.i),Li(e.m,e.n)){r[t++]=a([d(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}if(e.i==e.segstart){var we=d(e.msg,e.i);if(we==9||we==28||we==29||we==30){r[t++]=a([d(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}}if(e.n>4){r[t++]=a([d(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=a([d(e.Cvals,d(a([e.sfb,e.sb2,e.sb3,e.sb4]),e.n-1))]),e.addtocws();for(var Ne=0,ze=e.n;Ne<ze;Ne++)d(e.msg,e.i)==13?(r[t++]=a([d(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=a([d(e.Bvals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encB=function(){for(var me=0;me<1;me++){if(e.n=d(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=a([d(e.Bvals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=a([d(e.Bvals,d(a([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var fe=0,be=e.n;fe<be;fe++)d(e.msg,e.i)<0?(r[t++]=a([d(e.Cvals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=a([C((d(e.msg,e.i)-48)*10+(d(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(d(e.DatumB,e.i)){var se=d(e.msg,e.i);if(se==e.fn1||se==e.fn2||se==e.fn3){if(r[t++]=a([d(e.Bvals,d(e.msg,e.i))]),e.addtocws(),d(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var ge=a();r[t++]=ge,e.addtocws(),e.i=e.i+7;break}if(d(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=C(e.i+d(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}if(d(e.msg,e.i)==13&&e.i<e.msglen-1&&d(e.msg,e.i+1)==10){r[t++]=a([d(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2;break}r[t++]=a([d(e.Bvals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(d(e.Binary,e.i)){if(d(e.DatumB,e.i+1)){d(e.msg,e.i)<160?(r[t++]=a([d(e.Bvals,e.bsa),d(e.Avals,d(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=a([d(e.Bvals,e.bsb),d(e.Bvals,d(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=a([d(e.Bvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(d(e.AheadA,e.i)==1){r[t++]=a([d(e.Bvals,e.sfa),d(e.Avals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}r[t++]=a([d(e.Bvals,e.laa)]),e.addtocws(),e.mode=e.A;break}},e.encA=function(){for(var me=0;me<1;me++){if(e.n=d(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=a([d(e.Avals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=a([d(e.Avals,d(a([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var fe=0,be=e.n;fe<be;fe++)d(e.msg,e.i)<0?(r[t++]=a([d(e.Cvals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=a([C((d(e.msg,e.i)-48)*10+(d(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(d(e.DatumA,e.i)){var se=d(e.msg,e.i);if(se==e.fn1||se==e.fn2||se==e.fn3){if(r[t++]=a([d(e.Avals,d(e.msg,e.i))]),e.addtocws(),d(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var ge=a();r[t++]=ge,e.addtocws(),e.i=e.i+7;break}if(d(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=C(e.i+d(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=a([d(e.Avals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(d(e.Binary,e.i)){if(d(e.DatumA,e.i+1)){d(e.msg,e.i)<160?(r[t++]=a([d(e.Avals,e.bsa),d(e.Avals,d(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=a([d(e.Avals,e.bsb),d(e.Bvals,d(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=a([d(e.Avals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.n=d(e.AheadB,e.i),e.n>6){r[t++]=a([d(e.Avals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=a([d(e.Avals,d(a([e.sfb,e.sb2,e.sb3,e.sb4,e.sb5,e.sb6]),e.n-1))]),e.addtocws();for(var je=0,he=e.n;je<he;je++)d(e.msg,e.i)==13?(r[t++]=a([d(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=a([d(e.Bvals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encBIN=function(){for(var me=0;me<1;me++){if(e.n=d(e.TryC,e.i),e.n>=2){r[t++]=1/0,e.finaliseBIN();var fe=a();if(r[t++]=fe,e.addtocws(),e.n>7){r[t++]=a([d(e.BINvals,e.tmc)]),e.addtocws(),e.mode=e.C;break}r[t++]=a([d(e.BINvals,d(a([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7]),e.n-2))]),e.addtocws();for(var be=0,se=e.n;be<se;be++)d(e.msg,e.i)<0?(r[t++]=a([d(e.Cvals,d(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=a([C((d(e.msg,e.i)-48)*10+(d(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(d(e.ECI,e.i)&&d(e.Binary,e.i+7)){r[t++]=1/0,e.ECIbin();var ge=a();if(r[t++]=ge,e.addtocws(),e.i=e.i+7,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var je=a();r[t++]=je,e.addtocws()}break}if(d(e.msg,e.i)>=0&&(d(e.Binary,e.i)||d(e.Binary,e.i+1)||d(e.Binary,e.i+2)||d(e.Binary,e.i+3)||d(e.ECI,e.i+1)&&d(e.Binary,e.i+8))){r[t++]=1/0,r[t++]=d(e.msg,e.i),e.addtobin();var he=a();if(r[t++]=he,e.addtocws(),e.i=e.i+1,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var ke=a();r[t++]=ke,e.addtocws()}break}r[t++]=1/0,e.finaliseBIN();var we=a();if(r[t++]=we,e.addtocws(),e.i!=e.msglen-1){if(d(e.msg,e.i)==e.fn3&&e.i!=e.segstart){r[t++]=a([d(e.BINvals,e.tms)]),e.addtocws(),e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=C(e.i+d(e.UntilEndSeg,e.i));break}Li(d(e.AheadA,e.i),d(e.AheadB,e.i))?(r[t++]=a([d(e.BINvals,e.tma)]),e.addtocws(),e.mode=e.A):(r[t++]=a([d(e.BINvals,e.tmb)]),e.addtocws(),e.mode=e.B);break}break}},e.cws=a(e.msglen*2+1),e.mode=e.C,e.bvals=a(5),e.bpos=0,e.inmac=0,e.segstart=0,e.segend=d(e.UntilEndSeg,0),e.i=0,e.j=0;!(e.i>=e.msglen||e.inmac!=0&&(e.inmac!=e.mac&&e.i==e.segend-2&&(e.i=e.i+2,e.i>=e.msglen)||e.inmac==e.mac&&e.i==e.segend-1&&(e.i=e.i+1,e.i>=e.msglen))||e[d(a(["encA","encB","encC","encBIN"]),e.mode)]()===!0););if(e.cws=S(e.cws,0,e.j),e.nd=e.cws.length,e.minarea=((e.nd+3+~~(e.nd/2))*9+2)*2,e.ratio!=-1)e.hgt=Yu(e.minarea/e.ratio),e.wid=Yu(e.minarea*e.ratio),e.h=~~e.hgt,e.w=~~e.wid,(e.h+e.w)%2==1?e.h*e.w<e.minarea&&(e.h=e.h+1,e.w=e.w+1):e.hgt*e.w<e.wid*e.h?(e.w=e.w+1,e.h*e.w<e.minarea&&(e.w=e.w-1,e.h=e.h+1,e.h*e.w<e.minarea&&(e.w=e.w+2))):(e.h=e.h+1,e.h*e.w<e.minarea&&(e.h=e.h-1,e.w=e.w+1,e.h*e.w<e.minarea&&(e.h=e.h+2))),e.rows=e.h,e.columns=e.w;else{if(e.columns==-1){var Ke=~~((e.minarea+e.rows-1)/e.rows);if(r[t++]="columns",r[t++]=Ke,(Ke+e.rows)%2==0){var Te=r[--t];r[t++]=Te+1}var He=r[--t];e[r[--t]]=He}if(e.rows==-1){var st=~~((e.minarea+e.columns-1)/e.columns);if(r[t++]="rows",r[t++]=st,(st+e.columns)%2==0){var gt=r[--t];r[t++]=gt+1}var ht=r[--t];e[r[--t]]=ht}}for(e.ndots=~~(e.rows*e.columns/2);;){var bt=e.nd+1;if((bt+(~~(bt/2)+3))*9+2>e.ndots)break;e.nd=e.nd+1}if(e.nc=~~(e.nd/2)+3,e.nw=e.nd+e.nc,e.rembits=e.ndots-(e.nw*9+2),e.nd>e.cws.length){r[t++]=1/0,O(e.cws);var Et=e.mode==e.BIN?109:106;r[t++]=Et;for(var kt=0,wt=e.nd-e.cws.length-1;kt<wt;kt++)r[t++]=106;e.cws=a()}var Mt=d(e.options,"debugcws")!==void 0;Mt&&(r[t++]="bwipp.debugcws#26927",r[t++]=e.cws,Q()),e.nw*9>e.ndots-2&&(r[t++]="bwipp.dotcodeTooLong#26931",r[t++]="Maximum length exceeded",Q()),e.encs=a(["101010101","010101011","010101101","010110101","011010101","101010110","101011010","101101010","110101010","010101110","010110110","010111010","011010110","011011010","011101010","100101011","100101101","100110101","101001011","101001101","101010011","101011001","101100101","101101001","110010101","110100101","110101001","001010111","001011011","001011101","001101011","001101101","001110101","010010111","010011011","010011101","010100111","010110011","010111001","011001011","011001101","011010011","011011001","011100101","011101001","100101110","100110110","100111010","101001110","101011100","101100110","101101100","101110010","101110100","110010110","110011010","110100110","110101100","110110010","110110100","111001010","111010010","111010100","001011110","001101110","001110110","001111010","010011110","010111100","011001110","011011100","011100110","011101100","011110010","011110100","100010111","100011011","100011101","100100111","100110011","100111001","101000111","101100011","101110001","110001011","110001101","110010011","110011001","110100011","110110001","111000101","111001001","111010001","000101111","000110111","000111011","000111101","001001111","001100111","001110011","001111001","010001111","011000111","011100011","011110001","100011110","100111100","101111000","110001110","110011100","110111000","111000110","111001100"]),e.rows%2==0?e.sixedges=a([a([e.columns-1,e.rows-2]),a([0,e.rows-2]),a([e.columns-2,e.rows-1]),a([1,e.rows-1]),a([e.columns-1,0]),a([0,0])]):e.sixedges=a([a([e.columns-2,0]),a([e.columns-2,e.rows-1]),a([e.columns-1,1]),a([e.columns-1,e.rows-2]),a([0,0]),a([0,e.rows-1])]),e.dmv=function(){var me=r[--t],fe=r[--t];r[t++]=C(fe+me*e.columns)},e.outline=a(e.rows*e.columns);for(var It=0,zt=e.rows-1;It<=zt;It+=1){e.y=It;for(var Bt=0,jt=e.columns-1;Bt<=jt;Bt+=1){e.x=Bt,r[t++]=e.outline,r[t++]=e.x,r[t++]=e.y,e.dmv();var U=r[--t];g(r[--t],U,(e.x+e.y)%2-1)}}for(var $=e.sixedges,P=0,q=$.length;P<q;P++){r[t++]=e.outline,O(d($,P)),e.dmv();var X=r[--t];g(r[--t],X,1)}e.clearcol=function(){e.x=r[--t],r[t++]=!0;for(var me=e.x&1,fe=e.rows-1;me<=fe;me+=2)if(r[t++]=e.x,r[t++]=me,e.dmv(),d(e.sym,r[--t])==1){r[t-1]=!1;break}},e.clearrow=function(){e.y=r[--t],r[t++]=!0;for(var me=e.y&1,fe=e.columns-1;me<=fe;me+=2)if(r[t++]=me,r[t++]=e.y,e.dmv(),d(e.sym,r[--t])==1){r[t-1]=!1;break}},e.evalsymbol=function(){e.sym=r[--t],e.worst=9999999;for(var me=a([a(["x",0]),a(["x",1]),a(["y",0]),a(["y",1])]),fe=0,be=me.length;fe<be;fe++){O(d(me,fe)),e.fl=r[--t],e.dir=r[--t],e.sum=0,e.first=-1,e.last=-1;for(var se=W(e.dir,"x")?e.columns:e.rows,ge=0,je=se-1;ge<=je;ge+=1){e[e.dir]=ge;var he=e.sym,ke=e[e.dir],we=W(e.dir,"x")?e.rows:e.columns,Ne=(we-1)*e.fl;if(W(e.dir,"y")){var ze=Ne;Ne=ke,ke=ze}r[t++]=he,r[t++]=ke,r[t++]=Ne,e.dmv();var _e=r[--t];d(r[--t],_e)==1&&(e.first==-1&&(e.first=e[e.dir]),e.last=e[e.dir],e.sum=e.sum+1)}var Je=W(e.dir,"x")?e.rows:e.columns,at=C(e.sum+e.last-e.first)*Je;r[t++]=at,at<e.worst?e.worst=r[--t]:t--}if(e.pen=0,e.rows%2==1||e.rows<=12){e.sum=0,e.p=0;for(var nt=1,Ae=e.columns-2;nt<=Ae;nt+=1)if(r[t++]=nt,e.clearcol(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.rows:r[t++]=e.p*e.rows;var Ye=r[--t];e[r[--t]]=Ye}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}if(e.rows%2==0||e.columns<=12){e.sum=0,e.p=0;for(var Qe=1,Ze=e.rows-2;Qe<=Ze;Qe+=1)if(r[t++]=Qe,e.clearrow(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.columns:r[t++]=e.p*e.columns;var pt=r[--t];e[r[--t]]=pt}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}r[t++]=1/0;for(var mt=0,ut=(e.columns+4)*2;mt<ut;mt++)r[t++]=0;for(var vt=0,it=e.columns,_t=e.sym.length-1;it<0?vt>=_t:vt<=_t;vt+=it)r[t++]=0,r[t++]=0,O(S(e.sym,vt,e.columns)),r[t++]=0,r[t++]=0;for(var et=0,Ht=(e.columns+4)*2;et<Ht;et++)r[t++]=0;e.symp=a(),e.columns=e.columns+4,e.rows=e.rows+4,e.sum=0;for(var Gt=2,Ot=e.rows-3;Gt<=Ot;Gt+=1){e.y=Gt;for(var ar=(e.y&1)+2,Sr=e.columns-3;ar<=Sr;ar+=2){e.x=ar;for(var ir=0;ir<1;ir++){r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y-1,e.dmv();var gr=r[--t];if(d(r[--t],gr)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y-1,e.dmv();var nr=r[--t];if(d(r[--t],nr)==1)break;r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y+1,e.dmv();var Ir=r[--t];if(d(r[--t],Ir)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y+1,e.dmv();var er=r[--t];if(d(r[--t],er)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y,e.dmv();var ur=r[--t];if(d(r[--t],ur)==0){e.sum=e.sum+1;break}r[t++]=e.symp,r[t++]=e.x-2,r[t++]=e.y,e.dmv();var Kt=r[--t];if(d(r[--t],Kt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y-2,e.dmv();var Xt=r[--t];if(d(r[--t],Xt)==1)break;r[t++]=e.symp,r[t++]=e.x+2,r[t++]=e.y,e.dmv();var fr=r[--t];if(d(r[--t],fr)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y+2,e.dmv();var Mr=r[--t];if(d(r[--t],Mr)==1)break;e.sum=e.sum+1}}}e.columns=e.columns-4,e.rows=e.rows-4,e.worst==0?r[t++]=-99999:r[t++]=C(e.worst-e.sum*e.sum-e.pen)},r[t++]=1/0,r[t++]=1;for(var ce=0;ce<112;ce++){var te=r[t-1];r[t++]=te*3%113}e.rsalog=a(),e.step=~~(e.nw/112)+1,e.offset=function(){var me=r[--t];r[t++]=C(me*e.step+e.start)},e.bestscore=-99999999,r[t++]="masks",e.mask!=-1?r[t++]=a([e.mask]):e.fast?r[t++]=a([3,2,1,0]):r[t++]=a([0,1,2,3]);var ye=r[--t];e[r[--t]]=ye,e.litmasks=a(4),xe(e.masks,function(){e.mask=r[--t],r[t++]=1/0;var me=e.cws;r[t++]=e.mask,r[t++]=d(a([0,3,7,17]),e.mask),r[t++]=0;for(var fe=0,be=me.length;fe<be;fe++){var se=r[--t],ge=r[--t];r[t++]=C(d(me,fe)+se)%113,r[t++]=ge,r[t++]=C(se+ge)}t-=2;for(var je=0,he=e.nc;je<he;je++)r[t++]=0;e.rscws=a();for(var ke=0,we=e.step-1;ke<=we;ke+=1){e.start=ke,e.ND=~~((e.nd+1-e.start+e.step-1)/e.step),e.NW=~~((e.nw+1-e.start+e.step-1)/e.step),e.NC=e.NW-e.ND,r[t++]=1/0,r[t++]=1;for(var Ne=0,ze=e.NC;Ne<ze;Ne++)r[t++]=0;e.coeffs=a();for(var _e=1,Je=e.NC;_e<=Je;_e+=1){e.i=_e;for(var at=e.NC;at>=1;at-=1)e.j=at,g(e.coeffs,e.j,C(d(e.coeffs,e.j)+113-d(e.rsalog,e.i)*d(e.coeffs,e.j-1)%113)%113)}for(var nt=0,Ae=e.ND-1;nt<=Ae;nt+=1){r[t++]="t",r[t++]=e.rscws,r[t++]=nt,e.offset();var Ye=r[--t],Qe=d(r[--t],Ye);r[t++]=Qe,r[t++]=e.rscws,r[t++]=e.ND,e.offset();var Ze=r[--t],pt=d(r[--t],Ze),mt=r[--t];e[r[--t]]=C(mt+pt)%113;for(var ut=0,vt=e.NC-2;ut<=vt;ut+=1){e.j=ut,r[t++]=e.rscws,r[t++]=e.ND+e.j,e.offset(),r[t++]=e.rscws,r[t++]=e.ND+e.j+1,e.offset();var it=r[--t],_t=d(r[--t],it),et=r[--t];g(r[--t],et,C(_t+113-e.t*d(e.coeffs,e.j+1)%113)%113)}r[t++]=e.rscws,r[t++]=e.ND+e.NC-1,e.offset();var Ht=r[--t];g(r[--t],Ht,(113-e.t*d(e.coeffs,e.NC)%113)%113)}for(var Gt=e.ND,Ot=e.NW-1;Gt<=Ot;Gt+=1){r[t++]=Gt,r[t++]=e.rscws,r[t++]=Gt,e.offset(),r[t++]=113,r[t++]=e.rscws,Es(5,-1),e.offset();var ar=r[--t],Sr=d(r[--t],ar),ir=r[--t],gr=r[--t];g(r[--t],gr,C(ir-Sr)%113)}}e.bits=Z(e.ndots),R(e.bits,0,d(a(["00","01","10","11"]),e.mask));for(var nr=1,Ir=e.nw;nr<=Ir;nr+=1)e.i=nr,R(e.bits,(e.i-1)*9+2,d(e.encs,d(e.rscws,e.i)));e.rembits>0&&R(e.bits,e.nw*9+2,S("11111111111111111",0,e.rembits));var er=e.outline;e.pixs=Nc(a(er.length),er),e.posx=0,r[t++]="posy",e.rows%2==0?r[t++]=0:r[t++]=e.rows-1;var ur=r[--t];e[r[--t]]=ur;for(var Kt=S(e.bits,0,e.bits.length-6),Xt=0,fr=Kt.length;Xt<fr;Xt++){for(r[t++]=d(Kt,Xt);;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Mr=r[--t];if(d(r[--t],Mr)==-1)break;e.rows%2==0?(e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)):(e.posx=e.posx+1,e.posx==e.columns&&(e.posx=0,e.posy=e.posy-1))}r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Ur=r[t-3],ms=r[t-1];g(r[t-2],ms,Ur-48),t-=3}for(var Ft=0;Ft<=5;Ft+=1){e.i=Ft,r[t++]=e.pixs,O(d(e.sixedges,e.i)),e.dmv();var Vt=r[--t];g(r[--t],Vt,d(e.bits,e.bits.length-6+e.i)-48)}r[t++]="score",r[t++]=e.pixs,e.evalsymbol();var tr=r[--t];if(e[r[--t]]=tr,e.score>e.bestscore&&(e.bestsym=e.pixs,e.bestscore=e.score,e.fast&&e.bestscore>~~(e.rows*e.columns/2)))return!0;var br=e.pixs;e.litmask=Nc(a(br.length),br);for(var or=0;or<=5;or+=1){e.i=or,r[t++]=e.litmask,O(d(e.sixedges,e.i)),e.dmv();var Br=r[--t];g(r[--t],Br,1)}if(g(e.litmasks,e.mask,e.litmask),e.fast){r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var lr=r[--t];if(e[r[--t]]=lr,Li(e.score,e.bestscore)&&(e.bestsym=e.litmask,e.bestscore=e.score,e.bestscore>~~(e.rows*e.columns/2)))return!0}}),e.pixs=e.bestsym,!e.fast&&e.bestscore<=~~(e.rows*e.columns/2)&&(e.bestscore=-99999999,xe(e.masks,function(){e.litmask=d(e.litmasks,r[--t]),r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var me=r[--t];e[r[--t]]=me,e.score>e.bestscore&&(e.bestsym=e.litmask,e.bestscore=e.score)}),e.pixs=e.bestsym);var J=new Map([["ren","renmatrix"],["dotty",!0],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows*2/72],["width",e.columns*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=J,e.dontdraw||xt(),e=s}function pU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.eclevel="EC2",e.parse=!1,e.parsefnc=!1,e.start=257,e.link1=0,e.raw=!1,e.rev=2,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=e.rev;n!=1&&n!=2&&(r[t++]="bwipp.ultracodeInvalidRevision#27328",r[t++]="Valid revisions are 1 and 2",Q());var i=e.eclevel.length==3;if(r[t++]=i,i){t--;var o=W(S(e.eclevel,0,2),"EC");if(r[t++]=o,o){t--;var l=d(e.eclevel,2)-48,u=e.rev==2?1:0;r[t++]=l>=u&&l<=5}}if(r[--t]||(r[t++]="bwipp.ultracodeInvalidErrorCorrectionLevel#27337",r[t++]="Valid error correction levels are EC1 to EC5, and EC0 for legacy revision 1",Q()),e.raw){for(e.dcws=a(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Ie(S(e.barcode,e.i+1,3)),g(e.dcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.dcws=S(e.dcws,0,e.j)}else{e.fn1=-1,e.fn3=-2;var f=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=f,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var h=r[--t];e[r[--t]]=h,e.msglen=e.msg.length,e.scr=a([]),e.scp=a([]),r[t++]=1/0,O(e.scr),O(e.scp),xe(e.msg,function(){var Ne=r[t-1];Ne==e.fn1&&(r[t-1]=268);var ze=r[t-1];ze==e.fn3&&(r[t-1]=269)}),e.dcws=a()}var p=d(e.options,"debugcws")!==void 0;if(p&&(r[t++]="bwipp.debugcws#27381",r[t++]=e.dcws,Q()),e.mcc=e.dcws.length+3,e.eclval=d(e.eclevel,2)-48,e.eclval!=0){if(r[t++]="qcc",r[t++]=d(a([0,1,2,4,6,8]),e.eclval),r[t++]=~~(e.mcc/25),e.mcc%25!=0){var m=r[--t];r[t++]=m+1}var x=r[--t],b=r[--t];e[r[--t]]=b*x+5}else e.qcc=3;e.acc=e.qcc-3+78*e.link1,e.tcc=e.mcc+e.qcc,e.metrics=a([a([2,7,37,5]),a([3,36,84,13]),a([4,85,161,22]),a([5,142,282,29])]);for(var v=e.metrics,w=0,y=v.length;w<y&&(e.m=d(v,w),e.rows=d(e.m,0),e.minc=d(e.m,1),e.maxc=d(e.m,2),e.mcol=d(e.m,3),e.okay=!0,(e.tcc<e.minc||e.tcc>e.maxc)&&(e.okay=!1),!e.okay);w++);e.okay||(r[t++]="bwipp.ultracodeNoValidSymbol#27417",r[t++]="Maximum length exceeded or invalid content",Q());for(var A=e.mcol;A<=61;A+=1){if(e.columns=A,r[t++]=e.columns,e.columns>=15){var k=r[--t];r[t++]=k-1}if(e.columns>=31){var E=r[--t];r[t++]=E-1}if(e.columns>=47){var j=r[--t];r[t++]=j-1}var N=C(r[--t]*e.rows-3-e.tcc);if(r[t++]=N,N>=0){e.pads=r[--t];break}t--}e.dcc=C(e.columns-e.mcol),r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,r[t++]=e.acc,O(e.dcws);for(var I=0,M=e.qcc;I<M;I++)r[t++]=0;r[t++]=0,e.rsseq=a(),r[t++]=1/0,r[t++]=1;for(var B=0;B<282;B++){var F=r[t-1];r[t++]=F*3%283}e.rsalog=a(),e.rslog=a(283);for(var D=1;D<=282;D+=1)g(e.rslog,d(e.rsalog,D),D);e.rsprod=function(){var Ne=r[t-1],ze=r[t-2];if(Ne!=0&&ze!=0){var _e=d(e.rslog,r[--t]),Je=d(e.rsalog,C(_e+d(e.rslog,r[--t]))%282);r[t++]=Je}else t-=2,r[t++]=0},e.n=e.mcc,e.k=e.qcc,r[t++]=1/0,r[t++]=1;for(var H=0,T=e.k;H<T;H++)r[t++]=0;e.coeffs=a();for(var _=1,L=e.k;_<=L;_+=1){e.i=_,g(e.coeffs,e.i,d(e.coeffs,e.i-1));for(var z=e.i-1;z>=1;z-=1){e.j=z,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=d(e.coeffs,e.j-1),r[t++]=d(e.coeffs,e.j),r[t++]=d(e.rsalog,e.i),e.rsprod();var G=r[--t],K=r[--t],oe=r[--t];g(r[--t],oe,C(K+G)%283)}r[t++]=e.coeffs,r[t++]=0,r[t++]=d(e.coeffs,0),r[t++]=d(e.rsalog,e.i),e.rsprod();var V=r[--t],Y=r[--t];g(r[--t],Y,V)}e.coeffs=S(e.coeffs,0,e.coeffs.length-1);for(var ie=e.coeffs.length-1;ie>=0;ie-=2){var de=e.coeffs;g(de,ie,283-d(de,ie))}for(var re=0,ne=e.n-1;re<=ne;re+=1){e.t=C(d(e.rsseq,re)+d(e.rsseq,e.n))%283;for(var le=0,ue=e.k-1;le<=ue;le+=1)e.j=le,g(e.rsseq,e.n+e.j,C(d(e.rsseq,e.n+e.j+1)+(283-e.t*d(e.coeffs,e.k-e.j-1)%283))%283)}for(var Me=e.n,pe=e.n+e.k;Me<=pe;Me+=1)g(e.rsseq,Me,(283-d(e.rsseq,Me))%283);e.ecws=S(e.rsseq,e.n,e.k);var Fe=d(e.options,"debugecc")!==void 0;Fe&&(r[t++]="bwipp.debugecc#27487",r[t++]=e.ecws,Q()),e.tiles=a([13135,13136,13153,13156,13163,13165,13513,13515,13516,13531,13535,13536,13561,13563,13565,13613,13615,13616,13631,13635,13636,13651,13653,13656,15135,15136,15153,15163,15165,15313,15315,15316,15351,15353,15356,15361,15363,15365,15613,15615,15616,15631,15635,15636,15651,15653,15656,16135,16136,16153,16156,16165,16313,16315,16316,16351,16353,16356,16361,16363,16365,16513,16515,16516,16531,16535,16536,16561,16563,16565,31315,31316,31351,31356,31361,31365,31513,31515,31516,31531,31535,31536,31561,31563,31565,31613,31615,31631,31635,31636,31651,31653,31656,35131,35135,35136,35151,35153,35156,35161,35163,35165,35315,35316,35351,35356,35361,35365,35613,35615,35616,35631,35635,35636,35651,35653,35656,36131,36135,36136,36151,36153,36156,36163,36165,36315,36316,36351,36356,36361,36365,36513,36515,36516,36531,36535,36536,36561,36563,36565,51313,51315,51316,51351,51353,51356,51361,51363,51365,51513,51516,51531,51536,51561,51563,51613,51615,51616,51631,51635,51636,51651,51653,51656,53131,53135,53136,53151,53153,53156,53161,53163,53165,53513,53516,53531,53536,53561,53563,53613,53615,53616,53631,53635,53636,53651,53653,53656,56131,56135,56136,56151,56153,56156,56161,56163,56165,56313,56315,56316,56351,56353,56356,56361,56363,56365,56513,56516,56531,56536,56561,56563,61313,61315,61316,61351,61353,61356,61361,61363,61365,61513,61515,61516,61531,61535,61536,61561,61563,61565,61615,61631,61635,61651,61653,63131,63135,63136,63151,63153,63156,63161,63163,63165,63513,63515,63516,63531,63535,63536,63561,63563,63565,63613,63615,63631,63635,63651,63653,65131,65135,65136,65151,65153,65156,65161,65163,65165,65313,65315,65316,65351,65353,65356,65361,65363,65365,65613,65615,65631,65635,65651,65653,56565,51515]),e.dccurev1=a([51363,51563,51653,53153,53163,53513,53563,53613,53653,56153,56163,56313,56353,56363,56513,56563,51316,51356,51536,51616,53156,53516,53536,53616,53636,53656,56136,56156,56316,56356,56516,56536]),e.dcclrev1=a([61351,61361,61531,61561,61631,61651,63131,63151,63161,63531,63561,63631,65131,65161,65351,65631,31351,31361,31531,31561,31631,31651,35131,35151,35161,35361,35631,35651,36131,36151,36351,36531]),e.dccurev2=a([15316,16316,13516,16516,13616,15616,13136,15136,16136,13536,16536,13636,13156,16156,15356,13656,15313,16313,13513,16513,13613,15613,13153,15153,16153,16353,13653,15653,13163,15163,15363,13563]),e.dcclrev2=a([36315,36515,35615,35135,36135,31535,36535,31635,35635,35165,36165,31365,35365,36365,31565,36565,61315,65315,63515,61615,65135,61535,63535,61635,63635,65635,63165,65165,61365,65365,61565,63565]),r[t++]="dccu",e.rev==1?r[t++]=e.dccurev1:r[t++]=e.dccurev2;var Ce=r[--t];e[r[--t]]=Ce,r[t++]="dccl",e.rev==1?r[t++]=e.dcclrev1:r[t++]=e.dcclrev2;var ve=r[--t];e[r[--t]]=ve,e.rows=e.rows*6+1,e.columns=e.columns+6,r[t++]=1/0;for(var Be=0,Ue=e.rows*e.columns;Be<Ue;Be++)r[t++]=-1;e.pixs=a(),e.qmv=function(){var Ne=r[--t],ze=r[--t];r[t++]=C(ze+Ne*e.columns)};for(var Xe=0,Re=e.columns-1;Xe<=Re;Xe+=1){e.i=Xe;for(var Ge=0,Oe=e.rows-1;Ge<=Oe;Ge+=6)if(e.j=Ge,e.i>=5){r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Le=r[--t];g(r[--t],Le,e.i%2*9)}r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var rt=r[--t];g(r[--t],rt,9),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var Se=r[--t];g(r[--t],Se,9)}for(var qe=1,We=e.rows-2;qe<=We;qe+=1){e.i=qe;for(var Ke=3,Te=e.columns-1;Ke<=Te;Ke+=16){e.j=Ke,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.qmv();var He=r[--t];g(r[--t],He,(1-e.i%2)*9)}r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var st=r[--t];g(r[--t],st,9),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.qmv();var gt=r[--t];g(r[--t],gt,(1-e.i%2)*9),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var ht=r[--t];g(r[--t],ht,0),r[t++]=e.pixs,r[t++]=3,r[t++]=e.i,e.qmv();var bt=r[--t];g(r[--t],bt,9),r[t++]=e.pixs,r[t++]=4,r[t++]=e.i,e.qmv();var Et=r[--t];g(r[--t],Et,0),r[t++]=e.pixs,r[t++]=e.columns-1,r[t++]=e.i,e.qmv();var kt=r[--t];g(r[--t],kt,9)}e.i=~~(e.rows/2)-5,r[t++]=1/0;for(var wt=qt(Z(5),d(e.dccu,e.dcc),10),Mt=0,It=wt.length;Mt<It;Mt++)r[t++]=d(wt,Mt)-48;var zt=qt(Z(5),d(e.dccl,e.dcc),10);r[t++]=0;for(var Bt=0,jt=zt.length;Bt<jt;Bt++)r[t++]=d(zt,Bt)-48;for(var U=a(),$=0,P=U.length;$<P;$++){r[t++]=d(U,$),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var q=r[t-3],X=r[t-1];g(r[t-2],X,q),t-=3,e.i=e.i+1}r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,O(e.ecws),r[t++]=e.tcc,r[t++]=283,r[t++]=e.acc,O(e.dcws);for(var ce=0,te=e.pads;ce<te;ce++)r[t++]=284;r[t++]=e.qcc,e.tileseq=a(),e.x=5,e.y=1;for(var ye=e.tileseq,J=0,me=ye.length;J<me;J++){for(var fe=qt(Z(5),d(e.tiles,d(ye,J)),10),be=0,se=fe.length;be<se;be++){r[t++]=d(fe,be),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var ge=r[t-3],je=r[t-1];g(r[t-2],je,ge-48),t-=3,e.y=e.y+1}if(e.y!=e.rows-1)e.y=e.y+1;else{e.x=e.x+1,e.y=1,r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var he=r[--t];d(r[--t],he)!=-1&&(e.x=e.x+1)}}var ke=new Map([[0,"FFFFFF"],[9,"000000"],[1,"00FFFF"],[3,"FF00FF"],[5,"FFFF00"],[6,"00FF00"]]);e.colormap=ke;var we=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows/72*2],["width",e.columns/72*2],["colormap",e.colormap],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=we,e.dontdraw||xt(),e=s}function mU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.slave=!1,e.colors=16,e.eclevel=6,e.raw=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.databpm=~~Ti(ba(e.colors)/ba(2));var n=e.colors;r[t++]="metabpm",r[t++]=n,n>8&&(r[t-1]=8);var i=r[--t];e[r[--t]]=~~Ti(ba(i)/ba(2)),e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var l=r[--t];e[r[--t]]=l,e.msglen=e.msg.length,e.addtobits=function(){var ct=r[--t];R(e.bits,e.j,ct),e.j=ct.length+e.j},e.tofixedbits=function(){var ct=Tr(Z(13),"0000000000000");r[t++]=ct,r[t++]=ct,Es(4,-1);var St=qt(Z(13),r[--t],2),pr=r[--t],cr=r[--t],hr=r[--t];R(pr,C(hr-St.length),St),r[t++]=S(cr,0,hr)};var u=e.msglen<=15?4:17;e.bits=Z(7+u+e.msglen*8+12),e.j=0,r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="00",e.addtobits(),e.msglen<=15?(r[t++]=e.msglen,r[t++]=4,e.tofixedbits(),e.addtobits()):(r[t++]="0000",e.addtobits(),r[t++]=e.msglen-16,r[t++]=13,e.tofixedbits(),e.addtobits());for(var f=0,h=e.msglen-1;f<=h;f+=1)r[t++]=d(e.msg,f),r[t++]=8,e.tofixedbits(),e.addtobits();if(r[t++]=28,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="11",e.addtobits(),e.diffside=21,e.sameshape=!1,e.sameecc=!1,e.hasslaves=!1,e.metrics=function(){e.mc=r[--t],e.mr=r[--t];var ct=e.mc,St=e.mr,pr=e.mc,cr=e.mr,hr=e.colors,Fr=64;if(64>hr){var dr=hr;hr=Fr,Fr=dr}var is=e.slave?7:17;if(r[t++]=ct*St,r[t++]=((~~((pr-25)/16)+2)*(~~((cr-25)/16)+2)-4)*7,r[t++]=Fr*2,r[t++]=is*4,e.slave){if(r[t++]=3,!e.sameshape){var Wr=r[--t];r[t++]=Wr+5}if(e.hasslaves){var os=r[--t];r[t++]=os+3}if(!e.sameecc){var Rr=e.mr,Or=e.mc;if(wa(Rr,Or)){var dr=Or;Or=Rr,Rr=dr}var Gs=r[--t];r[t++]=C(Gs+d(a([10,12,14,14,16,16,16,16]),~~((Rr-21)/16)))}var As=~~vr(r[--t]*2/e.metabpm);e.nummetabits=As*e.metabpm,r[t++]=As}else{var Yr=W(e.mr,e.mc)?0:1;e.metass=Yr;var Vr=e.mr,$r=e.mc;if(wa(Vr,$r)){var dr=$r;$r=Vr,Vr=dr}e.metavf=d(a([0,1,2,2,3,3,3,3]),~~((Vr-21)/16)),r[t++]="metavlen",e.metass==0?r[t++]=a([2,2,3,4]):r[t++]=a([4,6,8,10]);var Jr=d(r[--t],e.metavf);if(e[r[--t]]=Jr,e.metaelen=e.metavf*2+10,r[t++]=C(7+e.metavlen+e.metaelen),e.hasslaves){var vs=r[--t];r[t++]=vs+4}var rs=~~vr(r[--t]*2/e.metabpm);e.nummetabits=rs*e.metabpm+6,r[t++]=rs+6}var xn=r[--t];e.nummetamodules=xn;var Fn=r[--t],fa=r[--t],Qn=r[--t];e.numdatamodules=C(r[--t]-(Qn+(fa+(Fn+xn)))),e.numdatabits=e.numdatamodules*e.databpm},e.coderate=d(a([.67,.63,.57,.55,.5,.43,.34,.25,.2,.17,.14]),e.eclevel),e.grosslen=~~vr(e.bits.length/e.coderate),e.snapsize=function(){var ct=~~vr(r[--t])-18;r[t++]=ct,ct<0&&(r[t-1]=0);var St=r[--t];r[t++]=~~(St/4)*4+21},e.rows==-1&&e.columns==-1){r[t++]="size",r[t++]=Yu(e.grosslen),e.snapsize();var p=r[--t];for(e[r[--t]]=p;r[t++]=e.size,r[t++]=e.size,e.metrics(),!(e.grosslen<=e.numdatabits);)e.size=e.size+4;e.rows=e.size,e.columns=e.size}else{if(e.columns==-1&&e.rows!=-1){r[t++]="columns",r[t++]=e.grosslen/e.rows,e.snapsize();var m=r[--t];for(e[r[--t]]=m;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.columns=e.columns+4}if(e.rows==-1&&e.columns!=-1){r[t++]="rows",r[t++]=e.grosslen/e.columns,e.snapsize();var x=r[--t];for(e[r[--t]]=x;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.rows=e.rows+4}e.rows!=-1&&e.columns!=-1&&(r[t++]=e.rows,r[t++]=e.columns,e.metrics())}e.C=e.numdatabits,e.cols=e.columns,(e.rows>145||e.cols>145)&&(r[t++]="bwipp.jabcodeNoValidSymbol#27844",r[t++]="Maximum length exceeded or invalid content",Q()),e.min=e.C;for(var b=3;b<=8;b+=1){e.i=b;for(var v=e.i+1;v<=9;v+=1)e.j=v,e.dist=~~(e.C/e.j)*e.j-~~(e.C/e.j)*e.i-e.bits.length,e.dist<e.min&&e.dist>=0&&(e.datawc=e.i,e.datawr=e.j,e.min=e.dist)}e.tmpbits=Z(~~(e.C/e.datawr)*e.datawr-~~(e.C/e.datawr)*e.datawc),R(e.tmpbits,0,e.bits);for(var w=e.bits.length,y=e.tmpbits.length-1;w<=y;w+=1){var A=d(e.tmpbits,w-1);if(r[t++]=w,r[t++]=A,A%2==0){var k=r[--t];r[t++]=k+1}else{var E=r[--t];r[t++]=E-1}r[t++]=e.tmpbits;var j=r[t-2],N=r[t-3];g(r[t-1],N,j),t-=3}e.bits=e.tmpbits,e.m0=22610,e.m1=-3027,e.m2=19605,e.m3=32557,e.lcg64_temper=function(){e.p00=e.m0*e.s0,e.p01=e.m0*e.s1,e.p02=e.m0*e.s2,e.p03=e.m0*e.s3,e.p10=e.m1*e.s0,e.p11=e.m1*e.s1,e.p12=e.m1*e.s2,e.p13=e.m1*e.s3,e.p20=e.m2*e.s0,e.p21=e.m2*e.s1,e.p22=e.m2*e.s2,e.p23=e.m2*e.s3,e.p30=e.m3*e.s0,e.p31=e.m3*e.s1,e.p32=e.m3*e.s2,e.p33=e.m3*e.s3,e.s3=e.p33%65536+1,e.s2=e.p32%65536+~~(e.p33/65536)+e.p23%65536,e.s1=e.p31%65536+~~(e.p32/65536)+(e.p22%65536+~~(e.p23/65536))+e.p13%65536,e.s0=e.p30%65536+~~(e.p31/65536)+(e.p21%65536+~~(e.p22/65536))+(e.p12%65536+~~(e.p13/65536))+e.p03%65536,e.s3=e.s3+65536,e.s2=e.s2+65535,e.s1=e.s1+65535,e.s0=e.s0+65535,e.s2=~~(e.s3/65536)+e.s2,e.s3=e.s3%65536,e.s1=~~(e.s2/65536)+e.s1,e.s2=e.s2%65536,e.s0=~~(e.s1/65536)+e.s0,e.s1=e.s1%65536,e.s0=e.s0%65536;var ct=((e.s0-32768)*65536+e.s1^2147483648)&4294967295,St=ct^ct>>>11,pr=St^St<<7&-1658038656,cr=(pr^pr<<15&-272236544)&4294967295;r[t++]=cr^cr>>>18},e.createMatrixA=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var ct=r[--t];e[r[--t]]=ct,e.offset=~~vr(e.Pg_sub_block/32),e.effwidth=e.offset*32,e.matrixA=a(e.offset*e.nb_pcb);for(var St=0,pr=e.offset*e.nb_pcb-1;St<=pr;St+=1)g(e.matrixA,St,0);e.permutation=a(e.Pg_sub_block);for(var cr=0,hr=e.Pg_sub_block-1;cr<=hr;cr+=1)g(e.permutation,cr,cr);for(var Fr=0,dr=~~(e.Pg_sub_block/e.wr)-1;Fr<=dr;Fr+=1){e.i=Fr;for(var is=0,Yr=e.wr-1;is<=Yr;is+=1){e.j=is;var Vr=e.matrixA,$r=e.i,Jr=e.effwidth,vs=e.wr,rs=e.j,Wr=31-C(e.i*(e.effwidth+e.wr)+e.j)%32;g(Vr,~~(C($r*(Jr+vs)+rs)/32),d(Vr,~~(C($r*(Jr+vs)+rs)/32))|(Wr<0?1>>>-Wr:1<<Wr))}}e.s0=0,e.s1=0,e.s2=11,e.s3=64569;for(var os=1,Rr=e.wc-1;os<=Rr;os+=1){e.i=os,e.off_index=~~(e.Pg_sub_block/e.wr)*e.i;for(var Or=0,Gs=e.Pg_sub_block-1;Or<=Gs;Or+=1){e.j=Or,e.lcg64_temper();var As=r[t-1];if(As<0){var xn=r[--t];r[t++]=(xn^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));for(var Fn=0,fa=~~(e.Pg_sub_block/e.wr)-1;Fn<=fa;Fn+=1){e.k=Fn;var Qn=e.matrixA,rr=e.off_index,wr=e.k,Cr=e.offset,ss=e.j,zr=d(e.matrixA,~~(d(e.permutation,e.pos)/32)+e.k*e.offset),ls=-(31-d(e.permutation,e.pos)%32),Xr=31-e.j%32;g(Qn,(rr+wr)*Cr+~~(ss/32),d(Qn,(rr+wr)*Cr+~~(ss/32))|(Xr<0?((ls<0?zr>>>-ls:zr<<ls)&1)>>>-Xr:((ls<0?zr>>>-ls:zr<<ls)&1)<<Xr))}var an=e.permutation,on=e.Pg_sub_block,Jn=e.j;g(an,on-1-Jn,d(e.permutation,e.pos)),g(e.permutation,e.pos,d(an,on-1-Jn))}}},e.createMetadataMatrixA=function(){e.nb_pcb=~~(e.Pg_sub_block/2),e.offset=~~vr(e.Pg_sub_block/32),e.matrixA=a(e.offset*e.nb_pcb);for(var ct=0,St=e.offset*e.nb_pcb-1;ct<=St;ct+=1)g(e.matrixA,ct,0);e.permutation=a(e.Pg_sub_block);for(var pr=0,cr=e.Pg_sub_block-1;pr<=cr;pr+=1)g(e.permutation,pr,pr);e.s0=0,e.s1=0,e.s2=0,e.s3=38545,e.nb_once=~~(~~(e.nb_pcb/e.wc*e.Pg_sub_block+3)/e.nb_pcb);for(var hr=0,Fr=e.nb_pcb-1;hr<=Fr;hr+=1){e.i=hr;for(var dr=0,is=e.nb_once-1;dr<=is;dr+=1){e.j=dr,e.lcg64_temper();var Yr=r[t-1];if(Yr<0){var Vr=r[--t];r[t++]=(Vr^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));var $r=e.matrixA,Jr=e.i,vs=e.offset,rs=d(e.permutation,e.pos),Wr=31-d(e.permutation,e.pos)%32;g($r,Jr*vs+~~(rs/32),d($r,Jr*vs+~~(rs/32))|(Wr<0?1>>>-Wr:1<<Wr));var os=e.permutation,Rr=e.Pg_sub_block,Or=e.j;g(os,Rr-1-Or,d(e.permutation,e.pos)),g(e.permutation,e.pos,d(os,Rr-1-Or))}}},e.GaussJordan=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var ct=r[--t];e[r[--t]]=ct,e.offset=~~vr(e.Pg_sub_block/32);var St=e.matrixA;e.matrixH=Nc(a(St.length),St),r[t++]=1/0;for(var pr=0,cr=e.Pg_sub_block;pr<cr;pr++)r[t++]=0;e.column_arrangement=a(),r[t++]=1/0;for(var hr=0,Fr=e.Pg_sub_block;hr<Fr;hr++)r[t++]=!1;e.processed_column=a(),r[t++]=1/0;for(var dr=0,is=e.nb_pcb;dr<is;dr++)r[t++]=0;e.zero_lines_nb=a(),r[t++]=1/0;for(var Yr=0,Vr=e.Pg_sub_block*2;Yr<Vr;Yr++)r[t++]=0;e.swap_col=a(),e.zero_lines=0,e.loop0=0;for(var $r=0,Jr=e.nb_pcb-1;$r<=Jr;$r+=1){e.i=$r,e.pivot_column=e.Pg_sub_block+1;for(var vs=0,rs=e.Pg_sub_block-1;vs<=rs;vs+=1){e.j=vs;var Wr=d(e.matrixH,~~((e.offset*32*e.i+e.j)/32)),os=-(31-(e.offset*32*e.i+e.j)%32);if(((os<0?Wr>>>-os:Wr<<os)&1)==1){e.pivot_column=e.j;break}}if(e.pivot_column<e.Pg_sub_block){g(e.processed_column,e.pivot_column,!0),g(e.column_arrangement,e.pivot_column,e.i),e.pivot_column>=e.nb_pcb&&(g(e.swap_col,e.loop0*2,e.pivot_column),e.loop0=e.loop0+1),e.off_index=~~(e.pivot_column/32),e.off_index1=e.pivot_column%32;for(var Rr=0,Or=e.nb_pcb-1;Rr<=Or;Rr+=1)if(e.j=Rr,e.i!=e.j){var Gs=d(e.matrixH,e.off_index+e.j*e.offset),As=-(31-e.off_index1);if(((As<0?Gs>>>-As:Gs<<As)&1)==1)for(var xn=0,Fn=e.offset-1;xn<=Fn;xn+=1){e.k=xn;var fa=e.matrixH,Qn=e.offset,rr=e.j,wr=e.k;g(fa,Qn*rr+wr,bn(d(fa,Qn*rr+wr),d(e.matrixH,e.offset*e.i+e.k)))}}}else g(e.zero_lines_nb,e.zero_lines,e.i),e.zero_lines=e.zero_lines+1}e.matrix_rank=e.nb_pcb-e.zero_lines,e.loop2=0;for(var Cr=e.matrix_rank,ss=e.nb_pcb-1;Cr<=ss;Cr+=1)if(e.i=Cr,d(e.column_arrangement,e.i)>0){for(var zr=0,ls=e.nb_pcb-1;zr<=ls;zr+=1)if(e.j=zr,!d(e.processed_column,e.j)){g(e.column_arrangement,e.j,d(e.column_arrangement,e.i)),g(e.column_arrangement,e.i,0),g(e.processed_column,e.j,!0),g(e.processed_column,e.i,!1),g(e.swap_col,e.loop0*2,e.i),g(e.swap_col,e.loop0*2+1,e.j),g(e.column_arrangement,e.i,e.j),e.loop0=e.loop0+1,e.loop2=e.loop2+1;break}}e.loop1=0;for(var Xr=0,an=e.nb_pcb-1;Xr<=an;Xr+=1)e.kl=Xr,!d(e.processed_column,e.kl)&&e.loop1<e.loop0-e.loop2&&(g(e.column_arrangement,e.kl,d(e.column_arrangement,d(e.swap_col,e.loop1*2))),g(e.processed_column,e.kl,!0),g(e.swap_col,e.loop1*2+1,e.kl),e.loop1=e.loop1+1);e.loop1=0;for(var on=0,Jn=e.nb_pcb-1;on<=Jn;on+=1)e.kl=on,d(e.processed_column,e.kl)||(g(e.column_arrangement,e.kl,d(e.zero_lines_nb,e.loop1)),e.loop1=e.loop1+1);for(var Na=0,za=e.nb_pcb-1;Na<=za;Na+=1){e.i=Na;for(var Wa=0,Ka=e.offset-1;Wa<=Ka;Wa+=1)e.j=Wa,g(e.matrixA,e.i*e.offset+e.j,d(e.matrixH,C(d(e.column_arrangement,e.i)*e.offset+e.j)))}e.tmp=0;for(var Ca=0,j1=e.loop0-1;Ca<=j1;Ca+=1){e.i=Ca;for(var Ja=0,N1=e.nb_pcb-1;Ja<=N1;Ja+=1){e.j=Ja;var di=d(e.matrixA,~~(d(e.swap_col,e.i*2)/32)+e.j*e.offset),C1=-(31-d(e.swap_col,e.i*2)%32);e.tmp=(-((C1<0?di>>>-C1:di<<C1)&1)^e.tmp)&1^e.tmp;var ui=e.matrixA,fi=d(e.swap_col,e.i*2),Ve=e.j,yt=e.offset,mr=d(e.matrixA,~~(d(e.swap_col,e.i*2+1)/32)+e.j*e.offset),jr=-(31-d(e.swap_col,e.i*2+1)%32),gs=31-d(e.swap_col,e.i*2)%32;g(ui,~~(fi/32)+Ve*yt,d(ui,~~(fi/32)+Ve*yt)^(-((jr<0?mr>>>-jr:mr<<jr)&1)^d(e.matrixA,~~(d(e.swap_col,e.i*2)/32)+e.j*e.offset))&(gs<0?1>>>-gs:1<<gs));var ln=e.matrixA,cn=d(e.swap_col,e.i*2+1),Rn=e.j,ha=e.offset,Sa=31-d(e.swap_col,e.i*2+1)%32;g(ln,~~(cn/32)+Rn*ha,d(ln,~~(cn/32)+Rn*ha)^(-(e.tmp&1)^d(e.matrixA,~~(d(e.swap_col,e.i*2+1)/32)+e.j*e.offset))&(Sa<0?1>>>-Sa:1<<Sa))}}},e.createGeneratorMatrix=function(){e.pn=e.Pg_sub_block-e.matrix_rank,e.offset=~~vr(e.pn/32),e.effwidth=e.offset*32,e.offset_cap=~~vr(e.Pg_sub_block/32),e.G=a(e.offset*e.Pg_sub_block);for(var ct=0,St=e.offset*e.Pg_sub_block-1;ct<=St;ct+=1)g(e.G,ct,0);for(var pr=0,cr=e.pn-1;pr<=cr;pr+=1){e.i=pr;var hr=e.G,Fr=e.Pg_sub_block,dr=e.pn,is=e.i,Yr=e.offset,Vr=e.i,$r=31-e.i%32;g(hr,(Fr-dr+is)*Yr+~~(Vr/32),d(hr,(Fr-dr+is)*Yr+~~(Vr/32))|($r<0?1>>>-$r:1<<$r))}e.matrix_index=e.Pg_sub_block-e.pn,e.loop0=0;for(var Jr=0,vs=(e.Pg_sub_block-e.pn)*e.effwidth-1;Jr<=vs;Jr+=1)if(e.i=Jr,e.matrix_index>=e.Pg_sub_block&&(e.loop0=e.loop0+1,e.matrix_index=e.Pg_sub_block-e.pn),e.i%e.effwidth<e.pn){var rs=e.G,Wr=e.i,os=d(e.matrixA,~~(e.matrix_index/32)+e.offset_cap*e.loop0),Rr=-(31-e.matrix_index%32),Or=31-e.i%32;g(rs,~~(Wr/32),d(rs,~~(Wr/32))^(-((Rr<0?os>>>-Rr:os<<Rr)&1)^d(e.G,~~(e.i/32)))&(Or<0?1>>>-Or:1<<Or)),e.matrix_index=e.matrix_index+1}},e.ldpc=function(){e.wr=r[--t],e.wc=r[--t],r[t++]=1/0;var ct=r[--t],St=r[--t];if(r[t++]=ct,xe(St,function(){var xn=r[--t];r[t++]=xn-48}),e.data=a(),e.Pn=e.data.length,e.wr!=-1){if(e.Pg=~~(vr(vr(e.Pn*e.wr/C(e.wr-e.wc))/e.wr)*e.wr),e.nb_sub_blocks=~~(e.Pg/2700)+1,e.Pg_sub_block=~~(~~(e.Pg/e.nb_sub_blocks)/e.wr)*e.wr,e.Pn_sub_block=~~(e.Pg_sub_block*C(e.wr-e.wc)/e.wr),e.nb_sub_blocks=~~(e.Pg/e.Pg_sub_block),r[t++]="encoding_iterations",r[t++]=~~(e.Pg/e.Pg_sub_block),e.Pn_sub_block*e.nb_sub_blocks<e.Pn){var pr=r[--t];r[t++]=pr-1}var cr=r[--t];e[r[--t]]=cr,e.createMatrixA()}else e.Pg=e.Pn*2,e.nb_sub_blocks=1,e.Pg_sub_block=e.Pg,e.Pn_sub_block=e.Pn,e.encoding_iterations=1,e.createMetadataMatrixA();e.GaussJordan(),e.createGeneratorMatrix(),e.ecc_encoded_data=a(e.Pg),e.offset=~~vr((e.Pg_sub_block-e.matrix_rank)/32);for(var hr=0,Fr=e.encoding_iterations-1;hr<=Fr;hr+=1){e.iter=hr;for(var dr=0,is=e.Pg_sub_block-1;dr<=is;dr+=1){e.i=dr,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Yr=e.iter*e.Pn_sub_block,Vr=(e.iter+1)*e.Pn_sub_block-1;Yr<=Vr;Yr+=1){var $r=d(e.G,e.offset_index+~~(e.loop0/32)),Jr=-(31-e.loop0%32);e.temp=d(e.data,Yr)&((Jr<0?$r>>>-Jr:$r<<Jr)&1)^e.temp,e.loop0=e.loop0+1}g(e.ecc_encoded_data,e.i+e.iter*e.Pg_sub_block,e.temp)}}if(e.encoding_iterations!=e.nb_sub_blocks){e.start=e.encoding_iterations*e.Pn_sub_block,e.last_index=e.encoding_iterations*e.Pg_sub_block,e.Pg_sub_block=e.Pg-e.encoding_iterations*e.Pg_sub_block,e.Pn_sub_block=~~(e.Pg_sub_block*C(e.wr-e.wc)/e.wr),e.createMatrixA(),e.GaussJordan(),e.createGeneratorMatrix(),e.offset=~~vr((e.Pg_sub_block-e.matrix_rank)/32);for(var vs=0,rs=e.Pg_sub_block-1;vs<=rs;vs+=1){e.i=vs,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Wr=e.start,os=e.Pn-1;Wr<=os;Wr+=1){var Rr=d(e.G,e.offset_index+~~(e.loop0/32)),Or=-(31-e.loop0%32);e.temp=d(e.data,Wr)&((Or<0?Rr>>>-Or:Rr<<Or)&1)^e.temp,e.loop0=e.loop0+1}g(e.ecc_encoded_data,e.i+e.last_index,e.temp)}}e.out=Z(e.Pg);for(var Gs=0,As=e.Pg-1;Gs<=As;Gs+=1)g(e.out,Gs,d(e.ecc_encoded_data,Gs)+48);r[t++]=e.out},r[t++]="bits",r[t++]=e.bits,r[t++]=e.datawc,r[t++]=e.datawr,e.ldpc();var I=r[--t];e[r[--t]]=I,e.s0=0,e.s1=0,e.s2=3,e.s3=30151;for(var M=e.bits.length-1;M>=1;M-=1){e.l=M,e.lcg64_temper();var B=r[t-1];if(B<0){var F=r[--t];r[t++]=(F^2147483648)+2147483648}e.r=~~(r[--t]/4294967296*(e.l+1)),g(e.bits,e.l,d(e.bits,e.r)),g(e.bits,e.r,d(e.bits,e.l))}e.tmpbits=Z(e.C),R(e.tmpbits,0,e.bits),e.j=e.bits.length;for(var D=0,H=~~((C(e.C-e.j)+1)/2);D<H;D++)g(e.tmpbits,e.j,48),e.j+1<e.C&&g(e.tmpbits,e.j+1,49),e.j=e.j+2;if(e.bits=e.tmpbits,e.colors==4)e.bi=0,e.gi=1,e.mi=2,e.yi=3,e.ki=4,e.wi=5,r[t++]=1/0,r[t++]=e.bi,r[t++]="0000FF",r[t++]=e.gi,r[t++]="00FF00",r[t++]=e.mi,r[t++]="FF00FF",r[t++]=e.yi,r[t++]="FFFF00",r[t++]=e.ki,r[t++]="000000",r[t++]=e.wi,r[t++]="FFFFFF",e.palette=Pe(),e.metacolorindex=a([e.bi,e.gi,e.mi,e.yi]),e.palettelayout=a([e.bi,e.gi,e.mi,e.yi]);else{var T=new Map([[8,a([2,2,2])],[16,a([4,2,2])],[32,a([4,4,2])],[64,a([4,4,4])],[128,a([8,4,4])],[256,a([8,8,4])]]);e.rgbres=d(T,e.colors),r[t++]="rvals",r[t++]=d(e.rgbres,0),r[t++]=1/0;var _=r[--t],L=r[--t]-1;r[t++]=_,r[t++]=L;for(var z=0,G=L;z<=G;z+=1){var K=r[--t];r[t++]=~~Ti(z*(255/K)),r[t++]=K}t--;var oe=a();e[r[--t]]=oe,r[t++]="gvals",r[t++]=d(e.rgbres,1),r[t++]=1/0;var V=r[--t],Y=r[--t]-1;r[t++]=V,r[t++]=Y;for(var ie=0,de=Y;ie<=de;ie+=1){var re=r[--t];r[t++]=~~Ti(ie*(255/re)),r[t++]=re}t--;var ne=a();e[r[--t]]=ne,r[t++]="bvals",r[t++]=d(e.rgbres,2),r[t++]=1/0;var le=r[--t],ue=r[--t]-1;r[t++]=le,r[t++]=ue;for(var Me=0,pe=ue;Me<=pe;Me+=1){var Fe=r[--t];r[t++]=~~Ti(Me*(255/Fe)),r[t++]=Fe}t--;var Ce=a();e[r[--t]]=Ce,e.colors,e.palette=new Map;var ve=e.colors,Be=64;if(64>ve){var Ue=ve;ve=Be,Be=Ue}e.palettelayout=a(Be),e.i=0,e.j=8,xe(e.rvals,function(){e.r=r[--t],xe(e.gvals,function(){e.g=r[--t],xe(e.bvals,function(){e.b=r[--t];var ct=Tr(Z(6),"000000"),St=qt(Z(6),e.r<<16|e.g<<8|e.b,16);R(ct,6-St.length,St),r[t++]=ct,r[t++]=!1,W(ct,"000000")&&(e.ki=e.i,r[t-1]=!0);var pr=r[t-2];W(pr,"0000FF")&&(e.bi=e.i,r[t-1]=!0);var cr=r[t-2];W(cr,"00FF00")&&(e.gi=e.i,r[t-1]=!0);var hr=r[t-2];W(hr,"00FFFF")&&(e.ci=e.i,r[t-1]=!0);var Fr=r[t-2];W(Fr,"FF0000")&&(e.ri=e.i,r[t-1]=!0);var dr=r[t-2];W(dr,"FF00FF")&&(e.mi=e.i,r[t-1]=!0);var is=r[t-2];W(is,"FFFF00")&&(e.yi=e.i,r[t-1]=!0);var Yr=r[t-2];W(Yr,"FFFFFF")&&(e.wi=e.i,r[t-1]=!0),r[--t]||(e.colors<=64||e.colors==128&&(e.r==0||e.r==73||e.r==182||e.r==255)||e.colors==256&&(e.r==0||e.r==73||e.r==182||e.r==255)&&(e.g==0||e.g==73||e.g==182||e.g==255))&&(g(e.palettelayout,e.j,e.i),e.j=e.j+1),g(e.palette,e.i,r[--t]),e.i=e.i+1})})}),R(e.palettelayout,0,a([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])),e.metacolorindex=a([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])}r[t++]=1/0;for(var Xe=0,Re=e.rows*e.cols;Xe<Re;Xe++)r[t++]=-1;e.pixs=a(),e.jmv=function(){var ct=r[--t],St=r[--t];r[t++]=C(St+ct*e.cols)},e.slave?(e.fpat=a([a([0,0,0,0,0]),a([0,2,2,0,0]),a([0,2,1,2,0]),a([0,0,2,2,0]),a([0,0,0,0,0])]),e.fmap=a([a([-1,e.ki,e.wi]),a([-1,e.ki,e.wi]),a([-1,e.ki,e.wi]),a([-1,e.ki,e.wi])])):(e.fpat=a([a([1,1,1,0,0]),a([1,2,2,0,0]),a([1,2,1,2,1]),a([0,0,2,2,1]),a([0,0,1,1,1])]),e.fmap=a([a([-1,e.bi,e.yi]),a([-1,e.yi,e.bi]),a([-1,e.gi,e.mi]),a([-1,e.mi,e.gi])]));for(var Ge=0;Ge<=4;Ge+=1){e.y=Ge;for(var Oe=0;Oe<=4;Oe+=1){e.x=Oe,e.fpb=d(d(e.fpat,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=e.y+1,e.jmv();var Le=r[--t];g(r[--t],Le,d(d(e.fmap,0),e.fpb)),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=C(e.rows-e.y)-2,e.jmv();var rt=r[--t];g(r[--t],rt,d(d(e.fmap,1),e.fpb)),r[t++]=e.pixs,r[t++]=C(e.x+e.cols)-6,r[t++]=e.y+1,e.jmv();var Se=r[--t];g(r[--t],Se,d(d(e.fmap,2),e.fpb)),r[t++]=e.pixs,r[t++]=C(e.x+e.cols)-6,r[t++]=C(e.rows-e.y)-2,e.jmv();var qe=r[--t];g(r[--t],qe,d(d(e.fmap,3),e.fpb))}}if(e.algnpat0=a([a([e.ki,e.ki,-1]),a([e.ki,e.wi,e.ki]),a([-1,e.ki,e.ki])]),e.algnpat1=a([a([-1,e.ki,e.ki]),a([e.ki,e.wi,e.ki]),a([e.ki,e.ki,-1])]),e.num=~~Ti(e.cols/16)-1,e.algnrpos=a([3,17]),e.num>0){r[t++]=1/0;for(var We=0,Ke=e.num;We<=Ke;We+=1)r[t++]=~~(We*((e.cols-7)/e.num))+3;e.algnrpos=a()}if(e.num=~~Ti(e.rows/16)-1,e.algncpos=a([3,17]),e.num>0){r[t++]=1/0;for(var Te=0,He=e.num;Te<=He;Te+=1)r[t++]=~~(Te*((e.rows-7)/e.num))+3;e.algncpos=a()}e.putalgnpat=function(){e.pp=r[--t],e.py=r[--t],e.px=r[--t];for(var ct=0;ct<=2;ct+=1){e.pb=ct;for(var St=0;St<=2;St+=1){e.pa=St,r[t++]=e.pixs,r[t++]=C(e.px+e.pa),r[t++]=C(e.py+e.pb),e.jmv();var pr=r[--t];g(r[--t],pr,d(d(e.pp,e.pb),e.pa))}}};for(var st=0,gt=e.algncpos.length-1;st<=gt;st+=1){e.j=st,e.y=d(e.algncpos,e.j);for(var ht=0,bt=e.algnrpos.length-1;ht<=bt;ht+=1){e.i=ht,e.x=d(e.algnrpos,e.i),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.jmv();var Et=r[--t];d(r[--t],Et)==-1&&(r[t++]=e.x-1,r[t++]=e.y-1,(e.i+e.j)%2==0?r[t++]=e.algnpat0:r[t++]=e.algnpat1,e.putalgnpat())}}if(e.slave){r[t++]=1/0;for(var It=1;It<=19;It+=1)e.i=It,r[t++]=a([0,e.i]),r[t++]=a([1,e.i]);for(var zt=5;zt<=12;zt+=1)e.i=zt,r[t++]=a([2,e.i]),r[t++]=a([3,e.i]);e.metadatamap=a(),r[t++]=1/0;for(var Bt=5;Bt<=12;Bt+=1){var jt=1/0,U=Bt;r[t++]=jt,r[t++]=4,r[t++]=U;var $=a();r[t++]=$}for(var P=12;P>=5;P-=1){var q=1/0,X=P;r[t++]=q,r[t++]=5,r[t++]=X;var ce=a();r[t++]=ce}for(var te=5;te<=12;te+=1){var ye=1/0,J=te;r[t++]=ye,r[t++]=6,r[t++]=J;var me=a();r[t++]=me}for(var fe=12;fe>=5;fe-=1){var be=1/0,se=fe;r[t++]=be,r[t++]=7,r[t++]=se;var ge=a();r[t++]=ge}e.palettemap1=a(),r[t++]=1/0;for(var je=e.palettemap1,he=0,ke=je.length;he<ke;he++){var we=1/0,Ne=d(je,he);r[t++]=we,O(Ne);var ze=r[--t],_e=r[--t];r[t++]=-_e,r[t++]=-ze;var Je=a();r[t++]=Je}e.palettemap2=a()}else{for(var kt=a([a([6,1]),a([6,2]),a([6,3]),a([6,4]),a([6,5]),a([6,6]),a([5,6]),a([4,6]),a([3,6]),a([2,6]),a([1,6]),a([7,1]),a([7,2]),a([7,3]),a([7,4]),a([7,5]),a([7,6]),a([7,7]),a([6,7]),a([5,7]),a([4,7]),a([3,7]),a([2,7]),a([1,7]),a([8,1]),a([8,2]),a([8,3]),a([8,4]),a([8,5]),a([8,6]),a([8,7]),a([8,8]),a([7,8]),a([6,8]),a([5,8]),a([4,8]),a([3,8]),a([2,8]),a([1,8]),a([9,1]),a([9,2]),a([9,3]),a([9,4]),a([9,5])]),wt=0,Mt=kt.length;wt<Mt;wt++)O(d(kt,wt)),e.y=r[--t],e.x=r[--t],r[t++]=a([e.x,e.y]),r[t++]=a([-e.x,e.y]),r[t++]=a([-e.x,-e.y]),r[t++]=a([e.x,-e.y]);Wt(a(176)),e.metadatamap=r[--t],e.palettemap1=a([a([4,1]),a([4,2]),a([5,1]),a([5,2]),a([2,4]),a([2,5]),a([1,4]),a([1,5]),a([-2,1]),a([-2,2]),a([-1,1]),a([-1,2]),a([-4,4]),a([-4,5]),a([-5,4]),a([-5,5])]),e.palettemap2=a([a([-4,-5]),a([-4,-4]),a([-5,-5]),a([-5,-4]),a([-2,-2]),a([-2,-1]),a([-1,-2]),a([-1,-1]),a([2,-5]),a([2,-4]),a([1,-5]),a([1,-4]),a([4,-2]),a([4,-1]),a([5,-2]),a([5,-1])])}for(var at=e.metadatamap,nt=0,Ae=at.length;nt<Ae;nt++){var Ye=d(at,nt),Qe=d(Ye,0);if(r[t++]=Ye,r[t++]=Qe,Qe<0){var Ze=r[--t],pt=r[t-1];g(pt,0,C(Ze+e.cols)-1)}else t--;var mt=r[t-1],ut=d(mt,1);if(r[t++]=ut,ut<0){var vt=r[--t],it=r[t-1];g(it,1,C(vt+e.rows)-1)}else t--;t--}for(var _t=e.palettemap1,et=0,Ht=_t.length;et<Ht;et++){var Gt=d(_t,et),Ot=d(Gt,0);if(r[t++]=Gt,r[t++]=Ot,Ot<0){var ar=r[--t],Sr=r[t-1];g(Sr,0,C(ar+e.cols)-1)}else t--;var ir=r[t-1],gr=d(ir,1);if(r[t++]=gr,gr<0){var nr=r[--t],Ir=r[t-1];g(Ir,1,C(nr+e.rows)-1)}else t--;t--}for(var er=e.palettemap2,ur=0,Kt=er.length;ur<Kt;ur++){var Xt=d(er,ur),fr=d(Xt,0);if(r[t++]=Xt,r[t++]=fr,fr<0){var Mr=r[--t],Ur=r[t-1];g(Ur,0,C(Mr+e.cols)-1)}else t--;var ms=r[t-1],Ft=d(ms,1);if(r[t++]=Ft,Ft<0){var Vt=r[--t],tr=r[t-1];g(tr,1,C(Vt+e.rows)-1)}else t--;t--}for(var br=0,or=e.nummetamodules-1;br<=or;br+=1){r[t++]=e.pixs,O(d(e.metadatamap,br)),e.jmv();var Br=r[--t];g(r[--t],Br,0)}if(e.slave)e.i=0;else{var lr=e.colors,Lt=16;if(16>lr){var Ue=lr;lr=Lt,Lt=Ue}for(var yr=0,ns=Lt-1;yr<=ns;yr+=1){e.i=yr;var xs=d(e.palettelayout,e.i);r[t++]=xs,r[t++]=e.pixs,r[t++]=xs,O(d(e.palettemap1,e.i)),e.jmv();var js=r[--t],Gr=r[--t];g(r[--t],js,Gr);var Bs=r[--t];r[t++]=e.pixs,r[t++]=Bs,O(d(e.palettemap2,e.i)),e.jmv();var ws=r[--t],Ps=r[--t];g(r[--t],ws,Ps)}e.i=16}e.j=e.nummetamodules;for(var us=e.i,Ns=e.palettelayout.length-1;us<=Ns;us+=2){e.i=us;var Ds=d(e.palettelayout,e.i);r[t++]=Ds,r[t++]=e.pixs,r[t++]=Ds,O(d(e.metadatamap,e.j)),e.jmv();var Cs=r[--t],qs=r[--t];g(r[--t],Cs,qs);var Ys=r[--t];r[t++]=e.pixs,r[t++]=Ys,O(d(e.metadatamap,e.j+2)),e.jmv();var en=r[--t],wn=r[--t];g(r[--t],en,wn);var Ms=d(e.palettelayout,e.i+1);r[t++]=Ms,r[t++]=e.pixs,r[t++]=Ms,O(d(e.metadatamap,e.j+1)),e.jmv();var On=r[--t],Vs=r[--t];g(r[--t],On,Vs);var $n=r[--t];r[t++]=e.pixs,r[t++]=$n,O(d(e.metadatamap,e.j+3)),e.jmv();var Us=r[--t],An=r[--t];g(r[--t],Us,An),e.j=e.j+4}var zn=a([function(){var ct=r[--t],St=r[--t];r[t++]=C(St+ct)%e.colors},function(){t--;var ct=r[--t];r[t++]=ct%e.colors},function(){var ct=r[--t];r[t-1]=ct;var St=r[--t];r[t++]=St%e.colors},function(){var ct=r[--t],St=r[--t];r[t++]=(~~(ct/3)+~~(St/2))%e.colors},function(){var ct=r[--t],St=r[--t];r[t++]=(~~(ct/2)+~~(St/3))%e.colors},function(){var ct=r[--t],St=C(r[--t]+ct);r[t++]=(~~(St/2)+~~(St/3))%e.colors},function(){var ct=r[--t],St=r[--t];r[t++]=C(ct*(St*St)%7+(ct+St*St)*2%19)%e.colors},function(){var ct=r[--t],St=r[--t];r[t++]=C(St*(ct*ct)%5+(ct*ct+St*2)%13)%e.colors}]);e.maskfuncs=zn,e.mask!=-1&&(e.maskfuncs=a([d(e.maskfuncs,e.mask)]),e.bestmaskval=e.mask),e.masks=a(e.maskfuncs.length);for(var Ln=0,tn=e.masks.length-1;Ln<=tn;Ln+=1){e.m=Ln,e.mask=a(e.rows*e.cols);for(var Wn=0,rn=e.rows-1;Wn<=rn;Wn+=1){e.j=Wn;for(var kn=0,Os=e.cols-1;kn<=Os;kn+=1){e.i=kn,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.jmv();var ka=r[--t];if(d(r[--t],ka)==-1){if(r[t++]=e.i,r[t++]=e.j,d(e.maskfuncs,e.m)()===!0)break}else r[t++]=0;r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.jmv();var $s=r[t-3],_a=r[t-1];g(r[t-2],_a,$s),t-=3}}g(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.i=0;e.posx!=e.cols;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Fs=r[--t];if(d(r[--t],Fs)==-1){var ra=S(e.bits,e.i,e.databpm);r[t++]=0;for(var zs=0,ca=ra.length;zs<ca;zs++){var pn=r[--t];r[t++]=C(pn+(d(ra,zs)-48))*2}var Zt=r[--t];r[t++]=~~(Zt/2),r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var ts=r[t-3],Ss=r[t-1];g(r[t-2],Ss,ts),t-=3,e.i=e.i+e.databpm}e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)}e.evalrle=function(){e.scrle=r[--t],e.scr1=0,e.scr3=0;for(var ct=0,St=e.scrle.length-2;ct<=St;ct+=2)if(e.j=ct,d(e.scrle,e.j+1)!=-1){var pr=d(e.scrle,e.j);if(r[t++]=pr,pr>=5?e.scr1=C(r[--t]-2+e.scr1):t--,e.j>=4&&e.j<=e.scrle.length-5){var cr=S(e.scrle,e.j-4,10);r[t++]=cr;for(var hr=0,Fr=cr.length;hr<Fr;hr++)r[t++]=d(cr,hr)==1;t--;for(var dr=0;dr<4;dr++){var is=r[--t];r[t-1]=is;var Yr=r[--t],Vr=r[--t];r[t++]=Io(Vr,Yr)}if(r[--t]){r[t++]=1/0;var $r=r[--t],Jr=r[--t];r[t++]=$r,O(Jr);var vs=r[t-1],rs=r[t-3],Wr=r[t-5],os=r[t-7],Rr=r[t-9];if(W(Rr,Wr)&&W(Rr,vs)&&W(os,rs)){var Or=r[--t],Gs=r[--t],As=r[--t];e.c4=As,e.c5=Or,r[t++]=As,r[t++]=Gs,(e.c4==e.bi&&e.c5==e.yi||e.c4==e.yi&&e.c5==e.bi||e.c4==e.gi&&e.c5==e.mi||e.c4==e.mi&&e.c5==e.gi)&&(e.scr3=e.scr3+100)}cl()}else t--}}r[t++]=e.scr1,r[t++]=e.scr3},e.evalmask=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0;var ct=e.rows,St=e.cols;if(ct<St){var pr=St;St=ct,ct=pr}e.rle=a(ct*2+2),e.lastpairs=a(e.cols),e.thispairs=a(e.cols);for(var cr=0,hr=e.cols-1;cr<=hr;cr+=1){e.i=cr,r[t++]=1/0,r[t++]=0,r[t++]=-1;for(var Fr=e.i,dr=e.cols,is=e.rows*e.cols-1;dr<0?Fr>=is:Fr<=is;Fr+=dr){var Yr=d(e.sym,Fr),Vr=r[t-1];if(r[t++]=Yr,W(Vr,Yr)){t--;var $r=r[--t],Jr=r[--t];r[t++]=Jr+1,r[t++]=$r}else{var vs=r[--t];r[t++]=1,r[t++]=vs}}var rs=ys()+2;Wt(S(e.rle,0,rs-2)),e.evalrle(),e.n3=C(r[--t]+e.n3),e.n1=C(r[--t]+e.n1),t--}for(var Wr=0,os=e.rows-1;Wr<=os;Wr+=1){e.i=Wr,e.symrow=S(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Rr=e.symrow;r[t++]=0,r[t++]=-1;for(var Or=0,Gs=Rr.length;Or<Gs;Or++){var As=d(Rr,Or),xn=r[t-1];if(r[t++]=As,W(xn,As)){t--;var Fn=r[--t],fa=r[--t];r[t++]=fa+1,r[t++]=Fn}else{var Qn=r[--t];r[t++]=1,r[t++]=Qn}}var rr=ys()+2;Wt(S(e.rle,0,rr-2)),e.evalrle(),e.n3=C(r[--t]+e.n3),e.n1=C(r[--t]+e.n1),t--;var wr=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=wr;var Cr=e.symrow;r[t++]=-1;for(var ss=0,zr=Cr.length;ss<zr;ss++){var ls=d(Cr,ss),Xr=r[--t];if(r[t++]=ls,r[t++]=Xr,Ee(ls,Xr)){t--;var an=r[--t];r[t++]=-1,r[t++]=an}}if(t--,Wt(e.thispairs),t--,e.i>0){r[t++]=1/0,O(e.lastpairs),O(e.thispairs),r[t++]=e.n2;for(var on=0,Jn=e.cols;on<Jn;on++){var Na=r[--t],za=r[--t];if(r[t++]=Na,r[t++]=za,za!=-1){var Wa=r[t-1-(e.cols+1)];if(W(r[--t],Wa)){var Ka=r[--t];r[t++]=Ka+3}}else t--}e.n2=r[--t],cl()}}r[t++]=C(e.n1+e.n2+e.n3)},e.bestscore=999999999;for(var Ls=0,jn=e.masks.length-1;Ls<=jn;Ls+=1){e.m=Ls,e.masksym=a(e.rows*e.cols);for(var qr=0,mn=e.rows*e.cols-1;qr<=mn;qr+=1)e.i=qr,g(e.masksym,e.i,bn(d(e.pixs,e.i),d(d(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalmask(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,e.metamask=e.bestmaskval,e.addtometapart=function(){var ct=r[--t];R(e.metapart,e.p,ct),e.p=ct.length+e.p},e.addtometabits=function(){var ct=r[--t];R(e.metabits,e.q,ct),e.q=ct.length+e.q},e.metapart=Z(40),e.metabits=Z(e.nummetabits),e.p=0,e.q=0,!e.slave)r[t++]=~~Ti(ba(e.colors)/ba(2))-1,r[t++]=3,e.tofixedbits(),e.addtometapart(),r[t++]=S(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,r[t++]=e.metass,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=e.metavf,r[t++]=2,e.tofixedbits(),e.addtometapart(),r[t++]=e.metamask,r[t++]=3,e.tofixedbits(),e.addtometapart(),e.hasslaves?r[t++]="1":r[t++]="0",e.addtometapart(),r[t++]=S(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.metass==0?(r[t++]=C(~~((e.cols-17)/4)-d(a([0,4,8,16]),e.metavf))-1,r[t++]=e.metavlen,e.tofixedbits(),e.addtometapart()):(r[t++]=~~((e.cols-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart(),r[t++]=~~((e.rows-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart()),r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),e.hasslaves&&(r[t++]=0,r[t++]=4,e.tofixedbits(),e.addtometapart()),r[t++]=S(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0;else{var Nn=e.sameshape?0:1;r[t++]=Nn,r[t++]=1,e.tofixedbits(),e.addtometapart();var Qs=e.sameecc?0:1;r[t++]=Qs,r[t++]=1,e.tofixedbits(),e.addtometapart();var Pa=e.hasslaves?1:0;r[t++]=Pa,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=S(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameshape||(r[t++]=~~((e.diffside-17)/4)-1,r[t++]=5,e.tofixedbits(),e.addtometapart()),e.hasslaves&&(r[t++]=0,r[t++]=3,e.tofixedbits(),e.addtometapart()),r[t++]=S(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameecc||(r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart()),r[t++]=S(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0}for(var Rs=e.q,k1=e.nummetabits-1;Rs<=k1;Rs+=1)g(e.metabits,Rs,48);if(e.i=0,e.j=0,!e.slave){for(var Kn=S(e.metabits,e.i,6),Ts=0,Ua=Kn.length;Ts<Ua;Ts++){r[t++]=d(Kn,Ts),e.colors==4?r[t++]=a([e.bi,e.yi]):r[t++]=a([e.ki,e.wi]);var sn=r[--t],Oa=d(sn,r[--t]-48);r[t++]=Oa,r[t++]=e.pixs,O(d(e.metadatamap,e.j)),e.jmv();var Cn=r[t-3],da=r[t-1];g(r[t-2],da,Cn),t-=3,e.j=e.j+1}e.i=e.i+6}for(var ua=0,l1=~~(C(e.nummetabits-e.i)/e.metabpm);ua<l1;ua++){var At=S(e.metabits,e.i,e.metabpm);r[t++]=0;for(var Kr=0,as=At.length;Kr<as;Kr++){var Hs=r[--t];r[t++]=C(Hs+(d(At,Kr)-48))*2}var fs=d(e.metacolorindex,~~(r[--t]/2));r[t++]=fs,r[t++]=e.pixs,O(d(e.metadatamap,e.j)),e.jmv();var nn=r[t-3],Sn=r[t-1];g(r[t-2],Sn,nn),t-=3,e.i=C(e.i+e.metabpm),e.j=e.j+1}var ja=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["colormap",e.palette],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=ja,e.dontdraw||xt(),e=s}function yn(){var s=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!1,e.dontdraw=!1,e.ccversion="a",e.cccolumns=-1,e.lintype="",e.linwidth=-1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],Ee(e.ccversion,"a")&&Ee(e.ccversion,"b")&&Ee(e.ccversion,"c")&&(r[t++]="bwipp.gs1ccBadCCversion#28834",r[t++]="ccversion must be a, b or c",Q()),e.cccolumns>30&&(r[t++]="bwipp.gs1ccColumnsTooBig#28838",r[t++]="The maximum number of composite component columns is 30",Q());var n=new Map([["ean13",4],["upca",4],["ean8",3],["upce",2],["gs1-128",4],["databaromni",4],["databarstacked",2],["databarstackedomni",2],["databartruncated",4],["databarlimited",3],["databarexpanded",4],["databarexpandedstacked",4]]);if(e.lintypecccolumns=n,e.lintype.length!=0){var i=d(e.lintypecccolumns,e.lintype)!==void 0;i||(r[t++]="bwipp.gs1ccBadLinType#28860",r[t++]="The lintype is not recognised",Q())}for(e.cccolumns==-1&&(W(e.lintype,"gs1-128")&&W(e.ccversion,"c")?(e.linwidth<0&&(r[t++]="bwipp.gs1ccMissingLinWidth#28868",r[t++]="linwidth must be set for a GS1-128 with a CC-C composite component",Q()),e.linwidth<68&&(r[t++]="bwipp.gs1ccMinimumLinWidth#28871",r[t++]="Minimum linwidth for a GS1-128 with a CC-C composite component is 68",Q()),e.linwidth==68?r[t++]=1:r[t++]=~~((e.linwidth-52)/17)):e.lintype.length!=0?r[t++]=d(e.lintypecccolumns,e.lintype):r[t++]=2,e.cccolumns=r[--t]),r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.isupper=function(){var Zt=r[--t];r[t++]=Zt>=65&&Zt<=90},e.isnum0=function(){var Zt=r[--t];r[t++]=Zt>=48&&Zt<=57},e.isnum1=function(){var Zt=r[--t];r[t++]=Zt>=49&&Zt<=57};;){if(e.ais.length>=1&&(W(d(e.ais,0),"10")||W(d(e.ais,0),"11")||W(d(e.ais,0),"17"))){r[t++]=-1,r[t++]="10";break}if(e.ais.length>=1&&W(d(e.ais,0),"90")){if(e.v=d(e.vals,0),e.v.length>=1&&(r[t++]=d(e.v,0),e.isupper(),r[--t])){r[t++]=0,r[t++]="11";break}if(e.v.length>=2){r[t++]=d(e.v,0),e.isnum1(),r[t++]=d(e.v,1),e.isupper();var o=r[--t];if(r[--t]&&o){r[t++]=1,r[t++]="11";break}}if(e.v.length>=3){r[t++]=d(e.v,0),e.isnum1(),r[t++]=d(e.v,1),e.isnum0();var l=r[--t],u=r[--t];r[t++]=Io(u,l),r[t++]=d(e.v,2),e.isupper();var f=r[--t];if(r[--t]&&f){r[t++]=2,r[t++]="11";break}}if(e.v.length>=4){r[t++]=d(e.v,0),e.isnum1(),r[t++]=d(e.v,1),e.isnum0();var h=r[--t],p=r[--t];r[t++]=Io(p,h),r[t++]=d(e.v,2),e.isnum0();var m=r[--t],x=r[--t];r[t++]=Io(x,m),r[t++]=d(e.v,3),e.isupper();var b=r[--t];if(r[--t]&&b){r[t++]=3,r[t++]="11";break}}}r[t++]=-1,r[t++]="0";break}e.method=r[--t],e.npre=r[--t],e.tobin=function(){var Zt=Z(r[--t]);r[t++]=Zt;for(var ts=0,Ss=Zt.length-1;ts<=Ss;ts+=1){var Ls=r[t-1];g(Ls,ts,48)}var jn=r[t-1];r[t++]=jn;var qr=r[t-3],mn=r[t-1];r[t-3]=r[t-2],t-=2;var Nn=qt(Z(mn.length),qr,2);R(mn,mn.length-Nn.length,Nn)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,r[t++]=1/0;for(var v=65;v<=90;v+=1)r[t++]=v,r[t++]=v-65,r[t++]=5,e.tobin();for(var w=48;w<=57;w+=1)r[t++]=w,r[t++]=w+4,r[t++]=6,e.tobin();r[t++]=e.fnc1,r[t++]="11111",e.alpha=Pe(),r[t++]=1/0;for(var y=0;y<=119;y+=1){var A=Tr(Z(2),"00"),k=qt(Z(2),y,11);if(R(A,2-k.length,k),r[t++]=y,r[t++]=A,d(A,0)==65){var E=r[t-1];g(E,0,94)}var j=r[t-1];if(d(j,1)==65){var N=r[t-1];g(N,1,94)}var I=r[--t],M=Tr(Z(7),"0000000"),B=qt(Z(7),r[--t]+8,2);R(M,7-B.length,B),r[t++]=I,r[t++]=M}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=Pe(),r[t++]=1/0;for(var F=48;F<=57;F+=1)r[t++]=F,r[t++]=F-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var D=65;D<=90;D+=1)r[t++]=D,r[t++]=D-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var H=44;H<=47;H+=1)r[t++]=H,r[t++]=H+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=Pe(),r[t++]=1/0;for(var T=48;T<=57;T+=1)r[t++]=T,r[t++]=T-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var _=65;_<=90;_+=1)r[t++]=_,r[t++]=_-1,r[t++]=7,e.tobin();for(var L=97;L<=122;L+=1)r[t++]=L,r[t++]=L-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var z=37;z<=47;z+=1)r[t++]=z,r[t++]=z+197,r[t++]=8,e.tobin();for(var G=58;G<=63;G+=1)r[t++]=G,r[t++]=G+187,r[t++]=8,e.tobin();if(r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=Pe(),W(e.method,"10")){if(W(d(e.ais,0),"11")||W(d(e.ais,0),"17")){var K=d(e.vals,0),oe=Tr(Z(16),"0000000000000000"),V=qt(Z(16),Ie(S(K,0,2))*384+((Ie(S(K,2,2))-1)*32+Ie(S(K,4,2))),2);R(oe,16-V.length,V),r[t++]=oe,r[t++]=1/0,r[t++]=1,r[t++]=0,Es(4,-1),xe(r[--t],function(){var Zt=r[--t];r[t++]=Zt-48});var Y=W(d(e.ais,0),"11")?0:1;r[t++]=Y,e.cdf=a(),e.ais=S(e.ais,1,e.ais.length-1),e.vals=S(e.vals,1,e.vals.length-1),e.fncs=S(e.fncs,1,e.fncs.length-1)}else e.cdf=a([1,0,1,1]);e.ais.length!=0?W(d(e.ais,0),"10")?(r[t++]=1/0,xe(d(e.vals,0)),e.gpf=a(),e.ais.length>1&&(r[t++]=1/0,O(e.gpf),r[t++]=e.fnc1,e.gpf=a()),e.ais=S(e.ais,1,e.ais.length-1),e.vals=S(e.vals,1,e.vals.length-1),e.fncs=S(e.fncs,1,e.fncs.length-1)):e.gpf=a([e.fnc1]):(r[t++]=1/0,O(e.cdf),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.cdf=a(),e.gpf=a([])),e.mode="numeric"}if(W(e.method,"11")){e.cdf=a([1,1]),e.ai90=d(e.vals,0),e.npre+1!=e.ai90.length?r[t++]=S(e.ai90,e.npre+1,C(e.ai90.length-e.npre)-1):r[t++]="",e.ai90rem=r[--t],r[t++]="nalpha",r[t++]=0,xe(e.ai90rem,function(){var Zt=r[--t];if(Zt>=65&&Zt<=90){var ts=r[--t];r[t++]=ts+1}});var ie=r[--t];e[r[--t]]=ie,r[t++]="nnums",r[t++]=0,xe(e.ai90rem,function(){var Zt=r[--t];if(Zt>=48&&Zt<=57){var ts=r[--t];r[t++]=ts+1}});var de=r[--t];e[r[--t]]=de,r[t++]="mode",Li(e.nalpha,e.nnums)?r[t++]="alpha":e.nalpha==0?r[t++]="numeric":r[t++]="alphanumeric";var re=r[--t];e[r[--t]]=re,C(e.nalpha+e.nnums)!=e.ai90rem.length&&(e.mode="alphanumeric"),r[t++]=1/0,O(e.cdf),W(e.mode,"alphanumeric")&&(r[t++]=0),W(e.mode,"numeric")&&(r[t++]=1,r[t++]=0),W(e.mode,"alpha")&&(r[t++]=1,r[t++]=1),e.cdf=a(),r[t++]="ais1",e.ais.length>1?r[t++]=d(e.ais,1):r[t++]=-1;var ne=r[--t];e[r[--t]]=ne,r[t++]="vals1",e.vals.length>1?r[t++]=d(e.vals,1):r[t++]=-1;var le=r[--t];e[r[--t]]=le,W(e.ais1,"21")||W(e.ais1,"8004")?(r[t++]=1/0,O(e.cdf),W(e.ais1,"21")?(r[t++]=1,r[t++]=0):(r[t++]=1,r[t++]=1),e.cdf=a()):(r[t++]=1/0,O(e.cdf),r[t++]=0,e.cdf=a()),r[t++]="nval",e.npre!=0?r[t++]=Ie(S(e.ai90,0,e.npre)):r[t++]=0;var ue=r[--t];if(e[r[--t]]=ue,Rt("BDHIJKLNPQRSTVXZ",S(e.ai90,e.npre,1)),r[--t]){var Me=r[--t];r[t-1]=Me.length;var pe=r[--t];r[t-1]=pe,e.aval=r[--t]}else t--,e.aval=-1;if(e.nval<31&&e.aval!=-1){var Fe=Tr(Z(5),"00000"),Ce=qt(Z(5),e.nval,2);R(Fe,5-Ce.length,Ce);var ve=1/0,Be=Fe;r[t++]=ve,xe(Be,function(){var Zt=r[--t];r[t++]=Zt-48}),e.nbits=a();var Ue=Tr(Z(4),"0000"),Xe=qt(Z(4),e.aval,2);R(Ue,4-Xe.length,Xe);var Re=1/0,Ge=Ue;r[t++]=Re,xe(Ge,function(){var Zt=r[--t];r[t++]=Zt-48}),e.abits=a(),r[t++]=1/0,O(e.cdf),O(e.nbits),O(e.abits),e.cdf=a()}else{var Oe=Tr(Z(10),"0000000000"),Le=qt(Z(10),e.nval,2);R(Oe,10-Le.length,Le);var rt=1/0,Se=Oe;r[t++]=rt,xe(Se,function(){var Zt=r[--t];r[t++]=Zt-48}),e.nbits=a();var qe=Tr(Z(5),"00000"),We=qt(Z(5),d(e.ai90,e.npre)-65,2);R(qe,5-We.length,We);var Ke=1/0,Te=qe;r[t++]=Ke,xe(Te,function(){var Zt=r[--t];r[t++]=Zt-48}),e.abits=a(),r[t++]=1/0,O(e.cdf),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,O(e.nbits),O(e.abits),e.cdf=a()}if(Ee(e.mode,"alpha"))r[t++]=1/0,xe(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.gpf=a();else{r[t++]=1/0,xe(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.in=a(),e.out=a(e.in.length*6),e.j=0;for(var He=0,st=e.in.length-1;He<=st;He+=1){var gt=d(e.alpha,d(e.in,He));r[t++]=gt;var ht=1/0,bt=gt;r[t++]=ht,xe(bt,function(){var Zt=r[--t];r[t++]=Zt-48}),R(e.out,e.j,a()),e.j=r[--t].length+e.j}r[t++]=1/0,O(e.cdf),O(S(e.out,0,e.j)),e.cdf=a(),e.gpf=a([]),e.ais.length>1&&(e.mode="numeric")}e.ais=S(e.ais,1,e.ais.length-1),e.vals=S(e.vals,1,e.vals.length-1),e.fncs=S(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(W(e.ais1,"21")||W(e.ais1,"8004"))&&(r[t++]=1/0,O(e.gpf),xe(e.vals1),e.gpf=a(),e.ais=S(e.ais,1,e.ais.length-1),e.vals=S(e.vals,1,e.vals.length-1),e.fncs=S(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(r[t++]=1/0,O(e.gpf),r[t++]=e.fnc1,e.gpf=a()))}W(e.method,"0")&&(e.cdf=a([0]),e.gpf=a([]),e.mode="numeric");for(var Et=0,kt=e.ais.length-1;Et<=kt;Et+=1){e.i=Et,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var wt=a(e.gpf.length+e.ai.length+e.val.length);R(wt,0,e.gpf),r[t++]=wt,r[t++]=wt,r[t++]=e.gpf.length;var Mt=1/0,It=e.ai;r[t++]=Mt,xe(It);var zt=a(),Bt=r[--t];R(r[--t],Bt,zt);var jt=r[t-1];r[t++]=jt,r[t++]=e.gpf.length+e.ai.length;var U=1/0,$=e.val;r[t++]=U,xe($);var P=a(),q=r[--t];if(R(r[--t],q,P),e.gpf=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var X=a(e.gpf.length+1);R(X,0,e.gpf),g(X,e.gpf.length,e.fnc1),e.gpf=X}}var ce=new Map([["a",a([a([167,138,118,108,88,78,59]),a([167,138,118,98,78]),a([197,167,138,108,78])])],["b",a([a([336,296,256,208,160,104,56]),a([768,648,536,416,304,208,152,112,72,32]),a([1184,1016,840,672,496,352,264,208,152,96,56])])]]);e.bitcapsmaps=ce,e.rembits=function(){if(e.used=r[--t],Ee(e.ccversion,"c")){e.bitcaps=d(d(e.bitcapsmaps,e.ccversion),e.cccolumns-2),r[t++]=-1,xe(e.bitcaps,function(){var mn=r[t-1];if(t1(mn,e.used)){var Nn=r[--t],Qs=r[--t];r[t++]=Nn,r[t++]=Qs}t--});var Zt=r[t-1];if(Zt!=-1){var ts=r[--t];r[t++]=C(ts-e.used)}}else{var Ss=new Map([["c",-1]]);d(Ss,e.ccversion);var Ls=~~vr(e.used/8);for(e.m=~~(Ls/6)*5+Ls%6,e.m<=40&&(r[t++]=8),e.m>=41&&e.m<=160&&(r[t++]=16),e.m>=161&&e.m<=320&&(r[t++]=32),e.m>=321&&e.m<=833&&(r[t++]=64),e.m>=834&&(r[t++]=32),e.eccws=r[--t],e.m=C(e.m+e.eccws)+3,e.cccolumns>30&&(e.cccolumns=30);!(~~vr(e.m/e.cccolumns)<=30||e.cccolumns>=30);)e.cccolumns=e.cccolumns+1;e.r=~~vr(e.m/e.cccolumns),e.r<3&&(e.r=3);var jn=C(e.cccolumns*e.r-e.eccws)-3;e.tgt=C(~~(jn/5)*6+jn%5)*8,e.used<=8304?r[t++]=C(e.tgt-e.used):r[t++]=-1}var qr=r[t-1];qr==-1&&(t--,W(e.ccversion,"a")?e.ccversion="b":W(e.ccversion,"b")&&W(e.lintype,"gs1-128")?(e.ccversion="c",e.cccolumns=~~((e.linwidth-52)/17)):e.ccversion=-1,r[t++]=e.used,e.rembits())},e.encode=function(){var Zt=r[t-1];if(Ee(Zt,"raw")){var ts=r[--t],Ss=d(ts,r[--t]);r[t++]=Ss}else t--;r[t++]=1/0;var Ls=r[--t],jn=r[--t];r[t++]=Ls,xe(jn,function(){var mn=r[--t];r[t++]=mn-48});var qr=a();R(e.gpfenc,e.j,qr),e.j=qr.length+e.j},r[t++]=1/0;for(var te=0,ye=e.gpf.length;te<ye;te++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=a(),r[t++]=1/0;for(var J=0,me=e.gpf.length;J<me;J++)r[t++]=0;r[t++]=0,e.alphanumericruns=a(),r[t++]=1/0;for(var fe=0,be=e.gpf.length;fe<be;fe++)r[t++]=0;r[t++]=9999,e.nextiso646only=a();for(var se=e.gpf.length-1;se>=0;se-=1){e.i=se;var ge=Tr(Z(2),"00"),je=d(e.gpf,e.i);r[t++]=d(e.gpf,e.i),r[t++]=ge,r[t++]=ge,r[t++]=0,r[t++]=je,je==e.fnc1&&(r[t-1]=94);var he=r[--t],ke=r[--t];if(g(r[--t],ke,he),e.i<e.gpf.length-1){var we=r[t-1],Ne=d(e.gpf,e.i+1);r[t++]=we,r[t++]=1,r[t++]=Ne,Ne==e.fnc1&&(r[t-1]=94);var ze=r[--t],_e=r[--t];g(r[--t],_e,ze)}var Je=d(e.numeric,r[--t])!==void 0;Je?g(e.numericruns,e.i,d(e.numericruns,e.i+2)+2):g(e.numericruns,e.i,0);var at=r[t-1],nt=d(e.alphanumeric,at)!==void 0;nt?g(e.alphanumericruns,e.i,d(e.alphanumericruns,e.i+1)+1):g(e.alphanumericruns,e.i,0);var Ae=r[--t],Ye=d(e.iso646,Ae)!==void 0,Qe=d(e.alphanumeric,Ae)!==void 0;Ye&&!Qe?g(e.nextiso646only,e.i,0):g(e.nextiso646only,e.i,d(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=a(8304),e.i=0,e.j=0;e.i!=e.gpf.length;)for(;;){if(W(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var Ze=Z(2),pt=d(e.gpf,e.i);r[t++]=Ze,r[t++]=Ze,r[t++]=0,r[t++]=pt,pt==e.fnc1&&(r[t-1]=94);var mt=r[--t],ut=r[--t];g(r[--t],ut,mt);var vt=r[t-1],it=d(e.gpf,e.i+1);r[t++]=vt,r[t++]=1,r[t++]=it,it==e.fnc1&&(r[t-1]=94);var _t=r[--t],et=r[--t];g(r[--t],et,_t);var Ht=r[t-1],Gt=d(e.numeric,Ht)!==void 0;if(Gt){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var Ot=d(e.gpf,e.i);if(Ot<48||Ot>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=e.cdf.length+e.j,e.rembits();var ar=r[--t];if(e[r[--t]]=ar,e.rem>=4&&e.rem<=6){var Sr=S(Tr(Z(6),"000000"),0,e.rem),ir=qt(Z(4),d(e.gpf,e.i)-47,2);R(Sr,4-ir.length,ir),r[t++]=Sr,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var gr=Z(2);g(gr,0,d(e.gpf,e.i)),g(gr,1,94),r[t++]=gr,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(W(e.mode,"alphanumeric")){if(d(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var nr=d(e.gpf,e.i),Ir=d(e.iso646,nr)!==void 0,er=d(e.alphanumeric,nr)!==void 0;if(Ir&&!er){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(d(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var ur=d(e.numericruns,e.i);if(ur>=4&&C(ur+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=d(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(W(e.mode,"iso646")){if(d(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(d(e.numericruns,e.i)>=4&&d(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(d(e.alphanumericruns,e.i)>=5&&d(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=d(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=S(e.gpfenc,0,e.j),r[t++]="pad",r[t++]=e.cdf.length+e.gpf.length,e.rembits();var Kt=a(r[--t]);if(e[r[--t]]=Kt,e.pad.length>0){for(var Xt=0,fr=e.pad.length-1;Xt<=fr;Xt+=5){e.i=Xt;var Mr=e.pad,Ur=e.i,ms=a([0,0,1,0,0]),Ft=e.pad,Vt=e.i,tr=5,br=Ft.length-Vt;if(Ft.length-Vt>5){var or=tr;tr=br,br=or}R(Mr,Ur,S(ms,0,br))}W(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=S(a(),0,e.pad.length)),W(e.mode,"alpha")&&(r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=S(a(),0,e.pad.length))}r[t++]=1/0,O(e.cdf),O(e.gpf),O(e.pad),e.bits=a(),r[t++]=1/0,r[t++]=a([0,0,0,0,0,0,1]);for(var Br=0;Br<68;Br++)r[t++]=a(7);e.pwr928=a();for(var lr=1;lr<=68;lr+=1){e.j=lr,e.v=0;for(var Lt=6;Lt>=1;Lt-=1)e.i=Lt,e.v=C(d(d(e.pwr928,e.j-1),e.i)*2+~~(e.v/928)),g(d(e.pwr928,e.j),e.i,e.v%928);g(d(e.pwr928,e.j),0,C(d(d(e.pwr928,e.j-1),0)*2+~~(e.v/928)))}if(e.ccversion=="a"){r[t++]=1/0;for(var yr=0;yr<28;yr++)r[t++]=0;for(e.cws=a(),e.b=0,e.c=0;e.b!=e.bits.length;){var ns=e.bits,xs=e.b,js=e.bits,Gr=e.b,Bs=js.length-Gr,ws=69;if(69>js.length-Gr){var or=Bs;Bs=ws,ws=or}e.bs=S(ns,xs,ws),e.bsl=e.bs.length,e.cs=S(e.cws,e.c,~~(e.bsl/10)+1),e.csl=e.cs.length;for(var Ps=0,us=e.bsl-1;Ps<=us;Ps+=1){e.i=Ps;for(var Ns=0,Ds=e.csl-1;Ns<=Ds;Ns+=1){e.j=Ns;var Cs=e.cs,qs=e.j;g(Cs,qs,C(d(Cs,qs)+d(d(e.pwr928,e.i),e.j+7-e.csl)*d(e.bs,e.bsl-e.i-1)))}}for(var Ys=e.csl-1;Ys>=1;Ys-=1){e.i=Ys;var en=e.cs,wn=e.i;g(en,wn-1,C(d(en,wn-1)+~~(d(e.cs,e.i)/928)));var Ms=e.cs,On=e.i;g(Ms,On,d(Ms,On)%928)}e.b=e.b+e.bsl,e.c=e.c+e.csl}e.cws=S(e.cws,0,e.c),e.barcode=Z(e.cws.length*4);for(var Vs=0,$n=e.cws.length-1;Vs<=$n;Vs+=1){e.i=Vs;var Us=Tr(Z(4),"^000"),An=qt(Z(4),d(e.cws,e.i),10);R(Us,4-An.length,An),R(e.barcode,e.i*4,Us)}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"cca",!0),g(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Vu();var zn=r[--t];e[r[--t]]=zn}if(e.ccversion=="b"){e.barcode=Z(~~(e.bits.length/8));for(var Ln=0,tn=e.barcode.length-1;Ln<=tn;Ln+=1){e.i=Ln;var Wn=S(e.bits,e.i*8,8);r[t++]=0;for(var rn=0,kn=Wn.length;rn<kn;rn++){var Os=r[--t];r[t++]=C(Os+d(Wn,rn))*2}g(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"ccb",!0),g(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Vu();var ka=r[--t];e[r[--t]]=ka}if(e.ccversion=="c"){e.barcode=Z(~~(e.bits.length/8));for(var $s=0,_a=e.barcode.length-1;$s<=_a;$s+=1){e.i=$s;var Fs=S(e.bits,e.i*8,8);r[t++]=0;for(var ra=0,zs=Fs.length;ra<zs;ra++){var ca=r[--t];r[t++]=C(ca+d(Fs,ra))*2}g(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"ccc",!0),g(e.options,"columns",e.cccolumns),g(e.options,"eclevel",~~(ba(e.eccws)/ba(2))-1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ff();var pn=r[--t];e[r[--t]]=pn}r[t++]=e.args,e.dontdraw||xt(),e=s}function xU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29501",r[t++]="A Composite Component must be provided following a pipe character",Q()),g(e.options,"lintype","ean13"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,J2(),e.usematrix){e.linsym=r[--t],e.sbs=d(e.linsym,"sbs"),e.bhs=d(e.linsym,"bhs"),e.bbs=d(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,xe(e.sbs,function(){var ie=r[--t],de=r[--t];r[t++]=C(de+Ie(ie))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var x=r[--t];e[r[--t]]=x,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,v=e.ccpixx-97;b<v;b++)r[t++]=0;if(e.linpad=a(),e.diff=C(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,y=e.diff;w<y;w++)r[t++]=0;e.ccrpad=a(),e.pixx=C(e.ccpixx+e.diff)}else e.ccrpad=a(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var I=0;I<2;I++){O(e.linpad),r[t++]=1,r[t++]=0;for(var M=0;M<93;M++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=0,r[t++]=1;for(var F=0;F<93;F++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var D=71;D>=0;D-=1){e.y=D,O(e.linpad),r[t++]=0;for(var H=0,T=e.sbs.length-1;H<=T;H+=1)if(e.i=H,e.i%2==0){var _=d(e.bbs,~~(e.i/2))*72;if(_>e.y||C(_+d(e.bhs,~~(e.i/2))*72)<e.y)for(var L=0,z=Ie(d(e.sbs,e.i));L<z;L++)r[t++]=0;else for(var G=0,K=Ie(d(e.sbs,e.i));G<K;G++)r[t++]=1}else for(var oe=0,V=Ie(d(e.sbs,e.i));oe<V;oe++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=a(),e.pixy=~~(e.pixs.length/e.pixx);var Y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=Y,e.dontdraw||(ee.save(),xt(),ee.restore())}else{ee.save(),Tt();var i=ee.currpos();ee.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var o=r[--t];ee.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var l=0;l<93;l++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=a();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,xt(),ee.restore()}e=s}function vU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29664",r[t++]="A Composite Component must be provided following a pipe character",Q()),g(e.options,"lintype","ean8"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,bv(),e.usematrix){e.linsym=r[--t],e.sbs=d(e.linsym,"sbs"),e.bhs=d(e.linsym,"bhs"),e.bbs=d(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,xe(e.sbs,function(){var re=r[--t],ne=r[--t];r[t++]=C(ne+Ie(re))});var x=r[--t];e[r[--t]]=x;var b=e.comp;r[t++]="compsym",r[t++]=b,r[t++]=e.options,yn();var v=r[--t];e[r[--t]]=v,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0;for(var w=0,y=e.ccpixx-69;w<y;w++)r[t++]=0;if(e.linpad=a(),e.diff=C(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var A=0,k=e.diff;A<k;A++)r[t++]=0;e.ccrpad=a(),e.pixx=C(e.ccpixx+e.diff)}else e.ccrpad=a(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var E=0,j=e.ccpixx,N=e.ccpixs.length-1;j<0?E>=N:E<=N;E+=j)e.i=E,O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var I=0;I<2;I++){O(e.linpad),r[t++]=0,r[t++]=1;for(var M=0;M<65;M++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var F=0;F<65;F++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var H=0;H<65;H++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var T=71;T>=0;T-=1){e.y=T,O(e.linpad),r[t++]=0;for(var _=0,L=e.sbs.length-1;_<=L;_+=1)if(e.i=_,e.i%2==0){var z=d(e.bbs,~~(e.i/2))*72;if(z>e.y||C(z+d(e.bhs,~~(e.i/2))*72)<e.y)for(var G=0,K=Ie(d(e.sbs,e.i));G<K;G++)r[t++]=0;else for(var oe=0,V=Ie(d(e.sbs,e.i));oe<V;oe++)r[t++]=1}else for(var Y=0,ie=Ie(d(e.sbs,e.i));Y<ie;Y++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=a(),e.pixy=~~(e.pixs.length/e.pixx);var de=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=de,e.dontdraw||(ee.save(),xt(),ee.restore())}else{ee.save(),Tt();var i=ee.currpos();r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,yn();var o=r[--t];ee.rmoveto(70-d(o,"pixx"),78),r[t++]=o,xt();var l=r[--t];ee.moveto(r[--t]-1,l+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var u=0;u<65;u++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var f=0;f<65;f++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var h=0;h<65;h++)r[t++]=0;r[t++]=1,r[t++]=0;var p=a();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=p,r[t++]="pixx",r[t++]=69,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=69/72,r[t++]="opt",r[t++]=e.options;var m=Pe();r[t++]=m,xt(),ee.restore()}e=s}function gU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29830",r[t++]="A Composite Component must be provided following a pipe character",Q()),g(e.options,"lintype","ean13"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,T9(),e.usematrix){e.linsym=r[--t],e.sbs=d(e.linsym,"sbs"),e.bhs=d(e.linsym,"bhs"),e.bbs=d(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,xe(e.sbs,function(){var ie=r[--t],de=r[--t];r[t++]=C(de+Ie(ie))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var x=r[--t];e[r[--t]]=x,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,v=e.ccpixx-97;b<v;b++)r[t++]=0;if(e.linpad=a(),e.diff=C(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,y=e.diff;w<y;w++)r[t++]=0;e.ccrpad=a(),e.pixx=C(e.ccpixx+e.diff)}else e.ccrpad=a(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var I=0;I<2;I++){O(e.linpad),r[t++]=1,r[t++]=0;for(var M=0;M<93;M++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=0,r[t++]=1;for(var F=0;F<93;F++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var D=71;D>=0;D-=1){e.y=D,O(e.linpad),r[t++]=0;for(var H=0,T=e.sbs.length-1;H<=T;H+=1)if(e.i=H,e.i%2==0){var _=d(e.bbs,~~(e.i/2))*72;if(_>e.y||C(_+d(e.bhs,~~(e.i/2))*72)<e.y)for(var L=0,z=Ie(d(e.sbs,e.i));L<z;L++)r[t++]=0;else for(var G=0,K=Ie(d(e.sbs,e.i));G<K;G++)r[t++]=1}else for(var oe=0,V=Ie(d(e.sbs,e.i));oe<V;oe++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=a(),e.pixy=~~(e.pixs.length/e.pixx);var Y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=Y,e.dontdraw||(ee.save(),xt(),ee.restore())}else{ee.save(),Tt();var i=ee.currpos();ee.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var o=r[--t];ee.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var l=0;l<93;l++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=a();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,xt(),ee.restore()}e=s}function bU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29993",r[t++]="A Composite Component must be provided following a pipe character",Q()),g(e.options,"lintype","upce"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.comp.length+18);if(R(n,0,"(01)00000000000000"),R(n,18,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,_9(),e.usematrix){e.linsym=r[--t],e.sbs=d(e.linsym,"sbs"),e.bhs=d(e.linsym,"bhs"),e.bbs=d(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,xe(e.sbs,function(){var ie=r[--t],de=r[--t];r[t++]=C(de+Ie(ie))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var x=r[--t];e[r[--t]]=x,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,v=e.ccpixx-53;b<v;b++)r[t++]=0;if(e.linpad=a(),e.diff=C(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,y=e.diff;w<y;w++)r[t++]=0;e.ccrpad=a(),e.pixx=C(e.ccpixx+e.diff)}else e.ccrpad=a(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<49;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var I=0;I<2;I++){O(e.linpad),r[t++]=1,r[t++]=0;for(var M=0;M<49;M++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=0,r[t++]=1;for(var F=0;F<49;F++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var D=71;D>=0;D-=1){e.y=D,O(e.linpad),r[t++]=0;for(var H=0,T=e.sbs.length-1;H<=T;H+=1)if(e.i=H,e.i%2==0){var _=d(e.bbs,~~(e.i/2))*72;if(_>e.y||C(_+d(e.bhs,~~(e.i/2))*72)<e.y)for(var L=0,z=Ie(d(e.sbs,e.i));L<z;L++)r[t++]=0;else for(var G=0,K=Ie(d(e.sbs,e.i));G<K;G++)r[t++]=1}else for(var oe=0,V=Ie(d(e.sbs,e.i));oe<V;oe++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=a(),e.pixy=~~(e.pixs.length/e.pixx);var Y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=Y,e.dontdraw||(ee.save(),xt(),ee.restore())}else{ee.save(),Tt();var i=ee.currpos();ee.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var o=r[--t];ee.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var l=0;l<49;l++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<49;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<49;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=a();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=53,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=53/72,r[t++]="opt",r[t++]=e.options;var p=Pe();r[t++]=p,xt(),ee.restore()}e=s}function yU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30156",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databaromni"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,ed();var i=r[--t];if(e.linsbs=d(i,"sbs"),e.linheight=d(d(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Tt(),e.sepfinder=function(){e.fp=r[--t];for(var w=e.fp,y=e.fp+12;w<=y;w+=1){if(e.i=w,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var A=d(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=a([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var k=0;k<=12;k+=1){var E=r[--t];r[t++]=E&&W(d(e.bot,C(k+e.fp)),d(e.f3,k))}r[--t]&&R(e.sep,e.fp,a([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var w=r[--t],y=r[t-1],A=y==1?0:1,k=0,E=w;k<E;k++)r[t++]=A}),Wt(a(ys()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,xe(e.bot,function(){var w=r[--t];r[t++]=1-w}),e.sep=a(),R(e.sep,0,a([0,0,0])),R(e.sep,e.sep.length-4,a([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var f=r[--t];e[r[--t]]=f,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var w=r[--t],y=r[t-1],A=y==0?1:0,k=0,E=Ie(w);k<E;k++)r[t++]=A}),e.linpixs=a(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=a(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,O(S(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var x=0,b=e.linheight;x<b;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=a(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var v=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=v,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var o=ee.currpos();ee.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var l=r[--t];ee.moveto(r[--t],C(l+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,xt(),ee.restore()}e=s}function wU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30317",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databarstacked"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,U9();var i=r[--t];e.bot=S(d(i,"pixs"),0,d(i,"pixx")),e.linheight=d(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=d(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,j=e.fp+12;E<=j;E+=1){if(e.i=E,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var N=d(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=a([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var I=0;I<=12;I+=1){var M=r[--t];r[t++]=M&&W(d(e.bot,C(I+e.fp)),d(e.f3,I))}r[--t]&&R(e.sep,e.fp,a([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,l=0,u=o.length;l<u;l++)r[t++]=1-d(o,l);if(e.sep=a(),R(e.sep,0,a([0,0,0,0])),R(e.sep,e.sep.length-4,a([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var m=r[--t];e[r[--t]]=m,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,b=e.ccpixx,v=e.ccpixs.length-1;b<0?x>=v:x<=v;x+=b)e.i=x,r[t++]=0,O(S(e.ccpixs,e.i,e.ccpixx));O(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var w=0,y=e.linwidth,A=e.linpixs.length-1;y<0?w>=A:w<=A;w+=y)e.i=w,O(S(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=a(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var k=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=k,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var f=ee.currpos();ee.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var h=r[--t];ee.moveto(r[--t],C(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,xt(),ee.restore()}e=s}function AU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30474",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databarstackedomni"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,O9();var i=r[--t];e.bot=S(d(i,"pixs"),0,d(i,"pixx")),e.linheight=d(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=d(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,j=e.fp+12;E<=j;E+=1){if(e.i=E,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var N=d(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=a([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var I=0;I<=12;I+=1){var M=r[--t];r[t++]=M&&W(d(e.bot,C(I+e.fp)),d(e.f3,I))}r[--t]&&R(e.sep,e.fp,a([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,l=0,u=o.length;l<u;l++)r[t++]=1-d(o,l);if(e.sep=a(),R(e.sep,0,a([0,0,0,0])),R(e.sep,e.sep.length-4,a([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var m=r[--t];e[r[--t]]=m,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,b=e.ccpixx,v=e.ccpixs.length-1;b<0?x>=v:x<=v;x+=b)e.i=x,r[t++]=0,O(S(e.ccpixs,e.i,e.ccpixx));O(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var w=0,y=e.linwidth,A=e.linpixs.length-1;y<0?w>=A:w<=A;w+=y)e.i=w,O(S(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=a(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var k=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=k,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var f=ee.currpos();ee.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var h=r[--t];ee.moveto(r[--t],C(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,xt(),ee.restore()}e=s}function kU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30632",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databartruncated"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,z9();var i=r[--t];if(e.linsbs=d(i,"sbs"),e.linheight=d(d(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Tt(),e.sepfinder=function(){e.fp=r[--t];for(var w=e.fp,y=e.fp+12;w<=y;w+=1){if(e.i=w,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var A=d(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=a([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var k=0;k<=12;k+=1){var E=r[--t];r[t++]=E&&W(d(e.bot,C(k+e.fp)),d(e.f3,k))}r[--t]&&R(e.sep,e.fp,a([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var w=r[--t],y=r[t-1],A=y==1?0:1,k=0,E=w;k<E;k++)r[t++]=A}),Wt(a(ys()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,xe(e.bot,function(){var w=r[--t];r[t++]=1-w}),e.sep=a(),R(e.sep,0,a([0,0,0])),R(e.sep,e.sep.length-4,a([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var f=r[--t];e[r[--t]]=f,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var w=r[--t],y=r[t-1],A=y==0?1:0,k=0,E=Ie(w);k<E;k++)r[t++]=A}),e.linpixs=a(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=a(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,O(S(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var x=0,b=e.linheight;x<b;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=a(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var v=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=v,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var o=ee.currpos();ee.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var l=r[--t];ee.moveto(r[--t],C(l+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,xt(),ee.restore()}e=s}function jU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30794",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databarlimited"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,L9();var i=r[--t];e.linsbs=d(i,"sbs"),e.linheight=d(d(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Tt(),r[t++]=1/0,r[t++]=1,xe(e.linsbs,function(){for(var B=r[--t],F=r[t-1],D=F==0?1:0,H=0,T=B;H<T;H++)r[t++]=D}),Wt(a(ys()-1)),e.sep=r[--t],t-=2,R(e.sep,0,a([0,0,0]));var o=e.sep;if(R(e.sep,o.length-9,a([0,0,0,0,0,0,0,0,0])),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var x=r[--t];if(e[r[--t]]=x,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var B=r[--t],F=r[t-1],D=F==0?1:0,H=0,T=Ie(B);H<T;H++)r[t++]=D}),e.linpixs=a(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=a(),e.linheight=~~e.linheight,e.ccpixx==72){r[t++]=1/0;for(var b=0,v=e.ccpixx,w=e.ccpixs.length-1;v<0?b>=w:b<=w;b+=v)e.i=b,r[t++]=0,O(S(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;O(e.sep);for(var y=0,A=e.linheight;y<A;y++)O(e.linpixs);e.pixs=a(),e.pixx=e.linpixs.length}else{r[t++]=1/0;for(var k=0,E=e.ccpixx,j=e.ccpixs.length-1;E<0?k>=j:k<=j;k+=E)e.i=k,O(S(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var N=0,I=e.linheight;N<I;N++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=a(),e.pixx=e.ccpixx+6}e.pixy=~~(e.pixs.length/e.pixx);var M=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=M,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var l=ee.currpos(),u=e.comp;r[t++]=l.x,r[t++]=l.y,r[t++]=u,r[t++]=e.options,yn();var f=r[--t];ee.rmoveto(72-d(f,"pixx"),e.linheight+1),r[t++]=f,xt();var h=r[--t];ee.moveto(r[--t],C(h+e.linheight));var p=e.options,m=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",p]]);r[t++]=m,xt(),ee.restore()}e=s}function NU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30946",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databarexpanded"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,yv();var i=r[--t];e.linsbs=d(i,"sbs"),e.linheight=d(d(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Tt(),e.sepfinder=function(){e.fp=r[--t];for(var B=e.fp,F=e.fp+12;B<=F;B+=1){if(e.i=B,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var D=d(e.sep,e.i-1)==0?1:0;r[t++]=D}else r[t++]=0;g(e.sep,e.i,r[--t])}},r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var B=r[--t],F=r[t-1],D=F==1?0:1,H=0,T=B;H<T;H++)r[t++]=D}),Wt(a(ys()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,xe(e.bot,function(){var B=r[--t];r[t++]=1-B}),e.sep=a(),R(e.sep,0,a([0,0,0])),R(e.sep,e.sep.length-4,a([0,0,0,0])),r[t++]=1/0;for(var o=18,l=e.bot.length-13;o<=l;o+=98)r[t++]=o;for(var u=69,f=e.bot.length-13;u<=f;u+=98)r[t++]=u;for(var h=a(),p=0,m=h.length;p<m;p++)r[t++]=d(h,p),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var w=r[--t];e[r[--t]]=w,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,xe(e.linsbs,function(){for(var B=r[--t],F=r[t-1],D=F==0?1:0,H=0,T=Ie(B);H<T;H++)r[t++]=D}),e.linpixs=a(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=a(),e.linheight=~~e.linheight,e.diff=C(e.linpixs.length-e.ccpixx),r[t++]=1/0;for(var y=0,A=e.diff-2;y<A;y++)r[t++]=0;e.ccrpad=a(),r[t++]=1/0;for(var k=0,E=e.ccpixx,j=e.ccpixs.length-1;E<0?k>=j:k<=j;k+=E)e.i=k,r[t++]=0,r[t++]=0,O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.sep);for(var N=0,I=e.linheight;N<I;N++)O(e.linpixs);e.pixs=a(),e.pixx=e.linpixs.length,e.pixy=~~(e.pixs.length/e.pixx);var M=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=M,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var x=ee.currpos();ee.rmoveto(1,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var b=r[--t];ee.moveto(r[--t],C(b+e.linheight));var v=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=v,xt(),ee.restore()}e=s}function CU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31106",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"lintype","databarexpandedstacked"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,r[t++]=e.linear,r[t++]=e.options,wv();var i=r[--t];e.bot=S(d(i,"pixs"),0,d(i,"pixx")),e.linheight=d(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=d(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var T=e.fp,_=e.fp+12;T<=_;T+=1){if(e.i=T,d(e.bot,e.i)==0)if(d(e.bot,e.i-1)==1)r[t++]=1;else{var L=d(e.sep,e.i-1)==0?1:0;r[t++]=L}else r[t++]=0;g(e.sep,e.i,r[--t])}},r[t++]=1/0;for(var o=e.bot,l=0,u=o.length;l<u;l++)r[t++]=1-d(o,l);e.sep=a(),R(e.sep,0,a([0,0,0,0])),R(e.sep,e.sep.length-4,a([0,0,0,0])),r[t++]=1/0;for(var f=19,h=e.bot.length-13;f<=h;f+=98)r[t++]=f;for(var p=70,m=e.bot.length-13;p<=m;p+=98)r[t++]=p;for(var x=a(),b=0,v=x.length;b<v;b++)r[t++]=d(x,b),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,yn();var E=r[--t];e[r[--t]]=E,e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),e.pixx=e.sep.length,r[t++]=1/0;for(var j=0,N=~~((C(e.pixx-e.ccpixx)+1)/2);j<N;j++)r[t++]=0;e.cclpad=a(),r[t++]=1/0;for(var I=0,M=~~(C(e.pixx-e.ccpixx)/2);I<M;I++)r[t++]=0;e.ccrpad=a(),r[t++]=1/0;for(var B=0,F=e.ccpixx,D=e.ccpixs.length-1;F<0?B>=D:B<=D;B+=F)e.i=B,O(e.cclpad),O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.sep),O(e.linpixs),e.pixs=a(),e.pixy=~~(e.pixs.length/e.pixx);var H=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=H,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var w=ee.currpos(),y=d(e.bot,0)==0?2:0;ee.rmoveto(y,e.linheight+1),r[t++]=w.x,r[t++]=w.y,r[t++]=e.comp,r[t++]=e.options,yn(),xt();var A=r[--t];ee.moveto(r[--t],C(A+e.linheight));var k=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=k,xt(),ee.restore()}e=s}function SU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),Rt(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31259",r[t++]="A Composite Component must be provided following a pipe character",Q()),e.usematrix||ee.save(),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=Z(e.linear.length+e.comp.length);R(n,0,e.linear),R(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Un(),t-=3,g(e.options,"linkagea",!0),r[t++]=e.linear,r[t++]=1/0,xe(e.options);var i=Pe();r[t++]=i,ym();var o=d(r[--t],"sbs");r[t++]=0,xe(o,function(){var _=r[--t],L=r[--t];r[t++]=C(L+_)}),e.linwidth=r[--t],g(e.options,"lintype","gs1-128"),g(e.options,"linwidth",e.linwidth),r[t++]=e.comp,r[t++]=1/0,xe(e.options);var l=Pe();r[t++]=l,yn(),e.compsym=r[--t],d(e.compsym,"pixx")==99?r[t++]="a":r[t++]="c",e.linktype=r[--t],g(e.compsym,"borderbottom",0),W(e.linktype,"a")?(g(e.options,"linkagea",!0),g(e.options,"linkagec",!1)):(g(e.options,"linkagea",!1),g(e.options,"linkagec",!0));var u=e.linear;r[t++]=u,r[t++]=1/0,xe(e.options);var f=Pe();r[t++]=f,ym();var h=r[--t];if(e.linsbs=d(h,"sbs"),e.linheight=d(d(h,"bhs"),0)*72,r[t++]=h,e.usematrix?t--:Tt(),r[t++]=1/0,r[t++]=1,xe(e.linsbs,function(){for(var _=r[--t],L=r[t-1],z=L==0?1:0,G=0,K=_;G<K;G++)r[t++]=z}),Wt(a(ys()-1)),e.sep=r[--t],t-=2,W(e.linktype,"a")){if(e.s=~~((e.linwidth-2)/11),e.p=~~((e.s-9)/2),r[t++]="x",r[t++]=(e.s-e.p-1)*11+10,e.p==0){var p=r[--t];r[t++]=p+2}var m=r[--t];e[r[--t]]=m-99}else e.x=-7;if(e.usematrix){if(e.ccpixs=d(e.compsym,"pixs"),e.ccpixx=d(e.compsym,"pixx"),r[t++]=1/0,xe(e.linsbs,function(){for(var _=r[--t],L=r[t-1],z=L==1?0:1,G=0,K=_;G<K;G++)r[t++]=z}),e.linpixs=a(),e.x>0){r[t++]=1/0;for(var w=0,y=e.x;w<y;w++)r[t++]=0;e.cclpad=a(),e.linlpad=a(0)}else{e.cclpad=a(0),r[t++]=1/0;for(var A=0,k=-e.x;A<k;A++)r[t++]=0;e.linlpad=a()}if(e.diff=C(e.linwidth-(e.ccpixx+e.x)),e.diff>0){r[t++]=1/0;for(var E=0,j=e.diff;E<j;E++)r[t++]=0;e.ccrpad=a(),e.linrpad=a(0)}else{e.ccrpad=a(0),r[t++]=1/0;for(var N=0,I=-e.diff;N<I;N++)r[t++]=0;e.linrpad=a()}e.linheight=~~e.linheight,r[t++]=1/0;for(var M=0,B=e.ccpixx,F=e.ccpixs.length-1;B<0?M>=F:M<=F;M+=B)e.i=M,O(e.cclpad),O(S(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.linlpad),O(e.sep),O(e.linrpad);for(var D=0,H=e.linheight;D<H;D++)O(e.linlpad),O(e.linpixs),O(e.linrpad);e.pixs=a(),e.pixx=C(e.cclpad.length+e.ccpixx+e.ccrpad.length),e.pixy=~~(e.pixs.length/e.pixx);var T=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=T,e.dontdraw||(ee.save(),xt(),ee.restore())}else{var x=ee.currpos();ee.rmoveto(e.x,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.compsym,xt();var b=r[--t];ee.moveto(r[--t],C(b+e.linheight));var v=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=v,xt(),ee.restore()}e=s}function EU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.gssep=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=a([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var o=a(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var l=1/0,u=e.ai;r[t++]=l,xe(u);var f=a(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,xe(x);var b=a(),v=r[--t];if(R(r[--t],v,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var w=a(e.dmtx.length+1);R(w,0,e.dmtx),r[t++]=w,r[t++]=w,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var y=r[--t],A=r[--t];g(r[--t],A,y),e.dmtx=r[--t]}}for(e.barcode=Z((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var k=d(e.dmtx,e.i);r[t++]=k,k==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=S(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var E=r[--t];e[r[--t]]=E,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function IU(){var s=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.gssep=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=a([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var o=a(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var l=1/0,u=e.ai;r[t++]=l,xe(u);var f=a(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,xe(x);var b=a(),v=r[--t];if(R(r[--t],v,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var w=a(e.dmtx.length+1);R(w,0,e.dmtx),r[t++]=w,r[t++]=w,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var y=r[--t],A=r[--t];g(r[--t],A,y),e.dmtx=r[--t]}}for(e.barcode=Z((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var k=d(e.dmtx,e.i);r[t++]=k,k==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=S(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var E=r[--t];e[r[--t]]=E,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function BU(){var s=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Un(),t--,e.val=d(r[--t],0),e.key=d(r[--t],0),e.hri=Z(e.key.length+e.val.length+2),g(e.hri,0,40),R(e.hri,1,e.key),g(e.hri,e.key.length+1,41),R(e.hri,e.key.length+2,e.val),delete e.options.parse,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var o=r[--t];e[r[--t]]=o,g(e.args,"opt",e.options),g(e.args,"alttext",e.hri),g(e.args,"textyoffset",-1),g(e.args,"textfont","OCR-B"),g(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||xt(),e=s}function DU(){var s=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.qrc=a([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var o=a(e.qrc.length+e.ai.length+e.val.length);R(o,0,e.qrc),r[t++]=o,r[t++]=o,r[t++]=e.qrc.length;var l=1/0,u=e.ai;r[t++]=l,xe(u);var f=a(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.qrc.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,xe(x);var b=a(),v=r[--t];if(R(r[--t],v,b),e.qrc=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var w=a(e.qrc.length+1);R(w,0,e.qrc),g(w,e.qrc.length,e.fnc1),e.qrc=w}}for(e.barcode=Z((e.qrc.length+1)*5),e.i=0,e.j=0;e.i!=e.qrc.length;){var y=d(e.qrc,e.i);r[t++]=y,y==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=S(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,El();var A=r[--t];e[r[--t]]=A,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function MU(){var s=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,hn();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Un(),t--,e.val=d(r[--t],0),e.key=d(r[--t],0),e.hri=Z(e.key.length+e.val.length+2),g(e.hri,0,40),R(e.hri,1,e.key),g(e.hri,e.key.length+1,41),R(e.hri,e.key.length+2,e.val),delete e.options.parse,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,El();var o=r[--t];e[r[--t]]=o,g(e.args,"opt",e.options),g(e.args,"alttext",e.hri),g(e.args,"textyoffset",-4),g(e.args,"textfont","OCR-B"),g(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||xt(),e=s}function FU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Un(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=a([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=d(e.ais,e.i),e.val=d(e.vals,e.i);var o=a(e.dmtx.length+e.ai.length+e.val.length);R(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var l=1/0,u=e.ai;r[t++]=l,xe(u);var f=a(),h=r[--t];R(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,xe(x);var b=a(),v=r[--t];if(R(r[--t],v,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&d(e.fncs,e.i)){var w=a(e.dmtx.length+1);R(w,0,e.dmtx),g(w,e.dmtx.length,e.fnc1),e.dmtx=w}}for(e.barcode=Z((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var y=d(e.dmtx,e.i);r[t++]=y,y==e.fnc1?(t--,R(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=S(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,q9();var A=r[--t];e[r[--t]]=A,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function RU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode39emptyData#31945",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibccode39badCharacter#31960",r[t++]="HIBC Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode39badCheckDigit#31974",r[t++]="Incorrect HIBC Code 39 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),e.text=Z(e.barlen+4),g(e.text,0,42),R(e.text,1,e.barcode);var x=d(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var b=r[--t],v=r[--t];g(r[--t],v,b),g(e.text,e.barlen+3,42),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Z2();var w=r[--t];e[r[--t]]=w,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function TU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode128emptyData#32049",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibccode128badCharacter#32064",r[t++]="HIBC Code 128 must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode128badCheckDigit#32078",r[t++]="Incorrect HIBC Code 128 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),e.text=Z(e.barlen+4),g(e.text,0,42),R(e.text,1,e.barcode);var x=d(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var b=r[--t],v=r[--t];g(r[--t],v,b),g(e.text,e.barlen+3,42),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,X2();var w=r[--t];e[r[--t]]=w,g(e.args,"txt",a([a([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Tt(),e=s}function _U(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixEmptyData#32148",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibcdatamatrixBadCharacter#32163",r[t++]="HIBC Data Matrix must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixBadCheckDigit#32177",r[t++]="Incorrect HIBC Data Matrix check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=e.barlen,x=Z(m+2);R(x,1,e.barcode),e.barcode=x,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var b=r[--t],v=r[--t];e[v]=b,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function PU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixrectangularEmptyData#32239",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibcdatamatrixrectangularBadCharacter#32254",r[t++]="HIBC Data Matrix Rectangular must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixrectangularBadCheckDigit#32268",r[t++]="Incorrect HIBC Data Matrix Rectangular check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=e.barlen,x=Z(m+2);R(x,1,e.barcode),e.barcode=x,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Xi();var b=r[--t];e[r[--t]]=b,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function UU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcpdf417EmptyData#32332",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibcpdf417BadCharacter#32347",r[t++]="HIBC PDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcpdf417BadCheckDigit#32361",r[t++]="Incorrect HIBC PDF417 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"columns",e.columns);var x=e.options;g(x,"validatecheck",!1);var b=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=b,Ff();var v=r[--t];e[r[--t]]=v,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function OU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcmicropdf417EmptyData#32425",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibcmicropdf417BadCharacter#32440",r[t++]="HIBC MicroPDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcmicropdf417BadCheckDigit#32454",r[t++]="Incorrect HIBC MicroPDF417 check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum));var x=e.options;g(x,"dontdraw",!0),g(e.options,"columns",e.columns),g(e.options,"validatecheck",!1);var b=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=b,Vu();var v=r[--t];e[r[--t]]=v,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function zU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcqrcodeEmptyData#32517",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibcqrcodeBadCharacter#32532",r[t++]="HIBC QR Code must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcqrcodeBadCheckDigit#32546",r[t++]="Incorrect HIBC QR Code check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,El();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function LU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccodablockfEmptyData#32608",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibccodablockfBadCharacter#32623",r[t++]="HIBC Codablock F must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccodablockfBadCheckDigit#32637",r[t++]="Incorrect HIBC Codablock F check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,G9();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function QU(){var s=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,$e(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcazteccodeEmptyData#32699",r[t++]="The data must not be empty",Q()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,S(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var l=d(e.charvals,S(e.barcode,i,1))!==void 0;l||(r[t++]="bwipp.hibcazteccodeBadCharacter#32714",r[t++]="HIBC Aztec Code must contain only digits, capital letters, spaces and the symbols -.$/+%",Q())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=C(d(e.charvals,S(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(d(e.barcode,e.barlen)!=d(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcazteccodeBadCheckDigit#32728",r[t++]="Incorrect HIBC Aztec Code check digit provided",Q()),e.barcode=S(e.barcode,0,e.barlen));var m=Z(e.barlen+2);R(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,d(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Rf();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=s}function HU(){var s=e;e=Object.assign({},e),e.options=r[--t],e.barcode=r[--t],e.dontdraw=!1,e.shortfinder=!1,e.includetext=!1,e.includecheck=!1,e.height=1,xe(e.options,function(){var E=r[--t];e[r[--t]]=E}),e.height=+e.height,(e.barcode.length<2||e.barcode.length>7)&&(r[t++]="bwipp.channelcodeBadLength#32803",r[t++]="Channel Code must be 2 to 7 digits",Q()),xe(e.barcode,function(){var E=r[--t];(E<48||E>57)&&(r[t++]="bwipp.channelcodeBadCharacter#32807",r[t++]="Channel Code must contain only digits",Q())}),Ie(e.barcode)>d(a([26,292,3493,44072,576688,7742862]),e.barcode.length-2)&&(r[t++]="bwipp.channelcodeTooBig#32811",r[t++]="The Channel Code value is too big for the number of channels",Q()),e.nextb=function(){var E=r[t-1],j=C(d(e.s,E)+(d(e.b,E-1)+(d(e.b,E-2)+d(e.s,E-1))))>4?1:2;if(r[t++]=j,E<e.chan+2)for(var N=r[t-1],I=r[t-3],M=N,B=I;M<=B;M+=1){var F=r[t-2];g(e.b,F,M);var D=r[t-3],H=r[t-4];r[t++]=C(D-M)+1,r[t++]=H,r[t++]=F+1,e.nexts()}else{var T=r[t-1],_=r[t-3];if(Cc(T,_)){var L=r[t-2],z=r[t-3];if(g(e.b,L,z),e.value==e.target){r[t++]=1/0;for(var G=3;G<=10;G+=1)r[t++]=d(e.s,G),r[t++]=d(e.b,G);e.out=S(a(),0,e.chan*2)}e.value=e.value+1}}t-=4},e.nexts=function(){var E=r[t-1];if(E<e.chan+2)r[t++]=1;else{var j=r[t-2];r[t++]=j}for(var N=r[--t],I=r[t-2],M=N,B=I;M<=B;M+=1){var F=r[t-1];g(e.s,F,M);var D=r[t-2],H=r[t-3];r[t++]=C(D-M)+1,r[t++]=H,r[t++]=F,e.nextb()}t-=3},e.encode=function(){e.chan=r[--t],e.target=r[--t],e.value=0,e.out=-1,e.b=a([1,1,1,0,0,0,0,0,0,0,0]),e.s=a([0,1,1,0,0,0,0,0,0,0,0]);var E=e.chan;r[t++]=E,r[t++]=E,r[t++]=3,e.nexts(),r[t++]=e.out},e.barlen=e.barcode.length,r[t++]="finder",e.shortfinder?r[t++]=a([1,1,1,1,1]):r[t++]=a([1,1,1,1,1,1,1,1,1]);var n=r[--t];e[r[--t]]=n,r[t++]="data",r[t++]=Ie(e.barcode),r[t++]=e.barlen+1,e.encode();var i=r[--t];if(e[r[--t]]=i,e.check=a([]),e.includecheck){e.mod23=d(a([a([]),a([]),a([13,12,4,9,3,1]),a([13,2,12,3,18,16,4,1]),a([11,16,17,8,20,4,10,2,5,1]),a([1,4,16,18,3,12,2,8,9,13,6,1]),a([20,16,22,13,15,12,5,4,8,9,21,3,7,1]),a([2,6,18,8,1,3,9,4,12,13,16,2,6,18,8,1])]),e.barlen),r[t++]=0;for(var o=0,l=e.data.length-1;o<=l;o+=1){var u=r[--t];r[t++]=C(u+(d(e.data,o)-1)*d(e.mod23,o))}var f=r[--t];r[t++]=f%23,r[t++]=3,e.encode(),e.check=r[--t]}r[t++]=1/0,O(e.finder),O(e.data),O(e.check),e.sbs=a(),e.txt=a(e.barlen);for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,g(e.txt,e.i,a([S(e.barcode,e.i,1),0,0,"",0]));r[t++]=1/0;var m=e.sbs;r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=e.height;var v=a();r[t++]=1/0;for(var w=0,y=~~((e.sbs.length+1)/2);w<y;w++)r[t++]=0;var A=a();r[t++]="ren",r[t++]=Tt,r[t++]="sbs",r[t++]=m,r[t++]="bhs",r[t++]=v,r[t++]="bbs",r[t++]=A,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var k=Pe();r[t++]=k,e.dontdraw||Tt(),e=s}function Tt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var s=e;if(e=Object.assign({},e),e.sbs=a([]),e.bhs=a([]),e.bbs=a([]),e.txt=a([]),e.barcolor="unset",e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.bordercolor="unset",e.inkspread=0,e.width=0,e.barratio=1,e.spaceratio=1,e.showborder=!1,e.showbearer=!1,e.borderleft=10,e.borderright=10,e.bordertop=1,e.borderbottom=1,e.borderwidth=.5,e.guardwhitespace=!1,e.guardleftpos=0,e.guardleftypos=0,e.guardrightpos=0,e.guardrightypos=0,e.guardwidth=7,e.guardheight=7,xe(r[--t],function(){var Kt=r[--t];e[r[--t]]=Kt}),r[t++]=e.opt,delete e.opt,r[t++]=e,$e(),t--,Ee(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",l="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=l,r[t++]=l,r[t++]=u,r[t++]=u;var f=d(Pe(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33005",r[t++]="textxalign must be offleft, left, center, right or offright",Q())}if(Ee(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",b="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=b,r[t++]=b;var v=d(Pe(),e.textyalign)!==void 0;v||(r[t++]="bwipp.renmatrixBadTextyalign#33011",r[t++]="textyalign must be above, top, center, bottom or below",Q())}r[t++]=1/0;var w="forward",y="backward",A="upward",k="downward";r[t++]=w,r[t++]=w,r[t++]=y,r[t++]=y,r[t++]=A,r[t++]=A,r[t++]=k,r[t++]=k;var E=d(Pe(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33016",r[t++]="textdirection must be forward, backward, upward or downward",Q()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33020",r[t++]="textsize must be greater than zero and less that 25",Q()),r[t++]=1/0;var j="offleft",N="left",I="center",M="right",B="offright";r[t++]=j,r[t++]=j,r[t++]=N,r[t++]=N,r[t++]=I,r[t++]=I,r[t++]=M,r[t++]=M,r[t++]=B,r[t++]=B;var F=d(Pe(),e.extratextxalign)!==void 0;F||(r[t++]="bwipp.renmatrixBadExtratextxalign#33024",r[t++]="extratextxalign must be offleft, left, center, right or offright",Q()),r[t++]=1/0;var D="above",H="top",T="center",_="bottom",L="below";r[t++]=D,r[t++]=D,r[t++]=H,r[t++]=H,r[t++]=T,r[t++]=T,r[t++]=_,r[t++]=_,r[t++]=L,r[t++]=L;var z=d(Pe(),e.extratextyalign)!==void 0;z||(r[t++]="bwipp.renmatrixBadExtratextyalign#33028",r[t++]="extratextyalign must be above, top, center, bottom or below",Q()),r[t++]=1/0;var G="forward",K="backward",oe="upward",V="downward";r[t++]=G,r[t++]=G,r[t++]=K,r[t++]=K,r[t++]=oe,r[t++]=oe,r[t++]=V,r[t++]=V;var Y=d(Pe(),e.extratextdirection)!==void 0;Y||(r[t++]="bwipp.renmatrixBadExtratextdirection#33032",r[t++]="extratextdirection must be forward, backward, upward or downward",Q()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33036",r[t++]="extratextsize must be greater than zero and less that 25",Q()),e.bars=a(~~((e.sbs.length+1)/2)),e.pixx=0,e.pixy=0;for(var ie=0,de=~~((e.sbs.length+1)/2)*2-2;ie<=de;ie+=1)e.i=ie,e.i%2==0?(e.d=C(d(e.sbs,e.i)*e.barratio-e.barratio)+1,d(e.sbs,e.i)!=0?(e.h=d(e.bhs,~~(e.i/2))*72,e.c=C(e.d/2+e.pixx),e.y=d(e.bbs,~~(e.i/2))*72,e.w=C(e.d-e.inkspread),g(e.bars,~~(e.i/2),a([e.h,e.c,e.y,e.w])),C(e.h+e.y)>e.pixy&&(e.pixy=C(e.h+e.y))):g(e.bars,~~(e.i/2),-1)):e.d=C(d(e.sbs,e.i)*e.spaceratio-e.spaceratio)+1,e.pixx=C(e.pixx+e.d);ee.save();var re=ee.currpos();if(ee.translate(re.x,re.y),e.width!=0&&ee.scale(e.width*72/e.pixx,1),e.tl=a([-C(e.borderleft+e.borderwidth/2),C(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=a([C(e.pixx+e.borderright+e.borderwidth/2),C(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=a([-C(e.borderleft+e.borderwidth/2),-C(e.borderbottom+e.borderwidth/2)]),e.br=a([C(e.pixx+e.borderright+e.borderwidth/2),-C(e.borderbottom+e.borderwidth/2)]),e.showbearer){ee.save(),ee.newpath(),O(e.bl);var ne=r[--t];ee.moveto(r[--t],ne),O(e.br);var le=r[--t];ee.lineto(r[--t],le),O(e.tl);var ue=r[--t];ee.moveto(r[--t],ue),O(e.tr);var Me=r[--t];ee.lineto(r[--t],Me),Ee(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(C(e.borderwidth-e.inkspread*2)),ee.stroke(),ee.restore()}else if(e.showborder){ee.save(),ee.newpath(),O(e.bl);var pe=r[--t];ee.moveto(r[--t],pe);for(var Fe=a([e.br,e.tr,e.tl]),Ce=0,ve=Fe.length;Ce<ve;Ce++){O(d(Fe,Ce));var Be=r[--t];ee.lineto(r[--t],Be)}ee.closepath(),Ee(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(e.borderwidth),ee.stroke(),ee.restore()}ee.save(),Ee(e.barcolor,"unset")&&ee.setcolor(e.barcolor);for(var Ue=e.bars,Xe=0,Re=Ue.length;Xe<Re;Xe++){var Ge=d(Ue,Xe);if(r[t++]=Ge,Ge!=-1){O(r[--t]),ee.newpath(),ee.setlinewidth(r[--t]);var Oe=r[--t];ee.moveto(r[--t],Oe),ee.rlineto(0,r[--t]),ee.stroke()}else t--}ee.restore();var Le=new Map([["offleft",function(){r[t++]=C(-e.tw-e.nudge)}],["below",function(){r[t++]=C(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=C(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=C(e.pixy-e.th)/2}],["right",function(){r[t++]=C(e.pixx-e.tw)}],["top",function(){r[t++]=C(e.pixy-e.th)}],["offright",function(){r[t++]=C(e.pixx+e.nudge)}],["above",function(){r[t++]=C(e.pixy+e.nudge)}]]),rt=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=C(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=C(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=C(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=C(e.pixy+e.th+e.nudge)}]]),Se=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=C(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=C(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=C(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=C(e.pixy-e.tw)}],["offright",function(){r[t++]=C(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=C(e.pixy+e.nudge)}]]),qe=new Map([["offleft",function(){r[t++]=C(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=C(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=C(e.pixy+e.tw)/2}],["right",function(){r[t++]=C(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=C(e.pixx+e.nudge)}],["above",function(){r[t++]=C(e.pixy+e.tw+e.nudge)}]]),We=new Map([["forward",Le],["backward",rt],["upward",Se],["downward",qe]]);if(e.positions=We,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Kt=d(e.positions,r[--t]);r[t++]=Kt,r[t++]=Kt,Es(4,-1);var Xt=r[t-1];W(Xt,"center")&&(r[t-1]="xcenter");var fr=r[--t];if(d(r[--t],fr)()===!0)return!0;var Mr=r[--t],Ur=r[--t];r[t++]=Mr,r[t++]=Ur,Es(3,-1);var ms=r[t-1];W(ms,"center")&&(r[t-1]="ycenter");var Ft=r[--t];if(d(r[--t],Ft)()===!0)return!0},e.includetext)if(Ee(e.textcolor,"unset")&&ee.setcolor(e.textcolor),W(e.textxalign,"unset")&&W(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Ke=e.txt,Te=0,He=Ke.length;Te<He;Te++){O(d(Ke,Te));var st=r[t-1],gt=r[t-2];if(st!=e.s||Ee(gt,e.fn)){var ht=r[t-1];ht<=0&&(t-=5,r[t++]="bwipp.renlinearFontTooSmall#33178",r[t++]="The font size is too small",Q());var bt=r[--t],Et=r[--t];e.s=bt,e.fn=Et,ee.selectfont(Et,bt)}else t-=2;var kt=r[--t];ee.moveto(r[--t],kt),ee.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var wt=e.txt,Mt=0,It=wt.length;Mt<It;Mt++)xe(d(d(wt,Mt),0));e.txt=a(),e.tstr=Z(e.txt.length);for(var zt=0,Bt=e.txt.length-1;zt<=Bt;zt+=1)g(e.tstr,zt,d(e.txt,zt))}else{e.tstr=e.alttext;for(var jt=0,U=e.alttext.length-1;jt<=U;jt+=1){if(r[t++]=jt,Rt(e.alttextsubspace,S(e.alttext,jt,1)),r[--t]){t--,t--;var $=r[t-2];g(e.alttext,$,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33206",r[t++]="The alttextsplit option must be a single character",Q()),r[t++]=1/0,r[t++]=e.tstr;Rt(r[--t],e.alttextsplit),r[--t];){var P=r[--t];r[t-1]=P;var q=r[--t],X=r[--t];r[t++]=q,r[t++]=X}e.textlines=a()}else e.textlines=a([e.tstr]);if(ee.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var ce=ee.pathbbox();ee.restore(),r[t++]=ce.ury}e.textascent=r[--t];var te=e.textlines;r[t++]="textwidth",r[t++]=0;for(var ye=0,J=te.length;ye<J;ye++){var me=ee.stringwidth(d(te,ye)),fe=r[--t],be=me.w;if(fe<me.w){var se=be;be=fe,fe=se}r[t++]=fe}var ge=r[--t];e[r[--t]]=C(ge+(e.tstr.length-1)*e.textgaps);var je=e.textlines.length;if(e.textheight=C(je*e.textascent+(je-1)*e.textlinegaps),W(e.textxalign,"unset")&&(e.textxalign="center"),W(e.textyalign,"unset")&&(e.textyalign="below"),W(e.textxalign,"justify"))if(Ee(e.textdirection,"forward")&&Ee(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33243",r[t++]="textxalign=justify requires forward or backward text",Q()),e.textwidth<e.pixx){e.textgaps=C(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",W(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var he=r[--t];e[r[--t]]=he}else e.textgaps=0,e.textxalign="center";if(W(e.textyalign,"justify"))if(Ee(e.textdirection,"upward")&&Ee(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33256",r[t++]="textyalign=justify requires upward or downward text",Q()),e.textwidth<e.pixy){e.textgaps=C(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",W(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var ke=r[--t];e[r[--t]]=ke}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var we=r[--t];ee.moveto(r[--t],we),ee.rmoveto(e.textxoffset,e.textyoffset),ee.save();var Ne=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(d(Ne,e.textdirection));var ze=ee.currpos();ee.translate(ze.x,ze.y);for(var _e=0,Je=e.textlines.length-1;_e<=Je;_e+=1){e.i=_e,ee.moveto(0,0+C(e.textascent+e.textlinegaps)*e.i);var at=e.textlines;ee.show(d(at,at.length-e.i-1),e.textgaps,0)}ee.restore()}if(e.guardwhitespace&&(ee.selectfont("OCR-B",e.guardheight*2),e.guardleftpos!=0&&(ee.moveto(-e.guardleftpos-2,C(e.guardleftypos-e.guardheight/2-1.25)),ee.show("<",0,0)),e.guardrightpos!=0&&(ee.moveto(C(e.guardrightpos+e.pixx-e.guardwidth)+1,C(e.guardrightypos-e.guardheight/2-1.25)),ee.show(">",0,0))),e.extratext.length!=0){for(var nt=0,Ae=e.extratext.length-1;nt<=Ae;nt+=1){if(r[t++]=nt,Rt(e.extratextsubspace,S(e.extratext,nt,1)),r[--t]){t--,t--;var Ye=r[t-2];g(e.extratext,Ye,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33309",r[t++]="The extratextsplit option must be a single character",Q()),r[t++]=1/0,r[t++]=e.extratext;Rt(r[--t],e.extratextsplit),r[--t];){var Qe=r[--t];r[t-1]=Qe;var Ze=r[--t],pt=r[--t];r[t++]=Ze,r[t++]=pt}e.textlines=a()}else e.textlines=a([e.extratext]);Ee(e.extratextcolor,"unset")&&ee.setcolor(e.extratextcolor),ee.selectfont(e.extratextfont,e.extratextsize),ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var mt=ee.pathbbox();ee.restore(),e.textascent=mt.ury;var ut=e.textlines;r[t++]="textwidth",r[t++]=0;for(var vt=0,it=ut.length;vt<it;vt++){var _t=ee.stringwidth(d(ut,vt)),et=r[--t],Ht=_t.w;if(et<_t.w){var se=Ht;Ht=et,et=se}r[t++]=et}var Gt=r[--t];e[r[--t]]=C(Gt+(e.extratext.length-1)*e.extratextgaps);var Ot=e.textlines.length;if(e.textheight=C(Ot*e.textascent+(Ot-1)*e.extratextlinegaps),W(e.extratextxalign,"justify"))if(Ee(e.extratextdirection,"forward")&&Ee(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33340",r[t++]="extratextxalign=justify requires forward or backward text",Q()),e.textwidth<e.pixx){e.extratextgaps=C(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",W(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var ar=r[--t];e[r[--t]]=ar}else e.extratextgaps=0,e.extratextxalign="center";if(W(e.extratextyalign,"justify"))if(Ee(e.extratextdirection,"upward")&&Ee(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33353",r[t++]="extratextyalign=justify requires upward or downward text",Q()),e.textwidth<e.pixy){e.extratextgaps=C(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",W(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var Sr=r[--t];e[r[--t]]=Sr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var ir=r[--t];ee.moveto(r[--t],ir),ee.rmoveto(e.extratextxoffset,e.extratextyoffset),ee.save();var gr=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(d(gr,e.extratextdirection));var nr=ee.currpos();ee.translate(nr.x,nr.y);for(var Ir=0,er=e.textlines.length-1;Ir<=er;Ir+=1){e.i=Ir,ee.moveto(0,0+C(e.textascent+e.extratextlinegaps)*e.i);var ur=e.textlines;ee.show(d(ur,ur.length-e.i-1),e.extratextgaps,0)}ee.restore()}ee.restore(),e=s}function xt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var s=e;if(e=Object.assign({},e),e.width=1,e.height=1,e.barcolor="unset",e.bordercolor="unset",e.colormap="unset",e.dotty=!1,e.inkspread=0,e.inkspreadh=null,e.inkspreadv=null,e.txt=a([]),e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,xe(r[--t],function(){var Xt=r[--t];e[r[--t]]=Xt}),r[t++]=e.opt,delete e.opt,r[t++]=e,$e(),t--,e.inkspreadh==null&&(e.inkspreadh=e.inkspread),e.inkspreadv==null&&(e.inkspreadv=e.inkspread),Ee(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",l="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=l,r[t++]=l,r[t++]=u,r[t++]=u;var f=d(Pe(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33458",r[t++]="textxalign must be offleft, left, center, right or offright",Q())}if(Ee(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",b="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=b,r[t++]=b;var v=d(Pe(),e.textyalign)!==void 0;v||(r[t++]="bwipp.renmatrixBadTextyalign#33464",r[t++]="textyalign must be above, top, center, bottom or below",Q())}r[t++]=1/0;var w="forward",y="backward",A="upward",k="downward";r[t++]=w,r[t++]=w,r[t++]=y,r[t++]=y,r[t++]=A,r[t++]=A,r[t++]=k,r[t++]=k;var E=d(Pe(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33469",r[t++]="textdirection must be forward, backward, upward or downward",Q()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33473",r[t++]="textsize must be greater than zero and less that 25",Q()),r[t++]=1/0;var j="offleft",N="left",I="center",M="right",B="offright";r[t++]=j,r[t++]=j,r[t++]=N,r[t++]=N,r[t++]=I,r[t++]=I,r[t++]=M,r[t++]=M,r[t++]=B,r[t++]=B;var F=d(Pe(),e.extratextxalign)!==void 0;F||(r[t++]="bwipp.renmatrixBadExtratextxalign#33477",r[t++]="extratextxalign must be offleft, left, center, right or offright",Q()),r[t++]=1/0;var D="above",H="top",T="center",_="bottom",L="below";r[t++]=D,r[t++]=D,r[t++]=H,r[t++]=H,r[t++]=T,r[t++]=T,r[t++]=_,r[t++]=_,r[t++]=L,r[t++]=L;var z=d(Pe(),e.extratextyalign)!==void 0;z||(r[t++]="bwipp.renmatrixBadExtratextyalign#33481",r[t++]="extratextyalign must be above, top, center, bottom or below",Q()),r[t++]=1/0;var G="forward",K="backward",oe="upward",V="downward";r[t++]=G,r[t++]=G,r[t++]=K,r[t++]=K,r[t++]=oe,r[t++]=oe,r[t++]=V,r[t++]=V;var Y=d(Pe(),e.extratextdirection)!==void 0;Y||(r[t++]="bwipp.renmatrixBadExtratextdirection#33485",r[t++]="extratextdirection must be forward, backward, upward or downward",Q()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33489",r[t++]="extratextsize must be greater than zero and less that 25",Q()),e.xyget=function(){var Xt=r[--t],fr=d(e.pixs,C(r[--t]+Xt*e.pixx));r[t++]=fr},e.drawlayerdots=function(){e.pixsorig=e.pixs,e.pixs=r[--t],ee.newpath();for(var Xt=0,fr=e.pixs.length-1;Xt<=fr;Xt+=1)e.x=Xt%e.pixx,e.y=~~(Xt/e.pixx),r[t++]=e.x,r[t++]=e.y,e.xyget(),r[--t]==1&&(ee.moveto(C(e.x+.5),C(e.pixy-e.y-.5)),ee.arc(C(e.x+.5),C(e.pixy-e.y-.5),C(.5-e.inkspread),0,360,1));ee.fill(),e.pixs=e.pixsorig},ee.save();var ie=ee.currpos();if(ee.translate(ie.x,ie.y),e.inkspread=e.inkspread/2,e.inkspreadh=e.inkspreadh/2,e.inkspreadv=e.inkspreadv/2,ee.scale(e.width/e.pixx*72,e.height/e.pixy*72),e.showborder?(e.tl=a([-C(e.borderleft+e.borderwidth/2),C(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=a([C(e.pixx+e.borderright+e.borderwidth/2),C(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=a([-C(e.borderleft+e.borderwidth/2),-C(e.borderbottom+e.borderwidth/2)]),e.br=a([C(e.pixx+e.borderright+e.borderwidth/2),-C(e.borderbottom+e.borderwidth/2)])):(e.tl=a([C(-e.borderleft+e.inkspread),C(e.pixy+e.bordertop-e.inkspread)]),e.tr=a([C(e.pixx+e.borderright-e.inkspread),C(e.pixy+e.bordertop-e.inkspread)]),e.bl=a([C(-e.borderleft+e.inkspread),C(-e.borderbottom+e.inkspread)]),e.br=a([C(e.pixx+e.borderright-e.inkspread),C(-e.borderbottom+e.inkspread)])),e.showborder){ee.save(),ee.newpath(),O(e.bl);var de=r[--t];ee.moveto(r[--t],de);for(var re=a([e.br,e.tr,e.tl]),ne=0,le=re.length;ne<le;ne++){O(d(re,ne));var ue=r[--t];ee.lineto(r[--t],ue)}ee.closepath(),Ee(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(C(e.borderwidth-e.inkspread*2)),ee.stroke(),ee.restore()}if(W(e.colormap,"unset")){var Me=new Map([[1,e.barcolor]]);e.colormap=Me}for(var pe=e.colormap,Fe=pe.size,Ce=pe.keys(),ve=0;ve<Fe;ve++){var Be=Ce.next().value,Ue=pe.get(Be);r[t++]=Be,r[t++]=Ue,Ee(Ue,"unset")?ee.setcolor(r[--t]):t--,e.key=r[--t],r[t++]=1/0;for(var Xe=e.pixs,Re=0,Ge=Xe.length;Re<Ge;Re++){var Oe=W(d(Xe,Re),e.key)?1:0;r[t++]=Oe}var Le=a();r[t++]=Le,e.dotty?e.drawlayerdots():ee.drawlayer(r[--t],e.pixx,e.pixy,e.inkspreadh,e.inkspreadv)}var rt=new Map([["offleft",function(){r[t++]=C(-e.tw-e.nudge)}],["below",function(){r[t++]=C(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=C(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=C(e.pixy-e.th)/2}],["right",function(){r[t++]=C(e.pixx-e.tw)}],["top",function(){r[t++]=C(e.pixy-e.th)}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=e.pixy+e.nudge}]]),Se=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=C(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=C(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=C(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=C(e.pixy+e.th+e.nudge)}]]),qe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=C(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=C(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=C(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=C(e.pixy-e.tw)}],["offright",function(){r[t++]=C(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=e.pixy+e.nudge}]]),We=new Map([["offleft",function(){r[t++]=C(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=C(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=C(e.pixy+e.tw)/2}],["right",function(){r[t++]=C(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=C(e.pixy+e.tw+e.nudge)}]]),Ke=new Map([["forward",rt],["backward",Se],["upward",qe],["downward",We]]);if(e.positions=Ke,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Xt=d(e.positions,r[--t]);r[t++]=Xt,r[t++]=Xt,Es(4,-1);var fr=r[t-1];W(fr,"center")&&(r[t-1]="xcenter");var Mr=r[--t];if(d(r[--t],Mr)()===!0)return!0;var Ur=r[--t],ms=r[--t];r[t++]=Ur,r[t++]=ms,Es(3,-1);var Ft=r[t-1];W(Ft,"center")&&(r[t-1]="ycenter");var Vt=r[--t];if(d(r[--t],Vt)()===!0)return!0},e.includetext)if(Ee(e.textcolor,"unset")&&ee.setcolor(e.textcolor),W(e.textxalign,"unset")&&W(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Te=e.txt,He=0,st=Te.length;He<st;He++){O(d(Te,He));var gt=r[t-1],ht=r[t-2];if(gt!=e.s||Ee(ht,e.fn)){var bt=r[t-1];bt<=0&&(t-=5,r[t++]="bwipp.renmatrixFontTooSmall#33793",r[t++]="The font size is too small",Q());var Et=r[--t],kt=r[--t];e.s=Et,e.fn=kt,ee.selectfont(kt,Et)}else t-=2;var wt=r[--t];ee.moveto(r[--t],wt),ee.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var Mt=e.txt,It=0,zt=Mt.length;It<zt;It++)xe(d(d(Mt,It),0));e.txt=a(),e.tstr=Z(e.txt.length);for(var Bt=0,jt=e.txt.length-1;Bt<=jt;Bt+=1)g(e.tstr,Bt,d(e.txt,Bt))}else{e.tstr=e.alttext;for(var U=0,$=e.alttext.length-1;U<=$;U+=1){if(r[t++]=U,Rt(e.alttextsubspace,S(e.alttext,U,1)),r[--t]){t--,t--;var P=r[t-2];g(e.alttext,P,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33821",r[t++]="The alttextsplit option must be a single character",Q()),r[t++]=1/0,r[t++]=e.tstr;Rt(r[--t],e.alttextsplit),r[--t];){var q=r[--t];r[t-1]=q;var X=r[--t],ce=r[--t];r[t++]=X,r[t++]=ce}e.textlines=a()}else e.textlines=a([e.tstr]);if(ee.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var te=ee.pathbbox();ee.restore(),r[t++]=te.ury}e.textascent=r[--t];var ye=e.textlines;r[t++]="textwidth",r[t++]=0;for(var J=0,me=ye.length;J<me;J++){var fe=ee.stringwidth(d(ye,J)),be=r[--t],se=fe.w;if(be<fe.w){var ge=se;se=be,be=ge}r[t++]=be}var je=r[--t];e[r[--t]]=C(je+(e.tstr.length-1)*e.textgaps);var he=e.textlines.length;if(e.textheight=C(he*e.textascent+(he-1)*e.textlinegaps),W(e.textxalign,"unset")&&(e.textxalign="center"),W(e.textyalign,"unset")&&(e.textyalign="below"),W(e.textxalign,"justify"))if(Ee(e.textdirection,"forward")&&Ee(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33858",r[t++]="textxalign=justify requires forward or backward text",Q()),e.textwidth<e.pixx){e.textgaps=C(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",W(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var ke=r[--t];e[r[--t]]=ke}else e.textgaps=0,e.textxalign="center";if(W(e.textyalign,"justify"))if(Ee(e.textdirection,"upward")&&Ee(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33871",r[t++]="textyalign=justify requires upward or downward text",Q()),e.textwidth<e.pixy){e.textgaps=C(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",W(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var we=r[--t];e[r[--t]]=we}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Ne=r[--t];ee.moveto(r[--t],Ne),ee.rmoveto(e.textxoffset,e.textyoffset),ee.save();var ze=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(d(ze,e.textdirection));var _e=ee.currpos();ee.translate(_e.x,_e.y);for(var Je=0,at=e.textlines.length-1;Je<=at;Je+=1){e.i=Je,ee.moveto(0,0+C(e.textascent+e.textlinegaps)*e.i);var nt=e.textlines;ee.show(d(nt,nt.length-e.i-1),e.textgaps,0)}ee.restore()}if(e.extratext.length!=0){for(var Ae=0,Ye=e.extratext.length-1;Ae<=Ye;Ae+=1){if(r[t++]=Ae,Rt(e.extratextsubspace,S(e.extratext,Ae,1)),r[--t]){t--,t--;var Qe=r[t-2];g(e.extratext,Qe,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33911",r[t++]="The extratextsplit option must be a single character",Q()),r[t++]=1/0,r[t++]=e.extratext;Rt(r[--t],e.extratextsplit),r[--t];){var Ze=r[--t];r[t-1]=Ze;var pt=r[--t],mt=r[--t];r[t++]=pt,r[t++]=mt}e.textlines=a()}else e.textlines=a([e.extratext]);Ee(e.extratextcolor,"unset")&&ee.setcolor(e.extratextcolor),ee.selectfont(e.extratextfont,e.extratextsize),ee.save(),ee.newpath(),ee.moveto(0,0),ee.charpath("0",!1);var ut=ee.pathbbox();ee.restore(),e.textascent=ut.ury;var vt=e.textlines;r[t++]="textwidth",r[t++]=0;for(var it=0,_t=vt.length;it<_t;it++){var et=ee.stringwidth(d(vt,it)),Ht=r[--t],Gt=et.w;if(Ht<et.w){var ge=Gt;Gt=Ht,Ht=ge}r[t++]=Ht}var Ot=r[--t];e[r[--t]]=C(Ot+(e.extratext.length-1)*e.extratextgaps);var ar=e.textlines.length;if(e.textheight=C(ar*e.textascent+(ar-1)*e.extratextlinegaps),W(e.extratextxalign,"justify"))if(Ee(e.extratextdirection,"forward")&&Ee(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33942",r[t++]="extratextxalign=justify requires forward or backward text",Q()),e.textwidth<e.pixx){e.extratextgaps=C(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",W(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var Sr=r[--t];e[r[--t]]=Sr}else e.extratextgaps=0,e.extratextxalign="center";if(W(e.extratextyalign,"justify"))if(Ee(e.extratextdirection,"upward")&&Ee(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33955",r[t++]="extratextyalign=justify requires upward or downward text",Q()),e.textwidth<e.pixy){e.extratextgaps=C(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",W(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var ir=r[--t];e[r[--t]]=ir}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var gr=r[--t];ee.moveto(r[--t],gr),ee.rmoveto(e.extratextxoffset,e.extratextyoffset),ee.save();var nr=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);ee.rotate(d(nr,e.extratextdirection));var Ir=ee.currpos();ee.translate(Ir.x,Ir.y);for(var er=0,ur=e.textlines.length-1;er<=ur;er+=1){e.i=er,ee.moveto(0,0+C(e.textascent+e.extratextlinegaps)*e.i);var Kt=e.textlines;ee.show(d(Kt,Kt.length-e.i-1),e.extratextgaps,0)}ee.restore()}ee.restore(),e=s}function GU(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var s=e;if(e=Object.assign({},e),e.barcolor="unset",e.bordercolor="unset",e.inkspread=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,xe(r[--t],function(){var f=r[--t];e[r[--t]]=f}),r[t++]=e.opt,delete e.opt,r[t++]=e,$e(),t--,ee.save(),e.showborder?(e.tl=a([-C(e.borderleft+e.borderwidth/2),C(29+e.bordertop+e.borderwidth/2)]),e.tr=a([C(30+e.borderright+e.borderwidth/2),C(29+e.bordertop+e.borderwidth/2)]),e.bl=a([-C(e.borderleft+e.borderwidth/2),-C(e.borderbottom+e.borderwidth/2)]),e.br=a([C(30+e.borderright+e.borderwidth/2),-C(e.borderbottom+e.borderwidth/2)])):(e.tl=a([-e.borderleft+e.inkspread,29+e.bordertop-e.inkspread]),e.tr=a([30+e.borderright-e.inkspread,29+e.bordertop-e.inkspread]),e.bl=a([-e.borderleft+e.inkspread,-e.borderbottom+e.inkspread]),e.br=a([30+e.borderright-e.inkspread,-e.borderbottom+e.inkspread])),e.showborder){ee.save(),ee.newpath(),O(e.bl);var n=r[--t];ee.moveto(r[--t],n);for(var i=a([e.br,e.tr,e.tl]),o=0,l=i.length;o<l;o++){O(d(i,o));var u=r[--t];ee.lineto(r[--t],u)}ee.closepath(),Ee(e.bordercolor,"unset")&&ee.setcolor(e.bordercolor),ee.setlinewidth(C(e.borderwidth-e.inkspread*2)),ee.stroke(),ee.restore()}Ee(e.barcolor,"unset")&&ee.setcolor(e.barcolor),ee.showmaxicode(e.pixs),ee.restore(),e=s}function Y9(s,n,i,o,l){if(typeof i!="string")throw new Error("bwipp.typeError: barcode text not a string ("+i+")");if(o=o||{},typeof o=="string"){var u=o.split(" ");o={};for(var f=0;f<u.length;f++)if(u[f]){var h=u[f].indexOf("=");h==-1?u[f][0]=="!"?o[u[f].substr(1)]=!1:o[u[f]]=!0:o[u[f].substr(0,h)]=u[f].substr(h+1)}}else if(typeof o!="object"||o.constructor!==Object)throw new Error("bwipp.typeError: options not an object");if(o.binarytext){if(/[\u0100-\uffff]/.test(i))throw new Error("bwip-js: 16-bit chars not allowed with binarytext")}else/[\u0080-\uffff]/.test(i)&&(i=unescape(encodeURIComponent(i)));var p=new Map;for(var m in o)o.hasOwnProperty(m)&&p.set(m,o[m]);return ee=s,r=[i,p],t=2,e={bwipjs_rawstack:o.dontdraw||l?[]:!1},n(),e.bwipjs_rawstack?e.bwipjs_rawstack:!0}function Tf(s){if(!s)throw new Error("bwipp.undefinedEncoder: bcid is not defined");switch(s.replace(/-/g,"_")){case"auspost":return HP;case"azteccode":return Rf;case"azteccodecompact":return dU;case"aztecrune":return uU;case"bc412":return PP;case"channelcode":return HU;case"codablockf":return G9;case"code11":return _P;case"code128":return X2;case"code16k":return KP;case"code2of5":return Lc;case"code32":return kP;case"code39":return Z2;case"code39ext":return AP;case"code49":return JP;case"code93":return P9;case"code93ext":return NP;case"codeone":return fU;case"coop2of5":return RP;case"daft":return eU;case"databarexpanded":return yv;case"databarexpandedcomposite":return NU;case"databarexpandedstacked":return wv;case"databarexpandedstackedcomposite":return CU;case"databarlimited":return L9;case"databarlimitedcomposite":return jU;case"databaromni":return ed;case"databaromnicomposite":return yU;case"databarstacked":return U9;case"databarstackedcomposite":return wU;case"databarstackedomni":return O9;case"databarstackedomnicomposite":return AU;case"databartruncated":return z9;case"databartruncatedcomposite":return kU;case"datalogic2of5":return TP;case"datamatrix":return Xi;case"datamatrixrectangular":return sU;case"datamatrixrectangularextension":return nU;case"dotcode":return q9;case"ean13":return J2;case"ean13composite":return xU;case"ean14":return yP;case"ean2":return K2;case"ean5":return W2;case"ean8":return bv;case"ean8composite":return vU;case"flattermarken":return XP;case"gs1_128":return ym;case"gs1_128composite":return SU;case"gs1_cc":return yn;case"gs1datamatrix":return EU;case"gs1datamatrixrectangular":return IU;case"gs1dldatamatrix":return BU;case"gs1dlqrcode":return MU;case"gs1dotcode":return FU;case"gs1northamericancoupon":return IP;case"gs1qrcode":return DU;case"hanxin":return hU;case"hibcazteccode":return QU;case"hibccodablockf":return LU;case"hibccode128":return TU;case"hibccode39":return RU;case"hibcdatamatrix":return _U;case"hibcdatamatrixrectangular":return PU;case"hibcmicropdf417":return OU;case"hibcpdf417":return UU;case"hibcqrcode":return zU;case"iata2of5":return MP;case"identcode":return SP;case"industrial2of5":return DP;case"interleaved2of5":return Mf;case"isbn":return xP;case"ismn":return vP;case"issn":return gP;case"itf14":return CP;case"jabcode":return mU;case"japanpost":return qP;case"kix":return GP;case"leitcode":return EP;case"mailmark":return aU;case"mands":return bP;case"matrix2of5":return FP;case"maxicode":return cU;case"micropdf417":return Vu;case"microqrcode":return oU;case"msi":return YP;case"onecode":return OP;case"pdf417":return Ff;case"pdf417compact":return rU;case"pharmacode":return BP;case"pharmacode2":return Q9;case"planet":return LP;case"plessey":return VP;case"posicode":return WP;case"postnet":return zP;case"pzn":return jP;case"qrcode":return El;case"rationalizedCodabar":return UP;case"raw":return ZP;case"rectangularmicroqrcode":return lU;case"royalmail":return QP;case"sscc18":return wP;case"swissqrcode":return iU;case"symbol":return tU;case"telepen":return H9;case"telepennumeric":return $P;case"ultracode":return pU;case"upca":return T9;case"upcacomposite":return gU;case"upce":return _9;case"upcecomposite":return bU}throw new Error("bwipp.unknownEncoder: unknown encoder name: "+s)}var qU="2025-10-24";const YU="4.8.0 (2025-11-11)";function Jl(s){return s&&/HTMLCanvasElement|OffscreenCanvas/.test(Object.getPrototypeOf(s).constructor.name)}function VU(s,n){if(typeof n=="string"||Jl(n)){let i=s;s=n,n=i}return $U(Tf(n.bcid),n,s)}function $U(s,n,i){if(typeof n=="string"){var o=document.getElementById(n)||document.querySelector(n);if(!Jl(o))throw new Error("bwipjs: `"+n+"`: not a canvas");n=i,i=_0(o)}else if(Jl(n)){var o=n;n=i,i=_0(o)}else if(typeof i=="string"){var o=document.getElementById(i)||document.querySelector(i);if(!Jl(o))throw new Error("bwipjs: `"+i+"`: not a canvas");i=_0(o)}else if(Jl(i))i=_0(i);else if(!i||typeof i!="object"||!i.init)throw new Error("bwipjs: not a canvas or drawing object");return Av(s,n,i)}function WU(s){return Av(Tf(s.bcid),s,K9())}function V9(s){var n=s.scale||2,i=+s.scaleX||n,o=+s.scaleY||i;if(s.paddingleft=v(s.paddingleft,s.paddingwidth,s.padding,i),s.paddingright=v(s.paddingright,s.paddingwidth,s.padding,i),s.paddingtop=v(s.paddingtop,s.paddingheight,s.padding,o),s.paddingbottom=v(s.paddingbottom,s.paddingheight,s.padding,o),s.backgroundcolor){var l=""+s.backgroundcolor;if(/^[0-9a-fA-F]{8}$/.test(l)){var u=parseInt(l.substr(0,2),16)/255,f=parseInt(l.substr(2,2),16)/255,h=parseInt(l.substr(4,2),16)/255,p=parseInt(l.substr(6,2),16)/255,m=Math.floor((1-u)*(1-p)*255).toString(16),x=Math.floor((1-f)*(1-p)*255).toString(16),b=Math.floor((1-h)*(1-p)*255).toString(16);s.backgroundcolor=(m.length==1?"0":"")+m+(x.length==1?"0":"")+x+(b.length==1?"0":"")+b}else if(l[0]=="#"&&(l=l.substr(1)),/^[0-9a-fA-F]{6}$/.test(l))s.backgroundcolor=l;else if(/^[0-9a-fA-F]{3}$/.test(l))s.backgroundcolor=l[0]+l[0]+l[1]+l[1]+l[2]+l[2];else throw new Error("bwip-js: invalid backgroundcolor: "+s.backgroundcolor)}return s;function v(w,y,A,k){return w!=null?(w=w>>>0,w*k>>>0):y!=null?(y=y>>>0,y*k>>>0):(A=A>>>0,A*k>>>0||0)}}var KU={bcid:1,text:1,scale:1,scaleX:1,scaleY:1,rotate:1,padding:1,paddingwidth:1,paddingheight:1,paddingtop:1,paddingleft:1,paddingright:1,paddingbottom:1,backgroundcolor:1};function JU(s,n){return Av(Tf(s.bcid),s,n)}function Av(s,n,i){var o=n.text;if(!o)throw new ReferenceError("bwip-js: bar code text not specified.");V9(n),i.setopts&&i.setopts(n);var l=n.scale||2,u=+n.scaleX||l,f=+n.scaleY||u;n.rotate;var h=new $9(i),p={};for(var m in n)KU[m]||(p[m]=n[m]);return p.alttext&&(p.includetext=!0),+p.height&&s!=Q9&&(p.height=p.height/25.4||.5),+p.width&&(p.width=p.width/25.4||0),h.scale(u,f),Y9(h,s,o,p),h.render()}function XU(s,n,i){arguments.length==1&&(i=s,s=i.bcid,n=i.text);var o=W9();o.setopts(i);for(var l=new $9(o),u=Y9(l,Tf(s),n,i,!0),f={pixs:1,pixx:1,pixy:1,sbs:1,bbs:1,bhs:1,width:1,height:1},h=0;h<u.length;h++){var p=u[h];if(p instanceof Map){for(var m={},x=p.keys(),b=p.size,v=0;v<b;v++){var w=x.next().value;if(f[w]){var y=p.get(w);y instanceof Array?m[w]=y.b.slice(y.o,y.o+y.length):m[w]=y}}u[h]=m}else u.splice(h--,1)}return u}var $9=function(){var s=Math.floor,n=Math.round,i=Math.ceil,o=Math.min,l=Math.max;function u(f){if(this.constructor!==u)return new u(f);this.gstk=[],this.cmds=[],this.drawing=f,this.reset(),this.minx=this.miny=1/0,this.maxx=this.maxy=-1/0}return u.prototype.reset=function(){this.g_m0=1,this.g_m1=0,this.g_m2=0,this.g_m3=1,this.g_m4=0,this.g_m5=0,this.g_tsx=1,this.g_tsy=1,this.g_rot=0,this.g_posx=0,this.g_posy=0,this.g_penw=1,this.g_path=[],this.g_font=null,this.g_rgb=[0,0,0],this.g_clip=!1},u.prototype.save=function(){var f={};for(var h in this)h.indexOf("g_")==0&&(f[h]=p(this[h]));this.gstk.push(f);function p(m){if(m instanceof Array){for(var x=[],b=0;b<m.length;b++)x[b]=p(m[b]);return x}if(m instanceof Object){var x={};for(var v in m)x[v]=p(m[v]);return x}return m}},u.prototype.restore=function(){if(!this.gstk.length)throw new Error("grestore: stack underflow");var f=this.gstk.pop(),h=this;this.g_clip&&!f.g_clip&&this.cmds.push(function(){h.drawing.unclip()});for(var p in f)this[p]=f[p]},u.prototype.currpos=function(){return{x:(this.g_posx-this.g_m4)/this.g_tsx,y:(this.g_posy-this.g_m5)/this.g_tsy}},u.prototype.currfont=function(){return this.g_font},u.prototype.rotate=function(f){this.g_rot+=f;var h=n(Math.cos(f*Math.PI/180)),p=n(Math.sin(f*Math.PI/180)),m=this.g_m0*h+this.g_m2*p,x=this.g_m1*h+this.g_m3*p,b=this.g_m0*-p+this.g_m2*h,v=this.g_m1*-p+this.g_m3*h;this.g_m0=m,this.g_m1=x,this.g_m2=b,this.g_m3=v},u.prototype.translate=function(f,h){this.g_m4+=this.g_tsx*f,this.g_m5+=this.g_tsy*h},u.prototype.scale=function(f,h){var p=this.g_tsx,m=this.g_tsy;this.g_tsx*=f,this.g_tsy*=h;var x=this.drawing.scale(this.g_tsx,this.g_tsy);x&&x[0]&&x[1]&&(this.g_tsx=x[0],this.g_tsy=x[1]),this.g_m0*=this.g_tsx/p,this.g_m1*=this.g_tsx/p,this.g_m2*=this.g_tsy/m,this.g_m3*=this.g_tsy/m},u.prototype.setlinewidth=function(f){this.g_penw=f},u.prototype.selectfont=function(f,h){this.g_font={FontName:this.jsstring(f),FontSize:+h}},u.prototype.getfont=function(){return this.g_font.FontName},u.prototype.jsstring=function(f){return f instanceof Uint8Array?String.fromCharCode.apply(null,f):""+f},u.prototype.setcolor=function(f){if(f instanceof Uint8Array&&(f=this.jsstring(f)),!!f){if(!/^(?:#?[0-9a-fA-F]{3}(?:[0-9a-fA-F]{3})?|[0-9a-fA-F]{8})$/.test(f))throw new Error("bwip-js: invalid color: "+f);if(f[0]=="#"&&(f=f.substr(1)),f.length==3){var h=parseInt(f[0],16),p=parseInt(f[1],16),m=parseInt(f[2],16);this.g_rgb=[h<<4|h,p<<4|p,m<<4|m]}else if(f.length==6){var h=parseInt(f.substr(0,2),16),p=parseInt(f.substr(2,2),16),m=parseInt(f.substr(4,2),16);this.g_rgb=[h,p,m]}else{var x=parseInt(f.substr(0,2),16)/255,b=parseInt(f.substr(2,2),16)/255,v=parseInt(f.substr(4,2),16)/255,w=parseInt(f.substr(6,2),16)/255,h=n((1-x)*(1-w)*255),p=n((1-b)*(1-w)*255),m=n((1-v)*(1-w)*255);this.g_rgb=[h,p,m]}}},u.prototype.setrgbcolor=function(f,h,p){this.g_rgb=[f,h,p]},u.prototype.getRGB=function(){var f=this.g_rgb[0].toString(16),h=this.g_rgb[1].toString(16),p=this.g_rgb[2].toString(16);return"00".substr(f.length)+f+"00".substr(h.length)+h+"00".substr(p.length)+p},u.prototype.newpath=function(){this.g_path=[]},u.prototype.closepath=function(){var f=this.g_path,h=f.length;if(h){for(var p=h-1;p>=0&&f[p].op=="l";p--);if(p++,p<h-1){for(var m=[],x=1/0,b=1/0,v=-1/0,w=-1/0,y=p;y<h;y++){var A=f[y];m.push([A.x0,A.y0]),x>A.x0&&(x=A.x0),v<A.x0&&(v=A.x0),b>A.y0&&(b=A.y0),w<A.y0&&(w=A.y0)}var A=f[h-1],k=f[p];(A.x1!=k.x0||A.y1!=k.y0)&&(m.push([A.x1,A.y1]),x>A.x1&&(x=A.x1),v<A.x1&&(v=A.x1),b>A.y1&&(b=A.y1),w<A.y1&&(w=A.y1)),f.splice(p,h-p,{op:"p",x0:x,y0:b,x1:v,y1:w,poly:m})}else f.push({op:"c"})}},u.prototype.moveto=function(f,h){this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.rmoveto=function(f,h){this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.lineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),b=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:b})},u.prototype.rlineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),b=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:b})},u.prototype.arc=function(f,h,p,m,x,b){if(m!=x){if(m!=0&&m!=360||x!=0&&x!=360)throw new Error("arc: not a full circle ("+m+","+x+")");var v=this.g_m0*f+this.g_m2*h+this.g_m4,w=this.g_m1*f+this.g_m3*h+this.g_m5,y=p*this.g_tsx,A=p*this.g_tsy;this.g_path.push({op:"e",x0:v-y,y0:w-A,x1:v+y,y1:w+A,x:v,y:w,rx:y,ry:A,sa:m,ea:x,ccw:b})}},u.prototype.stringwidth=function(f){var h=this.g_tsx,p=this.g_tsy,m=+this.g_font.FontSize||10;f=this.toUCS2(this.jsstring(f));var x=this.drawing.measure(f,this.g_font.FontName,m*h,m*p);return{w:x.width/h,h:(x.ascent+x.descent)/p,a:x.ascent/p,d:x.descent/p}},u.prototype.charpath=function(f,h){var p=this.stringwidth(f);this.rlineto(0,p.a),this.rlineto(p.w,0),this.rlineto(0,-p.h)},u.prototype.pathbbox=function(){if(!this.g_path.length)throw new Error("pathbbox: --nocurrentpoint--");for(var f=this.g_path,h=1/0,p=1/0,m=-1/0,x=-1/0,b=0;b<f.length;b++){var v=f[b];v.op!="c"&&(v.x0<v.x1?(h>v.x0&&(h=v.x0),m<v.x1&&(m=v.x1)):(h>v.x1&&(h=v.x1),m<v.x0&&(m=v.x0)),v.y0<v.y1?(p>v.y0&&(p=v.y0),x<v.y1&&(x=v.y1)):(p>v.y1&&(p=v.y1),x<v.y0&&(x=v.y0)))}var w={llx:(h-this.g_m4)/this.g_tsx,lly:(p-this.g_m5)/this.g_tsy,urx:(m-this.g_m4)/this.g_tsx,ury:(x-this.g_m5)/this.g_tsy};return w},u.prototype.transform=function(f){for(var h=this.minx,p=this.maxy,m=0;m<f.length;m++){var x=f[m];x[0]=x[0]-h,x[1]=p-x[1]}},u.prototype.stroke=function(){var f=this.g_tsx,h=this.g_tsy,p=this.g_path,m=this.getRGB();this.g_path=[];for(var x=s(this.g_penw*f+.66),b=s(this.g_penw*h+.66),v=0;v<p.length;v++){var w=p[v];if(w.op=="l"){if(w.x0!=w.x1&&w.y0!=w.y1)throw new Error("stroke: --not-orthogonal--");var y=w.x0,A=w.y0,k=w.x1,E=w.y1,j=x/2,N=b/2;if(y>k){var I=y;y=k,k=I}if(A>E){var I=A;A=E,E=I}y==k?this.bbox(y-j,A,y+x-j-1,E):this.bbox(y,A-b+N+1,k,E+N)}else if(w.op=="p"){var M=1/0,B=1/0,F=-1/0,D=-1/0,H=w.poly;if(H.length!=4)throw new Error("stroke: --not-a-rect--");for(var v=0,T=H.length-1;v<H.length;T=v++){var _=H[T][0],L=H[T][1],z=H[v][0],G=H[v][1];if(z!=_&&G!=L)throw new Error("stroke: --not-orthogonal--");z<M&&(M=z),z>F&&(F=z),G<B&&(B=G),G>D&&(D=G)}var j=i(x/2),N=i(b/2);this.bbox(M-j,B-N,F+j,D+N)}else throw new Error("stroke: --not-a-line--")}var K=this;this.cmds.push(function(){for(var oe=i(x/2),V=i(b/2),Y=x-oe,ie=b-V,de=0;de<p.length;de++){var re=p[de];if(re.op=="l"){var ne=[[re.x0,re.y0],[re.x1,re.y1]];K.transform(ne),K.drawing.line(ne[0][0],ne[0][1],ne[1][0],ne[1][1],re.x0==re.x1?x:b,m),K.fill(m)}else{var ne=re.poly;K.transform(ne);var le=o(ne[0][0],ne[2][0]),ue=l(ne[0][0],ne[2][0]),Me=o(ne[0][1],ne[2][1]),pe=l(ne[0][1],ne[2][1]);K.drawing.polygon([[le-oe,Me-V],[le-oe,pe+V+1],[ue+oe+1,pe+V+1],[ue+oe+1,Me-V]]),K.drawing.polygon([[le+Y,Me+ie],[ue-Y+1,Me+ie],[ue-Y+1,pe-ie+1],[le+Y,pe-ie+1]]),K.drawing.fill(m)}}})},u.prototype.fill=function(){var f=this.g_path,h=this.getRGB();this.g_path=[];for(var p=0;p<f.length;p++){var m=f[p];if(m.op=="p"){for(var x=1/0,b=1/0,v=-1/0,w=-1/0,y=m.poly,A=0;A<y.length;A++){var k=y[A][0],E=y[A][1];k<x&&(x=k),k>v&&(v=k),E<b&&(b=E),E>w&&(w=E)}this.bbox(x,b+1,v-1,w)}else if(m.op=="e")this.bbox(m.x-m.rx,m.y-m.ry,m.x+m.rx,m.y+m.ry);else throw new Error("fill: --not-a-polygon--")}var j=this;this.cmds.push(function(){for(var N=0;N<f.length;N++){var I=f[N];if(I.op=="p"){var M=I.poly;j.transform(M),j.drawing.polygon(M)}else if(I.op=="e"){var M=[[I.x,I.y]];j.transform(M),j.drawing.ellipse(M[0][0],M[0][1],I.rx,I.ry,I.ccw)}}j.drawing.fill(h)})},u.prototype.clip=function(){var f=this.g_path;this.g_path=[],this.g_clip=!0;var h=this;this.cmds.push(function(){for(var p=[],m=0;m<f.length;m++){var x=f[m];if(x.op=="p"){var b=x.poly;h.transform(b),p.push(b)}else throw new Error("clip: only polygon regions supported")}h.drawing.clip(p)})},u.prototype.drawlayer=function(f,h,p){let m=ZU(f,h,p);this.newpath();for(let x=0,b=m.length;x<b;x++){let v=m[x];this.moveto(v[0][0],v[0][1]);for(let w=1,y=v.length;w<y;w++){let A=v[w];this.lineto(A[0],A[1])}this.closepath()}this.fill()},u.prototype.showmaxicode=function(f){var h=this.g_tsx,p=this.g_tsy,m=this.getRGB(),x=1.04*h*100,b=x/30|0;x-(b*30-1)>9&&b++;var v,w,y,A;y=h/2|0,A=p/2|0,v=b-y,v&1&&v--,w=(4*p|0)-A;var k=v/2-1,E=(k+1)/2|0,j=w-2-2*E;this.bbox(0,0,b*30-y,p*3*32+p*4-A);var N=this;this.cmds.push(function(){for(var I=0;I<f.length;I++){var M=f[I],F=M%30,D=M/30|0;F*=b,F+=D&1?b:b/2,F=F|0,D=33-D,D*=p*3,D+=p*2-w/2,D=D|0;var B=[[F-.5,D--]];D-=E-1,B.push([F-1-k,D--]),D-=j,B.push([F-1-k,D--]),D-=E-1,B.push([F-.5,D++]),D+=E-1,B.push([F+k,D++]),D+=j,B.push([F+k,D++]),N.transform(B),N.drawing.hexagon(B,m)}N.drawing.fill(m);var F=14*b+b/2+.01|0,D=(12*4+3)*p-E/2+.01|0;N.drawing.ellipse(F,D,.5774*3.5*h+.01|0,.5774*3.5*p+.01|0,!0),N.drawing.ellipse(F,D,1.3359*3.5*h+.01|0,1.3359*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(F,D,2.1058*3.5*h+.01|0,2.1058*3.5*p+.01|0,!0),N.drawing.ellipse(F,D,2.8644*3.5*h+.01|0,2.8644*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(F,D,3.6229*3.5*h+.01|0,3.6229*3.5*p+.01|0,!0),N.drawing.ellipse(F,D,4.3814*3.5*h+.01|0,4.3814*3.5*p+.01|0,!1),N.drawing.fill(m)})},u.prototype.toUCS2=function(f){return f.replace(/[\xc0-\xdf][\x80-\xbf]|[\xe0-\xff][\x80-\xbf]{2}/g,function(h){var p;return h.length==2?p=(h.charCodeAt(0)&31)<<6|h.charCodeAt(1)&63:p=(h.charCodeAt(0)&15)<<12|(h.charCodeAt(1)&63)<<6|h.charCodeAt(2)&63,String.fromCharCode(p)})},u.prototype.show=function(f,h,p){if(f.length){var m=this.g_rot,x=m==90||m==270?this.g_tsy:this.g_tsx,b=m==90||m==270?this.g_tsx:this.g_tsy,v=this.g_font.FontName||"OCR-B",w=this.g_font.FontSize||10,y=w*x,A=w*b,k=this.g_posx,E=this.g_posy,j=this.getRGB();h=x*h||0,p=b*p||0,f=this.toUCS2(this.jsstring(f));var N=this.drawing.measure(f,v,y,A),I=N.width+(f.length-1)*h;m==90?this.bbox(k-p+N.descent-1,E,k-p-N.ascent,E+I-1):m==180?this.bbox(k,E-p+N.descent-1,k-I+1,E-p-N.ascent):m==270?this.bbox(k+p-N.descent+1,E,k+p+N.ascent,E-I+1):(m=0,this.bbox(k,E+p-N.descent+1,k+I-1,E+p+N.ascent),this.g_posx+=I);var M=this;M.cmds.push(function(){var B=k-M.minx,F=M.maxy-E;M.drawing.text(B,F,f,j,{name:v,width:y,height:A,rotate:m,dx:h})})}},u.prototype.bbox=function(f,h,p,m){if(f>p){var x=f;f=p,p=x}if(h>m){var x=h;h=m,m=x}f=s(f),h=s(h),p=i(p),m=i(m),this.minx>f&&(this.minx=f),this.maxx<p&&(this.maxx=p),this.miny>h&&(this.miny=h),this.maxy<m&&(this.maxy=m)},u.prototype.render=function(){if(this.minx===1/0)return!1;this.drawing.init(this.maxx-this.minx+1,this.maxy-this.miny+1,this.g_tsx,this.g_tsy);for(var f=0,h=this.cmds.length;f<h;f++)this.cmds[f]();return this.drawing.end()},u}();function ZU(s,n,i,o,l){let u=0,f=0,h=new Array(i+1),p=0;for(let v=i-1;v>=0;v--){let w=new Uint8Array(n);for(let y=0;y<n;y++)w[y]=s[p+y]?1:0;h[v]=w,p+=n}h[-1]=[],h[i]=[];let m=[];for(let v=0;v<i;v++){let w=0;for(let y=0;y<n;y++)!(w&9)&&h[v][y]==1?m.push(x(y,v,[])):(w&5)==1&&h[v][y]==0&&m.push(b(y,v,[])),w=h[v][y]}return m;function x(v,w,y){y.push([v+u,w+f]);let A=2;for(;;){if(h[w][v]&A)return y.pop(),y;h[w][v]|=A,A==2?h[w][v+1]&1?(h[w-1][v+1]&1&&(y.push([v+1-u,w+f,"H"]),A=16),v++):(y.push([v+1-u,w+f,"H"]),A=4):A==4?h[w+1][v]&1?(h[w+1][v+1]&1&&(y.push([v+1-u,w+1-f,"V"]),A=2),w++):(y.push([v+1-u,w+1-f,"V"]),A=8):A==8?h[w][v-1]&1?(h[w+1][v-1]&1&&(y.push([v+u,w+1-f,"H"]),A=4),v--):(y.push([v+u,w+1-f,"H"]),A=16):h[w-1][v]&1?(h[w-1][v-1]&1&&(y.push([v+u,w+f,"V"]),A=8),w--):(y.push([v+u,w+f,"V"]),A=2)}}function b(v,w,y){y.push([v-u,w-f]);let A=2;for(;;){if(h[w][v]&A)return y.pop(),y;h[w][v]|=A,A==2?h[w+1][v]&1?(y.push([v-u,w+1+f]),A=4):(h[w+1][v-1]&1||(y.push([v-u,w+1+f]),A=16),w++):A==4?h[w][v+1]&1?(y.push([v+1+u,w+1+f]),A=8):(h[w+1][v+1]&1||(y.push([v+1+u,w+1+f]),A=2),v++):A==8?h[w-1][v]&1?(y.push([v+1+u,w-f]),A=16):(h[w-1][v+1]&1||(y.push([v+1+u,w-f]),A=4),w--):h[w][v-1]&1?(y.push([v-u,w-f]),A=2):(h[w-1][v-1]&1||(y.push([v-u,w-f]),A=8),v--)}}}function W9(){var s=0,n=0,i=0,o=0,l=0,u=0,f=0,h=0,p,m,x,b,v,w,y,A,k,E,j,N;return{setopts(T){p=T},scale:function(T,_){return p.bcid=="swissqrcode"?[T,_]:[T|0||1,_|0||1]},measure:function(T,_,L,z){L=L|0,z=z|0;for(var G=u1.lookup(_),K=0,oe=0,V=0,Y=0,ie=T.length;Y<ie;Y++){var de=T.charCodeAt(Y),re=u1.getglyph(G,de,L,z);oe=Math.max(oe,re.top),V=Math.max(V,re.height-re.top),Y==ie-1?K+=re.left+re.width:K+=re.advance}return{width:K,ascent:oe,descent:V}},init:function(T,_){var L=p.paddingleft,z=p.paddingright,G=p.paddingtop,K=p.paddingbottom,oe=p.rotate||"N";if(T+=L+z,_+=G+K,+p.sizelimit&&+p.sizelimit<T*_)throw new Error("Image size over limit");switch(oe){case"R":n=-1,i=1,l=1;break;case"I":s=-1,i=1,u=-1,h=1;break;case"L":n=1,l=-1,h=1;break;default:s=u=1;break}var V=oe=="L"||oe=="R";b=V?_:T,v=V?T:_,w=L,y=G,j=[],j.min=1/0,N=null,A=k=E=0;var Y=this.image(b,v);m=Y.buffer,x=Y.ispng?1:0},line:function(T,_,L,z,G,K){if(T=T|0,_=_|0,L=L|0,z=z|0,G=Math.round(G)||1,z<_){var oe=_;_=z,z=oe}if(L<T){var oe=T;T=L,L=oe}A=parseInt(K.substr(0,2),16),k=parseInt(K.substr(2,2),16),E=parseInt(K.substr(4,2),16);var V=G/2|0;T==L?(T=T-G+V,L=L+V-1):(_=_-V,z=z+G-V-1);for(var Y=_;Y<=z;Y++)for(var ie=T;ie<=L;ie++)I(ie,Y,255)},polygon:function(T){for(var _=T.length,L=_-1,z=0;z<_;L=z++)if(T[L][0]==T[z][0]){var G=T[L][0]|0,K=T[L][1]|0,oe=T[z][1]|0;if(K>oe)for(var V=oe+1;V<K;V++)M(G,V);else for(var V=K+1;V<oe;V++)M(G,V)}else{var G=T[L][0]|0,Y=T[z][0]|0,K=T[L][1]|0;if(G<Y){var ie=T[L==0?_-1:L-1][1],de=T[z==_-1?0:z+1][1];ie>K&&M(G,K),de>K&&M(Y,K)}else{var ie=T[z==_-1?0:z+1][1],de=T[L==0?_-1:L-1][1];ie>K&&M(Y,K),de>K&&M(G,K)}}},hexagon:function(T,_){var L=T[0][0]|0,z=T[0][1]|0,G=T[1][1]-T[0][1]|0,K=T[2][1]-T[1][1]-1|0,oe=T[2][0]|0,V=T[4][0]|0;A=parseInt(_.substr(0,2),16),k=parseInt(_.substr(2,2),16),E=parseInt(_.substr(4,2),16),B(L,L+1,z++);for(var Y=1;Y<G;Y++)B(L-2*Y,L+1+2*Y,z++);for(var Y=0;Y<=K;Y++)B(oe,V,z++);for(var Y=G-1;Y>=1;Y--)B(L-2*Y,L+1+2*Y,z++);B(L,L+1,z)},ellipse:function(T,_,L,z,G){D(T-L|0,_-z|0,T+L|0,_+z|0)},fill:function(T){A=parseInt(T.substr(0,2),16),k=parseInt(T.substr(2,2),16),E=parseInt(T.substr(4,2),16),F(),j=[],j.min=1/0},clip:function(T){N||(N=[],N.min=1/0);var _=j;j=N;for(var L=0,z=T.length;L<z;L++)this.polygon(T[L]);j=_},unclip:function(){N=null},text:function(T,_,L,z,G){T=T|0,_=_|0,A=parseInt(z.substr(0,2),16),k=parseInt(z.substr(2,2),16),E=parseInt(z.substr(4,2),16);var K=u1.lookup(G.name),oe=G.width|0,V=G.height|0,Y=G.dx|0,ie=0,de=0,re=0,ne=0;switch(G.rotate){case 90:de=1,re=-1;break;case 180:ie=-1,ne=-1;break;case 270:de=-1,re=1;break;default:ie=1,ne=1;break}for(var le=0,ue=0;ue<L.length;ue++){for(var Me=L.charCodeAt(ue),pe=u1.getglyph(K,Me,oe,V),Fe=-pe.top,Ce=pe.left,ve=pe.width,Be=pe.height,Ue=pe.bytes,Xe=pe.offset,Re=0;Re<ve;Re++)for(var Ge=0;Ge<Be;Ge++){var Oe=Ue[Xe+Ge*ve+Re];if(Oe){var Le=le+Ce+Re,rt=Fe+Ge,Se=ie*Le+de*rt,qe=re*Le+ne*rt;I(T+Se,_+qe,Oe)}}le+=pe.advance+Y}},end:function(){}};function I(T,_,L){if(!(N&&H(T,_))){T+=w,_+=y;var z=s*T+n*_+i*(b-1)+o*(v-1),G=l*T+u*_+f*(b-1)+h*(v-1),K=(G*b+z)*4+(G+1)*x,oe=m[K+3]/255,V=L/255,Y=(1-V)*oe,ie=V+Y;m[K+0]=(A*V+m[K+0]*Y)/ie|0,m[K+1]=(k*V+m[K+1]*Y)/ie|0,m[K+2]=(E*V+m[K+2]*Y)/ie|0,m[K+3]=255*ie|0}}function M(T,_){j.min>_&&(j.min=_),j[_]?j[_].push(T):j[_]=[T]}function B(T,_,L){for(;T<=_;)I(T++,L,255)}function F(){for(var T=j.min,_=j.length-1,L=T;L<=_;L++){var z=j[L];if(z){z.sort(function(ie,de){return ie-de});for(var G=!1,K=0,oe=0,V=z.length;oe<V;oe++){var Y=z[oe];G?B(K,Y-1,L):K=Y,G=!G}}}}function D(T,_,L,z,G){T=T|0,_=_|0,L=L|0,z=z|0;var K=Math.abs(L-T),oe=Math.abs(z-_),V=oe&1,Y=4*(1-K)*oe*oe,ie=4*(V+1)*K*K,de=Y+ie+V*K*K,re,ne=[],le=[];ne.min=le.min=1/0,T>L&&(T=L,L+=K),_>z&&(_=z),_+=(oe+1)/2|0,z=_-V,K*=8*K,V=8*oe*oe;do Fe(le,L,_),pe(ne,T,_),pe(ne,T,z),Fe(le,L,z),re=2*de,re>=Y&&(T++,L--,Y+=V,de+=Y),re<=ie&&(_++,z--,ie+=K,de+=ie);while(T<=L);for(;_-z<oe;)Fe(le,L+1,_),pe(ne,T-1,_++),pe(ne,T-1,z),Fe(le,L+1,z--);for(var ue=ne.min,Me=ne.length-1;ue<=Me;ue++)M(ne[ue],ue);for(var ue=le.min,Me=le.length-1;ue<=Me;ue++)M(le[ue]+1,ue);function pe(Ce,ve,Be){Ce.min>Be&&(Ce.min=Be);var Ue=Ce[Be];(Ue==null||Ue>ve)&&(Ce[Be]=ve)}function Fe(Ce,ve,Be){Ce.min>Be&&(Ce.min=Be);var Ue=Ce[Be];(Ue==null||Ue<ve)&&(Ce[Be]=ve)}}function H(T,_){var L=N[_];if(!L)return!0;L.sorted||(L.sort(function(V,Y){return V-Y}),L.sorted=!0);for(var z=!1,G=0,K=L.length;G<K;G++){var oe=L[G];if(oe>T)return!z;if(oe==T)return z;z=!z}return!0}}function _0(s,n){Jl(n)&&(s=n);var i,o=s.getContext("2d",{willReadFrequently:!0}),l=W9();l.image=h,l.end=p;var u,f=l.setopts;return l.setopts=function(m){u=m,f&&f.call(l,m)},l;function h(m,x){return s.width=m,s.height=x,o.setTransform(1,0,0,1,0,0),/^[0-9a-fA-F]{6}$/.test(""+u.backgroundcolor)?(o.fillStyle="#"+u.backgroundcolor,o.fillRect(0,0,m,x)):o.clearRect(0,0,m,x),i=o.getImageData(0,0,m,x),{buffer:i.data,ispng:!1}}function p(){return o.putImageData(i,0,0),s}}function K9(){var s=0,n=0,i=0,o=0,l=0,u=0,f=0,h=0,p,m="",x,b="",v=[],w={},y,A,k=.55228475-45e-5,E,j,N,I;return{setopts(B){p=B},scale(B,F){y=B,A=F},measure(B,F,D,H){D=D|0,H=H|0;for(var T=u1.lookup(F),_=0,L=0,z=0,G=0,K=B.length;G<K;G++){var oe=B.charCodeAt(G),V=u1.getglyph(T,oe,D,H);V&&(L=Math.max(L,V.top),z=Math.max(z,V.height-V.top),G==K-1?_+=V.left+V.width:_+=V.advance)}return{width:_,ascent:L,descent:z}},init(B,F){var D=p.paddingleft,H=p.paddingright,T=p.paddingtop,_=p.paddingbottom,L=p.rotate||"N";switch(B+=D+H,F+=T+_,L){case"R":n=-1,i=1,l=1;break;case"I":s=-1,i=1,u=-1,h=1;break;case"L":n=1,l=-1,h=1;break;default:s=u=1;break}var z=L=="L"||L=="R";E=z?F:B,j=z?B:F,N=D,I=T},line(B,F,D,H,T,_){if(B=B|0,F=F|0,D=D|0,H=H|0,T=Math.round(T)||1,T&1){if(B==D){let z=y&1?-.5:.5;B+=z,D+=z}if(F==H){let z=A&1?-.5:.5;F+=z,H+=z}}B==D?F++:F==H&&B++;var L=""+T+"#"+_;w[L]||(w[L]='<path stroke="#'+_+'" stroke-width="'+T+'" d="'),w[L]+="M"+M(B,F)+"L"+M(D,H)},polygon(B){x||(x='<path d="'),x+="M"+M(B[0][0],B[0][1]);for(var F=1,D=B.length;F<D;F++){var H=B[F];x+="L"+M(H[0],H[1])}x+="Z"},hexagon(B,F){this.polygon(B)},ellipse(B,F,D,H,T){x||(x='<path d="');var _=D*k,L=H*k;x+="M"+M(B-D,F)+"C"+M(B-D,F-L)+" "+M(B-_,F-H)+" "+M(B,F-H)+"C"+M(B+_,F-H)+" "+M(B+D,F-L)+" "+M(B+D,F)+"C"+M(B+D,F+L)+" "+M(B+_,F+H)+" "+M(B,F+H)+"C"+M(B-_,F+H)+" "+M(B-D,F+L)+" "+M(B-D,F)+"Z"},fill(B){x&&(m+=x+'" fill="#'+B+'" fill-rule="evenodd"'+(b?' clip-path="url(#'+b+')"':"")+` />
`,x=null)},clip:function(B){var F='<clipPath id="clip'+v.length+'"><path d="';for(let _=0;_<B.length;_++){let L=B[_];F+="M"+M(L[0][0],L[0][1]);for(var D=1,H=L.length;D<H;D++){var T=L[D];F+="L"+M(T[0],T[1])}F+="Z"}F+='" clip-rule="nonzero" /></clipPath>',b="clip"+v.length,v.push(F)},unclip:function(){b=""},text(B,F,D,H,T){B=B|0,F=F|0;for(var _=B,L=F,z=u1.lookup(T.name),G=T.width|0,K=T.height|0,oe=T.dx|0,V="",Y=0;Y<D.length;Y++){var ie=D.charCodeAt(Y),de=u1.getpaths(z,ie,G,K);if(de){if(de.length){for(var re=0,ne=de.length;re<ne;re++){let le=de[re];le.type=="M"||le.type=="L"?V+=le.type+M(le.x+B,F-le.y):le.type=="Q"?V+=le.type+M(le.cx+B,F-le.cy)+" "+M(le.x+B,F-le.y):le.type=="C"&&(V+=le.type+M(le.cx1+B,F-le.cy1)+" "+M(le.cx2+B,F-le.cy2)+" "+M(le.x+B,F-le.y))}V+="Z"}B+=u1.getglyph(z,ie,G,K).advance+oe}}V&&(T.rotate?m+='<path d="'+V+'" fill="#'+H+'" transform="rotate(-'+T.rotate+" "+M(_,L)+`)" />
`:m+='<path d="'+V+'" fill="#'+H+`" />
`)},end(){var B="";for(var F in w)B+=w[F]+`" />
`;var D=p.backgroundcolor;return'<svg viewBox="0 0 '+E+" "+j+`" xmlns="http://www.w3.org/2000/svg">
`+(v.length?"<defs>"+v.join("")+"</defs>":"")+(/^[0-9A-Fa-f]{6}$/.test(""+D)?'<rect width="100%" height="100%" fill="#'+D+`" />
`:"")+B+m+`</svg>
`}};function M(B,F){B+=N,F+=I;var D=s*B+n*F+i*(E-1)+o*(j-1),H=l*B+u*F+f*(E-1)+h*(j-1);return""+((D|0)==D?D:D.toFixed(2))+" "+((H|0)==H?H:H.toFixed(2))}}var u1=function(){var s=[],n={},i={},o={},l=0;return o.next=o,o.prev=o,{lookup:f,monochrome:h,getglyph:p,getpaths:m,loadFont:u};function u(x){var b=100,v=100,w=null;if(arguments.length==2)w=arguments[1];else if(arguments.length==3)b=v=+arguments[1]||100,w=arguments[2];else if(arguments.length==4)v=+arguments[1]||100,b=+arguments[2]||100,w=arguments[3];else throw new Error("bwipjs: loadFont: invalid number of arguments");var y=Fd.InitFont(tO(w));y.bwipjs_name=x,y.bwipjs_multx=b,y.bwipjs_multy=v;var A=s.push(y)-1;return n[x.toUpperCase()]=A,A}function f(x){var b=n[x.toUpperCase()];return b===void 0?1:b}function h(x){if(x)throw new Error("bwipjs: monochrome fonts not implemented")}function p(x,b,v,w){x=x|0,b=b|0,v=+v,w=+w,(!v||v<8)&&(v=8),(!w||w<8)&&(w=v),(x<0||x>=s.length)&&(x=1),(!b||b<32)&&(b=32);var y=""+x+"c"+b+"w"+v+"h"+w,k=i[y];if(k){k.prev.next=k.next,k.next.prev=k.prev;var j=o;return j.next.prev=k,k.next=j.next,k.prev=j,j.next=k,k}var A=s[x],k=Fd.GetGlyph(A,b,v*A.bwipjs_multx/100,w*A.bwipjs_multy/100)||Fd.GetGlyph(A,0,v*A.bwipjs_multx/100,w*A.bwipjs_multy/100);if(k.bytes=k.pixels,k.cachekey=y,k.offset=0,l>250){var j=o,E=j.prev;E.prev.next=j,j.prev=E.prev,E.next=E.prev=null,delete i[E.cachekey]}else l++;i[y]=k;var j=o;return j.next.prev=k,k.next=j.next,k.prev=j,j.next=k,k}function m(x,b,v,w){x=x|0,b=b|0,v=+v,w=+w,(!v||v<8)&&(v=8),(!w||w<8)&&(w=v),(x<0||x>=s.length)&&(x=1),(!b||b<32)&&(b=32);var y=s[x];return Fd.GetPaths(y,b,v*y.bwipjs_multx/100,w*y.bwipjs_multy/100)}}();function eO(){return u1.loadFont.apply(u1,Array.prototype.slice.call(arguments))}var Fd=function(){var s=1,n=2,i=3,o=4,l=0,u=3,f=1,h=10,p=Math.floor,m=Math.ceil,x=Math.sqrt,b=Math.abs;function v(U){for(var $=[],P=0;P<U;P++)$.push({});return $}function w(U){return U[U.cursor++]||0}function y(U){return U[U.cursor]}function A(U,$){U.cursor=$>U.length||$<0?U.length:$}function k(U,$){A(U,U.cursor+$)}function E(U,$){for(var P=0,q=0;q<$;q++)P=P<<8|w(U);return P}function j(){return{length:0}}function N(U,$,P){if($<0||P<0||$>U.length||P>U.length-$)return j();var q=U.subarray($,$+P);return q.cursor=0,q}function I(U){var $=U.cursor,P=E(U,2);if(P){var q=w(U);k(U,q*P),k(U,E(U,q)-1)}return N(U,$,U.cursor-$)}function M(U){var $=w(U);return $>=32&&$<=246?$-139:$>=247&&$<=250?($-247)*256+w(U)+108:$>=251&&$<=254?-($-251)*256-w(U)-108:$==28?E(U,2):$==29?E(U,4):0}function B(U){var $=y(U);if($==30)for(k(U,1);U.cursor<U.length;){var P=w(U);if((P&15)==15||P>>4==15)break}else M(U)}function F(U,$){for(A(U,0);U.cursor<U.length;){for(var P=U.cursor,q,X;y(U)>=28;)B(U);if(q=U.cursor,X=w(U),X==12&&(X=w(U)|256),X==$)return N(U,P,q-P)}return N(U,0,0)}function D(U,$,P,q){for(var X=F(U,$),ce=0;ce<P&&X.cursor<X.length;ce++)q[ce]=M(X)}function H(U,$,P){var q=F(U,$);return q.cursor<q.length&&(P=M(q)),P}function T(U){return A(U,0),E(U,2)}function _(U,$){var P,q,X,ce;return A(U,0),P=E(U,2),q=w(U),k(U,$*q),X=E(U,q),ce=E(U,q),N(U,2+(P+1)*q+X,ce-X)}function L(U){return U&32768?(4294901760|U)>>0:U}function z(U,$){return U[$]*256+U[$+1]}function G(U,$){var P=U[$]*256+U[$+1];return P&32768?(4294901760|P)>>0:P}function K(U,$){return(U[$]<<24)+(U[$+1]<<16)+(U[$+2]<<8)+U[$+3]}function oe(U,$,P){for(var q=z(U,$+4),X=$+12,ce=0;ce<q;++ce){var te=X+16*ce;if(U[te]==P[0]&&U[te+1]==P[1]&&U[te+2]==P[2]&&U[te+3]==P[3])return K(U,te+8)}return 0}function V(U,$){var P=[0,0];if(D($,18,2,P),!P[1]||!P[0])return j();var q=N(U,P[1],P[0]),X=H(q,19,0);return X?(A(U,P[1]+X),I(U)):j()}function Y(U,$,P){var q,X,ce,te;if(U.data=$,U.fontstart=P,U.cff=j(),q=oe($,P,[99,109,97,112]),U.loca=oe($,P,[108,111,99,97]),U.head=oe($,P,[104,101,97,100]),U.glyf=oe($,P,[103,108,121,102]),U.hhea=oe($,P,[104,104,101,97]),U.hmtx=oe($,P,[104,109,116,120]),U.kern=oe($,P,[107,101,114,110]),!q||!U.head||!U.hhea||!U.hmtx)return 0;if(U.glyf){if(!U.loca)return 0}else{var ye,J,me,fe,be=2,se=0,ge=0,je=0;if(fe=oe($,P,[67,70,70,32]),!fe||(U.fontdicts=j(),U.fdselect=j(),U.cff=$.subarray(fe),U.cff.cursor=0,ye=U.cff,k(ye,2),A(ye,w(ye)),I(ye),me=I(ye),J=_(me,0),I(ye),U.gsubrs=I(ye),se=H(J,17,se),be=H(J,262,be),ge=H(J,292,ge),je=H(J,293,je),U.subrs=V(ye,J),be!=2)||se==0)return 0;if(ge){if(!je)return 0;A(ye,ge),U.fontdicts=I(ye),U.fdselect=N(ye,je,ye.length-je)}A(ye,se),U.charstrings=I(ye)}for(X=oe($,P,[109,97,120,112]),X?U.numGlyphs=z($,X+4):U.numGlyphs=65535,te=z($,q+2),U.index_map=0,ce=0;ce<te;++ce){var he=q+4+8*ce;switch(z($,he)){case u:switch(z($,he+2)){case f:case h:U.index_map=q+K($,he+4);break}break;case l:U.index_map=q+K($,he+4);break}}return U.index_map==0?0:(U.indexToLocFormat=z($,U.head+50),1)}function ie(U,$){var P=U.data,q=U.index_map,X=z(P,q+0);if(X==0){var ce=z(P,q+2);return $<ce-6?P[q+6+$]:0}else if(X==6){var te=z(P,q+6),ye=z(P,q+8);return $>=te&&$<te+ye?z(P,q+10+($-te)*2):0}else{if(X==2)return 0;if(X==4){var J=z(P,q+6)>>1,me=z(P,q+8)>>1,fe=z(P,q+10),be=z(P,q+12)>>1,se=q+14,ge=se;if($>65535)return 0;for($>=z(P,ge+be*2)&&(ge+=be*2),ge-=2;fe;){me>>=1;var je=z(P,ge+me*2);$>je&&(ge+=me*2),--fe}ge+=2;var he,ke,we=ge-se>>>1;return ke=z(P,q+14+J*2+2+2*we),$<ke?0:(he=z(P,q+14+J*6+2+2*we),he==0?$+G(P,q+14+J*4+2+2*we):z(P,he+($-ke)*2+q+14+J*6+2+2*we))}else if(X==12||X==13){for(var Ne=K(P,q+12),ze=0,_e=Ne;ze<_e;){var Je=ze+(_e-ze>>1),at=K(P,q+16+Je*12),nt=K(P,q+16+Je*12+4);if($<at)_e=Je;else if($>nt)ze=Je+1;else{var Ae=K(P,q+16+Je*12+8);return X==12?Ae+$-at:Ae}}return 0}}return 0}function de(U,$,P,q,X,ce){U.type=$,U.x=P,U.y=q,U.cx=X,U.cy=ce}function re(U,$){var P,q;return $>=U.numGlyphs||U.indexToLocFormat>=2?-1:(U.indexToLocFormat==0?(P=U.glyf+z(U.data,U.loca+$*2)*2,q=U.glyf+z(U.data,U.loca+$*2+2)*2):(P=U.glyf+K(U.data,U.loca+$*4),q=U.glyf+K(U.data,U.loca+$*4+4)),P==q?-1:P)}function ne(U,$,P){if(U.cff.length)Le(U,$,P);else{var q=re(U,$);if(q<0)return 0;P.x0=G(U.data,q+2),P.y0=G(U.data,q+4),P.x1=G(U.data,q+6),P.y1=G(U.data,q+8)}return 1}function le(U,$,P,q,X,ce,te,ye,J,me){return q?(P&&de(U[$++],i,J+te>>1,me+ye>>1,J,me),de(U[$++],i,X,ce,te,ye)):P?de(U[$++],i,X,ce,J,me):de(U[$++],n,X,ce,0,0),$}function ue(U,$){var P=U.data,q=re(U,$);if(q<0)return null;var X=[],ce=G(P,q);if(ce>0){var te=0,ye,J,me=0,fe,be,se,ge=0,je,he=0,ke,we,Ne,ze,_e,Je,at,nt,Ae=q+10,Ye=z(P,q+10+ce*2),Qe=P.subarray(q+10+ce*2+2+Ye),Ze=0;for(be=1+z(P,Ae+ce*2-2),fe=be+2*ce,X=v(fe),se=0,ye=0,je=fe-be,J=0;J<be;++J)ye==0?(te=Qe[Ze++],te&8&&(ye=Qe[Ze++])):--ye,X[je+J].type=te;for(ke=0,J=0;J<be;++J){if(te=X[je+J].type,te&2){var pt=Qe[Ze++];ke+=te&16?pt:-pt}else te&16||(ke=ke+L(Qe[Ze]*256+Qe[Ze+1]),Ze+=2);X[je+J].x=ke}for(we=0,J=0;J<be;++J){if(te=X[je+J].type,te&4){var mt=Qe[Ze++];we+=te&32?mt:-mt}else te&32||(we=we+L(Qe[Ze]*256+Qe[Ze+1]),Ze+=2);X[je+J].y=we}var ut=0;for(_e=Je=Ne=ze=at=nt=0,J=0;J<be;++J)te=X[je+J].type,ke=X[je+J].x,we=X[je+J].y,se==J?(J!=0&&(ut=le(X,ut,ge,he,_e,Je,at,nt,Ne,ze)),he=!(te&1),he?(at=ke,nt=we,X[je+J+1].type&1?(_e=X[je+J+1].x,Je=X[je+J+1].y,++J):(_e=ke+X[je+J+1].x>>1,Je=we+X[je+J+1].y>>1)):(_e=ke,Je=we),de(X[ut++],s,_e,Je,0,0),ge=0,se=1+z(P,Ae+me*2),++me):te&1?(ge?de(X[ut++],i,ke,we,Ne,ze):de(X[ut++],n,ke,we,0,0),ge=0):(ge&&de(X[ut++],i,Ne+ke>>1,ze+we>>1,Ne,ze),Ne=ke,ze=we,ge=1);X.length=le(X,ut,ge,he,_e,Je,at,nt,Ne,ze)}else if(ce==-1)for(var vt=1,it=q+10;vt;){var te,_t,et=[1,0,0,1,0,0];te=G(P,it),it+=2,_t=G(P,it),it+=2,te&2&&(te&1?(et[4]=G(P,it),it+=2,et[5]=G(P,it),it+=2):(et[4]=w(P),it+=1,et[5]=w(P),it+=1)),te&8?(et[0]=et[3]=G(P,it)/16384,it+=2,et[1]=et[2]=0):te&64?(et[0]=G(P,it)/16384,it+=2,et[1]=et[2]=0,et[3]=G(P,it)/16384,it+=2):te&128&&(et[0]=G(P,it)/16384,it+=2,et[1]=G(P,it)/16384,it+=2,et[2]=G(P,it)/16384,it+=2,et[3]=G(P,it)/16384,it+=2);var fe=x(et[0]*et[0]+et[1]*et[1]),be=x(et[2]*et[2]+et[3]*et[3]),Ht=rt(U,_t);if(Ht.length>0){for(var J=0,Gt=Ht.length;J<Gt;++J){var Ot=Ht[J],ke,we;ke=Ot.x,we=Ot.y,Ot.x=p(fe*(et[0]*ke+et[2]*we+et[4])),Ot.y=p(be*(et[1]*ke+et[3]*we+et[5])),ke=Ot.cx,we=Ot.cy,Ot.cx=p(fe*(et[0]*ke+et[2]*we+et[4])),Ot.cy=p(be*(et[1]*ke+et[3]*we+et[5]))}X=X.concat(Ht)}vt=te&32}return X}function Me(U,$,P){($>U.max_x||!U.started)&&(U.max_x=$),(P>U.max_y||!U.started)&&(U.max_y=P),($<U.min_x||!U.started)&&(U.min_x=$),(P<U.min_y||!U.started)&&(U.min_y=P),U.started=1}function pe(U,$,P,q,X,ce,te,ye){Me(U,P,q),$==o&&(Me(U,X,ce),Me(U,te,ye));var J={};de(J,$,P,q,X,ce),J.cx1=te,J.cy1=ye,U.vertices.push(J)}function Fe(U){(U.first_x!=U.x||U.first_y!=U.y)&&pe(U,n,U.first_x,U.first_y,0,0,0,0)}function Ce(U,$,P){Fe(U),U.first_x=U.x=U.x+$,U.first_y=U.y=U.y+P,pe(U,s,U.x,U.y,0,0,0,0)}function ve(U,$,P){U.x+=$,U.y+=P,pe(U,n,U.x,U.y,0,0,0,0)}function Be(U,$,P,q,X,ce,te){var ye=U.x+$,J=U.y+P,me=ye+q,fe=J+X;U.x=me+ce,U.y=fe+te,pe(U,o,U.x,U.y,ye,J,me,fe)}function Ue(U,$){var P=T(U),q=107;return P>=33900?q=32768:P>=1240&&(q=1131),$+=q,$<0||$>=P?j():_(U,$)}function Xe(U,$){var P=U.fdselect,q,X,ce,te,ye,J=-1,me;if(A(P,0),ye=w(P),ye==0)k(P,$),J=w(P);else if(ye==3)for(q=E(P,2),X=E(P,2),me=0;me<q;me++){if(te=w(P),ce=E(P,2),$>=X&&$<ce){J=te;break}X=ce}return V(U.cff,_(U.fontdicts,J))}function Re(U,$,P){var q=1,X=0,ce=0,te=0,ye,J,me,fe=0,be,se=[],ge=[],je=U.subrs,he,ke;for(he=_(U.charstrings,$);he.cursor<he.length;){switch(J=0,be=1,me=w(he),me){case 19:case 20:q&&(X+=te/2|0),q=0,k(he,(X+7)/8|0);break;case 1:case 3:case 18:case 23:X+=te/2|0;break;case 21:if(q=0,te<2)return 0;Ce(P,se[te-2],se[te-1]);break;case 4:if(q=0,te<1)return 0;Ce(P,0,se[te-1]);break;case 22:if(q=0,te<1)return 0;Ce(P,se[te-1],0);break;case 5:if(te<2)return 0;for(;J+1<te;J+=2)ve(P,se[J],se[J+1]);break;case 7:if(te<1)return 0;for(;!(J>=te||(ve(P,0,se[J]),J++,J>=te));)ve(P,se[J],0),J++;break;case 6:if(te<1)return 0;for(;!(J>=te||(ve(P,se[J],0),J++,J>=te));)ve(P,0,se[J]),J++;break;case 31:if(te<4)return 0;for(;!(J+3>=te||(Be(P,se[J],0,se[J+1],se[J+2],te-J==5?se[J+4]:0,se[J+3]),J+=4,J+3>=te));)Be(P,0,se[J],se[J+1],se[J+2],se[J+3],te-J==5?se[J+4]:0),J+=4;break;case 30:if(te<4)return 0;for(;!(J+3>=te||(Be(P,0,se[J],se[J+1],se[J+2],se[J+3],te-J==5?se[J+4]:0),J+=4,J+3>=te));)Be(P,se[J],0,se[J+1],se[J+2],te-J==5?se[J+4]:0,se[J+3]),J+=4;break;case 8:if(te<6)return 0;for(;J+5<te;J+=6)Be(P,se[J],se[J+1],se[J+2],se[J+3],se[J+4],se[J+5]);break;case 24:if(te<8)return 0;for(;J+5<te-2;J+=6)Be(P,se[J],se[J+1],se[J+2],se[J+3],se[J+4],se[J+5]);if(J+1>=te)return 0;ve(P,se[J],se[J+1]);break;case 25:if(te<8)return 0;for(;J+1<te-6;J+=2)ve(P,se[J],se[J+1]);if(J+5>=te)return 0;Be(P,se[J],se[J+1],se[J+2],se[J+3],se[J+4],se[J+5]);break;case 26:case 27:if(te<4)return 0;for(ke=0,te&1&&(ke=se[J],J++);J+3<te;J+=4)me==27?Be(P,se[J],ke,se[J+1],se[J+2],se[J+3],0):Be(P,ke,se[J],se[J+1],se[J+2],0,se[J+3]),ke=0;break;case 10:fe||(U.fdselect.length&&(je=Xe(U,$)),fe=1);case 29:if(te<1||(ye=se[--te]|0,ce>=10)||(ge[ce++]=he,he=Ue(me==10?je:U.gsubrs,ye),he.length==0))return 0;he.cursor=0,be=0;break;case 11:if(ce<=0)return 0;he=ge[--ce],be=0;break;case 14:return Fe(P),1;case 12:var we,Ne,ze,_e,Je,at,nt,Ae,Ye,Qe,Ze,pt,mt,ut,vt=w(he);switch(vt){case 34:if(te<7)return 0;we=se[0],Ne=se[1],Ae=se[2],ze=se[3],_e=se[4],Je=se[5],at=se[6],Be(P,we,0,Ne,Ae,ze,0),Be(P,_e,0,Je,-Ae,at,0);break;case 35:if(te<13)return 0;we=se[0],nt=se[1],Ne=se[2],Ae=se[3],ze=se[4],Ye=se[5],_e=se[6],Qe=se[7],Je=se[8],Ze=se[9],at=se[10],pt=se[11],Be(P,we,nt,Ne,Ae,ze,Ye),Be(P,_e,Qe,Je,Ze,at,pt);break;case 36:if(te<9)return 0;we=se[0],nt=se[1],Ne=se[2],Ae=se[3],ze=se[4],_e=se[5],Je=se[6],Ze=se[7],at=se[8],Be(P,we,nt,Ne,Ae,ze,0),Be(P,_e,0,Je,Ze,at,-(nt+Ae+Ze));break;case 37:if(te<11)return 0;we=se[0],nt=se[1],Ne=se[2],Ae=se[3],ze=se[4],Ye=se[5],_e=se[6],Qe=se[7],Je=se[8],Ze=se[9],at=pt=se[10],mt=we+Ne+ze+_e+Je,ut=nt+Ae+Ye+Qe+Ze,b(mt)>b(ut)?pt=-ut:at=-mt,Be(P,we,nt,Ne,Ae,ze,Ye),Be(P,_e,Qe,Je,Ze,at,pt);break;default:return 0}break;default:if(me!=255&&me!=28&&(me<32||me>254)||(me==255?ke=(E(he,4)|0)/65536:(k(he,-1),ke=(M(he)<<16|0)>>16),te>=48))return 0;se[te++]=ke,be=0;break}be&&(te=0)}return 0}function Ge(){return{started:0,first_x:0,first_y:0,x:0,y:0,min_x:0,max_x:0,min_y:0,max_y:0,vertices:[]}}function Oe(U,$){var P=Ge();return Re(U,$,P)?P.vertices:null}function Le(U,$,P){var q=Ge(),X=Re(U,$,q);return P.x0=X?q.min_x:0,P.y0=X?q.min_y:0,P.x1=X?q.max_x:0,P.y1=X?q.max_y:0,X&&q.vertices?q.vertices.length:0}function rt(U,$){return U.cff.length?Oe(U,$):ue(U,$)}function Se(U,$){var P=z(U.data,U.hhea+34);return $<P?{advanceWidth:G(U.data,U.hmtx+4*$),leftSideBearing:G(U.data,U.hmtx+4*$+2)}:{advanceWidth:G(U.data,U.hmtx+4*(P-1)),leftSideBearing:G(U.data,U.hmtx+4*P+2*($-P))}}function qe(U){return{ascent:G(U.data,U.hhea+4),descent:G(U.data,U.hhea+6),linegap:G(U.data,U.hhea+8)}}function We(U,$,P,q,X,ce){var te={};return ne(U,$,te)?{x0:p(te.x0*P+X),y0:p(-te.y1*q+ce),x1:m(te.x1*P+X),y1:m(-te.y0*q+ce)}:{x0:0,y0:0,x1:0,y1:0}}function Ke(U,$,P){var q=(U.x1-U.x0)/(U.y1-U.y0);return{fdx:q,fdy:q!=0?1/q:0,fx:U.x0+q*(P-U.y0)-($|0),direction:U.invert?1:-1,sy:U.y0,ey:U.y1,next:0}}function Te(U,$,P,q,X,ce,te){$=$|0,X!=te&&(X>P.ey||te<P.sy||(X<P.sy&&(q+=(ce-q)*(P.sy-X)/(te-X),X=P.sy),te>P.ey&&(ce+=(ce-q)*(P.ey-te)/(te-X),te=P.ey),q<=$&&ce<=$?U[$]+=P.direction*(te-X):q>=$+1&&ce>=$+1||(U[$]+=P.direction*(te-X)*(1-(q-$+(ce-$))/2))))}function He(U,$,P,q,X){for(var ce=X+1;q;){if(q.fdx==0){var te=q.fx;te<P&&(te>=0?(Te(U,te,q,te,X,te,ce),Te($,te+1,q,te,X,te,ce)):Te($,0,q,te,X,te,ce))}else{var te=q.fx,ye=q.fdx,J=te+ye,me,fe,be,se,ge=q.fdy;if(q.sy>X?(me=te+ye*(q.sy-X),be=q.sy):(me=te,be=X),q.ey<ce?(fe=te+ye*(q.ey-X),se=q.ey):(fe=J,se=ce),me>=0&&fe>=0&&me<P&&fe<P)if((me|0)==(fe|0)){var je=se-be,he=me|0;U[he]+=q.direction*(1-(me-he+(fe-he))/2)*je,$[he+1]+=q.direction*je}else{var ke,he,we,Ne,ze,_e,Je,at;for(me>fe&&(be=ce-(be-X),se=ce-(se-X),ke=be,be=se,se=ke,ke=fe,fe=me,me=ke,ye=-ye,ge=-ge,ke=te,te=J,J=ke),we=me|0,Ne=fe|0,ze=(we+1-te)*ge+X,Je=q.direction,at=Je*(ze-be),U[we]+=at*(1-(me-we+(we+1-we))/2),_e=Je*ge,he=we+1;he<Ne;++he)U[he]+=at+_e/2,at+=_e;ze+=ge*(Ne-(we+1)),U[Ne]+=at+Je*(1-(Ne-Ne+(fe-Ne))/2)*(se-ze),$[Ne+1]+=Je*(se-be)}else for(var he=0;he<P;++he){var nt=X,we=he,Ne=he+1,Ae=J,Ye=ce,Qe=(he-te)/ye+X,Ze=(he+1-te)/ye+X;te<we&&Ae>Ne?(Te(U,he,q,te,nt,we,Qe),Te(U,he,q,we,Qe,Ne,Ze),Te(U,he,q,Ne,Ze,Ae,Ye)):Ae<we&&te>Ne?(Te(U,he,q,te,nt,Ne,Ze),Te(U,he,q,Ne,Ze,we,Qe),Te(U,he,q,we,Qe,Ae,Ye)):te<we&&Ae>we||Ae<we&&te>we?(Te(U,he,q,te,nt,we,Qe),Te(U,he,q,we,Qe,Ae,Ye)):te<Ne&&Ae>Ne||Ae<Ne&&te>Ne?(Te(U,he,q,te,nt,Ne,Ze),Te(U,he,q,Ne,Ze,Ae,Ye)):Te(U,he,q,te,nt,Ae,Ye)}}q=q.next}}function st(U,$,P,q,X,ce){X|=0,ce|=0;var te=null,ye,J=ce,me=0,fe,be=new Float32Array(U.w*2+1),se=be.subarray(U.w),ge=0;for($[P].y0=ce+U.h+1;me<U.h;){var je=J+0,he=J+1,ke=te;if(be.fill)be.fill(0);else for(var we=0,Ne=be.length;we<Ne;we++)be[we]=0;for(;ke;)ye=ke,ke=ye.next,ye.ey<=je&&(ye.direction=0);for(;$[ge].y0<=he;)$[ge].y0!=$[ge].y1&&(ye=Ke($[ge],X,je),ye.next=te,te=ye),++ge;te&&He(be,se,U.w,te,je);for(var fe=0,ze=0;fe<U.w;++fe){var _e,Je;ze+=se[fe],_e=be[fe]+ze,_e=b(_e)*255+.5,Je=_e>>>0,Je>255&&(Je=255),U.pixels[me*U.stride+fe]=Je}for(ke=te;ke;)ye=ke,ye.fx+=ye.fdx,ke=ye.next;++J,++me}}function gt(U,$){for(var P=1;P<$;++P){for(var q=U[P],X=P;X>0&&q.y0<U[X-1].y0;)U[X]=U[X-1],--X;P!=X&&(U[X]=q)}}function ht(U,$,P){for(;P>12;){var q,X,ce,te,ye,J=P>>1,me=U[$].y0<U[$+J].y0,fe=U[$+J].y0<U[$+P-1].y0;for(me!=fe&&(X=U[$].y0<U[$+P-11].y0,ye=X==fe?0:P-1,q=U[$+ye],U[$+ye]=U[$+J],U[$+J]=q),q=U[$],U[$]=U[$+J],U[$+J]=q,ce=1,te=P-1;;){for(;U[$+ce].y0<U[$].y0;++ce);for(;U[$].y0<U[$+te].y0;--te);if(ce>=te)break;q=U[$+ce],U[$+ce]=U[$+te],U[$+te]=q,++ce,--te}te<P-ce?(ht(U,$,te),$+=ce,P-=ce):(ht(U,$+ce,P-ce),P=te)}}function bt(U,$){ht(U,0,$),gt(U,$)}function Et(U,$,P,q,X,ce,te,ye,J,me){var fe=-X,be,se,ge,je,he,ke,we=1;for(se=0,ge=0;ge<P.length;++ge)se+=P[ge];for(be=v(se+1),se=0,ke=0,ge=0;ge<P.length;++ge){var Ne=ke;for(ke+=P[ge],je=P[ge]-1,he=0;he<P[ge];je=he++){var ze=he,_e=je;$[Ne+je].y!=$[Ne+he].y&&(be[se].invert=0,$[Ne+je].y>$[Ne+he].y&&(be[se].invert=1,ze=je,_e=he),be[se].x0=$[Ne+ze].x*q+ce,be[se].y0=($[Ne+ze].y*fe+te)*we,be[se].x1=$[Ne+_e].x*q+ce,be[se].y1=($[Ne+_e].y*fe+te)*we,++se)}}bt(be,se),st(U,be,se,we,ye,J)}function kt(U,$,P,q,X,ce,te,ye,J){var me=($+2*q+ce)/4,fe=(P+2*X+te)/4,be=($+ce)/2-me,se=(P+te)/2-fe;return J>16||(be*be+se*se>ye?(kt(U,$,P,($+q)/2,(P+X)/2,me,fe,ye,J+1),kt(U,me,fe,(q+ce)/2,(X+te)/2,ce,te,ye,J+1)):U.push({x:ce,y:te})),1}function wt(U,$,P,q,X,ce,te,ye,J,me,fe){var be=q-$,se=X-P,ge=ce-q,je=te-X,he=ye-ce,ke=J-te,we=ye-$,Ne=J-P,ze=x(be*be+se*se)+x(ge*ge+je*je)+x(he*he+ke*ke),_e=x(we*we+Ne*Ne),Je=ze*ze-_e*_e;if(!(fe>16))if(Je>me){var at=($+q)/2,nt=(P+X)/2,Ae=(q+ce)/2,Ye=(X+te)/2,Qe=(ce+ye)/2,Ze=(te+J)/2,pt=(at+Ae)/2,mt=(nt+Ye)/2,ut=(Ae+Qe)/2,vt=(Ye+Ze)/2,it=(pt+ut)/2,_t=(mt+vt)/2;wt(U,$,P,at,nt,pt,mt,it,_t,me,fe+1),wt(U,it,_t,ut,vt,Qe,Ze,ye,J,me,fe+1)}else U.push({x:ye,y:J})}function Mt(U,$,P){for(var q=[],X=$*$,ce=-1,te=0,ye=0,J=0,me=0,fe=U.length;me<fe;++me)switch(U[me].type){case s:ce>=0&&(P[ce]=q.length-te),++ce,te=q.length,ye=U[me].x,J=U[me].y,q.push({x:ye,y:J});break;case n:ye=U[me].x,J=U[me].y,q.push({x:ye,y:J});break;case i:kt(q,ye,J,U[me].cx,U[me].cy,U[me].x,U[me].y,X,0),ye=U[me].x,J=U[me].y;break;case o:wt(q,ye,J,U[me].cx,U[me].cy,U[me].cx1,U[me].cy1,U[me].x,U[me].y,X,0),ye=U[me].x,J=U[me].y;break}return P[ce]=q.length-te,q}function It(U,$,P,q,X,ce,te,ye,J,me){ye|=0,J|=0;var fe=q>X?X:q,be=[],se=Mt(P,$/fe,be);se&&Et(U,se,be,q,X,ce,te,ye,J)}function zt(U){var $={};if(!Y($,U,0))return null;var P=qe($);return $.ascent=P.ascent,$.descent=P.descent,$.linegap=P.linegap,$}function Bt(U,$,P,q){q=q||P;var X=P/U.ascent,ce=q/U.ascent,te=ie(U,$);if(!te&&$)return null;var ye=rt(U,te),J=We(U,te,X,ce,0,0),me=J.x1-J.x0,fe=J.y1-J.y0,be=null;if(me&&fe){var se={pixels:be=new Uint8Array(me*fe),w:me,h:fe,stride:me};It(se,.35,ye,X,ce,0,0,J.x0,J.y0)}var ge=Se(U,te);return{glyph:te,pixels:be,width:me,height:fe,top:-J.y0,left:J.x0,advance:p(ge.advanceWidth*X)}}function jt(U,$,P,q){q=q||P;var X=P/U.ascent,ce=q/U.ascent,te=ie(U,$);if(!te&&$)return null;var ye=rt(U,te),J=Se(U,te),me=0,fe=0,be=[];if(ye)for(var se=0,ge=ye.length;se<ge;se++){var je=ye[se],he;if(je.type==s)he={type:"M",x:je.x*X,y:je.y*ce};else if(je.type==n)he={type:"L",x:je.x*X,y:je.y*ce};else if(je.type==i)he={type:"Q",x:je.x*X,y:je.y*ce,cx:je.cx*X,cy:je.cy*ce};else if(je.type==o)he={type:"C",x:je.x*X,y:je.y*ce,cx1:je.cx*X,cy1:je.cy*ce,cx2:je.cx1*X,cy2:je.cy1*ce};else continue;he.y>me&&(me=he.y),he.y<fe&&(fe=he.y),be.push(he)}return be.advance=J.advanceWidth*X,be.ascent=me,be.descent=fe,be}return{InitFont:zt,GetGlyph:Bt,GetPaths:jt}}();function tO(s){if(typeof s=="string"){for(var n=/[^A-Za-z0-9+\/=\s]/.test(s),i=n?s:atob(s),o=i.length,l=new Uint8Array(o),u=0;u<o;u++)l[u]=i.charCodeAt(u);return l}else{if(s instanceof Uint8Array)return s;if(s instanceof ArrayBuffer)return new Uint8Array(s)}throw new ReferenceError("data must be a binary or base64 encoded string or Uint8Array")}u1.loadFont("OCR-A",100,100,"AAEAAAAPAIAAAwBwRkZUTXxHoksAADPIAAAAHEdERUYAmQAGAAAyIAAAACBHUE9TuP+4/gAAM5gAAAAwR1NVQuq3l/0AADJAAAABWE9TLzKDm4kvAAABeAAAAGBjbWFwO6GiGgAAArgAAAFaZ2FzcP//AAMAADIYAAAACGdseWYfHUemAAAE8AAAKUBoZWFkFeCL3QAAAPwAAAA2aGhlYQcqAgQAAAE0AAAAJGhtdHgagBVHAAAB2AAAAOBsb2NhH+IWRAAABBQAAADabWF4cACxAF0AAAFYAAAAIG5hbWUIp3NfAAAuMAAAAoJwb3N0oJoboAAAMLQAAAFkAAEAAAACAAAhYPsHXw889QALA+gAAAAA2gMjvQAAAADaAyO9AD7/LAJ8BFIAAAAIAAIAAAAAAAAAAQAABFL/LABaAtMAAAAAAnwAAQAAAAAAAAAAAAAAAAAAAAQAAQAAAGwAWgADAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAtMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAACMAACoAAAAAAAAAAABQZkVkAEAAICWgAyD/OABaBFIA1AAAAAEAAAAAAjgDDAAAACAAAQLTAAAAAAAAAtMAAALTAAAA9gBJAEkASQBJAEkA3QDdAKwASQBJAKwASQDdAEkASQBJAEkASQBhAEkASQBJAEkASQDdAKwASQBJAEkASQBJAEYASQBJAEkASQBJAEkASQBJAHoASQBJAEkASQBJAEkASQBJAEkASQBJAEkASQBJAEkASABJAEkASQBIAEkAegBJAEkASQBJAEkAYQBJAEkAegB6AEkAegBBAEkASQBJAEkASQBJAEkASQBJAD4ASQBJAEkASQEPAEkASQBxAHEAcQE3AFcA7QBxAQMA1ABxAAAAAwAAAAMAAAAcAAEAAAAAAFQAAwABAAAAHAAEADgAAAAKAAgAAgACAH4kQiUCJaD//wAAACAkQCUCJaD////j3CLbY9rGAAEAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAFIApgDoAS4BigGqAdYCAgJKAnQCkAKsAsYC5AMIAzIDYAOcA8gD+gQmBFIEggSuBNwFDAU0BVwFhAXEBhIGPgZwBqgG5AcKBy4HageWB8QH7gggCDoIZgiICMoI8glMCYIJwAnmChAKNAp0Cq4K1gr6CyYLRAtwC5QLrgvODBYMdAysDRANag2eDhYOSA6EDsYO+A8iD2YPmA/yEFgQvBDqETQRbhGgEcwSDhJEEnoSqBLiEwITPBNyE5ITthPeE+wT+hQUFEYUaBSIFKAAAAACAPYAAAGNAwwADwAfAAA3NTQ2OwEyFh0BFAYrASImETQ2OwEyFh0BAxQGIyImJ/YeFTEVHh4VMRUeHhUxFB8ZHhQVHAIzKhUdHRUqFR4eArwUHhwTA/6BFR0dFQAAAAABAEkBqAI7AwwAEwAAEychFQYHBiMiJjUnIwcOASMiJidKAQHyJgsMKBQgKHIqAxwSExwDAsJKSrkvMhoS09YRGBgRAAIASQB/AjsDDAA9AEEAABM0NjsBNSMiJjQ2OwE1NDYyFh0BMzU0NjIWHQEzMhYUBisBFTMyFhUUBisBFRQGIiY9ASMVFAYiJj0BIyImNzM1I0kdFTExFR0dFTEdKh5hHiodMRUeHhUxMRUeHhUxHSoeYR4qHTEVHchhYQFcFB5vHiodeBQeHhR4eBQeHhR4HSoebx4UFR53FR4eFXd3FR4eFXceR28AAAEASQAAAjsDDAAxAAA2NDYzITUhIiY9ATQ2OwE1NDYzMhYdATMyFhQGIyEVITIWHQEUBisBFRQGIyImPQEjIkkdFQFb/qUVHR0VlB4VFB6UFR4eFf6lAVsVHh4VlB4UFR6UFccqHkQeFaoVHXgUHh4UeB0qHkQeFaoVHXcVHh4VdwAAAAMASQAAAjsDDAAPAB8ALwAANzQ3ATYzMhYVFAcBBiMiJhE1NDY7ATIWHQEUBisBIiYBNTQ2OwEyFh0BFAYrASImSQoBjQ4aFR4L/nMOGhUdHRVjFR4eFWMVHQEpHhVjFR4eFWMVHocUCwH+Ex0VEg3+AhMdAhNVFB4eFFUVHh79w1QVHh4VVBUeHgAAAwBJAAACOwK3AC4ANgBBAAA3NTQ/AScmPQE0NjsBMhYdARQPARc3NjMyFhUUDgIHFxYVFAYjIi8BBwYrASImNxQWOwE3JwcRFzc1NCYrASIGFUkRXGANWT5gPlkRfWszDxIVHhAPIQI0Dh4VFw43Sg8RYj5ZZR4UTzhrTlVvHhRgFB6XRRgPT2YPFEU+WVk+RRkOa3IsDB4VDRoOGAI4EBIVHhA7PwxZPhUdMHJCASpbXi4UHh0VAAEA3QFUAaYDDAARAAATETQ2OwEyFhcUBg8BDgEjIibdHhVjFRwCMhoZBRoSFR4BhgFUFB4dFQawVVURFR0AAAABAN0AAAHZAwwAGwAAEzU0PwE2MzIWFRQPAQYdARQfARYVFAYjIi8BJt0rdRAYFR8MdRYWdQodFRgQdSsBJsBFOJYTHhQOEpUdIsAiHZUPEBUeE5Y4AAAAAQCsAAABpgMMABsAADc0PwE2PQE0LwEmNTQ2MzIfARYdARQPAQYjIiasCnUWFnUKHRUYEHUrK3UQGBUdMxAPlR0iwCIdlQ8RFB4TljhFwEU4lhMeAAAAAAEASQBVAjsCtwAzAAA3ND8BJyY1NDYzMh8BNTQ2MzIWHQE3NjMyFhUUDwEXFhUUBiMiLwEVFAYjIiY9AQcGIyImSRGZmREdFRMOcx4VFB5zDRQVHhKZmRIeFRQNcx4UFR5zDhMVHdwYD4ODDxgVHQxikRUdHRWRYgwdFRcQg4MQFxUdDGKRFR0dFZFiDB0AAAEASQCNAjsCfwAdAAASNDY7ATU0NjMyFh0BMzIWFAYrARUUBiMiJj0BIyJJHRWUHhUUHpQVHh4VlB4UFR6UFQFxKh6UFB4eFJQeKh2UFR4eFZQAAAEArAAAAdcBZAAQAAASNDY7ATIWHQEUBiImPQEjIqwdFccVHR0qHpQVARwqHh4V/hUeHhXMAAAAAQBJASkCOwG5AA8AABM1NDYzITIWHQEUBiMhIiZJHRUBjRUeHhX+cxUdAVwqFR4eFSoVHh4AAAABAN0AfwGmATkADwAANzU0NjsBMhYdARQGKwEiJt0eFWMVHh4VYxUeslUVHR0VVRUeHgAAAQBJAAACOwMMAA8AADc0NwE2MzIWFRQHAQYjIiZJBgGNDx0VHgf+cw8dFR0zDQwCpxkeFAwO/VkZHgAAAgBJAAACOwMMAA8AEwAANxE0NjMhMhYVERQGIyEiJjchESFJPCkBKCg9PSj+2Ck8ZQEo/thlAkIpPDwp/b4pPDwpAkIAAAAAAQBJAAACOwMMABwAADc0NjsBESMiJjU0NjsBETM1NDYyFh0BFAYjISImSR0VlJQVHR0V+WIdKh4eFf5zFR0zFB4CQh4VFB79WcwVHh4V/hUeHgAAAQBJAAACOwMMAB4AADMRNDYzITUhIiY1NDYzITIWHQEUBiMhFSEyFhUUBiNJPCkBKP6lFR0dFQFbKD08Kf7YAVoVHh4VAVQpO+8eFRQePCnvKDzvHhQVHgAAAAABAEkAAAI7AwwAKgAANzQ2MyE1NCYrASImNDY7ATI2PQEhIiY1NDYzITIWHQEUBxYdARQGIyEiJkkdFQFbHxTFFR0dFcUVHv6lFR0dFQFbKD0oKD0o/qUVHTMUHrwUHx0qHh4UvB4VFB48Kbw6Kys6vCk8HgAAAAABAGEAAAIiAwwAHQAAExE0NjIWFREzETQ2MzIWFREyFhQGIxUUBiMiJj0BYR4qHcUeFRQeFR0dFR4UFR4A/wHbFB4eFP6KASEVHR0V/t8eKh3MFR4eFcwAAQBJAAACOwMMACIAADc0NjMyHwEzNSERITIWFRQGKwEVMzIWHQEUBisBIi4CJyZJHRUMCFrt/tYBXBUeHhX3xSg9PSjjFCkaLAkeXRUdBCbvAbgeFBUe7j0o7yk8CgsVBA0AAAIASQAAAjsDDAAXABsAADcRNDY7ATIWFRQGIxEhMhYdARQGIyEiJjchNSFJHRUyFR0dFQFbFR4eFf5zFR1kASn+1zMCpxQeHhQVHv69HhX+FR4eR5oAAAABAEkAAAI7AwwAGwAAEzU0NjMhERQPARUUBiMiJj0BND8BNSEOASMiJkkdFQHAErUeFBUeErX+1wMcExUdAq8rFB7+zxcQmucVHh4V/hcQmrUSGB0AAAAAAwBJAAACOwMMABcAGwAfAAA3NTQ2MxE0NjsBMhYVETIWHQEUBiMhIiY3ITUhNzM1I0k7KRwVxxUcKD09KP7XKTtkASn+12RhYWXvKTwBIRUdHRX+3z0o7yk8PCnvZe4AAgBJAAACOwMMABcAGwAAExE0NjMhMhYVERQGKwEiJjU0NjMRISImNyE1IUkdFQGNFR4eFTIVHR0V/qUVHWQBKf7XAdsA/xQeHhT9WRUeHhUUHgFDHkeaAAIA3QB/AaYCjQAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm3R4VYxUeHhVjFR4eFWMVHh4VYxUeslUVHR0VVRUeHgFoVRUeHhVVFR0dAAAAAgCsAAAB1wK3ABAAIAAAEjQ2OwEyFh0BFAYiJj0BIyIDNTQ2OwEyFh0BFAYrASImrB0VxxUdHSoelBUdHRVkFB4eFGQVHQEcKh4eFf4VHh4VzAExVRUdHRVVFR4eAAAAAQBJAFUCOwK3ABYAABM1NDclNjMyFhUUBw0BFhUUBiMiJyUmSRgBjQsPFR4Z/pkBZxkeFQ8L/nMYAXArHQ/pBx0VHBDT0xAcFR0H6Q8AAAACAEkA/wI7AjgACwAXAAASNDYzITIWFAYjISImNDYzITIWFAYjISJJHRUBjRUeHhX+cxUdHRUBjRUeHhX+cxUBHCoeHiod8SoeHiodAAAAAAEASQBVAjsCtwAWAAA3NDctASY1NDYzMhcFFh0BFAcFBiMiJkkYAWj+mBgdFQ8LAY0ZFP5uCw8VHYcdD9PTDx0VHQfpEBwqHQzsBx0AAAAAAgBJAAACOwMMAB4AKAAAEzQ3ATYyHwEWHQEUBwUVFAYiJj0BNDclNScFBiMiJhM0NjIWFRQGIiZJEQEqDyQPYxIS/ugeKh0RARkx/vcPEhUdYx0qHh4qHQHbGA4A/wwMVQ8XVRcQ7z4VHR0VVRkO7yYq4wwe/m0UHh4UFR4eAAACAEkAAAI7AwwALQA4AAA3NTQ2OwEyFhURFBYyNjURNCYrASIGBwYjIiY1NDc2OwEyFhURFAYjIicGIyImNxQWMjY9ASMiBhVJWD1kFB4dKB0uH48ZLQwOHxUdNjdEj0lpWT05Kiw4PVhlHCgdMRQclrc+WB4V/uYUHR0UAcQgLSMXGx4VJDEyakj+PD1ZJydYPhQdHRToHRQAAAACAEYAAAI8AwwAFQAYAAA3Ez4BMhYXExQGIyImLwEjBw4BIyImNzMDRssFGiIcBMofFREaBSffJwUbERUfqqNSMwK1EBQUEP1LFR4UEIaGEBQe8QEWAAAAAwBJAAACOwMMAA4AGAAiAAAzESEyFh0BFAcWHQEUBiMnMzI2PQE0JisBNTMyNj0BNCYrAUkBKFJ4RkZ4UsPDKTw8KcPDKTw8KcMDDHhSJVk+PlklUnhlPSglKTxlPCglKD0AAAEASQAAAjsDDAAlAAATND8BPgE7ATIWFRQGKwEiDwEGFB8BFjsBMhYVFAYrASImJyYnJkkYZRBLLboVHh4Vuh8NZw0NZw0fuhUeHhW6LEkSShwYAYY1MswkLx4UFR4cyxw8HMscHhQVHjAkjT4zAAACAEkAAAI7AwwAGwAoAAA3NDY7AREjIiY1NDY7ATIWHwEWFA8BDgErASImNzMyPwE2NTQvASYrAUkdFTExFR0dFbosSRJmGRllEEstuhUdyCQfDWcODmcNHyQzFB4CQh4VFB4wJMs0ZjTMJC8eRxzLIhgeHMscAAABAEkAAAI7AwwAGQAAMxEhMhYVFAYjIRUzMhYUBisBFSEyFhUUBiNJAb8VHh4V/qaUFB4eFJQBWhUeHhUDDB4UFR7uHiod7x4UFR4AAQBJAAACOwMMABYAADcRITIWFRQGIyEVMzIWFAYrAREUBiImSQG/FR4eFf6m9xUdHRX3HiodMwLZHhQVHpodKh7+ixUeHgAAAQBJAAACOwMMACoAADcRND8BNjsBMhYVFAYrASIPAQYVERQWOwEyNj0BIyImNDY7ARUUBisBIiZJKogtS5UVHh4VlRkPiBUeFMMUH2MVHR0VyFo+wz9YmAEPRTawOh4UFR4Urhwi/vEVHh4VZx0qHsw+WlkAAAAAAQBJAAACOwMMABsAADcRNDYyFhURIRE0NjIWFREUBiImNREhERQGIiZJHSoeASgdKh4eKh3+2B4qHTMCpxQeHhT+3wEhFB4eFP1ZFR4eFQEh/t8VHh4AAAEASQAAAjsDDAAfAAA3NDY7AREjIiY1NDYzITIWFRQGKwERMzIWFRQGIyEiJkkdFZSUFR0dFQGNFR4eFZSUFR4eFf5zFR0zFB4CQh4VFB4eFBUe/b4eFBUeHgAAAQB6AAACCQMMABsAADc1NDYyFh0BFBY7ATI2NRE0NjIWFREUBisBIiZ6HiodHhVfFR4dKh5aPl8+WpeaFR4eFZoVHR4UAkMUHh4U/b0+WVkAAAAAAQBJAAACOwMMAB4AADcRNDYyFh0BATYzMhYVFAcJARYVFAYjIicBFRQGIiZJHSoeATkPEhUeEv6gAWASHhUSD/7HHiodMwKnFB4eFOYBDAweFBgP/tP+0w8XFR4MAQzlFR4eAAEASQAAAjsDDAAOAAAzETQ2MhYVESEyFhUUBiNJHSoeAVoVHh4VAtoUHh4U/YseFBUeAAABAEkAAAI7AwwAGwAANxEzFzczERQGIiY1EQcVFAYjIiY9AScRFAYiJkl+e3p/HiodYh4UFR5hHiodMwLZr6/9JxUeHhUCTowaFR4eFRqK/bQVHh4AAAAAAQBJAAACOwMMABEAADcRMwERNDYyFhURIwERFAYiJkmFAQgdKh6G/vkeKh0zAtn9pgIoFB4eFP0mAlj92xUeHgAAAAACAEkAAAI7AwwAFgApAAATND8BPgEzMhYfARYUDwEOASMiJi8BJjcGFB8BFjMyPwE2NTQvASYjIgdJGGsQPyYnPxBrGRlrED8nJj8QaxhyDQ1sCBIUCGsODmwIExEJAYY1MtcfKSkf1zRmNNcfKSkf1y5zHDwc1hEQ1yIYHhzVEhIAAAACAEkAAAI7AwwADwAZAAA3ESEyFh0BFAYrARUUBiImEzMyNj0BNCYrAUkBWj5aWj71HiodZfUUHx8U9TMC2Vk+tD5a9hUeHgFwHhW0FB4AAAIASQAAAjsDDAAhAEAAADcRND8BNjMyFhURFA4FBxczMhYVFAYrAScHBiMiJjcUOwE3JyY1NDYzMh4DFz4ENRE0JisBBwYVSUbhIC8ySggUDiMOLAUYQRUeHhWGJUsiLTJIZRUIbCUDHhUNFA8IDAIEHw4UCQ0KB+giewEaXj2+Hkky/uYXKSUZIg0kBD0eFBUeXkAeSTIWXF4HCxUeCxoRJAQEGQ0aHBEBGgkMwx4wAAAAAAIASQAAAjsDDAAZACMAADcRITIWHQEUBisBExYVFAYjIicDIxEUBiImEzMyNj0BNCYrAUkBWj5aWz06ywceFR0P6UUeKh1l9RQfHxT1MwLZWj40Plr+pA4LFR4ZAY/+ixUeHgHvHxQ0FR4AAAEASQAAAjsDDAAsAAA3NDYyFhUUFjsBMjUBJj0BNDY7ATIWFRQGIiY1NCYrASIdAgEWFQ4BKwEiJkkdKh4UDvkN/ooXQy75N1EeKh0VDvkMAXQZAkEv+TdQhxUeHhUOFA0B4iAmAy1CUDcVHh4VDRUKAwT+Ih4oL0NQAAABAEkAAAI7AwwAGAAAEzUhFRQGIiY9ASMRFAYjIiY1ESMVFAYiJkkB8h4qHWIeFBUeYR4qHQKFh4cVHh4VIv2MFR4eFQJ0IhUeHgAAAQBJAAACOwMMABsAADcRNDYyFhURFBY7ATI2NRE0NjIWFREUBisBIiZJHSoeHhTDFB8dKh5aPsM+WZcCQxQeHhT9vRUdHhQCQxQeHhT9vT5ZWQAAAQBJAAACOwMMABUAABM1NDYyFh0BGwE1NDYyFh0BAwYjIidJHSoelJQdKh7KDSIjDQIltRQeHhSh/oYBeqEUHh4UtP36ICAAAQBJAAACOwMMACsAADcRNDYyFhURFzM+ATcRNDYzMhYVER4BFzM3ETQ2MhYVEQcGKwEiJwYrASInSR0qHhwpAhQGHhUUHgYUAikdHSoeOQ8dYiASFR5hHg96AmAUHh4U/bswAyYKAUMVHR0V/r0KJgMwAkUUHh4U/aBhGSMjGQABAEkAAAI7AwwAIwAANzQ3EwMmNTQ2MzIXGwE2MzIWFRQHAxMWFRQGIyInCwEGIyImSQa4uAYdFR0Pm5oPHRUeB7i4Bx4VHQ+amw8dFR0zDQwBOgE6DA4UHhn++AEIGR4UDA7+xv7GDgsVHhkBCP74GR4AAAEASQAAAjsDDAAZAAATNTQ2MhYdARc3NTQ2MhYdAQcRFAYjIiY1EUkdKh6Ukx4qHsceFBUeAnNnFB4eFES+vkQUHh4UZ/7+vhUeHhUBQgAAAQBIAAACOwMMABMAADcBISImNTQ2MyEVASEyFhUUBiMhSAFo/ssVHR0VAcD+mAE1FR4eFf5BQAJnHhUUHkD9mR4UFR4AAAAAAgBJAAACOwMMABcAGwAANxE0NjMhMhYVFAYrAREzMhYVFAYjISImNzMRI0kdFQGNFR4eFcbGFR4eFf5zFR1kMDAzAqcUHh4UFR79vh4UFR4eRwJCAAAAAAEASQAAAjsDDAAPAAATNDYzMhcBFhUUBiMiJwEmSR0VHQ8BjQceFR0P/nMGAtoUHhn9WQ4LFR4ZAqcMAAIASQAAAjsDDAAXABsAADc0NjsBESMiJjU0NjMhMhYVERQGIyEiJiUzESNJHRXGxhUdHRUBjRUeHhX+cxUdAV0wMDMUHgJCHhUUHh4U/VkVHh5HAkIAAAABAEgAfwI7AmIAFAAANxM2MzIXExYVFAYjIi8BBwYjIiY1SM0NIB4OyAUeFRsOnZ4OGxUdvgGJGxv+gAwJFR4V7OwVHhUAAAABAEn/mwI7AAAADQAAFzQ2MyEyFhUUBiMhIiZJHRUBjRUeHhX+cxUdMhQeHhQVHh4AAAAAAQB6AagCCQMMABAAABM0NjsBMhcTFhUUBiMiJwEmeh4VYxoOywYeFRAQ/tYSAtoUHhP++gsNFR4MAP8PAAAAAAIASQAAAjsCOAAmADQAADc1NDY7ATIXNC4FKwEiJjQ2OwEyFhcTFAYjIiY1BwYrASImNxQWOwE3NTQmKwEiBhVJWD3BGBQBAQMGCxEMuhUdHRW6PVcCDR8VFB1KCg+VPVhlHBSHax8SwRMdljg+WAcHIQ8cDRAGHSoeVTz+ixUdHhQrB1g+FB0/LBIdHRQAAAIASQAAAjsDDAApAEMAADcRNDYyFh0BNjsBMh4FFxYdARQOBA8BBisBIi4BJxUUBiImNxQfARY7ATI+ATc2PQE0LgEnJisBIg8BBhVJHSoeRENLDRgYDhgHGwE1BA4HGgURESk4Sx02HRceKh1lEVYMFEsOFh4CEg0fARUUSxQMVhEzAqcUHh4U4kADCwUTBRcBLkTOEBsaDxoGDw4kFhcVDxUeHsIXDkoMDB4BDhfODhQaARMMSgsaAAAAAQBJAAACOwI4ACYAADc1NDc+AzsBMhYUBisBIg8BBh0BFB8BFjsBMhYVFAYrASIvASZJNAszITof0xUeHhXTFAxWERFWDBTTFR4eFdM5KVY04HhFLQkxGxkeKh0MSgsaeBcPSQweFBUeJEotAAAAAAIASQAAAjsDDAAtAEgAADc1NDY3Njc2OwEyHgQXNTQ2MhYVERQGIiY9AQ4CKwEiLgcnJjcUHgIXFjsBMj8BNj0BNC8BJisBIg4BBwYVSSonBQMpOEsQHhMeCB8CHSoeHiodFx02HksLExMOEQoRBhMCNGUMDRgEDxFLEg5WEhJWDBRLDhcaBBK1zjA7IAQCJAcHFAYcAecUHh4U/VkVHh4VEBYXFgIGBQoGDgURAitHDBYMEwMMDEoNGHgVEEoMDRoDEBYAAAAAAgBJAAACOwI4ADQAQQAANzU0PgE3NjsBMh4GHwEWHQEUBiMhFRQeAhcWMyEyFhUUBiMhIi4HJyY3ITU0JisBIg4BBwYVSSAaHyk4fQoTFAwUBxQECws1HhX+pgwNGAQPEQEFFR4eFf77CxMTDhEKEQYTAjRlASg8Gn0OFh4CEbXOIzwYGiQCBgQMBBECCgouRHwVHh8MFgwTAwweFBUeAgYFCgYOBRECK8tKGjYMHgEOFwAAAQBhAAACIQMMACQAABI0NjsBNTQ2OwEyFhUUBisBIgYdATMyFhQGKwERFAYiJjURIyJhHRUxaEp5FR0dFXkgLWMUHh4UYx0qHjEVAfAqHiJKaB4UFR4tICIeKh3+YBUeHhUBoAAAAAACAEn/LAI7AjgAQgBZAAA3NTQ+CDc2OwEyHgQXNTQ2MhYVERQOBA8BBisBIiY0NjsBMj4BNzY9AQ4CKwEiLgMvASY3FBY7ATI/ATY9ATQvASYrASIOAQcGFUkDAwsEEAQVAxcBKThLEB4THggfAh0qHgQOBxoFEREpONMVHh4V0w4XHAMSFx42HUsPHxIeBxARNGQ7G0sUDFYSElYMFEsPFxgGEuCjCxYQFAoTBhIDEwEkBwcUBhwBEhUeHhX93BAbGg8aBg8OJB0qHg4aAw4XjRUYFwcGFQUPDi1FGzYMSg4XThUQSgwOGAQSFAAAAAABAEkAAAI6AwwAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMCpxQeHhT3PRhVPP6MFR4dFAFzExxp/skVHh4AAgB6AAACCQM2ABoAKgAANzQ2OwERIyImNDY7ATIWFREzMhYVFAYjISImEzU0NjsBMhYdARQGKwEiJnoeFWNjFR4eFZUUHmIVHh4V/tcVHmMeFTIUHh4UMhUeMxQeAW4dKh4eFf5gHhQVHh4CvCoVHR0VKhUeHgAAAgB6/ywCCQM2AB8ALwAAFzQ2MzIeAjsBMjY1ESMiJjQ2OwEyFhURFAYrASImJxM1NDY7ATIWHQEUBisBIiZ6HhUUGAkZFWIUH5UVHh4VxhUeWT5iOFYI+B4VMRUeHhUxFR5NFR4bHxsdFAIRHSoeHhX9vT5YSjUDLyoVHR0VKhUeHgAAAQBJAAACOwMMAB8AADcRNDYyFhURJTYzMhYVFA8BFxYVFAYjIiclBxUUBiImSR0qHgEIDhIVHhLL/RIdFRMP/vcwHiodMwKnFB4eFP5x4QweFRcPrtgPFxUeDOMqkhUeHgAAAAEAegAAAgkDDAAbAAA3NDY7AREjIiY1NDY7ATIWFREzMhYVFAYjISImeh4VYmIVHh4VlRQeYhUeHhX+1xUeMxQeAkIeFRQeHhT9ix4UFR4eAAAAAAEAQQAAAkICOAAuAAA3ETQ2MzIWFzYzMhc3NjMyFhcTFAYjIiYnAyYrAQcRFAYjIiY1ETQrAQcRFAYiJkEdFRAbBSktPSQWISovSAEPHRUUHgEOAg8GRB4UFR4WCEseKh0zAdIVHhQPIzASG0Iv/m8VHh0UAY8TOv6aFR4eFQGKFkH+oRUeHgABAEkAAAI6AjgAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMB0hUeHhUiPRhVPP6MFR4dFAFzExxp/skVHh4AAgBJAAACOwI4ACYAQAAANzU0PgE3NjsBMh4FFxYdARQOBA8BBisBIi4EJyY3FB4CFxY7ATI+ATc2PQE0JisBIg4BBwYVSSAaHyk4fQ0YGA4YBxsBNQQOBxoFEREpOH0QHRQbCxsENGUMDRgEDxF9DhYeAhI8Gn0OFh4CEbXOIzwYGiQDCwUTBRcBLkTOEBsaDxoGDw4kBwcSCBgDK0cMFgwTAwwMHgEOF84aNgweAQ4XAAAAAgBJ/ywCOwJNACwASgAAFxE0NjIWHQE+CDsBMh4BFx4EHQEUDwEGKwEiLgEnFRQGIiYTFB4CFx4CFxY7ATI/ATY9ATQvASYrASIPAQYVSR0qHgITBhIKEg8TFQsVHTcbGQIwDB0KNVYpORUfNyAVHiodZQoKFQMHGBQJDhUVFAxXERFXDBQVFQ5aDqICvRQeHhQbAhQFEQYNBQcCGBUXAikPJiYXoUQuSiQYHBfYFR0dAZIMFQsSAwcZFAgODEoNGKEYDUsMDlsLFwAAAgBJ/ywCOwI4AC0ASAAANzU0Njc2NzY7ATIeBBc1NDYyFhURFAYiJj0BDgIrASIuBycmNxQeAhcWOwEyPwE2PQE0LwEmKwEiDgEHBhVJKicFAyk4SxAeEx4IHwIdKh4eKh0XHTYeSwsTEw4RChEGEwI0ZQwNGAQPEUsSDlYSElYMFEsOFxoEErXOMDsgBAIkBwcUBhwBEhUeHhX9WRUdHRXlFhcWAgYFCgYOBRECK0cMFgwTAwwMSg0YeBUQSgwNGgMQFgAAAAABAEkAAAI7AjgAHwAANxE0NjIWHQE3NjsBMhYdARQGIiY9ATQmKwEHERQGIiZJHSoedwsSYz1ZHiodHRRRph4qHTMB0hUeHhU7ZghZPRwVHR0VHBQdj/7vFR4eAAEASQAAAjoCOAA0AAA3NDYzMhYXHgE7ATI2NTQnJS4BNTQ3NjsBMhcWFRQGIyImKwEiBhUUFwUeAR0BDgErASInJkkcFRImCQIUBMsYGx3+6yIqJSY11kswCh4VEi0T1g0PEAEWJjUBWj+9ST4TXRUdHQMBCSAWIg14D0MnMyQmPw0RFR4rEgsSBngRTS4CP1k1EAABAEkAAAI7AuIAKgAAEjQ2OwE1NDYyFh0BMzIWFAYrAREUFjsBMj4CMzIWHQEOASsBIiY1ESMiSR0VMR0qHsUVHR0VxRwUZBQZCRkUFR4KVTdkPVgxFQHwKh53FR4eFXceKh3+wxQdGx8bHhUINEtZPQE9AAEASQAAAjsCOAAgAAATNDYzMhYVEx4BOwE3ETQ2MhYVERQGIiY9AQcGKwEiJidJHRUUHg0CGxRHpB0qHh4qHWEmKzk8WAICBRUeHRT+jRQbaAE4FR4eFf4uFR4eFSM+GFU7AAABAEkAAAI7AjgAGgAAEzU0NjIWHQEbATU0NjIWHQEUBwMGKwEiJwMmSR0qHpOVHSoeBacNIT8hDacEAbBVFR4eFUr+rQFTShUeHhVVCgr+gh4eAX4IAAAAAQA+AAACRQI4ACsAABM0NjMyFhcTFzc1NDYzMhYdARc3Ez4BMhYdAQMHDgErASIvAQcGKwEiJi8BPh4VFB0BCiBCHhUUHkIgCgEdKB8LMwUbETEdDzc4Dx0xERsFNAIEFR8dFP7dbHJyFB4eFHJybAEjFB0eFAL+yqoQFBlfXxkUELYAAQBJAAACOwI4ACMAADc0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiMiJkkKraEMHhUXEJWUEBcVHgyhrQseFRgPn6APGBUdMxMN0MIPERUeE7OzEx4VEQ/C0A4SFR4SwcESHgAAAQBJ/ywCOwI4ACMAABY0NjsBNyMiJwMmPQE0NjIWHQETMxM1NDYyFh0BFAcBBisBIkkdFWdDFSIMlQQdKh6DIIQeKh4F/vwNIogVtyoemR8BUwgMVRUeHhVK/tQBLEoVHh4VVQoK/a4eAAAAAQBJAAACOwI4ABwAADc1NDcBISImNDYzITIWHQEUBwEhMhYVFAYjISImSQ8BYP7bFR0dFQF1FR4Q/qEBPBUeHhX+cxUdMyoXDQFSHSoeHhUqFRD+rx4UFR4eAAABAEkAAAI7AwwAKgAAEjQ2OwEyNj0BNDY7ATIWFRQGKwEVFAcWHQEzMhYVFAYrASImPQE0JisBIkkdFWEWHT0olBUeHhWUJyeUFR4eFZQoPR4VYRUBcSoeHRW8KTweFBUevDksLDm8HhQVHjwpvBQfAAAAAAIBDwAAAXQDDAAIABEAACURMxEUBiMiJhkBNDYzMhYVEQEPZR4UFR4eFRQeMwEh/t8VHh4BmwEhFB4eFP7fAAABAEkAAAI7AwwAKgAANzQ2OwE1NDcmPQEjIiY1NDY7ATIWHQEUFjsBMhYUBisBIgYdARQGKwEiJkkdFZQnJ5QVHR0VlCk8HRViFR4eFWIVHTwplBUdMxQevDksLDm8HhUUHjwpvBQeHiodHxS8KTweAAAAAAEASQGqAjsDCwAmAAATNTQ2MzIWHQEUFjI2PQE0NjIWHQEUBiMiJyY9ATQmIgYdARQGIiZJXTw6WB0oHR0qHlw9PCssHSgcHiodAgVvQVZYPzQUHx8UbxUeHhVvQVUrLj00FB4eFG8VHR0AAAEAcQAAAmMDDAATAAAzETQ2MhYdATMRIREUBiImPQEjEXEdKh5hASweKh1iATEVHh4VzAKn/s8VHh4VzP1ZAAABAHEAAAJjAwwAFQAANxEhETQ2MhYVERQGIiY1ESERFAYiJnEBjR0qHh4qHf7YHiodMwGGASEUHh4U/VkVHh4VASH+3xUeHgABAHEAAAJjAwwAGAAAExE0NjIWFREhETQ2MhYVESMRFAYjIiY1EXEdKh4BKB0qHsceFBUeAVQBhhQeHhT+3wEhFB4eFP56/t8VHh4VASEAAAEBN/+bAZwEUgADAAAFETMRATdlZQS3+0kAAAABAFf/5wJ8AyUAAwAAFxEhEVcCJRkDPvzCAAAAAQDtAAAB5gD6AA8AADc1NDY7ATIWHQEUBisBIibtHRWVFR0dFZUVHTOUFR4eFZQVHh4AAAEAcQAAAmMDDAAeAAATNDcBNjIfARYdARQHBRUUBiImPQE0NyU1JwUGIyImcREBKg8kD2MSEv7oHiodEQEZMf73DxIVHQHbGA4A/wwMVQ8XVRcQ7+cVHh4V/hkO7yYq4wweAAABAQMBqAHRAwwAEwAAATQ2OwEyFhUUBhUDFAYiJjU0NjUBAyAVYxQiATMfKCEBAtoUHhoSAQQB/wAUHhoSAQQBAAAAAAEA1AAAAf8BZAAUAAATNTQ2OwEyFh0BFAYrASImPQEjIibUHRXHFR0dFTIVHWMVHQEHKhUeHhX+FR4eFaEeAAABAHEBVAJjAbkACwAAEjQ2MyEyFhQGIyEicR0VAY0VHh4V/nMVAXEqHh4qHQAAAAAAAA4ArgABAAAAAAAAAFYArgABAAAAAAABAAQBDwABAAAAAAACAAcBJAABAAAAAAADACEBcAABAAAAAAAEAAUBngABAAAAAAAFAAoBugABAAAAAAAGAAQBzwADAAEECQAAAKwAAAADAAEECQABAAgBBQADAAEECQACAA4BFAADAAEECQADAEIBLAADAAEECQAEAAoBkgADAAEECQAFABQBpAADAAEECQAGAAgBxQBNAGEAdAB0AGgAZQB3ACAAUwBrAGEAbABhACAAKAAyADAAMQAxAC0AMQAyACkAOwAgAGIAYQBzAGUAZAAgAG8AbgAgAGMAbwBkAGUAIABiAHkAIABSAGkAYwBoAGEAcgBkACAAQgAuACAAVwBhAGwAZQBzACAAKAAxADkAOAA4AC0AOAA5ACkAIABhAG4AZAAgAFQAbwByACAATABpAGwAbABxAHYAaQBzAHQAAE1hdHRoZXcgU2thbGEgKDIwMTEtMTIpOyBiYXNlZCBvbiBjb2RlIGJ5IFJpY2hhcmQgQi4gV2FsZXMgKDE5ODgtODkpIGFuZCBUb3IgTGlsbHF2aXN0AABPAEMAUgBBAABPQ1JBAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABGAG8AbgB0AEYAbwByAGcAZQAgADIALgAwACAAOgAgAE8AQwBSACAAQQAgADoAIAAyADcALQA5AC0AMgAwADEAMgAARm9udEZvcmdlIDIuMCA6IE9DUiBBIDogMjctOS0yMDEyAABPAEMAUgAgAEEAAE9DUiBBAABWAGUAcgBzAGkAbwBuACAAMgAgAABWZXJzaW9uIDIgAABPAEMAUgBBAABPQ1JBAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAbAAAAAEAAgADAAQABQAGAAcACAAJALcACwAMAA0ADgAPABAAEQASABMAFAAVABYAFwAYABkAGgAbABwAHQAeAB8AIAAhACIAIwAkACUAJgAnACgAKQAqACsALAAtAC4ALwAwADEAMgAzADQANQA2ADcAOAA5ADoAOwA8AD0APgA/AEAAQQBCALYARABFAEYARwBIAEkASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEBAgEDAQQBBQEGAQcBCAEJAQoBCwd1bmkyNDQwB3VuaTI0NDEHdW5pMjQ0MghTRjExMDAwMAtibGFja3NxdWFyZQpwZXJpb2QuYWx0DHF1ZXN0aW9uLmFsdA9xdW90ZXNpbmdsZS5hbHQJY29tbWEuYWx0Cmh5cGhlbi5hbHQAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQADAGsAAQAEAAAAAgAAAAEAAAAKAEQAogACREZMVAAObGF0bgAkAAQAAAAA//8ABgAAAAEAAgADAAQABQAEAAAAAP//AAYAAAABAAIAAwAEAAUABmFhbHQAJnNzMDEALHNzMDIAMnNzMDMAOHNzMDQAPnNzMDUARAAAAAEAAAAeAAEAAQAcAAEAAgAaAAEAAwAYAAEABAAWAAEABQAAAQAAAAEBAAABAgAAAQMAAAEEAAYADgAWAB4AJgAuADYAAwAAAAEAMAABAAAAAQBkAAEAAAABAGgAAQAAAAEAbAABAAAAAQBwAAEAAAABAHQAAQAuAAUAEAAWABwAIgAoAAIACgBpAAIADwBqAAIAEABrAAIAEQBnAAIAIgBoAAEABQAKAA8AEAARACIAAQAGAFYAAQABABEAAQAGAEYAAQABACIAAQAGAF8AAQABAAoAAQAGAFsAAQABAA8AAQAGAFsAAQABABAAAQAAAAoALAAuAAJERkxUAA5sYXRuABgABAAAAAD//wAAAAQAAAAA//8AAAAAAAAAAAABAAAAAMw9os8AAAAA1gbbzAAAAADaAyOv");u1.loadFont("OCR-B",96,100,"AAEAAAAPAIAAAwBwRkZUTXxHn14AADmUAAAAHEdERUYAkwAEAAA4IAAAACBHUE9TuP+4/gAAOWQAAAAwR1NVQnZYZVQAADhAAAABJE9TLzJa+GPlAAABeAAAAGBjbWFwzJGg2QAAA2QAAAFCZ2FzcP//AAMAADgYAAAACGdseWbm+CwyAAAFeAAALwRoZWFkFgqHXQAAAPwAAAA2aGhlYQeFAeAAAAE0AAAAJGhtdHgIFCYVAAAB2AAAAYpsb2NhZAZYlAAABKgAAADObWF4cACtAGkAAAFYAAAAIG5hbWWukZg3AAA0fAAAAnlwb3N0tfQXywAANvgAAAEdAAEAAAACAADO4NltXw889QALA+gAAAAA2gMiKgAAAADaAyIqAA7/GQLWAwsAAAAIAAIAAAAAAAAAAQAABFL+sABaAtMAAP/9AtYAAQAAAAAAAAAAAAAAAAAAAF8AAQAAAGYAZgAFAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAsMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAAK8AAABoAAAAAAAAAABQZkVkAEAAIAB+AyD/OABaBFIBUAAAAAEAAAAAAiAC+QAAACAAAQLTAAAAAAAAAtMAAALTAAAC0wD1AtMAdALTAEQCvwA/Ar8APwLTAEQC0wDnAtMA0wLTAIgC0wBEAtMARALTAHIC0wBEAtMAxALTAIACvwA/AskAXgK/AFACvwA/Ar8APwK/AFkCvwA/Ar8APwK/AD8CvwA/AtMA1gLTAG8C0wBBAtMARALTAEEC0wBgAtMARAK/AEUCvwA/Ar8AbwK/AHICvwBtAr8AoAK/AEcCvwBbAr8AeAK/AFACvwBNAr8AWwK/AD8CvwBNAr8AQgK/AFsCvwBBAr8AZwK/AGECvwA/Ar8ATQK/AD4CvwA/Ar8AUwK/AFYCvwBbAtMApQLTAIAC0wBVAtMARALTAEQC0wC2Ar8ATQK/AEoCvwB1Ar8APwK/AE0CvwBhAr8AQgK/AGoCyQCDAskAZwK/AHsCyQDLAr8APwK/AE0CvwA/Ar8ASgK/AD8CvwCaAr8AZwK/AE0CvwBNAr8AQgK/AEECvwBhAr8APwK/AGEC0wBEAQwARABSAnICBgG2AA4AAAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAAB+//8AAAAg////4wABAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALABiAMYBUAG6AkICYgKMArQC8gMaAzoDVgNwA5QEEgQ2BIgE2AUSBVYFngXSBjQGegaoBtwHDAcyB1oHxAhUCIQI2glACXgJrAnaCjQKYgqYCswLAgskC2QLlgvuDB4MgAzODUQNbA2eDcgOEg5ODoAOsg7WDvoPHA9ED2APgg/eECoQaBCyEPgRLBGUEdISAhJOEoASqBLyEygTVhOiE+gUIhSYFN4VGBVGFYYVvBXyFiAWbBaEFs4XDhcmF0QXaheCAAAAAgD1/7wBfQL9AA8AGwAAFzU0NjsBMhYdARQGKwEiJhMRNDYyFhURFAYiJvUbEi4SGxsSLhIbFxskGxomGhcuEhsbEi4SGxsBcgGHExobEv55EhsaAAAAAAIAdAHHAgkC/QASACMAABM1NDY7ATIXFhUwFQ8BDgEjIiYlNTQ2OwEyFxYdAQcOASMiJnQbEh0SDg4BHQIZEhEcASQbEhcRDg4ZBBYREhsB9NwSGw0MDwEC5BAXGxLcExoNDBAE5RAUGwAAAAIARP/4Ai4DAABEAEgAADc0NjsBNyMiJjQ2OwE3PgEzMhcWFQczNzYzMhYdAQcXHgEVFAYrAQczMhYUBisBBw4BIyImPQE3IwcOASMiJyY1NycuATczNyNEGhMVJicSGxoTOygDGRASDQ4liCgNHxIbIwUQFxsSFCUlExobEjopAxoPEhskhykDGRASDQ4mBRIXnoglh/4TGqcaJhqxDhUODhCosSMaEwqcAQMZERIbpxskG7YOFRsSCqK2DxQODRGsAQIaPqcAAwA///sCHwL9AEcAWABfAAA3JjU0NjMyFxYXFhczNScuAScuAjU0NzY/ATU0NjIWHQEXFhcxFhUUBiMiJyYvARUXFhcWFx4BFRQHBg8BFRQGIiY9ASMmJxMGFRQXFhcWFxYXHgIfATUTNzY1NC8BQQIbEhYVFwwYLQUEIS4cGyIWNjZSBBoiGgRpOAkbEhcOITUGBCwcHR8fHjc3UwQaIhoFlSi8YwMECAgFBgwMChwCB1YGZWQHoAUMExodIQYNBNwBChEPDyQ2IkwqKwoBCRMaGxIJAQ5SDA4SGhMsCwHFAQ4MDBYVPytNMDENAQYSGxoTBw1kAcoORQsKCggHBQUGBgUKAQKq/iABFEo8JAIAAAAABQA///gCHwMAAA0AHAAoADcARwAAJSIVFBcWHwEzMjc2NTQHJjU0NzYzMhcWFAcGIyIDIhUUFzsBMjc2NTQHJjU0NzYzMhcWFAcGIyICJjU0NwE2MzIWFRQHAQYjAaIhBQUOAQgRCQl6HyAfNzogICAgOjiuIxgBChEJB3wgISA6Nx8fHx83OycbBgGMDRQSGwb+exAYtTIPDxABAhAPEjKVKDg5KyspKXIqKQKuMikIEA8SMpUoODkrKykqcikp/hQbEw0JAq0MGxIMCv1dFwAAAAADAET/9wIuAwAAQgBOAFwAADc0PwEnJjU0NzYzMhcWFRQHDgEHDgIPARc3NjU0NjIWFRQPARcWFx4BFxYVFAYjIicmJyYnJicmJyYvAQcGKwEuATcUFzMyPwEnBwYHBhMUHwE3Njc2NTQnJiMiRF8EA0Q1NVhKNTQJChQYFxY+BASXBBUcJBs3AgICBwcHAwMbEgYFBgQDBAUCAQUGAQMEPlEGYnVafwYwKAShBRwPEBwwAwRMHiAcGyJozXJUAwRdVVQwMCgmRBsaGyMXGBMuAwPSCDRFExscEnxTAwIFCAgKCQgIEhsCAgEBBQUCAQcIAgICJwFyYnkCFwLhBB0bGwFXOEQEAzYlJx0eDgwAAAEA5wGIAY0C/QASAAATNDY7AR4BFTAVBwMGKwEiJyYn5xsSURAXARUIJCISDQ0BAtATGgIZDwEB/twlCwoRAAABANP/+AHpAwAAGQAAEzU2NzYzMhYVFAcGBwYHFRQXFhUUBiMiJybTA80LDhIbFE4sLQGoFBsSDgvQAXMG8I8IGhMXDjNKS20FvmsOGBMaB4wAAAABAIj/+AGfAwAAGAAANzQ3NjU0LwEmJyY1NDYzMhcWFRQHBiMiJogUqakBBwYGGxIOC9HRCw4SGyUYDm7AwnMBAgwMChIbCJDv7I4HGwAAAAEARACeAi4ChQAqAAATNDc2Mxc1NDYyFh0BNzE2MzIWFRQPARcWFRQGIyIvAQcGIyImNTQ/AScmRA4OEZsbJBuNBggSGyB6UAUaExQMV3AMFBMaCV6MHwG+Eg8OM54TGhsSni4DGxIgCymICwwTGguWlgsbEg0Ofy4MAAABAEQAagIuAo0AGwAAEjQ2OwE1NDYyFh0BMzIWFAYrARUUBiImPQEjIkQbEpsaJhqbEhsbEpsbJBubEgFpJhq3ExobErcbJBu4EhsaE7gAAAEAcv9NAeYAygASAAAXNDcTNjsBMhYdARQHAwYrASImcgWyDBVvEhsN/gwUHBMahgwKAS4MGhMfEwz++w0aAAABAEQBQQIuAbcADwAAEzU0NjMhMhYdARQGIyEiJkQaEwGQExoaE/5wExoBbhwTGhsSHBIbGgAAAAEAxP/7Aa0AtgAPAAA3NTQ2OwEyFh0BFAYrASImxBsSjxIbGxKPEhsoYRIbGhNhExobAAABAID/+AHyAwAAEwAANzQ3MwE+ATMyFhUUByMBDgEjIiaAAwEBGAQYDRIbAwH+6AQYDRIbJQoHAq4MEBsSCgf9UgwQGgAAAAACAD//+AIfAv8AJQBUAAAFIyYnLgEnJicmNTQ2Nz4BNz4CMzIeARceARceARUUDgUDFRQWFxYXHgE7ATI2Nz4BNz4BPQE0JicmJyYnJicmJyYnLgEjIg4CBw4BBw4BATMEOywsNA8QBQUDBgYVEhIySC4tSDITEhUGBgMEDRQmMEbFBQkIEBA4KBUcLA0OEgQFAwEBAQMDBQUICAsMDg8nGBknHhcICAoCAgMIARMSOy8vMC9AOVEvMEEhICYYGCYgIUIvL1I4KEFMOTYkFgGwUi1AJSUXGB8XFhUxHyA0Hy4fJRwdEBEXFw4ODw8ICQoLFB0SESkXFi8AAAABAF7/+wGMAv0AFQAAEiY1ND8BNjsBMhYVERQGIiY1EQcGI3gaDbcNECASGxskG4kNEQIJGxIVCp0LGxL9WBIbGhMCYXULAAABAFAABgILAwAANwAAEiY1NDc2MzIXFhUUBw4BBw4BBw4BBwYHBgcVITIWFAYjISImPQE0NzY3Njc2NzY1NCcmIyIHBiNrGxNbcVs9Pg0NISAgISMmIhgYCwsCASgTGhsS/qoSGwoRLy9EXhkcJSM0Wj4LDwJyGxEZDTw6OV0lIiMsGxsYFxkaGhkgHysFGyQbGxIVTiI8LzAuPyQkKDUhICwIAAEAP//4AhYC/AA3AAA3JjU0NjMyFxYzMjc2NzU0JyYnJiMiJjU0PwEhIiY0NjMhMhYdARQPARcWFxYdAQYHBiMiJyYnJlQVGxIGC0BGTDQ1BCAeLCs1ERoJuP7nEhsaEwFhEhsOoQhVNjUFUE5wHBwcIyMeEBgTGwQdJidKCjMkIw8OGxMSCswbJhobEiQQDrECFjs7WRBtQEADAwcIAAABAD//+wIfAv0AKAAANiY9ATQ3Ez4BMzIWFRQHAzM1NDYyFxYdATMyFhQGKwEVFAcGIiY9ASNaGwXVBBYMEhoFyMMaIg0OOhMaGxI6Dg0iGvWpGhMrCAsBzwsPGxIKCf5GeRIbDg0SeRskG4ESDQ4bEoEAAAIAWf/4AfcC/AAqAC0AABYmNDYzMjc2NTQnJiMiByMiJj0BEz4BMyEyFhQGKwEHMzIXFhUUBwYHBiMSIjN0GxsSyjsSIi1xHyAEEhsOAhkSARwTGhsS8ggTf01OFxgkYL4YAQEIGicacSIfSSU1AxkSAwD/EhgbJBydQUB+NS4vIVoBrQAAAAACAD//+AIfAv0AHwAvAAA3Jic1NDc2Nz4BNzYzMhYVFAcGDwE3NjMyFxYVFAcGIgMGFRQXFjMyNzY1NCcmIyKFQwNFHCgnNjILFBEaC3E1BwsdHm1BQkRE0AYoKilDQikrJyZJRzlBawx9ci80NT85DRsSEQ6ATQoCBkRFdGlCQgFkK0xEKCcoKENOKisAAAABAD//+wIfAvwAHwAAEiY0NjMhMhYVFAcGBwYHBhUUBiImNTQ3Njc2NzY/ASFaGxoTAYYTGjsSNDQWQRoiGkwXNDURGAkC/q8CoRsmGhsSTFkcQUIpeMETGxoU2o0pRUYaKBQHAAAAAAMAP//3Ah8DAAAVACQAQgAAEwYVFBYXHgEXOwE2NzY3PgE1NCcmIhMGFRQXFjsBMjc2NTQvAQMmNTQ/AScmNTQ3NjMyFxYVFAcGDwEXFhUUBgcjIuEmEhUUGxwCAhwODhQUEiYlUimXLSpAFDUmJ5ICrUWOBgZsQD9PTkBAHB0zBgaOdFIqZwKSFCYZJhAPEA4NCAgPECcZJhQU/s9PXjgfHyMjMF9OAv67Olx5YgQEQmtJLzAwMEg7KSghBARieU96BwACAD//+wIfAwAADwAtAAATBhUUFxYzMjc2NTQnJiMiAyY1NDc2MzIXFhUUBwYHBgcGIyImNDc2PwEHBiMixSwqKER3FQoqKUM/bURIRmJlRUYVFSZTeA0PERoOX0QFChogagJ1MENBKShJIShLLC3+tENlaEtLRkZyRzk5QpFvDBomDltuCgIEAAAAAAIA1v/7AZwCEAAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm1hsSbBIbGxJsEhsbEmwSGxoTbBMaKFATGhsSUBIbGgF+UBMaGxJQEhsaAAAAAgBv/1IBswIQABIAIgAAFzQ/ATM2OwEyFhUUBwMGKwEiJhM1NDY7ATIWHQEUBisBIiZvA3wBCR9vEhsBzA4RKxIbexsSbBIbGhNsExqBDAf9GRsSDgP+9Q0aAidQExobElASGxoAAAABAEEARQIuArMAHQAAEy4BJyYnLgE1NDcBMDE2MzIWFRQHDQEWFRQGIyInTwEGAQECAQIOAZkLDhIbDf6hAV8NGxIOCwFcAQUBAgMECAcREAEPCBsSFwnq6g4SEhsIAAACAEQA3QIuAhsACwAXAAA2NDYzITIWFAYjISImNDYzITIWFAYjISJEGxIBkBIbGhP+cBMaGhMBkBMaGxL+cBL3JhobJBv+JhobJBsAAQBBAEUCLgKzABcAAAkBBiMiJjU0Ny0BJjU0NjMyFzAxARYVFAIg/mcLDhIbDQFf/qENGxIOCwGZDgFc/vEIGxISDurqCRcSGwj+8RAREgACAGD/vAH1AwEAOQBLAAATNTQ2NzYzMhcWHQEOAQcGBwYHBhUUBwYiJjU0NzY3Njc2NzY3NjU0JyMiJyYrAgYdARQHBiMiJyYTNTQ2OwEyFh0BFAcGKwEiJyZgPi8vNlA6OQEsHwcUFgkJDg0kGwoKCwwUFQgSEBFTAQUICgQDAW4NDRMSDQ2UGxIuEhsODRIuEg0OAjQMPFsVFTAwWAIxZCMIExQOCwsUDw8dFRoYFw4OFBUKEyIiG0IVAQIOUgkUDw4ODv3MMRUdHRUxFA8PDw8AAAIARP/yAi4DBABKAGUAADc1NDcyHwE3NjMyFxYVERY7ATY3Njc+AT0BNCYnLgEnJicmKwEGBw4BIyInJj0BNjc2NzMyFhcWFx4BHQEUBwYHBiMiLwEHBisBJjcUFxYXHgEXMzI3Njc9AiYnJiMiBwYHDgEVRIgvJwUCDhkSDQ4CHAETDQwEBQMDBQUXEBEbGyMJggsCGRETDQ0MPT9eCTpZGxsREQ0KCiMmNzYdAwQrPQiMWgEBBQQYEwYcEQ8NDRcXHBALCgMEAtIB7wIdAwUYDw8T/vk2AQwNFhUmHZgqPyYlNBcYDAwGVxIYDg8VB1ItLgMqIyM1NXBGfFsxMCInJgQDKAXWGw8QFBUVAREQHQGMARoTFAwMFhQiGAAAAAIARf/1AhoC9gAZABwAABYmPQETPgE7ATIWFxMUBwYjIiYvASMHDgEjEwMzYBufBBgOQg0XA6MODhIPGQMtyywDGQ+9T54LHRUOAp4OFREM/U0TDw8VD8PDDxUCov6qAAMAPwAGAh8C/QAhACsAOQAANiY1ETQ3NjsBMhcWFxYXHgEVFA8BFx4BHQEUBgcGBwYrARMVNzI9ASYnJiMDFRcyPQEmJyYnJicmI1obDQ0TpyQVFR4dFiwyOgQEIicnJCUvLz6nLXqyASspQZaWiAMODRgYGRkkBh0VApIWDw4BAgcIDRxiOVo4BAQeWDACMlkfHwsLAVr1AXwBPh0cATrVAWMLIRUWCwoDBAABAG//8gHwAwsARQAAEyYnNTQ2NzY3Njc2NzMyFxYXFRQHBiMiJyYnJicwMSYrAQYRFR4BFxYXFhceATMyNzY3PgEzMhcWHQEGBwYjIicmJyYnJnYGAQ0QERkYJyQvBTsuLQ0NDRITCQsICQsVHQWBAQQFBAoJDg4tHBwTFgQDGRASDQ0KLS09MiUoGBkREQD/NT8OQGw0MyUkFhYCJiY9ChQPDw0NFRYKEgf+6RIlOiMkGhoXFxoPDxoSFw8PFAo8JiYVFSQkMzMAAAACAHIABgIFAv4AFAAhAAA3JjURNDc2MzIXFhcWFRQHBgcGIyITJxE3Njc2NTQnJicmgA4NDRNmQ0M1RUhGayJLEkUGBmU5OyEgMysVDxUCkxQPDyssTmiFi19eFwcCkQH91AELQUB1UkFAKyQAAAAAAQBtAAYCEwL7ACIAADYmNRE0NzYzITIXFhQGIyEVMzIXFhQHBisBFSEyFxYUBiMhiBsNDRMBTBMNDRsS/uHvEg0ODQ0T7wEfEw0NGxL+tAYdFQKRFQ8ODg8qHdQPDykPDvUODyodAAABAKD/9QICAvoAHgAANyY1ETQ3NjMhMhcWFAYrARUzMhcWFAcGKwERFAcGIq4ODQ0TAQgTDQ0bEtuuEg0ODg0Srg4NJAQPFQKgFA8PDg8qHdQPDygPD/7KFQ8PAAEAR//xAg4DCAA+AAA3Jj0BNDc2NzYzMhcWFxYVFAYjIicmIyIHBgcGFRQXHgEzMj8BNSMiJyY0NjsBMhYVERQHDgEHDgEHBiMiJyZeFxcXLEZeExNYNwsbEhQOK0M+Kh8PEBwSTDUuMgNyEgwNGhGfEhsHCBIREhEQLC5sQivEV2MDYVNUME8DEEgOExQdETYxJD4+SWlYODoUAckODykdHRX+6Q4LDA4ICAYFDk0wAAAAAAEAW//1AgIDBAAdAAAWJjURNDc2MhYVETMRNDc2MhYVERQGIiY1ESMRFAZ2Gw4NJBvzDg0kGxskG/MbCx0VAqoVDw8dFv7lARsVDw8dFv1WFR0dFQEt/tMVHQAAAQB4AAYB5gL6ACMAADcmNDc2OwERIyInJjQ3NjsBMhcWFAcGKwERMzIXFhQHBiMhIoYODQ0TYEwSDQ4NDRPsEw0NDg0STGATDQ0ODRL+7BIVDykPDgIsDw8oDw8PDygPD/3UDg8pDw8AAAAAAQBQ//ABpQMHACMAADYmNTQzMhcWHQEGFRQXFjMyNzY1ETQ2MhYVERQXFBUUBiMiJ4Y2MBMMDQIcGiAeFRcbJBsBZ0EpJyBXN04ODxUKDAQpGhoYGS0CJBUdHRX95wMFBAJMchcAAAABAE3/9QIfAwcAHwAANyY1ETQ2MhYVEQE2MhYUBwMBFhUUBwYjIicBERQHBiJbDhskGwEUDiQbDvwBEw4ODRITDf7VDg0kBA8VAq0VHR0U/ucBOw8dKRD+3P6+ERIVDw8OAVv+yRQPDwAAAAABAFsACwIfAwcAEwAANyY1ETQ2MhYVESEyFxYUBwYjISJpDhskGwE9Ew0NDg0S/pYSGg8UApkUHR0U/ZkPDygPDwAAAAEAP//1Ah8DBAAoAAAWJjURNDY7ATIXFhcbAT4BOwEyFxYVERQGIiY1EQMGBwYjIiYnAxEUBlobGxJNDgwLBE1NAxgOTRINDhskG2wGCwoPDhcEbRsLHRUCqhYdCgsO/uUBGw4VDw8V/VYVHR0UAmv+cxAKChQPAY79lRQdAAAAAQBN//UCEQMIAB8AADcmNRE0NjsBMhYXExE0NjIWFREUBwYrASInAxEUBwYiWw4bEiUMFwXwGyQbDg0SJhwM7w4NJAQPFQKtFR0PDf3JAiMUHR0V/VMVDw8bAjf93xQPDwAAAAIAQv/yAhwDBwAeADkAADYmPQE0PgE3Njc2MzIXFhceAR0BFAYHBgcGIyInJicSBh0BFBYXFhcWMjc2Nz4BNTQmJyYnJiIHBgdkIhEmHRsoJy81LS4eHiEhHR4uLTY1LS4eLBESEREdHkgeHREREhERER0eSh8dEKuLRwM2bWcnJxcYIiE4OItJA0eLOjkjIyMjOQGdYSwELmItLx4fHx4vLWMtMWQtLR0dHh4vAAAAAgBb//UCHwL8ABUAHwAANyY1ETQ3NjsBMhcWFRQHBisBERQGIhMVMzI3NTQnJiNpDg0NE6hoQ0QmPYx7GyQ/e5AFKSdFBA8VAqEVDw85OWxRNVj+6BYdAqP1dAdEGxsAAgBB//UCHwMIACMAQwAANyY9ATQ3Njc2OwEyFxYXHgEVFA8BFxYVFAYjIi8BBwYjIicmEgYdARAzMj8BJyY1NDc2MzIfATc2NTQnJicmIyIHBgdfHh4ZMzFBCDYrKxsbHTACQwocEhYKOAQ1Oz03OTIMhSAeBGAKDQwRFwpRAxQPDyEiLiUbGw3DUYMDgk1BLy8fHzU1gUeMZAJfDxEUHg5SBC4uLwGzTS0D/tgZA4sPEBQPDw52CkFLRjs8KSkWFSUAAAIAZ//1AggC+AAkADEAABYmNRE0NzY7ARYXFhcWFxYHBgcGDwETFhUUBwYjIicDIxEUBwYTFTcyNzY3NjU0JyYjghsNDROfKiMkHx4REQEBICFCBYoFDg0SFgueWw4NG242GhoKCiUiOAsdFQKeFg8OAQoLFRUnJjRfOjobAv77ChEUDw8NAT7+6BUPDwKk9QIaGRwcLDAWFgAAAAEAYf/wAf0DBwBRAAA3Jic1NDYzMhYXFhcWMzI3NjU0JyYnLgEnLgInJicmJyYnJjU0NzY3MzIXFhcWFRQHBiInJicmJyYjIgcGFRQXFhcWFx4BFx4CFRQGBwYjIqU6ChsSERoCBiEfKTAlJAcHDg0WEw45IhoaDxAQDwgHPDxPBkcyNBECDQ0mCwwJCgobMC0jJBUTJBAjIyceHSEXZksSEkkiMk0IFB0YEi0YGCAcOxgUEw4OEQoIHxUQERARFxcdHCNSNTYCJydDCAQUDw4NDhUYChoZGSotGBgUCxITFxcWLUQpVXQOAwAAAQA///UCHwL4ABgAABMmNDc2MyEyFxYUBwYrAREUBwYiJjURIyJNDg0NEwGGEw0NDg0SmA0NIhqYEgKiDyoPDg8PKQ8P/ZQUDw8dFQJsAAABAE3/8gIRAwgAIAAANyY1ETQ2MhYVERQXFjMyNzY1ETQ2MhYVERQHBgcGIicmZRgbJBsyHzc+JCYbJBsYGCw1ojUscDY9AfMVHR0V/g1RJhcmJkEB8xUdHRX+Dj02NiAoKCAAAQA+//UCIAMGABgAADcDNDc2MzIWFxsBPgEzMhcWFQMOASsBIibjpQ4OEg8ZA5iXBhcPEg4OpwMYDkIOGhkCvBQODxUO/YACgA8UDw8T/UQPFRYAAQA///QCHwMFAC8AADcmAzU0NjIXFhcSHwE3NjsBMhcWHwE3NhM0NjMyFh0BAgMOAQcjIi8BBwYrASInJn4xDhskDQ0BCxgDPwsdEQ4LDAQ+AxkKHBIRHA4yAxkQBTQNPj8KIBsRDAwb9AHFAhQbDg8U/r+4GfUhCgsO6xjBATEUHR0TAv5G/wAOFgEw6/giCwsAAAEAU//1AgsDBgAlAAAWJj0BNDcTAyY1NDYzMhcbATYzMhcWFRQHAxMWFRQGIyInCwEGI24bBaCaBRsSFAyJgRMVEg0OBZqgBRsSFQ2NhxIWCx0VAQ8KAUYBMgwOFh0N/u0BBRsPDxUODP7O/roKDxUdDQEj/ukaAAEAVv/0AggC+QAeAAATJjU0NjMyFxsBMz4BMzIXFhUUBxUDERQGIiY1EQMwWwUbEhkPhIQBAxgMEg0OBakaIhqpArAIDxUdG/7rARULEA8PFA8IAf6l/tEUHR0UAS8BWwAAAAABAFsABgICAv4AHgAANyY1NDcBIyInJjQ3NjMhMhcWFRQHASEyFxYUBiMhImkOBQEL4BINDg0NEwEoEg0OBf73AQMTDQ0bEv6zEhUPFA4KAkkPDykPDw8QFA0K/bcPDyodAAAAAQCl//gCHQMAABUAADcRNDYzITIWFAYrAREzMhYUBiMhIialGxIBHhIbGhPx8RIbGxL+4hIbJQKuEhsbJBv9rBskGxsAAAAAAQCA//gB8gMAABQAABM0NjMyFhcBMDMWFRQGIyInATAjJoAbEgwZBAEYAQMbEh4L/ugBAwLTExoQDP1SBwoSGxwCrgcAAAAAAQBV//gBzQMAABUAADY0NjsBESMiJjQ2MyEyFhURFAYjISJVGxLx8RMaGxIBHhIbGxL+4hITJBsCVBskGxsS/VISGwABAEQBdAIuAvsAGAAAEzU0NxM2NzIXEzAxFhUUBiMiLwEHBiMiJkQHzg8QGAnNCBsSEw2pqAwTEhsBoQoOCwErCgEM/swLDhIbDbKyDRoAAAEARP8ZAi7/kAAPAAAXNDYzITIWHQEUBiMhIiY1RBsSAZASGxsS/nASG50TGhsSHRIbGhMAAAAAAQC2AgcBuQMAABIAAAEnJjU0PwE2MzIfAhYUBwYjIgFvqRALDw0XDgoDnwsLDRURAhGODRUQDRIQCQKmDh4NDwAAAAACAE3/7wH6AiAADQA/AAAlIhUUFxYXMzI/ATUjJgcmNTQ3Njc2NzY3PgE7AScmJyYjIgcGIyImNTQ3NjMyFxYVERQGIiY9AQcGIyIjJiMmAVixHRodCFZGAQUr7zQNDBkaHR0pKUQyBgEGGRo5PC4MEBMaEU9TWzU8GyQbCERPAgYFBD/3YCEVFQJ6ATAC1C9FKh8fExMMDQYGBAY/GRonCRoTFg06MjpY/sUSHBoTEwc9AQUAAAAAAgBK//ACHwMFAB4AMgAAFiY1ETQ2MhYdATc2MzIXHgEXFRQHBiMiJyYvARUUBjcVFhcWMzI3Nj0BJicmIyIHBg8BZRsbJBsIQkoYIE9fATo5aBEIRDsIGxsUKysxJSFAAiUlNxsdQCUBDRsTArcSGxoT+QY2CBV/XweBVVMBBzAGDhMa0gExJSUXLYgJQDIzDh9NAQAAAAABAHX/7gHwAhoAKgAANyY1NDc2MzIXFhcWFxUUBiMiJyYjIgcGFRQzMjc2Nz4BMzIWHQEGBwYjIuVwNTVjExQwIyMLGRMfDAw+JRg9bBIPMQsDGRASGg4yNDwwBz7NeElHAwYbGyoLExokIw0fgsoEDCsOFRsSCzckJQAAAgA///ECEwMFAB4AMQAANyY1NDc2NzYzMh8BNTQ2MhYVERQGIiYvAQcGIyInJhMGFRQXFjMyNzY3PQImJyYjImwtLy5RHBhKRggbJBsbJBoBAQc/TxocVUA/IiI9HB5MGRUpKTAoVEpvZkVEFwg1BvgSGxoT/UkUGhoRCgYxBhQBnCxuTzs8DiBQAYUBLyMjAAAAAAIATf/xAhECIAAkAC0AADcmNTQ3NjczMhcWFRQGIyEXFhcWMzI3Njc2MzIWFRQHBiMiJyYTByEnJicmIyJ2KT49ZgZoOjsbEv7EAQclJEMREh4UDBITGy0tPzMmTA8CAQQBCxwcPGNgSmhzTUwCR0dzEhwGSyssAwQVDRoTKxQVDRoBOgcGPBwdAAAAAQBh//MB/QMCACMAABImNDY7ATU0MzIWFAYjIgcGBwYdATMyFhQGKwETFAYiJjUDI3saGxJxzhIbGxIsICAJBHwSGxsSfAYaIhoFcQG7GyQbDt8bJBsPECINNw4bJBv+ZhIcGxMBmgACAEL/QgIGAhsANABJAAA3JjU0NzYzMhcWHwE3PgEzMhYVERUWHQEUBwYjIicmJyMmNTQ2MzIXFhcWMzI3Nj0BBwYjIhMGFRQXFjMyNjc2NzY/AT0BJicjIns5OjlmDwg/MgcBARsREhsBOzxhTjAwFQEDGxIUEBEKFkVbGAoIPlJfCCAfHjocMRISDAsPAStVDUJbR2t4S0sBBikGChEYGxP+UQEJDBdeNzcTEzEHCxMaFRgFCjgXLDsHNwF8L09CLC0UFBMQEBkCVgF3BgAAAQBq//MB9AMFACkAABYmNRE0NjIWHQE3NjMyFxYXFh0BFAYiJjURNCc0Jy4CIyIHBg8BERQGhRsbJBsIOUo4KioPChskGwEEBBAdFTEgHxoBGw0aFAK3ExobEvUHMSMjNyVb/RIcHBIBCxsRERUXGRMhHzMB/tQSHAAAAAIAg//zAZQDBQAQACAAABImNDY7ATIWFREUBiImNREjNiY9ATQ2OwEyFh0BFAYrAZ4bGhO0ExobJBuHeBsbEi0SGxsSLQGoGyQbGhP+SxMaGxIBiNUaEy4TGhoTLhMaAAIAZ/9JAZQDBAAPADQAAAAmPQE0NjsBMhYdARQGKwEDIj0BNDc2MzIXFjMyNzY3NjURIyImNDY7ATIWFREUBwYHBgcGASgbGxItEhsbEi10Xw4PFQQQEAoICD0UCmUSGxoTkhMaERMdHSciAnwaEy4TGhoTLhMa/M0uCREKCwECAQQtFkkBdBskGxsS/lJVJCUbGgYFAAAAAQB7//MCBQMFACEAABYmNRE0NjIWFREzNzM2MzIWFRQPARcWFRQGIyIvASMVFAaWGxskGwq7AQ0REhsOqssMGxIVC9kKGw0aFAK3ExobEv6Asg4cEhQNpOUOERIcDfTUEhsAAAEAy//5AfADBQAYAAA3JjUTNDYzMhYVAxQXFhcWMzIWFAYjIicm9CkGGhMSGwcQES8PQBIbGxJTMC48N28B9RMbGxP+Cj8iJAcCGyQbDQ4AAQA///MCHwIbADIAABYmNRE0NjMyHwE3NjMyHwE3NjMyFhURFAYiJjURJiMiBwYVERQGIiY1ESYjIgcGFREUBlobGxIXDgMEIig4JAMEKTQ2RxskGwIhHxUUGiIaAiAgFRQbDRsTAckTGxUEAxktBQUtTzX+ihIcGxMBbzEvLif+5BIcGxMBbzEwLib+5BIcAAAAAAEATf/zAhECGwAjAAAWJjURNDYyFh0BNzYzMhcWHQEUBiImNRE0JyYjIgcGBxURFAZoGxskGwhDWGUxMRskGxcXPzsoKBgbDRwSAckSGxoSFAc9Q0N3/RIcGxMA/08oKiopOwH+7xIcAAAAAAIAP//wAh8CIAAPABsAADcmNTQ3NjMyFxYVFAcGIyIDBhQXFjI3NjQnJiKAQUFAb2xCQkJBbW4BJycmkiYnJyeQPk96e09PT1B6eU9PAaA2pjU1NTWmNjYAAAAAAgBK/0gCHwIbABUAMwAANxcWMzI3NjU0JyYjIgciIzEGBwYHFQImNRE0NjIWHQE3NjMyFxYXFhUUBwYrASYvARUUBqQBPlQPFWohIUQDBAMDLyUlFUAaGyQbCD5LGSFWLS09PGkRRjoIGssBgAUdlVQ2NwEDJCMvAf4BGxICdRMbGhMLBzQIFkZHb3dNTQQxB7cTGgAAAAACAD//SAITAhsAHAAvAAA3JjU0NzYzMh8BNTQ2MhYVERQGIiY9AQcGIyInJhMGFRQXFjMyNzY3PQImJyYjIm0uryEZSz4IGyQbGiYaCD5OHBtTPT8jIzwZIEIjFygpMSNQRmvmLAg0BwsSGxsT/YsTGhsStgc0BxMBoCiBSzY4DR1VAX0BMiQlAAAAAAEAmv/zAg4CGwAnAAAWJjURNDYzMhYdATc2MzIWFxQGIiYnNCcjIicmIgcGKwEGBwYdARQGtRsbEhMaCDdPPE8BGyQaASMBAgQFBwcGAwE3ICIbDRwSAckSGxkTCwc0TTgTGxoSIggBAgIBCTg3QOUTGwAAAQBn//AB/QIgAFEAADcmNTQ2MzIXFhcWMzI3NjU0JyYnJicuAicuAScmJyYnJjU0NzY7ARYXFhcWFRQGIyImJyYnIyIHBgcGFRQXFhceARcWFxYXFhcWFRQHBgcjImwFGxITEhUJITIwIyYPDgwKFgs5GhkaGRISCQgHBzg4Uh02LC0MAhsSEBkDCEAZGxMUEhQ+Dx8gIhwdDxAREQcHOjxYCYVFCA8TGhUYBBESEyYTDg0EBQYDDwgJCQ8ODg8OFhUZTiUmAxsbLwkDEhsTDiIEAwIODxswEgQHCAsKCQwLEREWFx1SJygCAAABAE3/8wHjAqYAMQAAEiY0NjsBNzQ2MhYVBzMyFhQGKwEHFBUWFx4COwEyNzYzMhYVFAcGIyInJicmPQE3I2gbGxJSARkkGAKWEhsbEpcDAQMEDRsUAhAcGw0SGyMlNCofLxQUA1ABshslG2wUGRsSbBwkHO0aDQwTExENCgobEiAQEQwTLi9MDOsAAAEATf/wAhECGAAoAAA3Jj0BNDYzMhYdARQXFhczMjc2NzERNDYyFhURFAYiJj0BBwYrASYnJlcKGxESHBUVQwU7KCYVGyQbGyQbCEFYBEgwMYEmS/gSHBwS6lwrLQIsKz8BChMbHBL+NxIcGhMSBzsBJyYAAQBC//MCHAIYAB0AABMmNTQ2MzIXEzMTMDU+ATMyFhUUBzEDDgErASImJ0UDGxIfC5EKkQMZDhIbA54DGQ1GDhcEAdsGCRMbH/5eAaIBDBIcEgkG/jYMEhENAAABAEH/8wIeAhgAKAAANwM0NzYzMhYXEzc+ATsBMh8BEz4BMzIXFh0BAw4BKwEiLwEHBisBIiZ4Nw4OEhEZAiorAxcPLCAKKikDGRESDg44AhkRMCAJMTELHTERGhsBzxMNDhcR/qSWDRMglgFcEBgNDRAE/jEQGB+wryAYAAAAAAEAYf/zAf0CGAAjAAAWJjU0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiN8GwiMgQcbEhcJdXUNExIbB4KMCRsSGAmAgQwUDRwSDg3OxgwOExsMtbUMHBIODMbODg0SHAy/vwwAAAEAP/9JAh8CGAAjAAAWJjU0NjsBMj8BAyY1NDYzMhcbATYzMhYVFAcBMDEGBwYjIidTFBsSEBYHa78GGxITDaicDhQSGwX+zQ0dHSMNDrEZEBMaEMsBVAkNExsM/tcBKQwbEw0K/bccEhMDAAEAYQAEAgUCBwAcAAA2Jj0BNDcBIyImNDYzITIWHQEUBxUBITIWFAYjIXsaDAEU6hIbGhMBKhMaDf7zAQQSGxoT/rYEGxIjDw4BPBomGhoTKBEMAf7KGyQbAAAAAQBE//gCLgMAADQAABI0NjMyNzY9ATQ3Njc2MzIWFAYrASIHBgcGFRQPARcWFRQXFhcWMzIWFAYjIicmNTQnJiMiRBsSVhcRJiE0NmESGxoTIjUdHxEUMQUEMgcIGhd4EhsbEpAtVRYYUBMBaCYbGxQ9CmM1Lg0OGyQbBgYYGkl7JQMFMWE3Hh8RDhskGxsznzsXGAAAAAABAQz/ZAFmAwAACwAABRE0NjIWFREUBiImAQwbJBsaJhpvA0ITGhsS/L4SGxoAAAABAET/+AIuAwAAMwAANjQ2OwEyNzY3NjU0PwEnJjU0JyYnJiMiJjQ2MzIXFhcWFRQXFjsBMhYUBiMiBhUUBwYjIkQbEiE9HyIOCjIEBTENDScVYRMaGxJhNjQhJRIXUgQSGxsSUC9UK5ISEiYaCQkgGUhhMQUDJXs1HyELBxomGg4NLjNlRhUbHCQaLzufMxsAAAAAAQBSAhwCIALNACsAABM1Njc2MzIzFjMWFxYzMjc+ATMyFhUUBxUOASMiIyYjJicmIyIHMQ4BIyImUgonJzACBQQDLj4rICAIAxoPEhsCCkwwAgUEAy4+KiAgCQMZEBIbAlUKMB8fAQUvIicPFRsSAwUBMD8BBDAhJg8VGwAAAAABAnIB9QLWAq8ACwAAATU0NjIWHQEUBiImAnIeKB4eKB4CJ1YVHR4UVhQeHQAAAAABAgYB9QKgAq8ADwAAATQ2MzIfARYVFAYjIi8BJgIGHhQbCTwIHhQTET0HAn0VHQ5fDQ4UHg9eCwAAAAACAbYCVALWAwIACwAXAAABNTQ2MhYdARQGIiY3NTQ2MhYdARQGIiYBth4oHh0qHbweKB4dKh0ChkoVHR4UShQeHRVKFB4eFEoUHh4AAQAO/4cAcgK1AAsAABcRNDYyFhURFAYiJg4eKB4dKh1HAsoUHh4U/TYUHh4AAAAAAAAOAK4AAQAAAAAAAABDAIgAAQAAAAAAAQAEANYAAQAAAAAAAgAHAOsAAQAAAAAAAwApAUcAAQAAAAAABAANAY0AAQAAAAAABQAKAbEAAQAAAAAABgAEAcYAAwABBAkAAACGAAAAAwABBAkAAQAIAMwAAwABBAkAAgAOANsAAwABBAkAAwBSAPMAAwABBAkABAAaAXEAAwABBAkABQAUAZsAAwABBAkABgAIAbwATQBhAHQAdABoAGUAdwAgAFMAawBhAGwAYQAgACgAMgAwADEAMQApADsAIABiAGEAcwBlAGQAIABvAG4AIABjAG8AZABlACAAYgB5ACAATgBvAHIAYgBlAHIAdAAgAFMAYwBoAHcAYQByAHoAIAAoADEAOQA4ADYALAAgADIAMAAxADEAKQAATWF0dGhldyBTa2FsYSAoMjAxMSk7IGJhc2VkIG9uIGNvZGUgYnkgTm9yYmVydCBTY2h3YXJ6ICgxOTg2LCAyMDExKQAATwBDAFIAQgAAT0NSQgAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABPAEMAUgAgAEIAIABSAGUAZwB1AGwAYQByACAAOgAgADIANwAtADkALQAyADAAMQAyAABGb250Rm9yZ2UgMi4wIDogT0NSIEIgUmVndWxhciA6IDI3LTktMjAxMgAATwBDAFIAIABCACAAUgBlAGcAdQBsAGEAcgAAT0NSIEIgUmVndWxhcgAAVgBlAHIAcwBpAG8AbgAgADIAIAAAVmVyc2lvbiAyIAAATwBDAFIAQgAAT0NSQgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAAAAQACAAMABAAFAAYABwAIAAkAtwALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAtgBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQECAQMBBAEFD3F1b3Rlc2luZ2xlLmFsdAlncmF2ZS5hbHQMcXVvdGVkYmwuYWx0B2Jhci5hbHQAAAAAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQABAGUAAQAEAAAAAgAAAAEAAAAKAEAAjgACREZMVAAObGF0bgAiAAQAAAAA//8ABQAAAAEAAgADAAQABAAAAAD//wAFAAAAAQACAAMABAAFYWFsdAAgc3MwMQAmc3MwMgAsc3MwMwAyc3MwNAA4AAAAAQAAABgAAQABABYAAQACABQAAQADABIAAQAEAAABAAAAAQEAAAECAAABAwAFAAwAFAAcACQALAADAAAAAQAoAAEAAAABAFIAAQAAAAEAVgABAAAAAQBaAAEAAAABAF4AAQAmAAQADgAUABoAIAACAAUAZAACAAoAYgACAEMAYwACAF8AZQABAAQABQAKAEMAXwABAAYAIAABAAEAQwABAAYAXwABAAEABQABAAYAWAABAAEACgABAAYABgABAAEAXwABAAAACgAsAC4AAkRGTFQADmxhdG4AGAAEAAAAAP//AAAABAAAAAD//wAAAAAAAAAAAAEAAAAAzD2izwAAAADWBtqRAAAAANoDIf0=");const rO={toCanvas:VU,toSVG:WU,render:JU,raw:XU,drawingCanvas:_0,drawingSVG:K9,fixupOptions:V9,loadFont:eO,FontLib:u1,BWIPJS_VERSION:YU,BWIPP_VERSION:qU};function sO({value:s,format:n="code128",width:i=2,height:o=50,showText:l=!0}){const u=ae.useRef(null),[f,h]=ae.useState(null),[p,m]=ae.useState(!1);ae.useEffect(()=>{if(!(!s||!u.current))try{const w={code128:"code128",code39:"code39",ean13:"ean13",ean8:"ean8",upca:"upca",upce:"upce",qrcode:"qrcode",datamatrix:"datamatrix"}[n.toLowerCase()]||"code128";rO.toCanvas(u.current,{bcid:w,text:s,scale:3,height:o/3,includetext:l,textxalign:"center",textsize:10,textfont:"Helvetica",paddingwidth:10,paddingheight:10,backgroundcolor:"ffffff"}),h(null)}catch(v){console.error("Barcode generation error:",v),h("Gagal generate barcode: "+v.message)}},[s,n,i,o,l]);const x=()=>{if(!u.current)return;const v=document.createElement("a");v.download=`barcode-${s}.png`,v.href=u.current.toDataURL("image/png"),v.click()},b=async()=>{try{await navigator.clipboard.writeText(s),m(!0),setTimeout(()=>m(!1),2e3)}catch(v){console.error("Copy error:",v)}};return s?f?c.jsx("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 text-center text-sm",children:f}):c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:c.jsx("canvas",{ref:u})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:b,className:"btn btn-sm btn-outline flex items-center gap-1",children:[p?c.jsx(Wd,{size:16,className:"text-green-600"}):c.jsx(U_,{size:16}),p?"Copied!":"Copy"]}),c.jsxs("button",{onClick:x,className:"btn btn-sm btn-primary flex items-center gap-1",children:[c.jsx(Oc,{size:16}),"Download"]})]})]}):c.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center text-gray-500",children:"Masukkan kode untuk generate barcode"})}function J9(s,n){return function(){return s.apply(n,arguments)}}const{toString:nO}=Object.prototype,{getPrototypeOf:kv}=Object,{iterator:_f,toStringTag:X9}=Symbol,Pf=(s=>n=>{const i=nO.call(n);return s[i]||(s[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ci=s=>(s=s.toLowerCase(),n=>Pf(n)===s),Uf=s=>n=>typeof n===s,{isArray:Qc}=Array,Sc=Uf("undefined");function td(s){return s!==null&&!Sc(s)&&s.constructor!==null&&!Sc(s.constructor)&&g1(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Z9=ci("ArrayBuffer");function aO(s){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(s):n=s&&s.buffer&&Z9(s.buffer),n}const iO=Uf("string"),g1=Uf("function"),e7=Uf("number"),rd=s=>s!==null&&typeof s=="object",oO=s=>s===!0||s===!1,Kd=s=>{if(Pf(s)!=="object")return!1;const n=kv(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(X9 in s)&&!(_f in s)},lO=s=>{if(!rd(s)||td(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},cO=ci("Date"),dO=ci("File"),uO=ci("Blob"),fO=ci("FileList"),hO=s=>rd(s)&&g1(s.pipe),pO=s=>{let n;return s&&(typeof FormData=="function"&&s instanceof FormData||g1(s.append)&&((n=Pf(s))==="formdata"||n==="object"&&g1(s.toString)&&s.toString()==="[object FormData]"))},mO=ci("URLSearchParams"),[xO,vO,gO,bO]=["ReadableStream","Request","Response","Headers"].map(ci),yO=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sd(s,n,{allOwnKeys:i=!1}={}){if(s===null||typeof s>"u")return;let o,l;if(typeof s!="object"&&(s=[s]),Qc(s))for(o=0,l=s.length;o<l;o++)n.call(null,s[o],o,s);else{if(td(s))return;const u=i?Object.getOwnPropertyNames(s):Object.keys(s),f=u.length;let h;for(o=0;o<f;o++)h=u[o],n.call(null,s[h],h,s)}}function t7(s,n){if(td(s))return null;n=n.toLowerCase();const i=Object.keys(s);let o=i.length,l;for(;o-- >0;)if(l=i[o],n===l.toLowerCase())return l;return null}const il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r7=s=>!Sc(s)&&s!==il;function wm(){const{caseless:s,skipUndefined:n}=r7(this)&&this||{},i={},o=(l,u)=>{const f=s&&t7(i,u)||u;Kd(i[f])&&Kd(l)?i[f]=wm(i[f],l):Kd(l)?i[f]=wm({},l):Qc(l)?i[f]=l.slice():(!n||!Sc(l))&&(i[f]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&sd(arguments[l],o);return i}const wO=(s,n,i,{allOwnKeys:o}={})=>(sd(n,(l,u)=>{i&&g1(l)?s[u]=J9(l,i):s[u]=l},{allOwnKeys:o}),s),AO=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),kO=(s,n,i,o)=>{s.prototype=Object.create(n.prototype,o),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:n.prototype}),i&&Object.assign(s.prototype,i)},jO=(s,n,i,o)=>{let l,u,f;const h={};if(n=n||{},s==null)return n;do{for(l=Object.getOwnPropertyNames(s),u=l.length;u-- >0;)f=l[u],(!o||o(f,s,n))&&!h[f]&&(n[f]=s[f],h[f]=!0);s=i!==!1&&kv(s)}while(s&&(!i||i(s,n))&&s!==Object.prototype);return n},NO=(s,n,i)=>{s=String(s),(i===void 0||i>s.length)&&(i=s.length),i-=n.length;const o=s.indexOf(n,i);return o!==-1&&o===i},CO=s=>{if(!s)return null;if(Qc(s))return s;let n=s.length;if(!e7(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=s[n];return i},SO=(s=>n=>s&&n instanceof s)(typeof Uint8Array<"u"&&kv(Uint8Array)),EO=(s,n)=>{const o=(s&&s[_f]).call(s);let l;for(;(l=o.next())&&!l.done;){const u=l.value;n.call(s,u[0],u[1])}},IO=(s,n)=>{let i;const o=[];for(;(i=s.exec(n))!==null;)o.push(i);return o},BO=ci("HTMLFormElement"),DO=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,l){return o.toUpperCase()+l}),X8=(({hasOwnProperty:s})=>(n,i)=>s.call(n,i))(Object.prototype),MO=ci("RegExp"),s7=(s,n)=>{const i=Object.getOwnPropertyDescriptors(s),o={};sd(i,(l,u)=>{let f;(f=n(l,u,s))!==!1&&(o[u]=f||l)}),Object.defineProperties(s,o)},FO=s=>{s7(s,(n,i)=>{if(g1(s)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=s[i];if(g1(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},RO=(s,n)=>{const i={},o=l=>{l.forEach(u=>{i[u]=!0})};return Qc(s)?o(s):o(String(s).split(n)),i},TO=()=>{},_O=(s,n)=>s!=null&&Number.isFinite(s=+s)?s:n;function PO(s){return!!(s&&g1(s.append)&&s[X9]==="FormData"&&s[_f])}const UO=s=>{const n=new Array(10),i=(o,l)=>{if(rd(o)){if(n.indexOf(o)>=0)return;if(td(o))return o;if(!("toJSON"in o)){n[l]=o;const u=Qc(o)?[]:{};return sd(o,(f,h)=>{const p=i(f,l+1);!Sc(p)&&(u[h]=p)}),n[l]=void 0,u}}return o};return i(s,0)},OO=ci("AsyncFunction"),zO=s=>s&&(rd(s)||g1(s))&&g1(s.then)&&g1(s.catch),n7=((s,n)=>s?setImmediate:n?((i,o)=>(il.addEventListener("message",({source:l,data:u})=>{l===il&&u===i&&o.length&&o.shift()()},!1),l=>{o.push(l),il.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",g1(il.postMessage)),LO=typeof queueMicrotask<"u"?queueMicrotask.bind(il):typeof process<"u"&&process.nextTick||n7,QO=s=>s!=null&&g1(s[_f]),De={isArray:Qc,isArrayBuffer:Z9,isBuffer:td,isFormData:pO,isArrayBufferView:aO,isString:iO,isNumber:e7,isBoolean:oO,isObject:rd,isPlainObject:Kd,isEmptyObject:lO,isReadableStream:xO,isRequest:vO,isResponse:gO,isHeaders:bO,isUndefined:Sc,isDate:cO,isFile:dO,isBlob:uO,isRegExp:MO,isFunction:g1,isStream:hO,isURLSearchParams:mO,isTypedArray:SO,isFileList:fO,forEach:sd,merge:wm,extend:wO,trim:yO,stripBOM:AO,inherits:kO,toFlatObject:jO,kindOf:Pf,kindOfTest:ci,endsWith:NO,toArray:CO,forEachEntry:EO,matchAll:IO,isHTMLForm:BO,hasOwnProperty:X8,hasOwnProp:X8,reduceDescriptors:s7,freezeMethods:FO,toObjectSet:RO,toCamelCase:DO,noop:TO,toFiniteNumber:_O,findKey:t7,global:il,isContextDefined:r7,isSpecCompliantForm:PO,toJSONObject:UO,isAsyncFn:OO,isThenable:zO,setImmediate:n7,asap:LO,isIterable:QO};function Nr(s,n,i,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}De.inherits(Nr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const a7=Nr.prototype,i7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{i7[s]={value:s}});Object.defineProperties(Nr,i7);Object.defineProperty(a7,"isAxiosError",{value:!0});Nr.from=(s,n,i,o,l,u)=>{const f=Object.create(a7);De.toFlatObject(s,f,function(x){return x!==Error.prototype},m=>m!=="isAxiosError");const h=s&&s.message?s.message:"Error",p=n==null&&s?s.code:n;return Nr.call(f,h,p,i,o,l),s&&f.cause==null&&Object.defineProperty(f,"cause",{value:s,configurable:!0}),f.name=s&&s.name||"Error",u&&Object.assign(f,u),f};const HO=null;function Am(s){return De.isPlainObject(s)||De.isArray(s)}function o7(s){return De.endsWith(s,"[]")?s.slice(0,-2):s}function Z8(s,n,i){return s?s.concat(n).map(function(l,u){return l=o7(l),!i&&u?"["+l+"]":l}).join(i?".":""):n}function GO(s){return De.isArray(s)&&!s.some(Am)}const qO=De.toFlatObject(De,{},null,function(n){return/^is[A-Z]/.test(n)});function Of(s,n,i){if(!De.isObject(s))throw new TypeError("target must be an object");n=n||new FormData,i=De.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!De.isUndefined(k[A])});const o=i.metaTokens,l=i.visitor||x,u=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(n);if(!De.isFunction(l))throw new TypeError("visitor must be a function");function m(y){if(y===null)return"";if(De.isDate(y))return y.toISOString();if(De.isBoolean(y))return y.toString();if(!p&&De.isBlob(y))throw new Nr("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(y)||De.isTypedArray(y)?p&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function x(y,A,k){let E=y;if(y&&!k&&typeof y=="object"){if(De.endsWith(A,"{}"))A=o?A:A.slice(0,-2),y=JSON.stringify(y);else if(De.isArray(y)&&GO(y)||(De.isFileList(y)||De.endsWith(A,"[]"))&&(E=De.toArray(y)))return A=o7(A),E.forEach(function(N,I){!(De.isUndefined(N)||N===null)&&n.append(f===!0?Z8([A],I,u):f===null?A:A+"[]",m(N))}),!1}return Am(y)?!0:(n.append(Z8(k,A,u),m(y)),!1)}const b=[],v=Object.assign(qO,{defaultVisitor:x,convertValue:m,isVisitable:Am});function w(y,A){if(!De.isUndefined(y)){if(b.indexOf(y)!==-1)throw Error("Circular reference detected in "+A.join("."));b.push(y),De.forEach(y,function(E,j){(!(De.isUndefined(E)||E===null)&&l.call(n,E,De.isString(j)?j.trim():j,A,v))===!0&&w(E,A?A.concat(j):[j])}),b.pop()}}if(!De.isObject(s))throw new TypeError("data must be an object");return w(s),n}function e5(s){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function jv(s,n){this._pairs=[],s&&Of(s,this,n)}const l7=jv.prototype;l7.append=function(n,i){this._pairs.push([n,i])};l7.toString=function(n){const i=n?function(o){return n.call(this,o,e5)}:e5;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function YO(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function c7(s,n,i){if(!n)return s;const o=i&&i.encode||YO;De.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let u;if(l?u=l(n,i):u=De.isURLSearchParams(n)?n.toString():new jv(n,i).toString(o),u){const f=s.indexOf("#");f!==-1&&(s=s.slice(0,f)),s+=(s.indexOf("?")===-1?"?":"&")+u}return s}class t5{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){De.forEach(this.handlers,function(o){o!==null&&n(o)})}}const d7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VO=typeof URLSearchParams<"u"?URLSearchParams:jv,$O=typeof FormData<"u"?FormData:null,WO=typeof Blob<"u"?Blob:null,KO={isBrowser:!0,classes:{URLSearchParams:VO,FormData:$O,Blob:WO},protocols:["http","https","file","blob","url","data"]},Nv=typeof window<"u"&&typeof document<"u",km=typeof navigator=="object"&&navigator||void 0,JO=Nv&&(!km||["ReactNative","NativeScript","NS"].indexOf(km.product)<0),XO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZO=Nv&&window.location.href||"http://localhost",ez=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nv,hasStandardBrowserEnv:JO,hasStandardBrowserWebWorkerEnv:XO,navigator:km,origin:ZO},Symbol.toStringTag,{value:"Module"})),Ya={...ez,...KO};function tz(s,n){return Of(s,new Ya.classes.URLSearchParams,{visitor:function(i,o,l,u){return Ya.isNode&&De.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...n})}function rz(s){return De.matchAll(/\w+|\[(\w*)]/g,s).map(n=>n[0]==="[]"?"":n[1]||n[0])}function sz(s){const n={},i=Object.keys(s);let o;const l=i.length;let u;for(o=0;o<l;o++)u=i[o],n[u]=s[u];return n}function u7(s){function n(i,o,l,u){let f=i[u++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=u>=i.length;return f=!f&&De.isArray(l)?l.length:f,p?(De.hasOwnProp(l,f)?l[f]=[l[f],o]:l[f]=o,!h):((!l[f]||!De.isObject(l[f]))&&(l[f]=[]),n(i,o,l[f],u)&&De.isArray(l[f])&&(l[f]=sz(l[f])),!h)}if(De.isFormData(s)&&De.isFunction(s.entries)){const i={};return De.forEachEntry(s,(o,l)=>{n(rz(o),l,i,0)}),i}return null}function nz(s,n,i){if(De.isString(s))try{return(n||JSON.parse)(s),De.trim(s)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(s)}const nd={transitional:d7,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",l=o.indexOf("application/json")>-1,u=De.isObject(n);if(u&&De.isHTMLForm(n)&&(n=new FormData(n)),De.isFormData(n))return l?JSON.stringify(u7(n)):n;if(De.isArrayBuffer(n)||De.isBuffer(n)||De.isStream(n)||De.isFile(n)||De.isBlob(n)||De.isReadableStream(n))return n;if(De.isArrayBufferView(n))return n.buffer;if(De.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return tz(n,this.formSerializer).toString();if((h=De.isFileList(n))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Of(h?{"files[]":n}:n,p&&new p,this.formSerializer)}}return u||l?(i.setContentType("application/json",!1),nz(n)):n}],transformResponse:[function(n){const i=this.transitional||nd.transitional,o=i&&i.forcedJSONParsing,l=this.responseType==="json";if(De.isResponse(n)||De.isReadableStream(n))return n;if(n&&De.isString(n)&&(o&&!this.responseType||l)){const f=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(n,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?Nr.from(h,Nr.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ya.classes.FormData,Blob:Ya.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],s=>{nd.headers[s]={}});const az=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iz=s=>{const n={};let i,o,l;return s&&s.split(`
`).forEach(function(f){l=f.indexOf(":"),i=f.substring(0,l).trim().toLowerCase(),o=f.substring(l+1).trim(),!(!i||n[i]&&az[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},r5=Symbol("internals");function B0(s){return s&&String(s).trim().toLowerCase()}function Jd(s){return s===!1||s==null?s:De.isArray(s)?s.map(Jd):String(s)}function oz(s){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(s);)n[o[1]]=o[2];return n}const lz=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Wp(s,n,i,o,l){if(De.isFunction(o))return o.call(this,n,i);if(l&&(n=i),!!De.isString(n)){if(De.isString(o))return n.indexOf(o)!==-1;if(De.isRegExp(o))return o.test(n)}}function cz(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function dz(s,n){const i=De.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(s,o+i,{value:function(l,u,f){return this[o].call(this,n,l,u,f)},configurable:!0})})}let b1=class{constructor(n){n&&this.set(n)}set(n,i,o){const l=this;function u(h,p,m){const x=B0(p);if(!x)throw new Error("header name must be a non-empty string");const b=De.findKey(l,x);(!b||l[b]===void 0||m===!0||m===void 0&&l[b]!==!1)&&(l[b||p]=Jd(h))}const f=(h,p)=>De.forEach(h,(m,x)=>u(m,x,p));if(De.isPlainObject(n)||n instanceof this.constructor)f(n,i);else if(De.isString(n)&&(n=n.trim())&&!lz(n))f(iz(n),i);else if(De.isObject(n)&&De.isIterable(n)){let h={},p,m;for(const x of n){if(!De.isArray(x))throw TypeError("Object iterator must return a key-value pair");h[m=x[0]]=(p=h[m])?De.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}f(h,i)}else n!=null&&u(i,n,o);return this}get(n,i){if(n=B0(n),n){const o=De.findKey(this,n);if(o){const l=this[o];if(!i)return l;if(i===!0)return oz(l);if(De.isFunction(i))return i.call(this,l,o);if(De.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=B0(n),n){const o=De.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Wp(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let l=!1;function u(f){if(f=B0(f),f){const h=De.findKey(o,f);h&&(!i||Wp(o,o[h],h,i))&&(delete o[h],l=!0)}}return De.isArray(n)?n.forEach(u):u(n),l}clear(n){const i=Object.keys(this);let o=i.length,l=!1;for(;o--;){const u=i[o];(!n||Wp(this,this[u],u,n,!0))&&(delete this[u],l=!0)}return l}normalize(n){const i=this,o={};return De.forEach(this,(l,u)=>{const f=De.findKey(o,u);if(f){i[f]=Jd(l),delete i[u];return}const h=n?cz(u):String(u).trim();h!==u&&delete i[u],i[h]=Jd(l),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return De.forEach(this,(o,l)=>{o!=null&&o!==!1&&(i[l]=n&&De.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(l=>o.set(l)),o}static accessor(n){const o=(this[r5]=this[r5]={accessors:{}}).accessors,l=this.prototype;function u(f){const h=B0(f);o[h]||(dz(l,f),o[h]=!0)}return De.isArray(n)?n.forEach(u):u(n),this}};b1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(b1.prototype,({value:s},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>s,set(o){this[i]=o}}});De.freezeMethods(b1);function Kp(s,n){const i=this||nd,o=n||i,l=b1.from(o.headers);let u=o.data;return De.forEach(s,function(h){u=h.call(i,u,l.normalize(),n?n.status:void 0)}),l.normalize(),u}function f7(s){return!!(s&&s.__CANCEL__)}function Hc(s,n,i){Nr.call(this,s??"canceled",Nr.ERR_CANCELED,n,i),this.name="CanceledError"}De.inherits(Hc,Nr,{__CANCEL__:!0});function h7(s,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?s(i):n(new Nr("Request failed with status code "+i.status,[Nr.ERR_BAD_REQUEST,Nr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function uz(s){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return n&&n[1]||""}function fz(s,n){s=s||10;const i=new Array(s),o=new Array(s);let l=0,u=0,f;return n=n!==void 0?n:1e3,function(p){const m=Date.now(),x=o[u];f||(f=m),i[l]=p,o[l]=m;let b=u,v=0;for(;b!==l;)v+=i[b++],b=b%s;if(l=(l+1)%s,l===u&&(u=(u+1)%s),m-f<n)return;const w=x&&m-x;return w?Math.round(v*1e3/w):void 0}}function hz(s,n){let i=0,o=1e3/n,l,u;const f=(m,x=Date.now())=>{i=x,l=null,u&&(clearTimeout(u),u=null),s(...m)};return[(...m)=>{const x=Date.now(),b=x-i;b>=o?f(m,x):(l=m,u||(u=setTimeout(()=>{u=null,f(l)},o-b)))},()=>l&&f(l)]}const $u=(s,n,i=3)=>{let o=0;const l=fz(50,250);return hz(u=>{const f=u.loaded,h=u.lengthComputable?u.total:void 0,p=f-o,m=l(p),x=f<=h;o=f;const b={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&x?(h-f)/m:void 0,event:u,lengthComputable:h!=null,[n?"download":"upload"]:!0};s(b)},i)},s5=(s,n)=>{const i=s!=null;return[o=>n[0]({lengthComputable:i,total:s,loaded:o}),n[1]]},n5=s=>(...n)=>De.asap(()=>s(...n)),pz=Ya.hasStandardBrowserEnv?((s,n)=>i=>(i=new URL(i,Ya.origin),s.protocol===i.protocol&&s.host===i.host&&(n||s.port===i.port)))(new URL(Ya.origin),Ya.navigator&&/(msie|trident)/i.test(Ya.navigator.userAgent)):()=>!0,mz=Ya.hasStandardBrowserEnv?{write(s,n,i,o,l,u,f){if(typeof document>"u")return;const h=[`${s}=${encodeURIComponent(n)}`];De.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),De.isString(o)&&h.push(`path=${o}`),De.isString(l)&&h.push(`domain=${l}`),u===!0&&h.push("secure"),De.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(s){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xz(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function vz(s,n){return n?s.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):s}function p7(s,n,i){let o=!xz(n);return s&&(o||i==!1)?vz(s,n):n}const a5=s=>s instanceof b1?{...s}:s;function bl(s,n){n=n||{};const i={};function o(m,x,b,v){return De.isPlainObject(m)&&De.isPlainObject(x)?De.merge.call({caseless:v},m,x):De.isPlainObject(x)?De.merge({},x):De.isArray(x)?x.slice():x}function l(m,x,b,v){if(De.isUndefined(x)){if(!De.isUndefined(m))return o(void 0,m,b,v)}else return o(m,x,b,v)}function u(m,x){if(!De.isUndefined(x))return o(void 0,x)}function f(m,x){if(De.isUndefined(x)){if(!De.isUndefined(m))return o(void 0,m)}else return o(void 0,x)}function h(m,x,b){if(b in n)return o(m,x);if(b in s)return o(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(m,x,b)=>l(a5(m),a5(x),b,!0)};return De.forEach(Object.keys({...s,...n}),function(x){const b=p[x]||l,v=b(s[x],n[x],x);De.isUndefined(v)&&b!==h||(i[x]=v)}),i}const m7=s=>{const n=bl({},s);let{data:i,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:u,headers:f,auth:h}=n;if(n.headers=f=b1.from(f),n.url=c7(p7(n.baseURL,n.url,n.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),De.isFormData(i)){if(Ya.hasStandardBrowserEnv||Ya.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(De.isFunction(i.getHeaders)){const p=i.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([x,b])=>{m.includes(x.toLowerCase())&&f.set(x,b)})}}if(Ya.hasStandardBrowserEnv&&(o&&De.isFunction(o)&&(o=o(n)),o||o!==!1&&pz(n.url))){const p=l&&u&&mz.read(u);p&&f.set(l,p)}return n},gz=typeof XMLHttpRequest<"u",bz=gz&&function(s){return new Promise(function(i,o){const l=m7(s);let u=l.data;const f=b1.from(l.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=l,x,b,v,w,y;function A(){w&&w(),y&&y(),l.cancelToken&&l.cancelToken.unsubscribe(x),l.signal&&l.signal.removeEventListener("abort",x)}let k=new XMLHttpRequest;k.open(l.method.toUpperCase(),l.url,!0),k.timeout=l.timeout;function E(){if(!k)return;const N=b1.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),M={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:N,config:s,request:k};h7(function(F){i(F),A()},function(F){o(F),A()},M),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(o(new Nr("Request aborted",Nr.ECONNABORTED,s,k)),k=null)},k.onerror=function(I){const M=I&&I.message?I.message:"Network Error",B=new Nr(M,Nr.ERR_NETWORK,s,k);B.event=I||null,o(B),k=null},k.ontimeout=function(){let I=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const M=l.transitional||d7;l.timeoutErrorMessage&&(I=l.timeoutErrorMessage),o(new Nr(I,M.clarifyTimeoutError?Nr.ETIMEDOUT:Nr.ECONNABORTED,s,k)),k=null},u===void 0&&f.setContentType(null),"setRequestHeader"in k&&De.forEach(f.toJSON(),function(I,M){k.setRequestHeader(M,I)}),De.isUndefined(l.withCredentials)||(k.withCredentials=!!l.withCredentials),h&&h!=="json"&&(k.responseType=l.responseType),m&&([v,y]=$u(m,!0),k.addEventListener("progress",v)),p&&k.upload&&([b,w]=$u(p),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",w)),(l.cancelToken||l.signal)&&(x=N=>{k&&(o(!N||N.type?new Hc(null,s,k):N),k.abort(),k=null)},l.cancelToken&&l.cancelToken.subscribe(x),l.signal&&(l.signal.aborted?x():l.signal.addEventListener("abort",x)));const j=uz(l.url);if(j&&Ya.protocols.indexOf(j)===-1){o(new Nr("Unsupported protocol "+j+":",Nr.ERR_BAD_REQUEST,s));return}k.send(u||null)})},yz=(s,n)=>{const{length:i}=s=s?s.filter(Boolean):[];if(n||i){let o=new AbortController,l;const u=function(m){if(!l){l=!0,h();const x=m instanceof Error?m:this.reason;o.abort(x instanceof Nr?x:new Hc(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{f=null,u(new Nr(`timeout ${n} of ms exceeded`,Nr.ETIMEDOUT))},n);const h=()=>{s&&(f&&clearTimeout(f),f=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),s=null)};s.forEach(m=>m.addEventListener("abort",u));const{signal:p}=o;return p.unsubscribe=()=>De.asap(h),p}},wz=function*(s,n){let i=s.byteLength;if(i<n){yield s;return}let o=0,l;for(;o<i;)l=o+n,yield s.slice(o,l),o=l},Az=async function*(s,n){for await(const i of kz(s))yield*wz(i,n)},kz=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const n=s.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},i5=(s,n,i,o)=>{const l=Az(s,n);let u=0,f,h=p=>{f||(f=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:x}=await l.next();if(m){h(),p.close();return}let b=x.byteLength;if(i){let v=u+=b;i(v)}p.enqueue(new Uint8Array(x))}catch(m){throw h(m),m}},cancel(p){return h(p),l.return()}},{highWaterMark:2})},o5=64*1024,{isFunction:Rd}=De,jz=(({Request:s,Response:n})=>({Request:s,Response:n}))(De.global),{ReadableStream:l5,TextEncoder:c5}=De.global,d5=(s,...n)=>{try{return!!s(...n)}catch{return!1}},Nz=s=>{s=De.merge.call({skipUndefined:!0},jz,s);const{fetch:n,Request:i,Response:o}=s,l=n?Rd(n):typeof fetch=="function",u=Rd(i),f=Rd(o);if(!l)return!1;const h=l&&Rd(l5),p=l&&(typeof c5=="function"?(y=>A=>y.encode(A))(new c5):async y=>new Uint8Array(await new i(y).arrayBuffer())),m=u&&h&&d5(()=>{let y=!1;const A=new i(Ya.origin,{body:new l5,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!A}),x=f&&h&&d5(()=>De.isReadableStream(new o("").body)),b={stream:x&&(y=>y.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!b[y]&&(b[y]=(A,k)=>{let E=A&&A[y];if(E)return E.call(A);throw new Nr(`Response type '${y}' is not supported`,Nr.ERR_NOT_SUPPORT,k)})});const v=async y=>{if(y==null)return 0;if(De.isBlob(y))return y.size;if(De.isSpecCompliantForm(y))return(await new i(Ya.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(De.isArrayBufferView(y)||De.isArrayBuffer(y))return y.byteLength;if(De.isURLSearchParams(y)&&(y=y+""),De.isString(y))return(await p(y)).byteLength},w=async(y,A)=>{const k=De.toFiniteNumber(y.getContentLength());return k??v(A)};return async y=>{let{url:A,method:k,data:E,signal:j,cancelToken:N,timeout:I,onDownloadProgress:M,onUploadProgress:B,responseType:F,headers:D,withCredentials:H="same-origin",fetchOptions:T}=m7(y),_=n||fetch;F=F?(F+"").toLowerCase():"text";let L=yz([j,N&&N.toAbortSignal()],I),z=null;const G=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let K;try{if(B&&m&&k!=="get"&&k!=="head"&&(K=await w(D,E))!==0){let re=new i(A,{method:"POST",body:E,duplex:"half"}),ne;if(De.isFormData(E)&&(ne=re.headers.get("content-type"))&&D.setContentType(ne),re.body){const[le,ue]=s5(K,$u(n5(B)));E=i5(re.body,o5,le,ue)}}De.isString(H)||(H=H?"include":"omit");const oe=u&&"credentials"in i.prototype,V={...T,signal:L,method:k.toUpperCase(),headers:D.normalize().toJSON(),body:E,duplex:"half",credentials:oe?H:void 0};z=u&&new i(A,V);let Y=await(u?_(z,T):_(A,V));const ie=x&&(F==="stream"||F==="response");if(x&&(M||ie&&G)){const re={};["status","statusText","headers"].forEach(Me=>{re[Me]=Y[Me]});const ne=De.toFiniteNumber(Y.headers.get("content-length")),[le,ue]=M&&s5(ne,$u(n5(M),!0))||[];Y=new o(i5(Y.body,o5,le,()=>{ue&&ue(),G&&G()}),re)}F=F||"text";let de=await b[De.findKey(b,F)||"text"](Y,y);return!ie&&G&&G(),await new Promise((re,ne)=>{h7(re,ne,{data:de,headers:b1.from(Y.headers),status:Y.status,statusText:Y.statusText,config:y,request:z})})}catch(oe){throw G&&G(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new Nr("Network Error",Nr.ERR_NETWORK,y,z),{cause:oe.cause||oe}):Nr.from(oe,oe&&oe.code,y,z)}}},Cz=new Map,x7=s=>{let n=s&&s.env||{};const{fetch:i,Request:o,Response:l}=n,u=[o,l,i];let f=u.length,h=f,p,m,x=Cz;for(;h--;)p=u[h],m=x.get(p),m===void 0&&x.set(p,m=h?new Map:Nz(n)),x=m;return m};x7();const Cv={http:HO,xhr:bz,fetch:{get:x7}};De.forEach(Cv,(s,n)=>{if(s){try{Object.defineProperty(s,"name",{value:n})}catch{}Object.defineProperty(s,"adapterName",{value:n})}});const u5=s=>`- ${s}`,Sz=s=>De.isFunction(s)||s===null||s===!1;function Ez(s,n){s=De.isArray(s)?s:[s];const{length:i}=s;let o,l;const u={};for(let f=0;f<i;f++){o=s[f];let h;if(l=o,!Sz(o)&&(l=Cv[(h=String(o)).toLowerCase()],l===void 0))throw new Nr(`Unknown adapter '${h}'`);if(l&&(De.isFunction(l)||(l=l.get(n))))break;u[h||"#"+f]=l}if(!l){const f=Object.entries(u).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(u5).join(`
`):" "+u5(f[0]):"as no adapter specified";throw new Nr("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return l}const v7={getAdapter:Ez,adapters:Cv};function Jp(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Hc(null,s)}function f5(s){return Jp(s),s.headers=b1.from(s.headers),s.data=Kp.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),v7.getAdapter(s.adapter||nd.adapter,s)(s).then(function(o){return Jp(s),o.data=Kp.call(s,s.transformResponse,o),o.headers=b1.from(o.headers),o},function(o){return f7(o)||(Jp(s),o&&o.response&&(o.response.data=Kp.call(s,s.transformResponse,o.response),o.response.headers=b1.from(o.response.headers))),Promise.reject(o)})}const g7="1.13.2",zf={};["object","boolean","number","function","string","symbol"].forEach((s,n)=>{zf[s]=function(o){return typeof o===s||"a"+(n<1?"n ":" ")+s}});const h5={};zf.transitional=function(n,i,o){function l(u,f){return"[Axios v"+g7+"] Transitional option '"+u+"'"+f+(o?". "+o:"")}return(u,f,h)=>{if(n===!1)throw new Nr(l(f," has been removed"+(i?" in "+i:"")),Nr.ERR_DEPRECATED);return i&&!h5[f]&&(h5[f]=!0,console.warn(l(f," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(u,f,h):!0}};zf.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function Iz(s,n,i){if(typeof s!="object")throw new Nr("options must be an object",Nr.ERR_BAD_OPTION_VALUE);const o=Object.keys(s);let l=o.length;for(;l-- >0;){const u=o[l],f=n[u];if(f){const h=s[u],p=h===void 0||f(h,u,s);if(p!==!0)throw new Nr("option "+u+" must be "+p,Nr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Nr("Unknown option "+u,Nr.ERR_BAD_OPTION)}}const Xd={assertOptions:Iz,validators:zf},wi=Xd.validators;let dl=class{constructor(n){this.defaults=n||{},this.interceptors={request:new t5,response:new t5}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=bl(this.defaults,i);const{transitional:o,paramsSerializer:l,headers:u}=i;o!==void 0&&Xd.assertOptions(o,{silentJSONParsing:wi.transitional(wi.boolean),forcedJSONParsing:wi.transitional(wi.boolean),clarifyTimeoutError:wi.transitional(wi.boolean)},!1),l!=null&&(De.isFunction(l)?i.paramsSerializer={serialize:l}:Xd.assertOptions(l,{encode:wi.function,serialize:wi.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Xd.assertOptions(i,{baseUrl:wi.spelling("baseURL"),withXsrfToken:wi.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&De.merge(u.common,u[i.method]);u&&De.forEach(["delete","get","head","post","put","patch","common"],y=>{delete u[y]}),i.headers=b1.concat(f,u);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(i)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let x,b=0,v;if(!p){const y=[f5.bind(this),void 0];for(y.unshift(...h),y.push(...m),v=y.length,x=Promise.resolve(i);b<v;)x=x.then(y[b++],y[b++]);return x}v=h.length;let w=i;for(;b<v;){const y=h[b++],A=h[b++];try{w=y(w)}catch(k){A.call(this,k);break}}try{x=f5.call(this,w)}catch(y){return Promise.reject(y)}for(b=0,v=m.length;b<v;)x=x.then(m[b++],m[b++]);return x}getUri(n){n=bl(this.defaults,n);const i=p7(n.baseURL,n.url,n.allowAbsoluteUrls);return c7(i,n.params,n.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(n){dl.prototype[n]=function(i,o){return this.request(bl(o||{},{method:n,url:i,data:(o||{}).data}))}});De.forEach(["post","put","patch"],function(n){function i(o){return function(u,f,h){return this.request(bl(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}dl.prototype[n]=i(),dl.prototype[n+"Form"]=i(!0)});let Bz=class b7{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(l=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](l);o._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(h=>{o.subscribe(h),u=h}).then(l);return f.cancel=function(){o.unsubscribe(u)},f},n(function(u,f,h){o.reason||(o.reason=new Hc(u,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new b7(function(l){n=l}),cancel:n}}};function Dz(s){return function(i){return s.apply(null,i)}}function Mz(s){return De.isObject(s)&&s.isAxiosError===!0}const jm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jm).forEach(([s,n])=>{jm[n]=s});function y7(s){const n=new dl(s),i=J9(dl.prototype.request,n);return De.extend(i,dl.prototype,n,{allOwnKeys:!0}),De.extend(i,n,null,{allOwnKeys:!0}),i.create=function(l){return y7(bl(s,l))},i}const Vn=y7(nd);Vn.Axios=dl;Vn.CanceledError=Hc;Vn.CancelToken=Bz;Vn.isCancel=f7;Vn.VERSION=g7;Vn.toFormData=Of;Vn.AxiosError=Nr;Vn.Cancel=Vn.CanceledError;Vn.all=function(n){return Promise.all(n)};Vn.spread=Dz;Vn.isAxiosError=Mz;Vn.mergeConfig=bl;Vn.AxiosHeaders=b1;Vn.formToJSON=s=>u7(De.isHTMLForm(s)?new FormData(s):s);Vn.getAdapter=v7.getAdapter;Vn.HttpStatusCode=jm;Vn.default=Vn;const{Axios:PL,AxiosError:UL,CanceledError:OL,isCancel:zL,CancelToken:LL,VERSION:QL,all:HL,Cancel:GL,isAxiosError:qL,spread:YL,toFormData:VL,AxiosHeaders:$L,HttpStatusCode:WL,formToJSON:KL,getAdapter:JL,mergeConfig:XL}=Vn,Ec=!0,Td="https://pos-inventory-system-gamma.vercel.app/api",Fz={shopee:`${Td}/shopee`,lazada:`${Td}/lazada`,tokopedia:`${Td}/tokopedia`,tiktok:`${Td}/tiktok`},kr=(s,n=6e4)=>{const i=Vn.create({baseURL:Fz[s],timeout:n,headers:{"Content-Type":"application/json"}});return i.interceptors.response.use(o=>o.data,o=>{var u,f;const l=((f=(u=o.response)==null?void 0:u.data)==null?void 0:f.message)||o.message||"Terjadi kesalahan";return Promise.reject(new Error(l))}),i},Rz={getAuthUrl:async s=>{var n,i;try{const o=kr("shopee"),u=`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=shopee&store_id=${s.id}`,f=Ec?"/auth-url":"/auth/shopee/url";return await o.post(f,{partner_id:((n=s.credentials)==null?void 0:n.partnerId)||"",partner_key:((i=s.credentials)==null?void 0:i.partnerKey)||"",shop_id:s.shopId||"",redirect_url:u})}catch(o){throw new Error(`Gagal mendapatkan Auth URL: ${o.message}`)}},getToken:async(s,n)=>kr("shopee").post("/token?action=get_token",{code:n,shop_id:s.shopId,partner_id:s.credentials.partnerId,partner_key:s.credentials.partnerKey}),refreshToken:async s=>kr("shopee").post("/auth/shopee/refresh",{shop_id:s.shopId,partner_id:s.credentials.partnerId,refresh_token:s.credentials.refreshToken}),getShopInfo:async s=>kr("shopee").get("/shop/info",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken}}),syncProducts:async s=>{var n,i,o,l,u,f,h,p,m;try{const b=await kr("shopee",18e4).get("/products",{params:{shop_id:s.shopId,access_token:(n=s.credentials)==null?void 0:n.accessToken,partner_id:(i=s.credentials)==null?void 0:i.partnerId,partner_key:(o=s.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),v=((u=(l=b==null?void 0:b.data)==null?void 0:l.response)==null?void 0:u.item)||((f=b==null?void 0:b.response)==null?void 0:f.item)||(b==null?void 0:b.products)||[],w=((p=(h=b==null?void 0:b.data)==null?void 0:h.response)==null?void 0:p.total_count)||((m=b==null?void 0:b.response)==null?void 0:m.total_count)||(b==null?void 0:b.count)||v.length;return console.log("Shopee syncProducts result:",{itemCount:v.length,totalCount:w,rawResult:b}),{success:b.success!==!1,data:v,count:w}}catch(x){throw new Error(`Sync produk gagal: ${x.message}`)}},getProducts:async(s,n={})=>{var o,l;return kr("shopee").get("/products",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken,partner_id:(o=s.credentials)==null?void 0:o.partnerId,partner_key:(l=s.credentials)==null?void 0:l.partnerKey,...n}})},syncOrders:async(s,n={})=>{var i,o,l,u,f,h,p,m,x,b,v,w;try{const A=await kr("shopee",12e4).get("/orders",{params:{shop_id:s.shopId,access_token:(i=s.credentials)==null?void 0:i.accessToken,partner_id:(o=s.credentials)==null?void 0:o.partnerId,partner_key:(l=s.credentials)==null?void 0:l.partnerKey,fetch_all:"true",...n}}),k=((f=(u=A==null?void 0:A.data)==null?void 0:u.response)==null?void 0:f.order_list)||((h=A==null?void 0:A.response)==null?void 0:h.order_list)||(A==null?void 0:A.orders)||[],E=((m=(p=A==null?void 0:A.data)==null?void 0:p.response)==null?void 0:m.total_count)||((x=A==null?void 0:A.response)==null?void 0:x.total_count)||(A==null?void 0:A.count)||k.length,j=((v=(b=A==null?void 0:A.data)==null?void 0:b.response)==null?void 0:v.status_summary)||((w=A==null?void 0:A.response)==null?void 0:w.status_summary)||{};return console.log("Shopee syncOrders result:",{orderCount:k.length,totalCount:E,statusSummary:j}),{success:A.success!==!1,data:k,count:E,statusSummary:j}}catch(y){throw new Error(`Sync order gagal: ${y.message}`)}},syncReturns:async s=>{var n,i,o,l,u,f;try{const p=await kr("shopee",6e4).get("/returns",{params:{shop_id:s.shopId,access_token:(n=s.credentials)==null?void 0:n.accessToken,partner_id:(i=s.credentials)==null?void 0:i.partnerId,partner_key:(o=s.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),m=(p==null?void 0:p.returns)||((u=(l=p==null?void 0:p.data)==null?void 0:l.response)==null?void 0:u.return_list)||((f=p==null?void 0:p.response)==null?void 0:f.return_list)||[],x=(p==null?void 0:p.count)||m.length;return console.log("Shopee syncReturns result:",{returnCount:m.length,totalCount:x}),{success:p.success!==!1,data:m,count:x}}catch(h){return console.error("Sync returns error:",h),{success:!1,data:[],count:0,error:h.message}}},getOrdersByStatus:async(s,n,i={})=>{var l,u,f;return kr("shopee").get("/orders",{params:{shop_id:s.shopId,access_token:(l=s.credentials)==null?void 0:l.accessToken,partner_id:(u=s.credentials)==null?void 0:u.partnerId,partner_key:(f=s.credentials)==null?void 0:f.partnerKey,fetch_all:"true",order_status:n,...i}})},getOrders:async(s,n={})=>{var o,l;return kr("shopee").get("/orders",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken,partner_id:(o=s.credentials)==null?void 0:o.partnerId,partner_key:(l=s.credentials)==null?void 0:l.partnerKey,fetch_all:"true",fetch_all_statuses:"true",...n}})},updateStock:async(s,n,i)=>kr("shopee").put(`/products/${n}/stock`,{shop_id:s.shopId,access_token:s.credentials.accessToken,stock:i}),updateProduct:async(s,n,i,o)=>{var l,u,f,h,p,m;try{const x=kr("shopee"),b=Ec?"/update-product":"/products/update",v={shop_id:s.shopId,partner_id:(l=s.credentials)==null?void 0:l.partnerId,partner_key:(u=s.credentials)==null?void 0:u.partnerKey,access_token:(f=s.credentials)==null?void 0:f.accessToken,item_id:n,model_id:i||null,price:o.price,stock:o.stock};console.log(" Sending to Shopee API:",{endpoint:b,item_id:n,model_id:i,price:o.price,stock:o.stock,has_credentials:{partnerId:!!((h=s.credentials)!=null&&h.partnerId),partnerKey:!!((p=s.credentials)!=null&&p.partnerKey),accessToken:!!((m=s.credentials)!=null&&m.accessToken),shopId:!!s.shopId}});const w=await x.post(b,v);return console.log(" Shopee API result:",w),{success:w.success!==!1,data:w}}catch(x){throw console.error(" Shopee update error:",x),new Error(`Update produk Shopee gagal: ${x.message}`)}},testConnection:async s=>{var n;try{const o=await kr("shopee",1e4).get("/auth/status",{params:{shop_id:s.shopId}});return{success:o.connected||o.success,data:o}}catch(i){return(n=s.credentials)!=null&&n.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:i.message}}}},Tz={getAuthUrl:async s=>{var n,i;try{const o=kr("lazada"),u=`${Ec?"https://pos-inventory-system-gamma.vercel.app":window.location.origin}/marketplace/callback?platform=lazada&store_id=${s.id}`;return await o.post("/auth-url",{app_key:((n=s.credentials)==null?void 0:n.appKey)||"",store_id:s.id,redirect_url:u})}catch{const l=(i=s.credentials)==null?void 0:i.appKey;return{url:`https://auth.lazada.com/oauth/authorize?response_type=code&force_auth=true&redirect_uri=${encodeURIComponent(`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=lazada&store_id=${s.id}`)}&client_id=${l}&country=id`}}},getToken:async(s,n)=>kr("lazada").post("/token?action=get_token",{code:n,app_key:s.credentials.appKey,app_secret:s.credentials.appSecret}),refreshToken:async s=>kr("lazada").post("/token?action=refresh_token",{app_key:s.credentials.appKey,app_secret:s.credentials.appSecret,refresh_token:s.credentials.refreshToken}),syncProducts:async s=>{var n,i,o,l,u,f,h;try{const m=await kr("lazada",18e4).get("/products",{params:{app_key:(n=s.credentials)==null?void 0:n.appKey,app_secret:(i=s.credentials)==null?void 0:i.appSecret,access_token:(o=s.credentials)==null?void 0:o.accessToken,fetch_all:"true"}}),x=((u=(l=m==null?void 0:m.data)==null?void 0:l.response)==null?void 0:u.item)||(m==null?void 0:m.products)||[],b=((h=(f=m==null?void 0:m.data)==null?void 0:f.response)==null?void 0:h.total_count)||(m==null?void 0:m.count)||x.length;return console.log("Lazada syncProducts result:",{itemCount:x.length,totalCount:b}),{success:m.success!==!1,data:x,count:b}}catch(p){throw new Error(`Sync produk Lazada gagal: ${p.message}`)}},getProducts:async(s,n={})=>{var o,l,u;return kr("lazada").get("/products",{params:{app_key:(o=s.credentials)==null?void 0:o.appKey,app_secret:(l=s.credentials)==null?void 0:l.appSecret,access_token:(u=s.credentials)==null?void 0:u.accessToken,...n}})},syncOrders:async(s,n={})=>{var i,o,l,u,f,h,p,m,x;try{const v=await kr("lazada",12e4).get("/orders",{params:{app_key:(i=s.credentials)==null?void 0:i.appKey,app_secret:(o=s.credentials)==null?void 0:o.appSecret,access_token:(l=s.credentials)==null?void 0:l.accessToken,fetch_all:"true",...n}}),w=((f=(u=v==null?void 0:v.data)==null?void 0:u.response)==null?void 0:f.order_list)||(v==null?void 0:v.orders)||[],y=((p=(h=v==null?void 0:v.data)==null?void 0:h.response)==null?void 0:p.total_count)||(v==null?void 0:v.count)||w.length,A=((x=(m=v==null?void 0:v.data)==null?void 0:m.response)==null?void 0:x.status_summary)||(v==null?void 0:v.statusSummary)||{};return console.log("Lazada syncOrders result:",{orderCount:w.length,totalCount:y,statusSummary:A}),{success:v.success!==!1,data:w,count:y,statusSummary:A}}catch(b){throw new Error(`Sync order Lazada gagal: ${b.message}`)}},getOrdersByStatus:async(s,n,i={})=>{var l,u,f;return kr("lazada",12e4).get("/orders",{params:{app_key:(l=s.credentials)==null?void 0:l.appKey,app_secret:(u=s.credentials)==null?void 0:u.appSecret,access_token:(f=s.credentials)==null?void 0:f.accessToken,order_status:n,fetch_all:"true",...i}})},getOrders:async(s,n={})=>{var o,l,u;return kr("lazada").get("/orders",{params:{app_key:(o=s.credentials)==null?void 0:o.appKey,app_secret:(l=s.credentials)==null?void 0:l.appSecret,access_token:(u=s.credentials)==null?void 0:u.accessToken,...n}})},updateStock:async(s,n,i)=>kr("lazada").put("/products/stock",{access_token:s.credentials.accessToken,sku:n,quantity:i}),updateProduct:async(s,n,i,o)=>{var l,u,f;try{const h=kr("lazada"),p=Ec?"/update-product":"/products/update",m={app_key:(l=s.credentials)==null?void 0:l.appKey,app_secret:(u=s.credentials)==null?void 0:u.appSecret,access_token:(f=s.credentials)==null?void 0:f.accessToken,item_id:n,sku_id:i||null,...o},x=await h.post(p,m);return{success:x.success!==!1,data:x}}catch(h){throw new Error(`Update produk Lazada gagal: ${h.message}`)}},testConnection:async s=>{var n,i,o,l,u;try{if((n=s.credentials)!=null&&n.accessToken){const h=await kr("lazada",1e4).get("/products",{params:{app_key:(i=s.credentials)==null?void 0:i.appKey,app_secret:(o=s.credentials)==null?void 0:o.appSecret,access_token:(l=s.credentials)==null?void 0:l.accessToken,limit:"1"}});return{success:h.success!==!1,data:h}}return{success:!1,error:"No access token"}}catch(f){return(u=s.credentials)!=null&&u.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:f.message}}}},_z={getAuthUrl:async s=>{const n=s.credentials.fsId,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tokopedia&store_id=${s.id}`);return{url:`https://accounts.tokopedia.com/authorize?response_type=code&client_id=${s.credentials.clientId}&redirect_uri=${o}&state=${n}`}},getToken:async(s,n)=>kr("tokopedia").post("/auth/token",{code:n,client_id:s.credentials.clientId,client_secret:s.credentials.clientSecret,fs_id:s.credentials.fsId}),refreshToken:async s=>kr("tokopedia").post("/auth/refresh",{client_id:s.credentials.clientId,client_secret:s.credentials.clientSecret,refresh_token:s.credentials.refreshToken}),getShopInfo:async s=>kr("tokopedia").get("/shop/info",{params:{shop_id:s.shopId,fs_id:s.credentials.fsId,access_token:s.credentials.accessToken}}),syncProducts:async s=>kr("tokopedia").post("/products/sync",{shop_id:s.shopId,fs_id:s.credentials.fsId,access_token:s.credentials.accessToken}),getProducts:async(s,n={})=>kr("tokopedia").get("/products",{params:{shop_id:s.shopId,fs_id:s.credentials.fsId,access_token:s.credentials.accessToken,...n}}),syncOrders:async(s,n={})=>kr("tokopedia").post("/orders/sync",{shop_id:s.shopId,fs_id:s.credentials.fsId,access_token:s.credentials.accessToken,...n}),getOrders:async(s,n={})=>kr("tokopedia").get("/orders",{params:{shop_id:s.shopId,fs_id:s.credentials.fsId,access_token:s.credentials.accessToken,...n}}),updateStock:async(s,n,i)=>kr("tokopedia").put("/products/stock",{shop_id:s.shopId,fs_id:s.credentials.fsId,access_token:s.credentials.accessToken,product_id:n,stock:i}),updateProduct:async(s,n,i)=>{var o,l;try{const u=kr("tokopedia"),f=Ec?"/update-product":"/products/update",h={shop_id:s.shopId,fs_id:(o=s.credentials)==null?void 0:o.fsId,access_token:(l=s.credentials)==null?void 0:l.accessToken,product_id:n,...i},p=await u.post(f,h);return{success:p.success!==!1,data:p}}catch(u){throw new Error(`Update produk Tokopedia gagal: ${u.message}`)}},testConnection:async s=>{try{return{success:!0,data:await kr("tokopedia",1e4).get("/auth/status",{params:{fs_id:s.credentials.fsId,access_token:s.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},Pz={getAuthUrl:async s=>{const n=s.credentials.appKey,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tiktok&store_id=${s.id}`);return{url:`https://auth.tiktok-shops.com/oauth/authorize?app_key=${n}&redirect_uri=${o}&state=tiktok_auth`}},getToken:async(s,n)=>kr("tiktok").post("/auth/token",{code:n,app_key:s.credentials.appKey,app_secret:s.credentials.appSecret}),refreshToken:async s=>kr("tiktok").post("/auth/refresh",{app_key:s.credentials.appKey,app_secret:s.credentials.appSecret,refresh_token:s.credentials.refreshToken}),getShopInfo:async s=>kr("tiktok").get("/shop/info",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken}}),syncProducts:async s=>kr("tiktok").post("/products/sync",{shop_id:s.shopId,access_token:s.credentials.accessToken}),getProducts:async(s,n={})=>kr("tiktok").get("/products",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken,...n}}),syncOrders:async(s,n={})=>kr("tiktok").post("/orders/sync",{shop_id:s.shopId,access_token:s.credentials.accessToken,...n}),getOrders:async(s,n={})=>kr("tiktok").get("/orders",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken,...n}}),updateStock:async(s,n,i)=>kr("tiktok").put("/products/stock",{shop_id:s.shopId,access_token:s.credentials.accessToken,product_id:n,stock:i}),updateProduct:async(s,n,i)=>{var o;try{const l=kr("tiktok"),u=Ec?"/update-product":"/products/update",f={shop_id:s.shopId,access_token:(o=s.credentials)==null?void 0:o.accessToken,product_id:n,...i},h=await l.post(u,f);return{success:h.success!==!1,data:h}}catch(l){throw new Error(`Update produk TikTok gagal: ${l.message}`)}},testConnection:async s=>{try{return{success:!0,data:await kr("tiktok",1e4).get("/auth/status",{params:{shop_id:s.shopId,access_token:s.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},Ga={getApi:s=>{switch(s){case"shopee":return Rz;case"lazada":return Tz;case"tokopedia":return _z;case"tiktok":return Pz;default:return null}},getAuthUrl:async s=>{const n=Ga.getApi(s.platform);return n?n.getAuthUrl(s):{error:"Platform tidak didukung"}},getToken:async(s,n)=>{const i=Ga.getApi(s.platform);if(!i)throw new Error("Platform tidak didukung");return i.getToken(s,n)},refreshToken:async s=>{const n=Ga.getApi(s.platform);if(!n)throw new Error("Platform tidak didukung");return n.refreshToken(s)},testConnection:async s=>{if(s.platform==="manual")return{success:!0,data:{message:"Toko manual tidak memerlukan koneksi"}};const n=Ga.getApi(s.platform);return n?n.testConnection(s):{success:!1,error:"Platform tidak didukung"}},syncProducts:async s=>{if(s.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const n=Ga.getApi(s.platform);if(!n)throw new Error("Platform tidak didukung");try{const i=await n.syncProducts(s);return{success:!0,data:i.products||i.data||[],count:i.total||i.count||0}}catch(i){throw new Error(`Gagal sync produk: ${i.message}`)}},syncOrders:async(s,n={})=>{if(s.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const i=Ga.getApi(s.platform);if(!i)throw new Error("Platform tidak didukung");try{const o=await i.syncOrders(s,n);return{success:!0,data:o.orders||o.data||[],count:o.total||o.count||0}}catch(o){throw new Error(`Gagal sync order: ${o.message}`)}},fullSync:async(s,n=null)=>{var o,l;const i={products:{success:!1,count:0,data:[],error:null},orders:{success:!1,count:0,data:[],error:null}};if(s.platform==="manual")return{success:!0,message:"Toko manual tidak memerlukan sinkronisasi",results:i};n&&n("Sinkronisasi produk...");try{const u=await Ga.syncProducts(s);i.products={success:!0,count:u.count||((o=u.data)==null?void 0:o.length)||0,data:u.data||[]}}catch(u){i.products={success:!1,error:u.message,data:[]}}n&&n("Sinkronisasi pesanan...");try{const u=await Ga.syncOrders(s);i.orders={success:!0,count:u.count||((l=u.data)==null?void 0:l.length)||0,data:u.data||[]}}catch(u){i.orders={success:!1,error:u.message,data:[]}}return{success:i.products.success||i.orders.success,results:i}},syncAllStores:async(s,n=null)=>{const i=[],o=s.filter(l=>l.isActive&&l.platform!=="manual");for(let l=0;l<o.length;l++){const u=o[l];n&&n({current:l+1,total:o.length,store:u.shopName,status:"syncing"});try{const f=await Ga.fullSync(u);i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:f.success,results:f.results})}catch(f){i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:!1,error:f.message})}}return i},updateStock:async(s,n,i)=>{if(s.platform==="manual")return{success:!0,message:"Stok lokal diperbarui"};const o=Ga.getApi(s.platform);if(!o)throw new Error("Platform tidak didukung");return o.updateStock(s,n,i)},updateProduct:async(s,n,i,o)=>{if(s.platform==="manual")return{success:!0,message:"Produk lokal diperbarui"};const l=Ga.getApi(s.platform);if(!l||!l.updateProduct)throw new Error("Platform tidak mendukung update produk");return l.updateProduct(s,n,i,o)},getProducts:async(s,n={})=>{if(s.platform==="manual")return{data:[],total:0};const i=Ga.getApi(s.platform);if(!i)throw new Error("Platform tidak didukung");return i.getProducts(s,n)},getOrders:async(s,n={})=>{if(s.platform==="manual")return{data:[],total:0};const i=Ga.getApi(s.platform);if(!i)throw new Error("Platform tidak didukung");return i.getOrders(s,n)},getOrdersByStatus:async(s,n,i={})=>{if(s.platform==="manual")return{data:{response:{order_list:[]}}};const o=Ga.getApi(s.platform);if(!o||!o.getOrdersByStatus)throw new Error("Platform tidak mendukung getOrdersByStatus");return o.getOrdersByStatus(s,n,i)},syncPricesToSupabase:async(s,n)=>{var i,o,l;if(!s||s.platform==="manual")return{success:!1,error:"Store tidak valid"};try{console.log(` Syncing prices from ${s.platform}...`);const u=Ga.getApi(s.platform);if(!u)throw new Error("Platform tidak didukung");const f=await u.getProducts(s,{limit:100}),h=(f==null?void 0:f.data)||(f==null?void 0:f.products)||[];if(!h.length)return{success:!0,message:"Tidak ada produk dari marketplace",updated:0};let p=0,m=[];for(const x of h){const b=x.price||x.original_price||((i=x.price_info)==null?void 0:i.current_price)||((l=(o=x.models)==null?void 0:o[0])==null?void 0:l.price)||0,v=x.item_id||x.id;if(!v||!b)continue;const{error:w}=await n.from("products").update({price:b,updated_at:new Date().toISOString()}).eq("shopee_item_id",v);w?m.push({itemId:v,error:w.message}):p++}return console.log(` Synced ${p} product prices from ${s.platform}`),{success:!0,updated:p,total:h.length,errors:m.length>0?m:void 0}}catch(u){return console.error(" Sync prices error:",u),{success:!1,error:u.message}}}},Uz={shopee:{name:"Shopee",color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-600",bgLight:"bg-orange-50",borderColor:"border-orange-200",icon:null,logo:(s=32)=>`<svg width="${s}" height="${s}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#EE4D2D"/>
      <path d="M24 12C20.13 12 17 15.13 17 19V20H15C14.45 20 14 20.45 14 21V35C14 35.55 14.45 36 15 36H33C33.55 36 34 35.55 34 35V21C34 20.45 33.55 20 33 20H31V19C31 15.13 27.87 12 24 12ZM24 14C26.76 14 29 16.24 29 19V20H19V19C19 16.24 21.24 14 24 14ZM24 24C25.1 24 26 24.9 26 26C26 26.74 25.6 27.39 25 27.73V30C25 30.55 24.55 31 24 31C23.45 31 23 30.55 23 30V27.73C22.4 27.39 22 26.74 22 26C22 24.9 22.9 24 24 24Z" fill="white"/>
    </svg>`},lazada:{name:"Lazada",color:"purple",bgColor:"bg-purple-500",textColor:"text-purple-600",bgLight:"bg-purple-50",borderColor:"border-purple-200",icon:null,logo:(s=32)=>`<svg width="${s}" height="${s}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0F146D"/>
      <path d="M24 36L21.6 33.8C14.4 27.3 10 23.3 10 18.5C10 14.5 13.2 11.3 17.2 11.3C19.5 11.3 21.7 12.4 23.1 14.1L24 15.2L24.9 14.1C26.3 12.4 28.5 11.3 30.8 11.3C34.8 11.3 38 14.5 38 18.5C38 23.3 33.6 27.3 26.4 33.8L24 36Z" fill="#F85606"/>
    </svg>`},tokopedia:{name:"Tokopedia",color:"green",bgColor:"bg-green-500",textColor:"text-green-600",bgLight:"bg-green-50",borderColor:"border-green-200",icon:null,logo:(s=32)=>`<svg width="${s}" height="${s}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="12" fill="white"/>
      <circle cx="24" cy="24" r="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="4" fill="white"/>
    </svg>`},tiktok:{name:"TikTok Shop",color:"black",bgColor:"bg-gray-900",textColor:"text-gray-900",bgLight:"bg-gray-50",borderColor:"border-gray-200",icon:null,logo:(s=32)=>`<svg width="${s}" height="${s}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#000000"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="white"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#25F4EE" transform="translate(-1, -1)"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#FE2C55" transform="translate(1, 1)"/>
    </svg>`},manual:{name:"Manual / Lainnya",color:"blue",bgColor:"bg-blue-500",textColor:"text-blue-600",bgLight:"bg-blue-50",borderColor:"border-blue-200",icon:null,logo:(s=32)=>`<svg width="${s}" height="${s}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3B82F6"/>
      <path d="M14 14H26V18H18V30H14V14ZM20 20H34V34H20V20ZM24 24V30H30V24H24Z" fill="white"/>
    </svg>`}},w7=y1(w1((s,n)=>({stores:[],activeStoreId:null,allProducts:[],allOrders:[],loading:{stores:!1,products:!1,orders:!1,sync:!1},addStore:i=>{var f;const o=n().stores;if(o.some(h=>h.platform===i.platform&&h.shopId===i.shopId&&i.shopId))return{success:!1,error:"Toko sudah terdaftar"};const u={id:Date.now(),platform:i.platform,shopId:i.shopId||"",shopName:i.shopName||`Toko ${((f=Uz[i.platform])==null?void 0:f.name)||i.platform}`,ownerName:i.ownerName||"",credentials:{partnerId:i.partnerId||"",partnerKey:i.partnerKey||"",accessToken:i.accessToken||"",refreshToken:i.refreshToken||"",appKey:i.appKey||"",appSecret:i.appSecret||"",fsId:i.fsId||"",clientId:i.clientId||"",clientSecret:i.clientSecret||""},isConnected:!!i.accessToken,isActive:!0,lastSync:null,tokenExpiry:null,productCount:0,orderCount:0,createdAt:new Date().toISOString(),createdBy:i.userId||null,notes:i.notes||""};return s({stores:[...o,u]}),{success:!0,store:u}},updateStore:(i,o)=>{const l=n().stores.map(u=>u.id===i?{...u,...o,credentials:o.credentials?{...u.credentials,...o.credentials}:u.credentials,updatedAt:new Date().toISOString()}:u);return s({stores:l}),{success:!0}},updateStoreCredentials:(i,o)=>{const l=n().stores.map(u=>u.id===i?{...u,credentials:{...u.credentials,...o},isConnected:!!o.accessToken||u.isConnected,updatedAt:new Date().toISOString()}:u);return s({stores:l}),{success:!0}},updateStoreSync:(i,o)=>{const l=n().stores.map(u=>u.id===i?{...u,lastSync:new Date().toISOString(),productCount:o.productCount??u.productCount,orderCount:o.orderCount??u.orderCount,isConnected:!0}:u);s({stores:l})},removeStore:i=>{const o=n().stores.filter(u=>u.id!==i),l=n().activeStoreId;return s({stores:o,activeStoreId:l===i?null:l}),{success:!0}},toggleStoreActive:i=>{const o=n().stores.map(l=>l.id===i?{...l,isActive:!l.isActive}:l);s({stores:o})},setActiveStore:i=>{s({activeStoreId:i})},getStoreById:i=>n().stores.find(o=>o.id===i),getStoresByPlatform:i=>n().stores.filter(o=>o.platform===i),getStoresByUser:i=>n().stores.filter(o=>o.createdBy===i),getActiveStores:()=>n().stores.filter(i=>i.isActive),getConnectedStores:()=>n().stores.filter(i=>i.isConnected),getSummary:()=>{const i=n().stores;return{totalStores:i.length,activeStores:i.filter(o=>o.isActive).length,connectedStores:i.filter(o=>o.isConnected).length,byPlatform:{shopee:i.filter(o=>o.platform==="shopee").length,lazada:i.filter(o=>o.platform==="lazada").length,tokopedia:i.filter(o=>o.platform==="tokopedia").length,tiktok:i.filter(o=>o.platform==="tiktok").length,manual:i.filter(o=>o.platform==="manual").length},totalProducts:i.reduce((o,l)=>o+(l.productCount||0),0),totalOrders:i.reduce((o,l)=>o+(l.orderCount||0),0)}},setLoading:(i,o)=>s({loading:{...n().loading,[i]:o}}),clearAllStores:()=>s({stores:[],activeStoreId:null,allProducts:[],allOrders:[]}),isConnected:!1,shopInfo:null,lastSync:null,products:[],orders:[],summary:null,setConnected:(i,o=null)=>s({isConnected:i,shopInfo:o}),disconnect:()=>s({isConnected:!1,shopInfo:null,products:[],orders:[],summary:null,lastSync:null})}),{name:"marketplace-stores-storage",partialize:s=>({stores:s.stores,activeStoreId:s.activeStoreId})})),Oz=window.location.hostname!=="localhost",zz=Oz?"":"http://localhost:3001";async function Lz(s,n,i){const o=i==null?void 0:i.find(p=>p.platform==="shopee"&&p.isConnected);if(!o)return{success:!1,error:"Shopee store not connected. Silakan hubungkan toko Shopee di halaman Integrasi Marketplace."};const{partnerId:l,partnerKey:u,accessToken:f}=o.credentials||{},h=o.shopId;if(!l||!u||!h||!f)return{success:!1,error:"Kredensial Shopee tidak lengkap. Silakan re-connect di halaman Integrasi Marketplace."};if(!s.shopeeItemId)return{success:!1,error:"Produk ini tidak memiliki Shopee Item ID"};try{return await(await fetch(`${zz}/api/shopee/update-product`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partner_id:l,partner_key:u,shop_id:h,access_token:f,item_id:s.shopeeItemId,model_id:s.shopeeModelId||null,price:n.price,stock:n.stock,sku:n.sku,action:"update_all"})})).json()}catch(p){return{success:!1,error:p.message}}}const oc=()=>`SJA${Math.floor(1e5+Math.random()*9e5)}`,lc=()=>Math.floor(1e8+Math.random()*9e8).toString();function Qz(){const[s,n]=ae.useState(""),[i,o]=ae.useState("all"),[l,u]=ae.useState("all"),[f,h]=ae.useState(!1),[p,m]=ae.useState(null),[x,b]=ae.useState(!1),[v,w]=ae.useState(!1),[y,A]=ae.useState(!1),[k,E]=ae.useState(!1),[j,N]=ae.useState(null),[I,M]=ae.useState({}),[B,F]=ae.useState(!1),[D,H]=ae.useState([]),[T,_]=ae.useState(!1),[L,z]=ae.useState(1),[G,K]=ae.useState(20),[oe,V]=ae.useState(!1),[Y,ie]=ae.useState(null),[de,re]=ae.useState(!1),{products:ne,categories:le,addProduct:ue,updateProduct:Me,deleteProduct:pe,isSyncing:Fe}=la(),{user:Ce}=A1(),{stores:ve}=w7(),Be=async()=>{if(confirm("Upload semua data produk lokal ke Firebase? Data akan disinkronkan ke semua device."))if(window.migrateToFirebase){const P=await window.migrateToFirebase();P.success?alert(`Berhasil upload ${P.count} item ke Firebase!`):alert("Gagal sync: "+P.error)}else alert("Fungsi migrateToFirebase tidak tersedia")},Ue=P=>{ie(P),V(!0)},Xe=async P=>{if(Y){re(!0);try{const q=await Lz(Y,P,ve);q.success?(alert(` Berhasil update ke Shopee!

`+(P.sku?`SKU: ${P.sku}
`:"")+(P.price?`Harga: Rp ${P.price.toLocaleString("id-ID")}
`:"")+(P.stock!==void 0?`Stok: ${P.stock}`:"")),V(!1),ie(null)):alert(` Gagal update ke Shopee:
`+(q.error||"Unknown error"))}catch(q){alert(" Error: "+q.message)}finally{re(!1)}}},Re=()=>{const P=`nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
Contoh Produk,SKU001,123456789,Makanan,pcs,15000,10000,100,10,Deskripsi produk
`,q=new Blob([P],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a");X.href=URL.createObjectURL(q),X.download="template-import-produk.csv",X.click()},Ge=P=>{const q=P.target.files[0];if(!q)return;const X=new FileReader;X.onload=ce=>{try{const ye=ce.target.result.split(`
`).filter(fe=>fe.trim()),J=ye[0].split(",").map(fe=>fe.trim().toLowerCase()),me=[];for(let fe=1;fe<ye.length;fe++){const be=ye[fe].split(",").map(se=>se.trim());if(be.length>=2){const se={name:be[J.indexOf("nama")]||be[0],sku:be[J.indexOf("sku")]||oc(),barcode:be[J.indexOf("barcode")]||lc(),category:be[J.indexOf("kategori")]||"Lainnya",unit:be[J.indexOf("satuan")]||"pcs",price:parseFloat(be[J.indexOf("harga_jual")])||0,cost:parseFloat(be[J.indexOf("harga_beli")])||0,stock:parseInt(be[J.indexOf("stok")])||0,minStock:parseInt(be[J.indexOf("stok_minimum")])||5,description:be[J.indexOf("deskripsi")]||""};me.push(se)}}H(me),F(!0)}catch(te){alert("Format file tidak valid: "+te.message)}},X.readAsText(q),P.target.value=""},Oe=async()=>{_(!0);let P=0;try{for(const q of D)await ue({...q,code:`PRD${String(ne.length+P+1).padStart(3,"0")}`,source:"local"},Ce==null?void 0:Ce.id,Ce==null?void 0:Ce.name),P++;alert(`Berhasil import ${P} produk!`),F(!1),H([])}catch(q){alert("Gagal import: "+q.message)}finally{_(!1)}},Le=()=>{let P=`kode,nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
`;ne.forEach(ce=>{P+=`${ce.code||""},${ce.name||""},${ce.sku||""},${ce.barcode||""},${ce.category||""},${ce.unit||""},${ce.price||0},${ce.cost||0},${ce.stock||0},${ce.minStock||0},"${(ce.description||"").replace(/"/g,'""')}"
`});const q=new Blob([P],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a");X.href=URL.createObjectURL(q),X.download=`produk-export-${new Date().toISOString().split("T")[0]}.csv`,X.click()},rt=P=>{A(!1),n(P);const q=ne.find(X=>X.barcode===P);q?alert(`Produk ditemukan: ${q.name}`):confirm(`Barcode ${P} tidak ditemukan. Buat produk baru?`)&&(m(null),h(!0))},Se=P=>{N(P),E(!0)},We=ne.filter(P=>{const q=P.name.toLowerCase().includes(s.toLowerCase())||P.sku&&P.sku.toLowerCase().includes(s.toLowerCase())||P.code&&P.code.toLowerCase().includes(s.toLowerCase()),X=i==="all"||P.category===i;let ce=l==="all";return l==="local"?ce=!["shopee","lazada","tokopedia","tiktok"].includes(P.source):l==="marketplace"?ce=["shopee","lazada","tokopedia","tiktok"].includes(P.source):l==="shopee"?ce=P.source==="shopee":l==="lazada"?ce=P.source==="lazada":l==="tokopedia"?ce=P.source==="tokopedia":l==="tiktok"&&(ce=P.source==="tiktok"),q&&X&&ce}).sort((P,q)=>{const X=new Date(P.createdAt||P.created_at||P.updatedAt||0);return new Date(q.createdAt||q.created_at||q.updatedAt||0)-X}).reduce((P,q)=>{if(q.variants&&Array.isArray(q.variants)&&q.variants.length>0)return P[q.id]={parent:q,variants:q.variants.map(ce=>({...ce,id:ce.id||ce.modelId||`${q.id}-${ce.sku||Math.random()}`,variantName:ce.name||ce.variantName,source:q.source,category:q.category,sku:ce.sku||ce.modelSku,price:ce.price,stock:ce.stock,image:ce.image||q.image}))},P;const X=q.parentId||q.parentName||q.id;return P[X]||(P[X]={parent:null,variants:[]}),q.isVariant&&(q.parentId||q.parentName)?(P[X].variants.push(q),P[X].parent||(P[X].parent={id:X,name:q.parentName||q.name.split(" - ")[0],image:q.image,category:q.category,source:q.source,sku:q.sku?q.sku.split("-")[0]:"",shopeeItemId:q.shopeeItemId})):P[X].parent=q,P},{}),Ke=Object.entries(We).map(([P,q])=>{if(q.variants.length>0){const ce=q.variants.reduce((J,me)=>J+(me.stock||0),0),te=Math.min(...q.variants.map(J=>J.price||0)),ye=Math.max(...q.variants.map(J=>J.price||0));return{...q.parent,isGrouped:!0,variantCount:q.variants.length,variants:q.variants,totalStock:ce,priceRange:te===ye?te:{min:te,max:ye}}}return{...q.parent,isGrouped:!1,variants:[]}}),Te=Ke.length,He=Math.ceil(Te/G),st=(L-1)*G,gt=st+G,ht=Ke.slice(st,gt),bt=P=>q=>{P(q),z(1)},Et=P=>{M(q=>({...q,[P]:!q[P]}))},kt=ne.filter(P=>P.source==="shopee").length,wt=ne.filter(P=>P.source==="lazada").length,Mt=ne.filter(P=>P.source==="tokopedia").length,It=ne.filter(P=>P.source==="tiktok").length,zt=kt+wt+Mt+It,Bt=ne.filter(P=>!["shopee","lazada","tokopedia","tiktok"].includes(P.source)).length,jt=P=>{p?(Me(p.id,P),h(!1),m(null)):ue(P)},U=P=>{m(P),h(!0)},$=P=>{confirm("Hapus produk ini?")&&pe(P)};return c.jsxs("div",{className:"p-6 space-y-6",children:[y&&Nt&&c.jsx(pP,{onScan:rt,onClose:()=>A(!1)}),k&&j&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Barcode Produk"}),c.jsx("button",{onClick:()=>E(!1),className:"text-gray-500",children:c.jsx(fn,{size:24})})]}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-medium",children:j.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",j.sku]})]}),c.jsx(sO,{value:j.barcode||j.sku,format:"code128"})]})}),B&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold",children:"Preview Import"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:[D.length," produk akan diimport"]})]}),c.jsx("button",{onClick:()=>F(!1),className:"text-gray-500",children:c.jsx(fn,{size:24})})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"#"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Nama"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Kategori"}),c.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Harga"}),c.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Stok"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:D.map((P,q)=>{var X;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:q+1}),c.jsx("td",{className:"px-3 py-2 text-sm font-medium",children:P.name}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:P.sku}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:P.category}),c.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["Rp ",(X=P.price)==null?void 0:X.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-3 py-2 text-sm text-right",children:P.stock})]},q)})})]})}),c.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[c.jsx("button",{onClick:()=>F(!1),className:"btn btn-secondary flex-1",children:"Batal"}),c.jsx("button",{onClick:Oe,disabled:T,className:"btn btn-success flex-1 disabled:opacity-50",children:T?"Memproses...":`Import ${D.length} Produk`})]})]})}),c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 ",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`${Nt?"text-xl":"text-2xl md:text-3xl"} font-bold text-gray-900`,children:"Produk"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[ne.length," produk tersimpan"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[!Nt&&c.jsxs("button",{onClick:Be,disabled:Fe,className:"btn btn-outline flex items-center gap-1 text-blue-600 border-blue-200 hover:bg-blue-50",title:"Upload data lokal ke Cloud (backup)",children:[c.jsx(pm,{size:18,className:Fe?"animate-bounce":""}),c.jsx("span",{className:"hidden md:inline",children:Fe?"Syncing...":"Sync Cloud"})]}),!Nt&&c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("button",{onClick:Le,className:"btn btn-outline flex items-center gap-1",title:"Export ke CSV",children:[c.jsx(Oc,{size:18}),c.jsx("span",{className:"hidden md:inline",children:"Export"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",id:"csv-import",accept:".csv",onChange:Ge,className:"hidden"}),c.jsxs("label",{htmlFor:"csv-import",className:"btn btn-outline flex items-center gap-1 cursor-pointer",title:"Import dari CSV",children:[c.jsx(Gu,{size:18}),c.jsx("span",{className:"hidden md:inline",children:"Import"})]})]}),c.jsx("button",{onClick:Re,className:"btn btn-outline flex items-center gap-1",title:"Download Template CSV",children:c.jsx(L_,{size:18})})]}),Nt&&c.jsxs("button",{onClick:()=>A(!0),className:"btn btn-primary flex items-center gap-2 px-3 py-2",children:[c.jsx(T_,{size:20}),"Scan"]}),c.jsxs("button",{onClick:()=>{m(null),h(!0)},className:`btn btn-primary flex items-center gap-2 ${Nt?"px-3 py-2":""}`,children:[c.jsx(ta,{size:Nt?18:20}),Nt?"Tambah":c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"hidden sm:inline",children:"Tambah"})," Produk"]})]})]})]}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:`flex flex-col ${Nt?"gap-2":"md:flex-row gap-4"}`,children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:Nt?18:20}),c.jsx("input",{type:"text",value:s,onChange:P=>{n(P.target.value),z(1)},placeholder:"Cari produk...",className:`w-full pl-10 input ${Nt?"text-sm py-2":""}`})]}),c.jsxs("select",{value:i,onChange:P=>bt(o)(P.target.value),className:`input ${Nt?"text-sm py-2":"w-full md:w-48"}`,children:[c.jsx("option",{value:"all",children:"Semua Kategori"}),le.map(P=>c.jsx("option",{value:P,children:P},P))]}),!Nt&&c.jsxs("select",{value:l,onChange:P=>bt(u)(P.target.value),className:"input w-full md:w-52",children:[c.jsxs("option",{value:"all",children:["Semua (",ne.length,")"]}),c.jsxs("option",{value:"local",children:["Lokal (",Bt,")"]}),c.jsxs("option",{value:"marketplace",children:["Marketplace (",zt,")"]}),kt>0&&c.jsxs("option",{value:"shopee",children:[" Shopee (",kt,")"]}),wt>0&&c.jsxs("option",{value:"lazada",children:[" Lazada (",wt,")"]}),Mt>0&&c.jsxs("option",{value:"tokopedia",children:[" Tokopedia (",Mt,")"]}),It>0&&c.jsxs("option",{value:"tiktok",children:[" TikTok (",It,")"]})]})]})}),Nt?c.jsxs("div",{className:"space-y-3",children:[ht.map(P=>{var q;return c.jsx("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 active:bg-gray-50",onClick:()=>{m(P),h(!0)},children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:P.image?c.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(Va,{size:24,className:"text-gray-400"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-gray-900 truncate",children:P.name}),c.jsx("p",{className:"text-xs text-gray-500",children:P.sku||P.code}),c.jsxs("div",{className:"flex items-center justify-between mt-1",children:[c.jsxs("p",{className:"text-primary font-bold",children:["Rp ",(q=P.price)==null?void 0:q.toLocaleString("id-ID")]}),c.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${P.stock===0?"bg-red-100 text-red-700":P.stock<=(P.minStock||5)?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:["Stok: ",P.stock]})]})]})]})},P.id)}),ht.length===0&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Tidak ada produk ditemukan"}),He>1&&c.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 mt-3",children:[c.jsxs("div",{className:"text-center text-sm text-gray-600 mb-2",children:["Halaman ",L," dari ",He," (",Te," produk)"]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>z(P=>Math.max(1,P-1)),disabled:L===1,className:"px-4 py-2 text-sm bg-gray-100 rounded-lg disabled:opacity-50",children:" Prev"}),c.jsx("select",{value:L,onChange:P=>z(Number(P.target.value)),className:"px-3 py-2 text-sm border rounded-lg bg-white",children:Array.from({length:He},(P,q)=>c.jsx("option",{value:q+1,children:q+1},q+1))}),c.jsx("button",{onClick:()=>z(P=>Math.min(He,P+1)),disabled:L===He,className:"px-4 py-2 text-sm bg-gray-100 rounded-lg disabled:opacity-50",children:"Next "})]}),c.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[c.jsx("button",{onClick:()=>K(20),className:`px-3 py-1 text-xs rounded ${G===20?"bg-primary text-white":"bg-gray-100"}`,children:"20"}),c.jsx("button",{onClick:()=>K(50),className:`px-3 py-1 text-xs rounded ${G===50?"bg-primary text-white":"bg-gray-100"}`,children:"50"}),c.jsx("button",{onClick:()=>K(100),className:`px-3 py-1 text-xs rounded ${G===100?"bg-primary text-white":"bg-gray-100"}`,children:"100"})]})]})]}):c.jsxs("div",{className:"card overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-14",children:"Foto"}),c.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-24",children:"SKU"}),c.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),c.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-20",children:"Kategori"}),c.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-16",children:"Tipe"}),c.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Modal"}),c.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Harga"}),c.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Margin"}),c.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-16",children:"Stok"}),c.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Status"}),c.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-16",children:"Aksi"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ht.map(P=>c.jsxs(c.Fragment,{children:[c.jsxs("tr",{className:`hover:bg-gray-50 ${P.isGrouped?"bg-blue-50/30":""}`,children:[c.jsx("td",{className:"px-2 py-2",children:c.jsxs("div",{className:"flex items-center gap-1",children:[P.isGrouped?c.jsx("button",{onClick:()=>Et(P.id),className:"p-1 hover:bg-blue-100 rounded transition-colors",title:I[P.id]?"Tutup varian":"Lihat varian",children:I[P.id]?c.jsx(__,{size:18,className:"text-blue-600"}):c.jsx(E9,{size:18,className:"text-blue-600"})}):c.jsx("div",{className:"w-6"}),c.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:[P.image?c.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover",onError:q=>{q.target.style.display="none",q.target.nextSibling.style.display="flex"}}):null,c.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${P.image?"hidden":"flex"}`,children:c.jsx(Hu,{size:16})})]})]})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:P.sku||P.code,children:P.isGrouped?c.jsxs("span",{className:"text-gray-400 italic text-xs",children:[P.variantCount," varian"]}):c.jsx("span",{className:"truncate block",children:P.sku||(P.source==="shopee"?"-":P.code)})}),c.jsx("td",{className:"px-2 py-2",onClick:()=>P.isGrouped&&Et(P.id),children:c.jsx("div",{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:P.name}),P.source==="shopee"&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[c.jsx(Bf,{size:10}),"Shopee"]}),P.isGrouped&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:[P.variantCount," Varian"]}),!P.isGrouped&&c.jsxs("button",{onClick:q=>{q.stopPropagation(),U(P)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Produk",children:[c.jsx(mo,{size:12}),"Edit"]})]})})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:c.jsx("span",{className:"badge badge-info text-xs",children:P.category})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:c.jsx("span",{className:`badge text-xs ${P.isPackage?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:P.isPackage?"Paket":"Satuan"})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600",children:P.isGrouped?"-":`Rp ${(P.costPrice||P.cost||0).toLocaleString("id-ID")}`}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold",children:P.isGrouped?typeof P.priceRange=="object"?c.jsxs("span",{className:"text-sm",children:["Rp ",P.priceRange.min.toLocaleString("id-ID")," - ",P.priceRange.max.toLocaleString("id-ID")]}):`Rp ${(P.priceRange||0).toLocaleString("id-ID")}`:`Rp ${(P.price||0).toLocaleString("id-ID")}`}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:P.isGrouped?c.jsx("span",{className:"text-gray-400",children:"-"}):c.jsxs("div",{children:[c.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",((P.price||0)-(P.costPrice||P.cost||0)).toLocaleString("id-ID")]}),(P.costPrice||P.cost)>0&&c.jsxs("p",{className:"text-xs text-gray-500",children:[(((P.price||0)-(P.costPrice||P.cost))/(P.costPrice||P.cost)*100).toFixed(1),"%"]})]})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:c.jsx("span",{className:`font-semibold text-xs ${(P.isGrouped?P.totalStock:P.stock)<=(P.minStock||5)?"text-red-600":(P.isGrouped?P.totalStock:P.stock)<=(P.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:P.isGrouped?P.totalStock:P.stock||0})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:(P.isGrouped?P.totalStock:P.stock)<=(P.minStock||5)?c.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):c.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:c.jsxs("div",{className:"flex gap-1 justify-end",children:[P.barcode&&!P.isGrouped&&c.jsx("button",{onClick:()=>Se(P),className:"text-purple-600 hover:text-purple-700 p-1",title:"Lihat Barcode",children:c.jsx(W_,{size:14})}),!P.isGrouped&&c.jsx("button",{onClick:()=>U(P),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Produk",children:c.jsx(mo,{size:14})}),P.source!=="shopee"&&!P.isGrouped&&c.jsx("button",{onClick:()=>$(P.id),className:"text-red-600 hover:text-red-700 p-1",title:"Hapus Produk",children:c.jsx(Ta,{size:14})}),P.source==="shopee"&&!P.isGrouped&&c.jsx("button",{onClick:()=>Ue(P),className:"text-green-600 hover:text-green-700 p-1",title:"Update ke Shopee",children:c.jsx(_o,{size:14})}),P.source==="shopee"&&c.jsx("a",{href:`https://shopee.co.id/product/${P.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 p-1",title:"Lihat di Shopee",children:c.jsx(T8,{size:14})})]})})]},P.id),P.isGrouped&&I[P.id]&&P.variants.map((q,X)=>c.jsxs("tr",{className:"bg-blue-50/50 hover:bg-blue-100/70 border-l-4 border-blue-300",children:[c.jsx("td",{className:"px-2 py-2",children:c.jsx("div",{className:"flex items-center gap-1 pl-7",children:c.jsxs("div",{className:"w-8 h-8 rounded overflow-hidden bg-white border-2 border-blue-200 flex items-center justify-center",children:[q.image?c.jsx("img",{src:q.image,alt:q.name,className:"w-full h-full object-cover",onError:ce=>{ce.target.style.display="none",ce.target.nextSibling.style.display="flex"}}):null,c.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${q.image?"hidden":"flex"}`,children:c.jsx(Hu,{size:12})})]})})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:q.sku,children:c.jsx("span",{className:"bg-white px-1.5 py-0.5 rounded border border-blue-200",children:q.sku||"-"})}),c.jsx("td",{className:"px-2 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-400 text-sm font-bold",children:""}),c.jsx("p",{className:"text-sm font-medium text-gray-800",children:q.variantName||q.name}),c.jsxs("span",{className:"text-xs text-gray-500 bg-white px-1.5 py-0.5 rounded border border-blue-200",children:["Varian ",X+1]}),c.jsxs("button",{onClick:()=>U(q),className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-blue-600 bg-white hover:bg-blue-50 rounded border border-blue-200",title:"Edit Varian",children:[c.jsx(mo,{size:10}),"Edit"]})]})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:c.jsx("span",{className:"badge badge-info text-xs",children:q.category})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:c.jsx("span",{className:"badge bg-gray-100 text-gray-600 text-xs",children:"Varian"})}),c.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600 text-xs",children:["Rp ",(q.costPrice||q.cost||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold text-xs",children:["Rp ",(q.price||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:c.jsxs("span",{className:"font-semibold text-green-600 text-xs",children:["Rp ",((q.price||0)-(q.costPrice||q.cost||0)).toLocaleString("id-ID")]})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:c.jsx("span",{className:`font-semibold text-xs ${q.stock<=(q.minStock||5)?"text-red-600":q.stock<=(q.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:q.stock||0})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:q.stock<=(q.minStock||5)?c.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):c.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),c.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:c.jsxs("div",{className:"flex gap-1 justify-end",children:[c.jsx("button",{onClick:()=>U(q),className:"text-blue-500 hover:text-blue-600 p-1",title:"Edit Varian",children:c.jsx(mo,{size:14})}),q.source==="shopee"&&c.jsx("button",{onClick:()=>Ue(q),className:"text-green-500 hover:text-green-600 p-1",title:"Update ke Shopee",children:c.jsx(_o,{size:14})}),q.source==="shopee"&&c.jsx("a",{href:`https://shopee.co.id/product/${q.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 p-1",title:"Lihat di Shopee",children:c.jsx(T8,{size:14})})]})})]},q.id))]}))})]})}),He>1&&c.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan ",c.jsx("span",{className:"font-medium",children:st+1})," - ",c.jsx("span",{className:"font-medium",children:Math.min(gt,Te)})," dari ",c.jsx("span",{className:"font-medium",children:Te})," produk"]}),c.jsxs("select",{value:G,onChange:P=>{K(Number(P.target.value)),z(1)},className:"input py-1 px-2 text-sm",children:[c.jsx("option",{value:10,children:"10 per halaman"}),c.jsx("option",{value:20,children:"20 per halaman"}),c.jsx("option",{value:50,children:"50 per halaman"}),c.jsx("option",{value:100,children:"100 per halaman"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>z(1),disabled:L===1,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pertama"}),c.jsx("button",{onClick:()=>z(P=>Math.max(1,P-1)),disabled:L===1,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:" Prev"}),c.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,He)},(P,q)=>{let X;return He<=5||L<=3?X=q+1:L>=He-2?X=He-4+q:X=L-2+q,c.jsx("button",{onClick:()=>z(X),className:`px-3 py-1 text-sm border rounded ${L===X?"bg-primary text-white border-primary":"hover:bg-gray-50"}`,children:X},X)})}),c.jsx("button",{onClick:()=>z(P=>Math.min(He,P+1)),disabled:L===He,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "}),c.jsx("button",{onClick:()=>z(He),disabled:L===He,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Terakhir"})]})]})]}),f&&c.jsx(Hz,{product:p,categories:le,onClose:()=>{h(!1),m(null)},onSubmit:jt,onManageCategories:()=>b(!0),onManageUnits:()=>w(!0)}),x&&c.jsx(Gz,{categories:le,onClose:()=>b(!1)}),v&&c.jsx(qz,{onClose:()=>w(!1)}),oe&&Y&&c.jsx(Vz,{product:Y,onClose:()=>{V(!1),ie(null)},onSync:Xe,isSyncing:de})]})}function Hz({product:s,categories:n,onClose:i,onSubmit:o,onManageCategories:l,onManageUnits:u}){const{products:f,units:h}=la(),[p,m]=ae.useState(!1),[x,b]=ae.useState(!1),[v,w]=ae.useState(null),[y,A]=ae.useState(s?{...s,costPrice:s.costPrice||s.cost||"",price:s.price||s.sellingPrice||""}:{sku:oc(),name:"",category:n[0],costPrice:"",price:"",stock:"",minStock:"",unit:"pcs",barcode:lc(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),[k,E]=ae.useState(!1),[j,N]=ae.useState(""),[I,M]=ae.useState(!1),B=V=>V.replace(/\b\w/g,Y=>Y.toUpperCase()),F=V=>V.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),D=V=>parseInt(V.toString().replace(/\D/g,""))||0,H=(V,Y)=>{const ie=V.target.files[0];if(ie){const de=new FileReader;de.onloadend=()=>{const re=[...y.photos||[]];re[Y]=de.result,A({...y,photos:re})},de.readAsDataURL(ie)}},T=V=>{const Y=[...y.photos||[]];Y[V]=null,A({...y,photos:Y})},_=async V=>{var pe,Fe,Ce,ve,Be,Ue;V.preventDefault();const Y=y.hasVariants&&y.variants?y.variants.reduce((Xe,Re)=>Xe+parseInt(Re.stock||0),0):0,ie=y.hasVariants&&y.variants&&y.variants.length>0?y.variants.reduce((Xe,Re)=>{const Ge=parseInt(Re.stock||0),Oe=parseFloat(Re.costPrice||0);return Xe+Ge*Oe},0)/(Y||1):0,de=y.hasVariants&&y.variants&&y.variants.length>0?y.variants.reduce((Xe,Re)=>{const Ge=parseInt(Re.stock||0),Oe=parseFloat(Re.price||0);return Xe+Ge*Oe},0)/(Y||1):0;let re=parseFloat(y.costPrice)||0,ne=parseFloat(y.price)||0,le=parseInt(y.stock)||0,ue=parseInt(y.minStock)||0;y.isPackage&&y.packageItems&&y.packageItems.length>0&&(re=y.packageItems.reduce((Xe,Re)=>{const Ge=f.find(Oe=>Oe.id===Re.id);return Xe+((Ge==null?void 0:Ge.costPrice)||0)*Re.qty},0)),y.hasVariants&&y.variants&&y.variants.length>0&&(le=Y,re=ie,ne=de,ue=oe);const Me={...y,costPrice:re,price:ne,stock:le,minStock:ue};if(p&&s&&["shopee","lazada","tokopedia","tiktok"].includes(s.source)){b(!0);const Xe=s.source.charAt(0).toUpperCase()+s.source.slice(1);w({type:"info",text:`Menyinkronkan ke ${Xe}...`}),console.log(" Starting marketplace sync...",{platform:s.source,productId:s.shopeeItemId||s.lazadaItemId||s.tokopediaProductId||s.tiktokProductId,updates:{name:y.name,price:ne,stock:le,sku:y.sku}});try{let Re=null;const Ge=JSON.parse(localStorage.getItem("marketplace-stores-storage")||"{}"),Oe=((pe=Ge==null?void 0:Ge.state)==null?void 0:pe.stores)||[];if(console.log(" Checking Zustand marketplace stores:",Oe),Re=Oe.find(We=>We.platform===s.source&&We.isConnected),!Re){const We=JSON.parse(localStorage.getItem("marketplace_stores")||"[]");console.log(" Checking marketplace_stores array:",We),Re=We.find(Ke=>Ke.platform===s.source&&Ke.isActive)}if(!Re&&s.source==="shopee"){console.log(" Fetching Shopee credentials from Supabase...");try{const{createClient:We}=await zc(async()=>{const{createClient:He}=await import("./wrapper-BSS-z2xS.js");return{createClient:He}},[]),Ke="https://naydyhkqodppdhzwkctr.supabase.co",Te="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c";if(Ke&&Te&&Ke!=="your-supabase-url"){const He=We(Ke.trim(),Te.trim()),{data:st,error:gt}=await He.from("shopee_tokens").select("*").limit(1).maybeSingle();!gt&&st?(Re={platform:"shopee",shopId:st.shop_id,shopName:"Shopee Store",isActive:!0,credentials:{partnerId:st.partner_id,partnerKey:st.partner_key,accessToken:st.access_token}},console.log(" Successfully fetched Shopee credentials from Supabase:",{source:"SUPABASE",partnerId:st.partner_id,shopId:st.shop_id,hasAccessToken:!!st.access_token,accessTokenLength:(Fe=st.access_token)==null?void 0:Fe.length,accessTokenPreview:st.access_token?`${st.access_token.substring(0,15)}...`:"none"})):gt?console.error(" Failed to get Shopee credentials from Supabase:",gt.message):console.warn(" No Shopee credentials found in Supabase")}}catch(We){console.error(" Error reading from Supabase:",We.message)}if(!Re){console.log(" Trying localStorage as fallback...");const{user:We}=A1.getState(),Ke=(We==null?void 0:We.id)||"default",Te=bt=>`${bt}_user_${Ke}`,He=localStorage.getItem(Te("shopee_partner_id")),st=localStorage.getItem(Te("shopee_partner_key")),gt=localStorage.getItem(Te("shopee_shop_id")),ht=localStorage.getItem(Te("shopee_access_token"));console.log(" Shopee credentials from localStorage:",{partnerId:He?` ${He}`:" Not found",partnerKey:st?" Found":" Not found",shopId:gt?` ${gt}`:" Not found",accessToken:ht?" Found":" Not found"}),He&&st&&gt&&ht?(Re={platform:"shopee",shopId:gt,shopName:(We==null?void 0:We.name)||"Shopee Store",isActive:!0,credentials:{partnerId:He,partnerKey:st,accessToken:ht}},console.log(" Successfully built store object from localStorage:",{source:"LOCALSTORAGE",partnerId:He,shopId:gt,hasAccessToken:!!ht,accessTokenLength:ht==null?void 0:ht.length,accessTokenPreview:ht?`${ht.substring(0,15)}...`:"none"})):console.error(" Missing Shopee credentials in both Supabase and localStorage")}}if(console.log(" Final store data:",Re?"Found":"Not found",Re),!Re){const We=`Toko ${Xe} tidak ditemukan atau tidak aktif`;b(!1),w({type:"error",text:` ${We}`}),alert(` Gagal Update ke ${Xe}

${We}

Silakan cek koneksi marketplace di Pengaturan.`),setTimeout(()=>w(null),5e3),o(Me);return}const Le={name:y.name,price:ne,stock:le,sku:y.sku};let rt,Se;if(s.source==="shopee"){if(rt=s.shopeeItemId,Se=s.shopeeModelId||s.modelId||s.model_id,!rt){console.error(" Missing shopeeItemId for product:",s.name),alert(` Error: Produk ini tidak memiliki Shopee Item ID.

Produk: ${s.name}

Silakan sync ulang produk dari Shopee.`),b(!1),w({type:"error",text:" Missing Shopee Item ID"}),setTimeout(()=>w(null),5e3),o(Me);return}console.log(" Shopee Product IDs:",{itemId:rt,modelId:Se,productName:s.name,hasModelId:!!Se,productFields:{shopeeModelId:s.shopeeModelId,modelId:s.modelId,model_id:s.model_id}})}else s.source==="lazada"?(rt=s.lazadaItemId,Se=s.lazadaSkuId):s.source==="tokopedia"?(rt=s.tokopediaProductId,Se=null):s.source==="tiktok"&&(rt=s.tiktokProductId,Se=null);console.log(" Calling marketplace API...",{productId:rt,variantId:Se,updates:Le});const qe=await Ga.updateProduct(Re,rt,Se,Le);if(console.log(" API Response:",qe),b(!1),qe.success){const We=` Berhasil update ke ${Xe}!`;w({type:"success",text:We}),alert(`${We}

 Nama: ${y.name}
 Harga: Rp ${ne.toLocaleString("id-ID")}
 Stok: ${le}
 SKU: ${y.sku}`)}else{console.error(" Full error response:",JSON.stringify(qe,null,2));let We=qe.error||"Unknown error";if(qe.details){const Ke=[];(Ce=qe.details.name)!=null&&Ce.error&&Ke.push(`Name: ${qe.details.name.message||qe.details.name.error}`),(ve=qe.details.price)!=null&&ve.error&&Ke.push(`Price: ${qe.details.price.message||qe.details.price.error}`),(Be=qe.details.stock)!=null&&Be.error&&Ke.push(`Stock: ${qe.details.stock.message||qe.details.stock.error}`),(Ue=qe.details.sku)!=null&&Ue.error&&Ke.push(`SKU: ${qe.details.sku.message||qe.details.sku.error}`),Ke.length>0&&(We=Ke.join(`
`))}w({type:"error",text:` Gagal update: ${We}`}),alert(` Gagal Update ke ${Xe}

${We}

Data lokal tetap tersimpan.`)}}catch(Re){console.error(" Marketplace sync error:",Re),b(!1);const Ge=Re.message||"Unknown error";w({type:"error",text:` Gagal update: ${Ge}`}),alert(` Gagal Update ke ${Xe}

${Ge}

Data lokal tetap tersimpan.`)}setTimeout(()=>w(null),1e4)}o(Me),s||(A({sku:oc(),name:"",category:n[0]||"",costPrice:"",price:"",stock:"",minStock:"",unit:h[0]||"pcs",barcode:lc(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),N(""))},L=y.isPackage&&y.packageItems?y.packageItems.reduce((V,Y)=>{const ie=f.find(de=>de.id===Y.id);return V+((ie==null?void 0:ie.costPrice)||0)*Y.qty},0):0,z=y.hasVariants&&y.variants?y.variants.reduce((V,Y)=>V+parseInt(Y.stock||0),0):0,G=y.hasVariants&&y.variants&&y.variants.length>0?y.variants.reduce((V,Y)=>V+parseFloat(Y.costPrice||0)*parseInt(Y.stock||0),0)/z:0,K=y.hasVariants&&y.variants&&y.variants.length>0?y.variants.reduce((V,Y)=>V+parseFloat(Y.price||0)*parseInt(Y.stock||0),0)/z:0,oe=y.hasVariants&&y.variants&&y.variants.length>0?y.variants.reduce((V,Y)=>V+parseInt(Y.minStock||0),0):0;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h3",{className:"text-xl font-bold",children:s?"Edit Produk":"Tambah Produk Baru"}),(s==null?void 0:s.source)==="shopee"&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[c.jsx(Bf,{size:12}),"Shopee"]})]}),c.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),v&&c.jsx("div",{className:`mx-6 mt-4 p-3 rounded-lg text-sm ${v.type==="success"?"bg-green-50 text-green-800 border border-green-200":v.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:v.text}),c.jsxs("form",{onSubmit:_,className:"p-6 space-y-4 overflow-y-auto flex-1",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Produk *"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:y.sku,onChange:V=>A({...y,sku:V.target.value}),className:"input flex-1",placeholder:"SJA123456",required:!0}),c.jsx("button",{type:"button",onClick:()=>A({...y,sku:oc()}),className:"btn btn-secondary",title:"Generate SKU",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: SJA + 6 angka"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:y.barcode,onChange:V=>A({...y,barcode:V.target.value}),className:"input flex-1",placeholder:"123456789"}),c.jsx("button",{type:"button",onClick:()=>A({...y,barcode:lc()}),className:"btn btn-secondary",title:"Generate Barcode",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 digit angka"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Produk *"}),c.jsx("input",{type:"text",value:y.name,onChange:V=>A({...y,name:B(V.target.value)}),className:"input",placeholder:"Nama Lengkap Produk",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Produk *"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:!y.isPackage,onChange:()=>A({...y,isPackage:!1,packageItems:[]}),className:"w-4 h-4"}),c.jsx("span",{children:"Produk Satuan"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:y.isPackage,onChange:()=>A({...y,isPackage:!0}),className:"w-4 h-4"}),c.jsx("span",{children:"Produk Paket"})]})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.isPackage?"Paket berisi beberapa produk bundling":"Produk dijual satuan"})]}),y.isPackage&&c.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-semibold text-purple-900",children:"Isi Paket Bundling"}),c.jsxs("button",{type:"button",onClick:()=>E(!k),className:"btn btn-primary btn-sm",children:[c.jsx(ta,{size:16}),"Tambah Produk"]})]}),k&&c.jsxs("div",{className:"mb-4 bg-white rounded-lg p-3 border",children:[c.jsxs("div",{className:"relative mb-3",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),c.jsx("input",{type:"text",value:j,onChange:V=>N(V.target.value),placeholder:"Cari produk untuk ditambahkan ke paket...",className:"input w-full pl-10 text-sm"})]}),c.jsx("div",{className:"overflow-x-auto max-h-64 overflow-y-auto border rounded",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-100 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"SKU"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Nama Produk"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Kategori"}),c.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Modal"}),c.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Jual"}),c.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),c.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),c.jsx("tbody",{className:"bg-white divide-y",children:f.filter(V=>!V.isPackage&&V.id!==(s==null?void 0:s.id)).filter(V=>!j||V.name.toLowerCase().includes(j.toLowerCase())||V.sku&&V.sku.toLowerCase().includes(j.toLowerCase())||V.code&&V.code.toLowerCase().includes(j.toLowerCase())).map(V=>{var ie;const Y=(ie=y.packageItems)==null?void 0:ie.find(de=>de.id===V.id);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:V.sku||V.code}),c.jsx("td",{className:"px-3 py-2",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:V.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Stok: ",V.stock," ",V.unit]})]})}),c.jsx("td",{className:"px-3 py-2",children:c.jsx("span",{className:"text-xs badge badge-info",children:V.category})}),c.jsxs("td",{className:"px-3 py-2 text-right text-gray-600",children:["Rp ",(V.costPrice||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-3 py-2 text-right font-semibold",children:["Rp ",V.price.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-3 py-2",children:Y?c.jsx("input",{type:"number",min:"1",value:Y.qty,onChange:de=>{const re=y.packageItems.map(ne=>ne.id===V.id?{...ne,qty:parseInt(de.target.value)||1}:ne);A({...y,packageItems:re})},className:"input input-sm w-16 text-center",onClick:de=>de.stopPropagation()}):c.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),c.jsx("td",{className:"px-3 py-2 text-center",children:Y?c.jsx("button",{type:"button",onClick:()=>{A({...y,packageItems:y.packageItems.filter(de=>de.id!==V.id)})},className:"text-red-600 hover:text-red-700",title:"Hapus dari paket",children:c.jsx(Ta,{size:16})}):c.jsx("button",{type:"button",onClick:()=>{A({...y,packageItems:[...y.packageItems||[],{id:V.id,name:V.name,sku:V.sku||V.code,costPrice:V.costPrice||0,price:V.price,qty:1}]})},className:"text-green-600 hover:text-green-700",title:"Tambah ke paket",children:c.jsx(ta,{size:16})})})]},V.id)})})]})})]}),y.packageItems&&y.packageItems.length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm font-medium text-purple-900",children:["Produk dalam Paket (",y.packageItems.length,"):"]}),y.packageItems.map((V,Y)=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm",children:V.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[V.sku,"  ",V.qty,"x"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right text-sm",children:[c.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",((V.costPrice||0)*V.qty).toLocaleString("id-ID")]}),c.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",(V.price*V.qty).toLocaleString("id-ID")]})]}),c.jsx("button",{type:"button",onClick:()=>{A({...y,packageItems:y.packageItems.filter((ie,de)=>de!==Y)})},className:"text-red-600 hover:text-red-700",children:c.jsx(fn,{size:16})})]})]},V.id)),c.jsxs("div",{className:"bg-purple-100 p-4 rounded border border-purple-300 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-semibold text-purple-900",children:"Total Modal Paket:"}),c.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["Rp ",L.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-semibold text-purple-900",children:"Total Nilai Jual:"}),c.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["Rp ",y.packageItems.reduce((V,Y)=>V+Y.price*Y.qty,0).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-purple-300",children:[c.jsx("span",{className:"font-bold text-purple-900",children:"Margin Paket:"}),c.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",(y.packageItems.reduce((V,Y)=>V+Y.price*Y.qty,0)-L).toLocaleString("id-ID")]})]}),c.jsx("p",{className:"text-xs text-purple-700 mt-2",children:" Anda bisa set harga jual paket berbeda dari total nilai produk"})]})]}):c.jsxs("div",{className:"text-center py-6 text-gray-500",children:[c.jsx(Va,{size:48,className:"mx-auto mb-2 text-gray-400"}),c.jsx("p",{className:"text-sm",children:"Belum ada produk dalam paket"}),c.jsx("p",{className:"text-xs",children:'Klik "Tambah Produk" untuk memulai'})]})]}),c.jsxs("div",{className:"border-2 border-dashed border-indigo-300 rounded-lg p-4 bg-indigo-50",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"hasVariants",checked:y.hasVariants,onChange:V=>{A({...y,hasVariants:V.target.checked,variants:V.target.checked?y.variants:[]})},className:"w-4 h-4"}),c.jsx("label",{htmlFor:"hasVariants",className:"font-semibold text-indigo-900",children:"Produk Memiliki Varian"})]})}),y.hasVariants&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{type:"button",onClick:()=>M(!0),className:"btn btn-primary btn-sm",children:[c.jsx(ta,{size:16}),"Tambah Varian"]}),y.variants&&y.variants.length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm font-medium text-indigo-900",children:["Varian Tersedia (",y.variants.length,"):"]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.variants.map((V,Y)=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm",children:V.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",V.sku,"  Barcode: ",V.barcode]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right text-sm",children:[c.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",V.costPrice.toLocaleString("id-ID")]}),c.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",V.price.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-xs text-blue-600",children:["Stok: ",V.stock]})]}),c.jsx("button",{type:"button",onClick:()=>{A({...y,variants:y.variants.filter((ie,de)=>de!==Y)})},className:"text-red-600 hover:text-red-700",children:c.jsx(fn,{size:16})})]})]},Y))}),c.jsx("div",{className:"bg-indigo-100 p-4 rounded border border-indigo-300",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-semibold text-indigo-900",children:"Total Stok Semua Varian:"}),c.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[y.variants.reduce((V,Y)=>V+parseInt(Y.stock||0),0)," pcs"]})]})})]}):c.jsxs("div",{className:"text-center py-6 text-gray-500 bg-white rounded border border-dashed",children:[c.jsx(Va,{size:48,className:"mx-auto mb-2 text-gray-400"}),c.jsx("p",{className:"text-sm",children:"Belum ada varian"}),c.jsx("p",{className:"text-xs",children:'Klik "Tambah Varian" untuk memulai'})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Foto Produk (Maksimal 3)"}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:[0,1,2].map(V=>{var Y;return c.jsx("div",{className:"relative",children:(Y=y.photos)!=null&&Y[V]?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:y.photos[V],alt:`Foto ${V+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-300"}),c.jsx("button",{type:"button",onClick:()=>T(V),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(fn,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[c.jsx(Hu,{size:32,className:"text-gray-400 mb-2"}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Upload Foto ",V+1]}),c.jsx("input",{type:"file",accept:"image/*",onChange:ie=>H(ie,V),className:"hidden"})]})},V)})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Kategori *"}),c.jsx("button",{type:"button",onClick:l,className:"text-xs text-primary hover:underline",children:"Kelola Kategori"})]}),c.jsx("select",{value:y.category,onChange:V=>A({...y,category:V.target.value}),className:"input",required:!0,children:n.map(V=>c.jsx("option",{value:V,children:V},V))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Satuan *"}),c.jsx("button",{type:"button",onClick:u,className:"text-xs text-primary hover:underline",children:"Kelola Satuan"})]}),c.jsxs("select",{value:y.unit,onChange:V=>A({...y,unit:V.target.value}),className:"input",required:!0,children:[c.jsx("option",{value:"pcs",children:"Pcs"}),c.jsx("option",{value:"kg",children:"Kg"}),c.jsx("option",{value:"liter",children:"Liter"}),c.jsx("option",{value:"box",children:"Box"}),c.jsx("option",{value:"pack",children:"Pack"}),c.jsx("option",{value:"lusin",children:"Lusin"}),c.jsx("option",{value:"gross",children:"Gross"}),c.jsx("option",{value:"roll",children:"Roll"}),c.jsx("option",{value:"porsi",children:"Porsi"}),c.jsx("option",{value:"gelas",children:"Gelas"}),c.jsx("option",{value:"paket",children:"Paket"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal *",y.isPackage&&c.jsx("span",{className:"text-purple-600 text-xs ml-2",children:"(Otomatis dari isi paket)"}),y.hasVariants&&y.variants&&y.variants.length>0&&c.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:y.isPackage?F(L):y.hasVariants&&y.variants&&y.variants.length>0?F(Math.round(G)):F(y.costPrice||""),onChange:V=>A({...y,costPrice:D(V.target.value)}),className:"input pl-10",placeholder:"0",disabled:y.isPackage||y.hasVariants&&y.variants&&y.variants.length>0,required:!0})]}),!y.isPackage&&!y.hasVariants&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Harga beli/modal produk"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual *",y.isPackage&&y.costPrice&&c.jsxs("span",{className:"text-green-600 text-xs ml-2",children:["(Margin: Rp ",(parseFloat(y.price||0)-L).toLocaleString("id-ID"),")"]}),y.hasVariants&&y.variants&&y.variants.length>0&&c.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:y.hasVariants&&y.variants&&y.variants.length>0?F(Math.round(K)):F(y.price||""),onChange:V=>A({...y,price:D(V.target.value)}),className:"input pl-10",placeholder:"0",disabled:y.hasVariants&&y.variants&&y.variants.length>0,required:!0})]}),!y.isPackage&&!y.hasVariants&&y.costPrice&&y.price&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Margin: Rp ",(parseFloat(y.price)-parseFloat(y.costPrice)).toLocaleString("id-ID")," ","(",((parseFloat(y.price)-parseFloat(y.costPrice))/parseFloat(y.costPrice)*100).toFixed(1),"%)"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok *",y.hasVariants&&y.variants&&y.variants.length>0&&c.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),c.jsx("input",{type:"number",value:y.hasVariants&&y.variants&&y.variants.length>0?z:y.stock,onChange:V=>{y.hasVariants&&y.variants&&y.variants.length>0||A({...y,stock:V.target.value})},className:`input ${y.hasVariants&&y.variants&&y.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:y.hasVariants&&y.variants&&y.variants.length>0,required:!(y.hasVariants&&y.variants&&y.variants.length>0)})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Minimum *",y.hasVariants&&y.variants&&y.variants.length>0&&c.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),c.jsx("input",{type:"number",value:y.hasVariants&&y.variants&&y.variants.length>0?oe:y.minStock,onChange:V=>{y.hasVariants&&y.variants&&y.variants.length>0||A({...y,minStock:V.target.value})},className:`input ${y.hasVariants&&y.variants&&y.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:y.hasVariants&&y.variants&&y.variants.length>0,required:!(y.hasVariants&&y.variants&&y.variants.length>0)})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[c.jsx("button",{type:"submit",className:"flex-1 btn btn-primary flex items-center justify-center gap-2",disabled:x,children:x?c.jsxs(c.Fragment,{children:[c.jsx(_o,{size:18,className:"animate-spin"}),"Menyinkronkan..."]}):c.jsxs(c.Fragment,{children:[p&&s&&["shopee","lazada","tokopedia","tiktok"].includes(s.source)&&c.jsx(Gu,{size:18}),s?"Update Produk":"Simpan Produk",p&&s&&["shopee","lazada","tokopedia","tiktok"].includes(s.source)&&" + Sync"]})}),c.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]}),I&&c.jsx(Yz,{productName:y.name||"Produk Baru",onClose:()=>M(!1),onAdd:V=>{A({...y,variants:[...y.variants||[],V]}),alert("Varian berhasil ditambahkan!")}})]})})}function Gz({categories:s,onClose:n}){const[i,o]=ae.useState(s),[l,u]=ae.useState(""),{addCategory:f,setCategories:h}=la(),p=async()=>{if(l.trim()){const x=await f(l.trim());x.success?(o([...i,l.trim()]),u("")):alert(x.error||"Gagal menambah kategori")}},m=async x=>{if(console.log(" Attempting to delete category:",x),!confirm(`Hapus kategori "${x}"?`)){console.log(" Delete cancelled by user");return}try{console.log(" Calling Firebase directly...");const{firebaseDB:b}=await zc(async()=>{const{firebaseDB:y}=await Promise.resolve().then(()=>c_);return{firebaseDB:y}},void 0),v=i.filter(y=>y!==x);console.log(" New categories:",v);const w=await b.set("categories",v);console.log(" Firebase result:",w),w&&w.success?(o(v),h(v),console.log(" Category deleted successfully")):(console.error(" Delete failed:",w),alert("Gagal menghapus kategori: "+((w==null?void 0:w.error)||"Unknown error")))}catch(b){console.error(" Delete error:",b),alert("Error menghapus kategori: "+b.message)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Kelola Kategori"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,onChange:x=>u(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Nama kategori baru...",className:"input flex-1"}),c.jsx("button",{onClick:p,className:"btn btn-primary",children:c.jsx(ta,{size:20})})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:i.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("p",{children:"Belum ada kategori"}),c.jsx("p",{className:"text-sm",children:"Tambahkan kategori baru di atas"})]}):i.map(x=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[c.jsx("span",{className:"font-medium text-base",children:x}),c.jsx("button",{onClick:()=>m(x),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus kategori",children:c.jsx(Ta,{size:20})})]},x))}),c.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function qz({onClose:s}){const{units:n,addUnit:i,removeUnit:o}=la(),[l,u]=ae.useState(""),f=()=>{l.trim()&&!n.includes(l.trim())&&(i(l.trim()),u(""))},h=p=>{confirm(`Hapus satuan "${p}"?`)&&o(p)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Kelola Satuan"}),c.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),onKeyPress:p=>p.key==="Enter"&&f(),placeholder:"Nama satuan baru...",className:"input flex-1"}),c.jsx("button",{onClick:f,className:"btn btn-primary",children:c.jsx(ta,{size:20})})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(p=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:p}),c.jsx("button",{onClick:()=>h(p),className:"text-red-600 hover:text-red-700",children:c.jsx(Ta,{size:16})})]},p))})}),c.jsx("button",{onClick:s,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function Yz({onClose:s,onAdd:n,productName:i}){const[o,l]=ae.useState({name:"",sku:oc(),barcode:lc(),costPrice:"",price:"",stock:"",minStock:""}),u=f=>{f.preventDefault(),n({...o,costPrice:parseFloat(o.costPrice)||0,price:parseFloat(o.price)||0,stock:parseInt(o.stock)||0,minStock:parseInt(o.minStock)||0}),l({name:"",sku:oc(),barcode:lc(),costPrice:"",price:"",stock:"",minStock:""})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold",children:"Tambah Varian Produk"}),c.jsx("p",{className:"text-sm text-gray-600",children:i})]}),c.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nama Varian ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:o.name,onChange:f=>l({...o,name:capitalizeWords(f.target.value)}),placeholder:"Contoh: Hitam - XL, Rasa Coklat, 500ml",className:"input",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tips: Gabungkan warna/ukuran/rasa dalam satu nama varian"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Varian"}),c.jsx("input",{type:"text",value:o.sku,onChange:f=>l({...o,sku:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),c.jsx("input",{type:"text",value:o.barcode,onChange:f=>l({...o,barcode:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:formatRupiah(o.costPrice||""),onChange:f=>l({...o,costPrice:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:formatRupiah(o.price||""),onChange:f=>l({...o,price:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Awal ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:o.stock,onChange:f=>l({...o,stock:f.target.value}),className:"input",placeholder:"0",required:!0,min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stok Minimum"}),c.jsx("input",{type:"number",value:o.minStock,onChange:f=>l({...o,minStock:f.target.value}),className:"input",placeholder:"0",min:"0"})]})]}),o.costPrice&&o.price&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-blue-900",children:"Margin Varian:"}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rp ",(parseFloat(o.price)-parseFloat(o.costPrice)).toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[((parseFloat(o.price)-parseFloat(o.costPrice))/parseFloat(o.costPrice)*100).toFixed(1),"%"]})]})]})}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:s,className:"btn btn-secondary flex-1",children:"Batal"}),c.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",children:[c.jsx(ta,{size:20}),"Tambah Varian"]})]})]})]})})}function Vz({product:s,onClose:n,onSync:i,isSyncing:o}){const[l,u]=ae.useState((s==null?void 0:s.sku)||""),[f,h]=ae.useState((s==null?void 0:s.price)||0),[p,m]=ae.useState((s==null?void 0:s.stock)||0),[x,b]=ae.useState(!1),[v,w]=ae.useState(!0),[y,A]=ae.useState(!0),k=E=>{E.preventDefault();const j={};x&&l&&(j.sku=l),v&&(j.price=parseFloat(f)),y&&(j.stock=parseInt(p)),i(j)};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:c.jsx(Bf,{className:"text-orange-600",size:20})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update ke Shopee"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sync data produk ke Shopee"})]})]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]})}),c.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:s==null?void 0:s.name}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Item ID: ",s==null?void 0:s.shopeeItemId,(s==null?void 0:s.shopeeModelId)&&` | Model ID: ${s==null?void 0:s.shopeeModelId}`]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"syncSku",checked:x,onChange:E=>b(E.target.checked),className:"rounded"}),c.jsx("label",{htmlFor:"syncSku",className:"text-sm font-medium",children:"Update SKU"})]}),x&&c.jsx("input",{type:"text",value:l,onChange:E=>u(E.target.value),className:"input w-full",placeholder:"SKU baru"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"syncPrice",checked:v,onChange:E=>w(E.target.checked),className:"rounded"}),c.jsx("label",{htmlFor:"syncPrice",className:"text-sm font-medium",children:"Update Harga"})]}),v&&c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"number",value:f,onChange:E=>h(E.target.value),className:"input w-full pl-10",placeholder:"0",min:"0"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"syncStock",checked:y,onChange:E=>A(E.target.checked),className:"rounded"}),c.jsx("label",{htmlFor:"syncStock",className:"text-sm font-medium",children:"Update Stok"})]}),y&&c.jsx("input",{type:"number",value:p,onChange:E=>m(E.target.value),className:"input w-full",placeholder:"0",min:"0"})]}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium",children:" Perhatian:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[c.jsx("li",{children:"SKU harus unik di Shopee"}),c.jsx("li",{children:"Harga tidak boleh di bawah minimum Shopee"}),c.jsx("li",{children:"Perubahan akan langsung diterapkan"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary flex-1",disabled:o,children:"Batal"}),c.jsx("button",{type:"submit",className:"btn bg-orange-500 hover:bg-orange-600 text-white flex-1 flex items-center justify-center gap-2",disabled:o||!x&&!v&&!y,children:o?c.jsxs(c.Fragment,{children:[c.jsx(_o,{size:18,className:"animate-spin"}),"Updating..."]}):c.jsxs(c.Fragment,{children:[c.jsx(_o,{size:18}),"Update ke Shopee"]})})]})]})]})})}function $z(){const[s,n]=ae.useState("overview"),{products:i,updateStock:o,getLowStockProducts:l,stockHistory:u}=la(),{user:f}=A1(),h=l(),p=i.reduce((x,b)=>x+b.price*b.stock,0),m=[{id:"overview",label:"Overview"},{id:"damaged",label:"Stok Rusak"},{id:"adjustment",label:"Penyesuaian Stok"},{id:"history",label:"Riwayat Stok"},{id:"opname",label:"Stock Opname"},{id:"transfer",label:"Transfer Stok"}];return i.reduce((x,b)=>x+(b.damagedStock||0),0),c.jsxs("div",{className:`${Nt?"p-4":"p-6"} space-y-4`,children:[c.jsxs("div",{children:[c.jsx("h1",{className:`${Nt?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:"Manajemen Stok"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Monitor dan kelola stok barang"})]}),c.jsxs("div",{className:`grid ${Nt?"grid-cols-2 gap-3":"grid-cols-1 md:grid-cols-4 gap-6"}`,children:[c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Total Item"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1`,children:i.length})]}),c.jsx(Va,{className:"text-primary",size:Nt?28:40})]})}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Nilai Stok"}),c.jsxs("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1`,children:["Rp ",(p/1e6).toFixed(1),"M"]})]}),c.jsx(Si,{className:"text-success",size:Nt?28:40})]})}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Stok Rendah"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1 text-warning`,children:h.length})]}),c.jsx(D2,{className:"text-warning",size:Nt?28:40})]})}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Total Stok"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1`,children:i.reduce((x,b)=>x+b.stock,0)})]}),c.jsx(Va,{className:"text-info",size:Nt?28:40})]})})]}),c.jsx("div",{className:"border-b",children:c.jsx("div",{className:`flex ${Nt?"overflow-x-auto hide-scrollbar gap-2 pb-1":"gap-4"}`,children:m.map(x=>c.jsx("button",{onClick:()=>n(x.id),className:`${Nt?"px-3 py-2 text-sm whitespace-nowrap":"px-4 py-2"} font-medium border-b-2 transition-colors ${s===x.id?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"}`,children:x.label},x.id))})}),s==="overview"&&c.jsx(Wz,{products:i}),s==="damaged"&&c.jsx(Kz,{products:i}),s==="adjustment"&&c.jsx(Jz,{products:i,updateStock:o,user:f}),s==="history"&&c.jsx(Xz,{stockHistory:u||[]}),s==="opname"&&c.jsx(Zz,{products:i}),s==="transfer"&&c.jsx(eL,{products:i})]})}function Wz({products:s}){return c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Stok Produk"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min Stok"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:s.map(n=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("p",{className:"font-medium",children:n.name}),c.jsx("p",{className:"text-sm text-gray-600",children:n.code})]}),c.jsx("td",{className:"px-6 py-4",children:n.category}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:[n.stock," ",n.unit]}),c.jsxs("td",{className:"px-6 py-4 text-right text-gray-600",children:[n.minStock," ",n.unit]}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:["Rp ",(n.price*n.stock).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 text-center",children:n.stock<=n.minStock?c.jsx("span",{className:"badge badge-danger",children:"Rendah"}):n.stock<=n.minStock*2?c.jsx("span",{className:"badge badge-warning",children:"Perhatian"}):c.jsx("span",{className:"badge badge-success",children:"Aman"})})]},n.id))})]})})]})}function Kz({products:s}){const n=s.filter(l=>(l.damagedStock||0)>0),i=s.reduce((l,u)=>l+(u.damagedStock||0),0),o=s.reduce((l,u)=>l+(u.damagedStock||0)*(u.cost||u.price||0),0);return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold",children:"Stok Barang Rusak"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Barang rusak dari retur pelanggan"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[i," unit"]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Nilai: Rp ",o.toLocaleString("id-ID")]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kode"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Normal"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Rusak"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Rusak"})]})}),c.jsx("tbody",{className:"divide-y",children:n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"Tidak ada barang rusak"})}):n.map(l=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:l.code||l.sku||"-"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"font-medium",children:l.name})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:l.category||"-"}),c.jsx("td",{className:"px-6 py-4 text-right font-medium",children:l.stock||0}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-red-600",children:l.damagedStock||0}),c.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:["Rp ",((l.damagedStock||0)*(l.cost||l.price||0)).toLocaleString("id-ID")]})]},l.id))})]})})]})}function Jz({products:s,updateStock:n,user:i}){const[o,l]=ae.useState(""),[u,f]=ae.useState(""),[h,p]=ae.useState("add"),[m,x]=ae.useState(""),[b,v]=ae.useState("adjustment"),w=[{value:"adjustment",label:"Penyesuaian Manual"},{value:"purchase",label:"Pembelian/Restock"},{value:"return",label:"Retur Barang"},{value:"damage",label:"Barang Rusak/Expired"},{value:"sync_marketplace",label:"Sinkronisasi Marketplace"}],y=A=>{var k;A.preventDefault(),!(!o||!u)&&(n(o,parseInt(u),h,b,m||((k=w.find(E=>E.value===b))==null?void 0:k.label),i==null?void 0:i.id),alert("Stok berhasil disesuaikan"),l(""),f(""),x(""))};return c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Penyesuaian Stok Manual"}),c.jsxs("form",{onSubmit:y,className:"space-y-4 max-w-2xl",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pilih Produk"}),c.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"input",required:!0,children:[c.jsx("option",{value:"",children:"-- Pilih Produk --"}),s.map(A=>c.jsxs("option",{value:A.id,children:[A.name," - Stok: ",A.stock," ",A.unit]},A.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operasi"}),c.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"input",children:[c.jsx("option",{value:"add",children:"Tambah Stok"}),c.jsx("option",{value:"subtract",children:"Kurangi Stok"}),c.jsx("option",{value:"set",children:"Set Stok"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah"}),c.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"input",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Penyesuaian"}),c.jsx("select",{value:b,onChange:A=>v(A.target.value),className:"input",children:w.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan (Opsional)"}),c.jsx("textarea",{value:m,onChange:A=>x(A.target.value),className:"input",rows:"3",placeholder:"Catatan tambahan..."})]}),c.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[c.jsx(_o,{size:20}),"Sesuaikan Stok"]})]})]})}function Xz({stockHistory:s}){const[n,i]=ae.useState("all"),[o,l]=ae.useState(""),u={sale:{label:"Penjualan",color:"text-red-600 bg-red-50"},purchase:{label:"Pembelian",color:"text-green-600 bg-green-50"},adjustment:{label:"Penyesuaian",color:"text-blue-600 bg-blue-50"},sync_marketplace:{label:"Sync Marketplace",color:"text-purple-600 bg-purple-50"},return:{label:"Retur",color:"text-orange-600 bg-orange-50"},damage:{label:"Rusak/Expired",color:"text-gray-600 bg-gray-100"}},f=s.filter(h=>{var x,b;const p=n==="all"||h.type===n,m=!o||((x=h.productName)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))||((b=h.productSku)==null?void 0:b.toLowerCase().includes(o.toLowerCase()));return p&&m});return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[c.jsx(Q_,{size:20}),"Riwayat Perubahan Stok"]}),c.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," total records"]})]}),c.jsxs("div",{className:"flex gap-4 mb-4",children:[c.jsx("input",{type:"text",placeholder:"Cari produk...",value:o,onChange:h=>l(h.target.value),className:"input flex-1 max-w-xs"}),c.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"input",children:[c.jsx("option",{value:"all",children:"Semua Tipe"}),c.jsx("option",{value:"sale",children:"Penjualan"}),c.jsx("option",{value:"purchase",children:"Pembelian"}),c.jsx("option",{value:"adjustment",children:"Penyesuaian"}),c.jsx("option",{value:"sync_marketplace",children:"Sync Marketplace"}),c.jsx("option",{value:"return",children:"Retur"})]})]}),f.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada riwayat perubahan stok"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Waktu"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Lama"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Perubahan"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Baru"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catatan"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:f.slice(0,100).map(h=>{const p=u[h.type]||{label:h.type,color:"text-gray-600 bg-gray-50"};return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(h.createdAt).toLocaleString("id-ID")}),c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("p",{className:"font-medium text-gray-900",children:h.productName}),c.jsx("p",{className:"text-xs text-gray-500",children:h.productSku})]}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.color}`,children:p.label})}),c.jsx("td",{className:"px-4 py-3 text-right text-sm",children:h.oldStock}),c.jsx("td",{className:"px-4 py-3 text-right",children:c.jsxs("span",{className:`font-medium ${h.change>0?"text-green-600":h.change<0?"text-red-600":"text-gray-600"}`,children:[h.change>0?"+":"",h.change]})}),c.jsx("td",{className:"px-4 py-3 text-right font-medium",children:h.newStock}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:h.note||"-"})]},h.id)})})]})})]})}function Zz({products:s}){return c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stock Opname"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur stock opname untuk penghitungan fisik stok akan segera hadir."}),c.jsx("button",{className:"btn btn-primary",children:"Mulai Stock Opname"})]})}function eL({products:s}){return c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transfer Stok Antar Gudang"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur transfer stok untuk multi-gudang akan segera hadir."}),c.jsx("button",{className:"btn btn-primary",children:"Transfer Stok"})]})}function tL({children:s,onRefresh:n}){const[i,o]=ae.useState(!1),[l,u]=ae.useState(!1),[f,h]=ae.useState(0),p=ae.useRef(null),m=ae.useRef(0),x=ae.useRef(0),b=80,v=ae.useCallback(A=>{var k;((k=p.current)==null?void 0:k.scrollTop)===0&&(m.current=A.touches[0].clientY,o(!0))},[]),w=ae.useCallback(A=>{var E;if(!i||l)return;x.current=A.touches[0].clientY;const k=x.current-m.current;k>0&&((E=p.current)==null?void 0:E.scrollTop)===0&&(A.preventDefault(),h(Math.min(k*.4,b*1.5)))},[i,l]),y=ae.useCallback(async()=>{if(i){if(f>=b&&n){u(!0);try{await n()}catch(A){console.error("Refresh error:",A)}u(!1)}o(!1),h(0)}},[i,f,n]);return c.jsxs("div",{ref:p,className:"h-full overflow-y-auto",onTouchStart:v,onTouchMove:w,onTouchEnd:y,children:[c.jsx("div",{className:"flex items-center justify-center transition-all duration-200 overflow-hidden",style:{height:l?50:f,opacity:f>20||l?1:0},children:c.jsxs("div",{className:`flex items-center gap-2 text-blue-600 ${l?"animate-pulse":""}`,children:[c.jsx(_o,{size:20,className:l?"animate-spin":"",style:{transform:`rotate(${f*2}deg)`,transition:l?"none":"transform 0.1s"}}),c.jsx("span",{className:"text-sm font-medium",children:l?"Memuat...":f>=b?"Lepaskan untuk refresh":"Tarik untuk refresh"})]})}),s]})}function rL(){const[s,n]=ae.useState(!1),[i,o]=ae.useState(!1),[l,u]=ae.useState(null),{purchases:f,suppliers:h,addPurchase:p,updatePurchase:m,deletePurchase:x,addSupplier:b,deleteSupplier:v}=B2(),{products:w,updateStock:y}=la(),{user:A}=A1(),k=ae.useCallback(async()=>{window.__forceSync&&await window.__forceSync()},[]),E=()=>{u(null),n(!0)},j=F=>{u(F),n(!0)},N=F=>{confirm("Hapus pembelian ini?")&&x(F)},I=F=>{l?m(l.id,F):(p(F),F.items.forEach(D=>{w.find(T=>T.id===D.productId)&&y(D.productId,D.qty,"add","purchase",`PO: ${F.poNumber||"Manual"}`,A==null?void 0:A.id)})),n(!1),u(null)},M=F=>({pending:"badge badge-warning",received:"badge badge-success",partial:"badge badge-info",cancelled:"badge badge-danger"})[F]||"badge",B=F=>({pending:"Pending",received:"Diterima",partial:"Sebagian",cancelled:"Dibatalkan"})[F]||F;return c.jsx(tL,{onRefresh:k,children:c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pembelian"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola pembelian barang dari supplier"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary flex items-center gap-2",children:[c.jsx(R2,{size:20}),"Kelola Supplier"]}),c.jsxs("button",{onClick:E,className:"btn btn-primary flex items-center gap-2",children:[c.jsx(ta,{size:20}),"Buat Purchase Order"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchase Order"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:f.filter(F=>F.status==="pending").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Diterima"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:f.filter(F=>F.status==="received").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Supplier"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:h.length})]})]}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Number"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:f.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[c.jsx(Va,{size:48,className:"mx-auto mb-4 text-gray-300"}),c.jsx("p",{className:"text-lg font-medium",children:"Belum ada purchase order"}),c.jsx("p",{className:"text-sm mt-1",children:'Klik "Buat Purchase Order" untuk menambah pembelian baru'})]})}):f.map(F=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:F.id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(F.date).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(R2,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"font-medium",children:F.supplierName})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Va,{size:16,className:"text-gray-400"}),c.jsxs("span",{children:[F.items.length," item"]})]})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-primary",children:["Rp ",F.total.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:M(F.status),children:B(F.status)})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[c.jsx("button",{onClick:()=>j(F),className:"text-primary hover:text-blue-700",children:c.jsx(mo,{size:18})}),c.jsx("button",{onClick:()=>N(F.id),className:"text-red-600 hover:text-red-700",children:c.jsx(Ta,{size:18})})]})]},F.id))})]})})}),s&&c.jsx(sL,{purchase:l,suppliers:h,products:w,onClose:()=>{n(!1),u(null)},onSubmit:I}),i&&c.jsx(nL,{suppliers:h,onClose:()=>o(!1),onAdd:b,onDelete:v})]})})}function sL({purchase:s,suppliers:n,products:i,onClose:o,onSubmit:l}){const[u,f]=ae.useState(s||{supplier:null,items:[],date:new Date().toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ae.useState(""),[m,x]=ae.useState(1),[b,v]=ae.useState(!1),w=ae.useRef(null);ae.useEffect(()=>{function M(B){w.current&&!w.current.contains(B.target)&&v(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const y=i.filter(M=>h&&(M.name.toLowerCase().includes(h.toLowerCase())||M.sku&&M.sku.toLowerCase().includes(h.toLowerCase()))),A=M=>{if(!M)return;const B=u.items.find(F=>F.productId===M.id);f(B?{...u,items:u.items.map(F=>F.productId===M.id?{...F,qty:F.qty+m}:F)}:{...u,items:[...u.items,{productId:M.id,name:M.name,sku:M.sku,costPrice:M.costPrice||0,qty:m}]}),p(""),v(!1),x(1)},k=(M,B)=>{f({...u,items:u.items.map(F=>F.productId===M?{...F,qty:parseInt(B)||1}:F)})},E=(M,B)=>{f({...u,items:u.items.map(F=>F.productId===M?{...F,costPrice:parseFloat(B)||0}:F)})},j=M=>{f({...u,items:u.items.filter(B=>B.productId!==M)})},N=()=>u.items.reduce((M,B)=>M+B.costPrice*B.qty,0),I=M=>{if(M.preventDefault(),!u.supplier){alert("Pilih supplier terlebih dahulu");return}if(u.items.length===0){alert("Tambahkan minimal 1 produk");return}const B=n.find(F=>F.id===u.supplier||String(F.id)===String(u.supplier));l({...u,supplierId:u.supplier,supplierName:(B==null?void 0:B.name)||"",subtotal:N(),total:N()})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:s?"Edit Purchase Order":"Buat Purchase Order Baru"}),c.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:c.jsx(ta,{size:24,className:"rotate-45"})})]}),c.jsxs("form",{onSubmit:I,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supplier *"}),c.jsxs("select",{value:u.supplier||"",onChange:M=>f({...u,supplier:M.target.value}),className:"input",required:!0,children:[c.jsx("option",{value:"",children:"Pilih Supplier"}),n.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal *"}),c.jsx("input",{type:"date",value:u.date,onChange:M=>f({...u,date:M.target.value}),className:"input",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tambah Produk"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1 relative",ref:w,children:[c.jsx("input",{type:"text",value:h,onChange:M=>{p(M.target.value),v(!0)},onFocus:()=>v(!0),placeholder:"Cari produk (nama atau SKU)...",className:"input"}),b&&y.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:y.map(M=>{var B;return c.jsxs("button",{type:"button",onClick:()=>A(M),className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b last:border-b-0",children:[c.jsx("div",{className:"font-medium",children:M.name}),c.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",M.sku," | Modal: Rp ",(B=M.costPrice)==null?void 0:B.toLocaleString("id-ID")]})]},M.id)})})]}),c.jsx("input",{type:"number",value:m,onChange:M=>x(parseInt(M.target.value)||1),min:"1",className:"input w-24",placeholder:"Qty"})]})]}),u.items.length>0&&c.jsx("div",{className:"border rounded-lg overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),c.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),c.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:u.items.map(M=>c.jsxs("tr",{children:[c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("div",{className:"font-medium",children:M.name}),c.jsx("div",{className:"text-xs text-gray-500",children:M.sku})]}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("input",{type:"number",value:M.qty,onChange:B=>k(M.productId,B.target.value),className:"input-sm w-20 text-center",min:"1"})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("input",{type:"number",value:M.costPrice,onChange:B=>E(M.productId,B.target.value),className:"input-sm w-32 text-right",min:"0",step:"100"})}),c.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",(M.costPrice*M.qty).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("button",{type:"button",onClick:()=>j(M.productId),className:"text-red-600 hover:text-red-700",children:c.jsx(Ta,{size:16})})})]},M.productId))}),c.jsx("tfoot",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("td",{colSpan:"3",className:"px-4 py-3 text-right font-bold",children:"TOTAL:"}),c.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-primary",children:["Rp ",N().toLocaleString("id-ID")]}),c.jsx("td",{})]})})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),c.jsx("textarea",{value:u.notes,onChange:M=>f({...u,notes:M.target.value}),className:"input",rows:"2",placeholder:"Catatan tambahan..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),c.jsxs("select",{value:u.status,onChange:M=>f({...u,status:M.target.value}),className:"input",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"partial",children:"Sebagian Diterima"}),c.jsx("option",{value:"received",children:"Diterima"}),c.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]})]}),c.jsxs("div",{className:"flex gap-3 p-6 border-t",children:[c.jsx("button",{type:"button",onClick:I,className:"flex-1 btn btn-primary",children:s?"Update Purchase Order":"Buat Purchase Order"}),c.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})})}function nL({suppliers:s,onClose:n,onAdd:i,onDelete:o}){const[l,u]=ae.useState(!1),[f,h]=ae.useState({name:"",contact:"",email:"",address:""}),p=x=>{x.preventDefault(),i(f),h({name:"",contact:"",email:"",address:""}),u(!1)},m=(x,b)=>{confirm(`Hapus supplier "${b}"?`)&&o(x)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Kelola Supplier"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(ta,{size:24,className:"rotate-45"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:l?c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Supplier *"}),c.jsx("input",{type:"text",value:f.name,onChange:x=>h({...f,name:x.target.value}),className:"input",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kontak *"}),c.jsx("input",{type:"text",value:f.contact,onChange:x=>h({...f,contact:x.target.value}),className:"input",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),c.jsx("input",{type:"email",value:f.email,onChange:x=>h({...f,email:x.target.value}),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),c.jsx("textarea",{value:f.address,onChange:x=>h({...f,address:x.target.value}),className:"input",rows:"2"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan"}),c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 btn btn-secondary",children:"Batal"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>u(!0),className:"w-full btn btn-primary flex items-center justify-center gap-2",children:[c.jsx(ta,{size:20}),"Tambah Supplier Baru"]}),c.jsx("div",{className:"space-y-3",children:s.map(x=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-bold text-lg",children:x.name}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",x.phone||x.contact," |  ",x.email]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[" ",x.address]})]}),c.jsx("button",{onClick:()=>m(x.id,x.name),className:"text-red-500 hover:text-red-700 p-2",title:"Hapus Supplier",children:c.jsx(Ta,{size:18})})]})},x.id))})]})}),c.jsx("div",{className:"p-6 border-t",children:c.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Tutup"})})]})})}function aL(){const[s,n]=ae.useState(!1),[i,o]=ae.useState(null),{salesOrders:l,addSalesOrder:u,updateSalesOrder:f,deleteSalesOrder:h,updateStatus:p}=jc(),{products:m,updateStock:x}=la(),{customers:b}=F1(),{storeInfo:v}=Df(),{addTransaction:w}=Ci(),{user:y}=A1(),A=()=>{o(null),n(!0)},k=B=>{o(B),n(!0)},E=B=>{confirm("Hapus sales order ini?")&&h(B)},j=async B=>{if(B.status==="completed"){alert("Sales order ini sudah lunas!");return}if(confirm(`Tandai SO ${B.id} sebagai LUNAS?

Ini akan:
- Mencatat transaksi penjualan
- Mengubah status menjadi Lunas

(Stok sudah dikurangi saat SO dibuat)`))try{const F={id:B.orderNumber||B.id,items:B.items.map(D=>({id:D.id,name:D.name,sku:D.sku,price:D.price,quantity:D.qty,cost:D.cost||0})),customer:B.customer,subtotal:B.subtotal,discount:B.discount||0,tax:0,total:B.total,paymentMethod:"transfer",cashAmount:B.total,change:0,cashierName:(y==null?void 0:y.name)||"Admin",cashierId:y==null?void 0:y.id,source:"sales_order",salesOrderId:B.id,notes:`Pembayaran SO: ${B.orderNumber||B.id}`};await w(F),await p(B.id,"completed"),alert(` Sales Order berhasil ditandai LUNAS!

Stok sudah dikurangi dan transaksi tercatat.`)}catch(F){console.error("Error marking as paid:",F),alert("Gagal memproses: "+F.message)}},N=B=>{var Y;const F=window.open("","_blank","width=800,height=600");if(!F){alert("Popup diblokir! Izinkan popup untuk mencetak invoice.");return}const D=B.subtotal||0,H=B.discount||0,T=B.total||0,_=((Y=B.customer)==null?void 0:Y.name)||"Customer",L=(v==null?void 0:v.name)||"Toko Saya",z=(v==null?void 0:v.address)||"",G=(v==null?void 0:v.phone)||"-",K=(v==null?void 0:v.email)||"-",oe=(v==null?void 0:v.logo)||"",V=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice - ${B.id}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 15px; font-size: 10px; }
          .invoice-header { text-align: center; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 8px; }
          .logo-section { display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 6px; }
          .logo { width: 40px; height: 40px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border-radius: 6px; display: flex; align-items: center; justify-center; overflow: hidden; }
          .logo img { width: 100%; height: 100%; object-fit: contain; }
          .logo svg { width: 24px; height: 24px; color: white; }
          .company-info { text-align: center; }
          .company-info h2 { font-size: 12px; color: #1e293b; font-weight: bold; margin-bottom: 2px; }
          .company-info p { font-size: 8px; color: #64748b; line-height: 1.3; }
          .invoice-header h1 { font-size: 14px; color: #2563eb; margin-bottom: 2px; }
          .invoice-header p { color: #666; font-size: 8px; }
          .invoice-info { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .info-section h3 { font-size: 8px; color: #666; margin-bottom: 2px; }
          .info-section p { font-size: 9px; margin-bottom: 2px; }
          .invoice-id { font-size: 10px; font-weight: bold; color: #2563eb; }
          table { width: 100%; border-collapse: collapse; margin: 8px 0; }
          th { background: #f3f4f6; padding: 4px 6px; text-align: left; font-size: 8px; color: #666; text-transform: uppercase; border-bottom: 1px solid #e5e7eb; }
          td { padding: 4px 6px; border-bottom: 1px solid #e5e7eb; font-size: 9px; }
          .text-right { text-align: right; }
          .text-center { text-align: center; }
          .total-section { margin-top: 8px; float: right; width: 180px; }
          .total-row { display: flex; justify-content: space-between; padding: 3px 0; font-size: 9px; }
          .total-row.grand { font-size: 11px; font-weight: bold; border-top: 1px solid #333; padding-top: 6px; margin-top: 4px; }
          .notes { margin-top: 15px; padding: 8px; background: #f9fafb; border-left: 2px solid #2563eb; font-size: 8px; }
          .notes h4 { font-size: 9px; margin-bottom: 4px; }
          .footer { margin-top: 20px; text-align: center; color: #666; font-size: 8px; border-top: 1px solid #e5e7eb; padding-top: 8px; }
          @media print {
            body { padding: 10px; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="invoice-header">
          <div class="logo-section">
            <div class="logo">
              ${oe?`<img src="${oe}" alt="Logo" />`:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 7h-9"></path>
                  <path d="M14 17H5"></path>
                  <circle cx="17" cy="17" r="3"></circle>
                  <circle cx="7" cy="7" r="3"></circle>
                </svg>`}
            </div>
            <div class="company-info">
              <h2>${L}</h2>
              <p>${z}<br/>
              Telp: ${G} | Email: ${K}</p>
            </div>
          </div>
          <h1>INVOICE</h1>
          <p>Sales Order</p>
        </div>
        
        <div class="invoice-info">
          <div class="info-section">
            <h3>Invoice No:</h3>
            <p class="invoice-id">${B.id}</p>
            <h3 style="margin-top: 15px;">Tanggal:</h3>
            <p>${new Date(B.date||new Date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
          <div class="info-section" style="text-align: right;">
            <h3>Pelanggan:</h3>
            <p style="font-weight: bold; font-size: 18px;">${_}</p>
            <h3 style="margin-top: 15px;">Jatuh Tempo:</h3>
            <p>${new Date(B.dueDate||new Date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 50px;">No</th>
              <th>SKU</th>
              <th>Nama Produk</th>
              <th class="text-center" style="width: 80px;">Qty</th>
              <th class="text-right" style="width: 150px;">Harga</th>
              <th class="text-right" style="width: 150px;">Subtotal</th>
            </tr>
          </thead>
          <tbody>
            ${B.items.map((ie,de)=>`
              <tr>
                <td class="text-center">${de+1}</td>
                <td style="font-family: monospace; font-size: 12px;">${ie.sku}</td>
                <td>${ie.name}${ie.isPackage?' <span style="background: #dbeafe; color: #1e40af; padding: 2px 6px; border-radius: 4px; font-size: 10px;">PAKET</span>':""}</td>
                <td class="text-center">${ie.qty}</td>
                <td class="text-right">Rp ${ie.price.toLocaleString("id-ID")}</td>
                <td class="text-right" style="font-weight: bold;">Rp ${(ie.price*ie.qty).toLocaleString("id-ID")}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="total-section">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>Rp ${D.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row">
            <span>Diskon:</span>
            <span style="color: #ef4444;">- Rp ${H.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row grand">
            <span>TOTAL:</span>
            <span style="color: #16a34a;">Rp ${T.toLocaleString("id-ID")}</span>
          </div>
        </div>

        <div style="clear: both;"></div>

        ${B.notes?`
          <div class="notes">
            <h4>Catatan:</h4>
            <p>${B.notes}</p>
          </div>
        `:""}

        <div class="footer">
          <p>Terima kasih atas kepercayaan Anda!</p>
          <p style="margin-top: 5px;">Dicetak pada: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 250);
          }
        <\/script>
      </body>
      </html>
    `;F.document.write(V),F.document.close()},I=B=>({pending:"badge badge-warning",confirmed:"badge badge-info",processing:"badge badge-primary",delivered:"badge badge-success",completed:"badge badge-success",cancelled:"badge badge-danger"})[B]||"badge",M=B=>({pending:"Pending",confirmed:"Dikonfirmasi",processing:"Diproses",delivered:"Terkirim",completed:"Lunas",cancelled:"Dibatalkan"})[B]||B;return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Penjualan Member"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola sales order dan penjualan ke pelanggan member"})]}),c.jsxs("button",{onClick:A,className:"btn btn-primary flex items-center gap-2",children:[c.jsx(ta,{size:20}),"Buat Sales Order"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales Order"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:l.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:l.filter(B=>B.status==="pending").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Diproses"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-info",children:l.filter(B=>B.status==="processing").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Lunas"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:l.filter(B=>B.status==="completed").length})]})]}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jatuh Tempo"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:l.filter(B=>{var F;return((F=B.items)==null?void 0:F.length)>0||B.total>0}).map(B=>{var F,D;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:B.orderNumber||B.id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.date&&!isNaN(new Date(B.date).getTime())?new Date(B.date).toLocaleDateString("id-ID"):"-"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($2,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"font-medium",children:((F=B.customer)==null?void 0:F.name)||B.customerName||"-"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Va,{size:16,className:"text-gray-400"}),c.jsxs("span",{children:[((D=B.items)==null?void 0:D.length)||0," item"]})]})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-green-600",children:["Rp ",(B.total||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(S9,{size:16,className:"text-gray-400"}),c.jsx("span",{children:B.dueDate&&!isNaN(new Date(B.dueDate).getTime())?new Date(B.dueDate).toLocaleDateString("id-ID"):"-"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:I(B.status),children:M(B.status)})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[B.status!=="completed"&&c.jsx("button",{onClick:()=>j(B),className:"text-emerald-600 hover:text-emerald-700",title:"Tandai Lunas",children:c.jsx(Ef,{size:18})}),c.jsx("button",{onClick:()=>N(B),className:"text-green-600 hover:text-green-700",title:"Print Invoice",children:c.jsx(If,{size:18})}),c.jsx("button",{onClick:()=>k(B),className:"text-primary hover:text-blue-700",title:"Edit",children:c.jsx(mo,{size:18})}),c.jsx("button",{onClick:()=>E(B.id),className:"text-red-600 hover:text-red-700",title:"Hapus",children:c.jsx(Ta,{size:18})})]})]},B.id)})})]})})}),s&&c.jsx(iL,{sale:i,products:m,customers:b.filter(B=>B.type!=="walk-in"),onClose:()=>{n(!1),o(null)},onSubmit:async B=>{if(i)await f(B.id,B),n(!1),o(null);else{for(const F of B.items)await x(F.id,F.qty,"subtract","sales_order",`SO: ${B.orderNumber||"New"}`,y==null?void 0:y.id);await u(B),alert(` Sales Order berhasil dibuat!
Stok produk sudah dikurangi.`)}}})]})}function iL({sale:s,products:n,customers:i,onClose:o,onSubmit:l}){var T;const[u,f]=ae.useState(s||{orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ae.useState(""),[m,x]=ae.useState(1),[b,v]=ae.useState(""),[w,y]=ae.useState(!1),A=ae.useRef(null);ae.useEffect(()=>{function _(L){A.current&&!A.current.contains(L.target)&&y(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const k=n.filter(_=>{var L;return b&&(_.name.toLowerCase().includes(b.toLowerCase())||_.sku&&_.sku.toLowerCase().includes(b.toLowerCase())||_.code&&_.code.toLowerCase().includes(b.toLowerCase())||((L=_.barcode)==null?void 0:L.includes(b)))}),E=(_,L)=>L&&L.customPrices&&L.customPrices[_.id]?L.customPrices[_.id]:_.price,j=_=>{if(!_)return;if(u.items.find(z=>z.id===_.id))f({...u,items:u.items.map(z=>z.id===_.id?{...z,qty:z.qty+m}:z)});else{const z=_.costPrice||0,G=Math.ceil(z*1.15),K=E(_,u.customer);f({...u,items:[...u.items,{id:_.id,name:_.name,sku:_.sku||_.code,costPrice:z,price:K,minPrice:G,qty:m,isPackage:_.isPackage}]})}v(""),y(!1),x(1)},N=(_,L)=>{f({...u,items:u.items.map(z=>z.id===_?L<z.minPrice?(alert(`Harga tidak boleh kurang dari Rp ${z.minPrice.toLocaleString("id-ID")} (Modal + 15%)`),z):{...z,price:parseFloat(L)||z.price}:z)})},I=(_,L)=>{f({...u,items:u.items.map(z=>z.id===_?{...z,qty:parseInt(L)||1}:z)})},M=_=>{f({...u,items:u.items.filter(L=>L.id!==_)})},B=u.items.reduce((_,L)=>_+L.price*L.qty,0),F=u.discount||0,D=B-F,H=_=>{if(_.preventDefault(),!u.customer||u.items.length===0){alert("Pilih customer dan tambahkan minimal 1 produk");return}l({...u,subtotal:B,total:D}),s||(f({orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],status:"pending",notes:""}),v(""),x(1))};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:s?"Edit Sales Order":"Buat Sales Order Baru"}),c.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:c.jsx(ta,{size:24,className:"rotate-45"})})]}),c.jsxs("form",{onSubmit:H,className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pelanggan Member *"}),c.jsxs("select",{value:((T=u.customer)==null?void 0:T.id)||"",onChange:_=>{const L=i.find(z=>z.id===_.target.value);if(L){const z=u.items.map(G=>{var V;const K=(V=L.customPrices)==null?void 0:V[G.id];if(K)return{...G,price:K};const oe=n.find(Y=>Y.id===G.id);return{...G,price:(oe==null?void 0:oe.price)||G.price}});f({...u,customer:L,items:z})}else f({...u,customer:null})},className:"input",required:!0,children:[c.jsx("option",{value:"",children:"-- Pilih Pelanggan --"}),i.map(_=>c.jsxs("option",{value:_.id,children:[_.name," (",_.type.toUpperCase(),")"]},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Pesanan"}),c.jsx("input",{type:"text",value:u.orderNumber,onChange:_=>f({...u,orderNumber:_.target.value}),placeholder:"Contoh: PO-2025-001",className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),c.jsxs("select",{value:u.status,onChange:_=>f({...u,status:_.target.value}),className:"input",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),c.jsx("option",{value:"processing",children:"Diproses"}),c.jsx("option",{value:"delivered",children:"Terkirim"}),c.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal Order"}),c.jsx("input",{type:"date",value:u.date,onChange:_=>f({...u,date:_.target.value}),className:"input",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jatuh Tempo"}),c.jsx("input",{type:"date",value:u.dueDate,onChange:_=>f({...u,dueDate:_.target.value}),className:"input",required:!0})]})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"font-semibold mb-3",children:"Tambah Produk"}),c.jsxs("div",{className:"flex gap-2 relative",ref:A,children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",size:20}),c.jsx("input",{type:"text",value:b,onChange:_=>{v(_.target.value),y(!0)},onFocus:()=>b&&y(!0),placeholder:"Cari produk (nama, kode, atau barcode)...",className:"input w-full pl-10"}),w&&k.length>0&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",children:k.map(_=>{var G,K;const L=E(_,u.customer),z=(K=(G=u.customer)==null?void 0:G.customPrices)==null?void 0:K[_.id];return c.jsx("button",{type:"button",onClick:()=>j(_),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-900",children:_.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("p",{className:"text-xs text-gray-500",children:_.sku||_.code}),c.jsx("span",{className:"text-xs text-gray-400",children:"|"}),c.jsx("p",{className:"text-xs text-gray-500",children:_.category}),_.isPackage&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-xs text-gray-400",children:"|"}),c.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]})]}),c.jsx("div",{className:"text-right ml-4",children:z?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"font-semibold text-green-600",children:["Rp ",L.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["Rp ",_.price.toLocaleString("id-ID")]}),c.jsx("p",{className:"text-xs text-green-600",children:" Harga Khusus"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"font-semibold text-primary",children:["Rp ",_.price.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-xs text-gray-600",children:["Stok: ",_.stock," ",_.unit]})]})})]})},_.id)})}),w&&b&&k.length===0&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-50",children:c.jsx("p",{className:"text-gray-500 text-center",children:"Produk tidak ditemukan"})})]}),c.jsx("input",{type:"number",value:m,onChange:_=>x(parseInt(_.target.value)||1),min:"1",placeholder:"Qty",className:"input w-20 text-center"})]}),b&&c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Ketik untuk mencari, klik produk untuk menambahkan"})]}),u.items.length>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold mb-3",children:["Items (",u.items.length,")"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-100 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Produk"}),c.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),c.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Satuan"}),c.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Subtotal"}),c.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:u.items.map(_=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-3 py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:_.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("p",{className:"text-xs text-gray-500",children:_.sku}),_.isPackage&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-xs text-gray-400",children:"|"}),c.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: Rp ",_.minPrice.toLocaleString("id-ID")," (Modal + 15%)"]})]})}),c.jsx("td",{className:"px-3 py-3 text-center",children:c.jsx("input",{type:"number",min:"1",value:_.qty,onChange:L=>I(_.id,L.target.value),className:"input input-sm w-20 text-center"})}),c.jsx("td",{className:"px-3 py-3",children:c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("input",{type:"number",min:_.minPrice,value:_.price,onChange:L=>N(_.id,L.target.value),className:"input input-sm w-32 text-right"}),_.price<_.minPrice&&c.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"})]})}),c.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:["Rp ",(_.price*_.qty).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-3 py-3 text-center",children:c.jsx("button",{type:"button",onClick:()=>M(_.id),className:"text-red-600 hover:text-red-700",children:c.jsx(Ta,{size:18})})})]},_.id))})]})}),c.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),c.jsxs("span",{className:"font-semibold",children:["Rp ",B.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:"Diskon:"}),c.jsx("input",{type:"number",value:u.discount||0,onChange:_=>f({...u,discount:parseInt(_.target.value)||0}),className:"input w-32 text-right",min:"0"})]}),c.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t border-blue-200",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{className:"text-primary",children:["Rp ",D.toLocaleString("id-ID")]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),c.jsx("textarea",{value:u.notes,onChange:_=>f({...u,notes:_.target.value}),className:"input",rows:"3",placeholder:"Catatan pengiriman, alamat, dll..."})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsxs("button",{type:"submit",className:"flex-1 btn btn-primary",children:[s?"Update":"Simpan"," Sales Order"]}),c.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}const oL=y1(w1((s,n)=>({returns:[],addReturn:i=>{const o=new Date,l=o.toISOString().slice(2,10).replace(/-/g,""),u=o.toTimeString().slice(0,5).replace(":",""),f=String(Math.floor(Math.random()*1e3)).padStart(3,"0"),h=`RTN-${l}-${u}-${f}`,p={...i,id:h,createdAt:o.toISOString()};return s(m=>({returns:[...m.returns,p]})),p},updateReturn:(i,o)=>{s(l=>({returns:l.returns.map(u=>u.id===i?{...u,...o}:u)}))},deleteReturn:i=>{s(o=>({returns:o.returns.filter(l=>l.id!==i)}))}}),{name:"returns-storage"}));function lL(){const[s,n]=ae.useState(!1),[i,o]=ae.useState(null),[l,u]=ae.useState(""),{returns:f,addReturn:h,updateReturn:p,deleteReturn:m}=oL(),{products:x,updateStock:b,updateDamagedStock:v}=la(),{customers:w}=F1(),{transactions:y}=Ci(),{salesOrders:A}=jc(),{user:k}=A1(),E=D=>{o(D),n(!0)},j=D=>{confirm("Hapus data retur ini?")&&m(D)},N=async D=>{if(D.status==="completed"){alert("Retur ini sudah diproses!");return}const H=D.reason==="Barang rusak/cacat",T=H?"Stok Barang Rusak":"Stok Normal";if(confirm(`Proses retur ${D.id}?

Alasan: ${D.reason}
Stok akan masuk ke: ${T}`))try{for(const _ of D.items){const L=_.returnQty||_.qty;H?await v(_.id,L,"add",`Retur rusak: ${D.id}`):await b(_.id,L,"add","return",`Retur: ${D.id}`,k==null?void 0:k.id)}p(D.id,{status:"completed",processedAt:new Date().toISOString()}),alert(H?` Retur berhasil diproses!
Barang rusak masuk ke Stok Barang Rusak.`:` Retur berhasil diproses!
Stok produk sudah ditambahkan kembali.`)}catch(_){console.error("Error processing return:",_),alert("Gagal memproses retur: "+_.message)}},I=D=>({pending:"badge badge-warning",completed:"badge badge-success",cancelled:"badge badge-danger"})[D]||"badge",M=D=>({pending:"Pending",completed:"Selesai",cancelled:"Dibatalkan"})[D]||D,B=l?A.filter(D=>(D.orderNumber||D.id).toLowerCase().includes(l.toLowerCase())):[],F=(D,H)=>{if(!H){alert("Pilih alasan retur terlebih dahulu!");return}const T=(D.items||[]).map(_=>({id:_.id,name:_.name,code:_.code,price:_.price,qty:_.qty,returnQty:_.qty}));o({customer:D.customer,salesOrderId:D.id,orderNumber:D.orderNumber||D.id,items:T,reason:H,status:"pending",notes:""}),n(!0)};return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Barang Retur"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Cari No. Pesanan untuk membuat retur"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Retur"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:f.filter(D=>D.status==="pending").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:f.filter(D=>D.status==="completed").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Nilai Retur"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-red-600",children:["Rp ",f.reduce((D,H)=>D+(H.total||0),0).toLocaleString("id-ID")]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cari Sales Order untuk Retur"}),c.jsxs("div",{className:"relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Ketik No. Pesanan...",value:l,onChange:D=>u(D.target.value),className:"input pl-10 w-full"})]})]}),l&&c.jsxs("div",{className:"card overflow-hidden",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Hasil Pencarian Sales Order"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Alasan Retur"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:B.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:['Tidak ada Sales Order dengan No. Pesanan "',l,'"']})}):B.map(D=>c.jsx(cL,{salesOrder:D,onCreateReturn:F},D.id))})]})})]}),c.jsxs("div",{className:"card overflow-hidden",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Retur"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Retur"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Alasan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"9",className:"px-6 py-8 text-center text-gray-500",children:"Belum ada data retur"})}):f.map(D=>{var H,T;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold text-sm",children:D.id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm text-blue-600",children:D.orderNumber||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(D.createdAt).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($2,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"font-medium text-sm",children:((H=D.customer)==null?void 0:H.name)||"-"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Va,{size:16,className:"text-gray-400"}),c.jsxs("span",{className:"text-sm",children:[((T=D.items)==null?void 0:T.length)||0," item"]})]})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-red-600 text-sm",children:["Rp ",(D.total||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:D.reason||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:I(D.status),children:M(D.status)})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[D.status==="pending"&&c.jsx("button",{onClick:()=>N(D),className:"text-emerald-600 hover:text-emerald-700",title:"Proses Retur",children:c.jsx(Ef,{size:18})}),c.jsx("button",{onClick:()=>E(D),className:"text-primary hover:text-blue-700",title:"Edit",children:c.jsx(mo,{size:18})}),c.jsx("button",{onClick:()=>j(D.id),className:"text-red-600 hover:text-red-700",title:"Hapus",children:c.jsx(Ta,{size:18})})]})]},D.id)})})]})})]}),s&&c.jsx(dL,{returnItem:i,products:x,customers:w,transactions:y,salesOrders:A,onClose:()=>{n(!1),o(null)},onSubmit:D=>{i!=null&&i.id?p(i.id,D):h(D),n(!1),o(null)}})]})}function cL({salesOrder:s,onCreateReturn:n}){var u,f;const[i,o]=ae.useState(""),l=["Barang rusak/cacat","Salah kirim barang","Tidak sesuai pesanan","Kadaluarsa","Lainnya"];return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold text-blue-600",children:s.orderNumber||s.id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(s.createdAt).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((u=s.customer)==null?void 0:u.name)||"Walk-in"}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[((f=s.items)==null?void 0:f.length)||0," produk"]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:["Rp ",(s.total||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("select",{value:i,onChange:h=>o(h.target.value),className:"input text-sm py-1 px-2",children:[c.jsx("option",{value:"",children:"-- Pilih Alasan --"}),l.map(h=>c.jsx("option",{value:h,children:h},h))]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:c.jsxs("button",{onClick:()=>n(s,i),className:"btn btn-primary btn-sm flex items-center gap-1",children:[c.jsx(F9,{size:16}),"Retur"]})})]})}function dL({returnItem:s,products:n,customers:i,transactions:o,salesOrders:l,onClose:u,onSubmit:f}){var j;const[h,p]=ae.useState(s||{customer:null,salesOrderId:"",orderNumber:"",items:[],reason:"",status:"pending",notes:""}),[m,x]=ae.useState(""),[b,v]=ae.useState(!1);n.filter(N=>m&&(N.name.toLowerCase().includes(m.toLowerCase())||N.sku&&N.sku.toLowerCase().includes(m.toLowerCase())||N.code&&N.code.toLowerCase().includes(m.toLowerCase())));const w=(N,I)=>{I<1?p({...h,items:h.items.filter(M=>M.id!==N)}):p({...h,items:h.items.map(M=>M.id===N?{...M,qty:I}:M)})},y=N=>{p({...h,items:h.items.filter(I=>I.id!==N)})},A=()=>h.items.reduce((N,I)=>N+I.price*I.qty,0),k=N=>{if(N.preventDefault(),h.items.length===0){alert("Tambahkan minimal 1 item untuk retur!");return}f({...h,total:A()})},E=["Barang rusak/cacat","Salah kirim barang","Tidak sesuai pesanan","Barang kadaluarsa","Pelanggan berubah pikiran","Lainnya"];return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold",children:s?"Edit Retur":"Buat Retur Baru"}),c.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700",children:c.jsx(rP,{size:24})})]}),c.jsxs("form",{onSubmit:k,className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pelanggan"}),c.jsxs("select",{value:((j=h.customer)==null?void 0:j.id)||"",onChange:N=>{const I=i.find(M=>M.id===N.target.value);p({...h,customer:I})},className:"input",children:[c.jsx("option",{value:"",children:"-- Pilih Pelanggan --"}),i.map(N=>c.jsx("option",{value:N.id,children:N.name},N.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Pesanan (dari Penjualan)"}),c.jsxs("select",{value:h.salesOrderId||"",onChange:N=>{const I=l.find(M=>M.id===N.target.value);if(I){const M=(I.items||[]).map(B=>({id:B.id,name:B.name,code:B.code,price:B.price,qty:B.qty,returnQty:B.qty}));p({...h,salesOrderId:I.id,orderNumber:I.orderNumber||I.id,customer:I.customer,items:M})}else p({...h,salesOrderId:"",orderNumber:"",items:[]})},className:"input",children:[c.jsx("option",{value:"",children:"-- Pilih Sales Order --"}),l.map(N=>{var I;return c.jsxs("option",{value:N.id,children:[N.orderNumber||N.id," - ",((I=N.customer)==null?void 0:I.name)||"N/A"]},N.id)})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alasan Retur *"}),c.jsxs("select",{value:h.reason,onChange:N=>p({...h,reason:N.target.value}),className:"input",required:!0,children:[c.jsx("option",{value:"",children:"-- Pilih Alasan --"}),E.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),h.salesOrderId&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsx("p",{className:"text-sm text-blue-700",children:" Produk otomatis diambil dari Sales Order yang dipilih"})}),h.items.length>0&&c.jsx("div",{className:"border rounded-lg overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Produk"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 w-24",children:"Qty"}),c.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Harga"}),c.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Subtotal"}),c.jsx("th",{className:"px-4 py-2 w-10"})]})}),c.jsx("tbody",{className:"divide-y",children:h.items.map(N=>c.jsxs("tr",{children:[c.jsxs("td",{className:"px-4 py-2",children:[c.jsx("p",{className:"font-medium text-sm",children:N.name}),c.jsx("p",{className:"text-xs text-gray-500",children:N.sku})]}),c.jsx("td",{className:"px-4 py-2",children:c.jsx("input",{type:"number",min:"1",value:N.qty,onChange:I=>w(N.id,parseInt(I.target.value)||1),className:"input w-20 text-center"})}),c.jsxs("td",{className:"px-4 py-2 text-right text-sm",children:["Rp ",N.price.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-2 text-right font-semibold text-sm",children:["Rp ",(N.price*N.qty).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-2",children:c.jsx("button",{type:"button",onClick:()=>y(N.id),className:"text-red-600 hover:text-red-700",children:c.jsx(Ta,{size:16})})})]},N.id))}),c.jsx("tfoot",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("td",{colSpan:"3",className:"px-4 py-3 text-right font-semibold",children:"Total Retur:"}),c.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-red-600",children:["Rp ",A().toLocaleString("id-ID")]}),c.jsx("td",{})]})})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),c.jsx("textarea",{value:h.notes,onChange:N=>p({...h,notes:N.target.value}),className:"input w-full",rows:"3",placeholder:"Catatan tambahan..."})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:u,className:"btn btn-secondary flex-1",children:"Batal"}),c.jsx("button",{type:"submit",className:"btn btn-primary flex-1",children:s?"Update Retur":"Simpan Retur"})]})]})]})})}function uL(){const[s,n]=ae.useState(""),[i,o]=ae.useState("all"),[l,u]=ae.useState(!1),[f,h]=ae.useState(null),[p,m]=ae.useState(!1),[x,b]=ae.useState(null),{customers:v,addCustomer:w,updateCustomer:y,deleteCustomer:A}=F1(),k=v.filter(j=>{const N=j.name.toLowerCase().includes(s.toLowerCase())||j.phone.includes(s),I=i==="all"||j.type===i;return N&&I}),E=j=>{f?y(f.id,j):w(j),u(!1),h(null)};return c.jsxs("div",{className:`${Nt?"p-4":"p-6"} space-y-4`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`${Nt?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:"Pelanggan"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Kelola data pelanggan"})]}),c.jsxs("button",{onClick:()=>{h(null),u(!0)},className:`btn btn-primary flex items-center gap-2 ${Nt?"px-3 py-2":""}`,children:[c.jsx(ta,{size:Nt?18:20}),Nt?"Tambah":"Tambah Pelanggan"]})]}),c.jsxs("div",{className:`grid ${Nt?"grid-cols-2 gap-3":"grid-cols-1 md:grid-cols-4 gap-6"}`,children:[c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1`,children:v.length})]}),c.jsx(qu,{className:"text-primary",size:Nt?24:32})]})}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Member"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1`,children:v.filter(j=>j.type==="member").length})]}),c.jsx(_8,{className:"text-green-500",size:Nt?24:32})]})}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"VIP"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1 text-yellow-600`,children:v.filter(j=>j.type==="vip").length})]}),c.jsx(O8,{className:"text-yellow-500",size:Nt?24:32})]})}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Points"}),c.jsx("p",{className:`${Nt?"text-xl":"text-2xl"} font-bold mt-1 text-primary`,children:v.reduce((j,N)=>j+N.points,0).toLocaleString("id-ID")})]}),c.jsx(Si,{className:"text-blue-500",size:Nt?24:32})]})})]}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:s,onChange:j=>n(j.target.value),placeholder:"Cari pelanggan...",className:"w-full pl-10 input"})]}),c.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"input w-48",children:[c.jsx("option",{value:"all",children:"Semua Tipe"}),c.jsx("option",{value:"walk-in",children:"Walk-in"}),c.jsx("option",{value:"member",children:"Member"}),c.jsx("option",{value:"vip",children:"VIP"})]})]})}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kontak"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Points"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Belanja"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:k.map(j=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[j.type==="vip"&&c.jsx(O8,{className:"text-yellow-500",size:16}),c.jsx("span",{className:"font-medium",children:j.name})]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("p",{className:"text-sm",children:j.phone}),c.jsx("p",{className:"text-xs text-gray-600",children:j.email})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`badge ${j.type==="vip"?"badge-warning":j.type==="member"?"badge-info":"bg-gray-100 text-gray-800"}`,children:j.type.toUpperCase()})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(_8,{size:16,className:"text-primary"}),c.jsx("span",{className:"font-semibold",children:j.points})]})}),c.jsxs("td",{className:"px-6 py-4 font-semibold",children:["Rp ",j.totalSpent.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[(j.type==="member"||j.type==="vip")&&c.jsx("button",{onClick:()=>{b(j),m(!0)},className:"text-green-600 hover:text-green-700 mr-3",title:"Atur Harga Khusus",children:c.jsx(Si,{size:18})}),c.jsx("button",{onClick:()=>{h(j),u(!0)},className:"text-primary hover:text-blue-700 mr-3",children:c.jsx(mo,{size:18})}),j.type!=="walk-in"&&c.jsx("button",{onClick:()=>{confirm("Hapus pelanggan ini?")&&A(j.id)},className:"text-red-600 hover:text-red-700",children:c.jsx(Ta,{size:18})})]})]},j.id))})]})})}),l&&c.jsx(fL,{customer:f,onClose:()=>{u(!1),h(null)},onSubmit:E}),p&&x&&c.jsx(hL,{customer:x,onClose:()=>{m(!1),b(null)}})]})}function fL({customer:s,onClose:n,onSubmit:i}){const[o,l]=ae.useState(s||{name:"",phone:"",email:"",type:"member"}),u=p=>p?p.replace(/\b\w/g,m=>m.toUpperCase()):"",f=p=>{p.persist&&p.persist();const{name:m,value:x}=p.target;l(b=>({...b,[m]:x}))},h=p=>{p.preventDefault();const m={...o,name:u(o.name.trim())};i(m)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:s?"Edit Pelanggan":"Tambah Pelanggan Baru"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(ta,{size:24,className:"rotate-45"})})]}),c.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),c.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: Budi Santoso",autoComplete:"off",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Telepon / WhatsApp *"}),c.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: 081234567890",inputMode:"tel",autoComplete:"off",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:o.email,onChange:f,onInput:f,className:"input w-full",placeholder:"email@contoh.com",autoComplete:"off"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Pelanggan *"}),c.jsxs("select",{name:"type",value:o.type,onChange:f,className:"input w-full",required:!0,children:[c.jsx("option",{value:"member",children:"Member"}),c.jsx("option",{value:"vip",children:"VIP"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:s?"Update":"Simpan"}),c.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function hL({customer:s,onClose:n}){const[i,o]=ae.useState(""),[l,u]=ae.useState(s.customPrices||{}),{products:f}=la(),{setCustomPrice:h,removeCustomPrice:p}=F1(),m=f.filter(w=>w.name.toLowerCase().includes(i.toLowerCase())||w.sku.toLowerCase().includes(i.toLowerCase())),x=(w,y)=>{const A=parseFloat(y);if(y===""||isNaN(A)){const k={...l};delete k[w],u(k)}else u({...l,[w]:A})},b=async()=>{const{saveCustomPrices:w}=F1.getState();try{const y=await w(s.id,l);y.success?(alert("Harga khusus berhasil disimpan!"),n()):alert("Gagal menyimpan: "+(y.error||"Unknown error"))}catch(y){console.error("Error saving custom prices:",y),alert("Gagal menyimpan: "+y.message)}},v=w=>(w.costPrice||w.cost||0)*1.15;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold",children:["Atur Harga Khusus - ",s.name]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kosongkan harga untuk menggunakan harga default produk"})]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(ta,{size:24,className:"rotate-45"})})]}),c.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),placeholder:"Cari produk...",className:"w-full pl-10 input"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Default"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min. Harga (15%)"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Harga Khusus"})]})}),c.jsx("tbody",{className:"divide-y",children:m.map(w=>{const y=l[w.id],A=v(w),k=y!==void 0,E=!y||y>=A;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:w.sku}),c.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:w.name}),c.jsx("td",{className:"px-4 py-3 text-sm",children:w.category}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["Rp ",(w.costPrice||w.cost||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:["Rp ",w.price.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-semibold",children:["Rp ",A.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("input",{type:"number",value:y||"",onChange:j=>x(w.id,j.target.value),placeholder:"Default",className:`input-sm w-32 text-right ${E?k?"border-green-500 bg-green-50":"":"border-red-500 bg-red-50"}`,min:0,step:100}),!E&&c.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"}),k&&E&&c.jsx("span",{className:"text-xs text-green-600",children:" Aktif"})]})})]},w.id)})})]})}),c.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-900",children:[c.jsx("strong",{children:Object.keys(l).length})," produk dengan harga khusus"]})}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{onClick:b,className:"flex-1 btn btn-primary",children:"Simpan Harga Khusus"}),c.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}const pL=y1(w1(s=>({returns:[]}),{name:"returns-storage"}));function mL(){const[s,n]=ae.useState("transactions"),[i,o]=ae.useState("today"),[l,u]=ae.useState(""),[f,h]=ae.useState(""),{transactions:p,getTodaySales:m,voidTransaction:x}=Ci(),{products:b,stockHistory:v,updateStock:w}=la(),{stores:y}=w7(),{user:A}=A1(),{salesOrders:k}=jc(),{returns:E}=pL(),{purchases:j,suppliers:N}=B2(),{expenses:I}=hv(),{debts:M}=pv(),B=[{id:"transactions",label:"Transaksi Kasir"},{id:"sales",label:"Laporan Penjualan"},{id:"salesorders",label:"Sales Order"},{id:"purchases",label:"Laporan Pembelian"},{id:"expenses",label:"Laporan Pengeluaran"},{id:"debts",label:"Hutang Piutang"},{id:"returns",label:"Laporan Retur"},{id:"stock",label:"Laporan Stok"},{id:"products",label:"Produk Terlaris"},{id:"profit",label:"Laba Rugi"},{id:"source",label:"Omzet per Sumber"}],F=(T,_="date")=>{const L=new Date;return L.setHours(0,0,0,0),T.filter(z=>{const G=new Date(z[_]);if(i==="custom"&&l&&f){const K=new Date(l),oe=new Date(f);return oe.setHours(23,59,59,999),G>=K&&G<=oe}if(i==="today"){const K=new Date(G);return K.setHours(0,0,0,0),K.getTime()===L.getTime()}else if(i==="week"){const K=new Date(L);return K.setDate(K.getDate()-7),G>=K}else if(i==="month"){const K=new Date(L);return K.setMonth(K.getMonth()-1),G>=K}else if(i==="year"){const K=new Date(L.getFullYear(),0,1);return G>=K}return!0})},D=()=>{let T="";const _=F(p);s==="transactions"||s==="sales"?(T=`ID,Tanggal,Pelanggan,Items,Subtotal,Diskon,Pajak,Total,Pembayaran,Status
`,_.forEach(G=>{var K;T+=`${G.id},${new Date(G.date).toLocaleString("id-ID")},${((K=G.customer)==null?void 0:K.name)||"-"},${G.items.length},${G.subtotal},${G.discount},${G.tax},${G.total},${G.paymentMethod},${G.status}
`})):s==="stock"&&(T=`Kode,Nama,Kategori,Stok,Min Stok,Harga,HPP,Nilai Stok
`,b.forEach(G=>{T+=`${G.code},${G.name},${G.category},${G.stock},${G.minStock},${G.price},${G.cost||0},${G.price*G.stock}
`}));const L=new Blob([T],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a");z.href=URL.createObjectURL(L),z.download=`laporan-${s}-${new Date().toISOString().split("T")[0]}.csv`,z.click()},H=()=>{window.print()};return c.jsxs("div",{className:`${Nt?"p-4":"p-6"} space-y-4`,children:[c.jsxs("div",{children:[c.jsx("h1",{className:`${Nt?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:"Laporan"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Monitor performa bisnis"})]}),c.jsx("div",{className:`bg-white rounded-xl ${Nt?"p-3":"p-6"} shadow-sm border border-gray-100`,children:c.jsxs("div",{className:`flex flex-col ${Nt?"gap-3":"md:flex-row gap-4"}`,children:[c.jsx("select",{value:s,onChange:T=>n(T.target.value),className:`input flex-1 ${Nt?"text-sm":""}`,children:B.map(T=>c.jsx("option",{value:T.id,children:T.label},T.id))}),c.jsxs("select",{value:i,onChange:T=>o(T.target.value),className:`input ${Nt?"text-sm":""}`,children:[c.jsx("option",{value:"today",children:"Hari Ini"}),c.jsx("option",{value:"week",children:"7 Hari Terakhir"}),c.jsx("option",{value:"month",children:"30 Hari Terakhir"}),c.jsx("option",{value:"year",children:"Tahun Ini"}),c.jsx("option",{value:"custom",children:"Periode Custom"})]}),i==="custom"&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"date",value:l,onChange:T=>u(T.target.value),className:"input"}),c.jsx("input",{type:"date",value:f,onChange:T=>h(T.target.value),className:"input"})]}),c.jsxs("button",{onClick:D,className:"btn btn-primary flex items-center gap-2",children:[c.jsx(Oc,{size:20}),"Export CSV"]}),c.jsxs("button",{onClick:H,className:"btn btn-secondary flex items-center gap-2",children:[c.jsx(If,{size:20}),"Print"]})]})}),s==="transactions"&&c.jsx(xL,{transactions:p,voidTransaction:x,updateStock:w,user:A,dateRange:i,customStartDate:l,customEndDate:f}),s==="sales"&&c.jsx(vL,{transactions:p,dateRange:i,customStartDate:l,customEndDate:f}),s==="salesorders"&&c.jsx(AL,{salesOrders:k,dateRange:i,customStartDate:l,customEndDate:f}),s==="purchases"&&c.jsx(jL,{purchases:j,suppliers:N,dateRange:i,customStartDate:l,customEndDate:f}),s==="expenses"&&c.jsx(NL,{expenses:I,dateRange:i,customStartDate:l,customEndDate:f}),s==="debts"&&c.jsx(CL,{debts:M,dateRange:i,customStartDate:l,customEndDate:f}),s==="returns"&&c.jsx(kL,{returns:E,dateRange:i,customStartDate:l,customEndDate:f}),s==="stock"&&c.jsx(gL,{products:b,stockHistory:v}),s==="products"&&c.jsx(bL,{transactions:p,dateRange:i,customStartDate:l,customEndDate:f}),s==="profit"&&c.jsx(yL,{transactions:p,products:b,dateRange:i,customStartDate:l,customEndDate:f}),s==="source"&&c.jsx(wL,{transactions:p,stores:y,dateRange:i,customStartDate:l,customEndDate:f})]})}function xL({transactions:s,voidTransaction:n,updateStock:i,user:o,dateRange:l,customStartDate:u,customEndDate:f}){const[h,p]=ae.useState(""),[m,x]=ae.useState(!1),[b,v]=ae.useState(null),[w,y]=ae.useState(""),[A,k]=ae.useState(!1),[E,j]=ae.useState(null),N=D=>{j(D),y(""),k(!0)},I=async()=>{if(!w.trim()){alert("Masukkan alasan void transaksi");return}await n(E.id,w,i,o==null?void 0:o.id,o==null?void 0:o.name),k(!1),j(null),y(""),alert("Transaksi berhasil di-void dan stok telah dikembalikan")},M=s.filter(D=>{const H=D.id.toLowerCase().includes(h.toLowerCase()),T=new Date(D.date),_=new Date;_.setHours(0,0,0,0);let L=!0;if(l==="custom"&&u&&f){const z=new Date(u),G=new Date(f);G.setHours(23,59,59,999),L=T>=z&&T<=G}else if(l==="today"){const z=new Date(T);z.setHours(0,0,0,0),L=z.getTime()===_.getTime()}else if(l==="week"){const z=new Date(_);z.setDate(z.getDate()-7),L=T>=z}else if(l==="month"){const z=new Date(_);z.setMonth(z.getMonth()-1),L=T>=z}return H&&L}),B=M.filter(D=>D.status==="completed").reduce((D,H)=>D+H.total,0),F=D=>{v(D),x(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:M.filter(D=>D.status==="completed").length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",B.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Transaksi Void"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:M.filter(D=>D.status==="void").length})]})]}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:h,onChange:D=>p(D.target.value),placeholder:"Cari ID transaksi...",className:"w-full pl-10 input"})]})}),c.jsxs("div",{className:"card overflow-hidden",children:[c.jsx("h3",{className:"text-lg font-bold mb-4 px-6 pt-6",children:"Riwayat Transaksi Kasir"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pembayaran"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:M.map(D=>{var H;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:D.id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(D.date).toLocaleString("id-ID")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((H=D.customer)==null?void 0:H.name)||"-"}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[D.items.length," item"]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold",children:["Rp ",D.total.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:D.paymentMethod}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.status==="completed"?c.jsx("span",{className:"badge badge-success",children:"Selesai"}):c.jsx("span",{className:"badge badge-danger",children:"Void"})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[c.jsx("button",{onClick:()=>F(D),className:"text-primary hover:text-blue-700",title:"Lihat Detail",children:c.jsx(z_,{size:18})}),D.status==="completed"&&c.jsx("button",{onClick:()=>N(D),className:"text-red-500 hover:text-red-700",title:"Void Transaksi",children:c.jsx(F_,{size:18})}),c.jsx("button",{className:"text-gray-600 hover:text-gray-700",title:"Print",children:c.jsx(If,{size:18})})]})]},D.id)})})]})})]})]}),A&&E&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Void Transaksi"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["Void transaksi ",c.jsx("strong",{children:E.id})," senilai ",c.jsxs("strong",{children:["Rp ",E.total.toLocaleString("id-ID")]}),"?"]}),c.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded mb-4",children:" Stok produk akan dikembalikan otomatis"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alasan Void *"}),c.jsx("textarea",{value:w,onChange:D=>y(D.target.value),placeholder:"Masukkan alasan void...",className:"input w-full",rows:3,required:!0})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>k(!1),className:"btn btn-secondary flex-1",children:"Batal"}),c.jsx("button",{onClick:I,className:"btn btn-danger flex-1",children:"Konfirmasi Void"})]})]})}),m&&b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Detail Transaksi"}),c.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)] space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"ID Transaksi"}),c.jsx("p",{className:"font-semibold",children:b.id})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Tanggal"}),c.jsx("p",{className:"font-semibold",children:new Date(b.date).toLocaleString("id-ID")})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Kasir"}),c.jsx("p",{className:"font-semibold",children:b.cashier})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Metode Pembayaran"}),c.jsx("p",{className:"font-semibold capitalize",children:b.paymentMethod})]})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"font-semibold mb-3",children:"Items"}),c.jsx("div",{className:"space-y-2",children:b.items.map((D,H)=>c.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:D.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:[D.quantity," x Rp ",D.price.toLocaleString("id-ID")]})]}),c.jsxs("p",{className:"font-semibold",children:["Rp ",(D.price*D.quantity).toLocaleString("id-ID")]})]},H))})]}),c.jsxs("div",{className:"border-t pt-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsxs("span",{children:["Rp ",b.subtotal.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Diskon"}),c.jsxs("span",{children:["- Rp ",b.discount.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Pajak"}),c.jsxs("span",{children:["Rp ",b.tax.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{className:"text-primary",children:["Rp ",b.total.toLocaleString("id-ID")]})]}),b.paymentMethod==="cash"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Bayar"}),c.jsxs("span",{children:["Rp ",b.cashAmount.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between font-semibold",children:[c.jsx("span",{children:"Kembali"}),c.jsxs("span",{className:"text-green-600",children:["Rp ",b.change.toLocaleString("id-ID")]})]})]})]})]})]})})]})}function vL({transactions:s,dateRange:n,customStartDate:i,customEndDate:o}){const u=(m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(b=>{const v=new Date(b.date);if(n==="custom"&&i&&o){const w=new Date(i),y=new Date(o);return y.setHours(23,59,59,999),v>=w&&v<=y}if(n==="today"){const w=new Date(v);return w.setHours(0,0,0,0),w.getTime()===x.getTime()}else if(n==="week"){const w=new Date(x);return w.setDate(w.getDate()-7),v>=w}else if(n==="month"){const w=new Date(x);return w.setMonth(w.getMonth()-1),v>=w}return!0})})(s).filter(m=>!m.status||m.status==="completed"),f=u.reduce((m,x)=>m+x.total,0),h=u.reduce((m,x)=>m+x.tax,0),p=u.reduce((m,x)=>m+x.discount,0);return u.length>0&&f/u.length,c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:u.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",f.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Pajak"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",h.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Diskon"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-red-600",children:["Rp ",p.toLocaleString("id-ID")]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Penjualan"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Diskon"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pajak"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y",children:u.slice(0,10).map(m=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(m.date).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:m.id}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.subtotal.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600",children:["- Rp ",m.discount.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.tax.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold",children:["Rp ",m.total.toLocaleString("id-ID")]})]},m.id))})]})})]})]})}function gL({products:s,stockHistory:n}){const[i,o]=ae.useState("name"),[l,u]=ae.useState("all"),f=s.reduce((k,E)=>k+E.price*E.stock,0),h=s.reduce((k,E)=>k+(E.cost||0)*E.stock,0),p=s.filter(k=>k.stock<=k.minStock).length,m=s.filter(k=>k.stock===0).length,x=s.reduce((k,E)=>k+E.stock,0),b=s.reduce((k,E)=>k+(E.damagedStock||0),0),v=s.reduce((k,E)=>k+(E.damagedStock||0)*(E.cost||E.price||0),0),w=s.filter(k=>(k.damagedStock||0)>0).length;let y=[...s];l==="low"?y=y.filter(k=>k.stock<=k.minStock&&k.stock>0):l==="out"?y=y.filter(k=>k.stock===0):l==="normal"?y=y.filter(k=>k.stock>k.minStock):l==="damaged"&&(y=y.filter(k=>(k.damagedStock||0)>0)),i==="stock-asc"?y.sort((k,E)=>k.stock-E.stock):i==="stock-desc"?y.sort((k,E)=>E.stock-k.stock):i==="value-desc"?y.sort((k,E)=>E.price*E.stock-k.price*k.stock):y.sort((k,E)=>k.name.localeCompare(E.name));const A=(n||[]).slice(0,10);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:s.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Unit"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:x.toLocaleString("id-ID")})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Jual"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",(f/1e6).toFixed(1),"M"]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Modal (HPP)"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:["Rp ",(h/1e6).toFixed(1),"M"]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Stok Bermasalah"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:p+m}),c.jsxs("p",{className:"text-xs text-gray-500",children:[m," habis, ",p," rendah"]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Stok Rusak"}),c.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:b}),c.jsxs("p",{className:"text-xs text-gray-500",children:[w," produk, Rp ",v.toLocaleString("id-ID")]})]})]}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("select",{value:l,onChange:k=>u(k.target.value),className:"input",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"normal",children:"Stok Normal"}),c.jsx("option",{value:"low",children:"Stok Rendah"}),c.jsx("option",{value:"out",children:"Stok Habis"}),c.jsx("option",{value:"damaged",children:"Stok Rusak"})]}),c.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"input",children:[c.jsx("option",{value:"name",children:"Urut: Nama A-Z"}),c.jsx("option",{value:"stock-asc",children:"Urut: Stok Terendah"}),c.jsx("option",{value:"stock-desc",children:"Urut: Stok Tertinggi"}),c.jsx("option",{value:"value-desc",children:"Urut: Nilai Tertinggi"})]})]})}),c.jsxs("div",{className:"card",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detail Stok Produk (",y.length," produk)"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Rusak"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Jual"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:y.slice(0,50).map(k=>c.jsxs("tr",{className:`hover:bg-gray-50 ${k.stock===0?"bg-red-50":k.stock<=k.minStock?"bg-orange-50":""}`,children:[c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("p",{className:"font-medium",children:k.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[k.code," ",k.sku?` ${k.sku}`:""]})]}),c.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[k.stock," ",k.unit]}),c.jsx("td",{className:"px-4 py-3 text-right",children:(k.damagedStock||0)>0?c.jsx("span",{className:"text-orange-600 font-medium",children:k.damagedStock}):c.jsx("span",{className:"text-gray-400",children:"-"})}),c.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:k.minStock}),c.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",(k.price||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["Rp ",(k.cost||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",((k.price||0)*k.stock).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3 text-center",children:k.stock===0?c.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"HABIS"}):k.stock<=k.minStock?c.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:"Rendah"}):c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Normal"})})]},k.id))})]})}),y.length>50&&c.jsxs("p",{className:"text-center text-gray-500 py-4 text-sm",children:["Menampilkan 50 dari ",y.length," produk"]})]}),A.length>0&&c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Perubahan Stok Terakhir"}),c.jsx("div",{className:"space-y-2",children:A.map(k=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:k.productName}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleString("id-ID")})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:`font-bold ${k.change>0?"text-green-600":k.change<0?"text-red-600":""}`,children:[k.change>0?"+":"",k.change]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[k.oldStock,"  ",k.newStock]})]})]},k.id))})]})]})}function bL({transactions:s,dateRange:n,customStartDate:i,customEndDate:o}){const l=m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(b=>{const v=new Date(b.date);if(n==="custom"&&i&&o){const w=new Date(i),y=new Date(o);return y.setHours(23,59,59,999),v>=w&&v<=y}if(n==="today"){const w=new Date(v);return w.setHours(0,0,0,0),w.getTime()===x.getTime()}else if(n==="week"){const w=new Date(x);return w.setDate(w.getDate()-7),v>=w}else if(n==="month"){const w=new Date(x);return w.setMonth(w.getMonth()-1),v>=w}return!0})},u={};l(s).filter(m=>m.status==="completed").forEach(m=>{m.items.forEach(x=>{u[x.id]||(u[x.id]={name:x.name,quantity:0,revenue:0}),u[x.id].quantity+=x.quantity,u[x.id].revenue+=x.price*x.quantity})});const f=Object.values(u).sort((m,x)=>x.quantity-m.quantity).slice(0,10),h=f.reduce((m,x)=>m+x.quantity,0),p=f.reduce((m,x)=>m+x.revenue,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk Terjual"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:[h," items"]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue (Top 10)"}),c.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata per Produk"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",f.length>0?(p/f.length).toLocaleString("id-ID"):0]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Top 10 Produk Terlaris"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ranking"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty Terjual"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Revenue"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% dari Total"})]})}),c.jsx("tbody",{className:"divide-y",children:f.map((m,x)=>{const b=p>0?(m.revenue/p*100).toFixed(1):0;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${x===0?"bg-yellow-400 text-white":x===1?"bg-gray-400 text-white":x===2?"bg-orange-400 text-white":"bg-gray-200 text-gray-700"}`,children:x+1})}),c.jsx("td",{className:"px-6 py-4 font-medium",children:m.name}),c.jsx("td",{className:"px-6 py-4 text-right font-semibold",children:m.quantity}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:["Rp ",m.revenue.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${b}%`}})}),c.jsxs("span",{className:"text-sm",children:[b,"%"]})]})})]},x)})})]})}),f.length===0&&c.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data penjualan untuk periode ini"})]})]})}function yL({transactions:s,products:n,dateRange:i,customStartDate:o,customEndDate:l}){const f=(j=>{const N=new Date;return N.setHours(0,0,0,0),j.filter(I=>{const M=new Date(I.date);if(i==="custom"&&o&&l){const B=new Date(o),F=new Date(l);return F.setHours(23,59,59,999),M>=B&&M<=F}if(i==="today"){const B=new Date(M);return B.setHours(0,0,0,0),B.getTime()===N.getTime()}else if(i==="week"){const B=new Date(N);return B.setDate(B.getDate()-7),M>=B}else if(i==="month"){const B=new Date(N);return B.setMonth(B.getMonth()-1),M>=B}else if(i==="year"){const B=new Date(N.getFullYear(),0,1);return M>=B}return!0})})(s).filter(j=>j.status==="completed"),h={};n.forEach(j=>{h[j.id]=j.cost||0});const p={};let m=0,x=0,b=0,v=0;f.forEach(j=>{b+=j.discount||0,v+=j.tax||0,j.items.forEach(N=>{const I=h[N.id]||N.cost||0,M=N.price*N.quantity,B=I*N.quantity,F=M-B;m+=M,x+=B,p[N.id]||(p[N.id]={name:N.name,quantity:0,revenue:0,cogs:0,profit:0}),p[N.id].quantity+=N.quantity,p[N.id].revenue+=M,p[N.id].cogs+=B,p[N.id].profit+=F})});const w=m-x,y=w-b+v,A=m>0?(w/m*100).toFixed(1):0,k=m>0?(y/m*100).toFixed(1):0,E=Object.values(p).sort((j,N)=>N.profit-j.profit).slice(0,10);return c.jsxs("div",{className:"space-y-6 print:space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Total Pendapatan"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",m.toLocaleString("id-ID")]})]}),c.jsx(Si,{size:40,className:"opacity-80"})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"HPP (COGS)"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",x.toLocaleString("id-ID")]})]}),c.jsx(Va,{size:40,className:"opacity-80"})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Laba Kotor"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",w.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",A,"%"]})]}),c.jsx(F2,{size:40,className:"opacity-80"})]})}),c.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Laba Bersih"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",y.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",k,"%"]})]}),c.jsx(R_,{size:40,className:"opacity-80"})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Laba Rugi"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{className:"font-medium",children:"Total Pendapatan (Revenue)"}),c.jsxs("span",{className:"font-bold text-blue-600",children:["Rp ",m.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[c.jsx("span",{children:"(-) Harga Pokok Penjualan (HPP)"}),c.jsxs("span",{children:["Rp ",x.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b bg-green-50 px-2 rounded",children:[c.jsx("span",{className:"font-medium text-green-700",children:"= Laba Kotor (Gross Profit)"}),c.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",w.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[c.jsx("span",{children:"(-) Total Diskon"}),c.jsxs("span",{children:["Rp ",b.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b",children:[c.jsx("span",{children:"(+) PPN yang Dipungut"}),c.jsxs("span",{children:["Rp ",v.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between py-3 bg-purple-50 px-2 rounded text-lg",children:[c.jsx("span",{className:"font-bold text-purple-700",children:"= Laba Bersih (Net Profit)"}),c.jsxs("span",{className:"font-bold text-purple-600",children:["Rp ",y.toLocaleString("id-ID")]})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Profit per Produk (Top 10)"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Profit"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margin"})]})}),c.jsx("tbody",{className:"divide-y",children:E.map((j,N)=>{const I=j.revenue>0?(j.profit/j.revenue*100).toFixed(1):0;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-medium",children:j.name}),c.jsx("td",{className:"px-4 py-3 text-right",children:j.quantity}),c.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",j.revenue.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-3 text-right text-red-600",children:["Rp ",j.cogs.toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:["Rp ",j.profit.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3 text-right",children:c.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${I>=30?"bg-green-100 text-green-700":I>=15?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[I,"%"]})})]},N)})})]})}),E.length===0&&c.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data transaksi untuk periode ini"})]}),c.jsx("div",{className:"card bg-blue-50 border border-blue-200",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:" Tips:"})," Pastikan HPP (Harga Pokok Penjualan) di setiap produk sudah diisi dengan benar untuk mendapatkan laporan laba rugi yang akurat. Anda dapat mengisi HPP di menu Produk."]})})]})}function wL({transactions:s,stores:n,dateRange:i,customStartDate:o,customEndDate:l}){const f=(x=>{const b=new Date;return b.setHours(0,0,0,0),x.filter(v=>{const w=new Date(v.date);if(i==="custom"&&o&&l){const y=new Date(o),A=new Date(l);return A.setHours(23,59,59,999),w>=y&&w<=A}if(i==="today"){const y=new Date(w);return y.setHours(0,0,0,0),y.getTime()===b.getTime()}else if(i==="week"){const y=new Date(b);return y.setDate(y.getDate()-7),w>=y}else if(i==="month"){const y=new Date(b);return y.setMonth(y.getMonth()-1),w>=y}return!0})})(s).filter(x=>x.status==="completed"),h={pos:{label:"POS (Kasir)",color:"bg-blue-500",transactions:0,revenue:0},shopee:{label:"Shopee",color:"bg-orange-500",transactions:0,revenue:0},lazada:{label:"Lazada",color:"bg-purple-500",transactions:0,revenue:0},tokopedia:{label:"Tokopedia",color:"bg-green-500",transactions:0,revenue:0},tiktok:{label:"TikTok Shop",color:"bg-gray-800",transactions:0,revenue:0}};f.forEach(x=>{const b=x.source||"pos";h[b]?(h[b].transactions+=1,h[b].revenue+=x.total):(h.pos.transactions+=1,h.pos.revenue+=x.total)});const p=Object.values(h).reduce((x,b)=>x+b.revenue,0),m=Object.values(h).reduce((x,b)=>x+b.transactions,0);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Omzet Semua Sumber"}),c.jsxs("p",{className:"text-3xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),c.jsx("p",{className:"text-3xl font-bold mt-1",children:m})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).map(([x,b])=>{const v=p>0?(b.revenue/p*100).toFixed(1):0;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:`w-4 h-4 rounded ${b.color}`}),c.jsx("h4",{className:"font-bold",children:b.label})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Transaksi"}),c.jsx("span",{className:"font-medium",children:b.transactions})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Omzet"}),c.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",b.revenue.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Kontribusi"}),c.jsxs("span",{className:"font-medium",children:[v,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:c.jsx("div",{className:`${b.color} h-2 rounded-full transition-all`,style:{width:`${v}%`}})})]})]},x)})}),n&&n.length>0&&c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Toko Marketplace Terhubung"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:`w-3 h-3 rounded-full ${x.isConnected?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"font-medium",children:x.shopName})]}),c.jsx("p",{className:"text-sm text-gray-600 capitalize",children:x.platform}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",x.lastSync?new Date(x.lastSync).toLocaleString("id-ID"):"Never"]})]},x.id))})]}),c.jsx("div",{className:"card bg-yellow-50 border border-yellow-200",children:c.jsxs("p",{className:"text-sm text-yellow-800",children:[c.jsx("strong",{children:" Info:"})," Data marketplace akan otomatis ter-update ketika Anda melakukan sinkronisasi dari halaman Marketplace Integration. Pastikan semua toko sudah terhubung untuk laporan yang akurat."]})})]})}function AL({salesOrders:s,dateRange:n,customStartDate:i,customEndDate:o}){const u=(x=>{const b=new Date;return b.setHours(0,0,0,0),x.filter(v=>{const w=new Date(v.createdAt);if(n==="custom"&&i&&o){const y=new Date(i),A=new Date(o);return A.setHours(23,59,59,999),w>=y&&w<=A}if(n==="today"){const y=new Date(w);return y.setHours(0,0,0,0),y.getTime()===b.getTime()}else if(n==="week"){const y=new Date(b);return y.setDate(y.getDate()-7),w>=y}else if(n==="month"){const y=new Date(b);return y.setMonth(y.getMonth()-1),w>=y}return!0})})(s||[]),f=u.length,h=u.reduce((x,b)=>x+(b.total||0),0),p=u.filter(x=>x.status==="pending").length,m=u.filter(x=>x.status==="lunas"||x.status==="completed").length;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total SO"}),c.jsx("p",{className:"text-2xl font-bold",children:f})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Nilai"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["Rp ",h.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Lunas"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Sales Order"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:u.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"Tidak ada data Sales Order"})}):u.map(x=>{var b,v;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-mono font-semibold text-blue-600",children:x.orderNumber||x.id}),c.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(x.createdAt).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-4 py-3",children:((b=x.customer)==null?void 0:b.name)||"Walk-in"}),c.jsx("td",{className:"px-4 py-3 text-center",children:((v=x.items)==null?void 0:v.length)||0}),c.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:["Rp ",(x.total||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.status==="lunas"||x.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:x.status==="lunas"?"Lunas":x.status==="completed"?"Selesai":"Pending"})})]},x.id)})})]})})]})]})}function kL({returns:s,dateRange:n,customStartDate:i,customEndDate:o}){const u=(b=>{const v=new Date;return v.setHours(0,0,0,0),b.filter(w=>{const y=new Date(w.createdAt);if(n==="custom"&&i&&o){const A=new Date(i),k=new Date(o);return k.setHours(23,59,59,999),y>=A&&y<=k}if(n==="today"){const A=new Date(y);return A.setHours(0,0,0,0),A.getTime()===v.getTime()}else if(n==="week"){const A=new Date(v);return A.setDate(A.getDate()-7),y>=A}else if(n==="month"){const A=new Date(v);return A.setMonth(A.getMonth()-1),y>=A}return!0})})(s||[]),f=u.length,h=u.reduce((b,v)=>b+(v.total||0),0),p=u.filter(b=>b.status==="pending").length,m=u.filter(b=>b.status==="completed").length,x=u.filter(b=>b.reason==="Barang rusak/cacat").length;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Retur"}),c.jsx("p",{className:"text-2xl font-bold",children:f})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Retur"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["Rp ",h.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:m})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Barang Rusak"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:x})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Retur"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Retur"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Alasan"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:u.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:"Tidak ada data Retur"})}):u.map(b=>{var v;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-mono font-semibold text-sm",children:b.id}),c.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 text-sm",children:b.orderNumber||"-"}),c.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(b.createdAt).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-4 py-3",children:((v=b.customer)==null?void 0:v.name)||"-"}),c.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:["Rp ",(b.total||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`text-sm ${b.reason==="Barang rusak/cacat"?"text-red-600 font-medium":""}`,children:b.reason||"-"})}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:b.status==="completed"?"Selesai":"Pending"})})]},b.id)})})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Retur berdasarkan Alasan"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(u.reduce((b,v)=>{const w=v.reason||"Lainnya";return b[w]=(b[w]||0)+1,b},{})).map(([b,v])=>c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600",children:b}),c.jsx("p",{className:"text-xl font-bold",children:v})]},b))})]})]})}function jL({purchases:s,suppliers:n,dateRange:i,customStartDate:o,customEndDate:l}){const f=(w=>{const y=new Date;return y.setHours(0,0,0,0),w.filter(A=>{const k=new Date(A.createdAt||A.date);if(i==="custom"&&o&&l){const E=new Date(o),j=new Date(l);return j.setHours(23,59,59,999),k>=E&&k<=j}if(i==="today"){const E=new Date(k);return E.setHours(0,0,0,0),E.getTime()===y.getTime()}else if(i==="week"){const E=new Date(y);return E.setDate(E.getDate()-7),k>=E}else if(i==="month"){const E=new Date(y);return E.setMonth(E.getMonth()-1),k>=E}return!0})})(s||[]),h=f.length,p=f.reduce((w,y)=>w+(y.total||0),0),m=f.filter(w=>w.status==="pending").length,x=f.filter(w=>w.status==="completed"||w.status==="received").length,b=f.reduce((w,y)=>{var A;return w+(((A=y.items)==null?void 0:A.length)||0)},0),v=f.reduce((w,y)=>{var k;const A=((k=y.supplier)==null?void 0:k.name)||"Tidak diketahui";return w[A]||(w[A]={count:0,total:0}),w[A].count++,w[A].total+=y.total||0,w},{});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total PO"}),c.jsx("p",{className:"text-2xl font-bold",children:h})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Nilai"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:x})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Item"}),c.jsx("p",{className:"text-2xl font-bold",children:b})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Pembelian"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. PO"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Items"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"Tidak ada data Pembelian"})}):f.map(w=>{var y,A;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-mono font-semibold text-blue-600",children:w.id}),c.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(w.createdAt||w.date).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-4 py-3",children:((y=w.supplier)==null?void 0:y.name)||"-"}),c.jsx("td",{className:"px-4 py-3 text-center",children:((A=w.items)==null?void 0:A.length)||0}),c.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:["Rp ",(w.total||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w.status==="completed"||w.status==="received"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:w.status==="completed"||w.status==="received"?"Selesai":"Pending"})})]},w.id)})})]})})]}),Object.keys(v).length>0&&c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Pembelian per Supplier"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(v).sort((w,y)=>y[1].total-w[1].total).map(([w,y])=>c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"font-medium text-gray-900",children:w}),c.jsxs("p",{className:"text-sm text-gray-600",children:[y.count," PO"]}),c.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["Rp ",y.total.toLocaleString("id-ID")]})]},w))})]}),n&&n.length>0&&c.jsxs("div",{className:"card",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Daftar Supplier (",n.length,")"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(w=>c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("p",{className:"font-medium",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.phone||"-"}),c.jsx("p",{className:"text-xs text-gray-500",children:w.address||"-"})]},w.id))})]})]})}function NL({expenses:s,dateRange:n,customStartDate:i,customEndDate:o}){const l=[{id:"utilities",label:"Listrik/Air/Internet",color:"bg-yellow-100 text-yellow-800"},{id:"rent",label:"Sewa Tempat",color:"bg-blue-100 text-blue-800"},{id:"salary",label:"Gaji Karyawan",color:"bg-green-100 text-green-800"},{id:"supplies",label:"Perlengkapan Toko",color:"bg-purple-100 text-purple-800"},{id:"transport",label:"Transportasi",color:"bg-orange-100 text-orange-800"},{id:"maintenance",label:"Perawatan/Perbaikan",color:"bg-red-100 text-red-800"},{id:"marketing",label:"Marketing/Promosi",color:"bg-pink-100 text-pink-800"},{id:"other",label:"Lainnya",color:"bg-gray-100 text-gray-800"}],f=(x=>{const b=new Date;return b.setHours(0,0,0,0),(x||[]).filter(v=>{const w=new Date(v.date||v.createdAt);if(n==="custom"&&i&&o){const y=new Date(i),A=new Date(o);return A.setHours(23,59,59,999),w>=y&&w<=A}if(n==="today"){const y=new Date(w);return y.setHours(0,0,0,0),y.getTime()===b.getTime()}else if(n==="week"){const y=new Date(b);return y.setDate(y.getDate()-7),w>=y}else if(n==="month"){const y=new Date(b);return y.setMonth(y.getMonth()-1),w>=y}return!0})})(s),h=f.reduce((x,b)=>x+(b.amount||0),0),p=f.reduce((x,b)=>{const v=b.category||"other";return x[v]||(x[v]={total:0,count:0}),x[v].total+=b.amount||0,x[v].count+=1,x},{}),m=x=>l.find(b=>b.id===x)||l[7];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(gv,{className:"text-red-500",size:32}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Pengeluaran"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["Rp ",h.toLocaleString("id-ID")]})]})]})}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Jumlah Transaksi"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata"}),c.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",f.length>0?Math.round(h/f.length).toLocaleString("id-ID"):0]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Pengeluaran per Kategori"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(p).sort((x,b)=>b[1].total-x[1].total).map(([x,b])=>{const v=m(x);return c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:`text-xs px-2 py-1 rounded ${v.color}`,children:v.label}),c.jsxs("p",{className:"text-lg font-bold mt-2",children:["Rp ",b.total.toLocaleString("id-ID")]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[b.count," transaksi"]})]},x)})})]}),c.jsxs("div",{className:"card overflow-hidden",children:[c.jsx("h3",{className:"text-lg font-bold mb-4 px-6 pt-6",children:"Rincian Pengeluaran"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Deskripsi"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Jumlah"})]})}),c.jsx("tbody",{className:"divide-y",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500",children:"Tidak ada data"})}):f.map(x=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4",children:new Date(x.date||x.createdAt).toLocaleDateString("id-ID")}),c.jsx("td",{className:"px-6 py-4",children:x.description}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded ${m(x.category).color}`,children:m(x.category).label})}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-red-600",children:["Rp ",(x.amount||0).toLocaleString("id-ID")]})]},x.id))})]})})]})]})}function CL({debts:s,dateRange:n,customStartDate:i,customEndDate:o}){const u=(v=>{const w=new Date;return w.setHours(0,0,0,0),(v||[]).filter(y=>{const A=new Date(y.createdAt);if(n==="custom"&&i&&o){const k=new Date(i),E=new Date(o);return E.setHours(23,59,59,999),A>=k&&A<=E}if(n==="today"){const k=new Date(A);return k.setHours(0,0,0,0),k.getTime()===w.getTime()}else if(n==="week"){const k=new Date(w);return k.setDate(k.getDate()-7),A>=k}else if(n==="month"){const k=new Date(w);return k.setMonth(k.getMonth()-1),A>=k}return!0})})(s),f=u.filter(v=>v.type==="payable"),h=u.filter(v=>v.type==="receivable"),p=f.reduce((v,w)=>v+((w.amount||0)-(w.paidAmount||0)),0),m=h.reduce((v,w)=>v+((w.amount||0)-(w.paidAmount||0)),0),x=v=>v==="paid"?"bg-green-100 text-green-800":v==="partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",b=v=>v==="paid"?"Lunas":v==="partial"?"Sebagian":"Belum Bayar";return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx("div",{className:"card border-l-4 border-red-500",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(z8,{className:"text-red-500",size:32}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Hutang"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["Rp ",p.toLocaleString("id-ID")]})]})]})}),c.jsx("div",{className:"card border-l-4 border-green-500",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(F2,{className:"text-green-500",size:32}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Piutang"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["Rp ",m.toLocaleString("id-ID")]})]})]})}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Selisih"}),c.jsxs("p",{className:`text-2xl font-bold mt-1 ${m-p>=0?"text-green-600":"text-red-600"}`,children:["Rp ",(m-p).toLocaleString("id-ID")]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Data"}),c.jsx("p",{className:"text-2xl font-bold mt-1",children:u.length})]})]}),c.jsxs("div",{className:"card overflow-hidden",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 px-6 pt-6 flex items-center gap-2",children:[c.jsx(z8,{className:"text-red-500",size:20})," Daftar Hutang"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Deskripsi"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Jumlah"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sisa"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"Tidak ada data hutang"})}):f.map(v=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 font-medium",children:v.personName}),c.jsx("td",{className:"px-6 py-4",children:v.description}),c.jsxs("td",{className:"px-6 py-4 text-right",children:["Rp ",(v.amount||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-red-600",children:["Rp ",((v.amount||0)-(v.paidAmount||0)).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded ${x(v.status)}`,children:b(v.status)})})]},v.id))})]})})]}),c.jsxs("div",{className:"card overflow-hidden",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 px-6 pt-6 flex items-center gap-2",children:[c.jsx(F2,{className:"text-green-500",size:20})," Daftar Piutang"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Deskripsi"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Jumlah"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sisa"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:h.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"Tidak ada data piutang"})}):h.map(v=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 font-medium",children:v.personName}),c.jsx("td",{className:"px-6 py-4",children:v.description}),c.jsxs("td",{className:"px-6 py-4 text-right",children:["Rp ",(v.amount||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:["Rp ",((v.amount||0)-(v.paidAmount||0)).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded ${x(v.status)}`,children:b(v.status)})})]},v.id))})]})})]})]})}function SL(){const[s,n]=ae.useState(!1),[i,o]=ae.useState(!1),[l,u]=ae.useState("add"),[f,h]=ae.useState(null),{users:p=[],user:m,addUser:x,updateUser:b,deleteUser:v,toggleUserActive:w,isAdmin:y}=A1()||{},{storeInfo:A={},updateStoreInfo:k,whatsappNumber:E,whatsappMessage:j,updateWhatsApp:N}=Df()||{},{products:I=[]}=la()||{},{customers:M=[]}=F1()||{},{transactions:B=[]}=Ci()||{},{purchases:F=[],suppliers:D=[]}=B2()||{},{cartItems:H=[]}=bm()||{},{salesOrders:T=[]}=jc()||{},[_,L]=ae.useState(A||{}),[z,G]=ae.useState({number:E||"",message:j||"Halo, saya ingin bertanya tentang produk di toko Anda."}),K=()=>{var Re;const pe=JSON.parse(localStorage.getItem("returns-storage")||"{}"),Fe=((Re=pe==null?void 0:pe.state)==null?void 0:Re.returns)||[],Ce={version:"1.0",timestamp:new Date().toISOString(),data:{products:I,customers:M,transactions:B,purchases:F,suppliers:D,salesOrders:T,returns:Fe,settings:A,users:p,cart:H}},ve=JSON.stringify(Ce,null,2),Be=new Blob([ve],{type:"application/json"}),Ue=URL.createObjectURL(Be),Xe=document.createElement("a");Xe.href=Ue,Xe.download=`backup-pos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),URL.revokeObjectURL(Ue),alert("Backup database berhasil diunduh!")},oe=pe=>{const Fe=pe.target.files[0];if(!Fe)return;if(!confirm("Restore database akan mengganti semua data yang ada. Lanjutkan?")){pe.target.value="";return}const Ce=new FileReader;Ce.onload=async ve=>{var Be;try{const Ue=JSON.parse(ve.target.result);if(!Ue.version||!Ue.data)throw new Error("Format backup tidak valid");const Xe=((Be=Ue.data.products)==null?void 0:Be.length)>0?[...new Set(Ue.data.products.map(Le=>Le.category).filter(Boolean))]:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling"],Re=(Ue.data.products||[]).map(Le=>({...Le,cost:Le.cost||Le.costPrice||0,costPrice:Le.costPrice||Le.cost||0,price:Le.price||Le.sellingPrice||0,stock:Le.stock||0,minStock:Le.minStock||Le.min_stock||5}));localStorage.setItem("product-storage",JSON.stringify({state:{products:Re,categories:Xe,units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!1,isSyncing:!1},version:0})),localStorage.setItem("customer-storage",JSON.stringify({state:{customers:Ue.data.customers||[]},version:0})),localStorage.setItem("transaction-storage",JSON.stringify({state:{transactions:Ue.data.transactions||[],isOnline:!1},version:0})),localStorage.setItem("purchase-storage",JSON.stringify({state:{purchases:Ue.data.purchases||[],suppliers:Ue.data.suppliers||[]},version:0})),localStorage.setItem("settings-storage",JSON.stringify({state:{storeInfo:Ue.data.settings||{}},version:0})),localStorage.setItem("sales-order-storage",JSON.stringify({state:{salesOrders:Ue.data.salesOrders||[]},version:0})),localStorage.setItem("returns-storage",JSON.stringify({state:{returns:Ue.data.returns||[]},version:0}));const Ge=Ue.data.users||[],Oe=Ge.find(Le=>Le.role==="admin"&&Le.isActive)||Ge.find(Le=>Le.isActive)||Ge[0];if(localStorage.setItem("auth-storage",JSON.stringify({state:{users:Ge,user:Oe||null,isAuthenticated:!!Oe},version:0})),localStorage.setItem("restore-timestamp",Date.now().toString()),window.migrateToFirebase)try{const Le=await window.migrateToFirebase();Le.success?alert(`Restore berhasil!

 ${Le.count} items di-upload ke Firebase`):alert("Restore berhasil ke localStorage, tapi upload ke Firebase gagal.")}catch{alert("Restore berhasil ke localStorage, tapi upload ke Firebase gagal.")}else alert("Restore database berhasil!");setTimeout(()=>window.location.reload(),2e3)}catch(Ue){alert("Error restore database: "+Ue.message)}},Ce.readAsText(Fe),pe.target.value=""},V=async()=>{confirm(` PERINGATAN!

Ini akan menghapus SEMUA data.
Data TIDAK BISA dikembalikan!
Lanjutkan?`)&&confirm("Konfirmasi sekali lagi: Anda yakin ingin menghapus SEMUA database?")&&(la.setState({products:[],categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis"]}),F1.setState({customers:[{id:1,name:"Walk-in Customer",phone:"-",email:"-",address:"-",type:"walk-in",points:0,totalSpent:0,customPrices:{}}]}),Ci.setState({transactions:[]}),B2.setState({purchases:[],suppliers:[]}),bm.setState({items:[],discount:0,discountType:"percent",paymentMethod:"cash",customerId:null}),jc.setState({salesOrders:[]}),localStorage.removeItem("product-storage"),localStorage.removeItem("customer-storage"),localStorage.removeItem("transaction-storage"),localStorage.removeItem("purchase-storage"),localStorage.removeItem("settings-storage"),localStorage.removeItem("cart-storage"),localStorage.removeItem("sales-order-storage"),localStorage.removeItem("returns-storage"),alert(" Database berhasil dihapus!"),window.location.reload(!0))},Y=pe=>{const Fe=pe.target.files[0];if(Fe&&Fe.type.startsWith("image/")){const Ce=new FileReader;Ce.onload=ve=>{L({..._,logo:ve.target.result})},Ce.readAsDataURL(Fe)}},ie=()=>{k(_),alert("Informasi toko berhasil disimpan!")},de=()=>{N(z.number,z.message),alert("Pengaturan WhatsApp berhasil disimpan!")},re=()=>{u("add"),h(null),o(!0)},ne=pe=>{u("edit"),h(pe),o(!0)},le=pe=>{if(!confirm(`Hapus user "${pe.name}"?`))return;const Fe=v(pe.id);Fe.success||alert(Fe.error)},ue=pe=>{const Fe=pe.isActive?"nonaktifkan":"aktifkan";if(!confirm(`${Fe.charAt(0).toUpperCase()+Fe.slice(1)} user "${pe.name}"?`))return;const Ce=w(pe.id);Ce.success||alert(Ce.error)},Me=pe=>{h(pe),n(!0)};return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pengaturan"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Konfigurasi sistem dan preferensi"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Bf,{className:"text-primary",size:24}),c.jsx("h3",{className:"text-lg font-bold",children:"Informasi Toko"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo Toko"}),c.jsxs("div",{className:"flex items-center gap-4",children:[_.logo?c.jsx("div",{className:"relative w-24 h-24 rounded-lg border-2 border-gray-200 overflow-hidden",children:c.jsx("img",{src:_.logo,alt:"Logo",className:"w-full h-full object-contain"})}):c.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:c.jsx(Hu,{className:"text-gray-400",size:32})}),c.jsxs("div",{children:[c.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:Y,className:"hidden"}),c.jsxs("label",{htmlFor:"logo-upload",className:"btn btn-secondary cursor-pointer inline-flex items-center gap-2",children:[c.jsx(Gu,{size:16}),"Pilih Logo"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG maksimal 2MB"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Toko"}),c.jsx("input",{type:"text",value:(_==null?void 0:_.name)||"",onChange:pe=>L({..._,name:pe.target.value}),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),c.jsx("textarea",{className:"input",rows:"2",value:(_==null?void 0:_.address)||"",onChange:pe=>L({..._,address:pe.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telepon"}),c.jsx("input",{type:"tel",value:(_==null?void 0:_.phone)||"",onChange:pe=>L({..._,phone:pe.target.value}),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),c.jsx("input",{type:"email",value:(_==null?void 0:_.email)||"",onChange:pe=>L({..._,email:pe.target.value}),className:"input"})]}),c.jsx("button",{onClick:ie,className:"btn btn-primary",children:"Simpan Informasi"})]})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(mm,{className:"text-green-500",size:24}),c.jsx("h3",{className:"text-lg font-bold",children:"WhatsApp Customer Service"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-green-800",children:[c.jsx(P8,{size:14,className:"inline mr-1"}),"Tambahkan nomor WhatsApp CS untuk tombol kontak cepat."]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nomor WhatsApp"}),c.jsx("input",{type:"tel",placeholder:"6281234567890",value:z.number,onChange:pe=>G({...z,number:pe.target.value}),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 628xxx (tanpa + atau 0)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pesan Default"}),c.jsx("textarea",{rows:"3",placeholder:"Halo, saya ingin bertanya...",value:z.message,onChange:pe=>G({...z,message:pe.target.value}),className:"input"})]}),c.jsx("button",{onClick:de,className:"btn btn-primary",children:"Simpan WhatsApp"})]})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(O_,{className:"text-blue-500",size:24}),c.jsx("h3",{className:"text-lg font-bold",children:"Database"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx(P8,{size:14,className:"inline mr-1"}),"Backup dan restore data aplikasi."]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:K,className:"btn btn-secondary flex items-center justify-center gap-2",children:[c.jsx(Oc,{size:16}),"Backup"]}),c.jsxs("label",{className:"btn btn-secondary flex items-center justify-center gap-2 cursor-pointer",children:[c.jsx(Gu,{size:16}),"Restore",c.jsx("input",{type:"file",accept:".json",onChange:oe,className:"hidden"})]})]}),c.jsxs("button",{onClick:V,className:"btn btn-danger w-full flex items-center justify-center gap-2",children:[c.jsx(Ta,{size:16}),"Hapus Semua Data"]})]})]}),y&&y()&&c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($2,{className:"text-purple-500",size:24}),c.jsx("h3",{className:"text-lg font-bold",children:"Manajemen User"})]}),c.jsxs("button",{onClick:re,className:"btn btn-primary btn-sm flex items-center gap-1",children:[c.jsx(ta,{size:16}),"Tambah"]})]}),c.jsx("div",{className:"space-y-3",children:p.map(pe=>c.jsx("div",{className:`p-3 rounded-lg border ${pe.isActive?"bg-white":"bg-gray-100"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:pe.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[pe.username,"  ",pe.role]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>Me(pe),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Ganti Password",children:c.jsx(H_,{size:16})}),c.jsx("button",{onClick:()=>ne(pe),className:"p-1 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:c.jsx(xv,{size:16})}),c.jsx("button",{onClick:()=>ue(pe),className:`p-1 rounded ${pe.isActive?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:pe.isActive?"Nonaktifkan":"Aktifkan",children:pe.isActive?c.jsx(tP,{size:16}):c.jsx(eP,{size:16})}),pe.role!=="admin"&&c.jsx("button",{onClick:()=>le(pe),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Hapus",children:c.jsx(Ta,{size:16})})]})]})},pe.id))})]})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold",children:"Ganti Password"}),c.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-gray-100 rounded",children:c.jsx(fn,{size:20})})]}),c.jsx("form",{onSubmit:async pe=>{pe.preventDefault();const Fe=new FormData(pe.target),Ce=Fe.get("newPassword"),ve=Fe.get("confirmPassword");if(Ce!==ve){alert("Password tidak cocok!");return}const Be=await b(f.id,{password:Ce});Be&&Be.success?(alert("Password berhasil diubah!"),n(!1)):alert((Be==null?void 0:Be.error)||"Gagal mengubah password")},children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password Baru"}),c.jsx("input",{type:"password",name:"newPassword",required:!0,className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Konfirmasi Password"}),c.jsx("input",{type:"password",name:"confirmPassword",required:!0,className:"input"})]}),c.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Simpan"})]})})]})}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold",children:l==="add"?"Tambah User":"Edit User"}),c.jsx("button",{onClick:()=>o(!1),className:"p-1 hover:bg-gray-100 rounded",children:c.jsx(fn,{size:20})})]}),c.jsx("form",{onSubmit:async pe=>{pe.preventDefault();const Fe=new FormData(pe.target),Ce={name:Fe.get("name"),username:Fe.get("username"),role:Fe.get("role"),permissions:Array.from(Fe.getAll("permissions"))};if(l==="add"){Ce.password=Fe.get("password");const ve=await x(Ce);ve&&ve.success?(alert("User berhasil ditambahkan!"),o(!1)):alert((ve==null?void 0:ve.error)||"Gagal menambahkan user")}else{const ve=await b(f.id,Ce);ve&&ve.success?(alert("User berhasil diupdate!"),o(!1)):alert((ve==null?void 0:ve.error)||"Gagal mengupdate user")}},children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama"}),c.jsx("input",{type:"text",name:"name",defaultValue:(f==null?void 0:f.name)||"",required:!0,className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),c.jsx("input",{type:"text",name:"username",defaultValue:(f==null?void 0:f.username)||"",required:!0,className:"input"})]}),l==="add"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),c.jsx("input",{type:"password",name:"password",required:!0,className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),c.jsxs("select",{name:"role",defaultValue:(f==null?void 0:f.role)||"kasir",className:"input",children:[c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"kasir",children:"Kasir"}),c.jsx("option",{value:"gudang",children:"Gudang"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Permissions"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(d_||{}).map(([pe,Fe])=>{var Ce;return c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",name:"permissions",value:pe,defaultChecked:(Ce=f==null?void 0:f.permissions)==null?void 0:Ce.includes(pe)}),Fe]},pe)})})]}),c.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Simpan"})]})})]})})]})}const p5=Sl("Device",{web:()=>zc(()=>import("./web-BGHrQuRJ.js"),[]).then(s=>new s.DeviceWeb)});function EL(){const[s,n]=ae.useState(!1),[i,o]=ae.useState(!1),[l,u]=ae.useState(!1),[f,h]=ae.useState(null),[p,m]=ae.useState(0),[x,b]=ae.useState({id:"",name:""}),[v,w]=ae.useState(""),[y,A]=ae.useState(null),{products:k}=la();ae.useEffect(()=>{const D=`scan-${Date.now()}`;return w(D),p5.getInfo().then(H=>{p5.getId().then(T=>{b({id:T.identifier||T.uuid||"unknown",name:`${H.manufacturer} ${H.model}`})})}),E(),()=>{B()}},[]);const E=async()=>{try{const D=await Qt.get("barcode_scans");u(D.success)}catch{u(!1)}},j=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const D=document.getElementById("root");D&&(D.style.visibility="hidden")},N=()=>{document.body.style.background="",document.documentElement.style.background="";const D=document.getElementById("root");D&&(D.style.visibility="visible")},I=async D=>{try{const H=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,T=await Qt.set(`barcode_scans/${H}`,{id:H,barcode:D,device_id:x.id,device_name:x.name,session_id:v,processed:!1,created_at:new Date().toISOString()});if(!T.success)throw new Error(T.error);const _=k.find(L=>L.barcode===D||L.code===D||L.sku===D);return h({barcode:D,product:_?_.name:null,time:new Date().toLocaleTimeString()}),m(L=>L+1),!0}catch(H){return console.error("Error sending scan:",H),A("Gagal mengirim scan ke server"),!1}},M=async()=>{try{A(null);const{camera:D}=await c1.requestPermissions();if(D!=="granted"&&D!=="limited"){A("Izin kamera diperlukan");return}j(),n(!0),await c1.addListener("barcodeScanned",async H=>{var T;(T=H.barcode)!=null&&T.rawValue&&(navigator.vibrate&&navigator.vibrate(100),await I(H.barcode.rawValue))}),await c1.startScan({formats:[Ia.Ean13,Ia.Ean8,Ia.Code128,Ia.Code39,Ia.QrCode,Ia.UpcA,Ia.UpcE],lensFacing:"back"})}catch(D){console.error("Scan error:",D),A("Gagal memulai scanner: "+D.message),N(),n(!1)}},B=async()=>{try{await c1.stopScan(),await c1.removeAllListeners(),i&&await c1.toggleTorch()}catch(D){console.error("Stop scan error:",D)}finally{N(),n(!1),o(!1)}},F=async()=>{try{await c1.toggleTorch(),o(!i)}catch(D){console.error("Torch error:",D)}};return s?c.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent"},children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:c.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[c.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-green-500 rounded-tl-xl"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-green-500 rounded-tr-xl"}),c.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-green-500 rounded-bl-xl"}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-green-500 rounded-br-xl"}),c.jsx("div",{className:"absolute left-4 right-4 h-1 bg-green-500 rounded scanning-line"})]})}),c.jsxs("div",{className:"absolute top-4 left-0 right-0 text-center pointer-events-none safe-area-top",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/60 backdrop-blur px-4 py-2 rounded-full",children:[c.jsx(gm,{className:"text-green-400",size:18}),c.jsx("span",{className:"text-white font-medium",children:"Mode Remote Scanner"})]}),c.jsx("p",{className:"text-gray-200 text-sm mt-2",children:"Scan untuk kirim ke Kasir Web"})]}),f&&c.jsx("div",{className:"absolute top-24 left-4 right-4 pointer-events-none",children:c.jsxs("div",{className:"bg-green-500/90 backdrop-blur rounded-xl p-3 flex items-center gap-3",children:[c.jsx(Ef,{className:"text-white flex-shrink-0",size:24}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-white font-medium truncate",children:f.product||f.barcode}),c.jsxs("p",{className:"text-green-100 text-sm",children:["Terkirim ke Web  ",f.time]})]}),c.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:c.jsx("span",{className:"text-white font-bold",children:p})})]})}),c.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[c.jsx("button",{onClick:F,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40",children:i?c.jsx(B9,{size:28,className:"text-yellow-400"}):c.jsx(D9,{size:28,className:"text-white"})}),c.jsx("button",{onClick:B,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40",children:c.jsx(fn,{size:30,className:"text-white"})})]}),c.jsx("style",{children:`
          .scanning-line {
            animation: scan 2s ease-in-out infinite;
          }
          @keyframes scan {
            0%, 100% { top: 10%; }
            50% { top: 85%; }
          }
        `})]}):c.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[c.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 text-white p-6 rounded-b-3xl",children:[c.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Remote Scanner"}),c.jsx("p",{className:"text-green-100",children:"Scan barcode untuk kasir di Web"}),c.jsx("div",{className:"mt-4 flex items-center gap-2",children:l?c.jsxs(c.Fragment,{children:[c.jsx(gm,{size:20,className:"text-green-300"}),c.jsx("span",{className:"text-green-200",children:"Terhubung ke server"})]}):c.jsxs(c.Fragment,{children:[c.jsx(R9,{size:20,className:"text-red-300"}),c.jsx("span",{className:"text-red-200",children:"Tidak terhubung"})]})})]}),c.jsxs("div",{className:"p-4 space-y-4",children:[y&&c.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl",children:y}),c.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Cara Penggunaan:"}),c.jsxs("ol",{className:"space-y-2 text-sm text-gray-600",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"1"}),c.jsxs("span",{children:["Buka halaman ",c.jsx("strong",{children:"Kasir/POS"})," di komputer Web"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"2"}),c.jsxs("span",{children:["Tekan tombol ",c.jsx("strong",{children:'"Mulai Scan"'})," di bawah"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"3"}),c.jsx("span",{children:"Arahkan kamera ke barcode produk"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"4"}),c.jsx("span",{children:"Produk otomatis masuk ke keranjang di Web!"})]})]})]}),p>0&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Va,{className:"text-green-600",size:24}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-green-900",children:[p," produk di-scan"]}),f&&c.jsxs("p",{className:"text-sm text-green-700",children:["Terakhir: ",f.product||f.barcode]})]})]}),c.jsx("button",{onClick:()=>{m(0),h(null)},className:"text-green-600 text-sm underline",children:"Reset"})]})}),c.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Device:"})," ",x.name||"Loading..."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Session:"})," ",v]})]}),c.jsxs("button",{onClick:M,disabled:!l,className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 shadow-lg transition-all mt-4 ${l?"bg-green-500 text-white active:scale-95":"bg-gray-300 text-gray-500"}`,children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),l?"Mulai Scan":"Tidak Terhubung"]})]})]})}const D0=[{id:"operational",label:"Operasional",color:"bg-blue-100 text-blue-800"},{id:"salary",label:"Gaji Karyawan",color:"bg-green-100 text-green-800"},{id:"rent",label:"Sewa",color:"bg-purple-100 text-purple-800"},{id:"utilities",label:"Listrik/Air/Internet",color:"bg-yellow-100 text-yellow-800"},{id:"supplies",label:"Perlengkapan",color:"bg-orange-100 text-orange-800"},{id:"maintenance",label:"Perawatan",color:"bg-red-100 text-red-800"},{id:"transport",label:"Transportasi",color:"bg-indigo-100 text-indigo-800"},{id:"marketing",label:"Marketing",color:"bg-pink-100 text-pink-800"},{id:"other",label:"Lainnya",color:"bg-gray-100 text-gray-800"}];function IL(){var z;const[s,n]=ae.useState(!1),[i,o]=ae.useState(null),[l,u]=ae.useState(""),[f,h]=ae.useState("all"),[p,m]=ae.useState(""),[x,b]=ae.useState(""),[v,w]=ae.useState(""),{expenses:y,addExpense:A,updateExpense:k,deleteExpense:E}=hv(),{user:j}=A1(),N=(y||[]).filter(G=>{var Y,ie;const K=((Y=G.description)==null?void 0:Y.toLowerCase().includes(l.toLowerCase()))||((ie=G.note)==null?void 0:ie.toLowerCase().includes(l.toLowerCase())),oe=f==="all"||G.category===f;let V=!0;return p&&(V=V&&new Date(G.date)>=new Date(p)),x&&(V=V&&new Date(G.date)<=new Date(x)),K&&oe&&V}).sort((G,K)=>new Date(K.date)-new Date(G.date)),I=N.reduce((G,K)=>G+(K.amount||0),0),M=G=>{const K=G.replace(/\D/g,"");return K?parseInt(K).toLocaleString("id-ID"):""},B=G=>parseInt(G.replace(/\D/g,""))||0,F=G=>{const K=M(G.target.value);w(K)},D=async G=>{G.preventDefault();const K=new FormData(G.target),oe={description:K.get("description"),amount:B(v),category:K.get("category"),date:K.get("date"),note:K.get("note"),createdBy:(j==null?void 0:j.name)||"Unknown"};i?await k(i.id,oe):await A(oe),n(!1),o(null),w("")},H=G=>{o(G),w(G.amount?G.amount.toLocaleString("id-ID"):""),n(!0)},T=async G=>{confirm("Hapus pengeluaran ini?")&&await E(G)},_=G=>D0.find(K=>K.id===G)||D0[D0.length-1],L=()=>{const G=["Tanggal","Deskripsi","Kategori","Jumlah","Catatan","Dibuat Oleh"],K=N.map(de=>[new Date(de.date).toLocaleDateString("id-ID"),de.description,_(de.category).label,de.amount,de.note||"",de.createdBy||""]),oe=[G,...K].map(de=>de.join(",")).join(`
`),V=new Blob([oe],{type:"text/csv"}),Y=URL.createObjectURL(V),ie=document.createElement("a");ie.href=Y,ie.download=`pengeluaran-${new Date().toISOString().split("T")[0]}.csv`,ie.click()};return c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pengeluaran"}),c.jsx("p",{className:"text-gray-600",children:"Kelola pengeluaran toko"})]}),c.jsxs("button",{onClick:()=>{o(null),w(""),n(!0)},className:"btn btn-primary",children:[c.jsx(ta,{size:20}),"Tambah Pengeluaran"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{className:"card bg-gradient-to-r from-red-500 to-red-600 text-white",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsx(Si,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Total Pengeluaran"}),c.jsxs("p",{className:"text-2xl font-bold",children:["Rp ",I.toLocaleString("id-ID")]})]})]})}),c.jsx("div",{className:"card bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsx(K_,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Jumlah Transaksi"}),c.jsx("p",{className:"text-2xl font-bold",children:N.length})]})]})}),c.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-green-600 text-white",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsx(S9,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Rata-rata/Transaksi"}),c.jsxs("p",{className:"text-2xl font-bold",children:["Rp ",N.length>0?Math.round(I/N.length).toLocaleString("id-ID"):0]})]})]})})]}),c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Cari pengeluaran...",value:l,onChange:G=>u(G.target.value),className:"input pl-10"})]}),c.jsxs("select",{value:f,onChange:G=>h(G.target.value),className:"input w-full md:w-48",children:[c.jsx("option",{value:"all",children:"Semua Kategori"}),D0.map(G=>c.jsx("option",{value:G.id,children:G.label},G.id))]}),c.jsx("input",{type:"date",value:p,onChange:G=>m(G.target.value),className:"input w-full md:w-40",placeholder:"Dari tanggal"}),c.jsx("input",{type:"date",value:x,onChange:G=>b(G.target.value),className:"input w-full md:w-40",placeholder:"Sampai tanggal"}),c.jsxs("button",{onClick:L,className:"btn btn-outline",children:[c.jsx(Oc,{size:20}),"Export"]})]})}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Deskripsi"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Jumlah"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catatan"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:N.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[c.jsx(Si,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Belum ada data pengeluaran"})]})}):N.map(G=>{const K=_(G.category);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(G.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"font-medium",children:G.description})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${K.color}`,children:K.label})}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-red-600",children:["Rp ",(G.amount||0).toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:G.note||"-"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:()=>H(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(xv,{size:16})}),c.jsx("button",{onClick:()=>T(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:c.jsx(Ta,{size:16})})]})})]},G.id)})})]})})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:i?"Edit Pengeluaran":"Tambah Pengeluaran"}),c.jsx("button",{onClick:()=>{n(!1),o(null)},className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deskripsi *"}),c.jsx("input",{type:"text",name:"description",defaultValue:i==null?void 0:i.description,required:!0,className:"input",placeholder:"Contoh: Bayar listrik bulan Desember"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Jumlah *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:v,onChange:F,required:!0,className:"input pl-10 text-right",placeholder:"0"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kategori *"}),c.jsx("select",{name:"category",defaultValue:(i==null?void 0:i.category)||"operational",required:!0,className:"input",children:D0.map(G=>c.jsx("option",{value:G.id,children:G.label},G.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tanggal *"}),c.jsx("input",{type:"date",name:"date",defaultValue:((z=i==null?void 0:i.date)==null?void 0:z.split("T")[0])||new Date().toISOString().split("T")[0],required:!0,className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),c.jsx("textarea",{name:"note",defaultValue:i==null?void 0:i.note,className:"input",rows:"3",placeholder:"Catatan tambahan (opsional)"})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:i?"Simpan Perubahan":"Tambah Pengeluaran"}),c.jsx("button",{type:"button",onClick:()=>{n(!1),o(null)},className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})]})}function BL(){var Ce;const[s,n]=ae.useState(!1),[i,o]=ae.useState(!1),[l,u]=ae.useState(null),[f,h]=ae.useState(null),[p,m]=ae.useState(""),[x,b]=ae.useState("all"),[v,w]=ae.useState("all"),[y,A]=ae.useState("receivable"),[k,E]=ae.useState(""),[j,N]=ae.useState(""),{debts:I,addDebt:M,updateDebt:B,deleteDebt:F,addPayment:D,getTotalPayables:H,getTotalReceivables:T}=pv(),{customers:_}=F1(),{user:L}=A1(),z=(I||[]).filter(ve=>{var Re,Ge;const Be=((Re=ve.personName)==null?void 0:Re.toLowerCase().includes(p.toLowerCase()))||((Ge=ve.description)==null?void 0:Ge.toLowerCase().includes(p.toLowerCase())),Ue=y==="all"||ve.type===y,Xe=v==="all"||ve.status===v;return Be&&Ue&&Xe}).sort((ve,Be)=>new Date(Be.createdAt)-new Date(ve.createdAt)),G=H(),K=T(),oe=ve=>{const Be=String(ve).replace(/\D/g,"");return Be?parseInt(Be).toLocaleString("id-ID"):""},V=ve=>parseInt(String(ve).replace(/\D/g,""))||0,Y=ve=>{E(oe(ve.target.value))},ie=ve=>{N(oe(ve.target.value))},de=async ve=>{ve.preventDefault();const Be=new FormData(ve.target),Ue={type:Be.get("type"),personName:Be.get("personName"),personPhone:Be.get("personPhone"),description:Be.get("description"),amount:V(k),dueDate:Be.get("dueDate"),note:Be.get("note"),createdBy:(L==null?void 0:L.name)||"Unknown"};l?await B(l.id,Ue):await M(Ue),n(!1),u(null),E("")},re=async ve=>{ve.preventDefault();const Be=new FormData(ve.target),Ue={amount:V(j),date:Be.get("date"),note:Be.get("note")};await D(f.id,Ue),o(!1),h(null),N("")},ne=ve=>{u(ve),E(ve.amount?ve.amount.toLocaleString("id-ID"):""),n(!0)},le=async ve=>{confirm("Hapus data hutang/piutang ini?")&&await F(ve)},ue=ve=>{h(ve),o(!0)},Me=ve=>{switch(ve){case"paid":return c.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 flex items-center gap-1",children:[c.jsx(Ef,{size:12})," Lunas"]});case"partial":return c.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 flex items-center gap-1",children:[c.jsx(P_,{size:12})," Sebagian"]});default:return c.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 flex items-center gap-1",children:[c.jsx(M_,{size:12})," Belum Bayar"]})}},pe=ve=>ve?new Date(ve)<new Date:!1,Fe=()=>{const ve=["Tipe","Nama","Telepon","Deskripsi","Jumlah","Dibayar","Sisa","Jatuh Tempo","Status"],Be=z.map(Oe=>[Oe.type==="receivable"?"Piutang":"Hutang",Oe.personName,Oe.personPhone||"",Oe.description,Oe.amount,Oe.paidAmount||0,(Oe.amount||0)-(Oe.paidAmount||0),Oe.dueDate?new Date(Oe.dueDate).toLocaleDateString("id-ID"):"",Oe.status==="paid"?"Lunas":Oe.status==="partial"?"Sebagian":"Belum Bayar"]),Ue=[ve,...Be].map(Oe=>Oe.join(",")).join(`
`),Xe=new Blob([Ue],{type:"text/csv"}),Re=URL.createObjectURL(Xe),Ge=document.createElement("a");Ge.href=Re,Ge.download=`hutang-piutang-${new Date().toISOString().split("T")[0]}.csv`,Ge.click()};return c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hutang & Piutang"}),c.jsx("p",{className:"text-gray-600",children:"Kelola hutang ke supplier dan piutang dari pelanggan"})]}),c.jsxs("button",{onClick:()=>{u(null),E(""),n(!0)},className:"btn btn-primary",children:[c.jsx(ta,{size:20}),"Tambah Baru"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-green-600 text-white",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsx(D8,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Total Piutang (Akan Diterima)"}),c.jsxs("p",{className:"text-2xl font-bold",children:["Rp ",K.toLocaleString("id-ID")]})]})]})}),c.jsx("div",{className:"card bg-gradient-to-r from-red-500 to-red-600 text-white",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsx(F8,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Total Hutang (Harus Dibayar)"}),c.jsxs("p",{className:"text-2xl font-bold",children:["Rp ",G.toLocaleString("id-ID")]})]})]})}),c.jsx("div",{className:"card bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsx(Si,{size:24})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-90",children:"Selisih (Piutang - Hutang)"}),c.jsxs("p",{className:`text-2xl font-bold ${K-G>=0?"":"text-yellow-200"}`,children:["Rp ",(K-G).toLocaleString("id-ID")]})]})]})})]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsxs("button",{onClick:()=>A("receivable"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="receivable"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(D8,{size:18,className:"inline mr-2"}),"Piutang (Akan Diterima)"]}),c.jsxs("button",{onClick:()=>A("payable"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="payable"?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(F8,{size:18,className:"inline mr-2"}),"Hutang (Harus Dibayar)"]})]}),c.jsx("div",{className:"card mb-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Cari nama atau deskripsi...",value:p,onChange:ve=>m(ve.target.value),className:"input pl-10"})]}),c.jsxs("select",{value:v,onChange:ve=>w(ve.target.value),className:"input w-full md:w-48",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"unpaid",children:"Belum Bayar"}),c.jsx("option",{value:"partial",children:"Sebagian"}),c.jsx("option",{value:"paid",children:"Lunas"})]}),c.jsxs("button",{onClick:Fe,className:"btn btn-outline",children:[c.jsx(Oc,{size:20}),"Export"]})]})}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Deskripsi"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Jumlah"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Dibayar"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sisa"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jatuh Tempo"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),c.jsx("tbody",{className:"divide-y",children:z.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:[c.jsx(mv,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsxs("p",{children:["Belum ada data ",y==="receivable"?"piutang":"hutang"]})]})}):z.map(ve=>{const Be=(ve.amount||0)-(ve.paidAmount||0),Ue=pe(ve.dueDate)&&ve.status!=="paid";return c.jsxs("tr",{className:`hover:bg-gray-50 ${Ue?"bg-red-50":""}`,children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:ve.personName}),ve.personPhone&&c.jsx("p",{className:"text-sm text-gray-500",children:ve.personPhone})]})}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:ve.description}),c.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:["Rp ",(ve.amount||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:"px-6 py-4 text-right text-green-600",children:["Rp ",(ve.paidAmount||0).toLocaleString("id-ID")]}),c.jsxs("td",{className:`px-6 py-4 text-right font-semibold ${Be>0?"text-red-600":"text-green-600"}`,children:["Rp ",Be.toLocaleString("id-ID")]}),c.jsx("td",{className:"px-6 py-4",children:ve.dueDate?c.jsxs("span",{className:Ue?"text-red-600 font-medium":"",children:[new Date(ve.dueDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),Ue&&c.jsx("span",{className:"block text-xs",children:"Jatuh tempo!"})]}):"-"}),c.jsx("td",{className:"px-6 py-4",children:Me(ve.status)}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ve.status!=="paid"&&c.jsx("button",{onClick:()=>ue(ve),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Tambah Pembayaran",children:c.jsx(Si,{size:16})}),c.jsx("button",{onClick:()=>ne(ve),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(xv,{size:16})}),c.jsx("button",{onClick:()=>le(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:c.jsx(Ta,{size:16})})]})})]},ve.id)})})]})})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:l?"Edit Data":"Tambah Hutang/Piutang"}),c.jsx("button",{onClick:()=>{n(!1),u(null)},className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("form",{onSubmit:de,className:"p-4 space-y-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipe *"}),c.jsxs("select",{name:"type",defaultValue:(l==null?void 0:l.type)||y,required:!0,className:"input",children:[c.jsx("option",{value:"receivable",children:"Piutang (Akan Diterima dari Customer)"}),c.jsx("option",{value:"payable",children:"Hutang (Harus Dibayar ke Supplier)"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Nama ",y==="receivable"?"Customer":"Supplier"," *"]}),c.jsx("input",{type:"text",name:"personName",defaultValue:l==null?void 0:l.personName,required:!0,className:"input",placeholder:"Nama orang/perusahaan",list:"customer-list"}),c.jsx("datalist",{id:"customer-list",children:_.map(ve=>c.jsx("option",{value:ve.name},ve.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"No. Telepon"}),c.jsx("input",{type:"text",name:"personPhone",defaultValue:l==null?void 0:l.personPhone,className:"input",placeholder:"08xxxxxxxxxx"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deskripsi *"}),c.jsx("input",{type:"text",name:"description",defaultValue:l==null?void 0:l.description,required:!0,className:"input",placeholder:"Contoh: Pembelian barang tanggal 15 Des"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Jumlah *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:k,onChange:Y,required:!0,className:"input pl-10 text-right",placeholder:"0"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Jatuh Tempo"}),c.jsx("input",{type:"date",name:"dueDate",defaultValue:(Ce=l==null?void 0:l.dueDate)==null?void 0:Ce.split("T")[0],className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),c.jsx("textarea",{name:"note",defaultValue:l==null?void 0:l.note,className:"input",rows:"2",placeholder:"Catatan tambahan (opsional)"})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:l?"Simpan Perubahan":"Tambah"}),c.jsx("button",{type:"button",onClick:()=>{n(!1),u(null)},className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})}),i&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Tambah Pembayaran"}),c.jsx("button",{onClick:()=>{o(!1),h(null)},className:"text-gray-400 hover:text-gray-600",children:c.jsx(fn,{size:24})})]}),c.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[c.jsx("p",{className:"font-medium",children:f.personName}),c.jsx("p",{className:"text-sm text-gray-600",children:f.description}),c.jsxs("div",{className:"mt-2 flex justify-between text-sm",children:[c.jsxs("span",{children:["Total: ",c.jsxs("strong",{children:["Rp ",(f.amount||0).toLocaleString("id-ID")]})]}),c.jsxs("span",{children:["Sisa: ",c.jsxs("strong",{className:"text-red-600",children:["Rp ",((f.amount||0)-(f.paidAmount||0)).toLocaleString("id-ID")]})]})]})]}),c.jsxs("form",{onSubmit:re,className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Jumlah Bayar *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),c.jsx("input",{type:"text",value:j,onChange:ie,required:!0,className:"input pl-10 text-right",placeholder:"0"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tanggal Bayar *"}),c.jsx("input",{type:"date",name:"date",defaultValue:new Date().toISOString().split("T")[0],required:!0,className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),c.jsx("input",{type:"text",name:"note",className:"input",placeholder:"Contoh: Transfer BCA"})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 btn btn-success",children:"Simpan Pembayaran"}),c.jsx("button",{type:"button",onClick:()=>{o(!1),h(null)},className:"flex-1 btn btn-secondary",children:"Batal"})]})]}),f.payments&&f.payments.length>0&&c.jsxs("div",{className:"p-4 border-t",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Riwayat Pembayaran"}),c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:f.payments.map((ve,Be)=>c.jsxs("div",{className:"flex justify-between text-sm bg-gray-50 p-2 rounded",children:[c.jsx("span",{children:new Date(ve.date).toLocaleDateString("id-ID")}),c.jsxs("span",{className:"text-green-600 font-medium",children:["Rp ",(ve.amount||0).toLocaleString("id-ID")]})]},ve.id||Be))})]})]})})]})}function DL(){const{isAuthenticated:s,user:n,resetToDefaultAdmin:i}=A1();return ae.useEffect(()=>{n&&n.role==="cashier"&&n.name==="Administrator"&&(console.log(" Fixing corrupted admin user..."),i(),window.location.reload())},[n,i]),c.jsx($I,{children:c.jsx(C_,{children:c.jsxs($b,{children:[c.jsx(Ha,{path:"/login",element:s?c.jsx(Vb,{to:"/"}):c.jsx(oP,{})}),c.jsx(Ha,{path:"/*",element:s?c.jsx(iP,{children:c.jsxs($b,{children:[c.jsx(Ha,{path:"/",element:c.jsx(lP,{})}),!Nt&&c.jsx(Ha,{path:"/pos",element:c.jsx(uP,{})}),Nt&&c.jsx(Ha,{path:"/scanner",element:c.jsx(EL,{})}),c.jsx(Ha,{path:"/products",element:c.jsx(Qz,{})}),c.jsx(Ha,{path:"/stock",element:c.jsx($z,{})}),c.jsx(Ha,{path:"/purchases",element:c.jsx(rL,{})}),c.jsx(Ha,{path:"/sales",element:c.jsx(aL,{})}),c.jsx(Ha,{path:"/returns",element:c.jsx(lL,{})}),c.jsx(Ha,{path:"/customers",element:c.jsx(uL,{})}),c.jsx(Ha,{path:"/reports",element:c.jsx(mL,{})}),c.jsx(Ha,{path:"/expenses",element:c.jsx(IL,{})}),c.jsx(Ha,{path:"/debts",element:c.jsx(BL,{})}),c.jsx(Ha,{path:"/settings",element:c.jsx(SL,{})})]})}):c.jsx(Vb,{to:"/login"})})]})})})}const m5=Sl("App",{web:()=>zc(()=>import("./web-BIUT_grc.js"),[]).then(s=>new s.AppWeb)});var Nm;(function(s){s.Dark="DARK",s.Light="LIGHT",s.Default="DEFAULT"})(Nm||(Nm={}));var x5;(function(s){s.None="NONE",s.Slide="SLIDE",s.Fade="FADE"})(x5||(x5={}));const v5=Sl("StatusBar"),ML=Sl("SplashScreen",{web:()=>zc(()=>import("./web-CDjqdJ-A.js"),[]).then(s=>new s.SplashScreenWeb)}),FL=async()=>{try{await ML.hide(),await v5.setStyle({style:Nm.Dark}),await v5.setBackgroundColor({color:"#1f2937"})}catch{console.log("Running in web mode")}};m5.addListener("backButton",({canGoBack:s})=>{s?window.history.back():m5.exitApp()});FL();Xp.createRoot(document.getElementById("root")).render(c.jsx(Dm.StrictMode,{children:c.jsx(DL,{})}));export{H8 as B,Vp as C,kc as E,q8 as L,C9 as W,Cm as a,Dr as c,kC as g};
