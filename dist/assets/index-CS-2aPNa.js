function l6(a,n){for(var i=0;i<n.length;i++){const o=n[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in a)){const u=Object.getOwnPropertyDescriptor(o,d);u&&Object.defineProperty(a,d,u.get?u:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(d){if(d.ep)return;d.ep=!0;const u=i(d);fetch(d.href,u)}})();var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function fc(a){if(a.__esModule)return a;var n=a.default;if(typeof n=="function"){var i=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var d=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(i,o,d.get?d:{enumerable:!0,get:function(){return a[o]}})}),i}var c6={exports:{}},du={},d6={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=Symbol.for("react.element"),hj=Symbol.for("react.portal"),pj=Symbol.for("react.fragment"),mj=Symbol.for("react.strict_mode"),xj=Symbol.for("react.profiler"),vj=Symbol.for("react.provider"),gj=Symbol.for("react.context"),bj=Symbol.for("react.forward_ref"),yj=Symbol.for("react.suspense"),wj=Symbol.for("react.memo"),Aj=Symbol.for("react.lazy"),r4=Symbol.iterator;function kj(a){return a===null||typeof a!="object"?null:(a=r4&&a[r4]||a["@@iterator"],typeof a=="function"?a:null)}var u6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f6=Object.assign,h6={};function hc(a,n,i){this.props=a,this.context=n,this.refs=h6,this.updater=i||u6}hc.prototype.isReactComponent={};hc.prototype.setState=function(a,n){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,n,"setState")};hc.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function p6(){}p6.prototype=hc.prototype;function S3(a,n,i){this.props=a,this.context=n,this.refs=h6,this.updater=i||u6}var E3=S3.prototype=new p6;E3.constructor=S3;f6(E3,hc.prototype);E3.isPureReactComponent=!0;var a4=Array.isArray,m6=Object.prototype.hasOwnProperty,C3={current:null},x6={key:!0,ref:!0,__self:!0,__source:!0};function v6(a,n,i){var o,d={},u=null,f=null;if(n!=null)for(o in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(u=""+n.key),n)m6.call(n,o)&&!x6.hasOwnProperty(o)&&(d[o]=n[o]);var h=arguments.length-2;if(h===1)d.children=i;else if(1<h){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];d.children=p}if(a&&a.defaultProps)for(o in h=a.defaultProps,h)d[o]===void 0&&(d[o]=h[o]);return{$$typeof:J0,type:a,key:u,ref:f,props:d,_owner:C3.current}}function jj(a,n){return{$$typeof:J0,type:a.type,key:n,ref:a.ref,props:a.props,_owner:a._owner}}function I3(a){return typeof a=="object"&&a!==null&&a.$$typeof===J0}function Nj(a){var n={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(i){return n[i]})}var s4=/\/+/g;function Df(a,n){return typeof a=="object"&&a!==null&&a.key!=null?Nj(""+a.key):n.toString(36)}function ed(a,n,i,o,d){var u=typeof a;(u==="undefined"||u==="boolean")&&(a=null);var f=!1;if(a===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(a.$$typeof){case J0:case hj:f=!0}}if(f)return f=a,d=d(f),a=o===""?"."+Df(f,0):o,a4(d)?(i="",a!=null&&(i=a.replace(s4,"$&/")+"/"),ed(d,n,i,"",function(m){return m})):d!=null&&(I3(d)&&(d=jj(d,i+(!d.key||f&&f.key===d.key?"":(""+d.key).replace(s4,"$&/")+"/")+a)),n.push(d)),1;if(f=0,o=o===""?".":o+":",a4(a))for(var h=0;h<a.length;h++){u=a[h];var p=o+Df(u,h);f+=ed(u,n,i,p,d)}else if(p=kj(a),typeof p=="function")for(a=p.call(a),h=0;!(u=a.next()).done;)u=u.value,p=o+Df(u,h++),f+=ed(u,n,i,p,d);else if(u==="object")throw n=String(a),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function N2(a,n,i){if(a==null)return a;var o=[],d=0;return ed(a,o,"","",function(u){return n.call(i,u,d++)}),o}function Sj(a){if(a._status===-1){var n=a._result;n=n(),n.then(function(i){(a._status===0||a._status===-1)&&(a._status=1,a._result=i)},function(i){(a._status===0||a._status===-1)&&(a._status=2,a._result=i)}),a._status===-1&&(a._status=0,a._result=n)}if(a._status===1)return a._result.default;throw a._result}var Wn={current:null},td={transition:null},Ej={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:td,ReactCurrentOwner:C3};function g6(){throw Error("act(...) is not supported in production builds of React.")}zr.Children={map:N2,forEach:function(a,n,i){N2(a,function(){n.apply(this,arguments)},i)},count:function(a){var n=0;return N2(a,function(){n++}),n},toArray:function(a){return N2(a,function(n){return n})||[]},only:function(a){if(!I3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};zr.Component=hc;zr.Fragment=pj;zr.Profiler=xj;zr.PureComponent=S3;zr.StrictMode=mj;zr.Suspense=yj;zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ej;zr.act=g6;zr.cloneElement=function(a,n,i){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var o=f6({},a.props),d=a.key,u=a.ref,f=a._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,f=C3.current),n.key!==void 0&&(d=""+n.key),a.type&&a.type.defaultProps)var h=a.type.defaultProps;for(p in n)m6.call(n,p)&&!x6.hasOwnProperty(p)&&(o[p]=n[p]===void 0&&h!==void 0?h[p]:n[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){h=Array(p);for(var m=0;m<p;m++)h[m]=arguments[m+2];o.children=h}return{$$typeof:J0,type:a.type,key:d,ref:u,props:o,_owner:f}};zr.createContext=function(a){return a={$$typeof:gj,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:vj,_context:a},a.Consumer=a};zr.createElement=v6;zr.createFactory=function(a){var n=v6.bind(null,a);return n.type=a,n};zr.createRef=function(){return{current:null}};zr.forwardRef=function(a){return{$$typeof:bj,render:a}};zr.isValidElement=I3;zr.lazy=function(a){return{$$typeof:Aj,_payload:{_status:-1,_result:a},_init:Sj}};zr.memo=function(a,n){return{$$typeof:wj,type:a,compare:n===void 0?null:n}};zr.startTransition=function(a){var n=td.transition;td.transition={};try{a()}finally{td.transition=n}};zr.unstable_act=g6;zr.useCallback=function(a,n){return Wn.current.useCallback(a,n)};zr.useContext=function(a){return Wn.current.useContext(a)};zr.useDebugValue=function(){};zr.useDeferredValue=function(a){return Wn.current.useDeferredValue(a)};zr.useEffect=function(a,n){return Wn.current.useEffect(a,n)};zr.useId=function(){return Wn.current.useId()};zr.useImperativeHandle=function(a,n,i){return Wn.current.useImperativeHandle(a,n,i)};zr.useInsertionEffect=function(a,n){return Wn.current.useInsertionEffect(a,n)};zr.useLayoutEffect=function(a,n){return Wn.current.useLayoutEffect(a,n)};zr.useMemo=function(a,n){return Wn.current.useMemo(a,n)};zr.useReducer=function(a,n,i){return Wn.current.useReducer(a,n,i)};zr.useRef=function(a){return Wn.current.useRef(a)};zr.useState=function(a){return Wn.current.useState(a)};zr.useSyncExternalStore=function(a,n,i){return Wn.current.useSyncExternalStore(a,n,i)};zr.useTransition=function(){return Wn.current.useTransition()};zr.version="18.3.1";d6.exports=zr;var ie=d6.exports;const uu=cu(ie),Cj=l6({__proto__:null,default:uu},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ij=ie,Bj=Symbol.for("react.element"),Dj=Symbol.for("react.fragment"),Tj=Object.prototype.hasOwnProperty,Rj=Ij.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mj={key:!0,ref:!0,__self:!0,__source:!0};function b6(a,n,i){var o,d={},u=null,f=null;i!==void 0&&(u=""+i),n.key!==void 0&&(u=""+n.key),n.ref!==void 0&&(f=n.ref);for(o in n)Tj.call(n,o)&&!Mj.hasOwnProperty(o)&&(d[o]=n[o]);if(a&&a.defaultProps)for(o in n=a.defaultProps,n)d[o]===void 0&&(d[o]=n[o]);return{$$typeof:Bj,type:a,key:u,ref:f,props:d,_owner:Rj.current}}du.Fragment=Dj;du.jsx=b6;du.jsxs=b6;c6.exports=du;var l=c6.exports,tp={},y6={exports:{}},Ai={},w6={exports:{}},A6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function n(L,ce){var fe=L.length;L.push(ce);e:for(;0<fe;){var U=fe-1>>>1,ee=L[U];if(0<d(ee,ce))L[U]=ce,L[fe]=ee,fe=U;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var ce=L[0],fe=L.pop();if(fe!==ce){L[0]=fe;e:for(var U=0,ee=L.length,se=ee>>>1;U<se;){var de=2*(U+1)-1,ke=L[de],ae=de+1,De=L[ae];if(0>d(ke,fe))ae<ee&&0>d(De,ke)?(L[U]=De,L[ae]=fe,U=ae):(L[U]=ke,L[de]=fe,U=de);else if(ae<ee&&0>d(De,fe))L[U]=De,L[ae]=fe,U=ae;else break e}}return ce}function d(L,ce){var fe=L.sortIndex-ce.sortIndex;return fe!==0?fe:L.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],m=[],x=1,b=null,y=3,w=!1,v=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(L){for(var ce=i(m);ce!==null;){if(ce.callback===null)o(m);else if(ce.startTime<=L)o(m),ce.sortIndex=ce.expirationTime,n(p,ce);else break;ce=i(m)}}function B(L){if(A=!1,N(L),!v)if(i(p)!==null)v=!0,he(I);else{var ce=i(m);ce!==null&&G(B,ce.startTime-L)}}function I(L,ce){v=!1,A&&(A=!1,E(R),R=-1),w=!0;var fe=y;try{for(N(ce),b=i(p);b!==null&&(!(b.expirationTime>ce)||L&&!_());){var U=b.callback;if(typeof U=="function"){b.callback=null,y=b.priorityLevel;var ee=U(b.expirationTime<=ce);ce=a.unstable_now(),typeof ee=="function"?b.callback=ee:b===i(p)&&o(p),N(ce)}else o(p);b=i(p)}if(b!==null)var se=!0;else{var de=i(m);de!==null&&G(B,de.startTime-ce),se=!1}return se}finally{b=null,y=fe,w=!1}}var D=!1,T=null,R=-1,$=5,F=-1;function _(){return!(a.unstable_now()-F<$)}function Q(){if(T!==null){var L=a.unstable_now();F=L;var ce=!0;try{ce=T(!0,L)}finally{ce?H():(D=!1,T=null)}}else D=!1}var H;if(typeof j=="function")H=function(){j(Q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=Q,H=function(){K.postMessage(null)}}else H=function(){k(Q,0)};function he(L){T=L,D||(D=!0,H())}function G(L,ce){R=k(function(){L(a.unstable_now())},ce)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_continueExecution=function(){v||w||(v=!0,he(I))},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(L){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var fe=y;y=ce;try{return L()}finally{y=fe}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(L,ce){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var fe=y;y=L;try{return ce()}finally{y=fe}},a.unstable_scheduleCallback=function(L,ce,fe){var U=a.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?U+fe:U):fe=U,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=fe+ee,L={id:x++,callback:ce,priorityLevel:L,startTime:fe,expirationTime:ee,sortIndex:-1},fe>U?(L.sortIndex=fe,n(m,L),i(p)===null&&L===i(m)&&(A?(E(R),R=-1):A=!0,G(B,fe-U))):(L.sortIndex=ee,n(p,L),v||w||(v=!0,he(I))),L},a.unstable_shouldYield=_,a.unstable_wrapCallback=function(L){var ce=y;return function(){var fe=y;y=ce;try{return L.apply(this,arguments)}finally{y=fe}}}})(A6);w6.exports=A6;var Fj=w6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j=ie,wi=Fj;function ot(a){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+a,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k6=new Set,N0={};function ll(a,n){Xl(a,n),Xl(a+"Capture",n)}function Xl(a,n){for(N0[a]=n,a=0;a<n.length;a++)k6.add(n[a])}var R1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,Pj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n4={},i4={};function Oj(a){return rp.call(i4,a)?!0:rp.call(n4,a)?!1:Pj.test(a)?i4[a]=!0:(n4[a]=!0,!1)}function Uj(a,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function zj(a,n,i,o){if(n===null||typeof n>"u"||Uj(a,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Jn(a,n,i,o,d,u,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=a,this.type=n,this.sanitizeURL=u,this.removeEmptyString=f}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Cn[a]=new Jn(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var n=a[0];Cn[n]=new Jn(n,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){Cn[a]=new Jn(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Cn[a]=new Jn(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Cn[a]=new Jn(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){Cn[a]=new Jn(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){Cn[a]=new Jn(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){Cn[a]=new Jn(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){Cn[a]=new Jn(a,5,!1,a.toLowerCase(),null,!1,!1)});var B3=/[\-:]([a-z])/g;function D3(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var n=a.replace(B3,D3);Cn[n]=new Jn(n,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var n=a.replace(B3,D3);Cn[n]=new Jn(n,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var n=a.replace(B3,D3);Cn[n]=new Jn(n,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){Cn[a]=new Jn(a,1,!1,a.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){Cn[a]=new Jn(a,1,!1,a.toLowerCase(),null,!0,!0)});function T3(a,n,i,o){var d=Cn.hasOwnProperty(n)?Cn[n]:null;(d!==null?d.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(zj(n,i,d,o)&&(i=null),o||d===null?Oj(n)&&(i===null?a.removeAttribute(n):a.setAttribute(n,""+i)):d.mustUseProperty?a[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,o=d.attributeNamespace,i===null?a.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?a.setAttributeNS(o,n,i):a.setAttribute(n,i))))}var O1=_j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S2=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),R3=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),j6=Symbol.for("react.provider"),N6=Symbol.for("react.context"),M3=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),F3=Symbol.for("react.memo"),Y1=Symbol.for("react.lazy"),S6=Symbol.for("react.offscreen"),o4=Symbol.iterator;function Xc(a){return a===null||typeof a!="object"?null:(a=o4&&a[o4]||a["@@iterator"],typeof a=="function"?a:null)}var Ns=Object.assign,Tf;function l0(a){if(Tf===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Tf=n&&n[1]||""}return`
`+Tf+a}var Rf=!1;function Mf(a,n){if(!a||Rf)return"";Rf=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var o=m}Reflect.construct(a,[],n)}else{try{n.call()}catch(m){o=m}a.call(n.prototype)}else{try{throw Error()}catch(m){o=m}a()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var d=m.stack.split(`
`),u=o.stack.split(`
`),f=d.length-1,h=u.length-1;1<=f&&0<=h&&d[f]!==u[h];)h--;for(;1<=f&&0<=h;f--,h--)if(d[f]!==u[h]){if(f!==1||h!==1)do if(f--,h--,0>h||d[f]!==u[h]){var p=`
`+d[f].replace(" at new "," at ");return a.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",a.displayName)),p}while(1<=f&&0<=h);break}}}finally{Rf=!1,Error.prepareStackTrace=i}return(a=a?a.displayName||a.name:"")?l0(a):""}function Lj(a){switch(a.tag){case 5:return l0(a.type);case 16:return l0("Lazy");case 13:return l0("Suspense");case 19:return l0("SuspenseList");case 0:case 2:case 15:return a=Mf(a.type,!1),a;case 11:return a=Mf(a.type.render,!1),a;case 1:return a=Mf(a.type,!0),a;default:return""}}function ip(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Bl:return"Fragment";case Il:return"Portal";case ap:return"Profiler";case R3:return"StrictMode";case sp:return"Suspense";case np:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case N6:return(a.displayName||"Context")+".Consumer";case j6:return(a._context.displayName||"Context")+".Provider";case M3:var n=a.render;return a=a.displayName,a||(a=n.displayName||n.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F3:return n=a.displayName||null,n!==null?n:ip(a.type)||"Memo";case Y1:n=a._payload,a=a._init;try{return ip(a(n))}catch{}}return null}function Qj(a){var n=a.type;switch(a.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=n.render,a=a.displayName||a.name||"",n.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ip(n);case 8:return n===R3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function po(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function E6(a){var n=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hj(a){var n=E6(a)?"checked":"value",i=Object.getOwnPropertyDescriptor(a.constructor.prototype,n),o=""+a[n];if(!a.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,u=i.set;return Object.defineProperty(a,n,{configurable:!0,get:function(){return d.call(this)},set:function(f){o=""+f,u.call(this,f)}}),Object.defineProperty(a,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){a._valueTracker=null,delete a[n]}}}}function E2(a){a._valueTracker||(a._valueTracker=Hj(a))}function C6(a){if(!a)return!1;var n=a._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return a&&(o=E6(a)?a.checked?"true":"false":a.value),a=o,a!==i?(n.setValue(a),!0):!1}function yd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function op(a,n){var i=n.checked;return Ns({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??a._wrapperState.initialChecked})}function l4(a,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=po(n.value!=null?n.value:i),a._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function I6(a,n){n=n.checked,n!=null&&T3(a,"checked",n,!1)}function lp(a,n){I6(a,n);var i=po(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+i):a.value!==""+i&&(a.value=""+i);else if(o==="submit"||o==="reset"){a.removeAttribute("value");return}n.hasOwnProperty("value")?cp(a,n.type,i):n.hasOwnProperty("defaultValue")&&cp(a,n.type,po(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(a.defaultChecked=!!n.defaultChecked)}function c4(a,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+a._wrapperState.initialValue,i||n===a.value||(a.value=n),a.defaultValue=n}i=a.name,i!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,i!==""&&(a.name=i)}function cp(a,n,i){(n!=="number"||yd(a.ownerDocument)!==a)&&(i==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+i&&(a.defaultValue=""+i))}var c0=Array.isArray;function Ql(a,n,i,o){if(a=a.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<a.length;i++)d=n.hasOwnProperty("$"+a[i].value),a[i].selected!==d&&(a[i].selected=d),d&&o&&(a[i].defaultSelected=!0)}else{for(i=""+po(i),n=null,d=0;d<a.length;d++){if(a[d].value===i){a[d].selected=!0,o&&(a[d].defaultSelected=!0);return}n!==null||a[d].disabled||(n=a[d])}n!==null&&(n.selected=!0)}}function dp(a,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Ns({},n,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function d4(a,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ot(92));if(c0(i)){if(1<i.length)throw Error(ot(93));i=i[0]}n=i}n==null&&(n=""),i=n}a._wrapperState={initialValue:po(i)}}function B6(a,n){var i=po(n.value),o=po(n.defaultValue);i!=null&&(i=""+i,i!==a.value&&(a.value=i),n.defaultValue==null&&a.defaultValue!==i&&(a.defaultValue=i)),o!=null&&(a.defaultValue=""+o)}function u4(a){var n=a.textContent;n===a._wrapperState.initialValue&&n!==""&&n!==null&&(a.value=n)}function D6(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(a,n){return a==null||a==="http://www.w3.org/1999/xhtml"?D6(n):a==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var C2,T6=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,d){MSApp.execUnsafeLocalFunction(function(){return a(n,i,o,d)})}:a}(function(a,n){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=n;else{for(C2=C2||document.createElement("div"),C2.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=C2.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;n.firstChild;)a.appendChild(n.firstChild)}});function S0(a,n){if(n){var i=a.firstChild;if(i&&i===a.lastChild&&i.nodeType===3){i.nodeValue=n;return}}a.textContent=n}var x0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$j=["Webkit","ms","Moz","O"];Object.keys(x0).forEach(function(a){$j.forEach(function(n){n=n+a.charAt(0).toUpperCase()+a.substring(1),x0[n]=x0[a]})});function R6(a,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||x0.hasOwnProperty(a)&&x0[a]?(""+n).trim():n+"px"}function M6(a,n){a=a.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=R6(i,n[i],o);i==="float"&&(i="cssFloat"),o?a.setProperty(i,d):a[i]=d}}var Gj=Ns({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(a,n){if(n){if(Gj[a]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ot(137,a));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ot(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ot(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ot(62))}}function hp(a,n){if(a.indexOf("-")===-1)return typeof n.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function _3(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var mp=null,Hl=null,$l=null;function f4(a){if(a=e2(a)){if(typeof mp!="function")throw Error(ot(280));var n=a.stateNode;n&&(n=xu(n),mp(a.stateNode,a.type,n))}}function F6(a){Hl?$l?$l.push(a):$l=[a]:Hl=a}function _6(){if(Hl){var a=Hl,n=$l;if($l=Hl=null,f4(a),n)for(a=0;a<n.length;a++)f4(n[a])}}function P6(a,n){return a(n)}function O6(){}var Ff=!1;function U6(a,n,i){if(Ff)return a(n,i);Ff=!0;try{return P6(a,n,i)}finally{Ff=!1,(Hl!==null||$l!==null)&&(O6(),_6())}}function E0(a,n){var i=a.stateNode;if(i===null)return null;var o=xu(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(a=a.type,o=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!o;break e;default:a=!1}if(a)return null;if(i&&typeof i!="function")throw Error(ot(231,n,typeof i));return i}var xp=!1;if(R1)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{xp=!1}function qj(a,n,i,o,d,u,f,h,p){var m=Array.prototype.slice.call(arguments,3);try{n.apply(i,m)}catch(x){this.onError(x)}}var v0=!1,wd=null,Ad=!1,vp=null,Yj={onError:function(a){v0=!0,wd=a}};function Vj(a,n,i,o,d,u,f,h,p){v0=!1,wd=null,qj.apply(Yj,arguments)}function Kj(a,n,i,o,d,u,f,h,p){if(Vj.apply(this,arguments),v0){if(v0){var m=wd;v0=!1,wd=null}else throw Error(ot(198));Ad||(Ad=!0,vp=m)}}function cl(a){var n=a,i=a;if(a.alternate)for(;n.return;)n=n.return;else{a=n;do n=a,n.flags&4098&&(i=n.return),a=n.return;while(a)}return n.tag===3?i:null}function z6(a){if(a.tag===13){var n=a.memoizedState;if(n===null&&(a=a.alternate,a!==null&&(n=a.memoizedState)),n!==null)return n.dehydrated}return null}function h4(a){if(cl(a)!==a)throw Error(ot(188))}function Wj(a){var n=a.alternate;if(!n){if(n=cl(a),n===null)throw Error(ot(188));return n!==a?null:a}for(var i=a,o=n;;){var d=i.return;if(d===null)break;var u=d.alternate;if(u===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===u.child){for(u=d.child;u;){if(u===i)return h4(d),a;if(u===o)return h4(d),n;u=u.sibling}throw Error(ot(188))}if(i.return!==o.return)i=d,o=u;else{for(var f=!1,h=d.child;h;){if(h===i){f=!0,i=d,o=u;break}if(h===o){f=!0,o=d,i=u;break}h=h.sibling}if(!f){for(h=u.child;h;){if(h===i){f=!0,i=u,o=d;break}if(h===o){f=!0,o=u,i=d;break}h=h.sibling}if(!f)throw Error(ot(189))}}if(i.alternate!==o)throw Error(ot(190))}if(i.tag!==3)throw Error(ot(188));return i.stateNode.current===i?a:n}function L6(a){return a=Wj(a),a!==null?Q6(a):null}function Q6(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var n=Q6(a);if(n!==null)return n;a=a.sibling}return null}var H6=wi.unstable_scheduleCallback,p4=wi.unstable_cancelCallback,Jj=wi.unstable_shouldYield,Xj=wi.unstable_requestPaint,_s=wi.unstable_now,Zj=wi.unstable_getCurrentPriorityLevel,P3=wi.unstable_ImmediatePriority,$6=wi.unstable_UserBlockingPriority,kd=wi.unstable_NormalPriority,eN=wi.unstable_LowPriority,G6=wi.unstable_IdlePriority,fu=null,h1=null;function tN(a){if(h1&&typeof h1.onCommitFiberRoot=="function")try{h1.onCommitFiberRoot(fu,a,void 0,(a.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:sN,rN=Math.log,aN=Math.LN2;function sN(a){return a>>>=0,a===0?32:31-(rN(a)/aN|0)|0}var I2=64,B2=4194304;function d0(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function jd(a,n){var i=a.pendingLanes;if(i===0)return 0;var o=0,d=a.suspendedLanes,u=a.pingedLanes,f=i&268435455;if(f!==0){var h=f&~d;h!==0?o=d0(h):(u&=f,u!==0&&(o=d0(u)))}else f=i&~d,f!==0?o=d0(f):u!==0&&(o=d0(u));if(o===0)return 0;if(n!==0&&n!==o&&!(n&d)&&(d=o&-o,u=n&-n,d>=u||d===16&&(u&4194240)!==0))return n;if(o&4&&(o|=i&16),n=a.entangledLanes,n!==0)for(a=a.entanglements,n&=o;0<n;)i=31-qi(n),d=1<<i,o|=a[i],n&=~d;return o}function nN(a,n){switch(a){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iN(a,n){for(var i=a.suspendedLanes,o=a.pingedLanes,d=a.expirationTimes,u=a.pendingLanes;0<u;){var f=31-qi(u),h=1<<f,p=d[f];p===-1?(!(h&i)||h&o)&&(d[f]=nN(h,n)):p<=n&&(a.expiredLanes|=h),u&=~h}}function gp(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function q6(){var a=I2;return I2<<=1,!(I2&4194240)&&(I2=64),a}function _f(a){for(var n=[],i=0;31>i;i++)n.push(a);return n}function X0(a,n,i){a.pendingLanes|=n,n!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,n=31-qi(n),a[n]=i}function oN(a,n){var i=a.pendingLanes&~n;a.pendingLanes=n,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=n,a.mutableReadLanes&=n,a.entangledLanes&=n,n=a.entanglements;var o=a.eventTimes;for(a=a.expirationTimes;0<i;){var d=31-qi(i),u=1<<d;n[d]=0,o[d]=-1,a[d]=-1,i&=~u}}function O3(a,n){var i=a.entangledLanes|=n;for(a=a.entanglements;i;){var o=31-qi(i),d=1<<o;d&n|a[o]&n&&(a[o]|=n),i&=~d}}var Sa=0;function Y6(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var V6,U3,K6,W6,J6,bp=!1,D2=[],ao=null,so=null,no=null,C0=new Map,I0=new Map,K1=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m4(a,n){switch(a){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":C0.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":I0.delete(n.pointerId)}}function e0(a,n,i,o,d,u){return a===null||a.nativeEvent!==u?(a={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[d]},n!==null&&(n=e2(n),n!==null&&U3(n)),a):(a.eventSystemFlags|=o,n=a.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),a)}function cN(a,n,i,o,d){switch(n){case"focusin":return ao=e0(ao,a,n,i,o,d),!0;case"dragenter":return so=e0(so,a,n,i,o,d),!0;case"mouseover":return no=e0(no,a,n,i,o,d),!0;case"pointerover":var u=d.pointerId;return C0.set(u,e0(C0.get(u)||null,a,n,i,o,d)),!0;case"gotpointercapture":return u=d.pointerId,I0.set(u,e0(I0.get(u)||null,a,n,i,o,d)),!0}return!1}function X6(a){var n=$o(a.target);if(n!==null){var i=cl(n);if(i!==null){if(n=i.tag,n===13){if(n=z6(i),n!==null){a.blockedOn=n,J6(a.priority,function(){K6(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){a.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}a.blockedOn=null}function rd(a){if(a.blockedOn!==null)return!1;for(var n=a.targetContainers;0<n.length;){var i=yp(a.domEventName,a.eventSystemFlags,n[0],a.nativeEvent);if(i===null){i=a.nativeEvent;var o=new i.constructor(i.type,i);pp=o,i.target.dispatchEvent(o),pp=null}else return n=e2(i),n!==null&&U3(n),a.blockedOn=i,!1;n.shift()}return!0}function x4(a,n,i){rd(a)&&i.delete(n)}function dN(){bp=!1,ao!==null&&rd(ao)&&(ao=null),so!==null&&rd(so)&&(so=null),no!==null&&rd(no)&&(no=null),C0.forEach(x4),I0.forEach(x4)}function t0(a,n){a.blockedOn===n&&(a.blockedOn=null,bp||(bp=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,dN)))}function B0(a){function n(d){return t0(d,a)}if(0<D2.length){t0(D2[0],a);for(var i=1;i<D2.length;i++){var o=D2[i];o.blockedOn===a&&(o.blockedOn=null)}}for(ao!==null&&t0(ao,a),so!==null&&t0(so,a),no!==null&&t0(no,a),C0.forEach(n),I0.forEach(n),i=0;i<K1.length;i++)o=K1[i],o.blockedOn===a&&(o.blockedOn=null);for(;0<K1.length&&(i=K1[0],i.blockedOn===null);)X6(i),i.blockedOn===null&&K1.shift()}var Gl=O1.ReactCurrentBatchConfig,Nd=!0;function uN(a,n,i,o){var d=Sa,u=Gl.transition;Gl.transition=null;try{Sa=1,z3(a,n,i,o)}finally{Sa=d,Gl.transition=u}}function fN(a,n,i,o){var d=Sa,u=Gl.transition;Gl.transition=null;try{Sa=4,z3(a,n,i,o)}finally{Sa=d,Gl.transition=u}}function z3(a,n,i,o){if(Nd){var d=yp(a,n,i,o);if(d===null)qf(a,n,o,Sd,i),m4(a,o);else if(cN(d,a,n,i,o))o.stopPropagation();else if(m4(a,o),n&4&&-1<lN.indexOf(a)){for(;d!==null;){var u=e2(d);if(u!==null&&V6(u),u=yp(a,n,i,o),u===null&&qf(a,n,o,Sd,i),u===d)break;d=u}d!==null&&o.stopPropagation()}else qf(a,n,o,null,i)}}var Sd=null;function yp(a,n,i,o){if(Sd=null,a=_3(o),a=$o(a),a!==null)if(n=cl(a),n===null)a=null;else if(i=n.tag,i===13){if(a=z6(n),a!==null)return a;a=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;a=null}else n!==a&&(a=null);return Sd=a,null}function Z6(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zj()){case P3:return 1;case $6:return 4;case kd:case eN:return 16;case G6:return 536870912;default:return 16}default:return 16}}var eo=null,L3=null,ad=null;function e8(){if(ad)return ad;var a,n=L3,i=n.length,o,d="value"in eo?eo.value:eo.textContent,u=d.length;for(a=0;a<i&&n[a]===d[a];a++);var f=i-a;for(o=1;o<=f&&n[i-o]===d[u-o];o++);return ad=d.slice(a,1<o?1-o:void 0)}function sd(a){var n=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&n===13&&(a=13)):a=n,a===10&&(a=13),32<=a||a===13?a:0}function T2(){return!0}function v4(){return!1}function ki(a){function n(i,o,d,u,f){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var h in a)a.hasOwnProperty(h)&&(i=a[h],this[h]=i?i(u):u[h]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?T2:v4,this.isPropagationStopped=v4,this}return Ns(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=T2)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=T2)},persist:function(){},isPersistent:T2}),n}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q3=ki(pc),Z0=Ns({},pc,{view:0,detail:0}),hN=ki(Z0),Pf,Of,r0,hu=Ns({},Z0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H3,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==r0&&(r0&&a.type==="mousemove"?(Pf=a.screenX-r0.screenX,Of=a.screenY-r0.screenY):Of=Pf=0,r0=a),Pf)},movementY:function(a){return"movementY"in a?a.movementY:Of}}),g4=ki(hu),pN=Ns({},hu,{dataTransfer:0}),mN=ki(pN),xN=Ns({},Z0,{relatedTarget:0}),Uf=ki(xN),vN=Ns({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),gN=ki(vN),bN=Ns({},pc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),yN=ki(bN),wN=Ns({},pc,{data:0}),b4=ki(wN),AN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NN(a){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(a):(a=jN[a])?!!n[a]:!1}function H3(){return NN}var SN=Ns({},Z0,{key:function(a){if(a.key){var n=AN[a.key]||a.key;if(n!=="Unidentified")return n}return a.type==="keypress"?(a=sd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?kN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H3,charCode:function(a){return a.type==="keypress"?sd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?sd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),EN=ki(SN),CN=Ns({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y4=ki(CN),IN=Ns({},Z0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H3}),BN=ki(IN),DN=Ns({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),TN=ki(DN),RN=Ns({},hu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),MN=ki(RN),FN=[9,13,27,32],$3=R1&&"CompositionEvent"in window,g0=null;R1&&"documentMode"in document&&(g0=document.documentMode);var _N=R1&&"TextEvent"in window&&!g0,t8=R1&&(!$3||g0&&8<g0&&11>=g0),w4=" ",A4=!1;function r8(a,n){switch(a){case"keyup":return FN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a8(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Dl=!1;function PN(a,n){switch(a){case"compositionend":return a8(n);case"keypress":return n.which!==32?null:(A4=!0,w4);case"textInput":return a=n.data,a===w4&&A4?null:a;default:return null}}function ON(a,n){if(Dl)return a==="compositionend"||!$3&&r8(a,n)?(a=e8(),ad=L3=eo=null,Dl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return t8&&n.locale!=="ko"?null:n.data;default:return null}}var UN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k4(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n==="input"?!!UN[a.type]:n==="textarea"}function s8(a,n,i,o){F6(o),n=Ed(n,"onChange"),0<n.length&&(i=new Q3("onChange","change",null,i,o),a.push({event:i,listeners:n}))}var b0=null,D0=null;function zN(a){m8(a,0)}function pu(a){var n=Ml(a);if(C6(n))return a}function LN(a,n){if(a==="change")return n}var n8=!1;if(R1){var zf;if(R1){var Lf="oninput"in document;if(!Lf){var j4=document.createElement("div");j4.setAttribute("oninput","return;"),Lf=typeof j4.oninput=="function"}zf=Lf}else zf=!1;n8=zf&&(!document.documentMode||9<document.documentMode)}function N4(){b0&&(b0.detachEvent("onpropertychange",i8),D0=b0=null)}function i8(a){if(a.propertyName==="value"&&pu(D0)){var n=[];s8(n,D0,a,_3(a)),U6(zN,n)}}function QN(a,n,i){a==="focusin"?(N4(),b0=n,D0=i,b0.attachEvent("onpropertychange",i8)):a==="focusout"&&N4()}function HN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pu(D0)}function $N(a,n){if(a==="click")return pu(n)}function GN(a,n){if(a==="input"||a==="change")return pu(n)}function qN(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var Vi=typeof Object.is=="function"?Object.is:qN;function T0(a,n){if(Vi(a,n))return!0;if(typeof a!="object"||a===null||typeof n!="object"||n===null)return!1;var i=Object.keys(a),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!rp.call(n,d)||!Vi(a[d],n[d]))return!1}return!0}function S4(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function E4(a,n){var i=S4(a);a=0;for(var o;i;){if(i.nodeType===3){if(o=a+i.textContent.length,a<=n&&o>=n)return{node:i,offset:n-a};a=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=S4(i)}}function o8(a,n){return a&&n?a===n?!0:a&&a.nodeType===3?!1:n&&n.nodeType===3?o8(a,n.parentNode):"contains"in a?a.contains(n):a.compareDocumentPosition?!!(a.compareDocumentPosition(n)&16):!1:!1}function l8(){for(var a=window,n=yd();n instanceof a.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)a=n.contentWindow;else break;n=yd(a.document)}return n}function G3(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n&&(n==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||n==="textarea"||a.contentEditable==="true")}function YN(a){var n=l8(),i=a.focusedElem,o=a.selectionRange;if(n!==i&&i&&i.ownerDocument&&o8(i.ownerDocument.documentElement,i)){if(o!==null&&G3(i)){if(n=o.start,a=o.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=i.textContent.length,u=Math.min(o.start,d);o=o.end===void 0?u:Math.min(o.end,d),!a.extend&&u>o&&(d=o,o=u,u=d),d=E4(i,u);var f=E4(i,o);d&&f&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==f.node||a.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),u>o?(a.addRange(n),a.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var VN=R1&&"documentMode"in document&&11>=document.documentMode,Tl=null,wp=null,y0=null,Ap=!1;function C4(a,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ap||Tl==null||Tl!==yd(o)||(o=Tl,"selectionStart"in o&&G3(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),y0&&T0(y0,o)||(y0=o,o=Ed(wp,"onSelect"),0<o.length&&(n=new Q3("onSelect","select",null,n,i),a.push({event:n,listeners:o}),n.target=Tl)))}function R2(a,n){var i={};return i[a.toLowerCase()]=n.toLowerCase(),i["Webkit"+a]="webkit"+n,i["Moz"+a]="moz"+n,i}var Rl={animationend:R2("Animation","AnimationEnd"),animationiteration:R2("Animation","AnimationIteration"),animationstart:R2("Animation","AnimationStart"),transitionend:R2("Transition","TransitionEnd")},Qf={},c8={};R1&&(c8=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function mu(a){if(Qf[a])return Qf[a];if(!Rl[a])return a;var n=Rl[a],i;for(i in n)if(n.hasOwnProperty(i)&&i in c8)return Qf[a]=n[i];return a}var d8=mu("animationend"),u8=mu("animationiteration"),f8=mu("animationstart"),h8=mu("transitionend"),p8=new Map,I4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(a,n){p8.set(a,n),ll(n,[a])}for(var Hf=0;Hf<I4.length;Hf++){var $f=I4[Hf],KN=$f.toLowerCase(),WN=$f[0].toUpperCase()+$f.slice(1);go(KN,"on"+WN)}go(d8,"onAnimationEnd");go(u8,"onAnimationIteration");go(f8,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(h8,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var u0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JN=new Set("cancel close invalid load scroll toggle".split(" ").concat(u0));function B4(a,n,i){var o=a.type||"unknown-event";a.currentTarget=i,Kj(o,n,void 0,a),a.currentTarget=null}function m8(a,n){n=(n&4)!==0;for(var i=0;i<a.length;i++){var o=a[i],d=o.event;o=o.listeners;e:{var u=void 0;if(n)for(var f=o.length-1;0<=f;f--){var h=o[f],p=h.instance,m=h.currentTarget;if(h=h.listener,p!==u&&d.isPropagationStopped())break e;B4(d,h,m),u=p}else for(f=0;f<o.length;f++){if(h=o[f],p=h.instance,m=h.currentTarget,h=h.listener,p!==u&&d.isPropagationStopped())break e;B4(d,h,m),u=p}}}if(Ad)throw a=vp,Ad=!1,vp=null,a}function as(a,n){var i=n[Ep];i===void 0&&(i=n[Ep]=new Set);var o=a+"__bubble";i.has(o)||(x8(n,a,2,!1),i.add(o))}function Gf(a,n,i){var o=0;n&&(o|=4),x8(i,a,o,n)}var M2="_reactListening"+Math.random().toString(36).slice(2);function R0(a){if(!a[M2]){a[M2]=!0,k6.forEach(function(i){i!=="selectionchange"&&(JN.has(i)||Gf(i,!1,a),Gf(i,!0,a))});var n=a.nodeType===9?a:a.ownerDocument;n===null||n[M2]||(n[M2]=!0,Gf("selectionchange",!1,n))}}function x8(a,n,i,o){switch(Z6(n)){case 1:var d=uN;break;case 4:d=fN;break;default:d=z3}i=d.bind(null,n,i,a),d=void 0,!xp||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?a.addEventListener(n,i,{capture:!0,passive:d}):a.addEventListener(n,i,!0):d!==void 0?a.addEventListener(n,i,{passive:d}):a.addEventListener(n,i,!1)}function qf(a,n,i,o,d){var u=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var h=o.stateNode.containerInfo;if(h===d||h.nodeType===8&&h.parentNode===d)break;if(f===4)for(f=o.return;f!==null;){var p=f.tag;if((p===3||p===4)&&(p=f.stateNode.containerInfo,p===d||p.nodeType===8&&p.parentNode===d))return;f=f.return}for(;h!==null;){if(f=$o(h),f===null)return;if(p=f.tag,p===5||p===6){o=u=f;continue e}h=h.parentNode}}o=o.return}U6(function(){var m=u,x=_3(i),b=[];e:{var y=p8.get(a);if(y!==void 0){var w=Q3,v=a;switch(a){case"keypress":if(sd(i)===0)break e;case"keydown":case"keyup":w=EN;break;case"focusin":v="focus",w=Uf;break;case"focusout":v="blur",w=Uf;break;case"beforeblur":case"afterblur":w=Uf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=g4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=mN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=BN;break;case d8:case u8:case f8:w=gN;break;case h8:w=TN;break;case"scroll":w=hN;break;case"wheel":w=MN;break;case"copy":case"cut":case"paste":w=yN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=y4}var A=(n&4)!==0,k=!A&&a==="scroll",E=A?y!==null?y+"Capture":null:y;A=[];for(var j=m,N;j!==null;){N=j;var B=N.stateNode;if(N.tag===5&&B!==null&&(N=B,E!==null&&(B=E0(j,E),B!=null&&A.push(M0(j,B,N)))),k)break;j=j.return}0<A.length&&(y=new w(y,v,null,i,x),b.push({event:y,listeners:A}))}}if(!(n&7)){e:{if(y=a==="mouseover"||a==="pointerover",w=a==="mouseout"||a==="pointerout",y&&i!==pp&&(v=i.relatedTarget||i.fromElement)&&($o(v)||v[M1]))break e;if((w||y)&&(y=x.window===x?x:(y=x.ownerDocument)?y.defaultView||y.parentWindow:window,w?(v=i.relatedTarget||i.toElement,w=m,v=v?$o(v):null,v!==null&&(k=cl(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=m),w!==v)){if(A=g4,B="onMouseLeave",E="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(A=y4,B="onPointerLeave",E="onPointerEnter",j="pointer"),k=w==null?y:Ml(w),N=v==null?y:Ml(v),y=new A(B,j+"leave",w,i,x),y.target=k,y.relatedTarget=N,B=null,$o(x)===m&&(A=new A(E,j+"enter",v,i,x),A.target=N,A.relatedTarget=k,B=A),k=B,w&&v)t:{for(A=w,E=v,j=0,N=A;N;N=Al(N))j++;for(N=0,B=E;B;B=Al(B))N++;for(;0<j-N;)A=Al(A),j--;for(;0<N-j;)E=Al(E),N--;for(;j--;){if(A===E||E!==null&&A===E.alternate)break t;A=Al(A),E=Al(E)}A=null}else A=null;w!==null&&D4(b,y,w,A,!1),v!==null&&k!==null&&D4(b,k,v,A,!0)}}e:{if(y=m?Ml(m):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var I=LN;else if(k4(y))if(n8)I=GN;else{I=HN;var D=QN}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(I=$N);if(I&&(I=I(a,m))){s8(b,I,i,x);break e}D&&D(a,y,m),a==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&cp(y,"number",y.value)}switch(D=m?Ml(m):window,a){case"focusin":(k4(D)||D.contentEditable==="true")&&(Tl=D,wp=m,y0=null);break;case"focusout":y0=wp=Tl=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,C4(b,i,x);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":C4(b,i,x)}var T;if($3)e:{switch(a){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Dl?r8(a,i)&&(R="onCompositionEnd"):a==="keydown"&&i.keyCode===229&&(R="onCompositionStart");R&&(t8&&i.locale!=="ko"&&(Dl||R!=="onCompositionStart"?R==="onCompositionEnd"&&Dl&&(T=e8()):(eo=x,L3="value"in eo?eo.value:eo.textContent,Dl=!0)),D=Ed(m,R),0<D.length&&(R=new b4(R,a,null,i,x),b.push({event:R,listeners:D}),T?R.data=T:(T=a8(i),T!==null&&(R.data=T)))),(T=_N?PN(a,i):ON(a,i))&&(m=Ed(m,"onBeforeInput"),0<m.length&&(x=new b4("onBeforeInput","beforeinput",null,i,x),b.push({event:x,listeners:m}),x.data=T))}m8(b,n)})}function M0(a,n,i){return{instance:a,listener:n,currentTarget:i}}function Ed(a,n){for(var i=n+"Capture",o=[];a!==null;){var d=a,u=d.stateNode;d.tag===5&&u!==null&&(d=u,u=E0(a,i),u!=null&&o.unshift(M0(a,u,d)),u=E0(a,n),u!=null&&o.push(M0(a,u,d))),a=a.return}return o}function Al(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function D4(a,n,i,o,d){for(var u=n._reactName,f=[];i!==null&&i!==o;){var h=i,p=h.alternate,m=h.stateNode;if(p!==null&&p===o)break;h.tag===5&&m!==null&&(h=m,d?(p=E0(i,u),p!=null&&f.unshift(M0(i,p,h))):d||(p=E0(i,u),p!=null&&f.push(M0(i,p,h)))),i=i.return}f.length!==0&&a.push({event:n,listeners:f})}var XN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function T4(a){return(typeof a=="string"?a:""+a).replace(XN,`
`).replace(ZN,"")}function F2(a,n,i){if(n=T4(n),T4(a)!==n&&i)throw Error(ot(425))}function Cd(){}var kp=null,jp=null;function Np(a,n){return a==="textarea"||a==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,R4=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof R4<"u"?function(a){return R4.resolve(null).then(a).catch(rS)}:Sp;function rS(a){setTimeout(function(){throw a})}function Yf(a,n){var i=n,o=0;do{var d=i.nextSibling;if(a.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){a.removeChild(d),B0(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);B0(n)}function io(a){for(;a!=null;a=a.nextSibling){var n=a.nodeType;if(n===1||n===3)break;if(n===8){if(n=a.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return a}function M4(a){a=a.previousSibling;for(var n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return a;n--}else i==="/$"&&n++}a=a.previousSibling}return null}var mc=Math.random().toString(36).slice(2),u1="__reactFiber$"+mc,F0="__reactProps$"+mc,M1="__reactContainer$"+mc,Ep="__reactEvents$"+mc,aS="__reactListeners$"+mc,sS="__reactHandles$"+mc;function $o(a){var n=a[u1];if(n)return n;for(var i=a.parentNode;i;){if(n=i[M1]||i[u1]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(a=M4(a);a!==null;){if(i=a[u1])return i;a=M4(a)}return n}a=i,i=a.parentNode}return null}function e2(a){return a=a[u1]||a[M1],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ml(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(ot(33))}function xu(a){return a[F0]||null}var Cp=[],Fl=-1;function bo(a){return{current:a}}function ss(a){0>Fl||(a.current=Cp[Fl],Cp[Fl]=null,Fl--)}function Ya(a,n){Fl++,Cp[Fl]=a.current,a.current=n}var mo={},zn=bo(mo),ni=bo(!1),rl=mo;function Zl(a,n){var i=a.type.contextTypes;if(!i)return mo;var o=a.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var d={},u;for(u in i)d[u]=n[u];return o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=n,a.__reactInternalMemoizedMaskedChildContext=d),d}function ii(a){return a=a.childContextTypes,a!=null}function Id(){ss(ni),ss(zn)}function F4(a,n,i){if(zn.current!==mo)throw Error(ot(168));Ya(zn,n),Ya(ni,i)}function v8(a,n,i){var o=a.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in n))throw Error(ot(108,Qj(a)||"Unknown",d));return Ns({},i,o)}function Bd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||mo,rl=zn.current,Ya(zn,a),Ya(ni,ni.current),!0}function _4(a,n,i){var o=a.stateNode;if(!o)throw Error(ot(169));i?(a=v8(a,n,rl),o.__reactInternalMemoizedMergedChildContext=a,ss(ni),ss(zn),Ya(zn,a)):ss(ni),Ya(ni,i)}var E1=null,vu=!1,Vf=!1;function g8(a){E1===null?E1=[a]:E1.push(a)}function nS(a){vu=!0,g8(a)}function yo(){if(!Vf&&E1!==null){Vf=!0;var a=0,n=Sa;try{var i=E1;for(Sa=1;a<i.length;a++){var o=i[a];do o=o(!0);while(o!==null)}E1=null,vu=!1}catch(d){throw E1!==null&&(E1=E1.slice(a+1)),H6(P3,yo),d}finally{Sa=n,Vf=!1}}return null}var _l=[],Pl=0,Dd=null,Td=0,Ni=[],Si=0,al=null,C1=1,I1="";function Po(a,n){_l[Pl++]=Td,_l[Pl++]=Dd,Dd=a,Td=n}function b8(a,n,i){Ni[Si++]=C1,Ni[Si++]=I1,Ni[Si++]=al,al=a;var o=C1;a=I1;var d=32-qi(o)-1;o&=~(1<<d),i+=1;var u=32-qi(n)+d;if(30<u){var f=d-d%5;u=(o&(1<<f)-1).toString(32),o>>=f,d-=f,C1=1<<32-qi(n)+d|i<<d|o,I1=u+a}else C1=1<<u|i<<d|o,I1=a}function q3(a){a.return!==null&&(Po(a,1),b8(a,1,0))}function Y3(a){for(;a===Dd;)Dd=_l[--Pl],_l[Pl]=null,Td=_l[--Pl],_l[Pl]=null;for(;a===al;)al=Ni[--Si],Ni[Si]=null,I1=Ni[--Si],Ni[Si]=null,C1=Ni[--Si],Ni[Si]=null}var yi=null,bi=null,us=!1,Gi=null;function y8(a,n){var i=Ei(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=a,n=a.deletions,n===null?(a.deletions=[i],a.flags|=16):n.push(i)}function P4(a,n){switch(a.tag){case 5:var i=a.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(a.stateNode=n,yi=a,bi=io(n.firstChild),!0):!1;case 6:return n=a.pendingProps===""||n.nodeType!==3?null:n,n!==null?(a.stateNode=n,yi=a,bi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=al!==null?{id:C1,overflow:I1}:null,a.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Ei(18,null,null,0),i.stateNode=n,i.return=a,a.child=i,yi=a,bi=null,!0):!1;default:return!1}}function Ip(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Bp(a){if(us){var n=bi;if(n){var i=n;if(!P4(a,n)){if(Ip(a))throw Error(ot(418));n=io(i.nextSibling);var o=yi;n&&P4(a,n)?y8(o,i):(a.flags=a.flags&-4097|2,us=!1,yi=a)}}else{if(Ip(a))throw Error(ot(418));a.flags=a.flags&-4097|2,us=!1,yi=a}}}function O4(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;yi=a}function _2(a){if(a!==yi)return!1;if(!us)return O4(a),us=!0,!1;var n;if((n=a.tag!==3)&&!(n=a.tag!==5)&&(n=a.type,n=n!=="head"&&n!=="body"&&!Np(a.type,a.memoizedProps)),n&&(n=bi)){if(Ip(a))throw w8(),Error(ot(418));for(;n;)y8(a,n),n=io(n.nextSibling)}if(O4(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ot(317));e:{for(a=a.nextSibling,n=0;a;){if(a.nodeType===8){var i=a.data;if(i==="/$"){if(n===0){bi=io(a.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}a=a.nextSibling}bi=null}}else bi=yi?io(a.stateNode.nextSibling):null;return!0}function w8(){for(var a=bi;a;)a=io(a.nextSibling)}function ec(){bi=yi=null,us=!1}function V3(a){Gi===null?Gi=[a]:Gi.push(a)}var iS=O1.ReactCurrentBatchConfig;function a0(a,n,i){if(a=i.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ot(309));var o=i.stateNode}if(!o)throw Error(ot(147,a));var d=o,u=""+a;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(f){var h=d.refs;f===null?delete h[u]:h[u]=f},n._stringRef=u,n)}if(typeof a!="string")throw Error(ot(284));if(!i._owner)throw Error(ot(290,a))}return a}function P2(a,n){throw a=Object.prototype.toString.call(n),Error(ot(31,a==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":a))}function U4(a){var n=a._init;return n(a._payload)}function A8(a){function n(E,j){if(a){var N=E.deletions;N===null?(E.deletions=[j],E.flags|=16):N.push(j)}}function i(E,j){if(!a)return null;for(;j!==null;)n(E,j),j=j.sibling;return null}function o(E,j){for(E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function d(E,j){return E=uo(E,j),E.index=0,E.sibling=null,E}function u(E,j,N){return E.index=N,a?(N=E.alternate,N!==null?(N=N.index,N<j?(E.flags|=2,j):N):(E.flags|=2,j)):(E.flags|=1048576,j)}function f(E){return a&&E.alternate===null&&(E.flags|=2),E}function h(E,j,N,B){return j===null||j.tag!==6?(j=th(N,E.mode,B),j.return=E,j):(j=d(j,N),j.return=E,j)}function p(E,j,N,B){var I=N.type;return I===Bl?x(E,j,N.props.children,B,N.key):j!==null&&(j.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Y1&&U4(I)===j.type)?(B=d(j,N.props),B.ref=a0(E,j,N),B.return=E,B):(B=ud(N.type,N.key,N.props,null,E.mode,B),B.ref=a0(E,j,N),B.return=E,B)}function m(E,j,N,B){return j===null||j.tag!==4||j.stateNode.containerInfo!==N.containerInfo||j.stateNode.implementation!==N.implementation?(j=rh(N,E.mode,B),j.return=E,j):(j=d(j,N.children||[]),j.return=E,j)}function x(E,j,N,B,I){return j===null||j.tag!==7?(j=Xo(N,E.mode,B,I),j.return=E,j):(j=d(j,N),j.return=E,j)}function b(E,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return j=th(""+j,E.mode,N),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S2:return N=ud(j.type,j.key,j.props,null,E.mode,N),N.ref=a0(E,null,j),N.return=E,N;case Il:return j=rh(j,E.mode,N),j.return=E,j;case Y1:var B=j._init;return b(E,B(j._payload),N)}if(c0(j)||Xc(j))return j=Xo(j,E.mode,N,null),j.return=E,j;P2(E,j)}return null}function y(E,j,N,B){var I=j!==null?j.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return I!==null?null:h(E,j,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S2:return N.key===I?p(E,j,N,B):null;case Il:return N.key===I?m(E,j,N,B):null;case Y1:return I=N._init,y(E,j,I(N._payload),B)}if(c0(N)||Xc(N))return I!==null?null:x(E,j,N,B,null);P2(E,N)}return null}function w(E,j,N,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return E=E.get(N)||null,h(j,E,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S2:return E=E.get(B.key===null?N:B.key)||null,p(j,E,B,I);case Il:return E=E.get(B.key===null?N:B.key)||null,m(j,E,B,I);case Y1:var D=B._init;return w(E,j,N,D(B._payload),I)}if(c0(B)||Xc(B))return E=E.get(N)||null,x(j,E,B,I,null);P2(j,B)}return null}function v(E,j,N,B){for(var I=null,D=null,T=j,R=j=0,$=null;T!==null&&R<N.length;R++){T.index>R?($=T,T=null):$=T.sibling;var F=y(E,T,N[R],B);if(F===null){T===null&&(T=$);break}a&&T&&F.alternate===null&&n(E,T),j=u(F,j,R),D===null?I=F:D.sibling=F,D=F,T=$}if(R===N.length)return i(E,T),us&&Po(E,R),I;if(T===null){for(;R<N.length;R++)T=b(E,N[R],B),T!==null&&(j=u(T,j,R),D===null?I=T:D.sibling=T,D=T);return us&&Po(E,R),I}for(T=o(E,T);R<N.length;R++)$=w(T,E,R,N[R],B),$!==null&&(a&&$.alternate!==null&&T.delete($.key===null?R:$.key),j=u($,j,R),D===null?I=$:D.sibling=$,D=$);return a&&T.forEach(function(_){return n(E,_)}),us&&Po(E,R),I}function A(E,j,N,B){var I=Xc(N);if(typeof I!="function")throw Error(ot(150));if(N=I.call(N),N==null)throw Error(ot(151));for(var D=I=null,T=j,R=j=0,$=null,F=N.next();T!==null&&!F.done;R++,F=N.next()){T.index>R?($=T,T=null):$=T.sibling;var _=y(E,T,F.value,B);if(_===null){T===null&&(T=$);break}a&&T&&_.alternate===null&&n(E,T),j=u(_,j,R),D===null?I=_:D.sibling=_,D=_,T=$}if(F.done)return i(E,T),us&&Po(E,R),I;if(T===null){for(;!F.done;R++,F=N.next())F=b(E,F.value,B),F!==null&&(j=u(F,j,R),D===null?I=F:D.sibling=F,D=F);return us&&Po(E,R),I}for(T=o(E,T);!F.done;R++,F=N.next())F=w(T,E,R,F.value,B),F!==null&&(a&&F.alternate!==null&&T.delete(F.key===null?R:F.key),j=u(F,j,R),D===null?I=F:D.sibling=F,D=F);return a&&T.forEach(function(Q){return n(E,Q)}),us&&Po(E,R),I}function k(E,j,N,B){if(typeof N=="object"&&N!==null&&N.type===Bl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S2:e:{for(var I=N.key,D=j;D!==null;){if(D.key===I){if(I=N.type,I===Bl){if(D.tag===7){i(E,D.sibling),j=d(D,N.props.children),j.return=E,E=j;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Y1&&U4(I)===D.type){i(E,D.sibling),j=d(D,N.props),j.ref=a0(E,D,N),j.return=E,E=j;break e}i(E,D);break}else n(E,D);D=D.sibling}N.type===Bl?(j=Xo(N.props.children,E.mode,B,N.key),j.return=E,E=j):(B=ud(N.type,N.key,N.props,null,E.mode,B),B.ref=a0(E,j,N),B.return=E,E=B)}return f(E);case Il:e:{for(D=N.key;j!==null;){if(j.key===D)if(j.tag===4&&j.stateNode.containerInfo===N.containerInfo&&j.stateNode.implementation===N.implementation){i(E,j.sibling),j=d(j,N.children||[]),j.return=E,E=j;break e}else{i(E,j);break}else n(E,j);j=j.sibling}j=rh(N,E.mode,B),j.return=E,E=j}return f(E);case Y1:return D=N._init,k(E,j,D(N._payload),B)}if(c0(N))return v(E,j,N,B);if(Xc(N))return A(E,j,N,B);P2(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,j!==null&&j.tag===6?(i(E,j.sibling),j=d(j,N),j.return=E,E=j):(i(E,j),j=th(N,E.mode,B),j.return=E,E=j),f(E)):i(E,j)}return k}var tc=A8(!0),k8=A8(!1),Rd=bo(null),Md=null,Ol=null,K3=null;function W3(){K3=Ol=Md=null}function J3(a){var n=Rd.current;ss(Rd),a._currentValue=n}function Dp(a,n,i){for(;a!==null;){var o=a.alternate;if((a.childLanes&n)!==n?(a.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),a===i)break;a=a.return}}function ql(a,n){Md=a,K3=Ol=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&n&&(si=!0),a.firstContext=null)}function Ii(a){var n=a._currentValue;if(K3!==a)if(a={context:a,memoizedValue:n,next:null},Ol===null){if(Md===null)throw Error(ot(308));Ol=a,Md.dependencies={lanes:0,firstContext:a}}else Ol=Ol.next=a;return n}var Go=null;function X3(a){Go===null?Go=[a]:Go.push(a)}function j8(a,n,i,o){var d=n.interleaved;return d===null?(i.next=i,X3(n)):(i.next=d.next,d.next=i),n.interleaved=i,F1(a,o)}function F1(a,n){a.lanes|=n;var i=a.alternate;for(i!==null&&(i.lanes|=n),i=a,a=a.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),i=a,a=a.return;return i.tag===3?i.stateNode:null}var V1=!1;function Z3(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N8(a,n){a=a.updateQueue,n.updateQueue===a&&(n.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function D1(a,n){return{eventTime:a,lane:n,tag:0,payload:null,callback:null,next:null}}function oo(a,n,i){var o=a.updateQueue;if(o===null)return null;if(o=o.shared,oa&2){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,F1(a,i)}return d=o.interleaved,d===null?(n.next=n,X3(o)):(n.next=d.next,d.next=n),o.interleaved=n,F1(a,i)}function nd(a,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,O3(a,i)}}function z4(a,n){var i=a.updateQueue,o=a.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var f={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?d=u=f:u=u.next=f,i=i.next}while(i!==null);u===null?d=u=n:u=u.next=n}else d=u=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:u,shared:o.shared,effects:o.effects},a.updateQueue=i;return}a=i.lastBaseUpdate,a===null?i.firstBaseUpdate=n:a.next=n,i.lastBaseUpdate=n}function Fd(a,n,i,o){var d=a.updateQueue;V1=!1;var u=d.firstBaseUpdate,f=d.lastBaseUpdate,h=d.shared.pending;if(h!==null){d.shared.pending=null;var p=h,m=p.next;p.next=null,f===null?u=m:f.next=m,f=p;var x=a.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==f&&(h===null?x.firstBaseUpdate=m:h.next=m,x.lastBaseUpdate=p))}if(u!==null){var b=d.baseState;f=0,x=m=p=null,h=u;do{var y=h.lane,w=h.eventTime;if((o&y)===y){x!==null&&(x=x.next={eventTime:w,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var v=a,A=h;switch(y=n,w=i,A.tag){case 1:if(v=A.payload,typeof v=="function"){b=v.call(w,b,y);break e}b=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=A.payload,y=typeof v=="function"?v.call(w,b,y):v,y==null)break e;b=Ns({},b,y);break e;case 2:V1=!0}}h.callback!==null&&h.lane!==0&&(a.flags|=64,y=d.effects,y===null?d.effects=[h]:y.push(h))}else w={eventTime:w,lane:y,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(m=x=w,p=b):x=x.next=w,f|=y;if(h=h.next,h===null){if(h=d.shared.pending,h===null)break;y=h,h=y.next,y.next=null,d.lastBaseUpdate=y,d.shared.pending=null}}while(!0);if(x===null&&(p=b),d.baseState=p,d.firstBaseUpdate=m,d.lastBaseUpdate=x,n=d.shared.interleaved,n!==null){d=n;do f|=d.lane,d=d.next;while(d!==n)}else u===null&&(d.shared.lanes=0);nl|=f,a.lanes=f,a.memoizedState=b}}function L4(a,n,i){if(a=n.effects,n.effects=null,a!==null)for(n=0;n<a.length;n++){var o=a[n],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(ot(191,d));d.call(o)}}}var t2={},p1=bo(t2),_0=bo(t2),P0=bo(t2);function qo(a){if(a===t2)throw Error(ot(174));return a}function em(a,n){switch(Ya(P0,n),Ya(_0,a),Ya(p1,t2),a=n.nodeType,a){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:up(null,"");break;default:a=a===8?n.parentNode:n,n=a.namespaceURI||null,a=a.tagName,n=up(n,a)}ss(p1),Ya(p1,n)}function rc(){ss(p1),ss(_0),ss(P0)}function S8(a){qo(P0.current);var n=qo(p1.current),i=up(n,a.type);n!==i&&(Ya(_0,a),Ya(p1,i))}function tm(a){_0.current===a&&(ss(p1),ss(_0))}var ks=bo(0);function _d(a){for(var n=a;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Kf=[];function rm(){for(var a=0;a<Kf.length;a++)Kf[a]._workInProgressVersionPrimary=null;Kf.length=0}var id=O1.ReactCurrentDispatcher,Wf=O1.ReactCurrentBatchConfig,sl=0,js=null,Zs=null,fn=null,Pd=!1,w0=!1,O0=0,oS=0;function Mn(){throw Error(ot(321))}function am(a,n){if(n===null)return!1;for(var i=0;i<n.length&&i<a.length;i++)if(!Vi(a[i],n[i]))return!1;return!0}function sm(a,n,i,o,d,u){if(sl=u,js=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,id.current=a===null||a.memoizedState===null?uS:fS,a=i(o,d),w0){u=0;do{if(w0=!1,O0=0,25<=u)throw Error(ot(301));u+=1,fn=Zs=null,n.updateQueue=null,id.current=hS,a=i(o,d)}while(w0)}if(id.current=Od,n=Zs!==null&&Zs.next!==null,sl=0,fn=Zs=js=null,Pd=!1,n)throw Error(ot(300));return a}function nm(){var a=O0!==0;return O0=0,a}function c1(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?js.memoizedState=fn=a:fn=fn.next=a,fn}function Bi(){if(Zs===null){var a=js.alternate;a=a!==null?a.memoizedState:null}else a=Zs.next;var n=fn===null?js.memoizedState:fn.next;if(n!==null)fn=n,Zs=a;else{if(a===null)throw Error(ot(310));Zs=a,a={memoizedState:Zs.memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},fn===null?js.memoizedState=fn=a:fn=fn.next=a}return fn}function U0(a,n){return typeof n=="function"?n(a):n}function Jf(a){var n=Bi(),i=n.queue;if(i===null)throw Error(ot(311));i.lastRenderedReducer=a;var o=Zs,d=o.baseQueue,u=i.pending;if(u!==null){if(d!==null){var f=d.next;d.next=u.next,u.next=f}o.baseQueue=d=u,i.pending=null}if(d!==null){u=d.next,o=o.baseState;var h=f=null,p=null,m=u;do{var x=m.lane;if((sl&x)===x)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:a(o,m.action);else{var b={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(h=p=b,f=o):p=p.next=b,js.lanes|=x,nl|=x}m=m.next}while(m!==null&&m!==u);p===null?f=o:p.next=h,Vi(o,n.memoizedState)||(si=!0),n.memoizedState=o,n.baseState=f,n.baseQueue=p,i.lastRenderedState=o}if(a=i.interleaved,a!==null){d=a;do u=d.lane,js.lanes|=u,nl|=u,d=d.next;while(d!==a)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Xf(a){var n=Bi(),i=n.queue;if(i===null)throw Error(ot(311));i.lastRenderedReducer=a;var o=i.dispatch,d=i.pending,u=n.memoizedState;if(d!==null){i.pending=null;var f=d=d.next;do u=a(u,f.action),f=f.next;while(f!==d);Vi(u,n.memoizedState)||(si=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),i.lastRenderedState=u}return[u,o]}function E8(){}function C8(a,n){var i=js,o=Bi(),d=n(),u=!Vi(o.memoizedState,d);if(u&&(o.memoizedState=d,si=!0),o=o.queue,im(D8.bind(null,i,o,a),[a]),o.getSnapshot!==n||u||fn!==null&&fn.memoizedState.tag&1){if(i.flags|=2048,z0(9,B8.bind(null,i,o,d,n),void 0,null),pn===null)throw Error(ot(349));sl&30||I8(i,n,d)}return d}function I8(a,n,i){a.flags|=16384,a={getSnapshot:n,value:i},n=js.updateQueue,n===null?(n={lastEffect:null,stores:null},js.updateQueue=n,n.stores=[a]):(i=n.stores,i===null?n.stores=[a]:i.push(a))}function B8(a,n,i,o){n.value=i,n.getSnapshot=o,T8(n)&&R8(a)}function D8(a,n,i){return i(function(){T8(n)&&R8(a)})}function T8(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!Vi(a,i)}catch{return!0}}function R8(a){var n=F1(a,1);n!==null&&Yi(n,a,1,-1)}function Q4(a){var n=c1();return typeof a=="function"&&(a=a()),n.memoizedState=n.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:a},n.queue=a,a=a.dispatch=dS.bind(null,js,a),[n.memoizedState,a]}function z0(a,n,i,o){return a={tag:a,create:n,destroy:i,deps:o,next:null},n=js.updateQueue,n===null?(n={lastEffect:null,stores:null},js.updateQueue=n,n.lastEffect=a.next=a):(i=n.lastEffect,i===null?n.lastEffect=a.next=a:(o=i.next,i.next=a,a.next=o,n.lastEffect=a)),a}function M8(){return Bi().memoizedState}function od(a,n,i,o){var d=c1();js.flags|=a,d.memoizedState=z0(1|n,i,void 0,o===void 0?null:o)}function gu(a,n,i,o){var d=Bi();o=o===void 0?null:o;var u=void 0;if(Zs!==null){var f=Zs.memoizedState;if(u=f.destroy,o!==null&&am(o,f.deps)){d.memoizedState=z0(n,i,u,o);return}}js.flags|=a,d.memoizedState=z0(1|n,i,u,o)}function H4(a,n){return od(8390656,8,a,n)}function im(a,n){return gu(2048,8,a,n)}function F8(a,n){return gu(4,2,a,n)}function _8(a,n){return gu(4,4,a,n)}function P8(a,n){if(typeof n=="function")return a=a(),n(a),function(){n(null)};if(n!=null)return a=a(),n.current=a,function(){n.current=null}}function O8(a,n,i){return i=i!=null?i.concat([a]):null,gu(4,4,P8.bind(null,n,a),i)}function om(){}function U8(a,n){var i=Bi();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&am(n,o[1])?o[0]:(i.memoizedState=[a,n],a)}function z8(a,n){var i=Bi();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&am(n,o[1])?o[0]:(a=a(),i.memoizedState=[a,n],a)}function L8(a,n,i){return sl&21?(Vi(i,n)||(i=q6(),js.lanes|=i,nl|=i,a.baseState=!0),n):(a.baseState&&(a.baseState=!1,si=!0),a.memoizedState=i)}function lS(a,n){var i=Sa;Sa=i!==0&&4>i?i:4,a(!0);var o=Wf.transition;Wf.transition={};try{a(!1),n()}finally{Sa=i,Wf.transition=o}}function Q8(){return Bi().memoizedState}function cS(a,n,i){var o=co(a);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},H8(a))$8(n,i);else if(i=j8(a,n,i,o),i!==null){var d=Kn();Yi(i,a,o,d),G8(i,n,o)}}function dS(a,n,i){var o=co(a),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(H8(a))$8(n,d);else{var u=a.alternate;if(a.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var f=n.lastRenderedState,h=u(f,i);if(d.hasEagerState=!0,d.eagerState=h,Vi(h,f)){var p=n.interleaved;p===null?(d.next=d,X3(n)):(d.next=p.next,p.next=d),n.interleaved=d;return}}catch{}finally{}i=j8(a,n,d,o),i!==null&&(d=Kn(),Yi(i,a,o,d),G8(i,n,o))}}function H8(a){var n=a.alternate;return a===js||n!==null&&n===js}function $8(a,n){w0=Pd=!0;var i=a.pending;i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n}function G8(a,n,i){if(i&4194240){var o=n.lanes;o&=a.pendingLanes,i|=o,n.lanes=i,O3(a,i)}}var Od={readContext:Ii,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},uS={readContext:Ii,useCallback:function(a,n){return c1().memoizedState=[a,n===void 0?null:n],a},useContext:Ii,useEffect:H4,useImperativeHandle:function(a,n,i){return i=i!=null?i.concat([a]):null,od(4194308,4,P8.bind(null,n,a),i)},useLayoutEffect:function(a,n){return od(4194308,4,a,n)},useInsertionEffect:function(a,n){return od(4,2,a,n)},useMemo:function(a,n){var i=c1();return n=n===void 0?null:n,a=a(),i.memoizedState=[a,n],a},useReducer:function(a,n,i){var o=c1();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:n},o.queue=a,a=a.dispatch=cS.bind(null,js,a),[o.memoizedState,a]},useRef:function(a){var n=c1();return a={current:a},n.memoizedState=a},useState:Q4,useDebugValue:om,useDeferredValue:function(a){return c1().memoizedState=a},useTransition:function(){var a=Q4(!1),n=a[0];return a=lS.bind(null,a[1]),c1().memoizedState=a,[n,a]},useMutableSource:function(){},useSyncExternalStore:function(a,n,i){var o=js,d=c1();if(us){if(i===void 0)throw Error(ot(407));i=i()}else{if(i=n(),pn===null)throw Error(ot(349));sl&30||I8(o,n,i)}d.memoizedState=i;var u={value:i,getSnapshot:n};return d.queue=u,H4(D8.bind(null,o,u,a),[a]),o.flags|=2048,z0(9,B8.bind(null,o,u,i,n),void 0,null),i},useId:function(){var a=c1(),n=pn.identifierPrefix;if(us){var i=I1,o=C1;i=(o&~(1<<32-qi(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=O0++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=oS++,n=":"+n+"r"+i.toString(32)+":";return a.memoizedState=n},unstable_isNewReconciler:!1},fS={readContext:Ii,useCallback:U8,useContext:Ii,useEffect:im,useImperativeHandle:O8,useInsertionEffect:F8,useLayoutEffect:_8,useMemo:z8,useReducer:Jf,useRef:M8,useState:function(){return Jf(U0)},useDebugValue:om,useDeferredValue:function(a){var n=Bi();return L8(n,Zs.memoizedState,a)},useTransition:function(){var a=Jf(U0)[0],n=Bi().memoizedState;return[a,n]},useMutableSource:E8,useSyncExternalStore:C8,useId:Q8,unstable_isNewReconciler:!1},hS={readContext:Ii,useCallback:U8,useContext:Ii,useEffect:im,useImperativeHandle:O8,useInsertionEffect:F8,useLayoutEffect:_8,useMemo:z8,useReducer:Xf,useRef:M8,useState:function(){return Xf(U0)},useDebugValue:om,useDeferredValue:function(a){var n=Bi();return Zs===null?n.memoizedState=a:L8(n,Zs.memoizedState,a)},useTransition:function(){var a=Xf(U0)[0],n=Bi().memoizedState;return[a,n]},useMutableSource:E8,useSyncExternalStore:C8,useId:Q8,unstable_isNewReconciler:!1};function Li(a,n){if(a&&a.defaultProps){n=Ns({},n),a=a.defaultProps;for(var i in a)n[i]===void 0&&(n[i]=a[i]);return n}return n}function Tp(a,n,i,o){n=a.memoizedState,i=i(o,n),i=i==null?n:Ns({},n,i),a.memoizedState=i,a.lanes===0&&(a.updateQueue.baseState=i)}var bu={isMounted:function(a){return(a=a._reactInternals)?cl(a)===a:!1},enqueueSetState:function(a,n,i){a=a._reactInternals;var o=Kn(),d=co(a),u=D1(o,d);u.payload=n,i!=null&&(u.callback=i),n=oo(a,u,d),n!==null&&(Yi(n,a,d,o),nd(n,a,d))},enqueueReplaceState:function(a,n,i){a=a._reactInternals;var o=Kn(),d=co(a),u=D1(o,d);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=oo(a,u,d),n!==null&&(Yi(n,a,d,o),nd(n,a,d))},enqueueForceUpdate:function(a,n){a=a._reactInternals;var i=Kn(),o=co(a),d=D1(i,o);d.tag=2,n!=null&&(d.callback=n),n=oo(a,d,o),n!==null&&(Yi(n,a,o,i),nd(n,a,o))}};function $4(a,n,i,o,d,u,f){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(o,u,f):n.prototype&&n.prototype.isPureReactComponent?!T0(i,o)||!T0(d,u):!0}function q8(a,n,i){var o=!1,d=mo,u=n.contextType;return typeof u=="object"&&u!==null?u=Ii(u):(d=ii(n)?rl:zn.current,o=n.contextTypes,u=(o=o!=null)?Zl(a,d):mo),n=new n(i,u),a.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=bu,a.stateNode=n,n._reactInternals=a,o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=u),n}function G4(a,n,i,o){a=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==a&&bu.enqueueReplaceState(n,n.state,null)}function Rp(a,n,i,o){var d=a.stateNode;d.props=i,d.state=a.memoizedState,d.refs={},Z3(a);var u=n.contextType;typeof u=="object"&&u!==null?d.context=Ii(u):(u=ii(n)?rl:zn.current,d.context=Zl(a,u)),d.state=a.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Tp(a,n,u,i),d.state=a.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&bu.enqueueReplaceState(d,d.state,null),Fd(a,i,d,o),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308)}function ac(a,n){try{var i="",o=n;do i+=Lj(o),o=o.return;while(o);var d=i}catch(u){d=`
Error generating stack: `+u.message+`
`+u.stack}return{value:a,source:n,stack:d,digest:null}}function Zf(a,n,i){return{value:a,source:null,stack:i??null,digest:n??null}}function Mp(a,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var pS=typeof WeakMap=="function"?WeakMap:Map;function Y8(a,n,i){i=D1(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){zd||(zd=!0,$p=o),Mp(a,n)},i}function V8(a,n,i){i=D1(-1,i),i.tag=3;var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;i.payload=function(){return o(d)},i.callback=function(){Mp(a,n)}}var u=a.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){Mp(a,n),typeof o!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),i}function q4(a,n,i){var o=a.pingCache;if(o===null){o=a.pingCache=new pS;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(d.add(i),a=CS.bind(null,a,n,i),n.then(a,a))}function Y4(a){do{var n;if((n=a.tag===13)&&(n=a.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return a;a=a.return}while(a!==null);return null}function V4(a,n,i,o,d){return a.mode&1?(a.flags|=65536,a.lanes=d,a):(a===n?a.flags|=65536:(a.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=D1(-1,1),n.tag=2,oo(i,n,1))),i.lanes|=1),a)}var mS=O1.ReactCurrentOwner,si=!1;function Vn(a,n,i,o){n.child=a===null?k8(n,null,i,o):tc(n,a.child,i,o)}function K4(a,n,i,o,d){i=i.render;var u=n.ref;return ql(n,d),o=sm(a,n,i,o,u,d),i=nm(),a!==null&&!si?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~d,_1(a,n,d)):(us&&i&&q3(n),n.flags|=1,Vn(a,n,o,d),n.child)}function W4(a,n,i,o,d){if(a===null){var u=i.type;return typeof u=="function"&&!mm(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=u,K8(a,n,u,o,d)):(a=ud(i.type,null,o,n,n.mode,d),a.ref=n.ref,a.return=n,n.child=a)}if(u=a.child,!(a.lanes&d)){var f=u.memoizedProps;if(i=i.compare,i=i!==null?i:T0,i(f,o)&&a.ref===n.ref)return _1(a,n,d)}return n.flags|=1,a=uo(u,o),a.ref=n.ref,a.return=n,n.child=a}function K8(a,n,i,o,d){if(a!==null){var u=a.memoizedProps;if(T0(u,o)&&a.ref===n.ref)if(si=!1,n.pendingProps=o=u,(a.lanes&d)!==0)a.flags&131072&&(si=!0);else return n.lanes=a.lanes,_1(a,n,d)}return Fp(a,n,i,o,d)}function W8(a,n,i){var o=n.pendingProps,d=o.children,u=a!==null?a.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ya(zl,vi),vi|=i;else{if(!(i&1073741824))return a=u!==null?u.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:a,cachePool:null,transitions:null},n.updateQueue=null,Ya(zl,vi),vi|=a,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:i,Ya(zl,vi),vi|=o}else u!==null?(o=u.baseLanes|i,n.memoizedState=null):o=i,Ya(zl,vi),vi|=o;return Vn(a,n,d,i),n.child}function J8(a,n){var i=n.ref;(a===null&&i!==null||a!==null&&a.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Fp(a,n,i,o,d){var u=ii(i)?rl:zn.current;return u=Zl(n,u),ql(n,d),i=sm(a,n,i,o,u,d),o=nm(),a!==null&&!si?(n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~d,_1(a,n,d)):(us&&o&&q3(n),n.flags|=1,Vn(a,n,i,d),n.child)}function J4(a,n,i,o,d){if(ii(i)){var u=!0;Bd(n)}else u=!1;if(ql(n,d),n.stateNode===null)ld(a,n),q8(n,i,o),Rp(n,i,o,d),o=!0;else if(a===null){var f=n.stateNode,h=n.memoizedProps;f.props=h;var p=f.context,m=i.contextType;typeof m=="object"&&m!==null?m=Ii(m):(m=ii(i)?rl:zn.current,m=Zl(n,m));var x=i.getDerivedStateFromProps,b=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function";b||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==o||p!==m)&&G4(n,f,o,m),V1=!1;var y=n.memoizedState;f.state=y,Fd(n,o,f,d),p=n.memoizedState,h!==o||y!==p||ni.current||V1?(typeof x=="function"&&(Tp(n,i,x,o),p=n.memoizedState),(h=V1||$4(n,i,h,o,y,p,m))?(b||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=p),f.props=o,f.state=p,f.context=m,o=h):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,N8(a,n),h=n.memoizedProps,m=n.type===n.elementType?h:Li(n.type,h),f.props=m,b=n.pendingProps,y=f.context,p=i.contextType,typeof p=="object"&&p!==null?p=Ii(p):(p=ii(i)?rl:zn.current,p=Zl(n,p));var w=i.getDerivedStateFromProps;(x=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==b||y!==p)&&G4(n,f,o,p),V1=!1,y=n.memoizedState,f.state=y,Fd(n,o,f,d);var v=n.memoizedState;h!==b||y!==v||ni.current||V1?(typeof w=="function"&&(Tp(n,i,w,o),v=n.memoizedState),(m=V1||$4(n,i,m,o,y,v,p)||!1)?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,v,p),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,v,p)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=v),f.props=o,f.state=v,f.context=p,o=m):(typeof f.componentDidUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===a.memoizedProps&&y===a.memoizedState||(n.flags|=1024),o=!1)}return _p(a,n,i,o,u,d)}function _p(a,n,i,o,d,u){J8(a,n);var f=(n.flags&128)!==0;if(!o&&!f)return d&&_4(n,i,!1),_1(a,n,u);o=n.stateNode,mS.current=n;var h=f&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,a!==null&&f?(n.child=tc(n,a.child,null,u),n.child=tc(n,null,h,u)):Vn(a,n,h,u),n.memoizedState=o.state,d&&_4(n,i,!0),n.child}function X8(a){var n=a.stateNode;n.pendingContext?F4(a,n.pendingContext,n.pendingContext!==n.context):n.context&&F4(a,n.context,!1),em(a,n.containerInfo)}function X4(a,n,i,o,d){return ec(),V3(d),n.flags|=256,Vn(a,n,i,o),n.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Op(a){return{baseLanes:a,cachePool:null,transitions:null}}function Z8(a,n,i){var o=n.pendingProps,d=ks.current,u=!1,f=(n.flags&128)!==0,h;if((h=f)||(h=a!==null&&a.memoizedState===null?!1:(d&2)!==0),h?(u=!0,n.flags&=-129):(a===null||a.memoizedState!==null)&&(d|=1),Ya(ks,d&1),a===null)return Bp(n),a=n.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(n.mode&1?a.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(f=o.children,a=o.fallback,u?(o=n.mode,u=n.child,f={mode:"hidden",children:f},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=Au(f,o,0,null),a=Xo(a,o,i,null),u.return=n,a.return=n,u.sibling=a,n.child=u,n.child.memoizedState=Op(i),n.memoizedState=Pp,a):lm(n,f));if(d=a.memoizedState,d!==null&&(h=d.dehydrated,h!==null))return xS(a,n,f,o,h,d,i);if(u){u=o.fallback,f=n.mode,d=a.child,h=d.sibling;var p={mode:"hidden",children:o.children};return!(f&1)&&n.child!==d?(o=n.child,o.childLanes=0,o.pendingProps=p,n.deletions=null):(o=uo(d,p),o.subtreeFlags=d.subtreeFlags&14680064),h!==null?u=uo(h,u):(u=Xo(u,f,i,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,f=a.child.memoizedState,f=f===null?Op(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=a.childLanes&~i,n.memoizedState=Pp,o}return u=a.child,a=u.sibling,o=uo(u,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=i),o.return=n,o.sibling=null,a!==null&&(i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)),n.child=o,n.memoizedState=null,o}function lm(a,n){return n=Au({mode:"visible",children:n},a.mode,0,null),n.return=a,a.child=n}function O2(a,n,i,o){return o!==null&&V3(o),tc(n,a.child,null,i),a=lm(n,n.pendingProps.children),a.flags|=2,n.memoizedState=null,a}function xS(a,n,i,o,d,u,f){if(i)return n.flags&256?(n.flags&=-257,o=Zf(Error(ot(422))),O2(a,n,f,o)):n.memoizedState!==null?(n.child=a.child,n.flags|=128,null):(u=o.fallback,d=n.mode,o=Au({mode:"visible",children:o.children},d,0,null),u=Xo(u,d,f,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,n.mode&1&&tc(n,a.child,null,f),n.child.memoizedState=Op(f),n.memoizedState=Pp,u);if(!(n.mode&1))return O2(a,n,f,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var h=o.dgst;return o=h,u=Error(ot(419)),o=Zf(u,o,void 0),O2(a,n,f,o)}if(h=(f&a.childLanes)!==0,si||h){if(o=pn,o!==null){switch(f&-f){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(o.suspendedLanes|f)?0:d,d!==0&&d!==u.retryLane&&(u.retryLane=d,F1(a,d),Yi(o,a,d,-1))}return pm(),o=Zf(Error(ot(421))),O2(a,n,f,o)}return d.data==="$?"?(n.flags|=128,n.child=a.child,n=IS.bind(null,a),d._reactRetry=n,null):(a=u.treeContext,bi=io(d.nextSibling),yi=n,us=!0,Gi=null,a!==null&&(Ni[Si++]=C1,Ni[Si++]=I1,Ni[Si++]=al,C1=a.id,I1=a.overflow,al=n),n=lm(n,o.children),n.flags|=4096,n)}function Z4(a,n,i){a.lanes|=n;var o=a.alternate;o!==null&&(o.lanes|=n),Dp(a.return,n,i)}function eh(a,n,i,o,d){var u=a.memoizedState;u===null?a.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=i,u.tailMode=d)}function e5(a,n,i){var o=n.pendingProps,d=o.revealOrder,u=o.tail;if(Vn(a,n,o.children,i),o=ks.current,o&2)o=o&1|2,n.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=n.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Z4(a,i,n);else if(a.tag===19)Z4(a,i,n);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o&=1}if(Ya(ks,o),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)a=i.alternate,a!==null&&_d(a)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),eh(n,!1,d,i,u);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(a=d.alternate,a!==null&&_d(a)===null){n.child=d;break}a=d.sibling,d.sibling=i,i=d,d=a}eh(n,!0,i,null,u);break;case"together":eh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ld(a,n){!(n.mode&1)&&a!==null&&(a.alternate=null,n.alternate=null,n.flags|=2)}function _1(a,n,i){if(a!==null&&(n.dependencies=a.dependencies),nl|=n.lanes,!(i&n.childLanes))return null;if(a!==null&&n.child!==a.child)throw Error(ot(153));if(n.child!==null){for(a=n.child,i=uo(a,a.pendingProps),n.child=i,i.return=n;a.sibling!==null;)a=a.sibling,i=i.sibling=uo(a,a.pendingProps),i.return=n;i.sibling=null}return n.child}function vS(a,n,i){switch(n.tag){case 3:X8(n),ec();break;case 5:S8(n);break;case 1:ii(n.type)&&Bd(n);break;case 4:em(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,d=n.memoizedProps.value;Ya(Rd,o._currentValue),o._currentValue=d;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Ya(ks,ks.current&1),n.flags|=128,null):i&n.child.childLanes?Z8(a,n,i):(Ya(ks,ks.current&1),a=_1(a,n,i),a!==null?a.sibling:null);Ya(ks,ks.current&1);break;case 19:if(o=(i&n.childLanes)!==0,a.flags&128){if(o)return e5(a,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ya(ks,ks.current),o)break;return null;case 22:case 23:return n.lanes=0,W8(a,n,i)}return _1(a,n,i)}var t5,Up,r5,a5;t5=function(a,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)a.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Up=function(){};r5=function(a,n,i,o){var d=a.memoizedProps;if(d!==o){a=n.stateNode,qo(p1.current);var u=null;switch(i){case"input":d=op(a,d),o=op(a,o),u=[];break;case"select":d=Ns({},d,{value:void 0}),o=Ns({},o,{value:void 0}),u=[];break;case"textarea":d=dp(a,d),o=dp(a,o),u=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(a.onclick=Cd)}fp(i,o);var f;i=null;for(m in d)if(!o.hasOwnProperty(m)&&d.hasOwnProperty(m)&&d[m]!=null)if(m==="style"){var h=d[m];for(f in h)h.hasOwnProperty(f)&&(i||(i={}),i[f]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(N0.hasOwnProperty(m)?u||(u=[]):(u=u||[]).push(m,null));for(m in o){var p=o[m];if(h=d!=null?d[m]:void 0,o.hasOwnProperty(m)&&p!==h&&(p!=null||h!=null))if(m==="style")if(h){for(f in h)!h.hasOwnProperty(f)||p&&p.hasOwnProperty(f)||(i||(i={}),i[f]="");for(f in p)p.hasOwnProperty(f)&&h[f]!==p[f]&&(i||(i={}),i[f]=p[f])}else i||(u||(u=[]),u.push(m,i)),i=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(u=u||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(u=u||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(N0.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&as("scroll",a),u||h===p||(u=[])):(u=u||[]).push(m,p))}i&&(u=u||[]).push("style",i);var m=u;(n.updateQueue=m)&&(n.flags|=4)}};a5=function(a,n,i,o){i!==o&&(n.flags|=4)};function s0(a,n){if(!us)switch(a.tailMode){case"hidden":n=a.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?a.tail=null:i.sibling=null;break;case"collapsed":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||a.tail===null?a.tail=null:a.tail.sibling=null:o.sibling=null}}function Fn(a){var n=a.alternate!==null&&a.alternate.child===a.child,i=0,o=0;if(n)for(var d=a.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=a,d=d.sibling;else for(d=a.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=a,d=d.sibling;return a.subtreeFlags|=o,a.childLanes=i,n}function gS(a,n,i){var o=n.pendingProps;switch(Y3(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(n),null;case 1:return ii(n.type)&&Id(),Fn(n),null;case 3:return o=n.stateNode,rc(),ss(ni),ss(zn),rm(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(_2(n)?n.flags|=4:a===null||a.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Gi!==null&&(Yp(Gi),Gi=null))),Up(a,n),Fn(n),null;case 5:tm(n);var d=qo(P0.current);if(i=n.type,a!==null&&n.stateNode!=null)r5(a,n,i,o,d),a.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(ot(166));return Fn(n),null}if(a=qo(p1.current),_2(n)){o=n.stateNode,i=n.type;var u=n.memoizedProps;switch(o[u1]=n,o[F0]=u,a=(n.mode&1)!==0,i){case"dialog":as("cancel",o),as("close",o);break;case"iframe":case"object":case"embed":as("load",o);break;case"video":case"audio":for(d=0;d<u0.length;d++)as(u0[d],o);break;case"source":as("error",o);break;case"img":case"image":case"link":as("error",o),as("load",o);break;case"details":as("toggle",o);break;case"input":l4(o,u),as("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},as("invalid",o);break;case"textarea":d4(o,u),as("invalid",o)}fp(i,u),d=null;for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];f==="children"?typeof h=="string"?o.textContent!==h&&(u.suppressHydrationWarning!==!0&&F2(o.textContent,h,a),d=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(u.suppressHydrationWarning!==!0&&F2(o.textContent,h,a),d=["children",""+h]):N0.hasOwnProperty(f)&&h!=null&&f==="onScroll"&&as("scroll",o)}switch(i){case"input":E2(o),c4(o,u,!0);break;case"textarea":E2(o),u4(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Cd)}o=d,n.updateQueue=o,o!==null&&(n.flags|=4)}else{f=d.nodeType===9?d:d.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=D6(i)),a==="http://www.w3.org/1999/xhtml"?i==="script"?(a=f.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof o.is=="string"?a=f.createElement(i,{is:o.is}):(a=f.createElement(i),i==="select"&&(f=a,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):a=f.createElementNS(a,i),a[u1]=n,a[F0]=o,t5(a,n,!1,!1),n.stateNode=a;e:{switch(f=hp(i,o),i){case"dialog":as("cancel",a),as("close",a),d=o;break;case"iframe":case"object":case"embed":as("load",a),d=o;break;case"video":case"audio":for(d=0;d<u0.length;d++)as(u0[d],a);d=o;break;case"source":as("error",a),d=o;break;case"img":case"image":case"link":as("error",a),as("load",a),d=o;break;case"details":as("toggle",a),d=o;break;case"input":l4(a,o),d=op(a,o),as("invalid",a);break;case"option":d=o;break;case"select":a._wrapperState={wasMultiple:!!o.multiple},d=Ns({},o,{value:void 0}),as("invalid",a);break;case"textarea":d4(a,o),d=dp(a,o),as("invalid",a);break;default:d=o}fp(i,d),h=d;for(u in h)if(h.hasOwnProperty(u)){var p=h[u];u==="style"?M6(a,p):u==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&T6(a,p)):u==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&S0(a,p):typeof p=="number"&&S0(a,""+p):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(N0.hasOwnProperty(u)?p!=null&&u==="onScroll"&&as("scroll",a):p!=null&&T3(a,u,p,f))}switch(i){case"input":E2(a),c4(a,o,!1);break;case"textarea":E2(a),u4(a);break;case"option":o.value!=null&&a.setAttribute("value",""+po(o.value));break;case"select":a.multiple=!!o.multiple,u=o.value,u!=null?Ql(a,!!o.multiple,u,!1):o.defaultValue!=null&&Ql(a,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(a.onclick=Cd)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Fn(n),null;case 6:if(a&&n.stateNode!=null)a5(a,n,a.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(ot(166));if(i=qo(P0.current),qo(p1.current),_2(n)){if(o=n.stateNode,i=n.memoizedProps,o[u1]=n,(u=o.nodeValue!==i)&&(a=yi,a!==null))switch(a.tag){case 3:F2(o.nodeValue,i,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&F2(o.nodeValue,i,(a.mode&1)!==0)}u&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[u1]=n,n.stateNode=o}return Fn(n),null;case 13:if(ss(ks),o=n.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(us&&bi!==null&&n.mode&1&&!(n.flags&128))w8(),ec(),n.flags|=98560,u=!1;else if(u=_2(n),o!==null&&o.dehydrated!==null){if(a===null){if(!u)throw Error(ot(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ot(317));u[u1]=n}else ec(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Fn(n),u=!1}else Gi!==null&&(Yp(Gi),Gi=null),u=!0;if(!u)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(o=o!==null,o!==(a!==null&&a.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(a===null||ks.current&1?en===0&&(en=3):pm())),n.updateQueue!==null&&(n.flags|=4),Fn(n),null);case 4:return rc(),Up(a,n),a===null&&R0(n.stateNode.containerInfo),Fn(n),null;case 10:return J3(n.type._context),Fn(n),null;case 17:return ii(n.type)&&Id(),Fn(n),null;case 19:if(ss(ks),u=n.memoizedState,u===null)return Fn(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)s0(u,!1);else{if(en!==0||a!==null&&a.flags&128)for(a=n.child;a!==null;){if(f=_d(a),f!==null){for(n.flags|=128,s0(u,!1),o=f.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)u=i,a=o,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=a,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,a=f.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i=i.sibling;return Ya(ks,ks.current&1|2),n.child}a=a.sibling}u.tail!==null&&_s()>sc&&(n.flags|=128,o=!0,s0(u,!1),n.lanes=4194304)}else{if(!o)if(a=_d(f),a!==null){if(n.flags|=128,o=!0,i=a.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),s0(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!us)return Fn(n),null}else 2*_s()-u.renderingStartTime>sc&&i!==1073741824&&(n.flags|=128,o=!0,s0(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(i=u.last,i!==null?i.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=_s(),n.sibling=null,i=ks.current,Ya(ks,o?i&1|2:i&1),n):(Fn(n),null);case 22:case 23:return hm(),o=n.memoizedState!==null,a!==null&&a.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?vi&1073741824&&(Fn(n),n.subtreeFlags&6&&(n.flags|=8192)):Fn(n),null;case 24:return null;case 25:return null}throw Error(ot(156,n.tag))}function bS(a,n){switch(Y3(n),n.tag){case 1:return ii(n.type)&&Id(),a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 3:return rc(),ss(ni),ss(zn),rm(),a=n.flags,a&65536&&!(a&128)?(n.flags=a&-65537|128,n):null;case 5:return tm(n),null;case 13:if(ss(ks),a=n.memoizedState,a!==null&&a.dehydrated!==null){if(n.alternate===null)throw Error(ot(340));ec()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 19:return ss(ks),null;case 4:return rc(),null;case 10:return J3(n.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var U2=!1,_n=!1,yS=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Ul(a,n){var i=a.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Cs(a,n,o)}else i.current=null}function zp(a,n,i){try{i()}catch(o){Cs(a,n,o)}}var eg=!1;function wS(a,n){if(kp=Nd,a=l8(),G3(a)){if("selectionStart"in a)var i={start:a.selectionStart,end:a.selectionEnd};else e:{i=(i=a.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var f=0,h=-1,p=-1,m=0,x=0,b=a,y=null;t:for(;;){for(var w;b!==i||d!==0&&b.nodeType!==3||(h=f+d),b!==u||o!==0&&b.nodeType!==3||(p=f+o),b.nodeType===3&&(f+=b.nodeValue.length),(w=b.firstChild)!==null;)y=b,b=w;for(;;){if(b===a)break t;if(y===i&&++m===d&&(h=f),y===u&&++x===o&&(p=f),(w=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=w}i=h===-1||p===-1?null:{start:h,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(jp={focusedElem:a,selectionRange:i},Nd=!1,Rt=n;Rt!==null;)if(n=Rt,a=n.child,(n.subtreeFlags&1028)!==0&&a!==null)a.return=n,Rt=a;else for(;Rt!==null;){n=Rt;try{var v=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var A=v.memoizedProps,k=v.memoizedState,E=n.stateNode,j=E.getSnapshotBeforeUpdate(n.elementType===n.type?A:Li(n.type,A),k);E.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(B){Cs(n,n.return,B)}if(a=n.sibling,a!==null){a.return=n.return,Rt=a;break}Rt=n.return}return v=eg,eg=!1,v}function A0(a,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var u=d.destroy;d.destroy=void 0,u!==void 0&&zp(n,i,u)}d=d.next}while(d!==o)}}function yu(a,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&a)===a){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function Lp(a){var n=a.ref;if(n!==null){var i=a.stateNode;switch(a.tag){case 5:a=i;break;default:a=i}typeof n=="function"?n(a):n.current=a}}function s5(a){var n=a.alternate;n!==null&&(a.alternate=null,s5(n)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(n=a.stateNode,n!==null&&(delete n[u1],delete n[F0],delete n[Ep],delete n[aS],delete n[sS])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function n5(a){return a.tag===5||a.tag===3||a.tag===4}function tg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||n5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Qp(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(a,n):i.insertBefore(a,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(a,i)):(n=i,n.appendChild(a)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Cd));else if(o!==4&&(a=a.child,a!==null))for(Qp(a,n,i),a=a.sibling;a!==null;)Qp(a,n,i),a=a.sibling}function Hp(a,n,i){var o=a.tag;if(o===5||o===6)a=a.stateNode,n?i.insertBefore(a,n):i.appendChild(a);else if(o!==4&&(a=a.child,a!==null))for(Hp(a,n,i),a=a.sibling;a!==null;)Hp(a,n,i),a=a.sibling}var jn=null,Hi=!1;function q1(a,n,i){for(i=i.child;i!==null;)i5(a,n,i),i=i.sibling}function i5(a,n,i){if(h1&&typeof h1.onCommitFiberUnmount=="function")try{h1.onCommitFiberUnmount(fu,i)}catch{}switch(i.tag){case 5:_n||Ul(i,n);case 6:var o=jn,d=Hi;jn=null,q1(a,n,i),jn=o,Hi=d,jn!==null&&(Hi?(a=jn,i=i.stateNode,a.nodeType===8?a.parentNode.removeChild(i):a.removeChild(i)):jn.removeChild(i.stateNode));break;case 18:jn!==null&&(Hi?(a=jn,i=i.stateNode,a.nodeType===8?Yf(a.parentNode,i):a.nodeType===1&&Yf(a,i),B0(a)):Yf(jn,i.stateNode));break;case 4:o=jn,d=Hi,jn=i.stateNode.containerInfo,Hi=!0,q1(a,n,i),jn=o,Hi=d;break;case 0:case 11:case 14:case 15:if(!_n&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var u=d,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&zp(i,n,f),d=d.next}while(d!==o)}q1(a,n,i);break;case 1:if(!_n&&(Ul(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){Cs(i,n,h)}q1(a,n,i);break;case 21:q1(a,n,i);break;case 22:i.mode&1?(_n=(o=_n)||i.memoizedState!==null,q1(a,n,i),_n=o):q1(a,n,i);break;default:q1(a,n,i)}}function rg(a){var n=a.updateQueue;if(n!==null){a.updateQueue=null;var i=a.stateNode;i===null&&(i=a.stateNode=new yS),n.forEach(function(o){var d=BS.bind(null,a,o);i.has(o)||(i.add(o),o.then(d,d))})}}function Ui(a,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var u=a,f=n,h=f;e:for(;h!==null;){switch(h.tag){case 5:jn=h.stateNode,Hi=!1;break e;case 3:jn=h.stateNode.containerInfo,Hi=!0;break e;case 4:jn=h.stateNode.containerInfo,Hi=!0;break e}h=h.return}if(jn===null)throw Error(ot(160));i5(u,f,d),jn=null,Hi=!1;var p=d.alternate;p!==null&&(p.return=null),d.return=null}catch(m){Cs(d,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)o5(n,a),n=n.sibling}function o5(a,n){var i=a.alternate,o=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ui(n,a),o1(a),o&4){try{A0(3,a,a.return),yu(3,a)}catch(A){Cs(a,a.return,A)}try{A0(5,a,a.return)}catch(A){Cs(a,a.return,A)}}break;case 1:Ui(n,a),o1(a),o&512&&i!==null&&Ul(i,i.return);break;case 5:if(Ui(n,a),o1(a),o&512&&i!==null&&Ul(i,i.return),a.flags&32){var d=a.stateNode;try{S0(d,"")}catch(A){Cs(a,a.return,A)}}if(o&4&&(d=a.stateNode,d!=null)){var u=a.memoizedProps,f=i!==null?i.memoizedProps:u,h=a.type,p=a.updateQueue;if(a.updateQueue=null,p!==null)try{h==="input"&&u.type==="radio"&&u.name!=null&&I6(d,u),hp(h,f);var m=hp(h,u);for(f=0;f<p.length;f+=2){var x=p[f],b=p[f+1];x==="style"?M6(d,b):x==="dangerouslySetInnerHTML"?T6(d,b):x==="children"?S0(d,b):T3(d,x,b,m)}switch(h){case"input":lp(d,u);break;case"textarea":B6(d,u);break;case"select":var y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!u.multiple;var w=u.value;w!=null?Ql(d,!!u.multiple,w,!1):y!==!!u.multiple&&(u.defaultValue!=null?Ql(d,!!u.multiple,u.defaultValue,!0):Ql(d,!!u.multiple,u.multiple?[]:"",!1))}d[F0]=u}catch(A){Cs(a,a.return,A)}}break;case 6:if(Ui(n,a),o1(a),o&4){if(a.stateNode===null)throw Error(ot(162));d=a.stateNode,u=a.memoizedProps;try{d.nodeValue=u}catch(A){Cs(a,a.return,A)}}break;case 3:if(Ui(n,a),o1(a),o&4&&i!==null&&i.memoizedState.isDehydrated)try{B0(n.containerInfo)}catch(A){Cs(a,a.return,A)}break;case 4:Ui(n,a),o1(a);break;case 13:Ui(n,a),o1(a),d=a.child,d.flags&8192&&(u=d.memoizedState!==null,d.stateNode.isHidden=u,!u||d.alternate!==null&&d.alternate.memoizedState!==null||(um=_s())),o&4&&rg(a);break;case 22:if(x=i!==null&&i.memoizedState!==null,a.mode&1?(_n=(m=_n)||x,Ui(n,a),_n=m):Ui(n,a),o1(a),o&8192){if(m=a.memoizedState!==null,(a.stateNode.isHidden=m)&&!x&&a.mode&1)for(Rt=a,x=a.child;x!==null;){for(b=Rt=x;Rt!==null;){switch(y=Rt,w=y.child,y.tag){case 0:case 11:case 14:case 15:A0(4,y,y.return);break;case 1:Ul(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){o=y,i=y.return;try{n=o,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(A){Cs(o,i,A)}}break;case 5:Ul(y,y.return);break;case 22:if(y.memoizedState!==null){sg(b);continue}}w!==null?(w.return=y,Rt=w):sg(b)}x=x.sibling}e:for(x=null,b=a;;){if(b.tag===5){if(x===null){x=b;try{d=b.stateNode,m?(u=d.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(h=b.stateNode,p=b.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=R6("display",f))}catch(A){Cs(a,a.return,A)}}}else if(b.tag===6){if(x===null)try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(A){Cs(a,a.return,A)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===a)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;x===b&&(x=null),b=b.return}x===b&&(x=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Ui(n,a),o1(a),o&4&&rg(a);break;case 21:break;default:Ui(n,a),o1(a)}}function o1(a){var n=a.flags;if(n&2){try{e:{for(var i=a.return;i!==null;){if(n5(i)){var o=i;break e}i=i.return}throw Error(ot(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(S0(d,""),o.flags&=-33);var u=tg(a);Hp(a,u,d);break;case 3:case 4:var f=o.stateNode.containerInfo,h=tg(a);Qp(a,h,f);break;default:throw Error(ot(161))}}catch(p){Cs(a,a.return,p)}a.flags&=-3}n&4096&&(a.flags&=-4097)}function AS(a,n,i){Rt=a,l5(a)}function l5(a,n,i){for(var o=(a.mode&1)!==0;Rt!==null;){var d=Rt,u=d.child;if(d.tag===22&&o){var f=d.memoizedState!==null||U2;if(!f){var h=d.alternate,p=h!==null&&h.memoizedState!==null||_n;h=U2;var m=_n;if(U2=f,(_n=p)&&!m)for(Rt=d;Rt!==null;)f=Rt,p=f.child,f.tag===22&&f.memoizedState!==null?ng(d):p!==null?(p.return=f,Rt=p):ng(d);for(;u!==null;)Rt=u,l5(u),u=u.sibling;Rt=d,U2=h,_n=m}ag(a)}else d.subtreeFlags&8772&&u!==null?(u.return=d,Rt=u):ag(a)}}function ag(a){for(;Rt!==null;){var n=Rt;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:_n||yu(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!_n)if(i===null)o.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Li(n.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&L4(n,u,o);break;case 3:var f=n.updateQueue;if(f!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}L4(n,f,i)}break;case 5:var h=n.stateNode;if(i===null&&n.flags&4){i=h;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var b=x.dehydrated;b!==null&&B0(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}_n||n.flags&512&&Lp(n)}catch(y){Cs(n,n.return,y)}}if(n===a){Rt=null;break}if(i=n.sibling,i!==null){i.return=n.return,Rt=i;break}Rt=n.return}}function sg(a){for(;Rt!==null;){var n=Rt;if(n===a){Rt=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Rt=i;break}Rt=n.return}}function ng(a){for(;Rt!==null;){var n=Rt;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{yu(4,n)}catch(p){Cs(n,i,p)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var d=n.return;try{o.componentDidMount()}catch(p){Cs(n,d,p)}}var u=n.return;try{Lp(n)}catch(p){Cs(n,u,p)}break;case 5:var f=n.return;try{Lp(n)}catch(p){Cs(n,f,p)}}}catch(p){Cs(n,n.return,p)}if(n===a){Rt=null;break}var h=n.sibling;if(h!==null){h.return=n.return,Rt=h;break}Rt=n.return}}var kS=Math.ceil,Ud=O1.ReactCurrentDispatcher,cm=O1.ReactCurrentOwner,Ci=O1.ReactCurrentBatchConfig,oa=0,pn=null,Ws=null,Sn=0,vi=0,zl=bo(0),en=0,L0=null,nl=0,wu=0,dm=0,k0=null,ti=null,um=0,sc=1/0,S1=null,zd=!1,$p=null,lo=null,z2=!1,to=null,Ld=0,j0=0,Gp=null,cd=-1,dd=0;function Kn(){return oa&6?_s():cd!==-1?cd:cd=_s()}function co(a){return a.mode&1?oa&2&&Sn!==0?Sn&-Sn:iS.transition!==null?(dd===0&&(dd=q6()),dd):(a=Sa,a!==0||(a=window.event,a=a===void 0?16:Z6(a.type)),a):1}function Yi(a,n,i,o){if(50<j0)throw j0=0,Gp=null,Error(ot(185));X0(a,i,o),(!(oa&2)||a!==pn)&&(a===pn&&(!(oa&2)&&(wu|=i),en===4&&W1(a,Sn)),oi(a,o),i===1&&oa===0&&!(n.mode&1)&&(sc=_s()+500,vu&&yo()))}function oi(a,n){var i=a.callbackNode;iN(a,n);var o=jd(a,a===pn?Sn:0);if(o===0)i!==null&&p4(i),a.callbackNode=null,a.callbackPriority=0;else if(n=o&-o,a.callbackPriority!==n){if(i!=null&&p4(i),n===1)a.tag===0?nS(ig.bind(null,a)):g8(ig.bind(null,a)),tS(function(){!(oa&6)&&yo()}),i=null;else{switch(Y6(o)){case 1:i=P3;break;case 4:i=$6;break;case 16:i=kd;break;case 536870912:i=G6;break;default:i=kd}i=x5(i,c5.bind(null,a))}a.callbackPriority=n,a.callbackNode=i}}function c5(a,n){if(cd=-1,dd=0,oa&6)throw Error(ot(327));var i=a.callbackNode;if(Yl()&&a.callbackNode!==i)return null;var o=jd(a,a===pn?Sn:0);if(o===0)return null;if(o&30||o&a.expiredLanes||n)n=Qd(a,o);else{n=o;var d=oa;oa|=2;var u=u5();(pn!==a||Sn!==n)&&(S1=null,sc=_s()+500,Jo(a,n));do try{SS();break}catch(h){d5(a,h)}while(!0);W3(),Ud.current=u,oa=d,Ws!==null?n=0:(pn=null,Sn=0,n=en)}if(n!==0){if(n===2&&(d=gp(a),d!==0&&(o=d,n=qp(a,d))),n===1)throw i=L0,Jo(a,0),W1(a,o),oi(a,_s()),i;if(n===6)W1(a,o);else{if(d=a.current.alternate,!(o&30)&&!jS(d)&&(n=Qd(a,o),n===2&&(u=gp(a),u!==0&&(o=u,n=qp(a,u))),n===1))throw i=L0,Jo(a,0),W1(a,o),oi(a,_s()),i;switch(a.finishedWork=d,a.finishedLanes=o,n){case 0:case 1:throw Error(ot(345));case 2:Oo(a,ti,S1);break;case 3:if(W1(a,o),(o&130023424)===o&&(n=um+500-_s(),10<n)){if(jd(a,0)!==0)break;if(d=a.suspendedLanes,(d&o)!==o){Kn(),a.pingedLanes|=a.suspendedLanes&d;break}a.timeoutHandle=Sp(Oo.bind(null,a,ti,S1),n);break}Oo(a,ti,S1);break;case 4:if(W1(a,o),(o&4194240)===o)break;for(n=a.eventTimes,d=-1;0<o;){var f=31-qi(o);u=1<<f,f=n[f],f>d&&(d=f),o&=~u}if(o=d,o=_s()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*kS(o/1960))-o,10<o){a.timeoutHandle=Sp(Oo.bind(null,a,ti,S1),o);break}Oo(a,ti,S1);break;case 5:Oo(a,ti,S1);break;default:throw Error(ot(329))}}}return oi(a,_s()),a.callbackNode===i?c5.bind(null,a):null}function qp(a,n){var i=k0;return a.current.memoizedState.isDehydrated&&(Jo(a,n).flags|=256),a=Qd(a,n),a!==2&&(n=ti,ti=i,n!==null&&Yp(n)),a}function Yp(a){ti===null?ti=a:ti.push.apply(ti,a)}function jS(a){for(var n=a;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],u=d.getSnapshot;d=d.value;try{if(!Vi(u(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function W1(a,n){for(n&=~dm,n&=~wu,a.suspendedLanes|=n,a.pingedLanes&=~n,a=a.expirationTimes;0<n;){var i=31-qi(n),o=1<<i;a[i]=-1,n&=~o}}function ig(a){if(oa&6)throw Error(ot(327));Yl();var n=jd(a,0);if(!(n&1))return oi(a,_s()),null;var i=Qd(a,n);if(a.tag!==0&&i===2){var o=gp(a);o!==0&&(n=o,i=qp(a,o))}if(i===1)throw i=L0,Jo(a,0),W1(a,n),oi(a,_s()),i;if(i===6)throw Error(ot(345));return a.finishedWork=a.current.alternate,a.finishedLanes=n,Oo(a,ti,S1),oi(a,_s()),null}function fm(a,n){var i=oa;oa|=1;try{return a(n)}finally{oa=i,oa===0&&(sc=_s()+500,vu&&yo())}}function il(a){to!==null&&to.tag===0&&!(oa&6)&&Yl();var n=oa;oa|=1;var i=Ci.transition,o=Sa;try{if(Ci.transition=null,Sa=1,a)return a()}finally{Sa=o,Ci.transition=i,oa=n,!(oa&6)&&yo()}}function hm(){vi=zl.current,ss(zl)}function Jo(a,n){a.finishedWork=null,a.finishedLanes=0;var i=a.timeoutHandle;if(i!==-1&&(a.timeoutHandle=-1,eS(i)),Ws!==null)for(i=Ws.return;i!==null;){var o=i;switch(Y3(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Id();break;case 3:rc(),ss(ni),ss(zn),rm();break;case 5:tm(o);break;case 4:rc();break;case 13:ss(ks);break;case 19:ss(ks);break;case 10:J3(o.type._context);break;case 22:case 23:hm()}i=i.return}if(pn=a,Ws=a=uo(a.current,null),Sn=vi=n,en=0,L0=null,dm=wu=nl=0,ti=k0=null,Go!==null){for(n=0;n<Go.length;n++)if(i=Go[n],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,u=i.pending;if(u!==null){var f=u.next;u.next=d,o.next=f}i.pending=o}Go=null}return a}function d5(a,n){do{var i=Ws;try{if(W3(),id.current=Od,Pd){for(var o=js.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Pd=!1}if(sl=0,fn=Zs=js=null,w0=!1,O0=0,cm.current=null,i===null||i.return===null){en=1,L0=n,Ws=null;break}e:{var u=a,f=i.return,h=i,p=n;if(n=Sn,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,x=h,b=x.tag;if(!(x.mode&1)&&(b===0||b===11||b===15)){var y=x.alternate;y?(x.updateQueue=y.updateQueue,x.memoizedState=y.memoizedState,x.lanes=y.lanes):(x.updateQueue=null,x.memoizedState=null)}var w=Y4(f);if(w!==null){w.flags&=-257,V4(w,f,h,u,n),w.mode&1&&q4(u,m,n),n=w,p=m;var v=n.updateQueue;if(v===null){var A=new Set;A.add(p),n.updateQueue=A}else v.add(p);break e}else{if(!(n&1)){q4(u,m,n),pm();break e}p=Error(ot(426))}}else if(us&&h.mode&1){var k=Y4(f);if(k!==null){!(k.flags&65536)&&(k.flags|=256),V4(k,f,h,u,n),V3(ac(p,h));break e}}u=p=ac(p,h),en!==4&&(en=2),k0===null?k0=[u]:k0.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var E=Y8(u,p,n);z4(u,E);break e;case 1:h=p;var j=u.type,N=u.stateNode;if(!(u.flags&128)&&(typeof j.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(lo===null||!lo.has(N)))){u.flags|=65536,n&=-n,u.lanes|=n;var B=V8(u,h,n);z4(u,B);break e}}u=u.return}while(u!==null)}h5(i)}catch(I){n=I,Ws===i&&i!==null&&(Ws=i=i.return);continue}break}while(!0)}function u5(){var a=Ud.current;return Ud.current=Od,a===null?Od:a}function pm(){(en===0||en===3||en===2)&&(en=4),pn===null||!(nl&268435455)&&!(wu&268435455)||W1(pn,Sn)}function Qd(a,n){var i=oa;oa|=2;var o=u5();(pn!==a||Sn!==n)&&(S1=null,Jo(a,n));do try{NS();break}catch(d){d5(a,d)}while(!0);if(W3(),oa=i,Ud.current=o,Ws!==null)throw Error(ot(261));return pn=null,Sn=0,en}function NS(){for(;Ws!==null;)f5(Ws)}function SS(){for(;Ws!==null&&!Jj();)f5(Ws)}function f5(a){var n=m5(a.alternate,a,vi);a.memoizedProps=a.pendingProps,n===null?h5(a):Ws=n,cm.current=null}function h5(a){var n=a;do{var i=n.alternate;if(a=n.return,n.flags&32768){if(i=bS(i,n),i!==null){i.flags&=32767,Ws=i;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{en=6,Ws=null;return}}else if(i=gS(i,n,vi),i!==null){Ws=i;return}if(n=n.sibling,n!==null){Ws=n;return}Ws=n=a}while(n!==null);en===0&&(en=5)}function Oo(a,n,i){var o=Sa,d=Ci.transition;try{Ci.transition=null,Sa=1,ES(a,n,i,o)}finally{Ci.transition=d,Sa=o}return null}function ES(a,n,i,o){do Yl();while(to!==null);if(oa&6)throw Error(ot(327));i=a.finishedWork;var d=a.finishedLanes;if(i===null)return null;if(a.finishedWork=null,a.finishedLanes=0,i===a.current)throw Error(ot(177));a.callbackNode=null,a.callbackPriority=0;var u=i.lanes|i.childLanes;if(oN(a,u),a===pn&&(Ws=pn=null,Sn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||z2||(z2=!0,x5(kd,function(){return Yl(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=Ci.transition,Ci.transition=null;var f=Sa;Sa=1;var h=oa;oa|=4,cm.current=null,wS(a,i),o5(i,a),YN(jp),Nd=!!kp,jp=kp=null,a.current=i,AS(i),Xj(),oa=h,Sa=f,Ci.transition=u}else a.current=i;if(z2&&(z2=!1,to=a,Ld=d),u=a.pendingLanes,u===0&&(lo=null),tN(i.stateNode),oi(a,_s()),n!==null)for(o=a.onRecoverableError,i=0;i<n.length;i++)d=n[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(zd)throw zd=!1,a=$p,$p=null,a;return Ld&1&&a.tag!==0&&Yl(),u=a.pendingLanes,u&1?a===Gp?j0++:(j0=0,Gp=a):j0=0,yo(),null}function Yl(){if(to!==null){var a=Y6(Ld),n=Ci.transition,i=Sa;try{if(Ci.transition=null,Sa=16>a?16:a,to===null)var o=!1;else{if(a=to,to=null,Ld=0,oa&6)throw Error(ot(331));var d=oa;for(oa|=4,Rt=a.current;Rt!==null;){var u=Rt,f=u.child;if(Rt.flags&16){var h=u.deletions;if(h!==null){for(var p=0;p<h.length;p++){var m=h[p];for(Rt=m;Rt!==null;){var x=Rt;switch(x.tag){case 0:case 11:case 15:A0(8,x,u)}var b=x.child;if(b!==null)b.return=x,Rt=b;else for(;Rt!==null;){x=Rt;var y=x.sibling,w=x.return;if(s5(x),x===m){Rt=null;break}if(y!==null){y.return=w,Rt=y;break}Rt=w}}}var v=u.alternate;if(v!==null){var A=v.child;if(A!==null){v.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}Rt=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,Rt=f;else e:for(;Rt!==null;){if(u=Rt,u.flags&2048)switch(u.tag){case 0:case 11:case 15:A0(9,u,u.return)}var E=u.sibling;if(E!==null){E.return=u.return,Rt=E;break e}Rt=u.return}}var j=a.current;for(Rt=j;Rt!==null;){f=Rt;var N=f.child;if(f.subtreeFlags&2064&&N!==null)N.return=f,Rt=N;else e:for(f=j;Rt!==null;){if(h=Rt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:yu(9,h)}}catch(I){Cs(h,h.return,I)}if(h===f){Rt=null;break e}var B=h.sibling;if(B!==null){B.return=h.return,Rt=B;break e}Rt=h.return}}if(oa=d,yo(),h1&&typeof h1.onPostCommitFiberRoot=="function")try{h1.onPostCommitFiberRoot(fu,a)}catch{}o=!0}return o}finally{Sa=i,Ci.transition=n}}return!1}function og(a,n,i){n=ac(i,n),n=Y8(a,n,1),a=oo(a,n,1),n=Kn(),a!==null&&(X0(a,1,n),oi(a,n))}function Cs(a,n,i){if(a.tag===3)og(a,a,i);else for(;n!==null;){if(n.tag===3){og(n,a,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(lo===null||!lo.has(o))){a=ac(i,a),a=V8(n,a,1),n=oo(n,a,1),a=Kn(),n!==null&&(X0(n,1,a),oi(n,a));break}}n=n.return}}function CS(a,n,i){var o=a.pingCache;o!==null&&o.delete(n),n=Kn(),a.pingedLanes|=a.suspendedLanes&i,pn===a&&(Sn&i)===i&&(en===4||en===3&&(Sn&130023424)===Sn&&500>_s()-um?Jo(a,0):dm|=i),oi(a,n)}function p5(a,n){n===0&&(a.mode&1?(n=B2,B2<<=1,!(B2&130023424)&&(B2=4194304)):n=1);var i=Kn();a=F1(a,n),a!==null&&(X0(a,n,i),oi(a,i))}function IS(a){var n=a.memoizedState,i=0;n!==null&&(i=n.retryLane),p5(a,i)}function BS(a,n){var i=0;switch(a.tag){case 13:var o=a.stateNode,d=a.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=a.stateNode;break;default:throw Error(ot(314))}o!==null&&o.delete(n),p5(a,i)}var m5;m5=function(a,n,i){if(a!==null)if(a.memoizedProps!==n.pendingProps||ni.current)si=!0;else{if(!(a.lanes&i)&&!(n.flags&128))return si=!1,vS(a,n,i);si=!!(a.flags&131072)}else si=!1,us&&n.flags&1048576&&b8(n,Td,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;ld(a,n),a=n.pendingProps;var d=Zl(n,zn.current);ql(n,i),d=sm(null,n,o,a,d,i);var u=nm();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ii(o)?(u=!0,Bd(n)):u=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Z3(n),d.updater=bu,n.stateNode=d,d._reactInternals=n,Rp(n,o,a,i),n=_p(null,n,o,!0,u,i)):(n.tag=0,us&&u&&q3(n),Vn(null,n,d,i),n=n.child),n;case 16:o=n.elementType;e:{switch(ld(a,n),a=n.pendingProps,d=o._init,o=d(o._payload),n.type=o,d=n.tag=TS(o),a=Li(o,a),d){case 0:n=Fp(null,n,o,a,i);break e;case 1:n=J4(null,n,o,a,i);break e;case 11:n=K4(null,n,o,a,i);break e;case 14:n=W4(null,n,o,Li(o.type,a),i);break e}throw Error(ot(306,o,""))}return n;case 0:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),Fp(a,n,o,d,i);case 1:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),J4(a,n,o,d,i);case 3:e:{if(X8(n),a===null)throw Error(ot(387));o=n.pendingProps,u=n.memoizedState,d=u.element,N8(a,n),Fd(n,o,null,i);var f=n.memoizedState;if(o=f.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){d=ac(Error(ot(423)),n),n=X4(a,n,o,i,d);break e}else if(o!==d){d=ac(Error(ot(424)),n),n=X4(a,n,o,i,d);break e}else for(bi=io(n.stateNode.containerInfo.firstChild),yi=n,us=!0,Gi=null,i=k8(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ec(),o===d){n=_1(a,n,i);break e}Vn(a,n,o,i)}n=n.child}return n;case 5:return S8(n),a===null&&Bp(n),o=n.type,d=n.pendingProps,u=a!==null?a.memoizedProps:null,f=d.children,Np(o,d)?f=null:u!==null&&Np(o,u)&&(n.flags|=32),J8(a,n),Vn(a,n,f,i),n.child;case 6:return a===null&&Bp(n),null;case 13:return Z8(a,n,i);case 4:return em(n,n.stateNode.containerInfo),o=n.pendingProps,a===null?n.child=tc(n,null,o,i):Vn(a,n,o,i),n.child;case 11:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),K4(a,n,o,d,i);case 7:return Vn(a,n,n.pendingProps,i),n.child;case 8:return Vn(a,n,n.pendingProps.children,i),n.child;case 12:return Vn(a,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,d=n.pendingProps,u=n.memoizedProps,f=d.value,Ya(Rd,o._currentValue),o._currentValue=f,u!==null)if(Vi(u.value,f)){if(u.children===d.children&&!ni.current){n=_1(a,n,i);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var h=u.dependencies;if(h!==null){f=u.child;for(var p=h.firstContext;p!==null;){if(p.context===o){if(u.tag===1){p=D1(-1,i&-i),p.tag=2;var m=u.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?p.next=p:(p.next=x.next,x.next=p),m.pending=p}}u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),Dp(u.return,i,n),h.lanes|=i;break}p=p.next}}else if(u.tag===10)f=u.type===n.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(ot(341));f.lanes|=i,h=f.alternate,h!==null&&(h.lanes|=i),Dp(f,i,n),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===n){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}Vn(a,n,d.children,i),n=n.child}return n;case 9:return d=n.type,o=n.pendingProps.children,ql(n,i),d=Ii(d),o=o(d),n.flags|=1,Vn(a,n,o,i),n.child;case 14:return o=n.type,d=Li(o,n.pendingProps),d=Li(o.type,d),W4(a,n,o,d,i);case 15:return K8(a,n,n.type,n.pendingProps,i);case 17:return o=n.type,d=n.pendingProps,d=n.elementType===o?d:Li(o,d),ld(a,n),n.tag=1,ii(o)?(a=!0,Bd(n)):a=!1,ql(n,i),q8(n,o,d),Rp(n,o,d,i),_p(null,n,o,!0,a,i);case 19:return e5(a,n,i);case 22:return W8(a,n,i)}throw Error(ot(156,n.tag))};function x5(a,n){return H6(a,n)}function DS(a,n,i,o){this.tag=a,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(a,n,i,o){return new DS(a,n,i,o)}function mm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function TS(a){if(typeof a=="function")return mm(a)?1:0;if(a!=null){if(a=a.$$typeof,a===M3)return 11;if(a===F3)return 14}return 2}function uo(a,n){var i=a.alternate;return i===null?(i=Ei(a.tag,n,a.key,a.mode),i.elementType=a.elementType,i.type=a.type,i.stateNode=a.stateNode,i.alternate=a,a.alternate=i):(i.pendingProps=n,i.type=a.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=a.flags&14680064,i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=a.sibling,i.index=a.index,i.ref=a.ref,i}function ud(a,n,i,o,d,u){var f=2;if(o=a,typeof a=="function")mm(a)&&(f=1);else if(typeof a=="string")f=5;else e:switch(a){case Bl:return Xo(i.children,d,u,n);case R3:f=8,d|=8;break;case ap:return a=Ei(12,i,n,d|2),a.elementType=ap,a.lanes=u,a;case sp:return a=Ei(13,i,n,d),a.elementType=sp,a.lanes=u,a;case np:return a=Ei(19,i,n,d),a.elementType=np,a.lanes=u,a;case S6:return Au(i,d,u,n);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j6:f=10;break e;case N6:f=9;break e;case M3:f=11;break e;case F3:f=14;break e;case Y1:f=16,o=null;break e}throw Error(ot(130,a==null?a:typeof a,""))}return n=Ei(f,i,n,d),n.elementType=a,n.type=o,n.lanes=u,n}function Xo(a,n,i,o){return a=Ei(7,a,o,n),a.lanes=i,a}function Au(a,n,i,o){return a=Ei(22,a,o,n),a.elementType=S6,a.lanes=i,a.stateNode={isHidden:!1},a}function th(a,n,i){return a=Ei(6,a,null,n),a.lanes=i,a}function rh(a,n,i){return n=Ei(4,a.children!==null?a.children:[],a.key,n),n.lanes=i,n.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},n}function RS(a,n,i,o,d){this.tag=n,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function xm(a,n,i,o,d,u,f,h,p){return a=new RS(a,n,i,h,p),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Ei(3,null,null,n),a.current=u,u.stateNode=a,u.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z3(u),a}function MS(a,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:o==null?null:""+o,children:a,containerInfo:n,implementation:i}}function v5(a){if(!a)return mo;a=a._reactInternals;e:{if(cl(a)!==a||a.tag!==1)throw Error(ot(170));var n=a;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ii(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ot(171))}if(a.tag===1){var i=a.type;if(ii(i))return v8(a,i,n)}return n}function g5(a,n,i,o,d,u,f,h,p){return a=xm(i,o,!0,a,d,u,f,h,p),a.context=v5(null),i=a.current,o=Kn(),d=co(i),u=D1(o,d),u.callback=n??null,oo(i,u,d),a.current.lanes=d,X0(a,d,o),oi(a,o),a}function ku(a,n,i,o){var d=n.current,u=Kn(),f=co(d);return i=v5(i),n.context===null?n.context=i:n.pendingContext=i,n=D1(u,f),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=oo(d,n,f),a!==null&&(Yi(a,d,f,u),nd(a,d,f)),f}function Hd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function lg(a,n){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var i=a.retryLane;a.retryLane=i!==0&&i<n?i:n}}function vm(a,n){lg(a,n),(a=a.alternate)&&lg(a,n)}function FS(){return null}var b5=typeof reportError=="function"?reportError:function(a){console.error(a)};function gm(a){this._internalRoot=a}ju.prototype.render=gm.prototype.render=function(a){var n=this._internalRoot;if(n===null)throw Error(ot(409));ku(a,n,null,null)};ju.prototype.unmount=gm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var n=a.containerInfo;il(function(){ku(null,a,null,null)}),n[M1]=null}};function ju(a){this._internalRoot=a}ju.prototype.unstable_scheduleHydration=function(a){if(a){var n=W6();a={blockedOn:null,target:a,priority:n};for(var i=0;i<K1.length&&n!==0&&n<K1[i].priority;i++);K1.splice(i,0,a),i===0&&X6(a)}};function bm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Nu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function cg(){}function _S(a,n,i,o,d){if(d){if(typeof o=="function"){var u=o;o=function(){var m=Hd(f);u.call(m)}}var f=g5(n,o,a,0,null,!1,!1,"",cg);return a._reactRootContainer=f,a[M1]=f.current,R0(a.nodeType===8?a.parentNode:a),il(),f}for(;d=a.lastChild;)a.removeChild(d);if(typeof o=="function"){var h=o;o=function(){var m=Hd(p);h.call(m)}}var p=xm(a,0,!1,null,null,!1,!1,"",cg);return a._reactRootContainer=p,a[M1]=p.current,R0(a.nodeType===8?a.parentNode:a),il(function(){ku(n,p,i,o)}),p}function Su(a,n,i,o,d){var u=i._reactRootContainer;if(u){var f=u;if(typeof d=="function"){var h=d;d=function(){var p=Hd(f);h.call(p)}}ku(n,f,a,d)}else f=_S(i,n,a,d,o);return Hd(f)}V6=function(a){switch(a.tag){case 3:var n=a.stateNode;if(n.current.memoizedState.isDehydrated){var i=d0(n.pendingLanes);i!==0&&(O3(n,i|1),oi(n,_s()),!(oa&6)&&(sc=_s()+500,yo()))}break;case 13:il(function(){var o=F1(a,1);if(o!==null){var d=Kn();Yi(o,a,1,d)}}),vm(a,1)}};U3=function(a){if(a.tag===13){var n=F1(a,134217728);if(n!==null){var i=Kn();Yi(n,a,134217728,i)}vm(a,134217728)}};K6=function(a){if(a.tag===13){var n=co(a),i=F1(a,n);if(i!==null){var o=Kn();Yi(i,a,n,o)}vm(a,n)}};W6=function(){return Sa};J6=function(a,n){var i=Sa;try{return Sa=a,n()}finally{Sa=i}};mp=function(a,n,i){switch(n){case"input":if(lp(a,i),n=i.name,i.type==="radio"&&n!=null){for(i=a;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==a&&o.form===a.form){var d=xu(o);if(!d)throw Error(ot(90));C6(o),lp(o,d)}}}break;case"textarea":B6(a,i);break;case"select":n=i.value,n!=null&&Ql(a,!!i.multiple,n,!1)}};P6=fm;O6=il;var PS={usingClientEntryPoint:!1,Events:[e2,Ml,xu,F6,_6,fm]},n0={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OS={bundleType:n0.bundleType,version:n0.version,rendererPackageName:n0.rendererPackageName,rendererConfig:n0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O1.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=L6(a),a===null?null:a.stateNode},findFiberByHostInstance:n0.findFiberByHostInstance||FS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var L2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!L2.isDisabled&&L2.supportsFiber)try{fu=L2.inject(OS),h1=L2}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PS;Ai.createPortal=function(a,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(n))throw Error(ot(200));return MS(a,n,null,i)};Ai.createRoot=function(a,n){if(!bm(a))throw Error(ot(299));var i=!1,o="",d=b5;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=xm(a,1,!1,null,null,i,!1,o,d),a[M1]=n.current,R0(a.nodeType===8?a.parentNode:a),new gm(n)};Ai.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var n=a._reactInternals;if(n===void 0)throw typeof a.render=="function"?Error(ot(188)):(a=Object.keys(a).join(","),Error(ot(268,a)));return a=L6(n),a=a===null?null:a.stateNode,a};Ai.flushSync=function(a){return il(a)};Ai.hydrate=function(a,n,i){if(!Nu(n))throw Error(ot(200));return Su(null,a,n,!0,i)};Ai.hydrateRoot=function(a,n,i){if(!bm(a))throw Error(ot(405));var o=i!=null&&i.hydratedSources||null,d=!1,u="",f=b5;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),n=g5(n,null,a,1,i??null,d,!1,u,f),a[M1]=n.current,R0(a),o)for(a=0;a<o.length;a++)i=o[a],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new ju(n)};Ai.render=function(a,n,i){if(!Nu(n))throw Error(ot(200));return Su(null,a,n,!1,i)};Ai.unmountComponentAtNode=function(a){if(!Nu(a))throw Error(ot(40));return a._reactRootContainer?(il(function(){Su(null,null,a,!1,function(){a._reactRootContainer=null,a[M1]=null})}),!0):!1};Ai.unstable_batchedUpdates=fm;Ai.unstable_renderSubtreeIntoContainer=function(a,n,i,o){if(!Nu(i))throw Error(ot(200));if(a==null||a._reactInternals===void 0)throw Error(ot(38));return Su(a,n,i,!1,o)};Ai.version="18.3.1-next-f1338f8080-20240426";function y5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y5)}catch(a){console.error(a)}}y5(),y6.exports=Ai;var US=y6.exports,dg=US;tp.createRoot=dg.createRoot,tp.hydrateRoot=dg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q0(){return Q0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},Q0.apply(this,arguments)}var ro;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(ro||(ro={}));const ug="popstate";function zS(a){a===void 0&&(a={});function n(o,d){let{pathname:u,search:f,hash:h}=o.location;return Vp("",{pathname:u,search:f,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:$d(d)}return QS(n,i,null,a)}function Os(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function ym(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function LS(){return Math.random().toString(36).substr(2,8)}function fg(a,n){return{usr:a.state,key:a.key,idx:n}}function Vp(a,n,i,o){return i===void 0&&(i=null),Q0({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?xc(n):n,{state:i,key:n&&n.key||o||LS()})}function $d(a){let{pathname:n="/",search:i="",hash:o=""}=a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function xc(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substr(i),a=a.substr(0,i));let o=a.indexOf("?");o>=0&&(n.search=a.substr(o),a=a.substr(0,o)),a&&(n.pathname=a)}return n}function QS(a,n,i,o){o===void 0&&(o={});let{window:d=document.defaultView,v5Compat:u=!1}=o,f=d.history,h=ro.Pop,p=null,m=x();m==null&&(m=0,f.replaceState(Q0({},f.state,{idx:m}),""));function x(){return(f.state||{idx:null}).idx}function b(){h=ro.Pop;let k=x(),E=k==null?null:k-m;m=k,p&&p({action:h,location:A.location,delta:E})}function y(k,E){h=ro.Push;let j=Vp(A.location,k,E);m=x()+1;let N=fg(j,m),B=A.createHref(j);try{f.pushState(N,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;d.location.assign(B)}u&&p&&p({action:h,location:A.location,delta:1})}function w(k,E){h=ro.Replace;let j=Vp(A.location,k,E);m=x();let N=fg(j,m),B=A.createHref(j);f.replaceState(N,"",B),u&&p&&p({action:h,location:A.location,delta:0})}function v(k){let E=d.location.origin!=="null"?d.location.origin:d.location.href,j=typeof k=="string"?k:$d(k);return j=j.replace(/ $/,"%20"),Os(E,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,E)}let A={get action(){return h},get location(){return a(d,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(ug,b),p=k,()=>{d.removeEventListener(ug,b),p=null}},createHref(k){return n(d,k)},createURL:v,encodeLocation(k){let E=v(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(k){return f.go(k)}};return A}var hg;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(hg||(hg={}));function HS(a,n,i){return i===void 0&&(i="/"),$S(a,n,i)}function $S(a,n,i,o){let d=typeof n=="string"?xc(n):n,u=wm(d.pathname||"/",i);if(u==null)return null;let f=w5(a);GS(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=aE(u);h=eE(f[p],m)}return h}function w5(a,n,i,o){n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o="");let d=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Os(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let m=fo([o,p.relativePath]),x=i.concat(p);u.children&&u.children.length>0&&(Os(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),w5(u.children,n,x,m)),!(u.path==null&&!u.index)&&n.push({path:m,score:XS(m,u.index),routesMeta:x})};return a.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))d(u,f);else for(let p of A5(u.path))d(u,f,p)}),n}function A5(a){let n=a.split("/");if(n.length===0)return[];let[i,...o]=n,d=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return d?[u,""]:[u];let f=A5(o.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),d&&h.push(...f),h.map(p=>a.startsWith("/")&&p===""?"/":p)}function GS(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:ZS(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const qS=/^:[\w-]+$/,YS=3,VS=2,KS=1,WS=10,JS=-2,pg=a=>a==="*";function XS(a,n){let i=a.split("/"),o=i.length;return i.some(pg)&&(o+=JS),n&&(o+=VS),i.filter(d=>!pg(d)).reduce((d,u)=>d+(qS.test(u)?YS:u===""?KS:WS),o)}function ZS(a,n){return a.length===n.length&&a.slice(0,-1).every((o,d)=>o===n[d])?a[a.length-1]-n[n.length-1]:0}function eE(a,n,i){let{routesMeta:o}=a,d={},u="/",f=[];for(let h=0;h<o.length;++h){let p=o[h],m=h===o.length-1,x=u==="/"?n:n.slice(u.length)||"/",b=tE({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),y=p.route;if(!b)return null;Object.assign(d,b.params),f.push({params:d,pathname:fo([u,b.pathname]),pathnameBase:lE(fo([u,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(u=fo([u,b.pathnameBase]))}return f}function tE(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,o]=rE(a.path,a.caseSensitive,a.end),d=n.match(i);if(!d)return null;let u=d[0],f=u.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:o.reduce((m,x,b)=>{let{paramName:y,isOptional:w}=x;if(y==="*"){let A=h[b]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const v=h[b];return w&&!v?m[y]=void 0:m[y]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:a}}function rE(a,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),ym(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],d="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),d+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":a!==""&&a!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),o]}function aE(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ym(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function wm(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=a.charAt(i);return o&&o!=="/"?null:a.slice(i)||"/"}const sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nE=a=>sE.test(a);function iE(a,n){n===void 0&&(n="/");let{pathname:i,search:o="",hash:d=""}=typeof a=="string"?xc(a):a,u;if(i)if(nE(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),ym(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+i))}i.startsWith("/")?u=mg(i.substring(1),"/"):u=mg(i,n)}else u=n;return{pathname:u,search:cE(o),hash:dE(d)}}function mg(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function ah(a,n,i,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oE(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Am(a,n){let i=oE(a);return n?i.map((o,d)=>d===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function km(a,n,i,o){o===void 0&&(o=!1);let d;typeof a=="string"?d=xc(a):(d=Q0({},a),Os(!d.pathname||!d.pathname.includes("?"),ah("?","pathname","search",d)),Os(!d.pathname||!d.pathname.includes("#"),ah("#","pathname","hash",d)),Os(!d.search||!d.search.includes("#"),ah("#","search","hash",d)));let u=a===""||d.pathname==="",f=u?"/":d.pathname,h;if(f==null)h=i;else{let b=n.length-1;if(!o&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),b-=1;d.pathname=y.join("/")}h=b>=0?n[b]:"/"}let p=iE(d,h),m=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}const fo=a=>a.join("/").replace(/\/\/+/g,"/"),lE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),cE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,dE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function uE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const k5=["post","put","patch","delete"];new Set(k5);const fE=["get",...k5];new Set(fE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H0(){return H0=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},H0.apply(this,arguments)}const jm=ie.createContext(null),hE=ie.createContext(null),wo=ie.createContext(null),Eu=ie.createContext(null),Ao=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),j5=ie.createContext(null);function pE(a,n){let{relative:i}=n===void 0?{}:n;vc()||Os(!1);let{basename:o,navigator:d}=ie.useContext(wo),{hash:u,pathname:f,search:h}=S5(a,{relative:i}),p=f;return o!=="/"&&(p=f==="/"?o:fo([o,f])),d.createHref({pathname:p,search:h,hash:u})}function vc(){return ie.useContext(Eu)!=null}function dl(){return vc()||Os(!1),ie.useContext(Eu).location}function N5(a){ie.useContext(wo).static||ie.useLayoutEffect(a)}function ko(){let{isDataRoute:a}=ie.useContext(Ao);return a?EE():mE()}function mE(){vc()||Os(!1);let a=ie.useContext(jm),{basename:n,future:i,navigator:o}=ie.useContext(wo),{matches:d}=ie.useContext(Ao),{pathname:u}=dl(),f=JSON.stringify(Am(d,i.v7_relativeSplatPath)),h=ie.useRef(!1);return N5(()=>{h.current=!0}),ie.useCallback(function(m,x){if(x===void 0&&(x={}),!h.current)return;if(typeof m=="number"){o.go(m);return}let b=km(m,JSON.parse(f),u,x.relative==="path");a==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:fo([n,b.pathname])),(x.replace?o.replace:o.push)(b,x.state,x)},[n,o,f,u,a])}function S5(a,n){let{relative:i}=n===void 0?{}:n,{future:o}=ie.useContext(wo),{matches:d}=ie.useContext(Ao),{pathname:u}=dl(),f=JSON.stringify(Am(d,o.v7_relativeSplatPath));return ie.useMemo(()=>km(a,JSON.parse(f),u,i==="path"),[a,f,u,i])}function xE(a,n){return vE(a,n)}function vE(a,n,i,o){vc()||Os(!1);let{navigator:d}=ie.useContext(wo),{matches:u}=ie.useContext(Ao),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=dl(),x;if(n){var b;let k=typeof n=="string"?xc(n):n;p==="/"||(b=k.pathname)!=null&&b.startsWith(p)||Os(!1),x=k}else x=m;let y=x.pathname||"/",w=y;if(p!=="/"){let k=p.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=HS(a,{pathname:w}),A=AE(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:fo([p,d.encodeLocation?d.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:fo([p,d.encodeLocation?d.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,i,o);return n&&A?ie.createElement(Eu.Provider,{value:{location:H0({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:ro.Pop}},A):A}function gE(){let a=SE(),n=uE(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},n),i?ie.createElement("pre",{style:d},i):null,null)}const bE=ie.createElement(gE,null);class yE extends ie.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?ie.createElement(Ao.Provider,{value:this.props.routeContext},ie.createElement(j5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wE(a){let{routeContext:n,match:i,children:o}=a,d=ie.useContext(jm);return d&&d.static&&d.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=i.route.id),ie.createElement(Ao.Provider,{value:n},o)}function AE(a,n,i,o){var d;if(n===void 0&&(n=[]),i===void 0&&(i=null),o===void 0&&(o=null),a==null){var u;if(!i)return null;if(i.errors)a=i.matches;else if((u=o)!=null&&u.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let f=a,h=(d=i)==null?void 0:d.errors;if(h!=null){let x=f.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);x>=0||Os(!1),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,m=-1;if(i&&o&&o.v7_partialHydration)for(let x=0;x<f.length;x++){let b=f[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:y,errors:w}=i,v=b.route.loader&&y[b.route.id]===void 0&&(!w||w[b.route.id]===void 0);if(b.route.lazy||v){p=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((x,b,y)=>{let w,v=!1,A=null,k=null;i&&(w=h&&b.route.id?h[b.route.id]:void 0,A=b.route.errorElement||bE,p&&(m<0&&y===0?(CE("route-fallback"),v=!0,k=null):m===y&&(v=!0,k=b.route.hydrateFallbackElement||null)));let E=n.concat(f.slice(0,y+1)),j=()=>{let N;return w?N=A:v?N=k:b.route.Component?N=ie.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=x,ie.createElement(wE,{match:b,routeContext:{outlet:x,matches:E,isDataRoute:i!=null},children:N})};return i&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?ie.createElement(yE,{location:i.location,revalidation:i.revalidation,component:A,error:w,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}var E5=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(E5||{}),C5=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(C5||{});function kE(a){let n=ie.useContext(jm);return n||Os(!1),n}function jE(a){let n=ie.useContext(hE);return n||Os(!1),n}function NE(a){let n=ie.useContext(Ao);return n||Os(!1),n}function I5(a){let n=NE(),i=n.matches[n.matches.length-1];return i.route.id||Os(!1),i.route.id}function SE(){var a;let n=ie.useContext(j5),i=jE(),o=I5();return n!==void 0?n:(a=i.errors)==null?void 0:a[o]}function EE(){let{router:a}=kE(E5.UseNavigateStable),n=I5(C5.UseNavigateStable),i=ie.useRef(!1);return N5(()=>{i.current=!0}),ie.useCallback(function(d,u){u===void 0&&(u={}),i.current&&(typeof d=="number"?a.navigate(d):a.navigate(d,H0({fromRouteId:n},u)))},[a,n])}const xg={};function CE(a,n,i){xg[a]||(xg[a]=!0)}function IE(a,n){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function sh(a){let{to:n,replace:i,state:o,relative:d}=a;vc()||Os(!1);let{future:u,static:f}=ie.useContext(wo),{matches:h}=ie.useContext(Ao),{pathname:p}=dl(),m=ko(),x=km(n,Am(h,u.v7_relativeSplatPath),p,d==="path"),b=JSON.stringify(x);return ie.useEffect(()=>m(JSON.parse(b),{replace:i,state:o,relative:d}),[m,b,d,i,o]),null}function dn(a){Os(!1)}function BE(a){let{basename:n="/",children:i=null,location:o,navigationType:d=ro.Pop,navigator:u,static:f=!1,future:h}=a;vc()&&Os(!1);let p=n.replace(/^\/*/,"/"),m=ie.useMemo(()=>({basename:p,navigator:u,static:f,future:H0({v7_relativeSplatPath:!1},h)}),[p,h,u,f]);typeof o=="string"&&(o=xc(o));let{pathname:x="/",search:b="",hash:y="",state:w=null,key:v="default"}=o,A=ie.useMemo(()=>{let k=wm(x,p);return k==null?null:{location:{pathname:k,search:b,hash:y,state:w,key:v},navigationType:d}},[p,x,b,y,w,v,d]);return A==null?null:ie.createElement(wo.Provider,{value:m},ie.createElement(Eu.Provider,{children:i,value:A}))}function vg(a){let{children:n,location:i}=a;return xE(Kp(n),i)}new Promise(()=>{});function Kp(a,n){n===void 0&&(n=[]);let i=[];return ie.Children.forEach(a,(o,d)=>{if(!ie.isValidElement(o))return;let u=[...n,d];if(o.type===ie.Fragment){i.push.apply(i,Kp(o.props.children,u));return}o.type!==dn&&Os(!1),!o.props.index||!o.props.children||Os(!1);let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Kp(o.props.children,u)),i.push(f)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},Wp.apply(this,arguments)}function DE(a,n){if(a==null)return{};var i={},o=Object.keys(a),d,u;for(u=0;u<o.length;u++)d=o[u],!(n.indexOf(d)>=0)&&(i[d]=a[d]);return i}function TE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function RE(a,n){return a.button===0&&(!n||n==="_self")&&!TE(a)}function Jp(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,i)=>{let o=a[i];return n.concat(Array.isArray(o)?o.map(d=>[i,d]):[[i,o]])},[]))}function ME(a,n){let i=Jp(a);return n&&n.forEach((o,d)=>{i.has(d)||n.getAll(d).forEach(u=>{i.append(d,u)})}),i}const FE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_E="6";try{window.__reactRouterVersion=_E}catch{}const PE="startTransition",gg=Cj[PE];function OE(a){let{basename:n,children:i,future:o,window:d}=a,u=ie.useRef();u.current==null&&(u.current=zS({window:d,v5Compat:!0}));let f=u.current,[h,p]=ie.useState({action:f.action,location:f.location}),{v7_startTransition:m}=o||{},x=ie.useCallback(b=>{m&&gg?gg(()=>p(b)):p(b)},[p,m]);return ie.useLayoutEffect(()=>f.listen(x),[f,x]),ie.useEffect(()=>IE(o),[o]),ie.createElement(BE,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:f,future:o})}const UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J1=ie.forwardRef(function(n,i){let{onClick:o,relative:d,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:x,viewTransition:b}=n,y=DE(n,FE),{basename:w}=ie.useContext(wo),v,A=!1;if(typeof m=="string"&&zE.test(m)&&(v=m,UE))try{let N=new URL(window.location.href),B=m.startsWith("//")?new URL(N.protocol+m):new URL(m),I=wm(B.pathname,w);B.origin===N.origin&&I!=null?m=I+B.search+B.hash:A=!0}catch{}let k=pE(m,{relative:d}),E=LE(m,{replace:f,state:h,target:p,preventScrollReset:x,relative:d,viewTransition:b});function j(N){o&&o(N),N.defaultPrevented||E(N)}return ie.createElement("a",Wp({},y,{href:v||k,onClick:A||u?o:j,ref:i,target:p}))});var bg;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(bg||(bg={}));var yg;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(yg||(yg={}));function LE(a,n){let{target:i,replace:o,state:d,preventScrollReset:u,relative:f,viewTransition:h}=n===void 0?{}:n,p=ko(),m=dl(),x=S5(a,{relative:f});return ie.useCallback(b=>{if(RE(b,i)){b.preventDefault();let y=o!==void 0?o:$d(m)===$d(x);p(a,{replace:y,state:d,preventScrollReset:u,relative:f,viewTransition:h})}},[m,p,x,o,d,i,a,u,f,h])}function QE(a){let n=ie.useRef(Jp(a)),i=ie.useRef(!1),o=dl(),d=ie.useMemo(()=>ME(o.search,i.current?null:n.current),[o.search]),u=ko(),f=ie.useCallback((h,p)=>{const m=Jp(typeof h=="function"?h(d):h);i.current=!0,u("?"+m,p)},[u,d]);return[d,f]}const HE={},wg=a=>{let n;const i=new Set,o=(x,b)=>{const y=typeof x=="function"?x(n):x;if(!Object.is(y,n)){const w=n;n=b??(typeof y!="object"||y===null)?y:Object.assign({},n,y),i.forEach(v=>v(n,w))}},d=()=>n,p={setState:o,getState:d,getInitialState:()=>m,subscribe:x=>(i.add(x),()=>i.delete(x)),destroy:()=>{(HE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=n=a(o,d,p);return p},$E=a=>a?wg(a):wg;var B5={exports:{}},D5={},T5={exports:{}},R5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=ie;function GE(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var qE=typeof Object.is=="function"?Object.is:GE,YE=nc.useState,VE=nc.useEffect,KE=nc.useLayoutEffect,WE=nc.useDebugValue;function JE(a,n){var i=n(),o=YE({inst:{value:i,getSnapshot:n}}),d=o[0].inst,u=o[1];return KE(function(){d.value=i,d.getSnapshot=n,nh(d)&&u({inst:d})},[a,i,n]),VE(function(){return nh(d)&&u({inst:d}),a(function(){nh(d)&&u({inst:d})})},[a]),WE(i),i}function nh(a){var n=a.getSnapshot;a=a.value;try{var i=n();return!qE(a,i)}catch{return!0}}function XE(a,n){return n()}var ZE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XE:JE;R5.useSyncExternalStore=nc.useSyncExternalStore!==void 0?nc.useSyncExternalStore:ZE;T5.exports=R5;var eC=T5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=ie,tC=eC;function rC(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var aC=typeof Object.is=="function"?Object.is:rC,sC=tC.useSyncExternalStore,nC=Cu.useRef,iC=Cu.useEffect,oC=Cu.useMemo,lC=Cu.useDebugValue;D5.useSyncExternalStoreWithSelector=function(a,n,i,o,d){var u=nC(null);if(u.current===null){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=oC(function(){function p(w){if(!m){if(m=!0,x=w,w=o(w),d!==void 0&&f.hasValue){var v=f.value;if(d(v,w))return b=v}return b=w}if(v=b,aC(x,w))return v;var A=o(w);return d!==void 0&&d(v,A)?(x=w,v):(x=w,b=A)}var m=!1,x,b,y=i===void 0?null:i;return[function(){return p(n())},y===null?void 0:function(){return p(y())}]},[n,i,o,d]);var h=sC(a,u[0],u[1]);return iC(function(){f.hasValue=!0,f.value=h},[h]),lC(h),h};B5.exports=D5;var cC=B5.exports;const dC=cu(cC),M5={},{useDebugValue:uC}=uu,{useSyncExternalStoreWithSelector:fC}=dC;let Ag=!1;const hC=a=>a;function pC(a,n=hC,i){(M5?"production":void 0)!=="production"&&i&&!Ag&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ag=!0);const o=fC(a.subscribe,a.getState,a.getServerState||a.getInitialState,n,i);return uC(o),o}const kg=a=>{(M5?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof a=="function"?$E(a):a,i=(o,d)=>pC(n,o,d);return Object.assign(i,n),i},U1=a=>a?kg(a):kg,mC={};function xC(a,n){let i;try{i=a()}catch{return}return{getItem:d=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),h=(u=i.getItem(d))!=null?u:null;return h instanceof Promise?h.then(f):f(h)},setItem:(d,u)=>i.setItem(d,JSON.stringify(u,void 0)),removeItem:d=>i.removeItem(d)}}const $0=a=>n=>{try{const i=a(n);return i instanceof Promise?i:{then(o){return $0(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return $0(o)(i)}}}},vC=(a,n)=>(i,o,d)=>{let u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,E)=>({...E,...k}),...n},f=!1;const h=new Set,p=new Set;let m;try{m=u.getStorage()}catch{}if(!m)return a((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...k)},o,d);const x=$0(u.serialize),b=()=>{const k=u.partialize({...o()});let E;const j=x({state:k,version:u.version}).then(N=>m.setItem(u.name,N)).catch(N=>{E=N});if(E)throw E;return j},y=d.setState;d.setState=(k,E)=>{y(k,E),b()};const w=a((...k)=>{i(...k),b()},o,d);let v;const A=()=>{var k;if(!m)return;f=!1,h.forEach(j=>j(o()));const E=((k=u.onRehydrateStorage)==null?void 0:k.call(u,o()))||void 0;return $0(m.getItem.bind(m))(u.name).then(j=>{if(j)return u.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==u.version){if(u.migrate)return u.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var N;return v=u.merge(j,(N=o())!=null?N:w),i(v,!0),b()}).then(()=>{E==null||E(v,void 0),f=!0,p.forEach(j=>j(v))}).catch(j=>{E==null||E(void 0,j)})};return d.persist={setOptions:k=>{u={...u,...k},k.getStorage&&(m=k.getStorage())},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:k=>(h.add(k),()=>{h.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},A(),v||w},gC=(a,n)=>(i,o,d)=>{let u={storage:xC(()=>localStorage),partialize:A=>A,version:0,merge:(A,k)=>({...k,...A}),...n},f=!1;const h=new Set,p=new Set;let m=u.storage;if(!m)return a((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...A)},o,d);const x=()=>{const A=u.partialize({...o()});return m.setItem(u.name,{state:A,version:u.version})},b=d.setState;d.setState=(A,k)=>{b(A,k),x()};const y=a((...A)=>{i(...A),x()},o,d);d.getInitialState=()=>y;let w;const v=()=>{var A,k;if(!m)return;f=!1,h.forEach(j=>{var N;return j((N=o())!=null?N:y)});const E=((k=u.onRehydrateStorage)==null?void 0:k.call(u,(A=o())!=null?A:y))||void 0;return $0(m.getItem.bind(m))(u.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==u.version){if(u.migrate)return[!0,u.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var N;const[B,I]=j;if(w=u.merge(I,(N=o())!=null?N:y),i(w,!0),B)return x()}).then(()=>{E==null||E(w,void 0),w=o(),f=!0,p.forEach(j=>j(w))}).catch(j=>{E==null||E(void 0,j)})};return d.persist={setOptions:A=>{u={...u,...A},A.storage&&(m=A.storage)},clearStorage:()=>{m==null||m.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>v(),hasHydrated:()=>f,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},u.skipHydration||v(),w||y},bC=(a,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((mC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),vC(a,n)):gC(a,n),z1=bC;var F5={exports:{}};function yC(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ih={exports:{}};const wC={},AC=Object.freeze(Object.defineProperty({__proto__:null,default:wC},Symbol.toStringTag,{value:"Module"})),kC=fc(AC);var jg;function Jr(){return jg||(jg=1,function(a,n){(function(i,o){a.exports=o()})(vr,function(){var i=i||function(o,d){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof vr<"u"&&vr.crypto&&(u=vr.crypto),!u&&typeof yC=="function")try{u=kC}catch{}var f=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function j(){}return function(N){var B;return j.prototype=N,B=new j,j.prototype=null,B}}(),p={},m=p.lib={},x=m.Base=function(){return{extend:function(j){var N=h(this);return j&&N.mixIn(j),(!N.hasOwnProperty("init")||this.init===N.init)&&(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var j=this.extend();return j.init.apply(j,arguments),j},init:function(){},mixIn:function(j){for(var N in j)j.hasOwnProperty(N)&&(this[N]=j[N]);j.hasOwnProperty("toString")&&(this.toString=j.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),b=m.WordArray=x.extend({init:function(j,N){j=this.words=j||[],N!=d?this.sigBytes=N:this.sigBytes=j.length*4},toString:function(j){return(j||w).stringify(this)},concat:function(j){var N=this.words,B=j.words,I=this.sigBytes,D=j.sigBytes;if(this.clamp(),I%4)for(var T=0;T<D;T++){var R=B[T>>>2]>>>24-T%4*8&255;N[I+T>>>2]|=R<<24-(I+T)%4*8}else for(var $=0;$<D;$+=4)N[I+$>>>2]=B[$>>>2];return this.sigBytes+=D,this},clamp:function(){var j=this.words,N=this.sigBytes;j[N>>>2]&=4294967295<<32-N%4*8,j.length=o.ceil(N/4)},clone:function(){var j=x.clone.call(this);return j.words=this.words.slice(0),j},random:function(j){for(var N=[],B=0;B<j;B+=4)N.push(f());return new b.init(N,j)}}),y=p.enc={},w=y.Hex={stringify:function(j){for(var N=j.words,B=j.sigBytes,I=[],D=0;D<B;D++){var T=N[D>>>2]>>>24-D%4*8&255;I.push((T>>>4).toString(16)),I.push((T&15).toString(16))}return I.join("")},parse:function(j){for(var N=j.length,B=[],I=0;I<N;I+=2)B[I>>>3]|=parseInt(j.substr(I,2),16)<<24-I%8*4;return new b.init(B,N/2)}},v=y.Latin1={stringify:function(j){for(var N=j.words,B=j.sigBytes,I=[],D=0;D<B;D++){var T=N[D>>>2]>>>24-D%4*8&255;I.push(String.fromCharCode(T))}return I.join("")},parse:function(j){for(var N=j.length,B=[],I=0;I<N;I++)B[I>>>2]|=(j.charCodeAt(I)&255)<<24-I%4*8;return new b.init(B,N)}},A=y.Utf8={stringify:function(j){try{return decodeURIComponent(escape(v.stringify(j)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(j){return v.parse(unescape(encodeURIComponent(j)))}},k=m.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(j){typeof j=="string"&&(j=A.parse(j)),this._data.concat(j),this._nDataBytes+=j.sigBytes},_process:function(j){var N,B=this._data,I=B.words,D=B.sigBytes,T=this.blockSize,R=T*4,$=D/R;j?$=o.ceil($):$=o.max(($|0)-this._minBufferSize,0);var F=$*T,_=o.min(F*4,D);if(F){for(var Q=0;Q<F;Q+=T)this._doProcessBlock(I,Q);N=I.splice(0,F),B.sigBytes-=_}return new b.init(N,_)},clone:function(){var j=x.clone.call(this);return j._data=this._data.clone(),j},_minBufferSize:0});m.Hasher=k.extend({cfg:x.extend(),init:function(j){this.cfg=this.cfg.extend(j),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(j){return this._append(j),this._process(),this},finalize:function(j){j&&this._append(j);var N=this._doFinalize();return N},blockSize:16,_createHelper:function(j){return function(N,B){return new j.init(B).finalize(N)}},_createHmacHelper:function(j){return function(N,B){return new E.HMAC.init(j,B).finalize(N)}}});var E=p.algo={};return p}(Math);return i})}(ih)),ih.exports}var oh={exports:{}},Ng;function Iu(){return Ng||(Ng=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.Base,h=u.WordArray,p=d.x64={};p.Word=f.extend({init:function(m,x){this.high=m,this.low=x}}),p.WordArray=f.extend({init:function(m,x){m=this.words=m||[],x!=o?this.sigBytes=x:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,x=m.length,b=[],y=0;y<x;y++){var w=m[y];b.push(w.high),b.push(w.low)}return h.create(b,this.sigBytes)},clone:function(){for(var m=f.clone.call(this),x=m.words=this.words.slice(0),b=x.length,y=0;y<b;y++)x[y]=x[y].clone();return m}})}(),i})}(oh)),oh.exports}var lh={exports:{}},Sg;function jC(){return Sg||(Sg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){if(typeof ArrayBuffer=="function"){var o=i,d=o.lib,u=d.WordArray,f=u.init,h=u.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var m=p.byteLength,x=[],b=0;b<m;b++)x[b>>>2]|=p[b]<<24-b%4*8;f.call(this,x,m)}else f.apply(this,arguments)};h.prototype=u}}(),i.lib.WordArray})}(lh)),lh.exports}var ch={exports:{}},Eg;function NC(){return Eg||(Eg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Utf16=f.Utf16BE={stringify:function(p){for(var m=p.words,x=p.sigBytes,b=[],y=0;y<x;y+=2){var w=m[y>>>2]>>>16-y%4*8&65535;b.push(String.fromCharCode(w))}return b.join("")},parse:function(p){for(var m=p.length,x=[],b=0;b<m;b++)x[b>>>1]|=p.charCodeAt(b)<<16-b%2*16;return u.create(x,m*2)}},f.Utf16LE={stringify:function(p){for(var m=p.words,x=p.sigBytes,b=[],y=0;y<x;y+=2){var w=h(m[y>>>2]>>>16-y%4*8&65535);b.push(String.fromCharCode(w))}return b.join("")},parse:function(p){for(var m=p.length,x=[],b=0;b<m;b++)x[b>>>1]|=h(p.charCodeAt(b)<<16-b%2*16);return u.create(x,m*2)}};function h(p){return p<<8&4278255360|p>>>8&16711935}}(),i.enc.Utf16})}(ch)),ch.exports}var dh={exports:{}},Cg;function ul(){return Cg||(Cg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Base64={stringify:function(p){var m=p.words,x=p.sigBytes,b=this._map;p.clamp();for(var y=[],w=0;w<x;w+=3)for(var v=m[w>>>2]>>>24-w%4*8&255,A=m[w+1>>>2]>>>24-(w+1)%4*8&255,k=m[w+2>>>2]>>>24-(w+2)%4*8&255,E=v<<16|A<<8|k,j=0;j<4&&w+j*.75<x;j++)y.push(b.charAt(E>>>6*(3-j)&63));var N=b.charAt(64);if(N)for(;y.length%4;)y.push(N);return y.join("")},parse:function(p){var m=p.length,x=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var y=0;y<x.length;y++)b[x.charCodeAt(y)]=y}var w=x.charAt(64);if(w){var v=p.indexOf(w);v!==-1&&(m=v)}return h(p,m,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(p,m,x){for(var b=[],y=0,w=0;w<m;w++)if(w%4){var v=x[p.charCodeAt(w-1)]<<w%4*2,A=x[p.charCodeAt(w)]>>>6-w%4*2,k=v|A;b[y>>>2]|=k<<24-y%4*8,y++}return u.create(b,y)}}(),i.enc.Base64})}(dh)),dh.exports}var uh={exports:{}},Ig;function SC(){return Ig||(Ig=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.enc;f.Base64url={stringify:function(p,m){m===void 0&&(m=!0);var x=p.words,b=p.sigBytes,y=m?this._safe_map:this._map;p.clamp();for(var w=[],v=0;v<b;v+=3)for(var A=x[v>>>2]>>>24-v%4*8&255,k=x[v+1>>>2]>>>24-(v+1)%4*8&255,E=x[v+2>>>2]>>>24-(v+2)%4*8&255,j=A<<16|k<<8|E,N=0;N<4&&v+N*.75<b;N++)w.push(y.charAt(j>>>6*(3-N)&63));var B=y.charAt(64);if(B)for(;w.length%4;)w.push(B);return w.join("")},parse:function(p,m){m===void 0&&(m=!0);var x=p.length,b=m?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var w=0;w<b.length;w++)y[b.charCodeAt(w)]=w}var v=b.charAt(64);if(v){var A=p.indexOf(v);A!==-1&&(x=A)}return h(p,x,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(p,m,x){for(var b=[],y=0,w=0;w<m;w++)if(w%4){var v=x[p.charCodeAt(w-1)]<<w%4*2,A=x[p.charCodeAt(w)]>>>6-w%4*2,k=v|A;b[y>>>2]|=k<<24-y%4*8,y++}return u.create(b,y)}}(),i.enc.Base64url})}(uh)),uh.exports}var fh={exports:{}},Bg;function fl(){return Bg||(Bg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=[];(function(){for(var A=0;A<64;A++)m[A]=o.abs(o.sin(A+1))*4294967296|0})();var x=p.MD5=h.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(A,k){for(var E=0;E<16;E++){var j=k+E,N=A[j];A[j]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var B=this._hash.words,I=A[k+0],D=A[k+1],T=A[k+2],R=A[k+3],$=A[k+4],F=A[k+5],_=A[k+6],Q=A[k+7],H=A[k+8],J=A[k+9],K=A[k+10],he=A[k+11],G=A[k+12],L=A[k+13],ce=A[k+14],fe=A[k+15],U=B[0],ee=B[1],se=B[2],de=B[3];U=b(U,ee,se,de,I,7,m[0]),de=b(de,U,ee,se,D,12,m[1]),se=b(se,de,U,ee,T,17,m[2]),ee=b(ee,se,de,U,R,22,m[3]),U=b(U,ee,se,de,$,7,m[4]),de=b(de,U,ee,se,F,12,m[5]),se=b(se,de,U,ee,_,17,m[6]),ee=b(ee,se,de,U,Q,22,m[7]),U=b(U,ee,se,de,H,7,m[8]),de=b(de,U,ee,se,J,12,m[9]),se=b(se,de,U,ee,K,17,m[10]),ee=b(ee,se,de,U,he,22,m[11]),U=b(U,ee,se,de,G,7,m[12]),de=b(de,U,ee,se,L,12,m[13]),se=b(se,de,U,ee,ce,17,m[14]),ee=b(ee,se,de,U,fe,22,m[15]),U=y(U,ee,se,de,D,5,m[16]),de=y(de,U,ee,se,_,9,m[17]),se=y(se,de,U,ee,he,14,m[18]),ee=y(ee,se,de,U,I,20,m[19]),U=y(U,ee,se,de,F,5,m[20]),de=y(de,U,ee,se,K,9,m[21]),se=y(se,de,U,ee,fe,14,m[22]),ee=y(ee,se,de,U,$,20,m[23]),U=y(U,ee,se,de,J,5,m[24]),de=y(de,U,ee,se,ce,9,m[25]),se=y(se,de,U,ee,R,14,m[26]),ee=y(ee,se,de,U,H,20,m[27]),U=y(U,ee,se,de,L,5,m[28]),de=y(de,U,ee,se,T,9,m[29]),se=y(se,de,U,ee,Q,14,m[30]),ee=y(ee,se,de,U,G,20,m[31]),U=w(U,ee,se,de,F,4,m[32]),de=w(de,U,ee,se,H,11,m[33]),se=w(se,de,U,ee,he,16,m[34]),ee=w(ee,se,de,U,ce,23,m[35]),U=w(U,ee,se,de,D,4,m[36]),de=w(de,U,ee,se,$,11,m[37]),se=w(se,de,U,ee,Q,16,m[38]),ee=w(ee,se,de,U,K,23,m[39]),U=w(U,ee,se,de,L,4,m[40]),de=w(de,U,ee,se,I,11,m[41]),se=w(se,de,U,ee,R,16,m[42]),ee=w(ee,se,de,U,_,23,m[43]),U=w(U,ee,se,de,J,4,m[44]),de=w(de,U,ee,se,G,11,m[45]),se=w(se,de,U,ee,fe,16,m[46]),ee=w(ee,se,de,U,T,23,m[47]),U=v(U,ee,se,de,I,6,m[48]),de=v(de,U,ee,se,Q,10,m[49]),se=v(se,de,U,ee,ce,15,m[50]),ee=v(ee,se,de,U,F,21,m[51]),U=v(U,ee,se,de,G,6,m[52]),de=v(de,U,ee,se,R,10,m[53]),se=v(se,de,U,ee,K,15,m[54]),ee=v(ee,se,de,U,D,21,m[55]),U=v(U,ee,se,de,H,6,m[56]),de=v(de,U,ee,se,fe,10,m[57]),se=v(se,de,U,ee,_,15,m[58]),ee=v(ee,se,de,U,L,21,m[59]),U=v(U,ee,se,de,$,6,m[60]),de=v(de,U,ee,se,he,10,m[61]),se=v(se,de,U,ee,T,15,m[62]),ee=v(ee,se,de,U,J,21,m[63]),B[0]=B[0]+U|0,B[1]=B[1]+ee|0,B[2]=B[2]+se|0,B[3]=B[3]+de|0},_doFinalize:function(){var A=this._data,k=A.words,E=this._nDataBytes*8,j=A.sigBytes*8;k[j>>>5]|=128<<24-j%32;var N=o.floor(E/4294967296),B=E;k[(j+64>>>9<<4)+15]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k[(j+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,A.sigBytes=(k.length+1)*4,this._process();for(var I=this._hash,D=I.words,T=0;T<4;T++){var R=D[T];D[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return I},clone:function(){var A=h.clone.call(this);return A._hash=this._hash.clone(),A}});function b(A,k,E,j,N,B,I){var D=A+(k&E|~k&j)+N+I;return(D<<B|D>>>32-B)+k}function y(A,k,E,j,N,B,I){var D=A+(k&j|E&~j)+N+I;return(D<<B|D>>>32-B)+k}function w(A,k,E,j,N,B,I){var D=A+(k^E^j)+N+I;return(D<<B|D>>>32-B)+k}function v(A,k,E,j,N,B,I){var D=A+(E^(k|~j))+N+I;return(D<<B|D>>>32-B)+k}d.MD5=h._createHelper(x),d.HmacMD5=h._createHmacHelper(x)}(Math),i.MD5})}(fh)),fh.exports}var hh={exports:{}},Dg;function _5(){return Dg||(Dg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=d.Hasher,h=o.algo,p=[],m=h.SHA1=f.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,b){for(var y=this._hash.words,w=y[0],v=y[1],A=y[2],k=y[3],E=y[4],j=0;j<80;j++){if(j<16)p[j]=x[b+j]|0;else{var N=p[j-3]^p[j-8]^p[j-14]^p[j-16];p[j]=N<<1|N>>>31}var B=(w<<5|w>>>27)+E+p[j];j<20?B+=(v&A|~v&k)+1518500249:j<40?B+=(v^A^k)+1859775393:j<60?B+=(v&A|v&k|A&k)-1894007588:B+=(v^A^k)-899497514,E=k,k=A,A=v<<30|v>>>2,v=w,w=B}y[0]=y[0]+w|0,y[1]=y[1]+v|0,y[2]=y[2]+A|0,y[3]=y[3]+k|0,y[4]=y[4]+E|0},_doFinalize:function(){var x=this._data,b=x.words,y=this._nDataBytes*8,w=x.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=Math.floor(y/4294967296),b[(w+64>>>9<<4)+15]=y,x.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var x=f.clone.call(this);return x._hash=this._hash.clone(),x}});o.SHA1=f._createHelper(m),o.HmacSHA1=f._createHmacHelper(m)}(),i.SHA1})}(hh)),hh.exports}var ph={exports:{}},Tg;function Nm(){return Tg||(Tg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=[],x=[];(function(){function w(E){for(var j=o.sqrt(E),N=2;N<=j;N++)if(!(E%N))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var A=2,k=0;k<64;)w(A)&&(k<8&&(m[k]=v(o.pow(A,1/2))),x[k]=v(o.pow(A,1/3)),k++),A++})();var b=[],y=p.SHA256=h.extend({_doReset:function(){this._hash=new f.init(m.slice(0))},_doProcessBlock:function(w,v){for(var A=this._hash.words,k=A[0],E=A[1],j=A[2],N=A[3],B=A[4],I=A[5],D=A[6],T=A[7],R=0;R<64;R++){if(R<16)b[R]=w[v+R]|0;else{var $=b[R-15],F=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,_=b[R-2],Q=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;b[R]=F+b[R-7]+Q+b[R-16]}var H=B&I^~B&D,J=k&E^k&j^E&j,K=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),he=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),G=T+he+H+x[R]+b[R],L=K+J;T=D,D=I,I=B,B=N+G|0,N=j,j=E,E=k,k=G+L|0}A[0]=A[0]+k|0,A[1]=A[1]+E|0,A[2]=A[2]+j|0,A[3]=A[3]+N|0,A[4]=A[4]+B|0,A[5]=A[5]+I|0,A[6]=A[6]+D|0,A[7]=A[7]+T|0},_doFinalize:function(){var w=this._data,v=w.words,A=this._nDataBytes*8,k=w.sigBytes*8;return v[k>>>5]|=128<<24-k%32,v[(k+64>>>9<<4)+14]=o.floor(A/4294967296),v[(k+64>>>9<<4)+15]=A,w.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var w=h.clone.call(this);return w._hash=this._hash.clone(),w}});d.SHA256=h._createHelper(y),d.HmacSHA256=h._createHmacHelper(y)}(Math),i.SHA256})}(ph)),ph.exports}var mh={exports:{}},Rg;function EC(){return Rg||(Rg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Nm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=o.algo,h=f.SHA256,p=f.SHA224=h.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=h._doFinalize.call(this);return m.sigBytes-=4,m}});o.SHA224=h._createHelper(p),o.HmacSHA224=h._createHmacHelper(p)}(),i.SHA224})}(mh)),mh.exports}var xh={exports:{}},Mg;function P5(){return Mg||(Mg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Iu())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Hasher,f=o.x64,h=f.Word,p=f.WordArray,m=o.algo;function x(){return h.create.apply(h,arguments)}var b=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],y=[];(function(){for(var v=0;v<80;v++)y[v]=x()})();var w=m.SHA512=u.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(v,A){for(var k=this._hash.words,E=k[0],j=k[1],N=k[2],B=k[3],I=k[4],D=k[5],T=k[6],R=k[7],$=E.high,F=E.low,_=j.high,Q=j.low,H=N.high,J=N.low,K=B.high,he=B.low,G=I.high,L=I.low,ce=D.high,fe=D.low,U=T.high,ee=T.low,se=R.high,de=R.low,ke=$,ae=F,De=_,we=Q,Ae=H,Le=J,xe=K,Oe=he,Te=G,Pe=L,Ue=ce,Ze=fe,te=U,oe=ee,Re=se,ze=de,Je=0;Je<80;Je++){var Qe,qe,ut=y[Je];if(Je<16)qe=ut.high=v[A+Je*2]|0,Qe=ut.low=v[A+Je*2+1]|0;else{var mt=y[Je-15],lt=mt.high,vt=mt.low,St=(lt>>>1|vt<<31)^(lt>>>8|vt<<24)^lt>>>7,kt=(vt>>>1|lt<<31)^(vt>>>8|lt<<24)^(vt>>>7|lt<<25),wt=y[Je-2],Pt=wt.high,Mt=wt.low,Lt=(Pt>>>19|Mt<<13)^(Pt<<3|Mt>>>29)^Pt>>>6,Dt=(Mt>>>19|Pt<<13)^(Mt<<3|Pt>>>29)^(Mt>>>6|Pt<<26),jt=y[Je-7],P=jt.high,V=jt.low,q=y[Je-16],ne=q.high,ue=q.low;Qe=kt+V,qe=St+P+(Qe>>>0<kt>>>0?1:0),Qe=Qe+Dt,qe=qe+Lt+(Qe>>>0<Dt>>>0?1:0),Qe=Qe+ue,qe=qe+ne+(Qe>>>0<ue>>>0?1:0),ut.high=qe,ut.low=Qe}var be=Te&Ue^~Te&te,re=Pe&Ze^~Pe&oe,Se=ke&De^ke&Ae^De&Ae,X=ae&we^ae&Le^we&Le,ve=(ke>>>28|ae<<4)^(ke<<30|ae>>>2)^(ke<<25|ae>>>7),me=(ae>>>28|ke<<4)^(ae<<30|ke>>>2)^(ae<<25|ke>>>7),je=(Te>>>14|Pe<<18)^(Te>>>18|Pe<<14)^(Te<<23|Pe>>>9),le=(Pe>>>14|Te<<18)^(Pe>>>18|Te<<14)^(Pe<<23|Te>>>9),ye=b[Je],Ie=ye.high,pe=ye.low,Ce=ze+le,Ne=Re+je+(Ce>>>0<ze>>>0?1:0),Ce=Ce+re,Ne=Ne+be+(Ce>>>0<re>>>0?1:0),Ce=Ce+pe,Ne=Ne+Ie+(Ce>>>0<pe>>>0?1:0),Ce=Ce+Qe,Ne=Ne+qe+(Ce>>>0<Qe>>>0?1:0),Be=me+X,Ge=ve+Se+(Be>>>0<me>>>0?1:0);Re=te,ze=oe,te=Ue,oe=Ze,Ue=Te,Ze=Pe,Pe=Oe+Ce|0,Te=xe+Ne+(Pe>>>0<Oe>>>0?1:0)|0,xe=Ae,Oe=Le,Ae=De,Le=we,De=ke,we=ae,ae=Ce+Be|0,ke=Ne+Ge+(ae>>>0<Ce>>>0?1:0)|0}F=E.low=F+ae,E.high=$+ke+(F>>>0<ae>>>0?1:0),Q=j.low=Q+we,j.high=_+De+(Q>>>0<we>>>0?1:0),J=N.low=J+Le,N.high=H+Ae+(J>>>0<Le>>>0?1:0),he=B.low=he+Oe,B.high=K+xe+(he>>>0<Oe>>>0?1:0),L=I.low=L+Pe,I.high=G+Te+(L>>>0<Pe>>>0?1:0),fe=D.low=fe+Ze,D.high=ce+Ue+(fe>>>0<Ze>>>0?1:0),ee=T.low=ee+oe,T.high=U+te+(ee>>>0<oe>>>0?1:0),de=R.low=de+ze,R.high=se+Re+(de>>>0<ze>>>0?1:0)},_doFinalize:function(){var v=this._data,A=v.words,k=this._nDataBytes*8,E=v.sigBytes*8;A[E>>>5]|=128<<24-E%32,A[(E+128>>>10<<5)+30]=Math.floor(k/4294967296),A[(E+128>>>10<<5)+31]=k,v.sigBytes=A.length*4,this._process();var j=this._hash.toX32();return j},clone:function(){var v=u.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});o.SHA512=u._createHelper(w),o.HmacSHA512=u._createHmacHelper(w)}(),i.SHA512})}(xh)),xh.exports}var vh={exports:{}},Fg;function CC(){return Fg||(Fg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Iu(),P5())})(vr,function(i){return function(){var o=i,d=o.x64,u=d.Word,f=d.WordArray,h=o.algo,p=h.SHA512,m=h.SHA384=p.extend({_doReset:function(){this._hash=new f.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var x=p._doFinalize.call(this);return x.sigBytes-=16,x}});o.SHA384=p._createHelper(m),o.HmacSHA384=p._createHmacHelper(m)}(),i.SHA384})}(vh)),vh.exports}var gh={exports:{}},_g;function IC(){return _g||(_g=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Iu())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.x64,m=p.Word,x=d.algo,b=[],y=[],w=[];(function(){for(var k=1,E=0,j=0;j<24;j++){b[k+5*E]=(j+1)*(j+2)/2%64;var N=E%5,B=(2*k+3*E)%5;k=N,E=B}for(var k=0;k<5;k++)for(var E=0;E<5;E++)y[k+5*E]=E+(2*k+3*E)%5*5;for(var I=1,D=0;D<24;D++){for(var T=0,R=0,$=0;$<7;$++){if(I&1){var F=(1<<$)-1;F<32?R^=1<<F:T^=1<<F-32}I&128?I=I<<1^113:I<<=1}w[D]=m.create(T,R)}})();var v=[];(function(){for(var k=0;k<25;k++)v[k]=m.create()})();var A=x.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var k=this._state=[],E=0;E<25;E++)k[E]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(k,E){for(var j=this._state,N=this.blockSize/2,B=0;B<N;B++){var I=k[E+2*B],D=k[E+2*B+1];I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var T=j[B];T.high^=D,T.low^=I}for(var R=0;R<24;R++){for(var $=0;$<5;$++){for(var F=0,_=0,Q=0;Q<5;Q++){var T=j[$+5*Q];F^=T.high,_^=T.low}var H=v[$];H.high=F,H.low=_}for(var $=0;$<5;$++)for(var J=v[($+4)%5],K=v[($+1)%5],he=K.high,G=K.low,F=J.high^(he<<1|G>>>31),_=J.low^(G<<1|he>>>31),Q=0;Q<5;Q++){var T=j[$+5*Q];T.high^=F,T.low^=_}for(var L=1;L<25;L++){var F,_,T=j[L],ce=T.high,fe=T.low,U=b[L];U<32?(F=ce<<U|fe>>>32-U,_=fe<<U|ce>>>32-U):(F=fe<<U-32|ce>>>64-U,_=ce<<U-32|fe>>>64-U);var ee=v[y[L]];ee.high=F,ee.low=_}var se=v[0],de=j[0];se.high=de.high,se.low=de.low;for(var $=0;$<5;$++)for(var Q=0;Q<5;Q++){var L=$+5*Q,T=j[L],ke=v[L],ae=v[($+1)%5+5*Q],De=v[($+2)%5+5*Q];T.high=ke.high^~ae.high&De.high,T.low=ke.low^~ae.low&De.low}var T=j[0],we=w[R];T.high^=we.high,T.low^=we.low}},_doFinalize:function(){var k=this._data,E=k.words;this._nDataBytes*8;var j=k.sigBytes*8,N=this.blockSize*32;E[j>>>5]|=1<<24-j%32,E[(o.ceil((j+1)/N)*N>>>5)-1]|=128,k.sigBytes=E.length*4,this._process();for(var B=this._state,I=this.cfg.outputLength/8,D=I/8,T=[],R=0;R<D;R++){var $=B[R],F=$.high,_=$.low;F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T.push(_),T.push(F)}return new f.init(T,I)},clone:function(){for(var k=h.clone.call(this),E=k._state=this._state.slice(0),j=0;j<25;j++)E[j]=E[j].clone();return k}});d.SHA3=h._createHelper(A),d.HmacSHA3=h._createHmacHelper(A)}(Math),i.SHA3})}(gh)),gh.exports}var bh={exports:{}},Pg;function BC(){return Pg||(Pg=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(o){var d=i,u=d.lib,f=u.WordArray,h=u.Hasher,p=d.algo,m=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=f.create([0,1518500249,1859775393,2400959708,2840853838]),v=f.create([1352829926,1548603684,1836072691,2053994217,0]),A=p.RIPEMD160=h.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,T){for(var R=0;R<16;R++){var $=T+R,F=D[$];D[$]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}var _=this._hash.words,Q=w.words,H=v.words,J=m.words,K=x.words,he=b.words,G=y.words,L,ce,fe,U,ee,se,de,ke,ae,De;se=L=_[0],de=ce=_[1],ke=fe=_[2],ae=U=_[3],De=ee=_[4];for(var we,R=0;R<80;R+=1)we=L+D[T+J[R]]|0,R<16?we+=k(ce,fe,U)+Q[0]:R<32?we+=E(ce,fe,U)+Q[1]:R<48?we+=j(ce,fe,U)+Q[2]:R<64?we+=N(ce,fe,U)+Q[3]:we+=B(ce,fe,U)+Q[4],we=we|0,we=I(we,he[R]),we=we+ee|0,L=ee,ee=U,U=I(fe,10),fe=ce,ce=we,we=se+D[T+K[R]]|0,R<16?we+=B(de,ke,ae)+H[0]:R<32?we+=N(de,ke,ae)+H[1]:R<48?we+=j(de,ke,ae)+H[2]:R<64?we+=E(de,ke,ae)+H[3]:we+=k(de,ke,ae)+H[4],we=we|0,we=I(we,G[R]),we=we+De|0,se=De,De=ae,ae=I(ke,10),ke=de,de=we;we=_[1]+fe+ae|0,_[1]=_[2]+U+De|0,_[2]=_[3]+ee+se|0,_[3]=_[4]+L+de|0,_[4]=_[0]+ce+ke|0,_[0]=we},_doFinalize:function(){var D=this._data,T=D.words,R=this._nDataBytes*8,$=D.sigBytes*8;T[$>>>5]|=128<<24-$%32,T[($+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,D.sigBytes=(T.length+1)*4,this._process();for(var F=this._hash,_=F.words,Q=0;Q<5;Q++){var H=_[Q];_[Q]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return F},clone:function(){var D=h.clone.call(this);return D._hash=this._hash.clone(),D}});function k(D,T,R){return D^T^R}function E(D,T,R){return D&T|~D&R}function j(D,T,R){return(D|~T)^R}function N(D,T,R){return D&R|T&~R}function B(D,T,R){return D^(T|~R)}function I(D,T){return D<<T|D>>>32-T}d.RIPEMD160=h._createHelper(A),d.HmacRIPEMD160=h._createHmacHelper(A)}(),i.RIPEMD160})}(bh)),bh.exports}var yh={exports:{}},Og;function Sm(){return Og||(Og=1,function(a,n){(function(i,o){a.exports=o(Jr())})(vr,function(i){(function(){var o=i,d=o.lib,u=d.Base,f=o.enc,h=f.Utf8,p=o.algo;p.HMAC=u.extend({init:function(m,x){m=this._hasher=new m.init,typeof x=="string"&&(x=h.parse(x));var b=m.blockSize,y=b*4;x.sigBytes>y&&(x=m.finalize(x)),x.clamp();for(var w=this._oKey=x.clone(),v=this._iKey=x.clone(),A=w.words,k=v.words,E=0;E<b;E++)A[E]^=1549556828,k[E]^=909522486;w.sigBytes=v.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var x=this._hasher,b=x.finalize(m);x.reset();var y=x.finalize(this._oKey.clone().concat(b));return y}})})()})}(yh)),yh.exports}var wh={exports:{}},Ug;function DC(){return Ug||(Ug=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),Nm(),Sm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Base,f=d.WordArray,h=o.algo,p=h.SHA256,m=h.HMAC,x=h.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,y){for(var w=this.cfg,v=m.create(w.hasher,b),A=f.create(),k=f.create([1]),E=A.words,j=k.words,N=w.keySize,B=w.iterations;E.length<N;){var I=v.update(y).finalize(k);v.reset();for(var D=I.words,T=D.length,R=I,$=1;$<B;$++){R=v.finalize(R),v.reset();for(var F=R.words,_=0;_<T;_++)D[_]^=F[_]}A.concat(I),j[0]++}return A.sigBytes=N*4,A}});o.PBKDF2=function(b,y,w){return x.create(w).compute(b,y)}}(),i.PBKDF2})}(wh)),wh.exports}var Ah={exports:{}},zg;function jo(){return zg||(zg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),_5(),Sm())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.Base,f=d.WordArray,h=o.algo,p=h.MD5,m=h.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:p,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,b){for(var y,w=this.cfg,v=w.hasher.create(),A=f.create(),k=A.words,E=w.keySize,j=w.iterations;k.length<E;){y&&v.update(y),y=v.update(x).finalize(b),v.reset();for(var N=1;N<j;N++)y=v.finalize(y),v.reset();A.concat(y)}return A.sigBytes=E*4,A}});o.EvpKDF=function(x,b,y){return m.create(y).compute(x,b)}}(),i.EvpKDF})}(Ah)),Ah.exports}var kh={exports:{}},Lg;function xn(){return Lg||(Lg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),jo())})(vr,function(i){i.lib.Cipher||function(o){var d=i,u=d.lib,f=u.Base,h=u.WordArray,p=u.BufferedBlockAlgorithm,m=d.enc;m.Utf8;var x=m.Base64,b=d.algo,y=b.EvpKDF,w=u.Cipher=p.extend({cfg:f.extend(),createEncryptor:function(F,_){return this.create(this._ENC_XFORM_MODE,F,_)},createDecryptor:function(F,_){return this.create(this._DEC_XFORM_MODE,F,_)},init:function(F,_,Q){this.cfg=this.cfg.extend(Q),this._xformMode=F,this._key=_,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(F){return this._append(F),this._process()},finalize:function(F){F&&this._append(F);var _=this._doFinalize();return _},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function F(_){return typeof _=="string"?$:D}return function(_){return{encrypt:function(Q,H,J){return F(H).encrypt(_,Q,H,J)},decrypt:function(Q,H,J){return F(H).decrypt(_,Q,H,J)}}}}()});u.StreamCipher=w.extend({_doFinalize:function(){var F=this._process(!0);return F},blockSize:1});var v=d.mode={},A=u.BlockCipherMode=f.extend({createEncryptor:function(F,_){return this.Encryptor.create(F,_)},createDecryptor:function(F,_){return this.Decryptor.create(F,_)},init:function(F,_){this._cipher=F,this._iv=_}}),k=v.CBC=function(){var F=A.extend();F.Encryptor=F.extend({processBlock:function(Q,H){var J=this._cipher,K=J.blockSize;_.call(this,Q,H,K),J.encryptBlock(Q,H),this._prevBlock=Q.slice(H,H+K)}}),F.Decryptor=F.extend({processBlock:function(Q,H){var J=this._cipher,K=J.blockSize,he=Q.slice(H,H+K);J.decryptBlock(Q,H),_.call(this,Q,H,K),this._prevBlock=he}});function _(Q,H,J){var K,he=this._iv;he?(K=he,this._iv=o):K=this._prevBlock;for(var G=0;G<J;G++)Q[H+G]^=K[G]}return F}(),E=d.pad={},j=E.Pkcs7={pad:function(F,_){for(var Q=_*4,H=Q-F.sigBytes%Q,J=H<<24|H<<16|H<<8|H,K=[],he=0;he<H;he+=4)K.push(J);var G=h.create(K,H);F.concat(G)},unpad:function(F){var _=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=_}};u.BlockCipher=w.extend({cfg:w.cfg.extend({mode:k,padding:j}),reset:function(){var F;w.reset.call(this);var _=this.cfg,Q=_.iv,H=_.mode;this._xformMode==this._ENC_XFORM_MODE?F=H.createEncryptor:(F=H.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==F?this._mode.init(this,Q&&Q.words):(this._mode=F.call(H,this,Q&&Q.words),this._mode.__creator=F)},_doProcessBlock:function(F,_){this._mode.processBlock(F,_)},_doFinalize:function(){var F,_=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(_.pad(this._data,this.blockSize),F=this._process(!0)):(F=this._process(!0),_.unpad(F)),F},blockSize:128/32});var N=u.CipherParams=f.extend({init:function(F){this.mixIn(F)},toString:function(F){return(F||this.formatter).stringify(this)}}),B=d.format={},I=B.OpenSSL={stringify:function(F){var _,Q=F.ciphertext,H=F.salt;return H?_=h.create([1398893684,1701076831]).concat(H).concat(Q):_=Q,_.toString(x)},parse:function(F){var _,Q=x.parse(F),H=Q.words;return H[0]==1398893684&&H[1]==1701076831&&(_=h.create(H.slice(2,4)),H.splice(0,4),Q.sigBytes-=16),N.create({ciphertext:Q,salt:_})}},D=u.SerializableCipher=f.extend({cfg:f.extend({format:I}),encrypt:function(F,_,Q,H){H=this.cfg.extend(H);var J=F.createEncryptor(Q,H),K=J.finalize(_),he=J.cfg;return N.create({ciphertext:K,key:Q,iv:he.iv,algorithm:F,mode:he.mode,padding:he.padding,blockSize:F.blockSize,formatter:H.format})},decrypt:function(F,_,Q,H){H=this.cfg.extend(H),_=this._parse(_,H.format);var J=F.createDecryptor(Q,H).finalize(_.ciphertext);return J},_parse:function(F,_){return typeof F=="string"?_.parse(F,this):F}}),T=d.kdf={},R=T.OpenSSL={execute:function(F,_,Q,H,J){if(H||(H=h.random(64/8)),J)var K=y.create({keySize:_+Q,hasher:J}).compute(F,H);else var K=y.create({keySize:_+Q}).compute(F,H);var he=h.create(K.words.slice(_),Q*4);return K.sigBytes=_*4,N.create({key:K,iv:he,salt:H})}},$=u.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:R}),encrypt:function(F,_,Q,H){H=this.cfg.extend(H);var J=H.kdf.execute(Q,F.keySize,F.ivSize,H.salt,H.hasher);H.iv=J.iv;var K=D.encrypt.call(this,F,_,J.key,H);return K.mixIn(J),K},decrypt:function(F,_,Q,H){H=this.cfg.extend(H),_=this._parse(_,H.format);var J=H.kdf.execute(Q,F.keySize,F.ivSize,_.salt,H.hasher);H.iv=J.iv;var K=D.decrypt.call(this,F,_,J.key,H);return K}})}()})}(kh)),kh.exports}var jh={exports:{}},Qg;function TC(){return Qg||(Qg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.CFB=function(){var o=i.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize;d.call(this,u,f,p,h),this._prevBlock=u.slice(f,f+p)}}),o.Decryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=u.slice(f,f+p);d.call(this,u,f,p,h),this._prevBlock=m}});function d(u,f,h,p){var m,x=this._iv;x?(m=x.slice(0),this._iv=void 0):m=this._prevBlock,p.encryptBlock(m,0);for(var b=0;b<h;b++)u[f+b]^=m[b]}return o}(),i.mode.CFB})}(jh)),jh.exports}var Nh={exports:{}},Hg;function RC(){return Hg||(Hg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.CTR=function(){var o=i.lib.BlockCipherMode.extend(),d=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._counter;m&&(x=this._counter=m.slice(0),this._iv=void 0);var b=x.slice(0);h.encryptBlock(b,0),x[p-1]=x[p-1]+1|0;for(var y=0;y<p;y++)u[f+y]^=b[y]}});return o.Decryptor=d,o}(),i.mode.CTR})}(Nh)),Nh.exports}var Sh={exports:{}},$g;function MC(){return $g||($g=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var o=i.lib.BlockCipherMode.extend();function d(h){if((h>>24&255)===255){var p=h>>16&255,m=h>>8&255,x=h&255;p===255?(p=0,m===255?(m=0,x===255?x=0:++x):++m):++p,h=0,h+=p<<16,h+=m<<8,h+=x}else h+=1<<24;return h}function u(h){return(h[0]=d(h[0]))===0&&(h[1]=d(h[1])),h}var f=o.Encryptor=o.extend({processBlock:function(h,p){var m=this._cipher,x=m.blockSize,b=this._iv,y=this._counter;b&&(y=this._counter=b.slice(0),this._iv=void 0),u(y);var w=y.slice(0);m.encryptBlock(w,0);for(var v=0;v<x;v++)h[p+v]^=w[v]}});return o.Decryptor=f,o}(),i.mode.CTRGladman})}(Sh)),Sh.exports}var Eh={exports:{}},Gg;function FC(){return Gg||(Gg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.OFB=function(){var o=i.lib.BlockCipherMode.extend(),d=o.Encryptor=o.extend({processBlock:function(u,f){var h=this._cipher,p=h.blockSize,m=this._iv,x=this._keystream;m&&(x=this._keystream=m.slice(0),this._iv=void 0),h.encryptBlock(x,0);for(var b=0;b<p;b++)u[f+b]^=x[b]}});return o.Decryptor=d,o}(),i.mode.OFB})}(Eh)),Eh.exports}var Ch={exports:{}},qg;function _C(){return qg||(qg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.mode.ECB=function(){var o=i.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(d,u){this._cipher.encryptBlock(d,u)}}),o.Decryptor=o.extend({processBlock:function(d,u){this._cipher.decryptBlock(d,u)}}),o}(),i.mode.ECB})}(Ch)),Ch.exports}var Ih={exports:{}},Yg;function PC(){return Yg||(Yg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.AnsiX923={pad:function(o,d){var u=o.sigBytes,f=d*4,h=f-u%f,p=u+h-1;o.clamp(),o.words[p>>>2]|=h<<24-p%4*8,o.sigBytes+=h},unpad:function(o){var d=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=d}},i.pad.Ansix923})}(Ih)),Ih.exports}var Bh={exports:{}},Vg;function OC(){return Vg||(Vg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.Iso10126={pad:function(o,d){var u=d*4,f=u-o.sigBytes%u;o.concat(i.lib.WordArray.random(f-1)).concat(i.lib.WordArray.create([f<<24],1))},unpad:function(o){var d=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=d}},i.pad.Iso10126})}(Bh)),Bh.exports}var Dh={exports:{}},Kg;function UC(){return Kg||(Kg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.Iso97971={pad:function(o,d){o.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(o,d)},unpad:function(o){i.pad.ZeroPadding.unpad(o),o.sigBytes--}},i.pad.Iso97971})}(Dh)),Dh.exports}var Th={exports:{}},Wg;function zC(){return Wg||(Wg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.ZeroPadding={pad:function(o,d){var u=d*4;o.clamp(),o.sigBytes+=u-(o.sigBytes%u||u)},unpad:function(o){for(var d=o.words,u=o.sigBytes-1,u=o.sigBytes-1;u>=0;u--)if(d[u>>>2]>>>24-u%4*8&255){o.sigBytes=u+1;break}}},i.pad.ZeroPadding})}(Th)),Th.exports}var Rh={exports:{}},Jg;function LC(){return Jg||(Jg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(Rh)),Rh.exports}var Mh={exports:{}},Xg;function QC(){return Xg||(Xg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),xn())})(vr,function(i){return function(o){var d=i,u=d.lib,f=u.CipherParams,h=d.enc,p=h.Hex,m=d.format;m.Hex={stringify:function(x){return x.ciphertext.toString(p)},parse:function(x){var b=p.parse(x);return f.create({ciphertext:b})}}}(),i.format.Hex})}(Mh)),Mh.exports}var Fh={exports:{}},Zg;function HC(){return Zg||(Zg=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.BlockCipher,f=o.algo,h=[],p=[],m=[],x=[],b=[],y=[],w=[],v=[],A=[],k=[];(function(){for(var N=[],B=0;B<256;B++)B<128?N[B]=B<<1:N[B]=B<<1^283;for(var I=0,D=0,B=0;B<256;B++){var T=D^D<<1^D<<2^D<<3^D<<4;T=T>>>8^T&255^99,h[I]=T,p[T]=I;var R=N[I],$=N[R],F=N[$],_=N[T]*257^T*16843008;m[I]=_<<24|_>>>8,x[I]=_<<16|_>>>16,b[I]=_<<8|_>>>24,y[I]=_;var _=F*16843009^$*65537^R*257^I*16843008;w[T]=_<<24|_>>>8,v[T]=_<<16|_>>>16,A[T]=_<<8|_>>>24,k[T]=_,I?(I=R^N[N[N[F^R]]],D^=N[N[D]]):I=D=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],j=f.AES=u.extend({_doReset:function(){var N;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,I=B.words,D=B.sigBytes/4,T=this._nRounds=D+6,R=(T+1)*4,$=this._keySchedule=[],F=0;F<R;F++)F<D?$[F]=I[F]:(N=$[F-1],F%D?D>6&&F%D==4&&(N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255]):(N=N<<8|N>>>24,N=h[N>>>24]<<24|h[N>>>16&255]<<16|h[N>>>8&255]<<8|h[N&255],N^=E[F/D|0]<<24),$[F]=$[F-D]^N);for(var _=this._invKeySchedule=[],Q=0;Q<R;Q++){var F=R-Q;if(Q%4)var N=$[F];else var N=$[F-4];Q<4||F<=4?_[Q]=N:_[Q]=w[h[N>>>24]]^v[h[N>>>16&255]]^A[h[N>>>8&255]]^k[h[N&255]]}}},encryptBlock:function(N,B){this._doCryptBlock(N,B,this._keySchedule,m,x,b,y,h)},decryptBlock:function(N,B){var I=N[B+1];N[B+1]=N[B+3],N[B+3]=I,this._doCryptBlock(N,B,this._invKeySchedule,w,v,A,k,p);var I=N[B+1];N[B+1]=N[B+3],N[B+3]=I},_doCryptBlock:function(N,B,I,D,T,R,$,F){for(var _=this._nRounds,Q=N[B]^I[0],H=N[B+1]^I[1],J=N[B+2]^I[2],K=N[B+3]^I[3],he=4,G=1;G<_;G++){var L=D[Q>>>24]^T[H>>>16&255]^R[J>>>8&255]^$[K&255]^I[he++],ce=D[H>>>24]^T[J>>>16&255]^R[K>>>8&255]^$[Q&255]^I[he++],fe=D[J>>>24]^T[K>>>16&255]^R[Q>>>8&255]^$[H&255]^I[he++],U=D[K>>>24]^T[Q>>>16&255]^R[H>>>8&255]^$[J&255]^I[he++];Q=L,H=ce,J=fe,K=U}var L=(F[Q>>>24]<<24|F[H>>>16&255]<<16|F[J>>>8&255]<<8|F[K&255])^I[he++],ce=(F[H>>>24]<<24|F[J>>>16&255]<<16|F[K>>>8&255]<<8|F[Q&255])^I[he++],fe=(F[J>>>24]<<24|F[K>>>16&255]<<16|F[Q>>>8&255]<<8|F[H&255])^I[he++],U=(F[K>>>24]<<24|F[Q>>>16&255]<<16|F[H>>>8&255]<<8|F[J&255])^I[he++];N[B]=L,N[B+1]=ce,N[B+2]=fe,N[B+3]=U},keySize:256/32});o.AES=u._createHelper(j)}(),i.AES})}(Fh)),Fh.exports}var _h={exports:{}},eb;function $C(){return eb||(eb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.WordArray,f=d.BlockCipher,h=o.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],w=h.DES=f.extend({_doReset:function(){for(var E=this._key,j=E.words,N=[],B=0;B<56;B++){var I=p[B]-1;N[B]=j[I>>>5]>>>31-I%32&1}for(var D=this._subKeys=[],T=0;T<16;T++){for(var R=D[T]=[],$=x[T],B=0;B<24;B++)R[B/6|0]|=N[(m[B]-1+$)%28]<<31-B%6,R[4+(B/6|0)]|=N[28+(m[B+24]-1+$)%28]<<31-B%6;R[0]=R[0]<<1|R[0]>>>31;for(var B=1;B<7;B++)R[B]=R[B]>>>(B-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var F=this._invSubKeys=[],B=0;B<16;B++)F[B]=D[15-B]},encryptBlock:function(E,j){this._doCryptBlock(E,j,this._subKeys)},decryptBlock:function(E,j){this._doCryptBlock(E,j,this._invSubKeys)},_doCryptBlock:function(E,j,N){this._lBlock=E[j],this._rBlock=E[j+1],v.call(this,4,252645135),v.call(this,16,65535),A.call(this,2,858993459),A.call(this,8,16711935),v.call(this,1,1431655765);for(var B=0;B<16;B++){for(var I=N[B],D=this._lBlock,T=this._rBlock,R=0,$=0;$<8;$++)R|=b[$][((T^I[$])&y[$])>>>0];this._lBlock=T,this._rBlock=D^R}var F=this._lBlock;this._lBlock=this._rBlock,this._rBlock=F,v.call(this,1,1431655765),A.call(this,8,16711935),A.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),E[j]=this._lBlock,E[j+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(E,j){var N=(this._lBlock>>>E^this._rBlock)&j;this._rBlock^=N,this._lBlock^=N<<E}function A(E,j){var N=(this._rBlock>>>E^this._lBlock)&j;this._lBlock^=N,this._rBlock^=N<<E}o.DES=f._createHelper(w);var k=h.TripleDES=f.extend({_doReset:function(){var E=this._key,j=E.words;if(j.length!==2&&j.length!==4&&j.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var N=j.slice(0,2),B=j.length<4?j.slice(0,2):j.slice(2,4),I=j.length<6?j.slice(0,2):j.slice(4,6);this._des1=w.createEncryptor(u.create(N)),this._des2=w.createEncryptor(u.create(B)),this._des3=w.createEncryptor(u.create(I))},encryptBlock:function(E,j){this._des1.encryptBlock(E,j),this._des2.decryptBlock(E,j),this._des3.encryptBlock(E,j)},decryptBlock:function(E,j){this._des3.decryptBlock(E,j),this._des2.encryptBlock(E,j),this._des1.decryptBlock(E,j)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=f._createHelper(k)}(),i.TripleDES})}(_h)),_h.exports}var Ph={exports:{}},tb;function GC(){return tb||(tb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=f.RC4=u.extend({_doReset:function(){for(var x=this._key,b=x.words,y=x.sigBytes,w=this._S=[],v=0;v<256;v++)w[v]=v;for(var v=0,A=0;v<256;v++){var k=v%y,E=b[k>>>2]>>>24-k%4*8&255;A=(A+w[v]+E)%256;var j=w[v];w[v]=w[A],w[A]=j}this._i=this._j=0},_doProcessBlock:function(x,b){x[b]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var x=this._S,b=this._i,y=this._j,w=0,v=0;v<4;v++){b=(b+1)%256,y=(y+x[b])%256;var A=x[b];x[b]=x[y],x[y]=A,w|=x[(x[b]+x[y])%256]<<24-v*8}return this._i=b,this._j=y,w}o.RC4=u._createHelper(h);var m=f.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)p.call(this)}});o.RC4Drop=u._createHelper(m)}(),i.RC4})}(Ph)),Ph.exports}var Oh={exports:{}},rb;function qC(){return rb||(rb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.Rabbit=u.extend({_doReset:function(){for(var y=this._key.words,w=this.cfg.iv,v=0;v<4;v++)y[v]=(y[v]<<8|y[v]>>>24)&16711935|(y[v]<<24|y[v]>>>8)&4278255360;var A=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],k=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var v=0;v<4;v++)b.call(this);for(var v=0;v<8;v++)k[v]^=A[v+4&7];if(w){var E=w.words,j=E[0],N=E[1],B=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D=B>>>16|I&4294901760,T=I<<16|B&65535;k[0]^=B,k[1]^=D,k[2]^=I,k[3]^=T,k[4]^=B,k[5]^=D,k[6]^=I,k[7]^=T;for(var v=0;v<4;v++)b.call(this)}},_doProcessBlock:function(y,w){var v=this._X;b.call(this),h[0]=v[0]^v[5]>>>16^v[3]<<16,h[1]=v[2]^v[7]>>>16^v[5]<<16,h[2]=v[4]^v[1]>>>16^v[7]<<16,h[3]=v[6]^v[3]>>>16^v[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,y[w+A]^=h[A]},blockSize:128/32,ivSize:64/32});function b(){for(var y=this._X,w=this._C,v=0;v<8;v++)p[v]=w[v];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<p[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<p[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<p[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<p[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<p[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<p[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<p[6]>>>0?1:0)|0,this._b=w[7]>>>0<p[7]>>>0?1:0;for(var v=0;v<8;v++){var A=y[v]+w[v],k=A&65535,E=A>>>16,j=((k*k>>>17)+k*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[v]=j^N}y[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,y[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,y[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,y[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,y[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,y[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,y[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,y[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.Rabbit=u._createHelper(x)}(),i.Rabbit})}(Oh)),Oh.exports}var Uh={exports:{}},ab;function YC(){return ab||(ab=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.StreamCipher,f=o.algo,h=[],p=[],m=[],x=f.RabbitLegacy=u.extend({_doReset:function(){var y=this._key.words,w=this.cfg.iv,v=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var k=0;k<4;k++)b.call(this);for(var k=0;k<8;k++)A[k]^=v[k+4&7];if(w){var E=w.words,j=E[0],N=E[1],B=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D=B>>>16|I&4294901760,T=I<<16|B&65535;A[0]^=B,A[1]^=D,A[2]^=I,A[3]^=T,A[4]^=B,A[5]^=D,A[6]^=I,A[7]^=T;for(var k=0;k<4;k++)b.call(this)}},_doProcessBlock:function(y,w){var v=this._X;b.call(this),h[0]=v[0]^v[5]>>>16^v[3]<<16,h[1]=v[2]^v[7]>>>16^v[5]<<16,h[2]=v[4]^v[1]>>>16^v[7]<<16,h[3]=v[6]^v[3]>>>16^v[1]<<16;for(var A=0;A<4;A++)h[A]=(h[A]<<8|h[A]>>>24)&16711935|(h[A]<<24|h[A]>>>8)&4278255360,y[w+A]^=h[A]},blockSize:128/32,ivSize:64/32});function b(){for(var y=this._X,w=this._C,v=0;v<8;v++)p[v]=w[v];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<p[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<p[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<p[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<p[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<p[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<p[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<p[6]>>>0?1:0)|0,this._b=w[7]>>>0<p[7]>>>0?1:0;for(var v=0;v<8;v++){var A=y[v]+w[v],k=A&65535,E=A>>>16,j=((k*k>>>17)+k*E>>>15)+E*E,N=((A&4294901760)*A|0)+((A&65535)*A|0);m[v]=j^N}y[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,y[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,y[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,y[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,y[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,y[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,y[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,y[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}o.RabbitLegacy=u._createHelper(x)}(),i.RabbitLegacy})}(Uh)),Uh.exports}var zh={exports:{}},sb;function VC(){return sb||(sb=1,function(a,n){(function(i,o,d){a.exports=o(Jr(),ul(),fl(),jo(),xn())})(vr,function(i){return function(){var o=i,d=o.lib,u=d.BlockCipher,f=o.algo;const h=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function b(k,E){let j=E>>24&255,N=E>>16&255,B=E>>8&255,I=E&255,D=k.sbox[0][j]+k.sbox[1][N];return D=D^k.sbox[2][B],D=D+k.sbox[3][I],D}function y(k,E,j){let N=E,B=j,I;for(let D=0;D<h;++D)N=N^k.pbox[D],B=b(k,N)^B,I=N,N=B,B=I;return I=N,N=B,B=I,B=B^k.pbox[h],N=N^k.pbox[h+1],{left:N,right:B}}function w(k,E,j){let N=E,B=j,I;for(let D=h+1;D>1;--D)N=N^k.pbox[D],B=b(k,N)^B,I=N,N=B,B=I;return I=N,N=B,B=I,B=B^k.pbox[1],N=N^k.pbox[0],{left:N,right:B}}function v(k,E,j){for(let T=0;T<4;T++){k.sbox[T]=[];for(let R=0;R<256;R++)k.sbox[T][R]=m[T][R]}let N=0;for(let T=0;T<h+2;T++)k.pbox[T]=p[T]^E[N],N++,N>=j&&(N=0);let B=0,I=0,D=0;for(let T=0;T<h+2;T+=2)D=y(k,B,I),B=D.left,I=D.right,k.pbox[T]=B,k.pbox[T+1]=I;for(let T=0;T<4;T++)for(let R=0;R<256;R+=2)D=y(k,B,I),B=D.left,I=D.right,k.sbox[T][R]=B,k.sbox[T][R+1]=I;return!0}var A=f.Blowfish=u.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var k=this._keyPriorReset=this._key,E=k.words,j=k.sigBytes/4;v(x,E,j)}},encryptBlock:function(k,E){var j=y(x,k[E],k[E+1]);k[E]=j.left,k[E+1]=j.right},decryptBlock:function(k,E){var j=w(x,k[E],k[E+1]);k[E]=j.left,k[E+1]=j.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=u._createHelper(A)}(),i.Blowfish})}(zh)),zh.exports}(function(a,n){(function(i,o,d){a.exports=o(Jr(),Iu(),jC(),NC(),ul(),SC(),fl(),_5(),Nm(),EC(),P5(),CC(),IC(),BC(),Sm(),DC(),jo(),xn(),TC(),RC(),MC(),FC(),_C(),PC(),OC(),UC(),zC(),LC(),QC(),HC(),$C(),GC(),qC(),YC(),VC())})(vr,function(i){return i})})(F5);var KC=F5.exports;const WC=cu(KC),f1=U1(z1((a,n)=>({logs:[],addLog:(i,o,d=null,u=null)=>{const f={id:`LOG${Date.now()}`,timestamp:new Date().toISOString(),action:i,details:o,userId:d,userName:u,ipAddress:null};return a(h=>({logs:[f,...h.logs].slice(0,5e3)})),f},getLogsByAction:i=>n().logs.filter(o=>o.action===i),getLogsByUser:i=>n().logs.filter(o=>o.userId===i),getLogsByDateRange:(i,o)=>{const d=new Date(i);d.setHours(0,0,0,0);const u=new Date(o);return u.setHours(23,59,59,999),n().logs.filter(f=>{const h=new Date(f.timestamp);return h>=d&&h<=u})},getRecentLogs:(i=50)=>n().logs.slice(0,i),clearOldLogs:(i=30)=>{const o=new Date;o.setDate(o.getDate()-i),a(d=>({logs:d.logs.filter(u=>new Date(u.timestamp)>o)}))},exportLogs:(i=null,o=null)=>{let d=n().logs;return i&&o&&(d=n().getLogsByDateRange(i,o)),JSON.stringify(d,null,2)}}),{name:"audit-storage"})),ji={LOGIN:"login",LOGOUT:"logout",LOGIN_FAILED:"login_failed",TRANSACTION_CREATE:"transaction_create",TRANSACTION_VOID:"transaction_void",PRODUCT_ADD:"product_add",PRODUCT_EDIT:"product_edit",PRODUCT_DELETE:"product_delete",STOCK_ADJUST:"stock_adjust",STOCK_PURCHASE:"stock_purchase",STOCK_OPNAME:"stock_opname"},f0=a=>WC.SHA256(a).toString(),nb=(a,n)=>f0(a)===n||a===n,O5={all:"Semua Akses",pos:"Kasir (POS)",products:"Kelola Produk",products_view:"Lihat Produk",stock:"Kelola Stok",customers:"Kelola Pelanggan",customers_view:"Lihat Pelanggan",sales:"Lihat Penjualan",purchases:"Pembelian & Supplier",reports:"Laporan",marketplace:"Marketplace (Shopee)",settings:"Pengaturan"},Di=U1(z1((a,n)=>({user:null,isAuthenticated:!1,users:[{id:1,username:"admin",password:f0("admin123"),name:"Administrator",role:"admin",permissions:["all"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}},{id:2,username:"kasir",password:f0("kasir123"),name:"Kasir 1",role:"cashier",permissions:["pos","products_view","customers_view"],isActive:!0,createdAt:"2024-01-01T00:00:00.000Z",marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}}],login:(i,o)=>{const d=n().users,u=d.find(h=>h.username===i&&nb(o,h.password)&&h.isActive!==!1);if(u){const{password:h,...p}=u;return a({user:p,isAuthenticated:!0}),f1.getState().addLog(ji.LOGIN,{username:u.username,role:u.role},u.id,u.name),{success:!0}}f1.getState().addLog(ji.LOGIN_FAILED,{username:i,reason:"Invalid credentials"},null,null);const f=d.find(h=>h.username===i&&nb(o,h.password));return f&&!f.isActive?{success:!1,error:"Akun tidak aktif. Hubungi administrator."}:{success:!1,error:"Username atau password salah"}},logout:()=>{const i=n().user;i&&f1.getState().addLog(ji.LOGOUT,{username:i.username},i.id,i.name),a({user:null,isAuthenticated:!1})},addUser:i=>{const o=n().users;if(o.some(u=>u.username.toLowerCase()===i.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const d={id:Date.now(),username:i.username,password:f0(i.password),name:i.name,role:i.role||"cashier",permissions:i.permissions||["pos","products_view"],isActive:!0,createdAt:new Date().toISOString(),marketplaceCredentials:{shopee:{partnerId:"",partnerKey:"",shopId:"",accessToken:"",refreshToken:"",shopName:"",isConnected:!1,lastSync:null}}};return a({users:[...o,d]}),{success:!0,user:d}},updateUser:(i,o)=>{const d=n().users,u=n().user,f=d.find(p=>p.id===i);if((f==null?void 0:f.id)===1&&(u==null?void 0:u.id)!==1)return{success:!1,error:"Tidak bisa mengedit admin utama"};if(o.username&&d.find(m=>m.id!==i&&m.username.toLowerCase()===o.username.toLowerCase()))return{success:!1,error:"Username sudah digunakan"};const h=d.map(p=>p.id===i?{...p,...o,updatedAt:new Date().toISOString()}:p);if(a({users:h}),(u==null?void 0:u.id)===i){const p=h.find(b=>b.id===i),{password:m,...x}=p;a({user:x})}return{success:!0}},deleteUser:i=>{const o=n().users,d=n().user;return(d==null?void 0:d.id)===i?{success:!1,error:"Tidak bisa menghapus akun sendiri"}:i===1?{success:!1,error:"Tidak bisa menghapus admin utama"}:(a({users:o.filter(u=>u.id!==i)}),{success:!0})},toggleUserActive:i=>{const o=n().users,d=n().user;if((d==null?void 0:d.id)===i)return{success:!1,error:"Tidak bisa menonaktifkan akun sendiri"};if(i===1)return{success:!1,error:"Tidak bisa menonaktifkan admin utama"};const u=o.map(f=>f.id===i?{...f,isActive:!f.isActive}:f);return a({users:u}),{success:!0}},changePassword:(i,o)=>{const u=n().users.map(f=>f.username===i?{...f,password:f0(o)}:f);a({users:u})},updateMarketplaceCredentials:(i,o,d)=>{const u=n().users,f=n().user,h=u.map(p=>{var m;return p.id===i?{...p,marketplaceCredentials:{...p.marketplaceCredentials,[o]:{...(m=p.marketplaceCredentials)==null?void 0:m[o],...d}}}:p});if(a({users:h}),(f==null?void 0:f.id)===i){const p=h.find(b=>b.id===i),{password:m,...x}=p;a({user:x})}return{success:!0}},getMyMarketplaceCredentials:i=>{var f;const o=n().user;if(!o)return null;const u=n().users.find(h=>h.id===o.id);return((f=u==null?void 0:u.marketplaceCredentials)==null?void 0:f[i])||null},getUserById:i=>n().users.find(d=>d.id===i),hasPermission:i=>{const o=n();return o.user?o.user.permissions.includes("all")?!0:o.user.permissions.includes(i):!1},isAdmin:()=>{var o,d,u;const i=n();return((o=i.user)==null?void 0:o.role)==="admin"||((u=(d=i.user)==null?void 0:d.permissions)==null?void 0:u.includes("all"))}}),{name:"auth-storage"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var ic;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(ic||(ic={}));class Lh extends Error{constructor(n,i,o){super(n),this.message=n,this.code=i,this.data=o}}const JC=a=>{var n,i;return a!=null&&a.androidBridge?"android":!((i=(n=a==null?void 0:a.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},XC=a=>{const n=a.CapacitorCustomPlatform||null,i=a.Capacitor||{},o=i.Plugins=i.Plugins||{},d=()=>n!==null?n.name:JC(a),u=()=>d()!=="web",f=b=>{const y=m.get(b);return!!(y!=null&&y.platforms.has(d())||h(b))},h=b=>{var y;return(y=i.PluginHeaders)===null||y===void 0?void 0:y.find(w=>w.name===b)},p=b=>a.console.error(b),m=new Map,x=(b,y={})=>{const w=m.get(b);if(w)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),w.proxy;const v=d(),A=h(b);let k;const E=async()=>(!k&&v in y?k=typeof y[v]=="function"?k=await y[v]():k=y[v]:n!==null&&!k&&"web"in y&&(k=typeof y.web=="function"?k=await y.web():k=y.web),k),j=(R,$)=>{var F,_;if(A){const Q=A==null?void 0:A.methods.find(H=>$===H.name);if(Q)return Q.rtype==="promise"?H=>i.nativePromise(b,$.toString(),H):(H,J)=>i.nativeCallback(b,$.toString(),H,J);if(R)return(F=R[$])===null||F===void 0?void 0:F.bind(R)}else{if(R)return(_=R[$])===null||_===void 0?void 0:_.bind(R);throw new Lh(`"${b}" plugin is not implemented on ${v}`,ic.Unimplemented)}},N=R=>{let $;const F=(..._)=>{const Q=E().then(H=>{const J=j(H,R);if(J){const K=J(..._);return $=K==null?void 0:K.remove,K}else throw new Lh(`"${b}.${R}()" is not implemented on ${v}`,ic.Unimplemented)});return R==="addListener"&&(Q.remove=async()=>$()),Q};return F.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:R,writable:!1,configurable:!1}),F},B=N("addListener"),I=N("removeListener"),D=(R,$)=>{const F=B({eventName:R},$),_=async()=>{const H=await F;I({eventName:R,callbackId:H},$)},Q=new Promise(H=>F.then(()=>H({remove:_})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await _()},Q},T=new Proxy({},{get(R,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?D:B;case"removeListener":return I;default:return N($)}}});return o[b]=T,m.set(b,{name:b,proxy:T,platforms:new Set([...Object.keys(y),...A?[v]:[]])}),T};return i.convertFileSrc||(i.convertFileSrc=b=>b),i.getPlatform=d,i.handleError=p,i.isNativePlatform=u,i.isPluginAvailable=f,i.registerPlugin=x,i.Exception=Lh,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},ZC=a=>a.Capacitor=XC(a),xo=ZC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hl=xo.registerPlugin;class U5{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,i){let o=!1;this.listeners[n]||(this.listeners[n]=[],o=!0),this.listeners[n].push(i);const u=this.windowListeners[n];u&&!u.registered&&this.addWindowListener(u),o&&this.sendRetainedArgumentsForEvent(n);const f=async()=>this.removeListener(n,i);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i,o){const d=this.listeners[n];if(!d){if(o){let u=this.retainedEventArguments[n];u||(u=[]),u.push(i),this.retainedEventArguments[n]=u}return}d.forEach(u=>u(i))}hasListeners(n){var i;return!!(!((i=this.listeners[n])===null||i===void 0)&&i.length)}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:o=>{this.notifyListeners(i,o)}}}unimplemented(n="not implemented"){return new xo.Exception(n,ic.Unimplemented)}unavailable(n="not available"){return new xo.Exception(n,ic.Unavailable)}async removeListener(n,i){const o=this.listeners[n];if(!o)return;const d=o.indexOf(i);this.listeners[n].splice(d,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const i=this.retainedEventArguments[n];i&&(delete this.retainedEventArguments[n],i.forEach(o=>{this.notifyListeners(n,o)}))}}const ib=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ob=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class eI extends U5{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(o=>{if(o.length<=0)return;let[d,u]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");d=ob(d).trim(),u=ob(u).trim(),i[d]=u}),i}async setCookie(n){try{const i=ib(n.key),o=ib(n.value),d=`; expires=${(n.expires||"").replace("expires=","")}`,u=(n.path||"/").replace("path=",""),f=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${o||""}${d}; path=${u}; ${f};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}hl("CapacitorCookies",{web:()=>new eI});const tI=async a=>new Promise((n,i)=>{const o=new FileReader;o.onload=()=>{const d=o.result;n(d.indexOf(",")>=0?d.split(",")[1]:d)},o.onerror=d=>i(d),o.readAsDataURL(a)}),rI=(a={})=>{const n=Object.keys(a);return Object.keys(a).map(d=>d.toLocaleLowerCase()).reduce((d,u,f)=>(d[u]=a[n[f]],d),{})},aI=(a,n=!0)=>a?Object.entries(a).reduce((o,d)=>{const[u,f]=d;let h,p;return Array.isArray(f)?(p="",f.forEach(m=>{h=n?encodeURIComponent(m):m,p+=`${u}=${h}&`}),p.slice(0,-1)):(h=n?encodeURIComponent(f):f,p=`${u}=${h}`),`${o}&${p}`},"").substr(1):null,sI=(a,n={})=>{const i=Object.assign({method:a.method||"GET",headers:a.headers},n),d=rI(a.headers)["content-type"]||"";if(typeof a.data=="string")i.body=a.data;else if(d.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[f,h]of Object.entries(a.data||{}))u.set(f,h);i.body=u.toString()}else if(d.includes("multipart/form-data")||a.data instanceof FormData){const u=new FormData;if(a.data instanceof FormData)a.data.forEach((h,p)=>{u.append(p,h)});else for(const h of Object.keys(a.data))u.append(h,a.data[h]);i.body=u;const f=new Headers(i.headers);f.delete("content-type"),i.headers=f}else(d.includes("application/json")||typeof a.data=="object")&&(i.body=JSON.stringify(a.data));return i};class nI extends U5{async request(n){const i=sI(n,n.webFetchExtra),o=aI(n.params,n.shouldEncodeUrlParams),d=o?`${n.url}?${o}`:n.url,u=await fetch(d,i),f=u.headers.get("content-type")||"";let{responseType:h="text"}=u.ok?n:{};f.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await u.blob(),p=await tI(m);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const x={};return u.headers.forEach((b,y)=>{x[y]=b}),{data:p,headers:x,status:u.status,url:u.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}hl("CapacitorHttp",{web:()=>new nI});xo.isNativePlatform();const P1=xo.getPlatform()==="android";xo.getPlatform();xo.getPlatform();xo.getPlatform();var Em={},Gd={},Xp=function(a,n){return Xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d])},Xp(a,n)};function z5(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Xp(a,n);function i(){this.constructor=a}a.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var qd=function(){return qd=Object.assign||function(n){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},qd.apply(this,arguments)};function gc(a,n){var i={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(a);d<o.length;d++)n.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(a,o[d])&&(i[o[d]]=a[o[d]]);return i}function L5(a,n,i,o){var d=arguments.length,u=d<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,i):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,i,o);else for(var h=a.length-1;h>=0;h--)(f=a[h])&&(u=(d<3?f(u):d>3?f(n,i,u):f(n,i))||u);return d>3&&u&&Object.defineProperty(n,i,u),u}function Q5(a,n){return function(i,o){n(i,o,a)}}function H5(a,n,i,o,d,u){function f(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var h=o.kind,p=h==="getter"?"get":h==="setter"?"set":"value",m=!n&&a?o.static?a:a.prototype:null,x=n||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),b,y=!1,w=i.length-1;w>=0;w--){var v={};for(var A in o)v[A]=A==="access"?{}:o[A];for(var A in o.access)v.access[A]=o.access[A];v.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(E||null))};var k=(0,i[w])(h==="accessor"?{get:x.get,set:x.set}:x[p],v);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(b=f(k.get))&&(x.get=b),(b=f(k.set))&&(x.set=b),(b=f(k.init))&&d.unshift(b)}else(b=f(k))&&(h==="field"?d.unshift(b):x[p]=b)}m&&Object.defineProperty(m,o.name,x),y=!0}function $5(a,n,i){for(var o=arguments.length>2,d=0;d<n.length;d++)i=o?n[d].call(a,i):n[d].call(a);return o?i:void 0}function G5(a){return typeof a=="symbol"?a:"".concat(a)}function q5(a,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function Y5(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function _t(a,n,i,o){function d(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(x){try{m(o.next(x))}catch(b){f(b)}}function p(x){try{m(o.throw(x))}catch(b){f(b)}}function m(x){x.done?u(x.value):d(x.value).then(h,p)}m((o=o.apply(a,n||[])).next())})}function V5(a,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,d,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(m){return function(x){return p([m,x])}}function p(m){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(o=1,d&&(u=m[0]&2?d.return:m[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,m[1])).done)return u;switch(d=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,d=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(a,i)}catch(x){m=[6,x],d=0}finally{o=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Bu=Object.create?function(a,n,i,o){o===void 0&&(o=i);var d=Object.getOwnPropertyDescriptor(n,i);(!d||("get"in d?!n.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(a,o,d)}:function(a,n,i,o){o===void 0&&(o=i),a[o]=n[i]};function K5(a,n){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Bu(n,a,i)}function Yd(a){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&a[n],o=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cm(a,n){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var o=i.call(a),d,u=[],f;try{for(;(n===void 0||n-- >0)&&!(d=o.next()).done;)u.push(d.value)}catch(h){f={error:h}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(f)throw f.error}}return u}function W5(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(Cm(arguments[n]));return a}function J5(){for(var a=0,n=0,i=arguments.length;n<i;n++)a+=arguments[n].length;for(var o=Array(a),d=0,n=0;n<i;n++)for(var u=arguments[n],f=0,h=u.length;f<h;f++,d++)o[d]=u[f];return o}function X5(a,n,i){if(i||arguments.length===2)for(var o=0,d=n.length,u;o<d;o++)(u||!(o in n))&&(u||(u=Array.prototype.slice.call(n,0,o)),u[o]=n[o]);return a.concat(u||Array.prototype.slice.call(n))}function oc(a){return this instanceof oc?(this.v=a,this):new oc(a)}function Z5(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(a,n||[]),d,u=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),d[Symbol.asyncIterator]=function(){return this},d;function f(w){return function(v){return Promise.resolve(v).then(w,b)}}function h(w,v){o[w]&&(d[w]=function(A){return new Promise(function(k,E){u.push([w,A,k,E])>1||p(w,A)})},v&&(d[w]=v(d[w])))}function p(w,v){try{m(o[w](v))}catch(A){y(u[0][3],A)}}function m(w){w.value instanceof oc?Promise.resolve(w.value.v).then(x,b):y(u[0][2],w)}function x(w){p("next",w)}function b(w){p("throw",w)}function y(w,v){w(v),u.shift(),u.length&&p(u[0][0],u[0][1])}}function ey(a){var n,i;return n={},o("next"),o("throw",function(d){throw d}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(d,u){n[d]=a[d]?function(f){return(i=!i)?{value:oc(a[d](f)),done:!1}:u?u(f):f}:u}}function ty(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],i;return n?n.call(a):(a=typeof Yd=="function"?Yd(a):a[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=a[u]&&function(f){return new Promise(function(h,p){f=a[u](f),d(h,p,f.done,f.value)})}}function d(u,f,h,p){Promise.resolve(p).then(function(m){u({value:m,done:h})},f)}}function ry(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var iI=Object.create?function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}:function(a,n){a.default=n},Zp=function(a){return Zp=Object.getOwnPropertyNames||function(n){var i=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[i.length]=o);return i},Zp(a)};function ay(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var i=Zp(a),o=0;o<i.length;o++)i[o]!=="default"&&Bu(n,a,i[o]);return iI(n,a),n}function sy(a){return a&&a.__esModule?a:{default:a}}function ny(a,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!o:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(a):o?o.value:n.get(a)}function iy(a,n,i,o,d){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!d:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?d.call(a,i):d?d.value=i:n.set(a,i),i}function oy(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function ly(a,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var o,d;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose],i&&(d=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");d&&(o=function(){try{d.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:o,async:i})}else i&&a.stack.push({async:!0});return n}var oI=typeof SuppressedError=="function"?SuppressedError:function(a,n,i){var o=new Error(i);return o.name="SuppressedError",o.error=a,o.suppressed=n,o};function cy(a){function n(u){a.error=a.hasError?new oI(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var i,o=0;function d(){for(;i=a.stack.pop();)try{if(!i.async&&o===1)return o=0,a.stack.push(i),Promise.resolve().then(d);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(u).then(d,function(f){return n(f),d()})}else o|=1}catch(f){n(f)}if(o===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return d()}function dy(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,d,u,f){return o?n?".jsx":".js":d&&(!u||!f)?i:d+u+"."+f.toLowerCase()+"js"}):a}const lI={__extends:z5,__assign:qd,__rest:gc,__decorate:L5,__param:Q5,__esDecorate:H5,__runInitializers:$5,__propKey:G5,__setFunctionName:q5,__metadata:Y5,__awaiter:_t,__generator:V5,__createBinding:Bu,__exportStar:K5,__values:Yd,__read:Cm,__spread:W5,__spreadArrays:J5,__spreadArray:X5,__await:oc,__asyncGenerator:Z5,__asyncDelegator:ey,__asyncValues:ty,__makeTemplateObject:ry,__importStar:ay,__importDefault:sy,__classPrivateFieldGet:ny,__classPrivateFieldSet:iy,__classPrivateFieldIn:oy,__addDisposableResource:ly,__disposeResources:cy,__rewriteRelativeImportExtension:dy},cI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ly,get __assign(){return qd},__asyncDelegator:ey,__asyncGenerator:Z5,__asyncValues:ty,__await:oc,__awaiter:_t,__classPrivateFieldGet:ny,__classPrivateFieldIn:oy,__classPrivateFieldSet:iy,__createBinding:Bu,__decorate:L5,__disposeResources:cy,__esDecorate:H5,__exportStar:K5,__extends:z5,__generator:V5,__importDefault:sy,__importStar:ay,__makeTemplateObject:ry,__metadata:Y5,__param:Q5,__propKey:G5,__read:Cm,__rest:gc,__rewriteRelativeImportExtension:dy,__runInitializers:$5,__setFunctionName:q5,__spread:W5,__spreadArray:X5,__spreadArrays:J5,__values:Yd,default:lI},Symbol.toStringTag,{value:"Module"})),dI=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);let Du=class extends Error{constructor(n,i="FunctionsError",o){super(n),this.name=i,this.context=o}},uy=class extends Du{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},e3=class extends Du{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},t3=class extends Du{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Vd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Vd||(Vd={}));class uI{constructor(n,{headers:i={},customFetch:o,region:d=Vd.Any}={}){this.url=n,this.headers=i,this.region=d,this.fetch=dI(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return _t(this,arguments,void 0,function*(i,o={}){var d;let u,f;try{const{headers:h,method:p,body:m,signal:x,timeout:b}=o;let y={},{region:w}=o;w||(w=this.region);const v=new URL(`${this.url}/${i}`);w&&w!=="any"&&(y["x-region"]=w,v.searchParams.set("forceFunctionRegion",w));let A;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",A=m):typeof m=="string"?(y["Content-Type"]="text/plain",A=m):typeof FormData<"u"&&m instanceof FormData?A=m:(y["Content-Type"]="application/json",A=JSON.stringify(m)):A=m;let k=x;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),x?(k=f.signal,x.addEventListener("abort",()=>f.abort())):k=f.signal);const E=yield this.fetch(v.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),h),body:A,signal:k}).catch(I=>{throw new uy(I)}),j=E.headers.get("x-relay-error");if(j&&j==="true")throw new e3(E);if(!E.ok)throw new t3(E);let N=((d=E.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),B;return N==="application/json"?B=yield E.json():N==="application/octet-stream"||N==="application/pdf"?B=yield E.blob():N==="text/event-stream"?B=E:N==="multipart/form-data"?B=yield E.formData():B=yield E.text(),{data:B,error:null,response:E}}catch(h){return{data:null,error:h,response:h instanceof t3||h instanceof e3?h.context:void 0}}finally{u&&clearTimeout(u)}})}}const fI=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Vd},FunctionsClient:uI,FunctionsError:Du,FunctionsFetchError:uy,FunctionsHttpError:t3,FunctionsRelayError:e3},Symbol.toStringTag,{value:"Module"})),fy=fc(fI);var Pn={};const bc=fc(cI);var Q2={},H2={},$2={},G2={},q2={},Y2={},lb;function hy(){if(lb)return Y2;lb=1,Object.defineProperty(Y2,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Y2.default=a,Y2}var cb;function py(){if(cb)return q2;cb=1,Object.defineProperty(q2,"__esModule",{value:!0});const n=bc.__importDefault(hy());let i=class{constructor(d){var u,f;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(u=d.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=d.signal,this.isMaybeSingle=(f=d.isMaybeSingle)!==null&&f!==void 0?f:!1,d.fetch?this.fetch=d.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,u){return this.headers=new Headers(this.headers),this.headers.set(d,u),this}then(d,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,x,b,y;let w=null,v=null,A=null,k=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?v=I:v=JSON.parse(I))}const N=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");N&&B&&B.length>1&&(A=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(w={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,A=null,k=406,E="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const N=await p.text();try{w=JSON.parse(N),Array.isArray(w)&&p.status===404&&(v=[],w=null,k=200,E="OK")}catch{p.status===404&&N===""?(k=204,E="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((y=w==null?void 0:w.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,k=200,E="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:v,count:A,status:k,statusText:E}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,x,b,y,w,v;let A="";const k=p==null?void 0:p.cause;if(k){const E=(m=k==null?void 0:k.message)!==null&&m!==void 0?m:"",j=(x=k==null?void 0:k.code)!==null&&x!==void 0?x:"";A=`${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"FetchError"}: ${p==null?void 0:p.message}`,A+=`

Caused by: ${(y=k==null?void 0:k.name)!==null&&y!==void 0?y:"Error"}: ${E}`,j&&(A+=` (${j})`),k!=null&&k.stack&&(A+=`
${k.stack}`)}else A=(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(d,u)}returns(){return this}overrideTypes(){return this}};return q2.default=i,q2}var db;function my(){if(db)return G2;db=1,Object.defineProperty(G2,"__esModule",{value:!0});const n=bc.__importDefault(py());let i=class extends n.default{select(d){let u=!1;const f=(d??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:u=!0,nullsFirst:f,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${d}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${d}`),this}range(d,u,{foreignTable:f,referencedTable:h=f}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${d}`),this.url.searchParams.set(m,`${u-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:u=!1,settings:f=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var x;const b=[d?"analyze":null,u?"verbose":null,f?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}};return G2.default=i,G2}var ub;function Im(){if(ub)return $2;ub=1,Object.defineProperty($2,"__esModule",{value:!0});const n=bc.__importDefault(my()),i=new RegExp("[,()]");let o=class extends n.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}regexMatch(u,f){return this.url.searchParams.append(u,`match.${f}`),this}regexIMatch(u,f){return this.url.searchParams.append(u,`imatch.${f}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}isDistinct(u,f){return this.url.searchParams.append(u,`isdistinct.${f}`),this}in(u,f){const h=Array.from(new Set(f)).map(p=>typeof p=="string"&&i.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${m}fts${x}.${f}`),this}match(u){return Object.entries(u).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(u,f,h){return this.url.searchParams.append(u,`not.${f}.${h}`),this}or(u,{foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,f,h){return this.url.searchParams.append(u,`${f}.${h}`),this}};return $2.default=o,$2}var fb;function xy(){if(fb)return H2;fb=1,Object.defineProperty(H2,"__esModule",{value:!0});const n=bc.__importDefault(Im());let i=class{constructor(d,{headers:u={},schema:f,fetch:h}){this.url=d,this.headers=new Headers(u),this.schema=f,this.fetch=h}select(d,u){const{head:f=!1,count:h}=u??{},p=f?"HEAD":"GET";let m=!1;const x=(d??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:u,defaultToNull:f=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const m=d.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(m.length>0){const x=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(d,{onConflict:u,ignoreDuplicates:f=!1,count:h,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const b=d.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(b.length>0){const y=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(d,{count:u}={}){var f;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:d}={}){var u;const f="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return H2.default=i,H2}var hb;function hI(){if(hb)return Q2;hb=1,Object.defineProperty(Q2,"__esModule",{value:!0});const a=bc,n=a.__importDefault(xy()),i=a.__importDefault(Im());let o=class vy{constructor(u,{headers:f={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(f),this.schemaName=h,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new vy(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:h=!1,get:p=!1,count:m}={}){var x;let b;const y=new URL(`${this.url}/rpc/${u}`);let w;h||p?(b=h?"HEAD":"GET",Object.entries(f).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{y.searchParams.append(A,k)})):(b="POST",w=f);const v=new Headers(this.headers);return m&&v.set("Prefer",`count=${m}`),new i.default({method:b,url:y,headers:v,schema:this.schemaName,body:w,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return Q2.default=o,Q2}Object.defineProperty(Pn,"__esModule",{value:!0});Pn.PostgrestError=Pn.PostgrestBuilder=Pn.PostgrestTransformBuilder=Pn.PostgrestFilterBuilder=Pn.PostgrestQueryBuilder=Pn.PostgrestClient=void 0;const yc=bc,gy=yc.__importDefault(hI());Pn.PostgrestClient=gy.default;const by=yc.__importDefault(xy());Pn.PostgrestQueryBuilder=by.default;const yy=yc.__importDefault(Im());Pn.PostgrestFilterBuilder=yy.default;const wy=yc.__importDefault(my());Pn.PostgrestTransformBuilder=wy.default;const Ay=yc.__importDefault(py());Pn.PostgrestBuilder=Ay.default;const ky=yc.__importDefault(hy());Pn.PostgrestError=ky.default;Pn.default={PostgrestClient:gy.default,PostgrestQueryBuilder:by.default,PostgrestFilterBuilder:yy.default,PostgrestTransformBuilder:wy.default,PostgrestBuilder:Ay.default,PostgrestError:ky.default};class jy{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,d=parseInt(o.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const o=this.getWebSocketConstructor();return new o(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const pI="2.86.2",mI=`realtime-js/${pI}`,Ny="1.0.0",xI="2.0.0",pb=Ny,r3=1e4,vI=1e3,gI=100;var Qo;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Qo||(Qo={}));var Vs;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Vs||(Vs={}));var $i;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})($i||($i={}));var a3;(function(a){a.websocket="websocket"})(a3||(a3={}));var Ho;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ho||(Ho={}));class bI{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let o=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,o;const d=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var i,o;const d=(o=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,o){var d,u;const f=n.topic,h=(d=n.ref)!==null&&d!==void 0?d:"",p=(u=n.join_ref)!==null&&u!==void 0?u:"",m=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+f.length+m.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let v=new DataView(w),A=0;v.setUint8(A++,this.KINDS.userBroadcastPush),v.setUint8(A++,p.length),v.setUint8(A++,h.length),v.setUint8(A++,f.length),v.setUint8(A++,m.length),v.setUint8(A++,b.length),v.setUint8(A++,i),Array.from(p,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(h,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(f,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(m,E=>v.setUint8(A++,E.charCodeAt(0))),Array.from(b,E=>v.setUint8(A++,E.charCodeAt(0)));var k=new Uint8Array(w.byteLength+o.byteLength);return k.set(new Uint8Array(w),0),k.set(new Uint8Array(o),w.byteLength),k.buffer}decode(n,i){if(this._isArrayBuffer(n)){let o=this._binaryDecode(n);return i(o)}if(typeof n=="string"){const o=JSON.parse(n),[d,u,f,h,p]=o;return i({join_ref:d,ref:u,topic:f,event:h,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),o=i.getUint8(0),d=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,d)}}_decodeUserBroadcast(n,i,o){const d=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let p=this.HEADER_LENGTH+4;const m=o.decode(n.slice(p,p+d));p=p+d;const x=o.decode(n.slice(p,p+u));p=p+u;const b=o.decode(n.slice(p,p+f));p=p+f;const y=n.slice(p,n.byteLength),w=h===this.JSON_ENCODING?JSON.parse(o.decode(y)):y,v={type:this.BROADCAST_EVENT,event:x,payload:w};return f>0&&(v.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([o])=>i.includes(o)))}}class Sy{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qa;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(qa||(qa={}));const mb=(a,n,i={})=>{var o;const d=(o=i.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=yI(f,a,n,d),u),{}):{}},yI=(a,n,i,o)=>{const d=n.find(h=>h.name===a),u=d==null?void 0:d.type,f=i[a];return u&&!o.includes(u)?Ey(u,f):s3(f)},Ey=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return jI(n,i)}switch(a){case qa.bool:return wI(n);case qa.float4:case qa.float8:case qa.int2:case qa.int4:case qa.int8:case qa.numeric:case qa.oid:return AI(n);case qa.json:case qa.jsonb:return kI(n);case qa.timestamp:return NI(n);case qa.abstime:case qa.date:case qa.daterange:case qa.int4range:case qa.int8range:case qa.money:case qa.reltime:case qa.text:case qa.time:case qa.timestamptz:case qa.timetz:case qa.tsrange:case qa.tstzrange:return s3(n);default:return s3(n)}},s3=a=>a,wI=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},AI=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},kI=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},jI=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,o=a[i];if(a[0]==="{"&&o==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>Ey(n,h))}return a},NI=a=>typeof a=="string"?a.replace(" ","T"):a,Cy=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Qh{constructor(n,i,o={},d=r3){this.channel=n,this.event=i,this.payload=o,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var o;return this._hasReceived(n)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var n3;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(n3||(n3={}));let Iy=class fd{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},d=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fd.syncState(this.state,d,u,f),this.pendingDiffs.forEach(p=>{this.state=fd.syncDiff(this.state,p,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},d=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=fd.syncDiff(this.state,d,u,f),h())}),this.onJoin((d,u,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:u,newPresences:f})}),this.onLeave((d,u,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,o,d){const u=this.cloneDeep(n),f=this.transformState(i),h={},p={};return this.map(u,(m,x)=>{f[m]||(p[m]=x)}),this.map(f,(m,x)=>{const b=u[m];if(b){const y=x.map(k=>k.presence_ref),w=b.map(k=>k.presence_ref),v=x.filter(k=>w.indexOf(k.presence_ref)<0),A=b.filter(k=>y.indexOf(k.presence_ref)<0);v.length>0&&(h[m]=v),A.length>0&&(p[m]=A)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:p},o,d)}static syncDiff(n,i,o,d){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),d||(d=()=>{}),this.map(u,(h,p)=>{var m;const x=(m=n[h])!==null&&m!==void 0?m:[];if(n[h]=this.cloneDeep(p),x.length>0){const b=n[h].map(w=>w.presence_ref),y=x.filter(w=>b.indexOf(w.presence_ref)<0);n[h].unshift(...y)}o(h,x,p)}),this.map(f,(h,p)=>{let m=n[h];if(!m)return;const x=p.map(b=>b.presence_ref);m=m.filter(b=>x.indexOf(b.presence_ref)<0),n[h]=m,d(h,m,p),m.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(o=>i(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,o)=>{const d=n[o];return"metas"in d?i[o]=d.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[o]=d,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var i3;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(i3||(i3={}));var Vl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Vl||(Vl={}));var d1;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(d1||(d1={}));const SI=Vs;let By=class Dy{constructor(n,i={config:{}},o){var d,u;if(this.topic=n,this.params=i,this.socket=o,this.bindings={},this.state=Vs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Qh(this,$i.join,this.params,this.timeout),this.rejoinTimer=new Sy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vs.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Vs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Vs.errored,this.rejoinTimer.scheduleTimeout())}),this._on($i.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Iy(this),this.broadcastEndpointURL=Cy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var o,d,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Vs.closed){const{config:{broadcast:f,presence:h,private:p}}=this.params,m=(d=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(w=>w.filter))!==null&&d!==void 0?d:[],x=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},y={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>n==null?void 0:n(d1.CHANNEL_ERROR,w)),this._onClose(()=>n==null?void 0:n(d1.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var v;if(this.socket.setAuth(),w===void 0){n==null||n(d1.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,k=(v=A==null?void 0:A.length)!==null&&v!==void 0?v:0,E=[];for(let j=0;j<k;j++){const N=A[j],{filter:{event:B,schema:I,table:D,filter:T}}=N,R=w&&w[j];if(R&&R.event===B&&R.schema===I&&R.table===D&&R.filter===T)E.push(Object.assign(Object.assign({},N),{id:R.id}));else{this.unsubscribe(),this.state=Vs.errored,n==null||n(d1.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(d1.SUBSCRIBED);return}}).receive("error",w=>{this.state=Vs.errored,n==null||n(d1.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(d1.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,o){return this.state===Vs.joined&&n===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,o)}async httpSend(n,i,o={}){var d;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var o,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((d=m.body)===null||d===void 0?void 0:d.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,p;const m=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Vs.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($i.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(d=>{o=new Qh(this,$i.leave,{},n),o.receive("ok",()=>{i(),d("ok")}).receive("timeout",()=>{i(),d("timed out")}).receive("error",()=>{d("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vs.closed,this.bindings={}}async _fetchWithTimeout(n,i,o){const d=new AbortController,u=setTimeout(()=>d.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:d.signal}));return clearTimeout(u),f}_push(n,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Qh(this,n,i,o);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>gI){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,o){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,o){var d,u;const f=n.toLocaleLowerCase(),{close:h,error:p,leave:m,join:x}=$i;if(o&&[h,p,m,x].indexOf(f)>=0&&o!==this._joinRef())return;let y=this._onMessage(f,i,o);if(i&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(w=>{var v,A,k;return((v=w.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(A=w.filter)===null||A===void 0?void 0:A.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(w=>w.callback(y,o)):(u=this.bindings[f])===null||u===void 0||u.filter(w=>{var v,A,k,E,j,N;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const B=w.id,I=(v=w.filter)===null||v===void 0?void 0:v.event;return B&&((A=i.ids)===null||A===void 0?void 0:A.includes(B))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((k=i.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const B=(j=(E=w==null?void 0:w.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return B==="*"||B===((N=i==null?void 0:i.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof y=="object"&&"ids"in y){const v=y.data,{schema:A,table:k,commit_timestamp:E,type:j,errors:N}=v;y=Object.assign(Object.assign({},{schema:A,table:k,commit_timestamp:E,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(v))}w.callback(y,o)})}_isClosed(){return this.state===Vs.closed}_isJoined(){return this.state===Vs.joined}_isJoining(){return this.state===Vs.joining}_isLeaving(){return this.state===Vs.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,o){const d=n.toLocaleLowerCase(),u={type:d,filter:i,callback:o};return this.bindings[d]?this.bindings[d].push(u):this.bindings[d]=[u],this}_off(n,i){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(d=>{var u;return!(((u=d.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Dy.isEqual(d.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const o in n)if(n[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on($i.close,{},n)}_onError(n){this._on($i.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vs.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=mb(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=mb(n.columns,n.old_record)),i}};const Hh=()=>{},V2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EI=[1e3,2e3,5e3,1e4],CI=1e4,II=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let BI=class{constructor(n,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r3,this.transport=null,this.heartbeatIntervalMs=V2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.reconnectTimer=null,this.vsn=pb,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new bI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...u)=>d(...u):(...u)=>fetch(...u),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${a3.websocket}`,this.httpEndpoint=Cy(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,o){this.logger(n,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return Ho.Connecting;case Qo.open:return Ho.Open;case Qo.closing:return Ho.Closing;default:return Ho.Closed}}isConnected(){return this.connectionState()===Ho.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const o=`realtime:${n}`,d=this.getChannels().find(u=>u.topic===o);if(d)return d;{const u=new By(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:o,payload:d,ref:u}=n,f=()=>{this.encode(n,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${i} ${o} (${u})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(vI,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},V2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:d,payload:u,ref:f}=i,h=f?`(${f})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${d} ${h}`.trim(),u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(d,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qo.open||this.conn.readyState===Qo.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger($i.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const o=n.match(/\?/)?"&":"?",d=new URLSearchParams(i);return`${n}${o}${d}`}_workerObjectUrl(n){let i;if(n)i=n;else{const o=new Blob([II],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const d={access_token:i,version:mI};i&&o.updateJoinPayload(d),o.joinedOnce&&o._isJoined()&&o._push($i.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(i)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Sy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},V2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,o,d,u,f,h,p,m,x,b,y,w;switch(this.transport=(i=n==null?void 0:n.transport)!==null&&i!==void 0?i:null,this.timeout=(o=n==null?void 0:n.timeout)!==null&&o!==void 0?o:r3,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:V2.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n==null?void 0:n.heartbeatCallback)!==null&&h!==void 0?h:Hh,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:pb,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n==null?void 0:n.reconnectAfterMs)!==null&&m!==void 0?m:v=>EI[v-1]||CI,this.vsn){case Ny:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:(v,A)=>A(JSON.stringify(v)),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:(v,A)=>A(JSON.parse(v));break;case xI:this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=n==null?void 0:n.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}};const DI=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:SI,get REALTIME_LISTEN_TYPES(){return Vl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return i3},get REALTIME_PRESENCE_LISTEN_EVENTS(){return n3},get REALTIME_SUBSCRIBE_STATES(){return d1},RealtimeChannel:By,RealtimeClient:BI,RealtimePresence:Iy,WebSocketFactory:jy},Symbol.toStringTag,{value:"Module"})),Ty=fc(DI);class r2 extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ds(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Ry extends r2{constructor(n,i,o){super(n),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kd extends r2{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const Bm=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),TI=()=>Response,o3=a=>{if(Array.isArray(a))return a.map(i=>o3(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,o])=>{const d=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[d]=o3(o)}),n},RI=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},MI=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),$h=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},FI=(a,n,i)=>_t(void 0,void 0,void 0,function*(){const o=yield TI();a instanceof o&&!(i!=null&&i.noResolveJson)?a.json().then(d=>{const u=a.status||500,f=(d==null?void 0:d.statusCode)||u+"";n(new Ry($h(d),u,f))}).catch(d=>{n(new Kd($h(d),d))}):n(new Kd($h(a),a))}),_I=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!o?d:(RI(o)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(o)):d.body=o,n!=null&&n.duplex&&(d.duplex=n.duplex),Object.assign(Object.assign({},d),i))};function a2(a,n,i,o,d,u){return _t(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,_I(n,o,d,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>FI(p,h,o))})})}function G0(a,n,i,o){return _t(this,void 0,void 0,function*(){return a2(a,"GET",n,i,o)})}function Qi(a,n,i,o,d){return _t(this,void 0,void 0,function*(){return a2(a,"POST",n,o,d,i)})}function l3(a,n,i,o,d){return _t(this,void 0,void 0,function*(){return a2(a,"PUT",n,o,d,i)})}function PI(a,n,i,o){return _t(this,void 0,void 0,function*(){return a2(a,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Dm(a,n,i,o,d){return _t(this,void 0,void 0,function*(){return a2(a,"DELETE",n,o,d,i)})}class OI{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return _t(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ds(n))return{data:null,error:n};throw n}})}}var My;class UI{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[My]="BlobDownloadBuilder",this.promise=null}asStream(){return new OI(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _t(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ds(n))return{data:null,error:n};throw n}})}}My=Symbol.toStringTag;const zI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LI{constructor(n,i={},o,d){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=o,this.fetch=Bm(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,o,d){return _t(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},xb),d);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),d!=null&&d.headers&&(h=Object.assign(Object.assign({},h),d.headers));const m=this._removeEmptyFolders(i),x=this._getFinalPath(m),b=yield(n=="PUT"?l3:Qi)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:h},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ds(u))return{data:null,error:u};throw u}})}upload(n,i,o){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,o)})}uploadToSignedUrl(n,i,o,d){return _t(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",i);try{let p;const m=Object.assign({upsert:xb.upsert},d),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const b=yield l3(this.fetch,h.toString(),p,{headers:x});return{data:{path:u,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ds(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,i){return _t(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const d=Object.assign({},this.headers);i!=null&&i.upsert&&(d["x-upsert"]="true");const u=yield Qi(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:d}),f=new URL(this.url+u.url),h=f.searchParams.get("token");if(!h)throw new r2("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:h},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}update(n,i,o){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,o)})}move(n,i,o){return _t(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}copy(n,i,o){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield Qi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}createSignedUrl(n,i,o){return _t(this,void 0,void 0,function*(){try{let d=this._getFinalPath(n),u=yield Qi(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}createSignedUrls(n,i,o){return _t(this,void 0,void 0,function*(){try{const d=yield Qi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}download(n,i){const d=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=u?`?${u}`:"",h=this._getFinalPath(n),p=()=>G0(this.fetch,`${this.url}/${d}/${h}${f}`,{headers:this.headers,noResolveJson:!0});return new UI(p,this.shouldThrowOnError)}info(n){return _t(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const o=yield G0(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:o3(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}exists(n){return _t(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield PI(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o)&&o instanceof Kd){const d=o.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,i){const o=this._getFinalPath(n),d=[],u=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&d.push(u);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});p!==""&&d.push(p);let m=d.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${m}`)}}}remove(n){return _t(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}list(n,i,o){return _t(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},zI),i),{prefix:n||""});return{data:yield Qi(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},o),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}listV2(n,i){return _t(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield Qi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Fy="2.86.2",_y={"X-Client-Info":`storage-js/${Fy}`};class QI{constructor(n,i={},o,d){this.shouldThrowOnError=!1;const u=new URL(n);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_y),i),this.fetch=Bm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return _t(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield G0(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}getBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:yield G0(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}createBucket(n){return _t(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ds(d))return{data:null,error:d};throw d}})}updateBucket(n,i){return _t(this,void 0,void 0,function*(){try{return{data:yield l3(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ds(o))return{data:null,error:o};throw o}})}emptyBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}deleteBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var q0=class extends Error{constructor(a,n){var i;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((i=n.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HI(a,n,i){const o=new URL(n,a);if(i)for(const[d,u]of Object.entries(i))u!==void 0&&o.searchParams.set(d,u);return o.toString()}async function $I(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function GI(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:d,body:u,headers:f}){const h=HI(a.baseUrl,o,d),p=await $I(a.auth),m=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...p,...f},body:u?JSON.stringify(u):void 0}),x=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),y=b&&x?JSON.parse(x):x;if(!m.ok){const w=b?y:void 0,v=w==null?void 0:w.error;throw new q0((v==null?void 0:v.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:w})}return{status:m.status,headers:m.headers,data:y}}}}function K2(a){return a.join("")}var qI=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:K2(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${K2(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${K2(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${K2(a.namespace)}`}),!0}catch(n){if(n instanceof q0&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof q0&&i.status===409)return;throw i}}};function kl(a){return a.join("")}var YI=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kl(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof q0&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof q0&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},VI=class{constructor(a){var o;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=GI({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(o=a.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new qI(this.client,n),this.tableOps=new YI(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class Py{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_y),i),this.fetch=Bm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}listBuckets(n){return _t(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&i.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&i.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&i.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&i.set("sortOrder",n.sortOrder),n!=null&&n.search&&i.set("search",n.search);const o=i.toString(),d=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield G0(this.fetch,d,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}deleteBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ds(i))return{data:null,error:i};throw i}})}from(n){if(!MI(n))throw new r2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new VI({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>_t(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Tm={"X-Client-Info":`storage-js/${Fy}`,"Content-Type":"application/json"};class Rm extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ri(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class hd extends Rm{constructor(n,i,o){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oy extends Rm{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var c3;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(c3||(c3={}));const Tu=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),KI=()=>Response,Uy=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},WI=a=>Array.from(new Float32Array(a)),JI=(a,n)=>{if(n!==void 0&&a.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${a.float32.length}`)},vb=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),XI=(a,n,i)=>_t(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(i!=null&&i.noResolveJson)){const d=a.status||500,u=a;if(typeof u.json=="function")u.json().then(f=>{const h=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new hd(vb(f),d,h))}).catch(()=>{const f=d+"",h=u.statusText||`HTTP ${d} error`;n(new hd(h,d,f))});else{const f=d+"",h=u.statusText||`HTTP ${d} error`;n(new hd(h,d,f))}}else n(new Oy(vb(a),a))}),ZI=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return o?(Uy(o)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(o)):d.body=o,Object.assign(Object.assign({},d),i)):d};function eB(a,n,i,o,d,u){return _t(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,ZI(n,o,d,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>XI(p,h,o))})})}function gi(a,n,i,o,d){return _t(this,void 0,void 0,function*(){return eB(a,"POST",n,o,d,i)})}class zy{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),i),this.fetch=Tu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return _t(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}getIndex(n,i){return _t(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ri(o))return{data:null,error:o};throw o}})}listIndexes(n){return _t(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return _t(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ri(o))return{data:null,error:o};throw o}})}}class Ly{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),i),this.fetch=Tu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return _t(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}getVectors(n){return _t(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}listVectors(n){return _t(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield gi(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}queryVectors(n){return _t(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}deleteVectors(n){return _t(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}}class Qy{constructor(n,i={},o){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),i),this.fetch=Tu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}getBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}listBuckets(){return _t(this,arguments,void 0,function*(n={}){try{return{data:yield gi(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}deleteBucket(n){return _t(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}}class Hy extends Qy{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new $y(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _t(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _t(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _t(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _t(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class $y extends zy{constructor(n,i,o,d){super(n,i,d),this.vectorBucketName=o}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _t(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _t(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _t(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _t(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Gy(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Gy extends Ly{constructor(n,i,o,d,u){super(n,i,u),this.vectorBucketName=o,this.indexName=d}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _t(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _t(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _t(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _t(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _t(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class tB extends QI{constructor(n,i={},o,d){super(n,i,o,d)}from(n){return new LI(this.url,this.headers,n,this.fetch)}get vectors(){return new Hy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Py(this.url+"/iceberg",this.headers,this.fetch)}}const rB=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Py,StorageApiError:Ry,StorageClient:tB,StorageError:r2,StorageUnknownError:Kd,StorageVectorsApiError:hd,StorageVectorsClient:Hy,StorageVectorsError:Rm,get StorageVectorsErrorCode(){return c3},StorageVectorsUnknownError:Oy,VectorBucketApi:Qy,VectorBucketScope:$y,VectorDataApi:Ly,VectorIndexApi:zy,VectorIndexScope:Gy,isPlainObject:Uy,isStorageError:ds,isStorageVectorsError:ri,normalizeToFloat32:WI,resolveFetch:Tu,resolveResponse:KI,validateVectorDimension:JI},Symbol.toStringTag,{value:"Module"})),aB=fc(rB);var qy={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.version=void 0;Ru.version="2.86.2";(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const n=Ru;let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${n.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})(qy);var Yy={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const n=d=>d?(...u)=>d(...u):(...u)=>fetch(...u);a.resolveFetch=n;const i=()=>Headers;a.resolveHeadersConstructor=i;const o=(d,u,f)=>{const h=(0,a.resolveFetch)(f),p=(0,a.resolveHeadersConstructor)();return async(m,x)=>{var b;const y=(b=await u())!==null&&b!==void 0?b:d;let w=new p(x==null?void 0:x.headers);return w.has("apikey")||w.set("apikey",d),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),h(m,Object.assign(Object.assign({},x),{headers:w}))}};a.fetchWithAuth=o})(Yy);var No={};Object.defineProperty(No,"__esModule",{value:!0});No.isBrowser=void 0;No.uuid=sB;No.ensureTrailingSlash=Vy;No.applySettingDefaults=iB;No.validateSupabaseUrl=oB;function sB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var n=Math.random()*16|0,i=a=="x"?n:n&3|8;return i.toString(16)})}function Vy(a){return a.endsWith("/")?a:a+"/"}const nB=()=>typeof window<"u";No.isBrowser=nB;function iB(a,n){var i,o;const{db:d,auth:u,realtime:f,global:h}=a,{db:p,auth:m,realtime:x,global:b}=n,y={db:Object.assign(Object.assign({},p),d),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},b),h),{headers:Object.assign(Object.assign({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return a.accessToken?y.accessToken=a.accessToken:delete y.accessToken,y}function oB(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vy(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mu={};const Ky="2.86.2",El=30*1e3,d3=3,Gh=d3*El,lB="http://localhost:9999",cB="supabase.auth.token",dB={"X-Client-Info":`gotrue-js/${Ky}`},u3="X-Supabase-Api-Version",Wy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fB=10*60*1e3;let lc=class extends Error{constructor(n,i,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}};function zt(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let Jy=class extends lc{constructor(n,i,o){super(n,i,o),this.name="AuthApiError",this.status=i,this.code=o}};function Xy(a){return zt(a)&&a.name==="AuthApiError"}let X1=class extends lc{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}},L1=class extends lc{constructor(n,i,o,d){super(n,o,d),this.name=i,this.status=o}},Zn=class extends L1{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Zy(a){return zt(a)&&a.name==="AuthSessionMissingError"}let Uo=class extends L1{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},h0=class extends L1{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},p0=class extends L1{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ew(a){return zt(a)&&a.name==="AuthImplicitGrantRedirectError"}let f3=class extends L1{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wd=class extends L1{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}};function pd(a){return zt(a)&&a.name==="AuthRetryableFetchError"}let h3=class extends L1{constructor(n,i,o){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}};function hB(a){return zt(a)&&a.name==="AuthWeakPasswordError"}let Jd=class extends L1{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gb=` 	
\r=`.split(""),pB=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<gb.length;n+=1)a[gb[n].charCodeAt(0)]=-2;for(let n=0;n<Xd.length;n+=1)a[Xd[n].charCodeAt(0)]=n;return a})();function bb(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Xd[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;i(Xd[o]),n.queuedBits-=6}}function tw(a,n,i){const o=pB[a];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function yb(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},u=f=>{vB(f,o,i)};for(let f=0;f<a.length;f+=1)tw(a.charCodeAt(f),d,u);return n.join("")}function mB(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function xB(a,n){for(let i=0;i<a.length;i+=1){let o=a.charCodeAt(i);if(o>55295&&o<=56319){const d=(o-55296)*1024&65535;o=(a.charCodeAt(i+1)-56320&65535|d)+65536,i+=1}mB(o,n)}}function vB(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let o=1;o<6;o+=1)if(!(a>>7-o&1)){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Kl(a){const n=[],i={queue:0,queuedBits:0},o=d=>{n.push(d)};for(let d=0;d<a.length;d+=1)tw(a.charCodeAt(d),i,o);return new Uint8Array(n)}function gB(a){const n=[];return xB(a,i=>n.push(i)),new Uint8Array(n)}function Yo(a){const n=[],i={queue:0,queuedBits:0},o=d=>{n.push(d)};return a.forEach(d=>bb(d,i,o)),bb(null,i,o),n.join("")}function bB(a){return Math.round(Date.now()/1e3)+a}function yB(){return Symbol("auth-callback")}const kn=()=>typeof window<"u"&&typeof document<"u",Fo={tested:!1,writable:!1},rw=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fo.tested)return Fo.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Fo.tested=!0,Fo.writable=!0}catch{Fo.tested=!0,Fo.writable=!1}return Fo.writable};function wB(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((d,u)=>{n[u]=d})}catch{}return i.searchParams.forEach((o,d)=>{n[d]=o}),n}const aw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),AB=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Cl=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},_o=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},An=async(a,n)=>{await a.removeItem(n)};class Fu{constructor(){this.promise=new Fu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Fu.promiseConstructor=Promise;function qh(a){const n=a.split(".");if(n.length!==3)throw new Jd("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!uB.test(n[o]))throw new Jd("JWT not in base64url format");return{header:JSON.parse(yb(n[0])),payload:JSON.parse(yb(n[1])),signature:Kl(n[2]),raw:{header:n[0],payload:n[1]}}}async function kB(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function jB(a,n){return new Promise((o,d)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){o(f);return}}catch(f){if(!n(u,f)){d(f);return}}})()})}function NB(a){return("0"+a.toString(16)).substr(-2)}function SB(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let d="";for(let u=0;u<56;u++)d+=i.charAt(Math.floor(Math.random()*o));return d}return crypto.getRandomValues(n),Array.from(n,NB).join("")}async function EB(a){const i=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",i),d=new Uint8Array(o);return Array.from(d).map(u=>String.fromCharCode(u)).join("")}async function CB(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await EB(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jl(a,n,i=!1){const o=SB();let d=o;i&&(d+="/PASSWORD_RECOVERY"),await Cl(a,`${n}-code-verifier`,d);const u=await CB(o);return[u,o===u?"plain":"s256"]}const IB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BB(a){const n=a.headers.get(u3);if(!n||!n.match(IB))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function DB(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function TB(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nl(a){if(!RB.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MB(a,n){return new Proxy(a,{get:(i,o,d)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,d)}return!n.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,o,d)}})}function wb(a){return JSON.parse(JSON.stringify(a))}const zo=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),FB=[502,503,504];async function Ab(a){var n;if(!AB(a))throw new Wd(zo(a),0);if(FB.includes(a.status))throw new Wd(zo(a),a.status);let i;try{i=await a.json()}catch(u){throw new X1(zo(u),u)}let o;const d=BB(a);if(d&&d.getTime()>=Wy["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new h3(zo(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new Zn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new h3(zo(i),a.status,i.weak_password.reasons);throw new Jy(zo(i),a.status||500,o)}const _B=(a,n,i,o)=>{const d={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(o),Object.assign(Object.assign({},d),i))};async function er(a,n,i,o){var d;const u=Object.assign({},o==null?void 0:o.headers);u[u3]||(u[u3]=Wy["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(d=o==null?void 0:o.query)!==null&&d!==void 0?d:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await PB(a,n,i+h,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function PB(a,n,i,o,d,u){const f=_B(n,o,d,u);let h;try{h=await a(i,Object.assign({},f))}catch(p){throw console.error(p),new Wd(zo(p),0)}if(h.ok||await Ab(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(p){await Ab(p)}}function zi(a){var n;let i=null;zB(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=bB(a.expires_in)));const o=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:o},error:null}}function kb(a){const n=zi(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Z1(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function OB(a){return{data:a,error:null}}function UB(a){const{action_link:n,email_otp:i,hashed_token:o,redirect_to:d,verification_type:u}=a,f=gc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:o,redirect_to:d,verification_type:u},p=Object.assign({},f);return{data:{properties:h,user:p},error:null}}function jb(a){return a}function zB(a){return a.access_token&&a.refresh_token&&a.expires_in}const md=["global","local","others"];let Mm=class{constructor({url:n="",headers:i={},fetch:o}){this.url=n,this.headers=i,this.fetch=aw(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=md[0]){if(md.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await er(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,i={}){try{return await er(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Z1})}catch(o){if(zt(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:i}=n,o=gc(n,["options"]),d=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(d.new_email=o==null?void 0:o.newEmail,delete d.newEmail),await er(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:UB,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(zt(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await er(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Z1})}catch(i){if(zt(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,o,d,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await er(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:jb});if(x.error)throw x.error;const b=await x.json(),y=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(v=>{const A=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);m[`${k}Page`]=A}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(zt(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){Nl(n);try{return await er(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Z1})}catch(i){if(zt(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Nl(n);try{return await er(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Z1})}catch(o){if(zt(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,i=!1){Nl(n);try{return await er(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Z1})}catch(o){if(zt(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){Nl(n.userId);try{const{data:i,error:o}=await er(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:i,error:o}}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Nl(n.userId),Nl(n.id);try{return{data:await er(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,o,d,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await er(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:jb});if(x.error)throw x.error;const b=await x.json(),y=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(v=>{const A=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);m[`${k}Page`]=A}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(zt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await er(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await er(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(zt(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(n){try{return await er(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(zt(i))return{data:null,error:i};throw i}}};function Nb(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Lo={debug:!!(globalThis&&rw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let sw=class extends Fm{};class LB extends Fm{}async function nw(a,n,i){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async d=>{if(d){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await i()}finally{Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}else{if(n===0)throw Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new sw(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Lo.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const Sb={};async function QB(a,n,i){var o;const d=(o=Sb[a])!==null&&o!==void 0?o:Promise.resolve(),u=Promise.race([d.catch(()=>null),n>=0?new Promise((f,h)=>{setTimeout(()=>{h(new LB(`Acquring process lock with name "${a}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await i());return Sb[a]=u.catch(async f=>{if(f&&f.isAcquireTimeout)return await d,null;throw f}),await u}function HB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iw(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function $B(a){return parseInt(a,16)}function GB(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function qB(a){var n;const{chainId:i,domain:o,expirationTime:d,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:p,resources:m,scheme:x,uri:b,version:y}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=iw(a.address),v=x?`${x}://${o}`:o,A=a.statement?`${a.statement}
`:"",k=`${v} wants you to sign in with your Ethereum account:
${w}

${A}`;let E=`URI: ${b}
Version: ${y}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(d&&(E+=`
Expiration Time: ${d.toISOString()}`),h&&(E+=`
Not Before: ${h.toISOString()}`),p&&(E+=`
Request ID: ${p}`),m){let j=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);j+=`
- ${N}`}E+=j}return`${k}
${E}`}class Ks extends Error{constructor({message:n,code:i,cause:o,name:d}){var u;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=d??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Zd extends Ks{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function YB({error:a,options:n}){var i,o,d;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ks({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ks({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ks({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((d=u.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Ks({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Ks({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Ks({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ks({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Ks({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(ow(f)){if(u.rp.id!==f)return new Ks({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ks({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ks({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Ks({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ks({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function VB({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ks({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Ks({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const o=window.location.hostname;if(ow(o)){if(i.rpId!==o)return new Ks({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ks({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Ks({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ks({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class KB{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const WB=new KB;function JB(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:o}=a,d=gc(a,["challenge","user","excludeCredentials"]),u=Kl(n).buffer,f=Object.assign(Object.assign({},i),{id:Kl(i.id).buffer}),h=Object.assign(Object.assign({},d),{challenge:u,user:f});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Kl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function XB(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,o=gc(a,["challenge","allowCredentials"]),d=Kl(n).buffer,u=Object.assign(Object.assign({},o),{challenge:d});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Kl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function ZB(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Yo(new Uint8Array(a.response.attestationObject)),clientDataJSON:Yo(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function eD(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,o=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Yo(new Uint8Array(d.authenticatorData)),clientDataJSON:Yo(new Uint8Array(d.clientDataJSON)),signature:Yo(new Uint8Array(d.signature)),userHandle:d.userHandle?Yo(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ow(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Eb(){var a,n;return!!(kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function tD(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Zd("Browser returned unexpected credential type",n)}:{data:null,error:new Zd("Empty credential response",n)}}catch(n){return{data:null,error:YB({error:n,options:a})}}}async function rD(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Zd("Browser returned unexpected credential type",n)}:{data:null,error:new Zd("Empty credential response",n)}}catch(n){return{data:null,error:VB({error:n,options:a})}}}const aD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function eu(...a){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),i=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),o={};for(const d of a)if(d)for(const u in d){const f=d[u];if(f!==void 0)if(Array.isArray(f))o[u]=f;else if(i(f))o[u]=f;else if(n(f)){const h=o[u];n(h)?o[u]=eu(h,f):o[u]=eu(f)}else o[u]=f}return o}function nD(a,n){return eu(aD,a,n||{})}function iD(a,n){return eu(sD,a,n||{})}class oD{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:o,signal:d},u){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:h};const p=d??WB.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=nD(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:b}=await tD({publicKey:m,signal:p});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const m=iD(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:b}=await rD(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:p}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(f){return zt(f)?{data:null,error:f}:{data:null,error:new X1("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!i)return{data:null,error:new lc("rpId is required for WebAuthn authentication")};try{if(!Eb())return{data:null,error:new X1("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:o},signal:d},{request:u});if(!f)return{data:null,error:h};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:o,credential_response:p.credential_response}})}catch(f){return zt(f)?{data:null,error:f}:{data:null,error:new X1("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!i)return{data:null,error:new lc("rpId is required for WebAuthn registration")};try{if(!Eb())return{data:null,error:new X1("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===n&&y.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:d},{create:u});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(f){return zt(f)?{data:null,error:f}:{data:null,error:new X1("Unexpected error in register",f)}}}}HB();const lD={url:lB,storageKey:cB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Cb(a,n,i){return await i()}const Sl={};let _m=class p3{get jwks(){var n,i;return(i=(n=Sl[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Sl[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{cachedAt:n})}constructor(n){var i,o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},lD),n);if(this.storageKey=u.storageKey,this.instanceID=(i=p3.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,p3.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&kn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Mm({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=aw(u.fetch),this.lock=u.lock||Cb,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:kn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=nw:this.lock=Cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:rw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nb(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Nb(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ky}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},o="none";if(kn()&&(i=wB(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),kn()&&this.detectSessionInUrl&&o!=="none"){const{data:d,error:u}=await this._getSessionFromURL(i,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),ew(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:h}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return zt(i)?this._returnResult({error:i}):this._returnResult({error:new X1("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,o,d;try{const u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:zi}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(zt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,o,d;try{let u;if("email"in n){const{email:x,password:b,options:y}=n;let w=null,v=null;this.flowType==="pkce"&&([w,v]=await jl(this.storage,this.storageKey)),u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:x,password:b,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:v},xform:zi})}else if("phone"in n){const{phone:x,password:b,options:y}=n;u=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},channel:(d=y==null?void 0:y.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zi})}else throw new h0("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await An(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kb})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kb})}else throw new h0("You must provide either an email or phone number and a password");const{data:o,error:d}=i;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!o||!o.session||!o.user){const u=new Uo;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:d})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,o,d,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,o,d,u,f,h,p,m,x,b,y;let w,v;if("message"in n)w=n.message,v=n.signature;else{const{chain:A,wallet:k,statement:E,options:j}=n;let N;if(kn())if(typeof k=="object")N=k;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")N=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const B=new URL((i=j==null?void 0:j.url)!==null&&i!==void 0?i:window.location.href),I=await N.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=iw(I[0]);let T=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!T){const $=await N.request({method:"eth_chainId"});T=$B($)}const R={domain:B.host,address:D,statement:E,uri:B.href,version:"1",chainId:T,nonce:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=j==null?void 0:j.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=j==null?void 0:j.signInWithEthereum)===null||x===void 0?void 0:x.resources};w=qB(R),v=await N.request({method:"personal_sign",params:[GB(w),D]})}try{const{data:A,error:k}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:v},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zi});if(k)throw k;if(!A||!A.session||!A.user){const E=new Uo;return this._returnResult({data:{user:null,session:null},error:E})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:k})}catch(A){if(zt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var i,o,d,u,f,h,p,m,x,b,y,w;let v,A;if("message"in n)v=n.message,A=n.signature;else{const{chain:k,wallet:E,statement:j,options:N}=n;let B;if(kn())if(typeof E=="object")B=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))B=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=E}const I=new URL((i=N==null?void 0:N.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const D=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),j?{statement:j}:null));let T;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")T=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)T=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),A=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${I.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(d=(o=N==null?void 0:N.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((b=(x=N==null?void 0:N.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...N.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const D=await B.signMessage(new TextEncoder().encode(v),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=D}}try{const{data:k,error:E}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Yo(A)},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:zi});if(E)throw E;if(!k||!k.session||!k.user){const j=new Uo;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(zt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(n){const i=await _o(this.storage,`${this.storageKey}-code-verifier`),[o,d]=(i??"").split("/");try{const{data:u,error:f}=await er(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:zi});if(await An(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new Uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:d??null}),error:f})}catch(u){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:o,token:d,access_token:u,nonce:f}=n,h=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:d,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:zi}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const x=new Uo;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,o,d,u,f;try{if("email"in n){const{email:h,options:p}=n;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await jl(this.storage,this.storageKey));const{error:b}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:h,options:p}=n,{data:m,error:x}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(d=p==null?void 0:p.data)!==null&&d!==void 0?d:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x})}throw new h0("You must provide either an email or phone number.")}catch(h){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,o;try{let d,u;"options"in n&&(d=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:h}=await er(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:d,xform:zi});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(d){if(zt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var i,o,d,u,f;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await jl(this.storage,this.storageKey));const m=await er(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:OB});return!((u=m.data)===null||u===void 0)&&u.url&&kn()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)throw o;if(!i)throw new Zn;const{error:d}=await er(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(zt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:o,type:d,options:u}=n,{error:f}=await er(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:o,type:d,options:u}=n,{data:f,error:h}=await er(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new h0("You must provide either an email or phone number and a type")}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await _o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await _o(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Yh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=MB(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Z1}):await this._useSession(async i=>{var o,d,u;const{data:f,error:h}=i;if(h)throw h;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0,xform:Z1})})}catch(i){if(zt(i))return Zy(i)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async o=>{const{data:d,error:u}=o;if(u)throw u;if(!d.session)throw new Zn;const f=d.session;let h=null,p=null;this.flowType==="pkce"&&n.email!=null&&([h,p]=await jl(this.storage,this.storageKey));const{data:m,error:x}=await er(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:p}),jwt:f.access_token,xform:Z1});if(x)throw x;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Zn;const i=Date.now()/1e3;let o=i,d=!0,u=null;const{payload:f}=qh(n.access_token);if(f.exp&&(o=f.exp,d=o<=i),d){const{data:h,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(zt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var o;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new Zn;const{data:d,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!kn())throw new p0("No browser detected.");if(n.error||n.error_description||n.error_code)throw new p0(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new f3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new p0("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new f3("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(n.code);if(N)throw N;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:d,access_token:u,refresh_token:f,expires_in:h,expires_at:p,token_type:m}=n;if(!u||!h||!f||!m)throw new p0("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(h);let y=x+b;p&&(y=parseInt(p));const w=y-x;w*1e3<=El&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const v=y-b;x-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,x):x-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,y,x);const{data:A,error:k}=await this._getUser(u);if(k)throw k;const E={provider_token:o,provider_refresh_token:d,access_token:u,expires_in:b,expires_at:y,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(o){if(zt(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await _o(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({error:u});const f=(o=d.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(Xy(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=yB(),o={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async i=>{var o,d;try{const{data:{session:u},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let o=null,d=null;this.flowType==="pkce"&&([o,d]=await jl(this.storage,this.storageKey,!0));try{return await er(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:d,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:o,error:d}=await this._useSession(async u=>{var f,h,p,m,x;const{data:b,error:y}=u;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await er(this.fetch,"GET",w,{headers:this.headers,jwt:(x=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(d)throw d;return kn()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:n.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(zt(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var o;try{const{error:d,data:{session:u}}=i;if(d)throw d;const{options:f,provider:h,token:p,access_token:m,nonce:x}=n,b=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:p,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zi}),{data:y,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Uo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(d){if(await An(this.storage,`${this.storageKey}-code-verifier`),zt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var o,d;const{data:u,error:f}=i;if(f)throw f;return await er(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await jB(async d=>(d>0&&await kB(200*Math.pow(2,d-1)),this._debug(i,"refreshing attempt",d),await er(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:zi})),(d,u)=>{const f=200*Math.pow(2,d);return u&&pd(u)&&Date.now()+f-o<El})}catch(o){if(this._debug(i,"error",o),zt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",o),kn()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const d=await _o(this.storage,this.storageKey);if(d&&this.userStorage){let f=await _o(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Cl(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Yh()}else if(d&&!d.user&&!d.user){const f=await _o(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(d.user=f.user,await An(this.storage,this.storageKey+"-user"),await Cl(this.storage,this.storageKey,d)):d.user=Yh()}if(this._debug(o,"session from storage",d),!this._isValidSession(d)){this._debug(o,"session is not valid"),d!==null&&await this._removeSession();return}const u=((i=d.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Gh;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Gh}s`),u){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),pd(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(d.access_token);!h&&(f!=null&&f.user)?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(o,"error",d),console.error(d);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var i,o;if(!n)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Fu;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new Zn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(d,"error",u),zt(u)){const f={data:null,error:u};return pd(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,i,o=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(p){u.push(p)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await An(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Cl(this.userStorage,this.storageKey+"-user",{user:i.user});const d=Object.assign({},i);delete d.user;const u=wb(d);await Cl(this.storage,this.storageKey,u)}else{const d=wb(i);await Cl(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),El);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((o.expires_at*1e3-n)/El);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${El}ms, refresh threshold is ${d3} ticks`),d<=d3&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Fm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,o){const d=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&d.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&d.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await jl(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(h.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);d.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&d.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;return u?this._returnResult({data:null,error:u}):await er(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var o,d;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:m}=await er(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&p.type==="totp"&&(!((d=p==null?void 0:p.totp)===null||d===void 0)&&d.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?ZB(n.webauthn.credential_response):eD(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:p}=await er(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:d,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await er(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:JB(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:XB(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const d={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i==null?void 0:i.factors)!==null&&n!==void 0?n:[])d.all.push(u),u.status==="verified"&&d[u.factor_type].push(u);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:o},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=qh(o.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;return d?this._returnResult({data:null,error:d}):o?await er(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new Zn});const f=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&kn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(zt(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,i){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new Zn});const f=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&kn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(zt(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await er(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(n){if(zt(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;return d?this._returnResult({data:null,error:d}):o?(await er(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zn})})}catch(i){if(zt(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let o=i.keys.find(h=>h.kid===n);if(o)return o;const d=Date.now();if(o=this.jwks.keys.find(h=>h.kid===n),o&&this.jwks_cached_at+fB>d)return o;const{data:u,error:f}=await er(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=d,o=u.keys.find(h=>h.kid===n),!o)?null:o}async getClaims(n,i={}){try{let o=n;if(!o){const{data:w,error:v}=await this.getSession();if(v||!w.session)return this._returnResult({data:null,error:v});o=w.session.access_token}const{header:d,payload:u,signature:f,raw:{header:h,payload:p}}=qh(o);i!=null&&i.allowExpired||DB(u.exp);const m=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:w}=await this.getUser(o);if(w)throw w;return{data:{claims:u,header:d,signature:f},error:null}}const x=TB(d.alg),b=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,f,gB(`${h}.${p}`)))throw new Jd("Invalid JWT signature");return{data:{claims:u,header:d,signature:f},error:null}}catch(o){if(zt(o))return this._returnResult({data:null,error:o});throw o}}};_m.nextInstanceID={};const cD=Mm,dD=_m,uD=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:cD,AuthApiError:Jy,AuthClient:dD,AuthError:lc,AuthImplicitGrantRedirectError:p0,AuthInvalidCredentialsError:h0,AuthInvalidJwtError:Jd,AuthInvalidTokenResponseError:Uo,AuthPKCEGrantCodeExchangeError:f3,AuthRetryableFetchError:Wd,AuthSessionMissingError:Zn,AuthUnknownError:X1,AuthWeakPasswordError:h3,CustomAuthError:L1,GoTrueAdminApi:Mm,GoTrueClient:_m,NavigatorLockAcquireTimeoutError:sw,SIGN_OUT_SCOPES:md,isAuthApiError:Xy,isAuthError:zt,isAuthImplicitGrantRedirectError:ew,isAuthRetryableFetchError:pd,isAuthSessionMissingError:Zy,isAuthWeakPasswordError:hB,lockInternals:Lo,navigatorLock:nw,processLock:QB},Symbol.toStringTag,{value:"Module"})),lw=fc(uD);Object.defineProperty(Mu,"__esModule",{value:!0});Mu.SupabaseAuthClient=void 0;const fD=lw;class hD extends fD.AuthClient{constructor(n){super(n)}}Mu.SupabaseAuthClient=hD;Object.defineProperty(Gd,"__esModule",{value:!0});const pD=fy,mD=Pn,xD=Ty,vD=aB,W2=qy,gD=Yy,Ib=No,bD=Mu;let yD=class{constructor(n,i,o){var d,u,f;this.supabaseUrl=n,this.supabaseKey=i;const h=(0,Ib.validateSupabaseUrl)(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:W2.DEFAULT_DB_OPTIONS,realtime:W2.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},W2.DEFAULT_AUTH_OPTIONS),{storageKey:p}),global:W2.DEFAULT_GLOBAL_OPTIONS},x=(0,Ib.applySettingDefaults)(o??{},m);this.storageKey=(d=x.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(b,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=(0,gD.fetchWithAuth)(i,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new mD.PostgrestClient(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new vD.StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new pD.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,o)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:d,userStorage:u,storageKey:f,flowType:h,lock:p,debug:m,throwOnError:x},b,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bD.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),b),storageKey:f,autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:d,userStorage:u,flowType:h,lock:p,debug:m,throwOnError:x,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new xD.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,i,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Gd.default=yD;(function(a){var n=vr&&vr.__createBinding||(Object.create?function(x,b,y,w){w===void 0&&(w=y);var v=Object.getOwnPropertyDescriptor(b,y);(!v||("get"in v?!b.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return b[y]}}),Object.defineProperty(x,w,v)}:function(x,b,y,w){w===void 0&&(w=y),x[w]=b[y]}),i=vr&&vr.__exportStar||function(x,b){for(var y in x)y!=="default"&&!Object.prototype.hasOwnProperty.call(b,y)&&n(b,x,y)},o=vr&&vr.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const d=o(Gd);i(lw,a);var u=Pn;Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var f=fy;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),i(Ty,a);var h=Gd;Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return o(h).default}});const p=(x,b,y)=>new d.default(x,b,y);a.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const b=x.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Em);const cw=cu(Em),wD=l6({__proto__:null,default:cw},[Em]),{PostgrestError:fP,FunctionsHttpError:hP,FunctionsFetchError:pP,FunctionsRelayError:mP,FunctionsError:xP,FunctionRegion:vP,SupabaseClient:gP,createClient:AD,GoTrueAdminApi:bP,GoTrueClient:yP,AuthAdminApi:wP,AuthClient:AP,navigatorLock:kP,NavigatorLockAcquireTimeoutError:jP,lockInternals:NP,processLock:SP,SIGN_OUT_SCOPES:EP,AuthError:CP,AuthApiError:IP,AuthUnknownError:BP,CustomAuthError:DP,AuthSessionMissingError:TP,AuthInvalidTokenResponseError:RP,AuthInvalidCredentialsError:MP,AuthImplicitGrantRedirectError:FP,AuthPKCEGrantCodeExchangeError:_P,AuthRetryableFetchError:PP,AuthWeakPasswordError:OP,AuthInvalidJwtError:UP,isAuthError:zP,isAuthApiError:LP,isAuthSessionMissingError:QP,isAuthImplicitGrantRedirectError:HP,isAuthRetryableFetchError:$P,isAuthWeakPasswordError:GP,RealtimePresence:qP,RealtimeChannel:YP,RealtimeClient:VP,REALTIME_LISTEN_TYPES:KP,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:WP,REALTIME_PRESENCE_LISTEN_EVENTS:JP,REALTIME_SUBSCRIBE_STATES:XP,REALTIME_CHANNEL_STATES:ZP}=cw||wD,kD="https://naydyhkqodppdhzwkctr.supabase.co",jD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5heWR5aGtxb2RwcGRoendrY3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MTY0OTEsImV4cCI6MjA4MDQ5MjQ5MX0.hcgyx8PUSU_Y-FnICI4cLeGI9Ikt7cGhqLCtMTJOq1c",Dr=AD(kD,jD,{realtime:{params:{eventsPerSecond:10}}}),ND=[],zs=U1(z1((a,n)=>({products:ND,categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis","Paket Bundling"],units:["pcs","kg","box","pack","lusin","kodi","gross","paket"],stockHistory:[],isOnline:!1,isSyncing:!1,setProducts:i=>a({products:i}),setCategories:i=>a({categories:i}),setUnits:i=>a({units:i}),setStockHistory:i=>a({stockHistory:i}),initRealtime:async()=>{try{await n().fetchProducts(),await n().fetchCategories(),await n().fetchUnits(),a({isOnline:!0}),Dr.channel("products-channel").on("postgres_changes",{event:"*",schema:"public",table:"products"},i=>{console.log("Product change:",i),i.eventType==="INSERT"?a(o=>({products:[...o.products.filter(d=>d.id!==i.new.id),Vh(i.new)]})):i.eventType==="UPDATE"?a(o=>({products:o.products.map(d=>d.id===i.new.id?Vh(i.new):d)})):i.eventType==="DELETE"&&a(o=>({products:o.products.filter(d=>d.id!==i.old.id)}))}).on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>{n().fetchCategories()}).on("postgres_changes",{event:"*",schema:"public",table:"units"},()=>{n().fetchUnits()}).subscribe()}catch(i){console.error("Realtime init error:",i),a({isOnline:!1})}},fetchProducts:async()=>{a({isSyncing:!0});const{data:i,error:o}=await Dr.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});a(!o&&i?{products:i.map(Vh),isSyncing:!1}:{isSyncing:!1})},fetchCategories:async()=>{const{data:i,error:o}=await Dr.from("categories").select("name").order("name");!o&&i&&a({categories:i.map(d=>d.name)})},fetchUnits:async()=>{const{data:i,error:o}=await Dr.from("units").select("name").order("name");!o&&i&&a({units:i.map(d=>d.name)})},addProduct:async(i,o=null,d=null)=>{const u={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),code:i.code||`PRD${String(n().products.length+1).padStart(3,"0")}`};a(f=>({products:[...f.products,u]})),f1.getState().addLog(ji.PRODUCT_ADD,{productId:u.id,productCode:u.code,productName:u.name,category:u.category,price:u.price,stock:u.stock},o,d);{const{error:f}=await Dr.from("products").insert({id:u.id,code:u.code,sku:u.sku,barcode:u.barcode,name:u.name,description:u.description,category:u.category,unit:u.unit,price:u.price||0,cost:u.cost||0,stock:u.stock||0,min_stock:u.minStock||0,max_stock:u.maxStock||0,image_url:u.image,parent_id:u.parentId,variant_name:u.variantName});f&&console.error("Error adding product to Supabase:",f)}},updateProduct:async(i,o,d=null,u=null)=>{const f=n().products.find(h=>h.id===i);a(h=>({products:h.products.map(p=>p.id===i?{...p,...o}:p)})),f1.getState().addLog(ji.PRODUCT_EDIT,{productId:i,productName:o.name||(f==null?void 0:f.name),changes:Object.keys(o).filter(h=>f&&o[h]!==f[h])},d,u);{const{error:h}=await Dr.from("products").update({code:o.code,sku:o.sku,barcode:o.barcode,name:o.name,description:o.description,category:o.category,unit:o.unit,price:o.price,cost:o.cost,stock:o.stock,min_stock:o.minStock,max_stock:o.maxStock,image_url:o.image}).eq("id",i);h&&console.error("Error updating product:",h)}},deleteProduct:async(i,o=null,d=null)=>{const u=n().products.find(f=>f.id===i);f1.getState().addLog(ji.PRODUCT_DELETE,{productId:i,productCode:u==null?void 0:u.code,productName:u==null?void 0:u.name},o,d),a(f=>({products:f.products.filter(h=>h.id!==i)}));{const{error:f}=await Dr.from("products").update({is_active:!1}).eq("id",i);f&&console.error("Error deleting product:",f)}},addCategory:async i=>{a(o=>({categories:[...o.categories,i]})),await Dr.from("categories").insert({name:i})},removeCategory:async i=>{a(o=>({categories:o.categories.filter(d=>d!==i)})),await Dr.from("categories").delete().eq("name",i)},addUnit:async i=>{a(o=>({units:[...o.units,i]})),await Dr.from("units").insert({name:i})},removeUnit:async i=>{a(o=>({units:o.units.filter(d=>d!==i)})),await Dr.from("units").delete().eq("name",i)},updateStock:async(i,o,d="set",u="adjustment",f="",h=null)=>{const p=n().products.find(v=>v.id===i);if(!p)return{success:!1,error:"Product not found"};const m=p.stock;let x=m;d==="add"?x+=o:d==="subtract"?x-=o:x=o,x=Math.max(0,x);const b=x-m,y={id:Date.now(),productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:x,change:b,type:u,note:f,userId:h,createdAt:new Date().toISOString()};a(v=>({products:v.products.map(A=>A.id===i?{...A,stock:x}:A),stockHistory:[y,...v.stockHistory].slice(0,1e3)}));const w=u==="purchase"?ji.STOCK_PURCHASE:u==="adjustment"?ji.STOCK_ADJUST:u==="opname"?ji.STOCK_OPNAME:ji.STOCK_ADJUST;return f1.getState().addLog(w,{productId:i,productName:p.name,productSku:p.sku||p.code,oldStock:m,newStock:x,change:b,reason:u,note:f},h,null),await Dr.from("products").update({stock:x}).eq("id",i),await Dr.from("stock_history").insert({product_id:i,old_stock:m,new_stock:x,change:b,type:u,note:f,user_id:h}).catch(()=>{}),{success:!0,oldStock:m,newStock:x,change:b}},bulkUpdateStock:async(i,o="sync_marketplace",d=null)=>{const u=[];for(const{productId:f,newStock:h,note:p}of i){const m=await n().updateStock(f,h,"set",o,p,d);u.push({productId:f,...m})}return u},getProductStockHistory:i=>n().stockHistory.filter(o=>o.productId===i),getStockHistoryByType:i=>n().stockHistory.filter(o=>o.type===i),getStockHistoryByDateRange:(i,o)=>{const d=new Date(i).getTime(),u=new Date(o).getTime();return n().stockHistory.filter(f=>{const h=new Date(f.createdAt).getTime();return h>=d&&h<=u})},clearOldStockHistory:(i=90)=>{const o=new Date;o.setDate(o.getDate()-i);const d=o.getTime();a(u=>({stockHistory:u.stockHistory.filter(f=>new Date(f.createdAt).getTime()>=d)}))},getProductByBarcode:i=>n().products.find(o=>o.barcode===i),getLowStockProducts:()=>n().products.filter(i=>i.stock<=i.minStock),importShopeeProducts:i=>{const o=n().products;let d=0,u=0,f=0;const h=new Set(o.filter(m=>m.sku&&m.sku.trim()!=="").map(m=>m.sku.trim().toLowerCase()));i.length>0&&(console.log("ProductStore - First Shopee Item:",i[0]),console.log("ProductStore - Existing SKUs count:",h.size)),i.forEach(m=>{var b,y,w,v,A,k,E,j,N,B,I,D,T,R,$,F,_,Q,H,J;if(m.has_model&&m.models&&m.models.length>1)d===0&&u===0&&console.log("Model Structure Debug:",JSON.stringify(m.models[0],null,2)),m.models.forEach((K,he)=>{var ke,ae,De,we,Ae,Le,xe,Oe,Te,Pe,Ue,Ze,te,oe;const G=`shopee_${m.item_id}_${K.model_id}`,L=o.findIndex(Re=>Re.id===G),ce=K.model_name||(K.tier_index&&m.tier_variation?m.tier_variation.map((Re,ze)=>{var Je,Qe,qe;return((qe=(Qe=Re.option_list)==null?void 0:Qe[(Je=K.tier_index)==null?void 0:Je[ze]])==null?void 0:qe.option)||""}).filter(Boolean).join(" - "):""),fe=K.model_sku&&K.model_sku.trim()||"";if(L<0&&fe&&h.has(fe.toLowerCase())){console.log(`Skipping duplicate SKU: ${fe}`),f++;return}const U=K.current_price||((ke=K.price_info)==null?void 0:ke.current_price)||((ae=K.price_info)==null?void 0:ae.original_price)||K.original_price||K.price||Array.isArray(K.price_info)&&((De=K.price_info[0])==null?void 0:De.current_price)||0,ee=K.stock||((Le=(Ae=(we=K.stock_info_v2)==null?void 0:we.seller_stock)==null?void 0:Ae[0])==null?void 0:Le.stock)||((Oe=(xe=K.stock_info_v2)==null?void 0:xe.summary_info)==null?void 0:Oe.total_available_stock)||((Te=K.stock_info)==null?void 0:Te.current_stock)||K.normal_stock||0,se=K.model_image_url||((Ue=(Pe=m.image)==null?void 0:Pe.image_url_list)==null?void 0:Ue[0])||"";d===0&&u===0&&he===0&&console.log("Variant Debug:",{item_id:m.item_id,model_id:K.model_id,model_name:ce,model_sku:fe,price:U,stock:ee});const de={id:G,shopeeItemId:m.item_id,shopeeModelId:K.model_id,shopeeShopId:m.shop_id,code:`SHP${String(m.item_id).slice(-4)}${String(K.model_id).slice(-2)}`,sku:fe||"",barcode:"",name:ce?`${m.item_name} - ${ce}`:m.item_name,parentName:m.item_name,variantName:ce,description:m.description||"",category:"Shopee",categoryId:m.category_id,unit:"pcs",price:U,originalPrice:((Ze=K.price_info)==null?void 0:Ze.original_price)||0,cost:0,stock:ee,minStock:5,maxStock:100,image:se,images:((te=m.image)==null?void 0:te.image_url_list)||[],source:"shopee",shopeeStatus:m.item_status||"NORMAL",hasModel:!0,isVariant:!0,parentItemId:m.item_id,condition:m.condition||"NEW",weight:m.weight,dimension:m.dimension,brand:((oe=m.brand)==null?void 0:oe.original_brand_name)||"",createdTime:m.create_time?new Date(m.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};L>=0?(o[L]={...o[L],...de,id:o[L].id,source:"shopee"},u++):(o.push(de),d++,fe&&h.add(fe.toLowerCase()))});else{const K=`shopee_${m.item_id}`,he=o.findIndex(ee=>ee.shopeeItemId===m.item_id||ee.id===K),G=m.item_sku&&m.item_sku.trim()||m.model_sku&&m.model_sku.trim()||m.models&&m.models.length>0&&((y=(b=m.models[0])==null?void 0:b.model_sku)==null?void 0:y.trim())||"";if(he<0&&G&&h.has(G.toLowerCase())){console.log(`Skipping duplicate SKU: ${G}`),f++;return}const L=m.current_price||Array.isArray(m.price_info)&&((w=m.price_info[0])==null?void 0:w.current_price)||((v=m.price_info)==null?void 0:v.current_price)||m.models&&m.models.length>0&&((k=(A=m.models[0])==null?void 0:A.price_info)==null?void 0:k.current_price)||0,ce=m.current_stock||((j=(E=m.stock_info_v2)==null?void 0:E.summary_info)==null?void 0:j.total_available_stock)||m.models&&m.models.length>0&&((I=(B=(N=m.models[0])==null?void 0:N.stock_info_v2)==null?void 0:B.summary_info)==null?void 0:I.total_available_stock)||((D=m.stock_info)==null?void 0:D.current_stock)||0,fe=((R=(T=m.image)==null?void 0:T.image_url_list)==null?void 0:R[0])||(typeof m.image=="string"?m.image:"")||"",U={id:K,shopeeItemId:m.item_id,shopeeShopId:m.shop_id,code:`SHP${String(m.item_id).slice(-6)}`,sku:G||"",barcode:"",name:m.item_name||`Shopee Product ${m.item_id}`,description:m.description||"",category:"Shopee",categoryId:m.category_id,unit:"pcs",price:L,originalPrice:Array.isArray(m.price_info)?($=m.price_info[0])==null?void 0:$.original_price:((F=m.price_info)==null?void 0:F.original_price)||0,cost:0,stock:ce,minStock:5,maxStock:100,image:fe,images:((_=m.image)==null?void 0:_.image_url_list)||[],source:"shopee",shopeeStatus:m.item_status||"NORMAL",shopeeModelId:(H=(Q=m.models)==null?void 0:Q[0])==null?void 0:H.model_id,hasModel:m.has_model||!1,isVariant:!1,condition:m.condition||"NEW",weight:m.weight,dimension:m.dimension,brand:((J=m.brand)==null?void 0:J.original_brand_name)||"",createdTime:m.create_time?new Date(m.create_time*1e3).toISOString():null,updatedAt:new Date().toISOString()};he>=0?(o[he]={...o[he],...U,id:o[he].id,source:"shopee"},u++):(o.push(U),d++,G&&h.add(G.toLowerCase()))}}),a({products:[...o]});const p=n().categories;return p.includes("Shopee")||a({categories:[...p,"Shopee"]}),{imported:d,updated:u,skipped:f,total:i.length}},clearShopeeProducts:()=>{const i=n().products.filter(o=>o.source!=="shopee");return a({products:i}),i.length},getProductsBySource:i=>n().products.filter(o=>o.source===i)}),{name:"product-storage"}));function Vh(a){return{id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category,unit:a.unit,price:parseFloat(a.price)||0,cost:parseFloat(a.cost)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,parentId:a.parent_id,variantName:a.variant_name,createdAt:a.created_at,updatedAt:a.updated_at}}const SD="00000000-0000-0000-0000-000000000001",ED=[{id:SD,name:"Walk-in Customer",phone:"",email:"",type:"walk-in",points:0,totalSpent:0,customPrices:{}}],x1=U1(z1((a,n)=>({customers:ED,isOnline:!1,setCustomers:i=>a({customers:i}),initRealtime:async()=>{try{await n().fetchCustomers(),a({isOnline:!0}),Dr.channel("customers-channel").on("postgres_changes",{event:"*",schema:"public",table:"customers"},i=>{i.eventType==="INSERT"?a(o=>({customers:[...o.customers.filter(d=>d.id!==i.new.id),Kh(i.new)]})):i.eventType==="UPDATE"?a(o=>({customers:o.customers.map(d=>d.id===i.new.id?Kh(i.new):d)})):i.eventType==="DELETE"&&a(o=>({customers:o.customers.filter(d=>d.id!==i.old.id)}))}).subscribe()}catch(i){console.error("Customer realtime error:",i)}},fetchCustomers:async()=>{const{data:i,error:o}=await Dr.from("customers").select("*").order("name");!o&&i&&a({customers:i.map(Kh)})},addCustomer:async i=>{const o={...i,id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),points:0,totalSpent:0,type:i.type||"member"};a(d=>({customers:[...d.customers,o]})),await Dr.from("customers").insert({id:o.id,name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type,points:0,total_spent:0,custom_prices:{}})},updateCustomer:async(i,o)=>{a(d=>({customers:d.customers.map(u=>u.id===i?{...u,...o}:u)})),await Dr.from("customers").update({name:o.name,phone:o.phone,email:o.email,address:o.address,type:o.type}).eq("id",i)},deleteCustomer:async i=>{a(o=>({customers:o.customers.filter(d=>d.id!==i)})),await Dr.from("customers").delete().eq("id",i)},addPoints:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=d.points+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:u}:h)})),await Dr.from("customers").update({points:u}).eq("id",i)},redeemPoints:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=Math.max(0,d.points-o);a(f=>({customers:f.customers.map(h=>h.id===i?{...h,points:u}:h)})),await Dr.from("customers").update({points:u}).eq("id",i)},addTransaction:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u=d.totalSpent+o;a(f=>({customers:f.customers.map(h=>h.id===i?{...h,totalSpent:u}:h)})),await Dr.from("customers").update({total_spent:u}).eq("id",i)},setCustomPrice:async(i,o,d)=>{const u=n().customers.find(h=>h.id===i);if(!u)return;const f={...u.customPrices,[o]:d};a(h=>({customers:h.customers.map(p=>p.id===i?{...p,customPrices:f}:p)})),await Dr.from("customers").update({custom_prices:f}).eq("id",i)},removeCustomPrice:async(i,o)=>{const d=n().customers.find(f=>f.id===i);if(!d)return;const u={...d.customPrices};delete u[o],a(f=>({customers:f.customers.map(h=>h.id===i?{...h,customPrices:u}:h)})),await Dr.from("customers").update({custom_prices:u}).eq("id",i)}}),{name:"customer-storage"}));function Kh(a){return{id:a.id,name:a.name,phone:a.phone||"",email:a.email||"",address:a.address||"",type:a.type||"member",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,customPrices:a.custom_prices||{}}}const m1=U1(z1((a,n)=>({transactions:[],isOnline:!1,setTransactions:i=>a({transactions:i}),initRealtime:async()=>{try{await n().fetchTransactions(),a({isOnline:!0}),Dr.channel("transactions-channel").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},i=>{i.eventType==="INSERT"?a(o=>({transactions:[Wh(i.new),...o.transactions.filter(d=>d.id!==i.new.id)]})):i.eventType==="UPDATE"&&a(o=>({transactions:o.transactions.map(d=>d.id===i.new.id?Wh(i.new):d)}))}).subscribe()}catch(i){console.error("Transaction realtime error:",i)}},fetchTransactions:async()=>{const{data:i,error:o}=await Dr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);!o&&i&&a({transactions:i.map(Wh)})},addTransaction:async i=>{var u,f;const o=`TRX${Date.now()}`,d={...i,id:crypto.randomUUID?crypto.randomUUID():o,transactionCode:o,date:new Date().toISOString(),status:"completed",source:i.source||"pos"};return a(h=>({transactions:[d,...h.transactions]})),f1.getState().addLog(ji.TRANSACTION_CREATE,{transactionId:d.id,transactionCode:o,total:i.total,itemCount:((u=i.items)==null?void 0:u.length)||0,paymentMethod:i.paymentMethod,source:d.source},i.cashierId||null,i.cashierName||null),await Dr.from("transactions").insert({id:d.id,transaction_code:o,customer_id:(f=i.customer)==null?void 0:f.id,items:i.items,subtotal:i.subtotal,discount:i.discount,tax:i.tax,total:i.total,payment_method:i.paymentMethod,cash_amount:i.cashAmount,change_amount:i.change,status:"completed",cashier_name:i.cashierName}),d},voidTransaction:async(i,o,d=null,u=null,f=null)=>{var m;const h=n().transactions.find(x=>x.id===i),p=new Date().toISOString();if(a(x=>({transactions:x.transactions.map(b=>b.id===i?{...b,status:"void",voidReason:o,voidDate:p}:b)})),f1.getState().addLog(ji.TRANSACTION_VOID,{transactionId:i,transactionCode:h==null?void 0:h.transactionCode,originalTotal:h==null?void 0:h.total,reason:o,itemsRestored:((m=h==null?void 0:h.items)==null?void 0:m.length)||0},u,f),d&&h&&h.items)for(const x of h.items)await d(x.id,x.quantity,"add","return",`Void transaksi: ${i} - ${o}`,u);return await Dr.from("transactions").update({status:"void",void_reason:o,void_date:p}).eq("id",i),{success:!0,transaction:h}},getTransactionsByDate:(i,o)=>n().transactions.filter(d=>{const u=new Date(d.date);return u>=i&&u<=o}),getTodayTransactions:()=>{const i=new Date;return i.setHours(0,0,0,0),n().transactions.filter(o=>{const d=new Date(o.date);return d.setHours(0,0,0,0),d.getTime()===i.getTime()&&o.status==="completed"})},getTodaySales:()=>n().getTodayTransactions().reduce((o,d)=>o+d.total,0),getTransactionCount:()=>n().transactions.filter(i=>i.status==="completed").length,updateTransaction:(i,o)=>{a(d=>({transactions:d.transactions.map(u=>u.id===i?{...u,...o}:u)}))},clearMarketplaceTransactions:()=>{a(i=>({transactions:i.transactions.filter(o=>o.source!=="shopee"&&o.source!=="lazada"&&o.source!=="tokopedia"&&o.source!=="tiktok"&&!o.marketplaceSource)}))}}),{name:"transaction-storage"}));function Wh(a){return{id:a.id,transactionCode:a.transaction_code,customerId:a.customer_id,items:a.items||[],subtotal:parseFloat(a.subtotal)||0,discount:parseFloat(a.discount)||0,tax:parseFloat(a.tax)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.cash_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status,voidReason:a.void_reason,voidDate:a.void_date,cashierName:a.cashier_name,source:a.source||"pos",date:a.created_at}}const CD=a=>({id:a.id,code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category:a.category_id,unit:a.unit_id,cost:parseFloat(a.cost_price)||0,price:parseFloat(a.selling_price)||0,stock:a.stock||0,minStock:a.min_stock||0,maxStock:a.max_stock||0,image:a.image_url,shopeeItemId:a.shopee_item_id,shopeeModelId:a.shopee_model_id,source:a.source||"local",isVariant:a.is_variant||!1,parentId:a.parent_product_id,variantName:a.variant_name,isActive:a.is_active,createdAt:a.created_at,updatedAt:a.updated_at}),ID=a=>({id:a.id,code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,type:a.customer_type||"walk-in",points:a.points||0,totalSpent:parseFloat(a.total_spent)||0,createdAt:a.created_at,updatedAt:a.updated_at}),BD=a=>({id:a.id,transactionCode:a.transaction_code,date:a.transaction_date,customerId:a.customer_id,subtotal:parseFloat(a.subtotal)||0,discountType:a.discount_type,discountValue:parseFloat(a.discount_value)||0,discount:parseFloat(a.discount_amount)||0,taxPercent:parseFloat(a.tax_percent)||11,tax:parseFloat(a.tax_amount)||0,total:parseFloat(a.total)||0,paymentMethod:a.payment_method,cashAmount:parseFloat(a.payment_amount)||0,change:parseFloat(a.change_amount)||0,status:a.status||"completed",voidReason:a.void_reason,notes:a.notes,cashierId:a.cashier_id,cashierName:a.cashier_name,source:a.source||"pos",createdAt:a.created_at});function DD(){const a=ie.useRef(!1),n=ie.useRef(null),[i,o]=ie.useState({isOnline:!1,isSyncing:!1,lastSync:null,mode:"polling"});return ie.useEffect(()=>{if(a.current)return;a.current=!0;const d=async()=>{console.log(" Initializing cloud sync (polling mode)..."),o(f=>({...f,isSyncing:!0}));try{await u(),o({isOnline:!0,isSyncing:!1,lastSync:new Date().toISOString(),mode:"polling"}),n.current=setInterval(async()=>{o(f=>({...f,isSyncing:!0})),await u(),o(f=>({...f,isSyncing:!1,lastSync:new Date().toISOString()}))},6e4),console.log(" Cloud sync active - polling every 60s")}catch(f){console.error(" Sync error:",f.message),o(h=>({...h,isSyncing:!1,isOnline:!1}))}},u=async()=>{try{const{data:f,error:h}=await Dr.from("products").select("*").eq("is_active",!0);if(!h&&f&&f.length>0){const p=zs.getState().products,m=new Map(p.map(v=>[v.id,v])),x=new Map(p.filter(v=>v.sku).map(v=>[v.sku,v])),b=new Map(p.filter(v=>v.code).map(v=>[v.code,v]));let y=0;const w=[...p];f.forEach(v=>{const A=CD(v),k=m.has(v.id),E=v.sku&&x.has(v.sku),j=v.code&&b.has(v.code);!k&&!E&&!j&&(w.push(A),y++)}),y>0&&(zs.setState({products:w}),console.log(` Products: +${y} new from cloud (total: ${w.length})`))}}catch(f){console.warn(" Products sync:",f.message)}try{const{data:f,error:h}=await Dr.from("customers").select("*");if(!h&&f&&f.length>0){const p=x1.getState().customers,m=new Map(p.map(y=>[y.id,y]));let x=0;const b=[...p];f.forEach(y=>{m.has(y.id)||(b.push(ID(y)),x++)}),x>0&&(x1.setState({customers:b}),console.log(` Customers: +${x} new from cloud`))}}catch(f){console.warn(" Customers sync:",f.message)}try{const{data:f,error:h}=await Dr.from("transactions").select("*").order("created_at",{ascending:!1}).limit(500);if(!h&&f&&f.length>0){const p=m1.getState().transactions,m=new Map(p.filter(w=>w.transactionCode).map(w=>[w.transactionCode,w])),x=new Map(p.map(w=>[w.id,w]));let b=0;const y=[...p];f.forEach(w=>{const v=w.transaction_code&&m.has(w.transaction_code),A=x.has(w.id);!v&&!A&&(y.push(BD(w)),b++)}),b>0&&(y.sort((w,v)=>new Date(v.date||v.createdAt)-new Date(w.date||w.createdAt)),m1.setState({transactions:y}),console.log(` Transactions: +${b} new from cloud`))}}catch(f){console.warn(" Transactions sync:",f.message)}console.log(" Sync complete - local data preserved")};return d(),()=>{n.current&&clearInterval(n.current)}},[]),i}function TD({children:a}){const n=DD();return ie.useEffect(()=>{window.__syncStatus=n},[n]),a}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yt=(a,n)=>{const i=ie.forwardRef(({color:o="currentColor",size:d=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:h="",children:p,...m},x)=>ie.createElement("svg",{ref:x,...RD,width:d,height:d,stroke:o,strokeWidth:f?Number(u)*24/Number(d):u,className:["lucide",`lucide-${MD(a)}`,h].join(" "),...m},[...n.map(([b,y])=>ie.createElement(b,y)),...Array.isArray(p)?p:[p]]));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=yt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=yt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=yt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=yt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=yt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=yt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=yt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=yt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=yt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=yt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=yt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=yt("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=yt("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=yt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=yt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=yt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=yt("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=yt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=yt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=yt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=yt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=yt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=yt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=yt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=yt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=yt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=yt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=yt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=yt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=yt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=yt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=yt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=yt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=yt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=yt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=yt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=yt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=yt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=yt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=yt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=yt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=yt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=yt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=yt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=yt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hT=[{path:"/",icon:vw,label:"Dashboard",permission:"all"},{path:"/pos",icon:vo,label:"POS / Kasir",permission:"pos",webOnly:!0},{path:"/scanner",icon:bw,label:"Remote Scanner",permission:"pos",androidOnly:!0},{path:"/products",icon:Ps,label:"Master Produk",permission:"products"},{path:"/marketplace/integration",icon:g1,label:"Marketplace",permission:"marketplace"},{path:"/stock",icon:Aw,label:"Stok",permission:"stock"},{path:"/purchases",icon:x3,label:"Pembelian",permission:"purchase"},{path:"/sales",icon:Lm,label:"Penjualan",permission:"sales"},{path:"/customers",icon:ww,label:"Pelanggan",permission:"customers"},{path:"/reports",icon:hw,label:"Laporan",permission:"reports"},{path:"/settings",icon:yw,label:"Pengaturan",permission:"settings"}],Db=hT.filter(a=>!(a.webOnly&&P1||a.androidOnly&&!P1)),pT=[{path:"/",icon:vw,label:"Home"},{path:"/pos",icon:vo,label:"Kasir",webOnly:!0},{path:"/scanner",icon:bw,label:"Scanner",androidOnly:!0},{path:"/products",icon:Ps,label:"Master Produk"},{path:"/stock",icon:Aw,label:"Stok"}],mT=pT.filter(a=>!(a.webOnly&&P1||a.androidOnly&&!P1));function xT({children:a}){var E;const[n,i]=ie.useState(!1),[o,d]=ie.useState({isOnline:!1,isSyncing:!1}),[u,f]=ie.useState(!1),h=dl(),{user:p,logout:m}=Di(),{products:x}=zs(),b=x.filter(j=>j.stock<=(j.minStock||5)&&j.stock>0),y=x.filter(j=>j.stock===0),w=b.length+y.length;ie.useEffect(()=>{const j=N=>{N.clientX<=10&&!n&&i(!0)};return"ontouchstart"in window||document.addEventListener("mousemove",j),()=>{document.removeEventListener("mousemove",j)}},[n]),ie.useEffect(()=>{const j=setInterval(()=>{window.__syncStatus&&d(window.__syncStatus)},1e3);return()=>clearInterval(j)},[]);const v=()=>{confirm("Apakah Anda yakin ingin keluar?")&&m()},A=j=>p?p.permissions.includes("all")?!0:p.permissions.includes(j)||p.permissions.includes(`${j}_view`):!1,k=()=>i(!1);return l.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[l.jsxs("header",{className:"bg-dark text-white px-4 py-3 flex items-center justify-between z-40 safe-area-top",children:[l.jsx("button",{onClick:()=>i(!0),className:"p-2 -ml-2 rounded-full hover:bg-gray-700 active:bg-gray-600",children:l.jsx(Bb,{size:24})}),l.jsx("h1",{className:"text-lg font-semibold",children:((E=Db.find(j=>j.path===h.pathname))==null?void 0:E.label)||"POS System"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!u),className:"p-2 rounded-full hover:bg-gray-700 active:bg-gray-600 relative",children:[l.jsx(Pm,{size:20}),w>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:w>9?"9+":w})]}),u&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[l.jsx("div",{className:"p-3 border-b bg-gray-50",children:l.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifikasi"})}),w===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Tidak ada notifikasi"}):l.jsxs("div",{className:"divide-y",children:[y.length>0&&l.jsxs("div",{className:"p-3 bg-red-50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[l.jsx(tu,{size:16}),l.jsxs("span",{children:["Stok Habis (",y.length,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[y.slice(0,5).map(j=>l.jsxs("div",{className:"text-sm text-red-600",children:[" ",j.name]},j.id)),y.length>5&&l.jsxs("div",{className:"text-xs text-red-500",children:["...dan ",y.length-5," produk lainnya"]})]})]}),b.length>0&&l.jsxs("div",{className:"p-3 bg-yellow-50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 font-medium mb-2",children:[l.jsx(tu,{size:16}),l.jsxs("span",{children:["Stok Menipis (",b.length,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[b.slice(0,5).map(j=>l.jsxs("div",{className:"text-sm text-yellow-600",children:[" ",j.name," (sisa: ",j.stock,")"]},j.id)),b.length>5&&l.jsxs("div",{className:"text-xs text-yellow-500",children:["...dan ",b.length-5," produk lainnya"]})]})]}),l.jsx(J1,{to:"/stock",onClick:()=>f(!1),className:"block p-3 text-center text-primary hover:bg-gray-50 text-sm font-medium",children:"Lihat Semua Stok "})]})]})]})]}),l.jsx("div",{className:"flex items-center gap-1",title:o.isSyncing?"Syncing...":o.isOnline?`Cloud Sync Active${o.lastSync?` - Last: ${new Date(o.lastSync).toLocaleTimeString()}`:""}`:"Connecting to cloud...",children:o.isSyncing?l.jsx(v1,{size:20,className:"text-yellow-400 animate-spin"}):o.isOnline?l.jsx(m3,{size:20,className:"text-green-400"}):l.jsx(m3,{size:20,className:"text-yellow-400 animate-pulse"})})]})]}),n&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:k}),l.jsxs("aside",{className:`fixed top-0 left-0 h-full w-72 bg-dark text-white z-50 transform transition-transform duration-300 ease-out flex flex-col ${n?"translate-x-0":"-translate-x-full"}`,children:[l.jsx("div",{className:"p-4 border-b border-gray-700 safe-area-top flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-bold",children:"POS System"}),l.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-gray-700",children:l.jsx(Js,{size:20})})]})}),l.jsx("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:l.jsx(W0,{size:20})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:p==null?void 0:p.name}),l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:p==null?void 0:p.role})]})]})}),l.jsx("nav",{className:"flex-1 p-2 overflow-y-auto min-h-0",children:Db.map(j=>{if(!A(j.permission))return null;const N=j.icon,B=h.pathname===j.path;return l.jsxs(J1,{to:j.path,onClick:k,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${B?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 active:bg-gray-600"}`,children:[l.jsx(N,{size:20}),l.jsx("span",{className:"flex-1 text-sm",children:j.label}),l.jsx(Om,{size:16,className:"text-gray-500"})]},j.path)})}),l.jsx("div",{className:"p-3 border-t border-gray-700 safe-area-bottom flex-shrink-0",children:l.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-300 hover:bg-red-600 hover:text-white active:bg-red-700 transition-colors",children:[l.jsx(XD,{size:20}),l.jsx("span",{className:"text-sm",children:"Logout"})]})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-16",children:a}),l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 safe-area-bottom",children:l.jsxs("div",{className:"flex justify-around items-center h-16",children:[mT.map(j=>{if(!A(j.permission||"all"))return null;const N=j.icon,B=h.pathname===j.path;return l.jsxs(J1,{to:j.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${B?"text-primary":"text-gray-500 active:text-gray-700"}`,children:[l.jsx(N,{size:24,strokeWidth:B?2.5:2}),l.jsx("span",{className:`text-xs mt-1 ${B?"font-medium":""}`,children:j.label})]},j.path)}),l.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center flex-1 h-full text-gray-500 active:text-gray-700",children:[l.jsx(Bb,{size:24}),l.jsx("span",{className:"text-xs mt-1",children:"Lainnya"})]})]})})]})}function vT(){const[a,n]=ie.useState(""),[i,o]=ie.useState(""),[d,u]=ie.useState(!1),[f,h]=ie.useState(""),p=ko(),{login:m}=Di(),x=async b=>{b.preventDefault(),u(!0),h(""),setTimeout(()=>{const y=m(a,i);y.success||y===!0?p("/"):h(y.error||"Username atau password salah"),u(!1)},500)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(vo,{size:40,className:"text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"POS System"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Sistem Manajemen Stok & Kasir"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&l.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),l.jsx("input",{type:"text",value:a,onChange:b=>n(b.target.value),className:"input",placeholder:"Masukkan username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:i,onChange:b=>o(b.target.value),className:"input",placeholder:"Masukkan password",required:!0})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full btn btn-primary flex items-center justify-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx(K0,{size:20,className:"animate-spin"}),l.jsx("span",{children:"Loading..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(JD,{size:20}),l.jsx("span",{children:"Login"})]})})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Login:"}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[l.jsx("p",{children:" Admin: admin / admin123"}),l.jsx("p",{children:" Kasir: kasir / kasir123"})]})]})]}),l.jsx("p",{className:"text-center text-white mt-6 text-sm",children:" 2025 POS System. All rights reserved."})]})})}const _u=U1(z1((a,n)=>({storeInfo:{name:"TOKO SEJAHTERA",address:"Jl. Merdeka No. 123, Jakarta",phone:"(021) 1234-5678",email:"info@tokosejahtera.com",logo:null},stockSettings:{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30},whatsappNumber:"",whatsappMessage:"Halo, saya ingin bertanya tentang produk di toko Anda.",updateStoreInfo:i=>{a(o=>({storeInfo:{...o.storeInfo,...i}}))},setLogo:i=>{a(o=>({storeInfo:{...o.storeInfo,logo:i}}))},updateStockSettings:i=>{a(o=>({stockSettings:{...o.stockSettings,...i}}))},updateWhatsApp:(i,o)=>{a({whatsappNumber:i,whatsappMessage:o||n().whatsappMessage})},getMarketplaceStock:i=>{const{bufferPercent:o,minBuffer:d}=n().stockSettings,u=Math.max(Math.ceil(i*(o/100)),d);return Math.max(0,i-u)},getWhatsAppLink:i=>{const o=n().whatsappNumber.replace(/\D/g,""),d=encodeURIComponent(i||n().whatsappMessage);return o?`https://wa.me/${o}?text=${d}`:null}}),{name:"settings-storage"})),va={shopee:{name:"Shopee",color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-600",bgLight:"bg-orange-50",borderColor:"border-orange-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#EE4D2D"/>
      <path d="M24 12C20.13 12 17 15.13 17 19V20H15C14.45 20 14 20.45 14 21V35C14 35.55 14.45 36 15 36H33C33.55 36 34 35.55 34 35V21C34 20.45 33.55 20 33 20H31V19C31 15.13 27.87 12 24 12ZM24 14C26.76 14 29 16.24 29 19V20H19V19C19 16.24 21.24 14 24 14ZM24 24C25.1 24 26 24.9 26 26C26 26.74 25.6 27.39 25 27.73V30C25 30.55 24.55 31 24 31C23.45 31 23 30.55 23 30V27.73C22.4 27.39 22 26.74 22 26C22 24.9 22.9 24 24 24Z" fill="white"/>
    </svg>`},lazada:{name:"Lazada",color:"purple",bgColor:"bg-purple-500",textColor:"text-purple-600",bgLight:"bg-purple-50",borderColor:"border-purple-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0F146D"/>
      <path d="M24 36L21.6 33.8C14.4 27.3 10 23.3 10 18.5C10 14.5 13.2 11.3 17.2 11.3C19.5 11.3 21.7 12.4 23.1 14.1L24 15.2L24.9 14.1C26.3 12.4 28.5 11.3 30.8 11.3C34.8 11.3 38 14.5 38 18.5C38 23.3 33.6 27.3 26.4 33.8L24 36Z" fill="#F85606"/>
    </svg>`},tokopedia:{name:"Tokopedia",color:"green",bgColor:"bg-green-500",textColor:"text-green-600",bgLight:"bg-green-50",borderColor:"border-green-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="12" fill="white"/>
      <circle cx="24" cy="24" r="8" fill="#42B549"/>
      <circle cx="24" cy="24" r="4" fill="white"/>
    </svg>`},tiktok:{name:"TikTok Shop",color:"black",bgColor:"bg-gray-900",textColor:"text-gray-900",bgLight:"bg-gray-50",borderColor:"border-gray-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#000000"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="white"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#25F4EE" transform="translate(-1, -1)"/>
      <path d="M33.5 18.5C31.5 18.5 29.7 17.7 28.4 16.4C27.1 15.1 26.3 13.3 26.3 11.3H22V28.8C22 30.9 20.3 32.6 18.2 32.6C16.1 32.6 14.4 30.9 14.4 28.8C14.4 26.7 16.1 25 18.2 25C18.6 25 19 25.1 19.4 25.2V21.1C19 21 18.6 21 18.2 21C13.9 21 10.4 24.5 10.4 28.8C10.4 33.1 13.9 36.6 18.2 36.6C22.5 36.6 26 33.1 26 28.8V19.9C27.6 21.1 29.6 21.8 31.7 21.8H33.5V18.5Z" fill="#FE2C55" transform="translate(1, 1)"/>
    </svg>`},manual:{name:"Manual / Lainnya",color:"blue",bgColor:"bg-blue-500",textColor:"text-blue-600",bgLight:"bg-blue-50",borderColor:"border-blue-200",icon:null,logo:(a=32)=>`<svg width="${a}" height="${a}" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3B82F6"/>
      <path d="M14 14H26V18H18V30H14V14ZM20 20H34V34H20V20ZM24 24V30H30V24H24Z" fill="white"/>
    </svg>`}},So=U1(z1((a,n)=>({stores:[],activeStoreId:null,allProducts:[],allOrders:[],loading:{stores:!1,products:!1,orders:!1,sync:!1},addStore:i=>{var f;const o=n().stores;if(o.some(h=>h.platform===i.platform&&h.shopId===i.shopId&&i.shopId))return{success:!1,error:"Toko sudah terdaftar"};const u={id:Date.now(),platform:i.platform,shopId:i.shopId||"",shopName:i.shopName||`Toko ${((f=va[i.platform])==null?void 0:f.name)||i.platform}`,ownerName:i.ownerName||"",credentials:{partnerId:i.partnerId||"",partnerKey:i.partnerKey||"",accessToken:i.accessToken||"",refreshToken:i.refreshToken||"",appKey:i.appKey||"",appSecret:i.appSecret||"",fsId:i.fsId||"",clientId:i.clientId||"",clientSecret:i.clientSecret||""},isConnected:!!i.accessToken,isActive:!0,lastSync:null,tokenExpiry:null,productCount:0,orderCount:0,createdAt:new Date().toISOString(),createdBy:i.userId||null,notes:i.notes||""};return a({stores:[...o,u]}),{success:!0,store:u}},updateStore:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,...o,credentials:o.credentials?{...u.credentials,...o.credentials}:u.credentials,updatedAt:new Date().toISOString()}:u);return a({stores:d}),{success:!0}},updateStoreCredentials:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,credentials:{...u.credentials,...o},isConnected:!!o.accessToken||u.isConnected,updatedAt:new Date().toISOString()}:u);return a({stores:d}),{success:!0}},updateStoreSync:(i,o)=>{const d=n().stores.map(u=>u.id===i?{...u,lastSync:new Date().toISOString(),productCount:o.productCount??u.productCount,orderCount:o.orderCount??u.orderCount,isConnected:!0}:u);a({stores:d})},removeStore:i=>{const o=n().stores.filter(u=>u.id!==i),d=n().activeStoreId;return a({stores:o,activeStoreId:d===i?null:d}),{success:!0}},toggleStoreActive:i=>{const o=n().stores.map(d=>d.id===i?{...d,isActive:!d.isActive}:d);a({stores:o})},setActiveStore:i=>{a({activeStoreId:i})},getStoreById:i=>n().stores.find(o=>o.id===i),getStoresByPlatform:i=>n().stores.filter(o=>o.platform===i),getStoresByUser:i=>n().stores.filter(o=>o.createdBy===i),getActiveStores:()=>n().stores.filter(i=>i.isActive),getConnectedStores:()=>n().stores.filter(i=>i.isConnected),getSummary:()=>{const i=n().stores;return{totalStores:i.length,activeStores:i.filter(o=>o.isActive).length,connectedStores:i.filter(o=>o.isConnected).length,byPlatform:{shopee:i.filter(o=>o.platform==="shopee").length,lazada:i.filter(o=>o.platform==="lazada").length,tokopedia:i.filter(o=>o.platform==="tokopedia").length,tiktok:i.filter(o=>o.platform==="tiktok").length,manual:i.filter(o=>o.platform==="manual").length},totalProducts:i.reduce((o,d)=>o+(d.productCount||0),0),totalOrders:i.reduce((o,d)=>o+(d.orderCount||0),0)}},setLoading:(i,o)=>a({loading:{...n().loading,[i]:o}}),clearAllStores:()=>a({stores:[],activeStoreId:null,allProducts:[],allOrders:[]}),isConnected:!1,shopInfo:null,lastSync:null,products:[],orders:[],summary:null,setConnected:(i,o=null)=>a({isConnected:i,shopInfo:o}),disconnect:()=>a({isConnected:!1,shopInfo:null,products:[],orders:[],summary:null,lastSync:null})}),{name:"marketplace-stores-storage",partialize:a=>({stores:a.stores,activeStoreId:a.activeStoreId})})),gT=({platform:a,size:n=24})=>{const i=va[a]||va.manual;return i.logo?l.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):l.jsx("span",{className:"text-xl",children:i.icon||""})};function bT(){const{products:a,getLowStockProducts:n}=zs(),{transactions:i,getTodaySales:o,getTodayTransactions:d}=m1(),{customers:u}=x1(),{whatsappNumber:f,getWhatsAppLink:h}=_u(),{stores:p,getSummary:m}=So(),[x,b]=ie.useState(!1),[y,w]=ie.useState([]),v=o(),A=d(),k=n();m();const E=A.reduce((I,D)=>{if(D.status!=="completed")return I;const T=(D.items||[]).reduce((R,$)=>{const F=a.find(Q=>Q.id===$.id),_=(F==null?void 0:F.cost)||0;return R+($.price-_)*$.quantity},0);return I+T},0),j=a.filter(I=>I.stock===0);ie.useEffect(()=>{(j.length>0||k.length>0)&&b(!0)},[j.length,k.length]);const N=[{title:"Penjualan Hari Ini",value:`Rp ${v.toLocaleString("id-ID")}`,icon:s2,color:"bg-green-500",trend:"+12.5%",trendUp:!0},{title:"Transaksi Hari Ini",value:A.length,icon:vo,color:"bg-blue-500",trend:"+8.2%",trendUp:!0},{title:"Total Produk",value:a.length,icon:Ps,color:"bg-purple-500",trend:"+3",trendUp:!0},{title:"Total Pelanggan",value:u.length,icon:ww,color:"bg-orange-500",trend:"+15",trendUp:!0}],B=[{label:"Transaksi Baru",path:"/pos",color:"bg-primary",icon:vo},{label:"Tambah Produk",path:"/products",color:"bg-success",icon:Ps},{label:"Cek Stok",path:"/stock",color:"bg-warning",icon:Ps},{label:"Barang Masuk",path:"/purchases",color:"bg-info",icon:Lm}];return l.jsxs("div",{className:"p-6 space-y-6",children:[x&&(j.length>0||k.length>0)&&l.jsxs("div",{className:`${j.length>0?"bg-red-500":"bg-orange-500"} text-white p-4 rounded-xl flex items-center justify-between animate-pulse`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pm,{size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:j.length>0?` ${j.length} produk HABIS!`:` ${k.length} produk stok menipis`}),l.jsx("p",{className:"text-sm opacity-90",children:j.length>0?"Segera lakukan restock untuk produk yang sudah habis":"Beberapa produk mendekati batas minimum stok"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(J1,{to:"/stock",className:"bg-white text-gray-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100",children:"Lihat Detail"}),l.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:l.jsx(Js,{size:20})})]})]}),f&&l.jsx("a",{href:h(),target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors z-50 flex items-center gap-2",title:"Hubungi Customer Service",children:l.jsx(ZD,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Selamat datang di sistem POS & Inventory Management"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((I,D)=>{const T=I.icon;return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:I.title}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:I.value}),l.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[I.trendUp?l.jsx(_D,{size:16,className:"text-green-600"}):l.jsx(FD,{size:16,className:"text-red-600"}),l.jsx("span",{className:`text-sm font-medium ${I.trendUp?"text-green-600":"text-red-600"}`,children:I.trend}),l.jsx("span",{className:"text-sm text-gray-500",children:"vs kemarin"})]})]}),l.jsx("div",{className:`${I.color} p-3 rounded-xl`,children:l.jsx(T,{size:24,className:"text-white"})})]})},D)})}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.map((I,D)=>{const T=I.icon;return l.jsxs(J1,{to:I.path,className:`${I.color} text-white p-6 rounded-xl hover:opacity-90 transition-opacity`,children:[l.jsx(T,{size:32,className:"mb-3"}),l.jsx("p",{className:"font-semibold",children:I.label})]},D)})})]}),p.length>0&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(g1,{className:"text-primary",size:24}),"Marketplace Terhubung"]}),l.jsx(J1,{to:"/marketplace/integration",className:"text-primary hover:underline text-sm",children:"Kelola Toko"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.filter(I=>I.isActive).slice(0,4).map(I=>{const D=va[I.platform]||va.manual;return l.jsxs("div",{className:`${D.bgLight} ${D.borderColor} border rounded-lg p-4`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gT,{platform:I.platform,size:28}),l.jsx("span",{className:`text-sm font-medium ${D.textColor}`,children:D.name})]}),l.jsx("p",{className:"font-semibold text-gray-900 truncate",children:I.shopName}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-600",children:[l.jsxs("span",{children:[I.productCount||0," produk"]}),I.isConnected&&l.jsx("span",{className:"text-green-600",children:" Online"})]})]},I.id)})}),p.length>4&&l.jsxs("p",{className:"text-center text-sm text-gray-500 mt-3",children:["+",p.length-4," toko lainnya"]})]}),l.jsx("div",{className:"card bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm",children:"Estimasi Profit Hari Ini"}),l.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["Rp ",E.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Dari ",A.filter(I=>I.status==="completed").length," transaksi selesai"]})]}),l.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:l.jsx(gw,{size:32})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(tu,{className:"text-warning",size:24}),"Stok Menipis"]}),l.jsx(J1,{to:"/stock",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),k.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Semua stok aman"}):l.jsx("div",{className:"space-y-3",children:k.slice(0,5).map(I=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:I.name}),l.jsx("p",{className:"text-sm text-gray-600",children:I.code})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-orange-600",children:[I.stock," ",I.unit]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",I.minStock]})]})]},I.id))})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Transaksi Terbaru"}),l.jsx(J1,{to:"/sales",className:"text-primary hover:underline text-sm",children:"Lihat Semua"})]}),A.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada transaksi hari ini"}):l.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(I=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:I.id}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(I.date).toLocaleTimeString("id-ID")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-green-600",children:["Rp ",I.total.toLocaleString("id-ID")]}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:I.paymentMethod})]})]},I.id))})]})]})]})}const g3=U1(z1((a,n)=>({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash",addToCart:(i,o=1)=>{const d=n().cartItems.find(u=>u.id===i.id);if(d){if(d.quantity+o>d.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:u.cartItems.map(f=>f.id===i.id?{...f,quantity:f.quantity+o}:f)}))}else{if(o>i.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:[...u.cartItems,{...i,quantity:o}]}))}},removeFromCart:i=>{a(o=>({cartItems:o.cartItems.filter(d=>d.id!==i)}))},updateQuantity:(i,o)=>{if(o<=0){n().removeFromCart(i);return}const d=n().cartItems.find(u=>u.id===i);if(d&&o>d.stock){alert("Stok tidak mencukupi!");return}a(u=>({cartItems:u.cartItems.map(f=>f.id===i?{...f,quantity:o}:f)}))},updateItemDiscount:(i,o)=>{a(d=>({cartItems:d.cartItems.map(u=>u.id===i?{...u,itemDiscount:o}:u)}))},setDiscount:(i,o="percent")=>{a({discount:i,discountType:o})},setCustomer:i=>{a({selectedCustomer:i})},setPaymentMethod:i=>{a({paymentMethod:i})},getSubtotal:()=>n().cartItems.reduce((i,o)=>{const d=o.price*o.quantity,u=o.itemDiscount||0;return i+(d-u)},0),getDiscount:()=>{const i=n().getSubtotal(),{discount:o,discountType:d}=n();return d==="percent"?i*o/100:o},getTax:()=>{const i=n().getSubtotal(),o=n().getDiscount();return(i-o)*.11},getTotal:()=>{const i=n().getSubtotal(),o=n().getDiscount(),d=n().getTax();return i-o+d},clearCart:()=>{a({cartItems:[],selectedCustomer:null,discount:0,discountType:"percent",paymentMethod:"cash"})},holdTransaction:()=>{const i=n(),o={id:Date.now(),cartItems:i.cartItems,selectedCustomer:i.selectedCustomer,discount:i.discount,discountType:i.discountType,timestamp:new Date().toISOString()};return localStorage.setItem(`held_${o.id}`,JSON.stringify(o)),n().clearCart(),o.id}}),{name:"cart-storage"}));function yT(){const[a,n]=ie.useState(""),[i,o]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState(!1),[p,m]=ie.useState(null),[x,b]=ie.useState(""),[y,w]=ie.useState(!1),[v,A]=ie.useState(null),[k,E]=ie.useState(!1),j=ie.useRef(null),{products:N,updateStock:B}=zs(),{cartItems:I,addToCart:D,removeFromCart:T,updateQuantity:R,updateItemDiscount:$,setDiscount:F,setCustomer:_,setPaymentMethod:Q,selectedCustomer:H,discount:J,discountType:K,paymentMethod:he,getSubtotal:G,getDiscount:L,getTax:ce,getTotal:fe,clearCart:U,holdTransaction:ee}=g3(),{customers:se}=x1(),{addTransaction:de}=m1(),{storeInfo:ke}=_u(),{user:ae}=Di();ie.useEffect(()=>{if(!y)return;const oe=Dr.channel("barcode-scans").on("postgres_changes",{event:"INSERT",schema:"public",table:"barcode_scans"},async Re=>{const ze=Re.new;if(!ze.processed){const Je=N.find(Qe=>Qe.barcode===ze.barcode||Qe.code===ze.barcode||Qe.sku===ze.barcode);if(Je){if(Je.stock>0){D(Je),A({barcode:ze.barcode,product:Je.name,device:ze.device_name,time:new Date().toLocaleTimeString()});try{const Qe=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp2LdV1PU2V4jZ+jnIxvVEJIX3mOnaCXhWlNOT9Wd46hpJuGZkQwPFd0j6OlloBcOiotUXORpqmhimE/LzNTdJOnq6OKXzgoLVJ1k6mupYlaPyctUneVq7CnilY4Ji5VeZitsKmIUjYmL1h8m6+xqYdNMyYwW4CfsrOpg0gvJjFehKKzsqV9QysmM2OIpbSypXY+JyU2aI2otbKicDkkJDlukqu2sqBqNSMjPHOWrre0nWQxIiJAfpqxuLSZXSwgIkWDn7S4tJRVKR4hSoiltbi0kE4lHSBOjqm3uLSMRyIbIFOTrLi4tIY/HxofWJivuLi0gDgdGR5dnbG4uLR5MRoYHmKhsri4tHIrFxYeZ6WzuLhzLA==");Qe.volume=.3,Qe.play()}catch{}}}else A({barcode:ze.barcode,product:null,device:ze.device_name,time:new Date().toLocaleTimeString(),error:"Produk tidak ditemukan"});await Dr.from("barcode_scans").update({processed:!0,processed_at:new Date().toISOString()}).eq("id",ze.id)}}).subscribe();return()=>{Dr.removeChannel(oe)}},[y,N,D]);const De=N.filter(oe=>{var Re;return oe.name.toLowerCase().includes(a.toLowerCase())||oe.code.toLowerCase().includes(a.toLowerCase())||((Re=oe.barcode)==null?void 0:Re.includes(a))}),we=oe=>{var Re;oe.stock>0?(D(oe),n(""),(Re=j.current)==null||Re.focus()):alert("Stok habis!")},Ae=()=>{if(I.length===0){alert("Cart masih kosong!");return}u(!0)},Le=async()=>{const oe=fe(),Re=parseFloat(x)||0;if(he==="cash"&&Re<oe){alert("Jumlah uang tidak cukup!");return}E(!0);try{const ze={items:I,customer:H,subtotal:G(),discount:L(),tax:ce(),total:oe,paymentMethod:he,cashAmount:he==="cash"?Re:oe,change:he==="cash"?Re-oe:0,cashierName:(ae==null?void 0:ae.name)||"Kasir",cashierId:ae==null?void 0:ae.id};for(const Qe of I)await B(Qe.id,Qe.quantity,"subtract","sale","Penjualan",ae==null?void 0:ae.id);const Je=await de(ze);m(Je),u(!1),h(!0),U(),b("")}catch(ze){console.error("Transaction error:",ze),alert("Gagal memproses transaksi: "+ze.message)}finally{E(!1)}},xe=()=>{window.print(),h(!1)},Oe=()=>{if(I.length===0){alert("Cart masih kosong!");return}const oe=ee();alert(`Transaksi disimpan dengan ID: ${oe}`)},Te=()=>{confirm("Batalkan transaksi ini?")&&U()},Pe=G(),Ue=L(),Ze=ce(),te=fe();return l.jsxs("div",{className:"h-screen flex bg-gray-50",children:[v&&l.jsxs("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg animate-pulse ${v.error?"bg-red-500":"bg-green-500"} text-white max-w-sm`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[v.error?l.jsx(Js,{className:"flex-shrink-0",size:24}):l.jsx(T1,{className:"flex-shrink-0",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:v.error||v.product}),l.jsxs("p",{className:"text-sm opacity-90",children:[v.barcode,"  ",v.device]})]})]}),l.jsx("button",{onClick:()=>A(null),className:"absolute top-1 right-1 p-1 hover:bg-white/20 rounded",children:l.jsx(Js,{size:16})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b p-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{ref:j,type:"text",value:a,onChange:oe=>n(oe.target.value),placeholder:"Cari produk (nama, kode, atau scan barcode)...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),l.jsxs("button",{onClick:()=>w(!y),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${y?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Aktifkan untuk menerima scan dari HP Android",children:[y?l.jsx(su,{size:20}):l.jsx(kw,{size:20}),l.jsx("span",{className:"hidden lg:inline",children:y?"Scanner Aktif":"Remote Scan"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(W0,{size:20}),H?H.name:"Pilih Pelanggan"]})]}),y&&l.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-lg px-4 py-2 flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"relative flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),l.jsx("span",{className:"text-green-700 font-medium",children:"Menunggu scan dari Android..."})]}),l.jsx("p",{className:"text-green-600 text-sm ml-auto",children:'Buka "Remote Scanner" di HP untuk scan barcode'})]})]}),l.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[a&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:De.map(oe=>l.jsxs("button",{onClick:()=>we(oe),className:`p-4 rounded-lg border-2 text-left transition-all hover:shadow-lg ${oe.stock>0?"border-gray-200 hover:border-primary bg-white":"border-red-200 bg-red-50 cursor-not-allowed opacity-50"}`,disabled:oe.stock===0,children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:oe.name}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:oe.code}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-lg font-bold text-primary",children:["Rp ",oe.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:`text-sm ${oe.stock>10?"text-green-600":"text-orange-600"}`,children:["Stock: ",oe.stock]})]})]},oe.id))}),!a&&l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ki,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Cari atau scan produk untuk memulai transaksi"})]})})]})]}),l.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Keranjang"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[I.length," item"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:I.length===0?l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(iT,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Keranjang kosong"})]})}):I.map(oe=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:oe.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Rp ",oe.price.toLocaleString("id-ID")," x ",oe.quantity]})]}),l.jsx("button",{onClick:()=>T(oe.id),className:"text-red-600 hover:bg-red-100 p-1 rounded",children:l.jsx(Un,{size:16})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>R(oe.id,oe.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300",children:l.jsx(eT,{size:16})}),l.jsx("span",{className:"w-12 text-center font-semibold",children:oe.quantity}),l.jsx("button",{onClick:()=>R(oe.id,oe.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-primary text-white rounded hover:bg-blue-600",disabled:oe.quantity>=oe.stock,children:l.jsx(Us,{size:16})})]}),l.jsxs("p",{className:"font-bold text-gray-900",children:["Rp ",(oe.price*oe.quantity).toLocaleString("id-ID")]})]})]},oe.id))}),l.jsxs("div",{className:"p-4 border-t space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["Rp ",Pe.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Diskon"}),l.jsxs("span",{className:"text-red-600",children:["- Rp ",Ue.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Pajak (11%)"}),l.jsxs("span",{children:["Rp ",Ze.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xl font-bold pt-3 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary",children:["Rp ",te.toLocaleString("id-ID")]})]})]}),l.jsxs("div",{className:"p-4 border-t space-y-2",children:[l.jsxs("button",{onClick:Ae,disabled:I.length===0,className:"w-full btn btn-success py-4 text-lg font-bold",children:[l.jsx(T1,{size:24}),"BAYAR"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:Oe,className:"btn btn-warning",children:[l.jsx(tT,{size:18}),"Hold"]}),l.jsxs("button",{onClick:Te,className:"btn btn-danger",children:[l.jsx(Js,{size:18}),"Void"]}),l.jsxs("button",{className:"btn btn-secondary",children:[l.jsx(gw,{size:18}),"Diskon"]})]})]})]}),i&&l.jsx(Jh,{onClose:()=>o(!1),title:"Pilih Pelanggan",children:l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:se.map(oe=>l.jsxs("button",{onClick:()=>{_(oe),o(!1)},className:`w-full p-3 rounded-lg border-2 text-left hover:border-primary transition-colors ${(H==null?void 0:H.id)===oe.id?"border-primary bg-blue-50":"border-gray-200"}`,children:[l.jsx("p",{className:"font-semibold",children:oe.name}),l.jsx("p",{className:"text-sm text-gray-600",children:oe.phone}),oe.type!=="walk-in"&&l.jsxs("p",{className:"text-xs text-primary mt-1",children:["Poin: ",oe.points]})]},oe.id))})}),d&&l.jsx(Jh,{onClose:()=>u(!1),title:"Pembayaran",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-3xl font-bold text-center text-primary mb-6",children:["Rp ",te.toLocaleString("id-ID")]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metode Pembayaran"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"cash",label:"Tunai",icon:s2},{id:"card",label:"Kartu",icon:$D},{id:"ewallet",label:"E-Wallet",icon:oT},{id:"transfer",label:"Transfer",icon:uT}].map(oe=>{const Re=oe.icon;return l.jsxs("button",{onClick:()=>Q(oe.id),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-2 ${he===oe.id?"border-primary bg-blue-50":"border-gray-200 hover:border-primary"}`,children:[l.jsx(Re,{size:24}),l.jsx("span",{className:"text-sm font-medium",children:oe.label})]},oe.id)})})]}),he==="cash"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah Uang"}),l.jsx("input",{type:"number",value:x,onChange:oe=>b(oe.target.value),placeholder:"0",className:"input text-xl text-right",autoFocus:!0}),x&&l.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:"Kembalian:"}),l.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",Math.max(0,parseFloat(x)-te).toLocaleString("id-ID")]})]})}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[5e4,1e5,2e5].map(oe=>l.jsx("button",{onClick:()=>b(oe.toString()),className:"btn btn-outline",children:oe.toLocaleString("id-ID")},oe))})]}),l.jsx("button",{onClick:Le,disabled:k,className:"w-full btn btn-success py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:k?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Memproses..."]}):l.jsxs(l.Fragment,{children:[l.jsx(T1,{size:20}),"Selesaikan Transaksi"]})})]})}),f&&p&&l.jsxs(Jh,{onClose:()=>h(!1),title:"Struk Pembayaran",children:[l.jsxs("div",{id:"receipt",className:"space-y-4",children:[l.jsxs("div",{className:"text-center border-b pb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:(ke==null?void 0:ke.name)||"TOKO SAYA"}),l.jsx("p",{className:"text-sm text-gray-600",children:(ke==null?void 0:ke.address)||"Alamat Toko"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Telp: ",(ke==null?void 0:ke.phone)||"-"]})]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"No. Transaksi:"}),l.jsx("span",{className:"font-semibold",children:p.id})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tanggal:"}),l.jsx("span",{children:new Date(p.date).toLocaleString("id-ID")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Kasir:"}),l.jsx("span",{children:p.cashierName})]})]}),l.jsx("div",{className:"border-t border-b py-3 space-y-2",children:p.items.map((oe,Re)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:oe.name}),l.jsxs("span",{children:["Rp ",(oe.price*oe.quantity).toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[oe.quantity," x Rp ",oe.price.toLocaleString("id-ID")]})]},Re))}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["Rp ",p.subtotal.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Diskon:"}),l.jsxs("span",{children:["- Rp ",p.discount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Pajak (11%):"}),l.jsxs("span",{children:["Rp ",p.tax.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["Rp ",p.total.toLocaleString("id-ID")]})]}),p.paymentMethod==="cash"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Bayar:"}),l.jsxs("span",{children:["Rp ",p.cashAmount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Kembali:"}),l.jsxs("span",{children:["Rp ",p.change.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-gray-600 pt-4 border-t",children:[l.jsx("p",{children:"Terima kasih atas kunjungan Anda"}),l.jsx("p",{children:"Barang yang sudah dibeli tidak dapat ditukar"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-6",children:[l.jsxs("button",{onClick:xe,className:"flex-1 btn btn-primary",children:[l.jsx(n2,{size:20}),"Print Struk"]}),l.jsx("button",{onClick:()=>h(!1),className:"flex-1 btn btn-secondary",children:"Tutup"})]})]})]})}function Jh({children:a,onClose:n,title:i}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:i}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),l.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:a})]})})}const wT="modulepreload",AT=function(a){return"/"+a},Tb={},Pu=function(n,i,o){let d=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));d=Promise.allSettled(i.map(p=>{if(p=AT(p),p in Tb)return;Tb[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":wT,m||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((y,w)=>{b.addEventListener("load",y),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return d.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};var Nn;(function(a){a.Aztec="AZTEC",a.Codabar="CODABAR",a.Code39="CODE_39",a.Code93="CODE_93",a.Code128="CODE_128",a.DataMatrix="DATA_MATRIX",a.Ean8="EAN_8",a.Ean13="EAN_13",a.Itf="ITF",a.Pdf417="PDF_417",a.QrCode="QR_CODE",a.UpcA="UPC_A",a.UpcE="UPC_E"})(Nn||(Nn={}));var Rb;(function(a){a.CalendarEvent="CALENDAR_EVENT",a.ContactInfo="CONTACT_INFO",a.DriversLicense="DRIVERS_LICENSE",a.Email="EMAIL",a.Geo="GEO",a.Isbn="ISBN",a.Phone="PHONE",a.Product="PRODUCT",a.Sms="SMS",a.Text="TEXT",a.Url="URL",a.Wifi="WIFI",a.Unknown="UNKNOWN"})(Rb||(Rb={}));var Mb;(function(a){a[a["640x480"]=0]="640x480",a[a["1280x720"]=1]="1280x720",a[a["1920x1080"]=2]="1920x1080",a[a["3840x2160"]=3]="3840x2160"})(Mb||(Mb={}));var Fb;(function(a){a.Front="FRONT",a.Back="BACK"})(Fb||(Fb={}));var _b;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.PENDING=1]="PENDING",a[a.DOWNLOADING=2]="DOWNLOADING",a[a.CANCELED=3]="CANCELED",a[a.COMPLETED=4]="COMPLETED",a[a.FAILED=5]="FAILED",a[a.INSTALLING=6]="INSTALLING",a[a.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(_b||(_b={}));var Pb;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Pb||(Pb={}));var Ob;(function(a){a[a.HOME=0]="HOME",a[a.UNKNOWN=1]="UNKNOWN",a[a.WORK=2]="WORK"})(Ob||(Ob={}));var Ub;(function(a){a[a.FAX=0]="FAX",a[a.HOME=1]="HOME",a[a.MOBILE=2]="MOBILE",a[a.UNKNOWN=3]="UNKNOWN",a[a.WORK=4]="WORK"})(Ub||(Ub={}));var zb;(function(a){a[a.OPEN=1]="OPEN",a[a.WEP=2]="WEP",a[a.WPA=3]="WPA"})(zb||(zb={}));const ei=hl("BarcodeScanner",{web:()=>Pu(()=>import("./web-CLxa0CZ3.js"),[]).then(a=>new a.BarcodeScannerWeb)});function kT({onScan:a,onClose:n}){const[i,o]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState(null);ie.useEffect(()=>(b(),()=>{y()}),[]);const p=async()=>{const{camera:A}=await ei.requestPermissions();return A==="granted"||A==="limited"},m=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const A=document.getElementById("root");A&&(A.style.visibility="hidden")},x=()=>{document.body.style.background="",document.documentElement.style.background="";const A=document.getElementById("root");A&&(A.style.visibility="visible")},b=async()=>{try{if(h(null),!P1){h("Barcode scanner hanya tersedia di aplikasi Android");return}if(!await p()){h("Izin kamera diperlukan untuk scan barcode");return}m(),o(!0),await ei.addListener("barcodeScanned",async k=>{k.barcode&&k.barcode.rawValue&&(await y(),a(k.barcode.rawValue))}),await ei.startScan({formats:[Nn.Ean13,Nn.Ean8,Nn.Code128,Nn.Code39,Nn.Code93,Nn.QrCode,Nn.UpcA,Nn.UpcE],lensFacing:"back"})}catch(A){console.error("Scan error:",A),h("Gagal memulai scanner: "+A.message),x(),o(!1)}},y=async()=>{try{await ei.stopScan(),await ei.removeAllListeners(),d&&await ei.toggleTorch()}catch(A){console.error("Stop scan error:",A)}finally{x(),o(!1),u(!1)}},w=async()=>{try{await ei.toggleTorch(),u(!d)}catch(A){console.error("Torch error:",A)}},v=async()=>{await y(),n()};return f?l.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:f}),l.jsx("button",{onClick:v,className:"btn btn-primary",children:"Tutup"})]})}):l.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent",pointerEvents:"auto"},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-blue-500 rounded-tl-xl"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-blue-500 rounded-tr-xl"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-blue-500 rounded-bl-xl"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-blue-500 rounded-br-xl"}),l.jsx("div",{className:"absolute left-4 right-4 h-1 bg-blue-500 rounded scanning-line"})]})}),l.jsxs("div",{className:"absolute top-16 left-0 right-0 text-center pointer-events-none",children:[l.jsx("p",{className:"text-white text-xl font-semibold drop-shadow-lg",children:"Arahkan kamera ke barcode"}),l.jsx("p",{className:"text-gray-200 text-sm mt-2 drop-shadow",children:"Scan akan otomatis berjalan"})]}),l.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[l.jsx("button",{onClick:w,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:d?l.jsx(pw,{size:28,className:"text-yellow-400"}):l.jsx(mw,{size:28,className:"text-white"})}),l.jsx("button",{onClick:v,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40 active:scale-95 transition-transform",children:l.jsx(Js,{size:30,className:"text-white"})})]}),!i&&l.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-white text-lg",children:"Memulai kamera..."})]})}),l.jsx("style",{children:`
        .scanning-line {
          animation: scan 2s ease-in-out infinite;
        }
        @keyframes scan {
          0%, 100% { top: 10%; }
          50% { top: 85%; }
        }
      `})]})}var Z=null,t=0,r=[],e={};const Ko=Math.abs,xr=Math.ceil,Lb=Math.floor,hn=Math.log,li=Math.pow,N1=Math.round,nu=Math.sqrt;function s(a){if(arguments.length){if(!(a instanceof Array)){a=new Array(+arguments[0]);for(var n=0,i=a.length;n<i;n++)a[n]=null}}else{for(var n=t-1;n>=0&&r[n]!==1/0;n--);if(n<0)throw new Error("array-marker-not-found");a=r.splice(n+1,t-1-n),t=n}return a.b=a,a.o=0,a}function $e(){for(var a=t-1;a>=0&&r[a]!==1/0;a-=2)if(r[a-1]===1/0)throw new Error("dict-malformed-stack");if(a<0)throw new Error("dict-marker-not-found");for(var n=new Map,i=a+1;i<t;i+=2){var o=r[i],d=typeof o;if(d=="number"||d=="string")n.set(o,r[i+1]);else if(o instanceof Uint8Array)n.set(En(o),r[i+1]);else throw new Error("dict-not-a-valid-key("+o+")")}return t=a,n}function W(a){var n=typeof a;if(n==="number")return new Uint8Array(a);n!=="string"&&(a=""+a);for(var i=new Uint8Array(a.length),o=0,d=a.length;o<d;o++)i[o]=a.charCodeAt(o);return i}function Na(a,n){if(t<a)throw new Error("roll: --stack-underflow--");if(n){if(n<0)var i=r.splice(t-a,-n);else var i=r.splice(t-a,a-n);r.splice.apply(r,[t-i.length,0].concat(i))}}function En(a){return a instanceof Uint8Array?String.fromCharCode.apply(null,a):""+a}function Fr(a,n){if(typeof a=="string"&&(a=W(a)),n instanceof Uint8Array)for(var i=0,o=n.length;i<o;i++)a[i]=n[i];else for(var i=0,o=n.length;i<o;i++)a[i]=n.charCodeAt(i);return n.length<a.length?a.subarray(0,n.length):a}function cc(a,n){for(var i=0,o=n.length;i<o;i++)a[i]=n[i];return a.length=n.length,a}function Fe(a){return a instanceof Uint8Array?Lb(String.fromCharCode.apply(null,a).replace(/\0+$/,"")):Lb(""+a)}function $t(a,n,i){return Fr(a,(~~n).toString(i).toUpperCase())}function c(a,n){return a instanceof Uint8Array?a[n]:typeof a=="string"?a.charCodeAt(n):a instanceof Array?a.b[a.o+n]:(n instanceof Uint8Array&&(n=En(n)),a instanceof Map?a.get(n):a[n])}function g(a,n,i){if(a instanceof Uint8Array)a[n]=i;else if(a instanceof Array)a.b[a.o+n]=i;else if(typeof a=="object")n instanceof Uint8Array?a.set(En(n),i):a.set(n,i);else throw new Error("put-not-writable-"+typeof a)}function C(a,n,i){if(a instanceof Uint8Array)return a.subarray(n,n+i);if(a instanceof Array){var o=new Array(i);return o.b=a.b,o.o=a.o+n,o}return a.substr(n,i)}function M(a,n,i){if(a instanceof Uint8Array)if(typeof i=="string")for(var o=0,d=i.length;o<d;o++)a[n+o]=i.charCodeAt(o);else for(var o=i.length-1;o>=0;o--)a[n+o]=i[o];else if(a instanceof Array)for(var u=a.b,f=n+a.o,h=i.b,p=i.o,o=0,d=i.length;o<d;o++)u[f+o]=h[p+o];else throw new Error("putinterval-not-writable-"+typeof a)}function tn(a){if(a==null)return"nulltype";var n=typeof a;return n=="number"?a%1?"realtype":"integertype":n=="boolean"?"booleantype":n=="string"||a instanceof Uint8Array?"stringtype":n=="function"?"operatortype":a instanceof Array?"arraytype":"dicttype"}function i0(a,n){a instanceof Uint8Array||(a=W(a));var i=0,o=a.length,d=n.length;if(d==1){var u=n instanceof Uint8Array?n[0]:n.charCodeAt(0);i=a[0]==u?1:o}else if(n.length<=o)for(n instanceof Uint8Array||(n=W(n));i<d&&a[i]==n[i];i++);i==d?(r[t++]=a.subarray(d),r[t++]=a.subarray(0,d),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function It(a,n){a instanceof Uint8Array||(a=W(a));var i=a.length;if(n.length==1)for(var o=1,d=n instanceof Uint8Array?n[0]:n.charCodeAt(0),u=0;u<i&&a[u]!=d;u++);else{n instanceof Uint8Array||(n=W(n));for(var o=n.length,d=n[0],u=0;u<i&&a[u]!=d;u++);for(;u<i;){for(var f=1;f<o&&a[u+f]===n[f];f++);if(f===o)break;for(u++;u<i&&a[u]!=d;u++);}}u<i?(r[t++]=a.subarray(u+o),r[t++]=a.subarray(u,u+o),r[t++]=a.subarray(0,u),r[t++]=!0):(r[t++]=a,r[t++]=!1)}function ge(a,n){if(a instanceof Uint8Array)for(var i=0,o=a.length;i<o&&(r[t++]=a[i],!(n&&n()));i++);else if(a instanceof Array)for(var d=a.b,i=a.o,o=a.o+a.length;i<o&&(r[t++]=d[i],!(n&&n()));i++);else if(typeof a=="string")for(var i=0,o=a.length;i<o&&(r[t++]=a.charCodeAt(i),!(n&&n()));i++);else if(a instanceof Map)for(var u=a.keys(),i=0,o=a.size;i<o;i++){var f=u.next().value;if(r[t++]=f,r[t++]=a.get(f),n&&n())break}else for(var f in a)if(r[t++]=f,r[t++]=a[f],n&&n())break}function el(){for(;t>0&&r[--t]!==1/0;);}function xa(){for(var a=t-1;a>=0&&r[a]!==1/0;a--);return t-a-1}function O(a){for(var n=0,i=a.length,o=a.b,d=a.o;n<i;n++)r[t++]=o[d+n]}function Vt(a){for(var n=0,i=a.length,o=a.b,d=a.o+i-1;n<i;n++)o[d-n]=r[--t];r[t++]=a}function Y(a,n){if(typeof a=="string"&&typeof n=="string")return a==n;if(a instanceof Uint8Array&&n instanceof Uint8Array){if(a.length!=n.length)return!1;for(var i=0,o=a.length;i<o;i++)if(a[i]!=n[i])return!1;return!0}return(a instanceof Uint8Array&&typeof n=="string"||n instanceof Uint8Array&&typeof a=="string")&&(a instanceof Uint8Array?a=En(a):n=En(n)),a==n}function Me(a,n){return!Y(a,n)}function mn(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a<n}function dc(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a<=n}function B1(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a>n}function Yn(a,n){return a instanceof Uint8Array&&(a=En(a)),n instanceof Uint8Array&&(n=En(n)),a>=n}function ho(a,n){return typeof a=="boolean"?a&&n:a&n}function jT(a,n){return typeof a=="boolean"?a||n:a|n}function fs(a,n){return typeof a=="boolean"?a!=n:a^n}var S=function(a){return n=>(n|0)==n?n:(a[0]=n,a[0])}(new Float32Array(1));function z(){var a=r[--t],n=r[--t];if(typeof a=="string"||a instanceof Uint8Array)throw new Error(En(n)+": "+En(a));throw r[t++]=a,En(n)+`
Additional information: `+i(a);function i(o){if(o instanceof Array){let d="";for(let u=o.o,f=o.o+o.length;u<f;u++)d+=" "+i(o.b[u]);return"["+d.substr(1)+"]"}else{if(o instanceof Uint8Array)return String.fromCharCode.apply(String,o);if(o instanceof Map){let d="";for(const[u,f]of o)d+=" "+i(u)+" "+i(f);return"<<"+d.substr(1)+">>"}else if(o&&typeof o=="object"){let d="";for(let u in o)d+=" "+i(u)+" "+i(o[u]);return"<<"+d.substr(1)+">>"}else return""+o}}}function We(){var a=r[--t],n=r[t-1];if(n instanceof Uint8Array&&(n=En(n)),typeof n=="string"){let f=n.trim().split(/ +/g);r[t-1]=n=new Map;for(let h=0;h<f.length;h++){let p=f[h].split("=");p.length==1?n.set(p[0],!0):n.set(p[0],p[1])}}for(var i in a){var o;if(n.has(i)){o=n.get(i);var d=a[i],u=typeof d;if(d==null||u=="number"){if(!isFinite(+o))throw new Error("bwipp.invalidOptionType: "+i+": not a realtype: "+o);typeof o=="string"&&(o=+o,n.set(i,o))}else if(u=="boolean"){if(o!==!0&&o!==!1){if(o==null||(o|0)===o)o=!!o;else if(o=="true")o=!0;else if(o=="false")o=!1;else throw new Error("bwipp.invalidOptionType: "+i+": not a booleantype: "+o);n.set(i,o)}}else if(u=="string"||d instanceof Uint8Array){if(typeof o=="number")o=""+o,n.set(i,o);else if((i==="extratext"||i==="alttext")&&typeof o=="string")o=W(o),n.set(i,o);else if(typeof o!="string"&&!(o instanceof Uint8Array))throw new Error("bwipp.invalidOptionType: "+i+": not a stringtype: "+o)}a[i]=o}}}function ns(){var a=e;e=Object.assign({},e),e.fncvals=r[--t],e.barcode=r[--t];var n="parse";e[n]=c(e.fncvals,n),delete e.fncvals[n];var i="parsefnc";e[i]=c(e.fncvals,i),delete e.fncvals[i];var o="parseonly",d=c(e.fncvals,o)!==void 0;e[o]=d,delete e.fncvals[o];var u="eci",f=c(e.fncvals,u)!==void 0;e[u]=f,delete e.fncvals[u],r[t++]=1/0;var h=s(["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","","","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US"]);r[t++]=0;for(var p=0,m=h.length;p<m;p++){var x=r[--t];r[t++]=c(h,p),r[t++]=x,r[t++]=x+1}for(t--,e.ctrl=$e(),e.msg=s(e.barcode.length),e.j=0,r[t++]=e.barcode;;){It(r[--t],"^");var b=r[--t],y=r[--t];r[t++]=b,r[t++]=y.length,r[t++]=e.msg,r[t++]=e.j;var w=1/0,v=y;r[t++]=w,ge(v);var A=s(),k=r[--t];if(M(r[--t],k,A),e.j=S(r[--t]+e.j),r[--t]){t--;for(var E=0;E<1;E++){if(!e.parse&&!e.parsefnc){g(e.msg,e.j,94),e.j=e.j+1;break}if(g(e.msg,e.j,94),e.j=e.j+1,e.parse){var j=r[t-1];if(j.length>=3){var N=r[t-1],B=C(N,0,3),I=e.ctrl,D=c(I,B)!==void 0;if(r[t++]=I,r[t++]=B,D){e.j=e.j-1;var T=r[--t];g(e.msg,e.j,c(r[--t],T)),e.j=e.j+1;var R=r[--t];r[t++]=C(R,3,R.length-3);break}else t-=2}var $=r[t-1];if($.length>=2){var F=r[t-1],_=C(F,0,2),Q=e.ctrl,H=c(Q,_)!==void 0;if(r[t++]=Q,r[t++]=_,H){e.j=e.j-1;var J=r[--t];g(e.msg,e.j,c(r[--t],J)),e.j=e.j+1;var K=r[--t];r[t++]=C(K,2,K.length-2);break}else t-=2}var he=r[t-1];if(he.length>=3){var G=r[t-1],L=C(G,0,3);r[t++]=!0;for(var ce=0,fe=L.length;ce<fe;ce++){var U=c(L,ce);(U<48||U>57)&&(r[t-1]=!1)}if(r[--t]){var ee=r[t-1],se=Fe(C(ee,0,3));r[t++]=se,se>255&&(t-=2,r[t++]="bwipp.invalidOrdinal#282",r[t++]="Ordinal must be 000 to 255",z()),e.j=e.j-1,g(e.msg,e.j,r[--t]),e.j=e.j+1;var de=r[--t];r[t++]=C(de,3,de.length-3)}}}if(e.parseonly||!e.parsefnc||c(e.msg,e.j-1)!=94)break;e.j=e.j-1;var ke=r[t-1];ke.length<1&&(t--,r[t++]="bwipp.truncatedCaret#301",r[t++]="Caret character truncated",z());var ae=r[t-1];if(c(ae,0)==94){g(e.msg,e.j,94),e.j=e.j+1;var De=r[--t];r[t++]=C(De,1,De.length-1);break}var we=r[t-1];we.length<3&&(t--,r[t++]="bwipp.truncatedFNC#311",r[t++]="Function character truncated",z());var Ae=r[t-1];if(Y(C(Ae,0,3),"ECI")&&e.eci){var Le=r[t-1];Le.length<9&&(t--,r[t++]="bwipp.truncatedECI#316",r[t++]="ECI truncated",z());var xe=r[t-1],Oe=C(xe,3,6);r[t++]=Oe;for(var Te=0,Pe=Oe.length;Te<Pe;Te++){var Ue=c(Oe,Te);(Ue<48||Ue>57)&&(t-=2,r[t++]="bwipp.invalidECI#322",r[t++]="ECI must be 000000 to 999999",z())}var Ze=r[--t];r[t++]=0,ge(Ze,function(){var kt=r[--t],wt=r[--t];r[t++]=S(wt-(kt-48))*10}),g(e.msg,e.j,~~(r[--t]/10)-1e6),e.j=e.j+1;var te=r[--t];r[t++]=C(te,9,te.length-9);break}var oe=r[t-1];oe.length<4&&(t--,r[t++]="bwipp.truncatedFNC#333",r[t++]="Function character truncated",z());var Re=r[t-1],ze=C(Re,0,4),Je=c(e.fncvals,ze)!==void 0;if(r[t++]=ze,!Je){var Qe=r[--t],qe=W(Qe.length+28);M(qe,28,Qe),M(qe,0,"Unknown function character: "),r[t-1]=qe;var ut=r[--t];r[t++]="bwipp.unknownFNC#339",r[t++]=ut,z()}g(e.msg,e.j,c(e.fncvals,r[--t])),e.j=e.j+1;var mt=r[--t];r[t++]=C(mt,4,mt.length-4);break}}else break}if(!e.parseonly)r[t++]=C(e.msg,0,e.j);else{r[t++]=W(e.j);for(var lt=0,vt=e.j-1;lt<=vt;lt+=1){var St=r[t-1];g(St,lt,c(e.msg,lt))}}e=a}function Is(){var a=e;e=Object.assign({},e);var n=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),i=s([n]),o=s([]),d=new Map([["parts",i],["dlpkey",o]]),u=s(["lintcsum","lintgcppos2"]),f=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",u]]),h=s([f]),p=s(["255","37"]),m=s(["22","10","21"]),x=s(["235"]),b=s([m,x]),y=new Map([["parts",h],["ex",p],["dlpkey",b]]),w=s(["lintcsum","lintgcppos2"]),v=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",w]]),A=s([v]),k=s(["01","03"]),E=s(["37"]),j=s([E]),N=s([j]),B=new Map([["parts",A],["ex",k],["req",N]]),I=s(["lintcsum","lintgcppos2"]),D=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",I]]),T=s([D]),R=s(["01","02","37"]),$=new Map([["parts",T],["ex",R],["dlattr",!1]]),F=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),_=new Map([["parts",s([F])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),Q=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),H=new Map([["parts",s([Q])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),J=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),K=s([s([s(["8020"])])]),he=new Map([["parts",s([J])],["req",K]]),G=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),L=new Map([["parts",s([G])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["8006"]),s(["8026"])])])]]),ce=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),fe=new Map([["parts",s([ce])],["req",s([s([s(["01"]),s(["02"]),s(["03"]),s(["255"]),s(["8006"]),s(["8026"])])])]]),U=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s([])]]),ee=new Map([["parts",s([U])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),se=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),de=new Map([["parts",s([se])],["ex",s(["235"])],["req",s([s([s(["01"]),s(["03"]),s(["8006"])])])],["dlattr",!1]]),ke=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),ae=new Map([["parts",s([ke])],["req",s([s([s(["01"])])])],["dlattr",!1]]),De=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),we=new Map([["parts",s([De])],["req",s([s([s(["01"])])])],["dlattr",!1]]),Ae=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Le=new Map([["parts",s([Ae])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),xe=new Map([["cset","N"],["min",1],["max",6],["opt",!1],["linters",s([])]]),Oe=new Map([["parts",s([xe])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Te=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Pe=new Map([["parts",s([Te])],["req",s([s([s(["01"])])])]]),Ue=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Ze=new Map([["parts",s([Ue])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["21"])])])]]),te=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),oe=new Map([["parts",s([te])],["req",s([s([s(["01"]),s(["8006"])])])]]),Re=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ze=new Map([["cset","X"],["min",1],["max",17],["opt",!0],["linters",s([])]]),Je=new Map([["parts",s([Re,ze])],["dlpkey",s([])]]),Qe=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),qe=new Map([["parts",s([Qe])],["req",s([s([s(["414"])])])],["dlattr",!1]]),ut=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),mt=new Map([["cset","N"],["min",1],["max",12],["opt",!0],["linters",s([])]]),lt=new Map([["parts",s([ut,mt])],["ex",s(["01","02","415","8006","8020","8026"])],["dlpkey",s([])]]),vt=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),St=new Map([["parts",s([vt])],["req",s([s([s(["01"]),s(["02"])])])]]),kt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),wt=new Map([["parts",s([kt])],["ex",s(["310n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Pt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Mt=new Map([["parts",s([Pt])],["ex",s(["311n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Lt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Dt=new Map([["parts",s([Lt])],["ex",s(["312n"])],["req",s([s([s(["01"]),s(["02"])])])]]),jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),P=new Map([["parts",s([jt])],["ex",s(["313n"])],["req",s([s([s(["01"]),s(["02"])])])]]),V=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),q=new Map([["parts",s([V])],["ex",s(["314n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ne=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ue=new Map([["parts",s([ne])],["ex",s(["315n"])],["req",s([s([s(["01"]),s(["02"])])])]]),be=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),re=new Map([["parts",s([be])],["ex",s(["316n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Se=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),X=new Map([["parts",s([Se])],["ex",s(["320n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ve=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),me=new Map([["parts",s([ve])],["ex",s(["321n"])],["req",s([s([s(["01"]),s(["02"])])])]]),je=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),le=new Map([["parts",s([je])],["ex",s(["322n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ye=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ie=new Map([["parts",s([ye])],["ex",s(["323n"])],["req",s([s([s(["01"]),s(["02"])])])]]),pe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ce=new Map([["parts",s([pe])],["ex",s(["324n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ne=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Be=new Map([["parts",s([Ne])],["ex",s(["325n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ge=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),He=new Map([["parts",s([Ge])],["ex",s(["326n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Xe=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),st=new Map([["parts",s([Xe])],["ex",s(["327n"])],["req",s([s([s(["01"]),s(["02"])])])]]),at=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ee=new Map([["parts",s([at])],["ex",s(["328n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ve=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ye=new Map([["parts",s([Ve])],["ex",s(["329n"])],["req",s([s([s(["01"]),s(["02"])])])]]),et=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ht=new Map([["parts",s([et])],["ex",s(["330n"])],["req",s([s([s(["00"]),s(["01"])])])]]),pt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ft=new Map([["parts",s([pt])],["ex",s(["331n"])],["req",s([s([s(["00"]),s(["01"])])])]]),gt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nt=new Map([["parts",s([gt])],["ex",s(["332n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Tt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),tt=new Map([["parts",s([Tt])],["ex",s(["333n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Qt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ht=new Map([["parts",s([Qt])],["ex",s(["334n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ot=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),sr=new Map([["parts",s([Ot])],["ex",s(["335n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Sr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),nr=new Map([["parts",s([Sr])],["ex",s(["336n"])],["req",s([s([s(["00"]),s(["01"])])])]]),gr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ar=new Map([["parts",s([gr])],["ex",s(["337n"])],["req",s([s([s(["01"])])])]]),Ir=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Zt=new Map([["parts",s([Ir])],["ex",s(["340n"])],["req",s([s([s(["00"]),s(["01"])])])]]),dr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Kt=new Map([["parts",s([dr])],["ex",s(["341n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Jt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ur=new Map([["parts",s([Jt])],["ex",s(["342n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Tr=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),_r=new Map([["parts",s([Tr])],["ex",s(["343n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ua=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ct=new Map([["parts",s([ua])],["ex",s(["344n"])],["req",s([s([s(["00"]),s(["01"])])])]]),qt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),tr=new Map([["parts",s([qt])],["ex",s(["345n"])],["req",s([s([s(["00"]),s(["01"])])])]]),br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ir=new Map([["parts",s([br])],["ex",s(["346n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Br=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),or=new Map([["parts",s([Br])],["ex",s(["347n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Ut=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),yr=new Map([["parts",s([Ut])],["ex",s(["348n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ta=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),fa=new Map([["parts",s([ta])],["ex",s(["349n"])],["req",s([s([s(["00"]),s(["01"])])])]]),wa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Lr=new Map([["parts",s([wa])],["ex",s(["350n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ea=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ga=new Map([["parts",s([Ea])],["ex",s(["351n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ra=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),la=new Map([["parts",s([Ra])],["ex",s(["352n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Aa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ca=new Map([["parts",s([Aa])],["ex",s(["353n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ka=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),La=new Map([["parts",s([ka])],["ex",s(["354n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Qa=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Va=new Map([["parts",s([Qa])],["ex",s(["355n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ps=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ia=new Map([["parts",s([ps])],["ex",s(["356n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Bs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ha=new Map([["parts",s([Bs])],["ex",s(["357n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Qs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ma=new Map([["parts",s([Qs])],["ex",s(["360n"])],["req",s([s([s(["01"]),s(["02"])])])]]),ms=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ds=new Map([["parts",s([ms])],["ex",s(["361n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Ts=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ka=new Map([["parts",s([Ts])],["ex",s(["362n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Hs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Wa=new Map([["parts",s([Hs])],["ex",s(["363n"])],["req",s([s([s(["00"]),s(["01"])])])]]),xs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Fa=new Map([["parts",s([xs])],["ex",s(["364n"])],["req",s([s([s(["01"]),s(["02"])])])]]),vn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),$a=new Map([["parts",s([vn])],["ex",s(["365n"])],["req",s([s([s(["01"]),s(["02"])])])]]),In=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Ba=new Map([["parts",s([In])],["ex",s(["366n"])],["req",s([s([s(["01"]),s(["02"])])])]]),Xs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),_a=new Map([["parts",s([Xs])],["ex",s(["367n"])],["req",s([s([s(["00"]),s(["01"])])])]]),rn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),is=new Map([["parts",s([rn])],["ex",s(["368n"])],["req",s([s([s(["00"]),s(["01"])])])]]),Xt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),Xr=new Map([["parts",s([Xt])],["ex",s(["369n"])],["req",s([s([s(["00"]),s(["01"])])])]]),ja=new Map([["cset","N"],["min",1],["max",8],["opt",!1],["linters",s([])]]),Pa=new Map([["parts",s([ja])],["req",s([s([s(["00"])]),s([s(["02"]),s(["8026"])])])]]),vs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Qr=new Map([["parts",s([vs])],["ex",s(["390n","391n","394n","8111"])],["req",s([s([s(["255"]),s(["8020"])])])]]),os=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),gs=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Oa=new Map([["parts",s([os,gs])],["ex",s(["391n"])],["req",s([s([s(["8020"])])])]]),Bn=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Da=new Map([["parts",s([Bn])],["ex",s(["392n","393n"])],["req",s([s([s(["01"])]),s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),ui=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso4217"])]]),$s=new Map([["cset","N"],["min",1],["max",15],["opt",!1],["linters",s([])]]),Ta=new Map([["parts",s([ui,$s])],["ex",s(["393n"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),Dn=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),Ja=new Map([["parts",s([Dn])],["ex",s(["394n","8111"])],["req",s([s([s(["255"])])])]]),Tn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),bs=new Map([["parts",s([Tn])],["ex",s(["392n","393n","395n","8005"])],["req",s([s([s(["30"]),s(["31nn"]),s(["32nn"]),s(["35nn"]),s(["36nn"])])])]]),an=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),sn=new Map([["parts",s([an])]]),Xn=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),At=new Map([["parts",s([Xn])],["dlpkey",s([])]]),Yr=new Map([["cset","N"],["min",17],["max",17],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ra=new Map([["parts",s([Yr])],["dlpkey",s([])]]),Ua=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),ca=new Map([["parts",s([Ua])],["req",s([s([s(["00"])])])]]),Xa=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ys=new Map([["parts",s([Xa])]]),gn=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),ct=new Map([["parts",s([gn])],["dlpkey",s([s(["254"]),s(["7040"])])]]),Nt=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),hr=new Map([["parts",s([Nt])],["req",s([s([s(["8020"])])])],["dlpkey",s([s(["8020"])])]]),lr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),fr=new Map([["parts",s([lr])]]),Rr=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),cr=new Map([["parts",s([Rr])],["dlpkey",s([s(["7040"])])]]),aa=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Hr=new Map([["parts",s([aa])],["ex",s(["421"])]]),$r=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Gr=new Map([["cset","X"],["min",1],["max",9],["opt",!1],["linters",s([])]]),Vr=new Map([["parts",s([$r,Gr])],["ex",s(["4307"])]]),ha=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Zr=new Map([["parts",s([ha])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),qr=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),sa=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Mr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Pr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),za=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ba=new Map([["parts",s([qr,sa,Mr,Pr,za])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),ls=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Ss=new Map([["parts",s([ls])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),nn=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),Rs=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),rr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),wr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),Nr=new Map([["cset","N"],["min",3],["max",3],["opt",!0],["linters",s(["lintiso3166"])]]),ea=new Map([["parts",s([nn,Rs,rr,wr,Nr])],["ex",s(["426"])],["req",s([s([s(["01"]),s(["02"])])])]]),Or=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166"])]]),na=new Map([["parts",s([Or])],["req",s([s([s(["01"]),s(["02"])])])]]),Kr=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),Za=new Map([["parts",s([Kr])],["req",s([s([s(["01"]),s(["02"])]),s([s(["422"])])])]]),es=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),Gs=new Map([["parts",s([es])],["req",s([s([s(["00"])])])]]),bn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Rn=new Map([["parts",s([bn])],["req",s([s([s(["00"])])])]]),Ln=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),Qn=new Map([["parts",s([Ln])],["req",s([s([s(["4302"])])])]]),yn=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),fi=new Map([["parts",s([yn])],["req",s([s([s(["00"])])])]]),Hn=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),hi=new Map([["parts",s([Hn])],["req",s([s([s(["00"])])])]]),Ji=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),pi=new Map([["parts",s([Ji])],["req",s([s([s(["00"])])])]]),Xi=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlatitude"])]]),Zi=new Map([["cset","N"],["min",10],["max",10],["opt",!1],["linters",s(["lintlongitude"])]]),Ke=new Map([["parts",s([Xi,Zi])],["req",s([s([s(["00"])])])]]),bt=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),pr=new Map([["parts",s([bt])],["req",s([s([s(["00"])])])]]),kr=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),pa=new Map([["parts",s([kr])],["req",s([s([s(["00"])])])]]),ts=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),rs=new Map([["parts",s([ts])],["req",s([s([s(["4312"])])])]]),Es=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),on=new Map([["parts",s([Es])],["req",s([s([s(["00"])])])]]),wn=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s(["lintiso3166alpha2"])]]),Ti=new Map([["parts",s([wn])],["req",s([s([s(["00"])])])]]),Ri=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),$n=new Map([["parts",s([Ri])],["req",s([s([s(["00"])])])]]),Mi=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Eo=new Map([["parts",s([Mi])],["req",s([s([s(["00"])])])]]),H1=new Map([["cset","X"],["min",1],["max",35],["opt",!1],["linters",s(["lintpcenc"])]]),dt=new Map([["parts",s([H1])],["req",s([s([s(["00"])])])]]),Gt=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintyesno"])]]),Ur=new Map([["parts",s([Gt])],["req",s([s([s(["00"])])])]]),it=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmd0"])]]),Ft=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Yt=new Map([["parts",s([it,Ft])],["req",s([s([s(["00"])])])]]),Wt=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Wr=new Map([["parts",s([Wt])],["req",s([s([s(["00"])])])]]),ya=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ma=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),cs=new Map([["parts",s([ya,ma])],["ex",s(["4331"])],["req",s([s([s(["00"])])])]]),qs=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),ln=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),cn=new Map([["parts",s([qs,ln])],["ex",s(["4330"])],["req",s([s([s(["00"])])])]]),Gn=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),b1=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),e1=new Map([["parts",s([Gn,b1])],["ex",s(["4333"])],["req",s([s([s(["00"])])])]]),Fi=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),y1=new Map([["cset","X"],["min",1],["max",1],["opt",!0],["linters",s(["linthyphen"])]]),t1=new Map([["parts",s([Fi,y1])],["ex",s(["4332"])],["req",s([s([s(["00"])])])]]),$1=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s([])]]),w1=new Map([["parts",s([$1])],["req",s([s([s(["01"]),s(["02"]),s(["8006"]),s(["8026"])])])]]),Nc=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),Sc=new Map([["parts",s([Nc])],["req",s([s([s(["01"]),s(["02"])])])]]),ml=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Co=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),Ec=new Map([["parts",s([ml,Co])],["req",s([s([s(["01"]),s(["02"])])])]]),Cc=new Map([["cset","N"],["min",1],["max",4],["opt",!1],["linters",s([])]]),Ic=new Map([["parts",s([Cc])],["req",s([s([s(["01"])]),s([s(["10"])])])]]),Bc=new Map([["cset","X"],["min",1],["max",12],["opt",!1],["linters",s([])]]),Dc=new Map([["parts",s([Bc])],["req",s([s([s(["01"]),s(["02"])])])]]),Tc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Rc=new Map([["parts",s([Tc])],["req",s([s([s(["01"]),s(["02"])])])]]),Mc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),Fc=new Map([["cset","N"],["min",6],["max",6],["opt",!0],["linters",s(["lintyymmdd"])]]),_c=new Map([["parts",s([Mc,Fc])],["req",s([s([s(["01"]),s(["02"])])])]]),xl=new Map([["cset","X"],["min",1],["max",3],["opt",!1],["linters",s([])]]),Io=new Map([["parts",s([xl])],["req",s([s([s(["01"]),s(["02"])])])]]),Pc=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),Oc=new Map([["parts",s([Pc])],["req",s([s([s(["01"]),s(["02"])])])]]),vl=new Map([["cset","X"],["min",1],["max",2],["opt",!1],["linters",s([])]]),Bo=new Map([["parts",s([vl])],["req",s([s([s(["01"]),s(["02"])])])]]),Uc=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),zc=new Map([["cset","N"],["min",4],["max",4],["opt",!0],["linters",s(["linthhmi"])]]),gl=new Map([["parts",s([Uc,zc])],["req",s([s([s(["01"]),s(["02"])])])]]),Do=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Lc=new Map([["parts",s([Do])],["req",s([s([s(["01"]),s(["8006"])]),s([s(["416"])])])]]),Qc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),bl=new Map([["parts",s([Qc])],["req",s([s([s(["01"]),s(["8006"])])])]]),To=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Hc=new Map([["parts",s([To])],["req",s([s([s(["7021"])])])]]),yl=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),G1=new Map([["parts",s([yl])]]),Ro=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintiso3166999"])]]),$c=new Map([["cset","X"],["min",1],["max",27],["opt",!1],["linters",s([])]]),qn=new Map([["parts",s([Ro,$c])],["req",s([s([s(["01"]),s(["02"])])])]]),Gc=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),Yu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),Vu=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s([])]]),x2=new Map([["cset","X"],["min",1],["max",1],["opt",!1],["linters",s(["lintimporteridx"])]]),qc=new Map([["parts",s([Gc,Yu,Vu,x2])],["dlattr",!1]]),Ku=new Map([["cset","X"],["min",1],["max",4],["opt",!1],["linters",s(["lintpackagetype"])]]),Wu=new Map([["parts",s([Ku])],["req",s([s([s(["00"])])])],["dlattr",!1]]),v2=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),_i=new Map([["parts",s([v2])],["req",s([s([s(["01"])])])]]),Ju=new Map([["cset","X"],["min",2],["max",2],["opt",!1],["linters",s([])]]),Xu=new Map([["cset","X"],["min",1],["max",28],["opt",!1],["linters",s([])]]),mi=new Map([["parts",s([Ju,Xu])],["req",s([s([s(["01"]),s(["8004"])])])]]),Yc=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),Zu=new Map([["parts",s([Yc])],["req",s([s([s(["01"]),s(["8006"])])])]]),ef=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["lintmediatype"])]]),g2=new Map([["parts",s([ef])],["req",s([s([s(["8017"]),s(["8018"])])])]]),Vc=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),tf=new Map([["parts",s([Vc])],["req",s([s([s(["8017"]),s(["8018"])])])]]),rf=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),hA=new Map([["parts",s([rf])],["ex",s(["7251"])],["req",s([s([s(["8018"])])])]]),pA=new Map([["cset","N"],["min",8],["max",8],["opt",!1],["linters",s(["lintyyyymmdd"])]]),mA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["linthhmi"])]]),xA=new Map([["parts",s([pA,mA])],["ex",s(["7250"])],["req",s([s([s(["8018"])])])]]),vA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintiso5218"])]]),gA=new Map([["parts",s([vA])],["req",s([s([s(["8018"])])])]]),bA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),Jm=new Map([["parts",s([bA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),yA=new Map([["cset","X"],["min",1],["max",10],["opt",!1],["linters",s([])]]),wA=new Map([["parts",s([yA])],["ex",s(["7256","7259"])],["req",s([s([s(["8017"]),s(["8018"])])])]]),AA=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s(["lintpcenc"])]]),kA=new Map([["parts",s([AA])],["req",s([s([s(["8017"]),s(["8018"])])])]]),jA=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintpcenc"])]]),NA=new Map([["parts",s([jA])],["req",s([s([s(["8018"])])])]]),SA=new Map([["cset","X"],["min",3],["max",3],["opt",!1],["linters",s(["lintposinseqslash"])]]),EA=new Map([["parts",s([SA])],["req",s([s([s(["8018","7259"])])])]]),CA=new Map([["cset","X"],["min",1],["max",40],["opt",!1],["linters",s(["lintpcenc"])]]),IA=new Map([["parts",s([CA])],["ex",s(["7256"])],["req",s([s([s(["8018"])])])]]),BA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintnonzero"])]]),DA=new Map([["cset","N"],["min",5],["max",5],["opt",!1],["linters",s(["lintnonzero"])]]),TA=new Map([["cset","N"],["min",3],["max",3],["opt",!1],["linters",s(["lintnonzero"])]]),RA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintwinding"])]]),MA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s([])]]),FA=new Map([["parts",s([BA,DA,TA,RA,MA])],["req",s([s([s(["01"])])])]]),_A=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),PA=new Map([["parts",s([_A])]]),OA=new Map([["cset","N"],["min",1],["max",1],["opt",!1],["linters",s(["lintzero"])]]),UA=new Map([["cset","N"],["min",13],["max",13],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),zA=new Map([["cset","X"],["min",1],["max",16],["opt",!0],["linters",s([])]]),LA=new Map([["parts",s([OA,UA,zA])],["dlpkey",s([])]]),QA=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),HA=new Map([["parts",s([QA])],["dlpkey",s([s(["7040"])])]]),$A=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s([])]]),GA=new Map([["parts",s([$A])],["req",s([s([s(["01"]),s(["02"])])])]]),qA=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),YA=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),VA=new Map([["parts",s([qA,YA])],["ex",s(["01","37"])],["dlpkey",s([s(["22","10","21"])])]]),KA=new Map([["cset","X"],["min",1],["max",34],["opt",!1],["linters",s(["lintiban"])]]),WA=new Map([["parts",s([KA])],["req",s([s([s(["415"])])])]]),JA=new Map([["cset","N"],["min",6],["max",6],["opt",!1],["linters",s(["lintyymmdd"])]]),XA=new Map([["cset","N"],["min",2],["max",2],["opt",!1],["linters",s(["linthh"])]]),ZA=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintmi"])]]),e9=new Map([["cset","N"],["min",2],["max",2],["opt",!0],["linters",s(["lintss"])]]),t9=new Map([["parts",s([JA,XA,ZA,e9])],["req",s([s([s(["01"]),s(["02"])])])]]),r9=new Map([["cset","X"],["min",1],["max",50],["opt",!1],["linters",s([])]]),a9=new Map([["parts",s([r9])],["req",s([s([s(["00"]),s(["01"])])])]]),s9=new Map([["cset","Y"],["min",1],["max",30],["opt",!1],["linters",s(["lintgcppos1"])]]),n9=new Map([["parts",s([s9])],["dlpkey",s([s(["8011"])])]]),i9=new Map([["cset","N"],["min",1],["max",12],["opt",!1],["linters",s(["lintnozeroprefix"])]]),o9=new Map([["parts",s([i9])],["req",s([s([s(["8010"])])])],["dlattr",!1]]),l9=new Map([["cset","X"],["min",1],["max",20],["opt",!1],["linters",s([])]]),c9=new Map([["parts",s([l9])],["req",s([s([s(["01"]),s(["8006"])])])]]),d9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1"])]]),u9=new Map([["parts",s([d9])],["dlpkey",s([])]]),f9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s(["lintcsumalpha","lintgcppos1","linthasnondigit"])]]),h9=new Map([["parts",s([f9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),p9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),m9=new Map([["parts",s([p9])],["ex",s(["8018"])],["dlpkey",s([s(["8019"])])]]),x9=new Map([["cset","N"],["min",18],["max",18],["opt",!1],["linters",s(["lintcsum","lintgcppos1"])]]),v9=new Map([["parts",s([x9])],["ex",s(["8017"])],["dlpkey",s([s(["8019"])])]]),g9=new Map([["cset","N"],["min",1],["max",10],["opt",!1],["linters",s([])]]),b9=new Map([["parts",s([g9])],["req",s([s([s(["8017"]),s(["8018"])])])],["dlattr",!1]]),y9=new Map([["cset","X"],["min",1],["max",25],["opt",!1],["linters",s([])]]),w9=new Map([["parts",s([y9])],["req",s([s([s(["415"])])])],["dlattr",!1]]),A9=new Map([["cset","N"],["min",14],["max",14],["opt",!1],["linters",s(["lintcsum","lintgcppos2"])]]),k9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s(["lintpieceoftotal"])]]),j9=new Map([["parts",s([A9,k9])],["ex",s(["02","8006"])],["req",s([s([s(["37"])])])]]),N9=new Map([["cset","Z"],["min",1],["max",90],["opt",!1],["linters",s([])]]),S9=new Map([["parts",s([N9])],["req",s([s([s(["00"]),s(["01","21"]),s(["253"]),s(["255"]),s(["8003"]),s(["8004"]),s(["8006","21"]),s(["8010","8011"]),s(["8017"]),s(["8018"])])])]]),E9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponcode"])]]),C9=new Map([["parts",s([E9])]]),I9=new Map([["cset","N"],["min",4],["max",4],["opt",!1],["linters",s([])]]),B9=new Map([["parts",s([I9])],["req",s([s([s(["255"])])])]]),D9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s(["lintcouponposoffer"])]]),T9=new Map([["parts",s([D9])]]),R9=new Map([["cset","X"],["min",1],["max",70],["opt",!1],["linters",s([])]]),M9=new Map([["parts",s([R9])],["req",s([s([s(["01"])])])],["dlattr",!1]]),F9=new Map([["cset","X"],["min",1],["max",30],["opt",!1],["linters",s([])]]),_9=new Map([["parts",s([F9])]]),P9=new Map([["cset","X"],["min",1],["max",90],["opt",!1],["linters",s([])]]),A1=new Map([["parts",s([P9])]]),O9=new Map([["00",d],["01",y],["02",B],["03",$],["10",_],["11",H],["12",he],["13",L],["15",L],["16",L],["17",fe],["20",ee],["21",de],["22",ae],["235",we],["240",Le],["241",Le],["242",Oe],["243",Pe],["250",Ze],["251",oe],["253",Je],["254",qe],["255",lt],["30",St],["3100",wt],["3101",wt],["3102",wt],["3103",wt],["3104",wt],["3105",wt],["3110",Mt],["3111",Mt],["3112",Mt],["3113",Mt],["3114",Mt],["3115",Mt],["3120",Dt],["3121",Dt],["3122",Dt],["3123",Dt],["3124",Dt],["3125",Dt],["3130",P],["3131",P],["3132",P],["3133",P],["3134",P],["3135",P],["3140",q],["3141",q],["3142",q],["3143",q],["3144",q],["3145",q],["3150",ue],["3151",ue],["3152",ue],["3153",ue],["3154",ue],["3155",ue],["3160",re],["3161",re],["3162",re],["3163",re],["3164",re],["3165",re],["3200",X],["3201",X],["3202",X],["3203",X],["3204",X],["3205",X],["3210",me],["3211",me],["3212",me],["3213",me],["3214",me],["3215",me],["3220",le],["3221",le],["3222",le],["3223",le],["3224",le],["3225",le],["3230",Ie],["3231",Ie],["3232",Ie],["3233",Ie],["3234",Ie],["3235",Ie],["3240",Ce],["3241",Ce],["3242",Ce],["3243",Ce],["3244",Ce],["3245",Ce],["3250",Be],["3251",Be],["3252",Be],["3253",Be],["3254",Be],["3255",Be],["3260",He],["3261",He],["3262",He],["3263",He],["3264",He],["3265",He],["3270",st],["3271",st],["3272",st],["3273",st],["3274",st],["3275",st],["3280",Ee],["3281",Ee],["3282",Ee],["3283",Ee],["3284",Ee],["3285",Ee],["3290",Ye],["3291",Ye],["3292",Ye],["3293",Ye],["3294",Ye],["3295",Ye],["3300",ht],["3301",ht],["3302",ht],["3303",ht],["3304",ht],["3305",ht],["3310",ft],["3311",ft],["3312",ft],["3313",ft],["3314",ft],["3315",ft],["3320",nt],["3321",nt],["3322",nt],["3323",nt],["3324",nt],["3325",nt],["3330",tt],["3331",tt],["3332",tt],["3333",tt],["3334",tt],["3335",tt],["3340",Ht],["3341",Ht],["3342",Ht],["3343",Ht],["3344",Ht],["3345",Ht],["3350",sr],["3351",sr],["3352",sr],["3353",sr],["3354",sr],["3355",sr],["3360",nr],["3361",nr],["3362",nr],["3363",nr],["3364",nr],["3365",nr],["3370",ar],["3371",ar],["3372",ar],["3373",ar],["3374",ar],["3375",ar],["3400",Zt],["3401",Zt],["3402",Zt],["3403",Zt],["3404",Zt],["3405",Zt],["3410",Kt],["3411",Kt],["3412",Kt],["3413",Kt],["3414",Kt],["3415",Kt],["3420",ur],["3421",ur],["3422",ur],["3423",ur],["3424",ur],["3425",ur],["3430",_r],["3431",_r],["3432",_r],["3433",_r],["3434",_r],["3435",_r],["3440",Ct],["3441",Ct],["3442",Ct],["3443",Ct],["3444",Ct],["3445",Ct],["3450",tr],["3451",tr],["3452",tr],["3453",tr],["3454",tr],["3455",tr],["3460",ir],["3461",ir],["3462",ir],["3463",ir],["3464",ir],["3465",ir],["3470",or],["3471",or],["3472",or],["3473",or],["3474",or],["3475",or],["3480",yr],["3481",yr],["3482",yr],["3483",yr],["3484",yr],["3485",yr],["3490",fa],["3491",fa],["3492",fa],["3493",fa],["3494",fa],["3495",fa],["3500",Lr],["3501",Lr],["3502",Lr],["3503",Lr],["3504",Lr],["3505",Lr],["3510",ga],["3511",ga],["3512",ga],["3513",ga],["3514",ga],["3515",ga],["3520",la],["3521",la],["3522",la],["3523",la],["3524",la],["3525",la],["3530",Ca],["3531",Ca],["3532",Ca],["3533",Ca],["3534",Ca],["3535",Ca],["3540",La],["3541",La],["3542",La],["3543",La],["3544",La],["3545",La],["3550",Va],["3551",Va],["3552",Va],["3553",Va],["3554",Va],["3555",Va],["3560",Ia],["3561",Ia],["3562",Ia],["3563",Ia],["3564",Ia],["3565",Ia],["3570",Ha],["3571",Ha],["3572",Ha],["3573",Ha],["3574",Ha],["3575",Ha],["3600",Ma],["3601",Ma],["3602",Ma],["3603",Ma],["3604",Ma],["3605",Ma],["3610",Ds],["3611",Ds],["3612",Ds],["3613",Ds],["3614",Ds],["3615",Ds],["3620",Ka],["3621",Ka],["3622",Ka],["3623",Ka],["3624",Ka],["3625",Ka],["3630",Wa],["3631",Wa],["3632",Wa],["3633",Wa],["3634",Wa],["3635",Wa],["3640",Fa],["3641",Fa],["3642",Fa],["3643",Fa],["3644",Fa],["3645",Fa],["3650",$a],["3651",$a],["3652",$a],["3653",$a],["3654",$a],["3655",$a],["3660",Ba],["3661",Ba],["3662",Ba],["3663",Ba],["3664",Ba],["3665",Ba],["3670",_a],["3671",_a],["3672",_a],["3673",_a],["3674",_a],["3675",_a],["3680",is],["3681",is],["3682",is],["3683",is],["3684",is],["3685",is],["3690",Xr],["3691",Xr],["3692",Xr],["3693",Xr],["3694",Xr],["3695",Xr],["37",Pa],["3900",Qr],["3901",Qr],["3902",Qr],["3903",Qr],["3904",Qr],["3905",Qr],["3906",Qr],["3907",Qr],["3908",Qr],["3909",Qr],["3910",Oa],["3911",Oa],["3912",Oa],["3913",Oa],["3914",Oa],["3915",Oa],["3916",Oa],["3917",Oa],["3918",Oa],["3919",Oa],["3920",Da],["3921",Da],["3922",Da],["3923",Da],["3924",Da],["3925",Da],["3926",Da],["3927",Da],["3928",Da],["3929",Da],["3930",Ta],["3931",Ta],["3932",Ta],["3933",Ta],["3934",Ta],["3935",Ta],["3936",Ta],["3937",Ta],["3938",Ta],["3939",Ta],["3940",Ja],["3941",Ja],["3942",Ja],["3943",Ja],["3950",bs],["3951",bs],["3952",bs],["3953",bs],["3954",bs],["3955",bs],["400",sn],["401",At],["402",ra],["403",ca],["410",ys],["411",ys],["412",ys],["413",ys],["414",ct],["415",hr],["416",fr],["417",cr],["420",Hr],["421",Vr],["422",Zr],["423",ba],["424",Ss],["425",ea],["426",na],["427",Za],["4300",Gs],["4301",Gs],["4302",Rn],["4303",Qn],["4304",fi],["4305",fi],["4306",fi],["4307",hi],["4308",pi],["4309",Ke],["4310",pr],["4311",pr],["4312",pa],["4313",rs],["4314",on],["4315",on],["4316",on],["4317",Ti],["4318",$n],["4319",Eo],["4320",dt],["4321",Ur],["4322",Ur],["4323",Ur],["4324",Yt],["4325",Yt],["4326",Wr],["4330",cs],["4331",cn],["4332",e1],["4333",t1],["7001",w1],["7002",Sc],["7003",Ec],["7004",Ic],["7005",Dc],["7006",Rc],["7007",_c],["7008",Io],["7009",Oc],["7010",Bo],["7011",gl],["7020",Lc],["7021",bl],["7022",Hc],["7023",G1],["7030",qn],["7031",qn],["7032",qn],["7033",qn],["7034",qn],["7035",qn],["7036",qn],["7037",qn],["7038",qn],["7039",qn],["7040",qc],["7041",Wu],["710",_i],["711",_i],["712",_i],["713",_i],["714",_i],["715",_i],["716",_i],["7230",mi],["7231",mi],["7232",mi],["7233",mi],["7234",mi],["7235",mi],["7236",mi],["7237",mi],["7238",mi],["7239",mi],["7240",Zu],["7241",g2],["7242",tf],["7250",hA],["7251",xA],["7252",gA],["7253",Jm],["7254",Jm],["7255",wA],["7256",kA],["7257",NA],["7258",EA],["7259",IA],["8001",FA],["8002",PA],["8003",LA],["8004",HA],["8005",GA],["8006",VA],["8007",WA],["8008",t9],["8009",a9],["8010",n9],["8011",o9],["8012",c9],["8013",u9],["8014",h9],["8017",m9],["8018",v9],["8019",b9],["8020",w9],["8026",j9],["8030",S9],["8110",C9],["8111",B9],["8112",T9],["8200",M9],["90",_9],["91",A1],["92",A1],["93",A1],["94",A1],["95",A1],["96",A1],["97",A1],["98",A1],["99",A1]]);if(e.gs1syntax=O9,Y(r[--t],"ai")){i0(r[--t],"("),r[--t]||(t--,r[t++]="bwipp.GS1aiMissingOpenParen#2494",r[t++]="AIs must start with '('",z()),r[t-1]=1/0;var U9=r[--t],z9=r[--t];for(r[t++]=U9,r[t++]=z9;;){var L9=r[t-1];if(L9.length==0){t--;break}It(r[--t],")"),r[--t]||(el(),r[t++]="bwipp.GS1aiMissingCloseParen#2500",r[t++]="AIs must end with ')'",z());var Q9=r[--t];r[t-1]=Q9;var H9=r[--t],$9=r[--t];if(r[t++]=H9,It($9,"("),r[--t]){var G9=r[--t];r[t-1]=G9;var q9=r[--t],Y9=r[--t];r[t++]=q9,r[t++]=Y9}else r[t++]=""}var Xm=xa();if(r[t++]=Xm,Xm>0)for(var Zm=r[--t],af=Zm,V9=~~(Zm/2)+1;af>=V9;af-=1)Na(af,-1);else t--;Vt(s(~~(xa()/2))),e.ais=r[--t],Vt(s(xa())),r[t++]=1/0;var K9=r[--t],W9=r[--t];r[t++]=K9,ge(W9,function(){var rt=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);r[t++]=rt,ns()}),e.vals=s(),t--}else{if(i0(r[--t],"http://"),r[--t]||(i0(r[--t],"HTTP://"),r[--t]||(i0(r[--t],"https://"),r[--t]||(i0(r[--t],"HTTPS://"),r[--t]||(t--,r[t++]="bwipp.GS1dlURIbadScheme#2519",r[t++]="Scheme must be http:// HTTP:// https:// or HTTPS://",z())))),t--,It(r[--t],"/"),r[--t]||(t--,r[t++]="bwipp.GS1dlMissingDomainOrPathInfo#2525",r[t++]="URI must contain a domain and path info",z()),t-=2,It(r[--t],"#"),r[--t]){var J9=r[--t];r[t-1]=J9;var X9=r[--t];r[t-1]=X9}if(It(r[--t],"?"),!r[--t]){var Z9=r[--t];r[t++]="",r[t++]=null,r[t++]=Z9}for(e.pp=r[--t],t--,e.qp=r[--t],r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=e.pp;;){if(It(r[--t],"/"),!r[--t]){t--;break}var e7=r[--t];r[t-1]=e7.length+1;var t7=r[--t],r7=r[--t],a7=r[t-1];r[t++]=S(t7+a7),r[t++]=r7}Vt(s(xa()-1)),e.pipos=r[--t],t-=2,e.pipos.length<=1&&(r[t++]="bwipp.GS1dlNoAIinfo#2550",r[t++]="The path was too short to contain AI info",z()),r[t++]=!1;for(var Kc=e.pipos.length-2;Kc>=0;Kc-=2){var ex=c(e.pipos,Kc),tx=C(e.pp,ex,S(c(e.pipos,Kc+1)-ex)-1),s7=c(e.gs1syntax,tx)!==void 0;if(r[t++]=Kc,r[t++]=tx,s7){var n7=c(c(e.gs1syntax,r[--t]),"dlpkey")!==void 0;if(n7){var i7=r[--t];r[t-1]=i7,r[t++]=!0;break}}else t--;t--}r[--t]||(r[t++]="bwipp.GS1dlNoAIinfo#2569",r[t++]="The path does not contain a valid primary key",z());var rx=c(e.pipos,r[--t]);for(e.pp=C(e.pp,rx,S(e.pp.length-rx)),e.uriunescape=function(){for(e.qq=r[--t],e.in=r[--t],e.out=W(e.in.length),r[t++]=0,r[t++]=0;;){var rt=r[t-2];if(rt>=e.in.length)break;var Et=r[t-2],Ar=c(e.in,Et);if(r[t++]=Ar,Ar==43&&e.qq){t--;var mr=r[--t];g(e.out,mr,32);var Er=r[--t];r[t++]=Er+1,r[t++]=mr+1}else{var ia=r[t-1],da=r[t-3];if(ia==37&&da<e.in.length-2){t--;var ws=r[t-2],Ga=C(e.in,ws+1,2);r[t++]=0;for(var As=0,Ms=Ga.length;As<Ms;As++){var Fs=c(Ga,As);if(r[t++]=Fs,Fs>=48&&Fs<=57){var Ys=r[--t];r[t++]=Ys-48}else{var xi=r[t-1];if(xi>=65&&xi<=70){var k1=r[--t];r[t++]=k1-55}else{var Pi=r[t-1];if(Pi>=97&&Pi<=102){var j1=r[--t];r[t++]=j1-87}else t-=2,r[t++]="bwipp.GS1dlBadHexCharacter#2590",r[t++]="Invalid hex character",z()}}var r1=r[--t],a1=r[--t];r[t++]=S(r1+a1*16)}var s1=r[--t],n1=r[--t];g(e.out,n1,s1);var Jc=r[--t];r[t++]=Jc+3,r[t++]=n1+1}else{var wl=r[--t],Oi=r[--t];g(e.out,Oi,wl);var i1=r[--t];r[t++]=i1+1,r[t++]=Oi+1}}}e.out=C(e.out,0,r[--t]),r[t-1]=e.out},e.isvaliddlpkeyseq=function(){e.in=r[--t],r[t++]=!1,ge(c(c(e.gs1syntax,c(e.in,0)),"dlpkey"),function(){for(e.seq=r[--t],e.i=1,e.j=0;!(e.i>=e.in.length||e.j>=e.seq.length);)Y(c(e.in,e.i),c(e.seq,e.j))&&(e.i=e.i+1),e.j=e.j+1;if(e.i==e.in.length)return r[t-1]=!0,!0})},e.ais=s(99),e.vals=s(99),r[t++]=0,r[t++]=e.pp;;){if(It(r[--t],"/"),r[--t]){var o7=r[--t];t--;var l7=r[--t],c7=r[t-1];if(g(e.ais,c7,o7),It(l7,"/"),r[--t]){var d7=r[--t];r[t-1]=d7}else{var u7=r[--t];r[t++]="",r[t++]=u7}var f7=r[--t],h7=r[t-2];r[t++]=e.vals,r[t++]=h7,r[t++]=f7,r[t++]=!1,e.uriunescape();var p7=r[--t],m7=r[--t];g(r[--t],m7,p7)}else{t--;break}var x7=r[--t],v7=r[--t];r[t++]=v7+1,r[t++]=x7}var sf=r[--t];for(e.plen=sf,r[t++]=sf,sf>1&&(r[t++]=C(e.ais,0,e.plen),e.isvaliddlpkeyseq(),r[--t]||(t--,r[t++]="bwipp.GS1dlBadPathInfo#2645",r[t++]="The AIs in the path are not a valid key-qualifier sequence for the key",z())),r[t++]=e.qp;;){var g7=r[t-1];if(g7.length==0){t--;break}if(It(r[--t],"&"),r[--t]){var b7=r[--t];r[t-1]=b7}else{var y7=r[--t];r[t++]="",r[t++]=y7}if(It(r[--t],"="),r[--t]){var w7=r[t-1];if(r[t++]=!0,ge(w7,function(){var rt=r[--t],Et=r[--t];r[t++]=Et&&rt>=48&&rt<=57}),r[--t]){var A7=r[--t];t--;var k7=r[--t],ax=r[t-2];g(e.ais,ax,A7),r[t++]=e.vals,r[t++]=ax,r[t++]=k7,r[t++]=!0,e.uriunescape();var j7=r[--t],N7=r[--t];g(r[--t],N7,j7);var S7=r[--t],E7=r[--t];r[t++]=E7+1,r[t++]=S7}else t-=3}else t--}for(var C7=r[t-1],sx=C(e.ais,e.plen,S(C7-e.plen)),nf=0,I7=sx.length;nf<I7;nf++){var nx=c(sx,nf),B7=c(e.gs1syntax,nx)!==void 0;if(r[t++]=nx,B7){var D7=r[t-1],ix=c(e.gs1syntax,D7),T7=c(ix,"dlattr")!==void 0;if(r[t++]=ix,r[t++]="dlattr",T7){var R7=r[--t],M7=c(r[--t],R7);r[t++]=M7}else t-=2,r[t++]=!0}else r[t++]=e.dontlint;if(!r[--t]){var ox=r[t-1],lx=ox.length,b2=W(lx+46);M(b2,0,"AI ("),M(b2,4,ox),M(b2,lx+4,") is not a valid GS1 DL URI data attribute"),r[t++]=b2;var F7=r[--t];r[t-1]=F7;var _7=r[--t];r[t++]="bwipp.GS1dlInvalidDataAttribute#2679",r[t++]=_7,z()}t--}for(var P7=r[t-1],cx=C(e.ais,e.plen,S(P7-e.plen)),of=0,O7=cx.length;of<O7;of++){r[t++]=c(cx,of);for(var lf=e.plen;lf>=1;lf-=1){var U7=r[t-1];r[t++]=lf,r[t++]=U7,r[t++]=1/0,O(C(e.ais,0,e.plen)),Na(xa()+3,-2);var z7=r[--t],L7=r[--t];r[t++]=z7,Na(L7,1);var Q7=s();if(r[t++]=Q7,e.isvaliddlpkeyseq(),r[--t]){var H7=r[--t];r[t-1]=H7;var dx=r[t-1],ux=dx.length,y2=W(ux+50);M(y2,0,"AI ("),M(y2,4,dx),M(y2,ux+4,") from query params should be in the path info"),r[t++]=y2;var $7=r[--t];r[t-1]=$7;var G7=r[--t];r[t++]="bwipp.GS1dlAttributeMustBeQualifier#2696",r[t++]=G7,z()}}t--}var fx=r[--t];e.ais=C(e.ais,0,fx),e.vals=C(e.vals,0,fx);for(var w2=0,q7=e.ais.length-1;w2<=q7;w2+=1){if(r[t++]=w2,Y(c(e.ais,w2),"01")){var Y7=r[t-1],hx=c(e.vals,Y7),cf=hx.length;if(r[t++]=hx,cf==8||cf==12||cf==13){var px=Fr(W(14),"00000000000000");r[t++]=px,r[t++]=px;var mx=r[t-3];M(r[t-1],14-mx.length,mx);var V7=r[t-2];t-=3;var K7=r[t-1];g(e.vals,K7,V7)}else t--}t--}}r[t++]=1/0;for(var xx=s(["00","01","02","03","04","11","12","13","14","15","16","17","18","19","20","31","32","33","34","35","36","41"]),df=0,W7=xx.length;df<W7;df++){var vx=c(xx,df);r[t++]=vx,r[t++]=vx}e.aifixed=$e(),r[t++]=1/0;for(var gx=e.ais,uf=0,J7=gx.length;uf<J7;uf++){var bx=c(gx,uf);if(r[t++]=!0,r[t++]=bx,bx.length>=2){var X7=c(e.aifixed,C(r[--t],0,2))!==void 0;X7&&(r[t-1]=!1)}else t--}e.fncs=s(),r[t++]=1/0,r[t++]=0;for(var ff=0,Z7=82;ff<Z7;ff++){var yx=r[--t];r[t++]=c(`!"%&'()*+,-./0123456789:;<=>?ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz`,ff),r[t++]=yx,r[t++]=yx+1}t--,e.cset82=$e(),r[t++]=1/0,r[t++]=0;for(var hf=0,ek=39;hf<ek;hf++){var wx=r[--t];r[t++]=c("#-/0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",hf),r[t++]=wx,r[t++]=wx+1}t--,e.cset39=$e(),r[t++]=1/0,r[t++]=0;for(var pf=0,tk=32;pf<tk;pf++){var Ax=r[--t];r[t++]=c("23456789ABCDEFGHJKLMNPQRSTUVWXYZ",pf),r[t++]=Ax,r[t++]=Ax+1}t--,e.cset32=$e(),r[t++]=1/0,r[t++]=0;for(var mf=0,rk=64;mf<rk;mf++){var kx=r[--t];r[t++]=c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",mf),r[t++]=kx,r[t++]=kx+1}t--,e.cset64=$e(),e.lintnumeric=function(){var rt=r[--t];if(r[t++]=!0,ge(rt,function(){var Et=r[--t];if(Et<48||Et>57)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1notNumeric#2770",r[t++]="Not numeric",r[t++]=!1,!0},e.lintcset82=function(){var rt=r[--t];if(r[t++]=!0,ge(rt,function(){var Et=c(e.cset82,r[--t])!==void 0;if(!Et)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET82character#2775",r[t++]="Invalid CSET 82 character",r[t++]=!1,!0},e.lintcset39=function(){var rt=r[--t];if(r[t++]=!0,ge(rt,function(){var Et=c(e.cset39,r[--t])!==void 0;if(!Et)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET39character#2780",r[t++]="Invalid CSET 39 character",r[t++]=!1,!0},e.lintcset64=function(){var rt=r[t-1];if(It(rt,"="),r[--t]){var Et=r[--t];r[t-1]=Et;var Ar=r[--t];r[t++]=Ar.length%3,r[t++]=Ar;var mr=r[t-2],Er=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Er,r[t++]=mr,r[t++]=!1,mr==1&&Y(Er,"=")&&(r[t-1]=!0);var ia=r[t-2],da=r[t-3];if(ia==2&&da.length==0&&(r[t-1]=!0),!r[--t])return t-=5,r[t++]="bwipp.GS1badCSET64padding#2789",r[t++]="Invalid CSET 64 padding",r[t++]=!1,!0;t-=2;var ws=r[--t],Ga=r[--t];r[t++]=ws,r[t++]=Ga}t--;var As=r[--t];if(r[t++]=!0,ge(As,function(){var Ms=c(e.cset64,r[--t])!==void 0;if(!Ms)return r[t-1]=!1,!0}),!r[--t])return t--,r[t++]="bwipp.GS1badCSET64character#2795",r[t++]="Invalid CSET 64 character",r[t++]=!1,!0},e.lintgcppos1=function(){var rt=r[t-1];if(rt.length<2)return t-=2,r[t++]="bwipp.GS1gcpTooShort#2799",r[t++]="Value is too short to contain a GS1 Company Prefix",r[t++]=!1,!0;var Et=r[--t],Ar=c(Et,0),mr=c(Et,1);if(Ar<48||Ar>57||mr<48||mr>57)return t--,r[t++]="bwipp.GS1badGCP#2802",r[t++]="Non-numeric GS1 Company Prefix",r[t++]=!1,!0},e.lintgcppos2=function(){var rt=r[t-1];if(rt.length<1)return t-=2,r[t++]="bwipp.GS1valueTooShortForOffsetGCP#2807",r[t++]="Value is too short to contain an offset GS1 Company Prefix",r[t++]=!1,!0;var Et=r[--t];r[t++]=C(Et,1,Et.length-1),e.lintgcppos1()},e.lintimporteridx=function(){if(It("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r[--t]),!r[--t])return t-=2,r[t++]="bwipp.GS1badImporterIndex#2813",r[t++]="Invalid importer index",r[t++]=!1,!0;t-=3},e.lintcsum=function(){r[t++]=1/0;var rt=r[--t],Et=r[--t],Ar=Et.length%2==0?3:1;r[t++]=rt,r[t++]=Ar,ge(Et,function(){var As=r[--t],Ms=r[--t];r[t++]=(As-48)*Ms,r[t++]=4-Ms}),t--;var mr=xa()+1;r[t++]=0;for(var Er=0,ia=mr-1;Er<ia;Er++){var da=r[--t],ws=r[--t];r[t++]=S(ws+da)}var Ga=r[--t];if(r[t-1]=Ga,r[--t]%10!=0)return t--,r[t++]="bwipp.GS1badChecksum#2822",r[t++]="Bad checksum",r[t++]=!1,!0},e.lintcsumalpha=function(){var rt=r[t-1];if(rt.length<2)return t-=2,r[t++]="bwipp.GS1alphaTooShort#2826",r[t++]="Alphanumeric string is too short to check",r[t++]=!1,!0;var Et=r[t-1];r[t++]=Et.length-2;var Ar=1/0,mr=C(Et,0,Et.length-2);r[t++]=Ar,ge(mr,function(){var Oi=r[t-1],i1=c(e.cset82,Oi)!==void 0;if(i1){var Mo=c(e.cset82,r[--t]);r[t++]=Mo}else return r[t++]=-1,!0});var Er=r[t-1];if(Er==-1)return el(),t-=3,r[t++]="bwipp.GS1UnknownCSET82Character#2832",r[t++]="Unknown CSET 82 character",r[t++]=!1,!0;Vt(s(xa()));var ia=r[--t];r[t-1]=ia;var da=r[t-2],ws=C(r[t-3],da,2);r[t-3]=r[t-1],t-=2;var Ga=1/0,As=ws;r[t++]=Ga,ge(As,function(){var Oi=r[t-1],i1=c(e.cset32,Oi)!==void 0;if(i1){var Mo=c(e.cset32,r[--t]);r[t++]=Mo}else return r[t++]=-1,!0});var Ms=r[t-1];if(Ms==-1)return el(),t-=2,r[t++]="bwipp.GS1UnknownCSET32Character#2838",r[t++]="Unknown CSET 32 character",r[t++]=!1,!0;Vt(s(xa()));var Fs=r[--t];r[t-1]=Fs;var Ys=r[--t],xi=r[--t],k1=s([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83]),Pi=xi.length;if(r[t++]=S((c(Ys,0)<<5)+c(Ys,1)),r[t++]=xi,r[t++]=k1,r[t++]=Pi,Pi>k1.length)return t-=5,r[t++]="bwipp.GS1alphaTooLong#2843",r[t++]="Alphanumeric string is too long to check",r[t++]=!1,!0;for(var j1=r[--t],r1=C(r[--t],0,j1),a1=0,s1=r1.length;a1<s1;a1++){var n1=r[--t];r[t++]=c(r1,a1),r[t++]=n1}var Jc=r[--t];r[t++]=0,ge(Jc,function(){var Oi=r[t-3],i1=r[t-1],Mo=r[t-2];t-=3,r[t++]=S(Mo+Oi*i1)});var wl=r[--t];if(r[--t]!=wl%1021)return t--,r[t++]="bwipp.GS1badAlphaCheckCharacters#2846",r[t++]="Bad alphanumeric check characters",r[t++]=!1,!0},r[t++]=1/0;for(var jx=s(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]),xf=0,ak=jx.length;xf<ak;xf++){var Nx=c(jx,xf);r[t++]=Nx,r[t++]=Nx}e.iso3166=$e(),e.lintiso3166=function(){var rt=c(e.iso3166,r[--t])!==void 0;if(!rt)return t--,r[t++]="bwipp.GS1UnknownCountry#2873",r[t++]="Unknown country code",r[t++]=!1,!0},e.lintiso3166999=function(){var rt=r[t-1];if(Me(rt,"999")){var Et=c(e.iso3166,r[--t])!==void 0;if(!Et)return t--,r[t++]="bwipp.GS1UnknownCountryOr999#2878",r[t++]="Unknown country code or not 999",r[t++]=!1,!0}else t--},r[t++]=1/0;for(var Sx=s(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]),vf=0,sk=Sx.length;vf<sk;vf++){var Ex=c(Sx,vf);r[t++]=Ex,r[t++]=Ex}e.iso3166alpha2=$e(),e.lintiso3166alpha2=function(){var rt=c(e.iso3166alpha2,r[--t])!==void 0;if(!rt)return t--,r[t++]="bwipp.GS1UnknownCountryAlpha#2914",r[t++]="Unknown country alpha code",r[t++]=!1,!0},r[t++]=1/0;for(var Cx=s(["008","012","032","036","044","048","050","051","052","060","064","068","072","084","090","096","104","108","116","124","132","136","144","152","156","170","174","188","191","192","203","208","214","222","230","232","238","242","262","270","292","320","324","328","332","340","344","348","352","356","360","364","368","376","388","392","396","398","400","404","408","410","414","417","418","422","426","430","434","446","454","458","462","480","484","496","498","504","512","516","524","532","533","548","554","558","566","578","586","590","598","600","604","608","634","643","646","654","682","690","694","702","704","706","710","728","748","752","756","760","764","776","780","784","788","800","807","818","826","834","840","858","860","882","886","901","925","927","928","929","930","931","932","933","934","936","938","940","941","943","944","946","947","948","949","950","951","952","953","955","956","957","958","959","960","961","962","963","964","965","967","968","969","970","971","972","973","975","976","977","978","979","980","981","984","985","986","990","994","997","999"]),gf=0,nk=Cx.length;gf<nk;gf++){var Ix=c(Cx,gf);r[t++]=Ix,r[t++]=Ix}e.iso4217=$e(),e.lintiso4217=function(){var rt=c(e.iso4217,r[--t])!==void 0;if(!rt)return t--,r[t++]="bwipp.GS1UnknownCurrency#2945",r[t++]="Unknown currency code",r[t++]=!1,!0},e.lintiso5218=function(){var rt=r[--t];if(Me(rt,"0")&&Me(rt,"1")&&Me(rt,"2")&&Me(rt,"9"))return t--,r[t++]="bwipp.GS1biologicalSexCode#2950",r[t++]="Invalid biological sex code",r[t++]=!1,!0},e.lintiban=function(){var rt=r[t-1];if(rt.length<=4)return t-=2,r[t++]="bwipp.GS1tooShort#2955",r[t++]="IBAN too short",r[t++]=!1,!0;var Et=r[t-1];if(r[t++]=!0,ge(Et,function(){var Fs=W(1);r[t++]=Fs,r[t++]=Fs,r[t++]=0,Na(4,-1);var Ys=r[--t],xi=r[--t];if(g(r[--t],xi,Ys),It("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r[--t]),!r[--t])return t-=2,r[t++]=!1,!0;t-=3}),!r[--t])return t--,r[t++]="bwipp.GS1badIBANcharacter#2962",r[t++]="Invalid IBAN character",r[t++]=!1,!0;var Ar=r[t-1],mr=1/0,Er=Ar;r[t++]=mr;var ia=1/0,da=Er;r[t++]=ia,ge(da),Na(xa(),-4),Vt(s(xa()));var ws=r[--t];r[t-1]=ws,ge(r[--t],function(){var Fs=r[--t]-48;if(r[t++]=Fs,Fs>9){var Ys=r[--t]-7;r[t++]=~~(Ys/10),r[t++]=Ys%10}}),Vt(s(xa()));var Ga=r[--t];r[t-1]=Ga;var As=r[--t];if(r[t++]=0,ge(As,function(){var Fs=r[--t],Ys=r[--t];r[t++]=S(Fs+Ys*10)%97}),r[--t]!=1)return t-=2,r[t++]="bwipp.GS1badIBANchecksum#2967",r[t++]="IBAN checksum incorrect",r[t++]=!1,!0;var Ms=C(r[--t],0,2);r[t++]=Ms,e.lintiso3166alpha2()},e.lintzero=function(){if(Me(r[--t],"0"))return t--,r[t++]="bwipp.GS1zeroRequired#2972",r[t++]="Zero is required",r[t++]=!1,!0},e.lintnonzero=function(){var rt=r[--t];if(r[t++]=!1,ge(rt,function(){r[--t]!=48&&(r[t-1]=!0)}),!r[--t])return t--,r[t++]="bwipp.GS1zeroNotPermitted#2977",r[t++]="Zero not permitted",r[t++]=!1,!0},e.lintnozeroprefix=function(){var rt=r[--t];if(rt.length>1&&c(rt,0)==48)return t--,r[t++]="bwipp.GS1badZeroPrefix#2982",r[t++]="Zero prefix is not permitted",r[t++]=!1,!0},e.linthasnondigit=function(){var rt=r[--t];if(r[t++]=!1,ge(rt,function(){var Et=r[--t];if(Et<48||Et>57)return r[t-1]=!0,!0}),!r[--t])return r[t++]="bwipp.GS1requiresNonDigit#2988",r[t++]="A non-digit character is required",r[t++]=!1,!0},e.linthyphen=function(){if(Me(r[--t],"-"))return t--,r[t++]="bwipp.GS1hyphenRequired#2992",r[t++]="A hyphen is required",r[t++]=!1,!0},e.lintyyyymmd0=function(){var rt=r[t-1],Et=Fe(C(rt,4,2));if(Et<1||Et>12)return t--,r[t++]="bwipp.GS1badMonth#2996",r[t++]="Invalid month",r[t++]=!1,!0;var Ar=r[t-1],mr=Fe(C(Ar,0,4));r[t++]=mr%400==0||mr%4==0&&mr%100!=0,r[t++]=1/0,r[t++]=31,Na(3,-1);var Er=r[--t]?29:28;r[t++]=Er,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var ia=s(),da=r[--t];if(c(ia,Fe(C(da,4,2))-1)<Fe(C(da,6,2)))return t--,r[t++]="bwipp.GS1badDay#3000",r[t++]="Invalid day of month",r[t++]=!1,!0},e.lintyyyymmdd=function(){var rt=r[t-1];if(rt.length!=8)return t--,r[t++]="bwipp.GS1badDateLength#3004",r[t++]="Invalid length for yyyymmdd date",r[t++]=!1,!0;var Et=r[t-1];if(Fe(C(Et,6,2))<1)return t--,r[t++]="bwipp.GS1badDay#3005",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyyyymmd0()},e.lintyymmd0=function(){var rt=r[t-1],Et=Fe(C(rt,0,2)),Ar=Et-21;r[t++]=Et,r[t++]=Ar,Ar>=51?r[t-1]="19":r[--t]<=-50?r[t++]="21":r[t++]="20";var mr=r[--t];r[t-1]=mr;var Er=W(8);r[t++]=Er,r[t++]=Er,r[t++]=0,Na(4,-1);var ia=r[--t],da=r[--t];M(r[--t],da,ia);var ws=r[t-1];r[t++]=ws,r[t++]=2,Na(4,-1);var Ga=r[--t],As=r[--t];M(r[--t],As,Ga),e.lintyyyymmd0()},e.lintyymmdd=function(){var rt=r[t-1];if(rt.length!=6)return t--,r[t++]="bwipp.GS1badDateLength#3017",r[t++]="Invalid length for yymmdd date",r[t++]=!1,!0;var Et=r[t-1];if(Fe(C(Et,4,2))<1)return t--,r[t++]="bwipp.GS1badDay#3018",r[t++]="Invalid day of month",r[t++]=!1,!0;e.lintyymmd0()},e.linthh=function(){if(Fe(C(r[--t],0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3023",r[t++]="Invalid hour of day",r[t++]=!1,!0},e.lintmi=function(){if(Fe(C(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3027",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintss=function(){if(Fe(C(r[--t],0,2))>59)return t--,r[t++]="bwipp.GS1badSecond#3031",r[t++]="Invalid second in the minute",r[t++]=!1,!0},e.linthhmi=function(){var rt=r[t-1];if(Fe(C(rt,0,2))>23)return t-=2,r[t++]="bwipp.GS1badHour#3035",r[t++]="Invalid hour of day",r[t++]=!1,!0;if(Fe(C(r[--t],2,2))>59)return t--,r[t++]="bwipp.GS1badMinute#3036",r[t++]="Invalid minute in the hour",r[t++]=!1,!0},e.lintmmoptss=function(){var rt=r[t-1],Et=rt.length;if(Et!=2&&Et!=4)return t--,r[t++]="bwipp.GS1badTimeLength#3041",r[t++]="Invalid length for optional minutes and seconds",r[t++]=!1,!0;var Ar=r[t-1];if(Fe(C(Ar,0,2))>59)return t-=2,r[t++]="bwipp.GS1badMinute#3043",r[t++]="Invalid minute in the hour",r[t++]=!1,!0;var mr=r[t-1];if(mr.length>=4){var Er=r[t-1];if(Fe(C(Er,2,2))>59)return t-=2,r[t++]="bwipp.GS1badSecond#3045",r[t++]="Invalid second in the minute",r[t++]=!1,!0}t--},e.lintyesno=function(){var rt=r[--t];if(Me(rt,"0")&&Me(rt,"1"))return t--,r[t++]="bwipp.GS1badBoolean#3052",r[t++]="Neither 0 nor 1 for yes or no",r[t++]=!1,!0},e.lintwinding=function(){var rt=r[--t];if(Me(rt,"0")&&Me(rt,"1")&&Me(rt,"9"))return t--,r[t++]="bwipp.GS1badWinding#3058",r[t++]="Invalid winding direction",r[t++]=!1,!0},e.lintpieceoftotal=function(){var rt=r[t-1];if(rt.length%2!=0)return t-=2,r[t++]="bwipp.GS1badPieceTotalLength#3063",r[t++]="Invalid piece/total length",r[t++]=!1,!0;var Et=r[t-1],Ar=Fe(C(Et,0,~~(Et.length/2)));if(r[t++]=Ar,Ar==0)return t-=3,r[t++]="bwipp.GS1badPieceNumber#3065",r[t++]="Invalid piece number",r[t++]=!1,!0;var mr=r[--t],Er=r[--t],ia=~~(Er.length/2),da=Fe(C(Er,ia,ia));if(r[t++]=mr,r[t++]=da,da==0)return t-=3,r[t++]="bwipp.GS1badPieceTotal#3067",r[t++]="Invalid total number",r[t++]=!1,!0;var ws=r[--t];if(B1(r[--t],ws))return t--,r[t++]="bwipp.GS1pieceExceedsTotal#3068",r[t++]="Piece number exceeds total",r[t++]=!1,!0},e.lintposinseqslash=function(){if(It(r[--t],"/"),!r[--t])return t--,r[t++]="bwipp.invalidPosInSeqFormat#3073",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var rt=r[--t];r[t-1]=rt;var Et=r[t-1];if(Et.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3077",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var Ar=r[t-2];if(Ar.length==0)return t-=2,r[t++]="bwipp.invalidPosInSeqFormat#3080",r[t++]="Invalid <pos>/<end> format",r[t++]=!1,!0;var mr=r[t-1];if(r[t++]=!0,ge(mr,function(){var Ga=r[--t];if(Ga<48||Ga>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.positionNotNumeric#3085",r[t++]="Position is not numeric",r[t++]=!1,!0;var Er=r[t-2];if(r[t++]=!0,ge(Er,function(){var Ga=r[--t];if(Ga<48||Ga>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.endNotNumeric#3089",r[t++]="End is not numeric",r[t++]=!1,!0;var ia=r[t-1];if(c(ia,0)==48)return t-=2,r[t++]="bwipp.positionZeroPrefix#3090",r[t++]="Position cannot have zero prefix",r[t++]=!1,!0;var da=r[t-2];if(c(da,0)==48)return t-=2,r[t++]="bwipp.endZeroPrefix#3091",r[t++]="End cannot have zero prefix",r[t++]=!1,!0;var ws=r[--t];if(Fe(r[--t])<Fe(ws))return r[t++]="bwipp.positionExceedsEnd#3093",r[t++]="Position exceeds end",r[t++]=!1,!0},e.lintpcenc=function(){for(;;){if(It(r[--t],"%"),!r[--t]){t--;break}t-=2;var rt=r[t-1];if(rt.length<2){t-=2,r[t++]="bwipp.GS1badPercentEscape#3099",r[t++]="Invalid % escape",r[t++]=!1;break}var Et=r[t-1],Ar=C(Et,0,2);r[t++]=!0;for(var mr=0,Er=Ar.length;mr<Er;mr++){var ia=W(1);if(g(ia,0,c(Ar,mr)),It("0123456789ABCDEFabcdef",ia),!r[--t]){t-=2,r[t++]=!1;break}t-=3}if(!r[--t]){t-=2,r[t++]="bwipp.GS1badPercentChars#3106",r[t++]="Invalid characters for percent encoding",r[t++]=!1;break}}},e.lintcouponcode=function(){var rt=r[t-1];if(r[t++]=!0,ge(rt,function(){var t4=r[--t];if(t4<48||t4>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3114",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Et=r[t-1];if(Et.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortGCPVLI#3118",r[t++]="Coupon too short: Missing GCP VLI",r[t++]=!1,!0;var Ar=r[t-1],mr=Fe(C(Ar,0,1));if(r[t++]=mr,mr>6)return t-=2,r[t++]="bwipp.GS1couponBadGCPVLI#3121",r[t++]="Coupon GCP length indicator must be 0-6",r[t++]=!1,!0;var Er=r[--t],ia=r[t-1];if(r[t++]=Er+6+1,Er+6+1>ia.length)return t-=3,r[t++]="bwipp.GS1couponTooShortGCP#3125",r[t++]="Coupon too short: GCP truncated",r[t++]=!1,!0;var da=r[--t],ws=r[--t],Ga=C(ws,da,S(ws.length-da));if(r[t++]=Ga,Ga.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3131",r[t++]="Coupon too short: Offer Code truncated",r[t++]=!1,!0;var As=r[--t],Ms=C(As,6,As.length-6);if(r[t++]=Ms,Ms.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueVLI#3137",r[t++]="Coupon too short: Missing Save Value VLI",r[t++]=!1,!0;var Fs=r[t-1],Ys=Fe(C(Fs,0,1));if(r[t++]=Ys,Ys<1||Ys>5)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueVLI#3140",r[t++]="Coupon Save Value length indicator must be 1-5",r[t++]=!1,!0;var xi=r[--t],k1=r[t-1];if(r[t++]=xi+1,xi+1>k1.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSaveValue#3144",r[t++]="Coupon too short: Save Value truncated",r[t++]=!1,!0;var Pi=r[--t],j1=r[--t],r1=C(j1,Pi,S(j1.length-Pi));if(r[t++]=r1,r1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementVLI#3150",r[t++]="Coupon too short: Missing 1st Purchase Requirement VLI",r[t++]=!1,!0;var a1=r[t-1],s1=Fe(C(a1,0,1));if(r[t++]=s1,s1<1||s1>5)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementVLI#3153",r[t++]="Coupon 1st Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var n1=r[--t],Jc=r[t-1];if(r[t++]=n1+1,n1+1>Jc.length)return t-=3,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirement#3157",r[t++]="Coupon too short: 1st Purchase Requirement truncated",r[t++]=!1,!0;var wl=r[--t],Oi=r[--t],i1=C(Oi,wl,S(Oi.length-wl));if(r[t++]=i1,i1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseRequirementCode#3163",r[t++]="Coupon too short: Missing 1st Purchase Requirement Code",r[t++]=!1,!0;var Mo=r[t-1],Ox=Fe(C(Mo,0,1));if(Ox>4&&Ox!=9)return t-=2,r[t++]="bwipp.GS1couponBad1stPurchaseRequirementCode#3166",r[t++]="Coupon 1st Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Ux=r[--t],zx=C(Ux,1,Ux.length-1);if(r[t++]=zx,zx.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort1stPurchaseFamilyCode#3172",r[t++]="Coupon too short: 1st Purchase Family Code truncated",r[t++]=!1,!0;var Lx=r[--t],Qx=C(Lx,3,Lx.length-3);if(r[t++]=Qx,Qx.length>=1){var bk=r[t-1];if(Fe(C(bk,0,1))==1){var Hx=r[--t],$x=C(Hx,1,Hx.length-1);if(r[t++]=$x,$x.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortAdditionalPurchaseRulesCode#3182",r[t++]="Coupon too short: Missing Additional Purchase Rules Code",r[t++]=!1,!0;var yk=r[t-1];if(Fe(C(yk,0,1))>3)return t-=2,r[t++]="bwipp.GS1couponBadAdditionalPurchaseRulesCode#3185",r[t++]="Coupon Additional Purchase Rules Code must be 0-3",r[t++]=!1,!0;var Gx=r[--t],qx=C(Gx,1,Gx.length-1);if(r[t++]=qx,qx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementVLI#3191",r[t++]="Coupon too short: Missing 2nd Purchase Requirement VLI",r[t++]=!1,!0;var wk=r[t-1],Af=Fe(C(wk,0,1));if(r[t++]=Af,Af<1||Af>5)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementVLI#3194",r[t++]="Coupon 2nd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var Yx=r[--t],Ak=r[t-1];if(r[t++]=Yx+1,Yx+1>Ak.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirement#3198",r[t++]="Coupon too short: 2nd Purchase Requirement truncated",r[t++]=!1,!0;var Vx=r[--t],Kx=r[--t],Wx=C(Kx,Vx,S(Kx.length-Vx));if(r[t++]=Wx,Wx.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseRequirementCode#3204",r[t++]="Coupon too short: Missing 2nd Purchase Requirement Code",r[t++]=!1,!0;var kk=r[t-1],Jx=Fe(C(kk,0,1));if(Jx>4&&Jx!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseRequirementCode#3207",r[t++]="Coupon 2nd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var Xx=r[--t],Zx=C(Xx,1,Xx.length-1);if(r[t++]=Zx,Zx.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseFamilyCode#3213",r[t++]="Coupon too short: 2nd Purchase Family Code truncated",r[t++]=!1,!0;var ev=r[--t],tv=C(ev,3,ev.length-3);if(r[t++]=tv,tv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCPVLI#3219",r[t++]="Coupon too short: Missing 2nd Purchase GCP VLI",r[t++]=!1,!0;var jk=r[t-1],kf=Fe(C(jk,0,1));if(r[t++]=kf,kf>6&&kf!=9)return t-=2,r[t++]="bwipp.GS1couponBad2ndPurchaseGCPVLI#3222",r[t++]="Coupon 2nd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Nk=r[t-1];if(Nk!=9){var Sk=r[--t];r[t++]=Sk+6}else r[t-1]=0;var rv=r[--t],Ek=r[t-1];if(r[t++]=rv+1,rv+1>Ek.length)return t-=3,r[t++]="bwipp.GS1couponTooShort2ndPurchaseGCP#3226",r[t++]="Coupon too short: 2nd Purchase GCP truncated",r[t++]=!1,!0;var av=r[--t],sv=r[--t];r[t++]=C(sv,av,S(sv.length-av))}}var Ck=r[t-1];if(Ck.length>=1){var Ik=r[t-1];if(Fe(C(Ik,0,1))==2){var nv=r[--t],iv=C(nv,1,nv.length-1);if(r[t++]=iv,iv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementVLI#3238",r[t++]="Coupon too short: Missing 3rd Purchase Requirement VLI",r[t++]=!1,!0;var Bk=r[t-1],jf=Fe(C(Bk,0,1));if(r[t++]=jf,jf<1||jf>5)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementVLI#3241",r[t++]="Coupon 3rd Purchase Requirement length indicator must be 1-5",r[t++]=!1,!0;var ov=r[--t],Dk=r[t-1];if(r[t++]=ov+1,ov+1>Dk.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirement#3245",r[t++]="Coupon too short: 3rd Purchase Requirement truncated",r[t++]=!1,!0;var lv=r[--t],cv=r[--t],dv=C(cv,lv,S(cv.length-lv));if(r[t++]=dv,dv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseRequirementCode#3251",r[t++]="Coupon too short: Missing 3rd Purchase Requirement Code",r[t++]=!1,!0;var Tk=r[t-1],uv=Fe(C(Tk,0,1));if(uv>4&&uv!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseRequirementCode#3254",r[t++]="Coupon 3rd Purchase Requirement Code must be 0-4 or 9",r[t++]=!1,!0;var fv=r[--t],hv=C(fv,1,fv.length-1);if(r[t++]=hv,hv.length<3)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseFamilyCode#3260",r[t++]="Coupon too short: 3rd Purchase Family Code truncated",r[t++]=!1,!0;var pv=r[--t],mv=C(pv,3,pv.length-3);if(r[t++]=mv,mv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCPVLI#3266",r[t++]="Coupon too short: Missing 3rd Purchase GCP VLI",r[t++]=!1,!0;var Rk=r[t-1],Nf=Fe(C(Rk,0,1));if(r[t++]=Nf,Nf>6&&Nf!=9)return t-=2,r[t++]="bwipp.GS1couponBad3rdPurchaseGCPVLI#3269",r[t++]="Coupon 3rd Purchase GCP length indicator must be 0-6 or 9",r[t++]=!1,!0;var Mk=r[t-1];if(Mk!=9){var Fk=r[--t];r[t++]=Fk+6}else r[t-1]=0;var xv=r[--t],_k=r[t-1];if(r[t++]=xv+1,xv+1>_k.length)return t-=3,r[t++]="bwipp.GS1couponTooShort3rdPurchaseGCP#3273",r[t++]="Coupon too short: 3rd Purchase GCP truncated",r[t++]=!1,!0;var vv=r[--t],gv=r[--t];r[t++]=C(gv,vv,S(gv.length-vv))}}e.couponexpire=-1;var Pk=r[t-1];if(Pk.length>=1){var Ok=r[t-1];if(Fe(C(Ok,0,1))==3){var bv=r[--t],yv=C(bv,1,bv.length-1);if(r[t++]=yv,yv.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortExpirationDate#3286",r[t++]="Coupon too short: Expiration date",r[t++]=!1,!0;var Uk=r[t-1],wv=Fe(C(Uk,2,2));if(wv<1||wv>12)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadMonth#3288",r[t++]="Invalid month in expiration date",r[t++]=!1,!0;var zk=r[t-1],Av=Fe(C(zk,0,2)),kv=Av-21;if(r[t++]=Av,r[t++]=kv,kv>=51){t--;var Lk=r[--t];r[t++]=Lk+1900}else if(r[--t]<=-50){var Qk=r[--t];r[t++]=Qk+2100}else{var Hk=r[--t];r[t++]=Hk+2e3}var Sf=r[--t];r[t++]=Sf%400==0||Sf%4==0&&Sf%100!=0,r[t++]=1/0,r[t++]=31,Na(3,-1);var $k=r[--t]?29:28;r[t++]=$k,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var Gk=s(),jv=r[t-1],Nv=Fe(C(jv,4,2));if(c(Gk,Fe(C(jv,2,2))-1)<Nv||Nv<1)return t-=2,r[t++]="bwipp.GS1couponExpirationDateBadDay#3295",r[t++]="Invalid day of month in expiration date",r[t++]=!1,!0;var Ef=r[--t];e.couponexpire=Fe(C(Ef,0,6)),r[t++]=C(Ef,6,Ef.length-6)}}var qk=r[t-1];if(qk.length>=1){var Yk=r[t-1];if(Fe(C(Yk,0,1))==4){var Sv=r[--t],Ev=C(Sv,1,Sv.length-1);if(r[t++]=Ev,Ev.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortStartDate#3307",r[t++]="Coupon too short: Start date",r[t++]=!1,!0;var Vk=r[t-1],Cv=Fe(C(Vk,2,2));if(Cv<1||Cv>12)return t-=2,r[t++]="bwipp.GS1couponStartDateBadMonth#3309",r[t++]="Invalid month in start date",r[t++]=!1,!0;var Kk=r[t-1],Iv=Fe(C(Kk,0,2)),Bv=Iv-21;if(r[t++]=Iv,r[t++]=Bv,Bv>=51){t--;var Wk=r[--t];r[t++]=Wk+1900}else if(r[--t]<=-50){var Jk=r[--t];r[t++]=Jk+2100}else{var Xk=r[--t];r[t++]=Xk+2e3}var Cf=r[--t];r[t++]=Cf%400==0||Cf%4==0&&Cf%100!=0,r[t++]=1/0,r[t++]=31,Na(3,-1);var Zk=r[--t]?29:28;r[t++]=Zk,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=31,r[t++]=30,r[t++]=31,r[t++]=30,r[t++]=31;var ej=s(),Dv=r[t-1],Tv=Fe(C(Dv,4,2));if(c(ej,Fe(C(Dv,2,2))-1)<Tv||Tv<1)return t-=2,r[t++]="bwipp.GS1couponStartDateBadDay#3316",r[t++]="Invalid day of month in start date",r[t++]=!1,!0;var Rv=r[--t];if(e.couponstart=Fe(C(Rv,0,6)),r[t++]=Rv,e.couponexpire!=-1&&e.couponexpire<e.couponstart)return t-=2,r[t++]="bwipp.GS1couponExpireDateBeforeStartDate#3319",r[t++]="Coupon expires before it starts",r[t++]=!1,!0;var Mv=r[--t];r[t++]=C(Mv,6,Mv.length-6)}}var tj=r[t-1];if(tj.length>=1){var rj=r[t-1];if(Fe(C(rj,0,1))==5){var Fv=r[--t],_v=C(Fv,1,Fv.length-1);if(r[t++]=_v,_v.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSerialNumberVLI#3331",r[t++]="Coupon too short: Missing Serial Number VLI",r[t++]=!1,!0;var Pv=r[t-1],Ov=C(Pv,0,1);if(r[t++]=Fe(Ov)+6+1,Fe(Ov)+6+1>Pv.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSerialNumber#3335",r[t++]="Coupon too short: Serial Number truncated",r[t++]=!1,!0;var Uv=r[--t],zv=r[--t];r[t++]=C(zv,Uv,S(zv.length-Uv))}}var aj=r[t-1];if(aj.length>=1){var sj=r[t-1];if(Fe(C(sj,0,1))==6){var Lv=r[--t],Qv=C(Lv,1,Lv.length-1);if(r[t++]=Qv,Qv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLNVLI#3347",r[t++]="Coupon too short: Missing Retailer GCP/GLN VLI",r[t++]=!1,!0;var nj=r[t-1],If=Fe(C(nj,0,1));if(r[t++]=If,If<1||If>7)return t-=2,r[t++]="bwipp.GS1couponBadRetailerGCPGLNVLI#3350",r[t++]="Coupon Retailer GCP/GLN length indicator must be 1-7",r[t++]=!1,!0;var Hv=r[--t],ij=r[t-1];if(r[t++]=Hv+6+1,Hv+6+1>ij.length)return t-=3,r[t++]="bwipp.GS1couponTooShortRetailerGCPGLN#3354",r[t++]="Coupon too short: Retailer GCP/GLN truncated",r[t++]=!1,!0;var $v=r[--t],Gv=r[--t];r[t++]=C(Gv,$v,S(Gv.length-$v))}}var oj=r[t-1];if(oj.length>=1){var lj=r[t-1];if(Fe(C(lj,0,1))==9){var qv=r[--t],Yv=C(qv,1,qv.length-1);if(r[t++]=Yv,Yv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueCode#3366",r[t++]="Coupon too short: Missing Save Value Code",r[t++]=!1,!0;var cj=r[t-1],Bf=Fe(C(cj,0,1));if(Bf>6||Bf==3||Bf==4)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueCode#3369",r[t++]="Coupon Save Value Code must be 0,1,2,5 or 6",r[t++]=!1,!0;var Vv=r[--t],Kv=C(Vv,1,Vv.length-1);if(r[t++]=Kv,Kv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSaveValueAppliesToItem#3375",r[t++]="Coupon too short: Missing Save Value Applies to Item",r[t++]=!1,!0;var dj=r[t-1];if(Fe(C(dj,0,1))>2)return t-=2,r[t++]="bwipp.GS1couponBadSaveValueAppliesToItem#3378",r[t++]="Coupon Save Value Applies to Item must be 0-2",r[t++]=!1,!0;var Wv=r[--t],Jv=C(Wv,1,Wv.length-1);if(r[t++]=Jv,Jv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortStoreCouponFlag#3384",r[t++]="Coupon too short: Missing Store Coupon Flag",r[t++]=!1,!0;var Xv=r[--t],Zv=C(Xv,1,Xv.length-1);if(r[t++]=Zv,Zv.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortDontMultiplyFlag#3390",r[t++]="Coupon too short: Missing Don't Multiply Flag",r[t++]=!1,!0;var uj=r[t-1];if(Fe(C(uj,0,1))>1)return t-=2,r[t++]="bwipp.GS1couponBadDontMultiplyFlag#3393",r[t++]="Don't Multiply Flag must be 0 or 1",r[t++]=!1,!0;var e4=r[--t];r[t++]=C(e4,1,e4.length-1)}}var fj=r[t-1];if(fj.length!=0)return t-=2,r[t++]="bwipp.GS1couponUnrecognisedOptionalField#3400",r[t++]="Coupon fields must be 1,2,3,4,5,6 or 9, increasing order",r[t++]=!1,!0;t--},e.lintcouponposoffer=function(){var rt=r[t-1];if(r[t++]=!0,ge(rt,function(){var n1=r[--t];if(n1<48||n1>57)return r[t-1]=!1,!0}),!r[--t])return t-=2,r[t++]="bwipp.GS1couponNotNumeric#3409",r[t++]="Coupon not numeric",r[t++]=!1,!0;var Et=r[t-1];if(Et.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFormatCode#3412",r[t++]="Coupon too short: Missing Format Code",r[t++]=!1,!0;var Ar=r[t-1],mr=C(Ar,0,1);if(Me(mr,"0")&&Me(mr,"1"))return t-=2,r[t++]="bwipp.GS1couponBadFormatCode#3415",r[t++]="Coupon format must be 0 or 1",r[t++]=!1,!0;var Er=r[--t],ia=C(Er,1,Er.length-1);if(r[t++]=ia,ia.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortFunderVLI#3420",r[t++]="Coupon too short: Missing Funder VLI",r[t++]=!1,!0;var da=r[t-1],ws=Fe(C(da,0,1));if(r[t++]=ws,ws>6)return t-=3,r[t++]="bwipp.GS1couponBadFunderVLI#3423",r[t++]="Coupon Funder length indicator must be 0-6",r[t++]=!1,!0;var Ga=r[--t],As=r[t-1];if(r[t++]=Ga+6+1,Ga+6+1>As.length)return t-=3,r[t++]="bwipp.GS1couponTooShortFunder#3427",r[t++]="Coupon too short: Truncated Funder ID",r[t++]=!1,!0;var Ms=r[--t],Fs=r[--t],Ys=C(Fs,Ms,S(Fs.length-Ms));if(r[t++]=Ys,Ys.length<6)return t-=2,r[t++]="bwipp.GS1couponTooShortOfferCode#3432",r[t++]="Coupon too short: Truncated Offer Code",r[t++]=!1,!0;var xi=r[--t],k1=C(xi,6,xi.length-6);if(r[t++]=k1,k1.length<1)return t-=2,r[t++]="bwipp.GS1couponTooShortSnVLI#3437",r[t++]="Coupon too short: Missing SN VLI",r[t++]=!1,!0;var Pi=r[t-1],j1=C(Pi,0,1);if(r[t++]=Fe(j1)+6+1,Fe(j1)+6+1>Pi.length)return t-=3,r[t++]="bwipp.GS1couponTooShortSn#3442",r[t++]="Coupon too short: Truncated SN",r[t++]=!1,!0;var r1=r[--t],a1=r[--t],s1=C(a1,r1,S(a1.length-r1));if(r[t++]=s1,s1.length!=0)return t-=2,r[t++]="bwipp.GS1couponTooLong#3446",r[t++]="Coupon too long",r[t++]=!1,!0;t--},e.lintlatitude=function(){var rt=r[t-1];if(rt.length!=10)return t--,r[t++]="bwipp.GS1badLatitudeLength#3453",r[t++]="Invalid length for a latitude",r[t++]=!1,!0;if(Fe(r[--t])>Fe("1800000000"))return t--,r[t++]="bwipp.GS1badLatitude#3457",r[t++]="Invalid value for latitude",r[t++]=!1,!0},e.lintlongitude=function(){var rt=r[t-1];if(rt.length!=10)return t--,r[t++]="bwipp.GS1badLongitudeLength#3462",r[t++]="Invalid length for a longitude",r[t++]=!1,!0;if(Fe(r[--t])>Fe("3600000000"))return t--,r[t++]="bwipp.GS1badLongitude#3467",r[t++]="Invalid value for longitude",r[t++]=!1,!0},r[t++]=1/0;for(var Bx=s(["01","02","03","04","05","06","07","08","09","10","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99"]),bf=0,ik=Bx.length;bf<ik;bf++){var Dx=c(Bx,bf);r[t++]=Dx,r[t++]=Dx}e.aidcmediatype=$e(),e.lintmediatype=function(){var rt=c(e.aidcmediatype,r[--t])!==void 0;if(!rt)return t--,r[t++]="bwipp.GS1UnknownMediaType#3479",r[t++]="Unknown AIDC media type",r[t++]=!1,!0},r[t++]=1/0;for(var Tx=s(["1A","1B","1D","1F","1G","1W","200","201","202","203","204","205","206","210","211","212","2C","3A","3H","43","44","4A","4B","4C","4D","4F","4G","4H","5H","5L","5M","6H","6P","7A","7B","8","8A","8B","8C","9","AA","AB","AC","AD","AF","AG","AH","AI","AJ","AL","AM","AP","APE/AT","AV","B4","BB","BC","BD","BE","BF","BG","BGE","BH","BI","BJ","BK","BL","BM","BME","BN","BO","BP","BQ","BR","BRI","BS","BT","BU","BV","BW","BX","BY","BZ","CA","CB","CBL","CC","CCE","CD","CE","CF","CG","CH","CI","CJ","CK","CL","CM","CN","CO","CP","CQ","CR","CS","CT","CU","CV","CW","CX","CY","CZ","DA","DB","DC","DG","DH","DI","DJ","DK","DL","DM","DN","DP","DPE","DR","DS","DT","DU","DV","DW","DX","DY","E1","E2","E3","EC","ED","EE","EF","EG","EH","EI","EN","FB","FC","FD","FE","FI","FL","FO","FOB","FP","FPE","FR","FT","FW","FX","GB","GI","GL","GR","GU","GY","GZ","HA","HB","HC","HG","HN","HR","IA","IB","IC","ID","IE","IF","IG","IH","IK","IL","IN","IZ","JB","JC","JG","JR","JT","JY","KG","KI","LAB","LE","LG","LT","LU","LV","LZ","MA","MB","MC","ME","MPE","MR","MS","MT","MW","MX","NA","NE","NF","NG","NS","NT","NU","NV","OA","OB","OC","OD","OE","OF","OK","OPE","OT","OU","P2","PA","PAE","PB","PC","PD","PE","PF","PG","PH","PI","PJ","PK","PL","PLP","PN","PO","POP","PP","PPE","PR","PT","PU","PUE","PV","PX","PY","PZ","QA","QB","QC","QD","QF","QG","QH","QJ","QK","QL","QM","QN","QP","QQ","QR","QS","RB1","RB2","RB3","RCB","RD","RG","RJ","RK","RL","RO","RT","RZ","S1","SA","SB","SC","SD","SE","SEC","SH","SI","SK","SL","SM","SO","SP","SS","ST","STL","SU","SV","SW","SX","SY","SZ","T1","TB","TC","TD","TE","TEV","TG","THE","TI","TK","TL","TN","TO","TR","TRE","TS","TT","TTE","TU","TV","TW","TWE","TY","TZ","UC","UN","UUE","VA","VG","VI","VK","VL","VN","VO","VP","VQ","VR","VS","VY","WA","WB","WC","WD","WF","WG","WH","WJ","WK","WL","WM","WN","WP","WQ","WR","WRP","WS","WT","WU","WV","WW","WX","WY","WZ","X11","X12","X15","X16","X17","X18","X19","X20","X3","XA","XB","XC","XD","XF","XG","XH","XJ","XK","YA","YB","YC","YD","YF","YG","YH","YJ","YK","YL","YM","YN","YP","YQ","YR","YS","YT","YV","YW","YX","YY","YZ","ZA","ZB","ZC","ZD","ZF","ZG","ZH","ZJ","ZK","ZL","ZM","ZN","ZP","ZQ","ZR","ZS","ZT","ZU","ZV","ZW","ZX","ZY","ZZ"]),yf=0,ok=Tx.length;yf<ok;yf++){var Rx=c(Tx,yf);r[t++]=Rx,r[t++]=Rx}if(e.packagetype=$e(),e.lintpackagetype=function(){var rt=c(e.packagetype,r[--t])!==void 0;if(!rt)return t--,r[t++]="bwipp.GS1unknownPackageType#3523",r[t++]="Unknown package type",r[t++]=!1,!0},!e.dontlint){r[t++]=!0;for(var A2=0,lk=e.vals.length-1;A2<=lk;A2+=1){e.ai=c(e.ais,A2),e.val=c(e.vals,A2);var ck=c(e.gs1syntax,e.ai)!==void 0;if(ck){var Mx=c(c(e.gs1syntax,e.ai),"parts");if(r[t++]=Mx,r[t++]=0,ge(Mx,function(){var rt=r[t-1];if(c(rt,"opt"))r[t-1]=0;else{var Et=c(r[--t],"min");r[t++]=Et}var Ar=r[--t],mr=r[--t];r[t++]=S(mr+Ar)}),r[--t]>e.val.length){t--,r[t++]="bwipp.GS1valueTooShort#3537",r[t++]="Too short",r[t++]=!1;break}var dk=r[t-1];if(r[t++]=0,ge(dk,function(){var rt=c(r[--t],"max"),Et=r[--t];r[t++]=S(Et+rt)}),r[--t]<e.val.length){t--,r[t++]="bwipp.GS1valueTooLong#3540",r[t++]="Too long",r[t++]=!1;break}ge(r[--t],function(){e.props=r[--t];var rt=c(e.props,"max"),Et=e.val,Ar=Et.length;if(rt>Et.length){var mr=Ar;Ar=rt,rt=mr}e.eval=C(e.val,0,rt);var Er=e.eval.length;if(e.val=C(e.val,Er,e.val.length-Er),e.eval.length==0){if(!c(e.props,"opt"))return t--,r[t++]="bwipp.GS1valueTooShort#3549",r[t++]="Too short",r[t++]=!1,!0}else{if(e.eval.length<c(e.props,"min"))return t--,r[t++]="bwipp.GS1valueTooShort#3553",r[t++]="Too short",r[t++]=!1,!0;var ia=new Map([["N","lintnumeric"],["X","lintcset82"],["Y","lintcset39"],["Z","lintcset64"]]);if(r[t++]=e.eval,e[c(ia,c(e.props,"cset"))]()===!0)return!0;ge(c(e.props,"linters"),function(){var da=e[r[--t]];if(r[t++]=e.eval,da()===!0)return!0})}});var uk=r[t-1];if(!uk)break;if(e.val.length!=0){t--,r[t++]="bwipp.GS1valueTooLong#3562",r[t++]="Too long",r[t++]=!1;break}}else{t--,r[t++]="bwipp.GS1unknownAI#3565",r[t++]="Unrecognised AI",r[t++]=!1;break}}if(!r[--t]){var Fx=r[--t],Wc=W(Fx.length+e.ai.length+5);M(Wc,0,"AI "),M(Wc,3,e.ai),M(Wc,3+e.ai.length,": "),M(Wc,5+e.ai.length,Fx),r[t++]=Wc,z()}e.aiexists=function(){e.this=r[--t],e.patt=r[--t];for(var rt=0;rt<1;rt++){var Et=c(e.aivals,e.patt)!==void 0;if(Et){r[t++]=!0;break}if(e.patt.length==4){if(Y(C(e.patt,3,1),"n")){var Ar=Y(C(e.patt,2,1),"n")?2:3;e.pfxlen=Ar;var mr=e.ais;r[t++]=!1;for(var Er=0,ia=mr.length;Er<ia;Er++){var da=c(mr,Er);r[t++]=da,Me(da,e.this)&&da.length==4?Y(C(r[--t],0,e.pfxlen),C(e.patt,0,e.pfxlen))&&(r[t-1]=!0):t--}break}r[t++]=!1;break}r[t++]=!1;break}},e.vals,e.aivals=new Map;for(var k2=0,fk=e.vals.length-1;k2<=fk;k2+=1){e.ai=c(e.ais,k2),e.val=c(e.vals,k2);var hk=c(e.aivals,e.ai)!==void 0;if(hk){if(Me(c(e.aivals,e.ai),e.val)){var j2=W(e.ai.length+40);M(j2,0,"Repeated AIs ("),M(j2,14,e.ai),M(j2,14+e.ai.length,") must have the same value"),r[t++]="bwipp.GS1repeatedDifferingAIs#3615",r[t++]=j2,z()}}else g(e.aivals,e.ai,e.val)}for(var wf=0,pk=e.vals.length-1;wf<=pk;wf+=1){e.ai=c(e.ais,wf);var _x=c(e.gs1syntax,e.ai),mk=c(_x,"ex")!==void 0;if(r[t++]=_x,r[t++]="ex",mk){var xk=r[--t];ge(c(r[--t],xk),function(){if(e.patt=r[--t],r[t++]=e.patt,r[t++]=e.ai,e.aiexists(),r[--t]){var rt=W(e.ai.length+e.patt.length+36);M(rt,0,"AIs ("),M(rt,5,e.ai),M(rt,5+e.ai.length,") and ("),M(rt,12+e.ai.length,e.patt),M(rt,12+e.ai.length+e.patt.length,") are mutually exclusive"),r[t++]="bwipp.GS1exclusiveAIs#3635",r[t++]=rt,z()}})}else t-=2;if(e.lintreqs){var Px=c(e.gs1syntax,e.ai),vk=c(Px,"req")!==void 0;if(r[t++]=Px,r[t++]="req",vk){var gk=r[--t];ge(c(r[--t],gk),function(){var rt=r[--t];if(r[t++]=!1,ge(rt,function(){var Ms=r[--t];if(r[t++]=!0,ge(Ms,function(){r[t++]=e.ai,e.aiexists(),r[--t]||(r[t-1]=!1)}),r[--t])return r[t-1]=!0,!0}),!r[--t]){r[t++]=1/0,ge(c(c(e.gs1syntax,e.ai),"req"),function(){ge(r[--t],function(){ge(r[--t],function(){r[t++]="+"}),r[t-1]=" OR "}),r[t-1]=" WITH "}),t--;var Et=s();r[t++]=Et,r[t++]=0;for(var Ar=0,mr=Et.length;Ar<mr;Ar++){var Er=r[--t];r[t++]=S(Er+c(Et,Ar).length)}var ia=e.ai.length+49;r[t++]=ia,r[t++]=ia;var da=r[t-3],ws=W(S(r[t-1]+da)),Ga=r[t-2];t-=3,r[t++]=ws,r[t++]=Ga,Na(3,-1),ge(r[--t],function(){var Ms=r[--t],Fs=r[--t],Ys=r[t-1];M(Ys,Fs,Ms),r[t++]=S(Ms.length+Fs)}),t--;var As=r[--t];M(As,0,"One of more requisite AIs for AI ("),M(As,34,e.ai),M(As,34+e.ai.length,") are missing: "),r[t++]="bwipp.GS1missingAIs#3662",r[t++]=As,z()}})}else t-=2}}}r[t++]=e.ais,r[t++]=e.vals,r[t++]=e.fncs,e=a}function i2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=5&&(r[t++]="bwipp.ean5badLength#4997",r[t++]="EAN-5 add-on must be 5 digits",z()),ge(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.ean5badCharacter#5001",r[t++]="EAN-5 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["11000","10100","10010","10001","01100","00110","00011","01010","01001","00101"]),e.checksum=0;for(var n=0;n<=4;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar*3+e.checksum):e.checksum=S(e.barchar*9+e.checksum);e.checksum=e.checksum%10,e.mirrormap=c(e.mirrormaps,e.checksum),e.sbs=W(31),e.txt=s(5);for(var i=0;i<=4;i+=1){if(e.i=i,e.i==0?M(e.sbs,0,c(e.encs,10)):M(e.sbs,(e.i-1)*6+7,c(e.encs,11)),It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var o=0,d=e.enclen-1;o<=d;o+=1)e.j=o,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,e.i*6+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var u=e.sbs,f=0,h=u.length;f<h;f++)r[t++]=c(u,f)-48;var p=s();r[t++]=1/0;for(var m=0;m<16;m++)r[t++]=e.height;var x=s();r[t++]=1/0;for(var b=0;b<16;b++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=p,r[t++]="bhs",r[t++]=x,r[t++]="bbs",r[t++]=y,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var w=$e();r[t++]=w,e.dontdraw||Bt(),e=a}function o2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=0,e.textyoffset=null,e.height=.7,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.textyoffset==null&&(e.textyoffset=e.height*72+1),e.barcode.length!=2&&(r[t++]="bwipp.ean2badLength#5142",r[t++]="EAN-2 add-on must be 2 digits",z()),ge(e.barcode,function(){var w=r[--t];(w<48||w>57)&&(r[t++]="bwipp.ean2badCharacter#5146",r[t++]="EAN-2 add-on must contain only digits",z())}),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","112","11"]),e.barchars="0123456789",e.mirrormaps=s(["00","01","10","11"]),e.mirrormap=c(e.mirrormaps,Fe(C(e.barcode,0,2))%4),e.sbs=W(13),e.txt=s(2);for(var n=0;n<=1;n+=1){if(e.i=n,e.i==0?M(e.sbs,0,c(e.encs,10)):M(e.sbs,(e.i-1)*6+7,c(e.encs,11)),It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var i=0,o=e.enclen-1;i<=o;i+=1)e.j=i,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,e.i*6+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*9+10+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}r[t++]=1/0,r[t++]=1/0;for(var d=e.sbs,u=0,f=d.length;u<f;u++)r[t++]=c(d,u)-48;var h=s();r[t++]=1/0;for(var p=0;p<12;p++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0;x<12;x++)r[t++]=0;var b=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=h,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=b,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",r[t++]=5,r[t++]="guardrightypos",r[t++]=e.textyoffset+4,r[t++]="borderleft",r[t++]=12,r[t++]="borderright",r[t++]=5,r[t++]="bordertop",r[t++]=10;var y=$e();r[t++]=y,e.dontdraw||Bt(),e=a}function l2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-11,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],It(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=12&&e.barcode.length!=13&&(r[t++]="bwipp.ean13badLength#5286",r[t++]="EAN-13 must be 12 or 13 digits",z()),ge(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.ean13badCharacter#5290",r[t++]="EAN-13 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean13badAddOnLength#5294",r[t++]="Add-on for EAN-13 must be 2 or 5 digits",z()),e.pad=W(13),e.checksum=0;for(var n=0;n<=11;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2==0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==13&&c(e.barcode,12)!=e.checksum+48&&(r[t++]="bwipp.ean13badCheckDigit#5312",r[t++]="Incorrect EAN-13 check digit provided",z()),M(e.pad,0,e.barcode),g(e.pad,12,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.mirrormaps=s(["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"]),e.sbs=W(59),e.txt=s(13),M(e.sbs,0,c(e.encs,10)),e.mirrormap=c(e.mirrormaps,c(e.barcode,0)-48),g(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize]));for(var i=1;i<=6;i+=1){if(e.i=i,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var o=0,d=e.enclen-1;o<=d;o+=1)e.j=o,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,(e.i-1)*4+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+15+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}M(e.sbs,6*4+3,c(e.encs,11));for(var u=7;u<=12;u+=1)e.i=u,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,(e.i-1)*4+8,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+19+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,56,c(e.encs,12)),r[t++]=1/0;for(var f=e.sbs,h=0,p=f.length;h<p;h++)r[t++]=c(f,h)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var m=0;m<12;m++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var x=0;x<12;x++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var b=0;b<12;b++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var y=0;y<12;y++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var w=0;w<30;w++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var v=0;v<30;v++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var A=r[--t];r[t++]=S(A-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var k=Me(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=k,e.addopts=$e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=11,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var E=$e();r[t++]=E,e.dontdraw||Bt(),e=a}function Qm(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=4,e.textyoffset=-4,e.height=1,e.permitaddon=!1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],It(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.ean8badLength#5507",r[t++]="EAN-8 must be 7 or 8 digits",z()),ge(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.ean8badCharacter#5511",r[t++]="EAN-8 must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ean8badAddOnLength#5515",r[t++]="Add-on for EAN-8 must be 2 or 5 digits",z()),!e.permitaddon&&e.addon.length!=0&&(r[t++]="bwipp.ean8badAddOnLength#5518",r[t++]='Non-standard use of add-on for EAN-8 requires "permitaddon" option',z()),e.pad=W(8),e.checksum=0;for(var n=0;n<=6;n+=1)e.i=n,e.barchar=c(e.barcode,e.i)-48,e.i%2!=0?e.checksum=S(e.barchar+e.checksum):e.checksum=S(e.barchar*3+e.checksum);e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&c(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.ean8badCheckDigit#5536",r[t++]="Incorrect EAN-8 check digit provided",z()),M(e.pad,0,e.barcode),g(e.pad,7,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=W(43),e.txt=s(8),M(e.sbs,0,c(e.encs,10));for(var i=0;i<=3;i+=1)e.i=i,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,4*4+3,c(e.encs,11));for(var o=4;o<=7;o+=1)e.i=o,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+8,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset+4,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,40,c(e.encs,12)),r[t++]=1/0;for(var d=e.sbs,u=0,f=d.length;u<f;u++)r[t++]=c(d,u)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var h=0;h<8;h++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var p=0;p<8;p++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var m=0;m<8;m++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var x=0;x<8;x++)r[t++]=.075;r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var b=0;b<22;b++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var y=0;y<22;y++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var w=r[--t];r[t++]=S(w-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=67+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var v=Me(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=v,e.addopts=$e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardleftpos",r[t++]=7,r[t++]="guardrightpos",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=7,r[t++]="borderright",e.addon.length==0?r[t++]=7:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var A=$e();r[t++]=A,e.dontdraw||Bt(),e=a}function Nw(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],It(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==7||e.barcode.length==8){ge(e.barcode,function(){var $=r[--t];($<48||$>57)&&(r[t++]="bwipp.upcAupcEbadCharacter#5714",r[t++]="UPC-E must contain only digits",z())});var n=c(e.barcode,0);n!=48&&n!=49&&(r[t++]="bwipp.upcAupcEbadNumberSystem#5718",r[t++]="UPC-E must have number system 0 or 1",z());for(var i=0;i<1;i++){var o=e.barcode.length==8?12:11;if(e.upcacode=W(o),c(e.barcode,6)-48<=2){M(e.upcacode,0,C(e.barcode,0,3)),M(e.upcacode,3,C(e.barcode,6,1)),M(e.upcacode,4,"0000"),M(e.upcacode,8,C(e.barcode,3,3));break}if(c(e.barcode,6)-48==3){M(e.upcacode,0,C(e.barcode,0,4)),M(e.upcacode,4,"00000"),M(e.upcacode,9,C(e.barcode,4,2));break}if(c(e.barcode,6)-48==4){M(e.upcacode,0,C(e.barcode,0,5)),M(e.upcacode,5,"00000"),M(e.upcacode,10,C(e.barcode,5,1));break}if(c(e.barcode,6)-48>=5){M(e.upcacode,0,C(e.barcode,0,6)),M(e.upcacode,6,"0000"),M(e.upcacode,10,C(e.barcode,6,1));break}}e.barcode.length==8&&M(e.upcacode,11,C(e.barcode,7,1)),e.barcode=e.upcacode}e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.upcAbadLength#5756",r[t++]="UPC-A must be 11 or 12 digits",z());for(var d=e.barcode,u=0,f=d.length;u<f;u++){var h=c(d,u);(h<48||h>57)&&(r[t++]="bwipp.upcAbadCharacter#5760",r[t++]="UPC-A must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcAbadAddOnLength#5764",r[t++]="Add-on for UPC-A must be 2 or 5 digits",z()),e.pad=W(12),e.checksum=0;for(var p=0;p<=10;p+=1)e.i=p,e.barchar=c(e.barcode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&c(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.upcAbadCheckDigit#5782",r[t++]="Incorrect UPC check digit provided",z()),M(e.pad,0,e.barcode),g(e.pad,11,e.checksum+48),e.barcode=e.pad,e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","11111","111"]),e.barchars="0123456789",e.sbs=W(59),e.txt=s(12),M(e.sbs,0,c(e.encs,10));for(var m=0;m<=5;m+=1)e.i=m,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+3,e.enc),e.i==0?g(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])):g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,6*4+3,c(e.encs,11));for(var x=6;x<=11;x+=1)e.i=x,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4+8,e.enc),e.i==11?g(e.txt,11,s([C(e.barcode,11,1),e.textxoffset+107,e.textyoffset,e.textfont,e.textsize-2])):g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*7+e.textxoffset+17,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,56,c(e.encs,12)),r[t++]=1/0;for(var b=e.sbs,y=0,w=b.length;y<w;y++)r[t++]=c(b,y)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0;for(var v=0;v<4;v++)r[t++]=e.height;for(var A=0;A<10;A++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height;for(var k=0;k<10;k++)r[t++]=S(e.height-.075);for(var E=0;E<4;E++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var j=0;j<10;j++)r[t++]=.075;r[t++]=0,r[t++]=0;for(var N=0;N<10;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<30;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<30;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=95+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var T=Me(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=T,e.addopts=$e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var R=$e();r[t++]=R,e.dontdraw||Bt(),e=a}function Sw(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=12,e.textxoffset=-9,e.textyoffset=-4,e.height=1,e.addongap=12,e.addontextfont="unset",e.addontextsize=null,e.addontextxoffset=null,e.addontextyoffset=null,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],It(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length==11||e.barcode.length==12){ge(e.barcode,function(){var $=r[--t];($<48||$>57)&&(r[t++]="bwipp.upcEupcAbadCharacter#5967",r[t++]="UPC-A must contain only digits",z())});for(var n=0;n<1;n++){var i=e.barcode.length==12?8:7;if(e.upcecode=W(i),c(e.barcode,3)-48<=2&&Y(C(e.barcode,4,4),"0000")){M(e.upcecode,0,C(e.barcode,0,3)),M(e.upcecode,3,C(e.barcode,8,3)),M(e.upcecode,6,C(e.barcode,3,1));break}if(Y(C(e.barcode,4,5),"00000")){M(e.upcecode,0,C(e.barcode,0,4)),M(e.upcecode,4,C(e.barcode,9,2)),M(e.upcecode,6,"3");break}if(Y(C(e.barcode,5,5),"00000")){M(e.upcecode,0,C(e.barcode,0,5)),M(e.upcecode,5,C(e.barcode,10,1)),M(e.upcecode,6,"4");break}if(c(e.barcode,10)-48>=5&&Y(C(e.barcode,6,4),"0000")){M(e.upcecode,0,C(e.barcode,0,6)),M(e.upcecode,6,C(e.barcode,10,1));break}r[t++]="bwipp.upcEupcAnotCompressible#5995",r[t++]="UPC-A cannot be converted to a UPC-E",z()}e.barcode.length==12&&M(e.upcecode,7,C(e.barcode,11,1)),e.barcode=e.upcecode}e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.upcEbadLength#6005",r[t++]="UPC-E must be 7 or 8 digits",z());for(var o=e.barcode,d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.upcEbadCharacter#6009",r[t++]="UPC-E must contain only digits",z())}e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.upcEbadAddOnLength#6013",r[t++]="Add-on for UPC-E must be 2 or 5 digits",z());var h=c(e.barcode,0);h!=48&&h!=49&&(r[t++]="bwipp.upcEbadNumberSystem#6018",r[t++]="UPC-E must have number system 0 or 1",z()),e.encs=s(["3211","2221","2122","1411","1132","1231","1114","1312","1213","3112","111","111111"]),e.barchars="0123456789",e.mirrormaps=s(["000111","001011","001101","001110","010011","011001","011100","010101","010110","011010"]);for(var p=0;p<1;p++){if(e.upcacode=W(11),c(e.barcode,6)-48<=2){M(e.upcacode,0,C(e.barcode,0,3)),M(e.upcacode,3,C(e.barcode,6,1)),M(e.upcacode,4,"0000"),M(e.upcacode,8,C(e.barcode,3,3));break}if(c(e.barcode,6)-48==3){M(e.upcacode,0,C(e.barcode,0,4)),M(e.upcacode,4,"00000"),M(e.upcacode,9,C(e.barcode,4,2));break}if(c(e.barcode,6)-48==4){M(e.upcacode,0,C(e.barcode,0,5)),M(e.upcacode,5,"00000"),M(e.upcacode,10,C(e.barcode,5,1));break}if(c(e.barcode,6)-48>=5){M(e.upcacode,0,C(e.barcode,0,6)),M(e.upcacode,6,"0000"),M(e.upcacode,10,C(e.barcode,6,1));break}}e.checksum=0;for(var m=0;m<=10;m+=1)e.i=m,e.barchar=c(e.upcacode,e.i)-48,e.i%2!=0?e.checksum=e.checksum+e.barchar:e.checksum=e.checksum+e.barchar*3;if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==8&&c(e.barcode,7)!=e.checksum+48&&(r[t++]="bwipp.upcEbadCheckDigit#6080",r[t++]="Incorrect UPC check digit provided",z()),e.pad=W(8),M(e.pad,0,e.barcode),g(e.pad,7,e.checksum+48),e.barcode=e.pad,e.txt=s(8),g(e.txt,0,s([C(e.barcode,0,1),e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),e.mirrormap=c(e.mirrormaps,e.checksum),c(e.barcode,0)==48){e.invt=W(e.mirrormap.length);for(var x=0,b=e.mirrormap.length-1;x<=b;x+=1)e.i=x,c(e.mirrormap,e.i)==48?g(e.invt,e.i,49):g(e.invt,e.i,48);e.mirrormap=e.invt}e.sbs=W(33),M(e.sbs,0,c(e.encs,10));for(var y=1;y<=6;y+=1){if(e.i=y,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),c(e.mirrormap,e.i-1)==49){e.enclen=e.enc.length,e.revenc=W(e.enclen);for(var w=0,v=e.enclen-1;w<=v;w+=1)e.j=w,e.char=c(e.enc,e.j),g(e.revenc,e.enclen-e.j-1,e.char);e.enc=e.revenc}M(e.sbs,(e.i-1)*4+3,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i-1)*7+13+e.textxoffset,e.textyoffset,e.textfont,e.textsize]))}g(e.txt,7,s([C(e.barcode,7,1),6*7+21+e.textxoffset,e.textyoffset,e.textfont,e.textsize-2])),M(e.sbs,27,c(e.encs,11)),r[t++]=1/0;for(var A=e.sbs,k=0,E=A.length;k<E;k++)r[t++]=c(A,k)-48;if(e.sbs=s(),e.includetext){r[t++]=1/0,r[t++]=e.height,r[t++]=e.height;for(var j=0;j<12;j++)r[t++]=S(e.height-.075);r[t++]=e.height,r[t++]=e.height,r[t++]=e.height,e.bhs=s(),r[t++]=1/0,r[t++]=0,r[t++]=0;for(var N=0;N<12;N++)r[t++]=.075;r[t++]=0,r[t++]=0,r[t++]=0,e.bbs=s()}else{r[t++]=1/0;for(var B=0;B<17;B++)r[t++]=e.height;e.bhs=s(),r[t++]=1/0;for(var I=0;I<17;I++)r[t++]=0;e.bbs=s(),e.txt=s([])}if(e.guardrightypos=0,e.addon.length!=0){if(r[t++]=1/0,r[t++]="dontdraw",r[t++]=!0,r[t++]="includetext",r[t++]=!0,r[t++]="height",r[t++]=e.height,e.includetext){var D=r[--t];r[t++]=S(D-.15)}r[t++]="textxoffset",e.addontextxoffset!=null?r[t++]=e.addontextxoffset:r[t++]=51+e.addongap,e.addontextyoffset!=null&&(r[t++]="textyoffset",r[t++]=e.addontextyoffset),r[t++]="textsize",e.addontextsize!=null?r[t++]=e.addontextsize:r[t++]=e.textsize;var T=Me(e.addontextfont,"unset")?e.addontextfont:e.textfont;r[t++]="textfont",r[t++]=T,e.addopts=$e(),e.addon.length==2&&(r[t++]=e.addon,r[t++]=e.addopts,o2()),e.addon.length==5&&(r[t++]=e.addon,r[t++]=e.addopts,i2()),e.addcode=r[--t],r[t++]=1/0,O(e.sbs),r[t++]=e.addongap,O(c(e.addcode,"sbs")),e.sbs=s(),r[t++]=1/0,O(e.bhs),O(c(e.addcode,"bhs")),e.bhs=s(),r[t++]=1/0,O(e.bbs),O(c(e.addcode,"bbs")),e.bbs=s(),r[t++]=1/0,O(e.txt),O(c(e.addcode,"txt")),e.txt=s(),e.guardrightypos=e.height*72-6}r[t++]=1/0,r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=e.sbs,r[t++]="bhs",r[t++]=e.bhs,r[t++]="bbs",r[t++]=e.bbs,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options,r[t++]="guardrightpos",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="guardrightypos",r[t++]=e.guardrightypos,r[t++]="borderleft",r[t++]=9,r[t++]="borderright",e.addon.length==0?r[t++]=9:r[t++]=5,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=5;var R=$e();r[t++]=R,e.dontdraw||Bt(),e=a}function NT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.isbntextfont="OCR-A",e.isbntextsize=8,e.isbntextxoffset=null,e.isbntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],It(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.isbnBadLength#6249",r[t++]="ISBN-13 must be 15 or 17 characters including dashes. ISBN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.isbnBadAddOnLength#6252",r[t++]="Add-on for ISBN must be 2 or 5 digits",z()),e.barcode.length>=15){var n=C(e.barcode,0,4);Me(n,"978-")&&Me(n,"979-")&&(r[t++]="bwipp.isbn13badPrefix#6256",r[t++]="ISBN-13 prefix must be 978- or 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var i=C(e.barcode,5,9),o=0,d=i.length;o<d;o++){var u=c(i,o);r[t++]=u,u==45&&(e.wasdash&&(r[t++]="bwipp.isbn13adjacentDashes#6263",r[t++]="ISBN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var f=r[--t];f>=48&&f<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn13numDashesDigits#6274",r[t++]="Incorrect number of dashes and digits for ISBN-13",z());var h=c(e.barcode,14);if((h<48||h>57)&&(r[t++]="bwipp.isbn13character15#6277",r[t++]="ISBN-13 character 15 must be a digit",z()),e.barcode.length==17){Me(C(e.barcode,15,1),"-")&&(r[t++]="bwipp.isbn13character16#6281",r[t++]="ISBN-13 penultimate character must be a dash",z());var p=c(e.barcode,16);(p<48||p>57)&&(r[t++]="bwipp.isbn13character17#6284",r[t++]="ISBN-13 final character must be a digit",z())}}else{var m=c(e.barcode,0);(m<48||m>57)&&(r[t++]="bwipp.isbn10FirstDigit#6289",r[t++]="ISBN-10 first character must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var x=C(e.barcode,1,9),b=0,y=x.length;b<y;b++){var w=c(x,b);r[t++]=w,w==45&&(e.wasdash&&(r[t++]="bwipp.isbn10adjacentDashes#6296",r[t++]="ISBN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var v=r[--t];v>=48&&v<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.isbn10numDashesDigits#6307",r[t++]="Incorrect number of dashes and digits for ISBN-10",z());var A=c(e.barcode,10);if((A<48||A>57)&&(r[t++]="bwipp.isbn10character11#6310",r[t++]="ISBN-10 character 11 must be a digit",z()),e.barcode.length==13){Me(C(e.barcode,11,1),"-")&&(r[t++]="bwipp.isbn10character12#6314",r[t++]="ISBN-10 penultimate character must be a dash",z());var k=c(e.barcode,12);(k<48||k>57)&&k!=88&&(r[t++]="bwipp.isbn10character13#6317",r[t++]="ISBN-10 final character must be a digit or X",z())}}if(e.isbntxt=e.barcode,e.isbntxt.length<=13){for(e.isbn=W(10),e.checksum=0,e.i=0,e.n=0;e.isbnchar=c(e.isbntxt,e.i)-48,e.isbnchar!=-3&&(g(e.isbn,e.n,e.isbnchar+48),e.n<9&&(e.checksum=S(e.checksum+(10-e.n)*e.isbnchar)),e.n=e.n+1),e.i=e.i+1,e.i!=e.isbntxt.length;);var E=(11-e.checksum%11)%11;r[t++]="checksum",r[t++]=E,E==10&&(r[t-1]=40);var j=r[--t];e[r[--t]]=j+48,e.isbn=C(e.isbn,0,9),e.isbntxt.length==13&&c(e.isbntxt,12)!=e.checksum&&(r[t++]="bwipp.isbn10badCheckDigit#6345",r[t++]="Incorrect ISBN-10 check digit provided",z())}if(!e.legacy||e.isbntxt.length>=15){for(e.isbntxt.length<=13&&(e.pad=W(15),M(e.pad,0,"978-"),M(e.pad,4,C(e.isbntxt,0,11)),e.isbntxt=e.pad),e.isbn=W(13),e.checksum=0,e.i=0,e.n=0;;){if(e.isbnchar=c(e.isbntxt,e.i)-48,e.isbnchar!=-3){if(g(e.isbn,e.n,e.isbnchar+48),e.n<12){if(r[t++]="checksum",r[t++]=e.isbnchar,e.n%2!=0){var N=r[--t];r[t++]=N*3}var B=r[--t];e[r[--t]]=S(B+e.checksum)}e.n=e.n+1}if(e.i=e.i+1,e.i==e.isbntxt.length)break}e.checksum=(10-e.checksum%10)%10+48,e.isbn=C(e.isbn,0,12),e.isbntxt.length==17&&c(e.isbntxt,16)!=e.checksum&&(r[t++]="bwipp.isbn13badCheckDigit#6380",r[t++]="Incorrect ISBN-13 check digit provided",z())}var I=e.isbn.length==12?22:18;if(e.pad=W(I),M(e.pad,0,"ISBN "),M(e.pad,5,e.isbntxt),g(e.pad,e.pad.length-2,45),g(e.pad,e.pad.length-1,e.checksum),e.isbntxt=e.pad,e.barcode=W(12),e.isbn.length==9?(M(e.barcode,0,"978"),M(e.barcode,3,e.isbn)):M(e.barcode,0,e.isbn),e.addon.length!=0){var D=W(12+e.addon.length+1);M(D,0,e.barcode),M(D,12," "),M(D,13,e.addon),e.barcode=D}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var T=r[--t];if(e[r[--t]]=T,e.includetext){if(e.isbntextxoffset==null){r[t++]="isbntextxoffset",e.isbn.length==9?r[t++]=-1:r[t++]=-12;var R=r[--t];e[r[--t]]=R}e.isbntextyoffset==null&&(e.isbntextyoffset=e.height*72+3);var $=c(e.args,"txt")!==void 0;$?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.isbntxt,e.isbntextxoffset,e.isbntextyoffset,e.isbntextfont,e.isbntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function ST(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.ismntextfont="OCR-A",e.ismntextsize=8,e.ismntextxoffset=null,e.ismntextyoffset=null,e.height=1,e.addongap=12,e.legacy=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],It(e.barcode," "),r[--t]?(e.barcode=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.barcode.length!=15&&e.barcode.length!=17&&e.barcode.length!=11&&e.barcode.length!=13&&(r[t++]="bwipp.ismnBadLength#6499",r[t++]="ISMN-13 must be 15 or 17 characters including dashes. ISMN-10 must be 11 or 13 characters including dashes",z()),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.ismnBadAddOnLength#6502",r[t++]="Add-on for ISMN must be 2 or 5 digits",z()),e.barcode.length>=15){Me(C(e.barcode,0,4),"979-")&&(r[t++]="bwipp.ismn13badPrefix#6506",r[t++]="ISMN-13 prefix must be 979-",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var n=C(e.barcode,5,9),i=0,o=n.length;i<o;i++){var d=c(n,i);r[t++]=d,d==45&&(e.wasdash&&(r[t++]="bwipp.ismn13adjacentDashes#6513",r[t++]="ISMN-13 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var u=r[--t];u>=48&&u<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=2||e.numdigit!=7)&&(r[t++]="bwipp.ismn13numDashesDigits#6524",r[t++]="Incorrect number of dashes and digits for ISMN-13",z());var f=c(e.barcode,14);if((f<48||f>57)&&(r[t++]="bwipp.ismn13character15#6527",r[t++]="ISMN-13 character 15 must be a digit",z()),e.barcode.length==17){Me(C(e.barcode,15,1),"-")&&(r[t++]="bwipp.ismn13character16#6531",r[t++]="ISMN-13 penultimate character must be a dash",z());var h=c(e.barcode,16);(h<48||h>57)&&(r[t++]="bwipp.ismn13character17#6534",r[t++]="ISMN-13 final character must be a digit",z())}}else{Me(C(e.barcode,0,2),"M-")&&(r[t++]="bwipp.ismn10badPrefix#6539",r[t++]="ISMN-10 prefix must be M-",z());var p=c(e.barcode,2);(p<48||p>57)&&(r[t++]="bwipp.ismn10character3#6542",r[t++]="ISMN-10 character 3 must be a digit",z()),e.wasdash=!1,e.numdash=0,e.numdigit=0;for(var m=C(e.barcode,3,7),x=0,b=m.length;x<b;x++){var y=c(m,x);r[t++]=y,y==45&&(e.wasdash&&(r[t++]="bwipp.ismn10adjacentDashes#6549",r[t++]="ISMN-10 does not permit adjacent dashes",z()),e.wasdash=!0,e.numdash=e.numdash+1);var w=r[--t];w>=48&&w<=57&&(e.wasdash=!1,e.numdigit=e.numdigit+1)}(e.numdash!=1||e.numdigit!=6)&&(r[t++]="bwipp.ismn10numDashesDigits#6560",r[t++]="Incorrect number of dashes and digits for ISMN-10",z());var v=c(e.barcode,10);if((v<48||v>57)&&(r[t++]="bwipp.ismn10character11#6563",r[t++]="ISMN-10 character 11 must be a digit",z()),e.barcode.length==13){var A=C(e.barcode,11,1);Me(A,"-")&&(r[t++]="bwipp.ismn10character12#6567",r[t++]="ISMN-10 penultimate character must be a dash",z());var k=c(e.barcode,12);(k<48||k>57)&&k!=88&&(r[t++]="bwipp.ismn10character13#6570",r[t++]="ISMN-10 final character must be a digit or X",z())}}for(e.ismntxt=e.barcode,e.legacytxt="",e.ismntxt.length<=13&&(e.legacytxt=e.ismntxt,e.pad=W(e.ismntxt.length+4),M(e.pad,0,"979-0-"),M(e.pad,6,C(e.ismntxt,2,e.ismntxt.length-2)),e.ismntxt=e.pad),e.ismn=W(13),e.checksum=0,e.i=0,e.n=0;e.ismnchar=c(e.ismntxt,e.i)-48,e.ismnchar!=-3&&(g(e.ismn,e.n,e.ismnchar+48),e.n<12&&(e.n%2==0?e.checksum=e.ismnchar+e.checksum:e.checksum=e.ismnchar*3+e.checksum),e.n=e.n+1),e.i=e.i+1,e.i!=e.ismntxt.length;);if(e.checksum=(10-e.checksum%10)%10+48,e.barcode.length==13||e.barcode.length==17){var E=e.barcode;c(E,E.length-1)!=e.checksum&&(r[t++]="bwipp.ismnBadCheckDigit#6612",r[t++]="Incorrect ISMN check digit provided",z())}if(e.legacy&&e.legacytxt.length!=0?(e.ismntxt=e.legacytxt,e.pad=W(18)):e.pad=W(22),M(e.pad,0,"ISMN "),M(e.pad,5,e.ismntxt),g(e.pad,e.pad.length-2,45),g(e.pad,e.pad.length-1,e.checksum),e.ismntxt=e.pad,e.barcode=C(e.ismn,0,12),e.addon.length!=0){var j=W(12+e.addon.length+1);M(j,0,e.barcode),M(j,12," "),M(j,13,e.addon),e.barcode=j}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var N=r[--t];if(e[r[--t]]=N,e.includetext){if(e.ismntextxoffset==null){r[t++]="ismntextxoffset",e.ismntxt.length==18?r[t++]=-1:r[t++]=-12;var B=r[--t];e[r[--t]]=B}e.ismntextyoffset==null&&(e.ismntextyoffset=e.height*72+3);var I=c(e.args,"txt")!==void 0;I?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.ismntxt,e.ismntextxoffset,e.ismntextyoffset,e.ismntextfont,e.ismntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function ET(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.issntextfont="OCR-A",e.issntextsize=8,e.issntextxoffset=null,e.issntextyoffset=null,e.height=1,e.addongap=12,r[t++]=e,We(),e.options=r[--t],e.issntxt=r[--t],It(e.issntxt," "),r[--t]?(e.issntxt=r[--t],t--,e.seqvar=r[--t]):(t--,e.seqvar="00"),It(e.seqvar," "),r[--t]?(e.seqvar=r[--t],t--,e.addon=r[--t]):(t--,e.addon=""),e.issntxt.length!=8&&e.issntxt.length!=9&&(r[t++]="bwipp.issnBadLength#6736",r[t++]="ISSN must be 8 or 9 characters including dash, in the format XXXX-XXXX",z());for(var n=C(e.issntxt,0,4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.issnFirstThroughFourthNotNumeric#6740",r[t++]="ISSN first four characters must be numeral characters",z())}Me(C(e.issntxt,4,1),"-")&&(r[t++]="bwipp.issnNeedsDash#6744",r[t++]="ISSN fifth character must be a dash",z());for(var u=C(e.issntxt,5,3),f=0,h=u.length;f<h;f++){var p=c(u,f);(p<48||p>57)&&(r[t++]="bwipp.issnSixthThroughEighthNotNumeric#6748",r[t++]="ISSN sixth through eighth characters must be numerals",z())}if(e.issntxt.length==9){var m=c(e.issntxt,8);(m<48||m>57)&&m!=88&&(r[t++]="bwipp.issnNinthCharacterBadFormat#6753",r[t++]="ISSN ninth character must be a number or the character X",z())}for(e.seqvar.length!=2&&(r[t++]="bwipp.issnBadSequenceVariantLength#6757",r[t++]="Sequence variant for ISSN must be 2 digits",z()),ge(e.seqvar,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.issnSequenceVariantBadCharacter#6761",r[t++]="Sequence variant for ISSN must contain only digits",z())}),e.addon.length!=0&&e.addon.length!=2&&e.addon.length!=5&&(r[t++]="bwipp.issnBadAddOnLength#6765",r[t++]="Add-on for ISSN must be 2 or 5 digits",z()),e.issn=W(8),e.checksum=0,e.i=0,e.n=0;e.issnchar=c(e.issntxt,e.i)-48,e.issnchar!=-3&&(g(e.issn,e.n,e.issnchar+48),e.n<7&&(e.checksum=S(e.checksum+e.issnchar*(8-e.n))),e.n=e.n+1),e.i=e.i+1,e.i!=e.issntxt.length;);e.checksum=(11-e.checksum%11)%11;var x=e.checksum+48;r[t++]="checksum",r[t++]=x,x==58&&(r[t-1]=88);var b=r[--t],y=r[--t];if(e[y]=b,e.issntxt.length==9&&c(e.issntxt,8)!=e.checksum&&(r[t++]="bwipp.issnBadCheckDigit#6788",r[t++]="Incorrect ISSN check digit provided",z()),e.pad=W(14),M(e.pad,0,"ISSN "),M(e.pad,5,e.issntxt),g(e.pad,13,e.checksum),e.issntxt=e.pad,e.barcode=C(e.issn,0,7),e.barcode=W(12),M(e.barcode,0,"977"),M(e.barcode,3,e.issn),M(e.barcode,10,e.seqvar),e.addon.length!=0){var w=W(12+e.addon.length+1);M(w,0,e.barcode),M(w,12," "),M(w,13,e.addon),e.barcode=w}g(e.options,"dontdraw",!0),g(e.options,"addongap",e.addongap),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,l2();var v=r[--t];if(e[r[--t]]=v,e.includetext){e.issntextxoffset==null&&(e.issntextxoffset=10),e.issntextyoffset==null&&(e.issntextyoffset=e.height*72+3);var A=c(e.args,"txt")!==void 0;A?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.issntxt,e.issntextxoffset,e.issntextyoffset,e.issntextfont,e.issntextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function CT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,e.barlen!=7&&e.barlen!=8&&(r[t++]="bwipp.MandSbadLength#6884",r[t++]="M&S barcode must be 7 or 8 characters",z()),e.barlen==7){var n=Fr(W(8),"00000000");M(n,1,e.barcode),e.barcode=n}g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Qm();var i=r[--t];e[r[--t]]=i;var o=c(e.args,"bbs");g(o,10,c(o,2)),g(o,11,c(o,2));var d=c(e.args,"bhs");if(g(d,10,c(d,2)),g(d,11,c(d,2)),e.txt=c(e.args,"txt"),e.barlen==7){for(var u=0;u<=6;u+=1){var f=e.txt;M(c(c(f,u),0),0,c(c(f,u+1),0))}M(c(c(e.txt,7),0),0," ")}var h=s(10);M(h,0,e.txt),e.txt=h;var p=c(e.txt,0);g(e.txt,8,cc(s(p.length),p));var m=c(e.txt,0);g(e.txt,9,cc(s(m.length),m)),g(c(e.txt,8),0,"M"),g(c(e.txt,8),1,-12),g(c(e.txt,9),0,"S");var x=c(e.txt,9);g(x,1,69),g(e.args,"txt",e.txt),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function c2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.raw=!1,e.newencoder=!1,e.parse=!1,e.parsefnc=!1,e.suppressc=!1,e.unlatchextbeforec=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.sta=-1,e.stb=-2,e.stc=-3,e.swa=-4,e.swb=-5,e.swc=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10,e.sft=-11,e.stp=-12,e.lka=-13,e.lkc=-14;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3],["LNKA",e.lka],["LNKC",e.lkc]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];if(e[r[--t]]=i,e.msglen=e.msg.length,e.encoding="legacy",e.newencoder&&(e.encoding="new"),e.raw&&(e.encoding="raw"),Y(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j),e.text=""}else{e.text=W(e.msglen);for(var o=0,d=e.msglen-1;o<=d;o+=1){e.i=o;var u=c(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=u,u<0&&(r[t-1]=32);var f=r[--t],h=r[--t];g(r[--t],h,f)}}e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stb,e.stb,e.stb]),s([e.stc,e.stc,e.stc]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=c(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var b=c(e.encs,e.j);if(r[t++]=b,Y(tn(b),"stringtype")){var y=c(r[--t],0);r[t++]=y}g(c(e.charvals,e.j),r[--t],e.i)}}if(Y(e.encoding,"legacy")){e.seta=c(e.charvals,0),g(e.seta,e.lka,c(e.seta,e.swb)),g(e.seta,e.lkc,c(e.seta,e.swc)),e.setb=c(e.charvals,1),g(e.setb,e.lka,c(e.setb,e.swc)),g(e.setb,e.lkc,c(e.setb,e.swa)),e.setc=c(e.charvals,2),g(e.setc,e.lka,c(e.setc,e.swa)),g(e.setc,e.lkc,c(e.setc,e.swb)),r[t++]=1/0;for(var w=0,v=e.msglen;w<v;w++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var A=0,k=e.msglen;A<k;A++)r[t++]=0;r[t++]=0,e.numEA=s();for(var E=e.msglen-1;E>=0;E-=1)e.i=E,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?g(e.numEA,e.i,c(e.numEA,e.i+1)+1):g(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var j=0,N=e.msglen-1;j<=N;j+=1){if(e.i=j,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var B=c(r[--t],e.i),I=S(B+e.i)==e.msglen?3:5;B<I?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var Ee=c(e.msg,e.p),Ve=c(e.setc,Ee)!==void 0;if(r[t++]=Ee,!Ve){t--;break}var Ye=r[t-1];if(Ye<=-1){var et=r[--t];if(et==e.fn1&&e.s%2==0)e.s=e.s+1;else break}else t--;e.s=e.s+1,e.p=e.p+1}r[t++]=e.s},e.enca=function(){g(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var Ee=r[t-1];if(Me(tn(Ee),"arraytype")){var Ve=c(e.setc,r[--t]);r[t++]=Ve}else{O(r[--t]);var Ye=r[--t],et=r[--t];r[t++]=S(Ye-48+(et-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var Ee=r[--t],Ve=c(e.seta,Ee)!==void 0,Ye=c(e.setb,Ee)!==void 0;r[t++]=Ve&&!Ye},e.bnota=function(){var Ee=r[--t],Ve=c(e.setb,Ee)!==void 0,Ye=c(e.seta,Ee)!==void 0;r[t++]=Ve&&!Ye},r[t++]=1/0;for(var D=0,T=e.msg.length;D<T;D++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var R=0,$=e.msg.length;R<$;R++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var F=e.msg.length-1;F>=0;F-=1)e.i=F,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var Ee=r[--t];r[t++]=mn(c(e.nextanotb,Ee),c(e.nextbnota,Ee))},e.bbeforea=function(){var Ee=r[--t];r[t++]=mn(c(e.nextbnota,Ee),c(e.nextanotb,Ee))},e.cws=s(e.barcode.length*2+3),e.j=0,e.msglen>0?(r[t++]=0,e.numsscr()):r[t++]=-1,e.nums=r[--t];;){if(e.msglen==0){r[t++]=e.stb,e.enca(),e.cset="setb";break}if(e.msglen==2&&e.nums==2){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(e.nums>=4){r[t++]=e.stc,e.enca(),e.cset="setc";break}if(r[t++]=0,e.abeforeb(),r[--t]){r[t++]=e.sta,e.enca(),e.cset="seta";break}r[t++]=e.stb,e.enca(),e.cset="setb";break}for(e.i=0;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t];;){if((Y(e.cset,"seta")||Y(e.cset,"setb"))&&e.nums>=4&&c(e.msg,e.i)!=e.fn1){if(e.nums%2==0){r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}else if(r[t++]=c(e.msg,e.i),Y(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.i,e.numsscr(),r[--t]>=4){r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";break}}r[t++]=Y(e.cset,"setb"),r[t++]=c(e.msg,e.i),e.anotb();var _=r[--t];if(r[--t]&&_){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta";break}r[t++]=Y(e.cset,"seta"),r[t++]=c(e.msg,e.i),e.bnota();var Q=r[--t];if(r[--t]&&Q){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb";break}if(Y(e.cset,"setc")&&e.nums<2&&(c(e.msg,e.i)>-1||c(e.msg,e.i)==e.fn4)){if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}if(Y(e.cset,"seta")){r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(Y(e.cset,"setb")){r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(Y(e.cset,"setc")){c(e.msg,e.i)<=-1?(r[t++]=c(e.msg,e.i),e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}break}e.cws=C(e.cws,0,e.j)}if(Y(e.encoding,"new")){r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=100,r[t++]=e.lkc,r[t++]=99,e.seta=$e(),r[t++]=1/0,r[t++]=e.fn3,r[t++]=96,r[t++]=e.fn2,r[t++]=97,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=99,r[t++]=e.lkc,r[t++]=101,e.setb=$e(),r[t++]=1/0,r[t++]=e.fn1,r[t++]=102,r[t++]=e.stp,r[t++]=106,r[t++]=e.lka,r[t++]=101,r[t++]=e.lkc,r[t++]=100,e.setc=$e(),e.latch_a0=s(["","e","e","ee","eee","eee"]),e.latch_b0=s(["d","","d","ddd","dd","ddd"]),e.latch_c0=s(["c","c","","eec","ddc","dddc"]),e.latch_a1=s(["ee","eee","eee","","e","e"]),e.latch_b1=s(["ddd","dd","ddd","d","","d"]),e.latch_c1=s(["eec","ddc","dddc","c","c",""]),r[t++]=1/0;for(var H=e.latch_a0,J=0,K=H.length;J<K;J++)r[t++]=c(H,J).length;e.latch_length_a0=s(),r[t++]=1/0;for(var he=e.latch_a1,G=0,L=he.length;G<L;G++)r[t++]=c(he,G).length;e.latch_length_a1=s(),r[t++]=1/0;for(var ce=e.latch_b0,fe=0,U=ce.length;fe<U;fe++)r[t++]=c(ce,fe).length;e.latch_length_b0=s(),r[t++]=1/0;for(var ee=e.latch_b1,se=0,de=ee.length;se<de;se++)r[t++]=c(ee,se).length;e.latch_length_b1=s(),r[t++]=1/0;for(var ke=e.latch_c0,ae=0,De=ke.length;ae<De;ae++)r[t++]=c(ke,ae).length;e.latch_length_c0=s(),r[t++]=1/0;for(var we=e.latch_c1,Ae=0,Le=we.length;Ae<Le;Ae++)r[t++]=c(we,Ae).length;e.latch_length_c1=s(),e.latch_sequence=s([e.latch_a0,e.latch_b0,e.latch_c0,e.latch_a1,e.latch_b1,e.latch_c1]);var xe=s([function(){e.enc_a0()},function(){e.enc_b0()},function(){e.enc_c()},function(){e.enc_a1()},function(){e.enc_b1()},function(){e.enc_c()}]);e.encode=xe,e.start_code=s([103,104,105]),e.state_priority=s([1,0,2,4,3,5]),e.start_state=s([0,1,2,0,1,2]),e.start_length=s([1,1,1,1,1,1]),r[t++]=1/0;for(var Oe=s([5,4,3,2,1,0]),Te=0,Pe=Oe.length;Te<Pe;Te++)r[t++]=c(e.state_priority,c(Oe,Te));e.reverse_priority=s(),r[t++]=1/0;for(var Ue=e.reverse_priority,Ze=0,te=Ue.length;Ze<te;Ze++){var oe=c(Ue,Ze);r[t++]=oe,r[t++]=c(e.latch_length_a0,oe),r[t++]=oe}e.prioritized_latch_length_a0=s(),r[t++]=1/0;for(var Re=e.reverse_priority,ze=0,Je=Re.length;ze<Je;ze++){var Qe=c(Re,ze);r[t++]=Qe,r[t++]=c(e.latch_length_a1,Qe),r[t++]=Qe}e.prioritized_latch_length_a1=s(),r[t++]=1/0;for(var qe=e.reverse_priority,ut=0,mt=qe.length;ut<mt;ut++){var lt=c(qe,ut);r[t++]=lt,r[t++]=c(e.latch_length_b0,lt),r[t++]=lt}e.prioritized_latch_length_b0=s(),r[t++]=1/0;for(var vt=e.reverse_priority,St=0,kt=vt.length;St<kt;St++){var wt=c(vt,St);r[t++]=wt,r[t++]=c(e.latch_length_b1,wt),r[t++]=wt}e.prioritized_latch_length_b1=s(),r[t++]=1/0;for(var Pt=e.reverse_priority,Mt=0,Lt=Pt.length;Mt<Lt;Mt++){var Dt=c(Pt,Mt);r[t++]=Dt,r[t++]=c(e.latch_length_c0,Dt),r[t++]=Dt}e.prioritized_latch_length_c0=s(),r[t++]=1/0;for(var jt=e.reverse_priority,P=0,V=jt.length;P<V;P++){var q=c(jt,P);r[t++]=q,r[t++]=c(e.latch_length_c1,q),r[t++]=q}e.prioritized_latch_length_c1=s(),e.max_int=2147483647,e.can_a=function(){if(e.c>=0)r[t++]=!0;else{var Ee=c(e.seta,e.c)!==void 0;r[t++]=Ee}},e.can_b=function(){if(e.c>=0)r[t++]=!0;else{var Ee=c(e.setb,e.c)!==void 0;r[t++]=Ee}},e.can_c0=function(){if(e.num_digits>=2)r[t++]=!0;else{var Ee=c(e.setc,e.c)!==void 0;r[t++]=Ee}},e.can_c1=function(){if(e.num_digits>=2)r[t++]=!0;else{var Ee=c(e.setc,e.c)!==void 0;r[t++]=Ee}},e.suppressc&&(e.can_c0=function(){r[t++]=!1}),(e.suppressc||e.unlatchextbeforec)&&(e.can_c1=function(){r[t++]=!1}),e.out_a0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var Ee=r[--t];r[t++]=Ee+1}if((e.c&127)>=96){var Ve=r[--t];r[t++]=Ve+1}}},e.out_a1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var Ee=r[--t];r[t++]=Ee+1}if((e.c&127)>=96){var Ve=r[--t];r[t++]=Ve+1}}},e.out_b0=function(){if(r[t++]=1,e.c>=0){if(e.c>=128){var Ee=r[--t];r[t++]=Ee+1}if((e.c&127)<32){var Ve=r[--t];r[t++]=Ve+1}}},e.out_b1=function(){if(r[t++]=1,e.c>=0){if(e.c<128){var Ee=r[--t];r[t++]=Ee+1}if((e.c&127)<32){var Ve=r[--t];r[t++]=Ve+1}}},e.map_ab=function(){var Ee=r[t-1];if(Ee<32){var Ve=r[--t];r[t++]=Ve+64}else{var Ye=r[--t];r[t++]=Ye-32}},e.enc_a0=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.seta,e.c);else{e.c>=128&&(r[t++]=101);var Ee=e.c&127;if(r[t++]=Ee,Ee>=96){var Ve=r[--t];r[t++]=98,r[t++]=Ve}e.map_ab()}var Ye=s();r[t++]=Ye},e.enc_a1=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.seta,e.c);else{e.c<128&&(r[t++]=101);var Ee=e.c&127;if(r[t++]=Ee,Ee>=96){var Ve=r[--t];r[t++]=98,r[t++]=Ve}e.map_ab()}var Ye=s();r[t++]=Ye},e.enc_b0=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.setb,e.c);else{e.c>=128&&(r[t++]=100);var Ee=e.c&127;if(r[t++]=Ee,Ee<32){var Ve=r[--t];r[t++]=98,r[t++]=Ve}e.map_ab()}var Ye=s();r[t++]=Ye},e.enc_b1=function(){if(r[t++]=1/0,e.c<0)r[t++]=c(e.setb,e.c);else{e.c<128&&(r[t++]=100);var Ee=e.c&127;if(r[t++]=Ee,Ee<32){var Ve=r[--t];r[t++]=98,r[t++]=Ve}e.map_ab()}var Ye=s();r[t++]=Ye},e.enc_c=function(){r[t++]=1/0,e.c<0?r[t++]=c(e.setc,e.c):r[t++]=S((c(e.msg,e.n)-48)*10+(c(e.msg,e.n+1)-48));var Ee=s();r[t++]=Ee},e.get_best_prior_state=function(){var Ee=c(e.bln_0,r[--t]);e.len=S(r[--t]+Ee),e.o=r[--t];var Ve=c(e.bln_0,r[--t]),Ye=S(r[--t]+Ve);r[t++]=Ye,Ye<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var et=c(e.bln_0,r[--t]),ht=S(r[--t]+et);r[t++]=ht,ht<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var pt=c(e.bln_0,r[--t]),ft=S(r[--t]+pt);r[t++]=ft,ft<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var gt=c(e.bln_0,r[--t]),nt=S(r[--t]+gt);r[t++]=nt,nt<e.len?(e.len=r[--t],e.o=r[--t]):t-=2;var Tt=c(e.bln_0,r[--t]);S(r[--t]+Tt)<e.len?e.o=r[--t]:t--,r[t++]=e.o},e.bln_0=e.start_length,e.bln_1=e.start_length,r[t++]=1/0;for(var ne=0;ne<4;ne++)r[t++]=s([0,0,0,0,0,0]);e.bln=s(),e.bps_0=e.start_state,e.bps_1=e.start_state,r[t++]=1/0;for(var ue=0;ue<4;ue++)r[t++]=s([0,0,0,0,0,0]);e.bps=s(),r[t++]=1/0;for(var be=0,re=e.msg.length;be<re;be++)r[t++]=s([0,0,0,0,0,0]);e.path=s(),e.make_tables=function(){e.num_digits=0;for(var Ee=0,Ve=e.msg.length-1;Ee<=Ve;Ee+=1){e.n=Ee,e.c=c(e.msg,e.n),r[t++]="num_digits",e.c>=48&&e.c<58?r[t++]=e.num_digits+1:r[t++]=0;var Ye=r[--t];e[r[--t]]=Ye,e.bln_2=e.bln_1,e.bln_1=e.bln_0,e.bln_0=c(e.bln,e.n&3),e.bps_2=e.bps_1,e.bps_1=e.bps_0,e.bps_0=c(e.bps,e.n&3),r[t++]="bps_c",e.num_digits>=2?r[t++]=e.bps_2:r[t++]=e.bps_1;var et=r[--t];e[r[--t]]=et,r[t++]="bln_c",e.num_digits>=2?r[t++]=e.bln_2:r[t++]=e.bln_1;var ht=r[--t];if(e[r[--t]]=ht,r[t++]=e.bln_0,r[t++]=0,e.can_a(),r[--t]){e.p=c(e.bps_1,0),g(c(e.path,e.n),0,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_a0,e.p)),e.out_a0();var pt=r[--t],ft=r[--t];r[t++]=S(ft+pt)}else r[t++]=e.max_int;var gt=r[--t],nt=r[--t];if(g(r[--t],nt,gt),r[t++]=e.bln_0,r[t++]=3,e.can_a(),r[--t]){e.p=c(e.bps_1,3),g(c(e.path,e.n),3,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_a1,e.p)),e.out_a1();var Tt=r[--t],tt=r[--t];r[t++]=S(tt+Tt)}else r[t++]=e.max_int;var Qt=r[--t],Ht=r[--t];if(g(r[--t],Ht,Qt),r[t++]=e.bln_0,r[t++]=1,e.can_b(),r[--t]){e.p=c(e.bps_1,1),g(c(e.path,e.n),1,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_b0,e.p)),e.out_b0();var Ot=r[--t],sr=r[--t];r[t++]=S(sr+Ot)}else r[t++]=e.max_int;var Sr=r[--t],nr=r[--t];if(g(r[--t],nr,Sr),r[t++]=e.bln_0,r[t++]=4,e.can_b(),r[--t]){e.p=c(e.bps_1,4),g(c(e.path,e.n),4,e.p),r[t++]=S(c(e.bln_1,e.p)+c(e.latch_length_b1,e.p)),e.out_b1();var gr=r[--t],ar=r[--t];r[t++]=S(ar+gr)}else r[t++]=e.max_int;var Ir=r[--t],Zt=r[--t];g(r[--t],Zt,Ir),r[t++]=e.bln_0,r[t++]=2,e.can_c0(),r[--t]?(e.p=c(e.bps_c,2),g(c(e.path,e.n),2,e.p),r[t++]=S(c(e.bln_c,e.p)+c(e.latch_length_c0,e.p))+1):r[t++]=e.max_int;var dr=r[--t],Kt=r[--t];g(r[--t],Kt,dr),r[t++]=e.bln_0,r[t++]=5,e.can_c1(),r[--t]?(e.p=c(e.bps_c,5),g(c(e.path,e.n),5,e.p),r[t++]=S(c(e.bln_c,e.p)+c(e.latch_length_c1,e.p))+1):r[t++]=e.max_int;var Jt=r[--t],ur=r[--t];g(r[--t],ur,Jt),r[t++]=e.bps_0,r[t++]=0,O(e.prioritized_latch_length_a0),e.get_best_prior_state();var Tr=r[--t],_r=r[--t];g(r[--t],_r,Tr),r[t++]=e.bps_0,r[t++]=3,O(e.prioritized_latch_length_a1),e.get_best_prior_state();var ua=r[--t],Ct=r[--t];g(r[--t],Ct,ua),r[t++]=e.bps_0,r[t++]=1,O(e.prioritized_latch_length_b0),e.get_best_prior_state();var qt=r[--t],tr=r[--t];g(r[--t],tr,qt),r[t++]=e.bps_0,r[t++]=4,O(e.prioritized_latch_length_b1),e.get_best_prior_state();var br=r[--t],ir=r[--t];g(r[--t],ir,br),r[t++]=e.bps_0,r[t++]=2,O(e.prioritized_latch_length_c0),e.get_best_prior_state();var Br=r[--t],or=r[--t];g(r[--t],or,Br),r[t++]=e.bps_0,r[t++]=5,O(e.prioritized_latch_length_c1),e.get_best_prior_state();var Ut=r[--t],yr=r[--t];g(r[--t],yr,Ut)}},e.backtrack=function(){e.n=e.msg.length;for(var Ee=e.reverse_priority,Ve=0,Ye=Ee.length;Ve<Ye;Ve++){var et=c(Ee,Ve),ht=c(e.bln_0,et);r[t++]=et,r[t++]=ht,r[t++]=ht}t--,e.len=r[--t],e.state=r[--t];for(var pt=0;pt<5;pt++)mn(r[--t],e.len)?(e.len=r[--t],e.state=r[--t]):t-=2;for(r[t++]=s(e.len);!(e.n<=0);){e.prior_state=c(c(e.path,e.n-1),e.state),r[t++]=1/0,ge(c(c(e.latch_sequence,e.state),e.prior_state)),e.latch=s();var ft=(e.state==2||e.state==5)&&c(e.msg,e.n-1)>=48?2:1;if(e.n=e.n-ft,e.c=c(e.msg,e.n),r[t++]="enc",c(e.encode,e.state)()===!0)break;var gt=r[--t];e[r[--t]]=gt,e.len=S(e.len-e.latch.length-e.enc.length);var nt=r[--t],Tt=e.len,tt=e.latch;M(nt,Tt,tt),M(nt,S(Tt+tt.length),e.enc),e.state=e.prior_state,r[t++]=nt}var Qt=r[t-1];g(Qt,0,c(e.start_code,e.state))},e.make_tables(),e.backtrack(),e.cws=r[--t]}e.j=e.cws.length;var Se=s(e.j+2);M(Se,0,e.cws),e.cws=Se,e.csum=c(e.cws,0);for(var X=1,ve=e.j-1;X<=ve;X+=1)e.i=X,e.csum=S(e.csum+c(e.cws,e.i)*e.i);e.csum=e.csum%103,g(e.cws,e.j,e.csum),g(e.cws,e.j+1,106);var me=c(e.options,"debugcws")!==void 0;me&&(r[t++]="bwipp.debugcws#7483",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","2331112"]),e.sbs=W(e.cws.length*6+1);for(var je=0,le=e.cws.length-1;je<=le;je+=1)e.i=je,M(e.sbs,e.i*6,c(e.encs,c(e.cws,e.i)));r[t++]=1/0,r[t++]=1/0;for(var ye=e.sbs,Ie=0,pe=ye.length;Ie<pe;Ie++)r[t++]=c(ye,Ie)-48;var Ce=s();r[t++]=1/0;for(var Ne=0,Be=~~((e.sbs.length+1)/2);Ne<Be;Ne++)r[t++]=e.height;var Ge=s();r[t++]=1/0;for(var He=0,Xe=~~((e.sbs.length+1)/2);He<Xe;He++)r[t++]=0;var st=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Ce,r[t++]="bhs",r[t++]=Ge,r[t++]="bbs",r[t++]=st,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var at=$e();r[t++]=at,e.dontdraw||Bt(),e=a}function b3(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=.5,e.linkagea=!1,e.linkagec=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.linkagea&&e.linkagec&&(r[t++]="bwipp.gs1128badLinkage#7580",r[t++]="linkagea and linkagec cannot be used together",z()),e.text=e.barcode,r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.c128=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.c128.length+e.ai.length+e.val.length);M(o,0,e.c128),r[t++]=o,r[t++]=o,r[t++]=e.c128.length;var d=1/0,u=e.ai;r[t++]=d,ge(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.c128.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ge(x);var b=s(),y=r[--t];if(M(r[--t],y,b),e.c128=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.c128.length+1);M(w,0,e.c128),g(w,e.c128.length,e.fnc1),e.c128=w}}for(e.barcode=W((e.c128.length+1)*5),e.i=0,e.j=0;e.i!=e.c128.length;){var v=c(e.c128,e.i);r[t++]=v,v==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}if(e.linkagea||e.linkagec){r[t++]=e.barcode,r[t++]=e.j,e.linkagea?r[t++]="^LNKA":r[t++]="^LNKC";var A=r[--t],k=r[--t];M(r[--t],k,A),e.j=e.j+5}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"height",e.height),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var E=r[--t];e[r[--t]]=E,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function IT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=W(n.length),r[t++]=0,ge(n,function(){var k=r[t-1];if(k!=32){var E=r[--t],j=r[--t],N=r[t-1];g(N,j,E),r[t++]=j+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.ean14badLength#7695",r[t++]="EAN-14 must be 13 or 14 digits",z()),Me(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.ean14badAI#7698",r[t++]="EAN-14 must begin with (01) application identifier",z());for(var o=C(e.barcode,4,e.barcode.length-4),d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.ean14badCharacter#7702",r[t++]="EAN-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==18)c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.ean14badCheckDigit#7715",r[t++]="Incorrect EAN-14 check digit provided",z());else{var b=W(18);M(b,0,e.barcode),g(b,17,e.checksum+48),e.barcode=b;var y=e.hasspace?2:1,w=W(e.text.length+y);M(w,w.length-2," "),g(w,w.length-1,e.checksum+48),M(w,0,e.text),e.text=w}e.gtin=C(e.barcode,4,14),e.barcode=W(21),M(e.barcode,0,"^FNC101");var v=e.gtin;M(e.barcode,7,v),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function BT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=W(n.length),r[t++]=0,ge(n,function(){var k=r[t-1];if(k!=32){var E=r[--t],j=r[--t],N=r[t-1];g(N,j,E),r[t++]=j+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=21&&e.barcode.length!=22&&(r[t++]="bwipp.sscc18badLength#7799",r[t++]="SSCC-18 must be 17 or 18 digits",z()),Me(C(e.barcode,0,4),"(00)")&&(r[t++]="bwipp.sscc18badAI#7802",r[t++]="SSCC-18 must begin with (00) application identifier",z());for(var o=C(e.barcode,4,e.barcode.length-4),d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.sscc18badCharacter#7806",r[t++]="SSCC-18 must contain only digits",z())}e.checksum=0;for(var h=0;h<=16;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==22)c(e.barcode,21)!=e.checksum+48&&(r[t++]="bwipp.sscc18badCheckDigit#7819",r[t++]="Incorrect SSCC-18 check digit provided",z());else{var b=W(22);M(b,0,e.barcode),g(b,21,e.checksum+48),e.barcode=b;var y=e.hasspace?2:1,w=W(e.text.length+y);M(w,w.length-2," "),g(w,w.length-1,e.checksum+48),M(w,0,e.text),e.text=w}e.sscc=C(e.barcode,4,18),e.barcode=W(25),M(e.barcode,0,"^FNC100");var v=e.sscc;M(e.barcode,7,v),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function d2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.hidestars=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code39emptyData#7899",r[t++]="The data must not be empty",z()),e.encs=s(["1113313111","3113111131","1133111131","3133111111","1113311131","3113311111","1133311111","1113113131","3113113111","1133113111","3111131131","1131131131","3131131111","1111331131","3111331111","1131331111","1111133131","3111133111","1131133111","1111333111","3111111331","1131111331","3131111311","1111311331","3111311311","1131311311","1111113331","3111113311","1131113311","1111313311","3311111131","1331111131","3331111111","1311311131","3311311111","1331311111","1311113131","3311113111","1331113111","1313131111","1313111311","1311131311","1113131311","1311313111"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.code39badCharacter#7927",r[t++]="Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.code39badCheckDigit#7941",r[t++]="Incorrect Code 39 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0);var m=e.includecheck?3:2;e.sbs=W(S(e.barlen+m)*10);var x=e.includecheck?3:2;e.txt=s(S(e.barlen+x)),M(e.sbs,0,c(e.encs,43)),e.hidestars?g(e.txt,0,s(["",0,e.textyoffset,e.textfont,e.textsize])):g(e.txt,0,s(["*",0,e.textyoffset,e.textfont,e.textsize]));for(var b=0,y=e.barlen-1;b<=y;b+=1)e.i=b,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.sbs,e.i*10+10,c(e.encs,e.indx)),g(e.txt,e.i+1,s([C(e.barcode,e.i,1),(e.i+1)*16,e.textyoffset,e.textfont,e.textsize]));e.includecheck?(M(e.sbs,e.barlen*10+10,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen+1,s([C(e.barchars,e.checksum,1),(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])),M(e.sbs,e.barlen*10+20,c(e.encs,43)),e.hidestars?g(e.txt,e.barlen+2,s(["",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+2,s(["*",(e.barlen+2)*16,e.textyoffset,e.textfont,e.textsize]))):(M(e.sbs,e.barlen*10+10,c(e.encs,43)),e.hidestars?g(e.txt,e.barlen+1,s(["",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen+1,s(["*",(e.barlen+1)*16,e.textyoffset,e.textfont,e.textsize]))),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,v=0,A=w.length;v<A;v++)r[t++]=c(w,v)-48;var k=s();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=e.height;var N=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var T=$e();r[t++]=T,e.dontdraw||Bt(),e=a}function DT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,ge(e.barcode,function(){r[--t]>=128&&(r[t++]="bwipp.code39extBadCharacter#8061",r[t++]="Code 39 Extended must contain only ASCII characters",z())}),e.extencs=s(["%U","$A","$B","$C","$D","$E","$F","$G","$H","$I","$J","$K","$L","$M","$N","$O","$P","$Q","$R","$S","$T","$U","$V","$W","$X","$Y","$Z","%A","%B","%C","%D","%E"," ","/A","/B","/C","/D","/E","/F","/G","/H","/I","/J","/K","/L","-",".","/O","0","1","2","3","4","5","6","7","8","9","/Z","%F","%G","%H","%I","%J","%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","%K","%L","%M","%N","%O","%W","+A","+B","+C","+D","+E","+F","+G","+H","+I","+J","+K","+L","+M","+N","+O","+P","+Q","+R","+S","+T","+U","+V","+W","+X","+Y","+Z","%P","%Q","%R","%S","%T"]),e.newcode=W(e.barlen*2),e.newtext=W(e.barlen*2),e.j=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){e.i=o,e.extchar=c(e.extencs,c(e.barcode,e.i)),M(e.newcode,e.j,e.extchar);var u=c(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.j,r[t++]=u,(u<32||u==127)&&(r[t-1]=32);var f=r[--t],h=r[--t];g(r[--t],h,f),e.extchar.length!=1&&g(e.newtext,e.j+1,32),e.j=e.j+e.extchar.length}e.newcode=C(e.newcode,0,e.j),e.newtext=C(e.newtext,0,e.j),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,d2();var p=r[--t];if(e[r[--t]]=p,e.includetext){e.txt=c(e.args,"txt");for(var m=0,x=e.newtext.length-1;m<=x;m+=1)e.i=m,e.txtentry=c(e.txt,e.i+1),g(e.txtentry,0,C(e.newtext,e.i,1)),g(e.txt,e.i+1,e.txtentry);g(e.args,"txt",e.txt)}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function TT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=8&&e.barcode.length!=9&&(r[t++]="bwipp.code32badLength#8160",r[t++]="Italian Pharmacode must be 8 or 9 digits",z()),ge(e.barcode,function(){var k=r[--t];(k<48||k>57)&&(r[t++]="bwipp.code32badCharacter#8164",r[t++]="Italian Pharmacode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=7;n+=1){if(e.i=n,r[t++]=c(e.barcode,e.i)-48,e.i%2!=0){var i=r[--t];r[t++]=i*2}var o=r[t-1];if(o>9){var d=r[--t];r[t++]=d-9}e.checksum=S(r[--t]+e.checksum)}e.checksum=e.checksum%10,e.barcode.length==9&&c(e.barcode,8)!=e.checksum+48&&(r[t++]="bwipp.code32badCheckDigit#8178",r[t++]="Incorrect Italian Pharmacode check digit provided",z());var u=W(10);M(u,0,e.barcode),g(u,8,e.checksum+48),e.text=u,e.val=$t(W(6),Fe(e.text),32),e.barcode=W(6);for(var f=0;f<=5;f+=1)g(e.barcode,f,48);M(e.barcode,6-e.val.length,e.val);for(var h=0;h<=5;h+=1){var p=c(e.barcode,h);r[t++]=h,r[t++]=p,r[t++]=p;for(var m=0,x=4;m<x;m++){if(r[--t]>=c("AEIO",m)){var b=r[--t];r[t++]=b+1}var y=r[t-1];r[t++]=y}r[t-1]=e.barcode;var w=r[t-2],v=r[t-3];g(r[t-1],v,w),t-=3}M(e.text,1,C(e.text,0,9)),g(e.text,0,65),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var A=r[--t];e[r[--t]]=A,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function RT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.height=1,e.pzn8=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.pzn8?e.barcode.length!=7&&e.barcode.length!=8&&(r[t++]="bwipp.pzn8badLength#8261",r[t++]="PZN8 must be 7 or 8 digits",z()):e.barcode.length!=6&&e.barcode.length!=7&&(r[t++]="bwipp.pzn7badLength#8265",r[t++]="PZN7 must be 6 or 7 digits",z()),ge(e.barcode,function(){var p=r[--t];(p<48||p>57)&&(r[t++]="bwipp.pznBadCharacter#8270",r[t++]="PZN must contain only digits",z())});var n=e.pzn8?9:8;e.msglen=n,e.checksum=0;for(var i=0,o=e.msglen-3;i<=o;i+=1){e.i=i;var d=e.pzn8?1:2;e.checksum=S((c(e.barcode,e.i)-48)*(e.i+d)+e.checksum)}e.checksum=e.checksum%11,e.checksum==10&&(r[t++]="bwipp.pznBadInputSequence#8284",r[t++]="Incorrect PZN input sequence provided",z()),e.barcode.length==e.msglen-1&&c(e.barcode,e.msglen-2)!=e.checksum+48&&(r[t++]="bwipp.pznBadCheckDigit#8288",r[t++]="Incorrect PZN check digit provided",z());var u=W(e.msglen);g(u,0,45),M(u,1,e.barcode),g(u,e.msglen-1,e.checksum+48),e.msg=u,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.msg,r[t++]=e.options,d2();var f=r[--t];e[r[--t]]=f,e.text=W(e.msglen+5),M(e.text,0,"PZN - "),M(e.text,6,C(e.msg,1,e.msglen-1));var h=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]);g(e.args,"txt",h),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function Ew(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.encs=s(["131112","111213","111312","111411","121113","121212","121311","111114","131211","141111","211113","211212","211311","221112","221211","231111","112113","112212","112311","122112","132111","111123","111222","111321","121122","131121","212112","212211","211122","211221","221121","222111","112122","112221","122121","123111","121131","311112","311211","321111","112131","113121","211131","121221","312111","311121","122211","111141","1111411"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,c(e.barchars,n),n);e.sft1=-1,e.sft2=-2,e.sft3=-3,e.sft4=-4,g(e.charvals,e.sft1,43),g(e.charvals,e.sft2,44),g(e.charvals,e.sft3,45),g(e.charvals,e.sft4,46);var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["SFT$",e.sft1],["SFT%",e.sft2],["SFT/",e.sft3],["SFT+",e.sft4]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,ge(e.msg,function(){var D=c(e.charvals,r[--t])!==void 0;D||(r[t++]="bwipp.code93BadCharacter#8405",r[t++]="Code 93 must only contain digits, capital letters, spaces, the symbols -.$/+ and shift non-data characters",z())}),e.includecheck?e.sbs=W(e.msglen*6+25):e.sbs=W(e.msglen*6+13),e.txt=s(e.msglen),M(e.sbs,0,c(e.encs,47)),e.checksum1=0,e.checksum2=0;for(var d=0,u=e.msglen-1;d<=u;d+=1){e.i=d,e.indx=c(e.charvals,c(e.msg,e.i)),M(e.sbs,e.i*6+6,c(e.encs,e.indx));var f=c(e.msg,e.i);if(r[t++]="char",r[t++]=f,f<0)r[t-1]=" ";else{var h=W(1);r[t++]=h,r[t++]=h,r[t++]=0,Na(4,-1);var p=r[--t],m=r[--t];g(r[--t],m,p)}var x=r[--t];e[r[--t]]=x,g(e.txt,e.i,s([e.char,e.i*9+9,e.textyoffset,e.textfont,e.textsize])),e.checksum1=S(e.checksum1+((e.msglen-e.i-1)%20+1)*e.indx),e.checksum2=S(e.checksum2+((e.msglen-e.i)%15+1)*e.indx)}e.includecheck?(e.checksum1=e.checksum1%47,e.checksum2=S(e.checksum2+e.checksum1)%47,M(e.sbs,e.msglen*6+6,c(e.encs,e.checksum1)),M(e.sbs,e.msglen*6+12,c(e.encs,e.checksum2)),M(e.sbs,e.msglen*6+18,c(e.encs,48))):M(e.sbs,e.msglen*6+6,c(e.encs,48)),r[t++]=1/0,r[t++]=1/0;for(var b=e.sbs,y=0,w=b.length;y<w;y++)r[t++]=c(b,y)-48;var v=s();r[t++]=1/0;for(var A=0,k=~~((e.sbs.length+1)/2);A<k;A++)r[t++]=e.height;var E=s();r[t++]=1/0;for(var j=0,N=~~((e.sbs.length+1)/2);j<N;j++)r[t++]=0;var B=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=v,r[t++]="bhs",r[t++]=E,r[t++]="bbs",r[t++]=B,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var I=$e();r[t++]=I,e.dontdraw||Bt(),e=a}function MT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.parse=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.extencs=s(["^SFT%U","^SFT$A","^SFT$B","^SFT$C","^SFT$D","^SFT$E","^SFT$F","^SFT$G","^SFT$H","^SFT$I","^SFT$J","^SFT$K","^SFT$L","^SFT$M","^SFT$N","^SFT$O","^SFT$P","^SFT$Q","^SFT$R","^SFT$S","^SFT$T","^SFT$U","^SFT$V","^SFT$W","^SFT$X","^SFT$Y","^SFT$Z","^SFT%A","^SFT%B","^SFT%C","^SFT%D","^SFT%E"," ","^SFT/A","^SFT/B","^SFT/C","$","%","^SFT/F","^SFT/G","^SFT/H","^SFT/I","^SFT/J","+","^SFT/L","-",".","/","0","1","2","3","4","5","6","7","8","9","^SFT/Z","^SFT%F","^SFT%G","^SFT%H","^SFT%I","^SFT%J","^SFT%V","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","^SFT%K","^SFT%L","^SFT%M","^SFT%N","^SFT%O","^SFT%W","^SFT+A","^SFT+B","^SFT+C","^SFT+D","^SFT+E","^SFT+F","^SFT+G","^SFT+H","^SFT+I","^SFT+J","^SFT+K","^SFT+L","^SFT+M","^SFT+N","^SFT+O","^SFT+P","^SFT+Q","^SFT+R","^SFT+S","^SFT+T","^SFT+U","^SFT+V","^SFT+W","^SFT+X","^SFT+Y","^SFT+Z","^SFT%P","^SFT%Q","^SFT%R","^SFT%S","^SFT%T"]),e.newcode=W(e.barlen*6),e.newtext=W(e.barlen*6),e.j=0,e.k=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){e.i=o;var u=c(e.barcode,e.i);r[t++]=u,u>127&&(t--,r[t++]="bwipp.code93extbadCharacter#8542",r[t++]="Code 93 Extended only support ASCII characters with values 0 to 127",z()),e.extchar=c(e.extencs,r[--t]),e.extlen=e.extchar.length,M(e.newcode,e.j,e.extchar);var f=c(e.barcode,e.i);r[t++]=e.newtext,r[t++]=e.k,r[t++]=f,(f<32||f==127)&&(r[t-1]=32);var h=r[--t],p=r[--t];g(r[--t],p,h),e.extlen!=1&&g(e.newtext,e.k+1,32),e.j=e.j+e.extlen;var m=e.extlen==1?1:2;e.k=e.k+m}e.newcode=C(e.newcode,0,e.j),e.newtext=C(e.newtext,0,e.k),g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.newcode,r[t++]=e.options,Ew();var x=r[--t];if(e[r[--t]]=x,e.includetext){e.txt=c(e.args,"txt");for(var b=0,y=e.newtext.length-1;b<=y;b+=1)e.i=b,e.txtentry=c(e.txt,e.i),g(e.txtentry,0,C(e.newtext,e.i,1)),g(e.txt,e.i,e.txtentry);g(e.args,"txt",e.txt)}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function Ou(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],ge(e.barcode,function(){var j=r[--t];(j<48||j>57)&&(r[t++]="bwipp.interleaved2of5badCharacter#8628",r[t++]="Interleaved 2 of 5 must contain only digits",z())}),e.barlen=e.barcode.length,(e.barlen%2==0&&e.includecheck||e.barlen%2!=0&&!e.includecheck)&&(e.pad=W(e.barlen+1),g(e.pad,0,48),M(e.pad,1,e.barcode),e.barcode=e.pad,e.barlen=e.barlen+1),e.includecheck){e.checksum=0;for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.i%2==0?e.checksum=e.checksum+(c(e.barcode,e.i)-48)*3:e.checksum=e.checksum+(c(e.barcode,e.i)-48);e.checksum=(10-e.checksum%10)%10,e.pad=W(e.barlen+1),M(e.pad,0,e.barcode),g(e.pad,e.barlen,e.checksum+48),e.barcode=e.pad,e.barlen=e.barlen+1}e.encs=s(["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121","1111","2111"]),e.barchars="0123456789",e.sbs=W(e.barlen*5+8),e.txt=s(e.barlen),M(e.sbs,0,c(e.encs,10));for(var o=0,d=e.barlen-1;o<=d;o+=2){e.i=o,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enca=c(e.encs,e.indx),It(e.barchars,C(e.barcode,e.i+1,1)),t--,e.indx=r[--t].length,t-=2,e.encb=c(e.encs,e.indx),e.intl=W(e.enca.length*2);for(var u=0,f=e.enca.length-1;u<=f;u+=1)e.j=u,e.achar=c(e.enca,e.j),e.bchar=c(e.encb,e.j),g(e.intl,e.j*2,e.achar),g(e.intl,e.j*2+1,e.bchar);M(e.sbs,e.i*5+4,e.intl),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*9+4,e.textyoffset,e.textfont,e.textsize])),e.includecheck&&!e.includecheckintext&&e.barlen-2==e.i?g(e.txt,e.i+1,s([" ",(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.i+1,s([C(e.barcode,e.i+1,1),(e.i+1)*9+4,e.textyoffset,e.textfont,e.textsize]))}M(e.sbs,e.barlen*5+4,c(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var h=e.sbs,p=0,m=h.length;p<m;p++)r[t++]=c(h,p)-48;var x=s();r[t++]=1/0;for(var b=0,y=~~((e.sbs.length+1)/2);b<y;b++)r[t++]=e.height;var w=s();r[t++]=1/0;for(var v=0,A=~~((e.sbs.length+1)/2);v<A;v++)r[t++]=0;var k=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=x,r[t++]="bhs",r[t++]=w,r[t++]="bbs",r[t++]=k,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="barratio",r[t++]=2,r[t++]="spaceratio",r[t++]=2,r[t++]="opt",r[t++]=e.options;var E=$e();r[t++]=E,e.dontdraw||Bt(),e=a}function FT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!0,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-3.5,e.height=.5,e.showborder=!0,e.borderwidth=4,e.borderleft=10,e.borderright=10,e.bordertop=-.55,e.borderbottom=-.55,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.text=e.barcode;var n=e.barcode;r[t++]=W(n.length),r[t++]=0,ge(n,function(){var E=r[t-1];if(E!=32){var j=r[--t],N=r[--t],B=r[t-1];g(B,N,j),r[t++]=N+1}else t--});var i=r[--t];e.barcode=C(r[--t],0,i),e.hasspace=e.text.length!=e.barcode.length,e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.itf14badLength#8796",r[t++]="ITF-14 must be 13 or 14 digits",z());for(var o=e.barcode,d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t++]="bwipp.itf14badCharacter#8800",r[t++]="ITF-14 must contain only digits",z())}e.checksum=0;for(var h=0;h<=12;h+=1){if(e.i=h,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var p=r[--t];r[t++]=p*3}var m=r[--t],x=r[--t];e[r[--t]]=S(x+m)}if(e.checksum=(10-e.checksum%10)%10,e.barcode.length==14)c(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.itf14badCheckDigit#8813",r[t++]="Incorrect ITF-14 check digit provided",z());else{var b=W(14);M(b,0,e.barcode),g(b,13,e.checksum+48),e.barcode=b;var y=e.hasspace?2:1,w=W(e.text.length+y);M(w,w.length-2," "),g(w,w.length-1,e.checksum+48),M(w,0,e.text),e.text=w}var v=e.options;g(v,"dontdraw",!0),g(e.options,"showborder",e.showborder),g(e.options,"borderwidth",e.borderwidth),g(e.options,"borderleft",e.borderleft),g(e.options,"borderright",e.borderright);var A=e.options;g(A,"bordertop",e.bordertop),g(e.options,"borderbottom",e.borderbottom),g(e.options,"height",e.height),g(e.options,"textyoffset",e.textyoffset),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ou();var k=r[--t];e[r[--t]]=k,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function _T(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=11&&e.barcode.length!=12&&(r[t++]="bwipp.identcodeBadLength#8891",r[t++]="Deutsche Post Identcode must be 11 or 12 digits",z()),ge(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.identcodeBadCharacter#8895",r[t++]="Deutsche Post Identcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=10;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var d=r[--t],u=r[--t];e[r[--t]]=S(u+d)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==12&&c(e.barcode,11)!=e.checksum+48&&(r[t++]="bwipp.identcodeBadCheckDigit#8908",r[t++]="Incorrect Deutsche Post Identcode check digit provided",z());var f=W(12);M(f,0,e.barcode),g(f,11,e.checksum+48),e.barcode=f,e.text=Fr(W(16),"  .       .     "),M(e.text,0,C(e.barcode,0,2)),M(e.text,3,C(e.barcode,2,3)),M(e.text,7,C(e.barcode,5,3)),M(e.text,11,C(e.barcode,8,3)),M(e.text,15,C(e.barcode,11,1)),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Ou();var p=r[--t];e[r[--t]]=p;var m=e.textsize;g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function PT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=13&&e.barcode.length!=14&&(r[t++]="bwipp.leitcodeBadLength#8981",r[t++]="Deutsche Post Leitcode must be 13 or 14 digits",z()),ge(e.barcode,function(){var x=r[--t];(x<48||x>57)&&(r[t++]="bwipp.leitcodeBadCharacter#8985",r[t++]="Deutsche Post Leitcode must contain only digits",z())}),e.checksum=0;for(var n=0;n<=12;n+=1){if(e.i=n,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,e.i%2==0){var i=r[--t];r[t++]=i*4}else{var o=r[--t];r[t++]=o*9}var d=r[--t],u=r[--t];e[r[--t]]=S(u+d)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==14&&c(e.barcode,13)!=e.checksum+48&&(r[t++]="bwipp.leitcodeBadCheckDigit#8998",r[t++]="Incorrect Deutsche Post Leitcode check digit provided",z());var f=W(14);M(f,0,e.barcode),g(f,13,e.checksum+48),e.barcode=f,e.text=Fr(W(18),"     .   .   .    "),M(e.text,0,C(e.barcode,0,5)),M(e.text,6,C(e.barcode,5,3)),M(e.text,10,C(e.barcode,8,3)),M(e.text,14,C(e.barcode,11,2)),M(e.text,17,C(e.barcode,13,1)),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1);var h=e.barcode;r[t++]="args",r[t++]=h,r[t++]=e.options,Ou();var p=r[--t];e[r[--t]]=p;var m=e.textsize;g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,m])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function u2(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=33/72,e.linkage=!1,e.format="omni",e.barxmult=33,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databaromniBadLength#9070",r[t++]="GS1 DataBar Omnidirectional must be 13 or 14 digits",z()),Me(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databaromniBadAI#9073",r[t++]="GS1 DataBar Omnidirectional must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databaromniBadCharacter#9077",r[t++]="GS1 DataBar Omnidirectional must contain only digits",z())}e.barxmult<33&&(r[t++]="bwipp.databarStackedOmniBarXmult#9082",r[t++]="GS1 DataBar Stacked Omnidirectional must have a barxmult of at least 33",z()),Me(e.format,"omni")&&Me(e.format,"stacked")&&Me(e.format,"stackedomni")&&Me(e.format,"truncated")&&(r[t++]="bwipp.databaromniBadFormat#9086",r[t++]="Valid formats are omni, stacked, stackedomni and truncated",z()),Y(e.format,"truncated")&&(e.height=13/72),e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databaromniBadCheckDigit#9102",r[t++]="Incorrect GS1 DataBar Omnidirectional check digit provided",z());var m=W(18);M(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,e.txt=s(e.barcode.length);for(var x=0,b=e.barcode.length-1;x<=b;x+=1)e.i=x,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var jt=r[--t],P=r[--t],V=S(P-jt);if(jt<S(P-jt)){var q=V;V=jt,jt=q}r[t++]=V,r[t++]=1,r[t++]=1;for(var ne=P,ue=jt+1;ne>=ue;ne-=1){var be=r[--t],re=r[t-1],Se=r[t-2];if(r[t++]=be*ne,dc(re,Se)){var X=r[--t],ve=r[--t];r[t++]=ve+1,r[t++]=~~(X/ve)}}for(;;){var me=r[t-2],je=r[t-3];if(B1(me,je))break;var le=r[--t],ye=r[--t];r[t++]=ye+1,r[t++]=~~(le/ye)}var Ie=r[--t];r[t-1]=Ie;var pe=r[--t];r[t-1]=pe},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var jt=0,P=e.el-2;jt<=P;jt+=1){e.bar=jt,e.ew=1;var V=e.bar;for(e.mask=e.mask|(V<0?1>>>-V:1<<V);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var q=r[--t];if(e[r[--t]]=q,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var ne=r[--t],ue=r[--t];e[r[--t]]=S(ue-ne)}if(S(e.el-e.bar)>2){e.lval=0;for(var be=S(e.nm-e.ew-e.el+e.bar)+2,re=e.mw+1;be>=re;be-=1)r[t++]=S(e.nm-be-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var Se=e.bar;e.mask=e.mask&~(Se<0?1>>>-Se:1<<Se)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out},r[t++]=1/0;var y=e.linkage?1:0,w=C(e.barcode,4,13);r[t++]=y;for(var v=0,A=w.length;v<A;v++)r[t++]=c(w,v)-48;e.binval=s();for(var k=0;k<=12;k+=1){e.i=k;var E=e.binval,j=e.i;g(E,j+1,S(c(E,j+1)+c(e.binval,e.i)%4537077*10)),g(e.binval,e.i,~~(c(e.binval,e.i)/4537077))}e.right=c(e.binval,13)%4537077;var N=e.binval;g(N,13,~~(c(N,13)/4537077)),e.left=0,e.i=!0;for(var B=0;B<=13;B+=1){e.j=B;var I=c(e.binval,e.j);if(r[t++]=I,I==0&&e.i)t--;else{e.i=!1,r[t++]="left",r[t++]=e.left;var D=r[t-3],T=r[t-1];e[r[t-2]]=S(T+D*~~li(10,13-e.j)),t-=3}}for(e.d1=~~(e.left/1597),e.d2=e.left%1597,e.d3=~~(e.right/1597),e.d4=e.right%1597,e.tab164=s([160,0,12,4,8,1,161,1,960,161,10,6,6,3,80,10,2014,961,8,8,4,5,31,34,2714,2015,6,10,3,6,10,70,2840,2715,4,12,1,8,1,126]),e.tab154=s([335,0,5,10,2,7,4,84,1035,336,7,8,4,5,20,35,1515,1036,9,6,6,3,48,10,1596,1516,11,4,8,1,81,1]),e.i=0;;){if(e.d1<=c(e.tab164,e.i)){O(C(e.tab164,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=c(e.tab154,e.i)){O(C(e.tab154,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d3<=c(e.tab164,e.i)){O(C(e.tab164,e.i+1,7)),e.d3te=r[--t],e.d3to=r[--t],e.d3mwe=r[--t],e.d3mwo=r[--t],e.d3ele=r[--t],e.d3elo=r[--t],e.d3gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d4<=c(e.tab154,e.i)){O(C(e.tab154,e.i+1,7)),e.d4te=r[--t],e.d4to=r[--t],e.d4mwe=r[--t],e.d4mwo=r[--t],e.d4ele=r[--t],e.d4elo=r[--t],e.d4gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var R=r[--t];e[r[--t]]=R,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var $=r[--t];e[r[--t]]=$,r[t++]="d2wo",r[t++]=S(e.d2-e.d2gs)%e.d2to,r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d2we",r[t++]=~~(S(e.d2-e.d2gs)/e.d2to),r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d3wo",r[t++]=~~(S(e.d3-e.d3gs)/e.d3te),r[t++]=e.d3elo,r[t++]=e.d3mwo,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d3we",r[t++]=S(e.d3-e.d3gs)%e.d3te,r[t++]=e.d3ele,r[t++]=e.d3mwe,r[t++]=4,r[t++]=!0,e.getRSSwidths();var H=r[--t];e[r[--t]]=H,r[t++]="d4wo",r[t++]=S(e.d4-e.d4gs)%e.d4to,r[t++]=e.d4elo,r[t++]=e.d4mwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var J=r[--t];e[r[--t]]=J,r[t++]="d4we",r[t++]=~~(S(e.d4-e.d4gs)/e.d4to),r[t++]=e.d4ele,r[t++]=e.d4mwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var K=r[--t];e[r[--t]]=K,e.d1w=s(8);for(var he=0;he<=3;he+=1)e.i=he,g(e.d1w,e.i*2,c(e.d1wo,e.i)),g(e.d1w,e.i*2+1,c(e.d1we,e.i));e.d2w=s(8);for(var G=0;G<=3;G+=1)e.i=G,g(e.d2w,7-e.i*2,c(e.d2wo,e.i)),g(e.d2w,6-e.i*2,c(e.d2we,e.i));e.d3w=s(8);for(var L=0;L<=3;L+=1)e.i=L,g(e.d3w,7-e.i*2,c(e.d3wo,e.i)),g(e.d3w,6-e.i*2,c(e.d3we,e.i));e.d4w=s(8);for(var ce=0;ce<=3;ce+=1)e.i=ce,g(e.d4w,e.i*2,c(e.d4wo,e.i)),g(e.d4w,e.i*2+1,c(e.d4we,e.i));r[t++]=1/0,O(e.d1w),O(e.d2w),O(e.d3w),O(e.d4w),e.widths=s(),e.checkweights=s([1,3,9,27,2,6,18,54,58,72,24,8,29,36,12,4,74,51,17,32,37,65,48,16,64,34,23,69,49,68,46,59]),e.checkwidths=s([3,8,2,1,1,3,5,5,1,1,3,3,7,1,1,3,1,9,1,1,2,7,4,1,1,2,5,6,1,1,2,3,8,1,1,1,5,7,1,1,1,3,9,1,1]),e.checksum=0;for(var fe=0;fe<=31;fe+=1)e.i=fe,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweights,e.i));e.checksum=e.checksum%79,e.checksum>=8&&(e.checksum=e.checksum+1),e.checksum>=72&&(e.checksum=e.checksum+1),e.checklt=C(e.checkwidths,~~(e.checksum/9)*5,5),e.checkrtrev=C(e.checkwidths,e.checksum%9*5,5),e.checkrt=s(5);for(var U=0;U<=4;U+=1)e.i=U,g(e.checkrt,e.i,c(e.checkrtrev,4-e.i));if(Y(e.format,"omni")||Y(e.format,"truncated")){r[t++]=1/0,r[t++]=1,O(e.d1w),O(e.checklt),O(e.d2w),O(e.d4w),O(e.checkrt),O(e.d3w),r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var ee=e.sbs;r[t++]=1/0;for(var se=0,de=~~((e.sbs.length+1)/2);se<de;se++)r[t++]=e.height;var ke=s();r[t++]=1/0;for(var ae=0,De=~~((e.sbs.length+1)/2);ae<De;ae++)r[t++]=0;var we=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ee,r[t++]="bhs",r[t++]=ke,r[t++]="bbs",r[t++]=we,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Ae=$e();r[t++]=Ae,e.dontdraw||Bt()}else{r[t++]=1/0,r[t++]=1,r[t++]=1,O(e.d1w),O(e.checklt),O(e.d2w),r[t++]=1,r[t++]=1,r[t++]=0,e.top=s(),r[t++]=1/0,r[t++]=1,r[t++]=1,O(e.d4w),O(e.checkrt),O(e.d3w),r[t++]=1,r[t++]=1,r[t++]=0,e.bot=s();for(var Le=0;Le<=24;Le+=2){e.i=Le;for(var xe=0,Oe=c(e.top,e.i);xe<Oe;xe++)r[t++]=0;for(var Te=0,Pe=c(e.top,e.i+1);Te<Pe;Te++)r[t++]=1}Vt(s(50)),e.top=r[--t];for(var Ue=0;Ue<=24;Ue+=2){e.i=Ue;for(var Ze=0,te=c(e.bot,e.i);Ze<te;Ze++)r[t++]=1;for(var oe=0,Re=c(e.bot,e.i+1);oe<Re;oe++)r[t++]=0}if(Vt(s(50)),e.bot=r[--t],Y(e.format,"stacked")){e.sep=s(50),g(e.sep,0,0);for(var ze=1;ze<=49;ze+=1)e.i=ze,Y(c(e.top,e.i),c(e.bot,e.i))?g(e.sep,e.i,1-c(e.top,e.i)):g(e.sep,e.i,1-c(e.sep,e.i-1));M(e.sep,0,s([0,0,0,0])),M(e.sep,46,s([0,0,0,0])),r[t++]=1/0;for(var Je=0;Je<5;Je++)O(e.top);O(e.sep);for(var Qe=0;Qe<7;Qe++)O(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}if(Y(e.format,"stackedomni")){r[t++]=1/0,ge(e.top,function(){var jt=r[--t];r[t++]=1-jt}),e.sep1=s(),M(e.sep1,0,s([0,0,0,0])),M(e.sep1,46,s([0,0,0,0]));for(var qe=18;qe<=30;qe+=1){if(e.i=qe,c(e.top,e.i)==0)if(c(e.top,e.i-1)==1)r[t++]=1;else{var ut=c(e.sep1,e.i-1)==0?1:0;r[t++]=ut}else r[t++]=0;g(e.sep1,e.i,r[--t])}r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var mt=0;mt<21;mt++)r[t++]=0,r[t++]=1;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,e.sep2=s(),r[t++]=1/0,ge(e.bot,function(){var jt=r[--t];r[t++]=1-jt}),e.sep3=s(),M(e.sep3,0,s([0,0,0,0])),M(e.sep3,46,s([0,0,0,0]));for(var lt=19;lt<=31;lt+=1){if(e.i=lt,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var vt=c(e.sep3,e.i-1)==0?1:0;r[t++]=vt}else r[t++]=0;g(e.sep3,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var St=0;St<=12;St+=1){var kt=r[--t];r[t++]=kt&&Y(c(e.bot,St+19),c(e.f3,St))}r[--t]&&M(e.sep3,19,s([0,0,0,0,0,0,0,0,0,0,1,0,0])),r[t++]=1/0;for(var wt=0,Pt=e.barxmult;wt<Pt;wt++)O(e.top);O(e.sep1),O(e.sep2),O(e.sep3);for(var Mt=0,Lt=e.barxmult;Mt<Lt;Mt++)O(e.bot);e.pixs=s(),e.pixy=~~(e.pixs.length/50)}var Dt=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",50],["pixy",e.pixy],["height",e.pixy/72],["width",50/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Dt,e.dontdraw||xt()}e=a}function Cw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedBadLength#9532",r[t++]="GS1 DataBar Stacked must be 13 or 14 digits",z()),Me(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedBadAI#9535",r[t++]="GS1 DataBar Stacked must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databarstackedBadCharacter#9539",r[t++]="GS1 DataBar Stacked must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedBadCheckDigit#9552",r[t++]="Incorrect GS1 DataBar Stacked check digit provided",z());var m=W(18);M(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","stacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,u2();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function Iw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],Me(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarstackedomniBadAI#9610",r[t++]="GS1 DataBar Stacked Omnidirectional must begin with (01) application identifier",z()),e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarstackedomniBadLength#9613",r[t++]="GS1 DataBar Stacked Omnidirectional must be 13 or 14 digits",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databarstackedomniBadCharacter#9617",r[t++]="GS1 DataBar Stacked Omnidirectional must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarstackedomniBadCheckDigit#9630",r[t++]="Incorrect GS1 DataBar Stacked Omnidirectional check digit provided",z());var m=W(18);M(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","stackedomni"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,u2();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function Bw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databartruncatedBadLength#9688",r[t++]="GS1 DataBar Truncated must be 13 or 14 digits",z()),Me(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databartruncatedBadAI#9691",r[t++]="GS1 DataBar Truncated must begin with (01) application identifier",z());for(var n=C(e.barcode,4,e.barcode.length-4),i=0,o=n.length;i<o;i++){var d=c(n,i);(d<48||d>57)&&(r[t++]="bwipp.databartruncatedBadCharacter#9695",r[t++]="GS1 DataBar Truncated must contain only digits",z())}e.checksum=0;for(var u=0;u<=12;u+=1){if(e.i=u,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var f=r[--t];r[t++]=f*3}var h=r[--t],p=r[--t];e[r[--t]]=S(p+h)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databartruncatedBadCheckDigit#9708",r[t++]="Incorrect GS1 DataBar Truncated check digit provided",z());var m=W(18);M(m,0,e.barcode),g(m,17,e.checksum+48),e.barcode=m,g(e.options,"dontdraw",!0),g(e.options,"format","truncated"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,u2();var x=r[--t];e[r[--t]]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function Dw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=10/72,e.linkage=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length!=17&&e.barcode.length!=18&&(r[t++]="bwipp.databarlimitedBadLength#9771",r[t++]="GS1 DataBar Limited must be 13 or 14 digits",z()),Me(C(e.barcode,0,4),"(01)")&&(r[t++]="bwipp.databarlimitedBadAI#9774",r[t++]="GS1 DataBar Limited must begin with (01) application identifier",z());var n=c(e.barcode,4);(n<48||n>49)&&(r[t++]="bwipp.databarlimitedBadStartDigit#9777",r[t++]="GS1 DataBar Limited must begin with 0 or 1",z());for(var i=C(e.barcode,5,e.barcode.length-5),o=0,d=i.length;o<d;o++){var u=c(i,o);(u<48||u>57)&&(r[t++]="bwipp.databarlimitedBadCharacter#9781",r[t++]="GS1 DataBar Limited must contain only digits",z())}e.checksum=0;for(var f=0;f<=12;f+=1){if(e.i=f,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i+4)-48,e.i%2==0){var h=r[--t];r[t++]=h*3}var p=r[--t],m=r[--t];e[r[--t]]=S(m+p)}e.checksum=(10-e.checksum%10)%10,e.barcode.length==18&&c(e.barcode,17)!=e.checksum+48&&(r[t++]="bwipp.databarlimitedBadCheckDigit#9794",r[t++]="Incorrect GS1 DataBar Limited check digit provided",z());var x=W(18);M(x,0,e.barcode),g(x,17,e.checksum+48),e.barcode=x,e.linkval=s([2,0,1,5,1,3,3,5,3,1,0,9,6]),r[t++]=1/0;for(var b=C(e.barcode,4,13),y=0,w=b.length;y<w;y++)r[t++]=c(b,y)-48;if(e.binval=s(),e.linkage)for(var v=0,A=e.binval.length-1;v<=A;v+=1)e.i=v,g(e.binval,e.i,S(c(e.binval,e.i)+c(e.linkval,e.i)));e.txt=s(e.barcode.length);for(var k=0,E=e.barcode.length-1;k<=E;k+=1)e.i=k,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.ncr=function(){var Ue=r[--t],Ze=r[--t],te=S(Ze-Ue);if(Ue<S(Ze-Ue)){var oe=te;te=Ue,Ue=oe}r[t++]=te,r[t++]=1,r[t++]=1;for(var Re=Ze,ze=Ue+1;Re>=ze;Re-=1){var Je=r[--t],Qe=r[t-1],qe=r[t-2];if(r[t++]=Je*Re,dc(Qe,qe)){var ut=r[--t],mt=r[--t];r[t++]=mt+1,r[t++]=~~(ut/mt)}}for(;;){var lt=r[t-2],vt=r[t-3];if(B1(lt,vt))break;var St=r[--t],kt=r[--t];r[t++]=kt+1,r[t++]=~~(St/kt)}var wt=r[--t];r[t-1]=wt;var Pt=r[--t];r[t-1]=Pt},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var Ue=0,Ze=e.el-2;Ue<=Ze;Ue+=1){e.bar=Ue,e.ew=1;var te=e.bar;for(e.mask=e.mask|(te<0?1>>>-te:1<<te);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var oe=r[--t];if(e[r[--t]]=oe,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Re=r[--t],ze=r[--t];e[r[--t]]=S(ze-Re)}if(S(e.el-e.bar)>2){e.lval=0;for(var Je=S(e.nm-e.ew-e.el+e.bar)+2,Qe=e.mw+1;Je>=Qe;Je-=1)r[t++]=S(e.nm-Je-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var qe=e.bar;e.mask=e.mask&~(qe<0?1>>>-qe:1<<qe)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out};for(var j=0;j<=11;j+=1){e.i=j;var N=e.binval,B=e.i;g(N,B+1,S(c(N,B+1)+c(e.binval,e.i)%2013571*10)),g(e.binval,e.i,~~(c(e.binval,e.i)/2013571))}e.d2=c(e.binval,12)%2013571;var I=e.binval;g(I,12,~~(c(I,12)/2013571)),e.d1=0,e.i=!0;for(var D=0;D<=12;D+=1){e.j=D;var T=c(e.binval,e.j);if(r[t++]=T,T==0&&e.i)t--;else{e.i=!1,r[t++]="d1",r[t++]=e.d1;var R=r[t-3],$=r[t-1];e[r[t-2]]=S($+R*~~li(10,12-e.j)),t-=3}}for(e.tab267=s([183063,0,17,9,6,3,6538,28,820063,183064,13,13,5,4,875,728,1000775,820064,9,17,3,6,28,6454,1491020,1000776,15,11,5,4,2415,203,1979844,1491021,11,15,4,5,203,2408,1996938,1979845,19,7,8,1,17094,1,2013570,1996939,7,19,1,8,1,16632]),e.i=0;;){if(e.d1<=c(e.tab267,e.i)){O(C(e.tab267,e.i+1,7)),e.d1te=r[--t],e.d1to=r[--t],e.d1mwe=r[--t],e.d1mwo=r[--t],e.d1ele=r[--t],e.d1elo=r[--t],e.d1gs=r[--t];break}e.i=e.i+8}for(e.i=0;;){if(e.d2<=c(e.tab267,e.i)){O(C(e.tab267,e.i+1,7)),e.d2te=r[--t],e.d2to=r[--t],e.d2mwe=r[--t],e.d2mwo=r[--t],e.d2ele=r[--t],e.d2elo=r[--t],e.d2gs=r[--t];break}e.i=e.i+8}r[t++]="d1wo",r[t++]=~~(S(e.d1-e.d1gs)/e.d1te),r[t++]=e.d1elo,r[t++]=e.d1mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var F=r[--t];e[r[--t]]=F,r[t++]="d1we",r[t++]=S(e.d1-e.d1gs)%e.d1te,r[t++]=e.d1ele,r[t++]=e.d1mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var _=r[--t];e[r[--t]]=_,r[t++]="d2wo",r[t++]=~~(S(e.d2-e.d2gs)/e.d2te),r[t++]=e.d2elo,r[t++]=e.d2mwo,r[t++]=7,r[t++]=!1,e.getRSSwidths();var Q=r[--t];e[r[--t]]=Q,r[t++]="d2we",r[t++]=S(e.d2-e.d2gs)%e.d2te,r[t++]=e.d2ele,r[t++]=e.d2mwe,r[t++]=7,r[t++]=!0,e.getRSSwidths();var H=r[--t];e[r[--t]]=H,e.d1w=s(14);for(var J=0;J<=6;J+=1)e.i=J,g(e.d1w,e.i*2,c(e.d1wo,e.i)),g(e.d1w,e.i*2+1,c(e.d1we,e.i));e.d2w=s(14);for(var K=0;K<=6;K+=1)e.i=K,g(e.d2w,e.i*2,c(e.d2wo,e.i)),g(e.d2w,e.i*2+1,c(e.d2we,e.i));r[t++]=1/0,O(e.d1w),O(e.d2w),e.widths=s(),e.checkweights=s([1,3,9,27,81,65,17,51,64,14,42,37,22,66,20,60,2,6,18,54,73,41,34,13,39,28,84,74]),r[t++]=1/0;for(var he=0;he<=43;he+=1)r[t++]=he;r[t++]=45,r[t++]=52,r[t++]=57;for(var G=63;G<=66;G+=1)r[t++]=G;for(var L=73;L<=79;L+=1)r[t++]=L;r[t++]=82;for(var ce=126;ce<=130;ce+=1)r[t++]=ce;r[t++]=132;for(var fe=141;fe<=146;fe+=1)r[t++]=fe;for(var U=210;U<=217;U+=1)r[t++]=U;r[t++]=220;for(var ee=316;ee<=320;ee+=1)r[t++]=ee;r[t++]=322,r[t++]=323,r[t++]=326,r[t++]=337,e.checkseq=s(),e.checksum=0;for(var se=0;se<=27;se+=1)e.i=se,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweights,e.i));e.checksum=e.checksum%89,e.seq=c(e.checkseq,e.checksum),r[t++]="swidths",r[t++]=~~(e.seq/21),r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var de=r[--t];e[r[--t]]=de,r[t++]="bwidths",r[t++]=e.seq%21,r[t++]=8,r[t++]=3,r[t++]=6,r[t++]=!1,e.getRSSwidths();var ke=r[--t];e[r[--t]]=ke,e.checkwidths=s([0,0,0,0,0,0,0,0,0,0,0,0,1,1]);for(var ae=0;ae<=5;ae+=1)e.i=ae,g(e.checkwidths,e.i*2,c(e.swidths,e.i)),g(e.checkwidths,e.i*2+1,c(e.bwidths,e.i));r[t++]=1/0,r[t++]=1,O(e.d1w),O(e.checkwidths),O(e.d2w),r[t++]=1,r[t++]=1,r[t++]=5,e.sbs=s(),r[t++]=1/0;var De=e.sbs;r[t++]=1/0;for(var we=0,Ae=~~((e.sbs.length+1)/2);we<Ae;we++)r[t++]=e.height;var Le=s();r[t++]=1/0;for(var xe=0,Oe=~~((e.sbs.length+1)/2);xe<Oe;xe++)r[t++]=0;var Te=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=De,r[t++]="bhs",r[t++]=Le,r[t++]="bbs",r[t++]=Te,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="opt",r[t++]=e.options;var Pe=$e();r[t++]=Pe,e.dontdraw||Bt(),e=a}function Hm(){var a=e;if(e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.height=34/72,e.format="expanded",e.segments=-1,e.linkage=!1,e.barxmult=34,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barxmult<34&&(r[t++]="bwipp.databarStackedOmniBarXmult#10075",r[t++]="GS1 DataBar Expanded Stacked must have a barxmult of at least 34",z()),Me(e.format,"expanded")&&Me(e.format,"expandedstacked")&&(r[t++]="bwipp.databarexpandedBadFormat#10079",r[t++]="Valid formats are expanded and expandedstacked",z()),e.segments==-1){var n=Y(e.format,"expandedstacked")?4:22;e.segments=n}else(e.segments<2||e.segments>22||e.segments%2!=0)&&(r[t++]="bwipp.gs1databarexpandedBadSegments#10086",r[t++]="The number of segments must be even from 2 to 22",z());for(r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t];;){if(e.ais.length==2&&Y(c(e.ais,0),"01")&&Y(c(e.ais,1),"3103")&&Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=32767){r[t++]="0100",r[t++]=!1;break}if(e.ais.length==2&&Y(c(e.ais,0),"01")&&Y(c(e.ais,1),"3202")&&Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=9999){r[t++]="0101",r[t++]=!1;break}if(e.ais.length==2&&Y(c(e.ais,0),"01")&&Y(c(e.ais,1),"3203")&&Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=22767){r[t++]="0101",r[t++]=!1;break}var i=e.ais.length;if(i==2||i==3){r[t++]="ai310x",r[t++]=!1;for(var o=3100;o<=3109;o+=1){var d=r[--t];r[t++]=d||Y($t(W(4),o,10),c(e.ais,1))}var u=r[--t];e[r[--t]]=u,r[t++]="ai320x",r[t++]=!1;for(var f=3200;f<=3209;f+=1){var h=r[--t];r[t++]=h||Y($t(W(4),f,10),c(e.ais,1))}var p=r[--t];if(e[r[--t]]=p,e.ais.length==3){var m=s(["11","13","15","17"]);r[t++]="aibad",r[t++]=!0;for(var x=0,b=m.length;x<b;x++){var y=r[--t];r[t++]=y&&Me(c(m,x),c(e.ais,2))}var w=r[--t];e[r[--t]]=w}else e.aibad=!1;if(Y(c(e.ais,0),"01")&&(e.ai310x||e.ai320x)&&!e.aibad){if(e.ais.length==3){var v=Fe(C(c(e.vals,2),2,2)),A=Fe(C(c(e.vals,2),4,2));if(Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=99999&&v>=1&&v<=12&&A>=0&&A<=31){if(e.ai310x&&Y(c(e.ais,2),"11")){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"11")){r[t++]="0111001",r[t++]=!1;break}if(e.ai310x&&Y(c(e.ais,2),"13")){r[t++]="0111010",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"13")){r[t++]="0111011",r[t++]=!1;break}if(e.ai310x&&Y(c(e.ais,2),"15")){r[t++]="0111100",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"15")){r[t++]="0111101",r[t++]=!1;break}if(e.ai310x&&Y(c(e.ais,2),"17")){r[t++]="0111110",r[t++]=!1;break}if(e.ai320x&&Y(c(e.ais,2),"17")){r[t++]="0111111",r[t++]=!1;break}}}else if(Y(C(c(e.vals,0),0,1),"9")&&Fe(c(e.vals,1))<=99999){if(e.ai310x){r[t++]="0111000",r[t++]=!1;break}if(e.ai320x){r[t++]="0111001",r[t++]=!1;break}}}}if(e.ais.length>=2){r[t++]="ai392x",r[t++]=!1;for(var k=3920;k<=3923;k+=1){var E=r[--t];r[t++]=E||Y($t(W(4),k,10),c(e.ais,1))}var j=r[--t];if(e[r[--t]]=j,Y(c(e.ais,0),"01")&&e.ai392x&&Y(C(c(e.vals,0),0,1),"9")){r[t++]="01100",r[t++]=!0;break}}if(e.ais.length>=2){r[t++]="ai393x",r[t++]=!1;for(var N=3930;N<=3933;N+=1){var B=r[--t];r[t++]=B||Y($t(W(4),N,10),c(e.ais,1))}var I=r[--t];if(e[r[--t]]=I,Y(c(e.ais,0),"01")&&e.ai393x&&Y(C(c(e.vals,0),0,1),"9")){r[t++]="01101",r[t++]=!0;break}}if(Y(c(e.ais,0),"01")){r[t++]="1",r[t++]=!0;break}r[t++]="00",r[t++]=!0;break}if(e.gpfallow=r[--t],e.method=r[--t],e.conv12to40=function(){var rr=Fr(W(40),"0000000000000000000000000000000000000000"),wr=r[--t],Nr=$t(W(10),Fe(C(wr,0,3)),2);M(C(rr,0,10),10-Nr.length,Nr);var ea=$t(W(10),Fe(C(wr,3,3)),2);M(C(rr,10,10),10-ea.length,ea);var Or=$t(W(10),Fe(C(wr,6,3)),2);M(C(rr,20,10),10-Or.length,Or);var na=$t(W(10),Fe(C(wr,9,3)),2);M(C(rr,30,10),10-na.length,na),r[t++]=rr},e.conv13to44=function(){var rr=Fr(W(44),"00000000000000000000000000000000000000000000"),wr=r[--t],Nr=$t(W(4),Fe(C(wr,0,1)),2);M(C(rr,0,4),4-Nr.length,Nr),r[t++]=rr,r[t++]=rr,r[t++]=C(wr,1,12),e.conv12to40();var ea=r[--t];M(r[--t],4,ea)},e.tobin=function(){var rr=W(r[--t]);r[t++]=rr;for(var wr=0,Nr=rr.length-1;wr<=Nr;wr+=1){var ea=r[t-1];g(ea,wr,48)}var Or=r[t-1];r[t++]=Or;var na=r[t-3],Kr=r[t-1];r[t-3]=r[t-2],t-=2;var Za=$t(W(Kr.length),na,2);M(Kr,Kr.length-Za.length,Za)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,Y(e.method,"00")&&(e.cdf=s([]),e.gpf=s([])),Y(e.method,"1")){r[t++]="cdf",r[t++]=C(c(e.vals,0),0,13),e.conv13to44();var D=r[--t];e[r[--t]]=D,r[t++]=1/0;for(var T=e.cdf,R=0,$=T.length;R<$;R++)r[t++]=c(T,R)-48;e.cdf=s(),e.gpf=s([]),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)}if(Y(e.method,"0100")){e.cdf=W(55),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var F=r[--t],_=r[--t];M(r[--t],_,F),r[t++]=e.cdf,r[t++]=40,r[t++]=Fe(c(e.vals,1)),r[t++]=15,e.tobin();var Q=r[--t],H=r[--t];M(r[--t],H,Q),r[t++]=1/0;for(var J=e.cdf,K=0,he=J.length;K<he;K++)r[t++]=c(J,K)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(Y(e.method,"0101")){e.cdf=W(55),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var G=r[--t],L=r[--t];M(r[--t],L,G),Y(c(e.ais,1),"3202")?(r[t++]=Fe(c(e.vals,1)),r[t++]=15,e.tobin()):(r[t++]=Fe(c(e.vals,1))+1e4,r[t++]=15,e.tobin()),M(e.cdf,40,r[--t]),r[t++]=1/0;for(var ce=e.cdf,fe=0,U=ce.length;fe<U;fe++)r[t++]=c(ce,fe)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(e.method.length==7){e.cdf=W(76),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var ee=r[--t],se=r[--t];M(r[--t],se,ee);var de=W(6);if(M(de,0,C(c(e.ais,1),3,1)),M(de,1,C(c(e.vals,1),1,5)),r[t++]=Fe(de),r[t++]=20,e.tobin(),M(e.cdf,40,r[--t]),e.ais.length==3){var ke=c(e.vals,2);r[t++]=Fe(C(ke,0,2))*384+((Fe(C(ke,2,2))-1)*32+Fe(C(ke,4,2)))}else r[t++]=38400;r[t++]=16,e.tobin(),M(e.cdf,60,r[--t]),r[t++]=1/0;for(var ae=e.cdf,De=0,we=ae.length;De<we;De++)r[t++]=c(ae,De)-48;e.cdf=s(),e.gpf=s([]),e.ais=s([]),e.vals=s([]),e.fncs=s([])}if(Y(e.method,"01100")){e.cdf=W(42),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var Ae=r[--t],Le=r[--t];M(r[--t],Le,Ae),r[t++]=e.cdf,r[t++]=40,r[t++]=Fe(C(c(e.ais,1),3,1)),r[t++]=2,e.tobin();var xe=r[--t],Oe=r[--t];M(r[--t],Oe,xe),r[t++]=1/0;for(var Te=e.cdf,Pe=0,Ue=Te.length;Pe<Ue;Pe++)r[t++]=c(Te,Pe)-48;e.cdf=s(),r[t++]=1/0,ge(c(e.vals,1)),e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=C(e.ais,2,e.ais.length-2),e.vals=C(e.vals,2,e.vals.length-2),e.fncs=C(e.fncs,2,e.fncs.length-2)}if(Y(e.method,"01101")){e.cdf=W(52),r[t++]=e.cdf,r[t++]=0,r[t++]=C(c(e.vals,0),1,12),e.conv12to40();var Ze=r[--t],te=r[--t];M(r[--t],te,Ze),r[t++]=e.cdf,r[t++]=40,r[t++]=Fe(C(c(e.ais,1),3,1)),r[t++]=2,e.tobin();var oe=r[--t],Re=r[--t];M(r[--t],Re,oe),r[t++]=e.cdf,r[t++]=42,r[t++]=Fe(C(c(e.vals,1),0,3)),r[t++]=10,e.tobin();var ze=r[--t],Je=r[--t];M(r[--t],Je,ze),r[t++]=1/0;for(var Qe=e.cdf,qe=0,ut=Qe.length;qe<ut;qe++)r[t++]=c(Qe,qe)-48;e.cdf=s(),r[t++]=1/0;for(var mt=c(e.vals,1),lt=C(mt,3,mt.length-3),vt=0,St=lt.length;vt<St;vt++)r[t++]=c(lt,vt);e.ais.length>2&&(r[t++]=e.fnc1),e.gpf=s(),e.ais=C(e.ais,2,e.ais.length-2),e.vals=C(e.vals,2,e.vals.length-2),e.fncs=C(e.fncs,2,e.fncs.length-2)}e.gpfallow?e.vlf=s(2):e.vlf=s([]),r[t++]=1/0;for(var kt=0;kt<=119;kt+=1){var wt=Fr(W(2),"00"),Pt=$t(W(2),kt,11);if(M(wt,2-Pt.length,Pt),r[t++]=kt,r[t++]=wt,c(wt,0)==65){var Mt=r[t-1];g(Mt,0,94)}var Lt=r[t-1];if(c(Lt,1)==65){var Dt=r[t-1];g(Dt,1,94)}var jt=r[--t],P=Fr(W(7),"0000000"),V=$t(W(7),r[--t]+8,2);M(P,7-V.length,V),r[t++]=jt,r[t++]=P}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=$e(),r[t++]=1/0;for(var q=48;q<=57;q+=1)r[t++]=q,r[t++]=q-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var ne=65;ne<=90;ne+=1)r[t++]=ne,r[t++]=ne-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var ue=44;ue<=47;ue+=1)r[t++]=ue,r[t++]=ue+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=$e(),r[t++]=1/0;for(var be=48;be<=57;be+=1)r[t++]=be,r[t++]=be-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var re=65;re<=90;re+=1)r[t++]=re,r[t++]=re-1,r[t++]=7,e.tobin();for(var Se=97;Se<=122;Se+=1)r[t++]=Se,r[t++]=Se-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var X=37;X<=47;X+=1)r[t++]=X,r[t++]=X+197,r[t++]=8,e.tobin();for(var ve=58;ve<=63;ve+=1)r[t++]=ve,r[t++]=ve+187,r[t++]=8,e.tobin();r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=$e();for(var me=0,je=e.ais.length-1;me<=je;me+=1){e.i=me,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var le=s(e.gpf.length+e.ai.length+e.val.length);M(le,0,e.gpf),r[t++]=le,r[t++]=le,r[t++]=e.gpf.length;var ye=1/0,Ie=e.ai;r[t++]=ye,ge(Ie);var pe=s(),Ce=r[--t];M(r[--t],Ce,pe);var Ne=r[t-1];r[t++]=Ne,r[t++]=e.gpf.length+e.ai.length;var Be=1/0,Ge=e.val;r[t++]=Be,ge(Ge);var He=s(),Xe=r[--t];if(M(r[--t],Xe,He),e.gpf=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var st=s(e.gpf.length+1);M(st,0,e.gpf),g(st,e.gpf.length,e.fnc1),e.gpf=st}}e.rembits=function(){var rr=r[--t],wr=48,Nr=~~xr(rr/12)*12;if(~~xr(rr/12)*12<48){var ea=wr;wr=Nr,Nr=ea}var Or=~~(Nr/12);if(r[t++]=rr,r[t++]=Nr,r[t++]=Or,Or%e.segments==1){var na=r[--t];r[t-1]=(na+1)*12}else t--;var Kr=r[--t],Za=r[--t];r[t++]=S(Kr-Za)},e.encode=function(){var rr=r[t-1];if(Me(rr,"raw")){var wr=r[--t],Nr=c(wr,r[--t]);r[t++]=Nr}else t--;var ea=r[t-1];ea.length+e.j>=252&&(t--,r[t++]="bwipp.gs1databarexpandedTooLong#10374",r[t++]="Maximum length exceeded",z()),r[t++]=1/0;var Or=r[--t],na=r[--t];r[t++]=Or,ge(na,function(){var Za=r[--t];r[t++]=Za-48});var Kr=s();M(e.gpfenc,e.j,Kr),e.j=Kr.length+e.j},r[t++]=1/0;for(var at=0,Ee=e.gpf.length;at<Ee;at++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var Ve=0,Ye=e.gpf.length;Ve<Ye;Ve++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var et=0,ht=e.gpf.length;et<ht;et++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var pt=e.gpf.length-1;pt>=0;pt-=1){e.i=pt;var ft=Fr(W(2),"00"),gt=c(e.gpf,e.i);r[t++]=c(e.gpf,e.i),r[t++]=ft,r[t++]=ft,r[t++]=0,r[t++]=gt,gt==e.fnc1&&(r[t-1]=94);var nt=r[--t],Tt=r[--t];if(g(r[--t],Tt,nt),e.i<e.gpf.length-1){var tt=r[t-1],Qt=c(e.gpf,e.i+1);r[t++]=tt,r[t++]=1,r[t++]=Qt,Qt==e.fnc1&&(r[t-1]=94);var Ht=r[--t],Ot=r[--t];g(r[--t],Ot,Ht)}var sr=c(e.numeric,r[--t])!==void 0;sr?g(e.numericruns,e.i,c(e.numericruns,e.i+2)+2):g(e.numericruns,e.i,0);var Sr=r[t-1],nr=c(e.alphanumeric,Sr)!==void 0;nr?g(e.alphanumericruns,e.i,c(e.alphanumericruns,e.i+1)+1):g(e.alphanumericruns,e.i,0);var gr=r[--t],ar=c(e.iso646,gr)!==void 0,Ir=c(e.alphanumeric,gr)!==void 0;ar&&!Ir?g(e.nextiso646only,e.i,0):g(e.nextiso646only,e.i,c(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(252),e.i=0,e.j=0,e.mode="numeric";e.i!=e.gpf.length;)for(;;){if(Y(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var Zt=W(2),dr=c(e.gpf,e.i);r[t++]=Zt,r[t++]=Zt,r[t++]=0,r[t++]=dr,dr==e.fnc1&&(r[t-1]=94);var Kt=r[--t],Jt=r[--t];g(r[--t],Jt,Kt);var ur=r[t-1],Tr=c(e.gpf,e.i+1);r[t++]=ur,r[t++]=1,r[t++]=Tr,Tr==e.fnc1&&(r[t-1]=94);var _r=r[--t],ua=r[--t];g(r[--t],ua,_r);var Ct=r[t-1],qt=c(e.numeric,Ct)!==void 0;if(qt){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var tr=c(e.gpf,e.i);if(tr<48||tr>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=13+e.method.length+e.vlf.length+e.cdf.length+e.j,e.rembits();var br=r[--t];if(e[r[--t]]=br,e.rem>=4&&e.rem<=6){var ir=C(Fr(W(6),"000000"),0,e.rem),Br=$t(W(4),c(e.gpf,e.i)-47,2);M(ir,4-Br.length,Br),r[t++]=ir,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var or=W(2);g(or,0,c(e.gpf,e.i)),g(or,1,94),r[t++]=or,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(Y(e.mode,"alphanumeric")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var Ut=c(e.gpf,e.i),yr=c(e.iso646,Ut)!==void 0,ta=c(e.alphanumeric,Ut)!==void 0;if(yr&&!ta){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(c(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var fa=c(e.numericruns,e.i);if(fa>=4&&S(fa+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(Y(e.mode,"iso646")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(c(e.numericruns,e.i)>=4&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(c(e.alphanumericruns,e.i)>=5&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=C(e.gpfenc,0,e.j);var wa=13+e.method.length+e.vlf.length+e.cdf.length+e.gpf.length;r[t++]=wa,r[t++]=wa,e.rembits();var Lr=r[--t];if(e.pad=s(Lr),r[t++]=Lr,e.vlf.length!=0){var Ea=r[--t],ga=~~(S(r[--t]+Ea)/12);g(e.vlf,0,ga%2);var Ra=ga<=14?0:1;g(e.vlf,1,Ra)}else t-=2;if(e.pad.length>0){for(var la=0,Aa=e.pad.length-1;la<=Aa;la+=5){e.i=la;var Ca=e.pad,ka=e.i,La=s([0,0,1,0,0]),Qa=e.pad,Va=e.i,ps=5,Ia=Qa.length-Va;if(Qa.length-Va>5){var Bs=ps;ps=Ia,Ia=Bs}M(Ca,ka,C(La,0,Ia))}Y(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=C(s(),0,e.pad.length))}r[t++]=1/0;var Ha=e.linkage?1:0;r[t++]=Ha,ge(e.method,function(){var rr=r[--t];r[t++]=rr-48}),O(e.vlf),O(e.cdf),O(e.gpf),O(e.pad),e.binval=s(),e.datalen=~~(e.binval.length/12),e.ncr=function(){var rr=r[--t],wr=r[--t],Nr=S(wr-rr);if(rr<S(wr-rr)){var ea=Nr;Nr=rr,rr=ea}r[t++]=Nr,r[t++]=1,r[t++]=1;for(var Or=wr,na=rr+1;Or>=na;Or-=1){var Kr=r[--t],Za=r[t-1],es=r[t-2];if(r[t++]=Kr*Or,dc(Za,es)){var Gs=r[--t],bn=r[--t];r[t++]=bn+1,r[t++]=~~(Gs/bn)}}for(;;){var Rn=r[t-2],Ln=r[t-3];if(B1(Rn,Ln))break;var Qn=r[--t],yn=r[--t];r[t++]=yn+1,r[t++]=~~(Qn/yn)}var fi=r[--t];r[t-1]=fi;var Hn=r[--t];r[t-1]=Hn},e.getRSSwidths=function(){e.oe=r[--t],e.el=r[--t],e.mw=r[--t],e.nm=r[--t],e.val=r[--t],e.out=s(e.el),e.mask=0;for(var rr=0,wr=e.el-2;rr<=wr;rr+=1){e.bar=rr,e.ew=1;var Nr=e.bar;for(e.mask=e.mask|(Nr<0?1>>>-Nr:1<<Nr);;){r[t++]="sval",r[t++]=S(e.nm-e.ew)-1,r[t++]=S(e.el-e.bar)-2,e.ncr();var ea=r[--t];if(e[r[--t]]=ea,e.oe&&e.mask==0&&S(e.nm-e.ew-e.el*2+e.bar*2)>=-2){r[t++]="sval",r[t++]=e.sval,r[t++]=S(e.nm-e.ew-e.el+e.bar),r[t++]=S(e.el-e.bar)-2,e.ncr();var Or=r[--t],na=r[--t];e[r[--t]]=S(na-Or)}if(S(e.el-e.bar)>2){e.lval=0;for(var Kr=S(e.nm-e.ew-e.el+e.bar)+2,Za=e.mw+1;Kr>=Za;Kr-=1)r[t++]=S(e.nm-Kr-e.ew)-1,r[t++]=S(e.el-e.bar)-3,e.ncr(),e.lval=S(r[--t]+e.lval);e.sval=S(e.sval-e.lval*(e.el-e.bar-1))}else S(e.nm-e.ew)>e.mw&&(e.sval=e.sval-1);if(e.val=S(e.val-e.sval),e.val<0)break;e.ew=e.ew+1;var es=e.bar;e.mask=e.mask&~(es<0?1>>>-es:1<<es)}e.val=S(e.val+e.sval),e.nm=S(e.nm-e.ew),g(e.out,e.bar,e.ew)}g(e.out,e.el-1,e.nm),r[t++]=e.out},e.tab174=s([347,0,12,5,7,2,87,4,1387,348,10,7,5,4,52,20,2947,1388,8,9,4,5,30,52,3987,2948,6,11,3,6,10,104,4191,3988,4,13,1,8,1,204]),e.dxw=s(e.datalen);for(var Qs=0,Ma=e.datalen-1;Qs<=Ma;Qs+=1){e.x=Qs,e.d=C(e.binval,e.x*12,12),r[t++]="d",r[t++]=0;for(var ms=0;ms<=11;ms+=1){e.j=ms;var Ds=r[--t];r[t++]=S(Ds+~~li(2,11-e.j)*c(e.d,e.j))}var Ts=r[--t];for(e[r[--t]]=Ts,e.j=0;;){if(dc(e.d,c(e.tab174,e.j))){O(C(e.tab174,e.j+1,7)),e.dte=r[--t],e.dto=r[--t],e.dmwe=r[--t],e.dmwo=r[--t],e.dele=r[--t],e.delo=r[--t],e.dgs=r[--t];break}e.j=e.j+8}r[t++]="dwo",r[t++]=~~(S(e.d-e.dgs)/e.dte),r[t++]=e.delo,r[t++]=e.dmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var Ka=r[--t];e[r[--t]]=Ka,r[t++]="dwe",r[t++]=S(e.d-e.dgs)%e.dte,r[t++]=e.dele,r[t++]=e.dmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Hs=r[--t];if(e[r[--t]]=Hs,e.dw=s(8),e.x%2==0)for(var Wa=0;Wa<=3;Wa+=1)e.j=Wa,g(e.dw,7-e.j*2,c(e.dwo,e.j)),g(e.dw,6-e.j*2,c(e.dwe,e.j));else for(var xs=0;xs<=3;xs+=1)e.j=xs,g(e.dw,e.j*2,c(e.dwo,e.j)),g(e.dw,e.j*2+1,c(e.dwe,e.j));g(e.dxw,e.x,e.dw)}e.finderwidths=s([1,8,4,1,1,1,1,4,8,1,3,6,4,1,1,1,1,4,6,3,3,4,6,1,1,1,1,6,4,3,3,2,8,1,1,1,1,8,2,3,2,6,5,1,1,1,1,5,6,2,2,2,9,1,1,1,1,9,2,2]),e.finderseq=s([s([0,1]),s([0,3,2]),s([0,5,2,7]),s([0,9,2,7,4]),s([0,9,2,7,6,11]),s([0,9,2,7,8,11,10]),s([0,1,2,3,4,5,6,7]),s([0,1,2,3,4,5,6,9,8]),s([0,1,2,3,4,5,6,9,10,11]),s([0,1,2,3,4,7,6,9,8,11,10])]),e.seq=c(e.finderseq,~~((e.datalen-2)/2)),e.fxw=s(e.seq.length);for(var Fa=0,vn=e.seq.length-1;Fa<=vn;Fa+=1)e.x=Fa,g(e.fxw,e.x,C(e.finderwidths,c(e.seq,e.x)*5,5));e.checkweights=s([-1,-1,-1,-1,-1,-1,-1,-1,77,96,32,81,27,9,3,1,20,60,180,118,143,7,21,63,205,209,140,117,39,13,145,189,193,157,49,147,19,57,171,91,132,44,85,169,197,136,186,62,185,133,188,142,4,12,36,108,50,87,29,80,97,173,128,113,150,28,84,41,123,158,52,156,166,196,206,139,187,203,138,46,76,17,51,153,37,111,122,155,146,119,110,107,106,176,129,43,16,48,144,10,30,90,59,177,164,125,112,178,200,137,116,109,70,210,208,202,184,130,179,115,190,204,68,93,31,151,191,134,148,22,66,198,172,94,71,2,40,154,192,64,162,54,18,6,120,149,25,75,14,42,126,167,175,199,207,69,23,78,26,79,103,98,83,38,114,131,182,124,159,53,88,170,127,183,61,161,55,165,73,8,24,72,5,15,89,100,174,58,160,194,135,45]),r[t++]=1/0,ge(e.seq,function(){O(C(e.checkweights,r[--t]*16,16))});var $a=s();e.checkweightseq=C($a,8,$a.length-8),r[t++]=1/0;for(var In=e.dxw,Ba=0,Xs=In.length;Ba<Xs;Ba++)O(c(In,Ba));e.widths=s(),e.checksum=0;for(var _a=0,rn=e.widths.length-1;_a<=rn;_a+=1)e.i=_a,e.checksum=S(e.checksum+c(e.widths,e.i)*c(e.checkweightseq,e.i));for(e.checksum=S(e.checksum%211+(e.datalen-3)*211),e.i=0;;){if(e.checksum<=c(e.tab174,e.i)){O(C(e.tab174,e.i+1,7)),e.cte=r[--t],e.cto=r[--t],e.cmwe=r[--t],e.cmwo=r[--t],e.cele=r[--t],e.celo=r[--t],e.cgs=r[--t];break}e.i=e.i+8}r[t++]="cwo",r[t++]=~~(S(e.checksum-e.cgs)/e.cte),r[t++]=e.celo,r[t++]=e.cmwo,r[t++]=4,r[t++]=!0,e.getRSSwidths();var is=r[--t];e[r[--t]]=is,r[t++]="cwe",r[t++]=S(e.checksum-e.cgs)%e.cte,r[t++]=e.cele,r[t++]=e.cmwe,r[t++]=4,r[t++]=!1,e.getRSSwidths();var Xt=r[--t];e[r[--t]]=Xt,e.cw=s(8);for(var Xr=0;Xr<=3;Xr+=1)e.i=Xr,g(e.cw,e.i*2,c(e.cwo,e.i)),g(e.cw,e.i*2+1,c(e.cwe,e.i));var ja=s(22);g(ja,0,e.cw),M(ja,1,e.dxw),e.dxw=C(ja,0,e.datalen+1),e.datalen=e.dxw.length,e.rows=s(~~xr(e.datalen/e.segments)),e.numrows=e.rows.length;for(var Pa=0,vs=e.numrows-1;Pa<=vs;Pa+=1){e.r=Pa,r[t++]=1/0,e.segments%4!=0&&e.r%2==1&&(r[t++]=0),r[t++]=1,r[t++]=1;for(var Qr=0,os=e.segments-1;Qr<=os;Qr+=1)e.pos=Qr+e.r*e.segments,e.pos<e.datalen&&(O(c(e.dxw,e.pos)),e.pos%2==0&&O(c(e.fxw,~~(e.pos/2))));var gs=xa()+2;r[t++]=1,r[t++]=1,Vt(s(gs)),g(e.rows,e.r,r[--t]),t--}if(Me(e.format,"expandedstacked")){var Oa=c(e.rows,0);e.sbs=C(Oa,1,Oa.length-1),r[t++]=1/0,r[t++]=1;for(var Bn=0,Da=e.datalen-1;Bn<=Da;Bn+=1)e.i=Bn,O(c(e.dxw,e.i)),e.i%2==0&&O(c(e.fxw,~~(e.i/2)));r[t++]=1,r[t++]=1,e.sbs=s(),r[t++]=1/0;var ui=e.sbs;r[t++]=1/0;for(var $s=0,Ta=~~((e.sbs.length+1)/2);$s<Ta;$s++)r[t++]=e.height;var Dn=s();r[t++]=1/0;for(var Ja=0,Tn=~~((e.sbs.length+1)/2);Ja<Tn;Ja++)r[t++]=0;var bs=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=ui,r[t++]="bhs",r[t++]=Dn,r[t++]="bbs",r[t++]=bs,r[t++]="borderleft",r[t++]=0,r[t++]="borderright",r[t++]=0,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=0,r[t++]="opt",r[t++]=e.options;var an=$e();r[t++]=an,e.dontdraw||Bt()}else{e.seps=s(e.numrows);for(var sn=0,Xn=e.numrows-1;sn<=Xn;sn+=1){e.r=sn,e.row=c(e.rows,e.r),r[t++]=1/0;for(var At=0,Yr=e.row.length-1;At<=Yr;At+=2){e.i=At;for(var ra=0,Ua=c(e.row,e.i);ra<Ua;ra++)r[t++]=0;if(e.i<e.row.length-1)for(var ca=0,Xa=c(e.row,e.i+1);ca<Xa;ca++)r[t++]=1}Vt(s(xa())),e.row=r[--t],r[t-1]=1/0,ge(e.row,function(){var rr=r[--t];r[t++]=1-rr}),e.sep=s(),r[t++]=1/0;for(var ys=19,gn=e.row.length-13;ys<=gn;ys+=98)r[t++]=ys;for(var ct=68,Nt=e.row.length-13;ct<=Nt;ct+=98)r[t++]=ct;e.finderpos=s();for(var hr=e.finderpos,lr=0,fr=hr.length;lr<fr;lr++)for(var Rr=c(hr,lr),cr=Rr,aa=Rr+14;cr<=aa;cr+=1){if(e.i=cr,c(e.row,e.i)==0)if(c(e.row,e.i-1)==1)r[t++]=1;else{var Hr=c(e.sep,e.i-1)==0?1:0;r[t++]=Hr}else r[t++]=0;g(e.sep,e.i,r[--t])}if(M(e.sep,0,s([0,0,0,0])),M(e.sep,e.row.length-4,s([0,0,0,0])),e.segments%4==0&&e.r%2==1)if(c(e.rows,e.r).length!=c(e.rows,0).length&&e.finderpos.length%2==1)r[t++]=1/0,r[t++]=0,O(e.row),e.row=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s();else{for(var $r=e.row.length-1;$r>=0;$r-=1)r[t++]=c(e.row,$r);Vt(e.row),t--;for(var Gr=e.sep.length-1;Gr>=0;Gr-=1)r[t++]=c(e.sep,Gr);Vt(e.sep),t--}g(e.rows,e.r,e.row),g(e.seps,e.r,e.sep)}e.pixx=c(e.rows,0).length,r[t++]=1/0;for(var Vr=0,ha=e.pixx;Vr<ha;Vr++)r[t++]=0;var Zr=s();M(Zr,0,c(e.rows,e.numrows-1)),g(e.rows,e.numrows-1,Zr),r[t++]=1/0;for(var qr=0,sa=e.pixx;qr<sa;qr++)r[t++]=0;var Mr=s();M(Mr,0,c(e.seps,e.numrows-1)),g(e.seps,e.numrows-1,Mr),r[t++]=1/0;for(var Pr=0,za=~~(e.pixx/2)+1;Pr<za;Pr++)r[t++]=0,r[t++]=1;e.sep=C(s(),0,e.pixx),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.pixx-4,s([0,0,0,0])),r[t++]=1/0;for(var ba=0,ls=e.numrows-1;ba<=ls;ba+=1){e.r=ba,e.r!=0&&O(c(e.seps,e.r));for(var Ss=0,nn=e.barxmult;Ss<nn;Ss++)O(c(e.rows,e.r));e.r!=e.numrows-1&&(O(c(e.seps,e.r)),O(e.sep))}e.pixs=s();var Rs=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",~~(e.pixs.length/e.pixx)],["height",~~(e.pixs.length/e.pixx)/72],["width",e.pixx/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=Rs,e.dontdraw||xt()}e=a}function $m(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","expandedstacked"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Hm();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function OT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.coupontextfont="OCR-B",e.coupontextsize=9,e.coupontextxoffset=null,e.coupontextyoffset=null,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),t--,e.vals=r[--t],e.ais=r[--t],e.ais.length!=1&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11001",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),Me(c(e.ais,0),"8110")&&(r[t++]="bwipp.gs1northamericancouponBadAIStructure#11004",r[t++]="A GS1 North American Coupon should consist of a single AI (8110)",z()),e.val=c(e.vals,0),e.vli=c(e.val,0)-48,(e.vli<0||e.vli>6)&&(r[t++]="bwipp.gs1northamericancouponBadVLI#11011",r[t++]="The AI (8110) data should start with a Company Prefix length indicator in the range 0 to 6",z()),e.gcp=C(e.val,1,e.vli+6),e.cod=C(e.val,e.vli+7,6),e.coupontext=W(e.gcp.length+7),M(e.coupontext,0,e.gcp),M(e.coupontext,e.gcp.length,"-"),M(e.coupontext,e.gcp.length+1,e.cod),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,$m();var n=r[--t];if(e[r[--t]]=n,e.includetext){e.coupontextxoffset==null&&(e.coupontextxoffset=0),e.coupontextyoffset==null&&(e.coupontextyoffset=c(e.args,"height")*72+3);var i=c(e.args,"txt")!==void 0;i?(e.txt=c(e.args,"txt"),e.newtxt=s(e.txt.length+1),M(e.newtxt,0,e.txt),g(e.newtxt,e.newtxt.length-1,s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])),g(e.args,"txt",e.newtxt)):g(e.args,"txt",s([s([e.coupontext,e.coupontextxoffset,e.coupontextyoffset,e.coupontextfont,e.coupontextsize])]))}g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function UT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=8*2.835/72,e.nwidth=.5*2.835,e.wwidth=1.5*2.835,e.swidth=1*2.835,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>6)&&(r[t++]="bwipp.pharmacodeBadLength#11091",r[t++]="Pharmacode must be 1 to 6 digits",z()),ge(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.pharmacodeBadCharacter#11095",r[t++]="Pharmacode must contain only digits",z())});var n=Fe(e.barcode);(n<3||n>131070)&&(r[t++]="bwipp.pharmacodeBadValue#11099",r[t++]="Pharmacode value must be between 3 and 131070",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));e.barcode=$t(W(17),Fe(e.barcode)+1,2),e.barcode=C(e.barcode,1,e.barcode.length-1),e.barlen=e.barcode.length,e.sbs=s(e.barlen*2);for(var d=0,u=e.barlen-1;d<=u;d+=1)e.i=d,e.enc=C(e.barcode,e.i,1),Y(e.enc,"0")?g(e.sbs,e.i*2,e.nwidth):g(e.sbs,e.i*2,e.wwidth),g(e.sbs,e.i*2+1,e.swidth);r[t++]=1/0;var f=e.sbs;r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var w=$e();r[t++]=w,e.dontdraw||Bt(),e=a}function Tw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.height=4,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<1||e.barcode.length>8)&&(r[t++]="bwipp.pharmacode2BadLength#11180",r[t++]="Two-track Pharmacode must be 1 to 6 digits",z()),ge(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.pharmacode2badCharacter#11184",r[t++]="Two-track Pharmacode must contain only digits",z())});var n=Fe(e.barcode);(n<4||n>64570080)&&(r[t++]="bwipp.pharmacode2badValue#11188",r[t++]="Two-track Pharmacode value must be between 4 and 64570080",z()),e.txt=s(e.barcode.length);for(var i=0,o=e.barcode.length-1;i<=o;i+=1)e.i=i,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));for(e.encstr=W(16),e.sbs=s(32),e.bar=1/25.4*e.height,e.spc=1/25.4*72,e.i=15,e.val=Fe(e.barcode);e.val!=0;){var d=e.val%3;e.val=~~(S(e.val-c(s([3,1,2]),d))/3),g(e.encstr,e.i,c(s([2,0,1]),d)),e.i=e.i-1}e.encstr=C(e.encstr,e.i+1,15-e.i),e.bhs=s(e.encstr.length),e.bbs=s(e.encstr.length);for(var u=0,f=e.encstr.length-1;u<=f;u+=1){e.i=u;var h=c(e.encstr,e.i);g(e.bhs,e.i,e.bar*c(s([1,1,2]),h)),g(e.bbs,e.i,c(s([0,e.bar,0]),h))}r[t++]=1/0;var p=e.bhs,m=e.bbs;r[t++]=1/0;for(var x=0,b=e.encstr.length*2;x<b;x++)r[t++]=e.spc;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=p,r[t++]="bbs",r[t++]=m,r[t++]="sbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="textyoffset",r[t++]=4,r[t++]="opt",r[t++]=e.options;var w=$e();r[t++]=w,e.dontdraw||Bt(),e=a}function Ac(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.version="industrial",r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code2of5emptyData#11287",r[t++]="The data must not be empty",z()),ge(e.barcode,function(){var F=r[--t];(F<48||F>57)&&(r[t++]="bwipp.code2of5badCharacter#11295",r[t++]="Code 25 must contain only digits",z())}),r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1){if(e.i=o,r[t++]="checksum",r[t++]=e.checksum,r[t++]=c(e.barcode,e.i)-48,S(e.barlen-e.i)%2!=0){var u=r[--t];r[t++]=u*3}var f=r[--t],h=r[--t];e[r[--t]]=S(h+f)}e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=e.checksum+48&&(r[t++]="bwipp.code2of5badCheckDigit#11309",r[t++]="Incorrect Code 25 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0);var p=new Map([["industrial",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","313111","31113"])],["iata",s(["1111313111","3111111131","1131111131","3131111111","1111311131","3111311111","1131311111","1111113131","3111113111","1131113111","1111","311"])],["matrix",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","311111","31111"])],["coop",s(["331111","111331","113131","113311","131131","131311","133111","311131","311311","313111","3131","133"])],["datalogic",s(["113311","311131","131131","331111","113131","313111","133111","111331","311311","131311","1111","311"])]]);e.versions=p;var m=c(e.versions,e.version)!==void 0;m||(r[t++]="bwipp.code2of5badVersion#11344",r[t++]="Unrecognised Code 25 version",z()),e.encs=c(e.versions,e.version),e.cs=c(e.encs,0).length,r[t++]="cw",r[t++]=0,ge(c(e.encs,0),function(){var F=r[--t],_=r[--t];r[t++]=S(_+(F-48))});var x=r[--t];e[r[--t]]=x,e.ss=c(e.encs,10).length,r[t++]="sw",r[t++]=0,ge(c(e.encs,10),function(){var F=r[--t],_=r[--t];r[t++]=S(_+(F-48))});var b=r[--t];if(e[r[--t]]=b,e.es=c(e.encs,11).length,e.barchars="0123456789",r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var y=r[--t];r[t++]=y+1}var w=W(S(r[--t]*e.cs+e.ss+e.es));if(e[r[--t]]=w,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var v=r[--t];r[t++]=v+1}var A=s(r[--t]);e[r[--t]]=A,M(e.sbs,0,c(e.encs,10));for(var k=0,E=e.barlen-1;k<=E;k+=1)e.i=k,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*e.cs+e.ss,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),S(e.i*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]));e.includecheck?(M(e.sbs,S(e.barlen*e.cs+e.ss),c(e.encs,e.checksum)),M(e.sbs,S(e.barlen*e.cs+e.cs+e.ss),c(e.encs,11)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",S(e.barlen*e.cw+e.sw),e.textyoffset,e.textfont,e.textsize]))):M(e.sbs,S(e.barlen*e.cs+e.ss),c(e.encs,11)),r[t++]=1/0,r[t++]=1/0,ge(e.sbs,function(){var F=r[--t];r[t++]=F-48});var j=s();r[t++]=1/0;for(var N=0,B=~~((e.sbs.length+1)/2);N<B;N++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,T=~~((e.sbs.length+1)/2);D<T;D++)r[t++]=0;var R=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=R,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var $=$e();r[t++]=$,e.dontdraw||Bt(),e=a}function zT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","industrial"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function LT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","iata"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function QT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","matrix"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function HT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","coop"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function $T(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"version","datalogic"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Ac();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function GT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.code11emptyData#11692",r[t++]="The data must not be empty",z()),e.encs=s(["111131","311131","131131","331111","113131","313111","133111","111331","311311","311111","113111","113311"]),e.barchars="0123456789-",e.charvals=new Map;for(var n=0;n<=10;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.code11badCharacter#11714",r[t++]="Code 11 must contain only digits and dashes",z())}if(e.barlen=e.barcode.length,e.validatecheck){e.barlen==11&&(r[t++]="bwipp.code11badLength#11721",r[t++]="Code 11 cannot be 11 characters using check digits",z());var u=e.barlen<=10?1:2;e.barlen=e.barlen-u}if(r[t++]="numchecks",e.includecheck||e.validatecheck){var f=e.barlen>=10?2:1;r[t++]=f}else r[t++]=0;var h=r[--t];e[r[--t]]=h,e.checksum1=0,e.checksum2=0;for(var p=0,m=e.barlen-1;p<=m;p+=1)e.i=p,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.checksum1=S(e.checksum1+((e.barlen-e.i-1)%10+1)*e.indx),e.checksum2=S(e.checksum2+((e.barlen-e.i)%9+1)*e.indx);if(e.checksum1=e.checksum1%11,e.checksum2=S(e.checksum2+e.checksum1)%11,e.validatecheck){if(e.numchecks==1){var x=e.checksum1;c(e.barcode,e.barlen)!=c(e.barchars,x)&&(r[t++]="bwipp.code11badCheckDigit#11739",r[t++]="Incorrect Code 11 check digit provided",z())}else(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum1)||c(e.barcode,e.barlen+1)!=c(e.barchars,e.checksum2))&&(r[t++]="bwipp.code11badCheckDigits#11744",r[t++]="Incorrect Code 11 check digits provided",z());e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0}e.sbs=W(S(e.barlen+e.numchecks)*6+12),e.txt=s(S(e.barlen+e.numchecks)),M(e.sbs,0,c(e.encs,11)),e.xpos=8;for(var b=0,y=e.barlen-1;b<=y;b+=1){e.i=b,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.i*6+6,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var w=0;w<=5;w+=1)e.xpos=S(c(e.enc,w)-48+e.xpos)}if(e.includecheck)if(e.barlen>=10){if(M(e.sbs,e.barlen*6+6,c(e.encs,e.checksum1)),M(e.sbs,e.barlen*6+12,c(e.encs,e.checksum2)),e.includecheckintext){g(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,e.checksum1);for(var v=0;v<=5;v+=1)e.xpos=S(c(e.enc,v)-48+e.xpos);g(e.txt,e.barlen+1,s([C(e.barchars,e.checksum2,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else g(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,e.barlen*6+18,c(e.encs,11))}else M(e.sbs,e.barlen*6+6,c(e.encs,e.checksum1)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s(["",e.xpos,e.textyoffset,e.textfont,e.textsize])),M(e.sbs,e.barlen*6+12,c(e.encs,11));else M(e.sbs,e.barlen*6+6,c(e.encs,11));r[t++]=1/0,r[t++]=1/0;for(var A=e.sbs,k=0,E=A.length;k<E;k++)r[t++]=c(A,k)-48;var j=s();r[t++]=1/0;for(var N=0,B=~~((e.sbs.length+1)/2);N<B;N++)r[t++]=e.height;var I=s();r[t++]=1/0;for(var D=0,T=~~((e.sbs.length+1)/2);D<T;D++)r[t++]=0;var R=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=j,r[t++]="bhs",r[t++]=I,r[t++]="bbs",r[t++]=R,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var $=$e();r[t++]=$,e.dontdraw||Bt(),e=a}function qT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.includestartstop=!1,e.semi=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.bc412emptyData#11864",r[t++]="The data must not be empty",z()),e.semi&&(e.includestartstop=!0),e.barchars="0R9GLVHA8EZ4NTS1J2Q6C7DYKBUIX3FWP5M",e.charvals=new Map;for(var n=0;n<=34;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.bc412badCharacter#11884",r[t++]="BC412 must contain only digits and capital letters except O",z())}if(e.semi){e.validatecheck?(e.barcode.length<8||e.barcode.length>19)&&(r[t++]="bwipp.bc412semivalidateBadLength#11892",r[t++]="BC412 semi with check digit must be 8 to 19 characters long",z()):(e.barcode.length<7||e.barcode.length>18)&&(r[t++]="bwipp.bc412semiBadLength#11896",r[t++]="BC412 semi must be 7 to 18 characters long",z()),e.barlen=e.barcode.length,e.validatecheck||(e.barlen=e.barlen+1,e.sbarcode=W(e.barlen),g(e.sbarcode,0,c(e.barcode,0)),g(e.sbarcode,1,48),M(e.sbarcode,2,C(e.barcode,1,e.barlen-2)),e.barcode=e.sbarcode),e.sumodd=0,e.sumeven=0;for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,r[t++]=c(e.charvals,C(e.barcode,e.i,1)),e.i%2==0?e.sumodd=S(r[--t]+e.sumodd):e.sumeven=S(r[--t]+e.sumeven);e.checksum=S(e.sumodd%35+e.sumeven%35*2)%35,e.validatecheck?e.checksum!=0&&(r[t++]="bwipp.bc412semiBadCheckDigit#11922",r[t++]="Incorrect BC412 semi check digit provided",z()):(e.checksum=e.checksum*17%35,g(e.barcode,1,c(e.barchars,e.checksum)))}else{if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var h=r[--t];r[t++]=h-1}var p=r[--t];e[r[--t]]=p,e.checksum=0;for(var m=0,x=e.barlen-1;m<=x;m+=1)e.checksum=S(c(e.charvals,C(e.barcode,m,1))+e.checksum);e.checksum=e.checksum%35,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.bc412badCheckDigit#11939",r[t++]="Incorrect BC412 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen),e.includecheck=!0)}e.encs=s(["11111115","13111212","11131113","12111213","12121311","13131111","12111312","11131212","11121411","11151111","15111111","11111511","12131211","13121112","13111311","11111214","12121113","11111313","13111113","11121213","11141112","11121312","11141211","14121111","12121212","11131311","13121211","12111411","14111211","11111412","12111114","14111112","12141111","11121114","12131112","12","111"]),e.sbs=W((e.barlen+1)*8+5),e.includecheck?e.txt=s(e.barlen+1):e.txt=s(e.barlen),e.includestartstop?(M(e.sbs,0,c(e.encs,35)),e.pos=2,e.txtpos=3):(e.pos=0,e.txtpos=0);for(var b=0,y=e.barlen-1;b<=y;b+=1)e.i=b,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.sbs,e.pos,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8;e.includecheck&&(M(e.sbs,e.pos,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s(["",e.barlen*12+e.txtpos,e.textyoffset,e.textfont,e.textsize])),e.pos=e.pos+8),e.includestartstop&&(M(e.sbs,e.pos,c(e.encs,36)),e.pos=e.pos+3),e.sbs=C(e.sbs,0,e.pos),r[t++]=1/0,r[t++]=1/0;for(var w=e.sbs,v=0,A=w.length;v<A;v++)r[t++]=c(w,v)-48;var k=s();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=e.height;var N=s();r[t++]=1/0;for(var B=0,I=~~((e.sbs.length+1)/2);B<I;B++)r[t++]=0;var D=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=k,r[t++]="bhs",r[t++]=N,r[t++]="bbs",r[t++]=D,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var T=$e();r[t++]=T,e.dontdraw||Bt(),e=a}function YT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.altstartstop=!1,e.includecheck=!1,e.validatecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],(e.barcode.length<2||e.barcode.length<3&&e.validatecheck)&&(r[t++]="bwipp.rationalizedCodabarBadLength#12067",r[t++]="Codabar must be at least 2 characters in length excluding any check digit",z()),e.encs=s(["11111331","11113311","11131131","33111111","11311311","31111311","13111131","13113111","13311111","31131111","11133111","11331111","31113131","31311131","31313111","11313131","11331311","13131131","11131331","11133311"]),e.barcharsnormal="0123456789-$:/.+ABCD",e.barcharsalt="0123456789-$:/.+TN*E";var n=e.altstartstop?e.barcharsalt:e.barcharsnormal;e.barchars=n,e.charvals=new Map;for(var i=0;i<=19;i+=1)g(e.charvals,C(e.barchars,i,1),i);e.bodyvals=new Map;for(var o=0;o<=15;o+=1)g(e.bodyvals,C(e.barchars,o,1),o);e.ssvals=new Map;for(var d=16;d<=19;d+=1)g(e.ssvals,C(e.barchars,d,1),d);var u=c(e.ssvals,C(e.barcode,0,1))!==void 0,f=c(e.ssvals,C(e.barcode,e.barcode.length-1,1))!==void 0;(!u||!f)&&(e.altstartstop?(r[t++]="bwipp.rationalizedCodabarBadAltStartStop#12099",r[t++]="Codabar start and stop characters must be one of E N T or *",z()):(r[t++]="bwipp.rationalizedCodabarBadStartStop#12101",r[t++]="Codabar start and stop characters must be one of A B C or D",z()));for(var h=1,p=e.barcode.length-2;h<=p;h+=1){var m=c(e.bodyvals,C(e.barcode,h,1))!==void 0;m||(r[t++]="bwipp.rationalizedCodabarBadCharacter#12106",r[t++]="Codabar body must contain only digits and symbols - $ : / . +",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var x=r[--t];r[t++]=x-1}var b=r[--t];e[r[--t]]=b,e.checksum=0;for(var y=0,w=e.barlen-2;y<=w;y+=1)e.checksum=S(c(e.charvals,C(e.barcode,y,1))+e.checksum);var v=C(e.barcode,e.barcode.length-1,1);if(e.checksum=S(c(e.charvals,v)+e.checksum),e.checksum=(16-e.checksum%16)%16,e.validatecheck){c(e.barcode,e.barlen-1)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.rationalizedCodabarBadCheckDigit#12122",r[t++]="Incorrect Codabar check digit provided",z());var A=W(e.barlen);M(A,0,C(e.barcode,0,e.barlen-1)),M(A,e.barlen-1,C(e.barcode,e.barlen,1)),e.barcode=A,e.includecheck=!0}if(r[t++]="sbs",r[t++]=e.barlen,e.includecheck){var k=r[--t];r[t++]=k+1}var E=W(r[--t]*8);if(e[r[--t]]=E,r[t++]="txt",r[t++]=e.barlen,e.includecheck){var j=r[--t];r[t++]=j+1}var N=s(r[--t]);e[r[--t]]=N,e.xpos=0;for(var B=0,I=e.barlen-2;B<=I;B+=1){e.i=B,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.i*8,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var D=0;D<=7;D+=1)e.xpos=S(c(e.enc,D)-48+e.xpos)}if(e.includecheck){M(e.sbs,e.barlen*8-8,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen-1,s([C(e.barchars,e.checksum,1),e.xpos,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen-1,s([" ",e.xpos,e.textyoffset,e.textfont,e.textsize]));for(var T=0;T<=7;T+=1)e.xpos=S(c(c(e.encs,e.checksum),T)-48+e.xpos);e.indx=c(e.charvals,C(e.barcode,e.barlen-1,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.barlen*8,e.enc),g(e.txt,e.barlen,s([C(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]))}else e.indx=c(e.charvals,C(e.barcode,e.barlen-1,1)),e.enc=c(e.encs,e.indx),M(e.sbs,e.barlen*8-8,e.enc),g(e.txt,e.barlen-1,s([C(e.barcode,e.barlen-1,1),e.xpos,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0,ge(e.sbs,function(){var he=r[--t];r[t++]=he-48});var R=s();r[t++]=1/0;for(var $=0,F=~~((e.sbs.length+1)/2);$<F;$++)r[t++]=e.height;var _=s();r[t++]=1/0;for(var Q=0,H=~~((e.sbs.length+1)/2);Q<H;Q++)r[t++]=0;var J=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=R,r[t++]="bhs",r[t++]=_,r[t++]="bbs",r[t++]=J,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var K=$e();r[t++]=K,e.dontdraw||Bt(),e=a}function VT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.15,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barlen=e.barcode.length,ge(e.barcode,function(){var Ze=r[--t];(Ze<48||Ze>57)&&(r[t++]="bwipp.onecodeBadCharacter#12232",r[t++]="The data must contain only digits",z())}),e.barlen!=20&&e.barlen!=25&&e.barlen!=29&&e.barlen!=31&&(r[t++]="bwipp.onecodeInvalidLength#12237",r[t++]="The data must be 20, 25, 29 or 31 digits",z()),r[t++]=1/0;var n=Y(C(e.barcode,5,1),"9")?14:11;r[t++]=2,r[t++]=2,r[t++]=5,r[t++]=5,r[t++]=n,r[t++]=n,r[t++]=20,r[t++]=20,r[t++]=25,r[t++]=25,r[t++]=29,r[t++]=29,e.txtdict=$e(),e.txt=s(e.barlen+6),e.spacecnt=0;for(var i=0,o=e.barlen-1;i<=o;i+=1){e.i=i;var d=c(e.txtdict,e.i)!==void 0;d&&(g(e.txt,e.i+e.spacecnt,s([" ",0,0,"",0])),e.spacecnt=e.spacecnt+1),g(e.txt,e.i+e.spacecnt,s([C(e.barcode,e.i,1),0,0,"",0]))}e.txt=C(e.txt,0,e.barcode.length+e.spacecnt),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var Ze=e.num.length-1;Ze>=1;Ze-=1){e.i=Ze;var te=e.num,oe=e.i;g(te,oe-1,S(c(te,oe-1)+~~(c(e.num,e.i)/e.base))),g(e.num,e.i,c(e.num,e.i)%e.base)}for(;!mn(c(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,O(e.num),e.num=s(),g(e.num,0,S(c(e.num,0)+~~(c(e.num,1)/e.base))),g(e.num,1,c(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var Re=e.num,ze=0,Je=Re.length;ze<Je;ze++){var Qe=c(Re,ze);r[t++]=Qe,Qe==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var Ze=r[--t],te=r[--t];if(e.offset=Ko(Ze.length-te.length),Ze.length<te.length){var oe=Ze;Ze=te,te=oe}e.a=Ze,e.b=te;for(var Re=0,ze=e.b.length-1;Re<=ze;Re+=1){var Je=e.a,Qe=e.offset;g(Je,Re+Qe,S(c(Je,Re+Qe)+c(e.b,Re)))}r[t++]=e.a};var u=new Map([[20,s([0])],[25,s([1])],[29,s([1,0,0,0,0,1])],[31,s([1,0,0,0,1,0,0,0,0,1])]]);e.startvals=u,r[t++]="binval",r[t++]=c(e.startvals,e.barlen),r[t++]=1/0;for(var f=C(e.barcode,20,e.barlen-20),h=0,p=f.length;h<p;h++)r[t++]=c(f,h)-48;var m=s();r[t++]=m,e.bigadd();var x=r[--t];e[r[--t]]=x,r[t++]=1/0,O(e.binval),r[t++]=c(e.barcode,0)-48,e.binval=s(),r[t++]=1/0;for(var b=e.binval,y=0,w=b.length;y<w;y++)r[t++]=c(b,y)*5;var v=s();r[t++]="binval",r[t++]=v,r[t++]=s([c(e.barcode,1)-48]),e.bigadd(),r[t++]=10,e.normalize();var A=r[--t];e[r[--t]]=A,r[t++]=1/0,O(e.binval);for(var k=C(e.barcode,2,18),E=0,j=k.length;E<j;E++)r[t++]=c(k,E)-48;e.binval=s(),e.bytes=s(13);var N=e.binval;e.bintmp=cc(s(N.length),N);for(var B=12;B>=0;B-=1){e.i=B;for(var I=0,D=e.bintmp.length-2;I<=D;I+=1){e.j=I;var T=e.bintmp,R=e.j;g(T,R+1,S(c(T,R+1)+c(e.bintmp,e.j)%256*10)),g(e.bintmp,e.j,~~(c(e.bintmp,e.j)/256))}g(e.bytes,e.i,c(e.bintmp,e.bintmp.length-1)%256);var $=e.bintmp,F=e.bintmp;g($,F.length-1,~~(c($,F.length-1)/256))}e.fcs=2047,e.dat=c(e.bytes,0)<<5;for(var _=0;_<6;_++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1;for(var Q=1;Q<=12;Q+=1){e.dat=c(e.bytes,Q)<<3;for(var H=0;H<8;H++)(e.fcs^e.dat)&1024?e.fcs=e.fcs<<1^3893:e.fcs=e.fcs<<1,e.fcs=e.fcs&2047,e.dat=e.dat<<1}e.codewords=s(10);for(var J=9;J>=0;J-=1){e.i=J;var K=e.i==9?636:1365;e.b=K;for(var he=0,G=e.binval.length-2;he<=G;he+=1){e.j=he;var L=e.binval,ce=e.j;g(L,ce+1,S(c(L,ce+1)+c(e.binval,e.j)%e.b*10)),g(e.binval,e.j,~~(c(e.binval,e.j)/e.b))}g(e.codewords,e.i,c(e.binval,e.binval.length-1)%e.b);var fe=e.binval,U=e.binval;g(fe,U.length-1,~~(c(fe,U.length-1)/e.b))}g(e.codewords,9,c(e.codewords,9)*2),e.fcs&1024&&g(e.codewords,0,c(e.codewords,0)+659),e.tab513=s([31,7936,47,7808,55,7552,59,7040,61,6016,62,3968,79,7744,87,7488,91,6976,93,5952,94,3904,103,7360,107,6848,109,5824,110,3776,115,6592,117,5568,118,3520,121,5056,122,3008,124,1984,143,7712,151,7456,155,6944,157,5920,158,3872,167,7328,171,6816,173,5792,174,3744,179,6560,181,5536,182,3488,185,5024,186,2976,188,1952,199,7264,203,6752,205,5728,206,3680,211,6496,213,5472,214,3424,217,4960,218,2912,220,1888,227,6368,229,5344,230,3296,233,4832,234,2784,236,1760,241,4576,242,2528,244,1504,248,992,271,7696,279,7440,283,6928,285,5904,286,3856,295,7312,299,6800,301,5776,302,3728,307,6544,309,5520,310,3472,313,5008,314,2960,316,1936,327,7248,331,6736,333,5712,334,3664,339,6480,341,5456,342,3408,345,4944,346,2896,348,1872,355,6352,357,5328,358,3280,361,4816,362,2768,364,1744,369,4560,370,2512,372,1488,376,976,391,7216,395,6704,397,5680,398,3632,403,6448,405,5424,406,3376,409,4912,410,2864,412,1840,419,6320,421,5296,422,3248,425,4784,426,2736,428,1712,433,4528,434,2480,436,1456,440,944,451,6256,453,5232,454,3184,457,4720,458,2672,460,1648,465,4464,466,2416,468,1392,472,880,481,4336,482,2288,484,1264,488,752,527,7688,535,7432,539,6920,541,5896,542,3848,551,7304,555,6792,557,5768,558,3720,563,6536,565,5512,566,3464,569,5e3,570,2952,572,1928,583,7240,587,6728,589,5704,590,3656,595,6472,597,5448,598,3400,601,4936,602,2888,604,1864,611,6344,613,5320,614,3272,617,4808,618,2760,620,1736,625,4552,626,2504,628,1480,632,968,647,7208,651,6696,653,5672,654,3624,659,6440,661,5416,662,3368,665,4904,666,2856,668,1832,675,6312,677,5288,678,3240,681,4776,682,2728,684,1704,689,4520,690,2472,692,1448,696,936,707,6248,709,5224,710,3176,713,4712,714,2664,716,1640,721,4456,722,2408,724,1384,728,872,737,4328,738,2280,740,1256,775,7192,779,6680,781,5656,782,3608,787,6424,789,5400,790,3352,793,4888,794,2840,796,1816,803,6296,805,5272,806,3224,809,4760,810,2712,812,1688,817,4504,818,2456,820,1432,824,920,835,6232,837,5208,838,3160,841,4696,842,2648,844,1624,849,4440,850,2392,852,1368,865,4312,866,2264,868,1240,899,6200,901,5176,902,3128,905,4664,906,2616,908,1592,913,4408,914,2360,916,1336,929,4280,930,2232,932,1208,961,4216,962,2168,964,1144,1039,7684,1047,7428,1051,6916,1053,5892,1054,3844,1063,7300,1067,6788,1069,5764,1070,3716,1075,6532,1077,5508,1078,3460,1081,4996,1082,2948,1084,1924,1095,7236,1099,6724,1101,5700,1102,3652,1107,6468,1109,5444,1110,3396,1113,4932,1114,2884,1116,1860,1123,6340,1125,5316,1126,3268,1129,4804,1130,2756,1132,1732,1137,4548,1138,2500,1140,1476,1159,7204,1163,6692,1165,5668,1166,3620,1171,6436,1173,5412,1174,3364,1177,4900,1178,2852,1180,1828,1187,6308,1189,5284,1190,3236,1193,4772,1194,2724,1196,1700,1201,4516,1202,2468,1204,1444,1219,6244,1221,5220,1222,3172,1225,4708,1226,2660,1228,1636,1233,4452,1234,2404,1236,1380,1249,4324,1250,2276,1287,7188,1291,6676,1293,5652,1294,3604,1299,6420,1301,5396,1302,3348,1305,4884,1306,2836,1308,1812,1315,6292,1317,5268,1318,3220,1321,4756,1322,2708,1324,1684,1329,4500,1330,2452,1332,1428,1347,6228,1349,5204,1350,3156,1353,4692,1354,2644,1356,1620,1361,4436,1362,2388,1377,4308,1378,2260,1411,6196,1413,5172,1414,3124,1417,4660,1418,2612,1420,1588,1425,4404,1426,2356,1441,4276,1442,2228,1473,4212,1474,2164,1543,7180,1547,6668,1549,5644,1550,3596,1555,6412,1557,5388,1558,3340,1561,4876,1562,2828,1564,1804,1571,6284,1573,5260,1574,3212,1577,4748,1578,2700,1580,1676,1585,4492,1586,2444,1603,6220,1605,5196,1606,3148,1609,4684,1610,2636,1617,4428,1618,2380,1633,4300,1634,2252,1667,6188,1669,5164,1670,3116,1673,4652,1674,2604,1681,4396,1682,2348,1697,4268,1698,2220,1729,4204,1730,2156,1795,6172,1797,5148,1798,3100,1801,4636,1802,2588,1809,4380,1810,2332,1825,4252,1826,2204,1857,4188,1858,2140,1921,4156,1922,2108,2063,7682,2071,7426,2075,6914,2077,5890,2078,3842,2087,7298,2091,6786,2093,5762,2094,3714,2099,6530,2101,5506,2102,3458,2105,4994,2106,2946,2119,7234,2123,6722,2125,5698,2126,3650,2131,6466,2133,5442,2134,3394,2137,4930,2138,2882,2147,6338,2149,5314,2150,3266,2153,4802,2154,2754,2161,4546,2162,2498,2183,7202,2187,6690,2189,5666,2190,3618,2195,6434,2197,5410,2198,3362,2201,4898,2202,2850,2211,6306,2213,5282,2214,3234,2217,4770,2218,2722,2225,4514,2226,2466,2243,6242,2245,5218,2246,3170,2249,4706,2250,2658,2257,4450,2258,2402,2273,4322,2311,7186,2315,6674,2317,5650,2318,3602,2323,6418,2325,5394,2326,3346,2329,4882,2330,2834,2339,6290,2341,5266,2342,3218,2345,4754,2346,2706,2353,4498,2354,2450,2371,6226,2373,5202,2374,3154,2377,4690,2378,2642,2385,4434,2401,4306,2435,6194,2437,5170,2438,3122,2441,4658,2442,2610,2449,4402,2465,4274,2497,4210,2567,7178,2571,6666,2573,5642,2574,3594,2579,6410,2581,5386,2582,3338,2585,4874,2586,2826,2595,6282,2597,5258,2598,3210,2601,4746,2602,2698,2609,4490,2627,6218,2629,5194,2630,3146,2633,4682,2641,4426,2657,4298,2691,6186,2693,5162,2694,3114,2697,4650,2705,4394,2721,4266,2753,4202,2819,6170,2821,5146,2822,3098,2825,4634,2833,4378,2849,4250,2881,4186,2945,4154,3079,7174,3083,6662,3085,5638,3086,3590,3091,6406,3093,5382,3094,3334,3097,4870,3107,6278,3109,5254,3110,3206,3113,4742,3121,4486,3139,6214,3141,5190,3145,4678,3153,4422,3169,4294,3203,6182,3205,5158,3209,4646,3217,4390,3233,4262,3265,4198,3331,6166,3333,5142,3337,4630,3345,4374,3361,4246,3393,4182,3457,4150,3587,6158,3589,5134,3593,4622,3601,4366,3617,4238,3649,4174,3713,4142,3841,4126,4111,7681,4119,7425,4123,6913,4125,5889,4135,7297,4139,6785,4141,5761,4147,6529,4149,5505,4153,4993,4167,7233,4171,6721,4173,5697,4179,6465,4181,5441,4185,4929,4195,6337,4197,5313,4201,4801,4209,4545,4231,7201,4235,6689,4237,5665,4243,6433,4245,5409,4249,4897,4259,6305,4261,5281,4265,4769,4273,4513,4291,6241,4293,5217,4297,4705,4305,4449,4359,7185,4363,6673,4365,5649,4371,6417,4373,5393,4377,4881,4387,6289,4389,5265,4393,4753,4401,4497,4419,6225,4421,5201,4425,4689,4483,6193,4485,5169,4489,4657,4615,7177,4619,6665,4621,5641,4627,6409,4629,5385,4633,4873,4643,6281,4645,5257,4649,4745,4675,6217,4677,5193,4739,6185,4741,5161,4867,6169,4869,5145,5127,7173,5131,6661,5133,5637,5139,6405,5141,5381,5155,6277,5157,5253,5187,6213,5251,6181,5379,6165,5635,6157,6151,7171,6155,6659,6163,6403,6179,6275,6211,5189,4681,4433,4321,3142,2634,2386,2274,1612,1364,1252,856,744,496]),e.tab213=s([3,6144,5,5120,6,3072,9,4608,10,2560,12,1536,17,4352,18,2304,20,1280,24,768,33,4224,34,2176,36,1152,40,640,48,384,65,4160,66,2112,68,1088,72,576,80,320,96,192,129,4128,130,2080,132,1056,136,544,144,288,257,4112,258,2064,260,1040,264,528,513,4104,514,2056,516,1032,1025,4100,1026,2052,2049,4098,4097,2050,1028,520,272,160]),e.chars=s(10);for(var ee=0;ee<=9;ee+=1){e.i=ee;var se=c(e.codewords,e.i);if(r[t++]=se,se<=1286){var de=c(e.tab513,r[--t]);r[t++]=de}else{var ke=c(e.tab213,r[--t]-1287);r[t++]=ke}r[t++]=e.chars,r[t++]=e.i;var ae=r[t-3],De=r[t-1];g(r[t-2],De,ae),t-=3}for(var we=9;we>=0;we-=1)e.i=we,~~li(2,e.i)&e.fcs&&g(e.chars,e.i,c(e.chars,e.i)^8191);e.barmap=s([7,2,4,3,1,10,0,0,9,12,2,8,5,5,6,11,8,9,3,1,0,1,5,12,2,5,1,8,4,4,9,11,6,3,8,10,3,9,7,6,5,11,1,4,8,5,2,12,9,10,0,2,7,1,6,7,3,6,4,9,0,3,8,6,6,4,2,7,1,1,9,9,7,10,5,2,4,0,3,8,6,2,0,4,8,11,1,0,9,8,3,12,2,6,7,7,5,1,4,10,1,12,6,9,7,3,8,0,5,8,9,7,4,6,2,10,3,4,0,5,8,4,5,7,7,11,1,9,6,0,9,6,0,6,4,8,2,1,3,2,5,9,8,12,4,11,6,1,9,5,7,4,3,3,1,2,0,7,2,0,1,3,4,1,6,10,3,5,8,7,9,4,2,11,5,6,0,8,7,12,4,2,8,1,5,10,3,0,9,3,0,9,6,5,2,4,7,8,1,7,5,0,4,5,2,3,0,10,6,12,9,2,3,11,1,6,8,8,7,9,5,4,0,11,1,5,2,2,9,1,4,12,8,3,6,6,7,0,3,7,4,7,7,5,0,12,1,11,2,9,9,0,6,8,5,3,3,10,8,2]),e.bbs=s(65),e.bhs=s(65);for(var Ae=0;Ae<=64;Ae+=1)e.i=Ae,e.dec=(c(e.chars,c(e.barmap,e.i*4))&~~li(2,c(e.barmap,e.i*4+1)))!=0,e.asc=(c(e.chars,c(e.barmap,e.i*4+2))&~~li(2,c(e.barmap,e.i*4+3)))!=0,!e.dec&&!e.asc&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),!e.dec&&e.asc&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),e.dec&&!e.asc&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),e.dec&&e.asc&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var Le=e.bbs,xe=e.bhs;r[t++]=1/0;for(var Oe=0,Te=e.bhs.length-1;Oe<Te;Oe++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Pe=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Le,r[t++]="bhs",r[t++]=xe,r[t++]="sbs",r[t++]=Pe,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="left",r[t++]="textfont",r[t++]="OCR-B",r[t++]="textyoffset",r[t++]=1,r[t++]="textxoffset",r[t++]=-.3,r[t++]="opt",r[t++]=e.options;var Ue=$e();r[t++]=Ue,e.dontdraw||Bt(),e=a}function KT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=5&&e.barlen!=9&&e.barlen!=11&&(r[t++]="bwipp.postnetBadLength#12597",r[t++]="USPS POSTNET must be 5, 9 or 11 digits excluding check digit",z()),ge(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.postnetBadCharacter#12601",r[t++]="USPS POSTNET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["55222","22255","22525","22552","25225","25252","25522","52225","52252","52522","5","5"]),e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1)e.i=o,e.checksum=S(e.checksum+(c(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.postnetBadCheckDigit#12625",r[t++]="Incorrect USPS POSTNET check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=c(e.encs,10),e.heights=s(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=c(e.encs,c(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.i*5+1,e.heights),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=c(e.encs,e.checksum),e.heights=s(e.enc.length);for(var b=0,y=e.enc.length-1;b<=y;b+=1)e.j=b,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,11),e.heights=s(e.enc.length);for(var w=0,v=e.enc.length-1;w<=v;w+=1)e.j=w,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var k=0,E=e.bhs.length;k<E;k++)r[t++]=0;var j=s();r[t++]=1/0;for(var N=0,B=e.bhs.length-1;N<B;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=$e();r[t++]=D,e.dontdraw||Bt(),e=a}function WT(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.125,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var n=r[--t];r[t++]=n-1}var i=r[--t];e[r[--t]]=i,e.barlen!=11&&e.barlen!=13&&(r[t++]="bwipp.planetBadLength#12745",r[t++]="USPS PLANET must be 11 or 13 digits excluding check digit",z()),ge(e.barcode,function(){var T=r[--t];(T<48||T>57)&&(r[t++]="bwipp.planetBadCharacter#12749",r[t++]="USPS PLANET must contain only digits",z())}),e.barchars="0123456789",e.encs=s(["22555","55522","55252","55225","52552","52525","52255","25552","25525","25255","5","5"]),e.checksum=0;for(var o=0,d=e.barlen-1;o<=d;o+=1)e.i=o,e.checksum=S(e.checksum+(c(e.barcode,e.i)-48));e.checksum=(10-e.checksum%10)%10,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.planetBadCheckDigit#12774",r[t++]="Incorrect USPS PLANET check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.bhs=s(e.barlen*5+7),e.txt=s(e.barlen+1),e.enc=c(e.encs,10),e.heights=s(e.enc.length);for(var u=0,f=e.enc.length-1;u<=f;u+=1)e.j=u,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,0,e.heights);for(var h=0,p=e.barlen-1;h<=p;h+=1){e.i=h,e.enc=c(e.encs,c(e.barcode,e.i)-48),e.heights=s(e.enc.length);for(var m=0,x=e.enc.length-1;m<=x;m+=1)e.j=m,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.i*5+1,e.heights),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*5+1)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.enc=c(e.encs,e.checksum),e.heights=s(e.enc.length);for(var b=0,y=e.enc.length-1;b<=y;b+=1)e.j=b,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+1,e.heights),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*5+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",(e.barlen*5+1)*72/25,e.textyoffset,e.textfont,e.textsize])),e.enc=c(e.encs,11),e.heights=s(e.enc.length);for(var w=0,v=e.enc.length-1;w<=v;w+=1)e.j=w,g(e.heights,e.j,Fe(C(e.enc,e.j,1))*e.height/5);M(e.bhs,e.barlen*5+6,e.heights),r[t++]=1/0;var A=e.bhs;r[t++]=1/0;for(var k=0,E=e.bhs.length;k<E;k++)r[t++]=0;var j=s();r[t++]=1/0;for(var N=0,B=e.bhs.length-1;N<B;N++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var I=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,r[t++]="sbs",r[t++]=I,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var D=$e();r[t++]=D,e.dontdraw||Bt(),e=a}function JT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.royalmailEmptyData#12889",r[t++]="The data must not be empty",z()),e.barchars="ZUVWXY501234B6789AHCDEFGNIJKLMTOPQRS",e.charvals=new Map;for(var n=0;n<=35;n+=1)g(e.charvals,C(e.barchars,n,1),n);e.encs=s(["3300","2211","2301","2310","3201","3210","1122","0033","0123","0132","1023","1032","1302","0213","0303","0312","1203","1212","1320","0231","0321","0330","1221","1230","3102","2013","2103","2112","3003","3012","3120","2031","2121","2130","3021","3030","2","3"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.royalmailBadCharacter#12915",r[t++]="RM4SCC must contain only capital letters and digits",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksumrow=0,e.checksumcol=0;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=c(e.charvals,C(e.barcode,e.i,1)),e.checksumrow=e.checksumrow+~~(e.indx/6),e.checksumcol=S(e.checksumcol+e.indx%6);e.checksum=S(e.checksumrow%6*6+e.checksumcol%6),e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.royalmailBadCheckDigit#12932",r[t++]="Incorrect RM4SCC check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen)),e.encstr=W(e.barlen*4+6),e.txt=s(e.barlen+1),M(e.encstr,0,c(e.encs,36));for(var m=0,x=e.barlen-1;m<=x;m+=1)e.i=m,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.encstr,e.i*4+1,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.i*4+1)*3.312,e.textyoffset,e.textfont,e.textsize]));M(e.encstr,e.barlen*4+1,c(e.encs,e.checksum)),e.includecheckintext?g(e.txt,e.barlen,s([C(e.barchars,e.checksum,1),(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.barlen,s([" ",(e.barlen*4+1)*3.312,e.textyoffset,e.textfont,e.textsize])),M(e.encstr,e.barlen*4+5,c(e.encs,37)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var b=0,y=e.encstr.length-1;b<=y;b+=1)e.i=b,e.enc=C(e.encstr,e.i,1),Y(e.enc,"0")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),Y(e.enc,"1")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"2")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"3")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var w=e.bbs,v=e.bhs;r[t++]=1/0;for(var A=0,k=e.bhs.length-1;A<k;A++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var E=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=w,r[t++]="bhs",r[t++]=v,r[t++]="sbs",r[t++]=E,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var j=$e();r[t++]=j,e.dontdraw||Bt(),e=a}function XT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,e.custinfoenc="character",r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],Me(e.custinfoenc,"character")&&Me(e.custinfoenc,"numeric")&&(r[t++]="bwipp.auspostBadCustinfoEncoding#13045",r[t++]="Customer information encoding must be either character or numeric",z()),e.encs=s(["000","001","002","010","011","012","020","021","022","100","101","102","110","111","112","120","121","122","200","201","202","210","211","212","220","221","222","300","301","302","310","311","312","320","321","322","023","030","031","032","033","103","113","123","130","131","132","133","203","213","223","230","231","232","233","303","313","323","330","331","332","333","003","013","00","01","02","10","11","12","20","21","22","30","13","3"]),e.barchars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz #";var n=new Map([["11",37],["45",37],["59",52],["62",67]]);e.fcclen=n,e.barlen=e.barcode.length,e.barlen<10&&(r[t++]="bwipp.auspostTooShort#13075",r[t++]="The data length must be at least 10",z()),e.txt=s(e.barlen-2),r[t++]=e.fcclen,e.barlen>=2?r[t++]=C(e.barcode,0,2):r[t++]="";var i=r[t-1],o=r[t-2],d=c(o,i)!==void 0;d||(t-=2,r[t++]="bwipp.auspostBadFCC#13082",r[t++]="Must begin with an FCC, either 11, 45, 59 or 62",z());var u=r[--t];e.encstr=W(c(r[--t],u)),r[t++]=!0;for(var f=0;f<1;f++){if(e.barlen<10){r[t-1]=!1;break}for(var h=C(e.barcode,2,8),p=0,m=h.length;p<m;p++){var x=c(h,p);if(x<48||x>57){r[t-1]=!1;break}}}r[--t]||(r[t++]="bwipp.auspostIncompleteDPID#13093",r[t++]="The DPID must be 8 digits",z());var b=Y(e.custinfoenc,"numeric")?2:3;(e.barlen-10)*b>e.encstr.length-22-14&&(r[t++]="bwipp.auspostTooLong#13099",r[t++]="The message is too long",z()),M(e.encstr,0,c(e.encs,74));for(var y=0;y<=1;y+=1)e.i=y,M(e.encstr,e.i*2+2,c(e.encs,Fe(C(e.barcode,e.i,1))+64));for(var w=2;w<=9;w+=1)e.i=w,M(e.encstr,e.i*2+2,c(e.encs,Fe(C(e.barcode,e.i,1))+64)),g(e.txt,e.i-2,s([C(e.barcode,e.i,1),((e.i-2)*2+6)*3.312,e.textyoffset,e.textfont,e.textsize]));if(Y(e.custinfoenc,"numeric")){for(var v=0,A=e.barlen-11;v<=A;v+=1){e.i=v;var k=c(e.barcode,e.i+10);r[t++]=e.encs,r[t++]=k,(k<48||k>57)&&(r[t++]="bwipp.auspostInvalidCustinfoDigit#13126",r[t++]="The customer information data contains a non-digit character",z());var E=r[--t];M(e.encstr,e.i*2+22,c(r[--t],E-48+64)),g(e.txt,e.i+8,s([C(e.barcode,e.i+10,1),(e.i*2+22)*3.312,e.textyoffset,e.textfont,e.textsize]))}e.ciflen=(e.barlen-10)*2}else{for(var j=0,N=e.barlen-11;j<=N;j+=1)e.i=j,It(e.barchars,C(e.barcode,e.i+10,1)),r[--t]||(t--,r[t++]="bwipp.auspostInvalidCustinfoCharacter#13138",r[t++]="The customer information contains an invalid character",z()),e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.encstr,e.i*3+22,e.enc),g(e.txt,e.i+8,s([C(e.barcode,e.i+10,1),(e.i*3+22)*3.312,e.textyoffset,e.textfont,e.textsize]));e.ciflen=(e.barlen-10)*3}for(var B=22+e.ciflen,I=e.encstr.length-14;B<=I;B+=1)M(e.encstr,B,c(e.encs,75));e.rstable=s(64*64),r[t++]=e.rstable,r[t++]=0,r[t++]=1/0;for(var D=0;D<64;D++)r[t++]=0;var T=s(),R=r[--t];M(r[--t],R,T),r[t++]=e.rstable,r[t++]=64,r[t++]=1/0;for(var $=0;$<=63;$+=1)r[t++]=$;var F=s(),_=r[--t];M(r[--t],_,F),e.prev=1;for(var Q=0;Q<64;Q++){e.next=e.prev<<1,e.next&64&&(e.next=e.next^67);for(var H=0;H<=63;H+=1){e.j=H,e.nextcell=function(){r[t++]=e.rstable,r[t++]=64*e.next+e.j},e.nextcell();var J=r[--t];g(r[--t],J,c(e.rstable,64*e.prev+e.j)<<1),e.nextcell();var K=r[--t];if(c(r[--t],K)&64){e.nextcell(),e.nextcell();var he=r[--t],G=c(r[--t],he),L=r[--t];g(r[--t],L,G^67)}}e.prev=e.next}e.rscodes=s(~~((e.encstr.length-16)/3)+4),r[t++]=e.rscodes,r[t++]=0,r[t++]=1/0;for(var ce=0;ce<4;ce++)r[t++]=0;var fe=s(),U=r[--t];M(r[--t],U,fe);for(var ee=2,se=e.encstr.length-16;ee<=se;ee+=3)e.i=ee,g(e.rscodes,e.rscodes.length-~~((e.i-2)/3)-1,Fe(C(e.encstr,e.i,1))*16+Fe(C(e.encstr,e.i+1,1))*4+Fe(C(e.encstr,e.i+2,1)));for(var de=e.rscodes.length-5;de>=0;de-=1){e.i=de;for(var ke=0;ke<=4;ke+=1)e.j=ke,g(e.rscodes,e.i+e.j,fs(c(e.rscodes,e.i+e.j),c(e.rstable,S(64*c(s([48,17,29,30,1]),e.j)+c(e.rscodes,e.i+4)))))}e.checkcode=Fr(W(12),"000000000000");for(var ae=0;ae<=3;ae+=1)e.i=ae,e.enc=$t(W(3),c(e.rscodes,3-e.i),4),M(e.checkcode,e.i*3+(3-e.enc.length),e.enc);M(e.encstr,e.encstr.length-14,e.checkcode),M(e.encstr,e.encstr.length-2,c(e.encs,74)),e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var De=0,we=e.encstr.length-1;De<=we;De+=1)e.i=De,e.enc=C(e.encstr,e.i,1),Y(e.enc,"0")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8)),Y(e.enc,"1")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"2")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"3")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var Ae=e.bbs,Le=e.bhs;r[t++]=1/0;for(var xe=0,Oe=e.bhs.length-1;xe<Oe;xe++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var Te=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=Ae,r[t++]="bhs",r[t++]=Le,r[t++]="sbs",r[t++]=Te,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var Pe=$e();r[t++]=Pe,e.dontdraw||Bt(),e=a}function ZT(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.kixEmptyData#13291",r[t++]="The data must not be empty",z()),e.encs=s(["0033","0123","0132","1023","1032","1122","0213","0303","0312","1203","1212","1302","0231","0321","0330","1221","1230","1320","2013","2103","2112","3003","3012","3102","2031","2121","2130","3021","3030","3120","2211","2301","2310","3201","3210","3300"]),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.charvals=new Map;for(var n=0;n<=35;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.kixBadCharacter#13316",r[t++]="KIX must contain only capital letters and digits",z())}e.barlen=e.barcode.length,e.encstr=W(e.barlen*4),e.txt=s(e.barlen);for(var u=0,f=e.barlen-1;u<=f;u+=1)e.i=u,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.encstr,e.i*4,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*4*3.312,e.textyoffset,e.textfont,e.textsize]));e.bbs=s(e.encstr.length),e.bhs=s(e.encstr.length);for(var h=0,p=e.encstr.length-1;h<=p;h+=1)e.i=h,e.enc=C(e.encstr,e.i,1),Y(e.enc,"0")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8)),Y(e.enc,"1")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"2")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"3")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8));r[t++]=1/0;var m=e.bbs,x=e.bhs;r[t++]=1/0;for(var b=0,y=e.bhs.length-1;b<y;b++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var w=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=m,r[t++]="bhs",r[t++]=x,r[t++]="sbs",r[t++]=w,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var v=$e();r[t++]=v,e.dontdraw||Bt(),e=a}function eR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.includecheckintext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.175,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.japanpostEmptyData#13415",r[t++]="The data must not be empty",z()),ge(e.barcode,function(){var w=r[--t];w>=48&&w<=57||w>=65&&w<=90||w==45||(r[t++]="bwipp.japanpostBadCharacter#13425",r[t++]="Japan Post must contain only digits, capital letters and the dash symbol",z())}),e.encs=s(["300","330","312","132","321","303","123","231","213","033","030","120","102","210","012","201","021","003","333","31","13"]),e.barchars="0123456789-ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.barlen=e.barcode.length,e.encstr=W(21*3+4),e.digits=s(20),e.txt=s(e.barlen+1),M(e.encstr,0,c(e.encs,19)),e.checksum=0,e.j=0,e.i=0,r[t++]=!0;for(var n=0,i=e.barlen-1;n<=i;n+=1){if(e.i=n,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.indx>=11&&e.indx<37){if(e.j>18){r[t-1]=!1;break}e.digit=~~((e.indx-1)/10)+10,M(e.encstr,e.j*3+2,c(e.encs,e.digit)),e.checksum=e.checksum+e.digit,g(e.digits,e.j,e.digit),e.j=e.j+1}if(e.j>19){r[t-1]=!1;break}e.digit=0,e.indx==37&&(e.digit=14),e.indx>=11&&e.indx<37&&(e.digit=(e.indx-1)%10),e.indx<11&&(e.digit=e.indx),M(e.encstr,e.j*3+2,c(e.encs,e.digit)),e.checksum=e.checksum+e.digit,g(e.digits,e.j,e.digit),g(e.txt,e.i,s([C(e.barcode,e.i,1),(e.j*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),e.j=e.j+1}r[--t]||(r[t++]="bwipp.japanpostTooLong#13489",r[t++]="The input is too long",z());for(var o=e.j,d=19;o<=d;o+=1)e.k=o,M(e.encstr,e.k*3+2,c(e.encs,14)),e.checksum=e.checksum+14,g(e.digits,e.k,14);e.checksum=19-e.checksum%19,M(e.encstr,2+20*3,c(e.encs,e.checksum)),M(e.encstr,2+21*3,c(e.encs,20)),e.checkdigit=" ",e.includecheckintext&&(e.checkdigit=C(e.barchars,e.checksum,1)),g(e.txt,e.i+1,s([e.checkdigit,(20*3+2)*3.312,e.textyoffset,e.textfont,e.textsize])),M(e.encstr,21*3+2,c(e.encs,20)),e.bbs=s(21*3+4),e.bhs=s(e.bbs.length);for(var u=0,f=e.bbs.length-1;u<=f;u+=1)e.i=u,e.enc=C(e.encstr,e.i,1),e.bunit=0,e.hunit=0,Y(e.enc,"0")&&(e.bunit=3,e.hunit=2),Y(e.enc,"1")&&(e.bunit=0,e.hunit=5),Y(e.enc,"2")&&(e.bunit=3,e.hunit=5),Y(e.enc,"3")&&(e.bunit=0,e.hunit=8),g(e.bbs,e.i,e.bunit*e.height/8),g(e.bhs,e.i,e.hunit*e.height/8);r[t++]=1/0;var h=e.bbs,p=e.bhs;r[t++]=1/0;for(var m=0,x=e.bhs.length-1;m<x;m++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var b=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=h,r[t++]="bhs",r[t++]=p,r[t++]="sbs",r[t++]=b,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var y=$e();r[t++]=y,e.dontdraw||Bt(),e=a}function tR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includecheck=!1,e.includetext=!1,e.includecheckintext=!1,e.checktype="unset",e.badmod11=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],Me(e.checktype,"unset")&&!e.includecheck&&(r[t++]="bwipp.msiCheckTypeWithoutCheck#13606",r[t++]="checktype requires includecheck",z()),e.badmod11&&Me(e.checktype,"mod11")&&Me(e.checktype,"ncrmod11")&&Me(e.checktype,"mod1110")&&Me(e.checktype,"ncrmod1110")&&(r[t++]="bwipp.msiBadMod11Mismatch#13610",r[t++]="badmod11 requires checktype with mod11",z()),Y(e.checktype,"unset")&&(e.checktype="mod10"),ge(e.barcode,function(){var B=r[--t];(B<48||B>57)&&(r[t++]="bwipp.msiBadCharacter#13620",r[t++]="MSI must contain only digits",z())}),e.encs=s(["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221","21","121"]),e.barchars="0123456789",e.barlen=e.barcode.length,e.txtlen=e.barlen,e.mod10=function(){e.code=r[--t],r[t++]=0,r[t++]=0,ge(e.code,function(){var H=r[--t],J=r[--t],K=r[--t];r[t++]=S(H-48+J*10),r[t++]=K}),t--;var B=r[--t];for(r[t++]=B*2,r[t++]=0;;){var I=r[--t],D=r[--t],T=~~(D/10);if(r[t++]=S(I+D%10),r[t++]=T,T==0){t--;break}var R=r[--t],$=r[--t];r[t++]=R,r[t++]=$}r[t++]=0,r[t++]=0,ge(e.code,function(){var H=r[--t],J=r[--t],K=r[--t];r[t++]=S(J+(H-48)),r[t++]=K});var F=r[--t];r[t-1]=F;var _=r[--t],Q=W(e.code.length+1);M(Q,0,e.code),g(Q,e.code.length,(10-S(r[--t]+_)%10)%10+48),r[t++]=Q},e.mod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ge(e.code,function(){var J=r[--t],K=r[--t];r[t++]=J-48,r[t++]=K%6+2,r[t++]=K-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],T=r[t-3],R=r[t-1];t-=3,r[t++]=S(R+T*D)}var $=(11-r[--t]%11)%11;if(r[t++]=$,$==10)if(e.badmod11){t--;var F=W(e.code.length+2);M(F,0,e.code),M(F,e.code.length,"10"),r[t++]=F}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13657",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var _=W(e.code.length+1);M(_,0,e.code),r[t++]=_,r[t++]=_,r[t++]=e.code.length,Na(4,-1);var Q=r[--t],H=r[--t];g(r[--t],H,Q+48)}},e.ncrmod11=function(){e.code=r[--t],r[t++]=e.code.length-1,ge(e.code,function(){var J=r[--t],K=r[--t];r[t++]=J-48,r[t++]=K%8+2,r[t++]=K-1}),r[t-1]=0;for(var B=0,I=e.code.length;B<I;B++){var D=r[t-2],T=r[t-3],R=r[t-1];t-=3,r[t++]=S(R+T*D)}var $=(11-r[--t]%11)%11;if(r[t++]=$,$==10)if(e.badmod11){t--;var F=W(e.code.length+2);M(F,0,e.code),M(F,e.code.length,"10"),r[t++]=F}else t--,r[t++]="bwipp.msiBadMod11NotSpecified#13673",r[t++]="mod11 check digit is 10 but badmod11 not specified",z();else{var _=W(e.code.length+1);M(_,0,e.code),r[t++]=_,r[t++]=_,r[t++]=e.code.length,Na(4,-1);var Q=r[--t],H=r[--t];g(r[--t],H,Q+48)}};var n=new Map([["mod10",function(){e.mod10()}],["mod1010",function(){e.mod10(),e.mod10()}],["mod11",function(){e.mod11()}],["ncrmod11",function(){e.ncrmod11()}],["mod1110",function(){e.mod11(),e.mod10()}],["ncrmod1110",function(){e.ncrmod11(),e.mod10()}]]);if(e.checkfunc=n,e.includecheck){var i=e.checkfunc,o=e.checktype,d=c(i,o)!==void 0;r[t++]=i,r[t++]=o,d||(t-=2,r[t++]="bwipp.msiBadCharacter#13694",r[t++]="MSI checktype must be mod10, mod1010, mod11, ncrmod11, mod1110 or ncrmod1110",z());var u=r[--t],f=c(r[--t],u);if(r[t++]=e.barcode,f()===!0)return!0;e.barcode=r[--t],e.barlen=e.barcode.length,e.includecheckintext&&(e.txtlen=e.barlen)}e.sbs=W(e.barlen*8+5),e.txt=s(e.barlen),M(e.sbs,0,c(e.encs,10));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*8+2,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*12+3,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,e.barlen*8+2,c(e.encs,11)),r[t++]=1/0,r[t++]=1/0;for(var m=e.sbs,x=0,b=m.length;x<b;x++)r[t++]=c(m,x)-48;var y=s();r[t++]=1/0;for(var w=0,v=~~((e.sbs.length+1)/2);w<v;w++)r[t++]=e.height;var A=s();r[t++]=1/0;for(var k=0,E=~~((e.sbs.length+1)/2);k<E;k++)r[t++]=0;var j=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=y,r[t++]="bhs",r[t++]=A,r[t++]="bbs",r[t++]=j,e.includetext&&(r[t++]="txt",r[t++]=C(e.txt,0,e.txtlen)),r[t++]="opt",r[t++]=e.options;var N=$e();r[t++]=N,e.dontdraw||Bt(),e=a}function rR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.validatecheck=!1,e.includecheckintext=!1,e.unidirectional=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.plesseyEmptyData#13785",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEF",e.charvals=new Map;for(var n=0;n<=15;n+=1)g(e.charvals,C(e.barchars,n,1),n);e.encs=s(["14141414","32141414","14321414","32321414","14143214","32143214","14323214","32323214","14141432","32141432","14321432","32321432","14143232","32143232","14323232","32323232","32321432","541412323","323"]);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.plesseyBadCharacter#13809",r[t++]="Plessey must contain only digits and letters A B C D E F",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-2}var f=r[--t];e[r[--t]]=f,e.checkbits=s(e.barlen*4+8),M(e.checkbits,e.barlen*4,s([0,0,0,0,0,0,0,0]));for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.checkbits,e.i*4,s([e.indx&1,e.indx>>>1&1,e.indx>>>2&1,e.indx>>>3]));e.checksalt=s([1,1,1,1,0,1,0,0,1]);for(var m=0,x=e.barlen*4-1;m<=x;m+=1)if(e.i=m,c(e.checkbits,e.i)==1)for(var b=0;b<=8;b+=1)e.j=b,g(e.checkbits,e.i+e.j,fs(c(e.checkbits,e.i+e.j),c(e.checksalt,e.j)));e.checkval=0;for(var y=0;y<=7;y+=1)e.i=y,e.checkval=S(e.checkval+~~li(2,e.i)*c(e.checkbits,S(e.barlen*4+e.i)));e.checksum1=e.checkval&15,e.checksum2=e.checkval>>>4,e.validatecheck&&((c(e.barcode,e.barlen)!=c(e.barchars,e.checksum1)||c(e.barcode,e.barlen+1)!=c(e.barchars,e.checksum2))&&(r[t++]="bwipp.plesseyBadCheckDigits#13848",r[t++]="Incorrect Plessey check digits provided",z()),e.barcode=C(e.barcode,0,e.barlen));var w=e.unidirectional?27:33;e.sbs=W(S(e.barlen*8+w)),e.txt=s(e.barlen+2),M(e.sbs,0,c(e.encs,16));for(var v=0,A=e.barlen-1;v<=A;v+=1)e.i=v,e.indx=c(e.charvals,C(e.barcode,e.i,1)),M(e.sbs,e.i*8+8,c(e.encs,e.indx)),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*20+20,e.textyoffset,e.textfont,e.textsize]));M(e.sbs,e.barlen*8+8,c(e.encs,e.checksum1)),M(e.sbs,e.barlen*8+16,c(e.encs,e.checksum2)),e.includecheckintext?(g(e.txt,e.barlen,s([C(e.barchars,e.checksum1,1),e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,s([C(e.barchars,e.checksum2,1),(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize]))):(g(e.txt,e.barlen,s([" ",e.barlen*20+20,e.textyoffset,e.textfont,e.textsize])),g(e.txt,e.barlen+1,s([" ",(e.barlen+1)*20+20,e.textyoffset,e.textfont,e.textsize])));var k=e.unidirectional?18:17;M(e.sbs,e.barlen*8+24,c(e.encs,k)),r[t++]=1/0,r[t++]=1/0;for(var E=e.sbs,j=0,N=E.length;j<N;j++)r[t++]=c(E,j)-48;var B=s();r[t++]=1/0;for(var I=0,D=~~((e.sbs.length+1)/2);I<D;I++)r[t++]=e.height;var T=s();r[t++]=1/0;for(var R=0,$=~~((e.sbs.length+1)/2);R<$;R++)r[t++]=0;var F=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=B,r[t++]="bhs",r[t++]=T,r[t++]="bbs",r[t++]=F,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var _=$e();r[t++]=_,e.dontdraw||Bt(),e=a}function Rw(){var a=e;e=Object.assign({},e),e.numeric=!1,e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=1,e.parse=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];for(e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.numeric&&e.barlen%2!=0&&(r[t++]="bwipp.telepenNumericOddLength#13955",r[t++]="Telepen Numeric must have an even length",z()),e.encs=s(["31313131","1131313111","33313111","1111313131","3111313111","11333131","13133131","111111313111","31333111","1131113131","33113131","1111333111","3111113131","1113133111","1311133111","111111113131","3131113111","11313331","333331","111131113111","31113331","1133113111","1313113111","1111113331","31131331","113111113111","3311113111","1111131331","311111113111","1113111331","1311111331","11111111113111","31313311","1131311131","33311131","1111313311","3111311131","11333311","13133311","111111311131","31331131","1131113311","33113311","1111331131","3111113311","1113131131","1311131131","111111113311","3131111131","1131131311","33131311","111131111131","3111131311","1133111131","1313111131","111111131311","3113111311","113111111131","3311111131","111113111311","311111111131","111311111311","131111111311","11111111111131","3131311111","11313133","333133","111131311111","31113133","1133311111","1313311111","1111113133","313333","113111311111","3311311111","11113333","311111311111","11131333","13111333","11111111311111","31311133","1131331111","33331111","1111311133","3111331111","11331133","13131133","111111331111","3113131111","1131111133","33111133","111113131111","3111111133","111311131111","131111131111","111111111133","31311313","113131111111","3331111111","1111311313","311131111111","11331313","13131313","11111131111111","3133111111","1131111313","33111313","111133111111","3111111313","111313111111","131113111111","111111111313","313111111111","1131131113","33131113","11113111111111","3111131113","113311111111","131311111111","111111131113","3113111113","11311111111111","331111111111","111113111113","31111111111111","111311111113","131111111113","1111111111111111"]),e.sbs=W(e.barlen*16+48),e.txt=s(e.barlen),e.enc=c(e.encs,95),M(e.sbs,0,e.enc),e.l=e.enc.length,e.checksum=0,e.i=0,e.j=0;e.i!=e.barlen;){if(e.numeric)if(c(e.barcode,e.i)>16){e.np=C(e.barcode,e.i,2);var o=c(e.np,0),d=c(e.np,1);if(o<48||o>57||(d<48||d>57)&&d!=88)r[t++]=-1;else{var u=c(e.np,1)-48;if(r[t++]=c(e.np,0)-48,r[t++]=u,u!=40){var f=r[--t],h=r[--t];r[t++]=S(f+h*10)+10}else t--;var p=r[--t];r[t++]=p+17}var m=r[t-1];m==-1&&(r[t++]="bwipp.telepenInvalidNumericCharacter#14021",r[t++]="Telepen Numeric may contain only digits, or X in even positions",z()),e.indx=r[--t],g(e.txt,e.j,s([e.np,e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+2}else e.indx=c(e.barcode,e.i),g(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;else e.indx=c(e.barcode,e.i),e.indx>127&&(r[t++]="bwipp.telepenInvalidAlphaCharacter#14034",r[t++]="Telepen Alpha characters must have ordinal values 0 to 127",z()),e.indx>=32&&e.indx<=126?g(e.txt,e.j,s([C(e.barcode,e.i,1),e.j*16+16,e.textyoffset,e.textfont,e.textsize])):g(e.txt,e.j,s([" ",e.j*16+16,e.textyoffset,e.textfont,e.textsize])),e.i=e.i+1;e.checksum=S(e.checksum+e.indx),e.enc=c(e.encs,e.indx),M(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.j=e.j+1}e.checksum=(127-e.checksum%127)%127,e.enc=c(e.encs,e.checksum),M(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.enc=c(e.encs,122),M(e.sbs,e.l,e.enc),e.l=e.l+e.enc.length,e.sbs=C(e.sbs,0,e.l),e.txt=C(e.txt,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var x=e.sbs,b=0,y=x.length;b<y;b++)r[t++]=c(x,b)-48;var w=s();r[t++]=1/0;for(var v=0,A=~~((e.sbs.length+1)/2);v<A;v++)r[t++]=e.height;var k=s();r[t++]=1/0;for(var E=0,j=~~((e.sbs.length+1)/2);E<j;E++)r[t++]=0;var N=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=w,r[t++]="bhs",r[t++]=k,r[t++]="bbs",r[t++]=N,e.includetext&&(r[t++]="txt",r[t++]=e.txt),r[t++]="opt",r[t++]=e.options;var B=$e();r[t++]=B,e.dontdraw||Bt(),e=a}function aR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"numeric",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Rw();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function sR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textxoffset=0,e.textyoffset=-8,e.height=1,e.encoding="auto",e.version="a",e.checkoffset=0,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t];var n=r[--t];e.barcode=n,e.la0=-1,e.la1=-2,e.la2=-3,e.sf0=-4,e.sf1=-5,e.sf2=-6,e.fn1=-7,e.fn2=-8,e.fn3=-9,e.fn4=-10;var i=s([e.sf1,e.sf0,e.fn3]);e.charmapsnormal=s([s(["0","^","'"]),s(["1",";",27]),s(["2","<",28]),s(["3","=",29]),s(["4",">",30]),s(["5","?",31]),s(["6","@","!"]),s(["7","[",'"']),s(["8",92,"#"]),s(["9","]","&"]),s(["A","a",1]),s(["B","b",2]),s(["C","c",3]),s(["D","d",4]),s(["E","e",5]),s(["F","f",6]),s(["G","g",7]),s(["H","h",8]),s(["I","i",9]),s(["J","j",10]),s(["K","k",11]),s(["L","l",12]),s(["M","m",13]),s(["N","n",14]),s(["O","o",15]),s(["P","p",16]),s(["Q","q",17]),s(["R","r",18]),s(["S","s",19]),s(["T","t",20]),s(["U","u",21]),s(["V","v",22]),s(["W","w",23]),s(["X","x",24]),s(["Y","y",25]),s(["Z","z",26]),s(["-","_",40]),s([".","`",41]),s([" ",127,0]),s(["$","{","*"]),s(["/","|",","]),s(["+","}",":"]),s(["%","~",e.fn1]),s([e.la1,e.la0,e.fn2]),i,s([e.sf2,e.sf2,e.fn4])]),e.chapmapslimited=s([s(["0",-98,-98]),s(["1",-98,-98]),s(["2",-98,-98]),s(["3",-98,-98]),s(["4",-98,-98]),s(["5",-98,-98]),s(["6",-98,-98]),s(["7",-98,-98]),s(["8",-98,-98]),s(["9",-98,-98]),s(["A",-98,-98]),s(["B",-98,-98]),s(["C",-98,-98]),s(["D",-98,-98]),s(["E",-98,-98]),s(["F",-98,-98]),s(["G",-98,-98]),s(["H",-98,-98]),s(["I",-98,-98]),s(["J",-98,-98]),s(["K",-98,-98]),s(["L",-98,-98]),s(["M",-98,-98]),s(["N",-98,-98]),s(["O",-98,-98]),s(["P",-98,-98]),s(["Q",-98,-98]),s(["R",-98,-98]),s(["S",-98,-98]),s(["T",-98,-98]),s(["U",-98,-98]),s(["V",-98,-98]),s(["W",-98,-98]),s(["X",-98,-98]),s(["Y",-98,-98]),s(["Z",-98,-98]),s(["-",-98,-98]),s([".",-98,-98])]),Me(e.version,"a")&&Me(e.version,"b")&&Me(e.version,"limiteda")&&Me(e.version,"limitedb")&&(r[t++]="bwipp.posicodeInvalidVersion#14226",r[t++]="The version must be either a, b, limiteda or limitedb",z()),r[t++]="charmaps",Y(e.version,"a")||Y(e.version,"b")?r[t++]=e.charmapsnormal:r[t++]=e.chapmapslimited;var o=r[--t];e[r[--t]]=o,e.charmaps,e.charmaps,e.charmaps,e.charvals=s([new Map,new Map,new Map]);for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=2;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,Y(tn(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}g(c(e.charvals,e.j),r[--t],e.i)}}if(e.set0=c(e.charvals,0),e.set1=c(e.charvals,1),e.set2=c(e.charvals,2),Y(e.version,"limiteda")||Y(e.version,"limitedb"))for(var m=0,x=e.barcode.length-1;m<=x;m+=1){var b=c(e.set0,c(C(e.barcode,m,1),0))!==void 0;b||(r[t++]="bwipp.posicodeBadCharacter#14252",r[t++]="Posicode limited must contain only digits, capital letters, and the symbols - and .",z())}if(e.raw&&(e.encoding="raw"),Y(e.encoding,"raw")){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j),e.text=""}if(Y(e.encoding,"auto")){var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,e.text=W(e.msglen);for(var v=0,A=e.msglen-1;v<=A;v+=1){e.i=v;var k=c(e.msg,e.i);r[t++]=e.text,r[t++]=e.i,r[t++]=k,k<0&&(r[t-1]=32);var E=r[--t],j=r[--t];g(r[--t],j,E)}r[t++]=1/0;for(var N=0,B=e.msglen;N<B;N++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numEA=s();for(var T=e.msglen-1;T>=0;T-=1)e.i=T,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?g(e.numEA,e.i,c(e.numEA,e.i+1)+1):g(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var R=0,$=e.msglen-1;R<=$;R+=1){if(e.i=R,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var F=c(r[--t],e.i),_=S(F+e.i)==e.msglen?3:5;F<_?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}for(e.msg=e.msgtmp,e.msglen=e.msg.length,e.enc=function(){var ut=r[--t];g(e.cws,e.j,c(ut,r[--t])),e.j=e.j+1},e.cws=s(e.msglen*2),e.i=0,e.j=0,e.cset="set0";e.i!=e.msglen;)for(;;){e.char1=c(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=c(e.msg,e.i+1):r[t++]=-99;var Q=r[--t];e[r[--t]]=Q;var H=c(e[e.cset],e.char1)!==void 0;if(H){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var J=c(e.set2,e.char1)!==void 0;if(J){r[t++]=e.sf2,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set2,e.enc(),e.i=e.i+1;break}var K=c(e[e.cset],e.char2)!==void 0;if(K){Y(e.cset,"set0")?(r[t++]=e.sf1,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set1,e.enc()):(r[t++]=e.sf0,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e.set0,e.enc()),e.i=e.i+1;break}else{Y(e.cset,"set0")?(r[t++]=e.la1,r[t++]=e[e.cset],e.enc(),e.cset="set1"):(r[t++]=e.la0,r[t++]=e[e.cset],e.enc(),e.cset="set0");break}}e.cws=C(e.cws,0,e.j)}var he=new Map([["a",s(["141112","131212","121312","111412","131113","121213","111313","121114","111214","111115","181111","171211","161311","151411","141511","131611","121711","111811","171112","161212","151312","141412","131512","121612","111712","161113","151213","141313","131413","121513","111613","151114","141214","131314","121414","111514","141115","131215","121315","111415","131116","121216","111316","121117","111217","111118","1<111112","111111111;1"])],["b",s(["151213","141313","131413","121513","141214","131314","121414","131215","121315","121216","191212","181312","171412","161512","151612","141712","131812","121912","181213","171313","161413","151513","141613","131713","121813","171214","161314","151414","141514","131614","121714","161215","151315","141415","131515","121615","151216","141316","131416","121516","141217","131317","121417","131218","121318","121219","1<121312","121212121<1"])],["limiteda",s(["111411","111312","111213","111114","121311","121212","121113","141111","131211","131112","171111","161211","151311","141411","131511","121611","111711","161112","151212","141312","131412","121512","111612","151113","141213","131313","121413","111513","141114","131214","121314","111414","131115","121215","111315","121116","111216","111117","151111","1"])],["limitedb",s(["121512","121413","121314","121215","131412","131313","131214","151212","141312","141213","181212","171312","161412","151512","141612","131712","121812","171213","161313","151413","141513","131613","121713","161214","151314","141414","131514","121614","151215","141315","131415","121515","141216","131316","121416","131217","121317","121218","141212","1"])]]);e.encmaps=he,e.encs=c(e.encmaps,e.version),e.c2w=s([s([495,330,210,126,70,35,15,5]),s([165,120,84,56,35,20,10,4]),s([45,36,28,21,15,10,6,3]),s([9,8,7,6,5,4,3,2]),s([1,1,1,1,1,1,1,1])]),e.v=0;for(var G=e.cws,L=0,ce=G.length;L<ce;L++){e.cw=c(G,L);for(var fe=0;fe<6;fe++)(e.cw^e.v)&1&&(e.v=e.v^7682),e.v=e.v>>>1,e.cw=e.cw>>>1}for(e.v=e.v+e.checkoffset,Y(e.version,"limiteda")||Y(e.version,"limitedb")?(e.v=e.v&1023,e.v>824&&e.v<853&&(e.v=e.v+292)):e.v=(e.v&1023)+45,e.d=s([2,2,2,2,2,2]),e.r=0,e.c=0,e.w=0,e.sum=0;e.sum!=e.v;)e.t=S(e.sum+c(c(e.c2w,e.r),e.c)),e.t==e.v&&(e.w=e.w+1,g(e.d,e.r,e.w+2),e.sum=e.t),e.t>e.v&&(g(e.d,e.r,e.w+2),e.r=e.r+1,e.w=0),e.t<e.v&&(e.c=e.c+1,e.w=e.w+1,e.sum=e.t);r[t++]=20;for(var U=0;U<=4;U+=1){var ee=r[--t];r[t++]=S(ee-c(e.d,U))}if(g(e.d,5,r[--t]),Y(e.version,"b")||Y(e.version,"limitedb")){r[t++]=1/0;for(var se=e.d,de=0,ke=se.length;de<ke;de++)r[t++]=c(se,de)+1;e.d=s()}e.cbs=Fr(W(12),"111111111111");for(var ae=5;ae>=0;ae-=1)e.i=ae,g(e.cbs,(5-e.i)*2+1,c(e.d,e.i)+47);e.sbs=W(e.cws.length*6+31);var De=c(e.encs,e.encs.length-2);M(e.sbs,0,De),e.j=De.length;for(var we=0,Ae=e.cws.length-1;we<=Ae;we+=1)e.i=we,M(e.sbs,e.j,c(e.encs,c(e.cws,e.i))),e.j=e.j+6;M(e.sbs,e.j,e.cbs),e.j=e.j+12;var Le=c(e.encs,e.encs.length-1);M(e.sbs,e.j,Le),e.j=Le.length+e.j,e.sbs=C(e.sbs,0,e.j),r[t++]=1/0,r[t++]=1/0;for(var xe=e.sbs,Oe=0,Te=xe.length;Oe<Te;Oe++)r[t++]=c(xe,Oe)-48;var Pe=s();r[t++]=1/0;for(var Ue=0,Ze=~~((e.sbs.length+1)/2);Ue<Ze;Ue++)r[t++]=e.height;var te=s();r[t++]=1/0;for(var oe=0,Re=~~((e.sbs.length+1)/2);oe<Re;oe++)r[t++]=0;var ze=s(),Je=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]),Qe=new Map([["a",0],["b",0],["limiteda",12],["limitedb",13]]);r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=Pe,r[t++]="bhs",r[t++]=te,r[t++]="bbs",r[t++]=ze,r[t++]="txt",r[t++]=s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])]),r[t++]="textxalign",r[t++]="center",r[t++]="borderleft",r[t++]=c(Je,e.version),r[t++]="borderright",r[t++]=c(Qe,e.version),r[t++]="opt",r[t++]=e.options;var qe=$e();r[t++]=qe,e.dontdraw||Bt(),e=a}function Mw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=8,e.rowheight=10,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],(e.columns<4||e.columns>62)&&(r[t++]="bwipp.codablockfBadColumns#14582",r[t++]="Codablock F must have 4 to 62 columns",z()),e.rows!=-1&&(e.rows<2||e.rows>44)&&(r[t++]="bwipp.codablockfBadRows#14586",r[t++]="Codablock F must have 2 to 44 rows",z()),e.rowheight<8&&(r[t++]="bwipp.codablockfBadRowHeight#14590",r[t++]="Codablock F must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.codablockfBadSepHeight#14594",r[t++]="Codablock F must have sepheight of at least 1",z()),r[t++]="c",e.columns>=4&&e.columns<=62?r[t++]=e.columns:r[t++]=8;var n=r[--t];e[r[--t]]=n,r[t++]="rows",e.rows>=2&&e.rows<=44?r[t++]=e.rows:r[t++]=-1;var i=r[--t];e[r[--t]]=i,e.swa=-1,e.swb=-2,e.swc=-3,e.sft=-4,e.fn1=-5,e.fn2=-6,e.fn3=-7,e.fn4=-8,e.sta=-9,e.stp=-10;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,e.msgtmp=s([]);for(var u=e.msg,f=0,h=u.length;f<h;f++)e.char=c(u,f),r[t++]=1/0,O(e.msgtmp),e.char<128?r[t++]=e.char:(r[t++]=e.fn4,r[t++]=e.char&127),e.msgtmp=s();e.kmsg=e.msg,e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sft,e.sft,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.sta,e.sta,e.sta]),s([e.stp,e.stp,e.stp])]),e.charvals=s([new Map,new Map,new Map]);for(var p=0,m=e.charmaps.length-1;p<=m;p+=1){e.i=p,e.encs=c(e.charmaps,e.i);for(var x=0;x<=2;x+=1){e.j=x;var b=c(e.encs,e.j);if(r[t++]=b,Y(tn(b),"stringtype")){var y=c(r[--t],0);r[t++]=y}g(c(e.charvals,e.j),r[--t],e.i)}}e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen||e.p!=0&&c(e.msg,e.p-1)==e.fn4);){var ye=c(e.msg,e.p),Ie=c(e.setc,ye)!==void 0;if(r[t++]=ye,!Ie){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){g(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var ye=r[t-1];if(Me(tn(ye),"arraytype")){var Ie=c(e.setc,r[--t]);r[t++]=Ie}else{O(r[--t]);var pe=r[--t],Ce=r[--t];r[t++]=S(pe-48+(Ce-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var ye=r[--t],Ie=c(e.seta,ye)!==void 0,pe=c(e.setb,ye)!==void 0;r[t++]=Ie&&!pe},e.bnota=function(){var ye=r[--t],Ie=c(e.setb,ye)!==void 0,pe=c(e.seta,ye)!==void 0;r[t++]=Ie&&!pe},r[t++]=1/0;for(var w=0,v=e.msg.length;w<v;w++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var A=0,k=e.msg.length;A<k;A++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var E=e.msg.length-1;E>=0;E-=1)e.i=E,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var ye=r[--t];r[t++]=mn(c(e.nextanotb,ye),c(e.nextbnota,ye))},e.bbeforea=function(){var ye=r[--t];r[t++]=mn(c(e.nextbnota,ye),c(e.nextanotb,ye))},e.padrow=function(){for(var ye=0,Ie=r[--t];ye<Ie;ye++)for(;;){if(Y(e.cset,"seta")){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(Y(e.cset,"setb")){r[t++]=e.swc,e.encb(),e.cset="setc";break}if(Y(e.cset,"setc")){r[t++]=e.swb,e.encc(),e.cset="setb";break}}},e.encafitsrow=function(){if(e.rem<=2&&c(e.msg,e.i)==e.fn4){var ye=e.rem==2&&c(e.msg,e.i+1)<=95;r[t++]=ye,ye&&(r[t++]=e.fn4,e.enca(),r[t++]=c(e.msg,e.i+1),e.enca(),e.i=e.i+2)}else r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1,r[t++]=!0},e.encbfitsrow=function(){if(e.rem<=2&&c(e.msg,e.i)==e.fn4){var ye=e.rem==2&&c(e.msg,e.i+1)>=32;r[t++]=ye,ye&&(r[t++]=e.fn4,e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2)}else r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1,r[t++]=!0},e.cws=s((e.c+5)*44),e.i=0,e.j=0,e.r=1,e.lastrow=!1;!e.lastrow;){for(e.r>44&&(r[t++]="bwipp.codablockfTooBig#14803",r[t++]="Maximum length exceeded",z()),r[t++]=e.sta,e.enca(),e.i<e.msglen?(r[t++]=e.i,e.numsscr()):(r[t++]=-1,r[t++]=-1),e.nums=r[--t],e.nchars=r[--t];;){if(e.msglen==0){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.nums>=2){r[t++]=e.swc,e.enca(),e.cset="setc";break}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.sft,e.enca(),e.cset="seta";break}r[t++]=e.swb,e.enca(),e.cset="setb";break}for(e.j=e.j+1,e.endofrow=!1;e.rem=S(e.c+3-e.j%(e.c+5)),!(e.i==e.msglen||e.endofrow);){r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t],r[t++]="remnums",e.nums>e.rem*2?r[t++]=e.rem*2:r[t++]=e.nums;var j=r[--t];for(e[r[--t]]=j;;){if((Y(e.cset,"seta")||Y(e.cset,"setb"))&&e.remnums>=4&&c(e.msg,e.i)!=e.fn1){if(e.remnums%2==0&&e.rem>=3){r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var N=0;N<2;N++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.remnums%2!=0&&e.rem>=4){r[t++]=c(e.msg,e.i),Y(e.cset,"seta")?e.enca():e.encb(),e.i=e.i+1,r[t++]=e.swc,Y(e.cset,"seta")?e.enca():e.encb(),e.cset="setc";for(var B=0;B<2;B++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}r[t++]=Y(e.cset,"setb"),r[t++]=c(e.msg,e.i),e.anotb();var I=r[--t],D=r[--t];if(D&&I&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.bbeforea(),r[--t])){r[t++]=e.sft,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=e.swa,e.encb(),e.cset="seta",r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}r[t++]=Y(e.cset,"seta"),r[t++]=c(e.msg,e.i),e.bnota();var T=r[--t],R=r[--t];if(R&&T&&e.rem>=2){if(e.i<e.msglen-1&&(r[t++]=e.i+1,e.abeforeb(),r[--t])){r[t++]=e.sft,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}r[t++]=e.swb,e.enca(),e.cset="setb",r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(Y(e.cset,"setc")&&e.remnums<2&&e.rem>=2){if(e.rem=e.rem-1,r[t++]=e.i,e.abeforeb(),r[--t]){if(r[t++]=e.swa,e.encc(),e.cset="seta",e.encafitsrow(),r[--t])break}else if(r[t++]=e.swb,e.encc(),e.cset="setb",e.encbfitsrow(),r[--t])break}var $=c(e.seta,c(e.msg,e.i))!==void 0;if(Y(e.cset,"seta")&&$&&e.rem>=1&&(e.encafitsrow(),r[--t]))break;var F=c(e.setb,c(e.msg,e.i))!==void 0;if(Y(e.cset,"setb")&&F&&e.rem>=1&&(e.encbfitsrow(),r[--t]))break;if(Y(e.cset,"setc")&&e.remnums>=2&&e.rem>=1){c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}e.endofrow=!0;break}}(e.r>=e.rows||e.rows==-1)&&e.r>1&&e.i==e.msglen&&e.rem>=2?(r[t++]=e.rem-2,e.padrow(),e.j=e.j+3,r[t++]=e.stp,e.enca(),e.lastrow=!0):(r[t++]=e.rem,e.padrow(),e.j=e.j+1,r[t++]=e.stp,e.enca(),e.r=e.r+1)}e.cws=C(e.cws,0,e.j),r[t++]=1/0;for(var _=64;_<=95;_+=1)r[t++]=_;for(var Q=0;Q<=15;Q+=1)r[t++]=Q;for(var H=26;H<=63;H+=1)r[t++]=H;e.abmap=s(),r[t++]=1/0;for(var J=0;J<=85;J+=1)r[t++]=J;e.cmap=s(),e.chkmsg=s(e.kmsg.length),e.j=0;for(var K=0,he=e.kmsg.length-1;K<=he;K+=1)e.i=K,e.char=c(e.kmsg,e.i),e.char>=0&&(g(e.chkmsg,e.j,e.char),e.j=e.j+1),e.char==e.fn1&&e.i!=0&&(g(e.chkmsg,e.j,29),e.j=e.j+1);e.t1=0,e.t2=0,e.k1=0,e.k2=0;for(var G=0,L=e.j-1;G<=L;G+=1)e.i=G,e.t1=c(e.chkmsg,e.i)*e.i%86,e.t2=S(e.t1+c(e.chkmsg,e.i))%86,e.k1=S(e.k1+e.t2)%86,e.k2=S(e.k2+e.t1)%86;r[t++]=e.cws,r[t++]=e.cws.length-4,Me(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var ce=c(r[--t],e.k1),fe=r[--t];g(r[--t],fe,ce),r[t++]=e.cws,r[t++]=e.cws.length-3,Me(e.cset,"setc")?r[t++]=e.abmap:r[t++]=e.cmap;var U=c(r[--t],e.k2),ee=r[--t];g(r[--t],ee,U);var se=e.cws;r[t++]=se,r[t++]=2,c(se,1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var de=c(r[--t],e.r-2),ke=r[--t];g(r[--t],ke,de);for(var ae=1,De=e.r-1;ae<=De;ae+=1){e.i=ae;var we=e.cws,Ae=e.i,Le=e.c;r[t++]=we,r[t++]=Ae*(Le+5)+2,c(we,Ae*(Le+5)+2-1)!=99?r[t++]=e.abmap:r[t++]=e.cmap;var xe=c(r[--t],e.i+42),Oe=r[--t];g(r[--t],Oe,xe)}for(var Te=0,Pe=e.r-1;Te<=Pe;Te+=1){e.rcws=C(e.cws,Te*(e.c+5),e.c+4),e.csum=c(e.rcws,0);for(var Ue=1,Ze=e.rcws.length-2;Ue<=Ze;Ue+=1)e.i=Ue,e.csum=S(e.csum+c(e.rcws,e.i)*e.i);g(e.rcws,e.rcws.length-1,e.csum%103)}var te=c(e.options,"debugcws")!==void 0;te&&(r[t++]="bwipp.debugcws#15016",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","2331112"]),e.rowbits=s(e.r);for(var oe=0,Re=e.r-1;oe<=Re;oe+=1){e.i=oe,r[t++]=1/0;for(var ze=C(e.cws,e.i*(e.c+5),e.c+5),Je=0,Qe=ze.length;Je<Qe;Je++)ge(c(e.encs,c(ze,Je)),function(){var ye=r[--t];r[t++]=ye-48});e.sbs=s(),r[t++]=1/0;var qe=e.sbs;r[t++]=0;for(var ut=0,mt=qe.length;ut<mt;ut++)for(var lt=r[t-1],vt=lt==1?0:1,St=0,kt=c(qe,ut);St<kt;St++)r[t++]=vt;Vt(s(xa()-1));var wt=r[--t];r[t-1]=wt;var Pt=r[--t];r[t-1]=Pt,r[t++]=e.rowbits,r[t++]=e.i;var Mt=r[t-3],Lt=r[t-1];g(r[t-2],Lt,Mt),t-=3}e.symwid=e.c*11+57,r[t++]=1/0;for(var Dt=0,jt=e.symwid*e.sepheight;Dt<jt;Dt++)r[t++]=1;for(var P=0,V=e.r-2;P<=V;P+=1){e.i=P;for(var q=0,ne=e.rowheight;q<ne;q++)O(c(e.rowbits,e.i));for(var ue=0,be=e.sepheight;ue<be;ue++){r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0;for(var re=0,Se=e.symwid-24;re<Se;re++)r[t++]=1;r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=1}}for(var X=0,ve=e.rowheight;X<ve;X++)O(c(e.rowbits,e.r-1));for(var me=0,je=e.symwid*e.sepheight;me<je;me++)r[t++]=1;e.pixs=s();var le=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.symwid],["pixy",~~(e.pixs.length/e.symwid)],["height",~~(e.pixs.length/e.symwid)/72],["width",e.symwid/72],["opt",e.options]]);r[t++]=le,e.dontdraw||xt(),e=a}function nR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.rows=0,e.rowheight=8,e.sepheight=1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>16)&&(r[t++]="bwipp.code16kBadRows#15133",r[t++]="Code 16K must have 2 to 16 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code16kBadRowHeight#15137",r[t++]="Code 16K must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code16kBadSepHeight#15141",r[t++]="Code 16K must have sepheight of at least 1",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code16kBadSAM#15152",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.sam!=-1&&(e.rows=16),e.swa=-1,e.swb=-2,e.swc=-3,e.sa1=-4,e.sb1=-5,e.sc1=-6,e.sa2=-7,e.sb2=-8,e.sc2=-9,e.pad=-10,e.sb3=-11,e.sc3=-12,e.fn1=-13,e.fn2=-14,e.fn3=-15,e.fn4=-16,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.fn3,e.fn3,"96"]),s([e.fn2,e.fn2,"97"]),s([e.sb1,e.sa1,"98"]),s([e.swc,e.swc,"99"]),s([e.swb,e.fn4,e.swb]),s([e.fn4,e.swa,e.swa]),s([e.fn1,e.fn1,e.fn1]),s([e.pad,e.pad,e.pad]),s([e.sb2,e.sa2,e.sb1]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3])]),e.charvals=s([new Map,new Map,new Map]);for(var o=0,d=e.charmaps.length-1;o<=d;o+=1){e.i=o,e.encs=c(e.charmaps,e.i);for(var u=0;u<=2;u+=1){e.j=u;var f=c(e.encs,e.j);if(r[t++]=f,Y(tn(f),"stringtype")){var h=c(r[--t],0);r[t++]=h}g(c(e.charvals,e.j),r[--t],e.i)}}if(e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var p=C(e.barcode,e.i+1,3);r[t++]=p,r[t++]=!1;for(var m=0,x=p.length;m<x;m++){var b=c(p,m);(b<48||b>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Fe(r[--t]),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.code16kBadRawFormat#15241",r[t++]="raw data must be formatted as ^NNN",z()),e.cws=C(e.cws,0,e.j)}else{var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,r[t++]=1/0;for(var v=0,A=e.msglen;v<A;v++)r[t++]=0;r[t++]=0,e.numSA=s(),r[t++]=1/0;for(var k=0,E=e.msglen;k<E;k++)r[t++]=0;r[t++]=0,e.numEA=s();for(var j=e.msglen-1;j>=0;j-=1)e.i=j,c(e.msg,e.i)>=0&&(c(e.msg,e.i)>=128?g(e.numEA,e.i,c(e.numEA,e.i+1)+1):g(e.numSA,e.i,c(e.numSA,e.i+1)+1));e.ea=!1,e.msgtmp=s([]);for(var N=0,B=e.msglen-1;N<=B;N+=1){if(e.i=N,e.c=c(e.msg,e.i),e.ea==e.c<128&&e.c>=0){e.ea?r[t++]=e.numSA:r[t++]=e.numEA;var I=c(r[--t],e.i),D=S(I+e.i)==e.msglen?3:5;I<D?(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,e.msgtmp=s()):(r[t++]=1/0,O(e.msgtmp),r[t++]=e.fn4,r[t++]=e.fn4,e.msgtmp=s(),e.ea=!e.ea)}r[t++]=1/0,O(e.msgtmp),e.c>=0?r[t++]=e.c&127:r[t++]=e.c,e.msgtmp=s()}e.msg=e.msgtmp,e.msglen=e.msg.length,e.numsscr=function(){for(e.n=0,e.s=0,e.p=r[--t];!(e.p>=e.msglen);){var Ut=c(e.msg,e.p),yr=c(e.setc,Ut)!==void 0;if(r[t++]=Ut,!yr){t--;break}if(r[--t]==e.fn1)if(e.s%2==0)e.s=e.s+1;else break;e.n=e.n+1,e.s=e.s+1,e.p=e.p+1}r[t++]=e.n,r[t++]=e.s},e.enca=function(){g(e.cws,e.j,c(e.seta,r[--t])),e.j=e.j+1},e.encb=function(){g(e.cws,e.j,c(e.setb,r[--t])),e.j=e.j+1},e.encc=function(){var Ut=r[t-1];if(Me(tn(Ut),"arraytype")){var yr=c(e.setc,r[--t]);r[t++]=yr}else{O(r[--t]);var ta=r[--t],fa=r[--t];r[t++]=S(ta-48+(fa-48)*10)}g(e.cws,e.j,r[--t]),e.j=e.j+1},e.anotb=function(){var Ut=r[--t],yr=c(e.seta,Ut)!==void 0,ta=c(e.setb,Ut)!==void 0;r[t++]=yr&&!ta},e.bnota=function(){var Ut=r[--t],yr=c(e.setb,Ut)!==void 0,ta=c(e.seta,Ut)!==void 0;r[t++]=yr&&!ta},r[t++]=1/0;for(var T=0,R=e.msg.length;T<R;T++)r[t++]=0;r[t++]=9999,e.nextanotb=s(),r[t++]=1/0;for(var $=0,F=e.msg.length;$<F;$++)r[t++]=0;r[t++]=9999,e.nextbnota=s();for(var _=e.msg.length-1;_>=0;_-=1)e.i=_,r[t++]=c(e.msg,e.i),e.anotb(),r[--t]?g(e.nextanotb,e.i,0):g(e.nextanotb,e.i,c(e.nextanotb,e.i+1)+1),r[t++]=c(e.msg,e.i),e.bnota(),r[--t]?g(e.nextbnota,e.i,0):g(e.nextbnota,e.i,c(e.nextbnota,e.i+1)+1);for(e.abeforeb=function(){var Ut=r[--t];r[t++]=mn(c(e.nextanotb,Ut),c(e.nextbnota,Ut))},e.bbeforea=function(){var Ut=r[--t];r[t++]=mn(c(e.nextbnota,Ut),c(e.nextanotb,Ut))},e.cws=s(e.barcode.length*2+3),e.i=0,e.j=0;;){if(e.sam!=-1){g(e.cws,0,~~(e.sam/10)-1),g(e.cws,1,e.sam%10-1),e.j=2,e.cset="setb",e.mode=7;break}if(e.msglen==0){e.cset="setb",e.mode=1;break}if(e.msglen>=2){r[t++]=c(e.msg,0)==e.fn1,r[t++]=1,e.numsscr();var Q=r[--t];r[t-1]=Q;var H=r[--t],J=r[--t];if(J&&H>=2){e.cset="setc",e.mode=4,e.i=1;break}}if(c(e.msg,0)==e.fn1){e.cset="setb",e.mode=3,e.i=1;break}if(e.msglen>=2){r[t++]=0,e.numsscr();var K=r[--t];r[t-1]=K;var he=r[--t];if(he>=2&&he%2==0){e.cset="setc",e.mode=2;break}r[t++]=0,e.numsscr();var G=r[--t];r[t-1]=G;var L=r[--t];if(L>=3&&L%2==1){r[t++]=c(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var ce=c(e.setb,c(e.msg,0))!==void 0;r[t++]=ce,r[t++]=1,e.numsscr();var fe=r[--t];r[t-1]=fe;var U=r[--t],ee=r[--t];if(ee&&U>=2&&U%2==0){r[t++]=c(e.msg,0),e.encb(),e.cset="setc",e.mode=5,e.i=1;break}var se=c(e.setb,c(e.msg,0))!==void 0;r[t++]=se,r[t++]=1,e.numsscr();var de=r[--t];r[t-1]=de;var ke=r[--t],ae=r[--t];if(ae&&ke>=3&&ke%2==1){r[t++]=c(e.msg,0),e.encb(),r[t++]=c(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}var De=c(e.setb,c(e.msg,0))!==void 0,we=c(e.setb,c(e.msg,1))!==void 0;r[t++]=De&&we,r[t++]=2,e.numsscr();var Ae=r[--t];r[t-1]=Ae;var Le=r[--t],xe=r[--t];if(xe&&Le>=2&&Le%2==0){r[t++]=c(e.msg,0),e.encb(),r[t++]=c(e.msg,1),e.encb(),e.cset="setc",e.mode=6,e.i=2;break}}if(r[t++]=0,e.abeforeb(),r[--t]){e.cset="seta",e.mode=0;break}e.cset="setb",e.mode=1;break}for(;e.i!=e.msglen;)for(r[t++]=e.i,e.numsscr(),e.nums=r[--t],e.nchars=r[--t];;){if(Y(e.cset,"seta")){if(e.i<e.msglen-1){r[t++]=c(e.msg,e.i),e.bnota(),r[t++]=e.i+1,e.abeforeb();var Oe=r[--t];if(r[--t]&&Oe){r[t++]=e.sb1,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=c(e.msg,e.i),e.bnota(),r[t++]=c(e.msg,e.i+1),e.bnota();var Te=r[--t],Pe=r[--t];r[t++]=ho(Pe,Te),r[t++]=e.i+2,e.abeforeb();var Ue=r[--t];if(r[--t]&&Ue){r[t++]=e.sb2,e.enca(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(r[t++]=c(e.msg,e.i),e.bnota(),r[--t]){r[t++]=e.swb,e.enca(),e.cset="setb";break}if(e.i<e.msglen-4){var Ze=c(e.seta,c(e.msg,e.i+4))!==void 0;if(e.nums==4&&Ze){r[t++]=e.sc2,e.enca();for(var te=0;te<2;te++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var oe=c(e.seta,c(e.msg,e.i+6))!==void 0;if(e.nums==6&&oe){r[t++]=e.sc3,e.enca();for(var Re=0;Re<3;Re++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.enca(),e.cset="setc";break}r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}if(Y(e.cset,"setb")){if(e.i<e.msglen-1){r[t++]=c(e.msg,e.i),e.anotb(),r[t++]=e.i+1,e.bbeforea();var ze=r[--t];if(r[--t]&&ze){r[t++]=e.sa1,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),e.i=e.i+1;break}}if(e.i<e.msglen-2){r[t++]=c(e.msg,e.i),e.anotb(),r[t++]=c(e.msg,e.i+1),e.anotb();var Je=r[--t],Qe=r[--t];r[t++]=ho(Qe,Je),r[t++]=e.i+2,e.bbeforea();var qe=r[--t];if(r[--t]&&qe){r[t++]=e.sa2,e.encb(),r[t++]=c(e.msg,e.i),e.enca(),r[t++]=c(e.msg,e.i+1),e.enca(),e.i=e.i+2;break}}if(r[t++]=c(e.msg,e.i),e.anotb(),r[--t]){r[t++]=e.swa,e.encb(),e.cset="seta";break}if(e.i<e.msglen-4){var ut=c(e.setb,c(e.msg,e.i+4))!==void 0;if(e.nums==4&&ut){r[t++]=e.sc2,e.encb();for(var mt=0;mt<2;mt++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.i<e.msglen-6){var lt=c(e.setb,c(e.msg,e.i+6))!==void 0;if(e.nums==6&&lt){r[t++]=e.sc3,e.encb();for(var vt=0;vt<3;vt++)c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}}if(e.nums>=4&&e.nums%2==0){r[t++]=e.swc,e.encb(),e.cset="setc";break}r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}if(Y(e.cset,"setc")){if(e.nums>=2){c(e.msg,e.i)==e.fn1?(r[t++]=e.fn1,e.encc(),e.i=e.i+1):(r[t++]=C(e.msg,e.i,2),e.encc(),e.i=e.i+2);break}if(e.i<e.msglen-1){var St=c(e.setb,c(e.msg,e.i))!==void 0;r[t++]=St,r[t++]=e.i+1,e.numsscr();var kt=r[--t];r[t-1]=kt;var wt=r[--t],Pt=r[--t];if(Pt&&wt>=2&&wt%2==0){r[t++]=e.sb1,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),e.i=e.i+1;break}}if(e.i<e.msglen-1){var Mt=c(e.setb,c(e.msg,e.i))!==void 0;r[t++]=Mt,r[t++]=e.i+1,e.numsscr();var Lt=r[--t];r[t-1]=Lt;var Dt=r[--t],jt=r[--t];if(jt&&Dt>=3&&Dt%2==1){r[t++]=e.sb2,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-2){var P=c(e.setb,c(e.msg,e.i))!==void 0,V=c(e.setb,c(e.msg,e.i+1))!==void 0;r[t++]=P&&V,r[t++]=e.i+2,e.numsscr();var q=r[--t];r[t-1]=q;var ne=r[--t],ue=r[--t];if(ue&&ne>=2&&ne%2==0){r[t++]=e.sb2,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),e.i=e.i+2;break}}if(e.i<e.msglen-3){var be=c(e.setb,c(e.msg,e.i))!==void 0,re=c(e.setb,c(e.msg,e.i+1))!==void 0;r[t++]=be&&re,r[t++]=e.i+2,e.numsscr();var Se=r[--t];r[t-1]=Se;var X=r[--t],ve=r[--t];if(ve&&X>=3&&X%2==1){r[t++]=e.sb3,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),r[t++]=c(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(e.i<e.msglen-3){var me=c(e.setb,c(e.msg,e.i))!==void 0,je=c(e.setb,c(e.msg,e.i+1))!==void 0,le=c(e.setb,c(e.msg,e.i+2))!==void 0;r[t++]=me&&je&&le,r[t++]=e.i+3,e.numsscr();var ye=r[--t];r[t-1]=ye;var Ie=r[--t],pe=r[--t];if(pe&&Ie>=2&&Ie%2==0){r[t++]=e.sb3,e.encc(),r[t++]=c(e.msg,e.i),e.encb(),r[t++]=c(e.msg,e.i+1),e.encb(),r[t++]=c(e.msg,e.i+2),e.encb(),e.i=e.i+3;break}}if(r[t++]=e.i,e.abeforeb(),r[--t]){r[t++]=e.swa,e.encc(),e.cset="seta";break}r[t++]=e.swb,e.encc(),e.cset="setb";break}break}e.cws=C(e.cws,0,e.j)}e.metrics=s([s([2,7]),s([3,12]),s([4,17]),s([5,22]),s([6,27]),s([7,32]),s([8,37]),s([9,42]),s([10,47]),s([11,52]),s([12,57]),s([13,62]),s([14,67]),s([15,72]),s([16,77])]),e.urows=e.rows;for(var Ce=e.metrics,Ne=0,Be=Ce.length;Ne<Be&&(e.m=c(Ce,Ne),e.r=c(e.m,0),e.dcws=c(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Ne++);e.okay||(r[t++]="bwipp.code16kNoValidSymbol#15731",r[t++]="Maximum length exceeded or data too large for given options",z()),r[t++]=1/0,O(e.cws);for(var Ge=0,He=S(e.dcws-e.cws.length);Ge<He;Ge++)r[t++]=103;e.cws=s(),r[t++]=1/0,r[t++]=S((e.r-2)*7+e.mode),O(e.cws),e.cws=s(),r[t++]=0;for(var Xe=0,st=e.dcws;Xe<=st;Xe+=1){var at=r[--t];r[t++]=S(at+(Xe+2)*c(e.cws,Xe))}e.c1=r[--t]%107,r[t++]=0;for(var Ee=0,Ve=e.dcws;Ee<=Ve;Ee+=1){var Ye=r[--t];r[t++]=S(Ye+(Ee+1)*c(e.cws,Ee))}e.c2=S(r[--t]+e.c1*(e.dcws+2))%107,r[t++]=1/0,O(e.cws),r[t++]=e.c1,r[t++]=e.c2,e.cws=s();var et=c(e.options,"debugcws")!==void 0;et&&(r[t++]="bwipp.debugcws#15747",r[t++]=e.cws,z()),e.encs=s(["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","211133"]),e.startencs=s(["3211","2221","2122","1411","1132","1231","1114","3112","3211","2221","2122","1411","1132","1231","1114","3112"]),e.stopencsodd=s(["3211","2221","2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411"]),e.stopencseven=s(["2122","1411","1132","1231","1114","3112","1132","1231","1114","3112","3211","2221","2122","1411","3211","2221"]),e.sam==-1||~~(e.sam/10)%2==1?e.stopencs=e.stopencsodd:e.stopencs=e.stopencseven,e.rowbits=s(e.r);for(var ht=0,pt=e.r-1;ht<=pt;ht+=1){e.i=ht,r[t++]=1/0,r[t++]=10,ge(c(e.startencs,e.i),function(){var Ut=r[--t];r[t++]=Ut-48});var ft=C(e.cws,e.i*5,5);r[t++]=1;for(var gt=0,nt=ft.length;gt<nt;gt++)ge(c(e.encs,c(ft,gt)),function(){var Ut=r[--t];r[t++]=Ut-48});ge(c(e.stopencs,e.i),function(){var Ut=r[--t];r[t++]=Ut-48}),r[t++]=1,e.sbs=s(),r[t++]=1/0;var Tt=e.sbs;r[t++]=1;for(var tt=0,Qt=Tt.length;tt<Qt;tt++)for(var Ht=r[t-1],Ot=Ht==0?1:0,sr=0,Sr=c(Tt,tt);sr<Sr;sr++)r[t++]=Ot;Vt(s(xa()-1));var nr=r[--t];r[t-1]=nr;var gr=r[--t];r[t-1]=gr,r[t++]=e.rowbits,r[t++]=e.i;var ar=r[t-3],Ir=r[t-1];g(r[t-2],Ir,ar),t-=3}r[t++]=1/0;for(var Zt=0,dr=81*e.sepheight;Zt<dr;Zt++)r[t++]=1;for(var Kt=0,Jt=e.r-2;Kt<=Jt;Kt+=1){e.i=Kt;for(var ur=0,Tr=e.rowheight;ur<Tr;ur++)O(c(e.rowbits,e.i));for(var _r=0,ua=e.sepheight;_r<ua;_r++){for(var Ct=0;Ct<10;Ct++)r[t++]=0;for(var qt=0;qt<70;qt++)r[t++]=1;r[t++]=0}}for(var tr=0,br=e.rowheight;tr<br;tr++)O(c(e.rowbits,e.r-1));for(var ir=0,Br=81*e.sepheight;ir<Br;ir++)r[t++]=1;e.pixs=s();var or=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=or,e.dontdraw||xt(),e=a}function iR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.sam=-1,e.append=!1,e.rows=0,e.rowheight=8,e.sepheight=1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.rows!=0&&(e.rows<2||e.rows>8)&&(r[t++]="bwipp.code49badRows#15885",r[t++]="Code 49 must have 2 to 8 rows",z()),e.rowheight<8&&(r[t++]="bwipp.code49badRowHeight#15889",r[t++]="Code 49 must have rowheight of at least 8",z()),e.sepheight<1&&(r[t++]="bwipp.code49badSepHeight#15893",r[t++]="Code 49 must have sepheight of at least 1",z()),e.append&&e.sam!=-1&&(r[t++]="bwipp.code49samAndAppend#15897",r[t++]="sam and append cannot be specified together",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>99){r[t-1]=!1;break}if(e.sam%10<2){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.code49badSAM#15908",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 9 symbols',z())}e.s1=-1,e.s2=-2,e.fn1=-3,e.fn2=-4,e.fn3=-5,e.ns=-6;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC2",e.fn2],["FNC3",e.fn3]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,ge(e.msg,function(){r[--t]>127&&(r[t++]="bwipp.code49badCharacter#15931",r[t++]="Code 49 can only support ASCII characters with values 0 to 127",z())}),e.charmap=s(["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%",e.s1,e.s2,e.fn1,e.fn2,e.fn3,e.ns]),e.charvals=new Map;for(var u=0;u<=48;u+=1){e.i=u;var f=c(e.charmap,e.i);if(r[t++]=f,Y(tn(f),"stringtype")){var h=c(r[--t],0);r[t++]=h}g(e.charvals,r[--t],e.i)}e.combos=s(["1 ","1A","1B","1C","1D","1E","1F","1G","1H","1I","1J","1K","1L","1M","1N","1O","1P","1Q","1R","1S","1T","1U","1V","1W","1X","1Y","1Z","11","12","13","14","15","  ","16","17","18"," $"," %","19","10","1-","1.","1$"," +","1/"," -"," ."," /"," 0"," 1"," 2"," 3"," 4"," 5"," 6"," 7"," 8"," 9","1+","21","22","23","24","25","26"," A"," B"," C"," D"," E"," F"," G"," H"," I"," J"," K"," L"," M"," N"," O"," P"," Q"," R"," S"," T"," U"," V"," W"," X"," Y"," Z","27","28","29","20","2-","2.","2A","2B","2C","2D","2E","2F","2G","2H","2I","2J","2K","2L","2M","2N","2O","2P","2Q","2R","2S","2T","2U","2V","2W","2X","2Y","2Z","2$","2/","2+","2%","2 "]);for(var p=0;p<=127;p+=1){e.i=p;var m=c(e.combos,e.i);e.c1=c(m,0),e.c2=c(m,1),e.c1==49&&g(e.charvals,e.i,s([c(e.charvals,e.s1),c(e.charvals,e.c2)])),e.c1==50&&g(e.charvals,e.i,s([c(e.charvals,e.s2),c(e.charvals,e.c2)]))}e.encodealpha=function(){var Be=c(e.charvals,r[--t]);r[t++]=Be,Me(tn(Be),"arraytype")&&Vt(s(1));var Ge=r[--t];M(e.cws,e.j,Ge),e.j=Ge.length+e.j},e.base48=function(){var Be=r[--t];r[t++]=0,ge(Be,function(){var ft=r[--t],gt=r[--t];r[t++]=S(ft-48+gt*10)}),r[t++]=1/0;var Ge=r[t-2],He=r[t-3];r[t-3]=r[t-1],t-=2,r[t++]=Ge;for(var Xe=0,st=He-1;Xe<st;Xe++){var at=r[--t];r[t++]=at%48,r[t++]=~~(at/48)}var Ee=s(),Ve=1/0,Ye=Ee;r[t++]=Ve,r[t++]=Ye;for(var et=Ye.length-1;et>=0;et-=1){var ht=r[--t];r[t++]=c(ht,et),r[t++]=ht}t--;var pt=s();M(e.cws,e.j,pt),e.j=pt.length+e.j},e.encodenumeric=function(){e.nums=r[--t];var Be=e.nums.length,Ge=Be%5;if(r[t++]="pre",r[t++]=Be,r[t++]=Ge,Ge!=2){var He=r[--t],Xe=r[--t];r[t++]=S(Xe-He)}else{var st=r[--t],at=r[--t];r[t++]=S(at-st)-5}var Ee=r[--t];e[r[--t]]=Ee;for(var Ve=0,Ye=e.pre-1;Ve<=Ye;Ve+=5)r[t++]=3,r[t++]=C(e.nums,Ve,5),e.base48();e.nums=C(e.nums,e.pre,S(e.nums.length-e.pre));var et=e.nums.length;r[t++]=et,et==1&&(r[t++]=c(e.nums,e.i),e.encodealpha());var ht=r[t-1];ht==3&&(r[t++]=2,r[t++]=e.nums,e.base48());var pt=r[t-1];if(pt==4){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,O(e.nums);var ft=s();r[t++]=ft,e.base48()}if(r[--t]==7){r[t++]=3,r[t++]=1/0,r[t++]=49,r[t++]=48,O(C(e.nums,0,4));var gt=s();r[t++]=gt,e.base48(),r[t++]=2,r[t++]=C(e.nums,4,3),e.base48()}},r[t++]=1/0;for(var x=0,b=e.msglen;x<b;x++)r[t++]=0;r[t++]=0,e.numericruns=s();for(var y=e.msglen-1;y>=0;y-=1){e.i=y;var w=c(e.msg,e.i);w>=48&&w<=57?g(e.numericruns,e.i,c(e.numericruns,e.i+1)+1):g(e.numericruns,e.i,0)}for(e.cws=s(e.msglen*2+1),e.samval=s([12,22,13,23,33,14,24,34,44,15,25,35,45,55,16,26,36,46,56,66,17,27,37,47,57,67,77,18,28,38,48,58,68,78,88,19,29,39,49,59,69,79,89,99]);;){if(e.append){e.mode=1,e.method="alpha",e.i=0,e.j=0;break}if(e.sam!=-1){e.mode=3,r[t++]=e.cws,r[t++]=0;for(var v=0;v<=43;v+=1)r[t++]=v,c(e.samval,v)!=e.sam&&t--;var A=r[--t],k=r[--t];g(r[--t],k,A+1),e.method="alpha",e.i=0,e.j=1;break}if(c(e.numericruns,0)>=5){e.mode=2,e.method="numeric",e.i=0,e.j=0;break}var E=c(e.charvals,c(e.msg,0));if(r[t++]=E,Me(tn(E),"arraytype")){t--,e.mode=0,e.method="alpha",e.i=0,e.j=0;break}var j=c(r[--t],0)==43?4:5;e.mode=j,g(e.cws,0,c(c(e.charvals,c(e.msg,0)),1)),e.method="alpha",e.i=1,e.j=1;break}for(;e.i!=e.msglen;)for(;;){if(Y(e.method,"alpha")){if(c(e.numericruns,e.i)>=5){r[t++]=e.ns,e.encodealpha(),e.method="numeric";break}r[t++]=c(e.msg,e.i),e.encodealpha(),e.i=e.i+1;break}if(Y(e.method,"numeric")){if(c(e.numericruns,e.i)<5){r[t++]=e.ns,e.encodealpha(),e.method="alpha";break}r[t++]=C(e.msg,e.i,c(e.numericruns,e.i)),e.encodenumeric(),e.i=S(e.i+c(e.numericruns,e.i));break}}e.cws=C(e.cws,0,e.j),e.metrics=s([s([2,9]),s([3,16]),s([4,23]),s([5,30]),s([6,37]),s([7,42]),s([8,49])]),e.urows=e.rows;for(var N=e.metrics,B=0,I=N.length;B<I&&(e.m=c(N,B),e.r=c(e.m,0),e.dcws=c(e.m,1),e.okay=!0,e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);B++);e.okay||(r[t++]="bwipp.code49noValidSymbol#16125",r[t++]="Maximum length exceeded",z()),r[t++]=1/0,O(e.cws);for(var D=0,T=S(e.dcws-e.cws.length);D<T;D++)r[t++]=48;e.cws=s(),e.ccs=s(e.r*8),e.j=0;for(var R=0,$=e.r-2;R<=$;R+=1){e.i=R,e.cc=C(e.cws,e.j,7),M(e.ccs,e.i*8,e.cc);var F=e.cc;r[t++]=e.ccs,r[t++]=e.i*8+7,r[t++]=0;for(var _=0,Q=F.length;_<Q;_++){var H=r[--t];r[t++]=S(H+c(F,_))}var J=r[--t],K=r[--t];g(r[--t],K,J%49),e.j=e.j+7}e.j<e.dcws&&M(e.ccs,e.ccs.length-8,C(e.cws,e.j,S(e.dcws-e.j))),e.cr7=S((e.r-2)*7+e.mode),g(e.ccs,e.ccs.length-2,e.cr7);var he=s([1,9,31,26,2,12,17,23,37,18,22,6,27,44,15,43,39,11,13,5,41,33,36,8,4,32,3,19,40,25,29,10,24,30]);r[t++]=he,r[t++]=he,r[t++]=1/0;var G=r[--t],L=C(r[--t],0,32);r[t++]=G,r[t++]=20,O(L),e.weightx=s();var ce=r[t-1];r[t++]=ce,r[t++]=1/0;var fe=r[--t],U=C(r[--t],1,32);r[t++]=fe,r[t++]=16,O(U),e.weighty=s(),r[t++]=1/0;var ee=r[--t],se=C(r[--t],2,32);if(r[t++]=ee,r[t++]=38,O(se),e.weightz=s(),e.calccheck=function(){e.weights=r[--t],e.score=0;for(var Be=0,Ge=~~((e.r-1)*8/2)-1;Be<=Ge;Be+=1)e.i=Be,e.score=S((c(e.ccs,e.i*2)*49+c(e.ccs,e.i*2+1))*c(e.weights,e.i+1)+e.score);r[t++]=e.score},e.lastrow=C(e.ccs,e.ccs.length-8,8),e.r>=7){r[t++]=e.cr7*c(e.weightz,0),r[t++]=e.weightz,e.calccheck();var de=r[--t],ke=S(r[--t]+de)%2401;r[t++]=~~(ke/49),r[t++]=ke%49,Vt(s(2)),r[t++]=e.lastrow,r[t++]=0;var ae=r[t-3],De=r[t-1];M(r[t-2],De,ae),t-=3}e.wr1=S(c(e.lastrow,0)*49+c(e.lastrow,1)),r[t++]=e.cr7*c(e.weighty,0),r[t++]=e.weighty,e.calccheck();var we=r[--t],Ae=S(r[--t]+we+e.wr1*c(e.weighty,e.r*4-3))%2401;e.wr2=Ae,r[t++]=~~(Ae/49),r[t++]=Ae%49,Vt(s(2)),r[t++]=e.lastrow,r[t++]=2;var Le=r[t-3],xe=r[t-1];M(r[t-2],xe,Le),t-=3,r[t++]=e.cr7*c(e.weightx,0),r[t++]=e.weightx,e.calccheck();var Oe=r[--t],Te=S(r[--t]+Oe+e.wr1*c(e.weightx,e.r*4-3)+e.wr2*c(e.weightx,e.r*4-2))%2401;r[t++]=~~(Te/49),r[t++]=Te%49,Vt(s(2)),r[t++]=e.lastrow,r[t++]=4;var Pe=r[t-3],Ue=r[t-1];M(r[t-2],Ue,Pe),t-=3;var Ze=C(e.ccs,e.ccs.length-8,7);r[t++]=0;for(var te=0,oe=Ze.length;te<oe;te++){var Re=r[--t];r[t++]=S(Re+c(Ze,te))}g(e.ccs,e.ccs.length-1,r[--t]%49);var ze=c(e.options,"debugcws")!==void 0;ze&&(r[t++]="bwipp.debugcws#16196",r[t++]=e.ccs,z()),e.patterns=s([s(["11521132","25112131","14212132","25121221","14221222","12412132","23321221","12421222","21521221","15112222","15121312","13312222","24221311","13321312","11512222","22421311","11521312","25112311","14212312","23312311","12412312","21512311","16121131","14321131","12521131","15212131","15221221","13412131","13421221","11612131","16112221","16121311","14312221","14321311","12512221","12521311","15212311","13412311","11612311","11131135","31131133","51131131","21122134","41122132","21131224","41131222","11113135","31113133","51113131","11122225","31122223","51122221","11131315","31131313","51131311","21113224","41113222","21122314","41122312","11113315","31113313","51113311","12131134","32131132","21231133","41231131","22122133","42122131","11222134","22131223","42131221","11231224","31231222","12113134","32113132","12122224","32122222","12131314","32131312","21231313","41231311","22113223","42113221","11213224","22122313","42122311","11222314","31222312","12113314","32113312","21213313","41213311","13131133","33131131","22231132","11331133","31331131","23122132","12222133","23131222","12231223","32231221","21331222","13113133","33113131","13122223","33122221","11313133","13131313","33131311","11322223","22231312","11331313","31331311","23113222","12213223","23122312","12222313","32222311","21322312","13113313","33113311","22213312","11313313","31313311","14131132","23231131","12331132","21431131","24122131","13222132","24131221","13231222","11422132","22331221","11431222","14113132","14122222","12313132","14131312","12322222","23231311","12331312","21431311","24113221","13213222","24122311","13222312","11413222","22322311","11422312","14113312","23213311","12313312","21413311","15131131","13331131","14222131","14231221","12422131","12431221","15113131","15122221","13313131","15131311","13322221","11513131","13331311","11522221","14213221","14222311","12413221","12422311","15113311","13313311","11513311","11141134","31141132","21132133","41132131","21141223","41141221","11123134","31123132","11132224","31132222","11141314","31141312","21114133","41114131","21123223","41123221","21132313","41132311","11114224","31114222","11123314","31123312","21114313","41114311","12141133","32141131","21241132","22132132","11232133","22141222","11241223","31241221","12123133","32123131","12132223","32132221","12141313","32141311","21241312","22114132","11214133","22123222","11223223","22132312","11232313","31232311","12114223","32114221","12123313","32123311","21223312","22114312","11214313","31214311","13141132","22241131","11341132","23132131","12232132","23141221","12241222","21341221","13123132","13132222","11323132","13141312","11332222","22241311","11341312","23114131","12214132","23123221","12223222","23132311","12232312","21332311","13114222","13123312","11314222","22223311","11323312","23114311","12214312","21314311","14141131","12341131","13232131","13241221","11432131","14123131","14132221","12323131","14141311","12332221","12341311","13214131","13223221","11414131","13232311","11423221","11432311","14114221","14123311","12314221","12323311","13214311","11414311","11151133","31151131","21142132","21151222","11133133","31133131","11142223","31142221","11151313","31151311","21124132","21133222","21142312","11115133","31115131","11124223","31124221","11133313","31133311","21115222","21124312","12151132","21251131","22142131","11242132","22151221","11251222","12133132","12142222","12151312","21251311","22124131","11224132","22133221","11233222","22142311","11242312","12115132","12124222","12133312","21233311","22115221","11215222","22124311","11224312","13151131","12242131","12251221","13133131","13142221","11333131","13151311","11342221","12224131","12233221","12242311","13115131","13124221","11315131","13133311","11324221","11333311","12215221","12224311","11161132","21152131","21161221","11143132","11152222","11161312","21134131","21143221","21152311","11125132","11134222","11143312","21116131","21125221","21134311","12161131","11252131","12143131","12152221","12161311","11234131","11243221","11252311","12125131","12134221","12143311","11216131","11225221","11234311","11111236","31111234","51111232","21111325","41111323","61111321","11111416","31111414","51111412","31211143","51211141","12111235","32111233","52111231","21211234","41211232","22111324","42111322","11211325","31211323","51211321","12111415","32111413","52111411","21211414","41211412","12211144","32211142","21311143","41311141","13111234","33111232","22211233","42211231","11311234","31311232","23111323","43111321","12211324","32211322","21311323","41311321","13111414","33111412","22211413","42211411","11311414","31311412","13211143","33211141","22311142","11411143","31411141","14111233","34111231","23211232","12311233","32311231","21411232","24111322","13211323","33211321","22311322","11411323","31411321","14111413","34111411","23211412","12311413","32311411","21411412","14211142","23311141","12411142","21511141","15111232","24211231","13311232","22411231","11511232","25111321","14211322","23311321","12411322","21511321","15111412","24211411","13311412","22411411","11511412","15211141","13411141","11611141","16111231","14311231","12511231","15211321","13411321","11611321","16111411","14311411","12511411","21121144","41121142","11112145","31112143","51112141","11121235","31121233","51121231","21112234","41112232","21121324","41121322","11112325","31112323","51112321","11121415","31121413","51121411","21112414","41112412","22121143","42121141","11221144","31221142","12112144","32112142","12121234","32121232","21221233","41221231","22112233","42112231","11212234","22121323","42121321","11221324","31221322","12112324","32112322","12121414","32121412","21221413","41221411","22112413","42112411","11212414","31212412","23121142","12221143","32221141","21321142","13112143","33112141","13121233","33121231","11312143","22221232","11321233","31321231","23112232","12212233","23121322","12221323","32221321","21321322","13112323","33112321","13121413","33121411","11312323","22221412","11321413","31321411","23112412","12212413","32212411","21312412","24121141","13221142","22321141","11421142","14112142","14121232","12312142","23221231","12321232","21421231","24112231","13212232","24121321","13221322","11412232","22321321","11421322","14112322","14121412","12312322","23221411","12321412","21421411","24112411","13212412","22312411","11412412","14221141","12421141","15112141","15121231","13312141","13321231","11512141","11521231","14212231","14221321","12412231","12421321","15112321","15121411","13312321","13321411","11512321","11521411","14212411","12412411","21131143","41131141","11122144","31122142","11131234","31131232","21113143","41113141","21122233","41122231","21131323","41131321","11113234","31113232","11122324","31122322","11131414","31131412","21113323","41113321","21122413","41122411","11113414","31113412","22131142","11231143","31231141","12122143","32122141","12131233","32131231","21231232","22113142","11213143","22122232","11222233","22131322","11231323","31231321","12113233","32113231","12122323","32122321","12131413","32131411","21231412","22113322","11213323","22122412","11222413","31222411","12113413","32113411","21213412","23131141","12231142","21331141","13122142","13131232","11322142","22231231","11331232","23113141","12213142","23122231","12222232","23131321","12231322","21331321","13113232","13122322","11313232","13131412","11322322","22231411","11331412","23113321","12213322","23122411","12222412","21322411","13113412","22213411","11313412","13231141","11431141","14122141","14131231","12322141","12331231","13213141","13222231","11413141","13231321","11422231","11431321","14113231","14122321","12313231","14131411","12322321","12331411","13213321","13222411","11413321","11422411","14113411","12313411","21141142","11132143","31132141","11141233","31141231","21123142","21132232","21141322","11114143","31114141","11123233","31123231","11132323","31132321","11141413","31141411","21114232","21123322","21132412","11114323","31114321","11123413","31123411","22141141","11241142","12132142","12141232","21241231","22123141","11223142","22132231","11232232","22141321","11241322","12114142","12123232","12132322","12141412","21241411","22114231","11214232","22123321","11223322","22132411","11232412","12114322","12123412","21223411","12241141","13132141","13141231","11332141","11341231","12223141","12232231","12241321","13114141","13123231","11314141","13132321","11323231","13141411","11332321","11341411","12214231","12223321","12232411","13114321","13123411","11314321","11323411","21151141","11142142","11151232","21133141","21142231","21151321","11124142","11133232","11142322","11151412","21115141","21124231","21133321","21142411","11115232","11124322","11133412","11251141","12142141","12151231","11233141","11242231","11251321","12124141","12133231","12142321","12151411","11215141","11224231","11233321","11242411","12115231","12124321","12133411","11152141","11161231","11134141","11143231","11152321","11161411","11116141","11125231","11134321","11143411","21111244","41111242","11111335","31111333","51111331","21111424","41111422","11111515","31111513","51111511","21211153","41211151","22111243","42111241","11211244","31211242","12111334","32111332","21211333","41211331","22111423","42111421","11211424","31211422","12111514","32111512","21211513","41211511","22211152","11311153","31311151","23111242","12211243","32211241","21311242","13111333","33111331","22211332","11311333","31311331","23111422","12211423","32211421","21311422","13111513","33111511","22211512","11311513","31311511","23211151","12311152","21411151","24111241","13211242","22311241","11411242","14111332","23211331","12311332","21411331","24111421","13211422","22311421","11411422","14111512","23211511","12311512","21411511","13311151","11511151","14211241","12411241","15111331","13311331","11511331","14211421","12411421","15111511","13311511","11511511","31121152","21112153","41112151","21121243","41121241","11112244","31112242","11121334","31121332","21112333","41112331","21121423","41121421","11112424","31112422","11121514","31121512","21112513","41112511","12121153","32121151","21221152","22112152","11212153","22121242","11221243","31221241","12112243","32112241","12121333","32121331","21221332","22112332","11212333","22121422","11221423","31221421","12112423","32112421","12121513","32121511","21221512","22112512","11212513","31212511","13121152","22221151","11321152","23112151","12212152","23121241","12221242","21321241","13112242","13121332","11312242","22221331","11321332","23112331","12212332","23121421","12221422","21321421","13112422","13121512","11312422","22221511","11321512","23112511","12212512","21312511","14121151","12321151","13212151","13221241","11412151","11421241","14112241","14121331","12312241","12321331","13212331","13221421","11412331","11421421","14112421","14121511","12312421","12321511","13212511","11412511","11131153","31131151","21122152","21131242","11113153","31113151","11122243","31122241","11131333","31131331","21113242","21122332","21131422","11113333","31113331","11122423","31122421","11131513","31131511","21113422","21122512","12131152","21231151","22122151","11222152","22131241","11231242","12113152","12122242","12131332","21231331","22113241","11213242","22122331","11222332","22131421","11231422","12113332","12122422","12131512","21231511","22113421","11213422","22122511","11222512","13131151","11331151","12222151","12231241","13113151","13122241","11313151","13131331","11322241","11331331","12213241","12222331","12231421","13113331","13122421","11313331","13131511","11322421","11331511","12213421","12222511","11141152","21132151","21141241","11123152","11132242","11141332","21114151","21123241","21132331","21141421","11114242","11123332","11132422","11141512","21114331","21123421","21132511","12141151","11232151","11241241","12123151","12132241","12141331","11214151","11223241","11232331","11241421","12114241","12123331","12132421","12141511","11214331","11223421","11232511","11151151","11133151","11142241","11151331","11115151","11124241","11133331","11142421","11151511","11111254","31111252","21111343","41111341","11111434","31111432","21111523","41111521","11111614","31111612","31211161","12111253","32111251","21211252","22111342","11211343","31211341","12111433","32111431","21211432","22111522","11211523","31211521","12111613","32111611","21211612","12211162","21311161","13111252","22211251","11311252","23111341","12211342","21311341","13111432","22211431","11311432","23111521","12211522","21311521","13111612","22211611","11311612","13211161","11411161","14111251","12311251","13211341","11411341","14111431","12311431","13211521","11411521","14111611","12311611","21121162","11112163","31112161","11121253","31121251","21112252","21121342","11112343","31112341","11121433","31121431","21112432","21121522","11112523","31112521","11121613","31121611","22121161","11221162","12112162","12121252","21221251","22112251","11212252","22121341","11221342","12112342","12121432","21221431","22112431","11212432","22121521","11221522","12112522","12121612","21221611","12221161","13112161","13121251","11312161","11321251","32121115","52121113","21221116","41221114","61221112","22112116","42112114","31212115","51212113","13121116","33121114","22221115","42221113","11321116","31321114","51321112","23112115","43112113","12212116","32212114","52212112","21312115","41312113","61312111","14121115","34121113","23221114","43221112","12321115","32321113","52321111","21421114","41421112","24112114","13212115","33212113","22312114","42312112","11412115","31412113","51412111","15121114","24221113","13321114","33321112","22421113","42421111","11521114","31521112","25112113","14212114","34212112","23312113","43312111","12412114","32412112","21512113","41512111","16121113","25221112","14321113","34321111","23421112","12521113","32521111","15212113","24312112","13412113","33412111","22512112","11612113","31612111","31131115","51131113","21122116","41122114","61122112","31113115","51113113","12131116","32131114","52131112","21231115","41231113","61231111","22122115","42122113","11222116","31222114","51222112","12113116","32113114","52113112","21213115","41213113","61213111","13131115","33131113","22231114","42231112","11331115","31331113","51331111","23122114","43122112","12222115","32222113","52222111","21322114","41322112","13113115","33113113","22213114","42213112","11313115","31313113","51313111","14131114","34131112","23231113","43231111","12331114","32331112","21431113","41431111","24122113","13222114","33222112","22322113","42322111","11422114","31422112","14113114","34113112","23213113","43213111","12313114","32313112","21413113","41413111","15131113","24231112","13331113","33331111","22431112","25122112","14222113","34222111","23322112","12422113","32422111","21522112","15113113","24213112","13313113","33313111","22413112","11513113","31513111","16131112","25231111","14331112","23431111","15222112","24322111","13422112","22522111","16113112","25213111","14313112","23413111","12513112","21613111","11141116","31141114","51141112","21132115","41132113","61132111","11123116","31123114","51123112","21114115","41114113","61114111","12141115","32141113","52141111","21241114","41241112","22132114","42132112","11232115","31232113","51232111","12123115","32123113","52123111","21223114","41223112","22114114","42114112","11214115","31214113","51214111","13141114","33141112","22241113","42241111","11341114","31341112","23132113","43132111","12232114","32232112","21332113","41332111","13123114","33123112","22223113","42223111","11323114","31323112","23114113","43114111","12214114","32214112","21314113","41314111","14141113","34141111","23241112","12341113","32341111","24132112","13232113","33232111","22332112","11432113","31432111","14123113","34123111","23223112","12323113","32323111","21423112","24114112","13214113","33214111","22314112","11414113","31414111","15141112","24241111","13341112","25132111","14232112","23332111","12432112","15123112","24223111","13323112","22423111","11523112","25114111","14214112","23314111","12414112","21514111","16141111","14341111","15232111","13432111","16123111","14323111","12523111","15214111","13414111","11614111","11151115","31151113","51151111","21142114","41142112","11133115","31133113","51133111","21124114","41124112","11115115","31115113","51115111","12151114","32151112","21251113","41251111","22142113","42142111","11242114","31242112","12133114","32133112","21233113","41233111","22124113","42124111","11224114","31224112","12115114","32115112","21215113","41215111","13151113","33151111","22251112","23142112","12242113","32242111","21342112","13133113","33133111","22233112","11333113","31333111","23124112","12224113","32224111","21324112","13115113","33115111","22215112","11315113","31315111","14151112","23251111","24142111","13242112","22342111","14133112","23233111","12333112","21433111","24124111","13224112","22324111","11424112","14115112","23215111","12315112","21415111","15151111","14242111","15133111","13333111","14224111","12424111","15115111","13315111","11515111","11161114","31161112","21152113","41152111","11143114","31143112","21134113","41134111","11125114","31125112","21116113","41116111","12161113","32161111","22152112","11252113","31252111","12143113","32143111","21243112","22134112","11234113","31234111","12125113","32125111","21225112","22116112","11216113","31216111","13161112","23152111","12252112","13143112","22243111","11343112","23134111","12234112","21334111","13125112","22225111","11325112","23116111","12216112","21316111","14161111","13252111","14143111","12343111","13234111","11434111","14125111","12325111","13216111","11416111","31111216","51111214","31211125","51211123","32111215","52111213","21211216","41211214","61211212","12211126","32211124","52211122","21311125","41311123","61311121","13111216","33111214","22211215","42211213","11311216","31311214","51311212","13211125","33211123","22311124","42311122","11411125","31411123","51411121","14111215","34111213","23211214","43211212","12311215","32311213","52311211","21411214","41411212","14211124","34211122","23311123","43311121","12411124","32411122","21511123","41511121","15111214","24211213","13311214","33311212","22411213","42411211","11511214","31511212","15211123","24311122","13411123","33411121","22511122","11611123","31611121","16111213","25211212","14311213","34311211","23411212","12511213","32511211","21611212","21121126","41121124","61121122","31112125","51112123","31121215","51121213","21112216","41112214","61112212","22121125","42121123","11221126","31221124","51221122","12112126","32112124","52112122","12121216","32121214","52121212","21221215","41221213","61221211","22112215","42112213","11212216","31212214","51212212","23121124","43121122","12221125","32221123","52221121","21321124","41321122","13112125","33112123","13121215","33121213","11312125","22221214","42221212","11321215","31321213","51321211","23112214","43112212","12212215","32212213","52212211","21312214","41312212","24121123","13221124","33221122","22321123","42321121","11421124","31421122","14112124","34112122","14121214","34121212","12312124","23221213","43221211","12321214","32321212","21421213","41421211","24112213","13212214","33212212","22312213","42312211","11412214","31412212","25121122","14221123","34221121","23321122","12421123","32421121","21521122","15112123","15121213","13312123","24221212","13321213","33321211","11512123","22421212","11521213","31521211","25112212","14212213","34212211","23312212","12412213","32412211","21512212","15221122","24321121","13421122","22521121","16112122","16121212","14312122","25221211","14321212","12512122","23421211","12521212","15212212","24312211","13412212","22512211","11612212","21131125","41131123","61131121","11122126","31122124","51122122","11131216","31131214","51131212","21113125","41113123","61113121","21122215","41122213","61122211","11113216","31113214","51113212","22131124","42131122","11231125","31231123","51231121","12122125","32122123","52122121","12131215","32131213","52131211","21231214","41231212","22113124","42113122","11213125","22122214","42122212","11222215","31222213","51222211","12113215","32113213","52113211","21213214","41213212","23131123","43131121","12231124","32231122","21331123","41331121","13122124","33122122","13131214","33131212","11322124","22231213","42231211","11331214","31331212","23113123","43113121","12213124","23122213","43122211","12222214","32222212","21322213","41322211","13113214","33113212","22213213","42213211","11313214","31313212","24131122","13231123","33231121","22331122","11431123","31431121","14122123","34122121","14131213","34131211","12322123","23231212","12331213","32331211","21431212","24113122","13213123","24122212","13222213","33222211","11413123","22322212","11422213","31422211","14113213","34113211","23213212","12313213","32313211","21413212","25131121","14231122","23331121","12431122","15122122","15131212","13322122","24231211","13331212","11522122","22431211","25113121","14213122","25122211","14222212","12413122","23322211","12422212","21522211","15113212","24213211","13313212","22413211","11513212","15231121","13431121","16122121","16131211","14322121","14331211","12522121","15213121","15222211","13413121","13422211","11613121","16113211","14313211","12513211","21141124","41141122","11132125","31132123","51132121","11141215","31141213","51141211","21123124","41123122","21132214","41132212","11114125","31114123","51114121","11123215","31123213","51123211","21114214","41114212","22141123","42141121","11241124","31241122","12132124","32132122","12141214","32141212","21241213","41241211","22123123","42123121","11223124","22132213","42132211","11232214","31232212","12114124","32114122","12123214","32123212","21223213","41223211","22114213","42114211","11214214","31214212","23141122","12241123","32241121","21341122","13132123","33132121","13141213","33141211","11332123","22241212","11341213","31341211","23123122","12223123","23132212","12232213","32232211","21332212","13114123","33114121","13123213","33123211","11314123","22223212","11323213","31323211","23114212","12214213","32214211","21314212","24141121","13241122","22341121","14132122","14141212","12332122","23241211","12341212","24123121","13223122","24132211","13232212","11423122","22332211","11432212","14114122","14123212","12314122","23223211","12323212","21423211","24114211","13214212","22314211","11414212","14241121","15132121","15141211","13332121","13341211","14223121","14232211","12423121","12432211","15114121","15123211","13314121","13323211","11514121","11523211","14214211","12414211","21151123","41151121","11142124","31142122","11151214","31151212","21133123","41133121","21142213","41142211","11124124","31124122","11133214","31133212","21115123","41115121","21124213","41124211","11115214","31115212","22151122","11251123","31251121","12142123","32142121","12151213","32151211","21251212","22133122","11233123","22142212","11242213","31242211","12124123","32124121","12133213","32133211","21233212","22115122","11215123","22124212","11224213","31224211","12115213","32115211","21215212","23151121","12251122","13142122","13151212","11342122","22251211","23133121","12233122","23142211","12242212","21342211","13124122","13133212","11324122","22233211","11333212","23115121","12215122","23124211","12224212","21324211","13115212","22215211","11315212","13251121","14142121","14151211","12342121","13233121","13242211","11433121","14124121","14133211","12324121","12333211","13215121","13224211","11415121","11424211","14115211","12315211","21161122","11152123","31152121","11161213","31161211","21143122","21152212","11134123","31134121","11143213","31143211","21125122","21134212","11116123","31116121","11125213","31125211","22161121","12152122","12161212","22143121","11243122","22152211","11252212","12134122","12143212","21243211","22125121","11225122","22134211","11234212","12116122","12125212","21225211","13152121","13161211","12243121","12252211","13134121","13143211","11334121","11343211","12225121","12234211","13116121","13125211","11316121","11325211","21111226","41111224","61111222","31111315","51111313","21211135","41211133","61211131","22111225","42111223","11211226","31211224","51211222","12111316","32111314","52111312","21211315","41211313","61211311","22211134","42211132","11311135","31311133","51311131","23111224","43111222","12211225","32211223","52211221","21311224","41311222","13111315","33111313","22211314","42211312","11311315","31311313","51311311","23211133","43211131","12311134","32311132","21411133","41411131","24111223","13211224","33211222","22311223","42311221","11411224","31411222","14111314","34111312","23211313","43211311","12311314","32311312","21411313","41411311","24211132","13311133","33311131","22411132","11511133","31511131","25111222","14211223","34211221","23311222","12411223","32411221","21511222","15111313","24211312","13311313","33311311","22411312","11511313","31511311","25211131","14311132","23411131","12511132","21611131","15211222","24311221","13411222","22511221","11611222","16111312","25211311","14311312","23411311","12511312","21611311","31121134","51121132","21112135","41112133","61112131","21121225","41121223","61121221","11112226","31112224","51112222","11121316","31121314","51121312","21112315","41112313","61112311","12121135","32121133","52121131","21221134","41221132","22112134","42112132","11212135","22121224","42121222","11221225","31221223","51221221","12112225","32112223","52112221","12121315","32121313","52121311","21221314","41221312","22112314","42112312","11212315","31212313","51212311","13121134","33121132","22221133","42221131","11321134","31321132","23112133","43112131","12212134","23121223","43121221","12221224","32221222","21321223","41321221","13112224","33112222","13121314","33121312","11312224","22221313","42221311","11321314","31321312","23112313","43112311","12212314","32212312","21312313","41312311","14121133","34121131","23221132","12321133","32321131","21421132","24112132","13212133","24121222","13221223","33221221","11412133","22321222","11421223","31421221","14112223","34112221","14121313","34121311","12312223","23221312","12321313","32321311","21421312","24112312","13212313","33212311","22312312","11412313","31412311","15121132","24221131","13321132","22421131"]),s(["22121116","42121114","31221115","51221113","32112115","52112113","21212116","41212114","61212112","23121115","43121113","12221116","32221114","52221112","21321115","41321113","61321111","13112116","33112114","22212115","42212113","11312116","31312114","51312112","24121114","13221115","33221113","22321114","42321112","11421115","31421113","51421111","14112115","34112113","23212114","43212112","12312115","32312113","52312111","21412114","41412112","25121113","14221114","34221112","23321113","43321111","12421114","32421112","21521113","41521111","15112114","24212113","13312114","33312112","22412113","42412111","11512114","31512112","15221113","24321112","13421113","33421111","22521112","16112113","25212112","14312113","34312111","23412112","12512113","32512111","21612112","21131116","41131114","61131112","31122115","51122113","21113116","41113114","61113112","22131115","42131113","11231116","31231114","51231112","12122116","32122114","52122112","21222115","41222113","61222111","22113115","42113113","11213116","31213114","51213112","23131114","43131112","12231115","32231113","52231111","21331114","41331112","13122115","33122113","22222114","42222112","11322115","31322113","51322111","23113114","43113112","12213115","32213113","52213111","21313114","41313112","24131113","13231114","33231112","22331113","42331111","11431114","31431112","14122114","34122112","23222113","43222111","12322114","32322112","21422113","41422111","24113113","13213114","33213112","22313113","42313111","11413114","31413112","25131112","14231113","34231111","23331112","12431113","32431111","15122113","24222112","13322113","33322111","22422112","11522113","31522111","25113112","14213113","34213111","23313112","12413113","32413111","21513112","15231112","24331111","13431112","16122112","25222111","14322112","23422111","12522112","15213112","24313111","13413112","22513111","11613112","21141115","41141113","61141111","11132116","31132114","51132112","21123115","41123113","61123111","11114116","31114114","51114112","22141114","42141112","11241115","31241113","51241111","12132115","32132113","52132111","21232114","41232112","22123114","42123112","11223115","31223113","51223111","12114115","32114113","52114111","21214114","41214112","23141113","43141111","12241114","32241112","21341113","41341111","13132114","33132112","22232113","42232111","11332114","31332112","23123113","43123111","12223114","32223112","21323113","41323111","13114114","33114112","22214113","42214111","11314114","31314112","24141112","13241113","33241111","22341112","14132113","34132111","23232112","12332113","32332111","21432112","24123112","13223113","33223111","22323112","11423113","31423111","14114113","34114111","23214112","12314113","32314111","21414112","25141111","14241112","23341111","15132112","24232111","13332112","22432111","25123111","14223112","23323111","12423112","21523111","15114112","24214111","13314112","22414111","11514112","15241111","16132111","14332111","15223111","13423111","16114111","14314111","12514111","21151114","41151112","11142115","31142113","51142111","21133114","41133112","11124115","31124113","51124111","21115114","41115112","22151113","42151111","11251114","31251112","12142114","32142112","21242113","41242111","22133113","42133111","11233114","31233112","12124114","32124112","21224113","41224111","22115113","42115111","11215114","31215112","23151112","12251113","32251111","13142113","33142111","22242112","11342113","31342111","23133112","12233113","32233111","21333112","13124113","33124111","22224112","11324113","31324111","23115112","12215113","32215111","21315112","24151111","13251112","14142112","23242111","12342112","24133111","13233112","22333111","11433112","14124112","23224111","12324112","21424111","24115111","13215112","22315111","11415112","14251111","15142111","13342111","14233111","12433111","15124111","13324111","11524111","14215111","12415111","21161113","41161111","11152114","31152112","21143113","41143111","11134114","31134112","21125113","41125111","11116114","31116112","22161112","12152113","32152111","21252112","22143112","11243113","31243111","12134113","32134111","21234112","22125112","11225113","31225111","12116113","32116111","21216112","23161111","13152112","22252111","23143111","12243112","21343111","13134112","22234111","11334112","23125111","12225112","21325111","13116112","22216111","11316112","14152111","13243111","14134111","12334111","13225111","11425111","14116111","12316111","41111215","61111213","21211126","41211124","61211122","22111216","42111214","31211215","51211213","22211125","42211123","11311126","31311124","51311122","23111215","43111213","12211216","32211214","52211212","21311215","41311213","61311211","23211124","43211122","12311125","32311123","52311121","21411124","41411122","24111214","13211215","33211213","22311214","42311212","11411215","31411213","51411211","24211123","13311124","33311122","22411123","42411121","11511124","31511122","25111213","14211214","34211212","23311213","43311211","12411214","32411212","21511213","41511211","25211122","14311123","34311121","23411122","12511123","32511121","21611122","15211213","24311212","13411213","33411211","22511212","11611213","31611211","31121125","51121123","21112126","41112124","61112122","21121216","41121214","61121212","31112215","51112213","12121126","32121124","52121122","21221125","41221123","61221121","22112125","42112123","11212126","22121215","42121213","11221216","31221214","51221212","12112216","32112214","52112212","21212215","41212213","61212211","13121125","33121123","22221124","42221122","11321125","31321123","51321121","23112124","43112122","12212125","23121214","43121212","12221215","32221213","52221211","21321214","41321212","13112215","33112213","22212214","42212212","11312215","31312213","51312211","14121124","34121122","23221123","43221121","12321124","32321122","21421123","41421121","24112123","13212124","24121213","13221214","33221212","11412124","22321213","42321211","11421214","31421212","14112214","34112212","23212213","43212211","12312214","32312212","21412213","41412211","15121123","24221122","13321123","33321121","22421122","11521123","31521121","25112122","14212123","25121212","14221213","34221211","12412123","23321212","12421213","32421211","21521212","15112213","24212212","13312213","33312211","22412212","11512213","31512211","16121122","25221121","14321122","23421121","12521122","15212122","15221212","13412122","24321211","13421212","11612122","22521211","16112212","25212211","14312212","23412211","12512212","21612211","11131126","31131124","51131122","21122125","41122123","61122121","21131215","41131213","61131211","11113126","31113124","51113122","11122216","31122214","51122212","21113215","41113213","61113211","12131125","32131123","52131121","21231124","41231122","22122124","42122122","11222125","22131214","42131212","11231215","31231213","51231211","12113125","32113123","52113121","12122215","32122213","52122211","21222214","41222212","22113214","42113212","11213215","31213213","51213211","13131124","33131122","22231123","42231121","11331124","31331122","23122123","43122121","12222124","23131213","43131211","12231214","32231212","21331213","41331211","13113124","33113122","13122214","33122212","11313124","22222213","42222211","11322214","31322212","23113213","43113211","12213214","32213212","21313213","41313211","14131123","34131121","23231122","12331123","32331121","21431122","24122122","13222123","24131212","13231213","33231211","11422123","22331212","11431213","31431211","14113123","34113121","14122213","34122211","12313123","23222212","12322213","32322211","21422212","24113212","13213213","33213211","22313212","11413213","31413211","15131122","24231121","13331122","22431121","25122121","14222122","25131211","14231212","12422122","23331211","12431212","15113122","15122212","13313122","24222211","13322212","11513122","22422211","11522212","25113211","14213212","23313211","12413212","21513211","16131121","14331121","15222121","15231211","13422121","13431211","16113121","16122211","14313121","14322211","12513121","12522211","15213211","13413211","11613211","11141125","31141123","51141121","21132124","41132122","21141214","41141212","11123125","31123123","51123121","11132215","31132213","51132211","21114124","41114122","21123214","41123212","11114215","31114213","51114211","12141124","32141122","21241123","41241121","22132123","42132121","11232124","22141213","42141211","11241214","31241212","12123124","32123122","12132214","32132212","21232213","41232211","22114123","42114121","11214124","22123213","42123211","11223214","31223212","12114214","32114212","21214213","41214211","13141123","33141121","22241122","11341123","31341121","23132122","12232123","23141212","12241213","32241211","21341212","13123123","33123121","13132213","33132211","11323123","22232212","11332213","31332211","23114122","12214123","23123212","12223213","32223211","21323212","13114213","33114211","22214212","11314213","31314211","14141122","23241121","12341122","24132121","13232122","24141211","13241212","11432122","22341211","14123122","14132212","12323122","23232211","12332212","21432211","24114121","13214122","24123211","13223212","11414122","22323211","11423212","14114212","23214211","12314212","21414211","15141121","13341121","14232121","14241211","12432121","15123121","15132211","13323121","13332211","11523121","14214121","14223211","12414121","12423211","15114211","13314211","11514211","11151124","31151122","21142123","41142121","21151213","41151211","11133124","31133122","11142214","31142212","21124123","41124121","21133213","41133211","11115124","31115122","11124214","31124212","21115213","41115211","12151123","32151121","21251122","22142122","11242123","22151212","11251213","31251211","12133123","32133121","12142213","32142211","21242212","22124122","11224123","22133212","11233213","31233211","12115123","32115121","12124213","32124211","21224212","22115212","11215213","31215211","13151122","22251121","23142121","12242122","23151211","12251212","13133122","13142212","11333122","22242211","11342212","23124121","12224122","23133211","12233212","21333211","13115122","13124212","11315122","22224211","11324212","23115211","12215212","21315211","14151121","13242121","13251211","14133121","14142211","12333121","12342211","13224121","13233211","11424121","11433211","14115121","14124211","12315121","12324211","13215211","11415211","11161123","31161121","21152122","21161212","11143123","31143121","11152213","31152211","21134122","21143212","11125123","31125121","11134213","31134211","21116122","21125212","12161122","22152121","11252122","22161211","12143122","12152212","21252211","22134121","11234122","22143211","11243212","12125122","12134212","21234211","22116121","11216122","22125211","11225212","13161121","12252121","13143121","13152211","11343121","12234121","12243211","13125121","13134211","11325121","11334211","12216121","12225211","31111225","51111223","21111316","41111314","61111312","31211134","51211132","12111226","32111224","52111222","21211225","41211223","61211221","22111315","42111313","11211316","31211314","51211312","12211135","32211133","52211131","21311134","41311132","13111225","33111223","22211224","42211222","11311225","31311223","51311221","23111314","43111312","12211315","32211313","52211311","21311314","41311312","13211134","33211132","22311133","42311131","11411134","31411132","14111224","34111222","23211223","43211221","12311224","32311222","21411223","41411221","24111313","13211314","33211312","22311313","42311311","11411314","31411312","14211133","34211131","23311132","12411133","32411131","21511132","15111223","24211222","13311223","33311221","22411222","11511223","31511221","25111312","14211313","34211311","23311312","12411313","32411311","21511312","15211132","24311131","13411132","22511131","11611132","16111222","25211221","14311222","23411221","12511222","21611221","15211312","24311311","13411312","22511311","11611312","21121135","41121133","61121131","11112136","31112134","51112132","11121226","31121224","51121222","21112225","41112223","61112221","21121315","41121313","61121311","11112316","31112314","51112312","22121134","42121132","11221135","31221133","51221131","12112135","32112133","52112131","12121225","32121223","52121221","21221224","41221222","22112224","42112222","11212225","22121314","42121312","11221315","31221313","51221311","12112315","32112313","52112311","21212314","41212312","23121133","43121131","12221134","32221132","21321133","41321131","13112134","33112132","13121224","33121222","11312134","22221223","42221221","11321224","31321222","23112223","43112221","12212224","23121313","43121311","12221314","32221312","21321313","41321311","13112314","33112312","22212313","42212311","11312314","31312312","24121132","13221133","33221131","22321132","11421133","31421131","14112133","34112131","14121223","34121221","12312133","23221222","12321223","32321221","21421222","24112222","13212223","24121312","13221313","33221311","11412223","22321312","11421313","31421311","14112313","34112311","23212312","12312313","32312311","21412312","25121131","14221132","23321131","12421132","21521131","15112132","15121222","13312132","24221221","13321222","11512132","22421221","11521222","25112221","14212222","25121311","14221312","12412222","23321311","12421312","21521311","15112312","24212311","13312312","22412311","11512312","15221131","13421131","16112131","16121221","14312131","14321221","12512131","12521221","15212221","15221311","13412221","13421311","11612221","16112311","14312311","12512311","21131134","41131132","11122135","31122133","51122131","11131225","31131223","51131221","21113134","41113132","21122224","41122222","21131314","41131312","11113225","31113223","51113221","11122315","31122313","51122311","21113314","41113312","22131133","42131131","11231134","31231132","12122134","32122132","12131224","32131222","21231223","41231221","22113133","42113131","11213134","22122223","42122221","11222224","22131313","42131311","11231314","31231312","12113224","32113222","12122314","32122312","21222313","41222311","22113313","42113311","11213314","31213312","23131132","12231133","32231131","21331132","13122133","33122131","13131223","33131221","11322133","22231222","11331223","31331221","23113132","12213133","23122222","12222223","23131312","12231313","32231311","21331312","13113223","33113221","13122313","33122311","11313223","22222312","11322313","31322311","23113312","12213313","32213311","21313312","24131131","13231132","22331131","11431132","14122132","14131222","12322132","23231221","12331222","21431221","24113131","13213132","24122221","13222222","24131311","11413132","13231312","11422222","22331311","11431312","14113222","14122312","12313222","23222311","12322312","21422311","24113311","13213312","22313311","11413312","14231131","12431131","15122131","15131221","13322131","13331221","11522131","14213131","14222221","12413131","14231311","12422221","12431311","15113221","15122311","13313221","13322311","11513221","11522311","14213311","12413311","21141133","41141131","11132134","31132132","11141224","31141222","21123133","41123131","21132223","41132221","21141313","41141311","11114134","31114132","11123224","31123222","11132314","31132312","21114223","41114221","21123313","41123311","11114314","31114312","22141132","11241133","31241131","12132133","32132131","12141223","32141221","21241222","22123132","11223133","22132222","11232223","22141312","11241313","31241311","12114133","32114131","12123223","32123221","12132313","32132311","21232312","22114222","11214223","22123312","11223313","31223311","12114313","32114311","21214312","23141131","12241132","21341131","13132132","13141222","11332132","22241221","11341222","23123131","12223132","23132221","12232222","23141311","12241312","21341311","13114132","13123222","11314132","13132312","11323222","22232311","11332312","23114221","12214222","23123311","12223312","21323311","13114312","22214311","11314312","13241131","14132131","14141221","12332131","12341221","13223131","13232221","11423131","13241311","11432221","14114131","14123221","12314131","14132311","12323221","12332311","13214221","13223311","11414221","11423311","14114311","12314311","21151132","11142133","31142131","11151223","31151221","21133132","21142222","21151312","11124133","31124131","11133223","31133221","11142313","31142311","21115132","21124222","21133312","11115223","31115221","11124313","31124311","22151131","11251132","12142132","12151222","21251221","22133131","11233132","22142221","11242222","22151311","11251312","12124132","12133222","12142312","21242311","22115131","11215132","22124221","11224222","22133311","11233312","12115222","12124312","21224311","12251131","13142131","13151221","11342131","12233131","12242221","12251311","13124131","13133221","11324131","13142311","11333221","11342311","12215131","12224221","12233311","13115221","13124311","11315221","11324311","21161131","11152132","11161222","21143131","21152221","21161311","11134132","11143222","11152312","21125131","21134221","21143311","11116132","11125222","11134312","12152131","12161221","11243131","11252221","12134131","12143221","12152311","11225131","11234221","11243311","12116131","12125221","12134311","21111235","41111233","61111231","11111326","31111324","51111322","21111415","41111413","61111411","21211144","41211142","22111234","42111232","11211235","31211233","51211231","12111325","32111323","52111321","21211324","41211322","22111414","42111412","11211415","31211413","51211411","22211143","42211141","11311144","31311142","23111233","43111231","12211234","32211232","21311233","41311231","13111324","33111322","22211323","42211321","11311324","31311322","23111413","43111411","12211414","32211412","21311413","41311411","23211142","12311143","32311141","21411142","24111232","13211233","33211231","22311232","11411233","31411231","14111323","34111321","23211322","12311323","32311321","21411322","24111412","13211413","33211411","22311412","11411413","31411411","24211141","13311142","22411141","11511142","25111231","14211232","23311231","12411232","21511231","15111322","24211321","13311322","22411321","11511322","25111411","14211412","23311411","12411412","21511411","14311141","12511141","15211231","13411231","11611231","16111321","14311321","12511321","15211411","13411411","11611411","31121143","51121141","21112144","41112142","21121234","41121232","11112235","31112233","51112231","11121325","31121323","51121321","21112324","41112322","21121414","41121412","11112415","31112413","51112411","12121144","32121142","21221143","41221141","22112143","42112141","11212144","22121233","42121231","11221234","31221232","12112234","32112232","12121324","32121322","21221323","41221321","22112323","42112321","11212324","22121413","42121411","11221414","31221412","12112414","32112412","21212413","41212411","13121143","33121141","22221142","11321143","31321141","23112142","12212143","23121232","12221233","32221231","21321232","13112233","33112231","13121323","33121321","11312233","22221322","11321323","31321321","23112322","12212323","23121412","12221413","32221411","21321412","13112413","33112411","22212412","11312413","31312411","14121142","23221141","12321142","21421141","24112141","13212142","24121231","13221232","11412142","22321231","11421232","14112232","14121322","12312232","23221321","12321322","21421321","24112321","13212322","24121411","13221412","11412322","22321411","11421412","14112412","23212411","12312412","21412411","15121141","13321141","11521141","14212141","14221231","12412141","12421231","15112231","15121321","13312231","13321321","11512231","11521321","14212321","14221411","12412321","12421411","15112411","13312411","11512411","11131144","31131142","21122143","41122141","21131233","41131231","11113144","31113142","11122234","31122232","11131324","31131322","21113233","41113231","21122323","41122321","21131413","41131411","11113324","31113322","11122414","31122412","21113413","41113411","12131143","32131141","21231142","22122142","11222143","22131232","11231233","31231231","12113143","32113141","12122233","32122231","12131323","32131321","21231322","22113232","11213233","22122322","11222323","22131412","11231413","31231411","12113323","32113321","12122413","32122411","21222412","22113412","11213413","31213411","13131142","22231141","11331142","23122141","12222142","23131231","12231232","21331231","13113142","13122232","11313142","13131322","11322232","22231321","11331322","23113231","12213232","23122321","12222322","23131411","12231412","21331411","13113322","13122412","11313322","22222411","11322412","23113411","12213412","21313411","14131141","12331141","13222141","13231231","11422141","11431231","14113141","14122231","12313141","14131321","12322231","12331321","13213231","13222321","11413231","13231411","11422321","11431411","14113321","14122411","12313321","12322411","13213411","11413411","11141143","31141141","21132142","21141232","11123143","31123141","11132233","31132231","11141323","31141321","21114142","21123232","21132322","21141412","11114233","31114231","11123323","31123321","11132413","31132411","21114322","21123412","12141142","21241141","22132141","11232142","22141231","11241232","12123142","12132232","12141322","21241321","22114141","11214142","22123231","11223232","22132321","11232322","22141411","11241412","12114232","12123322","12132412","21232411","22114321","11214322","22123411","11223412","13141141","11341141","12232141","12241231","13123141","13132231","11323141","13141321","11332231","11341321","12214141","12223231","12232321","12241411","13114231","13123321","11314231","13132411","11323321","11332411","12214321","12223411","11151142","21142141","21151231","11133142","11142232","11151322","21124141","21133231","21142321","21151411","11115142","11124232","11133322","11142412","21115231","21124321","21133411","12151141","11242141","11251231","12133141","12142231","12151321","11224141","11233231","11242321","11251411","12115141","12124231","12133321","12142411","11215231","11224321","11233411","11161141","11143141","11152231","11161321","11125141","11134231","11143321","11152411","11111245","31111243","51111241","21111334","41111332","11111425","31111423","51111421","21111514","41111512","31211152","12111244","32111242","21211243","41211241","22111333","42111331","11211334","31211332","12111424","32111422","21211423","41211421","22111513","42111511","11211514","31211512","12211153","32211151","21311152","13111243","33111241","22211242","11311243","31311241","23111332","12211333","32211331","21311332","13111423","33111421","22211422","11311423","31311421","23111512","12211513","32211511","21311512","13211152","22311151","11411152","14111242","23211241","12311242","21411241","24111331","13211332","22311331","11411332","14111422","23211421","12311422","21411421","24111511","13211512","22311511","11411512","14211151","12411151","15111241","13311241","11511241","14211331","12411331","15111421","13311421","11511421","14211511","12411511","21121153","41121151","11112154","31112152","11121244","31121242","21112243","41112241","21121333","41121331","11112334","31112332","11121424","31121422","21112423","41112421","21121513","41121511","11112514","31112512","22121152","11221153","31221151","12112153","32112151","12121243","32121241","21221242","22112242","11212243","22121332","11221333","31221331","12112333","32112331","12121423","32121421","21221422","22112422","11212423","22121512","11221513","31221511","12112513","32112511","21212512","23121151","12221152","21321151","13112152","13121242","11312152","22221241","11321242","23112241","12212242","23121331","12221332","21321331","13112332","13121422","11312332","22221421","11321422","23112421","12212422","23121511","12221512","21321511","13112512","22212511","11312512","13221151","11421151","14112151","14121241","12312151","12321241","13212241","13221331","11412241","11421331","14112331","14121421","12312331","12321421","13212421","13221511","11412421","11421511","14112511","12312511","21131152","11122153","31122151","11131243","31131241","21113152","21122242","21131332","11113243","31113241","11122333","31122331","11131423","31131421","21113332","21122422","21131512","11113423","31113421","11122513","31122511","22131151","11231152","12122152","12131242","21231241","22113151","11213152","22122241","11222242","22131331","11231332","12113242","12122332","12131422","21231421","22113331","11213332","22122421","11222422","22131511","11231512","12113422","12122512","21222511","12231151","13122151","13131241","11322151","11331241","12213151","12222241","12231331","13113241","13122331","11313241","13131421","11322331","11331421","12213331","12222421","12231511","13113421","13122511","11313421","11322511","21141151","11132152","11141242","21123151","21132241","21141331","11114152","11123242","11132332","11141422","21114241","21123331","21132421","21141511","11114332","11123422","11132512","11241151","12132151","12141241","11223151","11232241","11241331","12114151","12123241","12132331","12141421","11214241","11223331","11232421","11241511","12114331","12123421","12132511","11142151","11151241","11124151","11133241","11142331","11151421","11115241","11124331","11133421","11142511","21111253","41111251","11111344","31111342","21111433","41111431","11111524","31111522","21111613","41111611","21211162","22111252","11211253","31211251","12111343","32111341","21211342","22111432","11211433","31211431","12111523","32111521","21211522","22111612","11211613","31211611","22211161","11311162","23111251","12211252","21311251","13111342","22211341","11311342","23111431","12211432","21311431","13111522","22211521","11311522","23111611","12211612","21311611","12311161","13211251","11411251","14111341","12311341","13211431","11411431","14111521","12311521","13211611","11411611","31121161","21112162","21121252","11112253","31112251","11121343","31121341","21112342","21121432","11112433","31112431","11121523","31121521","21112522","21121612","12121162","21221161","22112161","11212162","22121251","11221252","12112252","12121342","21221341","22112341","11212342","22121431","11221432","12112432","12121522","21221521","22112521","11212522","22121611","11221612","13121161","11321161","12212161","12221251","13112251","13121341","11312251","11321341","12212341","12221431","13112431","13121521","11312431","11321521","12212521","12221611","11131162","21122161","21131251","11113162"])]),e.parity=s(["1001","0101","1100","0011","1010","0110","1111","0000"]),e.rowbits=s(e.r);for(var Je=0,Qe=e.r-1;Je<=Qe;Je+=1){e.i=Je,r[t++]="p",e.i!=e.r-1?r[t++]=c(e.parity,e.i):r[t++]="0000";var qe=r[--t];e[r[--t]]=qe,e.ccrow=C(e.ccs,e.i*8,8),r[t++]=1/0;for(var ut=0;ut<=7;ut+=2){O(C(e.ccrow,ut,2));var mt=r[--t],lt=r[--t];r[t++]=S(mt+lt*49)}e.scrow=s(),r[t++]=1/0,r[t++]=10,r[t++]=1,r[t++]=1;for(var vt=0;vt<=3;vt+=1)e.j=vt,ge(c(c(e.patterns,c(e.p,e.j)-48),c(e.scrow,e.j)),function(){var Be=r[--t];r[t++]=Be-48});r[t++]=4,r[t++]=1,e.sbs=s(),r[t++]=1/0;var St=e.sbs;r[t++]=1;for(var kt=0,wt=St.length;kt<wt;kt++)for(var Pt=r[t-1],Mt=Pt==0?1:0,Lt=0,Dt=c(St,kt);Lt<Dt;Lt++)r[t++]=Mt;Vt(s(xa()-1));var jt=r[--t];r[t-1]=jt;var P=r[--t];r[t-1]=P,r[t++]=e.rowbits,r[t++]=e.i;var V=r[t-3],q=r[t-1];g(r[t-2],q,V),t-=3}r[t++]=1/0;for(var ne=0,ue=81*e.sepheight;ne<ue;ne++)r[t++]=1;for(var be=0,re=e.r-2;be<=re;be+=1){e.i=be;for(var Se=0,X=e.rowheight;Se<X;Se++)O(c(e.rowbits,e.i));for(var ve=0,me=e.sepheight;ve<me;ve++){for(var je=0;je<10;je++)r[t++]=0;for(var le=0;le<70;le++)r[t++]=1;r[t++]=0}}for(var ye=0,Ie=e.rowheight;ye<Ie;ye++)O(c(e.rowbits,e.r-1));for(var pe=0,Ce=81*e.sepheight;pe<Ce;pe++)r[t++]=1;e.pixs=s();var Ne=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",81],["pixy",~~(e.pixs.length/81)],["height",~~(e.pixs.length/81)/72],["width",81/72],["opt",e.options]]);r[t++]=Ne,e.dontdraw||xt(),e=a}function oR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.includetext=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.height=.3,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],ge(e.barcode,function(){var v=r[--t];(v<48||v>57)&&(r[t++]="bwipp.flattermarkenBadCharacter#17258",r[t++]="Flattermarken must contain only digits",z())}),e.encs=s(["0018","0117","0216","0315","0414","0513","0612","0711","0810","0900"]),e.barchars="1234567890",e.barlen=e.barcode.length,e.sbs=W(e.barlen*4),e.txt=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,It(e.barchars,C(e.barcode,e.i,1)),t--,e.indx=r[--t].length,t-=2,e.enc=c(e.encs,e.indx),M(e.sbs,e.i*4,e.enc),g(e.txt,e.i,s([C(e.barcode,e.i,1),e.i*9,e.textyoffset,e.textfont,e.textsize]));r[t++]=1/0,r[t++]=1/0;for(var o=e.sbs,d=0,u=o.length;d<u;d++)r[t++]=c(o,d)-48;var f=s();r[t++]=1/0;for(var h=0,p=~~((e.sbs.length+1)/2);h<p;h++)r[t++]=e.height;var m=s();r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=0;var y=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=f,r[t++]="bhs",r[t++]=m,r[t++]="bbs",r[t++]=y,r[t++]="txt",r[t++]=e.txt,r[t++]="opt",r[t++]=e.options;var w=$e();r[t++]=w,e.dontdraw||Bt(),e=a}function lR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],ge(e.barcode,function(){var m=r[--t];(m<49||m>57)&&(r[t++]="bwipp.rawBadCharacter#17344",r[t++]="Raw must contain only digits 1 to 9",z())}),r[t++]=1/0,r[t++]=1/0,ge(e.barcode,function(){var m=r[--t];r[t++]=m-48});var n=s();r[t++]=1/0;for(var i=0,o=~~((e.barcode.length+1)/2);i<o;i++)r[t++]=e.height;var d=s();r[t++]=1/0;for(var u=0,f=~~((e.barcode.length+1)/2);u<f;u++)r[t++]=0;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="sbs",r[t++]=n,r[t++]="bhs",r[t++]=d,r[t++]="bbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=$e();r[t++]=p,e.dontdraw||Bt(),e=a}function cR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.height=.175,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.daftEmptyData#17397",r[t++]="The data must not be empty",z()),ge(e.barcode,function(){var m=r[--t];m!=68&&m!=65&&m!=70&&m!=84&&(r[t++]="bwipp.daftBadCharacter#17402",r[t++]="DAFT must contain only characters D, A, F and T",z())}),e.barlen=e.barcode.length,e.bbs=s(e.barlen),e.bhs=s(e.barlen);for(var n=0,i=e.barlen-1;n<=i;n+=1)e.i=n,e.enc=C(e.barcode,e.i,1),Y(e.enc,"D")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"A")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,5*e.height/8)),Y(e.enc,"F")&&(g(e.bbs,e.i,0*e.height/8),g(e.bhs,e.i,8*e.height/8)),Y(e.enc,"T")&&(g(e.bbs,e.i,3*e.height/8),g(e.bhs,e.i,2*e.height/8));r[t++]=1/0;var o=e.bbs,d=e.bhs;r[t++]=1/0;for(var u=0,f=e.bhs.length-1;u<f;u++)r[t++]=1.44,r[t++]=1.872;r[t++]=1.44;var h=s();r[t++]="ren",r[t++]="renlinear",r[t++]="bbs",r[t++]=o,r[t++]="bhs",r[t++]=d,r[t++]="sbs",r[t++]=h,r[t++]="opt",r[t++]=e.options;var p=$e();r[t++]=p,e.dontdraw||Bt(),e=a}function dR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.fimasbs=s([2.25,2.25,2.25,11.25,2.25,11.25,2.25,2.25,2.25]),r[t++]=1/0;for(var n=0,i=~~(e.fimasbs.length/2)+1;n<i;n++)r[t++]=.625;e.fimabhs=s(),r[t++]=1/0;for(var o=0,d=~~(e.fimasbs.length/2)+1;o<d;o++)r[t++]=0;e.fimabbs=s(),e.fimbsbs=s([2.25,6.75,2.25,2.25,2.25,6.25,2.25,2.25,2.25,6.75,2.25]),r[t++]=1/0;for(var u=0,f=~~(e.fimbsbs.length/2)+1;u<f;u++)r[t++]=.625;e.fimbbhs=s(),r[t++]=1/0;for(var h=0,p=~~(e.fimbsbs.length/2)+1;h<p;h++)r[t++]=0;e.fimbbbs=s(),e.fimcsbs=s([2.25,2.25,2.25,6.75,2.25,6.75,2.25,6.75,2.25,2.25,2.25]),r[t++]=1/0;for(var m=0,x=~~(e.fimcsbs.length/2)+1;m<x;m++)r[t++]=.625;e.fimcbhs=s(),r[t++]=1/0;for(var b=0,y=~~(e.fimcsbs.length/2)+1;b<y;b++)r[t++]=0;e.fimcbbs=s(),e.fimdsbs=s([2.25,2.25,2.25,2.25,2.25,6.75,2.25,6.75,2.25,2.25,2.25,2.25,2.25]),r[t++]=1/0;for(var w=0,v=~~(e.fimdsbs.length/2)+1;w<v;w++)r[t++]=.625;e.fimdbhs=s(),r[t++]=1/0;for(var A=0,k=~~(e.fimdsbs.length/2)+1;A<k;A++)r[t++]=0;e.fimdbbs=s(),e.fimesbs=s([2.25,6.75,2.25,15.75,2.25,6.75,2.25]),r[t++]=1/0;for(var E=0,j=~~(e.fimesbs.length/2)+1;E<j;E++)r[t++]=.625;e.fimebhs=s(),r[t++]=1/0;for(var N=0,B=~~(e.fimesbs.length/2)+1;N<B;N++)r[t++]=0;e.fimebbs=s(),r[t++]=1/0;for(var I=0;I<100;I++)r[t++]=1,r[t++]=1;r[t++]=1,e.zebrasbs=s(),r[t++]=1/0;for(var D=0,T=~~(e.zebrasbs.length/2)+1;D<T;D++)r[t++]=1;e.zebrabhs=s(),r[t++]=1/0;for(var R=0,$=~~(e.zebrasbs.length/2)+1;R<$;R++)r[t++]=0;e.zebrabbs=s(),e.checksize=199,r[t++]=1/0;for(var F=e.checksize,_=0,Q=~~(F*F/2);_<Q;_++)r[t++]=1,r[t++]=0;r[t++]=1,e.checkpixs=s();var H=new Map([["renlinear",Bt],["renmatrix",xt]]);e.renmap=H;var J=new Map([["fima",function(){var L=new Map([["ren","renlinear"],["sbs",e.fimasbs],["bhs",e.fimabhs],["bbs",e.fimabbs]]);r[t++]=L}],["fimb",function(){var L=new Map([["ren","renlinear"],["sbs",e.fimbsbs],["bhs",e.fimbbhs],["bbs",e.fimbbbs]]);r[t++]=L}],["fimc",function(){var L=new Map([["ren","renlinear"],["sbs",e.fimcsbs],["bhs",e.fimcbhs],["bbs",e.fimcbbs]]);r[t++]=L}],["fimd",function(){var L=new Map([["ren","renlinear"],["sbs",e.fimdsbs],["bhs",e.fimdbhs],["bbs",e.fimdbbs]]);r[t++]=L}],["fime",function(){var L=new Map([["ren","renlinear"],["sbs",e.fimesbs],["bhs",e.fimebhs],["bbs",e.fimebbs]]);r[t++]=L}],["zebra",function(){var L=new Map([["ren","renlinear"],["sbs",e.zebrasbs],["bhs",e.zebrabhs],["bbs",e.zebrabbs]]);r[t++]=L}],["check",function(){var L=new Map([["ren","renmatrix"],["pixs",e.checkpixs],["pixx",e.checksize],["pixy",e.checksize],["height",e.checksize/72],["width",e.checksize/72]]);r[t++]=L}]]);e.symbols=J;var K=c(e.symbols,e.barcode)!==void 0;if(K||(r[t++]="bwipp.symbolUnknownSymbol#17531",r[t++]="Unknown symbol name provided",z()),c(e.symbols,e.barcode)()===!0)return!0;var he=r[t-1];if(g(he,"opt",e.options),!e.dontdraw){var G=r[t-1];if(c(e.renmap,c(G,"ren"))()===!0)return!0}e=a}function Uu(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.compact=!1,e.eclevel=-1,e.fixedeclevel=!1,e.columns=0,e.rows=0,e.rowmult=3,e.ccc=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.pdf417emptyData#17591",r[t++]="The data must not be empty",z()),e.eclevel!=-1&&(e.eclevel<0||e.eclevel>8)&&(r[t++]="bwipp.pdf417InvalidErrorCorrectionLevel#17595",r[t++]="Valid error correction levels are 0 to 8",z()),e.ccc&&e.raw&&(r[t++]="bwipp.pdf417cccAndRaw#17599",r[t++]="Cannot combine ccc and raw",z()),e.ccc&&e.compact&&(r[t++]="bwipp.pdf417cccAndCompact#17603",r[t++]="Cannot combine ccc and compact",z()),e.rows!=0&&(e.rows<3||e.rows>90)&&(r[t++]="bwipp.pdf417invalidRows#17607",r[t++]="There must be between 3 and 90 rows",z()),e.columns!=0&&(e.columns<1||e.columns>30)&&(r[t++]="bwipp.pdf417invalidColumns#17611",r[t++]="There must be between 1 and 30 columns",z()),e.rowmult<=0&&(r[t++]="bwipp.pdf417badRowMult#17615",r[t++]="The row multiplier must be greater than zero",z()),e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var n=0,i=e.charmaps.length-1;n<=i;n+=1){e.i=n,e.encs=c(e.charmaps,e.i);for(var o=0;o<=3;o+=1){e.j=o;var d=c(e.encs,e.j);if(r[t++]=d,Y(tn(d),"stringtype")){var u=c(r[--t],0);r[t++]=u}var f=r[--t];g(c(e.charvals,e.j),f,e.i),g(e.alltext,f,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,e.latchcws=$e(),e.raw){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var h=C(e.barcode,e.i+1,3);r[t++]=h,r[t++]=!1;for(var p=0,m=h.length;p<m;p++){var x=c(h,p);(x<48||x>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Fe(r[--t]),g(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.pdf417badRawFormat#17727",r[t++]="raw data must be formatted as ^NNN",z()),e.datcws=C(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var me=0,je=~~(e.inlen/6)-1;me<=je;me+=1){e.k=me,r[t++]=1/0,O(C(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,O(e.msbs);var le=r[--t],ye=r[--t],Ie=r[--t];r[t++]=S(le+ye*256+Ie*65536);for(var pe=0;pe<3;pe++){var Ce=r[--t];r[t++]=Ce%900,r[t++]=~~(Ce/900)}e.mscs=s(),r[t++]=1/0,O(C(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,O(e.lsbs);var Ne=r[--t],Be=r[--t],Ge=r[--t];r[t++]=S(Ne+Be*256+Ge*65536);for(var He=0;He<3;He++){var Xe=r[--t];r[t++]=Xe%900,r[t++]=~~(Xe/900)}e.lscs=s();var st=c(e.lscs,0),at=c(e.mscs,0);g(e.out,e.k*5+4,S(st+at*316)%900);var Ee=c(e.lscs,1),Ve=c(e.mscs,0),Ye=c(e.mscs,1);g(e.out,e.k*5+3,S(~~((st+at*316)/900)+Ee+Ve*641+Ye*316)%900);var et=c(e.lscs,2),ht=c(e.mscs,0),pt=c(e.mscs,1),ft=c(e.mscs,2);g(e.out,e.k*5+2,S(~~((~~((st+at*316)/900)+Ee+Ve*641+Ye*316)/900)+et+ht*20+pt*641+ft*316)%900);var gt=c(e.lscs,3),nt=c(e.mscs,1),Tt=c(e.mscs,2);g(e.out,e.k*5+1,S(~~((~~((~~((st+at*316)/900)+Ee+Ve*641+Ye*316)/900)+et+ht*20+pt*641+ft*316)/900)+gt+nt*20+Tt*641)%900),g(e.out,e.k*5,S(~~((~~((~~((~~((st+at*316)/900)+Ee+Ve*641+Ye*316)/900)+et+ht*20+pt*641+ft*316)/900)+gt+nt*20+Tt*641)/900)+c(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,O(C(e.in,e.inlen-e.rem,e.rem));var tt=s(),Qt=r[--t];M(r[--t],Qt,tt)}r[t++]=e.out},e.ccc){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),g(e.datcws,0,920);var b=e.barlen%6==0?924:901;g(e.datcws,1,b),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ge(e.barcode);var y=s();r[t++]=y,e.encb();var w=r[--t],v=r[--t];M(r[--t],v,w)}if(!e.raw&&!e.ccc){var A=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=A,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var k=r[--t];e[r[--t]]=k,e.msglen=e.msg.length,r[t++]=1/0;for(var E=0,j=e.msglen;E<j;E++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var N=0,B=e.msglen;N<B;N++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var I=0,D=e.msglen;I<D;I++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var T=0,R=e.msglen;T<R;T++)r[t++]=0;r[t++]=0,e.iseci=s();for(var $=e.msglen-1;$>=0;$-=1){e.i=$;var F=c(e.msg,e.i);F>=48&&F<=57&&g(e.numdigits,e.i,c(e.numdigits,e.i+1)+1);var _=c(e.alltext,c(e.msg,e.i))!==void 0;_&&c(e.numdigits,e.i)<13&&g(e.numtext,e.i,c(e.numtext,e.i+1)+1),c(e.msg,e.i)>=0&&c(e.numtext,e.i)<5&&c(e.numdigits,e.i)<13&&g(e.numbytes,e.i,c(e.numbytes,e.i+1)+1),g(e.iseci,e.i,c(e.msg,e.i)<=-1e6)}for(e.numdigits=C(e.numdigits,0,e.msglen),e.numtext=C(e.numtext,0,e.msglen),e.numbytes=C(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.T,e.p=0;e.p!=e.msglen;)if(c(e.iseci,e.p)){if(e.eci=c(e.msg,e.p),r[t++]=1/0,O(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var Q=e.eci<=-1000900?3:2;r[t++]=Q}var H=r[--t],J=r[--t];e[r[--t]]=S(J+H)}else if(e.n=c(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,O(e.seq),r[t++]=e.nl,r[t++]=1/0,O(C(e.msg,e.p,e.n));var K=s();r[t++]=K,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=c(e.numtext,e.p),e.t>=5){r[t++]=1/0,O(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,O(C(e.msg,e.p,e.t));var he=s();r[t++]=he,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=c(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,O(e.seq),r[t++]=e.bs,r[t++]=s([c(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,O(e.seq);var G=e.b%6!=0?e.bl:e.bl6;r[t++]=G,r[t++]=1/0,O(C(e.msg,e.p,e.b));var L=s();r[t++]=L,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}for(e.enca=function(){var me=c(c(e.charvals,e.A),r[--t]);r[t++]=me},e.encl=function(){var me=c(c(e.charvals,e.L),r[--t]);r[t++]=me},e.encm=function(){var me=c(c(e.charvals,e.M),r[--t]);r[t++]=me},e.encp=function(){var me=c(c(e.charvals,e.P),r[--t]);r[t++]=me},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){g(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),g(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ge(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var ht=s([e.A,e.L,e.M,e.P]),pt=0,ft=ht.length;pt<ft;pt++){e.x=c(ht,pt);for(var gt=s([e.A,e.L,e.M,e.P]),nt=0,Tt=gt.length;nt<Tt;nt++)if(e.y=c(gt,nt),e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y)){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.x)),O(c(c(e.latseq,e.x),e.y));var tt=s(),Qt=r[--t];g(r[--t],Qt,tt),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var Ht=s([e.A,e.L,e.M,e.P]),Ot=0,sr=Ht.length;Ot<sr;Ot++)for(e.x=c(Ht,Ot);;){var Sr=c(c(e.charvals,e.x),e.char)!==void 0;if(!Sr)break;if(e.cost=c(e.curlen,e.x)+1,e.cost<c(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(c(e.curseq,e.x)),r[t++]=e.char;var nr=s(),gr=r[--t];g(r[--t],gr,nr)}for(var ar=s([e.A,e.L,e.M,e.P]),Ir=0,Zt=ar.length;Ir<Zt;Ir++)if(e.y=c(ar,Ir),Me(e.x,e.y)&&(e.cost=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x))+1,e.cost<c(e.nxtlen,e.y))){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.y));var dr=e.x==e.A?e.as:e.ps;r[t++]=dr,r[t++]=e.char;var Kt=s(),Jt=r[--t];g(r[--t],Jt,Kt)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var me=s([e.A,e.L,e.M,e.P]),je=0,le=me.length;je<le;je++)e.k=c(me,je),c(e.curlen,e.k)<e.minseq&&(e.minseq=c(e.curlen,e.k),e.txtseq=c(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=c(e.txtseq,e.k),r[t++]=e.char,e[c(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=c(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var ye=r[--t];e[r[--t]]=ye,e.submode=e.A}else{e.nextecitext=!1;for(var Ie=e.i+1,pe=e.seq.length-1;Ie<=pe;Ie+=1){if(e.ti=Ie,Me(tn(c(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(c(c(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Ce=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Ce){r[t++]="pad",r[t++]=e.ll,e.enca();var Ne=r[--t];e[r[--t]]=Ne,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var Be=r[--t];e[r[--t]]=Be,e.submode=e.M}}else if(e.submode==e.M){var Ge=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Ge){r[t++]="pad",r[t++]=e.ll,e.encm();var He=r[--t];e[r[--t]]=He,e.submode=e.L}else{var Xe=c(c(e.charvals,e.P),c(c(e.seq,e.ti),0))!==void 0;if(Xe){r[t++]="pad",r[t++]=e.pl,e.encm();var st=r[--t];e[r[--t]]=st,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var at=r[--t];e[r[--t]]=at,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var Ee=r[--t];e[r[--t]]=Ee,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[c(e.textencfuncs,e.submode)]()===!0)return!0;var Ve=r[--t];e[r[--t]]=Ve}}r[t++]=1/0,O(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var Ye=0,et=e.out.length-1;Ye<=et;Ye+=1)e.k=Ye,g(e.out,e.k,S(c(e.text,e.k*2)*30+c(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var me=0,je=e.in.length-1;me<=je;me+=44){e.k=me,r[t++]=1/0;var le=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=le,le>44&&(r[t-1]=44);for(var ye=r[--t],Ie=r[--t],pe=C(r[--t],Ie,ye),Ce=0,Ne=pe.length;Ce<Ne;Ce++)r[t++]=c(pe,Ce)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+c(e.gmod,0)),e.gmod=C(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,O(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,O(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,O(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,O(e.out),O(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var me=-c(r[--t],0)-1e6;if(r[t++]=me,me<=899){var je=r[--t];r[t++]=927,r[t++]=je,Vt(s(2))}else{var le=r[t-1];if(le<=810899){var ye=r[--t];r[t++]=926,r[t++]=~~(ye/900)-1,r[t++]=ye%900,Vt(s(3))}else{var Ie=r[t-1];if(Ie<=811799){var pe=r[--t];r[t++]=925,r[t++]=pe-810900,Vt(s(2))}else r[t++]="bwipp.pdf417badECI#18089",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var me=r[--t];M(e.datcws,e.j,me),e.j=me.length+e.j},e.state=e.T,e.submode=e.A,e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=c(e.seq,e.i),Y(tn(e.chars),"arraytype"))if(c(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[c(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([c(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=c(e.seq,e.i),e.encb(),e.addtocws());e.i=e.i+1}e.datcws=C(e.datcws,0,e.j)}e.m=e.datcws.length,e.m>926&&(r[t++]="bwipp.pdf417dataTooLong#18129",r[t++]="The data is too long",z()),e.eclevel==-1&&(e.m<=40&&(e.eclevel=2),e.m>=41&&e.m<=160&&(e.eclevel=3),e.m>=161&&e.m<=320&&(e.eclevel=4),e.m>=321&&(e.eclevel=5)),e.fixedeclevel||(e.maxeclevel=~~(hn(927-e.m)/hn(2))-1,e.eclevel>e.maxeclevel&&(e.eclevel=e.maxeclevel)),e.k=~~li(2,e.eclevel+1),e.columns==0&&(e.columns=~~N1(nu((e.m+e.k)/3))),r[t++]="c",e.columns>=1?r[t++]=e.columns:r[t++]=1;var ce=r[--t];if(e[r[--t]]=ce,e.r=~~xr((e.m+e.k+1)/e.columns),e.r<e.rows&&e.rows<=90&&(e.r=e.rows),e.r<3&&(e.r=3),e.r>90&&(r[t++]="bwipp.pdf417insufficientCapacity#18158",r[t++]="Insufficient capacity in the symbol",z()),!e.fixedeclevel){var fe=e.c,U=e.r,ee=e.m,se=8,de=~~(hn(S(fe*U-1-ee))/hn(2))-1;if(~~(hn(S(fe*U-1-ee))/hn(2))-1>8){var ke=se;se=de,de=ke}e.maxeclevel=de,e.maxeclevel>e.eclevel&&(e.eclevel=e.maxeclevel,e.k=~~li(2,e.eclevel+1))}e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),g(e.cws,0,e.n),M(e.cws,1,e.datcws),r[t++]=e.cws,r[t++]=e.m+1,r[t++]=1/0;for(var ae=0,De=S(e.n-e.m)-1;ae<De;ae++)r[t++]=900;var we=s(),Ae=r[--t];M(r[--t],Ae,we),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var Le=0,xe=e.k;Le<xe;Le++)r[t++]=0;r[t++]=0;var Oe=s(),Te=r[--t];M(r[--t],Te,Oe),r[t++]=1/0,r[t++]=1;for(var Pe=0;Pe<928;Pe++){var Ue=r[t-1];r[t++]=Ue*3%929}e.rsalog=s(),e.rslog=s(929);for(var Ze=1;Ze<=928;Ze+=1)g(e.rslog,c(e.rsalog,Ze),Ze);e.rsprod=function(){var me=r[t-1],je=r[t-2];if(me!=0&&je!=0){var le=c(e.rslog,r[--t]),ye=c(e.rsalog,S(le+c(e.rslog,r[--t]))%928);r[t++]=ye}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var te=0,oe=e.k;te<oe;te++)r[t++]=0;e.coeffs=s();for(var Re=1,ze=e.k;Re<=ze;Re+=1){e.i=Re,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var Je=e.i-1;Je>=1;Je-=1){e.j=Je,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Qe=r[--t],qe=r[--t],ut=r[--t];g(r[--t],ut,S(qe+Qe)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var mt=r[--t],lt=r[--t];g(r[--t],lt,mt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var vt=e.coeffs.length-1;vt>=0;vt-=2){var St=e.coeffs;g(St,vt,929-c(St,vt))}for(var kt=0,wt=e.n-1;kt<=wt;kt+=1){e.t=S(c(e.cws,kt)+c(e.cws,e.n))%929;for(var Pt=0,Mt=e.k-1;Pt<=Mt;Pt+=1)e.j=Pt,g(e.cws,S(e.n+e.j),S(c(e.cws,S(e.n+e.j)+1)+(929-e.t*c(e.coeffs,e.k-e.j-1)%929))%929)}for(var Lt=e.n,Dt=S(e.n+e.k);Lt<=Dt;Lt+=1)g(e.cws,Lt,(929-c(e.cws,Lt))%929);e.cws=C(e.cws,0,e.cws.length-1);var jt=c(e.options,"debugcws")!==void 0;jt&&(r[t++]="bwipp.debugcws#18221",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.cwtobits=function(){var me=c(e.clusters,r[--t]);e.v=c(me,r[--t]),r[t++]=1/0;for(var je=0;je<17;je++)r[t++]=0;for(var le=$t(W(17),e.v,2),ye=0,Ie=le.length;ye<Ie;ye++)r[t++]=c(le,ye)-48;var pe=s();r[t++]=C(pe,pe.length-17,17)},e.compact?e.rwid=17*e.c+17+17+1:e.rwid=17*e.c+17+17+17+18,e.pixs=s(e.rwid*e.r*e.rowmult);for(var P=0,V=e.r-1;P<=V;P+=1){e.i=P,e.i%3==0&&(e.lcw=~~(e.i/3)*30+~~((e.r-1)/3),e.rcw=S(~~(e.i/3)*30+e.c)-1),e.i%3==1&&(e.lcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3,e.rcw=~~(e.i/3)*30+~~((e.r-1)/3)),e.i%3==2&&(e.lcw=S(~~(e.i/3)*30+e.c)-1,e.rcw=~~(e.i/3)*30+e.eclevel*3+(e.r-1)%3),r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=e.lcw,r[t++]=e.i%3,e.cwtobits(),O(r[--t]);for(var q=C(e.cws,e.c*e.i,e.c),ne=0,ue=q.length;ne<ue;ne++)r[t++]=c(q,ne),r[t++]=e.i%3,e.cwtobits(),O(r[--t]);e.compact||(r[t++]=e.rcw,r[t++]=e.i%3,e.cwtobits(),O(r[--t]),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=0),r[t++]=1;var be=s();r[t++]=be;for(var re=0,Se=e.rowmult-1;re<=Se;re+=1){var X=r[t-1];M(e.pixs,(re+e.i*e.rowmult)*e.rwid,X)}t--}var ve=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",2],["borderright",2],["bordertop",2],["borderbottom",2],["opt",e.options]]);r[t++]=ve,e.dontdraw||xt(),e=a}function uR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"compact",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Uu();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function iu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.columns=0,e.rows=0,e.rowmult=2,e.cca=!1,e.ccb=!1,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.micropdf417emptyData#18631",r[t++]="The data must not be empty",z()),e.rowmult<=0&&(r[t++]="bwipp.micropdf417badRowMult#18635",r[t++]="The row multiplier must be greater than zero",z()),(e.cca&&e.ccb||e.cca&&e.raw||e.ccb&&e.raw)&&(r[t++]="bwipp.micropdf417ccaAndCcb#18639",r[t++]="Cannot combine cca, ccb and raw",z()),Me(e.version,"unset"))if(It(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Vt(s(2)),ge(r[--t],function(){var pe=r[t-1];r[t++]=!0,pe.length==0&&(r[t-1]=!1);var Ce=r[--t],Ne=r[--t];r[t++]=Ce,ge(Ne,function(){var Be=r[--t];(Be<48||Be>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.micropdf417BadVersionBadRowOrColumn#18653",r[t++]="version must be formatted as RxC",z())}),e.rows=Fe(r[--t]),e.columns=Fe(r[--t])}else t--,r[t++]="bwipp.micropdf417badVersionFormat#18659",r[t++]="version must be formatted as RxC",z();e.T=0,e.N=1,e.B=2,e.A=0,e.L=1,e.M=2,e.P=3,e.tl=-1,e.nl=-2,e.bl=-3,e.bl6=-4,e.bs=-5,e.al=-6,e.ll=-7,e.ml=-8,e.pl=-9,e.as=-10,e.ps=-11,e.m05=-12,e.m06=-13,e.charmaps=s([s(["A","a","0",";"]),s(["B","b","1","<"]),s(["C","c","2",">"]),s(["D","d","3","@"]),s(["E","e","4","["]),s(["F","f","5",92]),s(["G","g","6","]"]),s(["H","h","7","_"]),s(["I","i","8","`"]),s(["J","j","9","~"]),s(["K","k","&","!"]),s(["L","l",13,13]),s(["M","m",9,9]),s(["N","n",",",","]),s(["O","o",":",":"]),s(["P","p","#",10]),s(["Q","q","-","-"]),s(["R","r",".","."]),s(["S","s","$","$"]),s(["T","t","/","/"]),s(["U","u","+",'"']),s(["V","v","%","|"]),s(["W","w","*","*"]),s(["X","x","=",40]),s(["Y","y","^",41]),s(["Z","z",e.pl,"?"]),s([" "," "," ","{"]),s([e.ll,e.as,e.ll,"}"]),s([e.ml,e.ml,e.al,"'"]),s([e.ps,e.ps,e.ps,e.al])]),e.charvals=s([new Map,new Map,new Map,new Map]),e.alltext=new Map;for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=3;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,Y(tn(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}var m=r[--t];g(c(e.charvals,e.j),m,e.i),g(e.alltext,m,-1)}}if(e.e=1e4,e.latlen=s([s([0,1,1,2]),s([2,0,1,2]),s([1,1,0,1]),s([1,2,2,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.ml,e.al]),s([]),s([e.ml]),s([e.ml,e.pl])]),s([s([e.al]),s([e.ll]),s([]),s([e.pl])]),s([s([e.al]),s([e.al,e.ll]),s([e.al,e.ml]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,1]),s([1,e.e,e.e,1]),s([e.e,e.e,e.e,1]),s([e.e,e.e,e.e,e.e])]),e.raw||e.cca){for(e.datcws=s(e.barcode.length),e.i=0,e.j=0;!(e.i>=e.barcode.length-3||c(e.barcode,e.i)!=94);){var x=C(e.barcode,e.i+1,3);r[t++]=x,r[t++]=!1;for(var b=0,y=x.length;b<y;b++){var w=c(x,b);(w<48||w>57)&&(r[t-1]=!0)}if(r[--t]){t--;break}e.cw=Fe(r[--t]),g(e.datcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1}e.i!=e.barcode.length&&(r[t++]="bwipp.micropdf417badCcaRawFormat#18771",r[t++]="cca and raw data must be formatted as ^NNN",z()),e.datcws=C(e.datcws,0,e.j)}if(e.encb=function(){e.in=r[--t],e.inlen=e.in.length,e.out=s(~~(e.inlen/6)*5+e.inlen%6);for(var pe=0,Ce=~~(e.inlen/6)-1;pe<=Ce;pe+=1){e.k=pe,r[t++]=1/0,O(C(e.in,e.k*6,3)),e.msbs=s(),r[t++]=1/0,O(e.msbs);var Ne=r[--t],Be=r[--t],Ge=r[--t];r[t++]=S(Ne+Be*256+Ge*65536);for(var He=0;He<3;He++){var Xe=r[--t];r[t++]=Xe%900,r[t++]=~~(Xe/900)}e.mscs=s(),r[t++]=1/0,O(C(e.in,e.k*6+3,3)),e.lsbs=s(),r[t++]=1/0,O(e.lsbs);var st=r[--t],at=r[--t],Ee=r[--t];r[t++]=S(st+at*256+Ee*65536);for(var Ve=0;Ve<3;Ve++){var Ye=r[--t];r[t++]=Ye%900,r[t++]=~~(Ye/900)}e.lscs=s();var et=c(e.lscs,0),ht=c(e.mscs,0);g(e.out,e.k*5+4,S(et+ht*316)%900);var pt=c(e.lscs,1),ft=c(e.mscs,0),gt=c(e.mscs,1);g(e.out,e.k*5+3,S(~~((et+ht*316)/900)+pt+ft*641+gt*316)%900);var nt=c(e.lscs,2),Tt=c(e.mscs,0),tt=c(e.mscs,1),Qt=c(e.mscs,2);g(e.out,e.k*5+2,S(~~((~~((et+ht*316)/900)+pt+ft*641+gt*316)/900)+nt+Tt*20+tt*641+Qt*316)%900);var Ht=c(e.lscs,3),Ot=c(e.mscs,1),sr=c(e.mscs,2);g(e.out,e.k*5+1,S(~~((~~((~~((et+ht*316)/900)+pt+ft*641+gt*316)/900)+nt+Tt*20+tt*641+Qt*316)/900)+Ht+Ot*20+sr*641)%900),g(e.out,e.k*5,S(~~((~~((~~((~~((et+ht*316)/900)+pt+ft*641+gt*316)/900)+nt+Tt*20+tt*641+Qt*316)/900)+Ht+Ot*20+sr*641)/900)+c(e.mscs,2)*20)%900)}if(e.rem=e.inlen%6,e.rem!=0){r[t++]=e.out,r[t++]=e.out.length-e.rem,r[t++]=1/0,O(C(e.in,e.inlen-e.rem,e.rem));var Sr=s(),nr=r[--t];M(r[--t],nr,Sr)}r[t++]=e.out},e.ccb){e.barlen=e.barcode.length,e.datcws=s(~~(e.barlen/6)*5+e.barlen%6+2),g(e.datcws,0,920);var v=e.barlen%6==0?924:901;g(e.datcws,1,v),r[t++]=e.datcws,r[t++]=2,r[t++]=1/0,ge(e.barcode);var A=s();r[t++]=A,e.encb();var k=r[--t],E=r[--t];M(r[--t],E,k)}if(!e.raw&&!e.cca&&!e.ccb){var j=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=j,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var N=r[--t];if(e[r[--t]]=N,e.msglen=e.msg.length,e.msglen>=9){O(C(e.msg,0,7));var B=r[--t];r[t-1]=B==29;var I=r[--t],D=r[--t],T=r[--t],R=r[--t],$=r[--t],F=r[--t];if(I&&D==48&&T==30&&R==62&&$==41&&F==91){O(C(e.msg,e.msglen-2,2));var _=r[--t],Q=r[--t];_==4&&Q==30&&(c(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,O(C(e.msg,7,e.msg.length-9)),e.msg=s()):c(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,O(C(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var H=0,J=e.msglen;H<J;H++)r[t++]=0;r[t++]=0,e.numdigits=s(),r[t++]=1/0;for(var K=0,he=e.msglen;K<he;K++)r[t++]=0;r[t++]=0,e.numtext=s(),r[t++]=1/0;for(var G=0,L=e.msglen;G<L;G++)r[t++]=0;r[t++]=0,e.numbytes=s(),r[t++]=1/0;for(var ce=0,fe=e.msglen;ce<fe;ce++)r[t++]=0;e.iseci=s();for(var U=e.msglen-1;U>=0;U-=1){e.i=U;var ee=c(e.msg,e.i);ee>=48&&ee<=57&&g(e.numdigits,e.i,c(e.numdigits,e.i+1)+1);var se=c(e.alltext,c(e.msg,e.i))!==void 0;se&&c(e.numdigits,e.i)<13&&g(e.numtext,e.i,c(e.numtext,e.i+1)+1),c(e.msg,e.i)>=0&&c(e.numtext,e.i)<5&&c(e.numdigits,e.i)<13&&g(e.numbytes,e.i,c(e.numbytes,e.i+1)+1),g(e.iseci,e.i,c(e.msg,e.i)<=-1e6)}for(e.numdigits=C(e.numdigits,0,e.msglen),e.numtext=C(e.numtext,0,e.msglen),e.numbytes=C(e.numbytes,0,e.msglen),e.seq=s([]),e.seqlen=0,e.state=e.B,e.p=0;e.p!=e.msglen;){var de=c(e.msg,e.p);if(e.p==0&&(de==e.m05||de==e.m06)){r[t++]=1/0,O(e.seq);var ke=c(e.msg,e.p)==e.m05?e.m05:e.m06;r[t++]=ke,e.seq=s(),e.p=e.p+1,e.seqlen=e.seqlen+1}else if(c(e.iseci,e.p)){if(e.eci=c(e.msg,e.p),r[t++]=1/0,O(e.seq),r[t++]=s([e.eci]),e.seq=s(),e.p=e.p+1,r[t++]="seqlen",r[t++]=e.seqlen,e.eci<=-1810900)r[t++]=2;else{var ae=e.eci<=-1000900?3:2;r[t++]=ae}var De=r[--t],we=r[--t];e[r[--t]]=S(we+De)}else if(e.n=c(e.numdigits,e.p),e.n>=13||e.n==e.msglen&&e.n>=8){r[t++]=1/0,O(e.seq),r[t++]=e.nl,r[t++]=1/0,O(C(e.msg,e.p,e.n));var Ae=s();r[t++]=Ae,e.seq=s(),e.state=e.N,e.p=S(e.p+e.n),e.seqlen=S(e.seqlen+1+e.n)}else if(e.t=c(e.numtext,e.p),e.t>=5){r[t++]=1/0,O(e.seq),e.state!=e.T&&(r[t++]=e.tl),r[t++]=1/0,O(C(e.msg,e.p,e.t));var Le=s();r[t++]=Le,e.seq=s(),e.state=e.T,e.p=S(e.p+e.t),e.seqlen=S(e.seqlen+1+e.t)}else if(e.b=c(e.numbytes,e.p),e.b==1&&e.state==e.T)r[t++]=1/0,O(e.seq),r[t++]=e.bs,r[t++]=s([c(e.msg,e.p)]),e.seq=s(),e.p=S(e.p+e.b),e.seqlen=e.seqlen+2;else{r[t++]=1/0,O(e.seq);var xe=e.b%6!=0?e.bl:e.bl6;r[t++]=xe,r[t++]=1/0,O(C(e.msg,e.p,e.b));var Oe=s();r[t++]=Oe,e.seq=s(),e.state=e.B,e.p=S(e.p+e.b),e.seqlen=S(e.seqlen+1+e.b)}}for(r[t++]=1/0,r[t++]=e.tl,r[t++]=900,r[t++]=e.bl,r[t++]=901,r[t++]=e.bl6,r[t++]=924,r[t++]=e.nl,r[t++]=902,r[t++]=e.bs,r[t++]=913,r[t++]=e.m05,r[t++]=916,r[t++]=e.m06,r[t++]=917,e.latchcws=$e(),e.enca=function(){var pe=c(c(e.charvals,e.A),r[--t]);r[t++]=pe},e.encl=function(){var pe=c(c(e.charvals,e.L),r[--t]);r[t++]=pe},e.encm=function(){var pe=c(c(e.charvals,e.M),r[--t]);r[t++]=pe},e.encp=function(){var pe=c(c(e.charvals,e.P),r[--t]);r[t++]=pe},e.textencfuncs=s(["enca","encl","encm","encp"]),e.addtotext=function(){g(e.text,e.l,r[--t]),e.l=e.l+1},e.enct=function(){e.in=r[--t],e.curlen=s([e.e,e.e,e.e,e.e]),g(e.curlen,e.submode,0),e.curseq=s([s([]),s([]),s([]),s([])]),ge(e.in,function(){for(e.char=r[--t];;){e.imp=!1;for(var Tt=s([e.A,e.L,e.M,e.P]),tt=0,Qt=Tt.length;tt<Qt;tt++){e.x=c(Tt,tt);for(var Ht=s([e.A,e.L,e.M,e.P]),Ot=0,sr=Ht.length;Ot<sr;Ot++)if(e.y=c(Ht,Ot),e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y)){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.x)),O(c(c(e.latseq,e.x),e.y));var Sr=s(),nr=r[--t];g(r[--t],nr,Sr),e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e]),e.nxtseq=s(4);for(var gr=s([e.A,e.L,e.M,e.P]),ar=0,Ir=gr.length;ar<Ir;ar++)for(e.x=c(gr,ar);;){var Zt=c(c(e.charvals,e.x),e.char)!==void 0;if(!Zt)break;if(e.cost=c(e.curlen,e.x)+1,e.cost<c(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(c(e.curseq,e.x)),r[t++]=e.char;var dr=s(),Kt=r[--t];g(r[--t],Kt,dr)}for(var Jt=s([e.A,e.L,e.M,e.P]),ur=0,Tr=Jt.length;ur<Tr;ur++)if(e.y=c(Jt,ur),Me(e.x,e.y)&&(e.cost=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x))+1,e.cost<c(e.nxtlen,e.y))){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.y));var _r=e.x==e.A?e.as:e.ps;r[t++]=_r,r[t++]=e.char;var ua=s(),Ct=r[--t];g(r[--t],Ct,ua)}break}e.curlen=e.nxtlen,e.curseq=e.nxtseq}),e.minseq=e.e;for(var pe=s([e.A,e.L,e.M,e.P]),Ce=0,Ne=pe.length;Ce<Ne;Ce++)e.k=c(pe,Ce),c(e.curlen,e.k)<e.minseq&&(e.minseq=c(e.curlen,e.k),e.txtseq=c(e.curseq,e.k));for(e.text=s(e.minseq),e.k=0,e.l=0;!(e.k>=e.txtseq.length||(e.char=c(e.txtseq,e.k),r[t++]=e.char,e[c(e.textencfuncs,e.submode)]()===!0));)e.addtotext(),e.k=e.k+1,(e.char==e.as||e.char==e.ps)&&(r[t++]=c(e.txtseq,e.k),e.char==e.as?e.enca():e.encp(),e.addtotext(),e.k=e.k+1),e.char==e.al&&(e.submode=e.A),e.char==e.ll&&(e.submode=e.L),e.char==e.ml&&(e.submode=e.M),e.char==e.pl&&(e.submode=e.P);if(e.text.length%2==1){if(e.submode==e.P){r[t++]="pad",r[t++]=e.al,e.encp();var Be=r[--t];e[r[--t]]=Be,e.submode=e.A}else{e.nextecitext=!1;for(var Ge=e.i+1,He=e.seq.length-1;Ge<=He;Ge+=1){if(e.ti=Ge,Me(tn(c(e.seq,e.ti)),"arraytype")){e.nextecitext=!1;break}if(c(c(e.seq,e.ti),0)>-1e6)break;e.nextecitext=!0}if(e.nextecitext)if(e.submode==e.A){var Xe=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Xe){r[t++]="pad",r[t++]=e.ll,e.enca();var st=r[--t];e[r[--t]]=st,e.submode=e.L}else{r[t++]="pad",r[t++]=e.ml,e.enca();var at=r[--t];e[r[--t]]=at,e.submode=e.M}}else if(e.submode==e.M){var Ee=c(c(e.charvals,e.L),c(c(e.seq,e.ti),0))!==void 0;if(Ee){r[t++]="pad",r[t++]=e.ll,e.encm();var Ve=r[--t];e[r[--t]]=Ve,e.submode=e.L}else{var Ye=c(c(e.charvals,e.P),c(c(e.seq,e.ti),0))!==void 0;if(Ye){r[t++]="pad",r[t++]=e.pl,e.encm();var et=r[--t];e[r[--t]]=et,e.submode=e.P}else{r[t++]="pad",r[t++]=e.al,e.encm();var ht=r[--t];e[r[--t]]=ht,e.submode=e.A}}}else{r[t++]="pad",r[t++]=e.ml,e.encl();var pt=r[--t];e[r[--t]]=pt,e.submode=e.M}else{if(r[t++]="pad",r[t++]=e.ps,e[c(e.textencfuncs,e.submode)]()===!0)return!0;var ft=r[--t];e[r[--t]]=ft}}r[t++]=1/0,O(e.text),r[t++]=e.pad,e.text=s()}e.out=s(~~(e.text.length/2));for(var gt=0,nt=e.out.length-1;gt<=nt;gt+=1)e.k=gt,g(e.out,e.k,S(c(e.text,e.k*2)*30+c(e.text,e.k*2+1)));r[t++]=e.out},e.encn=function(){e.in=r[--t],e.out=s([]);for(var pe=0,Ce=e.in.length-1;pe<=Ce;pe+=44){e.k=pe,r[t++]=1/0;var Ne=e.in.length-e.k;r[t++]=1,r[t++]=e.in,r[t++]=e.k,r[t++]=Ne,Ne>44&&(r[t-1]=44);for(var Be=r[--t],Ge=r[--t],He=C(r[--t],Ge,Be),Xe=0,st=He.length;Xe<st;Xe++)r[t++]=c(He,Xe)-48;for(e.gmod=s(),e.cwn=s([]);;){for(e.dv=900,e.gmul=s([]),e.val=0;e.gmod.length!=0;)e.val=S(e.val*10+c(e.gmod,0)),e.gmod=C(e.gmod,1,e.gmod.length-1),e.val<e.dv?e.gmul.length!=0&&(r[t++]=1/0,O(e.gmul),r[t++]=0,e.gmul=s()):(r[t++]=1/0,O(e.gmul),r[t++]=~~(e.val/e.dv),e.gmul=s()),e.val=e.val%e.dv;if(e.dv=e.val,r[t++]=1/0,r[t++]=e.dv,O(e.cwn),e.cwn=s(),e.gmod=e.gmul,e.gmul.length==0)break}r[t++]=1/0,O(e.out),O(e.cwn),e.out=s()}r[t++]=e.out},e.ence=function(){var pe=-c(r[--t],0)-1e6;if(r[t++]=pe,pe<=899){var Ce=r[--t];r[t++]=927,r[t++]=Ce,Vt(s(2))}else{var Ne=r[t-1];if(Ne<=810899){var Be=r[--t];r[t++]=926,r[t++]=~~(Be/900)-1,r[t++]=Be%900,Vt(s(3))}else{var Ge=r[t-1];if(Ge<=811799){var He=r[--t];r[t++]=925,r[t++]=He-810900,Vt(s(2))}else r[t++]="bwipp.pdf417badECI#19167",r[t++]="PDF417 supports ECIs 000000 to 811799",z()}}},e.encfuncs=s(["enct","encn","encb"]),e.addtocws=function(){var pe=r[--t];M(e.datcws,e.j,pe),e.j=pe.length+e.j},e.datcws=s(e.seqlen),e.i=0,e.j=0;!(e.i>=e.seq.length);){if(e.chars=c(e.seq,e.i),Y(tn(e.chars),"arraytype"))if(c(e.chars,0)<=-1e6)r[t++]=e.chars,e.ence(),e.addtocws();else{if(r[t++]=e.chars,e[c(e.encfuncs,e.state)]()===!0)break;e.addtocws()}else r[t++]=s([c(e.latchcws,e.chars)]),e.addtocws(),e.chars==e.tl&&(e.state=e.T,e.submode=e.A),e.chars==e.nl&&(e.state=e.N),(e.chars==e.bl||e.chars==e.bl6)&&(e.state=e.B),e.chars==e.bs&&(e.i=e.i+1,r[t++]=c(e.seq,e.i),e.encb(),e.addtocws()),e.chars==e.m05&&(e.i+1<e.seq.length&&c(e.seq,e.i+1)==e.nl&&(e.i=e.i+1),e.state=e.N),e.chars==e.m06&&(e.i+1<e.seq.length&&c(e.seq,e.i+1)==e.tl&&(e.i=e.i+1),e.state=e.T,e.submode=e.M);e.i=e.i+1}e.datcws=C(e.datcws,0,e.j)}e.ccametrics=s([s([2,5,4,39,0,19]),s([2,6,4,1,0,33]),s([2,7,5,32,0,12]),s([2,8,5,8,0,40]),s([2,9,6,14,0,46]),s([2,10,6,43,0,23]),s([2,12,7,20,0,52]),s([3,4,4,11,43,23]),s([3,5,5,1,33,13]),s([3,6,6,5,37,17]),s([3,7,7,15,47,27]),s([3,8,7,21,1,33]),s([4,3,4,40,20,52]),s([4,4,5,43,23,3]),s([4,5,6,46,26,6]),s([4,6,7,34,14,46]),s([4,7,8,29,9,41])]),e.nonccametrics=s([s([1,11,7,1,0,9]),s([1,14,7,8,0,8]),s([1,17,7,36,0,36]),s([1,20,8,19,0,19]),s([1,24,8,9,0,17]),s([1,28,8,25,0,33]),s([2,8,8,1,0,1]),s([2,11,9,1,0,9]),s([2,14,9,8,0,8]),s([2,17,10,36,0,36]),s([2,20,11,19,0,19]),s([2,23,13,9,0,17]),s([2,26,15,27,0,35]),s([3,6,12,1,1,1]),s([3,8,14,7,7,7]),s([3,10,16,15,15,15]),s([3,12,18,25,25,25]),s([3,15,21,37,37,37]),s([3,20,26,1,17,33]),s([3,26,32,1,9,17]),s([3,32,38,21,29,37]),s([3,38,44,15,31,47]),s([3,44,50,1,25,49]),s([4,4,8,47,19,43]),s([4,6,12,1,1,1]),s([4,8,14,7,7,7]),s([4,10,16,15,15,15]),s([4,12,18,25,25,25]),s([4,15,21,37,37,37]),s([4,20,26,1,17,33]),s([4,26,32,1,9,17]),s([4,32,38,21,29,37]),s([4,38,44,15,31,47]),s([4,44,50,1,25,49])]),r[t++]="metrics",e.cca?r[t++]=e.ccametrics:r[t++]=e.nonccametrics;var Te=r[--t];e[r[--t]]=Te,e.urows=e.rows,e.ucols=e.columns,ge(e.metrics,function(){if(e.m=r[--t],e.c=c(e.m,0),e.r=c(e.m,1),e.k=c(e.m,2),e.rapl=c(e.m,3),e.rapc=c(e.m,4),e.rapr=c(e.m,5),e.ncws=S(e.r*e.c-e.k),e.okay=!0,e.datcws.length>e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.r&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.c&&(e.okay=!1),e.okay)return!0}),e.okay||(r[t++]="bwipp.micropdf417noValidSymbol#19306",r[t++]="Maximum length exceeded or invalid size",z()),e.m=e.datcws.length,e.n=S(e.c*e.r-e.k),e.cws=s(e.c*e.r+1),M(e.cws,0,e.datcws),r[t++]=e.cws,r[t++]=e.m,r[t++]=1/0;for(var Pe=0,Ue=S(e.n-e.m);Pe<Ue;Pe++)r[t++]=900;var Ze=s(),te=r[--t];M(r[--t],te,Ze),r[t++]=e.cws,r[t++]=e.n,r[t++]=1/0;for(var oe=0,Re=e.k;oe<Re;oe++)r[t++]=0;r[t++]=0;var ze=s(),Je=r[--t];M(r[--t],Je,ze),r[t++]=1/0,r[t++]=1;for(var Qe=0;Qe<928;Qe++){var qe=r[t-1];r[t++]=qe*3%929}e.rsalog=s(),e.rslog=s(929);for(var ut=1;ut<=928;ut+=1)g(e.rslog,c(e.rsalog,ut),ut);e.rsprod=function(){var pe=r[t-1],Ce=r[t-2];if(pe!=0&&Ce!=0){var Ne=c(e.rslog,r[--t]),Be=c(e.rsalog,S(Ne+c(e.rslog,r[--t]))%928);r[t++]=Be}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var mt=0,lt=e.k;mt<lt;mt++)r[t++]=0;e.coeffs=s();for(var vt=1,St=e.k;vt<=St;vt+=1){e.i=vt,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var kt=e.i-1;kt>=1;kt-=1){e.j=kt,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var wt=r[--t],Pt=r[--t],Mt=r[--t];g(r[--t],Mt,S(Pt+wt)%929)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Lt=r[--t],Dt=r[--t];g(r[--t],Dt,Lt)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var jt=e.coeffs.length-1;jt>=0;jt-=2){var P=e.coeffs;g(P,jt,929-c(P,jt))}for(var V=0,q=e.n-1;V<=q;V+=1){e.t=S(c(e.cws,V)+c(e.cws,e.n))%929;for(var ne=0,ue=e.k-1;ne<=ue;ne+=1)e.j=ne,g(e.cws,S(e.n+e.j),S(c(e.cws,S(e.n+e.j)+1)+(929-e.t*c(e.coeffs,S(e.k-e.j)-1)%929))%929)}for(var be=e.n,re=S(e.n+e.k);be<=re;be+=1)g(e.cws,be,(929-c(e.cws,be))%929);e.cws=C(e.cws,0,e.cws.length-1);var Se=c(e.options,"debugcws")!==void 0;Se&&(r[t++]="bwipp.debugcws#19360",r[t++]=e.cws,z()),e.clusters=s([s([120256,125680,128380,120032,125560,128318,108736,119920,108640,86080,108592,86048,110016,120560,125820,109792,120440,125758,88256,109680,88160,89536,110320,120700,89312,110200,120638,89200,110140,89840,110460,89720,110398,89980,128506,119520,125304,128190,107712,119408,125244,107616,119352,84032,107568,119324,84e3,107544,83984,108256,119672,125374,85184,108144,119612,85088,108088,119582,85040,108060,85728,108408,119742,85616,108348,85560,108318,85880,108478,85820,85790,107200,119152,125116,107104,119096,125086,83008,107056,119068,82976,107032,82960,82952,83648,107376,119228,83552,107320,119198,83504,107292,83480,83468,83824,107452,83768,107422,83740,83900,106848,118968,125022,82496,106800,118940,82464,106776,118926,82448,106764,82440,106758,82784,106936,119006,82736,106908,82712,106894,82700,82694,106974,82830,82240,106672,118876,82208,106648,118862,82192,106636,82184,106630,82180,82352,82328,82316,82080,118830,106572,106566,82050,117472,124280,127678,103616,117360,124220,103520,117304,124190,75840,103472,75808,104160,117624,124350,76992,104048,117564,76896,103992,76848,76824,77536,104312,117694,77424,104252,77368,77340,77688,104382,77628,77758,121536,126320,128700,121440,126264,128670,111680,121392,126236,111648,121368,126222,111632,121356,103104,117104,124092,112320,103008,117048,124062,112224,121656,126366,93248,74784,102936,117006,93216,112152,93200,75456,103280,117180,93888,75360,103224,117150,93792,112440,121758,93744,75288,93720,75632,103356,94064,75576,103326,94008,112542,93980,75708,94140,75678,94110,121184,126136,128606,111168,121136,126108,111136,121112,126094,111120,121100,111112,111108,102752,116920,123998,111456,102704,116892,91712,74272,121244,116878,91680,74256,102668,91664,111372,102662,74244,74592,102840,116958,92e3,74544,102812,91952,111516,102798,91928,74508,74502,74680,102878,92088,74652,92060,74638,92046,92126,110912,121008,126044,110880,120984,126030,110864,120972,110856,120966,110852,110850,74048,102576,116828,90944,74016,102552,116814,90912,111e3,121038,90896,73992,102534,90888,110982,90884,74160,102620,91056,74136,102606,91032,111054,91020,74118,91014,91100,91086,110752,120920,125998,110736,120908,110728,120902,110724,110722,73888,102488,116782,90528,73872,102476,90512,110796,102470,90504,73860,90500,73858,73944,90584,90572,90566,120876,120870,110658,102444,73800,90312,90308,90306,101056,116080,123580,100960,116024,70720,100912,115996,70688,100888,70672,70664,71360,101232,116156,71264,101176,116126,71216,101148,71192,71180,71536,101308,71480,101278,71452,71612,71582,118112,124600,127838,105024,118064,124572,104992,118040,124558,104976,118028,104968,118022,100704,115896,123486,105312,100656,115868,79424,70176,118172,115854,79392,105240,100620,79376,70152,79368,70496,100792,115934,79712,70448,118238,79664,105372,100750,79640,70412,79628,70584,100830,79800,70556,79772,70542,70622,79838,122176,126640,128860,122144,126616,128846,122128,126604,122120,126598,122116,104768,117936,124508,113472,104736,126684,124494,113440,122264,126670,113424,104712,117894,113416,122246,104706,69952,100528,115804,78656,69920,100504,115790,96064,78624,104856,117966,96032,113560,122318,100486,96016,78600,104838,96008,69890,70064,100572,78768,70040,100558,96176,78744,104910,96152,113614,70022,78726,70108,78812,70094,96220,78798,122016,126552,128814,122e3,126540,121992,126534,121988,121986,104608,117848,124462,113056,104592,126574,113040,122060,117830,113032,104580,113028,104578,113026,69792,100440,115758,78240,69776,100428,95136,78224,104652,100422,95120,113100,69764,95112,78212,69762,78210,69848,100462,78296,69836,95192,78284,69830,95180,78278,69870,95214,121936,126508,121928,126502,121924,121922,104528,117804,112848,104520,117798,112840,121958,112836,104514,112834,69712,100396,78032,69704,100390,94672,78024,104550,94664,112870,69698,94660,78018,94658,78060,94700,94694,126486,121890,117782,104484,104482,69672,77928,94440,69666,77922,99680,68160,99632,68128,99608,115342,68112,99596,68104,99590,68448,99768,115422,68400,99740,68376,99726,68364,68358,68536,99806,68508,68494,68574,101696,116400,123740,101664,116376,101648,116364,101640,116358,101636,67904,99504,115292,72512,67872,116444,115278,72480,101784,116430,72464,67848,99462,72456,101766,67842,68016,99548,72624,67992,99534,72600,101838,72588,67974,68060,72668,68046,72654,118432,124760,127918,118416,124748,118408,124742,118404,118402,101536,116312,105888,101520,116300,105872,118476,116294,105864,101508,105860,101506,105858,67744,99416,72096,67728,116334,80800,72080,101580,99398,80784,105932,67716,80776,72068,67714,72066,67800,99438,72152,67788,80856,72140,67782,80844,72134,67822,72174,80878,126800,128940,126792,128934,126788,126786,118352,124716,122576,126828,124710,122568,126822,122564,118338,122562,101456,116268,105680,101448,116262,114128,105672,118374,114120,122598,101442,114116,105666,114114,67664,99372,71888,67656,99366,80336,71880,101478,97232,80328,105702,67650,97224,114150,71874,97220,67692,71916,67686,80364,71910,97260,80358,97254,126760,128918,126756,126754,118312,124694,122472,126774,122468,118306,122466,101416,116246,105576,101412,113896,105572,101410,113892,105570,113890,67624,99350,71784,101430,80104,71780,67618,96744,80100,71778,96740,80098,96738,71798,96758,126738,122420,122418,105524,113780,113778,71732,79988,96500,96498,66880,66848,98968,66832,66824,66820,66992,66968,66956,66950,67036,67022,1e5,99984,115532,99976,115526,99972,99970,66720,98904,69024,100056,98892,69008,100044,69e3,100038,68996,66690,68994,66776,98926,69080,100078,69068,66758,69062,66798,69102,116560,116552,116548,116546,99920,102096,116588,115494,102088,116582,102084,99906,102082,66640,68816,66632,98854,73168,68808,66628,73160,68804,66626,73156,68802,66668,68844,66662,73196,68838,73190,124840,124836,124834,116520,118632,124854,118628,116514,118626,99880,115478,101992,116534,106216,101988,99874,106212,101986,106210,66600,98838,68712,99894,72936,68708,66594,81384,72932,68706,81380,72930,66614,68726,72950,81398,128980,128978,124820,126900,124818,126898,116500,118580,116498,122740,118578,122738,99860,101940,99858,106100,101938,114420]),s([128352,129720,125504,128304,129692,125472,128280,129678,125456,128268,125448,128262,125444,125792,128440,129758,120384,125744,128412,120352,125720,128398,120336,125708,120328,125702,120324,120672,125880,128478,110144,120624,125852,110112,120600,125838,110096,120588,110088,120582,110084,110432,120760,125918,89664,110384,120732,89632,110360,120718,89616,110348,89608,110342,89952,110520,120798,89904,110492,89880,110478,89868,90040,110558,90012,89998,125248,128176,129628,125216,128152,129614,125200,128140,125192,128134,125188,125186,119616,125360,128220,119584,125336,128206,119568,125324,119560,125318,119556,119554,108352,119728,125404,108320,119704,125390,108304,119692,108296,119686,108292,108290,85824,108464,119772,85792,108440,119758,85776,108428,85768,108422,85764,85936,108508,85912,108494,85900,85894,85980,85966,125088,128088,129582,125072,128076,125064,128070,125060,125058,119200,125144,128110,119184,125132,119176,125126,119172,119170,107424,119256,125166,107408,119244,107400,119238,107396,107394,83872,107480,119278,83856,107468,83848,107462,83844,83842,83928,107502,83916,83910,83950,125008,128044,125e3,128038,124996,124994,118992,125036,118984,125030,118980,118978,106960,119020,106952,119014,106948,106946,82896,106988,82888,106982,82884,82882,82924,82918,124968,128022,124964,124962,118888,124982,118884,118882,106728,118902,106724,106722,82408,106742,82404,82402,124948,124946,118836,118834,106612,106610,124224,127664,129372,124192,127640,129358,124176,127628,124168,127622,124164,124162,117568,124336,127708,117536,124312,127694,117520,124300,117512,124294,117508,117506,104256,117680,124380,104224,117656,124366,104208,117644,104200,117638,104196,104194,77632,104368,117724,77600,104344,117710,77584,104332,77576,104326,77572,77744,104412,77720,104398,77708,77702,77788,77774,128672,129880,93168,128656,129868,92664,128648,129862,92412,128644,128642,124064,127576,129326,126368,124048,129902,126352,128716,127558,126344,124036,126340,124034,126338,117152,124120,127598,121760,117136,124108,121744,126412,124102,121736,117124,121732,117122,121730,103328,117208,124142,112544,103312,117196,112528,121804,117190,112520,103300,112516,103298,112514,75680,103384,117230,94112,75664,103372,94096,112588,103366,94088,75652,94084,75650,75736,103406,94168,75724,94156,75718,94150,75758,128592,129836,91640,128584,129830,91388,128580,91262,128578,123984,127532,126160,123976,127526,126152,128614,126148,123970,126146,116944,124012,121296,116936,124006,121288,126182,121284,116930,121282,102864,116972,111568,102856,116966,111560,121318,111556,102850,111554,74704,102892,92112,74696,102886,92104,111590,92100,74690,92098,74732,92140,74726,92134,128552,129814,90876,128548,90750,128546,123944,127510,126056,128566,126052,123938,126050,116840,123958,121064,116836,121060,116834,121058,102632,116854,111080,121078,111076,102626,111074,74216,102646,91112,74212,91108,74210,91106,74230,91126,128532,90494,128530,123924,126004,123922,126002,116788,120948,116786,120946,102516,110836,102514,110834,73972,90612,73970,90610,128522,123914,125978,116762,120890,102458,110714,123552,127320,129198,123536,127308,123528,127302,123524,123522,116128,123608,127342,116112,123596,116104,123590,116100,116098,101280,116184,123630,101264,116172,101256,116166,101252,101250,71584,101336,116206,71568,101324,71560,101318,71556,71554,71640,101358,71628,71622,71662,127824,129452,79352,127816,129446,79100,127812,78974,127810,123472,127276,124624,123464,127270,124616,127846,124612,123458,124610,115920,123500,118224,115912,123494,118216,124646,118212,115906,118210,100816,115948,105424,100808,115942,105416,118246,105412,100802,105410,70608,100844,79824,70600,100838,79816,105446,79812,70594,79810,70636,79852,70630,79846,129960,95728,113404,129956,95480,113278,129954,95356,95294,127784,129430,78588,128872,129974,95996,78462,128868,127778,95870,128866,123432,127254,124520,123428,126696,128886,123426,126692,124514,126690,115816,123446,117992,115812,122344,117988,115810,122340,117986,122338,100584,115830,104936,100580,113640,104932,100578,113636,104930,113634,70120,100598,78824,70116,96232,78820,70114,96228,78818,96226,70134,78838,129940,94968,113022,129938,94844,94782,127764,78206,128820,127762,95102,128818,123412,124468,123410,126580,124466,126578,115764,117876,115762,122100,117874,122098,100468,104692,100466,113140,104690,113138,69876,78324,69874,95220,78322,95218,129930,94588,94526,127754,128794,123402,124442,126522,115738,117818,121978,100410,104570,112890,69754,78074,94714,94398,123216,127148,123208,127142,123204,123202,115408,123244,115400,123238,115396,115394,99792,115436,99784,115430,99780,99778,68560,99820,68552,99814,68548,68546,68588,68582,127400,129238,72444,127396,72318,127394,123176,127126,123752,123172,123748,123170,123746,115304,123190,116456,115300,116452,115298,116450,99560,115318,101864,99556,101860,99554,101858,68072,99574,72680,68068,72676,68066,72674,68086,72694,129492,80632,105854,129490,80508,80446,127380,72062,127924,127378,80766,127922,123156,123700,123154,124788,123698,124786,115252,116340,115250,118516,116338,118514,99444,101620,99442,105972,101618,105970,67828,72180,67826,80884,72178,80882,97008,114044,96888,113982,96828,96798,129482,80252,130010,97148,80190,97086,127370,127898,128954,123146,123674,124730,126842,115226,116282,118394,122618,99386,101498,105722,114170,67706,71930,80378,96632,113854,96572,96542,80062,96702,96444,96414,96350,123048,123044,123042,115048,123062,115044,115042,99048,115062,99044,99042,67048,99062,67044,67042,67062,127188,68990,127186,123028,123316,123026,123314,114996,115572,114994,115570,98932,100084,98930,100082,66804,69108,66802,69106,129258,73084,73022,127178,127450,123018,123290,123834,114970,115514,116602,98874,99962,102138,66682,68858,73210,81272,106174,81212,81182,72894,81342,97648,114364,97592,114334,97564,97550,81084,97724,81054,97694,97464,114270,97436,97422,80990,97502,97372,97358,97326,114868,114866,98676,98674,66292,66290,123098,114842,115130,98618,99194,66170,67322,69310,73404,73374,81592,106334,81564,81550,73310,81630,97968,114524,97944,114510,97932,97926,81500,98012,81486,97998,97880,114478,97868,97862,81454,97902,97836,97830,69470,73564,73550,81752,106414,81740,81734,73518,81774,81708,81702]),s([109536,120312,86976,109040,120060,86496,108792,119934,86256,108668,86136,129744,89056,110072,129736,88560,109820,129732,88312,109694,129730,88188,128464,129772,89592,128456,129766,89340,128452,89214,128450,125904,128492,125896,128486,125892,125890,120784,125932,120776,125926,120772,120770,110544,120812,110536,120806,110532,84928,108016,119548,84448,107768,119422,84208,107644,84088,107582,84028,129640,85488,108284,129636,85240,108158,129634,85116,85054,128232,129654,85756,128228,85630,128226,125416,128246,125412,125410,119784,125430,119780,119778,108520,119798,108516,108514,83424,107256,119166,83184,107132,83064,107070,83004,82974,129588,83704,107390,129586,83580,83518,128116,83838,128114,125172,125170,119284,119282,107508,107506,82672,106876,82552,106814,82492,82462,129562,82812,82750,128058,125050,119034,82296,106686,82236,82206,82366,82108,82078,76736,103920,117500,76256,103672,117374,76016,103548,75896,103486,75836,129384,77296,104188,129380,77048,104062,129378,76924,76862,127720,129398,77564,127716,77438,127714,124392,127734,124388,124386,117736,124406,117732,117730,104424,117750,104420,104418,112096,121592,126334,92608,111856,121468,92384,111736,121406,92272,111676,92216,111646,92188,75232,103160,117118,93664,74992,103036,93424,112252,102974,93304,74812,93244,74782,93214,129332,75512,103294,129908,129330,93944,75388,129906,93820,75326,93758,127604,75646,128756,127602,94078,128754,124148,126452,124146,126450,117236,121844,117234,121842,103412,103410,91584,111344,121212,91360,111224,121150,91248,111164,91192,111134,91164,91150,74480,102780,91888,74360,102718,91768,111422,91708,74270,91678,129306,74620,129850,92028,74558,91966,127546,128634,124026,126202,116986,121338,102906,90848,110968,121022,90736,110908,90680,110878,90652,90638,74104,102590,91e3,74044,90940,74014,90910,74174,91070,90480,110780,90424,110750,90396,90382,73916,90556,73886,90526,90296,110686,90268,90254,73822,90334,90204,90190,71136,101112,116094,70896,100988,70776,100926,70716,70686,129204,71416,101246,129202,71292,71230,127348,71550,127346,123636,123634,116212,116210,101364,101362,79296,105200,118140,79072,105080,118078,78960,105020,78904,104990,78876,78862,70384,100732,79600,70264,100670,79480,105278,79420,70174,79390,129178,70524,129466,79740,70462,79678,127290,127866,123514,124666,115962,118266,100858,113376,122232,126654,95424,113264,122172,95328,113208,122142,95280,113180,95256,113166,95244,78560,104824,117950,95968,78448,104764,95856,113468,104734,95800,78364,95772,78350,95758,70008,100542,78712,69948,96120,78652,69918,96060,78622,96030,70078,78782,96190,94912,113008,122044,94816,112952,122014,94768,112924,94744,112910,94732,94726,78192,104636,95088,78136,104606,95032,113054,95004,78094,94990,69820,78268,69790,95164,78238,95134,94560,112824,121950,94512,112796,94488,112782,94476,94470,78008,104542,94648,77980,94620,77966,94606,69726,78046,94686,94384,112732,94360,112718,94348,94342,77916,94428,77902,94414,94296,112686,94284,94278,77870,94318,94252,94246,68336,99708,68216,99646,68156,68126,68476,68414,127162,123258,115450,99834,72416,101752,116414,72304,101692,72248,101662,72220,72206,67960,99518,72568,67900,72508,67870,72478,68030,72638,80576,105840,118460,80480,105784,118430,80432,105756,80408,105742,80396,80390,72048,101564,80752,71992,101534,80696,71964,80668,71950,80654,67772,72124,67742,80828,72094,80798,114016,122552,126814,96832,113968,122524,96800,113944,122510,96784,113932,96776,113926,96772,80224,105656,118366,97120,80176,105628,97072,114076,105614,97048,80140,97036,80134,97030,71864,101470,80312,71836,97208,80284,71822,97180,80270,97166,67678,71902,80350,97246,96576,113840,122460,96544,113816,122446,96528,113804,96520,113798,96516,96514,80048,105564,96688,80024,105550,96664,113870,96652,80006,96646,71772,80092,71758,96732,80078,96718,96416,113752,122414,96400,113740,96392,113734,96388,96386,79960,105518,96472,79948,96460,79942,96454,71726,79982,96494,96336,113708,96328,113702,96324,96322,79916,96364,79910,96358,96296,113686,96292,96290,79894,96310,66936,99006,66876,66846,67006,68976,100028,68920,99998,68892,68878,66748,69052,66718,69022,73056,102072,116574,73008,102044,72984,102030,72972,72966,68792,99934,73144,68764,73116,68750,73102,66654,68830,73182,81216,106160,118620,81184,106136,118606,81168,106124,81160,106118,81156,81154,72880,101980,81328,72856,101966,81304,106190,81292,72838,81286,68700,72924,68686,81372,72910,81358,114336,122712,126894,114320,122700,114312,122694,114308,114306,81056,106072,118574,97696,81040,106060,97680,114380,106054,97672,81028,97668,81026,97666,72792,101934,81112,72780,97752,81100,72774,97740,81094,97734,68654,72814,81134,97774,114256,122668,114248,122662,114244,114242,80976,106028,97488,80968,106022,97480,114278,97476,80962,97474,72748,81004,72742,97516,80998,97510,114216,122646,114212,114210,80936,106006,97384,80932,97380,80930,97378,72726,80950,97398,114196,114194,80916,97332,80914,97330,66236,66206,67256,99166,67228,67214,66142,67294,69296,100188,69272,100174,69260,69254,67164,69340,67150,69326,73376,102232,116654,73360,102220,73352,102214,73348,73346,69208,100142,73432,102254,73420,69190,73414,67118,69230,73454,106320,118700,106312,118694,106308,106306,73296,102188,81616,106348,102182,81608,73284,81604,73282,81602,69164,73324,69158,81644,73318,81638,122792,126934,122788,122786,106280,118678,114536,106276,114532,106274,114530,73256,102166,81512,73252,98024,81508,73250,98020,81506,98018,69142,73270,81526,98038,122772,122770,106260,114484,106258,114482,73236,81460,73234,97908,81458,97906,122762,106250,114458,73226,81434,97850,66396,66382,67416,99246,67404,67398,66350,67438,69456,100268,69448,100262,69444,69442,67372,69484,67366,69478,102312,116694,102308,102306,69416,100246,73576,102326,73572,69410,73570,67350,69430,73590,118740,118738,102292,106420,102290,106418,69396,73524,69394,81780,73522,81778,118730,102282,106394,69386,73498,81722,66476,66470,67496,99286,67492,67490,66454,67510,100308,100306,67476,69556,67474,69554,116714])]),e.raps=s([s([802,930,946,818,882,890,826,954,922,986,970,906,778,794,786,914,978,982,980,916,948,932,934,942,940,936,808,812,814,806,822,950,918,790,788,820,884,868,870,878,876,872,840,856,860,862,846,844,836,838,834,866]),s([718,590,622,558,550,566,534,530,538,570,562,546,610,626,634,762,754,758,630,628,612,614,582,578,706,738,742,740,748,620,556,552,616,744,712,716,708,710,646,654,652,668,664,696,688,656,720,592,600,604,732,734])]),e.cwtobits=function(){var pe=c(e.clusters,r[--t]);e.v=c(pe,r[--t]),r[t++]=1/0;for(var Ce=0;Ce<17;Ce++)r[t++]=0;for(var Ne=$t(W(17),e.v,2),Be=0,Ge=Ne.length;Be<Ge;Be++)r[t++]=c(Ne,Be)-48;var He=s();r[t++]=C(He,He.length-17,17)},e.raptobits=function(){var pe=c(e.raps,r[--t]);e.v=c(pe,r[--t]),r[t++]=1/0;for(var Ce=0;Ce<10;Ce++)r[t++]=0;for(var Ne=$t(W(10),e.v,2),Be=0,Ge=Ne.length;Be<Ge;Be++)r[t++]=c(Ne,Be)-48;var He=s();r[t++]=C(He,He.length-10,10)},e.rwid=c(s([38,55,82,99]),e.c-1),e.c==3&&e.cca&&(e.rwid=72),e.pixs=s(e.rwid*e.r*e.rowmult);for(var X=0,ve=e.r-1;X<=ve;X+=1){e.i=X,e.clst=(S(e.i+e.rapl)-1)%3,r[t++]=1/0,e.c==1&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==2&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*2+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==3&&(e.cca||(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),r[t++]=c(e.cws,e.i*3),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*3+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*3+2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),e.c==4&&(r[t++]=(S(e.i+e.rapl)-1)%52,r[t++]=0,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4+1),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapc)-1)%52,r[t++]=1,e.raptobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4+2),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=c(e.cws,e.i*4+3),r[t++]=e.clst,e.cwtobits(),O(r[--t]),r[t++]=(S(e.i+e.rapr)-1)%52,r[t++]=0,e.raptobits(),O(r[--t])),r[t++]=1;var me=s();r[t++]=me;for(var je=0,le=e.rowmult-1;je<=le;je+=1){var ye=r[t-1];M(e.pixs,(je+e.i*e.rowmult)*e.rwid,ye)}t--}var Ie=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.rwid],["pixy",e.r*e.rowmult],["height",e.r*e.rowmult/72],["width",e.rwid/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ie,e.dontdraw||xt(),e=a}function Q1(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.columns=0,e.rows=0,e.format="unset",e.version="unset",e.parse=!1,e.parsefnc=!1,e.c40headerlength=-1,e.raw=!1,e.dmre=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.datamatrixEmptyData#19750",r[t++]="The data must not be empty",z()),Me(e.version,"unset")&&(e.rows!=0||e.columns!=0)&&(r[t++]="bwipp.datamatrixVersionRowsCols#19754",r[t++]="rows and columns must not be given if version is specified",z()),Me(e.version,"unset"))if(It(e.version,"x"),r[--t]){var n=r[--t];r[t-1]=n;var i=r[t-1],o=r[t-2];r[t++]=o,r[t++]=i,Vt(s(2)),ge(r[--t],function(){var it=r[t-1];r[t++]=!0,it.length==0&&(r[t-1]=!1);var Ft=r[--t],Yt=r[--t];r[t++]=Ft,ge(Yt,function(){var Wt=r[--t];(Wt<48||Wt>57)&&(r[t-1]=!1)}),r[--t]||(r[t++]="bwipp.datamatrixVersionBadRowOrColumn#19768",r[t++]="version must be formatted as RxC",z())}),e.rows=Fe(r[--t]),e.columns=Fe(r[--t]),r[t++]="format",e.rows==e.columns?r[t++]="square":r[t++]="rectangle";var d=r[--t];e[r[--t]]=d}else t--,r[t++]="bwipp.datamatrixVersionFormat#19775",r[t++]="version must be formatted as RxC",z();else if(Y(e.format,"unset")){r[t++]="format",e.dmre?r[t++]="rectangle":r[t++]="square";var u=r[--t];e[r[--t]]=u}Me(e.format,"square")&&Me(e.format,"rectangle")&&(r[t++]="bwipp.datamatrixInvalidFormat#19784",r[t++]="The format must be either square or rectangle",z()),e.metrics=s([s([10,10,1,1,5,1,0]),s([12,12,1,1,7,1,0]),s([14,14,1,1,10,1,0]),s([16,16,1,1,12,1,0]),s([18,18,1,1,14,1,0]),s([20,20,1,1,18,1,0]),s([22,22,1,1,20,1,0]),s([24,24,1,1,24,1,0]),s([26,26,1,1,28,1,0]),s([32,32,2,2,36,1,0]),s([36,36,2,2,42,1,0]),s([40,40,2,2,48,1,0]),s([44,44,2,2,56,1,0]),s([48,48,2,2,68,1,0]),s([52,52,2,2,84,2,0]),s([64,64,4,4,112,2,0]),s([72,72,4,4,144,4,0]),s([80,80,4,4,192,4,0]),s([88,88,4,4,224,4,0]),s([96,96,4,4,272,4,0]),s([104,104,4,4,336,6,0]),s([120,120,6,6,408,6,0]),s([132,132,6,6,496,8,0]),s([144,144,6,6,620,10,0]),s([8,18,1,1,7,1,0]),s([8,32,1,2,11,1,0]),s([8,48,1,2,15,1,1]),s([8,64,1,4,18,1,1]),s([8,80,1,4,22,1,1]),s([8,96,1,4,28,1,1]),s([8,120,1,6,32,1,1]),s([8,144,1,6,36,1,1]),s([12,26,1,1,14,1,0]),s([12,36,1,2,18,1,0]),s([12,64,1,4,27,1,1]),s([12,88,1,4,36,1,1]),s([16,36,1,2,24,1,0]),s([16,48,1,2,28,1,0]),s([16,64,1,4,36,1,1]),s([20,36,1,2,28,1,1]),s([20,44,1,2,34,1,1]),s([20,64,1,4,42,1,1]),s([22,48,1,2,38,1,1]),s([24,48,1,2,41,1,1]),s([24,64,1,4,46,1,1]),s([26,40,1,2,38,1,1]),s([26,48,1,2,42,1,1]),s([26,64,1,4,50,1,1])]),e.urows=e.rows,e.ucols=e.columns,e.fullcws=s([]);for(var f=e.metrics,h=0,p=f.length;h<p;h++)e.m=c(f,h),e.rows=c(e.m,0),e.cols=c(e.m,1),e.regh=c(e.m,2),e.regv=c(e.m,3),e.rscw=c(e.m,4),e.rsbl=c(e.m,5),e.doly=c(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),Y(e.format,"square")&&Me(e.rows,e.cols)&&(e.okay=!1),Y(e.format,"rectangle")&&Y(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),e.okay&&(r[t++]=1/0,O(e.fullcws),r[t++]=e.ncws,e.fullcws=s());r[t++]=1/0;for(var m=0;m<1558;m++)r[t++]=1e4;e.numremcws=s();for(var x=e.fullcws,b=0,y=x.length;b<y;b++)g(e.numremcws,c(x,b)-1,1);for(var w=1556;w>=0;w-=1)e.i=w,c(e.numremcws,e.i)!=1&&g(e.numremcws,e.i,c(e.numremcws,e.i+1)+1);e.fnc1=-1,e.prog=-2,e.m05=-3,e.m06=-4,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lE=-9,e.unl=-10,e.sapp=-11,e.usft=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.unlcw=254,r[t++]=1/0;for(var v=0;v<=128;v+=1)r[t++]=v,r[t++]=v+1;r[t++]=e.pad,r[t++]=129;for(var A=0;A<=99;A+=1){var k=$t(W(2),A,10),E=Fr(W(2),"00");M(E,2-k.length,k),r[t++]=E,r[t++]=A+130}var j=s([e.lC,e.lB,e.fnc1,e.sapp,e.prog,e.usft,e.m05,e.m06,e.lX,e.lT,e.lE,e.eci]);r[t++]=229;for(var N=0,B=j.length;N<B;N++){var I=r[--t]+1;r[t++]=c(j,N),r[t++]=I,r[t++]=I}t--,e.Avals=$e(),r[t++]=1/0;for(var D=e.Avals,T=D.size,R=D.keys(),$=0;$<T;$++){var F=R.next().value;r[t++]=F;var _=1/0,Q=D.get(F);r[t++]=_,r[t++]=Q;var H=s();r[t++]=H}e.Avals=$e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var J=48;J<=57;J+=1)r[t++]=J,r[t++]=J-44;for(var K=65;K<=90;K+=1)r[t++]=K,r[t++]=K-51;e.CNvals=$e(),r[t++]=1/0;for(var he=0;he<=31;he+=1)r[t++]=he,r[t++]=he;e.C1vals=$e(),r[t++]=1/0;for(var G=33;G<=47;G+=1)r[t++]=G,r[t++]=G-33;for(var L=58;L<=64;L+=1)r[t++]=L,r[t++]=L-43;for(var ce=91;ce<=95;ce+=1)r[t++]=ce,r[t++]=ce-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.C2vals=$e(),r[t++]=1/0;for(var fe=96;fe<=127;fe+=1)r[t++]=fe,r[t++]=fe-96;e.C3vals=$e(),r[t++]=1/0;for(var U=e.CNvals,ee=U.size,se=U.keys(),de=0;de<ee;de++){var ke=se.next().value;r[t++]=ke;var ae=1/0,De=U.get(ke);r[t++]=ae,r[t++]=De;var we=s();r[t++]=we}for(var Ae=e.C1vals,Le=Ae.size,xe=Ae.keys(),Oe=0;Oe<Le;Oe++){var Te=xe.next().value;r[t++]=Te;var Pe=1/0,Ue=Ae.get(Te);r[t++]=Pe,r[t++]=c(e.CNvals,e.sft1),r[t++]=Ue;var Ze=s();r[t++]=Ze}for(var te=e.C2vals,oe=te.size,Re=te.keys(),ze=0;ze<oe;ze++){var Je=Re.next().value;r[t++]=Je;var Qe=1/0,qe=te.get(Je);r[t++]=Qe,r[t++]=c(e.CNvals,e.sft2),r[t++]=qe;var ut=s();r[t++]=ut}for(var mt=e.C3vals,lt=mt.size,vt=mt.keys(),St=0;St<lt;St++){var kt=vt.next().value;r[t++]=kt;var wt=1/0,Pt=mt.get(kt);r[t++]=wt,r[t++]=c(e.CNvals,e.sft3),r[t++]=Pt;var Mt=s();r[t++]=Mt}e.Cvals=$e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var Lt=48;Lt<=57;Lt+=1)r[t++]=Lt,r[t++]=Lt-44;for(var Dt=97;Dt<=122;Dt+=1)r[t++]=Dt,r[t++]=Dt-83;e.TNvals=$e(),r[t++]=1/0;for(var jt=0;jt<=31;jt+=1)r[t++]=jt,r[t++]=jt;e.T1vals=$e(),r[t++]=1/0;for(var P=33;P<=47;P+=1)r[t++]=P,r[t++]=P-33;for(var V=58;V<=64;V+=1)r[t++]=V,r[t++]=V-43;for(var q=91;q<=95;q+=1)r[t++]=q,r[t++]=q-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.usft,r[t++]=30,e.T2vals=$e(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var ne=65;ne<=90;ne+=1)r[t++]=ne,r[t++]=ne-64;for(var ue=123;ue<=127;ue+=1)r[t++]=ue,r[t++]=ue-96;e.T3vals=$e(),r[t++]=1/0;for(var be=e.TNvals,re=be.size,Se=be.keys(),X=0;X<re;X++){var ve=Se.next().value;r[t++]=ve;var me=1/0,je=be.get(ve);r[t++]=me,r[t++]=je;var le=s();r[t++]=le}for(var ye=e.T1vals,Ie=ye.size,pe=ye.keys(),Ce=0;Ce<Ie;Ce++){var Ne=pe.next().value;r[t++]=Ne;var Be=1/0,Ge=ye.get(Ne);r[t++]=Be,r[t++]=c(e.TNvals,e.sft1),r[t++]=Ge;var He=s();r[t++]=He}for(var Xe=e.T2vals,st=Xe.size,at=Xe.keys(),Ee=0;Ee<st;Ee++){var Ve=at.next().value;r[t++]=Ve;var Ye=1/0,et=Xe.get(Ve);r[t++]=Ye,r[t++]=c(e.TNvals,e.sft2),r[t++]=et;var ht=s();r[t++]=ht}for(var pt=e.T3vals,ft=pt.size,gt=pt.keys(),nt=0;nt<ft;nt++){var Tt=gt.next().value;r[t++]=Tt;var tt=1/0,Qt=pt.get(Tt);r[t++]=tt,r[t++]=c(e.TNvals,e.sft3),r[t++]=Qt;var Ht=s();r[t++]=Ht}e.Tvals=$e();for(var Ot=128;Ot<=255;Ot+=1){e.i=Ot,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,O(c(e.Avals,e.usft)),O(c(e.Avals,e.i-128));var sr=s(),Sr=r[--t];g(r[--t],Sr,sr),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Cvals,e.usft)),O(c(e.Cvals,e.i-128));var nr=s(),gr=r[--t];g(r[--t],gr,nr),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Tvals,e.usft)),O(c(e.Tvals,e.i-128));var ar=s(),Ir=r[--t];g(r[--t],Ir,ar)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Zt=48;Zt<=57;Zt+=1)r[t++]=Zt,r[t++]=Zt-44;for(var dr=65;dr<=90;dr+=1)r[t++]=dr,r[t++]=dr-51;e.Xvals=$e(),r[t++]=1/0;for(var Kt=e.Xvals,Jt=Kt.size,ur=Kt.keys(),Tr=0;Tr<Jt;Tr++){var _r=ur.next().value;r[t++]=_r;var ua=1/0,Ct=Kt.get(_r);r[t++]=ua,r[t++]=Ct;var qt=s();r[t++]=qt}e.Xvals=$e(),r[t++]=1/0;for(var tr=64;tr<=94;tr+=1)r[t++]=tr,r[t++]=tr-64;r[t++]=e.unl,r[t++]=31;for(var br=32;br<=63;br+=1)r[t++]=br,r[t++]=br;e.Evals=$e(),r[t++]=1/0;for(var ir=e.Evals,Br=ir.size,or=ir.keys(),Ut=0;Ut<Br;Ut++){var yr=or.next().value;r[t++]=yr;var ta=1/0,fa=ir.get(yr);r[t++]=ta,r[t++]=fa;var wa=s();r[t++]=wa}e.Evals=$e(),r[t++]=1/0;for(var Lr=0;Lr<=255;Lr+=1)r[t++]=Lr,r[t++]=Lr;e.Bvals=$e(),r[t++]=1/0;for(var Ea=e.Bvals,ga=Ea.size,Ra=Ea.keys(),la=0;la<ga;la++){var Aa=Ra.next().value;r[t++]=Aa;var Ca=1/0,ka=Ea.get(Aa);r[t++]=Ca,r[t++]=ka;var La=s();r[t++]=La}if(e.Bvals=$e(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,e.Evals,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.E=4,e.B=5,e.raw){for(e.cws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),g(e.cws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.cws=C(e.cws,0,e.j)}else{var Qa=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["PROG",e.prog]]);e.fncvals=Qa,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var Va=r[--t];if(e[r[--t]]=Va,e.msglen=e.msg.length,e.msglen>=9){O(C(e.msg,0,7));var ps=r[--t];r[t-1]=ps==29;var Ia=r[--t],Bs=r[--t],Ha=r[--t],Qs=r[--t],Ma=r[--t],ms=r[--t];if(Ia&&Bs==48&&Ha==30&&Qs==62&&Ma==41&&ms==91){O(C(e.msg,e.msglen-2,2));var Ds=r[--t],Ts=r[--t];Ds==4&&Ts==30&&(c(e.msg,5)==53?(r[t++]=1/0,r[t++]=e.m05,O(C(e.msg,7,e.msg.length-9)),e.msg=s()):c(e.msg,5)==54&&(r[t++]=1/0,r[t++]=e.m06,O(C(e.msg,7,e.msg.length-9)),e.msg=s()))}}e.msglen=e.msg.length,r[t++]=1/0;for(var Ka=0,Hs=e.msglen;Ka<Hs;Ka++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var Wa=0,xs=e.msglen;Wa<xs;Wa++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Fa=0,vn=e.msglen;Fa<vn;Fa++)r[t++]=0;r[t++]=9999,e.nextNonX=s(),r[t++]=1/0;for(var $a=0,In=e.msglen;$a<In;$a++)r[t++]=!1;r[t++]=!1,e.isECI=s();for(var Ba=e.msglen-1;Ba>=0;Ba-=1){e.i=Ba,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.numD,e.i,c(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?g(e.nextXterm,e.i,0):g(e.nextXterm,e.i,c(e.nextXterm,e.i+1)+1);var Xs=c(e.Xvals,e.barchar)!==void 0;Xs?g(e.nextNonX,e.i,c(e.nextNonX,e.i+1)+1):g(e.nextNonX,e.i,0),g(e.isECI,e.i,e.barchar<=-1e6)}r[t++]=1/0;for(var _a=e.nextXterm,rn=0,is=_a.length;rn<is;rn++){var Xt=c(_a,rn);r[t++]=Xt,Xt>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var Xr=e.nextNonX,ja=0,Pa=Xr.length;ja<Pa;ja++){var vs=c(Xr,ja);r[t++]=vs,vs>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var it=c(e.CNvals,e.char)!==void 0;r[t++]=it},e.isT=function(){var it=c(e.TNvals,e.char)!==void 0;r[t++]=it},e.isX=function(){var it=c(e.Xvals,e.char)!==void 0;r[t++]=it},e.isE=function(){var it=c(e.Evals,e.char)!==void 0;r[t++]=it},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var it=r[--t];r[t++]=mn(c(e.nextXterm,it),c(e.nextNonX,it))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.ec=2,e.bc=2.25,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.ec=1,e.bc=1.25),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.E&&(e.ec=0),e.mode==e.B&&(e.bc=0);for(var it=0;it<1;it++){if(c(e.isECI,e.i)){r[t++]=e.A;break}if(e.c40headerlength!=-1&&e.i<e.c40headerlength){r[t++]=e.C;break}for(e.k=0;;){if(e.i+e.k==e.msglen){for(var Ft=s(["ac","cc","tc","xc","ec","bc"]),Yt=0,Wt=Ft.length;Yt<Wt;Yt++){var Wr=c(Ft,Yt);e[Wr]=xr(e[Wr])}var ya=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var ma=0,cs=ya.length;ma<cs;ma++){var qs=r[--t];r[t++]=qs&&e.ac<=c(ya,ma)}if(r[--t]){r[t++]=e.A;break}var ln=s([e.ac,e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var cn=0,Gn=ln.length;cn<Gn;cn++){var b1=r[--t];r[t++]=b1&&e.bc<c(ln,cn)}if(r[--t]){r[t++]=e.B;break}var e1=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Fi=0,y1=e1.length;Fi<y1;Fi++){var t1=r[--t];r[t++]=t1&&e.ec<c(e1,Fi)}if(r[--t]){r[t++]=e.E;break}var $1=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var w1=0,Nc=$1.length;w1<Nc;w1++){var Sc=r[--t];r[t++]=Sc&&e.tc<c($1,w1)}if(r[--t]){r[t++]=e.T;break}var ml=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Co=0,Ec=ml.length;Co<Ec;Co++){var Cc=r[--t];r[t++]=Cc&&e.xc<c(ml,Co)}if(r[--t]){r[t++]=e.X;break}r[t++]=e.C;break}if(e.char=c(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Ic=r[--t];r[t++]=S(Ic+1/2)}else if(e.isEA(),r[--t]){var Bc=r[--t];r[t++]=xr(Bc)+2}else{var Dc=r[--t];r[t++]=xr(Dc)+1}var Tc=r[--t];if(e[r[--t]]=Tc,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var Rc=r[--t];r[t++]=S(Rc+.6666667)}else if(e.isEA(),r[--t]){var Mc=r[--t];r[t++]=S(Mc+2.6666667)}else{var Fc=r[--t];r[t++]=S(Fc+1.3333334)}var _c=r[--t];if(e[r[--t]]=_c,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var xl=r[--t];r[t++]=S(xl+.6666667)}else if(e.isEA(),r[--t]){var Io=r[--t];r[t++]=S(Io+2.6666667)}else{var Pc=r[--t];r[t++]=S(Pc+1.3333334)}var Oc=r[--t];if(e[r[--t]]=Oc,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var vl=r[--t];r[t++]=S(vl+.6666667)}else if(e.isEA(),r[--t]){var Bo=r[--t];r[t++]=S(Bo+4.3333334)}else{var Uc=r[--t];r[t++]=S(Uc+3.3333334)}var zc=r[--t];if(e[r[--t]]=zc,r[t++]="ec",r[t++]=e.ec,e.isE(),r[--t]){var gl=r[--t];r[t++]=S(gl+3/4)}else if(e.isEA(),r[--t]){var Do=r[--t];r[t++]=S(Do+17/4)}else{var Lc=r[--t];r[t++]=S(Lc+13/4)}var Qc=r[--t];if(e[r[--t]]=Qc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var bl=r[--t];r[t++]=bl+4}else{var To=r[--t];r[t++]=To+1}var Hc=r[--t];if(e[r[--t]]=Hc,e.k>=4){var yl=s([e.cc,e.tc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var G1=0,Ro=yl.length;G1<Ro;G1++){var $c=r[--t];r[t++]=$c&&e.ac+1<=c(yl,G1)}if(r[--t]){r[t++]=e.A;break}if(e.bc+1<=e.ac){r[t++]=e.B;break}var qn=s([e.cc,e.tc,e.xc,e.ec]);r[t++]=!0;for(var Gc=0,Yu=qn.length;Gc<Yu;Gc++){var Vu=r[--t];r[t++]=Vu&&e.bc+1<c(qn,Gc)}if(r[--t]){r[t++]=e.B;break}var x2=s([e.ac,e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var qc=0,Ku=x2.length;qc<Ku;qc++){var Wu=r[--t];r[t++]=Wu&&e.ec+1<c(x2,qc)}if(r[--t]){r[t++]=e.E;break}var v2=s([e.ac,e.cc,e.xc,e.ec,e.bc]);r[t++]=!0;for(var _i=0,Ju=v2.length;_i<Ju;_i++){var Xu=r[--t];r[t++]=Xu&&e.tc+1<c(v2,_i)}if(r[--t]){r[t++]=e.T;break}var mi=s([e.ac,e.cc,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Yc=0,Zu=mi.length;Yc<Zu;Yc++){var ef=r[--t];r[t++]=ef&&e.xc+1<c(mi,Yc)}if(r[--t]){r[t++]=e.X;break}var g2=s([e.ac,e.tc,e.ec,e.bc]);r[t++]=!0;for(var Vc=0,tf=g2.length;Vc<tf;Vc++){var rf=r[--t];r[t++]=rf&&e.cc+1<c(g2,Vc)}if(r[--t]){if(e.cc<e.xc){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}}e.k=e.k+1}}},e.addtocws=function(){var it=r[--t];M(e.cws,e.j,it),e.j=it.length+e.j},e.ECItocws=function(){var it=-r[--t]-1e6;if(r[t++]=it,it<=126){var Ft=r[--t];r[t++]=Ft+1,Vt(s(1))}else{var Yt=r[t-1];if(Yt<=16382){var Wt=r[--t]-127;r[t++]=~~(Wt/254)+128,r[t++]=Wt%254+1,Vt(s(2))}else{var Wr=r[--t]-16383;r[t++]=~~(Wr/64516)+192,r[t++]=~~(Wr/254)%254+1,r[t++]=Wr%254+1,Vt(s(3))}}},e.encA=function(){for(var it=0;it<1;it++){if(c(e.isECI,e.i)){r[t++]=c(e.Avals,e.eci),e.addtocws(),r[t++]=c(e.msg,e.i),e.ECItocws(),e.addtocws(),e.i=e.i+1;break}if(c(e.numD,e.i)>=2){var Ft=W(2);g(Ft,0,c(e.msg,e.i)),g(Ft,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Ft),e.addtocws(),e.i=e.i+2;break}r[t++]="newmode",e.lookup();var Yt=r[--t];if(e[r[--t]]=Yt,e.newmode!=e.mode){r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var it=0,Ft=e.in.length-1;it<=Ft;it+=3){var Yt=C(e.in,it,3);r[t++]=0;for(var Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var ya=r[--t];r[t++]=S(ya+c(Yt,Wt))*40}var ma=~~(r[--t]/40)+1;r[t++]=~~(ma/256),r[t++]=ma%256}Vt(s(xa()));var cs=r[--t];r[t-1]=cs},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2500),e.done=!1;e.i!=e.msglen;){var it=c(c(e.encvals,e.mode),c(e.msg,e.i))!==void 0;if(!it)break;if(e.p%3==0){if(e.p>0){r[t++]="newmode",e.lookup();var Ft=r[--t];if(e[r[--t]]=Ft,Me(e.newmode,e.mode)){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.newmode!=e.A&&(r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lE,e.lB]),e.newmode)),e.addtocws()),e.mode=e.newmode,e.done=!0;break}}if(e.msglen-e.i<=3){e.remcws=c(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Yt=C(e.msg,e.i,e.msglen-e.i),Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var ya=c(Yt,Wt),ma=c(c(e.encvals,e.mode),ya)!==void 0;r[t++]=ya,ma?O(c(c(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals);var cs=s();r[t++]=cs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals),O(c(c(e.encvals,e.mode),e.sft1));var qs=s();r[t++]=qs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen,e.done=!0;break}}}var ln=c(c(e.encvals,e.mode),c(e.msg,e.i));M(e.ctxvals,e.p,ln),e.p=ln.length+e.p,e.i=e.i+1}if(!e.done){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-c(c(e.encvals,e.mode),c(e.msg,e.i)).length;r[t++]=1/0,O(C(e.ctxvals,0,e.p));var cn=s();if(r[t++]=cn,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!c(e.isECI,e.i))if(c(e.numD,e.i)>=2){var Gn=W(2);g(Gn,0,c(e.msg,e.i)),g(Gn,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Gn),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.Evalstocws=function(){e.in=r[--t],e.inlen=e.in.length,e.outlen=~~xr(e.in.length/4*3),r[t++]=1/0,O(e.in),r[t++]=0,r[t++]=0,r[t++]=0,e.in=s(),r[t++]=1/0;for(var it=0,Ft=e.inlen-1;it<=Ft;it+=4){var Yt=C(e.in,it,4);r[t++]=0;for(var Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var ya=r[--t];r[t++]=jT(ya,c(Yt,Wt))<<6}var ma=r[--t]>>>6;r[t++]=ma>>>16&255,r[t++]=ma>>>8&255,r[t++]=ma&255}Vt(s(xa()));var cs=r[--t];r[t-1]=cs;var qs=C(r[--t],0,e.outlen);r[t++]=qs},e.encE=function(){for(e.p=0,e.edifactvals=s(2100);e.i!=e.msglen;){var it=c(e.Evals,c(e.msg,e.i))!==void 0;if(!it)break;if(e.p%4==0){if(e.msglen-e.i<=2){e.remcws=c(e.numremcws,e.j+~~(e.p/4)*3),r[t++]=1/0;for(var Ft=C(e.msg,e.i,e.msglen-e.i),Yt=0,Wt=Ft.length;Yt<Wt;Yt++)O(c(e.Avals,c(Ft,Yt)));if(e.remvals=s(),(e.remcws==1||e.remcws==2)&&e.remvals.length<=e.remcws){r[t++]=C(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),r[t++]=e.remvals,e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}if(e.lookup(),r[--t]!=e.mode)break}var Wr=c(e.Evals,c(e.msg,e.i));M(e.edifactvals,e.p,Wr),e.p=Wr.length+e.p,e.i=e.i+1}if(e.mode!=e.A){if(e.remcws=c(e.numremcws,e.j+~~(e.p/4)*3-1)-1,e.p%4!=0||e.i!=e.msglen||e.remcws>=3){var ya=c(e.Evals,e.unl);M(e.edifactvals,e.p,ya),e.p=ya.length+e.p}if(r[t++]=C(e.edifactvals,0,e.p),e.Evalstocws(),e.addtocws(),e.mode=e.A,e.i!=e.msglen&&!c(e.isECI,e.i))if(c(e.numD,e.i)>=2){var ma=W(2);g(ma,0,c(e.msg,e.i)),g(ma,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,ma),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encB=function(){for(e.p=0,e.bvals=s(1558);!(e.i==e.msglen||(e.lookup(),r[--t]!=e.mode));)g(e.bvals,e.p,c(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=c(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),O(C(e.bvals,0,e.p)),e.bvals=s();for(var it=0,Ft=e.bvals.length-1;it<=Ft;it+=1){e.p=it;var Yt=S((e.j+e.p+1)*149%255+1+c(e.bvals,e.p));if(r[t++]=Yt,Yt>=256){var Wt=r[--t];r[t++]=Wt-256}g(e.bvals,e.p,r[--t])}r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1558),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[c(s(["encA","encCTX","encCTX","encCTX","encE","encB"]),e.mode)]()===!0););e.cws=C(e.cws,0,e.j)}if(e.datlen=e.cws.length,e.remcws=c(e.numremcws,e.j-1)-1,e.remcws>0){r[t++]=1/0,O(e.cws);for(var Qr=0,os=e.remcws;Qr<os;Qr++)r[t++]=129;e.cws=s();for(var gs=e.datlen+1,Oa=S(e.datlen+e.remcws)-1;gs<=Oa;gs+=1){e.i=gs;var Bn=(e.i+1)*149%253+1+129;if(r[t++]=Bn,Bn>254){var Da=r[--t];r[t++]=Da-254}g(e.cws,e.i,r[--t])}}var ui=c(e.options,"debugcws")!==void 0;ui&&(r[t++]="bwipp.debugcws#20411",r[t++]=e.cws,z());for(var $s=e.metrics,Ta=0,Dn=$s.length;Ta<Dn&&(e.m=c($s,Ta),e.rows=c(e.m,0),e.cols=c(e.m,1),e.regh=c(e.m,2),e.regv=c(e.m,3),e.rscw=c(e.m,4),e.rsbl=c(e.m,5),e.doly=c(e.m,6),e.mrows=S(e.rows-2*e.regh),e.mcols=S(e.cols-2*e.regv),e.rrows=~~(e.mrows/e.regh),e.rcols=~~(e.mcols/e.regv),e.ncws=S(~~(e.mrows*e.mcols/8)-e.rscw),e.okay=!0,e.cws.length!=e.ncws&&(e.okay=!1),e.urows!=0&&e.urows!=e.rows&&(e.okay=!1),e.ucols!=0&&e.ucols!=e.cols&&(e.okay=!1),Y(e.format,"square")&&Me(e.rows,e.cols)&&(e.okay=!1),Y(e.format,"rectangle")&&Y(e.rows,e.cols)&&(e.okay=!1),!e.dmre&&e.doly==1&&(e.okay=!1),!e.okay);Ta++);e.okay||(r[t++]="bwipp.datamatrixNoValidSymbol#20439",r[t++]="Maximum length exceeded or invalid size",z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Ja=0,Tn=e.rsbl-1;Ja<=Tn;Ja+=1){e.i=Ja,e.cws.length!=1558?e.cwbsize=~~(e.cws.length/e.rsbl):e.i<=7?e.cwbsize=156:e.cwbsize=155,e.cwb=s(e.cwbsize);for(var bs=0,an=e.cwbsize-1;bs<=an;bs+=1)e.j=bs,g(e.cwb,e.j,c(e.cws,S(e.j*e.rsbl+e.i)));g(e.cwbs,e.i,e.cwb),r[t++]=e.ecbs,r[t++]=e.i,r[t++]=1/0;for(var sn=0,Xn=~~(e.rscw/e.rsbl);sn<Xn;sn++)r[t++]=0;var At=s(),Yr=r[--t];g(r[--t],Yr,At)}r[t++]=1/0,r[t++]=1;for(var ra=0;ra<255;ra++){var Ua=r[t-1],ca=Ua*2;if(r[t++]=ca,ca>=256){var Xa=r[--t];r[t++]=Xa^301}}e.rsalog=s(),e.rslog=s(256);for(var ys=1;ys<=255;ys+=1)g(e.rslog,c(e.rsalog,ys),ys);e.rsprod=function(){var it=r[t-1],Ft=r[t-2];if(it!=0&&Ft!=0){var Yt=c(e.rslog,r[--t]),Wt=c(e.rsalog,S(Yt+c(e.rslog,r[--t]))%255);r[t++]=Wt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var gn=0,ct=~~(e.rscw/e.rsbl);gn<ct;gn++)r[t++]=0;e.coeffs=s();for(var Nt=1,hr=~~(e.rscw/e.rsbl);Nt<=hr;Nt+=1){e.i=Nt,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var lr=e.i-1;lr>=1;lr-=1){e.j=lr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var fr=r[--t],Rr=r[--t],cr=r[--t];g(r[--t],cr,fs(Rr,fr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var aa=r[--t],Hr=r[--t];g(r[--t],Hr,aa)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var $r=0,Gr=e.cwbs.length-1;$r<=Gr;$r+=1){e.i=$r,e.cwb=c(e.cwbs,e.i),e.ecb=c(e.ecbs,e.i);for(var Vr=0,ha=e.cwb.length-1;Vr<=ha;Vr+=1){e.t=fs(c(e.cwb,Vr),c(e.ecb,0));for(var Zr=e.ecb.length-1;Zr>=0;Zr-=1){e.j=Zr,e.p=e.ecb.length-e.j-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=c(e.coeffs,e.j),e.rsprod();var qr=r[--t],sa=r[--t];g(r[--t],sa,qr),e.j>0&&g(e.ecb,e.p,fs(c(e.ecb,e.p+1),c(e.ecb,e.p)))}}}e.ncws==1558&&(r[t++]=1/0,O(C(e.ecbs,8,2)),O(C(e.ecbs,0,8)),e.ecbs=s()),r[t++]=1/0,O(e.cws);for(var Mr=0,Pr=e.rscw;Mr<Pr;Mr++)r[t++]=0;e.cws=s();for(var za=0,ba=e.rscw-1;za<=ba;za+=1)e.i=za,g(e.cws,S(e.ncws+e.i),c(c(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));e.module=function(){Na(4,-1);var it=Fr(W(8),"00000000");r[t++]=it,r[t++]=it;var Ft=$t(W(8),r[t-3],2);M(r[t-1],8-Ft.length,Ft),r[t-3]=r[t-2],t-=2;for(var Yt=7;Yt>=0;Yt-=1){var Wt=r[--t];r[t++]=c(Wt,Yt)-48,r[t++]=Wt}t--,Na(11,-3),ge(r[--t],function(){if(r[--t]()===!0)return!0;var Wr=r[t-2];if(Wr<0){var ya=r[--t],ma=r[--t];r[t++]=S(ma+e.mrows),r[t++]=S(ya+(4-(e.mrows+4)%8))}var cs=r[t-1];if(cs<0){var qs=r[--t],ln=r[--t];r[t++]=S(ln+(4-(e.mcols+4)%8)),r[t++]=S(qs+e.mcols)}var cn=r[t-2];if(cn>=e.mrows){var Gn=r[--t],b1=r[--t];r[t++]=S(b1-e.mrows),r[t++]=Gn}var e1=r[--t],Fi=r[--t];r[t++]=e.mmat,r[t++]=S(e1+Fi*e.mcols),Na(5,-1);var y1=r[--t],t1=r[--t];g(r[--t],t1,y1)})};var ls=s([function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-2,r[t++]=it-2},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-2,r[t++]=it-1},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-1,r[t++]=it-2},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-1,r[t++]=it-1},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft-1,r[t++]=it},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft,r[t++]=it-2},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft,r[t++]=it-1},function(){var it=r[t-1],Ft=r[t-2];r[t++]=Ft,r[t++]=it}]);e.dmn=ls;var Ss=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=1},function(){r[t++]=e.mrows-1,r[t++]=2},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc1=Ss;var nn=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-4},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc2=nn;var Rs=s([function(){r[t++]=e.mrows-3,r[t++]=0},function(){r[t++]=e.mrows-2,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-1},function(){r[t++]=2,r[t++]=e.mcols-1},function(){r[t++]=3,r[t++]=e.mcols-1}]);e.dmc3=Rs;var rr=s([function(){r[t++]=e.mrows-1,r[t++]=0},function(){r[t++]=e.mrows-1,r[t++]=e.mcols-1},function(){r[t++]=0,r[t++]=e.mcols-3},function(){r[t++]=0,r[t++]=e.mcols-2},function(){r[t++]=0,r[t++]=e.mcols-1},function(){r[t++]=1,r[t++]=e.mcols-3},function(){r[t++]=1,r[t++]=e.mcols-2},function(){r[t++]=1,r[t++]=e.mcols-1}]);e.dmc4=rr,r[t++]=1/0;for(var wr=0,Nr=e.mrows*e.mcols;wr<Nr;wr++)r[t++]=-1;e.mmat=s();for(var ea=e.cws.length-1;ea>=0;ea-=1)r[t++]=c(e.cws,ea);for(r[t++]=4,r[t++]=0;;){var Or=r[t-1],na=r[t-2];Or==0&&na==e.mrows&&(r[t++]=e.dmc1,e.module());var Kr=r[t-1],Za=r[t-2];Kr==0&&Za==e.mrows-2&&e.mcols%4!=0&&(r[t++]=e.dmc2,e.module());var es=r[t-1],Gs=r[t-2];es==0&&Gs==e.mrows-2&&e.mcols%8==4&&(r[t++]=e.dmc3,e.module());var bn=r[t-1],Rn=r[t-2];for(bn==2&&Rn==e.mrows+4&&e.mcols%8==0&&(r[t++]=e.dmc4,e.module());;){var Ln=r[t-1],Qn=r[t-2];if(Ln>=0&&Qn<e.mrows){var yn=r[t-1],fi=r[t-2];c(e.mmat,S(yn+fi*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var Hn=r[--t],hi=r[--t];if(r[t++]=hi-2,r[t++]=Hn+2,!(Hn+2<e.mcols&&hi-2>=0))break}var Ji=r[--t],pi=r[--t];for(r[t++]=pi+1,r[t++]=Ji+3;;){var Xi=r[t-1],Zi=r[t-2];if(Xi<e.mcols&&Zi>=0){var Ke=r[t-1],bt=r[t-2];c(e.mmat,S(Ke+bt*e.mcols))==-1&&(r[t++]=e.dmn,e.module())}var pr=r[--t],kr=r[--t];if(r[t++]=kr+2,r[t++]=pr-2,!(pr-2>=0&&kr+2<e.mrows))break}var pa=r[--t],ts=r[--t];if(r[t++]=ts+3,r[t++]=pa+1,!(pa+1<e.mcols||ts+3<e.mrows)){t-=2;break}}c(e.mmat,e.mrows*e.mcols-1)==-1&&(M(e.mmat,e.mrows*(e.mcols-1)-2,s([1,0])),M(e.mmat,e.mrows*e.mcols-2,s([0,1]))),e.pixs=s(e.rows*e.cols),e.cwpos=0;for(var rs=0,Es=e.rows-1;rs<=Es;rs+=1){if(e.i=rs,e.i%(e.rrows+2)==0){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var on=0,wn=~~(e.cols/2);on<wn;on++)r[t++]=1,r[t++]=0;var Ti=s(),Ri=r[--t];M(r[--t],Ri,Ti)}if(e.i%(e.rrows+2)==e.rrows+1){r[t++]=e.pixs,r[t++]=e.i*e.cols,r[t++]=1/0;for(var $n=0,Mi=e.cols;$n<Mi;$n++)r[t++]=1;var Eo=s(),H1=r[--t];M(r[--t],H1,Eo)}if(e.i%(e.rrows+2)!=0&&e.i%(e.rrows+2)!=e.rrows+1)for(var dt=0,Gt=e.cols-1;dt<=Gt;dt+=1)e.j=dt,e.j%(e.rcols+2)==0&&g(e.pixs,S(e.i*e.cols+e.j),1),e.j%(e.rcols+2)==e.rcols+1&&g(e.pixs,S(e.i*e.cols+e.j),e.i%2),e.j%(e.rcols+2)!=0&&e.j%(e.rcols+2)!=e.rcols+1&&(g(e.pixs,S(e.i*e.cols+e.j),c(e.mmat,e.cwpos)),e.cwpos=e.cwpos+1)}var Ur=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ur,e.dontdraw||xt(),e=a}function fR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function hR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"dmre",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function pR(){var a=e;e=Object.assign({},e),e.type="unset",e.parse=!1,e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse;var o=e.type;Me(o,"7")&&Me(o,"9")&&Me(o,"29")&&(r[t++]="bwipp.mailmarkBadType#20820",r[t++]="Royal Mail Mailmark type must be 7, 9 or 29",z());var d=new Map([["7","24x24"],["9","32x32"],["29","16x48"]]);e.version=c(d,e.type);var u=new Map([["7","square"],["9","square"],["29","rectangle"]]);e.format=c(u,e.type),e.barcode.length<45&&(r[t++]="bwipp.mailmarkBadLength#20836",r[t++]="Royal Mail Mailmark must contain at least 45 characters of Mailmark formatted data, including any required space padding",z()),Me(C(e.barcode,0,4),"JGB ")&&(r[t++]="bwipp.mailmarkBadIndicator#20839",r[t++]="Royal Mail Mailmark must begin with JGB<space> identifier",z()),g(e.options,"dontdraw",!0),g(e.options,"version",e.version),g(e.options,"format",e.format),g(e.options,"c40headerlength",45),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var f=r[--t];e[r[--t]]=f,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function pl(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="unset",e.version="unset",e.eclevel="unset",e.fixedeclevel=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,e.suppresskanjimode=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.qrcodeEmptyData#20904",r[t++]="The data must not be empty",z()),Me(e.version,"unset")?Y(e.format,"unset")&&(r[t++]="full",Y(C(e.version,0,1),"M")&&(r[t-1]="micro"),Y(C(e.version,0,1),"R")&&(r[t-1]="rmqr"),e.format=r[--t]):Y(e.format,"unset")&&(e.format="full"),Me(e.format,"full")&&Me(e.format,"micro")&&Me(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeInvalidFormat#20920",r[t++]="The format must be either full, micro or rmqr",z()),Y(e.format,"rmqr")&&Y(e.version,"unset")&&(r[t++]="bwipp.qrcodeRMQRwithoutVersion#20924",r[t++]="A version must be provided for RMQR",z()),Y(e.eclevel,"unset")){r[t++]="eclevel",Me(e.format,"micro")?r[t++]="M":r[t++]="L";var n=r[--t];e[r[--t]]=n}if(Me(e.eclevel,"L")&&Me(e.eclevel,"M")&&Me(e.eclevel,"Q")&&Me(e.eclevel,"H")&&(r[t++]="bwipp.qrcodeInvalidEClevel#20931",r[t++]="Error correction level must be either L, M, Q, or H",z()),e.mask!=-1&&Y(e.format,"rmqr")&&(r[t++]="bwipp.qrcodeRMQRmask#20935",r[t++]="A mask cannot be supplied for RMQR",z()),e.mask!=-1){var i=Y(e.format,"full")?8:4;(e.mask<1||e.mask>i)&&(r[t++]="bwipp.qrcodeBadMask#20940",r[t++]="An invalid mask was supplied",z())}e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];if(e[r[--t]]=d,e.msglen=e.msg.length,e.fnc1first=!1,e.msglen>0&&c(e.msg,0)==e.fn1){e.fnc1first=!0,r[t++]=1/0;for(var u=C(e.msg,1,e.msglen-1),f=0,h=u.length;f<h;f++){var p=c(u,f);if(r[t++]=p,p==37){var m=r[t-1];r[t++]=m}}e.msg=s(),e.msglen=e.msg.length}var x=s(["v1to9","v10to26","v27to40","vM1","vM2","vM3","vM4","vR7x43","vR7x59","vR7x77","vR7x99","vR7x139","vR9x43","vR9x59","vR9x77","vR9x99","vR9x139","vR11x27","vR11x43","vR11x59","vR11x77","vR11x99","vR11x139","vR13x27","vR13x43","vR13x59","vR13x77","vR13x99","vR13x139","vR15x43","vR15x59","vR15x77","vR15x99","vR15x139","vR17x43","vR17x59","vR17x77","vR17x99","vR17x139"]);r[t++]=0;for(var b=0,y=x.length;b<y;b++){var w=r[--t];e[c(x,b)]=w,r[t++]=w+1}t--,e.N=0,e.A=1,e.B=2,e.K=3,e.E=4,r[t++]=1/0,r[t++]=1/0;for(var v=48;v<=57;v+=1)r[t++]=v;for(var A=s(),k=0,E=A.length;k<E;k++)r[t++]=c(A,k),r[t++]=-1;e.Nexcl=$e(),r[t++]=1/0,r[t++]=1/0,r[t++]=32,r[t++]=36,r[t++]=37,r[t++]=42,r[t++]=43,r[t++]=45,r[t++]=46,r[t++]=47,r[t++]=58;for(var j=65;j<=90;j+=1)r[t++]=j;r[t++]=e.fn1;for(var N=s(),B=0,I=N.length;B<I;B++)r[t++]=c(N,B),r[t++]=-1;e.Aexcl=$e(),r[t++]=1/0,r[t++]=1/0;for(var D=129;D<=159;D+=1)r[t++]=D;for(var T=224;T<=235;T+=1)r[t++]=T;for(var R=s(),$=0,F=R.length;$<F;$++)r[t++]=c(R,$),r[t++]=-1;e.Kexcl=$e(),r[t++]=1/0,r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["0001","0010","0100","1000","0111"]),r[t++]=s(["",-1,-1,-1,-1]),r[t++]=s(["0","1",-1,-1,-1]),r[t++]=s(["00","01","10","11",-1]),r[t++]=s(["000","001","010","011",-1]);for(var _=0;_<32;_++)r[t++]=s(["001","010","011","100","111"]);e.mids=s(),e.cclens=s([s([10,9,8,8]),s([12,11,16,10]),s([14,13,16,12]),s([3,-1,-1,-1]),s([4,3,-1,-1]),s([5,4,4,3]),s([6,5,5,4]),s([4,3,3,2]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([5,5,4,3]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([4,4,3,2]),s([6,5,5,4]),s([7,6,5,5]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([5,5,4,3]),s([6,6,5,5]),s([7,6,6,5]),s([7,7,6,6]),s([8,7,7,6]),s([8,8,7,7]),s([7,6,6,5]),s([7,7,6,5]),s([8,7,7,6]),s([8,7,7,6]),s([9,8,7,7]),s([7,6,6,5]),s([8,7,6,6]),s([8,7,7,6]),s([8,8,7,6]),s([9,8,8,7])]),r[t++]=1/0;for(var Q=0;Q<3;Q++)r[t++]=4;r[t++]=3,r[t++]=5,r[t++]=7,r[t++]=9;for(var H=0;H<32;H++)r[t++]=3;e.termlens=s(),e.padstrs=s(["11101100","00010001"]),e.charmap="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.charvals=new Map;for(var J=0;J<=44;J+=1)g(e.charvals,c(e.charmap,J),J);e.tobin=function(){var Ke=W(r[--t]);r[t++]=Ke;for(var bt=0,pr=Ke.length-1;bt<=pr;bt+=1){var kr=r[t-1];g(kr,bt,48)}var pa=r[t-1];r[t++]=pa;var ts=r[t-3],rs=r[t-1];r[t-3]=r[t-2],t-=2;var Es=$t(W(rs.length),ts,2);M(rs,rs.length-Es.length,Es)},e.encA=function(){for(e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ge(e.in,function(){var bt=r[t-1];bt==e.fn1&&(r[t-1]=37)}),e.in=s()),e.out=W(~~(e.in.length*11/2)+1),e.k=0,e.m=0;e.k!=e.in.length;){e.k<e.in.length-1?(r[t++]=S(c(e.charvals,c(e.in,e.k))*45+c(e.charvals,c(e.in,e.k+1))),r[t++]=11,e.tobin(),e.k=e.k+2):(r[t++]=c(e.charvals,c(e.in,e.k)),r[t++]=6,e.tobin(),e.k=e.k+1);var Ke=r[--t];M(e.out,e.m,Ke),e.m=Ke.length+e.m}r[t++]=C(e.out,0,e.m)},e.encN=function(){for(e.in=r[--t],e.out=W(~~(e.in.length*10/3)+1),e.k=0,e.m=0;e.k!=e.in.length;){if(e.k<e.in.length-2){var Ke=C(e.in,e.k,3);r[t++]=0;for(var bt=0,pr=Ke.length;bt<pr;bt++){var kr=r[--t];r[t++]=S(c(Ke,bt)+(kr*10-48))}r[t++]=10,e.tobin(),e.k=e.k+3}else if(e.k==e.in.length-2){var pa=C(e.in,e.k,2);r[t++]=0;for(var ts=0,rs=pa.length;ts<rs;ts++){var Es=r[--t];r[t++]=S(c(pa,ts)+(Es*10-48))}r[t++]=7,e.tobin(),e.k=e.k+2}else{var on=C(e.in,e.k,1);r[t++]=0;for(var wn=0,Ti=on.length;wn<Ti;wn++){var Ri=r[--t];r[t++]=S(c(on,wn)+(Ri*10-48))}r[t++]=4,e.tobin(),e.k=e.k+1}var $n=r[--t];M(e.out,e.m,$n),e.m=$n.length+e.m}r[t++]=C(e.out,0,e.m)},e.encB=function(){e.in=r[--t],e.fnc1first&&(r[t++]=1/0,ge(e.in,function(){var pa=r[t-1];pa==e.fn1&&(r[t-1]=29)}),e.in=s()),e.out=W(e.in.length*8);for(var Ke=0,bt=e.in.length-1;Ke<=bt;Ke+=1){e.k=Ke,r[t++]=Fe(c(e.in,e.k)),r[t++]=8,e.tobin(),r[t++]=e.out,r[t++]=e.k*8;var pr=r[t-3],kr=r[t-1];M(r[t-2],kr,pr),t-=3}r[t++]=e.out},e.encK=function(){for(e.in=r[--t],e.out=W(~~(e.in.length/2)*13),e.k=0,e.m=0;e.k!=e.in.length;){var Ke=S(c(e.in,e.k)*256+c(e.in,e.k+1));r[t++]=Ke,Ke<57408?r[t++]=33088:r[t++]=49472;var bt=r[--t],pr=S(r[--t]-bt);r[t++]=S((pr>>>8)*192+(pr&255)),r[t++]=13,e.tobin();var kr=r[--t];M(e.out,e.m,kr),e.m=kr.length+e.m,e.k=e.k+2}r[t++]=e.out},e.encE=function(){var Ke=-c(r[--t],0)-1e6;if(r[t++]=Ke,Ke<=127)r[t++]=8,e.tobin();else{var bt=r[t-1];if(bt<=16383){var pr=r[--t];r[t++]=pr+32768,r[t++]=16,e.tobin()}else{var kr=r[--t];r[t++]=kr+12582912,r[t++]=24,e.tobin()}}},e.encfuncs=s(["encN","encA","encB","encK","encE"]),e.addtobits=function(){var Ke=r[--t];M(e.bits,e.j,Ke),e.j=Ke.length+e.j},r[t++]=1/0;for(var K=0,he=e.msglen;K<he;K++)r[t++]=0;r[t++]=0,e.numNs=s(),r[t++]=1/0;for(var G=0,L=e.msglen;G<L;G++)r[t++]=0;r[t++]=0,e.numAs=s(),r[t++]=1/0;for(var ce=0,fe=e.msglen;ce<fe;ce++)r[t++]=0;r[t++]=0,e.numAorNs=s(),r[t++]=1/0;for(var U=0,ee=e.msglen;U<ee;U++)r[t++]=0;r[t++]=0,e.numBs=s(),r[t++]=1/0;for(var se=0,de=e.msglen;se<de;se++)r[t++]=0;r[t++]=0,e.numKs=s(),r[t++]=1/0;for(var ke=0,ae=e.msglen;ke<ae;ke++)r[t++]=0;r[t++]=9999,e.nextNs=s(),r[t++]=1/0;for(var De=0,we=e.msglen;De<we;De++)r[t++]=0;r[t++]=9999,e.nextBs=s(),r[t++]=1/0;for(var Ae=0,Le=e.msglen;Ae<Le;Ae++)r[t++]=0;r[t++]=9999,e.nextAs=s(),r[t++]=1/0;for(var xe=0,Oe=e.msglen;xe<Oe;xe++)r[t++]=0;r[t++]=9999,e.nextKs=s(),e.isECI=s(e.msglen);for(var Te=e.msglen-1;Te>=0;Te-=1){e.i=Te,e.barchar=c(e.msg,e.i);var Pe=c(e.Kexcl,e.barchar)!==void 0;if(Pe&&!e.suppresskanjimode){e.i+1<e.msglen?r[t++]=S(e.barchar*256+c(e.msg,e.i+1)):r[t++]=0;var Ue=r[--t],Ze=Ue&255;(Ue>=33088&&Ue<=40956||Ue>=57408&&Ue<=60351)&&Ze>=64&&Ze<=252&&Ze!=127?(g(e.nextKs,e.i,0),g(e.numKs,e.i,c(e.numKs,e.i+2)+1)):g(e.nextKs,e.i,c(e.nextKs,e.i+1)+1)}else g(e.nextKs,e.i,c(e.nextKs,e.i+1)+1);var te=c(e.Nexcl,e.barchar)!==void 0;te?(g(e.nextNs,e.i,0),g(e.numNs,e.i,c(e.numNs,e.i+1)+1),g(e.numAorNs,e.i,c(e.numAorNs,e.i+1)+1)):g(e.nextNs,e.i,c(e.nextNs,e.i+1)+1);var oe=c(e.Aexcl,e.barchar)!==void 0;oe?(g(e.nextAs,e.i,0),g(e.numAs,e.i,c(e.numAs,e.i+1)+1),g(e.numAorNs,e.i,c(e.numAorNs,e.i+1)+1)):g(e.nextAs,e.i,c(e.nextAs,e.i+1)+1),g(e.isECI,e.i,e.barchar<=-1e6)}for(var Re=0,ze=e.msglen-1;Re<=ze;Re+=1)e.i=Re,c(e.numKs,e.i)>0&&(g(e.numKs,e.i+1,0),g(e.nextKs,e.i+1,c(e.nextKs,e.i+1)+1));for(var Je=e.msglen-1;Je>=0;Je-=1)e.i=Je,S(c(e.numNs,e.i)+(c(e.numAs,e.i)+c(e.numKs,e.i)))==0&&!c(e.isECI,e.i)?(g(e.nextBs,e.i,0),g(e.numBs,e.i,c(e.numBs,e.i+1)+1)):g(e.nextBs,e.i,c(e.nextBs,e.i+1)+1);e.KbeforeB=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numK,Ke)&&c(e.nextBs,S(e.numK*2+e.i))==0},e.KbeforeA=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numK,Ke)&&c(e.nextAs,S(e.numK*2+e.i))==0},e.KbeforeN=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numK,Ke)&&c(e.nextNs,S(e.numK*2+e.i))==0},e.KbeforeE=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numK,Ke)&&S(e.numK*2+e.i)==e.msglen},e.AbeforeK=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numA,Ke)&&c(e.nextKs,S(e.numA+e.i))==0},e.AbeforeB=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numA,Ke)&&c(e.nextBs,S(e.numA+e.i))==0},e.AbeforeN=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numA,Ke)&&c(e.nextNs,S(e.numA+e.i))==0},e.AbeforeE=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numA,Ke)&&S(e.numA+e.i)==e.msglen},e.NbeforeK=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numN,Ke)&&c(e.nextKs,S(e.numN+e.i))==0},e.NbeforeB=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numN,Ke)&&c(e.nextBs,S(e.numN+e.i))==0},e.NbeforeA=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numN,Ke)&&c(e.nextAs,S(e.numN+e.i))==0},e.NbeforeE=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numN,Ke)&&S(e.numN+e.i)==e.msglen},e.AorNbeforeB=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numAorN,Ke)&&c(e.nextBs,S(e.numAorN+e.i))==0},e.AorNbeforeE=function(){var Ke=c(r[--t],e.ver);r[t++]=Yn(e.numAorN,Ke)&&S(e.numAorN+e.i)==e.msglen},e.nextNslt=function(){if(c(e.nextNs,e.i)>=e.msglen)r[t-1]=!0;else{var Ke=c(r[--t],e.ver);r[t++]=mn(c(e.numNs,S(c(e.nextNs,e.i)+e.i)),Ke)}},r[t++]=1/0,r[t++]="full",r[t++]=1/0;for(var Qe=0;Qe<=9;Qe+=1)r[t++]=$t(W(2),Qe,10),r[t++]=e.v1to9;for(var qe=10;qe<=26;qe+=1)r[t++]=$t(W(2),qe,10),r[t++]=e.v10to26;for(var ut=27;ut<=40;ut+=1)r[t++]=$t(W(2),ut,10),r[t++]=e.v27to40;var mt=$e(),lt=new Map([["M1",e.vM1],["M2",e.vM2],["M3",e.vM3],["M4",e.vM4]]),vt=new Map([["R7x43",e.vR7x43],["R7x59",e.vR7x59],["R7x77",e.vR7x77],["R7x99",e.vR7x99],["R7x139",e.vR7x139],["R9x43",e.vR9x43],["R9x59",e.vR9x59],["R9x77",e.vR9x77],["R9x99",e.vR9x99],["R9x139",e.vR9x139],["R11x27",e.vR11x27],["R11x43",e.vR11x43],["R11x59",e.vR11x59],["R11x77",e.vR11x77],["R11x99",e.vR11x99],["R11x139",e.vR11x139],["R13x27",e.vR13x27],["R13x43",e.vR13x43],["R13x59",e.vR13x59],["R13x77",e.vR13x77],["R13x99",e.vR13x99],["R13x139",e.vR13x139],["R15x43",e.vR15x43],["R15x59",e.vR15x59],["R15x77",e.vR15x77],["R15x99",e.vR15x99],["R15x139",e.vR15x139],["R17x43",e.vR17x43],["R17x59",e.vR17x59],["R17x77",e.vR17x77],["R17x99",e.vR17x99],["R17x139",e.vR17x139]]);if(r[t++]=mt,r[t++]="micro",r[t++]=lt,r[t++]="rmqr",r[t++]=vt,e.versetmap=$e(),e.versetfull=s([e.v1to9,e.v10to26,e.v27to40]),e.versetmicro=s([e.vM1,e.vM2,e.vM3,e.vM4]),Me(e.version,"unset")){var St=c(e.versetmap,e.format),kt=e.version,wt=c(St,kt)!==void 0;r[t++]=St,r[t++]=kt,wt||(t-=2,Y(e.format,"full")?(r[t++]="bwipp.qrcodeInvalidFullVersion#21296",r[t++]="Valid versions for QR Code symbols are 1 to 40",z()):Y(e.format,"micro")?(r[t++]="bwipp.qrcodeInvalidMicroVersion#21299",r[t++]="Valid versions for Micro QR Code symbols are M1 to M4",z()):(r[t++]="bwipp.qrcodeInvalidRMQRversion#21301",r[t++]="Invalid version for an RMQR symbol",z()));var Pt=r[--t],Mt=c(r[--t],Pt),Lt=1/0,Dt=Mt;r[t++]=Lt,r[t++]=Dt,e.verset=s()}else Y(e.format,"full")&&(e.verset=e.versetfull),Y(e.format,"micro")&&(e.verset=e.versetmicro);r[t++]=1/0;for(var jt=0;jt<39;jt++)r[t++]=-1;e.msgbits=s(),e.e=1e4,e.mode0forceKB=s([1,1,1,e.e,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceA=s([1,1,1,e.e,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0forceN=s([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),e.mode0NbeforeB=s([4,4,5,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeBKbeforeB=s([9,12,13,e.e,e.e,4,6,4,5,6,6,6,5,6,6,6,7,4,6,6,6,7,7,5,6,6,7,7,7,6,6,7,7,7,6,7,7,7,8]),e.modeBKbeforeA=s([8,10,11,e.e,e.e,4,5,4,5,5,6,6,5,5,6,6,6,4,5,6,6,6,6,5,6,6,6,6,7,6,6,6,6,7,6,6,6,7,7]),e.modeBKbeforeN=s([8,9,11,e.e,e.e,3,5,3,4,5,5,5,4,5,5,5,6,3,5,5,5,6,6,4,5,5,6,6,6,5,5,6,6,7,5,6,6,6,7]),e.modeBKbeforeE=s([5,5,6,e.e,e.e,2,3,2,3,3,3,3,3,3,3,3,4,2,3,3,3,4,4,3,3,3,4,4,4,3,3,4,4,4,3,4,4,4,4]),e.modeBAbeforeK=s([11,12,14,e.e,e.e,5,7,5,6,7,8,8,6,7,8,8,8,6,7,8,8,8,8,6,8,8,8,8,9,8,8,8,8,9,8,8,8,9,9]),e.modeBAbeforeB=s([11,15,16,e.e,e.e,6,7,6,7,7,8,8,7,7,8,8,8,6,7,8,8,8,9,7,8,8,8,9,9,8,8,9,9,9,8,8,9,9,10]),e.modeBAbeforeN=s([12,13,15,e.e,e.e,6,8,6,7,8,8,8,7,8,8,8,9,6,8,8,8,9,9,7,8,8,9,9,10,8,9,9,9,10,8,9,9,10,10]),e.modeBAbeforeE=s([6,7,8,e.e,e.e,3,4,3,4,4,4,4,4,4,4,4,5,4,4,4,4,5,5,4,4,4,5,5,5,4,5,5,5,5,4,5,5,5,5]),e.modeBNbeforeK=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5]),e.modeBNbeforeB=s([6,8,9,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,3,4,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,6]),e.modeBNbeforeA=s([6,7,8,e.e,e.e,3,4,3,4,4,5,5,4,4,5,5,5,4,4,5,5,5,5,4,5,5,5,5,5,5,5,5,5,6,5,5,5,5,6]),e.modeBNbeforeE=s([3,4,4,e.e,e.e,2,3,2,2,3,3,3,2,3,3,3,3,2,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]),e.modeANbeforeA=s([13,15,17,e.e,5,7,9,7,8,9,9,9,8,9,9,9,11,7,9,9,9,11,11,8,9,9,10,11,11,9,10,11,11,11,9,11,11,11,11]),e.modeANbeforeB=s([13,17,18,e.e,e.e,7,9,7,8,9,9,9,8,9,9,9,10,7,9,9,9,10,11,8,9,9,9,11,11,9,9,11,11,11,9,10,11,11,11]),e.modeANbeforeE=s([7,8,9,e.e,3,4,5,4,5,5,5,5,5,5,5,5,6,4,5,5,5,6,6,5,5,5,5,6,6,5,5,6,6,6,5,6,6,6,6]);for(var P=e.verset,V=0,q=P.length;V<q;V++){for(e.ver=c(P,V),e.mode=-1,e.seq=s([]),e.i=0;!(e.i>=e.msglen);){if(e.numK=c(e.numKs,e.i),e.numB=c(e.numBs,e.i),e.numA=c(e.numAs,e.i),e.numN=c(e.numNs,e.i),e.numAorN=c(e.numAorNs,e.i),e.eci=c(e.isECI,e.i),Y(e.ver,e.vM1)&&e.numA>=1){e.seq=-1;break}if(Y(e.ver,e.vM1)&&e.numB>=1){e.seq=-1;break}if(Y(e.ver,e.vM1)&&e.numK>=1){e.seq=-1;break}if(Y(e.ver,e.vM1)&&e.eci){e.seq=-1;break}if(Y(e.ver,e.vM2)&&e.numB>=1){e.seq=-1;break}if(Y(e.ver,e.vM2)&&e.numK>=1){e.seq=-1;break}if(Y(e.ver,e.vM2)&&e.eci){e.seq=-1;break}if(Y(e.ver,e.vM3)&&e.eci){e.seq=-1;break}if(Y(e.ver,e.vM4)&&e.eci){e.seq=-1;break}for(;;){if(e.eci){r[t++]=e.E;break}if(e.mode==-1){if(r[t++]=e.mode0forceKB,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.mode0forceKB,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(e.numK>=1){r[t++]=e.B;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0NbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceKB,e.NbeforeB(),r[--t]){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeE,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.mode0forceN,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AorNbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.mode0forceA,e.AorNbeforeE(),r[--t]){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.B){if(r[t++]=e.modeBKbeforeB,e.KbeforeB(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeA,e.KbeforeA(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeN,e.KbeforeN(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBKbeforeE,e.KbeforeE(),r[--t]){r[t++]=e.K;break}if(r[t++]=e.modeBAbeforeK,e.AbeforeK(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeB,e.AbeforeB(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeN,e.AbeforeN(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBAbeforeE,e.AbeforeE(),r[--t]){r[t++]=e.A;break}if(r[t++]=e.modeBNbeforeK,e.NbeforeK(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeBNbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}r[t++]=e.modeBAbeforeE,e.AorNbeforeE();var ne=r[--t];if(ne&&dc(e.numAorN,c(e.modeBAbeforeN,e.ver))&&(r[t++]=e.modeBNbeforeA,e.nextNslt(),r[--t])){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.A){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(r[t++]=e.modeANbeforeA,e.NbeforeA(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeB,e.NbeforeB(),r[--t]){r[t++]=e.N;break}if(r[t++]=e.modeANbeforeE,e.NbeforeE(),r[--t]){r[t++]=e.N;break}if(e.numA>=1||e.numN>=1){r[t++]=e.A;break}r[t++]=e.B;break}if(e.mode==e.N){if(e.numK>=1){r[t++]=e.K;break}if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}r[t++]=e.B;break}if(e.mode==e.K){if(e.numB>=1){r[t++]=e.B;break}if(e.numA>=1){r[t++]=e.A;break}if(e.numN>=1){r[t++]=e.N;break}if(e.numK>=1){r[t++]=e.K;break}r[t++]=e.B;break}}var ue=r[t-1];ue==e.K&&e.fnc1first&&(r[t-1]=e.B);var be=r[t-1];if(be==e.mode){t--;var re=e.mode==e.K?2:1;e.dat=C(e.msg,e.i,re),r[t++]=1/0,O(e.seq),r[t++]=1/0;var Se=r[--t],X=r[--t];r[t++]=Se,O(X),O(e.dat);var ve=s();r[t++]=ve,e.seq=s()}else e.mode=r[--t],e.mode==e.K&&(r[t++]=e.K,r[t++]=C(e.msg,e.i,e.numK*2)),e.mode==e.B&&(r[t++]=e.B,r[t++]=C(e.msg,e.i,e.numB)),e.mode==e.A&&(r[t++]=e.A,r[t++]=C(e.msg,e.i,e.numA)),e.mode==e.N&&(r[t++]=e.N,r[t++]=C(e.msg,e.i,e.numN)),e.mode==e.E&&(e.mode=-1,r[t++]=e.E,r[t++]=C(e.msg,e.i,1)),e.dat=r[--t],e.sw=r[--t],r[t++]=1/0,O(e.seq),r[t++]=e.sw,r[t++]=e.dat,e.seq=s();e.i=e.i+e.dat.length}for(;e.seq!=-1;){e.bits=W(23648),e.j=0,e.fnc1first&&(mn(e.ver,e.vR7x43)?r[t++]="0101":r[t++]="101",e.addtobits()),e.abort=!1;for(var me=0,je=e.seq.length-1;me<=je;me+=2){if(e.i=me,e.mode=c(e.seq,e.i),r[t++]=c(c(e.mids,e.ver),e.mode),e.addtobits(),e.chars=c(e.seq,e.i+1),r[t++]="charslen",r[t++]=e.chars.length,e.mode==e.K){var le=r[--t];r[t++]=~~(le/2)}var ye=r[--t];if(e[r[--t]]=ye,e.mode!=e.E){if(e.cclen=c(c(e.cclens,e.ver),e.mode),e.charslen>=~~li(2,e.cclen)){e.abort=!0;break}r[t++]=e.charslen,r[t++]=e.cclen,e.tobin(),e.addtobits()}if(r[t++]=e.chars,e[c(e.encfuncs,e.mode)]()===!0)break;e.addtobits()}if(e.abort)break;e.bits=C(e.bits,0,e.j),g(e.msgbits,e.ver,e.bits);break}}e.metrics=s([s(["micro","M1",e.vM1,11,11,98,99,36,s([2,99,99,99]),s([1,0,-1,-1,-1,-1,-1,-1])]),s(["micro","M2",e.vM2,13,13,98,99,80,s([5,6,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M3",e.vM3,15,15,98,99,132,s([6,8,99,99]),s([1,0,1,0,-1,-1,-1,-1])]),s(["micro","M4",e.vM4,17,17,98,99,192,s([8,10,14,99]),s([1,0,1,0,1,0,-1,-1])]),s(["full","1",e.v1to9,21,21,98,99,208,s([7,10,13,17]),s([1,0,1,0,1,0,1,0])]),s(["full","2",e.v1to9,25,25,18,99,359,s([10,16,22,28]),s([1,0,1,0,1,0,1,0])]),s(["full","3",e.v1to9,29,29,22,99,567,s([15,26,36,44]),s([1,0,1,0,2,0,2,0])]),s(["full","4",e.v1to9,33,33,26,99,807,s([20,36,52,64]),s([1,0,2,0,2,0,4,0])]),s(["full","5",e.v1to9,37,37,30,99,1079,s([26,48,72,88]),s([1,0,2,0,2,2,2,2])]),s(["full","6",e.v1to9,41,41,34,99,1383,s([36,64,96,112]),s([2,0,4,0,4,0,4,0])]),s(["full","7",e.v1to9,45,45,22,38,1568,s([40,72,108,130]),s([2,0,4,0,2,4,4,1])]),s(["full","8",e.v1to9,49,49,24,42,1936,s([48,88,132,156]),s([2,0,2,2,4,2,4,2])]),s(["full","9",e.v1to9,53,53,26,46,2336,s([60,110,160,192]),s([2,0,3,2,4,4,4,4])]),s(["full","10",e.v10to26,57,57,28,50,2768,s([72,130,192,224]),s([2,2,4,1,6,2,6,2])]),s(["full","11",e.v10to26,61,61,30,54,3232,s([80,150,224,264]),s([4,0,1,4,4,4,3,8])]),s(["full","12",e.v10to26,65,65,32,58,3728,s([96,176,260,308]),s([2,2,6,2,4,6,7,4])]),s(["full","13",e.v10to26,69,69,34,62,4256,s([104,198,288,352]),s([4,0,8,1,8,4,12,4])]),s(["full","14",e.v10to26,73,73,26,46,4651,s([120,216,320,384]),s([3,1,4,5,11,5,11,5])]),s(["full","15",e.v10to26,77,77,26,48,5243,s([132,240,360,432]),s([5,1,5,5,5,7,11,7])]),s(["full","16",e.v10to26,81,81,26,50,5867,s([144,280,408,480]),s([5,1,7,3,15,2,3,13])]),s(["full","17",e.v10to26,85,85,30,54,6523,s([168,308,448,532]),s([1,5,10,1,1,15,2,17])]),s(["full","18",e.v10to26,89,89,30,56,7211,s([180,338,504,588]),s([5,1,9,4,17,1,2,19])]),s(["full","19",e.v10to26,93,93,30,58,7931,s([196,364,546,650]),s([3,4,3,11,17,4,9,16])]),s(["full","20",e.v10to26,97,97,34,62,8683,s([224,416,600,700]),s([3,5,3,13,15,5,15,10])]),s(["full","21",e.v10to26,101,101,28,50,9252,s([224,442,644,750]),s([4,4,17,0,17,6,19,6])]),s(["full","22",e.v10to26,105,105,26,50,10068,s([252,476,690,816]),s([2,7,17,0,7,16,34,0])]),s(["full","23",e.v10to26,109,109,30,54,10916,s([270,504,750,900]),s([4,5,4,14,11,14,16,14])]),s(["full","24",e.v10to26,113,113,28,54,11796,s([300,560,810,960]),s([6,4,6,14,11,16,30,2])]),s(["full","25",e.v10to26,117,117,32,58,12708,s([312,588,870,1050]),s([8,4,8,13,7,22,22,13])]),s(["full","26",e.v10to26,121,121,30,58,13652,s([336,644,952,1110]),s([10,2,19,4,28,6,33,4])]),s(["full","27",e.v27to40,125,125,34,62,14628,s([360,700,1020,1200]),s([8,4,22,3,8,26,12,28])]),s(["full","28",e.v27to40,129,129,26,50,15371,s([390,728,1050,1260]),s([3,10,3,23,4,31,11,31])]),s(["full","29",e.v27to40,133,133,30,54,16411,s([420,784,1140,1350]),s([7,7,21,7,1,37,19,26])]),s(["full","30",e.v27to40,137,137,26,52,17483,s([450,812,1200,1440]),s([5,10,19,10,15,25,23,25])]),s(["full","31",e.v27to40,141,141,30,56,18587,s([480,868,1290,1530]),s([13,3,2,29,42,1,23,28])]),s(["full","32",e.v27to40,145,145,34,60,19723,s([510,924,1350,1620]),s([17,0,10,23,10,35,19,35])]),s(["full","33",e.v27to40,149,149,30,58,20891,s([540,980,1440,1710]),s([17,1,14,21,29,19,11,46])]),s(["full","34",e.v27to40,153,153,34,62,22091,s([570,1036,1530,1800]),s([13,6,14,23,44,7,59,1])]),s(["full","35",e.v27to40,157,157,30,54,23008,s([570,1064,1590,1890]),s([12,7,12,26,39,14,22,41])]),s(["full","36",e.v27to40,161,161,24,50,24272,s([600,1120,1680,1980]),s([6,14,6,34,46,10,2,64])]),s(["full","37",e.v27to40,165,165,28,54,25568,s([630,1204,1770,2100]),s([17,4,29,14,49,10,24,46])]),s(["full","38",e.v27to40,169,169,32,58,26896,s([660,1260,1860,2220]),s([4,18,13,32,48,14,42,32])]),s(["full","39",e.v27to40,173,173,26,54,28256,s([720,1316,1950,2310]),s([20,4,40,7,43,22,10,67])]),s(["full","40",e.v27to40,177,177,30,58,29648,s([750,1372,2040,2430]),s([19,6,18,31,34,34,20,61])]),s(["rmqr","R7x43",e.vR7x43,7,43,22,99,104,s([99,7,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x59",e.vR7x59,7,59,20,40,171,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x77",e.vR7x77,7,77,26,52,261,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x99",e.vR7x99,7,99,24,50,358,s([99,16,99,30]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R7x139",e.vR7x139,7,139,28,56,545,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x43",e.vR9x43,9,43,22,99,170,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x59",e.vR9x59,9,59,20,40,267,s([99,12,99,22]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R9x77",e.vR9x77,9,77,26,52,393,s([99,18,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R9x99",e.vR9x99,9,99,24,50,532,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R9x139",e.vR9x139,9,139,28,56,797,s([99,36,99,66]),s([-1,-1,1,1,-1,-1,3,0])]),s(["rmqr","R11x27",e.vR11x27,11,27,98,99,122,s([99,8,99,10]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x43",e.vR11x43,11,43,22,99,249,s([99,12,99,20]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R11x59",e.vR11x59,11,59,20,40,376,s([99,16,99,32]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x77",e.vR11x77,11,77,26,52,538,s([99,24,99,44]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R11x99",e.vR11x99,11,99,24,50,719,s([99,32,99,60]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R11x139",e.vR11x139,11,139,28,56,1062,s([99,48,99,90]),s([-1,-1,2,0,-1,-1,3,0])]),s(["rmqr","R13x27",e.vR13x27,13,27,98,99,172,s([99,9,99,14]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x43",e.vR13x43,13,43,22,99,329,s([99,14,99,28]),s([-1,-1,1,0,-1,-1,1,0])]),s(["rmqr","R13x59",e.vR13x59,13,59,20,40,486,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R13x77",e.vR13x77,13,77,26,52,684,s([99,32,99,56]),s([-1,-1,1,1,-1,-1,1,1])]),s(["rmqr","R13x99",e.vR13x99,13,99,24,50,907,s([99,40,99,78]),s([-1,-1,1,1,-1,-1,1,2])]),s(["rmqr","R13x139",e.vR13x139,13,139,28,56,1328,s([99,60,99,112]),s([-1,-1,2,1,-1,-1,2,2])]),s(["rmqr","R15x43",e.vR15x43,15,43,22,99,409,s([99,18,99,36]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R15x59",e.vR15x59,15,59,20,40,596,s([99,26,99,48]),s([-1,-1,1,0,-1,-1,2,0])]),s(["rmqr","R15x77",e.vR15x77,15,77,26,52,830,s([99,36,99,72]),s([-1,-1,1,1,-1,-1,2,1])]),s(["rmqr","R15x99",e.vR15x99,15,99,24,50,1095,s([99,48,99,88]),s([-1,-1,2,0,-1,-1,4,0])]),s(["rmqr","R15x139",e.vR15x139,15,139,28,56,1594,s([99,72,99,130]),s([-1,-1,2,1,-1,-1,1,4])]),s(["rmqr","R17x43",e.vR17x43,17,43,22,99,489,s([99,22,99,40]),s([-1,-1,1,0,-1,-1,1,1])]),s(["rmqr","R17x59",e.vR17x59,17,59,20,40,706,s([99,32,99,60]),s([-1,-1,2,0,-1,-1,2,0])]),s(["rmqr","R17x77",e.vR17x77,17,77,26,52,976,s([99,44,99,84]),s([-1,-1,2,0,-1,-1,1,2])]),s(["rmqr","R17x99",e.vR17x99,17,99,24,50,1283,s([99,60,99,104]),s([-1,-1,2,1,-1,-1,4,0])]),s(["rmqr","R17x139",e.vR17x139,17,139,28,56,1860,s([99,80,99,156]),s([-1,-1,4,0,-1,-1,2,4])])]),r[t++]="eclval",It("LMQH",e.eclevel),t--;var Ie=r[--t];r[t-1]=Ie.length;var pe=r[--t];r[t-1]=pe;var Ce=r[--t];e[r[--t]]=Ce;for(var Ne=0,Be=e.metrics.length-1;Ne<=Be;Ne+=1){e.i=Ne,e.m=c(e.metrics,e.i),e.frmt=c(e.m,0),e.vers=c(e.m,1),e.vergrp=c(e.m,2),e.verind=e.i-44,e.rows=c(e.m,3),e.cols=c(e.m,4),e.asp2=c(e.m,5),e.asp3=c(e.m,6),e.nmod=c(e.m,7),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.lc4b=!1,(Y(e.vers,"M1")||Y(e.vers,"M3"))&&(e.ncws=e.ncws+1,e.rbit=0,e.lc4b=!0),e.ecws=c(c(e.m,8),e.eclval),e.dcws=S(e.ncws-e.ecws);var Ge=e.lc4b?4:0;if(e.dmod=S(e.dcws*8-Ge),e.ecb1=c(c(e.m,9),e.eclval*2),e.ecb2=c(c(e.m,9),e.eclval*2+1),e.okay=!0,Me(e.format,e.frmt)&&(e.okay=!1),Y(e.frmt,"micro")&&e.fnc1first&&(e.okay=!1),Me(e.version,"unset")&&Me(e.version,e.vers)&&(e.okay=!1),(e.ecb1==-1||e.ecb2==-1)&&(e.okay=!1),e.verbits=c(e.msgbits,e.vergrp),(e.verbits==-1||e.verbits.length>e.dmod)&&(e.okay=!1),e.term=C("000000000",0,c(e.termlens,e.vergrp)),e.okay)break}if(e.okay||(r[t++]="bwipp.qrcodeNoValidSymbol#21607",r[t++]="Maximum length exceeded or invalid content",z()),e.format=e.frmt,e.version=e.vers,e.msgbits=e.verbits,!e.fixedeclevel)for(var He=e.eclval+1;He<=3;He+=1){e.eclval_=He,e.ecws_=c(c(e.m,8),e.eclval_),e.dcws_=S(e.ncws-e.ecws_);var Xe=e.lc4b?4:0;e.dmod_=S(e.dcws_*8-Xe),e.ecb1_=c(c(e.m,9),e.eclval_*2),e.ecb2_=c(c(e.m,9),e.eclval_*2+1),e.okay=!0,(e.ecb1_==-1||e.ecb2_==-1)&&(e.okay=!1),e.msgbits.length>e.dmod_&&(e.okay=!1),e.okay&&(e.eclval=e.eclval_,e.dcws=e.dcws_,e.dmod=e.dmod_,e.ecb1=e.ecb1_,e.ecb2=e.ecb2_)}e.dcpb=~~(e.dcws/S(e.ecb1+e.ecb2)),e.ecpb=~~(e.ncws/S(e.ecb1+e.ecb2))-e.dcpb;var st=e.term,at=e.dmod,Ee=e.msgbits,Ve=e.term,Ye=Ve.length,et=S(at-Ee.length);if(S(at-Ee.length)>Ve.length){var ht=Ye;Ye=et,et=ht}e.term=C(st,0,et);var pt=W(e.msgbits.length+e.term.length);M(pt,0,e.msgbits),M(pt,e.msgbits.length,e.term),e.msgbits=pt,e.pad=W(e.dmod);for(var ft=0,gt=e.pad.length-1;ft<=gt;ft+=1)g(e.pad,ft,48);M(e.pad,0,e.msgbits),e.padnum=0;for(var nt=e.lc4b?5:1,Tt=~~(xr(e.msgbits.length/8)*8),tt=S(e.dmod-nt);Tt<=tt;Tt+=8)M(e.pad,Tt,c(e.padstrs,e.padnum)),e.padnum=(e.padnum+1)%2;e.cws=s(e.dcws);for(var Qt=0,Ht=e.cws.length-1;Qt<=Ht;Qt+=1){e.c=Qt,e.bpcw=8,e.lc4b&&e.c==e.cws.length-1&&(e.bpcw=4),e.cwb=C(e.pad,e.c*8,e.bpcw),e.cw=0;for(var Ot=0,sr=e.bpcw-1;Ot<=sr;Ot+=1)e.i=Ot,e.cw=S(e.cw+~~li(2,e.bpcw-e.i-1)*(c(e.cwb,e.i)-48));g(e.cws,e.c,e.cw)}if(e.lc4b){var Sr=e.cws,nr=e.cws;g(Sr,nr.length-1,c(Sr,nr.length-1)<<4)}var gr=c(e.options,"debugcws")!==void 0;gr&&(r[t++]="bwipp.debugcws#21674",r[t++]=e.cws,z()),r[t++]=1/0,r[t++]=1;for(var ar=0;ar<255;ar++){var Ir=r[t-1],Zt=Ir*2;if(r[t++]=Zt,Zt>=256){var dr=r[--t];r[t++]=dr^285}}e.rsalog=s(),e.rslog=s(256);for(var Kt=1;Kt<=255;Kt+=1)g(e.rslog,c(e.rsalog,Kt),Kt);e.rsprod=function(){var Ke=r[t-1],bt=r[t-2];if(Ke!=0&&bt!=0){var pr=c(e.rslog,r[--t]),kr=c(e.rsalog,S(pr+c(e.rslog,r[--t]))%255);r[t++]=kr}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Jt=0,ur=e.ecpb;Jt<ur;Jt++)r[t++]=0;e.coeffs=s();for(var Tr=0,_r=e.ecpb-1;Tr<=_r;Tr+=1){e.i=Tr,g(e.coeffs,e.i+1,c(e.coeffs,e.i));for(var ua=e.i;ua>=1;ua-=1){e.j=ua,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ct=r[--t],qt=r[--t],tr=r[--t];g(r[--t],tr,fs(qt,Ct))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var br=r[--t],ir=r[--t];g(r[--t],ir,br)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1),e.rscodes=function(){e.rscws=r[--t],e.rsnd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Ke=0,bt=e.ecpb;Ke<bt;Ke++)r[t++]=0;e.rscws=s();for(var pr=0,kr=e.rsnd-1;pr<=kr;pr+=1){e.m=pr,e.k=c(e.rscws,e.m);for(var pa=0,ts=e.ecpb-1;pa<=ts;pa+=1){e.j=pa,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=c(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var rs=r[--t],Es=r[--t];g(r[--t],Es,fs(rs,c(e.rscws,e.m+e.j+1)))}}r[t++]=C(e.rscws,e.rsnd,e.ecpb)},e.dcwsb=s(S(e.ecb1+e.ecb2)),e.ecwsb=s(S(e.ecb1+e.ecb2));for(var Br=0,or=e.ecb1-1;Br<=or;Br+=1){e.i=Br,g(e.dcwsb,e.i,C(e.cws,e.i*e.dcpb,e.dcpb)),r[t++]=e.ecwsb,r[t++]=e.i,r[t++]=c(e.dcwsb,e.i),e.rscodes();var Ut=r[--t],yr=r[--t];g(r[--t],yr,Ut)}for(var ta=0,fa=e.ecb2-1;ta<=fa;ta+=1){e.i=ta,g(e.dcwsb,S(e.ecb1+e.i),C(e.cws,S(e.ecb1*e.dcpb+e.i*(e.dcpb+1)),e.dcpb+1)),r[t++]=e.ecwsb,r[t++]=S(e.ecb1+e.i),r[t++]=c(e.dcwsb,S(e.ecb1+e.i)),e.rscodes();var wa=r[--t],Lr=r[--t];g(r[--t],Lr,wa)}e.cws=s(e.ncws),e.cw=0;for(var Ea=0,ga=e.dcpb;Ea<=ga;Ea+=1){e.i=Ea;for(var Ra=0,la=S(e.ecb1+e.ecb2)-1;Ra<=la;Ra+=1)e.j=Ra,e.i<c(e.dcwsb,e.j).length&&(g(e.cws,e.cw,c(c(e.dcwsb,e.j),e.i)),e.cw=e.cw+1)}for(var Aa=0,Ca=e.ecpb-1;Aa<=Ca;Aa+=1){e.i=Aa;for(var ka=0,La=S(e.ecb1+e.ecb2)-1;ka<=La;ka+=1)e.j=ka,g(e.cws,e.cw,c(c(e.ecwsb,e.j),e.i)),e.cw=e.cw+1}if(e.rbit>0&&(e.pad=s(e.cws.length+1),M(e.pad,0,e.cws),g(e.pad,e.pad.length-1,0),e.cws=e.pad),e.lc4b){var Qa=e.cws,Va=e.dcws;g(Qa,Va-1,c(Qa,Va-1)>>>4);for(var ps=e.dcws-1,Ia=e.ncws-2;ps<=Ia;ps+=1)e.i=ps,g(e.cws,e.i,(c(e.cws,e.i)&15)<<4),g(e.cws,e.i,c(e.cws,e.i+1)>>>4&15|c(e.cws,e.i));g(e.cws,e.ncws-1,(c(e.cws,e.ncws-1)&15)<<4)}var Bs=c(e.options,"debugecc")!==void 0;Bs&&(r[t++]="bwipp.debugecc#21776",r[t++]=e.cws,z()),r[t++]=1/0;for(var Ha=0,Qs=e.rows*e.cols;Ha<Qs;Ha++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Ke=r[--t],bt=r[--t];r[t++]=S(bt+Ke*e.cols)},Y(e.format,"full"))for(var Ma=8,ms=e.cols-9;Ma<=ms;Ma+=1){e.i=Ma,r[t++]=e.pixs,r[t++]=e.i,r[t++]=6,e.qmv();var Ds=r[--t];g(r[--t],Ds,(e.i+1)%2),r[t++]=e.pixs,r[t++]=6,r[t++]=e.i,e.qmv();var Ts=r[--t];g(r[--t],Ts,(e.i+1)%2)}if(Y(e.format,"micro"))for(var Ka=8,Hs=e.cols-1;Ka<=Hs;Ka+=1){e.i=Ka,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var Wa=r[--t];g(r[--t],Wa,(e.i+1)%2),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var xs=r[--t];g(r[--t],xs,(e.i+1)%2)}if(Y(e.format,"rmqr")){for(var Fa=3,vn=e.cols-4;Fa<=vn;Fa+=1){e.i=Fa,r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var $a=r[--t];g(r[--t],$a,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var In=r[--t];g(r[--t],In,(e.i+1)%2)}for(var Ba=3,Xs=e.rows-4;Ba<=Xs;Ba+=1){e.i=Ba,r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var _a=r[--t];g(r[--t],_a,(e.i+1)%2),r[t++]=e.pixs,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var rn=r[--t];g(r[--t],rn,(e.i+1)%2)}for(var is=e.asp2-1,Xt=S(e.asp3-e.asp2),Xr=e.cols-13;Xt<0?is>=Xr:is<=Xr;is+=Xt){e.i=is;for(var ja=3,Pa=e.rows-4;ja<=Pa;ja+=1){e.j=ja,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var vs=r[--t];g(r[--t],vs,(e.j+1)%2)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,1,1,1,0,1,0]),s([1,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fsubpat=s([s([1,1,1,1,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,0,1,0,1,9,9,9]),s([1,0,0,0,1,9,9,9]),s([1,1,1,1,1,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fcorpat=s([s([1,1,1,9,9,9,9,9]),s([1,0,9,9,9,9,9,9]),s([1,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]),e.fnullpat=s([s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9]),s([9,9,9,9,9,9,9,9])]);var Qr=new Map([["full",s([e.fpat,e.fpat,e.fpat,e.fnullpat])],["micro",s([e.fpat,e.fnullpat,e.fnullpat,e.fnullpat])],["rmqr",s([e.fpat,e.fcorpat,e.fcorpat,e.fsubpat])]]);e.fpatmap=Qr,e.fpats=c(e.fpatmap,e.format);for(var os=0;os<=7;os+=1){e.y=os;for(var gs=0;gs<=7;gs+=1){if(e.x=gs,e.fpb0=c(c(c(e.fpats,0),e.y),e.x),e.fpb1=c(c(c(e.fpats,1),e.y),e.x),e.fpb2=c(c(c(e.fpats,2),e.y),e.x),e.fpb3=c(c(c(e.fpats,3),e.y),e.x),e.fpb0!=9&&e.y<e.rows){r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Oa=r[--t];g(r[--t],Oa,e.fpb0)}if(e.fpb1!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=e.y,e.qmv();var Bn=r[--t];g(r[--t],Bn,e.fpb1)}if(e.fpb2!=9){r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.rows-e.y)-1,e.qmv();var Da=r[--t];g(r[--t],Da,e.fpb2)}if(e.fpb3!=9){r[t++]=e.pixs,r[t++]=S(e.cols-e.x)-1,r[t++]=S(e.rows-e.y)-1,e.qmv();var ui=r[--t];g(r[--t],ui,e.fpb3)}}}if(e.algnpatfull=s([s([1,1,1,1,1]),s([1,0,0,0,1]),s([1,0,1,0,1]),s([1,0,0,0,1]),s([1,1,1,1,1])]),e.algnpatrmqr=s([s([1,1,1,9,9]),s([1,0,1,9,9]),s([1,1,1,9,9]),s([9,9,9,9,9]),s([9,9,9,9,9])]),e.putalgnpat=function(){e.py=r[--t],e.px=r[--t];for(var Ke=0;Ke<=4;Ke+=1){e.pb=Ke;for(var bt=0;bt<=4;bt+=1)if(e.pa=bt,e.algnb=c(c(e.algnpat,e.pb),e.pa),e.algnb!=9){r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.qmv();var pr=r[--t];g(r[--t],pr,e.algnb)}}},Y(e.format,"full")){e.algnpat=e.algnpatfull;for(var $s=e.asp2-2,Ta=S(e.asp3-e.asp2),Dn=e.cols-13;Ta<0?$s>=Dn:$s<=Dn;$s+=Ta)e.i=$s,r[t++]=e.i,r[t++]=4,e.putalgnpat(),r[t++]=4,r[t++]=e.i,e.putalgnpat();for(var Ja=e.asp2-2,Tn=S(e.asp3-e.asp2),bs=e.cols-9;Tn<0?Ja>=bs:Ja<=bs;Ja+=Tn){e.x=Ja;for(var an=e.asp2-2,sn=S(e.asp3-e.asp2),Xn=e.rows-9;sn<0?an>=Xn:an<=Xn;an+=sn)e.y=an,r[t++]=e.x,r[t++]=e.y,e.putalgnpat()}}if(Y(e.format,"rmqr")){e.algnpat=e.algnpatrmqr;for(var At=e.asp2-2,Yr=S(e.asp3-e.asp2),ra=e.cols-13;Yr<0?At>=ra:At<=ra;At+=Yr)e.i=At,r[t++]=e.i,r[t++]=0,e.putalgnpat(),r[t++]=e.i,r[t++]=e.rows-3,e.putalgnpat()}e.formatmapmicro=s([s([s([1,8])]),s([s([2,8])]),s([s([3,8])]),s([s([4,8])]),s([s([5,8])]),s([s([6,8])]),s([s([7,8])]),s([s([8,8])]),s([s([8,7])]),s([s([8,6])]),s([s([8,5])]),s([s([8,4])]),s([s([8,3])]),s([s([8,2])]),s([s([8,1])])]);var Ua=new Map([["full",s([s([s([0,8]),s([8,e.cols-1])]),s([s([1,8]),s([8,e.cols-2])]),s([s([2,8]),s([8,e.cols-3])]),s([s([3,8]),s([8,e.cols-4])]),s([s([4,8]),s([8,e.cols-5])]),s([s([5,8]),s([8,e.cols-6])]),s([s([7,8]),s([8,e.cols-7])]),s([s([8,8]),s([e.cols-8,8])]),s([s([8,7]),s([e.cols-7,8])]),s([s([8,5]),s([e.cols-6,8])]),s([s([8,4]),s([e.cols-5,8])]),s([s([8,3]),s([e.cols-4,8])]),s([s([8,2]),s([e.cols-3,8])]),s([s([8,1]),s([e.cols-2,8])]),s([s([8,0]),s([e.cols-1,8])])])],["micro",e.formatmapmicro],["rmqr",s([s([s([11,3]),s([e.cols-3,e.rows-6])]),s([s([11,2]),s([e.cols-4,e.rows-6])]),s([s([11,1]),s([e.cols-5,e.rows-6])]),s([s([10,5]),s([e.cols-6,e.rows-2])]),s([s([10,4]),s([e.cols-6,e.rows-3])]),s([s([10,3]),s([e.cols-6,e.rows-4])]),s([s([10,2]),s([e.cols-6,e.rows-5])]),s([s([10,1]),s([e.cols-6,e.rows-6])]),s([s([9,5]),s([e.cols-7,e.rows-2])]),s([s([9,4]),s([e.cols-7,e.rows-3])]),s([s([9,3]),s([e.cols-7,e.rows-4])]),s([s([9,2]),s([e.cols-7,e.rows-5])]),s([s([9,1]),s([e.cols-7,e.rows-6])]),s([s([8,5]),s([e.cols-8,e.rows-2])]),s([s([8,4]),s([e.cols-8,e.rows-3])]),s([s([8,3]),s([e.cols-8,e.rows-4])]),s([s([8,2]),s([e.cols-8,e.rows-5])]),s([s([8,1]),s([e.cols-8,e.rows-6])])])]]);e.formatmap=c(Ua,e.format),ge(e.formatmap,function(){ge(r[--t],function(){O(r[--t]),e.qmv(),g(e.pixs,r[--t],1)})}),Y(e.format,"full")&&e.cols>=45?e.versionmap=s([s([s([e.cols-9,5]),s([5,e.cols-9])]),s([s([e.cols-10,5]),s([5,e.cols-10])]),s([s([e.cols-11,5]),s([5,e.cols-11])]),s([s([e.cols-9,4]),s([4,e.cols-9])]),s([s([e.cols-10,4]),s([4,e.cols-10])]),s([s([e.cols-11,4]),s([4,e.cols-11])]),s([s([e.cols-9,3]),s([3,e.cols-9])]),s([s([e.cols-10,3]),s([3,e.cols-10])]),s([s([e.cols-11,3]),s([3,e.cols-11])]),s([s([e.cols-9,2]),s([2,e.cols-9])]),s([s([e.cols-10,2]),s([2,e.cols-10])]),s([s([e.cols-11,2]),s([2,e.cols-11])]),s([s([e.cols-9,1]),s([1,e.cols-9])]),s([s([e.cols-10,1]),s([1,e.cols-10])]),s([s([e.cols-11,1]),s([1,e.cols-11])]),s([s([e.cols-9,0]),s([0,e.cols-9])]),s([s([e.cols-10,0]),s([0,e.cols-10])]),s([s([e.cols-11,0]),s([0,e.cols-11])])]):e.versionmap=s([]);for(var ca=e.versionmap,Xa=0,ys=ca.length;Xa<ys;Xa++)ge(c(ca,Xa),function(){O(r[--t]),e.qmv(),g(e.pixs,r[--t],0)});if(Y(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.rows-8,e.qmv();var gn=r[--t];g(r[--t],gn,0)}var ct=s([function(){var Ke=r[--t],bt=r[--t];r[t++]=S(bt+Ke)%2},function(){var Ke=r[--t];r[t-1]=Ke;var bt=r[--t];r[t++]=bt%2},function(){t--;var Ke=r[--t];r[t++]=Ke%3},function(){var Ke=r[--t],bt=r[--t];r[t++]=S(bt+Ke)%3},function(){var Ke=r[--t],bt=r[--t];r[t++]=(~~(Ke/2)+~~(bt/3))%2},function(){var Ke=r[--t],bt=r[--t]*Ke;r[t++]=S(bt%2+bt%3)},function(){var Ke=r[--t],bt=r[--t]*Ke;r[t++]=S(bt%2+bt%3)%2},function(){var Ke=r[--t],bt=r[--t];r[t++]=S(bt*Ke%3+(bt+Ke)%2)%2}]),Nt=s([function(){var Ke=r[--t];r[t-1]=Ke;var bt=r[--t];r[t++]=bt%2},function(){var Ke=r[--t],bt=r[--t];r[t++]=(~~(Ke/2)+~~(bt/3))%2},function(){var Ke=r[--t],bt=r[--t]*Ke;r[t++]=S(bt%2+bt%3)%2},function(){var Ke=r[--t],bt=r[--t];r[t++]=S(bt*Ke%3+(bt+Ke)%2)%2}]),hr=s([function(){var Ke=r[--t],bt=r[--t];r[t++]=(~~(Ke/2)+~~(bt/3))%2}]),lr=new Map([["full",ct],["micro",Nt],["rmqr",hr]]);e.maskfuncs=c(lr,e.format),e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var fr=0,Rr=e.masks.length-1;fr<=Rr;fr+=1){e.m=fr,e.mask=s(e.rows*e.cols);for(var cr=0,aa=e.rows-1;cr<=aa;cr+=1){e.j=cr;for(var Hr=0,$r=e.cols-1;Hr<=$r&&(e.i=Hr,r[t++]=e.i,r[t++]=e.j,c(e.maskfuncs,e.m)()!==!0);Hr+=1){var Gr=r[--t];r[t++]=Gr==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Vr=r[--t],ha=c(r[--t],Vr),Zr=r[--t],qr=Zr&&ha==-1?1:0;r[t++]=qr,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var sa=r[t-3],Mr=r[t-1];g(r[t-2],Mr,sa),t-=3}}g(e.masks,e.m,e.mask)}var Pr=Me(e.format,"rmqr")?1:2;for(e.posx=S(e.cols-Pr),e.posy=e.rows-1,e.dir=-1,e.col=1,e.num=0;!(e.posx<0);){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var za=r[--t];if(c(r[--t],za)==-1){var ba=c(e.cws,~~(e.num/8)),ls=-(7-e.num%8);r[t++]=(ls<0?ba>>>-ls:ba<<ls)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Ss=r[t-3],nn=r[t-1];g(r[t-2],nn,Ss),t-=3,e.num=e.num+1}e.col==1?(e.col=0,e.posx=e.posx-1):(e.col=1,e.posx=e.posx+1,e.posy=S(e.posy+e.dir),(e.posy<0||e.posy>=e.rows)&&(e.dir=e.dir*-1,e.posy=S(e.posy+e.dir),e.posx=e.posx-2,Y(e.format,"full")&&e.posx==6&&(e.posx=e.posx-1)))}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ge(e.scrle,function(){var Ti=r[t-1];if(Ti>=5){var Ri=r[--t],$n=S(r[--t]+Ri)-2;r[t++]=$n,r[t++]=$n}t--});var Ke=r[--t];e[r[--t]]=Ke,e.scr3=0;for(var bt=3,pr=e.scrle.length-3;bt<=pr;bt+=2)if(e.j=bt,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var kr=C(e.scrle,e.j-2,5),pa=0,ts=kr.length;pa<ts;pa++)r[t++]=c(kr,pa)==e.fact;var rs=r[--t],Es=r[--t];r[t-1]=ho(Es,rs);var on=r[--t],wn=r[--t];r[--t]&&wn&&on&&(e.j==3||e.j+4>=e.scrle.length||c(e.scrle,e.j-3)>=4||c(e.scrle,e.j+3)>=4)&&(e.scr3=e.scr3+40)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0,e.rle=s(e.cols+1),e.lastpairs=s(e.cols),e.thispairs=s(e.cols),e.colsadd1=e.cols+1;for(var Ke=0,bt=e.cols-1;Ke<=bt;Ke+=1){e.i=Ke,r[t++]=1/0;var pr=e.cols;r[t++]=0,r[t++]=0;for(var kr=e.i,pa=pr,ts=pr*pr-1;pa<0?kr>=ts:kr<=ts;kr+=pa){var rs=c(e.sym,kr),Es=r[--t];if(r[t++]=rs,Y(Es,rs)){var on=r[--t],wn=r[--t];r[t++]=wn+1,r[t++]=on}else{var Ti=r[--t];r[t++]=1,r[t++]=Ti}}t--;var Ri=xa()+2;Vt(C(e.rle,0,Ri-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=C(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var $n=e.symrow;r[t++]=0,r[t++]=0;for(var Mi=0,Eo=$n.length;Mi<Eo;Mi++){var H1=c($n,Mi),dt=r[--t];if(r[t++]=H1,Y(dt,H1)){var Gt=r[--t],Ur=r[--t];r[t++]=Ur+1,r[t++]=Gt}else{var it=r[--t];r[t++]=1,r[t++]=it}}t--;var Ft=xa()+2;Vt(C(e.rle,0,Ft-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var Yt=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=Yt;var Wt=c(e.symrow,0)==1?0:1,Wr=e.symrow;r[t++]=Wt;for(var ya=0,ma=Wr.length;ya<ma;ya++){var cs=c(Wr,ya),qs=r[--t];r[t++]=S(qs+cs),r[t++]=cs}if(t--,Vt(e.thispairs),t--,e.i>0){r[t++]=1/0,O(e.lastpairs),O(e.thispairs),r[t++]=e.n2;for(var ln=0,cn=e.cols;ln<cn;ln++){var Gn=r[--t],b1=r[--t];r[t++]=Gn,r[t++]=b1;var e1=r[t-1-e.colsadd1];if(!(S(r[--t]+e1)&3)){var Fi=r[--t];r[t++]=Fi+3}}e.n2=r[--t],el()}}r[t++]="dark",r[t++]=0,ge(e.sym,function(){var $1=r[--t],w1=r[--t];r[t++]=S(w1+$1)});var y1=r[--t];e[r[--t]]=y1;var t1=e.cols;e.n4=~~(Ko(e.dark*100/(t1*t1)-50)/5)*10,r[t++]=S(e.n1+e.n2+e.n3+e.n4)},e.evalmicro=function(){e.sym=r[--t],e.dkrhs=0,e.dkbot=0;for(var Ke=1,bt=e.cols-1;Ke<=bt;Ke+=1){e.i=Ke,r[t++]="dkrhs",r[t++]=e.dkrhs,r[t++]=e.sym,r[t++]=e.cols-1,r[t++]=e.i,e.qmv();var pr=r[--t],kr=c(r[--t],pr),pa=r[--t];e[r[--t]]=S(pa+kr),r[t++]="dkbot",r[t++]=e.dkbot,r[t++]=e.sym,r[t++]=e.i,r[t++]=e.cols-1,e.qmv();var ts=r[--t],rs=c(r[--t],ts),Es=r[--t];e[r[--t]]=S(Es+rs)}e.dkrhs<=e.dkbot?r[t++]=-(e.dkrhs*16+e.dkbot):r[t++]=-(e.dkbot*16+e.dkrhs)},e.bestscore=999999999;for(var Rs=0,rr=e.masks.length-1;Rs<=rr;Rs+=1){e.m=Rs,e.masksym=s(e.rows*e.cols);for(var wr=0,Nr=e.rows*e.cols-1;wr<=Nr;wr+=1)e.i=wr,g(e.masksym,e.i,fs(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(Y(e.format,"full")?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t]):(r[t++]=e.masksym,e.evalmicro(),e.score=r[--t]),e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,Y(e.format,"full")){r[t++]=e.pixs,r[t++]=8,r[t++]=e.cols-8,e.qmv();var ea=r[--t];g(r[--t],ea,1)}if(e.fmtvalsfull=s([21522,20773,24188,23371,17913,16590,20375,19104,30660,29427,32170,30877,26159,25368,27713,26998,5769,5054,7399,6608,1890,597,3340,2107,13663,12392,16177,14854,9396,8579,11994,11245]),e.fmtvalsmicro=s([17477,16754,20011,19228,21934,20633,24512,23287,26515,25252,28157,26826,30328,29519,31766,31009,1758,1001,3248,2439,5941,4610,7515,6252,9480,8255,12134,10833,13539,12756,16013,15290]),e.fmtvalsrmqr1=s([129714,124311,121821,115960,112748,108361,104707,99878,98062,90155,89697,82244,81360,74485,72895,66458,61898,61167,53413,53120,45844,44081,37499,36190,29814,27475,21785,19004,13992,10637,6087,2274,258919,257090,250376,249133,242105,241308,233686,233459,227035,223742,219060,215185,209925,207648,202090,199247,194591,190266,186736,181845,178881,173540,170926,165003,163235,156294,154828,148457,147325,139352,138770,131383]),e.fmtvalsrmqr2=s([133755,136542,142100,144433,149669,153472,158154,161519,167879,168162,175784,176525,183577,184892,191606,193363,196867,204326,204908,212809,213981,220408,221874,228759,230591,236442,239056,244469,247393,252228,255758,260139,942,7307,8897,15844,16752,24149,24607,32570,34322,39223,42877,47192,50380,56297,58787,64134,67798,71667,76217,79516,84488,87341,93031,95298,101738,102991,109573,111392,118708,118929,126683,127486]),Y(e.format,"full")){e.ecid=c(s([1,0,3,2]),e.eclval),e.fmtval=c(e.fmtvalsfull,(e.ecid<<3)+e.bestmaskval);for(var Or=0,na=e.formatmap.length-1;Or<=na;Or+=1)e.i=Or,ge(c(e.formatmap,e.i),function(){var Ke=r[--t];r[t++]=e.pixs,O(Ke),e.qmv();var bt=e.fmtval,pr=-(14-e.i),kr=r[--t];g(r[--t],kr,(pr<0?bt>>>-pr:bt<<pr)&1)})}if(Y(e.format,"micro")){e.symid=c(c(s([s([0]),s([1,2]),s([3,4]),s([5,6,7])]),~~((e.cols-11)/2)),e.eclval),e.fmtval=c(e.fmtvalsmicro,(e.symid<<2)+e.bestmaskval);for(var Kr=0,Za=e.formatmap.length-1;Kr<=Za;Kr+=1){e.i=Kr,r[t++]=e.pixs,O(c(c(e.formatmap,e.i),0)),e.qmv();var es=e.fmtval,Gs=-(14-e.i),bn=r[--t];g(r[--t],bn,(Gs<0?es>>>-Gs:es<<Gs)&1)}}if(Y(e.format,"rmqr")){e.fmtvalu=(c(s([-1,0,-1,1]),e.eclval)<<5)+e.verind,e.fmtval1=c(e.fmtvalsrmqr1,e.fmtvalu),e.fmtval2=c(e.fmtvalsrmqr2,e.fmtvalu);for(var Rn=0,Ln=e.formatmap.length-1;Rn<=Ln;Rn+=1){e.i=Rn,r[t++]=e.pixs,O(c(c(e.formatmap,e.i),0)),e.qmv();var Qn=e.fmtval1,yn=-(17-e.i),fi=r[--t];g(r[--t],fi,(yn<0?Qn>>>-yn:Qn<<yn)&1),r[t++]=e.pixs,O(c(c(e.formatmap,e.i),1)),e.qmv();var Hn=e.fmtval2,hi=-(17-e.i),Ji=r[--t];g(r[--t],Ji,(hi<0?Hn>>>-hi:Hn<<hi)&1)}}if(e.vervals=s([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Y(e.format,"full")&&e.cols>=45){e.verval=c(e.vervals,~~((e.cols-17)/4)-7);for(var pi=0,Xi=e.versionmap.length-1;pi<=Xi;pi+=1)e.i=pi,ge(c(e.versionmap,e.i),function(){var Ke=r[--t];r[t++]=e.pixs,ge(Ke),e.qmv();var bt=e.verval,pr=-(17-e.i),kr=r[--t];g(r[--t],kr,(pr<0?bt>>>-pr:bt<<pr)&1)})}r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows*2/72,r[t++]="width",r[t++]=e.cols*2/72,r[t++]="borderleft",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderright",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="bordertop",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="borderbottom",Y(e.format,"full")?r[t++]=4:r[t++]=2,r[t++]="opt",r[t++]=e.options;var Zi=$e();r[t++]=Zi,e.dontdraw||xt(),e=a}function mR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.barlen=e.barcode.length,delete e.options.parse,e.barcode.length>997&&(r[t++]="bwipp.swissqrcodeBadLength#22347",r[t++]="Swiss QR Code input must not exceed 997 digits",z()),g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var o=r[--t];if(e[r[--t]]=o,g(e.args,"opt",e.options),r[t++]=e.args,!e.dontdraw){Z.save();var d=Z.currpos();Z.translate(d.x,d.y);var u=72/25.4;Z.scale(u,u),Z.save(),Z.newpath(),Z.moveto(0,0),Z.lineto(46,0),Z.lineto(46,46),Z.lineto(0,46),Z.closepath(),Z.moveto(19.5,19.5),Z.lineto(19.5,26.5),Z.lineto(26.5,26.5),Z.lineto(26.5,19.5),Z.closepath(),Z.clip(),Z.save(),Z.moveto(0,0);var f=46/c(e.args,"pixx")/2;Z.scale(f,f),xt(),Z.restore(),Z.restore(),Z.translate(19.5,19.5);var h=7/83;Z.scale(h,h),Z.newpath(),Z.moveto(6,6),Z.lineto(6,77),Z.lineto(77,77),Z.lineto(77,6),Z.closepath(),Z.moveto(49,18),Z.lineto(49,34),Z.lineto(65,34),Z.lineto(65,49),Z.lineto(49,49),Z.lineto(49,65),Z.lineto(34,65),Z.lineto(34,49),Z.lineto(18,49),Z.lineto(18,34),Z.lineto(34,34),Z.lineto(34,18),Z.closepath(),Z.setrgbcolor(0,0,0),Z.fill(),Z.restore()}e=a}function xR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","micro"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function vR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rmqr"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function gR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.mode=-1,e.sam=-1,e.parse=!1,e.parsefnc=!1,e.legacyencoder=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.maxicodeEmptyData#22566",r[t++]="The data must not be empty",z()),e.mode!=-1&&(e.mode<2||e.mode>6)&&(r[t++]="bwipp.maxicodeBadMode#22570",r[t++]="Mode must be 2 to 6",z()),e.sam!=-1){r[t++]=!0;for(var n=0;n<1;n++){var i=e.sam;if(i<12||i>88){r[t-1]=!1;break}var o=e.sam%10;if(o<2||o>8){r[t-1]=!1;break}if(~~(e.sam/10)>e.sam%10){r[t-1]=!1;break}}r[--t]||(r[t++]="bwipp.maxicodeBadSAM#22581",r[t++]='SAM must be formatted as "NM" for Nth of M symbols, from 2 to 8 symbols',z())}e.encoding="new",e.legacyencoder&&(e.encoding="legacy");var d=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0]]);e.fncvals=d,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var u=r[--t];if(e[r[--t]]=u,e.msglen=e.msg.length,e.mode==2||e.mode==3){e.barcode=W(e.msglen),e.barlen=e.msglen;for(var f=0,h=e.msglen-1;f<=h;f+=1){if(e.i=f,c(e.msg,e.i)<0){e.barlen=e.i;break}g(e.barcode,e.i,c(e.msg,e.i))}if(e.difflen=e.msglen-e.barlen,e.fid="",e.barlen>=9){var p=e.barcode,m=c(p,7),x=c(p,8);Y(C(p,0,7),"[)>01")&&m>=48&&m<=57&&x>=48&&x<=57&&(e.fid=C(e.barcode,0,9),e.barcode=C(e.barcode,9,e.barlen-9))}if(It(e.barcode,""),r[--t])if(e.pcode=r[--t],t--,e.mode==2){r[t++]=!0;for(var b=0;b<1;b++){var y=e.pcode.length;if(y>9||y==0){r[t-1]=!1;break}ge(e.pcode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode2PostCode#22635",r[t++]="A mode 2 postcode must not be empty or exceed 9 digits",z())}else{r[t++]=!0;for(var w=0;w<1;w++){var v=e.pcode.length;if(v>6||v==0){r[t-1]=!1;break}ge(e.pcode,function(){var At=r[--t];if(!(At==32||At>=34&&At<=58||At>=65&&At<=90))return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadMode3PostCode#22649",r[t++]="A mode 3 postcode must not be empty or exceed 6 characters",z())}else t--,r[t++]="bwipp.maxicodeExpectedPostCode#22653",r[t++]="Expected postcode followed by group separator character",z();if(It(r[--t],""),r[--t]){e.ccode=r[--t],r[t-1]=!0;for(var A=0;A<1;A++){if(e.ccode.length!=3){r[t-1]=!1;break}ge(e.ccode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadCountryCode#22663",r[t++]="Country code must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedCountryCode#22666",r[t++]="Expected country code followed by group separator character",z();if(It(r[--t],""),r[--t]){e.scode=r[--t],r[t-1]=!0;for(var k=0;k<1;k++){if(e.scode.length!=3){r[t-1]=!1;break}ge(e.scode,function(){var At=r[--t];if(At<48||At>57)return r[t-1]=!1,!0})}r[--t]||(t--,r[t++]="bwipp.maxicodeBadServiceClass#22676",r[t++]="Service class must be three digits",z())}else t--,r[t++]="bwipp.maxicodeExpectedServiceClass#22679",r[t++]="Expected service class followed by group separator character",z();e.barcode=r[--t];var E=W(e.barcode.length+e.fid.length);M(E,0,e.fid),M(E,e.fid.length,e.barcode),e.barcode=E,e.barlen=e.barcode.length,r[t++]=1/0;for(var j=e.barcode,N=0,B=j.length;N<B;N++)r[t++]=c(j,N);O(C(e.msg,e.msglen-e.difflen,e.difflen)),e.msg=s(),e.msglen=e.msg.length}e.eci=-1,e.pad=-2,e.ns=-3,e.la=-4,e.lb=-5,e.sa=-6,e.sb=-7,e.sc=-8,e.sd=-9,e.se=-10,e.sa2=-11,e.sa3=-12,e.lkc=-13,e.lkd=-14,e.lke=-15,e.pd2=-16,e.pd3=-17,e.charmaps=s([s([13,"`",192,224,0]),s(["A","a",193,225,1]),s(["B","b",194,226,2]),s(["C","c",195,227,3]),s(["D","d",196,228,4]),s(["E","e",197,229,5]),s(["F","f",198,230,6]),s(["G","g",199,231,7]),s(["H","h",200,232,8]),s(["I","i",201,233,9]),s(["J","j",202,234,10]),s(["K","k",203,235,11]),s(["L","l",204,236,12]),s(["M","m",205,237,13]),s(["N","n",206,238,14]),s(["O","o",207,239,15]),s(["P","p",208,240,16]),s(["Q","q",209,241,17]),s(["R","r",210,242,18]),s(["S","s",211,243,19]),s(["T","t",212,244,20]),s(["U","u",213,245,21]),s(["V","v",214,246,22]),s(["W","w",215,247,23]),s(["X","x",216,248,24]),s(["Y","y",217,249,25]),s(["Z","z",218,250,26]),s([e.eci,e.eci,e.eci,e.eci,e.eci]),s([28,28,28,28,e.pad]),s([29,29,29,29,e.pd2]),s([30,30,30,30,27]),s([e.ns,e.ns,e.ns,e.ns,e.ns]),s([" ","{",219,251,28]),s([e.pad,e.pad,220,252,29]),s(['"',"}",221,253,30]),s(["#","~",222,254,31]),s(["$",127,223,255,159]),s(["%",";",170,161,160]),s(["&","<",172,168,162]),s(["'","=",177,171,163]),s([40,">",178,175,164]),s([41,"?",179,176,165]),s(["*","[",181,180,166]),s(["+",92,185,183,167]),s([",","]",186,184,169]),s(["-","^",188,187,173]),s([".","_",189,191,174]),s(["/"," ",190,138,182]),s(["0",",",128,139,149]),s(["1",".",129,140,150]),s(["2","/",130,141,151]),s(["3",":",131,142,152]),s(["4","@",132,143,153]),s(["5","!",133,144,154]),s(["6","|",134,145,155]),s(["7",e.pd2,135,146,156]),s(["8",e.sa2,136,147,157]),s(["9",e.sa3,137,148,158]),s([":",e.pd3,e.la,e.la,e.la]),s([e.sb,e.sa," "," "," "]),s([e.sc,e.sc,e.lkc,e.sc,e.sc]),s([e.sd,e.sd,e.sd,e.lkd,e.sd]),s([e.se,e.se,e.se,e.se,e.lke]),s([e.lb,e.la,e.lb,e.lb,e.lb])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var I=0,D=e.charmaps.length-1;I<=D;I+=1){e.i=I,e.encs=c(e.charmaps,e.i);for(var T=0;T<=4;T+=1){e.j=T;var R=c(e.encs,e.j);if(r[t++]=R,Y(tn(R),"stringtype")){var $=c(r[--t],0);r[t++]=$}g(c(e.charvals,e.j),r[--t],e.i)}}if(e.seta=c(e.charvals,0),e.setb=c(e.charvals,1),e.setc=c(e.charvals,2),e.setd=c(e.charvals,3),e.sete=c(e.charvals,4),r[t++]="maxlen",e.mode==5)r[t++]=77;else{var F=e.mode<=3?84:93;r[t++]=F}var _=r[--t];if(e[r[--t]]=_,Y(e.encoding,"legacy")){r[t++]=1/0;for(var Q=0,H=e.msglen+1;Q<H;Q++)r[t++]=0;e.nseq=s();for(var J=e.msglen-1;J>=0;J-=1){e.i=J;var K=c(e.msg,e.i);K>=48&&K<=57?g(e.nseq,e.i,c(e.nseq,e.i+1)+1):g(e.nseq,e.i,0)}for(e.nseq=C(e.nseq,0,e.msglen),e.prefixinset=function(){for(r[t++]=0;;){var At=r[t-1],Yr=r[t-2];if(At>=Yr.length)break;var ra=r[t-1],Ua=r[t-2],ca=r[t-3],Xa=c(ca,c(Ua,ra))!==void 0;if(Xa){var ys=r[--t];r[t++]=ys+1}else break}var gn=r[--t];r[t-1]=gn;var ct=r[--t];r[t-1]=ct},e.enc=function(){var At=r[--t];g(e.out,e.j,c(At,r[--t])),e.j=e.j+1},e.out=s(144),e.i=0,e.j=0,e.cset="seta";;){if(e.i==e.msglen){Me(e.cset,"seta")&&Me(e.cset,"setb")&&e.out.length<e.maxlen&&(r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta");break}for(;;){if(c(e.msg,e.i)<=-1e6){r[t++]=e.eci,r[t++]=e[e.cset],e.enc();var he=-c(e.msg,e.i)-1e6;if(r[t++]=he,he<=31){var G=r[--t];r[t++]=G&63,Vt(s(1))}else{var L=r[t-1];if(L<=1023){var ce=r[--t];r[t++]=ce>>>6&31|32,r[t++]=ce&63,Vt(s(2))}else{var fe=r[t-1];if(fe<=32767){var U=r[--t];r[t++]=U>>>12&47|48,r[t++]=U>>>6&63,r[t++]=U&63,Vt(s(3))}else{var ee=r[--t];r[t++]=ee>>>18&55|56,r[t++]=ee>>>12&63,r[t++]=ee>>>6&63,r[t++]=ee&63,Vt(s(4))}}}var se=r[--t];M(e.out,e.j,se),e.j=se.length+e.j,e.i=e.i+1;break}if(c(e.nseq,e.i)>=9){var de=C(e.msg,e.i,9);r[t++]=0;for(var ke=0,ae=de.length;ke<ae;ke++){var De=r[--t];r[t++]=S(De+(c(de,ke)-48))*10}var we=r[--t];r[t++]=~~(we/10);for(var Ae=0;Ae<4;Ae++){var Le=r[--t];r[t++]=Le&63,r[t++]=Le>>>6}r[t++]=c(e[e.cset],e.ns);for(var xe=0;xe<=10;xe+=2){var Oe=r[t-1-xe];r[t++]=Oe}Vt(s(6)),Na(7,1);for(var Te=0;Te<6;Te++)t--;M(e.out,e.j,r[--t]),e.i=e.i+9,e.j=e.j+6;break}e.char1=c(e.msg,e.i),r[t++]="char2",e.i+1<e.msglen?r[t++]=c(e.msg,e.i+1):r[t++]=-99;var Pe=r[--t];e[r[--t]]=Pe,r[t++]="char3",e.i+2<e.msglen?r[t++]=c(e.msg,e.i+2):r[t++]=-99;var Ue=r[--t];e[r[--t]]=Ue;var Ze=c(e[e.cset],e.char1)!==void 0;if(Ze){r[t++]=e.char1,r[t++]=e[e.cset],e.enc(),e.i=e.i+1;break}var te=c(e.setb,e.char1)!==void 0;if(Y(e.cset,"seta")&&te){var oe=c(e.setb,e.char2)!==void 0;oe?(r[t++]=e.lb,r[t++]=e.seta,e.enc(),e.cset="setb"):(r[t++]=e.sb,r[t++]=e.seta,e.enc(),r[t++]=e.char1,r[t++]=e.setb,e.enc(),e.i=e.i+1);break}var Re=c(e.seta,e.char1)!==void 0;if(Y(e.cset,"setb")&&Re){var ze=e.seta,Je=e.msg,Qe=e.i,qe=e.msglen,ut=e.i,mt=qe-ut,lt=4;if(4>qe-ut){var vt=mt;mt=lt,lt=vt}r[t++]="p",r[t++]=ze,r[t++]=C(Je,Qe,lt),e.prefixinset();var St=r[--t];e[r[--t]]=St,e.p==1&&(r[t++]=e.sa,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sa2,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sa3,r[t++]=e.setb,e.enc(),r[t++]=e.char1,r[t++]=e.seta,e.enc(),r[t++]=e.char2,r[t++]=e.seta,e.enc(),r[t++]=e.char3,r[t++]=e.seta,e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.la,r[t++]=e.setb,e.enc(),e.cset="seta");break}var kt=c(e.seta,e.char1)!==void 0;if(kt){r[t++]=e.la,r[t++]=e[e.cset],e.enc(),e.cset="seta";break}var wt=c(e.setb,e.char1)!==void 0;if(wt){r[t++]=e.lb,r[t++]=e[e.cset],e.enc(),e.cset="setb";break}var Pt=c(e.setc,e.char1)!==void 0;Pt&&(e.setx="setc",e.sx=e.sc,e.lkx=e.lkc);var Mt=c(e.setd,e.char1)!==void 0;Mt&&(e.setx="setd",e.sx=e.sd,e.lkx=e.lkd);var Lt=c(e.sete,e.char1)!==void 0;Lt&&(e.setx="sete",e.sx=e.se,e.lkx=e.lke);var Dt=e[e.setx],jt=e.msg,P=e.i,V=e.msglen,q=e.i,ne=V-q,ue=4;if(4>V-q){var vt=ne;ne=ue,ue=vt}r[t++]="p",r[t++]=Dt,r[t++]=C(jt,P,ue),e.prefixinset();var be=r[--t];e[r[--t]]=be,e.p==1&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),e.i=e.i+1),e.p==2&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),e.i=e.i+2),e.p==3&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char1,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char2,r[t++]=e[e.setx],e.enc(),r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.char3,r[t++]=e[e.setx],e.enc(),e.i=e.i+3),e.p>=4&&(r[t++]=e.sx,r[t++]=e[e.cset],e.enc(),r[t++]=e.lkx,r[t++]=e[e.setx],e.enc(),e.cset=e.setx);break}}e.encmsg=C(e.out,0,e.j),e.padval=c(e[e.cset],e.pad)}if(Y(e.encoding,"new")){e.haveb=!1,e.havec=!1,e.haved=!1,e.havee=!1,e.havei=!1;for(var re=0,Se=e.msglen-1;re<=Se;re+=1)if(e.c=c(e.msg,re),e.c<=-1e6)e.havei=!0;else if((e.c<28||e.c>30)&&e.c!=32){var X=c(e.setb,e.c)!==void 0;X&&(e.haveb=!0);var ve=c(e.setc,e.c)!==void 0;ve&&(e.havec=!0);var me=c(e.setd,e.c)!==void 0;me&&(e.haved=!0);var je=c(e.sete,e.c)!==void 0;je&&(e.havee=!0)}r[t++]=1/0,r[t++]=0,e.haveb&&(r[t++]=1),e.havee&&(r[t++]=4),e.havec&&(r[t++]=2),e.haved&&(r[t++]=3),e.priority=s(),e.priority_rest=C(e.priority,1,e.priority.length-1),e.latch_sequence=s([s([s([]),s([63]),s([58]),s([58]),s([58])]),s([s([63]),s([]),s([63]),s([63]),s([63])]),s([s([60,60]),s([60,60]),s([]),s([60,60]),s([60,60])]),s([s([61,61]),s([61,61]),s([61,61]),s([]),s([61,61])]),s([s([62,62]),s([62,62]),s([62,62]),s([62,62]),s([])])]),e.latch_length=s([s([0,1,1,1,1]),s([1,0,1,1,1]),s([2,2,0,2,2]),s([2,2,2,0,2]),s([2,2,2,2,0])]),e.max_int=2147483647,r[t++]=1/0;for(var le=0;le<16;le++)r[t++]=s([0,0,0,0,0]);e.best_length=s(),r[t++]=1/0;for(var ye=0;ye<16;ye++)r[t++]=s([0,0,0,0,0]);e.best_origin=s(),r[t++]=1/0;for(var Ie=0,pe=e.msglen;Ie<pe;Ie++){r[t++]=1/0;for(var Ce=0;Ce<5;Ce++)r[t++]=0;var Ne=s();r[t++]=Ne}e.prior_code_set=s(),r[t++]=1/0;for(var Be=0,Ge=e.msglen;Be<Ge;Be++){r[t++]=1/0;for(var He=0;He<5;He++)r[t++]=0;var Xe=s();r[t++]=Xe}if(e.path_op=s(),e.out_eci=function(){var At=-e.c-1e6;if(r[t++]=At,At<1024){var Yr=r[--t]<32?2:3;r[t++]=Yr}else{var ra=r[--t]<32768?4:5;r[t++]=ra}},e.enc_eci=function(){var At=-e.c-1e6;if(r[t++]=At,At>=32){var Yr=r[t-1];if(Yr<1024){var ra=r[--t];r[t++]=ra>>>6|32,r[t++]=ra&63}else{var Ua=r[t-1];if(Ua<32768){var ca=r[--t];r[t++]=ca>>>12|48,r[t++]=ca>>>6&63,r[t++]=ca&63}else{var Xa=r[--t];r[t++]=Xa>>>18|56,r[t++]=Xa>>>12&63,r[t++]=Xa>>>6&63,r[t++]=Xa&63}}}},e.enc_ns=function(){var At=C(e.msg,e.n,9);r[t++]=0;for(var Yr=0,ra=At.length;Yr<ra;Yr++){var Ua=r[--t];r[t++]=S(c(At,Yr)-48+Ua*10)}var ca=r[--t];r[t++]=ca>>>24,r[t++]=ca>>>18&63,r[t++]=ca>>>12&63,r[t++]=ca>>>6&63,r[t++]=ca&63},e.enc_sha2=function(){r[t++]=c(e.seta,e.c),r[t++]=c(e.seta,c(e.msg,e.n+1))},e.enc_sha3=function(){r[t++]=c(e.seta,e.c),r[t++]=c(e.seta,c(e.msg,e.n+1)),r[t++]=c(e.seta,c(e.msg,e.n+2))},r[t++]=1/0,e.havei){var st=new Map([["can",function(){r[t++]=e.c<=-1e6}],["intake",1],["output",function(){e.out_eci()}],["sets",31],["enc",function(){r[t++]=27,e.enc_eci()}]]);r[t++]=st}var at=new Map([["can",function(){r[t++]=e.digits>=9}],["intake",9],["output",function(){r[t++]=6}],["sets",31],["enc",function(){r[t++]=31,e.enc_ns()}]]),Ee=new Map([["can",function(){var At=c(e.seta,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",1],["enc",function(){r[t++]=c(e.seta,e.c)}]]);if(r[t++]=at,r[t++]=Ee,e.haveb){var Ve=new Map([["can",function(){var At=c(e.setb,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",2],["enc",function(){r[t++]=c(e.setb,e.c)}]]);r[t++]=Ve}if(e.havec){var Ye=new Map([["can",function(){var At=c(e.setc,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",4],["enc",function(){r[t++]=c(e.setc,e.c)}]]);r[t++]=Ye}if(e.haved){var et=new Map([["can",function(){var At=c(e.setd,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",8],["enc",function(){r[t++]=c(e.setd,e.c)}]]);r[t++]=et}if(e.havee){var ht=new Map([["can",function(){var At=c(e.sete,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=1}],["sets",16],["enc",function(){r[t++]=c(e.sete,e.c)}]]);r[t++]=ht}var pt=new Map([["can",function(){r[t++]=e.num_a>=1}],["intake",1],["output",function(){r[t++]=2}],["sets",2],["enc",function(){r[t++]=59,r[t++]=c(e.seta,e.c)}]]),ft=new Map([["can",function(){r[t++]=e.num_a>=2}],["intake",2],["output",function(){r[t++]=3}],["sets",2],["enc",function(){r[t++]=56,e.enc_sha2()}]]),gt=new Map([["can",function(){r[t++]=e.num_a>=3}],["intake",3],["output",function(){r[t++]=4}],["sets",2],["enc",function(){r[t++]=57,e.enc_sha3()}]]);if(r[t++]=pt,r[t++]=ft,r[t++]=gt,e.haveb){var nt=new Map([["can",function(){var At=c(e.setb,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",1],["enc",function(){r[t++]=59,r[t++]=c(e.setb,e.c)}]]);r[t++]=nt}if(e.havec){var Tt=new Map([["can",function(){var At=c(e.setc,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",27],["enc",function(){r[t++]=60,r[t++]=c(e.setc,e.c)}]]);r[t++]=Tt}if(e.haved){var tt=new Map([["can",function(){var At=c(e.setd,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",23],["enc",function(){r[t++]=61,r[t++]=c(e.setd,e.c)}]]);r[t++]=tt}if(e.havee){var Qt=new Map([["can",function(){var At=c(e.sete,e.c)!==void 0;r[t++]=At}],["intake",1],["output",function(){r[t++]=2}],["sets",15],["enc",function(){r[t++]=62,r[t++]=c(e.sete,e.c)}]]);r[t++]=Qt}e.op_tab=s();var Ht=e.op_tab;r[t++]=0;for(var Ot=0,sr=Ht.length;Ot<sr;Ot++){var Sr=r[--t];g(c(Ht,Ot),"idx",Sr),r[t++]=Sr+1}r[t-1]=1/0;for(var nr=s([1,2,4,8,16]),gr=0,ar=nr.length;gr<ar;gr++){e.n=c(nr,gr),r[t++]=1/0;for(var Ir=e.op_tab,Zt=0,dr=Ir.length;Zt<dr;Zt++){var Kt=c(Ir,Zt);r[t++]=Kt,ho(c(Kt,"sets"),e.n)==0&&t--}var Jt=s();r[t++]=Jt}e.code_set_operations=s(),e.get_best_length=function(){e.latch_length_s=c(e.latch_length,e.state),r[t++]=e.max_int,ge(c(e.code_set_operations,e.state),function(){if(e.op=r[--t],c(e.op,"can")()===!0)return!0;if(r[--t]){if(e.m=S(e.n-c(e.op,"intake"))&15,e.org=c(c(e.best_origin,e.m),e.state),r[t++]=S(c(c(e.best_length,e.m),e.org)+c(e.latch_length_s,e.org)),c(e.op,"output")()===!0)return!0;var At=r[--t],Yr=r[--t],ra=r[t-1];if(r[t++]=S(Yr+At),ra>S(Yr+At)){var Ua=r[--t],ca=r[--t];g(e.path_op_0,e.state,c(e.op,"idx")),g(e.prior_code_set_0,e.state,e.org),r[t++]=Ua,r[t++]=ca}t--}})},e.get_best_origin=function(){e.latch_length_s=c(e.latch_length,e.state),e.orglen=S(c(e.best_length_0,0)+c(e.latch_length_s,0));var At=e.priority_rest;r[t++]=0;for(var Yr=0,ra=At.length;Yr<ra;Yr++){e.p=c(At,Yr);var Ua=S(c(e.best_length_0,e.p)+c(e.latch_length_s,e.p));r[t++]=Ua,Ua<e.orglen?(e.orglen=r[--t],r[t-1]=e.p):t--}},e.digits=0,e.num_a=0;for(var ur=0,Tr=e.msglen-1;ur<=Tr;ur+=1){e.n=ur,e.c=c(e.msg,e.n),r[t++]="digits",e.c>=48&&e.c<58?r[t++]=e.digits+1:r[t++]=0;var _r=r[--t];e[r[--t]]=_r;var ua=c(e.seta,e.c)!==void 0;r[t++]="num_a",ua?r[t++]=e.num_a+1:r[t++]=0;var Ct=r[--t];e[r[--t]]=Ct,e.path_op_0=c(e.path_op,e.n),e.prior_code_set_0=c(e.prior_code_set,e.n),e.best_length_0=c(e.best_length,e.n&15),e.best_origin_0=c(e.best_origin,e.n&15);for(var qt=e.priority,tr=0,br=qt.length;tr<br;tr++){e.state=c(qt,tr),r[t++]=e.best_length_0,r[t++]=e.state,e.get_best_length();var ir=r[--t],Br=r[--t];g(r[--t],Br,ir)}for(var or=e.priority,Ut=0,yr=or.length;Ut<yr;Ut++){e.state=c(or,Ut),r[t++]=e.best_origin_0,r[t++]=e.state,e.get_best_origin();var ta=r[--t],fa=r[--t];g(r[--t],fa,ta)}}e.n=e.msglen;var wa=e.priority;r[t++]=0,r[t++]=e.max_int;for(var Lr=0,Ea=wa.length;Lr<Ea;Lr++){var ga=c(wa,Lr),Ra=c(e.best_length_0,ga),la=r[t-1];r[t++]=ga,r[t++]=Ra,mn(Ra,la)&&Na(4,2),t-=2}e.j=r[--t],e.state=r[--t],e.pad_code=s([33,33,0,0,28]),r[t++]="final_code_set",c(e.pad_code,e.state)==0?r[t++]=0:r[t++]=e.state;var Aa=r[--t];if(e[r[--t]]=Aa,c(e.pad_code,e.state)==0&&mn(e.j,e.maxlen)){var Ca=s(e.j+1);g(Ca,e.j,58),r[t++]=Ca}else r[t++]=s(e.j);for(e.padval=c(e.pad_code,e.final_code_set),e.len=e.j;!(e.n<=0||(e.pcs=c(c(e.prior_code_set,e.n-1),e.state),e.op_idx=c(c(e.path_op,e.n-1),e.state),e.op=c(e.op_tab,e.op_idx),e.n=S(e.n-c(e.op,"intake")),e.c=c(e.msg,e.n),e.enc=c(e.op,"enc"),r[t++]=1/0,e.enc()===!0));){e.output=s(),e.latch=c(c(e.latch_sequence,e.state),e.pcs),e.len=S(e.len-e.latch.length-e.output.length);var ka=r[--t],La=e.len,Qa=e.latch;M(ka,La,Qa),M(ka,S(La+Qa.length),e.output),e.state=e.pcs,r[t++]=ka}e.encmsg=r[--t]}r[t++]="sami",e.sam!=-1?r[t++]=s([c(e.seta,e.pad),(~~(e.sam/10)-1)*8+(e.sam%10-1)]):r[t++]=s([]);var Va=r[--t];if(e[r[--t]]=Va,r[t++]=1/0,O(e.sami),O(e.encmsg),e.encmsg=s(),e.mode==2||e.mode==3){e.encmsg.length>84&&(r[t++]="bwipp.maxicodeMode23TooLong#23176",r[t++]="The secondary message is too long",z());var ps=Fr(W(4),"0000"),Ia=$t(W(4),~~e.mode,2);M(ps,4-Ia.length,Ia),e.mdb=ps;var Bs=Fr(W(10),"0000000000"),Ha=$t(W(10),Fe(e.ccode),2);M(Bs,10-Ha.length,Ha),e.ccb=Bs;var Qs=Fr(W(10),"0000000000"),Ma=$t(W(10),Fe(e.scode),2);if(M(Qs,10-Ma.length,Ma),e.scb=Qs,e.pcb=Fr(W(36),"000000000000000000000000000000000000"),e.mode==2){if(Y(e.ccode,"840")&&e.pcode.length==5){var ms=Fr(W(9),"     0000");M(ms,0,e.pcode),e.pcode=ms}var Ds=$t(W(6),e.pcode.length,2);M(e.pcb,6-Ds.length,Ds);var Ts=$t(W(30),Fe(e.pcode),2);M(e.pcb,36-Ts.length,Ts)}else{r[t++]=1/0;var Ka=Fr(W(6),"      ");r[t++]=Ka,r[t++]=Ka,r[t++]=0,e.pcode.length>6?r[t++]=C(e.pcode,0,6):r[t++]=e.pcode;var Hs=r[--t],Wa=r[--t];M(r[--t],Wa,Hs),ge(r[--t],function(){var At=c(e.seta,r[--t]);r[t++]=At}),e.pccw=s();for(var xs=0;xs<=5;xs+=1){e.i=xs;var Fa=$t(W(6),c(e.pccw,e.i),2);M(e.pcb,6*e.i+6-Fa.length,Fa)}}e.scm=W(60),M(e.scm,2,e.mdb),M(e.scm,38,C(e.pcb,0,4)),M(e.scm,30,C(e.pcb,4,6)),M(e.scm,24,C(e.pcb,10,6)),M(e.scm,18,C(e.pcb,16,6)),M(e.scm,12,C(e.pcb,22,6)),M(e.scm,6,C(e.pcb,28,6)),M(e.scm,0,C(e.pcb,34,2)),M(e.scm,52,C(e.ccb,0,2)),M(e.scm,42,C(e.ccb,2,6)),M(e.scm,36,C(e.ccb,8,2)),M(e.scm,54,C(e.scb,0,6)),M(e.scm,48,C(e.scb,6,4)),e.pri=s([0,0,0,0,0,0,0,0,0,0]);for(var vn=0;vn<=59;vn+=1)e.i=vn,e.ps=~~(e.i/6),e.ep=~~li(2,5-e.i%6)*(c(e.scm,e.i)-48),g(e.pri,e.ps,S(c(e.pri,e.ps)+e.ep));r[t++]=1/0;for(var $a=0;$a<84;$a++)r[t++]=e.padval;e.sec=s(),M(e.sec,0,e.encmsg)}if(e.mode==4||e.mode==5||e.mode==6||e.mode==-1){if(e.mode==-1){var In=e.encmsg.length<=77?5:4;e.mode=In}r[t++]=1/0;for(var Ba=e.mode==5?78:94,Xs=0,_a=Ba;Xs<_a;Xs++)r[t++]=e.padval;e.cws=s(),e.encmsg.length>e.cws.length-1&&(r[t++]="bwipp.maxicodeMode56TooLong#23243",r[t++]="The message is too long",z()),g(e.cws,0,e.mode),M(e.cws,1,e.encmsg),e.pri=C(e.cws,0,10),e.sec=C(e.cws,10,e.cws.length-10)}r[t++]=1/0,r[t++]=1;for(var rn=0;rn<63;rn++){var is=r[t-1],Xt=is*2;if(r[t++]=Xt,Xt>=64){var Xr=r[--t];r[t++]=Xr^67}}e.rsalog=s(),e.rslog=s(64);for(var ja=1;ja<=63;ja+=1)g(e.rslog,c(e.rsalog,ja),ja);e.rsprod=function(){var At=r[t-1],Yr=r[t-2];if(At!=0&&Yr!=0){var ra=c(e.rslog,r[--t]),Ua=c(e.rsalog,S(ra+c(e.rslog,r[--t]))%63);r[t++]=Ua}else t-=2,r[t++]=0},e.rscodes=function(){e.rsnum=r[--t],e.cwb=r[--t],r[t++]=1/0,r[t++]=1;for(var At=0,Yr=e.rsnum;At<Yr;At++)r[t++]=0;e.coeffs=s();for(var ra=1,Ua=e.rsnum;ra<=Ua;ra+=1){e.i=ra,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var ca=e.i-1;ca>=1;ca-=1){e.j=ca,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Xa=r[--t],ys=r[--t],gn=r[--t];g(r[--t],gn,fs(ys,Xa))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var ct=r[--t],Nt=r[--t];g(r[--t],Nt,ct)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1),r[t++]=1/0;for(var hr=0,lr=e.rsnum;hr<lr;hr++)r[t++]=0;e.ecb=s();for(var fr=0,Rr=e.cwb.length-1;fr<=Rr;fr+=1){e.t=fs(c(e.cwb,fr),c(e.ecb,0));for(var cr=e.ecb.length-1;cr>=0;cr-=1){e.i=cr,e.p=e.ecb.length-e.i-1,r[t++]=e.ecb,r[t++]=e.p,r[t++]=e.t,r[t++]=c(e.coeffs,e.i),e.rsprod();var aa=r[--t],Hr=r[--t];g(r[--t],Hr,aa),e.i>0&&g(e.ecb,e.p,fs(c(e.ecb,e.p+1),c(e.ecb,e.p)))}}r[t++]=e.ecb},r[t++]=1/0;for(var Pa=0,vs=e.sec.length-1;Pa<=vs;Pa+=2)r[t++]=c(e.sec,Pa);e.seco=s(),r[t++]=1/0;for(var Qr=1,os=e.sec.length-1;Qr<=os;Qr+=2)r[t++]=c(e.sec,Qr);e.sece=s();var gs=e.sec.length==84?20:28;e.scodes=gs,r[t++]="secochk",r[t++]=e.seco,r[t++]=e.scodes,e.rscodes();var Oa=r[--t];e[r[--t]]=Oa,r[t++]="secechk",r[t++]=e.sece,r[t++]=e.scodes,e.rscodes();var Bn=r[--t];e[r[--t]]=Bn,r[t++]=1/0;for(var Da=0,ui=e.scodes-1;Da<=ui;Da+=1)r[t++]=c(e.secochk,Da),r[t++]=c(e.secechk,Da);e.secchk=s(),r[t++]=1/0,O(e.pri),r[t++]=e.pri,r[t++]=10,e.rscodes(),O(r[--t]),O(e.sec),O(e.secchk),e.codewords=s();var $s=c(e.options,"debugcws")!==void 0;$s&&(r[t++]="bwipp.debugcws#23325",r[t++]=e.codewords,z()),r[t++]=1/0;for(var Ta=0;Ta<864;Ta++)r[t++]=0;e.mods=s();for(var Dn=0;Dn<=143;Dn+=1){e.i=Dn,r[t++]=1/0;for(var Ja=$t(W(6),c(e.codewords,e.i),2),Tn=0,bs=Ja.length;Tn<bs;Tn++)r[t++]=c(Ja,Tn)-48;e.cw=s(),M(e.mods,6*e.i+(6-e.cw.length),e.cw)}e.modmap=s([469,529,286,316,347,346,673,672,703,702,647,676,283,282,313,312,370,610,618,379,378,409,408,439,705,704,559,589,588,619,458,518,640,701,675,674,285,284,315,314,310,340,531,289,288,319,349,348,456,486,517,516,471,470,369,368,399,398,429,428,549,548,579,578,609,608,649,648,679,678,709,708,639,638,669,668,699,698,279,278,309,308,339,338,381,380,411,410,441,440,561,560,591,590,621,620,547,546,577,576,607,606,367,366,397,396,427,426,291,290,321,320,351,350,651,650,681,680,711,710,1,0,31,30,61,60,3,2,33,32,63,62,5,4,35,34,65,64,7,6,37,36,67,66,9,8,39,38,69,68,11,10,41,40,71,70,13,12,43,42,73,72,15,14,45,44,75,74,17,16,47,46,77,76,19,18,49,48,79,78,21,20,51,50,81,80,23,22,53,52,83,82,25,24,55,54,85,84,27,26,57,56,87,86,117,116,147,146,177,176,115,114,145,144,175,174,113,112,143,142,173,172,111,110,141,140,171,170,109,108,139,138,169,168,107,106,137,136,167,166,105,104,135,134,165,164,103,102,133,132,163,162,101,100,131,130,161,160,99,98,129,128,159,158,97,96,127,126,157,156,95,94,125,124,155,154,93,92,123,122,153,152,91,90,121,120,151,150,181,180,211,210,241,240,183,182,213,212,243,242,185,184,215,214,245,244,187,186,217,216,247,246,189,188,219,218,249,248,191,190,221,220,251,250,193,192,223,222,253,252,195,194,225,224,255,254,197,196,227,226,257,256,199,198,229,228,259,258,201,200,231,230,261,260,203,202,233,232,263,262,205,204,235,234,265,264,207,206,237,236,267,266,297,296,327,326,357,356,295,294,325,324,355,354,293,292,323,322,353,352,277,276,307,306,337,336,275,274,305,304,335,334,273,272,303,302,333,332,271,270,301,300,331,330,361,360,391,390,421,420,363,362,393,392,423,422,365,364,395,394,425,424,383,382,413,412,443,442,385,384,415,414,445,444,387,386,417,416,447,446,477,476,507,506,537,536,475,474,505,504,535,534,473,472,503,502,533,532,455,454,485,484,515,514,453,452,483,482,513,512,451,450,481,480,511,510,541,540,571,570,601,600,543,542,573,572,603,602,545,544,575,574,605,604,563,562,593,592,623,622,565,564,595,594,625,624,567,566,597,596,627,626,657,656,687,686,717,716,655,654,685,684,715,714,653,652,683,682,713,712,637,636,667,666,697,696,635,634,665,664,695,694,633,632,663,662,693,692,631,630,661,660,691,690,721,720,751,750,781,780,723,722,753,752,783,782,725,724,755,754,785,784,727,726,757,756,787,786,729,728,759,758,789,788,731,730,761,760,791,790,733,732,763,762,793,792,735,734,765,764,795,794,737,736,767,766,797,796,739,738,769,768,799,798,741,740,771,770,801,800,743,742,773,772,803,802,745,744,775,774,805,804,747,746,777,776,807,806,837,836,867,866,897,896,835,834,865,864,895,894,833,832,863,862,893,892,831,830,861,860,891,890,829,828,859,858,889,888,827,826,857,856,887,886,825,824,855,854,885,884,823,822,853,852,883,882,821,820,851,850,881,880,819,818,849,848,879,878,817,816,847,846,877,876,815,814,845,844,875,874,813,812,843,842,873,872,811,810,841,840,871,870,901,900,931,930,961,960,903,902,933,932,963,962,905,904,935,934,965,964,907,906,937,936,967,966,909,908,939,938,969,968,911,910,941,940,971,970,913,912,943,942,973,972,915,914,945,944,975,974,917,916,947,946,977,976,919,918,949,948,979,978,921,920,951,950,981,980,923,922,953,952,983,982,925,924,955,954,985,984,927,926,957,956,987,986,58,89,88,118,149,148,178,209,208,238,269,268,298,329,328,358,389,388,418,449,448,478,509,508,538,569,568,598,629,628,658,689,688,718,749,748,778,809,808,838,869,868,898,929,928,958,989,988]),e.pixs=s(864),e.j=0;for(var an=0,sn=e.mods.length-1;an<=sn;an+=1)e.i=an,c(e.mods,e.i)==1&&(g(e.pixs,e.j,c(e.modmap,e.i)),e.j=e.j+1);r[t++]=1/0,O(C(e.pixs,0,e.j)),r[t++]=28,r[t++]=29,r[t++]=280,r[t++]=281,r[t++]=311,r[t++]=457,r[t++]=488,r[t++]=500,r[t++]=530,r[t++]=670,r[t++]=700,r[t++]=677,r[t++]=707,e.pixs=s();var Xn=new Map([["ren","renmaximatrix"],["pixs",e.pixs],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Xn,e.dontdraw||ZR(),e=a}function zu(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.format="full",e.readerinit=!1,e.layers=-1,e.eclevel=23,e.ecaddchars=3,e.raw=!1,e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.aztecEmptyData#23462",r[t++]="The data must not be empty",z()),(e.eclevel<5||e.eclevel>95)&&(r[t++]="bwipp.aztecInvalidEClevel#23466",r[t++]="The EC percentage must be from 5 to 95",z()),e.ecaddchars<3&&(r[t++]="bwipp.aztecInvalidECaddChars#23470",r[t++]="The number of additional EC codewords must be 3 or more",z()),Me(e.format,"full")&&Me(e.format,"compact")&&Me(e.format,"rune")&&(r[t++]="bwipp.aztecInvalidFormat#23474",r[t++]="The format must be either full, compact or rune",z()),Y(e.format,"full")&&(e.readerinit&&(e.layers<1||e.layers>22)&&(r[t++]="bwipp.aztecFullInitInvalidLayers#23479",r[t++]="Full-range symbols for reader programming must specify from 1 to 22 layers",z()),e.layers!=-1&&(e.layers<1||e.layers>32)&&(r[t++]="bwipp.aztecFullInvalidLayers#23482",r[t++]="Layers for full-range symbols must be from 1 to 32",z())),Y(e.format,"compact")&&(e.readerinit&&(e.layers!=-1&&e.layers!=1&&(r[t++]="bwipp.aztecCompactInitInvalidLayers#23489",r[t++]="Compact symbols for reader programming must have 1 layer",z()),e.layers=1),e.layers!=-1&&(e.layers<1||e.layers>4)&&(r[t++]="bwipp.aztecCompactInvalidLayers#23494",r[t++]="Layers for compact symbols must be from 1 to 4",z())),Y(e.format,"rune")){e.layers!=-1&&(r[t++]="bwipp.aztecRuneInvalidLayers#23500",r[t++]="It is not valid to specify layers for runes",z()),e.readerinit&&(r[t++]="bwipp.aztecRuneReaderInit#23503",r[t++]="Reader initialisation is not compactible with Aztec Runes",z()),e.barcode.length==0&&(r[t++]="bwipp.aztecRuneNotNumeric#23506",r[t++]="Aztec runes must be numeric",z()),ge(e.barcode,function(){var ue=r[--t];(ue<48||ue>57)&&(r[t++]="bwipp.aztecRuneNotNumeric#23510",r[t++]="Aztec runes must be numeric",z())});var n=Fe(e.barcode);(n<0||n>255)&&(r[t++]="bwipp.aztecRuneInvalid#23514",r[t++]="Aztec runes must be 0 to 255",z())}e.fn1=-1;var i=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1]]);e.fncvals=i,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var o=r[--t];e[r[--t]]=o,e.msglen=e.msg.length,e.U=0,e.L=1,e.M=2,e.P=3,e.D=4,e.B=5,e.lu=-2,e.ll=-3,e.lm=-4,e.lp=-5,e.ld=-6,e.su=-7,e.sp=-8,e.sb=-9,e.fl=-10,e.p2=-11,e.p3=-12,e.p4=-13,e.p5=-14,e.charmaps=s([s([e.sp,e.sp,e.sp,e.fl,e.sp]),s([32,32,32,13,32]),s(["A","a",1,e.p2,"0"]),s(["B","b",2,e.p3,"1"]),s(["C","c",3,e.p4,"2"]),s(["D","d",4,e.p5,"3"]),s(["E","e",5,"!","4"]),s(["F","f",6,'"',"5"]),s(["G","g",7,"#","6"]),s(["H","h",8,"$","7"]),s(["I","i",9,"%","8"]),s(["J","j",10,"&","9"]),s(["K","k",11,"'",","]),s(["L","l",12,40,"."]),s(["M","m",13,41,e.lu]),s(["N","n",27,"*",e.su]),s(["O","o",28,"+",-99]),s(["P","p",29,",",-99]),s(["Q","q",30,"-",-99]),s(["R","r",31,".",-99]),s(["S","s","@","/",-99]),s(["T","t",92,":",-99]),s(["U","u","^",";",-99]),s(["V","v","_","<",-99]),s(["W","w","`","=",-99]),s(["X","x","|",">",-99]),s(["Y","y","~","?",-99]),s(["Z","z",127,"[",-99]),s([e.ll,e.su,e.ll,"]",-99]),s([e.lm,e.lm,e.lu,"{",-99]),s([e.ld,e.ld,e.lp,"}",-99]),s([e.sb,e.sb,e.sb,e.lu,-99])]),e.charvals=s([new Map,new Map,new Map,new Map,new Map]);for(var d=0,u=e.charmaps.length-1;d<=u;d+=1){e.i=d,e.encs=c(e.charmaps,e.i);for(var f=0;f<=4;f+=1){e.j=f;var h=c(e.encs,e.j);if(r[t++]=h,Y(tn(h),"stringtype")){var p=c(r[--t],0);r[t++]=p}g(c(e.charvals,e.j),r[--t],e.i)}}var m=new Map([[`\r
`,e.p2],[". ",e.p3],[", ",e.p4],[": ",e.p5]]);if(e.pcomp=m,e.e=1e6,e.latlen=s([s([0,5,5,10,5,10]),s([9,0,5,10,5,10]),s([5,5,0,5,10,10]),s([5,10,10,0,10,15]),s([4,9,9,14,0,14]),s([0,0,0,0,0,0])]),e.latseq=s([s([s([]),s([e.ll]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.ld,e.lu]),s([]),s([e.lm]),s([e.lm,e.lp]),s([e.ld]),s([e.sb])]),s([s([e.lu]),s([e.ll]),s([]),s([e.lp]),s([e.lu,e.ld]),s([e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([]),s([e.lu,e.ld]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.lu,e.ll]),s([e.lu,e.lm]),s([e.lu,e.lm,e.lp]),s([]),s([e.lu,e.sb])]),s([s([e.lu]),s([e.ll]),s([e.lm]),s([]),s([]),s([])])]),e.shftlen=s([s([e.e,e.e,e.e,5,e.e]),s([5,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,5,e.e]),s([e.e,e.e,e.e,e.e,e.e]),s([4,e.e,e.e,4,e.e])]),e.msgbits="",Me(e.format,"rune")&&e.raw&&(e.msgbits=e.barcode),Me(e.format,"rune")&&!e.raw){e.charsize=function(){var ue=r[t-1];if(ue>=0){t--;var be=c(s([5,5,5,5,4,8]),r[--t]);r[t++]=be}else{var re=r[--t];r[t-1]=re;var Se=r[t-1];if(Se==e.fn1)r[t-1]=8;else{var X=-r[--t]-1e6;r[t++]=X,X==0&&(r[t-1]=1);var ve=r[--t];r[t++]=(~~(hn(ve)/hn(10))+1)*4+8}}},e.curlen=s([0,e.e,e.e,e.e,e.e,e.e]),e.curseq=s([s([]),s([]),s([]),s([]),s([]),s([])]),e.backto=e.U,e.lastchar="",ge(e.msg,function(){for(e.char=r[--t];;){e.imp=!1;for(var ue=s([e.U,e.L,e.M,e.P,e.D,e.B]),be=0,re=ue.length;be<re;be++){e.x=c(ue,be);for(var Se=s([e.U,e.L,e.M,e.P,e.D,e.B]),X=0,ve=Se.length;X<ve;X++)if(e.y=c(Se,X),(e.x!=e.B||e.y==e.backto)&&(e.cost=S(c(e.curlen,e.x)+c(c(e.latlen,e.x),e.y)),e.cost<c(e.curlen,e.y))){g(e.curlen,e.y,e.cost),r[t++]=e.curseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.x)),O(c(c(e.latseq,e.x),e.y));var me=s(),je=r[--t];if(g(r[--t],je,me),e.y==e.B){r[t++]="backto",e.x==e.P||e.x==e.D?r[t++]=e.U:r[t++]=e.x;var le=r[--t];e[r[--t]]=le}e.imp=!0}}if(!e.imp)break}e.nxtlen=s([e.e,e.e,e.e,e.e,e.e,e.e]),e.nxtseq=s(6);for(var ye=s([e.U,e.L,e.M,e.P,e.D,e.B]),Ie=0,pe=ye.length;Ie<pe;Ie++)for(e.x=c(ye,Ie);;){if(e.char>=0){if(e.x!=e.B){var Ce=c(c(e.charvals,e.x),e.char)!==void 0;if(!Ce)break}}else if(e.x!=e.P)break;r[t++]="cost",r[t++]=c(e.curlen,e.x),r[t++]=e.x,r[t++]=e.char,e.charsize();var Ne=r[--t],Be=r[--t];if(e[r[--t]]=S(Be+Ne),e.cost<c(e.nxtlen,e.x)){g(e.nxtlen,e.x,e.cost),r[t++]=e.nxtseq,r[t++]=e.x,r[t++]=1/0,O(c(e.curseq,e.x)),r[t++]=e.char;var Ge=s(),He=r[--t];g(r[--t],He,Ge)}if(e.x==e.B)break;for(var Xe=s([e.U,e.L,e.M,e.P,e.D]),st=0,at=Xe.length;st<at;st++)if(e.y=c(Xe,st),Me(e.x,e.y)){r[t++]="cost",r[t++]=S(c(e.curlen,e.y)+c(c(e.shftlen,e.y),e.x)),r[t++]=e.x,r[t++]=e.char,e.charsize();var Ee=r[--t],Ve=r[--t];if(e[r[--t]]=S(Ve+Ee),e.cost<c(e.nxtlen,e.y)){g(e.nxtlen,e.y,e.cost),r[t++]=e.nxtseq,r[t++]=e.y,r[t++]=1/0,O(c(e.curseq,e.y));var Ye=e.x==e.U?e.su:e.sp;r[t++]=Ye,r[t++]=e.char;var et=s(),ht=r[--t];g(r[--t],ht,et)}}break}if(e.lastchar.length!=0&&e.char>=0){var pt=W(2);g(pt,0,e.lastchar),g(pt,1,e.char),e.pchars=pt;var ft=c(e.pcomp,e.pchars)!==void 0;if(ft){for(var gt=s([e.U,e.L,e.M,e.P,e.D]),nt=0,Tt=gt.length;nt<Tt;nt++)if(e.i=c(gt,nt),e.inP=!0,e.i==e.M?e.lastchar==13&&(e.inP=!1):e.i==e.D&&(e.lastchar==44||e.lastchar==46)&&(e.inP=!1),e.inP&&mn(c(e.curlen,e.i),c(e.nxtlen,e.i))){e.curseqi=c(e.curseq,e.i),e.lastld=!1,e.lastsp=!1,e.lastidx=-1;for(var tt=e.curseqi.length-1;tt>=0;tt-=1)if(e.idx=tt,e.ch=c(e.curseqi,e.idx),e.lastidx==-1)Y(e.ch,e.lastchar)&&(e.lastidx=e.idx,e.idx>0&&c(e.curseqi,e.idx-1)==e.sp&&(e.lastsp=!0));else{if(e.ch==e.sb){e.lastidx=-1;break}if(e.ch<0&&e.ch>=e.ld){e.i==e.P?e.ch==e.ld&&(e.lastld=!0):e.ch!=e.lp&&(e.inP=e.lastsp);break}}if(e.inP&&e.lastidx>=0)if(g(e.nxtlen,e.i,c(e.curlen,e.i)),e.lastidx<e.curseqi.length-1)if(e.i==e.P){e.lastld&&g(e.nxtlen,e.i,c(e.nxtlen,e.i)+1),r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi),Na(e.curseqi.length-e.lastidx,-1),r[t-1]=c(e.pcomp,e.pchars);var Qt=s(),Ht=r[--t];g(r[--t],Ht,Qt)}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi);var Ot=s(),sr=r[--t];g(r[--t],sr,Ot),g(c(e.nxtseq,e.i),e.lastidx,c(e.pcomp,e.pchars))}else{r[t++]=e.nxtseq,r[t++]=e.i,r[t++]=1/0,O(e.curseqi),r[t-1]=c(e.pcomp,e.pchars);var Sr=s(),nr=r[--t];g(r[--t],nr,Sr)}}}}Me(c(e.nxtseq,e.B),null)&&(e.numbytes=0,ge(c(e.nxtseq,e.B),function(){r[--t]==e.sb?r[t++]=0:r[t++]=e.numbytes+1,e.numbytes=r[--t]}),e.numbytes==32&&g(e.nxtlen,e.B,c(e.nxtlen,e.B)+11)),e.curlen=e.nxtlen,e.curseq=e.nxtseq,r[t++]="lastchar",e.char>=0?r[t++]=e.char:r[t++]="";var gr=r[--t];e[r[--t]]=gr}),e.minseq=e.e;for(var x=s([e.U,e.L,e.M,e.P,e.D,e.B]),b=0,y=x.length;b<y;b++)e.i=c(x,b),c(e.curlen,e.i)<e.minseq&&(e.minseq=c(e.curlen,e.i),e.seq=c(e.curseq,e.i));for(e.tobin=function(){var ue=W(r[--t]);r[t++]=ue;for(var be=0,re=ue.length-1;be<=re;be+=1){var Se=r[t-1];g(Se,be,48)}var X=r[t-1];r[t++]=X;var ve=r[t-3],me=r[t-1];r[t-3]=r[t-2],t-=2;var je=$t(W(me.length),ve,2);M(me,me.length-je.length,je)},e.encu=function(){var ue=c(c(e.charvals,e.U),r[--t]);r[t++]=ue,r[t++]=5,e.tobin()},e.encl=function(){var ue=c(c(e.charvals,e.L),r[--t]);r[t++]=ue,r[t++]=5,e.tobin()},e.encm=function(){var ue=c(c(e.charvals,e.M),r[--t]);r[t++]=ue,r[t++]=5,e.tobin()},e.encd=function(){var ue=c(c(e.charvals,e.D),r[--t]);r[t++]=ue,r[t++]=4,e.tobin()},e.encp=function(){var ue=r[t-1];if(ue==e.fn1)r[t-1]="00000000";else{var be=r[t-1];if(be<=-1e6){var re=-r[--t]-1e6;r[t++]=re,r[t++]=re,re==0&&(r[t-1]=1);var Se=~~(hn(r[--t])/hn(10)),X=W((Se+1)*4+8);M(X,0,"00000"),r[t++]=Se,r[t++]=X,r[t++]=X,r[t++]=Se+1,r[t++]=3,e.tobin();var ve=r[--t];if(M(r[--t],5,ve),Na(3,1),r[t++]=-1,r[t++]=0,t<3)throw"--stack-underflow--";t-=3;for(var me=r[t],je=r[t+1],le=r[t+2];je<0?me>=le:me<=le;me+=je){var ye=r[--t],Ie=r[t-1];r[t++]=~~(ye/10),r[t++]=Ie,r[t++]=me*4+8,r[t++]=ye%10+2,r[t++]=4,e.tobin();var pe=r[--t],Ce=r[--t];M(r[--t],Ce,pe)}t--}else{var Ne=c(c(e.charvals,e.P),r[--t]);r[t++]=Ne,r[t++]=5,e.tobin()}}},e.encfuncs=s(["encu","encl","encm","encp","encd"]),e.addtomsgbits=function(){e.v=r[--t],M(e.msgbits,e.j,e.v),e.j=e.j+e.v.length},e.state=e.U,e.msgbits=W(e.minseq),e.i=0,e.j=0;!(e.i>=e.seq.length);)if(e.state!=e.B){if(e.char=c(e.seq,e.i),r[t++]=e.char,e[c(e.encfuncs,e.state)]()===!0)break;e.addtomsgbits(),e.i=e.i+1,(e.char==e.su||e.char==e.sp)&&(r[t++]=c(e.seq,e.i),e.char==e.su?e.encu():e.encp(),e.addtomsgbits(),e.i=e.i+1),e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M),e.char==e.lp&&(e.state=e.P),e.char==e.ld&&(e.state=e.D),e.char==e.sb&&(e.state=e.B)}else{for(e.numbytes=0;!(e.i+e.numbytes>=e.seq.length||c(e.seq,e.i+e.numbytes)<0);)e.numbytes=e.numbytes+1;e.numbytes<=31?(r[t++]=e.numbytes,r[t++]=5,e.tobin(),e.addtomsgbits()):(r[t++]=0,r[t++]=5,e.tobin(),e.addtomsgbits(),r[t++]=e.numbytes-31,r[t++]=11,e.tobin(),e.addtomsgbits());for(var w=0,v=e.numbytes;w<v;w++)r[t++]=c(e.seq,e.i),r[t++]=8,e.tobin(),e.addtomsgbits(),e.i=e.i+1;e.i<e.seq.length&&(e.char=c(e.seq,e.i),e.i=e.i+1,e.char==e.lu&&(e.state=e.U),e.char==e.ll&&(e.state=e.L),e.char==e.lm&&(e.state=e.M))}e.msgbits=C(e.msgbits,0,e.j)}e.metrics=s([s(["rune",0,0,0,6]),s(["compact",1,1,17,6]),s(["full",1,1,21,6]),s(["compact",2,0,40,6]),s(["full",2,1,48,6]),s(["compact",3,0,51,8]),s(["full",3,1,60,8]),s(["compact",4,0,76,8]),s(["full",4,1,88,8]),s(["full",5,1,120,8]),s(["full",6,1,156,8]),s(["full",7,1,196,8]),s(["full",8,1,240,8]),s(["full",9,1,230,10]),s(["full",10,1,272,10]),s(["full",11,1,316,10]),s(["full",12,1,364,10]),s(["full",13,1,416,10]),s(["full",14,1,470,10]),s(["full",15,1,528,10]),s(["full",16,1,588,10]),s(["full",17,1,652,10]),s(["full",18,1,720,10]),s(["full",19,1,790,10]),s(["full",20,1,864,10]),s(["full",21,1,940,10]),s(["full",22,1,1020,10]),s(["full",23,0,920,12]),s(["full",24,0,992,12]),s(["full",25,0,1066,12]),s(["full",26,0,1144,12]),s(["full",27,0,1224,12]),s(["full",28,0,1306,12]),s(["full",29,0,1392,12]),s(["full",30,0,1480,12]),s(["full",31,0,1570,12]),s(["full",32,0,1664,12])]);for(var A=e.metrics,k=0,E=A.length;k<E&&(e.m=c(A,k),e.frmt=c(e.m,0),e.mlyr=c(e.m,1),e.icap=c(e.m,2),e.ncws=c(e.m,3),e.bpcw=c(e.m,4),e.numecw=~~xr(S(e.ncws*e.eclevel/100+e.ecaddchars)),e.msgbits.length==0&&(e.numecw=0),e.numdcw=S(e.ncws-e.numecw),e.okay=!0,Me(e.format,e.frmt)&&(e.okay=!1),e.readerinit&&e.icap!=1&&(e.okay=!1),e.layers!=-1&&e.layers!=e.mlyr&&(e.okay=!1),~~xr(e.msgbits.length/e.bpcw)>e.numdcw&&(e.okay=!1),!e.okay);k++);for(e.okay||(r[t++]="bwipp.aztecNoValidSymbol#23967",r[t++]="Maximum length exceeded",z()),e.layers=e.mlyr,e.allzero=function(){var ue=r[--t];r[t++]=Y(ue,C("000000000000",0,ue.length))},e.allones=function(){var ue=r[--t];r[t++]=Y(ue,C("111111111111",0,ue.length))},e.cws=s(e.ncws),e.m=0,e.c=0;!(e.msgbits.length<=e.m);){if(e.msgbits.length-e.m>=e.bpcw){e.cwb=C(e.msgbits,e.m,e.bpcw-1),e.cwf=C(e.msgbits,S(e.m+e.bpcw)-1,1),r[t++]=e.cwb,e.allzero(),r[--t]&&(e.cwf="1",e.m=e.m-1),r[t++]=e.cwb,e.allones(),r[--t]&&(e.cwf="0",e.m=e.m-1);var j=W(12);M(j,0,e.cwb),M(j,e.bpcw-1,e.cwf),e.cwb=C(j,0,e.bpcw)}else{e.cwb=C(e.msgbits,e.m,e.msgbits.length-e.m);var N=Fr(W(12),"111111111111");M(N,0,e.cwb),e.cwb=C(N,0,e.bpcw),r[t++]=e.cwb,e.allones(),r[--t]&&M(e.cwb,e.cwb.length-1,"0")}e.cw=0;for(var B=0,I=e.bpcw-1;B<=I;B+=1)e.i=B,e.cw=S(e.cw+~~li(2,S(e.bpcw-e.i)-1)*(c(e.cwb,e.i)-48));g(e.cws,e.c,e.cw),e.m=S(e.m+e.bpcw),e.c=e.c+1}e.cws=C(e.cws,0,e.c);var D=c(e.options,"debugcws")!==void 0;if(D&&(r[t++]="bwipp.debugcws#24006",r[t++]=e.cws,z()),e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var ue=0,be=e.rsgf-1;ue<be;ue++){var re=r[t-1],Se=re*2;if(r[t++]=Se,Se>=e.rsgf){var X=r[--t];r[t++]=fs(X,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var ve=1,me=e.rsgf-1;ve<=me;ve+=1)g(e.rslog,c(e.rsalog,ve),ve);e.rsprod=function(){var ft=r[t-1],gt=r[t-2];if(ft!=0&&gt!=0){var nt=c(e.rslog,r[--t]),Tt=c(e.rsalog,S(nt+c(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=Tt}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var je=0,le=e.rsnc;je<le;je++)r[t++]=0;e.coeffs=s();for(var ye=1,Ie=e.rsnc;ye<=Ie;ye+=1){e.i=ye,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var pe=e.i-1;pe>=1;pe-=1){e.j=pe,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ce=r[--t],Ne=r[--t],Be=r[--t];g(r[--t],Be,fs(Ne,Ce))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ge=r[--t],He=r[--t];g(r[--t],He,Ge)}e.nd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Xe=0,st=e.rsnc;Xe<st;Xe++)r[t++]=0;r[t++]=0,e.rscws=s();for(var at=0,Ee=e.nd-1;at<=Ee;at+=1){e.k=fs(c(e.rscws,at),c(e.rscws,e.nd));for(var Ve=0,Ye=e.rsnc-1;Ve<=Ye;Ve+=1){e.j=Ve,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=c(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=c(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var et=r[--t],ht=r[--t],pt=r[--t];g(r[--t],pt,fs(ht,et))}}r[t++]=C(e.rscws,0,e.rscws.length-1)},Y(e.format,"full")){e.mode=(e.layers-1<<11)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|1024),e.mode=s([(e.mode&61440)>>>12,(e.mode&3840)>>>8,(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=6,r[t++]=16,r[t++]=19,e.rscodes();var T=r[--t];e[r[--t]]=T}if(Y(e.format,"compact")){e.mode=(e.layers-1<<6)+(e.cws.length-1),e.readerinit&&(e.mode=e.mode|32),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var R=r[--t];e[r[--t]]=R}if(Y(e.format,"rune")){e.mode=Fe(e.barcode),e.mode=s([(e.mode&240)>>>4,e.mode&15]),r[t++]="mode",r[t++]=e.mode,r[t++]=5,r[t++]=16,r[t++]=19,e.rscodes();var $=r[--t];e[r[--t]]=$,r[t++]=1/0;for(var F=e.mode,_=0,Q=F.length;_<Q;_++)r[t++]=c(F,_)^10;e.mode=s()}e.modebits=W(e.mode.length*4);for(var H=0,J=e.modebits.length-1;H<=J;H+=1)M(e.modebits,H,"0");for(var K=0,he=e.mode.length-1;K<=he;K+=1){e.i=K;var G=$t(W(4),c(e.mode,e.i),2);M(e.modebits,4-G.length+4*e.i,G)}e.rsparams=s([s([]),s([]),s([]),s([]),s([]),s([]),s([64,67]),s([]),s([256,301]),s([]),s([1024,1033]),s([]),s([4096,4201])]),r[t++]="cws",r[t++]=e.cws,r[t++]=S(e.ncws-e.cws.length),O(c(e.rsparams,e.bpcw)),e.rscodes();var L=r[--t];e[r[--t]]=L,Y(e.format,"full")?e.databits=W(S(e.layers*e.layers*16+e.layers*112)):e.databits=W(S(e.layers*e.layers*16+e.layers*88));for(var ce=0,fe=e.databits.length-1;ce<=fe;ce+=1)M(e.databits,ce,"0");for(var U=0,ee=e.ncws-1;U<=ee;U+=1){e.i=U;var se=$t(W(e.bpcw),c(e.cws,e.i),2);M(e.databits,S(e.bpcw-se.length+e.bpcw*e.i+(e.databits.length-e.ncws*e.bpcw)),se)}e.cmv=function(){var ue=r[--t],be=r[--t];r[t++]=S(be-ue*e.size+e.mid)},e.lmv=function(){e.lbit=r[--t],e.llyr=r[--t],e.lwid=S(e.fw+e.llyr*4),e.ldir=~~(~~(e.lbit/2)/e.lwid),e.ldir==0&&(r[t++]=S(-~~((e.lwid-1)/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==1&&(r[t++]=S(~~(e.fw/2)+e.llyr*2+e.lbit%2),r[t++]=S(~~((e.lwid-1)/2)-1-~~(e.lbit/2)%e.lwid),e.cmv()),e.ldir==2&&(r[t++]=-S(-~~(e.lwid/2)+1+~~(e.lbit/2)%e.lwid),r[t++]=-S(~~(e.fw/2)+e.llyr*2+e.lbit%2),e.cmv()),e.ldir==3&&(r[t++]=-S(~~((e.fw-1)/2)+e.llyr*2+e.lbit%2),r[t++]=-S(~~(e.lwid/2)-1-~~(e.lbit/2)%e.lwid),e.cmv())},Y(e.format,"full")?e.fw=12:e.fw=9,e.size=S(e.fw+e.layers*4)+2,r[t++]=1/0;for(var de=0,ke=e.size*e.size;de<ke;de++)r[t++]=-1;e.pixs=s(),e.mid=S(~~((e.size-1)/2)*e.size+~~((e.size-1)/2)),e.i=0;for(var ae=1,De=e.layers;ae<=De;ae+=1){e.layer=ae;for(var we=0,Ae=(e.fw+e.layer*4)*8-1;we<=Ae;we+=1){e.pos=we,r[t++]=e.pixs,r[t++]=e.layer,r[t++]=e.pos,e.lmv();var Le=r[--t];g(r[--t],Le,c(e.databits,e.databits.length-e.i-1)-48),e.i=e.i+1}}if(Y(e.format,"full")){e.fw=13,e.size=S(e.fw+e.layers*4+2+~~((e.layers+10.5)/7.5-1)*2),e.mid=~~(e.size*e.size/2),r[t++]=1/0;for(var xe=0,Oe=e.size*e.size;xe<Oe;xe++)r[t++]=-2;e.npixs=s();for(var Te=0,Pe=~~(e.size/2);Te<=Pe;Te+=16){e.i=Te;for(var Ue=0,Ze=e.size-1;Ue<=Ze;Ue+=1){e.j=Ue,r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=e.i,e.cmv();var te=r[--t];M(r[--t],te,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-~~(e.size/2)+e.j,r[t++]=-e.i,e.cmv();var oe=r[--t];M(r[--t],oe,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var Re=r[--t];M(r[--t],Re,s([(~~(e.size/2)+e.j+e.i+1)%2])),r[t++]=e.npixs,r[t++]=-e.i,r[t++]=-~~(e.size/2)+e.j,e.cmv();var ze=r[--t];M(r[--t],ze,s([(~~(e.size/2)+e.j+e.i+1)%2]))}}e.j=0;for(var Je=0,Qe=e.npixs.length-1;Je<=Qe;Je+=1)e.i=Je,c(e.npixs,e.i)==-2&&(g(e.npixs,e.i,c(e.pixs,e.j)),e.j=e.j+1);e.pixs=e.npixs}e.fw=~~(e.fw/2);for(var qe=-e.fw,ut=e.fw;qe<=ut;qe+=1){e.i=qe;for(var mt=-e.fw,lt=e.fw;mt<=lt;mt+=1){e.j=mt,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.cmv(),Ko(e.i)>Ko(e.j)?r[t++]=Ko(e.i):r[t++]=Ko(e.j);var vt=r[--t],St=r[--t];g(r[--t],St,(vt+1)%2)}}for(var kt=s([s([-(e.fw+1),e.fw,1]),s([-(e.fw+1),e.fw+1,1]),s([-e.fw,e.fw+1,1]),s([e.fw+1,e.fw+1,1]),s([e.fw+1,e.fw,1]),s([e.fw+1,-e.fw,1]),s([e.fw,e.fw+1,0]),s([e.fw+1,-(e.fw+1),0]),s([e.fw,-(e.fw+1),0]),s([-e.fw,-(e.fw+1),0]),s([-(e.fw+1),-(e.fw+1),0]),s([-(e.fw+1),-e.fw,0])]),wt=0,Pt=kt.length;wt<Pt;wt++){r[t++]=e.pixs,O(c(kt,wt)),Na(3,1),e.cmv();var Mt=r[--t],Lt=r[--t];g(r[--t],Mt,Lt)}e.modemapfull=s([s([-5,7]),s([-4,7]),s([-3,7]),s([-2,7]),s([-1,7]),s([1,7]),s([2,7]),s([3,7]),s([4,7]),s([5,7]),s([7,5]),s([7,4]),s([7,3]),s([7,2]),s([7,1]),s([7,-1]),s([7,-2]),s([7,-3]),s([7,-4]),s([7,-5]),s([5,-7]),s([4,-7]),s([3,-7]),s([2,-7]),s([1,-7]),s([-1,-7]),s([-2,-7]),s([-3,-7]),s([-4,-7]),s([-5,-7]),s([-7,-5]),s([-7,-4]),s([-7,-3]),s([-7,-2]),s([-7,-1]),s([-7,1]),s([-7,2]),s([-7,3]),s([-7,4]),s([-7,5])]),e.modemapcompact=s([s([-3,5]),s([-2,5]),s([-1,5]),s([0,5]),s([1,5]),s([2,5]),s([3,5]),s([5,3]),s([5,2]),s([5,1]),s([5,0]),s([5,-1]),s([5,-2]),s([5,-3]),s([3,-5]),s([2,-5]),s([1,-5]),s([0,-5]),s([-1,-5]),s([-2,-5]),s([-3,-5]),s([-5,-3]),s([-5,-2]),s([-5,-1]),s([-5,0]),s([-5,1]),s([-5,2]),s([-5,3])]),r[t++]="modemap",Y(e.format,"full")?r[t++]=e.modemapfull:r[t++]=e.modemapcompact;var Dt=r[--t];e[r[--t]]=Dt;for(var jt=0,P=e.modemap.length-1;jt<=P;jt+=1){r[t++]=jt,r[t++]=e.pixs,O(c(e.modemap,jt)),e.cmv();var V=r[--t],q=r[--t];g(q,V,c(e.modebits,r[--t])-48)}var ne=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["opt",e.options]]);r[t++]=ne,e.dontdraw||xt(),e=a}function bR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","compact"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zu();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function yR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],g(e.options,"dontdraw",!0),g(e.options,"format","rune"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zu();var n=r[--t];e[r[--t]]=n,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function wR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.parse=!1,e.parsefnc=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=s(["unset","T-16","T-32","T-48","S-10","S-20","S-30","A","B","C","D","E","F","G","H"]);r[t++]=!1;for(var i=0,o=n.length;i<o;i++){var d=r[--t];r[t++]=d||Y(c(n,i),e.version)}r[--t]||(r[t++]="bwipp.codeoneBadVersion#24394",r[t++]="version must be A to H, T-16, T-32, T-48, S-10, S-20 or S-30",z()),e.stype=Y(C(e.version,0,1),"S"),e.ttype=Y(C(e.version,0,1),"T"),e.stypevals=s(["1","1010","1100100","1111101000","10011100010000","11000011010100000","11110100001001000000","100110001001011010000000","101111101011110000100000000","111011100110101100101000000000","1001010100000010111110010000000000","1011101001000011101101110100000000000","1110100011010100101001010001000000000000","10010001100001001110011100101010000000000000","10110101111001100010000011110100100000000000000","11100011010111111010100100110001101000000000000000","100011100001101111001001101111110000010000000000000000","101100011010001010111100001011101100010100000000000000000"]),e.stypemetrics=s([s(["S-10",8,11,10,4,4,1,99,99,99]),s(["S-20",8,21,20,8,8,1,99,99,99]),s(["S-30",8,31,30,12,12,1,99,99,99])]),e.nonstypemetrics=s([s(["A",16,18,16,10,10,1,4,99,6]),s(["B",22,22,20,19,16,1,4,99,8]),s(["C",28,32,28,44,26,1,4,22,11]),s(["D",40,42,36,91,44,1,4,16,16]),s(["E",52,54,48,182,70,1,4,22,22]),s(["F",70,76,68,370,140,2,4,22,31]),s(["G",104,98,88,732,280,4,6,21,47]),s(["H",148,134,120,1480,560,8,6,20,69]),s(["T-16",16,17,16,10,10,1,99,99,99]),s(["T-32",16,33,32,24,16,1,99,99,99]),s(["T-48",16,49,48,38,22,1,99,99,99])]),e.fnc1=-1,e.fnc3=-2,e.lC=-5,e.lB=-6,e.lX=-7,e.lT=-8,e.lD=-9,e.unl=-10,e.fnc2=-11,e.fnc4=-12,e.sft1=-13,e.sft2=-14,e.sft3=-15,e.eci=-16,e.pad=-17,e.fnc1lD=-18,e.unlcw=255,r[t++]=1/0;for(var u=0;u<=128;u+=1)r[t++]=u,r[t++]=u+1;r[t++]=e.pad,r[t++]=129;for(var f=0;f<=99;f+=1){var h=$t(W(2),f,10),p=Fr(W(2),"00");M(p,2-h.length,h),r[t++]=p,r[t++]=f+130}var m=s([e.lC,e.lB,e.fnc1,e.fnc2,e.fnc3,e.fnc4,e.fnc1lD]);r[t++]=229;for(var x=0,b=m.length;x<b;x++){var y=r[--t]+1;r[t++]=c(m,x),r[t++]=y,r[t++]=y}r[t-1]=e.lX,r[t++]=238,r[t++]=e.lT,r[t++]=239,e.Avals=$e(),r[t++]=1/0;for(var w=e.Avals,v=w.size,A=w.keys(),k=0;k<v;k++){var E=A.next().value;r[t++]=E;var j=1/0,N=w.get(E);r[t++]=j,r[t++]=N;var B=s();r[t++]=B}e.Avals=$e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var I=48;I<=57;I+=1)r[t++]=I,r[t++]=I-44;for(var D=65;D<=90;D+=1)r[t++]=D,r[t++]=D-51;e.CNvals=$e(),r[t++]=1/0;for(var T=0;T<=31;T+=1)r[t++]=T,r[t++]=T;e.C1vals=$e(),r[t++]=1/0;for(var R=33;R<=47;R+=1)r[t++]=R,r[t++]=R-33;for(var $=58;$<=64;$+=1)r[t++]=$,r[t++]=$-43;for(var F=91;F<=95;F+=1)r[t++]=F,r[t++]=F-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.C2vals=$e(),r[t++]=1/0;for(var _=96;_<=127;_+=1)r[t++]=_,r[t++]=_-96;e.C3vals=$e(),r[t++]=1/0;for(var Q=e.CNvals,H=Q.size,J=Q.keys(),K=0;K<H;K++){var he=J.next().value;r[t++]=he;var G=1/0,L=Q.get(he);r[t++]=G,r[t++]=L;var ce=s();r[t++]=ce}for(var fe=e.C1vals,U=fe.size,ee=fe.keys(),se=0;se<U;se++){var de=ee.next().value;r[t++]=de;var ke=1/0,ae=fe.get(de);r[t++]=ke,r[t++]=c(e.CNvals,e.sft1),r[t++]=ae;var De=s();r[t++]=De}for(var we=e.C2vals,Ae=we.size,Le=we.keys(),xe=0;xe<Ae;xe++){var Oe=Le.next().value;r[t++]=Oe;var Te=1/0,Pe=we.get(Oe);r[t++]=Te,r[t++]=c(e.CNvals,e.sft2),r[t++]=Pe;var Ue=s();r[t++]=Ue}for(var Ze=e.C3vals,te=Ze.size,oe=Ze.keys(),Re=0;Re<te;Re++){var ze=oe.next().value;r[t++]=ze;var Je=1/0,Qe=Ze.get(ze);r[t++]=Je,r[t++]=c(e.CNvals,e.sft3),r[t++]=Qe;var qe=s();r[t++]=qe}e.Cvals=$e(),r[t++]=1/0,r[t++]=e.sft1,r[t++]=0,r[t++]=e.sft2,r[t++]=1,r[t++]=e.sft3,r[t++]=2,r[t++]=32,r[t++]=3;for(var ut=48;ut<=57;ut+=1)r[t++]=ut,r[t++]=ut-44;for(var mt=97;mt<=122;mt+=1)r[t++]=mt,r[t++]=mt-83;e.TNvals=$e(),r[t++]=1/0;for(var lt=0;lt<=31;lt+=1)r[t++]=lt,r[t++]=lt;e.T1vals=$e(),r[t++]=1/0;for(var vt=33;vt<=47;vt+=1)r[t++]=vt,r[t++]=vt-33;for(var St=58;St<=64;St+=1)r[t++]=St,r[t++]=St-43;for(var kt=91;kt<=95;kt+=1)r[t++]=kt,r[t++]=kt-69;r[t++]=e.fnc1,r[t++]=27,r[t++]=e.fnc2,r[t++]=28,r[t++]=e.fnc3,r[t++]=29,r[t++]=e.fnc4,r[t++]=30,r[t++]=e.pad,r[t++]=31,e.T2vals=$e(),r[t++]=1/0,r[t++]=96,r[t++]=0;for(var wt=65;wt<=90;wt+=1)r[t++]=wt,r[t++]=wt-64;for(var Pt=123;Pt<=127;Pt+=1)r[t++]=Pt,r[t++]=Pt-96;e.T3vals=$e(),r[t++]=1/0;for(var Mt=e.TNvals,Lt=Mt.size,Dt=Mt.keys(),jt=0;jt<Lt;jt++){var P=Dt.next().value;r[t++]=P;var V=1/0,q=Mt.get(P);r[t++]=V,r[t++]=q;var ne=s();r[t++]=ne}for(var ue=e.T1vals,be=ue.size,re=ue.keys(),Se=0;Se<be;Se++){var X=re.next().value;r[t++]=X;var ve=1/0,me=ue.get(X);r[t++]=ve,r[t++]=c(e.TNvals,e.sft1),r[t++]=me;var je=s();r[t++]=je}for(var le=e.T2vals,ye=le.size,Ie=le.keys(),pe=0;pe<ye;pe++){var Ce=Ie.next().value;r[t++]=Ce;var Ne=1/0,Be=le.get(Ce);r[t++]=Ne,r[t++]=c(e.TNvals,e.sft2),r[t++]=Be;var Ge=s();r[t++]=Ge}for(var He=e.T3vals,Xe=He.size,st=He.keys(),at=0;at<Xe;at++){var Ee=st.next().value;r[t++]=Ee;var Ve=1/0,Ye=He.get(Ee);r[t++]=Ve,r[t++]=c(e.TNvals,e.sft3),r[t++]=Ye;var et=s();r[t++]=et}e.Tvals=$e();for(var ht=128;ht<=255;ht+=1){e.i=ht,r[t++]=e.Avals,r[t++]=e.i,r[t++]=1/0,O(c(e.Avals,e.fnc4)),O(c(e.Avals,e.i-128));var pt=s(),ft=r[--t];g(r[--t],ft,pt),r[t++]=e.Cvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Cvals,e.fnc4)),O(c(e.Cvals,e.i-128));var gt=s(),nt=r[--t];g(r[--t],nt,gt),r[t++]=e.Tvals,r[t++]=e.i,r[t++]=1/0,O(c(e.Tvals,e.fnc4)),O(c(e.Tvals,e.i-128));var Tt=s(),tt=r[--t];g(r[--t],tt,Tt)}r[t++]=1/0,r[t++]=13,r[t++]=0,r[t++]=42,r[t++]=1,r[t++]=62,r[t++]=2,r[t++]=32,r[t++]=3;for(var Qt=48;Qt<=57;Qt+=1)r[t++]=Qt,r[t++]=Qt-44;for(var Ht=65;Ht<=90;Ht+=1)r[t++]=Ht,r[t++]=Ht-51;e.Xvals=$e(),r[t++]=1/0;for(var Ot=e.Xvals,sr=Ot.size,Sr=Ot.keys(),nr=0;nr<sr;nr++){var gr=Sr.next().value;r[t++]=gr;var ar=1/0,Ir=Ot.get(gr);r[t++]=ar,r[t++]=Ir;var Zt=s();r[t++]=Zt}e.Xvals=$e(),r[t++]=1/0;for(var dr=0;dr<=255;dr+=1)r[t++]=dr,r[t++]=dr;e.Bvals=$e(),r[t++]=1/0;for(var Kt=e.Bvals,Jt=Kt.size,ur=Kt.keys(),Tr=0;Tr<Jt;Tr++){var _r=ur.next().value;r[t++]=_r;var ua=1/0,Ct=Kt.get(_r);r[t++]=ua,r[t++]=Ct;var qt=s();r[t++]=qt}if(e.Bvals=$e(),e.encvals=s([e.Avals,e.Cvals,e.Tvals,e.Xvals,-1,e.Bvals]),e.A=0,e.C=1,e.T=2,e.X=3,e.D=4,e.B=5,e.stype){ge(e.barcode,function(){var dt=r[--t];(dt<48||dt>57)&&(r[t++]="bwipp.codeoneStypeNonDigit#24564",r[t++]="S-Type symbols can only contain digits",z())}),e.barlen=e.barcode.length,e.barlen>18&&(r[t++]="bwipp.codeoneStypeTooLong#24570",r[t++]="Maximum length exceeded",z()),e.normalize=function(){e.base=r[--t],e.num=r[--t];for(var dt=e.num.length-1;dt>=1;dt-=1){e.i=dt;var Gt=e.num,Ur=e.i;g(Gt,Ur-1,S(c(Gt,Ur-1)+~~(c(e.num,e.i)/e.base))),g(e.num,e.i,c(e.num,e.i)%e.base)}for(;!mn(c(e.num,0),e.base);)r[t++]=1/0,r[t++]=0,O(e.num),e.num=s(),g(e.num,0,S(c(e.num,0)+~~(c(e.num,1)/e.base))),g(e.num,1,c(e.num,1)%e.base);r[t++]=1/0,e.i=!0;for(var it=e.num,Ft=0,Yt=it.length;Ft<Yt;Ft++){var Wt=c(it,Ft);r[t++]=Wt,Wt==0&&e.i?t--:e.i=!1}e.num=s(),e.num.length==0&&(e.num=s([0])),r[t++]=e.num},e.bigadd=function(){var dt=r[--t],Gt=r[--t];if(e.offset=Ko(dt.length-Gt.length),dt.length<Gt.length){var Ur=dt;dt=Gt,Gt=Ur}e.a=dt,e.b=Gt;for(var it=0,Ft=e.b.length-1;it<=Ft;it+=1){var Yt=e.a,Wt=e.offset;g(Yt,it+Wt,S(c(Yt,it+Wt)+c(e.b,it)))}r[t++]=e.a},e.barlen=e.barcode.length,e.v=s([1]);for(var tr=0,br=e.barlen-1;tr<=br;tr+=1){e.i=tr,r[t++]=1/0,ge(c(e.stypevals,e.i),function(){var dt=r[--t];r[t++]=(dt-48)*(c(e.barcode,e.barlen-e.i-1)-48)});var ir=s();r[t++]=ir,r[t++]=e.v,e.bigadd(),e.v=r[--t]}r[t++]="v",r[t++]=e.v,r[t++]=2,e.normalize();var Br=r[--t];e[r[--t]]=Br,r[t++]=1/0;for(var or=0,Ut=(5-e.v.length%5)%5;or<Ut;or++)r[t++]=0;O(e.v),e.v=s(),e.cws=s(~~(e.v.length/5));for(var yr=0,ta=e.cws.length-1;yr<=ta;yr+=1){e.i=yr;var fa=C(e.v,e.i*5,5);r[t++]=0;for(var wa=0,Lr=fa.length;wa<Lr;wa++){var Ea=r[--t];r[t++]=S(Ea+c(fa,wa))*2}g(e.cws,e.i,~~(r[--t]/2))}e.metrics=e.stypemetrics}else{var ga=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fnc1],["FNC3",e.fnc3]]);e.fncvals=ga,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var Ra=r[--t];e[r[--t]]=Ra,e.msglen=e.msg.length,e.eciesc=92;var la=e.msg;r[t++]="numecis",r[t++]=0;for(var Aa=0,Ca=la.length;Aa<Ca;Aa++)if(c(la,Aa)<=-1e6){var ka=r[--t];r[t++]=ka+1}var La=r[--t];if(e[r[--t]]=La,e.numecis>0){e.msgtmp=s(S(e.msg.length*2+e.numecis*6)+2),g(e.msgtmp,0,e.pad),g(e.msgtmp,1,e.eciesc),e.j=2;for(var Qa=0,Va=e.msg.length-1;Qa<=Va;Qa+=1){var ps=c(e.msg,Qa);if(r[t++]=ps,ps<=-1e6){for(var Ia=C($t(W(7),-r[--t],10),1,6),Bs=0,Ha=Ia.length;Bs<Ha;Bs++)r[t++]=c(Ia,Bs);Vt(s(6)),M(e.msgtmp,e.j+1,r[--t]),g(e.msgtmp,e.j,e.eciesc),e.j=e.j+7}else{var Qs=r[t-1];Qs!=e.eciesc?(g(e.msgtmp,e.j,r[--t]),e.j=e.j+1):(t--,g(e.msgtmp,e.j,e.eciesc),g(e.msgtmp,e.j+1,e.eciesc),e.j=e.j+2)}}e.msg=C(e.msgtmp,0,e.j),e.msglen=e.msg.length}e.metrics=e.nonstypemetrics,e.fullcws=s([]);for(var Ma=e.metrics,ms=0,Ds=Ma.length;ms<Ds;ms++)e.m=c(Ma,ms),e.vers=c(e.m,0),e.dcws=c(e.m,4),e.okay=!0,Y(e.version,"unset")?e.vers.length!=1&&(e.okay=!1):Me(e.version,e.vers)&&(e.okay=!1),e.okay&&(r[t++]=1/0,O(e.fullcws),r[t++]=e.dcws,e.fullcws=s());r[t++]=1/0;for(var Ts=0;Ts<1480;Ts++)r[t++]=1e4;e.numremcws=s();for(var Ka=e.fullcws,Hs=0,Wa=Ka.length;Hs<Wa;Hs++)g(e.numremcws,c(Ka,Hs)-1,1);for(var xs=1478;xs>=0;xs-=1)e.i=xs,c(e.numremcws,e.i)!=1&&g(e.numremcws,e.i,c(e.numremcws,e.i+1)+1);r[t++]=1/0;for(var Fa=0,vn=e.msglen;Fa<vn;Fa++)r[t++]=0;r[t++]=0,e.numD=s(),r[t++]=1/0;for(var $a=0,In=e.msglen;$a<In;$a++)r[t++]=0;r[t++]=9999,e.nextXterm=s(),r[t++]=1/0;for(var Ba=0,Xs=e.msglen;Ba<Xs;Ba++)r[t++]=0;r[t++]=9999,e.nextNonX=s();for(var _a=e.msglen-1;_a>=0;_a-=1){e.i=_a,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.numD,e.i,c(e.numD,e.i+1)+1),e.barchar==13||e.barchar==42||e.barchar==62?g(e.nextXterm,e.i,0):g(e.nextXterm,e.i,c(e.nextXterm,e.i+1)+1);var rn=c(e.Xvals,e.barchar)!==void 0;rn?g(e.nextNonX,e.i,c(e.nextNonX,e.i+1)+1):g(e.nextNonX,e.i,0)}r[t++]=1/0;for(var is=e.nextXterm,Xt=0,Xr=is.length;Xt<Xr;Xt++){var ja=c(is,Xt);r[t++]=ja,ja>1e4&&(r[t-1]=1e4)}e.nextXterm=s(),r[t++]=1/0;for(var Pa=e.nextNonX,vs=0,Qr=Pa.length;vs<Qr;vs++){var os=c(Pa,vs);r[t++]=os,os>1e4&&(r[t-1]=1e4)}for(e.nextNonX=s(),e.isD=function(){r[t++]=e.char>=48&&e.char<=57},e.isC=function(){var dt=c(e.CNvals,e.char)!==void 0;r[t++]=dt},e.isT=function(){var dt=c(e.TNvals,e.char)!==void 0;r[t++]=dt},e.isX=function(){var dt=c(e.Xvals,e.char)!==void 0;r[t++]=dt},e.isEA=function(){r[t++]=e.char>127},e.isFN=function(){r[t++]=e.char<0},e.XtermFirst=function(){var dt=r[--t];r[t++]=mn(c(e.nextXterm,dt),c(e.nextNonX,dt))},e.lookup=function(){e.ac=1,e.cc=2,e.tc=2,e.xc=2,e.bc=3,e.mode==e.A&&(e.ac=0,e.cc=1,e.tc=1,e.xc=1,e.bc=2),e.mode==e.C&&(e.cc=0),e.mode==e.T&&(e.tc=0),e.mode==e.X&&(e.xc=0),e.mode==e.B&&(e.bc=0);for(var dt=0;dt<1;dt++)for(e.k=0;;){if(e.i+e.k==e.msglen){var Gt=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Ur=0,it=Gt.length;Ur<it;Ur++){var Ft=r[--t];r[t++]=Ft&&e.bc<=xr(c(Gt,Ur))}if(r[--t]){r[t++]=e.B;break}var Yt=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Wt=0,Wr=Yt.length;Wt<Wr;Wt++){var ya=r[--t];r[t++]=ya&&e.ac<=xr(c(Yt,Wt))}if(r[--t]){r[t++]=e.A;break}var ma=s([e.tc,e.xc]);r[t++]=!0;for(var cs=0,qs=ma.length;cs<qs;cs++){var ln=r[--t];r[t++]=ln&&xr(e.cc)<=xr(c(ma,cs))}if(r[--t]){r[t++]=e.C;break}var cn=s([e.xc]);r[t++]=!0;for(var Gn=0,b1=cn.length;Gn<b1;Gn++){var e1=r[--t];r[t++]=e1&&xr(e.tc)<=xr(c(cn,Gn))}if(r[--t]){r[t++]=e.T;break}r[t++]=e.X;break}if(e.char=c(e.msg,e.i+e.k),r[t++]="ac",r[t++]=e.ac,e.isD(),r[--t]){var Fi=r[--t];r[t++]=S(Fi+1/2)}else if(e.isEA(),r[--t]){var y1=r[--t];r[t++]=xr(y1)+2}else{var t1=r[--t];r[t++]=xr(t1)+1}var $1=r[--t];if(e[r[--t]]=$1,r[t++]="cc",r[t++]=e.cc,e.isC(),r[--t]){var w1=r[--t];r[t++]=S(w1+.6666667)}else if(e.isEA(),r[--t]){var Nc=r[--t];r[t++]=S(Nc+2.6666667)}else{var Sc=r[--t];r[t++]=S(Sc+1.3333334)}var ml=r[--t];if(e[r[--t]]=ml,r[t++]="tc",r[t++]=e.tc,e.isT(),r[--t]){var Co=r[--t];r[t++]=S(Co+.6666667)}else if(e.isEA(),r[--t]){var Ec=r[--t];r[t++]=S(Ec+2.6666667)}else{var Cc=r[--t];r[t++]=S(Cc+1.3333334)}var Ic=r[--t];if(e[r[--t]]=Ic,r[t++]="xc",r[t++]=e.xc,e.isX(),r[--t]){var Bc=r[--t];r[t++]=S(Bc+.6666667)}else if(e.isEA(),r[--t]){var Dc=r[--t];r[t++]=S(Dc+4.3333334)}else{var Tc=r[--t];r[t++]=S(Tc+3.3333334)}var Rc=r[--t];if(e[r[--t]]=Rc,r[t++]="bc",r[t++]=e.bc,e.isFN(),r[--t]){var Mc=r[--t];r[t++]=Mc+3}else{var Fc=r[--t];r[t++]=Fc+1}var _c=r[--t];if(e[r[--t]]=_c,e.k>=3){var xl=s([e.ac,e.cc,e.tc,e.xc]);r[t++]=!0;for(var Io=0,Pc=xl.length;Io<Pc;Io++){var Oc=r[--t];r[t++]=Oc&&e.bc+1<=xr(c(xl,Io))}if(r[--t]){r[t++]=e.B;break}var vl=s([e.cc,e.tc,e.xc,e.bc]);r[t++]=!0;for(var Bo=0,Uc=vl.length;Bo<Uc;Bo++){var zc=r[--t];r[t++]=zc&&e.ac+1<=xr(c(vl,Bo))}if(r[--t]){r[t++]=e.A;break}var gl=s([e.ac,e.cc,e.xc,e.bc]);r[t++]=!0;for(var Do=0,Lc=gl.length;Do<Lc;Do++){var Qc=r[--t];r[t++]=Qc&&xr(e.tc)+1<=xr(c(gl,Do))}if(r[--t]){r[t++]=e.T;break}var bl=s([e.ac,e.tc]);r[t++]=!0;for(var To=0,Hc=bl.length;To<Hc;To++){var yl=r[--t];r[t++]=yl&&xr(e.cc)+1<=xr(c(bl,To))}if(r[--t]){if(xr(e.cc)<xr(e.xc)){r[t++]=e.C;break}if(e.cc==e.xc)if(r[t++]=e.i+e.k+1,e.XtermFirst(),r[--t]){r[t++]=e.X;break}else{r[t++]=e.C;break}}var G1=s([e.ac,e.cc,e.tc,e.bc]);r[t++]=!0;for(var Ro=0,$c=G1.length;Ro<$c;Ro++){var qn=r[--t];r[t++]=qn&&xr(e.xc)+1<=xr(c(G1,Ro))}if(r[--t]){r[t++]=e.X;break}}e.k=e.k+1}},e.addtocws=function(){var dt=r[t-1];dt.length+e.j>1480&&(t--,r[t++]="bwipp.codeoneTooLong#24766",r[t++]="Maximum length exceeded",z());var Gt=r[--t];M(e.cws,e.j,Gt),e.j=Gt.length+e.j},e.tobin=function(){var dt=W(r[--t]);r[t++]=dt;for(var Gt=0,Ur=dt.length-1;Gt<=Ur;Gt+=1){var it=r[t-1];g(it,Gt,48)}var Ft=r[t-1];r[t++]=Ft;var Yt=r[t-3],Wt=r[t-1];r[t-3]=r[t-2],t-=2;var Wr=$t(W(Wt.length),Yt,2);M(Wt,Wt.length-Wr.length,Wr),r[t++]=1/0;var ya=r[--t],ma=r[--t];r[t++]=ya,ge(ma,function(){var qs=r[--t];r[t++]=qs-48});var cs=s();r[t++]=cs},e.encA=function(){for(var dt=0;dt<1;dt++){if(c(e.numD,e.i)>=21){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}var Gt=c(e.numD,e.i);if(Gt>=13&&S(Gt+e.i)==e.msglen){e.Dbits=s([1,1,1,1]),e.mode=e.D;break}if(c(e.numD,e.i)>=2){var Ur=W(2);g(Ur,0,c(e.msg,e.i)),g(Ur,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,Ur),e.addtocws(),e.i=e.i+2;break}if(c(e.msg,e.i)==e.fnc1){if(c(e.numD,e.i+1)>=15){r[t++]=c(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}var it=c(e.numD,e.i+1);if(it>=7&&S(it+e.i)+1==e.msglen){r[t++]=c(e.Avals,e.fnc1lD),e.addtocws(),e.i=e.i+1,e.Dbits=s([]),e.mode=e.D;break}}r[t++]="newmode",e.lookup();var Ft=r[--t];if(e[r[--t]]=Ft,e.newmode!=e.mode){r[t++]=c(e.Avals,c(s([-1,e.lC,e.lT,e.lX,e.lD,e.lB]),e.newmode)),e.addtocws(),e.mode=e.newmode;break}r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1;break}},e.CTXvalstocws=function(){e.in=r[--t],r[t++]=1/0;for(var dt=0,Gt=e.in.length-1;dt<=Gt;dt+=3){var Ur=C(e.in,dt,3);r[t++]=0;for(var it=0,Ft=Ur.length;it<Ft;it++){var Yt=r[--t];r[t++]=S(Yt+c(Ur,it))*40}var Wt=~~(r[--t]/40)+1;r[t++]=~~(Wt/256),r[t++]=Wt%256}Vt(s(xa()));var Wr=r[--t];r[t-1]=Wr},e.encCTX=function(){for(e.p=0,e.ctxvals=s(2220);e.i!=e.msglen;){if(e.p%3==0){if(c(e.numD,e.i)>=12){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}var dt=c(e.numD,e.i);if(dt>=8&&S(dt+e.i)==e.msglen){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.mode==e.X){var Gt=c(e.Xvals,c(e.msg,e.i))!==void 0;if(!Gt){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),(c(e.numremcws,e.j)!=1||c(e.msg,e.i)>127)&&(r[t++]=s([e.unlcw]),e.addtocws()),e.mode=e.A;break}if(e.i+1<e.msglen){var Ur=c(e.Xvals,c(e.msg,e.i+1))!==void 0;if(!Ur)break;if(e.i+2<e.msglen){var it=c(e.Xvals,c(e.msg,e.i+2))!==void 0;if(!it)break}}}else if(e.lookup(),r[--t]!=e.mode){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A;break}if(e.msglen-e.i<=3){e.remcws=c(e.numremcws,e.j+~~(e.p/3)*2),r[t++]=1/0;for(var Ft=C(e.msg,e.i,e.msglen-e.i),Yt=0,Wt=Ft.length;Yt<Wt;Yt++){var Wr=c(Ft,Yt),ya=c(c(e.encvals,e.mode),Wr)!==void 0;r[t++]=Wr,ya?O(c(c(e.encvals,e.mode),r[--t])):(r[t-1]=-1,r[t++]=-1,r[t++]=-1,r[t++]=-1)}if(e.remvals=s(),e.remcws==2&&e.remvals.length==3){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals);var ma=s();r[t++]=ma,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==2&&e.mode!=e.X){r[t++]=1/0,O(C(e.ctxvals,0,e.p)),O(e.remvals),O(c(c(e.encvals,e.mode),e.sft1));var cs=s();r[t++]=cs,e.CTXvalstocws(),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==2&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}if(e.remcws==1&&e.remvals.length==1){r[t++]=C(e.ctxvals,0,e.p),e.CTXvalstocws(),e.addtocws(),r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.mode=e.A,e.i=e.msglen;break}}}var qs=c(c(e.encvals,e.mode),c(e.msg,e.i));M(e.ctxvals,e.p,qs),e.p=qs.length+e.p,e.i=e.i+1}if(e.mode!=e.A){for(;e.p%3!=0;)e.i=e.i-1,e.p=e.p-c(c(e.encvals,e.mode),c(e.msg,e.i)).length;r[t++]=1/0,O(C(e.ctxvals,0,e.p));var ln=s();if(r[t++]=ln,e.CTXvalstocws(),e.addtocws(),r[t++]=s([e.unlcw]),e.addtocws(),e.mode=e.A,e.i!=e.msglen)if(c(e.numD,e.i)>=2){var cn=W(2);g(cn,0,c(e.msg,e.i)),g(cn,1,c(e.msg,e.i+1)),r[t++]=c(e.Avals,cn),e.addtocws(),e.i=e.i+2}else r[t++]=c(e.Avals,c(e.msg,e.i)),e.addtocws(),e.i=e.i+1}},e.encD=function(){for(;;){if(c(e.numD,e.i)<3){if(e.Drem=(8-e.Dbits.length%8)%8,e.remcws=c(e.numremcws,e.j+~~(e.Dbits.length/8)),(c(e.numremcws,e.j+~~(e.Dbits.length/8)-1)-1==0&&e.Drem==0||e.remcws==1&&e.Drem!=0)&&e.i==e.msglen){(e.Drem==4||e.Drem==6)&&(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),(e.Drem==2||e.Drem==6)&&(r[t++]=1/0,O(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s());break}if((e.i==e.msglen-1&&c(e.numD,e.i)==1||e.i==e.msglen-2&&c(e.numD,e.i)==2)&&e.remcws==1&&e.Drem==0)break;e.i==e.msglen-1&&c(e.numD,e.i)==1&&e.remcws==1&&(e.Drem==4||e.Drem==6)||(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s(),e.Drem=(8-e.Dbits.length%8)%8),(e.Drem==4||e.Drem==6)&&(c(e.numD,e.i)>=1?(r[t++]=1/0,O(e.Dbits),r[t++]=c(e.msg,e.i)-48+1,r[t++]=4,e.tobin(),O(r[--t]),e.Dbits=s(),e.i=e.i+1):(r[t++]=1/0,O(e.Dbits),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.Dbits=s()),e.Drem=e.Drem-4),e.Drem==2&&(r[t++]=1/0,O(e.Dbits),r[t++]=0,r[t++]=1,e.Dbits=s(),e.Drem=0);break}r[t++]=1/0,O(e.Dbits);var dt=C(e.msg,e.i,3);r[t++]=0;for(var Gt=0,Ur=dt.length;Gt<Ur;Gt++){var it=r[--t];r[t++]=S(it+(c(dt,Gt)-48))*10}var Ft=r[--t];r[t++]=~~(Ft/10)+1,r[t++]=10,e.tobin(),O(r[--t]),e.Dbits=s(),e.i=e.i+3}r[t++]=1/0;for(var Yt=0,Wt=e.Dbits.length-1;Yt<=Wt;Yt+=8){var Wr=C(e.Dbits,Yt,8);r[t++]=0;for(var ya=0,ma=Wr.length;ya<ma;ya++){var cs=r[--t];r[t++]=S(cs+c(Wr,ya))*2}var qs=r[--t];r[t++]=~~(qs/2)}Vt(s(xa()));var ln=r[--t];r[t-1]=ln,e.addtocws(),e.mode=e.A},e.encB=function(){for(e.p=0,e.bvals=s(1480);!(e.i==e.msglen||c(e.msg,e.i)<0||(e.lookup(),r[--t]!=e.mode));)g(e.bvals,e.p,c(e.msg,e.i)),e.p=e.p+1,e.i=e.i+1;e.remcws=c(e.numremcws,e.j+e.p)-1,r[t++]=1/0,e.remcws==0&&e.i==e.msglen?r[t++]=0:e.p<250?r[t++]=e.p:(r[t++]=~~(e.p/250)+249,r[t++]=e.p%250),O(C(e.bvals,0,e.p)),e.bvals=s(),r[t++]=e.bvals,e.addtocws(),e.mode=e.A},e.cws=s(1480),e.mode=e.A,e.i=0,e.j=0;!(e.i>=e.msglen||e[c(s(["encA","encCTX","encCTX","encCTX","encD","encB"]),e.mode)]()===!0););e.cws=C(e.cws,0,e.j)}for(var gs=e.metrics,Oa=0,Bn=gs.length;Oa<Bn&&(e.m=c(gs,Oa),e.vers=c(e.m,0),e.rows=c(e.m,1),e.cols=c(e.m,2),e.dcol=c(e.m,3),e.dcws=c(e.m,4),e.rscw=c(e.m,5),e.rsbl=c(e.m,6),e.riso=c(e.m,7),e.risi=c(e.m,8),e.risl=c(e.m,9),e.dcpb=~~(e.dcws/e.rsbl),e.ecpb=~~(e.rscw/e.rsbl),e.okay=!0,Me(e.version,"unset")&&Me(e.version,e.vers)&&(e.okay=!1),e.cws.length>e.dcws&&(e.okay=!1),!e.okay);Oa++);if(e.okay||(r[t++]="bwipp.codeoneNoValidSymbol#25082",r[t++]="Maximum length exceeded",z()),e.stype){r[t++]=1/0;for(var $s=0,Ta=S(e.dcws-e.cws.length);$s<Ta;$s++)r[t++]=0;O(e.cws),e.cws=s()}else{r[t++]=1/0,O(e.cws);for(var Da=0,ui=S(e.dcws-e.cws.length);Da<ui;Da++)r[t++]=129;e.cws=s()}var Dn=c(e.options,"debugcws")!==void 0;Dn&&(r[t++]="bwipp.debugcws#25092",r[t++]=e.cws,z()),e.cwbs=s(e.rsbl),e.ecbs=s(e.rsbl);for(var Ja=0,Tn=e.rsbl-1;Ja<=Tn;Ja+=1){e.i=Ja,e.cwb=s(e.dcpb);for(var bs=0,an=e.dcpb-1;bs<=an;bs+=1)e.j=bs,g(e.cwb,e.j,c(e.cws,S(e.j*e.rsbl+e.i)));g(e.cwbs,e.i,e.cwb)}var sn=e.stype?32:256;e.gf=sn,e["gf-1"]=e.gf-1;var Xn=e.stype?37:301;e.pm=Xn,r[t++]=1/0,r[t++]=1;for(var At=0,Yr=e["gf-1"];At<Yr;At++){var ra=r[t-1],Ua=ra*2;if(r[t++]=Ua,Ua>=e.gf){var ca=r[--t];r[t++]=ca^e.pm}}e.rsalog=s(),e.rslog=s(e.gf);for(var Xa=1,ys=e["gf-1"];Xa<=ys;Xa+=1)g(e.rslog,c(e.rsalog,Xa),Xa);e.rsprod=function(){var dt=r[t-1],Gt=r[t-2];if(dt!=0&&Gt!=0){var Ur=c(e.rslog,r[--t]),it=c(e.rsalog,S(Ur+c(e.rslog,r[--t]))%e["gf-1"]);r[t++]=it}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var gn=0,ct=e.ecpb;gn<ct;gn++)r[t++]=0;e.coeffs=s();for(var Nt=0,hr=e.ecpb-1;Nt<=hr;Nt+=1){e.i=Nt,g(e.coeffs,e.i+1,c(e.coeffs,e.i));for(var lr=e.i;lr>=1;lr-=1){e.j=lr,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var fr=r[--t],Rr=r[--t],cr=r[--t];g(r[--t],cr,fs(Rr,fr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var aa=r[--t],Hr=r[--t];g(r[--t],Hr,aa)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var $r=0,Gr=e.cwbs.length-1;$r<=Gr;$r+=1){e.i=$r,r[t++]=1/0,O(c(e.cwbs,e.i));for(var Vr=0,ha=e.ecpb;Vr<ha;Vr++)r[t++]=0;e.rscws=s();for(var Zr=0,qr=e.dcpb-1;Zr<=qr;Zr+=1){e.m=Zr,e.k=c(e.rscws,e.m);for(var sa=0,Mr=e.ecpb-1;sa<=Mr;sa+=1){e.j=sa,r[t++]=e.rscws,r[t++]=e.m+e.j+1,r[t++]=c(e.coeffs,e.ecpb-e.j-1),r[t++]=e.k,e.rsprod();var Pr=r[--t],za=r[--t];g(r[--t],za,fs(Pr,c(e.rscws,e.m+e.j+1)))}}g(e.ecbs,e.i,C(e.rscws,e.dcpb,e.ecpb))}r[t++]=1/0,O(e.cws);for(var ba=0,ls=e.rscw;ba<ls;ba++)r[t++]=0;e.cws=s();for(var Ss=0,nn=e.rscw-1;Ss<=nn;Ss+=1)e.i=Ss,g(e.cws,S(e.dcws+e.i),c(c(e.ecbs,e.i%e.rsbl),~~(e.i/e.rsbl)));var Rs=e.stype?5:8;e.mmat=s(S(e.dcws+e.rscw)*Rs),e.r=0,e.c=0;for(var rr=e.stype?2:1,wr=0,Nr=rr,ea=e.cws.length-1;Nr<0?wr>=ea:wr<=ea;wr+=Nr){if(e.i=wr,e.stype){var Gs=Fr(W(5),"00000"),bn=$t(W(5),c(e.cws,e.i),2);M(Gs,5-bn.length,bn);var Rn=1/0,Ln=Gs;r[t++]=Rn,ge(Ln,function(){var dt=r[--t];r[t++]=dt-48}),e.c1=s();var Qn=Fr(W(5),"00000"),yn=$t(W(5),c(e.cws,e.i+1),2);M(Qn,5-yn.length,yn);var fi=1/0,Hn=Qn;r[t++]=fi,ge(Hn,function(){var dt=r[--t];r[t++]=dt-48}),e.c2=s(),r[t++]=1/0,O(C(e.c1,0,3)),O(C(e.c2,0,2)),e.top=s(),r[t++]=1/0,O(C(e.c1,3,2)),O(C(e.c2,2,3)),e.bot=s()}else{var Or=Fr(W(8),"00000000"),na=$t(W(8),c(e.cws,e.i),2);M(Or,8-na.length,na);var Kr=1/0,Za=Or;r[t++]=Kr,ge(Za,function(){var dt=r[--t];r[t++]=dt-48});var es=s();e.top=C(es,0,4),e.bot=C(es,4,4)}M(e.mmat,S(e.r*e.dcol+e.c),e.top),M(e.mmat,S((e.r+1)*e.dcol+e.c),e.bot),e.c=e.c+e.top.length,e.c==e.dcol&&(e.c=0,e.r=e.r+2)}e.mmv=function(){var dt=r[--t],Gt=r[--t];r[t++]=S(Gt+dt*e.cols)},r[t++]=1/0;for(var hi=0,Ji=e.rows*e.cols;hi<Ji;hi++)r[t++]=-1;e.pixs=s();var pi=s([function(){for(var dt=0,Gt=e.cols;dt<Gt;dt++)r[t++]=0},function(){for(var dt=0,Gt=e.cols;dt<Gt;dt++)r[t++]=1},function(){r[t++]=0;for(var dt=0,Gt=e.cols-2;dt<Gt;dt++)r[t++]=1;r[t++]=0},function(){r[t++]=0,r[t++]=1;for(var dt=0,Gt=e.cols-4;dt<Gt;dt++)r[t++]=0;r[t++]=1,r[t++]=0},function(){for(var dt=0,Gt=~~((e.cols-1)/2);dt<Gt;dt++)r[t++]=-1;r[t++]=1;for(var Ur=0,it=~~((e.cols-1)/2);Ur<it;Ur++)r[t++]=-1},function(){for(var dt=0,Gt=~~((e.cols-1)/2);dt<Gt;dt++)r[t++]=-1;r[t++]=0;for(var Ur=0,it=~~((e.cols-1)/2);Ur<it;Ur++)r[t++]=-1},function(){r[t++]=1;for(var dt=0,Gt=e.cols-2;dt<Gt;dt++)r[t++]=0;r[t++]=1},function(){r[t++]=1,r[t++]=0;for(var dt=0,Gt=e.cols-4;dt<Gt;dt++)r[t++]=1;r[t++]=0,r[t++]=1}]);e.artifact=pi;var Xi=new Map([["A","121343"],["B","12134343"],["C","12121343"],["D","1213434343"],["E","1212134343"],["F","1212121343"],["G","121213434343"],["H","121212134343"],["S","56661278"],["T","5666666666127878"]]);e.cpatmap=Xi,e.cpat=c(e.cpatmap,C(e.vers,0,1)),r[t++]=e.pixs,r[t++]=0,r[t++]=~~(S(e.rows-e.cpat.length)/2),e.mmv(),r[t++]=1/0,ge(e.cpat,function(){if(c(e.artifact,r[--t]-49)()===!0)return!0});var Zi=s(),Ke=r[--t];M(r[--t],Ke,Zi);for(var bt=0,pr=e.risl-1;bt<=pr;bt+=1){e.i=bt;for(var kr=e.riso,pa=e.risi,ts=e.cols-1;pa<0?kr>=ts:kr<=ts;kr+=pa){e.j=kr;var rs=e.i%12==0?1:0,Es=s([1,rs]);r[t++]=Es,r[t++]=Es,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.mmv();var on=r[t-3],wn=r[t-1];if(M(r[t-2],wn,on),t-=3,e.i!=e.risl-1){r[t++]=e.pixs,r[t++]=S(e.cols-e.j)-2,r[t++]=S(e.rows-e.i)-1,e.mmv();var Ti=r[t-3],Ri=r[t-1];M(r[t-2],Ri,Ti),t-=3}else t--}}var $n=new Map([["A",s([s([12,5])])],["B",s([s([16,7])])],["C",s([s([26,12])])],["D",s([])],["E",s([s([26,23])])],["F",s([s([26,32]),s([70,32]),s([26,34]),s([70,34])])],["G",s([s([27,48]),s([69,48])])],["H",s([s([26,70]),s([66,70]),s([106,70]),s([26,72]),s([66,72]),s([106,72])])],["S-10",s([])],["S-20",s([s([10,4])])],["S-30",s([s([15,4]),s([15,6])])],["T-16",s([s([8,10])])],["T-32",s([s([16,10]),s([16,12])])],["T-48",s([s([24,10]),s([24,12]),s([24,14])])]]);e.blackdotmap=$n,ge(c(e.blackdotmap,e.vers),function(){var dt=r[--t];r[t++]=e.pixs,O(dt),e.mmv();var Gt=r[--t];g(r[--t],Gt,1)}),e.j=0;for(var Mi=0,Eo=e.pixs.length-1;Mi<=Eo;Mi+=1)e.i=Mi,c(e.pixs,e.i)==-1&&(g(e.pixs,e.i,c(e.mmat,e.j)),e.j=e.j+1);r[t++]=1/0,r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=e.pixs,r[t++]="pixx",r[t++]=e.cols,r[t++]="pixy",r[t++]=e.rows,r[t++]="height",r[t++]=e.rows/72*2,r[t++]="width",r[t++]=e.cols/72*2,(e.stype||e.ttype)&&(r[t++]="borderleft",r[t++]=1,r[t++]="borderright",r[t++]=1,r[t++]="bordertop",r[t++]=0,r[t++]="borderbottom",r[t++]=1),r[t++]="opt",r[t++]=e.options;var H1=$e();r[t++]=H1,e.dontdraw||xt(),e=a}function AR(){var a=e;if(e=Object.assign({},e),e.dontdraw=!1,e.version="unset",e.eclevel="L2",e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hanxinEmptyData#25328",r[t++]="The data must not be empty",z()),Me(e.version,"unset")){var n=e.version.length,i=n>=1&&n<=2;if(r[t++]=i,i){t--;var o=e.version;r[t++]=!0;for(var d=0,u=o.length;d<u;d++){var f=c(o,d);(f<48||f>57)&&(r[t-1]=!1)}var h=r[t-1];if(h){t--;var p=Fe(e.version);r[t++]=p>=1&&p<=84}}r[--t]||(r[t++]="bwipp.hanxinInvalidVersion#25339",r[t++]="Valid versions are 1 to 84",z())}var m=e.eclevel.length==2;if(r[t++]=m,m){t--;var x=Y(C(e.eclevel,0,1),"L");if(r[t++]=x,x){t--;var b=c(e.eclevel,1)-48;r[t++]=b>=1&&b<=4}}r[--t]||(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25349",r[t++]="Valid error correction levels are L1 to L4",z()),e.mask!=-1&&(e.mask<1||e.mask>4)&&(r[t++]="bwipp.hanxinInvalidErrorCorrectionLevel#25354",r[t++]="The valid masks are 1 to 4",z());var y=new Map([["parse",e.parse],["parsefnc",e.parsefnc]]);e.fncvals=y,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var w=r[--t];e[r[--t]]=w,e.msglen=e.msg.length,e.tobin=function(){var Ct=W(r[--t]);r[t++]=Ct;for(var qt=0,tr=Ct.length-1;qt<=tr;qt+=1){var br=r[t-1];g(br,qt,48)}var ir=r[t-1];r[t++]=ir;var Br=r[t-3],or=r[t-1];r[t-3]=r[t-2],t-=2;var Ut=$t(W(or.length),Br,2);M(or,or.length-Ut.length,Ut)},e.bits=W(17+e.msglen*8),M(e.bits,0,"0011"),r[t++]=e.bits,r[t++]=4,r[t++]=e.msglen,r[t++]=13,e.tobin();var v=r[--t],A=r[--t];M(r[--t],A,v);for(var k=0,E=e.msglen-1;k<=E;k+=1){e.i=k,r[t++]=e.bits,r[t++]=17+e.i*8,r[t++]=c(e.msg,e.i),r[t++]=8,e.tobin();var j=r[--t],N=r[--t];M(r[--t],N,j)}e.metrics=s([s(["1",23,-1,0,205,s([1,21,4]),s([0,-1,-1]),s([0,-1,-1]),s([1,17,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,13,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,9,16]),s([0,-1,-1]),s([0,-1,-1])]),s(["2",25,-1,0,301,s([1,31,6]),s([0,-1,-1]),s([0,-1,-1]),s([1,25,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,19,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,15,22]),s([0,-1,-1]),s([0,-1,-1])]),s(["3",27,-1,0,405,s([1,42,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,34,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["4",29,14,1,439,s([1,46,8]),s([0,-1,-1]),s([0,-1,-1]),s([1,38,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,30,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,22,32]),s([0,-1,-1]),s([0,-1,-1])]),s(["5",31,16,1,555,s([1,57,12]),s([0,-1,-1]),s([0,-1,-1]),s([1,49,20]),s([0,-1,-1]),s([0,-1,-1]),s([1,37,32]),s([0,-1,-1]),s([0,-1,-1]),s([1,14,20]),s([1,13,22]),s([0,-1,-1])]),s(["6",33,16,1,675,s([1,70,14]),s([0,-1,-1]),s([0,-1,-1]),s([1,58,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,24,20]),s([1,22,18]),s([0,-1,-1]),s([1,16,24]),s([1,18,26]),s([0,-1,-1])]),s(["7",35,17,1,805,s([1,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([1,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([1,26,22]),s([1,28,24]),s([0,-1,-1]),s([2,14,20]),s([1,12,20]),s([0,-1,-1])]),s(["8",37,18,1,943,s([1,99,18]),s([0,-1,-1]),s([0,-1,-1]),s([1,40,18]),s([1,41,18]),s([0,-1,-1]),s([1,31,26]),s([1,32,28]),s([0,-1,-1]),s([2,16,24]),s([1,15,22]),s([0,-1,-1])]),s(["9",39,19,1,1089,s([1,114,22]),s([0,-1,-1]),s([0,-1,-1]),s([2,48,20]),s([0,-1,-1]),s([0,-1,-1]),s([2,24,20]),s([1,26,22]),s([0,-1,-1]),s([2,18,28]),s([1,18,26]),s([0,-1,-1])]),s(["10",41,20,1,1243,s([1,131,24]),s([0,-1,-1]),s([0,-1,-1]),s([1,52,22]),s([1,57,24]),s([0,-1,-1]),s([2,27,24]),s([1,29,24]),s([0,-1,-1]),s([2,21,32]),s([1,19,30]),s([0,-1,-1])]),s(["11",43,14,2,1289,s([1,135,26]),s([0,-1,-1]),s([0,-1,-1]),s([1,56,24]),s([1,57,24]),s([0,-1,-1]),s([2,28,24]),s([1,31,26]),s([0,-1,-1]),s([2,22,32]),s([1,21,32]),s([0,-1,-1])]),s(["12",45,15,2,1455,s([1,153,28]),s([0,-1,-1]),s([0,-1,-1]),s([1,62,26]),s([1,65,28]),s([0,-1,-1]),s([2,32,28]),s([1,33,28]),s([0,-1,-1]),s([3,17,26]),s([1,22,30]),s([0,-1,-1])]),s(["13",47,16,2,1629,s([1,86,16]),s([1,85,16]),s([0,-1,-1]),s([1,71,30]),s([1,72,30]),s([0,-1,-1]),s([2,37,32]),s([1,35,30]),s([0,-1,-1]),s([3,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["14",49,16,2,1805,s([1,94,18]),s([1,95,18]),s([0,-1,-1]),s([2,51,22]),s([1,55,24]),s([0,-1,-1]),s([3,30,26]),s([1,31,26]),s([0,-1,-1]),s([4,18,28]),s([1,17,24]),s([0,-1,-1])]),s(["15",51,17,2,1995,s([1,104,20]),s([1,105,20]),s([0,-1,-1]),s([2,57,24]),s([1,61,26]),s([0,-1,-1]),s([3,33,28]),s([1,36,30]),s([0,-1,-1]),s([4,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["16",53,17,2,2187,s([1,115,22]),s([1,114,22]),s([0,-1,-1]),s([2,65,28]),s([1,61,26]),s([0,-1,-1]),s([3,38,32]),s([1,33,30]),s([0,-1,-1]),s([5,19,28]),s([1,14,24]),s([0,-1,-1])]),s(["17",55,18,2,2393,s([1,126,24]),s([1,125,24]),s([0,-1,-1]),s([2,70,30]),s([1,69,30]),s([0,-1,-1]),s([4,33,28]),s([1,29,26]),s([0,-1,-1]),s([5,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["18",57,19,2,2607,s([1,136,26]),s([1,137,26]),s([0,-1,-1]),s([3,56,24]),s([1,59,26]),s([0,-1,-1]),s([5,35,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,18,28]),s([1,21,28]),s([0,-1,-1])]),s(["19",59,20,2,2829,s([1,148,28]),s([1,149,28]),s([0,-1,-1]),s([3,61,26]),s([1,64,28]),s([0,-1,-1]),s([7,24,20]),s([1,23,22]),s([0,-1,-1]),s([6,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["20",61,20,2,3053,s([3,107,20]),s([0,-1,-1]),s([0,-1,-1]),s([3,65,28]),s([1,72,30]),s([0,-1,-1]),s([7,26,22]),s([1,23,22]),s([0,-1,-1]),s([7,19,28]),s([1,20,32]),s([0,-1,-1])]),s(["21",63,21,2,3291,s([3,115,22]),s([0,-1,-1]),s([0,-1,-1]),s([4,56,24]),s([1,63,28]),s([0,-1,-1]),s([7,28,24]),s([1,25,22]),s([0,-1,-1]),s([8,18,28]),s([1,21,22]),s([0,-1,-1])]),s(["22",65,16,3,3383,s([2,116,22]),s([1,122,24]),s([0,-1,-1]),s([4,56,24]),s([1,72,30]),s([0,-1,-1]),s([7,28,24]),s([1,32,26]),s([0,-1,-1]),s([8,18,28]),s([1,24,30]),s([0,-1,-1])]),s(["23",67,17,3,3631,s([3,127,24]),s([0,-1,-1]),s([0,-1,-1]),s([5,51,22]),s([1,62,26]),s([0,-1,-1]),s([7,30,26]),s([1,35,26]),s([0,-1,-1]),s([8,20,30]),s([1,21,32]),s([0,-1,-1])]),s(["24",69,17,3,3887,s([2,135,26]),s([1,137,26]),s([0,-1,-1]),s([5,56,24]),s([1,59,26]),s([0,-1,-1]),s([7,33,28]),s([1,30,28]),s([0,-1,-1]),s([11,16,24]),s([1,19,26]),s([0,-1,-1])]),s(["25",71,18,3,4151,s([3,105,20]),s([1,121,22]),s([0,-1,-1]),s([5,61,26]),s([1,57,26]),s([0,-1,-1]),s([9,28,24]),s([1,28,22]),s([0,-1,-1]),s([10,19,28]),s([1,18,30]),s([0,-1,-1])]),s(["26",73,18,3,4423,s([2,157,30]),s([1,150,28]),s([0,-1,-1]),s([5,65,28]),s([1,61,26]),s([0,-1,-1]),s([8,33,28]),s([1,34,30]),s([0,-1,-1]),s([10,19,28]),s([2,15,26]),s([0,-1,-1])]),s(["27",75,19,3,4703,s([3,126,24]),s([1,115,22]),s([0,-1,-1]),s([7,51,22]),s([1,54,22]),s([0,-1,-1]),s([8,35,30]),s([1,37,30]),s([0,-1,-1]),s([15,15,22]),s([1,10,22]),s([0,-1,-1])]),s(["28",77,19,3,4991,s([4,105,20]),s([1,103,20]),s([0,-1,-1]),s([7,56,24]),s([1,45,18]),s([0,-1,-1]),s([10,31,26]),s([1,27,26]),s([0,-1,-1]),s([10,17,26]),s([3,20,28]),s([1,21,28])]),s(["29",79,20,3,5287,s([3,139,26]),s([1,137,28]),s([0,-1,-1]),s([6,66,28]),s([1,66,30]),s([0,-1,-1]),s([9,36,30]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["30",81,20,3,5591,s([6,84,16]),s([1,82,16]),s([0,-1,-1]),s([6,70,30]),s([1,68,30]),s([0,-1,-1]),s([7,35,30]),s([3,33,28]),s([1,32,28]),s([13,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["31",83,21,3,5903,s([5,105,20]),s([1,94,18]),s([0,-1,-1]),s([6,74,32]),s([1,71,30]),s([0,-1,-1]),s([11,33,28]),s([1,34,32]),s([0,-1,-1]),s([13,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["32",85,17,4,6033,s([4,127,24]),s([1,126,24]),s([0,-1,-1]),s([7,66,28]),s([1,66,30]),s([0,-1,-1]),s([12,30,24]),s([1,24,28]),s([1,24,30]),s([15,19,28]),s([1,17,32]),s([0,-1,-1])]),s(["33",87,17,4,6353,s([7,84,16]),s([1,78,16]),s([0,-1,-1]),s([7,70,30]),s([1,66,28]),s([0,-1,-1]),s([12,33,28]),s([1,32,30]),s([0,-1,-1]),s([14,21,32]),s([1,24,28]),s([0,-1,-1])]),s(["34",89,18,4,6689,s([5,117,22]),s([1,117,24]),s([0,-1,-1]),s([8,66,28]),s([1,58,26]),s([0,-1,-1]),s([11,38,32]),s([1,34,32]),s([0,-1,-1]),s([15,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["35",91,18,4,7025,s([4,148,28]),s([1,146,28]),s([0,-1,-1]),s([8,68,30]),s([1,70,24]),s([0,-1,-1]),s([10,36,32]),s([3,38,28]),s([0,-1,-1]),s([16,19,28]),s([3,16,26]),s([0,-1,-1])]),s(["36",93,19,4,7377,s([4,126,24]),s([2,135,26]),s([0,-1,-1]),s([8,70,28]),s([2,43,26]),s([0,-1,-1]),s([13,32,28]),s([2,41,30]),s([0,-1,-1]),s([17,19,28]),s([3,15,26]),s([0,-1,-1])]),s(["37",95,19,4,7729,s([5,136,26]),s([1,132,24]),s([0,-1,-1]),s([5,67,30]),s([4,68,28]),s([1,69,28]),s([14,35,30]),s([1,32,24]),s([0,-1,-1]),s([18,18,26]),s([3,16,28]),s([1,14,28])]),s(["38",97,19,4,8089,s([3,142,26]),s([3,141,28]),s([0,-1,-1]),s([8,70,30]),s([1,73,32]),s([1,74,32]),s([12,34,30]),s([3,34,26]),s([1,35,28]),s([18,21,32]),s([1,27,30]),s([0,-1,-1])]),s(["39",99,20,4,8465,s([5,116,22]),s([2,103,20]),s([1,102,20]),s([9,74,32]),s([1,74,30]),s([0,-1,-1]),s([14,34,28]),s([2,32,32]),s([1,32,30]),s([19,21,32]),s([1,25,26]),s([0,-1,-1])]),s(["40",101,20,4,8841,s([7,116,22]),s([1,117,22]),s([0,-1,-1]),s([11,65,28]),s([1,58,24]),s([0,-1,-1]),s([15,38,32]),s([1,27,28]),s([0,-1,-1]),s([20,20,30]),s([1,20,32]),s([1,21,32])]),s(["41",103,17,5,9009,s([6,136,26]),s([1,130,24]),s([0,-1,-1]),s([11,66,28]),s([1,62,30]),s([0,-1,-1]),s([14,34,28]),s([3,34,32]),s([1,30,30]),s([18,20,30]),s([3,20,28]),s([2,15,26])]),s(["42",105,17,5,9401,s([5,105,20]),s([2,115,22]),s([2,116,22]),s([10,75,32]),s([1,73,32]),s([0,-1,-1]),s([16,38,32]),s([1,27,28]),s([0,-1,-1]),s([22,19,28]),s([2,16,30]),s([1,19,30])]),s(["43",107,18,5,9799,s([6,147,28]),s([1,146,28]),s([0,-1,-1]),s([11,66,28]),s([2,65,30]),s([0,-1,-1]),s([18,33,28]),s([2,33,30]),s([0,-1,-1]),s([22,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["44",109,18,5,10207,s([6,116,22]),s([3,125,24]),s([0,-1,-1]),s([11,75,32]),s([1,68,30]),s([0,-1,-1]),s([13,35,28]),s([6,34,32]),s([1,30,30]),s([23,21,32]),s([1,26,30]),s([0,-1,-1])]),s(["45",111,18,5,10623,s([7,105,20]),s([4,95,18]),s([0,-1,-1]),s([12,67,28]),s([1,63,30]),s([1,62,32]),s([21,31,26]),s([2,33,32]),s([0,-1,-1]),s([23,21,32]),s([2,24,30]),s([0,-1,-1])]),s(["46",113,19,5,11045,s([10,116,22]),s([0,-1,-1]),s([0,-1,-1]),s([12,74,32]),s([1,78,30]),s([0,-1,-1]),s([18,37,32]),s([1,39,30]),s([1,41,28]),s([25,21,32]),s([1,27,28]),s([0,-1,-1])]),s(["47",115,19,5,11477,s([5,126,24]),s([4,115,22]),s([1,114,22]),s([12,67,28]),s([2,66,32]),s([1,68,30]),s([21,35,30]),s([1,39,30]),s([0,-1,-1]),s([26,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["48",117,19,5,11917,s([9,126,24]),s([1,117,22]),s([0,-1,-1]),s([13,75,32]),s([1,68,30]),s([0,-1,-1]),s([20,35,30]),s([3,35,28]),s([0,-1,-1]),s([27,21,32]),s([1,28,30]),s([0,-1,-1])]),s(["49",119,17,6,12111,s([9,126,24]),s([1,137,26]),s([0,-1,-1]),s([13,71,30]),s([2,68,32]),s([0,-1,-1]),s([20,37,32]),s([1,39,28]),s([1,38,28]),s([24,20,32]),s([5,25,28]),s([0,-1,-1])]),s(["50",121,17,6,12559,s([8,147,28]),s([1,141,28]),s([0,-1,-1]),s([10,73,32]),s([4,74,30]),s([1,73,30]),s([16,36,32]),s([6,39,30]),s([1,37,30]),s([27,21,32]),s([3,20,26]),s([0,-1,-1])]),s(["51",123,18,6,13025,s([9,137,26]),s([1,135,26]),s([0,-1,-1]),s([12,70,30]),s([4,75,32]),s([0,-1,-1]),s([24,35,30]),s([1,40,28]),s([0,-1,-1]),s([23,20,32]),s([8,24,30]),s([0,-1,-1])]),s(["52",125,18,6,13489,s([14,95,18]),s([1,86,18]),s([0,-1,-1]),s([13,73,32]),s([3,77,30]),s([0,-1,-1]),s([24,35,30]),s([2,35,28]),s([0,-1,-1]),s([26,21,32]),s([5,21,30]),s([1,23,30])]),s(["53",127,18,6,13961,s([9,147,28]),s([1,142,28]),s([0,-1,-1]),s([10,73,30]),s([6,70,32]),s([1,71,32]),s([25,35,30]),s([2,34,26]),s([0,-1,-1]),s([29,21,32]),s([4,22,30]),s([0,-1,-1])]),s(["54",129,18,6,14441,s([11,126,24]),s([1,131,24]),s([0,-1,-1]),s([16,74,32]),s([1,79,30]),s([0,-1,-1]),s([25,38,32]),s([1,25,30]),s([0,-1,-1]),s([33,21,32]),s([1,28,28]),s([0,-1,-1])]),s(["55",131,19,6,14939,s([14,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,65,28]),s([1,72,28]),s([0,-1,-1]),s([24,37,32]),s([2,40,30]),s([1,41,30]),s([31,21,32]),s([4,24,32]),s([0,-1,-1])]),s(["56",133,19,6,15435,s([10,147,28]),s([1,151,28]),s([0,-1,-1]),s([15,71,30]),s([3,71,32]),s([1,73,32]),s([24,37,32]),s([3,38,30]),s([1,39,30]),s([36,19,30]),s([3,29,26]),s([0,-1,-1])]),s(["57",135,19,6,15939,s([15,105,20]),s([1,99,18]),s([0,-1,-1]),s([19,70,30]),s([1,64,28]),s([0,-1,-1]),s([27,38,32]),s([2,25,26]),s([0,-1,-1]),s([38,20,30]),s([2,18,28]),s([0,-1,-1])]),s(["58",137,17,7,16171,s([14,105,20]),s([1,113,22]),s([1,114,22]),s([17,67,30]),s([3,92,32]),s([0,-1,-1]),s([30,35,30]),s([1,41,30]),s([0,-1,-1]),s([36,21,32]),s([1,26,30]),s([1,27,30])]),s(["59",139,17,7,16691,s([11,146,28]),s([1,146,26]),s([0,-1,-1]),s([20,70,30]),s([1,60,26]),s([0,-1,-1]),s([29,38,32]),s([1,24,32]),s([0,-1,-1]),s([40,20,30]),s([2,17,26]),s([0,-1,-1])]),s(["60",141,18,7,17215,s([3,137,26]),s([1,136,26]),s([10,126,24]),s([22,65,28]),s([1,75,30]),s([0,-1,-1]),s([30,37,32]),s([1,51,30]),s([0,-1,-1]),s([42,20,30]),s([1,21,30]),s([0,-1,-1])]),s(["61",143,18,7,17751,s([12,126,24]),s([2,118,22]),s([1,116,22]),s([19,74,32]),s([1,74,30]),s([1,72,28]),s([30,38,32]),s([2,29,30]),s([0,-1,-1]),s([39,20,32]),s([2,37,26]),s([1,38,26])]),s(["62",145,18,7,18295,s([12,126,24]),s([3,136,26]),s([0,-1,-1]),s([21,70,30]),s([2,65,28]),s([0,-1,-1]),s([34,35,30]),s([1,44,32]),s([0,-1,-1]),s([42,20,30]),s([2,19,28]),s([2,18,28])]),s(["63",147,18,7,18847,s([12,126,24]),s([3,117,22]),s([1,116,22]),s([25,61,26]),s([2,62,28]),s([0,-1,-1]),s([34,35,30]),s([1,40,32]),s([1,41,32]),s([45,20,30]),s([1,20,32]),s([1,21,32])]),s(["64",149,19,7,19403,s([15,105,20]),s([2,115,22]),s([2,116,22]),s([25,65,28]),s([1,72,28]),s([0,-1,-1]),s([18,35,30]),s([17,37,32]),s([1,50,32]),s([42,20,30]),s([6,19,28]),s([1,15,28])]),s(["65",151,19,7,19971,s([19,105,20]),s([1,101,20]),s([0,-1,-1]),s([33,51,22]),s([1,65,22]),s([0,-1,-1]),s([40,33,28]),s([1,28,28]),s([0,-1,-1]),s([49,20,30]),s([1,18,28]),s([0,-1,-1])]),s(["66",153,17,8,20229,s([18,105,20]),s([2,117,22]),s([0,-1,-1]),s([26,65,28]),s([1,80,30]),s([0,-1,-1]),s([35,35,30]),s([3,35,28]),s([1,36,28]),s([52,18,28]),s([2,38,30]),s([0,-1,-1])]),s(["67",155,17,8,20805,s([26,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([26,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([45,31,26]),s([1,9,26]),s([0,-1,-1]),s([52,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["68",157,17,8,21389,s([16,126,24]),s([1,114,22]),s([1,115,22]),s([23,70,30]),s([3,65,28]),s([1,66,28]),s([40,35,30]),s([1,43,30]),s([0,-1,-1]),s([46,20,30]),s([7,19,28]),s([1,16,28])]),s(["69",159,18,8,21993,s([19,116,22]),s([1,105,22]),s([0,-1,-1]),s([20,70,30]),s([7,66,28]),s([1,63,28]),s([40,35,30]),s([1,42,32]),s([1,43,32]),s([54,20,30]),s([1,19,30]),s([0,-1,-1])]),s(["70",161,18,8,22593,s([17,126,24]),s([2,115,22]),s([0,-1,-1]),s([24,70,30]),s([4,74,32]),s([0,-1,-1]),s([48,31,26]),s([2,18,26]),s([0,-1,-1]),s([54,19,28]),s([6,15,26]),s([1,14,26])]),s(["71",163,18,8,23201,s([29,84,16]),s([0,-1,-1]),s([0,-1,-1]),s([29,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([6,34,30]),s([3,36,30]),s([38,33,28]),s([58,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["72",165,18,8,23817,s([16,147,28]),s([1,149,28]),s([0,-1,-1]),s([31,66,28]),s([1,37,26]),s([0,-1,-1]),s([48,33,28]),s([1,23,26]),s([0,-1,-1]),s([53,20,30]),s([6,19,28]),s([1,17,28])]),s(["73",167,19,8,24453,s([20,115,22]),s([2,134,24]),s([0,-1,-1]),s([29,66,28]),s([2,56,26]),s([2,57,26]),s([45,36,30]),s([2,15,28]),s([0,-1,-1]),s([59,20,30]),s([2,21,32]),s([0,-1,-1])]),s(["74",169,19,8,25085,s([17,147,28]),s([1,134,26]),s([0,-1,-1]),s([26,70,30]),s([5,75,32]),s([0,-1,-1]),s([47,35,30]),s([1,48,32]),s([0,-1,-1]),s([64,18,28]),s([2,33,30]),s([1,35,30])]),s(["75",171,17,9,25373,s([22,115,22]),s([1,133,24]),s([0,-1,-1]),s([33,65,28]),s([1,74,28]),s([0,-1,-1]),s([43,36,30]),s([5,27,28]),s([1,30,28]),s([57,20,30]),s([5,21,32]),s([1,24,32])]),s(["76",173,17,9,26021,s([18,136,26]),s([2,142,26]),s([0,-1,-1]),s([33,66,28]),s([2,49,26]),s([0,-1,-1]),s([48,35,30]),s([2,38,28]),s([0,-1,-1]),s([64,20,30]),s([1,20,32]),s([0,-1,-1])]),s(["77",175,17,9,26677,s([19,126,24]),s([2,135,26]),s([1,136,26]),s([32,66,28]),s([2,55,26]),s([2,56,26]),s([49,36,30]),s([2,18,32]),s([0,-1,-1]),s([65,18,28]),s([5,27,30]),s([1,29,30])]),s(["78",177,18,9,27335,s([20,137,26]),s([1,130,26]),s([0,-1,-1]),s([30,75,32]),s([2,71,32]),s([0,-1,-1]),s([46,35,30]),s([6,39,32]),s([0,-1,-1]),s([3,12,30]),s([70,19,28]),s([0,-1,-1])]),s(["79",179,18,9,28007,s([20,147,28]),s([0,-1,-1]),s([0,-1,-1]),s([35,70,30]),s([0,-1,-1]),s([0,-1,-1]),s([49,35,30]),s([5,35,28]),s([0,-1,-1]),s([70,20,30]),s([0,-1,-1]),s([0,-1,-1])]),s(["80",181,18,9,28687,s([21,136,26]),s([1,155,28]),s([0,-1,-1]),s([34,70,30]),s([1,64,28]),s([1,65,28]),s([54,35,30]),s([1,45,30]),s([0,-1,-1]),s([68,20,30]),s([3,18,28]),s([1,19,28])]),s(["81",183,18,9,29375,s([19,126,24]),s([5,115,22]),s([1,114,22]),s([33,70,30]),s([3,65,28]),s([1,64,28]),s([52,35,30]),s([3,41,32]),s([1,40,32]),s([67,20,30]),s([5,21,32]),s([1,24,32])]),s(["82",185,18,9,30071,s([2,150,28]),s([21,136,26]),s([0,-1,-1]),s([32,70,30]),s([6,65,28]),s([0,-1,-1]),s([52,38,32]),s([2,27,32]),s([0,-1,-1]),s([73,20,30]),s([2,22,32]),s([0,-1,-1])]),s(["83",187,17,10,30387,s([21,126,24]),s([4,136,26]),s([0,-1,-1]),s([30,74,32]),s([6,73,30]),s([0,-1,-1]),s([54,35,30]),s([4,40,32]),s([0,-1,-1]),s([75,20,30]),s([1,20,28]),s([0,-1,-1])]),s(["84",189,17,10,31091,s([30,105,20]),s([1,114,22]),s([0,-1,-1]),s([3,45,22]),s([55,47,20]),s([0,-1,-1]),s([2,26,26]),s([62,33,28]),s([0,-1,-1]),s([79,18,28]),s([4,33,30]),s([0,-1,-1])])]),e.eclval=c(e.eclevel,1)-49;for(var B=e.metrics,I=0,D=B.length;I<D;I++){e.m=c(B,I),e.vers=c(e.m,0),e.size=c(e.m,1),e.alnk=c(e.m,2),e.alnn=c(e.m,3),e.alnr=S(e.size-e.alnk*e.alnn),e.nmod=c(e.m,4),e.ncws=~~(e.nmod/8),e.rbit=e.nmod%8,e.ecbs=C(e.m,5+e.eclval*3,3);var T=e.ecbs;r[t++]="ecws",r[t++]=0;for(var R=0,$=T.length;R<$;R++){var F=c(T,R),_=r[--t];r[t++]=S(_+c(F,0)*c(F,2))}var Q=r[--t];if(e[r[--t]]=Q,e.dcws=S(e.ncws-e.ecws),e.dmod=e.dcws*8,e.okay=!0,Me(e.version,"unset")&&Me(e.version,e.vers)&&(e.okay=!1),e.bits.length>e.dmod&&(e.okay=!1),e.okay)break}e.okay||(r[t++]="bwipp.hanxinNoValidSymbol#25749",r[t++]="Maximum length exceeded or invalid content",z()),e.version=e.vers,e.msgbits=e.bits,e.e1nb=c(c(e.ecbs,0),0),e.e2nb=c(c(e.ecbs,1),0),e.e3nb=c(c(e.ecbs,2),0),e.e1dcws=c(c(e.ecbs,0),1),e.e2dcws=c(c(e.ecbs,1),1),e.e3dcws=c(c(e.ecbs,2),1),e.e1ecws=c(c(e.ecbs,0),2),e.e2ecws=c(c(e.ecbs,1),2),e.e3ecws=c(c(e.ecbs,2),2),e.pad=W(e.dmod);for(var H=0,J=e.pad.length-1;H<=J;H+=1)g(e.pad,H,48);M(e.pad,0,e.msgbits),e.cws=s(e.dcws);for(var K=0,he=e.cws.length-1;K<=he;K+=1){e.c=K,e.cwb=C(e.pad,e.c*8,8),e.cw=0;for(var G=0;G<=7;G+=1)e.i=G,e.cw=S(e.cw+~~li(2,8-e.i-1)*(c(e.cwb,e.i)-48));g(e.cws,e.c,e.cw)}e.rscodes=function(){e.rspm=r[--t],e.rsgf=r[--t],e.rsnc=r[--t],e.rscws=r[--t],r[t++]=1/0,r[t++]=1;for(var Ct=0,qt=e.rsgf-1;Ct<qt;Ct++){var tr=r[t-1],br=tr*2;if(r[t++]=br,br>=e.rsgf){var ir=r[--t];r[t++]=fs(ir,e.rspm)}}e.rsalog=s(),e.rslog=s(e.rsgf);for(var Br=1,or=e.rsgf-1;Br<=or;Br+=1)g(e.rslog,c(e.rsalog,Br),Br);e.rsprod=function(){var Ha=r[t-1],Qs=r[t-2];if(Ha!=0&&Qs!=0){var Ma=c(e.rslog,r[--t]),ms=c(e.rsalog,S(Ma+c(e.rslog,r[--t]))%(e.rsgf-1));r[t++]=ms}else t-=2,r[t++]=0},r[t++]=1/0,r[t++]=1;for(var Ut=0,yr=e.rsnc;Ut<yr;Ut++)r[t++]=0;e.coeffs=s();for(var ta=1,fa=e.rsnc;ta<=fa;ta+=1){e.i=ta,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var wa=e.i-1;wa>=1;wa-=1){e.j=wa,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var Lr=r[--t],Ea=r[--t],ga=r[--t];g(r[--t],ga,fs(Ea,Lr))}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var Ra=r[--t],la=r[--t];g(r[--t],la,Ra)}e.nd=e.rscws.length,r[t++]=1/0,O(e.rscws);for(var Aa=0,Ca=e.rsnc;Aa<Ca;Aa++)r[t++]=0;r[t++]=0,e.rscws=s();for(var ka=0,La=e.nd-1;ka<=La;ka+=1){e.k=fs(c(e.rscws,ka),c(e.rscws,e.nd));for(var Qa=0,Va=e.rsnc-1;Qa<=Va;Qa+=1){e.j=Qa,r[t++]=e.rscws,r[t++]=e.nd+e.j,r[t++]=c(e.rscws,e.nd+e.j+1),r[t++]=e.k,r[t++]=c(e.coeffs,S(e.rsnc-e.j)-1),e.rsprod();var ps=r[--t],Ia=r[--t],Bs=r[--t];g(r[--t],Bs,fs(Ia,ps))}}r[t++]=C(e.rscws,0,e.rscws.length-1)},e.dcwsb=s(S(e.e1nb+e.e2nb+e.e3nb)),e.ecwsb=s(e.dcwsb.length),e.in=0,e.out=0;for(var L=0,ce=e.e1nb;L<ce;L++){r[t++]=C(e.cws,e.in,e.e1dcws),r[t++]=e.e1ecws,r[t++]=256,r[t++]=355,e.rscodes();var fe=r[--t];g(e.dcwsb,e.out,C(fe,0,e.e1dcws)),g(e.ecwsb,e.out,C(fe,e.e1dcws,e.e1ecws)),e.in=S(e.in+e.e1dcws),e.out=e.out+1}for(var U=0,ee=e.e2nb;U<ee;U++){r[t++]=C(e.cws,e.in,e.e2dcws),r[t++]=e.e2ecws,r[t++]=256,r[t++]=355,e.rscodes();var se=r[--t];g(e.dcwsb,e.out,C(se,0,e.e2dcws)),g(e.ecwsb,e.out,C(se,e.e2dcws,e.e2ecws)),e.in=S(e.in+e.e2dcws),e.out=e.out+1}for(var de=0,ke=e.e3nb;de<ke;de++){r[t++]=C(e.cws,e.in,e.e3dcws),r[t++]=e.e3ecws,r[t++]=256,r[t++]=355,e.rscodes();var ae=r[--t];g(e.dcwsb,e.out,C(ae,0,e.e3dcws)),g(e.ecwsb,e.out,C(ae,e.e3dcws,e.e3ecws)),e.in=S(e.in+e.e3dcws),e.out=e.out+1}e.cws=s(e.ncws),e.cw=0;for(var De=0,we=e.dcwsb.length-1;De<=we;De+=1){e.i=De;var Ae=c(e.dcwsb,e.i);M(e.cws,e.cw,Ae),e.cw=Ae.length+e.cw;var Le=c(e.ecwsb,e.i);M(e.cws,e.cw,Le),e.cw=Le.length+e.cw}r[t++]=1/0;var xe=e.ncws,Oe=12,Te=xe-1;if(xe-1>12){var Pe=Oe;Oe=Te,Te=Pe}for(var Ue=0,Ze=Te;Ue<=Ze;Ue+=1)for(var te=Ue,oe=e.ncws-1;te<=oe;te+=13)if(r[t++]=te,te<e.ncws){var Re=c(e.cws,r[--t]);r[t++]=Re}else t--;e.cws=s(),e.rbit>0&&(e.pad=s(e.cws.length+1),M(e.pad,0,e.cws),g(e.pad,e.pad.length-1,0),e.cws=e.pad);var ze=c(e.options,"debugcws")!==void 0;ze&&(r[t++]="bwipp.debugcws#25872",r[t++]=e.cws,z()),r[t++]=1/0;for(var Je=0,Qe=e.size*e.size;Je<Qe;Je++)r[t++]=-1;if(e.pixs=s(),e.qmv=function(){var Ct=r[--t],qt=r[--t];r[t++]=S(qt+Ct*e.size)},e.alnn!=0){for(e.trmv=function(){var Ct=r[--t],qt=r[--t];r[t++]=S(Ct*e.size+e.size-1-qt)},e.aplot=function(){var Ct=r[t-2],qt=r[t-3],tr=r[t-1];t-=3,r[t++]=tr,r[t++]=qt,r[t++]=Ct,r[t++]=tr,r[t++]=Ct,r[t++]=qt,e.trmv();var br=r[--t];r[t++]=e.pixs,r[t++]=br;var ir=r[t-3],Br=r[t-1];g(r[t-2],Br,ir),t-=3,e.trmv();var or=r[--t];r[t++]=e.pixs,r[t++]=or;var Ut=r[t-3],yr=r[t-1];g(r[t-2],yr,Ut),t-=3},e.i=0,e.stag=0;!(e.i>=e.size);){for(var qe=0,ut=e.size-1;qe<=ut;qe+=1)if(e.j=qe,S(e.j+e.alnr)<e.size?r[t++]=(~~(e.j/e.alnk)+e.stag)%2==0&&!(e.i==0&&e.j<e.alnk)||e.j%e.alnk==0:r[t++]=S(e.alnn+e.stag)%2==0,r[--t]){r[t++]=e.j,r[t++]=e.i,r[t++]=1,e.aplot();var mt=e.j,lt=e.i;r[t++]=mt+1,r[t++]=lt+1,lt+1<e.size&&mt+1<e.size?(r[t++]=0,e.aplot()):t-=2}S(e.i+e.alnr)==e.size?e.i=S(e.i+e.alnr)-1:e.i=S(e.i+e.alnk),e.stag=1-e.stag}for(var vt=e.alnk,St=e.alnk,kt=e.size-2;St<0?vt>=kt:vt<=kt;vt+=St){if(e.i=vt,~~(e.i/e.alnk)%2!=0){r[t++]=e.pixs,r[t++]=0,r[t++]=e.i-1,e.trmv();var wt=r[--t];g(r[--t],wt,0),r[t++]=e.pixs,r[t++]=0,r[t++]=e.i+1,e.trmv();var Pt=r[--t];g(r[--t],Pt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i-1,e.trmv();var Mt=r[--t];g(r[--t],Mt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.trmv();var Lt=r[--t];g(r[--t],Lt,0),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i+1,e.trmv();var Dt=r[--t];g(r[--t],Dt,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=0,e.trmv();var jt=r[--t];g(r[--t],jt,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=0,e.trmv();var P=r[--t];g(r[--t],P,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=1,e.trmv();var V=r[--t];g(r[--t],V,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=1,e.trmv();var q=r[--t];g(r[--t],q,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=1,e.trmv();var ne=r[--t];g(r[--t],ne,0)}r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var ue=r[--t];if(c(r[--t],ue)!=1){r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i-1,e.trmv();var be=r[--t];g(r[--t],be,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i-1,e.trmv();var re=r[--t];g(r[--t],re,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i,e.trmv();var Se=r[--t];g(r[--t],Se,0),r[t++]=e.pixs,r[t++]=e.size-2,r[t++]=e.i+1,e.trmv();var X=r[--t];g(r[--t],X,0),r[t++]=e.pixs,r[t++]=e.size-1,r[t++]=e.i+1,e.trmv();var ve=r[--t];g(r[--t],ve,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-1,e.trmv();var me=r[--t];g(r[--t],me,0),r[t++]=e.pixs,r[t++]=e.i-1,r[t++]=e.size-2,e.trmv();var je=r[--t];g(r[--t],je,0),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.size-2,e.trmv();var le=r[--t];g(r[--t],le,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-2,e.trmv();var ye=r[--t];g(r[--t],ye,0),r[t++]=e.pixs,r[t++]=e.i+1,r[t++]=e.size-1,e.trmv();var Ie=r[--t];g(r[--t],Ie,0)}}}e.fpat=s([s([1,1,1,1,1,1,1,0]),s([1,0,0,0,0,0,0,0]),s([1,0,1,1,1,1,1,0]),s([1,0,1,0,0,0,0,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([1,0,1,0,1,1,1,0]),s([0,0,0,0,0,0,0,0])]),e.fpat2=s([s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([1,1,1,0,1,0,1,0]),s([0,0,0,0,1,0,1,0]),s([1,1,1,1,1,0,1,0]),s([0,0,0,0,0,0,1,0]),s([1,1,1,1,1,1,1,0]),s([0,0,0,0,0,0,0,0])]);for(var pe=0,Ce=e.fpat.length-1;pe<=Ce;pe+=1){e.y=pe;for(var Ne=0,Be=c(e.fpat,0).length-1;Ne<=Be;Ne+=1){e.x=Ne,e.fpb=c(c(e.fpat,e.y),e.x),e.fpb2=c(c(e.fpat2,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var Ge=r[--t];g(r[--t],Ge,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=e.y,e.qmv();var He=r[--t];g(r[--t],He,e.fpb),r[t++]=e.pixs,r[t++]=S(e.size-e.x)-1,r[t++]=S(e.size-e.y)-1,e.qmv();var Xe=r[--t];g(r[--t],Xe,e.fpb),r[t++]=e.pixs,r[t++]=e.x,r[t++]=S(e.size-e.y)-1,e.qmv();var st=r[--t];g(r[--t],st,e.fpb2)}}e.functionmap=s([s([s([0,8]),s([e.size-1,e.size-9])]),s([s([1,8]),s([e.size-2,e.size-9])]),s([s([2,8]),s([e.size-3,e.size-9])]),s([s([3,8]),s([e.size-4,e.size-9])]),s([s([4,8]),s([e.size-5,e.size-9])]),s([s([5,8]),s([e.size-6,e.size-9])]),s([s([6,8]),s([e.size-7,e.size-9])]),s([s([7,8]),s([e.size-8,e.size-9])]),s([s([8,8]),s([e.size-9,e.size-9])]),s([s([8,7]),s([e.size-9,e.size-8])]),s([s([8,6]),s([e.size-9,e.size-7])]),s([s([8,5]),s([e.size-9,e.size-6])]),s([s([8,4]),s([e.size-9,e.size-5])]),s([s([8,3]),s([e.size-9,e.size-4])]),s([s([8,2]),s([e.size-9,e.size-3])]),s([s([8,1]),s([e.size-9,e.size-2])]),s([s([8,0]),s([e.size-9,e.size-1])]),s([s([e.size-9,0]),s([8,e.size-1])]),s([s([e.size-9,1]),s([8,e.size-2])]),s([s([e.size-9,2]),s([8,e.size-3])]),s([s([e.size-9,3]),s([8,e.size-4])]),s([s([e.size-9,4]),s([8,e.size-5])]),s([s([e.size-9,5]),s([8,e.size-6])]),s([s([e.size-9,6]),s([8,e.size-7])]),s([s([e.size-9,7]),s([8,e.size-8])]),s([s([e.size-9,8]),s([8,e.size-9])]),s([s([e.size-8,8]),s([7,e.size-9])]),s([s([e.size-7,8]),s([6,e.size-9])]),s([s([e.size-6,8]),s([5,e.size-9])]),s([s([e.size-5,8]),s([4,e.size-9])]),s([s([e.size-4,8]),s([3,e.size-9])]),s([s([e.size-3,8]),s([2,e.size-9])]),s([s([e.size-2,8]),s([1,e.size-9])]),s([s([e.size-1,8]),s([0,e.size-9])])]);for(var at=e.functionmap,Ee=0,Ve=at.length;Ee<Ve;Ee++)ge(c(at,Ee),function(){O(r[--t]),e.qmv(),g(e.pixs,r[--t],0)});var Ye=s([function(){t-=2,r[t++]=1},function(){var Ct=r[--t],qt=r[--t];r[t++]=S(qt+Ct)%2},function(){var Ct=r[--t],qt=r[--t];r[t++]=S((Ct+qt)%3+qt%3)%2},function(){var Ct=r[--t],qt=r[--t];r[t++]=S(qt%Ct+(Ct%qt+(Ct%3+qt%3)))%2}]);e.maskfuncs=Ye,e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask-1)]),e.bestmaskval=e.mask-1),e.masks=s(e.maskfuncs.length);for(var et=0,ht=e.masks.length-1;et<=ht;et+=1){e.m=et,e.mask=s(e.size*e.size);for(var pt=0,ft=e.size-1;pt<=ft;pt+=1){e.j=pt;for(var gt=0,nt=e.size-1;gt<=nt&&(e.i=gt,r[t++]=e.i+1,r[t++]=e.j+1,c(e.maskfuncs,e.m)()!==!0);gt+=1){var Tt=r[--t];r[t++]=Tt==0,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var tt=r[--t],Qt=c(r[--t],tt),Ht=r[--t],Ot=Ht&&Qt==-1?1:0;r[t++]=Ot,r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.qmv();var sr=r[t-3],Sr=r[t-1];g(r[t-2],Sr,sr),t-=3}}g(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.num=0;e.posy!=e.size;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var nr=r[--t];if(c(r[--t],nr)==-1){var gr=c(e.cws,~~(e.num/8)),ar=-(7-e.num%8);r[t++]=(ar<0?gr>>>-ar:gr<<ar)&1,r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.qmv();var Ir=r[t-3],Zt=r[t-1];g(r[t-2],Zt,Ir),t-=3,e.num=e.num+1}e.posx=e.posx+1,e.posx==e.size&&(e.posx=0,e.posy=e.posy+1)}e.evalfulln1n3=function(){e.scrle=r[--t],r[t++]="scr1",r[t++]=0,ge(e.scrle,function(){var Aa=r[t-1];if(Aa>=3){var Ca=r[--t],ka=S(r[--t]+Ca*4);r[t++]=ka,r[t++]=ka}t--});var Ct=r[--t];e[r[--t]]=Ct,e.scr3=0;for(var qt=5,tr=e.scrle.length-1;qt<=tr;qt+=2)if(e.j=qt,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var br=C(e.scrle,e.j-4,4),ir=0,Br=br.length;ir<Br;ir++)r[t++]=c(br,ir)==e.fact;var or=r[--t],Ut=r[--t],yr=r[--t];r[--t]&&yr&&Ut&&or&&(e.j==5||e.j+2>=e.scrle.length||c(e.scrle,e.j-5)>=3||c(e.scrle,e.j+1)>=3)&&(e.scr3=e.scr3+50)}for(var ta=1,fa=e.scrle.length-5;ta<=fa;ta+=2)if(e.j=ta,c(e.scrle,e.j)%3==0){e.fact=~~(c(e.scrle,e.j)/3);for(var wa=C(e.scrle,e.j+1,4),Lr=0,Ea=wa.length;Lr<Ea;Lr++)r[t++]=c(wa,Lr)==e.fact;var ga=r[--t],Ra=r[--t],la=r[--t];r[--t]&&la&&Ra&&ga&&(e.j==1||e.j+6>=e.scrle.length||c(e.scrle,e.j-1)>=3||c(e.scrle,e.j+5)>=3)&&(e.scr3=e.scr3+50)}r[t++]=e.scr1,r[t++]=e.scr3},e.evalfull=function(){e.sym=r[--t],e.n1=0,e.n3=0,e.rle=s(e.size+1),e.lastpairs=s(e.size),e.thispairs=s(e.size),e.sizeadd1=e.size+1;for(var Ct=0,qt=e.size-1;Ct<=qt;Ct+=1){e.i=Ct,r[t++]=1/0;var tr=e.size;r[t++]=0,r[t++]=0;for(var br=e.i,ir=tr,Br=tr*tr-1;ir<0?br>=Br:br<=Br;br+=ir){var or=c(e.sym,br),Ut=r[--t];if(r[t++]=or,Y(Ut,or)){var yr=r[--t],ta=r[--t];r[t++]=ta+1,r[t++]=yr}else{var fa=r[--t];r[t++]=1,r[t++]=fa}}t--;var wa=xa()+2;Vt(C(e.rle,0,wa-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--,e.symrow=C(e.sym,e.i*e.size,e.size),r[t++]=1/0;var Lr=e.symrow;r[t++]=0,r[t++]=0;for(var Ea=0,ga=Lr.length;Ea<ga;Ea++){var Ra=c(Lr,Ea),la=r[--t];if(r[t++]=Ra,Y(la,Ra)){var Aa=r[--t],Ca=r[--t];r[t++]=Ca+1,r[t++]=Aa}else{var ka=r[--t];r[t++]=1,r[t++]=ka}}t--;var La=xa()+2;Vt(C(e.rle,0,La-2)),e.evalfulln1n3(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}r[t++]=S(e.n1+e.n3)},e.bestscore=999999999;for(var dr=0,Kt=e.masks.length-1;dr<=Kt;dr+=1){e.m=dr,e.masksym=s(e.size*e.size);for(var Jt=0,ur=e.size*e.size-1;Jt<=ur;Jt+=1)e.i=Jt,g(e.masksym,e.i,fs(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalfull(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}e.pixs=e.bestsym,e.funval=((~~((e.size-21)/2)+20)*4+e.eclval)*4+e.bestmaskval,r[t++]=s([(e.funval&3840)>>>8,(e.funval&240)>>>4,e.funval&15]),r[t++]=4,r[t++]=16,r[t++]=19,e.rscodes(),e.funvals=r[--t],r[t++]=1/0,ge(e.funvals,function(){r[t++]=4,e.tobin(),ge(r[--t],function(){var Ct=r[--t];r[t++]=Ct-48})}),r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1,e.funbits=s();for(var Tr=0,_r=e.functionmap.length-1;Tr<=_r;Tr+=1)e.i=Tr,ge(c(e.functionmap,e.i),function(){var Ct=r[--t];r[t++]=e.pixs,O(Ct),e.qmv();var qt=r[--t];g(r[--t],qt,c(e.funbits,e.i))});var ua=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.size],["pixy",e.size],["height",e.size*2/72],["width",e.size*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=ua,e.dontdraw||xt(),e=a}function Fw(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.ratio=-1,e.parse=!1,e.parsefnc=!1,e.raw=!1,e.fast=!1,e.mask=-1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.rows!=-1&&e.rows<5&&(r[t++]="bwipp.dotcodeBadRows#26228",r[t++]="There must be at least 5 rows",z()),e.columns!=-1&&e.columns<5&&(r[t++]="bwipp.dotcodeBadColumns#26234",r[t++]="There must be at least 5 columns",z()),e.rows!=-1&&e.columns!=-1&&(e.rows+e.columns)%2!=1&&(r[t++]="bwipp.dotcodeRowsColumnsBadParity#26239",r[t++]="Sum of rows and columns must be odd",z()),e.ratio==-1&&e.rows==-1&&e.columns==-1&&(e.ratio=3/2),e.ratio!=-1&&e.ratio<=0&&(r[t++]="bwipp.dotcodeRatio#26248",r[t++]="The ratio must be greater than 0",z()),e.mask!=-1&&(e.mask<0||e.mask>3)&&(r[t++]="bwipp.dotcodeBadMask#26254",r[t++]="Valid mask values are 0 to 3",z()),e.laa=-1,e.lab=-2,e.lac=-3,e.bin=-4,e.sfa=-5,e.sfb=-6,e.sb2=-7,e.sb3=-8,e.sb4=-9,e.sb5=-10,e.sb6=-11,e.sfc=-12,e.sc2=-13,e.sc3=-14,e.sc4=-15,e.sc5=-16,e.sc6=-17,e.sc7=-18,e.bsa=-19,e.bsb=-20,e.tma=-21,e.tmb=-22,e.tmc=-23,e.tms=-24,e.fn1=-25,e.fn2=-26,e.fn3=-27,e.crl=-28,e.aim=-29,e.m05=-30,e.m06=-31,e.m12=-32,e.mac=-33;var n=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["eci",!0],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=n,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,e.msglen=e.msg.length;var o=e.msg;r[t++]="numecis",r[t++]=0;for(var d=0,u=o.length;d<u;d++)if(c(o,d)<=-1e6){var f=r[--t];r[t++]=f+1}var h=r[--t];e[r[--t]]=h,e.msgtmp=s(S(e.msg.length+e.numecis*6)),e.j=0;for(var p=0,m=e.msg.length-1;p<=m;p+=1){var x=c(e.msg,p);if(r[t++]=x,x<=-1e6){for(var b=C($t(W(7),-r[--t],10),1,6),y=0,w=b.length;y<w;y++)r[t++]=c(b,y);Vt(s(6)),M(e.msgtmp,e.j+1,r[--t]),g(e.msgtmp,e.j,e.fn2),e.j=e.j+7}else g(e.msgtmp,e.j,r[--t]),e.j=e.j+1}e.msg=e.msgtmp,e.msglen=e.msg.length,e.charmaps=s([s([32,32,"00"]),s(["!","!","01"]),s(['"','"',"02"]),s(["#","#","03"]),s(["$","$","04"]),s(["%","%","05"]),s(["&","&","06"]),s(["'","'","07"]),s([40,40,"08"]),s([41,41,"09"]),s(["*","*","10"]),s(["+","+","11"]),s([",",",","12"]),s(["-","-","13"]),s([".",".","14"]),s(["/","/","15"]),s(["0","0","16"]),s(["1","1","17"]),s(["2","2","18"]),s(["3","3","19"]),s(["4","4","20"]),s(["5","5","21"]),s(["6","6","22"]),s(["7","7","23"]),s(["8","8","24"]),s(["9","9","25"]),s([":",":","26"]),s([";",";","27"]),s(["<","<","28"]),s(["=","=","29"]),s([">",">","30"]),s(["?","?","31"]),s(["@","@","32"]),s(["A","A","33"]),s(["B","B","34"]),s(["C","C","35"]),s(["D","D","36"]),s(["E","E","37"]),s(["F","F","38"]),s(["G","G","39"]),s(["H","H","40"]),s(["I","I","41"]),s(["J","J","42"]),s(["K","K","43"]),s(["L","L","44"]),s(["M","M","45"]),s(["N","N","46"]),s(["O","O","47"]),s(["P","P","48"]),s(["Q","Q","49"]),s(["R","R","50"]),s(["S","S","51"]),s(["T","T","52"]),s(["U","U","53"]),s(["V","V","54"]),s(["W","W","55"]),s(["X","X","56"]),s(["Y","Y","57"]),s(["Z","Z","58"]),s(["[","[","59"]),s([92,92,"60"]),s(["]","]","61"]),s(["^","^","62"]),s(["_","_","63"]),s([0,"`","64"]),s([1,"a","65"]),s([2,"b","66"]),s([3,"c","67"]),s([4,"d","68"]),s([5,"e","69"]),s([6,"f","70"]),s([7,"g","71"]),s([8,"h","72"]),s([9,"i","73"]),s([10,"j","74"]),s([11,"k","75"]),s([12,"l","76"]),s([13,"m","77"]),s([14,"n","78"]),s([15,"o","79"]),s([16,"p","80"]),s([17,"q","81"]),s([18,"r","82"]),s([19,"s","83"]),s([20,"t","84"]),s([21,"u","85"]),s([22,"v","86"]),s([23,"w","87"]),s([24,"x","88"]),s([25,"y","89"]),s([26,"z","90"]),s([27,"{","91"]),s([28,"|","92"]),s([29,"}","93"]),s([30,"~","94"]),s([31,127,"95"]),s([e.sfb,e.crl,"96"]),s([e.sb2,9,"97"]),s([e.sb3,28,"98"]),s([e.sb4,29,"99"]),s([e.sb5,30,e.aim]),s([e.sb6,e.sfa,e.laa]),s([e.lab,e.laa,e.sfb]),s([e.sc2,e.sc2,e.sb2]),s([e.sc3,e.sc3,e.sb3]),s([e.sc4,e.sc4,e.sb4]),s([e.lac,e.lac,e.lab]),s([e.fn1,e.fn1,e.fn1]),s([e.fn2,e.fn2,e.fn2]),s([e.fn3,e.fn3,e.fn3]),s([e.bsa,e.bsa,e.bsa]),s([e.bsb,e.bsb,e.bsb]),s([e.bin,e.bin,e.bin])]),e.charvals=s([new Map,new Map,new Map]);for(var v=0,A=e.charmaps.length-1;v<=A;v+=1){e.i=v,e.encs=c(e.charmaps,e.i);for(var k=0;k<=2;k+=1){e.j=k;var E=c(e.encs,e.j);if(r[t++]=E,Y(tn(E),"stringtype")){var j=c(r[--t],0);r[t++]=j}g(c(e.charvals,e.j),r[--t],e.i)}}e.Avals=c(e.charvals,0),e.Bvals=c(e.charvals,1),g(e.Bvals,e.m05,97),g(e.Bvals,e.m06,98),g(e.Bvals,e.m12,99),g(e.Bvals,e.mac,100),e.Cvals=c(e.charvals,2),r[t++]=1/0;var N=s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7,e.tma,e.tmb,e.tmc,e.tms]);r[t++]=102;for(var B=0,I=N.length;B<I;B++){var D=r[--t]+1;r[t++]=c(N,B),r[t++]=D,r[t++]=D}t--,e.BINvals=$e(),e.A=0,e.B=1,e.C=2,e.BIN=3,r[t++]=1/0;for(var T=0,R=e.msglen+1;T<R;T++)r[t++]=0;e.nDigits=s(),r[t++]=1/0;for(var $=0,F=e.msglen+1;$<F;$++)r[t++]=!1;e.SeventeenTen=s(),r[t++]=1/0;for(var _=0,Q=e.msglen+1;_<Q;_++)r[t++]=!1;e.ECI=s(),r[t++]=1/0;for(var H=0,J=e.msglen+1;H<J;H++)r[t++]=!1;e.DatumA=s(),r[t++]=1/0;for(var K=0,he=e.msglen+1;K<he;K++)r[t++]=!1;e.DatumB=s(),r[t++]=1/0;for(var G=0,L=e.msglen+1;G<L;G++)r[t++]=!1;e.DatumC=s(),r[t++]=1/0;for(var ce=0,fe=e.msglen+8;ce<fe;ce++)r[t++]=!1;e.Binary=s(),r[t++]=1/0;for(var U=0,ee=e.msglen+1;U<ee;U++)r[t++]=0;e.AheadC=s(),r[t++]=1/0;for(var se=0,de=e.msglen+1;se<de;se++)r[t++]=0;e.TryC=s(),r[t++]=1/0;for(var ke=0,ae=e.msglen+1;ke<ae;ke++)r[t++]=0;e.AheadA=s(),r[t++]=1/0;for(var De=0,we=e.msglen+1;De<we;De++)r[t++]=0;e.AheadB=s(),r[t++]=1/0;for(var Ae=0,Le=e.msglen+1;Ae<Le;Ae++)r[t++]=0;e.UntilEndSeg=s();for(var xe=e.msglen-1;xe>=0;xe-=1){e.i=xe,e.barchar=c(e.msg,e.i),e.barchar>=48&&e.barchar<=57&&g(e.nDigits,e.i,c(e.nDigits,e.i+1)+1);var Oe=c(e.Avals,e.barchar)!==void 0;Oe&&g(e.DatumA,e.i,!0);var Te=c(e.Bvals,e.barchar)!==void 0;if(Te&&g(e.DatumB,e.i,!0),e.CRLF=!1,e.barchar==13&&e.i<e.msglen-1&&c(e.msg,e.i+1)==10&&(e.CRLF=!0),e.CRLF&&g(e.DatumB,e.i,!0),c(e.nDigits,e.i)>=2&&g(e.DatumC,e.i,!0),e.barchar<0&&g(e.DatumC,e.i,!0),e.barchar>=128&&g(e.Binary,e.i,!0),c(e.nDigits,e.i)>=10){r[t++]=1/0,O(C(e.msg,e.i,10));for(var Pe=0;Pe<1;Pe++){if(r[--t]!=48){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}if(t-=6,r[--t]!=55){r[t++]=!1;break}if(r[--t]!=49){r[t++]=!1;break}r[t++]=!0}r[t++]=e.SeventeenTen,r[t++]=e.i;var Ue=r[t-3],Ze=r[t-1];g(r[t-2],Ze,Ue),t-=3,el()}if(c(e.nDigits,e.i+1)>=6&&c(e.msg,e.i)==e.fn2&&g(e.ECI,e.i,!0),e.barchar<0&&e.barchar!=e.fn3?g(e.AheadC,e.i,c(e.AheadC,e.i+1)+1):c(e.nDigits,e.i)<=1?g(e.AheadC,e.i,0):g(e.AheadC,e.i,c(e.AheadC,e.i+2)+1),c(e.nDigits,e.i)>0&&B1(c(e.AheadC,e.i),c(e.AheadC,e.i+1))&&g(e.TryC,e.i,c(e.AheadC,e.i)),c(e.DatumA,e.i)&&c(e.TryC,e.i)<2&&e.barchar!=e.fn3&&g(e.AheadA,e.i,c(e.AheadA,e.i+1)+1),c(e.DatumB,e.i)&&c(e.TryC,e.i)<2&&e.barchar!=e.fn3){if(r[t++]=e.AheadB,r[t++]=e.i,r[t++]=e.AheadB,r[t++]=e.i+1,e.CRLF){var te=r[--t];r[t++]=te+1}var oe=r[--t],Re=c(r[--t],oe),ze=r[--t];g(r[--t],ze,Re+1)}e.barchar!=e.fn3&&g(e.UntilEndSeg,e.i,c(e.UntilEndSeg,e.i+1)+1)}for(e.addtocws=function(){var ve=r[--t];M(e.cws,e.j,ve),e.j=ve.length+e.j},e.base259to103=function(){e.in=r[--t],e.inlen=e.in.length,r[t++]=1/0;for(var ve=0,me=5-e.inlen;ve<me;ve++)r[t++]=0;O(e.in),e.in=s(),e.out=s(6),r[t++]=1/0,O(C(e.in,0,2)),e.msbs=s(),r[t++]=1/0,O(e.msbs);var je=r[--t],le=r[--t];r[t++]=S(je+le*259);for(var ye=0;ye<2;ye++){var Ie=r[--t];r[t++]=Ie%103,r[t++]=~~(Ie/103)}e.mscs=s(),r[t++]=1/0,O(C(e.in,2,3)),e.lsbs=s(),r[t++]=1/0,O(e.lsbs);var pe=r[--t],Ce=r[--t],Ne=r[--t];r[t++]=S(pe+Ce*259+Ne*67081);for(var Be=0;Be<3;Be++){var Ge=r[--t];r[t++]=Ge%103,r[t++]=~~(Ge/103)}e.lscs=s();var He=c(e.lscs,0),Xe=c(e.mscs,0);g(e.out,5,S(He+Xe*42)%103);var st=c(e.lscs,1),at=c(e.mscs,0),Ee=c(e.mscs,1);g(e.out,4,S(~~((He+Xe*42)/103)+st+at*68+Ee*42)%103);var Ve=c(e.lscs,2),Ye=c(e.mscs,0),et=c(e.mscs,1),ht=c(e.mscs,2);g(e.out,3,S(~~((~~((He+Xe*42)/103)+st+at*68+Ee*42)/103)+Ve+Ye*92+et*68+ht*42)%103);var pt=c(e.lscs,3),ft=c(e.mscs,0),gt=c(e.mscs,1),nt=c(e.mscs,2);g(e.out,2,S(~~((~~((~~((He+Xe*42)/103)+st+at*68+Ee*42)/103)+Ve+Ye*92+et*68+ht*42)/103)+pt+ft*15+gt*92+nt*68)%103);var Tt=c(e.mscs,1),tt=c(e.mscs,2);g(e.out,1,S(~~((~~((~~((~~((He+Xe*42)/103)+st+at*68+Ee*42)/103)+Ve+Ye*92+et*68+ht*42)/103)+pt+ft*15+gt*92+nt*68)/103)+Tt*15+tt*92)%103),g(e.out,0,S(~~((~~((~~((~~((~~((He+Xe*42)/103)+st+at*68+Ee*42)/103)+Ve+Ye*92+et*68+ht*42)/103)+pt+ft*15+gt*92+nt*68)/103)+Tt*15+tt*92)/103)+c(e.mscs,2)*15)%103),r[t++]=C(e.out,6-e.inlen-1,e.inlen+1)},e.finaliseBIN=function(){e.bpos!=0&&(r[t++]=C(e.bvals,0,e.bpos),e.base259to103(),O(r[--t]),e.bpos=0)},e.addtobin=function(){g(e.bvals,e.bpos,r[--t]),e.bpos=e.bpos+1,e.bpos==5&&e.finaliseBIN()},e.ECIabc=function(){var ve=C(e.msg,e.i+1,6);r[t++]=0;for(var me=0,je=ve.length;me<je;me++){var le=r[--t];r[t++]=S(le+(c(ve,me)-48))*10}var ye=~~(r[--t]/10);if(r[t++]=ye,ye>=40){var Ie=r[--t]-40,pe=Ie%12769;r[t++]=~~(Ie/12769)+40,r[t++]=~~(pe/113),r[t++]=pe%113}},e.ECIbin=function(){r[t++]=1/0;var ve=C(e.msg,e.i+1,6);r[t++]=0;for(var me=0,je=ve.length;me<je;me++){var le=r[--t];r[t++]=S(le+(c(ve,me)-48))*10}var ye=~~(r[--t]/10);if(r[t++]=ye,ye>=65536){var Ie=r[--t],pe=Ie%65536;r[t++]=258,r[t++]=~~(Ie/65536),r[t++]=~~(pe/256),r[t++]=pe%256}else{var Ce=r[t-1];if(Ce>=256){var Ne=r[--t];r[t++]=257,r[t++]=~~(Ne/256),r[t++]=Ne%256}else{var Be=r[--t];r[t++]=256,r[t++]=Be}}for(var Ge=s(),He=0,Xe=Ge.length;He<Xe;He++)r[t++]=c(Ge,He),e.addtobin()},e.encC=function(){for(var ve=0;ve<1;ve++){if(e.i==e.segstart){for(var me=0;me<1;me++){if(e.i>e.segend-7){r[t++]=0;break}if(c(e.msg,e.segstart)!=91){r[t++]=0;break}if(c(e.msg,e.segstart+1)!=41){r[t++]=0;break}if(c(e.msg,e.segstart+2)!=62){r[t++]=0;break}if(c(e.msg,e.segstart+3)!=30){r[t++]=0;break}var je=c(e.msg,e.segstart+4);if(je<48||je>57){r[t++]=0;break}var le=c(e.msg,e.segstart+5);if(le<48||le>57){r[t++]=0;break}if(c(e.msg,e.segend-1)!=4){r[t++]=0;break}var ye=S((c(e.msg,e.segstart+4)-48)*10+(c(e.msg,e.segstart+5)-48));if(r[t++]=ye,ye!=5&&ye!=6&&ye!=12){r[t-1]=e.mac;break}if(c(e.msg,e.segstart+6)!=29){r[t-1]=0;break}if(c(e.msg,e.segend-2)!=30){r[t-1]=0;break}var Ie=r[t-1];if(Ie==5){r[t-1]=e.m05;break}if(r[--t]==6){r[t++]=e.m06;break}r[t++]=e.m12;break}if(e.inmac=r[--t],e.inmac!=0){r[t++]=s([c(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B,r[t++]=s([c(e.Bvals,e.inmac)]),e.addtocws(),e.inmac==e.mac?(r[t++]=s([c(e.Bvals,c(e.msg,e.segstart+4))]),e.addtocws(),r[t++]=s([c(e.Bvals,c(e.msg,e.segstart+5))]),e.addtocws(),e.i=e.i+6):e.i=e.i+7;break}}if(e.i==e.segstart&&(c(e.nDigits,e.i)>=2&&(r[t++]=s([c(e.Cvals,e.fn1)]),e.addtocws()),c(e.msg,e.i)==e.fn1&&c(e.nDigits,e.i+1)>=2&&(e.i=e.i+1)),c(e.SeventeenTen,e.i)){r[t++]=s([c(e.Cvals,e.aim),S((c(e.msg,e.i+2)-48)*10+(c(e.msg,e.i+3)-48)),S((c(e.msg,e.i+4)-48)*10+(c(e.msg,e.i+5)-48)),S((c(e.msg,e.i+6)-48)*10+(c(e.msg,e.i+7)-48))]),e.addtocws(),e.i=e.i+10;break}if(c(e.DatumC,e.i)){var pe=c(e.msg,e.i);if(pe==e.fn1||pe==e.fn2||pe==e.fn3){if(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var Ce=s();r[t++]=Ce,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.segstart!=e.i){e.i=e.i+1,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2;break}if(c(e.Binary,e.i)){if(c(e.nDigits,e.i+1)>0){c(e.msg,e.i)<160?(r[t++]=s([c(e.Cvals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Cvals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Cvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.m=c(e.AheadA,e.i),e.n=c(e.AheadB,e.i),B1(e.m,e.n)){r[t++]=s([c(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}if(e.i==e.segstart){var Ne=c(e.msg,e.i);if(Ne==9||Ne==28||Ne==29||Ne==30){r[t++]=s([c(e.Cvals,e.laa)]),e.addtocws(),e.mode=e.A;break}}if(e.n>4){r[t++]=s([c(e.Cvals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([c(e.Cvals,c(s([e.sfb,e.sb2,e.sb3,e.sb4]),e.n-1))]),e.addtocws();for(var Be=0,Ge=e.n;Be<Ge;Be++)c(e.msg,e.i)==13?(r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encB=function(){for(var ve=0;ve<1;ve++){if(e.n=c(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([c(e.Bvals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.Bvals,c(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,je=e.n;me<je;me++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.DatumB,e.i)){var le=c(e.msg,e.i);if(le==e.fn1||le==e.fn2||le==e.fn3){if(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var ye=s();r[t++]=ye,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}if(c(e.msg,e.i)==13&&e.i<e.msglen-1&&c(e.msg,e.i+1)==10){r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2;break}r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(c(e.Binary,e.i)){if(c(e.DatumB,e.i+1)){c(e.msg,e.i)<160?(r[t++]=s([c(e.Bvals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Bvals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Bvals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(c(e.AheadA,e.i)==1){r[t++]=s([c(e.Bvals,e.sfa),c(e.Avals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}r[t++]=s([c(e.Bvals,e.laa)]),e.addtocws(),e.mode=e.A;break}},e.encA=function(){for(var ve=0;ve<1;ve++){if(e.n=c(e.TryC,e.i),e.n>=2){if(e.n>4){r[t++]=s([c(e.Avals,e.lac)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.Avals,c(s([e.sfc,e.sc2,e.sc3,e.sc4]),e.n-1))]),e.addtocws();for(var me=0,je=e.n;me<je;me++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.DatumA,e.i)){var le=c(e.msg,e.i);if(le==e.fn1||le==e.fn2||le==e.fn3){if(r[t++]=s([c(e.Avals,c(e.msg,e.i))]),e.addtocws(),c(e.ECI,e.i)){r[t++]=1/0,e.ECIabc();var ye=s();r[t++]=ye,e.addtocws(),e.i=e.i+7;break}if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}e.i=e.i+1;break}r[t++]=s([c(e.Avals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1;break}if(c(e.Binary,e.i)){if(c(e.DatumA,e.i+1)){c(e.msg,e.i)<160?(r[t++]=s([c(e.Avals,e.bsa),c(e.Avals,c(e.msg,e.i)-128)]),e.addtocws()):(r[t++]=s([c(e.Avals,e.bsb),c(e.Bvals,c(e.msg,e.i)-128)]),e.addtocws()),e.i=e.i+1;break}r[t++]=s([c(e.Avals,e.bin)]),e.addtocws(),e.mode=e.BIN;break}if(e.n=c(e.AheadB,e.i),e.n>6){r[t++]=s([c(e.Avals,e.lab)]),e.addtocws(),e.mode=e.B;break}r[t++]=s([c(e.Avals,c(s([e.sfb,e.sb2,e.sb3,e.sb4,e.sb5,e.sb6]),e.n-1))]),e.addtocws();for(var Ie=0,pe=e.n;Ie<pe;Ie++)c(e.msg,e.i)==13?(r[t++]=s([c(e.Bvals,e.crl)]),e.addtocws(),e.i=e.i+2):(r[t++]=s([c(e.Bvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1);break}},e.encBIN=function(){for(var ve=0;ve<1;ve++){if(e.n=c(e.TryC,e.i),e.n>=2){r[t++]=1/0,e.finaliseBIN();var me=s();if(r[t++]=me,e.addtocws(),e.n>7){r[t++]=s([c(e.BINvals,e.tmc)]),e.addtocws(),e.mode=e.C;break}r[t++]=s([c(e.BINvals,c(s([e.sc2,e.sc3,e.sc4,e.sc5,e.sc6,e.sc7]),e.n-2))]),e.addtocws();for(var je=0,le=e.n;je<le;je++)c(e.msg,e.i)<0?(r[t++]=s([c(e.Cvals,c(e.msg,e.i))]),e.addtocws(),e.i=e.i+1):(r[t++]=s([S((c(e.msg,e.i)-48)*10+(c(e.msg,e.i+1)-48))]),e.addtocws(),e.i=e.i+2);break}if(c(e.ECI,e.i)&&c(e.Binary,e.i+7)){r[t++]=1/0,e.ECIbin();var ye=s();if(r[t++]=ye,e.addtocws(),e.i=e.i+7,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Ie=s();r[t++]=Ie,e.addtocws()}break}if(c(e.msg,e.i)>=0&&(c(e.Binary,e.i)||c(e.Binary,e.i+1)||c(e.Binary,e.i+2)||c(e.Binary,e.i+3)||c(e.ECI,e.i+1)&&c(e.Binary,e.i+8))){r[t++]=1/0,r[t++]=c(e.msg,e.i),e.addtobin();var pe=s();if(r[t++]=pe,e.addtocws(),e.i=e.i+1,e.i==e.msglen){r[t++]=1/0,e.finaliseBIN();var Ce=s();r[t++]=Ce,e.addtocws()}break}r[t++]=1/0,e.finaliseBIN();var Ne=s();if(r[t++]=Ne,e.addtocws(),e.i!=e.msglen-1){if(c(e.msg,e.i)==e.fn3&&e.i!=e.segstart){r[t++]=s([c(e.BINvals,e.tms)]),e.addtocws(),e.i=e.i+1,e.mode=e.C,e.inmac=0,e.segstart=e.i,e.segend=S(e.i+c(e.UntilEndSeg,e.i));break}B1(c(e.AheadA,e.i),c(e.AheadB,e.i))?(r[t++]=s([c(e.BINvals,e.tma)]),e.addtocws(),e.mode=e.A):(r[t++]=s([c(e.BINvals,e.tmb)]),e.addtocws(),e.mode=e.B);break}break}},e.cws=s(e.msglen*2+1),e.mode=e.C,e.bvals=s(5),e.bpos=0,e.inmac=0,e.segstart=0,e.segend=c(e.UntilEndSeg,0),e.i=0,e.j=0;!(e.i>=e.msglen||e.inmac!=0&&(e.inmac!=e.mac&&e.i==e.segend-2&&(e.i=e.i+2,e.i>=e.msglen)||e.inmac==e.mac&&e.i==e.segend-1&&(e.i=e.i+1,e.i>=e.msglen))||e[c(s(["encA","encB","encC","encBIN"]),e.mode)]()===!0););if(e.cws=C(e.cws,0,e.j),e.nd=e.cws.length,e.minarea=((e.nd+3+~~(e.nd/2))*9+2)*2,e.ratio!=-1)e.hgt=nu(e.minarea/e.ratio),e.wid=nu(e.minarea*e.ratio),e.h=~~e.hgt,e.w=~~e.wid,(e.h+e.w)%2==1?e.h*e.w<e.minarea&&(e.h=e.h+1,e.w=e.w+1):e.hgt*e.w<e.wid*e.h?(e.w=e.w+1,e.h*e.w<e.minarea&&(e.w=e.w-1,e.h=e.h+1,e.h*e.w<e.minarea&&(e.w=e.w+2))):(e.h=e.h+1,e.h*e.w<e.minarea&&(e.h=e.h-1,e.w=e.w+1,e.h*e.w<e.minarea&&(e.h=e.h+2))),e.rows=e.h,e.columns=e.w;else{if(e.columns==-1){var Je=~~((e.minarea+e.rows-1)/e.rows);if(r[t++]="columns",r[t++]=Je,(Je+e.rows)%2==0){var Qe=r[--t];r[t++]=Qe+1}var qe=r[--t];e[r[--t]]=qe}if(e.rows==-1){var ut=~~((e.minarea+e.columns-1)/e.columns);if(r[t++]="rows",r[t++]=ut,(ut+e.columns)%2==0){var mt=r[--t];r[t++]=mt+1}var lt=r[--t];e[r[--t]]=lt}}for(e.ndots=~~(e.rows*e.columns/2);;){var vt=e.nd+1;if((vt+(~~(vt/2)+3))*9+2>e.ndots)break;e.nd=e.nd+1}if(e.nc=~~(e.nd/2)+3,e.nw=e.nd+e.nc,e.rembits=e.ndots-(e.nw*9+2),e.nd>e.cws.length){r[t++]=1/0,O(e.cws);var St=e.mode==e.BIN?109:106;r[t++]=St;for(var kt=0,wt=e.nd-e.cws.length-1;kt<wt;kt++)r[t++]=106;e.cws=s()}var Pt=c(e.options,"debugcws")!==void 0;Pt&&(r[t++]="bwipp.debugcws#26927",r[t++]=e.cws,z()),e.nw*9>e.ndots-2&&(r[t++]="bwipp.dotcodeTooLong#26931",r[t++]="Maximum length exceeded",z()),e.encs=s(["101010101","010101011","010101101","010110101","011010101","101010110","101011010","101101010","110101010","010101110","010110110","010111010","011010110","011011010","011101010","100101011","100101101","100110101","101001011","101001101","101010011","101011001","101100101","101101001","110010101","110100101","110101001","001010111","001011011","001011101","001101011","001101101","001110101","010010111","010011011","010011101","010100111","010110011","010111001","011001011","011001101","011010011","011011001","011100101","011101001","100101110","100110110","100111010","101001110","101011100","101100110","101101100","101110010","101110100","110010110","110011010","110100110","110101100","110110010","110110100","111001010","111010010","111010100","001011110","001101110","001110110","001111010","010011110","010111100","011001110","011011100","011100110","011101100","011110010","011110100","100010111","100011011","100011101","100100111","100110011","100111001","101000111","101100011","101110001","110001011","110001101","110010011","110011001","110100011","110110001","111000101","111001001","111010001","000101111","000110111","000111011","000111101","001001111","001100111","001110011","001111001","010001111","011000111","011100011","011110001","100011110","100111100","101111000","110001110","110011100","110111000","111000110","111001100"]),e.rows%2==0?e.sixedges=s([s([e.columns-1,e.rows-2]),s([0,e.rows-2]),s([e.columns-2,e.rows-1]),s([1,e.rows-1]),s([e.columns-1,0]),s([0,0])]):e.sixedges=s([s([e.columns-2,0]),s([e.columns-2,e.rows-1]),s([e.columns-1,1]),s([e.columns-1,e.rows-2]),s([0,0]),s([0,e.rows-1])]),e.dmv=function(){var ve=r[--t],me=r[--t];r[t++]=S(me+ve*e.columns)},e.outline=s(e.rows*e.columns);for(var Mt=0,Lt=e.rows-1;Mt<=Lt;Mt+=1){e.y=Mt;for(var Dt=0,jt=e.columns-1;Dt<=jt;Dt+=1){e.x=Dt,r[t++]=e.outline,r[t++]=e.x,r[t++]=e.y,e.dmv();var P=r[--t];g(r[--t],P,(e.x+e.y)%2-1)}}for(var V=e.sixedges,q=0,ne=V.length;q<ne;q++){r[t++]=e.outline,O(c(V,q)),e.dmv();var ue=r[--t];g(r[--t],ue,1)}e.clearcol=function(){e.x=r[--t],r[t++]=!0;for(var ve=e.x&1,me=e.rows-1;ve<=me;ve+=2)if(r[t++]=e.x,r[t++]=ve,e.dmv(),c(e.sym,r[--t])==1){r[t-1]=!1;break}},e.clearrow=function(){e.y=r[--t],r[t++]=!0;for(var ve=e.y&1,me=e.columns-1;ve<=me;ve+=2)if(r[t++]=ve,r[t++]=e.y,e.dmv(),c(e.sym,r[--t])==1){r[t-1]=!1;break}},e.evalsymbol=function(){e.sym=r[--t],e.worst=9999999;for(var ve=s([s(["x",0]),s(["x",1]),s(["y",0]),s(["y",1])]),me=0,je=ve.length;me<je;me++){O(c(ve,me)),e.fl=r[--t],e.dir=r[--t],e.sum=0,e.first=-1,e.last=-1;for(var le=Y(e.dir,"x")?e.columns:e.rows,ye=0,Ie=le-1;ye<=Ie;ye+=1){e[e.dir]=ye;var pe=e.sym,Ce=e[e.dir],Ne=Y(e.dir,"x")?e.rows:e.columns,Be=(Ne-1)*e.fl;if(Y(e.dir,"y")){var Ge=Be;Be=Ce,Ce=Ge}r[t++]=pe,r[t++]=Ce,r[t++]=Be,e.dmv();var He=r[--t];c(r[--t],He)==1&&(e.first==-1&&(e.first=e[e.dir]),e.last=e[e.dir],e.sum=e.sum+1)}var Xe=Y(e.dir,"x")?e.rows:e.columns,st=S(e.sum+e.last-e.first)*Xe;r[t++]=st,st<e.worst?e.worst=r[--t]:t--}if(e.pen=0,e.rows%2==1||e.rows<=12){e.sum=0,e.p=0;for(var at=1,Ee=e.columns-2;at<=Ee;at+=1)if(r[t++]=at,e.clearcol(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.rows:r[t++]=e.p*e.rows;var Ve=r[--t];e[r[--t]]=Ve}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}if(e.rows%2==0||e.columns<=12){e.sum=0,e.p=0;for(var Ye=1,et=e.rows-2;Ye<=et;Ye+=1)if(r[t++]=Ye,e.clearrow(),r[--t]){e.sum=e.sum+1,r[t++]="p",e.sum==1?r[t++]=e.columns:r[t++]=e.p*e.columns;var ht=r[--t];e[r[--t]]=ht}else e.sum=0,e.pen=e.pen+e.p,e.p=0;e.pen=e.pen+e.p}r[t++]=1/0;for(var pt=0,ft=(e.columns+4)*2;pt<ft;pt++)r[t++]=0;for(var gt=0,nt=e.columns,Tt=e.sym.length-1;nt<0?gt>=Tt:gt<=Tt;gt+=nt)r[t++]=0,r[t++]=0,O(C(e.sym,gt,e.columns)),r[t++]=0,r[t++]=0;for(var tt=0,Qt=(e.columns+4)*2;tt<Qt;tt++)r[t++]=0;e.symp=s(),e.columns=e.columns+4,e.rows=e.rows+4,e.sum=0;for(var Ht=2,Ot=e.rows-3;Ht<=Ot;Ht+=1){e.y=Ht;for(var sr=(e.y&1)+2,Sr=e.columns-3;sr<=Sr;sr+=2){e.x=sr;for(var nr=0;nr<1;nr++){r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y-1,e.dmv();var gr=r[--t];if(c(r[--t],gr)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y-1,e.dmv();var ar=r[--t];if(c(r[--t],ar)==1)break;r[t++]=e.symp,r[t++]=e.x-1,r[t++]=e.y+1,e.dmv();var Ir=r[--t];if(c(r[--t],Ir)==1)break;r[t++]=e.symp,r[t++]=e.x+1,r[t++]=e.y+1,e.dmv();var Zt=r[--t];if(c(r[--t],Zt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y,e.dmv();var dr=r[--t];if(c(r[--t],dr)==0){e.sum=e.sum+1;break}r[t++]=e.symp,r[t++]=e.x-2,r[t++]=e.y,e.dmv();var Kt=r[--t];if(c(r[--t],Kt)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y-2,e.dmv();var Jt=r[--t];if(c(r[--t],Jt)==1)break;r[t++]=e.symp,r[t++]=e.x+2,r[t++]=e.y,e.dmv();var ur=r[--t];if(c(r[--t],ur)==1)break;r[t++]=e.symp,r[t++]=e.x,r[t++]=e.y+2,e.dmv();var Tr=r[--t];if(c(r[--t],Tr)==1)break;e.sum=e.sum+1}}}e.columns=e.columns-4,e.rows=e.rows-4,e.worst==0?r[t++]=-99999:r[t++]=S(e.worst-e.sum*e.sum-e.pen)},r[t++]=1/0,r[t++]=1;for(var be=0;be<112;be++){var re=r[t-1];r[t++]=re*3%113}e.rsalog=s(),e.step=~~(e.nw/112)+1,e.offset=function(){var ve=r[--t];r[t++]=S(ve*e.step+e.start)},e.bestscore=-99999999,r[t++]="masks",e.mask!=-1?r[t++]=s([e.mask]):e.fast?r[t++]=s([3,2,1,0]):r[t++]=s([0,1,2,3]);var Se=r[--t];e[r[--t]]=Se,e.litmasks=s(4),ge(e.masks,function(){e.mask=r[--t],r[t++]=1/0;var ve=e.cws;r[t++]=e.mask,r[t++]=c(s([0,3,7,17]),e.mask),r[t++]=0;for(var me=0,je=ve.length;me<je;me++){var le=r[--t],ye=r[--t];r[t++]=S(c(ve,me)+le)%113,r[t++]=ye,r[t++]=S(le+ye)}t-=2;for(var Ie=0,pe=e.nc;Ie<pe;Ie++)r[t++]=0;e.rscws=s();for(var Ce=0,Ne=e.step-1;Ce<=Ne;Ce+=1){e.start=Ce,e.ND=~~((e.nd+1-e.start+e.step-1)/e.step),e.NW=~~((e.nw+1-e.start+e.step-1)/e.step),e.NC=e.NW-e.ND,r[t++]=1/0,r[t++]=1;for(var Be=0,Ge=e.NC;Be<Ge;Be++)r[t++]=0;e.coeffs=s();for(var He=1,Xe=e.NC;He<=Xe;He+=1){e.i=He;for(var st=e.NC;st>=1;st-=1)e.j=st,g(e.coeffs,e.j,S(c(e.coeffs,e.j)+113-c(e.rsalog,e.i)*c(e.coeffs,e.j-1)%113)%113)}for(var at=0,Ee=e.ND-1;at<=Ee;at+=1){r[t++]="t",r[t++]=e.rscws,r[t++]=at,e.offset();var Ve=r[--t],Ye=c(r[--t],Ve);r[t++]=Ye,r[t++]=e.rscws,r[t++]=e.ND,e.offset();var et=r[--t],ht=c(r[--t],et),pt=r[--t];e[r[--t]]=S(pt+ht)%113;for(var ft=0,gt=e.NC-2;ft<=gt;ft+=1){e.j=ft,r[t++]=e.rscws,r[t++]=e.ND+e.j,e.offset(),r[t++]=e.rscws,r[t++]=e.ND+e.j+1,e.offset();var nt=r[--t],Tt=c(r[--t],nt),tt=r[--t];g(r[--t],tt,S(Tt+113-e.t*c(e.coeffs,e.j+1)%113)%113)}r[t++]=e.rscws,r[t++]=e.ND+e.NC-1,e.offset();var Qt=r[--t];g(r[--t],Qt,(113-e.t*c(e.coeffs,e.NC)%113)%113)}for(var Ht=e.ND,Ot=e.NW-1;Ht<=Ot;Ht+=1){r[t++]=Ht,r[t++]=e.rscws,r[t++]=Ht,e.offset(),r[t++]=113,r[t++]=e.rscws,Na(5,-1),e.offset();var sr=r[--t],Sr=c(r[--t],sr),nr=r[--t],gr=r[--t];g(r[--t],gr,S(nr-Sr)%113)}}e.bits=W(e.ndots),M(e.bits,0,c(s(["00","01","10","11"]),e.mask));for(var ar=1,Ir=e.nw;ar<=Ir;ar+=1)e.i=ar,M(e.bits,(e.i-1)*9+2,c(e.encs,c(e.rscws,e.i)));e.rembits>0&&M(e.bits,e.nw*9+2,C("11111111111111111",0,e.rembits));var Zt=e.outline;e.pixs=cc(s(Zt.length),Zt),e.posx=0,r[t++]="posy",e.rows%2==0?r[t++]=0:r[t++]=e.rows-1;var dr=r[--t];e[r[--t]]=dr;for(var Kt=C(e.bits,0,e.bits.length-6),Jt=0,ur=Kt.length;Jt<ur;Jt++){for(r[t++]=c(Kt,Jt);;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var Tr=r[--t];if(c(r[--t],Tr)==-1)break;e.rows%2==0?(e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)):(e.posx=e.posx+1,e.posx==e.columns&&(e.posx=0,e.posy=e.posy-1))}r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.dmv();var _r=r[t-3],ua=r[t-1];g(r[t-2],ua,_r-48),t-=3}for(var Ct=0;Ct<=5;Ct+=1){e.i=Ct,r[t++]=e.pixs,O(c(e.sixedges,e.i)),e.dmv();var qt=r[--t];g(r[--t],qt,c(e.bits,e.bits.length-6+e.i)-48)}r[t++]="score",r[t++]=e.pixs,e.evalsymbol();var tr=r[--t];if(e[r[--t]]=tr,e.score>e.bestscore&&(e.bestsym=e.pixs,e.bestscore=e.score,e.fast&&e.bestscore>~~(e.rows*e.columns/2)))return!0;var br=e.pixs;e.litmask=cc(s(br.length),br);for(var ir=0;ir<=5;ir+=1){e.i=ir,r[t++]=e.litmask,O(c(e.sixedges,e.i)),e.dmv();var Br=r[--t];g(r[--t],Br,1)}if(g(e.litmasks,e.mask,e.litmask),e.fast){r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var or=r[--t];if(e[r[--t]]=or,B1(e.score,e.bestscore)&&(e.bestsym=e.litmask,e.bestscore=e.score,e.bestscore>~~(e.rows*e.columns/2)))return!0}}),e.pixs=e.bestsym,!e.fast&&e.bestscore<=~~(e.rows*e.columns/2)&&(e.bestscore=-99999999,ge(e.masks,function(){e.litmask=c(e.litmasks,r[--t]),r[t++]="score",r[t++]=e.litmask,e.evalsymbol();var ve=r[--t];e[r[--t]]=ve,e.score>e.bestscore&&(e.bestsym=e.litmask,e.bestscore=e.score)}),e.pixs=e.bestsym);var X=new Map([["ren","renmatrix"],["dotty",!0],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows*2/72],["width",e.columns*2/72],["borderleft",3],["borderright",3],["bordertop",3],["borderbottom",3],["opt",e.options]]);r[t++]=X,e.dontdraw||xt(),e=a}function kR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.eclevel="EC2",e.parse=!1,e.parsefnc=!1,e.start=257,e.link1=0,e.raw=!1,e.rev=2,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=e.rev;n!=1&&n!=2&&(r[t++]="bwipp.ultracodeInvalidRevision#27328",r[t++]="Valid revisions are 1 and 2",z());var i=e.eclevel.length==3;if(r[t++]=i,i){t--;var o=Y(C(e.eclevel,0,2),"EC");if(r[t++]=o,o){t--;var d=c(e.eclevel,2)-48,u=e.rev==2?1:0;r[t++]=d>=u&&d<=5}}if(r[--t]||(r[t++]="bwipp.ultracodeInvalidErrorCorrectionLevel#27337",r[t++]="Valid error correction levels are EC1 to EC5, and EC0 for legacy revision 1",z()),e.raw){for(e.dcws=s(e.barcode.length),e.i=0,e.j=0;e.i!=e.barcode.length;)e.cw=Fe(C(e.barcode,e.i+1,3)),g(e.dcws,e.j,e.cw),e.i=e.i+4,e.j=e.j+1;e.dcws=C(e.dcws,0,e.j)}else{e.fn1=-1,e.fn3=-2;var f=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1],["FNC3",e.fn3]]);e.fncvals=f,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var h=r[--t];e[r[--t]]=h,e.msglen=e.msg.length,e.scr=s([]),e.scp=s([]),r[t++]=1/0,O(e.scr),O(e.scp),ge(e.msg,function(){var Be=r[t-1];Be==e.fn1&&(r[t-1]=268);var Ge=r[t-1];Ge==e.fn3&&(r[t-1]=269)}),e.dcws=s()}var p=c(e.options,"debugcws")!==void 0;if(p&&(r[t++]="bwipp.debugcws#27381",r[t++]=e.dcws,z()),e.mcc=e.dcws.length+3,e.eclval=c(e.eclevel,2)-48,e.eclval!=0){if(r[t++]="qcc",r[t++]=c(s([0,1,2,4,6,8]),e.eclval),r[t++]=~~(e.mcc/25),e.mcc%25!=0){var m=r[--t];r[t++]=m+1}var x=r[--t],b=r[--t];e[r[--t]]=b*x+5}else e.qcc=3;e.acc=e.qcc-3+78*e.link1,e.tcc=e.mcc+e.qcc,e.metrics=s([s([2,7,37,5]),s([3,36,84,13]),s([4,85,161,22]),s([5,142,282,29])]);for(var y=e.metrics,w=0,v=y.length;w<v&&(e.m=c(y,w),e.rows=c(e.m,0),e.minc=c(e.m,1),e.maxc=c(e.m,2),e.mcol=c(e.m,3),e.okay=!0,(e.tcc<e.minc||e.tcc>e.maxc)&&(e.okay=!1),!e.okay);w++);e.okay||(r[t++]="bwipp.ultracodeNoValidSymbol#27417",r[t++]="Maximum length exceeded or invalid content",z());for(var A=e.mcol;A<=61;A+=1){if(e.columns=A,r[t++]=e.columns,e.columns>=15){var k=r[--t];r[t++]=k-1}if(e.columns>=31){var E=r[--t];r[t++]=E-1}if(e.columns>=47){var j=r[--t];r[t++]=j-1}var N=S(r[--t]*e.rows-3-e.tcc);if(r[t++]=N,N>=0){e.pads=r[--t];break}t--}e.dcc=S(e.columns-e.mcol),r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,r[t++]=e.acc,O(e.dcws);for(var B=0,I=e.qcc;B<I;B++)r[t++]=0;r[t++]=0,e.rsseq=s(),r[t++]=1/0,r[t++]=1;for(var D=0;D<282;D++){var T=r[t-1];r[t++]=T*3%283}e.rsalog=s(),e.rslog=s(283);for(var R=1;R<=282;R+=1)g(e.rslog,c(e.rsalog,R),R);e.rsprod=function(){var Be=r[t-1],Ge=r[t-2];if(Be!=0&&Ge!=0){var He=c(e.rslog,r[--t]),Xe=c(e.rsalog,S(He+c(e.rslog,r[--t]))%282);r[t++]=Xe}else t-=2,r[t++]=0},e.n=e.mcc,e.k=e.qcc,r[t++]=1/0,r[t++]=1;for(var $=0,F=e.k;$<F;$++)r[t++]=0;e.coeffs=s();for(var _=1,Q=e.k;_<=Q;_+=1){e.i=_,g(e.coeffs,e.i,c(e.coeffs,e.i-1));for(var H=e.i-1;H>=1;H-=1){e.j=H,r[t++]=e.coeffs,r[t++]=e.j,r[t++]=c(e.coeffs,e.j-1),r[t++]=c(e.coeffs,e.j),r[t++]=c(e.rsalog,e.i),e.rsprod();var J=r[--t],K=r[--t],he=r[--t];g(r[--t],he,S(K+J)%283)}r[t++]=e.coeffs,r[t++]=0,r[t++]=c(e.coeffs,0),r[t++]=c(e.rsalog,e.i),e.rsprod();var G=r[--t],L=r[--t];g(r[--t],L,G)}e.coeffs=C(e.coeffs,0,e.coeffs.length-1);for(var ce=e.coeffs.length-1;ce>=0;ce-=2){var fe=e.coeffs;g(fe,ce,283-c(fe,ce))}for(var U=0,ee=e.n-1;U<=ee;U+=1){e.t=S(c(e.rsseq,U)+c(e.rsseq,e.n))%283;for(var se=0,de=e.k-1;se<=de;se+=1)e.j=se,g(e.rsseq,e.n+e.j,S(c(e.rsseq,e.n+e.j+1)+(283-e.t*c(e.coeffs,e.k-e.j-1)%283))%283)}for(var ke=e.n,ae=e.n+e.k;ke<=ae;ke+=1)g(e.rsseq,ke,(283-c(e.rsseq,ke))%283);e.ecws=C(e.rsseq,e.n,e.k);var De=c(e.options,"debugecc")!==void 0;De&&(r[t++]="bwipp.debugecc#27487",r[t++]=e.ecws,z()),e.tiles=s([13135,13136,13153,13156,13163,13165,13513,13515,13516,13531,13535,13536,13561,13563,13565,13613,13615,13616,13631,13635,13636,13651,13653,13656,15135,15136,15153,15163,15165,15313,15315,15316,15351,15353,15356,15361,15363,15365,15613,15615,15616,15631,15635,15636,15651,15653,15656,16135,16136,16153,16156,16165,16313,16315,16316,16351,16353,16356,16361,16363,16365,16513,16515,16516,16531,16535,16536,16561,16563,16565,31315,31316,31351,31356,31361,31365,31513,31515,31516,31531,31535,31536,31561,31563,31565,31613,31615,31631,31635,31636,31651,31653,31656,35131,35135,35136,35151,35153,35156,35161,35163,35165,35315,35316,35351,35356,35361,35365,35613,35615,35616,35631,35635,35636,35651,35653,35656,36131,36135,36136,36151,36153,36156,36163,36165,36315,36316,36351,36356,36361,36365,36513,36515,36516,36531,36535,36536,36561,36563,36565,51313,51315,51316,51351,51353,51356,51361,51363,51365,51513,51516,51531,51536,51561,51563,51613,51615,51616,51631,51635,51636,51651,51653,51656,53131,53135,53136,53151,53153,53156,53161,53163,53165,53513,53516,53531,53536,53561,53563,53613,53615,53616,53631,53635,53636,53651,53653,53656,56131,56135,56136,56151,56153,56156,56161,56163,56165,56313,56315,56316,56351,56353,56356,56361,56363,56365,56513,56516,56531,56536,56561,56563,61313,61315,61316,61351,61353,61356,61361,61363,61365,61513,61515,61516,61531,61535,61536,61561,61563,61565,61615,61631,61635,61651,61653,63131,63135,63136,63151,63153,63156,63161,63163,63165,63513,63515,63516,63531,63535,63536,63561,63563,63565,63613,63615,63631,63635,63651,63653,65131,65135,65136,65151,65153,65156,65161,65163,65165,65313,65315,65316,65351,65353,65356,65361,65363,65365,65613,65615,65631,65635,65651,65653,56565,51515]),e.dccurev1=s([51363,51563,51653,53153,53163,53513,53563,53613,53653,56153,56163,56313,56353,56363,56513,56563,51316,51356,51536,51616,53156,53516,53536,53616,53636,53656,56136,56156,56316,56356,56516,56536]),e.dcclrev1=s([61351,61361,61531,61561,61631,61651,63131,63151,63161,63531,63561,63631,65131,65161,65351,65631,31351,31361,31531,31561,31631,31651,35131,35151,35161,35361,35631,35651,36131,36151,36351,36531]),e.dccurev2=s([15316,16316,13516,16516,13616,15616,13136,15136,16136,13536,16536,13636,13156,16156,15356,13656,15313,16313,13513,16513,13613,15613,13153,15153,16153,16353,13653,15653,13163,15163,15363,13563]),e.dcclrev2=s([36315,36515,35615,35135,36135,31535,36535,31635,35635,35165,36165,31365,35365,36365,31565,36565,61315,65315,63515,61615,65135,61535,63535,61635,63635,65635,63165,65165,61365,65365,61565,63565]),r[t++]="dccu",e.rev==1?r[t++]=e.dccurev1:r[t++]=e.dccurev2;var we=r[--t];e[r[--t]]=we,r[t++]="dccl",e.rev==1?r[t++]=e.dcclrev1:r[t++]=e.dcclrev2;var Ae=r[--t];e[r[--t]]=Ae,e.rows=e.rows*6+1,e.columns=e.columns+6,r[t++]=1/0;for(var Le=0,xe=e.rows*e.columns;Le<xe;Le++)r[t++]=-1;e.pixs=s(),e.qmv=function(){var Be=r[--t],Ge=r[--t];r[t++]=S(Ge+Be*e.columns)};for(var Oe=0,Te=e.columns-1;Oe<=Te;Oe+=1){e.i=Oe;for(var Pe=0,Ue=e.rows-1;Pe<=Ue;Pe+=6)if(e.j=Pe,e.i>=5){r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.qmv();var Ze=r[--t];g(r[--t],Ze,e.i%2*9)}r[t++]=e.pixs,r[t++]=e.i,r[t++]=0,e.qmv();var te=r[--t];g(r[--t],te,9),r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.rows-1,e.qmv();var oe=r[--t];g(r[--t],oe,9)}for(var Re=1,ze=e.rows-2;Re<=ze;Re+=1){e.i=Re;for(var Je=3,Qe=e.columns-1;Je<=Qe;Je+=16){e.j=Je,r[t++]=e.pixs,r[t++]=e.j,r[t++]=e.i,e.qmv();var qe=r[--t];g(r[--t],qe,(1-e.i%2)*9)}r[t++]=e.pixs,r[t++]=0,r[t++]=e.i,e.qmv();var ut=r[--t];g(r[--t],ut,9),r[t++]=e.pixs,r[t++]=1,r[t++]=e.i,e.qmv();var mt=r[--t];g(r[--t],mt,(1-e.i%2)*9),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var lt=r[--t];g(r[--t],lt,0),r[t++]=e.pixs,r[t++]=3,r[t++]=e.i,e.qmv();var vt=r[--t];g(r[--t],vt,9),r[t++]=e.pixs,r[t++]=4,r[t++]=e.i,e.qmv();var St=r[--t];g(r[--t],St,0),r[t++]=e.pixs,r[t++]=e.columns-1,r[t++]=e.i,e.qmv();var kt=r[--t];g(r[--t],kt,9)}e.i=~~(e.rows/2)-5,r[t++]=1/0;for(var wt=$t(W(5),c(e.dccu,e.dcc),10),Pt=0,Mt=wt.length;Pt<Mt;Pt++)r[t++]=c(wt,Pt)-48;var Lt=$t(W(5),c(e.dccl,e.dcc),10);r[t++]=0;for(var Dt=0,jt=Lt.length;Dt<jt;Dt++)r[t++]=c(Lt,Dt)-48;for(var P=s(),V=0,q=P.length;V<q;V++){r[t++]=c(P,V),r[t++]=e.pixs,r[t++]=2,r[t++]=e.i,e.qmv();var ne=r[t-3],ue=r[t-1];g(r[t-2],ue,ne),t-=3,e.i=e.i+1}r[t++]=1/0,r[t++]=e.start,r[t++]=e.mcc,O(e.ecws),r[t++]=e.tcc,r[t++]=283,r[t++]=e.acc,O(e.dcws);for(var be=0,re=e.pads;be<re;be++)r[t++]=284;r[t++]=e.qcc,e.tileseq=s(),e.x=5,e.y=1;for(var Se=e.tileseq,X=0,ve=Se.length;X<ve;X++){for(var me=$t(W(5),c(e.tiles,c(Se,X)),10),je=0,le=me.length;je<le;je++){r[t++]=c(me,je),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var ye=r[t-3],Ie=r[t-1];g(r[t-2],Ie,ye-48),t-=3,e.y=e.y+1}if(e.y!=e.rows-1)e.y=e.y+1;else{e.x=e.x+1,e.y=1,r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.qmv();var pe=r[--t];c(r[--t],pe)!=-1&&(e.x=e.x+1)}}var Ce=new Map([[0,"FFFFFF"],[9,"000000"],[1,"00FFFF"],[3,"FF00FF"],[5,"FFFF00"],[6,"00FF00"]]);e.colormap=Ce;var Ne=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.columns],["pixy",e.rows],["height",e.rows/72*2],["width",e.columns/72*2],["colormap",e.colormap],["borderleft",1],["borderright",1],["bordertop",1],["borderbottom",1],["opt",e.options]]);r[t++]=Ne,e.dontdraw||xt(),e=a}function jR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.rows=-1,e.columns=-1,e.slave=!1,e.colors=16,e.eclevel=6,e.raw=!1,e.parse=!1,e.parsefnc=!1,e.mask=-1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.databpm=~~N1(hn(e.colors)/hn(2));var n=e.colors;r[t++]="metabpm",r[t++]=n,n>8&&(r[t-1]=8);var i=r[--t];e[r[--t]]=~~N1(hn(i)/hn(2)),e.fn1=-1;var o=new Map([["parse",e.parse],["parsefnc",e.parsefnc],["FNC1",e.fn1]]);e.fncvals=o,r[t++]="msg",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var d=r[--t];e[r[--t]]=d,e.msglen=e.msg.length,e.addtobits=function(){var ct=r[--t];M(e.bits,e.j,ct),e.j=ct.length+e.j},e.tofixedbits=function(){var ct=Fr(W(13),"0000000000000");r[t++]=ct,r[t++]=ct,Na(4,-1);var Nt=$t(W(13),r[--t],2),hr=r[--t],lr=r[--t],fr=r[--t];M(hr,S(fr-Nt.length),Nt),r[t++]=C(lr,0,fr)};var u=e.msglen<=15?4:17;e.bits=W(7+u+e.msglen*8+12),e.j=0,r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="00",e.addtobits(),e.msglen<=15?(r[t++]=e.msglen,r[t++]=4,e.tofixedbits(),e.addtobits()):(r[t++]="0000",e.addtobits(),r[t++]=e.msglen-16,r[t++]=13,e.tofixedbits(),e.addtobits());for(var f=0,h=e.msglen-1;f<=h;f+=1)r[t++]=c(e.msg,f),r[t++]=8,e.tofixedbits(),e.addtobits();if(r[t++]=28,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]=31,r[t++]=5,e.tofixedbits(),e.addtobits(),r[t++]="11",e.addtobits(),e.diffside=21,e.sameshape=!1,e.sameecc=!1,e.hasslaves=!1,e.metrics=function(){e.mc=r[--t],e.mr=r[--t];var ct=e.mc,Nt=e.mr,hr=e.mc,lr=e.mr,fr=e.colors,Rr=64;if(64>fr){var cr=fr;fr=Rr,Rr=cr}var aa=e.slave?7:17;if(r[t++]=ct*Nt,r[t++]=((~~((hr-25)/16)+2)*(~~((lr-25)/16)+2)-4)*7,r[t++]=Rr*2,r[t++]=aa*4,e.slave){if(r[t++]=3,!e.sameshape){var qr=r[--t];r[t++]=qr+5}if(e.hasslaves){var sa=r[--t];r[t++]=sa+3}if(!e.sameecc){var Mr=e.mr,Pr=e.mc;if(mn(Mr,Pr)){var cr=Pr;Pr=Mr,Mr=cr}var za=r[--t];r[t++]=S(za+c(s([10,12,14,14,16,16,16,16]),~~((Mr-21)/16)))}var ba=~~xr(r[--t]*2/e.metabpm);e.nummetabits=ba*e.metabpm,r[t++]=ba}else{var Hr=Y(e.mr,e.mc)?0:1;e.metass=Hr;var $r=e.mr,Gr=e.mc;if(mn($r,Gr)){var cr=Gr;Gr=$r,$r=cr}e.metavf=c(s([0,1,2,2,3,3,3,3]),~~(($r-21)/16)),r[t++]="metavlen",e.metass==0?r[t++]=s([2,2,3,4]):r[t++]=s([4,6,8,10]);var Vr=c(r[--t],e.metavf);if(e[r[--t]]=Vr,e.metaelen=e.metavf*2+10,r[t++]=S(7+e.metavlen+e.metaelen),e.hasslaves){var ha=r[--t];r[t++]=ha+4}var Zr=~~xr(r[--t]*2/e.metabpm);e.nummetabits=Zr*e.metabpm+6,r[t++]=Zr+6}var ls=r[--t];e.nummetamodules=ls;var Ss=r[--t],nn=r[--t],Rs=r[--t];e.numdatamodules=S(r[--t]-(Rs+(nn+(Ss+ls)))),e.numdatabits=e.numdatamodules*e.databpm},e.coderate=c(s([.67,.63,.57,.55,.5,.43,.34,.25,.2,.17,.14]),e.eclevel),e.grosslen=~~xr(e.bits.length/e.coderate),e.snapsize=function(){var ct=~~xr(r[--t])-18;r[t++]=ct,ct<0&&(r[t-1]=0);var Nt=r[--t];r[t++]=~~(Nt/4)*4+21},e.rows==-1&&e.columns==-1){r[t++]="size",r[t++]=nu(e.grosslen),e.snapsize();var p=r[--t];for(e[r[--t]]=p;r[t++]=e.size,r[t++]=e.size,e.metrics(),!(e.grosslen<=e.numdatabits);)e.size=e.size+4;e.rows=e.size,e.columns=e.size}else{if(e.columns==-1&&e.rows!=-1){r[t++]="columns",r[t++]=e.grosslen/e.rows,e.snapsize();var m=r[--t];for(e[r[--t]]=m;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.columns=e.columns+4}if(e.rows==-1&&e.columns!=-1){r[t++]="rows",r[t++]=e.grosslen/e.columns,e.snapsize();var x=r[--t];for(e[r[--t]]=x;r[t++]=e.rows,r[t++]=e.columns,e.metrics(),!(e.grosslen<=e.numdatabits);)e.rows=e.rows+4}e.rows!=-1&&e.columns!=-1&&(r[t++]=e.rows,r[t++]=e.columns,e.metrics())}e.C=e.numdatabits,e.cols=e.columns,(e.rows>145||e.cols>145)&&(r[t++]="bwipp.jabcodeNoValidSymbol#27844",r[t++]="Maximum length exceeded or invalid content",z()),e.min=e.C;for(var b=3;b<=8;b+=1){e.i=b;for(var y=e.i+1;y<=9;y+=1)e.j=y,e.dist=~~(e.C/e.j)*e.j-~~(e.C/e.j)*e.i-e.bits.length,e.dist<e.min&&e.dist>=0&&(e.datawc=e.i,e.datawr=e.j,e.min=e.dist)}e.tmpbits=W(~~(e.C/e.datawr)*e.datawr-~~(e.C/e.datawr)*e.datawc),M(e.tmpbits,0,e.bits);for(var w=e.bits.length,v=e.tmpbits.length-1;w<=v;w+=1){var A=c(e.tmpbits,w-1);if(r[t++]=w,r[t++]=A,A%2==0){var k=r[--t];r[t++]=k+1}else{var E=r[--t];r[t++]=E-1}r[t++]=e.tmpbits;var j=r[t-2],N=r[t-3];g(r[t-1],N,j),t-=3}e.bits=e.tmpbits,e.m0=22610,e.m1=-3027,e.m2=19605,e.m3=32557,e.lcg64_temper=function(){e.p00=e.m0*e.s0,e.p01=e.m0*e.s1,e.p02=e.m0*e.s2,e.p03=e.m0*e.s3,e.p10=e.m1*e.s0,e.p11=e.m1*e.s1,e.p12=e.m1*e.s2,e.p13=e.m1*e.s3,e.p20=e.m2*e.s0,e.p21=e.m2*e.s1,e.p22=e.m2*e.s2,e.p23=e.m2*e.s3,e.p30=e.m3*e.s0,e.p31=e.m3*e.s1,e.p32=e.m3*e.s2,e.p33=e.m3*e.s3,e.s3=e.p33%65536+1,e.s2=e.p32%65536+~~(e.p33/65536)+e.p23%65536,e.s1=e.p31%65536+~~(e.p32/65536)+(e.p22%65536+~~(e.p23/65536))+e.p13%65536,e.s0=e.p30%65536+~~(e.p31/65536)+(e.p21%65536+~~(e.p22/65536))+(e.p12%65536+~~(e.p13/65536))+e.p03%65536,e.s3=e.s3+65536,e.s2=e.s2+65535,e.s1=e.s1+65535,e.s0=e.s0+65535,e.s2=~~(e.s3/65536)+e.s2,e.s3=e.s3%65536,e.s1=~~(e.s2/65536)+e.s1,e.s2=e.s2%65536,e.s0=~~(e.s1/65536)+e.s0,e.s1=e.s1%65536,e.s0=e.s0%65536;var ct=((e.s0-32768)*65536+e.s1^2147483648)&4294967295,Nt=ct^ct>>>11,hr=Nt^Nt<<7&-1658038656,lr=(hr^hr<<15&-272236544)&4294967295;r[t++]=lr^lr>>>18},e.createMatrixA=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var ct=r[--t];e[r[--t]]=ct,e.offset=~~xr(e.Pg_sub_block/32),e.effwidth=e.offset*32,e.matrixA=s(e.offset*e.nb_pcb);for(var Nt=0,hr=e.offset*e.nb_pcb-1;Nt<=hr;Nt+=1)g(e.matrixA,Nt,0);e.permutation=s(e.Pg_sub_block);for(var lr=0,fr=e.Pg_sub_block-1;lr<=fr;lr+=1)g(e.permutation,lr,lr);for(var Rr=0,cr=~~(e.Pg_sub_block/e.wr)-1;Rr<=cr;Rr+=1){e.i=Rr;for(var aa=0,Hr=e.wr-1;aa<=Hr;aa+=1){e.j=aa;var $r=e.matrixA,Gr=e.i,Vr=e.effwidth,ha=e.wr,Zr=e.j,qr=31-S(e.i*(e.effwidth+e.wr)+e.j)%32;g($r,~~(S(Gr*(Vr+ha)+Zr)/32),c($r,~~(S(Gr*(Vr+ha)+Zr)/32))|(qr<0?1>>>-qr:1<<qr))}}e.s0=0,e.s1=0,e.s2=11,e.s3=64569;for(var sa=1,Mr=e.wc-1;sa<=Mr;sa+=1){e.i=sa,e.off_index=~~(e.Pg_sub_block/e.wr)*e.i;for(var Pr=0,za=e.Pg_sub_block-1;Pr<=za;Pr+=1){e.j=Pr,e.lcg64_temper();var ba=r[t-1];if(ba<0){var ls=r[--t];r[t++]=(ls^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));for(var Ss=0,nn=~~(e.Pg_sub_block/e.wr)-1;Ss<=nn;Ss+=1){e.k=Ss;var Rs=e.matrixA,rr=e.off_index,wr=e.k,Nr=e.offset,ea=e.j,Or=c(e.matrixA,~~(c(e.permutation,e.pos)/32)+e.k*e.offset),na=-(31-c(e.permutation,e.pos)%32),Kr=31-e.j%32;g(Rs,(rr+wr)*Nr+~~(ea/32),c(Rs,(rr+wr)*Nr+~~(ea/32))|(Kr<0?((na<0?Or>>>-na:Or<<na)&1)>>>-Kr:((na<0?Or>>>-na:Or<<na)&1)<<Kr))}var Za=e.permutation,es=e.Pg_sub_block,Gs=e.j;g(Za,es-1-Gs,c(e.permutation,e.pos)),g(e.permutation,e.pos,c(Za,es-1-Gs))}}},e.createMetadataMatrixA=function(){e.nb_pcb=~~(e.Pg_sub_block/2),e.offset=~~xr(e.Pg_sub_block/32),e.matrixA=s(e.offset*e.nb_pcb);for(var ct=0,Nt=e.offset*e.nb_pcb-1;ct<=Nt;ct+=1)g(e.matrixA,ct,0);e.permutation=s(e.Pg_sub_block);for(var hr=0,lr=e.Pg_sub_block-1;hr<=lr;hr+=1)g(e.permutation,hr,hr);e.s0=0,e.s1=0,e.s2=0,e.s3=38545,e.nb_once=~~(~~(e.nb_pcb/e.wc*e.Pg_sub_block+3)/e.nb_pcb);for(var fr=0,Rr=e.nb_pcb-1;fr<=Rr;fr+=1){e.i=fr;for(var cr=0,aa=e.nb_once-1;cr<=aa;cr+=1){e.j=cr,e.lcg64_temper();var Hr=r[t-1];if(Hr<0){var $r=r[--t];r[t++]=($r^2147483648)+2147483648}e.pos=~~(r[--t]/4294967296*(e.Pg_sub_block-e.j));var Gr=e.matrixA,Vr=e.i,ha=e.offset,Zr=c(e.permutation,e.pos),qr=31-c(e.permutation,e.pos)%32;g(Gr,Vr*ha+~~(Zr/32),c(Gr,Vr*ha+~~(Zr/32))|(qr<0?1>>>-qr:1<<qr));var sa=e.permutation,Mr=e.Pg_sub_block,Pr=e.j;g(sa,Mr-1-Pr,c(e.permutation,e.pos)),g(e.permutation,e.pos,c(sa,Mr-1-Pr))}}},e.GaussJordan=function(){r[t++]="nb_pcb",e.wr<4?r[t++]=~~(e.Pg_sub_block/2):r[t++]=~~(e.Pg_sub_block/e.wr)*e.wc;var ct=r[--t];e[r[--t]]=ct,e.offset=~~xr(e.Pg_sub_block/32);var Nt=e.matrixA;e.matrixH=cc(s(Nt.length),Nt),r[t++]=1/0;for(var hr=0,lr=e.Pg_sub_block;hr<lr;hr++)r[t++]=0;e.column_arrangement=s(),r[t++]=1/0;for(var fr=0,Rr=e.Pg_sub_block;fr<Rr;fr++)r[t++]=!1;e.processed_column=s(),r[t++]=1/0;for(var cr=0,aa=e.nb_pcb;cr<aa;cr++)r[t++]=0;e.zero_lines_nb=s(),r[t++]=1/0;for(var Hr=0,$r=e.Pg_sub_block*2;Hr<$r;Hr++)r[t++]=0;e.swap_col=s(),e.zero_lines=0,e.loop0=0;for(var Gr=0,Vr=e.nb_pcb-1;Gr<=Vr;Gr+=1){e.i=Gr,e.pivot_column=e.Pg_sub_block+1;for(var ha=0,Zr=e.Pg_sub_block-1;ha<=Zr;ha+=1){e.j=ha;var qr=c(e.matrixH,~~((e.offset*32*e.i+e.j)/32)),sa=-(31-(e.offset*32*e.i+e.j)%32);if(((sa<0?qr>>>-sa:qr<<sa)&1)==1){e.pivot_column=e.j;break}}if(e.pivot_column<e.Pg_sub_block){g(e.processed_column,e.pivot_column,!0),g(e.column_arrangement,e.pivot_column,e.i),e.pivot_column>=e.nb_pcb&&(g(e.swap_col,e.loop0*2,e.pivot_column),e.loop0=e.loop0+1),e.off_index=~~(e.pivot_column/32),e.off_index1=e.pivot_column%32;for(var Mr=0,Pr=e.nb_pcb-1;Mr<=Pr;Mr+=1)if(e.j=Mr,e.i!=e.j){var za=c(e.matrixH,e.off_index+e.j*e.offset),ba=-(31-e.off_index1);if(((ba<0?za>>>-ba:za<<ba)&1)==1)for(var ls=0,Ss=e.offset-1;ls<=Ss;ls+=1){e.k=ls;var nn=e.matrixH,Rs=e.offset,rr=e.j,wr=e.k;g(nn,Rs*rr+wr,fs(c(nn,Rs*rr+wr),c(e.matrixH,e.offset*e.i+e.k)))}}}else g(e.zero_lines_nb,e.zero_lines,e.i),e.zero_lines=e.zero_lines+1}e.matrix_rank=e.nb_pcb-e.zero_lines,e.loop2=0;for(var Nr=e.matrix_rank,ea=e.nb_pcb-1;Nr<=ea;Nr+=1)if(e.i=Nr,c(e.column_arrangement,e.i)>0){for(var Or=0,na=e.nb_pcb-1;Or<=na;Or+=1)if(e.j=Or,!c(e.processed_column,e.j)){g(e.column_arrangement,e.j,c(e.column_arrangement,e.i)),g(e.column_arrangement,e.i,0),g(e.processed_column,e.j,!0),g(e.processed_column,e.i,!1),g(e.swap_col,e.loop0*2,e.i),g(e.swap_col,e.loop0*2+1,e.j),g(e.column_arrangement,e.i,e.j),e.loop0=e.loop0+1,e.loop2=e.loop2+1;break}}e.loop1=0;for(var Kr=0,Za=e.nb_pcb-1;Kr<=Za;Kr+=1)e.kl=Kr,!c(e.processed_column,e.kl)&&e.loop1<e.loop0-e.loop2&&(g(e.column_arrangement,e.kl,c(e.column_arrangement,c(e.swap_col,e.loop1*2))),g(e.processed_column,e.kl,!0),g(e.swap_col,e.loop1*2+1,e.kl),e.loop1=e.loop1+1);e.loop1=0;for(var es=0,Gs=e.nb_pcb-1;es<=Gs;es+=1)e.kl=es,c(e.processed_column,e.kl)||(g(e.column_arrangement,e.kl,c(e.zero_lines_nb,e.loop1)),e.loop1=e.loop1+1);for(var bn=0,Rn=e.nb_pcb-1;bn<=Rn;bn+=1){e.i=bn;for(var Ln=0,Qn=e.offset-1;Ln<=Qn;Ln+=1)e.j=Ln,g(e.matrixA,e.i*e.offset+e.j,c(e.matrixH,S(c(e.column_arrangement,e.i)*e.offset+e.j)))}e.tmp=0;for(var yn=0,fi=e.loop0-1;yn<=fi;yn+=1){e.i=yn;for(var Hn=0,hi=e.nb_pcb-1;Hn<=hi;Hn+=1){e.j=Hn;var Ji=c(e.matrixA,~~(c(e.swap_col,e.i*2)/32)+e.j*e.offset),pi=-(31-c(e.swap_col,e.i*2)%32);e.tmp=(-((pi<0?Ji>>>-pi:Ji<<pi)&1)^e.tmp)&1^e.tmp;var Xi=e.matrixA,Zi=c(e.swap_col,e.i*2),Ke=e.j,bt=e.offset,pr=c(e.matrixA,~~(c(e.swap_col,e.i*2+1)/32)+e.j*e.offset),kr=-(31-c(e.swap_col,e.i*2+1)%32),pa=31-c(e.swap_col,e.i*2)%32;g(Xi,~~(Zi/32)+Ke*bt,c(Xi,~~(Zi/32)+Ke*bt)^(-((kr<0?pr>>>-kr:pr<<kr)&1)^c(e.matrixA,~~(c(e.swap_col,e.i*2)/32)+e.j*e.offset))&(pa<0?1>>>-pa:1<<pa));var ts=e.matrixA,rs=c(e.swap_col,e.i*2+1),Es=e.j,on=e.offset,wn=31-c(e.swap_col,e.i*2+1)%32;g(ts,~~(rs/32)+Es*on,c(ts,~~(rs/32)+Es*on)^(-(e.tmp&1)^c(e.matrixA,~~(c(e.swap_col,e.i*2+1)/32)+e.j*e.offset))&(wn<0?1>>>-wn:1<<wn))}}},e.createGeneratorMatrix=function(){e.pn=e.Pg_sub_block-e.matrix_rank,e.offset=~~xr(e.pn/32),e.effwidth=e.offset*32,e.offset_cap=~~xr(e.Pg_sub_block/32),e.G=s(e.offset*e.Pg_sub_block);for(var ct=0,Nt=e.offset*e.Pg_sub_block-1;ct<=Nt;ct+=1)g(e.G,ct,0);for(var hr=0,lr=e.pn-1;hr<=lr;hr+=1){e.i=hr;var fr=e.G,Rr=e.Pg_sub_block,cr=e.pn,aa=e.i,Hr=e.offset,$r=e.i,Gr=31-e.i%32;g(fr,(Rr-cr+aa)*Hr+~~($r/32),c(fr,(Rr-cr+aa)*Hr+~~($r/32))|(Gr<0?1>>>-Gr:1<<Gr))}e.matrix_index=e.Pg_sub_block-e.pn,e.loop0=0;for(var Vr=0,ha=(e.Pg_sub_block-e.pn)*e.effwidth-1;Vr<=ha;Vr+=1)if(e.i=Vr,e.matrix_index>=e.Pg_sub_block&&(e.loop0=e.loop0+1,e.matrix_index=e.Pg_sub_block-e.pn),e.i%e.effwidth<e.pn){var Zr=e.G,qr=e.i,sa=c(e.matrixA,~~(e.matrix_index/32)+e.offset_cap*e.loop0),Mr=-(31-e.matrix_index%32),Pr=31-e.i%32;g(Zr,~~(qr/32),c(Zr,~~(qr/32))^(-((Mr<0?sa>>>-Mr:sa<<Mr)&1)^c(e.G,~~(e.i/32)))&(Pr<0?1>>>-Pr:1<<Pr)),e.matrix_index=e.matrix_index+1}},e.ldpc=function(){e.wr=r[--t],e.wc=r[--t],r[t++]=1/0;var ct=r[--t],Nt=r[--t];if(r[t++]=ct,ge(Nt,function(){var ls=r[--t];r[t++]=ls-48}),e.data=s(),e.Pn=e.data.length,e.wr!=-1){if(e.Pg=~~(xr(xr(e.Pn*e.wr/S(e.wr-e.wc))/e.wr)*e.wr),e.nb_sub_blocks=~~(e.Pg/2700)+1,e.Pg_sub_block=~~(~~(e.Pg/e.nb_sub_blocks)/e.wr)*e.wr,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.nb_sub_blocks=~~(e.Pg/e.Pg_sub_block),r[t++]="encoding_iterations",r[t++]=~~(e.Pg/e.Pg_sub_block),e.Pn_sub_block*e.nb_sub_blocks<e.Pn){var hr=r[--t];r[t++]=hr-1}var lr=r[--t];e[r[--t]]=lr,e.createMatrixA()}else e.Pg=e.Pn*2,e.nb_sub_blocks=1,e.Pg_sub_block=e.Pg,e.Pn_sub_block=e.Pn,e.encoding_iterations=1,e.createMetadataMatrixA();e.GaussJordan(),e.createGeneratorMatrix(),e.ecc_encoded_data=s(e.Pg),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var fr=0,Rr=e.encoding_iterations-1;fr<=Rr;fr+=1){e.iter=fr;for(var cr=0,aa=e.Pg_sub_block-1;cr<=aa;cr+=1){e.i=cr,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var Hr=e.iter*e.Pn_sub_block,$r=(e.iter+1)*e.Pn_sub_block-1;Hr<=$r;Hr+=1){var Gr=c(e.G,e.offset_index+~~(e.loop0/32)),Vr=-(31-e.loop0%32);e.temp=c(e.data,Hr)&((Vr<0?Gr>>>-Vr:Gr<<Vr)&1)^e.temp,e.loop0=e.loop0+1}g(e.ecc_encoded_data,e.i+e.iter*e.Pg_sub_block,e.temp)}}if(e.encoding_iterations!=e.nb_sub_blocks){e.start=e.encoding_iterations*e.Pn_sub_block,e.last_index=e.encoding_iterations*e.Pg_sub_block,e.Pg_sub_block=e.Pg-e.encoding_iterations*e.Pg_sub_block,e.Pn_sub_block=~~(e.Pg_sub_block*S(e.wr-e.wc)/e.wr),e.createMatrixA(),e.GaussJordan(),e.createGeneratorMatrix(),e.offset=~~xr((e.Pg_sub_block-e.matrix_rank)/32);for(var ha=0,Zr=e.Pg_sub_block-1;ha<=Zr;ha+=1){e.i=ha,e.temp=0,e.loop0=0,e.offset_index=e.offset*e.i;for(var qr=e.start,sa=e.Pn-1;qr<=sa;qr+=1){var Mr=c(e.G,e.offset_index+~~(e.loop0/32)),Pr=-(31-e.loop0%32);e.temp=c(e.data,qr)&((Pr<0?Mr>>>-Pr:Mr<<Pr)&1)^e.temp,e.loop0=e.loop0+1}g(e.ecc_encoded_data,e.i+e.last_index,e.temp)}}e.out=W(e.Pg);for(var za=0,ba=e.Pg-1;za<=ba;za+=1)g(e.out,za,c(e.ecc_encoded_data,za)+48);r[t++]=e.out},r[t++]="bits",r[t++]=e.bits,r[t++]=e.datawc,r[t++]=e.datawr,e.ldpc();var B=r[--t];e[r[--t]]=B,e.s0=0,e.s1=0,e.s2=3,e.s3=30151;for(var I=e.bits.length-1;I>=1;I-=1){e.l=I,e.lcg64_temper();var D=r[t-1];if(D<0){var T=r[--t];r[t++]=(T^2147483648)+2147483648}e.r=~~(r[--t]/4294967296*(e.l+1)),g(e.bits,e.l,c(e.bits,e.r)),g(e.bits,e.r,c(e.bits,e.l))}e.tmpbits=W(e.C),M(e.tmpbits,0,e.bits),e.j=e.bits.length;for(var R=0,$=~~((S(e.C-e.j)+1)/2);R<$;R++)g(e.tmpbits,e.j,48),e.j+1<e.C&&g(e.tmpbits,e.j+1,49),e.j=e.j+2;if(e.bits=e.tmpbits,e.colors==4)e.bi=0,e.gi=1,e.mi=2,e.yi=3,e.ki=4,e.wi=5,r[t++]=1/0,r[t++]=e.bi,r[t++]="0000FF",r[t++]=e.gi,r[t++]="00FF00",r[t++]=e.mi,r[t++]="FF00FF",r[t++]=e.yi,r[t++]="FFFF00",r[t++]=e.ki,r[t++]="000000",r[t++]=e.wi,r[t++]="FFFFFF",e.palette=$e(),e.metacolorindex=s([e.bi,e.gi,e.mi,e.yi]),e.palettelayout=s([e.bi,e.gi,e.mi,e.yi]);else{var F=new Map([[8,s([2,2,2])],[16,s([4,2,2])],[32,s([4,4,2])],[64,s([4,4,4])],[128,s([8,4,4])],[256,s([8,8,4])]]);e.rgbres=c(F,e.colors),r[t++]="rvals",r[t++]=c(e.rgbres,0),r[t++]=1/0;var _=r[--t],Q=r[--t]-1;r[t++]=_,r[t++]=Q;for(var H=0,J=Q;H<=J;H+=1){var K=r[--t];r[t++]=~~N1(H*(255/K)),r[t++]=K}t--;var he=s();e[r[--t]]=he,r[t++]="gvals",r[t++]=c(e.rgbres,1),r[t++]=1/0;var G=r[--t],L=r[--t]-1;r[t++]=G,r[t++]=L;for(var ce=0,fe=L;ce<=fe;ce+=1){var U=r[--t];r[t++]=~~N1(ce*(255/U)),r[t++]=U}t--;var ee=s();e[r[--t]]=ee,r[t++]="bvals",r[t++]=c(e.rgbres,2),r[t++]=1/0;var se=r[--t],de=r[--t]-1;r[t++]=se,r[t++]=de;for(var ke=0,ae=de;ke<=ae;ke+=1){var De=r[--t];r[t++]=~~N1(ke*(255/De)),r[t++]=De}t--;var we=s();e[r[--t]]=we,e.colors,e.palette=new Map;var Ae=e.colors,Le=64;if(64>Ae){var xe=Ae;Ae=Le,Le=xe}e.palettelayout=s(Le),e.i=0,e.j=8,ge(e.rvals,function(){e.r=r[--t],ge(e.gvals,function(){e.g=r[--t],ge(e.bvals,function(){e.b=r[--t];var ct=Fr(W(6),"000000"),Nt=$t(W(6),e.r<<16|e.g<<8|e.b,16);M(ct,6-Nt.length,Nt),r[t++]=ct,r[t++]=!1,Y(ct,"000000")&&(e.ki=e.i,r[t-1]=!0);var hr=r[t-2];Y(hr,"0000FF")&&(e.bi=e.i,r[t-1]=!0);var lr=r[t-2];Y(lr,"00FF00")&&(e.gi=e.i,r[t-1]=!0);var fr=r[t-2];Y(fr,"00FFFF")&&(e.ci=e.i,r[t-1]=!0);var Rr=r[t-2];Y(Rr,"FF0000")&&(e.ri=e.i,r[t-1]=!0);var cr=r[t-2];Y(cr,"FF00FF")&&(e.mi=e.i,r[t-1]=!0);var aa=r[t-2];Y(aa,"FFFF00")&&(e.yi=e.i,r[t-1]=!0);var Hr=r[t-2];Y(Hr,"FFFFFF")&&(e.wi=e.i,r[t-1]=!0),r[--t]||(e.colors<=64||e.colors==128&&(e.r==0||e.r==73||e.r==182||e.r==255)||e.colors==256&&(e.r==0||e.r==73||e.r==182||e.r==255)&&(e.g==0||e.g==73||e.g==182||e.g==255))&&(g(e.palettelayout,e.j,e.i),e.j=e.j+1),g(e.palette,e.i,r[--t]),e.i=e.i+1})})}),M(e.palettelayout,0,s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])),e.metacolorindex=s([e.ki,e.bi,e.gi,e.ci,e.ri,e.mi,e.yi,e.wi])}r[t++]=1/0;for(var Oe=0,Te=e.rows*e.cols;Oe<Te;Oe++)r[t++]=-1;e.pixs=s(),e.jmv=function(){var ct=r[--t],Nt=r[--t];r[t++]=S(Nt+ct*e.cols)},e.slave?(e.fpat=s([s([0,0,0,0,0]),s([0,2,2,0,0]),s([0,2,1,2,0]),s([0,0,2,2,0]),s([0,0,0,0,0])]),e.fmap=s([s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi]),s([-1,e.ki,e.wi])])):(e.fpat=s([s([1,1,1,0,0]),s([1,2,2,0,0]),s([1,2,1,2,1]),s([0,0,2,2,1]),s([0,0,1,1,1])]),e.fmap=s([s([-1,e.bi,e.yi]),s([-1,e.yi,e.bi]),s([-1,e.gi,e.mi]),s([-1,e.mi,e.gi])]));for(var Pe=0;Pe<=4;Pe+=1){e.y=Pe;for(var Ue=0;Ue<=4;Ue+=1){e.x=Ue,e.fpb=c(c(e.fpat,e.y),e.x),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=e.y+1,e.jmv();var Ze=r[--t];g(r[--t],Ze,c(c(e.fmap,0),e.fpb)),r[t++]=e.pixs,r[t++]=e.x+1,r[t++]=S(e.rows-e.y)-2,e.jmv();var te=r[--t];g(r[--t],te,c(c(e.fmap,1),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=e.y+1,e.jmv();var oe=r[--t];g(r[--t],oe,c(c(e.fmap,2),e.fpb)),r[t++]=e.pixs,r[t++]=S(e.x+e.cols)-6,r[t++]=S(e.rows-e.y)-2,e.jmv();var Re=r[--t];g(r[--t],Re,c(c(e.fmap,3),e.fpb))}}if(e.algnpat0=s([s([e.ki,e.ki,-1]),s([e.ki,e.wi,e.ki]),s([-1,e.ki,e.ki])]),e.algnpat1=s([s([-1,e.ki,e.ki]),s([e.ki,e.wi,e.ki]),s([e.ki,e.ki,-1])]),e.num=~~N1(e.cols/16)-1,e.algnrpos=s([3,17]),e.num>0){r[t++]=1/0;for(var ze=0,Je=e.num;ze<=Je;ze+=1)r[t++]=~~(ze*((e.cols-7)/e.num))+3;e.algnrpos=s()}if(e.num=~~N1(e.rows/16)-1,e.algncpos=s([3,17]),e.num>0){r[t++]=1/0;for(var Qe=0,qe=e.num;Qe<=qe;Qe+=1)r[t++]=~~(Qe*((e.rows-7)/e.num))+3;e.algncpos=s()}e.putalgnpat=function(){e.pp=r[--t],e.py=r[--t],e.px=r[--t];for(var ct=0;ct<=2;ct+=1){e.pb=ct;for(var Nt=0;Nt<=2;Nt+=1){e.pa=Nt,r[t++]=e.pixs,r[t++]=S(e.px+e.pa),r[t++]=S(e.py+e.pb),e.jmv();var hr=r[--t];g(r[--t],hr,c(c(e.pp,e.pb),e.pa))}}};for(var ut=0,mt=e.algncpos.length-1;ut<=mt;ut+=1){e.j=ut,e.y=c(e.algncpos,e.j);for(var lt=0,vt=e.algnrpos.length-1;lt<=vt;lt+=1){e.i=lt,e.x=c(e.algnrpos,e.i),r[t++]=e.pixs,r[t++]=e.x,r[t++]=e.y,e.jmv();var St=r[--t];c(r[--t],St)==-1&&(r[t++]=e.x-1,r[t++]=e.y-1,(e.i+e.j)%2==0?r[t++]=e.algnpat0:r[t++]=e.algnpat1,e.putalgnpat())}}if(e.slave){r[t++]=1/0;for(var Mt=1;Mt<=19;Mt+=1)e.i=Mt,r[t++]=s([0,e.i]),r[t++]=s([1,e.i]);for(var Lt=5;Lt<=12;Lt+=1)e.i=Lt,r[t++]=s([2,e.i]),r[t++]=s([3,e.i]);e.metadatamap=s(),r[t++]=1/0;for(var Dt=5;Dt<=12;Dt+=1){var jt=1/0,P=Dt;r[t++]=jt,r[t++]=4,r[t++]=P;var V=s();r[t++]=V}for(var q=12;q>=5;q-=1){var ne=1/0,ue=q;r[t++]=ne,r[t++]=5,r[t++]=ue;var be=s();r[t++]=be}for(var re=5;re<=12;re+=1){var Se=1/0,X=re;r[t++]=Se,r[t++]=6,r[t++]=X;var ve=s();r[t++]=ve}for(var me=12;me>=5;me-=1){var je=1/0,le=me;r[t++]=je,r[t++]=7,r[t++]=le;var ye=s();r[t++]=ye}e.palettemap1=s(),r[t++]=1/0;for(var Ie=e.palettemap1,pe=0,Ce=Ie.length;pe<Ce;pe++){var Ne=1/0,Be=c(Ie,pe);r[t++]=Ne,O(Be);var Ge=r[--t],He=r[--t];r[t++]=-He,r[t++]=-Ge;var Xe=s();r[t++]=Xe}e.palettemap2=s()}else{for(var kt=s([s([6,1]),s([6,2]),s([6,3]),s([6,4]),s([6,5]),s([6,6]),s([5,6]),s([4,6]),s([3,6]),s([2,6]),s([1,6]),s([7,1]),s([7,2]),s([7,3]),s([7,4]),s([7,5]),s([7,6]),s([7,7]),s([6,7]),s([5,7]),s([4,7]),s([3,7]),s([2,7]),s([1,7]),s([8,1]),s([8,2]),s([8,3]),s([8,4]),s([8,5]),s([8,6]),s([8,7]),s([8,8]),s([7,8]),s([6,8]),s([5,8]),s([4,8]),s([3,8]),s([2,8]),s([1,8]),s([9,1]),s([9,2]),s([9,3]),s([9,4]),s([9,5])]),wt=0,Pt=kt.length;wt<Pt;wt++)O(c(kt,wt)),e.y=r[--t],e.x=r[--t],r[t++]=s([e.x,e.y]),r[t++]=s([-e.x,e.y]),r[t++]=s([-e.x,-e.y]),r[t++]=s([e.x,-e.y]);Vt(s(176)),e.metadatamap=r[--t],e.palettemap1=s([s([4,1]),s([4,2]),s([5,1]),s([5,2]),s([2,4]),s([2,5]),s([1,4]),s([1,5]),s([-2,1]),s([-2,2]),s([-1,1]),s([-1,2]),s([-4,4]),s([-4,5]),s([-5,4]),s([-5,5])]),e.palettemap2=s([s([-4,-5]),s([-4,-4]),s([-5,-5]),s([-5,-4]),s([-2,-2]),s([-2,-1]),s([-1,-2]),s([-1,-1]),s([2,-5]),s([2,-4]),s([1,-5]),s([1,-4]),s([4,-2]),s([4,-1]),s([5,-2]),s([5,-1])])}for(var st=e.metadatamap,at=0,Ee=st.length;at<Ee;at++){var Ve=c(st,at),Ye=c(Ve,0);if(r[t++]=Ve,r[t++]=Ye,Ye<0){var et=r[--t],ht=r[t-1];g(ht,0,S(et+e.cols)-1)}else t--;var pt=r[t-1],ft=c(pt,1);if(r[t++]=ft,ft<0){var gt=r[--t],nt=r[t-1];g(nt,1,S(gt+e.rows)-1)}else t--;t--}for(var Tt=e.palettemap1,tt=0,Qt=Tt.length;tt<Qt;tt++){var Ht=c(Tt,tt),Ot=c(Ht,0);if(r[t++]=Ht,r[t++]=Ot,Ot<0){var sr=r[--t],Sr=r[t-1];g(Sr,0,S(sr+e.cols)-1)}else t--;var nr=r[t-1],gr=c(nr,1);if(r[t++]=gr,gr<0){var ar=r[--t],Ir=r[t-1];g(Ir,1,S(ar+e.rows)-1)}else t--;t--}for(var Zt=e.palettemap2,dr=0,Kt=Zt.length;dr<Kt;dr++){var Jt=c(Zt,dr),ur=c(Jt,0);if(r[t++]=Jt,r[t++]=ur,ur<0){var Tr=r[--t],_r=r[t-1];g(_r,0,S(Tr+e.cols)-1)}else t--;var ua=r[t-1],Ct=c(ua,1);if(r[t++]=Ct,Ct<0){var qt=r[--t],tr=r[t-1];g(tr,1,S(qt+e.rows)-1)}else t--;t--}for(var br=0,ir=e.nummetamodules-1;br<=ir;br+=1){r[t++]=e.pixs,O(c(e.metadatamap,br)),e.jmv();var Br=r[--t];g(r[--t],Br,0)}if(e.slave)e.i=0;else{var or=e.colors,Ut=16;if(16>or){var xe=or;or=Ut,Ut=xe}for(var yr=0,ta=Ut-1;yr<=ta;yr+=1){e.i=yr;var fa=c(e.palettelayout,e.i);r[t++]=fa,r[t++]=e.pixs,r[t++]=fa,O(c(e.palettemap1,e.i)),e.jmv();var wa=r[--t],Lr=r[--t];g(r[--t],wa,Lr);var Ea=r[--t];r[t++]=e.pixs,r[t++]=Ea,O(c(e.palettemap2,e.i)),e.jmv();var ga=r[--t],Ra=r[--t];g(r[--t],ga,Ra)}e.i=16}e.j=e.nummetamodules;for(var la=e.i,Aa=e.palettelayout.length-1;la<=Aa;la+=2){e.i=la;var Ca=c(e.palettelayout,e.i);r[t++]=Ca,r[t++]=e.pixs,r[t++]=Ca,O(c(e.metadatamap,e.j)),e.jmv();var ka=r[--t],La=r[--t];g(r[--t],ka,La);var Qa=r[--t];r[t++]=e.pixs,r[t++]=Qa,O(c(e.metadatamap,e.j+2)),e.jmv();var Va=r[--t],ps=r[--t];g(r[--t],Va,ps);var Ia=c(e.palettelayout,e.i+1);r[t++]=Ia,r[t++]=e.pixs,r[t++]=Ia,O(c(e.metadatamap,e.j+1)),e.jmv();var Bs=r[--t],Ha=r[--t];g(r[--t],Bs,Ha);var Qs=r[--t];r[t++]=e.pixs,r[t++]=Qs,O(c(e.metadatamap,e.j+3)),e.jmv();var Ma=r[--t],ms=r[--t];g(r[--t],Ma,ms),e.j=e.j+4}var Ds=s([function(){var ct=r[--t],Nt=r[--t];r[t++]=S(Nt+ct)%e.colors},function(){t--;var ct=r[--t];r[t++]=ct%e.colors},function(){var ct=r[--t];r[t-1]=ct;var Nt=r[--t];r[t++]=Nt%e.colors},function(){var ct=r[--t],Nt=r[--t];r[t++]=(~~(ct/3)+~~(Nt/2))%e.colors},function(){var ct=r[--t],Nt=r[--t];r[t++]=(~~(ct/2)+~~(Nt/3))%e.colors},function(){var ct=r[--t],Nt=S(r[--t]+ct);r[t++]=(~~(Nt/2)+~~(Nt/3))%e.colors},function(){var ct=r[--t],Nt=r[--t];r[t++]=S(ct*(Nt*Nt)%7+(ct+Nt*Nt)*2%19)%e.colors},function(){var ct=r[--t],Nt=r[--t];r[t++]=S(Nt*(ct*ct)%5+(ct*ct+Nt*2)%13)%e.colors}]);e.maskfuncs=Ds,e.mask!=-1&&(e.maskfuncs=s([c(e.maskfuncs,e.mask)]),e.bestmaskval=e.mask),e.masks=s(e.maskfuncs.length);for(var Ts=0,Ka=e.masks.length-1;Ts<=Ka;Ts+=1){e.m=Ts,e.mask=s(e.rows*e.cols);for(var Hs=0,Wa=e.rows-1;Hs<=Wa;Hs+=1){e.j=Hs;for(var xs=0,Fa=e.cols-1;xs<=Fa;xs+=1){e.i=xs,r[t++]=e.pixs,r[t++]=e.i,r[t++]=e.j,e.jmv();var vn=r[--t];if(c(r[--t],vn)==-1){if(r[t++]=e.i,r[t++]=e.j,c(e.maskfuncs,e.m)()===!0)break}else r[t++]=0;r[t++]=e.mask,r[t++]=e.i,r[t++]=e.j,e.jmv();var $a=r[t-3],In=r[t-1];g(r[t-2],In,$a),t-=3}}g(e.masks,e.m,e.mask)}for(e.posx=0,e.posy=0,e.i=0;e.posx!=e.cols;){r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Ba=r[--t];if(c(r[--t],Ba)==-1){var Xs=C(e.bits,e.i,e.databpm);r[t++]=0;for(var _a=0,rn=Xs.length;_a<rn;_a++){var is=r[--t];r[t++]=S(is+(c(Xs,_a)-48))*2}var Xt=r[--t];r[t++]=~~(Xt/2),r[t++]=e.pixs,r[t++]=e.posx,r[t++]=e.posy,e.jmv();var Xr=r[t-3],ja=r[t-1];g(r[t-2],ja,Xr),t-=3,e.i=e.i+e.databpm}e.posy=e.posy+1,e.posy==e.rows&&(e.posy=0,e.posx=e.posx+1)}e.evalrle=function(){e.scrle=r[--t],e.scr1=0,e.scr3=0;for(var ct=0,Nt=e.scrle.length-2;ct<=Nt;ct+=2)if(e.j=ct,c(e.scrle,e.j+1)!=-1){var hr=c(e.scrle,e.j);if(r[t++]=hr,hr>=5?e.scr1=S(r[--t]-2+e.scr1):t--,e.j>=4&&e.j<=e.scrle.length-5){var lr=C(e.scrle,e.j-4,10);r[t++]=lr;for(var fr=0,Rr=lr.length;fr<Rr;fr++)r[t++]=c(lr,fr)==1;t--;for(var cr=0;cr<4;cr++){var aa=r[--t];r[t-1]=aa;var Hr=r[--t],$r=r[--t];r[t++]=ho($r,Hr)}if(r[--t]){r[t++]=1/0;var Gr=r[--t],Vr=r[--t];r[t++]=Gr,O(Vr);var ha=r[t-1],Zr=r[t-3],qr=r[t-5],sa=r[t-7],Mr=r[t-9];if(Y(Mr,qr)&&Y(Mr,ha)&&Y(sa,Zr)){var Pr=r[--t],za=r[--t],ba=r[--t];e.c4=ba,e.c5=Pr,r[t++]=ba,r[t++]=za,(e.c4==e.bi&&e.c5==e.yi||e.c4==e.yi&&e.c5==e.bi||e.c4==e.gi&&e.c5==e.mi||e.c4==e.mi&&e.c5==e.gi)&&(e.scr3=e.scr3+100)}el()}else t--}}r[t++]=e.scr1,r[t++]=e.scr3},e.evalmask=function(){e.sym=r[--t],e.n1=0,e.n2=0,e.n3=0;var ct=e.rows,Nt=e.cols;if(ct<Nt){var hr=Nt;Nt=ct,ct=hr}e.rle=s(ct*2+2),e.lastpairs=s(e.cols),e.thispairs=s(e.cols);for(var lr=0,fr=e.cols-1;lr<=fr;lr+=1){e.i=lr,r[t++]=1/0,r[t++]=0,r[t++]=-1;for(var Rr=e.i,cr=e.cols,aa=e.rows*e.cols-1;cr<0?Rr>=aa:Rr<=aa;Rr+=cr){var Hr=c(e.sym,Rr),$r=r[t-1];if(r[t++]=Hr,Y($r,Hr)){t--;var Gr=r[--t],Vr=r[--t];r[t++]=Vr+1,r[t++]=Gr}else{var ha=r[--t];r[t++]=1,r[t++]=ha}}var Zr=xa()+2;Vt(C(e.rle,0,Zr-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--}for(var qr=0,sa=e.rows-1;qr<=sa;qr+=1){e.i=qr,e.symrow=C(e.sym,e.i*e.cols,e.cols),r[t++]=1/0;var Mr=e.symrow;r[t++]=0,r[t++]=-1;for(var Pr=0,za=Mr.length;Pr<za;Pr++){var ba=c(Mr,Pr),ls=r[t-1];if(r[t++]=ba,Y(ls,ba)){t--;var Ss=r[--t],nn=r[--t];r[t++]=nn+1,r[t++]=Ss}else{var Rs=r[--t];r[t++]=1,r[t++]=Rs}}var rr=xa()+2;Vt(C(e.rle,0,rr-2)),e.evalrle(),e.n3=S(r[--t]+e.n3),e.n1=S(r[--t]+e.n1),t--;var wr=e.thispairs;e.thispairs=e.lastpairs,e.lastpairs=wr;var Nr=e.symrow;r[t++]=-1;for(var ea=0,Or=Nr.length;ea<Or;ea++){var na=c(Nr,ea),Kr=r[--t];if(r[t++]=na,r[t++]=Kr,Me(na,Kr)){t--;var Za=r[--t];r[t++]=-1,r[t++]=Za}}if(t--,Vt(e.thispairs),t--,e.i>0){r[t++]=1/0,O(e.lastpairs),O(e.thispairs),r[t++]=e.n2;for(var es=0,Gs=e.cols;es<Gs;es++){var bn=r[--t],Rn=r[--t];if(r[t++]=bn,r[t++]=Rn,Rn!=-1){var Ln=r[t-1-(e.cols+1)];if(Y(r[--t],Ln)){var Qn=r[--t];r[t++]=Qn+3}}else t--}e.n2=r[--t],el()}}r[t++]=S(e.n1+e.n2+e.n3)},e.bestscore=999999999;for(var Pa=0,vs=e.masks.length-1;Pa<=vs;Pa+=1){e.m=Pa,e.masksym=s(e.rows*e.cols);for(var Qr=0,os=e.rows*e.cols-1;Qr<=os;Qr+=1)e.i=Qr,g(e.masksym,e.i,fs(c(e.pixs,e.i),c(c(e.masks,e.m),e.i)));e.masks.length!=1?(r[t++]=e.masksym,e.evalmask(),e.score=r[--t],e.score<e.bestscore&&(e.bestsym=e.masksym,e.bestmaskval=e.m,e.bestscore=e.score)):e.bestsym=e.masksym}if(e.pixs=e.bestsym,e.metamask=e.bestmaskval,e.addtometapart=function(){var ct=r[--t];M(e.metapart,e.p,ct),e.p=ct.length+e.p},e.addtometabits=function(){var ct=r[--t];M(e.metabits,e.q,ct),e.q=ct.length+e.q},e.metapart=W(40),e.metabits=W(e.nummetabits),e.p=0,e.q=0,!e.slave)r[t++]=~~N1(hn(e.colors)/hn(2))-1,r[t++]=3,e.tofixedbits(),e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,r[t++]=e.metass,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=e.metavf,r[t++]=2,e.tofixedbits(),e.addtometapart(),r[t++]=e.metamask,r[t++]=3,e.tofixedbits(),e.addtometapart(),e.hasslaves?r[t++]="1":r[t++]="0",e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.metass==0?(r[t++]=S(~~((e.cols-17)/4)-c(s([0,4,8,16]),e.metavf))-1,r[t++]=e.metavlen,e.tofixedbits(),e.addtometapart()):(r[t++]=~~((e.cols-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart(),r[t++]=~~((e.rows-17)/4)-1,r[t++]=~~(e.metavlen/2),e.tofixedbits(),e.addtometapart()),r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),e.hasslaves&&(r[t++]=0,r[t++]=4,e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0;else{var gs=e.sameshape?0:1;r[t++]=gs,r[t++]=1,e.tofixedbits(),e.addtometapart();var Oa=e.sameecc?0:1;r[t++]=Oa,r[t++]=1,e.tofixedbits(),e.addtometapart();var Bn=e.hasslaves?1:0;r[t++]=Bn,r[t++]=1,e.tofixedbits(),e.addtometapart(),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameshape||(r[t++]=~~((e.diffside-17)/4)-1,r[t++]=5,e.tofixedbits(),e.addtometapart()),e.hasslaves&&(r[t++]=0,r[t++]=3,e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0,e.sameecc||(r[t++]=e.datawc-3,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart(),r[t++]=e.datawr-4,r[t++]=~~(e.metaelen/2),e.tofixedbits(),e.addtometapart()),r[t++]=C(e.metapart,0,e.p),r[t++]=2,r[t++]=-1,e.ldpc(),e.addtometabits(),e.p=0}for(var Da=e.q,ui=e.nummetabits-1;Da<=ui;Da+=1)g(e.metabits,Da,48);if(e.i=0,e.j=0,!e.slave){for(var $s=C(e.metabits,e.i,6),Ta=0,Dn=$s.length;Ta<Dn;Ta++){r[t++]=c($s,Ta),e.colors==4?r[t++]=s([e.bi,e.yi]):r[t++]=s([e.ki,e.wi]);var Ja=r[--t],Tn=c(Ja,r[--t]-48);r[t++]=Tn,r[t++]=e.pixs,O(c(e.metadatamap,e.j)),e.jmv();var bs=r[t-3],an=r[t-1];g(r[t-2],an,bs),t-=3,e.j=e.j+1}e.i=e.i+6}for(var sn=0,Xn=~~(S(e.nummetabits-e.i)/e.metabpm);sn<Xn;sn++){var At=C(e.metabits,e.i,e.metabpm);r[t++]=0;for(var Yr=0,ra=At.length;Yr<ra;Yr++){var Ua=r[--t];r[t++]=S(Ua+(c(At,Yr)-48))*2}var ca=c(e.metacolorindex,~~(r[--t]/2));r[t++]=ca,r[t++]=e.pixs,O(c(e.metadatamap,e.j)),e.jmv();var Xa=r[t-3],ys=r[t-1];g(r[t-2],ys,Xa),t-=3,e.i=S(e.i+e.metabpm),e.j=e.j+1}var gn=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.cols],["pixy",e.rows],["colormap",e.palette],["height",e.rows*2/72],["width",e.cols*2/72],["borderleft",0],["borderright",0],["bordertop",0],["borderbottom",0],["opt",e.options]]);r[t++]=gn,e.dontdraw||xt(),e=a}function hs(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!1,e.dontdraw=!1,e.ccversion="a",e.cccolumns=-1,e.lintype="",e.linwidth=-1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],Me(e.ccversion,"a")&&Me(e.ccversion,"b")&&Me(e.ccversion,"c")&&(r[t++]="bwipp.gs1ccBadCCversion#28834",r[t++]="ccversion must be a, b or c",z()),e.cccolumns>30&&(r[t++]="bwipp.gs1ccColumnsTooBig#28838",r[t++]="The maximum number of composite component columns is 30",z());var n=new Map([["ean13",4],["upca",4],["ean8",3],["upce",2],["gs1-128",4],["databaromni",4],["databarstacked",2],["databarstackedomni",2],["databartruncated",4],["databarlimited",3],["databarexpanded",4],["databarexpandedstacked",4]]);if(e.lintypecccolumns=n,e.lintype.length!=0){var i=c(e.lintypecccolumns,e.lintype)!==void 0;i||(r[t++]="bwipp.gs1ccBadLinType#28860",r[t++]="The lintype is not recognised",z())}for(e.cccolumns==-1&&(Y(e.lintype,"gs1-128")&&Y(e.ccversion,"c")?(e.linwidth<0&&(r[t++]="bwipp.gs1ccMissingLinWidth#28868",r[t++]="linwidth must be set for a GS1-128 with a CC-C composite component",z()),e.linwidth<68&&(r[t++]="bwipp.gs1ccMinimumLinWidth#28871",r[t++]="Minimum linwidth for a GS1-128 with a CC-C composite component is 68",z()),e.linwidth==68?r[t++]=1:r[t++]=~~((e.linwidth-52)/17)):e.lintype.length!=0?r[t++]=c(e.lintypecccolumns,e.lintype):r[t++]=2,e.cccolumns=r[--t]),r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.isupper=function(){var Xt=r[--t];r[t++]=Xt>=65&&Xt<=90},e.isnum0=function(){var Xt=r[--t];r[t++]=Xt>=48&&Xt<=57},e.isnum1=function(){var Xt=r[--t];r[t++]=Xt>=49&&Xt<=57};;){if(e.ais.length>=1&&(Y(c(e.ais,0),"10")||Y(c(e.ais,0),"11")||Y(c(e.ais,0),"17"))){r[t++]=-1,r[t++]="10";break}if(e.ais.length>=1&&Y(c(e.ais,0),"90")){if(e.v=c(e.vals,0),e.v.length>=1&&(r[t++]=c(e.v,0),e.isupper(),r[--t])){r[t++]=0,r[t++]="11";break}if(e.v.length>=2){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isupper();var o=r[--t];if(r[--t]&&o){r[t++]=1,r[t++]="11";break}}if(e.v.length>=3){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isnum0();var d=r[--t],u=r[--t];r[t++]=ho(u,d),r[t++]=c(e.v,2),e.isupper();var f=r[--t];if(r[--t]&&f){r[t++]=2,r[t++]="11";break}}if(e.v.length>=4){r[t++]=c(e.v,0),e.isnum1(),r[t++]=c(e.v,1),e.isnum0();var h=r[--t],p=r[--t];r[t++]=ho(p,h),r[t++]=c(e.v,2),e.isnum0();var m=r[--t],x=r[--t];r[t++]=ho(x,m),r[t++]=c(e.v,3),e.isupper();var b=r[--t];if(r[--t]&&b){r[t++]=3,r[t++]="11";break}}}r[t++]=-1,r[t++]="0";break}e.method=r[--t],e.npre=r[--t],e.tobin=function(){var Xt=W(r[--t]);r[t++]=Xt;for(var Xr=0,ja=Xt.length-1;Xr<=ja;Xr+=1){var Pa=r[t-1];g(Pa,Xr,48)}var vs=r[t-1];r[t++]=vs;var Qr=r[t-3],os=r[t-1];r[t-3]=r[t-2],t-=2;var gs=$t(W(os.length),Qr,2);M(os,os.length-gs.length,gs)},e.fnc1=-1,e.lnumeric=-2,e.lalphanumeric=-3,e.liso646=-4,r[t++]=1/0;for(var y=65;y<=90;y+=1)r[t++]=y,r[t++]=y-65,r[t++]=5,e.tobin();for(var w=48;w<=57;w+=1)r[t++]=w,r[t++]=w+4,r[t++]=6,e.tobin();r[t++]=e.fnc1,r[t++]="11111",e.alpha=$e(),r[t++]=1/0;for(var v=0;v<=119;v+=1){var A=Fr(W(2),"00"),k=$t(W(2),v,11);if(M(A,2-k.length,k),r[t++]=v,r[t++]=A,c(A,0)==65){var E=r[t-1];g(E,0,94)}var j=r[t-1];if(c(j,1)==65){var N=r[t-1];g(N,1,94)}var B=r[--t],I=Fr(W(7),"0000000"),D=$t(W(7),r[--t]+8,2);M(I,7-D.length,D),r[t++]=B,r[t++]=I}r[t++]=e.lalphanumeric,r[t++]="0000",e.numeric=$e(),r[t++]=1/0;for(var T=48;T<=57;T+=1)r[t++]=T,r[t++]=T-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var R=65;R<=90;R+=1)r[t++]=R,r[t++]=R-33,r[t++]=6,e.tobin();r[t++]=42,r[t++]="111010";for(var $=44;$<=47;$+=1)r[t++]=$,r[t++]=$+15,r[t++]=6,e.tobin();r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.liso646,r[t++]="00100",e.alphanumeric=$e(),r[t++]=1/0;for(var F=48;F<=57;F+=1)r[t++]=F,r[t++]=F-43,r[t++]=5,e.tobin();r[t++]=e.fnc1,r[t++]="01111";for(var _=65;_<=90;_+=1)r[t++]=_,r[t++]=_-1,r[t++]=7,e.tobin();for(var Q=97;Q<=122;Q+=1)r[t++]=Q,r[t++]=Q-7,r[t++]=7,e.tobin();r[t++]=33,r[t++]="11101000",r[t++]=34,r[t++]="11101001";for(var H=37;H<=47;H+=1)r[t++]=H,r[t++]=H+197,r[t++]=8,e.tobin();for(var J=58;J<=63;J+=1)r[t++]=J,r[t++]=J+187,r[t++]=8,e.tobin();if(r[t++]=95,r[t++]="11111011",r[t++]=32,r[t++]="11111100",r[t++]=e.lnumeric,r[t++]="000",r[t++]=e.lalphanumeric,r[t++]="00100",e.iso646=$e(),Y(e.method,"10")){if(Y(c(e.ais,0),"11")||Y(c(e.ais,0),"17")){var K=c(e.vals,0),he=Fr(W(16),"0000000000000000"),G=$t(W(16),Fe(C(K,0,2))*384+((Fe(C(K,2,2))-1)*32+Fe(C(K,4,2))),2);M(he,16-G.length,G),r[t++]=he,r[t++]=1/0,r[t++]=1,r[t++]=0,Na(4,-1),ge(r[--t],function(){var Xt=r[--t];r[t++]=Xt-48});var L=Y(c(e.ais,0),"11")?0:1;r[t++]=L,e.cdf=s(),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)}else e.cdf=s([1,0,1,1]);e.ais.length!=0?Y(c(e.ais,0),"10")?(r[t++]=1/0,ge(c(e.vals,0)),e.gpf=s(),e.ais.length>1&&(r[t++]=1/0,O(e.gpf),r[t++]=e.fnc1,e.gpf=s()),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1)):e.gpf=s([e.fnc1]):(r[t++]=1/0,O(e.cdf),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,e.cdf=s(),e.gpf=s([])),e.mode="numeric"}if(Y(e.method,"11")){e.cdf=s([1,1]),e.ai90=c(e.vals,0),e.npre+1!=e.ai90.length?r[t++]=C(e.ai90,e.npre+1,S(e.ai90.length-e.npre)-1):r[t++]="",e.ai90rem=r[--t],r[t++]="nalpha",r[t++]=0,ge(e.ai90rem,function(){var Xt=r[--t];if(Xt>=65&&Xt<=90){var Xr=r[--t];r[t++]=Xr+1}});var ce=r[--t];e[r[--t]]=ce,r[t++]="nnums",r[t++]=0,ge(e.ai90rem,function(){var Xt=r[--t];if(Xt>=48&&Xt<=57){var Xr=r[--t];r[t++]=Xr+1}});var fe=r[--t];e[r[--t]]=fe,r[t++]="mode",B1(e.nalpha,e.nnums)?r[t++]="alpha":e.nalpha==0?r[t++]="numeric":r[t++]="alphanumeric";var U=r[--t];e[r[--t]]=U,S(e.nalpha+e.nnums)!=e.ai90rem.length&&(e.mode="alphanumeric"),r[t++]=1/0,O(e.cdf),Y(e.mode,"alphanumeric")&&(r[t++]=0),Y(e.mode,"numeric")&&(r[t++]=1,r[t++]=0),Y(e.mode,"alpha")&&(r[t++]=1,r[t++]=1),e.cdf=s(),r[t++]="ais1",e.ais.length>1?r[t++]=c(e.ais,1):r[t++]=-1;var ee=r[--t];e[r[--t]]=ee,r[t++]="vals1",e.vals.length>1?r[t++]=c(e.vals,1):r[t++]=-1;var se=r[--t];e[r[--t]]=se,Y(e.ais1,"21")||Y(e.ais1,"8004")?(r[t++]=1/0,O(e.cdf),Y(e.ais1,"21")?(r[t++]=1,r[t++]=0):(r[t++]=1,r[t++]=1),e.cdf=s()):(r[t++]=1/0,O(e.cdf),r[t++]=0,e.cdf=s()),r[t++]="nval",e.npre!=0?r[t++]=Fe(C(e.ai90,0,e.npre)):r[t++]=0;var de=r[--t];if(e[r[--t]]=de,It("BDHIJKLNPQRSTVXZ",C(e.ai90,e.npre,1)),r[--t]){var ke=r[--t];r[t-1]=ke.length;var ae=r[--t];r[t-1]=ae,e.aval=r[--t]}else t--,e.aval=-1;if(e.nval<31&&e.aval!=-1){var De=Fr(W(5),"00000"),we=$t(W(5),e.nval,2);M(De,5-we.length,we);var Ae=1/0,Le=De;r[t++]=Ae,ge(Le,function(){var Xt=r[--t];r[t++]=Xt-48}),e.nbits=s();var xe=Fr(W(4),"0000"),Oe=$t(W(4),e.aval,2);M(xe,4-Oe.length,Oe);var Te=1/0,Pe=xe;r[t++]=Te,ge(Pe,function(){var Xt=r[--t];r[t++]=Xt-48}),e.abits=s(),r[t++]=1/0,O(e.cdf),O(e.nbits),O(e.abits),e.cdf=s()}else{var Ue=Fr(W(10),"0000000000"),Ze=$t(W(10),e.nval,2);M(Ue,10-Ze.length,Ze);var te=1/0,oe=Ue;r[t++]=te,ge(oe,function(){var Xt=r[--t];r[t++]=Xt-48}),e.nbits=s();var Re=Fr(W(5),"00000"),ze=$t(W(5),c(e.ai90,e.npre)-65,2);M(Re,5-ze.length,ze);var Je=1/0,Qe=Re;r[t++]=Je,ge(Qe,function(){var Xt=r[--t];r[t++]=Xt-48}),e.abits=s(),r[t++]=1/0,O(e.cdf),r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,O(e.nbits),O(e.abits),e.cdf=s()}if(Me(e.mode,"alpha"))r[t++]=1/0,ge(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.gpf=s();else{r[t++]=1/0,ge(e.ai90rem),e.ais.length>1&&(r[t++]=e.fnc1),e.in=s(),e.out=s(e.in.length*6),e.j=0;for(var qe=0,ut=e.in.length-1;qe<=ut;qe+=1){var mt=c(e.alpha,c(e.in,qe));r[t++]=mt;var lt=1/0,vt=mt;r[t++]=lt,ge(vt,function(){var Xt=r[--t];r[t++]=Xt-48}),M(e.out,e.j,s()),e.j=r[--t].length+e.j}r[t++]=1/0,O(e.cdf),O(C(e.out,0,e.j)),e.cdf=s(),e.gpf=s([]),e.ais.length>1&&(e.mode="numeric")}e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(Y(e.ais1,"21")||Y(e.ais1,"8004"))&&(r[t++]=1/0,O(e.gpf),ge(e.vals1),e.gpf=s(),e.ais=C(e.ais,1,e.ais.length-1),e.vals=C(e.vals,1,e.vals.length-1),e.fncs=C(e.fncs,1,e.fncs.length-1),e.ais.length!=0&&(r[t++]=1/0,O(e.gpf),r[t++]=e.fnc1,e.gpf=s()))}Y(e.method,"0")&&(e.cdf=s([0]),e.gpf=s([]),e.mode="numeric");for(var St=0,kt=e.ais.length-1;St<=kt;St+=1){e.i=St,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var wt=s(e.gpf.length+e.ai.length+e.val.length);M(wt,0,e.gpf),r[t++]=wt,r[t++]=wt,r[t++]=e.gpf.length;var Pt=1/0,Mt=e.ai;r[t++]=Pt,ge(Mt);var Lt=s(),Dt=r[--t];M(r[--t],Dt,Lt);var jt=r[t-1];r[t++]=jt,r[t++]=e.gpf.length+e.ai.length;var P=1/0,V=e.val;r[t++]=P,ge(V);var q=s(),ne=r[--t];if(M(r[--t],ne,q),e.gpf=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var ue=s(e.gpf.length+1);M(ue,0,e.gpf),g(ue,e.gpf.length,e.fnc1),e.gpf=ue}}var be=new Map([["a",s([s([167,138,118,108,88,78,59]),s([167,138,118,98,78]),s([197,167,138,108,78])])],["b",s([s([336,296,256,208,160,104,56]),s([768,648,536,416,304,208,152,112,72,32]),s([1184,1016,840,672,496,352,264,208,152,96,56])])]]);e.bitcapsmaps=be,e.rembits=function(){if(e.used=r[--t],Me(e.ccversion,"c")){e.bitcaps=c(c(e.bitcapsmaps,e.ccversion),e.cccolumns-2),r[t++]=-1,ge(e.bitcaps,function(){var os=r[t-1];if(Yn(os,e.used)){var gs=r[--t],Oa=r[--t];r[t++]=gs,r[t++]=Oa}t--});var Xt=r[t-1];if(Xt!=-1){var Xr=r[--t];r[t++]=S(Xr-e.used)}}else{var ja=new Map([["c",-1]]);c(ja,e.ccversion);var Pa=~~xr(e.used/8);for(e.m=~~(Pa/6)*5+Pa%6,e.m<=40&&(r[t++]=8),e.m>=41&&e.m<=160&&(r[t++]=16),e.m>=161&&e.m<=320&&(r[t++]=32),e.m>=321&&e.m<=833&&(r[t++]=64),e.m>=834&&(r[t++]=32),e.eccws=r[--t],e.m=S(e.m+e.eccws)+3,e.cccolumns>30&&(e.cccolumns=30);!(~~xr(e.m/e.cccolumns)<=30||e.cccolumns>=30);)e.cccolumns=e.cccolumns+1;e.r=~~xr(e.m/e.cccolumns),e.r<3&&(e.r=3);var vs=S(e.cccolumns*e.r-e.eccws)-3;e.tgt=S(~~(vs/5)*6+vs%5)*8,e.used<=8304?r[t++]=S(e.tgt-e.used):r[t++]=-1}var Qr=r[t-1];Qr==-1&&(t--,Y(e.ccversion,"a")?e.ccversion="b":Y(e.ccversion,"b")&&Y(e.lintype,"gs1-128")?(e.ccversion="c",e.cccolumns=~~((e.linwidth-52)/17)):e.ccversion=-1,r[t++]=e.used,e.rembits())},e.encode=function(){var Xt=r[t-1];if(Me(Xt,"raw")){var Xr=r[--t],ja=c(Xr,r[--t]);r[t++]=ja}else t--;r[t++]=1/0;var Pa=r[--t],vs=r[--t];r[t++]=Pa,ge(vs,function(){var os=r[--t];r[t++]=os-48});var Qr=s();M(e.gpfenc,e.j,Qr),e.j=Qr.length+e.j},r[t++]=1/0;for(var re=0,Se=e.gpf.length;re<Se;re++)r[t++]=0;r[t++]=0,r[t++]=-1,e.numericruns=s(),r[t++]=1/0;for(var X=0,ve=e.gpf.length;X<ve;X++)r[t++]=0;r[t++]=0,e.alphanumericruns=s(),r[t++]=1/0;for(var me=0,je=e.gpf.length;me<je;me++)r[t++]=0;r[t++]=9999,e.nextiso646only=s();for(var le=e.gpf.length-1;le>=0;le-=1){e.i=le;var ye=Fr(W(2),"00"),Ie=c(e.gpf,e.i);r[t++]=c(e.gpf,e.i),r[t++]=ye,r[t++]=ye,r[t++]=0,r[t++]=Ie,Ie==e.fnc1&&(r[t-1]=94);var pe=r[--t],Ce=r[--t];if(g(r[--t],Ce,pe),e.i<e.gpf.length-1){var Ne=r[t-1],Be=c(e.gpf,e.i+1);r[t++]=Ne,r[t++]=1,r[t++]=Be,Be==e.fnc1&&(r[t-1]=94);var Ge=r[--t],He=r[--t];g(r[--t],He,Ge)}var Xe=c(e.numeric,r[--t])!==void 0;Xe?g(e.numericruns,e.i,c(e.numericruns,e.i+2)+2):g(e.numericruns,e.i,0);var st=r[t-1],at=c(e.alphanumeric,st)!==void 0;at?g(e.alphanumericruns,e.i,c(e.alphanumericruns,e.i+1)+1):g(e.alphanumericruns,e.i,0);var Ee=r[--t],Ve=c(e.iso646,Ee)!==void 0,Ye=c(e.alphanumeric,Ee)!==void 0;Ve&&!Ye?g(e.nextiso646only,e.i,0):g(e.nextiso646only,e.i,c(e.nextiso646only,e.i+1)+1)}for(e.gpfenc=s(8304),e.i=0,e.j=0;e.i!=e.gpf.length;)for(;;){if(Y(e.mode,"numeric"))if(e.i<=e.gpf.length-2){var et=W(2),ht=c(e.gpf,e.i);r[t++]=et,r[t++]=et,r[t++]=0,r[t++]=ht,ht==e.fnc1&&(r[t-1]=94);var pt=r[--t],ft=r[--t];g(r[--t],ft,pt);var gt=r[t-1],nt=c(e.gpf,e.i+1);r[t++]=gt,r[t++]=1,r[t++]=nt,nt==e.fnc1&&(r[t-1]=94);var Tt=r[--t],tt=r[--t];g(r[--t],tt,Tt);var Qt=r[t-1],Ht=c(e.numeric,Qt)!==void 0;if(Ht){r[t++]=e.numeric,e.encode(),e.i=e.i+2;break}r[t-1]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}else{var Ot=c(e.gpf,e.i);if(Ot<48||Ot>57){r[t++]=e.lalphanumeric,r[t++]=e.numeric,e.encode(),e.mode="alphanumeric";break}r[t++]="rem",r[t++]=e.cdf.length+e.j,e.rembits();var sr=r[--t];if(e[r[--t]]=sr,e.rem>=4&&e.rem<=6){var Sr=C(Fr(W(6),"000000"),0,e.rem),nr=$t(W(4),c(e.gpf,e.i)-47,2);M(Sr,4-nr.length,nr),r[t++]=Sr,r[t++]="raw",e.encode(),e.i=e.i+1;break}else{var gr=W(2);g(gr,0,c(e.gpf,e.i)),g(gr,1,94),r[t++]=gr,r[t++]=e.numeric,e.encode(),e.i=e.i+1;break}}if(Y(e.mode,"alphanumeric")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric",e.i=e.i+1;break}var ar=c(e.gpf,e.i),Ir=c(e.iso646,ar)!==void 0,Zt=c(e.alphanumeric,ar)!==void 0;if(Ir&&!Zt){r[t++]=e.liso646,r[t++]=e.alphanumeric,e.encode(),e.mode="iso646";break}if(c(e.numericruns,e.i)>=6){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}var dr=c(e.numericruns,e.i);if(dr>=4&&S(dr+e.i)==e.gpf.length){r[t++]=e.lnumeric,r[t++]=e.alphanumeric,e.encode(),e.mode="numeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.alphanumeric,e.encode(),e.i=e.i+1;break}if(Y(e.mode,"iso646")){if(c(e.gpf,e.i)==e.fnc1){r[t++]=e.fnc1,r[t++]=e.iso646,e.encode(),e.mode="numeric",e.i=e.i+1;break}if(c(e.numericruns,e.i)>=4&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lnumeric,r[t++]=e.iso646,e.encode(),e.mode="numeric";break}if(c(e.alphanumericruns,e.i)>=5&&c(e.nextiso646only,e.i)>=10){r[t++]=e.lalphanumeric,r[t++]=e.iso646,e.encode(),e.mode="alphanumeric";break}r[t++]=c(e.gpf,e.i),r[t++]=e.iso646,e.encode(),e.i=e.i+1;break}}e.gpf=C(e.gpfenc,0,e.j),r[t++]="pad",r[t++]=e.cdf.length+e.gpf.length,e.rembits();var Kt=s(r[--t]);if(e[r[--t]]=Kt,e.pad.length>0){for(var Jt=0,ur=e.pad.length-1;Jt<=ur;Jt+=5){e.i=Jt;var Tr=e.pad,_r=e.i,ua=s([0,0,1,0,0]),Ct=e.pad,qt=e.i,tr=5,br=Ct.length-qt;if(Ct.length-qt>5){var ir=tr;tr=br,br=ir}M(Tr,_r,C(ua,0,br))}Y(e.mode,"numeric")&&(r[t++]=1/0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=C(s(),0,e.pad.length)),Y(e.mode,"alpha")&&(r[t++]=1/0,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=1,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.pad),e.pad=C(s(),0,e.pad.length))}r[t++]=1/0,O(e.cdf),O(e.gpf),O(e.pad),e.bits=s(),r[t++]=1/0,r[t++]=s([0,0,0,0,0,0,1]);for(var Br=0;Br<68;Br++)r[t++]=s(7);e.pwr928=s();for(var or=1;or<=68;or+=1){e.j=or,e.v=0;for(var Ut=6;Ut>=1;Ut-=1)e.i=Ut,e.v=S(c(c(e.pwr928,e.j-1),e.i)*2+~~(e.v/928)),g(c(e.pwr928,e.j),e.i,e.v%928);g(c(e.pwr928,e.j),0,S(c(c(e.pwr928,e.j-1),0)*2+~~(e.v/928)))}if(e.ccversion=="a"){r[t++]=1/0;for(var yr=0;yr<28;yr++)r[t++]=0;for(e.cws=s(),e.b=0,e.c=0;e.b!=e.bits.length;){var ta=e.bits,fa=e.b,wa=e.bits,Lr=e.b,Ea=wa.length-Lr,ga=69;if(69>wa.length-Lr){var ir=Ea;Ea=ga,ga=ir}e.bs=C(ta,fa,ga),e.bsl=e.bs.length,e.cs=C(e.cws,e.c,~~(e.bsl/10)+1),e.csl=e.cs.length;for(var Ra=0,la=e.bsl-1;Ra<=la;Ra+=1){e.i=Ra;for(var Aa=0,Ca=e.csl-1;Aa<=Ca;Aa+=1){e.j=Aa;var ka=e.cs,La=e.j;g(ka,La,S(c(ka,La)+c(c(e.pwr928,e.i),e.j+7-e.csl)*c(e.bs,e.bsl-e.i-1)))}}for(var Qa=e.csl-1;Qa>=1;Qa-=1){e.i=Qa;var Va=e.cs,ps=e.i;g(Va,ps-1,S(c(Va,ps-1)+~~(c(e.cs,e.i)/928)));var Ia=e.cs,Bs=e.i;g(Ia,Bs,c(Ia,Bs)%928)}e.b=e.b+e.bsl,e.c=e.c+e.csl}e.cws=C(e.cws,0,e.c),e.barcode=W(e.cws.length*4);for(var Ha=0,Qs=e.cws.length-1;Ha<=Qs;Ha+=1){e.i=Ha;var Ma=Fr(W(4),"^000"),ms=$t(W(4),c(e.cws,e.i),10);M(Ma,4-ms.length,ms),M(e.barcode,e.i*4,Ma)}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"cca",!0),g(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,iu();var Ds=r[--t];e[r[--t]]=Ds}if(e.ccversion=="b"){e.barcode=W(~~(e.bits.length/8));for(var Ts=0,Ka=e.barcode.length-1;Ts<=Ka;Ts+=1){e.i=Ts;var Hs=C(e.bits,e.i*8,8);r[t++]=0;for(var Wa=0,xs=Hs.length;Wa<xs;Wa++){var Fa=r[--t];r[t++]=S(Fa+c(Hs,Wa))*2}g(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"ccb",!0),g(e.options,"columns",e.cccolumns),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,iu();var vn=r[--t];e[r[--t]]=vn}if(e.ccversion=="c"){e.barcode=W(~~(e.bits.length/8));for(var $a=0,In=e.barcode.length-1;$a<=In;$a+=1){e.i=$a;var Ba=C(e.bits,e.i*8,8);r[t++]=0;for(var Xs=0,_a=Ba.length;Xs<_a;Xs++){var rn=r[--t];r[t++]=S(rn+c(Ba,Xs))*2}g(e.barcode,e.i,~~(r[--t]/2))}delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"ccc",!0),g(e.options,"columns",e.cccolumns),g(e.options,"eclevel",~~(hn(e.eccws)/hn(2))-1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Uu();var is=r[--t];e[r[--t]]=is}r[t++]=e.args,e.dontdraw||xt(),e=a}function NR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29501",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","ean13"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,l2(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ge(e.sbs,function(){var ce=r[--t],fe=r[--t];r[t++]=S(fe+Fe(ce))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,y=e.ccpixx-97;b<y;b++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,v=e.diff;w<v;w++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<93;T++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var R=71;R>=0;R-=1){e.y=R,O(e.linpad),r[t++]=0;for(var $=0,F=e.sbs.length-1;$<=F;$+=1)if(e.i=$,e.i%2==0){var _=c(e.bbs,~~(e.i/2))*72;if(_>e.y||S(_+c(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,H=Fe(c(e.sbs,e.i));Q<H;Q++)r[t++]=0;else for(var J=0,K=Fe(c(e.sbs,e.i));J<K;J++)r[t++]=1}else for(var he=0,G=Fe(c(e.sbs,e.i));he<G;he++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var L=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=L,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Bt();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<93;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=$e();r[t++]=p,xt(),Z.restore()}e=a}function SR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29664",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","ean8"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Qm(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ge(e.sbs,function(){var U=r[--t],ee=r[--t];r[t++]=S(ee+Fe(U))});var x=r[--t];e[r[--t]]=x;var b=e.comp;r[t++]="compsym",r[t++]=b,r[t++]=e.options,hs();var y=r[--t];e[r[--t]]=y,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var w=0,v=e.ccpixx-69;w<v;w++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var A=0,k=e.diff;A<k;A++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var E=0,j=e.ccpixx,N=e.ccpixs.length-1;j<0?E>=N:E<=N;E+=j)e.i=E,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var B=0;B<2;B++){O(e.linpad),r[t++]=0,r[t++]=1;for(var I=0;I<65;I++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=1,r[t++]=0;for(var T=0;T<65;T++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var R=0;R<2;R++){O(e.linpad),r[t++]=0,r[t++]=1;for(var $=0;$<65;$++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var F=71;F>=0;F-=1){e.y=F,O(e.linpad),r[t++]=0;for(var _=0,Q=e.sbs.length-1;_<=Q;_+=1)if(e.i=_,e.i%2==0){var H=c(e.bbs,~~(e.i/2))*72;if(H>e.y||S(H+c(e.bhs,~~(e.i/2))*72)<e.y)for(var J=0,K=Fe(c(e.sbs,e.i));J<K;J++)r[t++]=0;else for(var he=0,G=Fe(c(e.sbs,e.i));he<G;he++)r[t++]=1}else for(var L=0,ce=Fe(c(e.sbs,e.i));L<ce;L++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var fe=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=fe,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Bt();var i=Z.currpos();r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs();var o=r[--t];Z.rmoveto(70-c(o,"pixx"),78),r[t++]=o,xt();var d=r[--t];Z.moveto(r[--t]-1,d+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var u=0;u<65;u++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var f=0;f<65;f++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var h=0;h<65;h++)r[t++]=0;r[t++]=1,r[t++]=0;var p=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=p,r[t++]="pixx",r[t++]=69,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=69/72,r[t++]="opt",r[t++]=e.options;var m=$e();r[t++]=m,xt(),Z.restore()}e=a}function ER(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29830",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","ean13"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Nw(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ge(e.sbs,function(){var ce=r[--t],fe=r[--t];r[t++]=S(fe+Fe(ce))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,y=e.ccpixx-97;b<y;b++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,v=e.diff;w<v;w++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<93;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<93;I++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<93;T++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var R=71;R>=0;R-=1){e.y=R,O(e.linpad),r[t++]=0;for(var $=0,F=e.sbs.length-1;$<=F;$+=1)if(e.i=$,e.i%2==0){var _=c(e.bbs,~~(e.i/2))*72;if(_>e.y||S(_+c(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,H=Fe(c(e.sbs,e.i));Q<H;Q++)r[t++]=0;else for(var J=0,K=Fe(c(e.sbs,e.i));J<K;J++)r[t++]=1}else for(var he=0,G=Fe(c(e.sbs,e.i));he<G;he++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var L=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=L,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Bt();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<93;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<93;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<93;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=97,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=97/72,r[t++]="opt",r[t++]=e.options;var p=$e();r[t++]=p,xt(),Z.restore()}e=a}function CR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#29993",r[t++]="A Composite Component must be provided following a pipe character",z()),g(e.options,"lintype","upce"),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.comp.length+18);if(M(n,0,"(01)00000000000000"),M(n,18,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Sw(),e.usematrix){e.linsym=r[--t],e.sbs=c(e.linsym,"sbs"),e.bhs=c(e.linsym,"bhs"),e.bbs=c(e.linsym,"bbs"),r[t++]="linwidth",r[t++]=0,ge(e.sbs,function(){var ce=r[--t],fe=r[--t];r[t++]=S(fe+Fe(ce))});var m=r[--t];e[r[--t]]=m,r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0;for(var b=0,y=e.ccpixx-53;b<y;b++)r[t++]=0;if(e.linpad=s(),e.diff=S(e.linwidth+e.linpad.length+1-e.ccpixx),e.diff>0){r[t++]=1/0;for(var w=0,v=e.diff;w<v;w++)r[t++]=0;e.ccrpad=s(),e.pixx=S(e.ccpixx+e.diff)}else e.ccrpad=s(0),e.pixx=e.ccpixx;r[t++]=1/0;for(var A=0,k=e.ccpixx,E=e.ccpixs.length-1;k<0?A>=E:A<=E;A+=k)e.i=A,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);for(var j=0;j<2;j++){O(e.linpad),r[t++]=0,r[t++]=1;for(var N=0;N<49;N++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var B=0;B<2;B++){O(e.linpad),r[t++]=1,r[t++]=0;for(var I=0;I<49;I++)r[t++]=0;r[t++]=0,r[t++]=1,O(e.ccrpad)}for(var D=0;D<2;D++){O(e.linpad),r[t++]=0,r[t++]=1;for(var T=0;T<49;T++)r[t++]=0;r[t++]=1,r[t++]=0,O(e.ccrpad)}for(var R=71;R>=0;R-=1){e.y=R,O(e.linpad),r[t++]=0;for(var $=0,F=e.sbs.length-1;$<=F;$+=1)if(e.i=$,e.i%2==0){var _=c(e.bbs,~~(e.i/2))*72;if(_>e.y||S(_+c(e.bhs,~~(e.i/2))*72)<e.y)for(var Q=0,H=Fe(c(e.sbs,e.i));Q<H;Q++)r[t++]=0;else for(var J=0,K=Fe(c(e.sbs,e.i));J<K;J++)r[t++]=1}else for(var he=0,G=Fe(c(e.sbs,e.i));he<G;he++)r[t++]=0;e.diff<0&&(r[t++]=0)}e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var L=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=L,e.dontdraw||(Z.save(),xt(),Z.restore())}else{Z.save(),Bt();var i=Z.currpos();Z.rmoveto(-3,78),r[t++]=i.x,r[t++]=i.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var o=r[--t];Z.moveto(r[--t]-1,o+72),r[t++]=1/0,r[t++]=1/0,r[t++]=0,r[t++]=1;for(var d=0;d<49;d++)r[t++]=0;r[t++]=1,r[t++]=0,r[t++]=1,r[t++]=0;for(var u=0;u<49;u++)r[t++]=0;r[t++]=0,r[t++]=1,r[t++]=0,r[t++]=1;for(var f=0;f<49;f++)r[t++]=0;r[t++]=1,r[t++]=0;var h=s();r[t++]="ren",r[t++]="renmatrix",r[t++]="pixs",r[t++]=h,r[t++]="pixx",r[t++]=53,r[t++]="pixy",r[t++]=3,r[t++]="height",r[t++]=6/72,r[t++]="width",r[t++]=53/72,r[t++]="opt",r[t++]=e.options;var p=$e();r[t++]=p,xt(),Z.restore()}e=a}function IR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30156",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databaromni"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,u2();var i=r[--t];if(e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Bt(),e.sepfinder=function(){e.fp=r[--t];for(var w=e.fp,v=e.fp+12;w<=v;w+=1){if(e.i=w,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var A=c(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var k=0;k<=12;k+=1){var E=r[--t];r[t++]=E&&Y(c(e.bot,S(k+e.fp)),c(e.f3,k))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==1?0:1,k=0,E=w;k<E;k++)r[t++]=A}),Vt(s(xa()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ge(e.bot,function(){var w=r[--t];r[t++]=1-w}),e.sep=s(),M(e.sep,0,s([0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var f=r[--t];e[r[--t]]=f,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==0?1:0,k=0,E=Fe(w);k<E;k++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var x=0,b=e.linheight;x<b;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=y,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var o=Z.currpos();Z.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var d=r[--t];Z.moveto(r[--t],S(d+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,xt(),Z.restore()}e=a}function BR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30317",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarstacked"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Cw();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,j=e.fp+12;E<=j;E+=1){if(e.i=E,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var N=c(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&Y(c(e.bot,S(B+e.fp)),c(e.f3,B))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);if(e.sep=s(),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var m=r[--t];e[r[--t]]=m,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,b=e.ccpixx,y=e.ccpixs.length-1;b<0?x>=y:x<=y;x+=b)e.i=x,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx));O(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var w=0,v=e.linwidth,A=e.linpixs.length-1;v<0?w>=A:w<=A;w+=v)e.i=w,O(C(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var k=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=k,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var f=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,xt(),Z.restore()}e=a}function DR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30474",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarstackedomni"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Iw();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var E=e.fp,j=e.fp+12;E<=j;E+=1){if(e.i=E,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var N=c(e.sep,e.i-1)==0?1:0;r[t++]=N}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var B=0;B<=12;B+=1){var I=r[--t];r[t++]=I&&Y(c(e.bot,S(B+e.fp)),c(e.f3,B))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);if(e.sep=s(),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var m=r[--t];e[r[--t]]=m,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.linwidth=e.sep.length,r[t++]=1/0;for(var x=0,b=e.ccpixx,y=e.ccpixs.length-1;b<0?x>=y:x<=y;x+=b)e.i=x,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx));O(e.sep),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;for(var w=0,v=e.linwidth,A=e.linpixs.length-1;v<0?w>=A:w<=A;w+=v)e.i=w,O(C(e.linpixs,e.i,e.linwidth)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var k=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=k,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var f=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=f.x,r[t++]=f.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=p,xt(),Z.restore()}e=a}function TR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30632",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databartruncated"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Bw();var i=r[--t];if(e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Bt(),e.sepfinder=function(){e.fp=r[--t];for(var w=e.fp,v=e.fp+12;w<=v;w+=1){if(e.i=w,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var A=c(e.sep,e.i-1)==0?1:0;r[t++]=A}else r[t++]=0;g(e.sep,e.i,r[--t])}e.f3=s([1,1,1,1,1,1,1,1,1,0,1,1,1]),r[t++]=!0;for(var k=0;k<=12;k+=1){var E=r[--t];r[t++]=E&&Y(c(e.bot,S(k+e.fp)),c(e.f3,k))}r[--t]&&M(e.sep,e.fp,s([0,0,0,0,0,0,0,0,0,0,1,0,0]))},r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==1?0:1,k=0,E=w;k<E;k++)r[t++]=A}),Vt(s(xa()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ge(e.bot,function(){var w=r[--t];r[t++]=1-w}),e.sep=s(),M(e.sep,0,s([0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=18,e.sepfinder(),r[t++]=64,e.sepfinder(),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var f=r[--t];e[r[--t]]=f,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var w=r[--t],v=r[t-1],A=v==0?1:0,k=0,E=Fe(w);k<E;k++)r[t++]=A}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,r[t++]=1/0;for(var h=0,p=e.ccpixx,m=e.ccpixs.length-1;p<0?h>=m:h<=m;h+=p)e.i=h,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var x=0,b=e.linheight;x<b;x++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+1,e.pixy=~~(e.pixs.length/e.pixx);var y=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=y,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var o=Z.currpos();Z.rmoveto(-5,e.linheight+1),r[t++]=o.x,r[t++]=o.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var d=r[--t];Z.moveto(r[--t],S(d+e.linheight));var u=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=u,xt(),Z.restore()}e=a}function RR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30794",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarlimited"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Dw();var i=r[--t];e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Bt(),r[t++]=1/0,r[t++]=1,ge(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==0?1:0,$=0,F=D;$<F;$++)r[t++]=R}),Vt(s(xa()-1)),e.sep=r[--t],t-=2,M(e.sep,0,s([0,0,0]));var o=e.sep;if(M(e.sep,o.length-9,s([0,0,0,0,0,0,0,0,0])),e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var x=r[--t];if(e[r[--t]]=x,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==0?1:0,$=0,F=Fe(D);$<F;$++)r[t++]=R}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.ccpixx==72){r[t++]=1/0;for(var b=0,y=e.ccpixx,w=e.ccpixs.length-1;y<0?b>=w:b<=w;b+=y)e.i=b,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;O(e.sep);for(var v=0,A=e.linheight;v<A;v++)O(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length}else{r[t++]=1/0;for(var k=0,E=e.ccpixx,j=e.ccpixs.length-1;E<0?k>=j:k<=j;k+=E)e.i=k,O(C(e.ccpixs,e.i,e.ccpixx)),r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0;r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.sep);for(var N=0,B=e.linheight;N<B;N++)r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,r[t++]=0,O(e.linpixs);e.pixs=s(),e.pixx=e.ccpixx+6}e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var d=Z.currpos(),u=e.comp;r[t++]=d.x,r[t++]=d.y,r[t++]=u,r[t++]=e.options,hs();var f=r[--t];Z.rmoveto(72-c(f,"pixx"),e.linheight+1),r[t++]=f,xt();var h=r[--t];Z.moveto(r[--t],S(h+e.linheight));var p=e.options,m=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",p]]);r[t++]=m,xt(),Z.restore()}e=a}function MR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#30946",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarexpanded"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,Hm();var i=r[--t];e.linsbs=c(i,"sbs"),e.linheight=c(c(i,"bhs"),0)*72,r[t++]=i,e.usematrix?t--:Bt(),e.sepfinder=function(){e.fp=r[--t];for(var D=e.fp,T=e.fp+12;D<=T;D+=1){if(e.i=D,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var R=c(e.sep,e.i-1)==0?1:0;r[t++]=R}else r[t++]=0;g(e.sep,e.i,r[--t])}},r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==1?0:1,$=0,F=D;$<F;$++)r[t++]=R}),Vt(s(xa()-1)),e.bot=r[--t],t-=2,r[t++]=1/0,ge(e.bot,function(){var D=r[--t];r[t++]=1-D}),e.sep=s(),M(e.sep,0,s([0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var o=18,d=e.bot.length-13;o<=d;o+=98)r[t++]=o;for(var u=69,f=e.bot.length-13;u<=f;u+=98)r[t++]=u;for(var h=s(),p=0,m=h.length;p<m;p++)r[t++]=c(h,p),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var w=r[--t];e[r[--t]]=w,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,r[t++]=0,ge(e.linsbs,function(){for(var D=r[--t],T=r[t-1],R=T==0?1:0,$=0,F=Fe(D);$<F;$++)r[t++]=R}),e.linpixs=s(),r[t++]=1/0,r[t++]=0,O(e.sep),e.sep=s(),e.linheight=~~e.linheight,e.diff=S(e.linpixs.length-e.ccpixx),r[t++]=1/0;for(var v=0,A=e.diff-2;v<A;v++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var k=0,E=e.ccpixx,j=e.ccpixs.length-1;E<0?k>=j:k<=j;k+=E)e.i=k,r[t++]=0,r[t++]=0,O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.sep);for(var N=0,B=e.linheight;N<B;N++)O(e.linpixs);e.pixs=s(),e.pixx=e.linpixs.length,e.pixy=~~(e.pixs.length/e.pixx);var I=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=I,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var x=Z.currpos();Z.rmoveto(1,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var b=r[--t];Z.moveto(r[--t],S(b+e.linheight));var y=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=y,xt(),Z.restore()}e=a}function FR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31106",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"lintype","databarexpandedstacked"),g(e.options,"linkage",!0),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,r[t++]=e.linear,r[t++]=e.options,$m();var i=r[--t];e.bot=C(c(i,"pixs"),0,c(i,"pixx")),e.linheight=c(i,"pixy"),r[t++]=i,e.usematrix?e.linpixs=c(r[--t],"pixs"):xt(),e.sepfinder=function(){e.fp=r[--t];for(var F=e.fp,_=e.fp+12;F<=_;F+=1){if(e.i=F,c(e.bot,e.i)==0)if(c(e.bot,e.i-1)==1)r[t++]=1;else{var Q=c(e.sep,e.i-1)==0?1:0;r[t++]=Q}else r[t++]=0;g(e.sep,e.i,r[--t])}},r[t++]=1/0;for(var o=e.bot,d=0,u=o.length;d<u;d++)r[t++]=1-c(o,d);e.sep=s(),M(e.sep,0,s([0,0,0,0])),M(e.sep,e.sep.length-4,s([0,0,0,0])),r[t++]=1/0;for(var f=19,h=e.bot.length-13;f<=h;f+=98)r[t++]=f;for(var p=70,m=e.bot.length-13;p<=m;p+=98)r[t++]=p;for(var x=s(),b=0,y=x.length;b<y;b++)r[t++]=c(x,b),e.sepfinder();if(e.usematrix){r[t++]="compsym",r[t++]=e.comp,r[t++]=e.options,hs();var E=r[--t];e[r[--t]]=E,e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),e.pixx=e.sep.length,r[t++]=1/0;for(var j=0,N=~~((S(e.pixx-e.ccpixx)+1)/2);j<N;j++)r[t++]=0;e.cclpad=s(),r[t++]=1/0;for(var B=0,I=~~(S(e.pixx-e.ccpixx)/2);B<I;B++)r[t++]=0;e.ccrpad=s(),r[t++]=1/0;for(var D=0,T=e.ccpixx,R=e.ccpixs.length-1;T<0?D>=R:D<=R;D+=T)e.i=D,O(e.cclpad),O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.sep),O(e.linpixs),e.pixs=s(),e.pixy=~~(e.pixs.length/e.pixx);var $=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=$,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var w=Z.currpos(),v=c(e.bot,0)==0?2:0;Z.rmoveto(v,e.linheight+1),r[t++]=w.x,r[t++]=w.y,r[t++]=e.comp,r[t++]=e.options,hs(),xt();var A=r[--t];Z.moveto(r[--t],S(A+e.linheight));var k=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=k,xt(),Z.restore()}e=a}function _R(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.usematrix=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.dontdraw&&(e.usematrix=!0),It(e.barcode,"|"),r[--t]?(e.linear=r[--t],t--,e.comp=r[--t]):(t--,r[t++]="bwipp.missingCompositeComponent#31259",r[t++]="A Composite Component must be provided following a pipe character",z()),e.usematrix||Z.save(),g(e.options,"inkspreadv",0),g(e.options,"dontdraw",!0),g(e.options,"dontlint",!0);var n=W(e.linear.length+e.comp.length);M(n,0,e.linear),M(n,e.linear.length,e.comp),r[t++]=n,r[t++]="ai",Is(),t-=3,g(e.options,"linkagea",!0),r[t++]=e.linear,r[t++]=1/0,ge(e.options);var i=$e();r[t++]=i,b3();var o=c(r[--t],"sbs");r[t++]=0,ge(o,function(){var _=r[--t],Q=r[--t];r[t++]=S(Q+_)}),e.linwidth=r[--t],g(e.options,"lintype","gs1-128"),g(e.options,"linwidth",e.linwidth),r[t++]=e.comp,r[t++]=1/0,ge(e.options);var d=$e();r[t++]=d,hs(),e.compsym=r[--t],c(e.compsym,"pixx")==99?r[t++]="a":r[t++]="c",e.linktype=r[--t],g(e.compsym,"borderbottom",0),Y(e.linktype,"a")?(g(e.options,"linkagea",!0),g(e.options,"linkagec",!1)):(g(e.options,"linkagea",!1),g(e.options,"linkagec",!0));var u=e.linear;r[t++]=u,r[t++]=1/0,ge(e.options);var f=$e();r[t++]=f,b3();var h=r[--t];if(e.linsbs=c(h,"sbs"),e.linheight=c(c(h,"bhs"),0)*72,r[t++]=h,e.usematrix?t--:Bt(),r[t++]=1/0,r[t++]=1,ge(e.linsbs,function(){for(var _=r[--t],Q=r[t-1],H=Q==0?1:0,J=0,K=_;J<K;J++)r[t++]=H}),Vt(s(xa()-1)),e.sep=r[--t],t-=2,Y(e.linktype,"a")){if(e.s=~~((e.linwidth-2)/11),e.p=~~((e.s-9)/2),r[t++]="x",r[t++]=(e.s-e.p-1)*11+10,e.p==0){var p=r[--t];r[t++]=p+2}var m=r[--t];e[r[--t]]=m-99}else e.x=-7;if(e.usematrix){if(e.ccpixs=c(e.compsym,"pixs"),e.ccpixx=c(e.compsym,"pixx"),r[t++]=1/0,ge(e.linsbs,function(){for(var _=r[--t],Q=r[t-1],H=Q==1?0:1,J=0,K=_;J<K;J++)r[t++]=H}),e.linpixs=s(),e.x>0){r[t++]=1/0;for(var w=0,v=e.x;w<v;w++)r[t++]=0;e.cclpad=s(),e.linlpad=s(0)}else{e.cclpad=s(0),r[t++]=1/0;for(var A=0,k=-e.x;A<k;A++)r[t++]=0;e.linlpad=s()}if(e.diff=S(e.linwidth-(e.ccpixx+e.x)),e.diff>0){r[t++]=1/0;for(var E=0,j=e.diff;E<j;E++)r[t++]=0;e.ccrpad=s(),e.linrpad=s(0)}else{e.ccrpad=s(0),r[t++]=1/0;for(var N=0,B=-e.diff;N<B;N++)r[t++]=0;e.linrpad=s()}e.linheight=~~e.linheight,r[t++]=1/0;for(var I=0,D=e.ccpixx,T=e.ccpixs.length-1;D<0?I>=T:I<=T;I+=D)e.i=I,O(e.cclpad),O(C(e.ccpixs,e.i,e.ccpixx)),O(e.ccrpad);O(e.linlpad),O(e.sep),O(e.linrpad);for(var R=0,$=e.linheight;R<$;R++)O(e.linlpad),O(e.linpixs),O(e.linrpad);e.pixs=s(),e.pixx=S(e.cclpad.length+e.ccpixx+e.ccrpad.length),e.pixy=~~(e.pixs.length/e.pixx);var F=new Map([["ren","renmatrix"],["pixs",e.pixs],["pixx",e.pixx],["pixy",e.pixy],["height",e.pixy/72],["width",e.pixx/72],["opt",e.options]]);r[t++]=F,e.dontdraw||(Z.save(),xt(),Z.restore())}else{var x=Z.currpos();Z.rmoveto(e.x,e.linheight+1),r[t++]=x.x,r[t++]=x.y,r[t++]=e.compsym,xt();var b=r[--t];Z.moveto(r[--t],S(b+e.linheight));var y=new Map([["ren","renmatrix"],["pixs",e.sep],["pixx",e.sep.length],["pixy",1],["height",1/72],["width",e.sep.length/72],["opt",e.options]]);r[t++]=y,xt(),Z.restore()}e=a}function PR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.gssep=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);M(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ge(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ge(x);var b=s(),y=r[--t];if(M(r[--t],y,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.dmtx.length+1);M(w,0,e.dmtx),r[t++]=w,r[t++]=w,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var v=r[--t],A=r[--t];g(r[--t],A,v),e.dmtx=r[--t]}}for(e.barcode=W((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var k=c(e.dmtx,e.i);r[t++]=k,k==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var E=r[--t];e[r[--t]]=E,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function OR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,e.gssep=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);M(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ge(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ge(x);var b=s(),y=r[--t];if(M(r[--t],y,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.dmtx.length+1);M(w,0,e.dmtx),r[t++]=w,r[t++]=w,r[t++]=e.dmtx.length,e.gssep?r[t++]=29:r[t++]=e.fnc1;var v=r[--t],A=r[--t];g(r[--t],A,v),e.dmtx=r[--t]}}for(e.barcode=W((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var k=c(e.dmtx,e.i);r[t++]=k,k==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var E=r[--t];e[r[--t]]=E,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function UR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Is(),t--,e.val=c(r[--t],0),e.key=c(r[--t],0),e.hri=W(e.key.length+e.val.length+2),g(e.hri,0,40),M(e.hri,1,e.key),g(e.hri,e.key.length+1,41),M(e.hri,e.key.length+2,e.val),delete e.options.parse,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var o=r[--t];e[r[--t]]=o,g(e.args,"opt",e.options),g(e.args,"alttext",e.hri),g(e.args,"textyoffset",-1),g(e.args,"textfont","OCR-B"),g(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||xt(),e=a}function zR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.qrc=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.qrc.length+e.ai.length+e.val.length);M(o,0,e.qrc),r[t++]=o,r[t++]=o,r[t++]=e.qrc.length;var d=1/0,u=e.ai;r[t++]=d,ge(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.qrc.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ge(x);var b=s(),y=r[--t];if(M(r[--t],y,b),e.qrc=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.qrc.length+1);M(w,0,e.qrc),g(w,e.qrc.length,e.fnc1),e.qrc=w}}for(e.barcode=W((e.qrc.length+1)*5),e.i=0,e.j=0;e.i!=e.qrc.length;){var v=c(e.qrc,e.i);r[t++]=v,v==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var A=r[--t];e[r[--t]]=A,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function LR(){var a=e;e=Object.assign({},e),e.parse=!1,e.dontlint=!1,e.lintreqs=!0,e.dontdraw=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t];var n=new Map([["parse",e.parse],["parseonly",!0],["parsefnc",!1]]);e.fncvals=n,r[t++]="barcode",r[t++]=e.barcode,r[t++]=e.fncvals,ns();var i=r[--t];e[r[--t]]=i,r[t++]=e.barcode,r[t++]="dl",Is(),t--,e.val=c(r[--t],0),e.key=c(r[--t],0),e.hri=W(e.key.length+e.val.length+2),g(e.hri,0,40),M(e.hri,1,e.key),g(e.hri,e.key.length+1,41),M(e.hri,e.key.length+2,e.val),delete e.options.parse,g(e.options,"dontdraw",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var o=r[--t];e[r[--t]]=o,g(e.args,"opt",e.options),g(e.args,"alttext",e.hri),g(e.args,"textyoffset",-4),g(e.args,"textfont","OCR-B"),g(e.args,"textsize",5),r[t++]=e.args,e.dontdraw||xt(),e=a}function QR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.parse=!1,e.dontlint=!1,e.lintreqs=!0,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],r[t++]=e.barcode,r[t++]="ai",Is(),e.fncs=r[--t],e.vals=r[--t],e.ais=r[--t],e.fnc1=-1,e.dmtx=s([e.fnc1]);for(var n=0,i=e.ais.length-1;n<=i;n+=1){e.i=n,e.ai=c(e.ais,e.i),e.val=c(e.vals,e.i);var o=s(e.dmtx.length+e.ai.length+e.val.length);M(o,0,e.dmtx),r[t++]=o,r[t++]=o,r[t++]=e.dmtx.length;var d=1/0,u=e.ai;r[t++]=d,ge(u);var f=s(),h=r[--t];M(r[--t],h,f);var p=r[t-1];r[t++]=p,r[t++]=e.dmtx.length+e.ai.length;var m=1/0,x=e.val;r[t++]=m,ge(x);var b=s(),y=r[--t];if(M(r[--t],y,b),e.dmtx=r[--t],e.i!=e.ais.length-1&&c(e.fncs,e.i)){var w=s(e.dmtx.length+1);M(w,0,e.dmtx),g(w,e.dmtx.length,e.fnc1),e.dmtx=w}}for(e.barcode=W((e.dmtx.length+1)*5),e.i=0,e.j=0;e.i!=e.dmtx.length;){var v=c(e.dmtx,e.i);r[t++]=v,v==e.fnc1?(t--,M(e.barcode,e.j,"^FNC1"),e.j=e.j+4):g(e.barcode,e.j,r[--t]),e.i=e.i+1,e.j=e.j+1}e.barcode=C(e.barcode,0,e.j),delete e.options.parse,g(e.options,"dontdraw",!0),g(e.options,"parsefnc",!0),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Fw();var A=r[--t];e[r[--t]]=A,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function HR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode39emptyData#31945",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccode39badCharacter#31960",r[t++]="HIBC Code 39 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode39badCheckDigit#31974",r[t++]="Incorrect HIBC Code 39 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),e.text=W(e.barlen+4),g(e.text,0,42),M(e.text,1,e.barcode);var x=c(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var b=r[--t],y=r[--t];g(r[--t],y,b),g(e.text,e.barlen+3,42),g(e.options,"dontdraw",!0),g(e.options,"includecheck",!1),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,d2();var w=r[--t];e[r[--t]]=w,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function $R(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.textfont="OCR-B",e.textsize=10,e.textyoffset=-8,e.textxoffset=0,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccode128emptyData#32049",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccode128badCharacter#32064",r[t++]="HIBC Code 128 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccode128badCheckDigit#32078",r[t++]="Incorrect HIBC Code 128 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),e.text=W(e.barlen+4),g(e.text,0,42),M(e.text,1,e.barcode);var x=c(e.barcode,e.barlen+1);r[t++]=e.text,r[t++]=e.barlen+2,r[t++]=x,x==32&&(r[t-1]=95);var b=r[--t],y=r[--t];g(r[--t],y,b),g(e.text,e.barlen+3,42),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,c2();var w=r[--t];e[r[--t]]=w,g(e.args,"txt",s([s([e.text,e.textxoffset,e.textyoffset,e.textfont,e.textsize])])),g(e.args,"textxalign","center"),g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||Bt(),e=a}function GR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixEmptyData#32148",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcdatamatrixBadCharacter#32163",r[t++]="HIBC Data Matrix must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixBadCheckDigit#32177",r[t++]="Incorrect HIBC Data Matrix check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=e.barlen,x=W(m+2);M(x,1,e.barcode),e.barcode=x,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var b=r[--t],y=r[--t];e[y]=b,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function qR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcdatamatrixrectangularEmptyData#32239",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcdatamatrixrectangularBadCharacter#32254",r[t++]="HIBC Data Matrix Rectangular must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcdatamatrixrectangularBadCheckDigit#32268",r[t++]="Incorrect HIBC Data Matrix Rectangular check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=e.barlen,x=W(m+2);M(x,1,e.barcode),e.barcode=x,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),g(e.options,"format","rectangle"),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Q1();var b=r[--t];e[r[--t]]=b,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function YR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcpdf417EmptyData#32332",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcpdf417BadCharacter#32347",r[t++]="HIBC PDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcpdf417BadCheckDigit#32361",r[t++]="Incorrect HIBC PDF417 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"columns",e.columns);var x=e.options;g(x,"validatecheck",!1);var b=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=b,Uu();var y=r[--t];e[r[--t]]=y,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function VR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.columns=2,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcmicropdf417EmptyData#32425",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcmicropdf417BadCharacter#32440",r[t++]="HIBC MicroPDF417 must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcmicropdf417BadCheckDigit#32454",r[t++]="Incorrect HIBC MicroPDF417 check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum));var x=e.options;g(x,"dontdraw",!0),g(e.options,"columns",e.columns),g(e.options,"validatecheck",!1);var b=e.options;r[t++]="args",r[t++]=e.barcode,r[t++]=b,iu();var y=r[--t];e[r[--t]]=y,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function KR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcqrcodeEmptyData#32517",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcqrcodeBadCharacter#32532",r[t++]="HIBC QR Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcqrcodeBadCheckDigit#32546",r[t++]="Incorrect HIBC QR Code check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,pl();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function WR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibccodablockfEmptyData#32608",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibccodablockfBadCharacter#32623",r[t++]="HIBC Codablock F must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibccodablockfBadCheckDigit#32637",r[t++]="Incorrect HIBC Codablock F check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,Mw();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function JR(){var a=e;e=Object.assign({},e),e.dontdraw=!1,e.validatecheck=!1,r[t++]=e,We(),e.options=r[--t],e.barcode=r[--t],e.barcode.length==0&&(r[t++]="bwipp.hibcazteccodeEmptyData#32699",r[t++]="The data must not be empty",z()),e.barchars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.charvals=new Map;for(var n=0;n<=42;n+=1)g(e.charvals,C(e.barchars,n,1),n);for(var i=0,o=e.barcode.length-1;i<=o;i+=1){var d=c(e.charvals,C(e.barcode,i,1))!==void 0;d||(r[t++]="bwipp.hibcazteccodeBadCharacter#32714",r[t++]="HIBC Aztec Code must contain only digits, capital letters, spaces and the symbols -.$/+%",z())}if(r[t++]="barlen",r[t++]=e.barcode.length,e.validatecheck){var u=r[--t];r[t++]=u-1}var f=r[--t];e[r[--t]]=f,e.checksum=41;for(var h=0,p=e.barlen-1;h<=p;h+=1)e.checksum=S(c(e.charvals,C(e.barcode,h,1))+e.checksum);e.checksum=e.checksum%43,e.validatecheck&&(c(e.barcode,e.barlen)!=c(e.barchars,e.checksum)&&(r[t++]="bwipp.hibcazteccodeBadCheckDigit#32728",r[t++]="Incorrect HIBC Aztec Code check digit provided",z()),e.barcode=C(e.barcode,0,e.barlen));var m=W(e.barlen+2);M(m,1,e.barcode),e.barcode=m,g(e.barcode,0,43),g(e.barcode,e.barlen+1,c(e.barchars,e.checksum)),g(e.options,"dontdraw",!0),g(e.options,"validatecheck",!1),r[t++]="args",r[t++]=e.barcode,r[t++]=e.options,zu();var x=r[--t],b=r[--t];e[b]=x,g(e.args,"opt",e.options),r[t++]=e.args,e.dontdraw||xt(),e=a}function XR(){var a=e;e=Object.assign({},e),e.options=r[--t],e.barcode=r[--t],e.dontdraw=!1,e.shortfinder=!1,e.includetext=!1,e.includecheck=!1,e.height=1,ge(e.options,function(){var E=r[--t];e[r[--t]]=E}),e.height=+e.height,(e.barcode.length<2||e.barcode.length>7)&&(r[t++]="bwipp.channelcodeBadLength#32803",r[t++]="Channel Code must be 2 to 7 digits",z()),ge(e.barcode,function(){var E=r[--t];(E<48||E>57)&&(r[t++]="bwipp.channelcodeBadCharacter#32807",r[t++]="Channel Code must contain only digits",z())}),Fe(e.barcode)>c(s([26,292,3493,44072,576688,7742862]),e.barcode.length-2)&&(r[t++]="bwipp.channelcodeTooBig#32811",r[t++]="The Channel Code value is too big for the number of channels",z()),e.nextb=function(){var E=r[t-1],j=S(c(e.s,E)+(c(e.b,E-1)+(c(e.b,E-2)+c(e.s,E-1))))>4?1:2;if(r[t++]=j,E<e.chan+2)for(var N=r[t-1],B=r[t-3],I=N,D=B;I<=D;I+=1){var T=r[t-2];g(e.b,T,I);var R=r[t-3],$=r[t-4];r[t++]=S(R-I)+1,r[t++]=$,r[t++]=T+1,e.nexts()}else{var F=r[t-1],_=r[t-3];if(dc(F,_)){var Q=r[t-2],H=r[t-3];if(g(e.b,Q,H),e.value==e.target){r[t++]=1/0;for(var J=3;J<=10;J+=1)r[t++]=c(e.s,J),r[t++]=c(e.b,J);e.out=C(s(),0,e.chan*2)}e.value=e.value+1}}t-=4},e.nexts=function(){var E=r[t-1];if(E<e.chan+2)r[t++]=1;else{var j=r[t-2];r[t++]=j}for(var N=r[--t],B=r[t-2],I=N,D=B;I<=D;I+=1){var T=r[t-1];g(e.s,T,I);var R=r[t-2],$=r[t-3];r[t++]=S(R-I)+1,r[t++]=$,r[t++]=T,e.nextb()}t-=3},e.encode=function(){e.chan=r[--t],e.target=r[--t],e.value=0,e.out=-1,e.b=s([1,1,1,0,0,0,0,0,0,0,0]),e.s=s([0,1,1,0,0,0,0,0,0,0,0]);var E=e.chan;r[t++]=E,r[t++]=E,r[t++]=3,e.nexts(),r[t++]=e.out},e.barlen=e.barcode.length,r[t++]="finder",e.shortfinder?r[t++]=s([1,1,1,1,1]):r[t++]=s([1,1,1,1,1,1,1,1,1]);var n=r[--t];e[r[--t]]=n,r[t++]="data",r[t++]=Fe(e.barcode),r[t++]=e.barlen+1,e.encode();var i=r[--t];if(e[r[--t]]=i,e.check=s([]),e.includecheck){e.mod23=c(s([s([]),s([]),s([13,12,4,9,3,1]),s([13,2,12,3,18,16,4,1]),s([11,16,17,8,20,4,10,2,5,1]),s([1,4,16,18,3,12,2,8,9,13,6,1]),s([20,16,22,13,15,12,5,4,8,9,21,3,7,1]),s([2,6,18,8,1,3,9,4,12,13,16,2,6,18,8,1])]),e.barlen),r[t++]=0;for(var o=0,d=e.data.length-1;o<=d;o+=1){var u=r[--t];r[t++]=S(u+(c(e.data,o)-1)*c(e.mod23,o))}var f=r[--t];r[t++]=f%23,r[t++]=3,e.encode(),e.check=r[--t]}r[t++]=1/0,O(e.finder),O(e.data),O(e.check),e.sbs=s(),e.txt=s(e.barlen);for(var h=0,p=e.barlen-1;h<=p;h+=1)e.i=h,g(e.txt,e.i,s([C(e.barcode,e.i,1),0,0,"",0]));r[t++]=1/0;var m=e.sbs;r[t++]=1/0;for(var x=0,b=~~((e.sbs.length+1)/2);x<b;x++)r[t++]=e.height;var y=s();r[t++]=1/0;for(var w=0,v=~~((e.sbs.length+1)/2);w<v;w++)r[t++]=0;var A=s();r[t++]="ren",r[t++]=Bt,r[t++]="sbs",r[t++]=m,r[t++]="bhs",r[t++]=y,r[t++]="bbs",r[t++]=A,r[t++]="txt",r[t++]=e.txt,r[t++]="textxalign",r[t++]="center",r[t++]="opt",r[t++]=e.options;var k=$e();r[t++]=k,e.dontdraw||Bt(),e=a}function Bt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.sbs=s([]),e.bhs=s([]),e.bbs=s([]),e.txt=s([]),e.barcolor="unset",e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.bordercolor="unset",e.inkspread=0,e.width=0,e.barratio=1,e.spaceratio=1,e.showborder=!1,e.showbearer=!1,e.borderleft=10,e.borderright=10,e.bordertop=1,e.borderbottom=1,e.borderwidth=.5,e.guardwhitespace=!1,e.guardleftpos=0,e.guardleftypos=0,e.guardrightpos=0,e.guardrightypos=0,e.guardwidth=7,e.guardheight=7,ge(r[--t],function(){var Kt=r[--t];e[r[--t]]=Kt}),r[t++]=e.opt,delete e.opt,r[t++]=e,We(),t--,Me(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",d="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=d,r[t++]=d,r[t++]=u,r[t++]=u;var f=c($e(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33005",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(Me(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",b="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=b,r[t++]=b;var y=c($e(),e.textyalign)!==void 0;y||(r[t++]="bwipp.renmatrixBadTextyalign#33011",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var w="forward",v="backward",A="upward",k="downward";r[t++]=w,r[t++]=w,r[t++]=v,r[t++]=v,r[t++]=A,r[t++]=A,r[t++]=k,r[t++]=k;var E=c($e(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33016",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33020",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var j="offleft",N="left",B="center",I="right",D="offright";r[t++]=j,r[t++]=j,r[t++]=N,r[t++]=N,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var T=c($e(),e.extratextxalign)!==void 0;T||(r[t++]="bwipp.renmatrixBadExtratextxalign#33024",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var R="above",$="top",F="center",_="bottom",Q="below";r[t++]=R,r[t++]=R,r[t++]=$,r[t++]=$,r[t++]=F,r[t++]=F,r[t++]=_,r[t++]=_,r[t++]=Q,r[t++]=Q;var H=c($e(),e.extratextyalign)!==void 0;H||(r[t++]="bwipp.renmatrixBadExtratextyalign#33028",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var J="forward",K="backward",he="upward",G="downward";r[t++]=J,r[t++]=J,r[t++]=K,r[t++]=K,r[t++]=he,r[t++]=he,r[t++]=G,r[t++]=G;var L=c($e(),e.extratextdirection)!==void 0;L||(r[t++]="bwipp.renmatrixBadExtratextdirection#33032",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33036",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.bars=s(~~((e.sbs.length+1)/2)),e.pixx=0,e.pixy=0;for(var ce=0,fe=~~((e.sbs.length+1)/2)*2-2;ce<=fe;ce+=1)e.i=ce,e.i%2==0?(e.d=S(c(e.sbs,e.i)*e.barratio-e.barratio)+1,c(e.sbs,e.i)!=0?(e.h=c(e.bhs,~~(e.i/2))*72,e.c=S(e.d/2+e.pixx),e.y=c(e.bbs,~~(e.i/2))*72,e.w=S(e.d-e.inkspread),g(e.bars,~~(e.i/2),s([e.h,e.c,e.y,e.w])),S(e.h+e.y)>e.pixy&&(e.pixy=S(e.h+e.y))):g(e.bars,~~(e.i/2),-1)):e.d=S(c(e.sbs,e.i)*e.spaceratio-e.spaceratio)+1,e.pixx=S(e.pixx+e.d);Z.save();var U=Z.currpos();if(Z.translate(U.x,U.y),e.width!=0&&Z.scale(e.width*72/e.pixx,1),e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.showbearer){Z.save(),Z.newpath(),O(e.bl);var ee=r[--t];Z.moveto(r[--t],ee),O(e.br);var se=r[--t];Z.lineto(r[--t],se),O(e.tl);var de=r[--t];Z.moveto(r[--t],de),O(e.tr);var ke=r[--t];Z.lineto(r[--t],ke),Me(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}else if(e.showborder){Z.save(),Z.newpath(),O(e.bl);var ae=r[--t];Z.moveto(r[--t],ae);for(var De=s([e.br,e.tr,e.tl]),we=0,Ae=De.length;we<Ae;we++){O(c(De,we));var Le=r[--t];Z.lineto(r[--t],Le)}Z.closepath(),Me(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(e.borderwidth),Z.stroke(),Z.restore()}Z.save(),Me(e.barcolor,"unset")&&Z.setcolor(e.barcolor);for(var xe=e.bars,Oe=0,Te=xe.length;Oe<Te;Oe++){var Pe=c(xe,Oe);if(r[t++]=Pe,Pe!=-1){O(r[--t]),Z.newpath(),Z.setlinewidth(r[--t]);var Ue=r[--t];Z.moveto(r[--t],Ue),Z.rlineto(0,r[--t]),Z.stroke()}else t--}Z.restore();var Ze=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),te=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),oe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.nudge)}]]),Re=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),ze=new Map([["forward",Ze],["backward",te],["upward",oe],["downward",Re]]);if(e.positions=ze,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Kt=c(e.positions,r[--t]);r[t++]=Kt,r[t++]=Kt,Na(4,-1);var Jt=r[t-1];Y(Jt,"center")&&(r[t-1]="xcenter");var ur=r[--t];if(c(r[--t],ur)()===!0)return!0;var Tr=r[--t],_r=r[--t];r[t++]=Tr,r[t++]=_r,Na(3,-1);var ua=r[t-1];Y(ua,"center")&&(r[t-1]="ycenter");var Ct=r[--t];if(c(r[--t],Ct)()===!0)return!0},e.includetext)if(Me(e.textcolor,"unset")&&Z.setcolor(e.textcolor),Y(e.textxalign,"unset")&&Y(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Je=e.txt,Qe=0,qe=Je.length;Qe<qe;Qe++){O(c(Je,Qe));var ut=r[t-1],mt=r[t-2];if(ut!=e.s||Me(mt,e.fn)){var lt=r[t-1];lt<=0&&(t-=5,r[t++]="bwipp.renlinearFontTooSmall#33178",r[t++]="The font size is too small",z());var vt=r[--t],St=r[--t];e.s=vt,e.fn=St,Z.selectfont(St,vt)}else t-=2;var kt=r[--t];Z.moveto(r[--t],kt),Z.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var wt=e.txt,Pt=0,Mt=wt.length;Pt<Mt;Pt++)ge(c(c(wt,Pt),0));e.txt=s(),e.tstr=W(e.txt.length);for(var Lt=0,Dt=e.txt.length-1;Lt<=Dt;Lt+=1)g(e.tstr,Lt,c(e.txt,Lt))}else{e.tstr=e.alttext;for(var jt=0,P=e.alttext.length-1;jt<=P;jt+=1){if(r[t++]=jt,It(e.alttextsubspace,C(e.alttext,jt,1)),r[--t]){t--,t--;var V=r[t-2];g(e.alttext,V,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33206",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;It(r[--t],e.alttextsplit),r[--t];){var q=r[--t];r[t-1]=q;var ne=r[--t],ue=r[--t];r[t++]=ne,r[t++]=ue}e.textlines=s()}else e.textlines=s([e.tstr]);if(Z.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var be=Z.pathbbox();Z.restore(),r[t++]=be.ury}e.textascent=r[--t];var re=e.textlines;r[t++]="textwidth",r[t++]=0;for(var Se=0,X=re.length;Se<X;Se++){var ve=Z.stringwidth(c(re,Se)),me=r[--t],je=ve.w;if(me<ve.w){var le=je;je=me,me=le}r[t++]=me}var ye=r[--t];e[r[--t]]=S(ye+(e.tstr.length-1)*e.textgaps);var Ie=e.textlines.length;if(e.textheight=S(Ie*e.textascent+(Ie-1)*e.textlinegaps),Y(e.textxalign,"unset")&&(e.textxalign="center"),Y(e.textyalign,"unset")&&(e.textyalign="below"),Y(e.textxalign,"justify"))if(Me(e.textdirection,"forward")&&Me(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33243",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",Y(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var pe=r[--t];e[r[--t]]=pe}else e.textgaps=0,e.textxalign="center";if(Y(e.textyalign,"justify"))if(Me(e.textdirection,"upward")&&Me(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33256",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",Y(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ce=r[--t];e[r[--t]]=Ce}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Ne=r[--t];Z.moveto(r[--t],Ne),Z.rmoveto(e.textxoffset,e.textyoffset),Z.save();var Be=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(Be,e.textdirection));var Ge=Z.currpos();Z.translate(Ge.x,Ge.y);for(var He=0,Xe=e.textlines.length-1;He<=Xe;He+=1){e.i=He,Z.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var st=e.textlines;Z.show(c(st,st.length-e.i-1),e.textgaps,0)}Z.restore()}if(e.guardwhitespace&&(Z.selectfont("OCR-B",e.guardheight*2),e.guardleftpos!=0&&(Z.moveto(-e.guardleftpos-2,S(e.guardleftypos-e.guardheight/2-1.25)),Z.show("<",0,0)),e.guardrightpos!=0&&(Z.moveto(S(e.guardrightpos+e.pixx-e.guardwidth)+1,S(e.guardrightypos-e.guardheight/2-1.25)),Z.show(">",0,0))),e.extratext.length!=0){for(var at=0,Ee=e.extratext.length-1;at<=Ee;at+=1){if(r[t++]=at,It(e.extratextsubspace,C(e.extratext,at,1)),r[--t]){t--,t--;var Ve=r[t-2];g(e.extratext,Ve,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33309",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;It(r[--t],e.extratextsplit),r[--t];){var Ye=r[--t];r[t-1]=Ye;var et=r[--t],ht=r[--t];r[t++]=et,r[t++]=ht}e.textlines=s()}else e.textlines=s([e.extratext]);Me(e.extratextcolor,"unset")&&Z.setcolor(e.extratextcolor),Z.selectfont(e.extratextfont,e.extratextsize),Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var pt=Z.pathbbox();Z.restore(),e.textascent=pt.ury;var ft=e.textlines;r[t++]="textwidth",r[t++]=0;for(var gt=0,nt=ft.length;gt<nt;gt++){var Tt=Z.stringwidth(c(ft,gt)),tt=r[--t],Qt=Tt.w;if(tt<Tt.w){var le=Qt;Qt=tt,tt=le}r[t++]=tt}var Ht=r[--t];e[r[--t]]=S(Ht+(e.extratext.length-1)*e.extratextgaps);var Ot=e.textlines.length;if(e.textheight=S(Ot*e.textascent+(Ot-1)*e.extratextlinegaps),Y(e.extratextxalign,"justify"))if(Me(e.extratextdirection,"forward")&&Me(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33340",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",Y(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var sr=r[--t];e[r[--t]]=sr}else e.extratextgaps=0,e.extratextxalign="center";if(Y(e.extratextyalign,"justify"))if(Me(e.extratextdirection,"upward")&&Me(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33353",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",Y(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var Sr=r[--t];e[r[--t]]=Sr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var nr=r[--t];Z.moveto(r[--t],nr),Z.rmoveto(e.extratextxoffset,e.extratextyoffset),Z.save();var gr=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(gr,e.extratextdirection));var ar=Z.currpos();Z.translate(ar.x,ar.y);for(var Ir=0,Zt=e.textlines.length-1;Ir<=Zt;Ir+=1){e.i=Ir,Z.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var dr=e.textlines;Z.show(c(dr,dr.length-e.i-1),e.extratextgaps,0)}Z.restore()}Z.restore(),e=a}function xt(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.width=1,e.height=1,e.barcolor="unset",e.bordercolor="unset",e.colormap="unset",e.dotty=!1,e.inkspread=0,e.inkspreadh=null,e.inkspreadv=null,e.txt=s([]),e.includetext=!1,e.textcolor="unset",e.textxalign="unset",e.textyalign="unset",e.textfont="OCR-B",e.textdirection="forward",e.textsize=10,e.textxoffset=0,e.textyoffset=0,e.textgaps=0,e.textlinegaps=1.2,e.alttext="",e.alttextsplit="",e.alttextsubspace="",e.extratext="",e.extratextsubspace="",e.extratextsplit="",e.extratextlinegaps=1.2,e.extratextcolor="unset",e.extratextxalign="left",e.extratextyalign="above",e.extratextfont="OCR-B",e.extratextdirection="forward",e.extratextsize=10,e.extratextxoffset=0,e.extratextyoffset=0,e.extratextgaps=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ge(r[--t],function(){var Jt=r[--t];e[r[--t]]=Jt}),r[t++]=e.opt,delete e.opt,r[t++]=e,We(),t--,e.inkspreadh==null&&(e.inkspreadh=e.inkspread),e.inkspreadv==null&&(e.inkspreadv=e.inkspread),Me(e.textxalign,"unset")){r[t++]=1/0;var n="offleft",i="left",o="center",d="right",u="offright";r[t++]=n,r[t++]=n,r[t++]=i,r[t++]=i,r[t++]=o,r[t++]=o,r[t++]=d,r[t++]=d,r[t++]=u,r[t++]=u;var f=c($e(),e.textxalign)!==void 0;f||(r[t++]="bwipp.renmatrixBadTextxalign#33458",r[t++]="textxalign must be offleft, left, center, right or offright",z())}if(Me(e.textyalign,"unset")){r[t++]=1/0;var h="above",p="top",m="center",x="bottom",b="below";r[t++]=h,r[t++]=h,r[t++]=p,r[t++]=p,r[t++]=m,r[t++]=m,r[t++]=x,r[t++]=x,r[t++]=b,r[t++]=b;var y=c($e(),e.textyalign)!==void 0;y||(r[t++]="bwipp.renmatrixBadTextyalign#33464",r[t++]="textyalign must be above, top, center, bottom or below",z())}r[t++]=1/0;var w="forward",v="backward",A="upward",k="downward";r[t++]=w,r[t++]=w,r[t++]=v,r[t++]=v,r[t++]=A,r[t++]=A,r[t++]=k,r[t++]=k;var E=c($e(),e.textdirection)!==void 0;E||(r[t++]="bwipp.renmatrixBadTextdirection#33469",r[t++]="textdirection must be forward, backward, upward or downward",z()),(e.textsize<=0||e.textsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33473",r[t++]="textsize must be greater than zero and less that 25",z()),r[t++]=1/0;var j="offleft",N="left",B="center",I="right",D="offright";r[t++]=j,r[t++]=j,r[t++]=N,r[t++]=N,r[t++]=B,r[t++]=B,r[t++]=I,r[t++]=I,r[t++]=D,r[t++]=D;var T=c($e(),e.extratextxalign)!==void 0;T||(r[t++]="bwipp.renmatrixBadExtratextxalign#33477",r[t++]="extratextxalign must be offleft, left, center, right or offright",z()),r[t++]=1/0;var R="above",$="top",F="center",_="bottom",Q="below";r[t++]=R,r[t++]=R,r[t++]=$,r[t++]=$,r[t++]=F,r[t++]=F,r[t++]=_,r[t++]=_,r[t++]=Q,r[t++]=Q;var H=c($e(),e.extratextyalign)!==void 0;H||(r[t++]="bwipp.renmatrixBadExtratextyalign#33481",r[t++]="extratextyalign must be above, top, center, bottom or below",z()),r[t++]=1/0;var J="forward",K="backward",he="upward",G="downward";r[t++]=J,r[t++]=J,r[t++]=K,r[t++]=K,r[t++]=he,r[t++]=he,r[t++]=G,r[t++]=G;var L=c($e(),e.extratextdirection)!==void 0;L||(r[t++]="bwipp.renmatrixBadExtratextdirection#33485",r[t++]="extratextdirection must be forward, backward, upward or downward",z()),(e.extratextsize<=0||e.extratextsize>=25)&&(r[t++]="bwipp.renmatrixBadTextsize#33489",r[t++]="extratextsize must be greater than zero and less that 25",z()),e.xyget=function(){var Jt=r[--t],ur=c(e.pixs,S(r[--t]+Jt*e.pixx));r[t++]=ur},e.drawlayerdots=function(){e.pixsorig=e.pixs,e.pixs=r[--t],Z.newpath();for(var Jt=0,ur=e.pixs.length-1;Jt<=ur;Jt+=1)e.x=Jt%e.pixx,e.y=~~(Jt/e.pixx),r[t++]=e.x,r[t++]=e.y,e.xyget(),r[--t]==1&&(Z.moveto(S(e.x+.5),S(e.pixy-e.y-.5)),Z.arc(S(e.x+.5),S(e.pixy-e.y-.5),S(.5-e.inkspread),0,360,1));Z.fill(),e.pixs=e.pixsorig},Z.save();var ce=Z.currpos();if(Z.translate(ce.x,ce.y),e.inkspread=e.inkspread/2,e.inkspreadh=e.inkspreadh/2,e.inkspreadv=e.inkspreadv/2,Z.scale(e.width/e.pixx*72,e.height/e.pixy*72),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.tr=s([S(e.pixx+e.borderright+e.borderwidth/2),S(e.pixy+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(e.pixx+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([S(-e.borderleft+e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.tr=s([S(e.pixx+e.borderright-e.inkspread),S(e.pixy+e.bordertop-e.inkspread)]),e.bl=s([S(-e.borderleft+e.inkspread),S(-e.borderbottom+e.inkspread)]),e.br=s([S(e.pixx+e.borderright-e.inkspread),S(-e.borderbottom+e.inkspread)])),e.showborder){Z.save(),Z.newpath(),O(e.bl);var fe=r[--t];Z.moveto(r[--t],fe);for(var U=s([e.br,e.tr,e.tl]),ee=0,se=U.length;ee<se;ee++){O(c(U,ee));var de=r[--t];Z.lineto(r[--t],de)}Z.closepath(),Me(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}if(Y(e.colormap,"unset")){var ke=new Map([[1,e.barcolor]]);e.colormap=ke}for(var ae=e.colormap,De=ae.size,we=ae.keys(),Ae=0;Ae<De;Ae++){var Le=we.next().value,xe=ae.get(Le);r[t++]=Le,r[t++]=xe,Me(xe,"unset")?Z.setcolor(r[--t]):t--,e.key=r[--t],r[t++]=1/0;for(var Oe=e.pixs,Te=0,Pe=Oe.length;Te<Pe;Te++){var Ue=Y(c(Oe,Te),e.key)?1:0;r[t++]=Ue}var Ze=s();r[t++]=Ze,e.dotty?e.drawlayerdots():Z.drawlayer(r[--t],e.pixx,e.pixy,e.inkspreadh,e.inkspreadv)}var te=new Map([["offleft",function(){r[t++]=S(-e.tw-e.nudge)}],["below",function(){r[t++]=S(-e.th-e.nudge)}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx-e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.th)/2}],["right",function(){r[t++]=S(e.pixx-e.tw)}],["top",function(){r[t++]=S(e.pixy-e.th)}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=e.pixy+e.nudge}]]),oe=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=e.tw}],["bottom",function(){r[t++]=e.th}],["xcenter",function(){r[t++]=S(e.pixx+e.tw)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.th)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=S(e.pixx+e.tw+e.nudge)}],["above",function(){r[t++]=S(e.pixy+e.th+e.nudge)}]]),Re=new Map([["offleft",function(){r[t++]=0-e.nudge}],["below",function(){r[t++]=S(-e.tw-e.nudge)}],["left",function(){r[t++]=e.th}],["bottom",function(){r[t++]=0}],["xcenter",function(){r[t++]=S(e.pixx+e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy-e.tw)/2}],["right",function(){r[t++]=e.pixx}],["top",function(){r[t++]=S(e.pixy-e.tw)}],["offright",function(){r[t++]=S(e.pixx+e.th+e.nudge)}],["above",function(){r[t++]=e.pixy+e.nudge}]]),ze=new Map([["offleft",function(){r[t++]=S(-e.th-e.nudge)}],["below",function(){r[t++]=0-e.nudge}],["left",function(){r[t++]=0}],["bottom",function(){r[t++]=e.tw}],["xcenter",function(){r[t++]=S(e.pixx-e.th)/2}],["ycenter",function(){r[t++]=S(e.pixy+e.tw)/2}],["right",function(){r[t++]=S(e.pixx-e.th)}],["top",function(){r[t++]=e.pixy}],["offright",function(){r[t++]=e.pixx+e.nudge}],["above",function(){r[t++]=S(e.pixy+e.tw+e.nudge)}]]),Je=new Map([["forward",te],["backward",oe],["upward",Re],["downward",ze]]);if(e.positions=Je,e.positiontext=function(){e.th=r[--t],e.tw=r[--t],e.nudge=1;var Jt=c(e.positions,r[--t]);r[t++]=Jt,r[t++]=Jt,Na(4,-1);var ur=r[t-1];Y(ur,"center")&&(r[t-1]="xcenter");var Tr=r[--t];if(c(r[--t],Tr)()===!0)return!0;var _r=r[--t],ua=r[--t];r[t++]=_r,r[t++]=ua,Na(3,-1);var Ct=r[t-1];Y(Ct,"center")&&(r[t-1]="ycenter");var qt=r[--t];if(c(r[--t],qt)()===!0)return!0},e.includetext)if(Me(e.textcolor,"unset")&&Z.setcolor(e.textcolor),Y(e.textxalign,"unset")&&Y(e.textyalign,"unset")&&e.alttext.length==0){e.s=0,e.fn="";for(var Qe=e.txt,qe=0,ut=Qe.length;qe<ut;qe++){O(c(Qe,qe));var mt=r[t-1],lt=r[t-2];if(mt!=e.s||Me(lt,e.fn)){var vt=r[t-1];vt<=0&&(t-=5,r[t++]="bwipp.renmatrixFontTooSmall#33793",r[t++]="The font size is too small",z());var St=r[--t],kt=r[--t];e.s=St,e.fn=kt,Z.selectfont(kt,St)}else t-=2;var wt=r[--t];Z.moveto(r[--t],wt),Z.show(r[--t],0,0)}}else{if(e.alttext.length==0){r[t++]=1/0;for(var Pt=e.txt,Mt=0,Lt=Pt.length;Mt<Lt;Mt++)ge(c(c(Pt,Mt),0));e.txt=s(),e.tstr=W(e.txt.length);for(var Dt=0,jt=e.txt.length-1;Dt<=jt;Dt+=1)g(e.tstr,Dt,c(e.txt,Dt))}else{e.tstr=e.alttext;for(var P=0,V=e.alttext.length-1;P<=V;P+=1){if(r[t++]=P,It(e.alttextsubspace,C(e.alttext,P,1)),r[--t]){t--,t--;var q=r[t-2];g(e.alttext,q,32)}t-=2}}if(e.alttext.length!=0&&e.alttextsplit.length!=0){for(e.alttextsplit.length!=1&&(r[t++]="bwipp.alttextsplitBad#33821",r[t++]="The alttextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.tstr;It(r[--t],e.alttextsplit),r[--t];){var ne=r[--t];r[t-1]=ne;var ue=r[--t],be=r[--t];r[t++]=ue,r[t++]=be}e.textlines=s()}else e.textlines=s([e.tstr]);if(Z.selectfont(e.textfont,e.textsize),e.tstr.length==0)r[t++]=0;else{Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var re=Z.pathbbox();Z.restore(),r[t++]=re.ury}e.textascent=r[--t];var Se=e.textlines;r[t++]="textwidth",r[t++]=0;for(var X=0,ve=Se.length;X<ve;X++){var me=Z.stringwidth(c(Se,X)),je=r[--t],le=me.w;if(je<me.w){var ye=le;le=je,je=ye}r[t++]=je}var Ie=r[--t];e[r[--t]]=S(Ie+(e.tstr.length-1)*e.textgaps);var pe=e.textlines.length;if(e.textheight=S(pe*e.textascent+(pe-1)*e.textlinegaps),Y(e.textxalign,"unset")&&(e.textxalign="center"),Y(e.textyalign,"unset")&&(e.textyalign="below"),Y(e.textxalign,"justify"))if(Me(e.textdirection,"forward")&&Me(e.textdirection,"backward")&&(r[t++]="bwipp.textxjustify#33858",r[t++]="textxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.textgaps=S(e.pixx-e.textwidth)/(e.tstr.length-1),r[t++]="textxalign",Y(e.textdirection,"forward")?r[t++]="left":r[t++]="right";var Ce=r[--t];e[r[--t]]=Ce}else e.textgaps=0,e.textxalign="center";if(Y(e.textyalign,"justify"))if(Me(e.textdirection,"upward")&&Me(e.textdirection,"downward")&&(r[t++]="bwipp.textyjustify#33871",r[t++]="textyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.textgaps=S(e.pixy-e.textwidth)/(e.tstr.length-1),r[t++]="textyalign",Y(e.textdirection,"upward")?r[t++]="bottom":r[t++]="top";var Ne=r[--t];e[r[--t]]=Ne}else e.textgaps=0,e.textyalign="center";r[t++]=e.textxalign,r[t++]=e.textyalign,r[t++]=e.textdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var Be=r[--t];Z.moveto(r[--t],Be),Z.rmoveto(e.textxoffset,e.textyoffset),Z.save();var Ge=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(Ge,e.textdirection));var He=Z.currpos();Z.translate(He.x,He.y);for(var Xe=0,st=e.textlines.length-1;Xe<=st;Xe+=1){e.i=Xe,Z.moveto(0,0+S(e.textascent+e.textlinegaps)*e.i);var at=e.textlines;Z.show(c(at,at.length-e.i-1),e.textgaps,0)}Z.restore()}if(e.extratext.length!=0){for(var Ee=0,Ve=e.extratext.length-1;Ee<=Ve;Ee+=1){if(r[t++]=Ee,It(e.extratextsubspace,C(e.extratext,Ee,1)),r[--t]){t--,t--;var Ye=r[t-2];g(e.extratext,Ye,32)}t-=2}if(e.extratextsplit.length!=0){for(e.extratextsplit.length!=1&&(r[t++]="bwipp.extratextsplitBad#33911",r[t++]="The extratextsplit option must be a single character",z()),r[t++]=1/0,r[t++]=e.extratext;It(r[--t],e.extratextsplit),r[--t];){var et=r[--t];r[t-1]=et;var ht=r[--t],pt=r[--t];r[t++]=ht,r[t++]=pt}e.textlines=s()}else e.textlines=s([e.extratext]);Me(e.extratextcolor,"unset")&&Z.setcolor(e.extratextcolor),Z.selectfont(e.extratextfont,e.extratextsize),Z.save(),Z.newpath(),Z.moveto(0,0),Z.charpath("0",!1);var ft=Z.pathbbox();Z.restore(),e.textascent=ft.ury;var gt=e.textlines;r[t++]="textwidth",r[t++]=0;for(var nt=0,Tt=gt.length;nt<Tt;nt++){var tt=Z.stringwidth(c(gt,nt)),Qt=r[--t],Ht=tt.w;if(Qt<tt.w){var ye=Ht;Ht=Qt,Qt=ye}r[t++]=Qt}var Ot=r[--t];e[r[--t]]=S(Ot+(e.extratext.length-1)*e.extratextgaps);var sr=e.textlines.length;if(e.textheight=S(sr*e.textascent+(sr-1)*e.extratextlinegaps),Y(e.extratextxalign,"justify"))if(Me(e.extratextdirection,"forward")&&Me(e.extratextdirection,"backward")&&(r[t++]="bwipp.extratextxjustify#33942",r[t++]="extratextxalign=justify requires forward or backward text",z()),e.textwidth<e.pixx){e.extratextgaps=S(e.pixx-e.textwidth)/(e.extratext.length-1),r[t++]="extratextxalign",Y(e.extratextdirection,"forward")?r[t++]="left":r[t++]="right";var Sr=r[--t];e[r[--t]]=Sr}else e.extratextgaps=0,e.extratextxalign="center";if(Y(e.extratextyalign,"justify"))if(Me(e.extratextdirection,"upward")&&Me(e.extratextdirection,"downward")&&(r[t++]="bwipp.extratextyjustify#33955",r[t++]="extratextyalign=justify requires upward or downward text",z()),e.textwidth<e.pixy){e.extratextgaps=S(e.pixy-e.textwidth)/(e.extratext.length-1),r[t++]="extratextyalign",Y(e.extratextdirection,"upward")?r[t++]="bottom":r[t++]="top";var nr=r[--t];e[r[--t]]=nr}else e.extratextgaps=0,e.extratextyalign="center";r[t++]=e.extratextxalign,r[t++]=e.extratextyalign,r[t++]=e.extratextdirection,r[t++]=e.textwidth,r[t++]=e.textheight,e.positiontext();var gr=r[--t];Z.moveto(r[--t],gr),Z.rmoveto(e.extratextxoffset,e.extratextyoffset),Z.save();var ar=new Map([["forward",0],["upward",90],["backward",180],["downward",270]]);Z.rotate(c(ar,e.extratextdirection));var Ir=Z.currpos();Z.translate(Ir.x,Ir.y);for(var Zt=0,dr=e.textlines.length-1;Zt<=dr;Zt+=1){e.i=Zt,Z.moveto(0,0+S(e.textascent+e.extratextlinegaps)*e.i);var Kt=e.textlines;Z.show(c(Kt,Kt.length-e.i-1),e.extratextgaps,0)}Z.restore()}Z.restore(),e=a}function ZR(){if(e.bwipjs_rawstack){e.bwipjs_rawstack.push(r[--t]);return}var a=e;if(e=Object.assign({},e),e.barcolor="unset",e.bordercolor="unset",e.inkspread=0,e.showborder=!1,e.borderleft=0,e.borderright=0,e.bordertop=0,e.borderbottom=0,e.borderwidth=.25,ge(r[--t],function(){var f=r[--t];e[r[--t]]=f}),r[t++]=e.opt,delete e.opt,r[t++]=e,We(),t--,Z.save(),e.showborder?(e.tl=s([-S(e.borderleft+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.tr=s([S(30+e.borderright+e.borderwidth/2),S(29+e.bordertop+e.borderwidth/2)]),e.bl=s([-S(e.borderleft+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)]),e.br=s([S(30+e.borderright+e.borderwidth/2),-S(e.borderbottom+e.borderwidth/2)])):(e.tl=s([-e.borderleft+e.inkspread,29+e.bordertop-e.inkspread]),e.tr=s([30+e.borderright-e.inkspread,29+e.bordertop-e.inkspread]),e.bl=s([-e.borderleft+e.inkspread,-e.borderbottom+e.inkspread]),e.br=s([30+e.borderright-e.inkspread,-e.borderbottom+e.inkspread])),e.showborder){Z.save(),Z.newpath(),O(e.bl);var n=r[--t];Z.moveto(r[--t],n);for(var i=s([e.br,e.tr,e.tl]),o=0,d=i.length;o<d;o++){O(c(i,o));var u=r[--t];Z.lineto(r[--t],u)}Z.closepath(),Me(e.bordercolor,"unset")&&Z.setcolor(e.bordercolor),Z.setlinewidth(S(e.borderwidth-e.inkspread*2)),Z.stroke(),Z.restore()}Me(e.barcolor,"unset")&&Z.setcolor(e.barcolor),Z.showmaxicode(e.pixs),Z.restore(),e=a}function _w(a,n,i,o,d){if(typeof i!="string")throw new Error("bwipp.typeError: barcode text not a string ("+i+")");if(o=o||{},typeof o=="string"){var u=o.split(" ");o={};for(var f=0;f<u.length;f++)if(u[f]){var h=u[f].indexOf("=");h==-1?u[f][0]=="!"?o[u[f].substr(1)]=!1:o[u[f]]=!0:o[u[f].substr(0,h)]=u[f].substr(h+1)}}else if(typeof o!="object"||o.constructor!==Object)throw new Error("bwipp.typeError: options not an object");if(o.binarytext){if(/[\u0100-\uffff]/.test(i))throw new Error("bwip-js: 16-bit chars not allowed with binarytext")}else/[\u0080-\uffff]/.test(i)&&(i=unescape(encodeURIComponent(i)));var p=new Map;for(var m in o)o.hasOwnProperty(m)&&p.set(m,o[m]);return Z=a,r=[i,p],t=2,e={bwipjs_rawstack:o.dontdraw||d?[]:!1},n(),e.bwipjs_rawstack?e.bwipjs_rawstack:!0}function Lu(a){if(!a)throw new Error("bwipp.undefinedEncoder: bcid is not defined");switch(a.replace(/-/g,"_")){case"auspost":return XT;case"azteccode":return zu;case"azteccodecompact":return bR;case"aztecrune":return yR;case"bc412":return qT;case"channelcode":return XR;case"codablockf":return Mw;case"code11":return GT;case"code128":return c2;case"code16k":return nR;case"code2of5":return Ac;case"code32":return TT;case"code39":return d2;case"code39ext":return DT;case"code49":return iR;case"code93":return Ew;case"code93ext":return MT;case"codeone":return wR;case"coop2of5":return HT;case"daft":return cR;case"databarexpanded":return Hm;case"databarexpandedcomposite":return MR;case"databarexpandedstacked":return $m;case"databarexpandedstackedcomposite":return FR;case"databarlimited":return Dw;case"databarlimitedcomposite":return RR;case"databaromni":return u2;case"databaromnicomposite":return IR;case"databarstacked":return Cw;case"databarstackedcomposite":return BR;case"databarstackedomni":return Iw;case"databarstackedomnicomposite":return DR;case"databartruncated":return Bw;case"databartruncatedcomposite":return TR;case"datalogic2of5":return $T;case"datamatrix":return Q1;case"datamatrixrectangular":return fR;case"datamatrixrectangularextension":return hR;case"dotcode":return Fw;case"ean13":return l2;case"ean13composite":return NR;case"ean14":return IT;case"ean2":return o2;case"ean5":return i2;case"ean8":return Qm;case"ean8composite":return SR;case"flattermarken":return oR;case"gs1_128":return b3;case"gs1_128composite":return _R;case"gs1_cc":return hs;case"gs1datamatrix":return PR;case"gs1datamatrixrectangular":return OR;case"gs1dldatamatrix":return UR;case"gs1dlqrcode":return LR;case"gs1dotcode":return QR;case"gs1northamericancoupon":return OT;case"gs1qrcode":return zR;case"hanxin":return AR;case"hibcazteccode":return JR;case"hibccodablockf":return WR;case"hibccode128":return $R;case"hibccode39":return HR;case"hibcdatamatrix":return GR;case"hibcdatamatrixrectangular":return qR;case"hibcmicropdf417":return VR;case"hibcpdf417":return YR;case"hibcqrcode":return KR;case"iata2of5":return LT;case"identcode":return _T;case"industrial2of5":return zT;case"interleaved2of5":return Ou;case"isbn":return NT;case"ismn":return ST;case"issn":return ET;case"itf14":return FT;case"jabcode":return jR;case"japanpost":return eR;case"kix":return ZT;case"leitcode":return PT;case"mailmark":return pR;case"mands":return CT;case"matrix2of5":return QT;case"maxicode":return gR;case"micropdf417":return iu;case"microqrcode":return xR;case"msi":return tR;case"onecode":return VT;case"pdf417":return Uu;case"pdf417compact":return uR;case"pharmacode":return UT;case"pharmacode2":return Tw;case"planet":return WT;case"plessey":return rR;case"posicode":return sR;case"postnet":return KT;case"pzn":return RT;case"qrcode":return pl;case"rationalizedCodabar":return YT;case"raw":return lR;case"rectangularmicroqrcode":return vR;case"royalmail":return JT;case"sscc18":return BT;case"swissqrcode":return mR;case"symbol":return dR;case"telepen":return Rw;case"telepennumeric":return aR;case"ultracode":return kR;case"upca":return Nw;case"upcacomposite":return ER;case"upce":return Sw;case"upcecomposite":return CR}throw new Error("bwipp.unknownEncoder: unknown encoder name: "+a)}var eM="2025-10-24";const tM="4.8.0 (2025-11-11)";function Ll(a){return a&&/HTMLCanvasElement|OffscreenCanvas/.test(Object.getPrototypeOf(a).constructor.name)}function rM(a,n){if(typeof n=="string"||Ll(n)){let i=a;a=n,n=i}return aM(Lu(n.bcid),n,a)}function aM(a,n,i){if(typeof n=="string"){var o=document.getElementById(n)||document.querySelector(n);if(!Ll(o))throw new Error("bwipjs: `"+n+"`: not a canvas");n=i,i=m0(o)}else if(Ll(n)){var o=n;n=i,i=m0(o)}else if(typeof i=="string"){var o=document.getElementById(i)||document.querySelector(i);if(!Ll(o))throw new Error("bwipjs: `"+i+"`: not a canvas");i=m0(o)}else if(Ll(i))i=m0(i);else if(!i||typeof i!="object"||!i.init)throw new Error("bwipjs: not a canvas or drawing object");return Gm(a,n,i)}function sM(a){return Gm(Lu(a.bcid),a,zw())}function Pw(a){var n=a.scale||2,i=+a.scaleX||n,o=+a.scaleY||i;if(a.paddingleft=y(a.paddingleft,a.paddingwidth,a.padding,i),a.paddingright=y(a.paddingright,a.paddingwidth,a.padding,i),a.paddingtop=y(a.paddingtop,a.paddingheight,a.padding,o),a.paddingbottom=y(a.paddingbottom,a.paddingheight,a.padding,o),a.backgroundcolor){var d=""+a.backgroundcolor;if(/^[0-9a-fA-F]{8}$/.test(d)){var u=parseInt(d.substr(0,2),16)/255,f=parseInt(d.substr(2,2),16)/255,h=parseInt(d.substr(4,2),16)/255,p=parseInt(d.substr(6,2),16)/255,m=Math.floor((1-u)*(1-p)*255).toString(16),x=Math.floor((1-f)*(1-p)*255).toString(16),b=Math.floor((1-h)*(1-p)*255).toString(16);a.backgroundcolor=(m.length==1?"0":"")+m+(x.length==1?"0":"")+x+(b.length==1?"0":"")+b}else if(d[0]=="#"&&(d=d.substr(1)),/^[0-9a-fA-F]{6}$/.test(d))a.backgroundcolor=d;else if(/^[0-9a-fA-F]{3}$/.test(d))a.backgroundcolor=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];else throw new Error("bwip-js: invalid backgroundcolor: "+a.backgroundcolor)}return a;function y(w,v,A,k){return w!=null?(w=w>>>0,w*k>>>0):v!=null?(v=v>>>0,v*k>>>0):(A=A>>>0,A*k>>>0||0)}}var nM={bcid:1,text:1,scale:1,scaleX:1,scaleY:1,rotate:1,padding:1,paddingwidth:1,paddingheight:1,paddingtop:1,paddingleft:1,paddingright:1,paddingbottom:1,backgroundcolor:1};function iM(a,n){return Gm(Lu(a.bcid),a,n)}function Gm(a,n,i){var o=n.text;if(!o)throw new ReferenceError("bwip-js: bar code text not specified.");Pw(n),i.setopts&&i.setopts(n);var d=n.scale||2,u=+n.scaleX||d,f=+n.scaleY||u;n.rotate;var h=new Ow(i),p={};for(var m in n)nM[m]||(p[m]=n[m]);return p.alttext&&(p.includetext=!0),+p.height&&a!=Tw&&(p.height=p.height/25.4||.5),+p.width&&(p.width=p.width/25.4||0),h.scale(u,f),_w(h,a,o,p),h.render()}function oM(a,n,i){arguments.length==1&&(i=a,a=i.bcid,n=i.text);var o=Uw();o.setopts(i);for(var d=new Ow(o),u=_w(d,Lu(a),n,i,!0),f={pixs:1,pixx:1,pixy:1,sbs:1,bbs:1,bhs:1,width:1,height:1},h=0;h<u.length;h++){var p=u[h];if(p instanceof Map){for(var m={},x=p.keys(),b=p.size,y=0;y<b;y++){var w=x.next().value;if(f[w]){var v=p.get(w);v instanceof Array?m[w]=v.b.slice(v.o,v.o+v.length):m[w]=v}}u[h]=m}else u.splice(h--,1)}return u}var Ow=function(){var a=Math.floor,n=Math.round,i=Math.ceil,o=Math.min,d=Math.max;function u(f){if(this.constructor!==u)return new u(f);this.gstk=[],this.cmds=[],this.drawing=f,this.reset(),this.minx=this.miny=1/0,this.maxx=this.maxy=-1/0}return u.prototype.reset=function(){this.g_m0=1,this.g_m1=0,this.g_m2=0,this.g_m3=1,this.g_m4=0,this.g_m5=0,this.g_tsx=1,this.g_tsy=1,this.g_rot=0,this.g_posx=0,this.g_posy=0,this.g_penw=1,this.g_path=[],this.g_font=null,this.g_rgb=[0,0,0],this.g_clip=!1},u.prototype.save=function(){var f={};for(var h in this)h.indexOf("g_")==0&&(f[h]=p(this[h]));this.gstk.push(f);function p(m){if(m instanceof Array){for(var x=[],b=0;b<m.length;b++)x[b]=p(m[b]);return x}if(m instanceof Object){var x={};for(var y in m)x[y]=p(m[y]);return x}return m}},u.prototype.restore=function(){if(!this.gstk.length)throw new Error("grestore: stack underflow");var f=this.gstk.pop(),h=this;this.g_clip&&!f.g_clip&&this.cmds.push(function(){h.drawing.unclip()});for(var p in f)this[p]=f[p]},u.prototype.currpos=function(){return{x:(this.g_posx-this.g_m4)/this.g_tsx,y:(this.g_posy-this.g_m5)/this.g_tsy}},u.prototype.currfont=function(){return this.g_font},u.prototype.rotate=function(f){this.g_rot+=f;var h=n(Math.cos(f*Math.PI/180)),p=n(Math.sin(f*Math.PI/180)),m=this.g_m0*h+this.g_m2*p,x=this.g_m1*h+this.g_m3*p,b=this.g_m0*-p+this.g_m2*h,y=this.g_m1*-p+this.g_m3*h;this.g_m0=m,this.g_m1=x,this.g_m2=b,this.g_m3=y},u.prototype.translate=function(f,h){this.g_m4+=this.g_tsx*f,this.g_m5+=this.g_tsy*h},u.prototype.scale=function(f,h){var p=this.g_tsx,m=this.g_tsy;this.g_tsx*=f,this.g_tsy*=h;var x=this.drawing.scale(this.g_tsx,this.g_tsy);x&&x[0]&&x[1]&&(this.g_tsx=x[0],this.g_tsy=x[1]),this.g_m0*=this.g_tsx/p,this.g_m1*=this.g_tsx/p,this.g_m2*=this.g_tsy/m,this.g_m3*=this.g_tsy/m},u.prototype.setlinewidth=function(f){this.g_penw=f},u.prototype.selectfont=function(f,h){this.g_font={FontName:this.jsstring(f),FontSize:+h}},u.prototype.getfont=function(){return this.g_font.FontName},u.prototype.jsstring=function(f){return f instanceof Uint8Array?String.fromCharCode.apply(null,f):""+f},u.prototype.setcolor=function(f){if(f instanceof Uint8Array&&(f=this.jsstring(f)),!!f){if(!/^(?:#?[0-9a-fA-F]{3}(?:[0-9a-fA-F]{3})?|[0-9a-fA-F]{8})$/.test(f))throw new Error("bwip-js: invalid color: "+f);if(f[0]=="#"&&(f=f.substr(1)),f.length==3){var h=parseInt(f[0],16),p=parseInt(f[1],16),m=parseInt(f[2],16);this.g_rgb=[h<<4|h,p<<4|p,m<<4|m]}else if(f.length==6){var h=parseInt(f.substr(0,2),16),p=parseInt(f.substr(2,2),16),m=parseInt(f.substr(4,2),16);this.g_rgb=[h,p,m]}else{var x=parseInt(f.substr(0,2),16)/255,b=parseInt(f.substr(2,2),16)/255,y=parseInt(f.substr(4,2),16)/255,w=parseInt(f.substr(6,2),16)/255,h=n((1-x)*(1-w)*255),p=n((1-b)*(1-w)*255),m=n((1-y)*(1-w)*255);this.g_rgb=[h,p,m]}}},u.prototype.setrgbcolor=function(f,h,p){this.g_rgb=[f,h,p]},u.prototype.getRGB=function(){var f=this.g_rgb[0].toString(16),h=this.g_rgb[1].toString(16),p=this.g_rgb[2].toString(16);return"00".substr(f.length)+f+"00".substr(h.length)+h+"00".substr(p.length)+p},u.prototype.newpath=function(){this.g_path=[]},u.prototype.closepath=function(){var f=this.g_path,h=f.length;if(h){for(var p=h-1;p>=0&&f[p].op=="l";p--);if(p++,p<h-1){for(var m=[],x=1/0,b=1/0,y=-1/0,w=-1/0,v=p;v<h;v++){var A=f[v];m.push([A.x0,A.y0]),x>A.x0&&(x=A.x0),y<A.x0&&(y=A.x0),b>A.y0&&(b=A.y0),w<A.y0&&(w=A.y0)}var A=f[h-1],k=f[p];(A.x1!=k.x0||A.y1!=k.y0)&&(m.push([A.x1,A.y1]),x>A.x1&&(x=A.x1),y<A.x1&&(y=A.x1),b>A.y1&&(b=A.y1),w<A.y1&&(w=A.y1)),f.splice(p,h-p,{op:"p",x0:x,y0:b,x1:y,y1:w,poly:m})}else f.push({op:"c"})}},u.prototype.moveto=function(f,h){this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.rmoveto=function(f,h){this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5},u.prototype.lineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),b=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:b})},u.prototype.rlineto=function(f,h){var p=n(this.g_posx),m=n(this.g_posy);this.g_posx+=this.g_m0*f+this.g_m2*h+this.g_m4,this.g_posy+=this.g_m1*f+this.g_m3*h+this.g_m5;var x=n(this.g_posx),b=n(this.g_posy);this.g_path.push({op:"l",x0:p,y0:m,x1:x,y1:b})},u.prototype.arc=function(f,h,p,m,x,b){if(m!=x){if(m!=0&&m!=360||x!=0&&x!=360)throw new Error("arc: not a full circle ("+m+","+x+")");var y=this.g_m0*f+this.g_m2*h+this.g_m4,w=this.g_m1*f+this.g_m3*h+this.g_m5,v=p*this.g_tsx,A=p*this.g_tsy;this.g_path.push({op:"e",x0:y-v,y0:w-A,x1:y+v,y1:w+A,x:y,y:w,rx:v,ry:A,sa:m,ea:x,ccw:b})}},u.prototype.stringwidth=function(f){var h=this.g_tsx,p=this.g_tsy,m=+this.g_font.FontSize||10;f=this.toUCS2(this.jsstring(f));var x=this.drawing.measure(f,this.g_font.FontName,m*h,m*p);return{w:x.width/h,h:(x.ascent+x.descent)/p,a:x.ascent/p,d:x.descent/p}},u.prototype.charpath=function(f,h){var p=this.stringwidth(f);this.rlineto(0,p.a),this.rlineto(p.w,0),this.rlineto(0,-p.h)},u.prototype.pathbbox=function(){if(!this.g_path.length)throw new Error("pathbbox: --nocurrentpoint--");for(var f=this.g_path,h=1/0,p=1/0,m=-1/0,x=-1/0,b=0;b<f.length;b++){var y=f[b];y.op!="c"&&(y.x0<y.x1?(h>y.x0&&(h=y.x0),m<y.x1&&(m=y.x1)):(h>y.x1&&(h=y.x1),m<y.x0&&(m=y.x0)),y.y0<y.y1?(p>y.y0&&(p=y.y0),x<y.y1&&(x=y.y1)):(p>y.y1&&(p=y.y1),x<y.y0&&(x=y.y0)))}var w={llx:(h-this.g_m4)/this.g_tsx,lly:(p-this.g_m5)/this.g_tsy,urx:(m-this.g_m4)/this.g_tsx,ury:(x-this.g_m5)/this.g_tsy};return w},u.prototype.transform=function(f){for(var h=this.minx,p=this.maxy,m=0;m<f.length;m++){var x=f[m];x[0]=x[0]-h,x[1]=p-x[1]}},u.prototype.stroke=function(){var f=this.g_tsx,h=this.g_tsy,p=this.g_path,m=this.getRGB();this.g_path=[];for(var x=a(this.g_penw*f+.66),b=a(this.g_penw*h+.66),y=0;y<p.length;y++){var w=p[y];if(w.op=="l"){if(w.x0!=w.x1&&w.y0!=w.y1)throw new Error("stroke: --not-orthogonal--");var v=w.x0,A=w.y0,k=w.x1,E=w.y1,j=x/2,N=b/2;if(v>k){var B=v;v=k,k=B}if(A>E){var B=A;A=E,E=B}v==k?this.bbox(v-j,A,v+x-j-1,E):this.bbox(v,A-b+N+1,k,E+N)}else if(w.op=="p"){var I=1/0,D=1/0,T=-1/0,R=-1/0,$=w.poly;if($.length!=4)throw new Error("stroke: --not-a-rect--");for(var y=0,F=$.length-1;y<$.length;F=y++){var _=$[F][0],Q=$[F][1],H=$[y][0],J=$[y][1];if(H!=_&&J!=Q)throw new Error("stroke: --not-orthogonal--");H<I&&(I=H),H>T&&(T=H),J<D&&(D=J),J>R&&(R=J)}var j=i(x/2),N=i(b/2);this.bbox(I-j,D-N,T+j,R+N)}else throw new Error("stroke: --not-a-line--")}var K=this;this.cmds.push(function(){for(var he=i(x/2),G=i(b/2),L=x-he,ce=b-G,fe=0;fe<p.length;fe++){var U=p[fe];if(U.op=="l"){var ee=[[U.x0,U.y0],[U.x1,U.y1]];K.transform(ee),K.drawing.line(ee[0][0],ee[0][1],ee[1][0],ee[1][1],U.x0==U.x1?x:b,m),K.fill(m)}else{var ee=U.poly;K.transform(ee);var se=o(ee[0][0],ee[2][0]),de=d(ee[0][0],ee[2][0]),ke=o(ee[0][1],ee[2][1]),ae=d(ee[0][1],ee[2][1]);K.drawing.polygon([[se-he,ke-G],[se-he,ae+G+1],[de+he+1,ae+G+1],[de+he+1,ke-G]]),K.drawing.polygon([[se+L,ke+ce],[de-L+1,ke+ce],[de-L+1,ae-ce+1],[se+L,ae-ce+1]]),K.drawing.fill(m)}}})},u.prototype.fill=function(){var f=this.g_path,h=this.getRGB();this.g_path=[];for(var p=0;p<f.length;p++){var m=f[p];if(m.op=="p"){for(var x=1/0,b=1/0,y=-1/0,w=-1/0,v=m.poly,A=0;A<v.length;A++){var k=v[A][0],E=v[A][1];k<x&&(x=k),k>y&&(y=k),E<b&&(b=E),E>w&&(w=E)}this.bbox(x,b+1,y-1,w)}else if(m.op=="e")this.bbox(m.x-m.rx,m.y-m.ry,m.x+m.rx,m.y+m.ry);else throw new Error("fill: --not-a-polygon--")}var j=this;this.cmds.push(function(){for(var N=0;N<f.length;N++){var B=f[N];if(B.op=="p"){var I=B.poly;j.transform(I),j.drawing.polygon(I)}else if(B.op=="e"){var I=[[B.x,B.y]];j.transform(I),j.drawing.ellipse(I[0][0],I[0][1],B.rx,B.ry,B.ccw)}}j.drawing.fill(h)})},u.prototype.clip=function(){var f=this.g_path;this.g_path=[],this.g_clip=!0;var h=this;this.cmds.push(function(){for(var p=[],m=0;m<f.length;m++){var x=f[m];if(x.op=="p"){var b=x.poly;h.transform(b),p.push(b)}else throw new Error("clip: only polygon regions supported")}h.drawing.clip(p)})},u.prototype.drawlayer=function(f,h,p){let m=lM(f,h,p);this.newpath();for(let x=0,b=m.length;x<b;x++){let y=m[x];this.moveto(y[0][0],y[0][1]);for(let w=1,v=y.length;w<v;w++){let A=y[w];this.lineto(A[0],A[1])}this.closepath()}this.fill()},u.prototype.showmaxicode=function(f){var h=this.g_tsx,p=this.g_tsy,m=this.getRGB(),x=1.04*h*100,b=x/30|0;x-(b*30-1)>9&&b++;var y,w,v,A;v=h/2|0,A=p/2|0,y=b-v,y&1&&y--,w=(4*p|0)-A;var k=y/2-1,E=(k+1)/2|0,j=w-2-2*E;this.bbox(0,0,b*30-v,p*3*32+p*4-A);var N=this;this.cmds.push(function(){for(var B=0;B<f.length;B++){var I=f[B],T=I%30,R=I/30|0;T*=b,T+=R&1?b:b/2,T=T|0,R=33-R,R*=p*3,R+=p*2-w/2,R=R|0;var D=[[T-.5,R--]];R-=E-1,D.push([T-1-k,R--]),R-=j,D.push([T-1-k,R--]),R-=E-1,D.push([T-.5,R++]),R+=E-1,D.push([T+k,R++]),R+=j,D.push([T+k,R++]),N.transform(D),N.drawing.hexagon(D,m)}N.drawing.fill(m);var T=14*b+b/2+.01|0,R=(12*4+3)*p-E/2+.01|0;N.drawing.ellipse(T,R,.5774*3.5*h+.01|0,.5774*3.5*p+.01|0,!0),N.drawing.ellipse(T,R,1.3359*3.5*h+.01|0,1.3359*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(T,R,2.1058*3.5*h+.01|0,2.1058*3.5*p+.01|0,!0),N.drawing.ellipse(T,R,2.8644*3.5*h+.01|0,2.8644*3.5*p+.01|0,!1),N.drawing.fill(m),N.drawing.ellipse(T,R,3.6229*3.5*h+.01|0,3.6229*3.5*p+.01|0,!0),N.drawing.ellipse(T,R,4.3814*3.5*h+.01|0,4.3814*3.5*p+.01|0,!1),N.drawing.fill(m)})},u.prototype.toUCS2=function(f){return f.replace(/[\xc0-\xdf][\x80-\xbf]|[\xe0-\xff][\x80-\xbf]{2}/g,function(h){var p;return h.length==2?p=(h.charCodeAt(0)&31)<<6|h.charCodeAt(1)&63:p=(h.charCodeAt(0)&15)<<12|(h.charCodeAt(1)&63)<<6|h.charCodeAt(2)&63,String.fromCharCode(p)})},u.prototype.show=function(f,h,p){if(f.length){var m=this.g_rot,x=m==90||m==270?this.g_tsy:this.g_tsx,b=m==90||m==270?this.g_tsx:this.g_tsy,y=this.g_font.FontName||"OCR-B",w=this.g_font.FontSize||10,v=w*x,A=w*b,k=this.g_posx,E=this.g_posy,j=this.getRGB();h=x*h||0,p=b*p||0,f=this.toUCS2(this.jsstring(f));var N=this.drawing.measure(f,y,v,A),B=N.width+(f.length-1)*h;m==90?this.bbox(k-p+N.descent-1,E,k-p-N.ascent,E+B-1):m==180?this.bbox(k,E-p+N.descent-1,k-B+1,E-p-N.ascent):m==270?this.bbox(k+p-N.descent+1,E,k+p+N.ascent,E-B+1):(m=0,this.bbox(k,E+p-N.descent+1,k+B-1,E+p+N.ascent),this.g_posx+=B);var I=this;I.cmds.push(function(){var D=k-I.minx,T=I.maxy-E;I.drawing.text(D,T,f,j,{name:y,width:v,height:A,rotate:m,dx:h})})}},u.prototype.bbox=function(f,h,p,m){if(f>p){var x=f;f=p,p=x}if(h>m){var x=h;h=m,m=x}f=a(f),h=a(h),p=i(p),m=i(m),this.minx>f&&(this.minx=f),this.maxx<p&&(this.maxx=p),this.miny>h&&(this.miny=h),this.maxy<m&&(this.maxy=m)},u.prototype.render=function(){if(this.minx===1/0)return!1;this.drawing.init(this.maxx-this.minx+1,this.maxy-this.miny+1,this.g_tsx,this.g_tsy);for(var f=0,h=this.cmds.length;f<h;f++)this.cmds[f]();return this.drawing.end()},u}();function lM(a,n,i,o,d){let u=0,f=0,h=new Array(i+1),p=0;for(let y=i-1;y>=0;y--){let w=new Uint8Array(n);for(let v=0;v<n;v++)w[v]=a[p+v]?1:0;h[y]=w,p+=n}h[-1]=[],h[i]=[];let m=[];for(let y=0;y<i;y++){let w=0;for(let v=0;v<n;v++)!(w&9)&&h[y][v]==1?m.push(x(v,y,[])):(w&5)==1&&h[y][v]==0&&m.push(b(v,y,[])),w=h[y][v]}return m;function x(y,w,v){v.push([y+u,w+f]);let A=2;for(;;){if(h[w][y]&A)return v.pop(),v;h[w][y]|=A,A==2?h[w][y+1]&1?(h[w-1][y+1]&1&&(v.push([y+1-u,w+f,"H"]),A=16),y++):(v.push([y+1-u,w+f,"H"]),A=4):A==4?h[w+1][y]&1?(h[w+1][y+1]&1&&(v.push([y+1-u,w+1-f,"V"]),A=2),w++):(v.push([y+1-u,w+1-f,"V"]),A=8):A==8?h[w][y-1]&1?(h[w+1][y-1]&1&&(v.push([y+u,w+1-f,"H"]),A=4),y--):(v.push([y+u,w+1-f,"H"]),A=16):h[w-1][y]&1?(h[w-1][y-1]&1&&(v.push([y+u,w+f,"V"]),A=8),w--):(v.push([y+u,w+f,"V"]),A=2)}}function b(y,w,v){v.push([y-u,w-f]);let A=2;for(;;){if(h[w][y]&A)return v.pop(),v;h[w][y]|=A,A==2?h[w+1][y]&1?(v.push([y-u,w+1+f]),A=4):(h[w+1][y-1]&1||(v.push([y-u,w+1+f]),A=16),w++):A==4?h[w][y+1]&1?(v.push([y+1+u,w+1+f]),A=8):(h[w+1][y+1]&1||(v.push([y+1+u,w+1+f]),A=2),y++):A==8?h[w-1][y]&1?(v.push([y+1+u,w-f]),A=16):(h[w-1][y+1]&1||(v.push([y+1+u,w-f]),A=4),w--):h[w][y-1]&1?(v.push([y-u,w-f]),A=2):(h[w-1][y-1]&1||(v.push([y-u,w-f]),A=8),y--)}}}function Uw(){var a=0,n=0,i=0,o=0,d=0,u=0,f=0,h=0,p,m,x,b,y,w,v,A,k,E,j,N;return{setopts(F){p=F},scale:function(F,_){return p.bcid=="swissqrcode"?[F,_]:[F|0||1,_|0||1]},measure:function(F,_,Q,H){Q=Q|0,H=H|0;for(var J=ai.lookup(_),K=0,he=0,G=0,L=0,ce=F.length;L<ce;L++){var fe=F.charCodeAt(L),U=ai.getglyph(J,fe,Q,H);he=Math.max(he,U.top),G=Math.max(G,U.height-U.top),L==ce-1?K+=U.left+U.width:K+=U.advance}return{width:K,ascent:he,descent:G}},init:function(F,_){var Q=p.paddingleft,H=p.paddingright,J=p.paddingtop,K=p.paddingbottom,he=p.rotate||"N";if(F+=Q+H,_+=J+K,+p.sizelimit&&+p.sizelimit<F*_)throw new Error("Image size over limit");switch(he){case"R":n=-1,i=1,d=1;break;case"I":a=-1,i=1,u=-1,h=1;break;case"L":n=1,d=-1,h=1;break;default:a=u=1;break}var G=he=="L"||he=="R";b=G?_:F,y=G?F:_,w=Q,v=J,j=[],j.min=1/0,N=null,A=k=E=0;var L=this.image(b,y);m=L.buffer,x=L.ispng?1:0},line:function(F,_,Q,H,J,K){if(F=F|0,_=_|0,Q=Q|0,H=H|0,J=Math.round(J)||1,H<_){var he=_;_=H,H=he}if(Q<F){var he=F;F=Q,Q=he}A=parseInt(K.substr(0,2),16),k=parseInt(K.substr(2,2),16),E=parseInt(K.substr(4,2),16);var G=J/2|0;F==Q?(F=F-J+G,Q=Q+G-1):(_=_-G,H=H+J-G-1);for(var L=_;L<=H;L++)for(var ce=F;ce<=Q;ce++)B(ce,L,255)},polygon:function(F){for(var _=F.length,Q=_-1,H=0;H<_;Q=H++)if(F[Q][0]==F[H][0]){var J=F[Q][0]|0,K=F[Q][1]|0,he=F[H][1]|0;if(K>he)for(var G=he+1;G<K;G++)I(J,G);else for(var G=K+1;G<he;G++)I(J,G)}else{var J=F[Q][0]|0,L=F[H][0]|0,K=F[Q][1]|0;if(J<L){var ce=F[Q==0?_-1:Q-1][1],fe=F[H==_-1?0:H+1][1];ce>K&&I(J,K),fe>K&&I(L,K)}else{var ce=F[H==_-1?0:H+1][1],fe=F[Q==0?_-1:Q-1][1];ce>K&&I(L,K),fe>K&&I(J,K)}}},hexagon:function(F,_){var Q=F[0][0]|0,H=F[0][1]|0,J=F[1][1]-F[0][1]|0,K=F[2][1]-F[1][1]-1|0,he=F[2][0]|0,G=F[4][0]|0;A=parseInt(_.substr(0,2),16),k=parseInt(_.substr(2,2),16),E=parseInt(_.substr(4,2),16),D(Q,Q+1,H++);for(var L=1;L<J;L++)D(Q-2*L,Q+1+2*L,H++);for(var L=0;L<=K;L++)D(he,G,H++);for(var L=J-1;L>=1;L--)D(Q-2*L,Q+1+2*L,H++);D(Q,Q+1,H)},ellipse:function(F,_,Q,H,J){R(F-Q|0,_-H|0,F+Q|0,_+H|0)},fill:function(F){A=parseInt(F.substr(0,2),16),k=parseInt(F.substr(2,2),16),E=parseInt(F.substr(4,2),16),T(),j=[],j.min=1/0},clip:function(F){N||(N=[],N.min=1/0);var _=j;j=N;for(var Q=0,H=F.length;Q<H;Q++)this.polygon(F[Q]);j=_},unclip:function(){N=null},text:function(F,_,Q,H,J){F=F|0,_=_|0,A=parseInt(H.substr(0,2),16),k=parseInt(H.substr(2,2),16),E=parseInt(H.substr(4,2),16);var K=ai.lookup(J.name),he=J.width|0,G=J.height|0,L=J.dx|0,ce=0,fe=0,U=0,ee=0;switch(J.rotate){case 90:fe=1,U=-1;break;case 180:ce=-1,ee=-1;break;case 270:fe=-1,U=1;break;default:ce=1,ee=1;break}for(var se=0,de=0;de<Q.length;de++){for(var ke=Q.charCodeAt(de),ae=ai.getglyph(K,ke,he,G),De=-ae.top,we=ae.left,Ae=ae.width,Le=ae.height,xe=ae.bytes,Oe=ae.offset,Te=0;Te<Ae;Te++)for(var Pe=0;Pe<Le;Pe++){var Ue=xe[Oe+Pe*Ae+Te];if(Ue){var Ze=se+we+Te,te=De+Pe,oe=ce*Ze+fe*te,Re=U*Ze+ee*te;B(F+oe,_+Re,Ue)}}se+=ae.advance+L}},end:function(){}};function B(F,_,Q){if(!(N&&$(F,_))){F+=w,_+=v;var H=a*F+n*_+i*(b-1)+o*(y-1),J=d*F+u*_+f*(b-1)+h*(y-1),K=(J*b+H)*4+(J+1)*x,he=m[K+3]/255,G=Q/255,L=(1-G)*he,ce=G+L;m[K+0]=(A*G+m[K+0]*L)/ce|0,m[K+1]=(k*G+m[K+1]*L)/ce|0,m[K+2]=(E*G+m[K+2]*L)/ce|0,m[K+3]=255*ce|0}}function I(F,_){j.min>_&&(j.min=_),j[_]?j[_].push(F):j[_]=[F]}function D(F,_,Q){for(;F<=_;)B(F++,Q,255)}function T(){for(var F=j.min,_=j.length-1,Q=F;Q<=_;Q++){var H=j[Q];if(H){H.sort(function(ce,fe){return ce-fe});for(var J=!1,K=0,he=0,G=H.length;he<G;he++){var L=H[he];J?D(K,L-1,Q):K=L,J=!J}}}}function R(F,_,Q,H,J){F=F|0,_=_|0,Q=Q|0,H=H|0;var K=Math.abs(Q-F),he=Math.abs(H-_),G=he&1,L=4*(1-K)*he*he,ce=4*(G+1)*K*K,fe=L+ce+G*K*K,U,ee=[],se=[];ee.min=se.min=1/0,F>Q&&(F=Q,Q+=K),_>H&&(_=H),_+=(he+1)/2|0,H=_-G,K*=8*K,G=8*he*he;do De(se,Q,_),ae(ee,F,_),ae(ee,F,H),De(se,Q,H),U=2*fe,U>=L&&(F++,Q--,L+=G,fe+=L),U<=ce&&(_++,H--,ce+=K,fe+=ce);while(F<=Q);for(;_-H<he;)De(se,Q+1,_),ae(ee,F-1,_++),ae(ee,F-1,H),De(se,Q+1,H--);for(var de=ee.min,ke=ee.length-1;de<=ke;de++)I(ee[de],de);for(var de=se.min,ke=se.length-1;de<=ke;de++)I(se[de]+1,de);function ae(we,Ae,Le){we.min>Le&&(we.min=Le);var xe=we[Le];(xe==null||xe>Ae)&&(we[Le]=Ae)}function De(we,Ae,Le){we.min>Le&&(we.min=Le);var xe=we[Le];(xe==null||xe<Ae)&&(we[Le]=Ae)}}function $(F,_){var Q=N[_];if(!Q)return!0;Q.sorted||(Q.sort(function(G,L){return G-L}),Q.sorted=!0);for(var H=!1,J=0,K=Q.length;J<K;J++){var he=Q[J];if(he>F)return!H;if(he==F)return H;H=!H}return!0}}function m0(a,n){Ll(n)&&(a=n);var i,o=a.getContext("2d",{willReadFrequently:!0}),d=Uw();d.image=h,d.end=p;var u,f=d.setopts;return d.setopts=function(m){u=m,f&&f.call(d,m)},d;function h(m,x){return a.width=m,a.height=x,o.setTransform(1,0,0,1,0,0),/^[0-9a-fA-F]{6}$/.test(""+u.backgroundcolor)?(o.fillStyle="#"+u.backgroundcolor,o.fillRect(0,0,m,x)):o.clearRect(0,0,m,x),i=o.getImageData(0,0,m,x),{buffer:i.data,ispng:!1}}function p(){return o.putImageData(i,0,0),a}}function zw(){var a=0,n=0,i=0,o=0,d=0,u=0,f=0,h=0,p,m="",x,b="",y=[],w={},v,A,k=.55228475-45e-5,E,j,N,B;return{setopts(D){p=D},scale(D,T){v=D,A=T},measure(D,T,R,$){R=R|0,$=$|0;for(var F=ai.lookup(T),_=0,Q=0,H=0,J=0,K=D.length;J<K;J++){var he=D.charCodeAt(J),G=ai.getglyph(F,he,R,$);G&&(Q=Math.max(Q,G.top),H=Math.max(H,G.height-G.top),J==K-1?_+=G.left+G.width:_+=G.advance)}return{width:_,ascent:Q,descent:H}},init(D,T){var R=p.paddingleft,$=p.paddingright,F=p.paddingtop,_=p.paddingbottom,Q=p.rotate||"N";switch(D+=R+$,T+=F+_,Q){case"R":n=-1,i=1,d=1;break;case"I":a=-1,i=1,u=-1,h=1;break;case"L":n=1,d=-1,h=1;break;default:a=u=1;break}var H=Q=="L"||Q=="R";E=H?T:D,j=H?D:T,N=R,B=F},line(D,T,R,$,F,_){if(D=D|0,T=T|0,R=R|0,$=$|0,F=Math.round(F)||1,F&1){if(D==R){let H=v&1?-.5:.5;D+=H,R+=H}if(T==$){let H=A&1?-.5:.5;T+=H,$+=H}}D==R?T++:T==$&&D++;var Q=""+F+"#"+_;w[Q]||(w[Q]='<path stroke="#'+_+'" stroke-width="'+F+'" d="'),w[Q]+="M"+I(D,T)+"L"+I(R,$)},polygon(D){x||(x='<path d="'),x+="M"+I(D[0][0],D[0][1]);for(var T=1,R=D.length;T<R;T++){var $=D[T];x+="L"+I($[0],$[1])}x+="Z"},hexagon(D,T){this.polygon(D)},ellipse(D,T,R,$,F){x||(x='<path d="');var _=R*k,Q=$*k;x+="M"+I(D-R,T)+"C"+I(D-R,T-Q)+" "+I(D-_,T-$)+" "+I(D,T-$)+"C"+I(D+_,T-$)+" "+I(D+R,T-Q)+" "+I(D+R,T)+"C"+I(D+R,T+Q)+" "+I(D+_,T+$)+" "+I(D,T+$)+"C"+I(D-_,T+$)+" "+I(D-R,T+Q)+" "+I(D-R,T)+"Z"},fill(D){x&&(m+=x+'" fill="#'+D+'" fill-rule="evenodd"'+(b?' clip-path="url(#'+b+')"':"")+` />
`,x=null)},clip:function(D){var T='<clipPath id="clip'+y.length+'"><path d="';for(let _=0;_<D.length;_++){let Q=D[_];T+="M"+I(Q[0][0],Q[0][1]);for(var R=1,$=Q.length;R<$;R++){var F=Q[R];T+="L"+I(F[0],F[1])}T+="Z"}T+='" clip-rule="nonzero" /></clipPath>',b="clip"+y.length,y.push(T)},unclip:function(){b=""},text(D,T,R,$,F){D=D|0,T=T|0;for(var _=D,Q=T,H=ai.lookup(F.name),J=F.width|0,K=F.height|0,he=F.dx|0,G="",L=0;L<R.length;L++){var ce=R.charCodeAt(L),fe=ai.getpaths(H,ce,J,K);if(fe){if(fe.length){for(var U=0,ee=fe.length;U<ee;U++){let se=fe[U];se.type=="M"||se.type=="L"?G+=se.type+I(se.x+D,T-se.y):se.type=="Q"?G+=se.type+I(se.cx+D,T-se.cy)+" "+I(se.x+D,T-se.y):se.type=="C"&&(G+=se.type+I(se.cx1+D,T-se.cy1)+" "+I(se.cx2+D,T-se.cy2)+" "+I(se.x+D,T-se.y))}G+="Z"}D+=ai.getglyph(H,ce,J,K).advance+he}}G&&(F.rotate?m+='<path d="'+G+'" fill="#'+$+'" transform="rotate(-'+F.rotate+" "+I(_,Q)+`)" />
`:m+='<path d="'+G+'" fill="#'+$+`" />
`)},end(){var D="";for(var T in w)D+=w[T]+`" />
`;var R=p.backgroundcolor;return'<svg viewBox="0 0 '+E+" "+j+`" xmlns="http://www.w3.org/2000/svg">
`+(y.length?"<defs>"+y.join("")+"</defs>":"")+(/^[0-9A-Fa-f]{6}$/.test(""+R)?'<rect width="100%" height="100%" fill="#'+R+`" />
`:"")+D+m+`</svg>
`}};function I(D,T){D+=N,T+=B;var R=a*D+n*T+i*(E-1)+o*(j-1),$=d*D+u*T+f*(E-1)+h*(j-1);return""+((R|0)==R?R:R.toFixed(2))+" "+(($|0)==$?$:$.toFixed(2))}}var ai=function(){var a=[],n={},i={},o={},d=0;return o.next=o,o.prev=o,{lookup:f,monochrome:h,getglyph:p,getpaths:m,loadFont:u};function u(x){var b=100,y=100,w=null;if(arguments.length==2)w=arguments[1];else if(arguments.length==3)b=y=+arguments[1]||100,w=arguments[2];else if(arguments.length==4)y=+arguments[1]||100,b=+arguments[2]||100,w=arguments[3];else throw new Error("bwipjs: loadFont: invalid number of arguments");var v=J2.InitFont(dM(w));v.bwipjs_name=x,v.bwipjs_multx=b,v.bwipjs_multy=y;var A=a.push(v)-1;return n[x.toUpperCase()]=A,A}function f(x){var b=n[x.toUpperCase()];return b===void 0?1:b}function h(x){if(x)throw new Error("bwipjs: monochrome fonts not implemented")}function p(x,b,y,w){x=x|0,b=b|0,y=+y,w=+w,(!y||y<8)&&(y=8),(!w||w<8)&&(w=y),(x<0||x>=a.length)&&(x=1),(!b||b<32)&&(b=32);var v=""+x+"c"+b+"w"+y+"h"+w,k=i[v];if(k){k.prev.next=k.next,k.next.prev=k.prev;var j=o;return j.next.prev=k,k.next=j.next,k.prev=j,j.next=k,k}var A=a[x],k=J2.GetGlyph(A,b,y*A.bwipjs_multx/100,w*A.bwipjs_multy/100)||J2.GetGlyph(A,0,y*A.bwipjs_multx/100,w*A.bwipjs_multy/100);if(k.bytes=k.pixels,k.cachekey=v,k.offset=0,d>250){var j=o,E=j.prev;E.prev.next=j,j.prev=E.prev,E.next=E.prev=null,delete i[E.cachekey]}else d++;i[v]=k;var j=o;return j.next.prev=k,k.next=j.next,k.prev=j,j.next=k,k}function m(x,b,y,w){x=x|0,b=b|0,y=+y,w=+w,(!y||y<8)&&(y=8),(!w||w<8)&&(w=y),(x<0||x>=a.length)&&(x=1),(!b||b<32)&&(b=32);var v=a[x];return J2.GetPaths(v,b,y*v.bwipjs_multx/100,w*v.bwipjs_multy/100)}}();function cM(){return ai.loadFont.apply(ai,Array.prototype.slice.call(arguments))}var J2=function(){var a=1,n=2,i=3,o=4,d=0,u=3,f=1,h=10,p=Math.floor,m=Math.ceil,x=Math.sqrt,b=Math.abs;function y(P){for(var V=[],q=0;q<P;q++)V.push({});return V}function w(P){return P[P.cursor++]||0}function v(P){return P[P.cursor]}function A(P,V){P.cursor=V>P.length||V<0?P.length:V}function k(P,V){A(P,P.cursor+V)}function E(P,V){for(var q=0,ne=0;ne<V;ne++)q=q<<8|w(P);return q}function j(){return{length:0}}function N(P,V,q){if(V<0||q<0||V>P.length||q>P.length-V)return j();var ne=P.subarray(V,V+q);return ne.cursor=0,ne}function B(P){var V=P.cursor,q=E(P,2);if(q){var ne=w(P);k(P,ne*q),k(P,E(P,ne)-1)}return N(P,V,P.cursor-V)}function I(P){var V=w(P);return V>=32&&V<=246?V-139:V>=247&&V<=250?(V-247)*256+w(P)+108:V>=251&&V<=254?-(V-251)*256-w(P)-108:V==28?E(P,2):V==29?E(P,4):0}function D(P){var V=v(P);if(V==30)for(k(P,1);P.cursor<P.length;){var q=w(P);if((q&15)==15||q>>4==15)break}else I(P)}function T(P,V){for(A(P,0);P.cursor<P.length;){for(var q=P.cursor,ne,ue;v(P)>=28;)D(P);if(ne=P.cursor,ue=w(P),ue==12&&(ue=w(P)|256),ue==V)return N(P,q,ne-q)}return N(P,0,0)}function R(P,V,q,ne){for(var ue=T(P,V),be=0;be<q&&ue.cursor<ue.length;be++)ne[be]=I(ue)}function $(P,V,q){var ne=T(P,V);return ne.cursor<ne.length&&(q=I(ne)),q}function F(P){return A(P,0),E(P,2)}function _(P,V){var q,ne,ue,be;return A(P,0),q=E(P,2),ne=w(P),k(P,V*ne),ue=E(P,ne),be=E(P,ne),N(P,2+(q+1)*ne+ue,be-ue)}function Q(P){return P&32768?(4294901760|P)>>0:P}function H(P,V){return P[V]*256+P[V+1]}function J(P,V){var q=P[V]*256+P[V+1];return q&32768?(4294901760|q)>>0:q}function K(P,V){return(P[V]<<24)+(P[V+1]<<16)+(P[V+2]<<8)+P[V+3]}function he(P,V,q){for(var ne=H(P,V+4),ue=V+12,be=0;be<ne;++be){var re=ue+16*be;if(P[re]==q[0]&&P[re+1]==q[1]&&P[re+2]==q[2]&&P[re+3]==q[3])return K(P,re+8)}return 0}function G(P,V){var q=[0,0];if(R(V,18,2,q),!q[1]||!q[0])return j();var ne=N(P,q[1],q[0]),ue=$(ne,19,0);return ue?(A(P,q[1]+ue),B(P)):j()}function L(P,V,q){var ne,ue,be,re;if(P.data=V,P.fontstart=q,P.cff=j(),ne=he(V,q,[99,109,97,112]),P.loca=he(V,q,[108,111,99,97]),P.head=he(V,q,[104,101,97,100]),P.glyf=he(V,q,[103,108,121,102]),P.hhea=he(V,q,[104,104,101,97]),P.hmtx=he(V,q,[104,109,116,120]),P.kern=he(V,q,[107,101,114,110]),!ne||!P.head||!P.hhea||!P.hmtx)return 0;if(P.glyf){if(!P.loca)return 0}else{var Se,X,ve,me,je=2,le=0,ye=0,Ie=0;if(me=he(V,q,[67,70,70,32]),!me||(P.fontdicts=j(),P.fdselect=j(),P.cff=V.subarray(me),P.cff.cursor=0,Se=P.cff,k(Se,2),A(Se,w(Se)),B(Se),ve=B(Se),X=_(ve,0),B(Se),P.gsubrs=B(Se),le=$(X,17,le),je=$(X,262,je),ye=$(X,292,ye),Ie=$(X,293,Ie),P.subrs=G(Se,X),je!=2)||le==0)return 0;if(ye){if(!Ie)return 0;A(Se,ye),P.fontdicts=B(Se),P.fdselect=N(Se,Ie,Se.length-Ie)}A(Se,le),P.charstrings=B(Se)}for(ue=he(V,q,[109,97,120,112]),ue?P.numGlyphs=H(V,ue+4):P.numGlyphs=65535,re=H(V,ne+2),P.index_map=0,be=0;be<re;++be){var pe=ne+4+8*be;switch(H(V,pe)){case u:switch(H(V,pe+2)){case f:case h:P.index_map=ne+K(V,pe+4);break}break;case d:P.index_map=ne+K(V,pe+4);break}}return P.index_map==0?0:(P.indexToLocFormat=H(V,P.head+50),1)}function ce(P,V){var q=P.data,ne=P.index_map,ue=H(q,ne+0);if(ue==0){var be=H(q,ne+2);return V<be-6?q[ne+6+V]:0}else if(ue==6){var re=H(q,ne+6),Se=H(q,ne+8);return V>=re&&V<re+Se?H(q,ne+10+(V-re)*2):0}else{if(ue==2)return 0;if(ue==4){var X=H(q,ne+6)>>1,ve=H(q,ne+8)>>1,me=H(q,ne+10),je=H(q,ne+12)>>1,le=ne+14,ye=le;if(V>65535)return 0;for(V>=H(q,ye+je*2)&&(ye+=je*2),ye-=2;me;){ve>>=1;var Ie=H(q,ye+ve*2);V>Ie&&(ye+=ve*2),--me}ye+=2;var pe,Ce,Ne=ye-le>>>1;return Ce=H(q,ne+14+X*2+2+2*Ne),V<Ce?0:(pe=H(q,ne+14+X*6+2+2*Ne),pe==0?V+J(q,ne+14+X*4+2+2*Ne):H(q,pe+(V-Ce)*2+ne+14+X*6+2+2*Ne))}else if(ue==12||ue==13){for(var Be=K(q,ne+12),Ge=0,He=Be;Ge<He;){var Xe=Ge+(He-Ge>>1),st=K(q,ne+16+Xe*12),at=K(q,ne+16+Xe*12+4);if(V<st)He=Xe;else if(V>at)Ge=Xe+1;else{var Ee=K(q,ne+16+Xe*12+8);return ue==12?Ee+V-st:Ee}}return 0}}return 0}function fe(P,V,q,ne,ue,be){P.type=V,P.x=q,P.y=ne,P.cx=ue,P.cy=be}function U(P,V){var q,ne;return V>=P.numGlyphs||P.indexToLocFormat>=2?-1:(P.indexToLocFormat==0?(q=P.glyf+H(P.data,P.loca+V*2)*2,ne=P.glyf+H(P.data,P.loca+V*2+2)*2):(q=P.glyf+K(P.data,P.loca+V*4),ne=P.glyf+K(P.data,P.loca+V*4+4)),q==ne?-1:q)}function ee(P,V,q){if(P.cff.length)Ze(P,V,q);else{var ne=U(P,V);if(ne<0)return 0;q.x0=J(P.data,ne+2),q.y0=J(P.data,ne+4),q.x1=J(P.data,ne+6),q.y1=J(P.data,ne+8)}return 1}function se(P,V,q,ne,ue,be,re,Se,X,ve){return ne?(q&&fe(P[V++],i,X+re>>1,ve+Se>>1,X,ve),fe(P[V++],i,ue,be,re,Se)):q?fe(P[V++],i,ue,be,X,ve):fe(P[V++],n,ue,be,0,0),V}function de(P,V){var q=P.data,ne=U(P,V);if(ne<0)return null;var ue=[],be=J(q,ne);if(be>0){var re=0,Se,X,ve=0,me,je,le,ye=0,Ie,pe=0,Ce,Ne,Be,Ge,He,Xe,st,at,Ee=ne+10,Ve=H(q,ne+10+be*2),Ye=q.subarray(ne+10+be*2+2+Ve),et=0;for(je=1+H(q,Ee+be*2-2),me=je+2*be,ue=y(me),le=0,Se=0,Ie=me-je,X=0;X<je;++X)Se==0?(re=Ye[et++],re&8&&(Se=Ye[et++])):--Se,ue[Ie+X].type=re;for(Ce=0,X=0;X<je;++X){if(re=ue[Ie+X].type,re&2){var ht=Ye[et++];Ce+=re&16?ht:-ht}else re&16||(Ce=Ce+Q(Ye[et]*256+Ye[et+1]),et+=2);ue[Ie+X].x=Ce}for(Ne=0,X=0;X<je;++X){if(re=ue[Ie+X].type,re&4){var pt=Ye[et++];Ne+=re&32?pt:-pt}else re&32||(Ne=Ne+Q(Ye[et]*256+Ye[et+1]),et+=2);ue[Ie+X].y=Ne}var ft=0;for(He=Xe=Be=Ge=st=at=0,X=0;X<je;++X)re=ue[Ie+X].type,Ce=ue[Ie+X].x,Ne=ue[Ie+X].y,le==X?(X!=0&&(ft=se(ue,ft,ye,pe,He,Xe,st,at,Be,Ge)),pe=!(re&1),pe?(st=Ce,at=Ne,ue[Ie+X+1].type&1?(He=ue[Ie+X+1].x,Xe=ue[Ie+X+1].y,++X):(He=Ce+ue[Ie+X+1].x>>1,Xe=Ne+ue[Ie+X+1].y>>1)):(He=Ce,Xe=Ne),fe(ue[ft++],a,He,Xe,0,0),ye=0,le=1+H(q,Ee+ve*2),++ve):re&1?(ye?fe(ue[ft++],i,Ce,Ne,Be,Ge):fe(ue[ft++],n,Ce,Ne,0,0),ye=0):(ye&&fe(ue[ft++],i,Be+Ce>>1,Ge+Ne>>1,Be,Ge),Be=Ce,Ge=Ne,ye=1);ue.length=se(ue,ft,ye,pe,He,Xe,st,at,Be,Ge)}else if(be==-1)for(var gt=1,nt=ne+10;gt;){var re,Tt,tt=[1,0,0,1,0,0];re=J(q,nt),nt+=2,Tt=J(q,nt),nt+=2,re&2&&(re&1?(tt[4]=J(q,nt),nt+=2,tt[5]=J(q,nt),nt+=2):(tt[4]=w(q),nt+=1,tt[5]=w(q),nt+=1)),re&8?(tt[0]=tt[3]=J(q,nt)/16384,nt+=2,tt[1]=tt[2]=0):re&64?(tt[0]=J(q,nt)/16384,nt+=2,tt[1]=tt[2]=0,tt[3]=J(q,nt)/16384,nt+=2):re&128&&(tt[0]=J(q,nt)/16384,nt+=2,tt[1]=J(q,nt)/16384,nt+=2,tt[2]=J(q,nt)/16384,nt+=2,tt[3]=J(q,nt)/16384,nt+=2);var me=x(tt[0]*tt[0]+tt[1]*tt[1]),je=x(tt[2]*tt[2]+tt[3]*tt[3]),Qt=te(P,Tt);if(Qt.length>0){for(var X=0,Ht=Qt.length;X<Ht;++X){var Ot=Qt[X],Ce,Ne;Ce=Ot.x,Ne=Ot.y,Ot.x=p(me*(tt[0]*Ce+tt[2]*Ne+tt[4])),Ot.y=p(je*(tt[1]*Ce+tt[3]*Ne+tt[5])),Ce=Ot.cx,Ne=Ot.cy,Ot.cx=p(me*(tt[0]*Ce+tt[2]*Ne+tt[4])),Ot.cy=p(je*(tt[1]*Ce+tt[3]*Ne+tt[5]))}ue=ue.concat(Qt)}gt=re&32}return ue}function ke(P,V,q){(V>P.max_x||!P.started)&&(P.max_x=V),(q>P.max_y||!P.started)&&(P.max_y=q),(V<P.min_x||!P.started)&&(P.min_x=V),(q<P.min_y||!P.started)&&(P.min_y=q),P.started=1}function ae(P,V,q,ne,ue,be,re,Se){ke(P,q,ne),V==o&&(ke(P,ue,be),ke(P,re,Se));var X={};fe(X,V,q,ne,ue,be),X.cx1=re,X.cy1=Se,P.vertices.push(X)}function De(P){(P.first_x!=P.x||P.first_y!=P.y)&&ae(P,n,P.first_x,P.first_y,0,0,0,0)}function we(P,V,q){De(P),P.first_x=P.x=P.x+V,P.first_y=P.y=P.y+q,ae(P,a,P.x,P.y,0,0,0,0)}function Ae(P,V,q){P.x+=V,P.y+=q,ae(P,n,P.x,P.y,0,0,0,0)}function Le(P,V,q,ne,ue,be,re){var Se=P.x+V,X=P.y+q,ve=Se+ne,me=X+ue;P.x=ve+be,P.y=me+re,ae(P,o,P.x,P.y,Se,X,ve,me)}function xe(P,V){var q=F(P),ne=107;return q>=33900?ne=32768:q>=1240&&(ne=1131),V+=ne,V<0||V>=q?j():_(P,V)}function Oe(P,V){var q=P.fdselect,ne,ue,be,re,Se,X=-1,ve;if(A(q,0),Se=w(q),Se==0)k(q,V),X=w(q);else if(Se==3)for(ne=E(q,2),ue=E(q,2),ve=0;ve<ne;ve++){if(re=w(q),be=E(q,2),V>=ue&&V<be){X=re;break}ue=be}return G(P.cff,_(P.fontdicts,X))}function Te(P,V,q){var ne=1,ue=0,be=0,re=0,Se,X,ve,me=0,je,le=[],ye=[],Ie=P.subrs,pe,Ce;for(pe=_(P.charstrings,V);pe.cursor<pe.length;){switch(X=0,je=1,ve=w(pe),ve){case 19:case 20:ne&&(ue+=re/2|0),ne=0,k(pe,(ue+7)/8|0);break;case 1:case 3:case 18:case 23:ue+=re/2|0;break;case 21:if(ne=0,re<2)return 0;we(q,le[re-2],le[re-1]);break;case 4:if(ne=0,re<1)return 0;we(q,0,le[re-1]);break;case 22:if(ne=0,re<1)return 0;we(q,le[re-1],0);break;case 5:if(re<2)return 0;for(;X+1<re;X+=2)Ae(q,le[X],le[X+1]);break;case 7:if(re<1)return 0;for(;!(X>=re||(Ae(q,0,le[X]),X++,X>=re));)Ae(q,le[X],0),X++;break;case 6:if(re<1)return 0;for(;!(X>=re||(Ae(q,le[X],0),X++,X>=re));)Ae(q,0,le[X]),X++;break;case 31:if(re<4)return 0;for(;!(X+3>=re||(Le(q,le[X],0,le[X+1],le[X+2],re-X==5?le[X+4]:0,le[X+3]),X+=4,X+3>=re));)Le(q,0,le[X],le[X+1],le[X+2],le[X+3],re-X==5?le[X+4]:0),X+=4;break;case 30:if(re<4)return 0;for(;!(X+3>=re||(Le(q,0,le[X],le[X+1],le[X+2],le[X+3],re-X==5?le[X+4]:0),X+=4,X+3>=re));)Le(q,le[X],0,le[X+1],le[X+2],re-X==5?le[X+4]:0,le[X+3]),X+=4;break;case 8:if(re<6)return 0;for(;X+5<re;X+=6)Le(q,le[X],le[X+1],le[X+2],le[X+3],le[X+4],le[X+5]);break;case 24:if(re<8)return 0;for(;X+5<re-2;X+=6)Le(q,le[X],le[X+1],le[X+2],le[X+3],le[X+4],le[X+5]);if(X+1>=re)return 0;Ae(q,le[X],le[X+1]);break;case 25:if(re<8)return 0;for(;X+1<re-6;X+=2)Ae(q,le[X],le[X+1]);if(X+5>=re)return 0;Le(q,le[X],le[X+1],le[X+2],le[X+3],le[X+4],le[X+5]);break;case 26:case 27:if(re<4)return 0;for(Ce=0,re&1&&(Ce=le[X],X++);X+3<re;X+=4)ve==27?Le(q,le[X],Ce,le[X+1],le[X+2],le[X+3],0):Le(q,Ce,le[X],le[X+1],le[X+2],0,le[X+3]),Ce=0;break;case 10:me||(P.fdselect.length&&(Ie=Oe(P,V)),me=1);case 29:if(re<1||(Se=le[--re]|0,be>=10)||(ye[be++]=pe,pe=xe(ve==10?Ie:P.gsubrs,Se),pe.length==0))return 0;pe.cursor=0,je=0;break;case 11:if(be<=0)return 0;pe=ye[--be],je=0;break;case 14:return De(q),1;case 12:var Ne,Be,Ge,He,Xe,st,at,Ee,Ve,Ye,et,ht,pt,ft,gt=w(pe);switch(gt){case 34:if(re<7)return 0;Ne=le[0],Be=le[1],Ee=le[2],Ge=le[3],He=le[4],Xe=le[5],st=le[6],Le(q,Ne,0,Be,Ee,Ge,0),Le(q,He,0,Xe,-Ee,st,0);break;case 35:if(re<13)return 0;Ne=le[0],at=le[1],Be=le[2],Ee=le[3],Ge=le[4],Ve=le[5],He=le[6],Ye=le[7],Xe=le[8],et=le[9],st=le[10],ht=le[11],Le(q,Ne,at,Be,Ee,Ge,Ve),Le(q,He,Ye,Xe,et,st,ht);break;case 36:if(re<9)return 0;Ne=le[0],at=le[1],Be=le[2],Ee=le[3],Ge=le[4],He=le[5],Xe=le[6],et=le[7],st=le[8],Le(q,Ne,at,Be,Ee,Ge,0),Le(q,He,0,Xe,et,st,-(at+Ee+et));break;case 37:if(re<11)return 0;Ne=le[0],at=le[1],Be=le[2],Ee=le[3],Ge=le[4],Ve=le[5],He=le[6],Ye=le[7],Xe=le[8],et=le[9],st=ht=le[10],pt=Ne+Be+Ge+He+Xe,ft=at+Ee+Ve+Ye+et,b(pt)>b(ft)?ht=-ft:st=-pt,Le(q,Ne,at,Be,Ee,Ge,Ve),Le(q,He,Ye,Xe,et,st,ht);break;default:return 0}break;default:if(ve!=255&&ve!=28&&(ve<32||ve>254)||(ve==255?Ce=(E(pe,4)|0)/65536:(k(pe,-1),Ce=(I(pe)<<16|0)>>16),re>=48))return 0;le[re++]=Ce,je=0;break}je&&(re=0)}return 0}function Pe(){return{started:0,first_x:0,first_y:0,x:0,y:0,min_x:0,max_x:0,min_y:0,max_y:0,vertices:[]}}function Ue(P,V){var q=Pe();return Te(P,V,q)?q.vertices:null}function Ze(P,V,q){var ne=Pe(),ue=Te(P,V,ne);return q.x0=ue?ne.min_x:0,q.y0=ue?ne.min_y:0,q.x1=ue?ne.max_x:0,q.y1=ue?ne.max_y:0,ue&&ne.vertices?ne.vertices.length:0}function te(P,V){return P.cff.length?Ue(P,V):de(P,V)}function oe(P,V){var q=H(P.data,P.hhea+34);return V<q?{advanceWidth:J(P.data,P.hmtx+4*V),leftSideBearing:J(P.data,P.hmtx+4*V+2)}:{advanceWidth:J(P.data,P.hmtx+4*(q-1)),leftSideBearing:J(P.data,P.hmtx+4*q+2*(V-q))}}function Re(P){return{ascent:J(P.data,P.hhea+4),descent:J(P.data,P.hhea+6),linegap:J(P.data,P.hhea+8)}}function ze(P,V,q,ne,ue,be){var re={};return ee(P,V,re)?{x0:p(re.x0*q+ue),y0:p(-re.y1*ne+be),x1:m(re.x1*q+ue),y1:m(-re.y0*ne+be)}:{x0:0,y0:0,x1:0,y1:0}}function Je(P,V,q){var ne=(P.x1-P.x0)/(P.y1-P.y0);return{fdx:ne,fdy:ne!=0?1/ne:0,fx:P.x0+ne*(q-P.y0)-(V|0),direction:P.invert?1:-1,sy:P.y0,ey:P.y1,next:0}}function Qe(P,V,q,ne,ue,be,re){V=V|0,ue!=re&&(ue>q.ey||re<q.sy||(ue<q.sy&&(ne+=(be-ne)*(q.sy-ue)/(re-ue),ue=q.sy),re>q.ey&&(be+=(be-ne)*(q.ey-re)/(re-ue),re=q.ey),ne<=V&&be<=V?P[V]+=q.direction*(re-ue):ne>=V+1&&be>=V+1||(P[V]+=q.direction*(re-ue)*(1-(ne-V+(be-V))/2))))}function qe(P,V,q,ne,ue){for(var be=ue+1;ne;){if(ne.fdx==0){var re=ne.fx;re<q&&(re>=0?(Qe(P,re,ne,re,ue,re,be),Qe(V,re+1,ne,re,ue,re,be)):Qe(V,0,ne,re,ue,re,be))}else{var re=ne.fx,Se=ne.fdx,X=re+Se,ve,me,je,le,ye=ne.fdy;if(ne.sy>ue?(ve=re+Se*(ne.sy-ue),je=ne.sy):(ve=re,je=ue),ne.ey<be?(me=re+Se*(ne.ey-ue),le=ne.ey):(me=X,le=be),ve>=0&&me>=0&&ve<q&&me<q)if((ve|0)==(me|0)){var Ie=le-je,pe=ve|0;P[pe]+=ne.direction*(1-(ve-pe+(me-pe))/2)*Ie,V[pe+1]+=ne.direction*Ie}else{var Ce,pe,Ne,Be,Ge,He,Xe,st;for(ve>me&&(je=be-(je-ue),le=be-(le-ue),Ce=je,je=le,le=Ce,Ce=me,me=ve,ve=Ce,Se=-Se,ye=-ye,Ce=re,re=X,X=Ce),Ne=ve|0,Be=me|0,Ge=(Ne+1-re)*ye+ue,Xe=ne.direction,st=Xe*(Ge-je),P[Ne]+=st*(1-(ve-Ne+(Ne+1-Ne))/2),He=Xe*ye,pe=Ne+1;pe<Be;++pe)P[pe]+=st+He/2,st+=He;Ge+=ye*(Be-(Ne+1)),P[Be]+=st+Xe*(1-(Be-Be+(me-Be))/2)*(le-Ge),V[Be+1]+=Xe*(le-je)}else for(var pe=0;pe<q;++pe){var at=ue,Ne=pe,Be=pe+1,Ee=X,Ve=be,Ye=(pe-re)/Se+ue,et=(pe+1-re)/Se+ue;re<Ne&&Ee>Be?(Qe(P,pe,ne,re,at,Ne,Ye),Qe(P,pe,ne,Ne,Ye,Be,et),Qe(P,pe,ne,Be,et,Ee,Ve)):Ee<Ne&&re>Be?(Qe(P,pe,ne,re,at,Be,et),Qe(P,pe,ne,Be,et,Ne,Ye),Qe(P,pe,ne,Ne,Ye,Ee,Ve)):re<Ne&&Ee>Ne||Ee<Ne&&re>Ne?(Qe(P,pe,ne,re,at,Ne,Ye),Qe(P,pe,ne,Ne,Ye,Ee,Ve)):re<Be&&Ee>Be||Ee<Be&&re>Be?(Qe(P,pe,ne,re,at,Be,et),Qe(P,pe,ne,Be,et,Ee,Ve)):Qe(P,pe,ne,re,at,Ee,Ve)}}ne=ne.next}}function ut(P,V,q,ne,ue,be){ue|=0,be|=0;var re=null,Se,X=be,ve=0,me,je=new Float32Array(P.w*2+1),le=je.subarray(P.w),ye=0;for(V[q].y0=be+P.h+1;ve<P.h;){var Ie=X+0,pe=X+1,Ce=re;if(je.fill)je.fill(0);else for(var Ne=0,Be=je.length;Ne<Be;Ne++)je[Ne]=0;for(;Ce;)Se=Ce,Ce=Se.next,Se.ey<=Ie&&(Se.direction=0);for(;V[ye].y0<=pe;)V[ye].y0!=V[ye].y1&&(Se=Je(V[ye],ue,Ie),Se.next=re,re=Se),++ye;re&&qe(je,le,P.w,re,Ie);for(var me=0,Ge=0;me<P.w;++me){var He,Xe;Ge+=le[me],He=je[me]+Ge,He=b(He)*255+.5,Xe=He>>>0,Xe>255&&(Xe=255),P.pixels[ve*P.stride+me]=Xe}for(Ce=re;Ce;)Se=Ce,Se.fx+=Se.fdx,Ce=Se.next;++X,++ve}}function mt(P,V){for(var q=1;q<V;++q){for(var ne=P[q],ue=q;ue>0&&ne.y0<P[ue-1].y0;)P[ue]=P[ue-1],--ue;q!=ue&&(P[ue]=ne)}}function lt(P,V,q){for(;q>12;){var ne,ue,be,re,Se,X=q>>1,ve=P[V].y0<P[V+X].y0,me=P[V+X].y0<P[V+q-1].y0;for(ve!=me&&(ue=P[V].y0<P[V+q-11].y0,Se=ue==me?0:q-1,ne=P[V+Se],P[V+Se]=P[V+X],P[V+X]=ne),ne=P[V],P[V]=P[V+X],P[V+X]=ne,be=1,re=q-1;;){for(;P[V+be].y0<P[V].y0;++be);for(;P[V].y0<P[V+re].y0;--re);if(be>=re)break;ne=P[V+be],P[V+be]=P[V+re],P[V+re]=ne,++be,--re}re<q-be?(lt(P,V,re),V+=be,q-=be):(lt(P,V+be,q-be),q=re)}}function vt(P,V){lt(P,0,V),mt(P,V)}function St(P,V,q,ne,ue,be,re,Se,X,ve){var me=-ue,je,le,ye,Ie,pe,Ce,Ne=1;for(le=0,ye=0;ye<q.length;++ye)le+=q[ye];for(je=y(le+1),le=0,Ce=0,ye=0;ye<q.length;++ye){var Be=Ce;for(Ce+=q[ye],Ie=q[ye]-1,pe=0;pe<q[ye];Ie=pe++){var Ge=pe,He=Ie;V[Be+Ie].y!=V[Be+pe].y&&(je[le].invert=0,V[Be+Ie].y>V[Be+pe].y&&(je[le].invert=1,Ge=Ie,He=pe),je[le].x0=V[Be+Ge].x*ne+be,je[le].y0=(V[Be+Ge].y*me+re)*Ne,je[le].x1=V[Be+He].x*ne+be,je[le].y1=(V[Be+He].y*me+re)*Ne,++le)}}vt(je,le),ut(P,je,le,Ne,Se,X)}function kt(P,V,q,ne,ue,be,re,Se,X){var ve=(V+2*ne+be)/4,me=(q+2*ue+re)/4,je=(V+be)/2-ve,le=(q+re)/2-me;return X>16||(je*je+le*le>Se?(kt(P,V,q,(V+ne)/2,(q+ue)/2,ve,me,Se,X+1),kt(P,ve,me,(ne+be)/2,(ue+re)/2,be,re,Se,X+1)):P.push({x:be,y:re})),1}function wt(P,V,q,ne,ue,be,re,Se,X,ve,me){var je=ne-V,le=ue-q,ye=be-ne,Ie=re-ue,pe=Se-be,Ce=X-re,Ne=Se-V,Be=X-q,Ge=x(je*je+le*le)+x(ye*ye+Ie*Ie)+x(pe*pe+Ce*Ce),He=x(Ne*Ne+Be*Be),Xe=Ge*Ge-He*He;if(!(me>16))if(Xe>ve){var st=(V+ne)/2,at=(q+ue)/2,Ee=(ne+be)/2,Ve=(ue+re)/2,Ye=(be+Se)/2,et=(re+X)/2,ht=(st+Ee)/2,pt=(at+Ve)/2,ft=(Ee+Ye)/2,gt=(Ve+et)/2,nt=(ht+ft)/2,Tt=(pt+gt)/2;wt(P,V,q,st,at,ht,pt,nt,Tt,ve,me+1),wt(P,nt,Tt,ft,gt,Ye,et,Se,X,ve,me+1)}else P.push({x:Se,y:X})}function Pt(P,V,q){for(var ne=[],ue=V*V,be=-1,re=0,Se=0,X=0,ve=0,me=P.length;ve<me;++ve)switch(P[ve].type){case a:be>=0&&(q[be]=ne.length-re),++be,re=ne.length,Se=P[ve].x,X=P[ve].y,ne.push({x:Se,y:X});break;case n:Se=P[ve].x,X=P[ve].y,ne.push({x:Se,y:X});break;case i:kt(ne,Se,X,P[ve].cx,P[ve].cy,P[ve].x,P[ve].y,ue,0),Se=P[ve].x,X=P[ve].y;break;case o:wt(ne,Se,X,P[ve].cx,P[ve].cy,P[ve].cx1,P[ve].cy1,P[ve].x,P[ve].y,ue,0),Se=P[ve].x,X=P[ve].y;break}return q[be]=ne.length-re,ne}function Mt(P,V,q,ne,ue,be,re,Se,X,ve){Se|=0,X|=0;var me=ne>ue?ue:ne,je=[],le=Pt(q,V/me,je);le&&St(P,le,je,ne,ue,be,re,Se,X)}function Lt(P){var V={};if(!L(V,P,0))return null;var q=Re(V);return V.ascent=q.ascent,V.descent=q.descent,V.linegap=q.linegap,V}function Dt(P,V,q,ne){ne=ne||q;var ue=q/P.ascent,be=ne/P.ascent,re=ce(P,V);if(!re&&V)return null;var Se=te(P,re),X=ze(P,re,ue,be,0,0),ve=X.x1-X.x0,me=X.y1-X.y0,je=null;if(ve&&me){var le={pixels:je=new Uint8Array(ve*me),w:ve,h:me,stride:ve};Mt(le,.35,Se,ue,be,0,0,X.x0,X.y0)}var ye=oe(P,re);return{glyph:re,pixels:je,width:ve,height:me,top:-X.y0,left:X.x0,advance:p(ye.advanceWidth*ue)}}function jt(P,V,q,ne){ne=ne||q;var ue=q/P.ascent,be=ne/P.ascent,re=ce(P,V);if(!re&&V)return null;var Se=te(P,re),X=oe(P,re),ve=0,me=0,je=[];if(Se)for(var le=0,ye=Se.length;le<ye;le++){var Ie=Se[le],pe;if(Ie.type==a)pe={type:"M",x:Ie.x*ue,y:Ie.y*be};else if(Ie.type==n)pe={type:"L",x:Ie.x*ue,y:Ie.y*be};else if(Ie.type==i)pe={type:"Q",x:Ie.x*ue,y:Ie.y*be,cx:Ie.cx*ue,cy:Ie.cy*be};else if(Ie.type==o)pe={type:"C",x:Ie.x*ue,y:Ie.y*be,cx1:Ie.cx*ue,cy1:Ie.cy*be,cx2:Ie.cx1*ue,cy2:Ie.cy1*be};else continue;pe.y>ve&&(ve=pe.y),pe.y<me&&(me=pe.y),je.push(pe)}return je.advance=X.advanceWidth*ue,je.ascent=ve,je.descent=me,je}return{InitFont:Lt,GetGlyph:Dt,GetPaths:jt}}();function dM(a){if(typeof a=="string"){for(var n=/[^A-Za-z0-9+\/=\s]/.test(a),i=n?a:atob(a),o=i.length,d=new Uint8Array(o),u=0;u<o;u++)d[u]=i.charCodeAt(u);return d}else{if(a instanceof Uint8Array)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a)}throw new ReferenceError("data must be a binary or base64 encoded string or Uint8Array")}ai.loadFont("OCR-A",100,100,"AAEAAAAPAIAAAwBwRkZUTXxHoksAADPIAAAAHEdERUYAmQAGAAAyIAAAACBHUE9TuP+4/gAAM5gAAAAwR1NVQuq3l/0AADJAAAABWE9TLzKDm4kvAAABeAAAAGBjbWFwO6GiGgAAArgAAAFaZ2FzcP//AAMAADIYAAAACGdseWYfHUemAAAE8AAAKUBoZWFkFeCL3QAAAPwAAAA2aGhlYQcqAgQAAAE0AAAAJGhtdHgagBVHAAAB2AAAAOBsb2NhH+IWRAAABBQAAADabWF4cACxAF0AAAFYAAAAIG5hbWUIp3NfAAAuMAAAAoJwb3N0oJoboAAAMLQAAAFkAAEAAAACAAAhYPsHXw889QALA+gAAAAA2gMjvQAAAADaAyO9AD7/LAJ8BFIAAAAIAAIAAAAAAAAAAQAABFL/LABaAtMAAAAAAnwAAQAAAAAAAAAAAAAAAAAAAAQAAQAAAGwAWgADAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAtMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAACMAACoAAAAAAAAAAABQZkVkAEAAICWgAyD/OABaBFIA1AAAAAEAAAAAAjgDDAAAACAAAQLTAAAAAAAAAtMAAALTAAAA9gBJAEkASQBJAEkA3QDdAKwASQBJAKwASQDdAEkASQBJAEkASQBhAEkASQBJAEkASQDdAKwASQBJAEkASQBJAEYASQBJAEkASQBJAEkASQBJAHoASQBJAEkASQBJAEkASQBJAEkASQBJAEkASQBJAEkASABJAEkASQBIAEkAegBJAEkASQBJAEkAYQBJAEkAegB6AEkAegBBAEkASQBJAEkASQBJAEkASQBJAD4ASQBJAEkASQEPAEkASQBxAHEAcQE3AFcA7QBxAQMA1ABxAAAAAwAAAAMAAAAcAAEAAAAAAFQAAwABAAAAHAAEADgAAAAKAAgAAgACAH4kQiUCJaD//wAAACAkQCUCJaD////j3CLbY9rGAAEAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAFIApgDoAS4BigGqAdYCAgJKAnQCkAKsAsYC5AMIAzIDYAOcA8gD+gQmBFIEggSuBNwFDAU0BVwFhAXEBhIGPgZwBqgG5AcKBy4HageWB8QH7gggCDoIZgiICMoI8glMCYIJwAnmChAKNAp0Cq4K1gr6CyYLRAtwC5QLrgvODBYMdAysDRANag2eDhYOSA6EDsYO+A8iD2YPmA/yEFgQvBDqETQRbhGgEcwSDhJEEnoSqBLiEwITPBNyE5ITthPeE+wT+hQUFEYUaBSIFKAAAAACAPYAAAGNAwwADwAfAAA3NTQ2OwEyFh0BFAYrASImETQ2OwEyFh0BAxQGIyImJ/YeFTEVHh4VMRUeHhUxFB8ZHhQVHAIzKhUdHRUqFR4eArwUHhwTA/6BFR0dFQAAAAABAEkBqAI7AwwAEwAAEychFQYHBiMiJjUnIwcOASMiJidKAQHyJgsMKBQgKHIqAxwSExwDAsJKSrkvMhoS09YRGBgRAAIASQB/AjsDDAA9AEEAABM0NjsBNSMiJjQ2OwE1NDYyFh0BMzU0NjIWHQEzMhYUBisBFTMyFhUUBisBFRQGIiY9ASMVFAYiJj0BIyImNzM1I0kdFTExFR0dFTEdKh5hHiodMRUeHhUxMRUeHhUxHSoeYR4qHTEVHchhYQFcFB5vHiodeBQeHhR4eBQeHhR4HSoebx4UFR53FR4eFXd3FR4eFXceR28AAAEASQAAAjsDDAAxAAA2NDYzITUhIiY9ATQ2OwE1NDYzMhYdATMyFhQGIyEVITIWHQEUBisBFRQGIyImPQEjIkkdFQFb/qUVHR0VlB4VFB6UFR4eFf6lAVsVHh4VlB4UFR6UFccqHkQeFaoVHXgUHh4UeB0qHkQeFaoVHXcVHh4VdwAAAAMASQAAAjsDDAAPAB8ALwAANzQ3ATYzMhYVFAcBBiMiJhE1NDY7ATIWHQEUBisBIiYBNTQ2OwEyFh0BFAYrASImSQoBjQ4aFR4L/nMOGhUdHRVjFR4eFWMVHQEpHhVjFR4eFWMVHocUCwH+Ex0VEg3+AhMdAhNVFB4eFFUVHh79w1QVHh4VVBUeHgAAAwBJAAACOwK3AC4ANgBBAAA3NTQ/AScmPQE0NjsBMhYdARQPARc3NjMyFhUUDgIHFxYVFAYjIi8BBwYrASImNxQWOwE3JwcRFzc1NCYrASIGFUkRXGANWT5gPlkRfWszDxIVHhAPIQI0Dh4VFw43Sg8RYj5ZZR4UTzhrTlVvHhRgFB6XRRgPT2YPFEU+WVk+RRkOa3IsDB4VDRoOGAI4EBIVHhA7PwxZPhUdMHJCASpbXi4UHh0VAAEA3QFUAaYDDAARAAATETQ2OwEyFhcUBg8BDgEjIibdHhVjFRwCMhoZBRoSFR4BhgFUFB4dFQawVVURFR0AAAABAN0AAAHZAwwAGwAAEzU0PwE2MzIWFRQPAQYdARQfARYVFAYjIi8BJt0rdRAYFR8MdRYWdQodFRgQdSsBJsBFOJYTHhQOEpUdIsAiHZUPEBUeE5Y4AAAAAQCsAAABpgMMABsAADc0PwE2PQE0LwEmNTQ2MzIfARYdARQPAQYjIiasCnUWFnUKHRUYEHUrK3UQGBUdMxAPlR0iwCIdlQ8RFB4TljhFwEU4lhMeAAAAAAEASQBVAjsCtwAzAAA3ND8BJyY1NDYzMh8BNTQ2MzIWHQE3NjMyFhUUDwEXFhUUBiMiLwEVFAYjIiY9AQcGIyImSRGZmREdFRMOcx4VFB5zDRQVHhKZmRIeFRQNcx4UFR5zDhMVHdwYD4ODDxgVHQxikRUdHRWRYgwdFRcQg4MQFxUdDGKRFR0dFZFiDB0AAAEASQCNAjsCfwAdAAASNDY7ATU0NjMyFh0BMzIWFAYrARUUBiMiJj0BIyJJHRWUHhUUHpQVHh4VlB4UFR6UFQFxKh6UFB4eFJQeKh2UFR4eFZQAAAEArAAAAdcBZAAQAAASNDY7ATIWHQEUBiImPQEjIqwdFccVHR0qHpQVARwqHh4V/hUeHhXMAAAAAQBJASkCOwG5AA8AABM1NDYzITIWHQEUBiMhIiZJHRUBjRUeHhX+cxUdAVwqFR4eFSoVHh4AAAABAN0AfwGmATkADwAANzU0NjsBMhYdARQGKwEiJt0eFWMVHh4VYxUeslUVHR0VVRUeHgAAAQBJAAACOwMMAA8AADc0NwE2MzIWFRQHAQYjIiZJBgGNDx0VHgf+cw8dFR0zDQwCpxkeFAwO/VkZHgAAAgBJAAACOwMMAA8AEwAANxE0NjMhMhYVERQGIyEiJjchESFJPCkBKCg9PSj+2Ck8ZQEo/thlAkIpPDwp/b4pPDwpAkIAAAAAAQBJAAACOwMMABwAADc0NjsBESMiJjU0NjsBETM1NDYyFh0BFAYjISImSR0VlJQVHR0V+WIdKh4eFf5zFR0zFB4CQh4VFB79WcwVHh4V/hUeHgAAAQBJAAACOwMMAB4AADMRNDYzITUhIiY1NDYzITIWHQEUBiMhFSEyFhUUBiNJPCkBKP6lFR0dFQFbKD08Kf7YAVoVHh4VAVQpO+8eFRQePCnvKDzvHhQVHgAAAAABAEkAAAI7AwwAKgAANzQ2MyE1NCYrASImNDY7ATI2PQEhIiY1NDYzITIWHQEUBxYdARQGIyEiJkkdFQFbHxTFFR0dFcUVHv6lFR0dFQFbKD0oKD0o/qUVHTMUHrwUHx0qHh4UvB4VFB48Kbw6Kys6vCk8HgAAAAABAGEAAAIiAwwAHQAAExE0NjIWFREzETQ2MzIWFREyFhQGIxUUBiMiJj0BYR4qHcUeFRQeFR0dFR4UFR4A/wHbFB4eFP6KASEVHR0V/t8eKh3MFR4eFcwAAQBJAAACOwMMACIAADc0NjMyHwEzNSERITIWFRQGKwEVMzIWHQEUBisBIi4CJyZJHRUMCFrt/tYBXBUeHhX3xSg9PSjjFCkaLAkeXRUdBCbvAbgeFBUe7j0o7yk8CgsVBA0AAAIASQAAAjsDDAAXABsAADcRNDY7ATIWFRQGIxEhMhYdARQGIyEiJjchNSFJHRUyFR0dFQFbFR4eFf5zFR1kASn+1zMCpxQeHhQVHv69HhX+FR4eR5oAAAABAEkAAAI7AwwAGwAAEzU0NjMhERQPARUUBiMiJj0BND8BNSEOASMiJkkdFQHAErUeFBUeErX+1wMcExUdAq8rFB7+zxcQmucVHh4V/hcQmrUSGB0AAAAAAwBJAAACOwMMABcAGwAfAAA3NTQ2MxE0NjsBMhYVETIWHQEUBiMhIiY3ITUhNzM1I0k7KRwVxxUcKD09KP7XKTtkASn+12RhYWXvKTwBIRUdHRX+3z0o7yk8PCnvZe4AAgBJAAACOwMMABcAGwAAExE0NjMhMhYVERQGKwEiJjU0NjMRISImNyE1IUkdFQGNFR4eFTIVHR0V/qUVHWQBKf7XAdsA/xQeHhT9WRUeHhUUHgFDHkeaAAIA3QB/AaYCjQAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm3R4VYxUeHhVjFR4eFWMVHh4VYxUeslUVHR0VVRUeHgFoVRUeHhVVFR0dAAAAAgCsAAAB1wK3ABAAIAAAEjQ2OwEyFh0BFAYiJj0BIyIDNTQ2OwEyFh0BFAYrASImrB0VxxUdHSoelBUdHRVkFB4eFGQVHQEcKh4eFf4VHh4VzAExVRUdHRVVFR4eAAAAAQBJAFUCOwK3ABYAABM1NDclNjMyFhUUBw0BFhUUBiMiJyUmSRgBjQsPFR4Z/pkBZxkeFQ8L/nMYAXArHQ/pBx0VHBDT0xAcFR0H6Q8AAAACAEkA/wI7AjgACwAXAAASNDYzITIWFAYjISImNDYzITIWFAYjISJJHRUBjRUeHhX+cxUdHRUBjRUeHhX+cxUBHCoeHiod8SoeHiodAAAAAAEASQBVAjsCtwAWAAA3NDctASY1NDYzMhcFFh0BFAcFBiMiJkkYAWj+mBgdFQ8LAY0ZFP5uCw8VHYcdD9PTDx0VHQfpEBwqHQzsBx0AAAAAAgBJAAACOwMMAB4AKAAAEzQ3ATYyHwEWHQEUBwUVFAYiJj0BNDclNScFBiMiJhM0NjIWFRQGIiZJEQEqDyQPYxIS/ugeKh0RARkx/vcPEhUdYx0qHh4qHQHbGA4A/wwMVQ8XVRcQ7z4VHR0VVRkO7yYq4wwe/m0UHh4UFR4eAAACAEkAAAI7AwwALQA4AAA3NTQ2OwEyFhURFBYyNjURNCYrASIGBwYjIiY1NDc2OwEyFhURFAYjIicGIyImNxQWMjY9ASMiBhVJWD1kFB4dKB0uH48ZLQwOHxUdNjdEj0lpWT05Kiw4PVhlHCgdMRQclrc+WB4V/uYUHR0UAcQgLSMXGx4VJDEyakj+PD1ZJydYPhQdHRToHRQAAAACAEYAAAI8AwwAFQAYAAA3Ez4BMhYXExQGIyImLwEjBw4BIyImNzMDRssFGiIcBMofFREaBSffJwUbERUfqqNSMwK1EBQUEP1LFR4UEIaGEBQe8QEWAAAAAwBJAAACOwMMAA4AGAAiAAAzESEyFh0BFAcWHQEUBiMnMzI2PQE0JisBNTMyNj0BNCYrAUkBKFJ4RkZ4UsPDKTw8KcPDKTw8KcMDDHhSJVk+PlklUnhlPSglKTxlPCglKD0AAAEASQAAAjsDDAAlAAATND8BPgE7ATIWFRQGKwEiDwEGFB8BFjsBMhYVFAYrASImJyYnJkkYZRBLLboVHh4Vuh8NZw0NZw0fuhUeHhW6LEkSShwYAYY1MswkLx4UFR4cyxw8HMscHhQVHjAkjT4zAAACAEkAAAI7AwwAGwAoAAA3NDY7AREjIiY1NDY7ATIWHwEWFA8BDgErASImNzMyPwE2NTQvASYrAUkdFTExFR0dFbosSRJmGRllEEstuhUdyCQfDWcODmcNHyQzFB4CQh4VFB4wJMs0ZjTMJC8eRxzLIhgeHMscAAABAEkAAAI7AwwAGQAAMxEhMhYVFAYjIRUzMhYUBisBFSEyFhUUBiNJAb8VHh4V/qaUFB4eFJQBWhUeHhUDDB4UFR7uHiod7x4UFR4AAQBJAAACOwMMABYAADcRITIWFRQGIyEVMzIWFAYrAREUBiImSQG/FR4eFf6m9xUdHRX3HiodMwLZHhQVHpodKh7+ixUeHgAAAQBJAAACOwMMACoAADcRND8BNjsBMhYVFAYrASIPAQYVERQWOwEyNj0BIyImNDY7ARUUBisBIiZJKogtS5UVHh4VlRkPiBUeFMMUH2MVHR0VyFo+wz9YmAEPRTawOh4UFR4Urhwi/vEVHh4VZx0qHsw+WlkAAAAAAQBJAAACOwMMABsAADcRNDYyFhURIRE0NjIWFREUBiImNREhERQGIiZJHSoeASgdKh4eKh3+2B4qHTMCpxQeHhT+3wEhFB4eFP1ZFR4eFQEh/t8VHh4AAAEASQAAAjsDDAAfAAA3NDY7AREjIiY1NDYzITIWFRQGKwERMzIWFRQGIyEiJkkdFZSUFR0dFQGNFR4eFZSUFR4eFf5zFR0zFB4CQh4VFB4eFBUe/b4eFBUeHgAAAQB6AAACCQMMABsAADc1NDYyFh0BFBY7ATI2NRE0NjIWFREUBisBIiZ6HiodHhVfFR4dKh5aPl8+WpeaFR4eFZoVHR4UAkMUHh4U/b0+WVkAAAAAAQBJAAACOwMMAB4AADcRNDYyFh0BATYzMhYVFAcJARYVFAYjIicBFRQGIiZJHSoeATkPEhUeEv6gAWASHhUSD/7HHiodMwKnFB4eFOYBDAweFBgP/tP+0w8XFR4MAQzlFR4eAAEASQAAAjsDDAAOAAAzETQ2MhYVESEyFhUUBiNJHSoeAVoVHh4VAtoUHh4U/YseFBUeAAABAEkAAAI7AwwAGwAANxEzFzczERQGIiY1EQcVFAYjIiY9AScRFAYiJkl+e3p/HiodYh4UFR5hHiodMwLZr6/9JxUeHhUCTowaFR4eFRqK/bQVHh4AAAAAAQBJAAACOwMMABEAADcRMwERNDYyFhURIwERFAYiJkmFAQgdKh6G/vkeKh0zAtn9pgIoFB4eFP0mAlj92xUeHgAAAAACAEkAAAI7AwwAFgApAAATND8BPgEzMhYfARYUDwEOASMiJi8BJjcGFB8BFjMyPwE2NTQvASYjIgdJGGsQPyYnPxBrGRlrED8nJj8QaxhyDQ1sCBIUCGsODmwIExEJAYY1MtcfKSkf1zRmNNcfKSkf1y5zHDwc1hEQ1yIYHhzVEhIAAAACAEkAAAI7AwwADwAZAAA3ESEyFh0BFAYrARUUBiImEzMyNj0BNCYrAUkBWj5aWj71HiodZfUUHx8U9TMC2Vk+tD5a9hUeHgFwHhW0FB4AAAIASQAAAjsDDAAhAEAAADcRND8BNjMyFhURFA4FBxczMhYVFAYrAScHBiMiJjcUOwE3JyY1NDYzMh4DFz4ENRE0JisBBwYVSUbhIC8ySggUDiMOLAUYQRUeHhWGJUsiLTJIZRUIbCUDHhUNFA8IDAIEHw4UCQ0KB+giewEaXj2+Hkky/uYXKSUZIg0kBD0eFBUeXkAeSTIWXF4HCxUeCxoRJAQEGQ0aHBEBGgkMwx4wAAAAAAIASQAAAjsDDAAZACMAADcRITIWHQEUBisBExYVFAYjIicDIxEUBiImEzMyNj0BNCYrAUkBWj5aWz06ywceFR0P6UUeKh1l9RQfHxT1MwLZWj40Plr+pA4LFR4ZAY/+ixUeHgHvHxQ0FR4AAAEASQAAAjsDDAAsAAA3NDYyFhUUFjsBMjUBJj0BNDY7ATIWFRQGIiY1NCYrASIdAgEWFQ4BKwEiJkkdKh4UDvkN/ooXQy75N1EeKh0VDvkMAXQZAkEv+TdQhxUeHhUOFA0B4iAmAy1CUDcVHh4VDRUKAwT+Ih4oL0NQAAABAEkAAAI7AwwAGAAAEzUhFRQGIiY9ASMRFAYjIiY1ESMVFAYiJkkB8h4qHWIeFBUeYR4qHQKFh4cVHh4VIv2MFR4eFQJ0IhUeHgAAAQBJAAACOwMMABsAADcRNDYyFhURFBY7ATI2NRE0NjIWFREUBisBIiZJHSoeHhTDFB8dKh5aPsM+WZcCQxQeHhT9vRUdHhQCQxQeHhT9vT5ZWQAAAQBJAAACOwMMABUAABM1NDYyFh0BGwE1NDYyFh0BAwYjIidJHSoelJQdKh7KDSIjDQIltRQeHhSh/oYBeqEUHh4UtP36ICAAAQBJAAACOwMMACsAADcRNDYyFhURFzM+ATcRNDYzMhYVER4BFzM3ETQ2MhYVEQcGKwEiJwYrASInSR0qHhwpAhQGHhUUHgYUAikdHSoeOQ8dYiASFR5hHg96AmAUHh4U/bswAyYKAUMVHR0V/r0KJgMwAkUUHh4U/aBhGSMjGQABAEkAAAI7AwwAIwAANzQ3EwMmNTQ2MzIXGwE2MzIWFRQHAxMWFRQGIyInCwEGIyImSQa4uAYdFR0Pm5oPHRUeB7i4Bx4VHQ+amw8dFR0zDQwBOgE6DA4UHhn++AEIGR4UDA7+xv7GDgsVHhkBCP74GR4AAAEASQAAAjsDDAAZAAATNTQ2MhYdARc3NTQ2MhYdAQcRFAYjIiY1EUkdKh6Ukx4qHsceFBUeAnNnFB4eFES+vkQUHh4UZ/7+vhUeHhUBQgAAAQBIAAACOwMMABMAADcBISImNTQ2MyEVASEyFhUUBiMhSAFo/ssVHR0VAcD+mAE1FR4eFf5BQAJnHhUUHkD9mR4UFR4AAAAAAgBJAAACOwMMABcAGwAANxE0NjMhMhYVFAYrAREzMhYVFAYjISImNzMRI0kdFQGNFR4eFcbGFR4eFf5zFR1kMDAzAqcUHh4UFR79vh4UFR4eRwJCAAAAAAEASQAAAjsDDAAPAAATNDYzMhcBFhUUBiMiJwEmSR0VHQ8BjQceFR0P/nMGAtoUHhn9WQ4LFR4ZAqcMAAIASQAAAjsDDAAXABsAADc0NjsBESMiJjU0NjMhMhYVERQGIyEiJiUzESNJHRXGxhUdHRUBjRUeHhX+cxUdAV0wMDMUHgJCHhUUHh4U/VkVHh5HAkIAAAABAEgAfwI7AmIAFAAANxM2MzIXExYVFAYjIi8BBwYjIiY1SM0NIB4OyAUeFRsOnZ4OGxUdvgGJGxv+gAwJFR4V7OwVHhUAAAABAEn/mwI7AAAADQAAFzQ2MyEyFhUUBiMhIiZJHRUBjRUeHhX+cxUdMhQeHhQVHh4AAAAAAQB6AagCCQMMABAAABM0NjsBMhcTFhUUBiMiJwEmeh4VYxoOywYeFRAQ/tYSAtoUHhP++gsNFR4MAP8PAAAAAAIASQAAAjsCOAAmADQAADc1NDY7ATIXNC4FKwEiJjQ2OwEyFhcTFAYjIiY1BwYrASImNxQWOwE3NTQmKwEiBhVJWD3BGBQBAQMGCxEMuhUdHRW6PVcCDR8VFB1KCg+VPVhlHBSHax8SwRMdljg+WAcHIQ8cDRAGHSoeVTz+ixUdHhQrB1g+FB0/LBIdHRQAAAIASQAAAjsDDAApAEMAADcRNDYyFh0BNjsBMh4FFxYdARQOBA8BBisBIi4BJxUUBiImNxQfARY7ATI+ATc2PQE0LgEnJisBIg8BBhVJHSoeRENLDRgYDhgHGwE1BA4HGgURESk4Sx02HRceKh1lEVYMFEsOFh4CEg0fARUUSxQMVhEzAqcUHh4U4kADCwUTBRcBLkTOEBsaDxoGDw4kFhcVDxUeHsIXDkoMDB4BDhfODhQaARMMSgsaAAAAAQBJAAACOwI4ACYAADc1NDc+AzsBMhYUBisBIg8BBh0BFB8BFjsBMhYVFAYrASIvASZJNAszITof0xUeHhXTFAxWERFWDBTTFR4eFdM5KVY04HhFLQkxGxkeKh0MSgsaeBcPSQweFBUeJEotAAAAAAIASQAAAjsDDAAtAEgAADc1NDY3Njc2OwEyHgQXNTQ2MhYVERQGIiY9AQ4CKwEiLgcnJjcUHgIXFjsBMj8BNj0BNC8BJisBIg4BBwYVSSonBQMpOEsQHhMeCB8CHSoeHiodFx02HksLExMOEQoRBhMCNGUMDRgEDxFLEg5WEhJWDBRLDhcaBBK1zjA7IAQCJAcHFAYcAecUHh4U/VkVHh4VEBYXFgIGBQoGDgURAitHDBYMEwMMDEoNGHgVEEoMDRoDEBYAAAAAAgBJAAACOwI4ADQAQQAANzU0PgE3NjsBMh4GHwEWHQEUBiMhFRQeAhcWMyEyFhUUBiMhIi4HJyY3ITU0JisBIg4BBwYVSSAaHyk4fQoTFAwUBxQECws1HhX+pgwNGAQPEQEFFR4eFf77CxMTDhEKEQYTAjRlASg8Gn0OFh4CEbXOIzwYGiQCBgQMBBECCgouRHwVHh8MFgwTAwweFBUeAgYFCgYOBRECK8tKGjYMHgEOFwAAAQBhAAACIQMMACQAABI0NjsBNTQ2OwEyFhUUBisBIgYdATMyFhQGKwERFAYiJjURIyJhHRUxaEp5FR0dFXkgLWMUHh4UYx0qHjEVAfAqHiJKaB4UFR4tICIeKh3+YBUeHhUBoAAAAAACAEn/LAI7AjgAQgBZAAA3NTQ+CDc2OwEyHgQXNTQ2MhYVERQOBA8BBisBIiY0NjsBMj4BNzY9AQ4CKwEiLgMvASY3FBY7ATI/ATY9ATQvASYrASIOAQcGFUkDAwsEEAQVAxcBKThLEB4THggfAh0qHgQOBxoFEREpONMVHh4V0w4XHAMSFx42HUsPHxIeBxARNGQ7G0sUDFYSElYMFEsPFxgGEuCjCxYQFAoTBhIDEwEkBwcUBhwBEhUeHhX93BAbGg8aBg8OJB0qHg4aAw4XjRUYFwcGFQUPDi1FGzYMSg4XThUQSgwOGAQSFAAAAAABAEkAAAI6AwwAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMCpxQeHhT3PRhVPP6MFR4dFAFzExxp/skVHh4AAgB6AAACCQM2ABoAKgAANzQ2OwERIyImNDY7ATIWFREzMhYVFAYjISImEzU0NjsBMhYdARQGKwEiJnoeFWNjFR4eFZUUHmIVHh4V/tcVHmMeFTIUHh4UMhUeMxQeAW4dKh4eFf5gHhQVHh4CvCoVHR0VKhUeHgAAAgB6/ywCCQM2AB8ALwAAFzQ2MzIeAjsBMjY1ESMiJjQ2OwEyFhURFAYrASImJxM1NDY7ATIWHQEUBisBIiZ6HhUUGAkZFWIUH5UVHh4VxhUeWT5iOFYI+B4VMRUeHhUxFR5NFR4bHxsdFAIRHSoeHhX9vT5YSjUDLyoVHR0VKhUeHgAAAQBJAAACOwMMAB8AADcRNDYyFhURJTYzMhYVFA8BFxYVFAYjIiclBxUUBiImSR0qHgEIDhIVHhLL/RIdFRMP/vcwHiodMwKnFB4eFP5x4QweFRcPrtgPFxUeDOMqkhUeHgAAAAEAegAAAgkDDAAbAAA3NDY7AREjIiY1NDY7ATIWFREzMhYVFAYjISImeh4VYmIVHh4VlRQeYhUeHhX+1xUeMxQeAkIeFRQeHhT9ix4UFR4eAAAAAAEAQQAAAkICOAAuAAA3ETQ2MzIWFzYzMhc3NjMyFhcTFAYjIiYnAyYrAQcRFAYjIiY1ETQrAQcRFAYiJkEdFRAbBSktPSQWISovSAEPHRUUHgEOAg8GRB4UFR4WCEseKh0zAdIVHhQPIzASG0Iv/m8VHh0UAY8TOv6aFR4eFQGKFkH+oRUeHgABAEkAAAI6AjgAIAAANxE0NjIWHQE3NjsBMhYXExQGIyImNQMuASsBBxEUBiImSR0qHmAmKzk9VwIMHRUUHg0CGxRHox4qHTMB0hUeHhUiPRhVPP6MFR4dFAFzExxp/skVHh4AAgBJAAACOwI4ACYAQAAANzU0PgE3NjsBMh4FFxYdARQOBA8BBisBIi4EJyY3FB4CFxY7ATI+ATc2PQE0JisBIg4BBwYVSSAaHyk4fQ0YGA4YBxsBNQQOBxoFEREpOH0QHRQbCxsENGUMDRgEDxF9DhYeAhI8Gn0OFh4CEbXOIzwYGiQDCwUTBRcBLkTOEBsaDxoGDw4kBwcSCBgDK0cMFgwTAwwMHgEOF84aNgweAQ4XAAAAAgBJ/ywCOwJNACwASgAAFxE0NjIWHQE+CDsBMh4BFx4EHQEUDwEGKwEiLgEnFRQGIiYTFB4CFx4CFxY7ATI/ATY9ATQvASYrASIPAQYVSR0qHgITBhIKEg8TFQsVHTcbGQIwDB0KNVYpORUfNyAVHiodZQoKFQMHGBQJDhUVFAxXERFXDBQVFQ5aDqICvRQeHhQbAhQFEQYNBQcCGBUXAikPJiYXoUQuSiQYHBfYFR0dAZIMFQsSAwcZFAgODEoNGKEYDUsMDlsLFwAAAgBJ/ywCOwI4AC0ASAAANzU0Njc2NzY7ATIeBBc1NDYyFhURFAYiJj0BDgIrASIuBycmNxQeAhcWOwEyPwE2PQE0LwEmKwEiDgEHBhVJKicFAyk4SxAeEx4IHwIdKh4eKh0XHTYeSwsTEw4RChEGEwI0ZQwNGAQPEUsSDlYSElYMFEsOFxoEErXOMDsgBAIkBwcUBhwBEhUeHhX9WRUdHRXlFhcWAgYFCgYOBRECK0cMFgwTAwwMSg0YeBUQSgwNGgMQFgAAAAABAEkAAAI7AjgAHwAANxE0NjIWHQE3NjsBMhYdARQGIiY9ATQmKwEHERQGIiZJHSoedwsSYz1ZHiodHRRRph4qHTMB0hUeHhU7ZghZPRwVHR0VHBQdj/7vFR4eAAEASQAAAjoCOAA0AAA3NDYzMhYXHgE7ATI2NTQnJS4BNTQ3NjsBMhcWFRQGIyImKwEiBhUUFwUeAR0BDgErASInJkkcFRImCQIUBMsYGx3+6yIqJSY11kswCh4VEi0T1g0PEAEWJjUBWj+9ST4TXRUdHQMBCSAWIg14D0MnMyQmPw0RFR4rEgsSBngRTS4CP1k1EAABAEkAAAI7AuIAKgAAEjQ2OwE1NDYyFh0BMzIWFAYrAREUFjsBMj4CMzIWHQEOASsBIiY1ESMiSR0VMR0qHsUVHR0VxRwUZBQZCRkUFR4KVTdkPVgxFQHwKh53FR4eFXceKh3+wxQdGx8bHhUINEtZPQE9AAEASQAAAjsCOAAgAAATNDYzMhYVEx4BOwE3ETQ2MhYVERQGIiY9AQcGKwEiJidJHRUUHg0CGxRHpB0qHh4qHWEmKzk8WAICBRUeHRT+jRQbaAE4FR4eFf4uFR4eFSM+GFU7AAABAEkAAAI7AjgAGgAAEzU0NjIWHQEbATU0NjIWHQEUBwMGKwEiJwMmSR0qHpOVHSoeBacNIT8hDacEAbBVFR4eFUr+rQFTShUeHhVVCgr+gh4eAX4IAAAAAQA+AAACRQI4ACsAABM0NjMyFhcTFzc1NDYzMhYdARc3Ez4BMhYdAQMHDgErASIvAQcGKwEiJi8BPh4VFB0BCiBCHhUUHkIgCgEdKB8LMwUbETEdDzc4Dx0xERsFNAIEFR8dFP7dbHJyFB4eFHJybAEjFB0eFAL+yqoQFBlfXxkUELYAAQBJAAACOwI4ACMAADc0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiMiJkkKraEMHhUXEJWUEBcVHgyhrQseFRgPn6APGBUdMxMN0MIPERUeE7OzEx4VEQ/C0A4SFR4SwcESHgAAAQBJ/ywCOwI4ACMAABY0NjsBNyMiJwMmPQE0NjIWHQETMxM1NDYyFh0BFAcBBisBIkkdFWdDFSIMlQQdKh6DIIQeKh4F/vwNIogVtyoemR8BUwgMVRUeHhVK/tQBLEoVHh4VVQoK/a4eAAAAAQBJAAACOwI4ABwAADc1NDcBISImNDYzITIWHQEUBwEhMhYVFAYjISImSQ8BYP7bFR0dFQF1FR4Q/qEBPBUeHhX+cxUdMyoXDQFSHSoeHhUqFRD+rx4UFR4eAAABAEkAAAI7AwwAKgAAEjQ2OwEyNj0BNDY7ATIWFRQGKwEVFAcWHQEzMhYVFAYrASImPQE0JisBIkkdFWEWHT0olBUeHhWUJyeUFR4eFZQoPR4VYRUBcSoeHRW8KTweFBUevDksLDm8HhQVHjwpvBQfAAAAAAIBDwAAAXQDDAAIABEAACURMxEUBiMiJhkBNDYzMhYVEQEPZR4UFR4eFRQeMwEh/t8VHh4BmwEhFB4eFP7fAAABAEkAAAI7AwwAKgAANzQ2OwE1NDcmPQEjIiY1NDY7ATIWHQEUFjsBMhYUBisBIgYdARQGKwEiJkkdFZQnJ5QVHR0VlCk8HRViFR4eFWIVHTwplBUdMxQevDksLDm8HhUUHjwpvBQeHiodHxS8KTweAAAAAAEASQGqAjsDCwAmAAATNTQ2MzIWHQEUFjI2PQE0NjIWHQEUBiMiJyY9ATQmIgYdARQGIiZJXTw6WB0oHR0qHlw9PCssHSgcHiodAgVvQVZYPzQUHx8UbxUeHhVvQVUrLj00FB4eFG8VHR0AAAEAcQAAAmMDDAATAAAzETQ2MhYdATMRIREUBiImPQEjEXEdKh5hASweKh1iATEVHh4VzAKn/s8VHh4VzP1ZAAABAHEAAAJjAwwAFQAANxEhETQ2MhYVERQGIiY1ESERFAYiJnEBjR0qHh4qHf7YHiodMwGGASEUHh4U/VkVHh4VASH+3xUeHgABAHEAAAJjAwwAGAAAExE0NjIWFREhETQ2MhYVESMRFAYjIiY1EXEdKh4BKB0qHsceFBUeAVQBhhQeHhT+3wEhFB4eFP56/t8VHh4VASEAAAEBN/+bAZwEUgADAAAFETMRATdlZQS3+0kAAAABAFf/5wJ8AyUAAwAAFxEhEVcCJRkDPvzCAAAAAQDtAAAB5gD6AA8AADc1NDY7ATIWHQEUBisBIibtHRWVFR0dFZUVHTOUFR4eFZQVHh4AAAEAcQAAAmMDDAAeAAATNDcBNjIfARYdARQHBRUUBiImPQE0NyU1JwUGIyImcREBKg8kD2MSEv7oHiodEQEZMf73DxIVHQHbGA4A/wwMVQ8XVRcQ7+cVHh4V/hkO7yYq4wweAAABAQMBqAHRAwwAEwAAATQ2OwEyFhUUBhUDFAYiJjU0NjUBAyAVYxQiATMfKCEBAtoUHhoSAQQB/wAUHhoSAQQBAAAAAAEA1AAAAf8BZAAUAAATNTQ2OwEyFh0BFAYrASImPQEjIibUHRXHFR0dFTIVHWMVHQEHKhUeHhX+FR4eFaEeAAABAHEBVAJjAbkACwAAEjQ2MyEyFhQGIyEicR0VAY0VHh4V/nMVAXEqHh4qHQAAAAAAAA4ArgABAAAAAAAAAFYArgABAAAAAAABAAQBDwABAAAAAAACAAcBJAABAAAAAAADACEBcAABAAAAAAAEAAUBngABAAAAAAAFAAoBugABAAAAAAAGAAQBzwADAAEECQAAAKwAAAADAAEECQABAAgBBQADAAEECQACAA4BFAADAAEECQADAEIBLAADAAEECQAEAAoBkgADAAEECQAFABQBpAADAAEECQAGAAgBxQBNAGEAdAB0AGgAZQB3ACAAUwBrAGEAbABhACAAKAAyADAAMQAxAC0AMQAyACkAOwAgAGIAYQBzAGUAZAAgAG8AbgAgAGMAbwBkAGUAIABiAHkAIABSAGkAYwBoAGEAcgBkACAAQgAuACAAVwBhAGwAZQBzACAAKAAxADkAOAA4AC0AOAA5ACkAIABhAG4AZAAgAFQAbwByACAATABpAGwAbABxAHYAaQBzAHQAAE1hdHRoZXcgU2thbGEgKDIwMTEtMTIpOyBiYXNlZCBvbiBjb2RlIGJ5IFJpY2hhcmQgQi4gV2FsZXMgKDE5ODgtODkpIGFuZCBUb3IgTGlsbHF2aXN0AABPAEMAUgBBAABPQ1JBAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABGAG8AbgB0AEYAbwByAGcAZQAgADIALgAwACAAOgAgAE8AQwBSACAAQQAgADoAIAAyADcALQA5AC0AMgAwADEAMgAARm9udEZvcmdlIDIuMCA6IE9DUiBBIDogMjctOS0yMDEyAABPAEMAUgAgAEEAAE9DUiBBAABWAGUAcgBzAGkAbwBuACAAMgAgAABWZXJzaW9uIDIgAABPAEMAUgBBAABPQ1JBAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAbAAAAAEAAgADAAQABQAGAAcACAAJALcACwAMAA0ADgAPABAAEQASABMAFAAVABYAFwAYABkAGgAbABwAHQAeAB8AIAAhACIAIwAkACUAJgAnACgAKQAqACsALAAtAC4ALwAwADEAMgAzADQANQA2ADcAOAA5ADoAOwA8AD0APgA/AEAAQQBCALYARABFAEYARwBIAEkASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEBAgEDAQQBBQEGAQcBCAEJAQoBCwd1bmkyNDQwB3VuaTI0NDEHdW5pMjQ0MghTRjExMDAwMAtibGFja3NxdWFyZQpwZXJpb2QuYWx0DHF1ZXN0aW9uLmFsdA9xdW90ZXNpbmdsZS5hbHQJY29tbWEuYWx0Cmh5cGhlbi5hbHQAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQADAGsAAQAEAAAAAgAAAAEAAAAKAEQAogACREZMVAAObGF0bgAkAAQAAAAA//8ABgAAAAEAAgADAAQABQAEAAAAAP//AAYAAAABAAIAAwAEAAUABmFhbHQAJnNzMDEALHNzMDIAMnNzMDMAOHNzMDQAPnNzMDUARAAAAAEAAAAeAAEAAQAcAAEAAgAaAAEAAwAYAAEABAAWAAEABQAAAQAAAAEBAAABAgAAAQMAAAEEAAYADgAWAB4AJgAuADYAAwAAAAEAMAABAAAAAQBkAAEAAAABAGgAAQAAAAEAbAABAAAAAQBwAAEAAAABAHQAAQAuAAUAEAAWABwAIgAoAAIACgBpAAIADwBqAAIAEABrAAIAEQBnAAIAIgBoAAEABQAKAA8AEAARACIAAQAGAFYAAQABABEAAQAGAEYAAQABACIAAQAGAF8AAQABAAoAAQAGAFsAAQABAA8AAQAGAFsAAQABABAAAQAAAAoALAAuAAJERkxUAA5sYXRuABgABAAAAAD//wAAAAQAAAAA//8AAAAAAAAAAAABAAAAAMw9os8AAAAA1gbbzAAAAADaAyOv");ai.loadFont("OCR-B",96,100,"AAEAAAAPAIAAAwBwRkZUTXxHn14AADmUAAAAHEdERUYAkwAEAAA4IAAAACBHUE9TuP+4/gAAOWQAAAAwR1NVQnZYZVQAADhAAAABJE9TLzJa+GPlAAABeAAAAGBjbWFwzJGg2QAAA2QAAAFCZ2FzcP//AAMAADgYAAAACGdseWbm+CwyAAAFeAAALwRoZWFkFgqHXQAAAPwAAAA2aGhlYQeFAeAAAAE0AAAAJGhtdHgIFCYVAAAB2AAAAYpsb2NhZAZYlAAABKgAAADObWF4cACtAGkAAAFYAAAAIG5hbWWukZg3AAA0fAAAAnlwb3N0tfQXywAANvgAAAEdAAEAAAACAADO4NltXw889QALA+gAAAAA2gMiKgAAAADaAyIqAA7/GQLWAwsAAAAIAAIAAAAAAAAAAQAABFL+sABaAtMAAP/9AtYAAQAAAAAAAAAAAAAAAAAAAF8AAQAAAGYAZgAFAAAAAAACAAAAAQABAAAAQAAAAAAAAAACAsMBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFCQAAAAAAAAAAAK8AAABoAAAAAAAAAABQZkVkAEAAIAB+AyD/OABaBFIBUAAAAAEAAAAAAiAC+QAAACAAAQLTAAAAAAAAAtMAAALTAAAC0wD1AtMAdALTAEQCvwA/Ar8APwLTAEQC0wDnAtMA0wLTAIgC0wBEAtMARALTAHIC0wBEAtMAxALTAIACvwA/AskAXgK/AFACvwA/Ar8APwK/AFkCvwA/Ar8APwK/AD8CvwA/AtMA1gLTAG8C0wBBAtMARALTAEEC0wBgAtMARAK/AEUCvwA/Ar8AbwK/AHICvwBtAr8AoAK/AEcCvwBbAr8AeAK/AFACvwBNAr8AWwK/AD8CvwBNAr8AQgK/AFsCvwBBAr8AZwK/AGECvwA/Ar8ATQK/AD4CvwA/Ar8AUwK/AFYCvwBbAtMApQLTAIAC0wBVAtMARALTAEQC0wC2Ar8ATQK/AEoCvwB1Ar8APwK/AE0CvwBhAr8AQgK/AGoCyQCDAskAZwK/AHsCyQDLAr8APwK/AE0CvwA/Ar8ASgK/AD8CvwCaAr8AZwK/AE0CvwBNAr8AQgK/AEECvwBhAr8APwK/AGEC0wBEAQwARABSAnICBgG2AA4AAAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAAB+//8AAAAg////4wABAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALABiAMYBUAG6AkICYgKMArQC8gMaAzoDVgNwA5QEEgQ2BIgE2AUSBVYFngXSBjQGegaoBtwHDAcyB1oHxAhUCIQI2glACXgJrAnaCjQKYgqYCswLAgskC2QLlgvuDB4MgAzODUQNbA2eDcgOEg5ODoAOsg7WDvoPHA9ED2APgg/eECoQaBCyEPgRLBGUEdISAhJOEoASqBLyEygTVhOiE+gUIhSYFN4VGBVGFYYVvBXyFiAWbBaEFs4XDhcmF0QXaheCAAAAAgD1/7wBfQL9AA8AGwAAFzU0NjsBMhYdARQGKwEiJhMRNDYyFhURFAYiJvUbEi4SGxsSLhIbFxskGxomGhcuEhsbEi4SGxsBcgGHExobEv55EhsaAAAAAAIAdAHHAgkC/QASACMAABM1NDY7ATIXFhUwFQ8BDgEjIiYlNTQ2OwEyFxYdAQcOASMiJnQbEh0SDg4BHQIZEhEcASQbEhcRDg4ZBBYREhsB9NwSGw0MDwEC5BAXGxLcExoNDBAE5RAUGwAAAAIARP/4Ai4DAABEAEgAADc0NjsBNyMiJjQ2OwE3PgEzMhcWFQczNzYzMhYdAQcXHgEVFAYrAQczMhYUBisBBw4BIyImPQE3IwcOASMiJyY1NycuATczNyNEGhMVJicSGxoTOygDGRASDQ4liCgNHxIbIwUQFxsSFCUlExobEjopAxoPEhskhykDGRASDQ4mBRIXnoglh/4TGqcaJhqxDhUODhCosSMaEwqcAQMZERIbpxskG7YOFRsSCqK2DxQODRGsAQIaPqcAAwA///sCHwL9AEcAWABfAAA3JjU0NjMyFxYXFhczNScuAScuAjU0NzY/ATU0NjIWHQEXFhcxFhUUBiMiJyYvARUXFhcWFx4BFRQHBg8BFRQGIiY9ASMmJxMGFRQXFhcWFxYXHgIfATUTNzY1NC8BQQIbEhYVFwwYLQUEIS4cGyIWNjZSBBoiGgRpOAkbEhcOITUGBCwcHR8fHjc3UwQaIhoFlSi8YwMECAgFBgwMChwCB1YGZWQHoAUMExodIQYNBNwBChEPDyQ2IkwqKwoBCRMaGxIJAQ5SDA4SGhMsCwHFAQ4MDBYVPytNMDENAQYSGxoTBw1kAcoORQsKCggHBQUGBgUKAQKq/iABFEo8JAIAAAAABQA///gCHwMAAA0AHAAoADcARwAAJSIVFBcWHwEzMjc2NTQHJjU0NzYzMhcWFAcGIyIDIhUUFzsBMjc2NTQHJjU0NzYzMhcWFAcGIyICJjU0NwE2MzIWFRQHAQYjAaIhBQUOAQgRCQl6HyAfNzogICAgOjiuIxgBChEJB3wgISA6Nx8fHx83OycbBgGMDRQSGwb+exAYtTIPDxABAhAPEjKVKDg5KyspKXIqKQKuMikIEA8SMpUoODkrKykqcikp/hQbEw0JAq0MGxIMCv1dFwAAAAADAET/9wIuAwAAQgBOAFwAADc0PwEnJjU0NzYzMhcWFRQHDgEHDgIPARc3NjU0NjIWFRQPARcWFx4BFxYVFAYjIicmJyYnJicmJyYvAQcGKwEuATcUFzMyPwEnBwYHBhMUHwE3Njc2NTQnJiMiRF8EA0Q1NVhKNTQJChQYFxY+BASXBBUcJBs3AgICBwcHAwMbEgYFBgQDBAUCAQUGAQMEPlEGYnVafwYwKAShBRwPEBwwAwRMHiAcGyJozXJUAwRdVVQwMCgmRBsaGyMXGBMuAwPSCDRFExscEnxTAwIFCAgKCQgIEhsCAgEBBQUCAQcIAgICJwFyYnkCFwLhBB0bGwFXOEQEAzYlJx0eDgwAAAEA5wGIAY0C/QASAAATNDY7AR4BFTAVBwMGKwEiJyYn5xsSURAXARUIJCISDQ0BAtATGgIZDwEB/twlCwoRAAABANP/+AHpAwAAGQAAEzU2NzYzMhYVFAcGBwYHFRQXFhUUBiMiJybTA80LDhIbFE4sLQGoFBsSDgvQAXMG8I8IGhMXDjNKS20FvmsOGBMaB4wAAAABAIj/+AGfAwAAGAAANzQ3NjU0LwEmJyY1NDYzMhcWFRQHBiMiJogUqakBBwYGGxIOC9HRCw4SGyUYDm7AwnMBAgwMChIbCJDv7I4HGwAAAAEARACeAi4ChQAqAAATNDc2Mxc1NDYyFh0BNzE2MzIWFRQPARcWFRQGIyIvAQcGIyImNTQ/AScmRA4OEZsbJBuNBggSGyB6UAUaExQMV3AMFBMaCV6MHwG+Eg8OM54TGhsSni4DGxIgCymICwwTGguWlgsbEg0Ofy4MAAABAEQAagIuAo0AGwAAEjQ2OwE1NDYyFh0BMzIWFAYrARUUBiImPQEjIkQbEpsaJhqbEhsbEpsbJBubEgFpJhq3ExobErcbJBu4EhsaE7gAAAEAcv9NAeYAygASAAAXNDcTNjsBMhYdARQHAwYrASImcgWyDBVvEhsN/gwUHBMahgwKAS4MGhMfEwz++w0aAAABAEQBQQIuAbcADwAAEzU0NjMhMhYdARQGIyEiJkQaEwGQExoaE/5wExoBbhwTGhsSHBIbGgAAAAEAxP/7Aa0AtgAPAAA3NTQ2OwEyFh0BFAYrASImxBsSjxIbGxKPEhsoYRIbGhNhExobAAABAID/+AHyAwAAEwAANzQ3MwE+ATMyFhUUByMBDgEjIiaAAwEBGAQYDRIbAwH+6AQYDRIbJQoHAq4MEBsSCgf9UgwQGgAAAAACAD//+AIfAv8AJQBUAAAFIyYnLgEnJicmNTQ2Nz4BNz4CMzIeARceARceARUUDgUDFRQWFxYXHgE7ATI2Nz4BNz4BPQE0JicmJyYnJicmJyYnLgEjIg4CBw4BBw4BATMEOywsNA8QBQUDBgYVEhIySC4tSDITEhUGBgMEDRQmMEbFBQkIEBA4KBUcLA0OEgQFAwEBAQMDBQUICAsMDg8nGBknHhcICAoCAgMIARMSOy8vMC9AOVEvMEEhICYYGCYgIUIvL1I4KEFMOTYkFgGwUi1AJSUXGB8XFhUxHyA0Hy4fJRwdEBEXFw4ODw8ICQoLFB0SESkXFi8AAAABAF7/+wGMAv0AFQAAEiY1ND8BNjsBMhYVERQGIiY1EQcGI3gaDbcNECASGxskG4kNEQIJGxIVCp0LGxL9WBIbGhMCYXULAAABAFAABgILAwAANwAAEiY1NDc2MzIXFhUUBw4BBw4BBw4BBwYHBgcVITIWFAYjISImPQE0NzY3Njc2NzY1NCcmIyIHBiNrGxNbcVs9Pg0NISAgISMmIhgYCwsCASgTGhsS/qoSGwoRLy9EXhkcJSM0Wj4LDwJyGxEZDTw6OV0lIiMsGxsYFxkaGhkgHysFGyQbGxIVTiI8LzAuPyQkKDUhICwIAAEAP//4AhYC/AA3AAA3JjU0NjMyFxYzMjc2NzU0JyYnJiMiJjU0PwEhIiY0NjMhMhYdARQPARcWFxYdAQYHBiMiJyYnJlQVGxIGC0BGTDQ1BCAeLCs1ERoJuP7nEhsaEwFhEhsOoQhVNjUFUE5wHBwcIyMeEBgTGwQdJidKCjMkIw8OGxMSCswbJhobEiQQDrECFjs7WRBtQEADAwcIAAABAD//+wIfAv0AKAAANiY9ATQ3Ez4BMzIWFRQHAzM1NDYyFxYdATMyFhQGKwEVFAcGIiY9ASNaGwXVBBYMEhoFyMMaIg0OOhMaGxI6Dg0iGvWpGhMrCAsBzwsPGxIKCf5GeRIbDg0SeRskG4ESDQ4bEoEAAAIAWf/4AfcC/AAqAC0AABYmNDYzMjc2NTQnJiMiByMiJj0BEz4BMyEyFhQGKwEHMzIXFhUUBwYHBiMSIjN0GxsSyjsSIi1xHyAEEhsOAhkSARwTGhsS8ggTf01OFxgkYL4YAQEIGicacSIfSSU1AxkSAwD/EhgbJBydQUB+NS4vIVoBrQAAAAACAD//+AIfAv0AHwAvAAA3Jic1NDc2Nz4BNzYzMhYVFAcGDwE3NjMyFxYVFAcGIgMGFRQXFjMyNzY1NCcmIyKFQwNFHCgnNjILFBEaC3E1BwsdHm1BQkRE0AYoKilDQikrJyZJRzlBawx9ci80NT85DRsSEQ6ATQoCBkRFdGlCQgFkK0xEKCcoKENOKisAAAABAD//+wIfAvwAHwAAEiY0NjMhMhYVFAcGBwYHBhUUBiImNTQ3Njc2NzY/ASFaGxoTAYYTGjsSNDQWQRoiGkwXNDURGAkC/q8CoRsmGhsSTFkcQUIpeMETGxoU2o0pRUYaKBQHAAAAAAMAP//3Ah8DAAAVACQAQgAAEwYVFBYXHgEXOwE2NzY3PgE1NCcmIhMGFRQXFjsBMjc2NTQvAQMmNTQ/AScmNTQ3NjMyFxYVFAcGDwEXFhUUBgcjIuEmEhUUGxwCAhwODhQUEiYlUimXLSpAFDUmJ5ICrUWOBgZsQD9PTkBAHB0zBgaOdFIqZwKSFCYZJhAPEA4NCAgPECcZJhQU/s9PXjgfHyMjMF9OAv67Olx5YgQEQmtJLzAwMEg7KSghBARieU96BwACAD//+wIfAwAADwAtAAATBhUUFxYzMjc2NTQnJiMiAyY1NDc2MzIXFhUUBwYHBgcGIyImNDc2PwEHBiMixSwqKER3FQoqKUM/bURIRmJlRUYVFSZTeA0PERoOX0QFChogagJ1MENBKShJIShLLC3+tENlaEtLRkZyRzk5QpFvDBomDltuCgIEAAAAAAIA1v/7AZwCEAAPAB8AADc1NDY7ATIWHQEUBisBIiYRNTQ2OwEyFh0BFAYrASIm1hsSbBIbGxJsEhsbEmwSGxoTbBMaKFATGhsSUBIbGgF+UBMaGxJQEhsaAAAAAgBv/1IBswIQABIAIgAAFzQ/ATM2OwEyFhUUBwMGKwEiJhM1NDY7ATIWHQEUBisBIiZvA3wBCR9vEhsBzA4RKxIbexsSbBIbGhNsExqBDAf9GRsSDgP+9Q0aAidQExobElASGxoAAAABAEEARQIuArMAHQAAEy4BJyYnLgE1NDcBMDE2MzIWFRQHDQEWFRQGIyInTwEGAQECAQIOAZkLDhIbDf6hAV8NGxIOCwFcAQUBAgMECAcREAEPCBsSFwnq6g4SEhsIAAACAEQA3QIuAhsACwAXAAA2NDYzITIWFAYjISImNDYzITIWFAYjISJEGxIBkBIbGhP+cBMaGhMBkBMaGxL+cBL3JhobJBv+JhobJBsAAQBBAEUCLgKzABcAAAkBBiMiJjU0Ny0BJjU0NjMyFzAxARYVFAIg/mcLDhIbDQFf/qENGxIOCwGZDgFc/vEIGxISDurqCRcSGwj+8RAREgACAGD/vAH1AwEAOQBLAAATNTQ2NzYzMhcWHQEOAQcGBwYHBhUUBwYiJjU0NzY3Njc2NzY3NjU0JyMiJyYrAgYdARQHBiMiJyYTNTQ2OwEyFh0BFAcGKwEiJyZgPi8vNlA6OQEsHwcUFgkJDg0kGwoKCwwUFQgSEBFTAQUICgQDAW4NDRMSDQ2UGxIuEhsODRIuEg0OAjQMPFsVFTAwWAIxZCMIExQOCwsUDw8dFRoYFw4OFBUKEyIiG0IVAQIOUgkUDw4ODv3MMRUdHRUxFA8PDw8AAAIARP/yAi4DBABKAGUAADc1NDcyHwE3NjMyFxYVERY7ATY3Njc+AT0BNCYnLgEnJicmKwEGBw4BIyInJj0BNjc2NzMyFhcWFx4BHQEUBwYHBiMiLwEHBisBJjcUFxYXHgEXMzI3Njc9AiYnJiMiBwYHDgEVRIgvJwUCDhkSDQ4CHAETDQwEBQMDBQUXEBEbGyMJggsCGRETDQ0MPT9eCTpZGxsREQ0KCiMmNzYdAwQrPQiMWgEBBQQYEwYcEQ8NDRcXHBALCgMEAtIB7wIdAwUYDw8T/vk2AQwNFhUmHZgqPyYlNBcYDAwGVxIYDg8VB1ItLgMqIyM1NXBGfFsxMCInJgQDKAXWGw8QFBUVAREQHQGMARoTFAwMFhQiGAAAAAIARf/1AhoC9gAZABwAABYmPQETPgE7ATIWFxMUBwYjIiYvASMHDgEjEwMzYBufBBgOQg0XA6MODhIPGQMtyywDGQ+9T54LHRUOAp4OFREM/U0TDw8VD8PDDxUCov6qAAMAPwAGAh8C/QAhACsAOQAANiY1ETQ3NjsBMhcWFxYXHgEVFA8BFx4BHQEUBgcGBwYrARMVNzI9ASYnJiMDFRcyPQEmJyYnJicmI1obDQ0TpyQVFR4dFiwyOgQEIicnJCUvLz6nLXqyASspQZaWiAMODRgYGRkkBh0VApIWDw4BAgcIDRxiOVo4BAQeWDACMlkfHwsLAVr1AXwBPh0cATrVAWMLIRUWCwoDBAABAG//8gHwAwsARQAAEyYnNTQ2NzY3Njc2NzMyFxYXFRQHBiMiJyYnJicwMSYrAQYRFR4BFxYXFhceATMyNzY3PgEzMhcWHQEGBwYjIicmJyYnJnYGAQ0QERkYJyQvBTsuLQ0NDRITCQsICQsVHQWBAQQFBAoJDg4tHBwTFgQDGRASDQ0KLS09MiUoGBkREQD/NT8OQGw0MyUkFhYCJiY9ChQPDw0NFRYKEgf+6RIlOiMkGhoXFxoPDxoSFw8PFAo8JiYVFSQkMzMAAAACAHIABgIFAv4AFAAhAAA3JjURNDc2MzIXFhcWFRQHBgcGIyITJxE3Njc2NTQnJicmgA4NDRNmQ0M1RUhGayJLEkUGBmU5OyEgMysVDxUCkxQPDyssTmiFi19eFwcCkQH91AELQUB1UkFAKyQAAAAAAQBtAAYCEwL7ACIAADYmNRE0NzYzITIXFhQGIyEVMzIXFhQHBisBFSEyFxYUBiMhiBsNDRMBTBMNDRsS/uHvEg0ODQ0T7wEfEw0NGxL+tAYdFQKRFQ8ODg8qHdQPDykPDvUODyodAAABAKD/9QICAvoAHgAANyY1ETQ3NjMhMhcWFAYrARUzMhcWFAcGKwERFAcGIq4ODQ0TAQgTDQ0bEtuuEg0ODg0Srg4NJAQPFQKgFA8PDg8qHdQPDygPD/7KFQ8PAAEAR//xAg4DCAA+AAA3Jj0BNDc2NzYzMhcWFxYVFAYjIicmIyIHBgcGFRQXHgEzMj8BNSMiJyY0NjsBMhYVERQHDgEHDgEHBiMiJyZeFxcXLEZeExNYNwsbEhQOK0M+Kh8PEBwSTDUuMgNyEgwNGhGfEhsHCBIREhEQLC5sQivEV2MDYVNUME8DEEgOExQdETYxJD4+SWlYODoUAckODykdHRX+6Q4LDA4ICAYFDk0wAAAAAAEAW//1AgIDBAAdAAAWJjURNDc2MhYVETMRNDc2MhYVERQGIiY1ESMRFAZ2Gw4NJBvzDg0kGxskG/MbCx0VAqoVDw8dFv7lARsVDw8dFv1WFR0dFQEt/tMVHQAAAQB4AAYB5gL6ACMAADcmNDc2OwERIyInJjQ3NjsBMhcWFAcGKwERMzIXFhQHBiMhIoYODQ0TYEwSDQ4NDRPsEw0NDg0STGATDQ0ODRL+7BIVDykPDgIsDw8oDw8PDygPD/3UDg8pDw8AAAAAAQBQ//ABpQMHACMAADYmNTQzMhcWHQEGFRQXFjMyNzY1ETQ2MhYVERQXFBUUBiMiJ4Y2MBMMDQIcGiAeFRcbJBsBZ0EpJyBXN04ODxUKDAQpGhoYGS0CJBUdHRX95wMFBAJMchcAAAABAE3/9QIfAwcAHwAANyY1ETQ2MhYVEQE2MhYUBwMBFhUUBwYjIicBERQHBiJbDhskGwEUDiQbDvwBEw4ODRITDf7VDg0kBA8VAq0VHR0U/ucBOw8dKRD+3P6+ERIVDw8OAVv+yRQPDwAAAAABAFsACwIfAwcAEwAANyY1ETQ2MhYVESEyFxYUBwYjISJpDhskGwE9Ew0NDg0S/pYSGg8UApkUHR0U/ZkPDygPDwAAAAEAP//1Ah8DBAAoAAAWJjURNDY7ATIXFhcbAT4BOwEyFxYVERQGIiY1EQMGBwYjIiYnAxEUBlobGxJNDgwLBE1NAxgOTRINDhskG2wGCwoPDhcEbRsLHRUCqhYdCgsO/uUBGw4VDw8V/VYVHR0UAmv+cxAKChQPAY79lRQdAAAAAQBN//UCEQMIAB8AADcmNRE0NjsBMhYXExE0NjIWFREUBwYrASInAxEUBwYiWw4bEiUMFwXwGyQbDg0SJhwM7w4NJAQPFQKtFR0PDf3JAiMUHR0V/VMVDw8bAjf93xQPDwAAAAIAQv/yAhwDBwAeADkAADYmPQE0PgE3Njc2MzIXFhceAR0BFAYHBgcGIyInJicSBh0BFBYXFhcWMjc2Nz4BNTQmJyYnJiIHBgdkIhEmHRsoJy81LS4eHiEhHR4uLTY1LS4eLBESEREdHkgeHREREhERER0eSh8dEKuLRwM2bWcnJxcYIiE4OItJA0eLOjkjIyMjOQGdYSwELmItLx4fHx4vLWMtMWQtLR0dHh4vAAAAAgBb//UCHwL8ABUAHwAANyY1ETQ3NjsBMhcWFRQHBisBERQGIhMVMzI3NTQnJiNpDg0NE6hoQ0QmPYx7GyQ/e5AFKSdFBA8VAqEVDw85OWxRNVj+6BYdAqP1dAdEGxsAAgBB//UCHwMIACMAQwAANyY9ATQ3Njc2OwEyFxYXHgEVFA8BFxYVFAYjIi8BBwYjIicmEgYdARAzMj8BJyY1NDc2MzIfATc2NTQnJicmIyIHBgdfHh4ZMzFBCDYrKxsbHTACQwocEhYKOAQ1Oz03OTIMhSAeBGAKDQwRFwpRAxQPDyEiLiUbGw3DUYMDgk1BLy8fHzU1gUeMZAJfDxEUHg5SBC4uLwGzTS0D/tgZA4sPEBQPDw52CkFLRjs8KSkWFSUAAAIAZ//1AggC+AAkADEAABYmNRE0NzY7ARYXFhcWFxYHBgcGDwETFhUUBwYjIicDIxEUBwYTFTcyNzY3NjU0JyYjghsNDROfKiMkHx4REQEBICFCBYoFDg0SFgueWw4NG242GhoKCiUiOAsdFQKeFg8OAQoLFRUnJjRfOjobAv77ChEUDw8NAT7+6BUPDwKk9QIaGRwcLDAWFgAAAAEAYf/wAf0DBwBRAAA3Jic1NDYzMhYXFhcWMzI3NjU0JyYnLgEnLgInJicmJyYnJjU0NzY3MzIXFhcWFRQHBiInJicmJyYjIgcGFRQXFhcWFx4BFx4CFRQGBwYjIqU6ChsSERoCBiEfKTAlJAcHDg0WEw45IhoaDxAQDwgHPDxPBkcyNBECDQ0mCwwJCgobMC0jJBUTJBAjIyceHSEXZksSEkkiMk0IFB0YEi0YGCAcOxgUEw4OEQoIHxUQERARFxcdHCNSNTYCJydDCAQUDw4NDhUYChoZGSotGBgUCxITFxcWLUQpVXQOAwAAAQA///UCHwL4ABgAABMmNDc2MyEyFxYUBwYrAREUBwYiJjURIyJNDg0NEwGGEw0NDg0SmA0NIhqYEgKiDyoPDg8PKQ8P/ZQUDw8dFQJsAAABAE3/8gIRAwgAIAAANyY1ETQ2MhYVERQXFjMyNzY1ETQ2MhYVERQHBgcGIicmZRgbJBsyHzc+JCYbJBsYGCw1ojUscDY9AfMVHR0V/g1RJhcmJkEB8xUdHRX+Dj02NiAoKCAAAQA+//UCIAMGABgAADcDNDc2MzIWFxsBPgEzMhcWFQMOASsBIibjpQ4OEg8ZA5iXBhcPEg4OpwMYDkIOGhkCvBQODxUO/YACgA8UDw8T/UQPFRYAAQA///QCHwMFAC8AADcmAzU0NjIXFhcSHwE3NjsBMhcWHwE3NhM0NjMyFh0BAgMOAQcjIi8BBwYrASInJn4xDhskDQ0BCxgDPwsdEQ4LDAQ+AxkKHBIRHA4yAxkQBTQNPj8KIBsRDAwb9AHFAhQbDg8U/r+4GfUhCgsO6xjBATEUHR0TAv5G/wAOFgEw6/giCwsAAAEAU//1AgsDBgAlAAAWJj0BNDcTAyY1NDYzMhcbATYzMhcWFRQHAxMWFRQGIyInCwEGI24bBaCaBRsSFAyJgRMVEg0OBZqgBRsSFQ2NhxIWCx0VAQ8KAUYBMgwOFh0N/u0BBRsPDxUODP7O/roKDxUdDQEj/ukaAAEAVv/0AggC+QAeAAATJjU0NjMyFxsBMz4BMzIXFhUUBxUDERQGIiY1EQMwWwUbEhkPhIQBAxgMEg0OBakaIhqpArAIDxUdG/7rARULEA8PFA8IAf6l/tEUHR0UAS8BWwAAAAABAFsABgICAv4AHgAANyY1NDcBIyInJjQ3NjMhMhcWFRQHASEyFxYUBiMhImkOBQEL4BINDg0NEwEoEg0OBf73AQMTDQ0bEv6zEhUPFA4KAkkPDykPDw8QFA0K/bcPDyodAAAAAQCl//gCHQMAABUAADcRNDYzITIWFAYrAREzMhYUBiMhIialGxIBHhIbGhPx8RIbGxL+4hIbJQKuEhsbJBv9rBskGxsAAAAAAQCA//gB8gMAABQAABM0NjMyFhcBMDMWFRQGIyInATAjJoAbEgwZBAEYAQMbEh4L/ugBAwLTExoQDP1SBwoSGxwCrgcAAAAAAQBV//gBzQMAABUAADY0NjsBESMiJjQ2MyEyFhURFAYjISJVGxLx8RMaGxIBHhIbGxL+4hITJBsCVBskGxsS/VISGwABAEQBdAIuAvsAGAAAEzU0NxM2NzIXEzAxFhUUBiMiLwEHBiMiJkQHzg8QGAnNCBsSEw2pqAwTEhsBoQoOCwErCgEM/swLDhIbDbKyDRoAAAEARP8ZAi7/kAAPAAAXNDYzITIWHQEUBiMhIiY1RBsSAZASGxsS/nASG50TGhsSHRIbGhMAAAAAAQC2AgcBuQMAABIAAAEnJjU0PwE2MzIfAhYUBwYjIgFvqRALDw0XDgoDnwsLDRURAhGODRUQDRIQCQKmDh4NDwAAAAACAE3/7wH6AiAADQA/AAAlIhUUFxYXMzI/ATUjJgcmNTQ3Njc2NzY3PgE7AScmJyYjIgcGIyImNTQ3NjMyFxYVERQGIiY9AQcGIyIjJiMmAVixHRodCFZGAQUr7zQNDBkaHR0pKUQyBgEGGRo5PC4MEBMaEU9TWzU8GyQbCERPAgYFBD/3YCEVFQJ6ATAC1C9FKh8fExMMDQYGBAY/GRonCRoTFg06MjpY/sUSHBoTEwc9AQUAAAAAAgBK//ACHwMFAB4AMgAAFiY1ETQ2MhYdATc2MzIXHgEXFRQHBiMiJyYvARUUBjcVFhcWMzI3Nj0BJicmIyIHBg8BZRsbJBsIQkoYIE9fATo5aBEIRDsIGxsUKysxJSFAAiUlNxsdQCUBDRsTArcSGxoT+QY2CBV/XweBVVMBBzAGDhMa0gExJSUXLYgJQDIzDh9NAQAAAAABAHX/7gHwAhoAKgAANyY1NDc2MzIXFhcWFxUUBiMiJyYjIgcGFRQzMjc2Nz4BMzIWHQEGBwYjIuVwNTVjExQwIyMLGRMfDAw+JRg9bBIPMQsDGRASGg4yNDwwBz7NeElHAwYbGyoLExokIw0fgsoEDCsOFRsSCzckJQAAAgA///ECEwMFAB4AMQAANyY1NDc2NzYzMh8BNTQ2MhYVERQGIiYvAQcGIyInJhMGFRQXFjMyNzY3PQImJyYjImwtLy5RHBhKRggbJBsbJBoBAQc/TxocVUA/IiI9HB5MGRUpKTAoVEpvZkVEFwg1BvgSGxoT/UkUGhoRCgYxBhQBnCxuTzs8DiBQAYUBLyMjAAAAAAIATf/xAhECIAAkAC0AADcmNTQ3NjczMhcWFRQGIyEXFhcWMzI3Njc2MzIWFRQHBiMiJyYTByEnJicmIyJ2KT49ZgZoOjsbEv7EAQclJEMREh4UDBITGy0tPzMmTA8CAQQBCxwcPGNgSmhzTUwCR0dzEhwGSyssAwQVDRoTKxQVDRoBOgcGPBwdAAAAAQBh//MB/QMCACMAABImNDY7ATU0MzIWFAYjIgcGBwYdATMyFhQGKwETFAYiJjUDI3saGxJxzhIbGxIsICAJBHwSGxsSfAYaIhoFcQG7GyQbDt8bJBsPECINNw4bJBv+ZhIcGxMBmgACAEL/QgIGAhsANABJAAA3JjU0NzYzMhcWHwE3PgEzMhYVERUWHQEUBwYjIicmJyMmNTQ2MzIXFhcWMzI3Nj0BBwYjIhMGFRQXFjMyNjc2NzY/AT0BJicjIns5OjlmDwg/MgcBARsREhsBOzxhTjAwFQEDGxIUEBEKFkVbGAoIPlJfCCAfHjocMRISDAsPAStVDUJbR2t4S0sBBikGChEYGxP+UQEJDBdeNzcTEzEHCxMaFRgFCjgXLDsHNwF8L09CLC0UFBMQEBkCVgF3BgAAAQBq//MB9AMFACkAABYmNRE0NjIWHQE3NjMyFxYXFh0BFAYiJjURNCc0Jy4CIyIHBg8BERQGhRsbJBsIOUo4KioPChskGwEEBBAdFTEgHxoBGw0aFAK3ExobEvUHMSMjNyVb/RIcHBIBCxsRERUXGRMhHzMB/tQSHAAAAAIAg//zAZQDBQAQACAAABImNDY7ATIWFREUBiImNREjNiY9ATQ2OwEyFh0BFAYrAZ4bGhO0ExobJBuHeBsbEi0SGxsSLQGoGyQbGhP+SxMaGxIBiNUaEy4TGhoTLhMaAAIAZ/9JAZQDBAAPADQAAAAmPQE0NjsBMhYdARQGKwEDIj0BNDc2MzIXFjMyNzY3NjURIyImNDY7ATIWFREUBwYHBgcGASgbGxItEhsbEi10Xw4PFQQQEAoICD0UCmUSGxoTkhMaERMdHSciAnwaEy4TGhoTLhMa/M0uCREKCwECAQQtFkkBdBskGxsS/lJVJCUbGgYFAAAAAQB7//MCBQMFACEAABYmNRE0NjIWFREzNzM2MzIWFRQPARcWFRQGIyIvASMVFAaWGxskGwq7AQ0REhsOqssMGxIVC9kKGw0aFAK3ExobEv6Asg4cEhQNpOUOERIcDfTUEhsAAAEAy//5AfADBQAYAAA3JjUTNDYzMhYVAxQXFhcWMzIWFAYjIicm9CkGGhMSGwcQES8PQBIbGxJTMC48N28B9RMbGxP+Cj8iJAcCGyQbDQ4AAQA///MCHwIbADIAABYmNRE0NjMyHwE3NjMyHwE3NjMyFhURFAYiJjURJiMiBwYVERQGIiY1ESYjIgcGFREUBlobGxIXDgMEIig4JAMEKTQ2RxskGwIhHxUUGiIaAiAgFRQbDRsTAckTGxUEAxktBQUtTzX+ihIcGxMBbzEvLif+5BIcGxMBbzEwLib+5BIcAAAAAAEATf/zAhECGwAjAAAWJjURNDYyFh0BNzYzMhcWHQEUBiImNRE0JyYjIgcGBxURFAZoGxskGwhDWGUxMRskGxcXPzsoKBgbDRwSAckSGxoSFAc9Q0N3/RIcGxMA/08oKiopOwH+7xIcAAAAAAIAP//wAh8CIAAPABsAADcmNTQ3NjMyFxYVFAcGIyIDBhQXFjI3NjQnJiKAQUFAb2xCQkJBbW4BJycmkiYnJyeQPk96e09PT1B6eU9PAaA2pjU1NTWmNjYAAAAAAgBK/0gCHwIbABUAMwAANxcWMzI3NjU0JyYjIgciIzEGBwYHFQImNRE0NjIWHQE3NjMyFxYXFhUUBwYrASYvARUUBqQBPlQPFWohIUQDBAMDLyUlFUAaGyQbCD5LGSFWLS09PGkRRjoIGssBgAUdlVQ2NwEDJCMvAf4BGxICdRMbGhMLBzQIFkZHb3dNTQQxB7cTGgAAAAACAD//SAITAhsAHAAvAAA3JjU0NzYzMh8BNTQ2MhYVERQGIiY9AQcGIyInJhMGFRQXFjMyNzY3PQImJyYjIm0uryEZSz4IGyQbGiYaCD5OHBtTPT8jIzwZIEIjFygpMSNQRmvmLAg0BwsSGxsT/YsTGhsStgc0BxMBoCiBSzY4DR1VAX0BMiQlAAAAAAEAmv/zAg4CGwAnAAAWJjURNDYzMhYdATc2MzIWFxQGIiYnNCcjIicmIgcGKwEGBwYdARQGtRsbEhMaCDdPPE8BGyQaASMBAgQFBwcGAwE3ICIbDRwSAckSGxkTCwc0TTgTGxoSIggBAgIBCTg3QOUTGwAAAQBn//AB/QIgAFEAADcmNTQ2MzIXFhcWMzI3NjU0JyYnJicuAicuAScmJyYnJjU0NzY7ARYXFhcWFRQGIyImJyYnIyIHBgcGFRQXFhceARcWFxYXFhcWFRQHBgcjImwFGxITEhUJITIwIyYPDgwKFgs5GhkaGRISCQgHBzg4Uh02LC0MAhsSEBkDCEAZGxMUEhQ+Dx8gIhwdDxAREQcHOjxYCYVFCA8TGhUYBBESEyYTDg0EBQYDDwgJCQ8ODg8OFhUZTiUmAxsbLwkDEhsTDiIEAwIODxswEgQHCAsKCQwLEREWFx1SJygCAAABAE3/8wHjAqYAMQAAEiY0NjsBNzQ2MhYVBzMyFhQGKwEHFBUWFx4COwEyNzYzMhYVFAcGIyInJicmPQE3I2gbGxJSARkkGAKWEhsbEpcDAQMEDRsUAhAcGw0SGyMlNCofLxQUA1ABshslG2wUGRsSbBwkHO0aDQwTExENCgobEiAQEQwTLi9MDOsAAAEATf/wAhECGAAoAAA3Jj0BNDYzMhYdARQXFhczMjc2NzERNDYyFhURFAYiJj0BBwYrASYnJlcKGxESHBUVQwU7KCYVGyQbGyQbCEFYBEgwMYEmS/gSHBwS6lwrLQIsKz8BChMbHBL+NxIcGhMSBzsBJyYAAQBC//MCHAIYAB0AABMmNTQ2MzIXEzMTMDU+ATMyFhUUBzEDDgErASImJ0UDGxIfC5EKkQMZDhIbA54DGQ1GDhcEAdsGCRMbH/5eAaIBDBIcEgkG/jYMEhENAAABAEH/8wIeAhgAKAAANwM0NzYzMhYXEzc+ATsBMh8BEz4BMzIXFh0BAw4BKwEiLwEHBisBIiZ4Nw4OEhEZAiorAxcPLCAKKikDGRESDg44AhkRMCAJMTELHTERGhsBzxMNDhcR/qSWDRMglgFcEBgNDRAE/jEQGB+wryAYAAAAAAEAYf/zAf0CGAAjAAAWJjU0PwEnJjU0NjMyHwE3NjMyFhUUDwEXFhUUBiMiLwEHBiN8GwiMgQcbEhcJdXUNExIbB4KMCRsSGAmAgQwUDRwSDg3OxgwOExsMtbUMHBIODMbODg0SHAy/vwwAAAEAP/9JAh8CGAAjAAAWJjU0NjsBMj8BAyY1NDYzMhcbATYzMhYVFAcBMDEGBwYjIidTFBsSEBYHa78GGxITDaicDhQSGwX+zQ0dHSMNDrEZEBMaEMsBVAkNExsM/tcBKQwbEw0K/bccEhMDAAEAYQAEAgUCBwAcAAA2Jj0BNDcBIyImNDYzITIWHQEUBxUBITIWFAYjIXsaDAEU6hIbGhMBKhMaDf7zAQQSGxoT/rYEGxIjDw4BPBomGhoTKBEMAf7KGyQbAAAAAQBE//gCLgMAADQAABI0NjMyNzY9ATQ3Njc2MzIWFAYrASIHBgcGFRQPARcWFRQXFhcWMzIWFAYjIicmNTQnJiMiRBsSVhcRJiE0NmESGxoTIjUdHxEUMQUEMgcIGhd4EhsbEpAtVRYYUBMBaCYbGxQ9CmM1Lg0OGyQbBgYYGkl7JQMFMWE3Hh8RDhskGxsznzsXGAAAAAABAQz/ZAFmAwAACwAABRE0NjIWFREUBiImAQwbJBsaJhpvA0ITGhsS/L4SGxoAAAABAET/+AIuAwAAMwAANjQ2OwEyNzY3NjU0PwEnJjU0JyYnJiMiJjQ2MzIXFhcWFRQXFjsBMhYUBiMiBhUUBwYjIkQbEiE9HyIOCjIEBTENDScVYRMaGxJhNjQhJRIXUgQSGxsSUC9UK5ISEiYaCQkgGUhhMQUDJXs1HyELBxomGg4NLjNlRhUbHCQaLzufMxsAAAAAAQBSAhwCIALNACsAABM1Njc2MzIzFjMWFxYzMjc+ATMyFhUUBxUOASMiIyYjJicmIyIHMQ4BIyImUgonJzACBQQDLj4rICAIAxoPEhsCCkwwAgUEAy4+KiAgCQMZEBIbAlUKMB8fAQUvIicPFRsSAwUBMD8BBDAhJg8VGwAAAAABAnIB9QLWAq8ACwAAATU0NjIWHQEUBiImAnIeKB4eKB4CJ1YVHR4UVhQeHQAAAAABAgYB9QKgAq8ADwAAATQ2MzIfARYVFAYjIi8BJgIGHhQbCTwIHhQTET0HAn0VHQ5fDQ4UHg9eCwAAAAACAbYCVALWAwIACwAXAAABNTQ2MhYdARQGIiY3NTQ2MhYdARQGIiYBth4oHh0qHbweKB4dKh0ChkoVHR4UShQeHRVKFB4eFEoUHh4AAQAO/4cAcgK1AAsAABcRNDYyFhURFAYiJg4eKB4dKh1HAsoUHh4U/TYUHh4AAAAAAAAOAK4AAQAAAAAAAABDAIgAAQAAAAAAAQAEANYAAQAAAAAAAgAHAOsAAQAAAAAAAwApAUcAAQAAAAAABAANAY0AAQAAAAAABQAKAbEAAQAAAAAABgAEAcYAAwABBAkAAACGAAAAAwABBAkAAQAIAMwAAwABBAkAAgAOANsAAwABBAkAAwBSAPMAAwABBAkABAAaAXEAAwABBAkABQAUAZsAAwABBAkABgAIAbwATQBhAHQAdABoAGUAdwAgAFMAawBhAGwAYQAgACgAMgAwADEAMQApADsAIABiAGEAcwBlAGQAIABvAG4AIABjAG8AZABlACAAYgB5ACAATgBvAHIAYgBlAHIAdAAgAFMAYwBoAHcAYQByAHoAIAAoADEAOQA4ADYALAAgADIAMAAxADEAKQAATWF0dGhldyBTa2FsYSAoMjAxMSk7IGJhc2VkIG9uIGNvZGUgYnkgTm9yYmVydCBTY2h3YXJ6ICgxOTg2LCAyMDExKQAATwBDAFIAQgAAT0NSQgAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABPAEMAUgAgAEIAIABSAGUAZwB1AGwAYQByACAAOgAgADIANwAtADkALQAyADAAMQAyAABGb250Rm9yZ2UgMi4wIDogT0NSIEIgUmVndWxhciA6IDI3LTktMjAxMgAATwBDAFIAIABCACAAUgBlAGcAdQBsAGEAcgAAT0NSIEIgUmVndWxhcgAAVgBlAHIAcwBpAG8AbgAgADIAIAAAVmVyc2lvbiAyIAAATwBDAFIAQgAAT0NSQgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAAAAQACAAMABAAFAAYABwAIAAkAtwALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAtgBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQECAQMBBAEFD3F1b3Rlc2luZ2xlLmFsdAlncmF2ZS5hbHQMcXVvdGVkYmwuYWx0B2Jhci5hbHQAAAAAAAAB//8AAgABAAAADgAAABgAAAAAAAIAAQABAGUAAQAEAAAAAgAAAAEAAAAKAEAAjgACREZMVAAObGF0bgAiAAQAAAAA//8ABQAAAAEAAgADAAQABAAAAAD//wAFAAAAAQACAAMABAAFYWFsdAAgc3MwMQAmc3MwMgAsc3MwMwAyc3MwNAA4AAAAAQAAABgAAQABABYAAQACABQAAQADABIAAQAEAAABAAAAAQEAAAECAAABAwAFAAwAFAAcACQALAADAAAAAQAoAAEAAAABAFIAAQAAAAEAVgABAAAAAQBaAAEAAAABAF4AAQAmAAQADgAUABoAIAACAAUAZAACAAoAYgACAEMAYwACAF8AZQABAAQABQAKAEMAXwABAAYAIAABAAEAQwABAAYAXwABAAEABQABAAYAWAABAAEACgABAAYABgABAAEAXwABAAAACgAsAC4AAkRGTFQADmxhdG4AGAAEAAAAAP//AAAABAAAAAD//wAAAAAAAAAAAAEAAAAAzD2izwAAAADWBtqRAAAAANoDIf0=");const uM={toCanvas:rM,toSVG:sM,render:iM,raw:oM,drawingCanvas:m0,drawingSVG:zw,fixupOptions:Pw,loadFont:cM,FontLib:ai,BWIPJS_VERSION:tM,BWIPP_VERSION:eM};function fM({value:a,format:n="code128",width:i=2,height:o=50,showText:d=!0}){const u=ie.useRef(null),[f,h]=ie.useState(null),[p,m]=ie.useState(!1);ie.useEffect(()=>{if(!(!a||!u.current))try{const w={code128:"code128",code39:"code39",ean13:"ean13",ean8:"ean8",upca:"upca",upce:"upce",qrcode:"qrcode",datamatrix:"datamatrix"}[n.toLowerCase()]||"code128";uM.toCanvas(u.current,{bcid:w,text:a,scale:3,height:o/3,includetext:d,textxalign:"center",textsize:10,textfont:"Helvetica",paddingwidth:10,paddingheight:10,backgroundcolor:"ffffff"}),h(null)}catch(y){console.error("Barcode generation error:",y),h("Gagal generate barcode: "+y.message)}},[a,n,i,o,d]);const x=()=>{if(!u.current)return;const y=document.createElement("a");y.download=`barcode-${a}.png`,y.href=u.current.toDataURL("image/png"),y.click()},b=async()=>{try{await navigator.clipboard.writeText(a),m(!0),setTimeout(()=>m(!1),2e3)}catch(y){console.error("Copy error:",y)}};return a?f?l.jsx("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 text-center text-sm",children:f}):l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:l.jsx("canvas",{ref:u})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:b,className:"btn btn-sm btn-outline flex items-center gap-1",children:[p?l.jsx(T1,{size:16,className:"text-green-600"}):l.jsx(HD,{size:16}),p?"Copied!":"Copy"]}),l.jsxs("button",{onClick:x,className:"btn btn-sm btn-primary flex items-center gap-1",children:[l.jsx(Zo,{size:16}),"Download"]})]})]}):l.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center text-gray-500",children:"Masukkan kode untuk generate barcode"})}const hM=window.location.hostname!=="localhost",pM=hM?"":"http://localhost:3001";async function mM(a,n){const i=localStorage.getItem("shopee_partner_id"),o=localStorage.getItem("shopee_partner_key"),d=localStorage.getItem("shopee_shop_id"),u=localStorage.getItem("shopee_access_token");if(!i||!o||!d||!u)return{success:!1,error:"Shopee not configured"};if(!a.shopeeItemId)return{success:!1,error:"Product not from Shopee"};try{return await(await fetch(`${pM}/api/shopee/update-product`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partner_id:i,partner_key:o,shop_id:d,access_token:u,item_id:a.shopeeItemId,model_id:a.shopeeModelId||null,price:n.price,stock:n.stock,sku:n.sku,action:"update_all"})})).json()}catch(f){return{success:!1,error:f.message}}}const Wl=()=>`SJA${Math.floor(1e5+Math.random()*9e5)}`,Jl=()=>Math.floor(1e8+Math.random()*9e8).toString();function xM(){const[a,n]=ie.useState(""),[i,o]=ie.useState("all"),[d,u]=ie.useState("all"),[f,h]=ie.useState(!1),[p,m]=ie.useState(null),[x,b]=ie.useState(!1),[y,w]=ie.useState(!1),[v,A]=ie.useState(!1),[k,E]=ie.useState(!1),[j,N]=ie.useState(null),[B,I]=ie.useState({}),[D,T]=ie.useState(!1),[R,$]=ie.useState([]),[F,_]=ie.useState(!1),{products:Q,categories:H,addProduct:J,updateProduct:K,deleteProduct:he}=zs(),{user:G}=Di(),L=()=>{const te=`nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
Contoh Produk,SKU001,123456789,Makanan,pcs,15000,10000,100,10,Deskripsi produk
`,oe=new Blob([te],{type:"text/csv;charset=utf-8;"}),Re=document.createElement("a");Re.href=URL.createObjectURL(oe),Re.download="template-import-produk.csv",Re.click()},ce=te=>{const oe=te.target.files[0];if(!oe)return;const Re=new FileReader;Re.onload=ze=>{try{const Qe=ze.target.result.split(`
`).filter(mt=>mt.trim()),qe=Qe[0].split(",").map(mt=>mt.trim().toLowerCase()),ut=[];for(let mt=1;mt<Qe.length;mt++){const lt=Qe[mt].split(",").map(vt=>vt.trim());if(lt.length>=2){const vt={name:lt[qe.indexOf("nama")]||lt[0],sku:lt[qe.indexOf("sku")]||Wl(),barcode:lt[qe.indexOf("barcode")]||Jl(),category:lt[qe.indexOf("kategori")]||"Lainnya",unit:lt[qe.indexOf("satuan")]||"pcs",price:parseFloat(lt[qe.indexOf("harga_jual")])||0,cost:parseFloat(lt[qe.indexOf("harga_beli")])||0,stock:parseInt(lt[qe.indexOf("stok")])||0,minStock:parseInt(lt[qe.indexOf("stok_minimum")])||5,description:lt[qe.indexOf("deskripsi")]||""};ut.push(vt)}}$(ut),T(!0)}catch(Je){alert("Format file tidak valid: "+Je.message)}},Re.readAsText(oe),te.target.value=""},fe=async()=>{_(!0);let te=0;try{for(const oe of R)await J({...oe,code:`PRD${String(Q.length+te+1).padStart(3,"0")}`,source:"local"},G==null?void 0:G.id,G==null?void 0:G.name),te++;alert(`Berhasil import ${te} produk!`),T(!1),$([])}catch(oe){alert("Gagal import: "+oe.message)}finally{_(!1)}},U=()=>{let te=`kode,nama,sku,barcode,kategori,satuan,harga_jual,harga_beli,stok,stok_minimum,deskripsi
`;Q.forEach(ze=>{te+=`${ze.code||""},${ze.name||""},${ze.sku||""},${ze.barcode||""},${ze.category||""},${ze.unit||""},${ze.price||0},${ze.cost||0},${ze.stock||0},${ze.minStock||0},"${(ze.description||"").replace(/"/g,'""')}"
`});const oe=new Blob([te],{type:"text/csv;charset=utf-8;"}),Re=document.createElement("a");Re.href=URL.createObjectURL(oe),Re.download=`produk-export-${new Date().toISOString().split("T")[0]}.csv`,Re.click()},ee=te=>{A(!1),n(te);const oe=Q.find(Re=>Re.barcode===te);oe?alert(`Produk ditemukan: ${oe.name}`):confirm(`Barcode ${te} tidak ditemukan. Buat produk baru?`)&&(m(null),h(!0))},se=te=>{N(te),E(!0)},ke=Q.filter(te=>{const oe=te.name.toLowerCase().includes(a.toLowerCase())||te.sku&&te.sku.toLowerCase().includes(a.toLowerCase())||te.code&&te.code.toLowerCase().includes(a.toLowerCase()),Re=i==="all"||te.category===i;let ze=d==="all";return d==="local"?ze=!["shopee","lazada","tokopedia","tiktok"].includes(te.source):d==="marketplace"?ze=["shopee","lazada","tokopedia","tiktok"].includes(te.source):d==="shopee"?ze=te.source==="shopee":d==="lazada"?ze=te.source==="lazada":d==="tokopedia"?ze=te.source==="tokopedia":d==="tiktok"&&(ze=te.source==="tiktok"),oe&&Re&&ze}).reduce((te,oe)=>{const Re=oe.parentItemId||oe.parentName||oe.id;return te[Re]||(te[Re]={parent:null,variants:[]}),oe.isVariant&&(oe.parentItemId||oe.parentName)?(te[Re].variants.push(oe),te[Re].parent||(te[Re].parent={id:Re,name:oe.parentName||oe.name.split(" - ")[0],image:oe.image,category:oe.category,source:oe.source,shopeeItemId:oe.parentItemId||oe.shopeeItemId})):te[Re].parent=oe,te},{}),ae=Object.entries(ke).map(([te,oe])=>{if(oe.variants.length>0){const ze=oe.variants.reduce((qe,ut)=>qe+(ut.stock||0),0),Je=Math.min(...oe.variants.map(qe=>qe.price||0)),Qe=Math.max(...oe.variants.map(qe=>qe.price||0));return{...oe.parent,isGrouped:!0,variantCount:oe.variants.length,variants:oe.variants,totalStock:ze,priceRange:Je===Qe?Je:{min:Je,max:Qe}}}return{...oe.parent,isGrouped:!1,variants:[]}}),De=te=>{I(oe=>({...oe,[te]:!oe[te]}))},we=Q.filter(te=>te.source==="shopee").length,Ae=Q.filter(te=>te.source==="lazada").length,Le=Q.filter(te=>te.source==="tokopedia").length,xe=Q.filter(te=>te.source==="tiktok").length,Oe=we+Ae+Le+xe,Te=Q.filter(te=>!["shopee","lazada","tokopedia","tiktok"].includes(te.source)).length,Pe=te=>{p?(K(p.id,te),h(!1),m(null)):J(te)},Ue=te=>{m(te),h(!0)},Ze=te=>{confirm("Hapus produk ini?")&&he(te)};return l.jsxs("div",{className:"p-6 space-y-6",children:[v&&P1&&l.jsx(kT,{onScan:ee,onClose:()=>A(!1)}),k&&j&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Barcode Produk"}),l.jsx("button",{onClick:()=>E(!1),className:"text-gray-500",children:l.jsx(Js,{size:24})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("p",{className:"font-medium",children:j.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",j.sku]})]}),l.jsx(fM,{value:j.barcode||j.sku,format:"code128"})]})}),D&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Preview Import"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:[R.length," produk akan diimport"]})]}),l.jsx("button",{onClick:()=>T(!1),className:"text-gray-500",children:l.jsx(Js,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"#"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Nama"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Harga"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500",children:"Stok"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map((te,oe)=>{var Re;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:oe+1}),l.jsx("td",{className:"px-3 py-2 text-sm font-medium",children:te.name}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:te.sku}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:te.category}),l.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["Rp ",(Re=te.price)==null?void 0:Re.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-2 text-sm text-right",children:te.stock})]},oe)})})]})}),l.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[l.jsx("button",{onClick:()=>T(!1),className:"btn btn-secondary flex-1",children:"Batal"}),l.jsx("button",{onClick:fe,disabled:F,className:"btn btn-success flex-1 disabled:opacity-50",children:F?"Memproses...":`Import ${R.length} Produk`})]})]})}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Master Produk"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Database produk lokal & Marketplace (tersimpan di perangkat)"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("button",{onClick:U,className:"btn btn-outline flex items-center gap-1",title:"Export ke CSV",children:[l.jsx(Zo,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Export"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",id:"csv-import",accept:".csv",onChange:ce,className:"hidden"}),l.jsxs("label",{htmlFor:"csv-import",className:"btn btn-outline flex items-center gap-1 cursor-pointer",title:"Import dari CSV",children:[l.jsx(au,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Import"})]})]}),l.jsx("button",{onClick:L,className:"btn btn-outline flex items-center gap-1",title:"Download Template CSV",children:l.jsx(qD,{size:18})})]}),P1&&l.jsxs("button",{onClick:()=>A(!0),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(zD,{size:20}),"Scan"]}),l.jsxs("button",{onClick:()=>{m(null),h(!0)},className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Us,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Tambah"})," Produk"]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a,onChange:te=>n(te.target.value),placeholder:"Cari produk (SKU, nama, barcode)...",className:"w-full pl-10 input"})]}),l.jsxs("select",{value:i,onChange:te=>o(te.target.value),className:"input w-full md:w-48",children:[l.jsx("option",{value:"all",children:"Semua Kategori"}),H.map(te=>l.jsx("option",{value:te,children:te},te))]}),l.jsxs("select",{value:d,onChange:te=>u(te.target.value),className:"input w-full md:w-52",children:[l.jsxs("option",{value:"all",children:["Semua (",Q.length,")"]}),l.jsxs("option",{value:"local",children:["Lokal (",Te,")"]}),l.jsxs("option",{value:"marketplace",children:["Marketplace (",Oe,")"]}),we>0&&l.jsxs("option",{value:"shopee",children:[" Shopee (",we,")"]}),Ae>0&&l.jsxs("option",{value:"lazada",children:[" Lazada (",Ae,")"]}),Le>0&&l.jsxs("option",{value:"tokopedia",children:[" Tokopedia (",Le,")"]}),xe>0&&l.jsxs("option",{value:"tiktok",children:[" TikTok (",xe,")"]})]})]})}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-14",children:"Foto"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-24",children:"SKU"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-20",children:"Kategori"}),l.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase w-16",children:"Tipe"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Modal"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-28",children:"Harga"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-24",children:"Margin"}),l.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-16",children:"Stok"}),l.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Status"}),l.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-16",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.map(te=>l.jsxs(l.Fragment,{children:[l.jsxs("tr",{className:`hover:bg-gray-50 ${te.isGrouped?"cursor-pointer":""}`,children:[l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[te.isGrouped&&l.jsx("button",{onClick:()=>De(te.id),className:"text-gray-500 hover:text-gray-700",children:B[te.id]?l.jsx(dw,{size:16}):l.jsx(Om,{size:16})}),l.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:[te.image?l.jsx("img",{src:te.image,alt:te.name,className:"w-full h-full object-cover",onError:oe=>{oe.target.style.display="none",oe.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${te.image?"hidden":"flex"}`,children:l.jsx(ru,{size:16})})]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-600 truncate max-w-[96px]",title:te.sku||te.code,children:te.isGrouped?l.jsxs("span",{className:"text-gray-400 italic text-xs",children:[te.variantCount," varian"]}):l.jsx("span",{className:"truncate block",children:te.sku||(te.source==="shopee"?"-":te.code)})}),l.jsx("td",{className:"px-2 py-2",onClick:()=>te.isGrouped&&De(te.id),children:l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:te.name}),te.source==="shopee"&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(g1,{size:10}),"Shopee"]}),te.isGrouped&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:[te.variantCount," Varian"]}),!te.isGrouped&&l.jsxs("button",{onClick:oe=>{oe.stopPropagation(),Ue(te)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Produk",children:[l.jsx(Vo,{size:12}),"Edit"]})]})})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge badge-info text-xs",children:te.category})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:`badge text-xs ${te.isPackage?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:te.isPackage?"Paket":"Satuan"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600",children:te.isGrouped?"-":`Rp ${(te.costPrice||te.cost||0).toLocaleString("id-ID")}`}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold",children:te.isGrouped?typeof te.priceRange=="object"?l.jsxs("span",{className:"text-sm",children:["Rp ",te.priceRange.min.toLocaleString("id-ID")," - ",te.priceRange.max.toLocaleString("id-ID")]}):`Rp ${(te.priceRange||0).toLocaleString("id-ID")}`:`Rp ${(te.price||0).toLocaleString("id-ID")}`}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:te.isGrouped?l.jsx("span",{className:"text-gray-400",children:"-"}):l.jsxs("div",{children:[l.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",((te.price||0)-(te.costPrice||te.cost||0)).toLocaleString("id-ID")]}),(te.costPrice||te.cost)>0&&l.jsxs("p",{className:"text-xs text-gray-500",children:[(((te.price||0)-(te.costPrice||te.cost))/(te.costPrice||te.cost)*100).toFixed(1),"%"]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:l.jsx("span",{className:`font-semibold text-xs ${(te.isGrouped?te.totalStock:te.stock)<=(te.minStock||5)?"text-red-600":(te.isGrouped?te.totalStock:te.stock)<=(te.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:te.isGrouped?te.totalStock:te.stock||0})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:(te.isGrouped?te.totalStock:te.stock)<=(te.minStock||5)?l.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):l.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[te.barcode&&!te.isGrouped&&l.jsx("button",{onClick:()=>se(te),className:"text-purple-600 hover:text-purple-700 p-1",title:"Lihat Barcode",children:l.jsx(sT,{size:14})}),!te.isGrouped&&l.jsx("button",{onClick:()=>Ue(te),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Produk",children:l.jsx(Vo,{size:14})}),te.source!=="shopee"&&!te.isGrouped&&l.jsx("button",{onClick:()=>Ze(te.id),className:"text-red-600 hover:text-red-700 p-1",title:"Hapus Produk",children:l.jsx(Un,{size:14})}),te.source==="shopee"&&l.jsx("a",{href:`https://shopee.co.id/product/${te.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 p-1",title:"Lihat di Shopee",children:l.jsx(V0,{size:14})})]})})]},te.id),te.isGrouped&&B[te.id]&&te.variants.map(oe=>l.jsxs("tr",{className:"bg-gray-50/50 hover:bg-gray-100",children:[l.jsx("td",{className:"px-2 py-2 pl-8",children:l.jsxs("div",{className:"w-8 h-8 rounded overflow-hidden bg-gray-100 flex items-center justify-center",children:[oe.image?l.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-full object-cover",onError:Re=>{Re.target.style.display="none",Re.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full items-center justify-center text-gray-400 ${oe.image?"hidden":"flex"}`,children:l.jsx(ru,{size:12})})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap font-mono text-xs text-gray-500 truncate max-w-[96px]",title:oe.sku,children:oe.sku||"-"}),l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-400 text-xs",children:""}),l.jsx("p",{className:"text-xs text-gray-700",children:oe.variantName||oe.name}),l.jsxs("button",{onClick:()=>Ue(oe),className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded",title:"Edit Varian",children:[l.jsx(Vo,{size:10}),"Edit"]})]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge badge-info text-xs",children:oe.category})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:l.jsx("span",{className:"badge bg-gray-100 text-gray-600 text-xs",children:"Varian"})}),l.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right text-gray-600 text-xs",children:["Rp ",(oe.costPrice||oe.cost||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-2 py-2 whitespace-nowrap text-right font-semibold text-xs",children:["Rp ",(oe.price||0).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("span",{className:"font-semibold text-green-600 text-xs",children:["Rp ",((oe.price||0)-(oe.costPrice||oe.cost||0)).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:l.jsx("span",{className:`font-semibold text-xs ${oe.stock<=(oe.minStock||5)?"text-red-600":oe.stock<=(oe.minStock||5)*2?"text-orange-600":"text-green-600"}`,children:oe.stock||0})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:oe.stock<=(oe.minStock||5)?l.jsx("span",{className:"badge badge-danger text-xs",children:"Rendah"}):l.jsx("span",{className:"badge badge-success text-xs",children:"OK"})}),l.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[l.jsx("button",{onClick:()=>Ue(oe),className:"text-blue-500 hover:text-blue-600 p-1",title:"Edit Varian",children:l.jsx(Vo,{size:14})}),oe.source==="shopee"&&l.jsx("a",{href:`https://shopee.co.id/product/${oe.shopeeItemId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 p-1",title:"Lihat di Shopee",children:l.jsx(V0,{size:14})})]})})]},oe.id))]}))})]})})}),f&&l.jsx(vM,{product:p,categories:H,onClose:()=>{h(!1),m(null)},onSubmit:Pe,onManageCategories:()=>b(!0),onManageUnits:()=>w(!0)}),x&&l.jsx(gM,{categories:H,onClose:()=>b(!1)}),y&&l.jsx(bM,{onClose:()=>w(!1)})]})}function vM({product:a,categories:n,onClose:i,onSubmit:o,onManageCategories:d,onManageUnits:u}){const{products:f,units:h}=zs(),[p,m]=ie.useState(!1),[x,b]=ie.useState(!1),[y,w]=ie.useState(null),[v,A]=ie.useState(a||{sku:Wl(),name:"",category:n[0],costPrice:"",price:"",stock:"",minStock:"",unit:"pcs",barcode:Jl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),[k,E]=ie.useState(!1),[j,N]=ie.useState(""),[B,I]=ie.useState(!1),D=G=>G.replace(/\b\w/g,L=>L.toUpperCase()),T=G=>G.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),R=G=>parseInt(G.toString().replace(/\D/g,""))||0,$=(G,L)=>{const ce=G.target.files[0];if(ce){const fe=new FileReader;fe.onloadend=()=>{const U=[...v.photos||[]];U[L]=fe.result,A({...v,photos:U})},fe.readAsDataURL(ce)}},F=G=>{const L=[...v.photos||[]];L[G]=null,A({...v,photos:L})},_=async G=>{G.preventDefault();const L=v.hasVariants&&v.variants?v.variants.reduce((ae,De)=>ae+parseInt(De.stock||0),0):0,ce=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((ae,De)=>{const we=parseInt(De.stock||0),Ae=parseFloat(De.costPrice||0);return ae+we*Ae},0)/(L||1):0,fe=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((ae,De)=>{const we=parseInt(De.stock||0),Ae=parseFloat(De.price||0);return ae+we*Ae},0)/(L||1):0;let U=parseFloat(v.costPrice)||0,ee=parseFloat(v.price)||0,se=parseInt(v.stock)||0,de=parseInt(v.minStock)||0;v.isPackage&&v.packageItems&&v.packageItems.length>0&&(U=v.packageItems.reduce((ae,De)=>{const we=f.find(Ae=>Ae.id===De.id);return ae+((we==null?void 0:we.costPrice)||0)*De.qty},0)),v.hasVariants&&v.variants&&v.variants.length>0&&(se=L,U=ce,ee=fe,de=he);const ke={...v,costPrice:U,price:ee,stock:se,minStock:de};if(p&&(a!=null&&a.shopeeItemId)){b(!0),w({type:"info",text:"Menyinkronkan ke Shopee..."});const ae=await mM(a,{price:ee,stock:se,sku:v.sku});b(!1),ae.success?w({type:"success",text:" Berhasil sync ke Shopee!"}):w({type:"error",text:` Gagal sync: ${ae.error}`}),setTimeout(()=>w(null),3e3)}o(ke),a||(A({sku:Wl(),name:"",category:n[0]||"",costPrice:"",price:"",stock:"",minStock:"",unit:h[0]||"pcs",barcode:Jl(),isPackage:!1,hasVariants:!1,variants:[],photos:[],packageItems:[]}),N(""))},Q=v.isPackage&&v.packageItems?v.packageItems.reduce((G,L)=>{const ce=f.find(fe=>fe.id===L.id);return G+((ce==null?void 0:ce.costPrice)||0)*L.qty},0):0,H=v.hasVariants&&v.variants?v.variants.reduce((G,L)=>G+parseInt(L.stock||0),0):0,J=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((G,L)=>G+parseFloat(L.costPrice||0)*parseInt(L.stock||0),0)/H:0,K=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((G,L)=>G+parseFloat(L.price||0)*parseInt(L.stock||0),0)/H:0,he=v.hasVariants&&v.variants&&v.variants.length>0?v.variants.reduce((G,L)=>G+parseInt(L.minStock||0),0):0;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Produk":"Tambah Produk Baru"}),(a==null?void 0:a.source)==="shopee"&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:[l.jsx(g1,{size:12}),"Shopee"]})]}),l.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),y&&l.jsx("div",{className:`mx-6 mt-4 p-3 rounded-lg text-sm ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":y.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:y.text}),(a==null?void 0:a.shopeeItemId)&&l.jsxs("div",{className:"mx-6 mt-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:G=>m(G.target.checked),className:"w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(au,{size:18,className:"text-orange-600"}),l.jsx("span",{className:"font-medium text-orange-800",children:"Sync perubahan ke Shopee"})]})]}),l.jsx("p",{className:"text-xs text-orange-600 mt-2 ml-8",children:"Harga, stok, dan SKU akan diperbarui di Shopee saat menyimpan"})]}),l.jsxs("form",{onSubmit:_,className:"p-6 space-y-4 overflow-y-auto flex-1",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Produk *"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:v.sku,onChange:G=>A({...v,sku:G.target.value}),className:"input flex-1",placeholder:"SJA123456",required:!0}),l.jsx("button",{type:"button",onClick:()=>A({...v,sku:Wl()}),className:"btn btn-secondary",title:"Generate SKU",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: SJA + 6 angka"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:v.barcode,onChange:G=>A({...v,barcode:G.target.value}),className:"input flex-1",placeholder:"123456789"}),l.jsx("button",{type:"button",onClick:()=>A({...v,barcode:Jl()}),className:"btn btn-secondary",title:"Generate Barcode",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9 digit angka"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Produk *"}),l.jsx("input",{type:"text",value:v.name,onChange:G=>A({...v,name:D(G.target.value)}),className:"input",placeholder:"Nama Lengkap Produk",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Produk *"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",checked:!v.isPackage,onChange:()=>A({...v,isPackage:!1,packageItems:[]}),className:"w-4 h-4"}),l.jsx("span",{children:"Produk Satuan"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",checked:v.isPackage,onChange:()=>A({...v,isPackage:!0}),className:"w-4 h-4"}),l.jsx("span",{children:"Produk Paket"})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.isPackage?"Paket berisi beberapa produk bundling":"Produk dijual satuan"})]}),v.isPackage&&l.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Isi Paket Bundling"}),l.jsxs("button",{type:"button",onClick:()=>E(!k),className:"btn btn-primary btn-sm",children:[l.jsx(Us,{size:16}),"Tambah Produk"]})]}),k&&l.jsxs("div",{className:"mb-4 bg-white rounded-lg p-3 border",children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",value:j,onChange:G=>N(G.target.value),placeholder:"Cari produk untuk ditambahkan ke paket...",className:"input w-full pl-10 text-sm"})]}),l.jsx("div",{className:"overflow-x-auto max-h-64 overflow-y-auto border rounded",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"SKU"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Nama Produk"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Modal"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Jual"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y",children:f.filter(G=>!G.isPackage&&G.id!==(a==null?void 0:a.id)).filter(G=>!j||G.name.toLowerCase().includes(j.toLowerCase())||G.sku&&G.sku.toLowerCase().includes(j.toLowerCase())||G.code&&G.code.toLowerCase().includes(j.toLowerCase())).map(G=>{var ce;const L=(ce=v.packageItems)==null?void 0:ce.find(fe=>fe.id===G.id);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:G.sku||G.code}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:G.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Stok: ",G.stock," ",G.unit]})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:"text-xs badge badge-info",children:G.category})}),l.jsxs("td",{className:"px-3 py-2 text-right text-gray-600",children:["Rp ",(G.costPrice||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-3 py-2 text-right font-semibold",children:["Rp ",G.price.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-2",children:L?l.jsx("input",{type:"number",min:"1",value:L.qty,onChange:fe=>{const U=v.packageItems.map(ee=>ee.id===G.id?{...ee,qty:parseInt(fe.target.value)||1}:ee);A({...v,packageItems:U})},className:"input input-sm w-16 text-center",onClick:fe=>fe.stopPropagation()}):l.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),l.jsx("td",{className:"px-3 py-2 text-center",children:L?l.jsx("button",{type:"button",onClick:()=>{A({...v,packageItems:v.packageItems.filter(fe=>fe.id!==G.id)})},className:"text-red-600 hover:text-red-700",title:"Hapus dari paket",children:l.jsx(Un,{size:16})}):l.jsx("button",{type:"button",onClick:()=>{A({...v,packageItems:[...v.packageItems||[],{id:G.id,name:G.name,sku:G.sku||G.code,costPrice:G.costPrice||0,price:G.price,qty:1}]})},className:"text-green-600 hover:text-green-700",title:"Tambah ke paket",children:l.jsx(Us,{size:16})})})]},G.id)})})]})})]}),v.packageItems&&v.packageItems.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-purple-900",children:["Produk dalam Paket (",v.packageItems.length,"):"]}),v.packageItems.map((G,L)=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:G.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[G.sku,"  ",G.qty,"x"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right text-sm",children:[l.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",((G.costPrice||0)*G.qty).toLocaleString("id-ID")]}),l.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",(G.price*G.qty).toLocaleString("id-ID")]})]}),l.jsx("button",{type:"button",onClick:()=>{A({...v,packageItems:v.packageItems.filter((ce,fe)=>fe!==L)})},className:"text-red-600 hover:text-red-700",children:l.jsx(Js,{size:16})})]})]},G.id)),l.jsxs("div",{className:"bg-purple-100 p-4 rounded border border-purple-300 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-purple-900",children:"Total Modal Paket:"}),l.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["Rp ",Q.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-purple-900",children:"Total Nilai Jual:"}),l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["Rp ",v.packageItems.reduce((G,L)=>G+L.price*L.qty,0).toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-purple-300",children:[l.jsx("span",{className:"font-bold text-purple-900",children:"Margin Paket:"}),l.jsxs("span",{className:"text-xl font-bold text-green-600",children:["Rp ",(v.packageItems.reduce((G,L)=>G+L.price*L.qty,0)-Q).toLocaleString("id-ID")]})]}),l.jsx("p",{className:"text-xs text-purple-700 mt-2",children:" Anda bisa set harga jual paket berbeda dari total nilai produk"})]})]}):l.jsxs("div",{className:"text-center py-6 text-gray-500",children:[l.jsx(Ps,{size:48,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"Belum ada produk dalam paket"}),l.jsx("p",{className:"text-xs",children:'Klik "Tambah Produk" untuk memulai'})]})]}),l.jsxs("div",{className:"border-2 border-dashed border-indigo-300 rounded-lg p-4 bg-indigo-50",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"hasVariants",checked:v.hasVariants,onChange:G=>{A({...v,hasVariants:G.target.checked,variants:G.target.checked?v.variants:[]})},className:"w-4 h-4"}),l.jsx("label",{htmlFor:"hasVariants",className:"font-semibold text-indigo-900",children:"Produk Memiliki Varian"})]})}),v.hasVariants&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{type:"button",onClick:()=>I(!0),className:"btn btn-primary btn-sm",children:[l.jsx(Us,{size:16}),"Tambah Varian"]}),v.variants&&v.variants.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-indigo-900",children:["Varian Tersedia (",v.variants.length,"):"]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:v.variants.map((G,L)=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:G.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",G.sku,"  Barcode: ",G.barcode]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right text-sm",children:[l.jsxs("p",{className:"text-gray-600",children:["Modal: Rp ",G.costPrice.toLocaleString("id-ID")]}),l.jsxs("p",{className:"font-semibold",children:["Harga: Rp ",G.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs text-blue-600",children:["Stok: ",G.stock]})]}),l.jsx("button",{type:"button",onClick:()=>{A({...v,variants:v.variants.filter((ce,fe)=>fe!==L)})},className:"text-red-600 hover:text-red-700",children:l.jsx(Js,{size:16})})]})]},L))}),l.jsx("div",{className:"bg-indigo-100 p-4 rounded border border-indigo-300",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-indigo-900",children:"Total Stok Semua Varian:"}),l.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[v.variants.reduce((G,L)=>G+parseInt(L.stock||0),0)," pcs"]})]})})]}):l.jsxs("div",{className:"text-center py-6 text-gray-500 bg-white rounded border border-dashed",children:[l.jsx(Ps,{size:48,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"Belum ada varian"}),l.jsx("p",{className:"text-xs",children:'Klik "Tambah Varian" untuk memulai'})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Foto Produk (Maksimal 3)"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[0,1,2].map(G=>{var L;return l.jsx("div",{className:"relative",children:(L=v.photos)!=null&&L[G]?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:v.photos[G],alt:`Foto ${G+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-300"}),l.jsx("button",{type:"button",onClick:()=>F(G),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Js,{size:16})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(ru,{size:32,className:"text-gray-400 mb-2"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Upload Foto ",G+1]}),l.jsx("input",{type:"file",accept:"image/*",onChange:ce=>$(ce,G),className:"hidden"})]})},G)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Kategori *"}),l.jsx("button",{type:"button",onClick:d,className:"text-xs text-primary hover:underline",children:"Kelola Kategori"})]}),l.jsx("select",{value:v.category,onChange:G=>A({...v,category:G.target.value}),className:"input",required:!0,children:n.map(G=>l.jsx("option",{value:G,children:G},G))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Satuan *"}),l.jsx("button",{type:"button",onClick:u,className:"text-xs text-primary hover:underline",children:"Kelola Satuan"})]}),l.jsxs("select",{value:v.unit,onChange:G=>A({...v,unit:G.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"pcs",children:"Pcs"}),l.jsx("option",{value:"kg",children:"Kg"}),l.jsx("option",{value:"liter",children:"Liter"}),l.jsx("option",{value:"box",children:"Box"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"lusin",children:"Lusin"}),l.jsx("option",{value:"gross",children:"Gross"}),l.jsx("option",{value:"roll",children:"Roll"}),l.jsx("option",{value:"porsi",children:"Porsi"}),l.jsx("option",{value:"gelas",children:"Gelas"}),l.jsx("option",{value:"paket",children:"Paket"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal *",v.isPackage&&l.jsx("span",{className:"text-purple-600 text-xs ml-2",children:"(Otomatis dari isi paket)"}),v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:v.isPackage?T(Q):v.hasVariants&&v.variants&&v.variants.length>0?T(Math.round(J)):T(v.costPrice||""),onChange:G=>A({...v,costPrice:R(G.target.value)}),className:"input pl-10",placeholder:"0",disabled:v.isPackage||v.hasVariants&&v.variants&&v.variants.length>0,required:!0})]}),!v.isPackage&&!v.hasVariants&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Harga beli/modal produk"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual *",v.isPackage&&v.costPrice&&l.jsxs("span",{className:"text-green-600 text-xs ml-2",children:["(Margin: Rp ",(parseFloat(v.price||0)-Q).toLocaleString("id-ID"),")"]}),v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Rata-rata dari varian)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:v.hasVariants&&v.variants&&v.variants.length>0?T(Math.round(K)):T(v.price||""),onChange:G=>A({...v,price:R(G.target.value)}),className:"input pl-10",placeholder:"0",disabled:v.hasVariants&&v.variants&&v.variants.length>0,required:!0})]}),!v.isPackage&&!v.hasVariants&&v.costPrice&&v.price&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Margin: Rp ",(parseFloat(v.price)-parseFloat(v.costPrice)).toLocaleString("id-ID")," ","(",((parseFloat(v.price)-parseFloat(v.costPrice))/parseFloat(v.costPrice)*100).toFixed(1),"%)"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok *",v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),l.jsx("input",{type:"number",value:v.hasVariants&&v.variants&&v.variants.length>0?H:v.stock,onChange:G=>{v.hasVariants&&v.variants&&v.variants.length>0||A({...v,stock:G.target.value})},className:`input ${v.hasVariants&&v.variants&&v.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:v.hasVariants&&v.variants&&v.variants.length>0,required:!(v.hasVariants&&v.variants&&v.variants.length>0)})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Minimum *",v.hasVariants&&v.variants&&v.variants.length>0&&l.jsx("span",{className:"text-indigo-600 text-xs ml-2",children:"(Total dari semua varian)"})]}),l.jsx("input",{type:"number",value:v.hasVariants&&v.variants&&v.variants.length>0?he:v.minStock,onChange:G=>{v.hasVariants&&v.variants&&v.variants.length>0||A({...v,minStock:G.target.value})},className:`input ${v.hasVariants&&v.variants&&v.variants.length>0?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"0",disabled:v.hasVariants&&v.variants&&v.variants.length>0,required:!(v.hasVariants&&v.variants&&v.variants.length>0)})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary flex items-center justify-center gap-2",disabled:x,children:x?l.jsxs(l.Fragment,{children:[l.jsx(v1,{size:18,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[p&&(a==null?void 0:a.shopeeItemId)&&l.jsx(au,{size:18}),a?"Update Produk":"Simpan Produk",p&&(a==null?void 0:a.shopeeItemId)&&" + Sync"]})}),l.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]}),B&&l.jsx(yM,{productName:v.name||"Produk Baru",onClose:()=>I(!1),onAdd:G=>{A({...v,variants:[...v.variants||[],G]}),alert("Varian berhasil ditambahkan!")}})]})})}function gM({categories:a,onClose:n}){const[i,o]=ie.useState(a),[d,u]=ie.useState(""),{addCategory:f,removeCategory:h}=zs(),p=()=>{d.trim()&&(f(d.trim()),o([...i,d.trim()]),u(""))},m=x=>{confirm(`Hapus kategori "${x}"?`)&&(h(x),o(i.filter(b=>b!==x)))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Kategori"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Nama kategori baru...",className:"input flex-1"}),l.jsx("button",{onClick:p,className:"btn btn-primary",children:l.jsx(Us,{size:20})})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:i.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:x}),l.jsx("button",{onClick:()=>m(x),className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:18})})]},x))}),l.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function bM({onClose:a}){const{units:n,addUnit:i,removeUnit:o}=zs(),[d,u]=ie.useState(""),f=()=>{d.trim()&&!n.includes(d.trim())&&(i(d.trim()),u(""))},h=p=>{confirm(`Hapus satuan "${p}"?`)&&o(p)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Satuan"}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:p=>u(p.target.value),onKeyPress:p=>p.key==="Enter"&&f(),placeholder:"Nama satuan baru...",className:"input flex-1"}),l.jsx("button",{onClick:f,className:"btn btn-primary",children:l.jsx(Us,{size:20})})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:p}),l.jsx("button",{onClick:()=>h(p),className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:16})})]},p))})}),l.jsx("button",{onClick:a,className:"w-full btn btn-secondary",children:"Selesai"})]})]})})}function yM({onClose:a,onAdd:n,productName:i}){const[o,d]=ie.useState({name:"",sku:Wl(),barcode:Jl(),costPrice:"",price:"",stock:"",minStock:""}),u=f=>{f.preventDefault(),n({...o,costPrice:parseFloat(o.costPrice)||0,price:parseFloat(o.price)||0,stock:parseInt(o.stock)||0,minStock:parseInt(o.minStock)||0}),d({name:"",sku:Wl(),barcode:Jl(),costPrice:"",price:"",stock:"",minStock:""})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Tambah Varian Produk"}),l.jsx("p",{className:"text-sm text-gray-600",children:i})]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nama Varian ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:o.name,onChange:f=>d({...o,name:capitalizeWords(f.target.value)}),placeholder:"Contoh: Hitam - XL, Rasa Coklat, 500ml",className:"input",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tips: Gabungkan warna/ukuran/rasa dalam satu nama varian"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"SKU Varian"}),l.jsx("input",{type:"text",value:o.sku,onChange:f=>d({...o,sku:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Barcode"}),l.jsx("input",{type:"text",value:o.barcode,onChange:f=>d({...o,barcode:f.target.value}),className:"input",placeholder:"Auto-generate"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Modal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:formatRupiah(o.costPrice||""),onChange:f=>d({...o,costPrice:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Harga Jual ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Rp"}),l.jsx("input",{type:"text",value:formatRupiah(o.price||""),onChange:f=>d({...o,price:parseRupiah(f.target.value)}),className:"input pl-10",placeholder:"0",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Stok Awal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:o.stock,onChange:f=>d({...o,stock:f.target.value}),className:"input",placeholder:"0",required:!0,min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stok Minimum"}),l.jsx("input",{type:"number",value:o.minStock,onChange:f=>d({...o,minStock:f.target.value}),className:"input",placeholder:"0",min:"0"})]})]}),o.costPrice&&o.price&&l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-blue-900",children:"Margin Varian:"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rp ",(parseFloat(o.price)-parseFloat(o.costPrice)).toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[((parseFloat(o.price)-parseFloat(o.costPrice))/parseFloat(o.costPrice)*100).toFixed(1),"%"]})]})]})}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:a,className:"btn btn-secondary flex-1",children:"Batal"}),l.jsxs("button",{type:"submit",className:"btn btn-primary flex-1",children:[l.jsx(Us,{size:20}),"Tambah Varian"]})]})]})]})})}function wM(){const[a,n]=ie.useState("overview"),{products:i,updateStock:o,getLowStockProducts:d,stockHistory:u}=zs(),{user:f}=Di(),h=d(),p=i.reduce((x,b)=>x+b.price*b.stock,0),m=[{id:"overview",label:"Overview"},{id:"adjustment",label:"Penyesuaian Stok"},{id:"history",label:"Riwayat Stok"},{id:"opname",label:"Stock Opname"},{id:"transfer",label:"Transfer Stok"}];return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Stok"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor dan kelola stok barang"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Item"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:i.length})]}),l.jsx(Ps,{className:"text-primary",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Stok"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",(p/1e6).toFixed(1),"M"]})]}),l.jsx(s2,{className:"text-success",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Stok Rendah"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:h.length})]}),l.jsx(tu,{className:"text-warning",size:40})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Stok"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:i.reduce((x,b)=>x+b.stock,0)})]}),l.jsx(Ps,{className:"text-info",size:40})]})})]}),l.jsx("div",{className:"border-b",children:l.jsx("div",{className:"flex gap-4",children:m.map(x=>l.jsx("button",{onClick:()=>n(x.id),className:`px-4 py-2 font-medium border-b-2 transition-colors ${a===x.id?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"}`,children:x.label},x.id))})}),a==="overview"&&l.jsx(AM,{products:i}),a==="adjustment"&&l.jsx(kM,{products:i,updateStock:o,user:f}),a==="history"&&l.jsx(jM,{stockHistory:u||[]}),a==="opname"&&l.jsx(NM,{products:i}),a==="transfer"&&l.jsx(SM,{products:i})]})}function AM({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Daftar Stok Produk"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min Stok"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:a.map(n=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("p",{className:"font-medium",children:n.name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.code})]}),l.jsx("td",{className:"px-6 py-4",children:n.category}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:[n.stock," ",n.unit]}),l.jsxs("td",{className:"px-6 py-4 text-right text-gray-600",children:[n.minStock," ",n.unit]}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold",children:["Rp ",(n.price*n.stock).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 text-center",children:n.stock<=n.minStock?l.jsx("span",{className:"badge badge-danger",children:"Rendah"}):n.stock<=n.minStock*2?l.jsx("span",{className:"badge badge-warning",children:"Perhatian"}):l.jsx("span",{className:"badge badge-success",children:"Aman"})})]},n.id))})]})})]})}function kM({products:a,updateStock:n,user:i}){const[o,d]=ie.useState(""),[u,f]=ie.useState(""),[h,p]=ie.useState("add"),[m,x]=ie.useState(""),[b,y]=ie.useState("adjustment"),w=[{value:"adjustment",label:"Penyesuaian Manual"},{value:"purchase",label:"Pembelian/Restock"},{value:"return",label:"Retur Barang"},{value:"damage",label:"Barang Rusak/Expired"},{value:"sync_marketplace",label:"Sinkronisasi Marketplace"}],v=A=>{var k;A.preventDefault(),!(!o||!u)&&(n(o,parseInt(u),h,b,m||((k=w.find(E=>E.value===b))==null?void 0:k.label),i==null?void 0:i.id),alert("Stok berhasil disesuaikan"),d(""),f(""),x(""))};return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Penyesuaian Stok Manual"}),l.jsxs("form",{onSubmit:v,className:"space-y-4 max-w-2xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pilih Produk"}),l.jsxs("select",{value:o,onChange:A=>d(A.target.value),className:"input",required:!0,children:[l.jsx("option",{value:"",children:"-- Pilih Produk --"}),a.map(A=>l.jsxs("option",{value:A.id,children:[A.name," - Stok: ",A.stock," ",A.unit]},A.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operasi"}),l.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"input",children:[l.jsx("option",{value:"add",children:"Tambah Stok"}),l.jsx("option",{value:"subtract",children:"Kurangi Stok"}),l.jsx("option",{value:"set",children:"Set Stok"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jumlah"}),l.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"input",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Penyesuaian"}),l.jsx("select",{value:b,onChange:A=>y(A.target.value),className:"input",children:w.map(A=>l.jsx("option",{value:A.value,children:A.label},A.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan (Opsional)"}),l.jsx("textarea",{value:m,onChange:A=>x(A.target.value),className:"input",rows:"3",placeholder:"Catatan tambahan..."})]}),l.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(v1,{size:20}),"Sesuaikan Stok"]})]})]})}function jM({stockHistory:a}){const[n,i]=ie.useState("all"),[o,d]=ie.useState(""),u={sale:{label:"Penjualan",color:"text-red-600 bg-red-50"},purchase:{label:"Pembelian",color:"text-green-600 bg-green-50"},adjustment:{label:"Penyesuaian",color:"text-blue-600 bg-blue-50"},sync_marketplace:{label:"Sync Marketplace",color:"text-purple-600 bg-purple-50"},return:{label:"Retur",color:"text-orange-600 bg-orange-50"},damage:{label:"Rusak/Expired",color:"text-gray-600 bg-gray-100"}},f=a.filter(h=>{var x,b;const p=n==="all"||h.type===n,m=!o||((x=h.productName)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))||((b=h.productSku)==null?void 0:b.toLowerCase().includes(o.toLowerCase()));return p&&m});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(VD,{size:20}),"Riwayat Perubahan Stok"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," total records"]})]}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("input",{type:"text",placeholder:"Cari produk...",value:o,onChange:h=>d(h.target.value),className:"input flex-1 max-w-xs"}),l.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"input",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"sale",children:"Penjualan"}),l.jsx("option",{value:"purchase",children:"Pembelian"}),l.jsx("option",{value:"adjustment",children:"Penyesuaian"}),l.jsx("option",{value:"sync_marketplace",children:"Sync Marketplace"}),l.jsx("option",{value:"return",children:"Retur"})]})]}),f.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada riwayat perubahan stok"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Waktu"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Lama"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Perubahan"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok Baru"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catatan"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:f.slice(0,100).map(h=>{const p=u[h.type]||{label:h.type,color:"text-gray-600 bg-gray-50"};return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(h.createdAt).toLocaleString("id-ID")}),l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("p",{className:"font-medium text-gray-900",children:h.productName}),l.jsx("p",{className:"text-xs text-gray-500",children:h.productSku})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.color}`,children:p.label})}),l.jsx("td",{className:"px-4 py-3 text-right text-sm",children:h.oldStock}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`font-medium ${h.change>0?"text-green-600":h.change<0?"text-red-600":"text-gray-600"}`,children:[h.change>0?"+":"",h.change]})}),l.jsx("td",{className:"px-4 py-3 text-right font-medium",children:h.newStock}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:h.note||"-"})]},h.id)})})]})})]})}function NM({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stock Opname"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur stock opname untuk penghitungan fisik stok akan segera hadir."}),l.jsx("button",{className:"btn btn-primary",children:"Mulai Stock Opname"})]})}function SM({products:a}){return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transfer Stok Antar Gudang"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Fitur transfer stok untuk multi-gudang akan segera hadir."}),l.jsx("button",{className:"btn btn-primary",children:"Transfer Stok"})]})}const y3=U1(z1(a=>({suppliers:[],purchases:[],addSupplier:n=>{a(i=>({suppliers:[...i.suppliers,{...n,id:Date.now()}]}))},updateSupplier:(n,i)=>{a(o=>({suppliers:o.suppliers.map(d=>d.id===n?{...d,...i}:d)}))},deleteSupplier:n=>{a(i=>({suppliers:i.suppliers.filter(o=>o.id!==n)}))},addPurchase:n=>{a(i=>({purchases:[...i.purchases,{...n,id:`PO${String(i.purchases.length+1).padStart(3,"0")}`}]}))},updatePurchase:(n,i)=>{a(o=>({purchases:o.purchases.map(d=>d.id===n?{...d,...i}:d)}))},deletePurchase:n=>{a(i=>({purchases:i.purchases.filter(o=>o.id!==n)}))}}),{name:"purchase-storage"}));function EM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(!1),[d,u]=ie.useState(null),{purchases:f,suppliers:h,addPurchase:p,updatePurchase:m,deletePurchase:x,addSupplier:b}=y3(),{products:y,updateStock:w}=zs(),{user:v}=Di(),A=()=>{u(null),n(!0)},k=I=>{u(I),n(!0)},E=I=>{confirm("Hapus pembelian ini?")&&x(I)},j=I=>{d?m(d.id,I):(p(I),I.items.forEach(D=>{y.find(R=>R.id===D.productId)&&w(D.productId,D.qty,"add","purchase",`PO: ${I.poNumber||"Manual"}`,v==null?void 0:v.id)})),n(!1),u(null)},N=I=>({pending:"badge badge-warning",received:"badge badge-success",partial:"badge badge-info",cancelled:"badge badge-danger"})[I]||"badge",B=I=>({pending:"Pending",received:"Diterima",partial:"Sebagian",cancelled:"Dibatalkan"})[I]||I;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pembelian"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola pembelian barang dari supplier"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(x3,{size:20}),"Kelola Supplier"]}),l.jsxs("button",{onClick:A,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Us,{size:20}),"Buat Purchase Order"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchase Order"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:f.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:f.filter(I=>I.status==="pending").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Diterima"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:f.filter(I=>I.status==="received").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Supplier"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:h.length})]})]}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:f.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[l.jsx(Ps,{size:48,className:"mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg font-medium",children:"Belum ada purchase order"}),l.jsx("p",{className:"text-sm mt-1",children:'Klik "Buat Purchase Order" untuk menambah pembelian baru'})]})}):f.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:I.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(I.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(x3,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium",children:I.supplierName})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ps,{size:16,className:"text-gray-400"}),l.jsxs("span",{children:[I.items.length," item"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-primary",children:["Rp ",I.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:N(I.status),children:B(I.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>k(I),className:"text-primary hover:text-blue-700",children:l.jsx(Vo,{size:18})}),l.jsx("button",{onClick:()=>E(I.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:18})})]})]},I.id))})]})})}),a&&l.jsx(CM,{purchase:d,suppliers:h,products:y,onClose:()=>{n(!1),u(null)},onSubmit:j}),i&&l.jsx(IM,{suppliers:h,onClose:()=>o(!1),onAdd:b})]})}function CM({purchase:a,suppliers:n,products:i,onClose:o,onSubmit:d}){const[u,f]=ie.useState(a||{supplier:null,items:[],date:new Date().toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ie.useState(""),[m,x]=ie.useState(1),[b,y]=ie.useState(!1),w=ie.useRef(null);ie.useEffect(()=>{function I(D){w.current&&!w.current.contains(D.target)&&y(!1)}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const v=i.filter(I=>h&&(I.name.toLowerCase().includes(h.toLowerCase())||I.sku&&I.sku.toLowerCase().includes(h.toLowerCase()))),A=I=>{if(!I)return;const D=u.items.find(T=>T.productId===I.id);f(D?{...u,items:u.items.map(T=>T.productId===I.id?{...T,qty:T.qty+m}:T)}:{...u,items:[...u.items,{productId:I.id,name:I.name,sku:I.sku,costPrice:I.costPrice||0,qty:m}]}),p(""),y(!1),x(1)},k=(I,D)=>{f({...u,items:u.items.map(T=>T.productId===I?{...T,qty:parseInt(D)||1}:T)})},E=(I,D)=>{f({...u,items:u.items.map(T=>T.productId===I?{...T,costPrice:parseFloat(D)||0}:T)})},j=I=>{f({...u,items:u.items.filter(D=>D.productId!==I)})},N=()=>u.items.reduce((I,D)=>I+D.costPrice*D.qty,0),B=I=>{if(I.preventDefault(),!u.supplier){alert("Pilih supplier terlebih dahulu");return}if(u.items.length===0){alert("Tambahkan minimal 1 produk");return}const D=n.find(T=>T.id===parseInt(u.supplier));d({...u,supplierName:(D==null?void 0:D.name)||"",total:N()})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Purchase Order":"Buat Purchase Order Baru"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Us,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:B,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supplier *"}),l.jsxs("select",{value:u.supplier||"",onChange:I=>f({...u,supplier:I.target.value}),className:"input",required:!0,children:[l.jsx("option",{value:"",children:"Pilih Supplier"}),n.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal *"}),l.jsx("input",{type:"date",value:u.date,onChange:I=>f({...u,date:I.target.value}),className:"input",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tambah Produk"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 relative",ref:w,children:[l.jsx("input",{type:"text",value:h,onChange:I=>{p(I.target.value),y(!0)},onFocus:()=>y(!0),placeholder:"Cari produk (nama atau SKU)...",className:"input"}),b&&v.length>0&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:v.map(I=>{var D;return l.jsxs("button",{type:"button",onClick:()=>A(I),className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b last:border-b-0",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:["SKU: ",I.sku," | Modal: Rp ",(D=I.costPrice)==null?void 0:D.toLocaleString("id-ID")]})]},I.id)})})]}),l.jsx("input",{type:"number",value:m,onChange:I=>x(parseInt(I.target.value)||1),min:"1",className:"input w-24",placeholder:"Qty"})]})]}),u.items.length>0&&l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:u.items.map(I=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsx("div",{className:"text-xs text-gray-500",children:I.sku})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:I.qty,onChange:D=>k(I.productId,D.target.value),className:"input-sm w-20 text-center",min:"1"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:I.costPrice,onChange:D=>E(I.productId,D.target.value),className:"input-sm w-32 text-right",min:"0",step:"100"})}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",(I.costPrice*I.qty).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>j(I.productId),className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:16})})})]},I.productId))}),l.jsx("tfoot",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"3",className:"px-4 py-3 text-right font-bold",children:"TOTAL:"}),l.jsxs("td",{className:"px-4 py-3 text-right font-bold text-lg text-primary",children:["Rp ",N().toLocaleString("id-ID")]}),l.jsx("td",{})]})})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),l.jsx("textarea",{value:u.notes,onChange:I=>f({...u,notes:I.target.value}),className:"input",rows:"2",placeholder:"Catatan tambahan..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:u.status,onChange:I=>f({...u,status:I.target.value}),className:"input",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"partial",children:"Sebagian Diterima"}),l.jsx("option",{value:"received",children:"Diterima"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]})]}),l.jsxs("div",{className:"flex gap-3 p-6 border-t",children:[l.jsx("button",{type:"button",onClick:B,className:"flex-1 btn btn-primary",children:a?"Update Purchase Order":"Buat Purchase Order"}),l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})})}function IM({suppliers:a,onClose:n,onAdd:i}){const[o,d]=ie.useState(!1),[u,f]=ie.useState({name:"",contact:"",email:"",address:""}),h=p=>{p.preventDefault(),i(u),f({name:"",contact:"",email:"",address:""}),d(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Kelola Supplier"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Us,{size:24,className:"rotate-45"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:o?l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Supplier *"}),l.jsx("input",{type:"text",value:u.name,onChange:p=>f({...u,name:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kontak *"}),l.jsx("input",{type:"text",value:u.contact,onChange:p=>f({...u,contact:p.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:p=>f({...u,email:p.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),l.jsx("textarea",{value:u.address,onChange:p=>f({...u,address:p.target.value}),className:"input",rows:"2"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan"}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 btn btn-secondary",children:"Batal"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>d(!0),className:"w-full btn btn-primary flex items-center justify-center gap-2",children:[l.jsx(Us,{size:20}),"Tambah Supplier Baru"]}),l.jsx("div",{className:"space-y-3",children:a.map(p=>l.jsxs("div",{className:"card",children:[l.jsx("h4",{className:"font-bold text-lg",children:p.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",p.contact," |  ",p.email]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[" ",p.address]})]},p.id))})]})}),l.jsx("div",{className:"p-6 border-t",children:l.jsx("button",{onClick:n,className:"w-full btn btn-secondary",children:"Tutup"})})]})})}function BM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(null),[d,u]=ie.useState([{id:"SO001",date:"2025-12-06",customer:{id:2,name:"Budi Santoso"},items:[{id:1,name:"Indomie Goreng",sku:"SJA123456",costPrice:2500,price:3e3,minPrice:2875,qty:100,isPackage:!1},{id:2,name:"Aqua 600ml",sku:"SJA234567",costPrice:3e3,price:3500,minPrice:3450,qty:50,isPackage:!1}],subtotal:475e3,discount:25e3,total:45e4,status:"pending",dueDate:"2025-12-13",notes:"Pengiriman ke alamat kantor"}]),{products:f}=zs(),{customers:h}=x1(),{storeInfo:p}=_u(),m=()=>{o(null),n(!0)},x=A=>{o(A),n(!0)},b=A=>{confirm("Hapus sales order ini?")&&u(d.filter(k=>k.id!==A))},y=A=>{const k=window.open("","","width=800,height=600"),E=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice - ${A.id}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 40px; }
          .invoice-header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .logo-section { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px; }
          .logo { width: 80px; height: 80px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border-radius: 12px; display: flex; align-items: center; justify-center; box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3); overflow: hidden; }
          .logo img { width: 100%; height: 100%; object-fit: contain; }
          .logo svg { width: 50px; height: 50px; color: white; }
          .company-info { text-align: center; }
          .company-info h2 { font-size: 24px; color: #1e293b; font-weight: bold; margin-bottom: 4px; }
          .company-info p { font-size: 13px; color: #64748b; line-height: 1.5; }
          .invoice-header h1 { font-size: 28px; color: #2563eb; margin-bottom: 5px; }
          .invoice-header p { color: #666; }
          .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }
          .info-section h3 { font-size: 14px; color: #666; margin-bottom: 8px; }
          .info-section p { font-size: 16px; margin-bottom: 4px; }
          .invoice-id { font-size: 20px; font-weight: bold; color: #2563eb; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th { background: #f3f4f6; padding: 12px; text-align: left; font-size: 12px; color: #666; text-transform: uppercase; border-bottom: 2px solid #e5e7eb; }
          td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
          .text-right { text-align: right; }
          .text-center { text-align: center; }
          .total-section { margin-top: 20px; float: right; width: 300px; }
          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }
          .total-row.grand { font-size: 18px; font-weight: bold; border-top: 2px solid #333; padding-top: 12px; margin-top: 8px; }
          .notes { margin-top: 40px; padding: 15px; background: #f9fafb; border-left: 4px solid #2563eb; }
          .notes h4 { font-size: 14px; margin-bottom: 8px; }
          .footer { margin-top: 60px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 20px; }
          @media print {
            body { padding: 20px; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="invoice-header">
          <div class="logo-section">
            <div class="logo">
              ${p.logo?`<img src="${p.logo}" alt="Logo" />`:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 7h-9"></path>
                  <path d="M14 17H5"></path>
                  <circle cx="17" cy="17" r="3"></circle>
                  <circle cx="7" cy="7" r="3"></circle>
                </svg>`}
            </div>
            <div class="company-info">
              <h2>${p.name}</h2>
              <p>${p.address}<br/>
              Telp: ${p.phone} | Email: ${p.email}</p>
            </div>
          </div>
          <h1>INVOICE</h1>
          <p>Sales Order</p>
        </div>
        
        <div class="invoice-info">
          <div class="info-section">
            <h3>Invoice No:</h3>
            <p class="invoice-id">${A.id}</p>
            <h3 style="margin-top: 15px;">Tanggal:</h3>
            <p>${new Date(A.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
          <div class="info-section" style="text-align: right;">
            <h3>Pelanggan:</h3>
            <p style="font-weight: bold; font-size: 18px;">${A.customer.name}</p>
            <h3 style="margin-top: 15px;">Jatuh Tempo:</h3>
            <p>${new Date(A.dueDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}</p>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 50px;">No</th>
              <th>SKU</th>
              <th>Nama Produk</th>
              <th class="text-center" style="width: 80px;">Qty</th>
              <th class="text-right" style="width: 150px;">Harga</th>
              <th class="text-right" style="width: 150px;">Subtotal</th>
            </tr>
          </thead>
          <tbody>
            ${A.items.map((j,N)=>`
              <tr>
                <td class="text-center">${N+1}</td>
                <td style="font-family: monospace; font-size: 12px;">${j.sku}</td>
                <td>${j.name}${j.isPackage?' <span style="background: #dbeafe; color: #1e40af; padding: 2px 6px; border-radius: 4px; font-size: 10px;">PAKET</span>':""}</td>
                <td class="text-center">${j.qty}</td>
                <td class="text-right">Rp ${j.price.toLocaleString("id-ID")}</td>
                <td class="text-right" style="font-weight: bold;">Rp ${(j.price*j.qty).toLocaleString("id-ID")}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="total-section">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>Rp ${A.subtotal.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row">
            <span>Diskon:</span>
            <span style="color: #ef4444;">- Rp ${A.discount.toLocaleString("id-ID")}</span>
          </div>
          <div class="total-row grand">
            <span>TOTAL:</span>
            <span style="color: #16a34a;">Rp ${A.total.toLocaleString("id-ID")}</span>
          </div>
        </div>

        <div style="clear: both;"></div>

        ${A.notes?`
          <div class="notes">
            <h4>Catatan:</h4>
            <p>${A.notes}</p>
          </div>
        `:""}

        <div class="footer">
          <p>Terima kasih atas kepercayaan Anda!</p>
          <p style="margin-top: 5px;">Dicetak pada: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 250);
          }
        <\/script>
      </body>
      </html>
    `;k.document.write(E),k.document.close()},w=A=>({pending:"badge badge-warning",confirmed:"badge badge-info",processing:"badge badge-info",delivered:"badge badge-success",cancelled:"badge badge-danger"})[A]||"badge",v=A=>({pending:"Pending",confirmed:"Dikonfirmasi",processing:"Diproses",delivered:"Terkirim",cancelled:"Dibatalkan"})[A]||A;return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Penjualan Member"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola sales order dan penjualan ke pelanggan member"})]}),l.jsxs("button",{onClick:m,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Us,{size:20}),"Buat Sales Order"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales Order"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:d.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-warning",children:d.filter(A=>A.status==="pending").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Diproses"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-info",children:d.filter(A=>A.status==="processing").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-success",children:d.filter(A=>A.status==="delivered").length})]})]}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. SO"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jatuh Tempo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:d.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono font-semibold",children:A.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(A.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(W0,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium",children:A.customer.name})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ps,{size:16,className:"text-gray-400"}),l.jsxs("span",{children:[A.items.length," item"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-green-600",children:["Rp ",A.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(UD,{size:16,className:"text-gray-400"}),l.jsx("span",{children:new Date(A.dueDate).toLocaleDateString("id-ID")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:w(A.status),children:v(A.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>y(A),className:"text-green-600 hover:text-green-700",title:"Print Invoice",children:l.jsx(n2,{size:18})}),l.jsx("button",{onClick:()=>x(A),className:"text-primary hover:text-blue-700",children:l.jsx(Vo,{size:18})}),l.jsx("button",{onClick:()=>b(A.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:18})})]})]},A.id))})]})})}),a&&l.jsx(DM,{sale:i,products:f,customers:h.filter(A=>A.type!=="walk-in"),onClose:()=>{n(!1),o(null)},onSubmit:A=>{i?(u(d.map(k=>k.id===A.id?A:k)),n(!1),o(null)):u([...d,{...A,id:`SO${String(d.length+1).padStart(3,"0")}`}])}})]})}function DM({sale:a,products:n,customers:i,onClose:o,onSubmit:d}){var F;const[u,f]=ie.useState(a||{orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"pending",notes:""}),[h,p]=ie.useState(""),[m,x]=ie.useState(1),[b,y]=ie.useState(""),[w,v]=ie.useState(!1),A=ie.useRef(null);ie.useEffect(()=>{function _(Q){A.current&&!A.current.contains(Q.target)&&v(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const k=n.filter(_=>{var Q;return b&&(_.name.toLowerCase().includes(b.toLowerCase())||_.sku&&_.sku.toLowerCase().includes(b.toLowerCase())||_.code&&_.code.toLowerCase().includes(b.toLowerCase())||((Q=_.barcode)==null?void 0:Q.includes(b)))}),E=(_,Q)=>Q&&Q.customPrices&&Q.customPrices[_.id]?Q.customPrices[_.id]:_.price,j=_=>{if(!_)return;if(u.items.find(H=>H.id===_.id))f({...u,items:u.items.map(H=>H.id===_.id?{...H,qty:H.qty+m}:H)});else{const H=_.costPrice||0,J=Math.ceil(H*1.15),K=E(_,u.customer);f({...u,items:[...u.items,{id:_.id,name:_.name,sku:_.sku||_.code,costPrice:H,price:K,minPrice:J,qty:m,isPackage:_.isPackage}]})}y(""),v(!1),x(1)},N=(_,Q)=>{f({...u,items:u.items.map(H=>H.id===_?Q<H.minPrice?(alert(`Harga tidak boleh kurang dari Rp ${H.minPrice.toLocaleString("id-ID")} (Modal + 15%)`),H):{...H,price:parseFloat(Q)||H.price}:H)})},B=(_,Q)=>{f({...u,items:u.items.map(H=>H.id===_?{...H,qty:parseInt(Q)||1}:H)})},I=_=>{f({...u,items:u.items.filter(Q=>Q.id!==_)})},D=u.items.reduce((_,Q)=>_+Q.price*Q.qty,0),T=u.discount||0,R=D-T,$=_=>{if(_.preventDefault(),!u.customer||u.items.length===0){alert("Pilih customer dan tambahkan minimal 1 produk");return}d({...u,subtotal:D,total:R}),a||(f({orderNumber:"",customer:null,items:[],date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],status:"pending",notes:""}),y(""),x(1))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Sales Order":"Buat Sales Order Baru"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Us,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:$,className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)] space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pelanggan Member *"}),l.jsxs("select",{value:((F=u.customer)==null?void 0:F.id)||"",onChange:_=>{const Q=i.find(H=>H.id===parseInt(_.target.value));f({...u,customer:Q})},className:"input",required:!0,children:[l.jsx("option",{value:"",children:"-- Pilih Pelanggan --"}),i.map(_=>l.jsxs("option",{value:_.id,children:[_.name," (",_.type.toUpperCase(),")"]},_.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Pesanan"}),l.jsx("input",{type:"text",value:u.orderNumber,onChange:_=>f({...u,orderNumber:_.target.value}),placeholder:"Contoh: PO-2025-001",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:u.status,onChange:_=>f({...u,status:_.target.value}),className:"input",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),l.jsx("option",{value:"processing",children:"Diproses"}),l.jsx("option",{value:"delivered",children:"Terkirim"}),l.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tanggal Order"}),l.jsx("input",{type:"date",value:u.date,onChange:_=>f({...u,date:_.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Jatuh Tempo"}),l.jsx("input",{type:"date",value:u.dueDate,onChange:_=>f({...u,dueDate:_.target.value}),className:"input",required:!0})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Tambah Produk"}),l.jsxs("div",{className:"flex gap-2 relative",ref:A,children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",size:20}),l.jsx("input",{type:"text",value:b,onChange:_=>{y(_.target.value),v(!0)},onFocus:()=>b&&v(!0),placeholder:"Cari produk (nama, kode, atau barcode)...",className:"input w-full pl-10"}),w&&k.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",children:k.map(_=>l.jsx("button",{type:"button",onClick:()=>j(_),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:_.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:_.sku||_.code}),l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("p",{className:"text-xs text-gray-500",children:_.category}),_.isPackage&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]})]}),l.jsxs("div",{className:"text-right ml-4",children:[l.jsxs("p",{className:"font-semibold text-primary",children:["Rp ",_.price.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Stok: ",_.stock," ",_.unit]})]})]})},_.id))}),w&&b&&k.length===0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-50",children:l.jsx("p",{className:"text-gray-500 text-center",children:"Produk tidak ditemukan"})})]}),l.jsx("input",{type:"number",value:m,onChange:_=>x(parseInt(_.target.value)||1),min:"1",placeholder:"Qty",className:"input w-20 text-center"})]}),b&&l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Ketik untuk mencari, klik produk untuk menambahkan"})]}),u.items.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-3",children:["Items (",u.items.length,")"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Produk"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Qty"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Harga Satuan"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:"Subtotal"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:u.items.map(_=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:_.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:_.sku}),_.isPackage&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Paket"})]})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: Rp ",_.minPrice.toLocaleString("id-ID")," (Modal + 15%)"]})]})}),l.jsx("td",{className:"px-3 py-3 text-center",children:l.jsx("input",{type:"number",min:"1",value:_.qty,onChange:Q=>B(_.id,Q.target.value),className:"input input-sm w-20 text-center"})}),l.jsx("td",{className:"px-3 py-3",children:l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("input",{type:"number",min:_.minPrice,value:_.price,onChange:Q=>N(_.id,Q.target.value),className:"input input-sm w-32 text-right"}),_.price<_.minPrice&&l.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"})]})}),l.jsxs("td",{className:"px-3 py-3 text-right font-semibold",children:["Rp ",(_.price*_.qty).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-3 py-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>I(_.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:18})})})]},_.id))})]})}),l.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),l.jsxs("span",{className:"font-semibold",children:["Rp ",D.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Diskon:"}),l.jsx("input",{type:"number",value:u.discount||0,onChange:_=>f({...u,discount:parseInt(_.target.value)||0}),className:"input w-32 text-right",min:"0"})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t border-blue-200",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{className:"text-primary",children:["Rp ",R.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Catatan"}),l.jsx("textarea",{value:u.notes,onChange:_=>f({...u,notes:_.target.value}),className:"input",rows:"3",placeholder:"Catatan pengiriman, alamat, dll..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsxs("button",{type:"submit",className:"flex-1 btn btn-primary",children:[a?"Update":"Simpan"," Sales Order"]}),l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function TM(){const[a,n]=ie.useState(""),[i,o]=ie.useState("all"),[d,u]=ie.useState(!1),[f,h]=ie.useState(null),[p,m]=ie.useState(!1),[x,b]=ie.useState(null),{customers:y,addCustomer:w,updateCustomer:v,deleteCustomer:A}=x1(),k=y.filter(j=>{const N=j.name.toLowerCase().includes(a.toLowerCase())||j.phone.includes(a),B=i==="all"||j.type===i;return N&&B}),E=j=>{f?v(f.id,j):w(j),u(!1),h(null)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Pelanggan"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola data pelanggan dan program loyalty"})]}),l.jsxs("button",{onClick:()=>{h(null),u(!0)},className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Us,{size:20}),"Tambah Pelanggan"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pelanggan"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:y.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Member"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:y.filter(j=>j.type==="member").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"VIP"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:y.filter(j=>j.type==="vip").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-primary",children:y.reduce((j,N)=>j+N.points,0).toLocaleString("id-ID")})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a,onChange:j=>n(j.target.value),placeholder:"Cari pelanggan...",className:"w-full pl-10 input"})]}),l.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"input w-48",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"walk-in",children:"Walk-in"}),l.jsx("option",{value:"member",children:"Member"}),l.jsx("option",{value:"vip",children:"VIP"})]})]})}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kontak"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipe"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Points"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Belanja"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:k.map(j=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[j.type==="vip"&&l.jsx(lT,{className:"text-yellow-500",size:16}),l.jsx("span",{className:"font-medium",children:j.name})]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("p",{className:"text-sm",children:j.phone}),l.jsx("p",{className:"text-xs text-gray-600",children:j.email})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`badge ${j.type==="vip"?"badge-warning":j.type==="member"?"badge-info":"bg-gray-100 text-gray-800"}`,children:j.type.toUpperCase()})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(YD,{size:16,className:"text-primary"}),l.jsx("span",{className:"font-semibold",children:j.points})]})}),l.jsxs("td",{className:"px-6 py-4 font-semibold",children:["Rp ",j.totalSpent.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[(j.type==="member"||j.type==="vip")&&l.jsx("button",{onClick:()=>{b(j),m(!0)},className:"text-green-600 hover:text-green-700 mr-3",title:"Atur Harga Khusus",children:l.jsx(s2,{size:18})}),l.jsx("button",{onClick:()=>{h(j),u(!0)},className:"text-primary hover:text-blue-700 mr-3",children:l.jsx(Vo,{size:18})}),j.type!=="walk-in"&&l.jsx("button",{onClick:()=>{confirm("Hapus pelanggan ini?")&&A(j.id)},className:"text-red-600 hover:text-red-700",children:l.jsx(Un,{size:18})})]})]},j.id))})]})})}),d&&l.jsx(RM,{customer:f,onClose:()=>{u(!1),h(null)},onSubmit:E}),p&&x&&l.jsx(MM,{customer:x,onClose:()=>{m(!1),b(null)}})]})}function RM({customer:a,onClose:n,onSubmit:i}){const[o,d]=ie.useState(a||{name:"",phone:"",email:"",type:"member"}),u=p=>p?p.replace(/\b\w/g,m=>m.toUpperCase()):"",f=p=>{p.persist&&p.persist();const{name:m,value:x}=p.target;d(b=>({...b,[m]:x}))},h=p=>{p.preventDefault();const m={...o,name:u(o.name.trim())};i(m)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:a?"Edit Pelanggan":"Tambah Pelanggan Baru"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Us,{size:24,className:"rotate-45"})})]}),l.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: Budi Santoso",autoComplete:"off",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"No. Telepon / WhatsApp *"}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:f,onInput:f,className:"input w-full",placeholder:"Contoh: 081234567890",inputMode:"tel",autoComplete:"off",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:f,onInput:f,className:"input w-full",placeholder:"email@contoh.com",autoComplete:"off"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipe Pelanggan *"}),l.jsxs("select",{name:"type",value:o.type,onChange:f,className:"input w-full",required:!0,children:[l.jsx("option",{value:"member",children:"Member"}),l.jsx("option",{value:"vip",children:"VIP"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a?"Update":"Simpan"}),l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function MM({customer:a,onClose:n}){const[i,o]=ie.useState(""),[d,u]=ie.useState(a.customPrices||{}),{products:f}=zs(),{setCustomPrice:h,removeCustomPrice:p}=x1(),m=f.filter(w=>w.name.toLowerCase().includes(i.toLowerCase())||w.sku.toLowerCase().includes(i.toLowerCase())),x=(w,v)=>{const A=parseFloat(v);if(v===""||isNaN(A)){const k={...d};delete k[w],u(k)}else u({...d,[w]:A})},b=()=>{Object.entries(d).forEach(([w,v])=>{h(a.id,parseInt(w),v)}),Object.keys(a.customPrices||{}).forEach(w=>{d[w]||p(a.id,parseInt(w))}),n()},y=w=>w.costPrice*1.15;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full h-[95vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold",children:["Atur Harga Khusus - ",a.name]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Kosongkan harga untuk menggunakan harga default produk"})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Us,{size:24,className:"rotate-45"})})]}),l.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),placeholder:"Cari produk...",className:"w-full pl-10 input"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Modal"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Default"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min. Harga (15%)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Harga Khusus"})]})}),l.jsx("tbody",{className:"divide-y",children:m.map(w=>{const v=d[w.id],A=y(w),k=v!==void 0,E=!v||v>=A;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:w.sku}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:w.name}),l.jsx("td",{className:"px-4 py-3 text-sm",children:w.category}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["Rp ",w.costPrice.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:["Rp ",w.price.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right text-orange-600 font-semibold",children:["Rp ",A.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("input",{type:"number",value:v||"",onChange:j=>x(w.id,j.target.value),placeholder:"Default",className:`input-sm w-32 text-right ${E?k?"border-green-500 bg-green-50":"":"border-red-500 bg-red-50"}`,min:0,step:100}),!E&&l.jsx("span",{className:"text-xs text-red-600",children:"Terlalu rendah!"}),k&&E&&l.jsx("span",{className:"text-xs text-green-600",children:" Aktif"})]})})]},w.id)})})]})}),l.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-900",children:[l.jsx("strong",{children:Object.keys(d).length})," produk dengan harga khusus"]})}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:b,className:"flex-1 btn btn-primary",children:"Simpan Harga Khusus"}),l.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function FM(){const[a,n]=ie.useState("transactions"),[i,o]=ie.useState("today"),[d,u]=ie.useState(""),[f,h]=ie.useState(""),{transactions:p,getTodaySales:m,voidTransaction:x}=m1(),{products:b,stockHistory:y,updateStock:w}=zs(),{stores:v}=So(),{user:A}=Di(),k=[{id:"transactions",label:"Transaksi Kasir"},{id:"sales",label:"Laporan Penjualan"},{id:"stock",label:"Laporan Stok"},{id:"products",label:"Produk Terlaris"},{id:"profit",label:"Laba Rugi"},{id:"source",label:"Omzet per Sumber"}],E=(B,I="date")=>{const D=new Date;return D.setHours(0,0,0,0),B.filter(T=>{const R=new Date(T[I]);if(i==="custom"&&d&&f){const $=new Date(d),F=new Date(f);return F.setHours(23,59,59,999),R>=$&&R<=F}if(i==="today"){const $=new Date(R);return $.setHours(0,0,0,0),$.getTime()===D.getTime()}else if(i==="week"){const $=new Date(D);return $.setDate($.getDate()-7),R>=$}else if(i==="month"){const $=new Date(D);return $.setMonth($.getMonth()-1),R>=$}else if(i==="year"){const $=new Date(D.getFullYear(),0,1);return R>=$}return!0})},j=()=>{let B="";const I=E(p);a==="transactions"||a==="sales"?(B=`ID,Tanggal,Pelanggan,Items,Subtotal,Diskon,Pajak,Total,Pembayaran,Status
`,I.forEach(R=>{var $;B+=`${R.id},${new Date(R.date).toLocaleString("id-ID")},${(($=R.customer)==null?void 0:$.name)||"-"},${R.items.length},${R.subtotal},${R.discount},${R.tax},${R.total},${R.paymentMethod},${R.status}
`})):a==="stock"&&(B=`Kode,Nama,Kategori,Stok,Min Stok,Harga,HPP,Nilai Stok
`,b.forEach(R=>{B+=`${R.code},${R.name},${R.category},${R.stock},${R.minStock},${R.price},${R.cost||0},${R.price*R.stock}
`}));const D=new Blob([B],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(D),T.download=`laporan-${a}-${new Date().toISOString().split("T")[0]}.csv`,T.click()},N=()=>{window.print()};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Laporan & Analytics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor performa bisnis Anda"})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("select",{value:a,onChange:B=>n(B.target.value),className:"input flex-1",children:k.map(B=>l.jsx("option",{value:B.id,children:B.label},B.id))}),l.jsxs("select",{value:i,onChange:B=>o(B.target.value),className:"input",children:[l.jsx("option",{value:"today",children:"Hari Ini"}),l.jsx("option",{value:"week",children:"7 Hari Terakhir"}),l.jsx("option",{value:"month",children:"30 Hari Terakhir"}),l.jsx("option",{value:"year",children:"Tahun Ini"}),l.jsx("option",{value:"custom",children:"Periode Custom"})]}),i==="custom"&&l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"date",value:d,onChange:B=>u(B.target.value),className:"input"}),l.jsx("input",{type:"date",value:f,onChange:B=>h(B.target.value),className:"input"})]}),l.jsxs("button",{onClick:j,className:"btn btn-primary flex items-center gap-2",children:[l.jsx(Zo,{size:20}),"Export CSV"]}),l.jsxs("button",{onClick:N,className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(n2,{size:20}),"Print"]})]})}),a==="transactions"&&l.jsx(_M,{transactions:p,voidTransaction:x,updateStock:w,user:A,dateRange:i,customStartDate:d,customEndDate:f}),a==="sales"&&l.jsx(PM,{transactions:p,dateRange:i,customStartDate:d,customEndDate:f}),a==="stock"&&l.jsx(OM,{products:b,stockHistory:y}),a==="products"&&l.jsx(UM,{transactions:p,dateRange:i,customStartDate:d,customEndDate:f}),a==="profit"&&l.jsx(zM,{transactions:p,products:b,dateRange:i,customStartDate:d,customEndDate:f}),a==="source"&&l.jsx(LM,{transactions:p,stores:v,dateRange:i,customStartDate:d,customEndDate:f})]})}function _M({transactions:a,voidTransaction:n,updateStock:i,user:o,dateRange:d,customStartDate:u,customEndDate:f}){const[h,p]=ie.useState(""),[m,x]=ie.useState(!1),[b,y]=ie.useState(null),[w,v]=ie.useState(""),[A,k]=ie.useState(!1),[E,j]=ie.useState(null),N=R=>{j(R),v(""),k(!0)},B=async()=>{if(!w.trim()){alert("Masukkan alasan void transaksi");return}await n(E.id,w,i,o==null?void 0:o.id,o==null?void 0:o.name),k(!1),j(null),v(""),alert("Transaksi berhasil di-void dan stok telah dikembalikan")},I=a.filter(R=>{const $=R.id.toLowerCase().includes(h.toLowerCase()),F=new Date(R.date),_=new Date;_.setHours(0,0,0,0);let Q=!0;if(d==="custom"&&u&&f){const H=new Date(u),J=new Date(f);J.setHours(23,59,59,999),Q=F>=H&&F<=J}else if(d==="today"){const H=new Date(F);H.setHours(0,0,0,0),Q=H.getTime()===_.getTime()}else if(d==="week"){const H=new Date(_);H.setDate(H.getDate()-7),Q=F>=H}else if(d==="month"){const H=new Date(_);H.setMonth(H.getMonth()-1),Q=F>=H}return $&&Q}),D=I.filter(R=>R.status==="completed").reduce((R,$)=>R+$.total,0),T=R=>{y(R),x(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:I.filter(R=>R.status==="completed").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",D.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Transaksi Void"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:I.filter(R=>R.status==="void").length})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:h,onChange:R=>p(R.target.value),placeholder:"Cari ID transaksi...",className:"w-full pl-10 input"})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("h3",{className:"text-lg font-bold mb-4 px-6 pt-6",children:"Riwayat Transaksi Kasir"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pembayaran"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:I.map(R=>{var $;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:R.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(R.date).toLocaleString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(($=R.customer)==null?void 0:$.name)||"-"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[R.items.length," item"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap font-semibold",children:["Rp ",R.total.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:R.paymentMethod}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.status==="completed"?l.jsx("span",{className:"badge badge-success",children:"Selesai"}):l.jsx("span",{className:"badge badge-danger",children:"Void"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[l.jsx("button",{onClick:()=>T(R),className:"text-primary hover:text-blue-700",title:"Lihat Detail",children:l.jsx(fw,{size:18})}),R.status==="completed"&&l.jsx("button",{onClick:()=>N(R),className:"text-red-500 hover:text-red-700",title:"Void Transaksi",children:l.jsx(PD,{size:18})}),l.jsx("button",{className:"text-gray-600 hover:text-gray-700",title:"Print",children:l.jsx(n2,{size:18})})]})]},R.id)})})]})})]})]}),A&&E&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:"Void Transaksi"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Void transaksi ",l.jsx("strong",{children:E.id})," senilai ",l.jsxs("strong",{children:["Rp ",E.total.toLocaleString("id-ID")]}),"?"]}),l.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded mb-4",children:" Stok produk akan dikembalikan otomatis"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alasan Void *"}),l.jsx("textarea",{value:w,onChange:R=>v(R.target.value),placeholder:"Masukkan alasan void...",className:"input w-full",rows:3,required:!0})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>k(!1),className:"btn btn-secondary flex-1",children:"Batal"}),l.jsx("button",{onClick:B,className:"btn btn-danger flex-1",children:"Konfirmasi Void"})]})]})}),m&&b&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Detail Transaksi"}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)] space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"ID Transaksi"}),l.jsx("p",{className:"font-semibold",children:b.id})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Tanggal"}),l.jsx("p",{className:"font-semibold",children:new Date(b.date).toLocaleString("id-ID")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Kasir"}),l.jsx("p",{className:"font-semibold",children:b.cashier})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Metode Pembayaran"}),l.jsx("p",{className:"font-semibold capitalize",children:b.paymentMethod})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Items"}),l.jsx("div",{className:"space-y-2",children:b.items.map((R,$)=>l.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:R.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[R.quantity," x Rp ",R.price.toLocaleString("id-ID")]})]}),l.jsxs("p",{className:"font-semibold",children:["Rp ",(R.price*R.quantity).toLocaleString("id-ID")]})]},$))})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Subtotal"}),l.jsxs("span",{children:["Rp ",b.subtotal.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-red-600",children:[l.jsx("span",{children:"Diskon"}),l.jsxs("span",{children:["- Rp ",b.discount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Pajak"}),l.jsxs("span",{children:["Rp ",b.tax.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary",children:["Rp ",b.total.toLocaleString("id-ID")]})]}),b.paymentMethod==="cash"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Bayar"}),l.jsxs("span",{children:["Rp ",b.cashAmount.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Kembali"}),l.jsxs("span",{className:"text-green-600",children:["Rp ",b.change.toLocaleString("id-ID")]})]})]})]})]})]})})]})}function PM({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const u=(m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(b=>{const y=new Date(b.date);if(n==="custom"&&i&&o){const w=new Date(i),v=new Date(o);return v.setHours(23,59,59,999),y>=w&&y<=v}if(n==="today"){const w=new Date(y);return w.setHours(0,0,0,0),w.getTime()===x.getTime()}else if(n==="week"){const w=new Date(x);return w.setDate(w.getDate()-7),y>=w}else if(n==="month"){const w=new Date(x);return w.setMonth(w.getMonth()-1),y>=w}return!0})})(a).filter(m=>m.status==="completed"),f=u.reduce((m,x)=>m+x.total,0),h=u.reduce((m,x)=>m+x.tax,0),p=u.reduce((m,x)=>m+x.discount,0);return u.length>0&&f/u.length,l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:u.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",f.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pajak"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",h.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Diskon"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-red-600",children:["Rp ",p.toLocaleString("id-ID")]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Penjualan"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Transaksi"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Diskon"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pajak"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),l.jsx("tbody",{className:"divide-y",children:u.slice(0,10).map(m=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:new Date(m.date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:m.id}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.subtotal.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600",children:["- Rp ",m.discount.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["Rp ",m.tax.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold",children:["Rp ",m.total.toLocaleString("id-ID")]})]},m.id))})]})})]})]})}function OM({products:a,stockHistory:n}){const[i,o]=ie.useState("name"),[d,u]=ie.useState("all"),f=a.reduce((w,v)=>w+v.price*v.stock,0),h=a.reduce((w,v)=>w+(v.cost||0)*v.stock,0),p=a.filter(w=>w.stock<=w.minStock).length,m=a.filter(w=>w.stock===0).length,x=a.reduce((w,v)=>w+v.stock,0);let b=[...a];d==="low"?b=b.filter(w=>w.stock<=w.minStock&&w.stock>0):d==="out"?b=b.filter(w=>w.stock===0):d==="normal"&&(b=b.filter(w=>w.stock>w.minStock)),i==="stock-asc"?b.sort((w,v)=>w.stock-v.stock):i==="stock-desc"?b.sort((w,v)=>v.stock-w.stock):i==="value-desc"?b.sort((w,v)=>v.price*v.stock-w.price*w.stock):b.sort((w,v)=>w.name.localeCompare(v.name));const y=(n||[]).slice(0,10);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:a.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Unit"}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:x.toLocaleString("id-ID")})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Jual"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",(f/1e6).toFixed(1),"M"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Nilai Modal (HPP)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:["Rp ",(h/1e6).toFixed(1),"M"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Stok Bermasalah"}),l.jsx("p",{className:"text-2xl font-bold mt-1 text-red-600",children:p+m}),l.jsxs("p",{className:"text-xs text-gray-500",children:[m," habis, ",p," rendah"]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"input",children:[l.jsx("option",{value:"all",children:"Semua Status"}),l.jsx("option",{value:"normal",children:"Stok Normal"}),l.jsx("option",{value:"low",children:"Stok Rendah"}),l.jsx("option",{value:"out",children:"Stok Habis"})]}),l.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"input",children:[l.jsx("option",{value:"name",children:"Urut: Nama A-Z"}),l.jsx("option",{value:"stock-asc",children:"Urut: Stok Terendah"}),l.jsx("option",{value:"stock-desc",children:"Urut: Stok Tertinggi"}),l.jsx("option",{value:"value-desc",children:"Urut: Nilai Tertinggi"})]})]})}),l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detail Stok Produk (",b.length," produk)"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Min"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga Jual"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Nilai Stok"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:b.slice(0,50).map(w=>l.jsxs("tr",{className:`hover:bg-gray-50 ${w.stock===0?"bg-red-50":w.stock<=w.minStock?"bg-orange-50":""}`,children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("p",{className:"font-medium",children:w.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[w.code," ",w.sku?` ${w.sku}`:""]})]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:[w.stock," ",w.unit]}),l.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:w.minStock}),l.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",(w.price||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["Rp ",(w.cost||0).toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["Rp ",((w.price||0)*w.stock).toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-center",children:w.stock===0?l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"HABIS"}):w.stock<=w.minStock?l.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:"Rendah"}):l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Normal"})})]},w.id))})]})}),b.length>50&&l.jsxs("p",{className:"text-center text-gray-500 py-4 text-sm",children:["Menampilkan 50 dari ",b.length," produk"]})]}),y.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Perubahan Stok Terakhir"}),l.jsx("div",{className:"space-y-2",children:y.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:w.productName}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.createdAt).toLocaleString("id-ID")})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:`font-bold ${w.change>0?"text-green-600":w.change<0?"text-red-600":""}`,children:[w.change>0?"+":"",w.change]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[w.oldStock,"  ",w.newStock]})]})]},w.id))})]})]})}function UM({transactions:a,dateRange:n,customStartDate:i,customEndDate:o}){const d=m=>{const x=new Date;return x.setHours(0,0,0,0),m.filter(b=>{const y=new Date(b.date);if(n==="custom"&&i&&o){const w=new Date(i),v=new Date(o);return v.setHours(23,59,59,999),y>=w&&y<=v}if(n==="today"){const w=new Date(y);return w.setHours(0,0,0,0),w.getTime()===x.getTime()}else if(n==="week"){const w=new Date(x);return w.setDate(w.getDate()-7),y>=w}else if(n==="month"){const w=new Date(x);return w.setMonth(w.getMonth()-1),y>=w}return!0})},u={};d(a).filter(m=>m.status==="completed").forEach(m=>{m.items.forEach(x=>{u[x.id]||(u[x.id]={name:x.name,quantity:0,revenue:0}),u[x.id].quantity+=x.quantity,u[x.id].revenue+=x.price*x.quantity})});const f=Object.values(u).sort((m,x)=>x.quantity-m.quantity).slice(0,10),h=f.reduce((m,x)=>m+x.quantity,0),p=f.reduce((m,x)=>m+x.revenue,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk Terjual"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:[h," items"]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue (Top 10)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata per Produk"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",f.length>0?(p/f.length).toLocaleString("id-ID"):0]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Top 10 Produk Terlaris"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ranking"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty Terjual"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Revenue"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% dari Total"})]})}),l.jsx("tbody",{className:"divide-y",children:f.map((m,x)=>{const b=p>0?(m.revenue/p*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${x===0?"bg-yellow-400 text-white":x===1?"bg-gray-400 text-white":x===2?"bg-orange-400 text-white":"bg-gray-200 text-gray-700"}`,children:x+1})}),l.jsx("td",{className:"px-6 py-4 font-medium",children:m.name}),l.jsx("td",{className:"px-6 py-4 text-right font-semibold",children:m.quantity}),l.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:["Rp ",m.revenue.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${b}%`}})}),l.jsxs("span",{className:"text-sm",children:[b,"%"]})]})})]},x)})})]})}),f.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data penjualan untuk periode ini"})]})]})}function zM({transactions:a,products:n,dateRange:i,customStartDate:o,customEndDate:d}){const f=(j=>{const N=new Date;return N.setHours(0,0,0,0),j.filter(B=>{const I=new Date(B.date);if(i==="custom"&&o&&d){const D=new Date(o),T=new Date(d);return T.setHours(23,59,59,999),I>=D&&I<=T}if(i==="today"){const D=new Date(I);return D.setHours(0,0,0,0),D.getTime()===N.getTime()}else if(i==="week"){const D=new Date(N);return D.setDate(D.getDate()-7),I>=D}else if(i==="month"){const D=new Date(N);return D.setMonth(D.getMonth()-1),I>=D}else if(i==="year"){const D=new Date(N.getFullYear(),0,1);return I>=D}return!0})})(a).filter(j=>j.status==="completed"),h={};n.forEach(j=>{h[j.id]=j.cost||0});const p={};let m=0,x=0,b=0,y=0;f.forEach(j=>{b+=j.discount||0,y+=j.tax||0,j.items.forEach(N=>{const B=h[N.id]||N.cost||0,I=N.price*N.quantity,D=B*N.quantity,T=I-D;m+=I,x+=D,p[N.id]||(p[N.id]={name:N.name,quantity:0,revenue:0,cogs:0,profit:0}),p[N.id].quantity+=N.quantity,p[N.id].revenue+=I,p[N.id].cogs+=D,p[N.id].profit+=T})});const w=m-x,v=w-b+y,A=m>0?(w/m*100).toFixed(1):0,k=m>0?(v/m*100).toFixed(1):0,E=Object.values(p).sort((j,N)=>N.profit-j.profit).slice(0,10);return l.jsxs("div",{className:"space-y-6 print:space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Pendapatan"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",m.toLocaleString("id-ID")]})]}),l.jsx(s2,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"HPP (COGS)"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",x.toLocaleString("id-ID")]})]}),l.jsx(Ps,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Laba Kotor"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",w.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",A,"%"]})]}),l.jsx(Lm,{size:40,className:"opacity-80"})]})}),l.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Laba Bersih"}),l.jsxs("p",{className:"text-2xl font-bold mt-1",children:["Rp ",v.toLocaleString("id-ID")]}),l.jsxs("p",{className:"text-xs opacity-75",children:["Margin: ",k,"%"]})]}),l.jsx(OD,{size:40,className:"opacity-80"})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Rincian Laba Rugi"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between py-2 border-b",children:[l.jsx("span",{className:"font-medium",children:"Total Pendapatan (Revenue)"}),l.jsxs("span",{className:"font-bold text-blue-600",children:["Rp ",m.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[l.jsx("span",{children:"(-) Harga Pokok Penjualan (HPP)"}),l.jsxs("span",{children:["Rp ",x.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b bg-green-50 px-2 rounded",children:[l.jsx("span",{className:"font-medium text-green-700",children:"= Laba Kotor (Gross Profit)"}),l.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",w.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b text-red-600",children:[l.jsx("span",{children:"(-) Total Diskon"}),l.jsxs("span",{children:["Rp ",b.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-2 border-b",children:[l.jsx("span",{children:"(+) PPN yang Dipungut"}),l.jsxs("span",{children:["Rp ",y.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between py-3 bg-purple-50 px-2 rounded text-lg",children:[l.jsx("span",{className:"font-bold text-purple-700",children:"= Laba Bersih (Net Profit)"}),l.jsxs("span",{className:"font-bold text-purple-600",children:["Rp ",v.toLocaleString("id-ID")]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Profit per Produk (Top 10)"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qty"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"HPP"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Profit"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margin"})]})}),l.jsx("tbody",{className:"divide-y",children:E.map((j,N)=>{const B=j.revenue>0?(j.profit/j.revenue*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium",children:j.name}),l.jsx("td",{className:"px-4 py-3 text-right",children:j.quantity}),l.jsxs("td",{className:"px-4 py-3 text-right",children:["Rp ",j.revenue.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right text-red-600",children:["Rp ",j.cogs.toLocaleString("id-ID")]}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:["Rp ",j.profit.toLocaleString("id-ID")]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${B>=30?"bg-green-100 text-green-700":B>=15?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[B,"%"]})})]},N)})})]})}),E.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Belum ada data transaksi untuk periode ini"})]}),l.jsx("div",{className:"card bg-blue-50 border border-blue-200",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:" Tips:"})," Pastikan HPP (Harga Pokok Penjualan) di setiap produk sudah diisi dengan benar untuk mendapatkan laporan laba rugi yang akurat. Anda dapat mengisi HPP di menu Produk."]})})]})}function LM({transactions:a,stores:n,dateRange:i,customStartDate:o,customEndDate:d}){const f=(x=>{const b=new Date;return b.setHours(0,0,0,0),x.filter(y=>{const w=new Date(y.date);if(i==="custom"&&o&&d){const v=new Date(o),A=new Date(d);return A.setHours(23,59,59,999),w>=v&&w<=A}if(i==="today"){const v=new Date(w);return v.setHours(0,0,0,0),v.getTime()===b.getTime()}else if(i==="week"){const v=new Date(b);return v.setDate(v.getDate()-7),w>=v}else if(i==="month"){const v=new Date(b);return v.setMonth(v.getMonth()-1),w>=v}return!0})})(a).filter(x=>x.status==="completed"),h={pos:{label:"POS (Kasir)",color:"bg-blue-500",transactions:0,revenue:0},shopee:{label:"Shopee",color:"bg-orange-500",transactions:0,revenue:0},lazada:{label:"Lazada",color:"bg-purple-500",transactions:0,revenue:0},tokopedia:{label:"Tokopedia",color:"bg-green-500",transactions:0,revenue:0},tiktok:{label:"TikTok Shop",color:"bg-gray-800",transactions:0,revenue:0}};f.forEach(x=>{const b=x.source||"pos";h[b]?(h[b].transactions+=1,h[b].revenue+=x.total):(h.pos.transactions+=1,h.pos.revenue+=x.total)});const p=Object.values(h).reduce((x,b)=>x+b.revenue,0),m=Object.values(h).reduce((x,b)=>x+b.transactions,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Omzet Semua Sumber"}),l.jsxs("p",{className:"text-3xl font-bold mt-1 text-green-600",children:["Rp ",p.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:m})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).map(([x,b])=>{const y=p>0?(b.revenue/p*100).toFixed(1):0;return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:`w-4 h-4 rounded ${b.color}`}),l.jsx("h4",{className:"font-bold",children:b.label})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Transaksi"}),l.jsx("span",{className:"font-medium",children:b.transactions})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Omzet"}),l.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",b.revenue.toLocaleString("id-ID")]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Kontribusi"}),l.jsxs("span",{className:"font-medium",children:[y,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:l.jsx("div",{className:`${b.color} h-2 rounded-full transition-all`,style:{width:`${y}%`}})})]})]},x)})}),n&&n.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Toko Marketplace Terhubung"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${x.isConnected?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"font-medium",children:x.shopName})]}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:x.platform}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",x.lastSync?new Date(x.lastSync).toLocaleString("id-ID"):"Never"]})]},x.id))})]}),l.jsx("div",{className:"card bg-yellow-50 border border-yellow-200",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:" Info:"})," Data marketplace akan otomatis ter-update ketika Anda melakukan sinkronisasi dari halaman Marketplace Integration. Pastikan semua toko sudah terhubung untuk laporan yang akurat."]})})]})}const QM=a=>({code:a.code,sku:a.sku,barcode:a.barcode,name:a.name,description:a.description,category_id:typeof a.category=="number"?a.category:null,unit_id:typeof a.unit=="number"?a.unit:null,cost_price:a.cost||0,selling_price:a.price||0,stock:a.stock||0,min_stock:a.minStock||0,max_stock:a.maxStock||0,image_url:a.image,shopee_item_id:a.shopeeItemId,shopee_model_id:a.shopeeModelId,source:a.source||"local",is_variant:a.isVariant||!1,parent_product_id:a.parentId,variant_name:a.variantName,is_active:a.isActive!==!1}),HM=a=>({code:a.code,name:a.name,phone:a.phone,email:a.email,address:a.address,customer_type:a.type||"member",points:a.points||0,total_spent:a.totalSpent||0}),$M=a=>{var n;return{transaction_code:a.transactionCode||`TRX${Date.now()}`,transaction_date:a.date||new Date().toISOString(),customer_id:a.customerId||((n=a.customer)==null?void 0:n.id),subtotal:a.subtotal||0,discount_type:a.discountType,discount_value:a.discountValue||0,discount_amount:a.discount||0,tax_percent:a.taxPercent||11,tax_amount:a.tax||0,total:a.total||0,payment_method:a.paymentMethod||"cash",payment_amount:a.cashAmount||0,change_amount:a.change||0,status:a.status||"completed",void_reason:a.voidReason,notes:a.notes,cashier_id:a.cashierId,cashier_name:a.cashierName,source:a.source||"pos",marketplace_order_id:a.marketplaceOrderId}},GM=async()=>{try{const{count:a,error:n}=await Dr.from("products").select("*",{count:"exact",head:!0});if(n)throw n;return{isConfigured:!0,isOnline:!0,productCount:a,message:"Terhubung ke Supabase"}}catch(a){return{isConfigured:!0,isOnline:!1,message:"Gagal terhubung ke Supabase: "+a.message}}},qM=async(a,n,i)=>{const o={products:0,customers:0,transactions:0,errors:[]};for(const d of a)try{const{error:u}=await Dr.from("products").upsert(QM(d),{onConflict:"code"});u?o.errors.push(`Product ${d.name}: ${u.message}`):o.products++}catch(u){o.errors.push(`Product ${d.name}: ${u.message}`)}for(const d of n)if(d.type!=="walk-in")try{const{error:u}=await Dr.from("customers").upsert(HM(d),{onConflict:"code"});u?o.errors.push(`Customer ${d.name}: ${u.message}`):o.customers++}catch(u){o.errors.push(`Customer ${d.name}: ${u.message}`)}for(const d of i)try{const{error:u}=await Dr.from("transactions").upsert($M(d),{onConflict:"transaction_code"});u?o.errors.push(`Transaction ${d.transactionCode}: ${u.message}`):o.transactions++}catch(u){o.errors.push(`Transaction ${d.transactionCode}: ${u.message}`)}return{data:o,error:null}};function YM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(!1),[d,u]=ie.useState("add"),[f,h]=ie.useState(null),{users:p,user:m,addUser:x,updateUser:b,deleteUser:y,toggleUserActive:w,isAdmin:v}=Di(),{storeInfo:A,updateStoreInfo:k,setLogo:E,stockSettings:j,updateStockSettings:N,whatsappNumber:B,whatsappMessage:I,updateWhatsApp:D}=_u(),{products:T}=zs(),{customers:R}=x1(),{purchases:$,suppliers:F}=y3(),{cartItems:_}=g3(),{logs:Q,clearOldLogs:H,exportLogs:J}=f1(),[K,he]=ie.useState(A),[G,L]=ie.useState(j||{bufferPercent:10,minBuffer:3,enableAutoSync:!0,syncInterval:30}),[ce,fe]=ie.useState({number:B||"",message:I||"Halo, saya ingin bertanya tentang produk di toko Anda."}),U=()=>{const xe={version:"1.0",timestamp:new Date().toISOString(),data:{products:T,customers:R,transactions,purchases:$,suppliers:F,settings:A,users:p,cart:_}},Oe=JSON.stringify(xe,null,2),Te=new Blob([Oe],{type:"application/json"}),Pe=URL.createObjectURL(Te),Ue=document.createElement("a");Ue.href=Pe,Ue.download=`backup-pos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),URL.revokeObjectURL(Pe),alert("Backup database berhasil diunduh!")},ee=xe=>{const Oe=xe.target.files[0];if(!Oe)return;if(!confirm("Restore database akan mengganti semua data yang ada. Lanjutkan?")){xe.target.value="";return}const Te=new FileReader;Te.onload=Pe=>{var Ue,Ze;try{const te=JSON.parse(Pe.target.result);if(!te.version||!te.data)throw new Error("Format backup tidak valid");localStorage.setItem("product-storage",JSON.stringify({state:{products:te.data.products,categories:(Ze=(Ue=te.data.products)==null?void 0:Ue[0])!=null&&Ze.category?[...new Set(te.data.products.map(oe=>oe.category))]:[]}})),localStorage.setItem("customer-storage",JSON.stringify({state:{customers:te.data.customers}})),localStorage.setItem("transaction-storage",JSON.stringify({state:{transactions:te.data.transactions}})),localStorage.setItem("purchase-storage",JSON.stringify({state:{purchases:te.data.purchases,suppliers:te.data.suppliers}})),localStorage.setItem("settings-storage",JSON.stringify({state:{storeInfo:te.data.settings}})),localStorage.setItem("auth-storage",JSON.stringify({state:{users:te.data.users,isAuthenticated:!0}})),alert("Restore database berhasil! Halaman akan di-refresh."),window.location.reload()}catch(te){alert("Error restore database: "+te.message)}},Te.readAsText(Oe),xe.target.value=""},se=()=>{confirm(` PERINGATAN!

Ini akan menghapus SEMUA data:
- Produk
- Customer
- Transaksi
- Pembelian
- Supplier
- Settings
- Cache Shopee

Data TIDAK BISA dikembalikan!
Lanjutkan?`)&&confirm("Konfirmasi sekali lagi: Anda yakin ingin menghapus SEMUA database?")&&(zs.setState({products:[],categories:["Makanan","Minuman","Snack","Sembako","Elektronik","Alat Tulis"]}),x1.setState({customers:[{id:1,name:"Walk-in Customer",phone:"-",email:"-",address:"-",type:"walk-in",points:0,totalSpent:0,customPrices:{}}]}),m1.setState({transactions:[]}),y3.setState({purchases:[],suppliers:[]}),g3.setState({items:[],discount:0,discountType:"percent",paymentMethod:"cash",customerId:null}),localStorage.removeItem("product-storage"),localStorage.removeItem("customer-storage"),localStorage.removeItem("transaction-storage"),localStorage.removeItem("purchase-storage"),localStorage.removeItem("settings-storage"),localStorage.removeItem("cart-storage"),localStorage.removeItem("shopee_products_cache"),localStorage.removeItem("shopee_orders_cache"),localStorage.removeItem("shopee_returns_cache"),localStorage.removeItem("shopee_last_sync"),alert("Semua database berhasil dihapus! Halaman akan di-refresh."),window.location.reload(!0))},de=xe=>{const Oe=xe.target.files[0];if(Oe&&Oe.type.startsWith("image/")){const Te=new FileReader;Te.onloadend=()=>{E(Te.result),he({...K,logo:Te.result})},Te.readAsDataURL(Oe)}},ke=()=>{k(K),alert("Informasi toko berhasil disimpan!")},ae=xe=>{h(xe),n(!0)},De=()=>{u("add"),h(null),o(!0)},we=xe=>{u("edit"),h(xe),o(!0)},Ae=xe=>{if(!confirm(`Hapus user "${xe.name}"?

Data user akan dihapus permanen.`))return;const Oe=y(xe.id);Oe.success||alert(Oe.error)},Le=xe=>{const Oe=xe.isActive?"nonaktifkan":"aktifkan";if(!confirm(`${Oe.charAt(0).toUpperCase()+Oe.slice(1)} user "${xe.name}"?`))return;const Te=w(xe.id);Te.success||alert(Te.error)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pengaturan"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Konfigurasi sistem dan preferensi"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(g1,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Informasi Toko"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logo Toko"}),l.jsxs("div",{className:"flex items-center gap-4",children:[K.logo?l.jsx("div",{className:"relative w-24 h-24 rounded-lg border-2 border-gray-200 overflow-hidden",children:l.jsx("img",{src:K.logo,alt:"Logo",className:"w-full h-full object-contain"})}):l.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:l.jsx(ru,{className:"text-gray-400",size:32})}),l.jsxs("div",{children:[l.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:de,className:"hidden"}),l.jsxs("label",{htmlFor:"logo-upload",className:"btn btn-secondary cursor-pointer inline-flex items-center gap-2",children:[l.jsx(au,{size:16}),"Pilih Logo"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG maksimal 2MB"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Toko"}),l.jsx("input",{type:"text",value:K.name,onChange:xe=>he({...K,name:xe.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alamat"}),l.jsx("textarea",{className:"input",rows:"2",value:K.address,onChange:xe=>he({...K,address:xe.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telepon"}),l.jsx("input",{type:"tel",value:K.phone,onChange:xe=>he({...K,phone:xe.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:K.email,onChange:xe=>he({...K,email:xe.target.value}),className:"input"})]}),l.jsx("button",{onClick:ke,className:"btn btn-primary",children:"Simpan Informasi"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ps,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Stok Marketplace"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx(xd,{size:14,className:"inline mr-1"}),"Buffer stok mencegah overselling di marketplace dengan menyisihkan sejumlah stok sebagai cadangan."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Buffer Stok (%)"}),l.jsx("input",{type:"number",min:"0",max:"50",value:G.bufferPercent,onChange:xe=>L({...G,bufferPercent:parseInt(xe.target.value)||0}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Persentase stok yang dicadangkan (default: 10%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Minimum Buffer (pcs)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:G.minBuffer,onChange:xe=>L({...G,minBuffer:parseInt(xe.target.value)||0}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal stok cadangan walaupun % rendah (default: 3 pcs)"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:G.enableAutoSync,onChange:xe=>L({...G,enableAutoSync:xe.target.checked}),className:"w-4 h-4"}),l.jsx("span",{children:"Auto-sync stok ke marketplace"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interval Sync (menit)"}),l.jsx("input",{type:"number",min:"5",max:"120",value:G.syncInterval,onChange:xe=>L({...G,syncInterval:parseInt(xe.target.value)||30}),className:"input",disabled:!G.enableAutoSync})]}),l.jsx("button",{onClick:()=>{N(G),alert("Pengaturan stok marketplace berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan Stok"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(MessageCircle,{className:"text-green-500",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"WhatsApp Customer Service"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-green-800",children:[l.jsx(xd,{size:14,className:"inline mr-1"}),"Tambahkan nomor WhatsApp CS untuk tombol kontak cepat di dashboard dan struk."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nomor WhatsApp"}),l.jsx("input",{type:"tel",placeholder:"6281234567890",value:ce.number,onChange:xe=>fe({...ce,number:xe.target.value}),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 628xxx (tanpa + atau 0 di depan)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pesan Default"}),l.jsx("textarea",{rows:"3",placeholder:"Halo, saya ingin bertanya...",value:ce.message,onChange:xe=>fe({...ce,message:xe.target.value}),className:"input"})]}),ce.number&&l.jsx("div",{className:"flex gap-2",children:l.jsxs("a",{href:`https://wa.me/${ce.number.replace(/\\D/g,"")}?text=${encodeURIComponent(ce.message)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success flex items-center gap-2",children:[l.jsx(MessageCircle,{size:16}),"Test WhatsApp"]})}),l.jsx("button",{onClick:()=>{D(ce.number,ce.message),alert("Pengaturan WhatsApp berhasil disimpan!")},className:"btn btn-primary",children:"Simpan Pengaturan WhatsApp"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(yw,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Pajak"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Aktifkan Pajak PPN"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Persentase PPN (%)"}),l.jsx("input",{type:"number",defaultValue:"11",className:"input"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Tampilkan harga sudah termasuk pajak"})]})}),l.jsx("button",{className:"btn btn-primary",children:"Simpan"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(n2,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Pengaturan Printer"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Printer"}),l.jsxs("select",{className:"input",children:[l.jsx("option",{children:"Thermal Printer (Default)"}),l.jsx("option",{children:"HP LaserJet"}),l.jsx("option",{children:"Canon Pixma"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ukuran Kertas"}),l.jsxs("select",{className:"input",children:[l.jsx("option",{children:"58mm (Thermal)"}),l.jsx("option",{children:"80mm (Thermal)"}),l.jsx("option",{children:"A4"})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Cetak otomatis setelah transaksi"})]})}),l.jsx("button",{className:"btn btn-secondary",children:"Test Print"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Pm,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Notifikasi"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Alert stok menipis"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),l.jsx("span",{children:"Alert produk mendekati expired"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Notifikasi email harian"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4"}),l.jsx("span",{children:"Notifikasi WhatsApp"})]}),l.jsx("button",{className:"btn btn-primary mt-4",children:"Simpan"})]})]}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(W0,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Manajemen Pengguna"})]}),v()&&l.jsxs("button",{onClick:De,className:"btn btn-primary btn-sm inline-flex items-center gap-2",children:[l.jsx(Us,{size:16}),"Tambah User"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:p.length}),l.jsx("p",{className:"text-xs text-blue-600",children:"Total User"})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:p.filter(xe=>xe.isActive!==!1).length}),l.jsx("p",{className:"text-xs text-green-600",children:"User Aktif"})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:p.filter(xe=>xe.role==="admin").length}),l.jsx("p",{className:"text-xs text-purple-600",children:"Admin"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:p.filter(xe=>{var Oe,Te;return(Te=(Oe=xe.marketplaceCredentials)==null?void 0:Oe.shopee)==null?void 0:Te.isConnected}).length}),l.jsx("p",{className:"text-xs text-orange-600",children:"Terhubung Shopee"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marketplace"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:p.map(xe=>{var Oe,Te;return l.jsxs("tr",{className:xe.isActive===!1?"bg-gray-50 opacity-60":"",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${xe.role==="admin"?"bg-purple-500":"bg-blue-500"}`,children:xe.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:xe.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["@",xe.username]})]}),(m==null?void 0:m.id)===xe.id&&l.jsx("span",{className:"badge badge-info text-xs",children:"Anda"})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`badge ${xe.role==="admin"?"badge-danger":"badge-info"}`,children:xe.role==="admin"?"Admin":"Kasir"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[xe.permissions.includes("all")?l.jsx("span",{className:"badge badge-success text-xs",children:"Semua Akses"}):xe.permissions.slice(0,3).map(Pe=>l.jsx("span",{className:"badge badge-secondary text-xs",children:O5[Pe]||Pe},Pe)),!xe.permissions.includes("all")&&xe.permissions.length>3&&l.jsxs("span",{className:"badge badge-secondary text-xs",children:["+",xe.permissions.length-3]})]})}),l.jsx("td",{className:"px-4 py-4",children:(Te=(Oe=xe.marketplaceCredentials)==null?void 0:Oe.shopee)!=null&&Te.isConnected?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-700",children:"Shopee"})]}):l.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`badge ${xe.isActive!==!1?"badge-success":"badge-danger"}`,children:xe.isActive!==!1?"Aktif":"Nonaktif"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>ae(xe),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ganti Password",children:l.jsx(xw,{size:16,className:"text-gray-600"})}),v()&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>we(xe),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User",children:l.jsx(zm,{size:16,className:"text-blue-600"})}),xe.id!==1&&xe.id!==(m==null?void 0:m.id)&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Le(xe),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:xe.isActive!==!1?"Nonaktifkan":"Aktifkan",children:xe.isActive!==!1?l.jsx(dT,{size:16,className:"text-yellow-600"}):l.jsx(cT,{size:16,className:"text-green-600"})}),l.jsx("button",{onClick:()=>Ae(xe),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus User",children:l.jsx(Un,{size:16,className:"text-red-600"})})]})]})]})})]},xe.id)})})]})})]}),v()&&l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(hw,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Audit Log"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>{confirm("Hapus log lama (lebih dari 30 hari)?")&&(H(30),alert("Log lama berhasil dihapus"))},className:"btn btn-secondary text-sm",children:[l.jsx(Un,{size:16}),"Clear Old"]}),l.jsxs("button",{onClick:()=>{const xe=J(),Oe=new Blob([xe],{type:"application/json"}),Te=URL.createObjectURL(Oe),Pe=document.createElement("a");Pe.href=Te,Pe.download=`audit-log-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),URL.revokeObjectURL(Te)},className:"btn btn-primary text-sm",children:[l.jsx(Zo,{size:16}),"Export"]})]})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Log aktivitas sistem (total: ",Q.length,")"]}),l.jsx("div",{className:"max-h-80 overflow-y-auto border rounded-lg",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Waktu"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Aksi"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"User"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Detail"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Q.slice(0,50).map(xe=>{var Oe,Te,Pe;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 whitespace-nowrap",children:new Date(xe.timestamp).toLocaleString("id-ID")}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${xe.action.includes("login")?"bg-blue-100 text-blue-800":xe.action.includes("transaction")?"bg-green-100 text-green-800":xe.action.includes("stock")?"bg-yellow-100 text-yellow-800":xe.action.includes("product")?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:xe.action.replace("_"," ").toUpperCase()})}),l.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:xe.userName||"-"}),l.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 max-w-xs truncate",title:JSON.stringify(xe.details),children:((Oe=xe.details)==null?void 0:Oe.productName)||((Te=xe.details)==null?void 0:Te.transactionId)||((Pe=xe.details)==null?void 0:Pe.username)||JSON.stringify(xe.details).slice(0,50)})]},xe.id)}),Q.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500",children:"Belum ada log aktivitas"})})]})]})})]}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(GD,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Backup & Restore Database"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:l.jsx(Zo,{className:"text-primary",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Backup Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download semua data sistem (produk, customer, transaksi, dll) dalam format JSON"}),l.jsxs("button",{onClick:U,className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(Zo,{size:20}),"Download Backup"]})]})]})}),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-warning transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:l.jsx(v3,{className:"text-warning",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Restore Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload file backup untuk mengembalikan data sistem"}),l.jsx("input",{type:"file",id:"restore-upload",accept:".json",onChange:ee,className:"hidden"}),l.jsxs("label",{htmlFor:"restore-upload",className:"btn btn-warning inline-flex items-center gap-2 cursor-pointer",children:[l.jsx(v3,{size:20}),"Upload Backup"]})]})]})}),l.jsx("div",{className:"border-2 border-dashed border-red-300 rounded-lg p-6 text-center hover:border-red-500 transition-colors md:col-span-2",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:l.jsx(Un,{className:"text-danger",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg mb-2 text-red-700",children:"Hapus Seluruh Database"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Menghapus SEMUA data sistem. Data tidak bisa dikembalikan!"}),l.jsxs("button",{onClick:se,className:"btn btn-danger inline-flex items-center gap-2",children:[l.jsx(Un,{size:20}),"Hapus Semua Data"]})]})]})})]}),l.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-yellow-600 font-bold",children:""}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-yellow-800 mb-1",children:"Peringatan"}),l.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[l.jsx("li",{children:" Backup database secara rutin untuk keamanan data"}),l.jsx("li",{children:" Restore akan mengganti semua data yang ada saat ini"}),l.jsx("li",{children:" Pastikan file backup valid sebelum melakukan restore"}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Hapus Database akan menghapus SEMUA data tanpa bisa dikembalikan!"})]}),l.jsx("li",{children:" Sistem akan refresh otomatis setelah restore/clear berhasil"})]})]})]})})]}),l.jsx(WM,{products:T,customers:R,transactions}),l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(xd,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Tentang Aplikasi"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(g1,{className:"text-white",size:32})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"POS & Inventory System"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-primary/10 text-primary text-sm font-medium rounded-full",children:[l.jsx(QD,{size:14}),"Versi 1.0.0"]})]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Aplikasi Point of Sale dan Manajemen Inventori lengkap dengan fitur kasir, manajemen produk, pelacakan stok, laporan penjualan, dan sinkronisasi real-time. Dirancang untuk memudahkan pengelolaan bisnis retail Anda."}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Manajemen Produk & Kategori"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Transaksi Penjualan (Kasir)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Pelacakan Stok Real-time"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Laporan Penjualan & Analitik"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Sinkronisasi Cloud (Supabase)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Scan Barcode (Android)"]})]})]}),l.jsxs("div",{className:"md:w-72 bg-white rounded-xl p-5 shadow-sm",children:[l.jsxs("h5",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(W0,{size:18,className:"text-primary"}),"Pengembang"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Nama"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"DedyChen"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),l.jsxs("a",{href:"https://wa.me/6281213821828",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-green-600 font-semibold hover:text-green-700 transition-colors",children:[l.jsx(rT,{size:16}),"0812-1382-1828"]})]}),l.jsx("div",{className:"pt-3 border-t border-gray-100",children:l.jsxs("a",{href:"https://wa.me/6281213821828?text=Halo%20DedyChen,%20saya%20ingin%20bertanya%20tentang%20aplikasi%20POS",target:"_blank",rel:"noopener noreferrer",className:"w-full btn bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Hubungi via WhatsApp"]})})]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center text-sm text-gray-500",children:l.jsx("p",{children:" 2024 POS & Inventory System. Dikembangkan dengan  oleh DedyChen"})})]})]})]}),a&&l.jsx(VM,{user:f,onClose:()=>{n(!1),h(null)}}),i&&l.jsx(KM,{mode:d,user:f,onClose:()=>{o(!1),h(null)}})]})}function VM({user:a,onClose:n}){const[i,o]=ie.useState({newPassword:"",confirmPassword:""}),[d,u]=ie.useState(""),[f,h]=ie.useState(!1),{changePassword:p}=Di(),m=x=>{if(x.preventDefault(),u(""),i.newPassword.length<4){u("Password minimal 4 karakter");return}if(i.newPassword!==i.confirmPassword){u("Password tidak cocok");return}p(a.username,i.newPassword),h(!0),setTimeout(()=>{n()},1500)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xw,{className:"text-primary",size:24}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Ganti Password"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["User: ",a.name]})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),f?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:"Password Berhasil Diubah!"}),l.jsxs("p",{className:"text-gray-600",children:["Password untuk ",a.name," telah diperbarui"]})]}):l.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:d}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password Baru *"}),l.jsx("input",{type:"password",value:i.newPassword,onChange:x=>o({...i,newPassword:x.target.value}),className:"input",placeholder:"Masukkan password baru",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 4 karakter"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password *"}),l.jsx("input",{type:"password",value:i.confirmPassword,onChange:x=>o({...i,confirmPassword:x.target.value}),className:"input",placeholder:"Ketik ulang password baru",required:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Ubah Password"}),l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function KM({mode:a,user:n,onClose:i}){const{addUser:o,updateUser:d}=Di(),[u,f]=ie.useState(""),[h,p]=ie.useState(!1),m=["pos","products","products_view","stock","customers","customers_view","sales","purchases","reports","marketplace","settings"],[x,b]=ie.useState({username:(n==null?void 0:n.username)||"",password:"",confirmPassword:"",name:(n==null?void 0:n.name)||"",role:(n==null?void 0:n.role)||"cashier",permissions:(n==null?void 0:n.permissions)||["pos","products_view"],isActive:(n==null?void 0:n.isActive)!==!1}),y=v=>{if(v==="all")b({...x,permissions:x.permissions.includes("all")?[]:["all"]});else{const A=x.permissions.filter(k=>k!=="all");A.includes(v)?b({...x,permissions:A.filter(k=>k!==v)}):b({...x,permissions:[...A,v]})}},w=v=>{if(v.preventDefault(),f(""),!x.username.trim()){f("Username harus diisi");return}if(!x.name.trim()){f("Nama harus diisi");return}if(a==="add"){if(!x.password){f("Password harus diisi");return}if(x.password.length<4){f("Password minimal 4 karakter");return}if(x.password!==x.confirmPassword){f("Konfirmasi password tidak cocok");return}}if(x.permissions.length===0){f("Pilih minimal 1 permission");return}if(a==="add"){const A=o({username:x.username.trim().toLowerCase(),password:x.password,name:x.name.trim(),role:x.role,permissions:x.permissions});if(!A.success){f(A.error);return}}else{const A={username:x.username.trim().toLowerCase(),name:x.name.trim(),role:x.role,permissions:x.permissions,isActive:x.isActive};if(x.password){if(x.password.length<4){f("Password minimal 4 karakter");return}if(x.password!==x.confirmPassword){f("Konfirmasi password tidak cocok");return}A.password=x.password}const k=d(n.id,A);if(!k.success){f(k.error);return}}p(!0),setTimeout(()=>i(),1500)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${a==="add"?"bg-green-100":"bg-blue-100"}`,children:a==="add"?l.jsx(Us,{className:"text-green-600",size:24}):l.jsx(zm,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:a==="add"?"Tambah User Baru":"Edit User"}),a==="edit"&&l.jsxs("p",{className:"text-sm text-gray-600",children:["@",n.username]})]})]}),l.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Js,{size:24})})]}),h?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(T1,{className:"text-green-600",size:32})}),l.jsx("h4",{className:"text-lg font-bold text-green-600 mb-2",children:a==="add"?"User Berhasil Ditambahkan!":"User Berhasil Diperbarui!"})]}):l.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[u&&l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2",children:[l.jsx(wc,{size:18}),u]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),l.jsx("input",{type:"text",value:x.username,onChange:v=>b({...x,username:v.target.value}),className:"input",placeholder:"username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nama Lengkap *"}),l.jsx("input",{type:"text",value:x.name,onChange:v=>b({...x,name:v.target.value}),className:"input",placeholder:"Nama Lengkap",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",a==="add"?"*":"(kosongkan jika tidak diubah)"]}),l.jsx("input",{type:"password",value:x.password,onChange:v=>b({...x,password:v.target.value}),className:"input",placeholder:"",required:a==="add"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Konfirmasi Password"}),l.jsx("input",{type:"password",value:x.confirmPassword,onChange:v=>b({...x,confirmPassword:v.target.value}),className:"input",placeholder:"",required:a==="add"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role *"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"role",value:"cashier",checked:x.role==="cashier",onChange:()=>b({...x,role:"cashier"}),className:"w-4 h-4"}),l.jsx("span",{className:"badge badge-info",children:"Kasir"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"role",value:"admin",checked:x.role==="admin",onChange:()=>b({...x,role:"admin",permissions:["all"]}),className:"w-4 h-4"}),l.jsx("span",{className:"badge badge-danger",children:"Admin"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:[l.jsx(nT,{size:16,className:"inline mr-1"}),"Permissions *"]}),l.jsxs("div",{className:"border rounded-lg p-4 space-y-3 max-h-48 overflow-y-auto",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[l.jsx("input",{type:"checkbox",checked:x.permissions.includes("all"),onChange:()=>y("all"),className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-green-700",children:" Semua Akses (Admin)"})]}),l.jsx("hr",{}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(v=>l.jsxs("label",{className:`flex items-center gap-2 cursor-pointer p-2 rounded transition-colors ${x.permissions.includes("all")?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:x.permissions.includes("all")||x.permissions.includes(v),onChange:()=>!x.permissions.includes("all")&&y(v),disabled:x.permissions.includes("all"),className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:O5[v]||v})]},v))})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.permissions.includes("all")?"User memiliki akses ke semua fitur":`${x.permissions.length} permission dipilih`})]}),a==="edit"&&(n==null?void 0:n.id)!==1&&l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:x.isActive,onChange:v=>b({...x,isActive:v.target.checked}),className:"w-4 h-4"}),l.jsx("span",{children:"User Aktif"})]}),l.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"User nonaktif tidak bisa login"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:a==="add"?"Tambah User":"Simpan Perubahan"}),l.jsx("button",{type:"button",onClick:i,className:"flex-1 btn btn-secondary",children:"Batal"})]})]})]})})}function WM({products:a,customers:n,transactions:i}){var b,y;const[o,d]=ie.useState({isConfigured:!1,isOnline:!1,message:"Memeriksa..."}),[u,f]=ie.useState(!1),[h,p]=ie.useState(null);ie.useEffect(()=>{m()},[]);const m=async()=>{const w=await GM();d(w)},x=async()=>{if(confirm(`Upload semua data lokal ke Supabase?

Data di cloud akan di-update/ditambahkan.`)){f(!0),p(null);try{const w=await qM(a,n,i);p(w.data)}catch(w){p({errors:[w.message]})}f(!1),await m()}};return l.jsxs("div",{className:"card md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(m3,{className:"text-primary",size:24}),l.jsx("h3",{className:"text-lg font-bold",children:"Sinkronisasi Cloud (Supabase)"})]}),l.jsxs("button",{onClick:m,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[l.jsx(v1,{size:16}),"Refresh Status"]})]}),l.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-center gap-3 ${o.isOnline?"bg-green-50 border border-green-200":o.isConfigured?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[o.isOnline?l.jsx(T1,{className:"text-green-600",size:24}):l.jsx(wc,{className:o.isConfigured?"text-yellow-600":"text-gray-400",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold ${o.isOnline?"text-green-700":o.isConfigured?"text-yellow-700":"text-gray-600"}`,children:o.isOnline?" Terhubung ke Supabase":o.message}),o.productCount!==void 0&&l.jsxs("p",{className:"text-sm text-gray-600",children:[o.productCount," produk di cloud"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:a.length}),l.jsx("p",{className:"text-sm text-blue-600",children:"Produk Lokal"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:n.length}),l.jsx("p",{className:"text-sm text-purple-600",children:"Customer Lokal"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:i.length}),l.jsx("p",{className:"text-sm text-green-600",children:"Transaksi Lokal"})]})]}),l.jsx("button",{onClick:x,disabled:!o.isOnline||u,className:`btn w-full flex items-center justify-center gap-2 ${o.isOnline?"btn-primary":"btn-secondary opacity-50 cursor-not-allowed"}`,children:u?l.jsxs(l.Fragment,{children:[l.jsx(v1,{size:20,className:"animate-spin"}),"Menyinkronkan..."]}):l.jsxs(l.Fragment,{children:[l.jsx(v3,{size:20}),"Upload Data Lokal ke Cloud"]})}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg ${(b=h.errors)!=null&&b.length?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:((y=h.errors)==null?void 0:y.length)>0?l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-red-700 mb-2",children:"Beberapa error terjadi:"}),l.jsxs("ul",{className:"text-sm text-red-600 list-disc list-inside",children:[h.errors.slice(0,5).map((w,v)=>l.jsx("li",{children:w},v)),h.errors.length>5&&l.jsxs("li",{children:["...dan ",h.errors.length-5," error lainnya"]})]})]}):l.jsxs("div",{className:"text-green-700",children:[l.jsx("p",{className:"font-semibold mb-1",children:" Sinkronisasi berhasil!"}),l.jsxs("p",{className:"text-sm",children:[h.products," produk, ",h.customers," customer, ",h.transactions," transaksi ter-sync"]})]})}),!1]})}const Qb=hl("Device",{web:()=>Pu(()=>import("./web-DMMxJisF.js"),[]).then(a=>new a.DeviceWeb)});function JM(){const[a,n]=ie.useState(!1),[i,o]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState(null),[p,m]=ie.useState(0),[x,b]=ie.useState({id:"",name:""}),[y,w]=ie.useState(""),[v,A]=ie.useState(null),{products:k}=zs();ie.useEffect(()=>{const R=`scan-${Date.now()}`;return w(R),Qb.getInfo().then($=>{Qb.getId().then(F=>{b({id:F.identifier||F.uuid||"unknown",name:`${$.manufacturer} ${$.model}`})})}),E(),()=>{D()}},[]);const E=async()=>{try{const{error:R}=await Dr.from("barcode_scans").select("id").limit(1);u(!R)}catch{u(!1)}},j=()=>{document.body.style.background="transparent",document.documentElement.style.background="transparent";const R=document.getElementById("root");R&&(R.style.visibility="hidden")},N=()=>{document.body.style.background="",document.documentElement.style.background="";const R=document.getElementById("root");R&&(R.style.visibility="visible")},B=async R=>{try{const{error:$}=await Dr.from("barcode_scans").insert({barcode:R,device_id:x.id,device_name:x.name,session_id:y,processed:!1});if($)throw $;const F=k.find(_=>_.barcode===R||_.code===R||_.sku===R);return h({barcode:R,product:F?F.name:null,time:new Date().toLocaleTimeString()}),m(_=>_+1),!0}catch($){return console.error("Error sending scan:",$),A("Gagal mengirim scan ke server"),!1}},I=async()=>{try{A(null);const{camera:R}=await ei.requestPermissions();if(R!=="granted"&&R!=="limited"){A("Izin kamera diperlukan");return}j(),n(!0),await ei.addListener("barcodeScanned",async $=>{var F;(F=$.barcode)!=null&&F.rawValue&&(navigator.vibrate&&navigator.vibrate(100),await B($.barcode.rawValue))}),await ei.startScan({formats:[Nn.Ean13,Nn.Ean8,Nn.Code128,Nn.Code39,Nn.QrCode,Nn.UpcA,Nn.UpcE],lensFacing:"back"})}catch(R){console.error("Scan error:",R),A("Gagal memulai scanner: "+R.message),N(),n(!1)}},D=async()=>{try{await ei.stopScan(),await ei.removeAllListeners(),i&&await ei.toggleTorch()}catch(R){console.error("Stop scan error:",R)}finally{N(),n(!1),o(!1)}},T=async()=>{try{await ei.toggleTorch(),o(!i)}catch(R){console.error("Torch error:",R)}};return a?l.jsxs("div",{className:"fixed inset-0 z-[9999]",style:{background:"transparent"},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"w-72 h-72 border-4 border-white rounded-2xl relative",style:{boxShadow:"0 0 0 4000px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{className:"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-green-500 rounded-tl-xl"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-green-500 rounded-tr-xl"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-green-500 rounded-bl-xl"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-green-500 rounded-br-xl"}),l.jsx("div",{className:"absolute left-4 right-4 h-1 bg-green-500 rounded scanning-line"})]})}),l.jsxs("div",{className:"absolute top-4 left-0 right-0 text-center pointer-events-none safe-area-top",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/60 backdrop-blur px-4 py-2 rounded-full",children:[l.jsx(su,{className:"text-green-400",size:18}),l.jsx("span",{className:"text-white font-medium",children:"Mode Remote Scanner"})]}),l.jsx("p",{className:"text-gray-200 text-sm mt-2",children:"Scan untuk kirim ke Kasir Web"})]}),f&&l.jsx("div",{className:"absolute top-24 left-4 right-4 pointer-events-none",children:l.jsxs("div",{className:"bg-green-500/90 backdrop-blur rounded-xl p-3 flex items-center gap-3",children:[l.jsx(Y0,{className:"text-white flex-shrink-0",size:24}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:f.product||f.barcode}),l.jsxs("p",{className:"text-green-100 text-sm",children:["Terkirim ke Web  ",f.time]})]}),l.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:l.jsx("span",{className:"text-white font-bold",children:p})})]})}),l.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex justify-center gap-12",children:[l.jsx("button",{onClick:T,className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/40",children:i?l.jsx(pw,{size:28,className:"text-yellow-400"}):l.jsx(mw,{size:28,className:"text-white"})}),l.jsx("button",{onClick:D,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center border-2 border-white/40",children:l.jsx(Js,{size:30,className:"text-white"})})]}),l.jsx("style",{children:`
          .scanning-line {
            animation: scan 2s ease-in-out infinite;
          }
          @keyframes scan {
            0%, 100% { top: 10%; }
            50% { top: 85%; }
          }
        `})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 text-white p-6 rounded-b-3xl",children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Remote Scanner"}),l.jsx("p",{className:"text-green-100",children:"Scan barcode untuk kasir di Web"}),l.jsx("div",{className:"mt-4 flex items-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx(su,{size:20,className:"text-green-300"}),l.jsx("span",{className:"text-green-200",children:"Terhubung ke server"})]}):l.jsxs(l.Fragment,{children:[l.jsx(kw,{size:20,className:"text-red-300"}),l.jsx("span",{className:"text-red-200",children:"Tidak terhubung"})]})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[v&&l.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-xl",children:v}),l.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Cara Penggunaan:"}),l.jsxs("ol",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"1"}),l.jsxs("span",{children:["Buka halaman ",l.jsx("strong",{children:"Kasir/POS"})," di komputer Web"]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"2"}),l.jsxs("span",{children:["Tekan tombol ",l.jsx("strong",{children:'"Mulai Scan"'})," di bawah"]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"3"}),l.jsx("span",{children:"Arahkan kamera ke barcode produk"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs font-bold",children:"4"}),l.jsx("span",{children:"Produk otomatis masuk ke keranjang di Web!"})]})]})]}),p>0&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ps,{className:"text-green-600",size:24}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-green-900",children:[p," produk di-scan"]}),f&&l.jsxs("p",{className:"text-sm text-green-700",children:["Terakhir: ",f.product||f.barcode]})]})]}),l.jsx("button",{onClick:()=>{m(0),h(null)},className:"text-green-600 text-sm underline",children:"Reset"})]})}),l.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Device:"})," ",x.name||"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Session:"})," ",y]})]}),l.jsxs("button",{onClick:I,disabled:!d,className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 shadow-lg transition-all mt-4 ${d?"bg-green-500 text-white active:scale-95":"bg-gray-300 text-gray-500"}`,children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),d?"Mulai Scan":"Tidak Terhubung"]})]})]})}function Lw(a,n){return function(){return a.apply(n,arguments)}}const{toString:XM}=Object.prototype,{getPrototypeOf:qm}=Object,{iterator:Qu,toStringTag:Qw}=Symbol,Hu=(a=>n=>{const i=XM.call(n);return a[i]||(a[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Wi=a=>(a=a.toLowerCase(),n=>Hu(n)===a),$u=a=>n=>typeof n===a,{isArray:kc}=Array,uc=$u("undefined");function f2(a){return a!==null&&!uc(a)&&a.constructor!==null&&!uc(a.constructor)&&ci(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Hw=Wi("ArrayBuffer");function ZM(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&Hw(a.buffer),n}const eF=$u("string"),ci=$u("function"),$w=$u("number"),h2=a=>a!==null&&typeof a=="object",tF=a=>a===!0||a===!1,vd=a=>{if(Hu(a)!=="object")return!1;const n=qm(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Qw in a)&&!(Qu in a)},rF=a=>{if(!h2(a)||f2(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},aF=Wi("Date"),sF=Wi("File"),nF=Wi("Blob"),iF=Wi("FileList"),oF=a=>h2(a)&&ci(a.pipe),lF=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||ci(a.append)&&((n=Hu(a))==="formdata"||n==="object"&&ci(a.toString)&&a.toString()==="[object FormData]"))},cF=Wi("URLSearchParams"),[dF,uF,fF,hF]=["ReadableStream","Request","Response","Headers"].map(Wi),pF=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function p2(a,n,{allOwnKeys:i=!1}={}){if(a===null||typeof a>"u")return;let o,d;if(typeof a!="object"&&(a=[a]),kc(a))for(o=0,d=a.length;o<d;o++)n.call(null,a[o],o,a);else{if(f2(a))return;const u=i?Object.getOwnPropertyNames(a):Object.keys(a),f=u.length;let h;for(o=0;o<f;o++)h=u[o],n.call(null,a[h],h,a)}}function Gw(a,n){if(f2(a))return null;n=n.toLowerCase();const i=Object.keys(a);let o=i.length,d;for(;o-- >0;)if(d=i[o],n===d.toLowerCase())return d;return null}const Wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qw=a=>!uc(a)&&a!==Wo;function w3(){const{caseless:a,skipUndefined:n}=qw(this)&&this||{},i={},o=(d,u)=>{const f=a&&Gw(i,u)||u;vd(i[f])&&vd(d)?i[f]=w3(i[f],d):vd(d)?i[f]=w3({},d):kc(d)?i[f]=d.slice():(!n||!uc(d))&&(i[f]=d)};for(let d=0,u=arguments.length;d<u;d++)arguments[d]&&p2(arguments[d],o);return i}const mF=(a,n,i,{allOwnKeys:o}={})=>(p2(n,(d,u)=>{i&&ci(d)?a[u]=Lw(d,i):a[u]=d},{allOwnKeys:o}),a),xF=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),vF=(a,n,i,o)=>{a.prototype=Object.create(n.prototype,o),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),i&&Object.assign(a.prototype,i)},gF=(a,n,i,o)=>{let d,u,f;const h={};if(n=n||{},a==null)return n;do{for(d=Object.getOwnPropertyNames(a),u=d.length;u-- >0;)f=d[u],(!o||o(f,a,n))&&!h[f]&&(n[f]=a[f],h[f]=!0);a=i!==!1&&qm(a)}while(a&&(!i||i(a,n))&&a!==Object.prototype);return n},bF=(a,n,i)=>{a=String(a),(i===void 0||i>a.length)&&(i=a.length),i-=n.length;const o=a.indexOf(n,i);return o!==-1&&o===i},yF=a=>{if(!a)return null;if(kc(a))return a;let n=a.length;if(!$w(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=a[n];return i},wF=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&qm(Uint8Array)),AF=(a,n)=>{const o=(a&&a[Qu]).call(a);let d;for(;(d=o.next())&&!d.done;){const u=d.value;n.call(a,u[0],u[1])}},kF=(a,n)=>{let i;const o=[];for(;(i=a.exec(n))!==null;)o.push(i);return o},jF=Wi("HTMLFormElement"),NF=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),Hb=(({hasOwnProperty:a})=>(n,i)=>a.call(n,i))(Object.prototype),SF=Wi("RegExp"),Yw=(a,n)=>{const i=Object.getOwnPropertyDescriptors(a),o={};p2(i,(d,u)=>{let f;(f=n(d,u,a))!==!1&&(o[u]=f||d)}),Object.defineProperties(a,o)},EF=a=>{Yw(a,(n,i)=>{if(ci(a)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=a[i];if(ci(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},CF=(a,n)=>{const i={},o=d=>{d.forEach(u=>{i[u]=!0})};return kc(a)?o(a):o(String(a).split(n)),i},IF=()=>{},BF=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function DF(a){return!!(a&&ci(a.append)&&a[Qw]==="FormData"&&a[Qu])}const TF=a=>{const n=new Array(10),i=(o,d)=>{if(h2(o)){if(n.indexOf(o)>=0)return;if(f2(o))return o;if(!("toJSON"in o)){n[d]=o;const u=kc(o)?[]:{};return p2(o,(f,h)=>{const p=i(f,d+1);!uc(p)&&(u[h]=p)}),n[d]=void 0,u}}return o};return i(a,0)},RF=Wi("AsyncFunction"),MF=a=>a&&(h2(a)||ci(a))&&ci(a.then)&&ci(a.catch),Vw=((a,n)=>a?setImmediate:n?((i,o)=>(Wo.addEventListener("message",({source:d,data:u})=>{d===Wo&&u===i&&o.length&&o.shift()()},!1),d=>{o.push(d),Wo.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",ci(Wo.postMessage)),FF=typeof queueMicrotask<"u"?queueMicrotask.bind(Wo):typeof process<"u"&&process.nextTick||Vw,_F=a=>a!=null&&ci(a[Qu]),_e={isArray:kc,isArrayBuffer:Hw,isBuffer:f2,isFormData:lF,isArrayBufferView:ZM,isString:eF,isNumber:$w,isBoolean:tF,isObject:h2,isPlainObject:vd,isEmptyObject:rF,isReadableStream:dF,isRequest:uF,isResponse:fF,isHeaders:hF,isUndefined:uc,isDate:aF,isFile:sF,isBlob:nF,isRegExp:SF,isFunction:ci,isStream:oF,isURLSearchParams:cF,isTypedArray:wF,isFileList:iF,forEach:p2,merge:w3,extend:mF,trim:pF,stripBOM:xF,inherits:vF,toFlatObject:gF,kindOf:Hu,kindOfTest:Wi,endsWith:bF,toArray:yF,forEachEntry:AF,matchAll:kF,isHTMLForm:jF,hasOwnProperty:Hb,hasOwnProp:Hb,reduceDescriptors:Yw,freezeMethods:EF,toObjectSet:CF,toCamelCase:NF,noop:IF,toFiniteNumber:BF,findKey:Gw,global:Wo,isContextDefined:qw,isSpecCompliantForm:DF,toJSONObject:TF,isAsyncFn:RF,isThenable:MF,setImmediate:Vw,asap:FF,isIterable:_F};function jr(a,n,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}_e.inherits(jr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const Kw=jr.prototype,Ww={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Ww[a]={value:a}});Object.defineProperties(jr,Ww);Object.defineProperty(Kw,"isAxiosError",{value:!0});jr.from=(a,n,i,o,d,u)=>{const f=Object.create(Kw);_e.toFlatObject(a,f,function(x){return x!==Error.prototype},m=>m!=="isAxiosError");const h=a&&a.message?a.message:"Error",p=n==null&&a?a.code:n;return jr.call(f,h,p,i,o,d),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",u&&Object.assign(f,u),f};const PF=null;function A3(a){return _e.isPlainObject(a)||_e.isArray(a)}function Jw(a){return _e.endsWith(a,"[]")?a.slice(0,-2):a}function $b(a,n,i){return a?a.concat(n).map(function(d,u){return d=Jw(d),!i&&u?"["+d+"]":d}).join(i?".":""):n}function OF(a){return _e.isArray(a)&&!a.some(A3)}const UF=_e.toFlatObject(_e,{},null,function(n){return/^is[A-Z]/.test(n)});function Gu(a,n,i){if(!_e.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,i=_e.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!_e.isUndefined(k[A])});const o=i.metaTokens,d=i.visitor||x,u=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(n);if(!_e.isFunction(d))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(_e.isDate(v))return v.toISOString();if(_e.isBoolean(v))return v.toString();if(!p&&_e.isBlob(v))throw new jr("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(v)||_e.isTypedArray(v)?p&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function x(v,A,k){let E=v;if(v&&!k&&typeof v=="object"){if(_e.endsWith(A,"{}"))A=o?A:A.slice(0,-2),v=JSON.stringify(v);else if(_e.isArray(v)&&OF(v)||(_e.isFileList(v)||_e.endsWith(A,"[]"))&&(E=_e.toArray(v)))return A=Jw(A),E.forEach(function(N,B){!(_e.isUndefined(N)||N===null)&&n.append(f===!0?$b([A],B,u):f===null?A:A+"[]",m(N))}),!1}return A3(v)?!0:(n.append($b(k,A,u),m(v)),!1)}const b=[],y=Object.assign(UF,{defaultVisitor:x,convertValue:m,isVisitable:A3});function w(v,A){if(!_e.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+A.join("."));b.push(v),_e.forEach(v,function(E,j){(!(_e.isUndefined(E)||E===null)&&d.call(n,E,_e.isString(j)?j.trim():j,A,y))===!0&&w(E,A?A.concat(j):[j])}),b.pop()}}if(!_e.isObject(a))throw new TypeError("data must be an object");return w(a),n}function Gb(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function Ym(a,n){this._pairs=[],a&&Gu(a,this,n)}const Xw=Ym.prototype;Xw.append=function(n,i){this._pairs.push([n,i])};Xw.toString=function(n){const i=n?function(o){return n.call(this,o,Gb)}:Gb;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function zF(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zw(a,n,i){if(!n)return a;const o=i&&i.encode||zF;_e.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let u;if(d?u=d(n,i):u=_e.isURLSearchParams(n)?n.toString():new Ym(n,i).toString(o),u){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+u}return a}class qb{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){_e.forEach(this.handlers,function(o){o!==null&&n(o)})}}const eA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LF=typeof URLSearchParams<"u"?URLSearchParams:Ym,QF=typeof FormData<"u"?FormData:null,HF=typeof Blob<"u"?Blob:null,$F={isBrowser:!0,classes:{URLSearchParams:LF,FormData:QF,Blob:HF},protocols:["http","https","file","blob","url","data"]},Vm=typeof window<"u"&&typeof document<"u",k3=typeof navigator=="object"&&navigator||void 0,GF=Vm&&(!k3||["ReactNative","NativeScript","NS"].indexOf(k3.product)<0),qF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YF=Vm&&window.location.href||"http://localhost",VF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vm,hasStandardBrowserEnv:GF,hasStandardBrowserWebWorkerEnv:qF,navigator:k3,origin:YF},Symbol.toStringTag,{value:"Module"})),On={...VF,...$F};function KF(a,n){return Gu(a,new On.classes.URLSearchParams,{visitor:function(i,o,d,u){return On.isNode&&_e.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...n})}function WF(a){return _e.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function JF(a){const n={},i=Object.keys(a);let o;const d=i.length;let u;for(o=0;o<d;o++)u=i[o],n[u]=a[u];return n}function tA(a){function n(i,o,d,u){let f=i[u++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=u>=i.length;return f=!f&&_e.isArray(d)?d.length:f,p?(_e.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!h):((!d[f]||!_e.isObject(d[f]))&&(d[f]=[]),n(i,o,d[f],u)&&_e.isArray(d[f])&&(d[f]=JF(d[f])),!h)}if(_e.isFormData(a)&&_e.isFunction(a.entries)){const i={};return _e.forEachEntry(a,(o,d)=>{n(WF(o),d,i,0)}),i}return null}function XF(a,n,i){if(_e.isString(a))try{return(n||JSON.parse)(a),_e.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(a)}const m2={transitional:eA,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,u=_e.isObject(n);if(u&&_e.isHTMLForm(n)&&(n=new FormData(n)),_e.isFormData(n))return d?JSON.stringify(tA(n)):n;if(_e.isArrayBuffer(n)||_e.isBuffer(n)||_e.isStream(n)||_e.isFile(n)||_e.isBlob(n)||_e.isReadableStream(n))return n;if(_e.isArrayBufferView(n))return n.buffer;if(_e.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return KF(n,this.formSerializer).toString();if((h=_e.isFileList(n))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Gu(h?{"files[]":n}:n,p&&new p,this.formSerializer)}}return u||d?(i.setContentType("application/json",!1),XF(n)):n}],transformResponse:[function(n){const i=this.transitional||m2.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(_e.isResponse(n)||_e.isReadableStream(n))return n;if(n&&_e.isString(n)&&(o&&!this.responseType||d)){const f=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(n,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?jr.from(h,jr.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],a=>{m2.headers[a]={}});const ZF=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e_=a=>{const n={};let i,o,d;return a&&a.split(`
`).forEach(function(f){d=f.indexOf(":"),i=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!i||n[i]&&ZF[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},Yb=Symbol("internals");function o0(a){return a&&String(a).trim().toLowerCase()}function gd(a){return a===!1||a==null?a:_e.isArray(a)?a.map(gd):String(a)}function t_(a){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(a);)n[o[1]]=o[2];return n}const r_=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Xh(a,n,i,o,d){if(_e.isFunction(o))return o.call(this,n,i);if(d&&(n=i),!!_e.isString(n)){if(_e.isString(o))return n.indexOf(o)!==-1;if(_e.isRegExp(o))return o.test(n)}}function a_(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function s_(a,n){const i=_e.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(a,o+i,{value:function(d,u,f){return this[o].call(this,n,d,u,f)},configurable:!0})})}let di=class{constructor(n){n&&this.set(n)}set(n,i,o){const d=this;function u(h,p,m){const x=o0(p);if(!x)throw new Error("header name must be a non-empty string");const b=_e.findKey(d,x);(!b||d[b]===void 0||m===!0||m===void 0&&d[b]!==!1)&&(d[b||p]=gd(h))}const f=(h,p)=>_e.forEach(h,(m,x)=>u(m,x,p));if(_e.isPlainObject(n)||n instanceof this.constructor)f(n,i);else if(_e.isString(n)&&(n=n.trim())&&!r_(n))f(e_(n),i);else if(_e.isObject(n)&&_e.isIterable(n)){let h={},p,m;for(const x of n){if(!_e.isArray(x))throw TypeError("Object iterator must return a key-value pair");h[m=x[0]]=(p=h[m])?_e.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}f(h,i)}else n!=null&&u(i,n,o);return this}get(n,i){if(n=o0(n),n){const o=_e.findKey(this,n);if(o){const d=this[o];if(!i)return d;if(i===!0)return t_(d);if(_e.isFunction(i))return i.call(this,d,o);if(_e.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=o0(n),n){const o=_e.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Xh(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let d=!1;function u(f){if(f=o0(f),f){const h=_e.findKey(o,f);h&&(!i||Xh(o,o[h],h,i))&&(delete o[h],d=!0)}}return _e.isArray(n)?n.forEach(u):u(n),d}clear(n){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const u=i[o];(!n||Xh(this,this[u],u,n,!0))&&(delete this[u],d=!0)}return d}normalize(n){const i=this,o={};return _e.forEach(this,(d,u)=>{const f=_e.findKey(o,u);if(f){i[f]=gd(d),delete i[u];return}const h=n?a_(u):String(u).trim();h!==u&&delete i[u],i[h]=gd(d),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return _e.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=n&&_e.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(d=>o.set(d)),o}static accessor(n){const o=(this[Yb]=this[Yb]={accessors:{}}).accessors,d=this.prototype;function u(f){const h=o0(f);o[h]||(s_(d,f),o[h]=!0)}return _e.isArray(n)?n.forEach(u):u(n),this}};di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(di.prototype,({value:a},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(o){this[i]=o}}});_e.freezeMethods(di);function Zh(a,n){const i=this||m2,o=n||i,d=di.from(o.headers);let u=o.data;return _e.forEach(a,function(h){u=h.call(i,u,d.normalize(),n?n.status:void 0)}),d.normalize(),u}function rA(a){return!!(a&&a.__CANCEL__)}function jc(a,n,i){jr.call(this,a??"canceled",jr.ERR_CANCELED,n,i),this.name="CanceledError"}_e.inherits(jc,jr,{__CANCEL__:!0});function aA(a,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?a(i):n(new jr("Request failed with status code "+i.status,[jr.ERR_BAD_REQUEST,jr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function n_(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function i_(a,n){a=a||10;const i=new Array(a),o=new Array(a);let d=0,u=0,f;return n=n!==void 0?n:1e3,function(p){const m=Date.now(),x=o[u];f||(f=m),i[d]=p,o[d]=m;let b=u,y=0;for(;b!==d;)y+=i[b++],b=b%a;if(d=(d+1)%a,d===u&&(u=(u+1)%a),m-f<n)return;const w=x&&m-x;return w?Math.round(y*1e3/w):void 0}}function o_(a,n){let i=0,o=1e3/n,d,u;const f=(m,x=Date.now())=>{i=x,d=null,u&&(clearTimeout(u),u=null),a(...m)};return[(...m)=>{const x=Date.now(),b=x-i;b>=o?f(m,x):(d=m,u||(u=setTimeout(()=>{u=null,f(d)},o-b)))},()=>d&&f(d)]}const ou=(a,n,i=3)=>{let o=0;const d=i_(50,250);return o_(u=>{const f=u.loaded,h=u.lengthComputable?u.total:void 0,p=f-o,m=d(p),x=f<=h;o=f;const b={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&x?(h-f)/m:void 0,event:u,lengthComputable:h!=null,[n?"download":"upload"]:!0};a(b)},i)},Vb=(a,n)=>{const i=a!=null;return[o=>n[0]({lengthComputable:i,total:a,loaded:o}),n[1]]},Kb=a=>(...n)=>_e.asap(()=>a(...n)),l_=On.hasStandardBrowserEnv?((a,n)=>i=>(i=new URL(i,On.origin),a.protocol===i.protocol&&a.host===i.host&&(n||a.port===i.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,c_=On.hasStandardBrowserEnv?{write(a,n,i,o,d,u,f){if(typeof document>"u")return;const h=[`${a}=${encodeURIComponent(n)}`];_e.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),_e.isString(o)&&h.push(`path=${o}`),_e.isString(d)&&h.push(`domain=${d}`),u===!0&&h.push("secure"),_e.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(a){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function d_(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function u_(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function sA(a,n,i){let o=!d_(n);return a&&(o||i==!1)?u_(a,n):n}const Wb=a=>a instanceof di?{...a}:a;function ol(a,n){n=n||{};const i={};function o(m,x,b,y){return _e.isPlainObject(m)&&_e.isPlainObject(x)?_e.merge.call({caseless:y},m,x):_e.isPlainObject(x)?_e.merge({},x):_e.isArray(x)?x.slice():x}function d(m,x,b,y){if(_e.isUndefined(x)){if(!_e.isUndefined(m))return o(void 0,m,b,y)}else return o(m,x,b,y)}function u(m,x){if(!_e.isUndefined(x))return o(void 0,x)}function f(m,x){if(_e.isUndefined(x)){if(!_e.isUndefined(m))return o(void 0,m)}else return o(void 0,x)}function h(m,x,b){if(b in n)return o(m,x);if(b in a)return o(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(m,x,b)=>d(Wb(m),Wb(x),b,!0)};return _e.forEach(Object.keys({...a,...n}),function(x){const b=p[x]||d,y=b(a[x],n[x],x);_e.isUndefined(y)&&b!==h||(i[x]=y)}),i}const nA=a=>{const n=ol({},a);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:u,headers:f,auth:h}=n;if(n.headers=f=di.from(f),n.url=Zw(sA(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),_e.isFormData(i)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(_e.isFunction(i.getHeaders)){const p=i.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([x,b])=>{m.includes(x.toLowerCase())&&f.set(x,b)})}}if(On.hasStandardBrowserEnv&&(o&&_e.isFunction(o)&&(o=o(n)),o||o!==!1&&l_(n.url))){const p=d&&u&&c_.read(u);p&&f.set(d,p)}return n},f_=typeof XMLHttpRequest<"u",h_=f_&&function(a){return new Promise(function(i,o){const d=nA(a);let u=d.data;const f=di.from(d.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=d,x,b,y,w,v;function A(){w&&w(),v&&v(),d.cancelToken&&d.cancelToken.unsubscribe(x),d.signal&&d.signal.removeEventListener("abort",x)}let k=new XMLHttpRequest;k.open(d.method.toUpperCase(),d.url,!0),k.timeout=d.timeout;function E(){if(!k)return;const N=di.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:N,config:a,request:k};aA(function(T){i(T),A()},function(T){o(T),A()},I),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(o(new jr("Request aborted",jr.ECONNABORTED,a,k)),k=null)},k.onerror=function(B){const I=B&&B.message?B.message:"Network Error",D=new jr(I,jr.ERR_NETWORK,a,k);D.event=B||null,o(D),k=null},k.ontimeout=function(){let B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const I=d.transitional||eA;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),o(new jr(B,I.clarifyTimeoutError?jr.ETIMEDOUT:jr.ECONNABORTED,a,k)),k=null},u===void 0&&f.setContentType(null),"setRequestHeader"in k&&_e.forEach(f.toJSON(),function(B,I){k.setRequestHeader(I,B)}),_e.isUndefined(d.withCredentials)||(k.withCredentials=!!d.withCredentials),h&&h!=="json"&&(k.responseType=d.responseType),m&&([y,v]=ou(m,!0),k.addEventListener("progress",y)),p&&k.upload&&([b,w]=ou(p),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",w)),(d.cancelToken||d.signal)&&(x=N=>{k&&(o(!N||N.type?new jc(null,a,k):N),k.abort(),k=null)},d.cancelToken&&d.cancelToken.subscribe(x),d.signal&&(d.signal.aborted?x():d.signal.addEventListener("abort",x)));const j=n_(d.url);if(j&&On.protocols.indexOf(j)===-1){o(new jr("Unsupported protocol "+j+":",jr.ERR_BAD_REQUEST,a));return}k.send(u||null)})},p_=(a,n)=>{const{length:i}=a=a?a.filter(Boolean):[];if(n||i){let o=new AbortController,d;const u=function(m){if(!d){d=!0,h();const x=m instanceof Error?m:this.reason;o.abort(x instanceof jr?x:new jc(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{f=null,u(new jr(`timeout ${n} of ms exceeded`,jr.ETIMEDOUT))},n);const h=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),a=null)};a.forEach(m=>m.addEventListener("abort",u));const{signal:p}=o;return p.unsubscribe=()=>_e.asap(h),p}},m_=function*(a,n){let i=a.byteLength;if(i<n){yield a;return}let o=0,d;for(;o<i;)d=o+n,yield a.slice(o,d),o=d},x_=async function*(a,n){for await(const i of v_(a))yield*m_(i,n)},v_=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},Jb=(a,n,i,o)=>{const d=x_(a,n);let u=0,f,h=p=>{f||(f=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:x}=await d.next();if(m){h(),p.close();return}let b=x.byteLength;if(i){let y=u+=b;i(y)}p.enqueue(new Uint8Array(x))}catch(m){throw h(m),m}},cancel(p){return h(p),d.return()}},{highWaterMark:2})},Xb=64*1024,{isFunction:X2}=_e,g_=(({Request:a,Response:n})=>({Request:a,Response:n}))(_e.global),{ReadableStream:Zb,TextEncoder:e6}=_e.global,t6=(a,...n)=>{try{return!!a(...n)}catch{return!1}},b_=a=>{a=_e.merge.call({skipUndefined:!0},g_,a);const{fetch:n,Request:i,Response:o}=a,d=n?X2(n):typeof fetch=="function",u=X2(i),f=X2(o);if(!d)return!1;const h=d&&X2(Zb),p=d&&(typeof e6=="function"?(v=>A=>v.encode(A))(new e6):async v=>new Uint8Array(await new i(v).arrayBuffer())),m=u&&h&&t6(()=>{let v=!1;const A=new i(On.origin,{body:new Zb,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!A}),x=f&&h&&t6(()=>_e.isReadableStream(new o("").body)),b={stream:x&&(v=>v.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!b[v]&&(b[v]=(A,k)=>{let E=A&&A[v];if(E)return E.call(A);throw new jr(`Response type '${v}' is not supported`,jr.ERR_NOT_SUPPORT,k)})});const y=async v=>{if(v==null)return 0;if(_e.isBlob(v))return v.size;if(_e.isSpecCompliantForm(v))return(await new i(On.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(v)||_e.isArrayBuffer(v))return v.byteLength;if(_e.isURLSearchParams(v)&&(v=v+""),_e.isString(v))return(await p(v)).byteLength},w=async(v,A)=>{const k=_e.toFiniteNumber(v.getContentLength());return k??y(A)};return async v=>{let{url:A,method:k,data:E,signal:j,cancelToken:N,timeout:B,onDownloadProgress:I,onUploadProgress:D,responseType:T,headers:R,withCredentials:$="same-origin",fetchOptions:F}=nA(v),_=n||fetch;T=T?(T+"").toLowerCase():"text";let Q=p_([j,N&&N.toAbortSignal()],B),H=null;const J=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let K;try{if(D&&m&&k!=="get"&&k!=="head"&&(K=await w(R,E))!==0){let U=new i(A,{method:"POST",body:E,duplex:"half"}),ee;if(_e.isFormData(E)&&(ee=U.headers.get("content-type"))&&R.setContentType(ee),U.body){const[se,de]=Vb(K,ou(Kb(D)));E=Jb(U.body,Xb,se,de)}}_e.isString($)||($=$?"include":"omit");const he=u&&"credentials"in i.prototype,G={...F,signal:Q,method:k.toUpperCase(),headers:R.normalize().toJSON(),body:E,duplex:"half",credentials:he?$:void 0};H=u&&new i(A,G);let L=await(u?_(H,F):_(A,G));const ce=x&&(T==="stream"||T==="response");if(x&&(I||ce&&J)){const U={};["status","statusText","headers"].forEach(ke=>{U[ke]=L[ke]});const ee=_e.toFiniteNumber(L.headers.get("content-length")),[se,de]=I&&Vb(ee,ou(Kb(I),!0))||[];L=new o(Jb(L.body,Xb,se,()=>{de&&de(),J&&J()}),U)}T=T||"text";let fe=await b[_e.findKey(b,T)||"text"](L,v);return!ce&&J&&J(),await new Promise((U,ee)=>{aA(U,ee,{data:fe,headers:di.from(L.headers),status:L.status,statusText:L.statusText,config:v,request:H})})}catch(he){throw J&&J(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new jr("Network Error",jr.ERR_NETWORK,v,H),{cause:he.cause||he}):jr.from(he,he&&he.code,v,H)}}},y_=new Map,iA=a=>{let n=a&&a.env||{};const{fetch:i,Request:o,Response:d}=n,u=[o,d,i];let f=u.length,h=f,p,m,x=y_;for(;h--;)p=u[h],m=x.get(p),m===void 0&&x.set(p,m=h?new Map:b_(n)),x=m;return m};iA();const Km={http:PF,xhr:h_,fetch:{get:iA}};_e.forEach(Km,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const r6=a=>`- ${a}`,w_=a=>_e.isFunction(a)||a===null||a===!1;function A_(a,n){a=_e.isArray(a)?a:[a];const{length:i}=a;let o,d;const u={};for(let f=0;f<i;f++){o=a[f];let h;if(d=o,!w_(o)&&(d=Km[(h=String(o)).toLowerCase()],d===void 0))throw new jr(`Unknown adapter '${h}'`);if(d&&(_e.isFunction(d)||(d=d.get(n))))break;u[h||"#"+f]=d}if(!d){const f=Object.entries(u).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(r6).join(`
`):" "+r6(f[0]):"as no adapter specified";throw new jr("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d}const oA={getAdapter:A_,adapters:Km};function ep(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new jc(null,a)}function a6(a){return ep(a),a.headers=di.from(a.headers),a.data=Zh.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),oA.getAdapter(a.adapter||m2.adapter,a)(a).then(function(o){return ep(a),o.data=Zh.call(a,a.transformResponse,o),o.headers=di.from(o.headers),o},function(o){return rA(o)||(ep(a),o&&o.response&&(o.response.data=Zh.call(a,a.transformResponse,o.response),o.response.headers=di.from(o.response.headers))),Promise.reject(o)})}const lA="1.13.2",qu={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{qu[a]=function(o){return typeof o===a||"a"+(n<1?"n ":" ")+a}});const s6={};qu.transitional=function(n,i,o){function d(u,f){return"[Axios v"+lA+"] Transitional option '"+u+"'"+f+(o?". "+o:"")}return(u,f,h)=>{if(n===!1)throw new jr(d(f," has been removed"+(i?" in "+i:"")),jr.ERR_DEPRECATED);return i&&!s6[f]&&(s6[f]=!0,console.warn(d(f," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(u,f,h):!0}};qu.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function k_(a,n,i){if(typeof a!="object")throw new jr("options must be an object",jr.ERR_BAD_OPTION_VALUE);const o=Object.keys(a);let d=o.length;for(;d-- >0;){const u=o[d],f=n[u];if(f){const h=a[u],p=h===void 0||f(h,u,a);if(p!==!0)throw new jr("option "+u+" must be "+p,jr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new jr("Unknown option "+u,jr.ERR_BAD_OPTION)}}const bd={assertOptions:k_,validators:qu},l1=bd.validators;let tl=class{constructor(n){this.defaults=n||{},this.interceptors={request:new qb,response:new qb}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const u=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=ol(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:u}=i;o!==void 0&&bd.assertOptions(o,{silentJSONParsing:l1.transitional(l1.boolean),forcedJSONParsing:l1.transitional(l1.boolean),clarifyTimeoutError:l1.transitional(l1.boolean)},!1),d!=null&&(_e.isFunction(d)?i.paramsSerializer={serialize:d}:bd.assertOptions(d,{encode:l1.function,serialize:l1.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),bd.assertOptions(i,{baseUrl:l1.spelling("baseURL"),withXsrfToken:l1.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&_e.merge(u.common,u[i.method]);u&&_e.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),i.headers=di.concat(f,u);const h=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(i)===!1||(p=p&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let x,b=0,y;if(!p){const v=[a6.bind(this),void 0];for(v.unshift(...h),v.push(...m),y=v.length,x=Promise.resolve(i);b<y;)x=x.then(v[b++],v[b++]);return x}y=h.length;let w=i;for(;b<y;){const v=h[b++],A=h[b++];try{w=v(w)}catch(k){A.call(this,k);break}}try{x=a6.call(this,w)}catch(v){return Promise.reject(v)}for(b=0,y=m.length;b<y;)x=x.then(m[b++],m[b++]);return x}getUri(n){n=ol(this.defaults,n);const i=sA(n.baseURL,n.url,n.allowAbsoluteUrls);return Zw(i,n.params,n.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(n){tl.prototype[n]=function(i,o){return this.request(ol(o||{},{method:n,url:i,data:(o||{}).data}))}});_e.forEach(["post","put","patch"],function(n){function i(o){return function(u,f,h){return this.request(ol(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}tl.prototype[n]=i(),tl.prototype[n+"Form"]=i(!0)});let j_=class cA{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(d=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](d);o._listeners=null}),this.promise.then=d=>{let u;const f=new Promise(h=>{o.subscribe(h),u=h}).then(d);return f.cancel=function(){o.unsubscribe(u)},f},n(function(u,f,h){o.reason||(o.reason=new jc(u,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new cA(function(d){n=d}),cancel:n}}};function N_(a){return function(i){return a.apply(null,i)}}function S_(a){return _e.isObject(a)&&a.isAxiosError===!0}const j3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(j3).forEach(([a,n])=>{j3[n]=a});function dA(a){const n=new tl(a),i=Lw(tl.prototype.request,n);return _e.extend(i,tl.prototype,n,{allOwnKeys:!0}),_e.extend(i,n,null,{allOwnKeys:!0}),i.create=function(d){return dA(ol(a,d))},i}const Ls=dA(m2);Ls.Axios=tl;Ls.CanceledError=jc;Ls.CancelToken=j_;Ls.isCancel=rA;Ls.VERSION=lA;Ls.toFormData=Gu;Ls.AxiosError=jr;Ls.Cancel=Ls.CanceledError;Ls.all=function(n){return Promise.all(n)};Ls.spread=N_;Ls.isAxiosError=S_;Ls.mergeConfig=ol;Ls.AxiosHeaders=di;Ls.formToJSON=a=>tA(_e.isHTMLForm(a)?new FormData(a):a);Ls.getAdapter=oA.getAdapter;Ls.HttpStatusCode=j3;Ls.default=Ls;const{Axios:rO,AxiosError:aO,CanceledError:sO,isCancel:nO,CancelToken:iO,VERSION:oO,all:lO,Cancel:cO,isAxiosError:dO,spread:uO,toFormData:fO,AxiosHeaders:hO,HttpStatusCode:pO,formToJSON:mO,getAdapter:xO,mergeConfig:vO}=Ls,uA=!0,Z2="https://pos-inventory-system-gamma.vercel.app/api",E_={shopee:`${Z2}/shopee`,lazada:`${Z2}/lazada`,tokopedia:`${Z2}/tokopedia`,tiktok:`${Z2}/tiktok`},Cr=(a,n=6e4)=>{const i=Ls.create({baseURL:E_[a],timeout:n,headers:{"Content-Type":"application/json"}});return i.interceptors.response.use(o=>o.data,o=>{var u,f;const d=((f=(u=o.response)==null?void 0:u.data)==null?void 0:f.message)||o.message||"Terjadi kesalahan";return Promise.reject(new Error(d))}),i},lu={getAuthUrl:async a=>{var n,i;try{const o=Cr("shopee"),u=`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=shopee&store_id=${a.id}`,f=uA?"/auth-url":"/auth/shopee/url";return await o.post(f,{partner_id:((n=a.credentials)==null?void 0:n.partnerId)||"",partner_key:((i=a.credentials)==null?void 0:i.partnerKey)||"",shop_id:a.shopId||"",redirect_url:u})}catch(o){throw new Error(`Gagal mendapatkan Auth URL: ${o.message}`)}},getToken:async(a,n)=>Cr("shopee").post("/token?action=get_token",{code:n,shop_id:a.shopId,partner_id:a.credentials.partnerId,partner_key:a.credentials.partnerKey}),refreshToken:async a=>Cr("shopee").post("/auth/shopee/refresh",{shop_id:a.shopId,partner_id:a.credentials.partnerId,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>Cr("shopee").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>{var n,i,o,d,u,f,h,p,m;try{const b=await Cr("shopee").get("/products",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),y=((u=(d=b==null?void 0:b.data)==null?void 0:d.response)==null?void 0:u.item)||((f=b==null?void 0:b.response)==null?void 0:f.item)||(b==null?void 0:b.products)||[],w=((p=(h=b==null?void 0:b.data)==null?void 0:h.response)==null?void 0:p.total_count)||((m=b==null?void 0:b.response)==null?void 0:m.total_count)||(b==null?void 0:b.count)||y.length;return console.log("Shopee syncProducts result:",{itemCount:y.length,totalCount:w,rawResult:b}),{success:b.success!==!1,data:y,count:w}}catch(x){throw new Error(`Sync produk gagal: ${x.message}`)}},getProducts:async(a,n={})=>{var o,d;return Cr("shopee").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,...n}})},syncOrders:async(a,n={})=>{var i,o,d,u,f,h,p,m,x,b,y,w;try{const A=await Cr("shopee",12e4).get("/orders",{params:{shop_id:a.shopId,access_token:(i=a.credentials)==null?void 0:i.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,fetch_all:"true",...n}}),k=((f=(u=A==null?void 0:A.data)==null?void 0:u.response)==null?void 0:f.order_list)||((h=A==null?void 0:A.response)==null?void 0:h.order_list)||(A==null?void 0:A.orders)||[],E=((m=(p=A==null?void 0:A.data)==null?void 0:p.response)==null?void 0:m.total_count)||((x=A==null?void 0:A.response)==null?void 0:x.total_count)||(A==null?void 0:A.count)||k.length,j=((y=(b=A==null?void 0:A.data)==null?void 0:b.response)==null?void 0:y.status_summary)||((w=A==null?void 0:A.response)==null?void 0:w.status_summary)||{};return console.log("Shopee syncOrders result:",{orderCount:k.length,totalCount:E,statusSummary:j}),{success:A.success!==!1,data:k,count:E,statusSummary:j}}catch(v){throw new Error(`Sync order gagal: ${v.message}`)}},syncReturns:async a=>{var n,i,o,d,u,f;try{const p=await Cr("shopee",6e4).get("/returns",{params:{shop_id:a.shopId,access_token:(n=a.credentials)==null?void 0:n.accessToken,partner_id:(i=a.credentials)==null?void 0:i.partnerId,partner_key:(o=a.credentials)==null?void 0:o.partnerKey,fetch_all:"true"}}),m=(p==null?void 0:p.returns)||((u=(d=p==null?void 0:p.data)==null?void 0:d.response)==null?void 0:u.return_list)||((f=p==null?void 0:p.response)==null?void 0:f.return_list)||[],x=(p==null?void 0:p.count)||m.length;return console.log("Shopee syncReturns result:",{returnCount:m.length,totalCount:x}),{success:p.success!==!1,data:m,count:x}}catch(h){return console.error("Sync returns error:",h),{success:!1,data:[],count:0,error:h.message}}},getOrdersByStatus:async(a,n,i={})=>{var d,u,f;return Cr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:(d=a.credentials)==null?void 0:d.accessToken,partner_id:(u=a.credentials)==null?void 0:u.partnerId,partner_key:(f=a.credentials)==null?void 0:f.partnerKey,fetch_all:"true",order_status:n,...i}})},getOrders:async(a,n={})=>{var o,d;return Cr("shopee").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,partner_id:(o=a.credentials)==null?void 0:o.partnerId,partner_key:(d=a.credentials)==null?void 0:d.partnerKey,fetch_all:"true",fetch_all_statuses:"true",...n}})},updateStock:async(a,n,i)=>Cr("shopee").put(`/products/${n}/stock`,{shop_id:a.shopId,access_token:a.credentials.accessToken,stock:i}),testConnection:async a=>{var n;try{const o=await Cr("shopee",1e4).get("/auth/status",{params:{shop_id:a.shopId}});return{success:o.connected||o.success,data:o}}catch(i){return(n=a.credentials)!=null&&n.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:i.message}}}},fA={getAuthUrl:async a=>{var n,i;try{const o=Cr("lazada"),u=`${uA?"https://pos-inventory-system-gamma.vercel.app":window.location.origin}/marketplace/callback?platform=lazada&store_id=${a.id}`;return await o.post("/auth-url",{app_key:((n=a.credentials)==null?void 0:n.appKey)||"",store_id:a.id,redirect_url:u})}catch{const d=(i=a.credentials)==null?void 0:i.appKey;return{url:`https://auth.lazada.com/oauth/authorize?response_type=code&force_auth=true&redirect_uri=${encodeURIComponent(`https://pos-inventory-system-gamma.vercel.app/marketplace/callback?platform=lazada&store_id=${a.id}`)}&client_id=${d}&country=id`}}},getToken:async(a,n)=>Cr("lazada").post("/token?action=get_token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>Cr("lazada").post("/token?action=refresh_token",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),syncProducts:async a=>{var n,i,o,d,u,f,h;try{const m=await Cr("lazada").get("/products",{params:{app_key:(n=a.credentials)==null?void 0:n.appKey,app_secret:(i=a.credentials)==null?void 0:i.appSecret,access_token:(o=a.credentials)==null?void 0:o.accessToken,fetch_all:"true"}}),x=((u=(d=m==null?void 0:m.data)==null?void 0:d.response)==null?void 0:u.item)||(m==null?void 0:m.products)||[],b=((h=(f=m==null?void 0:m.data)==null?void 0:f.response)==null?void 0:h.total_count)||(m==null?void 0:m.count)||x.length;return console.log("Lazada syncProducts result:",{itemCount:x.length,totalCount:b}),{success:m.success!==!1,data:x,count:b}}catch(p){throw new Error(`Sync produk Lazada gagal: ${p.message}`)}},getProducts:async(a,n={})=>{var o,d,u;return Cr("lazada").get("/products",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(u=a.credentials)==null?void 0:u.accessToken,...n}})},syncOrders:async(a,n={})=>{var i,o,d,u,f,h,p,m,x;try{const y=await Cr("lazada",12e4).get("/orders",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,fetch_all:"true",...n}}),w=((f=(u=y==null?void 0:y.data)==null?void 0:u.response)==null?void 0:f.order_list)||(y==null?void 0:y.orders)||[],v=((p=(h=y==null?void 0:y.data)==null?void 0:h.response)==null?void 0:p.total_count)||(y==null?void 0:y.count)||w.length,A=((x=(m=y==null?void 0:y.data)==null?void 0:m.response)==null?void 0:x.status_summary)||(y==null?void 0:y.statusSummary)||{};return console.log("Lazada syncOrders result:",{orderCount:w.length,totalCount:v,statusSummary:A}),{success:y.success!==!1,data:w,count:v,statusSummary:A}}catch(b){throw new Error(`Sync order Lazada gagal: ${b.message}`)}},getOrdersByStatus:async(a,n,i={})=>{var d,u,f;return Cr("lazada",12e4).get("/orders",{params:{app_key:(d=a.credentials)==null?void 0:d.appKey,app_secret:(u=a.credentials)==null?void 0:u.appSecret,access_token:(f=a.credentials)==null?void 0:f.accessToken,order_status:n,fetch_all:"true",...i}})},getOrders:async(a,n={})=>{var o,d,u;return Cr("lazada").get("/orders",{params:{app_key:(o=a.credentials)==null?void 0:o.appKey,app_secret:(d=a.credentials)==null?void 0:d.appSecret,access_token:(u=a.credentials)==null?void 0:u.accessToken,...n}})},updateStock:async(a,n,i)=>Cr("lazada").put("/products/stock",{access_token:a.credentials.accessToken,sku:n,quantity:i}),testConnection:async a=>{var n,i,o,d,u;try{if((n=a.credentials)!=null&&n.accessToken){const h=await Cr("lazada",1e4).get("/products",{params:{app_key:(i=a.credentials)==null?void 0:i.appKey,app_secret:(o=a.credentials)==null?void 0:o.appSecret,access_token:(d=a.credentials)==null?void 0:d.accessToken,limit:"1"}});return{success:h.success!==!1,data:h}}return{success:!1,error:"No access token"}}catch(f){return(u=a.credentials)!=null&&u.accessToken?{success:!0,data:{message:"Token tersedia (backend offline)"}}:{success:!1,error:f.message}}}},C_={getAuthUrl:async a=>{const n=a.credentials.fsId,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tokopedia&store_id=${a.id}`);return{url:`https://accounts.tokopedia.com/authorize?response_type=code&client_id=${a.credentials.clientId}&redirect_uri=${o}&state=${n}`}},getToken:async(a,n)=>Cr("tokopedia").post("/auth/token",{code:n,client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,fs_id:a.credentials.fsId}),refreshToken:async a=>Cr("tokopedia").post("/auth/refresh",{client_id:a.credentials.clientId,client_secret:a.credentials.clientSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>Cr("tokopedia").get("/shop/info",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}}),syncProducts:async a=>Cr("tokopedia").post("/products/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>Cr("tokopedia").get("/products",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>Cr("tokopedia").post("/orders/sync",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>Cr("tokopedia").get("/orders",{params:{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>Cr("tokopedia").put("/products/stock",{shop_id:a.shopId,fs_id:a.credentials.fsId,access_token:a.credentials.accessToken,product_id:n,stock:i}),testConnection:async a=>{try{return{success:!0,data:await Cr("tokopedia",1e4).get("/auth/status",{params:{fs_id:a.credentials.fsId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},I_={getAuthUrl:async a=>{const n=a.credentials.appKey,i=window.location.hostname==="localhost"?window.location.origin:"https://pos-inventory-system-gamma.vercel.app",o=encodeURIComponent(`${i}/marketplace/callback?platform=tiktok&store_id=${a.id}`);return{url:`https://auth.tiktok-shops.com/oauth/authorize?app_key=${n}&redirect_uri=${o}&state=tiktok_auth`}},getToken:async(a,n)=>Cr("tiktok").post("/auth/token",{code:n,app_key:a.credentials.appKey,app_secret:a.credentials.appSecret}),refreshToken:async a=>Cr("tiktok").post("/auth/refresh",{app_key:a.credentials.appKey,app_secret:a.credentials.appSecret,refresh_token:a.credentials.refreshToken}),getShopInfo:async a=>Cr("tiktok").get("/shop/info",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}}),syncProducts:async a=>Cr("tiktok").post("/products/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken}),getProducts:async(a,n={})=>Cr("tiktok").get("/products",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),syncOrders:async(a,n={})=>Cr("tiktok").post("/orders/sync",{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}),getOrders:async(a,n={})=>Cr("tiktok").get("/orders",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken,...n}}),updateStock:async(a,n,i)=>Cr("tiktok").put("/products/stock",{shop_id:a.shopId,access_token:a.credentials.accessToken,product_id:n,stock:i}),testConnection:async a=>{try{return{success:!0,data:await Cr("tiktok",1e4).get("/auth/status",{params:{shop_id:a.shopId,access_token:a.credentials.accessToken}})}}catch(n){return{success:!1,error:n.message}}}},un={getApi:a=>{switch(a){case"shopee":return lu;case"lazada":return fA;case"tokopedia":return C_;case"tiktok":return I_;default:return null}},getAuthUrl:async a=>{const n=un.getApi(a.platform);return n?n.getAuthUrl(a):{error:"Platform tidak didukung"}},getToken:async(a,n)=>{const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getToken(a,n)},refreshToken:async a=>{const n=un.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");return n.refreshToken(a)},testConnection:async a=>{if(a.platform==="manual")return{success:!0,data:{message:"Toko manual tidak memerlukan koneksi"}};const n=un.getApi(a.platform);return n?n.testConnection(a):{success:!1,error:"Platform tidak didukung"}},syncProducts:async a=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const n=un.getApi(a.platform);if(!n)throw new Error("Platform tidak didukung");try{const i=await n.syncProducts(a);return{success:!0,data:i.products||i.data||[],count:i.total||i.count||0}}catch(i){throw new Error(`Gagal sync produk: ${i.message}`)}},syncOrders:async(a,n={})=>{if(a.platform==="manual")return{success:!0,data:[],message:"Toko manual - tidak ada sinkronisasi"};const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");try{const o=await i.syncOrders(a,n);return{success:!0,data:o.orders||o.data||[],count:o.total||o.count||0}}catch(o){throw new Error(`Gagal sync order: ${o.message}`)}},fullSync:async(a,n=null)=>{var o,d;const i={products:{success:!1,count:0,data:[],error:null},orders:{success:!1,count:0,data:[],error:null}};if(a.platform==="manual")return{success:!0,message:"Toko manual tidak memerlukan sinkronisasi",results:i};n&&n("Sinkronisasi produk...");try{const u=await un.syncProducts(a);i.products={success:!0,count:u.count||((o=u.data)==null?void 0:o.length)||0,data:u.data||[]}}catch(u){i.products={success:!1,error:u.message,data:[]}}n&&n("Sinkronisasi pesanan...");try{const u=await un.syncOrders(a);i.orders={success:!0,count:u.count||((d=u.data)==null?void 0:d.length)||0,data:u.data||[]}}catch(u){i.orders={success:!1,error:u.message,data:[]}}return{success:i.products.success||i.orders.success,results:i}},syncAllStores:async(a,n=null)=>{const i=[],o=a.filter(d=>d.isActive&&d.platform!=="manual");for(let d=0;d<o.length;d++){const u=o[d];n&&n({current:d+1,total:o.length,store:u.shopName,status:"syncing"});try{const f=await un.fullSync(u);i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:f.success,results:f.results})}catch(f){i.push({storeId:u.id,storeName:u.shopName,platform:u.platform,success:!1,error:f.message})}}return i},updateStock:async(a,n,i)=>{if(a.platform==="manual")return{success:!0,message:"Stok lokal diperbarui"};const o=un.getApi(a.platform);if(!o)throw new Error("Platform tidak didukung");return o.updateStock(a,n,i)},getProducts:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getProducts(a,n)},getOrders:async(a,n={})=>{if(a.platform==="manual")return{data:[],total:0};const i=un.getApi(a.platform);if(!i)throw new Error("Platform tidak didukung");return i.getOrders(a,n)},getOrdersByStatus:async(a,n,i={})=>{if(a.platform==="manual")return{data:{response:{order_list:[]}}};const o=un.getApi(a.platform);if(!o||!o.getOrdersByStatus)throw new Error("Platform tidak mendukung getOrdersByStatus");return o.getOrdersByStatus(a,n,i)}};function B_(){var w;const[a]=QE(),n=ko(),[i,o]=ie.useState("processing"),[d,u]=ie.useState("Memproses authorization..."),[f,h]=ie.useState(null),{stores:p,updateStoreCredentials:m,updateStore:x}=So();ie.useEffect(()=>{(async()=>{const A=a.get("code"),k=a.get("platform")||"shopee",E=a.get("store_id"),j=a.get("shop_id"),N=a.get("error"),B=a.get("error_description"),I=localStorage.getItem("pendingOAuthStoreId"),D=localStorage.getItem("pendingOAuthPlatform")||k;if(N){o("error"),u(`Error: ${B||N}`),localStorage.removeItem("pendingOAuthStoreId"),localStorage.removeItem("pendingOAuthPlatform");return}if(!A){o("error"),u("Authorization code tidak ditemukan di URL");return}let T=null;const R=E||I;if(R&&(T=p.find(F=>F.id===parseInt(R))),!T&&j&&(T=p.find(F=>{var _;return F.shopId===j||((_=F.credentials)==null?void 0:_.shopId)===j})),T||(T=p.find(F=>F.platform===D&&!F.isConnected)),localStorage.removeItem("pendingOAuthStoreId"),localStorage.removeItem("pendingOAuthPlatform"),!T){o("error"),u("Toko tidak ditemukan. Silakan coba hubungkan kembali dari halaman Integrasi.");return}const $=va[k]||va.manual;try{u(`Menukar code untuk access token ${$.name}...`);const F=await un.getToken(T,A),_=F.data||F,Q=_.access_token?_:_.data||{};Q&&Q.access_token?(m(T.id,{accessToken:Q.access_token,refreshToken:Q.refresh_token||""}),x(T.id,{isConnected:!0,shopId:Q.shop_id||j||T.shopId,tokenExpiry:Q.expire_in?new Date(Date.now()+Q.expire_in*1e3).toISOString():null}),h({...Q,platform:k,storeName:T.shopName}),o("success"),u(`${$.name} berhasil terhubung! Token telah disimpan.`),setTimeout(()=>{n("/marketplace/integration")},3e3)):(o("error"),u((_==null?void 0:_.message)||(_==null?void 0:_.error)||(F==null?void 0:F.error)||"Gagal mendapatkan access token"))}catch(F){o("error"),u(`Error: ${F.message}`)}})()},[a,n,p,m,x]);const b=a.get("platform")||"shopee",y=va[b]||va.manual;return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center",children:[i==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`w-16 h-16 ${y.bgLight} rounded-full flex items-center justify-center mx-auto mb-4`,children:l.jsx(K0,{className:`w-10 h-10 ${y.textColor} animate-spin`})}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Memproses ",y.name,"..."]}),l.jsx("p",{className:"text-gray-600",children:d})]}),i==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Y0,{className:"w-10 h-10 text-green-500"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Berhasil!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:d}),f&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left text-sm mb-4",children:[l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Platform:"}),l.jsxs("span",{className:`ml-2 ${y.textColor}`,children:[y.icon," ",y.name]})]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Toko:"})," ",f.storeName]}),f.shop_id&&l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Shop ID:"})," ",f.shop_id]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:"Access Token:"})," ",(w=f.access_token)==null?void 0:w.substring(0,20),"..."]}),f.expire_in&&l.jsxs("p",{children:[l.jsx("strong",{children:"Expires In:"})," ",Math.floor(f.expire_in/3600)," jam"]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Anda akan dialihkan ke halaman Integrasi dalam beberapa detik..."}),l.jsx("button",{onClick:()=>n("/marketplace/integration"),className:`mt-4 px-6 py-2 ${y.bgColor} text-white rounded-lg hover:opacity-90`,children:"Lanjutkan ke Integrasi"})]}),i==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(jw,{className:"w-10 h-10 text-red-500"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Gagal"}),l.jsx("p",{className:"text-gray-600 mb-4",children:d}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:()=>n("/marketplace/integration"),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Kembali"}),l.jsx("button",{onClick:()=>window.location.reload(),className:`px-6 py-2 ${y.bgColor} text-white rounded-lg hover:opacity-90`,children:"Coba Lagi"})]})]})]})})}const Wm=({platform:a,size:n=24})=>{const i=va[a]||va.manual;return i.logo?l.jsx("span",{dangerouslySetInnerHTML:{__html:i.logo(n)}}):l.jsx("span",{className:"text-xl",children:i.icon||""})};function D_(){const a=ko(),[n,i]=ie.useState(!1),[o,d]=ie.useState(!1),[u,f]=ie.useState(!1),[h,p]=ie.useState(!1),[m,x]=ie.useState(null),[b,y]=ie.useState(""),[w,v]=ie.useState("all"),[A,k]=ie.useState({type:"",text:""}),[E,j]=ie.useState(null),[N,B]=ie.useState(null),{user:I}=Di(),{importShopeeProducts:D}=zs(),{stores:T,addStore:R,updateStore:$,removeStore:F,toggleStoreActive:_,updateStoreSync:Q,updateStoreCredentials:H,getSummary:J}=So(),K=J(),he=T.filter(ae=>{var Ae,Le;const De=ae.shopName.toLowerCase().includes(b.toLowerCase())||((Ae=ae.shopId)==null?void 0:Ae.includes(b))||((Le=ae.ownerName)==null?void 0:Le.toLowerCase().includes(b.toLowerCase())),we=w==="all"||ae.platform===w;return De&&we}),G=ae=>{if(!confirm(`Hapus toko "${ae.shopName}"?

Data integrasi akan dihapus permanen.`))return;F(ae.id).success&&(k({type:"success",text:"Toko berhasil dihapus"}),setTimeout(()=>k({type:"",text:""}),3e3))},L=ae=>{_(ae.id)},ce=ae=>{x(ae),d(!0)},fe=async ae=>{var De,we,Ae;if(ae.platform==="manual"){k({type:"info",text:"Toko manual tidak memerlukan koneksi OAuth"}),setTimeout(()=>k({type:"",text:""}),3e3);return}if(ae.platform==="shopee"&&!((De=ae.credentials)!=null&&De.partnerId)){k({type:"warning",text:"Partner ID belum dikonfigurasi. Klik Edit untuk memasukkan kredensial Shopee."}),setTimeout(()=>k({type:"",text:""}),5e3);return}if((ae.platform==="lazada"||ae.platform==="tiktok")&&!((we=ae.credentials)!=null&&we.appKey)){k({type:"warning",text:"App Key belum dikonfigurasi. Klik Edit untuk memasukkan kredensial."}),setTimeout(()=>k({type:"",text:""}),5e3);return}if(ae.platform==="tokopedia"&&!((Ae=ae.credentials)!=null&&Ae.clientId)){k({type:"warning",text:"Client ID belum dikonfigurasi. Klik Edit untuk memasukkan kredensial Tokopedia."}),setTimeout(()=>k({type:"",text:""}),5e3);return}B(ae.id);try{const Le=await un.getAuthUrl(ae);if(Le.url)localStorage.setItem("pendingOAuthStoreId",ae.id.toString()),localStorage.setItem("pendingOAuthPlatform",ae.platform),window.location.href=Le.url,k({type:"info",text:"Mengalihkan ke halaman otorisasi..."});else throw new Error("Gagal mendapatkan URL otorisasi")}catch(Le){k({type:"error",text:`Gagal koneksi: ${Le.message}`})}finally{B(null),setTimeout(()=>k({type:"",text:""}),5e3)}},U=async ae=>{var De;if(ae.platform==="manual"){k({type:"success",text:"Toko manual selalu tersedia"}),setTimeout(()=>k({type:"",text:""}),3e3);return}if(!((De=ae.credentials)!=null&&De.accessToken)){k({type:"warning",text:"Belum ada access token. Hubungkan toko terlebih dahulu."}),setTimeout(()=>k({type:"",text:""}),3e3);return}B(ae.id);try{const we=await un.testConnection(ae);we.success?($(ae.id,{isConnected:!0}),k({type:"success",text:`Koneksi ke ${ae.shopName} berhasil!`})):($(ae.id,{isConnected:!1}),k({type:"error",text:`Koneksi gagal: ${we.error}`}))}catch(we){k({type:"error",text:`Gagal test koneksi: ${we.message}`})}finally{B(null),setTimeout(()=>k({type:"",text:""}),5e3)}},ee=async ae=>{var De,we,Ae,Le,xe,Oe,Te,Pe,Ue,Ze,te,oe,Re,ze,Je,Qe;if(ae.platform==="manual"){k({type:"info",text:"Toko manual tidak memerlukan sinkronisasi"}),setTimeout(()=>k({type:"",text:""}),3e3);return}if(!((De=ae.credentials)!=null&&De.accessToken)){k({type:"warning",text:"Belum ada access token. Klik ikon WiFi untuk menghubungkan toko terlebih dahulu."}),setTimeout(()=>k({type:"",text:""}),5e3);return}j(ae.id),k({type:"info",text:`Menyinkronkan ${ae.shopName}...`});try{const qe=await un.fullSync(ae);let ut=null;if(ae.platform==="shopee"&&((Le=(Ae=(we=qe.results)==null?void 0:we.products)==null?void 0:Ae.data)==null?void 0:Le.length)>0&&(ut=D(qe.results.products.data),console.log("Import result:",ut)),Q(ae.id,{productCount:((Oe=(xe=qe.results)==null?void 0:xe.products)==null?void 0:Oe.count)||0,orderCount:((Pe=(Te=qe.results)==null?void 0:Te.orders)==null?void 0:Pe.count)||0}),qe.success){let mt=` Sync ${ae.shopName} berhasil! Produk: ${((Ze=(Ue=qe.results)==null?void 0:Ue.products)==null?void 0:Ze.count)||0}, Order: ${((oe=(te=qe.results)==null?void 0:te.orders)==null?void 0:oe.count)||0}`;ut&&(mt+=` | Diimpor: ${ut.imported}, Diupdate: ${ut.updated}, Dilewati: ${ut.skipped}`),k({type:"success",text:mt})}else{const mt=(ze=(Re=qe.results)==null?void 0:Re.products)==null?void 0:ze.error,lt=(Qe=(Je=qe.results)==null?void 0:Je.orders)==null?void 0:Qe.error;k({type:"error",text:`Sync gagal: ${mt||lt||"Unknown error"}`})}}catch(qe){k({type:"error",text:`Gagal sync: ${qe.message}`})}finally{j(null),setTimeout(()=>k({type:"",text:""}),8e3)}},se=()=>{f(!0)},de=ae=>{x({platform:ae}),p(!0)},ke=ae=>ae?new Date(ae).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Integrasi Marketplace"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola semua toko marketplace Anda dalam satu tempat"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>a("/marketplace/products"),className:"btn btn-outline inline-flex items-center gap-2",children:[l.jsx(Ps,{size:18}),"Lihat Produk"]}),l.jsxs("button",{onClick:()=>a("/marketplace/orders"),className:"btn btn-outline inline-flex items-center gap-2",children:[l.jsx(vo,{size:18}),"Lihat Pesanan"]}),l.jsxs("button",{onClick:se,className:"btn btn-outline inline-flex items-center gap-2",disabled:T.filter(ae=>ae.isActive&&ae.platform!=="manual").length===0,children:[l.jsx(v1,{size:18}),"Sync Semua"]}),l.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary inline-flex items-center gap-2",children:[l.jsx(Us,{size:20}),"Tambah Toko"]})]})]}),A.text&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${A.type==="success"?"bg-green-50 text-green-800 border border-green-200":A.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:[A.type==="success"?l.jsx(T1,{size:18}):l.jsx(wc,{size:18}),A.text]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[l.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(g1,{className:"text-blue-600",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.totalStores}),l.jsx("p",{className:"text-sm text-gray-500",children:"Total Toko"})]})]})}),Object.entries(va).map(([ae,De])=>l.jsx("div",{className:`bg-white rounded-xl p-4 shadow-sm border ${De.borderColor} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>de(ae),title:`Klik untuk panduan setup ${De.name}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${De.bgLight} rounded-lg flex items-center justify-center text-xl`,children:De.icon}),l.jsxs("div",{children:[l.jsx("p",{className:`text-2xl font-bold ${De.textColor}`,children:K.byPlatform[ae]||0}),l.jsx("p",{className:"text-sm text-gray-500",children:De.name})]})]})},ae))]}),l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Cari toko...",value:b,onChange:ae=>y(ae.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Um,{size:18,className:"text-gray-400"}),l.jsxs("select",{value:w,onChange:ae=>v(ae.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"Semua Platform"}),Object.entries(va).map(([ae,De])=>l.jsxs("option",{value:ae,children:[De.icon," ",De.name]},ae))]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marketplace"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Toko"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Toko"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Sync"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:he.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center text-gray-500",children:[l.jsx(g1,{className:"mx-auto mb-3 text-gray-300",size:48}),l.jsx("p",{className:"font-medium",children:"Belum ada toko terdaftar"}),l.jsx("p",{className:"text-sm",children:'Klik "Tambah Toko" untuk memulai integrasi'})]})}):he.map(ae=>{const De=va[ae.platform]||va.manual,we=E===ae.id,Ae=N===ae.id;return l.jsxs("tr",{className:ae.isActive?"hover:bg-gray-50":"bg-gray-50 opacity-60",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium ${De.bgLight} ${De.textColor}`,children:[l.jsx(Wm,{platform:ae.platform,size:20}),De.name]})})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("p",{className:"font-medium text-gray-900",children:ae.shopName}),ae.ownerName&&l.jsx("p",{className:"text-xs text-gray-500",children:ae.ownerName})]}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:ae.shopId||"-"})}),l.jsx("td",{className:"px-4 py-4 text-center",children:l.jsx("span",{className:"text-sm font-medium",children:ae.productCount||0})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center justify-center gap-2",children:ae.platform==="manual"?l.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Manual"]}):ae.isConnected?l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Terhubung"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-400 text-sm",children:[l.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full"}),"Belum Terhubung"]})})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:ke(ae.lastSync)}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[ae.platform!=="manual"&&l.jsx("button",{onClick:()=>ee(ae),disabled:we||!ae.isActive,className:"p-2 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Sync Data",children:we?l.jsx(K0,{size:16,className:"text-green-600 animate-spin"}):l.jsx(v1,{size:16,className:"text-green-600"})}),ae.platform!=="manual"&&!ae.isConnected&&l.jsx("button",{onClick:()=>fe(ae),disabled:Ae,className:"p-2 hover:bg-purple-50 rounded-lg transition-colors",title:"Hubungkan Toko",children:Ae?l.jsx(K0,{size:16,className:"text-purple-600 animate-spin"}):l.jsx(su,{size:16,className:"text-purple-600"})}),ae.platform!=="manual"&&ae.isConnected&&l.jsx("button",{onClick:()=>U(ae),disabled:Ae,className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Test Koneksi",children:l.jsx(fT,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>ce(ae),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Toko",children:l.jsx(zm,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>L(ae),className:"p-2 hover:bg-yellow-50 rounded-lg transition-colors",title:ae.isActive?"Nonaktifkan":"Aktifkan",children:ae.isActive?l.jsx(KD,{size:16,className:"text-yellow-600"}):l.jsx(WD,{size:16,className:"text-green-600"})}),l.jsx("button",{onClick:()=>G(ae),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus Toko",children:l.jsx(Un,{size:16,className:"text-red-600"})})]})})]},ae.id)})})]})}),he.length>0&&l.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t text-sm text-gray-500",children:["Menampilkan ",he.length," dari ",T.length," toko"]})]}),n&&l.jsx(T_,{onClose:()=>i(!1),onSuccess:ae=>{k({type:"success",text:ae}),setTimeout(()=>k({type:"",text:""}),3e3)},userId:I==null?void 0:I.id}),o&&m&&l.jsx(R_,{store:m,onClose:()=>{d(!1),x(null)},onSuccess:ae=>{k({type:"success",text:ae}),setTimeout(()=>k({type:"",text:""}),3e3)}}),u&&l.jsx(M_,{stores:T,onClose:()=>f(!1),onComplete:ae=>{const De=ae.filter(we=>we.success).length;k({type:De>0?"success":"error",text:`Sync selesai: ${De}/${ae.length} toko berhasil`}),setTimeout(()=>k({type:"",text:""}),5e3)},updateStoreSync:Q}),h&&m&&l.jsx(F_,{platform:m.platform,onClose:()=>{p(!1),x(null)}})]})}function T_({onClose:a,onSuccess:n,userId:i}){var A;const{addStore:o}=So(),[d,u]=ie.useState(1),[f,h]=ie.useState(null),[p,m]=ie.useState({shopName:"",shopId:"",ownerName:"",partnerId:"",partnerKey:"",accessToken:"",refreshToken:"",appKey:"",appSecret:"",fsId:"",clientId:"",clientSecret:"",notes:""}),[x,b]=ie.useState(""),y=k=>{h(k),u(2)},w=k=>{if(k.preventDefault(),b(""),!p.shopName.trim()){b("Nama toko harus diisi");return}const E=o({platform:f,shopName:p.shopName.trim(),shopId:p.shopId.trim(),ownerName:p.ownerName.trim(),partnerId:p.partnerId,partnerKey:p.partnerKey,accessToken:p.accessToken,refreshToken:p.refreshToken,appKey:p.appKey,appSecret:p.appSecret,fsId:p.fsId,clientId:p.clientId,clientSecret:p.clientSecret,notes:p.notes,userId:i});if(!E.success){b(E.error);return}n(`Toko "${p.shopName}" berhasil ditambahkan`),a()},v=()=>{switch(f){case"shopee":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner ID"}),l.jsx("input",{type:"text",value:p.partnerId,onChange:k=>m({...p,partnerId:k.target.value}),className:"input",placeholder:"2014001"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID *"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"669903315"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Key"}),l.jsx("input",{type:"password",value:p.partnerKey,onChange:k=>m({...p,partnerKey:k.target.value}),className:"input",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:k=>m({...p,accessToken:k.target.value}),className:"input",placeholder:"Opsional - bisa diisi nanti"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Refresh Token"}),l.jsx("input",{type:"password",value:p.refreshToken,onChange:k=>m({...p,refreshToken:k.target.value}),className:"input",placeholder:"Opsional - bisa diisi nanti"})]})]});case"lazada":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"400626654256"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:p.appKey,onChange:k=>m({...p,appKey:k.target.value}),className:"input",placeholder:"App Key dari Lazada"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:p.appSecret,onChange:k=>m({...p,appSecret:k.target.value}),className:"input",placeholder:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:k=>m({...p,accessToken:k.target.value}),className:"input",placeholder:"Opsional"})]})]});case"tokopedia":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"7494509580045224114"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"FS ID"}),l.jsx("input",{type:"text",value:p.fsId,onChange:k=>m({...p,fsId:k.target.value}),className:"input",placeholder:"Fulfillment Service ID"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client ID"}),l.jsx("input",{type:"text",value:p.clientId,onChange:k=>m({...p,clientId:k.target.value}),className:"input",placeholder:"Client ID"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Secret"}),l.jsx("input",{type:"password",value:p.clientSecret,onChange:k=>m({...p,clientSecret:k.target.value}),className:"input",placeholder:""})]})]})]});case"tiktok":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:p.shopId,onChange:k=>m({...p,shopId:k.target.value}),className:"input",placeholder:"TikTok Shop ID"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:p.appKey,onChange:k=>m({...p,appKey:k.target.value}),className:"input",placeholder:"App Key"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:p.appSecret,onChange:k=>m({...p,appSecret:k.target.value}),className:"input",placeholder:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:p.accessToken,onChange:k=>m({...p,accessToken:k.target.value}),className:"input",placeholder:"Opsional"})]})]});case"manual":return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),l.jsx("textarea",{value:p.notes,onChange:k=>m({...p,notes:k.target.value}),className:"input",rows:"3",placeholder:"Catatan untuk toko ini..."})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Us,{className:"text-blue-600",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Tambah Toko Baru"}),l.jsx("p",{className:"text-sm text-gray-500",children:d===1?"Pilih platform marketplace":`Konfigurasi ${(A=va[f])==null?void 0:A.name}`})]})]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsx("div",{className:"p-6",children:d===1?l.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(va).map(([k,E])=>l.jsxs("button",{onClick:()=>y(k),className:`p-4 rounded-xl border-2 hover:border-blue-500 transition-all flex flex-col items-center gap-2 ${E.borderColor} hover:shadow-md`,children:[l.jsx("span",{className:"text-3xl",children:E.icon}),l.jsx("span",{className:`font-semibold ${E.textColor}`,children:E.name})]},k))}):l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[x&&l.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[l.jsx(wc,{size:18}),x]}),l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${va[f].bgLight} ${va[f].textColor}`,children:[l.jsx("span",{children:va[f].icon}),l.jsx("span",{className:"font-medium",children:va[f].name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Panggilan Toko *"}),l.jsx("input",{type:"text",value:p.shopName,onChange:k=>m({...p,shopName:k.target.value}),className:"input",placeholder:"Contoh: Toko Utama Shopee",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Pemilik"}),l.jsx("input",{type:"text",value:p.ownerName,onChange:k=>m({...p,ownerName:k.target.value}),className:"input",placeholder:"Nama pemilik toko"})]}),v(),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>u(1),className:"flex-1 btn btn-secondary",children:"Kembali"}),l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Tambah Toko"})]})]})})]})})}function R_({store:a,onClose:n,onSuccess:i}){var y,w,v,A,k,E,j,N,B;const{updateStore:o,updateStoreCredentials:d}=So(),u=va[a.platform]||va.manual,[f,h]=ie.useState({shopName:a.shopName||"",shopId:a.shopId||"",ownerName:a.ownerName||"",notes:a.notes||"",partnerId:((y=a.credentials)==null?void 0:y.partnerId)||"",partnerKey:((w=a.credentials)==null?void 0:w.partnerKey)||"",accessToken:((v=a.credentials)==null?void 0:v.accessToken)||"",refreshToken:((A=a.credentials)==null?void 0:A.refreshToken)||"",appKey:((k=a.credentials)==null?void 0:k.appKey)||"",appSecret:((E=a.credentials)==null?void 0:E.appSecret)||"",fsId:((j=a.credentials)==null?void 0:j.fsId)||"",clientId:((N=a.credentials)==null?void 0:N.clientId)||"",clientSecret:((B=a.credentials)==null?void 0:B.clientSecret)||""}),[p,m]=ie.useState(""),x=I=>{if(I.preventDefault(),m(""),!f.shopName.trim()){m("Nama toko harus diisi");return}o(a.id,{shopName:f.shopName.trim(),shopId:f.shopId.trim(),ownerName:f.ownerName.trim(),notes:f.notes,credentials:{partnerId:f.partnerId,partnerKey:f.partnerKey,accessToken:f.accessToken,refreshToken:f.refreshToken,appKey:f.appKey,appSecret:f.appSecret,fsId:f.fsId,clientId:f.clientId,clientSecret:f.clientSecret}}),i(`Toko "${f.shopName}" berhasil diperbarui`),n()},b=()=>{switch(a.platform){case"shopee":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner ID"}),l.jsx("input",{type:"text",value:f.partnerId,onChange:I=>h({...f,partnerId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Key"}),l.jsx("input",{type:"password",value:f.partnerKey,onChange:I=>h({...f,partnerKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Refresh Token"}),l.jsx("input",{type:"password",value:f.refreshToken,onChange:I=>h({...f,refreshToken:I.target.value}),className:"input"})]})]});case"lazada":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:f.appKey,onChange:I=>h({...f,appKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:f.appSecret,onChange:I=>h({...f,appSecret:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]})]});case"tokopedia":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"FS ID"}),l.jsx("input",{type:"text",value:f.fsId,onChange:I=>h({...f,fsId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client ID"}),l.jsx("input",{type:"text",value:f.clientId,onChange:I=>h({...f,clientId:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Secret"}),l.jsx("input",{type:"password",value:f.clientSecret,onChange:I=>h({...f,clientSecret:I.target.value}),className:"input"})]})]})]});case"tiktok":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shop ID"}),l.jsx("input",{type:"text",value:f.shopId,onChange:I=>h({...f,shopId:I.target.value}),className:"input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Key"}),l.jsx("input",{type:"text",value:f.appKey,onChange:I=>h({...f,appKey:I.target.value}),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"App Secret"}),l.jsx("input",{type:"password",value:f.appSecret,onChange:I=>h({...f,appSecret:I.target.value}),className:"input"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Token"}),l.jsx("input",{type:"password",value:f.accessToken,onChange:I=>h({...f,accessToken:I.target.value}),className:"input"})]})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${u.bgLight} rounded-lg flex items-center justify-center overflow-hidden`,children:l.jsx(Wm,{platform:a.platform,size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Toko"}),l.jsx("p",{className:"text-sm text-gray-500",children:u.name})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[p&&l.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[l.jsx(wc,{size:18}),p]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Panggilan Toko *"}),l.jsx("input",{type:"text",value:f.shopName,onChange:I=>h({...f,shopName:I.target.value}),className:"input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nama Pemilik"}),l.jsx("input",{type:"text",value:f.ownerName,onChange:I=>h({...f,ownerName:I.target.value}),className:"input"})]}),b(),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Catatan"}),l.jsx("textarea",{value:f.notes,onChange:I=>h({...f,notes:I.target.value}),className:"input",rows:"2"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"}),l.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Simpan Perubahan"})]})]})]})})}function M_({stores:a,onClose:n,onComplete:i,updateStoreSync:o}){const[d,u]=ie.useState(!1),[f,h]=ie.useState({current:0,total:0,store:"",status:""}),[p,m]=ie.useState([]),[x,b]=ie.useState(!1),y=a.filter(v=>v.isActive&&v.platform!=="manual"),w=async()=>{u(!0),m([]);const v=await un.syncAllStores(y,A=>{h(A)});v.forEach(A=>{var k,E,j,N;A.success&&o(A.storeId,{productCount:((E=(k=A.results)==null?void 0:k.products)==null?void 0:E.count)||0,orderCount:((N=(j=A.results)==null?void 0:j.orders)==null?void 0:N.count)||0})}),m(v),b(!0),u(!1),i(v)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(v1,{className:"text-green-600",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Sinkronisasi Semua Toko"}),l.jsxs("p",{className:"text-sm text-gray-500",children:[y.length," toko aktif"]})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[!d&&!x&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xd,{size:20,className:"text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-blue-800",children:"Proses ini akan menyinkronkan produk dan pesanan dari semua toko marketplace yang aktif."}),l.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Estimasi waktu: ~",y.length*30," detik"]})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Toko yang akan disinkronkan:"}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:y.map(v=>{const A=va[v.platform];return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{children:A==null?void 0:A.icon}),l.jsx("span",{className:"text-sm",children:v.shopName})]},v.id)})})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Batal"}),l.jsxs("button",{onClick:w,disabled:y.length===0,className:"flex-1 btn btn-primary inline-flex items-center justify-center gap-2",children:[l.jsx(aT,{size:18}),"Mulai Sync"]})]})]}),d&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(K0,{size:48,className:"mx-auto text-blue-600 animate-spin mb-4"}),l.jsx("p",{className:"text-lg font-medium",children:"Sinkronisasi berlangsung..."}),l.jsxs("p",{className:"text-gray-500 mt-1",children:[f.current,"/",f.total," - ",f.store]}),l.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 rounded-full h-2 transition-all",style:{width:`${f.current/f.total*100}%`}})})]}),x&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center py-4",children:[l.jsx(Y0,{size:48,className:"mx-auto text-green-600 mb-2"}),l.jsx("p",{className:"text-lg font-medium",children:"Sinkronisasi Selesai!"})]}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.map((v,A)=>{var E,j,N,B;const k=va[v.platform];return l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${v.success?"bg-green-50":"bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:k==null?void 0:k.icon}),l.jsx("span",{className:"text-sm font-medium",children:v.storeName})]}),l.jsx("div",{className:"flex items-center gap-2",children:v.success?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-xs text-gray-600",children:[((j=(E=v.results)==null?void 0:E.products)==null?void 0:j.count)||0," produk, ",((B=(N=v.results)==null?void 0:N.orders)==null?void 0:B.count)||0," order"]}),l.jsx(Y0,{size:16,className:"text-green-600"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-red-600",children:v.error}),l.jsx(jw,{size:16,className:"text-red-600"})]})})]},A)})}),l.jsx("button",{onClick:n,className:"w-full btn btn-primary",children:"Tutup"})]})]})]})})}function F_({platform:a,onClose:n}){const i=va[a]||va.manual,o={shopee:{title:"Cara Menghubungkan Shopee",steps:[{step:1,title:"Daftar Shopee Partner",description:"Kunjungi https://partner.shopee.co.id dan daftar sebagai partner untuk mendapatkan Partner ID dan Partner Key.",link:"https://partner.shopee.co.id"},{step:2,title:"Buat Aplikasi",description:"Di dashboard partner, buat aplikasi baru dan catat App Key (Partner ID) dan App Secret (Partner Key)."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Partner ID, Shop ID, dan Partner Key di form tambah toko."},{step:4,title:"Otorisasi Toko",description:'Klik tombol "Hubungkan" untuk membuka halaman otorisasi Shopee dan izinkan akses ke toko Anda.'},{step:5,title:"Sync Data",description:"Setelah terhubung, klik tombol sync untuk mengambil data produk dan pesanan dari Shopee."}]},lazada:{title:"Cara Menghubungkan Lazada",steps:[{step:1,title:"Daftar Lazada Open Platform",description:"Kunjungi https://open.lazada.com dan daftar sebagai developer.",link:"https://open.lazada.com"},{step:2,title:"Buat Aplikasi",description:"Buat aplikasi baru di dashboard dan dapatkan App Key dan App Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Shop ID, App Key, dan App Secret di form tambah toko."},{step:4,title:"Otorisasi Seller",description:'Klik "Hubungkan" untuk login ke akun seller Lazada Anda dan izinkan akses.'},{step:5,title:"Sync Data",description:"Setelah terhubung, sinkronkan produk dan pesanan dari Lazada."}]},tokopedia:{title:"Cara Menghubungkan Tokopedia",steps:[{step:1,title:"Daftar Tokopedia Mitra",description:"Kunjungi https://developer.tokopedia.com dan daftar sebagai mitra/partner.",link:"https://developer.tokopedia.com"},{step:2,title:"Dapatkan Kredensial",description:"Setelah disetujui, Anda akan mendapat FS ID, Client ID, dan Client Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan semua kredensial di form tambah toko beserta Shop ID."},{step:4,title:"Otorisasi Toko",description:'Klik "Hubungkan" untuk mengotorisasi akses ke toko Tokopedia Anda.'},{step:5,title:"Sync Data",description:"Mulai sinkronisasi data produk dan pesanan."}]},tiktok:{title:"Cara Menghubungkan TikTok Shop",steps:[{step:1,title:"Daftar TikTok Shop Partner",description:"Kunjungi https://partner.tiktokshop.com dan daftar sebagai partner.",link:"https://partner.tiktokshop.com"},{step:2,title:"Buat Aplikasi",description:"Buat aplikasi dan dapatkan App Key serta App Secret."},{step:3,title:"Masukkan Kredensial",description:"Masukkan Shop ID, App Key, dan App Secret di form tambah toko."},{step:4,title:"Otorisasi Toko",description:'Klik "Hubungkan" untuk login ke TikTok Shop dan izinkan akses.'},{step:5,title:"Sync Data",description:"Sinkronkan data produk dan pesanan dari TikTok Shop."}]},manual:{title:"Toko Manual",steps:[{step:1,title:"Untuk Marketplace Lain",description:"Gunakan opsi ini untuk mencatat toko dari marketplace yang belum terintegrasi otomatis."},{step:2,title:"Input Manual",description:"Anda perlu menginput produk dan pesanan secara manual untuk toko ini."},{step:3,title:"Kelola Data",description:"Data toko manual dikelola terpisah dan tidak tersinkronisasi dengan marketplace."}]}},d=o[a]||o.manual;return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 ${i.bgLight} rounded-lg flex items-center justify-center overflow-hidden`,children:l.jsx(Wm,{platform:a,size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:d.title}),l.jsx("p",{className:"text-sm text-gray-500",children:"Panduan langkah demi langkah"})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[d.steps.map((u,f)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full ${i.bgLight} ${i.textColor} flex items-center justify-center font-bold`,children:u.step}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description}),u.link&&l.jsxs("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 text-sm ${i.textColor} hover:underline mt-2`,children:[l.jsx(V0,{size:14}),"Kunjungi"]})]})]},f)),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(wc,{size:18,className:"text-yellow-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-yellow-800",children:[l.jsx("p",{className:"font-medium",children:"Catatan Penting:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[l.jsx("li",{children:"Proses approval bisa memakan waktu 1-7 hari kerja"}),l.jsx("li",{children:"Pastikan toko Anda aktif dan memiliki izin usaha"}),l.jsx("li",{children:"Access token perlu diperbarui secara berkala"})]})]})]})}),l.jsx("button",{onClick:n,className:"w-full btn btn-primary mt-4",children:"Mengerti"})]})]})})}function __(){const a=ko(),[n,i]=ie.useState(""),[o,d]=ie.useState("all"),[u,f]=ie.useState("all"),[h,p]=ie.useState(1),[m,x]=ie.useState(20),[b,y]=ie.useState(!1),[w,v]=ie.useState(""),{transactions:A,addTransaction:k,updateTransaction:E,clearMarketplaceTransactions:j}=m1(),{stores:N,shopeeConfig:B}=So(),I=ie.useMemo(()=>A.filter(U=>U.source==="shopee"||U.source==="lazada"||U.source==="tokopedia"||U.source==="tiktok"||U.marketplaceSource),[A]),D=ie.useMemo(()=>I.filter(U=>{var ke,ae,De;const ee=!n||((ke=U.id)==null?void 0:ke.toLowerCase().includes(n.toLowerCase()))||((ae=U.transactionCode)==null?void 0:ae.toLowerCase().includes(n.toLowerCase()))||((De=U.customer)==null?void 0:De.toLowerCase().includes(n.toLowerCase()));let se=o==="all";if(!se&&o!=="all"){const we=N.find(Ae=>Ae.id===parseInt(o));we&&(se=U.source===we.platform||U.marketplaceStoreId===we.id)}let de=u==="all";return de||(u==="unpaid"?de=U.status==="pending"||U.shopeeStatus==="UNPAID":u==="ready_to_ship"?de=U.status==="ready_to_ship"||U.shopeeStatus==="READY_TO_SHIP"||U.shopeeStatus==="PROCESSED":u==="shipped"?de=U.status==="shipped"||U.shopeeStatus==="SHIPPED":u==="completed"?de=U.status==="completed"||U.shopeeStatus==="COMPLETED":u==="cancelled"?de=U.status==="cancelled"||U.status==="return"||U.isReturn===!0||U.shopeeStatus==="CANCELLED"||U.shopeeStatus==="IN_CANCEL"||U.shopeeStatus==="TO_RETURN"||U.shopeeStatus==="RETURN"||U.shopeeStatus==="REQUESTED"||U.shopeeStatus==="ACCEPTED"||U.shopeeStatus==="JUDGING"||U.shopeeStatus==="REFUND_PAID"||U.shopeeStatus==="PROCESSING":de=U.status===u),ee&&se&&de}),[I,n,o,u,N]),T=Math.ceil(D.length/m),R=D.slice((h-1)*m,h*m);console.log("All marketplace orders status:",I.map(U=>({id:U.shopeeOrderId||U.id,status:U.status,shopeeStatus:U.shopeeStatus})).slice(0,10));const $=I.length,F=I.filter(U=>U.status==="pending"||U.shopeeStatus==="UNPAID").length,_=I.filter(U=>U.status==="ready_to_ship"||U.status==="processing"||U.shopeeStatus==="READY_TO_SHIP"||U.shopeeStatus==="PROCESSED").length,Q=I.filter(U=>U.status==="shipped"||U.shopeeStatus==="SHIPPED").length,H=I.filter(U=>U.status==="completed"||U.shopeeStatus==="COMPLETED").length,J=I.filter(U=>U.status==="cancelled"||U.status==="return"||U.isReturn===!0||U.shopeeStatus==="CANCELLED"||U.shopeeStatus==="IN_CANCEL"||U.shopeeStatus==="TO_RETURN"||U.shopeeStatus==="RETURN"||U.shopeeStatus==="REQUESTED"||U.shopeeStatus==="ACCEPTED"||U.shopeeStatus==="JUDGING"||U.shopeeStatus==="REFUND_PAID"||U.shopeeStatus==="PROCESSING").length,K=I.reduce((U,ee)=>U+(ee.total||0),0),he=[{key:"all",label:"Semua",count:$},{key:"unpaid",label:"Belum Bayar",count:F},{key:"ready_to_ship",label:"Perlu Dikirim",count:_},{key:"shipped",label:"Dikirim",count:Q},{key:"completed",label:"Selesai",count:H},{key:"cancelled",label:"Pengembalian/Pembatalan",count:J}],G=async()=>{var U,ee,se,de,ke,ae;y(!0),v("Menyinkronkan pesanan...");try{const De=N.filter(Oe=>Oe.platform==="shopee"&&Oe.isActive&&Oe.isConnected);if(De.length===0){v("Tidak ada toko Shopee yang aktif"),alert("Tidak ada toko Shopee yang terhubung. Silakan hubungkan toko dulu."),y(!1);return}let we=0,Ae=0;const Le=[];for(const Oe of De){try{console.log(`Syncing orders from ${Oe.shopName} (${Oe.platform})...`);const Te=await lu.syncOrders(Oe);if(console.log("Shopee syncOrders result:",Te),console.log("Orders count:",(U=Te.data)==null?void 0:U.length),(ee=Te.data)!=null&&ee[0]&&(console.log("First order ALL FIELDS:",JSON.stringify(Te.data[0],null,2)),console.log("Order keys:",Object.keys(Te.data[0]))),Te.success&&Te.data&&Te.data.length>0)for(const Pe of Te.data){const Ze=m1.getState().transactions.find(Re=>Re.id===Pe.order_sn||Re.transactionCode===Pe.order_sn||Re.shopeeOrderId===Pe.order_sn),te={UNPAID:"pending",READY_TO_SHIP:"ready_to_ship",PROCESSED:"processing",SHIPPED:"shipped",COMPLETED:"completed",IN_CANCEL:"cancelled",CANCELLED:"cancelled",INVOICE_PENDING:"pending"},oe={id:Pe.order_sn,transactionCode:Pe.order_sn,shopeeOrderId:Pe.order_sn,source:"shopee",marketplaceSource:"shopee",marketplaceStoreId:Oe.id,storeName:Oe.shopName,customer:Pe.buyer_username||Pe.buyer_user_id||"Pembeli Shopee",total:Pe.total_amount||Pe.escrow_amount||Pe.actual_shipping_fee||0,subtotal:Pe.total_amount||0,shippingFee:Pe.actual_shipping_fee||Pe.estimated_shipping_fee||0,status:te[Pe.order_status]||((se=Pe.order_status)==null?void 0:se.toLowerCase())||"pending",shopeeStatus:Pe.order_status,date:Pe.create_time?new Date(Pe.create_time*1e3).toISOString():new Date().toISOString(),paymentMethod:Pe.payment_method||"Shopee",items:((de=Pe.item_list)==null?void 0:de.map(Re=>{var ze;return{name:Re.item_name,sku:Re.item_sku||Re.model_sku,quantity:Re.model_quantity_purchased||1,price:Re.model_discounted_price||Re.model_original_price||0,image:((ze=Re.image_info)==null?void 0:ze.image_url)||""}}))||[],createdAt:new Date().toISOString()};Ze?(E(Ze.id,oe),Ae++):(k(oe),we++)}}catch(Te){console.error(`Error syncing orders from ${Oe.shopName}:`,Te),Le.push(`${Oe.shopName}: ${Te.message}`)}try{console.log(`Syncing returns from ${Oe.shopName}...`);const Te=await lu.syncReturns(Oe);if(console.log("Shopee syncReturns full result:",JSON.stringify(Te,null,2)),console.log("Returns data length:",(ke=Te==null?void 0:Te.data)==null?void 0:ke.length),Te.success&&Te.data&&Te.data.length>0){console.log("Processing",Te.data.length,"returns...");let Pe=0;for(const Ue of Te.data){console.log("Processing return:",Ue.return_sn,Ue.status);const te=m1.getState().transactions.find(ze=>ze.returnSn===Ue.return_sn||ze.id===`RET${Ue.return_sn}`),oe={REQUESTED:"return_requested",ACCEPTED:"return_accepted",CANCELLED:"return_cancelled",JUDGING:"return_judging",REFUND_PAID:"refund_paid",CLOSED:"return_closed",PROCESSING:"return_processing"},Re={id:`RET${Ue.return_sn}`,transactionCode:Ue.order_sn||`RET${Ue.return_sn}`,returnSn:Ue.return_sn,shopeeOrderId:Ue.order_sn,source:"shopee",marketplaceSource:"shopee",marketplaceStoreId:Oe.id,storeName:Oe.shopName,customer:Ue.buyer_username||Ue.buyer_user_id||"Pembeli Shopee",total:-(Ue.refund_amount||Ue.amount||0),status:oe[Ue.status]||"return",shopeeStatus:Ue.status,returnReason:Ue.reason||Ue.text_reason,returnType:Ue.return_type,isReturn:!0,date:Ue.create_time?new Date(Ue.create_time*1e3).toISOString():new Date().toISOString(),items:((ae=Ue.item)==null?void 0:ae.map(ze=>({name:ze.name||ze.item_name,sku:ze.item_sku||ze.model_sku,quantity:ze.amount||1,price:ze.item_price||0})))||[],createdAt:new Date().toISOString()};te?E(te.id,Re):(k(Re),Pe++)}Pe>0&&console.log(`Added ${Pe} returns from ${Oe.shopName}`)}}catch(Te){console.error(`Error syncing returns from ${Oe.shopName}:`,Te)}}const xe=[];we>0&&xe.push(`${we} pesanan baru`),Ae>0&&xe.push(`${Ae} pesanan diperbarui`),xe.length>0?(v(`Berhasil: ${xe.join(", ")}`),alert(`Sinkronisasi berhasil!
${xe.join(`
`)}`)):Le.length>0?(v("Sync selesai dengan error"),alert(`Sinkronisasi selesai dengan error:
${Le.join(`
`)}`)):(v("Tidak ada pesanan baru"),alert("Sinkronisasi selesai. Tidak ada pesanan baru."))}catch(De){v("Gagal sinkronisasi: "+De.message),alert("Gagal sinkronisasi: "+De.message)}finally{y(!1)}},L=async()=>{confirm(`Hapus semua data pesanan marketplace dan sync ulang dari Shopee?

Ini akan menghapus semua pesanan marketplace yang tersimpan lokal.`)&&(j(),v("Data pesanan marketplace dihapus. Memulai sync ulang..."),setTimeout(()=>{G()},500))},ce=(U,ee)=>{const se=ee||U,de={pending:"bg-yellow-100 text-yellow-800",ready_to_ship:"bg-orange-100 text-orange-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",void:"bg-gray-100 text-gray-800",return:"bg-pink-100 text-pink-800",return_requested:"bg-pink-100 text-pink-800",return_accepted:"bg-pink-100 text-pink-800",return_judging:"bg-yellow-100 text-yellow-800",refund_paid:"bg-green-100 text-green-800",return_closed:"bg-gray-100 text-gray-800",return_processing:"bg-blue-100 text-blue-800",UNPAID:"bg-yellow-100 text-yellow-800",READY_TO_SHIP:"bg-orange-100 text-orange-800",PROCESSED:"bg-blue-100 text-blue-800",SHIPPED:"bg-purple-100 text-purple-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800",IN_CANCEL:"bg-red-100 text-red-800",TO_RETURN:"bg-pink-100 text-pink-800",RETURN:"bg-pink-100 text-pink-800",REQUESTED:"bg-pink-100 text-pink-800",ACCEPTED:"bg-pink-100 text-pink-800",JUDGING:"bg-yellow-100 text-yellow-800",REFUND_PAID:"bg-green-100 text-green-800",PROCESSING:"bg-blue-100 text-blue-800",CLOSED:"bg-gray-100 text-gray-800"},ke={pending:"Belum Bayar",ready_to_ship:"Perlu Dikirim",processing:"Diproses",shipped:"Sudah Kirim",completed:"Pesanan Diterima",cancelled:"Dibatalkan",void:"Void",return:"Pengembalian",return_requested:"Pengajuan Pengembalian",return_accepted:"Pengembalian Diterima",return_judging:"Dalam Pengecekan",refund_paid:"Dana Dikembalikan",return_closed:"Pengembalian Ditutup",return_processing:"Sedang Diproses",UNPAID:"Belum Bayar",READY_TO_SHIP:"Perlu Dikirim",PROCESSED:"Diproses",SHIPPED:"Sudah Kirim",COMPLETED:"Pesanan Diterima",CANCELLED:"Dibatalkan",IN_CANCEL:"Dalam Pembatalan",TO_RETURN:"Pengajuan Pengembalian",RETURN:"Pengembalian",REQUESTED:"Pengajuan Pengembalian",ACCEPTED:"Pengembalian Diterima",JUDGING:"Dalam Pengecekan",REFUND_PAID:"Dana Dikembalikan",PROCESSING:"Sedang Diproses",CLOSED:"Ditutup"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${de[se]||"bg-gray-100 text-gray-800"}`,children:ke[se]||se})},fe=U=>{const ee=va[U]||va.manual;return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${ee.bgLight} ${ee.textColor}`,children:ee.name})};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>a("/marketplace/integration"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(uw,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pesanan Marketplace"}),l.jsx("p",{className:"text-gray-600",children:"Kelola pesanan dari semua toko"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:L,disabled:b,className:"btn btn-outline flex items-center gap-2 text-sm",title:"Hapus semua data pesanan marketplace dan sync ulang",children:[l.jsx(Un,{size:18}),"Re-Sync"]}),l.jsxs("button",{onClick:G,disabled:b,className:"btn btn-success flex items-center gap-2",children:[l.jsx(v1,{size:20,className:b?"animate-spin":""}),"Sync Pesanan"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(vo,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pesanan"}),l.jsx("p",{className:"text-2xl font-bold",children:$})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Ps,{className:"text-orange-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Perlu Dikirim"}),l.jsx("p",{className:"text-2xl font-bold",children:_})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(T1,{className:"text-green-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Selesai"}),l.jsx("p",{className:"text-2xl font-bold",children:H})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(g1,{className:"text-purple-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Pendapatan"}),l.jsxs("p",{className:"text-xl font-bold",children:["Rp ",K.toLocaleString("id-ID")]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:l.jsx("div",{className:"flex overflow-x-auto border-b",children:he.map(U=>l.jsxs("button",{onClick:()=>{f(U.key),p(1)},className:`flex-shrink-0 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${u===U.key?"border-orange-500 text-orange-600 bg-orange-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[U.label,U.count>0&&l.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${u===U.key?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:U.count})]},U.key))})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:n,onChange:U=>{i(U.target.value),p(1)},placeholder:"Cari nomor pesanan...",className:"w-full pl-10 input"})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsx(Um,{size:20})}),l.jsxs("select",{value:o,onChange:U=>{d(U.target.value),p(1)},className:"input w-full md:w-64",children:[l.jsx("option",{value:"all",children:"Semua Toko"}),N.filter(U=>U.isActive).map(U=>l.jsxs("option",{value:U.id,children:[U.shopName," (",U.platform,")"]},U.id))]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Per halaman:"}),l.jsxs("select",{value:m,onChange:U=>{x(parseInt(U.target.value)),p(1)},className:"input w-20",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]})}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No. Pesanan"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Platform"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pelanggan"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"8",className:"px-4 py-12 text-center",children:[l.jsx(vo,{className:"mx-auto text-gray-300 mb-4",size:48}),l.jsx("p",{className:"text-gray-500",children:"Tidak ada pesanan marketplace."})]})}):R.map(U=>{var ee;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:U.shopeeOrderId||U.transactionCode||U.id}),U.source==="shopee"&&U.shopeeOrderId&&l.jsxs("a",{href:`https://seller.shopee.co.id/portal/sale/order/${U.shopeeOrderId}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-500 hover:text-orange-700 flex items-center gap-1 mt-1",children:[l.jsx(V0,{size:12}),"Buka di Shopee"]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"text-sm text-gray-600",children:new Date(U.date).toLocaleDateString("id-ID")})}),l.jsx("td",{className:"px-4 py-3",children:fe(U.source)}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("p",{className:"text-sm text-gray-900",children:typeof U.customer=="string"?U.customer:((ee=U.customer)==null?void 0:ee.name)||U.buyerUsername||"-"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"text-sm",children:U.items&&U.items.length>0?l.jsxs("div",{className:"space-y-1",children:[U.items.slice(0,2).map((se,de)=>l.jsxs("div",{className:"text-gray-700",children:[l.jsx("span",{className:"font-medium",children:se.name||se.item_name||"-"}),l.jsxs("span",{className:"text-gray-500 ml-1",children:["x",se.quantity||se.model_quantity_purchased||1]}),(se.sku||se.item_sku||se.model_sku)&&l.jsxs("span",{className:"text-gray-400 text-xs ml-1",children:["(",se.sku||se.item_sku||se.model_sku,")"]})]},de)),U.items.length>2&&l.jsxs("span",{className:"text-gray-400 text-xs",children:["+",U.items.length-2," produk lainnya"]})]}):l.jsx("span",{className:"text-gray-400",children:"-"})})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:"font-medium",children:["Rp ",(U.total||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:ce(U.status,U.shopeeStatus)}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{className:"text-primary hover:text-blue-700",title:"Lihat detail",children:l.jsx(fw,{size:18})}),U.source==="shopee"&&U.shopeeOrderId&&l.jsx("a",{href:`https://seller.shopee.co.id/portal/sale/order/${U.shopeeOrderId}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-700",title:"Buka di Shopee Seller",children:l.jsx(V0,{size:18})})]})})]},U.id)})})]})}),T>1&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-gray-50",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",(h-1)*m+1," - ",Math.min(h*m,D.length)," dari ",D.length," pesanan"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(U=>Math.max(1,U-1)),disabled:h===1,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Sebelumnya"}),l.jsxs("span",{className:"px-3 py-1 text-sm",children:["Halaman ",h," dari ",T]}),l.jsx("button",{onClick:()=>p(U=>Math.min(T,U+1)),disabled:h===T,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function P_(){const a=ko(),[n,i]=ie.useState(""),[o,d]=ie.useState("all"),[u,f]=ie.useState("all"),[h,p]=ie.useState(1),[m,x]=ie.useState(20),[b,y]=ie.useState([]),[w,v]=ie.useState(!1),[A,k]=ie.useState([]),{products:E,importShopeeProducts:j,addProduct:N,updateProduct:B}=zs(),{stores:I,updateStore:D}=So(),T=ie.useMemo(()=>E.filter(L=>L.source==="shopee"||L.source==="lazada"||L.source==="tokopedia"||L.source==="tiktok"||L.shopeeItemId||L.marketplaceSource),[E]),R=ie.useMemo(()=>T.filter(L=>{var ee,se,de;const ce=!n||((ee=L.name)==null?void 0:ee.toLowerCase().includes(n.toLowerCase()))||((se=L.sku)==null?void 0:se.toLowerCase().includes(n.toLowerCase()))||((de=L.code)==null?void 0:de.toLowerCase().includes(n.toLowerCase()));let fe=o==="all";if(!fe&&o!=="all"){const ke=I.find(ae=>ae.id===parseInt(o));ke&&(fe=L.shopName===ke.shopName||L.storeName===ke.shopName||L.source===ke.platform&&L.shopId===ke.shopId||L.marketplaceStoreId===ke.id||L.shop_name===ke.shopName)}let U=u==="all";return u==="imported"?U=L.imported===!0||L.isImported===!0:u==="not-imported"&&(U=!L.imported&&!L.isImported),ce&&fe&&U}),[T,n,o,u,I]),$=Math.ceil(R.length/m),F=R.slice((h-1)*m,h*m),_=T.length,Q=T.filter(L=>L.imported||L.isImported).length,H=I.filter(L=>L.isActive&&L.isConnected).length,J=async()=>{var ee;v(!0);const L=I.filter(se=>se.isActive&&se.isConnected);if(L.length===0){alert("Tidak ada toko yang terhubung. Silakan hubungkan toko terlebih dahulu."),v(!1);return}let ce=0,fe=0,U=[];try{for(const de of L)try{console.log(`Syncing products from ${de.shopName} (${de.platform})...`);let ke;if(de.platform==="shopee")ke=await lu.syncProducts(de);else if(de.platform==="lazada")ke=await fA.syncProducts(de);else{console.log(`Platform ${de.platform} not yet implemented for sync`);continue}if(console.log(`API returned ${((ee=ke==null?void 0:ke.data)==null?void 0:ee.length)||0} products from ${de.shopName}`),ke.success&&ke.data&&ke.data.length>0){const ae=ke.data.map(Ae=>{var xe,Oe,Te,Pe,Ue,Ze,te;Ae.models&&Ae.models.length>0&&console.log("Product with models:",Ae.item_name,Ae.models);const Le=((xe=Ae.models)==null?void 0:xe.map(oe=>{var Qe,qe,ut,mt,lt,vt,St,kt,wt;oe.price_info&&console.log("Model price_info detail:",oe.model_name,JSON.stringify(oe.price_info));const Re=Array.isArray(oe.price_info)?oe.price_info[0]:oe.price_info,ze=oe.current_price||(Re==null?void 0:Re.current_price)||(Re==null?void 0:Re.original_price)||oe.original_price||oe.price||0,Je=oe.stock||oe.current_stock||((ut=(qe=(Qe=oe.stock_info_v2)==null?void 0:Qe.seller_stock)==null?void 0:qe[0])==null?void 0:ut.stock)||((lt=(mt=oe.stock_info_v2)==null?void 0:mt.summary_info)==null?void 0:lt.total_available_stock)||((vt=oe.stock_info)==null?void 0:vt.current_stock)||0;return{modelId:oe.model_id,name:oe.model_name||oe.name||"",sku:oe.model_sku||"",price:ze,stock:Je,image:((St=oe.image)==null?void 0:St.image_url)||oe.image_url||((wt=(kt=Ae.image)==null?void 0:kt.image_url_list)==null?void 0:wt[0])||""}}))||[];return{id:Date.now()+Math.random(),code:`MKT${Ae.item_id||Ae.id||Date.now()}`,sku:Ae.item_sku||Ae.model_sku||Ae.sku||"",barcode:Ae.item_sku||"",name:Ae.item_name||Ae.name||"Unknown Product",description:Ae.description||"",category:"Marketplace",unit:"pcs",cost:0,price:Ae.current_price||((Te=(Oe=Ae.price_info)==null?void 0:Oe[0])==null?void 0:Te.current_price)||Ae.price||0,stock:Ae.current_stock||((Ue=(Pe=Ae.stock_info_v2)==null?void 0:Pe.summary_info)==null?void 0:Ue.total_available_stock)||Ae.stock||0,minStock:5,image:((te=(Ze=Ae.image)==null?void 0:Ze.image_url_list)==null?void 0:te[0])||Ae.image||"",source:de.platform,shopId:de.shopId,shopName:de.shopName,shopeeItemId:Ae.item_id,marketplaceStoreId:de.id,hasVariants:Le.length>1,variants:Le,imported:!1,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}),De=ae.filter(Ae=>Ae.hasVariants);console.log(`Products with variants: ${De.length} of ${ae.length}`),console.log(`Processing ${ae.length} products from ${de.shopName}...`);const we=[];for(const Ae of ae){const xe=zs.getState().products.find(Oe=>!!(Oe.shopeeItemId&&Oe.shopeeItemId===Ae.shopeeItemId||Ae.sku&&Ae.sku.trim()!==""&&Ae.sku.trim()!=="-"&&Oe.source===de.platform&&Oe.sku===Ae.sku));xe?(we.push({name:Ae.name,shopeeItemId:Ae.shopeeItemId,sku:Ae.sku,reason:"duplicate",matchedBy:xe.shopeeItemId===Ae.shopeeItemId?"shopeeItemId":"sku",existingId:xe.id}),B(xe.id,{name:Ae.name,price:Ae.price,stock:Ae.stock,image:Ae.image||xe.image,updatedAt:Ae.updatedAt}),fe++):(N(Ae),ce++)}we.length>0&&console.warn(`Skipped/Updated ${we.length} products (duplicates):`,we),console.log(`Sync summary for ${de.shopName}: ${ce} added, ${fe} updated, ${we.length} were duplicates`),D(de.id,{lastSync:new Date().toISOString(),productCount:ke.count||ke.data.length})}}catch(ke){console.error(`Error syncing ${de.shopName}:`,ke),U.push(`${de.shopName}: ${ke.message}`)}const se=[];ce>0&&se.push(`${ce} produk baru ditambahkan`),fe>0&&se.push(`${fe} produk diperbarui`),se.length>0?alert(`Sinkronisasi berhasil!
${se.join(`
`)}`):U.length>0?alert(`Sinkronisasi selesai dengan error:
${U.join(`
`)}`):alert("Sinkronisasi selesai. Tidak ada perubahan.")}catch(se){alert("Gagal sinkronisasi: "+se.message)}finally{v(!1)}},K=()=>{b.length===F.length?y([]):y(F.map(L=>L.id))},he=L=>{b.includes(L)?y(b.filter(ce=>ce!==L)):y([...b,L])},G=L=>{const ce=L.source||"shopee",fe=va[ce]||va.manual;return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${fe.bgLight} ${fe.textColor}`,children:fe.name})};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>a("/marketplace/integration"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(uw,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Produk Marketplace"}),l.jsx("p",{className:"text-gray-600",children:"Lihat dan impor produk dari semua toko"})]})]}),l.jsxs("button",{onClick:J,disabled:w,className:"btn btn-success flex items-center gap-2",children:[l.jsx(v1,{size:20,className:w?"animate-spin":""}),"Sync Produk"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Ps,{className:"text-blue-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),l.jsx("p",{className:"text-2xl font-bold",children:_})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Y0,{className:"text-green-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Sudah Diimpor"}),l.jsx("p",{className:"text-2xl font-bold",children:Q})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(g1,{className:"text-purple-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toko Terhubung"}),l.jsx("p",{className:"text-2xl font-bold",children:H})]})]}),l.jsxs("div",{className:"card flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Zo,{className:"text-orange-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Dipilih"}),l.jsx("p",{className:"text-2xl font-bold",children:b.length})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:n,onChange:L=>{i(L.target.value),p(1)},placeholder:"Cari nama produk atau SKU...",className:"w-full pl-10 input"})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsx(Um,{size:20})}),l.jsxs("select",{value:o,onChange:L=>{d(L.target.value),p(1)},className:"input w-full md:w-64",children:[l.jsx("option",{value:"all",children:"Semua Toko"}),I.filter(L=>L.isActive).map(L=>l.jsxs("option",{value:L.id,children:[L.shopName," (",L.platform,")"]},L.id))]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Per halaman:"}),l.jsxs("select",{value:m,onChange:L=>{x(parseInt(L.target.value)),p(1)},className:"input w-20",children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t",children:[l.jsx("button",{onClick:K,className:"text-primary hover:underline text-sm",children:b.length===F.length?"Batal Pilih":"Pilih Halaman Ini"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsxs("button",{onClick:()=>y([]),className:"text-gray-500 hover:text-gray-700 text-sm",children:["Batal Pilih (",b.length,")"]})]})]}),l.jsxs("div",{className:"card overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:b.length===F.length&&F.length>0,onChange:K,className:"rounded"})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produk"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Toko"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Harga"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Stok"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-4 py-12 text-center",children:[l.jsx(Ps,{className:"mx-auto text-gray-300 mb-4",size:48}),l.jsx("p",{className:"text-gray-500",children:"Tidak ada produk yang cocok dengan pencarian."})]})}):F.map(L=>{var ce,fe;return l.jsxs(uu.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"checkbox",checked:b.includes(L.id),onChange:()=>he(L.id),className:"rounded"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[L.image?l.jsx("img",{src:L.image,alt:L.name,className:"w-12 h-12 object-cover rounded-lg"}):l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(Ps,{className:"text-gray-400",size:20})}),l.jsxs("div",{children:[l.jsxs("div",{className:`font-medium text-gray-900 line-clamp-2 ${L.hasVariants?"cursor-pointer hover:text-primary flex items-center gap-1":""}`,onClick:()=>{L.hasVariants&&k(U=>U.includes(L.id)?U.filter(ee=>ee!==L.id):[...U,L.id])},children:[L.hasVariants&&(A.includes(L.id)?l.jsx(dw,{size:16,className:"text-primary flex-shrink-0"}):l.jsx(Om,{size:16,className:"text-gray-400 flex-shrink-0"})),L.name,L.hasVariants&&l.jsxs("span",{className:"ml-1 text-xs bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded",children:[(ce=L.variants)==null?void 0:ce.length," varian"]})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",L.shopeeItemId||L.id]})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:"text-sm font-mono",children:L.sku||"-"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[G(L),l.jsx("span",{className:"text-sm text-gray-600",children:L.shopName||L.shop_name||"-"})]})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:"font-medium",children:["Rp ",(L.price||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`font-medium ${L.stock===0?"text-red-600":L.stock<10?"text-orange-600":"text-gray-900"}`,children:L.stock||0})}),l.jsx("td",{className:"px-4 py-3 text-center",children:L.imported||L.isImported?l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[l.jsx(T1,{size:14}),"Diimpor"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-400 text-sm",children:[l.jsx(LD,{size:14}),"Belum"]})})]}),L.hasVariants&&A.includes(L.id)&&((fe=L.variants)==null?void 0:fe.map((U,ee)=>l.jsxs("tr",{className:"bg-blue-50/50",children:[l.jsx("td",{className:"px-4 py-2"}),l.jsx("td",{className:"px-4 py-2 pl-12",children:l.jsxs("div",{className:"flex items-center gap-3",children:[U.image||L.image?l.jsx("img",{src:U.image||L.image,alt:U.name,className:"w-10 h-10 object-cover rounded-lg border border-blue-200"}):l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center border border-blue-200",children:l.jsx(Ps,{className:"text-blue-400",size:16})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),l.jsx("span",{className:"text-sm text-gray-700 font-medium",children:U.name||`Varian ${ee+1}`})]})]})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:"text-sm font-mono text-gray-600",children:U.sku||"-"})}),l.jsx("td",{className:"px-4 py-2"}),l.jsx("td",{className:"px-4 py-2 text-right",children:l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Rp ",(U.price||0).toLocaleString("id-ID")]})}),l.jsx("td",{className:"px-4 py-2 text-right",children:l.jsx("span",{className:`text-sm font-medium ${U.stock===0?"text-red-600":U.stock<10?"text-orange-600":"text-gray-700"}`,children:U.stock||0})}),l.jsx("td",{className:"px-4 py-2"})]},`${L.id}-var-${ee}`)))]},L.id)})})]})}),$>1&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-gray-50",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",(h-1)*m+1," - ",Math.min(h*m,R.length)," dari ",R.length," produk"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(L=>Math.max(1,L-1)),disabled:h===1,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Sebelumnya"}),l.jsxs("span",{className:"px-3 py-1 text-sm",children:["Halaman ",h," dari ",$]}),l.jsx("button",{onClick:()=>p(L=>Math.min($,L+1)),disabled:h===$,className:"btn btn-secondary btn-sm disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function O_(){const{isAuthenticated:a}=Di();return l.jsx(OE,{children:l.jsx(TD,{children:l.jsxs(vg,{children:[l.jsx(dn,{path:"/login",element:a?l.jsx(sh,{to:"/"}):l.jsx(vT,{})}),l.jsx(dn,{path:"/marketplace/callback",element:l.jsx(B_,{})}),l.jsx(dn,{path:"/*",element:a?l.jsx(xT,{children:l.jsxs(vg,{children:[l.jsx(dn,{path:"/",element:l.jsx(bT,{})}),!P1&&l.jsx(dn,{path:"/pos",element:l.jsx(yT,{})}),P1&&l.jsx(dn,{path:"/scanner",element:l.jsx(JM,{})}),l.jsx(dn,{path:"/marketplace",element:l.jsx(sh,{to:"/marketplace/integration",replace:!0})}),l.jsx(dn,{path:"/marketplace/integration",element:l.jsx(D_,{})}),l.jsx(dn,{path:"/marketplace/orders",element:l.jsx(__,{})}),l.jsx(dn,{path:"/marketplace/products",element:l.jsx(P_,{})}),l.jsx(dn,{path:"/products",element:l.jsx(xM,{})}),l.jsx(dn,{path:"/stock",element:l.jsx(wM,{})}),l.jsx(dn,{path:"/purchases",element:l.jsx(EM,{})}),l.jsx(dn,{path:"/sales",element:l.jsx(BM,{})}),l.jsx(dn,{path:"/customers",element:l.jsx(TM,{})}),l.jsx(dn,{path:"/reports",element:l.jsx(FM,{})}),l.jsx(dn,{path:"/settings",element:l.jsx(YM,{})})]})}):l.jsx(sh,{to:"/login"})})]})})})}const n6=hl("App",{web:()=>Pu(()=>import("./web-CHAej2kW.js"),[]).then(a=>new a.AppWeb)});var N3;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(N3||(N3={}));var i6;(function(a){a.None="NONE",a.Slide="SLIDE",a.Fade="FADE"})(i6||(i6={}));const o6=hl("StatusBar"),U_=hl("SplashScreen",{web:()=>Pu(()=>import("./web-Ble9NrcN.js"),[]).then(a=>new a.SplashScreenWeb)}),z_=async()=>{try{await U_.hide(),await o6.setStyle({style:N3.Dark}),await o6.setBackgroundColor({color:"#1f2937"})}catch{console.log("Running in web mode")}},L_=async()=>{console.log("Initializing realtime sync...");try{await zs.getState().initRealtime(),await x1.getState().initRealtime(),await m1.getState().initRealtime(),console.log("Realtime sync initialized!")}catch(a){console.log("Realtime sync error (offline mode):",a)}};n6.addListener("backButton",({canGoBack:a})=>{a?window.history.back():n6.exitApp()});z_();L_();tp.createRoot(document.getElementById("root")).render(l.jsx(uu.StrictMode,{children:l.jsx(O_,{})}));export{Rb as B,Lh as C,ic as E,Fb as L,U5 as W};
